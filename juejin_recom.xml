<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ä¸€æ¯èŒ¶æ—¶é—´ï¼Œå¸¦ä½ ç”¨ RWKV å¹¶å‘æ¨¡å‹åš VS Code å¤šå€™é€‰ä»£ç è¡¥å…¨æ’ä»¶ ğŸ¤”ğŸ¤”ğŸ¤”]]></title>    <link>https://juejin.cn/post/7597641580104581174</link>    <guid>https://juejin.cn/post/7597641580104581174</guid>    <pubDate>2026-01-21T10:05:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597641580104581174" data-draft-id="7597653098563207222" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¯èŒ¶æ—¶é—´ï¼Œå¸¦ä½ ç”¨ RWKV å¹¶å‘æ¨¡å‹åš VS Code å¤šå€™é€‰ä»£ç è¡¥å…¨æ’ä»¶ ğŸ¤”ğŸ¤”ğŸ¤”"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-21T10:05:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Moment"/> <meta itemprop="url" content="https://juejin.cn/user/3782764966460398"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¯èŒ¶æ—¶é—´ï¼Œå¸¦ä½ ç”¨ RWKV å¹¶å‘æ¨¡å‹åš VS Code å¤šå€™é€‰ä»£ç è¡¥å…¨æ’ä»¶ ğŸ¤”ğŸ¤”ğŸ¤”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3782764966460398/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Moment
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T10:05:10.000Z" title="Wed Jan 21 2026 10:05:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>åœ¨å†™è¿™ä»½å®ç°æ•™ç¨‹ä¹‹å‰ï¼Œæˆ‘å·²ç»æŠŠè¯¥æ’ä»¶çš„ä¸€ä¸ªç‰ˆæœ¬å‘å¸ƒåˆ°äº† VS Code æ‰©å±•å¸‚åœºï¼Œåœ¨å¸‚åœºä¸­æœç´¢ rwkv å³å¯æ‰¾åˆ°ï¼Œä½ å¯ä»¥å…ˆå®‰è£…è¯•ç”¨ï¼Œå†å†³å®šæ˜¯å¦è·Ÿç€ä¸‹æ–‡ä»é›¶å®ç°ä¸€ç‰ˆã€‚</p>
<p>æœ¬æ–‡ä»¥è¿™æ¬¾åŸºäº RWKV æ¨¡å‹çš„æ™ºèƒ½ä»£ç è¡¥å…¨æ’ä»¶ä¸ºä¾‹ï¼Œè®²è§£ä»é›¶å®ç° VS Code æ‰©å±•çš„æ€è·¯ä¸æ­¥éª¤ï¼Œå¹¶è¯´æ˜å¦‚ä½•æ¥å…¥ rwkv_lightning åç«¯ã€‚</p>
<p>è¯¥æ’ä»¶é€šè¿‡å¹¶å‘æ¨ç†ä¸€æ¬¡è¿”å›å¤šä¸ªä¸åŒçš„è¡¥å…¨ç­”æ¡ˆä¾›é€‰æ‹©ï¼Œåœ¨ä¾§è¾¹æ å±•ç¤ºï¼Œæ–¹ä¾¿åœ¨å¤šç§å†™æ³•ä¹‹é—´å¯¹æ¯”ã€æŒ‘é€‰åå†æ’å…¥ï¼Œé€‚åˆå†™ä¸€åŠã€è®©æ¨¡å‹å¤šæƒ³å‡ ç§å®ç°çš„ç¼–ç æ–¹å¼ï¼›å…‰æ ‡åæœ‰ä»£ç æ—¶è‡ªåŠ¨èµ° FIMï¼ˆFill-in-the-Middleï¼‰æ¥å£åšä¸­é—´å¡«å……ï¼Œå¦åˆ™èµ°æ™®é€šç»­å†™ã€‚å…¨æ–‡æŒ‰åŠŸèƒ½ç›®æ ‡ã€ä»£ç å®ç°ï¼ˆé¡¹ç›®ç»“æ„ã€è¡¥å…¨è§¦å‘ã€API è°ƒç”¨ã€Webview å±•ç¤ºä¸æ’å…¥ï¼‰ã€åç«¯æ¥å…¥ç»„ç»‡ï¼Œåç«¯éƒ¨åˆ†åŒ…å«ç¡¬ä»¶è¦æ±‚ã€æ¨¡å‹å‡†å¤‡ã€ä¸ Albatross çš„å…³ç³»ã€å¯åŠ¨æœåŠ¡ã€æ¨¡å‹åŠ è½½æœºåˆ¶ã€HTTP APIã€å¿«é€Ÿæµ‹è¯•ä»¥åŠæ’ä»¶é…ç½®ä¸éªŒè¯ï¼Œæ–‡æœ«é™„å¸¸è§é—®é¢˜ã€‚</p>
<p>ä¸‹å›¾ä¸ºåœ¨ç¼–è¾‘å™¨ä¸­è§¦å‘è¡¥å…¨åï¼Œå¹¶å‘æ¨ç†å¾—åˆ°çš„å¤šä¸ªä¸åŒç­”æ¡ˆåœ¨ä¾§è¾¹æ å±•ç¤ºã€ç‚¹å‡»å³å¯æ’å…¥åˆ°å…‰æ ‡ä½ç½®çš„æƒ…å½¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/204edb80919346ae881cf6808557a21d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769594861&amp;x-signature=ezFcEpV6VInnZLGdp7VthIV88rw%3D" alt="rwkv-code-completion æ•ˆæœ" loading="lazy"/></p>
<p>å‰ç«¯é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxun082%2Frwkv-code-completion" target="_blank" title="https://github.com/xun082/rwkv-code-completion" ref="nofollow noopener noreferrer">rwkv-code-completion</a></p>
<p>åç«¯é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FRWKV-Vibe%2Frwkv_lightning" target="_blank" title="https://github.com/RWKV-Vibe/rwkv_lightning" ref="nofollow noopener noreferrer">rwkv_lightning</a></p>
<h2 data-id="heading-0">ä¸€ã€æˆ‘ä»¬è¦åšæ€æ ·çš„åŠŸèƒ½</h2>
<p>åŠ¨æ‰‹å†™ä»£ç ä¹‹å‰ï¼Œé¦–å…ˆè¦è€ƒè™‘æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªä»€ä¹ˆæ ·çš„ VS Code æ’ä»¶ï¼Œè¿™å†³å®šäº†åç»­çš„æ¶æ„ä¸å®ç°æ–¹å¼ã€‚</p>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬æƒ³åšä¸€æ¬¾æ™ºèƒ½ä»£ç è¡¥å…¨æ’ä»¶ï¼Œå¹¶äº‹å…ˆæƒ³æ¸…æ¥šå››ä»¶äº‹ã€‚è¡¥å…¨ç»“æœé€šè¿‡å¹¶å‘æ¨ç†ä¸€æ¬¡è¿”å›å¤šä¸ªä¸åŒçš„ç­”æ¡ˆï¼Œåœ¨ä¾§è¾¹æ å±•ç¤ºä¾›ç”¨æˆ·é€‰æ‹©ï¼Œç‚¹é€‰åæ’å…¥ã€‚æ ¹æ®å…‰æ ‡åæ˜¯å¦å·²æœ‰ä»£ç ï¼Œåœ¨ FIMï¼ˆFill-in-the-Middleï¼‰ä¸æ™®é€šç»­å†™ä¹‹é—´è‡ªåŠ¨åˆ‡æ¢æ¥å£ã€‚åœ¨ç©ºæ ¼ã€æ¢è¡Œã€åˆ é™¤ç­‰æ“ä½œæ—¶è‡ªåŠ¨è§¦å‘ï¼Œå¹¶åšå¥½é˜²æŠ–ä¸å–æ¶ˆï¼Œé¿å…é¢‘ç¹è¯·æ±‚ã€‚æœåŠ¡åœ°å€ã€å¯†ç ã€ç”Ÿæˆé•¿åº¦ã€é‡‡æ ·å‚æ•°ï¼ˆ<code>temperature</code>ã€<code>top_p</code>ï¼‰ã€å€™é€‰æ•°é‡ã€é˜²æŠ–å»¶è¿Ÿç­‰é€šè¿‡ VS Code è®¾ç½®æš´éœ²ã€‚æŠŠè¿™å››ä»¶äº‹çš„å¯¹åº”å…³ç³»æ¢³ç†å‡ºæ¥ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba36655dd4ce46b09b6826b0f9bf2093~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769594861&amp;x-signature=a%2BV%2F0IgB8DBDNUUIagxfb6FAux4%3D" alt="20260121175047" loading="lazy"/></p>
<p>æŠŠè¿™äº›æƒ³æ¸…æ¥šä¹‹åï¼Œå†æŒ‰ä»£ç å®ç°è¿‡ç¨‹å’Œå¦‚ä½•æ¥å…¥åç«¯ä¸¤éƒ¨åˆ†å¾€ä¸‹åšã€‚</p>
<h2 data-id="heading-1">äºŒã€ä»£ç å®ç°è¿‡ç¨‹</h2>
<h3 data-id="heading-2">2.1 é¡¹ç›®ç»“æ„</h3>
<p>ç”¨ <code>yo code</code> æˆ–æ‰‹å·¥ scaffold ä¸€ä¸ªæ‰©å±•åï¼Œæ ¸å¿ƒåªéœ€ä¸¤ä¸ªæºç æ–‡ä»¶ï¼ŒèŒè´£åˆ†å¼€ï¼Œä¸ VS Code æ‰“äº¤é“çš„æ”¾ä¸€è¾¹ï¼Œä¸åç«¯ HTTP æ‰“äº¤é“çš„æ”¾å¦ä¸€è¾¹ï¼Œæ–¹ä¾¿ç»´æŠ¤å’Œå•æµ‹ã€‚</p>
<ul>
<li><code>src/extension.ts</code> ä½œä¸ºæ’ä»¶å…¥å£ï¼Œåœ¨ <code>activate</code> é‡Œå®ç° <code>CompletionItemProvider</code>ã€æ³¨å†Œè¡¥å…¨ã€ç”¨ <code>onDidChangeTextDocument</code> ç›‘å¬ç¼–è¾‘å¹¶æŒ‰æ¡ä»¶è§¦å‘è¡¥å…¨ï¼›æ‹¿åˆ°å€™é€‰åˆ—è¡¨åï¼Œä¸å†å¾€åŸç”Ÿ suggest é‡Œå¡ï¼Œè€Œæ˜¯åˆ›å»º Webviewã€æ¸²æŸ“å¤šæ¡ç»“æœï¼Œå¹¶å¤„ç†ç”¨æˆ·ç‚¹å‡»æ’å…¥ä¸æ’å®Œå†è¡¥å…¨ã€‚</li>
<li><code>src/completionService.ts</code> è´Ÿè´£è¡¥å…¨æœåŠ¡ï¼Œæ ¹æ®æœ‰æ—  suffix é€‰æ‹©è°ƒç”¨æ™®é€šç»­å†™æ¥å£æˆ– FIM æ¥å£ï¼Œç»„è£…è¯·æ±‚ä½“ã€å‘ <code>fetch</code>ã€è§£æ <code>data.choices</code> ä¸º <code>string[]</code>ï¼Œå¹¶é€ä¼  <code>AbortSignal</code> ä»¥æ”¯æŒå–æ¶ˆã€‚</li>
</ul>
<p>ä¸¤è€…ä¸åç«¯çš„å…³ç³»å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/633e39924e8b4734a58084ffe02313bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769594861&amp;x-signature=nCLr9EHj9C39Z%2FarARAA2mvJlrU%3D" alt="20260121175344" loading="lazy"/></p>
<p>åœ¨ <code>package.json</code> é‡Œï¼Œ<code>main</code> æŒ‡å‘æ‰“åŒ…åçš„å…¥å£ï¼ˆå¦‚ <code>./dist/extension.js</code>ï¼‰ï¼ŒVS Code æŒ‰å®ƒåŠ è½½æ‰©å±•ï¼›<code>activationEvents</code> å¯è®¾ä¸º <code>onStartupFinished</code>ï¼Œè¿™æ ·åªåœ¨ IDE å°±ç»ªåæ‰æ¿€æ´»ï¼Œé¿å…å¯åŠ¨æ—¶å¡é¡¿ï¼›<code>contributes.configuration</code> å£°æ˜ <code>enabled</code>ã€<code>baseUrl</code>ã€<code>password</code>ã€<code>maxTokens</code>ã€<code>temperature</code>ã€<code>topP</code>ã€<code>numChoices</code>ã€<code>debounceDelay</code> ç­‰ï¼Œç”¨æˆ·æ”¹è®¾ç½®åå¯é€šè¿‡ <code>vscode.workspace.getConfiguration("rwkv-code-completion")</code> è¯»åˆ°ã€‚</p>
<p>æ„å»ºå¯ç”¨ esbuild æˆ– tscï¼ŒæŠŠ <code>extension.ts</code> ç­‰æ‰“å‡ºåˆ° <code>dist</code>ï¼Œè°ƒè¯•å’Œå‘å¸ƒéƒ½ä» <code>dist</code> èµ°ã€‚</p>
<h3 data-id="heading-3">2.2 æ¿€æ´»ä¸è¡¥å…¨è§¦å‘</h3>
<p>æ¿€æ´»æ—¶åœ¨ <code>activate(context)</code> é‡Œå®Œæˆä¸¤ä»¶äº‹ï¼Œä¸€æ˜¯å‘ VS Code æ³¨å†Œè°åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æä¾›è¡¥å…¨ï¼ŒäºŒæ˜¯ç›‘å¬æ–‡æ¡£å˜æ›´ï¼Œåœ¨ç‰¹å®šç¼–è¾‘åŠ¨ä½œåè‡ªåŠ¨è°ƒå‡ºè¡¥å…¨ï¼Œç”¨æˆ·ä¸å¿…æ¯æ¬¡æ‰‹åŠ¨æŒ‰ Ctrl+Spaceã€‚</p>
<p>å®ç° <code>vscode.CompletionItemProvider</code> çš„ <code>provideCompletionItems(document, position, token, context)</code>ï¼Œå†ç”¨ <code>vscode.languages.registerCompletionItemProvider</code> æŒ‚ä¸Šå»ã€‚<code>selector</code> ç”¨ <code>{ pattern: "**" }</code> è¡¨ç¤ºå¯¹æ‰€æœ‰è¯­è¨€ç”Ÿæ•ˆï¼›ç¬¬ä¸‰å‚æ•° <code>triggerChars</code> æ˜¯ä¸€ä¸²å­—ç¬¦ï¼Œå½“ç”¨æˆ·è¾“å…¥æˆ–åˆ é™¤å…¶ä¸­æŸä¸€ä¸ªæ—¶ï¼ŒVS Code ä¼šæ¥è°ƒ <code>provideCompletionItems</code>ã€‚è¿™é‡ŒæŠŠç©ºæ ¼ã€æ¢è¡Œä»¥åŠ ASCII 33â€“126ï¼ˆå¸¸è§å¯æ‰“å°å­—ç¬¦ï¼‰éƒ½æ”¾è¿›å»äº†ï¼Œè¿™æ ·åœ¨å†™ä»£ç ã€åŠ ç©ºæ ¼ã€æ¢è¡Œæ—¶éƒ½æœ‰æœºä¼šè§¦å‘ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> selector = { <span class="hljs-attr">pattern</span>: <span class="hljs-string">"**"</span> };
<span class="hljs-keyword">const</span> triggerChars = [
  <span class="hljs-string">" "</span>,
  <span class="hljs-string">"\n"</span>,
  ...<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">94</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(i + <span class="hljs-number">33</span>)),
];
vscode.<span class="hljs-property">languages</span>.<span class="hljs-title function_">registerCompletionItemProvider</span>(
  selector,
  provider,
  ...triggerChars,
);
</code></pre>
<p>å…‰æœ‰ <code>triggerChars</code> è¿˜ä¸å¤Ÿï¼Œä¾‹å¦‚ç”¨æˆ·è¾“å…¥ <code>a</code>ã€<code>b</code>ã€<code>c</code> æ—¶ä¹Ÿä¼šè§¦å‘ï¼Œå®¹æ˜“å¯¼è‡´æ•²ä¸€ä¸ªå­—æ¯å°±å‘ä¸€æ¬¡è¯·æ±‚ã€‚å› æ­¤å†åŠ ä¸€å±‚æ–‡æ¡£å˜æ›´çš„è¿‡æ»¤ï¼Œç”¨ <code>vscode.workspace.onDidChangeTextDocument</code> ç›‘å¬ï¼Œåªæœ‰åœ¨æœ¬æ¬¡ç¼–è¾‘æ˜¯åˆ é™¤ã€æ¢è¡Œæˆ–è¾“å…¥ä¸€ä¸ªç©ºæ ¼æ—¶ï¼Œæ‰åœ¨é˜²æŠ–åæ‰§è¡Œ <code>editor.action.triggerSuggest</code>ï¼Œä»è€Œé—´æ¥è°ƒç”¨ <code>provideCompletionItems</code>ã€‚è¿™æ ·å¯ä»¥æŠŠè§¦å‘æ”¶æ•›åˆ°æ›´è‡ªç„¶çš„æ–­å¥ã€æ¢è¡Œåœºæ™¯ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> shouldTrigger = event.<span class="hljs-property">contentChanges</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">change</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> isDelete = change.<span class="hljs-property">rangeLength</span> &gt; <span class="hljs-number">0</span> &amp;&amp; change.<span class="hljs-property">text</span> === <span class="hljs-string">""</span>;
  <span class="hljs-keyword">const</span> isNewline = change.<span class="hljs-property">text</span> === <span class="hljs-string">"\n"</span> || change.<span class="hljs-property">text</span> === <span class="hljs-string">"\r\n"</span>;
  <span class="hljs-keyword">const</span> isSpace = change.<span class="hljs-property">text</span> === <span class="hljs-string">" "</span>;
  <span class="hljs-keyword">return</span> isDelete || isNewline || isSpace;
});
<span class="hljs-keyword">if</span> (shouldTrigger) {
  debounceTimer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    vscode.<span class="hljs-property">commands</span>.<span class="hljs-title function_">executeCommand</span>(<span class="hljs-string">"editor.action.triggerSuggest"</span>);
  }, config.<span class="hljs-property">debounceDelay</span>);
}
</code></pre>
<p>é˜²æŠ–æ—¶é—´ç”¨ <code>config.debounceDelay</code>ï¼ˆå¦‚ 150â€“300msï¼‰ï¼Œç”¨æˆ·åœä¸€ä¼šå„¿æ‰å‘è¯·æ±‚ï¼Œå‡å°‘è¿æ‰“æ—¶çš„æ— æ•ˆè°ƒç”¨ã€‚è¿˜å¯ä»¥åŠ ä¸¤æ¡é™åˆ¶ï¼Œä¸€æ˜¯åªå¤„ç†å½“å‰æ´»åŠ¨ç¼–è¾‘å™¨çš„æ–‡æ¡£ï¼Œé¿å…åœ¨åˆ‡æ–‡ä»¶ã€åˆ†å±æ—¶è¯¯è§¦å‘ï¼ŒäºŒæ˜¯ä¸ä¸Šä¸€æ¬¡è§¦å‘è‡³å°‘é—´éš”å‡ ç™¾æ¯«ç§’ï¼Œè¿›ä¸€æ­¥é¿å…çŸ­æ—¶é—´å†…é‡å¤å¼¹è¡¥å…¨ã€‚æ•´ä½“è§¦å‘é“¾è·¯å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58439c6a7b144c7385b7a656c182ea49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769594861&amp;x-signature=IMKFrVh%2B6DNcCmXwbfnuJDZpBms%3D" alt="20260121175403" loading="lazy"/></p>
<h3 data-id="heading-4">2.3 è¡¥å…¨é€»è¾‘ä¸ API è°ƒç”¨</h3>
<p><code>provideCompletionItems</code> è¢«è°ƒç”¨åï¼Œå…ˆåšä¸€è½®è¦ä¸è¦çœŸçš„å‘è¯·æ±‚çš„è¿‡æ»¤å’ŒèŠ‚æµï¼Œå†å–ä¸Šä¸‹æ–‡ã€è°ƒåç«¯ã€æ‹¿ <code>string[]</code>ã€‚</p>
<p>æµç¨‹å¯ä»¥æ‹†æˆäº”æ­¥ã€‚ä¸€ï¼Œè¯»é…ç½®ï¼Œè‹¥ <code>enabled</code> ä¸º false ç›´æ¥ <code>return null</code>ã€‚äºŒï¼Œé˜²æŠ–ï¼Œç”¨ <code>setTimeout(..., debounceDelay)</code> æŠŠå®é™…è¯·æ±‚æ”¾åˆ°å›è°ƒé‡Œï¼›è‹¥åœ¨ç­‰å¾…æœŸé—´åˆæœ‰æ–°çš„è§¦å‘ï¼Œåˆ™ <code>clearTimeout</code> æ‰ä¸Šä¸€æ¬¡ï¼Œåªä¿ç•™æœ€åä¸€æ¬¡ï¼Œè¿™æ ·è¿ç»­è¾“å…¥æ—¶åªä¼šå‘ä¸€æ¬¡è¯·æ±‚ã€‚ä¸‰ï¼Œè‹¥æ­¤å‰å·²æœ‰è¿›è¡Œä¸­çš„ <code>fetch</code>ï¼Œç”¨ <code>AbortController.abort()</code> å–æ¶ˆï¼Œå† <code>new AbortController()</code> ç»™æœ¬æ¬¡è¯·æ±‚ç”¨ã€‚å››ï¼Œå–ä¸Šä¸‹æ–‡ï¼Œå‰ç¼€ prefix ä¸ºä»æ–‡æ¡£å¼€å¤´åˆ°å…‰æ ‡å‰çš„æ–‡æœ¬ï¼Œ<code>document.getText(new vscode.Range(0, 0, position))</code>ï¼Œè¿‡é•¿æ—¶æˆªæ–­åˆ°çº¦ 2000 å­—ç¬¦ï¼Œé¿å…è¶…è¿‡åç«¯é™åˆ¶ï¼›åç¼€ suffix ä¸ºä»å…‰æ ‡åˆ°å¾€åè‹¥å¹²è¡Œï¼ˆå¦‚ 10 è¡Œï¼‰ï¼Œä¸»è¦ç”¨æ¥åˆ¤æ–­å…‰æ ‡åæ˜¯å¦è¿˜æœ‰ä»£ç ï¼Œä»è€Œå†³å®šèµ° FIM è¿˜æ˜¯æ™®é€šç»­å†™ã€‚äº”ï¼Œè°ƒç”¨ <code>CompletionService.getCompletion(prefix, suffix, languageId, config, abortController.signal)</code>ï¼Œåœ¨ <code>withProgress</code> é‡Œå±•ç¤ºæ­£åœ¨ç”Ÿæˆ N ä¸ªè¡¥å…¨å¹¶å¯å–æ¶ˆã€‚äº”æ­¥å…³ç³»å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e33a7e192f44509a346529bb264c1d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769594861&amp;x-signature=4yhXZPjH4SP74Yr4x%2FfYRXLP2CA%3D" alt="20260121175421" loading="lazy"/></p>
<p><code>CompletionService.getCompletion</code> å†…éƒ¨æŒ‰ <code>suffix</code> æ˜¯å¦éç©ºåˆ†æ”¯ï¼Œæœ‰åç¼€åˆ™è®¤ä¸ºç”¨æˆ·åœ¨ä¸­é—´å†™ä»£ç ï¼Œèµ° FIMï¼Œå¦åˆ™èµ°æ™®é€šç»­å†™ã€‚æ¥å£é€‰æ‹©å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fb8a1e9388e46ffa144418c8455bbaf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769594861&amp;x-signature=%2FYuFsk40SPs%2FsFI74zDrgjoW9PI%3D" alt="20260121175704" loading="lazy"/></p>
<p>ä¾‹å¦‚ä¸‹é¢è¿™æ ·ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">async</span> <span class="hljs-title function_">getCompletion</span>(prefix, suffix, languageId, config, signal): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>[]&gt; {
  <span class="hljs-keyword">const</span> hasSuffix = suffix &amp;&amp; suffix.<span class="hljs-title function_">trim</span>().<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;
  <span class="hljs-keyword">return</span> hasSuffix
    ? <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">callFIMAPI</span>(prefix, suffix, config, signal)
    : <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">callCompletionAPI</span>(prefix, config, signal);
}
</code></pre>
<p>æ™®é€šè¡¥å…¨èµ° <code>callCompletionAPI</code>ï¼Œè¯·æ±‚ <code>POST {baseUrl}/v2/chat/completions</code>ã€‚body é‡Œ <code>contents</code> å¡« <code>Array(numChoices).fill(prefix)</code>ï¼Œå³åŒä¸€æ®µ prefix å¤åˆ¶å¤šä»½ï¼Œåˆ©ç”¨åç«¯æ‰¹é‡æ¥å£ä¸€æ¬¡æ¨ç†å‡ºå¤šæ¡ä¸åŒé‡‡æ ·ç»“æœï¼›å†é…ä¸Š <code>stream: false</code>ã€<code>password</code>ã€<code>max_tokens</code>ã€<code>temperature</code>ã€<code>top_p</code>ã€<code>stop_tokens</code> ç­‰ã€‚è¿”å›çš„ <code>data.choices</code> é‡Œï¼Œæ¯æ¡å– <code>choice.message?.content || choice.text</code>ï¼Œtrim æ‰é¦–å°¾ç©ºç™½å¹¶æ»¤æ‰ç©ºä¸²ï¼Œå¾—åˆ° <code>string[]</code>ã€‚</p>
<p>FIM è¡¥å…¨èµ° <code>callFIMAPI</code>ï¼Œè¯·æ±‚ <code>POST {baseUrl}/FIM/v1/batch-FIM</code>ã€‚<code>prefix</code>ã€<code>suffix</code> å„ä¸ºé•¿åº¦ä¸º 4 çš„æ•°ç»„ï¼ˆåŒä¸€ prefixã€åŒä¸€ suffix å„å¤åˆ¶ 4 ä»½ï¼‰ï¼Œå¯¹åº” 4 æ¡å¹¶å‘ä¸­é—´å¡«å……ï¼›å…¶å®ƒå‚æ•°ä¸æ™®é€šè¡¥å…¨ç±»ä¼¼ï¼Œè§£ææ–¹å¼ç›¸åŒã€‚ä¸¤å¤„éƒ½æŠŠ <code>signal</code> ä¼ ç»™ <code>fetch</code>ï¼Œè¿™æ ·åœ¨ç”¨æˆ·ç‚¹å‡»å–æ¶ˆã€æˆ–é˜²æŠ–å¯¼è‡´ä¸‹ä¸€æ¬¡è§¦å‘è€Œ <code>abort()</code> æ—¶ï¼Œæ­£åœ¨è¿›è¡Œçš„è¯·æ±‚ä¼šè¢«ä¸­æ–­ï¼Œä¸æŠŠè¿‡æ—¶ç»“æœå†å±•ç¤ºå‡ºæ¥ã€‚</p>
<h3 data-id="heading-5">2.4 Webview å±•ç¤ºä¸æ’å…¥</h3>
<p>æ‹¿åˆ° <code>string[]</code> ä¹‹åï¼Œä¸è½¬æˆ <code>CompletionItem[]</code> é€šè¿‡ <code>resolve(items)</code> å¡ç»™åŸç”Ÿ suggestï¼Œå› ä¸ºåŸç”Ÿåˆ—è¡¨å•æ¡ã€åçŸ­ï¼Œä¸”æ²¡æ³•åšå¤šåˆ—ã€ç‚¹å‡»é€‰ä¸€ç­‰è‡ªå®šä¹‰äº¤äº’ã€‚è¿™é‡Œæ”¹ä¸º <code>resolve(null)</code> è¡¨ç¤ºä¸å¾€å»ºè®®åˆ—è¡¨é‡Œå¡«ï¼ŒåŒæ—¶åœ¨ <code>withProgress</code> é‡Œè°ƒ <code>showCompletionWebview(document, position, completions, languageId)</code>ï¼Œç”¨ Webview åœ¨ä¾§è¾¹æ å±•ç¤ºå¤šæ¡å€™é€‰ï¼Œæ”¯æŒå¤šé€‰ä¸€ã€ç‚¹å³æ’ã€æ’å®Œå†è¡¥ã€‚</p>
<p>ç”¨ <code>vscode.window.createWebviewPanel</code> åˆ›å»º Webviewï¼ŒæŒ‡å®š idã€æ ‡é¢˜ã€<code>ViewColumn.Two</code> åœ¨ä¾§è¾¹æ‰“å¼€ï¼Œä»¥åŠ <code>enableScripts: true</code>ã€<code>retainContextWhenHidden: true</code> ä»¥ä¾¿è·‘è„šæœ¬å’Œåœ¨åˆ‡èµ°æ—¶ä¿ç•™çŠ¶æ€ã€‚<code>panel.webview.html</code> ç”± <code>getWebviewContent(completions, languageId)</code> ç”Ÿæˆã€‚åœ¨æ‰“å¼€é¢æ¿ä¹‹å‰ï¼Œå¿…é¡»æŠŠå½“æ—¶çš„ <code>document</code> å’Œ <code>position</code> å­˜åˆ°é—­åŒ…æˆ–å˜é‡é‡Œï¼Œå› ä¸º Webview æ˜¯å¼‚æ­¥çš„ï¼Œç”¨æˆ·å¯èƒ½åˆ‡æ–‡ä»¶ã€ç§»å…‰æ ‡ï¼Œç­‰åˆ°ç‚¹å‡»æ’å…¥æ—¶è¦ä»¥å½“åˆè§¦å‘è¡¥å…¨çš„é‚£æ¬¡ä½ç½®ä¸ºå‡†ï¼Œå¦åˆ™ä¼šæ’é”™åœ°æ–¹ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> panel = vscode.<span class="hljs-property">window</span>.<span class="hljs-title function_">createWebviewPanel</span>(
  <span class="hljs-string">"rwkvCompletion"</span>,
  <span class="hljs-string">"RWKV ä»£ç è¡¥å…¨ (N ä¸ªé€‰é¡¹)"</span>,
  vscode.<span class="hljs-property">ViewColumn</span>.<span class="hljs-property">Two</span>,
  { <span class="hljs-attr">enableScripts</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">retainContextWhenHidden</span>: <span class="hljs-literal">true</span> },
);
panel.<span class="hljs-property">webview</span>.<span class="hljs-property">html</span> = <span class="hljs-title function_">getWebviewContent</span>(completions, languageId);
</code></pre>
<p>HTML é‡Œé¡¶éƒ¨æ”¾æ ‡é¢˜ä¸ç®€çŸ­è¯´æ˜ï¼Œä¸‹é¢ä¸€ä¸ª <code>div</code> å®¹å™¨ï¼Œç”¨ <code>grid-template-columns: 1fr 1fr</code> åšå¤šåˆ—å¸ƒå±€ï¼Œæ¯ä¸ªæ ¼å­ä¸€ä¸ª <code>div.code-block</code>ï¼Œå«å°æ ‡é¢˜ï¼ˆåºå·ã€å­—ç¬¦æ•°ã€è¡Œæ•°ï¼‰å’Œ <code>&lt;pre&gt;&lt;code&gt;</code> æ”¾è¡¥å…¨å†…å®¹ã€‚è¡¥å…¨æ–‡æœ¬è¦å…ˆåš HTML è½¬ä¹‰å†æ’å…¥ï¼Œé¿å… XSSï¼›é¢œè‰²ã€èƒŒæ™¯ç”¨ <code>var(--vscode-editor-background)</code> ç­‰ï¼Œè·Ÿä¸»é¢˜ä¸€è‡´ï¼›<code>:hover</code>ã€<code>.selected</code> ç»™ä¸€ç‚¹é«˜äº®ï¼Œç‚¹çš„æ—¶å€™æœ‰åé¦ˆã€‚</p>
<p>å‰ç«¯é€šè¿‡ <code>acquireVsCodeApi()</code> æ‹¿åˆ°å’Œæ‰©å±•é€šä¿¡çš„ APIï¼Œ<code>completions</code> åœ¨ <code>getWebviewContent</code> é‡Œç”¨ JSON æ³¨å…¥åˆ°é¡µé¢ã€‚æ¯ä¸ª <code>code-block</code> ç‚¹å‡»æ—¶æ‰§è¡Œ <code>vscode.postMessage({ command: 'insert', code: completions[index] })</code>ã€‚æ‰©å±•ä¾§åœ¨ <code>panel.webview.onDidReceiveMessage</code> é‡Œç›‘å¬ï¼Œè‹¥ <code>message.command === 'insert'</code>ï¼Œå…ˆ <code>vscode.window.showTextDocument(targetDocument, ViewColumn.One)</code> æŠŠåŸæ–‡æ¡£æ¿€æ´»åˆ°ä¸»ç¼–è¾‘åŒºï¼Œå†ç”¨ <code>editor.edit(eb =&gt; eb.insert(targetPosition, message.code))</code> åœ¨äº‹å…ˆå­˜å¥½çš„ <code>targetPosition</code> æ’å…¥ï¼›æ’å…¥æˆåŠŸå <code>panel.dispose()</code> å…³æ‰ Webviewï¼Œå¹¶ <code>setTimeout(..., 300)</code> åæ‰§è¡Œ <code>editor.action.triggerSuggest</code>ï¼Œè®©å…‰æ ‡åçš„æ–°å†…å®¹å†è§¦å‘ä¸€è½®è¡¥å…¨ï¼Œå½¢æˆè¡¥å…¨ã€é€‰ä¸€ã€å†è¡¥å…¨çš„è¿è´¯ä½“éªŒã€‚ä»æ‹¿åˆ°ç»“æœåˆ°æ’å…¥å†è§¦å‘çš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa6a44c7516a40cd9787f3f5bf275f64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769594861&amp;x-signature=69lspM4ULAo%2BBYsndA1sVVPWnpQ%3D" alt="20260121175751" loading="lazy"/></p>
<p>åŸç”Ÿ suggest åªèƒ½ä¸€æ¡æ¡ã€æ ·å¼å›ºå®šï¼Œæ²¡æ³•åŒæ—¶å±•ç¤ºå¤šæ¡å¹¶å‘ç»“æœå’Œè‡ªå®šä¹‰äº¤äº’ï¼›ç”¨ Webview å¯ä»¥è‡ªå·±å¸ƒå±€ã€è‡ªå·±å¤„ç†ç‚¹å‡»å’Œæ’å…¥ï¼Œæ›´é€‚åˆå¹¶å‘æ¨ç†ã€å¤šç­”æ¡ˆé€‰ä¸€çš„ç”¨æ³•ã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€å¦‚ä½•æ¥å…¥åç«¯</h2>
<p>æ’ä»¶é€šè¿‡ HTTP è°ƒç”¨ rwkv_lightningï¼Œéœ€è¦å…ˆéƒ¨ç½²åç«¯ï¼Œå†åœ¨ VS Code é‡Œå¡«å¥½é…ç½®ã€‚æ‰©å±•è¯¦æƒ…é¡µä¼šæ ‡æ³¨åç«¯éƒ¨ç½²ä¸é…ç½®è¯´æ˜ï¼Œä¾¿äºå¿«é€Ÿä¸Šæ‰‹ï¼Œä¸‹å›¾ä¸ºæ‰©å±•å¸‚åœºä¸­çš„é¡µé¢ç¤ºæ„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c0cd18968d24494aa0d438b30343570~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769594861&amp;x-signature=6CBrZ8Y1XfuhkxwsLkGHb945vhE%3D" alt="RWKV ä»£ç è¡¥å…¨ - æ‰©å±•å¸‚åœºé¡µé¢" loading="lazy"/></p>
<p>æ¥å…¥åç«¯çš„æ•´ä½“æ­¥éª¤å¦‚ä¸‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2368205db5be412c9a22b702bcaadce5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769594861&amp;x-signature=4P2%2Fos7gF35tN%2FOhe0cnhnkQR04%3D" alt="20260121175818" loading="lazy"/></p>
<h3 data-id="heading-7">3.1 ç¡¬ä»¶è¦æ±‚</h3>
<p>é‡è¦æç¤ºï¼šæœ¬åç«¯å¿…é¡»ä½¿ç”¨ GPU åŠ é€Ÿï¼Œä¸æ”¯æŒçº¯ CPU è¿è¡Œã€‚</p>
<p>rwkv_lightning ä¾èµ–è‡ªå®šä¹‰çš„ CUDA æˆ– HIP å†…æ ¸è¿›è¡Œé«˜æ€§èƒ½æ¨ç†ï¼Œå› æ­¤éœ€è¦ä»¥ä¸‹ç¡¬ä»¶ä¹‹ä¸€ï¼š</p>
<ul>
<li>NVIDIA GPUï¼šéœ€è¦æ”¯æŒ CUDA çš„ NVIDIA æ˜¾å¡ï¼Œå¹¶å®‰è£… CUDA å·¥å…·åŒ…</li>
<li>AMD GPUï¼šéœ€è¦æ”¯æŒ ROCm çš„ AMD æ˜¾å¡ï¼Œå¹¶å®‰è£… ROCm è¿è¡Œæ—¶</li>
</ul>
<p>å¦‚æœæ‚¨åªæœ‰ CPU ç¯å¢ƒï¼Œè¯·ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fggerganov%2Fllama.cpp" target="_blank" title="https://github.com/ggerganov/llama.cpp" ref="nofollow noopener noreferrer">llama.cpp</a> è¿›è¡Œ RWKV æ¨¡å‹çš„ CPU æ¨ç†ï¼Œè¯¥é¡¹ç›®é’ˆå¯¹ CPU è¿›è¡Œäº†ä¸“é—¨ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-8">3.2 æ¨¡å‹æ–‡ä»¶å‡†å¤‡</h3>
<p>rwkv_lightning å½“å‰ä¸æä¾›è‡ªåŠ¨ä¸‹è½½åŠŸèƒ½ï¼Œéœ€è¦æ‚¨è‡ªè¡Œå‡†å¤‡æ¨¡å‹æƒé‡æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-9">ä¸‹è½½æ¨¡å‹æƒé‡</h4>
<p>RWKV-7 æ¨¡å‹çš„å®˜æ–¹æƒé‡æ‰˜ç®¡åœ¨ Hugging Face ä¸Šï¼Œæ¨èä» <code>BlinkDL/rwkv7-g1</code> ä»“åº“ä¸‹è½½ã€‚æ¨¡å‹æ–‡ä»¶æ ¼å¼ä¸º <code>.pth</code>ï¼Œä¾‹å¦‚ <code>rwkv7-g1b-1.5b-20251202-ctx8192.pth</code>ã€‚</p>
<p>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¸‹è½½ï¼š</p>
<p>æ–¹å¼ä¸€ï¼šä½¿ç”¨ huggingface-cliï¼ˆæ¨èï¼‰</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é¦–å…ˆç™»å½• Hugging Faceï¼ˆå¦‚æœªç™»å½•ï¼‰</span>
huggingface-cli login

<span class="hljs-comment"># ä¸‹è½½æ¨¡å‹æ–‡ä»¶</span>
huggingface-cli download BlinkDL/rwkv7-g1 \
  rwkv7-g1b-1.5b-20251202-ctx8192.pth \
  --local-dir /path/to/models \
  --local-dir-use-symlinks False
</code></pre>
<p>æ–¹å¼äºŒï¼šä½¿ç”¨ Python è„šæœ¬</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> hf_hub_download

model_path = hf_hub_download(
    repo_id=<span class="hljs-string">"BlinkDL/rwkv7-g1"</span>,
    filename=<span class="hljs-string">"rwkv7-g1b-1.5b-20251202-ctx8192.pth"</span>,
    local_dir=<span class="hljs-string">"/path/to/models"</span>
)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¨¡å‹å·²ä¸‹è½½åˆ°: <span class="hljs-subst">{model_path}</span>"</span>)
</code></pre>
<h4 data-id="heading-10">è·¯å¾„å‘½åè§„åˆ™</h4>
<p>å¯åŠ¨æœåŠ¡æ—¶ï¼Œ<code>--model-path</code> æ”¯æŒä¸¤ç§å†™æ³•ã€‚å†™æ³•ä¸€ï¼šä¸å¸¦åç¼€ï¼Œç¨‹åºä¼šè‡ªåŠ¨è¡¥ä¸Š <code>.pth</code>ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">--model-path /path/to/rwkv7-g1b-1.5b-20251202-ctx8192
<span class="hljs-comment"># å®é™…åŠ è½½: /path/to/rwkv7-g1b-1.5b-20251202-ctx8192.pth</span>
</code></pre>
<h3 data-id="heading-11">3.3 ä¸ Albatross çš„å…³ç³»</h3>
<p>rwkv_lightning æ˜¯åŸºäº Albatross é«˜æ•ˆæ¨ç†å¼•æ“å¼€å‘çš„ HTTP æœåŠ¡åç«¯ã€‚Albatross æ˜¯ BlinkDL å¼€å‘çš„é«˜æ€§èƒ½ RWKV æ¨ç†å¼•æ“ï¼Œä¸“æ³¨äºåº•å±‚è®¡ç®—ä¼˜åŒ–å’Œæ€§èƒ½åŸºå‡†æµ‹è¯•ã€‚</p>
<h4 data-id="heading-12">Albatross é¡¹ç›®ç®€ä»‹</h4>
<p>Albatross æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€æºé¡¹ç›®ï¼ŒGitHub åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FBlinkDL%2FAlbatross%25E3%2580%2582%25E5%25AE%2583%25E6%258F%2590%25E4%25BE%259B%25E4%25BA%2586" target="_blank" title="https://github.com/BlinkDL/Albatross%E3%80%82%E5%AE%83%E6%8F%90%E4%BE%9B%E4%BA%86" ref="nofollow noopener noreferrer">github.com/BlinkDL/Albâ€¦</a> RWKV-7 æ¨¡å‹çš„é«˜æ•ˆæ¨ç†å®ç°ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>æ‰¹é‡æ¨ç†æ”¯æŒï¼šæ”¯æŒå¤§è§„æ¨¡æ‰¹é‡å¤„ç†ï¼Œåœ¨ RTX 5090 ä¸Šå¯å®ç° 7B æ¨¡å‹ fp16 bsz960 è¶…è¿‡ 10000 token/s çš„è§£ç é€Ÿåº¦</li>
<li>æ€§èƒ½ä¼˜åŒ–ï¼šé›†æˆäº† CUDA Graphã€ç¨€ç– FFNã€è‡ªå®šä¹‰ CUDA å†…æ ¸ç­‰ä¼˜åŒ–æŠ€æœ¯</li>
<li>åŸºå‡†æµ‹è¯•å·¥å…·ï¼šæä¾›è¯¦ç»†çš„æ€§èƒ½åŸºå‡†æµ‹è¯•è„šæœ¬ï¼Œç”¨äºè¯„ä¼°ä¸åŒé…ç½®ä¸‹çš„æ¨ç†æ€§èƒ½</li>
<li>å‚è€ƒå®ç°ï¼šåŒ…å«å®Œæ•´çš„æ¨¡å‹å®ç°å’Œå·¥å…·ç±»ï¼Œå¯ä½œä¸ºå¼€å‘å‚è€ƒ</li>
</ul>
<h4 data-id="heading-13">æ€§èƒ½å‚è€ƒæ•°æ®</h4>
<p>æ ¹æ® Albatross å®˜æ–¹æµ‹è¯•ç»“æœï¼ˆRTX 5090ï¼ŒRWKV-7 7.2B fp16ï¼‰ï¼š</p>
<ul>
<li>å•æ ·æœ¬è§£ç ï¼ˆbsz=1ï¼‰ï¼š145+ token/sï¼Œä½¿ç”¨ CUDA Graph ä¼˜åŒ–åå¯è¾¾ 123+ token/s</li>
<li>æ‰¹é‡è§£ç ï¼ˆbsz=960ï¼‰ï¼š10250+ token/s</li>
<li>Prefill é˜¶æ®µï¼ˆbsz=1ï¼‰ï¼š11289 token/s</li>
<li>æ‰¹é‡è§£ç ï¼ˆbsz=320ï¼‰ï¼š5848 token/sï¼Œé€Ÿåº¦æ’å®šä¸”æ˜¾å­˜å ç”¨ç¨³å®šï¼ˆRNN ç‰¹æ€§ï¼‰</li>
</ul>
<h4 data-id="heading-14">rwkv_lightning çš„å®šä½</h4>
<p>rwkv_lightning åœ¨ Albatross çš„åŸºç¡€ä¸Šï¼Œä¸“æ³¨äºæä¾›ç”Ÿäº§çº§çš„ HTTP æ¨ç†æœåŠ¡ï¼š</p>
<ul>
<li>HTTP API æ¥å£ï¼šæä¾›å®Œæ•´çš„ RESTful APIï¼Œæ”¯æŒæµå¼å’Œéæµå¼æ¨ç†</li>
<li>çŠ¶æ€ç®¡ç†ï¼šå®ç°ä¸‰çº§ç¼“å­˜ç³»ç»Ÿï¼ˆVRAMã€RAMã€Diskï¼‰ï¼Œæ”¯æŒä¼šè¯çŠ¶æ€æŒä¹…åŒ–</li>
<li>è¿ç»­æ‰¹å¤„ç†ï¼šåŠ¨æ€ç®¡ç†æ‰¹æ¬¡ï¼Œæé«˜ GPU åˆ©ç”¨ç‡</li>
<li>å¤šæ¥å£æ”¯æŒï¼šæä¾›èŠå¤©ã€ç¿»è¯‘ã€ä»£ç è¡¥å…¨ç­‰å¤šç§åº”ç”¨åœºæ™¯çš„ä¸“ç”¨æ¥å£</li>
</ul>
<p>å¦‚æœæ‚¨éœ€è¦æ·±å…¥äº†è§£åº•å±‚å®ç°ç»†èŠ‚ã€è¿›è¡Œæ€§èƒ½è°ƒä¼˜æˆ–å¯¹æ¯”ä¸åŒä¼˜åŒ–æ–¹æ¡ˆï¼Œå»ºè®®å‚è€ƒ Albatross é¡¹ç›®çš„æºä»£ç å’ŒåŸºå‡†æµ‹è¯•è„šæœ¬ã€‚Albatross æä¾›äº†æ›´åº•å±‚çš„å®ç°ç»†èŠ‚ï¼Œè€Œ rwkv_lightning åˆ™ä¸“æ³¨äºæä¾›æ˜“ç”¨çš„æœåŠ¡åŒ–æ¥å£ã€‚</p>
<h3 data-id="heading-15">3.4 å¯åŠ¨æ¨ç†æœåŠ¡</h3>
<p>rwkv_lightning ä»¥ Robyn ç‰ˆæœ¬ä¸ºä¸»ï¼Œæä¾›å¯†ç è®¤è¯ã€å¤šæ¥å£ã€çŠ¶æ€ç®¡ç†ç­‰ç‰¹æ€§ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒä½¿ç”¨ã€‚Robyn ç‰ˆæœ¬åŠŸèƒ½æ›´å…¨é¢ï¼Œæ”¯æŒå¯†ç è®¤è¯ã€å¤šæ¥å£ã€çŠ¶æ€ç®¡ç†ç­‰é«˜çº§ç‰¹æ€§ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">python main_robyn.py --model-path /path/to/model --port 8000 --password rwkv7_7.2b
</code></pre>
<p>å¦‚æœä¸éœ€è¦å¯†ç ä¿æŠ¤ï¼Œå¯ä»¥çœç•¥ <code>--password</code> å‚æ•°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python main_robyn.py --model-path /path/to/model --port 8000
</code></pre>
<h3 data-id="heading-16">3.5 æ¨¡å‹åŠ è½½æœºåˆ¶</h3>
<p>äº†è§£æ¨¡å‹åŠ è½½æœºåˆ¶æœ‰åŠ©äºæ’æŸ¥é—®é¢˜å’Œä¼˜åŒ–æ€§èƒ½ã€‚</p>
<h4 data-id="heading-17">æƒé‡åŠ è½½æµç¨‹</h4>
<p>æ¨¡å‹ç±» <code>RWKV_x070</code> åœ¨åˆå§‹åŒ–æ—¶ä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>è¯»å–æƒé‡æ–‡ä»¶ï¼šä½¿ç”¨ <code>torch.load(args.MODEL_NAME + '.pth', map_location='cpu')</code> å°†æƒé‡åŠ è½½åˆ° CPU å†…å­˜</li>
<li>æ•°æ®ç±»å‹è½¬æ¢ï¼šå°†æƒé‡è½¬æ¢ä¸ºåŠç²¾åº¦ï¼ˆ<code>dtype=torch.half</code>ï¼‰ä»¥èŠ‚çœæ˜¾å­˜</li>
<li>è®¾å¤‡è¿ç§»ï¼šæ ¹æ®ç¡¬ä»¶å¹³å°å°†æƒé‡ç§»åŠ¨åˆ° GPU
<ul>
<li>NVIDIA GPUï¼šä½¿ç”¨ <code>device="cuda"</code></li>
<li>AMD GPUï¼šä½¿ç”¨ ROCm çš„ HIP è¿è¡Œæ—¶</li>
</ul>
</li>
</ol>
<h4 data-id="heading-18">è¯è¡¨åŠ è½½</h4>
<p>è¯è¡¨æ–‡ä»¶ <code>rwkv_batch/rwkv_vocab_v20230424.txt</code> é€šè¿‡ <code>TRIE_TOKENIZER</code> ç±»è‡ªåŠ¨åŠ è½½ã€‚TRIE æ•°æ®ç»“æ„æä¾›äº†é«˜æ•ˆçš„ token æŸ¥æ‰¾å’Œç¼–ç ã€è§£ç åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-19">CUDAã€HIP å†…æ ¸ç¼–è¯‘</h4>
<p>é¡¹ç›®åŒ…å«è‡ªå®šä¹‰çš„ CUDAï¼ˆNVIDIAï¼‰å’Œ HIPï¼ˆAMDï¼‰å†…æ ¸ï¼Œç”¨äºåŠ é€Ÿ RWKV çš„æ ¸å¿ƒè®¡ç®—ã€‚è¿™äº›å†…æ ¸åœ¨é¦–æ¬¡å¯¼å…¥ <code>rwkv_batch.rwkv7</code> æ¨¡å—æ—¶é€šè¿‡ <code>torch.utils.cpp_extension.load</code> è‡ªåŠ¨ç¼–è¯‘å’ŒåŠ è½½ï¼š</p>
<ul>
<li>CUDA å†…æ ¸ï¼š<code>rwkv_batch/cuda/rwkv7_state_fwd_fp16.cu</code></li>
<li>HIP å†…æ ¸ï¼š<code>rwkv_batch/hip/rwkv7_state_fwd_fp16.hip</code></li>
</ul>
<p>é¦–æ¬¡è¿è¡Œæ—¶ä¼šè¿›è¡Œç¼–è¯‘ï¼Œå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ã€‚ç¼–è¯‘åçš„å†…æ ¸ä¼šè¢«ç¼“å­˜ï¼Œåç»­å¯åŠ¨ä¼šæ›´å¿«ã€‚</p>
<h3 data-id="heading-20">3.6 HTTP API æ¥å£</h3>
<p>rwkv_lightning æä¾›äº†ä¸°å¯Œçš„ HTTP API æ¥å£ï¼Œæ”¯æŒå¤šç§æ¨ç†åœºæ™¯ã€‚</p>
<h4 data-id="heading-21">èŠå¤©å®Œæˆæ¥å£</h4>
<ul>
<li>v1/chat/completionsï¼šåŸºç¡€æ‰¹é‡åŒæ­¥å¤„ç†æ¥å£ï¼Œæ”¯æŒæµå¼å’Œéæµå¼è¾“å‡ºã€‚</li>
<li>v2/chat/completionsï¼šè¿ç»­æ‰¹å¤„ç†æ¥å£ï¼ŒåŠ¨æ€ç®¡ç†æ‰¹æ¬¡ä»¥æé«˜ GPU åˆ©ç”¨ç‡ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚</li>
<li>v3/chat/completionsï¼šå¼‚æ­¥æ‰¹å¤„ç†æ¥å£ï¼Œä½¿ç”¨ CUDA Graph ä¼˜åŒ–ï¼ˆbatch_size=1 æ—¶ï¼‰ï¼Œæä¾›æœ€ä½å»¶è¿Ÿã€‚</li>
</ul>
<h4 data-id="heading-22">Fill-in-the-Middle æ¥å£</h4>
<p>FIM/v1/batch-FIMï¼šæ”¯æŒä»£ç å’Œæ–‡æœ¬çš„ä¸­é—´å¡«å……è¡¥å…¨ï¼Œé€‚ç”¨äºä»£ç è¡¥å…¨ã€æ–‡æœ¬ç¼–è¾‘ç­‰åœºæ™¯ã€‚</p>
<h4 data-id="heading-23">æ‰¹é‡ç¿»è¯‘æ¥å£</h4>
<p>translate/v1/batch-translateï¼šæ‰¹é‡ç¿»è¯‘æ¥å£ï¼Œå…¼å®¹æ²‰æµ¸å¼ç¿»è¯‘æ’ä»¶çš„ API æ ¼å¼ï¼Œæ”¯æŒå¤šè¯­è¨€äº’è¯‘ã€‚</p>
<h4 data-id="heading-24">ä¼šè¯çŠ¶æ€ç®¡ç†æ¥å£</h4>
<p>state/chat/completionsï¼šæ”¯æŒä¼šè¯çŠ¶æ€ç¼“å­˜çš„å¯¹è¯æ¥å£ï¼Œå®ç°å¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡ä¿æŒã€‚çŠ¶æ€é‡‡ç”¨ä¸‰çº§ç¼“å­˜è®¾è®¡ï¼š</p>
<ul>
<li>L1 ç¼“å­˜ï¼šVRAMï¼ˆæ˜¾å­˜ï¼‰ï¼Œæœ€å¿«è®¿é—®</li>
<li>L2 ç¼“å­˜ï¼šRAMï¼ˆå†…å­˜ï¼‰ï¼Œä¸­ç­‰é€Ÿåº¦</li>
<li>L3 ç¼“å­˜ï¼šSQLite æ•°æ®åº“ï¼ˆç£ç›˜ï¼‰ï¼ŒæŒä¹…åŒ–å­˜å‚¨</li>
</ul>
<h4 data-id="heading-25">æµå¼æ¨ç†ç¤ºä¾‹</h4>
<p>ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºå¦‚ä½•ä½¿ç”¨ v2 æ¥å£è¿›è¡Œæ‰¹é‡æµå¼æ¨ç†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -N -X POST http://localhost:8000/v2/chat/completions \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "contents": [
      "English: After a blissful two weeks, Jane encounters Rochester in the gardens.\n\nChinese:",
      "English: That night, a bolt of lightning splits the same chestnut tree.\n\nChinese:"
    ],
    "max_tokens": 1024,
    "stop_tokens": [0, 261, 24281],
    "temperature": 0.8,
    "top_k": 50,
    "top_p": 0.6,
    "alpha_presence": 1.0,
    "alpha_frequency": 0.1,
    "alpha_decay": 0.99,
    "stream": true,
    "chunk_size": 128,
    "password": "rwkv7_7.2b"
  }'</span>
</code></pre>
<h3 data-id="heading-26">3.7 å¿«é€Ÿæµ‹è¯•ä¸æ€§èƒ½è¯„ä¼°</h3>
<h4 data-id="heading-27">å¿«é€Ÿæµ‹è¯•</h4>
<p>é¡¹ç›®æä¾›äº†æµ‹è¯•è„šæœ¬ï¼Œå¯ä»¥å¿«é€ŸéªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">bash ./test_curl.sh
</code></pre>
<p>è¯¥è„šæœ¬ä¼šå‘é€ç¤ºä¾‹è¯·æ±‚åˆ°æœ¬åœ°æœåŠ¡ï¼Œæ£€æŸ¥å„ä¸ªæ¥å£çš„åŸºæœ¬åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-28">æ€§èƒ½åŸºå‡†æµ‹è¯•</h4>
<p>ä½¿ç”¨ <code>benchmark.py</code> è„šæœ¬å¯ä»¥è¯„ä¼°æ¨¡å‹çš„æ¨ç†æ€§èƒ½ï¼ŒåŒ…æ‹¬ååé‡ã€å»¶è¿Ÿç­‰æŒ‡æ ‡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># éœ€è¦å…ˆä¿®æ”¹ benchmark.py ä¸­çš„æ¨¡å‹è·¯å¾„</span>
python benchmark.py
</code></pre>
<p>åŸºå‡†æµ‹è¯•ä¼šè¾“å‡ºè¯¦ç»†çš„æ€§èƒ½æŠ¥å‘Šï¼Œå¸®åŠ©æ‚¨äº†è§£æ¨¡å‹åœ¨ä¸åŒé…ç½®ä¸‹çš„è¡¨ç°ã€‚</p>
<h3 data-id="heading-29">3.8 æ’ä»¶é…ç½®</h3>
<p>åœ¨ VS Code ä¸­æ‰“å¼€è®¾ç½®ï¼ˆå¯æœç´¢ <code>rwkv-code-completion</code> æˆ–æ‰§è¡Œå‘½ä»¤ <code>RWKV: æ‰“å¼€è®¾ç½®</code>ï¼‰ï¼Œé‡ç‚¹é…ç½®ï¼š</p>








































<table><thead><tr><th>é…ç½®é¡¹</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>rwkv-code-completion.enabled</code></td><td>æ˜¯å¦å¯ç”¨è¡¥å…¨</td><td><code>true</code></td></tr><tr><td><code>rwkv-code-completion.baseUrl</code></td><td>åç«¯åŸºç¡€åœ°å€ï¼Œä¸å«è·¯å¾„</td><td><code>http://192.168.0.157:8000</code> æˆ– <code>http://localhost:8000</code></td></tr><tr><td><code>rwkv-code-completion.password</code></td><td>ä¸ <code>--password</code> ä¸€è‡´</td><td><code>rwkv7_7.2b</code></td></tr><tr><td><code>rwkv-code-completion.maxTokens</code></td><td>å•æ¬¡ç”Ÿæˆæœ€å¤§ token æ•°</td><td><code>200</code></td></tr><tr><td><code>rwkv-code-completion.numChoices</code></td><td>æ™®é€šè¡¥å…¨çš„å€™é€‰æ•°é‡ï¼ˆ1â€“50ï¼‰</td><td><code>24</code></td></tr><tr><td><code>rwkv-code-completion.debounceDelay</code></td><td>é˜²æŠ–å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰</td><td><code>150</code>â€“<code>300</code></td></tr></tbody></table>
<p><code>baseUrl</code> åªéœ€å¡« <code>http(s)://host:port</code>ï¼Œæ’ä»¶å†…éƒ¨ä¼šæ‹¼ä¸Š <code>/v2/chat/completions</code> å’Œ <code>/FIM/v1/batch-FIM</code>ã€‚è‹¥è®¾ç½®ç•Œé¢ä¸­ä»…æœ‰ <code>endpoint</code> ç­‰é¡¹ï¼Œå¯åœ¨ <code>settings.json</code> ä¸­æ‰‹åŠ¨æ·»åŠ  <code>"rwkv-code-completion.baseUrl": "http://&lt;ä¸»æœº&gt;:&lt;ç«¯å£&gt;"</code>ã€‚</p>
<h3 data-id="heading-30">3.9 éªŒè¯æ¥å…¥</h3>
<p>å¯å…ˆç”¨ <code>curl -X POST http://&lt;host&gt;:&lt;port&gt;/v2/chat/completions -H "Content-Type: application/json" -d '{"contents":["ä½ å¥½"],"max_tokens":10,"password":"&lt;ä½ çš„password&gt;"}'</code> æˆ–è¿è¡Œ <code>./test_curl.sh</code> ç¡®è®¤ v2 ä¸ FIM æ¥å£æ­£å¸¸ã€‚åœ¨ä»»æ„ä»£ç æ–‡ä»¶ä¸­è¾“å…¥ã€æ¢è¡Œæˆ–åˆ é™¤ï¼Œé˜²æŠ–ååº”å‡ºç°ã€ŒğŸ¤– RWKV æ­£åœ¨ç”Ÿæˆ N ä¸ªä»£ç è¡¥å…¨...ã€å¹¶å¼¹å‡ºä¾§è¾¹æ å±•ç¤ºå¤šä¸ªå€™é€‰ï¼›è‹¥å¤±è´¥ï¼Œå¯æŸ¥çœ‹ã€Œè¾“å‡ºã€ä¸­è¯¥æ‰©å±•çš„ channel æˆ–å¼¹çª—æŠ¥é”™ï¼Œæ£€æŸ¥ <code>baseUrl</code>ã€<code>password</code>ã€ç«¯å£ä¸é˜²ç«å¢™ã€‚</p>
<hr/>
<h2 data-id="heading-31">å››ã€å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-32">ä¸ºä½•ä¸èƒ½åœ¨ CPU ä¸Šè¿è¡Œï¼Ÿ</h3>
<p>rwkv_lightning çš„æ ¸å¿ƒè®¡ç®—ä¾èµ–è‡ªå®šä¹‰çš„ CUDAã€HIP å†…æ ¸ï¼Œè¿™äº›å†…æ ¸ä¸“é—¨ä¸º GPU å¹¶è¡Œè®¡ç®—è®¾è®¡ã€‚CPU æ— æ³•æ‰§è¡Œè¿™äº›å†…æ ¸ä»£ç ï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨ GPUã€‚å¦‚æœæ‚¨éœ€è¦åœ¨ CPU ä¸Šè¿è¡Œ RWKV æ¨¡å‹ï¼Œè¯·ä½¿ç”¨ llama.cppï¼Œå®ƒæä¾›äº†é’ˆå¯¹ CPU ä¼˜åŒ–çš„å®ç°ã€‚</p>
<h3 data-id="heading-33">æ¨¡å‹æƒé‡åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿ</h3>
<p>æ¨¡å‹æƒé‡å¯ä»¥æ”¾åœ¨ä»»ä½•å¯è®¿é—®çš„è·¯å¾„ã€‚å¯åŠ¨æœåŠ¡æ—¶é€šè¿‡ <code>--model-path</code> å‚æ•°æŒ‡å®šè·¯å¾„å³å¯ã€‚è·¯å¾„å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„ï¼Œç¨‹åºä¼šè‡ªåŠ¨å¤„ç† <code>.pth</code> åç¼€çš„æ·»åŠ ã€‚</p>
<h3 data-id="heading-34">é¦–æ¬¡å¯åŠ¨ä¸ºä»€ä¹ˆå¾ˆæ…¢ï¼Ÿ</h3>
<p>é¦–æ¬¡å¯åŠ¨æ—¶ä¼šç¼–è¯‘ CUDAã€HIP å†…æ ¸ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿã€‚ç¼–è¯‘åçš„å†…æ ¸ä¼šè¢«ç¼“å­˜ï¼Œåç»­å¯åŠ¨ä¼šå¿«å¾ˆå¤šã€‚å¦‚æœå¸Œæœ›è¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ <code>torch.compile</code> æ¨¡å¼ï¼ˆè¯¦è§ README.md ä¸­çš„ Tips éƒ¨åˆ†ï¼‰ã€‚</p>
<h3 data-id="heading-35">å¦‚ä½•é€‰æ‹©åˆé€‚çš„æ¥å£ï¼Ÿ</h3>
<ul>
<li>v1ï¼šé€‚åˆç®€å•çš„æ‰¹é‡æ¨ç†éœ€æ±‚</li>
<li>v2ï¼šé€‚åˆé«˜å¹¶å‘åœºæ™¯ï¼Œéœ€è¦åŠ¨æ€æ‰¹å¤„ç†</li>
<li>v3ï¼šé€‚åˆå•è¯·æ±‚ä½å»¶è¿Ÿåœºæ™¯ï¼ˆbatch_size=1ï¼‰</li>
<li>FIMï¼šé€‚åˆä»£ç è¡¥å…¨å’Œæ–‡æœ¬ç¼–è¾‘</li>
<li>stateï¼šé€‚åˆéœ€è¦ä¿æŒä¸Šä¸‹æ–‡çš„å¯¹è¯åœºæ™¯</li>
</ul>
<p>æœ¬æ’ä»¶å·²æŒ‰ã€Œæ—  suffix ç”¨ v2ã€æœ‰ suffix ç”¨ FIMã€è‡ªåŠ¨é€‰æ‹©ã€‚</p>
<h3 data-id="heading-36">å¦‚ä½•å®ç°è‡ªåŠ¨ä¸‹è½½æ¨¡å‹ï¼Ÿ</h3>
<p>å½“å‰ç‰ˆæœ¬ä¸æä¾›å†…ç½®çš„è‡ªåŠ¨ä¸‹è½½åŠŸèƒ½ã€‚æ‚¨å¯ä»¥åœ¨å¯åŠ¨è„šæœ¬ä¸­æ·»åŠ ä¸‹è½½é€»è¾‘ï¼Œä½¿ç”¨ <code>huggingface_hub</code> åº“åœ¨å¯åŠ¨å‰æ£€æŸ¥å¹¶ä¸‹è½½æ¨¡å‹æ–‡ä»¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡å¸¦ä½ ä¸Šæ‰‹ Skillsï¼šæ„å»ºå¯å¤ç”¨çš„ AI èƒ½åŠ›ä½“ç³»]]></title>    <link>https://juejin.cn/post/7597653098563895350</link>    <guid>https://juejin.cn/post/7597653098563895350</guid>    <pubDate>2026-01-21T13:29:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597653098563895350" data-draft-id="7597693638923026495" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡å¸¦ä½ ä¸Šæ‰‹ Skillsï¼šæ„å»ºå¯å¤ç”¨çš„ AI èƒ½åŠ›ä½“ç³»"/> <meta itemprop="keywords" content="Claude,AIGC"/> <meta itemprop="datePublished" content="2026-01-21T13:29:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥‡èˆç²¾é€‰"/> <meta itemprop="url" content="https://juejin.cn/user/4388906147515367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡å¸¦ä½ ä¸Šæ‰‹ Skillsï¼šæ„å»ºå¯å¤ç”¨çš„ AI èƒ½åŠ›ä½“ç³»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4388906147515367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥‡èˆç²¾é€‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T13:29:50.000Z" title="Wed Jan 21 2026 13:29:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ ‡å‡†åŒ–ã€å¯å¤ç”¨ã€æ¸è¿›å¼â€”â€”è®© AI é«˜æ•ˆå®Œæˆé‡å¤æ€§ä»»åŠ¡</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€ ä¸ºä»€ä¹ˆéœ€è¦ Skills</h2>
<p>åœ¨ä¼ ç»Ÿ LLM ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¾èµ– Prompt æ¥è®©æ¨¡å‹å®Œæˆä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š</p>
<blockquote>
<p>"ä½ æ˜¯ä¸€ä¸ªé¡¹ç›®ç»ç†ï¼Œè¯·æ ¹æ®è¾“å…¥å†…å®¹ç”Ÿæˆç¬¦åˆå…¬å¸è§„èŒƒçš„å‘¨æŠ¥â€¦â€¦"</p>
</blockquote>
<p>è¿™ç§æ–¹å¼å­˜åœ¨ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p>
<ol>
<li>
<p><strong>ä¸ç¨³å®š</strong>ï¼šæ¨¡å‹å¯¹åŒä¸€ä¸ª Prompt çš„ç†è§£å¯èƒ½ä¸åŒï¼Œè¾“å‡ºç»“æœä¸ä¸€è‡´ã€‚</p>
</li>
<li>
<p><strong>ä¸å¯å¤ç”¨</strong>ï¼šæ¯æ¬¡éƒ½è¦é‡æ–°ç¼–å†™ Promptï¼Œæ•ˆç‡ä½ã€‚</p>
</li>
<li>
<p><strong>ä¸å¯ç»„åˆ</strong>ï¼šéš¾ä»¥å°†å¤šä¸ªä»»åŠ¡æ•´åˆæˆå¤æ‚å·¥ä½œæµã€‚</p>
</li>
</ol>
<p>Claude Skills æä¾›äº†è§£å†³æ–¹æ¡ˆï¼š</p>
<blockquote>
<p><strong>Skills = å¯å¤ç”¨çš„ã€ç»“æ„åŒ–çš„ Prompt + æ‰§è¡Œè§„åˆ™ + èµ„æº</strong></p>
</blockquote>
<p>å®ƒå°†â€œå¦‚ä½•åšä¸€ä»¶äº‹â€å°è£…æˆ Claude å¯é•¿æœŸè®°ä½å’Œè°ƒç”¨çš„èƒ½åŠ›æ¨¡å—ï¼Œè®© AI çš„æ‰§è¡Œæ›´æ ‡å‡†ã€ç¨³å®šã€å¯ç»„åˆã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä»€ä¹ˆæ˜¯ Skills</h2>
<p><strong>Skills</strong> æ˜¯ Claude çš„å¯å¤ç”¨èƒ½åŠ›åŒ…ï¼Œç”¨äºå°†<strong>é¢†åŸŸçŸ¥è¯†ã€æœ€ä½³å®è·µã€å·¥ä½œæµç¨‹å’Œæ‰§è¡Œé€»è¾‘</strong>å°è£…ï¼Œä½¿ Claude é«˜è´¨é‡ã€ç¨³å®šåœ°å®Œæˆä»»åŠ¡ã€‚</p>
<h3 data-id="heading-2">1. åŸºæœ¬ç›®å½•ç»“æ„</h3>
<p>ä¸€ä¸ªæ ‡å‡†çš„ Skill é¡¹ç›®ï¼Œç›®å½•ç»“æ„æ¸…æ™°ä¸”è½»é‡åŒ–ï¼Œæ ¸å¿ƒæ–‡ä»¶ä»…1ä¸ªï¼Œå…¶ä»–å‡ä¸ºå¯é€‰è¡¥å……ï¼š</p>
<pre><code class="hljs language-text" lang="text">
my-skill/

â”œâ”€â”€ SKILL.md # å¿…éœ€ï¼šå…ƒæ•°æ® + æ‰§è¡ŒæŒ‡ä»¤

â”œâ”€â”€ scripts/ # å¯é€‰ï¼šå¯æ‰§è¡Œè„šæœ¬

â”œâ”€â”€ templates/ # å¯é€‰ï¼šæ¨¡æ¿æ–‡ä»¶

â””â”€â”€ resources/ # å¯é€‰ï¼šå…¶ä»–èµ„æºæ–‡ä»¶

</code></pre>
<h3 data-id="heading-3">2. æ ¸å¿ƒæ–‡ä»¶ SKILL.md ç¤ºä¾‹</h3>
<pre><code class="hljs language-markdown" lang="markdown">
---

name: report-automation

description: æ ¹æ®è¾“å…¥ç”Ÿæˆæ—¥æŠ¥/å‘¨æŠ¥/æœˆæŠ¥ï¼Œå¹¶æŒ‰æ¨¡æ¿è¾“å‡º Markdownã€‚

---

  

<span class="hljs-section">##  æŒ‡ä»¤</span>

<span class="hljs-bullet">1.</span> æå–å²—ä½ã€æŠ¥å‘Šç±»å‹ã€å§“åã€æ—¥æœŸå’Œå·¥ä½œå†…å®¹

<span class="hljs-bullet">2.</span> é€‰æ‹©å¯¹åº”æ¨¡æ¿

<span class="hljs-bullet">3.</span> ç”Ÿæˆç»“æ„åŒ– Markdown æŠ¥å‘Š

</code></pre>
<p>è¿™é‡Œè¦æ³¨æ„ï¼š</p>
<ul>
<li>
<p>å¤´éƒ¨çš„ name å’Œ description æ˜¯å…ƒæ•°æ®ï¼Œä¸»è¦ç”¨äº Claude å¿«é€ŸåŒ¹é…â€”â€”å½“ä½ è¾“å…¥éœ€æ±‚æ—¶ï¼ŒClaude ä¼šæ ¹æ®è¿™ä¸¤ä¸ªå­—æ®µåˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨è¯¥ Skillï¼›</p>
</li>
<li>
<p>ä¸‹æ–¹çš„â€œæ‰§è¡ŒæŒ‡ä»¤â€æ˜¯æ ¸å¿ƒï¼Œå¿…é¡»æ¸…æ™°ã€å¯è½åœ°ï¼Œç›¸å½“äºç»™ Claude å†™çš„â€œæ“ä½œæ‰‹å†Œâ€ï¼Œé¿å…æ‰§è¡Œåå·®ã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€Skills çš„ã€Œæ¸è¿›å¼æ¶æ„ã€</h2>
<p>å½“æˆ‘ä»¬éœ€è¦åŒæ—¶ç”¨åˆ°å¤šä¸ªSkillï¼ˆæ¯”å¦‚å‘¨æŠ¥ç”Ÿæˆã€éœ€æ±‚åˆ†æã€æ–‡æ¡£æ ¡éªŒï¼‰æ—¶ï¼Œç›´æ¥å…¨é‡åŠ è½½æ‰€æœ‰Skillä¼šé‡åˆ°ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯æ¸è¿›å¼æ¶æ„è¦è§£å†³çš„æ ¸å¿ƒç—›ç‚¹ï¼š</p>
<ul>
<li>
<p><strong>Tokenæ¶ˆè€—æš´æ¶¨</strong>ï¼šæ¯ä¸ªSkillåŒ…å«çš„è„šæœ¬ã€æ¨¡æ¿ç­‰éƒ½æ˜¯æ–‡æœ¬å†…å®¹ï¼Œå…¨é‡åŠ è½½ä¼šè®©å•æ¬¡è°ƒç”¨çš„Tokené‡å¤§å¹…å¢åŠ ï¼Œç›´æ¥æå‡ä½¿ç”¨æˆæœ¬ï¼›</p>
</li>
<li>
<p><strong>ä»»åŠ¡å¹²æ‰°ä¸¥é‡</strong>ï¼šæ— å…³Skillçš„å†…å®¹ä¼šå ç”¨ä¸Šä¸‹æ–‡ï¼Œæ¯”å¦‚ç”Ÿæˆå‘¨æŠ¥æ—¶åŠ è½½äº†éœ€æ±‚åˆ†æçš„è§„åˆ™ï¼Œå¯èƒ½å¯¼è‡´Claudeè¯¯è§£éœ€æ±‚ï¼Œé™ä½æ‰§è¡Œç²¾å‡†åº¦ï¼›</p>
</li>
<li>
<p><strong>é€»è¾‘å†²çªé£é™©</strong>ï¼šä¸åŒSkillçš„æ‰§è¡Œè§„åˆ™å¯èƒ½å­˜åœ¨é‡å ï¼ˆæ¯”å¦‚éƒ½æœ‰æ ¼å¼æ ¡éªŒæ­¥éª¤ï¼‰ï¼Œå…¨é‡åŠ è½½ä¼šè®©Claudeéš¾ä»¥åˆ¤æ–­æ‰§è¡Œä¼˜å…ˆçº§ï¼Œå½±å“è¾“å‡ºç¨³å®šæ€§ã€‚</p>
</li>
</ul>
<p>é’ˆå¯¹è¿™äº›é—®é¢˜ï¼ŒClaude Skillsé‡‡ç”¨**æ¸è¿›å¼æŠ«éœ²ï¼ˆProgressive Disclosureï¼‰**æ¶æ„ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯ï¼š<strong>ä¸ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰Skillå†…å®¹ï¼Œè€Œæ˜¯å…ˆåŒ¹é…éœ€æ±‚ï¼Œå†æŒ‰éœ€é€æ­¥åŠ è½½å¯¹åº”å†…å®¹</strong>ï¼Œæ ¸å¿ƒè½½ä½“æ˜¯â€œä¸‰å±‚åŠ è½½æ¨¡å‹â€ï¼š</p>
<p>| å±‚çº§ | å†…å®¹ | ä½œç”¨ |</p>
<p>|  -------  |  -------------------------------  |  --------  |</p>
<p>| Level 1ï¼ˆåˆå§‹åŠ è½½ï¼‰ | å„Skillçš„name + descriptionï¼ˆå…ƒæ•°æ®ï¼‰ |  <strong>æ„å›¾åŒ¹é…</strong>ï¼šå¿«é€ŸåŒ¹é…ç”¨æˆ·éœ€æ±‚ï¼Œç¡®å®šæ˜¯å¦éœ€è¦è°ƒç”¨æŸä¸ªSkillï¼Œä¸å ç”¨è¿‡å¤šä¸Šä¸‹æ–‡ |</p>
<p>| Level 2ï¼ˆç¡®å®šè°ƒç”¨åï¼‰ | ç›®æ ‡Skillçš„SKILL.mdæ ¸å¿ƒæ‰§è¡ŒæŒ‡ä»¤ |  <strong>æ‰§è¡Œè§„åˆ™</strong>ï¼šæ˜ç¡®è¯¥Skillçš„æ‰§è¡Œæ­¥éª¤ï¼Œå®Œæˆæ ¸å¿ƒä»»åŠ¡æµç¨‹ |</p>
<p>| Level 3ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰ | ç›®æ ‡Skillçš„scripts/ templates/ resourcesç­‰é…å¥—èµ„æº |  <strong>æŒ‰éœ€åŠ è½½</strong>ï¼šè¡¥å……è¾…åŠ©èµ„æºï¼Œä»…åœ¨éœ€è¦æ—¶åŠ è½½ï¼Œé¿å…æ— å…³å†…å®¹å¹²æ‰° |</p>
<p><strong>æ¸è¿›å¼æ¶æ„çš„æ ¸å¿ƒä¼˜åŠ¿</strong></p>
<ul>
<li>
<p><strong>æ”¯æŒå¤§é‡ Skill å…±å­˜</strong>ï¼šå³ä½¿ä½ æœ‰åå‡ ä¸ªã€å‡ åä¸ª Skillï¼Œåˆå§‹ä¹ŸåªåŠ è½½å…ƒæ•°æ®ï¼Œä¸ä¼šå æ»¡ä¸Šä¸‹æ–‡ï¼›</p>
</li>
<li>
<p><strong>å¹²æ‰°æœ€å°åŒ–</strong>ï¼šåªåŠ è½½å½“å‰ä»»åŠ¡ç›¸å…³çš„ Skill å†…å®¹ï¼Œæ‰§è¡Œæ›´ç²¾å‡†ã€æ•ˆç‡æ›´é«˜ï¼›</p>
</li>
<li>
<p><strong>å¯ç»„åˆè°ƒåº¦</strong>ï¼šå¤šä¸ª Skill å¯ä»¥æŒ‰å±‚çº§ä¾æ¬¡åŠ è½½ã€ä¸²è”æ‰§è¡Œï¼Œè½»æ¾å®ç°å¤æ‚å·¥ä½œæµã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-5">å››ã€Skills çš„ä½¿ç”¨æ–¹å¼</h2>
<p>Claude Skills æ”¯æŒä¸¤ç§ä¸»æµä½¿ç”¨æ–¹å¼ï¼Œè¦†ç›–æ—¥å¸¸åŠå…¬å’ŒæŠ€æœ¯é›†æˆåœºæ™¯ï¼š</p>
<h3 data-id="heading-6">4.1 æ¡Œé¢ç«¯ / CLI ç«¯ï¼ˆæ—¥å¸¸åŠå…¬ç”¨ï¼‰</h3>
<ul>
<li>
<p>è‡ªåŠ¨è§¦å‘ï¼šä½ è¾“å…¥éœ€æ±‚åï¼ŒClaude è‡ªåŠ¨åŒ¹é…å¯¹åº”çš„ Skillï¼ˆæ ¹æ® name + descriptionï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ï¼›</p>
</li>
<li>
<p>æ˜¾å¼è°ƒç”¨ï¼šå¦‚æœéœ€è¦æŒ‡å®š Skillï¼Œç›´æ¥è¾“å…¥/skill-name å‘½ä»¤å³å¯ï¼ˆæ¯”å¦‚ /report-automationï¼‰ï¼›</p>
</li>
<li>
<p>å‚æ•°ä¼ é€’ï¼šå¯ä»¥ç”¨è‡ªç„¶è¯­è¨€è¾“å…¥å‚æ•°ï¼ˆæ¯”å¦‚â€œç”Ÿæˆäº§å“ç»ç†çš„æœ¬å‘¨å‘¨æŠ¥ï¼Œå†…å®¹åŒ…æ‹¬ï¼šéœ€æ±‚è¯„å®¡3æ¬¡ã€åŸå‹è®¾è®¡2ä¸ªã€ç”¨æˆ·è®¿è°ˆ5äººâ€ï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨ç»“æ„åŒ–æ ¼å¼ï¼ˆå¦‚ JSONï¼‰ä¼ é€’ï¼Œæ›´ç²¾å‡†ã€‚</p>
</li>
</ul>
<h3 data-id="heading-7">4.2 API é›†æˆï¼ˆæŠ€æœ¯åŒå­¦ç”¨ï¼Œæ”¯æŒè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼‰</h3>
<p>å¦‚æœéœ€è¦æŠŠ Skill é›†æˆåˆ°è‡ªå·±çš„ç³»ç»Ÿã€å·¥å…·ä¸­ï¼Œå¯ä»¥é€šè¿‡ Claude API è°ƒç”¨ï¼Œç¤ºä¾‹ä»£ç ï¼ˆPythonï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python">
response = claude_client.messages.create(

model=<span class="hljs-string">"claude-3-opus"</span>,

messages=[{<span class="hljs-string">"role"</span>:  <span class="hljs-string">"user"</span>,  <span class="hljs-string">"content"</span>:  <span class="hljs-string">"å¸®æˆ‘ç”Ÿæˆæœ¬å‘¨çš„å‘¨æŠ¥"</span>}],

tools=[{<span class="hljs-string">"type"</span>:  <span class="hljs-string">"skill"</span>,  <span class="hljs-string">"skill_id"</span>:  <span class="hljs-string">"report-automation"</span>}]

)

</code></pre>
<blockquote>
<p>æ³¨ï¼šä½¿ç”¨å‰éœ€è¦å…ˆåœ¨ Claude å¼€å‘è€…å¹³å°åˆ›å»º Skillï¼Œè·å–å¯¹åº”çš„ skill_idï¼Œå¹¶é…ç½®å¥½ API å¯†é’¥</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">äº”ã€Demo æ¡ˆä¾‹ï¼šæ—¥æŠ¥ / å‘¨æŠ¥ / æœˆæŠ¥è‡ªåŠ¨ç”Ÿæˆ Skill</h2>
<p>è¿™é‡Œåˆ†äº«ä¸€ä¸ª Skills Demo æ¡ˆä¾‹ï¼šè‡ªåŠ¨ç”Ÿæˆæ—¥æŠ¥/å‘¨æŠ¥/æœˆæŠ¥ã€‚</p>
<h3 data-id="heading-9">1. æ˜ç¡®åŠŸèƒ½éœ€æ±‚</h3>
<ul>
<li>
<p>æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„å·¥ä½œå†…å®¹ï¼Œè‡ªåŠ¨è¯†åˆ«æŠ¥å‘Šç±»å‹ï¼ˆæ—¥/å‘¨/æœˆï¼‰ï¼›</p>
</li>
<li>
<p>æŒ‰é¢„è®¾æ¨¡æ¿ç”Ÿæˆç»“æ„åŒ– Markdown æŠ¥å‘Šï¼›</p>
</li>
<li>
<p>æ”¯æŒå°†ç”Ÿæˆçš„æŠ¥å‘Šè‡ªåŠ¨ä¸Šä¼ åˆ° S3 å­˜å‚¨ï¼Œç”Ÿæˆå¯è®¿é—®çš„é“¾æ¥ã€‚</p>
</li>
</ul>
<h3 data-id="heading-10">2. ç›®å½•ç»“æ„è®¾è®¡</h3>
<pre><code class="hljs language-text" lang="text">
report-generator/

â”œâ”€â”€ SKILL.md

â”œâ”€â”€ resources/

â”‚ â”œâ”€â”€ daily_report_template.md

â”‚ â”œâ”€â”€ weekly_report_template.md

â”‚ â””â”€â”€ monthly_report_template.md

â”œâ”€â”€ scripts/

â”‚ â””â”€â”€ upload_report.py

</code></pre>
<h3 data-id="heading-11">3. æ ¸å¿ƒæ–‡ä»¶å®ç°</h3>
<h4 data-id="heading-12">SKILL.md æ ¸å¿ƒæŒ‡ä»¤</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dc6767ae4054c1e9629fce3996f9aa1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWH6Iie57K-6YCJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606990&amp;x-signature=r4bQdITunKU8bC9seSeczzzEawE%3D" alt="SKILL.md" loading="lazy"/></p>
<h4 data-id="heading-13">scripts è„šæœ¬ <code>upload_report.py</code></h4>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">import</span> sys

<span class="hljs-keyword">import</span> os

<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path

<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

<span class="hljs-keyword">import</span> boto3

  

load_dotenv(Path(__file__).parent /  <span class="hljs-string">'.env'</span>)

  

report_type = sys.argv[<span class="hljs-number">1</span>].lower()

report_content =  <span class="hljs-built_in">open</span>(sys.argv[<span class="hljs-number">3</span>],  <span class="hljs-string">'r'</span>,  encoding=<span class="hljs-string">'utf-8'</span>).read()  <span class="hljs-keyword">if</span>  <span class="hljs-built_in">len</span>(

sys.argv)  &gt;=  <span class="hljs-number">4</span>  <span class="hljs-keyword">and</span> sys.argv[<span class="hljs-number">2</span>]  ==  <span class="hljs-string">"-f"</span>  <span class="hljs-keyword">else</span>  <span class="hljs-string">"  "</span>.join(sys.argv[<span class="hljs-number">2</span>:])

  

S3_ENDPOINT  = os.environ.get(<span class="hljs-string">"S3_ENDPOINT"</span>)

S3_BUCKET  = os.environ.get(<span class="hljs-string">"S3_BUCKET"</span>)

S3_REGION  = os.environ.get(<span class="hljs-string">"S3_REGION"</span>,  <span class="hljs-string">"us-east-1"</span>)

S3_ACCESS_KEY  = os.environ.get(<span class="hljs-string">"S3_ACCESS_KEY"</span>)

S3_SECRET_KEY  = os.environ.get(<span class="hljs-string">"S3_SECRET_KEY"</span>)

  
  

filename =  <span class="hljs-string">f"<span class="hljs-subst">{report_type}</span>/<span class="hljs-subst">{datetime.now():%Y-%m-%d}</span>/<span class="hljs-subst">{report_type}</span>_report_<span class="hljs-subst">{datetime.now():%Y%m%d_%H%M%S}</span>.md"</span>

  

client_config =  {<span class="hljs-string">'region_name'</span>:  S3_REGION,

<span class="hljs-string">'aws_access_key_id'</span>:  S3_ACCESS_KEY,  <span class="hljs-string">'aws_secret_access_key'</span>:  S3_SECRET_KEY}

<span class="hljs-keyword">if</span>  S3_ENDPOINT:

client_config[<span class="hljs-string">'endpoint_url'</span>]  =  S3_ENDPOINT

s3 = boto3.client(<span class="hljs-string">'s3'</span>,  **client_config)

  
  

<span class="hljs-keyword">try</span>:

s3.put_object(Bucket=S3_BUCKET,  Key=filename,  Body=report_content.encode(<span class="hljs-string">'utf-8'</span>),  ContentType=<span class="hljs-string">'text/markdown; charset=utf-8'</span>,

ContentEncoding=<span class="hljs-string">'utf-8'</span>,  Metadata={<span class="hljs-string">'report-type'</span>: report_type,  <span class="hljs-string">'upload-time'</span>: datetime.now().isoformat()})

<span class="hljs-comment"># ç”Ÿæˆè®¿é—®é“¾æ¥å¹¶æ‰“å°</span>

s3_url =  <span class="hljs-string">f"<span class="hljs-subst">{S3_ENDPOINT  <span class="hljs-keyword">or</span>  <span class="hljs-string">f'https://<span class="hljs-subst">{S3_BUCKET}</span>.s3.<span class="hljs-subst">{S3_REGION}</span>.amazonaws.com'</span>}</span>/<span class="hljs-subst">{filename}</span>"</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸Šä¼ æˆåŠŸ:"</span>, s3_url)

<span class="hljs-keyword">except</span>  Exception  <span class="hljs-keyword">as</span> e:

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸Šä¼ å¤±è´¥:"</span>, e)

exit(<span class="hljs-number">1</span>)

</code></pre>
<h4 data-id="heading-14">æ¨¡æ¿ç¤ºä¾‹ï¼ˆdaily.mdï¼‰</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f427851641924b7fae3b109e986ea7bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWH6Iie57K-6YCJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606990&amp;x-signature=jpCDFlLf%2BngFgRxuVN4YnnMouDk%3D" alt="daily æ¨¡ç‰ˆç¤ºä¾‹" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-15">4. æµ‹è¯•æµç¨‹</h3>
<p>æ­å»ºå®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤æ­¥æµ‹è¯•éªŒè¯ Skill æ•ˆæœï¼š</p>
<ol>
<li>è¾“å…¥å†…å®¹ï¼Œç”ŸæˆæŠ¥å‘Š</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3903b2a7fd24a8eb99b2e4c67e9ce78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWH6Iie57K-6YCJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606990&amp;x-signature=xXaM9Te9tVJ%2Foqsy6gIXElagimc%3D" alt="ç”ŸæˆæŠ¥å‘Š" loading="lazy"/></p>
<ol start="2">
<li>ä¸Šä¼ æŠ¥å‘Š</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1288cc30ec34d24a879c54e8b7e8ec5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWH6Iie57K-6YCJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769606990&amp;x-signature=0UtagOLgezXWA%2FRw4FO7%2Fv90g50%3D" alt="ä¸Šä¼ æŠ¥å‘Š" loading="lazy"/></p>
<h2 data-id="heading-16">å…­ã€Skills ä¸ MCP / Agent çš„å¯¹æ¯”</h2>
<p>å¾ˆå¤šäººä¼šæ··æ·† Skillsã€MCP å’Œ Agentï¼Œè¿™é‡Œç”¨ä¸€å¼ è¡¨æ¸…æ™°åŒºåˆ†ä¸‰è€…çš„æ ¸å¿ƒå·®å¼‚ï¼Œé¿å…ç”¨é”™åœºæ™¯ï¼š</p>
<p>| å¯¹æ¯”ç»´åº¦ | Claude Skills | MCP | Agent |</p>
<p>|  ----  |  ---------------------  |  -----------  |  ------------------------------------  |</p>
<p>| å®šä¹‰ | å¯å¤ç”¨çš„ä¸šåŠ¡èƒ½åŠ›æ¨¡å— | æ¨¡å‹è®¿é—®å¤–éƒ¨ç³»ç»Ÿçš„åè®® | æ‰§è¡Œä»»åŠ¡çš„æ™ºèƒ½ä½“ |</p>
<p>| ç›®æ ‡ | æ ‡å‡†åŒ–æµç¨‹ã€å¯å¤ç”¨ | æ‰“é€šå¤–éƒ¨æ•°æ®ä¸æ“ä½œ | è‡ªä¸»å®Œæˆå¤æ‚ä»»åŠ¡ |</p>
<p>| å·¥ä½œæ–¹å¼ | è¢«åŠ¨è§¦å‘ â†’ æ‰§è¡ŒæŒ‡ä»¤ â†’ ä½¿ç”¨æ¨¡æ¿/èµ„æº | è¯·æ±‚-å“åº”æ¨¡å¼ | ç†è§£ä»»åŠ¡ â†’ åˆ¶å®šè®¡åˆ’ â†’ è°ƒç”¨ Tools/Skills â†’ è°ƒæ•´ç­–ç•¥ |</p>
<p>| ä½¿ç”¨åœºæ™¯ | é‡å¤æ€§ã€ç»“æ„åŒ–ä»»åŠ¡ | å¤–éƒ¨æ•°æ®è®¿é—®ã€ç³»ç»Ÿæ“ä½œ | å¤æ‚ã€å¤šæ­¥éª¤ä»»åŠ¡æˆ–è·¨ç³»ç»Ÿé›†æˆ |</p>
<p>æ€»ç»“ä¸€ä¸‹ï¼šä¸‰è€…ä¸æ˜¯æ›¿ä»£å…³ç³»ï¼Œè€Œæ˜¯äº’è¡¥å…³ç³»â€”â€”Agent è´Ÿè´£â€œç»Ÿç­¹è§„åˆ’â€ï¼ŒSkills è´Ÿè´£â€œå…·ä½“æ‰§è¡Œâ€ï¼ŒMCP è´Ÿè´£â€œæ‰“é€šå¤–éƒ¨ç³»ç»Ÿâ€ï¼Œå…±åŒæ„æˆå¯æ‰©å±•çš„æ™ºèƒ½è‡ªåŠ¨åŒ–æ¶æ„ã€‚</p>
<hr/>
<h2 data-id="heading-17">ä¸ƒã€æ€»ç»“ï¼šSkills çš„æ ¸å¿ƒä»·å€¼ä¸é€‚ç”¨åœºæ™¯</h2>
<p>Claude Skills çš„æ ¸å¿ƒä»·å€¼ï¼Œåœ¨äºæŠŠâ€œäººçš„ç»éªŒå’Œæ‰§è¡Œé€»è¾‘â€è½¬åŒ–ä¸ºå¯å¤ç”¨ã€æ ‡å‡†åŒ–çš„ AI èƒ½åŠ›æ¨¡å—ï¼Œè§£å†³äº†ä¼ ç»Ÿ Prompt ä¸ç¨³å®šã€ä¸å¯å¤ç”¨ã€ä¸å¯ç»„åˆçš„ç—›ç‚¹ã€‚</p>
<p>å¦‚æœä½ æœ‰ä»¥ä¸‹ä½¿ç”¨åœºæ™¯ï¼Œå¼ºçƒˆå»ºè®®å°è¯•ç”¨ Skills ä¼˜åŒ–ï¼š</p>
<ul>
<li>
<p>éœ€è¦åå¤åšåŒç±»å‹çš„ç»“æ„åŒ–ä»»åŠ¡ï¼ˆå¦‚å†™å‘¨æŠ¥ã€æ•´ç†ä¼šè®®çºªè¦ã€æ ¼å¼åŒ–æ–‡æ¡£ï¼‰ï¼›</p>
</li>
<li>
<p>éœ€è¦å°†å¤šä¸ªç®€å•ä»»åŠ¡ä¸²è”æˆè‡ªåŠ¨åŒ–å·¥ä½œæµï¼Œæå‡æ•ˆç‡ã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-18">å…«ã€å‚è€ƒèµ„æ–™</h2>
<p>å®˜æ–¹æ–‡æ¡£
<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.claude.com%2Fdocs%2Fzh-CN%2Fagents-and-tools%2Fagent-skills%2Foverview" target="_blank" title="https://platform.claude.com/docs/zh-CN/agents-and-tools/agent-skills/overview" ref="nofollow noopener noreferrer">platform.claude.com/docs/zh-CN/â€¦</a></p>
<p>API è°ƒç”¨æŒ‡å—
<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.claude.com%2Fdocs%2Fen%2Fbuild-with-claude%2Fskills-guide" target="_blank" title="https://platform.claude.com/docs/en/build-with-claude/skills-guide" ref="nofollow noopener noreferrer">platform.claude.com/docs/en/buiâ€¦</a></p>
<p>æœ€ä½³å®è·µ
<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.claude.com%2Fdocs%2Fen%2Fagents-and-tools%2Fagent-skills%2Fbest-practices" target="_blank" title="https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices" ref="nofollow noopener noreferrer">platform.claude.com/docs/en/ageâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Code AI å¯¹è¯æŠ€å·§æ€»ç»“]]></title>    <link>https://juejin.cn/post/7597989474991783974</link>    <guid>https://juejin.cn/post/7597989474991783974</guid>    <pubDate>2026-01-22T09:16:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597989474991783974" data-draft-id="7597997108134314011" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Code AI å¯¹è¯æŠ€å·§æ€»ç»“"/> <meta itemprop="keywords" content="åç«¯,VibeCoding"/> <meta itemprop="datePublished" content="2026-01-22T09:16:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¡¦è¯´ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2212689394274136"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Code AI å¯¹è¯æŠ€å·§æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2212689394274136/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¡¦è¯´ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T09:16:09.000Z" title="Thu Jan 22 2026 09:16:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Claude Code AI å¯¹è¯æŠ€å·§æ€»ç»“</h2>
<blockquote>
<p>åŸºäº 141 ä¸ª sessionã€1342 æ¡å¯¹è¯å†å²æ•´ç†(æ•°æ®å·²è„±æ•ï¼‰</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€æ·±åº¦æ€è€ƒè§¦å‘è¯</h3>
<h4 data-id="heading-2">1. ultrathinkï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<p>è§¦å‘ Claude è¿›è¡Œæ·±åº¦åˆ†æï¼Œé€‚ç”¨äºå¤æ‚é—®é¢˜ã€‚</p>
<pre><code class="hljs">åˆ†æä¸€ä¸‹æ˜¯å¦æœ‰bug,ç‰¹åˆ«æ˜¯åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ ultrathink
é‡æ–°åˆ†æéœ€æ±‚ï¼Œè¿™æ¬¡æè¿°æ˜¯æ­£ç¡®çš„ ultrathink
åŸºäºå½“å‰åˆ†æ”¯è¿›è¡Œåˆ†æï¼Œç»™æˆ‘åˆ†é˜¶æ®µæäº¤æ–¹æ¡ˆ ultrathink
é’ˆå¯¹ç°æœ‰ä»£ç ï¼Œå†™ä¸€ä¸‹ut ultrathink
</code></pre>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¹¶å‘é—®é¢˜åˆ†æ</li>
<li>å¤æ‚ä¸šåŠ¡é€»è¾‘æ¢³ç†</li>
<li>ä»£ç é‡æ„è®¾è®¡</li>
<li>éœ€æ±‚æ‹†åˆ†æ–¹æ¡ˆ</li>
</ul>
<h4 data-id="heading-3">2. think harder</h4>
<p>æ¯” ultrathink æ›´å¼ºè°ƒ"å†æƒ³æƒ³"ï¼Œç”¨äº Claude ç¬¬ä¸€æ¬¡åˆ†æä¸åˆ°ä½æ—¶ã€‚</p>
<pre><code class="hljs">åˆ†æä¸€ä¸‹å¯èƒ½æ˜¯å“ªä¸ªåŸå› è¿‡æ»¤äº†ï¼Ÿthink harder
æ‰¾åˆ°åŸºäºæµ®åŠ¨ç¥¨ä»·çš„ç¥¨ä»·è§„åˆ™ä»£ç  think harder
åˆ†ætrain_transfer çº¿ç¨‹æ± çš„æ‰€æœ‰ä½¿ç”¨åœºæ™¯ think harder
</code></pre>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¯¹åˆæ¬¡åˆ†æç»“æœä¸æ»¡æ„</li>
<li>éœ€è¦æ›´æ·±å…¥æŒ–æ˜</li>
<li>æ’æŸ¥éšè—é—®é¢˜</li>
</ul>
<h4 data-id="heading-4">3. think / think again</h4>
<p>è½»é‡çº§æ€è€ƒè§¦å‘ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">æŸ¥çœ‹æ¯ä¸ªå¸­åˆ«çš„ä»·æ ¼å’ŒpolicyId think
think againg ultrathink  <span class="hljs-comment"># ç»„åˆä½¿ç”¨</span>
</code></pre>
<hr/>
<h3 data-id="heading-5">äºŒã€æ‰§è¡Œæ§åˆ¶æŒ‡ä»¤</h3>
<h4 data-id="heading-6">1. just do itï¼ˆç›´æ¥æ‰§è¡Œï¼‰</h4>
<p>è·³è¿‡ç¡®è®¤ï¼Œè®© Claude ç›´æ¥åŠ¨æ‰‹ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">ok, just <span class="hljs-keyword">do</span> it
æ¸ é“åä¸ºåŸæ¸ é“+<span class="hljs-string">'-NoBinding'</span>, just <span class="hljs-keyword">do</span> it
åˆ é™¤fail-fastï¼ŒcatchException just <span class="hljs-keyword">do</span> it
åœ¨concurrentåŒ…ä¸‹çš„æ‰€æœ‰æšä¸¾ç±»åŠ ä¸Šsuppresswarning all just <span class="hljs-keyword">do</span> it
</code></pre>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å·²ç¡®è®¤æ–¹æ¡ˆï¼Œæ— éœ€å†è®¨è®º</li>
<li>æ‰¹é‡ä¿®æ”¹ä»»åŠ¡</li>
<li>ç®€å•æ˜ç¡®çš„æ“ä½œ</li>
</ul>
<h4 data-id="heading-7">2. go on / retry</h4>
<p>ç»§ç»­æˆ–é‡è¯•æ“ä½œã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby">go on          <span class="hljs-comment"># ç»§ç»­ä¸Šä¸€æ­¥æ“ä½œ</span>
<span class="hljs-keyword">retry</span>          <span class="hljs-comment"># é‡è¯•ä¸Šæ¬¡å¤±è´¥çš„æ“ä½œ</span>
<span class="hljs-keyword">retry</span> again    <span class="hljs-comment"># å†æ¬¡é‡è¯•</span>
<span class="hljs-keyword">retry</span> last prompt  <span class="hljs-comment"># é‡è¯•ä¸Šä¸€ä¸ªæç¤º</span>
</code></pre>
<h4 data-id="heading-8">3. yes / y</h4>
<p>ç¡®è®¤æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">yes</span>
y
1. <span class="hljs-built_in">yes</span> 2. ä½ å¸®æˆ‘æ·»åŠ ä¸€ä¸‹å§
</code></pre>
<hr/>
<h3 data-id="heading-9">ä¸‰ã€å¸¸ç”¨ Slash å‘½ä»¤</h3>


















































<table><thead><tr><th>å‘½ä»¤</th><th>ç”¨é€”</th><th>ä½¿ç”¨é¢‘ç‡</th></tr></thead><tbody><tr><td><code>/clear</code></td><td>æ¸…ç©ºå½“å‰å¯¹è¯</td><td>â­â­â­â­â­ (128æ¬¡)</td></tr><tr><td><code>/exit</code></td><td>é€€å‡ºä¼šè¯</td><td>â­â­â­â­ (54æ¬¡)</td></tr><tr><td><code>/compact</code></td><td>å‹ç¼©å¯¹è¯ä¸Šä¸‹æ–‡</td><td>â­â­â­â­ (40æ¬¡)</td></tr><tr><td><code>/resume</code></td><td>æ¢å¤ä¸Šä¸€ä¸ªä¼šè¯</td><td>â­â­â­ (37æ¬¡)</td></tr><tr><td><code>/mcp</code></td><td>MCP å·¥å…·ç®¡ç†</td><td>â­â­ (17æ¬¡)</td></tr><tr><td><code>/init</code></td><td>åˆå§‹åŒ–</td><td>â­â­ (8æ¬¡)</td></tr><tr><td><code>/context</code></td><td>ä¸Šä¸‹æ–‡ç®¡ç†</td><td>â­ (3æ¬¡)</td></tr><tr><td><code>/cost</code></td><td>æŸ¥çœ‹æ¶ˆè€—</td><td>â­ (4æ¬¡)</td></tr></tbody></table>
<h4 data-id="heading-10">compact é«˜çº§ç”¨æ³•</h4>
<p>å¯ä»¥å¸¦æè¿°è¿›è¡Œå‹ç¼©ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/compact å†™äº†ä¸€ç¯‡åšå®¢ + ç”Ÿæˆäº†å¯è¿è¡Œä»£ç 
/compact æ€»ç»“ä½ çš„æ–¹æ¡ˆï¼ˆéœ€æ±‚ï¼Œå®ç°æ–¹æ¡ˆï¼‰
/compact æ€»ç»“ä¸€ä¸‹ä¹‹å‰çš„æ“ä½œ
/compact <span class="hljs-string">"å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹æäº¤åˆ°ä¸€ä¸ªå…¨å±€çš„ConcurrencyLimitExecutorByLock..."</span>
</code></pre>
<hr/>
<h3 data-id="heading-11">å››ã€ä»»åŠ¡ç±»å‹æ¨¡æ¿</h3>
<h4 data-id="heading-12">1. ä»£ç åˆ†æç±»</h4>
<pre><code class="hljs language-arduino" lang="arduino">åˆ†æä¸€ä¸‹è¿™ä¸ªç±»çš„ç®—æ³•
åˆ†æä¸€ä¸‹è°ƒç”¨é“¾è·¯ï¼Œé‡ç‚¹æ ‡è¯†å‡ºè®¢å•è¢«è¿‡æ»¤åŸå› 
åˆ†æå½“å‰å®ç°ï¼Œæ‰¾åˆ°å¯¹åº”ä»£ç ï¼Œè¯´æ˜ç›¸å…³ä»£ç ç›¸å…³çš„ä¸šåŠ¡
åˆ†æreleaseæäº¤å’Œä¸Šå‘¨æäº¤çš„å¯¹æ¯”ï¼Œæœ‰å“ªäº›æäº¤å¯èƒ½å½±å“xxx
åˆ†ææœ€è¿‘ä¸€å‘¨çš„æäº¤ï¼Œreviewä¸€ä¸‹ä»£ç 
</code></pre>
<h4 data-id="heading-13">2. éœ€æ±‚åˆ†æç±»</h4>
<pre><code class="hljs">åˆ†æéœ€æ±‚ï¼Œç¡®å®šä»£ç ä½ç½®
åˆ†æéœ€æ±‚ï¼Œæ‰¾åˆ°å¯¹åº”ä»£ç ï¼Œåˆ†æç°æœ‰ä»£ç é€»è¾‘
åˆ†æå†å²éœ€æ±‚å®ç°ï¼Œå½“å‰ç°çŠ¶ï¼Œç›˜ç‚¹ç›¸å…³ä¸šåŠ¡é€»è¾‘
é‡æ–°åˆ†æéœ€æ±‚ï¼šXXXè¿™ä¸ªç±»æœ‰æ ¸å¿ƒå†…å®¹ã€‚åˆ†æç°æœ‰å®ç°ï¼Œæ ¸å¿ƒä»£ç ï¼Œæ”¹åŠ¨ç‚¹ï¼Œå½±å“
</code></pre>
<h4 data-id="heading-14">3. Bug æ’æŸ¥ç±»</h4>
<pre><code class="hljs">åˆ†æå¼‚å¸¸åŸå› 
åˆ†æç¼–è¯‘å¤±è´¥åŸå› 
åˆ†æé”™è¯¯ï¼Œä¸æ˜¯è¿™ä¸ªæäº¤å½±å“çš„
è¿™ä¸ªé—®é¢˜12æœˆ12æ—¥å¼€å§‹å‡ºç°çš„ï¼Œåˆ†ægitå†å²çœ‹çœ‹å¯èƒ½æ˜¯å“ªäº›æäº¤å¼•èµ·çš„
</code></pre>
<h4 data-id="heading-15">4. æ–‡æ¡£è¾“å‡ºç±»</h4>
<pre><code class="hljs language-bash" lang="bash">è¾“å‡ºåˆ°mdæ–‡ä»¶
è¾“å‡ºåˆ°/notesæ–‡æ¡£ï¼Œmd
è¾“å‡ºè®¡åˆ’åˆ°/notes
å¾ˆå¥½ï¼ŒåŸå°ä¸åŠ¨è¾“å‡ºåˆ°mdæ–‡æ¡£
æ•´ä¸ªåˆ†æè¿‡ç¨‹è¾“å‡ºåˆ°mdæ–‡ä»¶
æ€»ç»“æˆæ–‡æ¡£ï¼Œç„¶åcompact
</code></pre>
<h4 data-id="heading-16">5. å•å…ƒæµ‹è¯•ç±»</h4>
<pre><code class="hljs language-csharp" lang="csharp">å†™å•å…ƒæµ‹è¯•
è¡¥å……ä¸€ä¸‹unit tests
é’ˆå¯¹ç°æœ‰ä»£ç ï¼Œå†™ä¸€ä¸‹ut ultrathink
<span class="hljs-keyword">add</span> tests <span class="hljs-keyword">for</span> <span class="hljs-keyword">this</span> branch, aim <span class="hljs-keyword">for</span> code coverage
ç»™è¿™ä¸ªæ–¹æ³•å†™å•å…ƒæµ‹è¯•ï¼Œè¦æ±‚è¦†ç›–æˆ‘æäº¤çš„ä»£ç å³å¯
</code></pre>
<h4 data-id="heading-17">6. åšå®¢å†™ä½œç±»</h4>
<pre><code class="hljs">å†™åšå®¢ï¼šæºç è§£è¯» ConcurrentHashMap å¼±ä¸€è‡´æ€§è§£è¯»
å†™åšå®¢ï¼Œç±»ä¼¼Martin Fowlerçš„é‡æ„è¿™æœ¬ä¹¦çš„è¡Œæ–‡é€»è¾‘
å¼€å¤´ç®€è¦ä»‹ç»ä¸»é¢˜å’Œç›®æ ‡ï¼Œç»“å°¾æ€»ç»“å…³é”®ç‚¹. ç›®æ ‡æ˜¯ä¸­é«˜çº§å¼€å‘è€…
</code></pre>
<hr/>
<h3 data-id="heading-18">äº”ã€é«˜æ•ˆå¯¹è¯æ¨¡å¼</h3>
<h4 data-id="heading-19">1. æ¸è¿›å¼åˆ†æ</h4>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> é¦–å…ˆåˆ†æä¸‹è¿™ä¸ªç±»
<span class="hljs-bullet">2.</span> åˆ†æä¸€ä¸‹è°ƒç”¨é“¾è·¯
<span class="hljs-bullet">3.</span> è¯¦ç»†åˆ†æä¸‹xxx
<span class="hljs-bullet">4.</span> æ€»ç»“ä¸€ä¸‹ç›¸å…³ä»£ç 
</code></pre>
<h4 data-id="heading-20">2. å¼•å¯¼å¼çº æ­£</h4>
<pre><code class="hljs">åˆ†ææ€è·¯é”™äº†ï¼Œåº”è¯¥æŸ¥çœ‹æäº¤å†å²
åˆ†æé”™è¯¯ï¼Œæœ¬æ¥ç¥¨ä»·è§„åˆ™å°±åŸºäºç›´è¿
ä¸æ˜¯AvailCheckè¯·æ±‚ï¼Œå†åˆ†æä¸€ä¸‹
</code></pre>
<h4 data-id="heading-21">3. ç»“æ„åŒ–éœ€æ±‚æè¿°</h4>
<pre><code class="hljs">è®¾è®¡æ–‡æ¡£éœ€è¦ï¼šèƒŒæ™¯ã€ç°çŠ¶ã€ç›®æ ‡ã€æ–¹æ¡ˆã€è¯„ä¼°
åˆ†æéœ€æ±‚ï¼Œç¡®å®šä»£ç ä½ç½®ï¼Œåˆ†æç°æœ‰ä»£ç é€»è¾‘
</code></pre>
<h4 data-id="heading-22">4. å¹¶è¡Œä»»åŠ¡</h4>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">use</span> <span class="hljs-number">2</span> subagents, åˆ†åˆ«ä¿®æ”¹ TransferParallel, MultiRouteParallelè°ƒç”¨ç‚¹ ultrathink
æˆ‘multi-clauding, åˆ†æå½“å‰bugsã€notesæ–‡ä»¶å¤¹ï¼Œæ€»ç»“æ•´ç†æˆä»£åŠäº‹é¡¹
</code></pre>
<hr/>
<h3 data-id="heading-23">å…­ã€ä¸Šä¸‹æ–‡ç®¡ç†æŠ€å·§</h3>
<h4 data-id="heading-24">1. ä¼šè¯ä¿å­˜ä¸æ¢å¤</h4>
<pre><code class="hljs language-bash" lang="bash">/resume              <span class="hljs-comment"># æ¢å¤ä¸Šä¸€ä¸ªä¼šè¯</span>
/compact æ€»ç»“xxx     <span class="hljs-comment"># å¸¦æè¿°å‹ç¼©</span>
ç®€å•æ€»ç»“ä¸€ä¸‹ä¹‹å‰çš„æ“ä½œï¼Œä¸è¦è¾“å‡ºæ–‡æ¡£
</code></pre>
<h4 data-id="heading-25">2. çŸ¥è¯†æ²‰æ·€</h4>
<pre><code class="hljs language-perl" lang="perl">æ€»ç»“ä»£ç é£æ ¼å¹¶æ›´æ–°åˆ°å½“å‰é¡¹ç›®çš„ä¸Šä¸‹æ–‡mdä¸­ï¼Œç»™ä½ è‡ªå·±ä½¿ç”¨
åŠ å…¥claude.md, è®°ä½ï¼šä¿®æ”¹çš„æ—¶å€™Testæ–‡ä»¶ä¹Ÿè¦ä¿®æ”¹
è®¾è®¡æ–‡æ¡£éœ€è¦æ›´æ–°åˆ°å½“å‰é¡¹ç›®ä¸­ã€‚<span class="hljs-keyword">redo</span>ã€‚åŒæ—¶æ›´æ–°è¿™ä¸ªè¦æ±‚åˆ°claude.mdä¸­
</code></pre>
<h4 data-id="heading-26">3. åˆ›å»º Skills</h4>
<pre><code class="hljs language-csharp" lang="csharp">å…ˆåšæ¢ä¹˜ä¸šåŠ¡çš„skillsæ€»ç»“å§ï¼ŒåŒ…æ‹¬æ ¸å¿ƒä¸šåŠ¡æµç¨‹ã€æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
æ€»ç»“åˆšæ‰çš„æŸ¥è¯¢æµç¨‹ï¼Œæ€»ç»“åˆ°skillsï¼Œæ ¸å¿ƒèƒ½åŠ›ä¸ºæŸ¥è¯¢é¡µé¢æ“ä½œæµç¨‹
<span class="hljs-keyword">add</span> claude code skill: å†™å•å…ƒæµ‹è¯•
</code></pre>
<hr/>
<h3 data-id="heading-27">ä¸ƒã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-28">1. å¤æ‚ä»»åŠ¡åˆ†è§£</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¥½çš„åšæ³•</span>
åˆ†æå½“å‰å®ç° â†’ è¾“å‡ºè®¾è®¡æ–‡æ¡£ â†’ æ‰§è¡Œè®¡åˆ’ â†’ è¡¥å……å•å…ƒæµ‹è¯•

<span class="hljs-comment"># ä¸å¥½çš„åšæ³•</span>
ä¸€æ¬¡æ€§è¦æ±‚å®Œæˆæ‰€æœ‰äº‹æƒ…
</code></pre>
<h4 data-id="heading-29">2. æ˜ç¡®è¾“å‡ºè¦æ±‚</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¥½çš„åšæ³•</span>
è¾“å‡ºåˆ°/notesä¸‹ï¼Œæ ¼å¼ä¸ºmd
æ€»ç»“ä¸€ä¸‹è¿™ä¸ªåˆ†æ”¯æ–°å¢çš„é…ç½®
ç®€å•æ€»ç»“æœ¬æ¬¡æ–°å¢çš„ç‰¹æ€§ï¼Œç®€å•è¯´æ˜ä¸€ä¸‹æ”¹åŠ¨ç‚¹çš„åŸç†

<span class="hljs-comment"># ä¸å¥½çš„åšæ³•</span>
åˆ†æä¸€ä¸‹ï¼ˆæ²¡æœ‰æ˜ç¡®è¾“å‡ºå½¢å¼ï¼‰
</code></pre>
<h4 data-id="heading-30">3. å¼•ç”¨å…·ä½“ä»£ç /é…ç½®</h4>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># å¥½çš„åšæ³•</span>
<span class="hljs-title class_">ShowEntityHiddenConfigs</span>=*<span class="hljs-symbol">:*^TravelPackage</span>... åˆ†æä¸€ä¸‹è¿™ä¸ªé…ç½®
åˆ†æä¸‹ <span class="hljs-variable">@TransferLimitEntity</span> æ˜¯å¦‚ä½•å®ç°ç¦å”®çš„
[jira-<span class="hljs-variable constant_">XXXX</span>-<span class="hljs-number">14794</span>]<span class="hljs-symbol">feat:</span> ç¥¨ä»·è§„åˆ™ç®—æ³• è§£é‡Šä¸€ä¸‹è¿™ä¸ªæäº¤

<span class="hljs-comment"># ä¸å¥½çš„åšæ³•</span>
åˆ†æä¸€ä¸‹é‚£ä¸ªé…ç½®
</code></pre>
<h4 data-id="heading-31">4. ä½¿ç”¨ ultrathink çš„æ—¶æœº</h4>





































<table><thead><tr><th>åœºæ™¯</th><th>æ˜¯å¦ä½¿ç”¨ ultrathink</th></tr></thead><tbody><tr><td>ç®€å•ä»£ç æŸ¥æ‰¾</td><td>âŒ</td></tr><tr><td>å¹¶å‘/çº¿ç¨‹å®‰å…¨åˆ†æ</td><td>âœ…</td></tr><tr><td>å¤æ‚ä¸šåŠ¡é€»è¾‘æ¢³ç†</td><td>âœ…</td></tr><tr><td>æ€§èƒ½é—®é¢˜æ’æŸ¥</td><td>âœ…</td></tr><tr><td>é‡æ„æ–¹æ¡ˆè®¾è®¡</td><td>âœ…</td></tr><tr><td>Bug æ ¹å› åˆ†æ</td><td>âœ…</td></tr><tr><td>ç®€å•æ–‡æ¡£ç”Ÿæˆ</td><td>âŒ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-32">å…«ã€å¸¸ç”¨ç»„åˆæŠ€å·§</h3>
<h4 data-id="heading-33">æŠ€å·§1ï¼šåˆ†æ + æ·±åº¦æ€è€ƒ + è¾“å‡º</h4>
<pre><code class="hljs">åˆ†æä¸€ä¸‹å¹¶å‘é—®é¢˜ ultrathinkï¼Œè¾“å‡ºåˆ°mdæ–‡ä»¶
</code></pre>
<h4 data-id="heading-34">æŠ€å·§2ï¼šæ‰§è¡Œ + è·³è¿‡ç¡®è®¤</h4>
<pre><code class="hljs language-arduino" lang="arduino">åˆ é™¤è¿™ä¸ªæ–¹æ³•ä¸­æ‰€æœ‰verifyç›¸å…³æ ¡éªŒæ–¹æ³•ï¼Œjust <span class="hljs-keyword">do</span> it
</code></pre>
<h4 data-id="heading-35">æŠ€å·§3ï¼šå¤šè½®è¿­ä»£</h4>
<pre><code class="hljs language-arduino" lang="arduino">ç¬¬ä¸€è½®ï¼šåˆ†æç°æœ‰å®ç°
ç¬¬äºŒè½®ï¼šthink harderï¼ˆå¦‚æœåˆ†æä¸åˆ°ä½ï¼‰
ç¬¬ä¸‰è½®ï¼šæŒ‰ç…§è¦æ±‚åšå¥½è®¡åˆ’ ultrathink
ç¬¬å››è½®ï¼šjust <span class="hljs-keyword">do</span> it
</code></pre>
<h4 data-id="heading-36">æŠ€å·§4ï¼šä¸Šä¸‹æ–‡å¤ç”¨</h4>
<pre><code class="hljs language-bash" lang="bash">/resume                     <span class="hljs-comment"># æ¢å¤ä¹‹å‰çš„ä¸Šä¸‹æ–‡</span>
æ ¹æ®å½“å‰é¡µé¢ï¼Œretry         <span class="hljs-comment"># å¤ç”¨ä¹‹å‰çš„æŒ‡ä»¤</span>
</code></pre>
<hr/>
<h3 data-id="heading-37">æ€»ç»“</h3>



































<table><thead><tr><th>æŠ€å·§ç±»å‹</th><th>å…³é”®è¯</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>æ·±åº¦æ€è€ƒ</td><td>ultrathink, think harder</td><td>å¤æ‚é—®é¢˜åˆ†æ</td></tr><tr><td>å¿«é€Ÿæ‰§è¡Œ</td><td>just do it, yes</td><td>ç¡®è®¤æ–¹æ¡ˆåæ‰§è¡Œ</td></tr><tr><td>ç»§ç»­æ“ä½œ</td><td>go on, retry</td><td>å»¶ç»­æˆ–é‡è¯•</td></tr><tr><td>ä¸Šä¸‹æ–‡ç®¡ç†</td><td>/compact, /resume</td><td>é•¿å¯¹è¯ç®¡ç†</td></tr><tr><td>è¾“å‡ºæ§åˆ¶</td><td>è¾“å‡ºåˆ°md, è¾“å‡ºåˆ°/notes</td><td>ç»“æœæŒä¹…åŒ–</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒåŸåˆ™ï¼š</strong></p>
<ol>
<li>å¤æ‚é—®é¢˜ç”¨ ultrathink</li>
<li>æ˜ç¡®ä»»åŠ¡ç”¨ just do it</li>
<li>é•¿å¯¹è¯å®šæœŸ /compact</li>
<li>é‡è¦ç»“è®ºè¾“å‡ºåˆ°æ–‡ä»¶</li>
<li>å¸¸ç”¨çŸ¥è¯†æ²‰æ·€åˆ° CLAUDE.md</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MyBatis SQLæ‰§è¡Œæµç¨‹è¯¦è§£]]></title>    <link>https://juejin.cn/post/7597805826514714670</link>    <guid>https://juejin.cn/post/7597805826514714670</guid>    <pubDate>2026-01-22T09:08:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597805826514714670" data-draft-id="7597989474991751206" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MyBatis SQLæ‰§è¡Œæµç¨‹è¯¦è§£"/> <meta itemprop="keywords" content="MyBatis,Java"/> <meta itemprop="datePublished" content="2026-01-22T09:08:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é—²ç…®å…‰é˜´"/> <meta itemprop="url" content="https://juejin.cn/user/1523239911963420"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MyBatis SQLæ‰§è¡Œæµç¨‹è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1523239911963420/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é—²ç…®å…‰é˜´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T09:08:40.000Z" title="Thu Jan 22 2026 09:08:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å°†ä»¥æœ€å¸¸ç”¨çš„<code>select list</code>æŸ¥è¯¢æµç¨‹ä¸ºæ ¸å¿ƒï¼Œç»“åˆæ ¸å¿ƒå¯¹è±¡ã€ä»£ç å®ç°ä¸æ‰§è¡Œé“¾è·¯ï¼Œå…¨é¢æ‹†è§£MyBatis SQLæ‰§è¡Œçš„å®Œæ•´è¿‡ç¨‹ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€select listæµç¨‹</h2>
<h3 data-id="heading-1">1. åŸºæœ¬ä½¿ç”¨ï¼ˆç¼–ç¨‹å¼è°ƒç”¨ç¤ºä¾‹ï¼‰</h3>
<p>ä»¥ä¸‹ä»£ç å±•ç¤ºäº†MyBatisç¼–ç¨‹å¼è°ƒç”¨Mapperæ¥å£æ‰§è¡ŒæŸ¥è¯¢åˆ—è¡¨çš„å®Œæ•´ç¤ºä¾‹ï¼Œæ¶µç›–ä»ç¯å¢ƒé…ç½®ã€SqlSessionåˆ›å»ºåˆ°ç»“æœè·å–çš„å…¨æ­¥éª¤ï¼Œé€‚ç”¨äºç†è§£åº•å±‚æ‰§è¡Œé€»è¾‘ã€‚</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// 1. è·å–æ•°æ®æºï¼ˆæ¨¡æ‹Ÿé…ç½®ï¼Œå®é™…å¯é€šè¿‡mybatis-config.xmlé…ç½®ï¼‰</span>
<span class="hljs-type">DataSource</span> <span class="hljs-variable">dataSource</span> <span class="hljs-operator">=</span> TestDataSourceFactory.getDataSource();
<span class="hljs-comment">// 2. åˆ›å»ºäº‹åŠ¡å·¥å‚ï¼ˆJDBCäº‹åŠ¡å·¥å‚ï¼Œä¾èµ–JDBCåŸç”Ÿäº‹åŠ¡ç®¡ç†ï¼‰</span>
<span class="hljs-type">TransactionFactory</span> <span class="hljs-variable">transactionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JdbcTransactionFactory</span>();
<span class="hljs-comment">// 3. æ„å»ºç¯å¢ƒå¯¹è±¡ï¼ˆåŒ…å«ç¯å¢ƒåç§°ã€äº‹åŠ¡å·¥å‚ã€æ•°æ®æºï¼‰</span>
<span class="hljs-type">Environment</span> <span class="hljs-variable">environment</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Environment</span>(<span class="hljs-string">"dev"</span>, transactionFactory, dataSource);
<span class="hljs-comment">// 4. åˆå§‹åŒ–é…ç½®å¯¹è±¡ï¼ˆMyBatisæ ¸å¿ƒé…ç½®è½½ä½“ï¼Œå­˜å‚¨æ‰€æœ‰é…ç½®ä¿¡æ¯ï¼‰</span>
<span class="hljs-type">Configuration</span> <span class="hljs-variable">configuration</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>(environment);
<span class="hljs-comment">// 5. æ³¨å†ŒMapperæ¥å£ï¼ˆå‘ŠçŸ¥MyBatiséœ€è¦æ‰«æçš„Mapperï¼Œç»‘å®šSQLæ˜ å°„ï¼‰</span>
configuration.addMapper(TestMapper.class);
<span class="hljs-comment">// 6. æ„å»ºSqlSessionFactoryï¼ˆä¼šè¯å·¥å‚ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œå…¨å±€å•ä¾‹ï¼‰</span>
<span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(configuration);
<span class="hljs-comment">// 7. æ‰“å¼€SqlSessionï¼ˆä¼šè¯å¯¹è±¡ï¼Œéçº¿ç¨‹å®‰å…¨ï¼Œå•æ¬¡è¯·æ±‚/äº‹åŠ¡ç‹¬å ï¼‰</span>
<span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();
<span class="hljs-keyword">try</span> { 
  <span class="hljs-comment">// 8. è·å–Mapperä»£ç†å¯¹è±¡ï¼ˆMyBatisåŠ¨æ€ç”Ÿæˆï¼ŒéçœŸå®Mapperå®ç°ç±»ï¼‰</span>
  <span class="hljs-type">TestMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(TestMapper.class);
  <span class="hljs-comment">// 9. è°ƒç”¨Mapperæ–¹æ³•æ‰§è¡ŒæŸ¥è¯¢ï¼ˆè§¦å‘åº•å±‚SQLæ‰§è¡Œæµç¨‹ï¼‰</span>
  List&lt;Entity&gt; entitys = mapper.selectList(<span class="hljs-number">101</span>);
} <span class="hljs-keyword">finally</span> {
  <span class="hljs-comment">// 10. å…³é—­SqlSessionï¼ˆé‡Šæ”¾èµ„æºï¼Œé¿å…è¿æ¥æ³„æ¼ï¼‰</span>
  session.close();
}
</code></pre>
<h3 data-id="heading-2">2. ä»£ç æ‰§è¡Œæµç¨‹ï¼ˆå®Œæ•´é“¾è·¯æ‹†è§£ï¼‰</h3>
<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>mapper.selectList(101)</code>æ˜¯è§¦å‘SQLæ‰§è¡Œçš„å…¥å£ï¼Œåº•å±‚é€šè¿‡å¤šç»„ä»¶åä½œå®ŒæˆæŸ¥è¯¢ï¼Œå…·ä½“æµç¨‹å¯é€šè¿‡ä»¥ä¸‹æµç¨‹å›¾åŠæ­¥éª¤è§£æç†è§£ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">
graph TD
A(è·å–mapperä»£ç†å¯¹è±¡Configuration.getMapper) --&gt; B(è°ƒç”¨ä»£ç†å¯¹è±¡æ–¹æ³•MapperMethod.execute)
B --&gt; C(æŸ¥è¯¢SqlSession.selectList)
C --&gt; D(æŸ¥è¯¢Executor.query)
D --&gt; E(è·å–StatementHandlerConfiguration.newStatementHandler)
E --&gt; F(è°ƒç”¨æ’ä»¶è¿”å›StatementHandlerä»£ç†interceptorChain.pluginAll)
F --&gt; G(è®¾ç½®å‚æ•°ParameterHandler.setParameters)
G --&gt; H(æ‰§è¡ŒsqlStatementHandler.query)
H --&gt; I(å¤„ç†ç»“æœResultSetHandler.handleResultSets)
    
</code></pre>
<h4 data-id="heading-3">æµç¨‹æ­¥éª¤è¯¦ç»†è§£æï¼š</h4>
<ol>
<li><strong>è·å–Mapperä»£ç†å¯¹è±¡</strong>ï¼šè°ƒç”¨<code>Configuration.getMapper</code>æ—¶ï¼ŒMyBatisé€šè¿‡<code>MapperRegistry</code>æ‰«æå·²æ³¨å†Œçš„Mapperæ¥å£ï¼Œåˆ©ç”¨JDKåŠ¨æ€ä»£ç†ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œä»£ç†å¯¹è±¡ä¼šæ‹¦æˆªæ‰€æœ‰Mapperæ–¹æ³•è°ƒç”¨ï¼Œå°†è¯·æ±‚è½¬å‘è‡³<code>MapperMethod</code>ã€‚</li>
<li><strong>æ–¹æ³•æ‰§è¡Œåˆ†å‘</strong>ï¼š<code>MapperMethod.execute</code>ä½œä¸ºæ ¸å¿ƒåˆ†å‘æ–¹æ³•ï¼Œä¼šå…ˆè§£æå½“å‰SQLçš„ç±»å‹ï¼ˆSELECT/INSERT/UPDATE/DELETEï¼‰ï¼Œå†æ ¹æ®ç±»å‹è°ƒç”¨<code>SqlSession</code>å¯¹åº”çš„æ–¹æ³•ï¼ˆå¦‚æŸ¥è¯¢è°ƒç”¨<code>selectList</code>ï¼‰ï¼ŒåŒæ—¶å¤„ç†å‚æ•°æ˜ å°„ï¼ˆå°†æ–¹æ³•å‚æ•°è½¬æ¢ä¸ºSQLå¯ç”¨å‚æ•°ï¼‰ã€‚</li>
<li><strong>SqlSessionå±‚è½¬å‘</strong>ï¼š<code>SqlSession</code>ä½œä¸ºåº”ç”¨ä¸MyBatisåº•å±‚çš„æ¡¥æ¢ï¼Œä¸ç›´æ¥æ‰§è¡ŒSQLï¼Œè€Œæ˜¯å°†è¯·æ±‚å§”æ‰˜ç»™<code>Executor</code>ï¼ˆæ‰§è¡Œå™¨ï¼‰ï¼ŒåŒæ—¶ç»´æŠ¤äº‹åŠ¡çŠ¶æ€ã€‚</li>
<li><strong>Executoræ‰§è¡Œè°ƒåº¦</strong>ï¼š<code>Executor</code>æ˜¯SQLæ‰§è¡Œçš„æ ¸å¿ƒè°ƒåº¦å™¨ï¼Œè´Ÿè´£äº‹åŠ¡æ§åˆ¶ã€ç¼“å­˜ç®¡ç†åŠSQLæ‰§è¡Œåè°ƒã€‚è°ƒç”¨<code>Executor.query</code>æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥ä¸€çº§ç¼“å­˜ï¼Œç¼“å­˜æœªå‘½ä¸­åˆ™ç»§ç»­å‘ä¸‹æ‰§è¡Œï¼ŒåŒæ—¶åˆ›å»º<code>Transaction</code>å¯¹è±¡ç®¡ç†äº‹åŠ¡ã€‚</li>
<li><strong>åˆ›å»ºStatementHandler</strong>ï¼šé€šè¿‡<code>Configuration.newStatementHandler</code>åˆ›å»º<code>StatementHandler</code>ï¼Œè¯¥ç»„ä»¶æ˜¯JDBC <code>Statement</code>çš„å°è£…è€…ï¼Œè´Ÿè´£Statementçš„åˆ›å»ºã€å‚æ•°è®¾ç½®ã€SQLæ‰§è¡ŒåŠç»“æœå¤„ç†çš„ç»Ÿç­¹ã€‚</li>
<li><strong>æ’ä»¶æ‹¦æˆªå¢å¼º</strong>ï¼š<code>interceptorChain.pluginAll</code>ä¼šéå†æ‰€æœ‰æ³¨å†Œçš„æ‹¦æˆªå™¨ï¼Œå¯¹<code>StatementHandler</code>è¿›è¡Œä»£ç†å¢å¼ºï¼ˆå¦‚åˆ†é¡µæ’ä»¶ã€æ•°æ®è„±æ•æ’ä»¶å¯åœ¨æ­¤å¤„æ‹¦æˆªï¼Œä¿®æ”¹SQLæˆ–å¤„ç†å‚æ•°/ç»“æœï¼‰ï¼Œè¿™æ˜¯MyBatisæ‰©å±•çš„æ ¸å¿ƒå…¥å£ã€‚</li>
<li><strong>å‚æ•°è®¾ç½®</strong>ï¼šé€šè¿‡<code>ParameterHandler</code>ï¼ˆå‚æ•°å¤„ç†å™¨ï¼‰å°†Mapperæ–¹æ³•å‚æ•°ç»‘å®šåˆ°JDBC <code>PreparedStatement</code>çš„å ä½ç¬¦ä¸Šï¼Œæ”¯æŒå¤šç§å‚æ•°ç±»å‹ï¼ˆåŸºæœ¬ç±»å‹ã€å¯¹è±¡ã€é›†åˆï¼‰åŠå‚æ•°æ˜ å°„è§„åˆ™ï¼ˆå¦‚<code>@Param</code>æ³¨è§£ã€å¯¹è±¡å±æ€§æ˜ å°„ï¼‰ã€‚</li>
<li><strong>SQLæ‰§è¡Œ</strong>ï¼š<code>StatementHandler.query</code>è°ƒç”¨JDBC <code>Statement</code>çš„<code>executeQuery</code>æ–¹æ³•æ‰§è¡ŒSQLï¼Œè·å–æ•°æ®åº“è¿”å›çš„<code>ResultSet</code>ã€‚</li>
<li><strong>ç»“æœå¤„ç†</strong>ï¼š<code>ResultSetHandler</code>ï¼ˆç»“æœå¤„ç†å™¨ï¼‰å°†<code>ResultSet</code>æ•°æ®æ˜ å°„ä¸ºJavaå¯¹è±¡ï¼ˆæ”¯æŒç®€å•ç±»å‹ã€å¤æ‚å¯¹è±¡ã€é›†åˆã€åµŒå¥—ç»“æœé›†ç­‰ï¼‰ï¼Œæœ€ç»ˆè¿”å›ç»™ä¸Šå±‚è°ƒç”¨è€…ã€‚</li>
</ol>
<h2 data-id="heading-4">äºŒã€æ ¸å¿ƒå¯¹è±¡å…³ç³»åŠä½œç”¨è¯¦è§£</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0cfe9349a69648f3b2b0d0267d1ece5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zey54Wu5YWJ6Zi0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769677720&amp;x-signature=MET7l1M0UspV0vKIXPpjLS12u4Y%3D" alt="" loading="lazy"/></p>
<p>MyBatis SQLæ‰§è¡Œæµç¨‹ä¾èµ–å¤šä¸ªæ ¸å¿ƒå¯¹è±¡çš„åä½œï¼Œå„å¯¹è±¡èŒè´£æ¸…æ™°ã€ç›¸äº’ä¾èµ–ï¼Œæ„æˆMyBatisçš„æ ¸å¿ƒæ¶æ„ï¼Œä»¥ä¸‹ç»“åˆå¯¹è±¡åŠŸèƒ½ã€å®ç°ç±»åŠå…³ç³»å±•å¼€è¯´æ˜ï¼š</p>
<h3 data-id="heading-5">1. Configurationï¼ˆå…¨å±€é…ç½®ä¸­å¿ƒï¼‰</h3>
<p>MyBatisçš„â€œå¤§è„‘â€ï¼Œå­˜å‚¨æ‰€æœ‰é…ç½®ä¿¡æ¯ï¼ˆå…¨å±€é…ç½®ã€Mapperæ˜ å°„ã€æ’ä»¶ã€ç±»å‹åˆ«åç­‰ï¼‰ï¼ŒåŒæ—¶ä½œä¸ºæ‰€æœ‰æ ¸å¿ƒå¯¹è±¡ï¼ˆExecutorã€StatementHandlerã€ParameterHandlerç­‰ï¼‰çš„å·¥å‚ï¼Œè´Ÿè´£å¯¹è±¡çš„åˆ›å»ºä¸åˆå§‹åŒ–ï¼Œè´¯ç©¿SQLæ‰§è¡Œå…¨æµç¨‹ã€‚</p>
<h3 data-id="heading-6">2. Executorï¼ˆæ‰§è¡Œå™¨ï¼ŒSQLæ‰§è¡Œè°ƒåº¦æ ¸å¿ƒï¼‰</h3>
<p>è´Ÿè´£SQLæ‰§è¡Œçš„ç»Ÿç­¹è°ƒåº¦ï¼ŒåŒæ—¶å¤„ç†äº‹åŠ¡æ§åˆ¶ã€ä¸€çº§ç¼“å­˜ç®¡ç†ï¼Œå…¶å®ç°ç±»å¯¹åº”ä¸åŒçš„æ‰§è¡Œç­–ç•¥ï¼Œå¯é€šè¿‡é…ç½®æŒ‡å®šé»˜è®¤æ‰§è¡Œå™¨ç±»å‹ï¼š</p>
<ul>
<li><strong>SimpleExecutorï¼ˆé»˜è®¤æ‰§è¡Œå™¨ï¼‰</strong>ï¼šç®€å•æ‰§è¡Œç­–ç•¥ï¼Œæ— ä»»ä½•ä¼˜åŒ–ï¼Œæ¯æ‰§è¡Œä¸€æ¡SQLéƒ½ä¼šæ–°å»ºä¸€ä¸ªStatementå¯¹è±¡ï¼Œæ‰§è¡Œå®Œæˆåå…³é—­ï¼Œé€‚ç”¨äºå¤§å¤šæ•°ç®€å•åœºæ™¯ã€‚</li>
<li><strong>ReuseExecutorï¼ˆå¤ç”¨æ‰§è¡Œå™¨ï¼‰</strong>ï¼šå¯¹ç›¸åŒSQLï¼ˆSQLè¯­å¥+å‚æ•°é…ç½®ä¸€è‡´ï¼‰çš„Statementè¿›è¡Œå¤ç”¨ï¼Œé¿å…é¢‘ç¹åˆ›å»º/å…³é—­Statementï¼Œæå‡æ€§èƒ½ï¼Œé€‚ç”¨äºé‡å¤æ‰§è¡Œç›¸åŒSQLçš„åœºæ™¯ã€‚</li>
<li><strong>BatchExecutorï¼ˆæ‰¹å¤„ç†æ‰§è¡Œå™¨ï¼‰</strong>ï¼šå®ç°SQLæ‰¹å¤„ç†åŠŸèƒ½ï¼Œå°†å¤šæ¡INSERT/UPDATE/DELETEè¯­å¥æ‰¹é‡æäº¤ï¼Œå‡å°‘æ•°æ®åº“äº¤äº’æ¬¡æ•°ï¼Œå¤§å¹…æå‡æ‰¹å¤„ç†æ•ˆç‡ï¼Œä»…é€‚ç”¨äºæ‰¹å¤„ç†åœºæ™¯ã€‚</li>
<li><strong>CachingExecutorï¼ˆç¼“å­˜æ‰§è¡Œå™¨ï¼‰</strong>ï¼šè‹¥å¼€å¯äºŒçº§ç¼“å­˜ï¼ŒMyBatisä¼šè‡ªåŠ¨ä¸ºä¸Šè¿°æ‰§è¡Œå™¨åŒ…è£…ä¸€å±‚CachingExecutorï¼Œè´Ÿè´£äºŒçº§ç¼“å­˜çš„ç®¡ç†ä¸æŸ¥è¯¢ï¼Œä¼˜å…ˆä»äºŒçº§ç¼“å­˜è·å–æ•°æ®ã€‚</li>
</ul>
<h3 data-id="heading-7">3. StatementHandlerï¼ˆStatementå°è£…è€…ï¼‰</h3>
<p>ç›´æ¥ä¸JDBC Statementäº¤äº’ï¼Œè´Ÿè´£Statementçš„åˆ›å»ºã€å‚æ•°è®¾ç½®ã€SQLæ‰§è¡ŒåŠç»“æœå›è°ƒï¼Œæ˜¯MyBatiså°è£…JDBCæ“ä½œçš„æ ¸å¿ƒç»„ä»¶ï¼Œé»˜è®¤å®ç°ç±»å¯¹åº”ä¸åŒçš„Statementç±»å‹ï¼š</p>
<ul>
<li><strong>SimpleStatementHandler</strong>ï¼šå¤„ç†æ™®é€šStatementï¼ˆæ— å ä½ç¬¦çš„SQLï¼‰ï¼Œä¸æ”¯æŒå‚æ•°ç»‘å®šï¼Œé€‚ç”¨äºé™æ€SQLåœºæ™¯ã€‚</li>
<li><strong>PreparedStatementHandlerï¼ˆé»˜è®¤å®ç°ï¼‰</strong>ï¼šå¤„ç†PreparedStatementï¼ˆå¸¦å ä½ç¬¦çš„SQLï¼‰ï¼Œæ”¯æŒå‚æ•°ç»‘å®šã€SQLé¢„ç¼–è¯‘ï¼Œå¯é˜²æ­¢SQLæ³¨å…¥ï¼Œé€‚ç”¨äºå¤§å¤šæ•°åŠ¨æ€SQLåœºæ™¯ã€‚</li>
<li><strong>CallableStatementHandler</strong>ï¼šå¤„ç†CallableStatementï¼Œç”¨äºæ‰§è¡Œæ•°æ®åº“å­˜å‚¨è¿‡ç¨‹ï¼Œæ”¯æŒè¾“å…¥/è¾“å‡ºå‚æ•°æ˜ å°„ã€‚</li>
</ul>
<p>è¡¥å……ï¼š<code>RoutingStatementHandler</code>å¹¶éç›´æ¥å®ç°ç±»ï¼Œè€Œæ˜¯ä¸€ä¸ªè·¯ç”±å¤„ç†å™¨ï¼Œä¼šæ ¹æ®SQLç±»å‹è‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„StatementHandlerå®ç°ç±»ã€‚</p>
<h3 data-id="heading-8">4. SqlSessionï¼ˆä¼šè¯å¯¹è±¡ï¼‰</h3>
<p>åº”ç”¨ç¨‹åºä¸MyBatisåº•å±‚äº¤äº’çš„å…¥å£ï¼Œå°è£…äº†Executorã€äº‹åŠ¡ç­‰æ ¸å¿ƒç»„ä»¶ï¼Œæä¾›å¢åˆ æ”¹æŸ¥æ–¹æ³•åŠäº‹åŠ¡æ§åˆ¶ï¼ˆæäº¤/å›æ»šï¼‰ã€‚é»˜è®¤å®ç°ä¸º<code>DefaultSqlSession</code>ï¼Œ<strong>éçº¿ç¨‹å®‰å…¨</strong>ï¼Œéœ€ä¿è¯å•æ¬¡è¯·æ±‚/äº‹åŠ¡å¯¹åº”ä¸€ä¸ªSqlSessionï¼Œä½¿ç”¨ååŠæ—¶å…³é—­ã€‚</p>
<h3 data-id="heading-9">5. InterceptorChainï¼ˆæ‹¦æˆªå™¨é“¾ï¼‰</h3>
<p>MyBatisçš„æ‰©å±•æœºåˆ¶æ ¸å¿ƒï¼Œç®¡ç†æ‰€æœ‰æ³¨å†Œçš„æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰ï¼Œåœ¨æ ¸å¿ƒå¯¹è±¡åˆ›å»ºæ—¶ï¼ˆå¦‚Executorã€StatementHandlerï¼‰ï¼Œé€šè¿‡<code>pluginAll</code>æ–¹æ³•ä¸ºå¯¹è±¡ç”Ÿæˆä»£ç†ï¼Œå…è®¸å¼€å‘è€…åœ¨SQLæ‰§è¡Œçš„å…³é”®èŠ‚ç‚¹ï¼ˆå‚æ•°è®¾ç½®ã€SQLæ‰§è¡Œã€ç»“æœå¤„ç†ï¼‰æ’å…¥è‡ªå®šä¹‰é€»è¾‘ï¼Œå¸¸è§åº”ç”¨åœºæ™¯åŒ…æ‹¬è‡ªåŠ¨åˆ†é¡µã€æ•°æ®è„±æ•ã€æ—¥å¿—æ‰“å°ã€åˆ†åº“åˆ†è¡¨ç­‰ã€‚</p>
<h3 data-id="heading-10">6. å…¶ä»–è¾…åŠ©ç»„ä»¶</h3>
<ul>
<li><strong>ParameterHandler</strong>ï¼šå‚æ•°å¤„ç†å™¨ï¼Œè´Ÿè´£å°†Mapperæ–¹æ³•å‚æ•°ç»‘å®šåˆ°Statementå ä½ç¬¦ï¼Œæ”¯æŒç±»å‹è½¬æ¢ï¼ˆå¦‚Javaç±»å‹ä¸æ•°æ®åº“ç±»å‹æ˜ å°„ï¼‰ã€‚</li>
<li><strong>ResultSetHandler</strong>ï¼šç»“æœå¤„ç†å™¨ï¼Œè´Ÿè´£å°†ResultSetè½¬æ¢ä¸ºJavaå¯¹è±¡ï¼Œæ”¯æŒå¤æ‚ç»“æœæ˜ å°„ï¼ˆå¦‚ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šåµŒå¥—æ˜ å°„ï¼‰ã€‚</li>
<li><strong>MetaObject</strong>ï¼šå…ƒå¯¹è±¡å·¥å…·ï¼Œç”¨äºæ“ä½œJavaå¯¹è±¡çš„å±æ€§ï¼ˆå³ä½¿å±æ€§ä¸ºprivateï¼‰ï¼Œæ”¯æ’‘å‚æ•°ç»‘å®šä¸ç»“æœæ˜ å°„çš„åº•å±‚åå°„æ“ä½œã€‚</li>
</ul>
<h2 data-id="heading-11">ä¸‰ã€æ ¸å¿ƒä»£ç é€»è¾‘ç®€è¿°</h2>
<p>ä»¥ä¸‹é€šè¿‡æ ¸å¿ƒç±»çš„å…³é”®ä»£ç ï¼Œè¿›ä¸€æ­¥ç†è§£MyBatiså¯¹è±¡åˆ›å»ºä¸SQLæ‰§è¡Œçš„åº•å±‚é€»è¾‘ï¼Œé‡ç‚¹è§£æConfigurationï¼ˆå¯¹è±¡å·¥å‚ï¼‰ä¸MapperMethodï¼ˆæ–¹æ³•åˆ†å‘ï¼‰çš„æ ¸å¿ƒå®ç°ã€‚</p>
<h3 data-id="heading-12">1. org.apache.ibatis.session.Configurationï¼ˆæ ¸å¿ƒå¯¹è±¡å·¥å‚ï¼‰</h3>
<p>è¯¥ç±»ä¸ä»…å­˜å‚¨é…ç½®ï¼Œæ›´é€šè¿‡ä¸€ç³»åˆ—<code>newXXX</code>æ–¹æ³•åˆ›å»ºæ ¸å¿ƒå¯¹è±¡ï¼ŒåŒæ—¶é›†æˆæ‹¦æˆªå™¨é“¾ï¼Œä¸ºå¯¹è±¡æä¾›å¢å¼ºèƒ½åŠ›ï¼Œå…³é”®ä»£ç è§£æå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Configuration</span> {
   <span class="hljs-comment">/**
    * è·å–Mapperä»£ç†å¯¹è±¡
    * æ ¸å¿ƒé€»è¾‘ï¼šå§”æ‰˜MapperRegistryåˆ›å»ºä»£ç†ï¼Œå°†SqlSessionä¼ å…¥ä»£ç†ï¼Œä¾¿äºåç»­è°ƒç”¨
    */</span>
   <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getMapper</span><span class="hljs-params">(Class&lt;T&gt; type, SqlSession sqlSession)</span> {
	    <span class="hljs-keyword">return</span> mapperRegistry.getMapper(type, sqlSession);
	}

	<span class="hljs-comment">/**
	 * åˆ›å»ºå…ƒå¯¹è±¡ï¼Œç”¨äºåå°„æ“ä½œå¯¹è±¡å±æ€§
	 * æ”¯æ’‘ParameterHandlerã€ResultSetHandlerçš„åº•å±‚å±æ€§è®¿é—®
	 */</span>
	<span class="hljs-keyword">public</span> MetaObject <span class="hljs-title function_">newMetaObject</span><span class="hljs-params">(Object object)</span> {
	    <span class="hljs-keyword">return</span> MetaObject.forObject(object, objectFactory, objectWrapperFactory);
	}

	<span class="hljs-comment">/**
	 * åˆ›å»ºParameterHandlerï¼ˆå‚æ•°å¤„ç†å™¨ï¼‰
	 * å…ˆé€šè¿‡è¯­è¨€é©±åŠ¨åˆ›å»ºé»˜è®¤å®ç°ï¼Œå†é€šè¿‡æ‹¦æˆªå™¨é“¾å¢å¼º
	 */</span>
	<span class="hljs-keyword">public</span> ParameterHandler <span class="hljs-title function_">newParameterHandler</span><span class="hljs-params">(MappedStatement mappedStatement, Object parameterObject, BoundSql boundSql)</span> {
	    <span class="hljs-type">ParameterHandler</span> <span class="hljs-variable">parameterHandler</span> <span class="hljs-operator">=</span> mappedStatement.getLang().createParameterHandler(mappedStatement, parameterObject, boundSql);
        <span class="hljs-comment">// æ‹¦æˆªå™¨å¢å¼ºï¼šå…è®¸æ’ä»¶ä¿®æ”¹å‚æ•°å¤„ç†é€»è¾‘</span>
	    parameterHandler = (ParameterHandler) interceptorChain.pluginAll(parameterHandler);
	    <span class="hljs-keyword">return</span> parameterHandler;
	}

	<span class="hljs-comment">/**
	 * åˆ›å»ºResultSetHandlerï¼ˆç»“æœå¤„ç†å™¨ï¼‰
	 * å®ä¾‹åŒ–é»˜è®¤å®ç°DefaultResultSetHandlerï¼Œå†é€šè¿‡æ‹¦æˆªå™¨é“¾å¢å¼º
	 */</span>
	<span class="hljs-keyword">public</span> ResultSetHandler <span class="hljs-title function_">newResultSetHandler</span><span class="hljs-params">(Executor executor, MappedStatement mappedStatement, RowBounds rowBounds, ParameterHandler parameterHandler,
	      ResultHandler resultHandler, BoundSql boundSql)</span> {
	    <span class="hljs-type">ResultSetHandler</span> <span class="hljs-variable">resultSetHandler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultResultSetHandler</span>(executor, mappedStatement, parameterHandler, resultHandler, boundSql, rowBounds);
        <span class="hljs-comment">// æ‹¦æˆªå™¨å¢å¼ºï¼šå…è®¸æ’ä»¶ä¿®æ”¹ç»“æœå¤„ç†é€»è¾‘ï¼ˆå¦‚æ•°æ®è„±æ•ï¼‰</span>
	    resultSetHandler = (ResultSetHandler) interceptorChain.pluginAll(resultSetHandler);
	    <span class="hljs-keyword">return</span> resultSetHandler;
	}

	<span class="hljs-comment">/**
	 * åˆ›å»ºStatementHandlerï¼ˆStatementå°è£…è€…ï¼‰
	 * å®ä¾‹åŒ–è·¯ç”±å¤„ç†å™¨RoutingStatementHandlerï¼Œå†é€šè¿‡æ‹¦æˆªå™¨é“¾å¢å¼º
	 */</span>
	<span class="hljs-keyword">public</span> StatementHandler <span class="hljs-title function_">newStatementHandler</span><span class="hljs-params">(Executor executor, MappedStatement mappedStatement, Object parameterObject, RowBounds rowBounds, ResultHandler resultHandler, BoundSql boundSql)</span> {
	    <span class="hljs-type">StatementHandler</span> <span class="hljs-variable">statementHandler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RoutingStatementHandler</span>(executor, mappedStatement, parameterObject, rowBounds, resultHandler, boundSql);
        <span class="hljs-comment">// æ‹¦æˆªå™¨å¢å¼ºï¼šå…è®¸æ’ä»¶ä¿®æ”¹SQLæ‰§è¡Œé€»è¾‘ï¼ˆå¦‚åˆ†é¡µæ’ä»¶ï¼‰</span>
	    statementHandler = (StatementHandler) interceptorChain.pluginAll(statementHandler);
	    <span class="hljs-keyword">return</span> statementHandler;
	}

	<span class="hljs-comment">/**
	 * åˆ›å»ºExecutorï¼ˆæ‰§è¡Œå™¨ï¼‰
	 * æ ¹æ®æ‰§è¡Œå™¨ç±»å‹å®ä¾‹åŒ–å¯¹åº”å®ç°ï¼Œå¼€å¯ç¼“å­˜åˆ™åŒ…è£…ä¸ºCachingExecutorï¼Œæœ€åé€šè¿‡æ‹¦æˆªå™¨å¢å¼º
	 */</span>
	<span class="hljs-keyword">public</span> Executor <span class="hljs-title function_">newExecutor</span><span class="hljs-params">(Transaction transaction)</span> {
	    <span class="hljs-keyword">return</span> newExecutor(transaction, defaultExecutorType);
	}

	<span class="hljs-keyword">public</span> Executor <span class="hljs-title function_">newExecutor</span><span class="hljs-params">(Transaction transaction, ExecutorType executorType)</span> {
	    executorType = executorType == <span class="hljs-literal">null</span> ? defaultExecutorType : executorType;
	    executorType = executorType == <span class="hljs-literal">null</span> ? ExecutorType.SIMPLE : executorType;
	    Executor executor;
	    <span class="hljs-keyword">if</span> (ExecutorType.BATCH == executorType) {
	      executor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BatchExecutor</span>(<span class="hljs-built_in">this</span>, transaction);
	    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ExecutorType.REUSE == executorType) {
	      executor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReuseExecutor</span>(<span class="hljs-built_in">this</span>, transaction);
	    } <span class="hljs-keyword">else</span> {
	      executor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleExecutor</span>(<span class="hljs-built_in">this</span>, transaction);
	    }
	    <span class="hljs-comment">// è‹¥å¼€å¯äºŒçº§ç¼“å­˜ï¼ŒåŒ…è£…ä¸ºCachingExecutor</span>
	    <span class="hljs-keyword">if</span> (cacheEnabled) {
	      executor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CachingExecutor</span>(executor);
	    }
        <span class="hljs-comment">// æ‹¦æˆªå™¨å¢å¼ºï¼šå…è®¸æ’ä»¶ä¿®æ”¹æ‰§è¡Œå™¨é€»è¾‘ï¼ˆå¦‚äº‹åŠ¡å¢å¼ºã€ç¼“å­˜æ‰©å±•ï¼‰</span>
	    executor = (Executor) interceptorChain.pluginAll(executor);
	    <span class="hljs-keyword">return</span> executor;
	}
}
</code></pre>
<h3 data-id="heading-13">2. org.apache.ibatis.binding.MapperMethodï¼ˆæ–¹æ³•æ‰§è¡Œåˆ†å‘å™¨ï¼‰</h3>
<p>è¯¥ç±»è´Ÿè´£è§£æMapperæ–¹æ³•çš„SQLç±»å‹ã€å‚æ•°ä¿¡æ¯ï¼Œå°†æ–¹æ³•è°ƒç”¨åˆ†å‘è‡³SqlSessionå¯¹åº”çš„æ–¹æ³•ï¼Œæ˜¯Mapperä»£ç†å¯¹è±¡ä¸SqlSessionä¹‹é—´çš„æ¡¥æ¢ï¼Œæ ¸å¿ƒ<code>execute</code>æ–¹æ³•é€»è¾‘å¦‚ä¸‹ï¼ˆè¡¥å……å®Œæ•´æ ¸å¿ƒé€»è¾‘ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapperMethod</span> {
  <span class="hljs-comment">// å­˜å‚¨SQLå‘½ä»¤ä¿¡æ¯ï¼ˆç±»å‹ã€è¯­å¥IDç­‰ï¼‰</span>
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SqlCommand command;
  <span class="hljs-comment">// å­˜å‚¨æ–¹æ³•ç­¾åä¿¡æ¯ï¼ˆè¿”å›å€¼ç±»å‹ã€å‚æ•°ç±»å‹ç­‰ï¼‰</span>
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MethodSignature method;

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">MapperMethod</span><span class="hljs-params">(Class&lt;?&gt; mapperInterface, Method method, Configuration config)</span> {
    <span class="hljs-built_in">this</span>.command = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlCommand</span>(config, mapperInterface, method);
    <span class="hljs-built_in">this</span>.method = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MethodSignature</span>(config, mapperInterface, method);
  }

  <span class="hljs-comment">// æ ¸å¿ƒæ–¹æ³•ï¼šå¤„ç†å¢åˆ æ”¹æŸ¥æ–¹æ³•æ‰§è¡Œï¼Œåˆ†å‘è‡³SqlSession</span>
  <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">execute</span><span class="hljs-params">(SqlSession sqlSession, Object[] args)</span> {
    Object result;
    <span class="hljs-comment">// æ ¹æ®SQLå‘½ä»¤ç±»å‹åˆ†å‘æ‰§è¡Œ</span>
    <span class="hljs-keyword">switch</span> (command.getType()) {
      <span class="hljs-keyword">case</span> INSERT: {
        <span class="hljs-comment">// å¤„ç†å‚æ•°æ˜ å°„ï¼Œå°†argsè½¬æ¢ä¸ºSQLå‚æ•°</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">param</span> <span class="hljs-operator">=</span> method.convertArgsToSqlCommandParam(args);
        <span class="hljs-comment">// è°ƒç”¨SqlSession.insertï¼Œè¿”å›å½±å“è¡Œæ•°</span>
        result = rowCountResult(sqlSession.insert(command.getName(), param));
        <span class="hljs-keyword">break</span>;
      }
      <span class="hljs-keyword">case</span> UPDATE: {
        <span class="hljs-type">Object</span> <span class="hljs-variable">param</span> <span class="hljs-operator">=</span> method.convertArgsToSqlCommandParam(args);
        result = rowCountResult(sqlSession.update(command.getName(), param));
        <span class="hljs-keyword">break</span>;
      }
      <span class="hljs-keyword">case</span> DELETE: {
        <span class="hljs-type">Object</span> <span class="hljs-variable">param</span> <span class="hljs-operator">=</span> method.convertArgsToSqlCommandParam(args);
        result = rowCountResult(sqlSession.delete(command.getName(), param));
        <span class="hljs-keyword">break</span>;
      }
      <span class="hljs-keyword">case</span> SELECT:
        <span class="hljs-comment">// æ— è¿”å›å€¼ä¸”æœ‰ResultHandlerå‚æ•°ï¼ˆå›è°ƒå¤„ç†ç»“æœï¼‰</span>
        <span class="hljs-keyword">if</span> (method.returnsVoid() &amp;&amp; method.hasResultHandler()) {
          executeWithResultHandler(sqlSession, args);
          result = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-comment">// è¿”å›åˆ—è¡¨/æ•°ç»„</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.returnsMany()) {
          result = executeForMany(sqlSession, args);
        }
        <span class="hljs-comment">// è¿”å›Map</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.returnsMap()) {
          result = executeForMap(sqlSession, args);
        }
        <span class="hljs-comment">// è¿”å›Cursorï¼ˆæ¸¸æ ‡ï¼Œé€‚ç”¨äºå¤§é‡æ•°æ®æµå¼æŸ¥è¯¢ï¼‰</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.returnsCursor()) {
          result = executeForCursor(sqlSession, args);
        }
        <span class="hljs-comment">// è¿”å›å•ä¸ªå¯¹è±¡</span>
        <span class="hljs-keyword">else</span> {
          <span class="hljs-type">Object</span> <span class="hljs-variable">param</span> <span class="hljs-operator">=</span> method.convertArgsToSqlCommandParam(args);
          result = sqlSession.selectOne(command.getName(), param);
        }
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> FLUSH:
        result = sqlSession.flushStatements();
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BindingException</span>(<span class="hljs-string">"Unknown execution method for: "</span> + command.getName());
    }
    <span class="hljs-comment">// å¤„ç†è¿”å›å€¼ä¸ºnullä¸”æ–¹æ³•è¿”å›ç±»å‹ä¸ºåŸºæœ¬ç±»å‹çš„æƒ…å†µï¼ˆæŠ›å‡ºå¼‚å¸¸ï¼‰</span>
    <span class="hljs-keyword">if</span> (result == <span class="hljs-literal">null</span> &amp;&amp; method.getReturnType().isPrimitive() &amp;&amp; !method.returnsVoid()) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BindingException</span>(<span class="hljs-string">"Mapper method '"</span> + command.getName() 
          + <span class="hljs-string">" attempted to return null from a method with a primitive return type ("</span> + method.getReturnType() + <span class="hljs-string">")."</span>);
    }
    <span class="hljs-keyword">return</span> result;
  }

  <span class="hljs-comment">// æ‰§è¡ŒæŸ¥è¯¢åˆ—è¡¨é€»è¾‘</span>
  <span class="hljs-keyword">private</span> &lt;E&gt; Object <span class="hljs-title function_">executeForMany</span><span class="hljs-params">(SqlSession sqlSession, Object[] args)</span> {
    List&lt;E&gt; result;
    <span class="hljs-type">Object</span> <span class="hljs-variable">param</span> <span class="hljs-operator">=</span> method.convertArgsToSqlCommandParam(args);
    <span class="hljs-comment">// è‹¥æ–¹æ³•æœ‰RowBoundså‚æ•°ï¼ˆåˆ†é¡µå‚æ•°ï¼‰ï¼Œè°ƒç”¨å¸¦åˆ†é¡µçš„selectList</span>
    <span class="hljs-keyword">if</span> (method.hasRowBounds()) {
      <span class="hljs-type">RowBounds</span> <span class="hljs-variable">rowBounds</span> <span class="hljs-operator">=</span> method.extractRowBounds(args);
      result = sqlSession.selectList(command.getName(), param, rowBounds);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ— åˆ†é¡µï¼Œè°ƒç”¨æ™®é€šselectList</span>
      result = sqlSession.selectList(command.getName(), param);
    }
    <span class="hljs-comment">// è‹¥è¿”å›å€¼éœ€è¦è½¬æ¢ä¸ºæ•°ç»„ï¼Œè¿›è¡Œç±»å‹è½¬æ¢</span>
    <span class="hljs-keyword">if</span> (!method.getReturnType().isAssignableFrom(result.getClass())) {
      <span class="hljs-keyword">return</span> method.convertResultToList(result);
    }
    <span class="hljs-keyword">return</span> result;
  }

  <span class="hljs-comment">// å…¶ä»–è¾…åŠ©æ–¹æ³•ï¼ˆexecuteWithResultHandlerã€executeForMapç­‰ï¼‰çœç•¥...</span>

  <span class="hljs-comment">// å¤„ç†å½±å“è¡Œæ•°è¿”å›ç»“æœï¼ˆé€‚é…boolean/intç­‰è¿”å›ç±»å‹ï¼‰</span>
  <span class="hljs-keyword">private</span> Object <span class="hljs-title function_">rowCountResult</span><span class="hljs-params">(<span class="hljs-type">int</span> rowCount)</span> {
    <span class="hljs-keyword">final</span> Object result;
    <span class="hljs-keyword">if</span> (method.returnsVoid()) {
      result = <span class="hljs-literal">null</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Integer.class.equals(method.getReturnType()) || Integer.TYPE.equals(method.getReturnType())) {
      result = rowCount;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Long.class.equals(method.getReturnType()) || Long.TYPE.equals(method.getReturnType())) {
      result = (<span class="hljs-type">long</span>) rowCount;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Boolean.class.equals(method.getReturnType()) || Boolean.TYPE.equals(method.getReturnType())) {
      result = rowCount &gt; <span class="hljs-number">0</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BindingException</span>(<span class="hljs-string">"Mapper method '"</span> + command.getName() + <span class="hljs-string">"' has an unsupported return type: "</span> + method.getReturnType());
    }
    <span class="hljs-keyword">return</span> result;
  }
}
</code></pre>
<h2 data-id="heading-14">å››ã€æ€»ç»“</h2>
<p>MyBatis SQLæ‰§è¡Œæµç¨‹æœ¬è´¨æ˜¯â€œåˆ†å±‚åä½œ+æ¥å£æŠ½è±¡â€çš„è®¾è®¡æ¨¡å¼ï¼šé€šè¿‡Configurationç»Ÿä¸€ç®¡ç†é…ç½®ä¸å¯¹è±¡åˆ›å»ºï¼ŒSqlSessionæä¾›ä¸Šå±‚å…¥å£ï¼ŒExecutorè°ƒåº¦æ ¸å¿ƒæµç¨‹ï¼ŒStatementHandlerå°è£…JDBCæ“ä½œï¼Œé…åˆParameterHandlerã€ResultSetHandlerå®Œæˆå‚æ•°ä¸ç»“æœçš„æ˜ å°„ï¼Œæœ€ç»ˆé€šè¿‡æ‹¦æˆªå™¨é“¾æä¾›çµæ´»æ‰©å±•èƒ½åŠ›ã€‚</p>
<p>ç†è§£è¿™ä¸€æµç¨‹ï¼Œæ—¢èƒ½å¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®šä½SQLæ‰§è¡Œè¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼ˆå¦‚å‚æ•°ç»‘å®šé”™è¯¯ã€ç»“æœæ˜ å°„å¼‚å¸¸ã€æ’ä»¶æ‹¦æˆªå¤±æ•ˆç­‰ï¼‰ï¼Œä¹Ÿèƒ½ä¸ºè‡ªå®šä¹‰æ‰©å±•ï¼ˆå¦‚å¼€å‘æ’ä»¶ã€ä¼˜åŒ–æ‰§è¡Œé€»è¾‘ï¼‰æä¾›åº•å±‚æ”¯æ’‘ï¼ŒçœŸæ­£æŒæ¡MyBatisçš„æ ¸å¿ƒåŸç†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¿«é€Ÿä¸Šæ‰‹ï¼šLangChain + AgentRun æµè§ˆå™¨æ²™ç®±æç®€é›†æˆæŒ‡å—]]></title>    <link>https://juejin.cn/post/7597968460652707882</link>    <guid>https://juejin.cn/post/7597968460652707882</guid>    <pubDate>2026-01-22T09:21:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597968460652707882" data-draft-id="7598005428258144319" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¿«é€Ÿä¸Šæ‰‹ï¼šLangChain + AgentRun æµè§ˆå™¨æ²™ç®±æç®€é›†æˆæŒ‡å—"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-01-22T09:21:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¿«é€Ÿä¸Šæ‰‹ï¼šLangChain + AgentRun æµè§ˆå™¨æ²™ç®±æç®€é›†æˆæŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T09:21:58.000Z" title="Thu Jan 22 2026 09:21:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»27åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šè¾°æ³‰</p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ Agentic AI æ—¶ä»£ï¼Œæ™ºèƒ½ä½“éœ€è¦ä¸çœŸå®ä¸–ç•Œäº¤äº’ï¼Œè€Œæµè§ˆå™¨æ˜¯è¿æ¥è™šæ‹Ÿä¸–ç•Œä¸ç°å®ä¸–ç•Œçš„é‡è¦æ¡¥æ¢ã€‚AgentRun Browser Sandbox ä¸ºæ™ºèƒ½ä½“æä¾›äº†å®‰å…¨ã€é«˜æ€§èƒ½ã€å…è¿ç»´çš„æµè§ˆå™¨æ‰§è¡Œç¯å¢ƒï¼Œè®© AI Agent çœŸæ­£å…·å¤‡â€œä¸Šç½‘â€çš„èƒ½åŠ›â€”â€”ä»ç½‘é¡µæŠ“å–ã€ä¿¡æ¯æå–åˆ°è¡¨å•å¡«å†™ã€è‡ªåŠ¨åŒ–æ“ä½œï¼Œä¸€åˆ‡çš†å¯å®ç°ã€‚</p>
<h2 data-id="heading-1">AgentRun Browser Sandbox ä»‹ç»</h2>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯ Browser Sandbox?</h3>
<p>Browser Sandbox æ˜¯ AgentRun å¹³å°æä¾›çš„äº‘åŸç”Ÿæ— å¤´æµè§ˆå™¨æ²™ç®±æœåŠ¡ï¼ŒåŸºäºé˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ï¼ˆFCï¼‰æ„å»ºã€‚å®ƒä¸ºæ™ºèƒ½ä½“æä¾›äº†ä¸€ä¸ªå®‰å…¨éš”ç¦»çš„æµè§ˆå™¨æ‰§è¡Œç¯å¢ƒï¼Œæ”¯æŒé€šè¿‡æ ‡å‡†çš„ Chrome DevTools Protocol (CDP) è¿œç¨‹æ§åˆ¶æµè§ˆå™¨å®ä¾‹ã€‚</p>
<h3 data-id="heading-3">æ ¸å¿ƒç‰¹æ€§</h3>
<p><strong>æ— å¤´æµè§ˆå™¨èƒ½åŠ›</strong></p>
<ul>
<li>å†…ç½® Chromium/Chrome æµè§ˆå™¨ï¼Œæ”¯æŒå®Œæ•´çš„ Web æ ‡å‡†</li>
<li>åŸç”Ÿå…¼å®¹ Puppeteerã€Playwright ç­‰ä¸»æµè‡ªåŠ¨åŒ–æ¡†æ¶</li>
<li>æ”¯æŒé€šè¿‡ CDP åè®®è¿›è¡Œç²¾ç»†åŒ–æ§åˆ¶</li>
</ul>
<p><strong>å®æ—¶å¯è§†åŒ–</strong></p>
<ul>
<li>å†…ç½® VNC æœåŠ¡ï¼Œæ”¯æŒå®æ—¶æŸ¥çœ‹æµè§ˆå™¨ç•Œé¢</li>
<li>æä¾›æ“ä½œå½•åˆ¶åŠŸèƒ½ï¼Œæ–¹ä¾¿è°ƒè¯•å’Œå›æ”¾</li>
<li>æ”¯æŒé€šè¿‡ noVNC å®¢æˆ·ç«¯åœ¨ç½‘é¡µä¸­ç›´æ¥äº¤äº’</li>
</ul>
<p><strong>å®‰å…¨ä¸éš”ç¦»</strong></p>
<ul>
<li>æ¯ä¸ªæ²™ç®±å®ä¾‹è¿è¡Œåœ¨ç‹¬ç«‹çš„å®¹å™¨ç¯å¢ƒä¸­</li>
<li>æ–‡ä»¶ç³»ç»Ÿå’Œè¿›ç¨‹ç©ºé—´å®Œå…¨éš”ç¦»</li>
<li>æ”¯æŒ WSS åŠ å¯†ä¼ è¾“ï¼Œç¡®ä¿æ•°æ®å®‰å…¨</li>
</ul>
<p><strong>Serverless æ¶æ„</strong></p>
<ul>
<li>æŒ‰éœ€åˆ›å»ºï¼ŒæŒ‰é‡ä»˜è´¹ï¼Œæ— éœ€æå‰é¢„ç½®èµ„æº</li>
<li>å¿«é€Ÿå¼¹æ€§ä¼¸ç¼©ï¼Œæ”¯æŒé«˜å¹¶å‘åœºæ™¯</li>
<li>é›¶è¿ç»´ï¼Œæ— éœ€ç®¡ç†æœåŠ¡å™¨å’Œæµè§ˆå™¨ä¾èµ–</li>
</ul>
<h3 data-id="heading-4">ä¸»è¦åº”ç”¨åœºæ™¯</h3>
<ul>
<li><strong>AI Agent èµ‹èƒ½ï¼š</strong> ä¸ºå¤§æ¨¡å‹æä¾›â€œçœ¼ç›â€å’Œâ€œæ‰‹â€ï¼Œæ‰§è¡Œç½‘é¡µæµè§ˆã€ä¿¡æ¯æå–ã€åœ¨çº¿æ“ä½œç­‰ä»»åŠ¡</li>
<li><strong>è‡ªåŠ¨åŒ–æµ‹è¯•ï¼š</strong> åœ¨äº‘ç«¯è¿è¡Œç«¯åˆ°ç«¯ï¼ˆE2Eï¼‰æµ‹è¯•å’Œè§†è§‰å›å½’æµ‹è¯•</li>
<li><strong>æ•°æ®é‡‡é›†ï¼š</strong> ç¨³å®šã€é«˜æ•ˆåœ°è¿›è¡Œç½‘é¡µæŠ“å–ï¼Œåº”å¯¹åŠ¨æ€åŠ è½½å’Œåçˆ¬è™«æŒ‘æˆ˜</li>
<li><strong>å†…å®¹ç”Ÿæˆï¼š</strong> è‡ªåŠ¨åŒ–ç”Ÿæˆç½‘é¡µæˆªå›¾æˆ– PDF æ–‡æ¡£</li>
</ul>
<h2 data-id="heading-5">ä¸Šæ‰‹ä½¿ç”¨ AgentRun Browser Sandbox</h2>
<h3 data-id="heading-6">AgentRun SDK å¿«é€Ÿä»‹ç»</h3>
<p><em>åç»­çš„å†…å®¹å°†åŸºäº AgentRun SDK è¿›è¡Œï¼Œå› æ­¤æˆ‘ä»¬å…ˆå¯¹ SDK è¿›è¡Œç®€è¦ä»‹ç»ã€‚</em></p>
<p>Agentrun SDK æ˜¯ä¸€ä¸ªå¼€æºçš„å¼€å‘è€…å·¥å…·åŒ…ï¼Œæœ¬æœŸä»‹ç» Python ç‰ˆæœ¬ã€‚å…¶æ—¨åœ¨ç®€åŒ–æ™ºèƒ½ä½“ä¸ AgentRun å¹³å°å„ç§æœåŠ¡ï¼ˆåŒ…æ‹¬ Browser Sandboxï¼‰çš„é›†æˆã€‚å®ƒæä¾›äº†ç»Ÿä¸€çš„æ¥å£ï¼Œè®©æ‚¨å¯ä»¥ç”¨å‡ è¡Œä»£ç å°±å°†æ²™ç®±èƒ½åŠ›é›†æˆåˆ°ç°æœ‰çš„ Agent æ¡†æ¶ä¸­ã€‚SDK çš„æ ¸å¿ƒåŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<p><strong>ç»Ÿä¸€é›†æˆæ¥å£</strong></p>
<ul>
<li>æä¾›å¯¹ LangChainã€AgentScope ç­‰ä¸»æµæ¡†æ¶çš„å¼€ç®±å³ç”¨æ”¯æŒ</li>
<li>ç»Ÿä¸€çš„æ¨¡å‹ä»£ç†æ¥å£ï¼Œç®€åŒ–å¤šæ¨¡å‹ç®¡ç†</li>
<li>æ ‡å‡†åŒ–çš„å·¥å…·æ³¨å†Œæœºåˆ¶</li>
</ul>
<p><strong>Sandbox ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong></p>
<ul>
<li>è‡ªåŠ¨åˆ›å»ºå’Œé”€æ¯æ²™ç®±å®ä¾‹</li>
<li>æ”¯æŒä¼šè¯çº§åˆ«çš„çŠ¶æ€ä¿æŒ</li>
<li>çµæ´»çš„èµ„æºé…ç½®å’Œè¶…æ—¶æ§åˆ¶</li>
</ul>
<h4 data-id="heading-7">å®‰è£… AgentRun SDK</h4>
<pre><code class="hljs language-css" lang="css">pip install agentrun-sdk<span class="hljs-selector-attr">[playwright,server]</span>
</code></pre>
<p><em><strong>æ³¨æ„ï¼š</strong> ç¡®ä¿æ‚¨çš„ Python ç¯å¢ƒç‰ˆæœ¬åœ¨ 3.10 åŠä»¥ä¸Šã€‚</em></p>
<h4 data-id="heading-8">åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹</h4>
<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ AgentRun SDK åˆ›å»ºå’Œç®¡ç† Browser Sandbox çš„æ ¸å¿ƒä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fromÂ agentrun.sandbox import Sandbox, TemplateType
fromÂ playwright.sync_api import sync_playwright
<span class="hljs-comment"># åˆ›å»º Browser Sandbox</span>
<span class="hljs-attr">sandbox</span> = Sandbox.create(
Â  Â  <span class="hljs-attr">template_type</span>=TemplateType.BROWSER,
Â  Â  <span class="hljs-attr">template_name</span>=<span class="hljs-string">"your-template-name"</span>,
Â  Â  <span class="hljs-attr">sandbox_idle_timeout_seconds</span>=<span class="hljs-number">300</span>
)
<span class="hljs-comment"># è·å– CDP URLï¼ˆç”¨äº Playwright è¿æ¥ï¼‰</span>
<span class="hljs-attr">cdp_url</span> = sandbox.get_cdp_url()
<span class="hljs-comment"># ä½¿ç”¨ Playwright è¿æ¥å¹¶æ“ä½œ</span>
withÂ sync_playwright()Â asÂ p:
Â  Â  <span class="hljs-attr">browser</span> = p.chromium.connect_over_cdp(cdp_url)
Â  Â  <span class="hljs-attr">page</span> = browser.contexts[<span class="hljs-number">0</span>].pages[<span class="hljs-number">0</span>]
Â  Â  page.goto("https://www.example.com")
Â  Â  page.screenshot(<span class="hljs-attr">path</span>=<span class="hljs-string">"screenshot.png"</span>)
Â  Â  browser.close()
<span class="hljs-comment"># é”€æ¯ Sandbox</span>
sandbox.delete()
</code></pre>
<p><strong>å…³é”®æ¦‚å¿µï¼š</strong></p>
<ul>
<li><strong>template_nameï¼š</strong> æ§åˆ¶å°åˆ›å»ºçš„æµè§ˆå™¨ç¯å¢ƒæ¨¡æ¿</li>
<li><strong>cdp_urlï¼š</strong> ç”¨äº Playwright/Puppeteer è¿æ¥</li>
<li><strong>vnc_urlï¼š</strong> ç”¨äºå®æ—¶æŸ¥çœ‹æµè§ˆå™¨ç”»é¢ï¼ˆå¯é€šè¿‡ sandbox.get_cdp_url()Â è·å–ï¼‰</li>
</ul>
<p><em><strong>æ³¨æ„ï¼š</strong> ç”±äºæ‰€æœ‰æµè§ˆå™¨æ“ä½œéƒ½åœ¨äº‘ç«¯è¿›è¡Œï¼Œæ‚¨æ— éœ€åœ¨æœ¬åœ°å®‰è£…æµè§ˆå™¨ã€‚Playwright ä»…ç”¨äºé€šè¿‡ CDP åè®®è¿æ¥åˆ°äº‘ç«¯çš„æµè§ˆå™¨å®ä¾‹ã€‚</em></p>
<h3 data-id="heading-9">å¦‚ä½•åˆ›å»º Sandbox æ¨¡æ¿</h3>
<p>ä½¿ç”¨ Browser Sandbox éœ€è¦æ–°å»º Sandbox æ¨¡æ¿ï¼Œæ‚¨éœ€è¦è®¿é—®Â AgentRun æ§åˆ¶å°ç½‘ç«™ <strong>[</strong> <strong>1]</strong> ï¼Œå¹¶æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤åˆ›å»ºæ¨¡æ¿ï¼š</p>
<ol>
<li>åœ¨é¡¶éƒ¨èœå•æ é€‰æ‹©â€œè¿è¡Œæ—¶ä¸æ²™ç®±â€ï¼›</li>
<li>åœ¨å·¦ä¾§è¾¹æ é€‰æ‹©â€œSandbox æ²™ç®±â€ï¼›</li>
<li>ç‚¹å‡»å³ä¸Šè§’â€œåˆ›å»ºæ²™ç®±æ¨¡æ¿â€ï¼›</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c71a151b7f2d4286b4105f9c7b4edb3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769678518&amp;x-signature=0iSPYg39q1%2B5dlmeC3vj84A7nEY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol start="4">
<li>é€‰æ‹©â€œæµè§ˆå™¨â€ï¼›</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/830a2d64975d4afc841bbe3eab0ce324~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769678518&amp;x-signature=Z2fYumBi0gZZOljYcetReJ7EtnM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol start="5">
<li>åœ¨å¼¹å‡ºçš„æŠ½å±‰å¯¹è¯æ¡†ä¸­å¡«å†™å’Œé€‰æ‹©æ‚¨çš„æ¨¡æ¿çš„è§„æ ¼ã€ç½‘ç»œç­‰é…ç½®ï¼Œå¹¶å¤åˆ¶æ¨¡æ¿åç§°ï¼›</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68af0735e11844ed96bbc84e905e1fbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769678518&amp;x-signature=OBku4zG%2Bbj2f9XFXOjwTRYUJvdA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol start="6">
<li>ç‚¹å‡»â€œåˆ›å»ºæµè§ˆå™¨â€ç­‰å¾…å…¶å°±ç»ªå³å¯ã€‚</li>
</ol>
<h3 data-id="heading-10">ä»é›¶å¼€å§‹ç”¨ LangChain åˆ›å»º Browser Sandbox æ™ºèƒ½ä½“</h3>
<p>æœ¬æ•™ç¨‹å°†æŒ‡å¯¼æ‚¨ä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ Browser Sandbox æ™ºèƒ½ä½“é¡¹ç›®ã€‚</p>
<h4 data-id="heading-11">åŸºäº LangChain é›†æˆ Browser Sandbox</h4>
<p>æœ¬æ•™ç¨‹å°†è¯¦ç»†è®²è§£å¦‚ä½•ä½¿ç”¨ LangChain åˆ›å»º Browser Sandbox ç›¸å…³çš„ Tools å¹¶é›†æˆåˆ° Agent ä¸­ã€‚</p>
<p><strong>é¡¹ç›®ç»“æ„</strong></p>
<p>ä¸ºäº†ä¿æŒä»£ç çš„å†…èšæ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæˆ‘ä»¬å°†ä»£ç æ‹†åˆ†ä¸ºä»¥ä¸‹æ¨¡å—ï¼š</p>
<p>æ¨¡å—èŒè´£åˆ’åˆ†ï¼š</p>
<p><code>sandbox_manager.py</code>ï¼šè´Ÿè´£ Sandbox çš„åˆ›å»ºã€ç®¡ç†å’Œé”€æ¯ï¼Œæä¾›ç»Ÿä¸€çš„æ¥å£<br/>
<code>langchain_agent.py</code>ï¼šè´Ÿè´£åˆ›å»º LangChain Tools å’Œ Agentï¼Œé›†æˆ VNC ä¿¡æ¯
<code>main.py</code>ï¼šä½œä¸ºå…¥å£æ–‡ä»¶ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ä¸Šè¿°æ¨¡å—</p>
<p><strong>æ­¥éª¤ 1ï¼šåˆ›å»ºé¡¹ç›®å¹¶å®‰è£…ä¾èµ–</strong></p>
<p>é¦–å…ˆåˆ›å»ºé¡¹ç›®ç›®å½•ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span>Â -p langchain-demo
<span class="hljs-built_in">cd</span>Â langchain-demo
</code></pre>
<p>åˆ›å»ºÂ requirements.txtÂ æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">LangChain æ ¸å¿ƒåº“</span>
<span class="hljs-meta prompt_">langchain&gt;</span><span class="bash">=0.1.0</span>
<span class="hljs-meta prompt_">langchain-openai&gt;</span><span class="bash">=0.0.5</span>
<span class="hljs-meta prompt_">langchain-community&gt;</span><span class="bash">=0.0.20</span>
<span class="hljs-meta prompt_"># </span><span class="bash">AgentRun SDK</span>
agentrun-sdk[playwright,server]&gt;=0.0.8
<span class="hljs-meta prompt_"># </span><span class="bash">æµè§ˆå™¨è‡ªåŠ¨åŒ–</span>
<span class="hljs-meta prompt_">playwright&gt;</span><span class="bash">=1.40.0</span>
<span class="hljs-meta prompt_"># </span><span class="bash">ç¯å¢ƒå˜é‡ç®¡ç†</span>
<span class="hljs-meta prompt_">python-dotenv&gt;</span><span class="bash">=1.0.0</span>
</code></pre>
<p>ç„¶åå®‰è£…ä¾èµ–ï¼š</p>
<pre><code class="hljs">pip install -rÂ requirements.txt
</code></pre>
<p>ä¸»è¦ä¾èµ–è¯´æ˜ï¼š</p>
<ul>
<li><code>langchain</code>Â å’ŒÂ <code>langchain-openai</code>ï¼šLangChain æ ¸å¿ƒåº“</li>
<li><code>agentrun-sdk[playwright,server]</code>ï¼šAgentRun SDKï¼Œç”¨äº Sandbox ç®¡ç†</li>
<li><code>playwright</code>ï¼šæµè§ˆå™¨è‡ªåŠ¨åŒ–åº“</li>
<li><code>python-dotenv</code>ï¼šç¯å¢ƒå˜é‡ç®¡ç†</li>
</ul>
<p><strong>æ­¥éª¤ 2ï¼šé…ç½®ç¯å¢ƒå˜é‡</strong></p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºÂ <code>.env</code>Â æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°çš„ API Keyï¼Œç”¨äºè°ƒç”¨å¤§æ¨¡å‹èƒ½åŠ›</span>
<span class="hljs-comment"># è¯·å‰å¾€ https://bailian.console.aliyun.com/?tab=app#/api-key åˆ›å»ºå’ŒæŸ¥çœ‹</span>
<span class="hljs-attr">DASHSCOPE_API_KEY</span>=sk-your-bailian-api-key
<span class="hljs-comment"># é˜¿é‡Œäº‘è´¦å·çš„è®¿é—®å¯†é’¥ ID å’Œè®¿é—®å¯†é’¥ Secretï¼Œç”¨äº AgentRun SDK é‰´æƒ</span>
<span class="hljs-attr">ALIBABA_CLOUD_ACCESS_KEY_ID</span>=your-ak
<span class="hljs-attr">ALIBABA_CLOUD_ACCESS_KEY_SECRET</span>=your-sk
<span class="hljs-attr">ALIBABA_CLOUD_ACCOUNT_ID</span>=your-main-account-id
<span class="hljs-attr">ALIBABA_CLOUD_REGION</span>=cn-hangzhou
<span class="hljs-comment"># browser sandbox æ¨¡æ¿çš„åç§°ï¼Œå¯ä»¥åœ¨ https://functionai.console.aliyun.com/cn-hangzhou/agent/runtime/sandbox æ§åˆ¶å°åˆ›å»º</span>
<span class="hljs-attr">BROWSER_TEMPLATE_NAME</span>=sandbox-your-template-name
<span class="hljs-comment"># agentrun çš„æ§åˆ¶é¢å’Œæ•°æ®é¢çš„ API ç«¯ç‚¹è¯·æ±‚åœ°å€ï¼Œé»˜è®¤cn-hangzhou</span>
<span class="hljs-attr">AGENTRUN_CONTROL_ENDPOINT</span>=agentrun.cn-hangzhou.aliyuncs.com
<span class="hljs-attr">AGENTRUN_DATA_ENDPOINT</span>=https://<span class="hljs-variable">${your-main-account-id}</span>.agentrun-data.cn-hangzhou.aliyuncs.com
</code></pre>
<p><strong>æ­¥éª¤ 3ï¼šåˆ›å»º Sandbox ç”Ÿå‘½å‘¨æœŸç®¡ç†æ¨¡å—</strong></p>
<p>åˆ›å»ºÂ sandbox_manager.pyÂ æ–‡ä»¶ï¼Œè´Ÿè´£ Sandbox çš„åˆ›å»ºã€ç®¡ç†å’Œé”€æ¯ã€‚æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
Sandbox ç”Ÿå‘½å‘¨æœŸç®¡ç†æ¨¡å—
è´Ÿè´£ AgentRun Browser Sandbox çš„åˆ›å»ºã€ç®¡ç†å’Œé”€æ¯ã€‚
æä¾›ç»Ÿä¸€çš„æ¥å£ä¾› LangChain Agent ä½¿ç”¨ã€‚
"""</span>
<span class="hljs-keyword">import</span>Â os
<span class="hljs-keyword">from</span>Â typingÂ <span class="hljs-keyword">import</span>Â <span class="hljs-type">Optional</span>,Â <span class="hljs-type">Dict</span>,Â <span class="hljs-type">Any</span>
<span class="hljs-keyword">from</span>Â dotenvÂ <span class="hljs-keyword">import</span>Â load_dotenv
<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()
<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">SandboxManager</span>:
Â  Â Â <span class="hljs-string">"""Sandbox ç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨"""</span>
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
Â  Â  Â  Â Â self._sandbox:Â <span class="hljs-type">Optional</span>[<span class="hljs-type">Any</span>] =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â Â self._sandbox_id:Â <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â Â self._cdp_url:Â <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â Â self._vnc_url:Â <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] =Â <span class="hljs-literal">None</span>
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">create</span>(<span class="hljs-params">
Â  Â  Â  Â  self,
Â  Â  Â  Â  template_name:Â <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] =Â <span class="hljs-literal">None</span>,
Â  Â  Â  Â  idle_timeout:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">3000</span>
Â  Â  </span>) -&gt;Â <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Any</span>]:
Â  Â  Â  Â Â <span class="hljs-string">"""
Â  Â  Â  Â  åˆ›å»ºæˆ–è·å–ä¸€ä¸ªæµè§ˆå™¨ sandbox å®ä¾‹
Â  Â  Â  Â  Args:
Â  Â  Â  Â  Â  Â  template_name: Sandbox æ¨¡æ¿åç§°ï¼Œå¦‚æœä¸º None åˆ™ä»ç¯å¢ƒå˜é‡è¯»å–
Â  Â  Â  Â  Â  Â  idle_timeout: ç©ºé—²è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ 3000 ç§’
Â  Â  Â  Â  Returns:
Â  Â  Â  Â  Â  Â  dict: åŒ…å« sandbox_id, cdp_url, vnc_url çš„å­—å…¸
Â  Â  Â  Â  Raises:
Â  Â  Â  Â  Â  Â  RuntimeError: åˆ›å»ºå¤±è´¥æ—¶æŠ›å‡ºå¼‚å¸¸
Â  Â  Â  Â  """</span>
Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">from</span>Â agentrun.sandboxÂ <span class="hljs-keyword">import</span>Â Sandbox, TemplateType
Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># å¦‚æœå·²æœ‰ sandboxï¼Œç›´æ¥è¿”å›</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â self._sandboxÂ <span class="hljs-keyword">is</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-literal">None</span>:
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â self.get_info()
Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># ä»ç¯å¢ƒå˜é‡è·å–æ¨¡æ¿åç§°</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â template_nameÂ <span class="hljs-keyword">is</span>Â <span class="hljs-literal">None</span>:
Â  Â  Â  Â  Â  Â  Â  Â  template_name = os.getenv(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"BROWSER_TEMPLATE_NAME"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"sandbox-browser-demo"</span>
Â  Â  Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># åˆ›å»º sandbox</span>
Â  Â  Â  Â  Â  Â Â self._sandbox = Sandbox.create(
Â  Â  Â  Â  Â  Â  Â  Â  template_type=TemplateType.BROWSER,
Â  Â  Â  Â  Â  Â  Â  Â  template_name=template_name,
Â  Â  Â  Â  Â  Â  Â  Â  sandbox_idle_timeout_seconds=idle_timeout
Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  Â Â self._sandbox_id =Â self._sandbox.sandbox_id
Â  Â  Â  Â  Â  Â Â self._cdp_url =Â self._get_cdp_url()
Â  Â  Â  Â  Â  Â Â self._vnc_url =Â self._get_vnc_url()
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â self.get_info()
Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ImportErrorÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(e)
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">raise</span>Â RuntimeError(
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"agentrun-sdk æœªå®‰è£…ï¼Œè¯·è¿è¡Œ: pip install agentrun-sdk[playwright,server]"</span>
Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">raise</span>Â RuntimeError(<span class="hljs-string">f"åˆ›å»º Sandbox å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_info</span>(<span class="hljs-params">self</span>) -&gt;Â <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Any</span>]:
Â  Â  Â  Â Â <span class="hljs-string">"""
Â  Â  Â  Â  è·å–å½“å‰ sandbox çš„ä¿¡æ¯
Â  Â  Â  Â  Returns:
Â  Â  Â  Â  Â  Â  dict: åŒ…å« sandbox_id, cdp_url, vnc_url çš„å­—å…¸
Â  Â  Â  Â  Raises:
Â  Â  Â  Â  Â  Â  RuntimeError: å¦‚æœæ²¡æœ‰æ´»åŠ¨çš„ sandbox
Â  Â  Â  Â  """</span>
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â self._sandboxÂ <span class="hljs-keyword">is</span>Â <span class="hljs-literal">None</span>:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">raise</span>Â RuntimeError(<span class="hljs-string">"æ²¡æœ‰æ´»åŠ¨çš„ sandboxï¼Œè¯·å…ˆåˆ›å»º"</span>)
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â {
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"sandbox_id"</span>:Â self._sandbox_id,
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"cdp_url"</span>:Â self._cdp_url,
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"vnc_url"</span>:Â self._vnc_url,
Â  Â  Â  Â  }
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_cdp_url</span>(<span class="hljs-params">self</span>) -&gt;Â <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>]:
Â  Â  Â  Â Â <span class="hljs-string">"""è·å– CDP URL"""</span>
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â self._sandbox.get_cdp_url()
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_vnc_url</span>(<span class="hljs-params">self</span>) -&gt;Â <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>]:
Â  Â  Â  Â Â <span class="hljs-string">"""è·å– VNC URL"""</span>
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â self._sandbox.get_vnc_url()
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_sandbox_id</span>(<span class="hljs-params">self</span>) -&gt;Â <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>]:
Â  Â  Â  Â Â <span class="hljs-string">"""è·å– Sandbox ID"""</span>
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â self._sandbox_id
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">destroy</span>(<span class="hljs-params">self</span>) -&gt;Â <span class="hljs-built_in">str</span>:
Â  Â  Â  Â Â <span class="hljs-string">"""
Â  Â  Â  Â  é”€æ¯å½“å‰çš„ sandbox å®ä¾‹
Â  Â  Â  Â  Returns:
Â  Â  Â  Â  Â  Â  str: æ“ä½œç»“æœæè¿°
Â  Â  Â  Â  """</span>
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â self._sandboxÂ <span class="hljs-keyword">is</span>Â <span class="hljs-literal">None</span>:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"æ²¡æœ‰æ´»åŠ¨çš„ sandbox"</span>
Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â  sandbox_id =Â self._sandbox_id
Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># å°è¯•é”€æ¯ sandbox</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">hasattr</span>(self._sandbox,Â <span class="hljs-string">'delete'</span>):
Â  Â  Â  Â  Â  Â  Â  Â Â self._sandbox.delete()
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">elif</span>Â <span class="hljs-built_in">hasattr</span>(self._sandbox,Â <span class="hljs-string">'stop'</span>):
Â  Â  Â  Â  Â  Â  Â  Â Â self._sandbox.stop()
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">elif</span>Â <span class="hljs-built_in">hasattr</span>(self._sandbox,Â <span class="hljs-string">'destroy'</span>):
Â  Â  Â  Â  Â  Â  Â  Â Â self._sandbox.destroy()
Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># æ¸…ç†çŠ¶æ€</span>
Â  Â  Â  Â  Â  Â Â self._sandbox =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â  Â  Â Â self._sandbox_id =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â  Â  Â Â self._cdp_url =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â  Â  Â Â self._vnc_url =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f"Sandbox å·²é”€æ¯:Â <span class="hljs-subst">{sandbox_id}</span>"</span>
Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># å³ä½¿é”€æ¯å¤±è´¥ï¼Œä¹Ÿæ¸…ç†æœ¬åœ°çŠ¶æ€</span>
Â  Â  Â  Â  Â  Â Â self._sandbox =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â  Â  Â Â self._sandbox_id =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â  Â  Â Â self._cdp_url =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â  Â  Â Â self._vnc_url =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f"é”€æ¯ Sandbox æ—¶å‡ºé”™:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">is_active</span>(<span class="hljs-params">self</span>) -&gt;Â <span class="hljs-built_in">bool</span>:
Â  Â  Â  Â Â <span class="hljs-string">"""æ£€æŸ¥ sandbox æ˜¯å¦æ´»è·ƒ"""</span>
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â self._sandboxÂ <span class="hljs-keyword">is</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-literal">None</span>
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__enter__</span>(<span class="hljs-params">self</span>):
Â  Â  Â  Â Â <span class="hljs-string">"""ä¸Šä¸‹æ–‡ç®¡ç†å™¨å…¥å£"""</span>
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â self
Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__exit__</span>(<span class="hljs-params">self, exc_type, exc_val, exc_tb</span>):
Â  Â  Â  Â Â <span class="hljs-string">"""ä¸Šä¸‹æ–‡ç®¡ç†å™¨é€€å‡ºï¼Œè‡ªåŠ¨é”€æ¯"""</span>
Â  Â  Â  Â Â self.destroy()
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">False</span>
<span class="hljs-comment"># å…¨å±€å•ä¾‹ï¼ˆå¯é€‰ï¼Œç”¨äºç®€å•åœºæ™¯ï¼‰</span>
_global_manager:Â <span class="hljs-type">Optional</span>[SandboxManager] =Â <span class="hljs-literal">None</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_global_manager</span>() -&gt; SandboxManager:
Â  Â Â <span class="hljs-string">"""è·å–å…¨å±€ SandboxManager å•ä¾‹"""</span>
Â  Â Â <span class="hljs-keyword">global</span>Â _global_manager
Â  Â Â <span class="hljs-keyword">if</span>Â _global_managerÂ <span class="hljs-keyword">is</span>Â <span class="hljs-literal">None</span>:
Â  Â  Â  Â  _global_manager = SandboxManager()
Â  Â Â <span class="hljs-keyword">return</span>Â _global_manager
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">reset_global_manager</span>():
Â  Â Â <span class="hljs-string">"""é‡ç½®å…¨å±€ SandboxManager"""</span>
Â  Â Â <span class="hljs-keyword">global</span>Â _global_manager
Â  Â Â <span class="hljs-keyword">if</span>Â _global_manager:
Â  Â  Â  Â  _global_manager.destroy()
Â  Â  _global_manager =Â <span class="hljs-literal">None</span>
</code></pre>
<p><strong>å…³é”®åŠŸèƒ½ï¼š</strong></p>
<ol>
<li><strong>åˆ›å»º Sandboxï¼š</strong> ä½¿ç”¨ AgentRun SDK åˆ›å»ºæµè§ˆå™¨ Sandbox</li>
<li><strong>è·å–è¿æ¥ä¿¡æ¯ï¼š</strong> è‡ªåŠ¨è·å– CDP URL å’Œ VNC URLï¼Œæ”¯æŒå¤šç§å±æ€§åå…¼å®¹</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š</strong> æä¾›é”€æ¯æ–¹æ³•ï¼Œç¡®ä¿èµ„æºæ­£ç¡®é‡Šæ”¾</li>
</ol>
<p><strong>æ­¥éª¤ 4ï¼šåˆ›å»º LangChain Tools å’Œ Agent</strong></p>
<p>åˆ›å»ºÂ langchain_agent.pyÂ æ–‡ä»¶ï¼Œå®šä¹‰ LangChain Tools å¹¶åˆ›å»º Agentã€‚æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
LangChain Agent å’Œ Tools æ³¨å†Œæ¨¡å—
è´Ÿè´£åˆ›å»º LangChain Agentï¼Œæ³¨å†Œ Sandbox ç›¸å…³çš„ toolsï¼Œå¹¶é›†æˆ VNC å¯è§†åŒ–ã€‚
æœ¬æ¨¡å—ä½¿ç”¨ sandbox_manager.py ä¸­å°è£…çš„ SandboxManager æ¥ç®¡ç† sandbox ç”Ÿå‘½å‘¨æœŸã€‚
"""</span>
<span class="hljs-keyword">import</span>Â os
<span class="hljs-keyword">from</span>Â dotenvÂ <span class="hljs-keyword">import</span>Â load_dotenv
<span class="hljs-keyword">from</span>Â langchain.toolsÂ <span class="hljs-keyword">import</span>Â tool
<span class="hljs-keyword">from</span>Â langchain_openaiÂ <span class="hljs-keyword">import</span>Â ChatOpenAI
<span class="hljs-keyword">from</span>Â langchain.agentsÂ <span class="hljs-keyword">import</span>Â create_agent
<span class="hljs-keyword">from</span>Â pydanticÂ <span class="hljs-keyword">import</span>Â BaseModel, Field
<span class="hljs-comment"># å¯¼å…¥ sandbox ç®¡ç†å™¨</span>
<span class="hljs-keyword">from</span>Â sandbox_managerÂ <span class="hljs-keyword">import</span>Â SandboxManager
<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()
<span class="hljs-comment"># å…¨å±€ sandbox ç®¡ç†å™¨å®ä¾‹ï¼ˆå•ä¾‹æ¨¡å¼ï¼‰</span>
_sandbox_manager: SandboxManager |Â <span class="hljs-literal">None</span>Â =Â <span class="hljs-literal">None</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_sandbox_manager</span>() -&gt; SandboxManager:
Â  Â Â <span class="hljs-string">"""è·å– sandbox ç®¡ç†å™¨å®ä¾‹ï¼ˆå•ä¾‹æ¨¡å¼ï¼‰"""</span>
Â  Â Â <span class="hljs-keyword">global</span>Â _sandbox_manager
Â  Â Â <span class="hljs-keyword">if</span>Â _sandbox_managerÂ <span class="hljs-keyword">is</span>Â <span class="hljs-literal">None</span>:
Â  Â  Â  Â  _sandbox_manager = SandboxManager()
Â  Â Â <span class="hljs-keyword">return</span>Â _sandbox_manager
<span class="hljs-comment"># ============ LangChain Tools å®šä¹‰ ============</span>
<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">create_browser_sandbox</span>(<span class="hljs-params">
Â  Â  template_name:Â <span class="hljs-built_in">str</span>Â =Â <span class="hljs-literal">None</span>,
Â  Â  idle_timeout:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">3000</span>
</span>) -&gt;Â <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""åˆ›å»ºæˆ–è·å–ä¸€ä¸ªæµè§ˆå™¨ sandbox å®ä¾‹ã€‚
Â  Â  å½“éœ€è¦è®¿é—®ç½‘é¡µã€æ‰§è¡Œæµè§ˆå™¨æ“ä½œæ—¶ï¼Œé¦–å…ˆéœ€è¦åˆ›å»º sandboxã€‚
Â  Â  åˆ›å»ºæˆåŠŸåï¼Œä¼šè¿”å› sandbox ä¿¡æ¯ï¼ŒåŒ…æ‹¬ VNC URL ç”¨äºå¯è§†åŒ–ã€‚
Â  Â  Args:
Â  Â  Â  Â  template_name: Sandbox æ¨¡æ¿åç§°ï¼Œå¦‚æœä¸æä¾›åˆ™ä»ç¯å¢ƒå˜é‡ BROWSER_TEMPLATE_NAME è¯»å–
Â  Â  Â  Â  idle_timeout: ç©ºé—²è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ 3000 ç§’
Â  Â  Returns:
Â  Â  Â  Â  Sandbox ä¿¡æ¯å­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬ IDã€CDP URLã€VNC URL
Â  Â  """</span>
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  manager = get_sandbox_manager()
Â  Â  Â  Â Â <span class="hljs-comment"># å¦‚æœ template_name ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œè½¬æ¢ä¸º None ä»¥ä¾¿ä»ç¯å¢ƒå˜é‡è¯»å–</span>
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â template_name ==Â <span class="hljs-string">""</span>:
Â  Â  Â  Â  Â  Â  template_name =Â <span class="hljs-literal">None</span>
Â  Â  Â  Â  info = manager.create(template_name=template_name, idle_timeout=idle_timeout)
Â  Â  Â  Â  result =Â <span class="hljs-string">f"""âœ… Sandbox åˆ›å»ºæˆåŠŸï¼
ğŸ“‹ Sandbox ä¿¡æ¯:
- ID:Â <span class="hljs-subst">{info[<span class="hljs-string">'sandbox_id'</span>]}</span>
- CDP URL:Â <span class="hljs-subst">{info[<span class="hljs-string">'cdp_url'</span>]}</span>
"""</span>
Â  Â  Â  Â  vnc_url = info.get(<span class="hljs-string">'vnc_url'</span>)
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â vnc_url:
Â  Â  Â  Â  Â  Â  result +=Â <span class="hljs-string">f"- VNC URL:Â <span class="hljs-subst">{vnc_url}</span>\n\n"</span>
Â  Â  Â  Â  Â  Â  result +=Â <span class="hljs-string">"æç¤º: VNC æŸ¥çœ‹å™¨åº”è¯¥å·²è‡ªåŠ¨æ‰“å¼€ï¼Œæ‚¨å¯ä»¥åœ¨æµè§ˆå™¨ä¸­å®æ—¶æŸ¥çœ‹æµè§ˆå™¨æ“ä½œã€‚"</span>
Â  Â  Â  Â Â <span class="hljs-keyword">else</span>:
Â  Â  Â  Â  Â  Â  result +=Â <span class="hljs-string">"\nè­¦å‘Š: æœªè·å–åˆ° VNC URLï¼Œå¯èƒ½æ— æ³•ä½¿ç”¨å¯è§†åŒ–åŠŸèƒ½ã€‚"</span>
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â result
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f" åˆ›å»º Sandbox å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_sandbox_info</span>() -&gt;Â <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""è·å–å½“å‰ sandbox çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ IDã€CDP URLã€VNC URL ç­‰ã€‚
Â  Â  å½“éœ€è¦æŸ¥çœ‹å½“å‰ sandbox çŠ¶æ€æˆ–è·å– VNC è¿æ¥ä¿¡æ¯æ—¶ä½¿ç”¨æ­¤å·¥å…·ã€‚
Â  Â  Returns:
Â  Â  Â  Â  Sandbox ä¿¡æ¯å­—ç¬¦ä¸²
Â  Â  """</span>
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  manager = get_sandbox_manager()
Â  Â  Â  Â  info = manager.get_info()
Â  Â  Â  Â  result =Â <span class="hljs-string">f"""ğŸ“‹ å½“å‰ Sandbox ä¿¡æ¯:
- Sandbox ID:Â <span class="hljs-subst">{info[<span class="hljs-string">'sandbox_id'</span>]}</span>
- CDP URL:Â <span class="hljs-subst">{info[<span class="hljs-string">'cdp_url'</span>]}</span>
"""</span>
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â info.get(<span class="hljs-string">'vnc_url'</span>):
Â  Â  Â  Â  Â  Â  result +=Â <span class="hljs-string">f"- VNC URL:Â <span class="hljs-subst">{info[<span class="hljs-string">'vnc_url'</span>]}</span>\n\n"</span>
Â  Â  Â  Â  Â  Â  result +=Â <span class="hljs-string">"æ‚¨å¯ä»¥ä½¿ç”¨ VNC URL åœ¨æµè§ˆå™¨ä¸­å®æ—¶æŸ¥çœ‹æ“ä½œè¿‡ç¨‹ã€‚\n"</span>
Â  Â  Â  Â  Â  Â  result +=Â <span class="hljs-string">" Â  æ¨èä½¿ç”¨ vnc.html æ–‡ä»¶æˆ– noVNC å®¢æˆ·ç«¯ã€‚"</span>
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â result
Â  Â Â <span class="hljs-keyword">except</span>Â RuntimeErrorÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f"Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f" è·å– Sandbox ä¿¡æ¯å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">NavigateInput</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
Â  Â Â <span class="hljs-string">"""æµè§ˆå™¨å¯¼èˆªè¾“å…¥å‚æ•°"""</span>
Â  Â  url:Â <span class="hljs-built_in">str</span>Â = Field(description=<span class="hljs-string">"è¦è®¿é—®çš„ç½‘é¡µ URLï¼Œå¿…é¡»ä»¥ http:// æˆ– https:// å¼€å¤´"</span>)
Â  Â  wait_until:Â <span class="hljs-built_in">str</span>Â = Field(
Â  Â  Â  Â  default=<span class="hljs-string">"load"</span>,
Â  Â  Â  Â  description=<span class="hljs-string">"ç­‰å¾…é¡µé¢åŠ è½½çš„çŠ¶æ€: load, domcontentloaded, networkidle"</span>
Â  Â  )
Â  Â  timeout:Â <span class="hljs-built_in">int</span>Â = Field(
Â  Â  Â  Â  default=<span class="hljs-number">30000</span>,
Â  Â  Â  Â  description=<span class="hljs-string">"è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000"</span>
Â  Â  )
<span class="hljs-meta">@tool(<span class="hljs-params">args_schema=NavigateInput</span>)</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">navigate_to_url</span>(<span class="hljs-params">url:Â <span class="hljs-built_in">str</span>, wait_until:Â <span class="hljs-built_in">str</span>Â =Â <span class="hljs-string">"load"</span>, timeout:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">30000</span></span>) -&gt;Â <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""ä½¿ç”¨ sandbox ä¸­çš„æµè§ˆå™¨å¯¼èˆªåˆ°æŒ‡å®š URLã€‚
Â  Â  å½“ç”¨æˆ·éœ€è¦è®¿é—®ç½‘é¡µæ—¶ä½¿ç”¨æ­¤å·¥å…·ã€‚å¯¼èˆªåå¯ä»¥åœ¨ VNC ä¸­å®æ—¶æŸ¥çœ‹é¡µé¢ã€‚
Â  Â  Args:
Â  Â  Â  Â  url: è¦è®¿é—®çš„ç½‘é¡µ URL
Â  Â  Â  Â  wait_until: ç­‰å¾…é¡µé¢åŠ è½½çš„çŠ¶æ€ï¼ˆload/domcontentloaded/networkidleï¼‰
Â  Â  Â  Â  timeout: è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
Â  Â  Returns:
Â  Â  Â  Â  å¯¼èˆªç»“æœæè¿°
Â  Â  """</span>
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  manager = get_sandbox_manager()
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â manager.is_active():
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">" é”™è¯¯: è¯·å…ˆåˆ›å»º sandbox"</span>
Â  Â  Â  Â Â <span class="hljs-comment"># éªŒè¯ URL</span>
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â url.startswith((<span class="hljs-string">"http://"</span>,Â <span class="hljs-string">"https://"</span>)):
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f" é”™è¯¯: æ— æ•ˆçš„ URL æ ¼å¼:Â <span class="hljs-subst">{url}</span>"</span>
Â  Â  Â  Â  cdp_url = manager.get_cdp_url()
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â cdp_url:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">" é”™è¯¯: æ— æ³•è·å– CDP URL"</span>
Â  Â  Â  Â Â <span class="hljs-comment"># ä½¿ç”¨ Playwright è¿æ¥æµè§ˆå™¨å¹¶å¯¼èˆª</span>
Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">from</span>Â playwright.sync_apiÂ <span class="hljs-keyword">import</span>Â sync_playwright
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">with</span>Â sync_playwright()Â <span class="hljs-keyword">as</span>Â p:
Â  Â  Â  Â  Â  Â  Â  Â  browser = p.chromium.connect_over_cdp(cdp_url)
Â  Â  Â  Â  Â  Â  Â  Â  pages = browser.contexts[<span class="hljs-number">0</span>].pagesÂ <span class="hljs-keyword">if</span>Â browser.contextsÂ <span class="hljs-keyword">else</span>Â []
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â pages:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  page = pages[<span class="hljs-number">0</span>]
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">else</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  page = browser.new_page()
Â  Â  Â  Â  Â  Â  Â  Â  page.goto(url, wait_until=wait_until, timeout=timeout)
Â  Â  Â  Â  Â  Â  Â  Â  title = page.title()
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f"å·²æˆåŠŸå¯¼èˆªåˆ°:Â <span class="hljs-subst">{url}</span>\nğŸ“„ é¡µé¢æ ‡é¢˜:Â <span class="hljs-subst">{title}</span>\nğŸ’¡ æ‚¨å¯ä»¥åœ¨ VNC ä¸­æŸ¥çœ‹é¡µé¢å†…å®¹ã€‚"</span>
Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ImportError:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f"å¯¼èˆªæŒ‡ä»¤å·²å‘é€:Â <span class="hljs-subst">{url}</span>\nğŸ’¡ æç¤º: å®‰è£… playwright ä»¥å¯ç”¨å®é™…å¯¼èˆªåŠŸèƒ½ (pip install playwright)"</span>
Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f" å¯¼èˆªå¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f" æ“ä½œå¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
<span class="hljs-meta">@tool(<span class="hljs-params"><span class="hljs-string">"browser_screenshot"</span>, description=<span class="hljs-string">"åœ¨æµè§ˆå™¨ sandbox ä¸­æˆªå–å½“å‰é¡µé¢æˆªå›¾"</span></span>)</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">take_screenshot</span>(<span class="hljs-params">filename:Â <span class="hljs-built_in">str</span>Â =Â <span class="hljs-string">"screenshot.png"</span></span>) -&gt;Â <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""æˆªå–æµè§ˆå™¨å½“å‰é¡µé¢çš„æˆªå›¾ã€‚
Â  Â  Args:
Â  Â  Â  Â  filename: æˆªå›¾æ–‡ä»¶åï¼Œé»˜è®¤ "screenshot.png"
Â  Â  Returns:
Â  Â  Â  Â  æ“ä½œç»“æœ
Â  Â  """</span>
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  manager = get_sandbox_manager()
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â manager.is_active():
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">" é”™è¯¯: è¯·å…ˆåˆ›å»º sandbox"</span>
Â  Â  Â  Â  cdp_url = manager.get_cdp_url()
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â cdp_url:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">" é”™è¯¯: æ— æ³•è·å– CDP URL"</span>
Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">from</span>Â playwright.sync_apiÂ <span class="hljs-keyword">import</span>Â sync_playwright
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">with</span>Â sync_playwright()Â <span class="hljs-keyword">as</span>Â p:
Â  Â  Â  Â  Â  Â  Â  Â  browser = p.chromium.connect_over_cdp(cdp_url)
Â  Â  Â  Â  Â  Â  Â  Â  pages = browser.contexts[<span class="hljs-number">0</span>].pagesÂ <span class="hljs-keyword">if</span>Â browser.contextsÂ <span class="hljs-keyword">else</span>Â []
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â pages:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  page = pages[<span class="hljs-number">0</span>]
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">else</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">" é”™è¯¯: æ²¡æœ‰æ‰“å¼€çš„é¡µé¢"</span>
Â  Â  Â  Â  Â  Â  Â  Â  page.screenshot(path=filename)
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f"æˆªå›¾å·²ä¿å­˜:Â <span class="hljs-subst">{filename}</span>"</span>
Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ImportError:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">" é”™è¯¯: éœ€è¦å®‰è£… playwright (pip install playwright)"</span>
Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f" æˆªå›¾å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f" æ“ä½œå¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
<span class="hljs-meta">@tool(<span class="hljs-params"><span class="hljs-string">"destroy_sandbox"</span>, description=<span class="hljs-string">"é”€æ¯å½“å‰çš„ sandbox å®ä¾‹ï¼Œé‡Šæ”¾èµ„æºã€‚æ³¨æ„ï¼šä»…åœ¨ç¨‹åºé€€å‡ºæˆ–æ˜ç¡®éœ€è¦é‡Šæ”¾èµ„æºæ—¶ä½¿ç”¨ï¼Œä¸è¦åœ¨ä¸€è½®å¯¹è¯åé”€æ¯ã€‚"</span></span>)</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">destroy_sandbox</span>() -&gt;Â <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""é”€æ¯å½“å‰çš„ sandbox å®ä¾‹ã€‚
Â  Â  é‡è¦æç¤ºï¼šæ­¤å·¥å…·åº”è¯¥ä»…åœ¨ä»¥ä¸‹æƒ…å†µä½¿ç”¨ï¼š
Â  Â  - ç¨‹åºå³å°†é€€å‡º
Â  Â  - æ˜ç¡®éœ€è¦é‡Šæ”¾èµ„æº
Â  Â  - ç”¨æˆ·æ˜ç¡®è¦æ±‚é”€æ¯
Â  Â  ä¸è¦åœ¨ä¸€è½®å¯¹è¯å®Œæˆåå°±é”€æ¯ sandboxï¼Œå› ä¸º sandbox å¯ä»¥åœ¨å¤šè½®å¯¹è¯ä¸­å¤ç”¨ã€‚
Â  Â  Returns:
Â  Â  Â  Â  æ“ä½œç»“æœ
Â  Â  """</span>
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  manager = get_sandbox_manager()
Â  Â  Â  Â  result = manager.destroy()
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â result
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f" é”€æ¯å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
<span class="hljs-comment"># ============ Agent åˆ›å»º ============</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">create_browser_agent</span>(<span class="hljs-params">system_prompt:Â <span class="hljs-built_in">str</span>Â =Â <span class="hljs-literal">None</span></span>):
Â  Â Â <span class="hljs-string">"""
Â  Â  åˆ›å»ºå¸¦æœ‰ sandbox å·¥å…·çš„ LangChain Agent
Â  Â  Args:
Â  Â  Â  Â  system_prompt: è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯ï¼Œå¦‚æœä¸º None åˆ™ä½¿ç”¨é»˜è®¤æç¤ºè¯
Â  Â  Returns:
Â  Â  Â  Â  LangChain Agent å®ä¾‹
Â  Â  """</span>
Â  Â Â <span class="hljs-comment"># é…ç½® DashScope API</span>
Â  Â  api_key = os.getenv(<span class="hljs-string">"DASHSCOPE_API_KEY"</span>)
Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â api_key:
Â  Â  Â  Â Â <span class="hljs-keyword">raise</span>Â ValueError(<span class="hljs-string">"è¯·è®¾ç½®ç¯å¢ƒå˜é‡ DASHSCOPE_API_KEY"</span>)
Â  Â  base_url =Â <span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>
Â  Â  model_name = os.getenv(<span class="hljs-string">"QWEN_MODEL"</span>,Â <span class="hljs-string">"qwen-plus"</span>)
Â  Â Â <span class="hljs-comment"># åˆ›å»º LLM</span>
Â  Â  model = ChatOpenAI(
Â  Â  Â  Â  model=model_name,
Â  Â  Â  Â  api_key=api_key,
Â  Â  Â  Â  base_url=base_url,
Â  Â  Â  Â  temperature=<span class="hljs-number">0.7</span>,
Â  Â  )
Â  Â Â <span class="hljs-comment"># åˆ›å»ºå·¥å…·åˆ—è¡¨</span>
Â  Â  tools = [
Â  Â  Â  Â  create_browser_sandbox,
Â  Â  Â  Â  get_sandbox_info,
Â  Â  Â  Â  navigate_to_url,
Â  Â  Â  Â  take_screenshot,
Â  Â  Â  Â  destroy_sandbox,
Â  Â  ]
Â  Â Â <span class="hljs-comment"># é»˜è®¤ç³»ç»Ÿæç¤ºè¯</span>
Â  Â Â <span class="hljs-keyword">if</span>Â system_promptÂ <span class="hljs-keyword">is</span>Â <span class="hljs-literal">None</span>:
Â  Â  Â  Â  system_prompt =Â <span class="hljs-string">"""ä½ æ˜¯ä¸€ä¸ªæµè§ˆå™¨è‡ªåŠ¨åŒ–åŠ©æ‰‹ï¼Œå¯ä»¥ä½¿ç”¨ sandbox æ¥è®¿é—®å’Œæ“ä½œç½‘é¡µã€‚
å½“ç”¨æˆ·éœ€è¦è®¿é—®ç½‘é¡µæ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š
1. é¦–å…ˆåˆ›å»ºæˆ–è·å– sandboxï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
2. ä½¿ç”¨ navigate_to_url å¯¼èˆªåˆ°ç›®æ ‡ç½‘é¡µ
3. æ‰§è¡Œç”¨æˆ·è¯·æ±‚çš„æ“ä½œ
4. å¦‚æœéœ€è¦ï¼Œå¯ä»¥æˆªå–æˆªå›¾
é‡è¦æç¤ºï¼š
- åˆ›å»º sandbox åï¼Œä¼šè¿”å› VNC URLï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨å®ƒå®æ—¶æŸ¥çœ‹æµè§ˆå™¨æ“ä½œ
- æ‰€æœ‰æ“ä½œéƒ½ä¼šåœ¨ VNC ä¸­å®æ—¶æ˜¾ç¤ºï¼Œæ–¹ä¾¿è°ƒè¯•å’Œç›‘æ§
- sandbox å¯ä»¥åœ¨å¤šè½®å¯¹è¯ä¸­å¤ç”¨ï¼Œä¸è¦åœ¨ä¸€è½®å¯¹è¯å®Œæˆåå°±é”€æ¯
- åªæœ‰åœ¨ç”¨æˆ·æ˜ç¡®è¦æ±‚é”€æ¯æ—¶æ‰ä½¿ç”¨ destroy_sandbox å·¥å…·
- ä¸è¦ä¸»åŠ¨å»ºè®®ç”¨æˆ·é”€æ¯ sandboxï¼Œé™¤éç”¨æˆ·æ˜ç¡®è¦æ±‚
- è¯·å§‹ç»ˆç”¨ä¸­æ–‡å›å¤ï¼Œç¡®ä¿æ“ä½œå‡†ç¡®ã€é«˜æ•ˆã€‚"""</span>
Â  Â Â <span class="hljs-comment"># åˆ›å»º Agent</span>
Â  Â  agent = create_agent(
Â  Â  Â  Â  model=model,
Â  Â  Â  Â  tools=tools,
Â  Â  Â  Â  system_prompt=system_prompt,
Â  Â  )
Â  Â Â <span class="hljs-keyword">return</span>Â agent
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_available_tools</span>():
Â  Â Â <span class="hljs-string">"""è·å–æ‰€æœ‰å¯ç”¨çš„å·¥å…·åˆ—è¡¨"""</span>
Â  Â Â <span class="hljs-keyword">return</span>Â [
Â  Â  Â  Â  create_browser_sandbox,
Â  Â  Â  Â  get_sandbox_info,
Â  Â  Â  Â  navigate_to_url,
Â  Â  Â  Â  take_screenshot,
Â  Â  Â  Â  destroy_sandbox,
Â  Â  ]
</code></pre>
<p><strong>å…³é”®è¦ç‚¹ï¼š</strong></p>
<ol>
<li><strong>Tool å®šä¹‰ï¼š</strong> ä½¿ç”¨ @toolÂ è£…é¥°å™¨å®šä¹‰ LangChain Tools</li>
<li><strong>ç±»å‹æç¤ºï¼š</strong> æ‰€æœ‰å‚æ•°å¿…é¡»æœ‰ç±»å‹æç¤ºï¼Œç”¨äºç”Ÿæˆå·¥å…· schema</li>
<li><strong>æ–‡æ¡£å­—ç¬¦ä¸²ï¼š</strong> è¯¦ç»†çš„æ–‡æ¡£å­—ç¬¦ä¸²å¸®åŠ© LLM ç†è§£ä½•æ—¶ä½¿ç”¨å·¥å…·**</li>
<li><strong>å•ä¾‹æ¨¡å¼ï¼š</strong> ä½¿ç”¨å…¨å±€ç®¡ç†å™¨å®ä¾‹ç¡®ä¿ Sandbox åœ¨ä¼šè¯ä¸­å¤ç”¨**</li>
</ol>
<p><strong>æ­¥éª¤ 5ï¼šåˆ›å»ºä¸»å…¥å£æ–‡ä»¶</strong></p>
<p>åˆ›å»ºÂ main.pyÂ æ–‡ä»¶ï¼Œä½œä¸ºç¨‹åºå…¥å£ã€‚æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
LangChain + AgentRun Browser Sandbox é›†æˆç¤ºä¾‹
ä¸»å…¥å£æ–‡ä»¶ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ LangChain Agent ä¸ AgentRun Browser Sandbox é›†æˆã€‚
"""</span>
<span class="hljs-keyword">import</span>Â os
<span class="hljs-keyword">import</span>Â sys
<span class="hljs-keyword">import</span>Â signal
<span class="hljs-keyword">import</span>Â webbrowser
<span class="hljs-keyword">import</span>Â urllib.parse
<span class="hljs-keyword">import</span>Â threading
<span class="hljs-keyword">import</span>Â http.server
<span class="hljs-keyword">import</span>Â socketserver
<span class="hljs-keyword">from</span>Â pathlibÂ <span class="hljs-keyword">import</span>Â Path
<span class="hljs-keyword">from</span>Â dotenvÂ <span class="hljs-keyword">import</span>Â load_dotenv
<span class="hljs-keyword">from</span>Â langchain_agentÂ <span class="hljs-keyword">import</span>Â create_browser_agent, get_sandbox_manager
<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()
<span class="hljs-comment"># å…¨å±€ HTTP æœåŠ¡å™¨å®ä¾‹</span>
_http_server =Â <span class="hljs-literal">None</span>
_http_port =Â <span class="hljs-number">8080</span>
<span class="hljs-comment"># å…¨å±€æ¸…ç†æ ‡å¿—ï¼Œç”¨äºé˜²æ­¢é‡å¤æ¸…ç†</span>
_cleanup_done =Â <span class="hljs-literal">False</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">start_http_server</span>():
Â  Â Â <span class="hljs-string">"""å¯åŠ¨ä¸€ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨æ¥æä¾› vnc.html"""</span>
Â  Â Â <span class="hljs-keyword">global</span>Â _http_server
Â  Â Â <span class="hljs-keyword">if</span>Â _http_serverÂ <span class="hljs-keyword">is</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-literal">None</span>:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â _http_port
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  current_dir = Path(__file__).parent.absolute()
Â  Â  Â  Â Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">VNCRequestHandler</span>(http.server.SimpleHTTPRequestHandler):
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, *args, **kwargs</span>):
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">super</span>().__init__(*args, directory=<span class="hljs-built_in">str</span>(current_dir), **kwargs)
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">log_message</span>(<span class="hljs-params">self,Â <span class="hljs-built_in">format</span>, *args</span>):
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># é™é»˜æ—¥å¿—ï¼Œé¿å…è¾“å‡ºè¿‡å¤šä¿¡æ¯</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">pass</span>
Â  Â  Â  Â Â <span class="hljs-comment"># å°è¯•å¯åŠ¨æœåŠ¡å™¨</span>
Â  Â  Â  Â Â <span class="hljs-keyword">for</span>Â portÂ <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">range</span>(_http_port, _http_port +Â <span class="hljs-number">10</span>):
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â  Â  Â  server = socketserver.TCPServer((<span class="hljs-string">""</span>, port), VNCRequestHandler)
Â  Â  Â  Â  Â  Â  Â  Â  server.allow_reuse_address =Â <span class="hljs-literal">True</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># åœ¨åå°çº¿ç¨‹ä¸­è¿è¡ŒæœåŠ¡å™¨</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">run_server</span>():
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  server.serve_forever()
Â  Â  Â  Â  Â  Â  Â  Â  thread = threading.Thread(target=run_server, daemon=<span class="hljs-literal">True</span>)
Â  Â  Â  Â  Â  Â  Â  Â  thread.start()
Â  Â  Â  Â  Â  Â  Â  Â  _http_server = server
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â port
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â OSError:
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">continue</span>
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">None</span>
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¯åŠ¨ HTTP æœåŠ¡å™¨å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">None</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">open_vnc_viewer</span>(<span class="hljs-params">vnc_url:Â <span class="hljs-built_in">str</span></span>):
Â  Â Â <span class="hljs-string">"""
Â  Â  è‡ªåŠ¨æ‰“å¼€ VNC æŸ¥çœ‹å™¨å¹¶è®¾ç½® VNC URL
Â  Â  Args:
Â  Â  Â  Â  vnc_url: VNC WebSocket URL
Â  Â  """</span>
Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â vnc_url:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â Â <span class="hljs-comment"># è·å–å½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•</span>
Â  Â  Â  Â  current_dir = Path(__file__).parent.absolute()
Â  Â  Â  Â  vnc_html_path = current_dir /Â <span class="hljs-string">"vnc.html"</span>
Â  Â  Â  Â Â <span class="hljs-comment"># æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â vnc_html_path.exists():
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è­¦å‘Š: vnc.html æ–‡ä»¶ä¸å­˜åœ¨:Â <span class="hljs-subst">{vnc_html_path}</span>"</span>)
Â  Â  Â  Â  Â  Â  print_vnc_info(vnc_url)
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">return</span>
Â  Â  Â  Â Â <span class="hljs-comment"># å¯åŠ¨ HTTP æœåŠ¡å™¨</span>
Â  Â  Â  Â  port = start_http_server()
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â port:
Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># ç¼–ç  VNC URL ä½œä¸º URL å‚æ•°</span>
Â  Â  Â  Â  Â  Â  encoded_url = urllib.parse.quote(vnc_url, safe=<span class="hljs-string">''</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># æ„å»º HTTP URL</span>
Â  Â  Â  Â  Â  Â  http_url =Â <span class="hljs-string">f"http://localhost:<span class="hljs-subst">{port}</span>/vnc.html?url=<span class="hljs-subst">{encoded_url}</span>"</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># æ‰“å¼€æµè§ˆå™¨</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næ­£åœ¨æ‰“å¼€ VNC æŸ¥çœ‹å™¨..."</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"HTTP æœåŠ¡å™¨è¿è¡Œåœ¨: http://localhost:<span class="hljs-subst">{port}</span>"</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"VNC URL:Â <span class="hljs-subst">{vnc_url[:<span class="hljs-number">80</span>]}</span>..."</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å®Œæ•´ URL:Â <span class="hljs-subst">{http_url[:<span class="hljs-number">100</span>]}</span>..."</span>)
Â  Â  Â  Â  Â  Â  webbrowser.<span class="hljs-built_in">open</span>(http_url)
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"VNC æŸ¥çœ‹å™¨å·²æ‰“å¼€"</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"VNC URL å·²é€šè¿‡ URL å‚æ•°è‡ªåŠ¨è®¾ç½®ï¼Œé¡µé¢åŠ è½½åä¼šè‡ªåŠ¨è¿æ¥"</span>)
Â  Â  Â  Â Â <span class="hljs-keyword">else</span>:
Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># å¦‚æœ HTTP æœåŠ¡å™¨å¯åŠ¨å¤±è´¥ï¼Œå°è¯•ä½¿ç”¨ file:// åè®®</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"HTTP æœåŠ¡å™¨å¯åŠ¨å¤±è´¥ï¼Œå°è¯•ä½¿ç”¨æ–‡ä»¶åè®®..."</span>)
Â  Â  Â  Â  Â  Â  encoded_url = urllib.parse.quote(vnc_url, safe=<span class="hljs-string">''</span>)
Â  Â  Â  Â  Â  Â  file_url =Â <span class="hljs-string">f"file://<span class="hljs-subst">{vnc_html_path}</span>?url=<span class="hljs-subst">{encoded_url}</span>"</span>
Â  Â  Â  Â  Â  Â  webbrowser.<span class="hljs-built_in">open</span>(file_url)
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"VNC æŸ¥çœ‹å™¨å·²æ‰“å¼€ï¼ˆä½¿ç”¨æ–‡ä»¶åè®®ï¼‰"</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æç¤º: å¦‚æœæ— æ³•è‡ªåŠ¨è¿æ¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ VNC URL åˆ°è¾“å…¥æ¡†"</span>)
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è‡ªåŠ¨æ‰“å¼€ VNC æŸ¥çœ‹å™¨å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â  Â  Â  Â  print_vnc_info(vnc_url)
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">print_vnc_info</span>(<span class="hljs-params">vnc_url:Â <span class="hljs-built_in">str</span></span>):
Â  Â Â <span class="hljs-string">"""æ‰“å° VNC è¿æ¥ä¿¡æ¯"""</span>
Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â vnc_url:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span>Â +Â <span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>)
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"VNC å¯è§†åŒ–è¿æ¥ä¿¡æ¯"</span>)
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>)
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nVNC URL:Â <span class="hljs-subst">{vnc_url}</span>"</span>)
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nä½¿ç”¨æ–¹å¼:"</span>)
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" Â  1. ä½¿ç”¨ noVNC å®¢æˆ·ç«¯è¿æ¥"</span>)
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" Â  2. æˆ–åœ¨æµè§ˆå™¨ä¸­è®¿é—® VNC æŸ¥çœ‹å™¨é¡µé¢"</span>)
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" Â  3. å®æ—¶æŸ¥çœ‹æµè§ˆå™¨æ“ä½œè¿‡ç¨‹"</span>)
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span>Â +Â <span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>Â +Â <span class="hljs-string">"\n"</span>)
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">cleanup_sandbox</span>():
Â  Â Â <span class="hljs-string">"""
Â  Â  æ¸…ç† sandbox èµ„æº
Â  Â  è¿™ä¸ªå‡½æ•°å¯ä»¥è¢«ä¿¡å·å¤„ç†å™¨ã€å¼‚å¸¸å¤„ç†å™¨å’Œæ­£å¸¸é€€å‡ºæµç¨‹è°ƒç”¨
Â  Â  """</span>
Â  Â Â <span class="hljs-keyword">global</span>Â _cleanup_done
Â  Â Â <span class="hljs-comment"># é˜²æ­¢é‡å¤æ¸…ç†</span>
Â  Â Â <span class="hljs-keyword">if</span>Â _cleanup_done:
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>
Â  Â  _cleanup_done =Â <span class="hljs-literal">True</span>
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  manager = get_sandbox_manager()
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â manager.is_active():
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span>Â +Â <span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨æ¸…ç† sandbox..."</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>)
Â  Â  Â  Â  Â  Â  result = manager.destroy()
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¸…ç†ç»“æœ:Â <span class="hljs-subst">{result}</span>\n"</span>)
Â  Â  Â  Â Â <span class="hljs-keyword">else</span>:
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ²¡æœ‰æ´»åŠ¨çš„ sandbox éœ€è¦æ¸…ç†\n"</span>)
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næ¸…ç† sandbox æ—¶å‡ºé”™:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>\n"</span>)
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">signal_handler</span>(<span class="hljs-params">signum, frame</span>):
Â  Â Â <span class="hljs-string">"""
Â  Â  ä¿¡å·å¤„ç†å™¨ï¼Œå¤„ç† Ctrl+C (SIGINT) å’Œå…¶ä»–ä¿¡å·
Â  Â  Args:
Â  Â  Â  Â  signum: ä¿¡å·ç¼–å·
Â  Â  Â  Â  frame: å½“å‰å †æ ˆå¸§
Â  Â  """</span>
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n\næ”¶åˆ°ä¸­æ–­ä¿¡å·ï¼Œæ­£åœ¨æ¸…ç†èµ„æº..."</span>)
Â  Â  cleanup_sandbox()
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¸…ç†å®Œæˆ"</span>)
Â  Â  sys.exit(<span class="hljs-number">0</span>)
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">main</span>():
Â  Â Â <span class="hljs-string">"""ä¸»å‡½æ•°"""</span>
Â  Â Â <span class="hljs-keyword">global</span>Â _cleanup_done
Â  Â Â <span class="hljs-comment"># é‡ç½®æ¸…ç†æ ‡å¿—</span>
Â  Â  _cleanup_done =Â <span class="hljs-literal">False</span>
Â  Â Â <span class="hljs-comment"># æ³¨å†Œä¿¡å·å¤„ç†å™¨ï¼Œå¤„ç† Ctrl+C (SIGINT)</span>
Â  Â  signal.signal(signal.SIGINT, signal_handler)
Â  Â Â <span class="hljs-comment"># åœ¨ Windows ä¸Šï¼ŒSIGBREAK ä¹Ÿå¯ä»¥å¤„ç†</span>
Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">hasattr</span>(signal,Â <span class="hljs-string">'SIGBREAK'</span>):
Â  Â  Â  Â  signal.signal(signal.SIGBREAK, signal_handler)
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>)
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"LangChain + AgentRun Browser Sandbox é›†æˆç¤ºä¾‹"</span>)
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>)
Â  Â Â <span class="hljs-built_in">print</span>()
Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â Â <span class="hljs-comment"># åˆ›å»º Agent</span>
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨åˆå§‹åŒ– LangChain Agent..."</span>)
Â  Â  Â  Â  agent = create_browser_agent()
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"Agent åˆå§‹åŒ–å®Œæˆ\n"</span>)
Â  Â  Â  Â Â <span class="hljs-comment"># ç¤ºä¾‹æŸ¥è¯¢</span>
Â  Â  Â  Â  queries = [
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"åˆ›å»ºä¸€ä¸ªæµè§ˆå™¨ sandbox"</span>,
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"è·å–å½“å‰ sandbox çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ VNC URL"</span>,
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"å¯¼èˆªåˆ° https://www.aliyun.com"</span>,
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"æˆªå–å½“å‰é¡µé¢æˆªå›¾"</span>,
Â  Â  Â  Â  ]
Â  Â  Â  Â Â <span class="hljs-comment"># æ‰§è¡ŒæŸ¥è¯¢</span>
Â  Â  Â  Â Â <span class="hljs-keyword">for</span>Â i, queryÂ <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">enumerate</span>(queries,Â <span class="hljs-number">1</span>):
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{<span class="hljs-string">'='</span>Â *Â <span class="hljs-number">60</span>}</span>"</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢Â <span class="hljs-subst">{i}</span>:Â <span class="hljs-subst">{query}</span>"</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{<span class="hljs-string">'='</span>Â *Â <span class="hljs-number">60</span>}</span>\n"</span>)
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â  Â  Â  result = agent.invoke({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>:Â <span class="hljs-string">"user"</span>,Â <span class="hljs-string">"content"</span>: query}]
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># æå–æœ€åä¸€æ¡æ¶ˆæ¯çš„å†…å®¹</span>
Â  Â  Â  Â  Â  Â  Â  Â  output = result.get(<span class="hljs-string">"messages"</span>, [])[-<span class="hljs-number">1</span>].contentÂ <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">isinstance</span>(result.get(<span class="hljs-string">"messages"</span>),Â <span class="hljs-built_in">list</span>)Â <span class="hljs-keyword">else</span>Â result.get(<span class="hljs-string">"output"</span>,Â <span class="hljs-built_in">str</span>(result))
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nç»“æœ:\n<span class="hljs-subst">{output}</span>\n"</span>)
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># å¦‚æœæ˜¯åˆ›å»º sandboxï¼Œè‡ªåŠ¨æ‰“å¼€ VNC æŸ¥çœ‹å™¨</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â i ==Â <span class="hljs-number">1</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># ç­‰å¾…ä¸€ä¸‹ç¡®ä¿ sandbox å®Œå…¨åˆ›å»º</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">import</span>Â time
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  time.sleep(<span class="hljs-number">1</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  manager = get_sandbox_manager()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â manager.is_active():
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  info = manager.get_info()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  vnc_url = info.get(<span class="hljs-string">'vnc_url'</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â vnc_url:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næ£€æµ‹åˆ° VNC URL:Â <span class="hljs-subst">{vnc_url[:<span class="hljs-number">80</span>]}</span>..."</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  open_vnc_viewer(vnc_url)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  print_vnc_info(vnc_url)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">else</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nè­¦å‘Š: æœªè·å–åˆ° VNC URLï¼Œè¯·æ£€æŸ¥ sandbox åˆ›å»ºæ˜¯å¦æˆåŠŸ"</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰“å¼€ VNC æŸ¥çœ‹å™¨æ—¶å‡ºé”™:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">import</span>Â traceback
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  traceback.print_exc()
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># å¦‚æœæ˜¯è·å–ä¿¡æ¯ï¼Œæ˜¾ç¤º VNC ä¿¡æ¯</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">elif</span>Â i ==Â <span class="hljs-number">2</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  manager = get_sandbox_manager()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â manager.is_active():
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  info = manager.get_info()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â info.get(<span class="hljs-string">'vnc_url'</span>):
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  print_vnc_info(info[<span class="hljs-string">'vnc_url'</span>])
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">except</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">pass</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>\n"</span>)
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">import</span>Â traceback
Â  Â  Â  Â  Â  Â  Â  Â  traceback.print_exc()
Â  Â  Â  Â Â <span class="hljs-comment"># äº¤äº’å¼æŸ¥è¯¢</span>
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span>Â +Â <span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>)
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿›å…¥äº¤äº’æ¨¡å¼ï¼ˆè¾“å…¥ 'quit' æˆ– 'exit' é€€å‡ºï¼ŒCtrl+C æˆ– Ctrl+D ä¸­æ–­ï¼‰"</span>)
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>Â *Â <span class="hljs-number">60</span>Â +Â <span class="hljs-string">"\n"</span>)
Â  Â  Â  Â Â <span class="hljs-keyword">while</span>Â <span class="hljs-literal">True</span>:
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â  Â  Â  user_input =Â <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥æ‚¨çš„æŸ¥è¯¢: "</span>).strip()
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â EOFError:
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># å¤„ç† Ctrl+D (EOF)</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n\næ£€æµ‹åˆ°è¾“å…¥ç»“æŸ (Ctrl+D)ï¼Œæ­£åœ¨æ¸…ç†èµ„æº..."</span>)
Â  Â  Â  Â  Â  Â  Â  Â  cleanup_sandbox()
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¸…ç†å®Œæˆ"</span>)
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">break</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â KeyboardInterrupt:
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># å¤„ç† Ctrl+C (åœ¨ input è°ƒç”¨æœŸé—´)</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n\næ£€æµ‹åˆ°ä¸­æ–­ä¿¡å· (Ctrl+C)ï¼Œæ­£åœ¨æ¸…ç†èµ„æº..."</span>)
Â  Â  Â  Â  Â  Â  Â  Â  cleanup_sandbox()
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¸…ç†å®Œæˆ"</span>)
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">break</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â user_input:
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">continue</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â user_input.lower()Â <span class="hljs-keyword">in</span>Â [<span class="hljs-string">'quit'</span>,Â <span class="hljs-string">'exit'</span>,Â <span class="hljs-string">'é€€å‡º'</span>]:
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nBye"</span>)
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># é€€å‡ºå‰æ¸…ç† sandbox</span>
Â  Â  Â  Â  Â  Â  Â  Â  cleanup_sandbox()
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">break</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â  Â  Â  result = agent.invoke({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>:Â <span class="hljs-string">"user"</span>,Â <span class="hljs-string">"content"</span>: user_input}]
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  output = result.get(<span class="hljs-string">"messages"</span>, [])[-<span class="hljs-number">1</span>].contentÂ <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">isinstance</span>(result.get(<span class="hljs-string">"messages"</span>),Â <span class="hljs-built_in">list</span>)Â <span class="hljs-keyword">else</span>Â result.get(<span class="hljs-string">"output"</span>,Â <span class="hljs-built_in">str</span>(result))
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nç»“æœ:\n<span class="hljs-subst">{output}</span>\n"</span>)
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰“å¼€æˆ–æ˜¾ç¤º VNC ä¿¡æ¯</span>
Â  Â  Â  Â  Â  Â  Â  Â  user_input_lower = user_input.lower()
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-string">"åˆ›å»º"</span>Â <span class="hljs-keyword">in</span>Â user_input_lowerÂ <span class="hljs-keyword">and</span>Â <span class="hljs-string">"sandbox"</span>Â <span class="hljs-keyword">in</span>Â user_input_lower:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># å¦‚æœæ˜¯åˆ›å»º sandboxï¼Œè‡ªåŠ¨æ‰“å¼€ VNC æŸ¥çœ‹å™¨</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># ç­‰å¾…ä¸€ä¸‹ç¡®ä¿ sandbox å®Œå…¨åˆ›å»º</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">import</span>Â time
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  time.sleep(<span class="hljs-number">1</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  manager = get_sandbox_manager()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â manager.is_active():
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  info = manager.get_info()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  vnc_url = info.get(<span class="hljs-string">'vnc_url'</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â vnc_url:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næ£€æµ‹åˆ° VNC URL:Â <span class="hljs-subst">{vnc_url[:<span class="hljs-number">80</span>]}</span>..."</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  open_vnc_viewer(vnc_url)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  print_vnc_info(vnc_url)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">else</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nè­¦å‘Š: æœªè·å–åˆ° VNC URLï¼Œè¯·æ£€æŸ¥ sandbox åˆ›å»ºæ˜¯å¦æˆåŠŸ"</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰“å¼€ VNC æŸ¥çœ‹å™¨æ—¶å‡ºé”™:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">import</span>Â traceback
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  traceback.print_exc()
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">elif</span>Â <span class="hljs-string">"sandbox"</span>Â <span class="hljs-keyword">in</span>Â user_input_lowerÂ <span class="hljs-keyword">or</span>Â <span class="hljs-string">"vnc"</span>Â <span class="hljs-keyword">in</span>Â user_input_lower:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment"># å…¶ä»–æƒ…å†µåªæ˜¾ç¤ºä¿¡æ¯</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  manager = get_sandbox_manager()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â manager.is_active():
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  info = manager.get_info()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â info.get(<span class="hljs-string">'vnc_url'</span>):
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  print_vnc_info(info[<span class="hljs-string">'vnc_url'</span>])
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">except</span>:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">pass</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>\n"</span>)
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">import</span>Â traceback
Â  Â  Â  Â  Â  Â  Â  Â  traceback.print_exc()
Â  Â  Â  Â Â <span class="hljs-comment"># æ¸…ç†èµ„æºï¼ˆä»…åœ¨ç¨‹åºæ­£å¸¸é€€å‡ºæ—¶ï¼‰</span>
Â  Â  Â  Â  cleanup_sandbox()
Â  Â Â <span class="hljs-keyword">except</span>Â KeyboardInterrupt:
Â  Â  Â  Â Â <span class="hljs-comment"># å¤„ç†é¡¶å±‚ KeyboardInterrupt (Ctrl+C)</span>
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n\næ£€æµ‹åˆ°ä¸­æ–­ä¿¡å· (Ctrl+C)ï¼Œæ­£åœ¨æ¸…ç†èµ„æº..."</span>)
Â  Â  Â  Â  cleanup_sandbox()
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¸…ç†å®Œæˆ"</span>)
Â  Â  Â  Â  sys.exit(<span class="hljs-number">0</span>)
Â  Â Â <span class="hljs-keyword">except</span>Â EOFError:
Â  Â  Â  Â Â <span class="hljs-comment"># å¤„ç†é¡¶å±‚ EOFError (Ctrl+D)</span>
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n\næ£€æµ‹åˆ°è¾“å…¥ç»“æŸ (Ctrl+D)ï¼Œæ­£åœ¨æ¸…ç†èµ„æº..."</span>)
Â  Â  Â  Â  cleanup_sandbox()
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¸…ç†å®Œæˆ"</span>)
Â  Â  Â  Â  sys.exit(<span class="hljs-number">0</span>)
Â  Â Â <span class="hljs-keyword">except</span>Â ValueErrorÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é…ç½®é”™è¯¯:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næç¤º: è¯·ç¡®ä¿å·²è®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡:"</span>)
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" Â  - DASHSCOPE_API_KEY: DashScope API Key"</span>)
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" Â  - ALIBABA_CLOUD_ACCOUNT_ID: é˜¿é‡Œäº‘è´¦å· ID"</span>)
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" Â  - ALIBABA_CLOUD_ACCESS_KEY_ID: è®¿é—®å¯†é’¥ ID"</span>)
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" Â  - ALIBABA_CLOUD_ACCESS_KEY_SECRET: è®¿é—®å¯†é’¥ Secret"</span>)
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">" Â  - ALIBABA_CLOUD_REGION: åŒºåŸŸï¼ˆé»˜è®¤: cn-hangzhouï¼‰"</span>)
Â  Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â  Â  Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘ç”Ÿé”™è¯¯:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â  Â  Â  Â Â <span class="hljs-keyword">import</span>Â traceback
Â  Â  Â  Â  traceback.print_exc()
Â  Â  Â  Â Â <span class="hljs-comment"># å‘ç”Ÿé”™è¯¯æ—¶ä¹Ÿå°è¯•æ¸…ç†</span>
Â  Â  Â  Â  cleanup_sandbox()
<span class="hljs-keyword">if</span>Â __name__ ==Â <span class="hljs-string">"__main__"</span>:
Â  Â  main()
</code></pre>
<p><strong>å…³é”®åŠŸèƒ½ï¼š</strong></p>
<ol>
<li><strong>VNC è‡ªåŠ¨æ‰“å¼€ï¼š</strong> åˆ›å»º Sandbox åè‡ªåŠ¨æ‰“å¼€ VNC æŸ¥çœ‹å™¨</li>
<li><strong>ä¿¡å·å¤„ç†ï¼š</strong> æ•è· Ctrl+Cï¼Œç¡®ä¿èµ„æºæ­£ç¡®æ¸…ç†</li>
<li><strong>äº¤äº’æ¨¡å¼ï¼š</strong> æ”¯æŒæŒç»­å¯¹è¯ï¼Œå¤ç”¨ Sandbox å®ä¾‹</li>
</ol>
<p><strong>VNC å¯è§†åŒ–é›†æˆ</strong></p>
<p>VNCï¼ˆVirtual Network Computingï¼‰åŠŸèƒ½å…è®¸æ‚¨å®æ—¶æŸ¥çœ‹å’Œç›‘æ§æµè§ˆå™¨åœ¨ Sandbox ä¸­çš„æ“ä½œè¿‡ç¨‹ï¼Œè¿™å¯¹äºè°ƒè¯•å’Œç›‘æ§ Agent è¡Œä¸ºéå¸¸æœ‰ç”¨ã€‚</p>
<p><strong>è·å– VNC URLï¼š</strong></p>
<p>åˆ›å»º Sandbox åï¼Œå¯ä»¥é€šè¿‡Â <code>get_sandbox_infoÂ tool</code> è·å– VNC URLï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># é€šè¿‡ Agent è°ƒç”¨</span>
<span class="hljs-attr">result</span> = agent.invoke({
Â  Â Â "messages": <span class="hljs-section">[{"role":Â "user",Â "content":Â "è·å– sandbox ä¿¡æ¯"}]</span>
})
<span class="hljs-comment"># æˆ–ç›´æ¥é€šè¿‡ç®¡ç†å™¨è·å–</span>
<span class="hljs-attr">manager</span> = get_sandbox_manager()
<span class="hljs-attr">info</span> = manager.get_info()
<span class="hljs-attr">vnc_url</span> = info[<span class="hljs-string">'vnc_url'</span>]
</code></pre>
<p><strong>è‡ªåŠ¨æ‰“å¼€ VNC æŸ¥çœ‹å™¨ï¼š</strong></p>
<p>åœ¨Â <code>main.py</code>Â ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†è‡ªåŠ¨æ‰“å¼€ VNC æŸ¥çœ‹å™¨çš„åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span>Â webbrowser
<span class="hljs-keyword">import</span>Â urllib.parse
<span class="hljs-keyword">from</span>Â pathlibÂ <span class="hljs-keyword">import</span>Â Path
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">open_vnc_viewer</span>(<span class="hljs-params">vnc_url:Â <span class="hljs-built_in">str</span></span>):
Â  Â Â <span class="hljs-string">"""è‡ªåŠ¨æ‰“å¼€ VNC æŸ¥çœ‹å™¨"""</span>
Â  Â  current_dir = Path(__file__).parent.absolute()
Â  Â  vnc_html_path = current_dir /Â <span class="hljs-string">"vnc.html"</span>
Â  Â Â <span class="hljs-keyword">if</span>Â vnc_html_path.exists():
Â  Â  Â  Â Â <span class="hljs-comment"># é€šè¿‡ URL å‚æ•°ä¼ é€’ VNC URL</span>
Â  Â  Â  Â  encoded_url = urllib.parse.quote(vnc_url, safe=<span class="hljs-string">''</span>)
Â  Â  Â  Â  file_url =Â <span class="hljs-string">f"file://<span class="hljs-subst">{vnc_html_path}</span>?url=<span class="hljs-subst">{encoded_url}</span>"</span>
Â  Â  Â  Â  webbrowser.<span class="hljs-built_in">open</span>(file_url)
</code></pre>
<p><strong>VNC HTML é¡µé¢ï¼š</strong></p>
<p><code>vnc.html</code>Â é¡µé¢ä¼šä» URL å‚æ•°ä¸­è¯»å– VNC URLï¼Œå¹¶è‡ªåŠ¨è¿æ¥åˆ° VNC æœåŠ¡å™¨ã€‚é¡µé¢åŒ…å«ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ol>
<li><strong>noVNC åº“åŠ è½½ï¼š</strong> ä» CDN åŠ¨æ€åŠ è½½ noVNC å®¢æˆ·ç«¯åº“</li>
<li><strong>è‡ªåŠ¨è¿æ¥ï¼š</strong> è¯»å– URL å‚æ•°ä¸­çš„ VNC URL å¹¶è‡ªåŠ¨è¿æ¥</li>
<li><strong>çŠ¶æ€æ˜¾ç¤ºï¼š</strong> æ˜¾ç¤ºè¿æ¥çŠ¶æ€ï¼ˆè¿æ¥ä¸­ã€å·²è¿æ¥ã€å·²æ–­å¼€ï¼‰</li>
<li><strong>æ‰‹åŠ¨æ§åˆ¶ï¼š</strong> æ”¯æŒæ‰‹åŠ¨è¾“å…¥ VNC URLã€æ–­å¼€é‡è¿ç­‰æ“ä½œ</li>
</ol>
<p>æ ¸å¿ƒ JavaScript ä»£ç ç‰‡æ®µï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä» URL å‚æ•°è·å– VNC URL</span>
<span class="hljs-keyword">const</span>Â urlParams =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">URLSearchParams</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">search</span>);
<span class="hljs-keyword">const</span>Â vncUrl = urlParams.<span class="hljs-title function_">get</span>(<span class="hljs-string">'url'</span>);
<span class="hljs-comment">// åŠ è½½ noVNC åº“</span>
<span class="hljs-keyword">async</span>Â <span class="hljs-keyword">function</span>Â <span class="hljs-title function_">loadNoVNC</span>(<span class="hljs-params"/>) {
Â  Â Â <span class="hljs-keyword">const</span>Â <span class="hljs-variable language_">module</span>Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-string">'https://cdn.jsdelivr.net/gh/novnc/noVNC@v1.4.0/core/rfb.js'</span>);
Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-variable language_">module</span>.<span class="hljs-property">default</span>;
}
<span class="hljs-comment">// è¿æ¥ VNC</span>
<span class="hljs-keyword">async</span>Â <span class="hljs-keyword">function</span>Â <span class="hljs-title function_">connectVNC</span>(<span class="hljs-params">url</span>) {
Â  Â Â <span class="hljs-keyword">const</span>Â <span class="hljs-variable constant_">RFB</span>Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">loadNoVNC</span>();
Â  Â  rfb =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title function_">RFB</span>(vncScreen, url, {
Â  Â  Â  Â Â <span class="hljs-attr">shared</span>:Â <span class="hljs-literal">true</span>,
Â  Â  Â  Â Â <span class="hljs-attr">credentials</span>: {Â <span class="hljs-attr">password</span>:Â <span class="hljs-string">''</span>Â }
Â  Â  });
Â  Â  rfb.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'connect'</span>,Â <span class="hljs-function">() =&gt;</span>Â {
Â  Â  Â  Â Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'VNC è¿æ¥æˆåŠŸ'</span>);
Â  Â  });
}
</code></pre>
<p>å®Œæ•´çš„Â vnc.htmlÂ æ–‡ä»¶å¯ä»¥åœ¨ç¤ºä¾‹ä»£ç ä»“åº“ä¸­è·å–ã€‚</p>
<p><strong>æ‰‹åŠ¨ä½¿ç”¨ VNC æŸ¥çœ‹å™¨ï¼š</strong></p>
<p>å¦‚æœè‡ªåŠ¨æ‰“å¼€å¤±è´¥ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨ä½¿ç”¨ VNC æŸ¥çœ‹å™¨ï¼š</p>
<p><strong>1. ä½¿ç”¨ noVNC åœ¨çº¿å®¢æˆ·ç«¯ï¼š</strong></p>
<ul>
<li>è®¿é—®Â noVNC åœ¨çº¿å®¢æˆ·ç«¯ <strong>[</strong> <strong>2]</strong></li>
<li>åœ¨è¿æ¥è®¾ç½®ä¸­å¡«å…¥ VNC URL</li>
<li>ç‚¹å‡»è¿æ¥</li>
</ul>
<p><strong>2. ä½¿ç”¨æœ¬åœ° VNC HTML é¡µé¢ï¼š</strong></p>
<ul>
<li>æ‰“å¼€Â <code>vnc.html</code></li>
<li>è¾“å…¥ VNC URL</li>
<li>ç‚¹å‡»è¿æ¥æŒ‰é’®</li>
</ul>
<p><strong>å®æ—¶ç›‘æ§åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>æ‰€æœ‰æµè§ˆå™¨æ“ä½œéƒ½ä¼šåœ¨ VNC ä¸­å®æ—¶æ˜¾ç¤º</li>
<li>å¯ä»¥çœ‹åˆ° Agent çš„æ¯ä¸€æ­¥æ“ä½œï¼ˆå¯¼èˆªã€ç‚¹å‡»ã€è¾“å…¥ç­‰ï¼‰</li>
<li>æ–¹ä¾¿è°ƒè¯•å’Œç›‘æ§ Agent è¡Œä¸º</li>
<li>æ”¯æŒäº¤äº’å¼æ“ä½œï¼ˆåœ¨ VNC ä¸­ç›´æ¥æ“ä½œæµè§ˆå™¨ï¼‰</li>
</ul>
<p><strong>è¿è¡Œå’Œæµ‹è¯•</strong></p>
<pre><code class="hljs language-css" lang="css">pythonÂ <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.py</span>
</code></pre>
<p>ç¨‹åºä¼šè‡ªåŠ¨ï¼š</p>
<ol>
<li>åˆ›å»º Browser Sandbox</li>
<li>æ‰“å¼€ VNC æŸ¥çœ‹å™¨ï¼ˆå®æ—¶æŸ¥çœ‹æµè§ˆå™¨æ“ä½œï¼‰</li>
<li>æ‰§è¡Œé¢„è®¾æŸ¥è¯¢</li>
<li>è¿›å…¥äº¤äº’æ¨¡å¼</li>
</ol>
<h3 data-id="heading-12">å·¥ä½œåŸç†</h3>
<p>ä¸ºäº†æ›´å¥½åœ°ç†è§£ç³»ç»Ÿæ¶æ„ï¼Œæˆ‘ä»¬å°†å·¥ä½œæµç¨‹æ‹†åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š<strong>LangChain Agent å·¥ä½œæµç¨‹</strong>å’ŒÂ <strong>SandboxManager ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ã€‚</p>
<p><strong>1. LangChain Agent å·¥ä½œæµç¨‹</strong></p>
<p>ä¸‹å›¾å±•ç¤ºäº† LangChain Agent å¦‚ä½•å¤„ç†ç”¨æˆ·è¯·æ±‚å¹¶è°ƒç”¨ç›¸åº”çš„ Toolsï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc56d5ace0354c4480feb2da3782728c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769678518&amp;x-signature=WsJbf5HOf9rZqm9kwQow5IqMssA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>Agent å·¥ä½œæµç¨‹è¯´æ˜ï¼š</strong></p>
<ol>
<li><strong>è¯·æ±‚æ¥æ”¶ï¼š</strong> ç”¨æˆ·å‘èµ·è‡ªç„¶è¯­è¨€è¯·æ±‚ï¼ˆå¦‚â€œè®¿é—®æ·˜å®é¦–é¡µå¹¶æˆªå›¾â€ï¼‰</li>
<li><strong>æ„å›¾åˆ†æï¼š</strong> Agent åˆ†æç”¨æˆ·æ„å›¾ï¼Œå†³å®šéœ€è¦è°ƒç”¨å“ªäº› Tools</li>
<li><strong>Tool è°ƒç”¨ï¼š</strong> æ ¹æ®ä»»åŠ¡éœ€æ±‚ï¼Œé¡ºåºæˆ–ç»„åˆè°ƒç”¨å¤šä¸ª Tools</li>
<li><strong>Manager äº¤äº’ï¼š</strong> æ‰€æœ‰ Tools éƒ½é€šè¿‡ SandboxManager å•ä¾‹å®ä¾‹æ“ä½œ Sandbox</li>
<li><strong>ç»“æœå¤„ç†ï¼š</strong> Agent å°† Tool è¿”å›çš„ç»“æœæ•´åˆæˆç”¨æˆ·å‹å¥½çš„å“åº”</li>
<li><strong>å¤šè½®å¯¹è¯ï¼š</strong> Sandbox åœ¨æ•´ä¸ªä¼šè¯ä¸­ä¿æŒæ´»è·ƒï¼Œæ”¯æŒå¤šè½®å¯¹è¯</li>
</ol>
<p>5 ä¸ªæ ¸å¿ƒ Tools çš„èŒè´£ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae98b4c499f74d5f8ccad772b114cafc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769678518&amp;x-signature=o6icxvcMjpC1WOQapHfBu2EgdBs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>2. SandboxManager ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong></p>
<p>ä¸‹å›¾å±•ç¤ºäº† SandboxManager å¦‚ä½•ç®¡ç† Sandbox çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/261ec1fb3bb542e7b884d52e482b9cdb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769678518&amp;x-signature=2Z3KfkfkexM8V4EN%2FEuCJ9oUutU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>SandboxManager å·¥ä½œæµç¨‹è¯´æ˜ï¼š</strong></p>
<p><strong>1. å•ä¾‹ç®¡ç†ï¼š</strong></p>
<ul>
<li>é¦–æ¬¡è°ƒç”¨æ—¶åˆ›å»º Manager å®ä¾‹</li>
<li>åç»­è°ƒç”¨å¤ç”¨åŒä¸€ä¸ªå®ä¾‹</li>
<li>ç¡®ä¿æ•´ä¸ªä¼šè¯åªæœ‰ä¸€ä¸ª Sandbox</li>
</ul>
<p><strong>2. Sandbox åˆ›å»ºï¼š</strong></p>
<ul>
<li>è°ƒç”¨ AgentRun SDK çš„Â <code>Sandbox.create()</code></li>
<li>SDK é€šè¿‡é˜¿é‡Œäº‘ API ä¸å‡½æ•°è®¡ç®— FC é€šä¿¡</li>
<li>FC æœåŠ¡åˆ›å»ºç‹¬ç«‹çš„å®¹å™¨å®ä¾‹ï¼ŒåŒ…å«ï¼š</li>
<li>Chromium æµè§ˆå™¨ VNC æœåŠ¡å¿…è¦çš„è¿è¡Œç¯å¢ƒ</li>
</ul>
<p><strong>3. è¿æ¥ä¿¡æ¯è·å–ï¼š</strong></p>
<ul>
<li><strong>CDP URLï¼š</strong> WebSocket åœ°å€ï¼Œç”¨äº Playwright/Puppeteer è¿œç¨‹æ§åˆ¶æµè§ˆå™¨</li>
<li><strong>VNC URLï¼š</strong> WebSocket åœ°å€ï¼Œç”¨äºå®æ—¶æŸ¥çœ‹æµè§ˆå™¨ç”»é¢**</li>
</ul>
<p><strong>4. æµè§ˆå™¨æ“ä½œï¼š</strong></p>
<ul>
<li>Playwright é€šè¿‡ CDP URL è¿æ¥åˆ°è¿œç¨‹æµè§ˆå™¨</li>
<li>æ‰§è¡Œå„ç§æµè§ˆå™¨æ“ä½œï¼ˆå¯¼èˆªã€ç‚¹å‡»ã€æˆªå›¾ç­‰ï¼‰</li>
<li>VNC åŒæ­¥æ˜¾ç¤ºæ“ä½œè¿‡ç¨‹ï¼Œç”¨æˆ·å¯å®æ—¶ç›‘æ§</li>
</ul>
<p><strong>5. èµ„æºæ¸…ç†ï¼š</strong></p>
<ul>
<li>è°ƒç”¨Â destroy()Â æ–¹æ³•é”€æ¯ Sandbox</li>
<li>æ¸…ç† Manager å†…éƒ¨çŠ¶æ€</li>
<li>é€šè¿‡ SDK é‡Šæ”¾äº‘ç«¯èµ„æº</li>
</ul>
<p><strong>3. Agent ä¸ Manager çš„åä½œå…³ç³»</strong></p>
<p><strong>äº¤äº’æ¨¡å¼ï¼š</strong></p>
<pre><code class="hljs">ç”¨æˆ·è¯·æ±‚ â†’ Agent â†’ Tool â†’ SandboxManager â†’ AgentRun SDK â†’ äº‘ç«¯ Sandbox
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â†“
ç”¨æˆ·å“åº” â† Agent â† Tool â† SandboxManager â† æ“ä½œç»“æœ
</code></pre>
<p><strong>å…³é”®è®¾è®¡ç†å¿µï¼š</strong></p>
<ol>
<li>åˆ†å±‚æ¶æ„ï¼š</li>
</ol>
<ul>
<li>ç”¨æˆ·å±‚ï¼šè‡ªç„¶è¯­è¨€äº¤äº’</li>
<li>Agent å±‚ï¼šæ„å›¾ç†è§£å’Œä»»åŠ¡åˆ†è§£</li>
<li>Tool å±‚ï¼šåŠŸèƒ½å°è£…å’Œå‚æ•°éªŒè¯</li>
<li>Manager å±‚ï¼šèµ„æºç®¡ç†å’ŒçŠ¶æ€ç»´æŠ¤</li>
<li>SDK å±‚ï¼šäº‘æœåŠ¡é€šä¿¡</li>
<li>äº‘ç«¯å±‚ï¼šå®é™…çš„ Sandbox ç¯å¢ƒ</li>
</ul>
<ol start="2">
<li>å•ä¾‹æ¨¡å¼ï¼š</li>
</ol>
<ul>
<li>SandboxManager ä½¿ç”¨å•ä¾‹æ¨¡å¼</li>
<li>ä¿è¯æ•´ä¸ªä¼šè¯ä¸­åªæœ‰ä¸€ä¸ª Sandbox å®ä¾‹</li>
<li>é¿å…èµ„æºæµªè´¹å’ŒçŠ¶æ€å†²çª</li>
</ul>
<ol start="3">
<li>çŠ¶æ€å¤ç”¨ï¼š</li>
</ol>
<ul>
<li>Sandbox åœ¨å¤šè½®å¯¹è¯ä¸­ä¿æŒæ´»è·ƒ</li>
<li>å‡å°‘åˆ›å»ºå’Œé”€æ¯çš„å¼€é”€</li>
<li>æä¾›æ›´æµç•…çš„ç”¨æˆ·ä½“éªŒ</li>
</ul>
<ol start="4">
<li>åŒé€šé“è®¾è®¡ï¼š</li>
</ol>
<ul>
<li>CDP é€šé“ï¼šAgent é€šè¿‡ Playwright æ§åˆ¶æµè§ˆå™¨</li>
<li><strong>VNC é€šé“ï¼šç”¨æˆ·é€šè¿‡ VNC æŸ¥çœ‹å™¨å®æ—¶ç›‘æ§</strong></li>
</ul>
<ol start="5">
<li>è§£è€¦è®¾è®¡ï¼š</li>
</ol>
<ul>
<li>Tools ä¸ç›´æ¥æ“ä½œ SDKï¼Œé€šè¿‡ Manager ç»Ÿä¸€ç®¡ç†</li>
<li>ä¾¿äºæ‰©å±•å’Œç»´æŠ¤</li>
<li>ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œèµ„æºç®¡ç†</li>
</ul>
<p><strong>å…¸å‹ä½¿ç”¨åœºæ™¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¬¬ 1 è½®å¯¹è¯</span>
ç”¨æˆ·:Â <span class="hljs-string">"åˆ›å»ºä¸€ä¸ª sandbox å¹¶è®¿é—®æ·˜å®é¦–é¡µ"</span>
â†’ Agent è°ƒç”¨: create_browser_sandbox â†’ navigate_to_url
â†’ Manager: åˆ›å»º Sandbox â†’ Playwright å¯¼èˆª
â†’ ç»“æœ:Â <span class="hljs-string">"Sandbox å·²åˆ›å»ºï¼Œå·²è®¿é—®æ·˜å®é¦–é¡µ"</span>
<span class="hljs-comment"># ç¬¬ 2 è½®å¯¹è¯ï¼ˆå¤ç”¨ Sandboxï¼‰</span>
ç”¨æˆ·:Â <span class="hljs-string">"æˆªå–å½“å‰é¡µé¢"</span>
â†’ Agent è°ƒç”¨: take_screenshot
â†’ Manager: ä½¿ç”¨ç°æœ‰ Sandbox â†’ Playwright æˆªå›¾
â†’ ç»“æœ:Â <span class="hljs-string">"æˆªå›¾å·²ä¿å­˜"</span>
<span class="hljs-comment"># ç¬¬ 3 è½®å¯¹è¯ï¼ˆå¤ç”¨ Sandboxï¼‰</span>
ç”¨æˆ·:Â <span class="hljs-string">"è®¿é—®äº¬ä¸œé¦–é¡µ"</span>
â†’ Agent è°ƒç”¨: navigate_to_url
â†’ Manager: ä½¿ç”¨ç°æœ‰ Sandbox â†’ Playwright å¯¼èˆª
â†’ ç»“æœ:Â <span class="hljs-string">"å·²è®¿é—®äº¬ä¸œé¦–é¡µ"</span>
</code></pre>
<p>é€šè¿‡è¿™ç§è®¾è®¡ï¼ŒAgent ä¸“æ³¨äºç†è§£ç”¨æˆ·æ„å›¾å’Œä»»åŠ¡ç¼–æ’ï¼Œè€Œ Manager ä¸“æ³¨äº Sandbox çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œå®ç°äº†æ¸…æ™°çš„èŒè´£åˆ†ç¦»ã€‚</p>
<p><strong>å·¥ä½œåŸç†æ€»ç»“ï¼š</strong></p>
<ol>
<li>å·¥å…·æ³¨å†Œï¼šä½¿ç”¨ @toolÂ è£…é¥°å™¨å°† Sandbox åŠŸèƒ½å°è£…ä¸º LangChain Tools</li>
<li>ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š SandboxManagerÂ è´Ÿè´£ Sandbox çš„åˆ›å»ºã€ç®¡ç†å’Œé”€æ¯</li>
<li>çŠ¶æ€ä¿æŒï¼šä½¿ç”¨å•ä¾‹æ¨¡å¼ç®¡ç† Sandbox å®ä¾‹ï¼Œç¡®ä¿åŒä¸€ä¼šè¯å†…å¤ç”¨</li>
<li>VNC é›†æˆï¼šè‡ªåŠ¨è·å–å¹¶è¿”å› VNC URLï¼Œæ–¹ä¾¿ç”¨æˆ·å®æ—¶æŸ¥çœ‹</li>
<li>é”™è¯¯å¤„ç†ï¼šæ‰€æœ‰å·¥å…·éƒ½åŒ…å«å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶</li>
</ol>
<h3 data-id="heading-13">æ‰©å±•å’Œå®šåˆ¶</h3>
<p><strong>æ·»åŠ è‡ªå®šä¹‰ Toolsï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">extract_table_data</span>(<span class="hljs-params">url:Â <span class="hljs-built_in">str</span></span>) -&gt;Â <span class="hljs-built_in">str</span>:
Â  Â Â <span class="hljs-string">"""ä»ç½‘é¡µä¸­æå–è¡¨æ ¼æ•°æ®"""</span>
Â  Â Â <span class="hljs-keyword">from</span>Â playwright.sync_apiÂ <span class="hljs-keyword">import</span>Â sync_playwright
Â  Â  manager = get_sandbox_manager()
Â  Â  cdp_url = manager.get_info()[<span class="hljs-string">'cdp_url'</span>]
Â  Â Â <span class="hljs-keyword">with</span>Â sync_playwright()Â <span class="hljs-keyword">as</span>Â p:
Â  Â  Â  Â  browser = p.chromium.connect_over_cdp(cdp_url)
Â  Â  Â  Â  page = browser.contexts[<span class="hljs-number">0</span>].pages[<span class="hljs-number">0</span>]
Â  Â  Â  Â  page.goto(url)
Â  Â  Â  Â  tables = page.query_selector_all(<span class="hljs-string">"table"</span>)
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f"æ‰¾åˆ°Â <span class="hljs-subst">{<span class="hljs-built_in">len</span>(tables)}</span>Â ä¸ªè¡¨æ ¼"</span>
</code></pre>
<p><strong>è‡ªå®šä¹‰æç¤ºè¯ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">custom_prompt</span>Â =Â <span class="hljs-string">"""ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç½‘é¡µæ•°æ®æå–åŠ©æ‰‹ã€‚
åœ¨æ‰§è¡Œä»»åŠ¡å‰ï¼Œè¯·å…ˆåˆ›å»º sandboxï¼Œç„¶åä½¿ç”¨æµè§ˆå™¨å·¥å…·å®Œæˆä»»åŠ¡ã€‚"""</span>
<span class="hljs-attr">agent</span>Â = create_browser_agent(system_prompt=custom_prompt)

</code></pre>
<h3 data-id="heading-14">æœ€ä½³å®è·µ</h3>
<ol>
<li>æ¨¡å—åŒ–è®¾è®¡ï¼šå°† Sandbox ç®¡ç†å’Œ Agent åˆ›å»ºåˆ†ç¦»ï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§</li>
<li>é”™è¯¯å¤„ç†ï¼šæ‰€æœ‰å·¥å…·éƒ½åº”åŒ…å«å®Œå–„çš„é”™è¯¯å¤„ç†</li>
<li>èµ„æºæ¸…ç†ï¼šä½¿ç”¨ä¿¡å·å¤„ç†å™¨ç¡®ä¿èµ„æºæ­£ç¡®æ¸…ç†</li>
<li>VNC æç¤ºï¼šåœ¨å·¥å…·è¿”å›ä¸­åŒ…å« VNC URLï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨</li>
<li>å•ä¾‹æ¨¡å¼ï¼šç¡®ä¿ Sandbox å®ä¾‹åœ¨ä¼šè¯ä¸­å¤ç”¨ï¼Œé¿å…é‡å¤åˆ›å»º</li>
</ol>
<h2 data-id="heading-15">å‰ç«¯é›†æˆå¯è§†åŒ–ç›‘æ§ï¼ˆVNCï¼‰</h2>
<h3 data-id="heading-16">VNC é›†æˆæ¶æ„</h3>
<p>ä¸‹å›¾å±•ç¤ºäº†å‰ç«¯å¦‚ä½•é›†æˆ VNC å®ç°å®æ—¶ç›‘æ§ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce0dd307446745c1a55f38ea698286a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769678518&amp;x-signature=6rY6SMcd5Fg1t1xzz3vPJKG1M14%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-17">è½»é‡çº§ HTML é¡µé¢é›†æˆ</h3>
<p>åˆ›å»ºä¸€ä¸ªç®€å•çš„Â vnc-viewer.htmlÂ æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPEÂ <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Browser Sandbox VNC æŸ¥çœ‹å™¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
Â  Â  Â  Â Â <span class="hljs-selector-tag">body</span>Â {Â <span class="hljs-attribute">margin</span>:Â <span class="hljs-number">0</span>;Â <span class="hljs-attribute">padding</span>:Â <span class="hljs-number">0</span>;Â <span class="hljs-attribute">background</span>:Â 
<span class="hljs-number">#000</span>
; }
Â  Â  Â  Â Â 
<span class="hljs-selector-id">#vnc</span>
-containerÂ {Â <span class="hljs-attribute">width</span>:Â <span class="hljs-number">100vw</span>;Â <span class="hljs-attribute">height</span>:Â <span class="hljs-number">100vh</span>; }
Â  Â Â </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">id</span>=<span class="hljs-string">"vnc-container"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">script</span>Â <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="javascript">
Â  Â  Â  Â Â <span class="hljs-keyword">const</span>Â params =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">URLSearchParams</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">search</span>);
Â  Â  Â  Â Â <span class="hljs-keyword">const</span>Â vncUrl = params.<span class="hljs-title function_">get</span>(<span class="hljs-string">'url'</span>);
Â  Â  Â  Â Â <span class="hljs-keyword">if</span>Â (!vncUrl) {
Â  Â  Â  Â  Â  Â Â <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è¯·æä¾› VNC URL å‚æ•°'</span>);
Â  Â  Â  Â  }Â <span class="hljs-keyword">else</span>Â {
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">const</span>Â <span class="hljs-variable language_">module</span>Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-string">'https://cdn.jsdelivr.net/gh/novnc/noVNC@v1.4.0/core/rfb.js'</span>);
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">const</span>Â <span class="hljs-variable constant_">RFB</span>Â =Â <span class="hljs-variable language_">module</span>.<span class="hljs-property">default</span>;
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">const</span>Â rfb =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title function_">RFB</span>(
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'vnc-container'</span>),
Â  Â  Â  Â  Â  Â  Â  Â  vncUrl,
Â  Â  Â  Â  Â  Â  Â  Â  {Â <span class="hljs-attr">shared</span>:Â <span class="hljs-literal">true</span>,Â <span class="hljs-attr">credentials</span>: {Â <span class="hljs-attr">password</span>:Â <span class="hljs-string">''</span>Â } }
Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  rfb.<span class="hljs-property">scaleViewport</span>Â =Â <span class="hljs-literal">true</span>;
Â  Â  Â  Â  }
Â  Â Â </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>ä½¿ç”¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">importÂ webbrowser
importÂ urllib.parse
<span class="hljs-attr">vnc_url</span>Â =Â sandbox.vnc_url
<span class="hljs-attr">encoded_url</span>Â =Â urllib.parse.quote(vnc_url, safe=<span class="hljs-string">''</span>)
<span class="hljs-attr">viewer_url</span> = f<span class="hljs-string">"file:///path/to/vnc-viewer.html?url={encoded_url}"</span>
webbrowser.open(viewer_url)
</code></pre>
<h3 data-id="heading-18">React åº”ç”¨é›†æˆ</h3>
<p>æ ¸å¿ƒç»„ä»¶ä»£ç ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span>Â <span class="hljs-title class_">React</span>, { useEffect, useRef }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">interface</span>Â <span class="hljs-title class_">VNCViewerProps</span>Â {
Â Â <span class="hljs-attr">vncUrl</span>:Â <span class="hljs-built_in">string</span>;
Â Â onConnect?:Â <span class="hljs-function">() =&gt;</span>Â <span class="hljs-built_in">void</span>;
Â Â onDisconnect?:Â <span class="hljs-function">() =&gt;</span>Â <span class="hljs-built_in">void</span>;
}
<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">const</span>Â <span class="hljs-title class_">VNCViewer</span>:Â <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">VNCViewerProps</span>&gt; =Â <span class="hljs-function">(<span class="hljs-params">{Â 
Â  vncUrl,Â 
Â  onConnect,Â 
Â  onDisconnectÂ 
}</span>) =&gt;</span> {
Â Â <span class="hljs-keyword">const</span>Â containerRef = useRef&lt;<span class="hljs-title class_">HTMLDivElement</span>&gt;(<span class="hljs-literal">null</span>);
Â Â <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span>Â {
Â  Â Â <span class="hljs-keyword">let</span>Â <span class="hljs-attr">rfb</span>:Â <span class="hljs-built_in">any</span>;
Â  Â Â <span class="hljs-keyword">const</span>Â <span class="hljs-title function_">initVNC</span>Â =Â <span class="hljs-keyword">async</span>Â (<span class="hljs-params"/>) =&gt; {
Â  Â  Â Â <span class="hljs-keyword">if</span>Â (!containerRef.<span class="hljs-property">current</span>Â || !vncUrl)Â <span class="hljs-keyword">return</span>;
Â  Â  Â Â <span class="hljs-keyword">const</span>Â {Â <span class="hljs-attr">default</span>:Â <span class="hljs-variable constant_">RFB</span>Â } =Â <span class="hljs-keyword">await</span>Â <span class="hljs-keyword">import</span>(<span class="hljs-string">'@novnc/novnc/core/rfb'</span>);
Â  Â  Â  rfb =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title function_">RFB</span>(containerRef.<span class="hljs-property">current</span>, vncUrl, {
Â  Â  Â  Â Â <span class="hljs-attr">shared</span>:Â <span class="hljs-literal">true</span>,
Â  Â  Â  Â Â <span class="hljs-attr">credentials</span>: {Â <span class="hljs-attr">password</span>:Â <span class="hljs-string">''</span>Â }
Â  Â  Â  });
Â  Â  Â  rfb.<span class="hljs-property">scaleViewport</span>Â =Â <span class="hljs-literal">true</span>;
Â  Â  Â  rfb.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'connect'</span>,Â <span class="hljs-function">() =&gt;</span>Â onConnect?.());
Â  Â  Â  rfb.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'disconnect'</span>,Â <span class="hljs-function">() =&gt;</span>Â onDisconnect?.());
Â  Â  };
Â  Â Â <span class="hljs-title function_">initVNC</span>();
Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-function">() =&gt;</span>Â {
Â  Â  Â Â <span class="hljs-keyword">if</span>Â (rfb) rfb.<span class="hljs-title function_">disconnect</span>();
Â  Â  };
Â  }, [vncUrl, onConnect, onDisconnect]);
Â Â <span class="hljs-keyword">return</span>Â (
Â  Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â 
Â  Â  Â Â <span class="hljs-attr">ref</span>=<span class="hljs-string">{containerRef}</span>Â 
Â  Â  Â Â <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>Â <span class="hljs-attr">width:</span>Â '<span class="hljs-attr">100</span>%',Â <span class="hljs-attr">height:</span>Â '<span class="hljs-attr">600px</span>',Â <span class="hljs-attr">background:</span>Â '
#<span class="hljs-attr">000</span>
' }}Â 
Â  Â  /&gt;</span></span>
Â  );
};
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span>Â <span class="hljs-title class_">React</span>, { useState, useEffect }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span>Â {Â <span class="hljs-title class_">VNCViewer</span>Â }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'./VNCViewer'</span>;
<span class="hljs-keyword">function</span>Â <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
Â Â <span class="hljs-keyword">const</span>Â [vncUrl, setVncUrl] = useState&lt;string&gt;(<span class="hljs-string">''</span>);
Â Â <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span>Â {
Â  Â Â <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/sandbox/create'</span>, {Â <span class="hljs-attr">method</span>:Â <span class="hljs-string">'POST'</span>Â })
Â  Â  Â  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span>Â =&gt;</span>Â res.<span class="hljs-title function_">json</span>())
Â  Â  Â  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span>Â =&gt;</span>Â <span class="hljs-title function_">setVncUrl</span>(data.<span class="hljs-property">vnc_url</span>));
Â  }, []);
Â Â <span class="hljs-keyword">return</span>Â (
Â  Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
Â  Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Browser Sandbox å®æ—¶ç›‘æ§<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
Â  Â  Â  {vncUrl ? (
Â  Â  Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">VNCViewer</span>Â 
Â  Â  Â  Â  Â Â <span class="hljs-attr">vncUrl</span>=<span class="hljs-string">{vncUrl}</span>
Â  Â  Â  Â  Â Â <span class="hljs-attr">onConnect</span>=<span class="hljs-string">{()</span>Â =&gt;</span> console.log('å·²è¿æ¥')}
Â  Â  Â  Â  Â  onDisconnect={() =&gt; console.log('å·²æ–­å¼€')}
Â  Â  Â  Â  /&gt;
Â  Â  Â  ) : (
Â  Â  Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ­£åœ¨åˆå§‹åŒ–...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
Â  Â  Â  )}
Â  Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â  );
}
</code></pre>
<h2 data-id="heading-19">Puppeteer å’Œ Playwright ç›´æ¥é›†æˆ</h2>
<p>å¦‚æœæ‚¨æ›´ç†Ÿæ‚‰ä¼ ç»Ÿçš„æµè§ˆå™¨è‡ªåŠ¨åŒ–åº“ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ Puppeteer æˆ– Playwright è¿æ¥åˆ° Browser Sandboxã€‚</p>
<h3 data-id="heading-20">ä½¿ç”¨ Playwright</h3>
<pre><code class="hljs language-ini" lang="ini">fromÂ playwright.sync_api import sync_playwright
fromÂ agentrun.sandbox import Sandbox, TemplateType
<span class="hljs-comment"># åˆ›å»º Sandbox</span>
<span class="hljs-attr">sandbox</span> = Sandbox.create(
Â  Â  <span class="hljs-attr">template_type</span>=TemplateType.BROWSER,
Â  Â  <span class="hljs-attr">template_name</span>=<span class="hljs-string">"your-template-name"</span>,
Â  Â  <span class="hljs-attr">sandbox_idle_timeout_seconds</span>=<span class="hljs-number">3000</span>
)
<span class="hljs-comment"># ä½¿ç”¨ Playwright è¿æ¥</span>
withÂ sync_playwright()Â asÂ p:
Â  Â  <span class="hljs-attr">browser</span> = p.chromium.connect_over_cdp(sandbox.cdp_url)
Â  Â  <span class="hljs-attr">page</span> = browser.contexts[<span class="hljs-number">0</span>].pages[<span class="hljs-number">0</span>]
Â  Â Â <span class="hljs-comment"># æ‰§è¡Œæ“ä½œ</span>
Â  Â  page.goto("https://www.example.com")
Â  Â  page.screenshot(<span class="hljs-attr">path</span>=<span class="hljs-string">"screenshot.png"</span>)
Â  Â  <span class="hljs-attr">content</span> = page.content()
Â  Â  browser.close()
<span class="hljs-comment"># æ¸…ç†</span>
sandbox.delete()

</code></pre>
<h3 data-id="heading-21">ä½¿ç”¨ Puppeteerï¼ˆNode.jsï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">constÂ <span class="hljs-attr">puppeteer</span> = require(<span class="hljs-string">'puppeteer-core'</span>)<span class="hljs-comment">;</span>
// CDP URL ä» Sandbox è·å–
constÂ <span class="hljs-attr">cdpUrl</span> =Â <span class="hljs-string">'wss://your-account.funagent-data-pre.cn-hangzhou.aliyuncs.com/sandboxes/xxx/ws/automation'</span><span class="hljs-comment">;</span>
(asyncÂ () =&gt; {
Â Â constÂ <span class="hljs-attr">browser</span> =Â awaitÂ puppeteer.connect({
Â  Â  browserWSEndpoint: cdpUrl,
Â  Â  defaultViewport:Â null
Â  })<span class="hljs-comment">;</span>
Â Â constÂ <span class="hljs-attr">page</span> = (awaitÂ browser.pages())[<span class="hljs-number">0</span>]<span class="hljs-comment">;</span>
Â Â awaitÂ page.goto('https://www.example.com')<span class="hljs-comment">;</span>
Â Â awaitÂ page.screenshot({ path:Â 'screenshot.png'Â })<span class="hljs-comment">;</span>
Â Â awaitÂ browser.close()<span class="hljs-comment">;</span>
})()<span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-22">æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæ‚¨å·²ç»å­¦ä¼šäº†ï¼š</p>
<ol>
<li><strong>AgentRun SDK åŸºç¡€ï¼š</strong> å¦‚ä½•ä½¿ç”¨ SDK åˆ›å»ºå’Œç®¡ç† Browser Sandbox</li>
<li><strong>LangChain é›†æˆï¼š</strong> å¦‚ä½•å°† Sandbox å°è£…ä¸º LangChain Tools</li>
<li><strong>VNC å¯è§†åŒ–ï¼š</strong> å¦‚ä½•åœ¨å‰ç«¯é›†æˆ VNC å®ç°å®æ—¶ç›‘æ§</li>
<li><strong>ç›´æ¥é›†æˆï¼š</strong> å¦‚ä½•ä½¿ç”¨ Puppeteer/Playwright ç›´æ¥è¿æ¥ Sandbox</li>
</ol>
<p><strong>ç›¸å…³é“¾æ¥ï¼š</strong></p>
<p>[1]Â Agentrun æ§åˆ¶å°ç½‘ç«™</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ffunctionai.console.aliyun.com%2Fcn-hangzhou%2Fagent%2Fruntime%2Fsandbox" target="_blank" title="https://functionai.console.aliyun.com/cn-hangzhou/agent/runtime/sandbox" ref="nofollow noopener noreferrer">functionai.console.aliyun.com/cn-hangzhouâ€¦</a></p>
<p>[2]Â noVNC åœ¨çº¿å®¢æˆ·ç«¯</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fnovnc.com%2FnoVNC%2Fvnc.html" target="_blank" title="https://novnc.com/noVNC/vnc.html" ref="nofollow noopener noreferrer">novnc.com/noVNC/vnc.hâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¾®è½¯å‘å¸ƒäº† 2026 å¹´ AI å‘å±•çš„ 7 ä¸ªè¶‹åŠ¿]]></title>    <link>https://juejin.cn/post/7597996070510067750</link>    <guid>https://juejin.cn/post/7597996070510067750</guid>    <pubDate>2026-01-22T09:29:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597996070510067750" data-draft-id="7597979278240759817" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¾®è½¯å‘å¸ƒäº† 2026 å¹´ AI å‘å±•çš„ 7 ä¸ªè¶‹åŠ¿"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½,åç«¯"/> <meta itemprop="datePublished" content="2026-01-22T09:29:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†´ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/712139234359182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¾®è½¯å‘å¸ƒäº† 2026 å¹´ AI å‘å±•çš„ 7 ä¸ªè¶‹åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139234359182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†´ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T09:29:35.000Z" title="Thu Jan 22 2026 09:29:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¾®è½¯ï¼š2026 å¹´ AI å‘å±•çš„ 7 ä¸ªè¶‹åŠ¿</h2>
<p>è¯´å®è¯ï¼Œæ¯æ¬¡çœ‹åˆ°â€œAI è¶‹åŠ¿é¢„æµ‹â€è¿™ç±»æ ‡é¢˜ï¼Œæˆ‘éƒ½ä¼šå…ˆæ·±å¸ä¸€å£æ°”ã€‚</p>
<p>ä¸æ˜¯å› ä¸ºå®³æ€•ï¼Œè€Œæ˜¯å› ä¸ºè¿™ç±»æ–‡ç« å¤ªå®¹æ˜“å†™æˆä¸¤ç§æç«¯ï¼š</p>
<p>è¦ä¹ˆæ˜¯â€œAI è¦ç»Ÿæ²»ä¸–ç•Œäº†å¿«è·‘â€çš„ææ…Œæ–‡ï¼Œè¦ä¹ˆæ˜¯â€œæ‹¥æŠ± AI å¦åˆ™è¢«æ·˜æ±°â€çš„ç„¦è™‘è¥é”€ã€‚</p>
<p>æœ€è¿‘è¯»äº†å¾®è½¯å‘å¸ƒçš„ 2026 å¹´ AI è¶‹åŠ¿æ–‡ç« ï¼Œé‡Œé¢æœ‰ 7 ä¸ªé¢„æµ‹ã€‚</p>
<p>æˆ‘ä¸æ‰“ç®—ç…§æ¬åŸæ–‡ï¼Œè€Œæ˜¯ç»“åˆæˆ‘è‡ªå·±çš„ç†è§£ï¼Œå’Œä½ è®²ä¸‹è¿™ 7 ä¸ªè¶‹åŠ¿ä¸æˆ‘ä»¬æœ‰ä»€ä¹ˆå…³ç³»ï¼Œçœ‹ä½ æ˜¯å¦èƒ½åœ¨è¿™ 7 ä¸ªè¶‹åŠ¿ä¸­æ‰¾åˆ°è‡ªå·±çš„æœºä¼šã€‚</p>
<h3 data-id="heading-1">è¶‹åŠ¿ 1ï¼šAI æˆä¸ºä½ çš„æ•°å­—åŒäº‹</h3>
<p>AI ä¸æ˜¯æ¥æŠ¢ä½ é¥­ç¢—çš„ï¼Œæ˜¯æ¥å¸®ä½ â€œå¼€æŒ‚â€çš„ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä»¥å‰ä½ å¼€å‘ä¸€ä¸ªé¡µé¢è¦ 3 å¤©ï¼Œç°åœ¨ AI å¸®ä½ å†™ä»£ç ï¼Œä½ åªéœ€è¦ä¸“æ³¨åœ¨ä¸šåŠ¡éœ€æ±‚ã€ç”¨æˆ·ä½“éªŒç­‰äº‹æƒ…ä¸Šã€‚</p>
<p>è¿™å°±åƒä»¥å‰æ´—è¡£æœè¦æ‰‹æ“ï¼Œç°åœ¨æœ‰æ´—è¡£æœºäº†ã€‚æ´—è¡£æœºæ²¡æœ‰è®©â€œæ´—è¡£æœâ€è¿™ä»¶äº‹æ¶ˆå¤±ï¼Œè€Œæ˜¯è®©ä½ æœ‰æ—¶é—´å»åšæ›´é‡è¦çš„äº‹ã€‚</p>
<p>æ‰€ä»¥ä¸å…¶æ‹…å¿ƒè¢« AI å–ä»£ï¼Œä¸å¦‚æƒ³æƒ³â€œæˆ‘èƒ½ç”¨ AI æ”¾å¤§ä»€ä¹ˆï¼Ÿâ€</p>
<h3 data-id="heading-2">è¶‹åŠ¿ 2ï¼šAI ä»£ç†æ›´å®‰å…¨</h3>
<p>ç°åœ¨çš„ AI æœ‰æ—¶å€™åƒä¸ªçƒ­å¿ƒä½†å†’å¤±çš„å®ä¹ ç”Ÿâ€”â€”ä½ è®©å®ƒå¸®ä½ å†™é‚®ä»¶ï¼Œå®ƒå¯èƒ½æŠŠä½ çš„ç§äººä¿¡æ¯ä¹Ÿä¸€èµ·å‘å‡ºå»äº†â€¦â€¦</p>
<p>2026 å¹´çš„ AI ä¼šæ›´åƒä¸€ä¸ªè®­ç»ƒæœ‰ç´ çš„åŠ©ç†ï¼šçŸ¥é“ä»€ä¹ˆè¯¥åšï¼Œä»€ä¹ˆä¸è¯¥åšï¼Œä»€ä¹ˆä¿¡æ¯å¯ä»¥ç”¨ï¼Œä»€ä¹ˆå¿…é¡»ä¿å¯†ã€‚</p>
<p>æ‰€ä»¥è™½ç„¶ AI èƒ½å¸®ä½ å¤„ç†å„é¡¹äº‹åŠ¡ï¼Œä½†ä¹Ÿè¦æœ‰åŸºæœ¬çš„å®‰å…¨æ„è¯†ï¼Œå°¤å…¶ä¸è¦è®©ä»–åˆ åº“è·‘è·¯äº†ã€‚</p>
<h3 data-id="heading-3">è¶‹åŠ¿ 3ï¼šAI è§£å†³å…¨çƒåŒ»ç–—å±æœº</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ä½ èµ°è¿›åŒ»é™¢ï¼ŒAI ç³»ç»Ÿèƒ½åœ¨å‡ åˆ†é’Ÿå†…å‡†ç¡®è¯Šæ–­ä½ çš„ç—…æƒ…ï¼Œå‡†ç¡®ç‡é«˜è¾¾ 85.5%ï¼Œè€Œä¼ ç»ŸåŒ»ç”Ÿçš„å¹³å‡å‡†ç¡®ç‡åªæœ‰ 20%ã€‚</p>
<p>è¿™å¬èµ·æ¥åƒç§‘å¹»ç”µå½±ï¼Œä½†å¾®è½¯æœ€æ–°çš„ AI åŒ»ç–—è¯Šæ–­ç³»ç»Ÿå·²ç»è¾¾åˆ°äº†è¿™ä¸ªæ°´å¹³ã€‚</p>
<p>è¿™æ„å‘³ç€ AI å°†æˆä¸ºç¬¬ä¸€çº¿çš„å¥åº·é¡¾é—®ï¼Œå½“ç„¶ï¼Œè¿™ä¸æ˜¯è¯´ AI è¦å–ä»£åŒ»ç”Ÿã€‚è€Œæ˜¯è¯´ï¼ŒAI å¯ä»¥è®©åŒ»ç–—èµ„æºçš„åˆ†é…æ›´å‡è¡¡ä¸€äº›ã€‚</p>
<p>æ‰€ä»¥æ–°çš„ä¸€å¹´ï¼Œä½ å¯ä»¥å…³æ³¨ AI åœ¨å¥åº·é¢†åŸŸçš„åº”ç”¨ï¼Œä½†çœ‹ç—…è¿˜æ˜¯è¦å»æ­£è§„åŒ»é™¢ï¼Œåˆ«æŒ‡æœ› AI ç»™ä½ å¼€è¯æ–¹ã€‚</p>
<h3 data-id="heading-4">è¶‹åŠ¿ 4ï¼šAI æˆä¸ºç§‘å­¦ç ”ç©¶çš„å‚¬åŒ–å‰‚</h3>
<p>ä»¥å‰åšç ”ç©¶ï¼Œå…‰æ˜¯æ–‡çŒ®ç»¼è¿°å°±è¦èŠ±å‡ ä¸ªæœˆã€‚</p>
<p>ç°åœ¨ AI å¯ä»¥å¸®ä½ å¿«é€Ÿæ¢³ç†å‡ åƒç¯‡è®ºæ–‡ï¼Œæ‰¾å‡ºå…³é”®ä¿¡æ¯ã€‚</p>
<p>è¿™å°±åƒä»¥å‰è€ƒå¤è¦ä¸€é“²å­ä¸€é“²å­æŒ–ï¼Œç°åœ¨æœ‰äº†æ¢åœ°é›·è¾¾ï¼Œèƒ½æ›´å¿«å®šä½åˆ°æœ‰ä»·å€¼çš„åŒºåŸŸã€‚</p>
<p>æ‰€ä»¥å¦‚æœä½ æ˜¯å­¦ç”Ÿæˆ–ç ”ç©¶è€…ï¼Œå­¦ä¼šç”¨ AI è¾…åŠ©å­¦ä¹ å’Œç ”ç©¶ï¼Œä¼šæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„ç«äº‰ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-5">è¶‹åŠ¿ 5ï¼šAI åŸºç¡€è®¾æ–½ä¼šå˜å¾—æ›´æ™ºèƒ½ã€æ›´é«˜æ•ˆ</h3>
<p>æ”¯æ’‘ AI è¿è¡Œçš„åŸºç¡€è®¾æ–½ä¼šæŒç»­ä¼˜åŒ–ï¼Œè¿™æ„å‘³ç€ AI åŸºç¡€è®¾æ–½èƒ½å¤Ÿæ™ºèƒ½è°ƒåº¦ç®—åŠ›ï¼Œç¡®ä¿æ¯ä¸ªä»»åŠ¡éƒ½èƒ½åœ¨æœ€ä½³æ—¶é—´ã€åœ°ç‚¹è·å¾—æœ€ä¼˜èµ„æºã€‚</p>
<p>ä»¥åæ— è®ºä½ åœ¨å“ªé‡Œï¼Œä½¿ç”¨ä»€ä¹ˆè®¾å¤‡ï¼Œéƒ½å°†è·å¾—ä¸€è‡´ä¸”é«˜æ•ˆçš„ AI æœåŠ¡ã€‚</p>
<p>äº‘è®¡ç®—å°†å˜å¾—åƒè‡ªæ¥æ°´ä¸€æ ·æ™®åŠå’Œå¯é ã€‚</p>
<h3 data-id="heading-6">è¶‹åŠ¿ 6ï¼šAI æ­£åœ¨å­¦ä¹ ç†è§£ä»£ç èƒŒåçš„â€œä¸ºä»€ä¹ˆâ€</h3>
<p>AI ä¸åªå­¦ä¹ ä»£ç è¯­è¨€ï¼Œè¿˜åœ¨ç†è§£ä»£ç èƒŒåçš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>è¿™æ„å‘³ç€ä»¥å‰çš„ AI å†™ä»£ç å°±åƒä¸ªæ–°æ‰‹ç¨‹åºå‘˜â€”â€”ä½ è¯´ä»€ä¹ˆå®ƒå†™ä»€ä¹ˆï¼Œä½†ä¸ç†è§£ä½ åˆ°åº•æƒ³è§£å†³ä»€ä¹ˆé—®é¢˜ã€‚</p>
<p>ç°åœ¨çš„ AI å¼€å§‹èƒ½ç†è§£â€œä½ ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšâ€ï¼Œç„¶åç»™å‡ºæ›´åˆç†çš„æ–¹æ¡ˆã€‚</p>
<p>å¯¹æˆ‘ä»¬ç¨‹åºå‘˜æ¥è¯´ï¼ŒAI å°†èƒ½æ›´å¥½åœ°ååŠ©ä½ ç»´æŠ¤å’Œæ”¹è¿›ç°æœ‰ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-7">è¶‹åŠ¿ 7ï¼šé‡å­è®¡ç®—çš„çªç ´æ¯”æƒ³è±¡ä¸­æ›´è¿‘</h3>
<p>ä¸“å®¶é¢„æµ‹ï¼Œé‡å­è®¡ç®—çš„é‡å¤§çªç ´å°†å‘ç”Ÿåœ¨â€œå‡ å¹´ï¼Œè€Œä¸æ˜¯å‡ åå¹´â€çš„æ—¶é—´æ¡†æ¶å†…ã€‚</p>
<p>éšç€é‡å­è®¡ç®—çš„å‡ºç°ï¼Œå¯†ç å­¦ã€è¯ç‰©å‘ç°ã€æ°”å€™æ¨¡æ‹Ÿç­‰é¢†åŸŸå°†è¿æ¥é©å‘½æ€§çªç ´ã€‚</p>
<p>å½“ç„¶å¯¹æˆ‘ä»¬æ¥è¯´ï¼Œè¿™æš‚æ—¶ä¸éœ€è¦æ“å¿ƒï¼Œä½†å¯ä»¥ä¿æŒå…³æ³¨ã€‚å› ä¸ºè¿™æ˜¯é‚£ç§â€œä¸€æ—¦å‘ç”Ÿå°±ä¼šæ”¹å˜å¾ˆå¤šäº‹â€çš„æŠ€æœ¯ã€‚</p>
<h3 data-id="heading-8">æ™®é€šäººè¯¥æ€ä¹ˆåŠï¼Ÿ</h3>
<p>è¿™äº›è¶‹åŠ¿çš„å…±åŒç‚¹æ˜¯ï¼š<strong>AI æ­£åœ¨ä»å·¥å…·å˜æˆä¼™ä¼´ï¼Œä»è¾…åŠ©å˜æˆåˆä½œä¼™ä¼´ï¼Œä»åå°å˜æˆå‰å°</strong>ã€‚</p>
<p>ä¸è¿‡çœ‹å®Œè¿™ 7 ä¸ªè¶‹åŠ¿ï¼Œä½ å¯èƒ½è¿˜æ˜¯ä¼šé—®ï¼šæ‰€ä»¥æˆ‘åˆ°åº•è¯¥åšä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>æˆ‘çš„å»ºè®®å¾ˆç®€å•ï¼Œä¸‰å¥è¯ï¼š</p>
<p><strong>ç¬¬ä¸€ï¼Œåˆ«ç„¦è™‘ï¼Œä½†è¦ä¿æŒå¥½å¥‡</strong></p>
<p>AI å‘å±•å¾ˆå¿«ï¼Œä½†å¤©ä¸ä¼šå¡Œä¸‹æ¥ã€‚ä¸å…¶ç„¦è™‘â€œä¼šä¸ä¼šè¢«å–ä»£â€ï¼Œä¸å¦‚èŠ±ç‚¹æ—¶é—´ç©ç©å„ç§ AI å·¥å…·ï¼Œçœ‹çœ‹å®ƒä»¬èƒ½å¸®ä½ åšä»€ä¹ˆã€‚</p>
<p><strong>ç¬¬äºŒï¼Œæ‰¾åˆ°ä½ çš„â€œä¸å¯æ›¿ä»£æ€§â€</strong></p>
<p>AI æ“…é•¿çš„æ˜¯â€œæ ‡å‡†åŒ–â€çš„äº‹æƒ…ã€‚è€Œä½ çš„ç‹¬ç‰¹ç»å†ã€å®¡ç¾ã€åˆ¤æ–­åŠ›ã€äººé™…å…³ç³»â€”â€”è¿™äº›æ˜¯ AI å¾ˆéš¾å¤åˆ¶çš„ã€‚æƒ³æƒ³ä½ æœ‰ä»€ä¹ˆæ˜¯ AI åšä¸åˆ°çš„</p>
<p><strong>ç¬¬ä¸‰ï¼Œå­¦ä¼šâ€œå’Œ AI åä½œâ€</strong></p>
<p>æœªæ¥æœ€åƒé¦™çš„ä¸æ˜¯â€œä¼šç”¨ AI çš„äººâ€ï¼Œä¹Ÿä¸æ˜¯â€œå®Œå…¨ä¸ç”¨ AI çš„äººâ€ï¼Œè€Œæ˜¯â€œçŸ¥é“ä»€ä¹ˆæ—¶å€™ç”¨ AIã€ä»€ä¹ˆæ—¶å€™ç”¨è‡ªå·±â€çš„äººã€‚</p>
<p>è¯´åˆ°åº•ï¼ŒAI æ˜¯å·¥å…·ï¼Œä¸æ˜¯å¯¹æ‰‹ã€‚</p>
<p>å°±åƒæ±½è½¦å‘æ˜åï¼Œé©¬è½¦å¤«ç¡®å®å¤±ä¸šäº†ï¼Œä½†å¸æœºã€ä¿®è½¦å·¥ã€äº¤é€šè§„åˆ’å¸ˆè¿™äº›æ–°èŒä¸šä¹Ÿå‡ºç°äº†ã€‚</p>
<p>å˜åŒ–ä¸€ç›´åœ¨å‘ç”Ÿï¼Œæˆ‘ä»¬è¦åšçš„ï¼Œæ˜¯åœ¨å˜åŒ–ä¸­æ‰¾åˆ°è‡ªå·±çš„ä½ç½®ã€‚</p>
<p>PSï¼šå²‚å¯ä¿®ï¼Œè¿™è®©æˆ‘æƒ³åˆ°äº†é˜¿é‡Œçš„æ–‡åŒ–â€”â€”æ‹¥æŠ±å˜åŒ–</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªæ¨¡å‹æå®šæ‰€æœ‰åœºæ™¯ï¼å“ˆå·¥å¤§&ç½—åˆ‡æ–¯ç‰¹å¤§å­¦æå‡ºæ— ç›‘ç£å¤šåœºæ™¯ReIDæ–°æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7597987896693129251</link>    <guid>https://juejin.cn/post/7597987896693129251</guid>    <pubDate>2026-01-22T09:34:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597987896693129251" data-draft-id="7598020609281687586" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªæ¨¡å‹æå®šæ‰€æœ‰åœºæ™¯ï¼å“ˆå·¥å¤§&amp;ç½—åˆ‡æ–¯ç‰¹å¤§å­¦æå‡ºæ— ç›‘ç£å¤šåœºæ™¯ReIDæ–°æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-22T09:34:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªæ¨¡å‹æå®šæ‰€æœ‰åœºæ™¯ï¼å“ˆå·¥å¤§&amp;ç½—åˆ‡æ–¯ç‰¹å¤§å­¦æå‡ºæ— ç›‘ç£å¤šåœºæ™¯ReIDæ–°æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T09:34:00.000Z" title="Thu Jan 22 2026 09:34:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç›‘æ§çœ‹ä¸æ¸…ã€ç›®æ ‡æ¢è¡£æœã€ç™½å¤©é»‘å¤œåˆ‡æ¢â€¦â€¦è¿™äº›ç°å®éš¾é¢˜ï¼Œç°åœ¨ä¸€ä¸ªæ¨¡å‹å°±èƒ½å…¨éƒ¨è§£å†³ï¼</p>
<p>è¡Œäººé‡è¯†åˆ«ï¼ˆReIDï¼‰æŠ€æœ¯åœ¨ç°ä»£å®‰é˜²ã€æ™ºæ…§åŸå¸‚ç­‰é¢†åŸŸæ‰®æ¼”ç€å…³é”®è§’è‰²ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨èŒ«èŒ«äººæµ·ä¸­å¿«é€Ÿé”å®šç‰¹å®šç›®æ ‡â€”â€”è¿™æ­£æ˜¯ReIDçš„æ ¸å¿ƒä»»åŠ¡ã€‚</p>
<p>ç„¶è€Œç°å®æ€»æ˜¯æ¯”ç†æƒ³å¤æ‚ï¼šå¤œé—´å…‰çº¿ä¸è¶³å¯¼è‡´å›¾åƒæ¨¡ç³Šï¼Œä¸åŒæ‘„åƒå¤´åˆ†è¾¨ç‡å‚å·®ä¸é½ï¼ŒåŒä¸€ä¸ªç›®æ ‡æ¢äº†èº«è¡£æœå°±åƒå˜äº†ä¸ªäººâ€¦â€¦</p>
<p>ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆæ˜¯ä¸ºæ¯ä¸ªç‰¹æ®Šåœºæ™¯å•ç‹¬è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œä½†è¿™æ— ç–‘å¢åŠ äº†ç³»ç»Ÿå¤æ‚åº¦å’Œç»´æŠ¤æˆæœ¬ã€‚æœ‰æ²¡æœ‰å¯èƒ½è®­ç»ƒä¸€ä¸ªâ€œå…¨èƒ½å‹â€æ¨¡å‹ï¼Œä¸€æ¬¡æ€§è§£å†³æ‰€æœ‰é—®é¢˜ï¼Ÿ</p>
<p>æœ€è¿‘ï¼Œå“ˆå°”æ»¨å·¥ä¸šå¤§å­¦å’Œç½—åˆ‡æ–¯ç‰¹å¤§å­¦çš„ç ”ç©¶è€…ä»¬åœ¨è®ºæ–‡ã€ŠImage-Text Knowledge Modeling for Unsupervised Multi-Scenario Person Re-Identificationã€‹ä¸­ç»™å‡ºäº†è‚¯å®šç­”æ¡ˆã€‚ä»–ä»¬ä¸ä»…æå‡ºäº†æ— ç›‘ç£å¤šåœºæ™¯è¡Œäººé‡è¯†åˆ«ï¼ˆUMS-ReIDï¼‰è¿™ä¸€å…¨æ–°ä»»åŠ¡ï¼Œè¿˜è®¾è®¡äº†ä¸€å¥—åˆ›æ–°çš„å›¾åƒ-æ–‡æœ¬çŸ¥è¯†å»ºæ¨¡ï¼ˆITKMï¼‰æ¡†æ¶ï¼Œè®©å•ä¸€æ¨¡å‹å¤„ç†å¤šç§å¤æ‚åœºæ™¯æˆä¸ºç°å®ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6deebdc5085245dcaa78e4bde2cf98c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769679239&amp;x-signature=38PVSrmeA%2F%2BlxqX5oqgFEOFoawk%3D" alt="å›¾ç‰‡1.png" loading="lazy"/></p>
<blockquote>
<p><strong>è®ºæ–‡æ ‡é¢˜ï¼šImage-Text Knowledge Modeling for Unsupervised Multi-Scenario Person Re-Identification</strong></p>
<p><strong>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2601.11243" target="_blank" title="https://arxiv.org/abs/2601.11243" ref="nofollow noopener noreferrer">arxiv.org/abs/2601.11â€¦</a></strong></p>
</blockquote>
<h2 data-id="heading-0"><strong>ç°å®ä¸­çš„ReIDéš¾é¢˜ï¼šä¸ºä»€ä¹ˆéœ€è¦â€œå¤§ä¸€ç»Ÿâ€æ¨¡å‹ï¼Ÿ</strong></h2>
<p>ä¼ ç»Ÿæ— ç›‘ç£ReIDæ–¹æ³•åœ¨ç®€å•åœºæ™¯ä¸‹è¡¨ç°ä¸é”™ï¼Œä½†é¢å¯¹ç°å®ä¸–ç•Œçš„å¤æ‚æ€§æ—¶å´æ˜¾å¾—åŠ›ä¸ä»å¿ƒã€‚é—®é¢˜çš„æ ¸å¿ƒåœ¨äºèº«ä»½ä¿¡æ¯å…·æœ‰åœºæ™¯ä¾èµ–æ€§â€”â€”åŒä¸€ä¸ªäººçš„ç‰¹å¾åœ¨ä¸åŒæ¡ä»¶ä¸‹å¯èƒ½å‘ç”Ÿæ˜¾è‘—å˜åŒ–ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/725e25ae6d42462da27c8f7f717eb215~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769679239&amp;x-signature=jMWvfAraLUVkDGCYnVcY0KqusSs%3D" alt="å›¾ç‰‡2.png" loading="lazy"/></p>
<p>è¿™ç§æŒ‘æˆ˜å‚¬ç”Ÿäº†å¤šä¸ªä¸“é—¨åŒ–çš„ReIDå­é¢†åŸŸï¼š</p>
<ul>
<li>UVI-ReIDï¼šå¤„ç†å¯è§å…‰ä¸çº¢å¤–å›¾åƒä¹‹é—´çš„åŒ¹é…</li>
<li>UCC-ReIDï¼šåº”å¯¹è¡Œäººæ›´æ¢è¡£ç‰©å¸¦æ¥çš„å¤–è§‚å˜åŒ–</li>
<li>UCR-ReIDï¼šè§£å†³ä¸åŒæ‘„åƒå¤´åˆ†è¾¨ç‡å·®å¼‚é—®é¢˜</li>
</ul>
<p>è¿™äº›ä¸“é—¨åŒ–æ–¹æ³•å°±åƒæ˜¯åªä¼šå•ä¸€ä¹å™¨çš„ä¹æ‰‹ï¼Œå„è‡ªæ“…é•¿ä¸€ç§æ›²é£ï¼Œå´æ— æ³•åˆå¥å‡ºå¤æ‚çš„äº¤å“ä¹ã€‚è€Œåœ¨å®é™…ç›‘æ§ç³»ç»Ÿä¸­ï¼Œä¸Šè¿°æŒ‘æˆ˜å¾€å¾€åŒæ—¶å­˜åœ¨ã€‚</p>
<p>ç»´æŠ¤å¤šä¸ªç‹¬ç«‹æ¨¡å‹ä¸ä»…æˆæœ¬é«˜æ˜‚ï¼Œæ›´æµªè´¹äº†ä¸åŒåœºæ™¯æ•°æ®ä¸­æ½œåœ¨çš„äº’è¡¥ä¿¡æ¯ã€‚æ­£æ˜¯è¿™ä¸€ç—›ç‚¹ï¼Œå‚¬ç”Ÿäº†UMS-ReIDè¿™ä¸€çªç ´æ€§ä»»åŠ¡ï¼šç”¨ä¸€ä¸ªé€šç”¨æ¨¡å‹ï¼Œæå®šæ‰€æœ‰åœºæ™¯ã€‚</p>
<h2 data-id="heading-1"><strong>ITKMæ¡†æ¶ï¼šä¸‰æ­¥æ‰“é€ å…¨èƒ½ReIDæ¨¡å‹</strong></h2>
<p>ITKMæ¡†æ¶åŸºäºå¼ºå¤§çš„CLIPè§†è§‰è¯­è¨€æ¨¡å‹æ„å»ºï¼Œé€šè¿‡ä¸‰ä¸ªé˜¶æ®µé€æ­¥è®­ç»ƒå‡ºä¸€ä¸ªèƒ½å¤Ÿåº”å¯¹å¤šåœºæ™¯çš„é€šç”¨å›¾åƒç¼–ç å™¨ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3019904880d94dbaa9c097da6bb864f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769679239&amp;x-signature=kjS13kRnhfrIVgUicVKrRulnFsU%3D" alt="å›¾ç‰‡3.png" loading="lazy"/></p>
<ul>
<li><strong>ç¬¬ä¸€é˜¶æ®µï¼šåœºæ™¯æ„ŸçŸ¥çš„åˆæ­¥å­¦ä¹ </strong></li>
</ul>
<p>ä¸ºäº†è®©æ¨¡å‹â€œçŸ¥é“â€è‡ªå·±å¤„ç†çš„æ˜¯å“ªç§åœºæ™¯ï¼Œç ”ç©¶è€…åœ¨CLIPçš„å›¾åƒç¼–ç å™¨ä¸­å¼•å…¥äº†å·§å¦™çš„åœºæ™¯åµŒå…¥è®¾è®¡â€”â€”åœ¨è¾“å…¥è§†è§‰Transformerä¹‹å‰ï¼Œå°†å¯å­¦ä¹ çš„åœºæ™¯ç‰¹å¾åµŒå…¥åˆ°class_tokenä¸­ã€‚</p>
<p>æ¥ç€ï¼Œæ¨¡å‹åœ¨æ¯ä¸ªåœºæ™¯å†…éƒ¨è¿›è¡ŒåŒæ„å­¦ä¹ ï¼šé€šè¿‡èšç±»ç®—æ³•ä¸ºå›¾åƒç”Ÿæˆä¼ªæ ‡ç­¾ï¼Œç„¶åä½¿ç”¨åŒæ„å¯¹æ¯”æŸå¤±ä¼˜åŒ–ç¼–ç å™¨ï¼Œç›®æ ‡æ˜¯æ‹‰è¿‘åŒä¸€èº«ä»½çš„å›¾åƒï¼Œæ¨å¼€ä¸åŒèº«ä»½çš„å›¾åƒã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23f9cb01f02f45518f235d573eadcf3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769679239&amp;x-signature=vR7i%2FAMCthWJ%2B%2B80ncng1noLvIA%3D" alt="å›¾ç‰‡4.png" loading="lazy"/></p>
<ul>
<li><strong>ç¬¬äºŒé˜¶æ®µï¼šæ–‡æœ¬è¡¨ç¤ºçš„åŠ›é‡</strong></li>
</ul>
<p>è¿™ä¸€é˜¶æ®µçš„åˆ›æ–°ä¹‹å¤„åœ¨äºå¼•å…¥æ–‡æœ¬ä½œä¸ºèº«ä»½çš„é«˜çº§æŠ½è±¡è¡¨ç¤ºã€‚</p>
<p>æ¨¡å‹ä¸ºæ¯ä¸ªä¼ªèº«ä»½å­¦ä¹ ä¸€ç»„ä¸“å±çš„æ–‡æœ¬åµŒå…¥ï¼Œæ’å…¥åˆ°â€œA photo of a [X1][X2]...[XM] personâ€æ¨¡æ¿ä¸­ï¼Œå½¢æˆæè¿°æ€§å¥å­ã€‚é€šè¿‡ä¼˜åŒ–ï¼Œä½¿æ–‡æœ¬è¡¨ç¤ºä¸å¯¹åº”å›¾åƒè¡¨ç¤ºåœ¨CLIPç©ºé—´ä¸­å°½å¯èƒ½æ¥è¿‘ã€‚</p>
<p>å…³é”®çš„åˆ›æ–°æ˜¯å¤šåœºæ™¯åˆ†ç¦»æŸå¤±ï¼Œå®ƒä¸»åŠ¨æ¨åŠ¨ä¸åŒåœºæ™¯çš„æ–‡æœ¬è¡¨ç¤ºç›¸äº’åˆ†ç¦»ï¼Œç¡®ä¿æ¨¡å‹ä¸ä»…èƒ½è¯†åˆ«èº«ä»½ï¼Œè¿˜èƒ½æ„ŸçŸ¥åœºæ™¯å·®å¼‚ã€‚</p>
<p>ä»t-SNEå¯è§†åŒ–ç»“æœå¯ä»¥çœ‹åˆ°ï¼ŒåŠ å…¥è¿™ä¸€æŸå¤±åï¼Œä¸åŒåœºæ™¯çš„æ–‡æœ¬è¡¨ç¤ºæ˜æ˜¾åˆ†ç¦»å¾—æ›´å¼€ï¼Œä¸ºåç»­çš„è·¨åœºæ™¯åŒ¹é…å¥ å®šäº†åŸºç¡€ã€‚</p>
<ul>
<li><strong>ç¬¬ä¸‰é˜¶æ®µï¼šè·¨åœºæ™¯åŒ¹é…çš„æ ¸å¿ƒæŠ€æœ¯</strong></li>
</ul>
<p>è¿™æ˜¯æ¡†æ¶æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œæ¨¡å‹éœ€è¦å­¦ä¼šåŒ¹é…â€œå¼‚æ„â€å›¾åƒå¯¹â€”â€”æ¯”å¦‚å°†çº¢å¤–å›¾åƒä¸­çš„äººä¸å¯è§å…‰å›¾åƒä¸­çš„åŒä¸€ä¸ªäººå¯¹åº”èµ·æ¥ã€‚</p>
<p>ç ”ç©¶è€…è®¾è®¡äº†åŒé‡åŒ¹é…ç­–ç•¥ï¼š</p>
<ul>
<li>èšç±»çº§å¼‚æ„åŒ¹é…ï¼šåœ¨èº«ä»½èšç±»çš„å±‚é¢ä¸Šï¼Œåˆ©ç”¨å›¾åŒ¹é…ç®—æ³•å¯»æ‰¾è·¨åœºæ™¯çš„å¯¹åº”å…³ç³»</li>
<li>å®ä¾‹çº§å¼‚æ„åŒ¹é…ï¼šåœ¨å•ä¸ªå›¾åƒå±‚é¢ä¸Šï¼ŒåŒæ—¶åœ¨å›¾åƒå’Œæ–‡æœ¬ä¸¤ä¸ªç‰¹å¾ç©ºé—´å¯»æ‰¾ç›¸ä¼¼æ ·æœ¬ï¼Œå–äº¤é›†ä½œä¸ºé«˜å¯ä¿¡åº¦çš„å¼‚æ„æ­£æ ·æœ¬</li>
</ul>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b4116ebf1404d24bf1c1abaa9f8e678~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769679239&amp;x-signature=leR6PkpcEyqZ2pEt5PKTFv%2B%2FoVU%3D" alt="å›¾ç‰‡5.png" loading="lazy"/></p>
<p>è¿™ç§åŒç©ºé—´éªŒè¯æ–¹æ³•æœ‰æ•ˆè¿‡æ»¤äº†è§†è§‰ç›¸ä¼¼ä½†èº«ä»½é”™è¯¯çš„æ ·æœ¬ï¼Œå¤§å¹…æå‡äº†åŒ¹é…å‡†ç¡®æ€§ã€‚</p>
<p>æ­¤å¤–ï¼ŒåŠ¨æ€æ–‡æœ¬è¡¨ç¤ºæ›´æ–°ç­–ç•¥ç¡®ä¿æ–‡æœ¬ç›‘ç£ä¿¡å·ä¸ä¸æ–­ä¼˜åŒ–çš„å›¾åƒä¼ªæ ‡ç­¾ä¿æŒåŒæ­¥ï¼Œå½¢æˆä¸€ä¸ªè‡ªæˆ‘å¢å¼ºçš„å­¦ä¹ å¾ªç¯ã€‚</p>
<h2 data-id="heading-2"><strong>å®éªŒç»“æœï¼šå…¨é¢è¶…è¶Šçš„â€œå…¨èƒ½é€‰æ‰‹â€</strong></h2>
<p>åœ¨SYSU-MM01ï¼ˆå¯è§å…‰-çº¢å¤–ï¼‰ã€MLR-CUHK03ï¼ˆè·¨åˆ†è¾¨ç‡ï¼‰å’ŒPRCCï¼ˆæ¢è¡£ï¼‰ä¸‰ä¸ªæ•°æ®é›†ä¸Šçš„å®éªŒç»“æœæ˜¾ç¤ºï¼š</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/580a42b90bdf4c4eabbe3e3c0e0c4157~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769679239&amp;x-signature=w%2BNHDkFJQghwyBM9PaEY9X5N1VM%3D" alt="å›¾ç‰‡6.png" loading="lazy"/></p>
<p>ITKMä¸ä»…åœ¨å•ä¸ªåœºæ™¯ä¸Šè¡¨ç°ä¼˜å¼‚ï¼Œåœ¨å¤šåœºæ™¯è”åˆè®­ç»ƒæ—¶æ›´æ˜¯å®ç°äº†æ€§èƒ½çš„å…¨é¢æå‡ï¼š</p>
<p>åœ¨MLR-CUHK03æ•°æ®é›†ä¸Šï¼ŒITKMå•åœºæ™¯è®­ç»ƒçš„Rank-1å‡†ç¡®ç‡è¾¾åˆ°62.5%ï¼Œè¿œè¶…ä¹‹å‰æœ€ä½³æ–¹æ³•DRFMçš„35.8%</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b0b859d40a146d5a29bb9a483ba50bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769679239&amp;x-signature=ks%2FObxB410kf7pKk8O5%2FdYBKiVc%3D" alt="å›¾ç‰‡7.png" loading="lazy"/></p>
<p>å¤šåœºæ™¯è®­ç»ƒæ—¶ï¼ŒITKMåœ¨æ‰€æœ‰ä¸‰ä¸ªæ•°æ®é›†ä¸Šéƒ½å®ç°äº†æ€§èƒ½æå‡ï¼Œè€Œä¼ ç»Ÿæ–¹æ³•åœ¨å¤šåœºæ™¯è®­ç»ƒæ—¶å¾€å¾€ä¼šå‡ºç°æ€§èƒ½ä¸‹é™</p>
<p>åœ¨SYSU-MM01æ•°æ®é›†ä¸Šï¼Œå¤šåœºæ™¯è®­ç»ƒçš„Rank-1å‡†ç¡®ç‡æå‡è‡³64.9%ï¼ŒmAPæå‡è‡³63.3%</p>
<p>è¿™ä¸€ç»“æœæœ‰åŠ›åœ°è¯æ˜äº†ï¼šITKMæ¡†æ¶çœŸæ­£å®ç°äº†ä»å¤šæ ·åœºæ™¯æ•°æ®ä¸­æ±²å–å…»åˆ†ï¼Œè¾¾åˆ°â€œ1+1+1&gt;3â€çš„æ•ˆæœã€‚</p>
<h2 data-id="heading-3"><strong>æŠ€æœ¯å±•æœ›ä¸ç°å®æ„ä¹‰</strong></h2>
<p>è¿™é¡¹ç ”ç©¶çš„ä»·å€¼ä¸ä»…åœ¨äºæå‡ºäº†ä¸€ä¸ªæ€§èƒ½å¼ºå¤§çš„æ–°æ¨¡å‹ï¼Œæ›´åœ¨äºå®šä¹‰äº†ä¸€ä¸ªæ›´è´´è¿‘ç°å®åº”ç”¨çš„æ–°èŒƒå¼ã€‚UMS-ReIDä»»åŠ¡çš„æå‡ºï¼Œå°†æ¨åŠ¨ReIDç ”ç©¶ä»â€œä¸“é¡¹ä¼˜åŒ–â€å‘â€œé€šç”¨æ™ºèƒ½â€è½¬å˜ã€‚</p>
<p>ITKMæ¡†æ¶å±•ç¤ºäº†å¤šæ¨¡æ€å­¦ä¹ åœ¨è®¡ç®—æœºè§†è§‰ä»»åŠ¡ä¸­çš„å·¨å¤§æ½œåŠ›ã€‚é€šè¿‡å·§å¦™åˆ©ç”¨å›¾æ–‡é¢„è®­ç»ƒæ¨¡å‹çš„çŸ¥è¯†ï¼Œæ„å»ºèƒ½å¤Ÿç»Ÿä¸€å¤„ç†å¤šç§å¤æ‚åœºæ™¯çš„æ„ŸçŸ¥ç³»ç»Ÿæˆä¸ºå¯èƒ½ã€‚</p>
<p>å¯¹äºå®‰é˜²ç›‘æ§ã€æ™ºæ…§åŸå¸‚ç­‰å®é™…åº”ç”¨ï¼Œè¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>é™ä½éƒ¨ç½²æˆæœ¬ï¼šæ— éœ€ä¸ºä¸åŒåœºæ™¯ç»´æŠ¤å¤šä¸ªæ¨¡å‹</li>
<li>æå‡ç³»ç»Ÿé²æ£’æ€§ï¼šå•ä¸€æ¨¡å‹å³å¯åº”å¯¹å„ç§å¤æ‚æ¡ä»¶</li>
<li>ç®€åŒ–è¿ç»´æµç¨‹ï¼šæ¨¡å‹æ›´æ–°å’Œç»´æŠ¤æ›´åŠ é›†ä¸­é«˜æ•ˆ</li>
</ul>
<p>è™½ç„¶ç›®å‰ç›¸å…³ä»£ç å°šæœªå¼€æºï¼Œä½†è¿™ä¸€ç ”ç©¶æ–¹å‘çš„æ˜ç¡®ä¸ºåç»­å·¥ä½œæä¾›äº†æ¸…æ™°çš„è·¯çº¿å›¾ã€‚éšç€å¤šæ¨¡æ€å¤§æ¨¡å‹çš„å¿«é€Ÿå‘å±•ï¼Œæˆ‘ä»¬æœ‰æœ›çœ‹åˆ°æ›´å¤šç±»ä¼¼çš„â€œå¤§ä¸€ç»Ÿâ€è§£å†³æ–¹æ¡ˆï¼Œè®©AIç³»ç»Ÿåœ¨å¤æ‚ç°å®ç¯å¢ƒä¸­è¡¨ç°æ›´åŠ å‡ºè‰²ã€‚</p>
<p>åœ¨é€šå¾€é€šç”¨äººå·¥æ™ºèƒ½çš„é“è·¯ä¸Šï¼Œè¿™ç±»èƒ½å¤Ÿè·¨è¶Šä¸åŒæ¡ä»¶ã€ä¸åŒåœºæ™¯çš„æ„ŸçŸ¥æ¨¡å‹ï¼Œæ— ç–‘æ˜¯é‡è¦çš„ä¸€æ­¥ã€‚æœªæ¥ï¼Œæˆ–è®¸æˆ‘ä»¬çœŸçš„èƒ½å¤Ÿå®ç°â€œä¸€ä¸ªæ¨¡å‹ï¼Œé€‚åº”ä¸‡ç‰©â€çš„ç»ˆæç›®æ ‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactè®°å½•ä¹‹contextï¼šuseContextã€use-context-selector]]></title>    <link>https://juejin.cn/post/7598020609281703970</link>    <guid>https://juejin.cn/post/7598020609281703970</guid>    <pubDate>2026-01-22T09:34:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598020609281703970" data-draft-id="7597779410407440418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactè®°å½•ä¹‹contextï¼šuseContextã€use-context-selector"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-22T09:34:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="web_bee"/> <meta itemprop="url" content="https://juejin.cn/user/428665740231"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactè®°å½•ä¹‹contextï¼šuseContextã€use-context-selector
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/428665740231/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    web_bee
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T09:34:27.000Z" title="Thu Jan 22 2026 09:34:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸç”Ÿcontextã€useContextè¯¦è§£</h2>
<p>React çš„ Context API æ˜¯ä¸€ç§ç»„ä»¶é—´å…±äº«æ•°æ®çš„æœºåˆ¶ï¼Œå®ƒå…è®¸ä½ åœ¨ç»„ä»¶æ ‘ä¸­ä¼ é€’æ•°æ®è€Œä¸å¿…æ‰‹åŠ¨é€å±‚ä¼ é€’ propsï¼Œç‰¹åˆ«é€‚åˆ"å…¨å±€"æ•°æ®çš„å…±äº«ï¼ˆå¦‚ä¸»é¢˜ã€ç”¨æˆ·è®¤è¯ä¿¡æ¯ç­‰ï¼‰ã€‚</p>
<h3 data-id="heading-1">åŸºæœ¬ä½¿ç”¨ï¼š</h3>
<p><strong>åˆ›å»ºcontextï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { createContext, useContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ThemeType</span> = <span class="hljs-string">'light'</span> | <span class="hljs-string">'dark'</span>;
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ThemeContextType</span> {
 Â <span class="hljs-attr">theme</span>: <span class="hljs-title class_">ThemeType</span>;
 Â <span class="hljs-attr">toggleTheme</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
}
â€‹
<span class="hljs-comment">// 1. åˆ›å»º Context</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">ThemeContext</span> = createContext&lt;<span class="hljs-title class_">ThemeContextType</span>&gt;({
 Â <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>,
 Â <span class="hljs-attr">toggleTheme</span>: <span class="hljs-function">() =&gt;</span> {},
});
â€‹
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ThemeProviderProps</span> = {
 Â <span class="hljs-attr">children</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>;
} &amp; <span class="hljs-title class_">ThemeContextType</span>;
â€‹
<span class="hljs-comment">// 2. åˆ›å»º Provider ç»„ä»¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">ThemeProvider</span> = (<span class="hljs-params">{
 Â children,
 Â theme,
 Â toggleTheme,
}: ThemeProviderProps</span>) =&gt; {
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{{</span>
 Â  Â  Â <span class="hljs-attr">theme</span>,
 Â  Â  Â <span class="hljs-attr">toggleTheme</span>,
 Â   }}&gt;</span>
 Â  Â   {children}
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Provider</span>&gt;</span></span>
  );
};
â€‹
<span class="hljs-comment">// 3. è‡ªå®šä¹‰ Hookï¼ˆå¯é€‰ï¼Œæå‡å¯è¯»æ€§ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useTheme</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">ThemeContext</span>);
</code></pre>
<p><strong>é¡¶å±‚ç»„ä»¶ top.tsx</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-string">"use client"</span>;
â€‹
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ThemeContext</span>, <span class="hljs-title class_">ThemeContextType</span>, <span class="hljs-title class_">ThemeType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./context'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Button</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/button'</span>;
â€‹
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
 Â <span class="hljs-keyword">const</span> [theme, setTheme] = useState&lt;<span class="hljs-title class_">ThemeType</span>&gt;(<span class="hljs-string">'light'</span>);
â€‹
 Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleTheme</span> = (<span class="hljs-params"/>) =&gt; {
 Â  Â <span class="hljs-title function_">setTheme</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev === <span class="hljs-string">'light'</span> ? <span class="hljs-string">'dark'</span> : <span class="hljs-string">'light'</span>);
  };
â€‹
 Â <span class="hljs-keyword">const</span> <span class="hljs-attr">value</span>: <span class="hljs-title class_">ThemeContextType</span> = { theme, toggleTheme };
â€‹
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{value}</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
 Â  Â  Â  Â <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
 Â  Â  Â  Â  Â <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>',
 Â  Â  Â  Â  Â <span class="hljs-attr">background:</span> <span class="hljs-attr">theme</span> === <span class="hljs-string">'dark'</span> ? '#<span class="hljs-attr">000</span>' <span class="hljs-attr">:</span> '#<span class="hljs-attr">fff</span>',
 Â  Â  Â  Â  Â <span class="hljs-attr">color:</span> <span class="hljs-attr">theme</span> === <span class="hljs-string">'dark'</span> ? '#<span class="hljs-attr">fff</span>' <span class="hljs-attr">:</span> '#<span class="hljs-attr">000</span>'
 Â  Â  Â   }}
 Â  Â  Â &gt;</span>
 Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Current theme: {theme}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
 Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> /&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeContext.Provider</span>&gt;</span></span>
  );
}
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<p><strong>Buttonç»„ä»¶</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { useTheme } <span class="hljs-keyword">from</span> <span class="hljs-string">'../hook-api/use-context/context'</span>;
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params"/>) {
 Â <span class="hljs-keyword">const</span> { theme, toggleTheme } = <span class="hljs-title function_">useTheme</span>();
â€‹
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{toggleTheme}</span>&gt;</span>Toggle Theme {theme}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-2"><strong>ä½¿ç”¨åœºæ™¯</strong></h3>
<ul>
<li>å…¨å±€ä¸»é¢˜ï¼ˆäº®è‰²/æš—è‰²æ¨¡å¼ï¼‰</li>
<li>ç”¨æˆ·è®¤è¯çŠ¶æ€ï¼ˆç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼‰</li>
<li>å¤šè¯­è¨€å›½é™…åŒ–ï¼ˆi18nï¼‰</li>
<li>å…¨å±€é…ç½®æˆ–çŠ¶æ€ï¼ˆå¦‚è´­ç‰©è½¦ã€é€šçŸ¥è®¾ç½®ï¼‰</li>
</ul>
<h3 data-id="heading-3">æ³¨æ„äº‹é¡¹ï¼š</h3>
<p><strong>æ€§èƒ½é—®é¢˜</strong>ï¼šå½“ Provider çš„ <code>value</code> å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰€æœ‰ä½¿ç”¨è¯¥ Context çš„å­ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼ˆå³ä½¿åªç”¨åˆ°éƒ¨åˆ†å­—æ®µï¼‰ã€‚ä¸ºé¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼š</p>
<ul>
<li>å°† <code>value</code> æ‹†åˆ†ä¸ºå¤šä¸ª Contextï¼›</li>
<li>ä½¿ç”¨ <code>useMemo</code> ç¨³å®š <code>value</code> å¼•ç”¨ï¼›</li>
<li>å°†ä¸ä¾èµ– Context çš„å­ç»„ä»¶æå–åˆ° Provider å¤–éƒ¨ã€‚</li>
</ul>
<p><strong>ä¸è¦æ»¥ç”¨</strong>ï¼šContext ä¸æ˜¯ä¸‡èƒ½çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚å¯¹äºå¤æ‚çŠ¶æ€é€»è¾‘ï¼Œå»ºè®®ç»“åˆ <code>useReducer</code> æˆ–ä½¿ç”¨ Reduxã€Zustand ç­‰çŠ¶æ€åº“ã€‚</p>
<h2 data-id="heading-4">use-context-selector</h2>
<p><code>use-context-selector</code> æ˜¯ä¸€ä¸ª React ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰ä¼˜åŒ–åº“ï¼Œå®ƒè§£å†³äº† React åŸç”Ÿ <code>useContext</code> åœ¨æ€§èƒ½ä¸Šçš„ä¸€ä¸ªå…³é”®é—®é¢˜ï¼šå½“ä¸Šä¸‹æ–‡å€¼å˜åŒ–æ—¶ï¼Œæ‰€æœ‰ä½¿ç”¨è¯¥ä¸Šä¸‹æ–‡çš„ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œå³ä½¿å®ƒä»¬åªä¾èµ–ä¸Šä¸‹æ–‡ä¸­çš„ä¸€å°éƒ¨åˆ†æ•°æ®ã€‚</p>
<h3 data-id="heading-5">æ ¸å¿ƒç‰¹æ€§</h3>
<ol start="0">
<li><strong>é€‰æ‹©æ€§è®¢é˜…</strong>ï¼šå…è®¸ç»„ä»¶åªè®¢é˜…ä¸Šä¸‹æ–‡ä¸­çš„ç‰¹å®šéƒ¨åˆ†æ•°æ®</li>
<li><strong>ç²¾ç¡®æ›´æ–°</strong>ï¼šåªæœ‰å½“ä¸‹æ–‡ä¸­çš„é€‰å®šéƒ¨åˆ†å˜åŒ–æ—¶æ‰ä¼šè§¦å‘ç»„ä»¶æ›´æ–°</li>
<li><strong>ä¸åŸç”ŸContext APIå…¼å®¹</strong>ï¼šä½¿ç”¨æ–¹å¼ä¸ReactåŸç”ŸContextç›¸ä¼¼</li>
<li><strong>è½»é‡çº§</strong>ï¼šä½“ç§¯å°ï¼Œå¯¹åº”ç”¨åŒ…å¤§å°å½±å“å°</li>
</ol>
<h3 data-id="heading-6">åŸºæœ¬ä½¿ç”¨ï¼š</h3>
<p>App.tsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-string">'use client'</span>
â€‹
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { <span class="hljs-title class_">StrictMode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">MyProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./context'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">CounterA</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/CounterA'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">CounterB</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/CounterB'</span>;
â€‹
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">MyProvider</span>&gt;</span>
 Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">CounterA</span> /&gt;</span>
 Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">CounterB</span> /&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">MyProvider</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
  );
}
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<p>context.tsx</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-string">'use client'</span>
â€‹
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span>{ createContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'use-context-selector'</span>;
â€‹
<span class="hljs-keyword">const</span> <span class="hljs-title class_">MyContext</span> = <span class="hljs-title function_">createContext</span>({} <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>);
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">MyProvider</span>(<span class="hljs-params">{ children }: <span class="hljs-built_in">any</span></span>) {
 Â <span class="hljs-keyword">const</span> [countA, setCountA] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
 Â <span class="hljs-keyword">const</span> [countB, setCountB] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
â€‹
 Â <span class="hljs-keyword">const</span> <span class="hljs-attr">state</span>: <span class="hljs-built_in">any</span> = {
 Â  Â countA,
 Â  Â setCountA,
 Â  Â countB,
 Â  Â setCountB,
  };
â€‹
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{state}</span>&gt;</span>
 Â  Â   {children}
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">MyContext.Provider</span>&gt;</span></span>
  );
}
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">MyContext</span>;
</code></pre>
<p>CounterA.tsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-string">'use client'</span>
â€‹
â€‹
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { useContextSelector, useContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'use-context-selector'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MyContext</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../context'</span>;
â€‹
<span class="hljs-keyword">function</span> <span class="hljs-title function_">CounterA</span>(<span class="hljs-params"/>) {
 Â <span class="hljs-keyword">const</span> countA = <span class="hljs-title function_">useContextSelector</span>(<span class="hljs-title class_">MyContext</span>, <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> v.<span class="hljs-property">countA</span>);
 Â <span class="hljs-keyword">const</span> setCountA = <span class="hljs-title function_">useContextSelector</span>(<span class="hljs-title class_">MyContext</span>, <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> v.<span class="hljs-property">setCountA</span>);
â€‹
 Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"/>) =&gt;
 Â  Â <span class="hljs-title function_">setCountA</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s -<span class="hljs-number">1</span>);
â€‹
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'CounterA rendered'</span>);
â€‹
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{new Date().getTime()}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Counter A: {countA}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increment}</span>&gt;</span>
 Â  Â  Â   Increment A
 Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">CounterA</span>;
</code></pre>
<p>CounterB.tsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-string">'use client'</span>
â€‹
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { useContextSelector, useContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'use-context-selector'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MyContext</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../context'</span>;
â€‹
<span class="hljs-keyword">function</span> <span class="hljs-title function_">CounterB</span>(<span class="hljs-params"/>) {
 Â <span class="hljs-keyword">const</span> countB = <span class="hljs-title function_">useContextSelector</span>(<span class="hljs-title class_">MyContext</span>, <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> v.<span class="hljs-property">countB</span>);
 Â <span class="hljs-keyword">const</span> setCountB = <span class="hljs-title function_">useContextSelector</span>(<span class="hljs-title class_">MyContext</span>, <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> v.<span class="hljs-property">setCountB</span>);
â€‹
 Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"/>) =&gt;
 Â  Â <span class="hljs-title function_">setCountB</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s -<span class="hljs-number">1</span>);
â€‹
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'CounterB rendered'</span>);
â€‹
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increment}</span>&gt;</span>
 Â  Â  Â   Increment B
 Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{new Date().getTime()}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Counter B: {countB}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">CounterB</span>;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¢ç§˜ AgentRunä¸¨ä¸ºä»€ä¹ˆåº”è¯¥æŠŠ LangChain ç­‰æ¡†æ¶éƒ¨ç½²åˆ°å‡½æ•°è®¡ç®— AgentRun]]></title>    <link>https://juejin.cn/post/7597968460652904490</link>    <guid>https://juejin.cn/post/7597968460652904490</guid>    <pubDate>2026-01-22T09:39:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597968460652904490" data-draft-id="7597968460652740650" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¢ç§˜ AgentRunä¸¨ä¸ºä»€ä¹ˆåº”è¯¥æŠŠ LangChain ç­‰æ¡†æ¶éƒ¨ç½²åˆ°å‡½æ•°è®¡ç®— AgentRun"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-01-22T09:39:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¢ç§˜ AgentRunä¸¨ä¸ºä»€ä¹ˆåº”è¯¥æŠŠ LangChain ç­‰æ¡†æ¶éƒ¨ç½²åˆ°å‡½æ•°è®¡ç®— AgentRun
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T09:39:01.000Z" title="Thu Jan 22 2026 09:39:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæ±Ÿæ˜±</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzA4NjI4MzM4MQ%3D%3D%26mid%3D2660257517%26idx%3D1%26sn%3D050bc317ac020aec7b848f9531af8da6%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzA4NjI4MzM4MQ==&amp;mid=2660257517&amp;idx=1&amp;sn=050bc317ac020aec7b848f9531af8da6&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘å‡½æ•°è®¡ç®— AgentRun å…¨æ–°å‘å¸ƒå</a>ï¼Œæˆ‘ä»¬æ•´ç†äº†â€œæ¢ç§˜ AgentRunâ€ç³»åˆ—æ–‡ç« ï¼Œæœ¬ç³»åˆ—å°†æ¢³ç†ä¼ä¸šè½åœ° Agent å¸¸è§éš¾é¢˜ï¼Œç»™å‡ºå…·ä½“è§£æ³•ï¼ŒåŠ©åŠ› Agentic AI å¿«é€Ÿèµ°è¿›ç”Ÿäº§çº§ç¯å¢ƒã€‚<strong>æ¬¢è¿åŠ å…¥â€œå‡½æ•°è®¡ç®— AgentRun å®¢æˆ·ç¾¤â€ä¸æˆ‘ä»¬äº¤æµï¼Œé’‰é’‰ç¾¤å·ï¼š</strong> <em><strong>134570017218</strong></em> <strong>ã€‚</strong></p>
<p>å½“ä½ å·²ç»ç”¨ LangChainã€AgentScopeã€LangGraph ç­‰æ¡†æ¶å¼€å‘äº† Agent åº”ç”¨ï¼Œå¦‚ä½•è®©å®ƒä»¬äº«å—å‡½æ•°è®¡ç®— AgentRun æä¾›çš„Â <strong>Serverless è¿è¡Œæ—¶ã€ä¼ä¸šçº§ Sandboxã€æ¨¡å‹é«˜å¯ç”¨ã€å…¨é“¾è·¯å¯è§‚æµ‹</strong>ç­‰èƒ½åŠ›ï¼Ÿå¥½æ¶ˆæ¯æ˜¯ï¼Œ<strong>ä½ å‡ ä¹ä¸éœ€è¦æ”¹åŠ¨ç°æœ‰ä»£ç ï¼Œåªéœ€è¦ç®€å•çš„é€‚é…å°±å¯ä»¥è¿ç§»åˆ°å‡½æ•°è®¡ç®— AgentRunã€‚</strong></p>
<p>è¿™ç¯‡æ–‡ç« å°†é€šè¿‡çœŸå®çš„ä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å°†ä¸åŒæ¡†æ¶çš„ Agent åº”ç”¨éƒ¨ç½²åˆ°å‡½æ•°è®¡ç®— AgentRun ä¸Šï¼Œä»¥åŠå¦‚ä½•å……åˆ†åˆ©ç”¨å‡½æ•°è®¡ç®— AgentRun çš„å„ç§èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆè¦éƒ¨ç½²åˆ°å‡½æ•°è®¡ç®— AgentRunï¼Ÿ</h2>
<p>åœ¨è®¨è®ºå…·ä½“çš„é›†æˆæ–¹æ¡ˆå‰ï¼Œè®©æˆ‘ä»¬å…ˆæ˜ç¡®ä¸€ä¸ªé—®é¢˜ï¼š<strong>å¦‚æœä½ çš„ Agent åº”ç”¨å·²ç»åœ¨æœ¬åœ°æˆ–è‡ªå»ºæœåŠ¡å™¨ä¸Šè¿è¡Œè‰¯å¥½ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¿ç§»åˆ°å‡½æ•°è®¡ç®— AgentRunï¼Ÿ</strong></p>
<p>ç­”æ¡ˆå¾ˆç®€å•ï¼š<strong>ä»å¼€å‘ç¯å¢ƒåˆ°ç”Ÿäº§ç¯å¢ƒï¼Œæœ‰ä¸€é“å·¨å¤§çš„é¸¿æ²Ÿã€‚</strong> Â æœ¬åœ°è¿è¡Œåªéœ€è¦è€ƒè™‘åŠŸèƒ½å®ç°ï¼Œä½†ç”Ÿäº§ç¯å¢ƒéœ€è¦è€ƒè™‘æ€§èƒ½ã€ç¨³å®šæ€§ã€æˆæœ¬ã€å®‰å…¨ã€å¯è§‚æµ‹ç­‰ä¸€ç³»åˆ—é—®é¢˜ã€‚å‡½æ•°è®¡ç®— AgentRun æä¾›çš„ä¸æ˜¯åˆä¸€ä¸ª Agent æ¡†æ¶ï¼Œè€Œæ˜¯è®©ä½ çš„ Agent èƒ½å¤Ÿä»¥ä¼ä¸šçº§æ ‡å‡†è¿è¡Œçš„å®Œæ•´åŸºç¡€è®¾æ–½ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œéƒ¨ç½²åˆ°å‡½æ•°è®¡ç®— AgentRun åï¼Œä½ èƒ½è·å¾—ï¼šé›¶è¿ç»´çš„ Serverless è¿è¡Œæ—¶ï¼ˆè‡ªåŠ¨æ‰©ç¼©å®¹ã€æŒ‰é‡ä»˜è´¹ï¼‰ï¼Œä¼ä¸šçº§çš„ Sandbox ç¯å¢ƒï¼ˆé«˜æ€§èƒ½ã€å®‰å…¨éš”ç¦»ï¼‰ï¼Œæ¨¡å‹é«˜å¯ç”¨ä¿éšœï¼ˆè‡ªåŠ¨ç†”æ–­ã€å¤šæ¨¡å‹ Fallbackï¼‰ï¼Œå…¨é“¾è·¯å¯è§‚æµ‹ï¼ˆå®Œæ•´çš„ Traceã€æˆæœ¬å½’å› ï¼‰ï¼Œä»¥åŠç»Ÿä¸€çš„å·¥å…·å’Œ MCP ç®¡ç†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28629296dabb4c009e43c184c73031ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769679540&amp;x-signature=kXr9OAfK9QYK3B2H3PZ5fzF5vzE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-1">å¿«é€Ÿä¸Šæ‰‹ï¼š5 åˆ†é’Ÿéƒ¨ç½²ä½ çš„ç¬¬ä¸€ä¸ª LangChain Agent</h2>
<p>è®©æˆ‘ä»¬ä»æœ€æµè¡Œçš„ LangChain æ¡†æ¶å¼€å§‹ï¼Œé€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­å±•ç¤ºå¦‚ä½•å°† LangChain Agent éƒ¨ç½²åˆ°å‡½æ•°è®¡ç®— AgentRunã€‚</p>
<h3 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šå®‰è£… Serverless Devs</h3>
<p>å‡½æ•°è®¡ç®— AgentRun ä½¿ç”¨ Serverless Devs ä½œä¸ºéƒ¨ç½²å·¥å…·ã€‚å¦‚æœä½ æœ‰ Node.js ç¯å¢ƒï¼Œä¸€è¡Œå‘½ä»¤å³å¯å®‰è£…ï¼š</p>
<pre><code class="hljs language-css" lang="css">npmÂ <span class="hljs-selector-tag">i</span>Â -gÂ <span class="hljs-keyword">@serverless-devs</span>/s
</code></pre>
<h3 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šåˆ›å»ºé¡¹ç›®</h3>
<p>ä½¿ç”¨è„šæ‰‹æ¶å¿«é€Ÿåˆ›å»ºé¡¹ç›®ï¼ˆæ³¨æ„ï¼šéœ€è¦ Python 3.10 åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆå§‹åŒ–æ¨¡æ¿</span>
s init agentrun-quick-start-langchain
<span class="hljs-comment"># è¿›å…¥ä»£ç ç›®å½•</span>
<span class="hljs-built_in">cd</span>Â agentrun-quick-start-langchain/code
<span class="hljs-comment"># åˆå§‹åŒ–è™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–</span>
uv venv &amp;&amp; uv pip install -r requirements.txt
</code></pre>
<h3 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼šé…ç½®è®¤è¯ä¿¡æ¯</h3>
<p>é€šè¿‡ç¯å¢ƒå˜é‡ï¼ˆå»ºè®®ä½¿ç”¨Â .envÂ æ–‡ä»¶ï¼‰é…ç½®ä½ çš„ AgentRun è®¿é—®å‡­è¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">exportÂ <span class="hljs-attr">AGENTRUN_ACCESS_KEY_ID</span>=<span class="hljs-string">"your-access-key-id"</span>
exportÂ <span class="hljs-attr">AGENTRUN_ACCESS_KEY_SECRET</span>=<span class="hljs-string">"your-access-key-secret"</span>
exportÂ <span class="hljs-attr">AGENTRUN_ACCOUNT_ID</span>=<span class="hljs-string">"your-account-id"</span>
exportÂ <span class="hljs-attr">AGENTRUN_REGION</span>=<span class="hljs-string">"cn-hangzhou"</span>
</code></pre>
<h3 data-id="heading-5">ç¬¬å››æ­¥ï¼šç†è§£é›†æˆæ–¹å¼</h3>
<p>è¿™æ˜¯æœ€å…³é”®çš„éƒ¨åˆ†ã€‚æ‰“å¼€ç”Ÿæˆçš„ä»£ç ï¼Œä½ ä¼šçœ‹åˆ°é›†æˆéå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fromÂ agentrun.integration.langchainÂ importÂ model, sandbox_toolset
fromÂ agentrun.serverÂ importÂ AgentRunServer
<span class="hljs-comment"># ä½¿ç”¨ AgentRun çš„æ¨¡å‹ï¼ˆè‡ªåŠ¨äº«å—é«˜å¯ç”¨ã€ç†”æ–­ç­‰èƒ½åŠ›ï¼‰</span>
<span class="hljs-attr">llm</span> = model(<span class="hljs-string">"&lt;your-model-name&gt;"</span>)
<span class="hljs-comment"># ä½¿ç”¨ AgentRun çš„ Sandbox å·¥å…·</span>
<span class="hljs-attr">tools</span> = sandbox_toolset(
Â  Â  <span class="hljs-attr">template_name</span>=<span class="hljs-string">"&lt;your-sandbox-name&gt;"</span>,
Â  Â  <span class="hljs-attr">template_type</span>=TemplateType.CODE_INTERPRETER,
Â  Â  <span class="hljs-attr">sandbox_idle_timeout_seconds</span>=<span class="hljs-number">300</span>,
)
<span class="hljs-comment"># åˆ›å»º LangChain Agentï¼ˆå’ŒåŸæ¥çš„ä»£ç å®Œå…¨ä¸€æ ·ï¼‰</span>
<span class="hljs-attr">agent</span> = create_agent(
Â  Â  <span class="hljs-attr">model</span>=llm,
Â  Â  <span class="hljs-attr">tools</span>=tools,
Â  Â  <span class="hljs-attr">system_prompt</span>=<span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹"</span>
)
<span class="hljs-comment"># å®šä¹‰è°ƒç”¨å‡½æ•°</span>
defÂ invoke_agent(request):
Â  Â  <span class="hljs-attr">result</span> = agent.invoke({<span class="hljs-string">"messages"</span>: request.messages})
Â  Â Â returnÂ result<span class="hljs-section">["messages"]</span><span class="hljs-section">[-1]</span>.content
<span class="hljs-comment"># å¯åŠ¨ HTTP Serverï¼ˆæä¾› OpenAI å…¼å®¹çš„ APIï¼‰</span>
AgentRunServer(<span class="hljs-attr">invoke_agent</span>=invoke_agent).start()
</code></pre>
<p>æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<ul>
<li><code>model()</code>Â å‡½æ•°è¿”å›çš„æ˜¯ LangChain å¯ä»¥ç›´æ¥ä½¿ç”¨çš„æ¨¡å‹å¯¹è±¡</li>
<li><code>sandbox_toolset()</code>Â è¿”å›çš„æ˜¯ LangChain Tools åˆ—è¡¨</li>
<li>ä½ çš„ Agent åˆ›å»ºä»£ç <strong>å®Œå…¨ä¸éœ€è¦æ”¹åŠ¨</strong></li>
<li><code>AgentRunServer</code>Â è‡ªåŠ¨å¤„ç† HTTP è¯·æ±‚ï¼Œæä¾›æ ‡å‡†çš„ OpenAI API</li>
</ul>
<h3 data-id="heading-6">ç¬¬äº”æ­¥ï¼šæœ¬åœ°æµ‹è¯•</h3>
<p>å¯åŠ¨æœåŠ¡åï¼Œå¯ä»¥é€šè¿‡ HTTP è¯·æ±‚æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-json" lang="json">curlÂ <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-punctuation">:</span><span class="hljs-number">9000</span>/v1/chat/completions \
Â Â -XÂ POSTÂ \
Â Â -HÂ <span class="hljs-string">"content-type: application/json"</span>Â \
Â Â -d '<span class="hljs-punctuation">{</span><span class="hljs-attr">"messages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"é€šè¿‡ä»£ç æŸ¥è¯¢ç°åœ¨æ˜¯å‡ ç‚¹?"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>Â <span class="hljs-attr">"stream"</span><span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">}</span>'
</code></pre>
<h3 data-id="heading-7">ç¬¬å…­æ­¥ï¼šéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ</h3>
<p>é¡¹ç›®ä¸­å·²ç»åŒ…å«äº†Â s.yamlÂ é…ç½®æ–‡ä»¶ã€‚ä½ åªéœ€è¦ä¿®æ”¹å…¶ä¸­çš„Â roleÂ å­—æ®µä¸ºä½ çš„é˜¿é‡Œäº‘è§’è‰²ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-symbol">role:</span>Â <span class="hljs-symbol">acs:</span>ram::{æ‚¨çš„é˜¿é‡Œäº‘ä¸»è´¦å·Â <span class="hljs-variable constant_">ID</span>}<span class="hljs-symbol">:role/</span>{æ‚¨çš„é˜¿é‡Œäº‘è§’è‰²åç§°}
</code></pre>
<p>é…ç½®éƒ¨ç½²å¯†é’¥ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">s configÂ <span class="hljs-keyword">add</span>
<span class="hljs-meta"># æŒ‰ç…§å¼•å¯¼è¾“å…¥ Access Key ID å’Œ Secretï¼Œè®°ä½å¯†é’¥å¯¹åç§°ï¼ˆå¦‚ agentrun-deployï¼‰</span>
</code></pre>
<p>æ‰§è¡Œéƒ¨ç½²ï¼š</p>
<pre><code class="hljs language-css" lang="css">s deploy -<span class="hljs-selector-tag">a</span>Â agentrun-deploy
</code></pre>
<p>éƒ¨ç½²å®Œæˆåï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ª HTTPS URLï¼Œå°±å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒè°ƒç”¨ä½ çš„ Agent äº†ã€‚</p>
<h2 data-id="heading-8">ä¸åŒæ¡†æ¶çš„é›†æˆæ¡ˆä¾‹</h2>
<p>å‡½æ•°è®¡ç®— AgentRun ä¸ä»…æ”¯æŒ LangChainï¼Œè¿˜æ·±åº¦é›†æˆäº†ä¸»æµçš„ Agent å¼€å‘æ¡†æ¶ã€‚<strong>æ‰€æœ‰æ¡†æ¶éƒ½éµå¾ªåŒæ ·çš„ç†å¿µï¼šé€šè¿‡ç®€å•çš„é€‚é…å±‚ï¼Œè®©ä½ çš„ä»£ç æ— ç¼è¿ç§»åˆ°å‡½æ•°è®¡ç®— AgentRunï¼Œäº«å—ä¼ä¸šçº§èƒ½åŠ›ã€‚</strong></p>
<h3 data-id="heading-9">LangGraphï¼šå·¥ä½œæµç¼–æ’</h3>
<p>LangGraph æ˜¯ LangChain å›¢é˜Ÿæ¨å‡ºçš„å·¥ä½œæµç¼–æ’æ¡†æ¶ï¼Œé€‚åˆæ„å»ºå¤æ‚çš„å¤šæ­¥éª¤ Agentã€‚é›†æˆæ–¹å¼å’Œ LangChain ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fromÂ agentrun.integration.langgraphÂ importÂ model, tools
fromÂ langgraph.graphÂ importÂ StateGraph, MessagesState
fromÂ langgraph.prebuiltÂ importÂ ToolNode
<span class="hljs-comment"># ä½¿ç”¨ AgentRun çš„æ¨¡å‹å’Œå·¥å…·</span>
<span class="hljs-attr">llm</span> = model(<span class="hljs-string">"&lt;your-model-name&gt;"</span>).to_langgraph()
<span class="hljs-attr">agent_tools</span> = tools()
<span class="hljs-comment"># æ„å»º LangGraph å·¥ä½œæµï¼ˆå’ŒåŸæ¥çš„ä»£ç ä¸€æ ·ï¼‰</span>
defÂ call_model(state: MessagesState):
Â  Â  <span class="hljs-attr">messages</span> = state[<span class="hljs-string">"messages"</span>]
Â  Â  <span class="hljs-attr">response</span> = llm.invoke(messages)
Â  Â Â returnÂ {"messages": <span class="hljs-section">[response]</span>}
<span class="hljs-attr">workflow</span> = StateGraph(MessagesState)
workflow.add_node("agent", call_model)
workflow.add_node("tools", ToolNode(agent_tools))
workflow.set_entry_point("agent")
<span class="hljs-comment"># å®šä¹‰æ¡ä»¶è¾¹...</span>
<span class="hljs-attr">app</span> = workflow.compile()
<span class="hljs-comment"># è°ƒç”¨</span>
<span class="hljs-attr">result</span> = app.invoke({<span class="hljs-string">"messages"</span>: [HumanMessage(content=<span class="hljs-string">"æŸ¥è¯¢ä¸Šæµ·å¤©æ°”"</span>)]})
</code></pre>
<p><strong>LangGraph çš„ä¼˜åŠ¿</strong>æ˜¯å¯ä»¥ç²¾ç¡®æ§åˆ¶ Agent çš„æ‰§è¡Œæµç¨‹ï¼Œæ¯”å¦‚æ¡ä»¶åˆ†æ”¯ã€å¾ªç¯ã€å¹¶è¡Œæ‰§è¡Œç­‰ã€‚éƒ¨ç½²åˆ°å‡½æ•°è®¡ç®— AgentRun åï¼Œè¿™äº›å¤æ‚çš„å·¥ä½œæµéƒ½èƒ½è‡ªåŠ¨äº«å—å¼¹æ€§ä¼¸ç¼©å’Œå¯è§‚æµ‹èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-10">AgentScopeï¼šå¤šæ™ºèƒ½ä½“åä½œ</h3>
<p>AgentScope æ˜¯é˜¿é‡Œè¾¾æ‘©é™¢å¼€æºçš„å¤šæ™ºèƒ½ä½“æ¡†æ¶ï¼Œç‰¹åˆ«é€‚åˆæ„å»ºå¤š Agent åä½œåœºæ™¯ã€‚é›†æˆæ–¹å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fromÂ agentrun.integration.agentscopeÂ importÂ model, tools
fromÂ agentscope.agentÂ importÂ ReActAgent
fromÂ agentscope.toolÂ importÂ Toolkit
<span class="hljs-comment"># ä½¿ç”¨ AgentRun çš„æ¨¡å‹å’Œå·¥å…·</span>
<span class="hljs-attr">llm</span> = model(<span class="hljs-string">"&lt;your-model-name&gt;"</span>).to_agentscope()
<span class="hljs-attr">agent_tools</span> = tools()
<span class="hljs-comment"># æ³¨å†Œå·¥å…·åˆ° Toolkit</span>
<span class="hljs-attr">toolkit</span> = Toolkit()
forÂ toolÂ inÂ agent_tools:
Â  Â  toolkit.register_tool_function(tool)
<span class="hljs-comment"># åˆ›å»º Agentï¼ˆå’ŒåŸæ¥çš„ä»£ç ä¸€æ ·ï¼‰</span>
<span class="hljs-attr">agent</span> = ReActAgent(
Â  Â  <span class="hljs-attr">name</span>=<span class="hljs-string">"assistant"</span>,
Â  Â  <span class="hljs-attr">sys_prompt</span>=<span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹"</span>,
Â  Â  <span class="hljs-attr">model</span>=llm,
Â  Â  <span class="hljs-attr">toolkit</span>=toolkit,
)
<span class="hljs-comment"># è°ƒç”¨</span>
<span class="hljs-attr">result</span> =Â awaitÂ agent.reply(Msg(name=<span class="hljs-string">"user"</span>, content=<span class="hljs-string">"æŸ¥è¯¢ä¸Šæµ·å¤©æ°”"</span>, role=<span class="hljs-string">"user"</span>))
</code></pre>
<p><strong>AgentScope çš„ä¼˜åŠ¿</strong>æ˜¯å¯¹å¤š Agent ç³»ç»Ÿçš„åŸç”Ÿæ”¯æŒï¼ŒåŒ…æ‹¬ Agent ä¹‹é—´çš„é€šä¿¡ã€åè°ƒã€è®°å¿†å…±äº«ç­‰ã€‚éƒ¨ç½²åˆ°å‡½æ•°è®¡ç®— AgentRun åï¼Œæ¯ä¸ª Agent éƒ½åœ¨ç‹¬ç«‹çš„éš”ç¦»ç¯å¢ƒä¸­è¿è¡Œï¼Œç¡®ä¿å®‰å…¨æ€§ã€‚</p>
<h3 data-id="heading-11">PydanticAIï¼šç±»å‹å®‰å…¨çš„ Agent æ¡†æ¶</h3>
<p>PydanticAI æ˜¯ä¸€ä¸ªæ–°å…´æ¡†æ¶ï¼Œå¼ºè°ƒç±»å‹å®‰å…¨å’Œç»“æ„åŒ–è¾“å‡ºã€‚é›†æˆæ–¹å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">from agentrun.integration.pydantic_ai import model, tools
from pydantic_ai import Agent
<span class="hljs-comment"># ä½¿ç”¨ AgentRun çš„æ¨¡å‹å’Œå·¥å…·</span>
<span class="hljs-attr">llm</span> = model(<span class="hljs-string">"&lt;your-model-name&gt;"</span>).to_pydantic_ai()
<span class="hljs-attr">agent_tools</span> = tools()
<span class="hljs-comment"># åˆ›å»º Agent</span>
<span class="hljs-attr">agent</span> = Agent(
Â  Â  llm,
Â  Â  <span class="hljs-attr">instructions</span>=<span class="hljs-string">"Be concise, reply with one sentence."</span>,
Â  Â  <span class="hljs-attr">tools</span>=agent_tools,
)
<span class="hljs-comment"># åŒæ­¥è°ƒç”¨</span>
<span class="hljs-attr">result</span> = agent.run_sync(<span class="hljs-string">"ä¸Šæµ·çš„å¤©æ°”å¦‚ä½•ï¼Ÿ"</span>)
<span class="hljs-comment"># å¼‚æ­¥è°ƒç”¨</span>
<span class="hljs-attr">result</span> = await agent.run(<span class="hljs-string">"ä¸Šæµ·çš„å¤©æ°”å¦‚ä½•ï¼Ÿ"</span>)
</code></pre>
<p><strong>PydanticAI çš„ä¼˜åŠ¿</strong>æ˜¯å¼ºç±»å‹å’Œç»“æ„åŒ–è¾“å‡ºï¼Œç‰¹åˆ«é€‚åˆéœ€è¦ä¸¥æ ¼æ•°æ®éªŒè¯çš„ä¼ä¸šåœºæ™¯ã€‚</p>
<h2 data-id="heading-12">å……åˆ†åˆ©ç”¨å‡½æ•°è®¡ç®— AgentRun çš„æ ¸å¿ƒèƒ½åŠ›</h2>
<p>å°† Agent éƒ¨ç½²åˆ°å‡½æ•°è®¡ç®— AgentRun åï¼Œä½ ä¸ä»…è·å¾—äº† Serverless è¿è¡Œç¯å¢ƒï¼Œè¿˜å¯ä»¥æ·±åº¦åˆ©ç”¨å¹³å°æä¾›çš„å„ç§ä¼ä¸šçº§èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-13">æ¨¡å‹é«˜å¯ç”¨ï¼šå‘Šåˆ«å•ç‚¹æ•…éšœï¼ˆæ­é… AI ç½‘å…³ï¼‰</h3>
<p>éƒ¨ç½²åˆ°å‡½æ•°è®¡ç®— AgentRun åï¼Œä½ çš„ Agent è‡ªåŠ¨äº«å—æ¨¡å‹é«˜å¯ç”¨èƒ½åŠ›ã€‚å½“ä½ é…ç½®çš„ä¸»æ¨¡å‹å‡ºç°æ•…éšœã€é™æµæˆ–è¶…æ—¶æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨æ¨¡å‹ï¼Œæ•´ä¸ªè¿‡ç¨‹å¯¹ä½ çš„ä»£ç å®Œå…¨é€æ˜ã€‚<br/>
åœ¨å‡½æ•°è®¡ç®— AgentRun æ§åˆ¶å°é…ç½®æ¨¡å‹æ—¶å¯ä»¥å’Œ AI ç½‘å…³è¿›è¡Œè”åŠ¨ï¼Œå¯ä»¥è®¾ç½®ï¼šä¸»æ¨¡å‹ï¼ˆå¦‚ GPT-4ï¼‰ï¼Œå¤‡ç”¨æ¨¡å‹åˆ—è¡¨ï¼ˆå¦‚ Claude-3ã€Qwen-Maxï¼‰ï¼Œç†”æ–­ç­–ç•¥ï¼ˆé”™è¯¯ç‡é˜ˆå€¼ã€è¶…æ—¶æ—¶é—´ï¼‰ï¼Œè´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ˆè½®è¯¢ã€æƒé‡ã€æœ€å°‘è¿æ¥ï¼‰ã€‚<br/>
ä½ çš„ä»£ç å®Œå…¨ä¸éœ€è¦æ”¹åŠ¨ï¼Œåªéœ€è¦åœ¨åˆ›å»ºæ¨¡å‹æ—¶ä½¿ç”¨å‡½æ•°è®¡ç®— AgentRun çš„æ¨¡å‹åç§°ï¼Œæ‰€æœ‰çš„å®¹é”™ã€åˆ‡æ¢ã€è´Ÿè½½å‡è¡¡éƒ½ç”±å¹³å°è‡ªåŠ¨å¤„ç†ã€‚</p>
<h3 data-id="heading-14">ä¼ä¸šçº§ Sandboxï¼šå®‰å…¨æ‰§è¡Œä»£ç </h3>
<p>å‡½æ•°è®¡ç®— AgentRun æä¾›çš„ Sandbox ä¸æ˜¯ç®€å•çš„ä»£ç æ‰§è¡Œç¯å¢ƒï¼Œè€Œæ˜¯<strong>ä¼ä¸šçº§çš„å®‰å…¨éš”ç¦»æ²™ç®±</strong>ã€‚æ¯ä¸ª Sandbox å®ä¾‹éƒ½æ˜¯ç‹¬ç«‹éš”ç¦»çš„ï¼Œæ”¯æŒå¤šç§æ‰§è¡Œç±»å‹ï¼š</p>
<p>Code Interpreter æ”¯æŒ Pythonã€Node.jsã€Javaã€Bash ç­‰è¯­è¨€ï¼Œå¯ä»¥æ‰§è¡Œæ•°æ®åˆ†æã€æ–‡ä»¶å¤„ç†ç­‰ä»»åŠ¡ã€‚Browser Tool æä¾›æµè§ˆå™¨è‡ªåŠ¨åŒ–èƒ½åŠ›ï¼Œæ”¯æŒç½‘é¡µçˆ¬å–ã€è¡¨å•å¡«å†™ã€æˆªå›¾ç­‰æ“ä½œã€‚All In One é›†æˆäº†ä»£ç è§£é‡Šå™¨å’Œæµè§ˆå™¨å·¥å…·ï¼Œæä¾›æ›´ä¸°å¯Œçš„äº¤äº’èƒ½åŠ›ã€‚</p>
<p>ä½¿ç”¨æ—¶ï¼Œé€šè¿‡Â sandbox_toolset()Â å‡½æ•°å°±å¯ä»¥è·å–ç›¸åº”çš„å·¥å…·é›†åˆï¼Œè¿™äº›å·¥å…·ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºä½ ä½¿ç”¨çš„æ¡†æ¶æ‰€éœ€çš„æ ¼å¼ã€‚</p>
<h3 data-id="heading-15">å·¥å…·å’Œ MCPï¼šæ ‡å‡†åŒ–é›†æˆ</h3>
<p>å‡½æ•°è®¡ç®— AgentRun æä¾›ç»Ÿä¸€çš„å·¥å…·ç®¡ç†å’Œ MCPï¼ˆModel Context Protocolï¼‰æœºåˆ¶ã€‚ä½ å¯ä»¥ä»å·¥å…·å¸‚åœºé€‰æ‹©ç°æˆçš„å·¥å…·ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰å·¥å…·å¹¶å‘å¸ƒåˆ°å¸‚åœºã€‚</p>
<p>æ›´å¼ºå¤§çš„æ˜¯Â <strong>MCP çš„ Hook æœºåˆ¶</strong>ã€‚é€šè¿‡å‰ç½® Hookï¼Œå¯ä»¥åœ¨å·¥å…·è°ƒç”¨å‰è‡ªåŠ¨æ³¨å…¥ç”¨æˆ·å‡­è¯ã€è®°å½•è¯·æ±‚æ—¥å¿—ã€æ ¡éªŒå‚æ•°åˆæ³•æ€§ã€‚é€šè¿‡åç½® Hookï¼Œå¯ä»¥å¯¹ç»“æœè¿›è¡Œè½¬æ¢ã€è®°å½•å®¡è®¡æ—¥å¿—ã€å¤„ç†å¼‚å¸¸æƒ…å†µã€‚è¿™äº›é€šç”¨é€»è¾‘ä¸éœ€è¦åœ¨æ¯ä¸ªå·¥å…·ä¸­é‡å¤å®ç°ï¼Œå¤§å¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-16">å…¨é“¾è·¯å¯è§‚æµ‹ï¼šä¸å†æ˜¯é»‘ç›’</h3>
<p>è¿™æ˜¯å‡½æ•°è®¡ç®— AgentRun æœ€å¼ºå¤§çš„èƒ½åŠ›ä¹‹ä¸€ã€‚<strong>ä½ çš„ä»£ç ä¸éœ€è¦åšä»»ä½•æ”¹åŠ¨ï¼Œå¹³å°ä¼šè‡ªåŠ¨è®°å½• Agent çš„å®Œæ•´æ‰§è¡Œé“¾è·¯</strong>ã€‚</p>
<p>åœ¨å¯è§‚æµ‹å¹³å°ä¸Šï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼šAgent æ¥æ”¶åˆ°ç”¨æˆ·è¯·æ±‚çš„æ—¶é—´å’Œå†…å®¹ï¼Œè°ƒç”¨äº†å“ªä¸ªæ¨¡å‹ã€ä½¿ç”¨äº†å¤šå°‘ Tokenã€èŠ±è´¹äº†å¤šå°‘é’±ï¼Œè°ƒç”¨äº†å“ªäº›å·¥å…·ã€æ¯ä¸ªå·¥å…·çš„æ‰§è¡Œæ—¶é—´å’Œç»“æœï¼Œè®¿é—®äº†å“ªäº›çŸ¥è¯†åº“ã€æ£€ç´¢äº†å¤šå°‘æ•°æ®ï¼Œæ¯ä¸ªç¯èŠ‚çš„è€—æ—¶åˆ†å¸ƒï¼Œå®Œæ•´çš„è°ƒç”¨é“¾ Traceã€‚</p>
<p><strong>è¿™äº›èƒ½åŠ›éƒ½æ˜¯å¹³å°è‡ªåŠ¨æä¾›çš„</strong>ï¼Œé€šè¿‡æ¢é’ˆæ³¨å…¥å®ç°ï¼Œæ— è®ºæ˜¯é«˜ä»£ç è¿˜æ˜¯ä½ä»£ç åˆ›å»ºçš„ Agentï¼Œéƒ½è‡ªåŠ¨äº«å—è¿™äº›å¯è§‚æµ‹èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-17">è®°å¿†å’ŒçŸ¥è¯†åº“ï¼šæ•°æ®ä¸å‡ºåŸŸ</h3>
<p>å‡½æ•°è®¡ç®— AgentRun æ·±åº¦é›†æˆäº† RAGFlowã€Mem0 ç­‰å¼€æºé¡¹ç›®ï¼Œæä¾›çµæ´»çš„è®°å¿†å’ŒçŸ¥è¯†åº“ç®¡ç†ã€‚ä½ å¯ä»¥é€‰æ‹©ä¸€é”®æ‰˜ç®¡æ¨¡å¼ï¼Œç”±å¹³å°ç»Ÿä¸€ç®¡ç†éƒ¨ç½²è¿ç»´ï¼Œäº«å— Serverless çš„å¼¹æ€§å’ŒæŒ‰é‡ä»˜è´¹ä¼˜åŠ¿ã€‚ä¹Ÿå¯ä»¥é€‰æ‹©ç»‘å®šæ¨¡å¼ï¼Œå°† Agent è¿æ¥åˆ°å·²ç»éƒ¨ç½²åœ¨ä¼ä¸š VPC æˆ– IDC å†…çš„å®ä¾‹ï¼Œ<strong>æ•°æ®å®Œå…¨ä¸å‡ºä¼ä¸šå†…ç½‘</strong>ã€‚</p>
<p>è¿™ç§çµæ´»æ€§è®©ä½ å¯ä»¥æ ¹æ®æ•°æ®çš„æ•æ„Ÿçº§åˆ«é€‰æ‹©ä¸åŒçš„ç­–ç•¥ï¼šæ ¸å¿ƒä¸šåŠ¡æ•°æ®ç§æœ‰åŒ–éƒ¨ç½²ï¼Œä¸€èˆ¬æ•°æ®æ‰˜ç®¡ä¸Šäº‘ï¼Œåœ¨å®‰å…¨æ€§å’Œä¾¿åˆ©æ€§ä¹‹é—´æ‰¾åˆ°æœ€ä½³å¹³è¡¡ã€‚</p>
<h2 data-id="heading-18">ç«‹å³ä½“éªŒå‡½æ•°è®¡ç®— AgentRun</h2>
<p>å‡½æ•°è®¡ç®— AgentRun çš„æ— ä»£ç åˆ°é«˜ä»£ç æ¼”è¿›èƒ½åŠ›ï¼Œç°å·²å¼€æ”¾ä½“éªŒï¼š</p>
<ol>
<li><strong>å¿«é€Ÿåˆ›å»ºï¼š</strong> è®¿é—®æ§åˆ¶å°ï¼ˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Ffunctionai.console.aliyun.com%2Fcn-hangzhou%2Fagent%2Fexplore" target="_blank" title="https://functionai.console.aliyun.com/cn-hangzhou/agent/explore" ref="nofollow noopener noreferrer">functionai.console.aliyun.com/cn-hangzhouâ€¦</a> ï¼‰ï¼Œ60 ç§’åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ª Agent</li>
<li><strong>æ·±åº¦å®šåˆ¶ï¼š</strong> å½“éœ€è¦æ›´å¤æ‚åŠŸèƒ½æ—¶ï¼Œä¸€é”®è½¬æ¢ä¸ºé«˜ä»£ç </li>
<li><strong>æŒç»­æ¼”è¿›ï¼š</strong> åˆ©ç”¨å‡½æ•°è®¡ç®— AgentRun çš„åŸºç¡€è®¾æ–½èƒ½åŠ›ï¼ŒæŒç»­ä¼˜åŒ–ä½ çš„ Agent</li>
</ol>
<p>ä»æƒ³æ³•åˆ°ä¸Šçº¿ï¼Œä»åŸå‹åˆ°ç”Ÿäº§ï¼Œå‡½æ•°è®¡ç®— AgentRun å§‹ç»ˆæ˜¯ä½ æœ€å¥½çš„ä¼™ä¼´ã€‚<strong>æ¬¢è¿åŠ å…¥â€œå‡½æ•°è®¡ç®— AgentRun å®¢æˆ·ç¾¤â€ï¼Œé’‰é’‰ç¾¤å·ï¼š134570017218ã€‚</strong></p>
<p><strong>å¿«é€Ÿäº†è§£å‡½æ•°è®¡ç®— AgentRunï¼š</strong></p>
<p>ä¸€å¥è¯ä»‹ç»ï¼šå‡½æ•°è®¡ç®— AgentRun æ˜¯ä¸€ä¸ªä»¥é«˜ä»£ç ä¸ºæ ¸å¿ƒçš„ä¸€ç«™å¼ Agentic AI åŸºç¡€è®¾æ–½å¹³å°ã€‚ç§‰æŒç”Ÿæ€å¼€æ”¾å’Œçµæ´»ç»„è£…çš„ç†å¿µï¼Œä¸ºä¼ä¸šçº§ Agent åº”ç”¨æä¾›ä»å¼€å‘ã€éƒ¨ç½²åˆ°è¿ç»´çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f586669a8a2747f785968a3ce72cfa3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769679540&amp;x-signature=bJfpq24P5Z5C0UQjyuIa3JFimSk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><em>å‡½æ•°è®¡ç®— AgentRun æ¶æ„å›¾</em></p>
<p>AgentRun è¿è¡Œæ—¶åŸºäºé˜¿é‡Œäº‘å‡½æ•°è®¡ç®— FC æ„å»ºï¼Œç»§æ‰¿äº† Serverless è®¡ç®—æè‡´å¼¹æ€§ã€æŒ‰é‡ä»˜è´¹ã€é›¶è¿ç»´çš„æ ¸å¿ƒä¼˜åŠ¿ã€‚é€šè¿‡æ·±åº¦é›†æˆ AgentScopeã€LangChainã€RAGFlowã€Mem0 ç­‰ä¸»æµå¼€æºç”Ÿæ€ã€‚å‡½æ•°è®¡ç®—Â AgentRun å°† Serverless çš„æè‡´å¼¹æ€§ã€é›¶è¿ç»´å’ŒæŒ‰é‡ä»˜è´¹çš„ç‰¹æ€§ä¸ AI åŸç”Ÿåº”ç”¨åœºæ™¯æ·±åº¦èåˆï¼ŒåŠ©åŠ›ä¼ä¸šå®ç°æˆæœ¬ä¸æ•ˆç‡çš„æè‡´ä¼˜åŒ–ï¼Œ<strong>å¹³å‡ TCO é™ä½ 60%</strong> ã€‚Â </p>
<p><strong>è®©</strong> <strong>å¼€å‘è€…åªéœ€ä¸“æ³¨äº Agent çš„ä¸šåŠ¡é€»è¾‘åˆ›æ–°ï¼Œæ— éœ€å…³å¿ƒåº•å±‚åŸºç¡€è®¾æ–½ï¼Œ</strong> <strong>è®© Agentic AI çœŸæ­£è¿›å…¥ä¼ä¸šç”Ÿäº§ç¯å¢ƒã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kredç¦»çº¿é˜…è¯»æŒ‡å—ï¼šæ— ç½‘ä¹Ÿèƒ½ç•…è¯»ï¼Œå‘Šåˆ«æµé‡ç„¦è™‘]]></title>    <link>https://juejin.cn/post/7597805826514944046</link>    <guid>https://juejin.cn/post/7597805826514944046</guid>    <pubDate>2026-01-22T09:49:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597805826514944046" data-draft-id="7597805826514927662" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kredç¦»çº¿é˜…è¯»æŒ‡å—ï¼šæ— ç½‘ä¹Ÿèƒ½ç•…è¯»ï¼Œå‘Šåˆ«æµé‡ç„¦è™‘"/> <meta itemprop="keywords" content="APP"/> <meta itemprop="datePublished" content="2026-01-22T09:49:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è§£å‹ä¸“å®¶666"/> <meta itemprop="url" content="https://juejin.cn/user/182988827802756"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kredç¦»çº¿é˜…è¯»æŒ‡å—ï¼šæ— ç½‘ä¹Ÿèƒ½ç•…è¯»ï¼Œå‘Šåˆ«æµé‡ç„¦è™‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/182988827802756/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è§£å‹ä¸“å®¶666
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T09:49:06.000Z" title="Thu Jan 22 2026 09:49:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é«˜é“ä¸Šä¿¡å·æ–­æ–­ç»­ç»­ï¼Œæƒ³è¯»ç¼“å­˜çš„æ¼«ç”»å´æ‰“ä¸å¼€ï¼Ÿå‡ºå·®ä½é…’åº—WiFiå¡é¡¿ï¼Œä¸‹è½½ç”µå­ä¹¦è€—æ—¶è€—æµé‡ï¼Ÿæˆ·å¤–éœ²è¥æ²¡ç½‘ç»œï¼Œæƒ³ç»­è¯»å°è¯´åªèƒ½å¯¹ç€ç©ºç™½å±å¹•ï¼Ÿå¯¹å¤šæ•°è¯»è€…æ¥è¯´ï¼Œâ€œæ— ç½‘åœºæ™¯â€çš„é˜…è¯»ä½“éªŒï¼Œå¾€å¾€æ˜¯è€ƒéªŒé˜…è¯»å™¨çš„å…³é”®ã€‚Kredé˜…è¯»å™¨ä»¥â€œç¦»çº¿ä¼˜å…ˆâ€ä¸ºæ ¸å¿ƒè®¾è®¡ï¼Œä»èµ„æºå­˜å‚¨ã€æ ¼å¼å…¼å®¹åˆ°åŠŸèƒ½ä½“éªŒï¼Œå…¨æ–¹ä½é€‚é…æ— ç½‘ç¯å¢ƒï¼Œè®©æ¯ä¸€æ¬¡å‡ºè¡Œéƒ½èƒ½éšèº«å¸¦æ»¡â€œç²¾ç¥é£Ÿç²®â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce764b2fb8ea4fe891c00f509b745812~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej5Y6L5LiT5a62NjY2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680145&amp;x-signature=gNaG98%2BsSWenOdAK%2F%2BJdIkxBVv8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸åŒäºä¾èµ–äº‘ç«¯åŠ è½½ã€æ— ç½‘å³â€œç½¢å·¥â€çš„é˜…è¯»å™¨ï¼ŒKredåšæŒæœ¬åœ°èµ„æºä¼˜å…ˆï¼Œæ— éœ€è”ç½‘ä¹Ÿèƒ½è§£é”å…¨éƒ¨æ ¸å¿ƒåŠŸèƒ½ï¼Œå®Œç¾é€‚é…é€šå‹¤ã€å‡ºå·®ã€æˆ·å¤–ç­‰å¤šå…ƒæ— ç½‘åœºæ™¯ï¼Œå½»åº•å‘Šåˆ«æµé‡ç„¦è™‘ä¸ç½‘ç»œä¾èµ–ã€‚</p>
<h3 data-id="heading-0"><strong>1. å…¨æ ¼å¼ç¦»çº¿å…¼å®¹ï¼Œç¼“å­˜èµ„æºé›¶éšœç¢</strong></h3>
<p>Kredæ”¯æŒæ‰€æœ‰ä¸»æµé˜…è¯»æ ¼å¼çš„ç¦»çº¿è¯»å–ï¼Œæ— éœ€è”ç½‘éªŒè¯æˆ–åŠ è½½æ’ä»¶ã€‚æå‰ç¼“å­˜çš„EPUBå°è¯´ã€MOBIç”µå­ä¹¦ã€CBZæ¼«ç”»ã€PDFæ–‡çŒ®ï¼Œå“ªæ€•æ–­å¼€ç½‘ç»œï¼Œä¹Ÿèƒ½ä¸€é”®æ‰“å¼€æµç•…é˜…è¯»ï¼Œæ’ç‰ˆã€ç”»è´¨ä¸å—ä»»ä½•å½±å“ã€‚æ›´çœå¿ƒçš„æ˜¯ï¼Œç¦»çº¿çŠ¶æ€ä¸‹ä»èƒ½ç›´æ¥è¯»å–å‹ç¼©åŒ…èµ„æºï¼ŒåŠ å¯†å‹ç¼©åŒ…è¾“å…¥å¯†ç å³å¯è§£é”ï¼Œä¸ç”¨æå‰è§£å‹å ç”¨å­˜å‚¨ç©ºé—´ï¼Œå›¤è´§å…šå¯æ”¾å¿ƒæ‰¹é‡ç¼“å­˜ï¼Œæ— ç½‘æ—¶ä¹Ÿèƒ½éšå¿ƒåˆ‡æ¢å†…å®¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/609893906d9b4580944107cdc86b32d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej5Y6L5LiT5a62NjY2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680145&amp;x-signature=lxm%2FMTWN9NF%2BtHFtTd0ZqHu9xyk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-1"><strong>2. ç¦»çº¿ä¹¦æ¶ç®¡ç†ï¼Œèµ„æºæ•´ç†ä¸ä¾èµ–ç½‘ç»œ</strong></h3>
<p>æ— ç½‘çŠ¶æ€ä¸‹ï¼ŒKredçš„ä¹¦æ¶ç®¡ç†åŠŸèƒ½ä¾æ—§æ­£å¸¸å¯ç”¨ã€‚å¯ä»¥æ–°å»ºè‡ªå®šä¹‰ä¹¦æ¶ï¼Œå°†ç¦»çº¿èµ„æºæŒ‰â€œé¢˜æâ€â€œçŠ¶æ€â€åˆ†ç±»å½’æ¡£ï¼›æ”¯æŒæ‰¹é‡ç§»åŠ¨ã€åˆ é™¤èµ„æºï¼Œä¼˜åŒ–ä¹¦æ¶å¸ƒå±€ï¼›å…³é”®è¯æœç´¢åŠŸèƒ½ä¹Ÿèƒ½ç¦»çº¿ä½¿ç”¨ï¼Œè¾“å…¥ä¹¦åå°±èƒ½å¿«é€Ÿå®šä½ç¼“å­˜å†…å®¹ï¼Œå“ªæ€•ç¼“å­˜äº†ä¸Šç™¾æœ¬èµ„æºï¼Œä¹Ÿèƒ½ç²¾å‡†æ‰¾åˆ°æƒ³è¯»çš„é‚£æœ¬ï¼Œä¸ç”¨åœ¨æ‚ä¹±çš„æ–‡ä»¶åˆ—è¡¨é‡Œç¿»æ‰¾ã€‚</p>
<h3 data-id="heading-2"><strong>3. ç¦»çº¿æ‰¹æ³¨ä¸è¿›åº¦ä¿å­˜ï¼Œé˜…è¯»ä½“éªŒä¸æ‰“æŠ˜</strong></h3>
<p>å¾ˆå¤šé˜…è¯»å™¨ç¦»çº¿æ—¶ä¼šé™åˆ¶æ‰¹æ³¨ã€è¿›åº¦åŒæ­¥åŠŸèƒ½ï¼Œè€ŒKredå®Œå…¨æ‰“ç ´è¿™ä¸€å±€é™ã€‚æ— ç½‘çŠ¶æ€ä¸‹é˜…è¯»PDFï¼Œå“ªæ€•ä¸­é€”æ–­ç½‘ï¼Œå†æ¬¡æ‰“å¼€ä»èƒ½ç²¾å‡†ç»­è¯»ï¼Œä¸ä¼šä¸¢å¤±ä»»ä½•é˜…è¯»ç—•è¿¹ã€‚å¯¹å­¦ç”Ÿå…šã€èŒåœºäººæ¥è¯´ï¼Œå‡ºå·®é€”ä¸­ç¦»çº¿æ ‡æ³¨æ–‡çŒ®ã€æ•´ç†ç¬”è®°ï¼Œæ•ˆç‡å®Œå…¨ä¸å—å½±å“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7e0b4d76a3a4a97ada2bd488655f6e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Kej5Y6L5LiT5a62NjY2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680145&amp;x-signature=4CIodmVFPcVRFBIxMXd%2B9rjD0a4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-3"><strong>4. ç¦»çº¿ä¼ è¾“å¤‡ä»½ï¼Œæ— ç½‘ä¹Ÿèƒ½äº’é€šèµ„æº</strong></h3>
<p>å³ä¾¿æ²¡æœ‰ç½‘ç»œï¼Œä¹Ÿèƒ½é€šè¿‡Kredçš„ç¦»çº¿ä¼ è¾“åŠŸèƒ½åŒæ­¥èµ„æºã€‚åŒä¸€å±€åŸŸç½‘å†…ï¼ˆå¦‚é«˜é“WiFiã€éœ²è¥çƒ­ç‚¹ï¼‰ï¼Œå¯é€šè¿‡WiFiä¼ è¾“åŠŸèƒ½ï¼Œåœ¨ä¸¤å°è®¾å¤‡é—´æ‰¹é‡äº’ä¼ ç¦»çº¿èµ„æºï¼Œæ— éœ€æ¶ˆè€—æµé‡ï¼›æå‰å¤‡ä»½åˆ°æœ¬åœ°çš„èµ„æºåŒ…ï¼Œç¦»çº¿çŠ¶æ€ä¸‹ä¹Ÿèƒ½å¯¼å…¥ä¹¦æ¶ï¼Œé¿å…å› ç½‘ç»œé—®é¢˜å¯¼è‡´èµ„æºä¸¢å¤±ï¼Œè®©å¤šè®¾å¤‡é—´çš„èµ„æºäº’é€šä¸å—ç½‘ç»œé™åˆ¶ã€‚</p>
<p>é˜…è¯»çš„æœ¬è´¨ï¼Œæœ¬å°±è¯¥ä¸å—æ—¶é—´ã€ç©ºé—´ä¸ç½‘ç»œçš„æŸç¼šã€‚Kredçš„ç¦»çº¿é˜…è¯»èƒ½åŠ›ï¼Œä¸ä»…æ˜¯åŠŸèƒ½ä¸Šçš„è¡¥å……ï¼Œæ›´æ˜¯å¯¹â€œéšæ—¶éšåœ°é˜…è¯»â€éœ€æ±‚çš„ç²¾å‡†é€‚é…â€”â€”å®ƒè®©ä½ æå‰å¤‡å¥½çš„æ¯ä¸€ä»½èµ„æºï¼Œéƒ½èƒ½åœ¨æ— ç½‘æ—¶å‘æŒ¥ä»·å€¼ï¼Œè®©ç¢ç‰‡æ—¶é—´ã€å‡ºè¡Œæ—¶å…‰éƒ½èƒ½è¢«é˜…è¯»å¡«æ»¡ã€‚</p>
<p>å¦‚æœä½ ç»å¸¸åœ¨æ— ç½‘åœºæ™¯ä¸‹é˜…è¯»ï¼Œè¢«ç½‘ç»œå¡é¡¿ã€æµé‡æ¶ˆè€—ç­‰é—®é¢˜å›°æ‰°ï¼Œä¸å¦¨è¯•è¯•Kredï¼ŒæŠŠå–œæ¬¢çš„å†…å®¹æå‰ç¼“å­˜ï¼Œè§£é”æ— æ‹˜æ— æŸçš„ç¦»çº¿é˜…è¯»ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œäº‘å¯è§‚æµ‹ 2025 å¹´ 12 æœˆäº§å“åŠ¨æ€]]></title>    <link>https://juejin.cn/post/7598005428259029055</link>    <guid>https://juejin.cn/post/7598005428259029055</guid>    <pubDate>2026-01-22T09:52:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598005428259029055" data-draft-id="7598003935425282091" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œäº‘å¯è§‚æµ‹ 2025 å¹´ 12 æœˆäº§å“åŠ¨æ€"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-01-22T09:52:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œäº‘å¯è§‚æµ‹ 2025 å¹´ 12 æœˆäº§å“åŠ¨æ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T09:52:58.000Z" title="Thu Jan 22 2026 09:52:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æœ¬æœˆå¯è§‚æµ‹çƒ­æ–‡å›é¡¾</h2>
<p><strong>æ–‡ç« ä¸€è§ˆï¼š</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580174%26idx%3D1%26sn%3Ddf8ad313c69dd0157057a46b81c7ab40%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580174&amp;idx=1&amp;sn=df8ad313c69dd0157057a46b81c7ab40&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ„å»ºæ•°æ®èµ„äº§â€œå¯¼èˆªåœ°å›¾â€ï¼šè¯¦è§£ UModel æ•°æ®å‘ç°ä¸å…¨é“¾è·¯åˆ†æèƒ½åŠ›</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580386%26idx%3D1%26sn%3D60829abde772d4544cf2d66c1a7b81a7%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580386&amp;idx=1&amp;sn=60829abde772d4544cf2d66c1a7b81a7&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">åŸºäº UModel é«˜æ•ˆæ„å»ºå¯è§‚æµ‹åœºæ™¯ç»Ÿä¸€å®ä½“æœç´¢å¼•æ“</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580410%26idx%3D1%26sn%3D7b0844c16409f181dfa9bda8a6ffa98c%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580410&amp;idx=1&amp;sn=7b0844c16409f181dfa9bda8a6ffa98c&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ­å¼€ Java å®¹å™¨â€œæ¶ˆå¤±çš„å†…å­˜â€ä¹‹è°œï¼šäº‘ç›‘æ§ 2.0 SysOM è¯Šæ–­å®è·µ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580441%26idx%3D1%26sn%3D28b760dfa51d9a5085abda9660519067%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580441&amp;idx=1&amp;sn=28b760dfa51d9a5085abda9660519067&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ‰“é€šå¯è§‚æµ‹æ€§çš„â€œä»»ç£äºŒè„‰â€ï¼šå®ä½“ä¸å…³ç³»çš„ç»ˆæèåˆ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580519%26idx%3D1%26sn%3D55eaeb6070a70e57057891950e4930d1%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580519&amp;idx=1&amp;sn=55eaeb6070a70e57057891950e4930d1&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä¸€è¡Œä»£ç å®ç°æ™ºèƒ½å¼‚å¸¸æ£€æµ‹ï¼šUModel PaaS API æ¶æ„è®¾è®¡ä¸æœ€ä½³å®è·µ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580582%26idx%3D1%26sn%3Daf7e34aa68b4d70079104a9c8991ca39%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580582&amp;idx=1&amp;sn=af7e34aa68b4d70079104a9c8991ca39&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä¸€æ–‡å¸¦ä½ ç©è½¬ WebSocket å…¨é“¾è·¯å¯è§‚æµ‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580687%26idx%3D1%26sn%3D2d72f037ad318cf7cfa1a32040be767d%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580687&amp;idx=1&amp;sn=2d72f037ad318cf7cfa1a32040be767d&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">Android å´©æºƒç›‘æ§å®æˆ˜ï¼šä¸€æ¬¡å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒå´©æºƒæ’æŸ¥å…¨æµç¨‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580870%26idx%3D1%26sn%3Df7c80d0201abf479e92f99e831ec7a92%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580870&amp;idx=1&amp;sn=f7c80d0201abf479e92f99e831ec7a92&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å·²ä¸Šçº¿ï¼äº‘ç›‘æ§ 2.0 é¢å‘å®ä½“çš„å…¨é“¾è·¯æ—¥å¿—å®¡è®¡ä¸é£é™©æº¯æº</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580955%26idx%3D1%26sn%3D239cab68b4ee62c0c85a645ce2c70638%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580955&amp;idx=1&amp;sn=239cab68b4ee62c0c85a645ce2c70638&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘æ“ä½œç³»ç»Ÿæ§åˆ¶å°ä¸€æ‹›è§£å†³ç½‘ç»œä¸¢åŒ…</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247581032%26idx%3D2%26sn%3Ded70d3784acebd6024cd05658842657c%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247581032&amp;idx=2&amp;sn=ed70d3784acebd6024cd05658842657c&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">åŠ å…¥æˆ‘ä»¬ï¼Œä¸€èµ·å®šä¹‰ã€ŒData x AIã€çš„æœªæ¥</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247581032%26idx%3D1%26sn%3D4bf685b8875082dd060ac2c7f9174ab5%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247581032&amp;idx=1&amp;sn=4bf685b8875082dd060ac2c7f9174ab5&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">iOS å´©æºƒæ’æŸ¥ä¸å†é çŒœï¼è¿™ä»½åˆ†å±‚æ•è·æŒ‡å—è¯·æ”¶å¥½</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247581118%26idx%3D1%26sn%3Db5844bf40ecb1b008d070b7b7d5e79ea%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247581118&amp;idx=1&amp;sn=b5844bf40ecb1b008d070b7b7d5e79ea&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">è·¨äº‘æ—¥å¿—ç»Ÿä¸€ï¼šå¯¹è±¡å­˜å‚¨æ•°æ®å¯¼å…¥ SLS çš„æ™ºèƒ½ä¹‹è·¯</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247581191%26idx%3D1%26sn%3Dfede8aee629b09009f508488f5683584%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247581191&amp;idx=1&amp;sn=fede8aee629b09009f508488f5683584&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ‹’ç»æŸ¥è¯¢è¶…æ—¶ï¼šä¸€æ¬¡çœŸå®é«˜å¹¶å‘åœºæ™¯ä¸‹çš„ SLS ç‰©åŒ–è§†å›¾è°ƒä¼˜å®æˆ˜</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247581261%26idx%3D1%26sn%3D428d24059141cab34cb3705cb54da2e7%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247581261&amp;idx=1&amp;sn=428d24059141cab34cb3705cb54da2e7&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘å¯è§‚æµ‹è”åˆ Datadog å‘å¸ƒ OpenTelemetry Go è‡ªåŠ¨æ’æ¡©å·¥å…·</a></p>
<h2 data-id="heading-1">åŠŸèƒ½å¿«æŠ¥</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60bd4ca795b14239ba63313b0b0cfe19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680378&amp;x-signature=MhC4UUFGX02h9uQv%2B9SHGsEnmAw%3D" alt="image.png" loading="lazy"/></p>
<p>ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Farms%3Fspm%3Da1z389.11499242.0.0.65452413yOc5rP%26utm_content%3Dg_1000408142" target="_blank" title="https://www.aliyun.com/product/arms?spm=a1z389.11499242.0.0.65452413yOc5rP&amp;utm_content=g_1000408142" ref="nofollow noopener noreferrer">æ­¤å¤„</a>ï¼Œäº†è§£æ›´å¤šäº§å“è¯¦æƒ…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ–°å‡çº§çš„ä¸“ä¸šç¼–ç¨‹æ˜¾ç¤ºå™¨ï¼Œç”¨ä¸Šå•¦ï¼Œä½“éªŒæ„Ÿè¶…å¥½ï¼]]></title>    <link>https://juejin.cn/post/7598005428259045439</link>    <guid>https://juejin.cn/post/7598005428259045439</guid>    <pubDate>2026-01-22T09:56:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598005428259045439" data-draft-id="7596997542042370091" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ–°å‡çº§çš„ä¸“ä¸šç¼–ç¨‹æ˜¾ç¤ºå™¨ï¼Œç”¨ä¸Šå•¦ï¼Œä½“éªŒæ„Ÿè¶…å¥½ï¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-22T09:56:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯åŒè¶Šè€å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1714893868765373"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ–°å‡çº§çš„ä¸“ä¸šç¼–ç¨‹æ˜¾ç¤ºå™¨ï¼Œç”¨ä¸Šå•¦ï¼Œä½“éªŒæ„Ÿè¶…å¥½ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1714893868765373/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯åŒè¶Šè€å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T09:56:27.000Z" title="Thu Jan 22 2026 09:56:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼€å§‹</h2>
<p>2026 å¹´æ˜¯æˆ‘ä½œä¸ºè‡ªç”±èŒä¸šè€…çš„ç¬¬ 6 å¹´äº†ï¼Œæ—¶é—´è¿‡çš„å¾ˆå¿«ã€‚</p>
<p>æ—¢ç„¶è‡ªç”±èŒä¸šï¼Œè‡ªå·±ç»™è‡ªå·±ä¹°åŠå…¬è®¾å¤‡ï¼Œä¸æ˜¯å…¬å¸å…è´¹ç»™é…ï¼Œå½“ç„¶è¦ä¹°è´¨é‡å¥½çš„ã€‚</p>
<p>å¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œæ— éå°±æ˜¯ç”µè„‘å’Œæ˜¾ç¤ºå™¨ã€‚ç”µè„‘æˆ‘ä¸€ç›´ç”¨ç€ macbook pro éå¸¸ç¨³å®šã€‚</p>
<p>æ˜¾ç¤ºå™¨çš„è¯ï¼Œæˆ‘ä¹‹å‰ä¸€ç›´åœ¨ç”¨æ˜åŸºçš„ä¸“ä¸šç¼–ç¨‹æ˜¾ç¤ºå™¨RD280Uï¼Œæœ€è¿‘æ˜åŸºè¿˜å‡ºäº†æ–°å‡çº§çš„RD280UGï¼Œä½“éªŒä¸‹æ¥æ„Ÿè§‰çœŸæ˜¯è¶Šæ¥è¶Šæ‡‚æˆ‘ä»¬ç¨‹åºå‘˜äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8387fb1fa5f64cefa4c8e3f60fb259ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=%2Fb5SPD9sjwUKEfJw9fwAMDZgeyo%3D" alt="wechat_2026-01-12_172415_447.png" loading="lazy"/></p>
<h2 data-id="heading-1">åˆå°è±¡</h2>
<p>å¼€ç®±ç»„è£…äº†ä»¥åï¼Œå’Œç”µè„‘è¿æ¥èµ·æ¥ã€‚æˆ‘ macbook pro æ˜¯ 16 å¯¸çš„å±å¹•ï¼Œå’Œè¿™ä¸ªæ˜¾ç¤ºå™¨çœ‹èµ·æ¥å¾ˆæ­é…ã€‚</p>
<p>å®ƒçš„æ”¯æ¶å’Œé«˜åº¦ä¹Ÿå¾ˆåˆé€‚ï¼Œæ­£å¥½åŒ¹é…æˆ‘çš„ç”µè„‘ï¼Œèƒ½è®©æˆ‘å·¥ä½œæ—¶ä¸€ç›´æŠ¬ç€å¤´ï¼Œä¿æŠ¤æˆ‘è„†å¼±çš„é¢ˆæ¤ã€‚</p>
<p>å®ƒçš„æ”¯æ¶ä¸Šæœ‰ä¸€ä¸ªçš®è´¨çš„å¡æ‰£ï¼Œè¿™æ ·æˆ‘å¯ä»¥æŠŠç”µæºçº¿ç»‘åœ¨é‡Œé¢ï¼Œå¯¹äºæˆ‘è¿™ç§å¼ºè¿«ç—‡æ‚£è€…ç®€ç›´å¤ªå¥½äº†ï¼Œæˆ‘æ‰€æœ‰çš„çº¿éƒ½è¦ç»‘èµ·æ¥ï¼Œä¸èƒ½ä¹±ç€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16ac6124e2d14bb8a5bce62e35ce534d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=ucAvM%2BkxQi%2FVZNT0rEUkw%2Flvem4%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™æ¬¾æ˜¾ç¤ºå™¨ä¾ç„¶æ˜¯ RD ç³»åˆ—åŸæœ‰çš„ 3:2 çš„æ¯”ä¾‹ï¼Œå®é™…ç”¨èµ·æ¥éå¸¸åˆç†ã€‚</p>
<p>å› ä¸ºå®ƒä¼šæ¯”å®½å±æ›´é€‚åˆç¼–ç¨‹ï¼Œèƒ½çœ‹åˆ°æ›´å¤šä»£ç ï¼Œæ— è®ºæ˜¯åœ¨ä¸­é—´çš„ä¸»ä»£ç åŒºåŸŸï¼Œè¿˜æ˜¯å³ä¾§çš„ AI å¯¹è¯åŒºåŸŸï¼Œéƒ½èƒ½çœ‹åˆ°æ›´å¤šå†…å®¹ã€‚ä¸ç”¨æ»šåŠ¨ç¿»é¡µï¼Œæ—¢å¯¹çœ¼ç›å‹å¥½ï¼ŒåˆåŠ å¿«äº†å¼€å‘æ•ˆç‡ã€‚</p>
<h2 data-id="heading-2">æ–°åŠŸèƒ½</h2>
<p>BENQ RD ç³»åˆ—æœ¬æ¥å°±æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„ä¸“ä¸šç¼–ç¨‹æ˜¾ç¤ºå™¨ï¼Œ 2026 æœ€æ–°æ¬¾åˆå¢åŠ äº†è¯¸å¤šæ–°åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-3">120Hz é«˜åˆ·å‡çº§</h3>
<p>ä½œä¸ºä¸€åç¨‹åºå‘˜ï¼Œæˆ‘å¯¹è¿™æ¬¾ä¸“ä¸šç¼–ç¨‹æ˜¾ç¤ºå™¨å‡çº§åˆ° <strong>120Hz é«˜åˆ·æ–°ç‡</strong> çš„æ„Ÿå—éå¸¸ç›´è§‚ã€‚åœ¨æ—¥å¸¸ç¼–ç ä¸­ï¼Œæ— è®ºæ˜¯é«˜é€Ÿæ»šåŠ¨ä»£ç ã€åˆ‡æ¢æ–‡ä»¶ï¼Œè¿˜æ˜¯æµè§ˆé•¿æ–‡æ¡£ï¼Œç”»é¢éƒ½æ˜æ˜¾æ›´é¡ºæ»‘ï¼Œè¡Œé—´è·³åŠ¨æ„Ÿå¤§å¹…é™ä½ï¼Œçœ¼ç›æ›´æ”¾æ¾ã€‚è°ƒè¯•æ—¶é¢‘ç¹ä¸Šä¸‹å®šä½ä»£ç ã€æŸ¥çœ‹æ—¥å¿—ï¼Œ120Hz å¸¦æ¥çš„è¿ç»­æ„Ÿè®©æ³¨æ„åŠ›æ›´é›†ä¸­ï¼Œä¸å®¹æ˜“äº§ç”Ÿè§†è§‰ç–²åŠ³ã€‚å³ä½¿é•¿æ—¶é—´é¢å¯¹å±å¹•ï¼Œä¹Ÿèƒ½æ„Ÿå—åˆ°æ›´ç¨³å®šã€æ›´â€œè·Ÿæ‰‹â€çš„äº¤äº’ä½“éªŒã€‚å¯¹ç¨‹åºå‘˜è€Œè¨€ï¼Œé«˜åˆ·ä¸åªæ˜¯ä¸ºæ¸¸æˆæœåŠ¡ï¼Œè€Œæ˜¯çœŸæ­£æå‡äº†å¼€å‘æ•ˆç‡ä¸èˆ’é€‚åº¦çš„ä¸€æ¬¡å‡çº§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72ed6522e9ba407782a53be6f453b58e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=%2BVCKH2nvDyooIWHnYDyC40%2BH5Ds%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">å½©çº¸æ¨¡å¼</h3>
<p>ä¹‹å‰æˆ‘æœ€å–œæ¬¢280Uçš„ä¸€ä¸ªåŠŸèƒ½å°±æ˜¯ç¼–ç¨‹è‰²å½©æ¨¡å¼ï¼Œæ‰“å¼€ä¹‹åä»£ç èƒ½æ˜æ˜¾æ¸…æ™°ç‰¹åˆ«å¤šï¼Œå¯ä»¥é€šè¿‡æ™º èƒ½ ä¼˜ åŒ– è¯­ æ³• â¾¼ äº® ï¼Œ å¯¹ å¤š ç§ ä»£ ç  å…ƒ ç´  è¿› â¾ â¾Š æ¸© ï¼Œ â¾Š å½© ï¼Œ å¯¹ â½ åº¦ çš„ ä¸“ é¡¹ ä¼˜ åŒ– ï¼Œ å‡¸ æ˜¾ ä»£ ç  å­— ç¬¦ æ¸… æ™° åº¦ ï¼Œ æ â¾¼ ä»£ ç  åŒº åˆ† åº¦ ï¼Œ å¸® åŠ© å¼€ å‘ è€… æ›´ å¿« é€Ÿ è¯† åˆ« ä»£ ç  ç»“ æ„ ï¼Œ é™ ä½ b u g é— æ¼ é£ é™© ï¼Œ çœ‹èµ·æ¥å¾ˆèˆ’æœä¹Ÿå¾ˆæ²‰æµ¸ï¼Œè€Œä¸”è¿˜æŒ‰ç…§èƒŒæ™¯é¢œè‰²åˆ†äº†ä¸»é¢˜ï¼Œé»‘è‰²èƒŒæ™¯ç”¨æ·±è‰²ä¸»é¢˜ï¼Œç™½è‰²èƒŒæ™¯å°±ç”¨äº®è‰²ä¸»é¢˜ã€‚è®©æˆ‘å¾ˆæƒŠå–œçš„æ˜¯ï¼Œåœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šï¼Œ2026 æ–°æ¬¾æ–°å¢äº†ä¸€ä¸ªè‰²å½©æ¨¡å¼ï¼šå½©çº¸æ¨¡å¼ï¼Œè¿™æ ·è®©ideçš„ç”»å¸ƒèƒ½æ›´æ¥è¿‘çº¸çš„è´¨æ„Ÿï¼ŒåŒæ—¶è¿˜èƒ½ä¿ç•™è¯­æ³•é«˜äº®çš„è‰²å½©æ•ˆæœï¼Œçœ¼ç›èƒ½æ›´èˆ’æœï¼Œä»£ç çš„ç»“æ„ç»†èŠ‚ä¹Ÿç‰¹åˆ«æ¸…æ¥š ã€‚æˆ‘è§‰å¾—è¿™æ˜¯ç›®å‰æœ€é€‚åˆç¼–ç¨‹çš„ä¸€ç§æ¨¡å¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84bec4bf66e54cbc984e48e5a0c7dc14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=uNg8aoOIly%2BhU1RvcPuDV3OYRjM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">Display Pilot2 æ”¯æŒ Linux ç³»ç»Ÿ</h3>
<p>BENQ ä¸ºä»–ä»¬çš„æ˜¾ç¤ºå™¨å¼€å‘çš„æ§åˆ¶è½¯ä»¶ display pilot2 å·²ç»å‡çº§åˆ° v2 ç‰ˆæœ¬ï¼Œä¹‹å‰æ”¯æŒ windows macï¼Œç°åœ¨å·²ç»æ”¯æŒ Linux æ“ä½œç³»ç»Ÿäº†ã€‚ä¸ºä¼—å¤š Linux ç”¨æˆ·æä¾›äº†ä¸“ä¸šç¼–ç¨‹æ˜¾ç¤ºå™¨ã€‚</p>
<p>ä½ å¯ä»¥ä¸‹è½½å®‰è£…ï¼Œç”¨å®ƒæ¥æ§åˆ¶æ‰€æœ‰ç¼–è¾‘å™¨çš„åŠŸèƒ½ï¼Œå¿«æ·æ–¹ä¾¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ba1c8f8a6084a5c86bb13d06556d363~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=E27951zSrWLmyKq4I61qrmzstak%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">ä»£ç æ¸…æ™°åº¦</h2>
<p>å’±ä»¬å…¬å¸é‡Œé…çš„æ™®é€šæ˜¾ç¤ºå™¨ï¼Œæ˜¾ç¤ºè´¨æ„Ÿéå¸¸ç²—ç³™ï¼Œä¸æ¸…æ™°ï¼Œç»†èŠ‚æœ‰é”¯é½¿ï¼Œè‰²å½©å¯¹æ¯”åº¦å¾ˆå·®ã€‚å·¥ä½œä¸€å¤©ä¸‹æ¥ï¼Œçœ¼ç›ç‰¹åˆ«éš¾å—ã€‚æ‰€ä»¥æˆ‘ä¹‹å‰å·¥ä½œçš„æ—¶å€™ï¼Œä¼šå°½é‡ç”¨ macbook ç¼–ç¨‹ï¼Œè™½ç„¶å±å¹•å°ï¼Œä½†è‹¹æœçš„æ˜¾ç¤ºæ•ˆæœè¿˜å¯ä»¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31281ef9febf4b8ea45301572bf7d3e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=OclcUUCb6%2F%2F%2FZBe5LVF5jGkuyQU%3D" alt="image.png" loading="lazy"/></p>
<p>ä½† BENQ è¿™æ¬¾æ˜¾ç¤ºå™¨ï¼Œå®ƒæ˜¯ 4k è¶…é«˜æ¸…ã€120Hzé«˜åˆ·å‡çº§ï¼Œæ˜¾ç¤ºæ¸…æ™°ï¼Œæ²¡æœ‰é”¯é½¿ï¼Œè‰²å½©è¿˜åŸåº¦é«˜ï¼Œæ˜¾ç¤ºæ•ˆæœå‡ ä¹ç­‰äº macbook pro ç”µè„‘çš„æ˜¾ç¤ºå™¨ï¼Œæœç„¶è´µæ˜¯è´µçš„é“ç†ã€‚ä½†æ˜¾ç¤ºå™¨æ˜¯æˆ‘ä»¬å¤©å¤©å·¥ä½œã€åŠ ç­éƒ½éœ€è¦ä¸€ç›´é¢å¯¹çš„ä¸œè¥¿ï¼Œè¿˜æ˜¯è´¨é‡ä¼˜å…ˆã€ä½“éªŒæœ‰é™ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98dd8f88cb094d9cbcb16a61547c3c14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=ojOJn62q4n%2BhTHSFBkMVnzxE24M%3D" alt="image.png" loading="lazy"/></p>
<p>æ—¢ç„¶æ˜¯ä¸“ä¸šç¼–ç¨‹æ˜¾ç¤ºå™¨ï¼Œå®ƒå¯ä»¥è®¾ç½®å¤šç§è‰²å½©æ¨¡å¼ï¼Œè¿˜æ–°æ¨å‡ºäº†â€œå½©çº¸â€æ¨¡å¼ï¼Œå¢åŠ ä»£ç æ˜¾ç¤ºçš„å¯¹æ¯”åº¦ï¼Œè®©ä½ æ›´å®¹æ˜“çš„çœ‹åˆ°ä»£ç çš„ç»“æ„å’Œç»†èŠ‚ï¼Œå°¤å…¶åœ¨ debug æˆªæ–­éå¸¸æœ‰ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19a3fd408ccb4e3ebdb4832d73e44d7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=rkZf%2BMiM0BcFWAWoFN4AqlCMmZQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-7"><strong>æŠ—åå°„é¢æ¿</strong></h2>
<p>å›¢é˜Ÿçš„ leader æˆ–æ¶æ„å¸ˆï¼Œéƒ½å–œæ¬¢æŠŠè‡ªå·±å®‰æ’åˆ°é çª—æˆ·çš„å·¥ä½ï¼Œè¿™é‡Œéšç§å¥½ã€è§†é‡å¥½ã€é€šé£å¥½ã€‚</p>
<p>ä½†åªæœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œæœ‰å¤ªé˜³çš„æ—¶å€™ï¼Œç…§åœ¨å±å¹•ä¸Šåå…‰ï¼Œéå¸¸éš¾å—ï¼Œå°¤å…¶å½“ä½ éœ€è¦è®¤çœŸå·¥ä½œæ—¶ã€‚</p>
<p>æ™®é€šæ˜¾ç¤ºå™¨ï¼ŒåŒ…æ‹¬æˆ‘çš„ macbook æ˜¾ç¤ºå™¨ï¼Œåå…‰éå¸¸æ˜æ˜¾ï¼Œå‡ ä¹åŠä¸ªå±å¹•éƒ½çœ‹ä¸åˆ°äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93ab4fb56cdd4f47b124c273e52c9a6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=1gIUbBWlcS%2BRPK476PFQ5mx4e7Y%3D" alt="image.png" loading="lazy"/></p>
<p>è€Œ BENQ è¿™æ¬¾æ˜¾ç¤ºå™¨å¢åŠ äº†æŠ—åå°„æ¶‚å±‚ï¼Œå‡ ä¹çœ‹ä¸åˆ°å…‰çš„åå°„ï¼Œæ—¢å¯äº«å—é˜³å…‰åˆå¯ä¸“å¿ƒå·¥ä½œã€‚</p>
<p>è¿™ä¸ªç‰¹æ€§ï¼Œç›¸ä¿¡é çª—å·¥ä½çš„ leader æˆ–æ¶æ„å¸ˆä»¬ä¼šéå¸¸å–œæ¬¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bc7401f8cc042a487f2f83d9241d832~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=YiAdL94TAg8KlBj275Ucd68YizY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">é»‘å¤œæ¨¡å¼</h2>
<p>ç¨‹åºå‘˜åŠ ç­åˆ°æ·±å¤œè¿™æ˜¯å®¶å¸¸ä¾¿é¥­ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æ‰“å·¥äººæ— æ³•æ”¹å˜çš„ç°çŠ¶ã€‚ä½†åˆ°äº†æ™šä¸Šï¼Œå¦‚æœä½ çš„çœ¼ç›è§†è§‰è¿˜ç»´æŒåœ¨ä¸€ä¸ªæ¯”è¾ƒäº®çš„æ˜¾ç¤ºçŠ¶æ€ï¼Œè¿™ä¼šä¸¥é‡å½±å“ä½ çš„ç”Ÿç‰©é’Ÿï¼Œæ˜¯ä½ å¤±çœ çš„ä¸»è¦åŸå› ä¹‹ä¸€ã€‚</p>
<p>BENQ è¿™æ¬¾æ˜¾ç¤ºå™¨æœ‰å¤œé—´ä¿æŠ¤åŠŸèƒ½ï¼Œå¼€å¯è‡ªåŠ¨åˆ‡æ¢å®ƒä¼šåœ¨æ™šä¸Šé™ä½å±å¹•äº®åº¦ï¼Œå¼€å¯çŒ«å¤´é¹°æ¨¡å¼ã€‚å³ä¾¿æ˜¯åŠ ç­ï¼Œä¹Ÿä¼šå°½é‡é™ä½ä½ çœ¼ç›çš„ç–²åŠ³æ„Ÿï¼Œæ—¢æŠ¤çœ¼ï¼Œåˆæœ‰åˆ©äºç¡çœ ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39ea78a0778142e5b3d1420d5a4bc131~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=5VqMpQYk5oyCbY80QA0OuTx521w%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ç®¡æ˜¯è‡ªç”±èŒä¸šè€…ï¼Œè¿˜æ˜¯ä¸‹ç­åœ¨å®¶ç¼–ç¨‹ï¼Œä¸€ä¸ªäººåœ¨è‡ªå·±çš„å°å±‹é‡Œï¼ŒæŠŠç¯å…³ä¸Šæˆ–è°ƒæš—ï¼Œå†æ‰“å¼€è¿™æ¬¾æ˜¾ç¤ºå™¨çš„æ™ºæ…§å…‰ç¯åŠŸèƒ½ï¼Œå°±èƒ½è¿›å…¥ä¸€ä¸ªå…¨æ–°çš„ç¼–ç¨‹æ°›å›´ä¸­ï¼Œè¿™ç§èƒŒåæœ‰å…‰çš„æ„Ÿè§‰ï¼Œä¼šç‰¹åˆ«å®¹æ˜“é›†ä¸­æ³¨æ„åŠ›ï¼Œæ¿€å‘åˆ›ä½œçµæ„Ÿï¼Œå¤§å¤§æå‡æ™šä¸Šçš„å·¥ä½œæ•ˆç‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9622341d4b604ab3a98352fc74e1520d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5Y-M6LaK6ICB5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680587&amp;x-signature=8Gdcj%2BJYDrw4TRocq4K3ZJRFLaY%3D" alt="wechat_2026-01-12_173734_790.png" loading="lazy"/></p>
<h2 data-id="heading-9">å…¶ä»–</h2>
<p>å®ƒè¿˜æ”¯æŒå¤šè®¾å¤‡åˆ‡æ¢ï¼šæ”¯æŒä¸¤å¥—ä¸»æœºé“¾æ¥ä¸€ä¸ªæ˜¾ç¤ºè®¾å¤‡ KVM ï¼Œè¿˜æ”¯æŒä¸€å¥—é”®ç›˜é¼ æ ‡æ§åˆ¶ä¸¤å°æ˜¾ç¤ºå™¨è®¾å¤‡ MST ï¼Œè¿˜æ”¯æŒç”»ä¸­ç”»ã€‚ä¸»è¦è§£å†³çš„æ˜¯å¤šä¸»æœºç”¨æˆ·ï¼Œéœ€è¦è½¬æ¢å™¨å¤šä¸ªæ¥å£çš„éœ€æ±‚ã€‚ç¨‹åºå‘˜å¯èƒ½æš‚æ—¶æ²¡è¿™ä¸ªéœ€æ±‚ã€‚</p>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>ç”¨äº† RD280UG è¿™æ®µæ—¶é—´ä¹‹åï¼Œå‘ç°å®ƒå’Œè€æ¬¾ç›¸æ¯”ï¼Œè¶Šæ¥è¶Šæ‡‚ç¨‹åºå‘˜çš„éœ€æ±‚äº†ã€‚120Hzé«˜åˆ·è®©ç•Œé¢çš„æ»šåŠ¨æ›´é¡ºæ»‘è‡ªç„¶ï¼Œå½©çº¸æ¨¡å¼è®©ä»£ç ç•Œé¢æ˜¾ç¤ºæ›´èˆ’æœæ›´æ²‰æµ¸å¼ï¼ŒDisplay Pilot2è½¯ä»¶å±‚é¢ä¹Ÿæ”¯æŒæ›´å®Œå–„çš„æ“ä½œç³»ç»Ÿã€‚çœŸæ­£çš„ä¸“ä¸šç¼–ç¨‹æ˜¾ç¤ºå™¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOS APP å¼€å‘ï¼Œä»é¡¹ç›®åˆ›å»ºã€è¯ä¹¦ä¸æè¿°æ–‡ä»¶é…ç½®ã€å®‰è£…æµ‹è¯•å’ŒIPA ä¸Šä¼ ]]></title>    <link>https://juejin.cn/post/7597996070510297126</link>    <guid>https://juejin.cn/post/7597996070510297126</guid>    <pubDate>2026-01-22T10:00:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597996070510297126" data-draft-id="7597996070510280742" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS APP å¼€å‘ï¼Œä»é¡¹ç›®åˆ›å»ºã€è¯ä¹¦ä¸æè¿°æ–‡ä»¶é…ç½®ã€å®‰è£…æµ‹è¯•å’ŒIPA ä¸Šä¼ "/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-22T10:00:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯è°çš„ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/2390811467846089"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS APP å¼€å‘ï¼Œä»é¡¹ç›®åˆ›å»ºã€è¯ä¹¦ä¸æè¿°æ–‡ä»¶é…ç½®ã€å®‰è£…æµ‹è¯•å’ŒIPA ä¸Šä¼ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2390811467846089/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯è°çš„ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T10:00:36.000Z" title="Thu Jan 22 2026 10:00:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ iOS APP å¼€å‘æ—¶ï¼Œå¾ˆå¤šå¼€å‘è€…ä¼šç›´æ¥è·³åˆ°å†™ä»£ç æˆ–ä¸Šæ¶æµç¨‹ã€‚
ä½†åœ¨çœŸå®é¡¹ç›®é‡Œï¼Œç¬¬ä¸€æ­¥æ›´åŸºç¡€ï¼Œå…ˆæ­å‡ºä¸€ä¸ªè‹¹æœç³»ç»Ÿèƒ½è®¤çš„ iOS é¡¹ç›®ã€‚</p>
<p>ä¸ç®¡ä½ æ˜¯åŸç”Ÿ Swiftã€OCï¼Œè¿˜æ˜¯ uni-appã€H5 å¥—å£³ï¼Œæœ€ç»ˆéƒ½ä¼šè½åˆ°ä¸€ä¸ª iOS å·¥ç¨‹ä¸Šã€‚è¿™ä¸ªå·¥ç¨‹è‡³å°‘è¦æ»¡è¶³ä¸‰ä»¶äº‹ï¼š</p>
<ul>
<li>æœ‰æ˜ç¡®çš„ Bundle ID</li>
<li>èƒ½æ­£ç¡®ç­¾å</li>
<li>èƒ½è¢«æ‰“åŒ…æˆ IPA</li>
</ul>
<p>åªè¦å…¶ä¸­ä¸€é¡¹ä¸æˆç«‹ï¼Œåé¢çš„å¼€å‘å’Œè°ƒè¯•éƒ½ä¼šå˜å¾—ä¸ç¨³å®šã€‚</p>
<hr/>
<h2 data-id="heading-0">å·¥ç¨‹åˆ›å»ºå®Œæˆåï¼Œå¼€å‘ç¯å¢ƒé…ç½®æ‰çœŸæ­£å¼€å§‹</h2>
<p>å¦‚æœä½¿ç”¨ Xcode åˆ›å»ºåŸç”Ÿé¡¹ç›®ï¼ŒSigning &amp; Capabilities ä¼šå¾ˆæ—©æš´éœ²é—®é¢˜ã€‚
å¦‚æœä½¿ç”¨ HBuilderX æˆ– uni-appï¼Œé—®é¢˜ä¼šè¢«å»¶ååˆ°æ‰“åŒ…é˜¶æ®µæ‰å‡ºç°ã€‚</p>
<p>è¿™ä¸€æ­¥æ¶‰åŠçš„ä¸æ˜¯ä»£ç ï¼Œè€Œæ˜¯<strong>è´¦å·ä¸è¯ä¹¦çš„ç»‘å®šå…³ç³»</strong>ï¼š</p>
<ul>
<li>Apple Developer è´¦å·æ˜¯å¦å·²æ¿€æ´»</li>
<li>æ˜¯å¦å­˜åœ¨å¯ç”¨çš„å¼€å‘è¯ä¹¦</li>
<li>Bundle ID æ˜¯å¦å·²æ³¨å†Œ</li>
</ul>
<p>åœ¨ Windows ç¯å¢ƒä¸‹ï¼Œè¿™äº›æ“ä½œæ— æ³•ç›´æ¥é€šè¿‡ Xcode å®Œæˆï¼Œå°±éœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·æ¥å®Œæˆè´¦å·ä¾§é…ç½®ã€‚</p>
<hr/>
<h2 data-id="heading-1">è¯ä¹¦ä¸æè¿°æ–‡ä»¶ï¼Œæ˜¯ iOS APP èƒ½å¦è¿è¡Œçš„å‰ææ¡ä»¶</h2>
<p>åœ¨å¼€å‘é˜¶æ®µï¼Œä¸€ä¸ª App è‡³å°‘éœ€è¦ï¼š</p>
<ul>
<li>iOS Development è¯ä¹¦</li>
<li>å¯¹åº”çš„æè¿°æ–‡ä»¶</li>
<li>åŒ…å«ç›®æ ‡è®¾å¤‡ UDID</li>
</ul>
<p>å¦‚æœå…¶ä¸­ä»»ä½•ä¸€é¡¹ä¸åŒ¹é…ï¼Œè¡¨ç°ä¼šéå¸¸ç›´æ¥ï¼š</p>
<ul>
<li>IPA æ— æ³•å®‰è£…</li>
<li>å®‰è£…åç«‹å³é—ªé€€</li>
<li>Xcode æˆ–æ‰“åŒ…å·¥å…·ç›´æ¥æŠ¥ç­¾åé”™è¯¯</li>
</ul>
<p>åœ¨è¿™ä¸€é˜¶æ®µï¼ŒAppUploader å¯ä»¥<strong>ç”¨äºåˆ›å»ºå’Œç®¡ç†å¼€å‘è¯ä¹¦ä¸æè¿°æ–‡ä»¶ï¼Œå¹¶ä¸‹è½½å¯ç›´æ¥ä½¿ç”¨çš„ p12 æ–‡ä»¶ã€‚</strong></p>
<p>å®ƒå¹¶ä¸å‚ä¸ä»£ç æ„å»º
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/633073697d5c41f48159b8624742e08a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv6LCB55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680836&amp;x-signature=aDxH9jdOy3pOtIfLz9TSRKU%2B8Bw%3D" alt="æ–‡ä»¶ç®¡ç†" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2">å¼€å‘é˜¶æ®µçš„å®‰è£…æµ‹è¯•ï¼Œæ¯”æ—¥å¿—æ›´æ—©å‘ç°é—®é¢˜</h2>
<p>å½“å·¥ç¨‹èƒ½æˆåŠŸæ‰“åŒ…å‡º IPA åï¼Œä¸‹ä¸€æ­¥ä¸æ˜¯ä¸Šä¼ ï¼Œè€Œæ˜¯å®‰è£…æµ‹è¯•ã€‚</p>
<p>åœ¨å®é™…æ“ä½œä¸­ï¼Œå®‰è£…æµ‹è¯•ä¼šæš´éœ²å¾ˆå¤šé—®é¢˜ï¼š</p>
<ul>
<li>Info.plist æƒé™ç¼ºå¤±</li>
<li>WebView æƒé™æˆ– ATS é…ç½®é”™è¯¯</li>
<li>ç¬¬ä¸‰æ–¹ SDK åˆå§‹åŒ–å¤±è´¥</li>
</ul>
<p>å¦‚æœä½¿ç”¨å¼€å‘è¯ä¹¦ï¼Œå¯ä»¥é€šè¿‡ USB æ–¹å¼å®‰è£…åˆ°æŒ‡å®šè®¾å¤‡ã€‚
è¿™è¦æ±‚ï¼š</p>
<ul>
<li>è®¾å¤‡ UDID å·²åŒ…å«åœ¨æè¿°æ–‡ä»¶ä¸­</li>
<li>æ‰‹æœºå¼€å¯å¼€å‘è€…æ¨¡å¼</li>
<li>æè¿°æ–‡ä»¶ä¸è¯ä¹¦æœªè¿‡æœŸ</li>
</ul>
<p>AppUploader åœ¨è¿™é‡Œæ‰¿æ‹…çš„æ˜¯<strong>å®‰è£…æµ‹è¯•å·¥å…·</strong>çš„è§’è‰²ï¼Œå¸®åŠ©åœ¨ä¸ä¾èµ– Xcode çš„æƒ…å†µä¸‹ï¼ŒæŠŠ IPA å®‰è£…åˆ°çœŸå®è®¾å¤‡ä¸ŠéªŒè¯è¡Œä¸ºã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f4635a15bee4738bcdf3d14f4288c70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv6LCB55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680836&amp;x-signature=1oFbPGJPAdw1TN7Vp9BbbpyUNj4%3D" alt="å®‰è£…æµ‹è¯•" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-3">å¼€å‘å®Œæˆåï¼Œå‘å¸ƒè¯ä¹¦æ˜¯å¦ä¸€å¥—å®Œå…¨ç‹¬ç«‹çš„é…ç½®</h2>
<p>å¼€å‘è¯ä¹¦å’Œå‘å¸ƒè¯ä¹¦ä¹‹é—´ä¸èƒ½æ··ç”¨ï¼Œè¿™æ˜¯å¾ˆå¤šæ–°é¡¹ç›®å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ã€‚</p>
<p>å‘å¸ƒé˜¶æ®µéœ€è¦å•ç‹¬å‡†å¤‡ï¼š</p>
<ul>
<li>iOS Distribution è¯ä¹¦</li>
<li>App Store ç±»å‹æè¿°æ–‡ä»¶</li>
<li>ä¸ App Store Connect ä¸­åº”ç”¨ä¸€è‡´çš„ Bundle ID</li>
</ul>
<p>å¦‚æœç›´æ¥ç”¨å¼€å‘è¯ä¹¦ä¸Šä¼  IPAï¼ŒApple ä¼šåœ¨ä¸Šä¼ é˜¶æ®µæ‹’ç»ï¼Œè€Œä¸æ˜¯åœ¨å®¡æ ¸é˜¶æ®µã€‚</p>
<p>åœ¨ Windows ç¯å¢ƒä¸‹ï¼Œå‘å¸ƒè¯ä¹¦çš„åˆ›å»ºä¸ç®¡ç†åŒæ ·å¯ä»¥é€šè¿‡ AppUploader å®Œæˆï¼Œä½†è¦æ³¨æ„ï¼š</p>
<ul>
<li>å‘å¸ƒè¯ä¹¦ä¸€æ—¦ä¸¢å¤±ï¼Œéœ€è¦é‡æ–°ç”Ÿæˆ</li>
<li>p12 å¯†ç æ— æ³•æ‰¾å›</li>
<li>æè¿°æ–‡ä»¶éœ€é‡æ–°ä¸‹è½½å¹¶æ›¿æ¢
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d787a6a8b4249b8a89373da082539c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv6LCB55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680836&amp;x-signature=H7GsJz5WSkTgn2ATT%2FI0EFoBvW8%3D" alt="è¯ä¹¦åˆ›å»º" loading="lazy"/></li>
</ul>
<hr/>
<h2 data-id="heading-4">ä¸Šä¼  IPA åªæ˜¯æµç¨‹ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹</h2>
<p>å½“ IPA ä½¿ç”¨å‘å¸ƒè¯ä¹¦æ‰“åŒ…å®Œæˆåï¼Œå¯ä»¥æäº¤åˆ° App Store Connectã€‚</p>
<p>è¿™é‡Œæ¶‰åŠçš„å·¥å…·ç»„åˆåŒ…æ‹¬ï¼š</p>
<ul>
<li>Apple IDï¼ˆå·²ä»˜è´¹ï¼‰</li>
<li>App Store Connectï¼ˆåº”ç”¨ä¿¡æ¯ã€å®¡æ ¸çŠ¶æ€ï¼‰</li>
<li>ä¸Šä¼ å·¥å…·ï¼ˆXcode / Transporter / AppUploaderï¼‰</li>
</ul>
<p>AppUploader åœ¨è¿™ä¸ªé˜¶æ®µæä¾›çš„æ˜¯ <strong>IPA ä¸Šä¼ èƒ½åŠ›</strong>ï¼Œæœ¬è´¨ä¸Šç­‰åŒäºå®˜æ–¹å·¥å…·ï¼Œä½†æ›´é€‚åˆ Windows ç¯å¢ƒæˆ– CI åœºæ™¯ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/415446a2e59a43648daf63bf325d9243~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv6LCB55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769680836&amp;x-signature=BKtq%2FnnK0WC8spFvBOdSipLpr%2Fw%3D" alt="ipaä¸Šä¼ " loading="lazy"/></p>
<p>ä¸Šä¼ å®Œæˆåï¼Œæ˜¯å¦è¿›å…¥å®¡æ ¸ã€æ˜¯å¦è¢«æ‹’ï¼Œä¸å·¥å…·æœ¬èº«å·²ç»æ²¡æœ‰ç›´æ¥å…³ç³»ã€‚</p>
<hr/>
<h2 data-id="heading-5">å›åˆ°å¼€å‘æœ¬èº«ï¼Œå·¥å…·åªæ˜¯é…åˆå·¥ç¨‹èŠ‚å¥</h2>
<p>ä»å·¥ç¨‹è§’åº¦çœ‹ï¼ŒiOS APP å¼€å‘å¹¶ä¸æ˜¯ä¸€æ¡ç›´çº¿æµç¨‹ï¼Œè€Œæ˜¯ä¸æ–­åœ¨å‡ ä¸ªé˜¶æ®µä¹‹é—´å¾€è¿”ï¼š</p>
<ul>
<li>å†™ä»£ç  â†’ æ‰“åŒ… â†’ å®‰è£…</li>
<li>ä¿®é—®é¢˜ â†’ é‡æ–°ç­¾å â†’ å†æµ‹è¯•</li>
<li>å‡†å¤‡å‘å¸ƒ â†’ ä¸Šä¼  â†’ å›æ»šä¿®æ”¹</li>
</ul>
<p>å·¥å…·çš„ä»·å€¼æ˜¯å‡å°‘éå¿…è¦çš„ç¯å¢ƒæˆæœ¬ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.appuploader.net%2Ftutorial%2Fzh%2F1%2F1.html" target="_blank" title="https://www.appuploader.net/tutorial/zh/1/1.html" ref="nofollow noopener noreferrer">www.appuploader.net/tutorial/zhâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kiro vs Trae Solo: Vibe codingå®æ“å…¨æ”»ç•¥åŠä½¿ç”¨æ€è·¯æ·±åº¦æ¢è®¨]]></title>    <link>https://juejin.cn/post/7597776334066008116</link>    <guid>https://juejin.cn/post/7597776334066008116</guid>    <pubDate>2026-01-22T08:02:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597776334066008116" data-draft-id="7597776334065811508" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kiro vs Trae Solo: Vibe codingå®æ“å…¨æ”»ç•¥åŠä½¿ç”¨æ€è·¯æ·±åº¦æ¢è®¨"/> <meta itemprop="keywords" content="äº§å“"/> <meta itemprop="datePublished" content="2026-01-22T08:02:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¯ä¸æŠ•æœºåŠ"/> <meta itemprop="url" content="https://juejin.cn/user/186260337994656"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kiro vs Trae Solo: Vibe codingå®æ“å…¨æ”»ç•¥åŠä½¿ç”¨æ€è·¯æ·±åº¦æ¢è®¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/186260337994656/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¯ä¸æŠ•æœºåŠ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:02:51.000Z" title="Thu Jan 22 2026 08:02:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å…ˆå¯¼ï¼škiroä¸trae soloçš„æ•´ä½“é£æ ¼å¯¹æ¯”</h2>
<p>å¸‚é¢å¸¸è§çš„AI é©±åŠ¨ IDEæœ‰ä¸¤ä¸ªå¦ç±»ï¼štraeå’Œkiroã€‚</p>
<p>å­—èŠ‚çœŸçš„åœ¨æŠŠç”¨æˆ·å½“ä½œ0åŸºç¡€ï¼Œç§‰æŒ â€œé›¶åŸºç¡€å‹å¥½â€ çš„ç†å¿µï¼Œè‡´åŠ›äºå®ç°Vibe codingï¼›è€Œäºšé©¬é€Šå‡ºå“çš„ Kiro ç›´æ¥ç»™å‡ºvibe codingæ¨¡å¼ï¼Œç»“åˆå·¥ç¨‹åŒ–ä¸¥è°¨å¼€å‘çš„èŒƒå¼ï¼Œæ›´å—åˆ°æŠ€æœ¯èƒŒæ™¯äº§å“ç»ç†çš„é’çã€‚</p>






















































<table><thead><tr><th/><th>Kiro vibe coding</th><th>Trae Solo builder</th><th>Kiro spac coding</th><th>Trae Solo coder</th></tr></thead><tbody><tr><td>å¼€å‘é£æ ¼</td><td>ç”¨æˆ·ä¸»å¯¼</td><td>agentä¸»å¯¼</td><td>ç”¨æˆ·ä¸»å¯¼</td><td>agentä¸»å¯¼</td></tr><tr><td>æ–‡æ¡£ç±»å‹</td><td>/</td><td>/</td><td>äº§å“ç»ç†--ç”¨æˆ·æ•…äº‹</td><td>é¡¹ç›®ç»ç†</td></tr><tr><td>å·¥ä½œæµ</td><td>äº¤äº’å¼€å‘</td><td>å…¨æµç¨‹ç®¡ç†</td><td>éœ€æ±‚æ¾„æ¸…-è®¾è®¡-æµ‹è¯•</td><td>å¼€å‘è®¡åˆ’-æ‰§è¡Œç”Ÿæˆ</td></tr><tr><td>æ¨¡å‹</td><td>claude</td><td>Grokã€Geminiã€kimi</td><td>claude</td><td>Geminiã€kimi</td></tr><tr><td>ç‰¹è‰²</td><td>äº¤äº’è¿½é—®ï¼Œæœ‰åŠ©äºæ¢³ç†ã€<strong>æ˜ç¡®éœ€æ±‚</strong></td><td><strong>å…¨æµç¨‹ç®¡ç†</strong>ã€‚åŒ…å«å‰æœŸäº¤äº’åˆ°åæœŸéƒ¨ç½²ä¸Šçº¿ï¼Œå°ç™½å‹å¥½</td><td>æ”¯æŒvibe codingè½¬åŒ–ä¸ºspac codingï¼›<strong>å·¥ä½œæµ</strong> <strong>æ˜ç¡®</strong>ï¼Œä¿è¯è¾“å‡ºçš„ç¨³å®šæ€§ä¸€è‡´æ€§</td><td><strong>è¿‘ä¹å®ç°0ä»£ç ã€‚</strong> åˆ›é€ åŠ›æ›´å¼ºï¼Œå¯¹æœ‰åˆ›æ„çš„éå¼€å‘è€…èƒ½æä¾›æ›´å¼ºå¤§æ”¯æŒ</td></tr><tr><td>é€‚ç”¨äº</td><td>ä¸»è§‚èƒ½åŠ¨æ€§å¼ºã€æ¢ç´¢æ€§ï¼Œç®€å•é¡¹ç›®å¼€å‘</td><td>ideaå¿«é€Ÿè½åœ°éªŒè¯ï¼Œäº§å“demoå¿«é€Ÿå®ç°</td><td>å·¥ç¨‹åŒ–é¡¹ç›®è¿­ä»£ï¼›éœ€æ±‚æ˜ç¡®çš„äº§å“å¼€å‘</td><td>éç²¾å‡†å®ç°æ–¹å¼ï¼Œä½†æ˜ç¡®ç›®çš„é¡¹ç›®å¼€å‘</td></tr></tbody></table>
<p>kiroæ˜¯äºšé©¬é€Šå‡ºå“çš„AI é©±åŠ¨ IDEï¼Œç•Œé¢é£æ ¼ä¸»è‰²è°ƒä¸ºç´«è‰²ã€‚aiå¯¹è¯æ ·å¼ä¸ºå³ä¸Šè§’çš„å¯¹è¯æ¡†ï¼Œæ”¯æŒå·¦å³åŒä¾§è°ƒç”¨ï¼Œæ•´ä½“å¸ƒå±€ä¸ä¼ ç»ŸIDEæœ‰ä¸€äº›åŒºåˆ«ã€‚</p>
<p>kiroåœ¨æ”¯æŒæ¨¡å‹ä¸Šä¼˜åŠ¿æ˜¯æ”¯æŒclaude 4.5ã€‚æ–°ç”¨æˆ·æ³¨å†Œé€500ä¿¡ç”¨å€¼ï¼Œç›¸å½“äºå¯¹è¯tokençš„æŠ˜ç®—ï¼Œä¸åŒæ¨¡å‹å¯¹åº”creditä¸åŒã€‚å®è·µéªŒè¯å¯çŸ¥ï¼Œä¸€ä¸ªç®€å•çš„ç½‘ç«™å¼€å‘ä½¿ç”¨20-70å·¦å³ã€‚ä½†æƒ³è¦åŸºäºé•¿ä¸Šä¸‹æ–‡å¤æ‚å¼€å‘æ¶ˆè€—åå¤§ã€‚</p>
<p>aiå¯¹è¯æ é‡ŒåŒæ ·æ”¯æŒä¸‰ä¸ªå®ç”¨åŠŸèƒ½ï¼šé€šè¿‡<code>#</code>å¼•ç”¨å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ã€æ–‡æœ¬ç­‰ï¼›ä¸Šä¼ å›¾ç‰‡äº¤äº’ï¼›é›†æˆ<code>å†…å®¹ä½¿ç”¨ç‡ï¼ˆåœ†ç¯ï¼‰</code>ï¼Œå½“ä¸Šä¸‹æ–‡è¿‡é•¿æ—¶ï¼ˆè¶…è¿‡80%ï¼‰ï¼Œå·¥å…·ä¼šè‡ªåŠ¨æ€»ç»“å‹ç¼©ï¼Œé€šå¸¸å‹ç¼©åˆ°20%å·¦å³ï¼Œä»¥æ­¤å®ç°å¯¹è¯å¼€å‘çš„æŒç»­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0b6e8f97af04f58978c17b5252ef75e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=82vJ6GeGB0XvaJCAdHHLRVE3d3k%3D" alt="" loading="lazy"/></p>
<p>ä¸åŒäºå…¶ä»–ç±»å‹çš„aiè¾…åŠ©ç¼–ç¨‹IDEï¼ŒKiroæ›´åå‘äºå·¥ç¨‹åŒ–å®è·µå’Œäº§å“å¼€å‘ã€‚åˆ†ä¸ºvibe codingå’Œspec codingä¸¤ç§æ¨¡å¼ï¼š</p>
<ul>
<li>åªæœ‰ideaçš„æ—¶å€™å»ºè®®ä½¿ç”¨**<code>Vibe Coding</code>**æ¨¡å¼ï¼Œå¿«é€Ÿäº§å‡ºå¯ç”¨äº§å“ï¼›</li>
<li>æœ‰äº§å“demoæ—¶ï¼Œå¯ä»¥ä½¿ç”¨**<code>Spec Coding</code>**æ¨¡å¼ï¼Œèšç„¦è¿­ä»£ä¼˜åŒ–å’Œè½åœ°ã€‚</li>
</ul>
<p><strong>ä¸ªäººæˆæœå±•ç¤ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhufu-web.netlify.app%2F" target="_blank" title="https://zhufu-web.netlify.app/" ref="nofollow noopener noreferrer">My Trae Project</a></strong></p>
<h2 data-id="heading-1">Vibe coding based on kiro</h2>
<ol>
<li>
<h3 data-id="heading-2"><strong>åˆå§‹äº¤äº’</strong></h3>
</li>
</ol>
<p>ç‚¹å‡»å·¦ä¸Šè§’æ–‡ä»¶å¤¹ï¼Œæ–°å»ºæˆ–æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ã€‚ä¹‹åè¾“å…¥æç¤ºè¯ï¼Œå¼€å§‹å’ŒKiroå¯¹è¯ã€‚</p>
<p>æ³¨æ„ï¼Œå¦‚æœå…ˆå¯¹è¯ï¼Œkiroä¼šè®©ä½ æ‰“å¼€æ–‡ä»¶å¤¹åç»§ç»­äº¤æµã€‚ä½†æ‰“å¼€åæ–‡ä»¶å¤¹åä¼šæ˜¯æ–°å¯¹è¯ï¼Œæ‰€ä»¥æ­¤æ­¥æ³¨æ„è¦<strong>å…ˆæ–°å»º/æ‰“å¼€æ–‡ä»¶å¤¹</strong>ã€‚</p>
<p>å¯¹è¯æ¡†ä¸­è¾“å…¥æç¤ºè¯ï¼Œå°½å¯èƒ½å®Œå–„çš„æè¿°éœ€æ±‚ã€‚Vibeæ¨¡å¼ä¼šä¼˜å…ˆæ„å»ºå¯å®ç°æ€è·¯ï¼Œé€šè¿‡äº¤äº’è§£å†³ä¸ç¡®å®šæ€§ï¼Œç»™å‡ºé€‰é¡¹å¸®åŠ©ç”¨æˆ·æ˜ç¡®å®ç°è·¯å¾„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbde92f7a4744576996631b3d9fa141c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=pLH%2Fbvm9jitKPvNTB6mUuSG7V0E%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4436ac21fe48448c8f62e4843dd393db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=qmJ1OTwgzSPKrOegq9z2kPlH7MI%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æç¤ºè¯ï¼š</p>
<p>ä½ æ˜¯ä¸€ä¸ªèµ„æ·±è½¯ä»¶äº§å“ç»ç†ã€‚</p>
<p>æˆ‘ç°åœ¨åœ¨è®¾è®¡ä¸€ä¸ªç½‘ç«™ã€‚åŠŸèƒ½æ˜¯ç”¨æˆ·è¾“å…¥å¯¹åº”çš„äººï¼Œæ¯”å¦‚è¯´çˆ¶æ¯ï¼Œå¯¼å¸ˆç­‰ï¼Œå¯ä»¥è‡ªåŠ¨ç”Ÿæˆæ–°å¹´ç¥ç¦è¯ã€‚</p>
<p>æˆ‘æƒ³å’Œä½ ä¸€èµ·è¿›è¡Œäº¤äº’è®¾è®¡ã€‚æ•´ä½“çš„é¡µé¢é£æ ¼æˆ‘å¸Œæœ›æ•´æ´ï¼Œç§‘æŠ€æ„Ÿå¼ºä¸€äº›ï¼Œç„¶åæœ‰å¯¹åº”çš„äº¤äº’åŠ¨ç”»ï¼Œåˆ‡æ¢ä¸æ»‘ã€‚</p>
<p>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘æ²¡æœ‰å¤ªå¤šç½‘ç«™éƒ¨ç½²çš„ç»éªŒå’Œè®¾è®¡ç»éªŒï¼Œæˆ‘å¸Œæœ›ä½ èƒ½ä¸€æ­¥ä¸€æ­¥æ¥å¸¦æˆ‘åšã€‚æ–‡ä»¶å¤¹å·²ç»å¸®ä½ æ‰“å¼€äº†ï¼Œå¼€å§‹ï¼Ÿ</p>
</blockquote>
<ol start="2">
<li>
<h3 data-id="heading-3"><strong>å¼€å‘æ‰§è¡Œ</strong></h3>
</li>
</ol>
<p>æ™ºèƒ½ä½“å¼€å‘æ¨¡å¼æ—¶ï¼ˆé»˜è®¤ï¼‰ï¼Œä¼šå¼¹å‡ºå‘½ä»¤è¿è¡ŒæŒ‡ä»¤ï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨æ“ä½œã€‚å¯<code>å–æ¶ˆ</code>ï¼Œ<code>ä¿¡ä»»æ­¤å‘½ä»¤å¹¶è¿è¡Œ</code>ï¼Œ<code>ç›´æ¥è¿è¡Œ</code>ï¼š</p>
<p>å¯¹äºç®€å•å‘½ä»¤å¯ç›´æ¥â€œtrustâ€ï¼Œé¿å…é‡å¤å·¥ä½œ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/011c9c45fa7b446ebd2af5551cb81c22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=1Yd4TrnrWKUMdBkYciYd4Xjal94%3D" alt="" loading="lazy"/></p>
<p><code>trustï¼š</code>ç‚¹å‡»ç´«æ¡†åï¼Œç‚¹å‡»â€æ‰“å¼€è®¾ç½®â€œï¼Œæ·»åŠ å‘½ä»¤ç™½åå•ï¼ˆagentä¼šè‡ªåŠ¨æ·»åŠ ï¼‰åï¼Œå³å¯è‡ªåŠ¨ç»§ç»­è¿è¡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2871b2dd3c6f49b4b39509ac36d55600~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=SOgJbMPyf1u0t9ill%2Fj%2BvFi1f0E%3D" alt="" loading="lazy"/></p>
<p>å½“Kiroæ˜¾ç¤º<code>working</code>çŠ¶æ€æ—¶ä¼šè‡ªåŠ¨æ¨è¿›å¼€å‘ï¼Œä½†éƒ¨åˆ†åœºæ™¯ä¸‹åå°è¿›ç¨‹**<code>background process</code><strong>ä¼šéœ€è¦ç”¨æˆ·</strong>æ‰‹åŠ¨ç‚¹å‡»ç»§ç»­**ï¼ˆå³ä¾§ä¼šå‡ºç°å€’ä¸‰è§’æŒ‰é’®ï¼‰ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0a2de5199924ef8969c0ce00b3d3b3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=uTQ1bQQR9dJ3IuxxPJ5aysYS%2FuM%3D" alt="" loading="lazy"/></p>
<ol start="3">
<li>
<h3 data-id="heading-4"><strong>é¡µé¢ç”Ÿæˆ</strong></h3>
</li>
</ol>
<p>é€šè¿‡å®‰è£…åº“ã€ä¾èµ–ï¼Œäº¤äº’ï¼Œæµ‹è¯•åï¼Œé¡ºåˆ©ç”Ÿæˆç½‘ç«™ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9b5725de2ef426e8f1ac0eaa38bb7ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=aOlaBKcisHj3anaTi2%2Fnyfrhnyw%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e246646ee52482787bcc27f4fa92a05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=RumO7aXaivZC%2B9yZtWMvWLIzkis%3D" alt="" loading="lazy"/></p>
<p>ä¸ºå¿«é€ŸéªŒè¯äº¤äº’æµç¨‹ï¼ŒåˆæœŸDemoåœ¨ä»£ç é‡Œä¼šå†…ç½®å›ºå®šçš„ç¥ç¦è¯æ¨¡æ¿ã€‚é¡µé¢çš„é€»è¾‘æ²¡é—®é¢˜åï¼Œå¯ä»¥ä¸“å¿ƒé›†æˆapiã€‚</p>
<p>apiè·å–æ–¹å¼ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmcnlt2y27g43.feishu.cn%2Fwiki%2FG1hgw9mYzikBf6kfttTc18Knn7g%3FlarkTabName%3Dspace%23share-Wv0hdTCoToPdNmx5nbEcdw95nyg" target="_blank" title="https://mcnlt2y27g43.feishu.cn/wiki/G1hgw9mYzikBf6kfttTc18Knn7g?larkTabName=space#share-Wv0hdTCoToPdNmx5nbEcdw95nyg" ref="nofollow noopener noreferrer">æ™ºèƒ½ä½“ç»å…¸èŒƒå¼æ„å»º</a></p>
<ol start="4">
<li>
<h3 data-id="heading-5"><strong>api</strong> <strong>è°ƒç”¨</strong></h3>
</li>
</ol>
<p>ç›´æ¥åœ¨å¯¹è¯é‡Œå‘Šè¯‰kiroä½ è¦è°ƒç”¨çš„æ¨¡å‹ï¼Œå¹¶ç”Ÿæˆç¯å¢ƒå˜é‡<code>.env</code>ã€‚ç­‰å¾…å…¶åˆ›å»ºå®Œæˆåï¼Œå¡«å…¥apiå³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04f7f045d8734c0fae4802d4562d5576~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=ntgmx34QWZ%2BvWHy5tGKjlZ74nbc%3D" alt="" loading="lazy"/></p>
<p>æ‰‹åŠ¨æˆ–å‘ŠçŸ¥kiro<strong>æŠŠ</strong> <strong>ç¯å¢ƒå˜é‡</strong> <strong>æ·»åŠ åˆ°</strong> <strong><code>.gitignore</code></strong>ï¼Œé¿å…è¯¯æäº¤åˆ°Gitã€‚</p>
<ol start="5">
<li>
<h3 data-id="heading-6"><strong>æ·±åº¦ä¿®æ”¹</strong></h3>
</li>
</ol>
<p>å½“å‰ç”Ÿæˆçš„demoä¼šæ¯”è¾ƒç®€é™‹ï¼Œä¸€äº›æŒ‰é’®åŠŸèƒ½æ²¡åšå‡ºæ¥ï¼Œæˆ‘ä»¬å¯é€šè¿‡è¯­è¨€äº¤äº’æŠŠåé‡è¦çš„ä¿®æ”¹å…ˆåšå‡ºæ¥ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>è¿”å›æŒ‰é’®ï¼›</li>
<li>é€»è¾‘ä¸è‡ªæ´½çš„åœ°æ–¹ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd2c5f7ddad24454b450c6f0bc0eefe6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=vd1%2FMiHb8XfibBjAI6T%2B60w%2BKXs%3D" alt="" loading="lazy"/></p>
<p>ä¸€ç§å¸¸è§çš„kiroä½¿ç”¨æ–¹æ³•æ˜¯ï¼š<strong>vibeæ¨¡å¼ç”Ÿæˆ</strong> <strong>MVP</strong> <strong>åŸå‹--&gt;åˆ‡æ¢</strong> <strong>spac</strong> <strong>æ¨¡å¼å®Œæˆåç»­è¿­ä»£</strong></p>
<p>å› æ­¤ï¼Œä¸Šè¿°å¯¹åº”çš„ä¿®æ”¹åŒæ ·å¯ä»¥æ”¾åˆ°spacæ¨¡å¼è¿­ä»£ã€‚ä½†åŸºç¡€çš„é€»è¾‘é—®é¢˜æ”¾åˆ°vibeæ¨¡å¼äº¦å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c843251242b8479690e8468c27be4a12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=WMglDrq7bK05WBCCqkPg0mUdA38%3D" alt="" loading="lazy"/></p>
<p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬åŸºäº**<code>vibe coding</code>**æ¨¡å¼ç”Ÿæˆçš„å°ç½‘ç«™å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</p>
<h2 data-id="heading-7">Spac coding based on kiro</h2>
<p>**<code>Spac coding</code>**æ¨¡å¼ä¸vibeæ¨¡å¼æœ€å¤§çš„ä¸åŒåœ¨äºï¼ŒVibe æ¨¡å¼æ˜¯ç›´è§‰å¯¼å‘çš„è‡ªç”±å¯¹è¯å¼å¼€å‘ï¼ŒSpec æ¨¡å¼æ˜¯è§„èŒƒé©±åŠ¨çš„ç»“æ„åŒ–è§„åˆ’å¼å¼€å‘ã€‚ç®€å•æ¥è¯´ï¼š</p>
<ul>
<li>Vibe æ¨¡å¼åƒèŠå¤©ä¸€æ ·ç›´æ¥ä¸‹è¾¾éœ€æ±‚ï¼Œkiroä¼šå³æ—¶æ‰§è¡Œï¼›</li>
<li>Spec æ¨¡å¼éœ€å…ˆæ˜ç¡®è§„èŒƒï¼Œè¾“å…¥éœ€è¦æ›´åŠ å®Œå–„ã€‚åŒ…æ‹¬é¡µé¢æœ‰ä»€ä¹ˆï¼Œé€»è¾‘å…³ç³»ç­‰ç­‰ã€‚ç”šè‡³ç›´æ¥æŠŠvibeå¼€å‘çš„é¡¹ç›®åŒ…ä¸¢è¿›å»ã€‚éšåspacæ¨¡å¼ä¼šé€šè¿‡ç»“æ„åŒ–æ–‡æ¡£å›ºåŒ–éœ€æ±‚ã€è®¾è®¡å’Œä»»åŠ¡ï¼Œå†æ¨è¿›å¼€å‘ã€‚</li>
</ul>
<p>æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«å°è¯•ä¸¤ç§æ–¹å¼ä½¿ç”¨spacæ¨¡å¼å®Œæˆå¹¶å®Œå–„æ–°å¹´ç¥è¯å°ç½‘ç«™ã€‚</p>
<ol>
<li>
<h3 data-id="heading-8">vibe æ¨¡å¼ç»§æ‰¿å¼€å‘</h3>
</li>
</ol>
<p><strong>ï¼ˆ1ï¼‰æ¨¡å¼è½¬æ¢</strong></p>
<ul>
<li><strong>è‡ªåŠ¨è½¬æ¢ï¼š</strong> å½“æˆ‘ä»¬è¾“å…¥è¯ä¸­å¯èƒ½åŒ…å«ï¼ˆéœ€æ±‚æ–‡æ¡£ï¼Œæ–°å¼€å‘ï¼Œè¿­ä»£ç­‰ç­‰ï¼‰ï¼Œkiroä¼šè‡ªåŠ¨åˆ†ææˆ‘ä»¬æƒ³è¦è¿›è¡Œè§„èŒƒåŒ–å¼€å‘ï¼Œä»è€Œè½¬å‘spacæ¨¡å¼ã€‚æ­¤æ—¶åœ¨é¡µé¢ä¸­ç‚¹å‡»<code>Yes</code>å³å¯è½¬æ¢æ¨¡å¼ã€‚</li>
<li><strong>æ‰‹åŠ¨è½¬æ¢ï¼š</strong> ç›´æ¥åœ¨å¯¹è¯é¡µé¢æ–°å»º Spec æ¨¡å¼å¯¹è¯ï¼Œå¯¼å…¥ Vibe æ¨¡å¼å¼€å‘çš„é¡¹ç›®åŒ…ï¼Œå»¶ç»­å¼€å‘æµç¨‹ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64838b7436534092a22d37b85e8282ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=FGFTnF6qWsFBsUQgHnhicVlY0Fc%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æç¤ºè¯ï¼š</p>
<p>å‡è®¾ç°åœ¨ä½ æ˜¯äº§å“ç»ç†ã€‚ç°åœ¨å¸®æˆ‘ç”Ÿæˆè¯¥ç½‘ç«™çš„éœ€æ±‚æ–‡æ¡£ï¼Œæˆ–è€…æ˜¯é€»è¾‘æ–‡æ¡£ã€‚æˆ‘äº¤ç»™å…¶ä»–å¼€å‘åŒäº‹å»åšã€‚</p>
<p>æ³¨æ„ï¼šå†…å®¹ä¸è¦å¤ªå¤šï¼Œä¸è¦åˆ†ç‚¹ï¼Œç®€å•æè¿°å†…å®¹ã€é€»è¾‘å…³ç³»ã€è®¾è®¡é£æ ¼å³å¯</p>
</blockquote>
<p><strong>ï¼ˆ2ï¼‰ç‰ˆæœ¬è¿­ä»£</strong></p>
<p>åœ¨spacæ¨¡å¼ä¸‹ï¼Œæ›´æ–°ç”Ÿæˆæ–°æ¨¡å—éœ€è¦æ›´ç»“æ„åŒ–çš„æè¿°æ‰æœ‰åŠ©äºå¼€å‘ã€‚</p>
<blockquote>
<p>æç¤ºè¯ï¼š</p>
<p>æˆ‘ç°åœ¨éœ€è¦å¼€å‘ä¸€ä¸ªæ–°åŠŸèƒ½ï¼šâ€œä¸»é¢˜â€åŠŸèƒ½ã€‚</p>
<p>èƒŒæ™¯ï¼šè€ƒè™‘åˆ°ç›´æ¥ç”Ÿæˆç¥ç¦è¯å¤ªå®½æ³›ï¼Œå®¹æ˜“è¢«è¯¯è§£ä¸ºç¾¤å‘ï¼Œå› æ­¤éœ€è¦æ–°å¢è¯¥åŠŸèƒ½ï¼Œäº†è§£ç”¨æˆ·èƒŒåæ•…äº‹ã€‚</p>
<p>ç¤ºä¾‹ï¼šä¸ºæè€å¸ˆç”Ÿæˆç¥ç¦è¯ï¼Œä¸»é¢˜ï¼šæ„Ÿè°¢æŒ‡å¯¼è®ºæ–‡ï¼Œæ„Ÿè°¢å¸®æˆ‘æä¾›æ‰¾å·¥ä½œçš„æ€è·¯ã€‚</p>
<p>è®¾è®¡ï¼šç±»ä¼¼äºè‡ªå®šä¹‰å…³ç³»çš„çš„æ–‡æœ¬æ¡†ï¼ŒåŒæ ·ä¸ºéå¿…å¡«ã€‚</p>
<p>ç”Ÿæˆï¼šæœ€åç”Ÿæˆå†…å®¹äº¤ç»™å¤§æ¨¡å‹ï¼Œå…³æ³¨ä¸»é¢˜å’Œå¯¹è±¡æ¥ç”Ÿæˆç¥ç¦è¯­ã€‚</p>
<p>è°ƒç”¨ä½ çš„spacå·¥ä½œæµï¼Œå¸®æˆ‘å®Œæˆå¼€å‘å·¥ä½œ</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57ade833af51459d8cdbe5c6403293b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=gQMNJ%2BC%2BkO67BSUBCUB79c64fN8%3D" alt="" loading="lazy"/></p>
<p>è¯¥æ¨¡å¼ä¸‹ä¼šç”Ÿæˆ<code>requestments</code>,<code>design</code>,<code>task list</code>å·¥ä½œæµå¯¹åº”çš„æ ¸å¿ƒæ–‡æ¡£ï¼Œé€æ­¥å®Œæˆå¼€å‘ã€‚è¯·é¦–å…ˆç¡®å®šéœ€æ±‚<code>requestments</code>æ˜¯å¦æœ‰é—æ¼æˆ–é€»è¾‘é—®é¢˜ã€‚</p>
<p><strong>ï¼ˆ3ï¼‰è®¾è®¡é˜¶æ®µ</strong></p>
<p>éœ€æ±‚æ¾„æ¸…åï¼Œç‚¹å‡»move to design phase è½¬åˆ°è®¾è®¡é˜¶æ®µã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0cb9ee532f0a47eb99e350430c95354b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=SuR5kaK0gvalWVrd%2Fcpgu7ztTc4%3D" alt="" loading="lazy"/></p>
<p>è®¾è®¡æ–‡æ¡£ç”Ÿæˆåï¼Œæ£€æŸ¥ï¼ˆè¯¥æ–‡æ¡£åä¸“ä¸šä¸€äº›ï¼Œå»ºè®®ç›´æ¥è·³è¿‡åˆ°ä¸‹ä¸€é˜¶æ®µï¼‰ï¼Œè‹¥æ— é—®é¢˜ç‚¹å‡»å³ä¸‹è§’è¿›åˆ°æµ‹è¯•é˜¶æ®µã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87883fdaaf3c455bb250ceabed72ed77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=DBMqM8mluFs4Dw%2BmGeBHFkmxf%2BQ%3D" alt="" loading="lazy"/></p>
<p><strong>ï¼ˆ4ï¼‰æµ‹è¯•é˜¶æ®µ</strong></p>
<p>é€šå¸¸ä¼šç»™å‡ºå…¨é¢æµ‹è¯•å’Œå¿…è¦æ€§æµ‹è¯•ã€‚æ ¹æ®ä»»åŠ¡å¼ºåº¦è‡ªé€‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3696f18740847c794c5662e97ae9d3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=kNDhp3KRWmtQAy%2Ber1yefka7N9E%3D" alt="" loading="lazy"/></p>
<p>æµ‹è¯•å¯ä»¥ä½¿ç”¨run all tasksï¼ˆé€‚ç”¨äºå®Œå…¨æµ‹è¯•ï¼‰,æˆ–è€…kiroå¯¹è¯æ¡†äº¤äº’ä¸€ä¸ªä¸€ä¸ªæ¥æµ‹è¯•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9ce791926644cf8bad64aaba785e9d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=5S%2BynMyUJtFp7HX87jnodS2hgmo%3D" alt="" loading="lazy"/></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæµ‹è¯•é€šå¸¸è€—æ—¶è¾ƒé•¿ï¼Œè€—è´¹creditè¾ƒå¤šï¼Œè¿‡ç¨‹ä¸­æ–°å¢æå¤šæµ‹è¯•æ–‡ä»¶ï¼ŒæŠ¥é”™é‡æµ‹æ¦‚ç‡é«˜ã€‚å¦‚è‹¥ç®€å•ä»»åŠ¡æˆ–ä¸æ¶‰åŠæ¨¡å‹è°ƒç”¨ï¼Œå»ºè®®ç®€å•æµ‹è¯•å³å¯ã€‚</p>
<blockquote>
<p><strong>tipsï¼š</strong> task list ä¸­ä¼šå®æ—¶æ˜¾ç¤ºæµ‹è¯•è¿›åº¦ï¼šå®Œæˆåç”¨ç»¿è‰²æ ‡æ³¨ï¼Œè¿›è¡Œä¸­ä¸ºè“è‰²ï¼Œæœªæµ‹è¯•ä¸ºç°è‰²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90c4866c34ae4cb9a6ee7c3a88757fbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=mwmSrK0wTyE6GkykesHEbcqc8KU%3D" alt="" loading="lazy"/></p>
</blockquote>
<p><strong>ï¼ˆ5ï¼‰åç»­ä¼˜åŒ–</strong></p>
<p>å®Œæˆåæ‰“å¼€ç½‘ç«™å®æµ‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29e66da6892a424596fe6b3e7efffa18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=YyhWUlGHtHzAlTG5YLeuaDDcfjE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/695b84dddb704706abf167e98d494e83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=BjhRgpEBdHjQ5iMhpJQEcUxFzwM%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce20c141b13143459a55ebf1a13a056e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=Ccyp64I3XQuGNJ%2B%2BfVwaqfuPRaY%3D" alt="" loading="lazy"/></p>
<p>æµ‹è¯•æ­£å¸¸åï¼Œæ¸…é™¤ä¸å¿…è¦çš„æ–‡ä»¶ï¼Œäº¤ç»™kiroè‡ªåŠ¨è§£å†³ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc10b3c90e72463eb8c9716023889c79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=3Xp3cJpCGKWK1y470%2FmGkPSRn0s%3D" alt="" loading="lazy"/></p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„ç½‘ç«™å¼€å‘é¡ºåˆ©å®Œæˆã€‚</p>
<ol start="2">
<li>
<h3 data-id="heading-9">ä¸¥è°¨è¾“å…¥å¼€å‘</h3>
</li>
</ol>
<p>åœ¨å‰æ–‡ï¼Œæˆ‘ä»¬åŸºäºvibeæ¨¡å¼å°†æˆ‘ä»¬çš„ç®€å•æ„å›¾å®ç°ä¸ºå¯ç”¨demoï¼Œä¹‹åé€šè¿‡è½¬ä¸ºspacæ¨¡å¼ï¼Œé€šè¿‡å…¶<strong>éœ€æ±‚--è®¾è®¡--æµ‹è¯•</strong>å·¥ä½œæµï¼Œå®Œæˆäº†æ›´æ–°è¿­ä»£ã€‚</p>
<p>é™¤äº†ç»§æ‰¿ Vibe æ¨¡å¼æˆæœï¼ŒSpec æ¨¡å¼ä¹Ÿæ”¯æŒç›´æ¥å¯¼å…¥ PRDå¯åŠ¨å¼€å‘ã€‚åœ¨æœ¬èŠ‚ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ä¸Šä¸€èŠ‚å¼€å‘çš„ç½‘ç«™ï¼Œç”¨kiroç”Ÿæˆç›¸åº”çš„PRDã€‚éšåå¤åˆ¶ç»™spac codingç›´æ¥å¼€å‘ã€‚<strong>åç»­æµç¨‹åŒç»§æ‰¿å¼å¼€å‘</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e6819ea83ea45ca8a85acef22993b6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=v6AHCrZbWb%2BoBuxbDW2cECFQxwI%3D" alt="" loading="lazy"/></p>
<p>ç”Ÿæˆç®€å•ã€é€»è¾‘è‡ªæ´½ã€ä¸åˆ†ç‚¹çš„PRDå³å¯ã€‚æ— éœ€è¿‡åº¦å†—ä½™å†…å®¹</p>
<h2 data-id="heading-10">Kiro Summary</h2>
<ul>
<li><strong>Vibe æ¨¡å¼ä¼˜åŠ¿ï¼š</strong> é€šè¿‡å¯¹è¯æ¢³ç†æ¨¡ç³Šéœ€æ±‚ï¼Œ<strong>å¿«é€Ÿäº§å‡º</strong> <strong>MVP</strong>ï¼Œé€æ­¥å®Œæˆå¼€å‘ã€‚ä½†å…¶<strong>æµ‹è¯•çš„ç¼ºå¤±</strong>ä¼šå¯¼è‡´æŠ¥é”™é¢‘ç¹ã€‚</li>
<li><strong>Spec</strong> <strong>æ¨¡å¼ä¼˜åŠ¿ï¼š</strong> é€šè¿‡ â€œéœ€æ±‚ - è®¾è®¡ - æµ‹è¯•â€ ä¸‰æ­¥å·¥ä½œæµï¼Œ<strong>è¾“å‡ºçš„å†…å®¹ç¨³å®šå¯é </strong>ã€‚ä½†å•ç‹¬ä½¿ç”¨spacæ¨¡å¼ä¼šæ˜¾è‘—æŠŠé—®é¢˜å¤æ‚åŒ–ï¼Œç›´æ¥å¯¼å…¥ PRDå°±ä¼šéƒ¨ç½²å‡º<strong>åŠŸèƒ½è¿‡åº¦å†—ä½™ã€æµ‹è¯•æµç¨‹ç¹ç</strong>çš„äº§å“ã€‚ä¸”å‰æœŸè‡ªåŠ¨ç”Ÿæˆè¿‡å¤šå¯¼è‡´åæœŸä¿®æ”¹ç©ºé—´å°ï¼Œæ›´åŠ ä¸å¯æ§ï¼Œå¯¹æ–°æ‰‹å‹å¥½åº¦ä½ã€‚</li>
</ul>
<p><strong>ç»¼åˆæ¥çœ‹ï¼š</strong></p>
<ul>
<li>å¯¹äºä¸€ä¸ªä¸æ˜ç¡®æˆ–è€…åæ¨¡ç³Šçš„ideaï¼Œå»ºè®®ä½¿ç”¨vibeæ¨¡å¼å…ˆæ¾„æ¸…éœ€æ±‚ï¼Œäº§å‡ºmvpåè½¬åˆ°spacå¼€å‘è¿­ä»£ã€‚</li>
<li>æ˜ç¡®çš„éœ€æ±‚å¯ä»¥ç”¨spacï¼Œä½†è¦æ±‚ä½¿ç”¨è€…æ˜ç¡®äº§å“å¼€å‘çš„å…¨æµç¨‹ï¼ŒåŒ…æ‹¬åæœŸéƒ¨ç½²ã€æ€§èƒ½æµ‹è¯•ç­‰ï¼Œä»äº§å“ç»ç†çš„è§’è‰²å…¼é¡¾é¡¹ç›®ç»ç†çš„è§’è‰²---<strong>è¿™ç‚¹æ˜¯kiroä½¿ç”¨ä¸­å¸¸è§çš„è¯¯åŒºã€‚å¦‚æœä¸å…·å¤‡ä¸“ä¸šçŸ¥è¯†å‚¨å¤‡ï¼Œä¸åœ¨å‰æœŸå¤šä»‹å…¥äº¤æµï¼ŒåæœŸå¾ˆå¯èƒ½è¢«agentç‰µç€é¼»å­èµ°ï¼Œéš¾ä¿®æ”¹ã€‚</strong></li>
<li>å¯¹äºéä¸“ä¸šå¼€å‘äººå£«ï¼Œæˆ–åªæƒ³æ‰‹æ“ä¸€äº›å¯ç”¨å°ç©å…·çš„ç”¨æˆ·æ¥è¯´ï¼Œæ— è®ºéœ€æ±‚æ˜ç¡®ä¸å¦ï¼Œ<strong>vibeæ¨¡å¼å…¥æ‰‹å¤šä»‹å…¥ï¼Œå†è½¬</strong> <strong>spac</strong> <strong>å¼€å‘è¿­ä»£å°æ¨¡å—</strong>ï¼Œå¯èƒ½ä»æ˜¯æœ€ä¼˜è§£ã€‚</li>
</ul>
<h2 data-id="heading-11">Vibe coding based on SOLO <strong>Builder</strong></h2>
<p>Trae Solo æ˜¯å­—èŠ‚ç³» AI å¼€å‘å·¥å…·ï¼Œ0119ç‰ˆæœ¬æ›´æ–°åï¼Œ<strong>TRAEå›½é™…ç‰ˆSOLOæ¨¡å¼</strong>ä¸‹çš„æ™ºèƒ½ä½“åŒ…å«**<code>SOLO Coder</code>**å’Œ <strong><code>SOLO Builder</code></strong>ã€‚</p>
<p>äºŒè€…æ ¸å¿ƒåŒºåˆ«åœ¨äºé€‚ç”¨åœºæ™¯ã€æ ¸å¿ƒèƒ½åŠ›ä¸åä½œæ¨¡å¼ï¼Œå‰è€…ä¾§é‡å¤æ‚é¡¹ç›® â€œä» 1 åˆ° 100â€ çš„è¿­ä»£é‡æ„ï¼Œåè€…ä¸“æ³¨ Web åº”ç”¨ â€œä» 0 åˆ° 1â€ çš„å¿«é€Ÿæ­å»ºï¼ŒäºŒè€…äº’è¡¥è¦†ç›–å…¨å¼€å‘æµç¨‹ã€‚</p>
<p><strong>--</strong>-<strong>æœ¬è´¨ä¸Šæ¥è¯´ï¼Œå’Œkiroæ˜¯ç±»ä¼¼çš„ï¼Œä½†aiä¼šä¸»å¯¼æ›´å¤š</strong>ã€‚</p>
<p>å¼€å‘å‰ï¼ŒåŠ å…¥ä¸€äº›æ™ºèƒ½ä½“è¾…åŠ©å¼€å‘ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Flcnziv86vkx6.feishu.cn%2Fwiki%2FS9jow8TyXiItiqklkLcc3ESYnph" target="_blank" title="https://lcnziv86vkx6.feishu.cn/wiki/S9jow8TyXiItiqklkLcc3ESYnph" ref="nofollow noopener noreferrer">[æœ€ä½³å®è·µ æµ·å¤–ç‰ˆ]8 ä¸ªæ”¯æŒä¸€é”®å¯¼å…¥ TRAE ä½¿ç”¨çš„è‡ªå®šä¹‰æ™ºèƒ½ä½“</a></p>



































<table><thead><tr><th/><th>Kiroï¼ˆVibe/Specï¼‰</th><th>TRAE SOLOï¼ˆBuilder/Coderï¼‰</th></tr></thead><tbody><tr><td><strong>è½»é‡æ¨¡å¼</strong></td><td>Vibeï¼šå¿«é€Ÿå¯¹è¯å¼ç¼–ç ï¼Œæ— å¼ºåˆ¶æ–‡æ¡£ï¼Œé€‚åˆåŸå‹ / æ¢ç´¢ / å°æ”¹ï¼Œè‡ªç”±çµæ´»</td><td>SOLO Builderï¼šè‡ªç„¶è¯­è¨€â†’è‡ªåŠ¨é€‰æ¨¡å‹â†’ç”Ÿæˆ PRDâ†’å‡ºå¯é¢„è§ˆæˆæœï¼Œä¸€é”®éƒ¨ç½²ï¼Œé¢å‘å¿«é€Ÿè½åœ°</td></tr><tr><td><strong>è§„èŒƒæ¨¡å¼</strong></td><td>Specï¼šå…ˆäº§å‡º requirements/design/tasks ä¸‰æ–‡æ¡£ï¼Œç»“æ„åŒ–è§„åˆ’åç¼–ç ï¼Œé€‚åˆå¤æ‚é¡¹ç›® / å›¢é˜Ÿåä½œï¼Œå¯è¿½æº¯å¯æ§</td><td>SOLO Coderï¼šéœ€æ±‚åˆ†æâ†’ä»»åŠ¡è§„åˆ’â†’å¤šæ™ºèƒ½ä½“ç¼–æ’â†’è¿­ä»£é‡æ„ï¼Œé€‚åˆå·²æœ‰ä»£ç è¿­ä»£ / æ¶æ„ä¼˜åŒ–ï¼Œæ”¯æŒäººå·¥ä»‹å…¥</td></tr><tr><td><strong>è®¾è®¡ç†å¿µ</strong></td><td>ä» â€œvibe codingâ€ åˆ° â€œviable codeâ€ï¼Œè¦†ç›–åˆ›æ„åˆ°å·¥ç¨‹åŒ–å…¨æµç¨‹</td><td>ä» â€œ0 åˆ° 1 å¿«é€Ÿæ­å»ºâ€ åˆ° â€œ1 åˆ° 100 æ·±åº¦å¼€å‘â€ï¼Œäº’è¡¥è¦†ç›–åŸå‹åˆ°æˆç†Ÿäº§å“</td></tr><tr><td><strong>å·¥å…·å®šä½</strong></td><td>AI é©±åŠ¨ IDEï¼Œä¾§é‡ç¼–ç ç¯å¢ƒå†…çš„å¼€å‘åä½œ</td><td>TRAE å¹³å°çš„æ™ºèƒ½ä½“ï¼Œä¾§é‡å…¨æµç¨‹ä»»åŠ¡é—­ç¯ä¸æ™ºèƒ½ä½“ååŒ</td></tr><tr><td>äºŒè€…å·®å¼‚</td><td><strong>æµç¨‹ä¸Šï¼š</strong> Kiro Specå¼ºåˆ¶ç”Ÿæˆä¸‰æ–‡æ¡£ï¼ˆéœ€æ±‚ / è®¾è®¡ / ä»»åŠ¡ï¼‰ï¼ŒSOLO Coderï¼šè‡ªä¸»ç¼–æ’å¤šæ™ºèƒ½ä½“åˆ†å·¥ã€‚</td><td/></tr></tbody></table>
<ol>
<li>
<h3 data-id="heading-12"><strong>ä¸»é¡µé¢ä»‹ç»</strong></h3>
</li>
</ol>
<p>ç›¸è¾ƒäºkiroï¼Œtraeçš„å¯è§†åŒ–ç•Œé¢å¸ƒå±€ä¼ ç»Ÿï¼Œæ¨¡å—ã€æŒ‰é’®æ›´å®Œå–„ã€‚å¯¹äºå›½å†…æ–°æ‰‹å¼€å‘è€…è€Œè¨€ï¼Œæ— è®ºæ˜¯CNç‰ˆè¿˜æ˜¯å›½é™…ç‰ˆï¼Œä¸­æ–‡çš„ä½¿ç”¨èƒ½å¤Ÿè´¯å½»å…¨æµç¨‹ï¼ˆå¯¹è¯ä¸­è‹±æ–‡ä¸å¦å’Œå–å†³äºæ­è½½æ¨¡å‹ï¼‰ã€‚è€Œkiroçš„ä¸­æ–‡è¯­è¨€è®¾å®šåªåœ¨çŠ¶æ€æ ç”Ÿæ•ˆã€‚</p>
<p>ç•Œé¢å·¦ä¾§ä¸ºä»»åŠ¡æ ï¼Œæ›´åƒæ˜¯å¸¸è§çš„å¤§æ¨¡å‹å¯¹è¯æ¨¡å¼ï¼Œå¯å¼€å¯å¤šä¸ªä»»åŠ¡ã€‚æ™ºèƒ½ä½“å¸ƒå±€åœ¨ä¸­é—´ï¼Œè¡¨æ˜äº†å…¶â€œaiä¸»å¯¼â€çš„å†³å¿ƒã€‚å³ä¸Šè§’çš„<code>å®æ—¶è·Ÿéš</code>å¯ä»¥é€æ˜åŒ–çœ‹åˆ°traeåœ¨ç¼–è¾‘å“ªäº›æ–‡æ¡£ã€‚</p>
<p>å¯¹è¯æ¡†é‡Œå’Œkiroç±»ä¼¼ï¼Œå¼€å§‹å¯¹è¯åä¹Ÿä¼šæœ‰ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡ã€‚<strong>æœ‰å¯¹è¯ä¼˜åŒ–åŠŸèƒ½</strong>ï¼Œå¸®åŠ©ç”¨æˆ·ä¼˜åŒ–æç¤ºè¯å¯¹è¯æ–‡æœ¬ç­‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90d447c1baf443cdb031ad4fc22020f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=%2BDJTF%2BSUIXgx%2BntaO5sZMZ6Mu8U%3D" alt="" loading="lazy"/></p>
<p>ä½¿ç”¨åŒæ ·çš„æç¤ºè¯ï¼Œäº¤ç»™builderã€‚åœ¨soloæ¨¡å¼ï¼Œé»˜è®¤æ¨¡å‹åªæœ‰Gemini 3å’Œkimi K2ã€‚æ­¤å¤„ä½¿ç”¨Gemini 3 proè¿›è¡Œå¼€å‘ã€‚</p>
<ol start="2">
<li>
<h3 data-id="heading-13"><strong>äº¤äº’ç”Ÿæˆdemo</strong></h3>
</li>
</ol>
<p><strong>builderæ¨¡å¼ä¹Ÿä¼šç”Ÿæˆç®€å•çš„</strong> <strong>PRD</strong>ï¼Œç›¸è¾ƒkiroçš„å·¥ç¨‹åŒ–æ–‡æ¡£ï¼Œæ›´åå‘äºä¸€ä¸ªCç«¯äº§å“ç»ç†çš„è¾“å‡ºé£æ ¼ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7d93f0ab72042148ee40d9f6dbb56ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=XNgRihk0pv%2Bp50o6MXySlbnjyvU%3D" alt="" loading="lazy"/></p>
<p>ç”ŸæˆPRDåæ›´å¤šçš„æ˜¯è¿”å›ç”¨æˆ·â€œæœ‰äº†ä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯è®¨è®ºè¯¦ç»†çš„ç»†èŠ‚ï¼Œç»™å‡ºçš„æ›´åƒä¸€ä¸ªæ±‡æŠ¥ã€‚</p>
<p>å¯¹äºæ¨¡ç³Šéœ€æ±‚çš„ç”¨æˆ·ä¼šçœå¿ƒï¼Œæ–¹ä¾¿å·æ‡’ã€‚ä½†æ²¡æœ‰æ·±å…¥äº¤äº’çš„ç”Ÿæˆï¼Œå¯¹ä¸€äº›åä¸¥è°¨ç»†è‡´çš„éœ€æ±‚è€…ä¼šæ›´â€œç´¯â€ï¼Œéœ€è¦ä¸»åŠ¨å»ä¿®æ”¹ã€‚</p>
<ol start="3">
<li>
<h3 data-id="heading-14"><strong>æˆæœåŠéƒ¨ç½²</strong></h3>
</li>
</ol>
<p>traeç”Ÿæˆç½‘å€åä¼šç»™å‡ºé¢„è§ˆï¼Œå¹¶é»˜è®¤verceléƒ¨ç½²é€‰é¡¹ã€‚åœ¨åº”ç”¨æ‹“å±•çš„ä¾¿æ·æ€§æ¯”kiroåšçš„å¥½ä¸€äº›ã€‚å…¨ç¨‹æ‰˜ç®¡å¯¹äºæ‡’äººæ¥è¯´çœäº‹å¾ˆå¤šã€‚<del>è€Œä¸”ç»è¿‡å¤šæ¬¡ç”Ÿæˆå¯¹æ¯”ï¼Œtraeç”Ÿæˆé¡µé¢çš„é£æ ¼ã€é¢œå€¼ç¡®å®ï¼ˆå¯èƒ½ï¼‰è¦é«˜ä¸€äº›ã€‚</del></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75edda8f25644743bbfcb650f1356633~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=%2FsrKvYMLYWhM9r9mZH31qdA0ruI%3D" alt="" loading="lazy"/></p>
<p>ä¸ºä¿è¯å¯¹æ¯”ä¸€è‡´æ€§ï¼Œæ·»åŠ ä¸€äº›åŠŸèƒ½ï¼š</p>
<blockquote>
<p>æç¤ºè¯ï¼š</p>
<p>1.æ–°å¢â€œç¼–è¾‘â€æŒ‰é’®ï¼Œä¸åªæœ‰å¤åˆ¶å’Œæ¢ä¸€å¥ï¼Œå…è®¸ç”Ÿæˆåç”¨æˆ·è‡ªå·±ç¼–è¾‘ã€‚</p>
<p>2.ç»™å‡ºä¸€ä¸ªç”¨æˆ·è¾“å…¥é€‰é¡¹ï¼Œè®©ç”¨æˆ·è‡ªå·±è¾“å…¥ç¥ç¦å¯¹è±¡ã€‚</p>
<p>3.æ‰“å¼€apiå¡«å†™é¡µé¢æˆ‘æ¥å¡«å†™ã€‚</p>
</blockquote>
<p>è¿”å›ç»“æœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed0a788b7af0419d91862e59d3a5d9a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=EEP%2BjQ%2BDgvl2sMarGRvA%2BrbkTco%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ddbb656eb8b46aaa524060984857403~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=%2FbDy%2BwpXi0GHvY7yi6UrcKC4tB0%3D" alt="" loading="lazy"/></p>
<p>æœ€ç»ˆç¬¬ä¸€ç‰ˆæœ¬æ›´æ–°å¦‚ä¸‹ã€‚é¢„è§ˆé¡µé¢æä¾›å…ƒç´ é€‰æ‹©å’Œæ›´æ”¹åŠŸèƒ½ï¼Œå¯ä»¥å¿«é€Ÿè¿›è¡Œå®šå‘è°ƒæ•´ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b187ae85b9f44cf1bf2de85760164de1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=r1E%2BIQEoyjSmCxCmKrPvQcHDMuE%3D" alt="" loading="lazy"/></p>
<p>æœ€åæµ‹è¯•èƒ½å¦è‡ªåŠ¨è½¬å…¥solo coderæ¨¡å¼ï¼Œå¤±è´¥ ã€‚åªèƒ½æ‰‹åŠ¨è½¬ã€‚è€Œä¸”åœ¨å¯¹è¯æ¡†ä¸­ç›´æ¥è½¬æ¨¡å¼å¹¶ä¸ä¼šå½±å“é£æ ¼ã€‚</p>
<ol start="4">
<li>
<h3 data-id="heading-15"><strong><code>SOLO coder</code></strong> <strong>æ¨¡å¼</strong> <strong>ç»§æ‰¿</strong> <strong>å¼€å‘</strong></h3>
</li>
</ol>
<p>åœ¨å·¦ä¾§ä»»åŠ¡æ æ–°å»ºä»»åŠ¡ï¼Œé€‰æ‹©coderæ¨¡å¼ç»§ç»­å¼€å‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ac83ac69cb34a199bd4e9d50bff92ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=P%2B7TLtlMd4L1fAhHrkRuxwAZJJI%3D" alt="" loading="lazy"/></p>
<p>åœ¨å¼€å¯planæ¨¡å¼ä¹‹å‰ï¼Œè¾“å‡ºå†…å®¹å¹¶æ— å·®å¼‚ã€‚ä¸»è¦å·®å¼‚åœ¨æ¨ç†è¿‡ç¨‹ã€‚</p>
<p>æœ€åç”Ÿæˆå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cd5c5379dc244dfaf05359a1402f72d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=9dDXINOI7kI34tL8Rm21kUymnpc%3D" alt="" loading="lazy"/></p>
<p>åŠŸèƒ½æè¿°ï¼š</p>
<hr/>
<blockquote>
<p>äº§å“æ¦‚è¿° æœ¬é¡¹ç›®æ˜¯ä¸€æ¬¾åŸºäº AI çš„æ™ºèƒ½ç¥ç¦è¯­ç”Ÿæˆå·¥å…·ï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·åœ¨ä¸åŒèŠ‚æ—¥å’Œç¤¾äº¤åœºæ™¯ä¸‹ï¼Œå¿«é€Ÿåˆ›ä½œå‡ºå¾—ä½“ã€ä¸ªæ€§åŒ–ä¸”å¯Œæœ‰æ–‡é‡‡çš„ç¥ç¦å†…å®¹ã€‚æ ¸å¿ƒä»·å€¼åœ¨äºè§£å†³ä¼ ç»Ÿæ¨¡æ¿åƒç¯‡ä¸€å¾‹çš„ç—›ç‚¹ï¼Œé€šè¿‡å¤šç»´åº¦çš„å‚æ•°é…ç½®ï¼Œè®© AI ç”ŸæˆçœŸæ­£ç¬¦åˆç”¨æˆ·å…·ä½“æƒ…å¢ƒçš„ä¸“å±æ–‡æ¡ˆã€‚</p>
<p>æ ¸å¿ƒé€»è¾‘ä¸åŠŸèƒ½ äº§å“çš„äº¤äº’é€»è¾‘å›´ç»•â€œå››ç»´é…ç½®â€å±•å¼€ï¼Œç”¨æˆ·ä¾æ¬¡ç¡®å®šå››ä¸ªå…³é”®å‚æ•°ï¼šèŠ‚æ—¥åœºæ™¯ï¼ˆå¦‚æ–°å¹´ã€ç”Ÿæ—¥ï¼Œå†³å®šäº† AI çš„åŸºç¡€äººè®¾ï¼‰ã€ç¥ç¦å¯¹è±¡ï¼ˆå¦‚çˆ¶æ¯ã€é¢†å¯¼ï¼Œå†³å®šäº†è¯­æ°”äº²ç–ï¼‰ã€è¯­è¨€é£æ ¼ï¼ˆå¦‚å¤é£ã€å¹½é»˜ï¼Œå†³å®šäº†è¡Œæ–‡æ ¼è°ƒï¼‰ä»¥åŠå…·ä½“ä¸»é¢˜ï¼ˆå¦‚â€œæ„Ÿè°¢ææ‹”â€ï¼Œç”¨äºæ³¨å…¥ä¸ªæ€§åŒ–èƒŒæ™¯ï¼‰ã€‚å‰ç«¯å°†è¿™äº›å‚æ•°åŠ¨æ€æ‹¼è£…æˆç»“æ„åŒ–çš„ Prompt å‘é€ç»™å¤§æ¨¡å‹ï¼Œç¡®ä¿ç”Ÿæˆå†…å®¹ç²¾å‡†å‘½ä¸­ç”¨æˆ·éœ€æ±‚ã€‚ç”Ÿæˆç»“æœé€šè¿‡å¼¹çª—å½¢å¼å±•ç¤ºï¼Œæ”¯æŒæ‰“å­—æœºåŠ¨æ•ˆä»¥å¢å¼ºäº¤äº’æ„Ÿï¼Œå¹¶æä¾›ä¸€é”®å¤åˆ¶ã€äºŒæ¬¡ç¼–è¾‘å’Œé‡æ–°ç”ŸæˆåŠŸèƒ½ï¼Œå½¢æˆäº†ä»é…ç½®åˆ°è·å–å†åˆ°ä¼˜åŒ–çš„å®Œæ•´é—­ç¯ã€‚</p>
<p>UI è®¾è®¡é£æ ¼ ç•Œé¢è®¾è®¡é‡‡ç”¨æå…·æœªæ¥æ„Ÿçš„èµ›åšæœ‹å…‹ä¸æ¯›ç»ç’ƒï¼ˆGlassmorphismï¼‰é£æ ¼ã€‚è§†è§‰ä¸Šä»¥æ·±è‰²èƒŒæ™¯ä¸ºä¸»åŸºè°ƒï¼Œæ­é…åŠé€æ˜çš„ç£¨ç ‚ç»ç’ƒå¡ç‰‡å®¹å™¨å’Œé«˜é¥±å’Œåº¦çš„éœ“è™¹å…‰æ•ˆï¼ˆè“ç´«è‰²ç³»ï¼‰ï¼Œè¥é€ å‡ºé«˜ç«¯ã€ç§‘æŠ€çš„æ°›å›´ã€‚äº¤äº’å±‚é¢å¼ºè°ƒæµç•…æ€§ï¼Œå¼¹çª—çš„ç¼©æ”¾å‡ºç°ã€æŒ‰é’®çš„å¾®äº¤äº’ä»¥åŠæ–‡å­—çš„é€å­—æ˜¾ç°ï¼Œå…±åŒæ„å»ºäº†æ²‰æµ¸å¼çš„ä½¿ç”¨ä½“éªŒã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-16"><strong>Spac</strong> <strong>coding based on SOLO</strong> <strong>coder</strong></h2>
<p>Coder æ¨¡å¼æ˜¯ Trae Solo çš„<strong>æ·±åº¦å¼€å‘æ¨¡å¼</strong>ï¼Œå¼€å¯<code>plan</code>åŠŸèƒ½åï¼Œå°†å±•ç°ä¸ Builder æ¨¡å¼çš„æ ¸å¿ƒå·®å¼‚ã€‚</p>
<p>å°†ä¸Šä¸€é˜¶æ®µç”Ÿæˆçš„PRDæ–‡æ¡£å¤åˆ¶å‘ç»™traeã€‚è®©å…¶è‡ªåŠ¨è§„åˆ’å¼€å‘ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55f9ee84516848578e3a4d3f70d0fdbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=7bj9ihxM0CorlJg%2BlNPhdo%2FuZ8A%3D" alt="" loading="lazy"/></p>
<p>ä¸kiroç±»ä¼¼ï¼Œplanæ¨¡å¼ä¸‹å·¥å…·ä¼šè‡ªåŠ¨ç”Ÿæˆ<strong>é¡¹ç›®ç®¡ç†è§†è§’çš„å¼€å‘è®¡åˆ’ä¹¦</strong>ï¼Œæ¶µç›–æŠ€æœ¯æ ˆé€‰å‹ã€å¼€å‘æ­¥éª¤è§„åˆ’ã€UI é£æ ¼å®šä¹‰ç­‰æ ¸å¿ƒå†…å®¹ï¼ŒåŒºåˆ«äº Kiro çš„å·¥ç¨‹åŒ–éœ€æ±‚æ–‡æ¡£ã€‚ç‚¹å‡» <strong>æ‰§è¡Œ</strong> è¿›åˆ°ä¸‹ä¸€æ­¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d83f0c63ead3442eaf858bf79ec01901~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=wQRvBuaNfC%2FY%2FQpNkencEI2VZyA%3D" alt="" loading="lazy"/></p>
<p>é€šå¸¸åœ¨è‡ªåŠ¨æ‰§è¡Œæ—¶ï¼Œå·¥å…·ä¼šå°†å¼€å‘ä»»åŠ¡æ‹†åˆ†ï¼Œåˆ†é…ç»™å¤šä¸ª Agent ååŒå®Œæˆã€‚å¼€å‘è¿‡ç¨‹ä¸­ï¼Œåœ¨ç»ˆç«¯orå¯¹è¯ç«¯éœ€è¦ç”¨æˆ·æ“ä½œï¼Œä½†ä¸ä¼šæç¤ºã€‚</p>
<p>æœ€ç»ˆç”Ÿæˆé¡µé¢å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6896be67fd33493c84f4db8a83b6aa38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-d5LiN5oqV5py65Y2K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674091&amp;x-signature=h5JfV1W%2BvaX7H4u5gthLlWRSVo0%3D" alt="" loading="lazy"/></p>
<p>ä¸builderæ¨¡å¼ä¸åŒï¼Œcoderæ¨¡å¼ç”Ÿæˆç½‘ç«™é»˜è®¤ä¸å¸®åŠ©ç”¨æˆ·éƒ¨ç½²ï¼Œä½†åŒæ ·åœ¨å³ä¸Šè§’æœ‰éƒ¨ç½²é€‰é¡¹ã€‚å¼€å‘æ•ˆæœä¹Ÿä¼šéšç€PRDçš„è¯¦ç»†ç¨‹åº¦å˜åŠ¨ã€‚</p>
<h2 data-id="heading-17">Trae Solo summary</h2>
<ul>
<li>æ€»ä½“æ¥è¯´ï¼ŒSoloæ¨¡å¼çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äº<strong>Agent å¼ºä¸»å¯¼æ€§</strong>ï¼Œä¸»å¯¼è®¾è®¡ã€å¼€å‘çš„æ„è¯†ï¼Œå¯¹ç®€å•ã€æ¨¡ç³Šéœ€æ±‚ç”¨æˆ·å¾ˆå‹å¥½ã€‚å¯è§†åŒ–ç•Œé¢ä¸ä¸€é”®éƒ¨ç½²åŠŸèƒ½å¤§å¹…é™ä½å¼€å‘é—¨æ§›ã€‚</li>
<li>è€Œbuilderæ¨¡å¼æ­£å¦‚å…¶å®£ä¼ çš„ <strong>â€œå…¨é“¾è·¯ååŒâ€</strong> ï¼Œä»ç®€å•çš„éœ€æ±‚ç¼–å†™åˆ°ä¸Šçº¿éƒ¨ç½²ï¼Œæ ¸å¿ƒæ˜¯å¸®åŠ©ç”¨æˆ· â€œä» 0 åˆ° 1â€ çš„åˆ›æ„è½åœ°ã€‚</li>
<li>å¦‚æœæ˜¯é«˜ç²¾å‡†é¡¹ç›®ï¼Œé™¤éç”¨æˆ·æ¸…æ¥šè‡ªå·±â€œè¦ä»€ä¹ˆâ€ï¼Œä¸ç„¶builderæ¨¡å¼è¾“å‡ºçš„æ¨¡ç³Šéœ€æ±‚æ–‡æ¡£å¸¦æ¥çš„ä¸ç¡®å®šæ€§ï¼Œå¯èƒ½ä¼šå¯¼è‡´åæœŸæ›´æ–°è¿­ä»£å›°éš¾ã€‚å³ä½¿æœ‰ä¸Šä¸‹æ–‡å‹ç¼©åŠŸèƒ½ï¼Œä¹Ÿä¼šç”±äºagentä¸»å¯¼çš„å¼€å‘æ€è·¯å¯¼è‡´ç”¨æˆ·éœ€æ±‚çš„å¿½ç•¥ã€‚æœ€ç»ˆå˜æˆä¸€ä¸ªæ™®é€šçš„å¯¹è¯agentã€‚</li>
<li>coderæ¨¡å¼åœ¨ä¸å¼€å¯planæ—¶è¾“å‡ºé£æ ¼ç»“æœç›¸è¿‘ä¸builderï¼ŒåŒæ ·çš„agentä¸»å¯¼ï¼Œå¯¹é¡¹ç›®æ‹†åˆ†è§„åˆ’ï¼Œè‡ªä¸»ä¿®bugï¼Œå¤šæ™ºèƒ½ä½“ååŒå¼€å‘ã€‚å¼€å¯planæ¨¡å¼åç»™å‡ºçš„æ–‡æ¡£ä¸åŒäºkiroçš„requestmentsï¼Œæ•´ä½“é£æ ¼æ›´åå‘äºé¡¹ç›®ç»ç†çš„è§’åº¦ï¼Œå¼€å‘æŠ€æœ¯æ ˆã€uié£æ ¼ã€æ­¥éª¤ç­‰ç­‰ï¼ŒåŒæ—¶æ­¤æ¨¡å¼ä¸‹ä¼šå°†ä»»åŠ¡æ‹†åˆ†äº¤ç»™å¤šä¸ªagentè‡ªä¸»å¼€å‘ï¼Œä¹Ÿä¼šå¯¼è‡´ç»“æœä¸æ¨¡å‹çš„é£æ ¼ï¼Œèƒ½åŠ›æ›´ç›¸å…³ã€‚</li>
</ul>
<h2 data-id="heading-18">å¸¸è§é—®é¢˜</h2>
<p><strong>1.node.jså®‰è£…</strong></p>
<p>å»ºè®®åœ¨æ‰“å¼€kiroå‰å…ˆå®‰è£…ï¼Œé¿å…å‡ºé—®é¢˜ã€‚</p>
<p><strong>2.kiro Operation was aborted by user or system. The agent has seen this error and will try a different approach to write the file if needed.</strong></p>
<p>ç­‰ä¼šé‡æ–°ç”Ÿæˆï¼Œæˆ–è€…æ¢ä¸ªç½‘ç»œã€‚</p>
<p><strong>3.An unexpected error occurred, please retry</strong></p>
<p>ç›´æ¥å‘é€ï¼šContinue</p>
<p><strong>4.éƒ¨ç½²å¹³å°</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.netlify.com%2F" target="_blank" title="https://www.netlify.com/" ref="nofollow noopener noreferrer">netlify</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fvercel.com%2F" target="_blank" title="https://vercel.com/" ref="nofollow noopener noreferrer">vercel</a></p>
<p>æ‰ç–å­¦æµ…ï¼Œæ¬¢è¿å„ä½å¤§ä½¬æŒ‡å¯¼äº¤æµç»éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ruoyi-cloudåŸºäºæšä¸¾å®ç°çš„å¯¼å‡ºå­—å…¸è½¬æ¢æ–¹æ¡ˆï¼ˆæšä¸¾ç¯‡ï¼‰]]></title>    <link>https://juejin.cn/post/7597742970282197044</link>    <guid>https://juejin.cn/post/7597742970282197044</guid>    <pubDate>2026-01-22T08:39:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597742970282197044" data-draft-id="7597776334065958964" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ruoyi-cloudåŸºäºæšä¸¾å®ç°çš„å¯¼å‡ºå­—å…¸è½¬æ¢æ–¹æ¡ˆï¼ˆæšä¸¾ç¯‡ï¼‰"/> <meta itemprop="keywords" content="Excel"/> <meta itemprop="datePublished" content="2026-01-22T08:39:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŒèšªçº¹é’è›™"/> <meta itemprop="url" content="https://juejin.cn/user/2747015110601144"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ruoyi-cloudåŸºäºæšä¸¾å®ç°çš„å¯¼å‡ºå­—å…¸è½¬æ¢æ–¹æ¡ˆï¼ˆæšä¸¾ç¯‡ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2747015110601144/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŒèšªçº¹é’è›™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:39:06.000Z" title="Thu Jan 22 2026 08:39:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäºæšä¸¾å®ç°çš„é«˜æ€§èƒ½å­—å…¸è½¬æ¢æ–¹æ¡ˆ</h2>
<h3 data-id="heading-1">ä¸€ã€æ–¹æ¡ˆé€‰å‹èƒŒæ™¯</h3>
<h4 data-id="heading-2">æ€§èƒ½å¯¹æ¯”åˆ†æ</h4>
<p>åœ¨æ•°æ®å¯¼å‡ºåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†å­—å…¸ç¼–ç è½¬æ¢ä¸ºå¯è¯»æ€§æ›´å¼ºçš„æè¿°æ–‡æœ¬ã€‚ç»è¿‡æ€§èƒ½æµ‹è¯•å¯¹æ¯”ï¼š</p>
<ul>
<li><strong>æšä¸¾è½¬æ¢æ–¹æ¡ˆ</strong>ï¼šå¤„ç† 3 ä¸‡æ¡æ•°æ®è€—æ—¶çº¦ <strong>11 ç§’</strong></li>
<li><strong>Redis å­—å…¸ç¼“å­˜æ–¹æ¡ˆ</strong>ï¼šå¤„ç† 3 ä¸‡æ¡æ•°æ®è€—æ—¶çº¦ <strong>5 åˆ†é’Ÿ</strong></li>
</ul>
<p>å°½ç®¡æµ‹è¯•ç¯å¢ƒä½¿ç”¨çš„æ˜¯è¾ƒæ—§çš„ç¡¬ä»¶è®¾å¤‡ï¼Œä½†ä¸¤ç§æ–¹æ¡ˆçš„æ€§èƒ½å·®è·ä¾ç„¶éå¸¸æ˜¾è‘—ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€‰æ‹©åŸºäºæšä¸¾å®ç°å­—å…¸è½¬æ¢ï¼Œä»¥è·å¾—æ›´ä¼˜çš„æ€§èƒ½è¡¨ç°ã€‚</p>
<hr/>
<h3 data-id="heading-3">äºŒã€æŠ€æœ¯å®ç°æ­¥éª¤</h3>
<h4 data-id="heading-4">1. é…ç½® Lombok ä¾èµ–</h4>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ <code>pom.xml</code> ä¸­æ·»åŠ  Lombok çš„ç‰ˆæœ¬ç®¡ç†å’Œä¾èµ–å£°æ˜ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ç‰ˆæœ¬æ§åˆ¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">lombok.version</span>&gt;</span>1.18.42<span class="hljs-tag">&lt;/<span class="hljs-name">lombok.version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¾èµ–å£°æ˜ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${lombok.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span>
</code></pre>
<h4 data-id="heading-5">2. åœ¨ ruoyi-common-core æ¨¡å—ä¸­å¼•å…¥ Lombok</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- lombok --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">3. å®šä¹‰å­—å…¸æšä¸¾é€šç”¨æ¥å£</h4>
<p>åˆ›å»º <code>BaseDictEnum</code> æ¥å£ï¼Œä½œä¸ºæ‰€æœ‰å­—å…¸æšä¸¾çš„ç»Ÿä¸€è§„èŒƒï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.ruoyi.common.core.enums;

<span class="hljs-comment">/**
 * å­—å…¸æšä¸¾é€šç”¨æ¥å£
 *
 * <span class="hljs-doctag">@author</span> gideon
 * <span class="hljs-doctag">@since</span> 2026/1/22
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BaseDictEnum</span> {

    <span class="hljs-comment">/**
     * è·å–æšä¸¾ç¼–ç 
     *
     * <span class="hljs-doctag">@return</span> ç¼–ç 
     */</span>
    String <span class="hljs-title function_">getCode</span><span class="hljs-params">()</span>;

    <span class="hljs-comment">/**
     * è·å–æšä¸¾æè¿°
     *
     * <span class="hljs-doctag">@return</span> æè¿°
     */</span>
    String <span class="hljs-title function_">getInfo</span><span class="hljs-params">()</span>;
}
</code></pre>
<h4 data-id="heading-7">4. å®ç°å…·ä½“çš„å­—å…¸æšä¸¾</h4>
<p>æ‰€æœ‰å­—å…¸æšä¸¾ç±»éƒ½éœ€è¦å®ç° <code>BaseDictEnum</code> æ¥å£ï¼Œå¹¶ç»Ÿä¸€ä½¿ç”¨ <code>code</code> å’Œ <code>info</code> å±æ€§ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.ruoyi.common.core.enums.dict;

<span class="hljs-keyword">import</span> com.ruoyi.common.core.enums.BaseDictEnum;
<span class="hljs-keyword">import</span> lombok.AllArgsConstructor;
<span class="hljs-keyword">import</span> lombok.Getter;

<span class="hljs-comment">/**
 * ç³»ç»Ÿé€šçŸ¥ç±»å‹æšä¸¾
 *
 * <span class="hljs-doctag">@author</span> gideon
 * <span class="hljs-doctag">@since</span> 2026/1/22
 */</span>
<span class="hljs-meta">@Getter</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">SysNoticeType</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BaseDictEnum</span> {

    <span class="hljs-comment">/**
     * é€šçŸ¥ç±»å‹
     */</span>
    NOTICE(<span class="hljs-string">"1"</span>, <span class="hljs-string">"é€šçŸ¥"</span>),

    <span class="hljs-comment">/**
     * å…¬å‘Šç±»å‹
     */</span>
    ANNOUNCEMENT(<span class="hljs-string">"2"</span>, <span class="hljs-string">"å…¬å‘Š"</span>),

    ;

    <span class="hljs-comment">/**
     * æšä¸¾ç¼–ç 
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String code;

    <span class="hljs-comment">/**
     * æšä¸¾æè¿°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String info;
}
</code></pre>
<h4 data-id="heading-8">5. å®ç°æšä¸¾å·¥å…·ç±»</h4>
<p>åˆ›å»º <code>EnumsUtils</code> å·¥å…·ç±»ï¼Œæä¾›å­—å…¸æšä¸¾çš„é€šç”¨æ“ä½œæ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.ruoyi.common.core.enums.util;

<span class="hljs-keyword">import</span> com.ruoyi.common.core.enums.BaseDictEnum;
<span class="hljs-keyword">import</span> com.ruoyi.common.core.utils.StringUtils;
<span class="hljs-keyword">import</span> lombok.experimental.UtilityClass;

<span class="hljs-keyword">import</span> java.util.*;
<span class="hljs-keyword">import</span> java.util.stream.Collectors;

<span class="hljs-comment">/**
 * æšä¸¾é€šç”¨å·¥å…·ç±»
 * é€‚é… BaseDictEnum æ¥å£çš„æšä¸¾ä½“ç³»ï¼Œæä¾› code/desc äº’è½¬ã€æ‰¹é‡è½¬æ¢ç­‰èƒ½åŠ›
 * æ”¯æŒå¯¼å‡ºåœºæ™¯çš„æšä¸¾è½¬æ¢ï¼Œå…¼å®¹ç©ºå€¼ã€æ— æ•ˆç¼–ç ç­‰è¾¹ç•Œæƒ…å†µ
 *
 * <span class="hljs-doctag">@author</span> gideon
 * <span class="hljs-doctag">@since</span> 2026/1/21
 */</span>
<span class="hljs-meta">@UtilityClass</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EnumsUtils</span> {

    <span class="hljs-comment">// ==================== åŸºç¡€æ–¹æ³•ï¼šæ ¹æ® Code è·å–æšä¸¾é¡¹ ====================</span>

    <span class="hljs-comment">/**
     * æ ¹æ® code è·å–æšä¸¾é¡¹ï¼ˆé€šç”¨ç‰ˆï¼Œè¿”å› Optional é¿å… NPEï¼‰
     * é€‚é… BaseDictEnum æ¥å£æ–¹æ³•ï¼šgetCode()
     *
     * <span class="hljs-doctag">@param</span> enumClass æšä¸¾ç±»ï¼ˆå¿…é¡»æ˜¯ Enum å­ç±» + å®ç° BaseDictEnumï¼‰
     * <span class="hljs-doctag">@param</span> code      æšä¸¾ç¼–ç 
     * <span class="hljs-doctag">@param</span> &lt;E&gt;       æšä¸¾ç±»å‹
     * <span class="hljs-doctag">@return</span> æšä¸¾é¡¹ï¼ˆOptional åŒ…è£…ï¼‰
     */</span>
    <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt; &amp; BaseDictEnum&gt; Optional&lt;E&gt; <span class="hljs-title function_">getEnumByCode</span><span class="hljs-params">(Class&lt;?&gt; enumClass, String code)</span> {
        <span class="hljs-comment">// æ ¡éªŒï¼šå¿…é¡»æ˜¯ Enum å­ç±» + BaseDictEnum å®ç°ç±»</span>
        <span class="hljs-keyword">if</span> (isValidEnumClass(enumClass)) {
            <span class="hljs-keyword">return</span> Optional.empty();
        }
        <span class="hljs-keyword">if</span> (code == <span class="hljs-literal">null</span> || StringUtils.isBlank(code)) {
            <span class="hljs-keyword">return</span> Optional.empty();
        }

        <span class="hljs-keyword">return</span> Arrays.stream(((Class&lt;E&gt;) enumClass).getEnumConstants())
                .filter(enumItem -&gt; code.equals(enumItem.getCode()))
                .findFirst();
    }

    <span class="hljs-comment">/**
     * é‡è½½ï¼šæ”¯æŒ Integer ç±»å‹çš„ codeï¼ˆé€‚é…æ•°å­—ç¼–ç çš„æšä¸¾ï¼‰
     */</span>
    <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt; &amp; BaseDictEnum&gt; Optional&lt;E&gt; <span class="hljs-title function_">getEnumByCode</span><span class="hljs-params">(Class&lt;?&gt; enumClass, Integer code)</span> {
        <span class="hljs-keyword">if</span> (isValidEnumClass(enumClass)) {
            <span class="hljs-keyword">return</span> Optional.empty();
        }
        <span class="hljs-keyword">if</span> (code == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> Optional.empty();
        }

        <span class="hljs-keyword">return</span> Arrays.stream(((Class&lt;E&gt;) enumClass).getEnumConstants())
                .filter(enumItem -&gt; code.toString().equals(enumItem.getCode()))
                .findFirst();
    }

    <span class="hljs-comment">// ==================== å¯¼å‡ºä¸“ç”¨ï¼šCode è½¬ Desc ====================</span>

    <span class="hljs-comment">/**
     * ã€å¯¼å‡ºæ ¸å¿ƒã€‘æ ¹æ® code è½¬æ¢ä¸º descï¼ˆæ— åŒ¹é…è¿”å›é»˜è®¤å€¼ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt; &amp; BaseDictEnum&gt; String <span class="hljs-title function_">codeToDesc</span><span class="hljs-params">(Class&lt;?&gt; enumClass, String code, String defaultValue)</span> {
        <span class="hljs-keyword">return</span> getEnumByCode(enumClass, code)
                .map(BaseDictEnum::getInfo)
                .orElse(defaultValue);
    }

    <span class="hljs-comment">/**
     * é‡è½½ï¼šæ”¯æŒ Integer ç±»å‹çš„ code è½¬ desc
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt; &amp; BaseDictEnum&gt; String <span class="hljs-title function_">codeToDesc</span><span class="hljs-params">(Class&lt;?&gt; enumClass, Integer code, String defaultValue)</span> {
        <span class="hljs-keyword">return</span> getEnumByCode(enumClass, code)
                .map(BaseDictEnum::getInfo)
                .orElse(defaultValue);
    }

    <span class="hljs-comment">/**
     * ã€æ‰¹é‡å¯¼å‡ºã€‘æ‰¹é‡è½¬æ¢ code ä¸º desc
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt; &amp; BaseDictEnum&gt; List&lt;String&gt; <span class="hljs-title function_">batchCodeToDesc</span><span class="hljs-params">(Class&lt;?&gt; enumClass, List&lt;String&gt; codes, String defaultValue)</span> {
        <span class="hljs-keyword">if</span> (codes == <span class="hljs-literal">null</span> || codes.isEmpty()) {
            <span class="hljs-keyword">return</span> Collections.emptyList();
        }
        <span class="hljs-keyword">if</span> (isValidEnumClass(enumClass)) {
            <span class="hljs-keyword">return</span> Collections.nCopies(codes.size(), defaultValue);
        }

        <span class="hljs-keyword">return</span> codes.stream()
                .map(code -&gt; codeToDesc(enumClass, code, defaultValue))
                .collect(Collectors.toList());
    }

    <span class="hljs-comment">// ==================== åå‘è½¬æ¢ï¼šDesc è½¬ Code ====================</span>

    <span class="hljs-comment">/**
     * æ ¹æ® desc è·å–æšä¸¾é¡¹ï¼ˆåå‘è½¬æ¢ï¼‰
     */</span>
    <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt; &amp; BaseDictEnum&gt; Optional&lt;E&gt; <span class="hljs-title function_">getEnumByDesc</span><span class="hljs-params">(Class&lt;?&gt; enumClass, String desc)</span> {
        <span class="hljs-keyword">if</span> (isValidEnumClass(enumClass)) {
            <span class="hljs-keyword">return</span> Optional.empty();
        }
        <span class="hljs-keyword">if</span> (desc == <span class="hljs-literal">null</span> || StringUtils.isBlank(desc)) {
            <span class="hljs-keyword">return</span> Optional.empty();
        }

        <span class="hljs-keyword">return</span> Arrays.stream(((Class&lt;E&gt;) enumClass).getEnumConstants())
                .filter(enumItem -&gt; desc.equals(enumItem.getInfo()))
                .findFirst();
    }

    <span class="hljs-comment">/**
     * ã€åå‘è½¬æ¢ã€‘desc è½¬ code
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt; &amp; BaseDictEnum&gt; String <span class="hljs-title function_">descToCode</span><span class="hljs-params">(Class&lt;?&gt; enumClass, String desc, String defaultValue)</span> {
        <span class="hljs-keyword">return</span> getEnumByDesc(enumClass, desc)
                .map(BaseDictEnum::getCode)
                .orElse(defaultValue);
    }

    <span class="hljs-comment">// ==================== è¾…åŠ©æ–¹æ³•ï¼šæšä¸¾è½¬åˆ—è¡¨ ====================</span>

    <span class="hljs-comment">/**
     * å°†æšä¸¾è½¬æ¢ä¸º Mapï¼ˆcode -&gt; descï¼‰
     */</span>
    <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt; &amp; BaseDictEnum&gt; Map&lt;String, String&gt; <span class="hljs-title function_">enumToMap</span><span class="hljs-params">(Class&lt;?&gt; enumClass)</span> {
        <span class="hljs-keyword">if</span> (isValidEnumClass(enumClass)) {
            <span class="hljs-keyword">return</span> Collections.emptyMap();
        }

        <span class="hljs-keyword">return</span> Arrays.stream(((Class&lt;E&gt;) enumClass).getEnumConstants())
                .collect(Collectors.toMap(
                        BaseDictEnum::getCode,
                        BaseDictEnum::getInfo,
                        (k1, k2) -&gt; k1 <span class="hljs-comment">// è§£å†³é‡å¤ code å†²çª</span>
                ));
    }

    <span class="hljs-comment">/**
     * å°†æšä¸¾è½¬æ¢ä¸ºåˆ—è¡¨ï¼ˆåŒ…å« code å’Œ descï¼‰
     */</span>
    <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt; &amp; BaseDictEnum&gt; List&lt;Map&lt;String, String&gt;&gt; <span class="hljs-title function_">enumToList</span><span class="hljs-params">(Class&lt;?&gt; enumClass)</span> {
        <span class="hljs-keyword">if</span> (isValidEnumClass(enumClass)) {
            <span class="hljs-keyword">return</span> Collections.emptyList();
        }

        <span class="hljs-keyword">return</span> Arrays.stream(((Class&lt;E&gt;) enumClass).getEnumConstants())
                .map(enumItem -&gt; {
                    Map&lt;String, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;(<span class="hljs-number">2</span>);
                    map.put(<span class="hljs-string">"code"</span>, enumItem.getCode());
                    map.put(<span class="hljs-string">"desc"</span>, enumItem.getInfo());
                    <span class="hljs-keyword">return</span> map;
                })
                .collect(Collectors.toList());
    }

    <span class="hljs-comment">/**
     * è·å–æšä¸¾çš„æ‰€æœ‰ code
     */</span>
    <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt; &amp; BaseDictEnum&gt; List&lt;String&gt; <span class="hljs-title function_">getAllCode</span><span class="hljs-params">(Class&lt;?&gt; enumClass)</span> {
        <span class="hljs-keyword">if</span> (isValidEnumClass(enumClass)) {
            <span class="hljs-keyword">return</span> Collections.emptyList();
        }
        <span class="hljs-keyword">return</span> Arrays.stream(((Class&lt;E&gt;) enumClass).getEnumConstants())
                .map(BaseDictEnum::getCode)
                .collect(Collectors.toList());
    }

    <span class="hljs-comment">/**
     * è·å–æšä¸¾çš„æ‰€æœ‰ desc
     */</span>
    <span class="hljs-meta">@SuppressWarnings("unchecked")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt; &amp; BaseDictEnum&gt; List&lt;String&gt; <span class="hljs-title function_">getAllDesc</span><span class="hljs-params">(Class&lt;?&gt; enumClass)</span> {
        <span class="hljs-keyword">if</span> (isValidEnumClass(enumClass)) {
            <span class="hljs-keyword">return</span> Collections.emptyList();
        }
        <span class="hljs-keyword">return</span> Arrays.stream(((Class&lt;E&gt;) enumClass).getEnumConstants())
                .map(BaseDictEnum::getInfo)
                .collect(Collectors.toList());
    }

    <span class="hljs-comment">// ==================== ç§æœ‰è¾…åŠ©æ–¹æ³• ====================</span>

    <span class="hljs-comment">/**
     * æ ¡éªŒç±»æ˜¯å¦ä¸º æšä¸¾ç±» + å®ç° BaseDictEnum æ¥å£
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValidEnumClass</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> {
        <span class="hljs-keyword">if</span> (clazz == <span class="hljs-literal">null</span> || !clazz.isEnum()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-comment">// æ ¡éªŒæ˜¯å¦å®ç° BaseDictEnum æ¥å£</span>
        <span class="hljs-keyword">return</span> !BaseDictEnum.class.isAssignableFrom(clazz);
    }
}
</code></pre>
<h4 data-id="heading-9">6. æ‰©å±• @Excel æ³¨è§£</h4>
<p>åœ¨ <code>@Excel</code> æ³¨è§£ä¸­æ–°å¢ <code>dictType</code> å±æ€§ï¼Œç”¨äºæŒ‡å®šå­—å…¸æšä¸¾ç±»å‹ï¼š</p>
<h5 data-id="heading-10">6.1 æ–°å¢å±æ€§å®šä¹‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * å¯¼å‡ºå­—å…¸ç±»å‹ï¼ˆé€šè¿‡æšä¸¾ç±»è¿›è¡Œè½¬æ¢ï¼‰
 */</span>
Class&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseDictEnum</span>&gt; dictType() <span class="hljs-keyword">default</span> BaseDictEnum.class;
</code></pre>
<h5 data-id="heading-11">6.2 å®Œæ•´çš„ @Excel æ³¨è§£</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * è‡ªå®šä¹‰å¯¼å‡º Excel æ•°æ®æ³¨è§£
 *
 * <span class="hljs-doctag">@author</span> ruoyi
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.FIELD)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Excel {
    <span class="hljs-comment">/**
     * å¯¼å‡ºæ—¶åœ¨ Excel ä¸­çš„åˆ—æ’åº
     */</span>
    <span class="hljs-type">int</span> <span class="hljs-title function_">sort</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> Integer.MAX_VALUE;

    <span class="hljs-comment">/**
     * å¯¼å‡ºåˆ° Excel ä¸­çš„åˆ—å
     */</span>
    String <span class="hljs-title function_">name</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;

    <span class="hljs-comment">/**
     * å¯¼å‡ºå­—å…¸ç±»å‹ï¼ˆé€šè¿‡æšä¸¾ç±»è¿›è¡Œè½¬æ¢ï¼‰
     */</span>
    Class&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseDictEnum</span>&gt; dictType() <span class="hljs-keyword">default</span> BaseDictEnum.class;

    <span class="hljs-comment">/**
     * æ—¥æœŸæ ¼å¼ï¼Œå¦‚ï¼šyyyy-MM-dd
     */</span>
    String <span class="hljs-title function_">dateFormat</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;

    <span class="hljs-comment">/**
     * è¯»å–å†…å®¹è½¬è¡¨è¾¾å¼ï¼ˆå¦‚ï¼š0=ç”·,1=å¥³,2=æœªçŸ¥ï¼‰
     */</span>
    String <span class="hljs-title function_">readConverterExp</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;

    <span class="hljs-comment">/**
     * åˆ†éš”ç¬¦ï¼Œç”¨äºè¯»å–å­—ç¬¦ä¸²æ•°ç»„å†…å®¹
     */</span>
    String <span class="hljs-title function_">separator</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">","</span>;

    <span class="hljs-comment">/**
     * BigDecimal ç²¾åº¦ï¼Œé»˜è®¤ï¼š-1ï¼ˆé»˜è®¤ä¸å¼€å¯ BigDecimal æ ¼å¼åŒ–ï¼‰
     */</span>
    <span class="hljs-type">int</span> <span class="hljs-title function_">scale</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> -<span class="hljs-number">1</span>;

    <span class="hljs-comment">/**
     * BigDecimal èˆå…¥è§„åˆ™ï¼Œé»˜è®¤ï¼šBigDecimal.ROUND_HALF_EVEN
     */</span>
    <span class="hljs-type">int</span> <span class="hljs-title function_">roundingMode</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> BigDecimal.ROUND_HALF_EVEN;

    <span class="hljs-comment">/**
     * å¯¼å‡ºæ—¶åœ¨ Excel ä¸­æ¯ä¸ªåˆ—çš„é«˜åº¦
     */</span>
    <span class="hljs-type">double</span> <span class="hljs-title function_">height</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-number">14</span>;

    <span class="hljs-comment">/**
     * å¯¼å‡ºæ—¶åœ¨ Excel ä¸­æ¯ä¸ªåˆ—çš„å®½åº¦
     */</span>
    <span class="hljs-type">double</span> <span class="hljs-title function_">width</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-number">16</span>;

    <span class="hljs-comment">/**
     * æ–‡å­—åç¼€ï¼Œå¦‚ %ï¼Œå°† 90 è½¬æ¢ä¸º 90%
     */</span>
    String <span class="hljs-title function_">suffix</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;

    <span class="hljs-comment">/**
     * å½“å€¼ä¸ºç©ºæ—¶ï¼Œå­—æ®µçš„é»˜è®¤å€¼
     */</span>
    String <span class="hljs-title function_">defaultValue</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;

    <span class="hljs-comment">/**
     * æç¤ºä¿¡æ¯
     */</span>
    String <span class="hljs-title function_">prompt</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;

    <span class="hljs-comment">/**
     * æ˜¯å¦å…è®¸å†…å®¹æ¢è¡Œ
     */</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">wrapText</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">false</span>;

    <span class="hljs-comment">/**
     * è®¾ç½®åªèƒ½é€‰æ‹©ä¸èƒ½è¾“å…¥çš„åˆ—å†…å®¹
     */</span>
    String[] combo() <span class="hljs-keyword">default</span> {};

    <span class="hljs-comment">/**
     * æ˜¯å¦éœ€è¦çºµå‘åˆå¹¶å•å…ƒæ ¼ï¼ˆåº”å¯¹éœ€æ±‚ï¼šå«æœ‰ List é›†åˆçš„å•å…ƒæ ¼ï¼‰
     */</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">needMerge</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">false</span>;

    <span class="hljs-comment">/**
     * æ˜¯å¦å¯¼å‡ºæ•°æ®ï¼ˆåº”å¯¹éœ€æ±‚ï¼šæœ‰æ—¶æˆ‘ä»¬éœ€è¦å¯¼å‡ºä¸€ä»½æ¨¡æ¿ï¼Œæ­¤æ—¶æ ‡é¢˜éœ€è¦ä½†å†…å®¹éœ€è¦ç”¨æˆ·æ‰‹å·¥å¡«å†™ï¼‰
     */</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">isExport</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">true</span>;

    <span class="hljs-comment">/**
     * å¦ä¸€ä¸ªç±»ä¸­çš„å±æ€§åç§°ï¼Œæ”¯æŒå¤šçº§è·å–ï¼Œä»¥å°æ•°ç‚¹éš”å¼€
     */</span>
    String <span class="hljs-title function_">targetAttr</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;

    <span class="hljs-comment">/**
     * æ˜¯å¦è‡ªåŠ¨ç»Ÿè®¡æ•°æ®ï¼Œåœ¨æœ€åè¿½åŠ ä¸€è¡Œç»Ÿè®¡æ•°æ®æ€»å’Œ
     */</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">isStatistics</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">false</span>;

    <span class="hljs-comment">/**
     * å¯¼å‡ºç±»å‹ï¼ˆ0 æ•°å­—ï¼Œ1 å­—ç¬¦ä¸²ï¼‰
     */</span>
    ColumnType <span class="hljs-title function_">cellType</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> ColumnType.STRING;

    <span class="hljs-comment">/**
     * å¯¼å‡ºåˆ—å¤´èƒŒæ™¯é¢œè‰²
     */</span>
    IndexedColors <span class="hljs-title function_">headerBackgroundColor</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> IndexedColors.GREY_50_PERCENT;

    <span class="hljs-comment">/**
     * å¯¼å‡ºåˆ—å¤´å­—ä½“é¢œè‰²
     */</span>
    IndexedColors <span class="hljs-title function_">headerColor</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> IndexedColors.WHITE;

    <span class="hljs-comment">/**
     * å¯¼å‡ºå•å…ƒæ ¼èƒŒæ™¯é¢œè‰²
     */</span>
    IndexedColors <span class="hljs-title function_">backgroundColor</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> IndexedColors.WHITE;

    <span class="hljs-comment">/**
     * å¯¼å‡ºå•å…ƒæ ¼å­—ä½“é¢œè‰²
     */</span>
    IndexedColors <span class="hljs-title function_">color</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> IndexedColors.BLACK;

    <span class="hljs-comment">/**
     * å¯¼å‡ºå­—æ®µå¯¹é½æ–¹å¼
     */</span>
    HorizontalAlignment <span class="hljs-title function_">align</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> HorizontalAlignment.CENTER;

    <span class="hljs-comment">/**
     * è‡ªå®šä¹‰æ•°æ®å¤„ç†å™¨
     */</span>
    Class&lt;?&gt; handler() <span class="hljs-keyword">default</span> ExcelHandlerAdapter.class;

    <span class="hljs-comment">/**
     * è‡ªå®šä¹‰æ•°æ®å¤„ç†å™¨å‚æ•°
     */</span>
    String[] args() <span class="hljs-keyword">default</span> {};

    <span class="hljs-comment">/**
     * å­—æ®µç±»å‹ï¼ˆ0ï¼šå¯¼å‡ºå¯¼å…¥ï¼›1ï¼šä»…å¯¼å‡ºï¼›2ï¼šä»…å¯¼å…¥ï¼‰
     */</span>
    Type <span class="hljs-title function_">type</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> Type.ALL;

    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Type</span> {
        ALL(<span class="hljs-number">0</span>), EXPORT(<span class="hljs-number">1</span>), IMPORT(<span class="hljs-number">2</span>);
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> value;

        Type(<span class="hljs-type">int</span> value) {
            <span class="hljs-built_in">this</span>.value = value;
        }

        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">value</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.value;
        }
    }

    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ColumnType</span> {
        NUMERIC(<span class="hljs-number">0</span>), STRING(<span class="hljs-number">1</span>), IMAGE(<span class="hljs-number">2</span>), TEXT(<span class="hljs-number">3</span>);
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> value;

        ColumnType(<span class="hljs-type">int</span> value) {
            <span class="hljs-built_in">this</span>.value = value;
        }

        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">value</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.value;
        }
    }
}
</code></pre>
<h4 data-id="heading-12">7. æ”¹é€  ExcelUtil å·¥å…·ç±»</h4>
<p>åœ¨ <code>ExcelUtil</code> ä¸­é›†æˆå­—å…¸æšä¸¾è½¬æ¢é€»è¾‘ï¼š</p>
<h5 data-id="heading-13">7.1 å¯¼å…¥æ–¹æ³•æ”¹é€ </h5>
<p>åœ¨å¯¼å…¥æ•°æ®æ—¶ï¼Œæ·»åŠ å­—å…¸æšä¸¾è½¬æ¢é€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != attr.dictType()) {
    val = EnumsUtils.getEnumByDesc(attr.dictType(), Convert.toStr(val));
}
</code></pre>
<p>æ–¹æ³•åå’Œä»£ç æ‰€å¤„ä½ç½®ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b75eac9598e49fe94a38fff76e68feb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6J2M6Jqq57q56Z2S6JuZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769675946&amp;x-signature=tLnYHQRVRGoFIlXXiSBL0SkRTE8%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-14">7.2 å¯¼å‡ºæ–¹æ³•æ”¹é€ </h5>
<p>åœ¨å¯¼å‡ºæ•°æ®æ—¶ï¼Œæ·»åŠ å­—å…¸æšä¸¾è½¬æ¢é€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != attr.dictType()) {
    cell.setCellValue(EnumsUtils.codeToDesc(attr.dictType(), Convert.toStr(value), Convert.toStr(value)));
}
</code></pre>
<p>æ–¹æ³•åå’Œä»£ç æ‰€å¤„ä½ç½®ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04a240d7b7e34c13be0be7e12eaf9f22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6J2M6Jqq57q56Z2S6JuZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769675946&amp;x-signature=%2Fzof0tHtMAknwDpop4pcMfT33JI%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-15">8. åœ¨å®ä½“ç±»ä¸­ä½¿ç”¨å­—å…¸æšä¸¾</h4>
<p>åœ¨éœ€è¦å¯¼å‡ºçš„å®ä½“ç±»ä¸­ï¼Œé€šè¿‡ <code>@Excel</code> æ³¨è§£çš„ <code>dictType</code> å±æ€§æŒ‡å®šå­—å…¸æšä¸¾ç±»å‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * é€šçŸ¥å…¬å‘Šè¡¨ sys_notice
 *
 * <span class="hljs-doctag">@author</span> ruoyi
 */</span>
<span class="hljs-meta">@EqualsAndHashCode(callSuper = true)</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SysNotice</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseEntity</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;

    <span class="hljs-comment">/**
     * å…¬å‘Šç¼–å·
     */</span>
    <span class="hljs-meta">@Excel(name = "å…¬å‘Šç¼–å·")</span>
    <span class="hljs-keyword">private</span> Long noticeId;

    <span class="hljs-comment">/**
     * å…¬å‘Šæ ‡é¢˜
     */</span>
    <span class="hljs-meta">@Excel(name = "å…¬å‘Šæ ‡é¢˜")</span>
    <span class="hljs-meta">@Xss(message = "å…¬å‘Šæ ‡é¢˜ä¸èƒ½åŒ…å«è„šæœ¬å­—ç¬¦")</span>
    <span class="hljs-meta">@NotBlank(message = "å…¬å‘Šæ ‡é¢˜ä¸èƒ½ä¸ºç©º")</span>
    <span class="hljs-meta">@Size(max = 50, message = "å…¬å‘Šæ ‡é¢˜ä¸èƒ½è¶…è¿‡ 50 ä¸ªå­—ç¬¦")</span>
    <span class="hljs-keyword">private</span> String noticeTitle;

    <span class="hljs-comment">/**
     * å…¬å‘Šç±»å‹ï¼ˆ1-é€šçŸ¥ 2-å…¬å‘Šï¼‰
     */</span>
    <span class="hljs-meta">@Excel(name = "å…¬å‘Šç±»å‹", dictType = SysNoticeType.class)</span>
    <span class="hljs-keyword">private</span> String noticeType;

    <span class="hljs-comment">/**
     * å…¬å‘Šå†…å®¹
     */</span>
    <span class="hljs-keyword">private</span> String noticeContent;

    <span class="hljs-comment">/**
     * å…¬å‘ŠçŠ¶æ€ï¼ˆ0 æ­£å¸¸ 1 å…³é—­ï¼‰
     */</span>
    <span class="hljs-meta">@Excel(name = "å…¬å‘ŠçŠ¶æ€", dictType = SysNoticeStatus.class)</span>
    <span class="hljs-keyword">private</span> String status;
}
</code></pre>
<h4 data-id="heading-16">9. æ”¹é€ çš„é¡¹ç›®æ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶</h4>
<p>ä¸»è¦æ–°å¢ <code>EnumsUtils</code>ï¼Œ<code>BaseDictEnum</code> åŠå…¶ä¸€äº›å­—å…¸æšä¸¾</p>
<p>ä¸»è¦ä¿®æ”¹ <code>@Excel</code>ï¼Œ<code>ExcelUtil</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c4e9b5711094a3d968098e680c5e457~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6J2M6Jqq57q56Z2S6JuZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769675946&amp;x-signature=2RCr4HhkSqvPheEBzYtHKKDyHxk%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-17">ä¸‰ã€æ–¹æ¡ˆä¼˜åŠ¿æ€»ç»“</h3>
<h4 data-id="heading-18">1. æ€§èƒ½ä¼˜åŠ¿</h4>
<ul>
<li><strong>å†…å­˜çº§è®¿é—®</strong>ï¼šæšä¸¾ç±»å‹åœ¨ JVM å¯åŠ¨æ—¶å³è¢«åŠ è½½åˆ°å†…å­˜ï¼Œè®¿é—®é€Ÿåº¦æå¿«</li>
<li><strong>æ— ç½‘ç»œå¼€é”€</strong>ï¼šé¿å…äº† Redis ç½‘ç»œé€šä¿¡çš„å»¶è¿Ÿå’Œå¼€é”€</li>
<li><strong>ä½ CPU æ¶ˆè€—</strong>ï¼šç›´æ¥çš„å†…å­˜è®¿é—®å‡å°‘äº† CPU ä¸Šä¸‹æ–‡åˆ‡æ¢</li>
</ul>
<h4 data-id="heading-19">2. ç»´æŠ¤ä¼˜åŠ¿</h4>
<ul>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šé€šè¿‡æšä¸¾ç±»è¿›è¡Œç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ï¼Œé¿å…è¿è¡Œæ—¶é”™è¯¯</li>
<li><strong>ä»£ç å¯è¯»æ€§</strong>ï¼šæšä¸¾ç±»é›†ä¸­ç®¡ç†å­—å…¸å®šä¹‰ï¼Œä¾¿äºç»´æŠ¤å’ŒæŸ¥æ‰¾</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶å‹å¥½</strong>ï¼šå­—å…¸å®šä¹‰ä¸ä»£ç ä¸€èµ·ç‰ˆæœ¬åŒ–ï¼Œä¾¿äºè¿½è¸ªå˜æ›´</li>
</ul>
<h4 data-id="heading-20">3. æ‰©å±•æ€§ä¼˜åŠ¿</h4>
<ul>
<li><strong>æ˜“äºæ‰©å±•</strong>ï¼šæ–°å¢å­—å…¸ç±»å‹åªéœ€æ·»åŠ æ–°çš„æšä¸¾ç±»</li>
<li><strong>æ”¯æŒå¤æ‚é€»è¾‘</strong>ï¼šæšä¸¾ç±»å¯ä»¥æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•ï¼Œæ”¯æŒæ›´å¤æ‚çš„ä¸šåŠ¡é€»è¾‘</li>
<li><strong>ä¸æ¡†æ¶é›†æˆ</strong>ï¼šä¸ Springã€MyBatis ç­‰æ¡†æ¶æ— ç¼é›†æˆ</li>
</ul>
<hr/>
<h3 data-id="heading-21">å››ã€æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>æšä¸¾æ•°é‡æ§åˆ¶</strong>ï¼šå•ä¸ªæšä¸¾ç±»çš„æšä¸¾é¡¹ä¸å®œè¿‡å¤šï¼ˆå»ºè®®ä¸è¶…è¿‡ 100 é¡¹ï¼‰ï¼Œè¿‡å¤šçš„æšä¸¾é¡¹ä¼šå¢åŠ  JVM å¯åŠ¨æ—¶é—´</li>
<li><strong>æšä¸¾ä¸å¯å˜æ€§</strong>ï¼šæšä¸¾ç±»åœ¨ JVM å¯åŠ¨åä¸å¯åŠ¨æ€ä¿®æ”¹ï¼Œä¸é€‚åˆéœ€è¦åŠ¨æ€å˜æ›´çš„å­—å…¸åœºæ™¯</li>
<li><strong>åºåˆ—åŒ–å…¼å®¹æ€§</strong>ï¼šä¿®æ”¹æšä¸¾ç±»çš„é¡ºåºæˆ–å€¼å¯èƒ½ä¼šå½±å“åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„å…¼å®¹æ€§</li>
<li><strong>é»˜è®¤å€¼å¤„ç†</strong>ï¼šåœ¨ <code>codeToDesc</code> æ–¹æ³•ä¸­ï¼Œå»ºè®®æä¾›åˆç†çš„é»˜è®¤å€¼ï¼Œé¿å…å¯¼å‡ºæ—¶å‡ºç°ç©ºå€¼</li>
</ol>
<hr/>
<h3 data-id="heading-22">ç»“è¯­</h3>
<p>æœ¬æ–¹æ¡ˆé€šè¿‡æšä¸¾ç±»å‹å®ç°å­—å…¸è½¬æ¢ï¼Œåœ¨æ€§èƒ½ã€å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§æ–¹é¢éƒ½å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ã€‚é€‚ç”¨äºå­—å…¸æ•°æ®ç›¸å¯¹ç¨³å®šã€å¯¹æ€§èƒ½è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ã€‚</p>
<p>ç”±äºæ—¶é—´å…³ç³»ï¼Œæœ¬æ–‡æ¡£ä¸­çš„ä»£ç å°šæœªç»è¿‡å®Œæ•´æµ‹è¯•ï¼Œå¦‚æœ‰ç–æ¼æˆ–é”™è¯¯ä¹‹å¤„ï¼Œæ¬¢è¿å„ä½æŒ‡æ­£ã€‚</p>
<p>æ„Ÿè°¢é˜…è¯»ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«å¤åˆ¶ç²˜è´´ï¼Œä½ éœ€è¦è¿™8ä¸ª MCP æœåŠ¡å™¨]]></title>    <link>https://juejin.cn/post/7597989474991423526</link>    <guid>https://juejin.cn/post/7597989474991423526</guid>    <pubDate>2026-01-22T08:14:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597989474991423526" data-draft-id="7597701762905423918" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«å¤åˆ¶ç²˜è´´ï¼Œä½ éœ€è¦è¿™8ä¸ª MCP æœåŠ¡å™¨"/> <meta itemprop="keywords" content="MCP,AIGC,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-22T08:14:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¯¥ç”¨æˆ·å·²ä¸å­˜åœ¨"/> <meta itemprop="url" content="https://juejin.cn/user/64217584778579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«å¤åˆ¶ç²˜è´´ï¼Œä½ éœ€è¦è¿™8ä¸ª MCP æœåŠ¡å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/64217584778579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¯¥ç”¨æˆ·å·²ä¸å­˜åœ¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:14:15.000Z" title="Thu Jan 22 2026 08:14:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä½¿ç”¨ AI è¾…åŠ©ç¼–ç¨‹çš„æ—©æœŸï¼Œç”±äº AI æ— æ³•ç›´æ¥æ„ŸçŸ¥æˆ‘ä»¬çš„å¼€å‘ç¯å¢ƒï¼Œæˆ‘ä»¬ä¸å¾—ä¸å……å½“æ¬è¿å·¥ï¼ŒæŠŠæŠ¥é”™ä¿¡æ¯å¤åˆ¶å‡ºæ¥ï¼ŒæŠŠæ•°æ®åº“ç»“æ„æˆªä¸ªå›¾ï¼ŒæŠŠ API æ–‡æ¡£ä¸€æ®µæ®µå–‚ç»™å®ƒã€‚è¿™ç§æ–­è£‚çš„äº¤äº’æ–¹å¼ï¼Œæ•ˆç‡å¾ˆä½ã€‚</p>
<p>MCPï¼ˆModel Context Protocolï¼‰åè®®çš„å‡ºç°è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚å®ƒä¸º AI æä¾›äº†ä¸€ä¸ªæ ‡å‡†åŒ–çš„æ¥å£ï¼Œè®© AI èƒ½å¤Ÿç›´æ¥è¯»å–ä»£ç åº“ã€æ•°æ®åº“ã€æµè§ˆå™¨ç”šè‡³çŸ¥è¯†åº“ã€‚AI ä¸å†æ˜¯ä¸€ä¸ªåœ¨é‚£è‡ªè¨€è‡ªè¯­çš„èŠå¤©æœºå™¨äººï¼Œè€Œå˜æˆäº†çœŸæ­£èƒ½ä¸Šæ‰‹å¹²æ´»çš„å·¥ç¨‹å¸ˆã€‚</p>
<p>ä»Šå¤©ç›˜ç‚¹å‡ æ¬¾ç›®å‰éå¸¸å®ç”¨çš„ MCP Serverï¼Œçœ‹çœ‹å®ƒä»¬å¦‚ä½•å…·ä½“è§£å†³å¼€å‘ä¸­çš„ç—›ç‚¹ã€‚</p>
<h3 data-id="heading-0"><a href="https://link.juejin.cn?target=https%3A%2F%2Fbrowsermcp.io%2F" target="_blank" title="https://browsermcp.io/" ref="nofollow noopener noreferrer">Browser MCP</a>ï¼šç»™ IDE è£…ä¸Šè”ç½‘çš„çœ¼ç›</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9067bc015b63488a8e534fd0f350119b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674455&amp;x-signature=DdPNkgR8tVuCiUyFQHtwsEFxTTU%3D" alt="" loading="lazy"/></p>
<p>å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ç”Ÿåƒ»æŠ¥é”™ï¼Œæˆ–è€…éœ€è¦æŸ¥é˜…æœ€æ–°çš„ç¬¬ä¸‰æ–¹åº“æ–‡æ¡£ï¼Œä¸€èˆ¬ä¼šåˆ‡å‡º IDEï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œæœç´¢ï¼Œç­›é€‰ç­”æ¡ˆï¼Œå†åˆ‡å› IDEã€‚è¿™ä¸ªè¿‡ç¨‹ä¸ä»…ç¹çï¼Œæ³¨æ„åŠ›è¿˜å®¹æ˜“è¢«åˆ†æ•£ã€‚</p>
<p>Browser MCP å°±èƒ½è®© AI æ‹¥æœ‰äº†ç›´æ¥è®¿é—®äº’è”ç½‘çš„èƒ½åŠ›ã€‚å¦‚æœé‡åˆ°ç±»ä¼¼ <code>TypeError</code> æˆ–è€…é…ç½®é—®é¢˜æ—¶ï¼Œä¸éœ€è¦ç¦»å¼€ä»£ç ç¼–è¾‘å™¨ï¼Œç›´æ¥ä¸‹æŒ‡ä»¤è®© AI å»æŸ¥ã€‚</p>
<p>å®ƒä¼šè‡ªåŠ¨æ£€ç´¢ Stack Overflow çš„é«˜ç¥¨å›ç­”ï¼Œæˆ–è€…æŠ“å– GitHub ä¸Šçš„ Issue è®¨è®ºï¼Œç”šè‡³ç›´æ¥é˜…è¯»æœ€æ–°çš„å®˜æ–¹æ–‡æ¡£ï¼Œç„¶åæŠŠè¿‡æ»¤åçš„æœ‰æ•ˆä¿¡æ¯åé¦ˆç»™å¼€å‘è€…ã€‚</p>
<p><strong>é…ç½®å‚è€ƒï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"browser"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"@modelcontextprotocol/server-browser"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-1"><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.notion.com%2Fdocs%2Fmcp" target="_blank" title="https://developers.notion.com/docs/mcp" ref="nofollow noopener noreferrer">Notion MCP</a>ï¼šæ‰“é€šé¡¹ç›®çŸ¥è¯†åº“</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2063677c924c46be965db6b850d16f12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674455&amp;x-signature=hXJU5y7n%2FaSUKuoPdhWL6rH%2Bsbc%3D" alt="" loading="lazy"/></p>
<p>åœ¨å¤æ‚çš„é¡¹ç›®ä¸­ï¼Œéœ€æ±‚æ–‡æ¡£ã€API å®šä¹‰ã€è®¾è®¡è§„èŒƒé€šå¸¸æ•£è½åœ¨ Notion é‡Œã€‚ä»¥å‰å†™ä»£ç éœ€è¦åå¤ç¡®è®¤æ–‡æ¡£ç»†èŠ‚ï¼Œç°åœ¨å¯ä»¥é€šè¿‡ Notion MCP æŠŠè¿™äº›çŸ¥è¯†åº“ç›´æ¥æŒ‚è½½ç»™ AIã€‚</p>
<p>ç”¨æˆ·å°±å¯ä»¥ç›´æ¥é—®ï¼šâ€œæ ¹æ®äº§å“æ–‡æ¡£é‡Œçš„ç”¨æˆ·ç§¯åˆ†è§„åˆ™ï¼Œå¸®æˆ‘ç”Ÿæˆè¿™æ®µè®¡ç®—é€»è¾‘ã€‚â€AI ä¼šç›´æ¥è¯»å– Notion ä¸­çš„é¡µé¢å†…å®¹ä½œä¸ºä¸Šä¸‹æ–‡ã€‚è¿™è®©ä»£ç å®ç°ä¸éœ€æ±‚æ–‡æ¡£ä¿æŒäº†é«˜åº¦ä¸€è‡´ï¼Œçœå»äº†åå¤æ ¸å¯¹çš„æ—¶é—´ã€‚</p>
<h3 data-id="heading-2"><a href="https://link.juejin.cn?target=https%3A%2F%2Fvanna.ai%2F" target="_blank" title="https://vanna.ai/" ref="nofollow noopener noreferrer">Vanna.ai Agent Server</a>ï¼šç”¨è‡ªç„¶è¯­è¨€æ“ä½œæ•°æ®åº“</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ebf5f32b54d4a34a6f36014811ef339~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674455&amp;x-signature=3vl2Ssq3shE5GUxyLcaxQB%2Fxivo%3D" alt="" loading="lazy"/></p>
<p>å¯¹äºä¸æ“…é•¿å¤æ‚ SQL æˆ–è€…åˆšæ¥æ‰‹é™Œç”Ÿæ•°æ®åº“ç»“æ„çš„å¼€å‘è€…ï¼ŒVanna.ai å°±æ˜¯ä¸ªç¥å™¨ã€‚å®ƒçš„ç‰¹é•¿æ˜¯ Text-to-SQLã€‚</p>
<p>æ¥å…¥åï¼ŒAI èƒ½å¤Ÿç†è§£æ•°æ®åº“çš„ Schemaï¼ˆè¡¨ç»“æ„ï¼‰ã€‚å¼€å‘è€…ä¸éœ€è¦æ‰‹å†™å¤æ‚çš„ Join æŸ¥è¯¢ï¼Œåªéœ€è¦è¯´â€œå¸®æˆ‘ç»Ÿè®¡ä¸Šä¸ªå­£åº¦å¤è´­ç‡æœ€é«˜çš„å‰åä¸ªç”¨æˆ·â€ï¼Œå®ƒå°±èƒ½ç›´æ¥ç”Ÿæˆå‡†ç¡®ä¸”å¯æ‰§è¡Œçš„ SQL è¯­å¥ã€‚è¿™åœ¨åšæ•°æ®åˆ†ææˆ–å¿«é€ŸéªŒè¯æ•°æ®æ—¶éå¸¸é«˜æ•ˆã€‚</p>
<h3 data-id="heading-3"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FPV-Bhat%2Fvibe-check-mcp-server" target="_blank" title="https://github.com/PV-Bhat/vibe-check-mcp-server" ref="nofollow noopener noreferrer">Vibe Check MCP</a>ï¼šä»£ç è´¨é‡çš„å®ˆé—¨å‘˜</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8101a0041dd497c947947919339a08d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674455&amp;x-signature=Gx%2BS95wR4bhLIQAeBBKhk8eBT3o%3D" alt="" loading="lazy"/></p>
<p>å¾ˆå¤šä»£ç å¯ä»¥è·‘é€šï¼Œä½†è·‘é€šå¹¶ä¸ä»£è¡¨ç€ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ï¼Œè¿˜ä¼šæœ‰å¾ˆå¤šéšæ‚£ï¼Œæ¯”å¦‚å˜é‡å‘½åéšæ„ã€ç¼ºä¹è¾¹ç•Œæƒ…å†µçš„é”™è¯¯å¤„ç†ã€é€»è¾‘åµŒå¥—è¿‡æ·±ã€‚</p>
<p>Vibe Check MCP ä¸ä»…ä»…æ˜¯ä¸€ä¸ªè¯­æ³•æ£€æŸ¥å™¨ï¼Œå®ƒæ›´åƒæ˜¯ä¸€ä¸ªç»éªŒä¸°å¯Œçš„ Code Reviewerã€‚å†™å®Œä¸€æ®µä¸šåŠ¡é€»è¾‘åï¼Œå¯ä»¥è®©å®ƒæ‰«æä¸€éã€‚å®ƒä¼šæ•é”åœ°æŒ‡å‡ºé‚£äº›â€œè™½ç„¶ä¸æŠ¥é”™ä½†å¾ˆä¸šä½™â€çš„åœ°æ–¹ï¼ŒæŠŠæ½œåœ¨çš„æŠ€æœ¯å€ºåŠ¡æ‰¼æ€åœ¨æ‘‡ç¯®é‡Œã€‚</p>
<p><strong>é…ç½®å‚è€ƒï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"vibe-check"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"@modelcontextprotocol/server-vibe-check"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-4"><a href="https://link.juejin.cn?target=https%3A%2F%2Fbrightdata.com%2Fai%2Fmcp-server" target="_blank" title="https://brightdata.com/ai/mcp-server" ref="nofollow noopener noreferrer">Bright Data MCP</a>ï¼šå·¥ä¸šçº§æ•°æ®è·å–</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb1982c3f1e6496c83ca79272c59e7fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674455&amp;x-signature=0jh4yuxYx%2BZSHUvRLcChgaI%2Fhyg%3D" alt="" loading="lazy"/></p>
<p>å½“å¼€å‘æ¶‰åŠå¤–éƒ¨æ•°æ®é‡‡é›†ã€ç«å“åˆ†ææˆ–éœ€è¦å¤„ç†å¤§é‡ç½‘é¡µæ•°æ®æ—¶ï¼Œæ™®é€šçš„çˆ¬è™«è„šæœ¬å¾ˆå®¹æ˜“è¢«åçˆ¬ç­–ç•¥é˜»æ–­ã€‚</p>
<p>Bright Data MCP æä¾›äº†ä¸€ä¸ªæ›´ç¨³å®šçš„æ¥å£ã€‚å®ƒåˆ©ç”¨ Bright Data çš„ä»£ç†ç½‘ç»œå’ŒæŠ“å–æ¶æ„ï¼Œè®© AI èƒ½å¤Ÿç¨³å®šåœ°è·å–å¤–éƒ¨ç½‘é¡µæ•°æ®ã€‚å¯¹äºéœ€è¦æ„å»ºæ•°æ®é›†æˆ–å®æ—¶ç›‘æ§å¤–éƒ¨ä¿¡æ¯çš„åº”ç”¨ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ç»“å®çš„åº•å±‚æ”¯æ’‘ã€‚</p>
<h3 data-id="heading-5"><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.honeycomb.io%2F" target="_blank" title="https://www.honeycomb.io/" ref="nofollow noopener noreferrer">Honeycomb MCP</a>ï¼šç”Ÿäº§ç¯å¢ƒçš„å¯è§‚æµ‹æ€§</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc3a2093114341669a26e5702030470d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674455&amp;x-signature=SUht4nTOftYX%2F%2F424b0ttJ9kQ9U%3D" alt="" loading="lazy"/></p>
<p>ä»£ç ä¸Šçº¿åå‡ºäº† Bugï¼Œæœ€å¤´ç–¼çš„æ˜¯å®šä½é—®é¢˜ã€‚Honeycomb MCP æŠŠ AI çš„èƒ½åŠ›å¼•å…¥åˆ°äº†è¿ç»´ç›‘æ§é¢†åŸŸã€‚</p>
<p>é€šè¿‡è¿æ¥ Honeycomb çš„ Tracing æ•°æ®ï¼Œå½“ç³»ç»ŸæŠ¥è­¦æ—¶ï¼Œå¯ä»¥è®© AI ç›´æ¥åˆ†æé“¾è·¯è¿½è¸ªæ—¥å¿—ã€‚å®ƒèƒ½ååŠ©åˆ¤æ–­æ˜¯å“ªä¸ªå¾®æœåŠ¡è¶…æ—¶ï¼Œè¿˜æ˜¯å“ªä¸ªæ•°æ®åº“æŸ¥è¯¢å¯¼è‡´äº†ç“¶é¢ˆï¼Œç›´æ¥ç»™å‡ºåŸºäºçœŸå®æ•°æ®çš„åˆ†æå»ºè®®ï¼Œè€Œä¸æ˜¯ç›²ç›®çŒœæµ‹ã€‚</p>
<h3 data-id="heading-6"><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain.com%2F" target="_blank" title="https://docs.langchain.com/" ref="nofollow noopener noreferrer">LangChain Server</a>ï¼šæ„å»º AI å·¥ä½œæµ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b2fc4a6df8b467794658a2d6f21833e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674455&amp;x-signature=bnz1nKeBdQmvdmsEhzwvXRyFVS8%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ çš„ç›®æ ‡ä¸ä»…ä»…æ˜¯è¾…åŠ©ç¼–ç ï¼Œè€Œæ˜¯è¦å¼€å‘ AI åº”ç”¨ï¼ŒLangChain Server å¿…ä¸å¯å°‘ã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„ç»„ä»¶æ¥ç¼–æ’ LLM çš„é€»è¾‘ï¼Œå¤„ç† Prompt æ¨¡æ¿ã€è®°å¿†ç®¡ç†å’Œå·¥å…·è°ƒç”¨ã€‚é€šè¿‡ MCP æ¥å…¥ï¼Œå¯ä»¥åœ¨ IDE é‡Œæ›´ç›´è§‚åœ°è°ƒè¯•å’Œæ„å»ºå¤æ‚çš„ AI ä¸šåŠ¡æµç¨‹ã€‚</p>
<h3 data-id="heading-7"><a href="https://link.juejin.cn?target=https%3A%2F%2Fopenai.github.io%2Fopenai-agents-python%2Fmcp%2F" target="_blank" title="https://openai.github.io/openai-agents-python/mcp/" ref="nofollow noopener noreferrer">OpenAgents MCP</a>ï¼šæ•°æ®åˆ†æä¸è‡ªä¸»ä»»åŠ¡</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e453d559fe64dfc8c97e7c945355025~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674455&amp;x-signature=B0K2GIdvof8aiBIvQcUIOeuvxiM%3D" alt="" loading="lazy"/></p>
<p>OpenAgents æ›´ä¾§é‡äºæ•°æ®åˆ†æå’Œå·¥å…·çš„è‡ªä¸»ä½¿ç”¨ã€‚å¦‚æœä½ æ‰‹å¤´æœ‰ä¸€ä¸ª CSV æ–‡ä»¶éœ€è¦åˆ†æï¼Œæˆ–è€…éœ€è¦è¿›è¡Œä¸€ç³»åˆ—çš„æ•°æ®æ¸…æ´—å’Œå›¾è¡¨ç»˜åˆ¶ä»»åŠ¡ï¼ŒOpenAgents å¯ä»¥è§„åˆ’ä»»åŠ¡è·¯å¾„ï¼Œè‡ªä¸»è°ƒç”¨å·¥å…·æ¥å®Œæˆä»æ•°æ®å¤„ç†åˆ°ç»“æœå¯è§†åŒ–çš„å…¨è¿‡ç¨‹ã€‚</p>
<hr/>
<h3 data-id="heading-8">æå®š MCP çš„è¿è¡ŒåŸºçŸ³ï¼šNode.js ç¯å¢ƒç®¡ç†</h3>
<p>ä»”ç»†è§‚å¯Ÿä¸Šè¿°çš„ MCP é…ç½®ï¼Œå°±ä¼šå‘ç°å®ƒä»¬å‡ ä¹éƒ½ä¾èµ– <code>npx</code> å‘½ä»¤ï¼Œè¿™æ„å‘³ç€èƒŒåéƒ½éœ€è¦ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com%2Ffeatures%2Fnodejs" target="_blank" title="https://www.servbay.com/features/nodejs" ref="nofollow noopener noreferrer">Node.js ç¯å¢ƒ</a>çš„æ”¯æŒã€‚è€Œä¸”ä¸åŒçš„ MCP å·¥å…·å¯èƒ½ä¾èµ–ä¸åŒç‰ˆæœ¬çš„ Node.jsã€‚</p>
<p>åœ¨æœ¬åœ°æœºå™¨ä¸Šåå¤åˆ‡æ¢ Node ç‰ˆæœ¬ï¼Œæˆ–è€…å¤„ç†å…¨å±€ä¾èµ–å†²çªï¼Œæ˜¯éå¸¸æ¶ˆç£¨çƒ­æƒ…çš„ã€‚</p>
<p>ServBay æä¾›äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91823ee09fb74af39e679717e5444321~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674455&amp;x-signature=facAjW9guc8uANfG0rmWt1tHBUM%3D" alt="" loading="lazy"/></p>
<p>ä½œä¸ºä¸€æ¬¾ä¸“ä¸ºå¼€å‘è€…è®¾è®¡çš„ç¯å¢ƒç®¡ç†å·¥å…·ï¼ŒServBay åœ¨ Node.js çš„æ”¯æŒä¸Šåšå¾—éå¸¸ç»†è‡´ï¼š</p>
<ul>
<li><strong>ç‰ˆæœ¬è¦†ç›–å…¨</strong>ï¼šå®ƒæ”¯æŒä» <strong>Node.js 12 åˆ° Node.js 24</strong> çš„å…¨ç³»åˆ—ç‰ˆæœ¬ã€‚æ— è®ºæƒ³è·‘æœ€æ–°çš„ MCP å·¥å…·ï¼Œè¿˜æ˜¯ç»´æŠ¤è€æ—§çš„é¡¹ç›®ï¼Œéƒ½èƒ½æ‰¾åˆ°å¯¹åº”çš„è¿è¡Œç¯å¢ƒã€‚</li>
<li><strong>å¤šç‰ˆæœ¬å…±å­˜</strong>ï¼šè¿™ä¸ªåŠŸèƒ½æŒºå®ç”¨çš„ã€‚å¼€å‘è€…å¯ä»¥åœ¨ ServBay é‡ŒåŒæ—¶å®‰è£… Node 18 å’Œ Node 22ã€‚è¿è¡Œä¸åŒçš„é¡¹ç›®æ—¶ï¼Œå¯ä»¥æŒ‡å®šä½¿ç”¨ä¸åŒçš„ Node ç‰ˆæœ¬ï¼Œäº’ä¸æ‰“æ¶ã€‚</li>
<li><strong>ç³»ç»Ÿçº¯å‡€</strong>ï¼šServBay é‡‡ç”¨æ²™ç›’åŒ–æœºåˆ¶ï¼Œæ‰€æœ‰çš„ Node ç¯å¢ƒéƒ½ç‹¬ç«‹äºç³»ç»Ÿä¹‹å¤–ã€‚ä¸éœ€è¦æ‹…å¿ƒå› ä¸ºå®‰è£…ä¸€ä¸ª MCP å·¥å…·è€ŒæŠŠç³»ç»Ÿçš„ PATH å˜é‡æä¹±ï¼Œä¹Ÿä¸éœ€è¦åœ¨é‚£æŠ˜è…¾ nvm çš„é…ç½®ã€‚</li>
</ul>
<p>å¯¹äºéæŠ€æœ¯äººå‘˜ï¼ŒServBay ä¹Ÿæ˜¯å¾ˆå‹å¥½çš„ï¼Œä¸éœ€è¦ä¼šå†™ä»£ç ï¼Œç‚¹å‡»ä¸€ä¸‹å°±èƒ½å®‰è£…å¥½å„ç§MCP æœåŠ¡å™¨ã€‚</p>
<h3 data-id="heading-9">ç»“è¯­</h3>
<p>MCP åè®®æ­£åœ¨é‡å¡‘æˆ‘ä»¬ä¸å¼€å‘å·¥å…·çš„äº¤äº’æ–¹å¼ã€‚ä» Browser MCP çš„è”ç½‘èƒ½åŠ›ï¼Œåˆ° Vibe Check çš„ä»£ç å®¡æŸ¥ï¼Œéƒ½æ˜¯ä¸ä¸€ä¸ªçœŸæ­£æ‡‚è¡Œçš„ AI ç»“å¯¹ç¼–ç¨‹ã€‚é…ç½®å¥½è¿™äº›å·¥å…·ï¼ŒæŠŠç¹ççš„ä¸Šä¸‹æ–‡æ¬è¿å·¥ä½œäº¤ç»™åè®®ï¼Œç•™å‡ºæ›´å¤šçš„æ—¶é—´å»æ€è€ƒæ¶æ„ä¸é€»è¾‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Opencode è¿æ¥OpenAIå¤±è´¥ï¼ˆUnable to connectï¼‰ä¿®å¤è®°å½•ï¼ˆWindowsï¼‰]]></title>    <link>https://juejin.cn/post/7597973595130478644</link>    <guid>https://juejin.cn/post/7597973595130478644</guid>    <pubDate>2026-01-22T08:25:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597973595130478644" data-draft-id="7597779410406965282" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Opencode è¿æ¥OpenAIå¤±è´¥ï¼ˆUnable to connectï¼‰ä¿®å¤è®°å½•ï¼ˆWindowsï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-22T08:25:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Charlo"/> <meta itemprop="url" content="https://juejin.cn/user/1239904845853870"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Opencode è¿æ¥OpenAIå¤±è´¥ï¼ˆUnable to connectï¼‰ä¿®å¤è®°å½•ï¼ˆWindowsï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904845853870/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Charlo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:25:44.000Z" title="Thu Jan 22 2026 08:25:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">opencode è¿æ¥å¤±è´¥ï¼ˆUnable to connectï¼‰ä¿®å¤è®°å½•ï¼ˆWindowsï¼‰</h2>
<h3 data-id="heading-1">èƒŒæ™¯</h3>
<p>åœ¨ Windows ä¸Šä½¿ç”¨ <code>opencode</code> æ—¶å‡ºç°é”™è¯¯ï¼š</p>
<ul>
<li><code>Unable to connect. Is the computer able to access the url?</code></li>
</ul>
<p>è¯¥é”™è¯¯åœ¨é¦–æ¬¡ç™»å½•/é¦–æ¬¡è¿è¡Œåå¯èƒ½è¡¨ç°ä¸ºâ€œç¬¬ä¸€æ¬¡æ­£å¸¸ï¼Œåé¢ä¸è¡Œâ€ã€‚</p>
<h3 data-id="heading-2">å…³é”®ç»“è®ºï¼ˆå®šä½åˆ°çš„çœŸå®è¯·æ±‚ï¼‰</h3>
<p>ä» opencode æ—¥å¿—å®šä½åˆ°å¤±è´¥è¯·æ±‚å¹¶é <code>api.openai.com</code>ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li><code>https://chatgpt.com/backend-api/codex/responses</code></li>
</ul>
<p>æ—¥å¿—ä¸­åŒæ—¶å‡ºç°ä»¥ä¸‹é”™è¯¯ä¹‹ä¸€ï¼š</p>
<ul>
<li><code>ConnectionRefused</code></li>
<li><code>UNKNOWN_CERTIFICATE_VERIFICATION_ERROR</code></li>
</ul>
<h3 data-id="heading-3">æ ¹å› åˆ†æï¼ˆç¯å¢ƒå·®å¼‚ï¼‰</h3>
<p>æœ¬æœºç½‘ç»œç¯å¢ƒè¡¨ç°ä¸ºï¼š</p>
<ul>
<li>Windows ç³»ç»Ÿä»£ç†ï¼ˆWinINET / Internet Settingsï¼‰å¼€å¯ï¼š<code>127.0.0.1:7890</code></li>
<li>WinHTTP ä»£ç†æœªè®¾ç½®ï¼š<code>direct</code></li>
<li><code>opencode</code> è¿è¡Œè¿›ç¨‹ç¯å¢ƒä¸­æœªæ˜¾å¼è®¾ç½® <code>HTTP_PROXY/HTTPS_PROXY</code></li>
</ul>
<p>å¦å¤–å­˜åœ¨è¯ä¹¦ç›¸å…³é—®é¢˜ï¼š</p>
<ul>
<li>ç¯å¢ƒå˜é‡ <code>NODE_EXTRA_CA_CERTS=C:\Users\xxx\.opencode-ca.pem</code></li>
<li>è¯¥è·¯å¾„å¯¹åº”æ–‡ä»¶ä¸å­˜åœ¨/ä¸å¯åŠ è½½ï¼Œå¯¼è‡´è¯ä¹¦æ ¡éªŒå¼‚å¸¸ç›¸å…³æŠ¥é”™</li>
</ul>
<p>å› æ­¤ <code>opencode</code> è¿›ç¨‹å¯èƒ½æ²¡æœ‰æ­£ç¡®èµ°ä»£ç†ï¼Œæˆ–åœ¨ TLS æ ¡éªŒé˜¶æ®µå¤±è´¥ã€‚</p>
<h3 data-id="heading-4">å·²æ‰§è¡Œçš„æ°¸ä¹…ä¿®æ”¹ï¼ˆUser ç¯å¢ƒå˜é‡ï¼‰</h3>
<p>å·²å°†ä»¥ä¸‹ç¯å¢ƒå˜é‡å†™å…¥ <strong>ç”¨æˆ·çº§ï¼ˆUserï¼‰</strong> ç¯å¢ƒå˜é‡ï¼Œä½¿å…¶åœ¨æ–°å¼€çš„ç»ˆç«¯/è¿›ç¨‹ä¸­æ°¸ä¹…ç”Ÿæ•ˆï¼š</p>
<ul>
<li><code>HTTP_PROXY = http://127.0.0.1:7890</code></li>
<li><code>HTTPS_PROXY = http://127.0.0.1:7890</code></li>
<li><code>ALL_PROXY = http://127.0.0.1:7890</code></li>
<li><code>NO_PROXY = localhost,127.0.0.1</code></li>
</ul>
<p>å¹¶å·²æ°¸ä¹…æ¸…é™¤ï¼ˆåˆ é™¤ï¼‰ä»¥ä¸‹ç”¨æˆ·çº§ç¯å¢ƒå˜é‡ï¼š</p>
<ul>
<li><code>NODE_EXTRA_CA_CERTS</code></li>
</ul>
<blockquote>
<p>æ³¨ï¼šç¯å¢ƒå˜é‡å˜æ›´éœ€è¦ <strong>é‡å¼€ç»ˆç«¯/é‡å¯ç›¸å…³è¿›ç¨‹</strong> æ‰ä¼šå¯¹æ–°è¿›ç¨‹ç”Ÿæ•ˆã€‚</p>
</blockquote>
<h3 data-id="heading-5">éªŒè¯æ­¥éª¤</h3>
<ol>
<li>å…³é—­å½“å‰ç»ˆç«¯ï¼ˆPowerShell / Windows Terminalï¼‰ã€‚</li>
<li>æ–°å¼€ä¸€ä¸ªç»ˆç«¯ã€‚</li>
<li>æ‰§è¡Œï¼ˆå»ºè®®å¸¦æ—¥å¿—ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-powershell" lang="powershell">opencode --print-logs --log-level DEBUG run "ping"
</code></pre>
<p>å¦‚æœä»å¤±è´¥ï¼Œæ£€æŸ¥ <code>~\.local\share\opencode\log\*.log</code> ä¸­æ˜¯å¦ä»å‡ºç°ï¼š</p>
<ul>
<li><code>codex/responses</code></li>
<li><code>ConnectionRefused</code></li>
<li><code>certificate</code></li>
</ul>
<h3 data-id="heading-6">å›æ»šæ­¥éª¤ï¼ˆæ¢å¤åˆ°ä¿®æ”¹å‰ï¼‰</h3>
<p>å¦‚éœ€æ’¤é”€ä»£ç†ç¯å¢ƒå˜é‡ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆåˆ é™¤ç”¨æˆ·çº§ç¯å¢ƒå˜é‡ï¼‰ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell">[Environment]::SetEnvironmentVariable('HTTP_PROXY', $null, 'User')
[Environment]::SetEnvironmentVariable('HTTPS_PROXY', $null, 'User')
[Environment]::SetEnvironmentVariable('ALL_PROXY', $null, 'User')
[Environment]::SetEnvironmentVariable('NO_PROXY', $null, 'User')
</code></pre>
<p>å¦‚éœ€æ¢å¤ <code>NODE_EXTRA_CA_CERTS</code>ï¼ˆä»…åœ¨ä½ ç¡®å®æœ‰è‡ªå®šä¹‰ CA PEM ä¸”éœ€è¦æ—¶ï¼‰ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell"># æŠŠè·¯å¾„æ›¿æ¢ä¸ºçœŸå®å­˜åœ¨çš„ PEM æ–‡ä»¶è·¯å¾„
[Environment]::SetEnvironmentVariable('NODE_EXTRA_CA_CERTS', 'C:\\path\\to\\your-ca.pem', 'User')
</code></pre>
<p>åŒæ ·éœ€è¦é‡å¼€ç»ˆç«¯åæ‰ä¼šå½±å“æ–°è¿›ç¨‹ã€‚</p>
<h3 data-id="heading-7">ç›¸å…³è·¯å¾„ï¼ˆä¾¿äºæ’æŸ¥ï¼‰</h3>
<p><code>opencode debug paths</code> è¾“å‡ºçš„å…³é”®ç›®å½•ï¼š</p>
<ul>
<li>æ—¥å¿—ï¼š<code>%USERPROFILE%\.local\share\opencode\log</code></li>
<li>å‡­æ®ï¼š<code>%USERPROFILE%\.local\share\opencode\auth.json</code></li>
<li>é…ç½®ï¼š<code>%USERPROFILE%\.config\opencode</code></li>
</ul>
<h3 data-id="heading-8">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>è¯·å‹¿åœ¨å·¥å•/ç¾¤èŠä¸­ç›´æ¥ç²˜è´´ <code>auth.json</code> å†…å®¹ï¼ˆåŒ…å«æ•æ„Ÿ tokenï¼‰ã€‚</li>
<li>å¦‚æœä½ å¤„äºå…¬å¸â€œHTTPS è§£å¯†/ä¸­é—´äººä»£ç†â€ç¯å¢ƒï¼Œå¿…é¡»ä½¿ç”¨æ­£ç¡®çš„æ ¹è¯ä¹¦ PEMï¼›æ¸…é™¤ <code>NODE_EXTRA_CA_CERTS</code> å¯èƒ½ä¼šå¯¼è‡´å…¶å®ƒå·¥å…·åœ¨è¯¥ç½‘ç»œä¸‹å¤±è´¥ï¼Œéœ€è¦æŒ‰å®é™…æƒ…å†µé€‰æ‹©ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenCV| å°ç¨‹åºè®°å½•-åˆ©ç”¨thresholdå¤„ç†æ˜¾å¾®å›¾åƒ]]></title>    <link>https://juejin.cn/post/7597905961663823878</link>    <guid>https://juejin.cn/post/7597905961663823878</guid>    <pubDate>2026-01-22T08:38:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597905961663823878" data-draft-id="7598005428258111551" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenCV| å°ç¨‹åºè®°å½•-åˆ©ç”¨thresholdå¤„ç†æ˜¾å¾®å›¾åƒ"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-22T08:38:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å³»æµ·æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/256628378572250"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenCV| å°ç¨‹åºè®°å½•-åˆ©ç”¨thresholdå¤„ç†æ˜¾å¾®å›¾åƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/256628378572250/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å³»æµ·æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:38:59.000Z" title="Thu Jan 22 2026 08:38:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å­¦ä¹ è®¡ç®—æœºè§†è§‰çš„ä¸»è¦ç›®çš„å°±æ˜¯ä¸ºäº†ä½¿ç”¨è§†è§‰æ–¹æ³•å¤„ç†æˆ‘åœ¨å¾®è§‚å®éªŒä¸­é‡è§çš„è¯†åˆ«é—®é¢˜ï¼Œåœ¨å­¦ä¹ thresholdçš„è¿‡ç¨‹ä¸­æˆ‘æƒ³åˆ°äº†æˆ‘æ˜¯å¦å¯ä»¥ç›´æ¥åˆ©ç”¨thresholdè¿‡æ»¤æ‰æ˜¾å¾®é•œä¸‹çš„èƒŒæ™¯å’Œæˆ‘æƒ³è¦è§‚å¯Ÿçš„æ²‰æ·€ã€‚</p>
<h2 data-id="heading-1">ä»£ç </h2>
<p>æˆ‘ç›´æ¥æŠŠæˆ‘çš„æƒ³æ³•å‘Šè¯‰äº†ai</p>
<pre><code class="hljs">æ¯”å¦‚è¿™ä¸¤å¼ å¾®æµæ§çš„ç…§ç‰‡ï¼Œä½ å¸®æˆ‘ç›´æ¥ç”¨è¿™ä¸ªåŸç†å†™ä¸€ä¸ªå°ç¨‹åºï¼Œæˆ‘çš„è¦æ±‚å¦‚ä¸‹ï¼Œ1.åˆ¤æ–­ç¢³é…¸é’™æ²‰æ·€ï¼ˆå›¾ä¸­é»‘è‰²åŒºåŸŸçš„é¢œè‰²ï¼‰è¿˜æœ‰å…¶ä»–åŒºåŸŸï¼Œä¸¤è€…ä¹‹é—´çš„é¢œè‰²è‚¯å®šæœ‰æ˜æ˜¾çš„åŒºåˆ«ï¼Œç„¶åé€šè¿‡è¿™ä¸ªé¢œè‰²åŒºåˆ«å¸®æˆ‘ç”Ÿæˆä¸€å¼ ï¼Œæœ€åå…¶ä»–åŒºåŸŸéƒ½å˜æˆé»‘è‰²ï¼Œç¢³é…¸é’™æ²‰æ·€å˜æˆé»‘è‰²çš„äºŒå€¼å›¾ï¼Œä½ èƒ½åšåˆ°å—
</code></pre>
<p>ç„¶åaiç»™æˆ‘ç”Ÿæˆäº†å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ä»£ç </p>
<pre><code class="hljs language-ini" lang="ini">import os
import glob
import cv2 as cv
import numpy as np
â€‹
<span class="hljs-comment"># ========= ç”¨æˆ·å‚æ•° =========</span>
<span class="hljs-attr">input_dir</span> = <span class="hljs-string">"input_images"</span> Â  Â  Â <span class="hljs-comment"># æ”¾å¾®æµæ§åŸå›¾çš„æ–‡ä»¶å¤¹</span>
<span class="hljs-attr">output_dir</span> = <span class="hljs-string">"output_binary"</span> Â  Â <span class="hljs-comment"># è¾“å‡ºäºŒå€¼å›¾çš„æ–‡ä»¶å¤¹</span>
â€‹
os.makedirs(output_dir, <span class="hljs-attr">exist_ok</span>=<span class="hljs-literal">True</span>)
â€‹
<span class="hljs-comment"># æ”¯æŒçš„å›¾ç‰‡åç¼€ï¼Œå¯ä»¥æŒ‰éœ€åŠ ä¸Š .png/.jpg</span>
<span class="hljs-attr">img_patterns</span> = [<span class="hljs-string">"*.tif"</span>, <span class="hljs-string">"*.png"</span>, <span class="hljs-string">"*.jpg"</span>, <span class="hljs-string">"*.jpeg"</span>]
â€‹
<span class="hljs-comment"># ========= ä¸»å¾ªç¯ï¼šæ‰¹é‡å¤„ç†æ‰€æœ‰å›¾åƒ =========</span>
for pattern in img_patterns:
 Â  Â for img_path in glob.glob(os.path.join(input_dir, pattern)):
 Â  Â  Â  Â <span class="hljs-attr">img</span> = cv.imread(img_path)
â€‹
 Â  Â  Â  Â if img is None:
 Â  Â  Â  Â  Â  Â print(f"<span class="hljs-section">[WARN]</span> è¯»å›¾å¤±è´¥: {img_path}")
 Â  Â  Â  Â  Â  Â continue
â€‹
 Â  Â  Â  Â <span class="hljs-comment"># 1. BGR -&gt; GRAY ï¼ˆé¢œè‰²ç©ºé—´è½¬æ¢ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-attr">gray</span> = cv.cvtColor(img, cv.COLOR_BGR2GRAY)
â€‹
 Â  Â  Â  Â <span class="hljs-comment"># 2. è½»å¾®å¹³æ»‘ï¼Œå»æ‰å°å™ªå£°ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰</span>
 Â  Â  Â  Â <span class="hljs-comment"># Â  è¿™é‡Œç”¨ 5x5 çš„é«˜æ–¯æ»¤æ³¢</span>
 Â  Â  Â  Â <span class="hljs-attr">blur</span> = cv.GaussianBlur(gray, (<span class="hljs-number">5</span>, <span class="hljs-number">5</span>), <span class="hljs-number">0</span>)
â€‹
 Â  Â  Â  Â <span class="hljs-comment"># 3. Otsu è‡ªåŠ¨é˜ˆå€¼ + åè½¬</span>
 Â  Â  Â  Â <span class="hljs-comment"># Â  THRESH_BINARY_INV æ˜¯å› ä¸ºï¼šCaCO3 åœ¨åŸå›¾é‡Œæ˜¯é»‘çš„ï¼ˆåƒç´ å€¼å°ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-comment"># Â  åè½¬ä¹‹åï¼šCaCO3 -&gt; ç™½è‰²(255)ï¼ŒèƒŒæ™¯ -&gt; é»‘è‰²(0)</span>
 Â  Â  Â  Â _, <span class="hljs-attr">binary</span> = cv.threshold(
 Â  Â  Â  Â  Â  Â blur, 0, 255,
 Â  Â  Â  Â  Â  Â cv.THRESH_BINARY_INV + cv.THRESH_OTSU
 Â  Â  Â   )
â€‹
 Â  Â  Â  Â <span class="hljs-comment"># 4. åšä¸€ç‚¹å½¢æ€å­¦å¼€è¿ç®—ï¼Œå»æ‰å°å­¤ç«‹å™ªç‚¹ï¼ˆå¯é€‰ï¼‰</span>
 Â  Â  Â  Â <span class="hljs-attr">kernel</span> = np.<span class="hljs-literal">on</span>es((<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), np.uint8)
 Â  Â  Â  Â <span class="hljs-attr">binary_clean</span> = cv.morphologyEx(binary, cv.MORPH_OPEN, kernel, iterations=<span class="hljs-number">1</span>)
â€‹
 Â  Â  Â  Â <span class="hljs-comment"># 5. ä¿å­˜ç»“æœ</span>
 Â  Â  Â  Â <span class="hljs-attr">base_name</span> = os.path.splitext(os.path.basename(img_path))[<span class="hljs-number">0</span>]
 Â  Â  Â  Â <span class="hljs-attr">out_path</span> = os.path.join(output_dir, base_name + <span class="hljs-string">"_CaCO3_binary.png"</span>)
 Â  Â  Â  Â cv.imwrite(out_path, binary_clean)
â€‹
 Â  Â  Â  Â print(f"<span class="hljs-section">[OK]</span> å·²ä¿å­˜: {out_path}")
â€‹
</code></pre>
<h2 data-id="heading-2">ç»“æœ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/277a6cdde630431b9c593577a1a68770~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bO75rW35rW3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769675939&amp;x-signature=hoA3GVE8IPMEr%2BFMmg1f6Gv%2B7po%3D" alt="MICP-5-24.tif" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b86e73291aba498aa3d76d30ee6130c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bO75rW35rW3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769675939&amp;x-signature=QnWYHqorBOrJKGPC2E8rj4oMIdU%3D" alt="MICP-5-24_CaCO3_binary.png" loading="lazy"/>
æœ€ç»ˆè¾“å‡ºçš„ç»“æœå…¶å®æœ‰äº›ä¸å°½äººæ„å› ä¸ºæ˜¯åœ¨æ˜¾å¾®é•œä¸‹é¢çš„å›¾åƒï¼Œæ‰€ä»¥ä»…ä»…åªç”¨æ™®é€šçš„é¢œè‰²è¿‡æ»¤ä¼šè®©ä¸€éƒ¨åˆ†çš„é˜´å½±ä¹Ÿè¢«è¯†åˆ«æˆäº†æ²‰æ·€ï¼Œä½†æ˜¯æ€»çš„æ¥è¯´æˆ‘å¯¹äºåç»­çš„å­¦ä¹ æ›´åŠ å……æ»¡äº†åŠ¨åŠ›ï¼Œå› ä¸ºè®©æˆ‘æ„Ÿå—åˆ°äº†å›¾åƒå¤„ç†çš„å¼ºå¤§ã€‚åœ¨åšå®Œè¿™ä¸ªå°è„šæœ¬ä¹‹åæˆ‘ä¹Ÿè¿›ä¸€æ­¥å­¦ä¹ äº†è‡ªé€‚åº”é˜ˆå€¼ã€Otsué˜ˆå€¼ï¼Œè™½ç„¶æ²¡æœ‰è¿›ä¸€æ­¥å°è¯•ï¼Œä½†æ˜¯å…³äºé˜ˆå€¼å¤„ç†çš„æ•°å­¦æ–¹æ³•ä¹Ÿè®©æˆ‘æ„Ÿåˆ°äº†éœ‡æ’¼ï¼Œäººç±»çš„æ™ºæ…§çœŸçš„å¾ˆå¤§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TSå¼‚æ­¥ç¼–ç¨‹]]></title>    <link>https://juejin.cn/post/7597742970282262580</link>    <guid>https://juejin.cn/post/7597742970282262580</guid>    <pubDate>2026-01-22T08:45:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597742970282262580" data-draft-id="7597779410406228002" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TSå¼‚æ­¥ç¼–ç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,TypeScript"/> <meta itemprop="datePublished" content="2026-01-22T08:45:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·030480591263"/> <meta itemprop="url" content="https://juejin.cn/user/3793762867478852"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TSå¼‚æ­¥ç¼–ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3793762867478852/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·030480591263
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:45:09.000Z" title="Thu Jan 22 2026 08:45:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>Geminiç”Ÿæˆ</p>
</blockquote>
<h2 data-id="heading-0">ç¬¬ä¸€éƒ¨åˆ†ï¼šæ ¸å¿ƒæ¦‚å¿µ (Why &amp; What)</h2>
<p>åœ¨ç¼–ç¨‹ä¸–ç•Œé‡Œï¼Œä»£ç çš„æ‰§è¡Œæ–¹å¼ä¸»è¦åˆ†ä¸¤ç§ï¼š<strong>åŒæ­¥ (Synchronous)</strong> å’Œ <strong>å¼‚æ­¥ (Asynchronous)</strong>ã€‚</p>
<h3 data-id="heading-1">1. åŒæ­¥ (Synchronous) â€”â€” â€œæ­»å¿ƒçœ¼çš„æ’é˜Ÿè€…â€</h3>
<p><strong>æ¦‚å¿µï¼š</strong>
ä»£ç ä»ä¸Šåˆ°ä¸‹ï¼Œä¸€è¡Œä¸€è¡Œæ‰§è¡Œã€‚ä¸Šä¸€è¡Œä»£ç æ²¡æœ‰æ‰§è¡Œå®Œï¼Œä¸‹ä¸€è¡Œä»£ç ç»å¯¹ä¸ä¼šå¼€å§‹ã€‚</p>
<p><strong>ç”Ÿæ´»ç±»æ¯”ï¼š</strong>
æƒ³è±¡ä½ åœ¨<strong>é“¶è¡ŒæŸœå°</strong>åŠç†ä¸šåŠ¡ã€‚</p>
<ol>
<li>ä½ å‰é¢æœ‰ä¸€ä¸ªäººæ­£åœ¨åŠä¸šåŠ¡ï¼ˆä»£ç è¡Œ Aï¼‰ã€‚</li>
<li>ä¸ç®¡ä»–åŠå¾—æœ‰å¤šæ…¢ï¼Œä½ ï¼ˆä»£ç è¡Œ Bï¼‰éƒ½åªèƒ½åœ¨åé¢å¹²ç«™ç€ç­‰ã€‚</li>
<li>ä½ ä¸èƒ½ç©æ‰‹æœºï¼Œä¸èƒ½å»ä¸Šå•æ‰€ï¼Œåªèƒ½<strong>é˜»å¡ (Block)</strong> åœ¨é‚£é‡Œï¼Œç›´åˆ°ä»–ç»“æŸã€‚</li>
</ol>
<p><strong>ä»£ç è¡¨ç°ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"1. å¼€å§‹ç‚¹é¤"</span>);
<span class="hljs-title function_">alert</span>(<span class="hljs-string">"æˆ‘æ˜¯åŒæ­¥çš„å¼¹çª—ï¼Œæˆ‘ä¸å…³æ‰ï¼Œä½ ä»€ä¹ˆéƒ½åšä¸äº†ï¼"</span>); <span class="hljs-comment">// è¿™é‡Œä¼šå¡ä½</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"2. åƒé¥­"</span>);
</code></pre>
<p><em>å¦‚æœä¸ç‚¹å‡»å¼¹çª—çš„ç¡®å®šï¼Œ"2. åƒé¥­" æ°¸è¿œä¸ä¼šæ‰“å°å‡ºæ¥ã€‚è¿™å°±æ˜¯â€œé˜»å¡â€ã€‚</em></p>
<hr/>
<h3 data-id="heading-2">2. å¼‚æ­¥ (Asynchronous) â€”â€” â€œæ‹¿ç€å–é¤å™¨çš„é£Ÿå®¢â€</h3>
<p><strong>æ¦‚å¿µï¼š</strong>
é‡åˆ°è€—æ—¶çš„ä»»åŠ¡ï¼ˆæ¯”å¦‚ä»ç½‘ç»œä¸‹è½½å›¾ç‰‡ã€è¯»å–æ–‡ä»¶ï¼‰ï¼Œç¨‹åºä¸ä¼šå‚»ç­‰ï¼Œè€Œæ˜¯æŠŠä»»åŠ¡äº¤ç»™â€œåˆ«äººâ€ï¼ˆæµè§ˆå™¨æˆ–æ“ä½œç³»ç»Ÿï¼‰å»å¤„ç†ï¼Œè‡ªå·±ç»§ç»­å¾€ä¸‹æ‰§è¡Œåé¢çš„ä»£ç ã€‚ç­‰è€—æ—¶ä»»åŠ¡åšå®Œäº†ï¼Œå†é€šçŸ¥ç¨‹åºå›æ¥å¤„ç†ç»“æœã€‚</p>
<p><strong>ç”Ÿæ´»ç±»æ¯”ï¼š</strong>
æƒ³è±¡ä½ åœ¨<strong>å¥¶èŒ¶åº—</strong>ç‚¹å•ã€‚</p>
<ol>
<li>ä½ ç‚¹äº†ä¸€æ¯åˆ¶ä½œå¾ˆå¤æ‚çš„å¥¶èŒ¶ï¼ˆè€—æ—¶ä»»åŠ¡ï¼‰ã€‚</li>
<li>åº—å‘˜æ²¡æœ‰è®©ä½ ç«™åœ¨æŸœå°å‰ç›¯ç€ä»–åšï¼Œè€Œæ˜¯ç»™äº†ä½ ä¸€ä¸ª<strong>å–é¤å™¨</strong>ï¼ˆå›è°ƒ/Promiseï¼‰ï¼Œç„¶åè¯´ï¼šâ€œä½ å…ˆå»æ—è¾¹åç€ç©æ‰‹æœºï¼Œå¥½äº†éœ‡åŠ¨å«ä½ ã€‚â€</li>
<li>ä½ æ‰¾ä¸ªä½ç½®åä¸‹ï¼ˆç»§ç»­æ‰§è¡Œåç»­ä»£ç ï¼‰ã€‚</li>
<li>è¿‡äº†ä¸€ä¼šå„¿ï¼Œå¥¶èŒ¶å¥½äº†ï¼Œå–é¤å™¨éœ‡åŠ¨ï¼Œä½ å»æ‹¿å¥¶èŒ¶ï¼ˆå¤„ç†å¼‚æ­¥ç»“æœï¼‰ã€‚</li>
</ol>
<p><strong>ä»£ç è¡¨ç°ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"1. ç‚¹å•ï¼šæˆ‘è¦ä¸€æ¯å¥¶èŒ¶"</span>);

<span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿå¼‚æ­¥çš„å‡½æ•°ï¼Œå‡è®¾éœ€è¦ 2 ç§’é’Ÿ</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"3. å¥¶èŒ¶å¥½äº†ï¼(è¿™æ˜¯å¼‚æ­¥å›æ¥çš„ç»“æœ)"</span>);
}, <span class="hljs-number">2000</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"2. æ‰¾ä¸ªä½ç½®åä¸‹ç©æ‰‹æœº"</span>);
</code></pre>
<p><strong>æ§åˆ¶å°çš„æ‰“å°é¡ºåºæ˜¯ï¼š</strong></p>
<ol>
<li><code>1. ç‚¹å•...</code></li>
<li><code>2. æ‰¾ä¸ªä½ç½®...</code> (æ³¨æ„ï¼šè¿™é‡Œç›´æ¥è·³è¿‡äº†ç­‰å¾…ï¼Œå…ˆæ‰§è¡Œäº†ï¼)</li>
<li>(è¿‡äº†2ç§’å) <code>3. å¥¶èŒ¶å¥½äº†...</code></li>
</ol>
<hr/>
<h3 data-id="heading-3">3. ä¸ºä»€ä¹ˆ JavaScript/TypeScript å¿…é¡»è¦æœ‰å¼‚æ­¥ï¼Ÿ</h3>
<p>ä½ å¯èƒ½ä¼šé—®ï¼š<em>â€œåŒæ­¥å¤šç®€å•å•Šï¼Œé€»è¾‘æ¸…æ™°ï¼Œä¸ºä»€ä¹ˆè¦æè¿™ä¹ˆå¤æ‚çš„å¼‚æ­¥ï¼Ÿâ€</em></p>
<p>è¿™å’Œ JS çš„å‡ºèº«æœ‰å…³ï¼š</p>
<ol>
<li><strong>å•çº¿ç¨‹ (Single Thread)</strong>ï¼šJavaScriptï¼ˆä»¥åŠç¼–è¯‘åçš„ TSï¼‰æ˜¯<strong>å•çº¿ç¨‹</strong>çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåªæœ‰ä¸€ä¸ªâ€œå¤§è„‘â€ï¼ŒåŒä¸€æ—¶é—´åªèƒ½åšä¸€ä»¶äº‹ã€‚å®ƒä¸åƒ Java æˆ– C++ é‚£æ ·å¯ä»¥å¼€å¯å¤šæ¡çº¿ç¨‹åŒæ—¶å·¥ä½œã€‚</li>
<li><strong>æµè§ˆå™¨çš„ä½“éªŒ</strong>ï¼š
<ul>
<li>å‡è®¾ä½ æ‰“å¼€ä¸€ä¸ªç½‘é¡µï¼Œå®ƒéœ€è¦å»æœåŠ¡å™¨è¯·æ±‚â€œç”¨æˆ·åˆ—è¡¨â€ã€‚</li>
<li>å¦‚æœä½¿ç”¨<strong>åŒæ­¥</strong>ï¼šåœ¨æ•°æ®è¯·æ±‚å›æ¥çš„è¿™ 1-2 ç§’å†…ï¼Œç½‘é¡µä¼š<strong>å®Œå…¨å¡æ­»</strong>ã€‚ä½ ç‚¹å‡»æŒ‰é’®æ²¡ååº”ï¼Œæ»šåŠ¨æ¡æ»šä¸åŠ¨ï¼Œç”šè‡³æ— æ³•å…³é—­ç½‘é¡µã€‚è¿™å¯¹ç”¨æˆ·ä½“éªŒæ˜¯ç¾éš¾æ€§çš„ã€‚</li>
<li>å¦‚æœä½¿ç”¨<strong>å¼‚æ­¥</strong>ï¼šè¯·æ±‚å‘å‡ºå»åï¼Œæµè§ˆå™¨ç»§ç»­å“åº”ä½ çš„é¼ æ ‡ç‚¹å‡»å’Œæ»šåŠ¨ï¼Œç­‰æ•°æ®å›æ¥äº†ï¼Œå†æ‚„æ‚„æŠŠåˆ—è¡¨æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚</li>
</ul>
</li>
</ol>
<p><strong>æ€»ç»“ç¬¬ä¸€éƒ¨åˆ†ï¼š</strong></p>
<ul>
<li><strong>åŒæ­¥</strong> = é¡ºåºæ‰§è¡Œï¼Œä¼šå¡ä½ï¼ˆé˜»å¡ï¼‰ã€‚</li>
<li><strong>å¼‚æ­¥</strong> = ä¸ç­‰å¾…ï¼Œç»§ç»­å¾€ä¸‹èµ°ï¼Œå›å¤´å†å¤„ç†ç»“æœã€‚</li>
<li><strong>TS/JS çš„ç‰¹æ€§</strong> = å•çº¿ç¨‹ï¼Œä¸ºäº†ä¸è®©ç½‘é¡µ/ç¨‹åºå¡æ­»ï¼Œå¿…é¡»å¤§é‡ä½¿ç”¨å¼‚æ­¥ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4"><strong>ç¬¬äºŒéƒ¨åˆ†ï¼šå¼‚æ­¥çš„æ¼”è¿›å² (History)</strong></h2>
<p>JavaScript/TypeScript çš„å¼‚æ­¥æ¼”è¿›å²ï¼Œå…¶å®å°±æ˜¯ä¸€éƒ¨<strong>ä¸â€œä»£ç å¯è¯»æ€§â€æŠ—äº‰çš„å†å²</strong>ã€‚æˆ‘ä»¬çš„ç›®æ ‡å§‹ç»ˆæœªå˜ï¼š<strong>è®©å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ä¸€æ ·ç®€å•æ˜“æ‡‚ã€‚</strong></p>
<p>æˆ‘ä»¬åˆ†ä¸‰ä¸ªé˜¶æ®µæ¥è®²ï¼š</p>
<hr/>
<h3 data-id="heading-5">1. ç¬¬ä¸€é˜¶æ®µï¼šä¸Šå¤æ—¶ä»£ â€”â€” å›è°ƒå‡½æ•° (Callback)</h3>
<p>åœ¨ Promise å‡ºç°ä¹‹å‰ï¼ˆå¤§çº¦æ˜¯ 2015 å¹´ ES6 æ ‡å‡†å‘å¸ƒå‰ï¼‰ï¼Œæˆ‘ä»¬å¤„ç†å¼‚æ­¥åªæœ‰ä¸€ç§åŠæ³•ï¼š<strong>å›è°ƒå‡½æ•°</strong>ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯å›è°ƒï¼Ÿ</strong>
ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä½ å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä½†ä½ è‡ªå·±ä¸è°ƒç”¨å®ƒï¼Œè€Œæ˜¯æŠŠå®ƒä½œä¸ºå‚æ•°ä¼ ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼ˆæ¯”å¦‚ç½‘ç»œè¯·æ±‚å‡½æ•°ï¼‰ã€‚ä½ å‘Šè¯‰å¯¹æ–¹ï¼šâ€œç­‰ä½ åšå®Œä½ çš„äº‹ï¼Œå›å¤´(Call back)è°ƒç”¨ä¸€ä¸‹æˆ‘è¿™ä¸ªå‡½æ•°ï¼ŒæŠŠç»“æœä¼ ç»™æˆ‘ã€‚â€</p>
<p><strong>åœºæ™¯æ¨¡æ‹Ÿï¼š</strong>
æˆ‘ä»¬è¦å»æ•°æ®åº“è·å–ç”¨æˆ·ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªå›è°ƒå‡½æ•°çš„ç±»å‹ï¼šæ¥æ”¶ string ç±»å‹çš„æ•°æ®ï¼Œæ²¡æœ‰è¿”å›å€¼</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MyCallback</span> = <span class="hljs-function">(<span class="hljs-params">data: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserData</span>(<span class="hljs-params">callback: MyCallback</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"1. å¼€å§‹å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®..."</span>);
    
    <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶ 1 ç§’</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"2. æœåŠ¡å™¨è¿”å›æ•°æ®äº†"</span>);
        <span class="hljs-keyword">const</span> data = <span class="hljs-string">"å¼ ä¸‰"</span>;
        <span class="hljs-comment">// å…³é”®ç‚¹ï¼šä»»åŠ¡åšå®Œåï¼Œæ‰‹åŠ¨è°ƒç”¨ä¼ è¿›æ¥çš„å‡½æ•°</span>
        <span class="hljs-title function_">callback</span>(data); 
    }, <span class="hljs-number">1000</span>);
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-title function_">getUserData</span>(<span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`3. æ‹¿åˆ°ç”¨æˆ·åï¼š<span class="hljs-subst">${name}</span>`</span>);
});
</code></pre>
<p><strong>é—®é¢˜åœ¨å“ªé‡Œï¼Ÿ</strong>
å¦‚æœæ˜¯è¿™ä¸€å±‚ç®€å•çš„è°ƒç”¨ï¼Œçœ‹èµ·æ¥è¿˜ä¸é”™ã€‚ä½†ç°å®å¾€å¾€å¾ˆæ®‹é…·ã€‚</p>
<hr/>
<h3 data-id="heading-6">2.ç¬¬äºŒé˜¶æ®µï¼šé»‘æš—æ—¶ä»£ â€”â€” å›è°ƒåœ°ç‹± (Callback Hell)</h3>
<p><strong>åœºæ™¯å‡çº§ï¼š</strong>
ç°åœ¨çš„ä¸šåŠ¡é€»è¾‘å˜æˆäº†è¿™æ ·ï¼Œå¿…é¡»ä¸¥æ ¼æŒ‰é¡ºåºæ‰§è¡Œï¼š</p>
<ol>
<li>å…ˆè·å–ç”¨æˆ·åï¼ˆæ¯”å¦‚ "å¼ ä¸‰"ï¼‰ã€‚</li>
<li>æ‹¿åˆ°ç”¨æˆ·ååï¼Œå»æ•°æ®åº“æŸ¥ä»–çš„<strong>ID</strong>ã€‚</li>
<li>æ‹¿åˆ° ID åï¼Œå»æŸ¥ä»–çš„<strong>è®¢å•</strong>ã€‚</li>
</ol>
<p><strong>ä»£ç ä¼šå˜æˆä»€ä¹ˆæ ·ï¼Ÿ</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¼ªä»£ç æ¼”ç¤ºï¼Œæ³¨æ„çœ‹ç¼©è¿›çš„å½¢çŠ¶</span>
<span class="hljs-title function_">getUserName</span>(<span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¿åˆ°åå­—: <span class="hljs-subst">${name}</span>`</span>);
    
    <span class="hljs-comment">// åœ¨å›è°ƒé‡Œé¢åµŒå¥—ç¬¬äºŒä¸ªè¯·æ±‚</span>
    <span class="hljs-title function_">getUserId</span>(name, <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¿åˆ°ID: <span class="hljs-subst">${id}</span>`</span>);
        
        <span class="hljs-comment">// åœ¨å›è°ƒé‡Œé¢åµŒå¥—ç¬¬ä¸‰ä¸ªè¯·æ±‚</span>
        <span class="hljs-title function_">getUserOrders</span>(id, <span class="hljs-function">(<span class="hljs-params">orders</span>) =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¿åˆ°è®¢å•: <span class="hljs-subst">${orders}</span>`</span>);
            
            <span class="hljs-comment">// å¦‚æœè¿˜æœ‰ç¬¬å››æ­¥... å±å¹•å°±è¦ç‚¸äº†</span>
            <span class="hljs-title function_">getOrderDetails</span>(orders[<span class="hljs-number">0</span>], <span class="hljs-function">(<span class="hljs-params">detail</span>) =&gt;</span> {
                <span class="hljs-comment">// ...</span>
            });
        });
    });
});
</code></pre>
<p><strong>è¿™å°±æ˜¯è‘—åçš„â€œå›è°ƒåœ°ç‹±â€ï¼ˆä¹Ÿå°±æ˜¯â€œå„è¿é‡‘å­—å¡”â€ï¼‰ï¼š</strong></p>
<ol>
<li><strong>ä»£ç æ¨ªå‘å‘å±•</strong>ï¼šç¼©è¿›è¶Šæ¥è¶Šæ·±ï¼Œé˜…è¯»æå…¶å›°éš¾ã€‚</li>
<li><strong>é”™è¯¯å¤„ç†ç¾éš¾</strong>ï¼šä½ éœ€è¦åœ¨æ¯ä¸€å±‚å›è°ƒé‡Œå•ç‹¬å†™ <code>if (error) ...</code>ï¼Œæå…¶å®¹æ˜“æ¼æ‰ã€‚</li>
<li><strong>ç»´æŠ¤å›°éš¾</strong>ï¼šæƒ³è°ƒæ•´ä¸€ä¸‹é¡ºåºï¼Ÿä½ è¦å°å¿ƒç¿¼ç¿¼åœ°æ‹†æ‹¬å·ï¼Œå¾ˆå®¹æ˜“æ”¹å´©ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-7">3.ç¬¬ä¸‰é˜¶æ®µï¼šæ›™å…‰åˆç° â€”â€” Promise (æ‰¿è¯º)</h3>
<p>ä¸ºäº†è§£å†³â€œå›è°ƒåœ°ç‹±â€ï¼Œç¤¾åŒºæå‡ºäº†ä¸€ç§æ–°çš„è§„èŒƒï¼Œåæ¥è¢«çº³å…¥äº† ES6 æ ‡å‡†ï¼Œè¿™å°±æ˜¯ <strong>Promise</strong>ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯ Promiseï¼Ÿ</strong>
å®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨äº†â€œä¸€ä¸ªæœªæ¥æ‰ä¼šçŸ¥é“ç»“æœçš„æ“ä½œâ€ã€‚
ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€å¼ <strong>æŠ«è¨åº—çš„å–é¤å°ç¥¨</strong>ã€‚
å½“ä½ æ‹¿åˆ°è¿™ä¸ª Promiseï¼ˆå°ç¥¨ï¼‰æ—¶ï¼ŒæŠ«è¨è¿˜æ²¡å¥½ï¼Œä½†å®ƒ<strong>æ‰¿è¯º</strong>æœªæ¥ä¼šç»™ä½ ä¸¤ä¸ªç»“æœä¸­çš„ä¸€ä¸ªï¼š</p>
<ol>
<li><strong>Fulfilled (æˆåŠŸ)</strong>ï¼šæŠ«è¨åšå¥½äº†ï¼Œç»™ä½ æŠ«è¨ã€‚</li>
<li><strong>Rejected (å¤±è´¥)</strong>ï¼šçƒ¤ç®±ç‚¸äº†ï¼Œç»™ä½ ä¸€ä¸ªé”™è¯¯åŸå› ã€‚</li>
</ol>
<p><strong>Promise æœ€å¤§çš„è´¡çŒ®ï¼šé“¾å¼è°ƒç”¨ (Chaining)</strong>
å®ƒæŠŠâ€œå›è°ƒåœ°ç‹±â€çš„æ¨ªå‘åµŒå¥—ï¼Œæ‹‰ç›´æˆäº†çºµå‘çš„é“¾æ¡ã€‚</p>
<p><strong>TypeScript ä¸­çš„ Promise å†™æ³•ï¼š</strong></p>
<p>æˆ‘ä»¬çœ‹çœ‹ä¸Šé¢çš„â€œå›è°ƒåœ°ç‹±â€ç”¨ Promise æ”¹å†™åæ˜¯ä»€ä¹ˆæ ·ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å‡è®¾è¿™äº›å‡½æ•°ç°åœ¨è¿”å›çš„æ˜¯ Promiseï¼Œè€Œä¸æ˜¯æ¥å—å›è°ƒ</span>
<span class="hljs-comment">// getUserName() -&gt; è¿”å› Promise&lt;string&gt;</span>

<span class="hljs-title function_">getUserName</span>()
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¿åˆ°åå­—: <span class="hljs-subst">${name}</span>`</span>);
        <span class="hljs-comment">// è¿”å›ä¸‹ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œç»§ç»­å¾€ä¸‹ä¼ </span>
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">getUserId</span>(name); 
    })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¿åˆ°ID: <span class="hljs-subst">${id}</span>`</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">getUserOrders</span>(id);
    })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">orders</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¿åˆ°è®¢å•: <span class="hljs-subst">${orders}</span>`</span>);
    })
    .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-comment">// é‡ç‚¹ï¼šè¿™é‡Œä¸€ä¸ª catch å¯ä»¥æ•è·ä¸Šé¢ä»»ä½•ä¸€æ­¥å‘ç”Ÿçš„é”™è¯¯ï¼</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å‡ºé”™äº†:"</span>, error);
    });
</code></pre>
<blockquote>
<p>å®Œæ•´ä»£ç </p>
</blockquote>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. è·å–ç”¨æˆ·åçš„å‡½æ•°</span>
<span class="hljs-comment">// è¿”å›å€¼ç±»å‹ï¼šPromise&lt;string&gt; -&gt; æ‰¿è¯ºæœªæ¥ä¼šç»™å‡ºä¸€ä¸ª string</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserName</span>(<span class="hljs-params"/>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"--- 1. å¼€å§‹è¯·æ±‚ç”¨æˆ·å ---"</span>);
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œè€—æ—¶ 1ç§’</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-keyword">const</span> isSuccess = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ¨¡æ‹Ÿï¼šå‡è®¾è¯·æ±‚æˆåŠŸ</span>

            <span class="hljs-keyword">if</span> (isSuccess) {
                <span class="hljs-comment">// æˆåŠŸäº†ï¼è°ƒç”¨ resolveï¼ŒæŠŠæ•°æ® "å¼ ä¸‰" ä¼ å‡ºå»</span>
                <span class="hljs-comment">// è¿™ä¸ª "å¼ ä¸‰" ä¼šä¼ ç»™ä¸‹ä¸€ä¸ª .then((name) =&gt; ...) é‡Œçš„ name</span>
                <span class="hljs-title function_">resolve</span>(<span class="hljs-string">"å¼ ä¸‰"</span>); 
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// å¤±è´¥äº†ï¼è°ƒç”¨ reject</span>
                <span class="hljs-comment">// è¿™ä¼šè·³è¿‡åé¢çš„ .thenï¼Œç›´æ¥è¿›å…¥æœ€åçš„ .catch</span>
                <span class="hljs-title function_">reject</span>(<span class="hljs-string">"è·å–ç”¨æˆ·åå¤±è´¥ï¼šç½‘ç»œè¿æ¥æ–­å¼€"</span>); 
            }
        }, <span class="hljs-number">1000</span>);
    });
}

<span class="hljs-comment">// 2. è·å–ç”¨æˆ·IDçš„å‡½æ•°</span>
<span class="hljs-comment">// æ¥æ”¶å‚æ•° nameï¼Œè¿”å› Promise&lt;number&gt;</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserId</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`--- 2. æ­£åœ¨æŸ¥ <span class="hljs-subst">${name}</span> çš„ID ---`</span>);

        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// å‡è®¾æˆ‘ä»¬æŸ¥åˆ°äº† ID æ˜¯ 10086</span>
            <span class="hljs-title function_">resolve</span>(<span class="hljs-number">10086</span>);
        }, <span class="hljs-number">1000</span>);
    });
}

<span class="hljs-comment">// 3. è·å–è®¢å•çš„å‡½æ•°</span>
<span class="hljs-comment">// æ¥æ”¶å‚æ•° idï¼Œè¿”å› Promise&lt;string[]&gt; (å­—ç¬¦ä¸²æ•°ç»„)</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserOrders</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>[]&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`--- 3. æ­£åœ¨æŸ¥ ID:<span class="hljs-subst">${id}</span> çš„è®¢å• ---`</span>);

        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// è¿”å›è®¢å•åˆ—è¡¨</span>
            <span class="hljs-title function_">resolve</span>([<span class="hljs-string">"å¥¶èŒ¶"</span>, <span class="hljs-string">"ç‚¸é¸¡"</span>, <span class="hljs-string">"Switchæ¸¸æˆæœº"</span>]);
        }, <span class="hljs-number">1000</span>);
    });
}

<span class="hljs-comment">// --- å®é™…è°ƒç”¨éƒ¨åˆ†ï¼ˆå°±æ˜¯ä½ åˆšæ‰çœ‹åˆ°çš„é‚£æ®µä»£ç ï¼‰ ---</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç¨‹åºå¯åŠ¨..."</span>);

<span class="hljs-title function_">getUserName</span>()
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> {
        <span class="hljs-comment">// è¿™é‡Œæ¥æ”¶åˆ°çš„ name å°±æ˜¯ resolve("å¼ ä¸‰") é‡Œçš„ "å¼ ä¸‰"</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ… æ‹¿åˆ°åå­—: <span class="hljs-subst">${name}</span>`</span>);
        
        <span class="hljs-comment">// å…³é”®ç‚¹ï¼šè¿™é‡Œ return äº†ä¸‹ä¸€ä¸ª Promise å‡½æ•°çš„è°ƒç”¨</span>
        <span class="hljs-comment">// è¿™æ ·ä¸‹ä¸€ä¸ª .then æ‰ä¼šç­‰åˆ° getUserId å®Œæˆåæ‰æ‰§è¡Œ</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">getUserId</span>(name); 
    })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {
        <span class="hljs-comment">// è¿™é‡Œæ¥æ”¶åˆ°çš„ id å°±æ˜¯ resolve(10086) é‡Œçš„ 10086</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ… æ‹¿åˆ°ID: <span class="hljs-subst">${id}</span>`</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">getUserOrders</span>(id);
    })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">orders</span>) =&gt;</span> {
        <span class="hljs-comment">// è¿™é‡Œæ¥æ”¶åˆ°çš„ orders å°±æ˜¯é‚£ä¸ªæ•°ç»„</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ… æ‹¿åˆ°è®¢å•: <span class="hljs-subst">${orders}</span>`</span>);
    })
    .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`âŒ æµç¨‹ä¸­æ–­: <span class="hljs-subst">${error}</span>`</span>);
    })
    .<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// (å¯é€‰) finally ä¸ç®¡æˆåŠŸå¤±è´¥éƒ½ä¼šæ‰§è¡Œ</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"--- æµç¨‹ç»“æŸ ---"</span>);
    });
</code></pre>
<p><strong>Promise çš„æ ¸å¿ƒçŠ¶æ€ï¼ˆé¢è¯•å¸¸è€ƒï¼‰ï¼š</strong>
ä¸€ä¸ª Promise ä¸€å®šå¤„äºä»¥ä¸‹ä¸‰ç§çŠ¶æ€ä¹‹ä¸€ï¼š</p>
<ol>
<li><strong>Pending (è¿›è¡Œä¸­)</strong>ï¼šåˆšåˆå§‹åŒ–ï¼Œè¿˜æ²¡ç»“æœã€‚</li>
<li><strong>Fulfilled / Resolved (å·²æˆåŠŸ)</strong>ï¼šæ“ä½œæˆåŠŸï¼Œè°ƒç”¨äº† <code>.then</code>ã€‚</li>
<li><strong>Rejected (å·²å¤±è´¥)</strong>ï¼šæ“ä½œå¤±è´¥ï¼Œè°ƒç”¨äº† <code>.catch</code>ã€‚</li>
</ol>
<p><strong>TS ç±»å‹å°è´´å£«ï¼š</strong>
åœ¨ TypeScript ä¸­ï¼ŒPromise æ˜¯æœ‰<strong>æ³›å‹</strong>çš„ã€‚
å¦‚æœä¸€ä¸ªå¼‚æ­¥å‡½æ•°æœ€ç»ˆè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒçš„ç±»å‹æ˜¯ <code>Promise&lt;string&gt;</code>ã€‚
å¦‚æœè¿”å›ä¸€ä¸ªæ•°å­—ï¼Œç±»å‹æ˜¯ <code>Promise&lt;number&gt;</code>ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªè¿”å› Promise çš„å‡½æ•°å®šä¹‰ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">wait</span>(<span class="hljs-params">ms: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-title function_">resolve</span>(<span class="hljs-string">"æ—¶é—´åˆ°ï¼"</span>);
        }, ms);
    });
}
</code></pre>
<hr/>
<p><strong>æ€»ç»“ç¬¬äºŒéƒ¨åˆ†ï¼š</strong></p>
<ul>
<li><strong>å›è°ƒå‡½æ•°</strong>ï¼šæœ€åŸå§‹ï¼Œå®¹æ˜“å¯¼è‡´åµŒå¥—è¿‡æ·±ï¼ˆå›è°ƒåœ°ç‹±ï¼‰ã€‚</li>
<li><strong>Promise</strong>ï¼šé€šè¿‡ <code>.then()</code> é“¾å¼è°ƒç”¨ï¼ŒæŠŠä»£ç æ‹‰ç›´äº†ï¼Œè§£å†³äº†ç¼©è¿›é—®é¢˜ï¼Œå¹¶ä¸”ç»Ÿä¸€äº†é”™è¯¯å¤„ç†ï¼ˆ<code>.catch()</code>ï¼‰ã€‚</li>
</ul>
<p>ä½†æ˜¯â€¦â€¦ä½ æœ‰æ²¡æœ‰å‘ç°ï¼ŒPromise è™½ç„¶æ¯”å›è°ƒå¥½ï¼Œä½†è¿˜æ˜¯æœ‰å¾ˆå¤š <code>.then()</code>ï¼Ÿä»£ç é‡Œå……æ–¥ç€å¾ˆå¤šå°æ‹¬å·å’Œç®­å¤´å‡½æ•°ï¼Œçœ‹èµ·æ¥ä¾ç„¶ä¸åƒæˆ‘ä»¬è¦çš„â€œåŒæ­¥ä»£ç â€ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦<strong>ç¬¬ä¸‰éƒ¨åˆ†ï¼šAsync/Await</strong>ï¼ˆç»ˆæè§£å†³æ–¹æ¡ˆï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-8"><strong>ç¬¬ä¸‰éƒ¨åˆ†ï¼šç°ä»£æ ‡å‡†å†™æ³• (Async/Await)</strong></h2>
<p>å¥½çš„ï¼Œæ¥åˆ°æœ€æ¿€åŠ¨äººå¿ƒçš„éƒ¨åˆ†äº†ï¼<strong>Async/Await</strong> æ˜¯ç°ä»£ JavaScript/TypeScript å¼€å‘çš„<strong>æ ‡é…</strong>ã€‚</p>
<p>å­¦ä¼šäº†è¿™ä¸ªï¼Œä½ å°±ä¸å†éœ€è¦å†™é‚£äº›ç¹ççš„ <code>.then</code> é“¾æ¡äº†ã€‚ä»£ç ä¼šå˜å¾—åƒå†™åŒæ­¥ä»£ç ï¼ˆæ¯”å¦‚ Java æˆ– Pythonï¼‰ä¸€æ ·ç›´è§‚ã€‚</p>
<hr/>
<h3 data-id="heading-9">1. ä»€ä¹ˆæ˜¯ Async/Awaitï¼Ÿ</h3>
<ul>
<li><strong>Async/Await</strong> æ˜¯åœ¨ ES2017 (ES8) å¼•å…¥çš„æ–°è¯­æ³•ã€‚</li>
<li>å®ƒæœ¬è´¨ä¸Šæ˜¯ <strong>Promise çš„è¯­æ³•ç³–</strong>ã€‚
<ul>
<li>ä¹Ÿå°±æ˜¯è¯´ï¼Œåº•å±‚ä¾ç„¶åœ¨è·‘ Promiseï¼Œåªæ˜¯å†™æ³•å˜äº†ï¼Œæœºå™¨æ‰§è¡Œçš„é€»è¾‘æ²¡å˜ã€‚</li>
</ul>
</li>
<li><strong>async</strong>ï¼šæ”¾åœ¨å‡½æ•°å®šä¹‰å‰ï¼Œè¡¨ç¤ºâ€œè¿™ä¸ªå‡½æ•°å†…éƒ¨æœ‰å¼‚æ­¥æ“ä½œâ€ã€‚</li>
<li><strong>await</strong>ï¼šæ”¾åœ¨ Promise å‰é¢ï¼Œè¡¨ç¤ºâ€œ<strong>ç­‰ä¸€ä¸‹</strong>ï¼Œç›´åˆ°è¿™ä¸ª Promise å‡ºç»“æœï¼ˆresolveï¼‰äº†ï¼Œå†å¾€ä¸‹èµ°â€ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">2. ä»£ç å¯¹æ¯”ï¼šä» Promise åˆ° Async/Await</h3>
<p>è®©æˆ‘ä»¬ç”¨åˆšæ‰å®šä¹‰çš„ä¸‰ä¸ªå‡½æ•°ï¼ˆ<code>getUserName</code>, <code>getUserId</code>, <code>getUserOrders</code>ï¼‰æ¥æ¼”ç¤ºã€‚å®ƒä»¬æœ¬èº«çš„å®šä¹‰ä¸éœ€è¦æ”¹ï¼Œåªéœ€è¦æ”¹<strong>è°ƒç”¨çš„æ–¹å¼</strong>ã€‚</p>
<h4 data-id="heading-11">æ—§å†™æ³• (Promise é“¾å¼è°ƒç”¨)</h4>
<p><em>å“ªæ€•é€»è¾‘å†æ¸…æ™°ï¼Œä¾ç„¶æœ‰å¾ˆå¤šå›è°ƒå‡½æ•°åµŒå¥—ã€‚</em></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">runOldWay</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">getUserName</span>()
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> <span class="hljs-title function_">getUserId</span>(name))
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">id</span> =&gt;</span> <span class="hljs-title function_">getUserOrders</span>(id))
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">orders</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(orders))
        .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err));
}
</code></pre>
<h4 data-id="heading-12">æ–°å†™æ³• (Async/Await)</h4>
<p><em>çœ‹ï¼æ²¡æœ‰å›è°ƒå‡½æ•°äº†ï¼å…¨æ˜¯èµ‹å€¼è¯­å¥ï¼</em></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. å¿…é¡»åœ¨å‡½æ•°å‰åŠ  async å…³é”®å­—</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runNewWay</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¼€å§‹ä»»åŠ¡..."</span>);

        <span class="hljs-comment">// 2. ä½¿ç”¨ await ç­‰å¾…ç»“æœï¼Œç›´æ¥èµ‹å€¼ç»™å˜é‡</span>
        <span class="hljs-comment">// JS å¼•æ“è¿è¡Œåˆ°è¿™é‡Œä¼šæš‚åœï¼Œç›´åˆ° getUserName é‡Œçš„ resolve è¢«è°ƒç”¨</span>
        <span class="hljs-keyword">const</span> name = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUserName</span>(); 
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¿åˆ°åå­—: <span class="hljs-subst">${name}</span>`</span>);

        <span class="hljs-comment">// ä¸Šä¸€è¡Œæ²¡æ‹¿åˆ°ç»“æœå‰ï¼Œè¿™ä¸€è¡Œç»ä¸ä¼šæ‰§è¡Œ</span>
        <span class="hljs-keyword">const</span> id = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUserId</span>(name);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¿åˆ°ID: <span class="hljs-subst">${id}</span>`</span>);

        <span class="hljs-keyword">const</span> orders = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUserOrders</span>(id);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¿åˆ°è®¢å•: <span class="hljs-subst">${orders}</span>`</span>);

    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-comment">// 3. é”™è¯¯å¤„ç†å›å½’åŸå§‹çš„ try...catch</span>
        <span class="hljs-comment">// åªè¦ä¸Šé¢ä»»ä½•ä¸€ä¸ª await çš„ Promise è¢« rejectï¼Œå°±ä¼šè·³åˆ°è¿™é‡Œ</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å‡ºé”™äº†:"</span>, error);
    }
}

<span class="hljs-comment">// è°ƒç”¨è¿™ä¸ªå¼‚æ­¥å‡½æ•°</span>
<span class="hljs-title function_">runNewWay</span>();
</code></pre>
<hr/>
<h3 data-id="heading-13">3. æ·±åº¦è§£æï¼š<code>await</code> åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿ</h3>
<p>å½“ä½ å†™ä¸‹ <code>const name = await getUserName();</code> æ—¶ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<ol>
<li><strong>æš‚åœæ‰§è¡Œ</strong>ï¼šå‡½æ•° <code>runNewWay</code> çš„æ‰§è¡Œè¢«<strong>æš‚åœ</strong>åœ¨è¿™ä¸€è¡Œã€‚</li>
<li><strong>è®©å‡ºçº¿ç¨‹</strong>ï¼šè™½ç„¶ <code>runNewWay</code> åœäº†ï¼Œä½†ä¸»çº¿ç¨‹æ²¡æœ‰å¡æ­»ï¼ˆæ²¡æœ‰é˜»å¡ï¼‰ã€‚æµè§ˆå™¨å¯ä»¥å»å¤„ç†ç‚¹å‡»äº‹ä»¶ã€æ¸²æŸ“åŠ¨ç”»ï¼Œæˆ–è€…æ‰§è¡Œ <code>runNewWay</code> å¤–é¢çš„å…¶ä»–ä»£ç ã€‚</li>
<li><strong>ç­‰å¾…ç»“æœ</strong>ï¼š<code>getUserName</code> åœ¨åå°è·‘ï¼ˆæ¯”å¦‚ç­‰å¾…ç½‘ç»œè¯·æ±‚ï¼‰ã€‚</li>
<li><strong>æ¢å¤æ‰§è¡Œ</strong>ï¼šä¸€æ—¦ <code>getUserName</code> å®Œæˆå¹¶ <code>resolve</code> äº†ç»“æœï¼Œ<code>runNewWay</code> ä¼šè¢«â€œå”¤é†’â€ã€‚ç»“æœè¢«èµ‹å€¼ç»™ <code>name</code>ï¼Œç„¶åç»§ç»­æ‰§è¡Œä¸‹ä¸€è¡Œä»£ç ã€‚</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong> <code>await</code> åªèƒ½ç”¨åœ¨ <code>async</code> å‡½æ•°å†…éƒ¨ã€‚ï¼ˆè™½ç„¶æœ€æ–°çš„ TS/JS æ”¯æŒ Top-level awaitï¼Œä½†åœ¨æ™®é€šå‡½æ•°é‡Œè¿˜æ˜¯ä¸è¡Œçš„ï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-14">4. TypeScript é‡Œçš„ Async å‡½æ•°ç±»å‹</h3>
<p>åœ¨ TypeScript ä¸­ï¼Œ<code>async</code> å‡½æ•°çš„è¿”å›å€¼ç±»å‹<strong>æ°¸è¿œæ˜¯ Promise</strong>ã€‚</p>
<p>å°±ç®—ä½  return çš„æ˜¯ä¸€ä¸ªæ™®é€šæ•°å­—ï¼ŒTS ä¹Ÿä¼šè‡ªåŠ¨å¸®ä½ ä¸è£…æˆ Promiseã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ™®é€šå‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">return</span> a + b;
}

<span class="hljs-comment">// Async å‡½æ•°</span>
<span class="hljs-comment">// è™½ç„¶çœ‹èµ·æ¥ return 3ï¼Œä½† TS æ¨æ–­å‡ºçš„è¿”å›ç±»å‹æ˜¯ Promise&lt;number&gt;</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">addAsync</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt; {
    <span class="hljs-keyword">return</span> a + b; 
}

<span class="hljs-comment">// è°ƒç”¨æ—¶å¿…é¡»å¤„ç† Promise</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-title function_">addAsync</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// result æ˜¯ Promise&lt;number&gt;</span>
<span class="hljs-comment">// æ­£ç¡®ç”¨æ³•ï¼š</span>
<span class="hljs-comment">// await addAsync(1, 2) æˆ– addAsync(1, 2).then(...)</span>
</code></pre>
<blockquote>
<p>ä»£ç åˆ†æ</p>
</blockquote>
<p><code>const result = addAsync(1, 2);</code>: æ— è®ºæœ‰æ²¡æœ‰åŠ <code>await</code>, <code>async</code>å‡½æ•°éƒ½æ˜¯è¿”å›<code>Promise&lt;&gt;</code>å¯¹è±¡. å¦‚æœæ²¡æœ‰æ·»åŠ <code>await</code>, ä¾ç„¶ä¼šæ‰§è¡Œè¯¥å¼‚æ­¥å‡½æ•°, ä½†æ˜¯ä¸ä¼šåœ¨è¿™é‡Œç­‰å¾…, ä¼šç«‹åˆ»æ‰§è¡Œä¸‹é¢çš„å‡½æ•°, è¿™ä¸ª<code>addAsync</code>å‡½æ•°å°±åœ¨åå°é»˜é»˜æ‰§è¡Œ.
æœ‰æ—¶å€™ä¼šæ•…æ„ä¸å†™<code>await</code>, æ¯”å¦‚ä¸‹é¢è¿™ä¸ªåœºæ™¯:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initPage</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å‘é€ä¸¤ä¸ªè¯·æ±‚ï¼Œä½†æˆ‘ä¸æƒ³ä¸²è¡Œç­‰å¾…ï¼ˆä¸å¸Œæœ› A å®Œäº†æ‰åš Bï¼‰</span>
    <span class="hljs-keyword">const</span> taskA = <span class="hljs-title function_">getUserInfo</span>(); <span class="hljs-comment">// æ²¡å†™ awaitï¼Œè¯·æ±‚å‘å‡ºå»äº†</span>
    <span class="hljs-keyword">const</span> taskB = <span class="hljs-title function_">getBanners</span>();  <span class="hljs-comment">// æ²¡å†™ awaitï¼Œè¯·æ±‚ä¹Ÿå‘å‡ºå»äº†</span>
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸¤ä¸ªè¯·æ±‚éƒ½å·²ç»å‘å‡ºå»äº†ï¼Œæ­£åœ¨åå°è·‘...'</span>);

    <span class="hljs-comment">// ç¨åæˆ‘å†ä¸€èµ·ç­‰å®ƒä»¬çš„ç»“æœ</span>
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> taskA;
    <span class="hljs-keyword">const</span> banner = <span class="hljs-keyword">await</span> taskB;
}
</code></pre>
<hr/>
<h4 data-id="heading-15">æ€»ç»“ç¬¬ä¸‰éƒ¨åˆ†</h4>
<ol>
<li><strong>å†™æ³•æ›´åƒåŒæ­¥</strong>ï¼šç”¨ <code>try...catch</code> æ›¿ä»£ <code>.catch</code>ï¼Œç”¨èµ‹å€¼æ›¿ä»£ <code>.then</code>ã€‚</li>
<li><strong>å¯è¯»æ€§é£è·ƒ</strong>ï¼šä»£ç é€»è¾‘ä»ä¸Šåˆ°ä¸‹ï¼Œç¬¦åˆäººç±»é˜…è¯»ä¹ æƒ¯ã€‚</li>
<li><strong>è°ƒè¯•æ–¹ä¾¿</strong>ï¼šåœ¨ <code>await</code> è¿™ä¸€è¡Œæ‰“æ–­ç‚¹ï¼Œä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ä¹‹å‰çš„å˜é‡çŠ¶æ€ï¼Œè¿™åœ¨ <code>.then</code> é“¾æ¡é‡Œæ˜¯å¾ˆéš¾åšåˆ°çš„ã€‚</li>
</ol>
<p>ç°åœ¨ï¼Œä½ å·²ç»æŒæ¡äº†æœ€ä¸»æµçš„å¼‚æ­¥å†™æ³•ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦è¿›å…¥<strong>ç¬¬å››éƒ¨åˆ†ï¼šTypeScript é‡Œçš„å¼‚æ­¥ç±»å‹</strong>ã€‚è¿™éƒ¨åˆ†ä¼šæ•™ä½ å¦‚ä½•åœ¨çœŸå®çš„å·¥ä½œä¸­ï¼ˆæ¯”å¦‚è°ƒç”¨åç«¯ APIï¼‰å®šä¹‰é‚£äº›å¤æ‚çš„æ•°æ®æ¥å£ã€‚è¿™ä¸€æ­¥æ˜¯ TS å¼€å‘è€…çš„æ—¥å¸¸ã€‚</p>
<hr/>
<h2 data-id="heading-16"><strong>ç¬¬å››éƒ¨åˆ†ï¼šTypeScript é‡Œçš„å¼‚æ­¥ç±»å‹ (TS Specifics)</strong></h2>
<p>å‰é¢çš„å†…å®¹å…¶å®å¤§éƒ½ä¹Ÿæ˜¯ JavaScript çš„çŸ¥è¯†ï¼ˆé™¤äº†ç®€å•çš„ç±»å‹æ ‡æ³¨ï¼‰ã€‚åˆ°äº†è¿™é‡Œï¼Œæˆ‘ä»¬è¦è®²<strong>åªæœ‰ TypeScript æ‰èƒ½æä¾›çš„å¼ºå¤§åŠŸèƒ½</strong>ï¼šå¦‚ä½•åœ¨å¼‚æ­¥æ“ä½œä¸­è·å¾—å®Œç¾çš„ç±»å‹æç¤ºå’Œå®‰å…¨ä¿éšœã€‚</p>
<p>è¿™ä¸€éƒ¨åˆ†å¯¹äºå‰ç«¯å¼€å‘ï¼ˆå°¤å…¶æ˜¯å¯¹æ¥åç«¯ APIï¼‰è‡³å…³é‡è¦ã€‚</p>
<hr/>
<h3 data-id="heading-17">1. Promise çš„æ³›å‹ï¼š<code>Promise&lt;T&gt;</code></h3>
<p>æˆ‘ä»¬åœ¨å‰é¢çš„ä¾‹å­é‡Œç¨å¾®æåˆ°äº†è¿™ä¸ªã€‚<code>Promise</code> æ˜¯ä¸€ä¸ª<strong>æ³›å‹ç±»</strong>ã€‚
è¿™å°±å¥½æ¯” <code>Array&lt;number&gt;</code> è¡¨ç¤ºâ€œè£…æ•°å­—çš„æ•°ç»„â€ï¼Œ<code>Promise&lt;User&gt;</code> è¡¨ç¤ºâ€œæ‰¿è¯ºæœªæ¥ç»™ä½ ä¸€ä¸ª User å¯¹è±¡â€ã€‚</p>
<p><strong>åŸºæœ¬è¯­æ³•ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å‡½æ•°è¿”å›å€¼ç±»å‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params"/>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">TypeOfTheResult</span>&gt; { ... }
</code></pre>
<p><strong>å®æˆ˜åœºæ™¯ï¼šå®šä¹‰ API å“åº”ç»“æ„</strong></p>
<p>å‡è®¾åç«¯ç»™ä½ è¿™æ ·ä¸€ä¸ª JSON æ•°æ®ç»“æ„ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// åç«¯è¿”å›çš„ç”¨æˆ·æ•°æ®</span>
<span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"username"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"admin"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"isActive"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ­¥éª¤ä¸€ï¼šå®šä¹‰ Interface (æ¥å£)</strong>
æˆ‘ä»¬è¦å…ˆå‘Šè¯‰ TSï¼Œè¿™ä¸ªæ•°æ®é•¿ä»€ä¹ˆæ ·ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">username</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">isActive</span>: <span class="hljs-built_in">boolean</span>;
    <span class="hljs-comment">// ç”šè‡³å¯ä»¥æœ‰å¯é€‰å±æ€§</span>
    avatarUrl?: <span class="hljs-built_in">string</span>; 
}
</code></pre>
<p><strong>æ­¥éª¤äºŒï¼šåœ¨å¼‚æ­¥å‡½æ•°ä¸­ä½¿ç”¨</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è¿™é‡Œçš„è¿”å›å€¼ç±»å‹ Promise&lt;User&gt; éå¸¸é‡è¦ï¼</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchCurrentUser</span>(<span class="hljs-params"/>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">User</span>&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/user'</span>);
    <span class="hljs-comment">// è§£æ JSON</span>
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
    
    <span class="hljs-comment">// è¿™é‡Œå…¶å®æœ‰ä¸€ä¸ªç±»å‹æ–­è¨€çš„è¿‡ç¨‹ï¼Œå‘Šè¯‰ TS è¿™ä¸ª data å°±æ˜¯ User</span>
    <span class="hljs-comment">// åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé€šå¸¸ fetch å°è£…åº“ï¼ˆå¦‚ axiosï¼‰ä¼šå¸®æˆ‘ä»¬åšæ³›å‹ä¼ é€’</span>
    <span class="hljs-keyword">return</span> data <span class="hljs-keyword">as</span> <span class="hljs-title class_">User</span>; 
}
</code></pre>
<p><strong>æ­¥éª¤ä¸‰ï¼šäº«å—ç±»å‹æç¤º</strong></p>
<p>å½“ä½ è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œç¥å¥‡çš„äº‹æƒ…å‘ç”Ÿäº†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchCurrentUser</span>();
    
    <span class="hljs-comment">// å½“ä½ æ•²ä¸‹ user. çš„æ—¶å€™ï¼ŒVS Code ä¼šè‡ªåŠ¨å¼¹çª—æç¤ºï¼š</span>
    <span class="hljs-comment">// - id</span>
    <span class="hljs-comment">// - username</span>
    <span class="hljs-comment">// - isActive</span>
    <span class="hljs-comment">// - avatarUrl</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">username</span>); 
    
    <span class="hljs-comment">// å¦‚æœä½ æ‹¼å†™é”™è¯¯ï¼Œç«‹åˆ»æŠ¥é”™ï¼</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">usrname</span>); <span class="hljs-comment">// âŒ æŠ¥é”™ï¼šUser ç±»å‹ä¸Šä¸å­˜åœ¨ usrname</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-18">2. å®æˆ˜æŠ€å·§ï¼šé…åˆ Axios (æœ€å¸¸ç”¨çš„è¯·æ±‚åº“)</h3>
<p>åœ¨çœŸå®å·¥ä½œä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ <code>axios</code> åº“æ¥å‘è¯·æ±‚ã€‚<code>axios</code> çš„ç±»å‹å®šä¹‰éå¸¸å®Œå–„ï¼Œæ”¯æŒä¼ å…¥æ³›å‹ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>;

<span class="hljs-comment">// 1. å®šä¹‰æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Article</span> {
    <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">views</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// 2. å‘é€è¯·æ±‚</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getArticle</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-comment">// axios.get æ˜¯ä¸ªæ³›å‹å‡½æ•°ï¼šaxios.get&lt;T&gt;(url)</span>
    <span class="hljs-comment">// æˆ‘ä»¬ä¼ å…¥ &lt;Article&gt;ï¼Œå‘Šè¯‰ axios è¿”å›çš„æ•°æ®ä½“ data æ˜¯ Article ç±»å‹</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> axios.<span class="hljs-property">get</span>&lt;<span class="hljs-title class_">Article</span>&gt;(<span class="hljs-string">`/api/articles/<span class="hljs-subst">${id}</span>`</span>);
    
    <span class="hljs-comment">// response.data ç°åœ¨çš„ç±»å‹å°±æ˜¯ Article</span>
    <span class="hljs-keyword">return</span> response.<span class="hljs-property">data</span>;
}

<span class="hljs-comment">// 3. è°ƒç”¨</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">showArticle</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> article = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getArticle</span>(<span class="hljs-number">101</span>);
    <span class="hljs-comment">// æ­¤æ—¶ article å°±æ˜¯ Article ç±»å‹</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(article.<span class="hljs-property">title</span>); <span class="hljs-comment">// âœ… å®‰å…¨</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-19">3. å¤„ç†â€œå¯èƒ½æ˜¯å¤šç§ç±»å‹â€çš„æƒ…å†µ</h3>
<p>æœ‰æ—¶å€™å¼‚æ­¥æ“ä½œå¯èƒ½ä¼šè¿”å›ä¸åŒçš„ç»“æœï¼Œæˆ–è€…å¯èƒ½å¤±è´¥ã€‚</p>
<p><strong>åœºæ™¯ï¼š</strong> æœç´¢ç”¨æˆ·ï¼Œå¯èƒ½æ‰¾åˆ°ï¼Œä¹Ÿå¯èƒ½æ²¡æ‰¾åˆ°ï¼ˆnullï¼‰ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserInfo</span> {
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// è¿”å›å€¼ç±»å‹æ˜¯ UserInfo æˆ–è€… null</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">findUser</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">UserInfo</span> | <span class="hljs-literal">null</span>&gt; {
    <span class="hljs-keyword">if</span> (name === <span class="hljs-string">'Ghost'</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'RealUser'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> };
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">check</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">findUser</span>(<span class="hljs-string">'Ghost'</span>);
    
    <span class="hljs-comment">// è¿™é‡Œ user å¯èƒ½æ˜¯ nullï¼ŒTS ä¼šå¼ºè¿«ä½ åšæ£€æŸ¥</span>
    <span class="hljs-comment">// console.log(user.name); // âŒ æŠ¥é”™ï¼šuser å¯èƒ½ä¸º null</span>

    <span class="hljs-keyword">if</span> (user) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">name</span>); <span class="hljs-comment">// âœ… ç°åœ¨å®‰å…¨äº†</span>
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-20">æ€»ç»“ç¬¬å››éƒ¨åˆ†</h3>
<ol>
<li><strong>æ ¸å¿ƒæ€ç»´</strong>ï¼šå†™å¼‚æ­¥å‡½æ•°æ—¶ï¼Œç¬¬ä¸€ä»¶äº‹ä¸æ˜¯å†™é€»è¾‘ï¼Œè€Œæ˜¯<strong>å…ˆæƒ³å¥½è¿”å›å€¼ç±»å‹</strong>ï¼ˆ<code>Promise&lt;T&gt;</code>ï¼‰ã€‚</li>
<li><strong>æ¥å£å…ˆè¡Œ</strong>ï¼šæŠŠåç«¯è¿”å›çš„ JSON æ•°æ®ç»“æ„å®šä¹‰ä¸º <code>interface</code>ã€‚</li>
<li><strong>å·¥å…·åº“é…åˆ</strong>ï¼šä½¿ç”¨ Axios ç­‰æ”¯æŒæ³›å‹çš„åº“ï¼ŒæŠŠ interface ä¼ è¿›å»ï¼Œè¿™æ ·ä»è¯·æ±‚ç»“æœé‡Œæ‹¿åˆ°çš„æ•°æ®å°±ä¼šè‡ªå¸¦ç±»å‹æç¤ºã€‚</li>
</ol>
<p>è¿™ä¸€æ­¥åšå¥½äº†ï¼Œä½ çš„ä»£ç å¥å£®æ€§ä¼šæå‡ä¸€ä¸ªæ¡£æ¬¡ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæ‹¼é”™å­—æ®µåæˆ–è€…ä¸çŸ¥é“åç«¯è¿”å›äº†å•¥ã€‚</p>
<p>å‡†å¤‡å¥½è¿›å…¥æœ€åä¸€éƒ¨åˆ†äº†å—ï¼Ÿæˆ‘ä»¬å°†è®¨è®º<strong>å®æˆ˜ä¸­çš„é”™è¯¯å¤„ç†</strong>å’Œ<strong>å¹¶è¡ŒæŠ€å·§</strong>ï¼ˆæ¯”å¦‚æ€ä¹ˆè®©ä¸¤ä¸ªè¯·æ±‚åŒæ—¶å‘ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç­‰ä¸€ä¸ªï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-21"><strong>ç¬¬äº”éƒ¨åˆ†ï¼šå®æˆ˜ä¸é”™è¯¯å¤„ç† (Best Practices)</strong></h2>
<p>å¥½ï¼Œæˆ‘ä»¬è¿›å…¥æœ€åä¸€éƒ¨åˆ†ï¼š<strong>å®æˆ˜ä¸é”™è¯¯å¤„ç† (Best Practices)</strong>ã€‚</p>
<p>è¿™éƒ¨åˆ†æ˜¯åŒºåˆ†â€œæ–°æ‰‹â€å’Œâ€œç†Ÿç»ƒå·¥â€çš„åˆ†æ°´å²­ã€‚æ–°æ‰‹å†™çš„å¼‚æ­¥ä»£ç å¾€å¾€åœ¨ç½‘ç»œæ­£å¸¸æ—¶èƒ½è·‘ï¼Œä¸€æ—¦ç½‘ç»œæŠ–åŠ¨æˆ–è€…éœ€è¦ä¼˜åŒ–æ€§èƒ½æ—¶å°±å´©äº†ã€‚</p>
<hr/>
<h3 data-id="heading-22">1. ä¼˜é›…çš„é”™è¯¯å¤„ç† (try...catch)</h3>
<p>åœ¨ Async/Await æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¼ ç»Ÿçš„ <code>try...catch</code> æ¥æ•è·å¼‚æ­¥é”™è¯¯ã€‚</p>
<p><strong>åŸºæœ¬å¥—è·¯ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">safeGetData</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å¯èƒ½ä¼šç‚¸çš„ä»£ç æ”¾åœ¨ try é‡Œ</span>
        <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>();
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æˆåŠŸ:"</span>, data);
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-comment">// 1. ç½‘ç»œæ–­äº†</span>
        <span class="hljs-comment">// 2. æœåŠ¡å™¨ 500 äº†</span>
        <span class="hljs-comment">// 3. JSON è§£æå¤±è´¥äº†</span>
        <span class="hljs-comment">// æ‰€æœ‰é”™è¯¯éƒ½ä¼šæ±‡èšåˆ°è¿™é‡Œ</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å‡ºå¤§é—®é¢˜äº†:"</span>, error);
        
        <span class="hljs-comment">// TS å°å‘ï¼šcatch(error) è¿™é‡Œçš„ error é»˜è®¤ç±»å‹æ˜¯ unknown æˆ– any</span>
        <span class="hljs-comment">// å¦‚æœè¦è®¿é—® error.messageï¼Œæœ€å¥½æ–­è¨€ä¸€ä¸‹</span>
        <span class="hljs-keyword">if</span> (error <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Error</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é”™è¯¯ä¿¡æ¯:"</span>, error.<span class="hljs-property">message</span>);
        }
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// (å¯é€‰) æ— è®ºæˆåŠŸå¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼Œé€‚åˆå…³é—­ loading åŠ¨ç”»</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å…³é—­ Loading è½¬åœˆåœˆ"</span>);
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ</strong>
å¦‚æœä¸å†™ <code>try...catch</code>ï¼Œä¸€æ—¦ <code>await</code> çš„ Promise å¤±è´¥ï¼ˆRejectedï¼‰ï¼Œæ•´ä¸ªå‡½æ•°ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœä¸Šå±‚ä¹Ÿæ²¡äººæ•è·ï¼Œ<strong>ä½ çš„ç¨‹åºå¯èƒ½ä¼šå´©æºƒ</strong>ï¼ˆåœ¨ Node.js ä¸­å¯èƒ½ä¼šå¯¼è‡´è¿›ç¨‹é€€å‡ºï¼Œåœ¨å‰ç«¯ä¼šå¯¼è‡´æ§åˆ¶å°æŠ¥çº¢ä¸”åç»­é€»è¾‘ä¸­æ–­ï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-23">2. å¹¶è¡Œå¤„ç† (Promise.all) â€”â€” æ€§èƒ½ä¼˜åŒ–ç¥å™¨</h3>
<p>è¿™æ˜¯é¢è¯•å’Œå®æˆ˜ä¸­æé«˜é¢‘çš„è€ƒç‚¹ã€‚</p>
<p><strong>åœºæ™¯ï¼š</strong>
ä½ éœ€è¦åœ¨ä¸€ä¸ªé¡µé¢åŒæ—¶å±•ç¤ºâ€œç”¨æˆ·ä¿¡æ¯â€å’Œâ€œæœ€è¿‘è®¢å•â€ã€‚è¿™ä¿©æ¥å£äº’ä¸ç›¸å…³ã€‚</p>
<p><strong>æ–°æ‰‹å†™æ³• (ä¸²è¡Œ - æ…¢)ï¼š</strong>
<em>å°±åƒæ’é˜Ÿï¼Œå…ˆä¹°å¥¶èŒ¶ï¼Œä¹°å®Œå†æ’é˜Ÿä¹°ç‚¸é¸¡ã€‚</em></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadPageSerial</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">"ä¸²è¡Œè€—æ—¶"</span>);
    
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUser</span>();       <span class="hljs-comment">// å‡è®¾è€—æ—¶ 1s</span>
    <span class="hljs-keyword">const</span> orders = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getOrders</span>();   <span class="hljs-comment">// å‡è®¾è€—æ—¶ 1s</span>
    
    <span class="hljs-comment">// æ€»è€—æ—¶ï¼š1s + 1s = 2s</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">"ä¸²è¡Œè€—æ—¶"</span>);
}
</code></pre>
<p><strong>é«˜æ‰‹å†™æ³• (å¹¶è¡Œ - å¿«)ï¼š</strong>
<em>æˆ‘å’Œæœ‹å‹åˆ†å¤´è¡ŒåŠ¨ï¼Œæˆ‘ä¹°å¥¶èŒ¶ï¼Œä»–ä¹°ç‚¸é¸¡ï¼Œæœ€åä¸€èµ·åƒã€‚</em></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadPageParallel</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">"å¹¶è¡Œè€—æ—¶"</span>);
    
    <span class="hljs-comment">// æŠ€å·§ï¼šPromise.all æ¥æ”¶ä¸€ä¸ª Promise æ•°ç»„</span>
    <span class="hljs-comment">// å®ƒä¼šåŒæ—¶å¯åŠ¨æ•°ç»„é‡Œçš„æ‰€æœ‰ä»»åŠ¡</span>
    <span class="hljs-keyword">const</span> [user, orders] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
        <span class="hljs-title function_">getUser</span>(),      <span class="hljs-comment">// ä»»åŠ¡ A</span>
        <span class="hljs-title function_">getOrders</span>()     <span class="hljs-comment">// ä»»åŠ¡ B</span>
    ]);
    
    <span class="hljs-comment">// æ€»è€—æ—¶ï¼šmax(1s, 1s) = 1s</span>
    <span class="hljs-comment">// åªæœ‰å½“ä¸¤ä¸ªéƒ½å®Œæˆäº†ï¼Œawait æ‰ä¼šç»§ç»­å¾€ä¸‹èµ°</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">"å¹¶è¡Œè€—æ—¶"</span>);
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user, orders);
}
</code></pre>
<p><strong>Promise.all çš„ç‰¹ç‚¹ï¼š</strong></p>
<ol>
<li><strong>å…¨æˆåˆ™æˆ</strong>ï¼šåªæœ‰æ•°ç»„é‡Œæ‰€æœ‰ Promise éƒ½æˆåŠŸäº†ï¼Œå®ƒæ‰æˆåŠŸã€‚</li>
<li><strong>ä¸€è´¥åˆ™è´¥</strong>ï¼šåªè¦æœ‰ä¸€ä¸ªå¤±è´¥äº†ï¼Œæ•´ä¸ª <code>Promise.all</code> ç›´æ¥æŠ›å‡ºé”™è¯¯ï¼ˆè¿›å…¥ catchï¼‰ï¼Œå…¶ä»–çš„æˆåŠŸäº†ä¹Ÿæ²¡ç”¨ã€‚</li>
</ol>
<p><strong>è¿›é˜¶ï¼šPromise.allSettled (ES2020)</strong>
å¦‚æœä½ ä¸å¸Œæœ›â€œä¸€è´¥åˆ™è´¥â€ï¼ˆæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯æŒ‚äº†ï¼Œä½†æˆ‘è¿˜æ˜¯æƒ³å±•ç¤ºè®¢å•ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>Promise.allSettled</code>ã€‚å®ƒä¼šç­‰å¾…æ‰€æœ‰ä»»åŠ¡ç»“æŸï¼Œä¸ç®¡æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œå¹¶è¿”å›æ¯ä¸ªä»»åŠ¡çš„çŠ¶æ€ã€‚</p>
<hr/>
<h3 data-id="heading-24">3. ä¸€ä¸ªå¸¸è§çš„å¾ªç¯é™·é˜±</h3>
<p><strong>éœ€æ±‚ï¼š</strong> æœ‰ä¸€ä¸ªç”¨æˆ· ID åˆ—è¡¨ <code>[1, 2, 3]</code>ï¼Œè¦ä¾æ¬¡è·å–ä»–ä»¬çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p><strong>é”™è¯¯å†™æ³• (forEach)ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">wrongLoop</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> ids = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
    
    <span class="hljs-comment">// âŒ è¿™ç§å†™æ³• await ä¸ç”Ÿæ•ˆï¼forEach ä¸æ”¯æŒ async å›è°ƒ</span>
    ids.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">async</span> (id) =&gt; {
        <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUser</span>(id);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user);
    });
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç»“æŸäº†ï¼Ÿ"</span>); 
    <span class="hljs-comment">// å®é™…ç»“æœï¼šå…ˆæ‰“å° "ç»“æŸäº†ï¼Ÿ"ï¼Œç„¶åé‚£ 3 ä¸ªè¯·æ±‚æ‰åœ¨åå°æ…¢æ…¢è·‘ã€‚</span>
}
</code></pre>
<p><strong>æ­£ç¡®å†™æ³• 1 (for...of) â€”â€” ä¸²è¡Œï¼ˆä¸€ä¸ªæ¥ä¸€ä¸ªï¼‰ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">serialLoop</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> ids = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> id <span class="hljs-keyword">of</span> ids) {
        <span class="hljs-comment">// âœ… èƒ½å¤Ÿæ­£ç¡®æš‚åœï¼Œæ‹¿å®Œ id:1 å†æ‹¿ id:2</span>
        <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUser</span>(id);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user);
    }
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"çœŸÂ·ç»“æŸäº†"</span>);
}
</code></pre>
<p><strong>æ­£ç¡®å†™æ³• 2 (map + Promise.all) â€”â€” å¹¶è¡Œï¼ˆåŒæ—¶è·‘ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">parallelLoop</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> ids = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
    
    <span class="hljs-comment">// 1. å…ˆæŠŠ ID æ•°ç»„æ˜ å°„æˆ Promise æ•°ç»„</span>
    <span class="hljs-keyword">const</span> promises = ids.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">id</span> =&gt;</span> <span class="hljs-title function_">getUser</span>(id));
    
    <span class="hljs-comment">// 2. å†ç”¨ Promise.all ç­‰å¾…å®ƒä»¬å…¨éƒ¨å®Œæˆ</span>
    <span class="hljs-keyword">const</span> users = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ‰€æœ‰ç”¨æˆ·éƒ½æ‹¿åˆ°:"</span>, users);
}
</code></pre>
<hr/>
<h3 data-id="heading-25">å…¨æ–‡å¤§æ€»ç»“</h3>
<p>æ­å–œä½ ï¼Œä½ å·²ç»èµ°å®Œäº† TypeScript å¼‚æ­¥ç¼–ç¨‹çš„å®Œæ•´è·¯å¾„ï¼</p>
<ol>
<li><strong>æ ¸å¿ƒæ¦‚å¿µ</strong>ï¼šJS æ˜¯å•çº¿ç¨‹çš„ï¼Œä¸ºäº†ä¸é˜»å¡ï¼Œå¿…é¡»ç”¨å¼‚æ­¥ã€‚</li>
<li><strong>æ¼”è¿›å²</strong>ï¼šCallback (å›è°ƒåœ°ç‹±) -&gt; Promise (é“¾å¼) -&gt; <strong>Async/Await (æœ€ç»ˆå½¢æ€)</strong>ã€‚</li>
<li><strong>TS ç±»å‹</strong>ï¼šä½¿ç”¨ <code>Promise&lt;T&gt;</code> å’Œæ¥å£ (Interface) æ¥çº¦æŸå¼‚æ­¥æ•°æ®çš„å½¢çŠ¶ï¼Œè·å¾—æè‡´çš„ä»£ç æç¤ºã€‚</li>
<li><strong>å®æˆ˜æŠ€å·§</strong>ï¼š
<ul>
<li>ç”¨ <code>try...catch</code> å…œåº•é”™è¯¯ã€‚</li>
<li>ç”¨ <code>Promise.all</code> åšå¹¶å‘ä¼˜åŒ–ã€‚</li>
<li><strong>åƒä¸‡åˆ«åœ¨ <code>forEach</code> é‡Œç”¨ await</strong>ã€‚</li>
</ul>
</li>
</ol>
<p>\</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Git é¡¹ç›®åº“åˆ›å»ºä¸Šä¼ ä»é›¶åˆ°ä¸€]]></title>    <link>https://juejin.cn/post/7597997108134002715</link>    <guid>https://juejin.cn/post/7597997108134002715</guid>    <pubDate>2026-01-22T08:38:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597997108134002715" data-draft-id="7597808104462630958" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Git é¡¹ç›®åº“åˆ›å»ºä¸Šä¼ ä»é›¶åˆ°ä¸€"/> <meta itemprop="keywords" content="Git"/> <meta itemprop="datePublished" content="2026-01-22T08:38:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·575730334624"/> <meta itemprop="url" content="https://juejin.cn/user/2860271309712009"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Git é¡¹ç›®åº“åˆ›å»ºä¸Šä¼ ä»é›¶åˆ°ä¸€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2860271309712009/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·575730334624
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:38:48.000Z" title="Thu Jan 22 2026 08:38:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Git é¡¹ç›®ä»é›¶åˆ°ä¸€ï¼šåˆ›å»ºæœ¬åœ°ä»“åº“å¹¶æäº¤ä»£ç è‡³è¿œç¨‹ Gitee ä»“åº“è¯¦è§£</h2>
<p>åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆVersion Control System, VCSï¼‰å·²æˆä¸ºå¼€å‘è€…ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚è€Œ <strong>Git</strong> ä½œä¸ºç›®å‰æœ€æµè¡Œçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä»¥å…¶é«˜æ•ˆã€çµæ´»å’Œå¼ºå¤§çš„åˆ†æ”¯ç®¡ç†èƒ½åŠ›ï¼Œè¢«å¹¿æ³›åº”ç”¨äºä¸ªäººå¼€å‘ä¸å›¢é˜Ÿåä½œä¸­ã€‚æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹å¸¦ä½ å®Œæˆä¸€ä¸ªå®Œæ•´çš„ Git å·¥ä½œæµï¼š<strong>ä»æœ¬åœ°åˆå§‹åŒ–é¡¹ç›®ä»“åº“ï¼Œåˆ°é…ç½®ç”¨æˆ·ä¿¡æ¯ã€æ·»åŠ æ–‡ä»¶ã€æäº¤å˜æ›´ï¼Œå†åˆ°å…³è”è¿œç¨‹ Gitee ä»“åº“å¹¶æ¨é€ä»£ç </strong>ã€‚æ•´ä¸ªè¿‡ç¨‹é€‚ç”¨äºåˆå­¦è€…å¿«é€Ÿä¸Šæ‰‹ Gitï¼Œå¹¶ä¸ºåç»­æ·±å…¥å­¦ä¹ æ‰“ä¸‹åšå®åŸºç¡€ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ Gitï¼Ÿ</h3>
<p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªåä¸º <code>lesson_zp</code> çš„æœ¬åœ°é¡¹ç›®æ–‡ä»¶å¤¹ã€‚åœ¨æ²¡æœ‰ç‰ˆæœ¬æ§åˆ¶çš„æƒ…å†µä¸‹ï¼š</p>
<ul>
<li>ä½ æ— æ³•å›é€€åˆ°ä¹‹å‰çš„ä»£ç çŠ¶æ€ï¼›</li>
<li>å¤šäººåä½œæ—¶å®¹æ˜“è¦†ç›–å½¼æ­¤çš„ä¿®æ”¹ï¼›</li>
<li>æ— æ³•æ¸…æ™°è®°å½•æ¯æ¬¡ä¿®æ”¹çš„å†…å®¹å’ŒåŸå› ã€‚</li>
</ul>
<p>è€Œ Git å°±åƒâ€œæœˆå…‰å®ç›’â€â€”â€”å®ƒèƒ½è®©ä½ éšæ—¶ç©¿è¶Šå›ä»»æ„å†å²ç‰ˆæœ¬ï¼Œå®‰å…¨åœ°å°è¯•æ–°åŠŸèƒ½ï¼ˆé€šè¿‡åˆ†æ”¯ï¼‰ï¼Œå¹¶ä¸ä»–äººé«˜æ•ˆååŒå·¥ä½œã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€å‡†å¤‡å·¥ä½œï¼šå®‰è£… Git ä¸æ³¨å†Œ Gitee è´¦å·</h3>
<ol>
<li>
<p><strong>å®‰è£… Git</strong><br/>
è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fgit-scm.com%2F" target="_blank" title="https://git-scm.com/" ref="nofollow noopener noreferrer">git-scm.com/</a> ä¸‹è½½å¹¶å®‰è£…é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„ Git å®¢æˆ·ç«¯ã€‚å®‰è£…å®Œæˆåï¼Œåœ¨ç»ˆç«¯ï¼ˆWindows ä½¿ç”¨ Git Bashï¼ŒmacOS/Linux ä½¿ç”¨ Terminalï¼‰ä¸­è¾“å…¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git --version
</code></pre>
<p>è‹¥æ˜¾ç¤ºç‰ˆæœ¬å·ï¼ˆå¦‚ <code>git version 2.40.1</code>ï¼‰ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚</p>
</li>
<li>
<p><strong>æ³¨å†Œ Gitee è´¦å·</strong><br/>
Giteeï¼ˆç äº‘ï¼‰æ˜¯å›½å†…çŸ¥åçš„ä»£ç æ‰˜ç®¡å¹³å°ï¼Œæ”¯æŒ Git åè®®ã€‚è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com" target="_blank" title="https://gitee.com" ref="nofollow noopener noreferrer">gitee.com</a> æ³¨å†Œè´¦å·ï¼Œå¹¶ç™»å½•ã€‚</p>
<ul>
<li>æ³¨æ„ï¼š åœ¨ç»ˆç«¯æ‰§è¡Œgitç›¸å…³æ“ä½œæ—¶ä¸€å®šè¦åœ¨å®‰è£…ä¹‹åå…¨éƒ¨æ“ä½œé‡æ–°æ‰§è¡Œä¸€é</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€åˆå§‹åŒ–æœ¬åœ° Git ä»“åº“</h3>
<p>å‡è®¾ä½ çš„é¡¹ç›®ç›®å½•ä¸º <code>lesson_zp</code>ï¼Œä¸”å°šæœªä½¿ç”¨ä»»ä½•ç‰ˆæœ¬æ§åˆ¶ã€‚</p>
<h4 data-id="heading-4">æ­¥éª¤ 1ï¼šè¿›å…¥é¡¹ç›®ç›®å½•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /path/to/your/lesson_zp
</code></pre>
<h4 data-id="heading-5">æ­¥éª¤ 2ï¼šæ‰§è¡Œ <code>git init</code></h4>
<pre><code class="hljs language-bash" lang="bash">git init
</code></pre>
<p>è¯¥å‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªéšè—æ–‡ä»¶å¤¹ <code>.git</code>ï¼Œè¿™å°±æ˜¯ Git ä»“åº“çš„æ ¸å¿ƒæ•°æ®åº“ï¼Œç”¨äºå­˜å‚¨æ‰€æœ‰ç‰ˆæœ¬ä¿¡æ¯ã€æäº¤å†å²ã€åˆ†æ”¯ç»“æ„ç­‰ã€‚</p>
<blockquote>
<p>âœ… æ­¤æ—¶ï¼Œ<code>lesson_zp</code> å·²æˆä¸ºä¸€ä¸ª<strong>æœ¬åœ° Git ä»“åº“</strong>ï¼Œå…·å¤‡ç‰ˆæœ¬æ§åˆ¶èƒ½åŠ›ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">å››ã€é…ç½® Git ç”¨æˆ·ä¿¡æ¯</h3>
<p>Git éœ€è¦çŸ¥é“æ˜¯è°åœ¨æäº¤ä»£ç ï¼Œå› æ­¤å¿…é¡»é…ç½®ç”¨æˆ·åå’Œé‚®ç®±ã€‚è¿™äº›ä¿¡æ¯ä¼šæ°¸ä¹…è®°å½•åœ¨æ¯æ¬¡æäº¤ä¸­ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">git config --global user.name <span class="hljs-string">"shunwuyu2020"</span>
git config --global user.email <span class="hljs-string">"shunwu2001@163.com"</span>
</code></pre>
<ul>
<li><code>--global</code> è¡¨ç¤ºå…¨å±€é…ç½®ï¼Œé€‚ç”¨äºæœ¬æœºæ‰€æœ‰é¡¹ç›®ã€‚</li>
<li>å¦‚æœåªæƒ³å¯¹å½“å‰é¡¹ç›®ç”Ÿæ•ˆï¼Œå¯å»æ‰ <code>--global</code>ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å•ç‹¬è®¾ç½®ã€‚</li>
</ul>
<blockquote>
<p>ğŸ” éªŒè¯é…ç½®æ˜¯å¦æˆåŠŸï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git config user.name
git config user.email
</code></pre>
</blockquote>
<hr/>
<h3 data-id="heading-7">äº”ã€æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒºå¹¶æäº¤</h3>
<p>Git çš„å·¥ä½œæµç¨‹åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š</p>
<ol>
<li><strong>å·¥ä½œåŒºï¼ˆWorking Directoryï¼‰</strong>ï¼šä½ ç¼–è¾‘çš„æ–‡ä»¶æ‰€åœ¨ä½ç½®ã€‚</li>
<li><strong>æš‚å­˜åŒºï¼ˆStaging Areaï¼‰</strong>ï¼šå‡†å¤‡æäº¤çš„å¿«ç…§ã€‚</li>
<li><strong>ä»“åº“ï¼ˆRepositoryï¼‰</strong>ï¼šå·²æäº¤çš„å†å²ç‰ˆæœ¬ã€‚</li>
</ol>
<h4 data-id="heading-8">æ­¥éª¤ 1ï¼šæŸ¥çœ‹å½“å‰çŠ¶æ€</h4>
<pre><code class="hljs language-bash" lang="bash">git status
</code></pre>
<p>ä½ ä¼šçœ‹åˆ°ç±»ä¼¼ â€œUntracked filesâ€ çš„æç¤ºï¼Œè¡¨ç¤ºæœ‰æœªè¢«è·Ÿè¸ªçš„æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-9">æ­¥éª¤ 2ï¼šå°†æ‰€æœ‰ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒº</h4>
<pre><code class="hljs language-bash" lang="bash">git add .
</code></pre>
<ul>
<li><code>.</code> è¡¨ç¤ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬å­ç›®å½•ï¼‰ã€‚</li>
<li>ä¹Ÿå¯æŒ‡å®šå•ä¸ªæ–‡ä»¶ï¼š<code>git add README.md</code></li>
</ul>
<h4 data-id="heading-10">æ­¥éª¤ 3ï¼šæäº¤åˆ°æœ¬åœ°ä»“åº“</h4>
<pre><code class="hljs language-bash" lang="bash">git commit -m <span class="hljs-string">"ç¬¬ä¸€æ¬¡æäº¤"</span>
</code></pre>
<ul>
<li><code>-m</code> åè·Ÿ<strong>æäº¤è¯´æ˜</strong>ï¼ˆcommit messageï¼‰ï¼Œåº”ç®€æ´æ˜äº†åœ°æè¿°æœ¬æ¬¡å˜æ›´å†…å®¹ã€‚</li>
<li>æäº¤åï¼ŒGit ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ SHA-1 å“ˆå¸Œå€¼ä½œä¸ºè¯¥ç‰ˆæœ¬çš„ IDã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ å»ºè®®ï¼šæäº¤ä¿¡æ¯ä½¿ç”¨ä¸­æ–‡æˆ–è‹±æ–‡å‡å¯ï¼Œä½†éœ€ä¿æŒä¸€è‡´æ€§ï¼Œé¿å…æ— æ„ä¹‰çš„â€œupdateâ€ã€â€œfixâ€ç­‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-11">å…­ã€åˆ›å»ºè¿œç¨‹ä»“åº“ï¼ˆGiteeï¼‰</h3>
<p>è¿™éƒ¨åˆ†ä»£ç éœ€è¦åœ¨Giteeç½‘é¡µåˆ›å»ºä¸€ä¸ªgité¡¹ç›®åº“ å¦‚ä¸‹å›¾</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37fddee82542471695410ae34d42f09f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTc1NzMwMzM0NjI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769675928&amp;x-signature=M0Tzphv3QTPCzCRddAqu9DDKr2o%3D" alt="image.png" loading="lazy"/>
å®Œæˆä¸‹é¢ä¿¡æ¯è®¾ç½®çš„å¡«å†™
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b4963f7de8840c7a5acd1d8d78b5cf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTc1NzMwMzM0NjI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769675928&amp;x-signature=YlPZbLLDDFtnlw4roL6F%2Fo9VLrE%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>ç™»å½• Giteeï¼Œç‚¹å‡»å³ä¸Šè§’ã€Œ+ã€â†’ã€Œæ–°å»ºä»“åº“ã€ã€‚</li>
<li>å¡«å†™ä»“åº“åç§°ï¼ˆå¦‚ <code>lesson_zp</code>ï¼‰ï¼Œé€‰æ‹©å…¬å¼€æˆ–ç§æœ‰ï¼ˆå…è´¹ç”¨æˆ·å¯åˆ›å»ºç§æœ‰åº“ï¼‰ã€‚</li>
<li><strong>ä¸è¦å‹¾é€‰â€œä½¿ç”¨ README.md åˆå§‹åŒ–â€</strong>ï¼Œå› ä¸ºæˆ‘ä»¬å·²æœ‰æœ¬åœ°ä»£ç ã€‚</li>
<li>ç‚¹å‡»ã€Œåˆ›å»ºã€ï¼Œè·å¾—è¿œç¨‹ä»“åº“åœ°å€ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fshunwuyu2020%2Flesson_zp.git" target="_blank" title="https://gitee.com/shunwuyu2020/lesson_zp.git" ref="nofollow noopener noreferrer">gitee.com/shunwuyu202â€¦</a></li>
</ol>
<hr/>
<h3 data-id="heading-12">ä¸ƒã€å…³è”æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“</h3>
<p>ä½¿ç”¨ <code>git remote add</code> å‘½ä»¤å°†æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“ç»‘å®šï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git remote add origin https://gitee.com/shunwuyu2020/lesson_zp.git
</code></pre>
<ul>
<li><code>origin</code> æ˜¯è¿œç¨‹ä»“åº“çš„é»˜è®¤åˆ«åï¼Œå¯è‡ªå®šä¹‰ï¼ˆå¦‚ <code>gitee</code>ï¼‰ï¼Œä½†çº¦å®šä¿—æˆç”¨ <code>origin</code>ã€‚</li>
<li>ä½ å¯ä»¥é€šè¿‡ <code>git remote -v</code> æŸ¥çœ‹å·²é…ç½®çš„è¿œç¨‹åœ°å€ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-13">å…«ã€æ¨é€ä»£ç åˆ° Gitee</h3>
<p>é¦–æ¬¡æ¨é€éœ€æŒ‡å®šè¿œç¨‹åˆ†æ”¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git push -u origin master
</code></pre>
<ul>
<li><code>-u</code>ï¼ˆæˆ– <code>--set-upstream</code>ï¼‰è¡¨ç¤ºå°†æœ¬åœ° <code>master</code> åˆ†æ”¯ä¸è¿œç¨‹ <code>origin/master</code> å…³è”ã€‚</li>
<li>åç»­åªéœ€æ‰§è¡Œ <code>git push</code> å³å¯è‡ªåŠ¨æ¨é€åˆ°å…³è”åˆ†æ”¯ã€‚</li>
</ul>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šå¦‚æœä½ ä½¿ç”¨çš„æ˜¯è¾ƒæ–°ç‰ˆæœ¬çš„ Gitï¼ˆâ‰¥2.28ï¼‰ï¼Œé»˜è®¤ä¸»åˆ†æ”¯å¯èƒ½å« <code>main</code> è€Œé <code>master</code>ã€‚å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤ç¡®è®¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git branch
</code></pre>
<p>è‹¥æ˜¾ç¤º <code>* main</code>ï¼Œåˆ™åº”ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git push -u origin main
</code></pre>
</blockquote>
<h4 data-id="heading-14">æ¨é€æ—¶çš„èº«ä»½éªŒè¯</h4>
<p>Gitee ä¸å†æ”¯æŒç›´æ¥ä½¿ç”¨è´¦å·å¯†ç é€šè¿‡ HTTPS æ¨é€ã€‚æ¨èä½¿ç”¨ <strong>ç§äººä»¤ç‰Œï¼ˆPersonal Access Tokenï¼‰</strong> æ›¿ä»£å¯†ç ï¼š</p>
<ol>
<li>åœ¨ Giteeã€Œè®¾ç½®ã€â†’ã€Œç§äººä»¤ç‰Œã€ä¸­åˆ›å»ºä¸€ä¸ª tokenï¼ˆå‹¾é€‰ <code>repo</code> æƒé™ï¼‰ã€‚</li>
<li>æ¨é€æ—¶ï¼Œå½“æç¤ºè¾“å…¥å¯†ç ï¼Œç²˜è´´è¯¥ token å³å¯ã€‚</li>
</ol>
<blockquote>
<p>æ›´å®‰å…¨çš„æ–¹å¼æ˜¯é…ç½® SSH å¯†é’¥ï¼Œä½† HTTPS + Token å¯¹åˆå­¦è€…æ›´å‹å¥½ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-15">ä¹ã€éªŒè¯æ¨é€ç»“æœ</h3>
<p>å›åˆ° Gitee ä»“åº“é¡µé¢ï¼Œåˆ·æ–°ååº”èƒ½çœ‹åˆ°ä½ æäº¤çš„æ–‡ä»¶å’Œæäº¤è®°å½•ã€‚è‡³æ­¤ï¼Œ<strong>æœ¬åœ°é¡¹ç›®å·²æˆåŠŸåŒæ­¥è‡³è¿œç¨‹ä»“åº“</strong>ï¼</p>
<hr/>
<h3 data-id="heading-16">åã€åç»­å¼€å‘å·¥ä½œæµå»ºè®®</h3>
<p>æ—¥å¸¸å¼€å‘ä¸­ï¼Œæ¨èéµå¾ªä»¥ä¸‹æµç¨‹ï¼š</p>
<ol>
<li><strong>ä¿®æ”¹ä»£ç </strong></li>
<li><strong><code>git add .</code></strong> æ·»åŠ å˜æ›´</li>
<li><strong><code>git commit -m "æè¿°ä¿®æ”¹"</code></strong> æäº¤åˆ°æœ¬åœ°</li>
<li><strong><code>git pull origin master</code></strong> ï¼ˆå¤šäººåä½œæ—¶å…ˆæ‹‰å–æœ€æ–°ä»£ç ï¼Œé¿å…å†²çªï¼‰</li>
<li><strong><code>git push</code></strong> æ¨é€åˆ°è¿œç¨‹</li>
</ol>
<blockquote>
<p>ğŸ”„ ä½¿ç”¨ <code>git log</code> å¯æŸ¥çœ‹æäº¤å†å²ï¼›<code>git diff</code> æŸ¥çœ‹æœªæš‚å­˜çš„å·®å¼‚ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-17">åä¸€ã€å¸¸è§é—®é¢˜ä¸æ³¨æ„äº‹é¡¹</h3>

























<table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><code>fatal: not a git repository</code></td><td>æœªåœ¨ Git ä»“åº“ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼Œè¯·å…ˆ <code>cd</code> åˆ°é¡¹ç›®æ ¹ç›®å½•</td></tr><tr><td>æ¨é€å¤±è´¥ï¼š<code>remote rejected</code></td><td>è¿œç¨‹ä»“åº“æœ‰æ›´æ–°ï¼Œå…ˆ <code>git pull</code> å†æ¨é€</td></tr><tr><td>å¿˜è®°é…ç½®ç”¨æˆ·ä¿¡æ¯</td><td>æ‰§è¡Œ <code>git config --global user.name/email</code> è¡¥å……</td></tr><tr><td>æƒ³åˆ é™¤è¿œç¨‹å…³è”</td><td><code>git remote remove origin</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-18">ç»“è¯­</h3>
<p>é€šè¿‡æœ¬æ–‡ï¼Œä½ å·²æŒæ¡ Git é¡¹ç›®ä»é›¶åˆ›å»ºã€æœ¬åœ°æäº¤åˆ°è¿œç¨‹æ¨é€çš„å®Œæ•´æµç¨‹ã€‚<code>lesson_zp</code> ä¸å†æ˜¯ä¸€ä¸ªæ™®é€šçš„æ–‡ä»¶å¤¹ï¼Œè€Œæ˜¯ä¸€ä¸ªå…·å¤‡å®Œæ•´ç‰ˆæœ¬æ§åˆ¶èƒ½åŠ›çš„æ™ºèƒ½ä»£ç åº“ã€‚æ— è®ºä½ æ˜¯ç‹¬ç«‹å¼€å‘è€…è¿˜æ˜¯å›¢é˜Ÿæˆå‘˜ï¼ŒGit éƒ½èƒ½ä¸ºä½ æä¾›å¼ºå¤§çš„ä»£ç ç®¡ç†ä¿éšœã€‚</p>
<blockquote>
<p><strong>è®°ä½ï¼šæ¯ä¸€æ¬¡æœ‰æ„ä¹‰çš„ <code>commit</code>ï¼Œéƒ½æ˜¯ä½ ç¼–ç¨‹æ—…ç¨‹ä¸­çš„ä¸€ä¸ªé‡Œç¨‹ç¢‘ã€‚</strong></p>
</blockquote>
<p>æœªæ¥ï¼Œä½ å¯ä»¥è¿›ä¸€æ­¥å­¦ä¹ åˆ†æ”¯ç®¡ç†ï¼ˆ<code>git branch</code>ï¼‰ã€åˆå¹¶ï¼ˆ<code>git merge</code>ï¼‰ã€è§£å†³å†²çªã€æ ‡ç­¾ï¼ˆ<code>tag</code>ï¼‰ç­‰é«˜çº§åŠŸèƒ½ï¼ŒçœŸæ­£å‘æŒ¥ Git çš„åˆ†å¸ƒå¼ä¼˜åŠ¿ã€‚</p>
<p>ç°åœ¨ï¼Œæ‰“å¼€ä½ çš„ç»ˆç«¯ï¼Œå¼€å§‹ä½ çš„ç¬¬ä¸€ä¸ª Git é¡¹ç›®å§ï¼ğŸš€</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Unity è½»é‡çº§UIå±‚æ¡†æ¶çš„è®¾è®¡]]></title>    <link>https://juejin.cn/post/7597905961663692806</link>    <guid>https://juejin.cn/post/7597905961663692806</guid>    <pubDate>2026-01-22T08:17:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597905961663692806" data-draft-id="7597619377429184566" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Unity è½»é‡çº§UIå±‚æ¡†æ¶çš„è®¾è®¡"/> <meta itemprop="keywords" content="å‰ç«¯,æ¶æ„,Unity3D"/> <meta itemprop="datePublished" content="2026-01-22T08:17:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è·Ÿç€ç¾¤ä¸»å»åƒè‚‰"/> <meta itemprop="url" content="https://juejin.cn/user/224735056369213"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Unity è½»é‡çº§UIå±‚æ¡†æ¶çš„è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/224735056369213/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è·Ÿç€ç¾¤ä¸»å»åƒè‚‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:17:16.000Z" title="Thu Jan 22 2026 08:17:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>Â  Â  Â  Â æˆ‘ä»¬å¯èƒ½æ¥è§¦è¿‡å¾ˆå¤šæˆç†Ÿçš„UIæ¡†æ¶ï¼Œä¾‹å¦‚MVCã€MVPã€MVVMç­‰ç­‰ï¼Œå®ƒä»¬æ— ä¸€ä¾‹å¤–çš„éƒ½éœ€è¦å›ºå®šçš„ä»£ç æ ¼å¼ï¼Œå¹¶å°Šé‡ä¸€å®šçš„è§„åˆ™æ‰èƒ½åº”ç”¨èµ·æ¥ã€‚åœ¨å½“ä¸‹å¸‚åœºçš„å¿«é€Ÿå˜åŒ–ã€å¼€å‘æ•ˆç‡è¦æ±‚è¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œç¬¨é‡çš„æ¡†æ¶å·²ç»ä¸é€‚åˆé¡¹ç›®çš„å¿«é€Ÿå˜åŒ–å’Œç›®æ ‡è¦æ±‚ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸­è½»åº¦æ¸¸æˆã€ä¼‘é—²ç±»æ¸¸æˆæˆ–å°æ¸¸æˆæ–¹é¢ï¼Œè¦æ±‚çš„æ˜¯å¿«é€Ÿç ”å‘ã€å¿«é€Ÿè¿­ä»£ã€å¿«é€Ÿä¸Šçº¿ã€å¿«é€Ÿè¯•é”™ï¼Œæœ€åå¿«é€ŸéªŒè¯æ¸¸æˆæ˜¯å¦æœ‰å­˜åœ¨ä»·å€¼ï¼Œä»è€Œå¿«é€Ÿè°ƒæ•´å„ç§æˆ˜ç•¥ï¼Œå‡å°‘èµ„æºçš„æµªè´¹ä¸æé«˜ç”Ÿå­˜å‘å±•çš„èƒ½åŠ›ã€‚</p>
<p>Â  Â  Â  Â ä¸€ä¸ªæ¸¸æˆå¯èƒ½æœ‰50%çš„åŠŸèƒ½éƒ½å¯èƒ½ä¸UIå±‚æœ‰å…³ï¼Œæ‰€ä»¥è®¾è®¡ä¸€ä¸ªé€šç”¨çš„ã€é«˜æ•ˆçš„ã€å­¦ä¹ æˆæœ¬ä½çš„UIåº”ç”¨æ¡†æ¶æ˜¯å¿…é€‰é¡¹ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥è®¾è®¡ä¸€æ¬¾è½»é‡çº§çš„UIæ¡†æ¶ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€UIèŠ‚ç‚¹çš„è®¾è®¡</h3>
<p>Â  Â  Â  Â æ¸¸æˆçš„UIå±•ç°ï¼Œé€šå¸¸æ˜¯é¦–å…ˆå±•ç°ä¸»ç•Œé¢ï¼Œç„¶ååœ¨ä¸»ç•Œé¢ä¸Šæ‰“å¼€æˆ–å¼¹å‡ºå„ç§æ–°çš„é¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆå¾—å®šä¹‰å‡ ä¸ªèŠ‚ç‚¹ï¼šæ ¹èŠ‚ç‚¹ã€UIæ‘„åƒæœºèŠ‚ç‚¹ã€åº•å±‚èŠ‚ç‚¹ã€ä¸­å±‚èŠ‚ç‚¹ã€é¡¶å±‚èŠ‚ç‚¹ã€å¼¹çª—èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹æˆ‘ä»¬æŠŠå®ƒå®šä¹‰å¯¹åº”ä¸€ä¸ªunity layerï¼šBottom,Middle,Top,Popupã€‚è¿™æ ·å®šä¹‰è®¾è®¡çš„ç›®çš„æ˜¯æ–¹ä¾¿æˆ‘ä»¬åé¢å¯¹æ‰“å¼€çš„å„ç§UIå¯¹è±¡è¿›è¡Œæœ‰åºçš„ç®¡ç†ï¼Œä¾‹å¦‚UIçš„é®æŒ¡ã€äº‹ä»¶çš„ç©¿é€å’Œå±è”½ç­‰ã€‚èŠ‚ç‚¹æˆ‘ä»¬å¯ä»¥æŠŠå®ƒè®¾è®¡æˆä¸€ä¸ªPrefabï¼ŒæŠŠå®ƒæ”¾åˆ°Resoucesæ–‡ä»¶å¤¹ä¸­ã€‚Prefabçš„è®¾è®¡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img alt="" src="" loading="lazy"/></p>
<p>æ ¹èŠ‚ç‚¹ä¸Šæœ‰ä¸€ä¸ªè„šæœ¬ç»‘å®šï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75fd5072d8294505a2cd82002c2dbf49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lef552A576k5Li75Y675ZCD6IKJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674636&amp;x-signature=j8fFZPT0VaXOSQezf1LN3RCSjU8%3D" alt="" loading="lazy"/></p>
<p>UIæ‘„åƒæœºèŠ‚ç‚¹å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77cde895affc4401a6808852bbe52156~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lef552A576k5Li75Y675ZCD6IKJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674636&amp;x-signature=4SUH2TTtRFvDcRqKUyDx2PB1N7o%3D" alt="" loading="lazy"/></p>
<p>å…¶å®ƒUIå±‚çº§èŠ‚ç‚¹å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26aa57f5fb00413a9cf3a213e967c854~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lef552A576k5Li75Y675ZCD6IKJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674636&amp;x-signature=KKzQrc0XqqjB7Q7jm%2B7F%2BtaBTWQ%3D" alt="" loading="lazy"/></p>
<p>åœ¨UIRootèŠ‚ç‚¹ä¸Šçš„ç»‘å®šè„šæœ¬å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">using</span> UnityEngine;
<span class="hljs-keyword">using</span> System.Collections;
<span class="hljs-keyword">using</span> UnityEngine.UI;

<span class="hljs-keyword">namespace</span> Simple.UI
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UICanvasBinder</span> : MonoBehaviour
    {
        <span class="hljs-keyword">public</span> Camera UICamera;
        <span class="hljs-keyword">public</span> RectTransform BottomCanvas;
        <span class="hljs-keyword">public</span> RectTransform MiddleCanvas;
        <span class="hljs-keyword">public</span> RectTransform TopCanvas;
        <span class="hljs-keyword">public</span> RectTransform PopupCavas;
        <span class="hljs-keyword">public</span> RectTransform U3DCavas;       
    }
}
</code></pre>
<h3 data-id="heading-2">äºŒã€UIæ ¸å¿ƒæ¡†ä»£ç è®¾è®¡ï¼ˆè§’è‰²ï¼‰</h3>
<p>Â  Â  Â  Â UIæ¡†çš„ä»£ç ï¼Œæˆ‘ä»¬è¦å°½é‡è®¾è®¡å¾—ç®€å•ï¼Œä½†åˆä¸å¤±å»â€œæ¡†æ¶â€çš„ç‰¹æ€§ã€‚æˆ‘ä»¬æŠŠUIæ¡†æ¶çš„è§’è‰²ç®€åŒ–ä¸ºä¸¤ä¸ªï¼šä¸­ä»‹è€…è§’è‰²å’Œè§†å›¾å‘ˆç°è§’è‰²ã€‚ä¸­ä»‹è€…è§’è‰²ç”¨æ¥ç®¡ç†UIå¯¹è±¡çš„åŠ è½½ã€ç®¡ç†ã€é”€æ¯ï¼Œè§†å›¾å‘ˆç°è§’è‰²ç”¨æ¥å±•ç°UIçš„å…ƒç´ ä»¥åŠåº”ç”¨é€»è¾‘ã€‚è¿™æ ·ä¸­ä»‹è€…è§’è‰²çš„åŠŸèƒ½å°±ç›¸å¯¹æ˜ç¡®å’Œç®€å•ï¼Œå®ƒä¸UIä¸šåŠ¡æ— å…³ï¼Œå®ƒåªè´Ÿè´£UIå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå’Œè·å–åº”ç”¨ç®¡ç†ï¼Œä¸UIä¸šåŠ¡ç›¸å…³çš„åŠŸèƒ½éƒ½æ”¾åœ¨è§†å›¾å±•ç°è§’è‰²ä¸Šã€‚æˆ‘ä»¬å¯ä»¥å«è¿™ä¸ªä¸­ä»‹è€…è§’è‰²ä¸º"UIContext"ï¼Œè§†å›¾å‘ˆç°è§’è‰²ä¸º"UIView"ï¼Œå®ƒä»¬çš„ä»£ç è®¾è®¡å¦‚ä¸‹ï¼š</p>
<p>UIContext.cs:</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System.Collections;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> UnityEngine;
<span class="hljs-keyword">using</span> Simple.Asset;
<span class="hljs-keyword">using</span> System;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">Simple.UI</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UIContext</span> : <span class="hljs-title">MonoBehaviour</span>
    {        
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> UILayer Layer { <span class="hljs-keyword">get</span>; }<span class="hljs-comment">//UIå±‚æšä¸¾</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-built_in">string</span> AssetKey { <span class="hljs-keyword">get</span>; }<span class="hljs-comment">//UIèµ„æºçš„åç§°ï¼Œprefabåç§°</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-built_in">bool</span> Cache { <span class="hljs-keyword">get</span>; } = <span class="hljs-literal">false</span>;     <span class="hljs-comment">//æ˜¯å¦ç¼“å­˜</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-built_in">bool</span> AssetCache { <span class="hljs-keyword">get</span>; } = <span class="hljs-literal">true</span>;<span class="hljs-comment">//addressableä¸­æ˜¯å¦ç¼“å­˜, æ ¹æ®éœ€è¦å¯ä»¥èˆå¼ƒæ­¤å­—æ®µ</span>
        <span class="hljs-keyword">public</span> UIView View { <span class="hljs-keyword">set</span>; <span class="hljs-keyword">get</span>; } <span class="hljs-comment">//UIå‘ˆç°è§’è‰²</span>
        <span class="hljs-keyword">private</span> AssetOwner _owner = <span class="hljs-keyword">new</span> AssetOwner();  <span class="hljs-comment">//æ­¤å¤„æ˜¯èµ„æºç®¡ç†è€…ï¼Œå¯æ¢æˆé€‚åˆä½ çš„ç»„ä»¶ã€‚</span>
        

        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Awake</span>()</span>
        {
            Init();
            SetLayer();            
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> GameObject <span class="hljs-title">LoadViewObject</span>()<span class="hljs-comment">//åŠ è½½UIèµ„æº</span></span>
        {
            <span class="hljs-keyword">var</span> ah = _owner.Instantiate(AssetKey);<span class="hljs-comment">// åŠ è½½UIèµ„æºprefabï¼Œå¯æ¢æˆå…¶å®ƒç»„ä»¶</span>
            <span class="hljs-keyword">var</span> instance = ah.GetInstance();
            <span class="hljs-keyword">return</span> instance;

        }
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UnloadViewObject</span>()<span class="hljs-comment">//å¸è½½UIèµ„æº</span></span>
        {          
            <span class="hljs-keyword">if</span>(!AssetCache)
                _owner.ReleaseAll();  
        }
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnClose</span>()</span> { }
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnRemoveFromCache</span>()</span> { }
        
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetLayer</span>()<span class="hljs-comment">//è®¾ç½®UIå¯¹è±¡æ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œæ‰€åœ¨çš„èŠ‚ç‚¹ä»£è¡¨ä¹Ÿæ‰€åœ¨çš„å±‚çº§</span></span>
        {
            UICanvasBinder mb = UIMgr.Instance.UIBinder;
            <span class="hljs-keyword">if</span> (Layer == UILayer.Bottom)
                transform.SetParent(mb.BottomCanvas, <span class="hljs-literal">false</span>);
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Layer == UILayer.Middle)
                transform.SetParent(mb.MiddleCanvas, <span class="hljs-literal">false</span>);
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Layer == UILayer.Top)
                transform.SetParent(mb.TopCanvas,<span class="hljs-literal">false</span>);
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Layer == UILayer.PopupBox)
                transform.SetParent(mb.PopupCavas, <span class="hljs-literal">false</span>);
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Layer == UILayer.U3D)
                transform.SetParent(mb.U3DCavas);
        }
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Init</span>()</span>
        {                                                     
            <span class="hljs-keyword">var</span> viewObject = LoadViewObject();
            viewObject.name = UIUtility.GetUIViewTypeName(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">var</span> tv = UIUtility.GetUIViewType(<span class="hljs-keyword">this</span>);
            View =(UIView)viewObject.AddComponent(tv);                                                      
            View.OnInitCompleted();                              
            viewObject.transform.SetParent(transform, <span class="hljs-literal">false</span>);   
            viewObject.transform.localPosition = Vector3.zero;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnShow</span>()<span class="hljs-comment">//æ˜¾ç¤ºUIæ˜¯å›è°ƒï¼Œæä¾›ç»™ç»™ä¸šåŠ¡å±‚æ¥å£</span></span>
        {           
            View.OnShow();
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnShow</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T data</span>)</span>
        {
            View.OnShow(data);
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnShow</span>&lt;<span class="hljs-title">T1</span>, <span class="hljs-title">T2</span>&gt;(<span class="hljs-params">T1 data1, T2 data2</span>)</span>
        {
            View.OnShow(data1, data2);
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnShow</span>&lt;<span class="hljs-title">T1</span>, <span class="hljs-title">T2</span>, <span class="hljs-title">T3</span>&gt;(<span class="hljs-params">T1 data1, T2 data2, T3 data3</span>)</span>
        {
            View.OnShow(data1, data2, data3);
        }
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnShow</span>&lt;<span class="hljs-title">T1</span>, <span class="hljs-title">T2</span>, <span class="hljs-title">T3</span>, <span class="hljs-title">T4</span>&gt;(<span class="hljs-params">T1 data1, T2 data2, T3 data3, T4 data4</span>)</span>
        {
            View.OnShow(data1, data2, data3, data4);
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnHide</span>()<span class="hljs-comment">//éšè—UIæ—¶å›è°ƒ</span></span>
        {
            View.OnHide();
        }
    }
}
</code></pre>
<p>UIView.cs:</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Gamelogic;
<span class="hljs-keyword">using</span> System.Collections;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> UnityEngine;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">Simple.UI</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">enum</span> UILayer<span class="hljs-comment">//å®šä¹‰çš„UIå±‚çº§</span>
    {
        Bottom,
        Middle,
        Top,
        PopupBox,
        U3D        
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UIView</span> : <span class="hljs-title">MonoBehaviour</span>
    {    
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnInitCompleted</span>()</span> { }<span class="hljs-comment">//åˆå§‹åŒ–ç»“æŸæ—¶</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnShow</span>()</span> { }<span class="hljs-comment">//å‘ˆç°æ—¶</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnShow</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">T data</span>)</span> { }
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnShow</span>&lt;<span class="hljs-title">T1</span>, <span class="hljs-title">T2</span>&gt;(<span class="hljs-params">T1 data1, T2 data2</span>)</span> { }
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnShow</span>&lt;<span class="hljs-title">T1</span>, <span class="hljs-title">T2</span>, <span class="hljs-title">T3</span>&gt;(<span class="hljs-params">T1 data1, T2 data2, T3 data3</span>)</span> { }
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnShow</span>&lt;<span class="hljs-title">T1</span>, <span class="hljs-title">T2</span>, <span class="hljs-title">T3</span>, <span class="hljs-title">T4</span>&gt;(<span class="hljs-params">T1 data1, T2 data2, T3 data3, T4 data4</span>)</span> { }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnHide</span>()</span> { }<span class="hljs-comment">//éšè—æ—¶</span>
    }

}
</code></pre>
<p>UIContext.csä¸­ç”¨åˆ°äº†åå°„è·å–UIViewçš„åŠŸèƒ½ï¼Œåå°„ç›¸å…³çš„ä»£ç åœ¨UIUtilityä¸­ï¼Œå¦‚ä¸‹ï¼š</p>
<p>UIUtility.cs:</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">using</span> UnityEngine;
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Reflection;

<span class="hljs-keyword">namespace</span> Simple.UI
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> UIUtility
    {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">string</span> GetContextTypeFullName(UIContext context)
        {
            Type t = context.<span class="hljs-built_in">GetType</span>();
            <span class="hljs-type">string</span> cname = t.FullName.Replace(<span class="hljs-string">"Context"</span>,<span class="hljs-string">""</span>);
            <span class="hljs-keyword">return</span> cname;
        }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> UIData GetUIDataInstance(UIContext context)
        {
            <span class="hljs-type">string</span> cname = GetUIDataTypeFullName(context);
            Type t = context.<span class="hljs-built_in">GetType</span>();
            <span class="hljs-keyword">return</span>  (UIData)t.<span class="hljs-keyword">Assembly</span>.CreateInstance(cname);
        }     
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">string</span> GetUIDataTypeFullName(UIContext context)
        {
            <span class="hljs-keyword">return</span> GetContextTypeFullName(context) + <span class="hljs-string">"Data"</span>;       
        }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">string</span> GetUIViewTypeFullName(UIContext context)
        {
            <span class="hljs-keyword">return</span> GetContextTypeFullName(context) + <span class="hljs-string">"View"</span>;      
        }

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">string</span> GetUIViewTypeName(UIContext context)
        {
            Type t = GetUIViewType(context);
            <span class="hljs-keyword">return</span> t.Name;
        }

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Type GetUIDataType(UIContext context)
        {
            <span class="hljs-type">string</span> cname = GetUIDataTypeFullName(context);
            Type t = context.<span class="hljs-built_in">GetType</span>();
            <span class="hljs-keyword">return</span> t.<span class="hljs-keyword">Assembly</span>.<span class="hljs-built_in">GetType</span>(cname);
        }

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Type GetUIViewType(UIContext context)
        {
            <span class="hljs-type">string</span> cname = GetUIViewTypeFullName(context);
            Type t = context.<span class="hljs-built_in">GetType</span>();
            <span class="hljs-keyword">return</span> t.<span class="hljs-keyword">Assembly</span>.<span class="hljs-built_in">GetType</span>(cname);
        }        

    }
}
</code></pre>
<p>Â  Â  Â  Â è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†UIæ¡†æ¶ä¸­æœ€ä¸»è¦çš„ä¸¤ä¸ªè§’è‰²ä»£ç è®¾è®¡ï¼Œä½†è¿˜ä¸èƒ½è®©è¿™ä¸ªæ¡†æ¶åº”ç”¨èµ·æ¥ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€UIæ ¸å¿ƒæ¡†ä»£ç è®¾è®¡ï¼ˆç®¡ç†è€…ï¼‰</h3>
<p>Â  Â  Â  Â æˆ‘ä»¬è™½ç„¶å®Œæˆäº†ä¸¤ä¸ªæ¡†æ¶è§’è‰²çš„è®¾è®¡ï¼Œä½†è¦ç”¨ä¸Šå®ƒä»¬ï¼Œå¦‚ä½•ç”¨å¾—æ›´å¥½ï¼Œè¿˜å¾—ä¸€ä¸ªç®¡ç†è€…è§’è‰²ï¼Œè¿™ä¸ªå°±æ˜¯UIMgrï¼Œå®ƒçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<p>UIMgr.cs:</p>
<pre><code class="hljs language-ini" lang="ini">using UnityEngine<span class="hljs-comment">;</span>
using System.Collections.Generic<span class="hljs-comment">;</span>

namespace Simple.UI
{

    public class UIMgr
    {
        private List&lt;UIContext&gt; <span class="hljs-attr">_contexts</span> = new List&lt;UIContext&gt;()<span class="hljs-comment">;//æ‰€æœ‰å·²æ‰“å¼€çš„ä¸­ä»‹è€…</span>
        public Transform UIRoot { private set<span class="hljs-comment">; get; }//å®šä¹‰çš„æ ¹èŠ‚ç‚¹</span>
        public UICanvasBinder UIBinder { private set<span class="hljs-comment">; get; }</span>
       
        private static UIMgr _instance<span class="hljs-comment">;        </span>
        public static UIMgr Instance
        {
            get
            {
                if (<span class="hljs-attr">_instance</span> == null)
                {
                    <span class="hljs-attr">_instance</span> = new UIMgr()<span class="hljs-comment">;                    </span>
                }
                return _instance<span class="hljs-comment">;</span>
            }
        }

        public void Init()//åˆå§‹åŒ–UI,ä¸€èˆ¬åœ¨æ¸¸æˆå¼€å§‹æ—¶è°ƒç”¨
        {
            GameObject <span class="hljs-attr">uiRoot</span> = GameObject.Find(<span class="hljs-string">"UIRoot"</span>)<span class="hljs-comment">;</span>
            if (<span class="hljs-attr">uiRoot</span> == null)
            {
                GameObject <span class="hljs-attr">go</span> = Resources.Load&lt;GameObject&gt;(<span class="hljs-string">"UICoreRes/UIRoot"</span>)<span class="hljs-comment">;//å°†å®šä¹‰å¥½çš„UIèŠ‚ç‚¹åŠ è½½åˆ°åœºæ™¯ä¸­</span>
                <span class="hljs-attr">uiRoot</span> = GameObject.Instantiate&lt;GameObject&gt;(go)<span class="hljs-comment">;</span>
                <span class="hljs-attr">uiRoot.name</span> = <span class="hljs-string">"UIRoot"</span><span class="hljs-comment">;</span>
            }
            <span class="hljs-attr">UIRoot</span> = uiRoot.transform<span class="hljs-comment">;</span>
            <span class="hljs-attr">UIBinder</span> = uiRoot.GetComponent&lt;UICanvasBinder&gt;()<span class="hljs-comment">;        </span>
            GameObject.DontDestroyOnLoad(uiRoot)<span class="hljs-comment">;//æ³¨æ„ï¼Œæ˜¯å¤¸åœºæ™¯ä½¿ç”¨ï¼Œæ¸¸æˆä¸é€€å‡ºä¸é”€æ¯</span>
        }
    
        public bool Has&lt;T&gt;() where T : UIContext//
        {
            for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; _contexts.Count; i++)</span>
            {
                if (_contexts<span class="hljs-section">[i]</span>.GetType() == typeof(T))
                    return true<span class="hljs-comment">;</span>
            }
            return false<span class="hljs-comment">;</span>
        }

        public T Get&lt;T&gt;() where T : UIContext
        {
            for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; _contexts.Count; i++)</span>
            {
                if (_contexts<span class="hljs-section">[i]</span>.GetType() == typeof(T))
                    return _contexts<span class="hljs-section">[i]</span> as T<span class="hljs-comment">;</span>
            }
            return null<span class="hljs-comment">;</span>
        }

        private T Add&lt;T&gt;() where T : UIContext
        {
            T t<span class="hljs-comment">;</span>
            string <span class="hljs-attr">name</span> = typeof(T).Name<span class="hljs-comment">;</span>
            GameObject <span class="hljs-attr">go</span> = new GameObject(name)<span class="hljs-comment">;</span>
            <span class="hljs-attr">go.layer</span> = LayerMask.NameToLayer(<span class="hljs-string">"UI"</span>)<span class="hljs-comment">;//è®¾ç½®ä¸ºç»Ÿä¸€æ ‡è¯†å±‚</span>
            RectTransform <span class="hljs-attr">rectTran</span> = go.AddComponent&lt;RectTransform&gt;()<span class="hljs-comment">;</span>
            <span class="hljs-attr">rectTran.sizeDelta</span> = new Vector2(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
            <span class="hljs-attr">rectTran.anchorMin</span> = new Vector2(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
            <span class="hljs-attr">rectTran.anchorMax</span> = new Vector2(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<span class="hljs-comment">;</span>
            <span class="hljs-attr">t</span> = go.AddComponent&lt;T&gt;()<span class="hljs-comment">;//ç»‘å®šä¸Šä¸­ä»·è€…è§’è‰²</span>
            _contexts.Add(t)<span class="hljs-comment">;</span>
            return t<span class="hljs-comment">;</span>
        }

        public T Open&lt;T&gt;() where T : UIContext//æ‰“å¼€ä¸­ä»‹è€…è§’è‰²
        {
            T <span class="hljs-attr">t</span> = Get&lt;T&gt;()<span class="hljs-comment">;</span>
            if (<span class="hljs-attr">t</span> == null)
                <span class="hljs-attr">t</span> = Add&lt;T&gt;()<span class="hljs-comment">;</span>
            else
            {
                if (!t.gameObject.activeSelf)
                    t.gameObject.SetActive(true)<span class="hljs-comment">;</span>
            }
            t.OnShow()<span class="hljs-comment">;</span>
            return t<span class="hljs-comment">;</span>
        }

        public T Open&lt;T, D&gt;(D data) where T : UIContext
        {
            T <span class="hljs-attr">t</span> = Get&lt;T&gt;()<span class="hljs-comment">;</span>
            if (<span class="hljs-attr">t</span> == null)
                <span class="hljs-attr">t</span> = Add&lt;T&gt;()<span class="hljs-comment">;</span>
            else
            {
                if (!t.gameObject.activeSelf)
                    t.gameObject.SetActive(true)<span class="hljs-comment">;</span>
            }
            t.OnShow(data)<span class="hljs-comment">;</span>
            return t<span class="hljs-comment">;</span>
        }      

        public T Open&lt;T, D1,D2&gt;(D1 data1, D2 data2) where T : UIContext
        {
            T <span class="hljs-attr">t</span> = Get&lt;T&gt;()<span class="hljs-comment">;</span>
            if (<span class="hljs-attr">t</span> == null)
                <span class="hljs-attr">t</span> = Add&lt;T&gt;()<span class="hljs-comment">;</span>
            else
            {
                if (!t.gameObject.activeSelf)
                    t.gameObject.SetActive(true)<span class="hljs-comment">;</span>
            }
            t.OnShow(data1, data2)<span class="hljs-comment">;</span>
            return t<span class="hljs-comment">;</span>
        }

        public T Open&lt;T, D1, D2, D3&gt;(D1 data1, D2 data2, D3 data3) where T : UIContext
        {
            T <span class="hljs-attr">t</span> = Get&lt;T&gt;()<span class="hljs-comment">;</span>
            if (<span class="hljs-attr">t</span> == null)
                <span class="hljs-attr">t</span> = Add&lt;T&gt;()<span class="hljs-comment">;</span>
            else
            {
                if (!t.gameObject.activeSelf)
                    t.gameObject.SetActive(true)<span class="hljs-comment">;</span>
            }
            t.OnShow(data1, data2, data3)<span class="hljs-comment">;</span>
            return t<span class="hljs-comment">;</span>
        }

        public T Open&lt;T, D1, D2, D3, D4&gt;(D1 data1, D2 data2, D3 data3, D4 data4) where T : UIContext
        {
            T <span class="hljs-attr">t</span> = Get&lt;T&gt;()<span class="hljs-comment">;</span>
            if (<span class="hljs-attr">t</span> == null)
                <span class="hljs-attr">t</span> = Add&lt;T&gt;()<span class="hljs-comment">;</span>
            else
            {
                if (!t.gameObject.activeSelf)
                    t.gameObject.SetActive(true)<span class="hljs-comment">;</span>
            }
            t.OnShow(data1, data2, data3, data4)<span class="hljs-comment">;</span>
            return t<span class="hljs-comment">;</span>
        }

        public void Close&lt;T&gt;() where T : UIContext//å…³é—­ä¸­ä»‹è€…è§’è‰²
        {
            T <span class="hljs-attr">context</span> = Get&lt;T&gt;()<span class="hljs-comment">;</span>
            if (<span class="hljs-attr">context</span> == null) return<span class="hljs-comment">;</span>
          
            context.OnClose()<span class="hljs-comment">;</span>
            if (!context.Cache)//æ²¡ç¼“å­˜çš„æƒ…å†µä¸‹ç›´æ¥å¸è½½èµ„æº
            {
                context.OnHide()<span class="hljs-comment">;</span>
                _contexts.Remove(context)<span class="hljs-comment">;</span>
                context.OnRemoveFromCache()<span class="hljs-comment">;</span>
                context.UnloadViewObject()<span class="hljs-comment">;</span>
                GameObject.Destroy(context.gameObject)<span class="hljs-comment">;</span>
            }
            else
            {
                context.OnHide()<span class="hljs-comment">;</span>
                context.gameObject.SetActive(false)<span class="hljs-comment">;</span>
            }
        }

        public void DestroyAll()
        {
            foreach(var context in _contexts)
            {
                context.OnHide()<span class="hljs-comment">;           </span>
                context.OnRemoveFromCache()<span class="hljs-comment">;</span>
                context.UnloadViewObject()<span class="hljs-comment">;</span>
                GameObject.Destroy(context.gameObject)<span class="hljs-comment">;</span>
            }
            _contexts.Clear()<span class="hljs-comment">;</span>
        }

        public List&lt;UIContext&gt; GetOpenedContexts()
        {
            var <span class="hljs-attr">contexts</span> = new List&lt;UIContext&gt;()<span class="hljs-comment">;</span>
            foreach(var context in _contexts)
            {
                if(context.gameObject.activeSelf)
                    contexts.Add(context)<span class="hljs-comment">;</span>
            }
            return contexts<span class="hljs-comment">;</span>
        }
    }
}
</code></pre>
<p>Â  Â  Â  Â è‡³æ­¤æˆ‘ä»¬åŸºæœ¬å®Œæˆäº†ä¸€ä¸ªåŸºäºUnityçš„è½»é‡çº§UIå±‚æ¡†æ¶çš„æ ¸å¿ƒç ”å‘ã€‚</p>
<h3 data-id="heading-4">å››ã€å¦‚ä½•ä½¿ç”¨</h3>
<p>Â  Â  Â  Â æˆ‘ä»¬ä»¥ä¸€ä¸ªLoadingç•Œé¢ä¸ºä¾‹æ¥è¯´æ˜å¦‚ä½•ä½¿ç”¨è¿™ä¸ªæ¡†æ¶ã€‚é¦–å…ˆæˆ‘ä»¬è¦å»ºç«‹ä¸¤ä¸ªè§’è‰²ç±»ï¼šLoadingContext.csã€LoadingView.csï¼Œåˆ†åˆ«ç»§ç»­è‡ªUIContextå’ŒUIViewï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p>LoadingContext.cs:</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> UnityEngine;
<span class="hljs-keyword">using</span> Simple.UI;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">Gamelogic</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LoadingContext</span> : <span class="hljs-title">UIContext</span>
    {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> UILayer Layer =&gt; UILayer.Bottom;

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">string</span> AssetKey =&gt; <span class="hljs-string">"Pre_UI_Loading"</span>;

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-built_in">bool</span> Cache =&gt; <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">new</span> LoadingView View { <span class="hljs-keyword">get</span> =&gt; (LoadingView)<span class="hljs-keyword">base</span>.View; <span class="hljs-keyword">set</span> =&gt; <span class="hljs-keyword">base</span>.View = <span class="hljs-keyword">value</span>; }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> GameObject <span class="hljs-title">LoadViewObject</span>()<span class="hljs-comment">//é‡å†™åŸºç±»çš„åŠ è½½é€»è¾‘ï¼Œçµæ´»æ§åˆ¶</span></span>
        {
            <span class="hljs-comment">//return base.LoadViewObject();</span>

            <span class="hljs-keyword">var</span> ui = Resources.Load&lt;GameObject&gt;(<span class="hljs-string">$"Prefabs/Loading/<span class="hljs-subst">{AssetKey}</span>"</span>);<span class="hljs-comment">//ä»æ–‡ä»¶å¤¹ä¸­åŠ è½½UIå¯¹è±¡</span>
            <span class="hljs-keyword">var</span> go = GameObject.Instantiate( ui );
            <span class="hljs-keyword">return</span> go;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UnloadViewObject</span>()</span>
        {
            <span class="hljs-keyword">base</span>.UnloadViewObject();
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnClose</span>()</span>
        {
            <span class="hljs-keyword">base</span>.OnClose();            
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnRemoveFromCache</span>()</span>
        {
            <span class="hljs-keyword">base</span>.OnRemoveFromCache();
            
        }
    }
}
</code></pre>
<p>LoadingView.cs:</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> UnityEngine;
<span class="hljs-keyword">using</span> UnityEngine.UI;
<span class="hljs-keyword">using</span> Simple.UI;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> System;


<span class="hljs-keyword">namespace</span> <span class="hljs-title">Gamelogic</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LoadingView</span> : <span class="hljs-title">UIView</span>
    {     
        <span class="hljs-keyword">private</span> UIGetter _getter;
        <span class="hljs-keyword">private</span> Slider _sldLoading;
        <span class="hljs-keyword">private</span> Text _txtVersion;
        <span class="hljs-keyword">private</span> Text _txtNum;

        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Awake</span>()</span>
        {
           <span class="hljs-comment">//è·å–prefabçš„UIæ§ä»¶</span>
             _getter = GetComponent&lt;UIGetter&gt;();
            _sldLoading = _getter.GetElement(<span class="hljs-string">"sldLoading"</span>).GetComponent&lt;Slider&gt;();
            _txtVersion = _getter.GetElement(<span class="hljs-string">"txtVersion"</span>).GetComponent&lt;Text&gt;();
            _txtNum = _getter.GetElement(<span class="hljs-string">"txtNum"</span>).GetComponent&lt;Text&gt;();
            _txtVersion.text = <span class="hljs-string">$"v<span class="hljs-subst">{Application.version}</span>"</span>;         
        }      

        <span class="hljs-comment">//æ•°æ®çš„æ¥æºï¼Œå¯ä»¥äº¤ç»™ç¬¬ä¸‰æ–¹æˆ–åœ¨ç±»ä¸­å®ç°</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdateLoading</span>(<span class="hljs-params"><span class="hljs-built_in">float</span> percent</span>)</span>
        {
            <span class="hljs-keyword">if</span> (_sldLoading != <span class="hljs-literal">null</span>)
                _sldLoading.<span class="hljs-keyword">value</span> = percent;
            <span class="hljs-keyword">if</span> (_txtNum != <span class="hljs-literal">null</span>)
            {
                <span class="hljs-keyword">var</span> p = (<span class="hljs-built_in">int</span>)(percent * <span class="hljs-number">100</span>);
                <span class="hljs-keyword">if</span>(p &gt; <span class="hljs-number">100</span>)
                    p = <span class="hljs-number">100</span>;
                _txtNum.text = <span class="hljs-string">$"<span class="hljs-subst">{p}</span>%"</span>;
            }
        }     

    }
}
</code></pre>
<p>Â  Â  Â  Â  æ¥ç€ï¼Œæˆ‘ä»¬åœ¨æ‰“å¼€UIæ—¶ï¼Œå¿…é¡»å…ˆåˆå§‹åŒ–UIæ¡†æ¶ï¼Œæœ€å¥½æ˜¯åœ¨æ¸¸æˆæˆå¯åŠ¨çš„æ—¶å€™åˆå§‹åŒ–ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> UnityEngine;
<span class="hljs-keyword">using</span> System.Collections;
<span class="hljs-keyword">using</span> Simple.UI;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">Gamelogic</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">GameSetting</span> : <span class="hljs-title">MonoBehaviour</span>
    {       
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Awake</span>()</span>
        {           
            DontDestroyOnLoad(<span class="hljs-keyword">this</span>.gameObject);
            DontDestroyOnLoad(GameObject.Find(<span class="hljs-string">"EventSystem"</span>));
           
            UIMgr.Instance.Init(); <span class="hljs-comment">//åˆå§‹åŒ–UIæ¡†æ¶         </span>
        }
        <span class="hljs-comment">// Use this for initialization</span>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span>
        {
            <span class="hljs-keyword">var</span> loadingUI = UIMgr.Instance.Open&lt;LoadingContext&gt;();<span class="hljs-comment">//æ‰“å¼€Loadingç•Œé¢</span>
            loadingUI.View.UpdateLoading(<span class="hljs-number">0.1f</span>);<span class="hljs-comment">//æ›´æ–°ç•Œé¢</span>
            <span class="hljs-comment">//UIMgr.Instance.Close&lt;LoadingContext&gt;();//å…³é—­loadingç•Œé¢</span>
        }

        <span class="hljs-comment">// Update is called once per frame</span>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span>
        {

        }

       
    }
}
</code></pre>
<h3 data-id="heading-5">äº”ã€æ€»ç»“</h3>
<p>Â  Â  Â  Â æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªUIå±‚æ¡†æ¶åªæœ‰ä¸‰ä¸ªè§’è‰²ï¼šç®¡ç†è€…ã€ä¸­ä»‹è€…ã€å‘ˆç°è€…ã€‚è¿™ä¸‰ä¸ªè§’è‰²å˜åŠ¨æœ€é¢‘ç¹çš„åº”è¯¥æ˜¯å‘ˆç°è€…è§’è‰²ï¼Œä¸»è¦ä½“ç°åœ¨UIçš„è®¾è®¡ã€å¸ƒå±€å’Œæ›´æ–°æ¢ä»£æ–¹é¢ã€‚æ¢å¥è¯è¯´ï¼Œå¼€å‘äººå‘˜å¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½æ˜¯ä¸“æ³¨äºUIViewçš„å­ç±»å¼€å‘ä¸Šã€‚å¼€å‘äººå‘˜å¯ä»¥ç›´æ¥ç»§ç»­æ²¿ç”¨Unityçš„ç›¸å…³åŠŸèƒ½ï¼Œå¹¶ä¸éœ€è¦å†™ä¸­é—´ä»¶ï¼Œä¾‹å¦‚å¯ç”¨åç¨‹ã€‚è‡³äºæ•°æ®çš„å­˜å‚¨ã€å‘ˆç°æ“ä½œéƒ¨åˆ†ï¼Œå®Œå…¨æ˜¯äº¤ç»™å¦å¤–çš„æ¨¡å—æŒ‰éœ€å®ç°ï¼Œç„¶åæä¾›ç›¸å…³çš„APIä¾›UIViewè°ƒç”¨å³å¯ï¼Œæˆ–è€…æ˜¯ç›´æ¥åœ¨UIViewçš„å­ç±»ä¸­å®ç°ä¹Ÿå¯ã€‚å…·ä½“çš„æ“ä½œæŒ‰é¡¹ç›®çš„å®é™…æƒ…å†µè€Œå®šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Celery ä»‹ç»]]></title>    <link>https://juejin.cn/post/7598005428258357311</link>    <guid>https://juejin.cn/post/7598005428258357311</guid>    <pubDate>2026-01-22T08:47:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598005428258357311" data-draft-id="7597968460652232746" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Celery ä»‹ç»"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-22T08:47:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·120825743993"/> <meta itemprop="url" content="https://juejin.cn/user/3950988158578939"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Celery ä»‹ç»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3950988158578939/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·120825743993
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:47:21.000Z" title="Thu Jan 22 2026 08:47:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1ã€Celery ä»‹ç»</h2>
<p>Celery å¤§è‡´æœ‰ä¸¤ç§åº”ç”¨åœºæ™¯ï¼š<strong>å¼‚æ­¥ä»»åŠ¡</strong> å’Œ <strong>å®šæ—¶ä»»åŠ¡</strong>ã€‚</p>
<h4 data-id="heading-1">1. å¼‚æ­¥ä»»åŠ¡</h4>
<p>å‡è®¾åœ¨ä¸€ä¸ªæ¥å£è¯·æ±‚ä¸­ï¼ŒæŸä¸ªä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´éå¸¸é•¿ï¼Œè€Œå‰ç«¯é¡µé¢å¹¶ä¸éœ€è¦ç«‹åˆ»è·å–å¤„ç†ç»“æœã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å°†è¿™ä¸ªä»»åŠ¡ä½œä¸º <strong>å¼‚æ­¥ä»»åŠ¡</strong>ï¼Œå…ˆè¿”å›ç»™å‰ç«¯ä¸€ä¸ªâ€œå¤„ç†ä¸­â€çš„ä¿¡æ¯ï¼Œç„¶ååœ¨åå°å•ç‹¬è¿è¡Œè¿™ä¸ªä»»åŠ¡ï¼Œä»»åŠ¡æ‰§è¡Œå®Œæˆåå†è¿”å›ç»“æœã€‚</p>
<h4 data-id="heading-2">2. å®šæ—¶ä»»åŠ¡</h4>
<p>ä¾‹å¦‚æŸä¸ªä»»åŠ¡éœ€è¦æ¯å¤©æ™šä¸Šè¿è¡Œä¸€æ¬¡ï¼Œè€Œæˆ‘ä»¬ä¸å¯èƒ½æ¯å¤©éƒ½æ‰‹åŠ¨æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ã€‚å¯ä»¥ä½¿ç”¨ Celery æ¥å®ç°è¿™ä¸ªå®šæ—¶ä»»åŠ¡çš„å‘¨æœŸæ€§æ‰§è¡Œï¼Œä¾‹å¦‚è®¾ç½®æ¯å¤©æ™šä¸Šåç‚¹æ‰§è¡ŒæŸä¸ªå‡½æ•°ã€‚</p>
<h3 data-id="heading-3">Celery çš„ç»„æˆ</h3>
<p>Celery ä¸»è¦ç”±ä»¥ä¸‹ç»„ä»¶ç»„æˆï¼š</p>
<h4 data-id="heading-4">1. Task (ä»»åŠ¡)</h4>
<p><strong>Task</strong> æ˜¯æŒ‡å¼‚æ­¥ä»»åŠ¡æˆ–å®šæ—¶ä»»åŠ¡ï¼Œå¯ä»¥é€šè¿‡ Celery å®šä¹‰å’Œç®¡ç†ã€‚è¿™äº›ä»»åŠ¡å¯ä»¥è¢«å‘é€åˆ° <strong>Broker</strong> è¿›è¡Œå¤„ç†ã€‚</p>
<h4 data-id="heading-5">2. Broker (æ¶ˆæ¯ä¸­é—´ä»¶)</h4>
<p><strong>Broker</strong> å¯ä»¥ç†è§£ä¸ºæ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå®ƒçš„ä½œç”¨æ˜¯è·å–å¼‚æ­¥ä»»åŠ¡æˆ–å®šæ—¶ä»»åŠ¡ï¼Œå¹¶å°†è¿™äº›ä»»åŠ¡åŠ å…¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­ã€‚ç„¶åï¼Œæ¶ˆæ¯é˜Ÿåˆ—å°†ä»»åŠ¡å‘é€ç»™ <strong>Worker</strong> è¿›è¡Œå¤„ç†ã€‚</p>
<ul>
<li>å¸¸è§çš„ <strong>Broker</strong> å®ç°æœ‰ï¼š<strong>Redis</strong>ã€<strong>RabbitMQ</strong> æˆ–è€…å…¶ä»–æ¶ˆæ¯ä¸­é—´ä»¶ã€‚</li>
<li>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <strong>Redis</strong> ä½œä¸ºæ¶ˆæ¯ä¸­é—´ä»¶ã€‚</li>
</ul>
<h4 data-id="heading-6">3. Worker (å·¥ä½œè¿›ç¨‹)</h4>
<p><strong>Worker</strong> æ˜¯å®é™…æ‰§è¡Œä»»åŠ¡çš„ç¨‹åºã€‚å®ƒä» <strong>Broker</strong> ä¸­è·å–ä»»åŠ¡ï¼Œå¹¶åœ¨ <strong>Worker</strong> ä¸­æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚æ‰§è¡Œå®Œæˆåï¼Œæ ¹æ®é…ç½®ï¼Œç»“æœä¼šè¢«å‘é€åˆ° <strong>Backend</strong> è¿›è¡Œå­˜å‚¨ã€‚</p>
<h4 data-id="heading-7">4. Result Backend (ç»“æœå­˜å‚¨)</h4>
<p>å½“ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œ<strong>Worker</strong> ä¼šå°†ä»»åŠ¡ç»“æœå­˜å‚¨åˆ° <strong>Result Backend</strong> ä¸­ã€‚æ— è®ºä»»åŠ¡æœ‰æ— è¿”å›ç»“æœï¼Œéƒ½ä¼šæ ¹æ®é…ç½®å°†ç»“æœå‘é€åˆ°æŒ‡å®šçš„å­˜å‚¨ä½ç½®ã€‚å¸¸è§çš„ <strong>Result Backend</strong> æœ‰ï¼š</p>
<ul>
<li>Redis</li>
<li>æ•°æ®åº“ï¼ˆå¦‚ PostgreSQLã€MySQLï¼‰</li>
<li>æ–‡ä»¶ç³»ç»Ÿç­‰</li>
</ul>
<h4 data-id="heading-8">5. Beat (å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨)</h4>
<p><strong>Beat</strong> ä¸»è¦ç”¨äºå®šæ—¶ä»»åŠ¡çš„è°ƒåº¦ã€‚æ ¹æ®é¢„å®šçš„æ—¶é—´è§„åˆ™ï¼ˆå¦‚æ¯å¤©æ™šä¸Šåç‚¹ï¼‰ï¼Œå®ƒä¼šå°† <strong>Task</strong> å‘é€ç»™ <strong>Broker</strong>ï¼Œç„¶å <strong>Worker</strong> è·å–å¹¶æ‰§è¡Œä»»åŠ¡ã€‚å®šæ—¶ä»»åŠ¡å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ul>
<li><strong>å‘¨æœŸä»»åŠ¡</strong>ï¼šä¾‹å¦‚æ¯å¤©å›ºå®šæ—¶é—´æ‰§è¡ŒæŸä¸ªä»»åŠ¡ã€‚</li>
<li><strong>é—´éš”ä»»åŠ¡</strong>ï¼šä¾‹å¦‚æ¯éš”ä¸€å®šæ—¶é—´ï¼ˆå¦‚æ¯ 10 åˆ†é’Ÿï¼‰æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚</li>
</ul>
<h4 data-id="heading-9">6. å¼‚æ­¥ä»»åŠ¡ vs å®šæ—¶ä»»åŠ¡</h4>
<ul>
<li><strong>å¼‚æ­¥ä»»åŠ¡</strong>ï¼šå¼‚æ­¥ä»»åŠ¡çš„å‘é€ä¸ç»è¿‡ <strong>Beat</strong>ï¼Œç›´æ¥å‘é€åˆ° <strong>Broker</strong>ï¼Œç„¶åç”± <strong>Worker</strong> æ‰§è¡Œã€‚</li>
<li><strong>å®šæ—¶ä»»åŠ¡</strong>ï¼šå®šæ—¶ä»»åŠ¡åˆ™ç”± <strong>Celery Beat</strong> è°ƒåº¦ï¼Œä¾ç…§é¢„å®šæ—¶é—´å‘é€ç»™ <strong>Broker</strong>ï¼Œç”± <strong>Worker</strong> æ‰§è¡Œã€‚</li>
</ul>
<h3 data-id="heading-10">é…ç½®ä¸è¿è¡Œ</h3>
<p>åœ¨ Celery ä¸­ï¼Œ<strong>Broker</strong>ï¼ˆä¾‹å¦‚ Redisï¼‰éœ€è¦å¯åŠ¨å¹¶è¿è¡Œï¼Œä»¥ä¾¿ <strong>Beat</strong> å’Œ <strong>Worker</strong> èƒ½å¤Ÿè®¿é—®å’Œå¤„ç†ä»»åŠ¡ã€‚</p>
<ul>
<li><strong>Worker</strong> å’Œ <strong>Beat</strong> éƒ½éœ€è¦é€šè¿‡æ‰‹åŠ¨å¯åŠ¨ç¨‹åºæ¥è¿è¡Œã€‚</li>
<li>æ¯æ¬¡ä¿®æ”¹å®šæ—¶ä»»åŠ¡çš„é…ç½®åï¼Œéœ€è¦é‡æ–°å¯åŠ¨ <strong>Beat</strong> å’Œ <strong>Worker</strong> æ‰èƒ½ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚</li>
</ul>
<h3 data-id="heading-11">å…¸å‹æµç¨‹</h3>
<ol>
<li><strong>å®šä¹‰ä»»åŠ¡</strong>ï¼ˆTaskï¼‰ï¼Œå¹¶å‘é€ç»™ <strong>Broker</strong>ã€‚</li>
<li><strong>Beat</strong> æ ¹æ®è®¾å®šçš„å®šæ—¶ä»»åŠ¡è§„åˆ™ï¼ˆå‘¨æœŸæ€§æˆ–é—´éš”æ€§ï¼‰è§¦å‘ä»»åŠ¡ï¼Œå°†ä»»åŠ¡å‘é€åˆ° <strong>Broker</strong>ã€‚</li>
<li><strong>Worker</strong> ä» <strong>Broker</strong> ä¸­è·å–ä»»åŠ¡å¹¶æ‰§è¡Œã€‚</li>
<li>æ‰§è¡Œç»“æœæ ¹æ®é…ç½®å­˜å‚¨åˆ° <strong>Result Backend</strong>ã€‚</li>
</ol>
<h3 data-id="heading-12">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li><strong>å¼‚æ­¥ä»»åŠ¡</strong>ä¸ç»è¿‡ <strong>Beat</strong>ï¼Œç›´æ¥ç”± <strong>Worker</strong> æ‰§è¡Œã€‚</li>
<li><strong>å®šæ—¶ä»»åŠ¡</strong>åˆ™ç”± <strong>Celery Beat</strong> è°ƒåº¦ï¼Œç¡®ä¿ä»»åŠ¡æŒ‰ç…§é¢„å®šæ—¶é—´è§¦å‘ã€‚</li>
<li>æ›´æ”¹å®šæ—¶ä»»åŠ¡é…ç½®åï¼Œéœ€è¦é‡æ–°å¯åŠ¨ <strong>Beat</strong> å’Œ <strong>Worker</strong> æ‰èƒ½ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚</li>
</ul>
<h2 data-id="heading-13">2ã€Celery å‡†å¤‡</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å®ç°ä¸€ä¸ªæœ€ç®€å•çš„å¼‚æ­¥ä»»åŠ¡ï¼Œåœ¨æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åšä»¥ä¸‹å‡†å¤‡å·¥ä½œï¼š</p>
<h3 data-id="heading-14">1. å®‰è£…ä¾èµ–</h3>
<p>æˆ‘ä»¬éœ€è¦å®‰è£… Celery å’Œ Redis çš„ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip3 install celery -i https://mirrors.aliyun.com/pypi/simple/
pip3 install redis -i https://mirrors.aliyun.com/pypi/simple/
</code></pre>
<h5 data-id="heading-15">2. æ¶ˆæ¯ä¸­é—´ä»¶ è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ¶ˆæ¯ä¸­é—´ä»¶æ˜¯ Redisï¼Œå¯ä»¥å»å®˜ç½‘ä¸‹è½½å®‰è£… Redisï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Docker æ¥æ‰§è¡Œå®‰è£…ï¼š</h5>
<pre><code class="hljs language-bash" lang="bash">docker run -itd -p 6379:6379 redis:latest
</code></pre>
<h5 data-id="heading-16">3. å¼‚æ­¥ä»»åŠ¡å‡†å¤‡ å‡†å¤‡ä¸€ä¸ªæœ€ç®€å•çš„ <code>add()</code> å‡½æ•°ï¼Œæ”¾åœ¨ <code>tasks.py</code> æ–‡ä»¶ä¸­ï¼š</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># tasks.py</span>
<span class="hljs-keyword">from</span> celery <span class="hljs-keyword">import</span> Celery

app = Celery(<span class="hljs-string">'tasks'</span>, broker=<span class="hljs-string">'redis://localhost/0'</span>, backend=<span class="hljs-string">'redis://localhost/0'</span>)

<span class="hljs-meta">@app.task</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x, y</span>):
    <span class="hljs-keyword">return</span> x + y
</code></pre>
<p>åœ¨è¿™æ®µä»£ç é‡Œï¼Œæˆ‘ä»¬å¼•å…¥äº† Celery æ¨¡å—ï¼Œå¹¶å°†å…¶å®ä¾‹åŒ–ä¸º appï¼Œä¸”è®¾ç½®äº† broker å‚æ•°ï¼Œè¡¨ç¤ºæ¶ˆæ¯é˜Ÿåˆ—çš„ç¬¬äºŒä¸ªæ•°æ®æºæ˜¯ Redisã€‚</p>
<p>åœ¨è¿™æ®µä»£ç é‡Œï¼Œæˆ‘ä»¬å¼•å…¥ <strong>Celery</strong> æ¨¡å—ï¼Œå¹¶å°†å…¶å®ä¾‹åŒ–ä¸º <code>app</code>ï¼Œä¸”é…ç½®äº† <code>broker</code> å‚æ•°ï¼Œè¡¨ç¤ºæ¶ˆæ¯é˜Ÿåˆ—å°†è¢«æ”¾åœ¨ <strong>Redis</strong> çš„ç¬¬ä¸€ä¸ªæ•°æ®åº“ä¸‹ã€‚</p>
<p>æŒ‡å®šçš„ <code>backend</code> å‚æ•°åˆ™è¡¨ç¤ºå‡½æ•°è¿è¡Œçš„ç»“æœè¢«å­˜å‚¨åœ¨ <strong>Redis</strong> çš„ç¬¬äºŒä¸ªæ•°æ®åº“ä¸‹ã€‚</p>
<p>ç„¶åç”¨ <code>@app.task</code> ä¿®é¥° <code>add</code> å‡½æ•°ï¼Œè¡¨ç¤ºå®ƒæ˜¯ <code>app</code> ä¸‹çš„ä»»åŠ¡ï¼ˆtaskï¼‰ã€‚</p>
<p>ä»¥ä¸Šï¼Œæˆ‘ä»¬çš„å‡†å¤‡å·¥ä½œå°±å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥å°è¯•æ‰§è¡Œè¿™ä¸ªå¼‚æ­¥ä»»åŠ¡ã€‚</p>
<h2 data-id="heading-17">3ã€ Celery å¯åŠ¨å’Œå¼‚æ­¥ä»»åŠ¡çš„è¿è¡Œ</h2>
<p>è¯´æ˜¯ Celery çš„å¯åŠ¨ï¼Œå…¶å®æ˜¯ <strong>Worker</strong> çš„å¯åŠ¨ï¼Œä¸­é—´ä»¶æ˜¯ <strong>Redis</strong>ï¼Œå·²ç»åœ¨å‰é¢çš„æ­¥éª¤ä¸­å¯åŠ¨äº†ã€‚</p>
<p>æˆ‘ä»¬åœ¨ <code>tasks.py</code> æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">celery -A tasks worker -l INFO
</code></pre>
<p>åœ¨è¿™é‡Œï¼Œ<code>tasks</code> æ˜¯æˆ‘ä»¬ä»»åŠ¡æ‰€åœ¨çš„æ–‡ä»¶åï¼Œ<code>worker</code> è¡¨ç¤ºå¯åŠ¨çš„æ˜¯ <strong>Worker</strong> ç¨‹åºã€‚</p>
<p><code>-INFO</code> åˆ™ä¼šåœ¨æ§åˆ¶å°æ‰“å°å‡º Worker æ¥æ”¶åˆ°çš„æ¶ˆæ¯è¯¦æƒ…ï¼Œå¦‚æœä¸æ‰§è¡Œè¯¥å‚æ•°ï¼Œåˆ™ä¿¡æ¯æµä¸ä¼šè¢«æ‰“å°å‡ºæ¥ã€‚</p>
<p>æ‰§è¡Œäº†ä¸Šé¢çš„ç¨‹åºåï¼Œå¯ä»¥çœ‹åˆ°æ§åˆ¶å°ä¼šè¾“å‡ºä¸‹é¢è¿™ç§ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">-------------- celery@localhost v5.1.2 (sun-harmonics)
--- ***** ----
-- ******** -- Darwin-21.4.0-x86_64-i386-64bit 2022-07-17 23:56:09
--*** --- * ---
- ** -------- [config]
- ** ---------- -&gt; app: tasks:0x7f8c8ddf3d98
- ** ---------- -&gt; transport: redis://localhost:6379/0
- ** ---------- -&gt; results: disabled://
- ** --- * ---- -&gt; concurrency: 12 (prefork)
 - ** --------- -&gt; task events: OFF (<span class="hljs-built_in">enable</span> -E to monitor tasks <span class="hljs-keyword">in</span> this worker)
--- ***** ----
-------------- [queues]
  - -&gt; celery exchange=celery(direct) key=celery

[tasks]
  . tasks.add

[2022-07-17 23:56:09,685: INFO/MainProcess] Connected to redis://localhost:6379/0
[2022-07-17 23:56:09,699: INFO/MainProcess] mingle: searching <span class="hljs-keyword">for</span> neighbors
[2022-07-17 23:56:10,731: INFO/MainProcess] mingle: all alone
[2022-07-17 23:56:10,737: INFO/MainProcess] celery@localhost ready.

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3å®æˆ˜ï¼šçº¯CSS+JSå®ç°é«˜çº§é€è§†æ•ˆæœ]]></title>    <link>https://juejin.cn/post/7598005428258340927</link>    <guid>https://juejin.cn/post/7598005428258340927</guid>    <pubDate>2026-01-22T08:47:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598005428258340927" data-draft-id="7597811700284932115" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3å®æˆ˜ï¼šçº¯CSS+JSå®ç°é«˜çº§é€è§†æ•ˆæœ"/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2026-01-22T08:47:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmartNorth"/> <meta itemprop="url" content="https://juejin.cn/user/2101921964108136"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3å®æˆ˜ï¼šçº¯CSS+JSå®ç°é«˜çº§é€è§†æ•ˆæœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2101921964108136/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmartNorth
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:47:01.000Z" title="Thu Jan 22 2026 08:47:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘æ—¥æµè§ˆå°ç±³MiMoå®˜ç½‘æ—¶ï¼Œè¢«å…¶é¡¶éƒ¨çš„é€è§†è·ŸéšåŠ¨ç”»æ·±æ·±å¸å¼•â€”â€”é¼ æ ‡ç§»åŠ¨æ—¶ï¼Œæ–‡å­—çŸ©é˜µä¼´éšé®ç½©åŠ¨æ€å˜åŒ–ï¼Œè¥é€ å‡ºæå¼ºçš„è§†è§‰å±‚æ¬¡æ„Ÿå’Œäº¤äº’è¶£å‘³æ€§ã€‚å‡ºäºæŠ€æœ¯æ¢ç´¢ç›®çš„ï¼Œæˆ‘åŸºäºVue3å¤åˆ»äº†è¿™ä¸€æ•ˆæœï¼Œä¸‹æ–‡å°†ä»ç»„ä»¶ç»“æ„ã€æ ¸å¿ƒç®—æ³•ã€æ€§èƒ½ä¼˜åŒ–ä¸‰æ–¹é¢ï¼Œæ‹†è§£å®Œæ•´å®ç°é€»è¾‘ï¼ŒåŠ©åŠ›å¤§å®¶å¿«é€Ÿè½åœ°åˆ°é¡¹ç›®ä¸­ã€‚</p>
<h2 data-id="heading-0">æ•ˆæœæ¼”ç¤º</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/208b58dde8744675acd472644485ed17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU21hcnROb3J0aA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676421&amp;x-signature=47wUPinnroCdepvg3TbWAAAIzro%3D" alt="æ•ˆæœå›¾.gif" loading="lazy"/></p>
<h2 data-id="heading-1">1. åŠŸèƒ½æ¦‚è¿°</h2>
<p>æœ¬ç»„ä»¶æ˜¯ä¸€æ¬¾èšç„¦è§†è§‰äº¤äº’çš„é¡¶éƒ¨åŒºç»„ä»¶ï¼Œæ ¸å¿ƒå®ç°ã€Œé¼ æ ‡é€è§†è·Ÿéšã€æ•ˆæœï¼šé€šè¿‡åŒå±‚æ–‡å­—çŸ©é˜µå åŠ +åŠ¨æ€CSSé®ç½©ï¼Œè®©ä¸Šå±‚å†…å®¹éšé¼ æ ‡è½¨è¿¹å¼¹æ€§å½¢å˜ï¼Œæ¨¡æ‹Ÿç°å®ä¸­çš„é€è§†æ™¯æ·±ï¼Œæ‰“ç ´ä¼ ç»Ÿé™æ€æ ‡é¢˜çš„æ²‰é—·æ„Ÿã€‚</p>
<h2 data-id="heading-2">2. ç»„ä»¶ç»“æ„ä¸DOMè®¾è®¡</h2>
<h3 data-id="heading-3">2.1 æ¨¡æ¿ç»“æ„</h3>
<p>é‡‡ç”¨ã€Œé™æ€åº•å±‚+åŠ¨æ€ä¸Šå±‚ã€çš„åŒå±‚è§†è§‰ç»“æ„ï¼Œé€šè¿‡CSSç»å¯¹å®šä½å®ç°å›¾å±‚å åŠ ï¼Œæ—¢ä¿è¯åˆå§‹çŠ¶æ€çš„è§†è§‰å®Œæ•´æ€§ï¼Œåˆèƒ½è®©äº¤äº’æ•ˆæœç²¾å‡†ä½œç”¨äºä¸Šå±‚ï¼Œä¸å¹²æ‰°åº•å±‚åŸºç¡€å±•ç¤ºã€‚ä¸¤å±‚åˆ†å·¥æ˜ç¡®ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>























<table><thead><tr><th>å›¾å±‚</th><th>ç±»å</th><th>å†…å®¹</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>åº•å±‚</td><td><code>.z-1</code></td><td>ä¸­æ–‡æ ‡é¢˜ "ä½ å¥½ï¼Œä¸–ç•Œï¼" å’Œç°è‰² "HELLO" æ–‡å­—çŸ©é˜µ</td><td>é™æ€èƒŒæ™¯å±•ç¤º</td></tr><tr><td>ä¸Šå±‚</td><td><code>.z-2</code></td><td>è‹±æ–‡æ ‡é¢˜ "Hello , World!" å’Œç™½è‰² "HELLO" æ–‡å­—çŸ©é˜µ</td><td>é¼ æ ‡äº¤äº’æ—¶çš„åŠ¨æ€æ•ˆæœå±‚</td></tr></tbody></table>
<h3 data-id="heading-4">2.2 æ ¸å¿ƒ DOM ç»“æ„</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;div class="container" @mouseenter="onMouseEnter" @mouseleave="onMouseLeave" @mousemove="onMouseMove"&gt;
  &lt;!-- åº•å±‚å†…å®¹ --&gt;
  &lt;div class="z-1"&gt;
    &lt;div class="line" v-for="line in 13"&gt;
      &lt;span class="line-item" v-for="item in 13"&gt;HELLO&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;h1 class="title-1"&gt;ä½ å¥½ï¼Œä¸–ç•Œï¼&lt;/h1&gt;
  
  &lt;!-- ä¸Šå±‚äº¤äº’å†…å®¹ --&gt;
  &lt;div class="z-2" :style="{ 'clip-path': circleClipPath }"&gt;
    &lt;div class="hidden-div"&gt;
      &lt;div class="line" v-for="line in 13"&gt;
        &lt;span class="line-item" v-for="item in 13"&gt;HELLO&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;h1 class="title-2"&gt;Hello , World!&lt;/h1&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<blockquote>
<p>å…³é”®è¯´æ˜ï¼šhidden-divç”¨äºåŒ…è£¹ä¸Šå±‚æ–‡å­—çŸ©é˜µï¼Œé…åˆ.z-2çš„å®šä½è§„åˆ™ï¼Œç¡®ä¿é®ç½©æ•ˆæœç²¾å‡†è¦†ç›–ï¼›ä¸¤å±‚æ–‡å­—çŸ©é˜µå°ºå¯¸ä¸€è‡´ï¼Œä¿è¯è§†è§‰å¯¹é½ï¼Œå¢å¼ºé€è§†æ²‰æµ¸æ„Ÿã€‚</p>
</blockquote>
<h2 data-id="heading-5">3. æŠ€æœ¯å®ç°</h2>
<h3 data-id="heading-6">3.1 æ ¸å¿ƒåŠŸèƒ½æ¨¡å—</h3>
<h4 data-id="heading-7">3.1.1 è½¨è¿¹ç‚¹ç³»ç»Ÿ</h4>
<p>è½¨è¿¹ç‚¹ç³»ç»Ÿæ˜¯å®ç°å¹³æ»‘é¼ æ ‡è·Ÿéšæ•ˆæœçš„æ ¸å¿ƒï¼Œé€šè¿‡ç»´æŠ¤6ä¸ªè½¨è¿¹ç‚¹çš„ä½ç½®ä¿¡æ¯ï¼Œåˆ›å»ºå‡ºå…·æœ‰å¼¹æ€§å»¶è¿Ÿçš„è·ŸéšåŠ¨ç”»ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è½¨è¿¹ç‚¹ç³»ç»Ÿ </span>
<span class="hljs-keyword">const</span> trailSystem = <span class="hljs-title function_">ref</span>({
  <span class="hljs-attr">targetX</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">targetY</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">trailPoints</span>: <span class="hljs-title class_">Array</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })),
  <span class="hljs-attr">animationId</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">isInside</span>: <span class="hljs-literal">false</span>
});
</code></pre>
<blockquote>
<p>è®¾è®¡æ€è·¯ï¼š6ä¸ªè½¨è¿¹ç‚¹æ˜¯å…¼é¡¾æµç•…åº¦ä¸æ€§èƒ½çš„å¹³è¡¡å€¼â€”â€”ç‚¹å¤ªå°‘åˆ™æ‹–å°¾æ•ˆæœä¸æ˜æ˜¾ï¼Œç‚¹å¤ªå¤šåˆ™å¢åŠ è®¡ç®—å¼€é”€ï¼Œé…åˆé€’å‡é˜»å°¼ç³»æ•°ï¼Œå®ç°â€œå¤´å¿«å°¾æ…¢â€çš„è‡ªç„¶è·Ÿéšã€‚</p>
</blockquote>
<h4 data-id="heading-8">3.1.2 åŠ¨æ€ Clip-Path è®¡ç®—</h4>
<p>é€šè¿‡è®¡ç®—é¼ æ ‡ä½ç½®å’Œè½¨è¿¹ç‚¹çš„å…³ç³»ï¼ŒåŠ¨æ€ç”Ÿæˆ <code>clip-path</code> CSS å±æ€§å€¼ï¼Œå®ç°è·Ÿéšé¼ æ ‡çš„åœ†å½¢/æ¤­åœ†å½¢é®ç½©æ•ˆæœã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è®¡ç®—clip-pathå€¼ï¼Œä½¿ç”¨å‚è€ƒç®—æ³•å®ç°å¼¹æ€§åŠ¨ç”»</span>
<span class="hljs-keyword">const</span> circleClipPath = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!showCircle.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'circle(0px at -300px -300px)'</span>; <span class="hljs-comment">// å®Œå…¨éšè—çŠ¶æ€</span>
  }

  <span class="hljs-comment">// å¤åˆ¶è½¨è¿¹ç³»ç»Ÿæ•°æ®è¿›è¡Œè®¡ç®—</span>
  <span class="hljs-keyword">const</span> system = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(trailSystem.<span class="hljs-property">value</span>));
  
  <span class="hljs-comment">// æ›´æ–°è½¨è¿¹ç‚¹</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> t = <span class="hljs-number">0</span>; t &lt; <span class="hljs-number">6</span>; t++) {
    <span class="hljs-keyword">const</span> prevX = t === <span class="hljs-number">0</span> ? system.<span class="hljs-property">targetX</span> : system.<span class="hljs-property">trailPoints</span>[t - <span class="hljs-number">1</span>].<span class="hljs-property">x</span>;
    <span class="hljs-keyword">const</span> prevY = t === <span class="hljs-number">0</span> ? system.<span class="hljs-property">targetY</span> : system.<span class="hljs-property">trailPoints</span>[t - <span class="hljs-number">1</span>].<span class="hljs-property">y</span>;
    <span class="hljs-keyword">const</span> damping = <span class="hljs-number">0.7</span> - <span class="hljs-number">0.04</span> * t; <span class="hljs-comment">// é˜»å°¼ç³»æ•°ï¼Œåé¢çš„ç‚¹ç§»åŠ¨æ›´æ…¢</span>
    
    <span class="hljs-keyword">const</span> deltaX = prevX - system.<span class="hljs-property">trailPoints</span>[t].<span class="hljs-property">x</span>;
    <span class="hljs-keyword">const</span> deltaY = prevY - system.<span class="hljs-property">trailPoints</span>[t].<span class="hljs-property">y</span>;
    
    <span class="hljs-comment">// å¹³æ»‘æ’å€¼</span>
    system.<span class="hljs-property">trailPoints</span>[t].<span class="hljs-property">x</span> += deltaX * damping;
    system.<span class="hljs-property">trailPoints</span>[t].<span class="hljs-property">y</span> += deltaY * damping;
  }
  
  <span class="hljs-comment">// è·å–ç¬¬ä¸€ä¸ªç‚¹ï¼ˆå¤´éƒ¨ï¼‰å’Œæœ€åä¸€ä¸ªç‚¹ï¼ˆå°¾éƒ¨ï¼‰</span>
  <span class="hljs-keyword">const</span> head = system.<span class="hljs-property">trailPoints</span>[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">const</span> tail = system.<span class="hljs-property">trailPoints</span>[<span class="hljs-number">5</span>];
  
  <span class="hljs-keyword">const</span> diffX = head.<span class="hljs-property">x</span> - tail.<span class="hljs-property">x</span>;
  <span class="hljs-keyword">const</span> diffY = head.<span class="hljs-property">y</span> - tail.<span class="hljs-property">y</span>;
  <span class="hljs-keyword">const</span> distance = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(diffX * diffX + diffY * diffY);
  
  <span class="hljs-keyword">let</span> clipPathValue = <span class="hljs-string">''</span>;
  
  <span class="hljs-keyword">if</span> (distance &lt; <span class="hljs-number">10</span>) { <span class="hljs-comment">// å¦‚æœè·ç¦»å¾ˆè¿‘ï¼Œæ˜¾ç¤ºåœ†å½¢</span>
    clipPathValue = <span class="hljs-string">`circle(200px at <span class="hljs-subst">${head.x}</span>px <span class="hljs-subst">${head.y}</span>px)`</span>;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// åˆ›å»ºæ¤­åœ†å½¢çš„polygonï¼Œè¿æ¥å¤´å°¾ä¸¤ç‚¹</span>
    <span class="hljs-keyword">const</span> angle = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">atan2</span>(diffY, diffX); <span class="hljs-comment">// è¿æ¥è§’åº¦</span>
    <span class="hljs-keyword">const</span> points = [];
    
    <span class="hljs-comment">// ä»å¤´éƒ¨å¼€å§‹ï¼Œç”»åŠä¸ªæ¤­åœ†</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">30</span>; i++) {
      <span class="hljs-keyword">const</span> theta = angle - <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">2</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * i / <span class="hljs-number">30</span>;
      <span class="hljs-keyword">const</span> x = head.<span class="hljs-property">x</span> + <span class="hljs-number">200</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(theta);
      <span class="hljs-keyword">const</span> y = head.<span class="hljs-property">y</span> + <span class="hljs-number">200</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(theta);
      points.<span class="hljs-title function_">push</span>(<span class="hljs-string">`<span class="hljs-subst">${x}</span>px <span class="hljs-subst">${y}</span>px`</span>);
    }
    
    <span class="hljs-comment">// ä»å°¾éƒ¨å¼€å§‹ï¼Œç”»å¦åŠä¸ªæ¤­åœ†</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">30</span>; i++) {
      <span class="hljs-keyword">const</span> theta = angle + <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">2</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> * i / <span class="hljs-number">30</span>;
      <span class="hljs-keyword">const</span> x = tail.<span class="hljs-property">x</span> + <span class="hljs-number">200</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(theta);
      <span class="hljs-keyword">const</span> y = tail.<span class="hljs-property">y</span> + <span class="hljs-number">200</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(theta);
      points.<span class="hljs-title function_">push</span>(<span class="hljs-string">`<span class="hljs-subst">${x}</span>px <span class="hljs-subst">${y}</span>px`</span>);
    }
    
    clipPathValue = <span class="hljs-string">`polygon(<span class="hljs-subst">${points.join(<span class="hljs-string">', '</span>)}</span>)`</span>;
  }
  
  <span class="hljs-keyword">return</span> clipPathValue;
});
</code></pre>
<h4 data-id="heading-9">3.1.3 é¼ æ ‡äº‹ä»¶å¤„ç†</h4>
<p>å®ç°äº†å®Œæ•´çš„é¼ æ ‡äº¤äº’é€»è¾‘ï¼ŒåŒ…æ‹¬é¼ æ ‡è¿›å…¥ã€ç¦»å¼€å’Œç§»åŠ¨æ—¶çš„çŠ¶æ€ç®¡ç†å’ŒåŠ¨ç”»æ§åˆ¶ã€‚</p>

























<table><thead><tr><th>äº‹ä»¶</th><th>å¤„ç†å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>mouseenter</td><td>onMouseEnter</td><td>æ¿€æ´»äº¤äº’æ•ˆæœï¼Œåˆå§‹åŒ–è½¨è¿¹ç‚¹</td></tr><tr><td>mouseleave</td><td>onMouseLeave</td><td>åœç”¨äº¤äº’æ•ˆæœï¼Œé‡ç½®è½¨è¿¹ç‚¹</td></tr><tr><td>mousemove</td><td>onMouseMove</td><td>æ›´æ–°ç›®æ ‡ç‚¹ä½ç½®ï¼Œé©±åŠ¨åŠ¨ç”»</td></tr></tbody></table>
<h2 data-id="heading-10">4. æŠ€æœ¯äº®ç‚¹</h2>
<h3 data-id="heading-11">4.1 è½¨è¿¹ç‚¹ç³»ç»Ÿç®—æ³•</h3>
<p><strong>æ ¸å¿ƒåŸç†</strong>ï¼šä½¿ç”¨6ä¸ªè½¨è¿¹ç‚¹ï¼Œæ¯ä¸ªç‚¹è·Ÿéšå‰ä¸€ä¸ªç‚¹ç§»åŠ¨ï¼Œå¹¶åº”ç”¨ä¸åŒçš„é˜»å°¼ç³»æ•°ï¼Œå®ç°å¹³æ»‘çš„æ‹–å°¾æ•ˆæœã€‚</p>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>å®ç°äº†è‡ªç„¶çš„ç‰©ç†è¿åŠ¨æ•ˆæœï¼Œæ¯”ç®€å•çš„çº¿æ€§è·Ÿéšæ›´å…·è§†è§‰å¸å¼•åŠ›</li>
<li>é€šè¿‡é˜»å°¼ç³»æ•°çš„é€’å‡ï¼Œåˆ›å»ºå‡ºå±‚æ¬¡æ„Ÿå’Œæ·±åº¦æ„Ÿ</li>
<li>ç®—æ³•å¤æ‚åº¦ä½ï¼Œæ€§èƒ½æ¶ˆè€—å°ï¼Œé€‚åˆå®æ—¶äº¤äº’åœºæ™¯</li>
</ul>
<h3 data-id="heading-12">4.2 åŠ¨æ€ Clip-Path æŠ€æœ¯</h3>
<p><strong>æ ¸å¿ƒåŸç†</strong>ï¼šåˆ©ç”¨CSS clip-pathå±æ€§çš„åŠ¨æ€ç‰¹æ€§ï¼Œç»“åˆè½¨è¿¹ç‚¹ä½ç½®è®¡ç®—ï¼Œå®æ—¶ç”Ÿæˆä¸è§„åˆ™é®ç½©ï¼Œæ›¿ä»£Canvas/SVGçš„å›¾å½¢ç»˜åˆ¶æ–¹æ¡ˆï¼Œç”¨æ›´è½»é‡åŒ–çš„æ–¹å¼å®ç°å¤æ‚è§†è§‰æ•ˆæœã€‚</p>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æ— ä¾èµ–è½»é‡åŒ–ï¼šæ— éœ€å¼•å…¥ä»»ä½•å›¾å½¢åº“ï¼Œçº¯CSS+JSå³å¯å®ç°ï¼Œå‡å°‘é¡¹ç›®ä¾èµ–ä½“ç§¯ï¼Œé™ä½é›†æˆæˆæœ¬</li>
<li>å¹³æ»‘è¿‡æ¸¡æ— å¡é¡¿ï¼šé€šè¿‡æ•°å€¼æ’å€¼è®¡ç®—ï¼Œå®ç°åœ†å½¢ä¸æ¤­åœ†å½¢é®ç½©çš„æ— ç¼åˆ‡æ¢ï¼Œæ— å¸§æ–­è£‚æ„Ÿï¼Œè§†è§‰è¿è´¯æ€§å¼º</li>
<li>æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–ï¼šé…åˆ <code>will-change: clip-path</code> æç¤ºæµè§ˆå™¨ï¼Œæå‰åˆ†é…æ¸²æŸ“èµ„æºï¼Œå‡å°‘é‡æ’é‡ç»˜ï¼Œæå‡åŠ¨ç”»æµç•…åº¦</li>
</ul>
<h2 data-id="heading-13">5. æ€§èƒ½ä¼˜åŒ–</h2>
<ol>
<li>
<p><strong>æ¸²æŸ“æ€§èƒ½</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>will-change: clip-path</code> æç¤ºæµè§ˆå™¨ä¼˜åŒ–æ¸²æŸ“</li>
<li>åˆç†ä½¿ç”¨ Vue çš„å“åº”å¼ç³»ç»Ÿï¼Œé¿å…ä¸å¿…è¦çš„é‡è®¡ç®—</li>
</ul>
</li>
<li>
<p><strong>äº‹ä»¶å¤„ç†</strong>ï¼š</p>
<ul>
<li>ä»…åœ¨é¼ æ ‡åœ¨å®¹å™¨å†…æ—¶æ›´æ–°ç›®æ ‡ç‚¹ä½ç½®ï¼Œå‡å°‘è®¡ç®—é‡</li>
<li>é¼ æ ‡ç¦»å¼€æ—¶åœæ­¢åŠ¨ç”»ï¼Œé‡Šæ”¾èµ„æº</li>
</ul>
</li>
<li>
<p><strong>åŠ¨ç”»æ€§èƒ½</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>requestAnimationFrame</code> å®ç°æµç•…çš„åŠ¨ç”»æ•ˆæœ</li>
<li>é¼ æ ‡ç¦»å¼€æ—¶å–æ¶ˆåŠ¨ç”»å¸§è¯·æ±‚ï¼Œé¿å…å†…å­˜æ³„æ¼</li>
</ul>
</li>
</ol>
<h2 data-id="heading-14">6. æ€»ç»“ä¸æ‰©å±•</h2>
<p>æœ¬æ¬¡å¤åˆ»çš„å°ç±³MiMoé€è§†åŠ¨ç”»ï¼Œæ ¸å¿ƒä»·å€¼åœ¨äºâ€œç”¨ç®€å•æŠ€æœ¯ç»„åˆå®ç°é«˜çº§è§†è§‰æ•ˆæœâ€â€”â€”æ— éœ€å¤æ‚å›¾å½¢åº“ï¼Œä»…ä¾æ‰˜Vue3å“åº”å¼èƒ½åŠ›ä¸CSS clip-pathå±æ€§ï¼Œå°±èƒ½æ‰“é€ å‡ºå…¼å…·è´¨æ„Ÿä¸æ€§èƒ½çš„äº¤äº’ç»„ä»¶ã€‚å…¶æ ¸å¿ƒäº®ç‚¹å¯æ¦‚æ‹¬ä¸ºä¸‰ç‚¹ï¼š</p>
<ul>
<li>äº¤äº’åˆ›æ–°ï¼šè½¨è¿¹ç‚¹ç³»ç»Ÿä¸åŠ¨æ€clip-pathç»“åˆï¼Œæ‰“ç ´ä¼ ç»Ÿé™æ€æ ‡é¢˜çš„äº¤äº’è¾¹ç•Œï¼Œå¸¦æ¥è‡ªç„¶æµç•…çš„é¼ æ ‡è·Ÿéšä½“éªŒ</li>
<li>è§†è§‰ç²¾è‡´ï¼šåŒå±‚æ–‡å­—çŸ©é˜µçš„åˆ†å±‚è®¾è®¡ï¼Œé…åˆé®ç½©å½¢å˜ï¼Œè¥é€ å‡ºå…¼å…·æ·±åº¦æ„Ÿä¸å“ç‰Œæ€§çš„è§†è§‰æ•ˆæœ</li>
<li>æ€§èƒ½å¯æ§ï¼šè½»é‡åŒ–æŠ€æœ¯æ–¹æ¡ˆ+å¤šç»´åº¦ä¼˜åŒ–ç­–ç•¥ï¼Œåœ¨ä¿è¯è§†è§‰æ•ˆæœçš„åŒæ—¶ï¼Œå…¼é¡¾é¡µé¢æ€§èƒ½ä¸å¯ç»´æŠ¤æ€§</li>
</ul>
<h3 data-id="heading-15">æ‰©å±•æ–¹å‘</h3>
<p>è¯¥ç»„ä»¶çš„å®ç°æ€è·¯å¯çµæ´»è¿ç§»è‡³å…¶ä»–åœºæ™¯ï¼š</p>
<ul>
<li>å¼¹çª—è¿‡æ¸¡åŠ¨ç”»ï¼šå°†clip-pathé®ç½©ç”¨äºå¼¹çª—è¿›å…¥/é€€å‡ºæ•ˆæœï¼Œå®ç°ä¸è§„åˆ™å½¢çŠ¶çš„è¿‡æ¸¡åŠ¨ç”»ã€‚</li>
<li>æ»šåŠ¨åŠ¨æ•ˆï¼šç»“åˆæ»šåŠ¨äº‹ä»¶æ›¿æ¢é¼ æ ‡äº‹ä»¶ï¼Œå®ç°é¡µé¢æ»šåŠ¨æ—¶çš„å…ƒç´ é€è§†è·Ÿéšæ•ˆæœã€‚</li>
<li>ç§»åŠ¨ç«¯é€‚é…ï¼šå¢åŠ è§¦æ‘¸äº‹ä»¶æ”¯æŒï¼Œå°†é¼ æ ‡äº¤äº’æ›¿æ¢ä¸ºè§¦æ‘¸æ»‘åŠ¨ï¼Œé€‚é…ç§»åŠ¨ç«¯åœºæ™¯ã€‚</li>
</ul>
<blockquote>
<p>æ¬¢è¿å¤§å®¶ç•™è¨€äº¤æµæ›´å¤šä¼˜åŒ–æ€è·¯ï½</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pipecat å°ç™½å…¥é—¨æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7597989474991636518</link>    <guid>https://juejin.cn/post/7597989474991636518</guid>    <pubDate>2026-01-22T08:47:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597989474991636518" data-draft-id="7597979278240284681" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pipecat å°ç™½å…¥é—¨æ•™ç¨‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,Python"/> <meta itemprop="datePublished" content="2026-01-22T08:47:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æµ·è¾¹æ¡çŸ³å­"/> <meta itemprop="url" content="https://juejin.cn/user/2335828265144488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pipecat å°ç™½å…¥é—¨æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2335828265144488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æµ·è¾¹æ¡çŸ³å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:47:05.000Z" title="Thu Jan 22 2026 08:47:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Pipecat å°ç™½å…¥é—¨æ•™ç¨‹</h2>
<blockquote>
<p>æœ¬æ•™ç¨‹ç»“åˆé¡¹ç›®ä»£ç ä¸å®˜æ–¹ pipecat æ–‡æ¡£ï¼Œå¸®åŠ©ä½ å¿«é€Ÿç†è§£ Pipecat çš„æ ¸å¿ƒæµç¨‹ã€è¾“å…¥æ•æ‰ã€å…±äº«å˜é‡ã€Flow ç®¡ç†ä¸å¯åŠ¨æ–¹å¼ã€‚</p>
</blockquote>
<hr/>
<p><strong>pipeca</strong>tä½œä¸ºä¸“æ³¨å®æ—¶äº¤äº’çš„Pythonæ¡†æ¶ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå°†å¤æ‚çš„å¤šæ¨¡æ€å¤„ç†æ‹†è§£ä¸ºæ¨¡å—åŒ–ç»„ã€‚</p>
<ul>
<li>æ¥å…¥å±‚ï¼šæ”¯æŒWebRTCã€WebSocketç­‰å¤šç§ä¼ è¾“åè®®</li>
<li>å¤„ç†å±‚ï¼šæä¾›è¯­éŸ³ç¼–è§£ç ã€æ–‡æœ¬å¤„ç†ã€å›¾åƒæ¸²æŸ“ç­‰åŸºç¡€èƒ½åŠ›</li>
<li>æœåŠ¡å±‚ï¼šé›†æˆAnthropicã€Deepgramç­‰50+ AIæœåŠ¡</li>
</ul>
<h3 data-id="heading-1">1. æ ¸å¿ƒæ¦‚å¿µï¼ˆå…ˆç†è§£æ•´ä½“ç»“æ„ï¼‰</h3>
<h4 data-id="heading-2">Pipelineï¼ˆå¤„ç†ç®¡é“ï¼‰</h4>
<p>æ•°æ®ä»è¾“å…¥åˆ°è¾“å‡ºä¾æ¬¡ç»è¿‡å¤šä¸ªå¤„ç†å™¨ï¼ˆProcessorï¼‰ï¼Œä½ å¯ä»¥ç†è§£ä¸ºä¸€æ¡â€œå¤„ç†æµæ°´çº¿â€ã€‚</p>
<pre><code class="hljs language-makefile" lang="makefile">pipeline = Pipeline(
    [
        transport.input(),          <span class="hljs-comment"># è¾“å…¥ï¼ˆéŸ³é¢‘/æ–‡æœ¬ï¼‰</span>
        rtvi,                       <span class="hljs-comment"># RTVI åè®®å¤„ç†å™¨</span>
        stt,                        <span class="hljs-comment"># è¯­éŸ³è¯†åˆ«</span>
        user_input_store_processor, <span class="hljs-comment"># å­˜å‚¨ç”¨æˆ·è¾“å…¥</span>
        context_aggregator.user(),  <span class="hljs-comment"># ç”¨æˆ·ä¸Šä¸‹æ–‡èšåˆ</span>
        llm,                        <span class="hljs-comment"># å¤§è¯­è¨€æ¨¡å‹</span>
        tts,                        <span class="hljs-comment"># è¯­éŸ³åˆæˆ</span>
        transport.output(),         <span class="hljs-comment"># è¾“å‡º</span>
        context_aggregator.assistant(),
    ]
)
</code></pre>
<h4 data-id="heading-3">PipelineTaskï¼ˆè¿è¡Œä»»åŠ¡ï¼‰</h4>
<p>è´Ÿè´£å¯åŠ¨ Pipeline å¹¶å‘å‡º StartFrameÂ /Â EndFrameã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">task</span> = PipelineTask(
    pipeline,
    <span class="hljs-attr">params</span>=PipelineParams(allow_interruptions=<span class="hljs-literal">True</span>),
)
</code></pre>
<h4 data-id="heading-4">FlowManagerï¼ˆæµç¨‹æ§åˆ¶å™¨ï¼‰</h4>
<p>è´Ÿè´£èŠ‚ç‚¹æµè½¬ã€å·¥å…·æ³¨å†Œã€ä¸Šä¸‹æ–‡æ›´æ–°ä¸è·³è½¬é€»è¾‘ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">flow_manager</span> = FlowManager(
    <span class="hljs-attr">task</span>=task,
    <span class="hljs-attr">llm</span>=llm,
    <span class="hljs-attr">context_aggregator</span>=context_aggregator,
    <span class="hljs-attr">transport</span>=transport,
)
</code></pre>
<h4 data-id="heading-5">PipelineRunnerï¼ˆè¿è¡Œå™¨ï¼‰</h4>
<p>å¯åŠ¨ä»»åŠ¡å¹¶ç»´æŒä¼šè¯è¿è¡Œã€‚</p>
<pre><code class="hljs language-scss" lang="scss">runner = <span class="hljs-built_in">PipelineRunner</span>(handle_sigint=runner_args.handle_sigint)
await runner<span class="hljs-selector-class">.run</span>(task)
</code></pre>
<hr/>
<h3 data-id="heading-6">2. Transport é‡è¦åŸç†</h3>
<p>Transport æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é€šä¿¡çš„æ ¸å¿ƒå±‚ï¼Œè´Ÿè´£ï¼š</p>
<ul>
<li>è®¾å¤‡ç®¡ç†ï¼ˆéº¦å…‹é£/æ‘„åƒå¤´ï¼‰</li>
<li>éŸ³è§†é¢‘æ¨æ‹‰æµ</li>
<li>ä¼šè¯ç”Ÿå‘½å‘¨æœŸç®¡ç†</li>
</ul>
<h4 data-id="heading-7">Transport ç”Ÿå‘½å‘¨æœŸï¼ˆå®˜æ–¹çŠ¶æ€æœºï¼‰</h4>
<p>Transport ä¼šç»å†ä»¥ä¸‹çŠ¶æ€ï¼š</p>
<ol>
<li>Disconnected</li>
<li>Initializing</li>
<li>Initialized</li>
<li>Authenticating</li>
<li>Authenticated</li>
<li>Connecting</li>
<li>Connected</li>
<li>Ready</li>
<li>Disconnecting</li>
<li>Error</li>
</ol>
<p>åœ¨ SmallWebRTC æµ‹è¯•é¡µé¢ä¸­ï¼Œåªæœ‰å½“çŠ¶æ€è¿›å…¥Â <strong>Ready</strong>ï¼Œæ‰èƒ½æ­£å¸¸è¿›è¡Œè¯­éŸ³/æ–‡æœ¬äº¤äº’ã€‚<br/>
å®˜æ–¹è¯´æ˜å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.pipecat.ai%2Fclient%2Fjs%2Ftransports%2Ftransport" target="_blank" title="https://docs.pipecat.ai/client/js/transports/transport" ref="nofollow noopener noreferrer">docs.pipecat.ai/client/js/tâ€¦</a></p>
<hr/>
<h3 data-id="heading-8">3. å‰ç«¯å‚æ•°ä¼ é€’è·¯å¾„ï¼ˆ/start vs /api/offerï¼‰</h3>
<p>SmallWebRTC æµ‹è¯•é¡µé¢çš„Â <strong>é»˜è®¤å‚æ•°æœ€ç»ˆè¿›å…¥Â <code>runner_args.body</code>Â çš„è·¯å¾„æ˜¯Â <code>/api/offer</code>Â çš„Â <code>request_data</code></strong>ã€‚</p>
<h4 data-id="heading-9">å…³é”®ç»“è®º</h4>
<ul>
<li><code>/start</code>Â ç”¨äº session åˆå§‹åŒ–ï¼ˆåˆ›å»º sessionIdã€ICE é…ç½®ï¼‰</li>
<li><code>/api/offer</code>Â æ‰ä¼šæŠŠÂ <code>request_data</code>Â å†™å…¥Â <code>runner_args.body</code></li>
</ul>
<p>æ‰€ä»¥å¦‚æœä½ éœ€è¦æŠŠé»˜è®¤å‚æ•°ä¼ ç»™åç«¯ï¼Œè¯·ç¡®ä¿æ³¨å…¥åˆ°Â <code>/api/offer</code>ã€‚</p>
<hr/>
<h3 data-id="heading-10">4. æ•æ‰ç”¨æˆ·è¾“å…¥ï¼ˆæ–‡æœ¬ + è¯­éŸ³ï¼‰</h3>
<h4 data-id="heading-11">æ–‡æœ¬è¾“å…¥</h4>
<p>SmallWebRTC UI å‘é€Â <code>send-text</code>ï¼Œä¼šç”ŸæˆÂ <code>InputTransportMessageFrame</code>ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">isinstance</span><span class="hljs-params">(frame, InputTransportMessageFrame)</span>:
    message =</span> frame.message
    <span class="hljs-keyword">if</span> message.<span class="hljs-built_in">get</span>(<span class="hljs-string">"type"</span>) == <span class="hljs-string">"send-text"</span>:
        text = message[<span class="hljs-string">"data"</span>][<span class="hljs-string">"content"</span>]
</code></pre>
<h4 data-id="heading-12">è¯­éŸ³è¾“å…¥</h4>
<p>è¯­éŸ³ç»è¿‡ STT åè¾“å‡ºÂ <code>TranscriptionFrame</code>ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">isinstance</span><span class="hljs-params">(frame, TranscriptionFrame)</span>:
    text =</span> frame.text
</code></pre>
<hr/>
<h3 data-id="heading-13">5. å°†ç”¨æˆ·è¾“å…¥å†™å…¥å…±äº«å˜é‡ï¼ˆflow_manager.stateï¼‰</h3>
<p>ä½¿ç”¨Â <code>flow_manager.state</code>Â å­˜å‚¨ç”¨æˆ·æ¯æ¬¡è¾“å…¥ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">flow_manager<span class="hljs-selector-class">.state</span><span class="hljs-selector-class">.setdefault</span>("user_inputs", [])
flow_manager<span class="hljs-selector-class">.state</span><span class="hljs-selector-attr">[<span class="hljs-string">"user_inputs"</span>]</span><span class="hljs-selector-class">.append</span>({"text": text})
flow_manager<span class="hljs-selector-class">.state</span><span class="hljs-selector-attr">[<span class="hljs-string">"last_user_input"</span>]</span> = text
</code></pre>
<p>åœ¨å‡½æ•° handler ä¸­è¯»å–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">last_input</span> = flow_manager.state.get(<span class="hljs-string">"last_user_input"</span>, <span class="hljs-string">""</span>)
<span class="hljs-attr">history</span> = flow_manager.state.get(<span class="hljs-string">"user_inputs"</span>, [])
</code></pre>
<hr/>
<h3 data-id="heading-14">6. ä¼šè¯å¼€å§‹ä¼ å…¥é»˜è®¤å‚æ•°</h3>
<h4 data-id="heading-15">å‰ç«¯ï¼ˆapi/offerï¼‰å‚æ•°ç»“æ„</h4>
<pre><code class="hljs language-css" lang="css">{
  "<span class="hljs-selector-tag">body</span>": {
    "init_string": <span class="hljs-string">"æ‚£è€…ID=12345"</span>,
    <span class="hljs-string">"speech_meta"</span>: {"name": <span class="hljs-string">"lyq"</span>, <span class="hljs-string">"age"</span>: <span class="hljs-number">31</span>}
  }
}
</code></pre>
<h4 data-id="heading-16">åç«¯è¯»å–æ–¹å¼</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">init_body</span> = runner_args.body or {}
<span class="hljs-attr">init_string</span> = init_body.get(<span class="hljs-string">"init_string"</span>)
<span class="hljs-attr">speech_meta</span> = init_body.get(<span class="hljs-string">"speech_meta"</span>, {})
</code></pre>
<h4 data-id="heading-17">âœ… å†™å…¥ä¸Šä¸‹æ–‡æˆ–å…±äº«å˜é‡</h4>
<pre><code class="hljs language-css" lang="css">flow_manager<span class="hljs-selector-class">.state</span><span class="hljs-selector-attr">[<span class="hljs-string">"init_string"</span>]</span> = init_string
context<span class="hljs-selector-class">.add_message</span>({"role": <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: f<span class="hljs-string">"åˆå§‹åŒ–å‚æ•°ï¼š{init_string}"</span>})
</code></pre>
<hr/>
<h3 data-id="heading-18">7. Flow åˆ†æ”¯æ•™ç¨‹ï¼ˆæ¡ä»¶è·³è½¬ï¼‰</h3>
<p>Flow çš„åˆ†æ”¯é€»è¾‘é Â <strong>handler è¿”å› (result, next_node)</strong> ã€‚</p>
<pre><code class="hljs language-sql" lang="sql">async def handle_choose_pizza(args, flow_manager):
    <span class="hljs-keyword">result</span> <span class="hljs-operator">=</span> pizza_info()
    if <span class="hljs-keyword">result</span> <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">result</span>, create_confirm_node()
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">result</span>, create_pizza_task_node()
</code></pre>
<h4 data-id="heading-19">åŸç†è§£é‡Š</h4>
<ul>
<li>FlowManager è¯»å– handler è¿”å›çš„ next_node</li>
<li>è‡ªåŠ¨è°ƒç”¨Â <code>_set_node()</code>Â å®Œæˆä¸Šä¸‹æ–‡æ›´æ–° + å·¥å…·æ³¨å†Œ</li>
<li>ç„¶åè§¦å‘ä¸‹ä¸€è½® LLM</li>
</ul>
<hr/>
<h3 data-id="heading-20">8. è‡ªå®šä¹‰ç»„ä»¶æ‰©å±•åŸç†</h3>
<p>Pipecat çš„æ ¸å¿ƒæŠ½è±¡æ˜¯Â <strong>FrameProcessor</strong>ã€‚<br/>
æ‰€æœ‰ç»„ä»¶éƒ½éµå¾ªï¼š</p>
<blockquote>
<p><strong>æ‹¦æˆª Frame â†’ å¤„ç† â†’ push_frame ä¸‹ä¼ </strong></p>
</blockquote>
<p>ç»„ä»¶åˆ†ä¸ºä¸‰ç±»ï¼š</p>

























<table><thead><tr><th>ç»„ä»¶ç±»å‹</th><th>ç»§æ‰¿åŸºç±»</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>é€šç”¨å¤„ç†å™¨</td><td><code>FrameProcessor</code></td><td>è‡ªå®šä¹‰å¸§å¤„ç†</td></tr><tr><td>AI æœåŠ¡</td><td><code>STTService / TTSService / LLMService</code></td><td>ä¸æ¨¡å‹äº¤äº’</td></tr><tr><td>Transport</td><td><code>BaseTransport</code></td><td>æ¨æ‹‰æµ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-21">9. è‡ªå®šä¹‰ RTC Transport å®æˆ˜ï¼ˆç®€åŒ–ç¤ºä¾‹ï¼‰</h3>
<p>å¦‚æœä½ è¦æ¥å…¥ç¬¬ä¸‰æ–¹ RTCï¼ˆAgoraÂ /Â è…¾è®¯Â /Â ç½‘æ˜“ï¼‰ï¼Œåªéœ€å®ç°Â <code>input()</code>Â /Â <code>output()</code>ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomRTCTransport</span>(<span class="hljs-title class_">BaseTransport</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, <span class="hljs-symbol">params:</span> <span class="hljs-title class_">TransportParams</span>, rtc_client</span>):
        <span class="hljs-variable language_">super</span>().__init__()
        <span class="hljs-variable language_">self</span>._input = <span class="hljs-title class_">CustomRTCInput</span>(params, rtc_client)
        <span class="hljs-variable language_">self</span>._output = <span class="hljs-title class_">CustomRTCOutput</span>(params, rtc_client)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">input</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>._input

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">output</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>._output
</code></pre>
<h4 data-id="heading-22">åŸç†</h4>
<p>Transport åªè´Ÿè´£ï¼š</p>
<ul>
<li>æ¥æ”¶å¤–éƒ¨éŸ³è§†é¢‘ â†’ è½¬æ¢ä¸º Frame</li>
<li>å°† Frame è¾“å‡ºå›å¤–éƒ¨æ¨æµ<br/>
ä¸ä¼šç›´æ¥å¤„ç† LLM æˆ– Flow é€»è¾‘ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-23">11. æ ¸å¿ƒæµç¨‹æ€»ç»“ï¼ˆä¸€å¥è¯ï¼‰</h3>
<blockquote>
<p><strong>Pipeline è´Ÿè´£æ•°æ®æµï¼ŒFlowManager è´Ÿè´£èŠ‚ç‚¹æµè½¬ï¼ŒTransport è´Ÿè´£æ¨æ‹‰æµã€‚</strong></p>
</blockquote>
<p>å®˜æ–¹ Transport æ–‡æ¡£å‚è€ƒï¼š<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.pipecat.ai%2Fclient%2Fjs%2Ftransports%2Ftransport" target="_blank" title="https://docs.pipecat.ai/client/js/transports/transport" ref="nofollow noopener noreferrer">docs.pipecat.ai/client/js/tâ€¦</a>
<span href="https://code.juejin.cn/pen/7598103989657944098" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7598103989657944098" data-src="https://code.juejin.cn/pen/7598103989657944098" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» `std::condition_variable` åˆ° futexï¼šæˆ‘å¦‚ä½•ç”¨æºç çœŸæ­£ç†è§£æ¡ä»¶å˜é‡ï¼ˆcondvarï¼‰]]></title>    <link>https://juejin.cn/post/7598005428258242623</link>    <guid>https://juejin.cn/post/7598005428258242623</guid>    <pubDate>2026-01-22T08:35:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598005428258242623" data-draft-id="7598005428258078783" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» `std::condition_variable` åˆ° futexï¼šæˆ‘å¦‚ä½•ç”¨æºç çœŸæ­£ç†è§£æ¡ä»¶å˜é‡ï¼ˆcondvarï¼‰"/> <meta itemprop="keywords" content="æ“ä½œç³»ç»Ÿ"/> <meta itemprop="datePublished" content="2026-01-22T08:35:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‚†å¿†_"/> <meta itemprop="url" content="https://juejin.cn/user/3898194938326714"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» `std::condition_variable` åˆ° futexï¼šæˆ‘å¦‚ä½•ç”¨æºç çœŸæ­£ç†è§£æ¡ä»¶å˜é‡ï¼ˆcondvarï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3898194938326714/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‚†å¿†_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:35:58.000Z" title="Thu Jan 22 2026 08:35:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘å¹¶ä¸æ˜¯è¦èƒŒ APIï¼Œæˆ‘è¦é€šè¿‡æºç æŠŠâ€œæ¡ä»¶å˜é‡åˆ°åº•æ˜¯æ€ä¹ˆä¿è¯è¯­ä¹‰â€çš„åº•å±‚é€»è¾‘æ‹æ¸…æ¥šã€‚å­¦ä¹ è·¯å¾„ä»ç„¶æ˜¯ä¸‰å±‚é“¾è·¯ï¼š<strong>libstdc++ â†’ glibc(pthread) â†’ futex syscallï¼ˆLinux å†…æ ¸ï¼‰</strong>ã€‚</p>
<p>æ ¸å¿ƒé—®é¢˜ï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆ <code>wait</code> å¿…é¡»é…åˆ mutexï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆä¸€å®šè¦å†™ <code>while (predicate)</code>ï¼Ÿ</li>
<li>futex ä¸ FIFOï¼Œcondvar æ˜¯æ€ä¹ˆä¿è¯â€œä¸ä¸¢ä¿¡å·â€çš„ï¼Ÿ</li>
<li>wait åˆ°åº•åœ¨ç­‰ä»€ä¹ˆåœ°å€ï¼Ÿsignal/broadcast åˆ°åº•æŠ•æ”¾çš„æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>æˆ‘å†™çš„é‚£æŠŠ mutex åœ¨ wait å†…éƒ¨æ˜¯ä»€ä¹ˆæ—¶å€™è§£é”ã€ä»€ä¹ˆæ—¶å€™é‡æ–°åŠ é”ï¼Ÿ</li>
</ul>
<hr/>
<h2 data-id="heading-0">1ï¼‰C++ å±‚ï¼š<code>condition_variable</code> çš„è¯­ä¹‰ï¼ˆwhile è°“è¯ï¼‰ä¸å§”æ‰˜</h2>
<h3 data-id="heading-1">1.1 è°“è¯ç‰ˆæœ¬ä¸ºå•¥æ˜¯ whileï¼Ÿ</h3>
<p>libstdc++ çš„å¤´æ–‡ä»¶å®ç°é‡Œï¼Œè°“è¯ç‰ˆæœ¬å°±æ˜¯ while å¾ªç¯ã€‚é†’æ¥ä¸ä»£è¡¨æ¡ä»¶æˆç«‹ï¼Œæ‰€ä»¥å¿…é¡»å¾ªç¯æ£€æŸ¥å…±äº«çŠ¶æ€ï¼ˆåœ¨ mutex ä¿æŠ¤ä¸‹ï¼‰ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// libstdc++: include/std/condition_variableï¼ˆèŠ‚é€‰ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> _Predicate&gt;
<span class="hljs-type">void</span> <span class="hljs-title">wait</span><span class="hljs-params">(unique_lock&lt;mutex&gt;&amp; __lock, _Predicate __p)</span>
</span>{
  <span class="hljs-keyword">while</span> (!__p())
    <span class="hljs-built_in">wait</span>(__lock);
}
</code></pre>
<h3 data-id="heading-2">1.2 <code>condition_variable::wait/notify_*</code> æœ¬è´¨æ˜¯å§”æ‰˜</h3>
<p>çœŸæ­£æ‰§è¡Œçš„å·¥ä½œäº¤ç»™ <code>_M_cond</code>ï¼ˆä¸‹ä¸€å±‚ï¼‰ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// libstdc++: src/c++11/condition_variable.ccï¼ˆèŠ‚é€‰ï¼‰</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">condition_variable::wait</span><span class="hljs-params">(unique_lock&lt;mutex&gt;&amp; __lock)</span>
</span>{
  _M_cond.<span class="hljs-built_in">wait</span>(*__lock.<span class="hljs-built_in">mutex</span>());
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">condition_variable::notify_one</span><span class="hljs-params">()</span> <span class="hljs-keyword">noexcept</span>
</span>{
  _M_cond.<span class="hljs-built_in">notify_one</span>();
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">condition_variable::notify_all</span><span class="hljs-params">()</span> <span class="hljs-keyword">noexcept</span>
</span>{
  _M_cond.<span class="hljs-built_in">notify_all</span>();
}
</code></pre>
<h3 data-id="heading-3">1.3 <code>_M_cond</code> â†’ gthread â†’ pthread_cond_*</h3>
<p>libstdc++ çš„å†…éƒ¨ <code>__condvar</code> å°è£…ï¼ŒPOSIX ä¸‹æ˜ å°„åˆ° pthreadï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// libstdc++: include/bits/std_mutex.hï¼ˆèŠ‚é€‰ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">__condvar</span>
{
<span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">wait</span><span class="hljs-params">(mutex&amp; __m)</span>
  </span>{
    <span class="hljs-type">int</span> __e = __gthread_cond_wait(&amp;_M_cond, __m.<span class="hljs-built_in">native_handle</span>());
    __glibcxx_assert(__e == <span class="hljs-number">0</span>);
  }

  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">notify_one</span><span class="hljs-params">()</span> <span class="hljs-keyword">noexcept</span>
  </span>{
    <span class="hljs-type">int</span> __e = __gthread_cond_signal(&amp;_M_cond);
    __glibcxx_assert(__e == <span class="hljs-number">0</span>);
  }

  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">notify_all</span><span class="hljs-params">()</span> <span class="hljs-keyword">noexcept</span>
  </span>{
    <span class="hljs-type">int</span> __e = __gthread_cond_broadcast(&amp;_M_cond);
    __glibcxx_assert(__e == <span class="hljs-number">0</span>);
  }
};
</code></pre>
<p>ç»“è®ºï¼šC++ å±‚åªæä¾›è¯­ä¹‰ï¼ˆå°¤å…¶æ˜¯ while è°“è¯ï¼‰å’Œè°ƒç”¨è·¯å¾„ï¼›â€œå¦‚ä½•ç­‰å¾…/å”¤é†’â€çš„ç®—æ³•åœ¨ glibcã€‚</p>
<hr/>
<h2 data-id="heading-4">2ï¼‰condvar çš„èŒè´£ï¼ˆå®ƒä¸æ˜¯â€œæ¡ä»¶â€ï¼Œå®ƒæ˜¯â€œç­‰å¾…/é€šçŸ¥é€šé“â€ï¼‰</h2>
<ul>
<li>æ¡ä»¶æœ¬èº«ç”±å…±äº«çŠ¶æ€ï¼ˆpredicateï¼‰è¡¨è¾¾ï¼›æ£€æŸ¥å¿…é¡»åœ¨åŒä¸€æŠŠ mutex ä¿æŠ¤ä¸‹å®Œæˆï¼›</li>
<li>condvar çš„èŒè´£æ˜¯ï¼šè®©çº¿ç¨‹åœ¨æ¡ä»¶ä¸æ»¡è¶³æ—¶èƒ½<strong>é‡Šæ”¾ mutex å¹¶é˜»å¡</strong>ï¼›æ¡ä»¶å¯èƒ½æ»¡è¶³æ—¶ç”±å…¶ä»–çº¿ç¨‹é€šçŸ¥å”¤é†’ï¼Œå†å»<strong>é‡æ–°æŒæœ‰ mutex</strong>å¹¶æ£€æŸ¥ predicateã€‚</li>
</ul>
<p>å› æ­¤å…¸å‹æ¨¡å¼æ‰æ˜¯ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lk</span><span class="hljs-params">(m)</span></span>;
cv.<span class="hljs-built_in">wait</span>(lk, [&amp;]{ <span class="hljs-keyword">return</span> predicate; }); <span class="hljs-comment">// while-predicate è¯­ä¹‰</span>
</code></pre>
<hr/>
<h2 data-id="heading-5">3ï¼‰glibc çš„å…³é”®æ€æƒ³ï¼šä¸æ˜¯â€œä¸€æŠŠ futexâ€ï¼Œè€Œæ˜¯â€œåºåˆ—å· + ä¸¤ç»„(G1/G2) + æ¯ç»„ä¸€ä¸ª futex wordâ€</h2>
<p>futex å”¤é†’ä¸ä¿è¯ FIFOï¼Œåªæœ‰ 32bit å­—ï¼Œå®¹æ˜“ ABAã€‚condvar çš„è¯­ä¹‰è¦æ±‚ signal/broadcast åœ¨å¹¶å‘ä¸‹ä»ç„¶æ­£ç¡®ï¼ˆä¸ä¸¢è¿›å±•ï¼‰ï¼Œæ‰€ä»¥ glibc é‡‡ç”¨äº†æ›´å¼ºçš„ç”¨æˆ·æ€åè®®ï¼š</p>
<ul>
<li>64bit waiter åºåˆ—å· <code>__wseq</code>ï¼ˆæ¯ä¸ª waiter å‘å·ï¼‰</li>
<li>ä¸¤ç»„æ§½ä½ G1/G2ï¼ˆæ¯ç»„ä¸€ä¸ª futex wordï¼š<code>__g_signals[0/1]</code>ï¼‰</li>
<li><code>g1_start</code>ï¼ˆå½“å‰ G1 è¦†ç›–åŒºé—´çš„èµ·ç‚¹è¾¹ç•Œï¼Œåˆ‡æ¢æ—¶æ¨è¿›ï¼‰</li>
</ul>
<p>è¿™å¥—åè®®ä¿è¯ï¼š<strong>è°æœ‰èµ„æ ¼æ¶ˆè´¹ signal</strong>ï¼ˆè€Œä¸æ˜¯é å”¤é†’é¡ºåºï¼‰ï¼Œä»è€Œè§„é¿ futex é FIFO çš„é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-6">4ï¼‰<code>pthread_cond_wait</code>ï¼šå…ˆç™»è®° waiterï¼Œå†è§£é”ç”¨æˆ· mutexï¼Œå†å†³å®šç¡ä¸ç¡</h2>
<p>è¿™æ˜¯é¿å…ä¸¢ä¿¡å·çš„å…³é”®é¡ºåºã€‚èŠ‚é€‰å¦‚ä¸‹ï¼ˆåˆ å»æ— å…³é”™è¯¯å¤„ç†ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// glibc: nptl/pthread_cond_wait.cï¼ˆèŠ‚é€‰ï¼‰</span>

<span class="hljs-comment">/* è·å– waiter åºåˆ—å· wseqï¼ˆæ¯æ¬¡ +2ï¼‰ï¼›æœ€ä½ä½æ˜¯å½“å‰ G2 æ§½ä½ */</span>
<span class="hljs-type">uint64_t</span> wseq = __condvar_fetch_add_wseq_acquire (cond, <span class="hljs-number">2</span>);
<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> g = wseq &amp; <span class="hljs-number">1</span>;    <span class="hljs-comment">// å½“å‰ç»‘å®šåˆ°çš„ G2 æ§½ä½(0/1)</span>
<span class="hljs-type">uint64_t</span> seq = wseq &gt;&gt; <span class="hljs-number">1</span>;     <span class="hljs-comment">// æˆ‘åœ¨ waiter åºåˆ—ä¸­çš„åºå·</span>

<span class="hljs-comment">/* waiter å¼•ç”¨è®¡æ•° +1ï¼ˆç”¨äºé”€æ¯/ç”Ÿå‘½å‘¨æœŸç­‰ï¼‰ */</span>
<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> flags = atomic_fetch_add_relaxed (&amp;cond-&gt;__data.__wrefs, <span class="hljs-number">8</span>);
<span class="hljs-type">int</span> private = __condvar_get_private (flags);

<span class="hljs-comment">/* å…³é”®ç‚¹ï¼šå…ˆç™»è®°ï¼Œå†è§£é”è¿™æŠŠ mutexï¼ˆé¿å…ä¸¢ä¿¡å·ï¼‰ */</span>
err = __pthread_mutex_unlock_usercnt (mutex, <span class="hljs-number">0</span>);
<span class="hljs-keyword">if</span> (err != <span class="hljs-number">0</span>) { <span class="hljs-comment">/* å–æ¶ˆç­‰å¾…ç­‰æ¸…ç†è·¯å¾„ */</span> }
</code></pre>
<p>è¿™æ­£æ˜¯ä½ å…³å¿ƒçš„é‚£ç‚¹ï¼š</p>
<ul>
<li>ä» <code>std::unique_lock&lt;std::mutex&gt; lk(m);</code> å¼€å§‹ä¸€ç›´æ˜¯åŒä¸€æŠŠ <code>m</code>ï¼›</li>
<li>åªæœ‰åœ¨å®Œæˆâ€œç™»è®°ä¸º waiterâ€ï¼ˆå‘å·/è®¡æ•°ï¼‰ä¹‹åï¼Œæ‰è§£é”è¿™æŠŠç”¨æˆ· mutexï¼›<strong>ä¸­é—´æ²¡æœ‰æ¢é”ä¹Ÿæ²¡æœ‰æå‰è§£é”</strong>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">5ï¼‰waiter åœ¨ç­‰ä»€ä¹ˆï¼Ÿä¸æ˜¯ç­‰â€œcond å¯¹è±¡â€ï¼Œè€Œæ˜¯ç­‰ <code>__g_signals[g]</code> è¿™ä¸ªåœ°å€</h2>
<p>è¿›å…¥ç­‰å¾…å¾ªç¯åï¼Œwaiter çš„ç­–ç•¥æ˜¯ï¼š<strong>å…ˆå°è¯•æ¶ˆè´¹ä¿¡å·ï¼ˆçº¯ç”¨æˆ·æ€ CASï¼‰ï¼Œæ¶ˆè´¹ä¸åˆ°æ‰ futex_wait</strong>ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// glibc: nptl/pthread_cond_wait.cï¼ˆèŠ‚é€‰ï¼‰</span>

<span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)
{
  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> signals
    = atomic_load_acquire (cond-&gt;__data.__g_signals + g);
  <span class="hljs-type">uint64_t</span> g1_start = __condvar_load_g1_start_relaxed (cond);

  <span class="hljs-comment">/* A) â€œå…³é—­ç»„â€åˆ¤æ–­ï¼šè‹¥ seq &lt; g1_startï¼Œåˆ™ä¸åº”ç»§ç»­ç¡åœ¨æ—§åœ°å€ */</span>
  <span class="hljs-keyword">if</span> (seq &lt; g1_start)
    <span class="hljs-keyword">break</span>;

  <span class="hljs-comment">/* B) è‹¥å­˜åœ¨å¯æ¶ˆè´¹ä¿¡å·ï¼ŒCAS æ¶ˆè´¹ä¸€ä¸ªå¹¶è¿”å›ï¼ˆæ¶ˆè´¹å¤±è´¥å°±é‡è¯•ï¼‰ */</span>
  <span class="hljs-keyword">if</span> ((<span class="hljs-type">int</span>)(signals - (<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)g1_start) &gt; <span class="hljs-number">0</span>)
  {
    <span class="hljs-keyword">if</span> (atomic_compare_exchange_weak_acquire (
          cond-&gt;__data.__g_signals + g,
          &amp;signals, signals - <span class="hljs-number">1</span>))
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">else</span>
      <span class="hljs-keyword">continue</span>;
  }

  <span class="hljs-comment">/* C) æ²¡ä¿¡å·æ‰çœŸæ­£é˜»å¡ï¼šåœ¨ __g_signals[g] è¿™ä¸ªåœ°å€ä¸Š futex ç­‰å¾… */</span>
  err = __futex_abstimed_wait_cancelable64(
          cond-&gt;__data.__g_signals + g, <span class="hljs-comment">// uaddr</span>
          signals,                      <span class="hljs-comment">// expected</span>
          clockid, abstime, private);
}
</code></pre>
<p>è¦ç‚¹ï¼š</p>
<ul>
<li><code>__g_signals[g]</code> å³æ˜¯ futex word åœ°å€ï¼Œä¹Ÿæ˜¯ signal æŠ•æ”¾ä¿¡å·çš„ç›®æ ‡ï¼›</li>
<li><code>seq &lt; g1_start</code> è¡¨ç¤ºæˆ‘å±äºâ€œå·²å…³é—­çš„æ—§æ‰¹æ¬¡â€ï¼Œä¸åº”å†ç¡åœ¨æ—§åœ°å€ï¼Œåº”è¯¥ç»“æŸ wait é˜¶æ®µå¹¶å›å»æŠ¢ mutexï¼ˆç¬¦åˆ condvar è™šå‡å”¤é†’è¯­ä¹‰ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-8">6ï¼‰<code>pthread_cond_signal</code>ï¼šæŠ•æ”¾ä¿¡å· + å”¤é†’ç¡åœ¨â€œå½“å‰ G1 æ§½ä½åœ°å€â€çš„ä¸€ä¸ª waiter</h2>
<p>signal çš„æ ¸å¿ƒé€»è¾‘ï¼ˆåˆ å»æ— å…³éƒ¨åˆ†ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// glibc: nptl/pthread_cond_signal.cï¼ˆèŠ‚é€‰ï¼‰</span>

<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> wrefs = atomic_load_relaxed (&amp;cond-&gt;__data.__wrefs);
<span class="hljs-keyword">if</span> (wrefs &gt;&gt; <span class="hljs-number">3</span> == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;

<span class="hljs-type">int</span> private = __condvar_get_private (wrefs);
__condvar_acquire_lock (cond, private);

<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> <span class="hljs-type">long</span> <span class="hljs-type">int</span> wseq = __condvar_load_wseq_relaxed (cond);
<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> g1 = (wseq &amp; <span class="hljs-number">1</span>) ^ <span class="hljs-number">1</span>; <span class="hljs-comment">// å½“å‰ G1 æ§½ä½ï¼ˆä¸ G2 æ§½ä½ç›¸åï¼‰</span>
wseq &gt;&gt;= <span class="hljs-number">1</span>;

<span class="hljs-type">bool</span> do_futex_wake = <span class="hljs-literal">false</span>;

<span class="hljs-keyword">if</span> ((cond-&gt;__data.__g_size[g1] != <span class="hljs-number">0</span>)
    || __condvar_switch_g1 (cond, wseq, &amp;g1, private))
{
  atomic_fetch_add_relaxed (cond-&gt;__data.__g_signals + g1, <span class="hljs-number">1</span>); <span class="hljs-comment">// æŠ•æ”¾ä¿¡å·</span>
  cond-&gt;__data.__g_size[g1]--;
  do_futex_wake = <span class="hljs-literal">true</span>;
}

__condvar_release_lock (cond, private);

<span class="hljs-keyword">if</span> (do_futex_wake)
  futex_wake (cond-&gt;__data.__g_signals + g1, <span class="hljs-number">1</span>, private); <span class="hljs-comment">// å”¤é†’ä¸€ä¸ª</span>
</code></pre>
<p>è¦ç‚¹ï¼š</p>
<ul>
<li>signal ä¸ä¿è¯ FIFOï¼Œå®ƒåªä¿è¯â€œè®©æŸä¸ª waiter æœ‰æœºä¼šé†’æ¥â€ï¼›çœŸæ­£èƒ½å¦è¿”å›ç”± waiter çš„ CASï¼ˆæ¶ˆè´¹ä¿¡å·ï¼‰å†³å®šï¼›</li>
<li>condvar çš„èµ„æ ¼åˆ¤å®šç”± G1/G2 + <code>g1_start</code> ç»´æŒï¼Œä¸ä¾èµ–å”¤é†’é¡ºåºã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-9">7ï¼‰<code>pthread_cond_broadcast</code>ï¼šå¯¹ä¸¤ç»„éƒ½æŠ•è¶³å¤Ÿä¿¡å·å¹¶ wake å…¨éƒ¨</h2>
<p>é€»è¾‘æ˜¯â€œå¯¹æ—§ G1 å…¨å‘ â†’ åˆ‡æ¢ â†’ å¯¹æ–° G1 å…¨å‘â€ï¼Œç„¶å <code>wake(INT_MAX)</code> ä¸€æ¬¡æ€§å”¤é†’æ‰€æœ‰åœ¨å¯¹åº”åœ°å€ä¸Šç¡ç€çš„ waiterã€‚æ­¤å¤„ç•¥ä»£ç ï¼ˆåŸç†ä¸ä¸Šé¢ä¸€è‡´ï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-10">8ï¼‰<code>g1_start</code> æ€ä¹ˆæ›´æ–°ï¼Ÿåªåœ¨â€œç»„åˆ‡æ¢ <code>__condvar_switch_g1</code>â€æ—¶æ¨è¿›</h2>
<p>è¿™å°±æ˜¯â€œå…³é—­ç»„â€çš„è½åœ°ï¼šæ¨è¿›è¾¹ç•Œï¼Œå‘å¸ƒæ–° G2 æ§½ä½ï¼Œåˆå§‹åŒ–æ–° G1 çš„ <code>__g_signals</code>ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// glibc: nptl/pthread_cond_common.cï¼ˆèŠ‚é€‰ï¼‰</span>

<span class="hljs-comment">/* å…³é—­å½“å‰ G1ï¼š__g1_start += old_orig_size */</span>
__condvar_add_g1_start_relaxed (cond, old_orig_size);

<span class="hljs-comment">/* å‘å¸ƒç»„åˆ‡æ¢ï¼šç¿»è½¬ __wseq çš„æœ€ä½ä½ï¼Œå®£å‘Šæ–°çš„ G2 æ§½ä½ */</span>
wseq = __condvar_fetch_xor_wseq_release (cond, <span class="hljs-number">1</span>) &gt;&gt; <span class="hljs-number">1</span>;
g1 ^= <span class="hljs-number">1</span>;
*g1index ^= <span class="hljs-number">1</span>;

<span class="hljs-comment">/* åˆå§‹åŒ–æ–° G1 çš„ g_signals åˆ° new_g1_startï¼ˆæœ‰æ•ˆå¯æ¶ˆè´¹ä¿¡å·ä¸º 0ï¼‰ */</span>
atomic_store_release (cond-&gt;__data.__g_signals + g1, (<span class="hljs-type">unsigned</span>)new_g1_start);
</code></pre>
<p>è¿™ç¡®ä¿ï¼š</p>
<ul>
<li>è¢«åˆ‡èµ°çš„æ—§æ‰¹æ¬¡ waiter ä¸å†é˜»å¡åœ¨æ—§åœ°å€ï¼ˆ<code>seq &lt; g1_start</code> breakï¼‰ï¼›</li>
<li>æ–°æ‰¹æ¬¡ waiter åœ¨æ–°æ§½ä½ä½œä¸º G2 ç­‰å¾…ï¼Œå¿…è¦æ—¶åˆ‡ G1 ç»§ç»­æŠ•ä¿¡å·ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-11">9ï¼‰futex ç³»ç»Ÿè°ƒç”¨ï¼šåªè¦çœŸçš„éœ€è¦é˜»å¡ï¼Œå°±ä¸€å®šè¿›å…¥å†…æ ¸</h2>
<p>wait çœŸé˜»å¡é‚£ä¸€æ­¥å°±æ˜¯ futex syscallï¼Œå¸¸ç”¨ <code>FUTEX_WAIT_BITSET</code>ï¼ˆæ”¯æŒç»å¯¹è¶…æ—¶ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// glibc: nptl/futex-internal.cï¼ˆèŠ‚é€‰ï¼‰</span>
<span class="hljs-type">int</span> __futex_abstimed_wait_cancelable64 (<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>* futex_word,
                                        <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> expected,
                                        <span class="hljs-type">clockid_t</span> clockid,
                                        <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> __timespec64* abstime,
                                        <span class="hljs-type">int</span> private)
{
  <span class="hljs-comment">// æ„é€  opï¼ˆåŒ…å« FUTEX_WAIT_BITSET ä¸ private/clock ä½ï¼‰</span>
  <span class="hljs-comment">// æœ€ç»ˆå‘èµ· INTERNAL_SYSCALL_CANCEL(futex_time64, ...)</span>
  ...
}
</code></pre>
<p>ç»“è®ºï¼šä¸ä¸€å®šâ€œæ¯æ¬¡éƒ½ syscallâ€ï¼ˆå¦‚æœèƒ½æ¶ˆè´¹åˆ°ä¿¡å·å°±ä¸ç”¨é˜»å¡ï¼‰ï¼›ä½†<strong>åªè¦çœŸçš„éœ€è¦ç­‰å¾…é˜»å¡ï¼Œå°±ä¸€å®šä¼šè¿›å…¥å†…æ ¸ futex</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-12">10ï¼‰æˆ‘æœ€åçš„æ€»ç»“</h2>
<ul>
<li><code>std::condition_variable</code> æœ¬èº«ä¸å®ç°ç­‰å¾…ç®—æ³•ï¼›è°“è¯ç‰ˆæœ¬ä½¿ç”¨ <code>while (pred)</code>ï¼Œé†’æ¥åå¿…é¡»åœ¨åŒä¸€æŠŠ mutex ä¿æŠ¤ä¸‹å†æ¬¡æ£€æŸ¥ predicateã€‚</li>
<li>glibc çš„ condvar ç”¨â€œ<strong>åºåˆ—å· <code>wseq</code> + ä¸¤ç»„(G1/G2) + è¾¹ç•Œ <code>g1_start</code> + ä¸¤ä¸ª futex word <code>__g_signals[2]</code></strong>â€çš„ç”¨æˆ·æ€åè®®ï¼Œåœ¨ futex é FIFO çš„ç°å®ä¸‹ä»èƒ½ä¿è¯ signal/broadcast çš„è¯­ä¹‰æ­£ç¡®ã€ä¸ä¸¢è¿›å±•ã€‚</li>
<li>waiter çš„å…³é”®é¡ºåºæ˜¯ï¼š<strong>å…ˆç™»è®°ä¸º waiterï¼ˆæ‹¿å·/è®¡æ•°ï¼‰â†’ å†è§£é”è¿™æŠŠç”¨æˆ· mutex</strong>ï¼›éšåå¾ªç¯â€œæ¶ˆè´¹ä¿¡å·ï¼ˆCASï¼‰/futex ç­‰å¾…â€ã€‚è¿™æ°æ°æ˜¯ä¸ºé¿å…ä¸¢ä¿¡å·è€Œè®¾è®¡çš„ã€‚</li>
<li>signal ä¼˜å…ˆç»™å½“å‰ G1 æŠ•æ”¾ä¿¡å·ï¼›å¿…è¦æ—¶åˆ‡æ¢ï¼ˆæ¨è¿› <code>g1_start</code> å…³é—­æ—§æ‰¹æ¬¡ã€ç¿»è½¬ <code>wseq</code> å‘å¸ƒæ–° G2æ§½ä½ï¼‰ï¼›ç„¶åå¯¹å¯¹åº” <code>__g_signals[g1]</code> åš <code>futex_wake</code>ã€‚</li>
<li>ä¸ä¿è¯ FIFOï¼›â€œå¯æ§â€çš„å…³é”®æ˜¯ï¼šè¿”å›å‰<strong>é‡æ–°æŒæœ‰åŒä¸€æŠŠ mutex</strong>ï¼Œç”±ä¸Šå±‚ <code>while (!pred) wait()</code> å†³å®šæ˜¯å¦ç»§ç»­ç­‰å¾…ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[NFS Subdir Provisioner å®ç°K8SåŠ¨æ€PVä¾›åº”]]></title>    <link>https://juejin.cn/post/7598005428258390079</link>    <guid>https://juejin.cn/post/7598005428258390079</guid>    <pubDate>2026-01-22T08:48:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598005428258390079" data-draft-id="7597905961663889414" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="NFS Subdir Provisioner å®ç°K8SåŠ¨æ€PVä¾›åº”"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-01-22T08:48:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="opsmaster"/> <meta itemprop="url" content="https://juejin.cn/user/2140102571593625"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            NFS Subdir Provisioner å®ç°K8SåŠ¨æ€PVä¾›åº”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2140102571593625/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    opsmaster
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:48:42.000Z" title="Thu Jan 22 2026 08:48:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æœ¬æ–‡è½¬è½½è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F9w_PN7dLQtMmGekagHz8AA" target="_blank" title="https://mp.weixin.qq.com/s/9w_PN7dLQtMmGekagHz8AA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/9w_PN7dLQâ€¦</a></strong></p>
</blockquote>
<blockquote>
<p>åŸç”Ÿ NFS + NFS Subdir External Provisionerï¼Œè¿™æ˜¯ K8S ç¤¾åŒºæœ€ä¸»æµçš„æ–¹æ¡ˆ â€”â€”åŸç”Ÿ NFS æœåŠ¡å™¨æä¾›å­˜å‚¨èƒ½åŠ›ï¼ŒNFS Subdir Provisioner å®ç° K8S åŠ¨æ€ PV ä¾›åº”ï¼Œèƒ½è‡ªåŠ¨ä¸ºæ¯ä¸ª PVC åˆ›å»ºä¸“å± NFS å­ç›®å½•ï¼ˆé¿å…å¤š PVC æ•°æ®æ··å ï¼‰ï¼Œéƒ¨ç½²ç®€å•ã€ç»´æŠ¤æˆæœ¬ä½ï¼Œé€‚åˆ 90% çš„ä¸­å°è§„æ¨¡ K8S é›†ç¾¤ï¼Œéƒ¨ç½²ä»¥Ubuntu24ä¸ºä¾‹ã€‚</p>
</blockquote>
<h3 data-id="heading-0">æ­å»ºK8Såç«¯å­˜å‚¨çš„NFSæœåŠ¡å™¨æµç¨‹</h3>
<p>é¦–å…ˆäº†è§£å½“å‰æœåŠ¡å™¨çš„å­˜å‚¨æƒ…å†µå’Œç¯å¢ƒé…ç½®ã€‚</p>
<h4 data-id="heading-1">ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥å­˜å‚¨è®¾å¤‡æƒ…å†µ</h4>
<ol>
<li>æŸ¥çœ‹ç£ç›˜åˆ—è¡¨ï¼š</li>
</ol>
<pre><code class="hljs">lsblk
</code></pre>
<blockquote>
<p>è¯†åˆ«åˆ°æ–°è®¾å¤‡ï¼ˆå¦‚<code>/dev/sdb</code>ï¼‰ï¼Œæœªåˆ†åŒºã€æœªæ ¼å¼åŒ–ã€‚</p>
</blockquote>
<ol start="2">
<li>ç¡®è®¤ç£ç›˜è¯¦æƒ…ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudoÂ fdiskÂ -lÂ /dev/sdb
</code></pre>
<blockquote>
<p>ç¡®è®¤<code>/dev/sdb</code>æ˜¯æœªåˆ†åŒºçš„æ–°ç£ç›˜ã€‚</p>
</blockquote>
<h4 data-id="heading-2">ç¬¬äºŒæ­¥ï¼šå‡†å¤‡æ•°æ®ç›˜</h4>
<p>ï¼ˆæ­¥éª¤ï¼šåˆ›å»ºåˆ†åŒº â†’ æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿ â†’ åˆ›å»ºæŒ‚è½½ç‚¹å¹¶æŒ‚è½½ï¼‰</p>
<ol>
<li>åˆ›å»ºç£ç›˜åˆ†åŒºï¼š</li>
</ol>
<pre><code class="hljs language-swift" lang="swift">echoÂ <span class="hljs-operator">-</span>eÂ <span class="hljs-string">"n<span class="hljs-subst">\n</span>p<span class="hljs-subst">\n</span>1<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>w"</span>Â <span class="hljs-operator">|</span>Â sudoÂ fdiskÂ <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb
</code></pre>
<ol start="2">
<li>æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿï¼ˆext4ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudoÂ mkfs.ext4Â /dev/sdb1
</code></pre>
<ol start="3">
<li>åˆ›å»ºæŒ‚è½½ç‚¹ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudoÂ <span class="hljs-built_in">mkdir</span>Â /nfs-storage
</code></pre>
<ol start="4">
<li>æŒ‚è½½åˆ†åŒºåˆ°æŒ‚è½½ç‚¹ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudoÂ mountÂ /dev/sdb1Â /nfs-storage
</code></pre>
<ol start="5">
<li>é…ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudoÂ <span class="hljs-built_in">tee</span>Â -aÂ /etc/fstabÂ &lt;&lt;<span class="hljs-string">EOF
/dev/sdb1Â /nfs-storageÂ ext4Â defaultsÂ 0Â 0
EOF</span>
</code></pre>
<ol start="6">
<li>éªŒè¯æŒ‚è½½æƒ…å†µï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">df</span>Â -hÂ /nfs-storage
</code></pre>
<blockquote>
<p>æ˜¾ç¤º<code>/dev/sdb1</code>å·²æŒ‚è½½åˆ°<code>/nfs-storage</code>å³æˆåŠŸã€‚</p>
</blockquote>
<h4 data-id="heading-3">ç¬¬ä¸‰æ­¥ï¼šå®‰è£…NFSæœåŠ¡å™¨</h4>
<pre><code class="hljs language-sql" lang="sql">sudoÂ aptÂ <span class="hljs-keyword">update</span>Â <span class="hljs-operator">&amp;&amp;</span>Â sudoÂ aptÂ installÂ <span class="hljs-operator">-</span>yÂ nfs<span class="hljs-operator">-</span>kernel<span class="hljs-operator">-</span>server
</code></pre>
<h4 data-id="heading-4">ç¬¬å››æ­¥ï¼šé…ç½®NFSå…±äº«</h4>
<ol>
<li>åˆ›å»ºNFSå…±äº«ç›®å½•ç»“æ„ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudoÂ <span class="hljs-built_in">mkdir</span>Â -pÂ /nfs-storage/k8s-pvs
</code></pre>
<ol start="2">
<li>ä¿®æ”¹å…±äº«ç›®å½•æƒé™ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudoÂ <span class="hljs-built_in">chown</span>Â nobody:nogroupÂ /nfs-storage/k8s-pvsÂ &amp;&amp;Â sudoÂ <span class="hljs-built_in">chmod</span>Â 777Â /nfs-storage/k8s-pvs
</code></pre>
<ol start="3">
<li>é…ç½®<code>/etc/exports</code>ï¼ˆNFSå…±äº«è§„åˆ™ï¼‰ï¼š ï¼ˆæ³¨ï¼šåŸç›´æ¥ç¼–è¾‘æ–‡ä»¶å¤±è´¥ï¼Œæ”¹ç”¨<code>tee</code>å‘½ä»¤ï¼‰</li>
</ol>
<pre><code class="hljs language-shell" lang="shell">sudoÂ teeÂ /etc/exportsÂ &lt;&lt;'EOF'
<span class="hljs-meta prompt_">#</span><span class="bash">Â /etc/exports:Â theÂ accessÂ controlÂ listÂ <span class="hljs-keyword">for</span>Â filesystemsÂ <span class="hljs-built_in">which</span>Â mayÂ beÂ exported</span>
<span class="hljs-meta prompt_">#</span><span class="bash">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â toÂ NFSÂ clients.Â Â SeeÂ exports(5).</span>
<span class="hljs-meta prompt_">#</span><span class="bash">
<span class="hljs-comment">#Â ExampleÂ forÂ NFSv2Â andÂ NFSv3:</span></span>
<span class="hljs-meta prompt_">#</span><span class="bash">Â /srv/homesÂ Â Â Â Â Â Â hostname1(rw,<span class="hljs-built_in">sync</span>,no_subtree_check)Â hostname2(ro,<span class="hljs-built_in">sync</span>,no_subtree_check)</span>
<span class="hljs-meta prompt_">#</span><span class="bash">
<span class="hljs-comment">#Â ExampleÂ forÂ NFSv4:</span></span>
<span class="hljs-meta prompt_">#</span><span class="bash">Â /srv/nfs4Â Â Â Â Â Â Â Â gss/krb5i(rw,<span class="hljs-built_in">sync</span>,fsid=0,crossmnt,no_subtree_check)</span>
<span class="hljs-meta prompt_">#</span><span class="bash">Â /srv/nfs4/homesÂ Â gss/krb5i(rw,<span class="hljs-built_in">sync</span>,no_subtree_check)</span>
/nfs-storage/k8s-pvsÂ *(rw,sync,no_subtree_check,no_root_squash,fsid=0)
EOF
</code></pre>
<h4 data-id="heading-5">ç¬¬äº”æ­¥ï¼šå¯åŠ¨å’Œé…ç½®NFSæœåŠ¡</h4>
<ol>
<li>é‡å¯NFSæœåŠ¡ï¼š</li>
</ol>
<pre><code class="hljs language-vbscript" lang="vbscript">sudoÂ systemctlÂ restartÂ nfs-kernel-<span class="hljs-built_in">server</span>
</code></pre>
<ol start="2">
<li>è®¾ç½®NFSæœåŠ¡å¼€æœºè‡ªå¯ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudoÂ systemctlÂ <span class="hljs-built_in">enable</span>Â nfs-kernel-server
</code></pre>
<ol start="3">
<li>éªŒè¯NFSå…±äº«é…ç½®ï¼š</li>
</ol>
<pre><code class="hljs">sudoÂ exportfsÂ -v
</code></pre>
<h4 data-id="heading-6">ç¬¬å…­æ­¥ï¼šé…ç½®é˜²ç«å¢™ï¼ˆå¦‚æœéœ€è¦ï¼‰</h4>
<ol>
<li>æ£€æŸ¥é˜²ç«å¢™çŠ¶æ€ï¼š</li>
</ol>
<pre><code class="hljs language-lua" lang="lua">sudoÂ ufwÂ <span class="hljs-built_in">status</span>
</code></pre>
<blockquote>
<p>è‹¥é˜²ç«å¢™æœªå¯ç”¨ï¼Œåˆ™æ— éœ€é¢å¤–é…ç½®ã€‚</p>
</blockquote>
<h4 data-id="heading-7">ç¬¬ä¸ƒæ­¥ï¼šæµ‹è¯•NFSå…±äº«</h4>
<ol>
<li>æœ¬åœ°åˆ›å»ºæµ‹è¯•æŒ‚è½½ç‚¹å¹¶æŒ‚è½½NFSï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudoÂ <span class="hljs-built_in">mkdir</span>Â -pÂ /tmp/test-nfsÂ &amp;&amp;Â sudoÂ mountÂ -tÂ nfsÂ localhost:/nfs-storage/k8s-pvsÂ /tmp/test-nfs
</code></pre>
<ol start="2">
<li>å†™å…¥æµ‹è¯•æ–‡ä»¶éªŒè¯ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">df</span>Â -hÂ /tmp/test-nfsÂ &amp;&amp;Â <span class="hljs-built_in">echo</span>Â <span class="hljs-string">"NFSæµ‹è¯•æˆåŠŸ"</span>Â |Â sudoÂ <span class="hljs-built_in">tee</span>Â /tmp/test-nfs/test.txt
</code></pre>
<ol start="3">
<li>å¸è½½æµ‹è¯•æŒ‚è½½ç‚¹å¹¶æ¸…ç†ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudoÂ umountÂ /tmp/test-nfsÂ &amp;&amp;Â sudoÂ <span class="hljs-built_in">rmdir</span>Â /tmp/test-nfs
</code></pre>
<h4 data-id="heading-8">ç¬¬å…«æ­¥ï¼šåˆ›å»ºNFS Subdir Provisioneræ‰€éœ€ç›®å½•</h4>
<pre><code class="hljs language-bash" lang="bash">sudoÂ <span class="hljs-built_in">mkdir</span>Â -pÂ /nfs-storage/k8s-pvs/.nfs-provisionerÂ &amp;&amp;Â sudoÂ <span class="hljs-built_in">chown</span>Â nobody:nogroupÂ /nfs-storage/k8s-pvs/.nfs-provisioner
</code></pre>
<h4 data-id="heading-9">ç¬¬ä¹æ­¥ï¼šéªŒè¯æœ€ç»ˆé…ç½®</h4>
<p>ï¼ˆç¤ºä¾‹ï¼šæ£€æŸ¥å…±äº«ç›®å½•æƒé™ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span>Â -ldÂ /nfs-storage/k8s-pvs
</code></pre>
<h4 data-id="heading-10">ç¬¬åæ­¥ï¼šç”ŸæˆK8Séƒ¨ç½²é…ç½®æ–‡ä»¶ï¼ˆ<code>nfs-provisioner-deployment.yaml</code>ï¼‰</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment">#Â NFSÂ SubdirÂ ExternalÂ ProvisionerÂ DeploymentÂ forÂ K8S</span>
<span class="hljs-string">apiVersion:</span>Â <span class="hljs-string">v1</span>
<span class="hljs-string">kind:</span>Â <span class="hljs-string">ServiceAccount</span>
<span class="hljs-attr">metadata:</span>
Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">nfs-client-provisioner</span>
Â Â <span class="hljs-string">namespace:</span>Â <span class="hljs-string">default</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">apiVersion:</span>Â <span class="hljs-string">rbac.authorization.k8s.io/v1</span>
<span class="hljs-string">kind:</span>Â <span class="hljs-string">ClusterRole</span>
<span class="hljs-attr">metadata:</span>
Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">nfs-client-provisioner-runner</span>
<span class="hljs-attr">rules:</span>
Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">apiGroups:</span>Â [<span class="hljs-string">""</span>]
Â Â Â Â <span class="hljs-string">resources:</span>Â [<span class="hljs-string">"persistentvolumes"</span>]
Â Â Â Â <span class="hljs-string">verbs:</span>Â [<span class="hljs-string">"get"</span>,Â <span class="hljs-string">"list"</span>,Â <span class="hljs-string">"watch"</span>,Â <span class="hljs-string">"create"</span>,Â <span class="hljs-string">"delete"</span>]
Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">apiGroups:</span>Â [<span class="hljs-string">""</span>]
Â Â Â Â <span class="hljs-string">resources:</span>Â [<span class="hljs-string">"persistentvolumeclaims"</span>]
Â Â Â Â <span class="hljs-string">verbs:</span>Â [<span class="hljs-string">"get"</span>,Â <span class="hljs-string">"list"</span>,Â <span class="hljs-string">"watch"</span>,Â <span class="hljs-string">"update"</span>]
Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">apiGroups:</span>Â [<span class="hljs-string">"storage.k8s.io"</span>]
Â Â Â Â <span class="hljs-string">resources:</span>Â [<span class="hljs-string">"storageclasses"</span>]
Â Â Â Â <span class="hljs-string">verbs:</span>Â [<span class="hljs-string">"get"</span>,Â <span class="hljs-string">"list"</span>,Â <span class="hljs-string">"watch"</span>]
Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">apiGroups:</span>Â [<span class="hljs-string">""</span>]
Â Â Â Â <span class="hljs-string">resources:</span>Â [<span class="hljs-string">"events"</span>]
Â Â Â Â <span class="hljs-string">verbs:</span>Â [<span class="hljs-string">"create"</span>,Â <span class="hljs-string">"update"</span>,Â <span class="hljs-string">"patch"</span>]
<span class="hljs-meta">---</span>
<span class="hljs-string">apiVersion:</span>Â <span class="hljs-string">rbac.authorization.k8s.io/v1</span>
<span class="hljs-string">kind:</span>Â <span class="hljs-string">ClusterRoleBinding</span>
<span class="hljs-attr">metadata:</span>
Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">run-nfs-client-provisioner</span>
<span class="hljs-attr">subjects:</span>
Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">kind:</span>Â <span class="hljs-string">ServiceAccount</span>
Â Â Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">nfs-client-provisioner</span>
Â Â Â Â <span class="hljs-string">namespace:</span>Â <span class="hljs-string">default</span>
<span class="hljs-attr">roleRef:</span>
Â Â <span class="hljs-string">kind:</span>Â <span class="hljs-string">ClusterRole</span>
Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">nfs-client-provisioner-runner</span>
Â Â <span class="hljs-string">apiGroup:</span>Â <span class="hljs-string">rbac.authorization.k8s.io</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">apiVersion:</span>Â <span class="hljs-string">rbac.authorization.k8s.io/v1</span>
<span class="hljs-string">kind:</span>Â <span class="hljs-string">Role</span>
<span class="hljs-attr">metadata:</span>
Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">leader-locking-nfs-client-provisioner</span>
Â Â <span class="hljs-string">namespace:</span>Â <span class="hljs-string">default</span>
<span class="hljs-attr">rules:</span>
Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">apiGroups:</span>Â [<span class="hljs-string">"coordination.k8s.io"</span>]
Â Â Â Â <span class="hljs-string">resources:</span>Â [<span class="hljs-string">"leases"</span>]
Â Â Â Â <span class="hljs-string">verbs:</span>Â [<span class="hljs-string">"get"</span>,Â <span class="hljs-string">"list"</span>,Â <span class="hljs-string">"watch"</span>,Â <span class="hljs-string">"create"</span>,Â <span class="hljs-string">"update"</span>,Â <span class="hljs-string">"patch"</span>]
<span class="hljs-meta">---</span>
<span class="hljs-string">apiVersion:</span>Â <span class="hljs-string">rbac.authorization.k8s.io/v1</span>
<span class="hljs-string">kind:</span>Â <span class="hljs-string">RoleBinding</span>
<span class="hljs-attr">metadata:</span>
Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">leader-locking-nfs-client-provisioner</span>
<span class="hljs-attr">subjects:</span>
Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">kind:</span>Â <span class="hljs-string">ServiceAccount</span>
Â Â Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">nfs-client-provisioner</span>
Â Â Â Â <span class="hljs-string">namespace:</span>Â <span class="hljs-string">default</span>
<span class="hljs-attr">roleRef:</span>
Â Â <span class="hljs-string">kind:</span>Â <span class="hljs-string">Role</span>
Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">leader-locking-nfs-client-provisioner</span>
Â Â <span class="hljs-string">apiGroup:</span>Â <span class="hljs-string">rbac.authorization.k8s.io</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">apiVersion:</span>Â <span class="hljs-string">apps/v1</span>
<span class="hljs-string">kind:</span>Â <span class="hljs-string">Deployment</span>
<span class="hljs-attr">metadata:</span>
Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">nfs-client-provisioner</span>
Â Â <span class="hljs-string">namespace:</span>Â <span class="hljs-string">default</span>
<span class="hljs-attr">spec:</span>
Â Â <span class="hljs-string">replicas:</span>Â <span class="hljs-number">1</span>
Â Â <span class="hljs-attr">selector:</span>
Â Â Â Â <span class="hljs-attr">matchLabels:</span>
Â Â Â Â Â Â <span class="hljs-string">app:</span>Â <span class="hljs-string">nfs-client-provisioner</span>
Â Â <span class="hljs-attr">strategy:</span>
Â Â Â Â <span class="hljs-string">type:</span>Â <span class="hljs-string">Recreate</span>
Â Â <span class="hljs-attr">template:</span>
Â Â Â Â <span class="hljs-attr">metadata:</span>
Â Â Â Â Â Â <span class="hljs-attr">labels:</span>
Â Â Â Â Â Â Â Â <span class="hljs-string">app:</span>Â <span class="hljs-string">nfs-client-provisioner</span>
Â Â Â Â <span class="hljs-attr">spec:</span>
Â Â Â Â Â Â <span class="hljs-string">serviceAccountName:</span>Â <span class="hljs-string">nfs-client-provisioner</span>
Â Â Â Â Â Â <span class="hljs-attr">containers:</span>
Â Â Â Â Â Â Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">name:</span>Â <span class="hljs-string">nfs-client-provisioner</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">image:</span>Â <span class="hljs-string">registry.k8s.io/sig-storage/nfs-subdir-external-provisioner:v4.0.2</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">volumeMounts:</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">name:</span>Â <span class="hljs-string">nfs-client-root</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">mountPath:</span>Â <span class="hljs-string">/persistentvolumes</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">env:</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">name:</span>Â <span class="hljs-string">PROVISIONER_NAME</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">value:</span>Â <span class="hljs-string">k8s-sigs.io/nfs-subdir-external-provisioner</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">name:</span>Â <span class="hljs-string">NFS_SERVER</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">value:</span>Â <span class="hljs-number">192.168</span><span class="hljs-number">.9</span><span class="hljs-number">.2</span>Â Â <span class="hljs-comment">#Â æ›¿æ¢ä¸ºä½ çš„NFSæœåŠ¡å™¨IP</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">name:</span>Â <span class="hljs-string">NFS_PATH</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">value:</span>Â <span class="hljs-string">/nfs-storage/k8s-pvs</span>
Â Â Â Â Â Â <span class="hljs-attr">volumes:</span>
Â Â Â Â Â Â Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">name:</span>Â <span class="hljs-string">nfs-client-root</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">nfs:</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">server:</span>Â <span class="hljs-number">192.168</span><span class="hljs-number">.9</span><span class="hljs-number">.2</span>Â Â <span class="hljs-comment">#Â æ›¿æ¢ä¸ºä½ çš„NFSæœåŠ¡å™¨IP</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">path:</span>Â <span class="hljs-string">/nfs-storage/k8s-pvs</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">apiVersion:</span>Â <span class="hljs-string">storage.k8s.io/v1</span>
<span class="hljs-string">kind:</span>Â <span class="hljs-string">StorageClass</span>
<span class="hljs-attr">metadata:</span>
Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">nfs-storage</span>
<span class="hljs-string">provisioner:</span>Â <span class="hljs-string">k8s-sigs.io/nfs-subdir-external-provisioner</span>
<span class="hljs-attr">parameters:</span>
Â Â <span class="hljs-string">archiveOnDelete:</span>Â <span class="hljs-string">"true"</span>
<span class="hljs-string">reclaimPolicy:</span>Â <span class="hljs-string">Delete</span>
<span class="hljs-string">allowVolumeExpansion:</span>Â <span class="hljs-literal">true</span>
</code></pre>
<h3 data-id="heading-11">å®Œæˆæ€»ç»“</h3>
<h4 data-id="heading-12">å·²å®Œæˆçš„æ ¸å¿ƒé…ç½®</h4>
<ol>
<li>
<p><strong>å­˜å‚¨å‡†å¤‡</strong>ï¼š</p>
<ul>
<li>è¯†åˆ«å¹¶åˆ†åŒºæ ¼å¼åŒ–æ–°ç£ç›˜ï¼ˆ<code>/dev/sdb</code>ï¼‰</li>
<li>æ ¼å¼åŒ–ä¸º<code>ext4</code>æ–‡ä»¶ç³»ç»Ÿ</li>
<li>åˆ›å»º<code>/nfs-storage</code>æŒ‚è½½ç›®å½•</li>
<li>é…ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½</li>
</ul>
</li>
<li>
<p><strong>NFSæœåŠ¡å™¨</strong>ï¼š</p>
<ul>
<li>å®‰è£…<code>nfs-kernel-server</code>æœåŠ¡</li>
<li>åˆ›å»ºNFSå…±äº«ç›®å½•ï¼ˆ<code>/nfs-storage/k8s-pvs</code>ï¼‰</li>
<li>é…ç½®<code>/etc/exports</code>å…è®¸æ‰€æœ‰å®¢æˆ·ç«¯è®¿é—®ï¼ˆæƒé™ï¼š<code>rw,sync,no_subtree_check,no_root_squash,fsid=0</code>ï¼‰</li>
<li>å¯åŠ¨å¹¶è®¾ç½®NFSæœåŠ¡å¼€æœºè‡ªå¯</li>
<li>æœ¬åœ°æŒ‚è½½æµ‹è¯•éªŒè¯</li>
</ul>
</li>
</ol>
<h4 data-id="heading-13">NFSæœåŠ¡å™¨ä¿¡æ¯</h4>
<ul>
<li>æœåŠ¡å™¨IPï¼š<code>192.168.9.2</code></li>
<li>å…±äº«è·¯å¾„ï¼š<code>/nfs-storage/k8s-pvs</code></li>
<li>è®¿é—®æƒé™ï¼šæ‰€æœ‰å®¢æˆ·ç«¯å¯è¯»å†™</li>
</ul>
<h4 data-id="heading-14">K8Séƒ¨ç½²å‡†å¤‡</h4>
<ul>
<li>
<p>å·²ç”Ÿæˆ<code>nfs-provisioner-deployment.yaml</code>æ–‡ä»¶ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>ServiceAccountå’ŒRBACæƒé™é…ç½®</li>
<li>NFS Provisioner Deployment</li>
<li>NFS StorageClass</li>
</ul>
</li>
</ul>
<h3 data-id="heading-15">ä¸‹ä¸€æ­¥æ“ä½œ</h3>
<ol>
<li>åœ¨K8Sé›†ç¾¤ä¸­éƒ¨ç½²Provisionerï¼š</li>
</ol>
<pre><code class="hljs">kubectlÂ applyÂ -fÂ nfs-provisioner-deployment.yaml
</code></pre>
<ol start="2">
<li>åˆ›å»ºæµ‹è¯•PVCéªŒè¯ï¼š</li>
</ol>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">apiVersion:</span>Â <span class="hljs-string">v1</span>
<span class="hljs-string">kind:</span>Â <span class="hljs-string">PersistentVolumeClaim</span>
<span class="hljs-attr">metadata:</span>
Â Â <span class="hljs-string">name:</span>Â <span class="hljs-string">test-nfs-pvc</span>
<span class="hljs-attr">spec:</span>
Â Â <span class="hljs-attr">accessModes:</span>
Â Â Â Â <span class="hljs-string">-</span>Â <span class="hljs-string">ReadWriteMany</span>
Â Â <span class="hljs-attr">resources:</span>
Â Â Â Â <span class="hljs-attr">requests:</span>
Â Â Â Â Â Â <span class="hljs-string">storage:</span>Â <span class="hljs-string">1Gi</span>
Â Â <span class="hljs-string">storageClassName:</span>Â <span class="hljs-string">nfs-storage</span>
</code></pre>
<blockquote>
<p>PVCåˆ›å»ºåä¼šè‡ªåŠ¨ç»‘å®šPVï¼ŒPVå®é™…è·¯å¾„å¯¹åº”<code>/nfs-storage/k8s-pvs/default-test-nfs-pvc-xxx</code></p>
</blockquote>
<h3 data-id="heading-16">å®‰å…¨å»ºè®®ï¼ˆå¯é€‰ï¼‰</h3>
<ol>
<li>é™åˆ¶NFSè®¿é—®æ¥æºä¸ºK8SèŠ‚ç‚¹ç½‘æ®µï¼ˆæ›¿æ¢<code>/etc/exports</code>ä¸­çš„<code>*</code>ï¼‰</li>
<li>å¯ç”¨NFSçš„Kerberosè®¤è¯</li>
<li>å®šæœŸå¤‡ä»½NFSå­˜å‚¨æ•°æ®</li>
</ol>
<blockquote>
<p><strong>æœ¬æ–‡è½¬è½½è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F9w_PN7dLQtMmGekagHz8AA" target="_blank" title="https://mp.weixin.qq.com/s/9w_PN7dLQtMmGekagHz8AA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/9w_PN7dLQâ€¦</a></strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[STM32è¾“å…¥æ•è·PWMé¢‘ç‡å’Œå ç©ºæ¯”ï¼ˆHALåº“ï¼‰]]></title>    <link>https://juejin.cn/post/7597776334066040884</link>    <guid>https://juejin.cn/post/7597776334066040884</guid>    <pubDate>2026-01-22T08:19:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597776334066040884" data-draft-id="7597776334065991732" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="STM32è¾“å…¥æ•è·PWMé¢‘ç‡å’Œå ç©ºæ¯”ï¼ˆHALåº“ï¼‰"/> <meta itemprop="keywords" content="åµŒå…¥å¼"/> <meta itemprop="datePublished" content="2026-01-22T08:19:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="stay"/> <meta itemprop="url" content="https://juejin.cn/user/1968590860597225"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            STM32è¾“å…¥æ•è·PWMé¢‘ç‡å’Œå ç©ºæ¯”ï¼ˆHALåº“ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1968590860597225/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    stay
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:19:59.000Z" title="Thu Jan 22 2026 08:19:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å ç©ºæ¯”å’Œé¢‘ç‡çš„è®¡ç®—æ€è·¯</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bad67087402047adb7ec49405f62c697~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3RheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674798&amp;x-signature=iR25u9xaQ8vx%2BMudahOO1xObhGs%3D" alt="pwm.png" loading="lazy"/>
å¦‚ä¸Šå›¾æ‰€ç¤ºçš„ä¸€ä¸ªPWMæ³¢ï¼Œå ç©ºæ¯”å¯é€šè¿‡é«˜ç”µå¹³æ‰€å æ—¶é—´å’Œå‘¨æœŸä¹‹é—´çš„æ¯”å€¼è®¡ç®—çš„å¾—å‡º</p>
<p align="center">å ç©ºæ¯”=t1/t</p>
PWMé¢‘ç‡è®¡ç®—åˆ™ä¸ºï¼š
<p align="center">é¢‘ç‡=å®šæ—¶å™¨æ—¶é’Ÿé¢‘ç‡ /ï¼ˆåˆ†é¢‘ç³»æ•°*å‘¨æœŸtï¼‰</p>
æœ¬æ¬¡å°†ä½¿ç”¨å•é€šé“æ•è·ä¸Šå‡æ²¿å’Œä¸‹é™æ²¿è·å–é«˜ç”µå¹³æ‰€å æ—¶é—´t1å’Œå‘¨æœŸtã€‚
<h2 data-id="heading-1">å®ç°æµç¨‹</h2>
<ol>
<li>åœ¨ç¬¬ä¸€æ¬¡æ•è·ä¸Šå‡æ²¿æ—¶å°†è®¡æ•°å™¨æ¸…é›¶ï¼Œå¹¶å°†ä¸‹ä¸€æ¬¡æ•è·è®¾ç½®ä¸ºä¸‹é™æ²¿æ•è·ï¼›</li>
<li>åœ¨æ•è·åˆ°ä¸‹é™æ²¿åï¼Œå°†è®¡æ•°å™¨é‡Œçš„å€¼ä¿å­˜èµ·æ¥ï¼ˆè¿™æ˜¯è®¡æ•°å™¨é‡Œçš„å€¼å°±æ˜¯é«˜ç”µå¹³<strong>t1</strong>ï¼‰ï¼Œå¹¶å°†ä¸‹ä¸€æ¬¡æ•è·è®¾ç½®ä¸ºä¸Šå‡æ²¿æ•è·ï¼›</li>
<li>åœ¨ç¬¬äºŒæ¬¡æ•è·é“ä¸Šå‡æ²¿åå°†è®¡æ•°å™¨é‡Œçš„å€¼ä¿å­˜èµ·æ¥ï¼ˆè¿™æ—¶è®¡æ•°å™¨é‡Œçš„å€¼å°±æ˜¯å‘¨æœŸ<strong>t</strong>ï¼‰ã€‚</li>
</ol>
<p>åç»­å°±å¯ä»¥é€šè¿‡è·å–åˆ°çš„<strong>t1</strong>å’Œ<strong>t</strong>è®¡ç®—å‡ºPWMæ³¢çš„é¢‘ç‡å’Œå‘¨æœŸäº†ã€‚</p>
<h2 data-id="heading-2">CubeMXé…ç½®</h2>
<p>æˆ‘ä½¿ç”¨çš„æ—¶stm32f103c8t6çš„å®éªŒæ¿ï¼Œå…ˆå°†æ—¶é’Ÿé¢‘ç‡è°ƒæ•´ä¸º72MHzã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b978653f2da54f52b17d8c56ab556af5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3RheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674798&amp;x-signature=aqYuPKDtRAw9jpwi6vOeGCGcap0%3D" alt="å±å¹•æˆªå›¾ 2026-01-22 151855.png" loading="lazy"/>
ç„¶åé€‰æ‹©TIM2,é€šé“1ï¼Œå°†åˆ†é¢‘ç³»æ•°è®¾ç½®ä¸º72-1</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a75f6b3ceb44979a5a5680ee8d4d37b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3RheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674798&amp;x-signature=nSqsaQnPnCRxh%2Bd%2F2m0E6vwxyjI%3D" alt="å±å¹•æˆªå›¾ 2026-01-22 152208.png" loading="lazy"/>
æ‰“å¼€ä¸­æ–­</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/981c46b4cfcc470ba2937850ded338af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3RheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769674798&amp;x-signature=7YAS6Omjvv4GBNvpXIIDVR2Fg%2BM%3D" alt="å±å¹•æˆªå›¾ 2026-01-22 152431.png" loading="lazy"/></p>
<h2 data-id="heading-3">ä»£ç éƒ¨åˆ†</h2>
<p>ç”Ÿæˆä»£ç åä¸ºæˆ‘ä»¬åœ¨ä¸­æ–­å›è°ƒå‡½æ•°ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<pre><code class="hljs language-ini" lang="ini">volatile uint32_t <span class="hljs-attr">falltime</span> = <span class="hljs-number">0</span><span class="hljs-comment">; // ä¸‹é™æ²¿æ•è·å€¼</span>
volatile uint32_t <span class="hljs-attr">periodValue</span> = <span class="hljs-number">0</span><span class="hljs-comment">;      // å‘¨æœŸå€¼</span>
volatile uint8_t <span class="hljs-attr">dutyCycle</span> = <span class="hljs-number">0</span><span class="hljs-comment">;        // å ç©ºæ¯”ï¼ˆ0-100%ï¼‰</span>
volatile uint8_t <span class="hljs-attr">captureState</span> = <span class="hljs-number">0</span><span class="hljs-comment">;      //ç”µå¹³æ•è·</span>
volatile uint8_t <span class="hljs-attr">measurementReady</span> = <span class="hljs-number">0</span><span class="hljs-comment">;  // æµ‹é‡å®Œæˆæ ‡å¿—</span>
void HAL_TIM_IC_CaptureCallback(TIM_HandleTypeDef *htim)
{
  if (htim-&gt;<span class="hljs-attr">Instance</span> == TIM2){
    switch (captureState){
      case 0: // æ•è·åˆ°ä¸Šå‡æ²¿
        __HAL_TIM_SET_COUNTER(htim,2)<span class="hljs-comment">;//è®¡æ•°å™¨è®¾ç½®ä¸º2,(è¿™é‡ŒæŒ‰ç†æ¥è¯´åº”è¯¥è®¾ç½®ä¸º0çš„ï¼Œä½†æˆ‘é€šè¿‡è°ƒè¯•å‘ç°è®¾ç½®ä¸º2å‡†ç¡®)</span>
        <span class="hljs-attr">captureState</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
        
        // åˆ‡æ¢ä¸ºä¸‹é™æ²¿æ•è·
        __HAL_TIM_SET_CAPTUREPOLARITY(htim, TIM_CHANNEL_1, TIM_INPUTCHANNELPOLARITY_FALLING)<span class="hljs-comment">;</span>
        break<span class="hljs-comment">;</span>
      case 1: // æ•è·åˆ°ä¸‹é™æ²¿
        <span class="hljs-attr">falltime</span> =  HAL_TIM_ReadCapturedValue(htim, TIM_CHANNEL_1)<span class="hljs-comment">;</span>
        <span class="hljs-attr">captureState</span> = <span class="hljs-number">2</span><span class="hljs-comment">;</span>
        
        // åˆ‡æ¢ä¸ºä¸Šå‡æ²¿æ•è·
        __HAL_TIM_SET_CAPTUREPOLARITY(htim, TIM_CHANNEL_1, TIM_INPUTCHANNELPOLARITY_RISING)<span class="hljs-comment">;</span>
        break<span class="hljs-comment">;</span>
      case 2: // ç¬¬äºŒä¸ªä¸Šå‡æ²¿ï¼Œè®¡ç®—å‘¨æœŸ
        <span class="hljs-attr">periodValue</span> = HAL_TIM_ReadCapturedValue(htim, TIM_CHANNEL_1)<span class="hljs-comment">;//å‘¨æœŸ</span>
        <span class="hljs-attr">captureState</span> = <span class="hljs-number">0</span><span class="hljs-comment">; </span>
        <span class="hljs-attr">measurementReady</span> = <span class="hljs-number">1</span><span class="hljs-comment">; // è®¾ç½®æµ‹é‡å®Œæˆæ ‡å¿—</span>
        break<span class="hljs-comment">;</span>
    }
  }
}
</code></pre>
<p>mainå‡½æ•°</p>
<pre><code class="hljs language-scss" lang="scss">while (<span class="hljs-number">1</span>)
  {
     if (measurementReady){
        <span class="hljs-comment">// è®¡ç®—å ç©ºæ¯”</span>
        if (periodValue != <span class="hljs-number">0</span>){
          dutyCycle = (falltime* <span class="hljs-number">100</span> / periodValue) ;
          frequency = <span class="hljs-number">72000000</span> / (<span class="hljs-number">72</span>*periodValue);
          <span class="hljs-comment">// æ‰“å°ç»“æœ</span>
          <span class="hljs-built_in">printf</span>("ZK %d Hz\r\n,PL%d%%\r\n",dutyCycle,frequency);
        }
        measurementReady = <span class="hljs-number">0</span>; <span class="hljs-comment">// æ¸…é™¤æ ‡å¿—</span>
      }
    <span class="hljs-comment">/* USER CODE END WHILE */</span>
 
    <span class="hljs-comment">/* USER CODE BEGIN 3 */</span>
  }
</code></pre>
<h2 data-id="heading-4">æµ‹è¯•éƒ¨åˆ†</h2>
<p>ä¸ºäº†æ–¹ä¾¿æ‹è§†é¢‘å°±å°†ç»“æœæ˜¾ç¤ºåˆ°OLEDæ˜¾ç¤ºå±ä¸Š</p>
<p>ç”¨ç¤ºæ³¢å™¨ç”Ÿæˆä¸åŒé¢‘ç‡ï¼Œä¸åŒå ç©ºæ¯”çš„æ³¢å½¢ä¾›å¼€å‘æ¿æ•è·</p>
<p><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">æµ‹è¯•è§†é¢‘</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯æ€§èƒ½ç›‘æ§Performance]]></title>    <link>https://juejin.cn/post/7597989474991489062</link>    <guid>https://juejin.cn/post/7597989474991489062</guid>    <pubDate>2026-01-22T08:23:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597989474991489062" data-draft-id="7597996070509314086" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯æ€§èƒ½ç›‘æ§Performance"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-22T08:23:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·3145327496832"/> <meta itemprop="url" content="https://juejin.cn/user/712960316285789"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯æ€§èƒ½ç›‘æ§Performance
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712960316285789/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·3145327496832
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:23:02.000Z" title="Thu Jan 22 2026 08:23:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>**å‰ç«¯æ€§èƒ½ç›‘æ§ï¼ˆReal User Monitoring, RUMï¼‰**æ˜¯ä¸€ç§é€šè¿‡å®æ—¶é‡‡é›†å’Œåˆ†æç”¨æˆ·ä¸Webåº”ç”¨äº¤äº’æ—¶çš„æ€§èƒ½æ•°æ®ï¼Œå¸®åŠ©å¼€å‘è€…å®šä½æ€§èƒ½ç“¶é¢ˆã€ä¼˜åŒ–ç”¨æˆ·ä½“éªŒçš„æŠ€æœ¯ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯é‡åŒ–é¡µé¢åŠ è½½é€Ÿåº¦ã€äº¤äº’æµç•…åº¦ç­‰å…³é”®æŒ‡æ ‡ï¼Œç¡®ä¿åº”ç”¨åœ¨ä¸åŒç½‘ç»œç¯å¢ƒã€è®¾å¤‡ç±»å‹ä¸‹çš„ç¨³å®šæ€§ã€‚</p>
<h3 data-id="heading-0"><strong>å®ç°åŸç†</strong></h3>
<p>å‰ç«¯æ€§èƒ½ç›‘æ§çš„å®ç°åŸºäºæµè§ˆå™¨æä¾›çš„åº•å±‚APIï¼Œç»“åˆæ•°æ®é‡‡é›†ã€ä¼ è¾“ã€å­˜å‚¨ä¸åˆ†æçš„å®Œæ•´é“¾è·¯ï¼Œå…·ä½“åŸç†å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-1"><strong>1. æ•°æ®é‡‡é›†ï¼šæµè§ˆå™¨</strong> <strong>API</strong> <strong>çš„æ·±åº¦åˆ©ç”¨</strong></h4>
<ul>
<li>
<p><strong>Performance</strong> <strong>API</strong>ï¼šæä¾›é¡µé¢åŠ è½½å„é˜¶æ®µçš„æ—¶é—´æˆ³ï¼ˆå¦‚<code>navigationStart</code>ã€<code>domContentLoadedEventStart</code>ï¼‰ï¼Œé€šè¿‡<code>performance.timing</code>å¯¹è±¡å¯è®¡ç®—æœåŠ¡å™¨å“åº”æ—¶é—´ã€DOMè§£ææ—¶é—´ç­‰ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">loadTime</span> = performance.timing.loadEventEnd - performance.timing.navigationStart<span class="hljs-comment">;</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Resource Timing</strong> <strong>API</strong>ï¼šè®°å½•èµ„æºï¼ˆå›¾ç‰‡ã€è„šæœ¬ã€æ ·å¼è¡¨ï¼‰çš„åŠ è½½è€—æ—¶ï¼Œé€šè¿‡<code>performance.getEntriesByType('resource')</code>è·å–è¯¦ç»†æ•°æ®ã€‚</p>
</li>
<li>
<p><strong>Paint Timing</strong> <strong>API</strong>ï¼šæ ‡è®°é¡µé¢æ¸²æŸ“å…³é”®èŠ‚ç‚¹ï¼Œå¦‚é¦–æ¬¡å†…å®¹ç»˜åˆ¶ï¼ˆFCPï¼‰ã€æœ€å¤§å†…å®¹ç»˜åˆ¶ï¼ˆLCPï¼‰ï¼Œé€šè¿‡<code>performance.getEntriesByType('paint')</code>å®ç°ã€‚</p>
</li>
<li>
<p><strong>Long Task</strong> <strong>API</strong>ï¼šæ£€æµ‹ä¸»çº¿ç¨‹é˜»å¡è¶…è¿‡50msçš„ä»»åŠ¡ï¼Œè¯†åˆ«å¡é¡¿æºã€‚</p>
</li>
<li>
<p><strong>é”™è¯¯æ•è·</strong>ï¼š</p>
<ul>
<li>
<p><strong>JS</strong> <strong>é”™è¯¯</strong>ï¼šé€šè¿‡<code>window.onerror</code>ç›‘å¬è¯­æ³•é”™è¯¯ã€è¿è¡Œæ—¶é”™è¯¯ã€‚</p>
</li>
<li>
<p><strong>Promiseé”™è¯¯</strong>ï¼šé€šè¿‡<code>window.addEventListener('unhandledrejection')</code>æ•è·æœªå¤„ç†çš„Promiseå¼‚å¸¸ã€‚</p>
</li>
<li>
<p><strong>èµ„æºé”™è¯¯</strong>ï¼šç›‘å¬<code>img</code>ã€<code>script</code>å…ƒç´ çš„<code>error</code>äº‹ä»¶ï¼Œè®°å½•åŠ è½½å¤±è´¥ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-2"><strong>2. æ•°æ®ä¼ è¾“ï¼šé«˜æ•ˆä¸ŠæŠ¥ç­–ç•¥</strong></h4>
<ul>
<li>
<p><strong>å³æ—¶ä¸ŠæŠ¥</strong>ï¼šå…³é”®é”™è¯¯ï¼ˆå¦‚JSå´©æºƒï¼‰é‡‡ç”¨åŒæ­¥POSTè¯·æ±‚ï¼Œç¡®ä¿æ•°æ®åŠæ—¶é€è¾¾ã€‚</p>
</li>
<li>
<p><strong>å®šæ—¶æ‰¹é‡ä¸ŠæŠ¥</strong>ï¼šæ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·è¡Œä¸ºæ•°æ®æ¯5ç§’é›†ä¸­å‘é€ä¸€æ¬¡ï¼Œå¹³è¡¡å®æ—¶æ€§ä¸æ€§èƒ½å¼€é”€ã€‚</p>
</li>
<li>
<p><strong>ç½‘ç»œç¼“å­˜</strong>ï¼šç½‘ç»œä¸ç¨³å®šæ—¶ï¼Œåˆ©ç”¨<code>localStorage</code>æˆ–<code>IndexedDB</code>ç¼“å­˜æ•°æ®ï¼Œå¾…ç½‘ç»œæ¢å¤åè‡ªåŠ¨é‡ä¼ ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
<h4 data-id="heading-3"><strong>3. æ•°æ®å­˜å‚¨ä¸å¤„ç†</strong></h4>
<ul>
<li>
<p><strong>æ—¶åºæ•°æ®åº“</strong>ï¼šå¦‚InfluxDBã€Prometheusï¼Œä¼˜åŒ–æ—¶é—´åºåˆ—æ•°æ®å­˜å‚¨ä¸æŸ¥è¯¢ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®æ¸…æ´—</strong>ï¼šå»é™¤é‡å¤æ•°æ®ã€ä¿®æ­£å¼‚å¸¸å€¼ï¼ˆå¦‚è´Ÿæ•°æ—¶é—´æˆ³ï¼‰ã€‚</p>
</li>
<li>
<p><strong>èšåˆåˆ†æ</strong>ï¼šè®¡ç®—æŒ‡æ ‡çš„å¹³å‡å€¼ã€åˆ†ä½æ•°ï¼ˆå¦‚P90ã€P95ï¼‰ï¼Œè¯†åˆ«æ€§èƒ½æ³¢åŠ¨è§„å¾‹ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
<h4 data-id="heading-4"><strong>4.</strong> <strong>æ•°æ®åˆ†æ</strong> <strong>ä¸å¯è§†åŒ–</strong></h4>
<ul>
<li>
<p><strong>è¶‹åŠ¿åˆ†æ</strong>ï¼šé€šè¿‡æŠ˜çº¿å›¾å±•ç¤ºLCPã€FIDç­‰æŒ‡æ ‡éšæ—¶é—´çš„å˜åŒ–ï¼Œå®šä½æ€§èƒ½é€€åŒ–æ—¶æ®µã€‚</p>
</li>
<li>
<p><strong>å¯¹æ¯”åˆ†æ</strong>ï¼šå¯¹æ¯”ä¸åŒé¡µé¢ã€æµè§ˆå™¨æˆ–åœ°åŒºçš„æ€§èƒ½æ•°æ®ï¼Œæ‰¾å‡ºä¼˜åŒ–ä¼˜å…ˆçº§ã€‚</p>
</li>
<li>
<p><strong>å‘Šè­¦æœºåˆ¶</strong>ï¼šå½“é”™è¯¯ç‡è¶…è¿‡é˜ˆå€¼æˆ–LCPæŒç»­è¶…æ ‡æ—¶ï¼Œè§¦å‘é‚®ä»¶ã€çŸ­ä¿¡å‘Šè­¦ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
<h3 data-id="heading-5"><strong>å…·ä½“å®ç°æ­¥éª¤</strong></h3>
<h4 data-id="heading-6"><strong>1. ç¡®å®šç›‘æ§æŒ‡æ ‡</strong></h4>
<p>æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©æ ¸å¿ƒæŒ‡æ ‡ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>
<p><strong>åŠ è½½æ€§èƒ½</strong>ï¼šé¦–å±åŠ è½½æ—¶é—´ã€LCPã€TTIï¼ˆå¯äº¤äº’æ—¶é—´ï¼‰ã€‚</p>
</li>
<li>
<p><strong>äº¤äº’æ€§èƒ½</strong>ï¼šFIDï¼ˆé¦–æ¬¡è¾“å…¥å»¶è¿Ÿï¼‰ã€æ»šåŠ¨å¡é¡¿ç‡ã€‚</p>
</li>
<li>
<p><strong>ç¨³å®šæ€§</strong>ï¼šJSé”™è¯¯ç‡ã€èµ„æºåŠ è½½å¤±è´¥ç‡ã€‚</p>
</li>
<li>
<p><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šç™½å±æ—¶é•¿ã€ç”¨æˆ·åœç•™æ—¶é•¿ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
<h4 data-id="heading-7"><strong>2. é€‰æ‹©ç›‘æ§å·¥å…·</strong></h4>
<ul>
<li>
<p><strong>å¼€æºæ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li><strong>Lighthouse</strong>ï¼šé›†æˆåœ¨Chrome DevToolsä¸­ï¼Œæä¾›å®éªŒå®¤ç¯å¢ƒä¸‹çš„æ€§èƒ½è¯„åˆ†ã€‚</li>
<li><strong>Sentry</strong>ï¼šä¸“æ³¨é”™è¯¯ç›‘æ§ï¼Œæ”¯æŒæºç æ˜ å°„å’Œå †æ ˆåˆ†æã€‚</li>
</ul>
</li>
<li>
<p><strong>å•†ä¸šæœåŠ¡</strong>ï¼š</p>
<ul>
<li>
<p><strong>New Relic</strong>ã€<strong>Dynatrace</strong>ï¼šæä¾›å‰åç«¯ä¸€ä½“åŒ–ç›‘æ§ã€‚</p>
</li>
<li>
<p><strong>è…¾è®¯äº‘RUM</strong>ï¼šæ”¯æŒå°ç¨‹åºç›‘æ§ï¼Œä¸åç«¯APMè”åŠ¨ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-8"><strong>3. éƒ¨ç½²ç›‘æ§ä»£ç </strong></h4>
<ul>
<li>
<p><strong>æ‰‹åŠ¨é›†æˆ</strong>ï¼šåœ¨é¡µé¢<code>&lt;head&gt;</code>ä¸­æ’å…¥SDKè„šæœ¬ï¼Œåˆå§‹åŒ–æ—¶é…ç½®ä¸ŠæŠ¥åœ°å€ã€æŠ½æ ·ç‡ç­‰å‚æ•°ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.example.com/rum-sdk.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-variable constant_">RUM</span>.<span class="hljs-title function_">init</span>({
    <span class="hljs-attr">appKey</span>: <span class="hljs-string">'YOUR_APP_KEY'</span>,
    <span class="hljs-attr">sampleRate</span>: <span class="hljs-number">100</span>, <span class="hljs-comment">// 100%é‡‡æ ·</span>
    <span class="hljs-attr">urlWhitelist</span>: [<span class="hljs-string">'*.example.com'</span>]
  });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>æ¡†æ¶é›†æˆ</strong>ï¼š</p>
<ul>
<li>
<p><strong>Vue</strong>ï¼šåœ¨<code>mounted</code>ç”Ÿå‘½å‘¨æœŸä¸­è°ƒç”¨æ•°æ®é‡‡é›†å‡½æ•°ã€‚</p>
</li>
<li>
<p><strong>React</strong>ï¼šé€šè¿‡è‡ªå®šä¹‰Hooksï¼ˆå¦‚<code>usePerformance</code>ï¼‰å°è£…ç›‘æ§é€»è¾‘ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-9"><strong>4. é‡‡é›†ä¸ä¸ŠæŠ¥æ•°æ®</strong></h4>
<ul>
<li>
<p><strong>æ€§èƒ½æŒ‡æ ‡é‡‡é›†</strong>ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getPageLoadTime</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> performance.<span class="hljs-property">timing</span>.<span class="hljs-property">loadEventEnd</span> - performance.<span class="hljs-property">timing</span>.<span class="hljs-property">navigationStart</span>;
}
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'load'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> loadTime = <span class="hljs-title function_">getPageLoadTime</span>();
  <span class="hljs-variable constant_">RUM</span>.<span class="hljs-title function_">sendMetric</span>(<span class="hljs-string">'page_load_time'</span>, loadTime);
});
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>é”™è¯¯ä¿¡æ¯é‡‡é›†</strong>ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">message, source, lineno, colno, error</span>) {
  <span class="hljs-variable constant_">RUM</span>.<span class="hljs-title function_">sendError</span>({
    <span class="hljs-attr">type</span>: <span class="hljs-string">'js_error'</span>,
    message,
    <span class="hljs-attr">stack</span>: error?.<span class="hljs-property">stack</span>,
    <span class="hljs-attr">position</span>: <span class="hljs-string">`<span class="hljs-subst">${source}</span>:<span class="hljs-subst">${lineno}</span>:<span class="hljs-subst">${colno}</span>`</span>
  });
};
</code></pre>
</li>
<li/>
</ul>
</li>
</ul>
<h4 data-id="heading-10"><strong>5. åˆ†æä¸ä¼˜åŒ–</strong></h4>
<ul>
<li>
<p><strong>ç“¶é¢ˆå®šä½</strong>ï¼šé€šè¿‡ç€‘å¸ƒå›¾åˆ†æèµ„æºåŠ è½½é¡ºåºï¼Œä¼˜åŒ–å…³é”®è·¯å¾„ï¼ˆå¦‚å†…è”CSSã€é¢„åŠ è½½JSï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä»£ç ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>å‡å°‘HTTPè¯·æ±‚ï¼šåˆå¹¶æ–‡ä»¶ã€ä½¿ç”¨CSS Spritesã€‚</li>
<li>å»¶è¿ŸåŠ è½½éå…³é”®èµ„æºï¼šå›¾ç‰‡<code>loading="lazy"</code>ã€å¼‚æ­¥åŠ è½½JSï¼ˆ<code>defer</code>/<code>async</code>ï¼‰ã€‚</li>
<li>ç¼“å­˜ç­–ç•¥ï¼šå¯¹é™æ€èµ„æºè®¾ç½®<code>Cache-Control: max-age=31536000</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>A/Bæµ‹è¯•</strong>ï¼šå¯¹æ¯”ä¼˜åŒ–å‰åçš„æ€§èƒ½æ•°æ®ï¼ŒéªŒè¯æ”¹è¿›æ•ˆæœã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
<h3 data-id="heading-11"><strong>æ¡ˆä¾‹ï¼šè…¾è®¯äº‘RUMçš„å®ç°</strong></h3>
<p>è…¾è®¯äº‘RUMé€šè¿‡SDKé‡‡é›†ç”¨æˆ·ç«¯æ•°æ®ï¼Œåˆ©ç”¨æµè®¡ç®—Oceanuså®æ—¶å¤„ç†æŒ‡æ ‡ï¼Œç»“åˆæ—¶åºæ•°æ®åº“CTSDBå­˜å‚¨å†å²æ•°æ®ã€‚å…¶æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p><strong>æ— ä¾µå…¥ç›‘æ§</strong>ï¼šSDKè‡ªåŠ¨é‡‡é›†æ€§èƒ½æ•°æ®ï¼Œæ— éœ€ä¿®æ”¹ä¸šåŠ¡ä»£ç ã€‚</p>
</li>
<li>
<p><strong>å¤šç»´åˆ†æ</strong>ï¼šæ”¯æŒæŒ‰åœ°åŒºã€æµè§ˆå™¨ã€è®¾å¤‡ç±»å‹åˆ†ç»„ç»Ÿè®¡æ€§èƒ½æŒ‡æ ‡ã€‚</p>
</li>
<li>
<p><strong>æ™ºèƒ½å‘Šè­¦</strong>ï¼šåŸºäºæœºå™¨å­¦ä¹ é¢„æµ‹æ€§èƒ½è¶‹åŠ¿ï¼Œæå‰å‘ç°æ½œåœ¨é—®é¢˜ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
<h3 data-id="heading-12"><strong>æ³¨æ„äº‹é¡¹</strong></h3>
<ul>
<li>
<p><strong>æ€§èƒ½å¼€é”€</strong>ï¼šç›‘æ§ä»£ç ä½“ç§¯åº”æ§åˆ¶åœ¨30KBä»¥å†…ï¼Œé¿å…å½±å“é¡µé¢åŠ è½½ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®å®‰å…¨</strong>ï¼šå¯¹ç”¨æˆ·IDç­‰æ•æ„Ÿä¿¡æ¯è„±æ•ï¼Œä¸ŠæŠ¥æ—¶ä½¿ç”¨HTTPSåŠ å¯†ã€‚</p>
</li>
<li>
<p><strong>å…¼å®¹æ€§</strong>ï¼šæµ‹è¯•SDKåœ¨ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼ˆå¦‚IE11ï¼‰ä¸­çš„è¡¨ç°ï¼Œæä¾›é™çº§æ–¹æ¡ˆã€‚</p>
</li>
</ul>
<h3 data-id="heading-13">Performance API ç®€ä»‹</h3>
<p>Performance API æ˜¯ä¸€ç»„ç”¨äºè¡¡é‡ Web åº”ç”¨æ€§èƒ½çš„ JavaScript æ ‡å‡†æ¥å£ï¼Œå®ƒé€šè¿‡é«˜ç²¾åº¦æ—¶é—´æˆ³å’Œæ€§èƒ½æ¡ç›®ï¼ˆPerformance Entriesï¼‰è®°å½•é¡µé¢åŠ è½½ã€èµ„æºåŠ è½½ã€äº¤äº’å“åº”ç­‰å…³é”®äº‹ä»¶ï¼Œå¸®åŠ©å¼€å‘è€…é‡åŒ–ç”¨æˆ·ä½“éªŒã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li>
<p><strong>é«˜ç²¾åº¦æ—¶é—´æˆ³</strong>ï¼š<code>performance.now()</code> æä¾›å¾®ç§’çº§ç²¾åº¦ï¼ˆChrome ä¸­ç²¾åº¦è¾¾ 0.1msï¼‰ï¼Œè¿œè¶…ä¼ ç»Ÿ <code>Date.now()</code> çš„ 1ms ç²¾åº¦ã€‚</p>
</li>
<li>
<p><strong>æ€§èƒ½æ¡ç›®ï¼ˆPerformance Entriesï¼‰</strong> ï¼šé€šè¿‡ <code>performance.getEntries()</code> è·å–å¯¼èˆªã€èµ„æºã€ç»˜åˆ¶ç­‰äº‹ä»¶çš„è¯¦ç»†æ•°æ®ã€‚</p>
</li>
<li>
<p><strong>æ”¯æŒ Core Web Vitals</strong>ï¼šå¯ç›´æ¥æ•è· LCPã€FIDã€CLS ç­‰å…³é”®æ€§èƒ½æŒ‡æ ‡ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
<h3 data-id="heading-14">å…¼å®¹æ€§åˆ†æ</h3>
<ul>
<li>
<p><strong>æµè§ˆå™¨æ”¯æŒ</strong>ï¼š</p>
<ul>
<li><strong>ä¸»æµæµè§ˆå™¨</strong>ï¼šChromeã€Firefoxã€Edgeã€Safari å‡æ”¯æŒ Performance API çš„æ ¸å¿ƒåŠŸèƒ½ï¼ˆå¦‚ <code>timing</code>ã€<code>getEntries</code>ï¼‰ã€‚</li>
<li><strong>IE é™åˆ¶</strong>ï¼šIE9 ä»¥ä¸‹ä¸æ”¯æŒï¼ŒIE11 ä»…éƒ¨åˆ†æ”¯æŒï¼ˆå¦‚ <code>timing</code> å±æ€§ï¼Œä½†èµ„æºåˆ—è¡¨å¯èƒ½ä¸å®Œæ•´ï¼‰ã€‚</li>
<li><strong>ç§»åŠ¨ç«¯</strong>ï¼šéƒ¨åˆ† API åœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨æˆ– WebView ä¸­å¯èƒ½å—é™ï¼ˆå¦‚ <code>getEntries()</code> è¿”å›æ•°æ®ä¸å®Œæ•´ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>API</strong> <strong>å·®å¼‚</strong>ï¼š</p>
<ul>
<li>
<p><strong>èµ„æºåˆ—è¡¨</strong>ï¼šFirefox è¿”å›æ‰€æœ‰ HTTP è¯·æ±‚ï¼ˆåŒ…æ‹¬å¤±è´¥è¯·æ±‚ï¼‰ï¼ŒChrome ä»…è¿”å›æˆåŠŸè¯·æ±‚ã€‚</p>
</li>
<li>
<p><strong>è·¨åŸŸé™åˆ¶</strong>ï¼šè·å–è·¨åŸŸèµ„æºçš„è¯¦ç»†æ—¶é—´æ•°æ®éœ€æœåŠ¡ç«¯è®¾ç½® <code>Timing-Allow-Origin</code> å“åº”å¤´ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-15">Performance API ä½¿ç”¨æ–¹æ³•</h3>
<h4 data-id="heading-16">1. åŸºç¡€æ—¶é—´æµ‹é‡</h4>
<p>ä½¿ç”¨ <code>performance.now()</code> æµ‹é‡ä»£ç æ‰§è¡Œæ—¶é—´ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">start</span> = performance.now()<span class="hljs-comment">;</span>
// æ‰§è¡Œå¾…æµ‹ä»£ç ï¼ˆå¦‚å¾ªç¯ã€å¼‚æ­¥æ“ä½œï¼‰
for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 10000; i++) {</span>
  console.log(i)<span class="hljs-comment">;</span>
}
const <span class="hljs-attr">end</span> = performance.now()<span class="hljs-comment">;</span>
console.log(`æ‰§è¡Œè€—æ—¶: ${(end - start).toFixed(3)}ms`)<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-17">2. å¯¼èˆªä¸èµ„æºæ—¶é—´</h4>
<p>é€šè¿‡ <code>performance.timing</code> è·å–é¡µé¢åŠ è½½å„é˜¶æ®µæ—¶é—´æˆ³ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> timing = performance.<span class="hljs-property">timing</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'DNS æŸ¥è¯¢è€—æ—¶:'</span>, timing.<span class="hljs-property">domainLookupEnd</span> - timing.<span class="hljs-property">domainLookupStart</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'TCP è¿æ¥è€—æ—¶:'</span>, timing.<span class="hljs-property">connectEnd</span> - timing.<span class="hljs-property">connectStart</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç™½å±æ—¶é—´:'</span>, timing.<span class="hljs-property">responseStart</span> - timing.<span class="hljs-property">navigationStart</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'DOM è§£æè€—æ—¶:'</span>, timing.<span class="hljs-property">domComplete</span> - timing.<span class="hljs-property">domInteractive</span>);
};
</code></pre>
<h4 data-id="heading-18">3. èµ„æºåŠ è½½è¯¦æƒ…</h4>
<p>ä½¿ç”¨ <code>performance.getEntriesByType('resource')</code> è·å–é™æ€èµ„æºï¼ˆå›¾ç‰‡ã€è„šæœ¬ç­‰ï¼‰çš„åŠ è½½æ—¶é—´ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">resources</span> = performance.getEntriesByType(<span class="hljs-string">'resource'</span>)<span class="hljs-comment">;</span>
resources.forEach(<span class="hljs-attr">resource</span> =&gt; {
  console.log(`èµ„æº: ${resource.name}, åŠ è½½è€—æ—¶: ${resource.duration.toFixed(2)}ms`)<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-19">è·å– FCPã€LCP ç­‰å…³é”®æŒ‡æ ‡</h3>
<h4 data-id="heading-20">1. é¦–æ¬¡å†…å®¹ç»˜åˆ¶ï¼ˆFCPï¼‰</h4>
<p>é€šè¿‡ <code>PerformanceObserver</code> ç›‘å¬ <code>paint</code> äº‹ä»¶ï¼Œæ•è· FCP æ—¶é—´ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">new PerformanceObserver((list) =&gt; {
  const <span class="hljs-attr">entries</span> = list.getEntries()<span class="hljs-comment">;</span>
  entries.forEach(<span class="hljs-attr">entry</span> =&gt; {
    if (<span class="hljs-attr">entry.name</span> === <span class="hljs-string">'first-contentful-paint'</span>) {
      console.log('FCP æ—¶é—´:', entry.startTime)<span class="hljs-comment">;</span>
    }
  })<span class="hljs-comment">;</span>
}).observe({ type: 'paint', buffered: true })<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-21">2. æœ€å¤§å†…å®¹ç»˜åˆ¶ï¼ˆLCPï¼‰</h4>
<p>ç›‘å¬ <code>largest-contentful-paint</code> äº‹ä»¶ï¼Œè·å– LCP æ—¶é—´ï¼ˆå–æœ€åä¸€æ¬¡å€™é€‰å…ƒç´ ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">lcpValue</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
new PerformanceObserver((list) =&gt; {
  const <span class="hljs-attr">entries</span> = list.getEntries()<span class="hljs-comment">;</span>
  const <span class="hljs-attr">lastEntry</span> = entries[entries.length - <span class="hljs-number">1</span>]<span class="hljs-comment">;</span>
  <span class="hljs-attr">lcpValue</span> = lastEntry.renderTime || lastEntry.loadTime<span class="hljs-comment">;</span>
  console.log('LCP æ—¶é—´:', lcpValue)<span class="hljs-comment">;</span>
}).observe({ type: 'largest-contentful-paint', buffered: true })<span class="hljs-comment">;</span>

// ç”¨æˆ·äº¤äº’ååœæ­¢ç›‘å¬ï¼ˆé¿å…è¯¯æŠ¥ï¼‰
window.addEventListener('click', () =&gt; {
  observer.disconnect()<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-22">3. é¦–æ¬¡è¾“å…¥å»¶è¿Ÿï¼ˆFIDï¼‰</h4>
<p>ç›‘å¬ <code>first-input</code> äº‹ä»¶ï¼Œè®¡ç®—ç”¨æˆ·é¦–æ¬¡äº¤äº’çš„å»¶è¿Ÿæ—¶é—´ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">new PerformanceObserver((list) =&gt; {
  const <span class="hljs-attr">entries</span> = list.getEntries()<span class="hljs-comment">;</span>
  entries.forEach(<span class="hljs-attr">entry</span> =&gt; {
    const <span class="hljs-attr">delay</span> = entry.processingStart - entry.startTime<span class="hljs-comment">;</span>
    console.log('FID å»¶è¿Ÿ:', delay.toFixed(2) + 'ms')<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
}).observe({ type: 'first-input', buffered: true })<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-23">4. ç´¯ç§¯å¸ƒå±€åç§»ï¼ˆCLSï¼‰</h4>
<p>ç›‘å¬ <code>layout-shift</code> äº‹ä»¶ï¼Œè®¡ç®—é¡µé¢å¸ƒå±€ç¨³å®šæ€§ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">clsValue</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
let <span class="hljs-attr">sessionEntries</span> = []<span class="hljs-comment">;</span>
let <span class="hljs-attr">sessionValue</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

new PerformanceObserver((list) =&gt; {
  const <span class="hljs-attr">entries</span> = list.getEntries()<span class="hljs-comment">;</span>
  entries.forEach(<span class="hljs-attr">entry</span> =&gt; {
    if (!entry.hadRecentInput) {
      const <span class="hljs-attr">firstSessionEntry</span> = sessionEntries[<span class="hljs-number">0</span>]<span class="hljs-comment">;</span>
      const <span class="hljs-attr">lastSessionEntry</span> = sessionEntries[sessionEntries.length - <span class="hljs-number">1</span>]<span class="hljs-comment">;</span>

      if (sessionValue &amp;&amp;
          entry.startTime - lastSessionEntry.startTime &lt; 1000 &amp;&amp;
          entry.startTime - firstSessionEntry.startTime &lt; 5000) {
        sessionValue += entry.value<span class="hljs-comment">;</span>
        sessionEntries.push(entry)<span class="hljs-comment">;</span>
      } else {
        <span class="hljs-attr">sessionValue</span> = entry.value<span class="hljs-comment">;</span>
        <span class="hljs-attr">sessionEntries</span> = [entry]<span class="hljs-comment">;</span>
      }

      if (sessionValue &gt; clsValue) {
        <span class="hljs-attr">clsValue</span> = sessionValue<span class="hljs-comment">;</span>
        console.log('CLS å€¼:', clsValue)<span class="hljs-comment">;</span>
      }
    }
  })<span class="hljs-comment">;</span>
}).observe({ type: 'layout-shift', buffered: true })<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-24">å®Œæ•´ç¤ºä¾‹ä»£ç </h3>
<pre><code class="hljs language-ini" lang="ini">// åˆå§‹åŒ– PerformanceObserver ç›‘å¬å…³é”®æŒ‡æ ‡
function initPerformanceObservers() {
  // FCP ç›‘å¬
  new PerformanceObserver((list) =&gt; {
    const <span class="hljs-attr">entries</span> = list.getEntries()<span class="hljs-comment">;</span>
    entries.forEach(<span class="hljs-attr">entry</span> =&gt; {
      if (<span class="hljs-attr">entry.name</span> === <span class="hljs-string">'first-contentful-paint'</span>) {
        console.log('FCP:', entry.startTime + 'ms')<span class="hljs-comment">;</span>
      }
    })<span class="hljs-comment">;</span>
  }).observe({ type: 'paint', buffered: true })<span class="hljs-comment">;</span>

  // LCP ç›‘å¬
  let <span class="hljs-attr">lcpValue</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
  const <span class="hljs-attr">lcpObserver</span> = new PerformanceObserver((list) =&gt; {
    const <span class="hljs-attr">entries</span> = list.getEntries()<span class="hljs-comment">;</span>
    const <span class="hljs-attr">lastEntry</span> = entries[entries.length - <span class="hljs-number">1</span>]<span class="hljs-comment">;</span>
    <span class="hljs-attr">lcpValue</span> = lastEntry.renderTime || lastEntry.loadTime<span class="hljs-comment">;</span>
    console.log('LCP:', lcpValue + 'ms')<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
  lcpObserver.observe({ type: 'largest-contentful-paint', buffered: true })<span class="hljs-comment">;</span>

  // ç”¨æˆ·äº¤äº’ååœæ­¢ LCP ç›‘å¬
  window.addEventListener('click', () =&gt; {
    lcpObserver.disconnect()<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>

  // FID ç›‘å¬
  new PerformanceObserver((list) =&gt; {
    const <span class="hljs-attr">entries</span> = list.getEntries()<span class="hljs-comment">;</span>
    entries.forEach(<span class="hljs-attr">entry</span> =&gt; {
      const <span class="hljs-attr">delay</span> = entry.processingStart - entry.startTime<span class="hljs-comment">;</span>
      console.log('FID:', delay.toFixed(2) + 'ms')<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
  }).observe({ type: 'first-input', buffered: true })<span class="hljs-comment">;</span>

  // CLS ç›‘å¬
  let <span class="hljs-attr">clsValue</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
  let <span class="hljs-attr">sessionEntries</span> = []<span class="hljs-comment">;</span>
  let <span class="hljs-attr">sessionValue</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

  new PerformanceObserver((list) =&gt; {
    const <span class="hljs-attr">entries</span> = list.getEntries()<span class="hljs-comment">;</span>
    entries.forEach(<span class="hljs-attr">entry</span> =&gt; {
      if (!entry.hadRecentInput) {
        const <span class="hljs-attr">firstSessionEntry</span> = sessionEntries[<span class="hljs-number">0</span>]<span class="hljs-comment">;</span>
        const <span class="hljs-attr">lastSessionEntry</span> = sessionEntries[sessionEntries.length - <span class="hljs-number">1</span>]<span class="hljs-comment">;</span>

        if (sessionValue &amp;&amp;
            entry.startTime - lastSessionEntry.startTime &lt; 1000 &amp;&amp;
            entry.startTime - firstSessionEntry.startTime &lt; 5000) {
          sessionValue += entry.value<span class="hljs-comment">;</span>
          sessionEntries.push(entry)<span class="hljs-comment">;</span>
        } else {
          <span class="hljs-attr">sessionValue</span> = entry.value<span class="hljs-comment">;</span>
          <span class="hljs-attr">sessionEntries</span> = [entry]<span class="hljs-comment">;</span>
        }

        if (sessionValue &gt; clsValue) {
          <span class="hljs-attr">clsValue</span> = sessionValue<span class="hljs-comment">;</span>
          console.log('CLS:', clsValue)<span class="hljs-comment">;</span>
        }
      }
    })<span class="hljs-comment">;</span>
  }).observe({ type: 'layout-shift', buffered: true })<span class="hljs-comment">;</span>
}

// åˆå§‹åŒ–æ€§èƒ½ç›‘æ§
initPerformanceObservers()<span class="hljs-comment">;</span>

// é¡µé¢åŠ è½½å®Œæˆåè¾“å‡ºå¯¼èˆªæ—¶é—´
<span class="hljs-attr">window.onload</span> = function() {
  const <span class="hljs-attr">timing</span> = performance.timing<span class="hljs-comment">;</span>
  console.log('DNS æŸ¥è¯¢è€—æ—¶:', timing.domainLookupEnd - timing.domainLookupStart + 'ms')<span class="hljs-comment">;</span>
  console.log('TCP è¿æ¥è€—æ—¶:', timing.connectEnd - timing.connectStart + 'ms')<span class="hljs-comment">;</span>
  console.log('ç™½å±æ—¶é—´:', timing.responseStart - timing.navigationStart + 'ms')<span class="hljs-comment">;</span>
  console.log('DOM è§£æè€—æ—¶:', timing.domComplete - timing.domInteractive + 'ms')<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-25">æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>
<p><strong>æ€§èƒ½å¼€é”€</strong>ï¼š<code>PerformanceObserver</code> ä¼šæŒç»­ç›‘å¬äº‹ä»¶ï¼Œé¿å…åœ¨ä½æ€§èƒ½è®¾å¤‡ä¸Šè¿‡åº¦ä½¿ç”¨ã€‚</p>
</li>
<li>
<p><strong>å…¼å®¹æ€§</strong> <strong>å¤„ç†</strong>ï¼šå¯¹ä¸æ”¯æŒ <code>PerformanceObserver</code> çš„æµè§ˆå™¨ï¼ˆå¦‚ IEï¼‰ï¼Œéœ€é™çº§ä½¿ç”¨ <code>performance.getEntriesByType</code>ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®ä¸ŠæŠ¥</strong>ï¼šå®é™…é¡¹ç›®ä¸­éœ€å°†æ€§èƒ½æ•°æ®å‘é€è‡³åç«¯å­˜å‚¨ï¼Œå¯ä½¿ç”¨ <code>fetch</code> æˆ– <code>navigator.sendBeacon</code>ã€‚</p>
</li>
<li>
<p><strong>ç”¨æˆ·äº¤äº’å½±å“</strong>ï¼šLCP å’Œ CLS çš„è®¡ç®—å¯èƒ½å—ç”¨æˆ·äº¤äº’å½±å“ï¼Œéœ€åœ¨ç”¨æˆ·é¦–æ¬¡äº¤äº’ååœæ­¢ç›‘å¬ï¼ˆå¦‚ç¤ºä¾‹ä¸­çš„ <code>click</code> äº‹ä»¶ï¼‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-26">ç›‘æ§ä»£ç ä½ç½®å¯¹æ€§èƒ½æ•°æ®çš„å½±å“åŠPerformance APIæ•°æ®è®°å½•æœºåˆ¶è§£æ</h3>
<h4 data-id="heading-27"><strong>ä¸€ã€ç›‘æ§ä»£ç ä½ç½®å¯¹æ€§èƒ½æ•°æ®çš„å½±å“</strong></h4>
<ol>
<li>
<p><strong>æ•°æ®å®Œæ•´æ€§ä¸å—ä½ç½®å½±å“</strong></p>
<ol>
<li>
<p>Performance APIçš„æ•°æ®è®°å½•æ˜¯<strong>æµè§ˆå™¨åœ¨é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­è‡ªåŠ¨å®Œæˆçš„</strong>ï¼Œä¸ç›‘æ§ä»£ç çš„ä½ç½®æ— å…³ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>
<p><code>performance.timing</code>å¯¹è±¡åœ¨é¡µé¢å¼€å§‹åŠ è½½æ—¶å³å¼€å§‹å¡«å……æ—¶é—´æˆ³ï¼ˆå¦‚<code>navigationStart</code>ã€<code>responseStart</code>ç­‰ï¼‰ï¼Œæ— è®ºä»£ç æ”¾åœ¨<code>&lt;head&gt;</code>è¿˜æ˜¯<code>&lt;body&gt;</code>ä¸­ï¼Œåªè¦åœ¨<code>window.onload</code>äº‹ä»¶è§¦å‘åæ‰§è¡Œï¼Œéƒ½èƒ½è·å–å®Œæ•´æ•°æ®ã€‚</p>
</li>
<li>
<p>èµ„æºåŠ è½½æ—¶é—´ï¼ˆå¦‚<code>resource.duration</code>ï¼‰ã€ç»˜åˆ¶æ—¶é—´ï¼ˆå¦‚FCP/LCPï¼‰ç­‰å‡ç”±æµè§ˆå™¨åœ¨åŠ è½½è¿‡ç¨‹ä¸­å®æ—¶è®°å½•ï¼Œä»£ç ä½ç½®ä»…å½±å“<strong>ä½•æ—¶è®¿é—®è¿™äº›æ•°æ®</strong>ï¼Œè€Œéæ•°æ®æœ¬èº«ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li>
<p><strong>æ‰§è¡Œæ—¶æœºçš„å…³é”®æ€§</strong></p>
<ol>
<li>
<p>**<code>window.onload</code><strong>äº‹ä»¶</strong>ï¼šç¡®ä¿æ‰€æœ‰èµ„æºï¼ˆå›¾ç‰‡ã€æ ·å¼è¡¨ã€è„šæœ¬ç­‰ï¼‰åŠ è½½å®Œæˆåæ‰è§¦å‘ï¼Œæ­¤æ—¶æ‰€æœ‰Performanceæ•°æ®å·²å®Œæ•´è®°å½•ã€‚æ— è®ºä»£ç æ”¾åœ¨<code>&lt;head&gt;</code>è¿˜æ˜¯<code>&lt;body&gt;</code>åº•éƒ¨ï¼Œåªè¦ç»‘å®šåœ¨<code>window.onload</code>ä¸Šï¼Œç»“æœä¸€è‡´ã€‚</p>
</li>
<li>
<p><strong>å¼‚æ­¥åŠ è½½è„šæœ¬</strong>ï¼šè‹¥ä½¿ç”¨<code>async</code>æˆ–<code>defer</code>åŠ è½½ç›‘æ§ä»£ç ï¼Œéœ€ç¡®ä¿å…¶åœ¨é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œï¼ˆå¦‚é€šè¿‡<code>window.onload</code>ï¼‰ï¼Œå¦åˆ™å¯èƒ½æå‰è®¿é—®æœªå¡«å……çš„Performanceæ•°æ®ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ol>
</li>
<li>
<p><strong>æ½œåœ¨å·®å¼‚åœºæ™¯</strong></p>
<ol>
<li>
<p><strong>æ—©æœŸæ‰§è¡Œ</strong>ï¼šè‹¥ä»£ç æ”¾åœ¨<code>&lt;head&gt;</code>ä¸­ä¸”æœªç»‘å®š<code>window.onload</code>ï¼Œå¯èƒ½åœ¨é¡µé¢æœªåŠ è½½å®Œæˆæ—¶æ‰§è¡Œï¼Œå¯¼è‡´éƒ¨åˆ†æ•°æ®ï¼ˆå¦‚<code>loadEventEnd</code>ï¼‰æœªè®°å½•ï¼Œå‡ºç°<code>undefined</code>æˆ–<code>0</code>å€¼ã€‚</p>
</li>
<li>
<p><strong>èµ„æºåŠ è½½é¡ºåº</strong>ï¼šå¼‚æ­¥åŠ è½½çš„èµ„æºï¼ˆå¦‚å›¾ç‰‡ï¼‰å¯èƒ½å»¶è¿Ÿè§¦å‘<code>window.onload</code>ï¼Œä½†Performance APIä¼šæŒç»­è®°å½•è¿™äº›èµ„æºçš„åŠ è½½æ—¶é—´ï¼Œæœ€ç»ˆæ•°æ®ä»å®Œæ•´ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ol>
</li>
</ol>
<h4 data-id="heading-28"><strong>äºŒã€Performance</strong> <strong>API</strong> <strong>æ•°æ®è®°å½•æœºåˆ¶</strong></h4>
<ol>
<li>
<p><strong>æ ¸å¿ƒåŸç†</strong></p>
<ol>
<li>
<p><strong>é«˜ç²¾åº¦æ—¶é—´æˆ³</strong>ï¼š<code>performance.now()</code>æä¾›å¾®ç§’çº§ç²¾åº¦ï¼Œä¸å—ç³»ç»Ÿæ—¶é—´è°ƒæ•´å½±å“ã€‚</p>
</li>
<li>
<p><strong>æ€§èƒ½æ—¶é—´çº¿ï¼ˆPerformance Timelineï¼‰</strong> ï¼šæµè§ˆå™¨è‡ªåŠ¨è®°å½•é¡µé¢åŠ è½½å„é˜¶æ®µï¼ˆå¯¼èˆªã€èµ„æºåŠ è½½ã€ç»˜åˆ¶ç­‰ï¼‰çš„æ—¶é—´æˆ³ï¼Œå­˜å‚¨ä¸º<code>PerformanceEntry</code>å¯¹è±¡ã€‚</p>
</li>
<li>
<p><strong>è‡ªåŠ¨æ”¶é›†</strong>ï¼šæ— éœ€æ‰‹åŠ¨è§¦å‘ï¼Œæµè§ˆå™¨åœ¨é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­æŒç»­å¡«å……<code>performance.timing</code>ã€<code>performance.getEntries()</code>ç­‰æ¥å£çš„æ•°æ®ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ol>
</li>
<li>
<p><strong>å…³é”®æ•°æ®è®°å½•æµç¨‹</strong></p>
<ol>
<li>
<p><strong>å¯¼èˆªé˜¶æ®µ</strong>ï¼šä»ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼ˆ<code>navigationStart</code>ï¼‰åˆ°é¡µé¢å¼€å§‹å“åº”ï¼ˆ<code>responseStart</code>ï¼‰ï¼Œè®°å½•DNSæŸ¥è¯¢ã€TCPè¿æ¥ç­‰è€—æ—¶ã€‚</p>
</li>
<li>
<p><strong>èµ„æºåŠ è½½</strong>ï¼šé€šè¿‡<code>Resource Timing API</code>è®°å½•å›¾ç‰‡ã€è„šæœ¬ã€æ ·å¼è¡¨ç­‰èµ„æºçš„åŠ è½½è€—æ—¶ï¼ˆ<code>duration</code>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç»˜åˆ¶ä¸äº¤äº’</strong>ï¼šé€šè¿‡<code>Paint Timing API</code>è®°å½•FCPï¼ˆé¦–æ¬¡å†…å®¹ç»˜åˆ¶ï¼‰ã€LCPï¼ˆæœ€å¤§å†…å®¹ç»˜åˆ¶ï¼‰ï¼Œé€šè¿‡<code>Event Timing API</code>è®°å½•FIDï¼ˆé¦–æ¬¡è¾“å…¥å»¶è¿Ÿï¼‰ç­‰ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ol>
</li>
<li>
<p><strong>æ•°æ®è®¿é—®æ—¶æœº</strong></p>
<ol>
<li>
<p><strong>åŒæ­¥è®¿é—®</strong>ï¼šåœ¨<code>window.onload</code>äº‹ä»¶ä¸­è®¿é—®<code>performance.timing</code>ï¼Œå¯è·å–å®Œæ•´å¯¼èˆªæ—¶é—´ï¼ˆå¦‚<code>loadEventEnd - navigationStart</code>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å¼‚æ­¥è®¿é—®</strong>ï¼šé€šè¿‡<code>PerformanceObserver</code>ç›‘å¬ç‰¹å®šäº‹ä»¶ï¼ˆå¦‚<code>paint</code>ã€<code>resource</code>ï¼‰ï¼Œå¯å®æ—¶è·å–åŠ¨æ€æ•°æ®ï¼ˆå¦‚LCPçš„æœ€ç»ˆå€¼ï¼‰ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ol>
</li>
</ol>
<h4 data-id="heading-29"><strong>ä¸‰ã€å®éªŒéªŒè¯ï¼šä»£ç ä½ç½®å¯¹ç»“æœçš„å½±å“</strong></h4>
<p>é€šè¿‡ä»¥ä¸‹å®éªŒå¯éªŒè¯ä½ç½®æ— å…³æ€§ï¼š</p>
<ol>
<li>
<p><strong>å®éªŒè®¾è®¡</strong></p>
<ol>
<li>
<p>å°†ç›‘æ§ä»£ç åˆ†åˆ«æ”¾åœ¨<code>&lt;head&gt;</code>å’Œ<code>&lt;body&gt;</code>åº•éƒ¨ï¼Œå‡ç»‘å®š<code>window.onload</code>äº‹ä»¶ã€‚</p>
</li>
<li>
<p>å¯¹æ¯”è¾“å‡ºçš„æ€§èƒ½æ•°æ®ï¼ˆå¦‚DNSæŸ¥è¯¢è€—æ—¶ã€ç™½å±æ—¶é—´ã€èµ„æºåŠ è½½æ—¶é—´ï¼‰ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ol>
</li>
<li>
<p><strong>å®éªŒç»“æœ</strong></p>
<ol>
<li>
<p>æ— è®ºä»£ç ä½ç½®å¦‚ä½•ï¼Œåªè¦åœ¨<code>window.onload</code>ä¸­æ‰§è¡Œï¼Œè¾“å‡ºçš„æ€§èƒ½æ•°æ®å®Œå…¨ä¸€è‡´ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ”¾åœ¨ &lt;head&gt; æˆ– &lt;body&gt; ä¸­å‡å¯</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> timing = performance.<span class="hljs-property">timing</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'DNSæŸ¥è¯¢è€—æ—¶:'</span>, timing.<span class="hljs-property">domainLookupEnd</span> - timing.<span class="hljs-property">domainLookupStart</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'TCPè¿æ¥è€—æ—¶:'</span>, timing.<span class="hljs-property">connectEnd</span> - timing.<span class="hljs-property">connectStart</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç™½å±æ—¶é—´:'</span>, timing.<span class="hljs-property">responseStart</span> - timing.<span class="hljs-property">navigationStart</span>);
};
</code></pre>
</li>
<li/>
</ul>
</li>
</ol>
</li>
</ol>
<h4 data-id="heading-30"><strong>å››ã€</strong> <strong>æœ€ä½³å®è·µ</strong> <strong>å»ºè®®</strong></h4>
<ol>
<li>
<p><strong>ä»£ç ä½ç½®é€‰æ‹©</strong></p>
<ol>
<li>
<p><strong>æ¨èä½ç½®</strong>ï¼šå°†ç›‘æ§ä»£ç æ”¾åœ¨<code>&lt;body&gt;</code>åº•éƒ¨æˆ–ä½¿ç”¨<code>defer</code>å±æ€§ï¼Œç¡®ä¿åœ¨DOMè§£æå®Œæˆåæ‰§è¡Œï¼Œé¿å…é˜»å¡é¡µé¢æ¸²æŸ“ã€‚</p>
</li>
<li>
<p><strong>é¿å…ä½ç½®</strong>ï¼šé¿å…å°†ç›‘æ§ä»£ç ç›´æ¥æ”¾åœ¨<code>&lt;head&gt;</code>ä¸­ä¸”æœªç»‘å®š<code>window.onload</code>ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸å®Œæ•´ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ol>
</li>
<li>
<p><strong>æ•°æ®è®¿é—®æ—¶æœº</strong></p>
<ol>
<li>
<p>ä¼˜å…ˆä½¿ç”¨<code>window.onload</code>æˆ–<code>PerformanceObserver</code>ç¡®ä¿æ•°æ®å®Œæ•´æ€§ã€‚</p>
</li>
<li>
<p>å¯¹äºåŠ¨æ€æ•°æ®ï¼ˆå¦‚LCPï¼‰ï¼Œé€šè¿‡<code>PerformanceObserver</code>ç›‘å¬<code>largest-contentful-paint</code>äº‹ä»¶ï¼Œå¹¶åœ¨ç”¨æˆ·äº¤äº’ååœæ­¢ç›‘å¬ï¼ˆé¿å…è¯¯æŠ¥ï¼‰ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ol>
</li>
<li>
<p><strong>å…¼å®¹æ€§</strong> <strong>ä¸é™çº§</strong></p>
<ol>
<li>
<p>é’ˆå¯¹ä¸æ”¯æŒ<code>PerformanceObserver</code>çš„æµè§ˆå™¨ï¼ˆå¦‚IEï¼‰ï¼Œä½¿ç”¨<code>performance.getEntriesByType('paint')</code>è·å–FCP/LCPæ•°æ®ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>navigator.sendBeacon</code>æˆ–<code>fetch</code>å°†æ•°æ®å‘é€è‡³åç«¯ï¼Œé¿å…é˜»å¡é¡µé¢å¸è½½ã€‚</p>
<ul>
<li/>
</ul>
</li>
</ol>
</li>
</ol>
<p><strong>ç»“è®º</strong>ï¼šç›‘æ§ä»£ç çš„ä½ç½®ä¸ä¼šå½±å“Performance APIè®°å½•çš„æ€§èƒ½æ•°æ®ï¼Œå› ä¸ºæ•°æ®æ˜¯æµè§ˆå™¨åœ¨é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­ç‹¬ç«‹è®°å½•çš„ã€‚å…³é”®åœ¨äºç¡®ä¿ä»£ç åœ¨é¡µé¢åŠ è½½å®Œæˆåï¼ˆå¦‚<code>window.onload</code>äº‹ä»¶ï¼‰è®¿é—®è¿™äº›æ•°æ®ï¼Œä»è€Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œå‡†ç¡®æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«"ç§»åŠ¨ç«¯é‡æ„å™©æ¢¦"ï¼šTinyProç§»åŠ¨ç«¯é€‚é…ä¸Šçº¿ï¼]]></title>    <link>https://juejin.cn/post/7597989474991652902</link>    <guid>https://juejin.cn/post/7597989474991652902</guid>    <pubDate>2026-01-22T08:51:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597989474991652902" data-draft-id="7597997108134101019" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«&quot;ç§»åŠ¨ç«¯é‡æ„å™©æ¢¦&quot;ï¼šTinyProç§»åŠ¨ç«¯é€‚é…ä¸Šçº¿ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2026-01-22T08:51:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OpenTinyç¤¾åŒº"/> <meta itemprop="url" content="https://juejin.cn/user/3808325101432983"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«"ç§»åŠ¨ç«¯é‡æ„å™©æ¢¦"ï¼šTinyProç§»åŠ¨ç«¯é€‚é…ä¸Šçº¿ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808325101432983/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OpenTinyç¤¾åŒº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:51:36.000Z" title="Thu Jan 22 2026 08:51:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡ç”±TinyProè´¡çŒ®è€…ç‹æ™¨å…‰åŒå­¦åŸåˆ›ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯ï¼šè®© TinyPro çœŸæ­£â€œèµ°åˆ°æŒå¿ƒé‡Œâ€</h2>
<p>TinyPro æ˜¯ä¸€å¥—åŸºäº <strong>TinyVue</strong> æ‰“é€ çš„å‰åç«¯åˆ†ç¦»åå°ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒèœå•é…ç½®ã€å›½é™…åŒ–ã€å¤šé¡µç­¾ã€æƒé™ç®¡ç†ç­‰ä¸°å¯Œç‰¹æ€§ã€‚
TinyPro åœ¨æ¡Œé¢ç«¯å…·å¤‡è‰¯å¥½çš„ä½“éªŒå’Œæ¨¡å—åŒ–æ¶æ„ï¼Œä½†éšç€ç§»åŠ¨åŠå…¬ã€å¹³æ¿å±•ç¤ºç­‰åœºæ™¯å¢å¤šï¼Œç§»åŠ¨ç«¯ä½“éªŒçš„çŸ­æ¿é€æ¸æ˜¾ç°ï¼š</p>
<ul>
<li>é¡µé¢ç¼©æ”¾ä¸å‡è¡¡ï¼Œå¸ƒå±€å‡ºç°æº¢å‡ºæˆ–é”™ä½ï¼›</li>
<li>æ¨¡æ€æ¡†åœ¨å°å±ä¸Šé®æŒ¡å†…å®¹ï¼›</li>
<li>å›¾è¡¨å’Œè¡¨æ ¼åœ¨æ¨ªå±ä¸ç«–å±é—´åˆ‡æ¢æ—¶æ— æ³•è‡ªé€‚åº”ï¼›</li>
<li>æ“ä½œåŒºè¿‡äºå¯†é›†ï¼Œä¸ç¬¦åˆè§¦æ§ä¹ æƒ¯ã€‚</li>
</ul>
<p>ä¸ºæ­¤å¯åŠ¨äº† <strong>TinyPro ç§»åŠ¨ç«¯é€‚é…é¡¹ç›®</strong>ï¼Œç›®æ ‡æ˜¯åœ¨ä¸ç ´åç°æœ‰ç»“æ„çš„å‰æä¸‹ï¼Œå®ç°â€œ<strong>ä¸€æ¬¡å¼€å‘ï¼Œè·¨ç«¯æµç•…</strong>â€çš„ä½“éªŒã€‚</p>
<h2 data-id="heading-1">äºŒã€æŠ€æœ¯é€‰å‹ä¸æ€»ä½“æ¶æ„</h2>
<p>æœ¬æ¬¡ç§»åŠ¨ç«¯é€‚é…è¦æ±‚åœ¨å¤æ‚çš„ä¸­åå°ç³»ç»Ÿä¸­å®ç°ã€Œä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯è‡ªé€‚åº”ã€ï¼Œæ—¢è¦ä¿è¯æ ·å¼çµæ´»ï¼Œåˆè¦ç»´æŒå¯ç»´æŠ¤æ€§å’Œæ„å»ºæ€§èƒ½ã€‚</p>
<p>åœ¨æŠ€æœ¯é€‰å‹é˜¶æ®µï¼Œç»¼åˆè¯„ä¼°äº†ä¸‰ç§å¸¸è§æ–¹æ¡ˆï¼š</p>

























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>çº¯ CSS åª’ä½“æŸ¥è¯¢</td><td>ç®€å•ç›´æ¥ã€ä¾èµ–å°‘</td><td>æ ·å¼åˆ†æ•£ã€é€»è¾‘é‡å¤ã€ç»´æŠ¤å›°éš¾</td></tr><tr><td>TailwindCSS å“åº”å¼ç±»</td><td>ç¤¾åŒºæˆç†Ÿã€ç±»åç›´è§‚ã€ç”Ÿæ€å®Œå–„</td><td>æ ·å¼è¡¨ä½“ç§¯å¤§ã€æ–­ç‚¹å›ºå®šã€ä¸å¤Ÿçµæ´»</td></tr><tr><td><strong>UnoCSS åŸå­åŒ–æ–¹æ¡ˆ</strong></td><td>æŒ‰éœ€ç”Ÿæˆã€æ€§èƒ½æè½»ã€æ–­ç‚¹ä¸å˜ä½“å®Œå…¨å¯å®šåˆ¶</td><td>éœ€è¦è‡ªè¡Œé…ç½®è§„èŒƒä¸è§„åˆ™ä½“ç³»</td></tr></tbody></table>
<p>æœ€ç»ˆé€‰æ‹©äº† <strong>UnoCSS + Less çš„æ··åˆæ¶æ„</strong>ï¼š</p>
<ul>
<li><strong>UnoCSS</strong>ï¼šè´Ÿè´£é€šç”¨å¸ƒå±€ã€é—´è·ã€æ’ç‰ˆç­‰é«˜é¢‘æ ·å¼ï¼ŒåŸå­åŒ–å†™æ³•æå‡å¼€å‘æ•ˆç‡ï¼›</li>
<li><strong>Less åª’ä½“æŸ¥è¯¢</strong>ï¼šç”¨äºæ¨¡æ€æ¡†ã€å¯¼èˆªæ ç­‰å¤æ‚åœºæ™¯çš„ç²¾ç»†æ§åˆ¶ï¼›</li>
<li><strong>ç»Ÿä¸€æ–­ç‚¹é…ç½®</strong>ï¼šé›†ä¸­ç®¡ç†å±å¹•å°ºå¯¸åˆ†çº§ï¼Œä¿æŒè§†è§‰ä¸€è‡´æ€§ï¼›</li>
<li><strong>è‡ªå®šä¹‰å˜ä½“ï¼ˆ<code>max-&lt;bp&gt;</code>ï¼‰</strong>ï¼šæ”¯æŒâ€œæ¡Œé¢ç«¯ä¼˜å…ˆâ€ç­–ç•¥ï¼Œé€šè¿‡ max-width å®ç°ç§»åŠ¨ç«¯è‡ªé€‚åº”ï¼Œæ ·å¼é€»è¾‘æ›´ç›´è§‚ã€‚</li>
</ul>
<h3 data-id="heading-2">UnoCSSï¼šè½»é‡ã€çµæ´»ã€å³æ—¶ç”Ÿæˆ</h3>
<p>UnoCSS æ˜¯ä¸€ä¸ª <strong>æŒ‰éœ€ç”Ÿæˆçš„åŸå­åŒ– CSS å¼•æ“</strong>ï¼Œæœ€å¤§çš„ç‰¹ç‚¹æ˜¯ <strong>é›¶å†—ä½™ä¸é«˜åº¦å¯å®šåˆ¶</strong>ã€‚
ä¸åŒäº TailwindCSS çš„é¢„ç¼–è¯‘æ–¹å¼ï¼ŒUnoCSS ä¼šåœ¨æ„å»ºé˜¶æ®µæ ¹æ®å®é™…ä½¿ç”¨çš„ç±»åå³æ—¶ç”Ÿæˆæ ·å¼è§„åˆ™ï¼Œä»è€Œæ˜¾è‘—æå‡æ„å»ºæ€§èƒ½ä¸çµæ´»æ€§.</p>
<p>åœ¨é…ç½®ä¸­é€šè¿‡ <code>presetMini()</code> ä¸ <code>presetAttributify()</code> ç»„åˆä½¿ç”¨ï¼Œä½¿å¼€å‘è€…æ—¢å¯ä»¥å†™ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;div class="p-4 text-center bg-gray-100 max-md:p-2"&gt;&lt;/div&gt;
</code></pre>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å±æ€§åŒ–è¯­æ³•ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;div p="4" text="center" bg="gray-100" max-md:p="2"&gt;&lt;/div&gt;
</code></pre>
<p><code>presetMini</code> æä¾›è½»é‡åŸå­ç±»ä½“ç³»ï¼Œ<code>presetAttributify</code> åˆ™å…è®¸ä»¥å£°æ˜å¼æ–¹å¼ä¹¦å†™æ ·å¼ï¼Œæ›´ç›´è§‚ã€ç»„ä»¶åŒ–å‹å¥½ã€‚</p>
<h3 data-id="heading-3">æ–­ç‚¹é…ç½®ä¸å“åº”å¼ç­–ç•¥</h3>
<p>TinyPro çš„é€‚é…æ ¸å¿ƒä¹‹ä¸€ï¼Œæ˜¯åœ¨ <code>uno.config.ts</code> ä¸­å»ºç«‹ç»Ÿä¸€çš„æ–­ç‚¹ä½“ç³»ï¼Œå¹¶é€šè¿‡è‡ªå®šä¹‰ <code>max-&lt;bp&gt;</code> å‰ç¼€å®ç°â€œæ¡Œé¢ç«¯ä¼˜å…ˆâ€çš„å“åº”å¼ç­–ç•¥ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> breakpoints = {
  <span class="hljs-attr">sm</span>: <span class="hljs-string">'641px'</span>,     <span class="hljs-comment">// æ‰‹æœºï¼ˆå°å±ï¼‰</span>
  <span class="hljs-attr">md</span>: <span class="hljs-string">'769px'</span>,     <span class="hljs-comment">// å¹³æ¿ç«–å±</span>
  <span class="hljs-attr">lg</span>: <span class="hljs-string">'1025px'</span>,    <span class="hljs-comment">// å¹³æ¿æ¨ªå± / å°å‹ç¬”ç”µ</span>
  <span class="hljs-attr">xl</span>: <span class="hljs-string">'1367px'</span>,    <span class="hljs-comment">// å¸¸è§„ç¬”ç”µ</span>
  <span class="hljs-string">'2xl'</span>: <span class="hljs-string">'1441px'</span>, <span class="hljs-comment">// é«˜æ¸…ç¬”ç”µ</span>
  <span class="hljs-string">'3xl'</span>: <span class="hljs-string">'1921px'</span>, <span class="hljs-comment">// æ¡Œé¢å¤§å±</span>
}
</code></pre>
<p>å¹¶é€šè¿‡è‡ªå®šä¹‰ <code>variants</code> æ‰©å±• <code>max-&lt;bp&gt;</code> å‰ç¼€:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-attr">variants</span>: [
    <span class="hljs-function">(<span class="hljs-params">matcher</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> match = matcher.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^max-([a-z0-9]+):/</span>)
      <span class="hljs-keyword">if</span> (match) {
        <span class="hljs-keyword">const</span> bp = match[<span class="hljs-number">1</span>]
        <span class="hljs-keyword">const</span> value = breakpoints[bp]
        <span class="hljs-keyword">if</span> (!value) <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">matcher</span>: matcher.<span class="hljs-title function_">replace</span>(<span class="hljs-string">`max-<span class="hljs-subst">${bp}</span>:`</span>, <span class="hljs-string">''</span>),
          <span class="hljs-attr">parent</span>: <span class="hljs-string">`@media (max-width: <span class="hljs-subst">${value}</span>)`</span>,
        }
      }
    },
  ]
</code></pre>
<p>è®©å¼€å‘è€…èƒ½è‡ªç„¶åœ°ä¹¦å†™ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;div class="w-1/2 max-md:w-full"&gt;&lt;/div&gt;
</code></pre>
<p>å«ä¹‰ï¼š</p>
<blockquote>
<p>é»˜è®¤å®½åº¦ä¸º 50%ï¼Œåœ¨å®½åº¦å°äº 769px çš„è®¾å¤‡ä¸Šæ”¹ä¸º 100%ã€‚</p>
</blockquote>
<p>TinyPro é‡‡ç”¨ã€Œæ¡Œé¢ç«¯ä¼˜å…ˆï¼ˆmax-widthï¼‰ã€çš„å¸ƒå±€ç­–ç•¥ï¼šé»˜è®¤ä»¥æ¡Œé¢ç«¯å¸ƒå±€ä¸ºåŸºç¡€ï¼Œåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå†è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–ã€‚ç›¸æ¯”å¸¸è§çš„ã€Œç§»åŠ¨ç«¯ä¼˜å…ˆï¼ˆmin-widthï¼‰ã€æ–¹å¼ï¼Œè¿™ç§åšæ³•æ›´ç¬¦åˆä¸­åå°ç³»ç»Ÿçš„ç‰¹æ€§ï¼ŒåŒæ—¶è®© UnoCSS çš„æ–­ç‚¹é€»è¾‘æ›´ç›´è§‚ï¼Œå¹¶ç¡®ä¿ä¸»å±ä½“éªŒçš„ç¨³å®šæ€§ã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€æ ·å¼ä¸ç¼–ç ç­–ç•¥</h2>
<ul>
<li>
<p><strong>ä¼˜å…ˆçº§</strong></p>
<ul>
<li>ç®€å•åœºæ™¯ï¼šä½¿ç”¨ UnoCSS åŸå­ç±»ã€‚</li>
<li>å¤æ‚æ ·å¼ï¼šä½¿ç”¨ Less åª’ä½“æŸ¥è¯¢ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¸ƒå±€ä¸æ»šåŠ¨</strong></p>
<ul>
<li>é¦–é¡µåŠæ ¸å¿ƒä¸šåŠ¡æ¨¡å—å®Œæˆé€‚é…ï¼Œå°å±æ¨¡å¼ä¸‹ä¾§è¾¹æ é»˜è®¤æ”¶èµ·ã€å¯¼èˆªæ æŠ˜å ï¼Œç¡®ä¿ä¸»è¦å†…å®¹å¯è§ã€‚</li>
<li>é¡µé¢ä¸»è¦å®¹å™¨é¿å…æ¨ªå‘æ»šåŠ¨ï¼Œå¿…è¦æ—¶åœ¨å°å±ä¸‹å¼€å¯å±€éƒ¨æ¨ªå‘æ»šåŠ¨ã€‚</li>
<li>è¡¨æ ¼ä¸å¤§åŒºå—åœ¨ä¸åŒæ–­ç‚¹ä¸‹è‡ªåŠ¨è°ƒæ•´å®½åº¦ã€æ …æ ¼ä¸é—´è·ï¼Œå°å±ä¸‹æ”¯æŒæ¨ªå‘æ»šåŠ¨ï¼›åˆ†é¡µä¸å¯†åº¦æ”¯æŒå“åº”å¼æ§åˆ¶ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4af7e6c462a147f5be281a97dd4610f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676696&amp;x-signature=6Qu3xoV1fgaW01GEpRr3oFe9DUQ%3D" alt="å¸ƒå±€ä¸æ»šåŠ¨.gif" loading="lazy"/></p>
</li>
<li>
<p><strong>å›¾è¡¨è‡ªé€‚åº”</strong></p>
<ul>
<li>å›¾è¡¨ç»„ä»¶æ¥å…¥ <code>resize</code> ç›‘å¬ï¼Œåœ¨ä¾§è¾¹æ å±•å¼€/æ”¶èµ·ã€çª—å£ç¼©æ”¾ã€è¯­è¨€åˆ‡æ¢ç­‰åœºæ™¯ä¸‹ä¿æŒè‡ªé€‚åº”ã€‚</li>
<li>å°å±ä¸‹ä½¿ç”¨ <code>vw</code> å®½åº¦ä¸è¾ƒå°å­—å·ï¼Œä¿è¯å›¾è¡¨å±•ç¤ºæ•ˆæœä¸å¯è¯»æ€§ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb461c5e916a492881be2bd887f86cd3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676696&amp;x-signature=SyMwRJjVwuBvOWpXJgV0GrJfu4Y%3D" alt="å›¾è¡¨è‡ªé€‚åº”.gif" loading="lazy"/></p>
</li>
<li>
<p><strong>è¡¨å•ä¸æ¨¡æ€æ¡†</strong></p>
<ul>
<li>æ¥å…¥ <code>useResponsiveSize()</code>ï¼Œæ§åˆ¶å¼¹çª—åœ¨å°å±ä¸‹é“ºæ»¡æ˜¾ç¤ºï¼Œå¤§å±ä¿æŒå›ºå®šå®½åº¦ã€‚</li>
<li>è¡¨å•é¡¹åœ¨ä¸åŒæ–­ç‚¹ä¸‹åŠ¨æ€è°ƒæ•´æ’å¸ƒä¸é—´è·ï¼Œä¼˜åŒ–è§¦æ§ä½“éªŒã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26766751db404d84b2219b571d92702a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676696&amp;x-signature=DMSeCHnk5FiRt4VG3EEbIRmnya8%3D" alt="è¡¨å•ä¸æ¨¡æ€æ¡†.gif" loading="lazy"/></p>
</li>
<li>
<p><strong>å¯¼èˆªä¸äº¤äº’</strong></p>
<ul>
<li>å°å±ä¸‹éšè—å¯¼èˆªæ éå…³é”®å…ƒç´ ï¼Œæ“ä½œèšåˆåˆ°"æŠ˜å èœå•"ã€‚</li>
<li>ç§»åŠ¨ç«¯é»˜è®¤æ”¶èµ·ä¾§è¾¹èœå•æ ï¼Œæå‡ä¸»è¦å†…å®¹å±•ç¤ºåŒºåŸŸã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/427e47252f504aa3a912780ed6a652d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676696&amp;x-signature=lF%2B7zkGQCL3Icdk8EdIbyX1qUwU%3D" alt="å¯¼èˆªä¸äº¤äº’.gif" loading="lazy"/></p>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong></p>
<ul>
<li>åœ¨ <code>responsive.ts</code> ä¸­å¯¹ <code>resize</code> äº‹ä»¶å¤„ç†å¢åŠ èŠ‚æµæœºåˆ¶ï¼Œé¿å…çª—å£ç¼©æ”¾ç­‰åœºæ™¯ä¸‹çš„é¢‘ç¹æ— æ•ˆæ¸²æŸ“ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-5">å››ã€å¸¸ç”¨ä»£ç ç‰‡æ®µ</h2>
<ol>
<li>åŸºäºæ …æ ¼ç³»ç»Ÿ + å“åº”å¼æ–­ç‚¹å·¥å…·ç±»ï¼Œé€šè¿‡ä¸º tiny-row å’Œ tiny-col æ·»åŠ ä¸åŒå±å¹•å®½åº¦ä¸‹çš„æ ·å¼è§„åˆ™ï¼Œå®ç°è‡ªé€‚åº”å¸ƒå±€ï¼š</li>
</ol>
<pre><code class="hljs language-vue" lang="vue">&lt;tiny-layout&gt;
    &lt;tiny-row class="flex justify-center max-md:flex-wrap"&gt;
        &lt;tiny-col class="w-1/4 max-md:w-1/2 max-sm:w-full max-md:mb-4"&gt;Â·Â·Â·&lt;/tiny-col&gt;
        Â·Â·Â·
        &lt;tiny-col class="w-1/4 max-md:w-1/2 max-sm:w-full max-md:mb-4"&gt;Â·Â·Â·&lt;/tiny-col&gt;
    &lt;/tiny-row&gt;
&lt;/tiny-layout&gt;

</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;div class="theme-line flex max-sm:grid max-sm:grid-cols-4 max-sm:gap-2"&gt;
  &lt;divÂ·Â·Â·
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<ol start="2">
<li>åŸºäº å“åº”å¼å·¥å…·ç±» + è‡ªå®šä¹‰å“åº”å¼ Hook,è§£å†³(1)å¯¹è¯æ¡†å®½åº¦è‡ªé€‚åº”;(2)è¡¨æ ¼å°ºå¯¸å’Œå¯†åº¦è‡ªé€‚åº”;(3)é€»è¾‘å±‚å“åº”å¼æ§åˆ¶</li>
</ol>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;section class="p-4 sm:p-6 lg:p-8 max-sm:text-center"&gt;
    &lt;tiny-dialog :width="modalSize"&gt;...&lt;/tiny-dialog&gt;
  &lt;/section&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { useResponsiveSize } from '@/hooks/responsive'
const { modalSize } = useResponsiveSize() // å°å± 100%ï¼Œå¤§å± 768px
&lt;/script&gt;
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="container"&gt;
    &lt;tiny-grid ref="grid" :fetch-data="fetchDataOption" :pager="pagerConfig" :size="gridSize" :auto-resize="true" align="center"&gt;
      Â·Â·Â·
    &lt;/tiny-grid&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { useResponsiveSize } from '@/hooks/responsive'
const { gridSize } = useResponsiveSize() // å°å±ä¸ºmini gridï¼Œå¤§å±ä¸ºmedium grid
&lt;/script&gt;
</code></pre>
<ol start="3">
<li>é€šè¿‡ <code>useResponsive</code> è·å–å±å¹•æ–­ç‚¹çŠ¶æ€ <code>sm/md/lg</code>ï¼Œå¦‚ï¼šåœ¨æ¨¡æ¿ä¸­ç»“åˆ <code>v-if="!lg"</code> æ§åˆ¶åˆ†éš”çº¿çš„æ¸²æŸ“ï¼Œä»è€Œå®ç°äº†å°å±ä¸‹çºµå‘èœå•æ‰æ˜¾ç¤ºåˆ†éš”çº¿çš„æ•ˆæœ</li>
</ol>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;ul class="right-side" :class="{ open: menuOpen }"&gt;
    &lt;!-- å°å±ä¸‹æ‰æ˜¾ç¤ºåˆ†éš”çº¿ --&gt;
    &lt;li v-if="!lg"&gt;
      &lt;div class="divider"&gt;&lt;/div&gt;
    &lt;/li&gt;
    Â·Â·Â·
  &lt;/ul&gt;
&lt;/template&gt;

&lt;script lang="ts" setup&gt;
import { useResponsive } from '@/hooks/responsive'
const { lg } = useResponsive()
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-6">äº”ã€ç»“è¯­</h2>
<p>é€šè¿‡æœ¬æ¬¡ç§»åŠ¨ç«¯é€‚é…ï¼Œ TinyPro å®ç°äº†â€œä»æ¡Œé¢åˆ°æŒå¿ƒâ€çš„ç»Ÿä¸€ä½“éªŒï¼š
å¼€å‘è€…å¯ä»¥ç»§ç»­æ²¿ç”¨ç†Ÿæ‚‰çš„ç»„ä»¶ä½“ç³»ä¸å¸ƒå±€æ–¹å¼ï¼ŒåŒæ—¶äº«å— UnoCSS å¸¦æ¥çš„åŸå­åŒ–çµæ´»æ€§ä¸æ€§èƒ½ä¼˜åŠ¿ã€‚åœ¨ä¸æ”¹å˜æ ¸å¿ƒæ¶æ„çš„å‰æä¸‹ï¼ŒTinyPro å˜å¾—æ›´è½»ç›ˆã€æ›´é¡ºæ»‘ï¼Œä¹Ÿæ›´ç¬¦åˆç§»åŠ¨æ—¶ä»£çš„ä½¿ç”¨åœºæ™¯ã€‚</p>
<h2 data-id="heading-7">å…³äºOpenTiny</h2>
<p>æ¬¢è¿åŠ å…¥ OpenTiny å¼€æºç¤¾åŒºã€‚æ·»åŠ å¾®ä¿¡å°åŠ©æ‰‹ï¼šopentiny-official ä¸€èµ·å‚ä¸äº¤æµå‰ç«¯æŠ€æœ¯ï½<br/>
OpenTiny å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.design" target="_blank" title="https://opentiny.design" ref="nofollow noopener noreferrer">opentiny.design</a><br/>
OpenTiny ä»£ç ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny" target="_blank" title="https://github.com/opentiny" ref="nofollow noopener noreferrer">github.com/opentiny</a><br/>
TinyProæºç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-pro" target="_blank" title="https://github.com/opentiny/tiny-pro" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a></p>
<p>æ¬¢è¿è¿›å…¥ä»£ç ä»“åº“ StarğŸŒŸTinyProã€TinyEngineã€TinyVueã€TinyNGã€TinyCLIã€TinyEditor
å¦‚æœä½ ä¹Ÿæƒ³è¦å…±å»ºï¼Œå¯ä»¥è¿›å…¥ä»£ç ä»“åº“ï¼Œæ‰¾åˆ° good first issueæ ‡ç­¾ï¼Œä¸€èµ·å‚ä¸å¼€æºè´¡çŒ®~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®æˆ˜ Flutter è“ç‰™é€šä¿¡ï¼šæ— ç¡¬ä»¶ï¼Œç”¨æ‰‹æœºå®Œæˆ BLE åŒå‘é€šä¿¡]]></title>    <link>https://juejin.cn/post/7597996070509821990</link>    <guid>https://juejin.cn/post/7597996070509821990</guid>    <pubDate>2026-01-22T08:53:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597996070509821990" data-draft-id="7597808104462237742" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®æˆ˜ Flutter è“ç‰™é€šä¿¡ï¼šæ— ç¡¬ä»¶ï¼Œç”¨æ‰‹æœºå®Œæˆ BLE åŒå‘é€šä¿¡"/> <meta itemprop="keywords" content="å‰ç«¯,iOS,Android"/> <meta itemprop="datePublished" content="2026-01-22T08:53:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="StarkCoder"/> <meta itemprop="url" content="https://juejin.cn/user/207173399875662"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®æˆ˜ Flutter è“ç‰™é€šä¿¡ï¼šæ— ç¡¬ä»¶ï¼Œç”¨æ‰‹æœºå®Œæˆ BLE åŒå‘é€šä¿¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/207173399875662/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    StarkCoder
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:53:07.000Z" title="Thu Jan 22 2026 08:53:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸš€ æ‰‹æŠŠæ‰‹æ•™ä½ ä» 0 åˆ° 1 å®Œæˆ Flutter è“ç‰™é€šä¿¡ï¼ˆæ— ç¡¬ä»¶å®æˆ˜ï¼‰</h2>
<blockquote>
<p><strong>é€‚åˆäººç¾¤</strong></p>
<ul>
<li>Flutter å¼€å‘è€…ï¼Œæƒ³å…¥é—¨ BLE</li>
<li>æ‰‹ä¸Šæ²¡æœ‰ä»»ä½•è“ç‰™ç¡¬ä»¶</li>
<li>ç»å¸¸é‡åˆ°ã€Œè®¾å¤‡èƒ½è¿ä¸Šï¼Œä½†æ€ä¹ˆéƒ½é€šä¿¡ä¸äº†ã€</li>
</ul>
</blockquote>
<p>æœ¬æ•™ç¨‹å°†å¸¦ä½  <strong>ä» 0 åˆ° 1 è·‘é€šä¸€å¥—å®Œæ•´çš„ BLE é€šä¿¡æµç¨‹</strong>ï¼š</p>
<ul>
<li>Android æ‰‹æœº + nRF Connect ğŸ‘‰ <strong>æ¨¡æ‹Ÿè“ç‰™æœåŠ¡ç«¯</strong></li>
<li>iOS + Flutter ğŸ‘‰ <strong>ä½œä¸ºè“ç‰™å®¢æˆ·ç«¯</strong></li>
<li>å®Œæˆ <strong>Write + Notify çš„åŒå‘é€šä¿¡</strong></li>
</ul>
<hr/>
<h3 data-id="heading-1">ğŸ§  ä¸€ã€å…ˆå»ºç«‹ä¸€ä¸ªæ­£ç¡®çš„ BLE å¿ƒæ™ºæ¨¡å‹ï¼ˆå¾ˆé‡è¦ï¼‰</h3>
<p>BLE å¹¶ä¸æ˜¯ã€Œè¿ä¸Šè®¾å¤‡å°±èƒ½å‘æ•°æ®ã€ã€‚</p>
<p>å®ƒçš„çœŸå®ç»“æ„æ˜¯ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">è®¾å¤‡ï¼ˆDeviceï¼‰
 â””â”€â”€ æœåŠ¡ï¼ˆServiceï¼ŒUUIDï¼‰
<span class="hljs-code">      â””â”€â”€ ç‰¹å¾ï¼ˆCharacteristicï¼ŒUUID + å±æ€§ï¼‰
</span></code></pre>
<h4 data-id="heading-2">è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</h4>
<ul>
<li><strong>é€šä¿¡ä¸æ˜¯å¯¹è®¾å¤‡ï¼Œè€Œæ˜¯å¯¹ Characteristic</strong></li>
<li><strong>å†™æ•°æ®ï¼Œå¿…é¡»å†™åˆ°â€œæ”¯æŒ Write çš„ Characteristicâ€</strong></li>
<li><strong>æ”¶æ•°æ®ï¼Œå¿…é¡»ç›‘å¬â€œæ”¯æŒ Notify çš„ Characteristicâ€</strong></li>
</ul>
<p>ğŸ‘‰ <strong>Service / Characteristic é€‰é”™ä¸€ä¸ªï¼Œé€šä¿¡å¿…å¤±è´¥</strong></p>
<hr/>
<h3 data-id="heading-3">ğŸ“¦ äºŒã€å‡†å¤‡å·¥ä½œï¼šå®‰è£… nRF Connectï¼ˆæ¨¡æ‹ŸæœåŠ¡ç«¯ï¼‰</h3>
<p>æˆ‘ä»¬ä½¿ç”¨ <strong>Nordic å®˜æ–¹å·¥å…· nRF Connect</strong> æ¥æ¨¡æ‹Ÿä¸€ä¸ª BLE å¤–è®¾ï¼ˆServerï¼‰ã€‚</p>
<h4 data-id="heading-4">1ï¸âƒ£ ä¸‹è½½åœ°å€ï¼ˆAPKï¼‰</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FNordicSemiconductor%2FAndroid-nRF-Connect%2Freleases" target="_blank" title="https://github.com/NordicSemiconductor/Android-nRF-Connect/releases" ref="nofollow noopener noreferrer">github.com/NordicSemicâ€¦</a></p>
<p>å®‰è£…åˆ° <strong>Android çœŸæœº</strong> åæ‰“å¼€ã€‚</p>
<hr/>
<h3 data-id="heading-5">ğŸ§© ä¸‰ã€é…ç½® GATT Serverï¼ˆåˆ›å»ºæœåŠ¡ç«¯èƒ½åŠ›ï¼‰</h3>
<h4 data-id="heading-6">3.1 è¿›å…¥ GATT Server é…ç½®</h4>
<p>é¦–é¡µç‚¹å‡»ï¼š</p>
<blockquote>
<p><strong>Configure GATT Server</strong></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43d3c3c7d7c84f979a85c9a26bde7097~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU3RhcmtDb2Rlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676787&amp;x-signature=bF8vzoRpZMbszRiFupnmFmW8V%2BM%3D" alt="é…ç½®GATTæœåŠ¡.jpg" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-7">3.2 ä½¿ç”¨ Sample configurationï¼ˆæ¨èæ–°æ‰‹ï¼‰</h4>
<p>é€‰æ‹©ç³»ç»Ÿå†…ç½®ï¼š</p>
<blockquote>
<p><strong>Sample configuration</strong></p>
</blockquote>
<p>ç„¶åæ‰¾åˆ° <strong>Test Service</strong>ï¼Œå¤åˆ¶å®ƒçš„ <strong>Service UUID</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d29cfe93bef4f889c724867b0744030~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU3RhcmtDb2Rlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676787&amp;x-signature=E7vqkrWghwJNjvnA3Ok3rp3SKdc%3D" alt="æ¨¡ç‰ˆé…ç½®.jpg" loading="lazy"/></p>
<p>ğŸ“Œ <strong>è¿™ä¸ª UUID åé¢ä¼šåå¤ç”¨åˆ°</strong>ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯æ‰«æè®¾å¤‡</li>
<li>å‘ç°æœåŠ¡</li>
<li>é€‰æ‹©ç‰¹å¾é€šä¿¡</li>
</ul>
<hr/>
<h3 data-id="heading-8">ğŸ“¡ å››ã€é…ç½®å¹¿æ’­ï¼ˆè®©å®¢æˆ·ç«¯èƒ½æ‰«æåˆ°ï¼‰</h3>
<p>å›åˆ°é¦–é¡µï¼Œç‚¹å‡» <strong>ADVERTISE</strong>ï¼Œæ–°å»ºä¸€ä¸ªå¹¿æ’­ã€‚</p>
<h4 data-id="heading-9">å…³é”®é…ç½®ç‚¹</h4>
<ul>
<li>å°† <strong>Service UUID</strong> æ·»åŠ åˆ° <strong>Scan Response Data</strong></li>
<li>è¿™æ ·å®¢æˆ·ç«¯åœ¨æ‰«ææ—¶ï¼Œæ‰èƒ½è¯†åˆ«ä½ è¿™ä¸ªè®¾å¤‡æä¾›äº†ä»€ä¹ˆæœåŠ¡</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c66a75d4b884f8c82cdb5c6d99087a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU3RhcmtDb2Rlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676787&amp;x-signature=K0cIyz%2FLVbxRjWkHVMEk8xoUauk%3D" alt="é…ç½®è®¾å¤‡.jpg" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-10">æœåŠ¡ç«¯å®Œæˆæ ‡å¿— âœ…</h4>
<p>å½“ä½ åœ¨è®¾å¤‡åˆ—è¡¨çœ‹åˆ°è¯¥è®¾å¤‡ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6339670a98154792b79bb6cb99e146d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU3RhcmtDb2Rlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676787&amp;x-signature=zdRQPnMrAE1OzKyQ%2FC7rRpbxsio%3D" alt="è®¾å¤‡åˆ—è¡¨.jpg" loading="lazy"/></p>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>âœ… GATT Server å·²å¯åŠ¨</li>
<li>âœ… æœåŠ¡ UUID å·²å¹¿æ’­</li>
</ul>
<hr/>
<h3 data-id="heading-11">ğŸ“± äº”ã€Flutter å®¢æˆ·ç«¯å®Œæ•´æµç¨‹ï¼ˆæ–°æ‰‹æœ€å…³é”®éƒ¨åˆ†ï¼‰</h3>
<h4 data-id="heading-12">5.1 æ‰«æè®¾å¤‡ï¼ˆScanï¼‰</h4>
<p>Flutter å¯åŠ¨åæ‰«æ BLE è®¾å¤‡ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5210110d02174cf59951fe66bb49555c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU3RhcmtDb2Rlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676787&amp;x-signature=nhJB0C36IpmM%2BjUq%2BjB9bVYW3JA%3D" alt="æ‰«æè®¾å¤‡.PNG" loading="lazy"/></p>
<p>ğŸ“Œ æ­¤æ—¶åªæ˜¯ <strong>çœ‹åˆ°è®¾å¤‡</strong>ï¼Œè¿˜ä¸èƒ½é€šä¿¡ã€‚</p>
<hr/>
<h4 data-id="heading-13">5.2 ç‚¹å‡»è®¾å¤‡ï¼Œå»ºç«‹è¿æ¥ï¼ˆConnectï¼‰</h4>
<p>ç‚¹å‡»è®¾å¤‡åï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">scan â†’ connect
</code></pre>
<p>è¿æ¥æˆåŠŸï¼Œæ‰æœ‰åç»­æ­¥éª¤ã€‚</p>
<hr/>
<h4 data-id="heading-14">5.3 å‘ç°æœåŠ¡ï¼ˆDiscover Servicesï¼‰</h4>
<p>è¿æ¥å®Œæˆåï¼Œå®¢æˆ·ç«¯ä¼šå‘æœåŠ¡ç«¯è¯·æ±‚ï¼š</p>
<blockquote>
<p>ä½ è¿™ä¸ªè®¾å¤‡ï¼Œæä¾›äº†å“ªäº› Serviceï¼Ÿ</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cb0d3075afa4979abe540d0bad7c754~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU3RhcmtDb2Rlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676787&amp;x-signature=v4vuvayR%2FMbY1SiF0kfipvKhi1A%3D" alt="è·å–è®¾å¤‡æœåŠ¡.PNG" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-15">â—5.4 è¿›å…¥ä½ åˆ›å»ºçš„ Serviceï¼ˆUUID å¿…é¡»ä¸€è‡´ï¼‰</h4>
<p>åœ¨æœåŠ¡åˆ—è¡¨ä¸­ï¼š</p>
<ul>
<li>æ‰¾åˆ° <strong>UUID ä¸ Test Service å®Œå…¨ä¸€è‡´çš„ Service</strong></li>
<li>ç‚¹å‡»è¿›å…¥</li>
</ul>
<p>ğŸ‘‰ <strong>Service ç‚¹é”™ï¼Œåé¢å…¨éƒ¨ç™½åš</strong></p>
<hr/>
<h4 data-id="heading-16">5.5 æŸ¥çœ‹ Characteristicï¼ˆçœŸæ­£çš„é€šä¿¡å…¥å£ï¼‰</h4>
<p>è¿›å…¥ Service åï¼Œä¼šçœ‹åˆ°å¤šä¸ª Characteristicï¼š</p>
<ul>
<li>æœ‰çš„æ”¯æŒ Read</li>
<li>æœ‰çš„æ”¯æŒ Write</li>
<li>æœ‰çš„æ”¯æŒ Notify</li>
</ul>
<hr/>
<h4 data-id="heading-17">â—â—5.6 å®¢æˆ·ç«¯å¿…é¡»é€‰å¯¹ Characteristic</h4>
<h5 data-id="heading-18">å†™æ•°æ®ï¼ˆå®¢æˆ·ç«¯ â†’ æœåŠ¡ç«¯ï¼‰</h5>
<ul>
<li>é€‰æ‹© <strong>æ”¯æŒ Write / Write Without Response çš„ Characteristic</strong></li>
<li>ä½¿ç”¨å®ƒå‘é€æ•°æ®</li>
</ul>
<h5 data-id="heading-19">æ”¶æ•°æ®ï¼ˆæœåŠ¡ç«¯ â†’ å®¢æˆ·ç«¯ï¼‰</h5>
<ul>
<li>é€‰æ‹© <strong>æ”¯æŒ Notify çš„ Characteristic</strong></li>
<li>å¼€å¯ç›‘å¬ï¼ˆsubscribeï¼‰</li>
</ul>
<p>ğŸ“Œ <strong>å¯¹ä¸æ”¯æŒ Write çš„ Characteristic å†™æ•°æ®ï¼š</strong></p>
<blockquote>
<p>ä¸æŠ¥é”™ï¼Œä½†ä¸€å®šæ²¡ååº”</p>
</blockquote>
<hr/>
<h3 data-id="heading-20">ğŸ” å…­ã€åŒå‘é€šä¿¡éªŒè¯</h3>
<h4 data-id="heading-21">6.1 å®¢æˆ·ç«¯å†™å…¥æ•°æ®</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/184ba37058fe4a29a1d052c05759bb12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU3RhcmtDb2Rlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676787&amp;x-signature=9hyD3oYdB868LK3aoeu52HxQy8g%3D" alt="å®¢æˆ·ç«¯é€šä¿¡.PNG" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-22">6.2 æœåŠ¡ç«¯ Notify å®¢æˆ·ç«¯</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/300b8e05631e4ef08357b69c429e5dd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU3RhcmtDb2Rlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676787&amp;x-signature=OKwl6Eyyzoh%2F2YjIlEHy2aGGins%3D" alt="æœåŠ¡ç«¯é€šä¿¡.jpg" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-23">âš ï¸ ä¸ƒã€ä¸€ä¸ª nRF Connect çš„ UI å‘</h3>
<p>æœåŠ¡ç«¯æ•°æ®ä¸ä¼šè‡ªåŠ¨åˆ·æ–°ï¼š</p>
<ul>
<li>åˆ‡æ¢é¡µé¢</li>
<li>å†åˆ‡å› <strong>SERVER</strong></li>
<li>æ‰èƒ½çœ‹åˆ°æœ€æ–°æ•°æ®</li>
</ul>
<p>â—ä¸æ˜¯é€šä¿¡å¤±è´¥ï¼Œæ˜¯ UI é—®é¢˜ã€‚</p>
<hr/>
<h3 data-id="heading-24">ğŸ“ ç¤ºä¾‹ä»£ç </h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchengshixin%2FBleExample" target="_blank" title="https://github.com/chengshixin/BleExample" ref="nofollow noopener noreferrer">github.com/chengshixinâ€¦</a></p>
<hr/>
<h3 data-id="heading-25">âœ… æ€»ç»“ä¸€å¥è¯</h3>
<blockquote>
<p><strong>BLE é€šä¿¡ = è¿è®¾å¤‡ + æ‰¾å¯¹ Service + ç”¨å¯¹ Characteristic</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿›é˜¶æ•™ç¨‹ï¼šç»™AIè£…ä¸Šâ€œé€»è¾‘å¤§è„‘â€ï¼Œæ‰“é€ é‡‘èçº§ç¨³å®šçš„å¤šè½®å¯¹è¯Agentï¼ˆDifyå®æˆ˜ï¼‰]]></title>    <link>https://juejin.cn/post/7597997108134166555</link>    <guid>https://juejin.cn/post/7597997108134166555</guid>    <pubDate>2026-01-22T08:52:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597997108134166555" data-draft-id="7597979278240448521" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿›é˜¶æ•™ç¨‹ï¼šç»™AIè£…ä¸Šâ€œé€»è¾‘å¤§è„‘â€ï¼Œæ‰“é€ é‡‘èçº§ç¨³å®šçš„å¤šè½®å¯¹è¯Agentï¼ˆDifyå®æˆ˜ï¼‰"/> <meta itemprop="keywords" content="äº§å“,äº§å“ç»ç†"/> <meta itemprop="datePublished" content="2026-01-22T08:52:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åéƒ¨ä¾éƒ"/> <meta itemprop="url" content="https://juejin.cn/user/3604673943579483"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿›é˜¶æ•™ç¨‹ï¼šç»™AIè£…ä¸Šâ€œé€»è¾‘å¤§è„‘â€ï¼Œæ‰“é€ é‡‘èçº§ç¨³å®šçš„å¤šè½®å¯¹è¯Agentï¼ˆDifyå®æˆ˜ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3604673943579483/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åéƒ¨ä¾éƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T08:52:20.000Z" title="Thu Jan 22 2026 08:52:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¹‹å‰ï¼Œæˆ‘ä»¬è®¨è®ºè¿‡ä¸€æ¬¡æ€ä¹ˆæ ·ä½¿ç”¨difyæ¥æ„å»ºå¤šè½®å¯¹è¯ã€‚
<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fkl9W3ogVZfQ6eerFmvnZ-Q" target="_blank" title="https://mp.weixin.qq.com/s/kl9W3ogVZfQ6eerFmvnZ-Q" ref="nofollow noopener noreferrer">ä¿å§†çº§æ•™ç¨‹ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ ç”¨Difyå®ç°å®Œç¾å¤šè½®å¯¹è¯ï¼ˆé™„Chatflowå’Œæç¤ºè¯ï¼‰</a>
è¿™ä¸ªåå­—å–å¾—è¿˜å¯ä»¥ï¼Œå“ˆå“ˆã€‚ä½†æ˜¯å®é™…ç”Ÿäº§ä½¿ç”¨ä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œè¯„è®ºåŒºä¹Ÿæœ‰è¯´åˆ°ã€‚</p>
<blockquote>
<p>é—®é¢˜ä¸€ï¼šå¤šè½®å¯¹è¯æ—¶, æœ‰äº›ä»£è¯åœ¨å›ç­”çš„ç­”æ¡ˆä¸­, åªå°†çš„ç”¨æˆ·çš„é—®é¢˜å½“ä½œä¸Šä¸‹æ–‡, æœ‰æ—¶æ‹¼å†™ä¸å‡ºå®Œæ•´çš„é—®é¢˜.</p>
</blockquote>
<blockquote>
<p>é—®é¢˜äºŒï¼šqueryæ”¹å†™èŠ‚ç‚¹ä¸èƒ½å¼€è®°å¿†ï¼ŒæŠŠä¹‹å‰å¯¹è¯åˆå¹¶æˆæ–‡æœ¬æ”¾è¿›userÂ promptï¼Œå†æŠŠæ¸©åº¦é™ä½ï¼Œå¢åŠ é¢å¤–è§„åˆ™é™åˆ¶ã€‚ä¼šå¥½ä¸€ç‚¹ã€‚</p>
</blockquote>
<blockquote>
<p>é—®é¢˜ä¸‰ï¼šç”¨æˆ·è¾“å…¥å’Œå‰æ–‡ä¸ç›¸å¹²ï¼Œæ¯”å¦‚é—®å®Œä¿é™©é—®å…¶ä»–è¯é¢˜ï¼ˆé—²èŠï¼‰ï¼Œè¿™ç§æƒ…å†µå¦‚ä½•åˆ†å¼€åšqueryæ”¹å†™é˜²æ­¢æ±¡æŸ“ï¼Ÿè¿˜æƒ³é—®ä¸‹è¿™æ ·æ”¹å†™è€—æ—¶ä¼šä¸ä¼šå¾ˆä¹…ï¼Ÿå°æ¨¡å‹æ•ˆæœå¥½å—ï¼Ÿ</p>
</blockquote>
<p>è¿™äº›è€å¸ˆæåˆ°çš„é—®é¢˜å…¶å®éƒ½æ˜¯åŒä¸€ä¸ªï¼Œå¦‚ä½•ç¡®ä¿é—®é¢˜æ”¹å†™èŠ‚ç‚¹ï¼Œå‡†ç¡®ç†è§£ç”¨æˆ·çš„é—®é¢˜ï¼Œä¸è¦æ”¹å†™é”™è¯¯ã€‚æ­¤å¤–è¿˜æœ‰ï¼š</p>
<blockquote>
<p>å¤šè½®å¯¹è¯æ—¶ï¼Œå¦‚æœAä»»åŠ¡æ²¡æœ‰æˆï¼Œä½†æ˜¯è¯æ§½æˆ–è€…è¯´å‚æ•°æ”¶é›†äº†ä¸€åŠï¼Œç”¨æˆ·é—®å¤šè½®ä»»åŠ¡Bï¼Œæ¥è¿™é—®Cï¼Œè¿™æ ·å¤§æ¦‚ç‡ä¼šé€ æˆä¿¡æ¯ä¸¢å¤±ã€‚</p>
</blockquote>
<blockquote>
<p>FAQ/è½¬äººå·¥ç­‰ç›¸å…³åœºæ™¯æ²¡æœ‰å¤„ç†ã€‚</p>
</blockquote>
<blockquote>
<p>å¦‚ä½•å®ç°é•¿æœŸè®°å¿†ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5872e9d54e2844809cd710eb86b5687c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=Pxo7etQqULl14LENoKc9UtwQha0%3D" alt="å¤šè½®å¯¹è¯çš„4å¤§æŒ‘æˆ˜" loading="lazy"/>
è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬ä¾æ¬¡æ¥å°è¯•è§£å†³ä¸€ä¸‹ï¼Œä¸‹é¢çš„æ•´ä½“æ€è·¯ï¼Œæ˜¯ç»“åˆäº†<code>bert</code>æ—¶ä»£çš„çŠ¶æ€æœºç®¡ç†ï¼ˆæˆ–è€…è¯´å¯¹è¯çŠ¶æ€è·Ÿè¸ªï¼‰å’Œå¤§æ¨¡å‹çš„è¯­ä¹‰ç†è§£ã€åˆ†ç±»ã€ä¿¡æ¯æå–ç­‰ç›¸å…³èƒ½åŠ›ã€‚
ä¸ºä»€ä¹ˆè¦ç”¨çŠ¶æ€æœºå‘¢ï¼Ÿ
æˆ‘è®¤ä¸ºï¼Œå¯¹äºç§æœ‰åŒ–æ¨¡å‹æ¥è¯´ï¼Œä¸€èˆ¬éƒ½æ˜¯å¼€æºçš„ï¼Œä¸æ˜¯æœ€å¥½çš„æ¨¡å‹ã€‚äºŒæ˜¯ï¼Œå¤§æ¨¡å‹æ˜¯åŸºäºæ¦‚ç‡çš„ï¼Œä¸Šä¸‹æ–‡ã€ä»»åŠ¡çŠ¶æ€å¾ˆå®¹æ˜“ä¸¢å¤±ï¼Œä¸€æ—¦å¯¹è¯è¿‡ç¨‹ï¼Œå³ä¾¿æ˜¯Geminiã€‚å¦å¤–ä¸€ç‚¹å°±æ˜¯ï¼Œæˆ‘åœ¨é‡‘èè¡Œä¸šï¼Œé‡‘èè¡Œä¸šå¯¹åˆè§„æ€§æ›´åŠ é‡è§†ï¼Œéœ€è¦å¯é å¯æ§çš„è¾“å‡ºç»“æœã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a10362eba734fe292779cf127de4a92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=VY%2Fgge8f3PG6bJNWdBHN9oaEz5w%3D" alt="çŠ¶æ€æœºçš„æ ¸å¿ƒä»·å€¼" loading="lazy"/>
ä½¿ç”¨çŠ¶æ€æœºï¼Œæ˜¯ä¸ºäº†æ˜¾ç¤ºçš„æ ‡è¯†å½“å‰ä»»åŠ¡çš„çŠ¶æ€ã€‚
æˆ‘è®¤ä¸ºåœ¨æç¤ºè¯é‡Œé¢æ ‡è¯†ä¸€ä¸‹ï¼Œè‚¯å®šè¦æ¯”å•çº¯ä½¿ç”¨LLMæœ¬èº«çš„è®°å¿†ï¼Œèƒ½æ›´å¥½çš„æå‡ä»»åŠ¡å®Œæˆç‡ã€‚
æ¯”å¦‚æç¤ºï¼š#å½“å‰çŠ¶æ€æ˜¯æŸ¥è¯¢å¤©æ°”ä¿¡æ¯æ”¶é›†ä¸­ã€‚</p>
<p>æˆ‘ä»¬ç°åœ¨è¿›å…¥æ­£é¢˜ï¼Œä¸€æ­¥æ­¥å¼€å§‹è§£å†³ã€‚å½“ç„¶ï¼Œä»ç„¶æ˜¯ç”¨difyæ¼”ç¤ºï¼Œä½†æ˜¯å…¶ä»–çš„å·¥ä½œæµå·¥å…·ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚</p>
<h2 data-id="heading-0">1. ä¼˜åŒ–é—®é¢˜æ”¹å†™èŠ‚ç‚¹</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/086dac3ceb884a82a6b20bd0f538f97d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=%2BUKGGaKDPddn1V2Y03IzmL%2F2uX4%3D" alt="å¯¹è¯å†å²æ”¶é›†" loading="lazy"/>
è§£å†³ä¸¢å¤±ç³»ç»Ÿå›ç­”ï¼Œæ— æ³•å‡†ç¡®ç†è§£ç”¨æˆ·é—®é¢˜çš„æƒ…å†µã€‚æˆ‘çš„æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨äº†ä»£ç èŠ‚ç‚¹ï¼Œåœ¨æ‰€æœ‰çš„ç›´æ¥å›å¤èŠ‚ç‚¹åé¢æ–°å¢ä»£ç èŠ‚ç‚¹ï¼Œç„¶åèµ‹å€¼ç»™ä¼šè¯å˜é‡ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5701c98ea67e42aabecb81fd83bcd40d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=AbJ3yicvPXZKBmPXiEdIdtR79Wc%3D" alt="" loading="lazy"/>
æœ€ç»ˆçš„æ•ˆæœæ˜¯è¿™ä¸ªæ ·å­çš„ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">user: å¤©æ°”å’‹æ ·å•Š
<span class="hljs-section">assistant: è¯·é—®æ‚¨æƒ³æŸ¥è¯¢å“ªä¸ªåŸå¸‚çš„å¤©æ°”å‘¢ï¼Ÿ
---</span>
user: åŒ—äº¬
<span class="hljs-section">assistant: æ²¡é—®é¢˜ï¼Œè¯·é—®æ‚¨æƒ³æŸ¥è¯¢åŒ—äº¬å“ªä¸€å¤©çš„å¤©æ°”å‘¢ï¼Ÿ
---</span>
user: ä»Šå¤©çš„
assistant: åŒ—äº¬ Â· 2026-01-21 Â 
æ™´ Â 
-5â„ƒ ~ 4â„ƒ Â 
è¥¿åŒ—é£3çº§ ï½œ æ¹¿åº¦42% Â 
æ—©æ™šæ¸©å·®å¤§ï¼Œå¤–å‡ºæ³¨æ„ä¿æš–ã€‚
</code></pre>
<p>ä¸Šé¢çš„å†…å®¹æ˜¯ä¼šè¯å˜é‡historyï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ—¶å€™ï¼Œè®°å¾—åˆ›å»ºä¸ºstrç±»å‹ã€‚å˜é‡èµ‹å€¼æ—¶ï¼Œé€‰æ‹©è¦†ç›–ã€‚
è¿™æ˜¯ä»£ç èŠ‚ç‚¹çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">old_history: <span class="hljs-built_in">str</span>, user_query: <span class="hljs-built_in">str</span>, **kwargs</span>) -&gt; <span class="hljs-built_in">dict</span>:
    <span class="hljs-string">"""
    è¯¥å‡½æ•°ç”¨äºæ ¼å¼åŒ–å¹¶å­˜å‚¨å¯¹è¯å†å²ï¼Œæœ€å¤šä¿ç•™æœ€è¿‘ 5 è½®å¯¹è¯ã€‚
    :param old_history: ä¹‹å‰çš„å¯¹è¯å†å²å­—ç¬¦ä¸²
    :param user_query: å½“å‰ç”¨æˆ·çš„æé—®
    :param kwargs: åŠ¨æ€æ¥æ”¶æ¥è‡ªä¸Šæ¸¸èŠ‚ç‚¹çš„å›ç­”ï¼ˆassistant å›ç­”ï¼‰
    :return: åŒ…å«æ›´æ–°åå†å²è®°å½•çš„å­—å…¸
    """</span>  
    <span class="hljs-comment"># 1. åˆå§‹åŒ–å½“å‰å›ç­”</span>
    current_answer = <span class="hljs-string">""</span>   
    <span class="hljs-comment"># 2. è‡ªåŠ¨åˆ†æ‹£ï¼šå¯»æ‰¾é‚£ä¸ªâ€œçœŸæ­£è¯´è¯äº†â€çš„åˆ†æ”¯ï¼ˆä»ä¸Šæ¸¸å˜é‡ä¸­æå–éç©ºå›ç­”ï¼‰</span>
    <span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> kwargs.items():
        <span class="hljs-keyword">if</span> value <span class="hljs-keyword">and</span> <span class="hljs-built_in">str</span>(value).strip() <span class="hljs-keyword">and</span> <span class="hljs-built_in">str</span>(value).lower() != <span class="hljs-string">"none"</span>:
            current_answer = <span class="hljs-built_in">str</span>(value).strip()
            <span class="hljs-keyword">break</span>          
    <span class="hljs-comment"># 3. ç©ºå€¼ä¿æŠ¤ï¼šå¦‚æœæ²¡æ‰¾åˆ°ä»»ä½•å›ç­”æˆ–ç”¨æˆ·æé—®ä¸ºç©ºï¼ŒåŸæ ·è¿”å›æ—§è´¦</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> current_answer <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> user_query:
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"result"</span>: old_history <span class="hljs-keyword">or</span> <span class="hljs-string">""</span>}
    <span class="hljs-comment"># 4. æ ¼å¼åŒ–å½“å‰è½®æ¬¡</span>
    <span class="hljs-comment"># åœ¨ user å’Œ assistant ä¹‹é—´å¢åŠ  \n\nï¼Œåœ¨å¯¹è¯å—å‰åä¿æŒæ¸…æ™°ç•Œé™</span>
    new_turn = <span class="hljs-string">f"user: <span class="hljs-subst">{user_query.strip()}</span>\n\nassistant: <span class="hljs-subst">{current_answer.strip()}</span>"</span>
    <span class="hljs-comment"># 5. å®šä¹‰åˆ†éš”ç¬¦ï¼ˆç”¨äºåŒºåˆ†æ¯ä¸€è½®å¯¹è¯ï¼‰</span>
    separator = <span class="hljs-string">"\n\n---\n\n"</span>
    <span class="hljs-comment"># 6. ç¼åˆé€»è¾‘</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> old_history <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">str</span>(old_history).strip():
        full_history = new_turn
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># å»æ‰æ—§å†å²æœ«å°¾å¯èƒ½å­˜åœ¨çš„ç©ºæ ¼æˆ–æ¢è¡Œï¼Œå†è¿›è¡Œç¼åˆ</span>
        full_history = <span class="hljs-string">f"<span class="hljs-subst">{old_history.strip()}</span><span class="hljs-subst">{separator}</span><span class="hljs-subst">{new_turn}</span>"</span>   
    <span class="hljs-comment"># 7. æˆªæ–­é€»è¾‘ï¼šåªä¿ç•™æœ€è¿‘ 10 è½®</span>
    <span class="hljs-comment"># ä½¿ç”¨å®šä¹‰å¥½çš„ separator è¿›è¡Œç²¾å‡†åˆ‡å‰²</span>
    history_list = full_history.split(separator)
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(history_list) &gt; <span class="hljs-number">10</span>:
        <span class="hljs-comment"># åªå–æœ€å 10 ä¸ªå…ƒç´ </span>
        history_list = history_list[-<span class="hljs-number">10</span>:]      
    <span class="hljs-comment"># 8. é‡æ–°ç»„è£…æœ€ç»ˆè¾“å‡º</span>
    final_output = separator.join(history_list)
    <span class="hljs-comment"># è¿”å› Dify è¦æ±‚çš„å­—å…¸æ ¼å¼</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"result"</span>: final_output
    }
</code></pre>
<p>å…³äºå¯¹è¯å†…å®¹è¿™é‡Œï¼Œæˆ‘ä»¬ç®€å•ç²—æš´çš„é‡‡å–äº†ç±»ä¼¼è®°å¿†èŠ‚ç‚¹çš„ä¸¢å¤±ç­–ç•¥ï¼Œå°±æ˜¯å¤§äº10çš„è¯ï¼Œæˆ‘ä»¬å°±ä¼šæŠŠåŸæ¥çš„ä¸¢å¼ƒã€‚ä¸»è¦æ˜¯è€ƒè™‘åˆ°å“åº”æ—¶é—´çš„é—®é¢˜ã€‚
åœ¨æ­£å¼ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿™ä¸ªä½ç½®ï¼Œæˆ‘è®¤ä¸ºï¼Œåº”è¯¥æä¸€ä¸ªè®°å¿†èŠ‚ç‚¹ï¼Œé‡‡å–å‹ç¼©ç­–ç•¥ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¸¢å¼ƒã€‚å°†è¶…è¿‡å¤šå°‘è½®çš„å¯¹è¯ï¼Œèµ°ä¸€ä¸‹è®°å¿†åˆ†æ”¯ï¼Œè¿›è¡Œå‹ç¼©ã€‚
è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†æ‰€æœ‰çš„å†…å®¹ï¼Œéƒ½è¾“å…¥åˆ°queryæ”¹å†™èŠ‚ç‚¹ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e46aa66211fa4f8ab228caaf905433d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=Hv33VeGzdrKf66T5Wit3wsl8fVQ%3D" alt="queryæ”¹å†™èŠ‚ç‚¹é…ç½®" loading="lazy"/></p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•ç¡®ä¿å‡†ç¡®ç†è§£ç”¨æˆ·é—®é¢˜ï¼Œç¡®ä¿æ”¹å†™æ­£ç¡®ã€‚</p>
<h2 data-id="heading-1">2. å¼•å…¥çŠ¶æ€æœºï¼Œå®ç°å¤šè½®å¯¹è¯</h2>
<p>é¦–å…ˆï¼Œå¤§å®¶ä¸è¦è¢«çŠ¶æ€æœºè¿™ä¸‰ä¸ªå­—å“åˆ°å“ˆã€‚
å…¶å®å¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬æœ‰ä¸€ä¸ªç¬”è®°æœ¬ï¼Œä¸Šé¢è®°ç€æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…ï¼ˆto do listï¼‰ï¼Œå’Œåšæˆè¿™ä»¶äº‹æƒ…æ‰€å¿…é¡»çš„ä¸œè¥¿ï¼ˆå‚æ•°ï¼‰ã€‚</p>
<p>æŒ‰ç…§ä¸Šä¸€ä»£æ™ºèƒ½å®¢æœçš„åˆ†ç±»æ¥è¯´ï¼Œé€šå¸¸ï¼Œæˆ‘ä»¬å°†ç”¨æˆ·çš„é—®é¢˜åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š
FAQã€è½¬äººå·¥ã€å•è½®ä»»åŠ¡ã€å¤šè½®ä»»åŠ¡ã€é—²èŠç­‰ã€‚
FAQç”¨å¤§æ¨¡å‹æ¥åšï¼Œå°±æ˜¯ç»“åˆRAGçŸ¥è¯†åº“è¿›è¡Œå›ç­”ã€‚
è½¬äººå·¥å°±æ˜¯æ™ºèƒ½å®¢æœè§£å†³ä¸äº†ï¼Œæˆ–è€…å¿…é¡»ç”±äººå·¥å®¢æœå®Œæˆçš„éœ€æ±‚ã€‚
å•è½®ä»»åŠ¡ï¼Œæ˜¯ç±»ä¼¼ç”¨å®Œå³èµ°çš„ã€‚æ¯”å¦‚é“¶è¡Œé¢†åŸŸï¼Œåªè¦å®¢æˆ·ç™»å½•äº†ï¼Œå®¢æˆ·é—®ä¸€å¥ï¼Œæˆ‘çš„è´¦æˆ·ä½™é¢æ˜¯å¤šå°‘ã€‚ç³»ç»Ÿå…¶å®åªéœ€è¦æ ¡éªŒç™»å½•æ€å³å¯ã€‚æ ¡éªŒå®Œæˆï¼Œä¸éœ€è¦å…¶ä»–ä»»ä½•ä¿¡æ¯å°±å¯ä»¥å®Œæˆä»»åŠ¡ï¼Œç›´æ¥å›å¤ç­”æ¡ˆã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c8c15b488ed479ca42ea0f3aecf2978~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=XS5K58yLpilIl84XhzNmuiSMv1E%3D" alt="é—®é¢˜åˆ†ç±»" loading="lazy"/>
éš¾åº¦æ¯”è¾ƒå¤§çš„æ˜¯å¤šè½®ä»»åŠ¡ï¼Œå› ä¸ºå¤šè½®ä»»åŠ¡å¾€å¾€éœ€è¦å’Œå®¢æˆ·ç¡®è®¤å¾ˆå¤šä¿¡æ¯ã€‚ä»¥æŸ¥è¯¢å¤©æ°”ä¸ºä¾‹ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ç”¨æˆ·è¦æŸ¥è¯¢å“ªé‡Œçš„å¤©æ°”ä»¥åŠæ—¶é—´ã€‚
åœ¨æ™ºèƒ½å®¢æœé¢†åŸŸï¼Œå¤§éƒ¨åˆ†çš„å®¢æˆ·æ¥è¿™é‡Œå’¨è¯¢åŸºæœ¬éƒ½æ˜¯1-3ä¸ªä¸»é¢˜ï¼Œç”¨å®Œå³èµ°ã€‚ä½†æ˜¯ä¹Ÿæœ‰éƒ¨åˆ†å®¢æˆ·ï¼Œä¼šå’¨è¯¢å¾ˆå¤šé—®é¢˜ã€‚æ‰€ä»¥å°±æœ‰å¯èƒ½å‡ºç°ä¸‹é¢çš„æƒ…å†µï¼š</p>









































<table><thead><tr><th><strong>è½®æ¬¡</strong></th><th><strong>ç”¨æˆ·è¾“å…¥</strong></th><th><strong>LLMï¼ˆè¯­ä¹‰æå–ä¸æ„å›¾æ˜ å°„ï¼‰</strong></th><th><strong>çŠ¶æ€æœºç³»ç»Ÿï¼ˆæ•°æ®ç»“æ„ç»´æŠ¤ï¼‰</strong></th></tr></thead><tbody><tr><td><strong>01</strong></td><td>â€œä¸‹å‘¨ä¸‰æˆ‘æƒ³ä»æˆéƒ½å¼€è½¦å»æ‹‰è¨ã€‚â€</td><td><strong>æ˜ å°„ä»»åŠ¡ï¼š</strong> <code>è·¯å¾„è§„åˆ’</code> <strong>æå–æ§½ä½ï¼š</strong> <code>from: æˆéƒ½</code>, <code>to: æ‹‰è¨</code>, <code>date: 2026-01-28</code></td><td><strong>åˆå§‹åŒ–ï¼š</strong> åˆ›å»º <code>task_id: 451425c2</code>ï¼Œå‹å…¥ <code>task_stack</code>ã€‚ <strong>é”é€»è¾‘ï¼š</strong> <code>global_intent_lock</code> è®¾ç½®ä¸º <strong>LOCKED</strong>ã€‚</td></tr><tr><td><strong>02</strong></td><td>â€œé‚£è¾¹ç°åœ¨å†·å—ï¼Ÿæ¨èä¸ªä¿é™©å§ã€‚â€</td><td><strong>æ˜ å°„ä»»åŠ¡ï¼š</strong> <code>æŠ•ä¿å’¨è¯¢</code> <strong>æå–æ§½ä½ï¼š</strong> <code>type: æ—…æ¸¸é™©</code> <strong>è¯†åˆ«èƒŒæ™¯ï¼š</strong> ç”¨æˆ·æåŠâ€œå†·â€ï¼Œå…³è”é«˜åŸç¯å¢ƒã€‚</td><td><strong>ä»»åŠ¡å‹æ ˆï¼š</strong> <code>task_stack</code> é¡¶éƒ¨æ–°å¢ <code>æŠ•ä¿</code> ä»»åŠ¡ã€‚å½“å‰ <code>current_task</code> åˆ‡æ¢ä¸ºä¿é™©ã€‚ <strong>çŠ¶æ€è®°å½•ï¼š</strong> <code>stage</code> è®¾ä¸º <strong>COLLECTING</strong>ï¼Œæ­¤æ—¶ <code>slots</code> ä¸­ <code>high_risk_confirm</code>ï¼ˆé«˜é£é™©ç¡®è®¤ï¼‰ä¸º <code>null</code>ã€‚</td></tr><tr><td><strong>03</strong></td><td>â€œä¼šæœ‰é«˜åŸååº”å—ï¼Ÿä¿é™©ç®¡è¿™ä¸ªå—ï¼Ÿâ€</td><td><strong>è§£ææ„å›¾ï¼š</strong> çŸ¥è¯†é—®ç­”ï¼ˆFAQï¼‰ <strong>æå–æ§½ä½ï¼š</strong> æ— æ–°æ§½ä½ã€‚</td><td><strong>ä¸­æ–­å¤„ç†ï¼š</strong> ç³»ç»Ÿè¯†åˆ«åˆ°è¿™æ˜¯ä¸´æ—¶æé—®ã€‚çŠ¶æ€æœº<strong>æŒ‚èµ·</strong>å½“å‰æŠ•ä¿ä»»åŠ¡ï¼Œå…è®¸ LLM å›ç­” FAQï¼Œä½†ä¸æ”¹å˜ <code>current_task</code> çš„ä»»åŠ¡ IDã€‚</td></tr><tr><td><strong>04</strong></td><td>â€œè¡Œï¼Œé‚£ä¹°ä¸€ä»½å§ã€‚â€</td><td><strong>è§£ææ„å›¾ï¼š</strong> ç¡®è®¤æŠ•ä¿ã€‚ <strong>LLM å±€é™ï¼š</strong> LLM å¯èƒ½ä¼šç›´æ¥è·³åˆ°æ”¯ä»˜ã€‚</td><td><strong>é€»è¾‘æ‹¦æˆªï¼š</strong> çŠ¶æ€æœºæ£€æŸ¥ <code>current_task_slots</code>ã€‚å‘ç°â€œé«˜é£é™©è¿åŠ¨ç¡®è®¤â€ä»ä¸º <code>null</code>ã€‚ <strong>å¼ºåˆ¶æ‰§è¡Œï¼š</strong> çŠ¶æ€æœºæ‹’ç»è¿›å…¥ <code>EXECUTING</code> é˜¶æ®µï¼Œå¼ºåˆ¶å°† <code>stage</code> ä¿æŒåœ¨ <strong>COLLECTING</strong>ï¼Œå¹¶æŒ‡ä»¤å›å¤â€œè¯·ç¡®è®¤æ˜¯å¦åŒ…å«æ”€ç™»ç­‰é«˜é£é™©è¿åŠ¨â€ã€‚</td></tr><tr><td><strong>05</strong></td><td>â€œä¸å»äº†ï¼Œæ”¹å»ä¸‰äºšï¼Œé‚£è¾¹æš–å’Œã€‚â€</td><td><strong>è§£ææ„å›¾ï¼š</strong> å…¨å±€æ„å›¾å˜æ›´ã€‚ <strong>æå–æ§½ä½ï¼š</strong> <code>to: ä¸‰äºš</code></td><td><strong>çº§è”æ›´æ–°ï¼š</strong> è§¦å‘ <code>__updated_variables</code>ã€‚çŠ¶æ€æœºæ¸…ç©ºæ ˆå†…ä¸â€œé«˜åŸâ€ç›¸å…³çš„ä¿é™©å­ä»»åŠ¡ã€‚ <strong>æ¢å¤ä¸»ä»»åŠ¡ï¼š</strong> é‡æ–°å®šä½åˆ° <code>è·¯å¾„è§„åˆ’</code>ï¼Œå°† <code>to</code> ä»æ‹‰è¨æ”¹ä¸ºä¸‰äºšã€‚</td></tr></tbody></table>
<p>æ‰€ä»¥å°±æƒ³æˆ‘å¼€å¤´ä¸¾çš„ä¾‹å­ï¼Œç”¨æˆ·çš„æ§½ä½ä¿¡æ¯ä¸€ç›´åœ¨å˜åŠ¨ï¼Œæ‰€ä»¥å…¨é å¤§æ¨¡å‹æ¥å¹²ï¼Œç›¸å¯¹äºå†™åˆ°ä»£ç æˆ–è€…ç”¨å‚æ•°å€¼æ¥ä¿å­˜ï¼Œåœ¨æç¤ºè¯ä¸­å¼•ç”¨æœ€æ–°çš„æ§½ä½å’Œä»»åŠ¡çŠ¶æ€æ¥è¯´ï¼Œä»»åŠ¡å®Œæˆç‡è‚¯å®šç›¸å¯¹æ¥è¯´ä¼šæœ‰å¾ˆå¤§çš„æå‡ã€‚
å› æ­¤æˆ‘ä»¬å¼•å…¥çŠ¶æ€æœºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf9bd1403b634460ad439ba765fe36e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=Zd3j0B7C2irw%2FFeHC5bsycFgJ5A%3D" alt="çŠ¶æ€æœºdifyå·¥ä½œæµ" loading="lazy"/></p>
<p>åœ¨è¿™é‡Œï¼Œè¿˜æ˜¯ä¸»è¦ä½¿ç”¨ä¼šè¯å˜é‡æ¥è¿›è¡Œå‚æ•°åŠå‚æ•°å€¼çš„å­˜å‚¨ï¼Œä½¿ç”¨ä»£ç èŠ‚ç‚¹æ¥è¿›è¡ŒçŠ¶æ€æœºçš„ç»´æŠ¤ï¼Œä½¿ç”¨å˜é‡èµ‹å€¼èŠ‚ç‚¹æ¥è¿›è¡Œä¼šè¯å˜é‡çš„æ›´æ–°ã€‚
æ³¨æ„ï¼Œæˆ‘æ‰€æœ‰çš„å˜é‡åœ¨è¿™é‡Œä½¿ç”¨çš„éƒ½æ˜¯strç±»å‹ï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰ï¼Œæœ¬æ¥æƒ³ä½¿ç”¨jsonï¼Œä½†æ˜¯jsonæœ‰ä¸¤ä¸ªåœ°æ–¹åœ¨difyé‡Œé¢ä¸å¤ªå¥½ã€‚ä¸€æ˜¯jsonçš„å±æ€§ä¸æ”¯æŒåµŒå¥—ï¼›äºŒæ˜¯jsonä¸æ”¯æŒç›´æ¥åœ¨llmçš„æç¤ºè¯ä¸­å¼•ç”¨ã€‚æ‰€ä»¥æˆ‘ç»Ÿä¸€ä½¿ç”¨äº†strã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0bf33de09424515bde843040e2e2a4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=xeS2Pl1WuG7ndNaYjEBWUQaqxSM%3D" alt="ä¼šè¯å˜é‡" loading="lazy"/></p>
<p><code>current_task_slots</code>æ˜¯å½“å‰ä»»åŠ¡çš„è¯æ§½ä¿¡æ¯æˆ–è€…è¯´ï¼Œæˆ‘æ”¶é›†çš„éœ€è¦ä¿¡æ¯ï¼Œæ‰èƒ½å»è°ƒç”¨å·¥å…·æ¥è¿›è¡ŒæŸ¥è¯¢ã€‚
<code>current_task</code>æ˜¯å½“å‰çš„ä»»åŠ¡ã€‚
<code>sys_context_str</code>é‡Œé¢æ˜¯å…¨é‡çš„ä¿¡æ¯ï¼ŒåŒ…å«äº†</p>



























































<table><thead><tr><th><strong>å‚æ•°åç§°</strong></th><th><strong>è§’è‰²</strong></th><th><strong>ç”Ÿæ´»åœºæ™¯ç±»æ¯”ï¼ˆç†å‘åº—ï¼‰</strong></th><th><strong>ä¸“ä¸šä½œç”¨ä¸æ¡ˆä¾‹</strong></th></tr></thead><tbody><tr><td><strong><code>global_intent_lock</code></strong></td><td><strong>çŠ¶æ€é” / å¿™ç¢ŒæŒ‡ç¤ºç¯</strong></td><td><strong>ç†å‘å¸ˆå·¥ä½ä¸Šçš„â€œæ­£åœ¨æœåŠ¡/ç©ºé—²â€æŒ‡ç¤ºç‰Œ</strong></td><td><strong>ä½œç”¨ï¼š</strong> è¿™æ˜¯ä¸€ä¸ªå…¨å±€æ ‡è®°ï¼Œç”¨æ¥å‘Šè¯‰ç³»ç»Ÿå½“å‰æ˜¯å¦â€œè¢«å ç”¨â€ã€‚<br/><br/>  <br/><br/>é˜²æ­¢åœ¨å¤„ç†å¤æ‚ä»»åŠ¡æ—¶ï¼Œè¢«ç”¨æˆ·çš„éšæ„æ’è¯æ‰“æ–­æ ¸å¿ƒæµç¨‹ã€‚<br/><br/>  <br/>  <br/><br/><strong>æ¡ˆä¾‹ï¼š</strong> å€¼æ˜¯ <code>LOCKED</code>ï¼ˆçº¢ç¯ï¼‰ï¼Œè¡¨ç¤ºTonyè€å¸ˆæ­£åœ¨å‰ªå‘ï¼Œæš‚æ—¶ä¸æ¥æ–°å®¢ï¼›å€¼æ˜¯ <code>UNLOCKED</code>ï¼ˆç»¿ç¯ï¼‰ï¼Œè¡¨ç¤ºéšæ—¶å¯ä»¥æ¥å•ã€‚</td></tr><tr><td><strong><code>current_task_id</code></strong></td><td><strong>å½“å‰ä»»åŠ¡ID / æµæ°´å·</strong></td><td><strong>ç†å‘å¸ˆæ‰‹é‡Œæ‹¿ç€çš„é‚£å¼ â€œæ’é˜Ÿå·å°ç¥¨â€</strong></td><td><strong>ä½œç”¨ï¼š</strong> å”¯ä¸€æ ‡è¯†å½“å‰æ­£åœ¨å¤„ç†çš„é‚£ä¸€ä¸ªä»»åŠ¡ï¼Œç”¨äºç³»ç»Ÿè¿½è¸ªå’Œæ—¥å¿—è®°å½•ã€‚<br/><br/>  <br/><br/>ä¸ç®¡ä½ åœ¨ä»»åŠ¡æ ˆé‡Œå‹äº†å¤šå°‘äº‹ï¼Œç³»ç»Ÿåªè®¤è¿™ä¸€ä¸²IDä½œä¸ºå½“å‰ç„¦ç‚¹ã€‚<br/><br/>  <br/>  <br/><br/><strong>æ¡ˆä¾‹ï¼š</strong> æ¯”å¦‚ <code>a1b2c3d4</code>ã€‚å¦‚æœç³»ç»ŸæŠ¥é”™ï¼Œå·¥ç¨‹å¸ˆå¯ä»¥é€šè¿‡è¿™ä¸ªIDåœ¨åå°æŸ¥åˆ°è¿™ç¬”â€œè®¢å•â€çš„æ‰€æœ‰æ“ä½œè®°å½•ã€‚</td></tr><tr><td><strong><code>task_stack</code></strong></td><td><strong>è®°å¿†æ ˆ / å¾…åŠäº‹é¡¹æ¸…å•</strong></td><td><strong>å‰å°æ¿å¤¹ä¸Šå¤¹ç€çš„ä¸€å â€œæœåŠ¡å•â€</strong></td><td><strong>ä½œç”¨ï¼š</strong> è¿™æ˜¯<strong>å¤šè½®å¯¹è¯çš„çµé­‚</strong>ã€‚å®ƒæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼ˆListï¼‰ï¼ŒæŒ‰é¡ºåºè®°å½•äº†ç”¨æˆ·æœªå®Œæˆçš„æ‰€æœ‰éœ€æ±‚ã€‚é‡‡ç”¨â€œåè¿›å…ˆå‡ºâ€åŸåˆ™ï¼Œæœ€åè¿›æ¥çš„éœ€æ±‚æœ€å…ˆå¤„ç†ã€‚<br/><br/>  <br/>  <br/><br/><strong>æ¡ˆä¾‹ï¼š</strong><br/><br/>  <br/><br/>1. åº•å±‚å•å­ï¼šæŸ¥å¤©æ°”ï¼ˆæš‚æŒ‚èµ·ï¼‰<br/><br/>  <br/><br/>2. é¡¶å±‚å•å­ï¼šæŸ¥è·¯çº¿ï¼ˆæ­£åœ¨åšï¼‰<br/><br/>  <br/><br/>å½“æŸ¥è·¯çº¿åšå®Œåï¼Œè¿™å¼ å•å­è¢«æ’•æ‰ï¼Œç†å‘å¸ˆå°±ä¼šçœ‹åˆ°ä¸‹é¢é‚£å¼ â€œæŸ¥å¤©æ°”â€çš„å•å­ï¼Œç»§ç»­æœåŠ¡ã€‚</td></tr><tr><td><strong><code>slots</code></strong><br/><br/>  <br/><br/><em>(ä½äº task_stack å†…éƒ¨)</em></td><td><strong>æ§½ä½ä¿¡æ¯ / éœ€æ±‚å¡«ç©ºè¡¨</strong></td><td>æœåŠ¡å•ä¸Šå…·ä½“çš„å‹¾é€‰æ ï¼š<br/><br/>  <br/><br/>â€œæ´—å‰ªå¹ï¼ŸæŸ“å‘ï¼Ÿä»€ä¹ˆé¢œè‰²ï¼Ÿâ€</td><td><strong>ä½œç”¨ï¼š</strong> å…·ä½“çš„ä¸šåŠ¡æ•°æ®å®¹å™¨ã€‚æœºå™¨äººå¤šè½®è¿½é—®çš„è¿‡ç¨‹ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸ºäº†æŠŠè¿™äº›ç©ºå¡«æ»¡ã€‚<br/><br/>  <br/>  <br/><br/><strong>æ¡ˆä¾‹ï¼š</strong><br/><br/>  <br/><br/>åœ¨â€œæŸ¥å¤©æ°”â€çš„ä»»åŠ¡é‡Œï¼Œ<code>slots</code> å°±æ˜¯ä¸€å¼ è¡¨ï¼š<br/><br/>  <br/><br/><code>{ city: "åŒ—äº¬", date: null }</code>ã€‚<br/><br/>  <br/><br/>å› ä¸º <code>date</code> æ˜¯ç©ºï¼Œæœºå™¨äººä¸‹ä¸€å¥å°±ä¼šé—®ï¼šâ€œè¯·é—®æ‚¨è¦æŸ¥å“ªä¸€å¤©çš„ï¼Ÿâ€</td></tr><tr><td><strong><code>stage</code></strong><br/><br/>  <br/><br/><em>(ä½äº task_stack å†…éƒ¨)</em></td><td><strong>ä»»åŠ¡é˜¶æ®µ / è¿›åº¦æ¡</strong></td><td>æœåŠ¡å•ä¸Šçš„å°ç« çŠ¶æ€ï¼š<br/><br/>  <br/><br/>â€œå¾…æœåŠ¡â€ã€â€œè¿›è¡Œä¸­â€ã€â€œå·²å®Œç»“â€</td><td><strong>ä½œç”¨ï¼š</strong> æ§åˆ¶ä»»åŠ¡çš„ç”Ÿå‘½å‘¨æœŸã€‚åªæœ‰æ ‡è®°ä¸º <code>DONE</code> çš„ä»»åŠ¡æ‰ä¼šè¢«ç³»ç»Ÿæ¸…ç†æ‰ã€‚<br/><br/>  <br/>  <br/><br/><strong>æ¡ˆä¾‹ï¼š</strong><br/><br/>  <br/><br/><code>COLLECTING</code>ï¼šè¿˜åœ¨é—®ç”¨æˆ·è¦ä¿¡æ¯ï¼ˆå‰ªå‘ä¸­ï¼‰ã€‚<br/><br/>  <br/><br/><code>DONE</code>ï¼šä¿¡æ¯æ”¶é½äº†ï¼Œå¯ä»¥ç»™ç»“æœäº†ï¼ˆå‰ªå®Œæ´—å¤´é€å®¢ï¼‰ã€‚</td></tr><tr><td>çœ‹èµ·æ¥è¿˜æ˜¯å¾ˆå¤æ‚å“ˆï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰æŠŠå¤§å®¶ç»™åŠé€€äº†ã€‚æˆ‘ä»¬ä¸€æ­¥æ­¥æ‹†è§£ä¸€ä¸‹ã€‚</td><td/><td/><td/></tr><tr><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce6634950a914cce98ea2b9b65aa6927~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=u%2F6AXG2iHLH649zRbIFyzdYOlH8%3D" alt="çŠ¶æ€æœºæ ¸å¿ƒ" loading="lazy"/></td><td/><td/><td/></tr><tr><td>ç”¨æˆ·è¾“å…¥ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘éœ€è¦ç»“åˆå†å²çš„å¯¹è¯ä¿¡æ¯å¯¹è¿™ä¸ªé—®é¢˜è¿›è¡Œæ”¹å†™ï¼Œè¿™æ ·å‘¢ï¼Œå°±å˜ç›¸çš„å®ç°äº†llmçš„è®°å¿†ã€‚æ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§æ€è·¯ï¼Œæˆ‘ä»¬è‚¯å®šéœ€è¦ä¸€ä¸ªè·¯ç”±ï¼Œæ¥åŒºåˆ†ç”¨æˆ·çš„é—®é¢˜åˆ°åº•æ˜¯åˆ†ç»™è°æ¥å¤„ç†ï¼Œç”¨æˆ·çš„é—®é¢˜æ˜¯ä¸€ä¸ªFAQï¼Ÿä¸€ä¸ªå•è½®ä»»åŠ¡ï¼Ÿè¿˜æ˜¯è¦æ±‚è½¬äººå·¥å‘¢ï¼Ÿ</td><td/><td/><td/></tr></tbody></table>
<p>æ‰€ä»¥æˆ‘ä»¬å°±æœ‰äº†è¿™æ ·çš„å·¥ä½œæµçš„å¼€å¤´ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ba775db3f194b38ab22a240b2e15f3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=Cq3lL8Jd7qLbA713kIVLgn4B1ps%3D" alt="é—®é¢˜åˆ†ç±»åŠè·¯ç”±" loading="lazy"/></p>
<p>å¾ˆå¥½ï¼Œç°åœ¨æˆ‘ä»¬çŸ¥é“ç”¨æˆ·è¿™æ¬¡æƒ³è¦åšä»€ä¹ˆäº†ï¼ŒçŸ¥é“è¯¥ç»™è°äº†ï¼Œä½†æ˜¯æˆ‘ä»¬åˆšåˆšæäº†ä¸€ä¸ªç¬”è®°æœ¬ï¼Œæ‰€ä»¥è¿™é‡Œå°±è¦æŠ“ç´§å»ç»´æŠ¤ä¸€ä¸‹ç¬”è®°æœ¬çš„çŠ¶æ€ã€‚ä½†æ˜¯å¤§å®¶ä¹Ÿçœ‹åˆ°äº†åˆšåˆšçš„ç¬”è®°æœ¬ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬ä¸èƒ½ç”¨ç®€å•çš„å˜é‡è¿½åŠ ã€è¦†ç›–å¤„ç†ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªä»£ç èŠ‚ç‚¹æ¥åšè¿™ä¸ªäº‹æƒ…ã€‚ä»£ç èŠ‚ç‚¹ï¼Œæ›´æ–°å®Œç¬”è®°çš„å†…å®¹ï¼Œæˆ‘ä»¬è¦å†™ä¸‹æ¥ï¼Œæ‰€ä»¥éœ€è¦å˜é‡èµ‹å€¼èŠ‚ç‚¹èµ‹å€¼ç»™ä¼šè¯å˜é‡ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d8215afa85f441191c7cf70cec3d70a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=0QhCcNyq0dAnyBxKJ7SLjMPRSj8%3D" alt="ä»£ç èŠ‚ç‚¹ç»´æŠ¤çŠ¶æ€æœº" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc602653a00a404ab648b46bae85967c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=%2FDyulVp9ouHYjbJ9xSfx7g7c5yM%3D" alt="çŠ¶æ€æœºæ ¸å¿ƒç®¡ç†" loading="lazy"/></p>
<p>okï¼Œè‡³æ­¤ï¼Œå…¶å®æœ¬æ¬¡å¤šè½®å¯¹è¯çš„æ ¸å¿ƒå‡çº§å°±å®Œæˆäº†ã€‚ä¸‹é¢éƒ½æ˜¯ä¸ºäº†é€»è¾‘æ›´åŠ æµç•…ã€‚
å› ä¸ºä»£ç èŠ‚ç‚¹çš„ä»£ç æ¯”è¾ƒé•¿ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘å°±ä¸è´´å‡ºæ¥äº†ã€‚å¤§å®¶å¦‚æœ‰å…´è¶£ï¼Œè¯·åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘ä¼šæä¾›ä»£ç æˆ–è€…DSLã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ¤æ–­æ˜¯ä¸æ˜¯å¤šè½®å¯¹è¯ï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±ç›´æ¥è¿›å…¥æœ€ç»ˆçš„åˆ¤æ–­åˆ†æ”¯è¿›è¡Œäº†è·¯ç”±ï¼Œå¦‚æœæ˜¯ï¼Œé‚£å°±éœ€è¦è¿›è¡Œä¿¡æ¯æå–èŠ‚ç‚¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93a2246aa1814f57acfff8c47728bca7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=DbOcE5UL6gk4Q701qGie2m1A%2Fx8%3D" alt="å¤šè½®ä»»åŠ¡ä¿¡æ¯æå–è¯¦è§£" loading="lazy"/>
è¯æ§½ä¸å…¨å°±è¿½é—®å®¢æˆ·ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91a45a4897aa413ab33f12aa12a12c56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=2fSTS6PRm0f5789S1lcU%2BEcFYzE%3D" alt="è¿½é—®è¯æ§½" loading="lazy"/>
è¿½é—®èŠ‚ç‚¹çš„æç¤ºè¯å†™çš„ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ˜¯æƒ³è¦éªŒè¯æƒ³æ³•ï¼Œä¾›å¤§å®¶å‚è€ƒï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Role</span>
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å¯¹è¯æ„å›¾æ¾„æ¸…åŠ©æ‰‹ã€‚ä½ çš„å·¥ä½œæ˜¯æ ¹æ®å½“å‰çš„ä»»åŠ¡çŠ¶æ€å’Œå·²æ”¶é›†çš„ä¿¡æ¯ï¼Œåˆ¤æ–­è¿˜ç¼ºå°‘å“ªäº›å…³é”®ä¿¡æ¯ï¼Œå¹¶å‘ç”¨æˆ·å‘èµ·è¿½é—®ã€‚
<span class="hljs-section"># Context</span>
ç”¨æˆ·æ­£åœ¨è¿›è¡Œä¸€é¡¹å¤šè½®å¯¹è¯ä»»åŠ¡ï¼Œç³»ç»Ÿç»´æŠ¤äº†ä¸€ä¸ªâ€œçŠ¶æ€æœºâ€æ¥è®°å½•ä»»åŠ¡è¿›åº¦ã€‚
<span class="hljs-section"># Goal</span>
è¯·æ£€æŸ¥ <span class="hljs-code">`task_slots`</span> ä¸­ value ä¸º <span class="hljs-code">`null`</span> æˆ– <span class="hljs-code">`None`</span> æˆ– ç©ºå­—ç¬¦ä¸² çš„å­—æ®µã€‚
ç”Ÿæˆä¸€å¥ç®€çŸ­ã€è‡ªç„¶ã€ç¤¼è²Œçš„è¿½é—®ï¼Œå¼•å¯¼ç”¨æˆ·è¡¥å……è¿™äº›ç¼ºå¤±çš„ä¿¡æ¯ã€‚
<span class="hljs-section"># Constraints</span>
<span class="hljs-bullet">1.</span> <span class="hljs-strong">**åªè¿½é—®ç¼ºå¤±é¡¹**</span>ï¼šä¸è¦æåŠå·²ç»å¡«å¥½çš„é¡¹ï¼Œé™¤éä¸ºäº†ç¡®è®¤ä¸Šä¸‹æ–‡ï¼ˆä¾‹å¦‚â€œå¥½çš„ï¼Œå…³äºåŒ—äº¬çš„å¤©æ°”ï¼Œè¯·é—®æ˜¯å“ªä¸€å¤©ï¼Ÿâ€ï¼‰ã€‚
<span class="hljs-bullet">2.</span> <span class="hljs-strong">**ä¸€æ¬¡é—®ä¸€ä¸ª**</span>ï¼šå¦‚æœç¼ºå¤šä¸ªæ§½ä½ï¼Œä¼˜å…ˆè¿½é—®é€»è¾‘ä¸Šæœ€é å‰æˆ–æœ€é‡è¦çš„ä¸€ä¸ªï¼Œä¸è¦ä¸€æ¬¡æ€§ç”©å‡ºä¸€å †é—®é¢˜ï¼Œä¿æŒå¯¹è¯çš„äº¤äº’æ„Ÿã€‚
<span class="hljs-bullet">3.</span> <span class="hljs-strong">**å£è¯­åŒ–**</span>ï¼šä¸è¦ä½¿ç”¨â€œè¯·è¾“å…¥å‚æ•° cityâ€è¿™ç§æŠ€æœ¯è¯­è¨€ï¼Œè¦è¯´â€œè¯·é—®æ‚¨æƒ³æŸ¥è¯¢å“ªä¸ªåŸå¸‚ï¼Ÿâ€ã€‚
<span class="hljs-bullet">4.</span> <span class="hljs-strong">**è¾“å‡ºæ ¼å¼**</span>ï¼šç›´æ¥è¾“å‡ºè¿½é—®çš„è¯æœ¯ï¼Œä¸è¦åŒ…å«ä»»ä½• JSONã€Markdown æ ‡è®°æˆ–é¢å¤–è§£é‡Šã€‚
<span class="hljs-section"># Examples</span>
<span class="hljs-section">## Example 1</span>
Input:
Task: æŸ¥è¯¢å¤©æ°”
Slots: {"city": "ä¸Šæµ·", "date": null}

Output:
æ²¡é—®é¢˜ï¼Œè¯·é—®æ‚¨æƒ³æŸ¥è¯¢ä¸Šæµ·å“ªä¸€å¤©çš„å¤©æ°”å‘¢ï¼Ÿ

<span class="hljs-section">## Example 2</span>
Input:
Task: æŸ¥è¯¢è·¯çº¿
Slots: {"origin": null, "destination": "åŒ—äº¬è¥¿ç«™"}

Output:
æ”¶åˆ°ï¼Œé‚£æ‚¨çš„å‡ºå‘åœ°æ˜¯å“ªé‡Œï¼Ÿ

<span class="hljs-section">## Example 3</span>
Input:
Task: é¢„è®¢ä¼šè®®å®¤
Slots: {"time": null, "people": null}

Output:
å¥½çš„ï¼Œè¯·é—®æ‚¨è®¡åˆ’åœ¨è¿™ä¸ªä¼šè®®å®¤å¼€ä¼šçš„æ—¶é—´å¤§æ¦‚æ˜¯å‡ ç‚¹ï¼Ÿ
</code></pre>
<p>å¦‚æœè·¯ç”±åˆ°FAQï¼Œé‚£æˆ‘ä»¬å°±æ£€ç´¢çŸ¥è¯†åº“ï¼›è·¯ç”±åˆ°å•è½®ä»»åŠ¡ï¼Œæˆ‘ä»¬å°±ç›´æ¥è°ƒç”¨apiå›ç­”ç”¨æˆ·ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/467df9c90a1a409fad232b65ef9cb948~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=Uck2%2BECoBvpdSEqEpoj92RU2Hyw%3D" alt="å®Œæˆä»»åŠ¡" loading="lazy"/>
å› ä¸ºä¸»è¦æ˜¯ä¸ºäº†æ¨¡æ‹Ÿï¼Œæ‰€ä»¥agentèŠ‚ç‚¹çš„é…ç½®å°±ç‰¹åˆ«ç®€å•ï¼Œæˆ‘æ²¡æœ‰è®¾ç½®å¾ˆå¤æ‚çš„æç¤ºè¯ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90cdf96e017e40458568e0e360a6f47c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=d0yEmxb6DsD5B%2B8%2Bs7CUmSAnNaM%3D" alt="agentèŠ‚ç‚¹" loading="lazy"/>
æœ€ç»ˆå®ç°çš„æ•ˆæœï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb88947041e8454991aeb4bd2f0e035e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=iEA1q%2BmFNKDGgzLOP4o2JYsDW8A%3D" alt="å¤šè½®å¯¹è¯" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fdd9036c88f3485599b376998cd7d3aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=jCyUR5mHBGl1aQWroFlz0S%2FMca8%3D" alt="å¤šæ„å›¾æœªå¤„ç†" loading="lazy"/></p>
<p>ç»¼åˆä¸‹æ¥ï¼Œæˆ‘ä»¬çš„è¿™ä¸ªæ–°çš„å·¥ä½œæµçš„æ•´ä½“æ€è·¯å…¶å®å°±æ˜¯è¿™ä¸ªæ ·å­ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b2b09b1926c4065b80beb7cd20123ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=FHke%2F1BKqRs3XmuENIdzuiZhGBU%3D" alt="å¤šè½®å¯¹è¯å®Œæ•´å·¥ä½œæµ" loading="lazy"/></p>
<h2 data-id="heading-2">3. å°ç»“</h2>
<p>ä¸Šé¢è¯´çš„å†…å®¹ï¼Œå¯èƒ½æ²¡æœ‰ç¬¬ä¸€æ¬¡é‚£ä¹ˆç»†ï¼Œä½†æ˜¯ä¸»ä½“æ€è·¯åº”è¯¥æ˜¯è®²æ˜ç™½äº†ã€‚
<strong>ä½¿ç”¨çŠ¶æ€æœºï¼Œå¯¹ä¼šè¯çŠ¶æ€è¿›è¡Œç®¡ç†</strong>ã€‚
ä½¿ç”¨äº†å¤šä¸ªLLMèŠ‚ç‚¹ï¼Œ<strong>å®Œæˆä¸åŒçš„ä»»åŠ¡ï¼Œè®©ä»–ä»¬ä¸“æ³¨äºè‡ªå·±çš„ä»»åŠ¡</strong>ï¼Œä»è€Œæé«˜æˆåŠŸç‡ã€‚</p>
<p>è¿™ä¸ªç‰ˆæœ¬ä»ç„¶æœ‰å¾ˆå¤šçš„é—®é¢˜ï¼Œä½†æ˜¯ä¸»ä½“ç»“æ„å·²ç»å®Œæˆäº†ã€‚è¿˜<strong>éœ€è¦è§£å†³çš„é—®é¢˜å¦‚ä¸‹</strong>ï¼š</p>
<ol>
<li>å“åº”æ—¶é—´æ¯”è¾ƒé•¿ï¼ˆLLMèŠ‚ç‚¹å¤ªå¤šäº†ï¼‰</li>
<li>æ¯ä¸ªèŠ‚ç‚¹æ²¡æœ‰åšå¼‚å¸¸åˆ†æ”¯å¤„ç†ã€‚ä¾‹å¦‚ä»€ä¹ˆæ—¶å€™è½¬äººå·¥ã€‚</li>
<li>å¯¹æœ€ç»ˆçš„å›ç­”ï¼Œæ²¡æœ‰è¿›è¡Œå†…å®¹å®¡æ ¸ï¼Œç¡®ä¿ä¸ç”Ÿæˆä¸åˆè§„å†…å®¹ã€‚</li>
<li>æ²¡æœ‰å¯¹å¤šæ„å›¾è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚ä¸€å¥è¯æœ‰ä¸¤ä¸ªå¤šè½®ä»»åŠ¡ã€‚</li>
<li>æ²¡æœ‰åšè¯¦ç»†çš„æµ‹è¯•ï¼Œè®¾ç½®ä»»åŠ¡æˆåŠŸç‡ã€æ‹’è¯†ç‡ã€è½¬äººå·¥ç‡ã€ä¸€æ¬¡æ€§å®Œæˆç‡ã€å‡†ç¡®ç‡ç­‰æŒ‡æ ‡çš„ç›¸å…³ç»Ÿè®¡åŠæµ‹è¯•ä¼˜åŒ–ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6762eac7f4345dfa17dc49edb48200d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCP6YOo5L6N6YOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769676739&amp;x-signature=40CH2gpKF%2BW0aH2hvL673Gg%2Fg0c%3D" alt="æ–¹æ¡ˆå¾…ä¼˜åŒ–çš„é—®é¢˜" loading="lazy"/></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SystemUI å¼€å‘ä¹‹å¦‚ä½•ç›‘å¬åˆ°é€šçŸ¥çš„ï¼ˆäº”ï¼‰]]></title>    <link>https://juejin.cn/post/7597375708768190464</link>    <guid>https://juejin.cn/post/7597375708768190464</guid>    <pubDate>2026-01-21T07:09:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597375708768190464" data-draft-id="7597379486427512858" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SystemUI å¼€å‘ä¹‹å¦‚ä½•ç›‘å¬åˆ°é€šçŸ¥çš„ï¼ˆäº”ï¼‰"/> <meta itemprop="keywords" content="Android,Java,Kotlin"/> <meta itemprop="datePublished" content="2026-01-21T07:09:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ„¤æ€’çš„ä»£ç "/> <meta itemprop="url" content="https://juejin.cn/user/4125023358426190"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SystemUI å¼€å‘ä¹‹å¦‚ä½•ç›‘å¬åˆ°é€šçŸ¥çš„ï¼ˆäº”ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4125023358426190/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ„¤æ€’çš„ä»£ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-21T07:09:06.000Z" title="Wed Jan 21 2026 07:09:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">SystemUI å¼€å‘ä¹‹å¦‚ä½•ç›‘å¬åˆ°é€šçŸ¥çš„ï¼ˆäº”ï¼‰</h2>
<p>åœ¨ <a href="https://juejin.cn/post/7115211390226268197" target="_blank" title="https://juejin.cn/post/7115211390226268197">ã€Š<strong>SystemUI å¼€å‘ä¹‹é€šçŸ¥çš„å®ç°é€»è¾‘ï¼ˆå››ï¼‰</strong>ã€‹</a>ä¸€æ–‡ä¸­æ›¾æåˆ°è¿‡ SystemUI æ˜¯é€šè¿‡ <code>NotificationListenerService</code> æ¥å®ç°ç›‘å¬çš„ï¼Œæœ¬æ–‡å°†å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li><code>NotificationManagerService</code> ä¸ <code>NotificationListenerService</code> å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>å®ƒä»¬åœ¨ framework ä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</li>
</ul>
<blockquote>
<p>ä»¥ä¸‹åˆ†æåŸºäº Android 11 æºç  <a href="https://link.juejin.cn?target=https%3A%2F%2Fcs.android.com%2Fandroid%2Fplatform%2Fsuperproject%2F%2B%2Fandroid-11.0.0_r40%3A" target="_blank" title="https://cs.android.com/android/platform/superproject/+/android-11.0.0_r40:" ref="nofollow noopener noreferrer">cs.android.com/android/plaâ€¦</a></p>
</blockquote>
<p>åœ¨ Android ç³»ç»Ÿä¸­ï¼Œé€šçŸ¥ç³»ç»Ÿæ˜¯ä¸€ä¸ªå…¸å‹çš„<strong>ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹</strong>ã€‚<code>NotificationManagerService</code> (NMS) è´Ÿè´£ç®¡ç†ä¸åˆ†å‘ï¼Œè€Œ <code>NotificationListenerService</code> (NLS) è´Ÿè´£ç›‘å¬ä¸å‘ˆç°ã€‚</p>
<h3 data-id="heading-1">0x00. NotificationManagerService å¯åŠ¨</h3>
<p>Android ç³»ç»Ÿåœ¨å¯åŠ¨æ—¶é€šè¿‡ <code>SystemServer.startOtherServices()</code> æ–¹æ³•é€šè¿‡<code>SystemServiceManager</code> å¯åŠ¨äº† <code>NotificationManagerService</code> ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * Starts a miscellaneous grab bag of stuff that has yet to be refactored and organized.
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startOtherServices</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> TimingsTraceAndSlog t)</span> {
		...
		t.traceBegin(<span class="hljs-string">"StartNotificationManager"</span>);
		mSystemServiceManager.startService(NotificationManagerService.class);
		SystemNotificationChannels.removeDeprecated(context);
		SystemNotificationChannels.createAll(context);
		notification = INotificationManager.Stub.asInterface(
		        ServiceManager.getService(Context.NOTIFICATION_SERVICE));
		t.traceEnd();
		...
}
</code></pre>
<p><code>SystemServiceManager.startService()</code> æ–¹æ³•ä¸­é€šè¿‡åå°„è·å–åˆ°ç³»ç»ŸæœåŠ¡çš„å®ä¾‹ï¼Œå¹¶æ‰§è¡Œäº†ç³»ç»ŸæœåŠ¡ç±»çš„ <code>onStart()</code> æ–¹æ³•</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SystemService</span>&gt; T <span class="hljs-title function_">startService</span><span class="hljs-params">(Class&lt;T&gt; serviceClass)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> serviceClass.getName();
            Slog.i(TAG, <span class="hljs-string">"Starting "</span> + name);
            Trace.traceBegin(Trace.TRACE_TAG_SYSTEM_SERVER, <span class="hljs-string">"StartService "</span> + name);

            <span class="hljs-comment">// Create the service.</span>
            <span class="hljs-keyword">if</span> (!SystemService.class.isAssignableFrom(serviceClass)) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Failed to create "</span> + name
                        + <span class="hljs-string">": service must extend "</span> + SystemService.class.getName());
            }
            <span class="hljs-keyword">final</span> T service;
            <span class="hljs-keyword">try</span> {
                Constructor&lt;T&gt; constructor = serviceClass.getConstructor(Context.class);
                service = constructor.newInstance(mContext);
            } ...

            startService(service);
            <span class="hljs-keyword">return</span> service;
        } <span class="hljs-keyword">finally</span> {
            Trace.traceEnd(Trace.TRACE_TAG_SYSTEM_SERVER);
        }
}
    
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startService</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> <span class="hljs-keyword">final</span> SystemService service)</span> {
        <span class="hljs-comment">// Register it.</span>
        mServices.add(service);
        <span class="hljs-comment">// Start it.</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">time</span> <span class="hljs-operator">=</span> SystemClock.elapsedRealtime();
        <span class="hljs-keyword">try</span> {
		        <span class="hljs-comment">// æ‰§è¡ŒæœåŠ¡çš„onStartæ–¹æ³•</span>
            service.onStart();
        } <span class="hljs-keyword">catch</span> (RuntimeException ex) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Failed to start service "</span> + service.getClass().getName()
                    + <span class="hljs-string">": onStart threw an exception"</span>, ex);
        }
        warnIfTooLong(SystemClock.elapsedRealtime() - time, service, <span class="hljs-string">"onStart"</span>);
    }
</code></pre>
<p><code>NotificationManagerService.onStart()</code> ä¸­å°†æœåŠ¡è¿›è¡Œæ³¨å†Œåˆ° <code>ServiceManager</code> ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStart</span><span class="hljs-params">()</span> {
	...
	<span class="hljs-comment">// å°†NMSæ³¨å†Œåˆ°æœåŠ¡ä¸­å¿ƒä¸­è¿›è¡Œç®¡ç†</span>
	publishBinderService(Context.NOTIFICATION_SERVICE, mService, <span class="hljs-comment">/* allowIsolated= */</span> <span class="hljs-literal">false</span>,
                DUMP_FLAG_PRIORITY_CRITICAL | DUMP_FLAG_PRIORITY_NORMAL);
  publishLocalService(NotificationManagerInternal.class, mInternalService);
}
</code></pre>
<p>è‡³æ­¤å°±å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å– <code>NotificationManagerService</code> çš„å¯¹è±¡äº†ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è¿™ä¸ªæ–¹æ³•åœ¨å†…éƒ¨ä¼šåˆ¤æ–­å¦‚æœæ˜¯åŒä¸€ä¸ªè¿›ç¨‹åˆ™ä¼šç›´æ¥è¿”å›å½“å‰è¿›ç¨‹ä¸­çš„Stubå¯¹è±¡ï¼Œå¦åˆ™ä¼šè¿”å›Proxyå¯¹è±¡</span>
INotificationManager.Stub.asInterface(
		        ServiceManager.getService(Context.NOTIFICATION_SERVICE))
</code></pre>
<p>NMSå¯åŠ¨åï¼ŒSystemServer å†…éƒ¨è¿˜ç´§æ¥ç€é€šè¿‡ <code>INotificationManager.Stub.asInterface( 		        ServiceManager.getService(Context.NOTIFICATION_SERVICE))</code>è·å–ä¸€ä¸ª Binder ä»£ç†ã€‚</p>
<p><strong>ç›®çš„</strong>ï¼šè™½ç„¶åœ¨åŒè¿›ç¨‹ï¼Œä½†ä½¿ç”¨ä»£ç†æ˜¯ä¸ºäº†ç¡®ä¿åˆå§‹åŒ–æ—¶åºçš„å®‰å…¨æ€§ï¼Œå¹¶æ–¹ä¾¿å°†è¯¥æ¥å£æ³¨å…¥åˆ°åç»­å¯åŠ¨çš„ <code>StatusBarManagerService</code> æˆ– <code>WindowManagerService</code> ä¸­ï¼Œç»´æŒæ¶æ„çš„è§£è€¦å’Œä¸€è‡´æ€§ã€‚</p>
<h3 data-id="heading-2">0x01. SystemUI ä¸­æ˜¯å¦‚ä½•å¯åŠ¨æ³¨å†Œ NotificationListenerService çš„ï¼Ÿ</h3>
<p>ä¸æ™®é€šåº”ç”¨ä¸åŒï¼ŒSystemUI çš„é€šçŸ¥ç›‘å¬å™¨é‡‡ç”¨çš„æ˜¯<strong>åŠ¨æ€æ³¨å†Œ</strong>æœºåˆ¶ï¼Œè€Œéå•çº¯ä¾é  Manifest çš„é™æ€å£°æ˜ã€‚</p>
<ul>
<li><strong>åˆå§‹åŒ–</strong>ï¼šSystemUI å¯åŠ¨æ—¶ï¼Œé€šè¿‡ Dagger æ³¨å…¥å¹¶åˆå§‹åŒ– <code>com.android.systemui.statusbar.NotificationListener</code> ç±»ã€‚</li>
<li><strong>æ³¨å†Œå…¥å£ <code>StatusBar.start()</code></strong></li>
</ul>
<p>åœ¨ <code>StatusBar.start()</code> ä¸­é€šè¿‡ <code>mNotificationsController.initialize()</code> æ–¹æ³•æ‰§è¡Œäº†
<code>notificationListener.registerAsSystemService()</code>  æ–¹æ³•å°† <code>NotificationListenerService</code>  æ³¨å†Œåˆ° NMS ä¸­çš„ã€‚</p>
<p><code>NotificationListenerService.registerAsSystemService()</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerAsSystemService</span><span class="hljs-params">()</span> {
      <span class="hljs-keyword">try</span> {
	        <span class="hljs-comment">// è¿™ä¸ªæ–¹æ³•æ˜¯ NotificationListenerService çš„å†…éƒ¨æ–¹æ³•</span>
          registerAsSystemService(mContext,
                  <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentName</span>(mContext.getPackageName(), getClass().getCanonicalName()),
                  UserHandle.USER_ALL);
      } <span class="hljs-keyword">catch</span> (RemoteException e) {
          Log.e(TAG, <span class="hljs-string">"Unable to register notification listener"</span>, e);
      }
}
</code></pre>
<p>è¯¥æ–¹æ³•æ˜¯ <code>NotificationListenerService</code> ä¸ºç³»ç»Ÿç»„ä»¶æä¾›çš„ç‰¹æƒæ¥å£ã€‚å®ƒä¼šè°ƒç”¨ AIDL æ¥å£ <code>INotificationManager.registerListener</code>ï¼Œå°† SystemUI çš„ä»£ç†å¯¹è±¡ï¼ˆStubï¼‰ç›´æ¥ä¼ é€’ç»™ NMSã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@SystemApi</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerAsSystemService</span><span class="hljs-params">(Context context, ComponentName componentName,
        <span class="hljs-type">int</span> currentUser)</span> <span class="hljs-keyword">throws</span> RemoteException {
    <span class="hljs-keyword">if</span> (mWrapper == <span class="hljs-literal">null</span>) {
        mWrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NotificationListenerWrapper</span>();
    }
    mSystemContext = context;
    <span class="hljs-comment">// é€šè¿‡ NotificationManagerService çš„ Binder çš„å®¢æˆ·ç«¯ä»£ç†å¯¹è±¡æŠŠNLSæ³¨å†Œè¿›å»</span>
    <span class="hljs-type">INotificationManager</span> <span class="hljs-variable">noMan</span> <span class="hljs-operator">=</span> getNotificationInterface();
    mHandler = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyHandler</span>(context.getMainLooper());
    mCurrentUser = currentUser;
    <span class="hljs-comment">// æ³¨æ„è¿™é‡ŒæŠŠ mWrapper è¿™ä¸ªBinderå¯¹è±¡ä¼ ç»™äº† NMSï¼Œè¿™ä¸ªç±»å®ç°äº†INotification.Stubæ¥å£ï¼Œ</span>
    <span class="hljs-comment">// æ­¤æ—¶NMSå°±å¯ä»¥æ‹¿åˆ° SystemUI ä¸­â€œå¥æŸ„â€ </span>
    noMan.registerListener(mWrapper, componentName, currentUser);
}
<span class="hljs-comment">// è·å–NMSçš„ä»£ç†å¯¹è±¡</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">final</span> INotificationManager <span class="hljs-title function_">getNotificationInterface</span><span class="hljs-params">()</span> {
      <span class="hljs-keyword">if</span> (mNoMan == <span class="hljs-literal">null</span>) {
          mNoMan = INotificationManager.Stub.asInterface(
                ServiceManager.getService(Context.NOTIFICATION_SERVICE));
      }
      <span class="hljs-keyword">return</span> mNoMan;
}
    
<span class="hljs-comment">// NMS é€šè¿‡è¿™ä¸ªå›è°ƒæ¥å£â€œå‘Šè¯‰â€SystemUI é€šçŸ¥çš„æ·»åŠ ã€åˆ é™¤ã€æ›´æ–°ç­‰æ“ä½œ</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NotificationListenerWrapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">INotificationListener</span>.Stub {
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onNotificationPosted</span><span class="hljs-params">(IStatusBarNotificationHolder sbnHolder,
            NotificationRankingUpdate update)</span> {
            <span class="hljs-comment">// é€šçŸ¥åˆ°è¾¾</span>
            <span class="hljs-comment">//...ä»£ç çœç•¥</span>
   }
   
   <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onNotificationRemoved</span><span class="hljs-params">(IStatusBarNotificationHolder sbnHolder,
            NotificationRankingUpdate update, NotificationStats stats, <span class="hljs-type">int</span> reason)</span> {
			      <span class="hljs-comment">// é€šçŸ¥ç§»é™¤</span>
			      <span class="hljs-comment">//...ä»£ç çœç•¥</span>
   }
   <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onNotificationRankingUpdate</span><span class="hljs-params">(NotificationRankingUpdate update)</span>
            <span class="hljs-keyword">throws</span> RemoteException {
		       <span class="hljs-comment">// æ’åºæ›´æ–°</span>
		       <span class="hljs-comment">//...ä»£ç çœç•¥</span>
   }        
   ...         
}
</code></pre>
<p><code>NotificationListenerWrapper</code> æ˜¯ä¸€ä¸ª Binder å¯¹è±¡ï¼Œå®ƒæ˜¯ <code>NotificationListenerService</code> å†…éƒ¨å®ç°äº† Stub å®šä¹‰çš„å›è°ƒæ¥å£ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¼ é€’ç»™NMSåï¼Œåç»­ä¼šæœ‰é€šè¿‡è¿™ä¸ªå®ƒæ¥â€œå‘Šè¯‰â€SystemUI:â€œé€šçŸ¥æ¥äº†â€ã€‚</p>
<h3 data-id="heading-3">0x02. NotificationListenerService å†…éƒ¨æ˜¯å¦‚ä½•ä¸ NotificationManagerService äº¤äº’çš„ï¼Ÿ</h3>
<p>å®é™…ä¸Šåœ¨ SystemUI ä¸­ æ˜¯ä½¿ç”¨ <code>NotificationListener</code> ç±»æ‰©å±• <code>NotificationListenerService</code> ï¼Œ<code>NMS</code> åœ¨ä¸Šä¸€æ­¥æ³¨å†Œä¹Ÿæ‹¿åˆ°äº†<code>NLS</code>çš„ Binder å¯¹è±¡ï¼Œè€Œ <code>NLS</code> ä¹Ÿä¼šè·å– <code>NMS</code> çš„ä»£ç†å¯¹è±¡ï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9098db5b37874288aa82343bf6746909~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oSk5oCS55qE5Luj56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769584146&amp;x-signature=YOH5DdyIs0dKOJG7aQRluuBPxtE%3D" alt="NMS-NLSå…³ç³»å›¾.png" loading="lazy"/></p>
<p>ä¸¤è€…çš„äº¤äº’å»ºç«‹åœ¨<strong>åŒå‘ Binder IPC</strong> åŸºç¡€ä¹‹ä¸Šã€‚</p>
<ul>
<li>
<p>ä¸‹è¡Œï¼šæ•°æ®æ„ŸçŸ¥ï¼ˆ<code>NMS -&gt; NLS</code>ï¼‰</p>
<p><code>NLS</code> å†…éƒ¨æŒæœ‰ä¸€ä¸ª <code>NotificationListenerWrapper</code>ï¼ˆå®ç° <code>INotificationListener.Stub</code>ï¼‰ã€‚å½“ NMS ä¾§æœ‰é€šçŸ¥å¢åˆ æ”¹æ—¶ï¼Œä¼šé€šè¿‡è¿™ä¸ª Stub å›è°ƒ NLS çš„ <code>onNotificationPosted()</code> æˆ– <code>onNotificationRemoved()</code>ã€‚</p>
</li>
<li>
<p>ä¸Šè¡Œï¼šæ“ä½œåé¦ˆï¼ˆ<code>NLS -&gt; NMS</code>ï¼‰</p>
<p><code>NLS</code> é€šè¿‡ <code>getNotificationInterface()</code> è·å– <code>INotificationManager</code> çš„ Binder ä»£ç†ã€‚å½“ç”¨æˆ·åœ¨ SystemUI ä¸Šæ»‘åŠ¨åˆ é™¤ä¸€æ¡é€šçŸ¥æ—¶ï¼ŒSystemUI ä¼šé€šè¿‡è¯¥ä»£ç†è°ƒç”¨ NMS çš„ <code>cancelNotificationFromListener</code></p>
</li>
<li>
<p>æ•°æ®åª’ä»‹ <code>RankingMap</code></p>
<p>ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œ<code>NMS</code> ä¸ä¼šé¢‘ç¹ä¼ é€’å…¨é‡æ•°æ®ã€‚å®ƒé€šè¿‡ <code>RankingMap</code> å‘ŠçŸ¥ <code>NLS</code> é€šçŸ¥çš„ä¼˜å…ˆçº§ã€åˆ†ç»„ã€å¯è§æ€§ç­‰å…ƒæ•°æ®çš„å˜æ›´ï¼Œ<code>NLS</code> æ”¶åˆ°ååœ¨æœ¬åœ°è¿›è¡Œ UI æ’åºã€‚</p>
</li>
</ul>
<h3 data-id="heading-4">0x03. NotificationManagerService æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h3>
<p><code>NMS</code> è¿è¡Œåœ¨ <code>system_server</code> è¿›ç¨‹ä¸­ï¼Œæ˜¯é€šçŸ¥ç³»ç»Ÿçš„ä¸­æ¢ã€‚</p>
<h4 data-id="heading-5">1. NMS å¦‚ä½•æ”¶åˆ°å„ä¸ªåº”ç”¨çš„é€šçŸ¥ï¼Ÿ</h4>
<p>åº”ç”¨è¿›ç¨‹è°ƒç”¨ <code>NotificationManager.notify()</code>ï¼Œæœ€ç»ˆé€šè¿‡ Binder è·¨è¿›ç¨‹è°ƒç”¨ <code>NMS</code>ã€‚</p>
<ul>
<li>
<p><strong>å…¥å£ç‚¹</strong>ï¼šåœ¨ <code>NMS</code> ä¸­ï¼Œæœ€æ ¸å¿ƒçš„å…¥å£æ˜¯ <code>enqueueNotificationInternal</code>ã€‚</p>
</li>
<li>
<p><strong>å°åŒ…è½¬åŒ–</strong>ï¼šNMS é¦–å…ˆå°†åº”ç”¨ä¼ æ¥çš„æ•°æ®è½¬åŒ–ä¸º <code>NotificationRecord</code> å¯¹è±¡ã€‚è¿™æ˜¯ä¸€ä¸ªæ‰¿è½½é€šçŸ¥æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸçš„â€œé‡å‹â€å¯¹è±¡ã€‚</p>
</li>
<li>
<p>æµé‡æ§åˆ¶ï¼ˆé™æµï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">MAX_PACKAGE_NOTIFICATIONS</span> <span class="hljs-operator">=</span> <span class="hljs-number">50</span>; <span class="hljs-comment">// å•ä¸ªåº”ç”¨æœ€å¤š 50 æ¡é€šçŸ¥</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">float</span> <span class="hljs-variable">DEFAULT_MAX_NOTIFICATION_ENQUEUE_RATE</span> <span class="hljs-operator">=</span> <span class="hljs-number">5f</span>; <span class="hljs-comment">// æ¯ç§’æœ€å¤šå…¥é˜Ÿ 5 æ¡</span>
</code></pre>
<p>NMS ä¼šæ£€æŸ¥ <code>mMaxPackageEnqueueRate</code>ï¼Œå¦‚æœåº”ç”¨å‘é€é¢‘ç‡è¿‡å¿«ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸æˆ–ä¸¢å¼ƒé€šçŸ¥ï¼Œé˜²æ­¢æ¶æ„åº”ç”¨æ’‘çˆ†ç³»ç»Ÿå†…å­˜ã€‚</p>
</li>
<li>
<p><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šNMS æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¸ä¼šåœ¨ Binder çº¿ç¨‹åŒæ­¥å¤„ç†ï¼Œè€Œæ˜¯é€šè¿‡ <code>Handler</code>å‘é€ä¸€ä¸ª <code>EnqueueNotificationRunnable</code> åˆ°å·¥ä½œçº¿ç¨‹ï¼Œä»¥ä¿è¯ç³»ç»ŸæœåŠ¡çš„å“åº”æ€§ã€‚</p>
</li>
</ul>
<hr/>
<h4 data-id="heading-6">2. NMS æ˜¯å¦‚ä½•ç®¡ç†è¿™äº›é€šçŸ¥çš„ï¼Ÿ</h4>
<p>ç®¡ç†çš„æ ¸å¿ƒåœ¨äº<strong>å†…å­˜ç¼“å­˜</strong>å’Œ<strong>ç”Ÿå‘½å‘¨æœŸè¿½è¸ª</strong>ã€‚NMS ä½¿ç”¨äº†ä¸€ç³»åˆ—å—é”ä¿æŠ¤çš„æ•°æ®ç»“æ„ï¼š</p>
<ul>
<li>
<p><strong>æ ¸å¿ƒå­˜å‚¨å®¹å™¨</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@GuardedBy("mNotificationLock")</span>
<span class="hljs-keyword">final</span> ArrayList&lt;NotificationRecord&gt; mNotificationList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(); <span class="hljs-comment">// å½“å‰æ˜¾ç¤ºçš„æ‰€æœ‰é€šçŸ¥åˆ—è¡¨</span>
<span class="hljs-meta">@GuardedBy("mNotificationLock")</span>
<span class="hljs-keyword">final</span> ArrayMap&lt;String, NotificationRecord&gt; mNotificationsByKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayMap</span>&lt;&gt;(); <span class="hljs-comment">// ä»¥ Key ç´¢å¼•ï¼Œæ–¹ä¾¿å¿«é€ŸæŸ¥æ‰¾</span>
<span class="hljs-meta">@GuardedBy("mNotificationLock")</span>
<span class="hljs-keyword">final</span> ArrayList&lt;NotificationRecord&gt; mEnqueuedNotifications = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(); <span class="hljs-comment">// æ­£åœ¨æ’é˜Ÿç­‰å¾…å¤„ç†çš„é€šçŸ¥</span>
</code></pre>
</li>
<li>
<p><strong>åˆ†ç±»ç®¡ç†</strong>ï¼š</p>
<ul>
<li><strong>Groupï¼ˆåˆ†ç»„ï¼‰ç®¡ç†</strong>ï¼šä½¿ç”¨ <code>mSummaryByGroupKey</code>ã€‚å¦‚æœåº”ç”¨è®¾ç½®äº† GroupKeyï¼ŒNMS ä¼šè‡ªåŠ¨å¤„ç†èšåˆé€»è¾‘ï¼Œç”šè‡³åœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶æ—¶ï¼ˆä»£ç ä¸­çš„ <code>mAutoGroupAtCount</code>ï¼‰è‡ªåŠ¨è¿›è¡Œ â€œAuto-bundleâ€ å½’ç±»ã€‚</li>
<li><strong>Archiveï¼ˆå½’æ¡£ï¼‰</strong>ï¼šä»£ç ä¸­çš„ <code>Archive</code> ç±»è´Ÿè´£è®°å½•å·²æ¶ˆå¤±çš„é€šçŸ¥å†å²ï¼Œä¾›â€œé€šçŸ¥å†å²â€åŠŸèƒ½è°ƒç”¨ã€‚å®ƒä½¿ç”¨äº†è½»é‡çº§æ‹·è´ <code>sbn.cloneLight()</code>ï¼Œé˜²æ­¢å†å²è®°å½•å ç”¨è¿‡å¤šå†…å­˜ã€‚</li>
</ul>
</li>
<li>
<p><strong>çŠ¶æ€ç»´æŠ¤</strong>ï¼š<code>NMS</code> é€šè¿‡ <code>mNotificationLock</code> å¯¹è±¡åŒæ­¥æ‰€æœ‰æ“ä½œï¼Œç¡®ä¿åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼ˆå¦‚ï¼šåº”ç”¨å…¥é˜Ÿé€šçŸ¥çš„åŒæ—¶ï¼Œç”¨æˆ·åœ¨ä¾§æ»‘åˆ é™¤é€šçŸ¥ï¼‰æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p>
</li>
</ul>
<hr/>
<h4 data-id="heading-7">3. å¦‚ä½•ç»™è¿™äº›é€šçŸ¥æ’åºçš„ï¼Ÿ</h4>
<p>æ’åºæ˜¯é€šè¿‡ <strong><code>RankingHelper</code></strong> å’Œä¸“é—¨çš„ <strong><code>RankingThread</code></strong> å®ç°ã€‚</p>
<p><strong><code>RankingHelper</code></strong> é‡‡ç”¨äº†<strong>åŒæ¬¡æ’åºæ³•</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sort</span><span class="hljs-params">(ArrayList&lt;NotificationRecord&gt; notificationList)</span> {
    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">N</span> <span class="hljs-operator">=</span> notificationList.size();
    <span class="hljs-comment">// clear global sort keys</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> N - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
        notificationList.get(i).setGlobalSortKey(<span class="hljs-literal">null</span>);
    }

    <span class="hljs-comment">// rank each record individually</span>
    <span class="hljs-comment">// ç¬¬ä¸€æ¬¡æ’åºï¼šå…ˆä½¿ç”¨ mPreliminaryComparator å¯¹æ‰€æœ‰åŸå§‹é€šçŸ¥è¿›è¡Œä¸€æ¬¡åŸºç¡€æ’åºã€‚</span>
    Collections.sort(notificationList, mPreliminaryComparator);

    <span class="hljs-keyword">synchronized</span> (mProxyByGroupTmp) {
        <span class="hljs-comment">// record individual ranking result and nominate proxies for each group</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; N; i++) {
            <span class="hljs-keyword">final</span> <span class="hljs-type">NotificationRecord</span> <span class="hljs-variable">record</span> <span class="hljs-operator">=</span> notificationList.get(i);
            record.setAuthoritativeRank(i);
            <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">groupKey</span> <span class="hljs-operator">=</span> record.getGroupKey();
            <span class="hljs-type">NotificationRecord</span> <span class="hljs-variable">existingProxy</span> <span class="hljs-operator">=</span> mProxyByGroupTmp.get(groupKey);
            <span class="hljs-keyword">if</span> (existingProxy == <span class="hljs-literal">null</span>) {
                mProxyByGroupTmp.put(groupKey, record);
            }
        }
        <span class="hljs-comment">// assign global sort key:</span>
        <span class="hljs-comment">//   is_recently_intrusive:group_rank:is_group_summary:group_sort_key:rank</span>
        <span class="hljs-comment">// æ„é€ å…¨å±€æ’åºé”®</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; N; i++) {
            <span class="hljs-keyword">final</span> <span class="hljs-type">NotificationRecord</span> <span class="hljs-variable">record</span> <span class="hljs-operator">=</span> notificationList.get(i);
            <span class="hljs-type">NotificationRecord</span> <span class="hljs-variable">groupProxy</span> <span class="hljs-operator">=</span> mProxyByGroupTmp.get(record.getGroupKey());
            <span class="hljs-type">String</span> <span class="hljs-variable">groupSortKey</span> <span class="hljs-operator">=</span> record.getNotification().getSortKey();

            <span class="hljs-comment">// We need to make sure the developer provided group sort key (gsk) is handled</span>
            <span class="hljs-comment">// correctly:</span>
            <span class="hljs-comment">//   gsk="" &lt; gsk=non-null-string &lt; gsk=null</span>
            <span class="hljs-comment">//</span>
            <span class="hljs-comment">// We enforce this by using different prefixes for these three cases.</span>
            String groupSortKeyPortion;
            <span class="hljs-keyword">if</span> (groupSortKey == <span class="hljs-literal">null</span>) {
                groupSortKeyPortion = <span class="hljs-string">"nsk"</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (groupSortKey.equals(<span class="hljs-string">""</span>)) {
                groupSortKeyPortion = <span class="hljs-string">"esk"</span>;
            } <span class="hljs-keyword">else</span> {
                groupSortKeyPortion = <span class="hljs-string">"gsk="</span> + groupSortKey;
            }

            <span class="hljs-type">boolean</span> <span class="hljs-variable">isGroupSummary</span> <span class="hljs-operator">=</span> record.getNotification().isGroupSummary();
            record.setGlobalSortKey(
                    String.format(<span class="hljs-string">"crtcl=0x%04x:intrsv=%c:grnk=0x%04x:gsmry=%c:%s:rnk=0x%04x"</span>,
                    record.getCriticality(),
                    record.isRecentlyIntrusive()
                            &amp;&amp; record.getImportance() &gt; NotificationManager.IMPORTANCE_MIN
                            ? <span class="hljs-string">'0'</span> : <span class="hljs-string">'1'</span>,
                    groupProxy.getAuthoritativeRank(),
                    isGroupSummary ? <span class="hljs-string">'0'</span> : <span class="hljs-string">'1'</span>,
                    groupSortKeyPortion,
                    record.getAuthoritativeRank()));
        }
        mProxyByGroupTmp.clear();
    }

    <span class="hljs-comment">// Do a second ranking pass, using group proxies</span>
    <span class="hljs-comment">// ç¬¬äºŒæ¬¡æ’åºï¼šç»ˆææ’åº</span>
    Collections.sort(notificationList, mFinalComparator);
}
</code></pre>
<ul>
<li>
<p><code>RankingHelper</code> çš„ä½œç”¨æ˜¯æ’åºé€»è¾‘çš„å°è£…ã€‚</p>
<p>å®ƒè´Ÿè´£æ ¹æ®ä»¥ä¸‹ç»´åº¦è®¡ç®—åˆ†æ•°ï¼š</p>
<ol>
<li><strong>Importanceï¼ˆé‡è¦æ€§ï¼‰</strong>ï¼šå¦‚ <code>IMPORTANCE_LOW</code>ã€<code>IMPORTANCE_MIN</code> ç­‰ã€‚</li>
<li><strong>ZenModeï¼ˆç¦…å®šæ¨¡å¼/å‹¿æ‰°ï¼‰</strong>ï¼š<code>mInterruptionFilter</code> å†³å®šäº†å“ªäº›é€šçŸ¥è¯¥â€œé—­å˜´â€ã€‚</li>
<li><strong>ç”¨æˆ·åå¥½</strong>ï¼šç”¨æˆ·æ˜¯å¦æ‰‹åŠ¨ç½®é¡¶äº†æŸä¸ªé¢‘é“ã€‚</li>
<li><strong>ä¼šè¯å±æ€§</strong>ï¼šAndroid 11 å¼ºåŒ–çš„ <code>mMsgPkgsAllowedAsConvos</code>ï¼ˆå…è®¸ä½œä¸ºä¼šè¯çš„åŒ…åï¼‰ï¼Œå¯¹è¯ç±»é€šçŸ¥é€šå¸¸æœ‰æ›´é«˜çš„æƒé‡ã€‚</li>
</ol>
</li>
<li>
<p>å¼‚æ­¥æ’åºæœºåˆ¶ï¼š</p>
<p>æ’åºæ˜¯æ¶ˆè€— CPU çš„æ“ä½œã€‚<code>NMS</code> ç»´æŠ¤äº†ä¸€ä¸ªåä¸º "ranker" çš„ <code>HandlerThread</code> ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">HandlerThread</span> <span class="hljs-variable">mRankingThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HandlerThread</span>(<span class="hljs-string">"ranker"</span>, Process.THREAD_PRIORITY_BACKGROUND);
</code></pre>
<p>å½“é€šçŸ¥çŠ¶æ€æ”¹å˜æ—¶ï¼Œä¼šå‘é€ <code>MESSAGE_RANKING_SORT</code> æ¶ˆæ¯ã€‚æ’åºå®Œæˆåï¼Œé€šè¿‡ <code>MESSAGE_SEND_RANKING_UPDATE</code> æ¶ˆæ¯é€šçŸ¥ SystemUIã€‚</p>
</li>
<li>
<p>é€šçŸ¥åˆ†å‘ç»™ SystemUIï¼š</p>
<p>æ’åºç»“æœå°è£…åœ¨ <code>NotificationRankingUpdate</code> ä¸­ï¼Œé€šè¿‡ <code>mListeners</code>ï¼ˆé€šçŸ¥ç›‘å¬å™¨ç®¡ç†å™¨ï¼‰åˆ†å‘ç»™ SystemUI è¿›ç¨‹ã€‚</p>
</li>
</ul>
<p><strong>å¼•ç”¨</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcs.android.com%2Fandroid%2Fplatform%2Fsuperproject%2F%2B%2Fandroid-11.0.0_r40%3Aframeworks%2Fbase%2Fservices%2Fcore%2Fjava%2Fcom%2Fandroid%2Fserver%2Fnotification%2FNotificationManagerService.java" target="_blank" title="https://cs.android.com/android/platform/superproject/+/android-11.0.0_r40:frameworks/base/services/core/java/com/android/server/notification/NotificationManagerService.java" ref="nofollow noopener noreferrer">cs.android.com/android/plaâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcs.android.com%2Fandroid%2Fplatform%2Fsuperproject%2F%2B%2Fandroid-11.0.0_r40%3Aframeworks%2Fbase%2Fcore%2Fjava%2Fandroid%2Fservice%2Fnotification%2FNotificationListenerService.java" target="_blank" title="https://cs.android.com/android/platform/superproject/+/android-11.0.0_r40:frameworks/base/core/java/android/service/notification/NotificationListenerService.java" ref="nofollow noopener noreferrer">cs.android.com/android/plaâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 å¹´ æŒæ¡ Git Merge ä¸ Rebase é¿å…ä»£ç å†²çª]]></title>    <link>https://juejin.cn/post/7597317683051560969</link>    <guid>https://juejin.cn/post/7597317683051560969</guid>    <pubDate>2026-01-20T23:19:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597317683051560969" data-draft-id="7597258378590928906" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 å¹´ æŒæ¡ Git Merge ä¸ Rebase é¿å…ä»£ç å†²çª"/> <meta itemprop="keywords" content="Git"/> <meta itemprop="datePublished" content="2026-01-20T23:19:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 å¹´ æŒæ¡ Git Merge ä¸ Rebase é¿å…ä»£ç å†²çª
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-20T23:19:43.000Z" title="Tue Jan 20 2026 23:19:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-20
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">2026 å¹´ æŒæ¡ Git Merge ä¸ Rebase é¿å…ä»£ç å†²çª</h2>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆ Git Merge å’Œ Rebase ä¾ç„¶é‡è¦</h3>
<p>åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­ï¼Œå¤šäººåä½œåŒä¸€ä»£ç åº“å·²æ˜¯å¸¸æ€ã€‚Git è¿™ç±»ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„è®¾è®¡åˆè¡·ï¼Œå°±æ˜¯è®©å›¢é˜Ÿèƒ½å¤ŸåŒæ—¶åœ¨ä¸åŒåˆ†æ”¯ä¸Šå·¥ä½œã€‚ç„¶è€Œï¼Œè¿™ç§è‡ªç”±ä¹Ÿå¸¦æ¥äº†æŒ‘æˆ˜ï¼šå½“éœ€è¦æ•´åˆè¿™äº›åˆ†æ”¯æ—¶ï¼Œå¦‚ä½•ç®¡ç†ä»£ç å˜æ›´ã€è§£å†³å†²çªï¼ŸGit æä¾›äº†ä¸¤ç§ä¸»è¦çš„åˆå¹¶å·¥å…·ï¼šGit Merge å’Œ Git Rebaseã€‚</p>
<p>è¿™ä¸¤ç§æ“ä½œéƒ½èƒ½å°†ä¸€ä¸ªåˆ†æ”¯çš„å˜æ›´åˆå¹¶åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ï¼Œä½†å®ç°æ–¹å¼ä¸åŒã€‚ç†è§£å®ƒä»¬çš„åŒºåˆ«ï¼Œå¯¹äºä¿æŒä»£ç åº“æ•´æ´ã€é¿å…ä¸å¿…è¦çš„å†²çªã€ç¡®ä¿é¡¹ç›®å†å²æ¸…æ™°å¯è¿½æº¯è‡³å…³é‡è¦ã€‚</p>
<p>æœ¬æ–‡å°†è¯¦ç»†æ‹†è§£ Git Merge å’Œ Git Rebaseï¼Œé…åˆå®é™…ç¤ºä¾‹ï¼Œå¸®åŠ©ä½ ç†è§£ä½•æ—¶è¯¥ç”¨å“ªä¸€ç§ã€‚è¯»å®Œä¹‹åï¼Œä½ å°†å¯¹è¿™ä¸¤ç§ Git ç­–ç•¥æœ‰æ‰å®çš„æŒæ¡ï¼Œèƒ½å¤Ÿé¿å…é‚£äº›å¯¼è‡´ä»£ç å†²çªçš„å¸¸è§é™·é˜±ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2026-01%2Fmastering-git-merge-rebase-avoid-code-conflicts" target="_blank" title="https://catchadmin.com/post/2026-01/mastering-git-merge-rebase-avoid-code-conflicts" ref="nofollow noopener noreferrer">åŸæ–‡ 2026 å¹´ æŒæ¡ Git Merge ä¸ Rebase é¿å…ä»£ç å†²çª</a></p>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯ Git Mergeï¼Ÿ</h3>
<p>Git Merge æ˜¯ Git çš„åŸºç¡€æ“ä½œä¹‹ä¸€ï¼Œç”¨äºå°†ä¸€ä¸ªåˆ†æ”¯çš„å˜æ›´åˆå¹¶åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ã€‚é€šå¸¸ç”¨äºå°†åŠŸèƒ½åˆ†æ”¯æ•´åˆåˆ°ä¸»åˆ†æ”¯ï¼ˆä¸€èˆ¬å« <code>main</code> æˆ– <code>master</code>ï¼‰ã€‚Git Merge ä¼šä¿ç•™ä¸¤ä¸ªåˆ†æ”¯çš„å†å²ï¼ŒåŒæ–¹çš„å˜æ›´éƒ½å®Œæ•´ä¿ç•™ã€‚</p>
<p>æ‰§è¡Œ merge æ—¶ï¼ŒGit ä¼šå°è¯•è‡ªåŠ¨åˆå¹¶ä¸¤ä¸ªåˆ†æ”¯çš„å˜æ›´ã€‚å¦‚æœé‡åˆ°å†²çªâ€”â€”å³ä¸¤ä¸ªåˆ†æ”¯ä»¥ä¸å…¼å®¹çš„æ–¹å¼ä¿®æ”¹äº†åŒä¸€æ®µä»£ç â€”â€”Git ä¼šåœä¸‹æ¥ï¼Œè¦æ±‚ä½ æ‰‹åŠ¨è§£å†³å†²çªã€‚è§£å†³åï¼Œæäº¤å˜æ›´å³å¯å®Œæˆåˆå¹¶ã€‚</p>
<h4 data-id="heading-3">Git Merge å·¥ä½œæµç¤ºä¾‹</h4>
<p>å‡è®¾ä½ åœ¨ <code>feature-branch</code> ä¸Šå¼€å‘ï¼Œæƒ³æŠŠå®ƒåˆå¹¶åˆ° <code>main</code> åˆ†æ”¯ã€‚æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>å…ˆåˆ‡æ¢åˆ° <code>main</code> åˆ†æ”¯ï¼ˆå³ç›®æ ‡åˆ†æ”¯ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">git checkout main
</code></pre>
<ol start="2">
<li>æ‰§è¡Œåˆå¹¶ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">git merge feature-branch
</code></pre>
<p>å¦‚æœæ²¡æœ‰å†²çªï¼ŒGit ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåˆå¹¶æäº¤ï¼ˆmerge commitï¼‰ï¼Œå°†ä¸¤ä¸ªåˆ†æ”¯åˆå¹¶ã€‚å¦‚æœæœ‰å†²çªï¼ŒGit ä¼šæš‚åœå¹¶æç¤ºå“ªäº›æ–‡ä»¶éœ€è¦å¤„ç†ã€‚</p>
<ol start="3">
<li>è§£å†³ Git æ ‡è®°çš„å†²çªæ–‡ä»¶ï¼Œè§£å†³åæ ‡è®°ä¸ºå·²è§£å†³ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">git add &lt;conflicted-file&gt;
</code></pre>
<ol start="4">
<li>æäº¤å®Œæˆåˆå¹¶ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">git commit
</code></pre>
<p>è¿™æ ·ä¼šç”Ÿæˆä¸€ä¸ªåˆå¹¶æäº¤ï¼Œè®°å½•ä¸¤ä¸ªåˆ†æ”¯çš„åˆå¹¶ã€‚æäº¤å†å²ç°åœ¨ä¼šæ˜¾ç¤º <code>feature-branch</code> è¢«åˆå¹¶è¿›äº† <code>main</code>ï¼ŒåŒæ–¹å†å²éƒ½å¾—ä»¥ä¿ç•™ã€‚</p>
<h4 data-id="heading-4">Git Merge çš„ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li><strong>åä½œå®‰å…¨</strong>ï¼šMerge ä¸ä¼šä¿®æ”¹æäº¤å†å²ï¼Œé€‚åˆå›¢é˜Ÿåä½œã€‚æ¯ä¸ªå¼€å‘è€…éƒ½èƒ½æ¸…æ¥šçœ‹åˆ°ä»£ç çš„æ¼”å˜è¿‡ç¨‹ã€‚</li>
<li><strong>åˆ†æ”¯å†å²æ¸…æ™°</strong>ï¼šåˆå¹¶æäº¤æ˜ç¡®æ˜¾ç¤ºåˆ†æ”¯ä½•æ—¶åˆ†å‰ã€ä½•æ—¶æ•´åˆï¼Œå®Œæ•´ä¿ç•™å†å²ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li><strong>æäº¤å†å²å¯èƒ½æ‚ä¹±</strong>ï¼šé¢‘ç¹åˆå¹¶ä¼šè®©å†å²å˜å¾—æ··ä¹±ï¼Œå°¤å…¶æ˜¯å¤šä¸ªåŠŸèƒ½åˆ†æ”¯åŠ ä¸Šå¤šä¸ªåˆå¹¶æäº¤æ—¶ï¼Œè¿½è¸ªç‰¹å®šå˜æ›´ä¼šå˜å¾—å›°éš¾ã€‚</li>
<li><strong>åˆå¹¶æäº¤æœ‰æ—¶æ˜¾å¾—å¤šä½™</strong>ï¼šå¦‚æœä½ æ›´å–œæ¬¢çº¿æ€§å†å²ï¼Œåˆå¹¶æäº¤å¯èƒ½ä¼šç»™é¡¹ç›®å†å²å¢åŠ å™ªéŸ³ã€‚</li>
</ul>
<h3 data-id="heading-5">ä»€ä¹ˆæ˜¯ Git Rebaseï¼Ÿ</h3>
<p>Git Rebase æ˜¯å¦ä¸€ç§æ•´åˆåˆ†æ”¯å˜æ›´çš„æ–¹å¼ï¼Œä½†å®ƒé€šè¿‡é‡å†™æäº¤å†å²æ¥å®ç°ã€‚ä¸ Git Merge åˆ›å»ºåˆå¹¶æäº¤ä¸åŒï¼ŒGit Rebase ä¼šæŠŠä½ çš„å˜æ›´é‡æ–°åº”ç”¨åˆ°ç›®æ ‡åˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯ <code>main</code>ï¼‰ä¹‹ä¸Šï¼Œå½¢æˆçº¿æ€§çš„æäº¤å†å²ï¼Œæ²¡æœ‰åˆå¹¶æäº¤ã€‚</p>
<p>Rebase èƒ½è®©é¡¹ç›®å†å²æ›´å¹²å‡€ï¼Œå› ä¸ºå®ƒæ¶ˆé™¤äº†ä¸å¿…è¦çš„åˆå¹¶æäº¤ã€‚ä½† rebase ä¼šé‡å†™æäº¤å†å²ï¼Œåœ¨åä½œç¯å¢ƒä¸­å¯èƒ½å¸¦æ¥é£é™©ï¼Œå°¤å…¶æ˜¯å½“ä½ å·²ç»æŠŠåˆ†æ”¯æ¨é€ç»™å…¶ä»–äººæ—¶ã€‚</p>
<h4 data-id="heading-6">Git Rebase å·¥ä½œæµç¤ºä¾‹</h4>
<p>å‡è®¾ä½ åœ¨ <code>feature-branch</code> ä¸Šå¼€å‘ï¼Œæƒ³æŠŠå®ƒ rebase åˆ° <code>main</code> åˆ†æ”¯ä»¥è·å–æœ€æ–°å˜æ›´ã€‚æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>å…ˆåˆ‡æ¢åˆ°ä½ çš„ <code>feature-branch</code>ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">git checkout feature-branch
</code></pre>
<ol start="2">
<li>å°† <code>feature-branch</code> rebase åˆ° <code>main</code>ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">git rebase main
</code></pre>
<p>Git ä¼šæŠŠ <code>feature-branch</code> ä¸Šçš„æäº¤é€ä¸ªé‡æ”¾åˆ°å½“å‰ <code>main</code> åˆ†æ”¯ä¹‹ä¸Šï¼Œç›¸å½“äºè®© <code>feature-branch</code> åŒ…å«äº† <code>main</code> çš„æ‰€æœ‰æœ€æ–°å˜æ›´ã€‚å¦‚æœæ²¡æœ‰å†²çªï¼Œrebase ä¼šè‡ªåŠ¨å®Œæˆã€‚</p>
<ol start="3">
<li>è§£å†³ rebase è¿‡ç¨‹ä¸­å‡ºç°çš„å†²çªã€‚Git ä¼šåœ¨æ¯ä¸ªå†²çªå¤„åœä¸‹æ¥è®©ä½ å¤„ç†ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è§£å†³æ–‡ä»¶ä¸­çš„å†²çª</span>
git add &lt;conflicted-file&gt;
</code></pre>
<ol start="4">
<li>è§£å†³æ¯ä¸ªå†²çªåç»§ç»­ rebaseï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">git rebase --<span class="hljs-built_in">continue</span>
</code></pre>
<ol start="5">
<li>å°† rebase åçš„åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼ˆæ³¨æ„ï¼šå¦‚æœä¹‹å‰å·²ç»æ¨é€è¿‡è¿™ä¸ªåˆ†æ”¯ï¼Œå¯èƒ½éœ€è¦å¼ºåˆ¶æ¨é€ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">git push --force
</code></pre>
<p>ç°åœ¨ï¼Œä½ çš„ <code>feature-branch</code> åœ¨ <code>main</code> ä¹‹ä¸Šæœ‰äº†çº¿æ€§çš„æäº¤å†å²ï¼Œå¯ä»¥åˆ›å»º pull request åˆå¹¶åˆ° <code>main</code> äº†ã€‚</p>
<h4 data-id="heading-7">Git Rebase çš„ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li><strong>å¹²å‡€çš„çº¿æ€§å†å²</strong>ï¼šRebase é¿å…äº†åˆå¹¶æäº¤çš„æ‚ä¹±ï¼Œé¡¹ç›®å†å²æ›´ç®€æ´æ˜“æ‡‚ã€‚</li>
<li><strong>ç®€åŒ–ä»£ç å®¡æŸ¥</strong>ï¼šçº¿æ€§å†å²è®©å®¡æŸ¥è€…æ›´å®¹æ˜“è·Ÿè¸ªä»£ç æ¼”å˜ï¼Œç†è§£æ¯ä¸ªå˜æ›´ã€‚</li>
<li><strong>é¿å…ä¸å¿…è¦çš„åˆå¹¶æäº¤</strong>ï¼šé¢‘ç¹ä¸ä¸»åˆ†æ”¯åŒæ­¥æ—¶ï¼Œrebase èƒ½ä¿æŒå†å²æ•´æ´ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li><strong>é‡å†™æäº¤å†å²</strong>ï¼šRebase ä¼šæ”¹å˜æäº¤å†å²ï¼Œåœ¨å›¢é˜Ÿåä½œä¸­å¯èƒ½å¼•å‘é—®é¢˜ã€‚å¦‚æœå…¶ä»–äººåŸºäºä½ çš„åˆ†æ”¯å·¥ä½œï¼Œrebase å¯èƒ½å¯¼è‡´å†²çªå’Œæ··ä¹±ã€‚</li>
<li><strong>å‡ºé”™é£é™©</strong>ï¼šä½¿ç”¨ä¸å½“æ—¶ï¼Œrebase å¯èƒ½å¯¼è‡´æäº¤ä¸¢å¤±æˆ–æ··ä¹±ï¼Œå°¤å…¶æ˜¯å¯¹è§£å†³ rebase å†²çªä¸ç†Ÿç»ƒçš„æƒ…å†µä¸‹ã€‚</li>
</ul>
<h3 data-id="heading-8">Git Merge ä¸ Git Rebase çš„æ ¸å¿ƒåŒºåˆ«</h3>
<p>é€‰æ‹©ä½¿ç”¨å“ªç§ç­–ç•¥æ—¶ï¼Œç†è§£ä¸¤è€…çš„åŒºåˆ«å¾ˆé‡è¦ã€‚ä»¥ä¸‹æ˜¯å¯¹æ¯”æ¦‚è§ˆï¼š</p>
<p><strong>æäº¤å†å²ï¼š</strong>
Git Merge ä¿ç•™æäº¤å†å²ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åˆå¹¶æäº¤æ¥æ•´åˆåˆ†æ”¯ã€‚è¿™ä¿æŒäº†å†å²å®Œæ•´ï¼Œä½†é¢‘ç¹åˆå¹¶å¯èƒ½å¯¼è‡´æäº¤æ—¥å¿—æ‚ä¹±ã€‚è€Œ Git Rebase é‡å†™æäº¤å†å²ï¼Œç”Ÿæˆå¹²å‡€çš„çº¿æ€§æäº¤åºåˆ—ï¼Œæ²¡æœ‰åˆå¹¶æäº¤ã€‚</p>
<p><strong>å†²çªè§£å†³ï¼š</strong>
Merge æ—¶ï¼Œå†²çªåœ¨åˆå¹¶å‘èµ·åè§£å†³ã€‚Git ä¼šåœä¸‹æ¥è®©ä½ è§£å†³å†²çªåå†ç»§ç»­ã€‚Rebase æ—¶ï¼Œå†²çªåœ¨ rebase è¿‡ç¨‹ä¸­è§£å†³ï¼Œå› ä¸ºæ¯ä¸ªæäº¤æ˜¯é€ä¸ªé‡æ–°åº”ç”¨çš„ï¼Œéœ€è¦åœ¨æ¯ä¸€æ­¥è§£å†³å†²çªã€‚</p>
<p><strong>åä½œåœºæ™¯ï¼š</strong>
Git Merge åœ¨åä½œç¯å¢ƒä¸­é€šå¸¸æ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒä¸é‡å†™å†å²ï¼Œé€‚åˆåœ¨å…±äº«åˆ†æ”¯ä¸Šä½¿ç”¨ã€‚Rebase ä¼šé‡å†™å†å²ï¼Œå¯èƒ½ç»™åŸºäºä½ åˆ†æ”¯å·¥ä½œçš„åŒäº‹å¸¦æ¥é—®é¢˜ã€‚åœ¨ç§æœ‰åˆ†æ”¯æˆ–æ²¡æœ‰å…¶ä»–äººåœ¨ç”¨çš„åˆ†æ”¯ä¸Š rebase æ›´å®‰å…¨ã€‚</p>
<p><strong>å†å²æ¸…æ™°åº¦ï¼š</strong>
Rebase é€šè¿‡æ¶ˆé™¤åˆå¹¶æäº¤æä¾›æ›´å¹²å‡€çš„çº¿æ€§å†å²ï¼Œé€‚åˆå¸Œæœ›å¼€å‘å†å²å‘ˆç›´çº¿çš„åœºæ™¯ã€‚åˆå¹¶æäº¤è™½ç„¶ä¿ç•™äº†æ›´å¤šå†å²ä¿¡æ¯ï¼Œä½†å¯èƒ½å¯¼è‡´æ›´å¤æ‚çš„æäº¤å†å²ï¼Œæµè§ˆå’Œå®¡æŸ¥èµ·æ¥æ›´å›°éš¾ã€‚</p>
<h3 data-id="heading-9">æœ€ä½³å®è·µï¼šä½•æ—¶ç”¨ Mergeï¼Œä½•æ—¶ç”¨ Rebase</h3>
<p><strong>ä½¿ç”¨ Git Merge çš„åœºæ™¯ï¼š</strong></p>
<ul>
<li>æƒ³ä¿ç•™åˆ†æ”¯å¼€å‘çš„å®Œæ•´å†å²</li>
<li>åœ¨å…±äº«åˆ†æ”¯ä¸Šå·¥ä½œï¼Œéœ€è¦é¿å…é‡å†™å†å²</li>
<li>æƒ³æ¸…æ¥šçœ‹åˆ°ä¸åŒåˆ†æ”¯ä½•æ—¶è¢«æ•´åˆ</li>
<li>èƒ½æ¥å—ç¨å¤æ‚çš„å†å²ï¼Œåªè¦å®ƒåæ˜ äº†æ¯ä¸ªåˆ†æ”¯çš„è´¡çŒ®</li>
</ul>
<p><strong>ä½¿ç”¨ Git Rebase çš„åœºæ™¯ï¼š</strong></p>
<ul>
<li>æƒ³ä¿æŒå¹²å‡€çš„çº¿æ€§å†å²ï¼Œå°¤å…¶æ˜¯åœ¨å°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ° <code>main</code> ä¹‹å‰</li>
<li>ç‹¬è‡ªåœ¨åŠŸèƒ½åˆ†æ”¯ä¸Šå·¥ä½œï¼Œæƒ³ä¸ <code>main</code> ä¿æŒåŒæ­¥ä½†ä¸æƒ³äº§ç”Ÿä¸å¿…è¦çš„åˆå¹¶æäº¤</li>
<li>æƒ³åœ¨æäº¤ pull request å‰ç®€åŒ–æäº¤å†å²ï¼Œæ–¹ä¾¿å®¡æŸ¥</li>
</ul>
<h3 data-id="heading-10">å¸¸è§é”™è¯¯åŠé¿å…æ–¹æ³•</h3>
<ul>
<li><strong>åœ¨å…±äº«åˆ†æ”¯ä¸Š Rebase</strong>ï¼šGit Rebase æœ€å¸¸è§çš„é”™è¯¯æ˜¯åœ¨å…¶ä»–äººæ­£åœ¨ä½¿ç”¨çš„åˆ†æ”¯ä¸Šé‡å†™å†å²ï¼Œè¿™ä¼šç»™é˜Ÿå‹å¸¦æ¥å›°æƒ‘å’Œé”™è¯¯ã€‚</li>
<li><strong>å†²çªè§£å†³ä¸å½“</strong>ï¼šæ— è®ºç”¨ merge è¿˜æ˜¯ rebaseï¼Œéƒ½è¦ä»”ç»†è§£å†³å†²çªã€‚è·³è¿‡è¿™ä¸€æ­¥å¯èƒ½å¯¼è‡´ä»£ç æŸåæˆ–å˜æ›´ä¸¢å¤±ã€‚</li>
<li><strong>Rebase åå¿˜è®°æ¨é€</strong>ï¼šå¦‚æœ rebase åå¿˜è®°å¼ºåˆ¶æ¨é€ï¼Œè¿œç¨‹åˆ†æ”¯ä¸ä¼šåæ˜  rebase åçš„å˜æ›´ã€‚åŠ¡å¿…åœ¨ rebase åæ¨é€ï¼Œå¿…è¦æ—¶ä½¿ç”¨å¼ºåˆ¶æ¨é€ã€‚</li>
<li><strong>å¤æ‚åˆå¹¶åœºæ™¯ä¸‹ä½¿ç”¨ Rebase</strong>ï¼šå¦‚æœåˆ†æ”¯åˆ†å‰ä¸¥é‡ï¼Œéš¾ä»¥å¹²å‡€åœ° rebaseï¼ŒGit Merge å¯èƒ½æ˜¯æ›´å®‰å…¨ã€æ›´ç®€å•çš„é€‰æ‹©ã€‚</li>
</ul>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>åœ¨ 2026 å¹´ï¼ŒGit ä»ç„¶æ˜¯è½¯ä»¶å¼€å‘ä¸å¯æˆ–ç¼ºçš„å·¥å…·ï¼Œç†è§£ Git Merge å’Œ Git Rebase çš„åŒºåˆ«å¯¹äºä¿æŒé«˜æ•ˆå·¥ä½œæµè‡³å…³é‡è¦ã€‚ä¸¤ç§æ“ä½œå„æœ‰ä¼˜åŠ£ï¼Œå…³é”®åœ¨äºçŸ¥é“ä½•æ—¶ä½¿ç”¨å“ªä¸€ç§ã€‚</p>
<p>Git Merge é€‚åˆä¿ç•™å®Œæ•´çš„åˆ†æ”¯å†å²ï¼Œåœ¨åä½œç¯å¢ƒä¸­æ›´å®‰å…¨ï¼›Git Rebase æ“…é•¿ä¿æŒæ•´æ´çš„çº¿æ€§å†å²ï¼Œé€‚åˆç²¾ç®€é¡¹ç›®æäº¤è®°å½•ã€ç®€åŒ–ä»£ç å®¡æŸ¥ã€‚</p>
<p>é€šè¿‡å®è·µè¿™ä¸¤ç§ç­–ç•¥å¹¶ç†è§£å®ƒä»¬çš„å½±å“ï¼Œä½ å¯ä»¥é¿å…ä»£ç å†²çªï¼Œä¿æŒé¡¹ç›®å†å²æ•´æ´ï¼Œæˆä¸ºæ›´é«˜æ•ˆçš„å¼€å‘è€…ã€‚é€‰æ‹©åˆé€‚çš„å·¥å…·ï¼Œç¥ä½ åœ¨ 2026 å¹´ç¼–ç æ„‰å¿«ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‹¥ä¾é¡¹ç›®å‰ç«¯vueé‡Œé¢çš„dicts: [] å±æ€§è¯¦è§£]]></title>    <link>https://juejin.cn/post/7597742970281443380</link>    <guid>https://juejin.cn/post/7597742970281443380</guid>    <pubDate>2026-01-22T07:14:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597742970281443380" data-draft-id="7597742970281426996" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‹¥ä¾é¡¹ç›®å‰ç«¯vueé‡Œé¢çš„dicts: []  å±æ€§è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-22T07:14:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€å†™ä»£ç å°±å¼€å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/2889993082908344"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‹¥ä¾é¡¹ç›®å‰ç«¯vueé‡Œé¢çš„dicts: []  å±æ€§è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2889993082908344/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€å†™ä»£ç å°±å¼€å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:14:21.000Z" title="Thu Jan 22 2026 07:14:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1 ç•Œé¢ä½ç½®</h2>
<p>Bç«™  gzh  æœ‰å¯¹åº”çš„è§†é¢‘è®²è§£ï¼Œæºç è§£æï¼Œä¸€è¡Œä¸€è¡Œä»£ç è¯¦è§£</p>
<h2 data-id="heading-1">2 Â  dicts: []</h2>
<p>ç»“åˆä¹‹å‰çš„å…¨å±€æ··å…¥é€»è¾‘å’Œç»„ä»¶é…ç½® <code>dicts: ['sys_normal_disable', 'sys_user_sex']</code>ï¼Œæˆ‘ä¼šå¸®ä½ æŠŠã€Œå­—å…¸åŠ è½½â†’æ•°æ®å­˜å‚¨â†’æœ€ç»ˆä½¿ç”¨ã€çš„å®Œæ•´é€»è¾‘è®²é€ï¼ŒåŒ…æ‹¬è¿™ä¸ªç±»é‡Œæ¯ä¸ªæ ¸å¿ƒæ–¹æ³•ã€å±æ€§çš„ä½œç”¨ï¼Œä»¥åŠæ•°æ®æœ€ç»ˆå­˜åœ¨å“ªé‡Œã€æ€ä¹ˆç”¨ã€‚</p>
<h4 data-id="heading-2">ä¸€ã€å…ˆçœ‹æ‡‚ <code>Dict</code> ç±»çš„æ ¸å¿ƒè®¾è®¡</h4>
<p>è¿™ä¸ªç±»æ˜¯å­—å…¸ç®¡ç†çš„â€œæ ¸å¿ƒå®¹å™¨â€ï¼Œå…ˆæ˜ç¡®å®ƒçš„æ ¸å¿ƒå±æ€§å’Œæ–¹æ³•çš„ä½œç”¨ï¼š</p>


















































<table><thead><tr><th>æ ¸å¿ƒæˆå‘˜</th><th>ç±»å‹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>owner</code></td><td>Object</td><td>ç»‘å®šå½“å‰å­—å…¸å®ä¾‹æ‰€å±çš„ Vue ç»„ä»¶ï¼ˆæ¥è‡ªå…¨å±€æ··å…¥çš„ <code>dict.owner = this</code>ï¼‰</td></tr><tr><td><code>label</code></td><td>Object</td><td>å­—å…¸æ ‡ç­¾æ˜ å°„è¡¨ï¼Œæ ¼å¼ <code>{ å­—å…¸ç±»å‹: { å€¼: æ ‡ç­¾ } }</code>ï¼ˆæ¯”å¦‚ <code>sys_user_sex: {1: 'ç”·', 2: 'å¥³'}</code>ï¼‰</td></tr><tr><td><code>type</code></td><td>Object</td><td>å­—å…¸å®Œæ•´æ•°ç»„è¡¨ï¼Œæ ¼å¼ <code>{ å­—å…¸ç±»å‹: [DictDataå®ä¾‹æ•°ç»„] }</code>ï¼ˆå­˜å‚¨å®Œæ•´çš„å­—å…¸é¡¹ï¼‰</td></tr><tr><td><code>_dictMetas</code></td><td>Array</td><td>å†…éƒ¨å±æ€§ï¼Œå­˜å‚¨æ‰€æœ‰å­—å…¸çš„å…ƒæ•°æ®ï¼ˆDictMetaå®ä¾‹ï¼‰ï¼Œè®°å½•å­—å…¸çš„ç±»å‹ã€è¯·æ±‚æ–¹å¼ç­‰</td></tr><tr><td><code>constructor()</code></td><td>æ„é€ å‡½æ•°</td><td>åˆå§‹åŒ– <code>owner</code>ã€<code>label</code>ã€<code>type</code> ä¸‰ä¸ªæ ¸å¿ƒå±æ€§</td></tr><tr><td><code>init()</code></td><td>æ–¹æ³•</td><td>å…¥å£æ–¹æ³•ï¼šè§£æå­—å…¸é…ç½®ã€åˆå§‹åŒ–å“åº”å¼æ•°æ®ã€åŠ è½½å­—å…¸æ•°æ®</td></tr><tr><td><code>reloadDict()</code></td><td>æ–¹æ³•</td><td>é‡æ–°åŠ è½½æŒ‡å®šç±»å‹çš„å­—å…¸æ•°æ®</td></tr><tr><td><code>loadDict()</code></td><td>å†…éƒ¨å‡½æ•°</td><td>å®é™…å‘èµ·è¯·æ±‚åŠ è½½å­—å…¸ã€å¤„ç†æ•°æ®å¹¶æ›´æ–°åˆ° <code>label</code>/<code>type</code> ä¸­</td></tr></tbody></table>
<h4 data-id="heading-3">äºŒã€ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œ<code>Dict</code> ç±»çš„å®Œæ•´æ‰§è¡Œæµç¨‹</h4>
<p>ç»“åˆç»„ä»¶é…ç½® <code>dicts: ['sys_normal_disable', 'sys_user_sex']</code>ï¼Œä¸€æ­¥ä¸€æ­¥çœ‹ <code>Dict</code> ç±»æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼š</p>
<h5 data-id="heading-4">æ­¥éª¤1ï¼šåˆ›å»º <code>Dict</code> å®ä¾‹ï¼ˆå…¨å±€æ··å…¥çš„ <code>data</code> é’©å­ï¼‰</h5>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-comment">// å…¨å±€æ··å…¥çš„dataé’©å­ä¸­æ‰§è¡Œ</span>
<span class="hljs-keyword">const</span> dict = <span class="hljs-built_in">new</span> Dict(); 
<span class="hljs-comment">// æ­¤æ—¶dictçš„åˆå§‹çŠ¶æ€ï¼š</span>
dict = {
 Â owner: å½“å‰ç»„ä»¶å®ä¾‹,
 Â label: {}, <span class="hljs-comment">// ç©ºå¯¹è±¡</span>
 Â <span class="hljs-keyword">type</span>: {}, Â <span class="hljs-comment">// ç©ºå¯¹è±¡</span>
 Â _dictMetas: undefined
}
</code></pre>
<h5 data-id="heading-5">æ­¥éª¤2ï¼šè°ƒç”¨ <code>init()</code> åˆå§‹åŒ–å­—å…¸ï¼ˆå…¨å±€æ··å…¥çš„ <code>created</code> é’©å­ï¼‰</h5>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">this</span>.dict.<span class="hljs-keyword">init</span>([<span class="hljs-string">'sys_normal_disable'</span>, <span class="hljs-string">'sys_user_sex'</span>]);
</code></pre>
<p><code>init()</code> å†…éƒ¨æ‰§è¡Œé€»è¾‘ï¼š</p>
<ol start="0">
<li>
<p><strong>æ ¼å¼åŒ–é…ç½®</strong>ï¼šå› ä¸ºä¼ å…¥çš„æ˜¯æ•°ç»„ï¼ŒåŒ…è£…æˆé…ç½®å¯¹è±¡ <code>{ types: ['sys_normal_disable', 'sys_user_sex'] }</code>ï¼›</p>
</li>
<li>
<p><strong>åˆå¹¶é»˜è®¤é…ç½®</strong>ï¼šç”¨ <code>mergeRecursive</code> åˆå¹¶ <code>DEFAULT_DICT_OPTIONS</code> å’Œç”¨æˆ·é…ç½®ï¼Œæœ€ç»ˆ <code>opts = { types: ['sys_normal_disable', 'sys_user_sex'] }</code>ï¼›</p>
</li>
<li>
<p><strong>è§£æå…ƒæ•°æ®</strong>ï¼šæŠŠæ¯ä¸ªå­—å…¸ç±»å‹è½¬æˆ <code>DictMeta</code> å®ä¾‹ï¼Œå­˜å‚¨åˆ° <code>_dictMetas</code>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">
<span class="hljs-attr">this._dictMetas</span> = [
 Â DictMeta.parse(<span class="hljs-string">'sys_normal_disable'</span>), // è§£æå‡ºå­—å…¸ç±»å‹ã€è¯·æ±‚åœ°å€ç­‰
 Â DictMeta.parse(<span class="hljs-string">'sys_user_sex'</span>)
]<span class="hljs-comment">;</span>
</code></pre>
</li>
<li>
<p><strong>åˆå§‹åŒ–å“åº”å¼æ•°æ®</strong>ï¼šéå† <code>_dictMetas</code>ï¼Œä¸ºæ¯ä¸ªå­—å…¸ç±»å‹åˆå§‹åŒ–å“åº”å¼çš„ <code>label</code> å’Œ <code>type</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-comment">// ä»¥sys_user_sexä¸ºä¾‹</span>
Vue.<span class="hljs-keyword">set</span>(<span class="hljs-keyword">this</span>.label, <span class="hljs-string">'sys_user_sex'</span>, {}); <span class="hljs-comment">// å“åº”å¼åˆ›å»º label.sys_user_sex</span>
Vue.<span class="hljs-keyword">set</span>(<span class="hljs-keyword">this</span>.type, <span class="hljs-string">'sys_user_sex'</span>, []); Â <span class="hljs-comment">// å“åº”å¼åˆ›å»º type.sys_user_sex</span>
</code></pre>
<p>âœ¨ å…³é”®ï¼šç”¨ <code>Vue.set</code> æ˜¯ä¸ºäº†è®© <code>label</code>/<code>type</code> çš„å­å±æ€§ä¹Ÿå…·å¤‡å“åº”å¼ï¼ˆVue æ— æ³•æ£€æµ‹å¯¹è±¡æ–°å¢å±æ€§ï¼Œå¿…é¡»ç”¨ <code>Vue.set</code>ï¼‰ï¼›</p>
</li>
<li>
<p><strong>åŠ è½½éå»¶è¿Ÿå­—å…¸</strong>ï¼šä¸¤ä¸ªå­—å…¸éƒ½ä¸æ˜¯å»¶è¿ŸåŠ è½½ï¼ˆ<code>lazy: false</code>ï¼‰ï¼Œè°ƒç”¨ <code>loadDict()</code> åŠ è½½æ•°æ®ï¼Œå¹¶æŠŠ Promise å­˜å…¥æ•°ç»„ <code>ps</code>ï¼›</p>
</li>
<li>
<p><strong>ç­‰å¾…æ‰€æœ‰åŠ è½½å®Œæˆ</strong>ï¼šè¿”å› <code>Promise.all(ps)</code>ï¼Œç¡®ä¿ä¸¤ä¸ªå­—å…¸éƒ½åŠ è½½å®Œå†æ‰§è¡Œåç»­å›è°ƒã€‚</p>
</li>
</ol>
<h5 data-id="heading-6">æ­¥éª¤3ï¼š<code>loadDict()</code> å®é™…åŠ è½½å­—å…¸æ•°æ®</h5>
<p>è¿™æ˜¯æ ¸å¿ƒæ­¥éª¤ï¼Œè´Ÿè´£ä»åç«¯è¯·æ±‚æ•°æ®å¹¶å¤„ç†ï¼š</p>
<ol start="0">
<li>
<p><strong>å‘èµ·è¯·æ±‚</strong>ï¼šè°ƒç”¨ <code>dictMeta.request(dictMeta)</code>ï¼ˆ<code>DictMeta</code> ç±»çš„ <code>request</code> æ–¹æ³•ï¼Œå®é™…æ˜¯è°ƒç”¨åç«¯æ¥å£ï¼‰ï¼›</p>
</li>
<li>
<p><strong>å¤„ç†å“åº”æ•°æ®</strong>ï¼šç”¨ <code>dictMeta.responseConverter</code> æŠŠåç«¯è¿”å›çš„åŸå§‹æ•°æ®è½¬æ¢æˆ <code>DictData</code> å®ä¾‹æ•°ç»„ï¼ˆæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">
<span class="hljs-comment">// åç«¯è¿”å› â†’ è½¬æ¢å</span>
[{value: <span class="hljs-number">1</span>, label: <span class="hljs-string">'ç”·'</span>}, {value: <span class="hljs-number">2</span>, label: <span class="hljs-string">'å¥³'</span>}] â†’ [<span class="hljs-keyword">new</span> <span class="hljs-built_in">DictData</span>(<span class="hljs-number">1</span>, <span class="hljs-string">'ç”·'</span>), <span class="hljs-keyword">new</span> <span class="hljs-built_in">DictData</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'å¥³'</span>)]
</code></pre>
</li>
<li>
<p><strong>éªŒè¯æ•°æ®æ ¼å¼</strong>ï¼šç¡®ä¿è½¬æ¢åæ˜¯ <code>DictData</code> æ•°ç»„ï¼Œå¦åˆ™æ¸…ç©ºæ•°æ®é¿å…æŠ¥é”™ï¼›</p>
</li>
<li>
<p><strong>æ›´æ–° <code>type</code> æ•°ç»„</strong>ï¼šç”¨ <code>splice</code> æ›¿æ¢æ•°ç»„å†…å®¹ï¼ˆä¿æŒæ•°ç»„å¼•ç”¨ä¸å˜ï¼Œå“åº”å¼ä¸ä¸¢å¤±ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python">
// ä»¥sys_user_sexä¸ºä¾‹
<span class="hljs-built_in">dict</span>.<span class="hljs-built_in">type</span>.sys_user_sex.splice(<span class="hljs-number">0</span>, Number.MAX_SAFE_INTEGER, ...dicts);
// æ­¤æ—¶ <span class="hljs-built_in">dict</span>.<span class="hljs-built_in">type</span>.sys_user_sex = [DictData{value:<span class="hljs-number">1</span>, label:<span class="hljs-string">'ç”·'</span>}, DictData{value:<span class="hljs-number">2</span>, label:<span class="hljs-string">'å¥³'</span>}]
</code></pre>
</li>
<li>
<p><strong>æ›´æ–° <code>label</code> æ˜ å°„</strong>ï¼šéå† <code>DictData</code> æ•°ç»„ï¼Œå»ºç«‹ã€Œå€¼â†’æ ‡ç­¾ã€çš„æ˜ å°„ï¼š</p>
<pre><code class="hljs language-python" lang="python">
// ä»¥sys_user_sexä¸ºä¾‹
Vue.<span class="hljs-built_in">set</span>(<span class="hljs-built_in">dict</span>.label.sys_user_sex, <span class="hljs-number">1</span>, <span class="hljs-string">'ç”·'</span>);
Vue.<span class="hljs-built_in">set</span>(<span class="hljs-built_in">dict</span>.label.sys_user_sex, <span class="hljs-number">2</span>, <span class="hljs-string">'å¥³'</span>);
// æ­¤æ—¶ <span class="hljs-built_in">dict</span>.label.sys_user_sex = {<span class="hljs-number">1</span>: <span class="hljs-string">'ç”·'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'å¥³'</span>}
</code></pre>
</li>
</ol>
<h5 data-id="heading-7">æ­¥éª¤4ï¼šåŠ è½½å®Œæˆåï¼Œ<code>Dict</code> å®ä¾‹çš„æœ€ç»ˆçŠ¶æ€</h5>
<pre><code class="hljs language-css" lang="css">
dict = {
 Â owner: å½“å‰ç»„ä»¶å®ä¾‹,
 Â label: {
 Â  Â sys_normal_disable: {<span class="hljs-number">0</span>: <span class="hljs-string">'æ­£å¸¸'</span>, <span class="hljs-number">1</span>: <span class="hljs-string">'ç¦ç”¨'</span>},
 Â  Â sys_user_sex: {<span class="hljs-number">1</span>: <span class="hljs-string">'ç”·'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'å¥³'</span>}
  },
 Â type: {
 Â  Â sys_normal_disable: [DictData{value:<span class="hljs-number">0</span>, label:<span class="hljs-string">'æ­£å¸¸'</span>}, DictData{value:<span class="hljs-number">1</span>, label:<span class="hljs-string">'ç¦ç”¨'</span>}],
 Â  Â sys_user_sex: [DictData{value:<span class="hljs-number">1</span>, label:<span class="hljs-string">'ç”·'</span>}, DictData{value:<span class="hljs-number">2</span>, label:<span class="hljs-string">'å¥³'</span>}]
  },
 Â _dictMetas: [DictMeta{type: <span class="hljs-string">'sys_normal_disable'</span>}, DictMeta{type: <span class="hljs-string">'sys_user_sex'</span>}]
}
</code></pre>
<h4 data-id="heading-8">ä¸‰ã€å­—å…¸æ•°æ®æœ€ç»ˆå­˜åœ¨å“ªé‡Œï¼Ÿæ€ä¹ˆç”¨ï¼Ÿ</h4>
<h5 data-id="heading-9">1. æ•°æ®å­˜å‚¨ä½ç½®ï¼ˆæ ¸å¿ƒï¼ï¼‰</h5>
<ul>
<li><strong>å®Œæ•´å­—å…¸æ•°ç»„</strong>ï¼šå­˜åœ¨ <code>this.dict.type[å­—å…¸ç±»å‹]</code> ä¸­ï¼ˆæ¯”å¦‚ <code>this.dict.type.sys_user_sex</code>ï¼‰ï¼›</li>
<li><strong>æ ‡ç­¾æ˜ å°„è¡¨</strong>ï¼šå­˜åœ¨ <code>this.dict.label[å­—å…¸ç±»å‹]</code> ä¸­ï¼ˆæ¯”å¦‚ <code>this.dict.label.sys_user_sex</code>ï¼‰ï¼›</li>
<li>ä¸¤è€…éƒ½æ˜¯<strong>å“åº”å¼æ•°æ®</strong>ï¼ˆå› ä¸ºç”¨ <code>Vue.set</code> åˆ›å»ºï¼‰ï¼Œæ•°æ®æ›´æ–°åæ¨¡æ¿ä¼šè‡ªåŠ¨åˆ·æ–°ã€‚</li>
</ul>
<h5 data-id="heading-10">2. å®é™…å¼€å‘ä¸­æ€ä¹ˆä½¿ç”¨è¿™äº›æ•°æ®ï¼Ÿ</h5>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-comment">&lt;!-- 1. ä¸‹æ‹‰æ¡†ï¼šç”¨typeå–å®Œæ•´æ•°ç»„ --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">el-select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.sex"</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span>
 Â  Â  Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in dict.type.sys_user_sex"</span>
 Â  Â  Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.value"</span>
 Â  Â  Â <span class="hljs-attr">:label</span>=<span class="hljs-string">"item.label"</span>
 Â  Â  Â <span class="hljs-attr">:value</span>=<span class="hljs-string">"item.value"</span>
 Â  Â /&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">el-select</span>&gt;</span>
â€‹
 Â <span class="hljs-comment">&lt;!-- 2. æ˜¾ç¤ºæ ‡ç­¾ï¼šç”¨labelå¿«é€Ÿå–å€¼ --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>ç”¨æˆ·çŠ¶æ€ï¼š{{ dict.label.sys_normal_disable[form.status] }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">dicts</span>: [<span class="hljs-string">'sys_normal_disable'</span>, <span class="hljs-string">'sys_user_sex'</span>],
 Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-keyword">return</span> {
 Â  Â  Â <span class="hljs-attr">form</span>: { <span class="hljs-attr">sex</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">status</span>: <span class="hljs-number">0</span> }
 Â   }
  },
 Â <span class="hljs-attr">methods</span>: {
 Â  Â <span class="hljs-comment">// 3. æ–¹æ³•ä¸­é‡æ–°åŠ è½½å­—å…¸</span>
 Â  Â <span class="hljs-title function_">refreshDict</span>(<span class="hljs-params"/>) {
 Â  Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">dict</span>.<span class="hljs-title function_">reloadDict</span>(<span class="hljs-string">'sys_user_sex'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
 Â  Â  Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ€§åˆ«å­—å…¸é‡æ–°åŠ è½½å®Œæˆ'</span>);
 Â  Â   });
 Â   }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4 data-id="heading-11">å››ã€å…³é”®è®¾è®¡äº®ç‚¹ï¼ˆæ–°æ‰‹éœ€è¦ç†è§£ï¼‰</h4>
<ol start="0">
<li><strong>å“åº”å¼ä¿éšœ</strong>ï¼šç”¨ <code>Vue.set</code> åˆå§‹åŒ– <code>label</code>/<code>type</code> çš„å­å±æ€§ï¼Œç¡®ä¿æ•°æ®æ›´æ–°åæ¨¡æ¿èƒ½å“åº”ï¼›</li>
<li><strong>æ•°ç»„å¼•ç”¨ä¸å˜</strong>ï¼šæ›´æ–° <code>type</code> æ•°ç»„æ—¶ç”¨ <code>splice</code> æ›¿æ¢å†…å®¹ï¼Œè€Œä¸æ˜¯ç›´æ¥èµ‹å€¼ï¼ˆ<code>dict.type[type] = dicts</code>ï¼‰ï¼Œé¿å…ç»„ä»¶ä¸­ç»‘å®šçš„æ•°ç»„ä¸¢å¤±å“åº”å¼ï¼›</li>
<li><strong>æ•°æ®æ ‡å‡†åŒ–</strong>ï¼šç”¨ <code>DictData</code> ç±»åŒ…è£…å­—å…¸é¡¹ï¼Œç¡®ä¿æ‰€æœ‰å­—å…¸æ•°æ®ç»“æ„ä¸€è‡´ï¼›</li>
<li><strong>å…ƒæ•°æ®è§£è€¦</strong>ï¼šç”¨ <code>DictMeta</code> å¤„ç†å­—å…¸çš„è¯·æ±‚ã€è½¬æ¢é€»è¾‘ï¼Œè®© <code>Dict</code> ç±»åªè´Ÿè´£ç®¡ç†æ•°æ®ï¼ŒèŒè´£æ›´æ¸…æ™°ã€‚</li>
</ol>
<h4 data-id="heading-12">æ€»ç»“</h4>
<ol start="0">
<li><strong>æ•°æ®å­˜å‚¨æ ¸å¿ƒ</strong>ï¼šå­—å…¸æ•°æ®æœ€ç»ˆå­˜åœ¨ <code>this.dict.type</code>ï¼ˆå®Œæ•´æ•°ç»„ï¼‰å’Œ <code>this.dict.label</code>ï¼ˆæ ‡ç­¾æ˜ å°„ï¼‰ä¸­ï¼Œéƒ½æ˜¯å“åº”å¼å±æ€§ï¼›</li>
<li><strong>æ‰§è¡Œæµç¨‹</strong>ï¼šåˆ›å»º Dict å®ä¾‹ â†’ init è§£æé…ç½® â†’ loadDict å‘èµ·è¯·æ±‚ â†’ å¤„ç†æ•°æ®å¹¶æ›´æ–°åˆ° type/label â†’ ç»„ä»¶å¯ç›´æ¥ä½¿ç”¨ï¼›</li>
<li><strong>ä½¿ç”¨æ–¹å¼</strong>ï¼šæ¨¡æ¿ä¸­ç”¨ <code>dict.type[ç±»å‹]</code> æ¸²æŸ“ä¸‹æ‹‰æ¡†ï¼Œç”¨ <code>dict.label[ç±»å‹][å€¼]</code> å¿«é€Ÿæ˜¾ç¤ºæ ‡ç­¾ã€‚</li>
</ol>
<p>ç®€å•æ¥è¯´ï¼Œè¿™ä¸ª <code>Dict</code> ç±»å°±æ˜¯æŠŠåç«¯è¿”å›çš„å­—å…¸æ•°æ®ï¼Œè½¬æ¢æˆäº†ç»„ä»¶èƒ½ç›´æ¥ç”¨çš„ã€å“åº”å¼çš„â€œæ•°ç»„+æ˜ å°„è¡¨â€ç»“æ„ï¼Œæ–¹ä¾¿å¼€å‘ä¸­å¿«é€Ÿä½¿ç”¨ã€‚</p>
<h2 data-id="heading-13">3 <code>this.$refs.tree.filter(val)</code></h2>
<p><code>this.$refs.tree.filter(val)</code> è¿™è¡Œä»£ç é‡Œæ¯ä¸ªéƒ¨åˆ†çš„å«ä¹‰</p>
<h4 data-id="heading-14">ä¸€ã€é€éƒ¨åˆ†è§£ææ ¸å¿ƒæ¦‚å¿µ</h4>
<h5 data-id="heading-15">1. <code>this</code> æŒ‡çš„æ˜¯è°ï¼Ÿ</h5>
<p>å’Œä¹‹å‰è®²çš„ Vue ç»„ä»¶ä¸­ <code>this</code> çš„å«ä¹‰å®Œå…¨ä¸€è‡´ï¼š<strong><code>this</code> æŒ‡å‘å½“å‰æ‰§è¡Œè¿™æ®µä»£ç çš„ Vue ç»„ä»¶å®ä¾‹</strong>ã€‚</p>
<ul>
<li>æ¯”å¦‚è¿™æ®µä»£ç å†™åœ¨ <code>UserList</code> ç»„ä»¶çš„ <code>methods</code> é‡Œï¼Œç‚¹å‡»æŒ‰é’®è§¦å‘è¯¥æ–¹æ³•æ—¶ï¼Œ<code>this</code> å°±æ˜¯ <code>UserList</code> ç»„ä»¶å®ä¾‹ï¼›</li>
<li>å†™åœ¨ç»„ä»¶çš„ <code>created</code>/<code>mounted</code> é’©å­ä¸­ï¼Œ<code>this</code> ä¹Ÿæ˜¯å½“å‰ç»„ä»¶å®ä¾‹ï¼›</li>
<li>æ ¸å¿ƒï¼š<code>this</code> æ°¸è¿œæ˜¯â€œå½“å‰ä»£ç æ‰€å±çš„é‚£ä¸ªç»„ä»¶â€ã€‚</li>
</ul>
<h5 data-id="heading-16">2. <code>$refs</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h5>
<p><code>$refs</code> æ˜¯ Vue ç»„ä»¶å®ä¾‹çš„<strong>å†…ç½®å±æ€§</strong>ï¼Œä½œç”¨æ˜¯ï¼š<strong>è·å–ç»„ä»¶æ¨¡æ¿ä¸­é€šè¿‡ <code>ref</code> å±æ€§æ ‡è®°çš„ DOM å…ƒç´ æˆ–å­ç»„ä»¶å®ä¾‹</strong>ã€‚</p>
<ul>
<li>ä½ å¯ä»¥æŠŠ <code>$refs</code> ç†è§£æˆä¸€ä¸ªâ€œå¼•ç”¨å­—å…¸â€ï¼šé”®æ˜¯æ¨¡æ¿ä¸­ <code>ref</code> çš„å€¼ï¼Œå€¼æ˜¯å¯¹åº”çš„ DOM/ç»„ä»¶å®ä¾‹ï¼›</li>
<li>æ³¨æ„ï¼š<code>$refs</code> åªæœ‰åœ¨ç»„ä»¶<strong>æŒ‚è½½å®Œæˆï¼ˆmounted é’©å­ä¹‹åï¼‰</strong> æ‰ä¼šæœ‰å€¼ï¼ˆDOM æ¸²æŸ“å®Œæˆï¼‰ï¼Œåœ¨ <code>created</code> ä¸­è®¿é—® <code>$refs</code> ä¼šæ˜¯ <code>undefined</code>ã€‚</li>
</ul>
<h5 data-id="heading-17">3. <code>tree</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h5>
<p><code>tree</code> æ˜¯ä½ åœ¨æ¨¡æ¿ä¸­ç»™æŸä¸ªå…ƒç´ /ç»„ä»¶è®¾ç½®çš„ <code>ref</code> å±æ€§å€¼ï¼Œæ˜¯<strong>è‡ªå®šä¹‰çš„åç§°</strong>ï¼ˆä½ ä¹Ÿå¯ä»¥å‘½åä¸º <code>myTree</code>ã€<code>deptTree</code> ç­‰ï¼‰ã€‚æ¯”å¦‚æ¨¡æ¿ä¸­ä¼šæœ‰è¿™æ ·çš„ä»£ç ï¼ˆä»¥ Element UI çš„æ ‘å½¢ç»„ä»¶ä¸ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-comment">&lt;!-- ç»™æ ‘å½¢ç»„ä»¶è®¾ç½® ref="tree" --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">el-tree</span>
 Â  Â <span class="hljs-attr">ref</span>=<span class="hljs-string">"tree"</span> Â &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">å…³é”®</span>ï¼š<span class="hljs-attr">refçš„å€¼æ˜¯tree</span> <span class="hljs-attr">--</span>&gt;</span>
 Â   :data="treeData"
 Â   :filter-node-method="filterNode"
  /&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>æ­¤æ—¶ <code>this.$refs.tree</code> å°±æŒ‡å‘è¿™ä¸ª <code>&lt;el-tree&gt;</code> ç»„ä»¶çš„å®ä¾‹ï¼ˆä¸æ˜¯ DOM å…ƒç´ ï¼Œæ˜¯ç»„ä»¶å®ä¾‹ï¼‰ã€‚</p>
<h5 data-id="heading-18">4. <code>filter</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h5>
<p><code>filter</code> æ˜¯ <code>&lt;el-tree&gt;</code>ï¼ˆElement UI æ ‘å½¢ç»„ä»¶ï¼‰<strong>å†…ç½®çš„æ–¹æ³•</strong>ï¼Œä½œç”¨æ˜¯ï¼š<strong>è§¦å‘æ ‘å½¢ç»„ä»¶çš„èŠ‚ç‚¹è¿‡æ»¤åŠŸèƒ½</strong>ï¼Œæ ¹æ®ä¼ å…¥çš„ <code>val</code> ç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹å¹¶å±•ç¤ºã€‚</p>
<ul>
<li>è¿™ä¸ª <code>filter</code> æ–¹æ³•æ˜¯ Element UI å°è£…å¥½çš„ï¼Œä¸æ˜¯ Vue åŸç”Ÿæ–¹æ³•ï¼›</li>
<li>ä¼ å…¥çš„ <code>val</code> æ˜¯â€œè¿‡æ»¤å…³é”®è¯â€ï¼Œæ ‘å½¢ç»„ä»¶ä¼šæ ¹æ®ä½ é…ç½®çš„ <code>filter-node-method</code> æ–¹æ³•ï¼Œç”¨è¿™ä¸ªå…³é”®è¯ç­›é€‰èŠ‚ç‚¹ã€‚</li>
</ul>
<h4 data-id="heading-19">äºŒã€å®Œæ•´ç¤ºä¾‹ï¼šç»“åˆä»£ç ç†è§£</h4>
<h5 data-id="heading-20">æ¨¡æ¿éƒ¨åˆ†ï¼ˆElement UI æ ‘å½¢ç»„ä»¶ï¼‰</h5>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- è¾“å…¥æ¡†ï¼šè¾“å…¥è¿‡æ»¤å…³é”®è¯ --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span>
 Â  Â  Â <span class="hljs-attr">v-model</span>=<span class="hljs-string">"filterText"</span>
 Â  Â  Â <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥ç­›é€‰å…³é”®è¯"</span>
 Â  Â  Â @<span class="hljs-attr">input</span>=<span class="hljs-string">"handleFilter"</span> Â &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">è¾“å…¥æ—¶è§¦å‘è¿‡æ»¤</span> <span class="hljs-attr">--</span>&gt;</span>
 Â   /&gt;
 Â  Â <span class="hljs-comment">&lt;!-- æ ‘å½¢ç»„ä»¶ï¼šè®¾ç½®ref="tree"ï¼Œé…ç½®è¿‡æ»¤æ–¹æ³• --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-tree</span>
 Â  Â  Â <span class="hljs-attr">ref</span>=<span class="hljs-string">"tree"</span>
 Â  Â  Â <span class="hljs-attr">:data</span>=<span class="hljs-string">"treeData"</span>
 Â  Â  Â <span class="hljs-attr">:filter-node-method</span>=<span class="hljs-string">"filterNode"</span> Â &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">å®šä¹‰è¿‡æ»¤è§„åˆ™</span> <span class="hljs-attr">--</span>&gt;</span>
 Â  Â   default-expand-all
 Â   /&gt;
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h5 data-id="heading-21">è„šæœ¬éƒ¨åˆ†</h5>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-keyword">return</span> {
 Â  Â  Â <span class="hljs-attr">filterText</span>: <span class="hljs-string">''</span>, <span class="hljs-comment">// è¿‡æ»¤å…³é”®è¯</span>
 Â  Â  Â <span class="hljs-attr">treeData</span>: [ <span class="hljs-comment">// æ ‘å½¢æ•°æ®</span>
 Â  Â  Â   { <span class="hljs-attr">label</span>: <span class="hljs-string">'éƒ¨é—¨1'</span>, <span class="hljs-attr">children</span>: [{ <span class="hljs-attr">label</span>: <span class="hljs-string">'å‘˜å·¥1'</span> }, { <span class="hljs-attr">label</span>: <span class="hljs-string">'å‘˜å·¥2'</span> }] },
 Â  Â  Â   { <span class="hljs-attr">label</span>: <span class="hljs-string">'éƒ¨é—¨2'</span>, <span class="hljs-attr">children</span>: [{ <span class="hljs-attr">label</span>: <span class="hljs-string">'å‘˜å·¥3'</span> }, { <span class="hljs-attr">label</span>: <span class="hljs-string">'å‘˜å·¥4'</span> }] }
 Â  Â   ]
 Â   }
  },
 Â <span class="hljs-attr">methods</span>: {
 Â  Â <span class="hljs-comment">// è§¦å‘è¿‡æ»¤çš„æ–¹æ³•</span>
 Â  Â <span class="hljs-title function_">handleFilter</span>(<span class="hljs-params"/>) {
 Â  Â  Â <span class="hljs-comment">// æ ¸å¿ƒä»£ç ï¼šè°ƒç”¨æ ‘å½¢ç»„ä»¶çš„filteræ–¹æ³•ï¼Œä¼ å…¥è¿‡æ»¤å…³é”®è¯</span>
 Â  Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">tree</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">filterText</span>);
 Â   },
 Â  Â <span class="hljs-comment">// è¿‡æ»¤è§„åˆ™ï¼šåˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦åŒ¹é…å…³é”®è¯</span>
 Â  Â <span class="hljs-title function_">filterNode</span>(<span class="hljs-params">value, data</span>) {
 Â  Â  Â <span class="hljs-keyword">if</span> (!value) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ— å…³é”®è¯æ—¶æ˜¾ç¤ºæ‰€æœ‰èŠ‚ç‚¹</span>
 Â  Â  Â <span class="hljs-comment">// èŠ‚ç‚¹labelåŒ…å«å…³é”®è¯åˆ™æ˜¾ç¤º</span>
 Â  Â  Â <span class="hljs-keyword">return</span> data.<span class="hljs-property">label</span>.<span class="hljs-title function_">indexOf</span>(value) !== -<span class="hljs-number">1</span>;
 Â   }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4 data-id="heading-22">ä¸‰ã€è¿™è¡Œä»£ç çš„æ•´ä½“ä½œç”¨</h4>
<p><code>this.$refs.tree.filter(val)</code> ç¿»è¯‘æˆå¤§ç™½è¯ï¼š</p>
<blockquote>
<p>â€œè®©å½“å‰ç»„ä»¶ä¸­ï¼Œæ¨¡æ¿é‡Œæ ‡è®°ä¸º <code>ref="tree"</code> çš„æ ‘å½¢ç»„ä»¶ï¼ˆel-treeï¼‰ï¼Œæ‰§è¡Œå®ƒçš„ <code>filter</code> æ–¹æ³•ï¼Œä¼ å…¥ <code>val</code> ä½œä¸ºè¿‡æ»¤å…³é”®è¯ï¼ŒæŒ‰ç…§é¢„è®¾çš„è§„åˆ™ç­›é€‰èŠ‚ç‚¹ã€‚â€</p>
</blockquote>
<h4 data-id="heading-23">å››ã€å…³é”®æ³¨æ„äº‹é¡¹ï¼ˆæ–°æ‰‹æ˜“è¸©å‘ï¼‰</h4>
<ol start="0">
<li><strong><code>$refs</code> ä¸èƒ½å“åº”å¼</strong>ï¼š<code>$refs</code> æ˜¯æ™®é€šå¯¹è±¡ï¼Œä¸æ˜¯å“åº”å¼çš„ï¼Œä¿®æ”¹ <code>ref</code> å¯¹åº”çš„ DOM/ç»„ä»¶ä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ï¼›</li>
<li><strong>å¿…é¡»æŒ‚è½½åè®¿é—®</strong>ï¼šåœ¨ <code>created</code> ä¸­è°ƒç”¨ <code>this.$refs.tree</code> ä¼šæ˜¯ <code>undefined</code>ï¼Œè¦å†™åœ¨ <code>mounted</code> æˆ–ç‚¹å‡»/è¾“å…¥ç­‰äº‹ä»¶ä¸­ï¼›</li>
<li><strong><code>filter</code> æ˜¯ç»„ä»¶å†…ç½®æ–¹æ³•</strong>ï¼šåªæœ‰ Element UI çš„ <code>el-tree</code> æœ‰è¿™ä¸ªæ–¹æ³•ï¼ŒåŸç”Ÿ DOM æˆ–å…¶ä»–ç»„ä»¶ï¼ˆå¦‚ el-tableï¼‰æ²¡æœ‰ï¼Œä¸è¦ä¹±ç”¨ï¼›</li>
<li><strong><code>tree</code> æ˜¯è‡ªå®šä¹‰çš„</strong>ï¼šå¦‚æœæ¨¡æ¿ä¸­ <code>ref="myTree"</code>ï¼Œä»£ç å°±è¦å†™æˆ <code>this.$refs.myTree.filter(val)</code>ã€‚</li>
</ol>
<h4 data-id="heading-24">æ€»ç»“</h4>
<ol start="0">
<li><code>this</code> â†’ å½“å‰ Vue ç»„ä»¶å®ä¾‹ï¼›</li>
<li><code>$refs</code> â†’ Vue å†…ç½®å±æ€§ï¼Œå­˜å‚¨æ¨¡æ¿ä¸­ <code>ref</code> æ ‡è®°çš„å…ƒç´ /ç»„ä»¶å¼•ç”¨ï¼›</li>
<li><code>tree</code> â†’ æ¨¡æ¿ä¸­ <code>ref="tree"</code> çš„è‡ªå®šä¹‰åç§°ï¼ŒæŒ‡å‘ el-tree ç»„ä»¶å®ä¾‹ï¼›</li>
<li><code>filter</code> â†’ el-tree ç»„ä»¶çš„å†…ç½®æ–¹æ³•ï¼Œç”¨äºè§¦å‘èŠ‚ç‚¹è¿‡æ»¤ï¼›</li>
<li>æ•´è¡Œä»£ç ä½œç”¨ï¼šç»™æ ‘å½¢ç»„ä»¶ä¼ å…¥å…³é”®è¯ï¼Œæ‰§è¡ŒèŠ‚ç‚¹ç­›é€‰ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€è§£å¯†æºç ã€‘WeKnora æ–‡æ¡£åˆ‡åˆ†ä¸ Chunk æ„å»ºè§£æï¼šè…¾è®¯ç”Ÿäº§çº§ RAG çš„åº•å±‚è®¾è®¡]]></title>    <link>https://juejin.cn/post/7597724783649554472</link>    <guid>https://juejin.cn/post/7597724783649554472</guid>    <pubDate>2026-01-22T07:05:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597724783649554472" data-draft-id="7597742970281361460" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€è§£å¯†æºç ã€‘WeKnora æ–‡æ¡£åˆ‡åˆ†ä¸ Chunk æ„å»ºè§£æï¼šè…¾è®¯ç”Ÿäº§çº§ RAG çš„åº•å±‚è®¾è®¡"/> <meta itemprop="keywords" content="æºç ,Agent,LLM"/> <meta itemprop="datePublished" content="2026-01-22T07:05:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸¸å…ˆæ£®"/> <meta itemprop="url" content="https://juejin.cn/user/4388906148043879"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€è§£å¯†æºç ã€‘WeKnora æ–‡æ¡£åˆ‡åˆ†ä¸ Chunk æ„å»ºè§£æï¼šè…¾è®¯ç”Ÿäº§çº§ RAG çš„åº•å±‚è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4388906148043879/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸¸å…ˆæ£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:05:38.000Z" title="Thu Jan 22 2026 07:05:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>WeKnora æ˜¯è…¾è®¯å¼€æºçš„ä¸€å¥—<strong>ç”Ÿäº§çº§ RAG æ¡†æ¶</strong>ï¼Œå®šä½éå¸¸æ˜ç¡®ï¼šè§£å†³çœŸå®ä¸šåŠ¡åœºæ™¯ä¸‹â€œæ–‡æ¡£å¤æ‚ã€ç±»å‹å¤šæ ·ã€è§„æ¨¡å¯æ§ä½†è´¨é‡è¦æ±‚æé«˜â€çš„çŸ¥è¯†å¢å¼ºé—®é¢˜ã€‚ç¤¾åŒºä¸­æœ‰äººå°†å…¶è§†ä¸º <em>ima</em> çš„å¼€æºå®ç°ä¹‹ä¸€ï¼Œè™½ç„¶è¿™ä¸€è¯´æ³•æ— ä»å®˜æ–¹è€ƒè¯ï¼Œä½†å¯ä»¥ç¡®å®šçš„æ˜¯ï¼ŒWeKnora åœ¨å·¥ç¨‹å®Œæ•´åº¦ã€è¾¹ç•Œå¤„ç†å’Œå¼‚å¸¸é™çº§ç­–ç•¥ä¸Šï¼Œæ˜¯ä¸€å¥—ç»è¿‡å®æˆ˜æ‰“ç£¨çš„ç³»ç»Ÿæ–¹æ¡ˆã€‚</p>
<p>ä»æ–‡æ¡£æ¥å…¥ã€è§£æã€åˆ‡åˆ†ã€å‘é‡åŒ–ã€å¤šæ¨¡æ€å¢å¼ºï¼Œåˆ°çŸ¥è¯†å›¾è°±ã€é—®é¢˜ç”Ÿæˆä¸æ‘˜è¦ç”Ÿæˆï¼ŒWeKnora å‡ ä¹è¦†ç›–äº†ä¸€ä¸ªå®Œæ•´ RAG ç³»ç»Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯èƒ½é‡åˆ°çš„æ‰€æœ‰å…³é”®é—®é¢˜ã€‚å°¤å…¶æ˜¯åœ¨<strong>æ–‡æ¡£è§£æä¸ Chunk æ„å»º</strong>è¿™ä¸€æœ€å®¹æ˜“è¢«ä½ä¼°ã€å´æœ€å½±å“æ£€ç´¢ä¸ç”Ÿæˆè´¨é‡çš„ç¯èŠ‚ï¼ŒWeKnora ç»™å‡ºäº†ä¸€å¥—ç›¸å½“æˆç†Ÿä¸”å¯å¤ç”¨çš„è®¾è®¡ã€‚</p>
<p>æœ¬æ–‡å°†èšç„¦ WeKnora çš„<strong>æ–‡æ¡£æ¥å…¥ä¸è§£æä½“ç³»</strong>ï¼Œä»æ–‡ä»¶/URL/æ‰‹åŠ¨åˆ›å»ºä¸‰ç§å…¥å£å¼€å§‹ï¼Œæ·±å…¥æ‹†è§£å…¶è§£æå™¨æ¶æ„ã€Markdown ç»Ÿä¸€ä¸­é—´è¡¨ç¤ºã€è¯­ä¹‰åˆ‡åˆ†ç­–ç•¥ã€å¤šæ¨¡æ€å¤„ç†ï¼Œä»¥åŠæœ€ç»ˆå¦‚ä½•æ„å»ºå¯ç”¨äºæ£€ç´¢ä¸æ¨ç†çš„ Chunk æ•°æ®ç»“æ„ã€‚</p>
<h2 data-id="heading-1">ä¸Šä¼ æ–¹å¼</h2>
<h3 data-id="heading-2">æ–‡ä»¶ä¸Šä¼ </h3>
<p>ä¸Šä¼ æ–‡ä»¶ â†’ è®¡ç®—Hashå»é‡ â†’ å­˜å‚¨æ–‡ä»¶ â†’ å¼‚æ­¥è§£æ</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//Â ServiceÂ å±‚Â -Â æ ¸å¿ƒé€»è¾‘</span>
<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-params">(sÂ *knowledgeService)</span></span>Â CreateKnowledgeFromFile(ctxÂ context.Context,Â kbIDÂ <span class="hljs-type">string</span>,Â 
Â Â Â Â fileÂ *multipart.FileHeader,Â metadataÂ <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>,Â enableMultimodelÂ *<span class="hljs-type">bool</span>,Â customFileNameÂ <span class="hljs-type">string</span>,
)Â (*types.Knowledge,Â <span class="hljs-type">error</span>)Â {
Â Â Â Â <span class="hljs-comment">//Â 1.Â è®¡ç®—æ–‡ä»¶Â Hashï¼ˆå»é‡æ£€æµ‹ï¼‰</span>
Â Â Â Â fileContent,Â _Â :=Â file.Open()
Â Â Â Â fileHashÂ :=Â calculateFileHash(fileContent)
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â 2.Â æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒæ–‡ä»¶</span>
Â Â Â Â existing,Â _Â :=Â s.repo.FindByFileHash(ctx,Â kbID,Â fileHash)
Â Â Â Â <span class="hljs-keyword">if</span>Â existingÂ !=Â <span class="hljs-literal">nil</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â existing,Â &amp;types.DuplicateKnowledgeError{
Â Â Â Â Â Â Â Â Â Â Â Â ExistingID:Â existing.ID,
Â Â Â Â Â Â Â Â Â Â Â Â Message:Â Â Â Â <span class="hljs-string">"ç›¸åŒæ–‡ä»¶å·²å­˜åœ¨"</span>,
Â Â Â Â Â Â Â Â }
Â Â Â Â }
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â 3.Â ä¸Šä¼ æ–‡ä»¶åˆ°å­˜å‚¨æœåŠ¡ï¼ˆMinIO/COSï¼‰</span>
Â Â Â Â filePath,Â _Â :=Â s.storage.Upload(fileContent,Â fileName)
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â 4.Â åˆ›å»ºÂ KnowledgeÂ è®°å½•</span>
Â Â Â Â knowledgeÂ :=Â &amp;types.Knowledge{
Â Â Â Â Â Â Â Â ID:Â Â Â Â Â Â Â Â Â Â uuid.New().String(),
Â Â Â Â Â Â Â Â Type:Â Â Â Â Â Â Â Â <span class="hljs-string">"file"</span>,
Â Â Â Â Â Â Â Â FileName:Â Â Â Â fileName,
Â Â Â Â Â Â Â Â FileType:Â Â Â Â getFileType(fileName),Â Â <span class="hljs-comment">//Â pdf,Â docx,Â xlsx...</span>
Â Â Â Â Â Â Â Â FileHash:Â Â Â Â fileHash,
Â Â Â Â Â Â Â Â FilePath:Â Â Â Â filePath,
Â Â Â Â Â Â Â Â FileSize:Â Â Â Â file.Size,
Â Â Â Â Â Â Â Â ParseStatus:Â types.ParseStatusPending,Â Â <span class="hljs-comment">//Â ç­‰å¾…å¼‚æ­¥å¤„ç†</span>
Â Â Â Â Â Â Â Â Metadata:Â Â Â Â metadata,
Â Â Â Â }
Â Â Â Â s.repo.CreateKnowledge(ctx,Â knowledge)
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â 5.Â å…¥é˜Ÿå¼‚æ­¥è§£æä»»åŠ¡</span>
Â Â Â Â payloadÂ :=Â types.DocumentProcessPayload{
Â Â Â Â Â Â Â Â KnowledgeID:Â Â Â Â Â knowledge.ID,
Â Â Â Â Â Â Â Â EnableMultimodel:Â enableMultimodel,
Â Â Â Â }
Â Â Â Â taskÂ :=Â asynq.NewTask(types.TypeDocumentProcess,Â payload)
Â Â Â Â s.task.Enqueue(task)
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">return</span>Â knowledge,Â <span class="hljs-literal">nil</span>
}
</code></pre>
<h3 data-id="heading-3">URL åˆ›å»º</h3>
<p>æ¥æ”¶URL â†’ URLå»é‡ â†’ å¼‚æ­¥æŠ“å–è§£æ</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//Â ServiceÂ å±‚Â -Â æ ¸å¿ƒé€»è¾‘</span>
<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-params">(sÂ *knowledgeService)</span></span>Â CreateKnowledgeFromURL(ctxÂ context.Context,Â 
Â Â Â Â kbID,Â urlÂ <span class="hljs-type">string</span>,Â enableMultimodelÂ *<span class="hljs-type">bool</span>,Â titleÂ <span class="hljs-type">string</span>,
)Â (*types.Knowledge,Â <span class="hljs-type">error</span>)Â {
Â Â Â Â <span class="hljs-comment">//Â 1.Â éªŒè¯Â URLÂ æ ¼å¼</span>
Â Â Â Â <span class="hljs-keyword">if</span>Â !isValidURL(url)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">nil</span>,Â errors.NewBadRequestError(<span class="hljs-string">"æ— æ•ˆçš„URLæ ¼å¼"</span>)
Â Â Â Â }
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â 2.Â æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒÂ URL</span>
Â Â Â Â existing,Â _Â :=Â s.repo.FindBySourceURL(ctx,Â kbID,Â url)
Â Â Â Â <span class="hljs-keyword">if</span>Â existingÂ !=Â <span class="hljs-literal">nil</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â existing,Â &amp;types.DuplicateKnowledgeError{
Â Â Â Â Â Â Â Â Â Â Â Â ExistingID:Â existing.ID,
Â Â Â Â Â Â Â Â Â Â Â Â Message:Â Â Â Â <span class="hljs-string">"ç›¸åŒURLå·²å­˜åœ¨"</span>,
Â Â Â Â Â Â Â Â }
Â Â Â Â }
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â 3.Â åˆ›å»ºÂ KnowledgeÂ è®°å½•</span>
Â Â Â Â knowledgeÂ :=Â &amp;types.Knowledge{
Â Â Â Â Â Â Â Â ID:Â Â Â Â Â Â Â Â Â Â uuid.New().String(),
Â Â Â Â Â Â Â Â Type:Â Â Â Â Â Â Â Â <span class="hljs-string">"url"</span>,
Â Â Â Â Â Â Â Â SourceURL:Â Â Â url,
Â Â Â Â Â Â Â Â Title:Â Â Â Â Â Â Â title,
Â Â Â Â Â Â Â Â FileName:Â Â Â Â extractFileNameFromURL(url),Â Â <span class="hljs-comment">//Â ä»Â URLÂ æå–æ–‡ä»¶å</span>
Â Â Â Â Â Â Â Â FileType:Â Â Â Â <span class="hljs-string">"html"</span>,
Â Â Â Â Â Â Â Â ParseStatus:Â types.ParseStatusPending,Â Â <span class="hljs-comment">//Â ç­‰å¾…å¼‚æ­¥å¤„ç†</span>
Â Â Â Â }
Â Â Â Â s.repo.CreateKnowledge(ctx,Â knowledge)
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â 4.Â å…¥é˜Ÿå¼‚æ­¥æŠ“å–ä»»åŠ¡</span>
Â Â Â Â payloadÂ :=Â types.DocumentProcessPayload{
Â Â Â Â Â Â Â Â KnowledgeID:Â Â Â Â Â Â knowledge.ID,
Â Â Â Â Â Â Â Â SourceURL:Â Â Â Â Â Â Â Â url,Â Â <span class="hljs-comment">//Â ä¼ é€’Â URLÂ ä¾›å¼‚æ­¥ä»»åŠ¡æŠ“å–</span>
Â Â Â Â Â Â Â Â EnableMultimodel:Â enableMultimodel,
Â Â Â Â }
Â Â Â Â taskÂ :=Â asynq.NewTask(types.TypeDocumentProcess,Â payload)
Â Â Â Â s.task.Enqueue(task)
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">return</span>Â knowledge,Â <span class="hljs-literal">nil</span>
}
</code></pre>
<h3 data-id="heading-4">æ‰‹åŠ¨åˆ›å»º</h3>
<p>æ¥æ”¶Markdownå†…å®¹ â†’ æ— å»é‡ â†’ åŒæ­¥å¤„ç†</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//Â ServiceÂ å±‚Â -Â æ ¸å¿ƒé€»è¾‘ï¼ˆåŒæ­¥å¤„ç†ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-params">(sÂ *knowledgeService)</span></span>Â CreateKnowledgeFromManual(ctxÂ context.Context,Â 
Â Â Â Â kbIDÂ <span class="hljs-type">string</span>,Â reqÂ *types.ManualKnowledgePayload,
)Â (*types.Knowledge,Â <span class="hljs-type">error</span>)Â {
Â Â Â Â <span class="hljs-comment">//Â 1.Â åˆ›å»ºÂ KnowledgeÂ è®°å½•</span>
Â Â Â Â knowledgeÂ :=Â &amp;types.Knowledge{
Â Â Â Â Â Â Â Â ID:Â Â Â Â Â Â Â Â Â Â uuid.New().String(),
Â Â Â Â Â Â Â Â Type:Â Â Â Â Â Â Â Â <span class="hljs-string">"manual"</span>,
Â Â Â Â Â Â Â Â Title:Â Â Â Â Â Â Â req.Title,
Â Â Â Â Â Â Â Â FileName:Â Â Â Â req.TitleÂ +Â <span class="hljs-string">".md"</span>,
Â Â Â Â Â Â Â Â FileType:Â Â Â Â <span class="hljs-string">"md"</span>,
Â Â Â Â Â Â Â Â ParseStatus:Â types.ParseStatusProcessing,Â Â <span class="hljs-comment">//Â ç›´æ¥å¼€å§‹å¤„ç†</span>
Â Â Â Â }
Â Â Â Â s.repo.CreateKnowledge(ctx,Â knowledge)
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â 2.Â åŒæ­¥è§£æÂ MarkdownÂ å†…å®¹ï¼ˆæ— éœ€å¼‚æ­¥ä»»åŠ¡ï¼‰</span>
Â Â Â Â chunksÂ :=Â s.parseMarkdown(req.Content)
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â 3.Â åŒæ­¥å¤„ç†Â Chunksï¼ˆç”ŸæˆÂ embeddingã€ç´¢å¼•ï¼‰</span>
Â Â Â Â s.processChunks(ctx,Â kb,Â knowledge,Â chunks)
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â 4.Â æ›´æ–°çŠ¶æ€ä¸ºå®Œæˆ</span>
Â Â Â Â knowledge.ParseStatusÂ =Â types.ParseStatusCompleted
Â Â Â Â s.repo.UpdateKnowledge(ctx,Â knowledge)
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">return</span>Â knowledge,Â <span class="hljs-literal">nil</span>
}
</code></pre>
<h2 data-id="heading-5">è§£ææ¨¡å¼</h2>
<h3 data-id="heading-6">FirstParser - é“¾å¼å°è¯•æ¨¡å¼</h3>
<p>å°è¯•å¤šä¸ªè§£æå™¨ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªæˆåŠŸ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">FirstParser</span>(<span class="hljs-title class_ inherited__">BaseParser</span>):
Â Â Â Â _parser_cls:Â <span class="hljs-type">Tuple</span>[<span class="hljs-type">Type</span>[<span class="hljs-string">"BaseParser"</span>],Â ...]Â =Â ()
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">parse_into_text</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">bytes</span></span>)Â -&gt;Â Document:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""é¡ºåºå°è¯•æ¯ä¸ªè§£æå™¨"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â pÂ <span class="hljs-keyword">in</span>Â self._parsers:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â documentÂ =Â p.parse_into_text(content)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â document.is_valid():
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â documentÂ Â <span class="hljs-comment">#Â â†Â ç¬¬ä¸€ä¸ªæˆåŠŸå°±è¿”å›</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â Exception:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>Â Â <span class="hljs-comment">#Â â†Â å¤±è´¥å°±ç»§ç»­ä¸‹ä¸€ä¸ª</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Document()Â Â <span class="hljs-comment">#Â â†Â éƒ½å¤±è´¥å°±è¿”å›ç©º</span>
</code></pre>
<h3 data-id="heading-7">PipelineParser - ç®¡é“é“¾å¼æ¨¡å¼</h3>
<p>å¤šä¸ªè§£æå™¨ä¸²è”å¤„ç†ï¼Œå‰ä¸€ä¸ªçš„è¾“å‡ºæ˜¯åä¸€ä¸ªçš„è¾“å…¥</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">PipelineParser</span>(<span class="hljs-title class_ inherited__">BaseParser</span>):
Â Â Â Â _parser_cls:Â <span class="hljs-type">Tuple</span>[<span class="hljs-type">Type</span>[<span class="hljs-string">"BaseParser"</span>],Â ...]Â =Â ()
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">parse_into_text</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">bytes</span></span>)Â -&gt;Â Document:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""ä¾æ¬¡è°ƒç”¨æ¯ä¸ªè§£æå™¨ï¼Œç´¯ç§¯å›¾ç‰‡"""</span>
Â Â Â Â Â Â Â Â images:Â <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">str</span>]Â =Â {}
Â Â Â Â Â Â Â Â documentÂ =Â Document()
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â pÂ <span class="hljs-keyword">in</span>Â self._parsers:
Â Â Â Â Â Â Â Â Â Â Â Â documentÂ =Â p.parse_into_text(content)
Â Â Â Â Â Â Â Â Â Â Â Â contentÂ =Â endecode.encode_bytes(document.content)Â Â <span class="hljs-comment">#Â â†Â è½¬æ¢ä¸ºä¸‹ä¸€ä¸ªè§£æå™¨çš„è¾“å…¥</span>
Â Â Â Â Â Â Â Â Â Â Â Â images.update(document.images)Â Â <span class="hljs-comment">#Â â†Â ç´¯ç§¯å›¾ç‰‡</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â document.images.update(images)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â document
</code></pre>
<h2 data-id="heading-8">æ–‡æ¡£è§£æ</h2>
<h3 data-id="heading-9">pdf æ–‡æ¡£å¤„ç†</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â å°è¯•é¡ºåºï¼š</span>
<span class="hljs-comment">#Â 1.Â MinerUParserÂ (ä¸»è§£æå™¨)</span>
<span class="hljs-comment">#Â 2.Â MarkitdownParserÂ (å¤‡é€‰è§£æå™¨)</span>
<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">PDFParser</span>(<span class="hljs-title class_ inherited__">FirstParser</span>):
Â Â Â Â _parser_clsÂ =Â (MinerUParser,Â MarkitdownParser)
<span class="hljs-comment">#Â ç®¡é“æµç¨‹ï¼š</span>
<span class="hljs-comment">#Â PDFÂ â†’Â StdMinerUParserÂ (è°ƒç”¨Â MinerUÂ API)</span>
<span class="hljs-comment">#Â Â Â Â Â â†’Â MarkdownTableFormatterÂ (æ ¼å¼åŒ–è¡¨æ ¼)</span>
<span class="hljs-comment">#Â Â Â Â Â â†’Â æœ€ç»ˆÂ Document</span>
<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MinerUParser</span>(<span class="hljs-title class_ inherited__">PipelineParser</span>):
Â Â Â Â _parser_clsÂ =Â (StdMinerUParser,Â MarkdownTableFormatter)
Â Â Â Â 

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MarkitdownParser</span>(<span class="hljs-title class_ inherited__">PipelineParser</span>):
Â Â Â Â <span class="hljs-string">"""
Â Â Â Â ä½¿ç”¨ç®¡é“å¤„ç†æ¨¡å¼çš„Â MarkdownÂ è§£æå™¨
Â Â Â Â 
Â Â Â Â æ•°æ®æµï¼š
Â Â Â Â PDFÂ å­—èŠ‚æµ
Â Â Â Â Â Â â†“
Â Â Â Â StdMarkitdownParserÂ (ç¬¬ä¸€é˜¶æ®µ)
Â Â Â Â Â Â â”œâ”€Â è°ƒç”¨Â MarkItDownÂ åº“è§£æ
Â Â Â Â Â Â â”œâ”€Â è¿”å›Â MarkdownÂ æ–‡æœ¬Â +Â å†…åµŒæ•°æ®Â URI
Â Â Â Â Â Â â””â”€Â Document(content,Â images={})
Â Â Â Â Â Â â†“
Â Â Â Â MarkdownParserÂ (ç¬¬äºŒé˜¶æ®µ)
Â Â Â Â Â Â â”œâ”€Â å¤„ç†Â MarkdownÂ å†…å®¹
Â Â Â Â Â Â â”œâ”€Â æå–æ•°æ®Â URIÂ ä¸­çš„å›¾ç‰‡
Â Â Â Â Â Â â”œâ”€Â ä¸Šä¼ åˆ°å­˜å‚¨
Â Â Â Â Â Â â””â”€Â è¿”å›æœ€ç»ˆÂ Document(content,Â images)
Â Â Â Â """</span>
Â Â Â Â 
Â Â Â Â _parser_clsÂ =Â (StdMarkitdownParser,Â MarkdownParser)
Â Â Â Â <span class="hljs-comment">#Â ä¸¤ä¸ªè§£æå™¨æŒ‰é¡ºåºç®¡é“å¤„ç†</span>
</code></pre>
<p>ä¼˜å…ˆä½¿ç”¨ MinerU å°†æ–‡ä»¶è½¬æ¢æˆ markdown æ ¼å¼ï¼Œ<strong>è¿™é‡Œéœ€è¦ç”¨æˆ·è‡ªè¡Œé…ç½® MinerU token æ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚</strong> é™çº§é‡‡ç”¨å¾®è½¯å¼€æºæ¡†æ¶ MarkItDownï¼Œå°† pdf è½¬æ¢æˆ markdown æ ¼å¼ï¼Œ<strong>MarkItDown æ’ä»¶å¤„ç†ä¸äº† pdf æ‰«æä»¶ã€‚</strong> è½¬æ¢æˆ markdown ä¹‹åï¼Œå¯¹ markdown è¿›è¡Œåˆæ­¥æ ¼å¼åŒ–å¤„ç†ï¼š</p>
<ol>
<li>å¯¹ markdown æ–‡æ¡£çš„è¡¨æ ¼ç©ºè¡Œè¿›è¡Œè§„èŒƒåŒ–å¤„ç†ï¼Œæ ‡å‡†åŒ–åˆ—å¯¹é½</li>
<li>å°† markdown æ–‡æ¡£ä¸­çš„ base64 å›¾ç‰‡è½¬æ¢ä¸ºäºŒè¿›åˆ¶ä¸Šä¼ åˆ° COSï¼Œå°† COS é“¾æ¥æ›¿æ¢ markdown æ–‡æ¡£ä¸­çš„ base64 å›¾ç‰‡è·¯å¾„</li>
</ol>
<h3 data-id="heading-10">docx æ–‡æ¡£å¤„ç†</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â å°è¯•é¡ºåºï¼š</span>
<span class="hljs-comment">#Â 1.Â MarkitdownParserÂ (ä¸»è§£æå™¨ï¼Œä¸Â pdfÂ å¤‡é€‰æ–¹æ¡ˆä¸€è‡´)</span>
<span class="hljs-comment">#Â 2.Â DocxParserÂ (å¤‡é€‰è§£æå™¨)</span>
classÂ Docx2Parser(FirstParser):
Â Â Â Â <span class="hljs-attr">_parser_cls</span>Â =Â (MarkitdownParser,Â DocxParser)Â 
</code></pre>
<p><strong>é™çº§ç­–ç•¥ DocxParser é‡‡ç”¨ python-docx</strong>ï¼Œæœ€ç»ˆè¾“å‡º markdown æ ¼å¼çš„æ–‡æœ¬å†…å®¹ã€‚å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>é€šè¿‡ python-docx åº“è§£æ docx æ–‡ä»¶ï¼Œæå–çº¯æ–‡æœ¬å†…å®¹ï¼Œè¡¨æ ¼å’Œå›¾ç‰‡ã€‚</li>
<li>è‹¥å¼€å¯äº†å›¾ç‰‡å¤„ç† enable_multimodalï¼Œåˆ™å¯¹æå–çš„å›¾ç‰‡è¿›è¡Œè¿‡æ»¤ï¼Œç¼©æ”¾ç­‰å¤„ç†åä¸Šä¼ è‡³ COSï¼Œå†å°† COS é“¾æ¥æ›¿æ¢ markdown æ–‡æ¡£ä¸­çš„å›¾ç‰‡è·¯å¾„</li>
</ol>
<pre><code class="hljs language-arduino" lang="arduino">#Â è¿‡æ»¤å°å›¾ç‰‡ï¼ˆè£…é¥°å…ƒç´ ï¼‰
<span class="hljs-keyword">if</span>Â image.widthÂ &lt;Â <span class="hljs-number">50</span>Â <span class="hljs-keyword">or</span>Â image.heightÂ &lt;Â <span class="hljs-number">50</span>:
Â Â Â Â <span class="hljs-keyword">return</span>Â None

#Â ç¼©æ”¾å¤§å›¾ç‰‡
<span class="hljs-keyword">if</span>Â image.widthÂ &gt;Â max_image_size:
Â Â Â Â imageÂ =Â image.<span class="hljs-built_in">resize</span>((new_width,Â new_height))
</code></pre>
<ol start="3">
<li>å°†è¡¨æ ¼è½¬æ¢ä¸º HTML æ ¼å¼</li>
</ol>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">_convert_table_to_html</span>(self,Â table):
Â Â Â Â <span class="hljs-selector-tag">html</span>Â =Â "&lt;<span class="hljs-selector-tag">table</span>&gt;"
Â Â Â Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">r</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">table</span><span class="hljs-selector-class">.rows</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">html</span>Â +=Â "&lt;<span class="hljs-selector-tag">tr</span>&gt;"
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">c</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">r</span><span class="hljs-selector-class">.cells</span>:
Â Â Â Â Â Â Â Â Â Â Â Â #Â å¤„ç†åˆå¹¶å•å…ƒæ ¼
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">html</span>Â +=Â <span class="hljs-selector-tag">f</span>"&lt;<span class="hljs-selector-tag">td</span>Â <span class="hljs-selector-tag">colspan</span>='{<span class="hljs-selector-tag">span</span>}'&gt;{<span class="hljs-selector-tag">c</span><span class="hljs-selector-class">.text</span>}&lt;/<span class="hljs-selector-tag">td</span>&gt;"
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">html</span>Â +=Â "&lt;/<span class="hljs-selector-tag">tr</span>&gt;"
Â Â Â Â <span class="hljs-selector-tag">html</span>Â +=Â "&lt;/<span class="hljs-selector-tag">table</span>&gt;"
Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">html</span>
</code></pre>
<ol start="4">
<li>ä¿æŒåŸæ–‡å†…å®¹é¡ºåºè¿›è¡Œ markdown æ ¼å¼æ–‡æ¡£è¾“å‡ºã€‚</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@dataclass</span>
<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">DocumentModel</span>:
Â Â Â Â content:Â <span class="hljs-built_in">str</span>Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â MarkdownÂ æ ¼å¼æ–‡æœ¬ï¼ˆå«å›¾ç‰‡é“¾æ¥ï¼‰</span>
Â Â Â Â images:Â <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">str</span>]Â <span class="hljs-comment">#Â {url:Â base64_data}</span>
</code></pre>
<h3 data-id="heading-11">doc æ–‡æ¡£å¤„ç†</h3>
<p>doc æ–‡æ¡£å¤„ç†ä¼˜å…ˆä½¿ç”¨ _parse_with_docx æ–¹æ³•ï¼Œ<strong>é‡‡ç”¨ LibreOffice åº“å°† .doc æ–‡ä»¶è½¬æ¢ä¸º .docx æ ¼å¼</strong>ï¼Œå†æŒ‰ç…§ Docx2Parser æµç¨‹è§£ææ–‡ä»¶ã€‚</p>
<p>è‹¥ _parse_with_docx æ–¹æ³•å¤±è´¥ï¼Œå°†ä¼šä½¿ç”¨é™çº§æ–¹æ¡ˆ _parse_with_antiwordï¼Œ<strong>é‡‡ç”¨ antiword åº“ç›´æ¥æå– .doc æ–‡æœ¬å†…å®¹</strong>ã€‚antiword åªèƒ½æå–çº¯æ–‡æœ¬ï¼Œä¸æ”¯æŒå›¾ç‰‡å’Œè¡¨æ ¼çš„æå–ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">DocParser</span>(<span class="hljs-title class_ inherited__">Docx2Parser</span>):
Â Â Â Â <span class="hljs-string">"""DOCÂ documentÂ parser"""</span>
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">parse_into_text</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">bytes</span></span>)Â -&gt;Â Document:
Â Â Â Â Â Â Â Â logger.info(<span class="hljs-string">f"ParsingÂ DOCÂ document,Â contentÂ size:Â <span class="hljs-subst">{<span class="hljs-built_in">len</span>(content)}</span>Â bytes"</span>)

Â Â Â Â Â Â Â Â handle_chainÂ =Â [
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 1.Â TryÂ toÂ convertÂ toÂ docxÂ formatÂ toÂ extractÂ images</span>
Â Â Â Â Â Â Â Â Â Â Â Â self._parse_with_docx,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 2.Â IfÂ imageÂ extractionÂ isÂ notÂ neededÂ orÂ conversionÂ failed,</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â tryÂ usingÂ antiwordÂ toÂ extractÂ text</span>
Â Â Â Â Â Â Â Â Â Â Â Â self._parse_with_antiword,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 3.Â IfÂ antiwordÂ extractionÂ fails,Â useÂ textract</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â <span class="hljs-doctag">NOTE:</span>Â _parse_with_textractÂ isÂ disabledÂ dueÂ toÂ SSRFÂ vulnerability</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â self._parse_with_textract,</span>
Â Â Â Â Â Â Â Â ]
</code></pre>
<h3 data-id="heading-12">csv æ–‡æ¡£å¤„ç†</h3>
<p>ä½¿ç”¨ pandas åº“è¯»å– csv æ–‡ä»¶ï¼Œå°†å…¶è½¬æ¢ä¸º DataFrame æ ¼å¼ï¼Œå†å°† DataFrame è½¬æ¢ä¸ºæ–‡æœ¬å†…å®¹ã€‚ä¼šé»˜è®¤å°† DataFrame çš„ç¬¬ä¸€è¡Œä½œä¸ºè¡¨å¤´ï¼Œå°†å…¶ä»–è¡Œä½œä¸ºæ•°æ®è¡Œè¿›è¡Œç»„åˆã€‚</p>
<pre><code class="hljs language-sql" lang="sql">Â #Â ReadÂ CSVÂ contentÂ <span class="hljs-keyword">into</span>Â aÂ pandasÂ DataFrame,Â skippingÂ malformedÂ lines
dfÂ <span class="hljs-operator">=</span>Â pd.read_csv(BytesIO(content),Â on_bad_lines<span class="hljs-operator">=</span>"skip")

#Â ProcessÂ <span class="hljs-keyword">each</span>Â <span class="hljs-type">row</span>Â <span class="hljs-keyword">in</span>Â theÂ DataFrame
<span class="hljs-keyword">for</span>Â i,Â (idx,Â <span class="hljs-type">row</span>)Â <span class="hljs-keyword">in</span>Â enumerate(df.iterrows()):
Â Â Â Â #Â FormatÂ <span class="hljs-type">row</span>Â <span class="hljs-keyword">as</span>Â "column:Â value"Â pairsÂ separatedÂ <span class="hljs-keyword">by</span>Â commas
Â Â Â Â content_rowÂ <span class="hljs-operator">=</span>Â (
Â Â Â Â Â Â Â Â ",".<span class="hljs-keyword">join</span>(
Â Â Â Â Â Â Â Â Â Â Â Â f"{col.strip()}:Â {str(row[col]).strip()}"Â <span class="hljs-keyword">for</span>Â colÂ <span class="hljs-keyword">in</span>Â df.columns
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â <span class="hljs-operator">+</span>Â "\n"
Â Â Â Â )
Â Â Â Â #Â <span class="hljs-keyword">Update</span>Â <span class="hljs-keyword">end</span>Â positionÂ <span class="hljs-keyword">for</span>Â thisÂ chunk
Â Â Â Â <span class="hljs-keyword">end</span>Â <span class="hljs-operator">+</span><span class="hljs-operator">=</span>Â len(content_row)
Â Â Â Â text.append(content_row)
Â Â Â Â 
Â Â Â Â #Â <span class="hljs-keyword">Create</span>Â aÂ chunkÂ <span class="hljs-keyword">for</span>Â thisÂ <span class="hljs-type">row</span>Â <span class="hljs-keyword">with</span>Â positionÂ tracking
Â Â Â Â chunks.append(Chunk(content<span class="hljs-operator">=</span>content_row,Â seq<span class="hljs-operator">=</span>i,Â <span class="hljs-keyword">start</span><span class="hljs-operator">=</span><span class="hljs-keyword">start</span>,Â <span class="hljs-keyword">end</span><span class="hljs-operator">=</span><span class="hljs-keyword">end</span>))
Â Â Â Â #Â <span class="hljs-keyword">Update</span>Â <span class="hljs-keyword">start</span>Â positionÂ <span class="hljs-keyword">for</span>Â nextÂ chunk
Â Â Â Â <span class="hljs-keyword">start</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-keyword">end</span>

<span class="hljs-keyword">return</span>Â Document(
Â Â Â Â content<span class="hljs-operator">=</span>"".<span class="hljs-keyword">join</span>(text),
Â Â Â Â chunks<span class="hljs-operator">=</span>chunks,
)
</code></pre>
<p>æœ€ç»ˆè¾“å‡ºæ ¼å¼ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">Document(
Â Â Â Â content<span class="hljs-operator">=</span>"å§“å:Â å¼ ä¸‰,å¹´é¾„:Â 25,åŸå¸‚:Â åŒ—äº¬\nå§“å:Â æå››,å¹´é¾„:Â 30,åŸå¸‚:Â ä¸Šæµ·\n...",
Â Â Â Â chunks<span class="hljs-operator">=</span>[
Â Â Â Â Â Â Â Â Chunk(content<span class="hljs-operator">=</span>"å§“å:Â å¼ ä¸‰,å¹´é¾„:Â 25,åŸå¸‚:Â åŒ—äº¬\n",Â seq<span class="hljs-operator">=</span><span class="hljs-number">0</span>,Â <span class="hljs-keyword">start</span><span class="hljs-operator">=</span><span class="hljs-number">0</span>,Â <span class="hljs-keyword">end</span><span class="hljs-operator">=</span><span class="hljs-number">25</span>),
Â Â Â Â Â Â Â Â Chunk(content<span class="hljs-operator">=</span>"å§“å:Â æå››,å¹´é¾„:Â 30,åŸå¸‚:Â ä¸Šæµ·\n",Â seq<span class="hljs-operator">=</span><span class="hljs-number">1</span>,Â <span class="hljs-keyword">start</span><span class="hljs-operator">=</span><span class="hljs-number">25</span>,Â <span class="hljs-keyword">end</span><span class="hljs-operator">=</span><span class="hljs-number">50</span>),
Â Â Â Â Â Â Â Â Chunk(content<span class="hljs-operator">=</span>"å§“å:Â ç‹äº”,å¹´é¾„:Â 28,åŸå¸‚:Â æ·±åœ³\n",Â seq<span class="hljs-operator">=</span><span class="hljs-number">2</span>,Â <span class="hljs-keyword">start</span><span class="hljs-operator">=</span><span class="hljs-number">50</span>,Â <span class="hljs-keyword">end</span><span class="hljs-operator">=</span><span class="hljs-number">75</span>),
Â Â Â Â ]
)
</code></pre>
<p><em>Tips: è¿™ç§é»˜è®¤ç¬¬ä¸€è¡Œä¸ºè¡¨å¤´çš„ç­–ç•¥èƒ½å¤Ÿæœ€å¤§ç¨‹åº¦çš„ä¿æŒ csv æ–‡æ¡£çš„ç»“æ„ã€‚ä½†å¯¹äºç¬¬ä¸€è¡Œä¸æ˜¯è¡¨å¤´çš„æƒ…å†µï¼Œä¹Ÿä¼šæœ‰æ··ä¹±è¯­ä¹‰çš„å±é™©ã€‚</em></p>
<h3 data-id="heading-13">excel æ–‡æ¡£å¤„ç†</h3>
<p>ä½¿ç”¨ openpyxl åº“è¯»å– excel æ–‡ä»¶ï¼Œå°†æ¯ä¸ªå·¥ä½œè¡¨è½¬æ¢ä¸ºæ–‡æœ¬å†…å®¹ã€‚ä¸ csv å¤„ç†ç­–ç•¥ç›¸åŒï¼Œä¼šé»˜è®¤å°†æ¯ä¸ªå·¥ä½œè¡¨çš„ç¬¬ä¸€è¡Œä½œä¸ºè¡¨å¤´ï¼Œå°†å…¶ä»–è¡Œä½œä¸ºæ•°æ®è¡Œè¿›è¡Œç»„åˆã€‚</p>
<pre><code class="hljs language-sql" lang="sql">#Â LoadÂ ExcelÂ fileÂ <span class="hljs-keyword">from</span>Â bytesÂ <span class="hljs-keyword">into</span>Â pandasÂ ExcelFileÂ object
excel_fileÂ <span class="hljs-operator">=</span>Â pd.ExcelFile(BytesIO(content))

#Â ProcessÂ <span class="hljs-keyword">each</span>Â sheetÂ <span class="hljs-keyword">in</span>Â theÂ ExcelÂ file
<span class="hljs-keyword">for</span>Â excel_sheet_nameÂ <span class="hljs-keyword">in</span>Â excel_file.sheet_names:
Â Â Â Â #Â ParseÂ theÂ sheetÂ <span class="hljs-keyword">into</span>Â aÂ DataFrame
Â Â Â Â dfÂ <span class="hljs-operator">=</span>Â excel_file.parse(sheet_name<span class="hljs-operator">=</span>excel_sheet_name)
Â Â Â Â #Â RemoveÂ <span class="hljs-keyword">rows</span>Â <span class="hljs-keyword">where</span>Â <span class="hljs-keyword">all</span>Â <span class="hljs-keyword">values</span>Â <span class="hljs-keyword">are</span>Â NaNÂ (completelyÂ <span class="hljs-keyword">empty</span>Â <span class="hljs-keyword">rows</span>)
Â Â Â Â df.dropna(how<span class="hljs-operator">=</span>"all",Â inplace<span class="hljs-operator">=</span><span class="hljs-literal">True</span>)

Â Â Â Â #Â ProcessÂ <span class="hljs-keyword">each</span>Â <span class="hljs-type">row</span>Â <span class="hljs-keyword">in</span>Â theÂ DataFrame
Â Â Â Â <span class="hljs-keyword">for</span>Â _,Â <span class="hljs-type">row</span>Â <span class="hljs-keyword">in</span>Â df.iterrows():
Â Â Â Â Â Â Â Â page_contentÂ <span class="hljs-operator">=</span>Â []
Â Â Â Â Â Â Â Â #Â BuildÂ key<span class="hljs-operator">-</span><span class="hljs-keyword">value</span>Â pairsÂ <span class="hljs-keyword">for</span>Â non<span class="hljs-operator">-</span><span class="hljs-keyword">null</span>Â <span class="hljs-keyword">values</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â k,Â vÂ <span class="hljs-keyword">in</span>Â row.items():
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ pd.notna(v):Â Â #Â <span class="hljs-keyword">Skip</span>Â NaN<span class="hljs-operator">/</span><span class="hljs-keyword">null</span>Â <span class="hljs-keyword">values</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â page_content.append(f"{k}:Â {v}")
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â #Â <span class="hljs-keyword">Skip</span>Â <span class="hljs-keyword">rows</span>Â <span class="hljs-keyword">with</span>Â <span class="hljs-keyword">no</span>Â validÂ content
Â Â Â Â Â Â Â Â ifÂ <span class="hljs-keyword">not</span>Â page_content:
Â Â Â Â Â Â Â Â Â Â Â Â continue
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â #Â FormatÂ <span class="hljs-type">row</span>Â <span class="hljs-keyword">as</span>Â comma<span class="hljs-operator">-</span>separatedÂ key<span class="hljs-operator">-</span><span class="hljs-keyword">value</span>Â pairs
Â Â Â Â Â Â Â Â content_rowÂ <span class="hljs-operator">=</span>Â ",".<span class="hljs-keyword">join</span>(page_content)Â <span class="hljs-operator">+</span>Â "\n"
Â Â Â Â Â Â Â Â <span class="hljs-keyword">end</span>Â <span class="hljs-operator">+</span><span class="hljs-operator">=</span>Â len(content_row)
Â Â Â Â Â Â Â Â text.append(content_row)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â #Â <span class="hljs-keyword">Create</span>Â aÂ chunkÂ <span class="hljs-keyword">for</span>Â thisÂ <span class="hljs-type">row</span>Â <span class="hljs-keyword">with</span>Â positionÂ tracking
Â Â Â Â Â Â Â Â chunks.append(
Â Â Â Â Â Â Â Â Â Â Â Â Chunk(content<span class="hljs-operator">=</span>content_row,Â seq<span class="hljs-operator">=</span>len(chunks),Â <span class="hljs-keyword">start</span><span class="hljs-operator">=</span><span class="hljs-keyword">start</span>,Â <span class="hljs-keyword">end</span><span class="hljs-operator">=</span><span class="hljs-keyword">end</span>)
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â <span class="hljs-keyword">start</span>Â <span class="hljs-operator">=</span>Â <span class="hljs-keyword">end</span>

#Â CombineÂ <span class="hljs-keyword">all</span>Â textÂ <span class="hljs-keyword">and</span>Â <span class="hljs-keyword">return</span>Â <span class="hljs-keyword">as</span>Â Document
<span class="hljs-keyword">return</span>Â Document(content<span class="hljs-operator">=</span>"".<span class="hljs-keyword">join</span>(text),Â chunks<span class="hljs-operator">=</span>chunks)
</code></pre>
<p><em>Tips: pandas å¤„ç† excel æ–‡æ¡£ï¼Œå¦‚æœé‡è§å¤šçº§è¡¨å¤´ï¼Œå¤šä¸ªåˆå¹¶å•å…ƒæ ¼çš„å¤æ‚æ–‡æ¡£ï¼Œä¼šä¸¢å¤±ç»“æ„ä¿¡æ¯ï¼Œå¯¼è‡´è¯­ä¹‰æ··ä¹±ã€‚</em></p>
<h3 data-id="heading-14">å›¾ç‰‡å¤„ç†</h3>
<p>å›¾ç‰‡å¤„ç†å¾ˆç®€å•ï¼Œä¸Šä¼ å›¾ç‰‡åˆ°å­˜å‚¨æœåŠ¡, å°†è¿”å›çš„å›¾ç‰‡ URL è½¬æ¢ä¸º Markdown å›¾ç‰‡è¯­æ³•ï¼Œå¹¶ç”Ÿæˆ base64 ç¼–ç ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span>Â <span class="hljs-title function_">parse_into_text</span>(<span class="hljs-params">self,Â content:Â <span class="hljs-built_in">bytes</span></span>)Â -&gt;Â Document:
Â Â Â Â logger.info(<span class="hljs-string">f"ParsingÂ imageÂ content,Â size:Â <span class="hljs-subst">{<span class="hljs-built_in">len</span>(content)}</span>Â bytes"</span>)

Â Â Â Â <span class="hljs-comment">#Â GetÂ fileÂ extension</span>
Â Â Â Â extÂ =Â os.path.splitext(self.file_name)[<span class="hljs-number">1</span>].lower()

Â Â Â Â <span class="hljs-comment">#Â UploadÂ imageÂ toÂ storage</span>
Â Â Â Â image_urlÂ =Â self.storage.upload_bytes(content,Â file_ext=ext)
Â Â Â Â logger.info(<span class="hljs-string">f"SuccessfullyÂ uploadedÂ image,Â URL:Â <span class="hljs-subst">{image_url[:<span class="hljs-number">50</span>]}</span>..."</span>)

Â Â Â Â <span class="hljs-comment">#Â GenerateÂ markdownÂ text</span>
Â Â Â Â textÂ =Â <span class="hljs-string">f"![<span class="hljs-subst">{self.file_name}</span>](<span class="hljs-subst">{image_url}</span>)"</span>
Â Â Â Â imagesÂ =Â {image_url:Â base64.b64encode(content).decode()}

Â Â Â Â <span class="hljs-comment">#Â CreateÂ imageÂ objectÂ andÂ addÂ toÂ map</span>
Â Â Â Â <span class="hljs-keyword">return</span>Â Document(content=text,Â images=images)
</code></pre>
<h3 data-id="heading-15">ç½‘é¡µæ–‡æ¡£å¤„ç†</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â ç®¡é“æµç¨‹ï¼š</span>
<span class="hljs-comment">#Â URLÂ â†’Â StdWebParserÂ (è·å–ç½‘é¡µå†…å®¹)</span>
<span class="hljs-comment">#Â Â Â Â Â â†’Â MarkdownParserÂ (æ ¼å¼åŒ–Â MarkdownÂ å†…å®¹)</span>
<span class="hljs-comment">#Â Â Â Â Â â†’Â æœ€ç»ˆÂ Document</span>
classÂ WebParser(PipelineParser):
Â Â Â Â <span class="hljs-attr">_parser_cls</span>Â =Â (StdWebParser,Â MarkdownParser)
</code></pre>
<h4 data-id="heading-16">ä½¿ç”¨ Playwright æŠ“å–é¡µé¢å†…å®¹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span>Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">scrape</span>(<span class="hljs-params">self,Â url:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-built_in">str</span>:
Â Â Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-keyword">with</span>Â async_playwright()Â <span class="hljs-keyword">as</span>Â p:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é…ç½®ä»£ç†ï¼ˆå¯é€‰ï¼‰</span>
Â Â Â Â Â Â Â Â kwargsÂ =Â {}
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â self.proxy:
Â Â Â Â Â Â Â Â Â Â Â Â kwargs[<span class="hljs-string">"proxy"</span>]Â =Â {<span class="hljs-string">"server"</span>:Â self.proxy}
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¯åŠ¨Â WebKitÂ æµè§ˆå™¨</span>
Â Â Â Â Â Â Â Â browserÂ =Â <span class="hljs-keyword">await</span>Â p.webkit.launch(**kwargs)
Â Â Â Â Â Â Â Â pageÂ =Â <span class="hljs-keyword">await</span>Â browser.new_page()
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è®¿é—®é¡µé¢ï¼Œ30ç§’è¶…æ—¶</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">await</span>Â page.goto(url,Â timeout=<span class="hljs-number">30000</span>)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è·å–å®Œæ•´Â HTML</span>
Â Â Â Â Â Â Â Â contentÂ =Â <span class="hljs-keyword">await</span>Â page.content()
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">await</span>Â browser.close()
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â content
</code></pre>
<h4 data-id="heading-17">ä½¿ç”¨ Trafilatura æå–æ­£æ–‡</h4>
<pre><code class="hljs language-ini" lang="ini">defÂ parse_into_text(self,Â content:Â bytes)Â -&gt;Â Document:
Â Â Â Â <span class="hljs-attr">url</span>Â =Â endecode.decode_bytes(content)
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â æŠ“å–Â HTML</span>
Â Â Â Â <span class="hljs-attr">chtml</span>Â =Â asyncio.run(self.scrape(url))
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â æå–æ­£æ–‡ï¼Œè½¬ä¸ºÂ Markdown</span>
Â Â Â Â <span class="hljs-attr">md_text</span>Â =Â extract(
Â Â Â Â Â Â Â Â chtml,
Â Â Â Â Â Â Â Â <span class="hljs-attr">output_format</span>=<span class="hljs-string">"markdown"</span>,Â Â <span class="hljs-comment">#Â è¾“å‡ºæ ¼å¼</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">with_metadata</span>=<span class="hljs-literal">True</span>,Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¿ç•™å…ƒæ•°æ®</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">include_images</span>=<span class="hljs-literal">True</span>,Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¿ç•™å›¾ç‰‡</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">include_tables</span>=<span class="hljs-literal">True</span>,Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¿ç•™è¡¨æ ¼</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">include_links</span>=<span class="hljs-literal">True</span>,Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¿ç•™é“¾æ¥</span>
Â Â Â Â )
Â Â Â Â 
Â Â Â Â returnÂ Document(<span class="hljs-attr">content</span>=md_text)
</code></pre>
<p>é€šè¿‡ StdWebParser è§£æå™¨ï¼Œè¾“å‡º markdown æ–‡æ¡£ï¼ŒåŒ…å«å…ƒæ•°æ®ï¼ˆå¦‚æ ‡é¢˜ã€ä½œè€…ã€å‘å¸ƒæ—¥æœŸç­‰ï¼‰å’Œå›¾ç‰‡ã€è¡¨æ ¼ã€é“¾æ¥ç­‰ã€‚è¿›å…¥åç»­ MarkdownParser è§£æå™¨ï¼Œå°† markdown æ–‡æ¡£è½¬æ¢ä¸º Document æ ¼å¼ã€‚</p>
<h3 data-id="heading-18">Markdown æ–‡æ¡£å¤„ç†ï¼ˆæ ¸å¿ƒï¼‰</h3>
<p><strong>ä»¥ä¸‹æ˜¯å¯¹æ–‡æ¡£å¤„ç†çš„æ ¸å¿ƒæ–¹æ¡ˆ</strong>ï¼Œå› ä¸ºä»¥ä¸Šæ‰€æœ‰æ–‡æ¡£ç±»å‹éƒ½æ˜¯å…ˆè½¬æ¢æˆå¯¹åº”çš„ Markdown æ–‡æ¡£ç»“æ„ï¼Œå†è¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚</p>
<h4 data-id="heading-19">æ ¸å¿ƒæ¶æ„</h4>
<pre><code class="hljs language-vbnet" lang="vbnet">åŸå§‹ Markdown æ–‡æœ¬
  â†“
TextSplitter.split_text(<span class="hljs-keyword">text</span>)
  â”œâ”€ <span class="hljs-keyword">Step</span> <span class="hljs-number">1</span>: _split(<span class="hljs-keyword">text</span>)
  â”‚  â””â”€ é€’å½’åˆ†å‰²ï¼Œä¿è¯æ¯ä¸ª split â‰¤ chunk_size
  â”‚
  â”œâ”€ <span class="hljs-keyword">Step</span> <span class="hljs-number">2</span>: _split_protected(<span class="hljs-keyword">text</span>)
  â”‚  â””â”€ æå–æ‰€æœ‰å—ä¿æŠ¤å†…å®¹çš„ä½ç½®å’ŒèŒƒå›´
  â”‚
  â”œâ”€ <span class="hljs-keyword">Step</span> <span class="hljs-number">3</span>: _join(splits, protect)
  â”‚  â””â”€ åˆå¹¶ splits å’Œ <span class="hljs-keyword">protected</span>ï¼Œä¿è¯å—ä¿æŠ¤å†…å®¹å®Œæ•´
  â”‚
  â””â”€ <span class="hljs-keyword">Step</span> <span class="hljs-number">4</span>: _merge(splits)
     â”œâ”€ åˆå¹¶ splits æˆä¸ºæœ€ç»ˆçš„ chunks
     â”œâ”€ å¤„ç† overlapï¼ˆé‡å ï¼‰
     â””â”€ è¿”å› List[Tuple[start, <span class="hljs-keyword">end</span>, <span class="hljs-keyword">text</span>]]

è¿”å›ï¼šList[(start_pos, end_pos, chunk_text), ...]
</code></pre>
<h4 data-id="heading-20">ä¸»å‡½æ•° split_text()</h4>
<pre><code class="hljs language-vbnet" lang="vbnet">defÂ split_text(self,Â <span class="hljs-keyword">text</span>:Â str)Â -&gt;Â List[Tuple[int,Â int,Â str]]:
Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">text</span>Â ==Â <span class="hljs-string">""</span>:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â []

Â Â Â Â #Â <span class="hljs-keyword">Step</span>Â <span class="hljs-number">1</span>:Â SplitÂ <span class="hljs-keyword">text</span>Â <span class="hljs-keyword">by</span>Â separatorsÂ recursively
Â Â Â Â splitsÂ =Â self._split(<span class="hljs-keyword">text</span>)
Â Â Â Â #Â <span class="hljs-keyword">Step</span>Â <span class="hljs-number">2</span>:Â ExtractÂ <span class="hljs-keyword">protected</span>Â contentÂ positions
Â Â Â Â protectÂ =Â self._split_protected(<span class="hljs-keyword">text</span>)
Â Â Â Â #Â <span class="hljs-keyword">Step</span>Â <span class="hljs-number">3</span>:Â MergeÂ splitsÂ <span class="hljs-keyword">with</span>Â <span class="hljs-keyword">protected</span>Â contentÂ <span class="hljs-keyword">to</span>Â ensureÂ integrity
Â Â Â Â splitsÂ =Â self._join(splits,Â protect)

Â Â Â Â #Â VerifyÂ thatÂ joiningÂ allÂ splitsÂ reconstructsÂ theÂ originalÂ <span class="hljs-keyword">text</span>
Â Â Â Â assertÂ <span class="hljs-string">""</span>.<span class="hljs-keyword">join</span>(splits)Â ==Â <span class="hljs-keyword">text</span>

Â Â Â Â #Â <span class="hljs-keyword">Step</span>Â <span class="hljs-number">4</span>:Â MergeÂ splitsÂ <span class="hljs-keyword">into</span>Â finalÂ chunksÂ <span class="hljs-keyword">with</span>Â overlap
Â Â Â Â chunksÂ =Â self._merge(splits)
Â Â Â Â <span class="hljs-keyword">return</span>Â chunks
</code></pre>
<h4 data-id="heading-21">å…³é”®æ–‡æœ¬ä¿æŠ¤</h4>
<p>å—ä¿æŠ¤çš„ Regex æ¨¡å¼ï¼ˆ6 ç§ï¼‰ï¼Œåˆ†åˆ«æ˜¯<strong>LaTeX æ•°å­¦å…¬å¼ï¼ŒMarkdown å›¾ç‰‡é“¾æ¥ï¼ŒMarkdown æ™®é€šé“¾æ¥ï¼ŒMarkdown è¡¨æ ¼è¡¨å¤´ï¼ˆHeader + åˆ†éš”è¡Œï¼‰ï¼ŒMarkdown è¡¨æ ¼å†…å®¹ï¼Œä»£ç å—å¤´ï¼ˆå¸¦è¯­è¨€æ ‡è¯†ï¼‰</strong> ï¼Œå¯¹äºè¿™äº›åœºæ™¯ä¸è¿›è¡Œæˆªæ–­</p>
<pre><code class="hljs language-python" lang="python">protected_regex:Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]Â =Â [
Â Â Â Â <span class="hljs-comment">#Â mathÂ formulaÂ -Â LaTeXÂ styleÂ formulasÂ enclosedÂ inÂ $$</span>
Â Â Â Â <span class="hljs-string">r"$$[\s\S]*?$$"</span>,
Â Â Â Â <span class="hljs-comment">#Â imageÂ -Â MarkdownÂ imageÂ syntaxÂ ![alt](url)</span>
Â Â Â Â <span class="hljs-string">r"![.*?](.*?)"</span>,
Â Â Â Â <span class="hljs-comment">#Â linkÂ -Â MarkdownÂ linkÂ syntaxÂ [text](url)</span>
Â Â Â Â <span class="hljs-string">r"[.*?](.*?)"</span>,
Â Â Â Â <span class="hljs-comment">#Â tableÂ headerÂ -Â MarkdownÂ tableÂ headerÂ withÂ separatorÂ line</span>
Â Â Â Â <span class="hljs-string">r"(?:|[^|\n]*)+|[\r\n]+\s*(?:|\s*:?-{3,}:?\s*)+|[\r\n]+"</span>,
Â Â Â Â <span class="hljs-comment">#Â tableÂ bodyÂ -Â MarkdownÂ tableÂ rows</span>
Â Â Â Â <span class="hljs-string">r"(?:|[^|\n]*)+|[\r\n]+"</span>,
Â Â Â Â <span class="hljs-comment">#Â codeÂ headerÂ -Â CodeÂ blockÂ startÂ withÂ languageÂ identifier</span>
Â Â Â Â <span class="hljs-string">r"```(?:\w+)[\r\n]+[^\r\n]*"</span>,
],
</code></pre>
<h4 data-id="heading-22">è¯­ä¹‰é€’å½’ç²—åˆ‡ -- _split()</h4>
<pre><code class="hljs language-scss" lang="scss">#Â è¯­ä¹‰è§„åˆ™
self<span class="hljs-selector-class">._split_fns</span>Â =Â <span class="hljs-selector-attr">[Â Â Â Â split_by_sep(<span class="hljs-string">"\n"</span>),Â Â Â Â Â Â #Â [1]</span>Â æ¢è¡Œç¬¦ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰
Â Â Â Â <span class="hljs-built_in">split_by_sep</span>("ã€‚"),Â Â Â Â Â Â #Â <span class="hljs-selector-attr">[2]</span>Â å¥å·
Â Â Â Â <span class="hljs-built_in">split_by_sep</span>("Â "),Â Â Â Â Â Â Â #Â <span class="hljs-selector-attr">[3]</span>Â ç©ºæ ¼
Â Â Â Â <span class="hljs-built_in">split_by_char</span>()Â Â Â Â Â Â Â Â Â Â #Â <span class="hljs-selector-attr">[æœ€å]</span>Â é€å­—åˆ†å‰²ï¼ˆfallbackï¼‰
]
</code></pre>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_split</span>(<span class="hljs-params">self,Â text:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
Â Â Â Â <span class="hljs-string">"""
Â Â Â Â é€’å½’åˆ†å‰²ï¼Œç¡®ä¿æ¯ä¸ªÂ splitÂ â‰¤Â chunk_size
Â Â Â Â """</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â åŸºç¡€æƒ…å†µï¼šæ–‡æœ¬å·²è¶³å¤Ÿå°</span>
Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(text)Â &lt;=Â chunk_size:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â [text]
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â é€’å½’æƒ…å†µï¼šä½¿ç”¨åˆ†éš”ç¬¦åˆ†å‰²</span>
Â Â Â Â splitsÂ =Â []
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â æŒ‰ä¼˜å…ˆçº§å°è¯•å„ä¸ªåˆ†éš”ç¬¦</span>
Â Â Â Â <span class="hljs-keyword">for</span>Â split_fnÂ <span class="hljs-keyword">in</span>Â self._split_fns:Â Â <span class="hljs-comment">#Â 5Â ä¸ªå‡½æ•°</span>
Â Â Â Â Â Â Â Â splitsÂ =Â split_fn(text)
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¦‚æœè¿™ä¸ªåˆ†éš”ç¬¦èƒ½åˆ†å‰²å‡ºå¤šä¸ªéƒ¨åˆ†ï¼Œå°±ä½¿ç”¨å®ƒ</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(splits)Â &gt;Â <span class="hljs-number">1</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">break</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â å¦‚æœä¸Šé¢çš„éƒ½æ²¡æœ‰åˆ†å‰²æˆåŠŸï¼Œæœ€åç”¨Â split_by_char()Â é€å­—åˆ†å‰²</span>
Â Â Â Â <span class="hljs-comment">#Â ï¼ˆè¿™é€šå¸¸ä¸ä¼šå‘ç”Ÿï¼Œé™¤éæ•´ä¸ªæ–‡æœ¬æ²¡æœ‰ä»»ä½•åˆ†éš”ç¬¦ï¼‰</span>
Â Â Â Â 
Â Â Â Â new_splitsÂ =Â []
Â Â Â Â <span class="hljs-keyword">for</span>Â splitÂ <span class="hljs-keyword">in</span>Â splits:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(split)Â &lt;=Â chunk_size:
Â Â Â Â Â Â Â Â Â Â Â Â new_splits.append(split)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é€’å½’å¤„ç†è¶…å¤§çš„åˆ†å‰²å—</span>
Â Â Â Â Â Â Â Â Â Â Â Â new_splits.extend(self._split(split))
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">return</span>Â new_splits
</code></pre>
<pre><code class="hljs language-swift" lang="swift">å‡è®¾ï¼šchunk_size <span class="hljs-operator">=</span> <span class="hljs-number">200</span>ï¼Œæ–‡æœ¬é•¿åº¦ <span class="hljs-operator">=</span> <span class="hljs-number">1000</span>

ç¬¬<span class="hljs-number">1</span>æ¬¡å°è¯•ï¼šç”¨ <span class="hljs-string">"<span class="hljs-subst">\n</span>"</span> åˆ†å‰²
  <span class="hljs-operator">â”œâ”€</span> å¦‚æœèƒ½åˆ†å‰²æˆå¤šä¸ªéƒ¨åˆ†ï¼Œæ£€æŸ¥æ˜¯å¦éƒ½ <span class="hljs-operator">â‰¤</span> <span class="hljs-number">200</span>
  <span class="hljs-operator">â”œâ”€</span> å¦‚æœæœ‰éƒ¨åˆ† <span class="hljs-operator">&gt;</span> <span class="hljs-number">200</span>ï¼Œå¯¹è¿™äº›éƒ¨åˆ†é€’å½’è°ƒç”¨ _split()
  <span class="hljs-operator">â””â”€</span> é€’å½’ä¸­å†ç”¨ <span class="hljs-string">"<span class="hljs-subst">\n</span>"</span>ï¼Œå¦‚æœè¿˜æ˜¯æœ‰ <span class="hljs-operator">&gt;</span> <span class="hljs-number">200</span> çš„
      <span class="hljs-operator">â””â”€</span> æ¢æˆ <span class="hljs-string">"ã€‚"</span> è¯•è¯•
      
ç¬¬<span class="hljs-number">2</span>æ¬¡å°è¯•ï¼šç”¨ <span class="hljs-string">"ã€‚"</span> åˆ†å‰²
  <span class="hljs-operator">â”œâ”€</span> å¯èƒ½ä¼šåˆ†å‰²å¾—æ›´ç»†
  <span class="hljs-operator">â””â”€</span> ç»§ç»­æ£€æŸ¥

ç¬¬<span class="hljs-number">3</span>æ¬¡å°è¯•ï¼šç”¨ <span class="hljs-string">" "</span> (ç©ºæ ¼) åˆ†å‰²
  <span class="hljs-operator">â”œâ”€</span> åˆ†å‰²å¾—æ›´ç»†

æœ€åï¼šsplit_by_char()
  <span class="hljs-operator">â”œâ”€</span> æŒ‰å•ä¸ªå­—ç¬¦åˆ†å‰²
  <span class="hljs-operator">â””â”€</span> ç¡®ä¿æ²¡æœ‰åˆ†å‰²å— <span class="hljs-operator">&gt;</span> chunk_size
</code></pre>
<h4 data-id="heading-23">ä¿æŠ¤æ–‡æœ¬æå– -- _split_protected()</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_split_protected</span>(<span class="hljs-params">self,Â text:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-type">List</span>[<span class="hljs-type">Tuple</span>[<span class="hljs-built_in">int</span>,Â <span class="hljs-built_in">str</span>]]:
Â Â Â Â <span class="hljs-string">"""
Â Â Â Â æ‰«ææ‰€æœ‰Â protected_regexï¼Œæ‰¾åˆ°æ‰€æœ‰å—ä¿æŠ¤å†…å®¹
Â Â Â Â è¿”å›ï¼š[(start_pos,Â protected_text),Â ...]
Â Â Â Â """</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â æ­¥éª¤1:Â ä½¿ç”¨æ‰€æœ‰Â protectedÂ æ¨¡å¼è¿›è¡ŒåŒ¹é…</span>
Â Â Â Â matchesÂ =Â [
Â Â Â Â Â Â Â Â (<span class="hljs-keyword">match</span>.start(),Â <span class="hljs-keyword">match</span>.end())
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â patternÂ <span class="hljs-keyword">in</span>Â self._protected_fnsÂ Â <span class="hljs-comment">#Â 6Â ä¸ªÂ regexÂ pattern</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â <span class="hljs-keyword">match</span>Â <span class="hljs-keyword">in</span>Â pattern.finditer(text)
Â Â Â Â ]
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â æ­¥éª¤2:Â æŒ‰å¼€å§‹ä½ç½®æ’åºï¼Œå¤„ç†é‡å </span>
Â Â Â Â matches.sort(key=<span class="hljs-keyword">lambda</span>Â x:Â (x[<span class="hljs-number">0</span>],Â -x[<span class="hljs-number">1</span>]))
Â Â Â Â <span class="hljs-comment">#Â æ’åºè§„åˆ™ï¼š</span>
Â Â Â Â <span class="hljs-comment">#Â -Â æŒ‰Â start_posÂ å‡åºï¼ˆä»å‰åˆ°åï¼‰</span>
Â Â Â Â <span class="hljs-comment">#Â -Â å¦‚æœÂ start_posÂ ç›¸åŒï¼ŒæŒ‰Â lengthÂ é™åºï¼ˆé•¿çš„ä¼˜å…ˆï¼‰</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â æ­¥éª¤3:Â ä½¿ç”¨Â accumulateÂ è¿‡æ»¤é‡å çš„åŒ¹é…</span>
Â Â Â Â resÂ =Â []
Â Â Â Â initialÂ =Â -<span class="hljs-number">1</span>Â Â <span class="hljs-comment">#Â ä¸Šä¸€ä¸ªåŒ¹é…çš„ç»“æŸä½ç½®</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">for</span>Â current_start,Â current_endÂ <span class="hljs-keyword">in</span>Â matches:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åªå¤„ç†ä¸ä¸å‰é¢åŒ¹é…é‡å çš„å†…å®¹</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â current_startÂ &gt;=Â initial:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åªä¿ç•™Â &lt;Â chunk_sizeÂ çš„å—ä¿æŠ¤å†…å®¹</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â current_endÂ -Â current_startÂ &lt;Â chunk_size:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â res.append((current_start,Â text[current_start:current_end]))
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â logger.warning(<span class="hljs-string">f"ProtectedÂ textÂ ignore:Â <span class="hljs-subst">{text[current_start:current_end]}</span>"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¦‚æœå—ä¿æŠ¤å†…å®¹æœ¬èº«Â &gt;Â chunk_sizeï¼Œå¿½ç•¥ï¼ˆè®°å½•è­¦å‘Šï¼‰</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ›´æ–°Â initialÂ ä¸ºè¿™ä¸ªåŒ¹é…çš„ç»“æŸä½ç½®</span>
Â Â Â Â Â Â Â Â initialÂ =Â <span class="hljs-built_in">max</span>(initial,Â current_end)
Â Â Â Â 
Â Â Â Â <span class="hljs-keyword">return</span>Â res
</code></pre>
<pre><code class="hljs language-ini" lang="ini">1. è¡¨æ ¼åŒ¹é… (protected_regex<span class="hljs-section">[4]</span> + <span class="hljs-section">[5]</span>):
   â”œâ”€ <span class="hljs-attr">start</span>=<span class="hljs-number">20</span>, end=<span class="hljs-number">80</span>
   â”œâ”€ <span class="hljs-attr">text</span>=<span class="hljs-string">"| åˆ—1 | åˆ—2 |\n| :--- | ---: |\n| æ•°æ®1 | æ•°æ®2 |"</span>
   â””â”€ <span class="hljs-attr">length</span>=<span class="hljs-number">60</span> &lt; chunk_size âœ… ä¿ç•™

2. æ•°å­¦å…¬å¼åŒ¹é… (protected_regex<span class="hljs-section">[0]</span>):
   â”œâ”€ <span class="hljs-attr">start</span>=<span class="hljs-number">100</span>, end=<span class="hljs-number">120</span>
   â”œâ”€ <span class="hljs-attr">text</span>=<span class="hljs-string">"$$f(x) = x^2$$"</span>
   â””â”€ <span class="hljs-attr">length</span>=<span class="hljs-number">14</span> &lt; chunk_size âœ… ä¿ç•™

è¿”å›ï¼š<span class="hljs-section">[
    (20, "| åˆ—1 | åˆ—2 |\n| :--- | ---: |\n| æ•°æ®1 | æ•°æ®2 |"),
    (100, "$$f(x) = x^2$$")
]</span>
</code></pre>
<h4 data-id="heading-24">chunk å’Œä¿æŠ¤æ–‡æœ¬åˆå¹¶ -- _join()</h4>
<p>_join() çš„ç›®æ ‡æ˜¯<strong>é‡æ–°æ•´ç† chunk listï¼Œé€šè¿‡ä½ç½®è®¡ç®—ï¼Œç¡®ä¿å—ä¿æŠ¤å†…å®¹ï¼ˆå¦‚å®Œæ•´è¡¨æ ¼ï¼‰ä¸ä¼šè¢«åˆ†å‰²</strong>ã€‚å¦‚æœåŸå§‹ chunk ä¸­çš„è¡¨æ ¼è¢«æ–­å¼€äº†ï¼Œå®ƒä¼šåˆå¹¶è¿™äº›æ–­å¼€çš„éƒ¨åˆ†å¹¶æ’å…¥å®Œæ•´çš„å—ä¿æŠ¤å†…å®¹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">defÂ _join(self,Â splits:Â List<span class="hljs-section">[str]</span>,Â protect:Â List<span class="hljs-section">[Tuple[int,Â str]]</span>)Â -&gt;Â List<span class="hljs-section">[str]</span>:
Â Â Â Â """
Â Â Â Â å…³é”®ç›®æ ‡ï¼šç¡®ä¿å—ä¿æŠ¤å†…å®¹ä¿æŒå®Œæ•´
Â Â Â Â 
Â Â Â Â é—®é¢˜åœºæ™¯ï¼š
Â Â Â Â å‡è®¾Â _split()Â è¿”å›ï¼š
Â Â Â Â Â Â <span class="hljs-attr">splits</span>Â =Â [
Â Â Â Â Â Â Â Â <span class="hljs-string">"æ™®é€šæ–‡æœ¬Â ABCã€‚\n\n"</span>,
Â Â Â Â Â Â Â Â <span class="hljs-string">"|Â åˆ—1Â |Â åˆ—2Â |\n|"</span>,Â Â Â Â Â Â â†Â è¡¨æ ¼è¢«åˆ†å‰²äº†ï¼ï¼ˆä¸å¥½ï¼‰
Â Â Â Â Â Â Â Â <span class="hljs-string">"Â :---Â |Â ---:Â |\n|Â æ•°æ®1Â |Â æ•°æ®2Â |"</span>
Â Â Â Â Â Â ]
Â Â Â Â 
Â Â Â Â ä½†Â protectÂ å‘Šè¯‰æˆ‘ä»¬ï¼š
Â Â Â Â Â Â <span class="hljs-attr">protect</span>Â =Â [(<span class="hljs-number">20</span>,Â <span class="hljs-string">"|Â åˆ—1Â |Â åˆ—2Â |\n|Â :---Â |Â ---:Â |\n|Â æ•°æ®1Â |Â æ•°æ®2Â |"</span>)]
Â Â Â Â 
Â Â Â Â _join()Â çš„ä½œç”¨ï¼šé‡æ–°ç»„ç»‡Â splitsï¼Œä½¿å¾—è¡¨æ ¼ä½œä¸ºä¸€ä¸ªå®Œæ•´å•å…ƒå‡ºç°
Â Â Â Â """
Â Â Â Â 
Â Â Â Â <span class="hljs-attr">j</span>Â =Â <span class="hljs-number">0</span>Â Â <span class="hljs-comment">#Â å—ä¿æŠ¤å†…å®¹çš„ç´¢å¼•</span>
Â Â Â Â <span class="hljs-attr">point</span>Â =Â <span class="hljs-number">0</span>Â Â <span class="hljs-comment">#Â å½“å‰åœ¨åŸæ–‡ä¸­çš„ä½ç½®</span>
Â Â Â Â <span class="hljs-attr">start</span>Â =Â <span class="hljs-number">0</span>Â Â <span class="hljs-comment">#Â å½“å‰Â splitÂ çš„èµ·å§‹ä½ç½®</span>
Â Â Â Â <span class="hljs-attr">res</span>Â =Â []Â Â <span class="hljs-comment">#Â ç»“æœåˆ—è¡¨</span>
Â Â Â Â 
Â Â Â Â forÂ splitÂ inÂ splits:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è®¡ç®—å½“å‰Â splitÂ åœ¨åŸæ–‡ä¸­çš„èŒƒå›´</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">end</span>Â =Â startÂ +Â len(split)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä»Â pointÂ å¼€å§‹æå–å½“å‰Â splitÂ çš„å­ä¸²</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">cur</span>Â =Â split[pointÂ -Â start:]
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¤„ç†æ‰€æœ‰ä¸å½“å‰Â splitÂ é‡å çš„å—ä¿æŠ¤å†…å®¹</span>
Â Â Â Â Â Â Â Â whileÂ jÂ &lt;Â len(protect):
Â Â Â Â Â Â Â Â Â Â Â Â p_start,Â <span class="hljs-attr">p_content</span>Â =Â protect[j]
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">p_end</span>Â =Â p_startÂ +Â len(p_content)
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¦‚æœå—ä¿æŠ¤å†…å®¹åœ¨å½“å‰Â splitÂ ä¹‹åï¼Œåœæ­¢</span>
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ endÂ &lt;=Â p_start:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ·»åŠ å—ä¿æŠ¤å†…å®¹ä¹‹å‰çš„éƒ¨åˆ†</span>
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ pointÂ &lt;Â p_start:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">local_end</span>Â =Â p_startÂ -Â point
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â res.append(cur<span class="hljs-section">[:local_end]</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">cur</span>Â =Â cur[local_end:]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">point</span>Â =Â p_start
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ·»åŠ æ•´ä¸ªå—ä¿æŠ¤å†…å®¹ï¼ˆä½œä¸ºä¸€ä¸ªå®Œæ•´çš„å•å…ƒï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â res.append(p_content)
Â Â Â Â Â Â Â Â Â Â Â Â jÂ +=Â 1
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è·³è¿‡åŸÂ splitÂ ä¸­å—ä¿æŠ¤å†…å®¹çš„éƒ¨åˆ†</span>
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ pointÂ &lt;Â p_end:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">local_start</span>Â =Â p_endÂ -Â point
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">cur</span>Â =Â cur[local_start:]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">point</span>Â =Â p_end
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¦‚æœå½“å‰Â splitÂ å·²å¤„ç†å®Œï¼Œè·³å‡º</span>
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ notÂ cur:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ·»åŠ å½“å‰Â splitÂ çš„å‰©ä½™éƒ¨åˆ†</span>
Â Â Â Â Â Â Â Â ifÂ cur:
Â Â Â Â Â Â Â Â Â Â Â Â res.append(cur)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">point</span>Â =Â end
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç§»åˆ°ä¸‹ä¸€ä¸ªÂ split</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">start</span>Â =Â end
Â Â Â Â 
Â Â Â Â returnÂ res
</code></pre>
<p>_join() ç®€è¿°å°±æ˜¯ï¼š</p>
<ol>
<li>éå†æ¯ä¸ª chunk</li>
<li>å½“é‡åˆ°éœ€è¦ä¿æŠ¤çš„å†…å®¹ protect æ—¶ï¼Œç§»é™¤ chunk ä¸­çš„è¯¥å†…å®¹</li>
<li>æ’å…¥å®Œæ•´çš„ä¿æŠ¤å†…å®¹</li>
<li>ç»§ç»­å¤„ç†å‰©ä½™çš„ chunk</li>
</ol>
<h4 data-id="heading-25">åˆå¹¶æœ€ç»ˆ Chunks -- _merge()</h4>
<p>å¤„ç† chunk çš„ overlap éƒ¨åˆ†å’Œè§£æå¤„ç† chunk å¯¹åº”çš„å¤šçº§ header ä¿¡æ¯ï¼Œæ„å»ºæœ€ç»ˆçš„ chunk å†…å®¹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">defÂ _merge(self,Â splits:Â List<span class="hljs-section">[str]</span>)Â -&gt;Â List<span class="hljs-section">[Tuple[int,Â int,Â str]]</span>:
Â Â Â Â """
Â Â Â Â åˆå¹¶Â splitsÂ æˆä¸ºæœ€ç»ˆçš„Â chunks
Â Â Â Â å¤„ç†Â overlapÂ å’ŒÂ headerÂ è¿½è¸ª
Â Â Â Â """
Â Â Â Â 
Â Â Â Â chunks:Â List<span class="hljs-section">[Tuple[int,Â int,Â str]]</span>Â =Â <span class="hljs-section">[]</span>
Â Â Â Â cur_chunk:Â List<span class="hljs-section">[Tuple[int,Â int,Â str]]</span>Â =Â <span class="hljs-section">[]</span>Â Â <span class="hljs-comment">#Â å½“å‰Â chunkÂ ä¸­çš„å…ƒç´ </span>
Â Â Â Â 
Â Â Â Â <span class="hljs-attr">cur_headers</span>Â =Â <span class="hljs-string">""</span>
Â Â Â Â <span class="hljs-attr">cur_len</span>Â =Â <span class="hljs-number">0</span>
Â Â Â Â cur_start,Â <span class="hljs-attr">cur_end</span>Â =Â <span class="hljs-number">0</span>,Â <span class="hljs-number">0</span>
Â Â Â Â 
Â Â Â Â forÂ splitÂ inÂ splits:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è®¡ç®—Â splitÂ åœ¨åŸæ–‡ä¸­çš„ä½ç½®</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">cur_end</span>Â =Â cur_startÂ +Â len(split)
Â Â Â Â Â Â Â Â <span class="hljs-attr">split_len</span>Â =Â len(split)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ›´æ–°Â headerÂ ä¿¡æ¯</span>
Â Â Â Â Â Â Â Â self.header_hook.update(split)
Â Â Â Â Â Â Â Â <span class="hljs-attr">cur_headers</span>Â =Â self.header_hook.get_headers()
Â Â Â Â Â Â Â Â <span class="hljs-attr">cur_headers_len</span>Â =Â len(cur_headers)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ£€æŸ¥æ˜¯å¦è¶…è¿‡Â chunk_size</span>
Â Â Â Â Â Â Â Â ifÂ cur_lenÂ +Â split_lenÂ +Â cur_headers_lenÂ &gt;Â chunk_size:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å½“å‰Â chunkÂ å·²æ»¡ï¼Œä¿å­˜å®ƒ</span>
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ len(cur_chunk)Â &gt;Â 0:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â chunks.append((
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cur_chunk<span class="hljs-section">[0]</span><span class="hljs-section">[0]</span>,Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç¬¬ä¸€ä¸ªå…ƒç´ çš„Â start</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cur_chunk<span class="hljs-section">[-1]</span><span class="hljs-section">[1]</span>,Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æœ€åä¸€ä¸ªå…ƒç´ çš„Â end</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "".join(<span class="hljs-section">[c[2]</span>Â forÂ cÂ inÂ cur_chunk])
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ))
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¤„ç†Â overlapï¼šä»å½“å‰Â chunkÂ çš„æœ«å°¾å‘å‰é€‰æ‹©</span>
Â Â Â Â Â Â Â Â Â Â Â Â whileÂ cur_chunkÂ andÂ (
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cur_lenÂ &gt;Â chunk_overlap
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â orÂ cur_lenÂ +Â split_lenÂ +Â cur_headers_lenÂ &gt;Â chunk_size
Â Â Â Â Â Â Â Â Â Â Â Â ):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">first</span>Â =Â cur_chunk.pop(<span class="hljs-number">0</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cur_lenÂ <span class="hljs-attr">-</span>=Â len(first[<span class="hljs-number">2</span>])
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ·»åŠ Â headersÂ åˆ°æ–°Â chunkï¼ˆå¦‚æœæœ‰ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cur_headers
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â andÂ split_lenÂ +Â cur_headers_lenÂ &lt;Â chunk_size
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â andÂ cur_headersÂ notÂ inÂ split
Â Â Â Â Â Â Â Â Â Â Â Â ):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">next_start</span>Â =Â cur_chunk[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]Â ifÂ cur_chunkÂ elseÂ cur_start
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cur_chunk.insert(0,Â (0,Â 0,Â cur_headers))
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cur_lenÂ +=Â cur_headers_len
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ·»åŠ å½“å‰Â splitÂ åˆ°Â chunk</span>
Â Â Â Â Â Â Â Â cur_chunk.append((cur_start,Â cur_end,Â split))
Â Â Â Â Â Â Â Â cur_lenÂ +=Â split_len
Â Â Â Â Â Â Â Â <span class="hljs-attr">cur_start</span>Â =Â cur_end
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â å¤„ç†æœ€åä¸€ä¸ªÂ chunk</span>
Â Â Â Â ifÂ cur_chunk:
Â Â Â Â Â Â Â Â chunks.append((
Â Â Â Â Â Â Â Â Â Â Â Â cur_chunk<span class="hljs-section">[0]</span><span class="hljs-section">[0]</span>,
Â Â Â Â Â Â Â Â Â Â Â Â cur_chunk<span class="hljs-section">[-1]</span><span class="hljs-section">[1]</span>,
Â Â Â Â Â Â Â Â Â Â Â Â "".join(<span class="hljs-section">[c[2]</span>Â forÂ cÂ inÂ cur_chunk])
Â Â Â Â Â Â Â Â ))
Â Â Â Â 
Â Â Â Â returnÂ chunks
</code></pre>
<p>è¿™é‡Œé‡ç‚¹è¯´ä¸‹è§£æå¤„ç† chunk å¯¹åº”çš„å¤šçº§ header ä¿¡æ¯</p>
<h5 data-id="heading-26">HeaderTracker</h5>
<ol>
<li>è§£ææ ‡é¢˜ -- update(split)</li>
</ol>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">update</span>(<span class="hljs-params">self,Â split:Â <span class="hljs-built_in">str</span></span>):
Â Â Â Â <span class="hljs-string">"""
Â Â Â Â è§£æÂ splitÂ ä¸­çš„æ‰€æœ‰Â MarkdownÂ æ ‡é¢˜
Â Â Â Â """</span>
Â Â Â Â <span class="hljs-comment">#Â æ­£åˆ™åŒ¹é…ï¼š#Â æ ‡é¢˜ã€##Â å­æ ‡é¢˜ç­‰</span>
Â Â Â Â <span class="hljs-keyword">for</span>Â <span class="hljs-keyword">match</span>Â <span class="hljs-keyword">in</span>Â re.finditer(<span class="hljs-string">r"^(#+)\s+(.+)$"</span>,Â split,Â re.MULTILINE):
Â Â Â Â Â Â Â Â levelÂ =Â <span class="hljs-built_in">len</span>(<span class="hljs-keyword">match</span>.group(<span class="hljs-number">1</span>))Â Â <span class="hljs-comment">#Â #Â çš„ä¸ªæ•°ï¼ˆ1=ä¸€çº§ï¼Œ2=äºŒçº§ï¼Œ...ï¼‰</span>
Â Â Â Â Â Â Â Â titleÂ =Â <span class="hljs-keyword">match</span>.group(<span class="hljs-number">2</span>)Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ ‡é¢˜æ–‡æœ¬</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ›´æ–°å½“å‰çš„æ ‡é¢˜æ ˆ</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¾‹ï¼šè¯»åˆ°Â ##Â æ—¶ï¼Œæ›´æ–°äºŒçº§æ ‡é¢˜</span>
</code></pre>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">split</span> = <span class="hljs-string">"## ç¬¬äºŒå­£åº¦\n\nQ2 é”€å”®é¢..."</span>

åŒ¹é…ï¼š
 <span class="hljs-attr">level</span> = <span class="hljs-number">2</span>  (å› ä¸ºæ˜¯ <span class="hljs-comment">##)</span>
 <span class="hljs-attr">title</span> = <span class="hljs-string">"ç¬¬äºŒå­£åº¦"</span>

æ›´æ–°ç»“æœï¼š
 <span class="hljs-attr">headers</span> = {
   1: "2024 é”€å”®æŠ¥å‘Š",      <span class="hljs-comment"># ä¸€çº§æ ‡é¢˜ï¼ˆå‰é¢è®¾å®šçš„ï¼‰</span>
   2: "ç¬¬äºŒå­£åº¦"            <span class="hljs-comment"># äºŒçº§æ ‡é¢˜ï¼ˆåˆšæ›´æ–°çš„ï¼‰</span>
 }
</code></pre>
<ol start="2">
<li>è·å–æ ‡é¢˜ -- get_headers()</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_headers</span>(<span class="hljs-params">self</span>)Â -&gt;Â <span class="hljs-built_in">str</span>:
Â Â Â Â <span class="hljs-string">"""
Â Â Â Â è¿”å›å½“å‰çš„æ‰€æœ‰æ ‡é¢˜ï¼ŒæŒ‰å±‚çº§æ ¼å¼åŒ–
Â Â Â Â """</span>
Â Â Â Â <span class="hljs-comment">#Â è¿”å›çš„æ ¼å¼ç±»ä¼¼ï¼š</span>
Â Â Â Â <span class="hljs-comment">#Â #Â 2024Â é”€å”®æŠ¥å‘Š</span>
Â Â Â Â <span class="hljs-comment">#Â ##Â ç¬¬äºŒå­£åº¦</span>
</code></pre>
<p><strong>ä¾‹å­ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">å½“å‰æ ‡é¢˜æ ˆï¼š
{
    <span class="hljs-number">1</span>: <span class="hljs-string">"2024 é”€å”®æŠ¥å‘Š"</span>,
    <span class="hljs-number">2</span>: <span class="hljs-string">"ç¬¬äºŒå­£åº¦"</span>
}

<span class="hljs-built_in">get_headers</span>() è¿”å›ï¼š
"# <span class="hljs-number">2024</span> é”€å”®æŠ¥å‘Š\n## ç¬¬äºŒå­£åº¦"
</code></pre>
<ol start="3">
<li>HeaderTracker åœ¨ _merge() ä¸­çš„ä½¿ç”¨ï¼Œåœ¨å¤„ç†æ¯ä¸ª chunk æ—¶ï¼Œæ›´æ–°æ ‡é¢˜ä¿¡æ¯å¹¶æ£€æŸ¥æ˜¯å¦éœ€è¦åˆ›å»ºæ–°çš„ chunkã€‚</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">forÂ splitÂ inÂ splits:
Â Â Â Â <span class="hljs-attr">cur_end</span>Â =Â cur_startÂ +Â len(split)
Â Â Â Â <span class="hljs-attr">split_len</span>Â =Â self.len_function(split)
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â ã€1ã€‘æ›´æ–°æ ‡é¢˜ä¿¡æ¯</span>
Â Â Â Â self.header_hook.update(split)Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è§£æå½“å‰Â splitÂ ä¸­çš„æ ‡é¢˜</span>
Â Â Â Â <span class="hljs-attr">cur_headers</span>Â =Â self.header_hook.get_headers()Â Â <span class="hljs-comment">#Â è·å–å½“å‰æ ‡é¢˜é“¾</span>
Â Â Â Â <span class="hljs-attr">cur_headers_len</span>Â =Â self.len_function(cur_headers)
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â ã€2ã€‘æ£€æŸ¥Â headersÂ æ˜¯å¦å¤ªå¤§</span>
Â Â Â Â ifÂ cur_headers_lenÂ &gt;Â self.chunk_size:
Â Â Â Â Â Â Â Â logger.error(f"GotÂ headersÂ ofÂ sizeÂ {cur_headers_len},Â ...")
Â Â Â Â Â Â Â Â cur_headers,Â <span class="hljs-attr">cur_headers_len</span>Â =Â <span class="hljs-string">""</span>,Â <span class="hljs-number">0</span>Â Â <span class="hljs-comment">#Â èˆå¼ƒå¤ªå¤§çš„Â headers</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â ã€3ã€‘æ£€æŸ¥æ˜¯å¦éœ€è¦åˆ›å»ºæ–°Â chunk</span>
Â Â Â Â ifÂ cur_lenÂ +Â split_lenÂ +Â cur_headers_lenÂ &gt;Â self.chunk_size:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ...ä¿å­˜å½“å‰Â chunk...</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ...å¤„ç†Â overlap...</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ã€4ã€‘å¦‚æœç©ºé—´è¶³å¤Ÿï¼Œæ·»åŠ Â headersÂ åˆ°æ–°Â chunk</span>
Â Â Â Â Â Â Â Â ifÂ (
Â Â Â Â Â Â Â Â Â Â Â Â cur_headers
Â Â Â Â Â Â Â Â Â Â Â Â andÂ split_lenÂ +Â cur_headers_lenÂ &lt;Â self.chunk_size
Â Â Â Â Â Â Â Â Â Â Â Â andÂ cur_headersÂ notÂ inÂ split
Â Â Â Â Â Â Â Â ):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â headersÂ ä¸åœ¨Â splitÂ ä¸­æ‰æ·»åŠ ï¼ˆé¿å…é‡å¤ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â cur_chunk.insert(0,Â (header_start,Â header_end,Â cur_headers))
Â Â Â Â Â Â Â Â Â Â Â Â cur_lenÂ +=Â cur_headers_len
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â ã€5ã€‘æ·»åŠ å½“å‰Â split</span>
Â Â Â Â cur_chunk.append((cur_start,Â cur_end,Â split))
Â Â Â Â cur_lenÂ +=Â split_len
Â Â Â Â <span class="hljs-attr">cur_start</span>Â =Â cur_end
</code></pre>
<h4 data-id="heading-27">TextSplitter è®¾è®¡äº®ç‚¹æ€»ç»“</h4>
<ul>
<li><strong>æ–‡æœ¬ä¿æŠ¤æœºåˆ¶</strong>ï¼š é€šè¿‡ regex ä¿æŠ¤ç‰¹æ®Šå†…å®¹ã€‚_split_protected() + _join() ä½¿è¡¨æ ¼ã€ä»£ç å—ã€å…¬å¼ã€é“¾æ¥ç­‰å¼ºå…³è”å†…å®¹ä¿æŒå®Œæ•´ã€‚</li>
<li><strong>é€’å½’å¤šå±‚è¯­ä¹‰åˆ†å‰²</strong>ï¼š å¤šä¸ªåˆ†éš”ç¬¦é€çº§å°è¯•ï¼Œä¿ç•™è¯­ä¹‰è¾¹ç•Œï¼ˆæ®µè½ â†’ å¥å­ â†’ è¯ â†’ å­—ï¼‰ï¼Œé€’å½’è°ƒç”¨ï¼Œç¡®ä¿ chunk_size ä¸è¶…è¿‡é™åˆ¶ã€‚</li>
<li><strong>Overlap å¤„ç†</strong>ï¼š Chunks é—´æœ‰é‡å ï¼Œä¸Šä¸‹æ–‡è¿è´¯ï¼Œå¢å¼º Chunks é—´çš„è¿æ¥æ€§ã€‚</li>
<li><strong>æ ‡é¢˜ä¸Šä¸‹æ–‡ä¿ç•™</strong>ï¼š HeaderTracker è·å–å¤šçº§æ ‡é¢˜ï¼ŒChunk åŒ…å«æ ‡é¢˜ä¸Šä¸‹æ–‡ç¡®ä¿è¯­ä¹‰å®Œæ•´ã€‚</li>
<li><strong>ä½ç½®æ˜ å°„</strong>ï¼š (start, end, text) æ”¯æŒå›æº¯åŸæ–‡ï¼Œæä¾›æº¯æºé«˜äº®æ˜¾ç¤ºçš„èƒ½åŠ›ã€‚</li>
</ul>
<h4 data-id="heading-28">Chunk list å®‰å…¨ç­–ç•¥</h4>
<p>ç›´æ¥æ ¹æ®æœ€å¤§ chunk æ•°ï¼ˆé»˜è®¤ 1000ï¼‰æˆªæ–­ï¼Œè¶…è¿‡éƒ¨åˆ†ç›´æ¥ä¸¢å¼ƒã€‚é˜²æ­¢å†…å­˜æº¢å‡º (OOM)ï¼ŒåŒæ—¶é¿å…æ•°æ®åº“æ€§èƒ½é—®é¢˜ã€‚ä½†è¿™ä¸ªç­–ç•¥åŒæ ·å­˜åœ¨ä¿¡æ¯å®Œæ•´æ€§é—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘æ ¹æ®å®é™…åœºæ™¯è°ƒæ•´æœ€å¤§ chunk æ•°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â LimitÂ theÂ numberÂ ofÂ returnedÂ chunks</span>
<span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(chunks)Â &gt;Â self.max_chunks:
Â Â Â Â logger.warning(
Â Â Â Â Â Â Â Â <span class="hljs-string">f"LimitingÂ chunksÂ fromÂ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(chunks)}</span>Â toÂ maximumÂ <span class="hljs-subst">{self.max_chunks}</span>"</span>
Â Â Â Â )
Â Â Â Â chunksÂ =Â chunks[:Â self.max_chunks]
</code></pre>
<h3 data-id="heading-29">Chunk å›¾ç‰‡å†…å®¹å¤„ç†</h3>
<p>å¤šæ¨¡æ€å›¾ç‰‡å¤„ç†æµç¨‹ï¼šå¯¹æ¯ä¸ª Chunk ä¸­çš„å›¾ç‰‡è¿›è¡Œæå–ã€ä¸‹è½½ä¸Šä¼ ã€OCR æ–‡å­—è¯†åˆ«å’Œ VLM å›¾ç‰‡æè¿°ç”Ÿæˆã€‚</p>
<h4 data-id="heading-30">å¤šæ¨¡æ€å¯ç”¨æ¡ä»¶</h4>
<pre><code class="hljs language-ini" lang="ini">ifÂ self.enable_multimodal:
Â Â Â Â <span class="hljs-comment">#Â æ”¯æŒçš„æ–‡ä»¶ç±»å‹</span>
Â Â Â Â <span class="hljs-attr">allowed_types</span>Â =Â [
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ–‡æœ¬æ–‡æ¡£</span>
Â Â Â Â Â Â Â Â <span class="hljs-string">".pdf"</span>,Â <span class="hljs-string">".md"</span>,Â <span class="hljs-string">".markdown"</span>,Â <span class="hljs-string">".doc"</span>,Â <span class="hljs-string">".docx"</span>,
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â çº¯å›¾ç‰‡æ–‡ä»¶</span>
Â Â Â Â Â Â Â Â <span class="hljs-string">".jpg"</span>,Â <span class="hljs-string">".jpeg"</span>,Â <span class="hljs-string">".png"</span>,Â <span class="hljs-string">".gif"</span>,Â <span class="hljs-string">".bmp"</span>,Â <span class="hljs-string">".tiff"</span>,Â <span class="hljs-string">".webp"</span>,
Â Â Â Â ]
Â Â Â Â 
Â Â Â Â ifÂ file_extÂ inÂ allowed_types:
Â Â Â Â Â Â Â Â <span class="hljs-attr">chunks</span>Â =Â self.process_chunks_images(chunks,Â document.images)
</code></pre>
<h4 data-id="heading-31">å›¾ç‰‡å¤„ç†æµç¨‹</h4>
<p>å¯¹å•ä¸ª Chunk ä¸­çš„å›¾ç‰‡å¤„ç†æ­¥éª¤ï¼š</p>
<ol>
<li><strong>æå–å›¾ç‰‡å¼•ç”¨</strong> - ä» <code>chunk.content</code> ä¸­æå– Markdown å›¾ç‰‡è¯­æ³• <code>![alt](url)</code></li>
<li><strong>ä¸‹è½½/ä¸Šä¼ å›¾ç‰‡</strong> - å°†å›¾ç‰‡ç»Ÿä¸€å­˜å‚¨åˆ°å¯¹è±¡å­˜å‚¨ (COS/MinIO)</li>
<li><strong>OCR æ–‡å­—è¯†åˆ«</strong> - ä½¿ç”¨ Paddle OCR æå–å›¾ç‰‡ä¸­çš„æ–‡å­—</li>
<li><strong>VLM å›¾ç‰‡æè¿°</strong> - è°ƒç”¨å¤šæ¨¡æ€ LLM ç”Ÿæˆå›¾ç‰‡è‡ªç„¶è¯­è¨€æè¿°</li>
<li><strong>æ›´æ–° chunk.images</strong> - å°†å¤„ç†ç»“æœå†™å…¥ Chunk</li>
</ol>
<h4 data-id="heading-32">å›¾ç‰‡ä¸‹è½½ç­–ç•¥</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span>Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">download_and_upload_image</span>(<span class="hljs-params">self,Â img_url:Â <span class="hljs-built_in">str</span></span>):
Â Â Â Â <span class="hljs-string">"""
Â Â Â Â å¤„ç†ä¸‰ç§æƒ…å†µï¼š
Â Â Â Â 1.Â å·²åœ¨å­˜å‚¨ä¸­Â (COS/MinIO)Â â†’Â ç›´æ¥ä½¿ç”¨
Â Â Â Â 2.Â æœ¬åœ°æ–‡ä»¶Â Â Â Â Â Â Â Â Â Â Â Â Â Â â†’Â ä¸Šä¼ åˆ°å­˜å‚¨
Â Â Â Â 3.Â è¿œç¨‹Â URLÂ Â Â Â Â Â Â Â Â Â Â Â Â Â â†’Â ä¸‹è½½åä¸Šä¼ åˆ°å­˜å‚¨
Â Â Â Â """</span>
</code></pre>
<h4 data-id="heading-33">SSRF å®‰å…¨é˜²æŠ¤</h4>
<p>éªŒè¯ URL é˜²æ­¢ SSRF æ”»å‡»ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@staticmethod</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_is_safe_url</span>(<span class="hljs-params">url:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-built_in">bool</span>:
Â Â Â Â <span class="hljs-string">"""
Â Â Â Â æ‹’ç»çš„Â URLÂ ç±»å‹ï¼š
Â Â Â Â 1.Â éÂ HTTP/HTTPSÂ åè®®
Â Â Â Â 2.Â ç§æœ‰Â IPÂ (10.0.0.0/8,Â 172.16.0.0/12,Â 192.168.0.0/16)
Â Â Â Â 3.Â LoopbackÂ IPÂ (127.0.0.1,Â ::1)
Â Â Â Â 4.Â äº‘æœåŠ¡å…ƒæ•°æ®ç«¯ç‚¹Â (169.254.169.254)
Â Â Â Â 5.Â æœ¬åœ°ä¸»æœºåÂ (.local,Â localhost)
Â Â Â Â """</span>
</code></pre>
<h4 data-id="heading-34">OCR &amp; VLM</h4>


























<table><thead><tr><th>å¤„ç†æ–¹å¼</th><th>æ”¯æŒå¼•æ“</th><th>è¾“å…¥</th><th>è¾“å‡º</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><strong>OCR</strong></td><td>Paddle OCR/Nanonets OCR</td><td>PIL Image</td><td>å›¾ç‰‡ä¸­çš„æ–‡å­—</td><td>å…³é”®å­—åŒ¹é…ã€ç»“æ„åŒ–æ•°æ®æå–</td></tr><tr><td><strong>VLM</strong></td><td>OpenAI/Ollama è‡ªéƒ¨ç½²</td><td>Base64 å›¾ç‰‡</td><td>è‡ªç„¶è¯­è¨€æè¿°</td><td>è¯­ä¹‰ç†è§£ã€RAG é—®ç­”å¢å¼º</td></tr></tbody></table>
<h4 data-id="heading-35">OCR å®ç°è¯¦è§£ (PaddleOCR)</h4>
<h5 data-id="heading-36">åˆå§‹åŒ–é…ç½®</h5>
<pre><code class="hljs language-python" lang="python">ocr_configÂ =Â {
Â Â Â Â <span class="hljs-string">"use_gpu"</span>:Â <span class="hljs-literal">False</span>,Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç¦ç”¨Â GPUï¼Œä½¿ç”¨Â CPU</span>
Â Â Â Â <span class="hljs-string">"text_det_limit_side_len"</span>:Â <span class="hljs-number">960</span>,Â Â Â Â Â Â <span class="hljs-comment">#Â å›¾ç‰‡é•¿è¾¹é™åˆ¶Â 960px</span>
Â Â Â Â <span class="hljs-string">"use_doc_orientation_classify"</span>:Â <span class="hljs-literal">True</span>,Â <span class="hljs-comment">#Â è‡ªåŠ¨æ£€æµ‹æ–‡æ¡£æ–¹å‘ï¼ˆ0Â°/90Â°/180Â°/270Â°ï¼‰</span>
Â Â Â Â <span class="hljs-string">"use_textline_orientation"</span>:Â <span class="hljs-literal">True</span>,Â Â Â Â Â <span class="hljs-comment">#Â æ–‡æœ¬è¡Œæ–¹å‘æ£€æµ‹</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â æ¨¡å‹é€‰æ‹©ï¼ˆv4Â æœ€æ–°ç‰ˆæœ¬ï¼‰</span>
Â Â Â Â <span class="hljs-string">"text_recognition_model_name"</span>:Â <span class="hljs-string">"PP-OCRv4_server_rec"</span>,
Â Â Â Â <span class="hljs-string">"text_detection_model_name"</span>:Â <span class="hljs-string">"PP-OCRv4_server_det"</span>,
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â æ£€æµ‹é˜ˆå€¼</span>
Â Â Â Â <span class="hljs-string">"text_det_thresh"</span>:Â <span class="hljs-number">0.3</span>,Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ£€æµ‹å€™é€‰æ¡†é˜ˆå€¼</span>
Â Â Â Â <span class="hljs-string">"text_det_box_thresh"</span>:Â <span class="hljs-number">0.6</span>,Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ–‡æœ¬æ¡†ç½®ä¿¡åº¦é˜ˆå€¼</span>
Â Â Â Â <span class="hljs-string">"text_det_unclip_ratio"</span>:Â <span class="hljs-number">1.5</span>,Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ–‡æœ¬æ¡†æ‰©å¤§æ¯”ä¾‹</span>
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â é«˜ç²¾åº¦æ¨¡å¼</span>
Â Â Â Â <span class="hljs-string">"use_dilation"</span>:Â <span class="hljs-literal">True</span>,Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è†¨èƒ€æ“ä½œæé«˜å‡†ç¡®ç‡</span>
Â Â Â Â <span class="hljs-string">"det_db_score_mode"</span>:Â <span class="hljs-string">"slow"</span>,Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ…¢é€Ÿä½†å‡†ç¡®çš„è¯„åˆ†æ¨¡å¼</span>
Â Â Â Â <span class="hljs-string">"lang"</span>:Â <span class="hljs-string">"ch"</span>,Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è¯†åˆ«ä¸­æ–‡</span>
}
</code></pre>
<h5 data-id="heading-37">CPU å…¼å®¹æ€§æ£€æµ‹</h5>
<p>PaddleOCR ä½¿ç”¨ AVX æŒ‡ä»¤é›†åŠ é€Ÿï¼Œè€æ—§ CPU å¯èƒ½ä¸æ”¯æŒï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â æ£€æµ‹Â CPUÂ æ˜¯å¦æ”¯æŒÂ AVX</span>
ifÂ platform.system()Â ==Â "Linux":
Â Â Â Â <span class="hljs-attr">result</span>Â =Â subprocess.run(
Â Â Â Â Â Â Â Â <span class="hljs-section">["grep",Â "-o",Â "avx",Â "/proc/cpuinfo"]</span>,
Â Â Â Â Â Â Â Â <span class="hljs-attr">capture_output</span>=<span class="hljs-literal">True</span>,Â text=<span class="hljs-literal">True</span>,Â timeout=<span class="hljs-number">5</span>
Â Â Â Â )
Â Â Â Â <span class="hljs-attr">has_avx</span>Â =Â <span class="hljs-string">"avx"</span>Â inÂ result.stdout.lower()
Â Â Â Â 
Â Â Â Â ifÂ notÂ has_avx:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é™çº§åˆ°å…¼å®¹æ¨¡å¼</span>
Â Â Â Â Â Â Â Â os.environ<span class="hljs-section">["FLAGS_use_avx2"]</span>Â =Â "0"
Â Â Â Â Â Â Â Â os.environ<span class="hljs-section">["FLAGS_use_avx"]</span>Â =Â "1"
</code></pre>
<h5 data-id="heading-38">OCR è¯†åˆ«æµç¨‹</h5>
<pre><code class="hljs language-arduino" lang="arduino">defÂ _predict(self,Â image:Â Image.Image)Â -&gt;Â str:
Â Â Â Â #Â <span class="hljs-number">1.</span>Â ç¡®ä¿Â RGBÂ æ ¼å¼
Â Â Â Â <span class="hljs-keyword">if</span>Â image.modeÂ !=Â <span class="hljs-string">"RGB"</span>:
Â Â Â Â Â Â Â Â imageÂ =Â image.<span class="hljs-built_in">convert</span>(<span class="hljs-string">"RGB"</span>)
Â Â Â Â 
Â Â Â Â #Â <span class="hljs-number">2.</span>Â è½¬æ¢ä¸ºÂ numpyÂ æ•°ç»„
Â Â Â Â image_arrayÂ =Â np.<span class="hljs-built_in">array</span>(image)
Â Â Â Â 
Â Â Â Â #Â <span class="hljs-number">3.</span>Â æ‰§è¡ŒÂ OCR
Â Â Â Â ocr_resultÂ =Â self.ocr.<span class="hljs-built_in">ocr</span>(image_array,Â cls=False)
Â Â Â Â #Â è¿”å›æ ¼å¼ï¼š[[[åæ ‡æ¡†],Â (<span class="hljs-string">"æ–‡å­—"</span>,Â ç½®ä¿¡åº¦)],Â ...]
Â Â Â Â 
Â Â Â Â #Â <span class="hljs-number">4.</span>Â æå–æ–‡å­—
Â Â Â Â textÂ =Â [line[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]Â <span class="hljs-keyword">for</span>Â lineÂ inÂ ocr_result[<span class="hljs-number">0</span>]Â <span class="hljs-keyword">if</span>Â lineÂ <span class="hljs-keyword">and</span>Â line[<span class="hljs-number">1</span>]]
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"Â "</span>.<span class="hljs-built_in">join</span>(text)
</code></pre>
<h4 data-id="heading-39">Chunk å›¾ç‰‡ä¿¡æ¯ç»“æ„</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">chunk.images</span>Â =Â [
Â Â Â Â {
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åŸå§‹ä¿¡æ¯</span>
Â Â Â Â Â Â Â Â <span class="hljs-string">"original_url"</span>:Â <span class="hljs-string">"https://example.com/chart.png"</span>,
Â Â Â Â Â Â Â Â <span class="hljs-string">"start"</span>:Â <span class="hljs-number">40</span>,
Â Â Â Â Â Â Â Â <span class="hljs-string">"end"</span>:Â <span class="hljs-number">90</span>,
Â Â Â Â Â Â Â Â <span class="hljs-string">"alt_text"</span>:Â <span class="hljs-string">"é”€å”®å›¾è¡¨"</span>,
Â Â Â Â Â Â Â Â <span class="hljs-string">"match_text"</span>:Â <span class="hljs-string">"![é”€å”®å›¾è¡¨](https://...)"</span>,
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å­˜å‚¨ä¿¡æ¯</span>
Â Â Â Â Â Â Â Â <span class="hljs-string">"cos_url"</span>:Â <span class="hljs-string">"https://storage.local/abc123.png"</span>,
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â OCRÂ ç»“æœ</span>
Â Â Â Â Â Â Â Â <span class="hljs-string">"ocr_text"</span>:Â <span class="hljs-string">"Q1é”€å”®é¢\nä¸€æœˆï¼š100ä¸‡\näºŒæœˆï¼š110ä¸‡"</span>,
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â VLMÂ ç»“æœ</span>
Â Â Â Â Â Â Â Â <span class="hljs-string">"caption"</span>:Â <span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªæŸ±çŠ¶å›¾ï¼Œå±•ç¤ºäº†Q1çš„æœˆåº¦é”€å”®æ•°æ®..."</span>
Â Â Â Â }
]
</code></pre>
<p>ç”Ÿæˆæœ€ç»ˆçš„ chunk ç»“æ„åï¼Œå°†å¯¹ chunk è¿›è¡Œå‘é‡åŒ–ï¼Œä»¥åŠæ ¹æ®é…ç½®è¿›è¡Œç›¸åº”çš„ RAG å¢å¼ºã€‚</p>
<h3 data-id="heading-40">å‘é‡åŒ–</h3>
<h4 data-id="heading-41">æ¸…é™¤æ—§æ•°æ®</h4>
<p>æ¸…ç†æ—§çš„ chunks å’Œç´¢å¼•æ•°æ®ï¼Œé¿å…é‡å¤æ•°æ®ï¼Œå¦‚æœå­˜åœ¨çŸ¥è¯†å›¾è°±æ•°æ®ä¹ŸåŒæ ·æ¸…é™¤ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//Â åˆ é™¤æ—§çš„chunks</span>
errÂ :=Â s.chunkService.DeleteChunksByKnowledgeID(ctx,Â knowledge.ID);
<span class="hljs-comment">//Â åˆ é™¤æ—§çš„ç´¢å¼•æ•°æ®</span>
errÂ :=Â retrieveEngine.DeleteByKnowledgeIDList(ctx,Â []<span class="hljs-type">string</span>{knowledge.ID},Â embeddingModel.GetDimensions(),Â knowledge.Type);
<span class="hljs-comment">//Â åˆ é™¤çŸ¥è¯†å›¾è°±æ•°æ®ï¼ˆå¦‚æœå­˜åœ¨ï¼‰</span>
errÂ :=Â s.graphEngine.DelGraph(ctx,Â []types.NameSpace{namespace});
</code></pre>
<h4 data-id="heading-42">æ„å»º Chunk å¯¹è±¡</h4>
<p>åŒ…æ‹¬ chunk çš„æ–‡æœ¬å†…å®¹å’Œå›¾ç‰‡ OCR ä¿¡æ¯ï¼Œä»¥åŠå›¾ç‰‡ Caption ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">_</span>,Â <span class="hljs-selector-tag">chunkData</span>Â :=Â <span class="hljs-selector-tag">range</span>Â <span class="hljs-selector-tag">chunks</span>Â {
Â Â Â Â <span class="hljs-comment">//Â 1.Â åˆ›å»ºä¸»æ–‡æœ¬Â Chunk</span>
Â Â Â Â textChunkÂ :=Â &amp;types.Chunk{
Â Â Â Â Â Â Â Â ID:Â Â Â Â Â Â Â Â Â Â Â Â Â Â uuid.New().String(),
Â Â Â Â Â Â Â Â TenantID:Â Â Â Â Â Â Â Â knowledge.TenantID,
Â Â Â Â Â Â Â Â KnowledgeID:Â Â Â Â Â knowledge.ID,
Â Â Â Â Â Â Â Â KnowledgeBaseID:Â knowledge.KnowledgeBaseID,
Â Â Â Â Â Â Â Â <span class="hljs-attribute">Content</span>:Â Â Â Â Â Â Â Â Â chunkData.Content,
Â Â Â Â Â Â Â Â <span class="hljs-attribute">ChunkIndex</span>:Â Â Â Â Â Â <span class="hljs-built_in">int</span>(chunkData.Seq),
Â Â Â Â Â Â Â Â <span class="hljs-attribute">ChunkType</span>:Â Â Â Â Â Â Â types.ChunkTypeText,Â Â <span class="hljs-comment">//Â "text"</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â ...</span>
Â Â Â Â }
Â Â Â Â <span class="hljs-selector-tag">insertChunks</span>Â =Â <span class="hljs-selector-tag">append</span>(insertChunks,Â textChunk)

Â Â Â Â <span class="hljs-comment">//Â 2.Â å¤„ç†å›¾ç‰‡ä¿¡æ¯</span>
Â Â Â Â <span class="hljs-selector-tag">if</span>Â <span class="hljs-selector-tag">len</span>(chunkData.Images)Â &gt;Â <span class="hljs-number">0</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">i</span>,Â <span class="hljs-selector-tag">img</span>Â :=Â <span class="hljs-selector-tag">range</span>Â <span class="hljs-selector-tag">chunkData</span><span class="hljs-selector-class">.Images</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â 2.1Â åˆ›å»ºÂ OCRÂ Chunkï¼ˆå¦‚æœæœ‰Â OCRÂ æ–‡æœ¬ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">if</span>Â <span class="hljs-selector-tag">img</span><span class="hljs-selector-class">.OcrText</span>Â !=Â ""Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ocrChunkÂ :=Â &amp;types.Chunk{
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ID:Â Â Â Â Â Â Â Â Â Â Â Â uuid.New().String(),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attribute">Content</span>:Â Â Â Â Â Â Â img.OcrText,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attribute">ChunkType</span>:Â Â Â Â Â types.ChunkTypeImageOCR,Â Â <span class="hljs-comment">//Â "image_ocr"</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attribute">ParentChunkID</span>:Â textChunk.ID,Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å…³è”åˆ°çˆ¶Â Chunk</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attribute">ImageInfo</span>:Â Â Â Â Â <span class="hljs-built_in">string</span>(imageInfoJSON),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â ...</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">insertChunks</span>Â =Â <span class="hljs-selector-tag">append</span>(insertChunks,Â ocrChunk)
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â 2.2Â åˆ›å»ºÂ CaptionÂ Chunkï¼ˆå¦‚æœæœ‰å›¾ç‰‡æè¿°ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">if</span>Â <span class="hljs-selector-tag">img</span><span class="hljs-selector-class">.Caption</span>Â !=Â ""Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â captionChunkÂ :=Â &amp;types.Chunk{
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ID:Â Â Â Â Â Â Â Â Â Â Â Â uuid.New().String(),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attribute">Content</span>:Â Â Â Â Â Â Â img.Caption,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attribute">ChunkType</span>:Â Â Â Â Â types.ChunkTypeImageCaption,Â Â <span class="hljs-comment">//Â "image_caption"</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attribute">ParentChunkID</span>:Â textChunk.ID,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attribute">ImageInfo</span>:Â Â Â Â Â <span class="hljs-built_in">string</span>(imageInfoJSON),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â ...</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">insertChunks</span>Â =Â <span class="hljs-selector-tag">append</span>(insertChunks,Â captionChunk)
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å°†å›¾ç‰‡ä¿¡æ¯ä¿å­˜åˆ°æ–‡æœ¬Â Chunk</span>
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">textChunk</span><span class="hljs-selector-class">.ImageInfo</span>Â =Â <span class="hljs-selector-tag">string</span>(imageInfoJSON)
Â Â Â Â }
}
</code></pre>
<h4 data-id="heading-43">è®¾ç½® Chunk å…³ç³»</h4>
<p>ä¸º<strong>æ–‡æœ¬ç±»å‹</strong>çš„ Chunk è®¾ç½®å‰åå…³ç³»ï¼Œæ„å»º chunk é“¾è¡¨ã€‚ä¸ºäº†æ”¯æŒæ£€ç´¢æ—¶çš„ä¸Šä¸‹æ–‡æ‰©å±•ã€‚</p>
<pre><code class="hljs language-css" lang="css">forÂ <span class="hljs-selector-tag">i</span>,Â chunkÂ :=Â rangeÂ textChunksÂ {
Â Â Â Â ifÂ <span class="hljs-selector-tag">i</span>Â &gt;Â <span class="hljs-number">0</span>Â {
Â Â Â Â Â Â Â Â textChunks<span class="hljs-selector-attr">[i-1]</span><span class="hljs-selector-class">.NextChunkID</span>Â =Â chunk<span class="hljs-selector-class">.ID</span>
Â Â Â Â }
Â Â Â Â ifÂ <span class="hljs-selector-tag">i</span>Â &lt;Â len(textChunks)-<span class="hljs-number">1</span>Â {
Â Â Â Â Â Â Â Â textChunks<span class="hljs-selector-attr">[i+1]</span><span class="hljs-selector-class">.PreChunkID</span>Â =Â chunk<span class="hljs-selector-class">.ID</span>
Â Â Â Â }
}
</code></pre>
<h4 data-id="heading-44">æ„å»ºå‘é‡æ•°æ®ç´¢å¼•ä¿¡æ¯</h4>
<pre><code class="hljs language-go" lang="go">indexInfoListÂ :=Â <span class="hljs-built_in">make</span>([]*types.IndexInfo,Â <span class="hljs-number">0</span>,Â <span class="hljs-built_in">len</span>(insertChunks))
<span class="hljs-keyword">for</span>Â _,Â chunkÂ :=Â <span class="hljs-keyword">range</span>Â insertChunksÂ {
Â Â Â Â indexInfoListÂ =Â <span class="hljs-built_in">append</span>(indexInfoList,Â &amp;types.IndexInfo{
Â Â Â Â Â Â Â Â Content:Â Â Â Â Â Â Â Â Â chunk.Content,Â Â Â Â Â Â <span class="hljs-comment">//Â ç”¨äºç”ŸæˆÂ embedding</span>
Â Â Â Â Â Â Â Â SourceID:Â Â Â Â Â Â Â Â chunk.ID,
Â Â Â Â Â Â Â Â SourceType:Â Â Â Â Â Â types.ChunkSourceType,
Â Â Â Â Â Â Â Â ChunkID:Â Â Â Â Â Â Â Â Â chunk.ID,
Â Â Â Â Â Â Â Â KnowledgeID:Â Â Â Â Â knowledge.ID,
Â Â Â Â Â Â Â Â KnowledgeBaseID:Â knowledge.KnowledgeBaseID,
Â Â Â Â })
}
</code></pre>
<h4 data-id="heading-45">æ£€æŸ¥å­˜å‚¨é…é¢æ£€æŸ¥</h4>
<p>ç®€å•ä¼°ç®—æœ¬æ¬¡æ’å…¥å‘é‡çš„å­˜å‚¨å¤§å°ï¼Œæ£€æŸ¥æ˜¯å¦è¶…è¿‡é…é¢ã€‚å­˜å‚¨å¤§å° â‰ˆ ç´¢å¼•æ¡ç›®æ•° Ã— (å‘é‡ç»´åº¦ Ã— 4 + å…ƒæ•°æ®å¤§å°)</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//Â ä¼°ç®—å­˜å‚¨å¤§å°</span>
totalStorageSizeÂ :=Â retrieveEngine.EstimateStorageSize(ctx,Â embeddingModel,Â indexInfoList)

<span class="hljs-comment">//Â æ£€æŸ¥é…é¢</span>
<span class="hljs-keyword">if</span>Â tenantInfo.StorageQuotaÂ &gt;Â <span class="hljs-number">0</span>Â {
Â Â Â Â <span class="hljs-keyword">if</span>Â tenantInfo.StorageUsedÂ +Â totalStorageSizeÂ &gt;Â tenantInfo.StorageQuotaÂ {
Â Â Â Â Â Â Â Â knowledge.ParseStatusÂ =Â types.ParseStatusFailed
Â Â Â Â Â Â Â Â knowledge.ErrorMessageÂ =Â <span class="hljs-string">"å­˜å‚¨ç©ºé—´ä¸è¶³"</span>
Â Â Â Â Â Â Â Â s.repo.UpdateKnowledge(ctx,Â knowledge)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>
Â Â Â Â }
}
</code></pre>
<h4 data-id="heading-46">ä¿å­˜ Chunk åˆ—è¡¨å¹¶å‘é‡åŒ–</h4>
<p>å…ˆå°† chunk åˆ—è¡¨ä¿å­˜åˆ°æ•°æ®åº“ï¼Œç„¶åæ‰¹é‡å‘é‡åŒ–ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//Â ä¿å­˜Â chunkÂ åˆ—è¡¨</span>
errÂ :=Â s.chunkService.<span class="hljs-built_in">CreateChunks</span>(ctx,Â insertChunks);Â 

<span class="hljs-comment">//Â æ‰¹é‡å‘é‡åŒ–</span>
errÂ =Â retrieveEngine<span class="hljs-selector-class">.BatchIndex</span>(ctx,Â embeddingModel,Â indexInfoList)
</code></pre>
<h3 data-id="heading-47">çŸ¥è¯†å›¾è°±æ„å»º</h3>
<h4 data-id="heading-48">å¼€å¯çŸ¥è¯†å›¾è°±æå–</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">if</span>Â kb.ExtractConfigÂ !=Â <span class="hljs-literal">nil</span>Â &amp;&amp;Â kb.ExtractConfig.EnabledÂ {
Â Â Â Â <span class="hljs-keyword">for</span>Â _,Â chunkÂ :=Â <span class="hljs-keyword">range</span>Â textChunksÂ {
Â Â Â Â Â Â Â Â errÂ :=Â NewChunkExtractTask(ctx,Â s.task,Â chunk.TenantID,Â chunk.ID,Â kb.SummaryModelID)
Â Â Â Â Â Â Â Â ...
Â Â Â Â }
}
</code></pre>
<h4 data-id="heading-49">æ„å»ºæå–æ¨¡æ¿</h4>
<p>æ„å»ºçŸ¥è¯†å›¾è°±æå– prompt æ¨¡æ¿ï¼Œç”¨äº LLM æå–çŸ¥è¯†å›¾è°±ä¸­çš„å®ä½“å’Œå…³ç³»ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">template</span>Â :=Â &amp;types.PromptTemplateStructured{
Â Â Â Â Description:Â s.<span class="hljs-keyword">template</span>.Description,
Â Â Â Â Tags:Â Â Â Â Â Â Â Â kb.ExtractConfig.Tags,Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å®ä½“ç±»å‹å®šä¹‰</span>
Â Â Â Â Examples:Â []types.GraphData{
Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â Â Â Text:Â Â Â Â Â kb.ExtractConfig.Text,Â Â Â Â Â Â <span class="hljs-comment">//Â ç¤ºä¾‹æ–‡æœ¬</span>
Â Â Â Â Â Â Â Â Â Â Â Â Node:Â Â Â Â Â kb.ExtractConfig.Nodes,Â Â Â Â Â <span class="hljs-comment">//Â ç¤ºä¾‹èŠ‚ç‚¹</span>
Â Â Â Â Â Â Â Â Â Â Â Â Relation:Â kb.ExtractConfig.Relations,Â <span class="hljs-comment">//Â ç¤ºä¾‹å…³ç³»</span>
Â Â Â Â Â Â Â Â },
Â Â Â Â },
}
</code></pre>
<h4 data-id="heading-50">LLM æå–å®ä½“å’Œå…³ç³»</h4>
<p>è°ƒç”¨ LLM æå– chunk ä¸­çš„å®ä½“å’Œå…³ç³»ï¼Œæ ¹æ®æ¨¡æ¿ç”Ÿæˆç»“æ„åŒ–çš„çŸ¥è¯†å›¾è°±ã€‚åœ¨æå–å®ä½“å’Œå…³ç³»æ—¶ï¼Œè‹¥ LLM æå–å‡ºäº† relationï¼Œä½†æ²¡æœ‰å¯¹åº”çš„ nodeï¼Œä¼šè§¦å‘è‡ªåŠ¨è¡¥å……èŠ‚ç‚¹åŠŸèƒ½ï¼Œå°†ç¼ºå¤±çš„èŠ‚ç‚¹æ·»åŠ åˆ°çŸ¥è¯†å›¾è°±ä¸­ã€‚</p>
<pre><code class="hljs language-css" lang="css">extractorÂ :=Â chatpipline.<span class="hljs-built_in">NewExtractor</span>(chatModel,Â template)
graph,Â errÂ :=Â extractor.<span class="hljs-built_in">Extract</span>(ctx,Â chunk.Content)
</code></pre>
<h4 data-id="heading-51">å…³è” Chunk å†™å…¥å›¾æ•°æ®åº“</h4>
<p>å°†æå–åˆ°çš„çŸ¥è¯†å›¾è°±å…³è”åˆ°å¯¹åº”çš„ Chunk ä¸­ï¼Œå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//Â ä¸ºæ¯ä¸ªèŠ‚ç‚¹å…³è”æ¥æºÂ Chunk</span>
<span class="hljs-keyword">for</span>Â _,Â nodeÂ :=Â <span class="hljs-keyword">range</span>Â graph.NodeÂ {
Â Â Â Â node.ChunksÂ =Â []<span class="hljs-type">string</span>{chunk.ID}
}

<span class="hljs-comment">//Â å†™å…¥å›¾æ•°æ®åº“</span>
errÂ =Â s.graphEngine.AddGraph(ctx,
Â Â Â Â types.NameSpace{
Â Â Â Â Â Â Â Â KnowledgeBase:Â chunk.KnowledgeBaseID,
Â Â Â Â Â Â Â Â Knowledge:Â Â Â Â Â chunk.KnowledgeID,
Â Â Â Â },
Â Â Â Â []*types.GraphData{graph},
)
</code></pre>
<h3 data-id="heading-52">å…³è”é—®é¢˜ç”Ÿæˆ</h3>
<h4 data-id="heading-53">å¼€å¯é—®é¢˜ç”Ÿæˆ</h4>
<pre><code class="hljs language-ini" lang="ini">ifÂ options.EnableQuestionGenerationÂ &amp;&amp;Â len(textChunks)Â &gt;Â 0Â {
Â Â Â Â questionCountÂ :=Â options.QuestionCount
Â Â Â Â ifÂ questionCountÂ &lt;=Â 0Â {
Â Â Â Â Â Â Â Â <span class="hljs-attr">questionCount</span>Â =Â <span class="hljs-number">3</span>
Â Â Â Â }
Â Â Â Â ifÂ questionCountÂ &gt;Â 10Â {
Â Â Â Â Â Â Â Â <span class="hljs-attr">questionCount</span>Â =Â <span class="hljs-number">10</span>
Â Â Â Â }
Â Â Â Â s.enqueueQuestionGenerationTask(ctx,Â knowledge.KnowledgeBaseID,Â knowledge.ID,Â questionCount)
}
</code></pre>
<h4 data-id="heading-54">æ„å»ºé—®é¢˜ç”Ÿæˆç›¸å…³æ–‡æœ¬</h4>
<p>å…ˆå¯¹æ–‡æœ¬ chunk æŒ‰ç…§æ—¶é—´æ’åºï¼Œåœ¨é€šè¿‡å½“å‰æ–‡æœ¬ chunk çš„é“¾è¡¨ç»“æ„ç»“åˆå‰å chunk å†…å®¹æ„å»ºé—®é¢˜ç”Ÿæˆçš„ç›¸å…³æ–‡æœ¬å†…å®¹ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//Â æŒ‰Â StartAtÂ æ’åºï¼ˆç”¨äºè·å–ä¸Šä¸‹æ–‡ï¼‰</span>
sort.Slice(textChunks,Â <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(i,Â jÂ <span class="hljs-type">int</span>)</span></span>Â <span class="hljs-type">bool</span>Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â textChunks[i].StartAtÂ &lt;Â textChunks[j].StartAt
})
<span class="hljs-comment">//Â è·å–å½“å‰æ–‡æœ¬Â chunkÂ çš„å‰åÂ chunkÂ å†…å®¹ï¼Œç”¨äºæ„å»ºé—®é¢˜ç”Ÿæˆçš„ç›¸å…³æ–‡æœ¬</span>
<span class="hljs-keyword">for</span>Â i,Â chunkÂ :=Â <span class="hljs-keyword">range</span>Â textChunksÂ {
Â Â Â Â <span class="hljs-comment">//Â è·å–å‰åÂ chunkÂ ä½œä¸ºä¸Šä¸‹æ–‡</span>
Â Â Â Â <span class="hljs-keyword">var</span>Â prevContent,Â nextContentÂ <span class="hljs-type">string</span>
Â Â Â Â <span class="hljs-keyword">if</span>Â iÂ &gt;Â <span class="hljs-number">0</span>Â {
Â Â Â Â Â Â Â Â prevContentÂ =Â textChunks[i<span class="hljs-number">-1</span>].Content
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(prevContent)Â &gt;Â <span class="hljs-number">500</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â prevContentÂ =Â prevContent[<span class="hljs-built_in">len</span>(prevContent)<span class="hljs-number">-500</span>:]Â Â <span class="hljs-comment">//Â å–å500å­—ç¬¦</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â }
Â Â Â Â <span class="hljs-keyword">if</span>Â iÂ &lt;Â <span class="hljs-built_in">len</span>(textChunks)<span class="hljs-number">-1</span>Â {
Â Â Â Â Â Â Â Â nextContentÂ =Â textChunks[i+<span class="hljs-number">1</span>].Content
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(nextContent)Â &gt;Â <span class="hljs-number">500</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â nextContentÂ =Â nextContent[:<span class="hljs-number">500</span>]Â Â <span class="hljs-comment">//Â å–å‰500å­—ç¬¦</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â }
Â Â Â Â ...
}
</code></pre>
<h4 data-id="heading-55">ç”Ÿæˆ Chunk ç›¸å…³é—®é¢˜</h4>
<p>é€šè¿‡ LLM ç»“åˆä¸Šä¸‹æ–‡ï¼ˆå‰ chunk å†…å®¹ã€å chunk å†…å®¹ã€çŸ¥è¯†æ ‡é¢˜ï¼‰ç”Ÿæˆä¸å½“å‰ chunk ç›¸å…³çš„é—®é¢˜ï¼Œå¹¶ä¿å­˜è‡³ metadataã€‚</p>
<pre><code class="hljs language-css" lang="css">//Â <span class="hljs-number">4</span>.Â è°ƒç”¨Â LLMÂ ç”Ÿæˆé—®é¢˜
questions,Â _Â :=Â s.<span class="hljs-built_in">generateQuestionsWithContext</span>(ctx,Â chatModel,Â 
Â Â Â Â chunk.Content,Â prevContent,Â nextContent,Â knowledge.Title,Â questionCount)

//Â <span class="hljs-number">5</span>.Â ä¿å­˜é—®é¢˜åˆ°Â chunkÂ çš„Â metadata
generatedQuestionsÂ :=Â <span class="hljs-built_in">make</span>([]types.GeneratedQuestion,Â <span class="hljs-built_in">len</span>(questions))
forÂ j,Â questionÂ :=Â rangeÂ questionsÂ {
Â Â Â Â questionIDÂ :=Â fmt.<span class="hljs-built_in">Sprintf</span>(<span class="hljs-string">"q%d"</span>,Â time.<span class="hljs-built_in">Now</span>().<span class="hljs-built_in">UnixNano</span>()+<span class="hljs-built_in">int64</span>(j))
Â Â Â Â generatedQuestions[j]Â =Â types.GeneratedQuestion{
Â Â Â Â Â Â Â Â ID:Â Â Â Â Â Â Â questionID,
Â Â Â Â Â Â Â Â Question:Â question,
Â Â Â Â }
}
</code></pre>
<h4 data-id="heading-56">é—®é¢˜å‘é‡åŒ–</h4>
<p>å°†ç”Ÿæˆçš„é—®é¢˜å‘é‡åŒ–ï¼Œç”¨äºæ£€ç´¢ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//Â æ„å»ºé—®é¢˜ç´¢å¼•</span>
<span class="hljs-keyword">for</span>Â _,Â gqÂ :=Â <span class="hljs-keyword">range</span>Â generatedQuestionsÂ {
Â Â Â Â sourceIDÂ :=Â fmt.Sprintf(<span class="hljs-string">"%s-%s"</span>,Â chunk.ID,Â gq.ID)
Â Â Â Â indexInfoListÂ =Â <span class="hljs-built_in">append</span>(indexInfoList,Â &amp;types.IndexInfo{
Â Â Â Â Â Â Â Â Content:Â Â Â Â Â Â Â Â Â gq.Question,
Â Â Â Â Â Â Â Â SourceID:Â Â Â Â Â Â Â Â sourceID,
Â Â Â Â Â Â Â Â ChunkID:Â Â Â Â Â Â Â Â Â chunk.ID,Â Â <span class="hljs-comment">//Â æŒ‡å‘åŸå§‹Â chunk</span>
Â Â Â Â Â Â Â Â KnowledgeID:Â Â Â Â Â knowledge.ID,
Â Â Â Â Â Â Â Â KnowledgeBaseID:Â knowledge.KnowledgeBaseID,
Â Â Â Â })
}
<span class="hljs-comment">//Â å‘é‡åŒ–</span>
retrieveEngine.BatchIndex(ctx,Â embeddingModel,Â indexInfoList)
</code></pre>
<h3 data-id="heading-57">æ‘˜è¦ç”Ÿæˆ</h3>
<p>è‹¥å­˜åœ¨æ–‡æœ¬ chunkï¼Œåˆ™ä¼šè§¦å‘æ‘˜è¦ç”Ÿæˆä»»åŠ¡ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">ifÂ <span class="hljs-built_in">len</span>(textChunks)Â &gt;Â <span class="hljs-number">0</span>Â {
Â Â Â Â s<span class="hljs-selector-class">.enqueueSummaryGenerationTask</span>(ctx,Â knowledge.KnowledgeBaseID,Â knowledge.ID)
}
</code></pre>
<h4 data-id="heading-58">æ’åº Chunk å†…å®¹</h4>
<p>å¯¹æ–‡æœ¬ chunk æŒ‰ç…§ ChunkIndex æ’åºï¼Œç¡®ä¿æ‘˜è¦å†…å®¹æŒ‰æ–‡æ¡£é¡ºåºæ‹¼æ¥ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//Â æŒ‰Â ChunkIndexÂ æ’åº</span>
sort.Slice(textChunks,Â <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(i,Â jÂ <span class="hljs-type">int</span>)</span></span>Â <span class="hljs-type">bool</span>Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â textChunks[i].ChunkIndexÂ &lt;Â textChunks[j].ChunkIndex
})
</code></pre>
<h4 data-id="heading-59">å¤„ç†æ‘˜è¦åŸå§‹å†…å®¹</h4>
<p>å¯¹æ’åºåçš„ chunk å†…å®¹è¿›è¡Œæ‹¼æ¥ï¼Œé™åˆ¶æ€»é•¿åº¦ä¸º 4096 å­—ç¬¦ï¼Œä½œä¸ºæ‘˜è¦çš„åŸå§‹å†…å®¹ã€‚åŒæ—¶å¤„ç†åŸå§‹å†…å®¹ä¸­çš„å›¾ç‰‡æè¿°å’Œ OCR æ–‡å­—ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">//Â æ‹¼æ¥Â chunkÂ å†…å®¹ï¼ˆæŒ‰Â StartAtÂ æ’åºï¼Œé™åˆ¶Â 4096Â å­—ç¬¦ï¼‰</span>
chunkContentsÂ :=Â <span class="hljs-string">""</span>
<span class="hljs-keyword">for</span>Â _,Â chunkÂ :=Â <span class="hljs-keyword">range</span>Â sortedChunksÂ {
Â Â Â Â <span class="hljs-keyword">if</span>Â chunk.EndAtÂ &gt;Â <span class="hljs-number">4096</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">break</span>Â Â <span class="hljs-comment">//Â é™åˆ¶å†…å®¹é•¿åº¦</span>
Â Â Â Â }
Â Â Â Â chunkContentsÂ =Â <span class="hljs-type">string</span>([]<span class="hljs-type">rune</span>(chunkContents)[:chunk.StartAt])Â +Â chunk.Content
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â æ”¶é›†å›¾ç‰‡ä¿¡æ¯</span>
Â Â Â Â <span class="hljs-keyword">if</span>Â chunk.ImageInfoÂ !=Â <span class="hljs-string">""</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">var</span>Â imagesÂ []*types.ImageInfo
Â Â Â Â Â Â Â Â json.Unmarshal([]<span class="hljs-type">byte</span>(chunk.ImageInfo),Â &amp;images)
Â Â Â Â Â Â Â Â allImageInfosÂ =Â <span class="hljs-built_in">append</span>(allImageInfos,Â images...)
Â Â Â Â }
}

<span class="hljs-comment">//Â ç§»é™¤Â MarkdownÂ å›¾ç‰‡è¯­æ³•</span>
reÂ :=Â regexp.MustCompile(<span class="hljs-string">`![[^]]*]([^)]+)`</span>)
chunkContentsÂ =Â re.ReplaceAllString(chunkContents,Â <span class="hljs-string">""</span>)

<span class="hljs-comment">//Â æ·»åŠ å›¾ç‰‡æè¿°å’ŒÂ OCRÂ æ–‡å­—</span>
<span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(allImageInfos)Â &gt;Â <span class="hljs-number">0</span>Â {
Â Â Â Â <span class="hljs-keyword">var</span>Â imageAnnotationsÂ <span class="hljs-type">string</span>
Â Â Â Â <span class="hljs-keyword">for</span>Â _,Â imgÂ :=Â <span class="hljs-keyword">range</span>Â allImageInfosÂ {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â img.CaptionÂ !=Â <span class="hljs-string">""</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â imageAnnotationsÂ +=Â fmt.Sprintf(<span class="hljs-string">"\n[å›¾ç‰‡æè¿°:Â %s]"</span>,Â img.Caption)
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â img.OCRTextÂ !=Â <span class="hljs-string">""</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â imageAnnotationsÂ +=Â fmt.Sprintf(<span class="hljs-string">"\n[å›¾ç‰‡æ–‡å­—:Â %s]"</span>,Â img.OCRText)
Â Â Â Â Â Â Â Â }
Â Â Â Â }
Â Â Â Â chunkContentsÂ =Â chunkContentsÂ +Â imageAnnotations
}

<span class="hljs-comment">//Â å†…å®¹å¤ªçŸ­ç›´æ¥è¿”å›</span>
<span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(chunkContents)Â &lt;Â <span class="hljs-number">300</span>Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â chunkContents,Â <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">//Â æ·»åŠ æ–‡æ¡£å…ƒæ•°æ®</span>
metadataIntroÂ :=Â fmt.Sprintf(<span class="hljs-string">"æ–‡æ¡£ç±»å‹:Â %s\næ–‡ä»¶åç§°:Â %s\n"</span>,Â knowledge.FileType,Â knowledge.FileName)
contentWithMetadataÂ =Â metadataIntroÂ +Â <span class="hljs-string">"\nå†…å®¹:\n"</span>Â +Â chunkContents
</code></pre>
<h4 data-id="heading-60">è°ƒç”¨ LLM ç”Ÿæˆæ‘˜è¦</h4>
<pre><code class="hljs language-php" lang="php">summary,Â errÂ :=Â summaryModel.<span class="hljs-title function_ invoke__">Chat</span>(ctx,Â []chat.Message{
Â Â Â Â {<span class="hljs-attr">Role</span>:Â <span class="hljs-string">"system"</span>,<span class="hljs-attr">Â Content</span>:Â s.config.Conversation.GenerateSummaryPrompt},
Â Â Â Â {<span class="hljs-attr">Role</span>:Â <span class="hljs-string">"user"</span>,<span class="hljs-attr">Â Â Â Content</span>:Â contentWithMetadata},
},Â &amp;chat.ChatOptions{
<span class="hljs-attr">Â Â Â Â Temperature</span>:Â <span class="hljs-number">0.3</span>,
<span class="hljs-attr">Â Â Â Â MaxTokens</span>:Â Â Â <span class="hljs-number">1024</span>,
<span class="hljs-attr">Â Â Â Â Thinking</span>:Â Â Â Â &amp;thinking,
})
</code></pre>
<h4 data-id="heading-61">ä¿å­˜æ‘˜è¦å¹¶å‘é‡åŒ–</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">//Â ä¿å­˜æ‘˜è¦Â chunk</span>
summaryChunkÂ :=Â &amp;types.Chunk{
Â Â Â Â ID:Â Â Â Â Â Â Â Â Â Â Â Â Â Â uuid.New().String(),
Â Â Â Â TenantID:Â Â Â Â Â Â Â Â knowledge.TenantID,
Â Â Â Â KnowledgeID:Â Â Â Â Â knowledge.ID,
Â Â Â Â KnowledgeBaseID:Â knowledge.KnowledgeBaseID,
Â Â Â Â <span class="hljs-attribute">Content</span>:Â Â Â Â Â Â Â Â Â fmt.<span class="hljs-built_in">Sprintf</span>(<span class="hljs-string">"#Â æ–‡æ¡£åç§°\n%s\n\n#Â æ‘˜è¦\n%s"</span>,Â knowledge.FileName,Â summary),
Â Â Â Â <span class="hljs-attribute">ChunkIndex</span>:Â Â Â Â Â Â maxChunkIndexÂ +Â <span class="hljs-number">1</span>,
Â Â Â Â <span class="hljs-attribute">IsEnabled</span>:Â Â Â Â Â Â Â true,
Â Â Â Â <span class="hljs-attribute">ChunkType</span>:Â Â Â Â Â Â Â types.ChunkTypeSummary,
Â Â Â Â <span class="hljs-attribute">ParentChunkID</span>:Â Â Â textChunks[<span class="hljs-number">0</span>].ID,
}
<span class="hljs-selector-tag">s</span><span class="hljs-selector-class">.chunkService</span><span class="hljs-selector-class">.CreateChunks</span>(ctx,Â []*types.Chunk{<span class="hljs-selector-tag">summaryChunk</span>})
<span class="hljs-comment">//Â å‘é‡åŒ–æ‘˜è¦Â chunk</span>
<span class="hljs-selector-tag">indexInfo</span>Â :=Â <span class="hljs-selector-attr">[]</span>*<span class="hljs-selector-tag">types</span><span class="hljs-selector-class">.IndexInfo</span>{{
Â Â Â Â <span class="hljs-attribute">Content</span>:Â Â Â Â Â Â Â Â Â summaryChunk.Content,
Â Â Â Â <span class="hljs-attribute">SourceID</span>:Â Â Â Â Â Â Â Â summaryChunk.ID,
Â Â Â Â <span class="hljs-attribute">SourceType</span>:Â Â Â Â Â Â types.ChunkSourceType,
Â Â Â Â <span class="hljs-attribute">ChunkID</span>:Â Â Â Â Â Â Â Â Â summaryChunk.ID,
Â Â Â Â <span class="hljs-attribute">KnowledgeID</span>:Â Â Â Â Â knowledge.ID,
Â Â Â Â <span class="hljs-attribute">KnowledgeBaseID</span>:Â knowledge.KnowledgeBaseID,
}}
retrieveEngine.<span class="hljs-built_in">BatchIndex</span>(ctx,Â embeddingModel,Â indexInfo)Â 
</code></pre>
<h2 data-id="heading-62">å°¾è¨€</h2>
<p>æœ¬æ–‡ä»å·¥ç¨‹è§†è§’ç³»ç»Ÿæ¢³ç†äº† WeKnora åœ¨<strong>çŸ¥è¯†æ„å»ºé˜¶æ®µ</strong>çš„æ•´ä½“è®¾è®¡ï¼š<br/>
ä»å¤šç§çŸ¥è¯†ä¸Šä¼ æ–¹å¼å¼€å§‹ï¼Œç»è¿‡å¼‚æ­¥è§£æä¸é™çº§ç­–ç•¥ä¿éšœï¼›å†åˆ°ä»¥ Markdown ä¸ºæ ¸å¿ƒä¸­é—´è¡¨ç¤ºçš„ç»Ÿä¸€è§£ææ¶æ„ï¼›éšåé€šè¿‡å…·å¤‡è¯­ä¹‰æ„ŸçŸ¥ã€ç»“æ„ä¿æŠ¤ä¸æ ‡é¢˜è¿½è¸ªèƒ½åŠ›çš„ TextSplitter ç”Ÿæˆé«˜è´¨é‡ Chunkï¼›å¹¶è¿›ä¸€æ­¥å åŠ å›¾ç‰‡ OCRã€VLM æè¿°ã€å¤šæ¨¡æ€å‘é‡ã€çŸ¥è¯†å›¾è°±æŠ½å–ã€é—®é¢˜ç”Ÿæˆä¸æ‘˜è¦ç”Ÿæˆï¼Œæœ€ç»ˆå½¢æˆä¸€å¥—<strong>å¯æ£€ç´¢ã€å¯è¿½æº¯ã€å¯æ‰©å±•çš„çŸ¥è¯†åº•åº§</strong>ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒWeKnora å¹¶æ²¡æœ‰å°† RAG ç®€åŒ–ä¸ºâ€œåˆ‡ chunk + å‘é‡åŒ–â€è¿™æ ·çš„è½»é‡æµç¨‹ï¼Œè€Œæ˜¯éå¸¸è®¤çœŸåœ°å¯¹å¾…<strong>æ–‡æ¡£ç»“æ„ã€ä¸Šä¸‹æ–‡å®Œæ•´æ€§å’Œä¿¡æ¯æŸå¤±æ§åˆ¶</strong>è¿™äº›åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è‡³å…³é‡è¦çš„é—®é¢˜ã€‚è¿™ä¹Ÿæ˜¯å®ƒä¸è®¸å¤šç¤ºä¾‹å‹ RAG é¡¹ç›®æœ€æœ¬è´¨çš„åŒºåˆ«ã€‚</p>
<p>åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æŠŠè§†è§’ä»ã€ŒçŸ¥è¯†å¦‚ä½•è¢«æ„å»ºã€è½¬å‘ã€ŒçŸ¥è¯†å¦‚ä½•è¢«å¬å›ã€ï¼Œé‡ç‚¹åˆ†æ WeKnora çš„<strong>æ£€ç´¢ä½“ç³»è®¾è®¡</strong>ï¼š</p>
<p>å®ƒæ˜¯å¦‚ä½•ç»“åˆ <strong>ç¨€ç–ç´¢å¼•ï¼ˆå…³é”®è¯/å€’æ’ï¼‰</strong> ã€<strong>å‘é‡ç´¢å¼•ï¼ˆè¯­ä¹‰æ£€ç´¢ï¼‰</strong> ä¸ <strong>çŸ¥è¯†å›¾è°±æ£€ç´¢</strong> çš„ï¼Ÿ</p>
<p>åœ¨å¬å›ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨æ–‡æ¡£æ‘˜è¦ï¼Œ chunk ç›¸å…³æé—®ï¼Œå›¾ç‰‡ ocr æ–‡æœ¬ä»¥åŠæ ¼å¼åŒ–è¡¨æ ¼ç­‰ä¿¡æ¯çš„ï¼Ÿ</p>
<p>ä¸åŒå¬å›é€šé“åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ç”Ÿæ•ˆï¼Œåˆæ˜¯å¦‚ä½•è¿›è¡Œèåˆã€è£å‰ªä¸æ’åºçš„ï¼Ÿ</p>
<p>è¿™å°†ç›´æ¥å†³å®š WeKnora åœ¨çœŸå®é—®ç­”åœºæ™¯ä¸­çš„â€œå‘½ä¸­ç‡â€å’Œâ€œå¯è§£é‡Šæ€§â€ï¼Œä¹Ÿæ˜¯æ•´å¥— RAG ç³»ç»Ÿä¸­æ‰¿ä¸Šå¯ä¸‹çš„å…³é”®ä¸€ç¯ã€‚</p>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmarkdown.com.cn" target="_blank" title="https://markdown.com.cn" ref="nofollow noopener noreferrer">markdown.com.cn</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‹¥ä¾å‰ç«¯vueé¡¹ç›®é‡Œé¢çš„drag.js è¯¦è§£]]></title>    <link>https://juejin.cn/post/7597776334065549364</link>    <guid>https://juejin.cn/post/7597776334065549364</guid>    <pubDate>2026-01-22T07:17:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597776334065549364" data-draft-id="7597722671084781602" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‹¥ä¾å‰ç«¯vueé¡¹ç›®é‡Œé¢çš„drag.js  è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-22T07:17:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€å†™ä»£ç å°±å¼€å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/2889993082908344"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‹¥ä¾å‰ç«¯vueé¡¹ç›®é‡Œé¢çš„drag.js  è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2889993082908344/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€å†™ä»£ç å°±å¼€å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:17:05.000Z" title="Thu Jan 22 2026 07:17:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä½œç”¨è¯´æ˜</h3>
<p>è¿™ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤çš„æ ¸å¿ƒä½œç”¨æ˜¯ <strong>ä¸º Element UI çš„ <code>el-dialog</code> å¼¹çª—æ·»åŠ æ‹–æ‹½åŠŸèƒ½</strong>ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡æ‹–æ‹½å¼¹çª—å¤´éƒ¨ï¼ˆ<code>.el-dialog__header</code>ï¼‰è‡ªç”±ç§»åŠ¨å¼¹çª—ä½ç½®ï¼Œæå‡äº¤äº’çµæ´»æ€§ï¼ˆé»˜è®¤ <code>el-dialog</code> æ— æ³•æ‹–æ‹½ï¼Œåªèƒ½å›ºå®šåœ¨é¡µé¢ä¸­ï¼‰ã€‚</p>
<h3 data-id="heading-1">ä½¿ç”¨æ¡ˆä¾‹</h3>
<h4 data-id="heading-2">æ­¥éª¤1ï¼šæ³¨å†ŒæŒ‡ä»¤</h4>
<p>åœ¨ <code>main.js</code> ä¸­å…¨å±€æ³¨å†ŒæŒ‡ä»¤ï¼ˆå‡è®¾æ–‡ä»¶è·¯å¾„ä¸º <code>@/directive/drag.js</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">import</span> dialogDrag <span class="hljs-keyword">from</span> <span class="hljs-string">'@/directive/drag.js'</span>;
<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">'dialogDrag'</span>, dialogDrag); <span class="hljs-comment">// æ³¨å†ŒæŒ‡ä»¤ï¼Œå‘½åä¸º v-dialogDrag</span>
</code></pre>
<h4 data-id="heading-3">æ­¥éª¤2ï¼šåœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼ˆç»“åˆ Element UI çš„ el-dialogï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- æŒ‰é’®è§¦å‘å¼¹çª— --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"dialogVisible = true"</span>&gt;</span>æ‰“å¼€å¯æ‹–æ‹½å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
â€‹
 Â  Â <span class="hljs-comment">&lt;!-- 
 Â  Â  Â v-dialogDragï¼šå¯ç”¨æ‹–æ‹½åŠŸèƒ½ï¼ˆé»˜è®¤trueï¼Œå¯ä¼ falseç¦ç”¨ï¼‰
 Â  Â  Â .el-dialogï¼šElement UI å¼¹çª—ç»„ä»¶ï¼ŒæŒ‡ä»¤ä¼šè‡ªåŠ¨æŸ¥æ‰¾å…¶å†…éƒ¨çš„å¤´éƒ¨å’Œå®¹å™¨
 Â  Â --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-dialog</span>
 Â  Â  Â <span class="hljs-attr">title</span>=<span class="hljs-string">"å¯æ‹–æ‹½å¼¹çª—"</span>
 Â  Â  Â <span class="hljs-attr">v-model</span>=<span class="hljs-string">"dialogVisible"</span>
 Â  Â  Â <span class="hljs-attr">width</span>=<span class="hljs-string">"50%"</span>
 Â  Â  Â <span class="hljs-attr">v-dialogDrag</span> Â &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">åº”ç”¨æ‹–æ‹½æŒ‡ä»¤</span> <span class="hljs-attr">--</span>&gt;</span>
 Â   &gt;
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªå¯ä»¥é€šè¿‡å¤´éƒ¨æ‹–æ‹½çš„å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">footer</span>&gt;</span>
 Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"dialogVisible = false"</span>&gt;</span>å…³é—­<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">el-dialog</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-keyword">return</span> {
 Â  Â  Â <span class="hljs-attr">dialogVisible</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// æ§åˆ¶å¼¹çª—æ˜¾ç¤º/éšè—</span>
 Â   };
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4 data-id="heading-4">æ­¥éª¤3ï¼šå¯é€‰é…ç½®ï¼ˆåŠ¨æ€å¯ç”¨/ç¦ç”¨æ‹–æ‹½ï¼‰</h4>
<p>é€šè¿‡æŒ‡ä»¤å€¼æ§åˆ¶æ˜¯å¦å¯ç”¨æ‹–æ‹½ï¼ˆ<code>true</code> å¯ç”¨ï¼Œ<code>false</code> ç¦ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä»…åœ¨ isDraggable ä¸º true æ—¶å…è®¸æ‹–æ‹½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">el-dialog</span>
 Â <span class="hljs-attr">title</span>=<span class="hljs-string">"æ¡ä»¶æ‹–æ‹½å¼¹çª—"</span>
 Â <span class="hljs-attr">v-model</span>=<span class="hljs-string">"dialogVisible"</span>
 Â <span class="hljs-attr">v-dialogDrag</span>=<span class="hljs-string">"isDraggable"</span> Â &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">åŠ¨æ€æ§åˆ¶</span> <span class="hljs-attr">--</span>&gt;</span>
&gt;
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æ˜¯å¦å¯æ‹–æ‹½ï¼š{{ isDraggable ? 'æ˜¯' : 'å¦' }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"isDraggable = !isDraggable"</span>&gt;</span>åˆ‡æ¢æ‹–æ‹½çŠ¶æ€<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">el-dialog</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-keyword">return</span> {
 Â  Â  Â <span class="hljs-attr">dialogVisible</span>: <span class="hljs-literal">false</span>,
 Â  Â  Â <span class="hljs-attr">isDraggable</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// åˆå§‹å…è®¸æ‹–æ‹½</span>
 Â   };
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">å…³é”®è¯´æ˜</h3>
<ol start="0">
<li><strong>ä¾èµ– Element UI</strong>ï¼šæŒ‡ä»¤å†…éƒ¨é€šè¿‡ç±»å <code>.el-dialog__header</code> å’Œ <code>.el-dialog</code> æŸ¥æ‰¾å…ƒç´ ï¼Œå› æ­¤ä»…é€‚ç”¨äº Element UI çš„ <code>el-dialog</code> ç»„ä»¶ã€‚</li>
<li><strong>æ‹–æ‹½åŒºåŸŸ</strong>ï¼šåªèƒ½é€šè¿‡å¼¹çª—å¤´éƒ¨ï¼ˆåŒ…å«æ ‡é¢˜çš„åŒºåŸŸï¼‰æ‹–æ‹½ï¼Œå…¶ä»–åŒºåŸŸï¼ˆå¦‚å†…å®¹åŒºã€åº•éƒ¨æŒ‰é’®ï¼‰æ— æ³•è§¦å‘æ‹–æ‹½ã€‚</li>
<li><strong>å®šä½é€»è¾‘</strong>ï¼šå¼¹çª—ä¼šè¢«è®¾ç½®ä¸º <code>position: absolute</code>ï¼Œåˆå§‹ä½ç½®æ°´å¹³å±…ä¸­ï¼Œæ‹–æ‹½æ—¶é€šè¿‡æ›´æ–° <code>left</code> å’Œ <code>top</code> æ ·å¼å®ç°ç§»åŠ¨ã€‚</li>
</ol>
<p>é€šè¿‡è¯¥æŒ‡ä»¤ï¼Œå¯è§£å†³é»˜è®¤å¼¹çª—ä½ç½®å›ºå®šçš„é—®é¢˜ï¼Œå°¤å…¶åœ¨å¤šå¼¹çª—å åŠ æˆ–å¼¹çª—é®æŒ¡å†…å®¹æ—¶ï¼Œç”¨æˆ·å¯è‡ªç”±è°ƒæ•´ä½ç½®ï¼Œæå‡æ“ä½œä½“éªŒã€‚</p>
<p>è‹¥ä¾vueå‰ç«¯åç«¯å¯¹åº”å®Œæ•´ç¬”è®°ï¼Œç›´æ¥åå°è”ç³»æˆ–è€…Bç«™è”ç³»</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/940d1105e563401ebb491be0aefa2a7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5YaZ5Luj56CB5bCx5byA5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671024&amp;x-signature=bPdTXHVaWpve%2FJ6mJDybssC4nNw%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œäº‘å…¨æ–°å‘å¸ƒçš„ UModel æ˜¯ä»€ä¹ˆ]]></title>    <link>https://juejin.cn/post/7597811700285046803</link>    <guid>https://juejin.cn/post/7597811700285046803</guid>    <pubDate>2026-01-22T07:21:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597811700285046803" data-draft-id="7597416716542738438" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œäº‘å…¨æ–°å‘å¸ƒçš„ UModel æ˜¯ä»€ä¹ˆ"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-01-22T07:21:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œäº‘å…¨æ–°å‘å¸ƒçš„ UModel æ˜¯ä»€ä¹ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:21:37.000Z" title="Thu Jan 22 2026 07:21:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæœ›å®¸</p>
<p>æ¯ä¸ªæ—¶ä»£åŸºç¡€è®¾æ–½çš„å˜é©ï¼Œéƒ½å§‹äºå¯¹â€œæ··ä¹±â€çš„ä¼˜é›…é‡ç»„ã€‚19 ä¸–çºªï¼Œé’¢é“æŠŠä¸å¯æ§çš„å‚ç›´ç©ºé—´å˜æˆå·¥ç¨‹ç§©åºï¼ŒåŸå¸‚æ‰å¾—ä»¥å‘ä¸Šç”Ÿé•¿ï¼›20 ä¸–çºªï¼Œç”µç½‘å°†åˆ†æ•£çš„èƒ½æºé‡æ–°ç¼–æ’ï¼Œå·¥ä¸šç”Ÿäº§æ‰ä¸å†è¢«æ²³æµå·¦å³ã€‚è€Œå¦‚ä»Šçš„ IT é¢†åŸŸï¼Œæˆ‘ä»¬æ­£é¢ä¸´ä¸€åœºæ–°çš„ç§©åºé‡å»ºï¼Œå³å¦‚ä½•è®©æµ·é‡ã€ç¢ç‰‡åŒ–ã€åŠ¨æ€å˜åŒ–çš„è§‚æµ‹æ•°æ®ï¼Œä¸å†æ˜¯å™ªéŸ³ï¼Œè€Œæˆä¸ºå¯ç†è§£ã€å¯æ¨ç†ã€å¯ä¼˜åŒ–æ™ºèƒ½ä½“è¡Œä¸ºçš„ç‡ƒæ–™ï¼Ÿ</p>
<p>è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å…ˆç®€å•å›æº¯ä¸‹ï¼šIT ç³»ç»Ÿçš„å¯è§‚æµ‹ä½“ç³»æ˜¯å¦‚ä½•èµ°åˆ°ä»Šå¤©çš„ï¼Ÿ</p>
<h2 data-id="heading-0">IT ç³»ç»Ÿä¸­å¯è§‚æµ‹ä½“ç³»çš„å‘å±•</h2>
<p>æœ€åˆï¼Œä¼ä¸šé¢å‘å•ä¸€æ•°æ®ç±»å‹æ„å»ºç›‘æ§ä½“ç³»ï¼ŒCPU ä½¿ç”¨ç‡ã€å†…å­˜å ç”¨ã€ç£ç›˜ I/Oâ€¦â€¦ä¸€ä¸ªä¸ªå­¤ç«‹çš„æŒ‡æ ‡å°±åƒçƒ½ç«å°ï¼Œåªèƒ½é€šè¿‡å±€éƒ¨è§†è§’å‘Šè¯‰æˆ‘ä»¬â€œä»€ä¹ˆåœ°æ–¹å‡ºäº†é—®é¢˜â€ã€‚</p>
<p>ä½†éšç€å¾®æœåŠ¡ã€å®¹å™¨æŠ€æœ¯çš„æ™®åŠï¼Œç³»ç»Ÿå¤æ‚åº¦å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚ä¼ä¸šå¼€å§‹æ„è¯†åˆ°ï¼šå•ç‚¹æŒ‡æ ‡æ— æ³•è§£é‡Šå…¨å±€ã€‚äºæ˜¯å¼€å§‹å¯¹å­¤ç«‹çš„æ•°æ®è¿›è¡ŒæŠ½è±¡ï¼ŒæŠ½è±¡å‡º Metricsï¼ˆæŒ‡æ ‡ï¼‰ã€Tracesï¼ˆé“¾è·¯è¿½è¸ªï¼‰å’Œ Logsï¼ˆæ—¥å¿—ï¼‰ï¼Œå¹¶è¿›è¡Œå…³è”åˆ†æï¼š</p>
<ul>
<li><strong>Metricsï¼š</strong> IT ç³»ç»Ÿæ˜¯å¦æœ‰é—®é¢˜ï¼›</li>
<li><strong>Tracesï¼š</strong> å“ªé‡Œå‡ºäº†é—®é¢˜ï¼›</li>
<li><strong>Logsï¼š</strong> é—®é¢˜æ˜¯ç”±ä»€ä¹ˆåŸå› å¯¼è‡´çš„ã€‚</li>
</ul>
<p>å‘å±•è‡³ä»Šï¼Œæˆä¸ºè§‚æµ‹ä½“ç³»çš„ä¸‰å¤§æ•°æ®æ”¯æŸ±ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b17b6451cb2f431395783715258557ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671297&amp;x-signature=pCTrLjQTh%2Beu5r%2BeIVF3DtYxhno%3D" alt="image.png" loading="lazy"/></p>
<p>ä½†ä»æµ·é‡ã€å¼‚æ„ã€åŠ¨æ€å˜åŒ–çš„æ•°æ®ä¸­å‡†ç¡®æ¨ç†å¹¶å®šä½é—®é¢˜ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæå…¶å›°éš¾çš„é€†å‘å·¥ç¨‹ã€‚æ•°æ®åªæ˜¯ç°è±¡ï¼Œè€Œç°è±¡ä¸æœ¬è´¨ä¹‹é—´å¾€å¾€å­˜åœ¨å·¨å¤§çš„è®¤çŸ¥é¸¿æ²Ÿ <strong>[</strong> <strong>1]</strong> ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/893d67e7c19545139b88757aba744801~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671297&amp;x-signature=cM8D9mOYvYHTq5lIlBW0HpeOoXs%3D" alt="image.png" loading="lazy"/></p>
<p>Metricsã€Traces å’Œ Logs è¿™çœ‹ä¼¼å®Œæ•´çš„ä¸‰è§’ï¼Œå®åˆ™ä»åœç•™åœ¨ç°è±¡è§‚æµ‹å±‚é¢ï¼Œæ˜¯ L1 çº§æ™ºèƒ½ä½“çš„å…¸å‹å·¥ä½œæµï¼Œäººå·¥è®¾è®¡æµç¨‹èŠ‚ç‚¹ã€äººå·¥é…ç½®è§¦å‘ã€äººå·¥è°ƒç”¨ APIï¼Œå†æŠŠæŒ‡æ ‡ã€é“¾è·¯ã€æ—¥å¿—å–‚ç»™ AIï¼ŒæœŸæœ›å®ƒè‡ªå·±æ‰¾å‡ºå› æœï¼Œç»“æœå¾€å¾€æ˜¯å¹»è§‰å¼å½’å› ï¼šæŠŠæ—¶é—´ä¸Šçš„å·§åˆå½“ä½œé€»è¾‘ä¸Šçš„å› æœã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºåœ¨ AI é¢å‰ï¼Œç¼ºå°‘å¯¹ç³»ç»Ÿæœ¬è´¨çš„å»ºæ¨¡ã€‚</p>
<p>åœ¨ AI æ—¶ä»£ï¼ŒåŠ å‰§äº†è¿™ç§æ¨¡å¼çš„æŒ‘æˆ˜ã€‚ä¸€æ˜¯ LLM é©±åŠ¨çš„åº”ç”¨å¸¦æ¥äº†ä¸Šä¸‹æ–‡çš„ç¢ç‰‡åŒ–ã€‚è¿ç»´å·¥ç¨‹å¸ˆæ¯å¤©è¦åœ¨ä¸åŒçš„æ§åˆ¶å°ä¹‹é—´åˆ‡æ¢ï¼Œæ‰‹åŠ¨æ‹¼å‡‘â€œå‘ç”Ÿäº†ä»€ä¹ˆâ€ã€‚è¿™å°±åƒåœ¨ä¿¡æ¯é«˜é€Ÿå…¬è·¯ä¸Šéª‘è‡ªè¡Œè½¦ï¼Œå·¥å…·å¾ˆå…ˆè¿›ï¼Œä½†è®¤çŸ¥æ–¹å¼ä»æ˜¯äººåŠ›é©±åŠ¨ã€‚äºŒæ˜¯ç›¸æ¯”ç”±å·¥ç¨‹å¸ˆå†™çš„ä»£ç å®šä¹‰çš„ä¼ ç»Ÿ IT ç³»ç»Ÿï¼ŒAI å¸¦æ¥äº†æ›´å¤šçš„ä¸ç¡®å®šæ€§ï¼ŒæŒ‡æ•°çº§æå‡äº†åŸå§‹æ•°æ®è‡ªåŠ¨åŒ–å…³è”çš„éš¾åº¦ï¼Œç»™å‡†ç¡®æ¨ç†å¹¶å®šä½é—®é¢˜çš„æŒ‘æˆ˜æ·»äº†å µã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e35c5bb75964d25a76616becc6cd0e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671297&amp;x-signature=swiwORzMdH2sI3dJOEIsNdmFaVI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ€»ç»“èµ·æ¥ï¼ŒåŸæœ¬çš„è®¤çŸ¥é¸¿æ²Ÿï¼Œè¢«è¿›ä¸€æ­¥åˆ†åŒ–æˆä¸‰å±‚æ–°çš„é¸¿æ²Ÿ <strong>[</strong> <strong>2]</strong> ï¼š</p>
<ul>
<li><strong>æ•°æ®é¸¿æ²Ÿ</strong>ï¼šåŸå§‹æ•°æ®æ··æ‚ã€ç¢ç‰‡åŒ–ã€å™ªå£°å¤šï¼Œ99% ä»¥ä¸Šå¯èƒ½æ˜¯æ— æ•ˆä¿¡æ¯ï¼Œéš¾ä»¥ä»ä¸­æœ‰æ•ˆæå–ä¿¡å·ã€‚</li>
<li><strong>æ¨¡å‹é¸¿æ²Ÿ</strong>ï¼šAI æ¨¡å‹å­˜åœ¨â€œé»‘ç›’â€ç‰¹æ€§ï¼Œæ¨ç†è¿‡ç¨‹éš¾ä»¥è§£é‡Šï¼›è¿˜å¯èƒ½å‡ºç°â€œå¹»è§‰â€ï¼Œç”Ÿæˆçœ‹ä¼¼åˆç†ä½†ä¸ç¬¦åˆäº‹å®çš„ç»“æœã€‚</li>
<li><strong>å·¥ç¨‹é¸¿æ²Ÿ</strong>ï¼šæ¯å¤©æ•° PB çº§çš„æ•°æ®é‡‡é›†ã€æ¸…æ´—ã€å­˜å‚¨ã€è®¡ç®—ï¼Œå¯¹æ€§èƒ½ã€æˆæœ¬ã€å®‰å…¨æ€§æå‡ºæé«˜è¦æ±‚ã€‚</li>
</ul>
<h2 data-id="heading-1">æ•°æ®åˆ°å»ºæ¨¡</h2>
<p>è®©ä¸€ä¸ªæ²¡è§è¿‡ç”µè·¯å›¾çš„äººï¼Œä»ä¸€å †ç”µå‹è¡¨è¯»æ•°ä¸­å®šä½å¹¶æ¢å¤æ•…éšœæœåŠ¡å™¨ï¼Œæ˜¯ä¸ç°å®çš„ã€‚</p>
<p>å½“å‰å¸‚é¢ä¸Šå¤§å¤šæ•°çš„ AI è¿ç»´åŠ©æ‰‹ï¼Œæœ¬è´¨ä¸Šä»æ˜¯ L1 çº§æ™ºèƒ½ä½“ï¼šå®ƒä»¬è¢«å°è£…åœ¨ä¸€ä¸ªå°é—­çš„å¯¹è¯æ¡†é‡Œï¼Œè¢«åŠ¨å“åº”ç”¨æˆ·æé—®ï¼ŒèƒŒåæ˜¯ä¸€è¿ä¸²é¢„è®¾çš„ if-else è§„åˆ™æˆ–ç®€å• RAG æ£€ç´¢ã€‚å®ƒä»¬æ²¡æœ‰å¯¹ç³»ç»Ÿç»“æ„çš„å†…ç”Ÿç†è§£ï¼Œæ— æ³•ä¸»åŠ¨æ¨ç†ä¾èµ–è·¯å¾„ï¼Œæ›´è°ˆä¸ä¸Šå®‰å…¨æ‰§è¡Œä¿®å¤æ“ä½œã€‚</p>
<p>è€Œè¦è¿ˆå‘ L2 ç”šè‡³ L3 çº§æ™ºèƒ½ä½“ï¼Œå³èƒ½è‡ªä¸»æ„ŸçŸ¥ã€è§„åˆ’ã€è¡ŒåŠ¨å¹¶æŒç»­å­¦ä¹ çš„æ•°å­—å‘˜å·¥ï¼Œå°±å¿…é¡»ä¸ºå…¶æ„å»ºä¸€ä¸ªç»“æ„åŒ–çš„è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œä¸ç„¶åªèƒ½é äººçš„ç»éªŒæ¥æ’æŸ¥ã€å®šä½å’Œè§£å†³é—®é¢˜ã€‚è¿™ä¸ªä¸Šä¸‹æ–‡æ˜¯ç»è¿‡å»ºæ¨¡ã€å¸¦æœ‰è¯­ä¹‰ã€æ”¯æŒæŸ¥è¯¢ä¸æ¨ç†çš„å›¾è°±ã€‚æœ‰äº†è¿™å¼ å›¾ï¼Œæ™ºèƒ½ä½“å°±èƒ½é¿å…åœ¨æ•°æ®æµ·æ´‹ä¸­ç›²ç›®æ‰“æï¼Œè€Œæ˜¯åœ¨ä¸€ä¸ªæœ‰è·¯æ ‡ã€æœ‰è§„åˆ™ã€æœ‰è¾¹ç•Œçš„åŸå¸‚ä¸­ç©¿è¡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3437c1fa6a3e4f2ca4c8dc2b2d60a34b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671297&amp;x-signature=QBhl9ui6XyAysJVPVegrYboIilM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å› æ­¤ï¼Œå‡ºè·¯ä¸åœ¨æ›´å¤šçš„æ•°æ®ï¼Œè€Œåœ¨æ›´å¥½çš„å»ºæ¨¡ã€‚å…ˆä¸º IT ç³»ç»Ÿå»ºç«‹ä¸€å¼ è®¤çŸ¥åœ°å›¾ã€‚è¿™å¼ å›¾è¦åŒ…å«å®ä½“ï¼ˆä¸»æœºã€æœåŠ¡ã€æ•°æ®åº“ï¼‰ã€å…³ç³»ï¼ˆè°ƒç”¨ã€ä¾èµ–ã€éƒ¨ç½²ï¼‰ã€è¡Œä¸ºï¼ˆæ—¥å¿—äº‹ä»¶ã€æ€§èƒ½æŒ‡æ ‡ï¼‰ä»¥åŠå®ƒä»¬ä¹‹é—´çš„è¯­ä¹‰çº¦æŸã€‚åªæœ‰åœ¨è¿™å¼ å›¾ä¸Šï¼Œæ™ºèƒ½ä½“æ‰èƒ½åƒç»éªŒä¸°å¯Œçš„è€è¿ç»´ä¸€æ ·ï¼Œå¿«é€Ÿå®šä½æ•…éšœå¹¶æ¢å¤ç”Ÿäº§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b938b4e04b343abacc4ec083838ab0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671297&amp;x-signature=OFuAaf8d1%2BzBNBh9zdn7%2FwO47II%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>UModel æ­£æ˜¯è¿™å¼ å›¾çš„å»ºæ¨¡è¯­è¨€ã€‚æˆ‘ä»¬éœ€è¦ä»â€œæ•°æ®é©±åŠ¨â€è½¬å‘â€œå»ºæ¨¡é©±åŠ¨â€ï¼Œä»é¢å‘ç°è±¡çš„è§‚æµ‹ï¼Œè½¬å‘é¢å‘æœ¬è´¨çš„å»ºæ¨¡ï¼Œæ„å»ºä¸€ä¸ªç»Ÿä¸€çš„ä¸Šä¸‹æ–‡å›¾è°±ï¼Œè¿™æ­£æ˜¯ UModel çš„ä½¿å‘½ã€‚</p>
<h2 data-id="heading-2">ä»€ä¹ˆæ˜¯ UModel</h2>
<p>UModelï¼ˆUniversal Observability Modelï¼‰æ˜¯åŸºäºå›¾æ¨¡å‹çš„å¯è§‚æµ‹æ•°æ®å»ºæ¨¡æ–¹æ³•ã€‚</p>
<p>åˆæ˜¯å›¾æ¨¡å‹ï¼Œåˆæ˜¯å»ºæ¨¡ï¼Œä¸€å¬å°±å¾ˆå­¦æœ¯ã€‚é€šä¿—æ˜“æ‡‚çš„è®²ï¼Œå°±æ˜¯ç”¨â€œç”»å›¾â€çš„æ–¹å¼ï¼ŒæŠŠä¸€å †éšæœºäº‹ä»¶ä¹‹é—´çš„æ¦‚ç‡å…³ç³»ç†æ¸…æ¥šï¼Œè®©å¤æ‚å˜ç®€å•ï¼Œè®©æ¨¡ç³Šå˜æ¸…æ™°ã€‚å› æ­¤ï¼ŒUModel æ—¨åœ¨é€šè¿‡æ ‡å‡†åŒ–çš„æ•°æ®å»ºæ¨¡æ–¹å¼ï¼Œå®ç°å¯è§‚æµ‹æ•°æ®çš„ç»Ÿä¸€è¡¨ç¤ºã€æ•°æ®å»ºæ¨¡ä¸å…·ä½“å­˜å‚¨çš„è§£è€¦ï¼Œä»è€Œå®ç°æ™ºèƒ½åˆ†æã€‚æœ‰äº† UModelï¼Œæ™ºèƒ½ä½“æ‰èƒ½åƒç»éªŒä¸°å¯Œçš„è€è¿ç»´é‚£æ ·å¿«é€Ÿå®šä½æ•…éšœå¹¶æ¢å¤ç”Ÿäº§ï¼Œæˆä¸ºå¯èƒ½ã€‚UModel å¯ä»¥çœ‹æˆæ˜¯é˜¿é‡Œäº‘å¯è§‚æµ‹ä½“ç³»çš„æ•°æ®å»ºæ¨¡åŸºç¡€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7aad71df66934f5ca3eb1e34ffb3f3ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671297&amp;x-signature=tIZv1BZO5K7Fzsxj1oVXhbOKXHc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ€»çš„æ¥è®²ï¼ŒUModel çš„æ ¸å¿ƒæ€æƒ³ï¼Œæ˜¯ä¸ºå¯è§‚æµ‹é¢†åŸŸæ‰“é€ ä¸€ä¸ªè®¤çŸ¥æ“ä½œç³»ç»Ÿï¼Œæ˜¯ä¸€å¥—æ ‡å‡†åŒ–çš„æ•°æ®å»ºæ¨¡æ–¹æ³•ï¼Œæ—¨åœ¨å¼¥åˆå‰æ–‡æ‰€è¿°çš„ä¸‰é‡é¸¿æ²Ÿï¼Œä¸º AIOps æä¾›å¯è§£é‡Šã€å¯æ‰©å±•ã€å¯è‡ªåŠ¨åŒ–çš„åŸºç¡€ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä» UModel çš„æ„æˆå’Œä½¿ç”¨æ–¹å¼æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•æŠŠé›¶æ•£ã€æ‚ä¹±çš„å¯è§‚æµ‹æ•°æ®ï¼Œç”»æˆä¸€å¼ ç»“æ„æ¸…æ™°ã€æ™ºèƒ½ä½“èƒ½ç†è§£çš„å›¾ã€‚</p>
<h2 data-id="heading-3">UModel çš„æ„æˆå’Œä½¿ç”¨æ–¹å¼</h2>
<p>ä¼ä¸šä¹ æƒ¯äºå°†ç³»ç»Ÿä¸­çš„æ¯ä¸ªç»„ä»¶ï¼Œä¾‹å¦‚åº”ç”¨ã€å®¹å™¨ã€ä¸­é—´ä»¶ã€ç½‘å…³ã€æ•°æ®åº“ï¼Œè§†ä¸ºç‹¬ç«‹çš„å®ä½“è¿›è¡Œç›‘æ§å’Œç®¡ç†ï¼Œå¹¶ä¸ºå®ƒä»¬é…ç½®ä»ªè¡¨ç›˜ï¼Œè®¾ç½®å‘Šè­¦ï¼Œè¿½è¸ªæ€§èƒ½è¡¨ç°ã€‚ä¼ ç»Ÿçš„ç›‘æ§å’ŒæŸ¥è¯¢å·¥å…·ï¼Œæ— è®ºæ˜¯åŸºäº SQL è¿˜æ˜¯ SPLï¼Œå…¶æ ¸å¿ƒéƒ½æ˜¯å¤„ç†äºŒç»´çš„ã€è¡¨æ ¼åŒ–çš„æ•°æ®ã€‚å®ƒä»¬æ“…é•¿å›ç­”å…³äºä¸ªä½“çš„é—®é¢˜ï¼ˆè¿™ä¸ª Pod çš„ CPU ä½¿ç”¨ç‡æ˜¯å¤šå°‘ï¼Ÿï¼‰ï¼Œä½†åœ¨å›ç­”å…³äºå…³ç³»çš„é—®é¢˜æ—¶å´æ˜¾å¾—åŠ›ä¸ä»å¿ƒã€‚</p>
<p>å½“é¢å¯¹â€œè¿™ä¸ªæœåŠ¡çš„æ•…éšœä¼šå½±å“å“ªäº›ä¸‹æ¸¸ä¸šåŠ¡ï¼Ÿâ€æˆ–â€œè¦è®¿é—®åˆ°æ ¸å¿ƒæ•°æ®åº“ï¼Œéœ€è¦ç»è¿‡å“ªäº›ä¸­é—´æœåŠ¡ï¼Ÿâ€è¿™ç±»é—®é¢˜æ—¶ï¼Œä¼ ç»Ÿå·¥å…·å¾€å¾€éœ€è¦å¤æ‚çš„ JOIN æ“ä½œã€å¤šæ­¥æŸ¥è¯¢ï¼Œç”šè‡³éœ€è¦å·¥ç¨‹å¸ˆç»“åˆçº¿ä¸‹æ¶æ„å›¾è¿›è¡Œäººè„‘æ‹¼å‡‘ã€‚è¿™ç§æ–¹å¼ä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè€Œä¸”åœ¨å…³ç³»å¤æ‚ã€å±‚çº§æ·±çš„æƒ…å†µä¸‹å‡ ä¹æ— æ³•å®Œæˆã€‚æˆ‘ä»¬æ‹¥æœ‰äº†æ‰€æœ‰â€œç‚¹â€çš„æ•°æ®ï¼Œå´å¤±å»äº†ä¸€å¼ çœ‹æ¸…â€œçº¿â€çš„åœ°å›¾ <strong>[</strong> <strong>3]</strong> ã€‚</p>
<p>å› æ­¤ï¼ŒUModel å°†è¦è§£å†³ä»¥ä¸‹å››ä¸ªå…³é”®é—®é¢˜ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a51c2ed1d6ca45678cd908420d4f4367~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671297&amp;x-signature=r77UTyjvqvLt9a5SQAXRsZB5hEw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-4">1. é‡æ–°å®šä¹‰ç³»ç»Ÿé‡Œæœ‰ä»€ä¹ˆ</h3>
<p>é€šè¿‡ Entity æ¥ç»Ÿä¸€å®šä¹‰æ‰€æœ‰å¯è§‚æµ‹å®ä½“çš„å®ä¾‹ï¼ŒåŒ…æ‹¬å®¹å™¨å®ä¾‹ã€æœåŠ¡å®ä¾‹ç­‰ï¼Œä¾‹å¦‚æœåŠ¡å®ä¾‹ "order-service"ã€Pod å®ä¾‹ "web-pod-001"ã€‚</p>
<h3 data-id="heading-5">2. å¯¹å®ä¾‹è¿›è¡Œå»ºæ¨¡</h3>
<p>é€šè¿‡ EntitySet å»ºç«‹å®ä½“é›†ï¼Œå¹¶è¿›è¡Œå®ä½“å»ºæ¨¡ã€‚å°†ç³»ç»Ÿç»„ä»¶æŠ½è±¡ä¸º EntitySetï¼Œä¸€ä¸ª EntitySet å¯å¯¹åº”å¤šä¸ª Entityï¼š</p>
<ul>
<li>åŸºç¡€è®¾æ–½å®ä½“ï¼šä¸»æœºã€å®¹å™¨ã€ç½‘ç»œè®¾å¤‡ã€å­˜å‚¨ç³»ç»Ÿï¼›</li>
<li>åº”ç”¨å±‚å®ä½“ï¼šå¾®æœåŠ¡ã€API æ¥å£ã€æ•°æ®åº“å®ä¾‹ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼›</li>
<li>ä¸šåŠ¡å®ä½“ï¼šç”¨æˆ·ä¼šè¯ã€ä¸šåŠ¡æµç¨‹ã€äº¤æ˜“è®¢å•ï¼›</li>
<li>è¿ç»´å®ä½“ï¼šéƒ¨ç½²ç¯å¢ƒã€ä»£ç ä»“åº“ã€è¿ç»´äººå‘˜ã€‚</li>
</ul>
<p>é™¤äº†è¿›è¡Œå®ä½“å»ºæ¨¡ï¼Œè¿˜éœ€è¦è¿›è¡Œï¼š</p>
<ul>
<li>æ•°æ®é›†å»ºæ¨¡ï¼šå°†æ—¥å¿—ã€æŒ‡æ ‡ã€é“¾è·¯è¿½è¸ªã€äº‹ä»¶å’Œæ€§èƒ½å‰–æç­‰å¤šç§å¯è§‚æµ‹æ•°æ®ç±»å‹æŠ½è±¡ä¸º TelemetryDataSetï¼Œç”±æ­¤è¡ç”Ÿå‡º LogSetã€TraceSetã€EventSetã€ProfileSetã€MetricSet ç­‰æ›´å…·ä½“çš„è§‚æµ‹æ•°æ®é›†ã€‚</li>
<li>å­˜å‚¨å»ºæ¨¡ï¼šStorage æ˜¯ UModel ä¸­æ•°æ®é›†åº•å±‚å­˜å‚¨çš„æŠ½è±¡ï¼Œå®šä¹‰äº†æ•°æ®çš„å®é™…å­˜å‚¨ä½ç½®å’Œè®¿é—®æ–¹å¼ã€‚é€šè¿‡å­˜å‚¨å»ºæ¨¡ï¼ŒUModel èƒ½å¤Ÿç»Ÿä¸€å¯¹æ¥å¤šç§å­˜å‚¨åç«¯ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€è‡´çš„æ•°æ®è®¿é—®ä½“éªŒã€‚</li>
</ul>
<h3 data-id="heading-6">3. å¯¹è¿™äº›å®ä½“&amp;å®ä½“é›†è¿›è¡Œå»ºè”</h3>
<p>é€šè¿‡ Linkï¼Œè¿æ¥ä¸åŒçš„æ•°æ®é›†ï¼š</p>
<ul>
<li>EntitySetLink å®šä¹‰ EntitySet å®ä½“é—´çš„å…³ç³»ï¼ˆå¦‚æœåŠ¡ A è°ƒç”¨æœåŠ¡ Bï¼‰ï¼›</li>
<li>DataLink å®šä¹‰ EntitySet ä¸ DataSet ä¹‹é—´çš„å…³è”ï¼ˆå¦‚æŸ Pod äº§ç”Ÿå“ªäº›æ—¥å¿—ï¼‰ï¼›</li>
<li>StorageLink å®šä¹‰ DataSet ä¸ Storage ä¹‹é—´çš„å…³è”ã€‚</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¹‹ä¸Šï¼Œè‡ªåŠ¨ç”Ÿæˆå®ä½“æ‹“æ‰‘å›¾å’Œæ•°æ®å…³ç³»å›¾ã€‚</p>
<h3 data-id="heading-7">4. å›¾æŸ¥è¯¢</h3>
<p>å›¾æŸ¥è¯¢å¯ä»¥è®¤ä¸ºæ˜¯å‘æŒ¥ UModel è¿™ä¸€å¯è§‚æµ‹åŸºå»ºçš„å…³é”®èƒ½åŠ›ã€‚å› ä¸ºç³»ç»Ÿçš„çœŸå®å½¢æ€æœ¬å°±æ˜¯ä¸€å¼ å›¾ï¼Œé‚£ä¹ˆå¯¹å®ƒçš„æŸ¥è¯¢å’Œåˆ†æï¼Œä¹Ÿåº”è¯¥ä½¿ç”¨æœ€ç¬¦åˆå…¶æœ¬è´¨çš„æ–¹å¼â€”â€”å›¾æŸ¥è¯¢ã€‚</p>
<p>ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬åœ¨ UModel ä½“ç³»çš„æ ¸å¿ƒæ„å»ºäº† EntityStoreã€‚å®ƒé‡‡ç”¨äº†åˆ›æ–°çš„åŒå­˜å‚¨æ¶æ„ï¼ŒåŒæ—¶ç»´æŠ¤äº† <strong>entity</strong> æ—¥å¿—åº“ï¼ˆå­˜å‚¨å®ä½“çš„è¯¦ç»†å±æ€§ï¼‰å’Œ <strong>topo</strong> æ—¥å¿—åº“ï¼ˆå­˜å‚¨å®ä½“é—´çš„æ‹“æ‰‘å…³ç³»ï¼‰ã€‚è¿™ç›¸å½“äºæˆ‘ä»¬ä¸ºæ•´ä¸ªå¯è§‚æµ‹ç³»ç»Ÿå»ºç«‹äº†ä¸€ä¸ªå®æ—¶æ›´æ–°çš„ã€å¯æŸ¥è¯¢çš„æ•°å­—å­ªç”Ÿå›¾è°± <strong>[</strong> <strong>3]</strong> ã€‚</p>
<p>åŸºäºè¿™ä¸ªå›¾è°±ï¼Œæˆ‘ä»¬æä¾›äº†ä»æ˜“åˆ°éš¾ã€å±‚å±‚é€’è¿›çš„ä¸‰ç§å›¾æŸ¥è¯¢èƒ½åŠ›ï¼Œä»¥æ»¡è¶³ä¸åŒç”¨æˆ·çš„éœ€æ±‚ï¼š</p>
<ul>
<li><strong>graph-matchï¼š</strong> ä¸ºæœ€å¸¸è§çš„è·¯å¾„æŸ¥è¯¢åœºæ™¯è®¾è®¡ï¼Œè¯­æ³•ç›´è§‚ï¼Œè®©ç”¨æˆ·èƒ½åƒæè¿°ä¸€å¥è¯ä¸€æ ·ï¼ˆâ€œA ç»è¿‡ B è°ƒç”¨äº† Câ€ï¼‰æ¥å¿«é€ŸæŸ¥æ‰¾ç‰¹å®šé“¾è·¯ã€‚</li>
<li><strong>graph-callï¼š</strong> å°è£…äº†æœ€é«˜é¢‘çš„å›¾ç®—æ³•ï¼ˆå¦‚é‚»å±…æŸ¥æ‰¾ã€ç›´æ¥å…³ç³»æŸ¥è¯¢ï¼‰ï¼Œé€šè¿‡å‡½æ•°å¼æ¥å£æä¾›ï¼Œç”¨æˆ·åªéœ€å…³å¿ƒæ„å›¾ï¼ˆâ€œæ‰¾ A çš„ 3 è·³é‚»å±…â€ï¼‰è€Œæ— éœ€å…³å¿ƒå®ç°ç»†èŠ‚ã€‚</li>
<li><strong>Cypherï¼š</strong> å¼•å…¥ä¸šç•Œæ ‡å‡†çš„å›¾æŸ¥è¯¢è¯­è¨€ï¼Œæä¾›æœ€å®Œæ•´ã€æœ€å¼ºå¤§çš„å›¾æŸ¥è¯¢èƒ½åŠ›ï¼Œæ”¯æŒä»»æ„å¤æ‚çš„æ¨¡å¼åŒ¹é…ã€å¤šçº§è·³è·ƒã€èšåˆåˆ†æï¼Œæ˜¯å¤„ç†å¤æ‚å›¾é—®é¢˜çš„ç»ˆææ­¦å™¨ã€‚</li>
</ul>
<p>è¿™ä¸€æ•´å¥—è§£å†³æ–¹æ¡ˆï¼Œæ—¨åœ¨å°†å¼ºå¤§çš„å›¾åˆ†æèƒ½åŠ›ï¼Œä»¥ä¸€ç§ä½é—¨æ§›ã€äº§å“åŒ–çš„æ–¹å¼ï¼Œè®©æ™ºèƒ½ä½“å®ç°è‡ªä¸»å‘ç°ã€å®šä½æ•…éšœï¼Œå¹¶æ¢å¤ç”Ÿäº§æˆä¸ºå¯èƒ½ã€‚</p>
<p>è¿‡å»ï¼Œè¿ç»´é äººè„‘ä¸²è”å­¤ç«‹çš„æ•°æ®å’Œå‡ åä¸ªå·¥å…·ï¼›æœªæ¥ï¼ŒUModel å¸Œæœ›èƒ½ä½œä¸ºå¯è§‚æµ‹çš„åŸºç¡€è®¾æ–½ï¼Œæ”¯æ’‘æ™ºèƒ½ä½“åœ¨ç»Ÿä¸€ä¸Šä¸‹æ–‡å›¾è°±ä¸­å·¥ä½œã€‚å½“å¯è§‚æµ‹æ•°æ®è¢«å»ºæ¨¡ä¸ºå¯ç†è§£ã€å¯è¡ŒåŠ¨çš„ä¸Šä¸‹æ–‡å›¾è°±ï¼ŒAIOps æ‰çœŸæ­£æ‹¥æœ‰äº†è½åœ°çš„åœŸå£¤ã€‚</p>
<p><strong>ç›¸å…³é˜…è¯»ï¼š</strong></p>
<p>[1]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247579545%26idx%3D1%26sn%3D845cb6c9355bafc8c9a881630da39708%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247579545&amp;idx=1&amp;sn=845cb6c9355bafc8c9a881630da39708&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">UModel æ•°æ®æ²»ç†ï¼šè¿ç»´ä¸–ç•Œæ¨¡å‹æ„å»ºå®è·µ</a></p>
<p>[2]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247578672%26idx%3D1%26sn%3Da5894d77679325b085e257b1143f4bfc%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247578672&amp;idx=1&amp;sn=a5894d77679325b085e257b1143f4bfc&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ä»æ•°æ®å­¤å²›åˆ°æ™ºèƒ½æ´å¯Ÿï¼šæ„å»ºé¢å‘æœªæ¥çš„ Operation intelligence ä½“ç³»</a></p>
<p>[2]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580441%26idx%3D1%26sn%3D28b760dfa51d9a5085abda9660519067%26scene%3D21%26poc_token%3DHGVkU2mjaKV6ygT0xmMCONiBeKHwd41RJYmAPE9R%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580441&amp;idx=1&amp;sn=28b760dfa51d9a5085abda9660519067&amp;scene=21&amp;poc_token=HGVkU2mjaKV6ygT0xmMCONiBeKHwd41RJYmAPE9R#wechat_redirect" ref="nofollow noopener noreferrer">æ‰“é€šå¯è§‚æµ‹æ€§çš„â€œä»»ç£äºŒè„‰â€ï¼šå®ä½“ä¸å…³ç³»çš„ç»ˆæèåˆ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[32å²ç¨‹åºå‘˜çŒæ­»èƒŒåï¼Œæˆ‘çš„ä¸€äº›çœŸå®æ„Ÿå—]]></title>    <link>https://juejin.cn/post/7597701762905309230</link>    <guid>https://juejin.cn/post/7597701762905309230</guid>    <pubDate>2026-01-22T07:26:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597701762905309230" data-draft-id="7597979278239678473" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="32å²ç¨‹åºå‘˜çŒæ­»èƒŒåï¼Œæˆ‘çš„ä¸€äº›çœŸå®æ„Ÿå—"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-22T07:26:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜æµ·å†›"/> <meta itemprop="url" content="https://juejin.cn/user/1239904848713592"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            32å²ç¨‹åºå‘˜çŒæ­»èƒŒåï¼Œæˆ‘çš„ä¸€äº›çœŸå®æ„Ÿå—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904848713592/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜æµ·å†›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:26:07.000Z" title="Thu Jan 22 2026 07:26:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{font-family:-apple-system,BlinkMacSystemFont,PingFang SC,Helvetica Neue,Helvetica,Arial,sans-serif;word-break:break-word;line-height:1.75;font-weight:200;font-size:16px;overflow-x:hidden;color:#666;letter-spacing:.5px}.markdown-body a{text-decoration:none;color:#0064c8;position:relative}.markdown-body a:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:1px;background-color:rgba(0,100,200,.7);transform:scale(0);transition:all .4s ease-in-out}.markdown-body a:link:hover:after{transform:scale(1)}.markdown-body code{padding:2px 4px;font-size:.9em;font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px;background-color:rgba(0,46,70,.0431);color:#39f}.markdown-body strong{font-weight:400}.markdown-body em{color:#ff6a00}.markdown-body del,.markdown-body s{color:#bbb}.markdown-body small{font-size:.8em;color:#bbb}.markdown-body kbd{margin:0 .1em;padding:5px 8px 3px;border:1px solid #d1d5d9;border-radius:3px;box-shadow:0 1px 0 0 #e3e4e6,inset 0 0 0 2px #fff;background-color:#eee;font-weight:600;font-size:.8em;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;white-space:nowrap;color:#666}.markdown-body kbd:first-child{margin-left:0}.markdown-body kbd:last-child{margin-right:0}.markdown-body img{display:block;border:0;max-width:calc(100% - 20px);min-width:20px;min-height:20px;margin:0 10px;box-shadow:0 2px 8px 2px rgba(0,0,0,.2);transition:all .25s ease-in-out}.markdown-body img:hover{transform:translateY(-4px)}.markdown-body blockquote,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{line-height:inherit;font-size:inherit;color:inherit}.markdown-body blockquote:first-child,.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child,.markdown-body ol:first-child,.markdown-body p:first-child,.markdown-body pre:first-child,.markdown-body table:first-child,.markdown-body ul:first-child{margin-top:0}.markdown-body blockquote:last-child,.markdown-body h1:last-child,.markdown-body h2:last-child,.markdown-body h3:last-child,.markdown-body h4:last-child,.markdown-body h5:last-child,.markdown-body h6:last-child,.markdown-body ol:last-child,.markdown-body p:last-child,.markdown-body pre:last-child,.markdown-body table:last-child,.markdown-body ul:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:1.6em 0 .6em;color:#333;font-weight:400;position:relative}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{position:absolute;left:-2em}.markdown-body h1{font-size:1.75em}.markdown-body h1:before{content:"#"}.markdown-body h1:first-child{margin-top:0}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.35em}.markdown-body h4{font-size:1.2em}.markdown-body h5{font-size:1.1em}.markdown-body h6{font-size:1em}.markdown-body blockquote,.markdown-body ol,.markdown-body pre,.markdown-body table,.markdown-body ul{margin:1em 0}.markdown-body p{margin:.7em 0;word-break:break-word}.markdown-body pre{padding:8px 12px;color:#666;background-color:rgba(0,46,70,.0431);border:1px solid #ebebeb;tab-size:4;white-space:pre-wrap;line-height:1.4}.markdown-body pre code{color:inherit;background-color:transparent;padding:0}.markdown-body ol,.markdown-body ul{margin:1em 0 1em 2em;padding:0;line-height:1.5!important;font-size:inherit;color:inherit}.markdown-body ol:first-child,.markdown-body ul:first-child{margin-top:0}.markdown-body ol:last-child,.markdown-body ul:last-child{margin-bottom:0}.markdown-body ol li,.markdown-body ul li{margin:.5em 0;list-style:inherit}.markdown-body ul{list-style:disc outside}.markdown-body ul ul{list-style-type:circle}.markdown-body ul ul ul{list-style-type:square}.markdown-body ol{list-style:decimal outside}.markdown-body ol ol{list-style-type:lower-alpha}.markdown-body ol ol ol{list-style-type:lower-roman}.markdown-body blockquote{font-size:.9em;padding:8px 20px 8px 15px;color:#666;border-left:5px solid rgba(0,100,200,.7);background-color:rgba(0,100,200,.1)}.markdown-body table{border-collapse:collapse;border-spacing:0;max-width:100%;min-width:50%;word-wrap:break-word;color:inherit}.markdown-body table thead tr{background-color:#f4f6f7}.markdown-body table td,.markdown-body table th{padding:4px 16px;font-size:.95em;text-align:left;color:inherit;border:0;min-width:72px}.markdown-body table td[align=center],.markdown-body table th[align=center]{text-align:center}.markdown-body table td[align=right],.markdown-body table th[align=right]{text-align:right}.markdown-body table th{border-bottom:2px solid #e3e4e6;color:#333;font-weight:400;white-space:nowrap}.markdown-body table td{border-bottom:1px solid #ebebeb}.markdown-body hr{margin:1.5em 0;padding:0;border:0;background:linear-gradient(90deg,rgba(0,46,70,.0431),#ebebeb 50%,rgba(0,46,70,.0431));height:1px}.markdown-body br{content:"";display:block}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1450bbc83d21468da50e2a889a749217~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671566&amp;x-signature=uToef0g0jyRv0FJ0UAJZzLIue6I%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸Šåˆåˆ·åˆ°32å²ç¨‹åºå‘˜å‘¨æœ«çŒæ­»è¿™æ¡æ¶ˆæ¯ï¼Œå…¶å®æˆ‘å¹¶ä¸é™Œç”Ÿã€‚</p>
<p>è¿™å‡ å¹´ï¼Œç¨‹åºå‘˜çŒæ­»ã€å€’ä¸‹ã€å‡ºäº‹çš„æ–°é—»éš”ä¸€æ®µæ—¶é—´å°±ä¼šå‡ºç°ä¸€æ¬¡ï¼Œåœˆå­é‡Œçš„äººæ—©å°±éº»æœ¨äº†ã€‚åˆ·åˆ°çš„æ—¶å€™ï¼Œæœ€å¤šå¹å£æ°”ï¼Œç»§ç»­å¹²æ´»ï¼Œå¾ˆå°‘çœŸçš„å¾€å¿ƒé‡Œå»ã€‚</p>
<p>çœ‹åˆ°ä»–é•¿æœŸåŠ ç­çš„ç»†èŠ‚æ—¶ï¼Œæˆ‘çªç„¶æ„£ä½äº†ï¼Œå› ä¸ºå¤ªåƒäº†ã€‚</p>
<p>æˆ‘ä¹Ÿç»å¸¸è¿™æ ·ã€‚</p>
<p>ä¸‹åˆåˆ·åˆ°ä»–çš„å¦»å­å’Œå¯¹ä»–çš„èŠå¤©è®°å½•ï¼ŒçœŸçš„æ„Ÿè§‰å¾ˆæ— å¥ˆï¼Œå¯æƒœï¼Œä»–å†ä¹Ÿå›ä¸æ¥äº†......</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a978d30f94e14cae96745e6ee37ea604~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671566&amp;x-signature=0fNCN4v8uGCJ%2BK48rF%2FG0n2yM3s%3D" alt="3d6157aefc573f83b1eef95b33b3559d.png" loading="lazy"/></p>
<hr/>
<p>æˆ‘åˆ°ä¸æ˜¯åŠ ç­ï¼Œæˆ‘æ˜¯ä¸‹ç­åå¹²è‡ªå·±çš„äº‹æƒ…ï¼Œæˆ‘æ¯”è¾ƒå·ã€‚åªæœ‰ä¸‹ç­åçš„æ—¶é—´æ˜¯çœŸæ­£å±äºè‡ªå·±çš„æ—¶é—´æ‰åˆšå¼€å§‹ã€‚æ²¡æœ‰äººæ‰“æ‰°ï¼Œå®‰é™ä¸‹æ¥ï¼Œæˆ‘ä¼šå¹²è‡ªå·±çš„äº‹æƒ…ã€å­¦ä¹ ã€å†™ä»£ç ï¼Œä¸€ä¸ç•™ç¥å°±åˆ°äº†å‡Œæ™¨ä¸¤ç‚¹ã€‚</p>
<p>é‚£ä¸€åˆ»ï¼Œæˆ‘æ‰çœŸæ­£èƒ½è¿›å…¥è‡ªå·±çš„çŠ¶æ€ã€‚</p>
<p>å­¦ä¹ ä¹Ÿå¥½ï¼Œå¹²æ´»ä¹Ÿå¥½ï¼Œå“ªæ€•åªæ˜¯å®‰é™åœ°æ•²é”®ç›˜ï¼Œéƒ½è®©æˆ‘è§‰å¾—è¸å®ã€‚</p>
<p>äºæ˜¯ï¼Œå‡Œæ™¨ä¸¤ç‚¹æˆäº†å¸¸æ€</p>
<p>é€šè¿‡ä»–è¿™ä»¶äº‹ï¼Œæˆ‘çœ‹åˆ°æˆ‘ä¹Ÿåœ¨é‡Œé¢ï¼Œçœ‹è§äº†è‡ªå·±ã€‚</p>
<hr/>
<p>æˆ‘ä¸Šä¸€æ¬¡å†™ä»£ç å†™åˆ°å¾ˆæ™šæ˜¯å‰å‡ å‘¨ï¼Œè€å¤§è®©æˆ‘å¼€å‘ä¸€ä¸ªçŸ¥è¯†åº“RAGç³»ç»Ÿã€‚</p>
<p>ç»™æˆ‘äº†æˆ‘ä¸€å‘¨çš„æ—¶é—´ï¼Œå…¶å®å¯¹äºæˆ‘æ˜¯æœ‰éš¾åº¦çš„ï¼Œå› ä¸ºæ¥è§¦è¿™å—ä¸ä¹…ï¼Œä¸€å‘¨æ—¶é—´çš„è¯è‚¯å®šå¼„ä¸å¥½ã€‚</p>
<p>åæ¥é‚£å¤©ï¼Œæˆ‘è¿å¤œå’ŒAI ä¸€äº›åä½œæäº†6ä¸ªå°æ—¶å·¦å³ï¼Œæåˆ°äº†å‡Œæ™¨3ç‚¹å¤šï¼Œåˆç‰ˆæçš„å·®ä¸å¤šï¼Œé‚£ä¼šå¿ƒç‡ä¹Ÿæœ‰ç‚¹é«˜äº†ï¼Œ æœ‰ç‚¹éš¾å—ï¼Œå°±èµ¶å¿«ä¼‘æ¯äº†...</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/debf12ecd7de43e688a066277f667c65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5rW35Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671566&amp;x-signature=gk%2FGwG07UEtn8sHrNBS4te35FQw%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<p><strong>æˆ‘ä»¬è¿™ä¸€ä»£ç¨‹åºå‘˜ï¼ŒçœŸçš„å¤ªç´¯äº†ã€‚</strong></p>
<p>è¿™ç§ç´¯ï¼Œä¸åªæ˜¯åŠ ç­ï¼Œè€Œæ˜¯<strong>ä¸€ç§é•¿æœŸè¢«æ¨ç€å¾€å‰ï¼Œå´ä¸æ•¢åœä¸‹æ¥çš„çŠ¶æ€</strong>ã€‚</p>
<p>æˆ¿è´·åœ¨é‚£å„¿ã€‚<br/>
å®¶åº­åœ¨é‚£å„¿ã€‚<br/>
<strong>æœªæ¥çš„ä¸ç¡®å®šæ€§åœ¨é‚£å„¿</strong>ã€‚</p>
<p>æˆ‘ä»¬å¾ˆæ¸…æ¥šï¼Œä¸€æ—¦æ…¢ä¸‹æ¥ï¼Œå°±æ„å‘³ç€é£é™©ã€‚</p>
<p>äºæ˜¯æˆ‘ä»¬å­¦ä¼šäº†å¿ã€‚<br/>
å¿å›°ã€å¿ç´¯ã€å¿èº«ä½“å‘å‡ºçš„å„ç§æé†’ã€‚</p>
<hr/>
<p>ç¨‹åºå‘˜è¿™ä¸ªèŒä¸šæœ‰ä¸ªå¾ˆå±é™©çš„åœ°æ–¹ã€‚</p>
<p>èº«ä½“å¼€å§‹å‡ºé—®é¢˜çš„æ—¶å€™ï¼Œ<strong>èƒ½åŠ›å¾€å¾€è¿˜åœ¨çº¿</strong>ã€‚</p>
<p>æˆ‘ä»¬è¿˜èƒ½å†™ä»£ç ï¼Œè¿˜èƒ½è§£å†³é—®é¢˜ï¼Œè¿˜èƒ½åœ¨ç¾¤é‡Œå›ä¸€å¥ï¼šâ€œå¥½çš„ï¼Œæˆ‘çœ‹çœ‹â€</p>
<p>æ‰€ä»¥ä½ ä¼šè¯¯ä»¥ä¸ºè‡ªå·±æ²¡äº‹ã€‚</p>
<p>å¯èº«ä½“ä¸æ˜¯ç³»ç»Ÿï¼Œæ²¡æœ‰æ˜æ˜¾çš„æŠ¥é”™æç¤ºã€‚<br/>
ç­‰å®ƒçœŸæ­£å´©çš„æ—¶å€™ï¼Œå¾€å¾€æ²¡æœ‰ç»™ä½ å›æ»šçš„æœºä¼šã€‚</p>
<p>ä»Šå¤©åˆ·åˆ°è¿™ä¸ªæ–°é—»æ¶ˆæ¯å¯¹æˆ‘æ¥è¯´ï¼Œæ›´åƒæ˜¯ä¸€æ¬¡æé†’ã€‚æˆ‘ç°åœ¨ä½“æ£€å»ï¼Œä¼°è®¡éƒ½æ˜¯å…¨çº¢çŠ¶æ€ï¼Œæˆ‘ç»å¸¸ç†¬å¤œï¼Œç°åœ¨é”»ç‚¼çš„ä¹Ÿå°‘äº†....</p>
<p>æˆ‘ä»¬è¿™ä¸€ä»£äººï¼Œå¾ˆåŠªåŠ›ã€‚</p>
<p>åŠªåŠ›å·¥ä½œï¼ŒåŠªåŠ›èµšé’±ï¼ŒåŠªåŠ›è®©ç”Ÿæ´»å¾€å‰èµ°ã€‚</p>
<p>å¯å¦‚æœè¿èº«ä½“éƒ½å¼€å§‹é€æ”¯ï¼Œé‚£è¿™æ¡è·¯ï¼ŒçœŸçš„å€¼å¾—é‡æ–°æƒ³ä¸€æƒ³ã€‚</p>
<p>ä¸æ˜¯ä»–å€’ä¸‹äº†ã€‚<br/>
æ˜¯æˆ‘ä»¬è¿™ä¸€ä»£ï¼ŒçœŸçš„å¤ªç´¯äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éTransformeræ¶æ„çš„æ–°çªç ´ï¼Œæ¶²æ€ç¥ç»ç½‘ç»œçš„æ¨ç†å°æ¨¡å‹åªç”¨900Må†…å­˜]]></title>    <link>https://juejin.cn/post/7597742970281656372</link>    <guid>https://juejin.cn/post/7597742970281656372</guid>    <pubDate>2026-01-22T07:27:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597742970281656372" data-draft-id="7597724783649701928" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éTransformeræ¶æ„çš„æ–°çªç ´ï¼Œæ¶²æ€ç¥ç»ç½‘ç»œçš„æ¨ç†å°æ¨¡å‹åªç”¨900Må†…å­˜"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2026-01-22T07:27:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éTransformeræ¶æ„çš„æ–°çªç ´ï¼Œæ¶²æ€ç¥ç»ç½‘ç»œçš„æ¨ç†å°æ¨¡å‹åªç”¨900Må†…å­˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:27:56.000Z" title="Thu Jan 22 2026 07:27:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è°·æ­Œ 2017 å¹´æå‡ºçš„ Transformer æ¶æ„äº‹å®ä¸Šå·²ç»åŸºæœ¬å„æ–­äº†å¤§æ¨¡å‹ã€‚</p>
<p>ä¸é‡‡ç”¨ Transformer æ¶æ„çš„å¤§æ¨¡å‹å·²ç»æ˜¯å°‘ä¹‹åˆå°‘ï¼Œè€Œé‡‡ç”¨é Transformer æ¶æ„ï¼Œè¿˜èƒ½ä¸ä¸»æµç¬¬ä¸€æ¢¯é˜Ÿå¤§æ¨¡å‹æ‰³æ‰‹è…•çš„ï¼Œæ›´æ˜¯å‡¤æ¯›éºŸè§’ã€‚</p>
<p>ä¸çŸ¥é“å¤§å®¶æ˜¯å¦è¿˜æœ‰å°è±¡ï¼Œå½“å¹´æœ‰ä¸€ä¸ªå°è¯•<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzA3MzI4MjgzMw%3D%3D%26mid%3D2650936710%26idx%3D1%26sn%3Ddbbd17956166684cee4eb73e75e41111%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&amp;mid=2650936710&amp;idx=1&amp;sn=dbbd17956166684cee4eb73e75e41111&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ç»™å¤§æ¨¡å‹è£…ä¸Šã€Œè™«è„‘ã€</a>çš„åˆåˆ›å…¬å¸ï¼Œä»–ä»¬çš„ç ”ç©¶äººå‘˜å—åˆ°ç§€ä¸½éšæ†çº¿è™«çš„ç¥ç»ç»“æ„å¯å‘ï¼Œç ”å‘å‡ºä¸€ç§æ–°å‹çš„çµæ´»ç¥ç»ç½‘ç»œï¼Œä¹Ÿè¢«ç§°ä¸ºæ¶²æ€ç¥ç»ç½‘ç»œã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªè¿ç»­æ—¶é—´æ¨¡å‹ï¼Œç”±å¤šä¸ªç®€å•çš„åŠ¨æ€ç³»ç»Ÿç»„æˆï¼Œè¿™äº›ç³»ç»Ÿé€šè¿‡éçº¿æ€§é—¨ç›¸äº’è°ƒèŠ‚ã€‚è¿™ç§ç½‘ç»œçš„ç‰¹ç‚¹æ˜¯æ—¶é—´å¸¸æ•°å¯å˜ï¼Œè¾“å‡ºé€šè¿‡æ±‚è§£å¾®åˆ†æ–¹ç¨‹å¾—åˆ°ã€‚å®ƒåœ¨ç¨³å®šæ€§ã€è¡¨è¾¾èƒ½åŠ›å’Œæ—¶é—´åºåˆ—é¢„æµ‹æ–¹é¢éƒ½ä¼˜äºä¼ ç»Ÿæ¨¡å‹ã€‚</p>
<p>é™¤æ­¤ä»¥å¤–ï¼Œæ¶²æ€ç¥ç»ç½‘ç»œçš„å¦ä¸€ä¸ªç‰¹ç‚¹æ˜¯è§„æ¨¡å°å¾—å¤šï¼Œåœ¨ 2024 å¹´è¯¥æ¶æ„å°±å®ç°äº† 1.3B å¤§å°çš„æ¨¡å‹éƒ¨ç½²ï¼Œä½†å½¼æ—¶å°šæœªèƒ½ä¸ä¸»æµå¤§æ¨¡å‹ä¸€æ‹¼é«˜ä¸‹ã€‚</p>
<p>æå‡ºæ¶²æ€ç¥ç»ç½‘ç»œæ¶æ„ï¼Œå¹¶ä¸”åšå‡º Liquid Foundation Modelsï¼ˆLFMï¼‰å¤§æ¨¡å‹çš„ï¼Œæ˜¯ç”± MIT è®¡ç®—æœºç§‘å­¦å’Œäººå·¥æ™ºèƒ½å®éªŒå®¤ CSAIL å­µåŒ–ï¼Œæˆç«‹äº 2023 å¹´ 3 æœˆçš„åˆåˆ›å…¬å¸ Liquid AIã€‚</p>
<p>å°±åœ¨åˆšåˆšï¼ŒLiquid AI åˆä¸€æ¬¡åœ¨ LFM æ¨¡å‹ä¸Šæ”¾å¤§æ‹›ã€‚ä»–ä»¬æ­£å¼å‘å¸ƒå¹¶å¼€æºäº† LFM2.5-1.2B-Thinkingï¼Œä¸€æ¬¾å¯å®Œå…¨åœ¨ç«¯ä¾§è¿è¡Œçš„æ¨ç†æ¨¡å‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/548bad4409904e98b0d1a8705a05627e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671676&amp;x-signature=wSZBumcfQqiFQ9A00ZXQqf6T6d0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Liquid AI å£°ç§°ï¼Œè¯¥æ¨¡å‹ä¸“é—¨ä¸ºç®€æ´æ¨ç†è€Œè®­ç»ƒï¼›åœ¨ç”Ÿæˆæœ€ç»ˆç­”æ¡ˆå‰ï¼Œä¼šå…ˆç”Ÿæˆå†…éƒ¨æ€è€ƒè½¨è¿¹ï¼›åœ¨ç«¯ä¾§çº§åˆ«çš„ä½å»¶è¿Ÿæ¡ä»¶ä¸‹ï¼Œå®ç°ç³»ç»ŸåŒ–çš„é—®é¢˜æ±‚è§£ï¼›åœ¨å·¥å…·ä½¿ç”¨ã€æ•°å­¦æ¨ç†å’ŒæŒ‡ä»¤éµå¾ªæ–¹é¢è¡¨ç°å°¤ä¸ºå‡ºè‰²ã€‚</p>
<p>è¯¥æ¨¡å‹åœ¨æ‰‹æœºä¸Šä»…éœ€Â 900 MB å†…å­˜Â å³å¯è¿è¡Œï¼ŒåŒæ—¶åœ¨åŒç­‰è§„æ¨¡æ¨¡å‹ä¸­å®ç°äº†æœ€å¿«çš„æ¨ç†é€Ÿåº¦å’Œæœ€ä½³çš„è´¨é‡è¡¨ç°ã€‚ä¸¤å¹´å‰è¿˜å¿…é¡»ä¾èµ–æ•°æ®ä¸­å¿ƒæ‰èƒ½å®Œæˆçš„èƒ½åŠ›ï¼Œå¦‚ä»Šå·²ç»å¯ä»¥åœ¨ä½ çš„å£è¢‹é‡Œç¦»çº¿è¿è¡Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c9ecba1d5a6426fa924128af26535e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671676&amp;x-signature=xGph7kU4TLBFhLJh%2BXW6OaPsRaE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>
<p>Leap å¼€æºé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleap.liquid.ai%2Fmodels" target="_blank" title="https://leap.liquid.ai/models" ref="nofollow noopener noreferrer">leap.liquid.ai/models</a></p>
</li>
<li>
<p>HuggingFace é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2FLiquidAI%2FLFM2.5-1.2B-Thinking" target="_blank" title="https://huggingface.co/LiquidAI/LFM2.5-1.2B-Thinking" ref="nofollow noopener noreferrer">huggingface.co/LiquidAI/LFâ€¦</a></p>
</li>
</ul>
<p>ä¼˜äº Transformer çš„æ€§èƒ½</p>
<p>ä¸ Liquid AI ä¹‹å‰çš„æ¨¡å‹ LFM2.5-1.2B-Instruct ç›¸æ¯”ï¼ŒLFM2.5-1.2B-Thinking åœ¨ä¸‰é¡¹èƒ½åŠ›ä¸Šå®ç°äº†æ˜¾è‘—æå‡ï¼š</p>
<ul>
<li>
<p>æ•°å­¦æ¨ç†ï¼šåœ¨ MATH-500 ä¸Šä» 63 æå‡è‡³ 88</p>
</li>
<li>
<p>æŒ‡ä»¤éµå¾ªï¼šåœ¨ Multi-IF ä¸Šä» 61 æå‡è‡³ 69</p>
</li>
<li>
<p>å·¥å…·ä½¿ç”¨ï¼šåœ¨ BFCLv3 ä¸Šä» 49 æå‡è‡³ 57</p>
</li>
</ul>
<p>åœ¨å¤§å¤šæ•°æ¨ç†åŸºå‡†æµ‹è¯•ä¸­ï¼ŒLFM2.5-1.2B-Thinking çš„è¡¨ç°å·²ä¸ç”šè‡³è¶…è¿‡ Qwen3-1.7Bï¼Œå°½ç®¡å…¶å‚æ•°é‡å°‘äº† çº¦ 40%ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07cefd9bd2594583a7ef5d1a88d41166~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671676&amp;x-signature=ZU76Jy7rGs%2FlWPMZ2LZVB4IMpYk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd381f482f2f4b5ebde6bb169aae6ed7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671676&amp;x-signature=SpXG4uroOC8c8cbGRKoKE7DcYuA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åŒæ—¶ï¼Œè¯¥æ¨¡å‹åœ¨è´¨é‡ä¸æµ‹è¯•æ—¶è®¡ç®—æ•ˆç‡ä¹‹é—´å–å¾—äº†è‰¯å¥½å¹³è¡¡ï¼šä¸ Qwen3-1.7Bï¼ˆæ€è€ƒæ¨¡å¼ï¼‰ ç›¸æ¯”ï¼Œå®ƒåœ¨ä½¿ç”¨æ›´å°‘è¾“å‡º token çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶æä¾›äº†æ›´é«˜çš„æ•´ä½“æ€§èƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d705f5157034a719eb4afe8076ef2bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671676&amp;x-signature=AvPUxz772Gj8oLLZvi0b1dHCQFU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨æ¨ç†é˜¶æ®µï¼Œè¿™ä¸€æ€§èƒ½å·®è·è¿›ä¸€æ­¥æ‹‰å¤§ï¼šLFM2.5-1.2B-Thinking åœ¨æ¨ç†é€Ÿåº¦å’Œå†…å­˜æ•ˆç‡ä¸¤æ–¹é¢ï¼Œéƒ½ä¼˜äºçº¯ Transformer æ¨¡å‹ï¼ˆå¦‚ Qwen3-1.7Bï¼‰å’Œæ··åˆæ¶æ„æ¨¡å‹ï¼ˆå¦‚ Granite-4.0-H-1Bï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f22dbcff1e9d4b3684bd933763935807~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671676&amp;x-signature=K%2FxlC%2FcVfvqFHOta%2FoO6IPkJci0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Liquid AI è¡¨ç¤ºï¼ŒLFM2.5-1.2B-Thinking åœ¨ æ™ºèƒ½ä½“å¼ï¼ˆagenticï¼‰ä»»åŠ¡å’Œé«˜æ¨ç†å¼ºåº¦ä»»åŠ¡ï¼ˆä¾‹å¦‚å·¥å…·ä½¿ç”¨ã€æ•°å­¦ã€ç¼–ç¨‹ï¼‰ä¸­è¡¨ç°å°¤ä¸ºçªå‡ºã€‚å½“æ¨¡å‹éœ€è¦è§„åˆ’ä¸€ç³»åˆ—å·¥å…·è°ƒç”¨ã€éªŒè¯ä¸­é—´ç»“æœå¹¶åŠ¨æ€è°ƒæ•´è§£é¢˜ç­–ç•¥æ—¶ï¼Œå…¶ç”Ÿæˆçš„æ¨ç†è½¨è¿¹èƒ½å¤Ÿå‘æŒ¥å®é™…ä»·å€¼ã€‚è€Œåœ¨å¯¹è¯äº¤äº’å’Œåˆ›æ„å†™ä½œç­‰åœºæ™¯ä¸‹ï¼Œåˆ™æ›´æ¨èä½¿ç”¨ LFM2.5-1.2B-Instructã€‚</p>
<p>è®­ç»ƒç»†èŠ‚</p>
<p>è¦æ„å»ºèƒ½åŠ›å¼ºçš„å°å‹æ¨ç†æ¨¡å‹ï¼Œå…³é”®åœ¨äºï¼šåœ¨çŸ¥è¯†å®¹é‡æœ‰é™çš„å‰æä¸‹ï¼Œé€šè¿‡å¤šæ­¥æ¨ç†æ¥å¼¥è¡¥èƒ½åŠ›ï¼ŒåŒæ—¶åˆè¦ä¿æŒç­”æ¡ˆç®€æ´ï¼Œä»¥æ»¡è¶³ç«¯ä¾§ä½å»¶è¿Ÿéƒ¨ç½²çš„éœ€æ±‚ã€‚</p>
<p>æ­¤å‰åœ¨ LFM-1B-Math ä¸Šçš„å®éªŒè¡¨æ˜ï¼Œåœ¨ä¸­æœŸè®­ç»ƒé˜¶æ®µå¼•å…¥æ¨ç†è½¨è¿¹ï¼Œæœ‰åŠ©äºæ¨¡å‹å†…åŒ–ã€Œå…ˆæ¨ç†ï¼Œå†ä½œç­”ã€çš„æ¨¡å¼ã€‚éšåï¼ŒåŸºäºåˆæˆæ¨ç†è½¨è¿¹è¿›è¡Œçš„ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰ï¼Œè¿›ä¸€æ­¥è®©æ¨¡å‹èƒ½å¤Ÿç¨³å®šåœ°äº§ç”Ÿæ€ç»´é“¾ï¼Œè€Œæ— éœ€ä¾èµ–ç‰¹å®šæ ¼å¼çš„å¥–åŠ±è®¾è®¡ã€‚</p>
<p>ç„¶è€Œï¼ŒSFT å¹¶ä¸èƒ½è§£å†³æ¨ç†æ¨¡å‹ä¸­çš„ä¸€ä¸ªå¸¸è§é—®é¢˜ï¼šæ¨¡å‹å¯èƒ½é™·å…¥é‡å¤æ–‡æœ¬æ¨¡å¼ï¼Œè¿Ÿè¿Ÿæ— æ³•å¾—å‡ºç»“è®ºã€‚è¿™ç§è¡Œä¸ºé€šå¸¸è¢«ç§°ä¸ºÂ ã€Œdoom loopingã€ï¼ˆæ­»å¾ªç¯å¼ç”Ÿæˆï¼‰ã€‚ä¸ºæ­¤ï¼ŒLiquid AI é‡‡ç”¨äº†ä¸€ç§ç›¸å¯¹ç›´æ¥çš„ç¼“è§£æ–¹æ³•ï¼š</p>
<ul>
<li>
<p>åœ¨åå¥½å¯¹é½é˜¶æ®µï¼ŒåŸºäº SFT æ¨¡å‹ç”Ÿæˆäº† 5 ä¸ªæ¸©åº¦é‡‡æ ·å€™é€‰å’Œ 1 ä¸ªè´ªå©ªè§£ç å€™é€‰ï¼›å½“ä¸å­˜åœ¨å¾ªç¯æ—¶ï¼Œé€‰æ‹©ç”± LLM è¯„åˆ¤å¾—åˆ†æœ€é«˜çš„ä½œä¸ºæ­£æ ·æœ¬ã€å¾—åˆ†æœ€ä½çš„ä½œä¸ºè´Ÿæ ·æœ¬ï¼›ä¸€æ—¦å‡ºç°å¾ªç¯ç”Ÿæˆï¼Œåˆ™æ— è®ºè¯„åˆ¤å¾—åˆ†å¦‚ä½•ï¼Œç›´æ¥å°†å‡ºç°å¾ªç¯çš„å€™é€‰ä½œä¸ºè´Ÿæ ·æœ¬ã€‚</p>
</li>
<li>
<p>åœ¨ RLVR é˜¶æ®µï¼Œè¿›ä¸€æ­¥åœ¨è®­ç»ƒæ—©æœŸå¼•å…¥äº†åŸºäº n-gram çš„é‡å¤æƒ©ç½šï¼Œä»¥æŠ‘åˆ¶å¾ªç¯ç”Ÿæˆè¡Œä¸ºã€‚</p>
</li>
</ul>
<p>é€šè¿‡è¿™äº›ç­–ç•¥ï¼Œæ¨¡å‹åœ¨ä¿æŒæ¨ç†èƒ½åŠ›çš„åŒæ—¶ï¼Œæ˜¾è‘—é™ä½äº†é™·å…¥æ— æ•ˆå¾ªç¯çš„é£é™©ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cfba3b285714edc9709014cf1e560c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671676&amp;x-signature=vlNlKl%2BmnNehnQ7eT%2B%2FZrNzRhPQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸€æ–¹æ³•åœ¨ä¸€ä¸ªå…·æœ‰ä»£è¡¨æ€§æç¤ºè¯çš„æ•°æ®é›†ä¸Šï¼Œå°†æ­»å¾ªç¯ç”Ÿæˆçš„æ¯”ä¾‹ä» 15.74%ï¼ˆä¸­æœŸè®­ç»ƒé˜¶æ®µï¼‰ æ˜¾è‘—é™ä½åˆ°äº† 0.36%ï¼ˆRLVR é˜¶æ®µï¼‰ï¼Œæ•ˆæœéå¸¸ç›´æ¥ä¸”ç¨³å®šã€‚</p>
<p>Liquid AI çš„ RL è®­ç»ƒæµæ°´çº¿æ ¸å¿ƒé‡‡ç”¨çš„æ˜¯æ—  criticã€ç±» GRPO æ–¹æ³•ã€‚æ•´ä½“å®ç°æ˜¯ reference-free çš„ï¼Œå¹¶ç»“åˆäº†å¤šé¡¹è®­ç»ƒæŠ€å·§ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p>éå¯¹ç§°æ¯”ä¾‹è£å‰ªï¼ˆasymmetric ratio clippingï¼‰</p>
</li>
<li>
<p>å¯¹é›¶æ–¹å·®æç¤ºç»„çš„åŠ¨æ€è¿‡æ»¤</p>
</li>
<li>
<p>è¶…é•¿æ ·æœ¬æ©ç ï¼ˆoverlong-sample maskingï¼‰</p>
</li>
<li>
<p>ä¸è¿›è¡Œä¼˜åŠ¿å½’ä¸€åŒ–ï¼ˆno advantage normalizationï¼‰</p>
</li>
<li>
<p>æˆªæ–­çš„é‡è¦æ€§é‡‡æ ·ï¼ˆtruncated importance samplingï¼‰</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/718d2fa5eb9d4d12a37b9b9dac880b27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671676&amp;x-signature=fTJcVd7oRWjEy7zSnOzyDXNqLJ4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>RL æ–¹æ³•çš„ç®€åŒ–ç¤ºæ„å›¾ï¼šæœ€ç»ˆå‘å¸ƒçš„ checkpoint æ˜¯ä¸€ä¸ªåˆå¹¶æ¨¡å‹ï¼Œå…¶ã€Œå®¶æ—æ ‘ã€ä¸­åŒ…å« 25 ä¸ªä¸åŒçš„å­ checkpointã€‚</p>
<p>Liquid AI é‡‡ç”¨äº†ä¸€ç§é«˜åº¦å¹¶è¡Œçš„Â Curriculum RL è®­ç»ƒæ¡†æ¶ï¼Œå…ˆä»¥æŒ‡ä»¤è·Ÿéšçš„ RLVR ä½œä¸ºåŸºç¡€èµ·ç‚¹ï¼Œå†åˆ†å‰å‡ºé¢å‘æ¨ç†ã€æ•°å­¦ã€å·¥å…·ä½¿ç”¨ç­‰ä¸åŒé¢†åŸŸçš„ä¸“é¡¹ checkpointã€‚</p>
<p>è¿™ç§å¹¶è¡Œç»“æ„ä¸åŒäºä¼ ç»Ÿçš„ã€Œå•æ¨¡å‹ã€å¤šä»»åŠ¡åŒæ—¶è®­ç»ƒã€æ–¹å¼ï¼Œå¾€å¾€ä¼šå¼•å‘èƒ½åŠ›ç›¸äº’å¹²æ‰°ã€‚</p>
<p>Curriculum RL æä¾›äº†æ›´ç²¾ç»†çš„æ§åˆ¶ç²’åº¦ï¼šæ¯ä¸ªé¢†åŸŸçš„æ¨¡å‹éƒ½å¯ä»¥ç‹¬ç«‹ä¼˜åŒ–ï¼Œæ‹¥æœ‰å„è‡ªçš„å¥–åŠ±è®¾è®¡ã€è¶…å‚æ•°å’Œè¯„ä¼°æ ‡å‡†ã€‚éšåï¼Œæˆ‘ä»¬åœ¨ä¸åŒé˜¶æ®µè¿›è¡Œè¿­ä»£å¼æ¨¡å‹åˆå¹¶ï¼Œç”Ÿæˆåœ¨å¤šç§èƒ½åŠ›ä¹‹é—´æ›´å‡è¡¡çš„æ–° checkpointã€‚</p>
<p>å®è·µè¡¨æ˜ï¼Œæ¨¡å‹åˆå¹¶åœ¨ä¿ç•™æ•´ä½“æ€§èƒ½çš„åŒæ—¶ï¼Œèƒ½å¤Ÿæœ‰æ•ˆå¸æ”¶ä¸“é¡¹èƒ½åŠ›æå‡ï¼Œæ˜¯ä¸€æ¡å¯è¡Œä¸”å¯æ‰©å±•çš„é€šç”¨ RLVR è®­ç»ƒè·¯å¾„ã€‚</p>
<p>æ­¤å¤–ï¼ŒLiquid AI æ­£åœ¨å…¨åŠ›æ‹“å±• LFM ç³»åˆ—æ¨¡å‹çš„ç”Ÿæ€ç³»ç»Ÿå’Œåˆä½œä¼™ä¼´ã€‚</p>
<p>LFM2.5-1.2B-Thinking å®ç°äº†å¼€ç®±å³ç”¨æ”¯æŒï¼Œå…¼å®¹æœ€æµè¡Œçš„æ¨ç†æ¡†æ¶ï¼ŒåŒ…æ‹¬ llama.cppã€MLXã€vLLM å’Œ ONNX Runtimeã€‚æ‰€æœ‰æ¡†æ¶å‡æ”¯æŒ CPU å’Œ GPU åŠ é€Ÿï¼Œè¦†ç›– Appleã€AMDã€Qualcomm å’Œ Nvidia ç­‰ç¡¬ä»¶ã€‚</p>
<p>ä¸ºäº†ç¡®ä¿ LFM2.5 ç³»åˆ— èƒ½å¤Ÿåœ¨å„ç§åœºæ™¯ä¸‹é«˜æ•ˆè¿è¡Œï¼ŒLiquid AI æ­£åœ¨å¿«é€Ÿæ‰©å±•è½¯ç¡¬ä»¶ç”Ÿæ€ç³»ç»Ÿï¼Œå¹¶æ¬¢è¿ Qualcomm Technologies, Inc.ã€Ollamaã€FastFlowLM å’Œ Cactus Compute ä½œä¸ºæ–°çš„åˆä½œä¼™ä¼´åŠ å…¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e36ed20f86b45ce92d2ec4d425e60b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671676&amp;x-signature=tn6j4WIsT%2FwWk2EF%2Fjc2%2FpXncCM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>LFM2.5-1.2B-Thinking åœ¨ä¸åŒç¡¬ä»¶è®¾å¤‡ä¸Šçš„é•¿ä¸Šä¸‹æ–‡æ¨ç†è¡¨ç°ã€‚</p>
<p>LFM2.5-1.2B-Thinking å¯èƒ½åªæ˜¯ä¸ªèµ·ç‚¹ï¼Œä½†å®ƒå·²ç»è¯æ˜äº†ä¸€ä»¶äº‹ â€”â€”Transformer å¹¶éå”¯ä¸€è§£ï¼Œå°è€Œå¼ºçš„ç«¯ä¾§æ¨ç†æ¨¡å‹æˆ–è®¸æœ‰æ›´ä¼˜è§£ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œè¿è¡Œæ¨ç†æ¨¡å‹çš„é—¨æ§›è¶Šæ¥è¶Šä½ï¼Œè®©æ›´å¤šè®¾å¤‡æ¿€å‘ AI æ½œèƒ½ï¼Œä¸è®ºå¦‚ä½•ï¼Œéƒ½æ˜¯ä¸€ä»¶ç¾äº‹ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.liquid.ai%2Fblog%2Flfm2-5-1-2b-thinking-on-device-reasoning-under-1gb%23training-recipe" target="_blank" title="https://www.liquid.ai/blog/lfm2-5-1-2b-thinking-on-device-reasoning-under-1gb#training-recipe" ref="nofollow noopener noreferrer">www.liquid.ai/blog/lfm2-5â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‹¥ä¾å‰ç«¯vue é¡¹ç›® build æ–‡ä»¶å¤¹å†…å®¹è¯¦è§£]]></title>    <link>https://juejin.cn/post/7597742970281541684</link>    <guid>https://juejin.cn/post/7597742970281541684</guid>    <pubDate>2026-01-22T07:21:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597742970281541684" data-draft-id="7597724783649669160" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‹¥ä¾å‰ç«¯vue é¡¹ç›®  build æ–‡ä»¶å¤¹å†…å®¹è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-22T07:21:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€å†™ä»£ç å°±å¼€å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/2889993082908344"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‹¥ä¾å‰ç«¯vue é¡¹ç›®  build æ–‡ä»¶å¤¹å†…å®¹è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2889993082908344/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€å†™ä»£ç å°±å¼€å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:21:45.000Z" title="Thu Jan 22 2026 07:21:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1 build</h2>
<p>Bç«™æœ‰å®Œæ•´çš„å‰ç«¯åç«¯æºç è§£æè§†é¢‘è¯¾ç¨‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04cd8458129a4ad2a8477999990f751e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5YaZ5Luj56CB5bCx5byA5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671305&amp;x-signature=qef%2B4Elmrs%2FXleRb88gm%2FZNdjZQ%3D" alt="image.png" loading="lazy"/></p>
<p><img src="" alt="" loading="lazy"/></p>
<p>ä½ å®Œå…¨å¯ä»¥ä¸ä½¿ç”¨è¿™ä¸ª <code>build/index.js</code> è„šæœ¬ï¼Œç›´æ¥ç”¨ Vue CLI è‡ªå¸¦çš„ <code>npm run build</code> å‘½ä»¤è¿›è¡Œæ‰“åŒ…ï¼Œä¸¤è€…çš„<strong>æ ¸å¿ƒæ‰“åŒ…é€»è¾‘å®Œå…¨ä¸€è‡´</strong>ï¼Œæœ€ç»ˆç”Ÿæˆçš„ <code>dist</code> ç›®å½•å†…å®¹ä¹Ÿå®Œå…¨ç›¸åŒã€‚</p>
<h4 data-id="heading-1">ä¸ºä»€ä¹ˆå¯ä»¥ä¸ä½¿ç”¨è¿™ä¸ªè„šæœ¬ï¼Ÿ</h4>
<p>å› ä¸ºè¿™ä¸ª <code>build/index.js</code> æœ¬è´¨ä¸Šæ˜¯å¯¹ Vue CLI åŸç”Ÿæ‰“åŒ…å‘½ä»¤çš„ã€Œ<strong>å°è£…å’Œæ‰©å±•</strong>ã€ï¼Œè€Œéâ€œå¿…é¡»ä¾èµ–çš„æ‰“åŒ…å·¥å…·â€ï¼š</p>
<ul>
<li>è„šæœ¬ä¸­æœ€æ ¸å¿ƒçš„æ‰“åŒ…é€»è¾‘æ˜¯ <code>run('vue-cli-service build')</code>ï¼Œè¿™å’Œ <code>npm run build</code> åº•å±‚æ‰§è¡Œçš„å‘½ä»¤å®Œå…¨ä¸€æ ·ï¼ˆVue CLI é¡¹ç›®ä¸­ï¼Œ<code>package.json</code> çš„ <code>build</code> è„šæœ¬é»˜è®¤å°±æ˜¯ <code>"vue-cli-service build"</code>ï¼‰ï¼›</li>
<li>å®ƒçš„é¢å¤–åŠŸèƒ½ï¼ˆå¦‚ <code>--preview</code> é¢„è§ˆã€<code>--report</code> ç”ŸæˆæŠ¥å‘Šï¼‰åªæ˜¯â€œé”¦ä¸Šæ·»èŠ±â€ï¼Œè€Œéæ‰“åŒ…çš„å¿…è¦æ­¥éª¤ã€‚</li>
</ul>
<h4 data-id="heading-2">ä¸¤ç§æ‰“åŒ…æ–¹å¼çš„å¯¹æ¯”ï¼ˆé€‰å“ªç§éƒ½å¯ä»¥ï¼‰</h4>























<table><thead><tr><th>æ‰“åŒ…æ–¹å¼</th><th>å‘½ä»¤</th><th>æ•ˆæœ</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>åŸç”Ÿæ–¹å¼</td><td><code>npm run build</code></td><td>ä»…æ‰§è¡Œæ‰“åŒ…ï¼Œç”Ÿæˆ <code>dist</code> ç›®å½•</td><td>åªéœ€è¦æ‰“åŒ…ç»“æœï¼Œä¸éœ€è¦é¢„è§ˆ</td></tr><tr><td>è„šæœ¬æ–¹å¼</td><td><code>node build/index.js</code> æˆ– <code>node build/index.js --preview</code></td><td>æ‰§è¡Œæ‰“åŒ… + å¯é€‰é¢„è§ˆ/ç”ŸæˆæŠ¥å‘Š</td><td>éœ€è¦æ‰“åŒ…åå¿«é€Ÿé¢„è§ˆï¼Œæˆ–åˆ†ææ‰“åŒ…ä½“ç§¯</td></tr></tbody></table>
<h4 data-id="heading-3">æ€»ç»“</h4>
<ul>
<li><strong>å®Œå…¨å¯ä»¥ä¸ç”¨</strong>ï¼šç›´æ¥ç”¨ <code>npm run build</code> å°±èƒ½å®Œæˆæ‰“åŒ…ï¼Œè¿™æ˜¯ Vue CLI æ¨èçš„æ ‡å‡†æ–¹å¼ï¼Œç®€å•ç›´æ¥ï¼›</li>
<li><strong>è„šæœ¬æ˜¯å¯é€‰å·¥å…·</strong>ï¼šå®ƒçš„å­˜åœ¨åªæ˜¯ä¸ºäº†æä¾›â€œæ‰“åŒ…+é¢„è§ˆâ€çš„ä¸€ç«™å¼ä½“éªŒï¼Œå¦‚æœä½ ä¸éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œå¿½ç•¥å®ƒå³å¯ï¼Œå¯¹é¡¹ç›®æ²¡æœ‰ä»»ä½•å½±å“ã€‚</li>
</ul>
<p>é€‰æ‹©å“ªç§æ–¹å¼ï¼Œå®Œå…¨å–å†³äºä½ çš„å¼€å‘ä¹ æƒ¯â€”â€”æƒ³ç”¨åŸç”Ÿå‘½ä»¤å°±ç”¨ <code>npm run build</code>ï¼Œæƒ³æ–¹ä¾¿é¢„è§ˆå°±ç”¨è„šæœ¬ï¼Œä¸¤è€…æœ€ç»ˆçš„æ‰“åŒ…ç»“æœå®Œå…¨ä¸€è‡´ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// å¯¼å…¥runjså·¥å…·çš„runå‡½æ•°ï¼Œç”¨äºæ‰§è¡Œç»ˆç«¯å‘½ä»¤</span>
<span class="hljs-keyword">const</span> { run } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'runjs'</span>)
<span class="hljs-comment">// å¯¼å…¥chalkå·¥å…·ï¼Œç”¨äºåœ¨ç»ˆç«¯è¾“å‡ºå¸¦é¢œè‰²çš„æ–‡å­—</span>
<span class="hljs-keyword">const</span> chalk = <span class="hljs-built_in">require</span>(<span class="hljs-string">'chalk'</span>)
<span class="hljs-comment">// å¯¼å…¥vueé¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºè·å–é¡¹ç›®çš„åŸºç¡€è·¯å¾„é…ç½®</span>
<span class="hljs-keyword">const</span> config = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../vue.config.js'</span>)
<span class="hljs-comment">// è·å–å‘½ä»¤è¡Œå‚æ•°ï¼ˆå»æ‰å‰ä¸¤ä¸ªé»˜è®¤å‚æ•°ï¼šnodeå’Œå½“å‰æ–‡ä»¶è·¯å¾„ï¼‰</span>
<span class="hljs-keyword">const</span> rawArgv = process.<span class="hljs-property">argv</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>)
<span class="hljs-comment">// å°†å‘½ä»¤è¡Œå‚æ•°æ‹¼æ¥æˆå­—ç¬¦ä¸²ï¼Œæ–¹ä¾¿åç»­ä¼ é€’ç»™æ‰“åŒ…å‘½ä»¤</span>
<span class="hljs-keyword">const</span> args = rawArgv.<span class="hljs-title function_">join</span>(<span class="hljs-string">' '</span>)
â€‹
<span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰§è¡Œ"æ‰“åŒ…å¹¶é¢„è§ˆ"åŠŸèƒ½ï¼š</span>
<span class="hljs-comment">// 1. æ£€æŸ¥æ˜¯å¦æœ‰npm_config_previewç¯å¢ƒå˜é‡ï¼ˆé€šè¿‡npm runå‘½ä»¤ä¼ é€’ï¼‰</span>
<span class="hljs-comment">// 2. æ£€æŸ¥å‘½ä»¤è¡Œå‚æ•°ä¸­æ˜¯å¦åŒ…å«--preview</span>
<span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">npm_config_preview</span> || rawArgv.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'--preview'</span>)) {
 Â <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦ç”Ÿæˆæ„å»ºåˆ†ææŠ¥å‘Šï¼ˆå‘½ä»¤è¡Œå‚æ•°åŒ…å«--reportæ—¶ï¼‰</span>
 Â <span class="hljs-keyword">const</span> report = rawArgv.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'--report'</span>)
â€‹
 Â <span class="hljs-comment">// æ‰§è¡ŒVue CLIçš„æ‰“åŒ…å‘½ä»¤ï¼ŒåŒæ—¶ä¼ é€’æ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°</span>
 Â <span class="hljs-comment">// ç­‰ä»·äºåœ¨ç»ˆç«¯æ‰§è¡Œvue-cli-service build [å‚æ•°]</span>
 Â <span class="hljs-title function_">run</span>(<span class="hljs-string">`vue-cli-service build <span class="hljs-subst">${args}</span>`</span>)
â€‹
 Â <span class="hljs-comment">// é¢„è§ˆæœåŠ¡å™¨çš„ç«¯å£å·ï¼ˆå›ºå®šä¸º9526ï¼‰</span>
 Â <span class="hljs-keyword">const</span> port = <span class="hljs-number">9526</span>
 Â <span class="hljs-comment">// ä»vueé…ç½®ä¸­è·å–é¡¹ç›®çš„å…¬å…±è·¯å¾„ï¼ˆpublicPathï¼‰ï¼Œç”¨äºæ­£ç¡®æ‹¼æ¥é¢„è§ˆåœ°å€</span>
 Â <span class="hljs-keyword">const</span> publicPath = config.<span class="hljs-property">publicPath</span>
â€‹
 Â <span class="hljs-comment">// å¯¼å…¥connectæ¡†æ¶ï¼Œç”¨äºåˆ›å»ºæœ¬åœ°æœåŠ¡å™¨</span>
 Â <span class="hljs-keyword">var</span> connect = <span class="hljs-built_in">require</span>(<span class="hljs-string">'connect'</span>)
 Â <span class="hljs-comment">// å¯¼å…¥serve-staticä¸­é—´ä»¶ï¼Œç”¨äºæ‰˜ç®¡é™æ€æ–‡ä»¶</span>
 Â <span class="hljs-keyword">var</span> serveStatic = <span class="hljs-built_in">require</span>(<span class="hljs-string">'serve-static'</span>)
 Â <span class="hljs-comment">// åˆ›å»ºconnectæœåŠ¡å™¨å®ä¾‹</span>
 Â <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">connect</span>()
â€‹
 Â <span class="hljs-comment">// é…ç½®æœåŠ¡å™¨ï¼š</span>
 Â <span class="hljs-comment">// 1. ä»¥vueé…ç½®çš„publicPathä¸ºåŸºç¡€è·¯å¾„</span>
 Â <span class="hljs-comment">// 2. æ‰˜ç®¡å½“å‰ç›®å½•ä¸‹çš„distæ–‡ä»¶å¤¹ï¼ˆæ‰“åŒ…åçš„é™æ€æ–‡ä»¶ï¼‰</span>
 Â <span class="hljs-comment">// 3. è®¾ç½®é»˜è®¤é¦–é¡µä¸ºindex.html</span>
 Â app.<span class="hljs-title function_">use</span>(
 Â  Â publicPath,
 Â  Â <span class="hljs-title function_">serveStatic</span>(<span class="hljs-string">'./dist'</span>, {
 Â  Â  Â <span class="hljs-attr">index</span>: [<span class="hljs-string">'index.html'</span>, <span class="hljs-string">'/'</span>]
 Â   })
  )
â€‹
 Â <span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨ï¼Œç›‘å¬æŒ‡å®šç«¯å£</span>
 Â app.<span class="hljs-title function_">listen</span>(port, <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
 Â  Â <span class="hljs-comment">// åœ¨ç»ˆç«¯è¾“å‡ºç»¿è‰²çš„é¢„è§ˆåœ°å€ï¼Œæ–¹ä¾¿å¼€å‘è€…ç›´æ¥è®¿é—®</span>
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(chalk.<span class="hljs-title function_">green</span>(<span class="hljs-string">`&gt; Preview at Â http://localhost:<span class="hljs-subst">${port}</span><span class="hljs-subst">${publicPath}</span>`</span>))
 Â  Â <span class="hljs-comment">// å¦‚æœéœ€è¦ç”ŸæˆæŠ¥å‘Šï¼Œé¢å¤–è¾“å‡ºæŠ¥å‘Šçš„è®¿é—®åœ°å€</span>
 Â  Â <span class="hljs-keyword">if</span> (report) {
 Â  Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(chalk.<span class="hljs-title function_">green</span>(<span class="hljs-string">`&gt; Report at Â http://localhost:<span class="hljs-subst">${port}</span><span class="hljs-subst">${publicPath}</span>report.html`</span>))
 Â   }
  })
} <span class="hljs-keyword">else</span> {
 Â <span class="hljs-comment">// å¦‚æœä¸éœ€è¦é¢„è§ˆï¼Œä»…æ‰§è¡Œæ‰“åŒ…å‘½ä»¤ï¼ˆä¸npm run buildæ•ˆæœç›¸åŒï¼‰</span>
 Â <span class="hljs-title function_">run</span>(<span class="hljs-string">`vue-cli-service build <span class="hljs-subst">${args}</span>`</span>)
}
â€‹
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‹¥ä¾å‰ç«¯vue é¡¹ç›® é‡Œé¢dragWidth.js æ–‡ä»¶è¯¦è§£]]></title>    <link>https://juejin.cn/post/7597742970281492532</link>    <guid>https://juejin.cn/post/7597742970281492532</guid>    <pubDate>2026-01-22T07:19:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597742970281492532" data-draft-id="7597779410406375458" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‹¥ä¾å‰ç«¯vue é¡¹ç›®  é‡Œé¢dragWidth.js æ–‡ä»¶è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-22T07:19:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€å†™ä»£ç å°±å¼€å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/2889993082908344"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‹¥ä¾å‰ç«¯vue é¡¹ç›®  é‡Œé¢dragWidth.js æ–‡ä»¶è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2889993082908344/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€å†™ä»£ç å°±å¼€å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:19:40.000Z" title="Thu Jan 22 2026 07:19:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»¥ä¸‹æ˜¯åŸºäºè¯¥æŒ‡ä»¤æ ¸å¿ƒé€»è¾‘æ‰©å±•çš„3ä¸ªå®ç”¨æ¡ˆä¾‹ï¼Œè¦†ç›–ä¸åŒåœºæ™¯ï¼Œé™„å¸¦å®Œæ•´ä»£ç å’Œä½¿ç”¨è¯´æ˜ï¼š</p>
<p>å®Œæ•´ç¬”è®°ç›´æ¥ä¸»é¡µè”ç³»ï¼Œæˆ–è€…Bç«™æœ‰å®Œæ•´è§†é¢‘</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8fdfe71caecb45fa858fe0f7b05e62ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5YaZ5Luj56CB5bCx5byA5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671180&amp;x-signature=MloYm5nM1IrpqXeETa85g0avqLQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-0"><strong>æ¡ˆä¾‹1ï¼šå·¦å³åˆ†æ è”åŠ¨è°ƒæ•´ï¼ˆé€‚ç”¨äºç¼–è¾‘å™¨ã€åå°å¸ƒå±€ï¼‰</strong></h3>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨å·¦å³åˆ†æ å¸ƒå±€ä¸­ï¼ˆå¦‚å·¦ä¾§èœå•+å³ä¾§å†…å®¹ã€ç¼–è¾‘åŒº+é¢„è§ˆåŒºï¼‰ï¼Œæ‹–æ‹½ä¸­é—´æ‰‹æŸ„åŒæ—¶è°ƒæ•´ä¸¤ä¾§å®½åº¦ï¼Œä¿æŒæ€»å®½åº¦ä¸å˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70b2d8c6dee142d381467f81e7697a3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5YaZ5Luj56CB5bCx5byA5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671180&amp;x-signature=4G%2Be9xb9ZSJKxrcOL15HQ1CM1a0%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-1">æŒ‡ä»¤ä»£ç ï¼ˆ<code>directive/columnResize.js</code>ï¼‰</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ad119726adf4efeb7261b343fa4547e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5YaZ5Luj56CB5bCx5byA5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671180&amp;x-signature=t5fyVK8V60BhU%2FejiL7sqeIiqwY%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-ini" lang="ini">
export default {
 Â bind(el) {
 Â  Â // æŸ¥æ‰¾å·¦å³åˆ†æ å…ƒç´ ï¼ˆéœ€åœ¨æ¨¡æ¿ä¸­å®šä¹‰å¯¹åº”ç±»åï¼‰
 Â  Â const <span class="hljs-attr">leftDom</span> = el.querySelector(<span class="hljs-string">'.left-column'</span>)<span class="hljs-comment">;</span>
 Â  Â const <span class="hljs-attr">rightDom</span> = el.querySelector(<span class="hljs-string">'.right-column'</span>)<span class="hljs-comment">;</span>
 Â  Â if (!leftDom || !rightDom) {
 Â  Â  Â console.error('æœªæ‰¾åˆ°å·¦å³åˆ†æ å…ƒç´ ï¼Œè¯·æ·»åŠ  .left-column å’Œ .right-column ç±»å')<span class="hljs-comment">;</span>
 Â  Â  Â return<span class="hljs-comment">;</span>
 Â   }
â€‹
 Â  Â // è·å–çˆ¶å®¹å™¨æ€»å®½åº¦ï¼ˆå·¦å³åˆ†æ æ€»å®½ = çˆ¶å®¹å™¨å®½ï¼‰
 Â  Â const <span class="hljs-attr">parentWidth</span> = el.<span class="hljs-literal">off</span>setWidth<span class="hljs-comment">;</span>
â€‹
 Â  Â // åˆ›å»ºä¸­é—´æ‹–æ‹½æ‰‹æŸ„
 Â  Â const <span class="hljs-attr">lineEl</span> = document.createElement(<span class="hljs-string">'div'</span>)<span class="hljs-comment">;</span>
 Â  Â <span class="hljs-attr">lineEl.style</span> = `
 Â  Â  Â width: 5px<span class="hljs-comment">; </span>
 Â  Â  Â height: 100%<span class="hljs-comment">; </span>
 Â  Â  Â background: <span class="hljs-comment">#e0e0e0; </span>
 Â  Â  Â position: absolute<span class="hljs-comment">; </span>
 Â  Â  Â left: ${leftDom.offsetWidth}px<span class="hljs-comment">; /* åˆå§‹ä½ç½®åœ¨å·¦æ å³ä¾§ */</span>
 Â  Â  Â top: 0<span class="hljs-comment">; </span>
 Â  Â  Â z-index: 10<span class="hljs-comment">; </span>
 Â  Â  Â cursor: col-resize<span class="hljs-comment">; /* æ°´å¹³è°ƒæ•´å…‰æ ‡ */</span>
 Â  Â  Â transition: background 0.2s<span class="hljs-comment">;</span>
 Â  Â `<span class="hljs-comment">;</span>
 Â  Â // é¼ æ ‡æ‚¬åœæ—¶é«˜äº®æ‰‹æŸ„
 Â  Â <span class="hljs-attr">lineEl.onmouseover</span> = () =&gt; lineEl.style.background = <span class="hljs-string">'#ccc'</span><span class="hljs-comment">;</span>
 Â  Â <span class="hljs-attr">lineEl.onmouseout</span> = () =&gt; lineEl.style.background = <span class="hljs-string">'#e0e0e0'</span><span class="hljs-comment">;</span>
â€‹
 Â  Â // ç»‘å®šé¼ æ ‡æŒ‰ä¸‹äº‹ä»¶
 Â  Â lineEl.addEventListener('mousedown', (e) =&gt; {
 Â  Â  Â e.preventDefault()<span class="hljs-comment">;</span>
 Â  Â  Â // è®°å½•é¼ æ ‡æŒ‰ä¸‹æ—¶çš„Xåæ ‡å’Œå·¦æ å®½åº¦
 Â  Â  Â const <span class="hljs-attr">startX</span> = e.clientX<span class="hljs-comment">;</span>
 Â  Â  Â const <span class="hljs-attr">startLeftWidth</span> = leftDom.<span class="hljs-literal">off</span>setWidth<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â // é¼ æ ‡ç§»åŠ¨æ—¶è°ƒæ•´å®½åº¦
 Â  Â  Â const <span class="hljs-attr">handleMouseMove</span> = (e) =&gt; {
 Â  Â  Â  Â e.preventDefault()<span class="hljs-comment">;</span>
 Â  Â  Â  Â // è®¡ç®—å·¦æ å®½åº¦å˜åŒ–é‡ï¼ˆé™åˆ¶æœ€å°å®½åº¦ä¸º200pxï¼Œæœ€å¤§ä¸ºçˆ¶å®¹å™¨çš„80%ï¼‰
 Â  Â  Â  Â const <span class="hljs-attr">deltaX</span> = e.clientX - startX<span class="hljs-comment">;</span>
 Â  Â  Â  Â const <span class="hljs-attr">newLeftWidth</span> = Math.max(<span class="hljs-number">200</span>, Math.min(parentWidth * <span class="hljs-number">0.8</span>, startLeftWidth + deltaX))<span class="hljs-comment">;</span>
 Â  Â  Â  Â const <span class="hljs-attr">newRightWidth</span> = parentWidth - newLeftWidth<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â  Â // æ›´æ–°å·¦å³åˆ†æ å®½åº¦å’Œæ‰‹æŸ„ä½ç½®
 Â  Â  Â  Â <span class="hljs-attr">leftDom.style.width</span> = `<span class="hljs-variable">${newLeftWidth}</span>px`<span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">rightDom.style.width</span> = `<span class="hljs-variable">${newRightWidth}</span>px`<span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">lineEl.style.left</span> = `<span class="hljs-variable">${newLeftWidth}</span>px`<span class="hljs-comment">;</span>
 Â  Â   }<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â // é¼ æ ‡æ¾å¼€æ—¶ç§»é™¤äº‹ä»¶
 Â  Â  Â const <span class="hljs-attr">handleMouseUp</span> = () =&gt; {
 Â  Â  Â  Â document.removeEventListener('mousemove', handleMouseMove)<span class="hljs-comment">;</span>
 Â  Â  Â  Â document.removeEventListener('mouseup', handleMouseUp)<span class="hljs-comment">;</span>
 Â  Â   }<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â // ç»‘å®šå…¨å±€äº‹ä»¶ï¼ˆç¡®ä¿æ‹–æ‹½ä¸ä¸­æ–­ï¼‰
 Â  Â  Â document.addEventListener('mousemove', handleMouseMove)<span class="hljs-comment">;</span>
 Â  Â  Â document.addEventListener('mouseup', handleMouseUp)<span class="hljs-comment">;</span>
 Â   }, false)<span class="hljs-comment">;</span>
â€‹
 Â  Â // å°†æ‰‹æŸ„æ·»åŠ åˆ°çˆ¶å®¹å™¨
 Â  Â el.appendChild(lineEl)<span class="hljs-comment">;</span>
  }
}<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-2">ä½¿ç”¨ç¤ºä¾‹ï¼ˆ<code>ColumnDemo.vue</code>ï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-comment">&lt;!-- çˆ¶å®¹å™¨ï¼šç›¸å¯¹å®šä½ï¼ŒåŒ…å«å·¦å³åˆ†æ  --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"column-container"</span> <span class="hljs-attr">v-columnResize</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- å·¦åˆ†æ  --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"left-column"</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å·¦ä¾§èœå•<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ‹–æ‹½ä¸­é—´æ‰‹æŸ„å¯è°ƒæ•´å®½åº¦<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- å³åˆ†æ  --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"right-column"</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å³ä¾§å†…å®¹åŒº<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ€»å®½åº¦å›ºå®šï¼Œå·¦ä¾§å˜å®½æ—¶å³ä¾§è‡ªåŠ¨å˜çª„<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.column-container</span> {
 Â <span class="hljs-attribute">position</span>: relative;
 Â <span class="hljs-attribute">width</span>: <span class="hljs-number">1000px</span>;
 Â <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;
 Â <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> auto;
 Â <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;
}
<span class="hljs-selector-class">.left-column</span> {
 Â <span class="hljs-attribute">float</span>: left;
 Â <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>; <span class="hljs-comment">/* åˆå§‹å®½åº¦ */</span>
 Â <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
 Â <span class="hljs-attribute">background</span>: <span class="hljs-number">#f5f5f5</span>;
 Â <span class="hljs-attribute">box-sizing</span>: border-box;
 Â <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
}
<span class="hljs-selector-class">.right-column</span> {
 Â <span class="hljs-attribute">float</span>: left;
 Â <span class="hljs-attribute">width</span>: <span class="hljs-number">700px</span>; <span class="hljs-comment">/* åˆå§‹å®½åº¦ = æ€»å®½ - å·¦æ å®½ */</span>
 Â <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
 Â <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;
 Â <span class="hljs-attribute">box-sizing</span>: border-box;
 Â <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> columnResize <span class="hljs-keyword">from</span> <span class="hljs-string">'@/directive/columnResize.js'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">directives</span>: {
 Â  Â columnResize <span class="hljs-comment">// å±€éƒ¨æ³¨å†ŒæŒ‡ä»¤</span>
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šæ‹–æ‹½ä¸­é—´ç°è‰²æ‰‹æŸ„ï¼Œå·¦ä¾§å®½åº¦å¢åŠ æ—¶å³ä¾§è‡ªåŠ¨å‡å°‘ï¼Œä¸”ä¸¤ä¾§å®½åº¦ä¸ä¼šå°äº200pxæˆ–è¶…è¿‡æ€»å®½çš„80%ã€‚</p>
<h3 data-id="heading-3"><strong>æ¡ˆä¾‹2ï¼šè¡¨æ ¼å®¹å™¨é«˜åº¦è°ƒæ•´ï¼ˆè§£å†³è¡¨æ ¼å†…å®¹è¿‡å¤šé—®é¢˜ï¼‰</strong></h3>
<p><strong>åœºæ™¯</strong>ï¼šè¡¨æ ¼æ•°æ®è¿‡å¤šæ—¶ï¼Œç”¨æˆ·å¯æ‹–æ‹½è¡¨æ ¼åº•éƒ¨æ‰‹æŸ„è°ƒæ•´å®¹å™¨é«˜åº¦ï¼Œé¿å…é¢‘ç¹æ»šåŠ¨ã€‚</p>
<h4 data-id="heading-4">æŒ‡ä»¤ä»£ç ï¼ˆ<code>directive/tableHeightResize.js</code>ï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">
export default {
 Â bind(el) {
 Â  Â // æŸ¥æ‰¾è¡¨æ ¼å®¹å™¨ï¼ˆéœ€åœ¨æ¨¡æ¿ä¸­å®šä¹‰ .table-container ç±»åï¼‰
 Â  Â const <span class="hljs-attr">tableContainer</span> = el.querySelector(<span class="hljs-string">'.table-container'</span>)<span class="hljs-comment">;</span>
 Â  Â if (!tableContainer) {
 Â  Â  Â console.error('æœªæ‰¾åˆ°è¡¨æ ¼å®¹å™¨ï¼Œè¯·æ·»åŠ  .table-container ç±»å')<span class="hljs-comment">;</span>
 Â  Â  Â return<span class="hljs-comment">;</span>
 Â   }
â€‹
 Â  Â // åˆ›å»ºåº•éƒ¨æ‹–æ‹½æ‰‹æŸ„
 Â  Â const <span class="hljs-attr">lineEl</span> = document.createElement(<span class="hljs-string">'div'</span>)<span class="hljs-comment">;</span>
 Â  Â <span class="hljs-attr">lineEl.style</span> = `
 Â  Â  Â height: 5px<span class="hljs-comment">; </span>
 Â  Â  Â width: 100%<span class="hljs-comment">; </span>
 Â  Â  Â background: <span class="hljs-comment">#f0f0f0; </span>
 Â  Â  Â position: absolute<span class="hljs-comment">; </span>
 Â  Â  Â bottom: 0<span class="hljs-comment">; </span>
 Â  Â  Â left: 0<span class="hljs-comment">; </span>
 Â  Â  Â cursor: s-resize<span class="hljs-comment">; /* å‚ç›´è°ƒæ•´å…‰æ ‡ */</span>
 Â  Â `<span class="hljs-comment">;</span>
 Â  Â // é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæ·±è‰²æç¤º
 Â  Â <span class="hljs-attr">lineEl.onmouseover</span> = () =&gt; lineEl.style.background = <span class="hljs-string">'#e0e0e0'</span><span class="hljs-comment">;</span>
 Â  Â <span class="hljs-attr">lineEl.onmouseout</span> = () =&gt; lineEl.style.background = <span class="hljs-string">'#f0f0f0'</span><span class="hljs-comment">;</span>
â€‹
 Â  Â // ç»‘å®šé¼ æ ‡æŒ‰ä¸‹äº‹ä»¶
 Â  Â lineEl.addEventListener('mousedown', (e) =&gt; {
 Â  Â  Â e.preventDefault()<span class="hljs-comment">;</span>
 Â  Â  Â // è®°å½•é¼ æ ‡æŒ‰ä¸‹æ—¶çš„Yåæ ‡å’Œå®¹å™¨å½“å‰é«˜åº¦
 Â  Â  Â const <span class="hljs-attr">startY</span> = e.clientY<span class="hljs-comment">;</span>
 Â  Â  Â const <span class="hljs-attr">startHeight</span> = tableContainer.<span class="hljs-literal">off</span>setHeight<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â // é¼ æ ‡ç§»åŠ¨æ—¶è°ƒæ•´é«˜åº¦
 Â  Â  Â const <span class="hljs-attr">handleMouseMove</span> = (e) =&gt; {
 Â  Â  Â  Â e.preventDefault()<span class="hljs-comment">;</span>
 Â  Â  Â  Â // è®¡ç®—é«˜åº¦å˜åŒ–é‡ï¼ˆé™åˆ¶æœ€å°é«˜åº¦300pxï¼Œæœ€å¤§800pxï¼‰
 Â  Â  Â  Â const <span class="hljs-attr">deltaY</span> = e.clientY - startY<span class="hljs-comment">;</span>
 Â  Â  Â  Â const <span class="hljs-attr">newHeight</span> = Math.max(<span class="hljs-number">300</span>, Math.min(<span class="hljs-number">800</span>, startHeight + deltaY))<span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">tableContainer.style.height</span> = `<span class="hljs-variable">${newHeight}</span>px`<span class="hljs-comment">;</span>
 Â  Â   }<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â // é¼ æ ‡æ¾å¼€æ—¶ç§»é™¤äº‹ä»¶
 Â  Â  Â const <span class="hljs-attr">handleMouseUp</span> = () =&gt; {
 Â  Â  Â  Â document.removeEventListener('mousemove', handleMouseMove)<span class="hljs-comment">;</span>
 Â  Â  Â  Â document.removeEventListener('mouseup', handleMouseUp)<span class="hljs-comment">;</span>
 Â  Â   }<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â // ç»‘å®šå…¨å±€äº‹ä»¶
 Â  Â  Â document.addEventListener('mousemove', handleMouseMove)<span class="hljs-comment">;</span>
 Â  Â  Â document.addEventListener('mouseup', handleMouseUp)<span class="hljs-comment">;</span>
 Â   }, false)<span class="hljs-comment">;</span>
â€‹
 Â  Â // å°†æ‰‹æŸ„æ·»åŠ åˆ°è¡¨æ ¼å®¹å™¨ï¼ˆå®¹å™¨éœ€è®¾ä¸ºç›¸å¯¹å®šä½ï¼‰
 Â  Â tableContainer.appendChild(lineEl)<span class="hljs-comment">;</span>
  }
}<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-5">ä½¿ç”¨ç¤ºä¾‹ï¼ˆ<code>TableDemo.vue</code>ï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"table-page"</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å¯è°ƒæ•´é«˜åº¦çš„è¡¨æ ¼<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- è¡¨æ ¼å®¹å™¨ï¼šç›¸å¯¹å®šä½ï¼Œæº¢å‡ºæ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡ --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"table-container"</span> <span class="hljs-attr">v-tableHeightResize</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">border</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">cellpadding</span>=<span class="hljs-string">"10"</span>&gt;</span>
 Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
 Â  Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>åç§°<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>çŠ¶æ€<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
 Â  Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
 Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
 Â  Â  Â  Â  Â <span class="hljs-comment">&lt;!-- æ¨¡æ‹Ÿ100è¡Œæ•°æ® --&gt;</span>
 Â  Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"i in 100"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"i"</span>&gt;</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ i }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®é¡¹ {{ i }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
 Â  Â  Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ­£å¸¸<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
 Â  Â  Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
 Â  Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.table-page</span> {
 Â <span class="hljs-attribute">width</span>: <span class="hljs-number">800px</span>;
 Â <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> auto;
}
<span class="hljs-selector-class">.table-container</span> {
 Â <span class="hljs-attribute">position</span>: relative; <span class="hljs-comment">/* ç¡®ä¿æ‰‹æŸ„ç»å¯¹å®šä½ç”Ÿæ•ˆ */</span>
 Â <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>; <span class="hljs-comment">/* åˆå§‹é«˜åº¦ */</span>
 Â <span class="hljs-attribute">overflow</span>: auto; <span class="hljs-comment">/* å†…å®¹è¶…å‡ºæ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡ */</span>
 Â <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> tableHeightResize <span class="hljs-keyword">from</span> <span class="hljs-string">'@/directive/tableHeightResize.js'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">directives</span>: {
 Â  Â tableHeightResize
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šæ‹–æ‹½è¡¨æ ¼åº•éƒ¨ç°è‰²æ‰‹æŸ„ï¼Œå¯ä¸Šä¸‹è°ƒæ•´å®¹å™¨é«˜åº¦ï¼ˆ300px~800pxï¼‰ï¼Œå†…å®¹è¶…å‡ºæ—¶è‡ªåŠ¨æ˜¾ç¤ºæ»šåŠ¨æ¡ã€‚</p>
<h3 data-id="heading-6"><strong>æ¡ˆä¾‹3ï¼šå›¾ç‰‡é€æ˜åº¦è°ƒæ•´ï¼ˆå¯è§†åŒ–äº¤äº’ï¼‰</strong></h3>
<p><strong>åœºæ™¯</strong>ï¼šå›¾ç‰‡é¢„è§ˆé¡µé¢ä¸­ï¼Œç”¨æˆ·å¯é€šè¿‡æ‹–æ‹½æ»‘å—ç›´è§‚è°ƒæ•´å›¾ç‰‡é€æ˜åº¦ã€‚</p>
<h4 data-id="heading-7">æŒ‡ä»¤ä»£ç ï¼ˆ<code>directive/imgOpacityResize.js</code>ï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">
export default {
 Â bind(el) {
 Â  Â // æŸ¥æ‰¾å›¾ç‰‡å’Œæ§åˆ¶åŒºï¼ˆéœ€åœ¨æ¨¡æ¿ä¸­å®šä¹‰å¯¹åº”ç±»åï¼‰
 Â  Â const <span class="hljs-attr">imgDom</span> = el.querySelector(<span class="hljs-string">'.target-img'</span>)<span class="hljs-comment">;</span>
 Â  Â const <span class="hljs-attr">controlDom</span> = el.querySelector(<span class="hljs-string">'.opacity-controls'</span>)<span class="hljs-comment">;</span>
 Â  Â if (!imgDom || !controlDom) {
 Â  Â  Â console.error('æœªæ‰¾åˆ°å›¾ç‰‡æˆ–æ§åˆ¶åŒºï¼Œè¯·æ·»åŠ  .target-img å’Œ .opacity-controls ç±»å')<span class="hljs-comment">;</span>
 Â  Â  Â return<span class="hljs-comment">;</span>
 Â   }
â€‹
 Â  Â // åˆ›å»ºé€æ˜åº¦æ»‘å—å®¹å™¨
 Â  Â const <span class="hljs-attr">sliderContainer</span> = document.createElement(<span class="hljs-string">'div'</span>)<span class="hljs-comment">;</span>
 Â  Â <span class="hljs-attr">sliderContainer.style</span> = `
 Â  Â  Â width: 200px<span class="hljs-comment">; </span>
 Â  Â  Â height: 6px<span class="hljs-comment">; </span>
 Â  Â  Â background: linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1))<span class="hljs-comment">; </span>
 Â  Â  Â margin: 10px 0<span class="hljs-comment">; </span>
 Â  Â  Â position: relative<span class="hljs-comment">;</span>
 Â  Â  Â border-radius: 3px<span class="hljs-comment">;</span>
 Â  Â `<span class="hljs-comment">;</span>
â€‹
 Â  Â // åˆ›å»ºæ»‘å—æŒ‰é’®
 Â  Â const <span class="hljs-attr">sliderBtn</span> = document.createElement(<span class="hljs-string">'div'</span>)<span class="hljs-comment">;</span>
 Â  Â <span class="hljs-attr">sliderBtn.style</span> = `
 Â  Â  Â width: 16px<span class="hljs-comment">; </span>
 Â  Â  Â height: 16px<span class="hljs-comment">; </span>
 Â  Â  Â background: <span class="hljs-comment">#409eff; </span>
 Â  Â  Â border-radius: 50%<span class="hljs-comment">; </span>
 Â  Â  Â position: absolute<span class="hljs-comment">; </span>
 Â  Â  Â top: 50%<span class="hljs-comment">; </span>
 Â  Â  Â left: 50%<span class="hljs-comment">; /* åˆå§‹åœ¨ä¸­é—´ï¼ˆé€æ˜åº¦0.5ï¼‰ */</span>
 Â  Â  Â transform: translate(-50%, -50%)<span class="hljs-comment">; </span>
 Â  Â  Â box-shadow: 0 0 3px rgba(0,0,0,0.3)<span class="hljs-comment">;</span>
 Â  Â  Â cursor: pointer<span class="hljs-comment">;</span>
 Â  Â `<span class="hljs-comment">;</span>
 Â  Â sliderContainer.appendChild(sliderBtn)<span class="hljs-comment">;</span>
â€‹
 Â  Â // æ˜¾ç¤ºå½“å‰é€æ˜åº¦å€¼
 Â  Â const <span class="hljs-attr">valueText</span> = document.createElement(<span class="hljs-string">'span'</span>)<span class="hljs-comment">;</span>
 Â  Â <span class="hljs-attr">valueText.style</span> = <span class="hljs-string">'margin-left: 10px; color: #666;'</span><span class="hljs-comment">;</span>
 Â  Â <span class="hljs-attr">valueText.textContent</span> = <span class="hljs-string">'é€æ˜åº¦ï¼š50%'</span><span class="hljs-comment">;</span>
â€‹
 Â  Â // ç»„åˆæ§åˆ¶åŒº
 Â  Â controlDom.appendChild(sliderContainer)<span class="hljs-comment">;</span>
 Â  Â controlDom.appendChild(valueText)<span class="hljs-comment">;</span>
â€‹
 Â  Â // ç»‘å®šé¼ æ ‡æŒ‰ä¸‹äº‹ä»¶
 Â  Â sliderBtn.addEventListener('mousedown', (e) =&gt; {
 Â  Â  Â e.preventDefault()<span class="hljs-comment">;</span>
 Â  Â  Â const <span class="hljs-attr">sliderWidth</span> = sliderContainer.<span class="hljs-literal">off</span>setWidth<span class="hljs-comment">;</span>
 Â  Â  Â const <span class="hljs-attr">btnWidth</span> = sliderBtn.<span class="hljs-literal">off</span>setWidth<span class="hljs-comment">;</span>
 Â  Â  Â // è®¡ç®—æ»‘å—å¯ç§»åŠ¨çš„æœ€å¤§èŒƒå›´ï¼ˆå®¹å™¨å®½ - æŒ‰é’®å®½ï¼‰
 Â  Â  Â const <span class="hljs-attr">maxLeft</span> = sliderWidth - btnWidth<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â // é¼ æ ‡ç§»åŠ¨æ—¶è°ƒæ•´æ»‘å—ä½ç½®å’Œé€æ˜åº¦
 Â  Â  Â const <span class="hljs-attr">handleMouseMove</span> = (e) =&gt; {
 Â  Â  Â  Â e.preventDefault()<span class="hljs-comment">;</span>
 Â  Â  Â  Â // è®¡ç®—æ»‘å—ç›¸å¯¹å®¹å™¨çš„leftå€¼ï¼ˆé™åˆ¶åœ¨0~maxLeftä¹‹é—´ï¼‰
 Â  Â  Â  Â const <span class="hljs-attr">sliderRect</span> = sliderContainer.getBoundingClientRect()<span class="hljs-comment">;</span>
 Â  Â  Â  Â let <span class="hljs-attr">left</span> = e.clientX - sliderRect.left - btnWidth / <span class="hljs-number">2</span><span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">left</span> = Math.max(<span class="hljs-number">0</span>, Math.min(maxLeft, left))<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â  Â // æ›´æ–°æ»‘å—ä½ç½®
 Â  Â  Â  Â <span class="hljs-attr">sliderBtn.style.left</span> = `<span class="hljs-variable">${left}</span>px`<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â  Â // è®¡ç®—é€æ˜åº¦ï¼ˆ0~1ï¼‰å¹¶åº”ç”¨åˆ°å›¾ç‰‡
 Â  Â  Â  Â const <span class="hljs-attr">opacity</span> = left / maxLeft<span class="hljs-comment">;</span>
 Â  Â  Â  Â <span class="hljs-attr">imgDom.style.opacity</span> = opacity<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â  Â // æ›´æ–°æ˜¾ç¤ºæ–‡æœ¬
 Â  Â  Â  Â <span class="hljs-attr">valueText.textContent</span> = `é€æ˜åº¦ï¼š<span class="hljs-variable">${Math.round(opacity * 100)}</span>%`<span class="hljs-comment">;</span>
 Â  Â   }<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â // é¼ æ ‡æ¾å¼€æ—¶ç§»é™¤äº‹ä»¶
 Â  Â  Â const <span class="hljs-attr">handleMouseUp</span> = () =&gt; {
 Â  Â  Â  Â document.removeEventListener('mousemove', handleMouseMove)<span class="hljs-comment">;</span>
 Â  Â  Â  Â document.removeEventListener('mouseup', handleMouseUp)<span class="hljs-comment">;</span>
 Â  Â   }<span class="hljs-comment">;</span>
â€‹
 Â  Â  Â // ç»‘å®šå…¨å±€äº‹ä»¶
 Â  Â  Â document.addEventListener('mousemove', handleMouseMove)<span class="hljs-comment">;</span>
 Â  Â  Â document.addEventListener('mouseup', handleMouseUp)<span class="hljs-comment">;</span>
 Â   }, false)<span class="hljs-comment">;</span>
  }
}<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-8">ä½¿ç”¨ç¤ºä¾‹ï¼ˆ<code>ImageDemo.vue</code>ï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"image-container"</span> <span class="hljs-attr">v-imgOpacityResize</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å›¾ç‰‡é€æ˜åº¦è°ƒæ•´<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- å›¾ç‰‡å…ƒç´  --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
 Â  Â  Â <span class="hljs-attr">class</span>=<span class="hljs-string">"target-img"</span> 
 Â  Â  Â <span class="hljs-attr">src</span>=<span class="hljs-string">"https://picsum.photos/800/400"</span> 
 Â  Â  Â <span class="hljs-attr">alt</span>=<span class="hljs-string">"ç¤ºä¾‹å›¾ç‰‡"</span>
 Â  Â &gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- æ§åˆ¶åŒºï¼ˆæ»‘å—ä¼šè¢«æ’å…¥åˆ°è¿™é‡Œï¼‰ --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"opacity-controls"</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ‹–åŠ¨æ»‘å—è°ƒæ•´é€æ˜åº¦ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.image-container</span> {
 Â <span class="hljs-attribute">width</span>: <span class="hljs-number">800px</span>;
 Â <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> auto;
 Â <span class="hljs-attribute">text-align</span>: center;
}
<span class="hljs-selector-class">.target-img</span> {
 Â <span class="hljs-attribute">max-width</span>: <span class="hljs-number">100%</span>;
 Â <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;
 Â <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.5</span>; <span class="hljs-comment">/* åˆå§‹é€æ˜åº¦ */</span>
}
<span class="hljs-selector-class">.opacity-controls</span> {
 Â <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> imgOpacityResize <span class="hljs-keyword">from</span> <span class="hljs-string">'@/directive/imgOpacityResize.js'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">directives</span>: {
 Â  Â imgOpacityResize
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šæ‹–æ‹½æ»‘å—æ—¶ï¼Œå›¾ç‰‡é€æ˜åº¦éšæ»‘å—ä½ç½®å˜åŒ–ï¼ˆå·¦â†’å³ï¼šé€æ˜â†’ä¸é€æ˜ï¼‰ï¼ŒåŒæ—¶æ˜¾ç¤ºå½“å‰é€æ˜åº¦ç™¾åˆ†æ¯”ã€‚</p>
<h3 data-id="heading-9">æ‰©å±•é€»è¾‘æ€»ç»“</h3>
<p>è¿™ä¸‰ä¸ªæ¡ˆä¾‹å‡åŸºäºåŸæŒ‡ä»¤çš„æ ¸å¿ƒé€»è¾‘ï¼ˆ<strong>æ‰‹æŸ„+é¼ æ ‡äº‹ä»¶+æ ·å¼ä¿®æ”¹</strong>ï¼‰ï¼Œé€šè¿‡ä»¥ä¸‹è°ƒæ•´å®ç°ä¸åŒåŠŸèƒ½ï¼š</p>
<ol start="0">
<li><strong>æ‰‹æŸ„ä½ç½®/æ ·å¼</strong>ï¼šä»å¼¹çª—å³ä¾§â†’åˆ†æ ä¸­é—´â†’è¡¨æ ¼åº•éƒ¨â†’å›¾ç‰‡æ§åˆ¶åŒºï¼Œæ ·å¼é€‚é…åœºæ™¯ï¼ˆå‚ç›´æ¡â†’æ°´å¹³æ¡â†’æ»‘å—ï¼‰ã€‚</li>
<li><strong>ç›®æ ‡å…ƒç´ </strong>ï¼šä»å¼¹çª—â†’åˆ†æ å®¹å™¨â†’è¡¨æ ¼å®¹å™¨â†’å›¾ç‰‡ï¼Œåªè¦èƒ½é€šè¿‡ç±»åæŸ¥æ‰¾å³å¯æ‰©å±•ã€‚</li>
<li><strong>ä¿®æ”¹çš„æ ·å¼å±æ€§</strong>ï¼šä» <code>width</code>â†’<code>width</code>ï¼ˆè”åŠ¨ï¼‰â†’<code>height</code>â†’<code>opacity</code>ï¼Œè¦†ç›–å°ºå¯¸å’Œéå°ºå¯¸è°ƒæ•´ã€‚</li>
</ol>
<p>æ ¹æ®å®é™…éœ€æ±‚ï¼Œè¿˜å¯è¿›ä¸€æ­¥æ‰©å±•ï¼ˆå¦‚è°ƒæ•´å­—ä½“å¤§å°ã€è¾¹æ¡†ç²—ç»†ç­‰ï¼‰ï¼Œæ ¸å¿ƒæ˜¯ä¿æŒâ€œç”¨æˆ·äº¤äº’â†’äº‹ä»¶ç›‘å¬â†’æ ·å¼æ›´æ–°â€çš„é€»è¾‘é“¾ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€æ¡ˆä¾‹ã€‘æ•™è‚²è¡Œä¸šAPPé›†æˆå°ç¨‹åºï¼Œ40%å…¬åŸŸæµé‡è½¬åŒ–ä¸ºç§åŸŸç”¨æˆ·ï¼]]></title>    <link>https://juejin.cn/post/7597900782911569939</link>    <guid>https://juejin.cn/post/7597900782911569939</guid>    <pubDate>2026-01-22T07:31:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597900782911569939" data-draft-id="7597811700285079571" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æ¡ˆä¾‹ã€‘æ•™è‚²è¡Œä¸šAPPé›†æˆå°ç¨‹åºï¼Œ40%å…¬åŸŸæµé‡è½¬åŒ–ä¸ºç§åŸŸç”¨æˆ·ï¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-22T07:31:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="FinClip"/> <meta itemprop="url" content="https://juejin.cn/user/395479918322696"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æ¡ˆä¾‹ã€‘æ•™è‚²è¡Œä¸šAPPé›†æˆå°ç¨‹åºï¼Œ40%å…¬åŸŸæµé‡è½¬åŒ–ä¸ºç§åŸŸç”¨æˆ·ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/395479918322696/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    FinClip
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:31:27.000Z" title="Thu Jan 22 2026 07:31:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æµé‡çº¢åˆ©è§é¡¶ã€è·å®¢æˆæœ¬å¢é•¿çš„å½“ä¸‹ï¼Œåœ¨çº¿æ•™è‚²è¡Œä¸šæ­£é¢ä¸´ä¸€åœºæ·±åˆ»çš„â€œå…¬ç§åŸŸè”åŠ¨â€è€ƒéªŒã€‚</p>
<p>å¦‚ä½•å°†åˆ†æ•£åœ¨å¾®ä¿¡ã€æŠ–éŸ³ã€æ”¯ä»˜å®ç­‰å…¬åŸŸå¹³å°çš„ç”¨æˆ·ï¼Œé«˜æ•ˆæ²‰æ·€ä¸ºè‡ªæœ‰Appçš„é«˜ç²˜æ€§ç”¨æˆ·ï¼Ÿ</p>
<p>å¦‚ä½•åœ¨ç¡®ä¿ç”¨æˆ·ä½“éªŒçš„åŒæ—¶ï¼Œå®ç°å¤šç«¯ä¸šåŠ¡å¿«é€Ÿä¸Šçº¿ä¸è¿­ä»£ï¼Ÿ</p>
<p>æŸå¤´éƒ¨åœ¨çº¿æ•™è‚²å“ç‰Œï¼Œåœ¨ä¸šåŠ¡é«˜é€Ÿæ‰©å¼ æœŸï¼ŒåŒæ ·é¢ä¸´â€œå…¬åŸŸæµé‡éš¾æ²‰æ·€ã€å¼€å‘å‘¨æœŸé•¿ã€ç”Ÿæ€æ‹“å±•æ…¢â€ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹ã€‚é¢å¯¹æ—¥ç›Šæ¿€çƒˆçš„å¸‚åœºç«äº‰ï¼Œè¯¥æ•™è‚²Appé€‰æ‹©ä¸å‡¡æ³°æå®¢FinClipè¶…çº§åº”ç”¨æ™ºèƒ½å¹³å°åˆä½œï¼Œä»¥å°ç¨‹åºå®¹å™¨æŠ€æœ¯ä¸ºæ ¸å¿ƒï¼Œæ„å»ºâ€œä¸€æ¬¡å¼€å‘ã€å¤šç«¯ä¸Šæ¶ã€å…¬ç§åŸŸè”åŠ¨â€çš„æ•æ·æ•°å­—åŒ–ç”Ÿæ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0c2ed2b7655435ea3faa285f10fb1e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmluQ2xpcA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671887&amp;x-signature=acia%2Fssljy8sRWZI4%2FWLblmHG7s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¸€ã€é¡¹ç›®èƒŒæ™¯ï¼šæ•™è‚²è¡Œä¸šå¦‚ä½•ç ´è§£â€œæµé‡ä¾èµ–ç—‡â€ï¼Ÿ</strong></p>
<p>è¯¥æ•™è‚²Appæ‹¥æœ‰æ•°ç™¾ä¸‡å­¦å‘˜ç”¨æˆ·ï¼Œæ ¸å¿ƒä¸šåŠ¡è¦†ç›–è€ƒç ”å…¨ç§‘è¾…å¯¼ã€‚</p>
<p>ä½†éšç€å…¬åŸŸå¹³å°æµé‡æˆæœ¬æŒç»­æ”€å‡ï¼Œä»¥åŠç”¨æˆ·å­¦ä¹ åœºæ™¯æ—¥ç›Šç¢ç‰‡åŒ–ã€ç§»åŠ¨åŒ–ï¼Œå¹³å°é¢ä¸´ä»¥ä¸‹å‘å±•ç“¶é¢ˆï¼š</p>
<p>å…¬åŸŸæµé‡è½¬åŒ–éš¾ï¼šå¤§é‡ä¼˜è´¨å†…å®¹ä¸ç”¨æˆ·äº’åŠ¨æ²‰æ·€åœ¨å¾®ä¿¡ã€æŠ–éŸ³ç­‰å¹³å°ï¼Œä½†éš¾ä»¥æœ‰æ•ˆå¼•å¯¼è‡³è‡ªæœ‰Appï¼Œå½¢æˆç§åŸŸé—­ç¯ï¼›</p>
<p>å¼€å‘è¿­ä»£å‘¨æœŸé•¿ï¼šæ–°åŠŸèƒ½ã€æ–°è¯¾ç¨‹æ¨¡å—ä¾èµ–åŸç”Ÿå¼€å‘ï¼Œä¸Šçº¿é€Ÿåº¦è·Ÿä¸ä¸Šå¸‚åœºä¸æ”¿ç­–å˜åŒ–ï¼ˆå¦‚è€ƒç ”å¤§çº²è°ƒæ•´ï¼‰ï¼›</p>
<p>å¤šç«¯ä½“éªŒä¸ç»Ÿä¸€ï¼šåŒä¸€åŠŸèƒ½éœ€é’ˆå¯¹å¾®ä¿¡ã€Appã€æ”¯ä»˜å®ç­‰å¤šç«¯é‡å¤å¼€å‘ï¼Œæˆæœ¬é«˜ä¸”ä½“éªŒå‰²è£‚ï¼›</p>
<p>ç”Ÿæ€æ‹“å±•èƒ½åŠ›å¼±ï¼šå¸Œæœ›å¼•å…¥å¤–éƒ¨å­¦ä¹ å·¥å…·ã€äº’åŠ¨ç¤¾åŒºç­‰å†…å®¹ï¼Œä½†æ¥å…¥æµç¨‹å¤æ‚ï¼Œå‘¨æœŸæ¼«é•¿ã€‚</p>
<h6 data-id="heading-0"/>
<p><strong>äºŒã€å¾®ä¿¡ç”Ÿæ€ä¸€é”®å¹³ç§»ï¼Œæ„å»ºæ•™è‚²è¶…çº§App</strong></p>
<h2 data-id="heading-1">åŸºäºFinClipå°ç¨‹åºè·¨ç«¯è¿è¡Œä¸â€œå°ç¨‹åºä¸€é”®è½¬Appâ€èƒ½åŠ›ï¼Œè¯¥æ•™è‚²Appåœ¨ä¸é‡æ„ç°æœ‰æŠ€æœ¯æ¶æ„çš„å‰æä¸‹ï¼Œå°†åŸè¿è¡Œäºå¾®ä¿¡çš„30+ä¸ªæ ¸å¿ƒå­¦ä¹ å°ç¨‹åºï¼ˆå¦‚â€œè€ƒç ”è‹±è¯­çœŸé¢˜åº“â€â€œæ”¿æ²»åˆ·é¢˜ç­â€â€œåœ¨çº¿è‡ªä¹ å®¤â€ç­‰ï¼‰ï¼Œå¿«é€Ÿã€å¹³æ»‘åœ°è¿ç§»è‡³è‡ªæœ‰Appä¸­ï¼Œå¹¶åŒæ­¥ä¸Šæ¶è‡³æ”¯ä»˜å®ã€æŠ–éŸ³ç­‰å¤šç«¯å¹³å°ã€‚</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25a919f3018d46c68bb4dc93c052e328~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmluQ2xpcA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671887&amp;x-signature=zaWDJ9T9ELOQgbj65K3DNcTDwHg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-2">â–º å…¬ç§åŸŸæµé‡æ— ç¼è¡”æ¥ï¼Œæ²‰æ·€é«˜ä»·å€¼å­¦ä¹ ç”¨æˆ·</h3>
<p>é€šè¿‡FinClipçš„å¤šç«¯åŒæ­¥ä¸Šæ¶èƒ½åŠ›ï¼Œè¯¥æ•™è‚²Appå°†å¾®ä¿¡ç”Ÿæ€ä¸­å¹¿å—æ¬¢è¿çš„â€œè€ƒç ”è‹±è¯­â€å°ç¨‹åºï¼ŒåŒæ­¥è‡³è‡ªæœ‰Appã€‚</p>
<p>è¶…40%çš„å…¬åŸŸè§‚çœ‹ç”¨æˆ·è¢«æˆåŠŸå¼•å¯¼è‡³Appå†…å®Œæˆæ·±åº¦å­¦ä¹ ä¸ä»˜è´¹è½¬åŒ–ï¼Œå…¶ä¸­â€œè€ƒç ”è‹±è¯­â€å°ç¨‹åºåœ¨Appå†…æœˆæ´»è·ƒç”¨æˆ·è¶…è¿‡10ä¸‡ï¼ŒçœŸæ­£å®ç°äº†ä»â€œæµé‡â€åˆ°â€œç•™é‡â€çš„è½¬å˜ã€‚</p>
<h3 data-id="heading-3">â–º å¼€å‘å‘¨æœŸç¼©çŸ­65%ï¼Œæ•æ·å“åº”æ•™å­¦éœ€æ±‚</h3>
<p>å€ŸåŠ©FinClipçš„æ ‡å‡†åŒ–å°ç¨‹åºå®¹å™¨ï¼Œæ–°åŠŸèƒ½ã€æ–°è¯¾åŒ…å‡ä»¥å°ç¨‹åºå½¢å¼å¼€å‘ä¸ä¸Šçº¿ï¼Œæ— éœ€ç­‰å¾…Appå‘ç‰ˆã€‚æ•´ä½“åœºæ™¯å¼€å‘å‘¨æœŸå¹³å‡ç¼©çŸ­65%ï¼Œä¾‹å¦‚â€œå¤§çº²è§£æç›´æ’­ä¸“é¢˜â€ä»ç­–åˆ’åˆ°å…¨ç«¯ä¸Šçº¿ä»…ç”¨ä¸€å‘¨æ—¶é—´ï¼Œæå¤§æå‡äº†æ•™å­¦æœåŠ¡çš„å¸‚åœºå“åº”é€Ÿåº¦ã€‚</p>
<h3 data-id="heading-4">â–º æ„å»ºâ€œå­¦ä¹ +å·¥å…·+ç¤¾åŒºâ€ä¸€ä½“åŒ–ç”Ÿæ€</h3>
<p>é€šè¿‡FinClipå¼€æ”¾çš„ç”Ÿæ€æ¥å…¥èƒ½åŠ›ï¼Œè¯¥æ•™è‚²Appå¿«é€Ÿå¼•å…¥äº†ç¬¬ä¸‰æ–¹å­¦ä¹ å·¥å…·ï¼ˆå¦‚ç¬”è®°åŒæ­¥ã€AIé”™é¢˜æœ¬ï¼‰ã€äº’åŠ¨ç¤¾åŒºã€å¿ƒç†å¥åº·æœåŠ¡ç­‰å°ç¨‹åºï¼Œå°†Appä»â€œè§†é¢‘æˆè¯¾å¹³å°â€å‡çº§ä¸ºâ€œä¸€ç«™å¼å­¦ä¹ æˆé•¿å¹³å°â€ï¼Œæ˜¾è‘—æå‡äº†ç”¨æˆ·ç²˜æ€§ä¸å­¦ä¹ å®Œè¯¾ç‡ã€‚</p>
<p><strong>ä¸‰ï¼šè·¨ç«¯ã€æ•æ·ã€å®‰å…¨ä¸€ä½“åŒ–</strong></p>
<h2 data-id="heading-5">â–º ä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯ä¸Šæ¶ï¼ŒçœŸæ­£å®ç°å…¨ç«¯è¦†ç›–</h2>
<p>FinClipæä¾›iOSã€Androidã€HarmonyOSç­‰å¤šç«¯SDKï¼Œå¹¶å…¼å®¹å¾®ä¿¡å°ç¨‹åºè¯­æ³•ã€‚è¯¥Appçš„å¼€å‘å›¢é˜Ÿåªéœ€ç»´æŠ¤ä¸€å¥—å°ç¨‹åºä»£ç ï¼Œå³å¯åŒæ­¥å‘å¸ƒè‡³è‡ªæœ‰AppåŠå„å¤§æµé‡å¹³å°ï¼Œå¤§å¹…é™ä½å¼€å‘ä¸ç»´æŠ¤æˆæœ¬ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a00ee2da0746460c8f22abde98f896ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmluQ2xpcA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671887&amp;x-signature=LOJiVBYdU01RDEe7Kl0D%2BYu93Z0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-6">â–º ä¸šåŠ¡ç‹¬ç«‹è¿­ä»£ï¼Œç°åº¦å‘å¸ƒæ”¯æŒç²¾å‡†è¿è¥</h3>
<p>æ¯ä¸ªå­¦ä¹ å°ç¨‹åºå‡å¯ç‹¬ç«‹æ›´æ–°ä¸Šä¸‹æ¶ï¼Œè¿è¥å›¢é˜Ÿå¯é€šè¿‡ç°åº¦å‘å¸ƒèƒ½åŠ›ï¼Œé’ˆå¯¹ä¸åŒå¤‡è€ƒé˜¶æ®µã€ä¸åŒåœ°åŒºçš„å­¦å‘˜ç²¾å‡†æ¨é€é€‚é…å†…å®¹ï¼Œå®ç°â€œåƒäººåƒé¢â€çš„å­¦ä¹ è·¯å¾„æ¨èã€‚</p>
<h3 data-id="heading-7">â–º å®‰å…¨æ²™ç®±éš”ç¦»ï¼Œä¿éšœæ ¸å¿ƒå­¦ä¹ æ•°æ®ä¸ç”¨æˆ·ä½“éªŒ</h3>
<p>æ‰€æœ‰ç¬¬ä¸‰æ–¹å°ç¨‹åºå‡åœ¨FinClipæä¾›çš„å®‰å…¨æ²™ç®±ç¯å¢ƒä¸­è¿è¡Œï¼Œä¸ä¸»Appæ ¸å¿ƒä»£ç åŠæ•°æ®å®Œå…¨éš”ç¦»ï¼Œæ—¢ç¡®ä¿äº†æ•™å­¦ä¸»æµç¨‹çš„ç¨³å®šæµç•…ï¼Œåˆä¸¥æ ¼ç¬¦åˆæ•™è‚²è¡Œä¸šæ•°æ®å®‰å…¨ä¸éšç§ä¿æŠ¤è¦æ±‚ã€‚</p>
<p><strong>å››ã€ä»æµé‡è¿è¥åˆ°ç”Ÿæ€æ„å»º</strong></p>
<p>ç§åŸŸæ²‰æ·€æ•ˆæœæ˜¾è‘—ï¼šæˆåŠŸå°†è¶…è¿‡40%çš„å…¬åŸŸæµé‡è½¬åŒ–ä¸ºè‡ªæœ‰Appçš„é«˜æ´»è·ƒç”¨æˆ·ï¼Œæ„å»ºäº†ç¨³å®šçš„ç§åŸŸç”¨æˆ·æ± ï¼›</p>
<p>ä¸šåŠ¡ä¸Šçº¿é€Ÿåº¦é£è·ƒï¼šæ–°åŠŸèƒ½ã€æ–°è¯¾åŒ…å¹³å‡å¼€å‘å‘¨æœŸç¼©çŸ­65%ï¼Œå®ç°â€œå‘¨çº§â€ç”šè‡³â€œå¤©çº§â€è¿­ä»£ï¼›</p>
<p>ç”Ÿæ€èåˆèƒ½åŠ›å¢å¼ºï¼šå¿«é€Ÿå¼•å…¥å¤šç±»ç¬¬ä¸‰æ–¹æ•™è‚²æœåŠ¡ï¼Œå¹³å°ä»â€œå†…å®¹äº¤ä»˜â€è½¬å‘â€œç”Ÿæ€èµ‹èƒ½â€ï¼Œç”¨æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼æ˜¾è‘—æå‡ï¼›</p>
<p>åˆè§„ä¸ä½“éªŒå…¼é¡¾ï¼šåœ¨å¿«é€Ÿæ‰©å±•ç”Ÿæ€çš„åŒæ—¶ï¼Œç¡®ä¿å…¨æµç¨‹å­¦ä¹ æ•°æ®å®‰å…¨å¯æ§ï¼Œç”¨æˆ·ä½“éªŒæµç•…ç»Ÿä¸€ã€‚</p>
<p><strong>äº”ã€æ‰“é€ æœªæ¥å¯æŒç»­ç”Ÿæ€åŒ–æ•™è‚²å¹³å°</strong></p>
<p>è¯¥æ•™è‚²Appçš„å®è·µè¡¨æ˜ï¼Œæ•™è‚²æ•°å­—åŒ–å·²è¿›å…¥â€œç”Ÿæ€ç«äº‰â€é˜¶æ®µã€‚</p>
<p>å•ä¸€çš„å†…å®¹æˆ–å·¥å…·å·²æ— æ³•æ»¡è¶³ç”¨æˆ·å¤šå…ƒåŒ–ã€åœºæ™¯åŒ–çš„å­¦ä¹ éœ€æ±‚ã€‚</p>
<p>FinClipä»¥å°ç¨‹åºå®¹å™¨æŠ€æœ¯ä¸ºåº•åº§ï¼ŒåŠ©åŠ›æ•™è‚²æœºæ„åœ¨ä¸å½±å“ä¸»ä¸šåŠ¡ä½“éªŒçš„å‰æä¸‹ï¼Œé«˜æ•ˆè¿æ¥å…¬ç§åŸŸæµé‡ã€æ•æ·æ‰©å±•æœåŠ¡ç”Ÿæ€ï¼Œæ„å»ºçœŸæ­£â€œä»¥å­¦ä¹ è€…ä¸ºä¸­å¿ƒâ€çš„è¶…çº§å­¦ä¹ å¹³å°ã€‚</p>
<p>æœªæ¥ï¼Œå‡¡æ³°æå®¢å°†ç»§ç»­æºæ‰‹æ•™è‚²è¡Œä¸šä¼™ä¼´ï¼Œä»¥å®‰å…¨ã€å¼€æ”¾ã€æ•æ·çš„è¶…çº§åº”ç”¨æ™ºèƒ½å¹³å°ï¼ŒåŠ©åŠ›æ›´å¤šæ•™åŸ¹æœºæ„ã€é™¢æ ¡åŠçŸ¥è¯†æœåŠ¡ä¼ä¸šï¼Œæ„å»ºè¿æ¥å¤šå…ƒåœºæ™¯ã€æ‰¿è½½ç»ˆèº«å­¦ä¹ çš„æ•°å­—æ–°ç”Ÿæ€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nuxt é… pluginsï¼Œä¹Ÿå°±æ˜¯æ’ä»¶]]></title>    <link>https://juejin.cn/post/7597779410406506530</link>    <guid>https://juejin.cn/post/7597779410406506530</guid>    <pubDate>2026-01-22T07:33:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597779410406506530" data-draft-id="7597724783649112104" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nuxt é… pluginsï¼Œä¹Ÿå°±æ˜¯æ’ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-22T07:33:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±Ÿæ¹–æ–‡äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3044986347066480"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nuxt é… pluginsï¼Œä¹Ÿå°±æ˜¯æ’ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3044986347066480/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±Ÿæ¹–æ–‡äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:33:40.000Z" title="Thu Jan 22 2026 07:33:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>æ¯”å¦‚è¯´åœ¨<code>plugins</code>æ–‡ä»¶å¤¹ä¸‹<code>aaa.js</code>ï¼Œ</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">111</span>)
</code></pre>
<p>ç„¶ååœ¨<code>nuxt.config.js</code>é‡Œé¢é…ä¸€ä¸‹<code>plugins</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// nuxt.config.js</span>
{
  <span class="hljs-comment">// ...</span>
  <span class="hljs-comment">// åœ¨é¡µé¢æ¸²æŸ“ä¹‹å‰æ‰€ç”¨åˆ°çš„æ’ä»¶</span>
  <span class="hljs-attr">plugins</span>: [
   <span class="hljs-string">'~/plugins/aaa.js'</span>
  ]
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>æ¯”å¦‚è¯´<code>axios</code>çš„äºŒæ¬¡å°è£…ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªæ–‡ä»¶æ”¾é‡Œè¾¹ã€‚æˆ–è€…ç¬¬ä¸‰æ–¹çš„æ’ä»¶ã€‚æ¯”å¦‚è¯´<code>element ui</code>çš„cssæ–‡ä»¶å°±åœ¨cssé‡Œé¢åŠ ä¸Šå»ï¼Œjså°±åœ¨pluginsé‡Œé¢åŠ å…¥ã€‚</p>
<p>è¿™é‡Œæ–°å»ºä¸€ä¸ªjsæ–‡ä»¶ã€‚ç„¶ååœ¨<code>elementjs</code>é‡Œè¾¹ï¼Œå¯èƒ½ä¼šå¼•å…¥ï¼Œæ¯”å¦‚import elementï¼Œuseä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p>
<h2 data-id="heading-0">å¼•å…¥ç¬¬ä¸‰æ–¹åº“è¿™å—æ€ä¹ˆå†™</h2>
<p>åœ¨<code>nuxt</code>å®‰è£…é‚£ä¸ªæ—¶å€™ï¼Œæœ‰ä¸€ä¸ªé€‰é¡¹è®©å¤§å®¶å»é€‰æ¡†æ¶ï¼Œå¦‚æœé€‰æ‹©äº†elementï¼Œåœ¨<code>nuxt.config.js</code>é‡Œè¾¹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">{
 <span class="hljs-attr">plugins</span>: [
   <span class="hljs-string">'@/plugins/element-ui'</span>
 ]
}
</code></pre>
<p>å°±æœ‰è¿™æ ·ä¸€ä¸ªå¼•å…¥ã€‚</p>
<p>pluginsä¸‹é¢å°±æœ‰ä¸€ä¸ªelement-ui.js</p>
<p>è¦æ˜¯æ²¡é€‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‡ªè¡Œå»ä¸‹è½½<code>cnpm i element-ui -S</code></p>
<p>ä¸‹è½½å®Œæˆåï¼Œå°±è¦è¿›è¡Œä¸€ç³»åˆ—çš„å¼•å…¥äº†ã€‚é¦–å…ˆå…ˆæŠŠcsså¼•å…¥ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// nuxt.config.js</span>

{
  <span class="hljs-attr">css</span>: [
    <span class="hljs-string">'element-ui/lib/theme-chalk/index.css'</span>
  ]
}
</code></pre>
<p>é…ç½®å®Œï¼Œé¡¹ç›®å®ƒè‡ªå·±ä¼šå¯¹åº”å»æ‰¾node_modulesé‡Œè¾¹çš„ä¸€äº›å†…å®¹ã€‚</p>
<p>ç„¶åè¿˜å¾—é…ç½®jsï¼š</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-attr">plugins</span>: {
    <span class="hljs-string">'~/plugins/element.js'</span>
  }
}
</code></pre>
<p>ç„¶ååœ¨<code>plugins</code>ä¸‹é¢åˆ›å»º<code>element.js</code>æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// element.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ElementUI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui'</span>;

<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementUI</span>);
<span class="hljs-comment">// ä¸Šé¢ä¸‰è¡Œä»£ç å°±å¯ä»¥äº†</span>
</code></pre>
<p>ç„¶åæµ‹è¯•å®‰è£…ä»¥åŠè¿™æ ·çš„ä¸€ä¸ªå¼•å…¥ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">"el-icion-search"</span>&gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
</code></pre>
<p>å†™åœ¨nuxté‡Œé¢æ˜¯è¿™æ ·ï¼š</p>
<pre><code class="hljs language-html" lang="html">/pages/index.vue

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    é¦–é¡µ
    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">"el-icon-search"</span>&gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'IndexPage'</span>
}
&lt;/scirpt&gt;
</span></code></pre>
<p>ç„¶åå»çœ‹é¡µé¢æ•ˆæœï¼Œå°±çœ‹åˆ°ç”Ÿæ•ˆäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ecc187cd2d6483a9117f37c3a35fd4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmW5paH5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769672019&amp;x-signature=2EIVQLr0%2BPzpsF5ZF1R8ChwJaFc%3D" alt="image.png" loading="lazy"/></p>
<p>åç»­è¿˜æœ‰æ›´å¤šæ’ä»¶ï¼Œä½ ç­‰ç€æˆ‘æ›´æ–°ã€‚</p>
<p><code>nuxt</code>æœ‰å¾ˆå¤šæ’ä»¶å†™æ³•æœ‰srcï¼Œè¿˜å¯ä»¥ç›´æ¥å¼•å…¥ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2eb48d38570485c8ca33dc56bbf1b10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmW5paH5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769672019&amp;x-signature=DaAVLsVQIkeFSD7ojVE%2B4sj7K9A%3D" alt="image.png" loading="lazy"/></p>
<p>srcçš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59244e76c3614974962e5cdb66057ed9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmW5paH5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769672019&amp;x-signature=XuEpRHZgTBQikzS90yVzm1gcS9Q%3D" alt="image.png" loading="lazy"/></p>
<p>ç›´æ¥å†™çš„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jetpack Compose ä¸­å¤„ç†ä¸å±•ç¤º HTML å¯Œæ–‡æœ¬]]></title>    <link>https://juejin.cn/post/7597968460651921450</link>    <guid>https://juejin.cn/post/7597968460651921450</guid>    <pubDate>2026-01-22T07:33:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597968460651921450" data-draft-id="7597968460651905066" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jetpack Compose ä¸­å¤„ç†ä¸å±•ç¤º HTML å¯Œæ–‡æœ¬"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-22T07:33:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·4165967369355"/> <meta itemprop="url" content="https://juejin.cn/user/1146150492576877"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jetpack Compose ä¸­å¤„ç†ä¸å±•ç¤º HTML å¯Œæ–‡æœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1146150492576877/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·4165967369355
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:33:58.000Z" title="Thu Jan 22 2026 07:33:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. èƒŒæ™¯ä¸æŒ‘æˆ˜</h2>
<p>åœ¨ä¼ ç»Ÿçš„ Android View ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ <code>TextView.setText(Html.fromHtml(...))</code> å±•ç¤ºå¸¦é¢œè‰²çš„ HTML å­—ç¬¦ä¸²ã€‚</p>
<p>ä½†åœ¨ <strong>Jetpack Compose</strong> ä¸­ï¼Œ<code>Text</code> ç»„ä»¶ä»…æ¥å— <code>String</code> æˆ– <code>AnnotatedString</code> ç±»å‹ã€‚ç”±äº Compose çš„ <code>Text</code> å¹¶ä¸åŸç”Ÿè§£æ HTML æ ‡ç­¾ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€å¥—æ¡¥æ¥æ–¹æ¡ˆï¼Œå°† XML ä¸­çš„ HTML å­—ç¬¦ä¸²è½¬æ¢ä¸º Compose å¯è¯†åˆ«çš„æ ·å¼å¯¹è±¡ã€‚</p>
<h2 data-id="heading-1">2. æ ¸å¿ƒå®ç°æ–¹æ¡ˆ</h2>
<p>æœ¬æ–¹æ¡ˆé‡‡ç”¨ <strong>â€œXML èµ„æº + Android åŸç”Ÿ HTML è§£æ + Compose æ‰©å±•è½¬æ¢å‡½æ•°â€</strong> çš„è·¯å¾„ã€‚</p>
<h3 data-id="heading-2">2.1 èµ„æºå±‚ï¼šå®šä¹‰ HTML å­—ç¬¦ä¸²</h3>
<p>åœ¨ <code>strings.xml</code> ä¸­ï¼Œä½¿ç”¨ <code>CDATA</code> æ ‡ç­¾åŒ…è£¹ HTML å†…å®¹ã€‚æ¨èä½¿ç”¨ <code>\u00A0</code> å¤„ç†å¤šç©ºæ ¼éœ€æ±‚ï¼Œä»¥é˜²æ­¢èµ„æºç¼–è¯‘æ—¶è¢«å‹ç¼©ã€‚</p>
<p>XML</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"ai_statistic_legend"</span>&gt;</span>
    &lt;![CDATA[&lt;font color="#FBC02D"&gt;%1$s&lt;/font&gt;ä»£è¡¨é¸¡è›‹\u00A0\u00A0\u00A0&lt;font color="#FF0000"&gt;%2$s&lt;/font&gt;ä»£è¡¨è¥¿çº¢æŸ¿]]&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"label_yellow"</span>&gt;</span>é»„è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"label_red"</span>&gt;</span>çº¢è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">2.2 è½¬æ¢å±‚ï¼š<code>Spanned</code> è½¬ <code>AnnotatedString</code></h3>
<p>ç¼–å†™ä¸€ä¸ªé€šç”¨çš„æ‰©å±•å‡½æ•°ï¼Œéå† <code>HtmlCompat.fromHtml</code> ç”Ÿæˆçš„ <code>Spanned</code> å¯¹è±¡ä¸­çš„æ‰€æœ‰ Spanï¼ˆå¦‚é¢œè‰²ã€åŠ ç²—ã€ä¸‹åˆ’çº¿ï¼‰ï¼Œå¹¶å°†å…¶æ˜ å°„åˆ° Compose çš„ <code>SpanStyle</code>ã€‚</p>
<p>Kotlin</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> android.text.Html
<span class="hljs-keyword">import</span> android.text.Spanned
<span class="hljs-keyword">import</span> android.text.style.ForegroundColorSpan
<span class="hljs-keyword">import</span> android.text.style.StyleSpan
<span class="hljs-keyword">import</span> android.text.style.UnderlineSpan
<span class="hljs-keyword">import</span> androidx.compose.ui.graphics.Color
<span class="hljs-keyword">import</span> androidx.compose.ui.text.AnnotatedString
<span class="hljs-keyword">import</span> androidx.compose.ui.text.SpanStyle
<span class="hljs-keyword">import</span> androidx.compose.ui.text.buildAnnotatedString
<span class="hljs-keyword">import</span> androidx.compose.ui.text.font.FontStyle
<span class="hljs-keyword">import</span> androidx.compose.ui.text.font.FontWeight
<span class="hljs-keyword">import</span> androidx.compose.ui.text.style.TextDecoration

<span class="hljs-comment">/**
 * å°† Android ä¼ ç»Ÿçš„ Spanned è½¬æ¢æˆ Compose çš„ AnnotatedString
 */</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> CharSequence.<span class="hljs-title">toAnnotatedString</span><span class="hljs-params">()</span></span>: AnnotatedString {
    <span class="hljs-keyword">val</span> spanned = <span class="hljs-keyword">this</span> <span class="hljs-keyword">as</span>? Spanned ?: <span class="hljs-keyword">return</span> AnnotatedString(<span class="hljs-keyword">this</span>.toString())
    
    <span class="hljs-keyword">return</span> buildAnnotatedString {
        append(spanned.toString())
        
        <span class="hljs-comment">// 1. å¤„ç†é¢œè‰² (å¯¹åº” HTML çš„ &lt;font color="..."&gt;)</span>
        <span class="hljs-keyword">val</span> colorSpans = spanned.getSpans(<span class="hljs-number">0</span>, spanned.length, ForegroundColorSpan::<span class="hljs-keyword">class</span>.java)
        colorSpans.forEach { span -&gt;
            <span class="hljs-keyword">val</span> start = spanned.getSpanStart(span)
            <span class="hljs-keyword">val</span> end = spanned.getSpanEnd(span)
            addStyle(SpanStyle(color = Color(span.foregroundColor)), start, end)
        }

        <span class="hljs-comment">// 2. å¤„ç†æ ·å¼ (å¯¹åº” HTML çš„ &lt;b&gt; &lt;i&gt;)</span>
        <span class="hljs-keyword">val</span> styleSpans = spanned.getSpans(<span class="hljs-number">0</span>, spanned.length, StyleSpan::<span class="hljs-keyword">class</span>.java)
        styleSpans.forEach { span -&gt;
            <span class="hljs-keyword">val</span> start = spanned.getSpanStart(span)
            <span class="hljs-keyword">val</span> end = spanned.getSpanEnd(span)
            <span class="hljs-keyword">when</span> (span.style) {
                android.graphics.Typeface.BOLD -&gt; addStyle(SpanStyle(fontWeight = FontWeight.Bold), start, end)
                android.graphics.Typeface.ITALIC -&gt; addStyle(SpanStyle(fontStyle = FontStyle.Italic), start, end)
            }
        }

        <span class="hljs-comment">// 3. å¤„ç†ä¸‹åˆ’çº¿ (å¯¹åº” HTML çš„ &lt;u&gt;)</span>
        <span class="hljs-keyword">val</span> underlineSpans = spanned.getSpans(<span class="hljs-number">0</span>, spanned.length, UnderlineSpan::<span class="hljs-keyword">class</span>.java)
        underlineSpans.forEach { span -&gt;
            <span class="hljs-keyword">val</span> start = spanned.getSpanStart(span)
            <span class="hljs-keyword">val</span> end = spanned.getSpanEnd(span)
            addStyle(SpanStyle(textDecoration = TextDecoration.Underline), start, end)
        }
    }
}
</code></pre>
<h3 data-id="heading-4">2.3 UI å±‚ï¼šç»„ä»¶é›†æˆ</h3>
<p>åœ¨ Composable å‡½æ•°ä¸­ï¼Œåˆ©ç”¨ <code>stringResource</code> è¿›è¡Œæ ¼å¼åŒ–æ³¨å…¥ï¼Œéšåé€šè¿‡ <code>HtmlCompat</code> è¿›è¡Œè§£æã€‚</p>
<p>Kotlin</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Composable</span>
fun HtmlRichTextDisplay() {
    <span class="hljs-comment">// è·å–æ ¼å¼åŒ–åçš„åŸå§‹å­—ç¬¦ä¸² (åŒ…å« HTML æ ‡ç­¾)</span>
    val rawHtml = <span class="hljs-built_in">stringResource</span>(
        id = R.string.ai_statistic_legend, 
        stringResource(R.string.label_yellow), 
        <span class="hljs-built_in">stringResource</span>(R.string.label_red)
    )

    <span class="hljs-comment">// è°ƒç”¨è§£æé€»è¾‘</span>
    val spanned = HtmlCompat<span class="hljs-selector-class">.fromHtml</span>(rawHtml, HtmlCompat.FROM_HTML_MODE_COMPACT)

    <span class="hljs-comment">// å±•ç¤º</span>
    Text(
        text = spanned.toAnnotatedString(),
        <span class="hljs-attribute">color</span> = <span class="hljs-attribute">Color</span><span class="hljs-selector-class">.Black</span> <span class="hljs-comment">// éé«˜äº®éƒ¨åˆ†çš„é»˜è®¤é¢œè‰²</span>
    )
}
</code></pre>
<hr/>
<h2 data-id="heading-5">3. å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“</h2>



































<table><thead><tr><th><strong>åŠŸèƒ½ç‚¹</strong></th><th><strong>å¤„ç†æ–¹æ¡ˆ</strong></th><th><strong>å¤‡æ³¨</strong></th></tr></thead><tbody><tr><td><strong>å¤šè¯­è¨€æ”¯æŒ</strong></td><td><code>%1$s</code> å ä½ç¬¦</td><td>ç¡®ä¿ç¿»è¯‘æ—¶å˜é‡é¡ºåºå¯å˜</td></tr><tr><td><strong>å±€éƒ¨é«˜äº®é¢œè‰²</strong></td><td><code>&lt;font color="#RRGGBB"&gt;</code></td><td>éœ€ä½¿ç”¨åå…­è¿›åˆ¶é¢œè‰²å€¼</td></tr><tr><td><strong>å¤šè¿ç»­ç©ºæ ¼</strong></td><td>ä½¿ç”¨ <code>\u00A0</code></td><td>XML ä¸­ç©ºæ ¼ä¼šè¢«å‹ç¼©ï¼Œæ­¤å­—ç¬¦å¯å¼ºåˆ¶ä¿ç•™</td></tr><tr><td><strong>æ€§èƒ½è€ƒé‡</strong></td><td>çº¯ Compose <code>Text</code> æ¸²æŸ“</td><td>é¿å…ä½¿ç”¨ <code>AndroidView</code> åµŒå¥— <code>TextView</code></td></tr><tr><td><strong>æ‰©å±•æ€§</strong></td><td>æ‰©å±•å‡½æ•°é€‚é… Span</td><td>å¯æ ¹æ®éœ€æ±‚æ·»åŠ å¯¹ <code>&lt;a&gt;</code> æˆ– <code>&lt;h1&gt;</code> ç­‰æ ‡ç­¾çš„æ”¯æŒ</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IndexScanæ¯”SeqScanè¿”å›çš„ç»“æœæ›´å°‘ï¼Œç´¢å¼•æŸåï¼Ÿ]]></title>    <link>https://juejin.cn/post/7597811700285112339</link>    <guid>https://juejin.cn/post/7597811700285112339</guid>    <pubDate>2026-01-22T07:32:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597811700285112339" data-draft-id="7597811700285095955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IndexScanæ¯”SeqScanè¿”å›çš„ç»“æœæ›´å°‘ï¼Œç´¢å¼•æŸåï¼Ÿ"/> <meta itemprop="keywords" content="PostgreSQL,æ•°æ®åº“,å¼€æº"/> <meta itemprop="datePublished" content="2026-01-22T07:32:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="IvorySQL"/> <meta itemprop="url" content="https://juejin.cn/user/761327331579511"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IndexScanæ¯”SeqScanè¿”å›çš„ç»“æœæ›´å°‘ï¼Œç´¢å¼•æŸåï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/761327331579511/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    IvorySQL
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:32:08.000Z" title="Thu Jan 22 2026 07:32:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å…³äºä½œè€…ï¼š</p>
<p>Nickyoungï¼Œæ•°æ®åº“é¢†åŸŸä»ä¸šè€…ã€‚PostgreSQL ACEï¼ŒIvorySQLä¸“å®¶é¡¾é—®å§”å‘˜ä¼šæˆå‘˜ã€‚</p>
<p>å…¬ä¼—å· â€œ ğŸ‘‰ <strong>PostgreSQL è¿ç»´ä¹‹é“</strong> â€ã€‚</p>
</blockquote>
<p>ç»™å¤§å®¶åˆ†äº«ä¸€ä¸ªæœ‰è¶£çš„æ¡ˆä¾‹ï¼ŒåŒä¸€ä¸ª sqlï¼Œç´¢å¼•æ‰«ææ¯”å…¨è¡¨é¡ºåºæ‰«æè·å–çš„æ•°æ®æ›´å°‘ã€‚æœ¬ç¯‡æˆ‘ä»¬æ·±å…¥åˆ†æä¸€èµ·ç´¢å¼•æ’åºè§„åˆ™æŸåçš„æ¡ˆä¾‹ï¼Œå¹¶ debug éªŒè¯ç´¢å¼•æ‰«æçš„ä¸»è¦è¿‡ç¨‹ã€‚</p>
<h2 data-id="heading-0">é—®é¢˜ç°è±¡</h2>
<p>èµ°ç´¢å¼•æ‰«ææŸ¥è¯¢åˆ° 1 æ¡æ•°æ®ã€‚</p>
<pre><code class="hljs language-sql" lang="sql">testidx<span class="hljs-operator">=</span># explain analyze <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> Â <span class="hljs-keyword">from</span> user_info <span class="hljs-keyword">where</span> userid <span class="hljs-operator">=</span><span class="hljs-string">'1230005998'</span>;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  QUERY PLAN Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
<span class="hljs-comment">-------------------------------------------------------------------------------------------------------------------------------</span>
Â Index Scan <span class="hljs-keyword">using</span> index_userid <span class="hljs-keyword">on</span> user_info Â (cost<span class="hljs-operator">=</span><span class="hljs-number">0.28</span>.<span class="hljs-number">.35</span><span class="hljs-number">.61</span> <span class="hljs-keyword">rows</span><span class="hljs-operator">=</span><span class="hljs-number">9</span> width<span class="hljs-operator">=</span><span class="hljs-number">57</span>) (actual <span class="hljs-type">time</span><span class="hljs-operator">=</span><span class="hljs-number">0.030</span>.<span class="hljs-number">.0</span><span class="hljs-number">.032</span> <span class="hljs-keyword">rows</span><span class="hljs-operator">=</span><span class="hljs-number">1</span> loops<span class="hljs-operator">=</span><span class="hljs-number">1</span>)
Â  Â Index Cond: ((userid)::text <span class="hljs-operator">=</span> <span class="hljs-string">'1230005998'</span>::text)
Â Planning <span class="hljs-type">Time</span>: <span class="hljs-number">0.118</span> ms
Â Execution <span class="hljs-type">Time</span>: <span class="hljs-number">0.057</span> ms
(<span class="hljs-number">4</span> <span class="hljs-keyword">rows</span>)

testidx<span class="hljs-operator">=</span># <span class="hljs-keyword">select</span> ctid,userid,region_id <span class="hljs-keyword">from</span> user_info <span class="hljs-keyword">where</span> userid <span class="hljs-operator">=</span><span class="hljs-string">'1230005998'</span>;
Â  ctid Â <span class="hljs-operator">|</span> userid Â  Â <span class="hljs-operator">|</span> region_idÂ 
<span class="hljs-comment">--------+----------------------+-----------</span>
Â (<span class="hljs-number">4</span>,<span class="hljs-number">39</span>) <span class="hljs-operator">|</span> <span class="hljs-number">1230005998</span> <span class="hljs-operator">|</span> abc
(<span class="hljs-number">1</span> <span class="hljs-type">row</span>)
</code></pre>
<p>ä¸èµ°ç´¢å¼•é¡ºåºæ‰«ææŸ¥è¯¢åˆ° 11 æ¡æ•°æ®ã€‚</p>
<pre><code class="hljs language-sql" lang="sql">testidx<span class="hljs-operator">=</span># <span class="hljs-keyword">set</span> enable_indexscan <span class="hljs-keyword">to</span> off;
<span class="hljs-keyword">SET</span>
testidx<span class="hljs-operator">=</span># explain analyze <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> user_info <span class="hljs-keyword">where</span> userid <span class="hljs-operator">=</span><span class="hljs-string">'1230005998'</span>;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â QUERYÂ PLAN Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â 
<span class="hljs-comment">----------------------------------------------------------------------------------------------------------</span>
Â SeqÂ ScanonÂ user_info Â (cost<span class="hljs-operator">=</span><span class="hljs-number">0.00</span>.<span class="hljs-number">.51</span><span class="hljs-number">.50</span><span class="hljs-keyword">rows</span><span class="hljs-operator">=</span><span class="hljs-number">9</span>Â width<span class="hljs-operator">=</span><span class="hljs-number">57</span>) (actualÂ <span class="hljs-type">time</span><span class="hljs-operator">=</span><span class="hljs-number">0.093</span>.<span class="hljs-number">.0</span><span class="hljs-number">.460</span><span class="hljs-keyword">rows</span><span class="hljs-operator">=</span><span class="hljs-number">11</span>Â loops<span class="hljs-operator">=</span><span class="hljs-number">1</span>)
Â  Â <span class="hljs-keyword">Filter</span>: ((userid)::textÂ <span class="hljs-operator">=</span>Â <span class="hljs-string">'1230005998'</span>::text)
Â  Â <span class="hljs-keyword">Rows</span>Â RemovedÂ <span class="hljs-keyword">by</span>Â <span class="hljs-keyword">Filter</span>:Â <span class="hljs-number">1309</span>
Â PlanningÂ <span class="hljs-type">Time</span>:Â <span class="hljs-number">0.116</span>Â ms
Â ExecutionÂ <span class="hljs-type">Time</span>:Â <span class="hljs-number">0.478</span>Â ms
(<span class="hljs-number">5</span><span class="hljs-keyword">rows</span>)

testidx<span class="hljs-operator">=</span># <span class="hljs-keyword">select</span> ctid,userid,region_id <span class="hljs-keyword">from</span> user_info <span class="hljs-keyword">where</span> userid <span class="hljs-operator">=</span><span class="hljs-string">'1230005998'</span>;
Â  ctid Â  <span class="hljs-operator">|</span> userid Â  Â <span class="hljs-operator">|</span> region_idÂ 
<span class="hljs-comment">---------+----------------------+-----------</span>
Â (<span class="hljs-number">4</span>,<span class="hljs-number">39</span>) Â <span class="hljs-operator">|</span>Â <span class="hljs-number">1230005998</span>Â <span class="hljs-operator">|</span> abc
Â (<span class="hljs-number">9</span>,<span class="hljs-number">14</span>) Â <span class="hljs-operator">|</span>Â <span class="hljs-number">1230005998</span>Â <span class="hljs-operator">|</span> abc
Â (<span class="hljs-number">9</span>,<span class="hljs-number">32</span>) Â <span class="hljs-operator">|</span>Â <span class="hljs-number">1230005998</span>Â <span class="hljs-operator">|</span> abcÂ 
Â (<span class="hljs-number">10</span>,<span class="hljs-number">32</span>) <span class="hljs-operator">|</span>Â <span class="hljs-number">1230005998</span>Â <span class="hljs-operator">|</span> abc
Â (<span class="hljs-number">12</span>,<span class="hljs-number">5</span>) Â <span class="hljs-operator">|</span>Â <span class="hljs-number">1230005998</span>Â <span class="hljs-operator">|</span> abc
Â (<span class="hljs-number">26</span>,<span class="hljs-number">23</span>) <span class="hljs-operator">|</span>Â <span class="hljs-number">1230005998</span>Â <span class="hljs-operator">|</span> abc
Â (<span class="hljs-number">27</span>,<span class="hljs-number">4</span>) Â <span class="hljs-operator">|</span>Â <span class="hljs-number">1230005998</span>Â <span class="hljs-operator">|</span> abc
Â (<span class="hljs-number">27</span>,<span class="hljs-number">9</span>) Â <span class="hljs-operator">|</span>Â <span class="hljs-number">1230005998</span>Â <span class="hljs-operator">|</span> abc
Â (<span class="hljs-number">27</span>,<span class="hljs-number">11</span>) <span class="hljs-operator">|</span>Â <span class="hljs-number">1230005998</span>Â <span class="hljs-operator">|</span> abc
Â (<span class="hljs-number">34</span>,<span class="hljs-number">38</span>) <span class="hljs-operator">|</span>Â <span class="hljs-number">1230005998</span>Â <span class="hljs-operator">|</span> abc
Â (<span class="hljs-number">34</span>,<span class="hljs-number">39</span>) <span class="hljs-operator">|</span>Â <span class="hljs-number">1230005998</span>Â <span class="hljs-operator">|</span> abc
(<span class="hljs-number">11</span><span class="hljs-keyword">rows</span>)

testidx<span class="hljs-operator">=</span>#
</code></pre>
<p>å¯¹æ¯”ä¸¤æ¬¡æŸ¥è¯¢ç»“æœï¼Œå¯ä»¥çœ‹åˆ°èµ°ç´¢å¼•æ‰«ææ—¶ï¼Œä»…æŸ¥è¯¢åˆ°ç¬¬ä¸€æ¡åŒ¹é…çš„æ•°æ®ï¼Œå¯¹åº” ctid ä¸º(4,39)ã€‚ç´¢å¼•æŸåäº†ï¼Ÿ</p>
<h2 data-id="heading-1">é—®é¢˜åˆ†æ</h2>
<p>å½“æˆ‘ä»¬æ€€ç–‘ç´¢å¼•æŸåæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ amcheck æ’ä»¶å¯¹ç´¢å¼•è¿›è¡Œæ‰«æåˆ†æï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨å¼‚å¸¸ã€‚</p>
<p>å¯ä»¥çœ‹åˆ° leaf page 8 çš„ itemoffset 24 å’Œ 25 è¿åäº†æ¡ç›®é¡ºåºä¸å˜æ€§è§„åˆ™ã€‚å³æŒ‰ç…§å‡åºåŸåˆ™ 24 å·ç´¢å¼•æ§½ä½å¯¹åº”çš„é”®å€¼è¦å°äºç­‰äº 25 æ§½ä½ï¼Œä½†ç»æ£€æŸ¥æ˜¯å¤§äºçš„ï¼Œæ‰€ä»¥æ’åºè§„åˆ™æ··ä¹±äº†ã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet">testidx=# <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> bt_index_check(<span class="hljs-comment">'index_userid',true);</span>
<span class="hljs-symbol">DEBUG:</span> Â StartTransaction(<span class="hljs-number">1</span>) name: unnamed; blockState: <span class="hljs-keyword">DEFAULT</span>; state: INPROGRESS, xid/subid/cid: <span class="hljs-number">0</span>/<span class="hljs-number">1</span>/<span class="hljs-number">0</span>
<span class="hljs-symbol">DEBUG:</span> Â verifying level <span class="hljs-number">1</span> (<span class="hljs-literal">true</span> root level)
<span class="hljs-symbol">DEBUG:</span> Â verifying <span class="hljs-number">7</span> items <span class="hljs-keyword">on</span> internal block <span class="hljs-number">3</span>
<span class="hljs-symbol">DEBUG:</span> Â verifying level <span class="hljs-number">0</span> (leaf level)
<span class="hljs-symbol">DEBUG:</span> Â verifying <span class="hljs-number">207</span> items <span class="hljs-keyword">on</span> leaf block <span class="hljs-number">1</span>
<span class="hljs-symbol">DEBUG:</span> Â verifying <span class="hljs-number">204</span> items <span class="hljs-keyword">on</span> leaf block <span class="hljs-number">2</span>
<span class="hljs-symbol">DEBUG:</span> Â verifying <span class="hljs-number">204</span> items <span class="hljs-keyword">on</span> leaf block <span class="hljs-number">4</span>
<span class="hljs-symbol">DEBUG:</span> Â verifying <span class="hljs-number">204</span> items <span class="hljs-keyword">on</span> leaf block <span class="hljs-number">5</span>
<span class="hljs-symbol">DEBUG:</span> Â verifying <span class="hljs-number">204</span> items <span class="hljs-keyword">on</span> leaf block <span class="hljs-number">6</span>
<span class="hljs-symbol">DEBUG:</span> Â verifying <span class="hljs-number">235</span> items <span class="hljs-keyword">on</span> leaf block <span class="hljs-number">7</span>
<span class="hljs-symbol">DEBUG:</span> Â verifying <span class="hljs-number">78</span> items <span class="hljs-keyword">on</span> leaf block <span class="hljs-number">8</span>
<span class="hljs-symbol">ERROR:</span> Â item <span class="hljs-keyword">order</span> invariant violated <span class="hljs-keyword">for</span> index <span class="hljs-string">"index_userid"</span>
<span class="hljs-symbol">DETAIL:</span> Â Lower index tid=(<span class="hljs-number">8</span>,<span class="hljs-number">24</span>) (points <span class="hljs-keyword">to</span> heap tid=(<span class="hljs-number">4</span>,<span class="hljs-number">14</span>)) higher index tid=(<span class="hljs-number">8</span>,<span class="hljs-number">25</span>) (points <span class="hljs-keyword">to</span> heap tid=(<span class="hljs-number">9</span>,<span class="hljs-number">14</span>)) page lsn=<span class="hljs-number">1</span>/<span class="hljs-number">331E9F</span>98.
testidx=#Â 
</code></pre>
<p>ä½¿ç”¨ pageinspect æ‰©å±•ï¼ŒæŸ¥çœ‹ leaf page 8 æœ‰ 78 æ¡è®°å½•ï¼Œå…¶ä¸­ itemoffset 24 å’Œ 25 å¯¹åº”çš„é”®å€¼ï¼Œ24 çš„é”®å€¼ä¸º'31 09 xxx'ï¼Œ25 çš„é”®å€¼ä¸º'2b 4c xxx'ï¼Œå‰è€…å¤§ï¼Œç¡®å®æ˜¯æœ‰é—®é¢˜çš„ã€‚</p>
<pre><code class="hljs language-sql" lang="sql">testidx<span class="hljs-operator">=</span># <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> bt_page_stats(<span class="hljs-string">'index_userid'</span>,<span class="hljs-number">8</span>);
Â blkno <span class="hljs-operator">|</span>Â typeÂ <span class="hljs-operator">|</span> live_items <span class="hljs-operator">|</span> dead_items <span class="hljs-operator">|</span> avg_item_size <span class="hljs-operator">|</span> page_size <span class="hljs-operator">|</span> free_size <span class="hljs-operator">|</span> btpo_prev <span class="hljs-operator">|</span> btpo_next <span class="hljs-operator">|</span> btpo <span class="hljs-operator">|</span> btpo_flagsÂ 
<span class="hljs-comment">-------+------+------------+------------+---------------+-----------+-----------+-----------+-----------+------+------------</span>
Â  Â  Â <span class="hljs-number">8</span> <span class="hljs-operator">|</span> l Â  Â <span class="hljs-operator">|</span> Â  Â  Â  Â  <span class="hljs-number">78</span> <span class="hljs-operator">|</span> Â  Â  Â  Â  Â <span class="hljs-number">0</span> <span class="hljs-operator">|</span> Â  Â  Â  Â  Â  Â <span class="hljs-number">31</span> <span class="hljs-operator">|</span> Â  Â  Â <span class="hljs-number">8192</span> <span class="hljs-operator">|</span> Â  Â  Â <span class="hljs-number">5356</span> <span class="hljs-operator">|</span> Â  Â  Â  Â  <span class="hljs-number">7</span> <span class="hljs-operator">|</span> Â  Â  Â  Â  <span class="hljs-number">0</span> <span class="hljs-operator">|</span> Â  Â <span class="hljs-number">0</span> <span class="hljs-operator">|</span> Â  Â  Â  Â  Â <span class="hljs-number">1</span>
(<span class="hljs-number">1</span> <span class="hljs-type">row</span>)

testidx<span class="hljs-operator">=</span>#Â 
</code></pre>

<pre><code class="hljs language-scss" lang="scss">testidx=# select * from Â <span class="hljs-built_in">bt_page_items</span>('index_userid',<span class="hljs-number">8</span>) where itemoffset in (<span class="hljs-number">22</span>,<span class="hljs-number">23</span>,<span class="hljs-number">24</span>,<span class="hljs-number">25</span>);
Â itemoffset | Â ctid Â | itemlen | nulls | vars | Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â data Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
------------+--------+---------+-------+------+-------------------------------------------------------------------------
Â  Â  Â  Â  Â <span class="hljs-number">22</span> | (<span class="hljs-number">4</span>,<span class="hljs-number">39</span>) | Â  Â  Â <span class="hljs-number">32</span> | f Â  Â  | t Â  Â | <span class="hljs-number">2</span>b <span class="hljs-number">4</span>c <span class="hljs-number">54</span> <span class="hljs-number">34</span> <span class="hljs-number">33</span> <span class="hljs-number">36</span> <span class="hljs-number">32</span> <span class="hljs-number">35</span> <span class="hljs-number">31</span> <span class="hljs-number">33</span> <span class="hljs-number">34</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>
Â  Â  Â  Â  Â <span class="hljs-number">23</span> | (<span class="hljs-number">4</span>,<span class="hljs-number">9</span>) Â | Â  Â  Â <span class="hljs-number">32</span> | f Â  Â  | t Â  Â | <span class="hljs-number">31</span> <span class="hljs-number">09</span> <span class="hljs-number">0</span>d <span class="hljs-number">0</span>a <span class="hljs-number">4</span>c <span class="hljs-number">54</span> <span class="hljs-number">34</span> <span class="hljs-number">33</span> <span class="hljs-number">36</span> <span class="hljs-number">32</span> <span class="hljs-number">35</span> <span class="hljs-number">31</span> <span class="hljs-number">33</span> <span class="hljs-number">34</span> <span class="hljs-number">37</span> <span class="hljs-number">33</span> <span class="hljs-number">36</span> <span class="hljs-number">30</span> <span class="hljs-number">30</span> <span class="hljs-number">37</span> <span class="hljs-number">39</span> <span class="hljs-number">30</span> <span class="hljs-number">30</span> <span class="hljs-number">32</span>
Â  Â  Â  Â  Â <span class="hljs-number">24</span> | (<span class="hljs-number">4</span>,<span class="hljs-number">14</span>) | Â  Â  Â <span class="hljs-number">32</span> | f Â  Â  | t Â  Â | <span class="hljs-number">31</span> <span class="hljs-number">09</span> <span class="hljs-number">0</span>d <span class="hljs-number">0</span>a <span class="hljs-number">4</span>c <span class="hljs-number">54</span> <span class="hljs-number">34</span> <span class="hljs-number">33</span> <span class="hljs-number">36</span> <span class="hljs-number">32</span> <span class="hljs-number">35</span> <span class="hljs-number">31</span> <span class="hljs-number">33</span> <span class="hljs-number">34</span> <span class="hljs-number">37</span> <span class="hljs-number">33</span> <span class="hljs-number">36</span> <span class="hljs-number">30</span> <span class="hljs-number">30</span> <span class="hljs-number">37</span> <span class="hljs-number">39</span> <span class="hljs-number">30</span> <span class="hljs-number">30</span> <span class="hljs-number">32</span>
Â  Â  Â  Â  Â <span class="hljs-number">25</span> | (<span class="hljs-number">9</span>,<span class="hljs-number">14</span>) | Â  Â  Â <span class="hljs-number">32</span> | f Â  Â  | t Â  Â | <span class="hljs-number">2</span>b <span class="hljs-number">4</span>c <span class="hljs-number">54</span> <span class="hljs-number">34</span> <span class="hljs-number">33</span> <span class="hljs-number">36</span> <span class="hljs-number">32</span> <span class="hljs-number">35</span> <span class="hljs-number">31</span> <span class="hljs-number">33</span> <span class="hljs-number">34</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>
(<span class="hljs-number">4</span> rows)

testidx=#
</code></pre>
<p>æ˜æ˜¾çš„ç´¢å¼•æŸåäº†ï¼Œæ€ä¹ˆæŸåçš„å‘¢ï¼Ÿ</p>
<p>å¯èƒ½æ˜¯ BUG æˆ–è€…ç³»ç»Ÿå¼‚å¸¸å¯¼è‡´æ•°æ®åº“ crash ç­‰å†™åï¼Œ è¿˜æœ‰ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fwiki.postgresql.org%2Fwiki%2FLocale_data_changes" target="_blank" title="https://wiki.postgresql.org/wiki/Locale_data_changes" ref="nofollow noopener noreferrer">glibc ç‰ˆæœ¬å·®å¼‚å¯¼è‡´ç´¢å¼•æŸåçš„åœºæ™¯</a>ï¼Œç‰¹åˆ«æ˜¯ glibc 2.28 ä¹‹å‰å’Œä¹‹åçš„ç‰ˆæœ¬ã€‚</p>
<p>ç»è¿‡æ’æŸ¥è¿™æ¬¡å¼‚å¸¸å°±æ˜¯ glibc å·®å¼‚å¯¼è‡´çš„ï¼Œglibc ç‰ˆæœ¬ä» 2.17 åˆ° 2.28ã€‚</p>
<p>å½“é‡åˆ°è¿™æ ·çš„ç´¢å¼•æŸååœºæ™¯æ—¶ï¼Œå»ºè®® reindex å¯¹åº”çš„ç´¢å¼•æ¥ä¿®å¤ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜åŸºæœ¬åˆ†ææ¸…æ¥šäº†ï¼Œä¸è¿‡è€æ¨ä¸æ‰“ç®—åˆ°æ­¤ä¸ºæ­¢ã€‚ å€Ÿæ­¤æœºä¼šè¯å®ä¸‹ç´¢å¼•æ‰«æçš„é€»è¾‘ï¼Œä¹Ÿææ¸…æ¥šä¸ºä»€ä¹ˆä»…æ‰«æä¸€æ¡æ•°æ®å°±ç»“æŸã€‚æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥ç»§ç»­å¾€ä¸‹çœ‹ã€‚</p>
<h2 data-id="heading-2">åŸç†åˆ†æ</h2>
<p>btree æƒ³å¿…å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼ˆå…¶å®æˆ‘å¾ˆè®¨åŒé¢è¯•ä¸­å¯¹äº btree çš„å…«è‚¡æ–‡ï¼Œhaha...ï¼‰</p>
<p>å†æ¥å›é¡¾ä¸‹ç»“æ„ï¼Œç»†èŠ‚å¯ä»¥å‚è€ƒç¿ç¿çš„ä¹¦ä¸­<a href="https://link.juejin.cn?target=https%3A%2F%2Fpostgres-internals.cn%2Fdocs%2Fchapter25%2F" target="_blank" title="https://postgres-internals.cn/docs/chapter25/" ref="nofollow noopener noreferrer">btree ç« èŠ‚</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d5462544ed44d479a992b5492b6d00e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=tGrpl%2FTk0YapESwT57GJXFrkoao%3D" alt="01.png" loading="lazy"/></p>
<p>æ£€ç´¢çš„æ—¶å€™ï¼Œä» root page å¼€å§‹æ£€ç´¢ï¼Œåœ¨ leaf page ä¸­æ‰¾åˆ°é”®å€¼åŒ¹é…çš„ heap ctidï¼Œé€šè¿‡ ctid å» heap ä¸­ fetch å¯¹åº”çš„æ•°æ®ã€‚è¿™é‡Œå€Ÿç”¨å¾·å“¥ç”»çš„å›¾ï¼Œæ¥è‡ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdigoal%2Fblog%2Fblob%2Fmaster%2F201605%2F20160528_01.md" target="_blank" title="https://github.com/digoal/blog/blob/master/201605/20160528_01.md" ref="nofollow noopener noreferrer">github åšå®¢</a>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fa6ffac3d754b78b0ce963857965a40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=JaQaJ9oB%2BvJxb9wWXldZ1dy0iyQ%3D" alt="02.png" loading="lazy"/></p>
<p>å¦å¤– postgrespro çš„åšå®¢<a href="https://link.juejin.cn?target=https%3A%2F%2Fpostgrespro.com%2Fblog%2Fpgsql%2F4161516" target="_blank" title="https://postgrespro.com/blog/pgsql/4161516" ref="nofollow noopener noreferrer">btree ç« èŠ‚</a>ï¼Œå¯¹äºæ£€ç´¢è¿‡ç¨‹æè¿°çš„ä¸é”™ï¼Œæ¨èå¤§å®¶å»çœ‹çœ‹ã€‚</p>
<p>ä¾‹å¦‚æŸ¥æ‰¾ç­‰äº 49 çš„æ•°æ®ï¼Œæ ‡é»„éƒ¨åˆ†åŠè“è‰²ç®­å¤´æè¿°äº†æ£€ç´¢è¿‡ç¨‹ï¼šä» root èŠ‚ç‚¹å‡ºå‘ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„ leaf èŠ‚ç‚¹ï¼Œé¡ºç€ leaf èŠ‚ç‚¹çš„é“¾è¡¨ä¸€ç›´æŸ¥æ‰¾ï¼Œç›´åˆ°æ£€ç´¢å®Œæ‰€æœ‰åŒ¹é…çš„ leaf èŠ‚ç‚¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b07b2fe16d324080a29523fcd6881a56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=pfGSGw7NWn9hqMnzoQK3GWFcpe8%3D" alt="03.png" loading="lazy"/></p>
<p>ç®€å•å›é¡¾ä¸€äº›æ¦‚å¿µå’ŒåŸç†åï¼Œæˆ‘ä»¬ä¸Šæ‰‹ debug æ¥è¯å®æ£€ç´¢è¿‡ç¨‹ã€‚</p>
<p>æˆ‘ä»¬çš„æ£€ç´¢æ¡ä»¶ä¸º<code>userid ='1230005998'</code></p>
<p><strong>1. å…ˆç¡®å®š first leaf page</strong></p>
<p><code>btgettuple</code>å‡½æ•°ä¸­é¦–æ¬¡æ‰«æèµ°<code>_bt_first</code>å‡½æ•°é€»è¾‘ã€‚</p>
<p>é€šå¸¸ leaf page ä¼šæœ‰å¤šä¸ªï¼Œæ‰«ææ—¶é€šè¿‡äºŒåˆ†æŸ¥æ‰¾ï¼Œå…ˆæ‰¾åˆ°é”®å€¼åŒ¹é…çš„ç›®æ ‡ leaf pageã€‚ åœ¨_bt_first å‡½æ•°ä¸­ï¼Œè°ƒç”¨_bt_search å‡½æ•°ï¼Œå†è°ƒç”¨_bt_binsrch å‡½æ•°è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚</p>
<p>åˆå§‹çš„ low ä¸º 1ï¼Œhigh ä¸º 8 å¯¹åº” index_userid è¿™ä¸ªç´¢å¼•çš„ leaf block 1 å’Œ 8</p>
<p>_bt_compare å‡½æ•°è¿›è¡Œ key åŒ¹é…ï¼Œè¿™é‡Œ userid ä¸º text ç±»å‹ï¼Œå› æ­¤ä½¿ç”¨çš„æ¯”è¾ƒå‡½æ•°ä¸º bttextcmp</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/693a5fb8c7764291acc2bff02b7ce978~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=hM75sB5mv8lyA0Ma%2BTd5MdBWvkI%3D" alt="04.png" loading="lazy"/></p>
<p>æˆ‘ä»¬çœå»äºŒåˆ†æŸ¥æ‰¾çš„è¿‡ç¨‹ï¼Œæœ€ç»ˆ high=low=8ï¼Œç¡®å®šç›®æ ‡æ•°æ®åœ¨ leaf page 8</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94fe38388c034830a22d00917c616b5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=BgiwSP5RLjWlQLN7ItCAefGpeFw%3D" alt="05.png" loading="lazy"/></p>
<p><strong>2ã€ç¡®å®š first item</strong></p>
<p>å¼€å§‹æ‰«æç›®æ ‡ leaf pageï¼ŒåŒæ ·é‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€æ¡åŒ¹é…çš„ itemã€‚</p>
<p>_bt_first å‡½æ•°èµ°åˆ° offnum = _bt_binsrch(rel, &amp;inskey, buf)ï¼Œåœ¨_bt_binsrch å‡½æ•°ä¸­åˆå§‹ high ä¸º 78ï¼Œlow ä¸º 1ï¼ˆå› ä¸º leaf page 8 æœ‰ 78 æ¡ itemï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e2073704169402fbb0da9a8b3aa652e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=IR6c3DJFZCX3MxiI%2B2LBU%2B6XhQA%3D" alt="06.png" loading="lazy"/></p>
<p>åœ¨å¤šè½®äºŒåˆ†æŸ¥æ‰¾åï¼Œmid ä¸º 22 æ—¶_bt_compare åŒ¹é…åˆ°äº†é¢„æœŸæ•°æ®ã€‚bttextcmp å‡½æ•°ä¸­å¯ä»¥çœ‹åˆ° text_cmp å…¥å‚ arg1, arg2 ç›¸åŒï¼Œéƒ½ä¸º 1230005998ï¼Œresult ä¸º 0ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9fe62fb7db44eb1ac9df475f957279c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=HFhe4ah8RVO1bHKkQqytROOFSZk%3D" alt="07.png" loading="lazy"/></p>
<p>å› æ­¤ï¼Œlow ä¸º 22ï¼Œhigh ä¸º 22ï¼Œæ‰¾åˆ°äº† first itemã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b5fad6fe276497f85eba3b263d08d90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=6vuuBjEdS9DxxOAYHrf8CZF8HuI%3D" alt="08.png" loading="lazy"/></p>
<p><strong>3ã€éå†é¡µé¢å…ƒç»„ï¼Œè®¾ç½®æ‰«æè¾¹ç•Œ</strong></p>
<p>while (offnum &lt;= maxoff)å¾ªç¯ï¼Œoffnum ä¸º 22ï¼Œmaxoff ä¸º 78ã€‚</p>
<p>ä» first item å³ offnum=22 å¼€å§‹éå†ï¼Œ_bt_readpage ä¸­è°ƒç”¨_bt_checkkeys é¦–æ¬¡æ¯”è¾ƒç»“æœç›¸åŒï¼ŒitemIndex++ä¸º 1ï¼Œcontinuescan ä¸º trueï¼Œoffnum å»¶é¡ºåˆ° Next å³ 23ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d92fa19cb27b4be29033920fb3b43214~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=Yi49XbZ15RHGVsFts%2BGwe6TmUd8%3D" alt="09.png" loading="lazy"/></p>
<p>å¾ªç¯ä¸­å†æ¬¡è°ƒç”¨_bt_checkkeys è¿›è¡Œæ¯”è¾ƒï¼Œå®é™…çš„æ¯”è¾ƒå‡½æ•°ä¸º texteqï¼Œoffnum ä¸º 23 æ—¶ key å€¼æ˜æ˜¾å’Œæ£€ç´¢æ¡ä»¶çš„é•¿åº¦ä¸åŒï¼Œå€¼è‚¯å®šæ˜¯ä¸åŒçš„ï¼Œresult ä¸º falseã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70204dc0a5f34366bc038e4c10f064be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=vHCVvNTE03io6RmqHAVxnoE81TI%3D" alt="10.png" loading="lazy"/></p>
<p>result ä¼ é€’ç»™ testï¼Œå› æ­¤*continuescan = falseï¼Œ_bt_checkkeys è¿”å› falseã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d01d7f9cfb649ff8f02e7b1685060be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=K%2FzSJ1Uz6uWO514WMS7nJDPQVhI%3D" alt="11.png" loading="lazy"/></p>
<p>continuescan ä¸º falseï¼Œå› æ­¤ so-&gt;currPos.moreRight=falseï¼Œso-&gt;currPos.firstItem = 0ï¼Œ so-&gt;currPos.lastItem = 1 - 1ï¼Œ so-&gt;currPos.itemIndex = 0;</p>
<p>å°±æ˜¯è¿™å‡ ä¸ªå±æ€§å†³å®šäº†æ‰«æè¾¹ç•Œã€‚ firstItem å’Œ lastItem ç›¸åŒéƒ½ä¸º 0ï¼Œè¯´æ˜æ‰«æçš„èŒƒå›´å°±æ˜¯ first Item è¿™ä¸€æ¡æ•°æ®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5d93af07c4441ee817877e1f8d886f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=Olg0oGlSynWm9DhTdDh%2FVdEPplk%3D" alt="12.png" loading="lazy"/></p>
<p>index_getnext_slot å‡½æ•°ä¸­æ ¹æ® ctid(4,39)è°ƒç”¨ index_fetch_heap è·å– heap æ•°æ®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18f009dc04b8424880c88b96f552f310~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=Tg9%2BDCgaIEJ5D66aw8XdUWo1mE8%3D" alt="13.png" loading="lazy"/></p>
<p><strong>4ã€è·å– next Item</strong></p>
<p>btgettuple å‡½æ•°ä¸­ï¼Œåç»­æ‰«æè°ƒç”¨_bt_next å‡½æ•°ã€‚</p>
<p>so-&gt;currPos.moreRight ä¸º falseï¼Œ_bt_readnextpage å‡½æ•° return falseï¼Œå› æ­¤_bt_steppage å‡½æ•° return false</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a3b0f3c24754788a691acfb888caf9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=jwD1Pou6vxIJ%2BV6Q958lB2mDA%2BI%3D" alt="14.png" loading="lazy"/></p>
<p>å› æ­¤_bt_next å‡½æ•°è¿”å› falseï¼Œbtgettuple è¿”å› false</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62206a38875042248fd8c47ca026cb6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=6Tgqpwobny%2BpNTTTkaUx1yAj64c%3D" alt="15.png" loading="lazy"/></p>
<p>index_getnext_tid å‡½æ•°è¿”å› NULL</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/655a52c7e56c4494b6c74b2636a7ec25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=QwhJV2yQX0S6Ntb%2BVP%2BK%2Bu2jUYA%3D" alt="16.png" loading="lazy"/></p>
<p>tid ä¸º NULLï¼Œindex_getnext_slot å‡½æ•°è¿”å› NULL</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4abb8f07fbc40ae90e2a11972dbf016~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671928&amp;x-signature=pArRbdzKe91ifqr7p7f1AtAl%2FUE%3D" alt="17.png" loading="lazy"/></p>
<p>è‡³æ­¤æ‰«æç»“æŸã€‚</p>
<p>ä»è¿™ä¸ªè¿‡ç¨‹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œitemoffset 22 å³è®°å½• ctid(4,39)è¿™æ¡ç´¢å¼•é”®å€¼å’Œæ£€ç´¢æ¡ä»¶åŒ¹é…ï¼Œä½† 23 ä¸åŒ¹é…ï¼Œå› æ­¤å¯¼è‡´ç´¢å¼•æ‰«æç»“æŸï¼Œåªæ‰«æäº†ä¸€æ¡æ•°æ®ã€‚</p>
<p>ä» seqscan ç»“æœçœ‹ï¼Œctid (4,39)ä¸‹ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„æ•°æ®ä¸º(9,14)ï¼Œå¯¹åº”åˆ°ç´¢å¼• itemoffset 25ã€‚ä» bt_page_items çš„ç»“æœæ¥çœ‹ï¼Œ23 å’Œ 24 çš„é”®å€¼æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ¯” 25 å¤§ï¼Œå› æ­¤ç´¢å¼•æ’åºè§„åˆ™æ˜¯é”™ä¹±çš„ã€‚</p>
<h2 data-id="heading-3">å°ç»“</h2>
<p>æœ¬ç¯‡æˆ‘ä»¬æ·±å…¥åˆ†æäº†ä¸€èµ·ç´¢å¼•æ’åºè§„åˆ™æŸåçš„æ¡ˆä¾‹ï¼Œå½“å‡ºç°ç±»ä¼¼é—®é¢˜æ—¶ï¼Œå¯ä»¥åˆ©ç”¨ amcheck å’Œ pageinspect æ‰©å±•æ¥åˆ†æè§£å†³ã€‚åŒæ—¶ä¹Ÿ debug è¯å®äº†ä¸‹ç´¢å¼•æ‰«æçš„ä¸€äº›å…³é”®è¿‡ç¨‹ã€‚</p>
<hr/>
<h2 data-id="heading-4"><a href="https://link.juejin.cn?target=https%3A%2F%2Fjsj.top%2Ff%2FuebqBc" target="_blank" title="https://jsj.top/f/uebqBc" ref="nofollow noopener noreferrer">HOW 2026 è®®é¢˜æ‹›å‹Ÿä¸­</a></h2>
<p>2026 å¹´ 4 æœˆ 27-28 æ—¥ï¼Œç”± IvorySQL ç¤¾åŒºè”åˆ PGEUï¼ˆæ¬§æ´² PG ç¤¾åŒºï¼‰ã€PGAsiaï¼ˆäºšæ´² PG ç¤¾åŒºï¼‰å…±åŒæ‰“é€ çš„ HOW 2026ï¼ˆIvorySQL &amp; PostgreSQL æŠ€æœ¯å³°ä¼šï¼‰ å°†å†åº¦è½åœ°æµå—ã€‚å±Šæ—¶ï¼ŒPostgreSQL è”åˆåˆ›å§‹äºº Bruce Momjian ç­‰é¡¶çº§å¤§å¸ˆå°†äº²ä¸´ç°åœºã€‚</p>
<p>è‡ªå¼€å¯å¾é›†ä»¥æ¥ï¼ŒHOW 2026 ç­¹å¤‡ç»„å·²æ„Ÿå—åˆ°æ¥è‡ªå…¨çƒ PostgreSQL çˆ±å¥½è€…çš„æ¾æ¹ƒçƒ­æƒ…ã€‚ä¸ºäº†ç¡®ä¿å¤§ä¼šè®®é¢˜çš„æ·±åº¦ä¸å¹¿åº¦ï¼Œæˆ‘ä»¬è¯šé‚€æ‚¨åœ¨ 2026 å¹´ 2 æœˆ 27 æ—¥æˆªæ­¢æ—¥æœŸå‰ï¼Œæäº¤æ‚¨çš„æŠ€æœ¯è§è§£ã€‚</p>
<p>æŠ•é€’é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjsj.top%2Ff%2FuebqBc" target="_blank" title="https://jsj.top/f/uebqBc" ref="nofollow noopener noreferrer">jsj.top/f/uebqBc</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[zq-platformåˆå§‹æ•°æ®å†™ä¸åˆ°æ•°æ®åº“é—®é¢˜è§£å†³è¯¦ç»†æ“ä½œæµç¨‹]]></title>    <link>https://juejin.cn/post/7597808104462270510</link>    <guid>https://juejin.cn/post/7597808104462270510</guid>    <pubDate>2026-01-22T07:29:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597808104462270510" data-draft-id="7597989474991095846" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="zq-platformåˆå§‹æ•°æ®å†™ä¸åˆ°æ•°æ®åº“é—®é¢˜è§£å†³è¯¦ç»†æ“ä½œæµç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-22T07:29:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¿™ç¿™å…¶ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/831702760173085"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            zq-platformåˆå§‹æ•°æ®å†™ä¸åˆ°æ•°æ®åº“é—®é¢˜è§£å†³è¯¦ç»†æ“ä½œæµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/831702760173085/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¿™ç¿™å…¶ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:29:14.000Z" title="Thu Jan 22 2026 07:29:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘å¤ç°ä¸€ä¸‹ä¸Šé¢çš„æ“ä½œè¯´ zq-platformåˆå§‹æ•°æ®å†™ä¸åˆ°æ•°æ®åº“
ç¬¬ä¸€æ¬¡æ‰§è¡Œ-</p>
<pre><code class="hljs language-nginx" lang="nginx">alembic revision --autogenerate -m "init tables"
</code></pre>
<h2 data-id="heading-0">æŠ¥é”™</h2>
<pre><code class="hljs language-css" lang="css">INFO  <span class="hljs-selector-attr">[[            alembic.runtime.migration]</span>
          ](http://alembic.runtime.migration]) Context impl PostgresqlImpl.INFO  [[
            alembic.runtime.migration]
          ](http://alembic.runtime.migration]) Will assume transactional DDL.ERROR [[
            alembic.util.messaging]
          ](http://alembic.util.messaging]) Target database is not up to date.FAILED: Target database is not up to date.
</code></pre>
<p>æ„æ€æ˜¯ï¼šä½ çš„æ•°æ®åº“å½“å‰ç‰ˆæœ¬ (current) è½åäº Alembic è¿ç§»è„šæœ¬æ‰€å®šä¹‰çš„æœ€æ–°ç‰ˆæœ¬ (head)<a href="https://link.juejin.cn?target=http%3A%2F%2Fcnblogs.com%2B1%25E3%2580%2582%25E8%25BF%2599%25E5%25B0%25B1%25E5%25A5%25BD%25E6%25AF%2594%25E4%25BD%25A0%25E6%2589%258B%25E9%2587%258C%25E6%258B%25BF%25E7%259D%2580%25E7%259A%2584%25E6%2598%25AF%25E7%25AC%25AC3%25E7%2589%2588%25E7%259A%2584%25E8%25AF%25B4%25E6%2598%258E%25E4%25B9%25A6%25EF%25BC%258C%25E4%25BD%2586%25E4%25BA%25A7%25E5%2593%2581%25E5%25B7%25B2%25E7%25BB%258F%25E6%259B%25B4%25E6%2596%25B0%25E5%2588%25B0%25E7%25AC%25AC5%25E7%2589%2588%25E4%25BA%2586" target="_blank" title="http://cnblogs.com+1%E3%80%82%E8%BF%99%E5%B0%B1%E5%A5%BD%E6%AF%94%E4%BD%A0%E6%89%8B%E9%87%8C%E6%8B%BF%E7%9D%80%E7%9A%84%E6%98%AF%E7%AC%AC3%E7%89%88%E7%9A%84%E8%AF%B4%E6%98%8E%E4%B9%A6%EF%BC%8C%E4%BD%86%E4%BA%A7%E5%93%81%E5%B7%B2%E7%BB%8F%E6%9B%B4%E6%96%B0%E5%88%B0%E7%AC%AC5%E7%89%88%E4%BA%86" ref="nofollow noopener noreferrer">
cnblogs.com+1ã€‚è¿™å°±å¥½æ¯”ä½ æ‰‹é‡Œæ‹¿ç€çš„æ˜¯ç¬¬3ç‰ˆçš„è¯´æ˜ä¹¦ï¼Œä½†äº§å“å·²ç»æ›´æ–°åˆ°ç¬¬5ç‰ˆäº†
</a></p>
<p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ ¸å¿ƒæ€è·¯å°±æ˜¯å°†æ•°æ®åº“çš„å½“å‰ç‰ˆæœ¬ (current) æ›´æ–°åˆ°ä¸æœ€æ–°çš„è¿ç§»è„šæœ¬ç‰ˆæœ¬ (head) ä¸€è‡´ã€‚</p>
<h2 data-id="heading-1">1.æŸ¥çœ‹å½“å‰æ•°æ®åº“çŠ¶æ€ï¼šé¦–å…ˆï¼Œç¡®è®¤ä¸€ä¸‹ç‰ˆæœ¬å·®å¼‚ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œä¾æ¬¡è¿è¡Œï¼š</h2>
<pre><code class="hljs language-nginx" lang="nginx">    # æŸ¥çœ‹æ•°æ®åº“å½“å‰è®°å½•çš„ç‰ˆæœ¬    alembic current    # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„è¿ç§»è„šæœ¬ç‰ˆæœ¬ï¼ˆheadï¼‰    alembic heads
</code></pre>
<p>ä½ é€šå¸¸ä¼šçœ‹åˆ° current çš„ç‰ˆæœ¬å·æ¯” heads çš„ç‰ˆæœ¬å·è¦æ—§ï¼Œæˆ–è€… heads æ˜¾ç¤ºäº†å¤šä¸ªåˆ†æ”¯ï¼ˆè¿™é€šå¸¸æ„å‘³ç€å­˜åœ¨å¤šä¸ªåˆ†æ”¯è¿ç§»éœ€è¦åˆå¹¶ï¼‰ã€‚
åˆ†åˆ«æ˜¾ç¤º</p>
<pre><code class="hljs language-css" lang="css">INFO  <span class="hljs-selector-attr">[[            alembic.runtime.migration]</span>
          ](http://alembic.runtime.migration]) Context impl PostgresqlImpl.INFO  [[
            alembic.runtime.migration]
          ](http://alembic.runtime.migration]) Will assume transactional DDL.
</code></pre>
<p>è¿™è¯å®äº†é—®é¢˜æ‰€åœ¨ï¼šæ•°æ®åº“å½“å‰åœç•™åœ¨ä¸€ä¸ªç©ºç‰ˆæœ¬ï¼Œå¹¶æ²¡æœ‰å¤„äºæœ€æ–°çŠ¶æ€ï¼Œæ‰€ä»¥ Alembic æ‹’ç»ä½ ç”Ÿæˆæ–°çš„è¿ç§»è„šæœ¬ã€‚</p>
<h2 data-id="heading-2">è¯·ç›´æ¥è¿è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</h2>
<pre><code class="hljs language-bash" lang="bash">alembic upgrade <span class="hljs-built_in">head</span>
</code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä¼šæ‰«æ alembic/versions æ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ°æ‰€æœ‰è„šæœ¬ï¼Œå¹¶ä¾æ¬¡åœ¨æ•°æ®åº“ä¸­æ‰§è¡Œå®ƒä»¬ã€‚</p>
<h2 data-id="heading-3">æ‰§è¡Œç»“æœï¼š</h2>
<pre><code class="hljs language-css" lang="css">INFO  <span class="hljs-selector-attr">[[            alembic.runtime.migration]</span>
          ](http://alembic.runtime.migration]) Context impl PostgresqlImpl.INFO  [[
            alembic.runtime.migration]
          ](http://alembic.runtime.migration]) Will assume transactional DDL.INFO  [[
            alembic.runtime.migration]
          ](http://alembic.runtime.migration]) Running upgrade  -&gt; b6a31168d666, init tablesINFO  [[
            alembic.runtime.migration]
          ](http://alembic.runtime.migration]) Running upgrade b6a31168d666 -&gt; a79453452d83, add page design
</code></pre>
<p>æ•°æ®åº“å·²ç»æˆåŠŸå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬äº†ã€‚ä»è¾“å‡º Running upgrade b6a31168d666 -&gt; a79453452d83 å¯ä»¥çœ‹åˆ°ï¼šæ•°æ®åº“å·²ç»æ›´æ–°åˆ°äº† a79453452d83ï¼Œ</p>
<p>æ‰“å¼€æ•°æ®åº“å¯ä»¥çœ‹åˆ°å½“å‰ç‰ˆæœ¬å·ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68efa9c9eee844ab925c73ac0a885cc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57-Z57-Z5YW25769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671753&amp;x-signature=Qu7lfMVa1eBnJyqqP6rmk30qb48%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">é‡æ–°ç”Ÿæˆè¿ç§»ï¼šç°åœ¨å¯ä»¥å†æ¬¡å°è¯•è¿è¡Œ alembic revision --autogenerate -m â€œinit tablesâ€ã€‚</h2>
<pre><code class="hljs language-nginx" lang="nginx">alembic revision --autogenerate -m "init tables"
</code></pre>
<h2 data-id="heading-5">æ˜¾ç¤ºç»“æœï¼š</h2>
<pre><code class="hljs language-css" lang="css">INFO  <span class="hljs-selector-attr">[[            alembic.runtime.migration]</span>
          ](http://alembic.runtime.migration]) Context impl PostgresqlImpl.INFO  [[
            alembic.runtime.migration]
          ](http://alembic.runtime.migration]) Will assume transactional DDL.Generating F:\ä¸‹è½½ç¨‹åºä¸æºç \â˜…â˜…â˜…å¯æ‰§è¡Œé¡¹ç›®æ”¶é›†â˜…â˜…â˜…\zq-platform\backend-fastapi\alembic\versions\<span class="hljs-number">588</span>[
            bd64ec92e_init_tables.py
          ](http://bd64ec92e_init_tables.py) ...  done
</code></pre>
<p>è¾“å‡ºæ˜¾ç¤ºï¼šGenerating ... <a href="https://link.juejin.cn?target=http%3A%2F%2F588bd64ec92e_init_tables.py" target="_blank" title="http://588bd64ec92e_init_tables.py" ref="nofollow noopener noreferrer">
588bd64ec92e_init_tables.py
</a> ... done</p>
<p>è¿™è¡¨ç¤º Alembic æˆåŠŸæ‰«æäº†ä½ çš„ä»£ç å’Œæ•°æ®åº“ï¼Œå¹¶å‘ç°å®ƒä»¬ä¹‹é—´çš„å·®å¼‚ï¼Œè‡ªåŠ¨ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„è¿ç§»è„šæœ¬æ–‡ä»¶ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2F588bd64ec92e_init_tables.py%25E3%2580%2582" target="_blank" title="http://588bd64ec92e_init_tables.py%E3%80%82" ref="nofollow noopener noreferrer">
588bd64ec92e_init_tables.pyã€‚
</a>æ¥ä¸‹æ¥çš„æ­¥éª¤ï¼šè®©ä¿®æ”¹ç”Ÿæ•ˆ
ç°åœ¨è„šæœ¬æ–‡ä»¶åªæ˜¯ç”Ÿæˆäº†ï¼Œä½†æ•°æ®åº“é‡Œçš„è¡¨ç»“æ„è¿˜æ²¡å˜ã€‚ä½ éœ€è¦æ‰§è¡Œæœ€åä¸€æ­¥ï¼š</p>
<ol>
<li>æŸ¥çœ‹ç”Ÿæˆçš„è„šæœ¬ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰
ä½ å¯ä»¥æ‰“å¼€ alembic\versions[
9abfcdbaff03_init_tables.py
](http://9abfcdbaff03_init_tables.py) çœ‹ä¸€çœ¼ã€‚æ£€æŸ¥ upgrade() å‡½æ•°é‡Œæ˜¯å¦åŒ…å«äº† <a href="https://link.juejin.cn?target=http%3A%2F%2Fop.create_table(%25E2%2580%25A6)" target="_blank" title="http://op.create_table(%E2%80%A6)" ref="nofollow noopener noreferrer">
op.create_table(â€¦)
</a> ç­‰è¯­å¥ã€‚å¦‚æœé‚£é‡Œæ˜¯ç©ºçš„ï¼Œè¯´æ˜ Alembic æ²¡æ£€æµ‹åˆ°ä½ çš„æ¨¡å‹å˜åŒ–ï¼Œæˆ–è€…æ¨¡å‹æ²¡æœ‰è¢«æ­£ç¡®å¯¼å…¥ã€‚</li>
<li>æ›´æ–°æ•°æ®åº“ï¼ˆå¿…é¡»æ‰§è¡Œï¼‰
åœ¨ç»ˆç«¯è¿è¡Œï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">alembic upgrade <span class="hljs-built_in">head</span>
</code></pre>
<p>è¿™å°†ä¼šæŠŠåˆšæ‰ç”Ÿæˆçš„è„šæœ¬åº”ç”¨åˆ°ä½ çš„ fastapi_db æ•°æ®åº“ä¸­ï¼Œåˆ›å»ºå¯¹åº”çš„è¡¨ç»“æ„ã€‚</p>
<h2 data-id="heading-6">æ˜¾ç¤º</h2>
<pre><code class="hljs language-css" lang="css">INFO  <span class="hljs-selector-attr">[[            alembic.runtime.migration]</span>
          ](http://alembic.runtime.migration]) Context impl PostgresqlImpl.INFO  [[
            alembic.runtime.migration]
          ](http://alembic.runtime.migration]) Will assume transactional DDL.INFO  [[
            alembic.runtime.migration]
          ](http://alembic.runtime.migration]) Running upgrade a79453452d83 -&gt; <span class="hljs-number">588</span>bd64ec92e, init tables
</code></pre>
<p>æ•°æ®åº“è¿ç§»å·²ç»å®Œå…¨æˆåŠŸäº†ï¼ğŸ‰</p>
<p>ä»è¾“å‡º Running upgrade a79453452d83 -&gt; 588bd64ec92e å¯ä»¥ç¡®è®¤ï¼š</p>
<p>ä½ çš„ fastapi_db æ•°æ®åº“å·²ç»æˆåŠŸåº”ç”¨äº† init tables è„šæœ¬ï¼Œæ‰€æœ‰å®šä¹‰çš„è¡¨ç»“æ„ç°åœ¨éƒ½å·²ç»çœŸå®å­˜åœ¨äºæ•°æ®åº“ä¸­äº†ã€‚
éªŒè¯æˆæœ
å¦‚æœä½ æƒ³ç¡®è®¤è¡¨çœŸçš„åˆ›å»ºå¥½äº†ï¼Œå¯ä»¥ï¼š</p>
<p>1.æ‰“å¼€ pgAdminï¼ˆå¦‚æœä½ å®‰è£…äº†çš„è¯ï¼‰ã€‚</p>
<p>2.è¿æ¥åˆ° fastapi_dbã€‚</p>
<p>3.å±•å¼€ Schemas -&gt; public -&gt; Tablesã€‚</p>
<p>4.ä½ åº”è¯¥èƒ½çœ‹åˆ°åˆšæ‰å®šä¹‰çš„æ‰€æœ‰æ•°æ®è¡¨ï¼ˆæ¯”å¦‚ users ç­‰ï¼‰ã€‚</p>
<p>æˆ–è€…ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ Python ä»£ç ä¸­è¯•ç€å‘æ•°æ®åº“å†™å…¥ä¸€æ¡æ•°æ®ï¼Œçœ‹æ˜¯å¦æŠ¥é”™ã€‚</p>
<h2 data-id="heading-7">å†æ‰§è¡Œpython scripts/<a href="https://link.juejin.cn?target=http%3A%2F%2Floaddata.py" target="_blank" title="http://loaddata.py" ref="nofollow noopener noreferrer">
loaddata.py
</a> <a href="https://link.juejin.cn?target=http%3A%2F%2Fdb_init.json%25EF%25BC%258C%25E5%25AF%25BC%25E5%2585%25A5%25E6%2595%25B0%25E6%258D%25AE%25EF%25BC%258C%25E7%259C%258B%25E5%2588%25B0" target="_blank" title="http://db_init.json%EF%BC%8C%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%8C%E7%9C%8B%E5%88%B0" ref="nofollow noopener noreferrer">
db_init.jsonï¼Œå¯¼å…¥æ•°æ®ï¼Œçœ‹åˆ°
</a></h2>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">å¯¼å…¥å®Œæˆ:  æˆåŠŸ: 38 æ¡  å¤±è´¥: 0 æ¡</span>
</code></pre>
<p>å…ˆä¸è¦æ¿€åŠ¨ï¼ï¼ï¼æ—¥å¿—æœ€åä¸€å¥â€œå¯¼å…¥å®Œæˆ: æˆåŠŸ 38 æ¡ / å¤±è´¥ 0 æ¡â€æ˜¯è„šæœ¬è‡ªå·±æ‰“å°çš„ç»Ÿè®¡ï¼Œå¹¶ä¸çœŸå®â€”â€”</p>
<p>åªè¦å‘ç”Ÿ ROLLBACKï¼Œæ•´ä¸ªäº‹åŠ¡å°±è¢«å›æ»šï¼Œæ•°æ®åº“é‡Œä¸€æ¡æ–°æ•°æ®ä¹Ÿæ²¡æœ‰å†™è¿›å»ã€‚</p>
<h2 data-id="heading-8">çœŸæ­£çš„å¤±è´¥åŸå› å°±æ˜¯è¿™ä¸€æ¡ï¼š</h2>
<pre><code class="hljs language-python" lang="python">[
            asyncpg.exceptions.DataError:
          ](http://asyncpg.exceptions.DataError:)  invalid <span class="hljs-built_in">input</span> <span class="hljs-keyword">for</span> query argument $<span class="hljs-number">4</span>: <span class="hljs-string">'2026-01-11T19:44:39.752685'</span>  (expected a [
            datetime.date
          ](http://datetime.date) <span class="hljs-keyword">or</span> [
            datetime.datetime
          ](http://datetime.datetime) instance, got <span class="hljs-string">'str'</span>)
</code></pre>
<p>ä¹Ÿå°±æ˜¯ <a href="https://link.juejin.cn?target=http%3A%2F%2Fcore_user.last_login" target="_blank" title="http://core_user.last_login" ref="nofollow noopener noreferrer">
core_user.last_login
</a> å­—æ®µä¼ çš„æ˜¯ å­—ç¬¦ä¸²ï¼Œè€Œæ•°æ®åº“åˆ—ç±»å‹æ˜¯ timestamp without time zoneï¼Œå¼‚æ­¥é©±åŠ¨ asyncpg ä¸æ¥å—å­—ç¬¦ä¸²éšå¼è½¬æ¢ã€‚</p>
<h2 data-id="heading-9">å¦‚ä½•ä¿®å¤-</h2>
<pre><code class="hljs language-perl" lang="perl">def parse_datetime(value):    <span class="hljs-string">""</span><span class="hljs-string">"è§£ææ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²"</span><span class="hljs-string">""</span>    <span class="hljs-keyword">if</span> isinstance(value, str):        <span class="hljs-comment"># å°è¯•å¤šç§æ—¥æœŸæ—¶é—´æ ¼å¼        formats = [            "%Y-%m-%dT%H:%M:%S.%f",  # ISO æ ¼å¼å¸¦å¾®ç§’            "%Y-%m-%dT%H:%M:%S",      # ISO æ ¼å¼ä¸å¸¦å¾®ç§’            "%Y-%m-%d %H:%M:%S.%f",   # å¸¦å¾®ç§’çš„ç©ºæ ¼åˆ†éš”æ ¼å¼            "%Y-%m-%d %H:%M:%S",      # ä¸å¸¦å¾®ç§’çš„ç©ºæ ¼åˆ†éš”æ ¼å¼            "%Y-%m-%d",               # ä»…æ—¥æœŸæ ¼å¼        ]                for fmt in formats:            try:                return [</span>
            datetime.strptime(value,
          ](http:<span class="hljs-regexp">//da</span>tetime.strptime(value,) fmt)            except ValueError:                <span class="hljs-keyword">continue</span>                <span class="hljs-comment"># å¦‚æœä»¥ä¸Šæ ¼å¼éƒ½ä¸åŒ¹é…ï¼Œå°è¯• fromisoformat        try:            return [</span>
            datetime.fromisoformat(value.replace(
          ](http:<span class="hljs-regexp">//da</span>tetime.fromisoformat(value.replace()<span class="hljs-string">"Z"</span>, <span class="hljs-string">"+00:00"</span>))        except ValueError:            pass                <span class="hljs-comment"># å¦‚æœæ‰€æœ‰å°è¯•éƒ½å¤±è´¥ï¼Œè¿”å›åŸå§‹å€¼        return value    return value    ......    # è½¬æ¢æ—¥æœŸæ—¶é—´å­—æ®µ                for key, value in [</span>
            fields.items():
          ](http:<span class="hljs-regexp">//</span>fields.items():)                    <span class="hljs-keyword">if</span> isinstance(value, str):                        <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦ä¸ºæ—¥æœŸæ—¶é—´æ ¼å¼çš„å­—ç¬¦ä¸²                        parsed_value = parse_datetime(value)                        # å¦‚æœæˆåŠŸè§£æä¸”è¿”å›çš„æ˜¯ datetime å¯¹è±¡ï¼Œåˆ™æ›¿æ¢åŸå€¼                        if isinstance(parsed_value, datetime):                            fields[key] = parsed_value</span>
</code></pre>
<p>å†æ‰§è¡Œpython scripts/<a href="https://link.juejin.cn?target=http%3A%2F%2Floaddata.py" target="_blank" title="http://loaddata.py" ref="nofollow noopener noreferrer">
loaddata.py
</a> <a href="https://link.juejin.cn?target=http%3A%2F%2Fdb_init.json%25EF%25BC%258C%25E7%259B%25B4%25E8%2587%25B3%25E8%25BF%2599%25E4%25BA%259B%25E6%2595%25B0%25E6%258D%25AE%25E9%2583%25BD%25E5%25AF%25BC%25E5%2585%25A5%25E5%25AE%258C%25E6%2588%2590%25E3%2580%2582" target="_blank" title="http://db_init.json%EF%BC%8C%E7%9B%B4%E8%87%B3%E8%BF%99%E4%BA%9B%E6%95%B0%E6%8D%AE%E9%83%BD%E5%AF%BC%E5%85%A5%E5%AE%8C%E6%88%90%E3%80%82" ref="nofollow noopener noreferrer">
db_init.jsonï¼Œç›´è‡³è¿™äº›æ•°æ®éƒ½å¯¼å…¥å®Œæˆã€‚
</a></p>
<h2 data-id="heading-10">å½“çœ‹åˆ°-</h2>
<pre><code class="hljs language-sql" lang="sql">ä»æ–‡ä»¶å¯¼å…¥æ•°æ®: [
            db_init.json
          ](http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>db_init.json)è¯»å–åˆ° <span class="hljs-number">38</span> æ¡è®°å½•<span class="hljs-number">2026</span><span class="hljs-number">-01</span><span class="hljs-number">-20</span> <span class="hljs-number">17</span>:<span class="hljs-number">07</span>:<span class="hljs-number">52</span>,<span class="hljs-number">224</span> INFO [
            sqlalchemy.engine.Engine
          ](http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>sqlalchemy.engine.Engine) <span class="hljs-keyword">select</span> [
            pg_catalog.version()
          ](http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>pg_catalog.version())<span class="hljs-number">2026</span><span class="hljs-number">-01</span><span class="hljs-number">-20</span> <span class="hljs-number">17</span>:<span class="hljs-number">07</span>:<span class="hljs-number">52</span>,<span class="hljs-number">225</span> INFO [
            sqlalchemy.engine.Engine
          ](http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>sqlalchemy.engine.Engine) [raw <span class="hljs-keyword">sql</span>] ().....<span class="hljs-number">.2026</span><span class="hljs-number">-01</span><span class="hljs-number">-20</span> <span class="hljs-number">17</span>:<span class="hljs-number">07</span>:<span class="hljs-number">52</span>,<span class="hljs-number">276</span> INFO [
            sqlalchemy.engine.Engine
          ](http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>sqlalchemy.engine.Engine) <span class="hljs-keyword">COMMIT</span>å¯¼å…¥å®Œæˆ:  æˆåŠŸ: <span class="hljs-number">38</span> æ¡  å¤±è´¥: <span class="hljs-number">0</span> æ¡
</code></pre>
<p>Â·è„šæœ¬æˆåŠŸè¯»å–äº† <a href="https://link.juejin.cn?target=http%3A%2F%2Fdb_init.json" target="_blank" title="http://db_init.json" ref="nofollow noopener noreferrer">
db_init.json
</a> æ–‡ä»¶ï¼Œè¯†åˆ«å‡ºåŒ…å« 38 æ¡å¾…å¯¼å…¥çš„è®°å½•Â·SQLAlchemy å¼•æ“æˆåŠŸè¿æ¥åˆ° PostgreSQL æ•°æ®åº“ï¼ˆæ—¥å¿—ä¸­å‡ºç° <a href="https://link.juejin.cn?target=http%3A%2F%2Fpg_catalog.version()" target="_blank" title="http://pg_catalog.version()" ref="nofollow noopener noreferrer">
pg_catalog.version()
</a> æ˜¯ PostgreSQL ç‰¹æœ‰çš„æŸ¥è¯¢ï¼‰æ•°æ®åº“éªŒè¯
å‡ºç°è´¦å·æ•°æ®å³ä¸ºæ•°æ®å¯¼å…¥æˆåŠŸã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53abe2ed8ab04c82aa7af82863cd2c85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57-Z57-Z5YW25769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769671753&amp;x-signature=DX3wZdh4jqySDz%2BPyaar3Q2FL8Q%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">å¯åŠ¨æœåŠ¡-</h2>
<pre><code class="hljs language-css" lang="css">python <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.py</span>æˆ–ä½¿ç”¨ uvicornuvicorn <span class="hljs-selector-tag">main</span>:app --reload --host <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span> --port <span class="hljs-number">8000</span>
</code></pre>
<p>è¿™æ ·åˆå§‹æ•°æ®å†™ä¸åˆ°æ•°æ®åº“é—®é¢˜å°±å¯ä»¥å¾—åˆ°æ ¹æœ¬è§£å†³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vivoäº’è”ç½‘å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒè½åœ°å®è·µ]]></title>    <link>https://juejin.cn/post/7597905961663496198</link>    <guid>https://juejin.cn/post/7597905961663496198</guid>    <pubDate>2026-01-22T07:38:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597905961663496198" data-draft-id="7597946284678545427" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vivoäº’è”ç½‘å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒè½åœ°å®è·µ"/> <meta itemprop="keywords" content="åç«¯,è®¾è®¡æ¨¡å¼,æµ‹è¯•"/> <meta itemprop="datePublished" content="2026-01-22T07:38:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="vivoäº’è”ç½‘æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/993614243303053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vivoäº’è”ç½‘å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒè½åœ°å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614243303053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    vivoäº’è”ç½‘æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:38:06.000Z" title="Thu Jan 22 2026 07:38:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œè€…ï¼šäº’è”ç½‘æ•ˆèƒ½å¹³å°å›¢é˜Ÿ-Wu Qinghua<br/>
åœ¨è½¯ä»¶ç ”å‘è¿‡ç¨‹ä¸­ï¼Œâ€œç¯å¢ƒé—®é¢˜â€æ˜¯åˆ¶çº¦ç ”å‘æ•ˆèƒ½çš„å…³é”®ç“¶é¢ˆä¹‹ä¸€ã€‚ç¯å¢ƒä¸ç¨³å®šã€æµ‹è¯•ç¯å¢ƒæ··ä¹±ã€ç¯å¢ƒæŠ¢å ä¸¥é‡ç­‰é—®é¢˜ï¼Œæ˜¾è‘—å½±å“å¼€å‘ä¸æµ‹è¯•æ•ˆç‡ã€‚æœ¬æ–‡ç³»ç»Ÿä»‹ç»vivoé€šè¿‡â€œå…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†â€æ¨¡å¼ï¼Œå®ç°å¼€å‘æµ‹è¯•ç¯å¢ƒçš„å¿«é€Ÿæ„å»ºä¸é«˜æ•ˆç®¡ç†ï¼Œä½¿å¤šç‰ˆæœ¬ç¯å¢ƒèƒ½å¤Ÿåƒâ€œå¹³è¡Œå®‡å®™â€ä¸€èˆ¬ï¼Œå®ç°å®‰å…¨ã€éš”ç¦»ã€é«˜æ•ˆçš„å¹¶è¡Œæµ‹è¯•ä¸å‘å¸ƒã€‚</p>
</blockquote>
<p>æœ¬æ–‡ä¸º2025å¹´ vivo å¼€å‘è€…å¤§ä¼šäº’è”ç½‘æŠ€æœ¯ä¸“åœºåˆ†äº«å†…å®¹ä¹‹ä¸€ï¼Œåœ¨å…¬ä¼—å·â€œvivoäº’è”ç½‘æŠ€æœ¯â€å¯¹è¯æ¡†å›å¤ã€2025VDCã€‘è·å– 2025VDC äº’è”ç½‘æŠ€æœ¯ä¼šåœºè®®é¢˜ç›¸å…³èµ„æ–™ã€‚</p>
<p>1åˆ†é’Ÿçœ‹å›¾æŒæ¡æ ¸å¿ƒè§‚ç‚¹ğŸ‘‡</p>
<p><img src="https://pic-out.zhimg.com/v2-b3f1daf5c84dc9c3e04eebb870db171e~resize:1440:q75.gif?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-0a1f581e6db06623515317108f2fd66b&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/><img src="https://pic-out.zhimg.com/v2-393d6784e67498c7ac8907dac51b5894~resize:1440:q75.jpg?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-6d0129737f46ea0f2b85750b29930b5d&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p><em>å›¾1 VS å›¾2ï¼Œæ‚¨æ›´å€¾å‘äºå“ªå¼ å›¾æ¥è¾…åŠ©ç†è§£å…¨æ–‡å‘¢ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€</em></p>
<h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯&amp;é—®é¢˜</h2>
<h2 data-id="heading-1">1.1 æˆ‘ä»¬é‡åˆ°çš„é—®é¢˜</h2>
<p>åœ¨è½¯ä»¶ç ”å‘è¿‡ç¨‹ä¸­ï¼Œç¯å¢ƒé—®é¢˜å¸¸å¸¸æˆä¸ºå…³é”®è·¯å¾„ä¸Šçš„é˜»å¡ç‚¹ã€‚2020å¹´vivoæŸæ ¸å¿ƒä¸šåŠ¡æ•°æ®æ˜¾ç¤ºï¼Œå› æµ‹è¯•ç¯å¢ƒé—®é¢˜å¯¼è‡´çš„è½¬æµ‹å»¶æœŸå æ¯”é«˜è¾¾67%ï¼Œç­–åˆ’éªŒæ”¶é˜¶æ®µå› ç¯å¢ƒé—®é¢˜å¯¼è‡´çš„å»¶æœŸè¶…è¿‡10æ¬¡ã€‚</p>
<p><img src="https://pic-out.zhimg.com/v2-865c249a1cb489c96c05aae3de3d08d7~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-4ed7aabee3efd172583702164e480136&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p>è¿™äº›æ•°æ®èƒŒåï¼Œåæ˜ çš„æ˜¯ç ”å‘è¿‡ç¨‹ä¸­å¸¸è§çš„å…¸å‹åœºæ™¯ï¼š</p>
<ul>
<li>åœºæ™¯ä¸€ï¼šæ€¥éœ€è”è°ƒæ—¶ï¼Œä¾èµ–æœåŠ¡å¼‚å¸¸ï¼Œå¯¼è‡´ç ”å‘é˜»å¡ï¼›</li>
<li>åœºæ™¯äºŒï¼šå‡†å¤‡æµ‹è¯•æ—¶ï¼Œç¯å¢ƒè¢«å…¶ä»–ç‰ˆæœ¬å ç”¨ï¼Œéœ€æ±‚æ’æœŸè¢«è¿«å»¶åï¼›</li>
<li>åœºæ™¯ä¸‰ï¼šç¯å¢ƒé…ç½®å·®å¼‚å¯¼è‡´çº¿ä¸ŠBugæ¼æµ‹ï¼Œå¼•å‘æ›´å¤šé—®é¢˜ã€‚</li>
</ul>
<p>æ·±å…¥åˆ†æè¯¥ä¸šåŠ¡åœºæ™¯åï¼Œæˆ‘ä»¬å‘ç°ç¯å¢ƒé—®é¢˜ä¸»è¦é›†ä¸­åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š<strong>ç¯å¢ƒä¸ç¨³å®šã€æµ‹è¯•ç¯å¢ƒæ··ä¹±ã€ç¯å¢ƒæŠ¢å ä¸¥é‡ã€èµ„æºåˆ©ç”¨ç‡ä½ä¸‹</strong>ã€‚è¿™äº›é—®é¢˜å¹¶éå•ä¸€é¡¹ç›®ç‰¹æœ‰ï¼Œåœ¨å¾®æœåŠ¡æ¶æ„å’Œå¿«é€Ÿè¿­ä»£æ¨¡å¼ä¸‹ï¼Œå·²æˆä¸ºå¤šä¸ªå›¢é˜Ÿå…±åŒé¢ä¸´çš„æŒ‘æˆ˜ã€‚</p>
<h2 data-id="heading-2">1.2 é—®é¢˜çš„æŒ‘æˆ˜</h2>
<p>éšç€vivoäº’è”ç½‘ä¸šåŠ¡çš„å¿«é€Ÿå‘å±•ï¼Œä¸ºæ»¡è¶³æ›´å¿«å‘å¸ƒéœ€æ±‚ï¼Œæˆ‘ä»¬å…¨é¢è½¬å‘å¾®æœåŠ¡æ¶æ„ã€‚è¿™ä¸€è½¬å˜åœ¨æå‡çµæ´»æ€§ä¸æ•æ·æ€§çš„åŒæ—¶ï¼Œä¹Ÿå¸¦æ¥äº†æ–°çš„ç®¡ç†æŒ‘æˆ˜ã€‚</p>
<p><img src="https://pic-out.zhimg.com/v2-10b1aab4a2aca3d13a2ce3eab59f4753~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-96b84c741055d51220ecf7036245afa3&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p>æŒ‘æˆ˜ä¸»è¦æ¥è‡ªä¸¤ä¸ªç»´åº¦ï¼š</p>
<ul>
<li>**æ¶æ„å±‚é¢ï¼š**æœåŠ¡æ‹†åˆ†å¯¼è‡´æœåŠ¡æ•°é‡æ¿€å¢ï¼Œå„æœåŠ¡éœ€ç‹¬ç«‹éƒ¨ç½²ç»´æŠ¤ï¼Œç³»ç»Ÿè°ƒç”¨é“¾è·¯æ˜¾è‘—å»¶é•¿ï¼Œä»»ä¸€ç¯èŠ‚æ•…éšœéƒ½å¯èƒ½å¯¼è‡´æ•´ä½“åŠŸèƒ½ä¸å¯ç”¨ã€‚</li>
<li>**æµç¨‹å±‚é¢ï¼š**ä¸šåŠ¡å¿«é€Ÿè¿­ä»£éœ€æ±‚æ¨åŠ¨å¤šç‰ˆæœ¬å¹¶è¡Œæ¨è¿›ï¼Œå¦‚ç‰ˆæœ¬Aæµ‹è¯•ã€ç‰ˆæœ¬BåŠŸèƒ½å¼€å‘ã€ç‰ˆæœ¬Cçº¿ä¸Šçƒ­ä¿®å¤ç­‰åŒæ­¥è¿›è¡Œã€‚</li>
</ul>
<p>è¿™äº›å˜åŒ–å åŠ ï¼Œä½¿å¾—ç ”å‘ç¯å¢ƒç®¡ç†å¤æ‚åº¦å¤§å¹…æå‡ï¼Œç¯å¢ƒç¨³å®šæ€§ä¸‹é™ã€èµ„æºæµªè´¹ä¸¥é‡ï¼Œæœ€ç»ˆå¯¼è‡´æ•´ä½“ç ”å‘æ•ˆç‡å—æŸã€‚</p>
<p>ä¼ ç»Ÿç¯å¢ƒç®¡ç†æ–¹å¼å·²éš¾ä»¥æ»¡è¶³å½“å‰éœ€æ±‚ï¼ŒäºŸéœ€ä¸€ç§åˆ›æ–°æ–¹æ³•ï¼Œå®ç°å¤šç‰ˆæœ¬åƒâ€œå¹³è¡Œå®‡å®™â€ä¸€æ ·å®‰å…¨ã€éš”ç¦»ã€é«˜æ•ˆåœ°å¹¶è¡Œæµ‹è¯•ä¸å‘å¸ƒã€‚</p>
<h2 data-id="heading-3">äºŒã€è§£å†³æ–¹æ¡ˆæ€è·¯</h2>
<h2 data-id="heading-4">2.1 ä»€ä¹ˆå«å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†</h2>
<p>ä¸ºè§£å†³ç¯å¢ƒç®¡ç†éš¾é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†â€œå…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†â€ç†å¿µï¼Œå…¶æ ¸å¿ƒåŸºäºä¸‰å¤§å…³é”®èƒ½åŠ›ï¼š</p>
<p><img src="https://pic-out.zhimg.com/v2-feb0358ba17d4e845cbc5c9b4c75d236~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-c4bb6678931862d6af692b27a2337f67&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p><strong>1.å…¨é“¾è·¯èƒ½åŠ›</strong></p>
<p>å•ä¸€æœåŠ¡ç‰ˆæœ¬ç¯å¢ƒä¸è¶³ä»¥ä¿è¯æ•´ä½“åŠŸèƒ½éªŒè¯ã€‚å¿…é¡»ç¡®ä¿ç‰ˆæœ¬ä¾èµ–çš„æ‰€æœ‰ç»„ä»¶â€”â€”ä»å‰ç«¯ã€ç½‘å…³åˆ°å¾®æœåŠ¡ï¼Œå†åˆ°æ•°æ®åº“ã€ç¼“å­˜å’Œæ¶ˆæ¯é˜Ÿåˆ—â€”â€”æ•´æ¡é“¾è·¯èƒ½å¤Ÿä¸€é”®æ‹‰èµ·ã€å¿«é€Ÿå°±ç»ªã€‚ä»¥æ”¯ä»˜ä¸šåŠ¡è°ƒè¯•ä¸ºä¾‹ï¼Œæ— éœ€æ‰‹åŠ¨å¯åŠ¨è´¦æˆ·ã€é£æ§ã€ç»“ç®—ç­‰æœåŠ¡ï¼Œé€šè¿‡ä¸€é”®æ“ä½œå³å¯åˆ†é’Ÿçº§ç”Ÿæˆå®Œæ•´ç¯å¢ƒï¼Œæ•°æ®æµã€é…ç½®æµä¸ç”Ÿäº§ç¯å¢ƒä¿æŒä¸€è‡´ã€‚</p>
<p><strong>2.å¤šç‰ˆæœ¬å¹¶è¡Œ</strong></p>
<p>æ”¯æŒåŒæ—¶åˆ›å»ºå¤šä¸ªâ€œå®Œæ•´ç¯å¢ƒâ€ï¼Œä½¿å„ç‰ˆæœ¬åœ¨ç‹¬ç«‹â€œæ²™ç®±â€ä¸­è¿è¡Œï¼Œå½»åº•è§£å†³èµ„æºæŠ¢å é—®é¢˜ã€‚çƒ­ä¿®å¤ç‰ˆæœ¬å¯åˆ†é’Ÿçº§æ‹‰èµ·ç‹¬ç«‹ç¯å¢ƒï¼Œæ–°åŠŸèƒ½å¼€å‘åŒæ­¥è¿›è¡Œï¼Œå®ç°â€œåˆ†é’Ÿçº§å“åº”ï¼Œé›¶ç­‰å¾…åä½œâ€ã€‚</p>
<p><strong>3.ç¯å¢ƒè‡ªåŠ¨åŒ–ç®¡ç†</strong></p>
<p>é€šè¿‡å…¨ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨åŒ–â€”â€”ä»ç¯å¢ƒæ­å»ºã€å¼¹æ€§ä¼¸ç¼©åˆ°é—²ç½®å›æ”¶ï¼Œå‡å°‘äººå·¥å¹²é¢„ï¼Œé™ä½é”™è¯¯ç‡ï¼Œæå‡èµ„æºåˆ©ç”¨æ•ˆç‡ï¼Œå®ç°é™æœ¬å¢æ•ˆã€‚</p>
<p>åŸºäºè¿™ä¸‰é¡¹æ ¸å¿ƒèƒ½åŠ›ï¼Œçº¿ä¸Šé—®é¢˜æˆ–ç´§æ€¥éœ€æ±‚å‡ºç°æ—¶ï¼Œæˆ‘ä»¬å¯åœ¨å‡ åˆ†é’Ÿå†…åˆ›å»ºç‹¬ç«‹ç¯å¢ƒè¿›è¡ŒéªŒè¯ï¼Œä¸”ä¸å½±å“å…¶ä»–ç‰ˆæœ¬è¿›ç¨‹ã€‚</p>
<h2 data-id="heading-5">2.2 ä¸šåŠ¡ç›®æ ‡ç¤ºæ„å›¾</h2>
<p>ç†è§£å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†ç†å¿µåï¼Œæˆ‘ä»¬çš„æ ¸å¿ƒè§£å†³æ€è·¯ä¹Ÿä»ä¼ ç»Ÿçš„â€œç¯å¢ƒéš”ç¦»â€è½¬å‘â€œæµé‡éš”ç¦»â€æ¨¡å¼ã€‚</p>
<p><img src="https://pic-out.zhimg.com/v2-ecc909fae480a381074f4ddea99bde4e~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-9ad33dba34123062dd14745fc612cd4c&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p>ä¼ ç»Ÿæ–¹å¼ä¸ºæ¯ä¸ªç‰ˆæœ¬æ„å»ºå®Œæ•´ç‹¬ç«‹çš„æµ‹è¯•ç¯å¢ƒï¼Œå¦‚åŒå„è‡ªç‹¬ç«‹çš„çƒŸå›±ã€‚æ­¤æ–¹å¼éš”ç¦»æ€§å¥½ï¼Œä½†èµ„æºæµªè´¹ä¸¥é‡ï¼Œç¯å¢ƒæ•°é‡æœ‰é™ï¼Œæ‰©å±•æ€§å·®ã€‚</p>
<p>å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†æ–¹æ¡ˆåˆ™é‡‡ç”¨ä¸åŒç­–ç•¥ï¼šé¦–å…ˆç»´æŠ¤ç¨³å®šå¯é çš„å…¬ç”¨åŸºçº¿ç¯å¢ƒã€‚å½“æŸç‰ˆæœ¬éœ€å¼€å‘æ–°åŠŸèƒ½æ—¶ï¼Œæ— éœ€ä»å¤´æ­å»ºæ•´å¥—ç¯å¢ƒï¼Œä»…éœ€ä¸ºå®é™…å‘ç”Ÿå˜æ›´çš„æœåŠ¡åˆ›å»ºç‹¬ç«‹çš„â€œç‰¹æ€§ç¯å¢ƒâ€ã€‚</p>
<p>å…³é”®é—®é¢˜åœ¨äºå¦‚ä½•å®ç°æµé‡çš„ç²¾å‡†è·¯ç”±ã€‚ç­”æ¡ˆåœ¨äºæµé‡ç»Ÿä¸€ç½‘å…³å¹³å°ï¼Œè¯¥ç³»ç»Ÿåœ¨æµé‡å…¥å£è¯†åˆ«æ¯ä¸ªè¯·æ±‚çš„ç¯å¢ƒæ ‡ç­¾ï¼Œæ ¹æ®æ ‡ç­¾å°†è¯·æ±‚è·¯ç”±è‡³å¯¹åº”ç‰ˆæœ¬çš„æœåŠ¡å®ä¾‹ã€‚</p>
<p>æœªæ”¹åŠ¨æœåŠ¡ç»§ç»­å…±äº«ç¨³å®šåŸºçº¿ç¯å¢ƒï¼Œå‘ç”Ÿå˜æ›´çš„æœåŠ¡åˆ™æ‹¥æœ‰ç‹¬ç«‹ç¯å¢ƒâ€”â€”é€šè¿‡æµé‡ç²¾å‡†è°ƒåº¦ï¼Œæ—¢ä¿è¯éš”ç¦»æ€§ï¼Œåˆæ˜¾è‘—èŠ‚çº¦èµ„æºä¸æˆæœ¬ã€‚</p>
<p>è¿™ä¸€æ¨¡å¼ç±»ä¼¼äºå•æ ‹å¤§æ¥¼å†…é€šè¿‡ä¸åŒé¢œè‰²æ‰‹ç¯åŒºåˆ†è®¿é—®åŒºåŸŸï¼Œæ•´æ ‹æ¥¼å…±äº«åŸºç¡€è®¾æ–½ï¼Œä½†å„åŒºåŸŸæ´»åŠ¨äº’ä¸å¹²æ‰°ã€‚æµé‡ç»Ÿä¸€ç½‘å…³å¹³å°å……å½“â€œæ™ºèƒ½å‰å°â€ï¼Œè´Ÿè´£è¯†åˆ«â€œæ‰‹ç¯â€ã€è°ƒåº¦æµé‡ï¼Œä½¿å¤šç‰ˆæœ¬å¹¶è¡Œå¼€å‘äº•ç„¶æœ‰åºã€‚</p>
<p><strong>â€œé€»è¾‘éš”ç¦»â€ç›¸è¾ƒäºâ€œç‰©ç†éš”ç¦»â€å±•ç°å‡ºæ˜¾è‘—ä¼˜åŠ¿ï¼šæ›´å¼¹æ€§ã€æ›´ç»æµã€æ›´é«˜æ•ˆã€‚</strong></p>
<h2 data-id="heading-6">2.3 å…¨é“¾è·¯å¤šç‰ˆæœ¬ä¸šåŠ¡æ¶æ„å›¾</h2>
<p>åŸºäºä¸Šè¿°æ€è·¯ï¼Œæˆ‘ä»¬æ„å»ºäº†å®Œæ•´çš„æŠ€æœ¯æ¶æ„ï¼Œæ¸…æ™°å±•ç¤ºç³»ç»Ÿæ ¸å¿ƒç»„ä»¶åŠååŒå·¥ä½œæœºåˆ¶ã€‚</p>
<p><img src="https://pic-out.zhimg.com/v2-ce0374c62efd3968599202863614720e~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-82101d515c362626defb57f2d027dbaa&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p>å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒçš„æ ¸å¿ƒèƒ½åŠ›å¯å½’çº³ä¸ºå››ä¸ªå…³é”®éƒ¨åˆ†ï¼šç¯å¢ƒç¼–æ’ã€æµé‡éš”ç¦»ã€å®¹å™¨éƒ¨ç½²ä¸åˆ†å¸ƒå¼é“¾è·¯ç³»ç»Ÿã€‚</p>
<p>**ç¯å¢ƒç¼–æ’ï¼š**è´Ÿè´£ç»„ç»‡è½¯ä»¶ä»å¼€å‘åˆ°éƒ¨ç½²å„ç¯èŠ‚ï¼Œç¡®ä¿æ¯æ¬¡ä»£ç å˜æ›´å¿«é€Ÿéƒ¨ç½²è‡³æŒ‡å®šç¯å¢ƒã€‚åœ¨å¤šç‰ˆæœ¬ç¯å¢ƒä¸­ï¼Œç¼–æ’ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«ä¸åŒç‰ˆæœ¬ï¼Œè§¦å‘å¯¹åº”æ„å»ºéƒ¨ç½²æµç¨‹ï¼Œä¿è¯å„ç‰ˆæœ¬ç‹¬ç«‹é«˜æ•ˆå°±ç»ªã€‚</p>
<p>**æµé‡éš”ç¦»ï¼š**å®ç°å¤šç‰ˆæœ¬å¹¶è¡Œçš„å…³é”®ã€‚é€šè¿‡çµæ´»è·¯ç”±ç­–ç•¥ï¼Œç²¾ç¡®æ§åˆ¶å„ç‰ˆæœ¬æµé‡èµ°å‘ã€‚æ— è®ºæ˜¯HTTPè¯·æ±‚ã€Dubboè°ƒç”¨è¿˜æ˜¯MQæ¶ˆæ¯ï¼Œå‡èƒ½åœ¨å„è‡ªæœåŠ¡å®ä¾‹é—´æœ‰åºæµè½¬ã€äº’ä¸å¹²æ‰°ï¼Œå¦‚åŒæ™ºèƒ½äº¤é€šç³»ç»Ÿç¡®ä¿ä¸åŒâ€œè½¦æµâ€å„è¡Œå…¶é“ã€‚</p>
<p>**å®¹å™¨éƒ¨ç½²ï¼š**ä¸ºç¯å¢ƒæä¾›è½»é‡ã€æ ‡å‡†åŒ–å°è£…æ–¹å¼ï¼Œå„æœåŠ¡åŠå…¶ä¾èµ–æ‰“åŒ…ä¸ºç‹¬ç«‹é•œåƒã€‚å€ŸåŠ©å®¹å™¨æŠ€æœ¯ï¼Œå®ç°åº”ç”¨ç§’çº§å¯åŠ¨ä¸å¼¹æ€§ä¼¸ç¼©ã€‚å¤šç‰ˆæœ¬åœºæ™¯ä¸‹ï¼Œå„ç‰ˆæœ¬å¯å¿«é€Ÿæ‹‰èµ·è‡ªèº«å®ä¾‹ç»„ï¼Œæå¤§æå‡èµ„æºåˆ©ç”¨ç‡ä¸å‘å¸ƒæ•ˆç‡ã€‚</p>
<p>**åˆ†å¸ƒå¼é“¾è·¯ç³»ç»Ÿï¼š**æ¶æ„çš„â€œå¯è§‚æµ‹æ€§â€åŸºç¡€ï¼Œå®æ—¶è¿½è¸ªè®°å½•è¯·æ±‚åœ¨å¾®æœåŠ¡é—´çš„å®Œæ•´æµåŠ¨è·¯å¾„å¹¶ä¼ é€’ç¯å¢ƒæ ‡ç­¾ã€‚å½“è¯·æ±‚è¿›å…¥ç³»ç»Ÿï¼Œç»å¤šæœåŠ¡å¤„ç†æ—¶ï¼Œè¯¥ç³»ç»Ÿå®Œæ•´è®°å½•å…¶â€œè¶³è¿¹â€â€”â€”åŒ…æ‹¬ç»è¿‡æœåŠ¡ã€æºå¸¦æ ‡ç­¾ã€æ˜¯å¦å¼‚å¸¸ï¼Œä¸ºé—®é¢˜æ’æŸ¥ä¸æ€§èƒ½ä¼˜åŒ–æä¾›å…³é”®æ”¯æ’‘ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ·±å…¥è§£æå…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒèƒŒåçš„ä¸‰å¤§å…³é”®æŠ€æœ¯å®ç°ã€‚</p>
<h2 data-id="heading-7">ä¸‰ã€å…³é”®æŠ€æœ¯å®ç°</h2>
<p>ä»å®ç°è§†è§’èšç„¦ï¼Œæ ¸å¿ƒæŠ€æœ¯ä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç¯å¢ƒç¼–æ’ - è´Ÿè´£æŒ‡æŒ¥ä¸åˆ›é€ </li>
<li>èµ„æºå¼¹æ€§ - è´Ÿè´£æ”¯æ’‘ä¸ä¾›ç»™</li>
<li>æµé‡éš”ç¦» - è´Ÿè´£è¯†åˆ«ä¸è·¯ç”±</li>
</ul>
<p>ä¸‰å¤§æŠ€æœ¯å½¢æˆæœ‰æœºæ•´ä½“ï¼Œç´§å¯†åä½œï¼Œç¼ºä¸€ä¸å¯ã€‚</p>
<p><img src="https://pic-out.zhimg.com/v2-5501c2091c83ce7ba57a9cc915fe9e2d~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-4af044e65cf6b7260f9f68ec05cde2e4&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">3.1 ç¯å¢ƒç¼–æ’</h2>
<p><img src="https://pic-out.zhimg.com/v2-af553106b0392ad39017282cee74ca0b~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-1ccb49092ac8441cb3f5a90b4dd1c340&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p>å®ç°å¤šç‰ˆæœ¬å¹¶è¡Œçš„ç¬¬ä¸€æ­¥æ˜¯é«˜æ•ˆã€æ ‡å‡†åŒ–åœ°â€œåˆ›å»ºç¯å¢ƒâ€ã€‚</p>
<p>è¿™ä¸»è¦ç”±CI/CDå¹³å°æ”¯æ’‘ï¼Œå®ƒä¸ä»…æ˜¯è‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ›´æ˜¯å¼ºå¤§çš„å¯è§†åŒ–ç¯å¢ƒç¼–æ’å™¨ã€‚å¼€å‘äººå‘˜åœ¨ç•Œé¢å®šä¹‰å¾…éƒ¨ç½²æœåŠ¡ï¼Œç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«æœåŠ¡é—´ä¾èµ–å…³ç³»ï¼Œåˆ¤æ–­å“ªäº›å¯å¹¶è¡Œéƒ¨ç½²ã€å“ªäº›éœ€ä¸²è¡Œæ‰§è¡Œï¼Œæœ€ç»ˆå®ç°â€œä¸€é”®å®Œæˆâ€ç¯å¢ƒç¼–æ’ã€‚</p>
<p>ä¼˜åŠ¿æ˜¾è€Œæ˜“è§ï¼šæ— è®ºæ˜¯å…¨æ–°ç‰ˆæœ¬ç¯å¢ƒæ­å»ºï¼Œè¿˜æ˜¯å•ä¸€æœåŠ¡æ›´æ–°ï¼Œå‡å¯é€šè¿‡å•æ¬¡ç‚¹å‡»ï¼Œåœ¨åˆ†é’Ÿçº§åˆ«å¿«é€Ÿå®Œæˆï¼Œä½¿â€œç§’çº§æ‹‰èµ·ç‹¬ç«‹å®Œæ•´ç¯å¢ƒâ€æˆä¸ºç ”å‘æµç¨‹å¸¸æ€ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼ŒCI/CDå¹³å°åœ¨å…¨é“¾è·¯å¤šç‰ˆæœ¬ä¸­æä¾›ä¸¤æ–¹é¢å…³é”®æ”¯æ’‘ï¼š</p>
<ul>
<li>**å…¨é“¾è·¯èƒ½åŠ›æ”¯æŒï¼š**å®ç°ä»£ç æäº¤åˆ°è‡ªåŠ¨åŒ–éªŒè¯çš„ç«¯åˆ°ç«¯é›†æˆï¼Œç¡®ä¿å„ç¯å¢ƒé…ç½®ä¸€è‡´ï¼Œå¤§å¹…å‡å°‘ç¯å¢ƒå·®å¼‚é—®é¢˜ã€‚åŒæ—¶ç²¾ç»†ç®¡ç†å¾®æœåŠ¡é—´ä¾èµ–ï¼Œæ”¯æŒä¸²å¹¶è¡Œæ··åˆæ‰§è¡Œï¼Œä½¿å¤æ‚éƒ¨ç½²æµç¨‹äº•ç„¶æœ‰åºã€‚</li>
<li>**å¤šç‰ˆæœ¬å¹¶è¡Œæ”¯æŒï¼š**å¹³å°æ ¹æ®ä»£ç åˆ†æ”¯è‡ªåŠ¨è§¦å‘ç‹¬ç«‹æ„å»ºéƒ¨ç½²æµç¨‹ï¼Œä¸ºå„ç‰ˆæœ¬åˆ›å»ºéš”ç¦»ç¯å¢ƒã€æ·»åŠ ç¯å¢ƒæ ‡ç­¾ï¼Œå®ç°ç¯å¢ƒé«˜æ•ˆå¤ç”¨ä¸éš”ç¦»ã€‚åº•å±‚å¯¹æ¥å¼ºå¤§å®¹å™¨åŒ–å¹³å°ï¼Œä¸ºç¯å¢ƒå¿«é€Ÿå¯åŠ¨æä¾›æŠ€æœ¯ä¿éšœã€‚</li>
</ul>
<p>CI/CDå¹³å°ä½œä¸ºå¤šç‰ˆæœ¬ç¯å¢ƒä½“ç³»çš„â€œæŒ‡æŒ¥ä¸­å¿ƒâ€ï¼Œé«˜æ•ˆè°ƒåº¦å››å¤§æ ¸å¿ƒç»„ä»¶â€”â€”ä¸ºå®¹å™¨éƒ¨ç½²æä¾›è°ƒåº¦ä¾æ®ï¼Œä¸ºæµé‡éš”ç¦»å‡†å¤‡ç¯å¢ƒæ ‡ç­¾ï¼Œä½¿åˆ†å¸ƒå¼é“¾è·¯ç³»ç»Ÿå……åˆ†å‘æŒ¥è·Ÿè¸ªä¸è§‚æµ‹èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-9">3.2 å¼¹æ€§èµ„æº</h2>
<p><img src="https://pic-out.zhimg.com/v2-04491f1904b27f4536c567cce33131f5~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-83ce4b0e0fcae82035e548d3cfc7df6a&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p>æŒ‡ä»¤å‘å‡ºåï¼Œéœ€è¦å¼ºå¥çš„â€œæ‰§è¡Œä½“â€é«˜æ•ˆè½å®ã€‚vivoå®¹å™¨åŒ–å¹³å°æ­£æ˜¯è¿™ä¸€å¼ºå¤§ã€å¯é çš„å®ä½“ã€‚</p>
<p>å¼¹æ€§èµ„æºèƒ½åŠ›ç”±å®¹å™¨åŒ–å¹³å°æ ¸å¿ƒæ”¯æ’‘ã€‚å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè½»æ¾ã€å¿«é€Ÿåˆ›å»ºå¤§é‡éš”ç¦»ç¯å¢ƒï¼ŒèƒŒåä¾èµ–çš„æ­£æ˜¯å®¹å™¨æŠ€æœ¯ã€‚</p>
<p>**å®¹å™¨åŒ–å·¥ä½œåŸç†ç®€è¿°ï¼š**å¼€å‘è€…å°†åº”ç”¨åŠå…¶æ‰€æœ‰ä¾èµ–æ‰“åŒ…ä¸ºæ ‡å‡†å®¹å™¨é•œåƒã€‚è¯¥é•œåƒå¯åœ¨ä»»ä½•æ”¯æŒå®¹å™¨çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œç¡®ä¿å¼€å‘ã€æµ‹è¯•ã€é¢„å‘å’Œç”Ÿäº§ç¯å¢ƒé«˜åº¦ä¸€è‡´ï¼ŒçœŸæ­£å®ç°â€œä¸€æ¬¡æ„å»ºï¼Œéšå¤„è¿è¡Œâ€ï¼Œä»æ ¹æºè§£å†³ç¯å¢ƒå·®å¼‚é—®é¢˜ã€‚</p>
<p>èµ„æºåˆ©ç”¨ç‡æ–¹é¢ï¼Œå®¹å™¨æŠ€æœ¯ä¼˜åŠ¿æ˜æ˜¾ã€‚ä¼ ç»Ÿè™šæ‹Ÿæœºéƒ¨ç½²ä¸­ï¼Œå•èŠ‚ç‚¹é€šå¸¸ä»…è¿è¡Œå•ä¸€åº”ç”¨ï¼Œèµ„æºåˆ©ç”¨ç‡ä½ã€‚å®¹å™¨åŒ–éƒ¨ç½²å…è®¸å¤šä¸ªå®¹å™¨å…±äº«èŠ‚ç‚¹æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œè½»é‡é«˜æ•ˆã€‚å¯¹å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†è€Œè¨€ï¼Œè¿™æ„å‘³ç€å¯ä½æˆæœ¬ã€é«˜æ•ˆç‡åˆ›å»ºå¤§é‡éš”ç¦»ç¯å¢ƒã€‚ä»¥å¾€éœ€10å°æœåŠ¡å™¨æ”¯æ’‘çš„å¤šç‰ˆæœ¬æµ‹è¯•ï¼Œç°ä»…éœ€3-4å°ï¼Œæˆæœ¬æ˜¾è‘—é™ä½ã€‚</p>
<p>æ­¤å¤–ï¼Œå®¹å™¨å¹³å°å…·å¤‡è‡ªåŠ¨æ‰©ç¼©å®¹èƒ½åŠ›ï¼Œè¿™åœ¨å¤šç‰ˆæœ¬åœºæ™¯ä¸­å°¤ä¸ºé‡è¦ï¼šç‰¹æ€§ç¯å¢ƒå‹åŠ›æµ‹è¯•æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨æ‰©å®¹ä¿éšœç¨³å®šæ€§ï¼›æµ‹è¯•ç»“æŸç¯å¢ƒé—²ç½®æ—¶ï¼Œèµ„æºè‡ªåŠ¨ç¼©å®¹å›æ”¶ï¼ŒçœŸæ­£å®ç°æŒ‰éœ€ä½¿ç”¨ã€é«˜æ•ˆèŠ‚èƒ½ã€‚</p>
<p>å®¹å™¨åŒ–å¸¦æ¥ä¸‰å¤§æ ¸å¿ƒä»·å€¼ï¼šç¯å¢ƒæ ‡å‡†åŒ–ã€èµ„æºé«˜æ•ˆåŒ–ä¸ä¼¸ç¼©è‡ªåŠ¨åŒ–ã€‚è¿™äº›èƒ½åŠ›ç»„åˆä½¿æˆ‘ä»¬èƒ½å¤Ÿè½»æ¾ç»´æŠ¤å¤šç‰ˆæœ¬å¹¶è¡Œç ”å‘ï¼ŒåŠ é€Ÿäº§å“è¿­ä»£ï¼Œæé«˜ç³»ç»Ÿç¨³å®šæ€§ï¼ŒåŒæ—¶æ˜¾è‘—é™ä½æˆæœ¬ã€‚</p>
<p>å¯¹ä¸šåŠ¡å›¢é˜Ÿè€Œè¨€ï¼Œè¿™æ„å‘³ç€æ›´å¿«åŠŸèƒ½äº¤ä»˜ã€æ›´ç¨³å®šç³»ç»Ÿè¿è¡Œä¸æ›´é«˜èµ„æºåˆ©ç”¨ç‡ã€‚è¿™æ˜¯å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒæ”¯æ’‘å¤§é‡ç¯å¢ƒå¹¶è¡Œè€Œæ— éœ€æ‹…å¿§èµ„æºæˆæœ¬æ¿€å¢çš„æ ¹æœ¬åŸå› ã€‚</p>
<h2 data-id="heading-10">3.3 æµé‡éš”ç¦»&amp;æµé‡æŸ“è‰²</h2>
<p>ç¯å¢ƒä¸èµ„æºå°±ç»ªåï¼Œç¡®ä¿æµé‡â€œå¯¹å·å…¥åº§â€æ˜¯å®ç°éš”ç¦»æ€§çš„å…³é”®ã€‚è¿™å¼•å‡ºä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šâ€œæµé‡éš”ç¦»â€ä¸â€œæµé‡æŸ“è‰²â€ã€‚</p>
<h3 data-id="heading-11">3.3.1 æµé‡éš”ç¦»å’Œæµé‡æŸ“è‰²çš„å®šä¹‰</h3>
<p><strong>æµé‡éš”ç¦»</strong>æŒ‡ç”±ç»Ÿä¸€æµé‡ç½‘å…³å¹³å°ç»´æŠ¤æ™ºèƒ½è·¯ç”±è¡¨ï¼Œè®°å½•â€œç¯å¢ƒæ ‡ç­¾â€ä¸â€œæœåŠ¡å®ä¾‹åœ°å€â€é—´æ˜ å°„å…³ç³»ã€‚</p>
<p><img src="https://pic-out.zhimg.com/v2-a922420feeb8203a55fdc635db3d89e6~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-0266178a491187fde6630959ab0aa176&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p>å¦‚å›¾ç¤ºï¼šFeature1ç¯å¢ƒæµé‡ä»…è·¯ç”±è‡³IP1ã€IP2å®ä¾‹ï¼›Feature2æµé‡æŒ‡å‘IP3ã€IP4å®ä¾‹ï¼Œå®ç°çœŸæ­£äº’ä¸å¹²æ‰°ã€‚</p>
<p><strong>æµé‡æŸ“è‰²</strong>å¦‚åŒä¸ºæ¯æ‰¹æµé‡åˆ†é…â€œé¢œè‰²æ ‡è¯†â€ã€‚è¯·æ±‚è¿›å…¥ç½‘å…³å‰ï¼Œä¸ºå…¶æ·»åŠ æ˜ç¡®ç¯å¢ƒæ ‡è¯†ï¼Œå£°æ˜â€œå±äºFeature1â€æˆ–â€œå±äºFeature2â€ã€‚ç½‘å…³æ®æ­¤æ­£ç¡®è¯†åˆ«ä¸è·¯ç”±ã€‚</p>
<p>ç†è§£æµé‡éš”ç¦»ä¸æŸ“è‰²åï¼Œéœ€å°†å…¶åº”ç”¨äºçœŸå®ç½‘ç»œç¯å¢ƒã€‚å¾®æœåŠ¡æ¶æ„ä¸‹ï¼Œæµé‡åŸºæœ¬åˆ†ä¸ºä¸¤ç±»ï¼šå—åŒ—æµé‡ä¸ä¸œè¥¿æµé‡ã€‚</p>
<p>å›¾ç¤ºè¯´æ˜ï¼š</p>
<ul>
<li>**å—åŒ—æµé‡ï¼š**å¤–éƒ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é—´æµé‡ï¼Œå³â€œè¿›å‡ºæ•°æ®ä¸­å¿ƒæµé‡â€ï¼›</li>
<li>**ä¸œè¥¿æµé‡ï¼š**æ•°æ®ä¸­å¿ƒå†…éƒ¨æœåŠ¡å™¨é—´æµé‡ï¼Œå³å¾®æœåŠ¡é—´è°ƒç”¨ã€‚</li>
</ul>
<p>åœ¨vivoå®è·µä¸­ï¼š</p>
<ul>
<li>HTTPæµé‡ç”±vivoç»Ÿä¸€è®¿é—®å¹³å°å¤„ç†ï¼›</li>
<li>Dubboæµé‡ç”±DubboæœåŠ¡æ²»ç†å¹³å°è´Ÿè´£ï¼›</li>
<li>MQæ¶ˆæ¯é€šè¿‡MQæ¶ˆæ¯ç½‘å…³å¹³å°è·¯ç”±ã€‚</li>
</ul>
<h3 data-id="heading-12">3.3.2 æµé‡éš”ç¦»å®ç°</h3>
<p><img src="https://pic-out.zhimg.com/v2-bdfa61ee517a04b1db09a989cc9b99f4~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-897a9937ff2ec8b8ee4a7fe6c3e1080a&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p><strong>1.HTTPæµé‡éš”ç¦»</strong></p>
<p>è¿‡ç¨‹å¦‚å›¾ç»¿è‰²è·¯å¾„æ‰€ç¤ºã€‚å§‹äºç¯å¢ƒç¼–æ’é˜¶æ®µï¼šé€šè¿‡æµæ°´çº¿éƒ¨ç½²æœåŠ¡æ—¶ï¼Œä¸ºå„å®ä¾‹æ³¨å…¥å”¯ä¸€ç¯å¢ƒæ ‡ç­¾ã€‚åŒæ—¶ï¼Œvivoç»Ÿä¸€è®¿é—®å¹³å°å»ºç«‹â€œç¯å¢ƒæ ‡ç­¾â€ä¸åç«¯æœåŠ¡å®ä¾‹ç»„ï¼ˆUpstreamï¼‰çš„ç»‘å®šå…³ç³»ï¼Œè§¦å‘åˆ›å»ºç›¸åº”CRDå¹¶å®æ–½ç›‘å¬ã€‚</p>
<p>æ­¤åï¼Œæ— è®ºæ˜¯éƒ¨ç½²ã€å®ä¾‹æ‰©å®¹ã€ç¼©å®¹è¿˜æ˜¯é‡å¯ï¼Œåªè¦å®ä¾‹IPå’Œç«¯å£å˜åŒ–ï¼Œå˜æ›´éƒ½ä¼šè¢«å®æ—¶ç›‘å¬å¹¶åŠ¨æ€æ›´æ–°è‡³ç½‘å…³è·¯ç”±è§„åˆ™ï¼Œå½¢æˆé«˜æ•ˆè‡ªåŠ¨åŒ–é—­ç¯ï¼Œç¡®ä¿æ¯ä¸ªå¸¦ç¯å¢ƒæ ‡ç­¾çš„HTTPè¯·æ±‚è¢«ç½‘å…³ç²¾å‡†è·¯ç”±è‡³æ­£ç¡®ç‰¹æ€§ç¯å¢ƒå®ä¾‹ã€‚</p>
<p><strong>2.DUBBOåè®®éš”ç¦»</strong></p>
<p>å€ŸåŠ©Dubboå®˜æ–¹åŸç”Ÿæ ‡ç­¾è·¯ç”±èƒ½åŠ›å®ç°ã€‚åŸç†ç›´è§‚ï¼šå°†æœåŠ¡å®ä¾‹åŠ¨æ€åˆ’åˆ†è‡³ä¸åŒé€»è¾‘åˆ†ç»„ï¼Œçº¦æŸå¸¦ç‰¹å®šæ ‡ç­¾æµé‡ä»…èƒ½è®¿é—®æŒ‡å®šåˆ†ç»„ã€‚vivoå®è·µä¸­ï¼Œæ‰“æ ‡åŠ¨ä½œå‘ç”Ÿäºéƒ¨ç½²ç¯èŠ‚ã€‚å®¹å™¨å¯åŠ¨æ—¶ï¼ŒInit Containerè‡ªåŠ¨è°ƒç”¨DubboæœåŠ¡æ²»ç†å¹³å°ï¼Œé€šè¿‡åŠ¨æ€è§„åˆ™é…ç½®ï¼Œæ— æ„Ÿåœ°ä¸ºå½“å‰æœåŠ¡å®ä¾‹æ·»åŠ ç¯å¢ƒæ ‡ç­¾ã€‚æ•´ä¸ªè¿‡ç¨‹æ— éœ€é‡å¯æœåŠ¡ï¼Œé…ç½®å®æ—¶ç”Ÿæ•ˆï¼Œå®Œç¾æ”¯æŒå…¨é“¾è·¯å¤šç‰ˆæœ¬å¯¹çµæ´»æ€§ä¸å®æ—¶æ€§è¦æ±‚ã€‚</p>
<p><strong>3.æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰éš”ç¦»</strong></p>
<p>ä¸å‰ä¸¤è€…ä¸åŒï¼ŒMQç»„ä»¶æœ¬èº«ç¼ºä¹å®Œå–„éš”ç¦»æœºåˆ¶ã€‚æˆ‘ä»¬åŸºäºMQæ¶ˆæ¯ç½‘å…³å¹³å°mq-proxyç»„ä»¶å®ç°ã€‚</p>
<p>å®ç°æ–¹å¼å·§å¦™ï¼šç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å¯åŠ¨å¹¶ä¸mq-proxyå»ºç«‹è¿æ¥æ—¶ï¼Œåœ¨è¿æ¥å±æ€§ä¸­æºå¸¦è‡ªèº«ç¯å¢ƒæ ‡ç­¾ã€‚æ¶ˆæ¯ç”Ÿäº§æ—¶ï¼Œmq-proxyæ‹¦æˆªæ¶ˆæ¯ï¼Œå°†ç¯å¢ƒæ ‡ç­¾å†™å…¥æ¶ˆæ¯user-propertyä¸­ã€‚æ¶ˆè´¹æ—¶ï¼Œmq-proxyæ ¹æ®æ¶ˆæ¯ä¸­æ ‡ç­¾ä¸æ¶ˆè´¹è€…è‡ªèº«ç¯å¢ƒæ ‡ç­¾è¿›è¡ŒåŒ¹é…è¿‡æ»¤ï¼Œç¡®ä¿æ¶ˆæ¯ä¸ä¼šè¢«è·¨ç¯å¢ƒæ¶ˆè´¹ã€‚æ•´ä¸ªè¿‡ç¨‹å¯¹ä¸šåŠ¡ä»£ç å®Œå…¨é€æ˜ï¼Œå®ç°æ— ä¾µå…¥éš”ç¦»ã€‚</p>
<h3 data-id="heading-13">3.3.3 æµé‡æŸ“è‰²å®ç°</h3>
<p><img src="https://pic-out.zhimg.com/v2-a86ea039244e980d0e63b2581a3ee15b~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-728fe379ff538dfbac95f380bd30b605&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p>**å—åŒ—æµé‡æŸ“è‰²ï¼š**å®¢æˆ·ç«¯è‡³æœåŠ¡å™¨ç«¯æµé‡æŸ“è‰²å®ç°æ–¹å¼å¦‚ä¸‹ã€‚</p>
<ul>
<li>**HTTPè¯·æ±‚ï¼š**åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ ç¯å¢ƒä¿¡æ¯ï¼Œæ¨èä½¿ç”¨ModHeaderç­‰æµè§ˆå™¨æ’ä»¶ï¼Œä¾¿æ·åœ°åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ env_tag=feature1ç­‰ä¿¡æ¯ã€‚</li>
<li>**Dubboè°ƒç”¨ï¼š**å°†ç¯å¢ƒæ ‡ç­¾ç½®äºAttachmentä¸­ï¼Œæä¾›ç®€æ´APIï¼Œå¼€å‘è€…åªéœ€åœ¨å‘èµ·è°ƒç”¨å‰ï¼Œé€šè¿‡RpcContext.setAttachment("dubbo.tag","feature1")ä»£ç å³å¯è®¾ç½®ç¯å¢ƒæ ‡ç­¾ï¼Œå¯¹ä¸šåŠ¡ä»£ç ä¾µå…¥æ€§æä½ã€‚</li>
<li>**MQæµé‡æŸ“è‰²ï¼š**å¯¹ä¸šåŠ¡æ–¹å®Œå…¨é€æ˜ï¼Œç”±å‰è¿°mq-proxyç»„ä»¶è‡ªåŠ¨å®Œæˆï¼Œä¸šåŠ¡ä»£ç æ— æ„ŸçŸ¥ã€‚</li>
</ul>
<p><img src="https://pic-out.zhimg.com/v2-4398737ec2038b0aceecb41ab4fa42dc~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-48745f5d8a8a4e791087fe6dde4f191c&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p>**å…·ä½“å®ç°ï¼š**ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å¯åŠ¨æ—¶ï¼Œä¸mq-proxyå»ºç«‹è¿æ¥ï¼Œä½¿ç”¨è¿æ¥å±æ€§v-env-tagå­˜æ”¾ç¯å¢ƒæ ‡ç­¾ï¼Œå³å›¾ç¤ºä¸­é—´å¯åŠ¨éƒ¨åˆ†ã€‚æ¶ˆæ¯ç”Ÿäº§æ¶ˆè´¹ç¯èŠ‚ä¸­ï¼Œç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯æ—¶ï¼Œmq-proxyæ‹¦æˆªæ¶ˆæ¯ï¼Œå°†ç¯å¢ƒæ ‡ç­¾å†™å…¥æ¶ˆæ¯user-propertyä¸­ã€‚</p>
<p>æ¶ˆæ¯æ¶ˆè´¹ç«¯ï¼Œmq-proxyæ‹‰å–æ¶ˆæ¯æ—¶ï¼Œè·å–æ¶ˆæ¯ä¸­ç¯å¢ƒæ ‡ç­¾ä¿¡æ¯å¹¶è¿›è¡Œè¿‡æ»¤ï¼Œæ¨é€è‡³å¯¹åº”ç¯å¢ƒæœåŠ¡å®ä¾‹ï¼Œç¡®ä¿ä»…æ¶ˆè´¹å±äºå½“å‰ç¯å¢ƒçš„æ¶ˆæ¯ã€‚é€šè¿‡æ­¤æœºåˆ¶ï¼Œä¿è¯æ¶ˆæ¯åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸæºå¸¦ç¯å¢ƒæ ‡è¯†ï¼Œå®ç°MQæµé‡æŸ“è‰²ã€‚</p>
<h3 data-id="heading-14">3.3.4 æ ‡ç­¾çš„ä¼ é€’</h3>
<p><img src="https://pic-out.zhimg.com/v2-2d66007e2afc694213d2f4759988ebf5~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-527d53b39cd37031b5794e8dd111bcdc&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p>æœ€å¤æ‚éƒ¨åˆ†åœ¨äºç¯å¢ƒæ ‡ç­¾åœ¨æ•´æ¡è°ƒç”¨é“¾ä¸­<strong>è‡ªåŠ¨ä¼ é€’</strong>ã€‚é€šè¿‡vivoåˆ†å¸ƒå¼é“¾è·¯ç³»ç»Ÿå®ç°ï¼Œæ ¸å¿ƒæŠ€æœ¯ä¸ºjavaagentï¼Œé€šè¿‡è°ƒç”¨é“¾Agenté€æ˜å®Œæˆæ­¤é¡¹â€œæ¥åŠ›â€å·¥ä½œã€‚</p>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼šæ¥è‡ªå®¢æˆ·ç«¯çš„HTTPè¯·æ±‚æºå¸¦env_tag=feature1ï¼Œç½‘å…³å°†å…¶è·¯ç”±è‡³feature1ç¯å¢ƒçš„ç”¨æˆ·ä¸­å¿ƒã€‚ç”¨æˆ·ä¸­å¿ƒéœ€è°ƒç”¨ç§¯åˆ†ä¸­å¿ƒæ—¶ï¼Œè°ƒç”¨é“¾Agentæ‹¦æˆªæ­¤æ¬¡Dubboè°ƒç”¨ï¼Œä»HTTPè¯·æ±‚å¤´ä¸­è·å–env_tagï¼Œå¹¶æ³¨å…¥Dubboè°ƒç”¨çš„Attachmentä¸­ï¼Œç§¯åˆ†ä¸­å¿ƒå› æ­¤æ”¶åˆ°è¯¥æ ‡ç­¾ã€‚ç§¯åˆ†ä¸­å¿ƒå¤„ç†å®Œæ¯•ï¼Œéœ€å‘é€MQæ¶ˆæ¯é€šçŸ¥æ´»åŠ¨ä¸­å¿ƒã€‚æ­¤æ—¶Agentå†æ¬¡æ‹¦æˆªï¼Œä»Dubbo Attachmentä¸­è·å–æ ‡ç­¾ï¼Œå†™å…¥MQæ¶ˆæ¯å±æ€§ã€‚æœ€ç»ˆï¼Œä»…æ ‡æ³¨feature1çš„æ´»åŠ¨ä¸­å¿ƒå®ä¾‹æ¶ˆè´¹æ­¤æ¶ˆæ¯ã€‚æ•´æ¡é“¾è·¯ä¸­ï¼Œå¦‚æœ‰ç¯èŠ‚æœªåŒ¹é…ç¯å¢ƒæ ‡ç­¾ï¼Œæµé‡åˆ™å›é€€è‡³åŸºçº¿ç¯å¢ƒã€‚</p>
<p>å¦‚æ­¤ï¼Œç¯å¢ƒæ ‡ç­¾åœ¨HTTPâ†’Dubboâ†’MQå®Œæ•´é“¾è·¯ä¸­è‡ªåŠ¨ä¼ é€’ï¼Œç¡®ä¿å…¨é“¾è·¯ç¯å¢ƒéš”ç¦»ï¼ŒçœŸæ­£å®ç°â€œä¸€æ¬¡æŸ“è‰²ï¼Œå…¨ç¨‹ç”Ÿæ•ˆâ€ã€‚</p>
<p>å›é¡¾å…³é”®æŠ€æœ¯éƒ¨åˆ†ï¼š**ç¯å¢ƒç¼–æ’æ˜¯æŒ‡æŒ¥ä¸­å¿ƒï¼Œè´Ÿè´£è°ƒåº¦ä¸åˆ›é€ ï¼›å¼¹æ€§èµ„æºæ˜¯æ‰§è¡Œå®ä½“ï¼Œè´Ÿè´£æ”¯æ’‘ä¸è¿è¡Œï¼›æµé‡éš”ç¦»ä¸æŸ“è‰²æ˜¯ä¼ å¯¼ç³»ç»Ÿï¼Œè´Ÿè´£ç²¾å‡†è¯†åˆ«ä¸è·¯ç”±ã€‚**ä¸‰è€…æœ‰æœºç»“åˆï¼Œæ„æˆå…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†çš„ç¨³å›ºæ¶æ„ï¼Œç¼ºä¸€ä¸å¯ã€‚</p>
<h2 data-id="heading-15">å››ã€ä¸šåŠ¡å®è·µä¸æ•ˆæœ</h2>
<p>å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒè½åœ°å®è·µåï¼Œæˆæ•ˆæ˜¾è‘—ï¼š</p>
<p><img src="https://pic-out.zhimg.com/v2-57d133ab60e1eb74f392acd0391623e3~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-47cf519778015e601c2ea6e1b7aad805&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<ul>
<li>**ç¯å¢ƒæ­å»ºæ•ˆç‡æå‡ï¼š**ä»è¿‡å»å¤šå›¢é˜Ÿæ²Ÿé€šã€æ‰‹åŠ¨é…ç½®ã€å¹³å‡è€—æ—¶2äººå¤©ï¼Œè½¬å˜ä¸ºå¼€å‘è€…ä¸€é”®è§¦å‘ã€åˆ†é’Ÿçº§è‡ªåŠ¨å®Œæˆã€‚</li>
<li>**ç‰ˆæœ¬å¹¶å‘èƒ½åŠ›å¢å¼ºï¼š**ä»¥å¾€å—èµ„æºé™åˆ¶ï¼Œä»…æ”¯æŒ2-3ä¸ªç‰ˆæœ¬ä¸²è¡Œæµ‹è¯•ï¼›ç°å¯è½»æ¾æ”¯æŒ9ä¸ªä»¥ä¸Šç‰¹æ€§ç¯å¢ƒå¹¶è¡Œå¼€å‘æµ‹è¯•ã€‚</li>
</ul>
<p>è¿™ä¸ä»…å¸¦æ¥æ•ˆç‡æå‡ï¼Œæ›´å®ç°ç ”å‘èŠ‚å¥å…¨é¢åŠ é€Ÿä¸ä¸šåŠ¡å“åº”èƒ½åŠ›è´¨çš„é£è·ƒã€‚</p>
<h2 data-id="heading-16">äº”ã€æœªæ¥è§„åˆ’</h2>
<p>å±•æœ›æœªæ¥ï¼Œæˆ‘ä»¬å¯¹å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†æœ‰æ¸…æ™°è§„åˆ’ã€‚è¿™ä¸ä»…æ˜¯æŠ€æœ¯å‡çº§ï¼Œæ›´æ˜¯ç ”å‘ç®¡ç†ç†å¿µçš„æ¼”è¿›ã€‚</p>
<p><img src="https://pic-out.zhimg.com/v2-94c229e708831af52583451089a2abd3~resize:1440:q75.png?animatedImageAutoPlay=false&amp;animatedImagePlayCount=1&amp;auth_key=1769067117-0-0-779019ca7e95c8ed143b9dc0dc98dfdc&amp;bizSceneCode=article_draft&amp;expiration=1769067117&amp;incremental=false&amp;mid=f9f550d3db68b8e79861d6625bbfd2e2&amp;overTime=60&amp;precoder=false&amp;protocol=v2&amp;retryCount=3&amp;sampling=false&amp;sceneCode=editor_copy_outbound&amp;source=bfcaadb1" alt="" loading="lazy"/></p>
<p>æœªæ¥è§„åˆ’é‡‡ç”¨åŒè½¨å¹¶è¡Œç­–ç•¥ï¼Œä»ç ”å‘æ•ˆèƒ½ç¯å¢ƒæ ‡å‡†åŒ–ä¸èµ„æºæˆæœ¬é«˜æ•ˆåŒ–ä¸¤ä¸ªç»´åº¦åŒæ­¥æ¨è¿›ã€‚ä¸¤æ–¹å‘ç›¸äº’ä¿ƒè¿›ã€ååŒæ”¯æ’‘ã€‚</p>
<h2 data-id="heading-17">5.1 ç ”å‘æ•ˆèƒ½ç¯å¢ƒæ ‡å‡†åŒ–</h2>
<p>åœ¨å·²å®ç°çš„ç¯å¢ƒç¼–æ’ã€èµ„æºå¼¹æ€§ä¸æµé‡éš”ç¦»åŸºç¡€ä¸Šï¼Œé‡ç‚¹æ¨è¿›ä¸‰é¡¹å…³é”®æªæ–½ï¼š</p>
<p><strong>1. æ„å»ºç¯å¢ƒå³æœåŠ¡å¹³å°</strong></p>
<p>å¹³å°æä¾›æ ‡å‡†åŒ–ç¯å¢ƒæ¨¡æ¿ï¼ŒåŒ…æ‹¬ä¸åŒè§„æ¨¡æµ‹è¯•ç¯å¢ƒåŠå„ç±»ä¸“ç”¨ç¯å¢ƒï¼ˆå¦‚æ€§èƒ½æµ‹è¯•ã€å®‰å…¨æµ‹è¯•ç­‰ï¼‰ã€‚é€šè¿‡æ¨¡æ¿åŒ–æ–¹å¼ï¼Œç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§ä¸æ ‡å‡†åŒ–ï¼ŒåŒæ—¶å¤§å¹…æå‡ç¯å¢ƒåˆ›å»ºæ•ˆç‡ã€‚</p>
<p>å¹³å°é›†æˆç¯å¢ƒå…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†åŠŸèƒ½ï¼Œä»ç¯å¢ƒç”³è¯·ã€å®¡æ‰¹ã€åˆ›å»ºã€ä½¿ç”¨ã€ç›‘æ§åˆ°å›æ”¶ï¼Œå½¢æˆå®Œæ•´é—­ç¯ç®¡ç†ã€‚è¿™ä¸ä»…æå‡ç®¡ç†æ•ˆç‡ï¼Œæ›´å»ºç«‹å®Œå–„çš„ç¯å¢ƒæ²»ç†ä½“ç³»ã€‚</p>
<p><strong>2. å»ºç«‹å…¨é“¾è·¯ç¯å¢ƒç›‘æ§ä¸å¯è§‚æµ‹ä½“ç³»</strong></p>
<p>ç›‘æ§ä½“ç³»æ¶µç›–å¤šå±‚ï¼šåŸºç¡€è®¾æ–½å±‚ç›‘æ§CPUã€å†…å­˜ã€å­˜å‚¨ç­‰èµ„æºä½¿ç”¨ï¼›ä¸­é—´ä»¶å±‚ç›‘æ§æ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—ã€ç¼“å­˜ç­‰ç»„ä»¶æ€§èƒ½ï¼›åº”ç”¨å±‚ç›‘æ§æœåŠ¡å“åº”æ—¶é—´ã€é”™è¯¯ç‡ã€ååé‡ç­‰å…³é”®æŒ‡æ ‡ã€‚</p>
<p>é€šè¿‡åˆ†å±‚ç›‘æ§ï¼Œå¿«é€Ÿè¯†åˆ«ç¯å¢ƒä¸­å¼‚å¸¸æƒ…å†µï¼ŒåŠæ—¶å‘è§‰æ€§èƒ½ç“¶é¢ˆï¼Œä¸ºç¯å¢ƒä¼˜åŒ–æä¾›æ•°æ®æ”¯æ’‘ã€‚ç›‘æ§æ•°æ®åŒæ—¶ä¸ºèµ„æºè°ƒåº¦ä¸æˆæœ¬ä¼˜åŒ–æä¾›é‡è¦å†³ç­–ä¾æ®ã€‚</p>
<p><strong>3. å»ºç«‹ç¯å¢ƒæ²»ç†ä¸åˆè§„è‡ªåŠ¨åŒ–æœºåˆ¶</strong></p>
<p>æ²»ç†æœºåˆ¶åŒ…æ‹¬ç¯å¢ƒå‘½åè§„èŒƒã€èµ„æºé…ç½®æ ‡å‡†ã€å®‰å…¨é…ç½®è¦æ±‚ã€æ•°æ®ä¿æŠ¤è§„åˆ™ç­‰å¤šæ–¹é¢ã€‚é€šè¿‡è‡ªåŠ¨åŒ–åˆè§„æ£€æŸ¥å·¥å…·ï¼Œå®æ—¶ç›‘æ§ç¯å¢ƒåˆè§„çŠ¶æ€ï¼Œè‡ªåŠ¨å‘ç°ä¸ä¿®å¤ä¸åˆè§„é…ç½®ã€‚</p>
<p>æœºåˆ¶è¿˜åŒ…æ‹¬ç¯å¢ƒå®šæœŸå®¡è®¡åŠŸèƒ½ï¼Œè‡ªåŠ¨ç”Ÿæˆåˆè§„æŠ¥å‘Šï¼Œä¸ºç®¡ç†å†³ç­–æä¾›æ”¯æ’‘ã€‚é€šè¿‡æ­¤æ–¹å¼ï¼Œæ—¢ç¡®ä¿ç¯å¢ƒå®‰å…¨åˆè§„ï¼Œåˆå‡å°‘äººå·¥å®¡è®¡å·¥ä½œé‡ã€‚</p>
<h2 data-id="heading-18">5.2 èµ„æºæˆæœ¬é«˜æ•ˆåŒ–</h2>
<p>èµ„æºæˆæœ¬é«˜æ•ˆåŒ–æ–¹é¢ï¼Œæ¨è¿›ä»¥ä¸‹ä¸¤é¡¹å…³é”®æªæ–½ï¼š</p>
<p><strong>1. éæ´»è·ƒç¯å¢ƒè‡ªåŠ¨å›æ”¶</strong></p>
<p>é’ˆå¯¹éæ´»è·ƒç¯å¢ƒï¼Œå»ºç«‹æ™ºèƒ½è‡ªåŠ¨å›æ”¶æœºåˆ¶ã€‚ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«é•¿æœŸæœªä½¿ç”¨ç¯å¢ƒï¼Œåœ¨ç¡®ä¿æ•°æ®å®‰å…¨å‰æä¸‹ï¼Œè‡ªåŠ¨è¿›è¡Œèµ„æºå›æ”¶ã€‚</p>
<p>æœºåˆ¶åŒ…å«å¤šå±‚ç®¡ç†ï¼š</p>
<ul>
<li>æµ‹è¯•ç¯å¢ƒéå·¥ä½œæ—¶é—´è‡ªåŠ¨ä¼‘çœ ï¼›</li>
<li>å¼€å‘ç¯å¢ƒè¿ç»­7å¤©æœªä½¿ç”¨å‘å‡ºæé†’ï¼›</li>
<li>è¿ç»­14å¤©æœªä½¿ç”¨è‡ªåŠ¨å›æ”¶ã€‚</li>
</ul>
<p>é€šè¿‡åˆ†å±‚ç®¡ç†ï¼Œæ—¢ä¿è¯å¼€å‘æ•ˆç‡ï¼Œåˆæœ‰æ•ˆæ§åˆ¶æˆæœ¬ã€‚</p>
<p><strong>2. æˆæœ¬å¯è§†åŒ–ä¸å½’å› åˆ†æ</strong></p>
<p>æˆæœ¬åˆ†æä»å¤šç»´åº¦å±•å¼€ï¼š</p>
<ul>
<li>æŒ‰<strong>é¡¹ç›®</strong>ç»´åº¦åˆ†æå„é¡¹ç›®èµ„æºä½¿ç”¨æˆæœ¬ï¼›</li>
<li>æŒ‰<strong>å›¢é˜Ÿ</strong>ç»´åº¦åˆ†æå„å›¢é˜Ÿæˆæœ¬æ„æˆï¼›</li>
<li>æŒ‰<strong>ç¯å¢ƒç±»å‹</strong>ç»´åº¦åˆ†æä¸åŒç¯å¢ƒæˆæœ¬æ•ˆç›Šï¼›</li>
<li>æŒ‰<strong>æ—¶é—´</strong>ç»´åº¦åˆ†ææˆæœ¬å˜åŒ–è¶‹åŠ¿ç­‰ã€‚</li>
</ul>
<p>é€šè¿‡ç²¾ç¡®æˆæœ¬ç»Ÿè®¡ä¸åˆ†æï¼Œä¸ºæˆæœ¬ä¼˜åŒ–æä¾›æ•°æ®æ”¯æ’‘ã€‚</p>
<p>é€šè¿‡åŒè½¨å¹¶è¡Œç­–ç•¥ï¼Œæˆ‘ä»¬å®ç°ç ”å‘æ•ˆèƒ½æå‡ä¸èµ„æºåˆ©ç”¨æœ€å¤§åŒ–çš„è‰¯æ€§å¾ªç¯ã€‚</p>
<p>å…¨é“¾è·¯å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†çš„æœªæ¥è§„åˆ’ä¸ä»…æ˜¯æŠ€æœ¯å‡çº§ï¼Œæ›´æ˜¯ç ”å‘ç®¡ç†ç†å¿µçš„è½¬å˜ã€‚é€šè¿‡åŒè½¨å¹¶è¡Œç­–ç•¥ï¼Œæˆ‘ä»¬å°†å»ºç«‹æ›´é«˜æ•ˆã€ç»æµã€å¯é çš„ç ”å‘ç¯å¢ƒä½“ç³»ï¼ŒåŒæ—¶æ‰“é€ æ›´å…ˆè¿›çš„ç ”å‘ç¯å¢ƒç®¡ç†ä½“ç³»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ—æ¨¡å—åŒ– [4 - 3]ï¼šå¤æ‚ç»„ä»¶çš„é€šä¿¡ä¸ç»„åˆæ¨¡å¼]]></title>    <link>https://juejin.cn/post/7597758250826088458</link>    <guid>https://juejin.cn/post/7597758250826088458</guid>    <pubDate>2026-01-22T05:44:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597758250826088458" data-draft-id="7597746812440444966" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ—æ¨¡å—åŒ– [4 - 3]ï¼šå¤æ‚ç»„ä»¶çš„é€šä¿¡ä¸ç»„åˆæ¨¡å¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-22T05:44:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹å£®å£®"/> <meta itemprop="url" content="https://juejin.cn/user/4473272506789485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ—æ¨¡å—åŒ– [4 - 3]ï¼šå¤æ‚ç»„ä»¶çš„é€šä¿¡ä¸ç»„åˆæ¨¡å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4473272506789485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹å£®å£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T05:44:01.000Z" title="Thu Jan 22 2026 05:44:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢</strong></p>
<p>åœ¨å°è£…å¤æ‚ç»„ä»¶æ—¶ï¼Œä¹ æƒ¯ä½¿ç”¨**â€œé…ç½®å¯¹è±¡é©±åŠ¨â€**çš„æ¨¡å¼ã€‚</p>
<p>æ¯”å¦‚å†™ä¸€ä¸ª Tabs ç»„ä»¶ï¼Œä»–ä»¬ä¼šå®šä¹‰ä¸€ä¸ª <code>items</code> å±æ€§ï¼Œè®©ç”¨æˆ·ä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼š<code>[{ title: 'A', content: '...' }]</code>ã€‚ è¿™ç§å†™æ³•çœ‹ä¼¼ç®€æ´ï¼Œå®åˆ™æ˜¯<strong>æ¶æ„çš„æ­»èƒ¡åŒ</strong>ã€‚ä¸€æ—¦ç”¨æˆ·è¯´ï¼šâ€œæˆ‘æƒ³åœ¨ç¬¬äºŒä¸ª Tab çš„æ ‡é¢˜æ—è¾¹åŠ ä¸ªçº¢ç‚¹â€ï¼Œæˆ–è€…â€œæˆ‘æƒ³è®©ç¬¬ä¸‰ä¸ª Tab çš„å†…å®¹æ‡’åŠ è½½â€ï¼Œä½ çš„ç»„ä»¶ API å°±ä¼šç¬é—´çˆ†ç‚¸ï¼Œå˜æˆ <code>renderTitle</code>ã€<code>lazyLoad</code> ç­‰æ— æ•°ä¸ªè¡¥ä¸å±æ€§ã€‚</p>
<p><strong>ç›´è§‰å‘Šè¯‰æˆ‘ä»¬ï¼šå¥½çš„ç»„ä»¶ API åº”è¯¥æ˜¯å£°æ˜å¼çš„ï¼Œè€Œä¸æ˜¯é…ç½®å¼çš„ã€‚</strong></p>
<p>æœ¬ç¯‡æˆ‘ä»¬å°†æ¢è®¨å¦‚ä½•é€šè¿‡<strong>å¤åˆç»„ä»¶ï¼ˆCompound Componentsï¼‰æ¨¡å¼é‡å»ºçˆ¶å­å…³ç³»ï¼Œåˆ©ç”¨éšå¼çŠ¶æ€å…±äº«</strong>æ¶ˆç­ Props Drillingï¼Œå¹¶æœ€ç»ˆé€šè¿‡<strong>æ§åˆ¶åè½¬</strong>å®ç°ç»„ä»¶èƒ½åŠ›çš„æ— é™æ‰©å±•ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/790e017d3d81469e95498df471e9d981~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5aOu5aOu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769665441&amp;x-signature=O12bJutxnpMHara7QZZw2Axtb2Y%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ æ‹’ç»å·¨å‹é…ç½®ï¼šå¤åˆç»„ä»¶ (Compound Components) çš„å“²å­¦</h2>
<p>å¤åˆç»„ä»¶æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>ç»„ä»¶ä¸åº”è¯¥æ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œè€Œåº”è¯¥æ˜¯ä¸€ç»„ååŒå·¥ä½œçš„é›¶ä»¶ã€‚</strong></p>
<h3 data-id="heading-1">1.1 ä»€ä¹ˆæ˜¯å¤åˆç»„ä»¶ï¼Ÿ</h3>
<p>çœ‹çœ‹ HTML åŸç”Ÿçš„ <code>&lt;select&gt;</code> å’Œ <code>&lt;option&gt;</code>ï¼Œè¿™å°±æ˜¯ä¸–ç•Œä¸Šæœ€å¤è€ä¸”å®Œç¾çš„å¤åˆç»„ä»¶ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">&lt;<span class="hljs-keyword">select</span>&gt;
  &lt;<span class="hljs-keyword">option</span> value=<span class="hljs-string">"1"</span>&gt;<span class="hljs-keyword">Option</span> A&lt;/<span class="hljs-keyword">option</span>&gt;
  &lt;<span class="hljs-keyword">option</span> value=<span class="hljs-string">"2"</span>&gt;<span class="hljs-keyword">Option</span> B&lt;/<span class="hljs-keyword">option</span>&gt;
&lt;/<span class="hljs-keyword">select</span>&gt;
</code></pre>
<p>å®ƒä»¬åˆ†å¼€å†™ï¼Œä½†å…±äº«åŒä¸€ä¸ªçŠ¶æ€ï¼ˆå½“å‰é€‰ä¸­çš„å€¼ï¼‰ã€‚</p>
<h3 data-id="heading-2">1.2 å®æˆ˜ï¼šé‡æ„ Tabs ç»„ä»¶</h3>
<p><strong>é”™è¯¯ç¤ºèŒƒï¼ˆé…ç½®å¼ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">//  æ‰©å±•æ€§æå·®ï¼Œåªèƒ½é€šè¿‡å¢åŠ  props æ¥ä¿®è¡¥
&lt;Tabs 
  <span class="hljs-attr">items</span>={[{ title: <span class="hljs-string">'Tab 1'</span>, content: <span class="hljs-string">'Content 1'</span> }]} 
  <span class="hljs-attr">activeTabColor</span>=<span class="hljs-string">"red"</span>
  <span class="hljs-attr">renderTitle</span>={(title) =&gt; &lt;span&gt;{title}&lt;/span&gt;} // ä¸‘é™‹çš„è¡¥ä¸
/&gt;
</code></pre>
<p><strong>æ¶æ„çº§ç¤ºèŒƒï¼ˆå¤åˆå¼ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml">// å£°æ˜å¼ï¼Œç»“æ„æ¸…æ™°ï¼Œç”¨æˆ·æ‹¥æœ‰å®Œå…¨çš„æ¸²æŸ“æ§åˆ¶æƒ
<span class="hljs-tag">&lt;<span class="hljs-name">Tabs</span> <span class="hljs-attr">defaultIndex</span>=<span class="hljs-string">{0}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{console.log}</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Tabs.List</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Tabs.Tab</span>&gt;</span>Tab 1<span class="hljs-tag">&lt;/<span class="hljs-name">Tabs.Tab</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Tabs.Tab</span> <span class="hljs-attr">disabled</span>&gt;</span>Tab 2<span class="hljs-tag">&lt;/<span class="hljs-name">Tabs.Tab</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Tabs.Tab</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Badge</span>&gt;</span>Tab 3<span class="hljs-tag">&lt;/<span class="hljs-name">Badge</span>&gt;</span> {/* ç”¨æˆ·å¯ä»¥éšæ„ç»„åˆ */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">Tabs.Tab</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Tabs.List</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Tabs.Panels</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Tabs.Panel</span>&gt;</span>Content 1<span class="hljs-tag">&lt;/<span class="hljs-name">Tabs.Panel</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Tabs.Panel</span>&gt;</span>Content 2<span class="hljs-tag">&lt;/<span class="hljs-name">Tabs.Panel</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Tabs.Panel</span>&gt;</span>Content 3<span class="hljs-tag">&lt;/<span class="hljs-name">Tabs.Panel</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Tabs.Panels</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Tabs</span>&gt;</span>
</code></pre>
<p><strong>åº•å±‚å®ç°åŸç†ï¼š</strong> è¿™ä¸ä»…ä»…æ˜¯æŠŠç»„ä»¶åˆ‡å¼€é‚£ä¹ˆç®€å•ã€‚ä¸ºäº†è®© <code>&lt;Tabs.Tab&gt;</code> çŸ¥é“è‡ªå·±æ˜¯å¦è¢«é€‰ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <strong>Context</strong> è¿›è¡Œ<strong>éšå¼çŠ¶æ€é€šä¿¡</strong>ã€‚ çˆ¶ç»„ä»¶ <code>&lt;Tabs&gt;</code> åˆ›å»ºä¸€ä¸ª Contextï¼Œå‘ä¸‹å¹¿æ’­ <code>activeIndex</code> å’Œ <code>setActiveIndex</code>ã€‚å­ç»„ä»¶è‡ªåŠ¨è®¢é˜…ï¼Œæ— éœ€ç”¨æˆ·æ˜¾å¼ä¼ é€’ã€‚</p>
<hr/>
<h2 data-id="heading-3">äºŒã€ éšå½¢çº½å¸¦ï¼šContext Module Pattern (æ¨¡å—åŒ–ä¸Šä¸‹æ–‡)</h2>
<p>åœ¨å¤åˆç»„ä»¶ä¸­ï¼ŒContext æ˜¯èƒ¶æ°´ã€‚ä½†æ¶æ„å¸ˆè¦æ³¨æ„ï¼š<strong>ä¸è¦æŠŠ Context æš´éœ²ç»™å…¨ä¸–ç•Œã€‚</strong></p>
<h3 data-id="heading-4">2.1 ä½œç”¨åŸŸæ±¡æŸ“çš„é£é™©</h3>
<p>å¦‚æœä½ åœ¨å…¨å±€å®šä¹‰äº†ä¸€ä¸ª <code>TabContext</code> å¹¶å¯¼å‡ºï¼Œå¾ˆå¯èƒ½ä¼šè¢«å…¶ä»–ç»„ä»¶è¯¯ç”¨ï¼Œæˆ–è€…åœ¨åµŒå¥—çš„ Tabs ä¸­å‘ç”Ÿå†²çªï¼ˆå†…å±‚ Tab æ¶ˆè´¹äº†å¤–å±‚ Tab çš„ Contextï¼‰ã€‚</p>
<h3 data-id="heading-5">2.2 æœ€ä½³å®è·µï¼šåˆ›å»ºè‡ªå®šä¹‰ Scope</h3>
<p>å‚è€ƒ Radix UI æˆ– React Spectrum çš„è®¾è®¡ï¼Œæˆ‘ä»¬åº”è¯¥ä¸ºæ¯ä¸ªå¤åˆç»„ä»¶åˆ›å»ºç‹¬ç«‹çš„ Context Scopeã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¼ªä»£ç ï¼šæ„å»ºå—ä¿æŠ¤çš„ Context</span>
<span class="hljs-keyword">const</span> [<span class="hljs-title class_">TabsProvider</span>, useTabsContext] = <span class="hljs-title function_">createContextScope</span>(<span class="hljs-string">"Tabs"</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">TabsRoot</span>(<span class="hljs-params">{ children }</span>) {
  <span class="hljs-comment">// ... çŠ¶æ€é€»è¾‘</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">TabsProvider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{state}</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">TabsProvider</span>&gt;</span></span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Tab</span>(<span class="hljs-params">{ children }</span>) {
  <span class="hljs-comment">// åªèƒ½åœ¨ TabsRoot å†…éƒ¨ä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™</span>
  <span class="hljs-keyword">const</span> context = <span class="hljs-title function_">useTabsContext</span>(<span class="hljs-string">"Tab"</span>); 
  <span class="hljs-keyword">return</span> ...;
}
</code></pre>
<p>è¿™ç§æ¨¡å¼ä¿è¯äº†ç»„ä»¶çš„<strong>è‡ªæ´½æ€§</strong>ã€‚ç”¨æˆ·ä¸éœ€è¦å…³å¿ƒ <code>Tabs</code> å†…éƒ¨æ˜¯æ€ä¹ˆé€šä¿¡çš„ï¼Œä»–ä»¬åªç®¡åƒæ‹¼ä¹é«˜ä¸€æ ·ç»„åˆç»„ä»¶ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€ ç»ˆææ§åˆ¶æƒï¼šState Reducer (çŠ¶æ€å½’çº¦å™¨)</h2>
<p>å½“ä½ å°è£…äº†ä¸€ä¸ªé€šç”¨ç»„ä»¶ï¼Œæ€»ä¼šé‡åˆ°è¿™ç§éœ€æ±‚ï¼š</p>
<ul>
<li>â€œæˆ‘æƒ³è®© Modal ç‚¹å‡»é®ç½©å±‚å…³é—­ï¼Œä½†æŒ‰ä¸‹ ESC é”®æ—¶ä¸å…³é—­ã€‚â€</li>
<li>â€œæˆ‘æƒ³è®© Switch å¼€å…³åªèƒ½æ‰“å¼€ï¼Œä¸èƒ½å…³é—­ï¼ˆä¸€æ¬¡æ€§é”æ­»ï¼‰ã€‚â€</li>
</ul>
<p>åˆçº§åšæ³•æ˜¯åŠ  Propsï¼š<code>closeOnEsc={false}</code>, <code>preventToggleOff={true}</code>ã€‚ <strong>é«˜çº§åšæ³•æ˜¯ï¼šInversion of Control (æ§åˆ¶åè½¬)ã€‚</strong></p>
<p>å€Ÿé‰´ Redux çš„æ€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥å…è®¸ç”¨æˆ·ä¼ å…¥ä¸€ä¸ª <code>stateReducer</code>ï¼Œæ‹¦æˆªå¹¶ç¯¡æ”¹ç»„ä»¶å†…éƒ¨çš„çŠ¶æ€æ›´æ–°ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ç»„ä»¶å†…éƒ¨å®ç°</span>
function useToggle({ reducer = (state, action) =&gt; action.changes }) {
  <span class="hljs-keyword">const</span> [<span class="hljs-keyword">on</span>, setOn] = useState(<span class="hljs-keyword">false</span>);
  
  <span class="hljs-keyword">const</span> toggle = () =&gt; {
    <span class="hljs-comment">// åœ¨æ›´æ–°å‰ï¼Œå…ˆé—®é—®ç”¨æˆ·çš„ reducer</span>
    <span class="hljs-keyword">const</span> changes = { <span class="hljs-keyword">on</span>: !<span class="hljs-keyword">on</span> };
    <span class="hljs-keyword">const</span> finalState = reducer(<span class="hljs-keyword">on</span>, { type: <span class="hljs-string">'TOGGLE'</span>, changes });
    setOn(finalState.<span class="hljs-keyword">on</span>);
  };
  <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// ç”¨æˆ·ä½¿ç”¨ï¼šå½»åº•æ”¹å˜ç»„ä»¶è¡Œä¸ºï¼Œè€Œæ— éœ€ä¿®æ”¹ç»„ä»¶æºç </span>
&lt;Toggle 
  stateReducer={(state, action) =&gt; {
    <span class="hljs-comment">// æ‹¦æˆªï¼šå¦‚æœæ˜¯ç‚¹å‡»æ“ä½œä¸”æƒ³è¦å…³é—­ï¼Œåˆ™é˜»æ­¢</span>
    <span class="hljs-keyword">if</span> (action.type === <span class="hljs-string">'TOGGLE'</span> &amp;&amp; state.<span class="hljs-keyword">on</span> === <span class="hljs-keyword">true</span>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-keyword">on</span>: <span class="hljs-keyword">true</span> }; <span class="hljs-comment">// å¼ºåˆ¶ä¿æŒå¼€å¯</span>
    }
    <span class="hljs-keyword">return</span> action.changes; <span class="hljs-comment">// å¦åˆ™é»˜è®¤è¡Œä¸º</span>
  }} 
/&gt;
</code></pre>
<p><strong>æ¶æ„ä»·å€¼ï¼š</strong> <code>stateReducer</code> æ¨¡å¼å°†**â€œçŠ¶æ€æ›´æ–°çš„é€»è¾‘â€**ä»ç»„ä»¶å†…éƒ¨å‰¥ç¦»å‡ºæ¥ï¼Œäº¤ç»™äº†ä½¿ç”¨è€…ã€‚è¿™ä½¿å¾—ç»„ä»¶èƒ½å¤Ÿé€‚åº”æå…¶è¾¹ç¼˜çš„ä¸šåŠ¡åœºæ™¯ï¼Œè€Œæ— éœ€å¢åŠ ä»»ä½• API è´Ÿæ‹…ã€‚</p>
<hr/>
<h2 data-id="heading-7">å››ã€ å“²å­¦æ€è¾¨ï¼šå—æ§ä¸éå—æ§çš„å®Œç¾å…±å­˜</h2>
<p>è¿™æ˜¯ç»„ä»¶è®¾è®¡ä¸­æœ€ç»å…¸çš„éš¾é¢˜ï¼š<strong>State åˆ°åº•åº”è¯¥ç”±ç»„ä»¶è‡ªå·±ç®¡ï¼ˆéå—æ§ï¼‰ï¼Œè¿˜æ˜¯ç”±çˆ¶ç»„ä»¶ç®¡ï¼ˆå—æ§ï¼‰ï¼Ÿ</strong></p>
<ul>
<li><strong>éå—æ§ (Uncontrolled):</strong> <code>&lt;input defaultValue="hello" /&gt;</code>ã€‚ç®€å•ï¼Œä¸éœ€è¦å†™ onChangeï¼Œä½†çˆ¶ç»„ä»¶å¾ˆéš¾å¹²é¢„ã€‚</li>
<li><strong>å—æ§ (Controlled):</strong> <code>&lt;input value={val} onChange={setVal} /&gt;</code>ã€‚çµæ´»ï¼Œä½†çˆ¶ç»„ä»¶å¿…é¡»ç»´æŠ¤çŠ¶æ€ï¼Œå“ªæ€•æ˜¯å¾ˆç®€å•çš„åœºæ™¯ã€‚</li>
</ul>
<p><strong>æ¶æ„å¸ˆçš„ç­”æ¡ˆï¼šHybrid (æ··åˆæ¨¡å¼)ã€‚</strong> ä¼˜ç§€çš„ç»„ä»¶åº“ï¼ˆå¦‚ AntD, MUIï¼‰éƒ½æ”¯æŒâ€œåŒæ¨¡å¼â€ã€‚</p>
<h3 data-id="heading-8">4.1 æ··åˆ Hook çš„å®ç°æœºåˆ¶</h3>
<p>ä½ éœ€è¦å®ç°ä¸€ä¸ª <code>useControllableState</code>ï¼š</p>
<ol>
<li>æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ä¼ å…¥äº† <code>value</code> å±æ€§ã€‚</li>
<li>å¦‚æœä¼ å…¥äº† <code>value</code>ï¼Œåˆ™åˆ¤å®šä¸º<strong>å—æ§æ¨¡å¼</strong>ï¼Œå†…éƒ¨çŠ¶æ€ç›´æ¥å¼•ç”¨ <code>value</code>ï¼Œ<code>setState</code> åªè§¦å‘ <code>onChange</code>ã€‚</li>
<li>å¦‚æœæ²¡ä¼ ï¼Œåˆ™åˆ¤å®šä¸º<strong>éå—æ§æ¨¡å¼</strong>ï¼Œå†…éƒ¨ç»´æŠ¤ <code>useState</code>ï¼Œ<code>setState</code> æ—¢æ›´æ–°å†…éƒ¨çŠ¶æ€ä¹Ÿè§¦å‘ <code>onChange</code>ã€‚</li>
</ol>
<p>TypeScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®Œç¾çš„ç»„ä»¶æ¥å£</span>
&lt;<span class="hljs-title class_">Tabs</span> /&gt; <span class="hljs-comment">// æ¨¡å¼ A: å†…éƒ¨è‡ªå·±ç©ï¼Œéå—æ§</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Tabs</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{index}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{setIndex}</span> /&gt;</span></span> <span class="hljs-comment">// æ¨¡å¼ B: å¤–éƒ¨å®Œå…¨æ§åˆ¶ï¼Œå—æ§</span>
</code></pre>
<p>è¿™ç§å…¼å®¹æ€§è®¾è®¡ï¼Œæ˜¯åŒºåˆ†â€œç©å…·ç»„ä»¶â€å’Œâ€œå·¥ç¨‹çº§ç»„ä»¶â€çš„é‡è¦åˆ†æ°´å²­ã€‚</p>
<hr/>
<h2 data-id="heading-9">äº”ã€ ç»“è¯­ï¼šç»„ä»¶è®¾è®¡çš„å†°å±±ä¹‹ä¸‹</h2>
<p>å½“æˆ‘ä»¬è°ˆè®ºç»„ä»¶åŒ–æ—¶ï¼Œä¸è¦åªç›¯ç€ UI çœ‹ã€‚ Headless UI è§£å†³äº†<strong>å‚ç›´æ–¹å‘</strong>çš„é€»è¾‘å‰¥ç¦»ï¼Œè€Œ Compound Components å’Œ State Reducer è§£å†³äº†<strong>æ°´å¹³æ–¹å‘</strong>çš„é€šä¿¡ä¸æ‰©å±•ã€‚</p>
<p>ä¸€ä¸ªä¼˜ç§€çš„æ¶æ„å¸ˆï¼Œåœ¨è®¾è®¡ç»„ä»¶æ—¶ï¼Œè„‘æµ·é‡Œä¸åº”è¯¥åªæœ‰ DOM ç»“æ„ï¼Œè€Œåº”è¯¥æ˜¯ä¸€å¼ å¼ <strong>çŠ¶æ€æµè½¬å›¾</strong>ã€‚</p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æ­å»ºå¥½äº†ç»„ä»¶çš„â€œéª¨æ¶â€ã€‚ä½†ä¸€ä¸ªæ´»çš„ç³»ç»Ÿï¼Œè¿˜éœ€è¦è¡€æ¶²çš„æµåŠ¨â€”â€”å³æ¨¡å—ä¸æ¨¡å—ä¹‹é—´å¦‚ä½•è§£è€¦é€šä¿¡ï¼Ÿ é™¤äº† props å’Œ contextï¼Œæˆ‘ä»¬æ˜¯å¦è¿˜æœ‰æ›´å¼ºå¤§çš„æ­¦å™¨æ¥åº”å¯¹è·¨æ¨¡å—çš„å¤æ‚è”åŠ¨ï¼Ÿ</p>
<blockquote>
<p><strong>Next Step:</strong> ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†è¿›å…¥â€œçµé­‚â€ç¯‡ï¼Œæ¢è®¨å‰ç«¯è®¾è®¡æ¨¡å¼ä¸­æœ€ç»å…¸ã€ä¹Ÿæœ€å®¹æ˜“è¢«æ»¥ç”¨çš„æ¨¡å¼ã€‚ è¯·çœ‹**ã€Šç¬¬å››ç¯‡ï¼šçµé­‚ï¼ˆä¸Šï¼‰â€”â€”è§£è€¦çš„ç¥å™¨ï¼šå‰ç«¯æ ¸å¿ƒè®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…ä¸å‘å¸ƒè®¢é˜…ã€‹**ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIä¸æ­¢å·¥å…·ï¼šç§¯ç´¯èµ„äº§ + åˆ›é€ æœªæ¥]]></title>    <link>https://juejin.cn/post/7597973595130380340</link>    <guid>https://juejin.cn/post/7597973595130380340</guid>    <pubDate>2026-01-22T07:55:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7597973595130380340" data-draft-id="7597776334065877044" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIä¸æ­¢å·¥å…·ï¼šç§¯ç´¯èµ„äº§ + åˆ›é€ æœªæ¥"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,å…¨æ ˆ"/> <meta itemprop="datePublished" content="2026-01-22T07:55:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‰›å¥¶"/> <meta itemprop="url" content="https://juejin.cn/user/1169536100866487"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIä¸æ­¢å·¥å…·ï¼šç§¯ç´¯èµ„äº§ + åˆ›é€ æœªæ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536100866487/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‰›å¥¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-22T07:55:37.000Z" title="Thu Jan 22 2026 07:55:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">AIä¸æ­¢å·¥å…·ï¼šç§¯ç´¯èµ„äº§ + åˆ›é€ æœªæ¥</h2>
<p>åœ¨ AI æ—¶ä»£ï¼Œå¼€å‘è€…åœ¨ Cursor æ•²ä¸¤å¥ promptï¼Œå‡ åˆ†é’Ÿå°±ç»™ä½ æ•´å‡ºä¸€ä¸ªæ¨¡å—ï¼›Claude å¸®ä½ æŠŠæ”¯ä»˜å›è°ƒå†™å¾—æ»´æ°´ä¸æ¼ï¼›å¼€å‘é€Ÿåº¦è‚‰çœ¼å¯è§åœ°ç¿»äº†å¥½å‡ å€ã€‚</p>
<p>ä½†ä¸‹ä¸€ä¸ªé¡¹ç›®ä¸€å¯åŠ¨ï¼Œä½ ä¼šçªç„¶å‘ç° â€”â€”â€”â€”â€” èŠå¤©è®°å½•æ¸…ç©ºäº†ï¼Œç»éªŒä¹Ÿè·Ÿç€è’¸å‘äº†ã€‚</p>
<p>åˆå¾—é‡æ–°æœä¸€éæ–‡æ¡£ï¼Œåˆå¾—ä»é›¶è°ƒä¸€éå‚æ•°ï¼Œåˆå¾—æ‰‹å†™ä¸€éå‘½åè§„èŒƒã€‚</p>
<p>ä¸Šä¸€æ¬¡ AI å¸®ä½ ç”Ÿæˆçš„è®¤è¯å®ˆå«ã€å“åº”æ‹¦æˆªå™¨ã€è½¯åˆ é™¤ä¸­é—´ä»¶ï¼Œå…¨éƒ½åƒæ¢¦ä¸€æ ·æ²¡äº†è¸ªå½±ã€‚</p>
<p>å¾ˆå¤šäººï¼ˆåŒ…æ‹¬æ›¾ç»çš„æˆ‘ï¼‰æŠŠ AI å½“æˆâ€œä¼šå†™ä»£ç çš„å®ä¹ ç”Ÿâ€ï¼šç”¨å®Œå°±å¿˜ï¼Œç”¨å®Œå°±æ‰”ã€‚</p>
<p>ç»“æœå‘¢ï¼Ÿå¼€å‘é€Ÿåº¦æ˜¯å¿«äº†ï¼Œä½†å†…åŠ›æ²¡æ¶¨ã€‚é¡¹ç›®è¶Šå¤šï¼Œåè€Œè¶Šç´¯ã€‚</p>
<p>çœŸæ­£å¼€å§‹å˜å¼ºçš„é‚£ä¸€åˆ»ï¼Œæ˜¯æˆ‘æ„è¯†åˆ°ï¼š</p>
<p>AI ä¸æ˜¯é€Ÿæ•ˆè¯ï¼Œå®ƒæ˜¯ä½ å¯ä»¥æ…¢æ…¢å…»å¤§çš„â€œç¬¬äºŒå¤§è„‘â€ã€‚</p>
<p>å®ƒèƒ½å¸®ä½ æŠŠä¸€æ¬¡æ¬¡çš„é›¶æ•£ä»£ç ï¼Œå˜æˆå¯ä»¥å¤ç”¨çš„è§„èŒƒå’Œèµ„äº§ï¼›</p>
<p>æŠŠé‚£äº›â€œæ°¸æ’ä¸å˜çš„è½®å­â€ï¼ˆæ”¯ä»˜ã€è®¤è¯ã€é€šçŸ¥ã€æ–‡ä»¶ä¸Šä¼ ï¼‰ï¼Œå›ºåŒ–æˆå±äºä½ è‡ªå·±çš„ç§æœ‰æ–¹æ¡ˆåº“ï¼›</p>
<p>ç”šè‡³åœ¨æ·±å¤œé‡Œé™ªä½ ä¸€èµ·è„‘æš´ï¼ŒæŠŠè½¬ç¬å³é€çš„çµæ„Ÿï¼Œå˜æˆå¯ä»¥è½åœ°çš„äº§å“æ–¹å‘ã€‚</p>
<p>ä»â€œå“‡ AI å¥½å¿«â€åˆ°â€œå˜¿ï¼Œè¿™æ¬¡æˆ‘è¦æŠŠè¿™ä¸ªè§„èŒƒå­˜ä¸‹æ¥â€ï¼Œå†åˆ°â€œAIï¼Œæˆ‘ä»¬æ¥ä¸€èµ·æƒ³æƒ³ä¸‹ä¸€ä¸ªäº§å“çš„æ‰“å¼€æ–¹å¼å§â€â€”â€”</p>
<p>è¿™æ¡è·¯ï¼Œæˆ‘èµ°äº†ä¸€å¹´ï¼Œæ‰æ…¢æ…¢æ‘¸åˆ°ä¸€ç‚¹é—¨é“ã€‚</p>
<h3 data-id="heading-1">è¶…è¶Šå·¥å…·ï¼šè®©æ¯ä¸€æ¬¡æ•²ä»£ç éƒ½å˜æˆç§¯ç´¯</h3>
<p>æœ€å¼€å§‹æˆ‘ä¹Ÿæ˜¯â€œå¤åˆ¶å…šâ€ï¼šAI ç”Ÿæˆä¸€æ®µ NestJS è®¤è¯ä»£ç ï¼Œæˆ‘å°±ç›´æ¥ç²˜è´´ï¼Œç”¨å®Œæ‹‰å€’ã€‚</p>
<p>åæ¥æœ‰ä¸€æ¬¡é¡¹ç›®å¤ç›˜ï¼Œæˆ‘çªç„¶è§‰é†’ï¼šä¸ºä»€ä¹ˆæˆ‘æ¯æ¬¡éƒ½è¦é‡æ–°å‘æ˜è½®å­ï¼Ÿ</p>
<p>äºæ˜¯æˆ‘å¼€å§‹è®© AI å¸®æˆ‘â€œå¤ç›˜è‡ªå·±â€ã€‚</p>
<p>åœ¨ Cursor é‡Œæ‰”ä¸€å¥ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">è¯·æŠŠåˆšåˆšç”Ÿæˆçš„ NestJS è®¤è¯æ¨¡å—ï¼Œæç‚¼æˆä¸€ä»½å¯å¤ç”¨çš„ .cursorrulesï¼ŒåŒ…æ‹¬é¡¹ç›®ç»“æ„ã€å‘½åçº¦å®šã€å¼‚å¸¸å¤„ç†ã€DTO è§„èŒƒã€æµ‹è¯•å»ºè®®ã€‚
</code></pre>
<p>AI å°±è€è€å®å®ç»™ä½ åå‡ºä¸€ä»½ç»“æ„åŒ–çš„è§„åˆ™æ–‡æ¡£ã€‚</p>
<p>æˆ‘å†ç¨ä½œä¿®æ”¹ï¼Œå­˜è¿›é¡¹ç›®æ ¹ç›®å½•ã€‚ä»é‚£ä»¥åï¼Œæ¯æ¬¡æ–°å¼€é¡¹ç›®ï¼ŒCursor ä¸€ä¸Šæ¥å°±çŸ¥é“æˆ‘çš„åå¥½ï¼š</p>
<p>kebab-case æ–‡ä»¶åã€camelCase æ–¹æ³•ã€PascalCase ç±»ã€ç»Ÿä¸€çš„å“åº”æ ¼å¼ã€è½¯åˆ é™¤ä¸­é—´ä»¶â€¦â€¦</p>
<p>ä»£ç åº“æ…¢æ…¢ä»â€œæ‚ä¹±çš„ä¸ªäººé£æ ¼â€å˜æˆäº†â€œæœ‰ä½“ç³»çš„é£æ ¼â€ã€‚</p>
<p>å›¢é˜Ÿæ–°åŒå­¦ clone ä¸‹æ¥ï¼Œç¬¬ä¸€çœ¼å°±è§‰å¾—â€œè¿™äººä»£ç å†™å¾—æŒºå¹²å‡€â€ï¼Œå…¶å®åªæ˜¯æˆ‘å·æ‡’å·å¾—é«˜çº§äº†è€Œå·²ã€‚</p>
<p>åŒæ ·çš„æ‰‹æ³•ï¼Œç”¨åœ¨ React / Next.js ä¸Šä¹Ÿç‰¹åˆ«é¦™ï¼š</p>
<p>è®© AI å¸®ä½ æ€»ç»“ç»„ä»¶è§„èŒƒã€Server Component ä¼˜å…ˆåŸåˆ™ã€Suspense + loading éª¨æ¶å±çš„æœ€ä½³å®è·µâ€¦â€¦</p>
<p>æ¯ç”¨ä¸€æ¬¡ï¼Œå°±å¤šæ”’ä¸€ä»½â€œæ°¸ä¹…èµ„äº§â€ã€‚</p>
<h3 data-id="heading-2">æ–¹æ¡ˆåº“ï¼šæŠŠé‡å¤çš„ç—›è‹¦å˜æˆä¸€æ¬¡æ€§çš„å¿«ä¹</h3>
<p>ä¸šåŠ¡å¼€å‘é‡Œæœ€çƒ¦çš„æ°¸è¿œæ˜¯é‚£äº›â€œè½®å­â€ï¼š</p>
<p>æ”¯ä»˜å›è°ƒæ€ä¹ˆéªŒç­¾ï¼ŸçŸ­ä¿¡é™æµæ€ä¹ˆåšï¼Ÿæ–‡ä»¶å¤§ä¸Šä¼ æ€ä¹ˆåˆ†ç‰‡ï¼Ÿè½¯åˆ é™¤ä¸­é—´ä»¶æ€ä¹ˆä¼˜é›…å†™ï¼Ÿ</p>
<p>ä»¥å‰æˆ‘æ¯æ¬¡éƒ½å»ç¿»æ—§é¡¹ç›®ã€æœåšå®¢ã€çœ‹æ–‡æ¡£ï¼ŒæŠ˜è…¾åŠå¤©ã€‚</p>
<p>ç°åœ¨æˆ‘ç›´æ¥é—® AIï¼š</p>
<pre><code class="hljs language-txt" lang="txt">åŸºäºæˆ‘ä¸Šæ¬¡çš„ NestJS + Prisma é¡¹ç›®ï¼ˆæ­¤å¤„å¯ä»¥ä¸Šä¼ ç›¸åº”çš„é¡¹ç›®æ–¹æ¡ˆæ€»ç»“æ–‡ä»¶ï¼‰ï¼Œå¸®æˆ‘ç”Ÿæˆä¸€å¥—å®Œæ•´çš„æ”¯ä»˜ç½‘å…³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬æ”¯ä»˜å®/å¾®ä¿¡å›è°ƒã€ç­¾åéªŒè¯ã€é€€æ¬¾æ¥å£ã€å¹¶å‘åº“å­˜æ‰£å‡ã€äº‹åŠ¡å¤„ç†ã€‚
</code></pre>
<p>å®ƒä¼šç»™ä½ æ•´å¥—ä»£ç  + æ³¨é‡Š + å¯èƒ½è¸©çš„å‘ã€‚</p>
<p>æˆ‘å†è·‘ä¸€éæµ‹è¯•ï¼Œæ”¹ä¸¤å¤„é…ç½®ï¼Œæ‰”è¿›ç§æœ‰ monorepo çš„ <code>packages/common</code> é‡Œã€‚</p>
<p>ä¸‹æ¬¡éœ€æ±‚ä¸€æ¥ï¼Œç›´æ¥ importï¼Œä¸€è¡Œé…ç½®æå®šã€‚</p>
<p>æ…¢æ…¢åœ°ï¼Œæˆ‘çš„æ–¹æ¡ˆåº“å°±æœ‰äº†è¿™äº›â€œè€æœ‹å‹â€ï¼š</p>
<ul>
<li>ç”¨æˆ·é‰´æƒï¼ˆJWT + RolesGuard + åˆ·æ–° tokenï¼‰</li>
<li>æ”¯ä»˜ç½‘å…³ï¼ˆæ”¯ä»˜å®/å¾®ä¿¡/Apple Payï¼‰</li>
<li>é€šçŸ¥ä¸­å¿ƒï¼ˆçŸ­ä¿¡ + é‚®ä»¶ + æ¨é€ï¼‰</li>
<li>æ–‡ä»¶ä¸Šä¼ ï¼ˆåˆ†ç‰‡ + OSS + é¢„ç­¾åï¼‰</li>
<li>è½¯åˆ é™¤ä¸­é—´ä»¶ï¼ˆPrisma å…¨å±€è¿‡æ»¤ï¼‰</li>
</ul>
<p>è¿™äº›ä¸œè¥¿ä¸å†æ˜¯â€œæ¯æ¬¡é‡å†™â€çš„ç—›è‹¦ï¼Œè€Œæ˜¯â€œè°ƒç”¨ä¸€ä¸‹å°±å¥½â€çš„å¿«ä¹ã€‚</p>
<p>å¼€å‘é€Ÿåº¦ä¸æ˜¯çº¿æ€§æå‡ï¼Œè€Œæ˜¯æŒ‡æ•°çº§çš„ã€‚</p>
<h3 data-id="heading-3">åˆ›æ„å¼•æ“ï¼šä»å†™ä»£ç çš„äººï¼Œå˜æˆå®šä¹‰äº§å“çš„äºº</h3>
<p>æœ€çˆ½çš„éƒ¨åˆ†å…¶å®æ˜¯åé¢è¿™ä¸ªã€‚</p>
<p>ä»¥å‰è„‘æš´äº§å“æ–¹å‘ï¼Œæˆ‘ä¸€ä¸ªäººå¯¹ç€ Notion æŒ å¤´åŠå¤©ä¹Ÿå‡ºä¸æ¥å‡ ä¸ªç‚¹ã€‚</p>
<p>ç°åœ¨æˆ‘ç›´æ¥è·Ÿ AI è¯´ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">åŸºäºæˆ‘ä»¬ç°åœ¨çš„ä¼šå‘˜è®¢é˜…ç³»ç»Ÿï¼Œbrainstorm 10 ä¸ªçœŸæ­£èƒ½è½åœ°çš„åŠŸèƒ½è¿­ä»£æ–¹å‘ï¼Œè¦æœ‰å·®å¼‚åŒ–ã€æœ‰ç”¨æˆ·ä»·å€¼ã€æœ€å¥½å¸¦ç‚¹åå¸¸è¯†çš„æ€è€ƒã€‚
</code></pre>
<p>ç„¶åå®ƒä¼šæŠ›å‡ºä¸€å †ä¸œè¥¿ï¼š</p>
<p>AI é¢„æµ‹ç”¨æˆ·æµå¤±å¹¶æå‰æŒ½å›ã€åŠ¨æ€å®šä»· + ä¸ªæ€§åŒ–ä¼˜æƒ åˆ¸ã€è®¢é˜…ç¤¼ç‰©ç³»ç»Ÿã€åŸºäºä½¿ç”¨è¡Œä¸ºçš„â€œæˆé•¿å€¼â€å‡çº§â€¦â€¦</p>
<p>æœ‰äº›æƒ³æ³•æˆ‘è‡ªå·±æ ¹æœ¬æƒ³ä¸åˆ°ï¼Œä½†ä¸€çœ‹å°±è§‰å¾—â€œå§æ§½ï¼Œè¿™ä¸ªå¯ä»¥æœ‰â€ã€‚</p>
<p>å†è¿›ä¸€æ­¥ï¼Œæˆ‘ä¼šè®©å®ƒç›´æ¥å¸®æˆ‘å‡º MVP æŠ€æœ¯é€‰å‹å’ŒåˆæœŸæ¶æ„è‰å›¾ï¼š</p>
<p>â€œç”¨ Next.js + NestJS + Prisma åšè¿™ä¸ªä¼šå‘˜ç³»ç»Ÿï¼Œæ ¸å¿ƒåŠŸèƒ½æ˜¯ XXXï¼Œç»™æˆ‘ç”»ä¸ªå¤§æ¦‚çš„æ¨¡å—å›¾å’Œæ•°æ®æµã€‚â€</p>
<p>å®ƒç”»ä¸å‡ºæ¥å›¾ï¼Œä½†ä¼šç»™ä½ æ¸…æ™°çš„æ–‡å­—æ¶æ„æè¿°ï¼Œæˆ‘å†ç”¨ Excalidraw è¡¥ä¸¤ç¬”ï¼Œå°±æˆäº†å¯ä»¥è®¨è®ºçš„åŸå‹ã€‚</p>
<p>ä»â€œåˆ«äººç»™éœ€æ±‚æˆ‘å»å®ç°â€ï¼Œåˆ°â€œAI é™ªæˆ‘ä¸€èµ·æƒ³éœ€æ±‚ã€ä¸€èµ·å®šä¹‰äº§å“â€â€”â€”</p>
<p>è¿™ä¸ªè½¬å˜ï¼Œæ¯”æ¶¨ 10 å€è–ªæ°´è¿˜çˆ½ã€‚</p>
<h3 data-id="heading-4">æœ€åè¯´ä¸¤å¥</h3>
<p>AI å½“ç„¶ä¼šå‡ºé”™ï¼Œä¼šå¹»è§‰ï¼Œä¼šç»™ä½ ç”»å¤§é¥¼ã€‚</p>
<p>ä½†é‚£åˆæ€æ ·ï¼Ÿ</p>
<p>éªŒè¯å®ƒã€æŒ‘é”™å®ƒã€è¿­ä»£å®ƒâ€”â€”è¿™ä¸ªè¿‡ç¨‹æœ¬èº«å°±æ˜¯åœ¨é€¼ä½ å˜å¼ºã€‚</p>
<p>åˆ«å†è®© AI çš„ä»·å€¼éšç€èŠå¤©çª—å£å…³é—­è€Œæ¶ˆå¤±ã€‚</p>
<p>ä»ä»Šå¤©å¼€å§‹ï¼ŒæŠŠå®ƒå½“æˆä½ çœŸæ­£çš„ä¼™ä¼´ï¼š</p>
<ul>
<li>ä¸‹ä¸ªå°åŠŸèƒ½ï¼Œåˆ«æ€¥ç€æ¸…è®°å½•ï¼Œè®©å®ƒå¸®ä½ æç‚¼æˆä¸€æ¡ Rule</li>
<li>ä¸‹æ¬¡éœ€æ±‚ï¼ŒæŠŠæ”¯ä»˜/è®¤è¯/é€šçŸ¥è¿™äº›è€æœ‹å‹è¯·å‡ºæ¥ï¼Œç›´æ¥å¤ç”¨</li>
<li>ä»Šæ™šç¡å‰ï¼ŒèŠ± 20 åˆ†é’Ÿè·Ÿå®ƒèŠèŠâ€œä¸‹ä¸€ä¸ªäº§å“å¯ä»¥æ€ä¹ˆç©â€</li>
</ul>
<p>å› ä¸ºåœ¨ AI æ—¶ä»£ï¼ŒæŠ¤åŸæ²³ä»æ¥ä¸æ˜¯â€œè°ä¼šç”¨ AIâ€ï¼Œ</p>
<p>è€Œæ˜¯â€œè°å…ˆæŠŠ AI ç”¨æˆäº†è‡ªå·±çš„ç¬¬äºŒå¤§è„‘â€ï¼Œ</p>
<p>ç„¶åè®©å®ƒæ—¥å¤ä¸€æ—¥ï¼Œä¸ºä½ ç§¯ç´¯èµ„äº§ã€ç‚¹ç‡ƒçµæ„Ÿã€åˆ›é€ æœªæ¥ã€‚</p>
<p>è¡ŒåŠ¨èµ·æ¥å§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>