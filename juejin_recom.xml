<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[æ¶¨è§è¯†äº†ï¼ŒError.cause è®© JavaScript é”™è¯¯è°ƒè¯•æ›´è½»æ¾]]></title>    <link>https://juejin.cn/post/7576371992615649316</link>    <guid>https://juejin.cn/post/7576371992615649316</guid>    <pubDate>2025-11-25T10:03:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576371992615649316" data-draft-id="7576276707332177926" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¶¨è§è¯†äº†ï¼ŒError.cause è®© JavaScript é”™è¯¯è°ƒè¯•æ›´è½»æ¾"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Node.js"/> <meta itemprop="datePublished" content="2025-11-25T10:03:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†´ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/712139234359182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¶¨è§è¯†äº†ï¼ŒError.cause è®© JavaScript é”™è¯¯è°ƒè¯•æ›´è½»æ¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139234359182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†´ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T10:03:58.000Z" title="Tue Nov 25 2025 10:03:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å‰è¨€</h2>
<p>åœ¨ JavaScript ä¸­ï¼ŒæŠ›å‡ºé”™è¯¯å¾ˆå®¹æ˜“ï¼Œä½†è¿½æº¯åŸå› å´æœ‰äº›éº»çƒ¦ï¼Œè¿™å°±æ˜¯ <code>cause</code>å±æ€§çš„ç”¨æ­¦ä¹‹åœ°ã€‚</p>
<p>è¿™æ˜¯æˆ‘ä»¬ä¼ ç»Ÿçš„å¤„ç†é”™è¯¯çš„åšæ³•ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">try</span> {
  <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">"{ bad json }"</span>);
} <span class="hljs-keyword">catch</span> (err) {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Something went wrong: "</span> + err.<span class="hljs-property">message</span>);
}
</code></pre>
<p>è™½ç„¶åŒ…è£…äº†é”™è¯¯ï¼Œä½†å·²ç»ä¸¢å¤±äº†åŸå§‹çš„å †æ ˆä¿¡æ¯å’Œé”™è¯¯ç±»å‹ã€‚</p>
<p>å½“é—®é¢˜å‘ç”Ÿæ—¶ï¼Œä½ åªèƒ½çœ‹åˆ°æœ€é¡¶å±‚çš„é”™è¯¯ä¿¡æ¯ï¼Œå´ä¸çŸ¥é“æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆã€‚</p>
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯å†´ç¾½ã€‚å‰ç«¯èµ„è®¯ã€å‰ç«¯å¹²è´§ï¼Œæ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼šå†´ç¾½</p>
<h2 data-id="heading-1">2. å¼•å…¥ Error.cause</h2>
<p>ES2022 å¼•å…¥äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FError%2Fcause" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Error/cause" ref="nofollow noopener noreferrer">Error.cause</a> å±æ€§ï¼Œå¯ä»¥ä¿ç•™åŸå§‹é”™è¯¯ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">"{ bad json }"</span>);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Something went wrong"</span>, { <span class="hljs-attr">cause</span>: err });
  }
} <span class="hljs-keyword">catch</span> (err) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err.<span class="hljs-property">stack</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Caused by:"</span>, err.<span class="hljs-property">cause</span>.<span class="hljs-property">stack</span>);
}
</code></pre>
<p>æ­¤æ—¶ä½ å¯ä»¥çœ‹åˆ°å®Œæ•´çš„é”™è¯¯é“¾ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Error</span>: <span class="hljs-title class_">Something</span> went wrong
    at ...
<span class="hljs-title class_">Caused</span> <span class="hljs-attr">by</span>: <span class="hljs-title class_">SyntaxError</span>: <span class="hljs-title class_">Unexpected</span> token b <span class="hljs-keyword">in</span> <span class="hljs-title class_">JSON</span> at position <span class="hljs-number">2</span>
    at <span class="hljs-title class_">JSON</span>.<span class="hljs-property">parse</span> (&lt;anonymous&gt;)
    at ...
</code></pre>
<p>ç°åœ¨ï¼Œä½ æ—¢ä¿ç•™äº†åŸå§‹é”™è¯¯ï¼Œåˆèƒ½æä¾›æ¸…æ™°çš„é¡¶å±‚é”™è¯¯ä¿¡æ¯ã€‚</p>
<h2 data-id="heading-2">3. å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªæ›´å®é™…çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUserData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">"{ broken: true }"</span>); <span class="hljs-comment">// â† è¿™é‡Œä¼šå¤±è´¥</span>
  } <span class="hljs-keyword">catch</span> (parseError) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Failed to fetch user data"</span>, { <span class="hljs-attr">cause</span>: parseError });
  }
}

<span class="hljs-keyword">try</span> {
  <span class="hljs-title function_">fetchUserData</span>();
} <span class="hljs-keyword">catch</span> (err) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err.<span class="hljs-property">message</span>); <span class="hljs-comment">// "Failed to fetch user data"</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err.<span class="hljs-property">cause</span>); <span class="hljs-comment">// [SyntaxError: Unexpected token b in JSON]</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err.<span class="hljs-property">cause</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">SyntaxError</span>); <span class="hljs-comment">// true</span>
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ä»£ç éå¸¸æ¸…æ™°ç›´è§‚ã€‚</p>
<p><strong>è€Œä¸” cause å±æ€§è¢«å®šä¹‰ä¸ºä¸å¯æšä¸¾</strong>ï¼Œå› æ­¤å®ƒä¸ä¼šæ±¡æŸ“æ—¥å¿—æˆ– for...in å¾ªç¯ï¼Œé™¤éä½ æ˜¾å¼è®¿é—®å®ƒã€‚</p>
<h2 data-id="heading-3">4. è‡ªå®šä¹‰é”™è¯¯ç±»</h2>
<p>ä½ å¯ä»¥åœ¨è‡ªå®šä¹‰é”™è¯¯ç±»ä¸­ä½¿ç”¨ <code>cause</code> å±æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">message, { cause } = {}</span>) {
    <span class="hljs-variable language_">super</span>(message, { cause });
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">"DatabaseError"</span>;
  }
}
</code></pre>
<p>å¦‚æœä½ çš„è¿è¡Œç¯å¢ƒæ˜¯ ES2022+ï¼Œè¿™å·²ç»è¶³å¤Ÿäº†ï¼š<code>super(message, { cause })</code> ä¼šè‡ªåŠ¨å¤„ç†ä¸€åˆ‡ã€‚</p>
<p>å¯¹äº TypeScript ç”¨æˆ·ï¼Œç¡®ä¿ <code>tsconfig.json</code> é…ç½®äº†ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"es2022"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lib"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"es2022"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å¦åˆ™ï¼Œåœ¨å°† <code>{ cause }</code> ä¼ é€’ç»™ Error æ„é€ å‡½æ•°æ—¶å¯èƒ½ä¼šçœ‹åˆ°ç±»å‹é”™è¯¯ã€‚</p>
<h2 data-id="heading-4">5. æ›´å¥½çš„æµ‹è¯•æ–­è¨€</h2>
<p>å‡è®¾ä½ çš„æœåŠ¡æŠ›å‡ºäº†ä¸€ä¸ª <code>UserCreationError</code>ï¼Œè¿™æ˜¯ç”±ä¸€ä¸ª <code>ValidationError</code> å¼•å‘çš„ã€‚</p>
<p>ä½ å¯ä»¥è¿™æ ·å†™æ–­è¨€ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">expect</span>(err.<span class="hljs-property">cause</span>).<span class="hljs-title function_">toBeInstanceOf</span>(<span class="hljs-title class_">ValidationError</span>);
</code></pre>
<p>è¿™æ ·æµ‹è¯•ä¼šæ›´æ¸…æ™°ã€æ›´å¥å£®ã€‚</p>
<h2 data-id="heading-5">6. æ³¨æ„äº‹é¡¹</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>console.error(err)</code> åªä¼šæ‰“å°é¡¶å±‚é”™è¯¯ã€‚<code>cause</code>é“¾ä¸ä¼šè‡ªåŠ¨æ˜¾ç¤ºï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨æ‰“å°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Caused by:"</span>, err.<span class="hljs-property">cause</span>);
</code></pre>
<p>å°½ç®¡ cause å¾ˆå¥½ï¼Œä½†ä¹Ÿä¸è¦æ»¥ç”¨ã€‚æ¯ä¸ªå°é”™è¯¯éƒ½åŒ…è£…å¯èƒ½æ›´ä¹±ï¼Œå› æ­¤åªåœ¨çœŸæ­£éœ€è¦ä¸Šä¸‹æ–‡çš„æ—¶å€™ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-6">7. é€’å½’æ‰“å°å®Œæ•´é”™è¯¯é“¾</h2>
<p>è¿™æ˜¯ä¸€ä¸ªå®‰å…¨éå†é”™è¯¯é“¾çš„å·¥å…·å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">logErrorChain</span>(<span class="hljs-params">err, level = <span class="hljs-number">0</span></span>) {
  <span class="hljs-keyword">if</span> (!err) <span class="hljs-keyword">return</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">" "</span>.<span class="hljs-title function_">repeat</span>(level * <span class="hljs-number">2</span>) + <span class="hljs-string">`<span class="hljs-subst">${err.name}</span>: <span class="hljs-subst">${err.message}</span>`</span>);

  <span class="hljs-keyword">if</span> (err.<span class="hljs-property">cause</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Error</span>) {
    <span class="hljs-title function_">logErrorChain</span>(err.<span class="hljs-property">cause</span>, level + <span class="hljs-number">1</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (err.<span class="hljs-property">cause</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">" "</span>.<span class="hljs-title function_">repeat</span>((level + <span class="hljs-number">1</span>) * <span class="hljs-number">2</span>) + <span class="hljs-title class_">String</span>(err.<span class="hljs-property">cause</span>));
  }
}
</code></pre>
<p>å¦‚æœéœ€è¦å®Œæ•´å †æ ˆä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">logFullErrorChain</span>(<span class="hljs-params">err</span>) {
  <span class="hljs-keyword">let</span> current = err;
  <span class="hljs-keyword">while</span> (current) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(current.<span class="hljs-property">stack</span>);
    current = current.<span class="hljs-property">cause</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Error</span> ? current.<span class="hljs-property">cause</span> : <span class="hljs-literal">null</span>;
  }
}
</code></pre>
<p>å¯¹äºç»“æ„å¤æ‚ã€å¯èƒ½åœ¨ä¸åŒå±‚çº§å‡ºç°å¤šç§æ•…éšœçš„ç³»ç»Ÿæ¥è¯´ï¼Œè¿™éå¸¸æœ‰ç”¨ã€‚</p>
<h2 data-id="heading-7">8. è·¨å±‚é”™è¯¯é“¾ç¤ºä¾‹</h2>
<p>å‡è®¾è°ƒç”¨æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ•°æ®åº“è¿æ¥å¤±è´¥ï¼ŒæŠ›å‡º <code>ConnectionTimeoutError</code></li>
<li>æ•è·ååŒ…è£…æˆ <code>DatabaseError</code></li>
<li>å†æ¬¡æ•è·å¹¶åŒ…è£…æˆ <code>ServiceUnavailableError</code></li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ConnectionTimeoutError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceUnavailableError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {}

<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConnectionTimeoutError</span>(<span class="hljs-string">"DB connection timed out"</span>);
    } <span class="hljs-keyword">catch</span> (networkErr) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatabaseError</span>(<span class="hljs-string">"Failed to connect to database"</span>, { <span class="hljs-attr">cause</span>: networkErr });
    }
  } <span class="hljs-keyword">catch</span> (dbErr) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceUnavailableError</span>(<span class="hljs-string">"Unable to save user data"</span>, { <span class="hljs-attr">cause</span>: dbErr });
  }
} <span class="hljs-keyword">catch</span> (finalErr) {
  <span class="hljs-title function_">logErrorChain</span>(finalErr);
}
</code></pre>
<p>æ§åˆ¶å°è¾“å‡ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">ServiceUnavailableError</span>: <span class="hljs-title class_">Unable</span> to save user data
  <span class="hljs-title class_">DatabaseError</span>: <span class="hljs-title class_">Failed</span> to connect to database
    <span class="hljs-title class_">ConnectionTimeoutError</span>: <span class="hljs-variable constant_">DB</span> connection timed out
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œé”™è¯¯é“¾æä¾›äº†ä¸€ä¸ªæ¸…æ™°çš„è§†å›¾ï¼Œå‘Šè¯‰ä½ å‘ç”Ÿäº†ä»€ä¹ˆä»¥åŠåœ¨å“ªé‡Œå‘ç”Ÿçš„ã€‚</p>
<h2 data-id="heading-8">9. æ”¯æŒåº¦</h2>
<p><code>.cause</code> å‚æ•°åœ¨æ‰€æœ‰ç°ä»£ç¯å¢ƒä¸­éƒ½æ”¯æŒï¼š</p>
<ul>
<li>âœ… Chrome 93+ã€Firefox 91+ã€Safari 15+ã€Edge 93+</li>
<li>âœ… Node.js 16.9+</li>
<li>âœ… Bun å’Œ Denoï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰</li>
</ul>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¼€å‘è€…å·¥å…·å¯èƒ½ä¸ä¼šè‡ªåŠ¨æ˜¾ç¤º causeã€‚</p>
<p>æ‰€ä»¥éœ€è¦æ˜¾å¼è®°å½•å®ƒï¼ˆ<code>console.error('Caused by:', err.cause)</code>ï¼‰ã€‚</p>
<p>è¿˜è¦æ³¨æ„ï¼šå¦‚æœä½¿ç”¨ Babel æˆ– TypeScript è¿›è¡Œè½¬è¯‘ï¼Œæ­¤åŠŸèƒ½ä¸ä¼šè¢« polyfillã€‚</p>
<h2 data-id="heading-9">10. å¼‚æ­¥æ“ä½œä¸­çš„é”™è¯¯å¤„ç†</h2>
<p>Error.cause åŒæ ·é€‚ç”¨äºå¼‚æ­¥æ“ä½œã€‚ç»“åˆ async/await å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"/api/data"</span>);
    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`HTTP error! Status: <span class="hljs-subst">${response.status}</span>`</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"æ•°æ®è·å–å¤±è´¥:"</span>, error);
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Failed to fetch data"</span>, { <span class="hljs-attr">cause</span>: error });
  }
}
</code></pre>
<p>è¿™ç§æ–¹å¼è®©å¼‚æ­¥ä»£ç çš„é”™è¯¯å¤„ç†é€»è¾‘çœ‹èµ·æ¥ä¸åŒæ­¥ä»£ç æ— å¼‚ï¼Œå¤§å¤§æå‡äº†å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<h2 data-id="heading-10">11. æ€»ç»“</h2>
<p>æ€»ç»“ä¸€ä¸‹ï¼Œ<strong>ç°ä»£é”™è¯¯é“¾å¤„ç†çš„æœ€ä½³å®è·µ</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>new Error(message, { cause })</code> ä¿ç•™ä¸Šä¸‹æ–‡</li>
<li>é€‚ç”¨äºå†…ç½®é”™è¯¯ç±»å’Œè‡ªå®šä¹‰é”™è¯¯ç±»</li>
<li>æ‰€æœ‰ç°ä»£è¿è¡Œæ—¶ç¯å¢ƒéƒ½æ”¯æŒï¼ˆæµè§ˆå™¨ã€Node.jsã€Denoã€Bunï¼‰</li>
<li>å¯ä»¥æ”¹å–„æ—¥å¿—ã€è°ƒè¯•å’Œæµ‹è¯•æ–­è¨€</li>
<li>æ³¨æ„ TypeScriptï¼šè®¾ç½® <code>"target": "es2022"</code> å’Œ <code>"lib": ["es2022"]</code></li>
<li>æ³¨æ„è®°å½• <code>err.cause</code> æˆ–æ‰‹åŠ¨éå†é”™è¯¯é“¾</li>
</ul>
<p>ä»è€Œå®ç°æ›´æ¸…æ™°çš„å †æ ˆè·Ÿè¸ªã€æ›´å¥½çš„ä¸Šä¸‹æ–‡ã€æ›´æ„‰å¿«çš„è°ƒè¯•ä½“éªŒã€‚</p>
<p>Error.cause å°±æ˜¯ä½ é”™è¯¯å¤„ç†ä¸­ç¼ºå°‘çš„é‚£ä¸€ç¯ã€‚</p>
<h2 data-id="heading-11">12. å‚è€ƒé“¾æ¥</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fallthingssmitty.com%2F2025%2F11%2F10%2Ferror-chaining-in-javascript-cleaner-debugging-with-error-cause%2F" target="_blank" title="https://allthingssmitty.com/2025/11/10/error-chaining-in-javascript-cleaner-debugging-with-error-cause/" ref="nofollow noopener noreferrer">allthingssmitty.com/2025/11/10/â€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FError%2Fcause" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Error/cause" ref="nofollow noopener noreferrer">developer.mozilla.org/zh-CN/docs/â€¦</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è„šæœ¬çŒ«ä¸­çš„æ–°å»ºè„šæœ¬ï¼šå®šæ—¶è„šæœ¬ã€åå°è„šæœ¬ã€æ™®é€šè„šæœ¬ï¼Œä¸‰ä¸ªåŒºåˆ«]]></title>    <link>https://juejin.cn/post/7576477434732920838</link>    <guid>https://juejin.cn/post/7576477434732920838</guid>    <pubDate>2025-11-25T10:05:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576477434732920838" data-draft-id="7576276707332145158" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è„šæœ¬çŒ«ä¸­çš„æ–°å»ºè„šæœ¬ï¼šå®šæ—¶è„šæœ¬ã€åå°è„šæœ¬ã€æ™®é€šè„šæœ¬ï¼Œä¸‰ä¸ªåŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-25T10:05:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DcTbnk"/> <meta itemprop="url" content="https://juejin.cn/user/2796746682930807"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è„šæœ¬çŒ«ä¸­çš„æ–°å»ºè„šæœ¬ï¼šå®šæ—¶è„šæœ¬ã€åå°è„šæœ¬ã€æ™®é€šè„šæœ¬ï¼Œä¸‰ä¸ªåŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2796746682930807/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DcTbnk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T10:05:10.000Z" title="Tue Nov 25 2025 10:05:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8930a3552b7b4c2a8ed633013877e3d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGNUYm5r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764669909&amp;x-signature=YG1b4AqAxlXzs8jBq6OmKLeYvf0%3D" alt="image.png" loading="lazy"/></p>
<p>å¤§è‡´å¯ä»¥è¿™ä¹ˆç†è§£ï¼š</p>
<h4 data-id="heading-0">1ï¸âƒ£ æ™®é€šè„šæœ¬ï¼ˆæ–°å»ºæ™®é€šè„šæœ¬ï¼‰</h4>
<ul>
<li>
<p><strong>è¿è¡Œä½ç½®</strong>ï¼šåœ¨ç½‘é¡µé‡Œè¿è¡Œï¼Œç›¸å½“äºç»™æŸä¸ªé¡µé¢â€œå¡ä¸€æ®µ JSâ€</p>
</li>
<li>
<p><strong>è§¦å‘æ–¹å¼</strong>ï¼šå½“ä½ æ‰“å¼€/åˆ·æ–°åŒ¹é…çš„ç½‘å€æ—¶è‡ªåŠ¨æ³¨å…¥æ‰§è¡Œ</p>
</li>
<li>
<p><strong>èƒ½åšçš„äº‹</strong>ï¼š</p>
<ul>
<li>æ“ä½œå½“å‰é¡µé¢ DOMï¼ˆå¢åˆ å…ƒç´ ã€è‡ªåŠ¨ç‚¹å‡»ã€å¡«è¡¨å•â€¦â€¦ï¼‰</li>
<li>ç›‘å¬ç”¨æˆ·æ“ä½œ</li>
<li>è·Ÿé¡µé¢é‡Œçš„ JS äº’åŠ¨</li>
</ul>
</li>
<li>
<p><strong>å…¸å‹ç”¨é€”</strong>ï¼šé¡µé¢æ”¹é€ ã€è‡ªåŠ¨åŒ–æ“ä½œã€åŠ æŒ‰é’®ã€åŠ  iframe ç­‰</p>
</li>
</ul>
<blockquote>
<p>ä½ ç°åœ¨å†™çš„â€œåœ¨æŸä¸ªç³»ç»Ÿé¡µé¢æ’ iframeâ€è¿™ç§ï¼Œå°±æ˜¯ç”¨ <strong>æ™®é€šè„šæœ¬</strong>ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-1">2ï¸âƒ£ åå°è„šæœ¬ï¼ˆæ–°å»ºåå°è„šæœ¬ï¼‰</h4>
<ul>
<li>
<p><strong>è¿è¡Œä½ç½®</strong>ï¼šæ‰©å±•çš„åå°ç¯å¢ƒï¼Œä¸ä¾é™„å…·ä½“ç½‘é¡µ</p>
</li>
<li>
<p><strong>è§¦å‘æ–¹å¼</strong>ï¼šæµè§ˆå™¨å¯åŠ¨ã€æ‰©å±•åŠ è½½æ—¶å°±å¯ä»¥å¸¸é©»ï¼›ä¹Ÿå¯ä»¥è¢«å…¶å®ƒè„šæœ¬æ¶ˆæ¯å”¤èµ·</p>
</li>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¸ç›´æ¥æ“ä½œä»»ä½•ç½‘é¡µ DOM</li>
<li>é€‚åˆåšå…¨å±€é€»è¾‘ï¼šç»Ÿä¸€è¯·æ±‚ã€æ•°æ®ä¸­è½¬ã€é•¿è¿æ¥ã€å…¨å±€çŠ¶æ€ã€ä¸æµè§ˆå™¨ API äº¤äº’</li>
<li>å¯ä»¥å’Œæ™®é€šè„šæœ¬é€šè¿‡ <code>GM_*</code> æˆ–æ¶ˆæ¯é€šä¿¡åä½œ</li>
</ul>
</li>
<li>
<p><strong>å…¸å‹ç”¨é€”</strong>ï¼š</p>
<ul>
<li>åšä¸€ä¸ªâ€œæ€»æ§ä¸­æ¢â€ï¼šç®¡ç†å¤šä¸ªé¡µé¢è„šæœ¬çš„é…ç½®ã€å…±äº«ç™»å½•çŠ¶æ€</li>
<li>é•¿è¿æ¥ / WebSocket å®¢æˆ·ç«¯</li>
<li>ç»Ÿä¸€çš„ä»»åŠ¡é˜Ÿåˆ—ã€è¯·æ±‚è½¬å‘ã€å­˜å‚¨</li>
</ul>
</li>
</ul>
<p>ä½ å¯ä»¥ç†è§£ä¸ºï¼š<strong>åƒæµè§ˆå™¨æ‰©å±•çš„ background.js</strong>ã€‚</p>
<hr/>
<h4 data-id="heading-2">3ï¸âƒ£ å®šæ—¶è„šæœ¬ï¼ˆæ–°å»ºå®šæ—¶è„šæœ¬ï¼‰</h4>
<ul>
<li>
<p><strong>è¿è¡Œä½ç½®</strong>ï¼šä¹Ÿæ˜¯åœ¨æ‰©å±•ç¯å¢ƒä¸­è¿è¡Œï¼Œä¸ä¾é™„å…·ä½“ç½‘é¡µ</p>
</li>
<li>
<p><strong>è§¦å‘æ–¹å¼</strong>ï¼šæŒ‰ä½ åœ¨è„šæœ¬è®¾ç½®é‡Œé…ç½®çš„æ—¶é—´/é—´éš”è‡ªåŠ¨æ‰§è¡Œ</p>
</li>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¸éœ€è¦æ‰“å¼€æŸä¸ªé¡µé¢ä¹Ÿèƒ½è·‘</li>
<li>æ¯æ¬¡åˆ°ç‚¹å°±æ‰§è¡Œä¸€æ¬¡è„šæœ¬çš„å…¥å£å‡½æ•°</li>
</ul>
</li>
<li>
<p><strong>å…¸å‹ç”¨é€”</strong>ï¼š</p>
<ul>
<li>å®šæ—¶è¯·æ±‚æŸä¸ªæ¥å£ï¼ˆç­¾åˆ°ã€æ‹‰å–æ•°æ®ï¼‰</li>
<li>å®šæ—¶å‘é€šçŸ¥ã€æ£€æµ‹çŠ¶æ€</li>
<li>é…åˆåå°è„šæœ¬/å­˜å‚¨åšâ€œå®šæ—¶ä»»åŠ¡ä¸­å¿ƒâ€</li>
</ul>
</li>
</ul>
<hr/>
<h4 data-id="heading-3">ç®€å•è®°å¿†ç‰ˆ</h4>
<ul>
<li><strong>æ™®é€šè„šæœ¬</strong>ï¼šğŸ‘‰â€œç»‘åœ¨ç½‘é¡µä¸Šçš„è„šæœ¬â€ï¼Œéšé¡µé¢ä¸€èµ·è·‘ï¼Œæœ€é€‚åˆ DOM æ“ä½œã€‚</li>
<li><strong>åå°è„šæœ¬</strong>ï¼šğŸ‘‰â€œå¸¸é©»åå°çš„æœåŠ¡è„šæœ¬â€ï¼Œåšå…¨å±€é€»è¾‘ã€é€šä¿¡ã€é•¿è¿æ¥ã€‚</li>
<li><strong>å®šæ—¶è„šæœ¬</strong>ï¼šğŸ‘‰â€œé—¹é’Ÿè„šæœ¬â€ï¼ŒæŒ‰æ—¶é—´ç‚¹è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">ğŸğŸğŸğŸ Chromeæ‰©å±•åå°è„šæœ¬ä¸å®Œå…¨æŒ‡å—ï¼šä»Manifest V2åˆ°V3ç‰ˆæœ¬ï¼Œbackground.jsçš„è¿è¡Œæœºåˆ¶æœ‰å“ªäº›å˜åŒ–ï¼Ÿ**</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.51cto.com%2Fu_15812995%2F11082389" target="_blank" title="https://blog.51cto.com/u_15812995/11082389" ref="nofollow noopener noreferrer">ç‚¹å‡»æŸ¥çœ‹å­¦ä¹ é“¾æ¥</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d18dc5ba69f44f768db912d5cc660209~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGNUYm5r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764669909&amp;x-signature=9j8xev4KqX9YycB6gUCl%2FcWQEEA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">ğŸğŸğŸğŸGPTå›ç­”: å®šæ—¶æ‹‰æ¥å£ã€è·¨å¤šä¸ªé¡µé¢å…±äº«çŠ¶æ€ã€è‡ªåŠ¨æ“ä½œé¡µé¢ã€‚å¸®æˆ‘ç”»ä¸€ä¸ªâ€œæ™®é€šè„šæœ¬ + åå°è„šæœ¬ + å®šæ—¶è„šæœ¬â€çš„ç»„åˆç»“æ„ã€‚</h2>
<p>é‚£æˆ‘ç»™ä½ æ­ä¸€ä¸ªã€Œä¸‰åˆä¸€ã€çš„è„šæœ¬ç³»ç»Ÿæ¶æ„ï¼Œç›´æ¥å›´ç»•ä½ è¯´çš„ä¸‰ä»¶äº‹ï¼š</p>
<ul>
<li>âœ… å®šæ—¶æ‹‰æ¥å£</li>
<li>âœ… è·¨å¤šä¸ªé¡µé¢å…±äº«çŠ¶æ€</li>
<li>âœ… è¿›å…¥é¡µé¢åè‡ªåŠ¨æ“ä½œ DOM</li>
</ul>
<hr/>
<h3 data-id="heading-6">ä¸€ã€æ•´ä½“ç»“æ„å›¾ï¼ˆæ–‡å­—ç‰ˆï¼‰</h3>
<pre><code class="hljs language-css" lang="css">                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚        å®šæ—¶è„šæœ¬ï¼ˆTimerï¼‰   â”‚
                  â”‚  - æ¯ X åˆ†é’Ÿè°ƒç”¨æ¥å£       â”‚
                  â”‚  - å¤„ç†/æ•´ç†æ•°æ®           â”‚
                  â”‚  - å†™å…¥å…¨å±€å­˜å‚¨            â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚ GM_setValue / å­˜å‚¨
                                â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚      è„šæœ¬çŒ«å…¨å±€å­˜å‚¨/GM_xxx    â”‚
          â”‚  - lastFetchTime             â”‚
          â”‚  - apiData                   â”‚
          â”‚  - userConfig                â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ GM_getValue / ç›‘å¬å˜åŒ–
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åå°è„šæœ¬ï¼ˆ<span class="hljs-attribute">Background</span>ï¼‰â”‚        â”‚   æ™®é€šè„šæœ¬ï¼ˆPage Scriptï¼‰â”‚
â”‚ - ä½œä¸ºä¸­æ¢æœåŠ¡          â”‚        â”‚ - åŒ¹é…å…·ä½“ç³»ç»Ÿé¡µé¢       â”‚
â”‚ - ç»´æŠ¤å†…å­˜ç¼“å­˜          â”‚        â”‚ - è¯»å–å…¨å±€æ•°æ®           â”‚
â”‚ - å¤„ç†å¤æ‚é€»è¾‘/é•¿è¿æ¥    â”‚        â”‚ - æ ¹æ®æ•°æ®è‡ªåŠ¨æ“ä½œDOM    â”‚
â”‚ - æ¥æ”¶é¡µé¢è„šæœ¬æ¶ˆæ¯      â”‚        â”‚ - å‘åå°è„šæœ¬è¯·æ±‚æœåŠ¡     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong></p>
<ul>
<li><strong>å®šæ—¶è„šæœ¬</strong> ä¸“å¿ƒè´Ÿè´£ï¼š<strong>å®šæ—¶æ‹‰æ¥å£ + å†™å…¥å…¨å±€çŠ¶æ€</strong></li>
<li><strong>åå°è„šæœ¬</strong> åšâ€œä¸­æ§â€ï¼š<strong>è¯»å†™å­˜å‚¨ã€å¤„ç†å¤æ‚é€»è¾‘ã€å¯¹å¤–æä¾›æœåŠ¡</strong></li>
<li><strong>æ™®é€šè„šæœ¬</strong> åªç®¡ï¼š<strong>åœ¨é¡µé¢é‡Œè¯»çŠ¶æ€ + æ“ä½œ DOM</strong></li>
</ul>
<hr/>
<h3 data-id="heading-7">äºŒã€ä¸‰ä¸ªéœ€æ±‚æ˜¯æ€ä¹ˆä¸²èµ·æ¥çš„ï¼Ÿ</h3>
<h4 data-id="heading-8">1. å®šæ—¶æ‹‰æ¥å£ â€”â€” ç”¨ã€Œå®šæ—¶è„šæœ¬ã€</h4>
<p>**è§¦å‘ï¼š**ä½ åœ¨è„šæœ¬çŒ«é‡Œè®¾ç½®æ¯ 5 åˆ†é’Ÿ / æ¯å°æ—¶è¿è¡Œä¸€æ¬¡ã€‚</p>
<p>æµç¨‹ï¼š</p>
<ol>
<li>å®šæ—¶è„šæœ¬è§¦å‘ â†’ é€šè¿‡ <code>GM_xmlhttpRequest</code> / <code>fetch</code> è°ƒä½ çš„æ¥å£ã€‚</li>
<li>æŠŠè¿”å›æ•°æ®æ•´ç†æˆä½ æƒ³è¦çš„ç»“æ„ã€‚</li>
<li>ç”¨ <code>GM_setValue('apiData', data)</code> å­˜åˆ°å…¨å±€ã€‚</li>
<li>é¡ºä¾¿å­˜ä¸ªæ—¶é—´ï¼š<code>GM_setValue('lastFetchTime', Date.now())</code>ã€‚</li>
</ol>
<blockquote>
<p>è¿™æ ·å°±ç®—æµè§ˆå™¨é‡Œæ²¡æœ‰å¼€å…·ä½“é¡µé¢ï¼Œæ•°æ®ä¹Ÿä¼šä¸€ç›´â€œè¢«å–‚æ–°â€ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-9">2. è·¨å¤šä¸ªé¡µé¢å…±äº«çŠ¶æ€ â€”â€” ç”¨ã€Œå…¨å±€å­˜å‚¨ + åå°è„šæœ¬ã€</h4>
<p>å¤šä¸ªé¡µé¢ + å¤šä¸ªæ™®é€šè„šæœ¬ï¼Œå¦‚ä½•å…±äº«åŒä¸€ä»½æ•°æ®ï¼Ÿ</p>
<ul>
<li>
<p>æ‰€æœ‰è„šæœ¬ï¼ˆå®šæ—¶ã€åå°ã€æ™®é€šï¼‰éƒ½ç”¨ <strong>åŒä¸€ä¸ªè„šæœ¬çŒ«å­˜å‚¨ç©ºé—´</strong>ï¼ˆåŒä¸€ä¸ªâ€œè„šæœ¬é¡¹ç›®â€ï¼‰ã€‚</p>
</li>
<li>
<p>ç»Ÿä¸€ç”¨ <code>GM_getValue/GM_setValue</code> è¯»å†™ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><code>apiData</code>ï¼šæœ€è¿‘ä¸€æ¬¡æ¥å£æ•°æ®</li>
<li><code>lastFetchTime</code>ï¼šæ›´æ–°æ—¶é—´</li>
<li><code>userConfig</code>ï¼šä½ åœ¨é…ç½®é¡µæ”¹çš„é…ç½®ï¼ˆæ¯”å¦‚â€œå¼€å…³â€â€œé˜ˆå€¼â€ï¼‰</li>
</ul>
</li>
</ul>
<p><strong>åå°è„šæœ¬</strong> åšä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>
<p><strong>ç¼“å­˜ + å¿«é€Ÿå“åº”ï¼š</strong></p>
<ul>
<li>åœ¨å¯åŠ¨æ—¶è¯»å–ä¸€æ¬¡ <code>GM_getValue('apiData')</code> æ”¾åˆ°å†…å­˜ã€‚</li>
<li>æ™®é€šè„šæœ¬é€šè¿‡æ¶ˆæ¯ï¼ˆæ¯”å¦‚ GM é€šä¿¡æˆ– ScriptCat è‡ªå¸¦ APIï¼‰é—®åå°è¦æ•°æ®ï¼Œåå°ç›´æ¥ä»å†…å­˜/å­˜å‚¨é‡Œå›ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç›‘å¬å˜åŒ–ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ <code>GM_addValueChangeListener('apiData', ...)</code></li>
<li>ä¸€æ—¦å®šæ—¶è„šæœ¬æ›´æ–°äº† <code>apiData</code>ï¼Œåå°è„šæœ¬èƒ½ç¬¬ä¸€æ—¶é—´æ„ŸçŸ¥ï¼Œæœ‰éœ€è¦æ—¶å†æ¨é€ç»™é¡µé¢è„šæœ¬ï¼ˆå¯é€‰ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<blockquote>
<p>è¿™æ ·ä½ åœ¨ A é¡µé¢ç”¨åˆ°è¿™ä»½æ•°æ®ï¼ŒB é¡µé¢ã€C é¡µé¢ä¹Ÿèƒ½è¯»åŒä¸€å¥—æœ€æ–°çš„å†…å®¹ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-10">3. è‡ªåŠ¨æ“ä½œé¡µé¢ â€”â€” ç”¨ã€Œæ™®é€šè„šæœ¬ã€</h4>
<p>æ™®é€šè„šæœ¬æŒ‚åœ¨å…·ä½“ä¸šåŠ¡é¡µé¢ä¸Šï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>ç³»ç»Ÿçš„è®¢å•åˆ—è¡¨é¡µ</li>
<li>å·¥å•è¯¦æƒ…é¡µ</li>
<li>é€šè¯ç•Œé¢ç­‰</li>
</ul>
<p><strong>æµç¨‹ï¼š</strong></p>
<ol>
<li>
<p>é¡µé¢åŠ è½½å®Œæˆ â†’ æ™®é€šè„šæœ¬å¯åŠ¨ã€‚</p>
</li>
<li>
<p>å…ˆä»å…¨å±€å­˜å‚¨ä¸­è¯»å–æ•°æ®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">data</span> = GM_getValue(<span class="hljs-string">'apiData'</span>)<span class="hljs-comment">;</span>
</code></pre>
</li>
<li>
<p>å¦‚æœéœ€è¦æ›´å¤æ‚çš„å¤„ç†ï¼ˆæ¯”å¦‚å¤šæ¥å£ç»„åˆã€æ•°æ®æ¸…æ´—ï¼‰ï¼Œå¯ä»¥ï¼š</p>
<ul>
<li>ç›´æ¥ç»™åå°è„šæœ¬å‘æ¶ˆæ¯ï¼š<code>request('processData', { pageInfo })</code></li>
<li>åå°è„šæœ¬è¿”å›å¤„ç†å¥½çš„ç»“æœã€‚</li>
</ul>
</li>
<li>
<p>æ‹¿åˆ°æ•°æ®åï¼Œå¼€å§‹ DOM è‡ªåŠ¨åŒ–ï¼š</p>
<ul>
<li>æ ¹æ®æ¥å£è¿”å›çš„æ•°æ®ï¼Œè‡ªåŠ¨å¡«è¡¨ã€è‡ªåŠ¨ç‚¹å‡»ã€è‡ªåŠ¨åˆ‡æ¢ tabâ€¦â€¦</li>
<li>æ•°æ®ä¸å¤Ÿæ–°æ—¶ï¼Œä¹Ÿå¯ä»¥è¯·æ±‚åå°è„šæœ¬ã€Œä¸´æ—¶æ‹‰ä¸€æ¬¡æ¥å£ã€ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-11">ä¸‰ã€ä¸‰ä¸ªè„šæœ¬çš„ç®€å•éª¨æ¶ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰</h3>
<h4 data-id="heading-12">1ï¸âƒ£ å®šæ—¶è„šæœ¬ï¼ˆæ‹‰æ¥å£ + å†™å…¥çŠ¶æ€ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ==UserScript==</span>
<span class="hljs-comment">// @name         å®šæ—¶æ‹‰æ¥å£è„šæœ¬</span>
<span class="hljs-comment">// @namespace    your-namespace</span>
<span class="hljs-comment">// @version      1.0</span>
<span class="hljs-comment">// @description  å®šæ—¶è¯·æ±‚æ¥å£å¹¶æ›´æ–°å…¨å±€æ•°æ®</span>
<span class="hljs-comment">// @grant        GM_setValue</span>
<span class="hljs-comment">// @grant        GM_xmlhttpRequest</span>
<span class="hljs-comment">// ==/UserScript==</span>

(<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-comment">// è¿™é‡Œæ˜¯å®šæ—¶ä»»åŠ¡è§¦å‘æ—¶çš„ä¸»å‡½æ•°</span>
  <span class="hljs-keyword">const</span> url = <span class="hljs-string">'https://api.example.com/data'</span>;

  <span class="hljs-title function_">GM_xmlhttpRequest</span>({
    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
    url,
    <span class="hljs-attr">onload</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(res.<span class="hljs-property">responseText</span>);

        <span class="hljs-comment">// å¤„ç†æ•°æ®ï¼Œæ¯”å¦‚åªä¿ç•™å…³é”®å­—æ®µ</span>
        <span class="hljs-keyword">const</span> simplified = {
          <span class="hljs-attr">updatedAt</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
          <span class="hljs-attr">list</span>: data.<span class="hljs-property">items</span> || [],
        };

        <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">'apiData'</span>, simplified);
        <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">'lastFetchTime'</span>, <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>());
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è§£ææ¥å£æ•°æ®å¤±è´¥'</span>, e);
      }
    },
    <span class="hljs-attr">onerror</span>: <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ¥å£è¯·æ±‚å¤±è´¥'</span>, err);
    },
  });
})();
</code></pre>
<blockquote>
<p>å®šæ—¶é€»è¾‘ç”±è„šæœ¬çŒ«â€œå®šæ—¶è„šæœ¬â€çš„é…ç½®æ§åˆ¶ï¼Œä¸éœ€ä½ å†™ setIntervalã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-13">2ï¸âƒ£ åå°è„šæœ¬ï¼ˆä¸­æ¢æœåŠ¡ï¼‰</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ==UserScript==</span>
<span class="hljs-comment">// @name         åå°ä¸­æ¢è„šæœ¬</span>
<span class="hljs-comment">// @namespace    your-namespace</span>
<span class="hljs-comment">// @version      1.0</span>
<span class="hljs-comment">// @description  ç»Ÿä¸€ç®¡ç†å…¨å±€çŠ¶æ€ï¼Œå¯¹æ™®é€šè„šæœ¬æä¾›æœåŠ¡</span>
<span class="hljs-comment">// @grant        GM_getValue</span>
<span class="hljs-comment">// @grant        GM_addValueChangeListener</span>
<span class="hljs-comment">// ==/UserScript==</span>

<span class="hljs-comment">// å†…å­˜ç¼“å­˜</span>
<span class="hljs-keyword">let</span> apiCache = <span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">'apiData'</span>, <span class="hljs-literal">null</span>);

<span class="hljs-comment">// ç›‘å¬å­˜å‚¨å˜åŒ–ï¼ˆå®šæ—¶è„šæœ¬æ›´æ–°æ—¶ä¼šè§¦å‘ï¼‰</span>
<span class="hljs-title function_">GM_addValueChangeListener</span>(<span class="hljs-string">'apiData'</span>, <span class="hljs-function">(<span class="hljs-params">name, oldValue, newValue, remote</span>) =&gt;</span> {
  apiCache = newValue;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'apiData å·²æ›´æ–°:'</span>, newValue);
});

<span class="hljs-comment">// æä¾›ä¸€ä¸ªç®€å•çš„æ¶ˆæ¯å¤„ç†ï¼ˆScriptCat æœ‰è‡ªå·±çš„æ¶ˆæ¯ API å¯ä»¥ç”¨ï¼‰</span>
<span class="hljs-comment">// è¿™é‡Œä¼ªä»£ç ï¼Œè¡¨ç¤ºâ€œæ¥æ”¶é¡µé¢è„šæœ¬çš„è¯·æ±‚â€</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { <span class="hljs-keyword">type</span>, requestId } = e.<span class="hljs-property">data</span> || {};
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">'getApiData'</span>) {
    <span class="hljs-comment">// å›ç»™é¡µé¢è„šæœ¬ï¼ˆåŒæ ·ç”¨ postMessage æˆ– ScriptCat è‡ªå¸¦ GM é€šä¿¡ï¼‰</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({
      <span class="hljs-attr">type</span>: <span class="hljs-string">'getApiDataResult'</span>,
      requestId,
      <span class="hljs-attr">data</span>: apiCache,
    });
  }
});
</code></pre>
<blockquote>
<p>å®é™…é€šä¿¡ API ä½ å¯ä»¥ç”¨ ScriptCat æä¾›çš„æ–¹å¼ï¼Œæ¯”å¦‚ <code>GM_sendMessage</code> / è‡ªå¸¦çš„ <code>ScriptCat</code> é€šä¿¡å°è£…ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-14">3ï¸âƒ£ æ™®é€šè„šæœ¬ï¼ˆé¡µé¢è‡ªåŠ¨åŒ–ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ==UserScript==</span>
<span class="hljs-comment">// @name         é¡µé¢è‡ªåŠ¨æ“ä½œè„šæœ¬</span>
<span class="hljs-comment">// @namespace    your-namespace</span>
<span class="hljs-comment">// @version      1.0</span>
<span class="hljs-comment">// @description  åœ¨ç³»ç»Ÿé¡µé¢ä¸­è‡ªåŠ¨æ“çºµ DOM</span>
<span class="hljs-comment">// @match        https://system.example.com/*</span>
<span class="hljs-comment">// @grant        GM_getValue</span>
<span class="hljs-comment">// ==/UserScript==</span>

(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-string">'use strict'</span>;

  <span class="hljs-comment">// ç®€å•åœºæ™¯ï¼šç›´æ¥ä»å…¨å±€å­˜å‚¨é‡Œè¯»</span>
  <span class="hljs-keyword">const</span> apiData = <span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">'apiData'</span>, <span class="hljs-literal">null</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å½“å‰å…¨å±€æ•°æ®ï¼š'</span>, apiData);

  <span class="hljs-comment">// ç­‰é¡µé¢åŠ è½½å®Œåå†æ“ä½œ DOM</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'load'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (!apiData || !apiData.<span class="hljs-property">list</span> || apiData.<span class="hljs-property">list</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æš‚æ— æ•°æ®ï¼Œä¸è‡ªåŠ¨æ“ä½œ'</span>);
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// ä¸¾ä¾‹ï¼šæ ¹æ®æŸä¸ªå­—æ®µè‡ªåŠ¨ç‚¹å‡»æŒ‰é’®</span>
    <span class="hljs-title function_">autoClickByData</span>(apiData);
  });

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">autoClickByData</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-comment">// è¿™é‡Œå†™ä½ çš„é¡µé¢é€»è¾‘ï¼Œæ¯”å¦‚ï¼š</span>
    <span class="hljs-comment">// 1. æ‰¾åˆ°éœ€è¦å¤„ç†çš„è¡Œ</span>
    <span class="hljs-comment">// 2. åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶</span>
    <span class="hljs-comment">// 3. è§¦å‘ç‚¹å‡» / å¡«å†™è¾“å…¥æ¡†ç­‰</span>
    <span class="hljs-keyword">const</span> buttons = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.process-btn'</span>);
    data.<span class="hljs-property">list</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item, idx</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> btn = buttons[idx];
      <span class="hljs-keyword">if</span> (!btn) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">if</span> (item.<span class="hljs-property">needProcess</span>) {
        btn.<span class="hljs-title function_">click</span>();
      }
    });
  }
})();
</code></pre>
<p>å¦‚æœä½ æƒ³èµ° <strong>â€œæ™®é€šè„šæœ¬å‘åå°è„šæœ¬è¦æ•°æ®â€</strong> çš„è·¯çº¿ï¼Œå¯ä»¥åœ¨æ™®é€šè„šæœ¬ä¸­ï¼š</p>
<ol>
<li>ç»™åå°è„šæœ¬å‘ <code>postMessage: {type: 'getApiData', requestId}</code></li>
<li>ç›‘å¬ <code>message</code> è·å– <code>getApiDataResult</code> å†æ“ä½œ DOMã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-15">å››ã€å¦‚ä½•è½åœ°åˆ°ä½ çš„é¡¹ç›®ï¼Ÿ</h3>
<p>ä½ å¯ä»¥æŒ‰è¿™ä¸ªæ€è·¯æ‹†ä¸‰ä¸ªâ€œè„šæœ¬é¡¹ç›®â€ï¼š</p>
<ol>
<li>
<p><strong>å®šæ—¶è„šæœ¬</strong>ï¼š</p>
<ul>
<li>åªå†™è¯·æ±‚æ¥å£ + <code>GM_setValue</code>ã€‚</li>
<li>åœ¨è„šæœ¬çŒ«çš„â€œå®šæ—¶ä»»åŠ¡â€é‡Œè®¾ <strong>æ¯ X åˆ†é’Ÿè¿è¡Œä¸€æ¬¡</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>åå°è„šæœ¬</strong>ï¼š</p>
<ul>
<li>ä¸åŒ¹é…ä»»ä½• URLï¼ˆæˆ–åªåœ¨ <code>*</code> ä¸‹å¯åŠ¨ï¼‰ã€‚</li>
<li>è´Ÿè´£ç›‘å¬ <code>GM_addValueChangeListener</code> + æ¶ˆæ¯é€šä¿¡ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸€ä¸ªæˆ–å¤šä¸ªæ™®é€šè„šæœ¬</strong>ï¼š</p>
<ul>
<li>åˆ†åˆ«åŒ¹é…ä¸åŒç³»ç»Ÿé¡µé¢ï¼ˆåˆ—è¡¨é¡µã€è¯¦æƒ…é¡µç­‰ï¼‰ã€‚</li>
<li>ç»Ÿä¸€ä»å…¨å±€çŠ¶æ€/åå°è„šæœ¬æ‹¿æ•°æ® â†’ è‡ªåŠ¨æ“ä½œ DOMã€‚</li>
</ul>
</li>
</ol>
<hr/>
<p>å¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘ï¼š</p>
<ul>
<li>ä½ æ¥å£çš„å¤§è‡´è¿”å›ç»“æ„ï¼ˆå­—æ®µåã€åˆ—è¡¨åœ¨å“ªä¸ªå­—æ®µä¸‹ï¼‰</li>
<li>ä¸€ä¸ªå…·ä½“çš„ç³»ç»Ÿé¡µé¢ URL / é¡µé¢ç»“æ„ï¼ˆå¤§æ¦‚æœ‰å“ªäº›æŒ‰é’® / åˆ—è¡¨ï¼‰</li>
</ul>
<p>æˆ‘å¯ä»¥ç›´æ¥ç»™ä½ ã€Œå¯å¤åˆ¶è¿›è„šæœ¬çŒ«å°±èƒ½è·‘ã€çš„å®Œæ•´ä¸‰è„šæœ¬ç¤ºä¾‹ï¼Œå¸®ä½ ä¸²èµ·æ¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PAIÂ PhysicalÂ AIÂ Notebookè¯¦è§£4ï¼šåŸºäºä»¿çœŸçš„GR00T-N1.5æ¨¡å‹å¾®è°ƒ]]></title>    <link>https://juejin.cn/post/7576338796846989352</link>    <guid>https://juejin.cn/post/7576338796846989352</guid>    <pubDate>2025-11-25T10:10:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576338796846989352" data-draft-id="7576338796846333992" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PAIÂ PhysicalÂ AIÂ Notebookè¯¦è§£4ï¼šåŸºäºä»¿çœŸçš„GR00T-N1.5æ¨¡å‹å¾®è°ƒ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-25T10:10:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PAIÂ PhysicalÂ AIÂ Notebookè¯¦è§£4ï¼šåŸºäºä»¿çœŸçš„GR00T-N1.5æ¨¡å‹å¾®è°ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T10:10:06.000Z" title="Tue Nov 25 2025 10:10:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰3æœŸPhysical AIè¯¦è§£ç³»åˆ—ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†è§£è¯»äº†æ•°æ®é‡‡é›†ã€æ‰©å¢ã€å¢å¼ºçš„å…¨è¿‡ç¨‹ï¼Œä»¥åŠå¯¼èˆªæ¨¡å‹ï¼ˆX-Mobilityï¼‰å¾®è°ƒè®­ç»ƒçš„å…¨è¿‡ç¨‹ã€‚</p>
<p>åœ¨æœ¬æœŸï¼Œæˆ‘ä»¬å°†é’ˆå¯¹æ›´å¤æ‚çš„VLAæ¨¡å‹ï¼ˆä»¥GR00T-N1.5ä¸ºä¾‹ï¼‰è¿›è¡Œå¾®è°ƒï¼ŒåŒæ ·éœ€è¦ç»è¿‡äººå·¥æ¼”ç¤ºã€æ•°æ®æ‰©å¢ã€æ¨¡ä»¿å­¦ä¹ ã€åœ¨ç¯éªŒè¯è¿™å‡ ä¸ªæ­¥éª¤ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/ca/ca9dc9b46d8b2c6fb127f3eeaf1244a8.png" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯ï¼Œç›¸æ¯”å‰ä¾‹ä¸­çš„BC-RNNå’ŒX-Mobilityæ¨¡å‹ï¼ŒGR00T-N1.5æ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„æ¨¡å‹ï¼Œéœ€è¦æ›´å¤§è§„æ¨¡çš„æ•°æ®åˆæˆã€æ¨¡ä»¿å­¦ä¹ ï¼Œå¹¶éœ€è¦ç‹¬ç«‹çš„æœåŠ¡ç«¯-å®¢æˆ·ç«¯æ¶æ„è¿›è¡Œåœ¨ç¯éªŒè¯ã€‚ç›¸å¯¹äºæœ¬ç³»åˆ—çš„å‰3ä¸ªæœ€ä½³å®è·µï¼Œæœ¬ä¾‹å¯é‡ç‚¹å­¦ä¹ ä»¥ä¸‹èƒ½åŠ›ï¼š</p>
<ol>
<li>
<p><strong>ä½¿ç”¨RobotLearningLabå…¬å…±æ•°æ®é›†</strong></p>
</li>
<li>
<p><strong>ä½¿ç”¨DLCè¿›è¡Œåˆ†å¸ƒå¼å¤§è§„æ¨¡æ•°æ®æ‰©å¢</strong></p>
</li>
<li>
<p><strong>ä½¿ç”¨DLCï¼Œé’ˆå¯¹è¾ƒå¤æ‚çš„VLAæ¨¡å‹è¿›è¡Œåˆ†å¸ƒå¼æ¨¡ä»¿å­¦ä¹ </strong></p>
</li>
<li>
<p><strong>ç»„åˆä½¿ç”¨ä¸¤å°DSWè¿›è¡ŒæœåŠ¡ç«¯-å®¢æˆ·ç«¯æ¶æ„çš„è½¯ä»¶åœ¨ç¯éªŒè¯</strong></p>
</li>
</ol>
<p>åœ¨PAIçš„Notebook Galleryä¸­ï¼Œæˆ‘ä»¬å·²ç»é¢„ç½®äº†ä¸€ä¸ªæœ€ä½³å®è·µï¼Œå°±æ˜¯è¿™ä¸ªè¿‡ç¨‹çš„ä¸€ä¸ªå…·ä½“ç¤ºä¾‹ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgallery.pai-ml.com%2F%23%2Fpreview%2FdeepLearning%2Fcv%2Fisaac_lab_wf4" target="_blank" title="https://gallery.pai-ml.com/#/preview/deepLearning/cv/isaac_lab_wf4" ref="nofollow noopener noreferrer">gallery.pai-ml.com/#/preview/dâ€¦</a></p>
<p><img src="https://static001.geekbang.org/infoq/88/88041cc33a375710497a5b52e2c87ef5.png" alt="" loading="lazy"/></p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†è§£è¯»è¿™ä¸ªç¤ºä¾‹ã€‚</p>
<h2 data-id="heading-0">1. ç¯å¢ƒå‡†å¤‡</h2>
<p>ç”±äºéœ€è¦äº¤äº’å¼ç¯å¢ƒè¿›è¡Œäººå·¥æ¼”ç¤ºï¼Œæˆ‘ä»¬éœ€è¦å¯åŠ¨DSWã€‚</p>
<p>ä»¥åŒ—äº¬Regionä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºä»¥ä¸‹é•œåƒå¯åŠ¨DSWï¼Œå…¶ä¸­å·²ç»åŒ…å«äº†Isaac Lab 2.2åŠå…¶ä¾èµ–ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-bash" lang="bash">dsw-registry-vpc.cn-beijing.cr.aliyuncs.com/pai-training-algorithm/isaac-sim:isaaclab220-nb4-v7-20250916
</code></pre>
<p>å»ºè®®åœ¨å¯åŠ¨æ—¶é€‰æ‹©ä»¥ä¸‹è§„æ ¼çš„å…¬å…±èµ„æºæˆ–é¢„ä»˜è´¹èµ„æºé…é¢ï¼Œä»¥ç¡®ä¿å…·å¤‡Isaac Labè¿è¡Œæ‰€éœ€çš„RT Coreï¼š</p>
<ul>
<li>
<p>ecs.ebmgn8is.32xlarge</p>
</li>
<li>
<p>ecs.gn8is-8x.32xlarge</p>
</li>
<li>
<p>ecs.ebmgn8te.32xlarge</p>
</li>
<li>
<p>ecs.ebmgn9t.48xlarge</p>
</li>
</ul>
<p>åŒæ—¶ï¼Œç”±äºéœ€è¦ä½¿ç”¨NVIDIA RobotLearningLabå…¬å…±æ•°æ®é›†ï¼ŒåŠ¡å¿…åœ¨å¯åŠ¨æ—¶æŒ‚è½½æ­¤æ•°æ®é›†åˆ°/mnt/RobotLearningLab_Dataset/è·¯å¾„ï¼Œä»è€Œé¿å…é‡å¤ä¸‹è½½ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/bc/bc2a2adf33943e0bb713ba924b5f9100.png" alt="" loading="lazy"/></p>
<p><img src="https://static001.geekbang.org/infoq/87/879ee8916631a4847d2497ef8c075dc7.png" alt="" loading="lazy"/></p>
<p>åœ¨ç¯å¢ƒå¯åŠ¨åï¼Œä½¿ç”¨Notebookä¸­çš„åˆå§‹åŒ–è„šæœ¬ï¼Œé…ç½®ç¯å¢ƒå˜é‡å¹¶ä¸‹è½½GR00Tæ¨¡å‹</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> subprocess
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> urllib.parse <span class="hljs-keyword">import</span> quote
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path

<span class="hljs-comment"># 1. æŒä¹…&amp;å¤–éƒ¨å­˜å‚¨çš„è·¯å¾„ï¼Œé»˜è®¤æŒ‚è½½å¤–éƒ¨å­˜å‚¨åˆ°/mnt/dataä¸‹</span>
os.environ[<span class="hljs-string">'EXTERNAL_STORAGE_PATH'</span>] = <span class="hljs-string">'/mnt/data/isaac_tmp/nb4'</span>
path = os.environ[<span class="hljs-string">'EXTERNAL_STORAGE_PATH'</span>]
os.system(<span class="hljs-string">f'mkdir -p "<span class="hljs-subst">{path}</span>"'</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"éœ€è¦å°†å¤–éƒ¨å­˜å‚¨æŒ‚è½½åˆ°/mnt/data"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"EXTERNAL_STORAGE_PATH: <span class="hljs-subst">{path}</span>\n"</span>)

<span class="hljs-comment"># 2. Isaac Labé¡¹ç›®è·¯å¾„</span>
os.environ[<span class="hljs-string">'ROBOT_LEARNING_LAB_PATH'</span>] = <span class="hljs-string">"/workspace/RobotLearningLab"</span>
path = os.environ[<span class="hljs-string">'ROBOT_LEARNING_LAB_PATH'</span>]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ROBOT_LEARNING_LAB_PATH: <span class="hljs-subst">{path}</span>"</span>)
path = os.environ[<span class="hljs-string">'ISAACLAB_PATH'</span>]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ISAACLAB_PATH: <span class="hljs-subst">{path}</span>\n"</span>)

<span class="hljs-comment"># 3. ç›¸å…³æ•°æ®è·¯å¾„ï¼Œç›´æ¥æŒ‚è½½PAIå…¬å…±æ•°æ®é›†RobotLearningLab_Datasetåˆ°/mnt/RobotLearningLab_Dataset</span>
os.environ[<span class="hljs-string">'ROBOT_LEARNING_LAB_DATA_PATH'</span>] = <span class="hljs-string">"/mnt/RobotLearningLab_Dataset"</span>
path = os.environ[<span class="hljs-string">'ROBOT_LEARNING_LAB_DATA_PATH'</span>]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"éœ€è¦å°†PAIå…¬å…±æ•°æ®é›†RobotLearningLab_DatasetæŒ‚è½½åˆ°/mnt/RobotLearningLab_Dataset"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ROBOT_LEARNING_LAB_DATA_PATH: <span class="hljs-subst">{path}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æˆ‘ä»¬é¢„å…ˆé‡‡é›†å’Œå¤„ç†å¥½çš„ï¼Œå¯ä»¥ç”¨æ¥è®­ç»ƒçš„æ•°æ®é›†ä½äº: <span class="hljs-subst">{path}</span>/usecase/galbot_stack_cube/lerobot_joint_space\n"</span>)

<span class="hljs-comment"># 4. Isaac-GR00Tä»£ç è·¯å¾„</span>
os.environ[<span class="hljs-string">'ISAAC_GR00T_PATH'</span>] = os.environ[<span class="hljs-string">'EXTERNAL_STORAGE_PATH'</span>]+<span class="hljs-string">"/Isaac-GR00T"</span>
path = os.environ[<span class="hljs-string">'ISAAC_GR00T_PATH'</span>]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"éœ€è¦å°†ä»£ç ä¸‹è½½åˆ°æŒ‡å®šè·¯å¾„"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ISAAC_GR00T_PATH: <span class="hljs-subst">{path}</span>\n"</span>)

<span class="hljs-comment"># 5. ç›¸å…³æ¨¡å‹è·¯å¾„</span>
os.environ[<span class="hljs-string">'ISAAC_GR00T_MODEL_PATH'</span>] = os.environ[<span class="hljs-string">'EXTERNAL_STORAGE_PATH'</span>] + <span class="hljs-string">"/GR00T-N1.5-3B"</span>
path = os.environ[<span class="hljs-string">'ISAAC_GR00T_MODEL_PATH'</span>]

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"éœ€è¦å°†æ¨¡å‹ä¸‹è½½åˆ°æŒ‡å®šè·¯å¾„"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ISAAC_GR00T_MODEL_PATH: <span class="hljs-subst">{path}</span>"</span>)
os.environ[<span class="hljs-string">'ISAAC_GR00T_MODEL_POST_PATH'</span>] = os.environ[<span class="hljs-string">'EXTERNAL_STORAGE_PATH'</span>] + <span class="hljs-string">"/checkpoint-40000"</span>
path = os.environ[<span class="hljs-string">'ISAAC_GR00T_MODEL_POST_PATH'</span>]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ISAAC_GR00T_MODEL_POST_PATH: <span class="hljs-subst">{path}</span>\n"</span>)

!wget https://pai-vision-data-sh.oss-cn-shanghai.aliyuncs.com/aigc-data/isaac/nb4/gr00t.tar -O /tmp/gr00t.tar
!tar -xf /tmp/gr00t.tar -C /tmp/ &amp;&amp; rm /tmp/gr00t.tar &amp;&amp; mv /tmp/gr00t $ISAAC_GR00T_PATH
path = os.environ[<span class="hljs-string">'ISAAC_GR00T_PATH'</span>]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä»£ç å·²ä¸‹è½½åˆ°ISAAC_GR00T_PATH: <span class="hljs-subst">{path}</span>"</span>)

<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path

local_dir = Path(<span class="hljs-string">"/root/isaac_cache"</span>)  <span class="hljs-comment"># ç¼“å­˜ç›®å½•</span>
external_dir = os.environ[<span class="hljs-string">'EXTERNAL_STORAGE_PATH'</span>] <span class="hljs-comment">#æŒä¹…åŒ–å­˜å‚¨ç›®å½•</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¸‹è½½æ¨¡å‹åˆ°: <span class="hljs-subst">{local_dir}</span>"</span>)
<span class="hljs-keyword">if</span> os.path.exists(local_dir):
    !rm -rf {local_dir}
local_dir.mkdir(parents=<span class="hljs-literal">True</span>, exist_ok=<span class="hljs-literal">True</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹ä¸‹è½½æ¨¡å‹..."</span>)
package = <span class="hljs-string">"GR00T-N1.5-3B.tar"</span>
download_from_oss(<span class="hljs-string">'aigc-data/isaac/nb4/'</span>, package, <span class="hljs-built_in">str</span>(local_dir))
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸‹è½½å®Œæˆ"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹è§£å‹æ¨¡å‹..."</span>)
zip_file = os.path.join(local_dir, package)
<span class="hljs-built_in">print</span>(zip_file)
!tar -xf {zip_file} -C {local_dir}
!rm {zip_file}
<span class="hljs-built_in">print</span>(<span class="hljs-string">"è§£å‹å®Œæˆ"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼€å§‹ç§»åŠ¨åˆ°èµ„äº§ç›®å½•: <span class="hljs-subst">{external_dir}</span>"</span>) <span class="hljs-comment"># æŒä¹…åŒ–å­˜å‚¨ç›®å½•</span>
path = os.environ[<span class="hljs-string">'ISAAC_GR00T_MODEL_PATH'</span>]
<span class="hljs-keyword">if</span> os.path.exists(path):
    !rm -rf {path}
!mv {local_dir}/* {external_dir} 

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"GR00T-N1.5-3Bå·²ä¸‹è½½åˆ°ISAAC_GR00T_MODEL_PATH: <span class="hljs-subst">{path}</span>"</span>)
</code></pre>
<h2 data-id="heading-1">2. äººå·¥æ¼”ç¤º</h2>
<p>åœ¨DSW WebTerminalä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨VNCï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/opt/TurboVNC/bin/vncserver :0 -geometry 3840x2160
</code></pre>
<p>åœ¨æœ¬åœ°Terminalä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿æ¥DSWï¼š</p>
<pre><code class="hljs language-java" lang="java">ssh -L <span class="hljs-number">5900</span>:<span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">5900</span> root<span class="hljs-meta">@DSW</span>å…¬ç½‘IPåœ°å€ -p DSWå…¬ç½‘ç«¯å£
</code></pre>
<p>ä½¿ç”¨TigerVNCç­‰VNCå·¥å…·æ‰“å¼€VNCçª—å£ï¼Œå¹¶åœ¨VNCä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨äººå·¥æ¼”ç¤ºç•Œé¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ­¥éª¤a: åˆ›å»ºæ•°æ®é›†æ–‡ä»¶å¤¹</span>
<span class="hljs-built_in">mkdir</span> -p /mnt/data/isaac_tmp/nb4/datasets

<span class="hljs-comment"># æ­¥éª¤b: ä½¿ç”¨é€‰å®šçš„teleoperationè®¾å¤‡æ”¶é›†æ•°æ®</span>
<span class="hljs-comment"># å¯ç”¨é€‰é¡¹: spacemouse, keyboard</span>
<span class="hljs-built_in">cd</span> /workspace/RobotLearningLab &amp;&amp; ./isaaclab.sh -p usecase/scripts/record_demos.py --task Isaac-Stack-Cube-Galbot-Left-Arm-RmpFlow-Rel-v0 --teleop_device keyboard --dataset_file /mnt/data/isaac_tmp/nb4/datasets/dataset.hdf5 --num_demos 10
</code></pre>
<p>åœ¨äººå·¥æ¼”ç¤ºç•Œé¢ä¸­ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‰é”®æ§åˆ¶æœºå™¨äººå¤¹çˆªçš„è¿åŠ¨ï¼š</p>
<ul>
<li>
<p>é‡ç½®æ‰€æœ‰å‘½ä»¤: R</p>
</li>
<li>
<p>åˆ‡æ¢å¤¹çˆª(å¼€/å…³): K</p>
</li>
<li>
<p>æ²¿xè½´ç§»åŠ¨æœºæ¢°è‡‚: W/S</p>
</li>
<li>
<p>æ²¿yè½´ç§»åŠ¨æœºæ¢°è‡‚: A/D</p>
</li>
<li>
<p>æ²¿zè½´ç§»åŠ¨æœºæ¢°è‡‚: Q/E</p>
</li>
<li>
<p>æ²¿xè½´æ—‹è½¬æœºæ¢°è‡‚: Z/X</p>
</li>
<li>
<p>æ²¿yè½´æ—‹è½¬æœºæ¢°è‡‚: T/G</p>
</li>
<li>
<p>æ²¿zè½´æ—‹è½¬æœºæ¢°è‡‚: C/V</p>
</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.video.taobao.com%2Fvod%2FjHWbs0IhWJG1mqhhlu4HDFNa4nSPi-0r0MBbMjDyySs.mp4" target="_blank" title="https://cloud.video.taobao.com/vod/jHWbs0IhWJG1mqhhlu4HDFNa4nSPi-0r0MBbMjDyySs.mp4" ref="nofollow noopener noreferrer">è§†é¢‘æ¼”ç¤º&gt;&gt;</a></p>
<p>é€šè¿‡æ§åˆ¶å¤¹çˆªï¼Œå°†æ¡Œé¢ä¸Šçš„ç«‹æ–¹ä½“æŒ‰ç…§è“è‰²(åº•éƒ¨) -&gt; çº¢è‰²(ä¸­é—´) -&gt; ç»¿è‰²(é¡¶éƒ¨)çš„é¡ºåºå æ”¾ï¼Œå¤§çº¦éœ€è¦10ä¸ªæˆåŠŸçš„æ¼”ç¤ºã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªæˆåŠŸæ¼”ç¤ºçš„ç¤ºä¾‹ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.video.taobao.com%2Fvod%2FUlZbn0fWgQPb3kY0MXJNqCuDxAWnXTYBJoIoNYwzrj4.mp4" target="_blank" title="https://cloud.video.taobao.com/vod/UlZbn0fWgQPb3kY0MXJNqCuDxAWnXTYBJoIoNYwzrj4.mp4" ref="nofollow noopener noreferrer">è§†é¢‘æ¼”ç¤º&gt;&gt;</a></p>
<h2 data-id="heading-2">3. æ•°æ®æ‰©å¢</h2>
<p>é¦–å…ˆå¯¹é‡‡é›†å¾—åˆ°çš„dataset.hdf5æ–‡ä»¶è¿›è¡Œå­ä»»åŠ¡æ ‡æ³¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºæ•°æ®é›†ç›®å½•</span>
<span class="hljs-attr">path</span> = os.environ.get(<span class="hljs-string">"ROBOT_LEARNING_LAB_PATH"</span>)

<span class="hljs-attr">output_path_str</span> = os.environ.get(<span class="hljs-string">"EXTERNAL_STORAGE_PATH"</span>)+<span class="hljs-string">"/datasets"</span>
<span class="hljs-attr">output_path</span> = Path(output_path_str)
output_path.mkdir(<span class="hljs-attr">parents</span>=<span class="hljs-literal">True</span>, exist_ok=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># æ ‡æ³¨</span>
<span class="hljs-attr">annotate_command</span> = f<span class="hljs-string">"""
cd {path} &amp;&amp; \
./isaaclab.sh -p usecase/scripts/annotate_demos.py \
--task Isaac-Stack-Cube-Galbot-Left-Arm-RmpFlow-Abs-Mimic-v0 \
--device cuda \
--auto \
--input_file {output_path_str}/dataset.hdf5 \
--output_file {output_path_str}/dataset_annotate.hdf5 \
--headless
"""</span>


print("æ ‡æ³¨å‘½ä»¤ï¼š")
print(annotate_command)

<span class="hljs-comment"># æ‰§è¡Œ</span>
!{annotate_command}
</code></pre>
<p><img src="https://static001.geekbang.org/infoq/11/11df90c8b0effdf786aad1ed93a06773.png" alt="" loading="lazy"/></p>
<p>åœ¨DSWæ‰§è¡Œä»¥ä¸‹ä»£ç å¯åŠ¨headlessæ•°æ®æ‰©å¢è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºæ•°æ®é›†ç›®å½•</span>
<span class="hljs-attr">path</span> = os.environ.get(<span class="hljs-string">"ROBOT_LEARNING_LAB_PATH"</span>)

<span class="hljs-attr">output_path_str</span> = os.environ.get(<span class="hljs-string">"EXTERNAL_STORAGE_PATH"</span>)+<span class="hljs-string">"/datasets"</span>
<span class="hljs-attr">output_path</span> = Path(output_path_str)
output_path.mkdir(<span class="hljs-attr">parents</span>=<span class="hljs-literal">True</span>, exist_ok=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># æ‰©å¢</span>
<span class="hljs-attr">generate_command</span> = f<span class="hljs-string">"""
cd {path} &amp;&amp; \
./isaaclab.sh -p usecase/scripts/generate_dataset.py \
--task Isaac-Stack-Cube-Galbot-Left-Arm-RmpFlow-Abs-Mimic-v0 \
--device cuda \
--num_envs 10 \
--generation_num_trials 10000 \
--input_file {output_path_str}/dataset_annotate.hdf5 \
--output_file {output_path_str}/dataset_generate.hdf5 \
--headless
"""</span>

print("æ‰©å¢å‘½ä»¤ï¼š")
print(generate_command)

<span class="hljs-comment"># æ‰§è¡Œ</span>
!{generate_command}
</code></pre>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>
<p>--num_envs 10 ä»£è¡¨åŒä¸€æ—¶åˆ»å¹¶è¡Œæ‰©å¢10ä»½æ•°æ®</p>
</li>
<li>
<p>--generation_num_trials 10000 ä»£è¡¨ç›®æ ‡ç”Ÿæˆ10000ä»½æˆåŠŸæ“ä½œçš„æ•°æ®</p>
</li>
<li>
<p>--input_file {output_path_str}/dataset_annotate.hdf5 ä»£è¡¨è¾“å…¥çš„æ•°æ®ï¼Œå³ä¸Šè¿°æ­¥éª¤ä¸­ç»è¿‡å­ä»»åŠ¡æ ‡æ³¨çš„æ•°æ®æ–‡ä»¶</p>
</li>
<li>
<p>--output_file {output_path_str}/dataset_generate.hdf5 ä»£è¡¨è¾“å‡ºçš„æ•°æ®æ–‡ä»¶å­˜æ”¾ä½ç½®</p>
</li>
<li>
<p>--device cuda ä»£è¡¨ä½¿ç”¨GPUå¡è¿›è¡Œç”ŸæˆåŠ é€Ÿ</p>
</li>
<li>
<p>--headless ä»£è¡¨ä»¥æ— GUIçš„æ–¹å¼è¿›è¡Œåå°æ•°æ®åˆæˆ</p>
</li>
</ul>
<p>è¿è¡Œè¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿå¦‚ä¸‹æ—¥å¿—ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/b5/b585ea6ccff33ec9f54eea1e4534e890.png" alt="" loading="lazy"/></p>
<p>å…¶ä¸­ç±»ä¼¼84/144 (58.3%)çš„æ•°æ®åˆ†åˆ«ä»£è¡¨æˆåŠŸç”Ÿæˆçš„æ•°æ®æ¡æ•°ã€æ€»å…±å°è¯•çš„æ•°æ®åˆæˆæ¬¡æ•°ï¼Œä»¥åŠæ•°æ®åˆæˆçš„æˆåŠŸç‡ã€‚</p>
<h3 data-id="heading-3">3.1 åœ¨DLCä¸­æ‰§è¡Œåˆ†å¸ƒå¼æ•°æ®æ‰©å¢</h3>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨DSWä½¿ç”¨å•æœºèµ„æºè¿›è¡Œæ•°æ®æ‰©å¢ï¼Œä»»åŠ¡æ‰§è¡Œè¾ƒæ…¢ã€‚ä½†å…¶å®æ¯ä»½æ•°æ®çš„åˆæˆè¿‡ç¨‹ç›¸äº’ç‹¬ç«‹ï¼Œå¯ä»¥ä½¿ç”¨æ•°æ®å¹¶è¡Œï¼ˆDPï¼‰çš„æ–¹å¼è¿›è¡Œåˆ†å¸ƒå¼å¤„ç†ï¼š</p>
<p>åœ¨DLCä¸­åˆ›å»ºä»»åŠ¡ï¼Œç¯å¢ƒé…ç½®å¦‚ä¸‹ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/34/34c78c3c5ab70f0a196e5c40b65a4455.png" alt="" loading="lazy"/></p>
<p>é•œåƒåœ°å€ï¼šdsw-registry-vpc.cn-beijing.cr.aliyuncs.com/pai-training-algorithm/isaac-sim:isaaclab220-nb4-v7-20250916</p>
<p>è‡ªå®šä¹‰æ•°æ®é›†ï¼šæŒ‚è½½DSWä¸­ç›¸åŒçš„è‡ªå®šä¹‰æ•°æ®é›†ï¼Œä»¥ç¡®ä¿å¯ä»¥è¯»å–åˆ°annotated_dataset.hdf5</p>
<p>å¯åŠ¨å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-css" lang="css">/workspace/RobotLearningLab/isaaclab<span class="hljs-selector-class">.sh</span> -<span class="hljs-selector-tag">p</span> /mnt/data/isaac_tmp/nb4/datasets/ray_isaac_new<span class="hljs-selector-class">.py</span>
  <span class="hljs-attr">--command</span> "cd /workspace/RobotLearningLab &amp;&amp;         
  ./isaaclab<span class="hljs-selector-class">.sh</span> -<span class="hljs-selector-tag">p</span> 
      /mnt/data/isaac_tmp/nb4/datasets/generate_dataset_ray<span class="hljs-selector-class">.py</span>         <span class="hljs-attr">--task</span> Isaac-Stack-Cube-Galbot-<span class="hljs-attribute">Left</span>-Arm-RmpFlow-Abs-Mimic-v0        <span class="hljs-attr">--device</span> cuda         
   <span class="hljs-attr">--num_envs</span> <span class="hljs-number">10</span>         
   <span class="hljs-attr">--generation_num_trials</span> <span class="hljs-number">625</span>         
   <span class="hljs-attr">--input_file</span> 
     /mnt/data/isaac_tmp/nb4/datasets/dataset_annotate<span class="hljs-selector-class">.hdf5</span>         
   <span class="hljs-attr">--output_file</span> 
     /mnt/data/isaac_tmp/nb4/datasets/dataset_generate<span class="hljs-selector-class">.hdf5</span>         
   <span class="hljs-attr">--headless</span>"         
   <span class="hljs-attr">--gpu</span> <span class="hljs-number">1</span>         
   <span class="hljs-attr">--cpu</span> <span class="hljs-number">10</span>         
   <span class="hljs-attr">--memory</span> <span class="hljs-number">80</span>         
   <span class="hljs-attr">--num_per_worker</span> <span class="hljs-number">8</span>
</code></pre>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>
<p>--num_per_worker 8 ä»£è¡¨ä¸€ä¸ªèŠ‚ç‚¹è¿è¡Œ8ä¸ªæ•°æ®åˆæˆä»»åŠ¡</p>
</li>
<li>
<p>--gpu 1 --cpu 10 --memory 80 ä»£è¡¨æ¯ä¸ªä»»åŠ¡ä½¿ç”¨1å¼ GPUã€10ä¸ªCPUæ ¸å¿ƒã€80GBå†…å­˜</p>
</li>
<li>
<p>--generation_num_trials 625 ä»£è¡¨æ¯ä¸ªæ•°æ®åˆæˆä»»åŠ¡ç›®æ ‡ç”Ÿæˆ625ä»½æ•°æ®</p>
</li>
</ul>
<p>èµ„æºé…ç½®å¦‚ä¸‹ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/64/648e79e33fec0fecec4479adad543549.png" alt="" loading="lazy"/></p>
<p>å…¶ä¸­ä½¿ç”¨äº†Rayç±»å‹ä»»åŠ¡ï¼Œä»¥å®ç°ä»»åŠ¡åˆ†å¸ƒå¼æ‰§è¡Œ</p>
<p>è®¾ç½®Rayçš„HeadèŠ‚ç‚¹æ•°ä¸º1ï¼ŒCPUæ ¸æ•°ä¸º8ï¼Œå†…å­˜æ•°ä¸º32GB</p>
<p>è®¾ç½®Rayçš„WorkerèŠ‚ç‚¹æ•°ä¸º2ï¼Œæ¯ä¸ªWorkerçš„GPUå¡æ•°ä¸º8ï¼ŒCPUæ ¸æ•°ä¸º90ï¼Œå†…å­˜æ•°ä¸º700</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬æ€»å…±å°†å¯åŠ¨16ä¸ªæ•°æ®åˆæˆä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡ï¼š</p>
<ul>
<li>
<p>CPUæ ¸æ•°ï¼š10</p>
</li>
<li>
<p>å†…å­˜ï¼š80GB</p>
</li>
<li>
<p>GPUï¼š1å¼ </p>
</li>
<li>
<p>ç›®æ ‡æ•°æ®åˆæˆæ•°é‡ï¼š625æ¡</p>
</li>
</ul>
<p>è¿™æ ·æ€»å…±ä½¿ç”¨2å°8å¡çš„ecs.ebmgn8te.32xlargeèµ„æºå³å¯è¿è¡Œã€‚</p>
<p>ä»»åŠ¡å¯åŠ¨åï¼Œå¯ä»¥é€šè¿‡DLCç•Œé¢å³ä¸Šè§’çš„Dashboardæ‰“å¼€Rayæ§åˆ¶å°ï¼ŒæŸ¥çœ‹ä»»åŠ¡è¿è¡Œçš„è¯¦ç»†ä¿¡æ¯ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/18/182baa385eb9e11abe05f45dde14ad8d.png" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ16ä¸ªæ•°æ®åˆæˆä»»åŠ¡å·²ç»æˆåŠŸå¯åŠ¨å¹¶è¿è¡Œï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/d8/d803cc54db1b1b4745b6a7dcfb18382c.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">4. æ•°æ®å¤„ç†</h2>
<p>åœ¨å®Œæˆæ•°æ®æ‰©å¢ä¹‹åï¼Œéœ€è¦ç»è¿‡åˆå¹¶ã€é‡æ”¾å¹¶è½¬æ¢ä¸ºLerobotæ ¼å¼æ‰èƒ½ç”¨æˆ·GR00T N1.5æ¨¡å‹çš„æ¨¡ä»¿å­¦ä¹ ã€‚</p>
<p>æ•°æ®åˆå¹¶ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºæ•°æ®é›†ç›®å½•</span>
path = os.environ.get(<span class="hljs-string">"ROBOT_LEARNING_LAB_PATH"</span>)

output_path_str = os.environ.get(<span class="hljs-string">"EXTERNAL_STORAGE_PATH"</span>)+<span class="hljs-string">"/datasets"</span>
output_path = Path(output_path_str)
output_path.mkdir(parents=<span class="hljs-literal">True</span>, exist_ok=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># åˆå¹¶DLCç”Ÿæˆçš„Mimicåˆ†ç‰‡æ–‡ä»¶</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">merge_datasets</span>(<span class="hljs-params">input_files, output_file=<span class="hljs-string">"merged_dataset.hdf5"</span></span>):
    <span class="hljs-string">"""
    åˆå¹¶å¤šä¸ªHDF5æ•°æ®é›†
    """</span>
    cmd = <span class="hljs-string">f"<span class="hljs-subst">{path}</span>/isaaclab.sh -p <span class="hljs-subst">{path}</span>/scripts/tools/merge_hdf5_datasets.py \
    --input_files <span class="hljs-subst">{<span class="hljs-string">' '</span>.join(input_files)}</span> \
    --output_file <span class="hljs-subst">{output_file}</span>"</span>
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆå¹¶æ•°æ®é›†: <span class="hljs-subst">{cmd}</span>"</span>)
    result = subprocess.run(cmd, shell=<span class="hljs-literal">True</span>, capture_output=<span class="hljs-literal">True</span>, text=<span class="hljs-literal">True</span>)
    <span class="hljs-built_in">print</span>(result.stdout)
    
    <span class="hljs-keyword">return</span> output_file

dataset_path = output_path
base_name = <span class="hljs-string">"dataset_generate"</span>

success_files = <span class="hljs-built_in">list</span>(dataset_path.glob(<span class="hljs-string">f"<span class="hljs-subst">{base_name}</span>_*.hdf5"</span>))
success_files = [f <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> success_files <span class="hljs-keyword">if</span> <span class="hljs-string">"_failed"</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> f.name]
 
failed_files = <span class="hljs-built_in">list</span>(dataset_path.glob(<span class="hljs-string">f"<span class="hljs-subst">{base_name}</span>_*_failed.hdf5"</span>))

<span class="hljs-keyword">if</span> success_files:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰¾åˆ° <span class="hljs-subst">{<span class="hljs-built_in">len</span>(success_files)}</span> ä¸ªæˆåŠŸåˆ†ç‰‡æ–‡ä»¶ï¼Œå¼€å§‹åˆå¹¶..."</span>)
    
    success_input_files = [<span class="hljs-built_in">str</span>(f) <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> success_files]
    success_output = dataset_path / <span class="hljs-string">f"<span class="hljs-subst">{base_name}</span>.hdf5"</span>
    
    merged_dataset = merge_datasets(success_input_files, <span class="hljs-built_in">str</span>(success_output))
    <span class="hljs-keyword">if</span> os.path.exists(success_output):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æˆåŠŸæ–‡ä»¶åˆå¹¶å®Œæˆ: <span class="hljs-subst">{merged_dataset}</span>"</span>)
        <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> success_files:
            f.unlink() 
        
        mimic_dataset_path = success_output
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆå¹¶å¤±è´¥æˆ–æœªæ‰¾åˆ°è¾“å‡ºæ–‡ä»¶ <span class="hljs-subst">{success_output}</span>ã€‚"</span>)
    
<span class="hljs-keyword">if</span> failed_files:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰¾åˆ° <span class="hljs-subst">{<span class="hljs-built_in">len</span>(failed_files)}</span> ä¸ªå¤±è´¥åˆ†ç‰‡æ–‡ä»¶ï¼Œå¼€å§‹åˆå¹¶..."</span>)
    
    failed_input_files = [<span class="hljs-built_in">str</span>(f) <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> failed_files]
    failed_output = dataset_path / <span class="hljs-string">f"<span class="hljs-subst">{base_name}</span>_failed.hdf5"</span>

    failed_merged_dataset = merge_datasets(failed_input_files, <span class="hljs-built_in">str</span>(failed_output))
    <span class="hljs-keyword">if</span> os.path.exists(failed_output):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤±è´¥æ–‡ä»¶åˆå¹¶å®Œæˆ: <span class="hljs-subst">{failed_merged_dataset}</span>"</span>)
        <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> failed_files:
            f.unlink() 

    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆå¹¶å¤±è´¥æˆ–æœªæ‰¾åˆ°è¾“å‡ºæ–‡ä»¶ <span class="hljs-subst">{failed_output}</span>ã€‚"</span>)
</code></pre>
<p>è§†é¢‘é‡æ”¾ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºæ•°æ®é›†ç›®å½•</span>
<span class="hljs-attr">path</span> = os.environ.get(<span class="hljs-string">"ROBOT_LEARNING_LAB_PATH"</span>)

<span class="hljs-attr">output_path_str</span> = os.environ.get(<span class="hljs-string">"EXTERNAL_STORAGE_PATH"</span>)+<span class="hljs-string">"/datasets"</span>
<span class="hljs-attr">output_path</span> = Path(output_path_str)
output_path.mkdir(<span class="hljs-attr">parents</span>=<span class="hljs-literal">True</span>, exist_ok=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># é‡æ”¾æ¼”ç¤ºå‘½ä»¤</span>
<span class="hljs-attr">command</span> = f<span class="hljs-string">"""
cd {path} &amp;&amp; \
./isaaclab.sh -p usecase/scripts/replay_demos_with_camera.py \
--task Isaac-Stack-Cube-Galbot-Left-Arm-Image-Based-v0 \
--dataset_file {output_path_str}/dataset_generate.hdf5 \
--num_envs 10 \
--video \
--video_path {output_path_str} \
--camera_view_list ego left_wrist right_wrist \
--headless
"""</span>

print("éœ€è¦å…ˆé‡æ’­è½¨è¿¹ä»¥ç”Ÿæˆç›¸åº”çš„è§†é¢‘æ•°æ®ï¼Œç”¨äºè§†è§‰æ¨¡æ€çš„è¾“å…¥ã€‚")
print("ç”Ÿæˆåçš„æ•°æ®ä¼šä¿å­˜åœ¨Isaac-Stack-Cube-Galbot-Left-Arm-Image-Based-v0/videosä¸­ã€‚")
print(command)

<span class="hljs-comment"># æ‰§è¡Œ</span>
!{command}
</code></pre>
<p>è½¬æ¢ä¸ºLerobotæ ¼å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºæ•°æ®é›†ç›®å½•</span>
<span class="hljs-attr">path</span> = os.environ.get(<span class="hljs-string">"ROBOT_LEARNING_LAB_PATH"</span>)

<span class="hljs-attr">output_path_str</span> = os.environ.get(<span class="hljs-string">"EXTERNAL_STORAGE_PATH"</span>)+<span class="hljs-string">"/datasets"</span>
<span class="hljs-attr">output_path</span> = Path(output_path_str)
output_path.mkdir(<span class="hljs-attr">parents</span>=<span class="hljs-literal">True</span>, exist_ok=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># æ•°æ®æ ¼å¼è½¬æ¢å‘½ä»¤</span>
<span class="hljs-attr">command</span> = f<span class="hljs-string">"""
cd {path} &amp;&amp; \
./isaaclab.sh -p benchmarks/gr00t/convert_hdf5_to_lerobot_joint_space.py \
--data_root {output_path} \
--hdf5_filename dataset_generate.hdf5 \
--hdf5_file_path {output_path}/dataset_generate.hdf5 \
--lerobot_data_dir {output_path}/lerobot_joint_space
"""</span>

print("éœ€è¦å†å°†æ‰€æœ‰æ¨¡æ€çš„æ•°æ®è½¬æˆGR00Tæ”¯æŒçš„ LeRobot æ ¼å¼ã€‚")
print(command)

<span class="hljs-comment"># æ‰§è¡Œ</span>
!{command}
</code></pre>
<p>ä»¥ä¸‹ä¸ºä¸€æ®µå¤´éƒ¨ä¸è…•éƒ¨åˆæˆè§†é¢‘çš„ç¤ºä¾‹ï¼š</p>
<p>å¤´éƒ¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.video.taobao.com%2Fvod%2F2KDIB3Epg-ZePqIcduuIWQL8-fMDJLiadml2KtlgElk.mp4" target="_blank" title="https://cloud.video.taobao.com/vod/2KDIB3Epg-ZePqIcduuIWQL8-fMDJLiadml2KtlgElk.mp4" ref="nofollow noopener noreferrer">è§†é¢‘æ¼”ç¤º&gt;&gt;</a></p>
<p>è…•éƒ¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.video.taobao.com%2Fvod%2F8loJmpmLreV501U7xfxrS5OpwgVUZFX59jTatCvXzto.mp4" target="_blank" title="https://cloud.video.taobao.com/vod/8loJmpmLreV501U7xfxrS5OpwgVUZFX59jTatCvXzto.mp4" ref="nofollow noopener noreferrer">è§†é¢‘æ¼”ç¤º&gt;&gt;</a></p>
<h2 data-id="heading-5">5. æ¨¡ä»¿å­¦ä¹ </h2>
<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨DLCä¸­å¯åŠ¨åˆ†å¸ƒå¼æ¨¡ä»¿å­¦ä¹ ä»»åŠ¡ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/25/25c5f7300cd2563c480b628ab682a987.png" alt="" loading="lazy"/></p>
<p>ç¯å¢ƒé…ç½®ï¼š</p>
<p>é•œåƒåœ°å€ï¼šä½¿ç”¨ä»¥ä¸‹é¢„ç½®çš„é•œåƒï¼ŒåŒ…å«äº†GR00T N1.5æ¨¡å‹è®­ç»ƒæ‰€éœ€çš„ç¯å¢ƒ</p>
<pre><code class="hljs language-bash" lang="bash">dsw-registry-vpc.cn-beijing.cr.aliyuncs.com/pai-training-algorithm/isaac-sim:gr00t-nb4-v1-20250916
</code></pre>
<p>æ•°æ®é›†æŒ‚è½½ï¼šç¡®ä¿æŒ‚è½½äº†DSWä¸­ä½¿ç”¨çš„è‡ªå®šä¹‰æ•°æ®é›†ï¼Œä»¥åŠRobotLearningLabå…¬å…±æ•°æ®é›†</p>
<p>å¯åŠ¨å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /mnt/data/isaac_tmp/nb4/Isaac-GR00T &amp;&amp;             
    <span class="hljs-built_in">export</span> WANDB_MODE=offline &amp;&amp;             
    NCCL_P2P_DISABLE=1 NCCL_IB_DISABLE=1 PYTHONPATH=<span class="hljs-string">'./'</span> 
    python scripts/gr00t_finetune.py             
    --base_model_path /mnt/data/isaac_tmp/nb4/GR00T-N1.5-3B             --dataset-path 
        /mnt/data/isaac_tmp/nb4/datasets/lerobot_joint_space            --num-gpus 2             
    --batch-size 2             
    --output-dir /mnt/data/isaac_tmp/nb4/datasets/joint_space_2_2       --max-steps 40000             
    --data-config galbot_joint_space             
    --video-backend decord             
    --no-tune-visual &amp;&amp;             
    <span class="hljs-built_in">sleep</span> 30
</code></pre>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>
<p>--base_model_path /mnt/data/isaac_tmp/nb4/GR00T-N1.5-3B ä»£è¡¨ä½¿ç”¨GR00T-N1.5-3Bæ¨¡å‹ä½œä¸ºåŸºæ¨¡è¿›è¡Œæ¨¡ä»¿å­¦ä¹ </p>
</li>
<li>
<p>--dataset-path /mnt/data/isaac_tmp/nb4/datasets/lerobot_joint_space ä»£è¡¨ä½¿ç”¨ä¸Šè¿°è¿‡ç¨‹ä¸­æ‰©å¢çš„æ•°æ®ä½œä¸ºè®­ç»ƒé›†</p>
</li>
<li>
<p>--num-gpus 2 ä»£è¡¨ä½¿ç”¨2å¼ GPUä½œä¸ºè®­ç»ƒèµ„æºï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®è‡ªå·±çš„èµ„æºé…é¢ä½™é‡è‡ªè¡Œè°ƒèŠ‚</p>
</li>
<li>
<p>export WANDB_MODE=offline &amp;&amp; NCCL_P2P_DISABLE=1 NCCL_IB_DISABLE=1 è¿™é‡Œå…³é—­äº†åœ¨çº¿WandBå’Œå¡é—´äº’è”ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥æ ¹æ®å®é™…ç¯å¢ƒå’Œéœ€æ±‚è°ƒæ•´</p>
</li>
</ul>
<p><img src="https://static001.geekbang.org/infoq/31/313d510b771ea9e9456b95095d114d5b.png" alt="" loading="lazy"/></p>
<p>è§‚å¯Ÿä»»åŠ¡æ—¥å¿—ï¼Œç­‰å¾…è®­ç»ƒå®Œæˆï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/ac/acd1e26f439896f38de57b01bc9c2735.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">6. é—­ç¯è¯„ä¼°</h2>
<p>å¾…æ¨¡ä»¿å­¦ä¹ è¿‡ç¨‹å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ç»„åˆä½¿ç”¨2ä¸ªDSWå®ä¾‹ç»„åˆè¿›è¡Œæ¨¡å‹çš„é—­ç¯è¯„ä¼°ã€‚</p>
<p>è¯„ä¼°è¿‡ç¨‹ä½¿ç”¨ä¸€ä¸ªæ–°çš„DSWä½œä¸ºæœåŠ¡ç«¯è¿è¡Œå¾®è°ƒåçš„GR00T-N1.5æ¨¡å‹ï¼Œå‰é¢è¿è¡ŒIsaac Labçš„DSWä½œä¸ºå®¢æˆ·ç«¯è¿è¡Œæœºå™¨äººæœ¬ä½“ï¼Œè¿æ¥æœåŠ¡ç«¯æŒ‡æŒ¥å…¶åŠ¨ä½œã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/47/47bc3afc28f50601de8fae4fce76f4c4.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">6.1 å¯åŠ¨æœåŠ¡ç«¯DSW</h3>
<p>å¯åŠ¨ä¸€ä¸ªæ–°çš„DSWå®ä¾‹ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨GR00Tæ¨¡å‹æœåŠ¡é•œåƒ</p>
<p>dsw-registry-vpc.${regionId}.cr.aliyuncs.com/pai-training-algorithm/isaac-sim:gr00t-nb4-v1-20250916</p>
</li>
</ul>
<p>ä½œä¸ºå¯åŠ¨é•œåƒ</p>
<ul>
<li>ç¡®ä¿æŒ‚è½½RobotLearningLab_Datasetå’Œä¿å­˜å¾®è°ƒåæ¨¡å‹çš„è‡ªå®šä¹‰æ•°æ®é›†</li>
</ul>
<p><img src="https://static001.geekbang.org/infoq/d7/d76a04638d19b1290cee0d698e7ddaaa.png" alt="" loading="lazy"/></p>
<ul>
<li>ç¡®ä¿æœåŠ¡ç«¯DSWä¸å®¢æˆ·ç«¯DSWä½äºåŒä¸€ä¸ªVPCå†…</li>
</ul>
<p>å¯åŠ¨åï¼Œåœ¨æœåŠ¡ç«¯DSWä¸­æ‰§è¡Œä»¥ä¸‹ä»£ç è·å–æœåŠ¡ç«¯IPï¼š</p>
<pre><code class="hljs language-bash" lang="bash">PRI_IP=$(ifconfig eth1 | grep <span class="hljs-string">'inet '</span> | awk <span class="hljs-string">'{print $2}'</span>) &amp;&amp; <span class="hljs-built_in">echo</span> <span class="hljs-string">"æˆ‘çš„ç§ç½‘IPæ˜¯: <span class="hljs-variable">$PRI_IP</span>"</span>
</code></pre>
<p>æ­¤å¤„ä»¥è·å–çš„æœåŠ¡ç«¯IPä¸º10.0.0.207ä¸ºä¾‹ã€‚</p>
<p>åœ¨æœåŠ¡ç«¯DSWä¸­å¯åŠ¨GR00T-N1.5æ¨¡å‹æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /mnt/data/isaac_tmp/nb4/Isaac-GR00T &amp;&amp; 
python gr00t_inference_server.py --port 5555   --model_path /mnt/data/isaac_tmp/nb4/checkpoint-40000   --data_config galbot_joint_space
</code></pre>
<p>æˆåŠŸå¯åŠ¨åå¯ä»¥è§‚å¯Ÿåˆ°å¦‚ä¸‹æ—¥å¿—ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/a8/a854fdf328851bb6dece99e903031d9b.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">6.2 å¯åŠ¨å®¢æˆ·ç«¯DSW</h3>
<p>å¯ä»¥å¤ç”¨æ•°æ®æ‰©å¢çš„DSWä½œä¸ºå®¢æˆ·ç«¯DSWã€‚</p>
<p>åœ¨å®¢æˆ·ç«¯DSWçš„VNCæ¡Œé¢ä¸­ï¼Œå¯åŠ¨Isaac Labç¯å¢ƒï¼ŒåŒæ—¶è¿æ¥åˆ°æœåŠ¡ç«¯DSWçš„æ¨¡å‹æœåŠ¡ï¼š</p>
<pre><code class="hljs language-css" lang="css">cd /workspace/RobotLearningLab &amp;&amp; ./isaaclab<span class="hljs-selector-class">.sh</span> -<span class="hljs-selector-tag">p</span> benchmarks/gr00t/gr00t_inference_client<span class="hljs-selector-class">.py</span> <span class="hljs-attr">--server_port</span> <span class="hljs-number">5555</span> <span class="hljs-attr">--server_host</span> <span class="hljs-number">10.0</span>.<span class="hljs-number">0.207</span> <span class="hljs-attr">--num_total_experiments</span> <span class="hljs-number">100</span> <span class="hljs-attr">--num_success_steps</span> <span class="hljs-number">8</span> <span class="hljs-attr">--policy_type</span> joint_space <span class="hljs-attr">--task</span> Isaac-Stack-Cube-Galbot-<span class="hljs-attribute">Left</span>-Arm-Joint-<span class="hljs-attribute">Position</span>-Image-Based-v0
</code></pre>
<p>è¯·æ³¨æ„å°†å…¶ä¸­çš„10.0.0.207æ›¿æ¢ä¸ºæœåŠ¡ç«¯DSWçš„å®é™…IPåœ°å€ã€‚</p>
<p>åœ¨å¯åŠ¨çš„Isaac Labçª—å£ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æœºå™¨äººæœ¬ä½“åœ¨æ¨¡å‹çš„æŒ‡æŒ¥ä¸‹ï¼Œå¼€å§‹æ‰§è¡Œå æ–¹å—çš„åŠ¨ä½œã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.video.taobao.com%2Fvod%2FWSlLborhlfwRgzmFdN6GWNl4FPxZEN5b-jp33FjLd-8.mp4" target="_blank" title="https://cloud.video.taobao.com/vod/WSlLborhlfwRgzmFdN6GWNl4FPxZEN5b-jp33FjLd-8.mp4" ref="nofollow noopener noreferrer">è§†é¢‘æ¼”ç¤º&gt;&gt;</a></p>
<p>ä¸¤å°DSWç»„åˆè¿è¡Œçš„æ•´ä½“æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.video.taobao.com%2Fvod%2FQ2QO1lamv518Dfvpw4nAy4fx4XFzbgdrac41R9DJJ98.mp4" target="_blank" title="https://cloud.video.taobao.com/vod/Q2QO1lamv518Dfvpw4nAy4fx4XFzbgdrac41R9DJJ98.mp4" ref="nofollow noopener noreferrer">è§†é¢‘æ¼”ç¤º&gt;&gt;</a></p>
<h2 data-id="heading-9">7. æ€»ç»“</h2>
<p>æœ¬æœ€ä½³å®è·µç»¼åˆä½¿ç”¨PAI-DSWã€DLCç­‰æ¨¡å—ï¼Œé’ˆå¯¹GR00T-N1.5-3Bæ¨¡å‹ï¼Œè¿›è¡Œäº†äººå·¥æ¼”ç¤ºã€æ•°æ®æ‰©å¢ã€æ¨¡ä»¿å­¦ä¹ ä»¥åŠåœ¨ç¯éªŒè¯ã€‚ç›¸å¯¹äºæœ¬ç³»åˆ—çš„å‰3ä¸ªæœ€ä½³å®è·µï¼Œæœ¬ä¾‹å¯é‡ç‚¹å­¦ä¹ ä»¥ä¸‹èƒ½åŠ›ï¼š</p>
<ol>
<li>
<p><strong>ä½¿ç”¨RobotLearningLabå…¬å…±æ•°æ®é›†</strong></p>
</li>
<li>
<p><strong>ä½¿ç”¨DLCè¿›è¡Œåˆ†å¸ƒå¼å¤§è§„æ¨¡æ•°æ®æ‰©å¢</strong></p>
</li>
<li>
<p><strong>ä½¿ç”¨DLCï¼Œé’ˆå¯¹è¾ƒå¤æ‚çš„VLAæ¨¡å‹è¿›è¡Œåˆ†å¸ƒå¼æ¨¡ä»¿å­¦ä¹ </strong></p>
</li>
<li>
<p><strong>ç»„åˆä½¿ç”¨ä¸¤å°DSWè¿›è¡ŒæœåŠ¡ç«¯-å®¢æˆ·ç«¯æ¶æ„çš„è½¯ä»¶åœ¨ç¯éªŒè¯</strong></p>
</li>
</ol>
<p>ç»è¿‡å®é™…æ“ä½œå¯ä»¥éªŒè¯ï¼Œç»è¿‡æ¨¡ä»¿å­¦ä¹ çš„GR00T-N1.5-3Bæ¨¡å‹ï¼Œå¯ä»¥å¾ˆå¥½çš„æ¨¡ä»¿äººç±»çš„â€œå æ–¹å—â€åŠ¨ä½œï¼Œå®ç°æ–°æŠ€èƒ½çš„å­¦ä¹ ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿¡æ¯çš„å»ºç­‘å­¦ï¼šMyBatis Log Panda å¦‚ä½•é‡æ„å¼€å‘è€…çš„è®¤çŸ¥åœ°å›¾]]></title>    <link>https://juejin.cn/post/7576276707332210694</link>    <guid>https://juejin.cn/post/7576276707332210694</guid>    <pubDate>2025-11-25T10:11:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576276707332210694" data-draft-id="7576477434732937222" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿¡æ¯çš„å»ºç­‘å­¦ï¼šMyBatis Log Panda å¦‚ä½•é‡æ„å¼€å‘è€…çš„è®¤çŸ¥åœ°å›¾  "/> <meta itemprop="keywords" content="åç«¯,IntelliJ IDEA,SQL"/> <meta itemprop="datePublished" content="2025-11-25T10:11:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èˆ’ä¸€ç¬‘ä¸ç§ƒå¤´"/> <meta itemprop="url" content="https://juejin.cn/user/4257747754552599"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿¡æ¯çš„å»ºç­‘å­¦ï¼šMyBatis Log Panda å¦‚ä½•é‡æ„å¼€å‘è€…çš„è®¤çŸ¥åœ°å›¾  
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4257747754552599/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èˆ’ä¸€ç¬‘ä¸ç§ƒå¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T10:11:32.000Z" title="Tue Nov 25 2025 10:11:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<blockquote>
<p>â€”â€” å¹¶å¼€å¯ PandaCoder å·¥å…·å®‡å®™çš„ç¬¬ä¸€æ‰‡é—¨</p>
</blockquote>
<blockquote>
<p>â€œç†è§£å…ˆäºä¸€åˆ‡ã€‚â€ â€”â€” ç†æŸ¥å¾·Â·æ²ƒæ›¼<br/>
â€œæœ€å¥½çš„äº§å“ä¸æ˜¯è¢«è´­ä¹°çš„ï¼Œè€Œæ˜¯è¢«æ¸´æœ›çš„ã€‚â€ â€”â€” å“ˆé‡ŒÂ·é©¬å…‹æ€</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">åºç« ï¼šä»è¿·å®«åˆ°åœ°å›¾</h3>
<p>æ›¾ç»ä½œä¸ºå»ºç­‘å¸ˆï¼Œæˆ‘æ·±çŸ¥ç©ºé—´çš„æ··ä¹±ä¼šè®©äººè¿·å¤±æ–¹å‘ã€‚<br/>
ä½œä¸ºä¿¡æ¯æ¶æ„å¸ˆï¼Œæˆ‘æ›´æ¸…æ¥šï¼š<strong>ä¿¡æ¯çš„æ··ä¹±æ¯”ç‰©ç†ç©ºé—´çš„æ··ä¹±æ›´è‡´å‘½</strong>ã€‚</p>
<p>æ¯å¤©ï¼Œæˆåƒä¸Šä¸‡çš„å¼€å‘è€…ååœ¨å±å¹•å‰ï¼Œç›¯ç€æ»šåŠ¨çš„æ—¥å¿—æµâ€”â€”é‚£äº›å¯†å¯†éº»éº»çš„å­—ç¬¦ã€å‚æ•°ã€æ—¶é—´æˆ³ï¼Œåƒæ˜¯ä¸€åº§æ²¡æœ‰åœ°å›¾çš„è¿·å®«ã€‚ä»–ä»¬åœ¨å¯»æ‰¾ä»€ä¹ˆï¼Ÿä¸€æ¡ SQL è¯­å¥ã€‚ä¸€ä¸ªå‚æ•°å€¼ã€‚ä¸€ä¸ªæ€§èƒ½ç“¶é¢ˆçš„çº¿ç´¢ã€‚</p>
<p>è¿™ä¸æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œè¿™æ˜¯<strong>è®¤çŸ¥é—®é¢˜</strong>ã€‚</p>
<p>å½“ä¿¡æ¯ä»¥é”™è¯¯çš„æ–¹å¼å‘ˆç°æ—¶ï¼Œå³ä½¿æ˜¯æœ€èªæ˜çš„å¤§è„‘ä¹Ÿä¼šé™·å…¥å›°å¢ƒã€‚é—®é¢˜ä¸åœ¨äºä¿¡æ¯å¤ªå°‘ï¼Œè€Œåœ¨äº<strong>ä¿¡æ¯å¤ªå¤šï¼Œå´æ²¡æœ‰ç»“æ„</strong>ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘å¼€å§‹æ€è€ƒï¼š<strong>å¦‚æœä»£ç æ˜¯å»ºç­‘ï¼Œæ—¥å¿—æ˜¯å¦ä¹Ÿè¯¥æ‹¥æœ‰è‡ªå·±çš„è“å›¾ï¼Ÿ</strong></p>
<p>è¿™å°±æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.poeticcoder.com" target="_blank" title="https://www.poeticcoder.com" ref="nofollow noopener noreferrer"><strong>MyBatis Log Panda</strong></a> è¯ç”Ÿçš„åŸç‚¹â€”â€”ä¹Ÿæ˜¯ <strong>PandaCoder</strong> å·¥å…·å®‡å®™çš„ç¬¬ä¸€å—åŸºçŸ³ã€‚</p>
<hr/>
<h3 data-id="heading-2">ç¬¬ä¸€å¹•ï¼šå¼€å‘è€…çš„ä¸‰é‡å›°å¢ƒ</h3>
<p>è®©æˆ‘ä»¬è¯šå®åœ°é¢å¯¹ç°å®ï¼š</p>
<h4 data-id="heading-3">1. <strong>ä¿¡æ¯è¿‡è½½ï¼ˆInformation Overloadï¼‰</strong></h4>
<p>ä¸€ä¸ªä¸­å‹åº”ç”¨æ¯ç§’å¯èƒ½äº§ç”Ÿæ•°ç™¾æ¡æ—¥å¿—ã€‚ä½ è¦æ‰¾çš„é‚£æ¡ SQLï¼Œå°±åƒå¤§æµ·æé’ˆã€‚ä½ ä¸æ˜¯ç¼ºå°‘ä¿¡æ¯ï¼Œä½ æ˜¯<strong>è¢«ä¿¡æ¯æ·¹æ²¡</strong>ã€‚</p>
<h4 data-id="heading-4">2. <strong>ä¸Šä¸‹æ–‡æ–­è£‚ï¼ˆContext Fragmentationï¼‰</strong></h4>
<p>SQL åœ¨è¿™é‡Œï¼Œå‚æ•°åœ¨é‚£é‡Œï¼ŒAPI è·¯å¾„åœ¨æ—¥å¿—ä¸Šæ–¹ï¼Œæ‰§è¡Œæ—¶é—´åˆæ•£è½åœ¨å¦ä¸€å¤„ã€‚ä½ çš„å¤§è„‘è¢«è¿«åœ¨ç¢ç‰‡ä¸­æ‹¼å›¾â€”â€”<strong>è¿™æœ¬ä¸è¯¥ç”±äººæ¥åš</strong>ã€‚</p>
<h4 data-id="heading-5">3. <strong>è®¤çŸ¥è´Ÿæ‹…ï¼ˆCognitive Loadï¼‰</strong></h4>
<p>ä½ å¾—è®°ä½å ä½ç¬¦é¡ºåºã€æ‰‹åŠ¨æ›¿æ¢å‚æ•°ã€ä¼°ç®—æ‰§è¡Œæ—¶é—´ã€åå‘è¿½è¸ªè°ƒç”¨é“¾â€¦â€¦è¿™äº›æœ¬è¯¥ç”±å·¥å…·å®Œæˆçš„çäº‹ï¼Œå´æ¶ˆè€—ç€ä½ æœ€å®è´µçš„èµ„æºï¼š<strong>ä¸“æ³¨åŠ›</strong>ã€‚</p>
<blockquote>
<p>â€œä¿¡æ¯ç„¦è™‘æºäºç†è§£ä¸è¢«ç†è§£ä¹‹é—´çš„é¸¿æ²Ÿã€‚â€ â€”â€” ç†æŸ¥å¾·Â·æ²ƒæ›¼</p>
</blockquote>
<p>è€Œ MyBatis Log Pandaï¼Œå°±æ˜¯è¦<strong>å¡«å¹³è¿™é“é¸¿æ²Ÿ</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-6">ç¬¬äºŒå¹•ï¼šPandaCoder çš„èµ·ç‚¹ï¼šä¸€åº§è®¤çŸ¥çš„æ¡¥</h3>
<p>å¦‚æœä½ é—®æˆ‘ MyBatis Log Panda æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä¸ä¼šè¯´å®ƒåªæ˜¯ä¸€ä¸ªâ€œæ—¥å¿—æ’ä»¶â€ã€‚</p>
<p><strong>å®ƒæ˜¯ PandaCoder çš„å®£è¨€</strong>â€”â€”</p>
<blockquote>
<p><strong>å·¥å…·ï¼Œåº”è¯¥ç†è§£å¼€å‘è€…ï¼Œè€Œä¸æ˜¯è®©å¼€å‘è€…å»é€‚åº”å·¥å…·ã€‚</strong></p>
</blockquote>
<p>å®ƒæ˜¯ä¸€åº§æ¡¥æ¢ï¼š</p>
<ul>
<li>è¿æ¥<strong>åŸå§‹æ—¥å¿—</strong>ä¸<strong>å¯æ‰§è¡Œ SQL</strong>ï¼›</li>
<li>è¿æ¥<strong>å­¤ç«‹æŸ¥è¯¢</strong>ä¸<strong>å®Œæ•´ä¸Šä¸‹æ–‡</strong>ï¼›</li>
<li>è¿æ¥<strong>æ··ä¹±ä¿¡æ¯</strong>ä¸<strong>æ¸…æ™°è®¤çŸ¥</strong>ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/362d3871872545dab2bb80826b539fe8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IiS5LiA56yR5LiN56eD5aS0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670291&amp;x-signature=zcaVZC6e7SeQnBP78mGERlbHebM%3D" alt="" loading="lazy"/></p>
<p>åœ¨ PandaCoder çš„ç†å¿µä¸­ï¼Œ<strong>å¥½çš„å·¥å…·ä¸æ˜¯åŠŸèƒ½çš„å †ç Œï¼Œè€Œæ˜¯è®¤çŸ¥çš„å‡è´Ÿ</strong>ã€‚</p>
<p>æˆ‘ä»¬éµå¾ªä¿¡æ¯æ¶æ„çš„äº”å¤§åŸåˆ™ï¼š</p>
<ol>
<li><strong>ç»„ç»‡</strong>ï¼šç»“æ„åŒ–è¡¨æ ¼ï¼Œæ“ä½œç±»å‹ã€è¡¨åã€API è·¯å¾„ã€æ‰§è¡Œæ—¶é—´â€”â€”å„å½’å…¶ä½ã€‚</li>
<li><strong>æ ‡ç­¾</strong>ï¼šé¢œè‰²ç¼–ç çš„ SQL ç±»å‹ï¼Œæ…¢æŸ¥è¯¢è‡ªåŠ¨é«˜äº®ï¼Œé—®é¢˜ä¸€ç›®äº†ç„¶ã€‚</li>
<li><strong>å¯¼èˆª</strong>ï¼šæŒ‰è¡¨åã€æ“ä½œç±»å‹ã€æ—¶é—´èŒƒå›´æ™ºèƒ½ç­›é€‰ï¼Œä¿¡æ¯ä¸å†â€œæ¸¸æ³³â€ï¼Œè€Œæ˜¯â€œèˆªè¡Œâ€ã€‚</li>
<li><strong>æœç´¢</strong>ï¼šå…³é”®è¯ç§’çº§å®šä½ï¼Œå‘Šåˆ«æ— å°½æ»šåŠ¨ã€‚</li>
<li><strong>ç†è§£</strong>ï¼šå‚æ•°è‡ªåŠ¨æ›¿æ¢ï¼Œä½ çœ‹åˆ°çš„ä¸æ˜¯ <code>WHERE id = ?</code>ï¼Œè€Œæ˜¯ <code>WHERE id = 123</code>â€”â€”çœŸå®ã€å®Œæ•´ã€å¯æ‰§è¡Œã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa74b939f7f849c4883f5d1ce6ad4e75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IiS5LiA56yR5LiN56eD5aS0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670291&amp;x-signature=jffeV3CIjUiH3oU7bxThxeGc2T0%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸åªæ˜¯åŠŸèƒ½ï¼Œè¿™æ˜¯<strong>å¯¹å¼€å‘è€…å¿ƒæ™ºçš„å°Šé‡</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-7">ç¬¬ä¸‰å¹•ï¼šä»å·¥å…·åˆ°èº«ä»½ï¼šä½ å€¼å¾—æ›´å¥½çš„å·¥ä½œæµ</h3>
<p>å“ˆé‡ŒÂ·é©¬å…‹æ€è¯´ï¼šâ€œäººä»¬ä¸è´­ä¹°äº§å“ï¼Œä»–ä»¬è´­ä¹°æ›´å¥½çš„è‡ªå·±ã€‚â€</p>
<p>MyBatis Log Panda ä»ä¸å–â€œæ’ä»¶â€ï¼Œå®ƒå–çš„æ˜¯ä¸€ç§<strong>å¼€å‘è€…çš„è‡ªæˆ‘è®¤åŒ</strong>ï¼š</p>
<ul>
<li><strong>æˆ‘ä¸è¯¥è¢«æ—¥å¿—ç»‘æ¶</strong> â†’ æ‰€ä»¥æˆ‘é€‰æ‹©æ¸…æ™°ï¼›</li>
<li><strong>æˆ‘ä¸è¯¥ä¸ºå‚æ•°æ‹¼æ¥åˆ†å¿ƒ</strong> â†’ æ‰€ä»¥æˆ‘é€‰æ‹©è‡ªåŠ¨åŒ–ï¼›</li>
<li><strong>æˆ‘ä¸è¯¥åœ¨è°ƒè¯•ä¸­å¤±å»åˆ›é€ åŠ›</strong> â†’ æ‰€ä»¥æˆ‘é€‰æ‹© PandaCoderã€‚</li>
</ul>
<h4 data-id="heading-8">æ¬²æœ›çš„å››ä¸ªå±‚æ¬¡</h4>






























<table><thead><tr><th>å±‚çº§</th><th>éœ€æ±‚</th><th>PandaCoder çš„å›åº”</th></tr></thead><tbody><tr><td><strong>åŠŸèƒ½</strong></td><td>æˆ‘è¦çœ‹åˆ° SQL</td><td>è‡ªåŠ¨è§£æ MyBatis æ—¥å¿—</td></tr><tr><td><strong>æ•ˆç‡</strong></td><td>æˆ‘è¦æ›´å¿«è°ƒè¯•</td><td>ä¸€é”®å¤åˆ¶ã€å®æ—¶é«˜äº®ã€API å…³è”</td></tr><tr><td><strong>ä½“éªŒ</strong></td><td>æˆ‘è¦ä¼˜é›…å·¥ä½œ</td><td>å¹²å‡€ç•Œé¢ã€é›¶å¹²æ‰°ã€å³æ—¶åé¦ˆ</td></tr><tr><td><strong>èº«ä»½</strong></td><td>æˆ‘æ˜¯å“è¶Šå¼€å‘è€…</td><td>å·¥å…·ä¸ºæˆ‘æœåŠ¡ï¼Œè€Œéæˆ‘ä¸ºå·¥å…·æœåŠ¡</td></tr></tbody></table>
<blockquote>
<p>â€œæœ€å¥½çš„è¥é”€ä¸æ˜¯è¯´æœï¼Œè€Œæ˜¯æ­ç¤ºã€‚â€ â€”â€” å“ˆé‡ŒÂ·é©¬å…‹æ€</p>
</blockquote>
<p>MyBatis Log Panda æ­ç¤ºçš„ï¼Œæ˜¯ä½ å†…å¿ƒæ—©å·²å­˜åœ¨çš„æ¸´æœ›ï¼š<strong>å¯¹ç§©åºã€å¯¹æŒæ§ã€å¯¹åˆ›é€ çš„æ¸´æœ›</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-9">ç¬¬å››å¹•ï¼šç»†èŠ‚ä¸­çš„ Panda å“²å­¦</h3>
<p>PandaCoder çš„æ¯ä¸€ä¸ªè®¾è®¡ï¼Œéƒ½æºäºå¯¹å¼€å‘æ—¥å¸¸çš„æ·±åº¦å‡è§†ï¼š</p>
<ul>
<li><strong>å¯åŠ¨å³ç”¨</strong>ï¼šé¡¹ç›®å¯åŠ¨ï¼Œæ’ä»¶è‡ªåŠ¨ç›‘å¬ï¼Œæ— éœ€é…ç½®â€”â€”<strong>é›¶æ‘©æ“¦</strong>ï¼›</li>
<li><strong>å‚æ•°æ›¿æ¢</strong>ï¼šSQL è‡ªåŠ¨è¡¥å…¨å‚æ•°ï¼Œæ‰€è§å³æ‰€å¾—â€”â€”<strong>é›¶å¿ƒæ™ºè´Ÿæ‹…</strong>ï¼›</li>
<li><strong>æ…¢æŸ¥é«˜äº®</strong>ï¼š&gt;3 ç§’æŸ¥è¯¢è‡ªåŠ¨æ ‡çº¢ï¼Œé—®é¢˜ä¸»åŠ¨â€œè·³å‡ºæ¥â€â€”â€”<strong>é›¶é—æ¼</strong>ï¼›</li>
<li><strong>API å…³è”</strong>ï¼šå³é”®â€œå¤åˆ¶ API è·¯å¾„â€ï¼Œä¸Šä¸‹æ–‡ç¬é—´å®Œæ•´â€”â€”<strong>é›¶æ–­è£‚</strong>ï¼›</li>
<li><strong>å†å²æŒä¹…åŒ–</strong>ï¼šè·¨ä¼šè¯ä¿å­˜æ‰€æœ‰æŸ¥è¯¢ï¼Œæ”¯æŒå›æº¯â€”â€”<strong>æ—¶é—´ä¹Ÿæ˜¯ç»“æ„</strong>ã€‚</li>
</ul>
<p>è¿™ä¸æ˜¯ç‚«æŠ€ï¼Œè¿™æ˜¯<strong>å¯¹å¼€å‘è€…æ—¶é—´çš„æ•¬ç•</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-10">ç¬¬äº”å¹•ï¼šPandaCoder çš„ä½¿å‘½ï¼šä»â€œåšâ€åˆ°â€œæƒ³â€</h3>
<p>å·¥ä¸šæ—¶ä»£çš„ç”Ÿäº§åŠ› = å•ä½æ—¶é—´äº§å‡ºã€‚<br/>
ä¿¡æ¯æ—¶ä»£çš„ç”Ÿäº§åŠ› = <strong>å•ä½è®¤çŸ¥è´Ÿæ‹…ä¸‹çš„åˆ›é€ ä»·å€¼</strong>ã€‚</p>
<p>MyBatis Log Panda çš„çœŸæ­£ä»·å€¼ï¼Œä¸æ˜¯è®©ä½ â€œæ›´å¿«â€ï¼Œè€Œæ˜¯è®©ä½ <strong>æ›´è½»æ¾åœ°æ€è€ƒ</strong>ï¼š</p>
<ul>
<li>å½“ä½ ä¸å†æ‰‹åŠ¨æ›¿æ¢å‚æ•°ï¼Œä½ å¯ä»¥æ€è€ƒ<strong>ç´¢å¼•æ˜¯å¦åˆç†</strong>ï¼›</li>
<li>å½“ä½ ä¸€çœ¼è¯†åˆ«æ…¢æŸ¥è¯¢ï¼Œä½ å¯ä»¥æ€è€ƒ<strong>æ¶æ„æ˜¯å¦å¯ä¼˜åŒ–</strong>ï¼›</li>
<li>å½“ä½ æ‹¥æœ‰å®Œæ•´ä¸Šä¸‹æ–‡ï¼Œä½ å¯ä»¥æ€è€ƒ<strong>ä¸šåŠ¡é€»è¾‘æ˜¯å¦ä¼˜é›…</strong>ã€‚</li>
</ul>
<p><strong>å·¥å…·çš„ç»ˆæç›®çš„ï¼Œä¸æ˜¯è®©ä½ åšæ›´å¤šäº‹ï¼Œè€Œæ˜¯è®©ä½ æƒ³æ›´æ·±çš„äº‹ã€‚</strong></p>
<p>è€Œè¿™ï¼Œæ­£æ˜¯ PandaCoder çš„èµ·ç‚¹ã€‚</p>
<p>æœªæ¥ï¼Œæˆ‘ä»¬å°†æ¨å‡ºæ›´å¤šå·¥å…·â€”â€”</p>
<ul>
<li>é¢å‘ MongoDB çš„æ—¥å¿—æ´å¯Ÿï¼›</li>
<li>é¢å‘ API çš„æ™ºèƒ½è¿½è¸ªï¼›</li>
<li>é¢å‘æ€§èƒ½ç“¶é¢ˆçš„è‡ªåŠ¨è¯Šæ–­â€¦â€¦</li>
</ul>
<p>ä½†æ‰€æœ‰å·¥å…·ï¼Œéƒ½å°†éµå¾ªåŒä¸€ä¸ªä¿¡å¿µï¼š</p>
<blockquote>
<p><strong>æŠ€æœ¯æœåŠ¡äºäººï¼Œè€ŒéäººæœåŠ¡äºæŠ€æœ¯ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-11">ç¬¬å…­å¹•ï¼šè‡´ä½ â€”â€”è¿½æ±‚å“è¶Šçš„å¼€å‘è€…</h3>
<p>å¦‚æœä½ æ˜¯è¿™æ ·çš„ä½ ï¼š</p>
<ul>
<li>ä¸æ»¡è¶³äºâ€œèƒ½è·‘å°±è¡Œâ€ï¼›</li>
<li>åŒæ¶é‡å¤çš„æœºæ¢°åŠ³åŠ¨ï¼›</li>
<li>ç›¸ä¿¡å¥½çš„å·¥å…·èƒ½æ”¹å˜å·¥ä½œæ–¹å¼ï¼›</li>
<li>ç›¸ä¿¡ä»£ç ä¸ä»…æ˜¯é€»è¾‘ï¼Œä¹Ÿæ˜¯ç¾å­¦ï¼›</li>
</ul>
<p>é‚£ä¹ˆï¼Œ<strong>MyBatis Log Panda å°±æ˜¯ä½ ç­‰å¾…å·²ä¹…çš„ä¼™ä¼´</strong>ã€‚</p>
<h4 data-id="heading-12">ä¸‰ä¸ªæ‰¿è¯º</h4>
<ol>
<li><strong>é›¶é…ç½®</strong>ï¼šå®‰è£…å³ç”¨ï¼Œä¸æµªè´¹ä½ ä¸€ç§’é’Ÿï¼›</li>
<li><strong>é›¶å¹²æ‰°</strong>ï¼šè½»é‡çº§è®¾è®¡ï¼Œä¸å½±å“åº”ç”¨æ€§èƒ½ï¼›</li>
<li><strong>é›¶å­¦ä¹ æˆæœ¬</strong>ï¼šç›´è§‚å¦‚å‘¼å¸ï¼Œæ— éœ€æ‰‹å†Œã€‚</li>
</ol>
<p>ä½œä¸ºå¼€å‘è€…<strong>èˆ’ä¸€ç¬‘ä¸ç§ƒå¤´</strong>ï¼Œæˆ‘ä¹Ÿå¯¹ä½ æ‰¿è¯ºï¼š</p>
<ul>
<li>æŒç»­å€¾å¬ä½ çš„åé¦ˆï¼›</li>
<li>æŒç»­æ‰“ç£¨æ¯ä¸€ä¸ªåƒç´ ï¼›</li>
<li>æŒç»­æ„å»ºä½ å€¼å¾—æ‹¥æœ‰çš„å·¥å…·å®‡å®™ã€‚</li>
</ul>
<p>å› ä¸ºï¼Œ<strong>å·¥å…·çš„å“è´¨ï¼Œå°±æ˜¯å¼€å‘è€…çš„å“ä½</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-13">å°¾å£°ï¼šä¿¡æ¯çš„æœªæ¥ï¼Œç”±ä½ å®šä¹‰</h3>
<p>ç†æŸ¥å¾·Â·æ²ƒæ›¼è¯´ï¼šâ€œ21 ä¸–çºªçš„æ–‡ç›²ï¼Œæ˜¯ä¸ä¼šå­¦ä¹ ã€ä¸ä¼šé—å¿˜ã€ä¸ä¼šé‡æ–°å­¦ä¹ çš„äººã€‚â€</p>
<p>æˆ‘æƒ³è¡¥å……ï¼š</p>
<blockquote>
<p><strong>21 ä¸–çºªçš„å¼€å‘è€…ï¼Œæ˜¯é‚£äº›èƒ½å°†ä¿¡æ¯è½¬åŒ–ä¸ºè®¤çŸ¥ï¼Œå°†å·¥å…·è½¬åŒ–ä¸ºåŠ›é‡çš„äººã€‚</strong></p>
</blockquote>
<p>MyBatis Log Panda ä¸æ˜¯ç»ˆç‚¹ï¼Œå®ƒæ˜¯ä½ è¿›å…¥ PandaCoder ä¸–ç•Œçš„<strong>ç¬¬ä¸€æ‰‡é—¨</strong>ã€‚</p>
<p>æ¨å¼€å®ƒï¼Œä½ å°†å‘ç°ï¼š</p>
<ul>
<li>ä¿¡æ¯å¯ä»¥æœ‰åºï¼›</li>
<li>è°ƒè¯•å¯ä»¥ä¼˜é›…ï¼›</li>
<li>å¼€å‘ï¼Œå¯ä»¥æ˜¯ä¸€ç§äº«å—ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-14">ç«‹å³å¼€å¯ä½ çš„ PandaCoder ä¹‹æ—…</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ad3ed129df447e9bad4044d77e193e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IiS5LiA56yR5LiN56eD5aS0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670291&amp;x-signature=5aQ%2BxLpqpxeVApQjn9%2Br3xLJoDg%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-15">è¯•ç”¨æœŸé—´ï¼Œé—®è‡ªå·±ä¸‰ä¸ªé—®é¢˜ï¼š</h4>
<ol>
<li><strong>æˆ‘èŠ‚çœäº†å¤šå°‘åœ¨æ—¥å¿—ä¸­â€œæŒ–çŸ¿â€çš„æ—¶é—´ï¼Ÿ</strong></li>
<li><strong>æˆ‘å‡å°‘äº†å¤šå°‘â€œè¿™ä¸ªå‚æ•°åˆ°åº•æ˜¯ä»€ä¹ˆâ€çš„ç„¦è™‘ï¼Ÿ</strong></li>
<li><strong>æˆ‘å› æ­¤å¤šæ€è€ƒäº†å“ªäº›çœŸæ­£é‡è¦çš„é—®é¢˜ï¼Ÿ</strong></li>
</ol>
<p>å¦‚æœç­”æ¡ˆè®©ä½ ç‚¹å¤´ï¼Œé‚£å°±ç•™ä¸‹å®ƒã€‚<br/>
å¦‚æœç­”æ¡ˆè®©ä½ å¾®ç¬‘ï¼Œé‚£å°±åŠ å…¥ PandaCoder çš„æ—…ç¨‹ã€‚</p>
<hr/>
<p><strong>å› ä¸ºä½ çš„æ—¶é—´ï¼Œå€¼å¾—è¢«å°Šé‡ã€‚</strong><br/>
<strong>å› ä¸ºä½ çš„å¤§è„‘ï¼Œå€¼å¾—æ›´å°‘çš„å™ªéŸ³ã€‚</strong><br/>
<strong>å› ä¸ºä½ çš„ä»£ç ï¼Œå€¼å¾—æ›´ä¼˜é›…çš„é™ªä¼´ã€‚</strong></p>
<p><strong>MyBatis Log Panda â€”â€” PandaCoder çš„ç¬¬ä¸€å—ç§¯æœ¨ï¼Œé‡æ„ä½ çš„è®¤çŸ¥åœ°å›¾ã€‚</strong></p>
<p>ğŸ¼ <em>çŒ®ç»™æ‰€æœ‰åœ¨ä¿¡æ¯è¿·å®«ä¸­ï¼Œä¾ç„¶ç›¸ä¿¡æ¸…æ™°ä¸ç§©åºçš„ä½ ã€‚</em></p>
<hr/>
<blockquote>
<p><strong>PandaCoder Â· å·¥å…·ä¸ºäººè€Œç”Ÿ</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[WPFå…¥é—¨æŒ‡å—ï¼šè§£æé»˜è®¤é¡¹ç›®ç»“æ„]]></title>    <link>https://juejin.cn/post/7576369868418220068</link>    <guid>https://juejin.cn/post/7576369868418220068</guid>    <pubDate>2025-11-25T10:16:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576369868418220068" data-draft-id="7576477434732986374" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="WPFå…¥é—¨æŒ‡å—ï¼šè§£æé»˜è®¤é¡¹ç›®ç»“æ„"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-25T10:16:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            WPFå…¥é—¨æŒ‡å—ï¼šè§£æé»˜è®¤é¡¹ç›®ç»“æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T10:16:11.000Z" title="Tue Nov 25 2025 10:16:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9c9bdfabe23438d93f2dce7777fe6b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670570&amp;x-signature=1dGPoHvZ%2Bgz%2FG7kJ52q3KAboh3c%3D" alt="image.png" loading="lazy"/></p>
<p>ä½œä¸ºWPFçš„åˆå­¦è€…ï¼Œç†è§£Visual Studioåˆ›å»ºçš„é»˜è®¤é¡¹ç›®ç»“æ„éå¸¸é‡è¦ã€‚è¿™ç¯‡åšå®¢å°†è¯¦ç»†è§£ææ¯ä¸ªæ–‡ä»¶çš„ä½œç”¨ï¼Œå¸®åŠ©ä½ å»ºç«‹åšå®çš„WPFåŸºç¡€ã€‚</p>
<h2 data-id="heading-0">é¡¹ç›®æ¦‚è§ˆ</h2>
<p>å½“ä½ ä½¿ç”¨Visual Studio 2022åˆ›å»ºåŸºäº.NET 8.0çš„WPFé¡¹ç›®æ—¶ï¼Œä¼šç”Ÿæˆä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01446f08a02841baa3f0495bcffefb64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670570&amp;x-signature=LRD%2BeG5bjYA4JaJGS%2F7Desgpl3Y%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><code>App.xaml</code> å’Œ <code>App.xaml.cs</code> - åº”ç”¨ç¨‹åºå…¥å£ç‚¹</li>
<li><code>MainWindow.xaml</code> å’Œ <code>MainWindow.xaml.cs</code> - ä¸»çª—å£</li>
<li><code>AssemblyInfo.cs</code> - ç¨‹åºé›†ä¿¡æ¯</li>
</ul>
<h2 data-id="heading-1">1. App.xaml - åº”ç”¨ç¨‹åºå®šä¹‰æ–‡ä»¶</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Application</span> <span class="hljs-attr">x:Class</span>=<span class="hljs-string">"AlertOverlay.App"</span>
             <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span>
             <span class="hljs-attr">xmlns:x</span>=<span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span>
             <span class="hljs-attr">xmlns:local</span>=<span class="hljs-string">"clr-namespace:AlertOverlay"</span>
             <span class="hljs-attr">StartupUri</span>=<span class="hljs-string">"MainWindow.xaml"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Application.Resources</span>&gt;</span>
         
    <span class="hljs-tag">&lt;/<span class="hljs-name">Application.Resources</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Application</span>&gt;</span>
</code></pre>
<h3 data-id="heading-2">ä»£ç è§£æï¼š</h3>
<ul>
<li>
<p><strong><code>x:Class="AlertOverlay.App"</code></strong>ï¼š</p>
<ul>
<li>å°†XAMLæ–‡ä»¶ä¸åç«¯çš„C#ä»£ç æ–‡ä»¶å…³è”èµ·æ¥</li>
<li>è¿™é‡ŒæŒ‡å®šXAMLæ–‡ä»¶å¯¹åº”çš„ç±»æ˜¯<code>AlertOverlay</code>å‘½åç©ºé—´ä¸‹çš„<code>App</code>ç±»</li>
</ul>
</li>
<li>
<p><strong>XMLå‘½åç©ºé—´å£°æ˜</strong>ï¼š</p>
<ul>
<li><code>xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"</code>ï¼šå¼•å…¥WPFæ ¸å¿ƒå‘½åç©ºé—´</li>
<li><code>xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"</code>ï¼šå¼•å…¥XAMLè¯­è¨€ç‰¹æ€§</li>
<li><code>xmlns:local="clr-namespace:AlertOverlay"</code>ï¼šå¼•å…¥æœ¬åœ°é¡¹ç›®å‘½åç©ºé—´ï¼Œæ–¹ä¾¿å¼•ç”¨è‡ªå®šä¹‰ç±»</li>
</ul>
</li>
<li>
<p><strong><code>StartupUri="MainWindow.xaml"</code></strong>ï¼š</p>
<ul>
<li><strong>é‡è¦</strong>ï¼šæŒ‡å®šåº”ç”¨ç¨‹åºå¯åŠ¨æ—¶æ˜¾ç¤ºçš„ç¬¬ä¸€ä¸ªçª—å£</li>
<li>ç›¸å½“äºå‘Šè¯‰WPFï¼š"ç¨‹åºå¯åŠ¨åï¼Œå…ˆæ‰“å¼€MainWindowçª—å£"</li>
</ul>
</li>
<li>
<p><strong><code>&lt;Application.Resources&gt;</code></strong>ï¼š</p>
<ul>
<li>åº”ç”¨ç¨‹åºçº§åˆ«çš„èµ„æºå­—å…¸</li>
<li>å¯ä»¥åœ¨è¿™é‡Œå®šä¹‰æ ·å¼ã€æ¨¡æ¿ã€æ•°æ®æ¨¡æ¿ç­‰ï¼Œè¿™äº›èµ„æºåœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­éƒ½å¯ä»¥ä½¿ç”¨</li>
</ul>
</li>
</ul>
<h2 data-id="heading-3">2. App.xaml.cs - åº”ç”¨ç¨‹åºåå°ä»£ç </h2>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">AlertOverlay</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">App</span> : <span class="hljs-title">Application</span>
    {
        <span class="hljs-comment">// è¿™é‡Œå¯ä»¥å¤„ç†åº”ç”¨ç¨‹åºçº§åˆ«çš„äº‹ä»¶</span>
        <span class="hljs-comment">// å¦‚ï¼šåº”ç”¨ç¨‹åºå¯åŠ¨ã€é€€å‡ºã€å¼‚å¸¸å¤„ç†ç­‰</span>
    }
}
</code></pre>
<h3 data-id="heading-4">ä½œç”¨ï¼š</h3>
<ul>
<li>å¤„ç†åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸäº‹ä»¶</li>
<li>å…¨å±€å¼‚å¸¸å¤„ç†</li>
<li>åº”ç”¨ç¨‹åºçº§åˆ«çš„é€»è¾‘</li>
</ul>
<h2 data-id="heading-5">3. AssemblyInfo.cs - ç¨‹åºé›†ä¿¡æ¯æ–‡ä»¶</h2>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System.Windows;

[<span class="hljs-meta">assembly: ThemeInfo(
    ResourceDictionaryLocation.None,
    ResourceDictionaryLocation.SourceAssembly
)</span>]
</code></pre>
<h3 data-id="heading-6">ä»£ç è§£æï¼š</h3>
<ul>
<li>
<p><strong><code>[assembly: ThemeInfo]</code></strong>ï¼š</p>
<ul>
<li>è¿™æ˜¯ä¸€ä¸ª<strong>ç¨‹åºé›†çº§åˆ«ç‰¹æ€§</strong>ï¼Œåº”ç”¨äºæ•´ä¸ªç¨‹åºé›†ï¼Œè€Œä¸æ˜¯ç‰¹å®šç±»</li>
<li>æ§åˆ¶WPFå¦‚ä½•æŸ¥æ‰¾ä¸»é¢˜èµ„æº</li>
</ul>
</li>
<li>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°<code>ResourceDictionaryLocation.None</code>ï¼šæŒ‡å®šä¸»é¢˜ç‰¹å®šèµ„æºå­—å…¸çš„ä½ç½®ä¸ºæ— </li>
<li>ç¬¬äºŒä¸ªå‚æ•°<code>ResourceDictionaryLocation.SourceAssembly</code>ï¼šé€šç”¨èµ„æºå­—å…¸ä½äºå½“å‰ç¨‹åºé›†ä¸­</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">ç®€å•ç†è§£ï¼š</h3>
<p>è¿™ä¸ªæ–‡ä»¶å‘Šè¯‰WPFï¼š"ä¸»é¢˜èµ„æºéƒ½åœ¨å½“å‰ç¨‹åºé›†é‡Œæ‰¾ï¼Œæ²¡æœ‰ç‰¹åˆ«ä¸ºä¸åŒä¸»é¢˜å‡†å¤‡ä¸åŒçš„èµ„æºå­—å…¸"ã€‚</p>
<h2 data-id="heading-8">4. MainWindow.xaml - ä¸»çª—å£ç•Œé¢</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Window</span> <span class="hljs-attr">x:Class</span>=<span class="hljs-string">"AlertOverlay.MainWindow"</span>
        <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span>
        <span class="hljs-attr">xmlns:x</span>=<span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span>
        <span class="hljs-attr">xmlns:d</span>=<span class="hljs-string">"http://schemas.microsoft.com/expression/blend/2008"</span>
        <span class="hljs-attr">xmlns:mc</span>=<span class="hljs-string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span>
        <span class="hljs-attr">xmlns:local</span>=<span class="hljs-string">"clr-namespace:AlertOverlay"</span>
        <span class="hljs-attr">mc:Ignorable</span>=<span class="hljs-string">"d"</span>
        <span class="hljs-attr">Title</span>=<span class="hljs-string">"MainWindow"</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"450"</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">"800"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Grid</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Window</span>&gt;</span>
</code></pre>
<h3 data-id="heading-9">ä»£ç è§£æï¼š</h3>
<ul>
<li>
<p><strong><code>x:Class="AlertOverlay.MainWindow"</code></strong>ï¼š</p>
<ul>
<li>å°†XAMLä¸åç«¯çš„<code>MainWindow</code>ç±»å…³è”</li>
</ul>
</li>
<li>
<p><strong>é¢å¤–çš„XMLå‘½åç©ºé—´</strong>ï¼š</p>
<ul>
<li><code>xmlns:d="http://schemas.microsoft.com/expression/blend/2008"</code>ï¼šè®¾è®¡æ—¶æ•°æ®ï¼Œä¸»è¦åœ¨Blendä¸­ä½¿ç”¨</li>
<li><code>xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"</code>ï¼šæ ‡è®°å…¼å®¹æ€§</li>
<li><code>mc:Ignorable="d"</code>ï¼šå‘Šè¯‰XAMLè§£æå™¨å¿½ç•¥ä»¥"d:"å¼€å¤´çš„å±æ€§ï¼ˆè¿™äº›æ˜¯è®¾è®¡æ—¶å±æ€§ï¼‰</li>
</ul>
</li>
<li>
<p><strong>çª—å£å±æ€§</strong>ï¼š</p>
<ul>
<li><code>Title="MainWindow"</code>ï¼šçª—å£æ ‡é¢˜æ æ˜¾ç¤ºçš„æ–‡å­—</li>
<li><code>Height="450" Width="800"</code>ï¼šçª—å£çš„åˆå§‹å¤§å°</li>
</ul>
</li>
<li>
<p><strong><code>&lt;Grid&gt;</code>æ§ä»¶</strong>ï¼š</p>
<ul>
<li>WPFä¸­æœ€å¸¸ç”¨çš„å¸ƒå±€å®¹å™¨</li>
<li>ç±»ä¼¼äºHTMLä¸­çš„divï¼Œç”¨äºç»„ç»‡å’Œå…¶ä»–æ§ä»¶</li>
<li>ç›®å‰æ˜¯ç©ºçš„ï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­æ·»åŠ æŒ‰é’®ã€æ–‡æœ¬æ¡†ç­‰æ§ä»¶</li>
</ul>
</li>
</ul>
<h2 data-id="heading-10">5. MainWindow.xaml.cs - ä¸»çª—å£åå°ä»£ç </h2>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System.Windows;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">AlertOverlay</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MainWindow</span> : <span class="hljs-title">Window</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainWindow</span>()</span>
        {
            InitializeComponent();
        }
    }
}
</code></pre>
<h3 data-id="heading-11">ä»£ç è§£æï¼š</h3>
<ul>
<li>
<p><strong><code>partial class</code></strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨<strong>åˆ†éƒ¨ç±»</strong>ï¼Œæ„å‘³ç€è¿™ä¸ªç±»çš„ä»£ç è¢«åˆ†åœ¨å¤šä¸ªæ–‡ä»¶ä¸­</li>
<li>XAMLæ–‡ä»¶åœ¨ç¼–è¯‘æ—¶ä¼šè¢«è½¬æ¢ä¸ºC#ä»£ç ï¼Œä¸è¿™ä¸ªæ–‡ä»¶åˆå¹¶</li>
</ul>
</li>
<li>
<p><strong>æ„é€ å‡½æ•°ä¸­çš„<code>InitializeComponent()</code></strong>ï¼š</p>
<ul>
<li><strong>æå…¶é‡è¦</strong>ï¼šè¿™ä¸ªæ–¹æ³•ä¼šåŠ è½½å’Œè§£æXAMLæ–‡ä»¶ï¼Œåˆ›å»ºç•Œé¢å…ƒç´ </li>
<li>æ°¸è¿œä¸è¦åœ¨æ„é€ å‡½æ•°ä¸­åˆ é™¤æˆ–å¿˜è®°è°ƒç”¨è¿™ä¸ªæ–¹æ³•</li>
<li>å®ƒæ˜¯åœ¨XAMLç¼–è¯‘æ—¶è‡ªåŠ¨ç”Ÿæˆçš„</li>
</ul>
</li>
</ul>
<h2 data-id="heading-12">é‡è¦æ¦‚å¿µè§£é‡Š</h2>
<h3 data-id="heading-13">1. XAMLä¸ä»£ç åç½®</h3>
<p>WPFä½¿ç”¨<strong>MVVMï¼ˆModel-View-ViewModelï¼‰æ¨¡å¼</strong>ï¼Œä½†åˆå­¦è€…é˜¶æ®µå…ˆç†è§£è¿™ä¸ªåŸºç¡€ç»“æ„ï¼š</p>
<ul>
<li><strong>XAMLæ–‡ä»¶</strong>ï¼šå®šä¹‰ç”¨æˆ·ç•Œé¢ï¼ˆå¤–è§‚ï¼‰</li>
<li><strong>.xaml.csæ–‡ä»¶</strong>ï¼šå¤„ç†ç•Œé¢é€»è¾‘ï¼ˆè¡Œä¸ºï¼‰</li>
</ul>
<h3 data-id="heading-14">2. ç¼–è¯‘è¿‡ç¨‹</h3>
<ol>
<li>XAMLæ–‡ä»¶è¢«ç¼–è¯‘ä¸ºBAMLï¼ˆäºŒè¿›åˆ¶åº”ç”¨ç¨‹åºæ ‡è®°è¯­è¨€ï¼‰</li>
<li>BAMLä½œä¸ºèµ„æºåµŒå…¥åˆ°ç¨‹åºé›†ä¸­</li>
<li><code>InitializeComponent()</code>æ–¹æ³•åŠ è½½è¿™ä¸ªBAMLå¹¶åˆ›å»ºç•Œé¢</li>
</ol>
<h3 data-id="heading-15">3. å‘½åç©ºé—´ç†è§£</h3>
<p>æƒ³è±¡å‘½åç©ºé—´å°±åƒæ–‡ä»¶çš„åœ°å€ï¼š</p>
<ul>
<li><code>xmlns</code> æ˜¯é»˜è®¤åœ°å€ï¼ˆWPFæ ¸å¿ƒæ§ä»¶ï¼‰</li>
<li><code>xmlns:x</code> æ˜¯XAMLè¯­è¨€ç‰¹æ€§çš„ä¸“ç”¨åœ°å€</li>
<li><code>xmlns:local</code> æ˜¯ä½ è‡ªå·±é¡¹ç›®çš„åœ°å€</li>
</ul>
<h2 data-id="heading-16">ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®</h2>
<ol>
<li><strong>åœ¨Gridä¸­æ·»åŠ ä¸€äº›åŸºç¡€æ§ä»¶</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Grid</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">Content</span>=<span class="hljs-string">"ç‚¹å‡»æˆ‘"</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"30"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"Hello WPF!"</span> <span class="hljs-attr">HorizontalAlignment</span>=<span class="hljs-string">"Center"</span> <span class="hljs-attr">VerticalAlignment</span>=<span class="hljs-string">"Center"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span>
</code></pre>
<ol start="2">
<li>
<p><strong>å­¦ä¹ å¸ƒå±€é¢æ¿</strong>ï¼šé™¤äº†Gridï¼Œè¿˜æœ‰StackPanelã€Canvasã€DockPanelç­‰</p>
</li>
<li>
<p><strong>ç†è§£æ•°æ®ç»‘å®š</strong>ï¼šè¿™æ˜¯WPFæœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€</p>
</li>
<li>
<p><strong>å­¦ä¹ å‘½ä»¤å’Œäº‹ä»¶å¤„ç†</strong>ï¼šè®©æ§ä»¶å“åº”ç”¨æˆ·æ“ä½œ</p>
</li>
</ol>
<p>è®°ä½ï¼Œæ¯ä¸ªWPFä¸“å®¶éƒ½æ›¾æ˜¯åˆå­¦è€…ã€‚ç†è§£è¿™ä¸ªåŸºç¡€ç»“æ„æ˜¯ä½ WPFä¹‹æ—…çš„é‡è¦ç¬¬ä¸€æ­¥ï¼å½“ä½ æœ‰ç–‘é—®æ—¶ï¼Œéšæ—¶å›çœ‹è¿™ç¯‡åšå®¢å¤ä¹ è¿™äº›åŸºæœ¬æ¦‚å¿µã€‚</p>
<p>Happy coding! ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å“ˆå·¥å¤§æ·±åœ³å›¢é˜Ÿæ¨å‡ºUni-MoE-2.0-Omniï¼šå…¨æ¨¡æ€ç†è§£ã€æ¨ç†åŠç”Ÿæˆæ–°SOTA]]></title>    <link>https://juejin.cn/post/7576468602305527846</link>    <guid>https://juejin.cn/post/7576468602305527846</guid>    <pubDate>2025-11-25T10:22:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576468602305527846" data-draft-id="7576476897950056475" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å“ˆå·¥å¤§æ·±åœ³å›¢é˜Ÿæ¨å‡ºUni-MoE-2.0-Omniï¼šå…¨æ¨¡æ€ç†è§£ã€æ¨ç†åŠç”Ÿæˆæ–°SOTA"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2025-11-25T10:22:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å“ˆå·¥å¤§æ·±åœ³å›¢é˜Ÿæ¨å‡ºUni-MoE-2.0-Omniï¼šå…¨æ¨¡æ€ç†è§£ã€æ¨ç†åŠç”Ÿæˆæ–°SOTA
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T10:22:26.000Z" title="Tue Nov 25 2025 10:22:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…¨æ¨¡æ€å¤§æ¨¡å‹ï¼ˆOmnimodal Large Models, OLMsï¼‰èƒ½å¤Ÿç†è§£ã€ç”Ÿæˆã€å¤„ç†å¹¶å…³è”çœŸå®ä¸–ç•Œå¤šç§æ•°æ®ç±»å‹ï¼Œä»è€Œå®ç°æ›´ä¸°å¯Œçš„ç†è§£ä»¥åŠä¸å¤æ‚ä¸–ç•Œçš„æ·±åº¦äº¤äº’ã€‚äººå·¥æ™ºèƒ½å‘å…¨æ¨¡æ€å¤§æ¨¡å‹çš„æ¼”è¿›ï¼Œæ ‡å¿—ç€å…¶ä»ã€Œä¸“æ‰ã€èµ°å‘ã€Œé€šæ‰ã€ï¼Œä»ã€Œå·¥å…·ã€èµ°å‘ã€Œä¼™ä¼´ã€çš„å…³é”®ç‚¹ã€‚</p>
<p>ç„¶è€Œï¼Œå¦‚ä½•åœ¨ä¸€ä¸ªæ¨¡å‹ä¸­åŒæ—¶å…¼é¡¾å¼ºå¤§çš„å¤šæ¨¡æ€ç†è§£ä¸é«˜è´¨é‡ç”Ÿæˆï¼Œå¦‚ä½•æ„å»ºé«˜æ•ˆè€Œç»Ÿä¸€çš„æ¨¡å‹æ¶æ„ï¼Œå¦‚ä½•è®¾è®¡åˆç†çš„è®­ç»ƒæ–¹æ³•å’Œæ•°æ®é…æ¯”æ–¹æ¡ˆï¼Œä»æ˜¯å½“å‰å­¦æœ¯ç•Œä¸å·¥ä¸šç•Œå…±åŒçš„æŒ‘æˆ˜ã€‚</p>
<p>è¿‘æ—¥ï¼Œå“ˆå·¥å¤§æ·±åœ³è®¡ç®—ä¸æ™ºèƒ½ç ”ç©¶é™¢ Lychee å¤§æ¨¡å‹å›¢é˜Ÿï¼Œåœ¨ 2023 å¹´ç ”å‘çš„ã€Œç«‹çŸ¥ã€å¤§è¯­è¨€æ¨¡å‹åŸºç¡€ä¸Šï¼ˆå·¥ä¿¡éƒ¨å’Œç½‘ä¿¡åŠåŒè®¤è¯ï¼‰ï¼ŒåŸºäº 2024 å¹´ 5 æœˆæå‡ºçš„åŸåˆ› Uni-MoE å…¨æ¨¡æ€å¤§æ¨¡å‹æ¶æ„ï¼Œæ­£å¼å‘å¸ƒç¬¬äºŒä»£ã€Œç«‹çŸ¥ã€å…¨æ¨¡æ€å¤§æ¨¡å‹Â Uni-MoE-2.0-Omniã€‚</p>
<p>è¯¥æ¨¡å‹ä»¥å¤§è¯­è¨€æ¨¡å‹ä¸ºæ ¸å¿ƒï¼Œé€šè¿‡æ¸è¿›å¼æ¨¡å‹æ¶æ„æ¼”è¿›ä¸è®­ç»ƒç­–ç•¥ä¼˜åŒ–ï¼Œå°†ç¨ å¯†å¤§è¯­è¨€æ¨¡å‹æ‹“å±•ä¸ºæ··åˆä¸“å®¶æ¶æ„é©±åŠ¨çš„é«˜æ•ˆå…¨æ¨¡æ€å¤§æ¨¡å‹ï¼Œå®ç°äº†ä»ã€Œè¯­è¨€ç†è§£ã€åˆ°ã€Œå¤šæ¨¡æ€ç†è§£ã€ï¼Œå†åˆ°ã€Œç†è§£ä¸ç”Ÿæˆå…¼å¤‡ã€çš„è·¨è¶Šå¼å‡çº§ï¼å›¢é˜Ÿå›´ç»•ä»¥è¯­è¨€ä¸ºæ ¸å¿ƒçš„é€šç”¨äººå·¥æ™ºèƒ½ï¼Œé€šè¿‡å¼•å…¥å…¨æ¨¡æ€ 3D RoPE ä½ç½®ç¼–ç ã€è®¾è®¡åŠ¨æ€å®¹é‡ MoE æ¶æ„ä»¥åŠå…¨æ¨¡æ€ç”Ÿæˆå™¨ç­‰å…³é”®æŠ€æœ¯ï¼Œæœ‰æ•ˆæ‰“ç ´äº†ä¸åŒæ¨¡æ€ä¹‹é—´çš„å£å’ï¼Œåœ¨ç»´æŒé«˜æ•ˆè®¡ç®—æ€§èƒ½çš„åŒæ—¶ï¼Œå®ç°äº†å¯¹å›¾åƒã€è§†é¢‘ã€æ–‡æœ¬ä¸è¯­éŸ³çš„ç»Ÿä¸€ç†è§£ã€æ¨ç†ä¸ç”Ÿæˆã€‚</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒUni-MoE-2.0-Omni åœ¨å›¾åƒç†è§£ã€è§†é¢‘æ¨ç†ã€éŸ³é¢‘ç†è§£ã€è¯­éŸ³ç”Ÿæˆã€å›¾åƒç”Ÿæˆä¸ç¼–è¾‘ç­‰Â 85 é¡¹åŸºå‡†ä¸Šå–å¾—é«˜åº¦ç«äº‰æ€§æˆ–é¢†å…ˆçš„è¡¨ç°ï¼Œåœ¨ 76 é¡¹å¯å¯¹æ¯”è¯„æµ‹ä¸­ï¼ŒUni-MoE-2.0-Omniï¼ˆ75B Tokensï¼‰è¶…è¶Š Qwen2.5-Omniï¼ˆ1.2T Tokensï¼‰é€¾ 50 é¡¹ä»»åŠ¡ï¼Œä¸ä»…åœ¨è§†é¢‘ç†è§£å’Œå…¨æ¨¡æ€äº¤äº’ä¸Šå–å¾—æ˜¾è‘—çªç ´ï¼Œæ›´åœ¨é•¿è¯­éŸ³ç”Ÿæˆã€å¤šæ¨¡æ€è¯­éŸ³äº¤äº’å’Œå¯æ§å›¾åƒç”Ÿæˆä¸ç¼–è¾‘æ–¹é¢æ ‘ç«‹äº†æ–°æ ‡æ†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f37d0e8ed6974a868e87e47af9e7d7dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=5ZOV0yie6M4ofX90I01r6a6sefg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>
<p>è®ºæ–‡åœ°å€: <a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.12609" target="_blank" title="https://arxiv.org/abs/2511.12609" ref="nofollow noopener noreferrer">arxiv.org/abs/2511.12â€¦</a></p>
</li>
<li>
<p>é¡¹ç›®åœ°å€: <a href="https://link.juejin.cn?target=https%3A%2F%2Fidealistxy.github.io%2FUni-MoE-v2.github.io%2F" target="_blank" title="https://idealistxy.github.io/Uni-MoE-v2.github.io/" ref="nofollow noopener noreferrer">idealistxy.github.io/Uni-MoE-v2.â€¦</a></p>
</li>
<li>
<p>å¼€æºä»£ç : <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHITsz-TMG%2FUni-MoE" target="_blank" title="https://github.com/HITsz-TMG/Uni-MoE" ref="nofollow noopener noreferrer">github.com/HITsz-TMG/Uâ€¦</a></p>
</li>
<li>
<p>å¼€æºæ¨¡å‹: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fcollections%2FHIT-TMG%2Flychee-uni-moe-20" target="_blank" title="https://huggingface.co/collections/HIT-TMG/lychee-uni-moe-20" ref="nofollow noopener noreferrer">huggingface.co/collectionsâ€¦</a></p>
</li>
</ul>
<p>æ¨¡å‹ç»“æ„</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/319345739bdb4b4caeaf66ded7c75843~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=D1AYzsOQGQ0Yoc96wuT1CmJEj%2FY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Uni-MoE-2.0-Omni ä»¥è¯­è¨€æ ¸å¿ƒï¼ˆLLMï¼‰ï¼Œé€šè¿‡ç»Ÿä¸€çš„æ„ŸçŸ¥ï¼ˆUni-Perceptionï¼‰ä¸ç”Ÿæˆï¼ˆUni-Generationï¼‰æ¨¡å—ï¼Œå®ç°å¯¹æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘ã€éŸ³é¢‘ç­‰å¤šæ¨¡æ€ä¿¡å·çš„å…¨é“¾è·¯å¤„ç†ã€‚è¿™ä¸€æ¶æ„ç”±ç»Ÿä¸€æ¨¡æ€ç¼–ç ã€åŠ¨æ€ MoE ä»¥åŠå…¨æ¨¡æ€ç”Ÿæˆå™¨ä¸‰å¤§æ ¸å¿ƒç»„ä»¶æ„æˆï¼Œæ—¨åœ¨æ‰“ç ´æ¨¡æ€é—´çš„å£å’ï¼Œå®ç°ä»æ„ŸçŸ¥åˆ°ç”Ÿæˆçš„å…¨é“¾è·¯ç»Ÿä¸€ã€‚</p>
<ol>
<li>
<p>ç»Ÿä¸€æ¨¡æ€ç¼–ç ï¼šä¸ºå®ç°çœŸæ­£çš„å¤šæ¨¡æ€ç»Ÿä¸€è¡¨ç¤ºï¼ŒUni-MoE-2.0-Omni é‡‡ç”¨äº†ç»Ÿä¸€çš„ Token åŒ–ç­–ç•¥ã€‚åœ¨è§†è§‰æ–¹é¢ï¼Œæ¨¡å‹å€ŸåŠ© SigLIP ç¼–ç å™¨å¤„ç†ä»»æ„åˆ†è¾¨ç‡çš„å›¾åƒä¸é«˜å¸§ç‡è§†é¢‘ï¼Œå¹¶é€šè¿‡æ»‘åŠ¨çª—å£ç¼–ç å®ç°èƒ½åŠ›çš„å¹³æ»‘è¿ç§»ï¼›åœ¨éŸ³é¢‘æ–¹é¢ï¼ŒåŸºäº Whisper-Large-v3 å°† 30 ç§’éŸ³é¢‘å‹ç¼©ä¸ºä»… 200 ä¸ª Tokenï¼Œæ˜¾è‘—æå‡äº†é•¿è¯­éŸ³çš„ç†è§£æ•ˆç‡ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæ¨¡å‹å¼•å…¥äº†Â Omni-Modality 3D RoPEÂ æœºåˆ¶ï¼Œæ„å»ºäº†ä¸€ä¸ªè¦†ç›–æ–‡æœ¬ï¼ˆæ—¶é—´ï¼‰ã€å›¾åƒï¼ˆç©ºé—´ï¼‰ã€è§†é¢‘ï¼ˆæ—¶ç©ºï¼‰å’ŒéŸ³é¢‘ï¼ˆç»å¯¹æ—¶é—´ï¼‰çš„ç»Ÿä¸€åæ ‡ç³»ã€‚è¿™ä¸€è®¾è®¡å½»åº•è§£å†³äº†è·¨æ¨¡æ€ä½ç½®ç¼–ç ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œä¸ºé«˜ç²¾åº¦è§†é¢‘ç†è§£ä¸è§†å¬å¯¹é½å¥ å®šäº†åšå®åŸºç¡€ã€‚</p>
</li>
<li>
<p>åŠ¨æ€æ··åˆä¸“å®¶ï¼šUni-MoE-2.0-Omni çš„æ ¸å¿ƒæ¶æ„å‡çº§ä¸ºæ–°å‹çš„Â Dynamic-Capacity MoEã€‚ä¸åŒäºä¼ ç»Ÿæ··åˆä¸“å®¶æ¶æ„çš„å›ºå®šè·¯ç”±ï¼Œè¯¥æ¶æ„æ”¯æŒåŠ¨æ€ä¸“å®¶æ•°ï¼Œå³æ ¹æ® Token çš„éš¾æ˜“ç¨‹åº¦è‡ªåŠ¨åˆ†é…ç®—åŠ›ï¼Œå®ç°è½»é‡ç¼“æ€¥çš„è‡ªé€‚åº”å¤„ç†ã€‚åŒæ—¶ï¼Œæ¨¡å‹åˆ›æ–°æ€§åœ°å¼•å…¥äº†ä¸‰ç±»ä¸“å®¶è§’è‰²ï¼šè´Ÿè´£ç‰¹å®šæ¨¡æ€çŸ¥è¯†çš„è·¯ç”±ä¸“å®¶ã€ä¿ƒè¿›è·¨æ¨¡æ€çŸ¥è¯†è¿ç§»çš„å…±äº«ä¸“å®¶ï¼Œä»¥åŠç”¨äºè·ƒå±‚åŠ é€Ÿçš„ç©ºä¸“å®¶ã€‚é…åˆè·¯ç”±æ¢¯åº¦ä¼°è®¡ï¼ˆRouting Gradient Estimationï¼‰æŠ€æœ¯ï¼Œè¯¥æ¶æ„æœ‰æ•ˆè§£å†³äº†ç¦»æ•£é€‰æ‹©æ— æ³•åå‘ä¼ æ’­çš„ç—›ç‚¹ï¼Œåœ¨é™ä½è®­ç»ƒä¸æ¨ç†ç®—åŠ›çš„åŒæ—¶ï¼Œæ˜¾è‘—æå‡äº†æ¨¡å‹çš„ç¨³å®šæ€§ä¸è®°å¿†ç®¡ç†èƒ½åŠ›ã€‚</p>
</li>
<li>
<p>å…¨æ¨¡æ€ç”Ÿæˆå™¨ï¼šUni-MoE-2.0-Omni é€šè¿‡ç‰¹æ®Šçš„æ§åˆ¶ Tokenï¼Œå°†æ‰€æœ‰ç†è§£ä¸ç”Ÿæˆä»»åŠ¡ç»Ÿä¸€çº³å…¥è¯­è¨€æ¨¡å‹çš„è¯­ä¹‰ç©ºé—´ï¼Œå®ç°äº†ç†è§£å³ç”Ÿæˆçš„æ— ç¼æµè½¬ï¼šåœ¨è¯­éŸ³ç”Ÿæˆæ–¹é¢ï¼Œå…¶ä¸Šä¸‹æ–‡ä¿¡æ¯é©±åŠ¨çš„ Uni-MoE-TTSÂ å¯ä»¥å®ç°ä¸¤åˆ†é’Ÿä»¥ä¸Šçš„è¯­éŸ³å›å¤ï¼Œæ”¯æŒä¸­è‹±ä¸‰ç§éŸ³è‰²ã€‚åœ¨è§†è§‰ç”Ÿæˆæ–¹é¢ï¼šå¼•å…¥ä»»åŠ¡æ„ŸçŸ¥çš„æ‰©æ•£æ¨¡å‹ï¼Œé€šè¿‡æ·±åº¦èåˆè§†è§‰ã€ä»»åŠ¡ä¸å†…å®¹ä¿¡å·æ¥è”åˆé©±åŠ¨å›¾åƒç”Ÿæˆä¸ç¼–è¾‘ï¼Œæ˜¾è‘—æå‡äº†å›¾åƒç¼–è¾‘å’Œå¤åŸçš„å‡†ç¡®æ€§ã€‚</p>
</li>
</ol>
<p>è®­ç»ƒæ–¹æ³•</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e0618cb49ee4724b5b4d2c6defa7545~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=AXktn%2BU2kTRtC1VE0pnDIX7V81w%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é’ˆå¯¹æ··åˆä¸“å®¶æ¶æ„åœ¨å…¨æ¨¡æ€å¤§æ¨¡å‹è®­ç»ƒä¸­æ˜“å‡ºç°ä¸ç¨³å®šçš„é—®é¢˜ï¼Œè¯¥å›¢é˜Ÿè®¾è®¡äº†æ¸è¿›å¼è®­ç»ƒç­–ç•¥ï¼Œä¾æ¬¡æ¨è¿›ï¼šè·¨æ¨¡æ€å¯¹é½â†’ä¸“å®¶é¢„çƒ­â†’MoE å¾®è°ƒä¸å¼ºåŒ–å­¦ä¹ â†’ç”Ÿæˆå¼è®­ç»ƒã€‚è¯¥æ¸è¿›å¼çš„æ¨¡å‹æ¼”è¿›å’Œè®­ç»ƒæµç¨‹èƒ½å¤Ÿä»¥è¾ƒå°‘çš„æ•°æ®é‡ï¼ˆ75Bï¼‰ï¼Œå°†ç¨ å¯†å¤§è¯­è¨€æ¨¡å‹ (Qwen2.5-7B) é«˜æ•ˆæ‰©å±•ä¸ºå…¨æ¨¡æ€å¤§æ¨¡å‹ï¼Œå¹¶ä¿éšœåœ¨å…¨æ¨¡æ€æ•°æ®ç¯å¢ƒä¸‹å¼ºåŒ–è®­ç»ƒçš„æ”¶æ•›ç¨³å®šæ€§ã€‚</p>
<p>é’ˆå¯¹å¤šæ¨¡æ€ç†è§£ä¸ç”Ÿæˆä»»åŠ¡åœ¨è®­ç»ƒä¸­å¾€å¾€å‰²è£‚çš„é—®é¢˜ï¼Œè¯¥å›¢é˜Ÿæå‡ºä»¥è¯­è¨€ç”Ÿæˆä»»åŠ¡ä¸ºé”šç‚¹çš„å¤šæ¨¡æ€ç†è§£ä¸ç”Ÿæˆè”åˆè®­ç»ƒæ–¹å¼ã€‚é€šè¿‡å°†å›¾åƒç¼–è¾‘ä¸ç”Ÿæˆã€è¯­éŸ³åˆæˆç­‰ä»»åŠ¡ç»Ÿä¸€è‡³è¯­è¨€ç”Ÿæˆæ¡†æ¶ï¼Œæ‰“ç ´ç†è§£ä¸ç”Ÿæˆä¹‹é—´çš„å†…åœ¨ç•Œé™ï¼Œå®ç°ä¸¤è€…èƒ½åŠ›çš„ååŒå¢å¼ºä¸åŒå‘èµ‹èƒ½ã€‚</p>
<p>æ€§èƒ½è¯„ä¼°</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42e34a5d2b0c491b85443789b4ca365c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=nYi9kJzXaWLcYQL489HPU6F4rlI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸ºäº†éªŒè¯ Uni-MoE-2.0-Omni çš„å…¨èƒ½å®åŠ›ï¼Œç ”ç©¶å›¢é˜Ÿåœ¨å¤šè¾¾ 85 ä¸ªåŸºå‡†æµ‹è¯•ä¸Šè¿›è¡Œäº†åœ°æ¯¯å¼è¯„ä¼°ã€‚ç»“æœæ˜¾ç¤ºï¼Œè¯¥æ¨¡å‹åœ¨ç†è§£èƒ½åŠ›ä¸ç”Ÿæˆè´¨é‡ä¸Šå‡å–å¾—äº†è´¨çš„é£è·ƒï¼Œä¸ä»…åœ¨Â 35 ä¸ªä»»åŠ¡ä¸Šè¾¾åˆ°æœ€ä½³æ€§èƒ½ï¼ˆSOTAï¼‰ï¼Œæ›´åœ¨ 50 ä¸ªè¯„ä¼°ä»»åŠ¡ä¸Šå…¨é¢è¶…è¶Šäº† 1.2T Token è®­ç»ƒçš„ Qwen2.5-Omniï¼Œå…¶ä¸­åœ¨ 8 ä¸ªè§†é¢‘è¯„ä¼°åŸºå‡†å’Œ 4 ä¸ªå…¨æ¨¡æ€ç†è§£åŸºå‡†è¾ƒ Qwen2.5-OmniÂ æå‡ 7%ï¼Œå±•ç°äº†æé«˜çš„æ•°æ®åˆ©ç”¨æ•ˆç‡ä¸æ¶æ„ä¼˜åŠ¿ã€‚ Â </p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9372dd4649448f08818cc52dbcd62e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=klsgDvuPjonqLRAt5mGvgTRAATs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¨æ¨¡æ€ç†è§£</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a50b1ba9e37442edb77c7de99a23d4be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=Hr3iTyRmXLeubjzqiOTt7Trk9ao%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è§†é¢‘ç†è§£</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b69fbd1d7b324158b5b8127bcf84be55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=ZB8bzuNQ%2BYKUri9M6m0%2Fyyp8JgM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯æ§ç”Ÿæˆä¸å›¾åƒå¤åŸ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67d0e77a86644d2dafa809c24b8243be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=DpQEZF2eZ%2BGl23O58k1J%2BVDKp34%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¤šæ¨¡æ€è¯­éŸ³äº¤äº’é—®ç­”</p>
<p>åŠŸèƒ½å±•ç¤º</p>
<p>åœºæ™¯ä¸€ï¼šè§†è§‰æ•°å­¦æ¨ç†</p>
<p>ç»™å®ƒä¸€ä¸ªå›¾è¡¨é¢˜ï¼Œå®ƒä¸ä»…å…·å¤‡ OCR èƒ½åŠ›ï¼Œè€Œä¸”èƒ½åŸºäº OCR ç»“æœè¿›è¡Œæ•°å­¦æ¨ç†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/448fa0b25d9e403db3edf26ff443813e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=tQAmvaV2m8bjtcFiSfeqN%2Fm8%2F2I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœºæ™¯äºŒï¼šå›¾åƒæ¨ç†ç”Ÿæˆ</p>
<p>ç”Ÿæˆå†¬å¤©çš„è‹¹æœå›­æ—¶ï¼Œè€ƒè™‘å­£èŠ‚å› ç´ ï¼Œé¿å…ã€Œç”»è›‡æ·»è¶³ã€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1adb016c010c4710b3b3de34e19cfa02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=mIc6RhaxWG92AzeQlRfIahQRc8w%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3de39620e01d4a208412284a4fd7c473~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=Uj9SxI4zOdybEBqNBqXiWG%2FBg7Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœºæ™¯ä¸‰ï¼šäººåƒå›¾ç‰‡ä¿®é¥°</p>
<p>ä¿æŒäººç‰©ä¸»ä½“ä¸å˜ï¼Œæ ¹æ®æŒ‡ä»¤ä¿®æ”¹å›¾ç‰‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f4cffcfeea24017923ffd4f1e0fb0db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=rf5Axn%2Fe3gaHBqOodW55U%2BT4psQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœºæ™¯å››ï¼šå›¾åƒè´¨é‡ä¿®å¤</p>
<p>ç»™å®ƒé›¨ / é›¾ / é›ª / æš—ç­‰ä½è´¨é‡å›¾ç‰‡ï¼Œç§’å˜æ¸…æ™°åŸå›¾ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/399cf37eac93412ba5ed70281d27742c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=3EgPPgZf5es9%2F9xsZa0wtZqJlZw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœºæ™¯äº”ï¼šè¯†å›¾è¯­éŸ³åŠ©æ‰‹</p>
<p>ç»™å®ƒä¸€å¼ ç…§ç‰‡ï¼Œç²¾ç¡®å®šä½æ—…æ¸¸æ™¯ç‚¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cebdfee2ee974148a916a83a50fdc233~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=Id7r2D0wSs0GFXMwRnzi1gE429Y%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœºæ™¯å…­ï¼šå¤šè½®å¯¹è¯ä¼™ä¼´</p>
<p>åŒ–èº«æ™ºæ…§åŠ©æ‰‹ï¼Œç²¾å‡†æ•æ‰è¯é¢˜æµè½¬ï¼Œè¿ç»­å“åº”ç”¨æˆ·æ„å›¾ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d64304680624d5f874f89df16005134~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764670945&amp;x-signature=8fIPCvkgYL7E9439jeJX9xxvtGY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ€»ç»“ä¸å±•æœ›</p>
<p>Â </p>
<p>Uni-MoE-2.0-Omni æ˜¯ä¸€ä¸ªæ¶æ„å…ˆè¿›ã€å®Œå…¨å¼€æºçš„å…¨æ¨¡æ€å¤§æ¨¡å‹ã€‚ä» Uni-MoE 1.0 åˆ° 2.0ï¼Œè¯¥ç³»åˆ—æ¨¡å‹ä¸ä»…éªŒè¯äº†å°†ç¨ å¯†å¤§è¯­è¨€æ¨¡å‹æ‰©å±•ä¸ºå…¨æ¨¡æ€æ¨¡å‹çš„è·¯å¾„ï¼Œæ›´å®ç°äº†ä»å•çº¯çš„ã€Œå¤šæ¨¡æ€ç†è§£ã€å‘ã€Œç†è§£ç”Ÿæˆä¸€ä½“åŒ–ã€çš„è·¨è¶Šã€‚è¯¥æ¨¡å‹çš„å‘å¸ƒï¼Œä¸ºç¤¾åŒºæä¾›äº†ä¸€ä¸ªå¼ºæœ‰åŠ›çš„å…¨æ¨¡æ€åŸºåº§ï¼Œå…¶ä»£ç ã€æ¨¡å‹æƒé‡åŠæ•°æ®æ¸…å•çš„å¼€æºï¼Œå°†è¿›ä¸€æ­¥æ¨åŠ¨é€šç”¨å¤šæ¨¡æ€äººå·¥æ™ºèƒ½çš„ç ”ç©¶ä¸åº”ç”¨å‘å±•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œã€Šçµå…‰ã€‹ç”Ÿæˆçš„è§†é¢‘ä¸‹è½½ä¸å¸¦æ°´å°çš„æç®€æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7576371992615731236</link>    <guid>https://juejin.cn/post/7576371992615731236</guid>    <pubDate>2025-11-25T10:23:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576371992615731236" data-draft-id="7576369868418252836" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œã€Šçµå…‰ã€‹ç”Ÿæˆçš„è§†é¢‘ä¸‹è½½ä¸å¸¦æ°´å°çš„æç®€æ–¹æ³•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-25T10:23:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œã€Šçµå…‰ã€‹ç”Ÿæˆçš„è§†é¢‘ä¸‹è½½ä¸å¸¦æ°´å°çš„æç®€æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T10:23:31.000Z" title="Tue Nov 25 2025 10:23:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">æ–°å‘ç°</h3>
<p>æœ€è¿‘çµå…‰åˆšå‡ºæ¥ï¼Œæˆ‘ç”¨å®ƒç”Ÿæˆäº†è§†é¢‘åä¸‹è½½å‘ç°æ˜¯å¸¦æ°´å°çš„ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img alt="image.pngè½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" src="" loading="lazy"/></p>
<p>ä½†æ˜¯æˆ‘å‘ç°ç”¨ç½‘é¡µæµè§ˆå™¨çš„å¼€å‘è€…æ¨¡å¼F12ï¼Œå¯ä»¥ç›´æ¥æ‹¿åˆ°è§†é¢‘åœ°å€ï¼Œè¿™æ ·ä¸‹è½½çš„è§†é¢‘æ˜¯æ²¡æœ‰æ°´å°çš„ã€‚</p>
<p><img alt="image.pngè½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" src="" loading="lazy"/></p>
<p>æ‹¿åˆ°ç½‘å€åå¤åˆ¶åˆ°æµè§ˆå™¨ç‚¹å‡»ä¸‹è½½</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/531e58b27df54ae8bfeb873c84c691c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671011&amp;x-signature=VT41Bd70UEgy7rcYvh2VUIfp7uI%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸‹è½½åæ²¡æœ‰æ°´å°ï¼</p>
<p><img alt="image.pngè½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" src="" loading="lazy"/></p>
<p>æ„Ÿå…´è¶£å¿«å»è¯•è¯•å§ï¼</p>
<p>é¢˜å¤–è¯ï¼šå¾ˆå¤šç½‘ç«™çš„è§†é¢‘é€šè¿‡ F12ï¼ˆå¼€å‘è€…å·¥å…·ï¼‰å¯ä»¥ç›´æ¥æ‹¿åˆ°ã€‚</p>
<p>ä¸»è¦æ˜¯å› ä¸ºï¼š</p>
<h3 data-id="heading-1">1. è§†é¢‘å¹¶éçœŸæ­£åŠ å¯†ï¼Œåªæ˜¯â€œéšè—â€äº†åœ°å€</h3>
<ul>
<li>å¤§å¤šæ•°ç½‘é¡µè§†é¢‘æ’­æ”¾çš„æœ¬è´¨æ˜¯ï¼šæµè§ˆå™¨å‘æœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ª<strong>è§†é¢‘æ–‡ä»¶åœ°å€ï¼ˆURLï¼‰</strong>ï¼Œç„¶åé€æ®µä¸‹è½½æ’­æ”¾ã€‚</li>
<li>è¿™ä¸ªåœ°å€é€šå¸¸å¯ä»¥åœ¨ <strong>Networkï¼ˆç½‘ç»œï¼‰é¢æ¿</strong> ä¸­æ‰¾åˆ°ï¼Œå°¤å…¶æ˜¯ç±»å‹ä¸º <code>media</code>ã€<code>xhr</code>ã€<code>fetch</code> æˆ– <code>m3u8</code> çš„è¯·æ±‚ã€‚</li>
<li>åªè¦ä½ èƒ½æ‰¾åˆ°è¿™ä¸ªåœ°å€ï¼Œå°±å¯ä»¥ç”¨å·¥å…·ï¼ˆå¦‚ <code>ffmpeg</code>ã€<code>IDM</code>ã€<code>curl</code>ï¼‰ç›´æ¥ä¸‹è½½ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2">2. å¸¸è§çš„è§†é¢‘åŠ è½½æ–¹å¼</h3>






























<table><thead><tr><th>åŠ è½½æ–¹å¼</th><th>æ˜¯å¦å®¹æ˜“è·å–</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ç›´æ¥ MP4 åœ°å€</strong></td><td>âœ… æœ€å®¹æ˜“</td><td>æµè§ˆå™¨ä¼šç›´æ¥è¯·æ±‚ <code>.mp4</code> æ–‡ä»¶ï¼ŒNetwork é¢æ¿ä¸€ç›®äº†ç„¶ã€‚</td></tr><tr><td><strong>M3U8 æµåª’ä½“ï¼ˆHLSï¼‰</strong></td><td>âœ… è¾ƒå®¹æ˜“</td><td>æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«å¤šä¸ª <code>.ts</code> ç‰‡æ®µåœ°å€ï¼Œå·¥å…·å¯åˆå¹¶ä¸‹è½½ã€‚</td></tr><tr><td><strong>Blob URL</strong></td><td>âš ï¸ ä¸­ç­‰</td><td>çœ‹èµ·æ¥åƒ <code>blob:https://...</code>ï¼Œå…¶å®æ˜¯æµè§ˆå™¨æœ¬åœ°ç”Ÿæˆçš„è™šæ‹Ÿåœ°å€ï¼ŒçœŸå®åœ°å€ä»å¯åœ¨ Network ä¸­æ‰¾åˆ°ã€‚</td></tr><tr><td><strong>åŠ å¯†è§†é¢‘ï¼ˆDRMï¼‰</strong></td><td>âŒ å¾ˆéš¾</td><td>å¦‚ Widevineã€FairPlayï¼Œè§†é¢‘å†…å®¹åŠ å¯†ï¼Œæ— æ³•ç›´æ¥ä¸‹è½½ã€‚</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-3">3. ä¸ºä»€ä¹ˆç½‘ç«™ä¸åŠ å¯†ï¼Ÿ</h3>
<ul>
<li><strong>æˆæœ¬é«˜</strong>ï¼šåŠ å¯†è§†é¢‘éœ€è¦ DRM æˆæƒã€æœåŠ¡å™¨æ”¯æŒã€æ’­æ”¾å™¨é…åˆï¼Œæˆæœ¬é«˜ã€‚</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šåŠ å¯†è§†é¢‘åŠ è½½æ…¢ã€å…¼å®¹æ€§å·®ï¼Œå½±å“æ’­æ”¾ä½“éªŒã€‚</li>
<li><strong>æ²¡å¿…è¦</strong>ï¼šå¯¹äºå¤§å¤šæ•°å†…å®¹ï¼Œæ³„éœ²é£é™©ä¸é«˜ï¼Œç½‘ç«™æ‡’å¾—åŠ å¯†ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">4. ä¸¾ä¸ªä¾‹å­ï¼ˆB ç«™ï¼‰</h3>
<ol>
<li>æ‰“å¼€ä¸€ä¸ªè§†é¢‘ï¼ŒæŒ‰ F12 â†’ Network â†’ ç­›é€‰ <code>XHR</code> æˆ– <code>m3u8</code>ã€‚</li>
<li>æœç´¢å…³é”®è¯ <code>.m3u8</code>ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªåœ°å€å¦‚ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fxy185x92x230x230xy.mcdn.bilivideo.cn%2F...%2Findex.m3u8" target="_blank" title="https://xy185x92x230x230xy.mcdn.bilivideo.cn/.../index.m3u8" ref="nofollow noopener noreferrer">xy185x92x230x230xy.mcdn.bilivideo.cn/.../index.mâ€¦</a></li>
<li>å¤åˆ¶è¿™ä¸ªåœ°å€ï¼Œç”¨ <code>ffmpeg</code> ä¸‹è½½ï¼š
<pre><code class="hljs language-bash" lang="bash">ffmpeg -i <span class="hljs-string">"https://..."</span> -c copy output.mp4
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-5">âœ… æ€»ç»“ä¸€å¥è¯ï¼š</h3>
<blockquote>
<p><strong>å› ä¸ºå¤§å¤šæ•°ç½‘ç«™åªæ˜¯â€œè—â€äº†è§†é¢‘åœ°å€ï¼Œè€Œä¸æ˜¯çœŸæ­£åŠ å¯†ï¼Œæ‰€ä»¥ç”¨ F12 å°±èƒ½æŠ“åˆ°ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æ¨èç®—æ³•ä¼˜åŒ–åˆ°AI4Sã€Picoå’Œå¤§æ¨¡å‹ï¼Œæ¨éœ‡åŸé•¿æ–‡æ­ç§˜å­—èŠ‚è·³åŠ¨çš„æŠ€æœ¯æ¢ç´¢]]></title>    <link>https://juejin.cn/post/7576483553879048218</link>    <guid>https://juejin.cn/post/7576483553879048218</guid>    <pubDate>2025-11-25T10:23:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576483553879048218" data-draft-id="7576558359840751654" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æ¨èç®—æ³•ä¼˜åŒ–åˆ°AI4Sã€Picoå’Œå¤§æ¨¡å‹ï¼Œæ¨éœ‡åŸé•¿æ–‡æ­ç§˜å­—èŠ‚è·³åŠ¨çš„æŠ€æœ¯æ¢ç´¢"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2025-11-25T10:23:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æ¨èç®—æ³•ä¼˜åŒ–åˆ°AI4Sã€Picoå’Œå¤§æ¨¡å‹ï¼Œæ¨éœ‡åŸé•¿æ–‡æ­ç§˜å­—èŠ‚è·³åŠ¨çš„æŠ€æœ¯æ¢ç´¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T10:23:38.000Z" title="Tue Nov 25 2025 10:23:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>11æœˆ24æ—¥ï¼Œç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨å¥–å­¦é‡‘é¢å¥–å…¸ç¤¼åœ¨åŒ—äº¬å¤§é’Ÿå¯ºåŠå…¬åŒºä¸¾åŠã€‚</p>
<p>æœ¬å±Šå¥–å­¦é‡‘å…±å¸å¼•äº†ä¸­å›½å’Œæ–°åŠ å¡66æ‰€é«˜æ ¡çš„500ä½™ååŒå­¦æŠ¥åç”³è¯·ï¼Œæ¥è‡ªæ¸…åã€åŒ—å¤§ã€å¤æ—¦ã€äººå¤§ã€åä¸­ç§‘æŠ€å¤§å­¦ã€é¦™æ¸¯å¤§å­¦ã€æ–°åŠ å¡å›½ç«‹å¤§å­¦ã€å—æ´‹ç†å·¥å¤§å­¦ç­‰é«˜æ ¡çš„20ä½å­¦å­è·å¥–ï¼Œè¦†ç›–å¤§æ¨¡å‹ã€æœºå™¨å­¦ä¹ ã€å¤šæ¨¡æ€ã€AI Infraã€æœºå™¨äººã€AI for Scienceã€ç¡¬ä»¶ç­‰é¢†åŸŸã€‚</p>
<p>ç›¸æ¯”å¾€å±Šï¼Œ2025å¹´å­—èŠ‚è·³åŠ¨å¥–å­¦é‡‘ä¸ä»…å¢åŠ äº†è·å¥–åé¢ï¼Œä¹Ÿå°†å¥–å­¦é‡‘ä»10ä¸‡å…ƒå‡çº§ä¸º20ä¸‡å…ƒï¼Œå«10ä¸‡å…ƒç°é‡‘ï¼Œä»¥åŠ10ä¸‡å…ƒä¸“é¡¹å­¦æœ¯èµ„æºè¡¥è´´ï¼Œå¯ç”¨äºå‚åŠ å­¦æœ¯ä¼šè®®ã€ç§‘ç ”å·®æ—…ç­‰ç›¸å…³æ”¯å‡ºã€‚æ­¤å¤–ï¼Œå­—èŠ‚è·³åŠ¨è¿˜ä¸ºæ¯ä½è·å¥–å­¦ç”Ÿçš„å¯¼å¸ˆæä¾›10ä¸‡å…ƒå¥–åŠ±ï¼Œä»¥æ­¤è‡´æ•¬å¯¼å¸ˆåœ¨å­¦å­æˆé•¿ä¸ç§‘ç ”é“è·¯ä¸Šçš„è¾›å‹¤ä»˜å‡ºã€‚</p>
<p>é¢å¥–å…¸ç¤¼ä¸Šï¼Œå­—èŠ‚è·³åŠ¨æŠ€æœ¯å‰¯æ€»è£æ¨éœ‡åŸå¯¹è·å¥–å¸ˆç”Ÿè¡¨ç¤ºç¥è´ºï¼Œå¹¶åˆ†äº«äº†å­—èŠ‚è·³åŠ¨åœ¨æŠ€æœ¯é¢†åŸŸçš„ä¸€äº›æ¢ç´¢å†ç¨‹ï¼Œé¼“åŠ±åŒå­¦ä»¬ä¿æŒè€å¿ƒå’Œçƒ­çˆ±ï¼ŒæŒ‘æˆ˜çœŸæ­£æœ‰é«˜åº¦çš„æŠ€æœ¯éš¾é¢˜ï¼Œä¸ºç¤¾ä¼šåˆ›é€ æ›´å¤§ä»·å€¼ã€‚</p>
<p>ä»¥ä¸‹ä¸ºæ¨éœ‡åŸåˆ†äº«å…¨æ–‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e8d9c86f0534191914fd4c91870ca6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=L95RwtVTftRaZY7oGZF6Zq1eE40%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¤§å®¶å¥½ï¼Œå¾ˆé«˜å…´åœ¨å­—èŠ‚æŠ€æœ¯å¥–å­¦é‡‘ï¼Œè¿™æ ·ä¸€ä¸ªåœºåˆè§åˆ°å¤§å®¶ã€‚æˆ‘è‡ªå·±æ˜¯ä¸€ä¸ªæŠ€æœ¯çˆ±å¥½è€…ï¼Œ2014å¹´æˆ‘åŠ å…¥å­—èŠ‚è·³åŠ¨ã€‚ä»æœ€åˆè´Ÿè´£æ­å»ºæ–°çš„æ¨èç³»ç»Ÿå¼€å§‹ï¼Œåˆ°ç°åœ¨å·²ç»æœ‰å¿«12å¹´äº†ã€‚è¿™äº›å¹´æ¥ï¼Œä¹Ÿä¸€è·¯å‚ä¸äº†å­—èŠ‚å¾ˆå¤šçš„æŠ€æœ¯æ¢ç´¢ã€‚</p>
<p>è¯´èµ·å­—èŠ‚ï¼Œå¤šæ•°äººæ¯”è¾ƒç†Ÿæ‚‰çš„è¿˜æ˜¯æˆ‘ä»¬çš„äº§å“ï¼Œæ¯”å¦‚æŠ–éŸ³ã€ä»Šæ—¥å¤´æ¡ã€TikTokç­‰ã€‚</p>
<p>æˆ‘çš„è§†è§’å¯èƒ½æ›´æŠ€æœ¯ä¸€äº›ï¼Œä»Šå¤©è¿™ä¸ªæœºä¼šï¼Œæˆ‘æ¥ä»¥æˆ‘çš„è§†è§’åˆ†äº«ä¸€äº›å¤§å®¶å¯èƒ½æ²¡é‚£ä¹ˆç†Ÿæ‚‰çš„æŠ€æœ¯æ•…äº‹ã€‚</p>
<p><strong>01.</strong></p>
<p><strong>2014ï¼Œå¤§è§„æ¨¡æœºå™¨å­¦ä¹ ä¸æ¨èç³»ç»Ÿ</strong></p>
<p>ç¬¬ä¸€ç‰ˆå°±è®¡åˆ’åšåˆ°ä¸‡äº¿ï¼ˆTï¼‰çº§åˆ«çš„ç‰¹å¾è§„æ¨¡</p>
<p>æœ€åˆï¼Œåˆ›å§‹äººå¼ ä¸€é¸£æ‰¾åˆ°æˆ‘ï¼Œè·Ÿæˆ‘è¯´ï¼Œä»–æƒ³ç”¨å¤§è§„æ¨¡æœºå™¨å­¦ä¹ ç³»ç»Ÿæ¥æ­å»ºæ¨èç³»ç»Ÿï¼Œæ¥è§£å†³å„ç§åª’ä½“å½¢å¼ï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€æ–‡å­—ã€è§†é¢‘çš„æ¨èã€‚ä»–è¿™ä¸ªæƒ³æ³•å¾ˆå¸å¼•æˆ‘ã€‚</p>
<p>2014å¹´ï¼Œå·¥ä¸šç•Œæœ€å¤§è§„æ¨¡çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿï¼Œæ˜¯æœç´¢å¹¿å‘Šä¸­å·²ç»æˆç†Ÿä½¿ç”¨çš„å¤§è§„æ¨¡ç¦»æ•£LRï¼ˆLogistic regressionï¼‰ã€‚æŠŠè¿™å¥—åŸç†ç”¨åœ¨æ¨èç³»ç»Ÿä¸Šï¼ŒæŒ‘æˆ˜å¯ä¸å°ã€‚é‚£æ—¶åŒæ—¶ç†Ÿæ‚‰å¤§è§„æ¨¡è½¯ç¡¬ä»¶å·¥ç¨‹å’Œæœºå™¨å­¦ä¹ çš„äººä¸å¤šï¼Œè€Œä¸”ï¼Œé™¤äº†èƒ½å¤ŸæŒ£åˆ°å¾ˆå¤šé’±çš„æœç´¢å¹¿å‘Šä¼šä½¿ç”¨ï¼›å…¶ä»–é¢†åŸŸï¼Œå¤§å®¶éƒ½ä¸æ„¿æ„èŠ±è¿™ä¹ˆå¤§çš„ç¡¬ä»¶æˆæœ¬å»åšè®¡ç®—ã€‚</p>
<p>æˆ‘ä»¬ç¬¬ä¸€ç‰ˆå°±å®šäº†ä¸€ä¸ªéå¸¸æ¿€è¿›çš„ç›®æ ‡ï¼šè®¡åˆ’2014å¹´åšåˆ°ä¸‡äº¿ï¼ˆTï¼‰çº§åˆ«çš„ç‰¹å¾è§„æ¨¡ã€‚</p>
<p>è¿™é‡Œæœ‰éå¸¸å¤šçš„æŒ‘æˆ˜ï¼Œæ¯”å¦‚ç³»ç»Ÿå»ºæ¨¡ï¼Œå¤„ç†å¥½æ¨èçš„ä¼˜åŒ–ç›®æ ‡ã€‚å·¥ç¨‹ä¸Šï¼Œå­˜å‚¨å’Œè®¡ç®—æ˜¯æœ€å‰æœŸçš„é—¨æ§›ã€‚å¦å¤–æˆ‘ä»¬ä¹Ÿè¦åšå¥½ç®—æ³•çš„ä¼˜åŒ–ã€‚æ„å»ºç›®æ ‡ï¼Œåšå¥½å­˜å‚¨çš„æŒ‘æˆ˜ï¼Œä»¥å‰éƒ½åˆ†äº«è¿‡äº†ï¼Œä»Šå¤©è¯´è¯´ä¼˜åŒ–ç®—æ³•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b74285432f1d4743aaaac8c419f21d46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=Ta616bsu7taj9PR3tEOS%2FX1WW24%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>LRçš„ä¼˜åŒ–æ˜¯æˆç†ŸæŠ€æœ¯ï¼Œä½†ä¸åŒçš„æ–¹æ³•æ•ˆç‡ã€æ•ˆæœå·®å¼‚å·¨å¤§ã€‚å°¤å…¶æ˜¯è¶…å¤§è§„æ¨¡ä¹‹åã€‚ä»Šå¤©å¾ˆå¤šåŒå­¦å¯èƒ½ä¸çŸ¥é“å½“å¹´çš„ä¼˜åŒ–å™¨çš„æƒ…å†µã€‚ä»Šå¤©SGDç³»çš„æ–¹æ³•æ˜¯ä¸»æµï¼Œä½†2014å¹´ï¼Œæˆ‘ä»¬æéå¸¸å¤§è§„æ¨¡ç¨€ç–çš„é€»è¾‘å›å½’çš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯è¿™æ ·ã€‚å½“æ—¶CDç³»çš„ä¸€äº›æ–¹æ³•ç”¨çš„æ›´å¤šã€‚å¦å¤–ï¼Œç™¾åº¦çš„æœç´¢å¹¿å‘Šä½¿ç”¨çš„ä¼˜åŒ–å™¨æ˜¯OWL-QNã€‚</p>
<p>æˆ‘ä»¬å½“æ—¶ä¸€å…±å°±5ä¸ªäººï¼Œè¿˜æœ‰äººè¦å»åšå·¥ç¨‹ï¼Œä¼˜åŒ–å™¨å‡†å¤‡äº†2å¥—æ–¹æ¡ˆã€‚1ã€SGD-FTRLï¼›2ã€CDNï¼ˆCoordinate Descent Newtonï¼‰ã€‚å°±é€‰äº†ä¸¤ä¸ªäººåˆ†åˆ«è´Ÿè´£ï¼ŒåŒæ­¥è¿›è¡Œè°ƒç ”ã€‚</p>
<p>CDNä¼˜åŒ–å™¨é¡¹ç›®ï¼Œæˆ‘ä»¬å½“æ—¶é¢„åˆ¤æ¯”è¾ƒæœ‰æ½œåŠ›ï¼ŒåˆæœŸè¿›å±•ä¹Ÿä¸é”™ï¼Œä½†æœ€åˆçš„ä¸Šçº¿å‘ç°åˆä¸å¤ªè¡Œï¼Œå°±ä¸€ç›´æ”¹è¿›ã€‚2å¹´ä¸­ï¼Œå§‹ç»ˆæœ‰ä¸€ä¸ªå°ç»„æŒç»­åœ¨åšã€‚ç›´åˆ°SGDçš„æ–¹æ³•éƒ½å¼€å§‹æ‰¾åˆ°æ›´å¤šçš„åº”ç”¨æ–¹å¼åï¼Œæ‰ç»ˆäºåœäº†è¿™ä¸ªé¡¹ç›®ã€‚CDNä¼˜åŒ–å™¨é¡¹ç›®ç»„é‡Œçš„åŒå­¦ï¼Œåæ¥è½¬åˆ°äº†æœºå™¨å­¦ä¹ çš„å…¶ä»–æ–¹å‘ï¼Œè´Ÿè´£å…¬å¸å¾ˆé‡è¦çš„ä¸šåŠ¡ã€‚è™½ç„¶é¡¹ç›®å¹¶ä¸æˆåŠŸï¼Œå…¬å¸è¿˜æ˜¯å¾ˆè®¤å¯ä»–ä»¬çš„æ¢ç´¢ã€‚</p>
<p>FTRLç°åœ¨æåˆ°çš„éƒ½æ¯”è¾ƒå°‘äº†ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯åŸºäºç´¯è®¡æ¢¯åº¦çš„ï¼ŒåŸºäºAdaGradé£æ ¼è‡ªé€‚åº”çš„ï¼ŒL1æ­£åˆ™çš„SGDã€‚è¿™ä¸ªé¡¹ç›®æˆ‘ä»¬è¿›å±•å¾ˆå¿«ï¼Œå‡ ä¸ªæœˆä¸Šçº¿ï¼ŒæˆåŠŸå®ç°äº†ç¨€ç–åŒ–ä¸‡äº¿ç‰¹å¾çš„ç›®æ ‡ï¼Œå¹¶ä¸”æ¡†æ¶éå¸¸çµæ´»ã€‚</p>
<p>14å¹´åº•ï¼Œæˆ‘ä»¬é€æ¸å¼•å…¥äº†FMç±»ç®—æ³•ï¼Œåæ¥æ¼”åŒ–æˆäº†æ›´é€šç”¨çš„deep learningä½“ç³»ã€‚è€Œä¸”ä»æˆ‘ä»¬ä¸Šçº¿çš„ç¬¬ä¸€å¤©ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªstreaming trainingçš„ç³»ç»Ÿã€‚</p>
<p>åˆ°ä»Šå¤©ï¼Œæˆ‘ä»¬å‘ç°streamingæ›´æ–°ï¼ˆtraining onlyï¼‰çš„ã€è¾ƒæµ…å±‚çš„ç¥ç»ç½‘ç»œç®—æ³•åœ¨æ¨èä¸­ä¾ç„¶æœ‰ç€ä¸é”™çš„æ•ˆæœã€‚å®ƒå¯èƒ½å’Œç°åœ¨test-time trainingä¸­çš„ä¸€äº›é—®é¢˜ç›¸å…³ï¼Œä¹Ÿè®¸æ˜¯æ›´è¿‘ä¼¼RNNçš„ä¸€ä¸ªå®ç°ã€‚</p>
<p><strong>02.</strong></p>
<p><strong>2020ï¼Œç§‘å­¦è®¡ç®—çš„æ¢ç´¢</strong></p>
<p>æ±‚è§£è–›å®šè°”æ–¹ç¨‹ï¼Œå°±å¯ä»¥æ¨¡æ‹Ÿä¸–ç•Œç»å¤§éƒ¨åˆ†çš„ç°è±¡</p>
<p>å¤§æ¦‚2019å¹´åº•åˆ°2020å¹´ï¼Œæˆ‘ä»¬è®¨è®ºè¿‡ä¸€æ¬¡ï¼Œæœªæ¥AIè¿˜èƒ½å¤Ÿæ€ä¹ˆå‘å±•ï¼Œå¦‚ä½•åœ¨å…¨ç¤¾ä¼šå‘æŒ¥æ›´åŠ é‡è¦çš„ä»·å€¼ï¼Ÿ</p>
<p>å½“æ—¶çš„æ€è€ƒæ˜¯ï¼Œåªæœ‰å¾ˆå¤§è§„æ¨¡çš„æœ‰ä»·å€¼çš„æ•°æ®ï¼Œæ‰èƒ½å¤Ÿäº§ç”Ÿè¶³å¤Ÿæœ‰ä»·å€¼çš„æ¨¡å‹å’Œç®—æ³•ã€‚çº¿ä¸Šä¸–ç•Œï¼Œæ¨èã€æœç´¢ã€å¹¿å‘Šæ˜¯ä¸»æµåº”ç”¨ã€‚é‚£ä¹ˆï¼Œè¿˜æœ‰ä»€ä¹ˆåœºæ™¯èƒ½å¤Ÿäº§ç”Ÿå¾ˆå¤šæœ‰ä»·å€¼çš„æ•°æ®å‘¢ï¼Ÿæ˜¾è€Œæ˜“è§æ˜¯ç°å®ä¸–ç•Œã€‚ä½†ç°å®ä¸–ç•Œçš„æ•°æ®æœé›†ä¸åº”ç”¨ä¼šæ¯”è¾ƒå¤æ‚ï¼Œæ¶‰åŠåˆ°æ— äººè½¦ã€æœºå™¨äººç­‰é¢†åŸŸã€‚é™¤äº†ç°å®ä¸–ç•Œï¼Œæˆ‘ä»¬è¿˜æƒ³åˆ°ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯ç§‘å­¦è®¡ç®—ã€‚</p>
<p>æˆ‘ä»¬è¿™ä¸ªä¸–ç•Œè™½ç„¶çº·ç¹å¤æ‚ï¼Œä½†åº•å±‚çš„ç‰©ç†è§„å¾‹æ˜¯ç‰¹åˆ«ç®€æ´çš„ã€‚ä»é‡å­åŠ›å­¦çš„è§’åº¦æ¥è®²ï¼Œå¦‚æœä»Šå¤©æœ‰ä¸€å°è®¡ç®—èƒ½åŠ›æ²¡æœ‰ä¸Šé™çš„æœºå™¨ï¼Œæˆ‘ä»¬ç¡®å®å¯ä»¥ä»è–›å®šè°”æ–¹ç¨‹ä¸­è§£å‡ºå½“å‰ä¸–ç•Œä¸­ç»å¤§éƒ¨åˆ†çš„ç°è±¡ï¼ˆä¸è€ƒè™‘é‡åŠ›çš„æƒ…å†µä¸‹ï¼‰ã€‚å¤§é‡çš„simulationä¼šå¾—åˆ°æœ‰ä»·å€¼çš„æ•°æ®ï¼ŒæŒ‡å¯¼machine learningå»è¿›æ­¥ã€‚å¾—åˆ°æ›´å¥½çš„ç»“æœï¼Œåè¿‡æ¥ï¼Œåˆå¯ä»¥æ”¹è¿›simulationã€‚</p>
<p>è¿™å¼ å›¾æ˜¯æˆ‘ä»¬å½“æ—¶çš„é¡¾é—®é„‚ç»´å—é™¢å£«åˆ†äº«è¿‡çš„ä¸€å¼ å›¾ï¼Œæˆ‘è´´è¿‡æ¥äº†ï¼Œè®²çš„æ˜¯ä¸åŒå°ºåº¦ç§‘å­¦è®¡ç®—çš„åˆ†ç±»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f45751e9258406d96fa9c8b39623912~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=BX2gX2XSvxTAgvlfqxLACCOcVvc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¤§å®¶å¯ä»¥çœ‹ï¼Œæ¨ªåæ ‡ä»£è¡¨äº†ç©ºé—´å°ºåº¦ï¼Œçºµåæ ‡æ˜¯æ—¶é—´å°ºåº¦ã€‚è¿™å¼ å›¾ä»£è¡¨äº†ç‰©ç†å’Œç§‘å­¦è®¡ç®—çš„ä¸€äº›é—®é¢˜ã€‚æ¯”å¦‚æœ€å·¦ä¸‹è§’çš„æ˜¯ç¬¬ä¸€æ€§åŸç†è®¡ç®—ï¼Œå®ƒåŒ…æ‹¬CCSDã€ QMCç­‰æ–¹æ³•ï¼Œå®ƒéœ€è¦å»è®¡ç®—å¤šç”µå­çš„æ³¢å‡½æ•°ã€‚å†ä¸Šèµ°ï¼Œåˆ†åˆ«æ˜¯åšäº†è¿‘ä¼¼çš„DFTï¼ˆå¯†åº¦æ³›å‡½ï¼‰ã€‚å†å¾€ä¸Šèµ°ï¼Œä¸å†å»æç»˜æ³¢å‡½æ•°ï¼Œè€Œæ˜¯ä½¿ç”¨ç²’å­æ¥åšæŠ½è±¡ï¼Œä¹Ÿå°±æ˜¯åˆ†å­åŠ¨åŠ›å­¦MDï¼ˆMolecular dynamicsï¼‰ï¼Œå†å¾€ä¸ŠæŠ½è±¡åˆ°ç²’å­å›¢ç°‡ï¼›æœ€ä¸Šé¢æŠ½è±¡çš„æµä½“åŠ›å­¦ã€æœ‰é™å…ƒç­‰æ›´é«˜æŠ½è±¡çš„å±‚æ¬¡ã€‚é‚£æœºå™¨å­¦ä¹ åœ¨å…¶ä¸­çš„ä»·å€¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå›¾ä¸­çš„L1ã€L2ã€L3ã€L4çš„æ„æ€æ˜¯ï¼Œåœ¨è¿™äº›ä¸åŒå°ºåº¦çš„é—®é¢˜ä¸Šï¼Œéƒ½å¯ä»¥é€šè¿‡æœºå™¨å­¦ä¹ çš„æ–¹æ³•æ›´å¥½åœ°æ±‚è§£ã€‚ä¾‹å¦‚ï¼Œåœ¨æœ€ä¸‹é¢é‡å­åŒ–å­¦è®¡ç®—è§’åº¦ï¼Œé‡‡ç”¨ç¥ç»ç½‘ç»œæ¥æ‹Ÿåˆå¤šç”µå­æ³¢å‡½æ•°ã€‚å°½ç®¡è¿™äº›ç‰©ç†è§„å¾‹æè¿°èµ·æ¥ç‰¹åˆ«ç®€å•ï¼Œä½†è®¡ç®—èµ·æ¥å´å¼‚å¸¸å¤æ‚ï¼Œæ‰€ä»¥æœºå™¨å­¦ä¹ èƒ½å¤Ÿå‘æŒ¥éå¸¸å¤§çš„ä»·å€¼ã€‚</p>
<p><strong>Â· ç¬¬ä¸€æ€§åŸç†è®¡ç®—</strong></p>
<p>æˆ‘ä»¬ä»2020å¹´å¼€å§‹åœ¨è¿™ä¸ªæ–¹å‘æŒç»­æŠ•å…¥ã€‚è¿™é‡Œæœ‰ä¸€å¼ åŒäº‹æä¾›çš„å›¾ï¼Œå±•ç¤ºäº†æˆ‘ä»¬åœ¨è¿™æ–¹é¢åšçš„ä¸€äº›å·¥ä½œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4da9e2e97b2644c7ac9cabfadaf2e78e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=qkU4qvWT6JHOfFSiWHK9LulH9lM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾ä¸­çš„æ¨ªåæ ‡æŒ‡çš„æ˜¯æ—¶é—´ï¼Œè¿™ä¸ªé¢†åŸŸæ—©æœŸä»£è¡¨æ€§çš„å·¥ä½œæ˜¯DeepMindçš„FermiNetç­‰ï¼Œ2019å¹´æˆ‘ä»¬å‡ ä¸ªäººåœ¨ä¼šè®®å®¤é‡Œå°±è®¨è®ºè¿‡è¿™é¡¹å·¥ä½œã€‚è¿™ä¸ªé¢†åŸŸå«åšNNQMCï¼ˆç¥ç»ç½‘ç»œé‡å­è’™ç‰¹å¡æ´›æ–¹æ³•ï¼‰ã€‚å¤§æ¦‚æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼ŸQMCæ˜¯é‡å­è’™ç‰¹å¡æ´›ï¼Œæ ¹æ®å˜åˆ†åŸç†ï¼Œä»»ä½•è¯•éªŒæ³¢å‡½æ•°è®¡ç®—å¾—åˆ°çš„ç³»ç»Ÿèƒ½é‡æ€»æ˜¯å¤§äºæˆ–ç­‰äºçœŸå®åŸºæ€èƒ½é‡ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ç¥ç»ç½‘ç»œå»è¡¨ç¤ºä¸€ä¸ªæ³¢å‡½æ•°ï¼Œç„¶åï¼Œåœ¨è¿™ä¸ªæ³¢å‡½æ•°ä¸Šè¿›è¡Œé‡‡æ ·å¹¶è®¡ç®—ç³»ç»Ÿèƒ½é‡ã€‚ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥æŒ‰ç…§èƒ½é‡æ›´å°æ–¹å‘çš„æ¢¯åº¦å»æ›´æ–°ç¥ç»ç½‘ç»œï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªæ›´ä¼˜çš„æ³¢å‡½æ•°è¡¨ç¤ºã€‚</p>
<p>ç²‰è‰²éƒ¨åˆ†æ˜¯æˆ‘ä»¬åœ¨2021å¹´ä¹‹åçš„å‡ é¡¹å·¥ä½œï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šåœ¨ä¸šç•Œå·²ç»åšåˆ°å‰æ²¿ã€‚</p>
<p>è¿™å¼ å›¾çš„çºµåæ ‡æŒ‡çš„æ˜¯ä»¿çœŸç²¾åº¦ï¼Œå°±æ˜¯ä¸ç‰©ç†å®éªŒçš„æ¥è¿‘ç¨‹åº¦ã€‚ä»¿çœŸè¶Šæ¥è¿‘çœŸå®ï¼Œåº”ç”¨å‰æ™¯å°±è¶Šå¥½ã€‚åœ†çš„å¤§å°è¡¨æ˜äº†ä»¿çœŸä½“ç³»ç”µå­çš„æ•°é‡ï¼Œè¿™ä¸ªåœ†è¶Šå¤§ï¼Œä¹Ÿå°±æ„å‘³ç€å®ƒæœ‰æ›´å¤§çš„å®ç”¨ä»·å€¼ã€‚</p>
<p>æœ€å³ä¸Šè§’æœ‰ä¸€ä¸ªScaling Laws with LAVAï¼Œè¿™æ˜¯æˆ‘ä»¬æœ€æ–°çš„ä¸€ä¸ªæˆæœã€‚æˆ‘ä»¬å‘ç°ï¼Œè¿™ä¸ªé—®é¢˜å’Œå¤§æ¨¡å‹ä¸€æ ·è¡¨ç°å‡ºScaling Lawï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨æ›´å¤šå‚æ•°ï¼Œå°±ä¼šçœ‹åˆ°å®ƒçš„ä»¿çœŸç²¾åº¦æ˜¯æŒç»­ä¸Šå‡çš„ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¿¡å·ï¼Œè¯´æ˜æˆ‘ä»¬å¯èƒ½åœ¨å®ç”¨æ€§æ–¹é¢è¿˜æœ‰å¾ˆå¤§çš„çªç ´æ½œåŠ›ã€‚</p>
<p>åœ¨å¤„ç†ä½“ç³»èŒƒå›´ä¸Šï¼Œæˆ‘ä»¬æå‡ºäº†é¦–ä¸ªèƒ½ä½¿ç”¨äºå›ºä½“ä½“ç³»çš„NNQMCæ–¹æ³•ï¼ŒDeepSolidã€‚åŒæ—¶åœ¨äºŒç»´è½¬è§’ææ–™çš„ç ”ç©¶ä¸Šä¹Ÿè¿›è¡Œäº†ä¸€ç³»åˆ—ç ”ç©¶ã€‚ä»Šå¹´çš„ä¸€ä¸ªé‡ç‚¹å·¥ä½œå°±æ˜¯å°†NNQMCç”¨äºç ”ç©¶æ‹“æ‰‘ç»ç¼˜ä½“ã€‚</p>
<p>æ‹“æ‰‘ç»ç¼˜ä½“å…·æœ‰ç‰¹åˆ«çš„ç”µå­¦æ€§è´¨ï¼Œé€šç”µåï¼Œå™¨ä»¶å†…éƒ¨æ²¡æœ‰ç”µæµï¼Œä½†åœ¨å™¨ä»¶è¾¹ç¼˜äº§ç”Ÿç”µæµã€‚å™¨ä»¶å‡ ä¹ä¸å‘çƒ­ã€‚</p>
<p>æ‹“æ‰‘ç»ç¼˜ä½“â€œä¸å‘çƒ­â€è¿™ä¸ªç”µå­¦æ€§è´¨ååˆ†è¯±äººã€‚å› ä¸ºç°åœ¨ç”¨çš„CPUï¼ŒGPUéƒ½ä¼šå¤§é‡å‘çƒ­ï¼Œé€ æˆèƒ½æºæŸè€—ã€‚å¦‚æœçœŸèƒ½ç”¨æ‹“æ‰‘ç»ç¼˜ä½“æ›¿ä»£ï¼Œä¹Ÿè®¸å¯ä»¥åˆ¶é€ è¶…çº§è®¡ç®—æœºã€‚</p>
<p>æ€ä¹ˆæ‰¾æ‹“æ‰‘ç»ç¼˜ä½“å‘¢ï¼Ÿåº”ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®ææ–™çš„æè¿°ï¼Œæ¥ä»¿çœŸè®¡ç®—å¾—åˆ°ææ–™çš„æ€§è´¨ã€‚ä»è€Œå¤§å¤§æé«˜å®éªŒçš„æ•ˆç‡ã€‚æˆ‘ä»¬å…·ä½“è®¡ç®—äº†<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71977f6b176647709de840375ed6238e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=WNdzItxbiQ8nmorPXoiaYXmi52s%3D" alt="å›¾ç‰‡" loading="lazy"/>Â è¿™ç§äºŒç»´ææ–™ï¼Œå‘ç°å…¶åœ¨ç‰¹å®šçš„å¯†åº¦å’Œæ—‹è½¬è§’åº¦<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e0ebc35a8dc496b9bfe591ab9305ae5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=OPNXKB%2BuvrZlkq7RYJ3L%2BsNiB5w%3D" alt="å›¾ç‰‡" loading="lazy"/>ä¸‹ä¼šå˜ä¸ºæ‹“æ‰‘ç»ç¼˜ä½“ï¼Œå¹¶ä¸”ä¸å®éªŒç»“æœä¸€è‡´ã€‚</p>
<p><strong>Â· åˆ†å­åŠ¨åŠ›å­¦</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b939af20f1cc40699528aae1fa139ba4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=8cY7WFWUHZkj6OxpQkaWMaIBLyM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬åœ¨åˆ†å­åŠ¨åŠ›å­¦ä¸Šä¹Ÿæœ‰å¾ˆå¤šæ¢ç´¢ã€‚MDï¼ˆåˆ†å­åŠ¨åŠ›å­¦ï¼‰åœ¨é„‚ç»´å—è€å¸ˆçš„å›¾ä¸­æ˜¯classic MDè¿™ä¸ªä½ç½®ã€‚æˆ‘ä»¬çš„æ€è·¯æ˜¯ï¼Œå…ˆæ”¹è¿›æ­£é—®é¢˜ã€‚ä½¿ç”¨æ›´é«˜ç²¾åº¦çš„ä»¿çœŸæ¥ç»™æœºå™¨å­¦ä¹ MDçš„åŠ›åœºæä¾›æ›´ç²¾å‡†çš„labelã€‚DFTï¼ˆå¯†åº¦æ³›å‡½åˆ†æï¼‰ï¼Œæ˜¯ä¸€ä¸ªåˆç†çš„å±‚æ¬¡ã€‚æˆ‘ä»¬é¦–å…ˆåšäº†DFTçš„GPUåŠ é€Ÿå·¥ä½œã€‚æˆ‘ä»¬çš„GPU4PySCFï¼Œå®ç°äº†GPUåŠ é€ŸDFTè®¡ç®—çš„ä¸šç•ŒSOTAã€‚ç›¸æ¯”ä¼ ç»ŸCPUè®¡ç®—ç¨‹åºï¼Œå®ç°é€Ÿåº¦1GPUâ‰ˆ500~1000CPU coreçš„åŠ é€Ÿï¼Œå®Œæˆç›¸åŒè®¡ç®—ä»»åŠ¡ç®—åŠ›æˆæœ¬é™ä½1ä¸ªæ•°é‡çº§ã€‚</p>
<p>æœ‰äº†æ›´å¥½çš„labelï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å¾—æ›´å‡†ç¡®çš„åŠ›åœºæ¨¡å‹ï¼Œè¿›è€Œå¯ä»¥åšæ›´å‡†çš„MDä»¿çœŸï¼Œæ¥åšæ›´å¥½çš„æ€§è´¨é¢„æµ‹ã€‚</p>
<p>å½“æˆ‘ä»¬åšäº†å¾ˆå¤šæ­£é—®é¢˜åï¼Œæˆ‘ä»¬å°±å¯ä»¥å†æ¬¡è®­ç»ƒæ¨¡å‹ï¼Œå»ç›´æ¥ç”Ÿæˆå¯èƒ½æ»¡è¶³æŸäº›æ€§è´¨çš„å°åˆ†å­çš„å€™é€‰ï¼Œè¿™å°±æ˜¯é€†é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è‹¥å¹²å·¥ä¸šé¢†åŸŸï¼ˆèƒ½æºã€åˆ¶è¯ï¼‰çš„æ ¸å¿ƒé—®é¢˜äº†ã€‚æˆ‘ä»¬çš„å›¢é˜Ÿå¼€å‘äº†Bamboo-MLFFå’ŒByteFFä¸¤ç±»åˆ†å­åŠ¨åŠ›å­¦åŠ›åœºï¼Œå¯¹åˆ†å­ã€å›ºä½“ä½“ç³»çš„æ€§è´¨è¿›è¡Œå‡†ç¡®é¢„æµ‹ã€‚å…¶ä¸­ByteFF-Polç›®å‰åœ¨æ— å®éªŒæ•°æ®zeroshoté¢„æµ‹ç”µè§£æ¶²æ€§è´¨ä¸Šå®ç°äº†ä¸šç•ŒSOTAçš„ç²¾åº¦ã€‚</p>
<p>è¿™äº›å·¥ä½œä¸ä»…ä»…åªåœ¨æˆ‘ä»¬çš„å®éªŒé‡Œã€‚æˆ‘ä»¬ä»Šå¹´å·²ç»å’ŒBYDæˆç«‹äº†è”åˆå®éªŒå®¤ï¼Œä¼šå°†é«˜é€šé‡è‡ªåŠ¨åŒ–å®éªŒä¸ç§‘å­¦è®¡ç®—ç®—æ³•ç»“åˆï¼Œæ¢ç´¢AI for Scienceåœ¨ç”µæ± ææ–™é¢†åŸŸçš„å·¥ä¸šè½åœ°åº”ç”¨ã€‚ç›®å‰ï¼ŒGPUåŠ é€ŸDFTè®¡ç®—ã€åŠ›åœº+åˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿã€é¢„æµ‹+è®¾è®¡æ¨¡å‹å‡å·²æŠ•å…¥ä¼ä¸šåˆä½œä¼™ä¼´çš„å®é™…åº”ç”¨ã€‚</p>
<p><strong>03.</strong></p>
<p><strong>2021ï¼ŒPICOâ€”â€”XRçš„æ¢ç´¢</strong></p>
<p>æ›´å¤šæŠ•èµ„åŸºç¡€æŠ€æœ¯ï¼Œè¿½æ±‚æ ¸å¿ƒä½“éªŒä¸Šå¤§å°é˜¶</p>
<p>å­—èŠ‚è·³åŠ¨çš„å‘å±•ç¦»ä¸å¼€ç¡¬ä»¶çš„é©æ–°å’Œè¿›æ­¥ã€‚å¤§å±æ‰‹æœºã€é«˜æ¸…cameraæ˜¯æŠ–éŸ³ã€tiktokè¿™æ ·äº§å“å‘å±•çš„åœŸå£¤ã€‚é‚£ï¼Œæ¥ä¸‹æ¥è¿˜æœ‰ä»€ä¹ˆäº¤äº’ä½“éªŒå¯ä»¥è¶…è¿‡è§†é¢‘å‘¢ï¼Ÿ</p>
<p>XRæ˜¯æœ‰æ½œåŠ›èƒ½å¸¦æ¥å…¨æ–°çš„ä½“éªŒã€‚2021å¹´ï¼Œå­—èŠ‚æ”¶è´­äº†Picoå›¢é˜Ÿã€‚</p>
<p>æ”¶è´­åï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªäº§å“è·¯çº¿åœ¨åŒæ—¶æ¨è¿›ã€‚ä¸€ä¸ªæ˜¯ï¼Œä»¥å½“å‰çš„äº§å“å½¢æ€ä¸ºä¸»ï¼ŒåŒæ—¶æŠ•å…¥èµ„æºè¿è¥è§†é¢‘ã€ç›´æ’­ç­‰å†…å®¹ï¼Œè¾ƒä¸ºæ¿€è¿›çš„è¥é”€ã€‚è·¯çº¿äºŒï¼Œæ˜¯æŠ•èµ„åŸºç¡€æŠ€æœ¯ï¼Œè¿½æ±‚æ ¸å¿ƒä½“éªŒä¸Šä¸€ä¸ªå¤§å°é˜¶ã€‚</p>
<p>2023å¹´ï¼Œæˆ‘ä»¬å†³å®šå‡å°‘å†…å®¹å’Œè¥é”€æŠ•å…¥ï¼Œæ›´åšå®šçš„æŠ•å…¥æŠ€æœ¯è·¯çº¿ã€‚è¿™æ˜¯å› ä¸ºå½“æ—¶äº§å“çš„ç¡¬ä»¶ä½“éªŒå°šæœªæˆç†Ÿï¼Œæ— æ³•æ”¯æ’‘å¤§è§„æ¨¡å¸‚åœºåº”ç”¨ã€‚è¿™ä¸ªè°ƒæ•´å½“æ—¶è¿˜å¸¦æ¥äº†ä¸€äº›è¯¯è§£ï¼Œä¸å°‘äººè¯´å­—èŠ‚ä¸åšè¿™ä¸ªæ–¹å‘äº†ã€‚å…¶å®æ°æ°ç›¸åï¼Œ23å¹´å¼€å§‹ï¼Œæˆ‘ä»¬åœ¨XRä¸Šçš„æŠ€æœ¯æŠ•å…¥æ¯”ä»¥å‰æ›´å¤šã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘æ¥åˆ†äº«ä¸€äº›è·¯çº¿äºŒä¸­çš„ä¸€äº›æŠ€æœ¯æ¢ç´¢ã€‚</p>
<p><strong>é¦–å…ˆæ˜¯æ¸…æ™°åº¦ã€‚</strong></p>
<p>XRè¦æ¨¡æ‹Ÿäººçœ¼è§‚å¯ŸçœŸå®ä¸–ç•Œçš„ä½“éªŒï¼Œå…³é”®æŒ‡æ ‡æ˜¯PPDï¼ˆæ¯åº¦åƒç´ æ•°ï¼‰ï¼Œå°±æ˜¯è¯´äººçœ¼ç›çœ‹ä¸€ä¸ªåº¦ï¼ˆdegreeï¼‰ï¼Œå¤§æ¦‚æœ‰å¤šå°‘åƒç´ ã€‚è¿™ä¸ªæŒ‡æ ‡å’Œè§‚çœ‹è·ç¦»ã€å±å¹• PPIï¼ˆåƒç´ å¯†åº¦ï¼‰å¼ºç›¸å…³ã€‚</p>
<p>PPDå¤§äº30å¤§æ¦‚å¯ä»¥çœ‹æ–‡å­—ï¼Œ40ä¼šæ¯”è¾ƒæ¸…æ™°ã€‚PPDåˆ°60çš„è§†è§‰ä½“éªŒæ¥è¿‘è§†ç½‘è†œçº§æ¸…æ™°åº¦ã€‚åœ¨ 2021å¹´ï¼ŒPico3ã€Quest2è¿™äº›ä¸»æµäº§å“çš„PPD å…¶å®æ˜¯å°äº20çš„ï¼Œè€Œä¸”è¿™è¿˜æ˜¯ä¸­å¿ƒåŒºåŸŸï¼Œå¦‚æœåˆ°è¾¹ç¼˜è¿˜è¦æ›´å·®ã€‚å¦‚æœä¸€ä¸ªXRäº§å“æ— æ³•çœ‹æ¸…æ¥šå­—ï¼Œé‚£ä½¿ç”¨åœºæ™¯è‚¯å®šå°±å¾ˆå±€é™ï¼Œè¿™æ˜¯è¦è§£å†³çš„ä¸€ä¸ªé‡è¦æŒ‘æˆ˜ã€‚</p>
<p>2022å¹´æˆ‘ä»¬å¼€å§‹ç ”ç©¶æ€ä¹ˆèƒ½åšå¥½ï¼Œæœ€åå†³å®šå’Œä¾›åº”å•†å¯åŠ¨MicroOLEDå®šåˆ¶ã€‚MicroOLEDæ˜¯ä¸€ç§åœ¨å•æ™¶ç¡…ç‰‡ä¸Šåˆ¶å¤‡ä¸»åŠ¨å‘å…‰å‹OLEDå™¨ä»¶çš„æ–°å‹æ˜¾ç¤ºæŠ€æœ¯ã€‚ç›¸æ¯”äºå…¶ä»–æ˜¾ç¤ºæŠ€æœ¯ï¼ˆå¦‚é«˜PPIçš„ LCDæ¶²æ™¶å±ï¼‰ï¼ŒmicroOLEDåœ¨å®ç°å•çœ¼4Kç­‰çº§çš„è¶…é«˜åˆ†è¾¨ç‡æ—¶ï¼Œä»ç„¶èƒ½å¤Ÿä¿æŒæ›´å°çš„é¢æ¿å°ºå¯¸ã€‚è¿™ä½¿å¾—å…‰å­¦æ˜¾ç¤ºç³»ç»Ÿå¾—ä»¥è¿›ä¸€æ­¥ç¼©å°ï¼Œä»è€Œè®©MRå¤´æ˜¾è½»ä¾¿çš„åŒæ—¶è·å¾—æ›´é«˜çš„PPIå’Œæ•´ä½“æ¸…æ™°åº¦ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62f6630d821c4422847fe7002e134fa8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=X9DTUAmQD00GW3Q9ERN%2BniQ74qU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚æœæˆ‘ä»¬å»å¯¹æ¯”iPhoneï¼ŒiPhone17ProMaxæ˜¯ 6.9è‹±å¯¸çš„ï¼Œå®ƒçš„PPIæ˜¯460ã€‚æˆ‘ä»¬åœ¨2022å¹´å®šåˆ¶MicroOLEDçš„ç›®æ ‡æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬è¦åšåˆ°è¿‘4000PPIï¼Œå¤§æ¦‚æ˜¯iPhone17æ¥è¿‘ä¹å€çš„é‡çº§ï¼Œæ‰€ä»¥è¿™ä¸ªäº‹æƒ…çš„æŒ‘æˆ˜æ˜¯éå¸¸å¤§çš„ã€‚</p>
<p>MicroOLEDè™½ç„¶å¯ä»¥æœ‰è¶…é«˜çš„PPIï¼Œä½†å®ƒæ¯ä¸ªåƒç´ ç‚¹éƒ½ç‰¹åˆ«å°ï¼Œå¯¼è‡´å±å¹•äº®åº¦ä¸Šé™è¾ƒä½ã€‚æˆ‘ä»¬é€šè¿‡å¯¼å…¥å¾®é€é•œï¼ˆMLAï¼‰æ¥æå‡äº®åº¦ï¼Œå‰¯ä½œç”¨æ˜¯è‰²äº®åº¦å‡ä¸€æ€§å˜å·®ã€‚è¿™å°±éœ€è¦ï¼Œç»“åˆå…‰å­¦è®¾è®¡ï¼Œé€šè¿‡ä¸»å…‰çº¿è§’ï¼ˆCRAï¼‰å®šåˆ¶å’Œç³»ç»Ÿæ€§è¡¥å¿ä¸Šçš„ä¸€äº›å·¥ä½œï¼Œè®©äº®åº¦å’Œè‰²äº®åº¦å‡ä¸€æ€§åŒæ—¶è¾¾åˆ°æœ€ä¼˜çŠ¶æ€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/caea4a1b0340477e95e63dc9f6041176~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=uf2UKxpOfdbghBtrv7sXrVpVcjQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨æˆ‘ä»¬å¯åŠ¨çš„é‚£ä¸ªæ—¶é—´ç‚¹ï¼Œå¸‚åœºä¸Šç°æœ‰çš„äº§å“åœ¨å¾ˆå¤šç»´åº¦ï¼ˆæ¯”å¦‚åˆ†è¾¨ç‡ã€äº®åº¦ã€åŠŸè€—ã€æˆæœ¬ç­‰ç­‰ï¼‰éƒ½æ— æ³•è¾¾åˆ°æˆ‘ä»¬çš„è¦æ±‚ã€‚æˆ‘ä»¬åªèƒ½è‡ªå·±å’Œä¾›åº”å•†ä¸€èµ·æŠŠä¸Šé¢æåˆ°çš„è¿™äº›ç¡¬ä»¶ã€è½¯ä»¶ã€ç®—æ³•çš„ä¸œè¥¿éƒ½è§£å†³å¥½æ‰è¡Œã€‚æˆ‘ä»¬å¤§æ¦‚2022å¹´å¼€å§‹å¯åŠ¨ï¼Œåˆ°ä»Šå¤©ï¼Œç»ˆäºè§£å†³çš„æ¯”è¾ƒå¥½äº†ã€‚æœ€ç»ˆçš„æˆå“ï¼Œå¹³å‡PPD40ï¼Œä¸­å¿ƒåŒºåŸŸè¶…è¿‡45ï¼Œåº”è¯¥è¯´æ˜¯è¡Œä¸šé¢†å…ˆäº†ã€‚</p>
<p><strong>MR ä¹Ÿæ˜¯é‡è¦çš„æŠ€æœ¯æŒ‘æˆ˜ã€‚</strong></p>
<p>ä¼ ç»Ÿçš„VRæ— æ³•çœ‹åˆ°ç°å®ï¼Œæ›´æ— æ³•åšåˆ°èåˆã€‚MRï¼ˆMixed Realityï¼‰ä»£è¡¨äº†æ–°ä¸€ä»£çš„æŠ€æœ¯ï¼šèƒ½å¤Ÿçœ‹åˆ°ç°å®ï¼Œå¹¶ä¸”èƒ½å¤ŸæŠŠè™šæ‹Ÿçš„ç‰©ä½“ä¸ç°å®ä¸–ç•Œèåˆã€‚ä½†è¿™ä¹Ÿå¸¦æ¥å·¨å¤§çš„æŠ€æœ¯æŒ‘æˆ˜ã€‚</p>
<p>æ¯”å¦‚SLAMæŠ€æœ¯ï¼Œæ ¸å¿ƒæ˜¯è®©å¤´æ˜¾ç²¾å‡†æ„ŸçŸ¥ç”¨æˆ·çš„ä½ç½®ä¸å§¿æ€è§’åº¦ï¼›è€Œä¸ºå®ç°è¿åŠ¨è¡¥å¿ï¼Œè¿˜éœ€è¿›ä¸€æ­¥ä¼°ç®—è¿åŠ¨é€Ÿåº¦ã€‚åŒæ—¶ï¼Œå¾®æ˜¾ç¤ºå±ä¸Šçš„é«˜æ¸…å›¾åƒï¼Œé€šè¿‡å…‰å­¦é•œå¤´åï¼Œä¼šæœ‰ç•¸å˜ï¼Œæ¯”å¦‚è¾¹ç¼˜è¢«æ‹‰ä¼¸ã€ä¸­å¿ƒè¢«æ”¾å¤§ï¼Œæ‰€ä»¥è¦åšé€†ç•¸å˜å¤„ç†ã€‚ä»æºå¤´åˆ°è¾“å‡ºï¼Œæ•´ä¸ªè¿‡ç¨‹çš„è®¡ç®—é‡éå¸¸å¤§ï¼Œè€Œä¸”éƒ½æ˜¯å¯¹é«˜æ¸…ã€é«˜å¸§ç‡çš„è§†é¢‘åšå®æ—¶çš„å¤„ç†ï¼Œåˆéœ€è¦ç‰¹åˆ«ä½çš„å»¶è¿Ÿã€‚åœ¨æœ‰é™çš„åŠŸè€—ç©ºé—´é‡Œï¼Œè¿™ä¸ªé—®é¢˜å°±ç‰¹åˆ«å›°éš¾ã€‚</p>
<p>å¦‚æœè¿™æ–¹é¢åšå¾—ä¸å¥½ï¼Œå°±ä¼šè®©äººäº§ç”Ÿçœ©æ™•æ„Ÿã€‚å¦‚ä½•ä½å»¶è¿Ÿã€é«˜ç²¾åº¦çš„å®Œæˆè¿™ä¸ªè®¡ç®—ï¼Œå°±æ˜¯æ ¸å¿ƒé—®é¢˜ã€‚è¿™é‡Œé¢ï¼Œå°±éœ€è¦æœ‰å¼ºå¤§ä¸”ä½åŠŸè€—çš„ç®—åŠ›ï¼Œéœ€è¦ä¸“ç”¨çš„èŠ¯ç‰‡æ‰èƒ½å¤Ÿåšåˆ°ã€‚</p>
<p>äºæ˜¯ï¼Œ2022å¹´6æœˆæˆ‘ä»¬æ­£å¼ç«‹é¡¹ï¼Œå…¨é“¾è·¯è‡ªç ”äº†ä¸€é¢—å¤´æ˜¾ä¸“ç”¨çš„æ¶ˆè´¹ç”µå­èŠ¯ç‰‡æ¥è§£å†³è¿™ä¸ªå¤„ç†ç“¶é¢ˆã€‚èŠ¯ç‰‡åœ¨2024å¹´å›ç‰‡ï¼Œç›®å‰è¿›å…¥é‡äº§é˜¶æ®µï¼Œå„é¡¹æŒ‡æ ‡å‡è¾¾åˆ°è®¾è®¡è¦æ±‚ã€‚</p>
<p>ç›®å‰åœ¨å®æµ‹ä¸­ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿå»¶è¿Ÿå¯ä»¥åšåˆ°12æ¯«ç§’å·¦å³ï¼Œè¿™æ˜¯éå¸¸ä¸å®¹æ˜“çš„ã€‚å³ä¾¿æ˜¯ä¸–ç•Œé¡¶å°–çš„å…¬å¸ï¼Œç”¨è½¯ä»¶æ¥åšçš„è¯ï¼Œä¹Ÿå¾ˆéš¾åœ¨ä¸æ˜æ˜¾ç‰ºç‰²ç”»è´¨çš„å‰æä¸‹æŠŠå»¶è¿Ÿå‹åˆ°25æ¯«ç§’ä»¥å†…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3e5878f6a3548dda8e409d2624d3da2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=bElok2LezWMOLvtdPZ4vvPT4AE0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é«˜ç²¾åº¦6DoFæµ‹è¯•</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5e72df87d304393af30ca6dffdf88ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=2XGyoUsJkHrAKzfFDiE5rXUugfU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é«˜ç²¾åº¦æ—¶å»¶æµ‹è¯•ç³»ç»Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/385fb883ef6345b08d232ff9efa4bbb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=V%2BlAYYrrj51Wpd38LNJNdVB%2FMUA%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/938e831230d5447db82ae1751fe7d804~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764671017&amp;x-signature=XEojNqLoh7VBM6s9chq7q5NdhqY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šç”¨3Dé‡å»ºæœºåˆ¶ä¸é«˜ç²¾åº¦æ‰‹åŠ¿æ•°æ®é‡‡é›†</p>
<p><strong>äº¤äº’çš„æŒ‘æˆ˜ä¹Ÿéå¸¸é‡è¦ã€‚</strong> æˆ‘ä»¬å¦‚æœå¸Œæœ›åšè™šå®èåˆï¼Œé‚£éœ€è¦å¯¹ç°å®ç¯å¢ƒåšè¯†åˆ«ã€‚æˆ‘ä»¬éœ€è¦éå¸¸é«˜ç²¾åº¦çš„ground truthè¿›è¡Œæ ¡å‡†ä¸è®­ç»ƒã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å»ºè®¾äº†ä¸“ä¸šçš„é«˜ç²¾åº¦æµ‹è¯•ç³»ç»Ÿã€‚</p>
<p>æ–°çš„MRè®¾å¤‡äº¤äº’ï¼Œéœ€è¦eye trackingï¼Œhand trackingï¼Œè¿™äº›ä¹Ÿéƒ½éœ€è¦é«˜ç²¾åº¦çš„ground truthã€‚åªæœ‰æœé›†åˆ°è¾ƒå¹¿æ³›çš„æ•°æ®ï¼Œæ‰æœ‰æœºä¼šè®©ä½“éªŒåœ¨æ›´å¹¿æ³›çš„äººç¾¤ä¸Šä¿æŒé²æ£’çš„é«˜ä½“éªŒã€‚æ‰€ä»¥æˆ‘ä»¬ä¹Ÿåšäº†ä¸“é—¨çš„3Dé‡å»ºæœºåˆ¶ä¸é«˜ç²¾åº¦æ‰‹åŠ¿æ•°æ®é‡‡é›†ç³»ç»Ÿã€‚</p>
<p>XRçš„è·¯è¿˜å¾ˆé•¿ï¼ŒæŒ‘æˆ˜ä¹Ÿå¾ˆå¤šã€‚ä¸Šé¢åªæ˜¯ä¸¾äº†ä¸€äº›æŠ€æœ¯çš„ä¾‹å­ã€‚26å¹´æˆ‘ä»¬å°±ä¼šæœ‰æ–°çš„äº§å“å‘å¸ƒï¼ŒæœŸæœ›æœªæ¥æˆ‘ä»¬é€šè¿‡æŒç»­çš„æŠ€æœ¯ç ”å‘ï¼Œèƒ½å¤Ÿç»™å¤§å®¶å¸¦æ¥ä½“éªŒæ›´å¥½çš„äº§å“ã€‚</p>
<p><strong>04.</strong></p>
<p><strong>2023ï¼Œå¤§æ¨¡å‹çš„æ—¶ä»£</strong></p>
<p>2022å¹´11æœˆ30æ—¥ï¼ŒChatGPTæ¨ªç©ºå‡ºä¸–ï¼Œ2023å¹´å¼•èµ·å¹¿æ³›å…³æ³¨ã€‚æˆ‘ä»¬åœ¨2021å¹´ï¼Œæœ‰è¿‡ä¸€æ¬¡æœºä¼šæ—©ç‚¹å…³æ³¨åˆ°ã€‚</p>
<p>å½“æ—¶æˆ‘ä»¬ä¸€ä¸ªåŒäº‹ï¼Œä¹Ÿè®­ç»ƒäº†ä¸€ä¸ªå¤§è¯­è¨€æ¨¡å‹ï¼Œä½†æˆ‘ä»¬ä¸çŸ¥é“å¹²ä»€ä¹ˆç”¨ã€‚æˆ‘ä»¬æƒ³ï¼Œæ˜¯å¦å¯ä»¥ç”¨æ¥æ”¹è¿›æœç´¢ï¼Ÿäºæ˜¯æŠŠè¿™ä¸ªpretrainçš„LLMï¼Œåœ¨æœç´¢çš„relevanceä»»åŠ¡ä¸Šå»fine tuneã€‚ç»“æœå’Œbertæ¨¡å‹åšå¯¹æ¯”ã€‚æå‡å¹…åº¦å¾ˆå°ï¼Œè®¡ç®—coståˆå¢åŠ å¾ˆå¤šã€‚äºæ˜¯å¾—åˆ°ä¸€ä¸ªç»“è®ºï¼Œè¿™ä¸ªLLMç›®å‰æ²¡ä»€ä¹ˆç”¨ã€‚æ‰€ä»¥è¿˜æ˜¯å¾ˆæ²¡çœ¼å…‰ã€‚</p>
<p>ä¸è¿‡å…¬å¸è°ƒæ•´å¾—å¾ˆå¿«ï¼Œåœ¨2022å¹´ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªæ–¹å‘ä¸Šå¼€å§‹æŠ•å…¥ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬ä¹Ÿå–å¾—äº†ä¸€äº›æˆæœã€‚åº”ç”¨ä¸Šå¤§å®¶å¯èƒ½æ›´ç†Ÿæ‚‰ä¸€äº›ï¼Œè±†åŒ…æ˜¯ä¸­å›½æœ€æµè¡Œçš„AIå¯¹è¯åŠ©æ‰‹ï¼Œç«å±±å¼•æ“çš„å¤§æ¨¡å‹æœåŠ¡ä¹Ÿå—åˆ°å®¢æˆ·çš„è®¤å¯ï¼Œæ ¹æ®IDCçš„æŠ¥å‘Šï¼Œç«å±±æ˜¯ä¸­å›½MaaSå¸‚åœºçš„ç¬¬ä¸€åã€‚</p>
<p>æŠ€æœ¯ä¸Šæˆ‘ä»¬ä¹Ÿæœ‰è‡ªå·±çš„ç‰¹ç‚¹ã€‚å¾—ç›Šä¹‹å‰çš„ä¸€äº›ç§¯ç´¯ï¼Œæˆ‘ä»¬åœ¨Infraæ–¹é¢åšçš„è¿˜æ˜¯æ¯”è¾ƒå¥½çš„ã€‚æˆ‘ä»¬å¾ˆæ—©å°±å»ºè®¾äº†å¤§è§„æ¨¡çš„ç¨³å®šè®­ç»ƒç³»ç»ŸMegaSacleï¼Œåœ¨è®­ç»ƒä»»åŠ¡ä¸Šï¼ŒMFUï¼ˆæµ®ç‚¹è¿ç®—åˆ©ç”¨ç‡ï¼‰è¶…è¿‡55% ï¼Œè¿™æ˜¯å½“æ—¶ä¸»æµå¼€æºæ¡†æ¶çš„1.3å€ä»¥ä¸Šï¼Œæ•ˆæœè¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»çœ‹æˆ‘ä»¬24å¹´å¹´åˆå‘çš„ç›¸å…³è®ºæ–‡ã€‚</p>
<p>æˆ‘ä»¬åœ¨æ¨¡å‹ç»“æ„ã€è‡ªç ”æœåŠ¡å™¨ä¸Šä¹Ÿæœ‰å¾ˆå¤šæ¢ç´¢ï¼Œè¿™ä¹Ÿè®©æˆ‘ä»¬å®ç°äº†å¤§æ¨¡å‹çš„ä½è°ƒç”¨æˆæœ¬ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨é€šè¿‡ç«å±±å¼•æ“æä¾›æœåŠ¡çš„æ—¶å€™ï¼Œæ‰èƒ½å¤Ÿæ‰“ç ´ä¸šç•Œä»·æ ¼ä¸‹é™ï¼ŒåŒæ—¶ä¿è¯è‡ªå·±æœ‰ä¸é”™çš„æ¯›åˆ©ã€‚</p>
<p>æˆ‘ä»¬çš„GenMediaæ¨¡å‹ã€VLMã€è¯­éŸ³æ¨¡å‹è¡¨ç°å¾ˆå¥½ï¼Œé•¿æœŸå±äºå›½é™…ä¸€æµæ°´å¹³ã€‚å¦å¤–ï¼Œåœ¨å¤§æ¨¡å‹çš„ç ”ç©¶æ–¹é¢è¿˜æœ‰ä¸€äº›æ›´å‰æ²¿çš„æ¢ç´¢ï¼Œæˆ‘ä»¬å«Seed Edgeè®¡åˆ’ã€‚æˆ‘ä¸å±•å¼€è®²äº†ã€‚</p>
<p>å¯¹æœªæ¥å¤§æ¨¡å‹å¦‚ä½•å‘å±•ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œä½†æ˜¯æˆ‘å¯ä»¥æå‡ ä¸ªå°é—®é¢˜ï¼Œå’Œå¤§å®¶ä¸€èµ·è®¨è®ºã€‚</p>
<p>å¤§å®¶éƒ½åœ¨è°ˆè®ºAGIï¼Œä½†ä»€ä¹ˆæ˜¯AGIï¼Œåº”è¯¥å¦‚ä½•è¯„ä¼°æ˜¯å¦åˆ°è¾¾AGIäº†ï¼Ÿ</p>
<p>å¤§å®¶éƒ½æœ‰ä¸åŒçš„çœ‹æ³•ï¼Œæˆ‘è¯´è¯´æˆ‘çš„ã€‚æˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªæ€æƒ³å®éªŒã€‚å‡è®¾æŠŠå…¨ä¸–ç•Œçš„äººç±»çš„å·¥ä½œï¼ˆåŒ…æ‹¬æœ€åˆçº§çš„å·¥ä½œï¼Œä¹ŸåŒ…æ‹¬æœ€é¡¶å°–ç§‘å­¦å®¶çš„å·¥ä½œï¼‰å…¨éƒ¨æ‹¿å‡ºæ¥ï¼Œè®©AIå»åšã€‚æˆ‘ä»¬å®šä¸€ä¸ªæ¯”ä¾‹ï¼Œæ¯”å¦‚95%ï¼Œå¦‚æœ95%çš„å·¥ä½œAIå…¨éƒ¨éƒ½èƒ½å®Œæˆï¼Œæˆ‘ä»¬å¯èƒ½å°±å¯ä»¥è¯´çœŸçš„è¾¾åˆ°AGIäº†ã€‚</p>
<p>AIçš„èƒ½åŠ›å‘å±•æ˜¯éå¸¸ä¸å‡è¡¡çš„ï¼Œä»Šå¤©å¤§æ¨¡å‹å¯ä»¥åœ¨å›½é™…æ•°å­¦å¥¥æ—åŒ¹å…‹ä¸Šæ‹¿åˆ°é‡‘ç‰Œï¼Œè¿™ææ€•å·²ç»è¶…è¿‡äº†99.9%çš„äººç±»ã€‚ä½†å¯¹äºå¾ˆå¤šå·¥ä½œï¼Œæ¯”å¦‚ï¼Œä¸€ä¸ªåˆä¸­ç”Ÿå¯ä»¥èƒœä»»çš„ç”µè¯å®¢æœå·¥ä½œï¼Œå¤§æ¨¡å‹ç›®å‰è¿˜ä¸èƒ½å®Œå…¨åšå¥½ã€‚</p>
<p>é‚£æˆ‘ä»¬ä»è¡¥çŸ­æ¿çš„è§’åº¦ç»§ç»­å»æ€è€ƒä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿä¸€ä¸ªæ¯”è¾ƒç›´è§‚çš„ï¼Œæ˜¯æ¨¡å‹çš„å­¦ä¹ èƒ½åŠ›ã€‚</p>
<p>ç›®å‰çš„å¤§æ¨¡å‹æ˜¯åˆ†é˜¶æ®µçš„ï¼Œè®­ç»ƒé˜¶æ®µå’Œæ¨ç†é˜¶æ®µã€‚å½“æ¨¡å‹éƒ¨ç½²åˆ°çº¿ä¸Šå¼€å§‹æœåŠ¡ï¼Œå°±ä¸å†è¢«è®­ç»ƒï¼Œæˆ–è€…è¯´ï¼Œåªèƒ½åšin context learningã€‚è¿™å’Œäººç±»æ˜¯ä¸ä¸€æ ·çš„ã€‚äººç±»æ˜¯æŒç»­åœ¨å­¦ä¹ çš„ã€‚</p>
<p>æ¯”å¦‚ç”µè¯å®¢æœï¼Œä¸€ä¸ªåæ ¡çš„åšå£«å¯èƒ½åˆšå¼€å§‹ä¹Ÿä¸çŸ¥é“æ€ä¹ˆåšå¥½ï¼Œä½†äººå¯ä»¥å¾ˆå¿«å­¦ä¹ ï¼Œå¯èƒ½ç”¨ä¸äº†å‡ å¤©å°±å¯ä»¥æŠŠå·¥ä½œåšå¥½äº†ã€‚è€Œä¸”äººçš„å­¦ä¹ æ•ˆç‡å¾ˆé«˜ï¼Œå¹¶ä¸”å……åˆ†åˆ©ç”¨ç¤¾ä¼šç¯å¢ƒï¼Œæ¯”å¦‚ä»–å¯ä»¥é—®ä¸€ä¸‹è€å‘˜å·¥æˆ–è€…ç»ç†è¯¥æ€ä¹ˆåšã€‚</p>
<p>æ‰€ä»¥è¯´ï¼Œå¦‚ä½•è®©å¤§æ¨¡å‹æé«˜å­¦ä¹ èƒ½åŠ›ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„é—®é¢˜ã€‚æœ€å¥½æ˜¯æ¯ä¸€ä¸ªäººéƒ½å¯ä»¥ä»¥ä»–çš„æ–¹å¼æ•™çŸ¥è¯†ç»™å¤§æ¨¡å‹ã€‚</p>
<p>ç¬¬äºŒä¸ªèƒ½åŠ›æ˜¯IOèƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯å’Œè¿™ä¸ªä¸–ç•Œäº¤äº’çš„èƒ½åŠ›ã€‚è¿™ä¸ªä¹Ÿæ˜¾è€Œæ˜“è§ã€‚å³ä¾¿åœ¨æ•°å­—ä¸–ç•Œï¼Œè™½ç„¶ç›®å‰çš„å¤§æ¨¡å‹ï¼Œåœ¨è§†é¢‘ã€å›¾ç‰‡åˆæˆæ–¹é¢çš„èƒ½åŠ›å·²ç»è¶…è¿‡äººç±»ï¼Œä½†æ˜¯åœ¨ä¼—å¤šå†…å®¹ç†è§£ã€ç•Œé¢æ“ä½œç­‰æ–¹é¢ï¼Œæ¨¡å‹è¿˜æ˜¯å’Œäººæœ‰æ¯”è¾ƒå¤§çš„è·ç¦»ã€‚</p>
<p>è¿™äº›éƒ½æ˜¯éå¸¸åŸºç¡€ï¼Œä½†éå¸¸å€¼å¾—ç ”ç©¶çš„é—®é¢˜ã€‚</p>
<p>æœ‰äººè¯´ï¼Œ2023å¹´æ˜¯äººç±»å†å²ä¸Šçš„ç¬¬3ä¸ªå¥‡è¿¹å¹´ï¼Œæˆ‘è§‰å¾—ä¸æ¯«ä¸ä¸ºè¿‡ã€‚AIçš„å‘å±•ç»™äººç±»ç¤¾ä¼šé¢„æœŸä¼šå¸¦æ¥å·¨å¤§çš„å˜é©ï¼Œè¿™åœºå˜é©é‡Œä¼šæœ‰æ— æ•°çš„é—®é¢˜ï¼Œéœ€è¦æŠ€æœ¯äººå»æ¢ç´¢ï¼Œå»è§£å†³ã€‚</p>
<p>å­—èŠ‚è·³åŠ¨ä¹Ÿä¼šåœ¨å¤§æ¨¡å‹ç­‰å‰æ²¿é¢†åŸŸï¼ŒæŒç»­è€å¿ƒçš„æ¢ç´¢ä¸‹å»ï¼Œå¸Œæœ›èƒ½å¤Ÿä¸ºäººç±»ç¤¾ä¼šè´¡çŒ®è‡ªå·±çš„åŠ›é‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»0-1å°è£…ä¸€ä¸ªReactç»„ä»¶]]></title>    <link>https://juejin.cn/post/7576371992615747620</link>    <guid>https://juejin.cn/post/7576371992615747620</guid>    <pubDate>2025-11-25T10:28:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576371992615747620" data-draft-id="7576369868418203684" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»0-1å°è£…ä¸€ä¸ªReactç»„ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-11-25T10:28:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¾™é¢œ"/> <meta itemprop="url" content="https://juejin.cn/user/632915059803614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»0-1å°è£…ä¸€ä¸ªReactç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/632915059803614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¾™é¢œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T10:28:42.000Z" title="Tue Nov 25 2025 10:28:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–ä¸å®‰è£…ä¾èµ–</h3>
<p>åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹å¹¶åˆå§‹åŒ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> my-button
<span class="hljs-built_in">cd</span> my-button
pnpm init
</code></pre>
<p>æ¥ä¸‹æ¥å®‰è£…ä¾èµ–ã€‚å¯¹äºç»„ä»¶åº“ï¼Œ<strong>æ ¸å¿ƒåŸåˆ™</strong>æ˜¯ï¼š</p>
<ol>
<li><code>react</code>Â å’ŒÂ <code>react-dom</code>Â åº”è¯¥æ˜¯Â <strong>Peer Dependencies</strong>ï¼ˆå®¿ä¸»ç¯å¢ƒæä¾›ï¼‰ï¼Œè€Œä¸æ˜¯æ‰“åŒ…è¿›å»ã€‚</li>
<li>æ„å»ºå·¥å…·å’Œç±»å‹å®šä¹‰æ˜¯Â <strong>Dev Dependencies</strong>ã€‚</li>
</ol>
<p>æ‰§è¡Œä¸‹é¢å‘½ä»¤</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…æ„å»ºå·¥å…·ã€nodeç±»å‹å®šä¹‰ã€TSã€Sassã€ç±»å‹å®šä¹‰ç”Ÿæˆæ’ä»¶ å’Œ è‡ªåŠ¨æ³¨å…¥æ ·å¼</span>
pnpm add -D vite@5 @types/node typescript sass vite-plugin-dts vite-plugin-lib-inject-css

<span class="hljs-comment"># 2. å®‰è£… React çš„ç±»å‹å®šä¹‰ (å¼€å‘æ—¶éœ€è¦ç”¨åˆ°ç±»å‹æç¤º)</span>
pnpm add -D @types/react @types/react-dom

<span class="hljs-comment"># 3. (å¯é€‰) å¦‚æœä½ å¼€å‘æ—¶éœ€è¦ç”¨åˆ° react çš„å…·ä½“ä»£ç æç¤ºï¼Œä¹Ÿå¯ä»¥è£…ä¸€ä¸‹ï¼Œä½†æœ€ç»ˆä¸ä¼šæ‰“åŒ…</span>
pnpm add -D react react-dom
</code></pre>
<h3 data-id="heading-1">ç¬¬äºŒæ­¥ï¼šæ‰‹åŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶</h3>
<h4 data-id="heading-2">1. åˆ›å»ºÂ <code>tsconfig.json</code></h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ES2020"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"useDefineForClassFields"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lib"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"ES2020"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"DOM"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"DOM.Iterable"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"skipLibCheck"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"moduleResolution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"bundler"</span> <span class="hljs-comment">/* Vite 5 æ¨è */</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"allowImportingTsExtensions"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"resolveJsonModule"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"isolatedModules"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"noEmit"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"jsx"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"react-jsx"</span> <span class="hljs-comment">/* å…³é”®ï¼šæ”¯æŒ React */</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"strict"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"declaration"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-comment">/* ç”Ÿæˆç±»å‹æ–‡ä»¶ */</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"declarationDir"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-3">2. åˆ›å»ºÂ <code>vite.config.ts</code></h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å¯¼å…¥ Vite é…ç½®å‡½æ•°å’Œæ‰€éœ€æ’ä»¶</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">"vite"</span>;
<span class="hljs-keyword">import</span> dts <span class="hljs-keyword">from</span> <span class="hljs-string">"vite-plugin-dts"</span>;
<span class="hljs-keyword">import</span> { libInjectCss } <span class="hljs-keyword">from</span> <span class="hljs-string">"vite-plugin-lib-inject-css"</span>;
<span class="hljs-keyword">import</span> { resolve } <span class="hljs-keyword">from</span> <span class="hljs-string">"path"</span>;

<span class="hljs-comment">// ä½¿ç”¨ defineConfig å®šä¹‰ Vite æ„å»ºé…ç½®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// é…ç½®ä½¿ç”¨çš„æ’ä»¶</span>
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-comment">// æ³¨å…¥ CSS åˆ°åº“ä¸­çš„æ’ä»¶</span>
    <span class="hljs-title function_">libInjectCss</span>(),
    <span class="hljs-comment">// ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶ï¼ˆ.d.tsï¼‰çš„æ’ä»¶</span>
    <span class="hljs-title function_">dts</span>({
      <span class="hljs-attr">include</span>: [<span class="hljs-string">"src/**/*.ts"</span>, <span class="hljs-string">"src/**/*.tsx"</span>], <span class="hljs-comment">// åŒ…å«çš„ TypeScript æ–‡ä»¶ç±»å‹</span>
      <span class="hljs-attr">outDir</span>: <span class="hljs-string">"dist"</span>, <span class="hljs-comment">// è¾“å‡ºç›®å½•</span>
      <span class="hljs-attr">rollupTypes</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ä½¿ç”¨ Rollup æ‰“åŒ…ç±»å‹</span>
    }),
  ],
  <span class="hljs-comment">// æ„å»ºé…ç½®</span>
  <span class="hljs-attr">build</span>: {
    <span class="hljs-comment">// åº“æ¨¡å¼é…ç½®</span>
    <span class="hljs-attr">lib</span>: {
      <span class="hljs-attr">entry</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"src/index.ts"</span>), <span class="hljs-comment">// åº“çš„å…¥å£æ–‡ä»¶</span>
      <span class="hljs-attr">name</span>: <span class="hljs-string">"MyButton"</span>, <span class="hljs-comment">// UMD æ ¼å¼çš„å…¨å±€å˜é‡å</span>
      <span class="hljs-attr">fileName</span>: <span class="hljs-function">(<span class="hljs-params">format</span>) =&gt;</span> <span class="hljs-string">`index.<span class="hljs-subst">${format}</span>.js`</span>, <span class="hljs-comment">// è¾“å‡ºæ–‡ä»¶åæ ¼å¼</span>
    },
    <span class="hljs-comment">// Rollup æ‰“åŒ…é…ç½®</span>
    <span class="hljs-attr">rollupOptions</span>: {
      <span class="hljs-comment">// å¤–éƒ¨åŒ–ä¾èµ–ï¼Œä¸æ‰“åŒ…è¿›åº“</span>
      <span class="hljs-attr">external</span>: [<span class="hljs-string">"react"</span>, <span class="hljs-string">"react-dom"</span>, <span class="hljs-string">"react/jsx-runtime"</span>],
      <span class="hljs-attr">output</span>: {
        <span class="hljs-comment">// é…ç½® UMD æ ¼å¼çš„å…¨å±€å˜é‡å</span>
        <span class="hljs-attr">globals</span>: {
          <span class="hljs-attr">react</span>: <span class="hljs-string">"React"</span>,
          <span class="hljs-string">"react-dom"</span>: <span class="hljs-string">"ReactDOM"</span>,
        },
      },
    },
    <span class="hljs-attr">sourcemap</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ç”Ÿæˆ sourcemap ä¾¿äºè°ƒè¯•</span>
    <span class="hljs-attr">emptyOutDir</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ„å»ºå‰æ¸…ç©ºè¾“å‡ºç›®å½•</span>
  },
});
</code></pre>
<h3 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼šæ„å»ºç›®å½•ç»“æ„ä¸æºç </h3>
<pre><code class="hljs language-text" lang="text">my-button/
â”œâ”€â”€ src/
â”‚ â”œâ”€â”€ components/ 
â”‚ â”‚ â””â”€â”€ MyButton/ 
â”‚ â”‚   â”œâ”€â”€ index.tsx 
â”‚ â”‚   â””â”€â”€ index.module.scss 
â”‚ â””â”€â”€ index.ts &lt;-- ç»Ÿä¸€å‡ºå£ 
â”œâ”€â”€ package.json 
â”œâ”€â”€ tsconfig.json 
â””â”€â”€ vite.config.ts
</code></pre>
<p><strong>ç¼–å†™ç»„ä»¶Â <code>src/components/Button/index.tsx</code></strong></p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">"./index.module.scss"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyButtonProps</span> {
  <span class="hljs-attr">label</span>: <span class="hljs-built_in">string</span>;
  onClick?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">MyButton</span> = (<span class="hljs-params">{ label, onClick }: MyButtonProps</span>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles[</span>"<span class="hljs-attr">my-btn</span>"]} <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>
      {label}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
};
</code></pre>
<p><strong>ç¼–å†™æ ·å¼Â <code>src/components/Button/index.module.scss</code></strong></p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@use</span> <span class="hljs-string">"sass:color"</span>;

<span class="hljs-selector-class">.my-btn</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#007bff</span>;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
  &amp;<span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">background-color</span>: color.<span class="hljs-built_in">adjust</span>(<span class="hljs-number">#007bff</span>, <span class="hljs-variable">$lightness</span>: -<span class="hljs-number">10%</span>);
  }
}
</code></pre>
<p><strong>ç¼–å†™å…¥å£Â <code>src/index.ts</code></strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/MyButton"</span>;
</code></pre>
<h3 data-id="heading-5">ç¬¬å››æ­¥ï¼šé…ç½® package.json (å…³é”®)</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"my-button"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A lightweight React component library"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/index.umd.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/index.es.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/index.d.ts"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"files"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"dist"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"exports"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"."</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"import"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/index.es.js"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"require"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/index.umd.js"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/index.d.ts"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"./index.css"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/index.css"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sideEffects"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"**/*.css"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsc &amp;&amp; vite build"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"peerDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"react"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt;=18.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"react-dom"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt;=18.0.0"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"keywords"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"my-button"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hql"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"license"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ISC"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"packageManager"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pnpm@10.14.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-comment">// ... è¿™é‡Œæ˜¯åˆšæ‰ pnpm add -D å®‰è£…çš„é‚£äº›</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åœ¨é¡¹ç›®ä»£ç ä¸­ä½¿ç”¨</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'my-button'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ç‚¹å‡»æˆ‘"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> alert('Works!')} /&gt;</span>;
}
</code></pre>
<h4 data-id="heading-6">æœ¬åœ°è°ƒè¯•çš„æ—¶å€™å¯ä»¥åœ¨é¡¹ç›®ä¸­ï¼Œä½¿ç”¨Vite Alias æ˜ å°„</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">alias</span>: { 
    <span class="hljs-comment">// å…³é”®é…ç½®ï¼šå°†åŒ…åæ˜ å°„åˆ°ç»„ä»¶åº“çš„ã€æºç å…¥å£ã€‘ </span>
    <span class="hljs-string">'my-button'</span>: <span class="hljs-string">'ç³»ç»Ÿè·¯å¾„/ç»„ä»¶åŒ…çš„æ–‡ä»¶å¤¹åç§°(my-button)/src/components/MyButton/index.tsx'</span>,
},
</code></pre>
<h4 data-id="heading-7">ä¿®æ”¹ä¸šåŠ¡é¡¹ç›®çš„Â <code>tsconfig.json</code>Â (å…³é”®)</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-comment">// ...å…¶ä»–é…ç½®</span>
    <span class="hljs-attr">"baseUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"."</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¯ç”¨ paths å¿…é¡»é…ç½® baseUrl</span>
    <span class="hljs-attr">"paths"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"my-button"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-comment">// è¿™é‡Œä¹Ÿè¦å¡«ç»å¯¹è·¯å¾„</span>
        <span class="hljs-string">"ç³»ç»Ÿè·¯å¾„/ç»„ä»¶åŒ…çš„æ–‡ä»¶å¤¹åç§°(my-button)/src/index.ts"</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

</code></pre>
<h4 data-id="heading-8">æ•ˆæœ</h4>
<ul>
<li><strong>æ— éœ€æ‰“åŒ…</strong>ï¼šä¸éœ€è¦åœ¨ç»„ä»¶åº“é‡Œè¿è¡ŒÂ <code>pnpm build</code>ã€‚</li>
<li><strong>å®æ—¶çƒ­æ›´</strong>ï¼šåœ¨Â <code>my-button</code>Â é‡Œæ”¹äº† SCSS é¢œè‰²ï¼ŒCtrl+S ä¿å­˜ï¼Œ<code>my-app</code>Â é¡µé¢<strong>æ¯«ç§’çº§</strong>è‡ªåŠ¨åˆ·æ–°æ ·å¼ã€‚</li>
<li><strong>æºç è°ƒè¯•</strong>ï¼šåœ¨æµè§ˆå™¨çš„ DevTools é‡Œçœ‹åˆ°çš„æºç æ˜¯ TS åŸæ–‡ä»¶ï¼Œè€Œä¸æ˜¯æ‰“åŒ…åçš„ JSï¼Œæ–­ç‚¹è°ƒè¯•éå¸¸æ–¹ä¾¿ã€‚</li>
<li><strong>é¿å… React å†²çª</strong>ï¼šå› ä¸ºç›´æ¥ç¼–è¯‘æºç ï¼Œç»„ä»¶åº“ä¼šç›´æ¥ä½¿ç”¨ä¸šåŠ¡é¡¹ç›®çš„ React å®ä¾‹ï¼Œå®Œç¾é¿å¼€ "Invalid Hook Call" é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-9">ç¬¬äº”æ­¥ï¼šæ‰“åŒ…ä¸æœ¬åœ°éªŒè¯</h3>
<ol>
<li>æ‰“åŒ… <code>pnpm build</code></li>
<li>æœ¬åœ°æ¨¡æ‹Ÿå‘å¸ƒ (æœ€ç¨³å¦¥çš„æµ‹è¯•æ–¹å¼) <code>pnpm pack</code></li>
<li>åœ¨ä¸šåŠ¡é¡¹ç›®ä¸­æµ‹è¯•ï¼Œæ‰¾ä¸€ä¸ªä½ æœ¬åœ°å…¶ä»–çš„ React é¡¹ç›®ï¼ˆæˆ–è€…éšä¾¿æ–°å»ºä¸€ä¸ªæµ‹è¯•é¡¹ç›®ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‡è®¾ä½ çš„ tgz æ–‡ä»¶è·¯å¾„æ˜¯ /Users/xxx/code/my-button/my-button-1.0.0.tgz</span>
pnpm add /ç»å¯¹è·¯å¾„/my-button-1.0.0.tgz
</code></pre>
<p>åœ¨ä»£ç ä¸­ä½¿ç”¨</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'my-button'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"ç‚¹å‡»æˆ‘"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> alert('Works!')} /&gt;</span>;
}
</code></pre>
<h3 data-id="heading-10">ç¬¬å…­é˜¶æ®µï¼šå‘å¸ƒåˆ° NPM</h3>
<h4 data-id="heading-11">1. å‡†å¤‡å·¥ä½œ</h4>
<p>ç¡®ä¿Â <code>package.json</code>Â ä¸­çš„Â <code>name</code>Â æ˜¯å”¯ä¸€çš„ï¼ˆå» npmjs.com æœä¸€ä¸‹ï¼‰ã€‚
ç¡®ä¿æ²¡æœ‰ç§æœ‰é…ç½®ï¼ˆå¦‚Â <code>.npmrc</code>Â æŒ‡å‘äº†å…¬å¸ç§æœ‰æºï¼‰ï¼Œå‘å¸ƒéœ€è¦æŒ‡å‘å®˜æ–¹æºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm config <span class="hljs-built_in">set</span> registry https://registry.npmjs.org/
</code></pre>
<h4 data-id="heading-12">2. ç™»å½•ä¸å‘å¸ƒ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç™»å½• npm (å¦‚æœæ²¡æœ‰è´¦å·éœ€å…ˆæ³¨å†Œ)</span>
npm login

<span class="hljs-comment"># å‡çº§ç‰ˆæœ¬å· (patch: 1.0.0 -&gt; 1.0.1)</span>
npm version patch

<span class="hljs-comment"># å‘å¸ƒ</span>
npm publish
</code></pre>
<h4 data-id="heading-13">3. éªŒè¯</h4>
<p>å‘å¸ƒæˆåŠŸåï¼Œåœ¨ä½ çš„ä¸šåŠ¡é¡¹ç›®ä¸­æŠŠä¹‹å‰çš„æœ¬åœ°å¼•ç”¨æ”¹å› npm å¼•ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm remove my-button
pnpm add my-button
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rustè¿›é˜¶å¿…å¤‡:thiserrorç”¨æ³•å…¨é¢è§£æ]]></title>    <link>https://juejin.cn/post/7576371992615845924</link>    <guid>https://juejin.cn/post/7576371992615845924</guid>    <pubDate>2025-11-25T10:51:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576371992615845924" data-draft-id="7576459005390127147" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rustè¿›é˜¶å¿…å¤‡:thiserrorç”¨æ³•å…¨é¢è§£æ"/> <meta itemprop="keywords" content="Rust"/> <meta itemprop="datePublished" content="2025-11-25T10:51:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é±¼ä¸ƒæˆé¥±"/> <meta itemprop="url" content="https://juejin.cn/user/3017475369480509"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rustè¿›é˜¶å¿…å¤‡:thiserrorç”¨æ³•å…¨é¢è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3017475369480509/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é±¼ä¸ƒæˆé¥±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T10:51:22.000Z" title="Tue Nov 25 2025 10:51:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>è¿™æ˜¯<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzk0NTYxMDEyOQ%3D%3D%26action%3Dgetalbum%26album_id%3D4231603980486688798%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzk0NTYxMDEyOQ==&amp;action=getalbum&amp;album_id=4231603980486688798#wechat_redirect" ref="nofollow noopener noreferrer">Rustä¹ä¹å…«åä¸€éš¾</a>ç¬¬åå››ç¯‡ï¼Œä»‹ç»ä¸‹thiserrorç»„ä»¶ã€‚ä¹‹å‰èŠè¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FvQB7YYq9t_oI4tl1DeqGVA" target="_blank" title="https://mp.weixin.qq.com/s/vQB7YYq9t_oI4tl1DeqGVA" ref="nofollow noopener noreferrer">anyhow</a>ï¼Œæåˆ°thiserror+anyhowæ‰æ˜¯æœ€ä½³ç»„åˆï¼Œè¿™æ¬¡æŠŠç¼ºå°‘çš„å†…å®¹è¡¥ä¸Šã€‚ç›®å‰Rustå·¥ç¨‹ç•Œæ™®éå¼•å…¥äº†thiserrorï¼ŒåŸå› æ˜¯å­˜åœ¨ä¸€äº›ç—›ç‚¹ï¼Œæ¯”å¦‚æ‰‹å†™ Display å¤ªéº»çƒ¦ï¼Œä¸šåŠ¡é€»è¾‘å¼€æ²¡æ•²ï¼Œå°±è¦å †æ ·æ¿ä»£ç ï¼Œç±»ä¼¼ä¸‹é¢è¿™ç§ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::fmt;

<span class="hljs-meta">#[derive(Debug)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">MyError</span> {
    <span class="hljs-title function_ invoke__">Config</span>(<span class="hljs-type">String</span>),
    <span class="hljs-title function_ invoke__">Io</span>(std::io::Error),
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">fmt</span>::Display <span class="hljs-keyword">for</span> <span class="hljs-title class_">MyError</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">fmt</span>(&amp;<span class="hljs-keyword">self</span>, f: &amp;<span class="hljs-keyword">mut</span> fmt::Formatter) <span class="hljs-punctuation">-&gt;</span> fmt::<span class="hljs-type">Result</span> {
        <span class="hljs-keyword">match</span> <span class="hljs-keyword">self</span> {
            MyError::<span class="hljs-title function_ invoke__">Config</span>(s) =&gt; <span class="hljs-built_in">write!</span>(f, <span class="hljs-string">"Config error: {}"</span>, s),
            MyError::<span class="hljs-title function_ invoke__">Io</span>(e) =&gt; <span class="hljs-built_in">write!</span>(f, <span class="hljs-string">"IO error: {}"</span>, e),
        }
    }
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">std</span>::error::Error <span class="hljs-keyword">for</span> <span class="hljs-title class_">MyError</span> {}
</code></pre>
<p>æˆ–è€…å†™å¤§é‡é”™è¯¯é—´çš„ <code>From</code> è½¬æ¢ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">impl</span> <span class="hljs-title class_">From</span>&lt;std::io::Error&gt; <span class="hljs-keyword">for</span> <span class="hljs-title class_">MyError</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">from</span>(e: std::io::Error) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        MyError::<span class="hljs-title function_ invoke__">Io</span>(e)
    }
}
</code></pre>
<p>thiserrorå¯ä»¥è¾ƒå¥½çš„è§£å†³è¿™äº›é—®é¢˜ï¼Œä¸‹é¢å…ˆå…¥ä¸ªé—¨ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ç®€å•å…¥é—¨</h2>
<p>è·Ÿä¹‹å‰ä¸€æ ·ï¼Œå…ˆå‘ä¸ªå…¥é—¨ç¤ºä¾‹ï¼Œå¤åˆ¶ç²˜è´´å°±å¯ä»¥è¿è¡Œï¼Œæ–¹ä¾¿ç†è§£ã€‚</p>
<ul>
<li>
<p>é¡¹ç›®ç»“æ„</p>
<pre><code class="hljs language-css" lang="css">thiserror-demo/
â”œâ”€â”€ Cargo<span class="hljs-selector-class">.toml</span>
â””â”€â”€ <span class="hljs-attribute">src</span>
    â””â”€â”€ <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.rs</span>
</code></pre>
</li>
<li>
<p>Cargo.toml, æ·»åŠ ä¾èµ–,<em>éœ€è¦ rustc 1.68 åŠä»¥ä¸Š</em></p>
<pre><code class="hljs language-yaml" lang="yaml">[<span class="hljs-string">package</span>]
<span class="hljs-string">name</span> <span class="hljs-string">=</span> <span class="hljs-string">"thiserror-demo"</span>
<span class="hljs-string">version</span> <span class="hljs-string">=</span> <span class="hljs-string">"0.1.0"</span>
<span class="hljs-string">edition</span> <span class="hljs-string">=</span> <span class="hljs-string">"2021"</span>

[<span class="hljs-string">dependencies</span>]
<span class="hljs-string">thiserror</span> <span class="hljs-string">=</span> <span class="hljs-string">"2"</span>
<span class="hljs-string">anyhow</span> <span class="hljs-string">=</span> <span class="hljs-string">"1"</span>
</code></pre>
</li>
<li>
<p>main.rs</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::fs::File;
<span class="hljs-keyword">use</span> std::io::{<span class="hljs-keyword">self</span>, Read};
<span class="hljs-keyword">use</span> thiserror::Error;

<span class="hljs-comment">/// è‡ªå®šä¹‰é”™è¯¯ç±»å‹</span>
<span class="hljs-meta">#[derive(Debug, Error)]</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">AppError</span> {
    <span class="hljs-comment">/// IO é”™è¯¯è‡ªåŠ¨è½¬æ¢</span>
    <span class="hljs-meta">#[error(<span class="hljs-string">"IO é”™è¯¯: {0}"</span>)]</span>
    <span class="hljs-title function_ invoke__">Io</span>(<span class="hljs-meta">#[from]</span> io::Error),

    <span class="hljs-comment">/// è‡ªå®šä¹‰é”™è¯¯</span>
    <span class="hljs-meta">#[error(<span class="hljs-string">"é…ç½®æ ¼å¼é”™è¯¯: {0}"</span>)]</span>
    <span class="hljs-title function_ invoke__">InvalidConfig</span>(<span class="hljs-type">String</span>),

    <span class="hljs-comment">/// anyhow ç”¨äºå…œåº•é”™è¯¯</span>
    <span class="hljs-meta">#[error(<span class="hljs-string">"å†…éƒ¨é”™è¯¯: {0}"</span>)]</span>
    <span class="hljs-title function_ invoke__">Internal</span>(<span class="hljs-meta">#[from]</span> anyhow::Error),
}

<span class="hljs-comment">/// è¯»å–é…ç½®æ–‡ä»¶</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">read_config</span>(path: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">String</span>, AppError&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">f</span> = File::<span class="hljs-title function_ invoke__">open</span>(path)?; <span class="hljs-comment">// è‡ªåŠ¨è½¬æˆ AppError::Io</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">new</span>();
    f.<span class="hljs-title function_ invoke__">read_to_string</span>(&amp;<span class="hljs-keyword">mut</span> s)?;
    <span class="hljs-keyword">if</span> !s.<span class="hljs-title function_ invoke__">starts_with</span>(<span class="hljs-string">"version"</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Err</span>(AppError::<span class="hljs-title function_ invoke__">InvalidConfig</span>(<span class="hljs-string">"ç¼ºå°‘ version å­—æ®µ"</span>.<span class="hljs-title function_ invoke__">into</span>()));
    }
    <span class="hljs-title function_ invoke__">Ok</span>(s)
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), AppError&gt; {
    <span class="hljs-keyword">match</span> <span class="hljs-title function_ invoke__">read_config</span>(<span class="hljs-string">"config.txt"</span>) {
        <span class="hljs-title function_ invoke__">Ok</span>(content) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"è¯»å–æˆåŠŸ:\n{content}"</span>),
        <span class="hljs-title function_ invoke__">Err</span>(err) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"å‘ç”Ÿé”™è¯¯: {err}"</span>),
    }
    <span class="hljs-title function_ invoke__">Ok</span>(())
}
</code></pre>
</li>
<li>
<p>cargo run</p>
<p>è¾“å‡ºï¼šå‘ç”Ÿé”™è¯¯: IO é”™è¯¯: No such file or directory (os error 2)</p>
</li>
</ul>
<h2 data-id="heading-2">äºŒã€æ ¸å¿ƒAPIä»‹ç»</h2>
<h3 data-id="heading-3">1ã€#[derive(Error)]+#[error(...)]</h3>
<ul>
<li>ç»™ enum æˆ– struct æ´¾ç”Ÿ <code>std::error::Error</code></li>
<li>å®šä¹‰ Display è¾“å‡ºï¼Œæ¸²æŸ“å ä½ç¬¦</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> thiserror::Error;

<span class="hljs-meta">#[derive(Error, Debug)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">MyError</span> {
    <span class="hljs-meta">#[error(<span class="hljs-string">"IO é”™è¯¯: {0}"</span>)]</span> <span class="hljs-comment">//å…ƒç»„ç»“æ„æˆ– enum çš„ç¬¬ 0 ä¸ªå­—æ®µdisplayæ‹¼æ¥åˆ°IOé”™è¯¯é‡Œ</span>
    <span class="hljs-title function_ invoke__">Io</span>(std::io::Error),

    <span class="hljs-meta">#[error(<span class="hljs-string">"è‡ªå®šä¹‰é”™è¯¯: {msg}"</span>)]</span> <span class="hljs-comment">//æ˜¾ç¤º msg çš„å†…å®¹</span>
    Custom { msg: <span class="hljs-type">String</span> },
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">demo_io_error</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), MyError&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">_</span> = std::fs::<span class="hljs-title function_ invoke__">read_to_string</span>(<span class="hljs-string">"ä¸å­˜åœ¨çš„æ–‡ä»¶.txt"</span>)
        .<span class="hljs-title function_ invoke__">map_err</span>(MyError::Io)?;
    <span class="hljs-title function_ invoke__">Ok</span>(())
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">demo_custom_error</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), MyError&gt; {
    <span class="hljs-title function_ invoke__">Err</span>(MyError::Custom { msg: <span class="hljs-string">"éæ³•çŠ¶æ€"</span>.<span class="hljs-title function_ invoke__">into</span>() })
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, <span class="hljs-title function_ invoke__">demo_io_error</span>().<span class="hljs-title function_ invoke__">unwrap_err</span>());<span class="hljs-comment">//è°ƒç”¨display</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{:?}"</span>, <span class="hljs-title function_ invoke__">demo_io_error</span>().<span class="hljs-title function_ invoke__">unwrap_err</span>());<span class="hljs-comment">//è°ƒç”¨Debug</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{:?}"</span>, <span class="hljs-title function_ invoke__">demo_custom_error</span>());<span class="hljs-comment">//è°ƒç”¨Debug</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, <span class="hljs-title function_ invoke__">demo_custom_error</span>().<span class="hljs-title function_ invoke__">unwrap_err</span>());<span class="hljs-comment">//è°ƒç”¨display</span>
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-css" lang="css">IO é”™è¯¯: No such file or directory (os error <span class="hljs-number">2</span>)
<span class="hljs-built_in">Io</span>(Os { <span class="hljs-selector-tag">code</span>: <span class="hljs-number">2</span>, kind: NotFound, message: <span class="hljs-string">"No such file or directory"</span> })
Err(Custom { msg: <span class="hljs-string">"éæ³•çŠ¶æ€"</span> })
è‡ªå®šä¹‰é”™è¯¯: éæ³•çŠ¶æ€
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>
<p>æ³¨æ„åŒºåˆ†debugå’Œdisplayï¼Œthiserroræ¸²æŸ“çš„æ˜¯displayå†…å®¹</p>
</li>
<li>
<p>å¼ºçƒˆå»ºè®®Debugå®ä¹ŸåŠ ä¸Šï¼Œæ–¹ä¾¿è°ƒè¯•ï¼Œä¸anyhowé…åˆæ‰“å°é”™è¯¯é“¾</p>
</li>
<li>
<p>{0} å¼•ç”¨ å…ƒç»„ç»“æ„æˆ– enum å˜ä½“çš„ç¬¬ 0 ä¸ªå­—æ®µï¼Œä¹Ÿå¯ä»¥å¤šä¸ªå’Œä½¿ç”¨å­—æ®µåï¼Œå¯ä»¥æ‹¼æ¥ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Debug, Error)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">StructError</span> {
    <span class="hljs-meta">#[error(<span class="hljs-string">"ç”¨æˆ·é”™è¯¯: {id} - {msg}"</span>)]</span>
    User { id: <span class="hljs-type">i32</span>, msg: <span class="hljs-type">String</span> },
}
</code></pre>
<p>å®ƒè°ƒç”¨çš„æ˜¯å­—æ®µ <strong>Display trait</strong>æ–¹æ³•ï¼Œæ¯”å¦‚std::io::Errorçš„displayè¾“å‡º</p>
</li>
</ul>
<h3 data-id="heading-4">2ã€è‡ªåŠ¨è½¬æ¢From ï¼š#[from]</h3>
<ul>
<li>è¯¥æ“ä½œè‡ªåŠ¨æŠŠä¸‹å±‚é”™è¯¯ç±»å‹è½¬æˆthiserror ç±»å‹</li>
<li>æ”¯æŒ <code>?</code> é“¾å¼è°ƒç”¨</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> thiserror::Error;

<span class="hljs-meta">#[derive(Error, Debug)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">AppError</span> {
    <span class="hljs-meta">#[error(<span class="hljs-string">"è§£æå¤±è´¥: {0}"</span>)]</span>
    <span class="hljs-title function_ invoke__">Parse</span>(<span class="hljs-meta">#[from]</span> std::num::ParseIntError),
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">demo_from</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">i32</span>, AppError&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s</span> = <span class="hljs-string">"abc"</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">n</span>: <span class="hljs-type">i32</span> = s.<span class="hljs-title function_ invoke__">parse</span>()?; <span class="hljs-comment">// parse è¿”å› ParseIntErrorï¼Œè‡ªåŠ¨è½¬AppError</span>
    <span class="hljs-title function_ invoke__">Ok</span>(n)
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, <span class="hljs-title function_ invoke__">demo_from</span>().<span class="hljs-title function_ invoke__">unwrap_err</span>());
  <span class="hljs-comment">//è§£æå¤±è´¥: invalid digit found in string</span>
}
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>
<p>#[from] è‡ªåŠ¨å®ç°äº†From for AppErrorï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">impl</span> <span class="hljs-title class_">From</span>&lt;ParseIntError&gt; <span class="hljs-keyword">for</span> <span class="hljs-title class_">AppError</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">from</span>(err: ParseIntError) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        AppError::<span class="hljs-title function_ invoke__">Parse</span>(err)
    }
}
</code></pre>
</li>
<li>
<p>parse è¿”å› ParseIntErroråèµ°åˆ°AppError::Parse(err)ï¼Œå®ç°é“¾å¼è°ƒç”¨ã€‚thiserror çš„ #[from] ä¼šè‡ªåŠ¨ç”Ÿæˆ <code>From</code> implï¼Œæ— éœ€æ‰‹åŠ¨å†™ã€‚</p>
</li>
</ul>
<h3 data-id="heading-5">3ã€è¿”å›åº•å±‚é”™è¯¯ï¼š#[source]</h3>
<h4 data-id="heading-6">3.1ã€åŸºæœ¬ä½¿ç”¨</h4>
<p>ä¸€ä¸ªå°èƒŒæ™¯ï¼š<code>std::error::Error</code> trait æœ‰ä¸€ä¸ªæ–¹æ³• <code>fn source(&amp;self) -&gt; Option&lt;&amp;(dyn Error + 'static)&gt;</code>å®ƒç”¨äºè¿”å› åº•å±‚å¼•èµ·å½“å‰é”™è¯¯çš„åŸå§‹é”™è¯¯,å¯ä»¥æ„å»º é”™è¯¯é“¾ï¼ˆerror chainï¼‰ï¼Œæ–¹ä¾¿è°ƒè¯•å’Œæ—¥å¿—æ‰“å°ã€‚</p>
<p>#[source] æ˜¾å¼æ ‡è®°ä¸€ä¸ªå­—æ®µæ˜¯â€œåº•å±‚é”™è¯¯â€ï¼Œç”Ÿæˆçš„ Error::source() ä¼šè¿”å›è¿™ä¸ªå­—æ®µã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Error, Debug)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">DbError</span> {
    <span class="hljs-meta">#[error(<span class="hljs-string">"æŸ¥è¯¢å¤±è´¥: {0}"</span>)]</span>
    <span class="hljs-title function_ invoke__">QueryFailed</span>(<span class="hljs-meta">#[source]</span> std::io::Error),
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">demo_source</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), DbError&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">_</span> = std::fs::<span class="hljs-title function_ invoke__">read_to_string</span>(<span class="hljs-string">"ä¸å­˜åœ¨çš„æ–‡ä»¶.txt"</span>)
        .<span class="hljs-title function_ invoke__">map_err</span>(DbError::QueryFailed)?;
    <span class="hljs-title function_ invoke__">Ok</span>(())
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">err</span> = <span class="hljs-title function_ invoke__">demo_source</span>().<span class="hljs-title function_ invoke__">unwrap_err</span>();
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, err);                 <span class="hljs-comment">// æŸ¥è¯¢å¤±è´¥: No such file or directory (os error 2)</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{:?}"</span>, err.<span class="hljs-title function_ invoke__">source</span>());      <span class="hljs-comment">// Some(Os { code: 2, kind: NotFound, message: "No such file or directory" })</span>
}
</code></pre>
<h4 data-id="heading-7">3.2ã€ç†è§£é”™è¯¯é“¾</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> thiserror::Error;
<span class="hljs-keyword">use</span> std::io;

<span class="hljs-meta">#[derive(Debug, Error)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">DbError</span> {
    <span class="hljs-meta">#[error(<span class="hljs-string">"æ•°æ®åº“æŸ¥è¯¢å¤±è´¥: {query}"</span>)]</span>
    Query {
        query: <span class="hljs-type">String</span>,
        <span class="hljs-meta">#[source]</span>
        source: io::Error,
    },
}

<span class="hljs-meta">#[derive(Debug, Error)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">AppError</span> {
    <span class="hljs-meta">#[error(<span class="hljs-string">"ä¸šåŠ¡å¤„ç†å¤±è´¥: {0}"</span>)]</span>
    <span class="hljs-title function_ invoke__">Db</span>(<span class="hljs-meta">#[from]</span> DbError),

    <span class="hljs-meta">#[error(<span class="hljs-string">"è§£æå¤±è´¥: {0}"</span>)]</span>
    <span class="hljs-title function_ invoke__">Parse</span>(<span class="hljs-meta">#[from]</span> std::num::ParseIntError),
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">db_layer</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), DbError&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">io_err</span> = io::Error::<span class="hljs-title function_ invoke__">new</span>(io::ErrorKind::NotFound, <span class="hljs-string">"æ–‡ä»¶ä¸å­˜åœ¨"</span>);
    <span class="hljs-title function_ invoke__">Err</span>(DbError::Query { query: <span class="hljs-string">"SELECT *"</span>.<span class="hljs-title function_ invoke__">into</span>(), source: io_err })
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">app_layer</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), AppError&gt; {
    <span class="hljs-comment">// åº•å±‚ db_layer é”™è¯¯é€šè¿‡ #[from] è‡ªåŠ¨è½¬æˆ AppError::Db</span>
    <span class="hljs-title function_ invoke__">db_layer</span>()?;
    <span class="hljs-title function_ invoke__">Ok</span>(())
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">err</span> = <span class="hljs-title function_ invoke__">app_layer</span>().<span class="hljs-title function_ invoke__">unwrap_err</span>();

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Display: {}"</span>, err);

    <span class="hljs-comment">// éå†å¤šå±‚ source</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">source</span> = err.<span class="hljs-title function_ invoke__">source</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">level</span> = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(s) = source {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Source level {}: {} ({:?})"</span>, level, s, s);
        source = s.<span class="hljs-title function_ invoke__">source</span>();
        level += <span class="hljs-number">1</span>;
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-attribute">Display</span>: ä¸šåŠ¡å¤„ç†å¤±è´¥: æ•°æ®åº“æŸ¥è¯¢å¤±è´¥: SELECT *
Source level <span class="hljs-number">1</span>: æ•°æ®åº“æŸ¥è¯¢å¤±è´¥: SELECT * (Query { <span class="hljs-attribute">query</span>: <span class="hljs-string">"SELECT *"</span>, <span class="hljs-attribute">source</span>: Custom { <span class="hljs-attribute">kind</span>: NotFound, <span class="hljs-attribute">error</span>: <span class="hljs-string">"æ–‡ä»¶ä¸å­˜åœ¨"</span> } })
Source level <span class="hljs-number">2</span>: æ–‡ä»¶ä¸å­˜åœ¨ (Custom { <span class="hljs-attribute">kind</span>: NotFound, <span class="hljs-attribute">error</span>: <span class="hljs-string">"æ–‡ä»¶ä¸å­˜åœ¨"</span> })
</code></pre>
<p>è¯´æ˜ï¼š</p>
<p>#[source] æ ‡è®°åº•å±‚é”™è¯¯ ï¼Œé…åˆError::source()è®¿é—®å±‚çº§é”™è¯¯</p>
<ul>
<li>
<p>aã€æœ€é¡¶å±‚ï¼šAppError::Db</p>
<ul>
<li>
<p>Display ï¼š"ä¸šåŠ¡å¤„ç†å¤±è´¥: æ•°æ®åº“æŸ¥è¯¢å¤±è´¥: SELECT *"</p>
</li>
<li>
<p>source() ï¼š DbError::Query</p>
</li>
</ul>
</li>
<li>
<p>bã€ä¸­é—´å±‚ï¼šDbError::Query</p>
<ul>
<li>
<p>Display ï¼š "æ•°æ®åº“æŸ¥è¯¢å¤±è´¥: SELECT *"</p>
</li>
<li>
<p>source() ï¼š io::Error</p>
</li>
</ul>
</li>
<li>
<p>cã€åº•å±‚ï¼šio::Error</p>
<ul>
<li>
<p>Display â†’ "æ–‡ä»¶ä¸å­˜åœ¨"</p>
</li>
<li>
<p>source() â†’ None</p>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-8">3.2ã€ #fromå’Œ#sourceä¸€èµ·ç”¨</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::error::Error;

<span class="hljs-keyword">use</span> std::io;
<span class="hljs-keyword">use</span> thiserror::Error;


<span class="hljs-meta">#[derive(Debug, Error)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">DbError</span> {
    <span class="hljs-meta">#[error(<span class="hljs-string">"æ•°æ®åº“æŸ¥è¯¢å¤±è´¥: {0}"</span>)]</span>
    <span class="hljs-title function_ invoke__">Query</span>(<span class="hljs-meta">#[from]</span><span class="hljs-meta">#[source]</span> io::Error),
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">db_layer</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), DbError&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">io_err</span> = io::Error::<span class="hljs-title function_ invoke__">new</span>(io::ErrorKind::NotFound, <span class="hljs-string">"æ–‡ä»¶ä¸å­˜åœ¨"</span>);
    <span class="hljs-title function_ invoke__">Err</span>(io_err.<span class="hljs-title function_ invoke__">into</span>())  <span class="hljs-comment">// #[from] æ”¯æŒè‡ªåŠ¨ From</span>
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">err</span> = <span class="hljs-title function_ invoke__">db_layer</span>().<span class="hljs-title function_ invoke__">unwrap_err</span>();
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Display: {}"</span>, err);        <span class="hljs-comment">// Display: æ•°æ®åº“æŸ¥è¯¢å¤±è´¥: æ–‡ä»¶ä¸å­˜åœ¨</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Source: {:?}"</span>, err.<span class="hljs-title function_ invoke__">source</span>()); <span class="hljs-comment">// Source: Some(Custom { kind: NotFound, error: "æ–‡ä»¶ä¸å­˜åœ¨" })</span>
}
</code></pre>
<ul>
<li>å­—æ®µç±»å‹å¿…é¡»å®ç° std::error::Errorï¼Œæ‰èƒ½ä½œä¸º source</li>
<li>åº“å±‚æšä¸¾ï¼ˆio::Errorã€sqlx::Error ç­‰ï¼‰å­—æ®µå¸¸ç”¨ <code>#[from]#[source]</code>ï¼Œæ–¹ä¾¿è¿½è¸ªï¼›åº”ç”¨å±‚ enum å¯ä»¥åªç”¨ <code>#[from]</code> æˆ–åªç”¨ <code>#[source]</code></li>
</ul>
<h3 data-id="heading-9">4ã€#[error(transparent)]</h3>
<ul>
<li>
<p>å°è£…åº•å±‚errorï¼Œé€æ˜ä¼ é€’åº•å±‚é”™è¯¯ï¼Œä¸æƒ³é¢å¤–åŠ å‰ç¼€æˆ–è€…ä¿¡æ¯.</p>
</li>
<li>
<p>å¸¸ç”¨äºåº“å±‚é”™è¯¯å°è£… + <code>#[from]</code> è‡ªåŠ¨è½¬æ¢</p>
</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> thiserror::Error;
<span class="hljs-keyword">use</span> std::io;

<span class="hljs-meta">#[derive(Debug, Error)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">MyError</span> {
    <span class="hljs-meta">#[error(transparent)]</span>
    <span class="hljs-title function_ invoke__">Io</span>(<span class="hljs-meta">#[from]</span> io::Error),
}

<span class="hljs-comment">/// è‡ªå®šä¹‰é”™è¯¯ç±»å‹</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">read_file</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">String</span>, MyError&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">content</span> = std::fs::<span class="hljs-title function_ invoke__">read_to_string</span>(<span class="hljs-string">"ä¸å­˜åœ¨.txt"</span>)?; <span class="hljs-comment">// io::Error -&gt; MyError::Io</span>
    <span class="hljs-title function_ invoke__">Ok</span>(content)
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">err</span> = <span class="hljs-title function_ invoke__">read_file</span>().<span class="hljs-title function_ invoke__">unwrap_err</span>();
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Display: {}"</span>, err);         <span class="hljs-comment">// ç›´æ¥æ˜¾ç¤ºåº•å±‚ io::Error çš„ä¿¡æ¯ï¼šDisplay: No such file or directory (os error 2)</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Source: {:?}"</span>, err); <span class="hljs-comment">// è¿”å› io::Errorï¼šSource: Io(Os { code: 2, kind: NotFound, message: "No such file or directory" })</span>
}
</code></pre>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>
<p>åªæ”¯æŒå•ä¸ªå­—æ®µ</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[error(transparent)]</span>
<span class="hljs-title function_ invoke__">Io</span>(<span class="hljs-meta">#[from]</span> io::Error); <span class="hljs-comment">// èƒ½ç¼–è¯‘é€šè¿‡</span>
Io { source: io::Error, code: <span class="hljs-type">i32</span> } <span class="hljs-comment">// ç¼–è¯‘å¤±è´¥ï¼Œä¸æ”¯æŒå¤šä¸ªå­—æ®µ</span>
</code></pre>
</li>
</ul>
<h3 data-id="heading-10">5ã€backtrace</h3>
<p>æ•è·æ„é€ é”™è¯¯æ—¶çš„é”™è¯¯å †æ ˆã€‚thiserror è‡ªåŠ¨è°ƒç”¨ <code>Backtrace::capture()</code>å­˜è¿›å»ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(thiserror::Error, Debug)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">MyError</span> {
    <span class="hljs-meta">#[error(<span class="hljs-string">"IO å¤±è´¥"</span>)]</span>
    Io {
        <span class="hljs-meta">#[from]</span>
        source: std::io::Error,

        <span class="hljs-meta">#[backtrace]</span>
        backtrace: std::backtrace::Backtrace,
    }
}
</code></pre>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>Rust åœ¨é»˜è®¤æƒ…å†µä¸‹ç¦ç”¨ backtraceï¼ˆä¸ºäº†æ€§èƒ½ï¼‰</li>
<li>è¦æ±‚ä½¿ç”¨ nightly ç¼–è¯‘å™¨ï¼Œä¸” Rust ç‰ˆæœ¬ä¸º 1.73 æˆ–æ›´é«˜</li>
</ul>
<h3 data-id="heading-11"/>
<h2 data-id="heading-12">ä¸‰ã€ä¸€äº›é«˜çº§æŠ€å·§</h2>
<h3 data-id="heading-13">1ã€ç”¨ <code>#[error(transparent)]</code> å®ç° â€œerror wrapperâ€</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Error, Debug)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">AppError</span> {
    <span class="hljs-meta">#[error(transparent)]</span>
    <span class="hljs-title function_ invoke__">Db</span>(<span class="hljs-meta">#[from]</span> sqlx::Error),

    <span class="hljs-meta">#[error(transparent)]</span>
    <span class="hljs-title function_ invoke__">Anyhow</span>(<span class="hljs-meta">#[from]</span> anyhow::Error),

    <span class="hljs-meta">#[error(<span class="hljs-string">"ä¸šåŠ¡é”™è¯¯: {0}"</span>)]</span>
    <span class="hljs-title function_ invoke__">Biz</span>(<span class="hljs-type">String</span>),
}
</code></pre>
<ul>
<li>
<p>ç»Ÿä¸€é”™è¯¯å‡ºå£</p>
</li>
<li>
<p>SQLx/Reqwest/IO/Anyhow çš„é”™è¯¯è‡ªåŠ¨è½¬å‹</p>
</li>
<li>
<p>æœ€å AppError åš API/Trace è½¬æ¢</p>
</li>
</ul>
<h3 data-id="heading-14">2ã€ç»“åˆ <code>#[source]</code> ä¸ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰å­—æ®µ</h3>
<p>ç»“æ„åŒ–å¤„ç†é”™è¯¯ï¼Œè§£å†³åªæœ‰åº•å±‚æŠ¥é”™ä½†ç¼ºä¹ä¸šåŠ¡ä¸Šä¸‹æ–‡ï¼ˆå¦‚æ–‡ä»¶åã€è¡Œå·ã€è¯·æ±‚IDï¼‰çš„é—®é¢˜ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> thiserror::Error;
<span class="hljs-keyword">use</span> std::path::PathBuf;
<span class="hljs-keyword">use</span> std::fs::File;
<span class="hljs-keyword">use</span> std::io;

<span class="hljs-meta">#[derive(Error, Debug)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ConfigError</span> {
    <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œä¸èƒ½ç”¨#[from]ï¼Œå› ä¸ºéœ€è¦é¢å¤–çš„ path å­—æ®µ</span>
    <span class="hljs-comment">// #[source]å‘Šè¯‰thiserrorè¿™ä¸ªå­—æ®µæ˜¯åº•å±‚é”™è¯¯æº</span>
    <span class="hljs-meta">#[error(<span class="hljs-string">"è¯»å–é…ç½®æ–‡ä»¶ '{path}' å¤±è´¥"</span>)]</span>
    ReadFailed {
        path: PathBuf,
        <span class="hljs-meta">#[source]</span>
        source: io::Error,
    },
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">load_config</span>(path: PathBuf) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), ConfigError&gt; {
    <span class="hljs-comment">// æ‰‹åŠ¨map_erræ³¨å…¥pathä¸Šä¸‹æ–‡</span>
    File::<span class="hljs-title function_ invoke__">open</span>(&amp;path).<span class="hljs-title function_ invoke__">map_err</span>(|e| ConfigError::ReadFailed {
        path: path.<span class="hljs-title function_ invoke__">clone</span>(),
        source: e,
    })?;
    <span class="hljs-title function_ invoke__">Ok</span>(())
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">path</span> = PathBuf::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"missing_config.toml"</span>);
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Err</span>(e) = <span class="hljs-title function_ invoke__">load_config</span>(path) {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, e); <span class="hljs-comment">// è¾“å‡º: è¯»å–é…ç½®æ–‡ä»¶ 'missing_config.toml' å¤±è´¥</span>
        
        <span class="hljs-comment">// éªŒè¯ source é“¾</span>
        <span class="hljs-keyword">use</span> std::error::Error;
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(src) = e.<span class="hljs-title function_ invoke__">source</span>() {
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Caused by: {}"</span>, src); <span class="hljs-comment">// è¾“å‡º: Caused by: No such file or directory</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-15">3ã€å¤„ç†æ³›å‹é”™è¯¯ï¼ˆGeneric Errorsï¼‰</h3>
<p>é”™è¯¯ç±»å‹éœ€è¦åŒ…å«ç”¨æˆ·è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œæˆ–è€…é”™è¯¯çš„å…·ä½“ç±»å‹ç”±æ³›å‹å†³å®šã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> thiserror::Error;
<span class="hljs-keyword">use</span> std::fmt::<span class="hljs-built_in">Debug</span>;

<span class="hljs-comment">// T å¿…é¡»æ»¡è¶³ Debug å’Œ Displayï¼Œä»¥ä¾¿èƒ½è¢« #[error] å®ä½¿ç”¨</span>
<span class="hljs-meta">#[derive(Error, Debug)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ParseError</span>&lt;T: <span class="hljs-built_in">Debug</span> + std::fmt::Display&gt; {
    <span class="hljs-meta">#[error(<span class="hljs-string">"åœ¨ä½ç½® {location} å‘ç°éæ³• Token: {token}"</span>)]</span>
    InvalidToken {
        token: T,
        location: <span class="hljs-type">usize</span>,
    },
    
    <span class="hljs-meta">#[error(<span class="hljs-string">"æœªçŸ¥çš„å¤„ç†é”™è¯¯"</span>)]</span>
    Unknown,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">err</span> = ParseError::InvalidToken {
        token: <span class="hljs-string">"EOF"</span>, <span class="hljs-comment">// è¿™é‡Œ T æ˜¯ &amp;str</span>
        location: <span class="hljs-number">42</span>,
    };
    
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, err);
}
</code></pre>
<h3 data-id="heading-16">4ã€æšä¸¾åˆ†å±‚æ‹†åˆ†ï¼ˆæ¨¡å—åŒ–é”™è¯¯ï¼‰</h3>
<p>å¯ä»¥è¿™æ ·å®šä¹‰</p>
<pre><code class="hljs language-rust" lang="rust">errors/
    â”œâ”€ <span class="hljs-keyword">mod</span>.rs
    â”œâ”€ io_error.rs
    â”œâ”€ service_error.rs
    â””â”€ db_error.rs
</code></pre>
<p>ç„¶åç»Ÿä¸€ wrapï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta">#[derive(Error, Debug)]</span>
pub <span class="hljs-built_in">enum</span> AppError {
    <span class="hljs-meta">#[<span class="hljs-keyword">error</span>(transparent)]</span>
    Io(<span class="hljs-meta">#[from] IoError),</span>

    <span class="hljs-meta">#[<span class="hljs-keyword">error</span>(transparent)]</span>
    Db(<span class="hljs-meta">#[from] DbError),</span>
}
</code></pre>
<h3 data-id="heading-17">5ã€ä¸anyhowæ€ä¹ˆåˆ†ç•Œ</h3>
<p>ç®€å•è¯´thiserrorè´Ÿè´£â€œäº§å‡ºâ€é”™è¯¯ï¼Œanyhow è´Ÿè´£â€œæ¶ˆè´¹â€é”™è¯¯ã€‚</p>
<ul>
<li>
<p>åº“ä»£ç ç”¨thiserrorï¼Œæ¯”å¦‚dbï¼Œcache</p>
</li>
<li>
<p>ä¸šåŠ¡å±‚ä¼˜å…ˆ thiserrorï¼Œå¤æ‚é“¾è·¯å¯ç»“åˆï¼Œé”™è¯¯ç©¿é€åˆ° mainç”¨anyhow</p>
<ul>
<li>
<p>æ•°æ®åº“ã€HTTPã€åºåˆ—åŒ–ï¼š<strong>thiserror</strong></p>
</li>
<li>
<p>å…¥å£å±‚ï¼ˆController / handlerï¼‰ï¼š<strong>anyhow + Context</strong></p>
</li>
</ul>
</li>
<li>
<p>åœ¨ Web æœåŠ¡ä¸­ï¼Œé€šå¸¸ Controller/Handler å±‚æ˜¯åˆ†ç•Œçº¿ã€‚</p>
<ul>
<li>Service å±‚è¿”å› <code>Result&lt;T, AppError&gt;</code> (ç”¨ <code>thiserror</code>)ã€‚</li>
<li>Handler æ•è· <code>AppError</code>ï¼Œå°†å…¶è½¬æ¢ä¸º HTTP Responseã€‚</li>
<li>å¦‚æœ Service å±‚é‡åˆ°æ„æ–™ä¹‹å¤–çš„ bugï¼ˆæ¯”å¦‚ panic æˆ–ä¸å¯æ¢å¤çš„ IO é”™ï¼‰ï¼Œæ‰ä¼šè¢« <code>anyhow</code> æ•è·å¹¶è®°å½•ä¸º 500 é”™è¯¯ã€‚</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> thiserror::Error;
<span class="hljs-keyword">use</span> anyhow::{Context, <span class="hljs-type">Result</span>};

<span class="hljs-comment">// ==========================================</span>
<span class="hljs-comment">// 1. è¾¹ç•Œä¸‹å±‚ï¼šåŸºç¡€è®¾æ–½ / åº“ (thiserror é¢†åŸŸ)</span>
<span class="hljs-comment">// ==========================================</span>

<span class="hljs-meta">#[derive(Error, Debug)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">DbError</span> {
    <span class="hljs-meta">#[error(<span class="hljs-string">"è¿æ¥æ•°æ®åº“å¤±è´¥"</span>)]</span>
    ConnectionFailed,
    <span class="hljs-meta">#[error(<span class="hljs-string">"æŸ¥è¯¢è¯­æ³•é”™è¯¯"</span>)]</span>
    QueryError,
}

<span class="hljs-comment">// å‡½æ•°ç­¾åï¼šåªå¯èƒ½çŠ¯è¿™ä¸¤ç§é”™</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">query_user_from_db</span>(id: <span class="hljs-type">u32</span>) <span class="hljs-punctuation">-&gt;</span> std::result::<span class="hljs-type">Result</span>&lt;<span class="hljs-type">String</span>, DbError&gt; {
    <span class="hljs-keyword">if</span> id == <span class="hljs-number">0</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Err</span>(DbError::ConnectionFailed);
    }
    <span class="hljs-title function_ invoke__">Ok</span>(<span class="hljs-string">"Alice"</span>.<span class="hljs-title function_ invoke__">to_string</span>())
}

<span class="hljs-comment">// ==========================================</span>
<span class="hljs-comment">// 2. è¾¹ç•Œä¸Šå±‚ï¼šä¸šåŠ¡é€»è¾‘ / åº”ç”¨ (anyhow é¢†åŸŸ)</span>
<span class="hljs-comment">// ==========================================</span>

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">handle_request</span>(user_id: <span class="hljs-type">u32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">String</span>&gt; {
    <span class="hljs-comment">// ğŸ”¥ åˆ†ç•Œç‚¹åœ¨è¿™é‡Œï¼ ğŸ”¥</span>
    <span class="hljs-comment">// æˆ‘ä»¬è°ƒç”¨äº†è¿”å›å…·ä½“é”™è¯¯çš„åº•å±‚å‡½æ•°ï¼Œ</span>
    <span class="hljs-comment">// ä½†æˆ‘ä»¬ç«‹åˆ»ç”¨ context() æŠŠå®ƒè½¬æ¢æˆäº† anyhow::Errorã€‚</span>
    <span class="hljs-comment">// ä»è¿™ä¸€è¡Œå¼€å§‹ï¼Œå…·ä½“çš„ DbError ç±»å‹ä¿¡æ¯è¢«â€œæ“¦é™¤â€äº†ï¼Œ</span>
    <span class="hljs-comment">// å˜æˆäº†ä¸€ä¸ªé€šç”¨çš„é”™è¯¯å¯¹è±¡ã€‚</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">user</span> = <span class="hljs-title function_ invoke__">query_user_from_db</span>(user_id)
        .<span class="hljs-title function_ invoke__">context</span>(<span class="hljs-built_in">format!</span>(<span class="hljs-string">"å¤„ç†ç”¨æˆ·è¯·æ±‚ ID:{} å¤±è´¥"</span>, user_id))?;

    <span class="hljs-title function_ invoke__">Ok</span>(user)
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Err</span>(e) = <span class="hljs-title function_ invoke__">handle_request</span>(<span class="hljs-number">0</span>) {
        eprintln!(<span class="hljs-string">"Error: {:?}"</span>, e);
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœï¼š</p>
<pre><code class="hljs language-c" lang="c">Error: å¤„ç†ç”¨æˆ·è¯·æ±‚ ID:<span class="hljs-number">0</span> å¤±è´¥

Caused by:
    è¿æ¥æ•°æ®åº“å¤±è´¥

Stack backtrace:
   <span class="hljs-number">0</span>: <span class="hljs-built_in">std</span>::backtrace_rs::backtrace::libunwind::trace
             at /rustc/ed61e7d7e242494fb7057f2657300d9e77bb4fcb/library/<span class="hljs-built_in">std</span>/src/../../backtrace/src/backtrace/libunwind.rs:<span class="hljs-number">117</span>:<span class="hljs-number">9</span>
</code></pre>
<p>æ—¢æœ‰é€‚åˆè¿”å›çš„Errorï¼Œä¹Ÿæœ‰é€‚åˆæŸ¥è¯¢é”™çš„casued by</p>
<h2 data-id="heading-18">å››ã€æ€»ç»“</h2>
<p>æœ¬æ–‡ä»‹ç»äº†thiserrorçš„åŸºæœ¬ä½¿ç”¨å’Œé«˜çº§æŠ€å·§ã€‚ä»axumå’Œthiserrorå®˜æ–¹çœ‹ï¼Œæ¨èanyhow+thiserrorç»„åˆã€‚ä½†æ˜¯è¿™ä¿©ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œæ¯”å¦‚é”™è¯¯å±‚çº§å¤šåŒ¹é…å›°éš¾ï¼Œè¿˜éœ€ç»“åˆerror-stackç­‰åº“ä¸€èµ·ç”¨ã€‚</p>
<p>å¦‚æœè§‰å¾—æœ¬æ–‡æœ‰ç”¨ï¼Œè¯·ç‚¹ä¸ªå…³æ³¨å§ï¼Œæœ¬äººå…¬ä¼—å·<strong>å¤§é±¼ä¸ƒæˆé¥±</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµè§ˆå™¨æ¸²æŸ“åŸç†]]></title>    <link>https://juejin.cn/post/7576245169844715560</link>    <guid>https://juejin.cn/post/7576245169844715560</guid>    <pubDate>2025-11-25T09:04:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576245169844715560" data-draft-id="7574958975159681067" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµè§ˆå™¨æ¸²æŸ“åŸç†"/> <meta itemprop="keywords" content="å‰ç«¯,æµè§ˆå™¨"/> <meta itemprop="datePublished" content="2025-11-25T09:04:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·76173635401"/> <meta itemprop="url" content="https://juejin.cn/user/1616697170860848"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµè§ˆå™¨æ¸²æŸ“åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1616697170860848/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·76173635401
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:04:57.000Z" title="Tue Nov 25 2025 09:04:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ—¥å¸¸é¢è¯•ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š <strong>â€œåœ¨æµè§ˆå™¨è¾“å…¥ URL åï¼Œé¡µé¢æ˜¯å¦‚ä½•å±•ç°å‡ºæ¥çš„ï¼Ÿâ€</strong><br/>
è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„é—®é¢˜ï¼Œå…¶å®èƒŒåæ¶‰åŠæµè§ˆå™¨æ¸²æŸ“ã€ç½‘ç»œè¯·æ±‚ã€è§£ææ‰§è¡Œç­‰ä¸€ç³»åˆ—å¤æ‚æµç¨‹ã€‚æœ¬æ–‡å°†èšç„¦äº <strong>æµè§ˆå™¨æ¸²æŸ“åŸç†</strong>ï¼Œå¸¦ä½ æ¢³å®Œæ•´è¿‡ç¨‹ï¼ˆæœ¬æ–‡ä¸»è¦è®²è§£æ¸²æŸ“è¿›ç¨‹çš„å·¥ä½œï¼Œç½‘ç»œè¿›ç¨‹è¿™é‡Œä¸è¯¦ç»†è§£é‡Šï¼‰ã€‚</p>
<hr/>
<p>æ•´ä¸ªè¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªå…³é”®æ­¥éª¤ï¼š</p>
<ol>
<li><strong>æµè§ˆå™¨è§£æ URL å¹¶å‘èµ·è¯·æ±‚</strong> â€”â€” æµè§ˆå™¨é¦–å…ˆä¼šè§£æä½ åœ¨åœ°å€æ è¾“å…¥çš„ URLï¼Œç»è¿‡ DNS æŸ¥è¯¢ã€TCP/TLS è¿æ¥å»ºç«‹ç­‰æ­¥éª¤ï¼Œå°†è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ã€‚</li>
<li><strong>è§£æå’Œæ¸²æŸ“è¿”å›ç»“æœ</strong> â€”â€” æµè§ˆå™¨æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ HTMLã€CSSã€JS ç­‰èµ„æºåï¼Œä¼šä¾æ¬¡è§£æã€æ„å»º DOMã€CSSOMç­‰ï¼Œæœ€ç»ˆé€šè¿‡æ¸²æŸ“å¼•æ“å°†é¡µé¢å‘ˆç°å‡ºæ¥ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-0">æµè§ˆå™¨è§£æ URL</h2>
<blockquote>
<p>å‚è€ƒèµ„æ–™ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.chrome.com%2Fblog%2Finside-browser-part2%3Fhl%3Dzh-cn" target="_blank" title="https://developer.chrome.com/blog/inside-browser-part2?hl=zh-cn" ref="nofollow noopener noreferrer">Chrome å®˜æ–¹åšå®¢ï¼šå¯¼èˆªè¿‡ç¨‹ä¸­ä¼šå‘ç”Ÿä»€ä¹ˆ</a></p>
</blockquote>
<h4 data-id="heading-1">ç¬¬ 1 æ­¥ï¼šå¤„ç†è¾“å…¥</h4>
<p>å½“ç”¨æˆ·åœ¨åœ°å€æ è¾“å…¥å†…å®¹æ—¶ï¼Œæµè§ˆå™¨è¿›ç¨‹ä¸­çš„ <strong>ç•Œé¢çº¿ç¨‹</strong> ä¼šç«‹å³å¯åŠ¨ï¼Œåˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„æ˜¯æœç´¢å…³é”®è¯è¿˜æ˜¯ç½‘å€ï¼Œå¹¶æ®æ­¤å†³å®šï¼šè¦ä¹ˆå°†è¯·æ±‚å®šå‘åˆ°æœç´¢å¼•æ“ï¼Œè¦ä¹ˆç›´æ¥è®¿é—®æŒ‡å®šç½‘ç«™ã€‚</p>
<h4 data-id="heading-2">ç¬¬ 2 æ­¥ï¼šå¼€å§‹å¯¼èˆª</h4>
<p>ç”¨æˆ·æŒ‰ä¸‹ <strong>Enter</strong> é”®åï¼ŒUI çº¿ç¨‹ä¼šå‘èµ·ç½‘ç»œè¯·æ±‚ä»¥è·å–ç½‘ç«™å†…å®¹ã€‚æ­¤æ—¶ï¼Œæ ‡ç­¾é¡µè§’è½ä¼šæ˜¾ç¤ºåŠ è½½æ—‹è½¬å›¾æ ‡ï¼Œæç¤ºé¡µé¢æ­£åœ¨åŠ è½½ã€‚</p>
<p>ç½‘ç»œçº¿ç¨‹ä¼šæŒ‰ç…§ç½‘ç»œåè®®å¤„ç†è¯·æ±‚ï¼ŒåŒ…æ‹¬ <strong>DNS æŸ¥è¯¢</strong> å’Œå»ºç«‹ <strong>TLS è¿æ¥</strong>ï¼ˆå¦‚æœæ˜¯ HTTPSï¼‰ã€‚</p>
<p>è‹¥æœåŠ¡å™¨è¿”å› HTTP 301 ç­‰é‡å®šå‘å“åº”ï¼Œç½‘ç»œçº¿ç¨‹ä¼šé€šçŸ¥ UI çº¿ç¨‹ï¼Œå¹¶æ ¹æ®é‡å®šå‘åœ°å€å‘èµ·æ–°çš„è¯·æ±‚ï¼Œå®Œæˆå¯¼èˆªæµç¨‹ã€‚</p>
<h4 data-id="heading-3">ç¬¬ 3 æ­¥ï¼šè¯»å–å“åº”</h4>
<p>ç½‘ç»œçº¿ç¨‹å¼€å§‹æ¥æ”¶æœåŠ¡å™¨è¿”å›çš„å“åº”æ•°æ®ï¼ˆè½½è·ï¼‰ï¼Œå¹¶æŸ¥çœ‹å‰å‡ ä¸ªå­—èŠ‚ä»¥åˆ¤æ–­å†…å®¹ç±»å‹ã€‚è™½ç„¶å“åº”å¤´ä¸­çš„ <code>Content-Type</code> åº”æŒ‡æ˜æ•°æ®ç±»å‹ï¼Œä½†ç”±äºå¯èƒ½ç¼ºå¤±æˆ–é”™è¯¯ï¼Œæµè§ˆå™¨ä¼šæ‰§è¡Œ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fdocs%2FWeb%2FHTTP%2FBasics_of_HTTP%2FMIME_types" target="_blank" title="https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/MIME_types" ref="nofollow noopener noreferrer">MIME ç±»å‹å—…æ¢</a></strong>ã€‚</p>
<ul>
<li>å¦‚æœå“åº”æ˜¯ HTMLï¼Œæ•°æ®ä¼šä¼ é€’ç»™æ¸²æŸ“è¿›ç¨‹è¿›è¡Œæ¸²æŸ“ã€‚</li>
<li>å¦‚æœæ˜¯ ZIP æˆ–å…¶ä»–æ–‡ä»¶ï¼Œåˆ™äº¤ç”±ä¸‹è½½ç®¡ç†å™¨å¤„ç†ã€‚</li>
</ul>
<p>åŒæ—¶ï¼Œæµè§ˆå™¨ä¼šè¿›è¡Œå®‰å…¨æ£€æŸ¥ï¼š</p>
<ul>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fsafebrowsing.google.com%2F%3Fhl%3Dzh-cn" target="_blank" title="https://safebrowsing.google.com/?hl=zh-cn" ref="nofollow noopener noreferrer">Safe Browsing</a></strong>ï¼šæ£€æŸ¥åŸŸåå’Œå†…å®¹æ˜¯å¦ä¸ºå·²çŸ¥æ¶æ„ç½‘ç«™ã€‚</li>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.chromium.org%2FHome%2Fchromium-security%2Fcorb-for-developers" target="_blank" title="https://www.chromium.org/Home/chromium-security/corb-for-developers" ref="nofollow noopener noreferrer">è·¨æºè¯»å–é˜»æ­¢ (CORB)</a></strong> ï¼šé˜²æ­¢æ•æ„Ÿè·¨ç«™æ•°æ®æ³„æ¼åˆ°æ¸²æŸ“è¿›ç¨‹ã€‚</li>
</ul>
<h4 data-id="heading-4">ç¬¬ 4 æ­¥ï¼šæŸ¥æ‰¾æ¸²æŸ“è¿›ç¨‹</h4>
<p>å®Œæˆå®‰å…¨æ£€æŸ¥åï¼Œå¦‚æœç½‘ç»œçº¿ç¨‹ç¡®è®¤å¯¼èˆªå¯ç»§ç»­ï¼Œå®ƒä¼šé€šçŸ¥<strong>ç•Œé¢çº¿ç¨‹</strong>ï¼Œç•Œé¢çº¿ç¨‹éšåæŸ¥æ‰¾æˆ–å¯åŠ¨åˆé€‚çš„ <strong>æ¸²æŸ“è¿›ç¨‹</strong>ï¼Œä»¥å‡†å¤‡æ¸²æŸ“ç½‘é¡µã€‚</p>
<blockquote>
<p><strong>ä¼˜åŒ–æœºåˆ¶</strong>ï¼šç”±äºç½‘ç»œè¯·æ±‚å¯èƒ½éœ€è¦æ•°ç™¾æ¯«ç§’ï¼Œæµè§ˆå™¨ä¼šåœ¨ç¬¬ 2 æ­¥å‘èµ·è¯·æ±‚æ—¶ï¼Œå°±å°è¯•å¹¶è¡Œå¯åŠ¨æ¸²æŸ“è¿›ç¨‹ã€‚è¿™æ„å‘³ç€å½“æ•°æ®åˆ°è¾¾æ—¶ï¼Œæ¸²æŸ“è¿›ç¨‹é€šå¸¸å·²å¤„äºå¾…æœºçŠ¶æ€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">è§£æå’Œæ¸²æŸ“è¿”å›ç»“æœ</h2>
<p>å½“æ•°æ®å’Œæ¸²æŸ“è¿›ç¨‹éƒ½å‡†å¤‡å°±ç»ªåï¼Œæµè§ˆå™¨è¿›ç¨‹ä¼šå‘æ¸²æŸ“è¿›ç¨‹å‘é€ä¸€æ¬¡ <strong>æäº¤å¯¼èˆªï¼ˆCommit Navigationï¼‰</strong> çš„ IPC ä¿¡å·ï¼Œå¹¶å°†æ¥è‡ªæœåŠ¡å™¨çš„ HTML æ•°æ®æµäº¤ç»™æ¸²æŸ“è¿›ç¨‹ã€‚<br/>
æ¸²æŸ“è¿›ç¨‹åœ¨æ¥æ”¶åˆ°è¯¥æŒ‡ä»¤åï¼Œä¼šå°†â€œè§£æ HTMLâ€çš„å·¥ä½œåŠ å…¥è‡ªèº« <strong>æ¸²æŸ“ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰</strong> çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚</p>
<p>åœ¨äº‹ä»¶å¾ªç¯æœºåˆ¶çš„è°ƒåº¦ä¸‹ï¼Œæ¸²æŸ“ä¸»çº¿ç¨‹ä»é˜Ÿåˆ—ä¸­å–å‡ºè¯¥ä»»åŠ¡å¹¶å¼€å§‹æ‰§è¡Œï¼Œæ­£å¼è¿›å…¥æ¸²æŸ“æµç¨‹ã€‚</p>
<p>æ•´ä½“çš„æ¸²æŸ“æ­¥éª¤å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78ac066d56ee404291026058c318acda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NzYxNzM2MzU0MDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666297&amp;x-signature=pL2TpJUasPOtiV9o0yjYSymX55A%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-6">ç¬¬ 1 æ­¥ï¼šè§£æ HTML ä¸æ„å»º DOM / CSSOM</h4>
<p>æœåŠ¡å™¨è¿”å›çš„ HTML æœ¬è´¨ä¸Šæ˜¯ <strong>å­—èŠ‚æµ</strong>ï¼Œæµè§ˆå™¨ä¼šå°†å…¶è§£ç ä¸º <strong>å­—ç¬¦ä¸²</strong>ï¼Œå†è¿›ä¸€æ­¥è§£ææˆå¯æ“ä½œçš„æ•°æ®ç»“æ„â€”â€”è¿™å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„ <strong>DOM æ ‘</strong>ã€‚åŒæ ·ï¼ŒCSS ä¹Ÿä¼šè¢«è§£ææˆå¯¹åº”çš„ <strong>CSSOM æ ‘</strong>ã€‚</p>
<p>åœ¨è§£æè¿‡ç¨‹ä¸­ï¼š</p>
<ul>
<li><strong>é‡åˆ° HTML æ ‡ç­¾</strong> â‡’ ä¸»çº¿ç¨‹å°†å…¶è½¬æ¢ä¸º DOM èŠ‚ç‚¹å¹¶åŠ å…¥ DOM æ ‘ä¸­ï¼ˆæ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯ <code>document</code>ï¼‰ã€‚</li>
<li><strong>é‡åˆ° CSS</strong> â‡’ æ ¹æ®å±‚å è§„åˆ™è§£æç”Ÿæˆ CSSOM æ ‘ï¼ˆæ ¹èŠ‚ç‚¹ä¸º <code>StyleSheetList</code>ï¼‰ã€‚</li>
</ul>
<blockquote>
<p>åœ¨æµè§ˆå™¨è§£æ HTML æ—¶ï¼Œå³ä½¿é‡åˆ° <code>&lt;link&gt;</code> æˆ– <code>&lt;style&gt;</code> æ ‡ç­¾ï¼Œä¸»çº¿ç¨‹ä¹Ÿä¼šç»§ç»­å‘ä¸‹è§£æ HTMLï¼Œè€Œä¸ä¼šè¢«é˜»å¡ã€‚è¿™æ˜¯å› ä¸ºæµè§ˆå™¨ä¼šå¯åŠ¨ä¸€ä¸ª <strong>é¢„è§£æçº¿ç¨‹ï¼ˆPreload Scannerï¼‰</strong>ï¼Œæå‰å‘ç°å¹¶ä¸‹è½½ CSS ç­‰å¤–éƒ¨èµ„æºã€‚
CSS çš„ä¸‹è½½å’Œå‡†å¤‡å·¥ä½œåœ¨è¿™ä¸ªé¢„è§£æçº¿ç¨‹ä¸­å®Œæˆï¼Œä¸ä¼šå ç”¨ä¸»çº¿ç¨‹ï¼Œæ‰€ä»¥CSS ä¸ä¼šé˜»å¡ HTML è§£æã€‚åªæœ‰å½“ HTML æ„å»ºå®Œæˆã€CSS ä¸‹è½½å®Œæ¯•åï¼Œæµè§ˆå™¨æ‰ä¼šåˆ©ç”¨ CSS ç”Ÿæˆ <strong>CSSOM æ ‘</strong>ï¼Œä¸ DOM æ ‘ç»“åˆå½¢æˆ <strong>æ¸²æŸ“æ ‘</strong>ï¼Œç”¨äºåç»­é¡µé¢ç»˜åˆ¶ã€‚
é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæµè§ˆå™¨å®ç°äº† <strong>DOM æ„å»ºä¸ CSS ä¸‹è½½çš„å¹¶è¡Œ</strong>ï¼Œæé«˜äº†è§£ææ•ˆç‡ï¼ŒåŒæ—¶ä¿è¯é¡µé¢æ¸²æŸ“çš„æ­£ç¡®æ€§ã€‚</p>
</blockquote>
<blockquote>
<p>å½“æµè§ˆå™¨è§£æåˆ° <code>&lt;script&gt;</code> æ ‡ç­¾æ—¶ï¼Œä¼šæš‚åœ DOM çš„æ„å»ºï¼Œç­‰å¾…å¤–éƒ¨è„šæœ¬ä¸‹è½½å®Œæˆï¼Œå¹¶åœ¨ä¸»çº¿ç¨‹ä¸­å®Œæˆè§£æä¸æ‰§è¡Œã€‚<br/>
åŸå› åœ¨äºï¼š<strong>JavaScript æœ‰èƒ½åŠ›é€šè¿‡ <code>document.write</code>ã€DOM API ç­‰æ–¹å¼ç›´æ¥ä¿®æ”¹æ­£åœ¨æ„å»ºçš„ DOM ç»“æ„</strong>ã€‚<br/>
å¦‚æœä¸æš‚åœè§£æï¼Œä¸€è¾¹æ„å»º DOMã€ä¸€è¾¹æ‰§è¡Œ JSï¼Œå°±å¯èƒ½å¯¼è‡´ DOM çŠ¶æ€å‡ºç°ä¸ä¸€è‡´ã€‚
å› æ­¤ï¼Œä¸ºäº†ä¿è¯ DOM æ„å»ºè¿‡ç¨‹çš„æ­£ç¡®æ€§å’Œå¯é¢„æµ‹æ€§ï¼Œæµè§ˆå™¨å¿…é¡»ä¸­æ–­ HTML è§£æï¼Œä¼˜å…ˆæ‰§è¡Œè„šæœ¬ã€‚è¿™å°±æ˜¯ <strong>JavaScript ä¼šé˜»å¡ DOM æ„å»ºçš„æ ¹æœ¬åŸå› </strong>ã€‚</p>
</blockquote>
<p>åœ¨è§£æç»“æŸä¹‹åï¼Œä¼šå¾—åˆ°ï¼š<strong>DOM æ ‘</strong> å’Œ<strong>CSSOM æ ‘</strong></p>
<hr/>
<h4 data-id="heading-7">ç¬¬ 2 æ­¥ï¼šæ ·å¼è®¡ç®—</h4>
<p>ä¸»çº¿ç¨‹ä¼šéå†æ„å»ºå®Œæˆçš„ DOM æ ‘ï¼Œå¹¶ä¸ºæ ‘ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹è®¡ç®—å‡ºå®ƒçš„æœ€ç»ˆæ ·å¼ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º <strong>æ ·å¼è®¡ç®—ï¼ˆComputed Styleï¼‰</strong> ã€‚<br/>
æ ·å¼è®¡ç®—ç»“æŸåï¼Œæˆ‘ä»¬è·å¾—çš„æ˜¯ä¸€æ£µâ€œé™„å¸¦æœ€ç»ˆæ ·å¼ä¿¡æ¯çš„ DOM æ ‘â€ï¼Œä¸ºåç»­å¸ƒå±€é˜¶æ®µæä¾›åŸºç¡€ã€‚</p>
<blockquote>
<p>å…³äºæ ·å¼è®¡ç®—çš„å…·ä½“ç»†èŠ‚ï¼Œå¯ä»¥å‚è€ƒæˆ‘å¦ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/7567009647632007183" target="_blank" title="https://juejin.cn/post/7567009647632007183">æ ·å¼è®¡ç®—</a></p>
</blockquote>
<hr/>
<h4 data-id="heading-8">ç¬¬ 3 æ­¥ï¼šå¸ƒå±€</h4>
<p>å¸ƒå±€ï¼ˆLayoutï¼‰æ˜¯æµè§ˆå™¨ç¡®å®šé¡µé¢ä¸­æ¯ä¸ªå…ƒç´ å‡ ä½•ä½ç½®å’Œå¤§å°çš„è¿‡ç¨‹ã€‚ä¸»çº¿ç¨‹ä¼šéå† <strong>DOM æ ‘</strong>ï¼Œç»“åˆè®¡ç®—åçš„æ ·å¼ä¿¡æ¯ï¼Œç”ŸæˆåŒ…å« <strong>åæ ‡ã€è¾¹ç•Œæ¡†å°ºå¯¸</strong> ç­‰å‡ ä½•ä¿¡æ¯çš„ <strong>å¸ƒå±€æ ‘ï¼ˆLayout Treeï¼‰</strong> ã€‚</p>
<p>å¸ƒå±€æ ‘ä¸ DOM æ ‘çš„ç»“æ„ç±»ä¼¼ï¼Œä½†åªåŒ…å« <strong>å®é™…åœ¨é¡µé¢ä¸­æ˜¾ç¤ºçš„å†…å®¹</strong>ï¼š</p>
<ul>
<li>åº”ç”¨ <code>display: none</code> çš„å…ƒç´ ä¸ä¼šå‡ºç°åœ¨å¸ƒå±€æ ‘ä¸­ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰å‡ ä½•ä¿¡æ¯ã€‚</li>
<li>åº”ç”¨ <code>visibility: hidden</code> çš„å…ƒç´ ä»ç„¶ä¼šåœ¨å¸ƒå±€æ ‘ä¸­ä¿ç•™ä½ç½®å’Œå°ºå¯¸ä¿¡æ¯ã€‚</li>
<li>ä¼ªå…ƒç´ ï¼ˆå¦‚ <code>p::before { content: "Hi!"; }</code>ï¼‰è™½ç„¶ä¸åœ¨ DOM æ ‘ä¸­ï¼Œä½†å…·æœ‰å‡ ä½•ä¿¡æ¯ï¼Œå› æ­¤ä¼šå‡ºç°åœ¨å¸ƒå±€æ ‘ä¸­ã€‚</li>
<li>å…¶ä»–æƒ…å†µå¦‚åŒ¿åå—ç›’ã€åŒ¿åè¡Œç›’ç­‰ï¼Œä¹Ÿä¼šå¯¼è‡´å¸ƒå±€æ ‘ä¸ DOM æ ‘ä¸å®Œå…¨ä¸€ä¸€å¯¹åº”ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ<strong>DOM æ ‘å’Œå¸ƒå±€æ ‘å¹¶éä¸¥æ ¼å¯¹åº”</strong>ï¼Œå¸ƒå±€æ ‘åªå…³æ³¨ç”¨äºæ¸²æŸ“çš„å‡ ä½•ä¿¡æ¯ï¼Œè€Œéå®Œæ•´çš„ DOM ç»“æ„ã€‚</p>
<hr/>
<h4 data-id="heading-9">ç¬¬ 4 æ­¥ï¼šåˆ†å±‚</h4>
<p>ä¸ºäº†ç¡®å®šå“ªäº›å…ƒç´ éœ€è¦ä½äºå“ªäº›å±‚ï¼Œæµè§ˆå™¨ä¸»çº¿ç¨‹ä¼šéå† <strong>å¸ƒå±€æ ‘</strong> å¹¶ç”Ÿæˆ <strong>å±‚æ ‘ï¼ˆLayer Treeï¼‰</strong> ã€‚åœ¨ Chrome DevTools çš„æ€§èƒ½é¢æ¿ä¸­ï¼Œè¿™ä¸€é˜¶æ®µé€šå¸¸æ˜¾ç¤ºä¸ºâ€œæ›´æ–°å±‚æ ‘â€ã€‚</p>
<blockquote>
<p>åˆ†å±‚çš„æ ¸å¿ƒç›®çš„æ˜¯ <strong>æå‡æ¸²æŸ“æ•ˆç‡</strong>ã€‚æµè§ˆå™¨ä¼šæ ¹æ®æç¤ºæå‰ä¸ºå…ƒç´ åˆ†é…ç‹¬ç«‹å±‚ï¼Œä¼˜åŒ–åŠ¨ç”»æˆ–æ»šåŠ¨ç­‰æ“ä½œçš„æ¸²æŸ“æ•ˆç‡ã€‚<br/>
å°†é¡µé¢åˆ’åˆ†ä¸ºç‹¬ç«‹çš„å±‚åï¼Œå¦‚æœæŸä¸ªå±‚çš„å†…å®¹å‘ç”Ÿå˜åŒ–ï¼Œæµè§ˆå™¨åªéœ€è¦é‡ç»˜è¯¥å±‚ï¼Œè€Œæ— éœ€é‡æ–°æ¸²æŸ“æ•´ä¸ªé¡µé¢ã€‚</p>
</blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b341e0b151b446bebcc6dbefc8727579~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NzYxNzM2MzU0MDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666297&amp;x-signature=0QWGYKhtQEt0qXns6c8YdwyCQ4Q%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æŸäº› CSS å±æ€§å’Œå¸ƒå±€ç‰¹æ€§ä¼šè‡ªåŠ¨è§¦å‘åˆ†å±‚ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>transform</strong>ã€<strong>opacity</strong>ã€<strong>filter</strong></li>
<li><strong>position: fixed / sticky</strong></li>
<li><strong>overflow: scroll / auto</strong></li>
<li><strong>z-index / å †å ä¸Šä¸‹æ–‡</strong></li>
</ul>
</blockquote>
<p>æ­¤å¤–ï¼Œå¦‚æœå¸Œæœ›æµè§ˆå™¨ä¸ºæŸäº›å…ƒç´ åˆ›å»ºç‹¬ç«‹å±‚ï¼Œå¯ä»¥ä½¿ç”¨ <strong><code>will-change</code></strong> å±æ€§å‘æµè§ˆå™¨å‘å‡ºæç¤ºï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.menu</span> {
  <span class="hljs-attribute">will-change</span>: transform;
}
</code></pre>
<h5 data-id="heading-10">è¡¥å……è¯´æ˜</h5>
<ul>
<li>åˆ†å±‚ä¸ä¼šæ”¹å˜ DOM ç»“æ„æˆ–å¸ƒå±€ï¼Œåªæ˜¯ä¸ºæ¸²æŸ“è¿‡ç¨‹åˆ’åˆ†ä¼˜åŒ–å•ä½ã€‚</li>
<li>è™½ç„¶åˆ†å±‚å¯ä»¥æé«˜æ€§èƒ½ï¼Œä½†è¿‡åº¦åˆ†å±‚ä¼šå¢åŠ  GPU å†…å­˜å ç”¨ï¼Œå› æ­¤åº”è°¨æ…ä½¿ç”¨ <code>will-change</code>ï¼Œä»…å¯¹é¢‘ç¹å˜åŒ–çš„å…ƒç´ è®¾ç½®ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-11">ç¬¬ 5 æ­¥ï¼šç»˜åˆ¶ï¼ˆç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤ï¼‰&amp; åˆ†å—</h4>
<ul>
<li>
<p><strong>ç»˜åˆ¶é˜¶æ®µï¼ˆä¸»çº¿ç¨‹ï¼‰</strong></p>
<ul>
<li>ä¸»çº¿ç¨‹ä¼šä¸ºæ¯ä¸ªç‹¬ç«‹å±‚ç”Ÿæˆå¯¹åº”çš„ <strong>ç»˜åˆ¶æŒ‡ä»¤é›†</strong>ï¼ˆPaint Commandsï¼‰ï¼Œç”¨äºæè¿°è¿™ä¸€å±‚åº”è¯¥å¦‚ä½•æ¸²æŸ“ï¼ŒåŒ…æ‹¬é¢œè‰²ã€è¾¹æ¡†ã€æ–‡å­—ã€å›¾ç‰‡ç­‰ã€‚</li>
<li>ç»˜åˆ¶æŒ‡ä»¤é€šå¸¸ä»¥çŸ¢é‡æˆ–å‘½ä»¤åºåˆ—çš„å½¢å¼å­˜åœ¨ï¼Œè€Œä¸æ˜¯ç›´æ¥ç”Ÿæˆä½å›¾ï¼Œè¿™æ ·å¯ä»¥æé«˜æ¸²æŸ“æ•ˆç‡å’Œé‡ç»˜çµæ´»æ€§ã€‚</li>
<li>ç»˜åˆ¶å®Œæˆåï¼Œä¸»çº¿ç¨‹å°†æ¯ä¸ªå±‚çš„ç»˜åˆ¶ä¿¡æ¯ <strong>æäº¤ç»™åˆæˆçº¿ç¨‹</strong>ï¼ˆCompositor Threadï¼‰ï¼Œä¸»çº¿ç¨‹ä»»åŠ¡ç»“æŸã€‚</li>
</ul>
</li>
<li>
<p><strong>åˆ†å—é˜¶æ®µï¼ˆåˆæˆçº¿ç¨‹ï¼‰</strong></p>
<ul>
<li>
<p>åˆæˆçº¿ç¨‹ä¸ºäº†ä¼˜åŒ– GPU æ¸²æŸ“ï¼Œä¼šå°†æ¯ä¸ªå›¾å±‚åˆ’åˆ†ä¸ºæ›´å°çš„ <strong>ç»˜åˆ¶å—ï¼ˆTilesï¼‰</strong> ã€‚</p>
</li>
<li>
<p>åˆ†å—çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>å±€éƒ¨æ›´æ–°</strong>ï¼šåªé‡ç»˜å˜åŒ–çš„å—ï¼Œå‡å°‘ä¸å¿…è¦çš„ GPU è´Ÿæ‹…ã€‚</li>
<li><strong>å¹¶è¡Œå¤„ç†</strong>ï¼šå¯ä»çº¿ç¨‹æ± ä¸­è·å–å¤šä¸ªçº¿ç¨‹åŒæ—¶å¤„ç†ä¸åŒå—ï¼Œæé«˜å¤„ç†é€Ÿåº¦ã€‚</li>
<li><strong>å†…å­˜ä¼˜åŒ–</strong>ï¼šåˆ†å—æ¸²æŸ“å¯ä»¥è®© GPU æ›´å¥½åœ°ç®¡ç†æ˜¾å­˜ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§å›¾å±‚å¯¼è‡´å†…å­˜å³°å€¼è¿‡é«˜ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66219e2fd5804fe896c8811d142abddf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NzYxNzM2MzU0MDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666297&amp;x-signature=CxSJANGWzVfueWd5dHW3WiWNj5I%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-12">ç¬¬ 6 æ­¥ï¼šå…‰æ …åŒ–</h4>
<p>åœ¨æ¸²æŸ“æµç¨‹ä¸­ï¼Œåˆæˆçº¿ç¨‹ä¼šå°†é¡µé¢çš„å›¾å±‚ä¿¡æ¯ï¼ˆLayer / Tileï¼‰äº¤ç»™ <strong>GPU è¿›ç¨‹</strong>ï¼Œä»¥é«˜æ•ˆå®Œæˆ <strong>å…‰æ …åŒ–</strong>ã€‚</p>
<p>å…‰æ …åŒ–çš„æœ¬è´¨æ˜¯å°†çŸ¢é‡å›¾å½¢ã€æ–‡æœ¬ã€å›¾å±‚ç­‰å†…å®¹è½¬åŒ–ä¸º <strong>åƒç´ ä½å›¾ï¼ˆbitmapï¼‰</strong> ï¼Œæ–¹ä¾¿æœ€ç»ˆåœ¨å±å¹•ä¸Šæ˜¾ç¤ºã€‚</p>
<ul>
<li>GPU è¿›ç¨‹é€šå¸¸ä¼šå¼€å¯å¤šä¸ªçº¿ç¨‹å¹¶è¡Œå¤„ç†ä¸åŒçš„ç“¦ç‰‡ï¼ˆTileï¼‰ï¼Œæå‡æ¸²æŸ“æ•ˆç‡ã€‚</li>
<li>æµè§ˆå™¨ä¼šä¼˜å…ˆå¤„ç†é è¿‘è§†å£ï¼ˆViewportï¼‰åŒºåŸŸçš„å—ï¼Œä»¥ç¡®ä¿ç”¨æˆ·èƒ½å°½å¿«çœ‹åˆ°å¯è§†å†…å®¹ï¼Œæé«˜ <strong>é¦–å±æ¸²æŸ“æ€§èƒ½ï¼ˆFCP / First Contentful Paintï¼‰</strong> ã€‚</li>
<li>å…‰æ …åŒ–å®Œæˆåï¼Œæ¯ä¸ªå›¾å±‚æˆ–ç“¦ç‰‡éƒ½ä¼šç”Ÿæˆä¸€å—ä½å›¾ï¼Œä¸ºæœ€ç»ˆçš„ <strong>åˆæˆï¼ˆCompositingï¼‰</strong> åšå‡†å¤‡ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-13">ç¬¬ 7 æ­¥ï¼šé¡µé¢ç»˜åˆ¶</h4>
<p>åœ¨å…‰æ …åŒ–å®Œæˆåï¼Œ<strong>åˆæˆçº¿ç¨‹ï¼ˆCompositor Threadï¼‰</strong> ä¼šæ‹¿åˆ°æ¯ä¸ªå›¾å±‚ï¼ˆLayerï¼‰å’Œç“¦ç‰‡ï¼ˆTileï¼‰çš„ä½å›¾ï¼Œå¹¶ç”Ÿæˆå¯¹åº”çš„ <strong>ç»˜åˆ¶æŒ‡å¼•ï¼ˆquadï¼‰</strong> ã€‚</p>
<ul>
<li><strong>Quad çš„ä½œç”¨</strong>ï¼šæŒ‡ç¤ºæ¯å—ä½å›¾åœ¨å±å¹•ä¸Šçš„æ˜¾ç¤ºä½ç½®ï¼ŒåŒæ—¶åŒ…å«æ—‹è½¬ã€ç¼©æ”¾ã€é€æ˜åº¦ç­‰å˜æ¢ä¿¡æ¯ã€‚</li>
<li><strong>é«˜æ•ˆå˜æ¢</strong>ï¼šå˜æ¢ï¼ˆ<code>transform</code>ï¼‰æ“ä½œå‘ç”Ÿåœ¨åˆæˆçº¿ç¨‹ï¼Œè€Œä¸éœ€è¦ç»è¿‡æ¸²æŸ“ä¸»çº¿ç¨‹ã€‚è¿™å°±æ˜¯ CSS <code>transform</code> å’Œ <code>opacity</code> èƒ½å¤Ÿå®ç° GPU åŠ é€Ÿã€æ¸²æŸ“æ€§èƒ½é«˜çš„åŸå› ã€‚</li>
</ul>
<p>åˆæˆçº¿ç¨‹ç”Ÿæˆ quad åï¼Œä¼šå°†å…¶æäº¤ç»™ <strong>GPU è¿›ç¨‹</strong>ã€‚GPU è¿›ç¨‹é€šè¿‡ç³»ç»Ÿè°ƒç”¨ä¸ GPU ç¡¬ä»¶äº¤äº’ï¼Œå®Œæˆæœ€ç»ˆçš„åƒç´ åˆæˆï¼Œå°†é¡µé¢å†…å®¹å‘ˆç°åœ¨å±å¹•ä¸Šã€‚</p>
<blockquote>
<p>è¡¥å……æ€»ç»“ï¼š</p>
<ul>
<li>æ¸²æŸ“ä¸»çº¿ç¨‹è´Ÿè´£æ„å»º DOMã€CSSOMã€æ¸²æŸ“æ ‘ã€å¸ƒå±€å’Œç»˜åˆ¶å›¾å±‚å†…å®¹ï¼›</li>
<li>åˆæˆçº¿ç¨‹åªè´Ÿè´£å›¾å±‚ç»„åˆå’Œå˜æ¢æ“ä½œï¼›</li>
<li>GPU è´Ÿè´£å°†æœ€ç»ˆåƒç´ è¾“å‡ºåˆ°æ˜¾ç¤ºå™¨ï¼Œå®ç°é«˜æ•ˆæ¸²æŸ“ã€‚</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-14">æµç¨‹æ€»ç»“ï¼š</h3>
<p>ç¬¬ä¸€æ­¥ æµè§ˆå™¨è§£æ URLï¼š</p>
<blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d87405097db4ce8b3d54ecb04202593~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NzYxNzM2MzU0MDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666297&amp;x-signature=ahI6JH%2BWLqCAvIu89hFkQ4xQDdE%3D" alt="image.png" loading="lazy"/></p>
</blockquote>
<p>ç¬¬äºŒæ­¥ï¼šè§£æå’Œæ¸²æŸ“ï¼š</p>
<blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/263dbba5b1bc461aa857bc9aebf35e8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NzYxNzM2MzU0MDE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666297&amp;x-signature=txD5VEDIHZkevrGWOURfkHSSe7I%3D" alt="image.png" loading="lazy"/></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœ€æ–°ç‰ˆJavaé¢è¯•å…«è‚¡æ–‡å¤§å…¨]]></title>    <link>https://juejin.cn/post/7576219879680278563</link>    <guid>https://juejin.cn/post/7576219879680278563</guid>    <pubDate>2025-11-25T09:10:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576219879680278563" data-draft-id="7576378563576037391" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœ€æ–°ç‰ˆJavaé¢è¯•å…«è‚¡æ–‡å¤§å…¨"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•,Java"/> <meta itemprop="datePublished" content="2025-11-25T09:10:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœ€æ–°ç‰ˆJavaé¢è¯•å…«è‚¡æ–‡å¤§å…¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:10:11.000Z" title="Tue Nov 25 2025 09:10:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h6 data-id="heading-0">ä¸€ã€Javaå¹¶å‘é¢è¯•é¢˜</h6>
<h6 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1ã€ ThreadLocal</h6>
<p><strong>1.1 è°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£ï¼Ÿ</strong><br/>
ThreadLocalçš„ä½œç”¨ä¸»è¦æ˜¯åšæ•°æ®éš”ç¦»ï¼Œå¡«å……çš„æ•°æ®åªå±äºå½“å‰çº¿ç¨‹ï¼Œå˜é‡çš„æ•°æ®å¯¹åˆ«çš„çº¿ç¨‹è€Œè¨€æ˜¯ç›¸å¯¹éš”ç¦»çš„ã€‚å®ƒä¸æ˜¯é’ˆå¯¹ç¨‹åºçš„[å…¨å±€å˜é‡]ï¼Œåªæ˜¯é’ˆå¯¹å½“å‰çº¿ç¨‹çš„å…¨å±€å˜é‡ã€‚</p>
<p><strong>1.2 ThreadLocalåº•å±‚å®ç°åŸç†ï¼Ÿ</strong><br/>
Threadlocalå†…éƒ¨æœ‰ä¸€ä¸ªéå¸¸å…³é”®çš„[å†…éƒ¨ç±»]ThreadlocalMapï¼Œé‡Œé¢å®šä¹‰äº†ä¸€ä¸ªç”±key - valueç»„æˆçš„Entryæ•°ç»„ï¼Œkeyå­˜æ”¾çš„å°±æ˜¯å½“å‰çš„çº¿ç¨‹ï¼Œvalueä¸ºæˆ‘ä»¬æ‰€éœ€çš„æ•°æ®ã€‚ è€Œkeyæ˜¯å¼±å¼•ç”¨ä¼šè¢«gcæ¸…é™¤ï¼Œvalueæ˜¯å¼ºå¼•ç”¨ä¸ä¼šè¢«æ¸…é™¤ï¼Œæ‰€ä»¥ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚å¦‚æœæˆ‘ä»¬åœ¨çº¿ç¨‹æ± ä¸­ä½¿ç”¨äº†Threadlocalï¼Œä¸€å®šè¦è®°å¾—è°ƒç”¨removeï¼ˆï¼‰æ–¹æ³•ï¼Œé¿å…ThreadLocal ä¿å­˜çš„æ•°æ®è¢«æ³„æ¼æˆ–æ±¡æŸ“ï¼ï¼ï¼</p>
<pre><code class="hljs language-scss" lang="scss"> public void <span class="hljs-built_in">set</span>(T value) {
 <span class="hljs-comment">//è¿›è¡Œsetæ–¹æ³•æ—¶ï¼Œå…ˆè·å–å½“å‰çº¿ç¨‹å¯¹è±¡ï¼Œæ ¹æ®å½“å‰çº¿ç¨‹è·å–ThreadLocalMapï¼Œ</span>
 <span class="hljs-comment">//ç„¶åä»¥å½“å‰Threadlocalä¸ºkeyè¿›è¡Œå­˜å‚¨</span>
        Thread t = Thread<span class="hljs-selector-class">.currentThread</span>();
        ThreadLocalMap map = <span class="hljs-built_in">getMap</span>(t);
        if (map != null)
            map<span class="hljs-selector-class">.set</span>(this, value);
        else
            <span class="hljs-built_in">createMap</span>(t, value);
    }
AIå†™ä»£ç 
</code></pre>
<p>è¿è¡Œé¡¹ç›®å¹¶ä¸‹è½½æºç </p>
<h6 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2ã€synchronizedç›¸å…³é—®é¢˜</h6>
<p><strong>2.1 synchronizedä¸Reentrantlockçš„åŒºåˆ«</strong></p>
<ul>
<li>synchronizedæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œå±äºJVMå±‚é¢çš„ï¼ŒReentrantlockæ˜¯ä¸€ä¸ªç±»ï¼Œæ˜¯APIå±‚é¢çš„ï¼›</li>
<li>synchronizedæ˜¯è‡ªåŠ¨åŠ é”ã€é‡Šæ”¾é”ï¼ŒReentrantlockåˆ™éœ€è¦æ‰‹åŠ¨åŠ é”å’Œé‡Šæ”¾ï¼›</li>
<li>synchronizedåº•å±‚æœ‰ä¸€ä¸ªé”å‡çº§çš„è¿‡ç¨‹ï¼ˆåå‘é”â€”è½»é‡çº§é”----é‡é‡çº§é”ï¼‰</li>
</ul>
<blockquote>
<p>å½“ä¸€ä¸ªçº¿ç¨‹è·å–ä¸€ä¸ªçæ—¶ï¼Œæ­¤æ—¶è¯¥é”ä¸ºåå‘é”ï¼Œå½“ç¬¬äºŒä¸ªçº¿ç¨‹å°è¯•è·å–é”æ—¶ï¼Œè¯¥é”ä¼šå‡çº§ä¸ºè½»é‡çº§é”,åº•å±‚é€šè¿‡è‡ªæ—‹æ¥å®ç°ï¼ˆä¸ä¼šé€ æˆçº¿ç¨‹é˜»å¡ï¼‰,å½“è‡ªæ—‹æ¬¡æ•°è¿‡å¤šï¼Œä¼šå‡çº§ä¸ºé‡é‡çº§é”ï¼Œä¼šé€ æˆçº¿ç¨‹é˜»å¡ã€‚</p>
</blockquote>
<p><strong>2.2 volatileå…³é”®å­—å¦‚ä½•ä¿è¯å¯è§æ€§å’Œæœ‰åºæ€§</strong></p>
<ul>
<li>å¯è§æ€§ï¼šå¯¹åŠ äº†volatileçš„æˆå‘˜å˜é‡è¿›è¡Œä¿®æ”¹æ—¶ï¼Œä¼šç›´æ¥å°†cpué«˜çº§ç¼“å­˜åŒºçš„æ•°æ®æ”¾åˆ°ä¸»å†…å­˜ä¸­ï¼Œå¯¹è¿™ä¸ªæ•°æ®çš„è¯»å–ï¼Œä¼šç›´æ¥ä»ä¸»å†…å­˜ä¸­å–ã€‚</li>
<li>æœ‰åºæ€§ï¼šå¯¹åŠ äº†volatileçš„æˆå‘˜å˜é‡è¿›è¡Œè¯»å†™æ—¶ï¼Œä¼šæ’å…¥å†…å­˜å±éšœï¼Œé˜²æ­¢æŒ‡ä»¤é‡æ’ï¼Œä¿éšœäº†æœ‰åºæ€§ã€‚</li>
</ul>
<blockquote>
<p>volatileåªæœ‰å†™æ“ä½œæ˜¯åŸå­æ€§çš„ï¼Œä¹Ÿå°±æ˜¯æ•°æ®æ“ä½œå®Œæˆåä¼šç«‹åˆ»åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ã€‚ä½†æ˜¯è¢«volatileä¿®é¥°çš„å˜é‡åœ¨è¯»çš„æ—¶å€™å¯èƒ½ä¼šè¢«å¤šä¸ªçº¿ç¨‹è¯»,æ‰€ä»¥å®ƒä¸èƒ½ä¿è¯åŸå­æ€§ã€‚</p>
</blockquote>
<p><strong>2.3 Javaå¦‚ä½•é¿å…æ­»é”</strong></p>
<ul>
<li>æ³¨æ„åŠ é”çš„é¡ºåºï¼Œä¿è¯æ¯ä¸ªçº¿ç¨‹æŒ‰é¡ºåºè¿›è¡ŒåŠ é”ï¼›</li>
<li>åŠ é”æ—¶é™ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼›</li>
<li>æ³¨æ„æ­»é”æ£€æŸ¥ï¼Œè¿™æ˜¯ä¸€ç§é¢„é˜²æœºåˆ¶ï¼Œå¯ä»¥ç¡®ä¿å‘ç”Ÿæ­»é”çš„ç¬¬ä¸€æ—¶é—´è¿›è¡Œå¤„ç†ã€‚</li>
</ul>
<h6 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3ã€Â å¤šçº¿ç¨‹ï¼ˆçº¿ç¨‹æ± ï¼‰</h6>
<blockquote>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
</blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64d8a9c5941b4ba5b5e02020c0dcc3a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667776&amp;x-signature=q%2FQ5RQv2VqbnNGfRI9tjeln3F1I%3D" alt="8fbf1ef8b61e2dbbb33b7690a41d12e.png" loading="lazy"/></p>
</blockquote>
<p><strong>3.1 çº¿ç¨‹æœ‰å“ªäº›çŠ¶æ€ï¼ˆç”Ÿå‘½å‘¨æœŸï¼‰</strong><br/>
æ–°å»ºã€å°±ç»ªã€è¿è¡Œã€é˜»å¡ã€æ­»äº¡<br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7ea0d82335748ed8ee1dfbbf26247dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667776&amp;x-signature=ieQPOpB2vWJZjbq2gp6d0TUKEUo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/><br/>
<strong>3.2 å¦‚ä½•è·å–å¤šçº¿ç¨‹çš„è¿”å›å€¼ï¼Ÿ</strong><br/>
æ·±å‘ï¼å¦‚æœé—®å¤šçº¿ç¨‹çš„åˆ›å»ºæ–¹å¼ï¼Œä½ ä¸€å®šçŸ¥é“æ˜¯ç»§æ‰¿Threadç±»ï¼Œå®ç°runnable,callableæ¥å£ã€‚è¿™é‡Œå°±æ˜¯æ‹äº†ä¸ªå¼¯ï¼Œå˜ç›¸çš„äº†è§£æœ‰è¿”å›å€¼çš„callableæ¥å£ã€‚é€šè¿‡ä¸­é—´åª’ä»‹FutureTaskï¼Œå°†å®ç°callableæ¥å£çš„ç±»å¯¹è±¡ä¼ é€’è¿›å»ï¼Œè°ƒç”¨FutureTaské‡Œé¢çš„getï¼ˆï¼‰æ–¹æ³•ï¼Œå³å¯è·å–å¤šçº¿ç¨‹çš„è¿”å›å€¼ã€‚</p>
<p><strong>3.3 ä¸ºä»€ä¹ˆä½¿ç”¨çº¿ç¨‹æ± ï¼Œå‡ ä¸ªå‚æ•°ï¼Ÿ</strong><br/>
é™ä½èµ„æºæ¶ˆè€—ï¼ˆåˆ›å»ºã€é”€æ¯è€—èµ„æºï¼‰ï¼Œæé«˜å“åº”é€Ÿåº¦ï¼ˆä»»åŠ¡æ¥äº†ï¼Œå¯ä»¥æœ‰çº¿ç¨‹ç›´æ¥ä½¿ç”¨ï¼‰ï¼›</p>
<blockquote>
<ul>
<li>æ ¸å¿ƒçº¿ç¨‹æ•°ã€ æœ€å¤§çº¿ç¨‹æ•°é‡ã€æœ€å¤§ç©ºé—²æ—¶é—´ã€ ç©ºé—²æ—¶é—´å•ä½ã€ä»»åŠ¡é˜Ÿåˆ—ã€ çº¿ç¨‹å·¥å‚ã€æ‹’ç»ç­–ç•¥ï¼›</li>
</ul>
</blockquote>
<h6 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4ã€å¹¶å‘ç›¸å…³é—®é¢˜</h6>
<p><strong>4.1ã€ å¹¶è¡Œã€ä¸²è¡Œã€å¹¶å‘ï¼Ÿ</strong></p>
<ul>
<li>å¹¶è¡Œï¼š åŒä¸€æ—¶åˆ»ï¼Œå¤šä¸ªä»»åŠ¡äº’ä¸å¹²æ‰°çš„åŒæ—¶è¿›è¡Œï¼›</li>
<li>ä¸²è¡Œï¼šä»»åŠ¡æ’é˜Ÿï¼Œä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œï¼›</li>
<li>å¹¶å‘ï¼šåŒä¸€æ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªä»»åŠ¡ï¼Œå¤šä¸ªä»»åŠ¡äº¤æ›¿æ‰§è¡Œï¼›</li>
</ul>
<p><strong>4.2ã€ è°ˆè°ˆå¯¹AQSçš„ç†è§£ï¼ŒAQSå¦‚ä½•å®ç°å¯é‡å…¥é”ï¼Ÿ</strong></p>
<ul>
<li>AQSæ˜¯ä¸€ä¸ªJavaçº¿ç¨‹åŒæ­¥çš„æ¡†æ¶ï¼Œæ˜¯JDKå¾ˆå¤šé”çš„æ ¸å¿ƒå®ç°æ¡†æ¶ã€‚</li>
<li>åœ¨AQSä¸­,ç»´æŠ¤äº†ä¸€ä¸ªä¿¡å·é‡stateå’Œä¸€ä¸ªç”±çº¿ç¨‹ç»„æˆçš„åŒå‘é“¾è¡¨é˜Ÿåˆ—ã€‚å…¶ä¸­ï¼Œè¿™ä¸ªçº¿ç¨‹é˜Ÿåˆ—å°±æ˜¯ç»™çº¿ç¨‹æ’é˜Ÿçš„ï¼Œè€Œstateå°±åƒæ˜¯çº¢ç»¿ç¯ï¼Œç”¨æ¥æ§åˆ¶çº¿ç¨‹æ’é˜Ÿæˆ–è€…æ”¾è¡Œçš„ã€‚ä¸åŒåœºæ™¯ä¸‹ï¼Œæœ‰ä¸åŒçš„æ„ä¹‰ã€‚</li>
<li>åœ¨å¯é‡å…¥é”ï¼ˆé”äº†è¿˜å¯ä»¥å†é”ï¼‰åœºæ™¯ä¸‹ï¼Œstateè¡¨ç¤ºåŠ é”æ¬¡æ•°ï¼Œ0è¡¨ç¤ºæ— é”ï¼Œæ¯åŠ ä¸€æ¬¡é”ï¼Œstateå°±åŠ 1ï¼Œé‡Šæ”¾é”stateå°±å‡1ã€‚</li>
</ul>
<h6 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¸‰ã€mysqlç›¸å…³é—®é¢˜</h6>
<p>ç¬”è€…æ€»ç»“äº†ä¸€ç¯‡Mysqlé«˜çº§ï¼Œæ¶‰åŠå†…å®¹è¾ƒæ·±äº›ï¼Œä¹Ÿæ˜¯å¸¸é—®çš„é¢è¯•é¢˜ï¼Œç‚¹å‡»é“¾æ¥æŸ¥é˜…</p>
<p>[Mysqlé«˜çº§ç¯‡]</p>
<h6 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1ã€Mysqlç´¢å¼•</h6>
<p><strong>1.1 ç´¢å¼•çš„ç±»å‹å¯ä»¥æ˜¯Stringç±»å‹å—ï¼Ÿ</strong><br/>
èšç°‡ç´¢å¼•----æ•°æ®å’Œç´¢å¼•æ”¾ä¸€å—ï¼Œåƒä¸»é”®ç´¢å¼•ï¼Œå…·æœ‰å”¯ä¸€æ€§ï¼ˆInnodbå°±æ˜¯ï¼‰<br/>
æ•°æ®åº“ç¬¬ä¸€èŒƒå¼ï¼šå¿…é¡»è¦æœ‰idï¼Œè¿™ä¸ªidæ˜¯è‡ªå¸¦ç´¢å¼•çš„ã€‚</p>
<p>ä¸€èˆ¬ç”¨è‡ªå¢idï¼Œå­—ç¬¦ä¸²å¯ä»¥åšidï¼Œä½†æ˜¯ä¸å¥½ï¼Œåƒuuidåšçš„idæ˜¯éšæœºçš„ï¼Œéƒ½æ²¡æœ‰æ’åºï¼ï¼ï¼ä¸åƒè‡ªå¢idç»´æŠ¤ç´¢å¼•çš„æˆæœ¬ä¼šå¾ˆä½</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e955dae0c508452ea275d68b967c9f86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667776&amp;x-signature=EUUKb4xMAJLIlC1Cw5WhH8kg0gY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>1.2 ä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ç”¨ç´¢å¼•ï¼Ÿä»€ä¹ˆæ—¶å€™ä¸ç”¨ï¼Ÿ</strong></p>
<p>1ï¼‰å°±æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†å¿«é€ŸæŸ¥æ‰¾æ•°æ®ã€‚<br/>
2ï¼‰å¯¹æŸ¥è¯¢é¢‘ç‡é«˜ï¼ˆç´¢å¼•å°±æ˜¯ä¸ºäº†æé«˜æŸ¥è¯¢æ•ˆç‡ï¼‰ï¼Œåƒwhereåçš„å­—æ®µ<br/>
æ•°æ®é‡ç‰¹åˆ«å¤§ï¼Œ ç´¢å¼•ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œä¼šå½±å“å¢åˆ çš„æ•ˆç‡ï¼Œå…¸å‹çš„ç”¨ç©ºé—´æ¢æ—¶é—´ã€‚<br/>
åˆ†ç»„å­—æ®µå¯ä»¥å»ºç«‹ç´¢å¼•ï¼Œå› ä¸ºåˆ†ç»„çš„å‰ææ˜¯æ’åºï¼ˆè¦†ç›–ç´¢å¼•ï¼‰<br/>
3ï¼‰é¢‘ç¹æ›´æ–°çš„å­—æ®µã€æŸ¥è¯¢å°‘çš„ã€å‚ä¸è®¡ç®—çš„ä¸é€‚åˆå»ºç´¢å¼•ã€‚</p>
<p><strong>1.3 ç´¢å¼•å¤±æ•ˆï¼Ÿ</strong></p>
<blockquote>
<p>åœ¨MySQLä¸­ï¼ŒæŸ¥è¯¢ä¸èµ°ç´¢å¼•å¯èƒ½æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p>
<ol>
<li>æ•°æ®é‡å¤ªå°ï¼šå¦‚æœè¡¨ä¸­çš„æ•°æ®é‡æ¯”è¾ƒå°ï¼ŒMySQLä¼šé€‰æ‹©è¿›è¡Œå…¨è¡¨æ‰«æè€Œä¸ä½¿ç”¨ç´¢å¼•ï¼Œå› ä¸ºå…¨è¡¨æ‰«æçš„å¼€é”€å¯èƒ½æ¯”ä½¿ç”¨ç´¢å¼•æ›´å°ã€‚</li>
<li>å¯¹ç´¢å¼•åˆ—è¿›è¡Œäº†å‡½æ•°æ“ä½œï¼šå¦‚æœåœ¨æŸ¥è¯¢è¯­å¥ä¸­å¯¹ç´¢å¼•åˆ—è¿›è¡Œäº†å‡½æ•°æ“ä½œæˆ–è¡¨è¾¾å¼è¿ç®—ï¼ŒMySQLæ— æ³•ä½¿ç”¨ç´¢å¼•è¿›è¡Œä¼˜åŒ–ï¼Œå› æ­¤å¯èƒ½ä¸èµ°ç´¢å¼•ã€‚</li>
<li>èŒƒå›´æŸ¥è¯¢ï¼šå¦‚æœæŸ¥è¯¢è¯­å¥ä¸­åŒ…å«èŒƒå›´æŸ¥è¯¢ï¼ˆä¾‹å¦‚å¤§äºã€å°äºã€åŒºé—´æŸ¥è¯¢ç­‰ï¼‰ï¼ŒMySQLå¯èƒ½æ— æ³•ä½¿ç”¨ç´¢å¼•è¿›è¡Œä¼˜åŒ–ï¼Œå¯¼è‡´ä¸èµ°ç´¢å¼•ï¼ˆæ¨¡ç³ŠæŸ¥è¯¢like,%å‰ç½®ä¸ä¼šèµ°ï¼Œåç½®ä¼šèµ°ï¼‰ã€‚</li>
<li>æ•°æ®åˆ†å¸ƒä¸å‡åŒ€ï¼šå¦‚æœç´¢å¼•åˆ—çš„æ•°æ®åˆ†å¸ƒä¸å‡åŒ€ï¼Œç´¢å¼•çš„é€‰æ‹©æ€§è¾ƒä½ï¼ŒMySQLå¯èƒ½é€‰æ‹©è¿›è¡Œå…¨è¡¨æ‰«æè€Œä¸ä½¿ç”¨ç´¢å¼•ã€‚</li>
</ol>
<p>åœ¨è¿›è¡ŒMySQLç´¢å¼•ä¼˜åŒ–æ—¶ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸Šæƒ…å†µï¼Œå¹¶é€šè¿‡åˆ†ææŸ¥è¯¢è¯­å¥ã€ä¼˜åŒ–ç´¢å¼•è®¾è®¡ã€é€‚æ—¶æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ç­‰æ–¹æ³•ï¼Œæé«˜MySQLæŸ¥è¯¢æ€§èƒ½ï¼Œå°½å¯èƒ½å‡å°‘ä¸èµ°ç´¢å¼•çš„æƒ…å†µã€‚</p>
</blockquote>
<p><strong>1.4 æŸ¥çœ‹ç´¢å¼•ä½¿ç”¨å’ŒæŸ¥çœ‹ç´¢å¼•ä¿¡æ¯ï¼Ÿ</strong><br/>
ç´¢å¼•ä½¿ç”¨ï¼š explain ç»“æœ ï¼ˆåªè¦æ•°å­—å¤§äº1ï¼‰1 row in set å³ç”Ÿæ•ˆäº†<br/>
æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯ï¼š show indexs from è¡¨å</p>
<p><strong>1.5 å¤åˆç´¢å¼•ï¼Ÿæœ€å·¦åŒ¹é…åŸåˆ™ï¼Ÿ</strong><br/>
æœ€æ ¸å¿ƒçš„æ˜¯<strong>ç­‰å€¼æ¯”è¾ƒ</strong><br/>
å¤åˆç´¢å¼•å°±æ˜¯å¤šä¸ªå­—æ®µæ”¾ä¸€å—ï¼ˆä¼ä¸šæœ€å¸¸ç”¨çš„æ˜¯ç¬¦åˆç´¢å¼•ï¼ï¼ï¼å”¯ä¸€ç´¢å¼•ï¼Œæ™®é€šç´¢å¼•æˆ‘ä»¬ä¹Ÿç”¨ï¼‰<br/>
mysqlä¼šä¸€ç›´å‘å³æŸ¥è¯¢ï¼Œç›´åˆ°é‡åˆ°<strong>èŒƒå›´æŸ¥è¯¢</strong>ï¼ˆ&gt; &lt; likeï¼‰ï¼Œæ¯”å¦‚ç”¨ a b c då››ä¸ªå­—æ®µåˆ›å»ºäº†ä¸€ä¸ªå¤åˆç´¢å¼•ï¼Œ a=3 b=5 c&gt;7 d=9 åªä¼šç”¨åˆ°å‰ä¸‰ä¸ªï¼Œå› ä¸ºb c d æ˜¯æ ¹æ®a çš„åé¢è¿›è¡Œè§„åˆ™çš„æ’åºï¼Œå³aæ˜¯æœ‰åºçš„ï¼Œåé¢çš„bcdæ˜¯æ— åºçš„ã€‚ ï¼ˆhashç´¢å¼•ç”¨çš„ä¸å¤šï¼Œå› ä¸ºæ— åºï¼Œä½†æ˜¯å®šä½å¿«ï¼Œäº†è§£å³å¯ï¼‰</p>
<p><strong>1.6 Btreeå’ŒB+treeï¼Ÿä¸ºä»€ä¹ˆmysqlç”¨çš„æ˜¯B+ treeï¼Ÿ</strong> **<br/>
B+treeæ˜¯Btreeçš„å‡çº§ç‰ˆã€‚<br/>
Btreeï¼šå¤šè·¯å¹³è¡¡æ ‘ï¼Œå½“å¢åˆ æ•°æ®æ—¶ï¼Œä¼šè‡ªåŠ¨çš„å°†æ•°æ®è¿›è¡Œè¿™ä¸ªå¹³è¡¡ï¼ˆæ—‹è½¬ï¼‰<br/>
ä¸ºä»€ä¹ˆä»Btreeè½¬åˆ°B+tree å› ä¸ºï¼šç´¢å¼•ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå­˜æ¡£åœ¨ç£ç›˜ï¼Œåœ¨ä½¿ç”¨æ—¶è¯»å…¥åˆ°å†…å­˜ã€‚å†…å­˜æ˜¯æœ‰é™çš„ï¼Œå¦‚æœç´¢å¼•æ–‡ä»¶è¿‡å¤§ï¼Œæ— æ³•ä¸€æ¬¡æ€§å…¨éƒ¨åŠ è½½ï¼Œéœ€è¦åˆ†æ‰¹åŠ è½½ã€‚åœ¨æœ‰é™ç£ç›˜çš„é™åˆ¶ä¸‹ï¼ŒB+treeå¯ä»¥å‡å°‘ç£ç›˜çš„I/Oã€‚</p>
<p><em><strong>å¯¹äºB+treeï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½å­˜åœ¨å¶å­èŠ‚ç‚¹ï¼Œæ ¹å’Œéå¶å­èŠ‚ç‚¹åªæ˜¯å­˜å‚¨çš„æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªæ•°æ®çš„åœ°å€ï¼Œç”±å¶å­èŠ‚ç‚¹å†å»æŸ¥æ‰¾åˆ°å…³è”çš„æ•°æ®ä¿¡æ¯ã€‚å¯¹äºæŸ¥è¯¢çš„æ•°æ®ï¼Œéƒ½è¦ä»rootèŠ‚ç‚¹èµ°åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥æŸ¥è¯¢ç›¸æ¯”äºBtreeæ›´åŠ ç¨³å®šã€‚</strong></em></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cf524d3c81742b38337a89b292a96d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667776&amp;x-signature=5hCwUSVT78sH%2F9fAmyzB6sllNqY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/><br/>
å¯¹äºmysqlï¼Œæ˜¯åœ¨B+treeçš„åŸºç¡€ä¸Šï¼Œåœ¨ç›¸é‚»èŠ‚ç‚¹é—´å¢åŠ äº†ä¸€ä¸ªé“¾è¡¨æŒ‡é’ˆï¼Œå½¢æˆäº†å¸¦æœ‰é¡ºåºçš„B+tree,æé«˜äº†åŒºé—´çš„è®¿é—®æ€§èƒ½ã€‚<br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50b7f0400e424b17a637ebe423c56493~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667776&amp;x-signature=XX8Ey5QBp%2B7NgTqSREdSTgNZF8Q%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/><br/>
<strong>1.7 è¦†ç›–ç´¢å¼•ä¸å›è¡¨</strong><br/>
å¦‚æœåªéœ€è¦åœ¨ä¸€æ£µç´¢å¼•æ ‘ä¸Šå°±å¯ä»¥è·å–Sqlæ‰€éœ€è¦çš„æ‰€æœ‰åˆ—ï¼Œå°±ä¸éœ€è¦å›è¡¨æŸ¥è¯¢ï¼Œè¿™æ ·æŸ¥è¯¢é€Ÿåº¦ä¼šæ›´å¿«ã€‚è€Œå®ç°è¦†ç›–ç´¢å¼•æœ€å¿«çš„æ–¹å¼å°±æ˜¯å°†æ‰€éœ€è¦çš„å­—æ®µæ”¾åœ¨ä¸€èµ·å»ºä¸€ä¸ªè”åˆç´¢å¼•ã€‚</p>
<blockquote>
</blockquote>
<p>å¯¹è¿™ä»½ç¬”è®°æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥ç‚¹å‡»æ–‡æœ«åç‰‡å…è´¹è·å–<br/>
<strong>1.8 Mysqlçš„é”æœ‰å“ªäº›ï¼Ÿä»€ä¹ˆæ˜¯é—´éš™é”ï¼Ÿ</strong><br/>
ä»é”çš„ç²’åº¦æ¥åˆ†<br/>
1ã€è¡Œé”ï¼šåŠ é”ç²’åº¦å°ï¼Œä½†æ˜¯åŠ é”çš„èµ„æºå¼€é”€æ¯”è¾ƒå¤§ã€‚Innodbæ”¯æŒã€‚<br/>
1ï¼‰å…±äº«é”ï¼šå¤šä¸ªäº‹åŠ¡å¯ä»¥å…±äº«ä¸€æŠŠé”ï¼Œä½†æ˜¯åªèƒ½è¯»ä¸èƒ½ä¿®æ”¹<br/>
2ï¼‰æ’ä»–é”ï¼šåªæœ‰ä¸€ä¸ªäº‹åŠ¡å¯ä»¥è·å¾—æ’ä»–é”ï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½è·å–è¯¥è¡Œçš„é”ã€‚Innodbä¼šè‡ªè¡Œå¯¹å¢åˆ æ”¹æ“ä½œæ·»åŠ æ’ä»–é”ã€‚<br/>
2ã€è¡¨é”ï¼šåŠ é”ç²’åº¦å¤§ï¼ŒåŠ é”çš„èµ„æºæ¶ˆè€—å°ï¼ŒMysalmå’ŒInnodbéƒ½æ”¯æŒã€‚<br/>
3ã€å…¨å±€é”ï¼šåŠ é”åå…¨åº“éƒ½å¤„äºåªè¯»çŠ¶æ€ï¼Œç”¨äºå…¨åº“æ•°æ®å¤‡ä»½ã€‚</p>
<p><strong>1.9 æµ·é‡æ•°æ®ä¸‹ï¼Œå¦‚ä½•å¿«é€Ÿæ‰¾åˆ°ä¸€æ¡æ•°æ®</strong><br/>
1ï¼‰ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨ï¼Œå¿«é€Ÿè¿‡æ»¤ä¸å­˜åœ¨çš„æ•°æ®ï¼›<br/>
2ï¼‰red isä¸­å»ºç«‹æ•°æ®ç¼“å­˜<br/>
3ï¼‰æŸ¥è¯¢ä¼˜åŒ–</p>
<blockquote>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
</blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64d8a9c5941b4ba5b5e02020c0dcc3a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667776&amp;x-signature=q%2FQ5RQv2VqbnNGfRI9tjeln3F1I%3D" alt="8fbf1ef8b61e2dbbb33b7690a41d12e.png" loading="lazy"/></p>
</blockquote>
<h6 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2ã€æ•°æ®åº“åˆ†åº“åˆ†è¡¨</h6>
<p><strong>2.1 æ•°æ®åº“çš„åˆ†åº“åˆ†è¡¨ï¼Ÿä»€ä¹ˆæ—¶å€™åˆ†ï¼Ÿæ€ä¹ˆåˆ†ï¼Ÿ</strong><br/>
å½“å•è¡¨æ•°æ®è¶…è¿‡1000Wæ—¶ï¼Œå¾ˆå¤šæ“ä½œçš„æ€§èƒ½ä¼šä¸‹é™ï¼Œæ‰€ä»¥éœ€è¦åˆ‡åˆ†ï¼Œä»¥å‡å°‘æ•°æ®åº“çš„å‹åŠ›ï¼Œç¼©çŸ­æŸ¥è¯¢æ—¶é—´ã€‚<br/>
å‚ç›´åˆ‡åˆ†ï¼šå°†å…³ç³»è”ç³»ä¸ç´§å¯†çš„è¡¨è¿›è¡Œåˆ†åº“ï¼Œå°†ä¸€å¼ è¡¨ä¸­ä¸å¸¸ç”¨çš„å­—æ®µè¿›è¡ŒæŠ½å–æ–°å»ºä¸€å¼ è¡¨ã€‚ä¼˜ç‚¹ç±»ä¼¼äºå¾®æœåŠ¡ã€‚<br/>
æ°´å¹³åˆ‡åˆ†ï¼šå½“ä¸€ä¸ªåº”ç”¨éš¾ä»¥å†ç»†ç²’åº¦çš„å‚ç›´åˆ‡åˆ†ï¼Œæ ¹æ®æ•°æ®é—´çš„é€»è¾‘è¿›è¡Œåˆ’åˆ†ï¼Œæ¯”å¦‚å®¢æˆ·ã€å­˜æ¬¾ã€æ”¯ä»˜ï¼›<br/>
<strong>2.2 æ•°æ®åº“çš„ä¼˜åŒ–</strong><br/>
1ï¼‰sqlä¼˜åŒ–ä»¥åŠç´¢å¼•çš„ä¼˜åŒ–ï¼Œç´¢å¼•å»ºç«‹è¦åˆç†ï¼Œè¿‡å¤šä¼šå½±å“å¢åˆ æ€§èƒ½<br/>
2ï¼‰æ•°æ®å¯è®¾è®¡è¦æ»¡è¶³ä»–çš„ä¸‰å¤§èŒƒå¼ã€äº”å¤§çº¦æŸ<br/>
3ï¼‰ç¡¬ä»¶ä¼˜åŒ–</p>
<p><strong>2.3 è¡¨è®¾è®¡çš„æ—¶å€™æ³¨æ„å“ªäº›ï¼Œå­—æ®µï¼Ÿ</strong></p>
<blockquote>
<p>åœ¨è®¾è®¡æ•°æ®åº“è¡¨æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼Œç‰¹åˆ«æ˜¯åœ¨å®šä¹‰å­—æ®µçš„æ—¶å€™ï¼š</p>
<ol>
<li>æ•°æ®ç±»å‹é€‰æ‹©ï¼šé€‰æ‹©æœ€é€‚åˆçš„æ•°æ®ç±»å‹å¯ä»¥å‡å°æ•°æ®åº“è¡¨çš„å­˜å‚¨ç©ºé—´ï¼Œæé«˜æ£€ç´¢æ•ˆç‡ã€‚å¯¹äºæ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ç­‰ä¸åŒç±»å‹çš„æ•°æ®ï¼Œé€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹æ˜¯è®¾è®¡è¡¨ç»“æ„æ—¶çš„å…³é”®ä¹‹ä¸€ã€‚</li>
<li>ç´¢å¼•è®¾è®¡ï¼šæ ¹æ®å®é™…æŸ¥è¯¢éœ€æ±‚è®¾è®¡åˆé€‚çš„ç´¢å¼•ï¼Œå¯ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚é€šå¸¸åœ¨ä¸»é”®ã€å¤–é”®ã€ç»å¸¸ç”¨äºæŸ¥è¯¢çš„å­—æ®µä¸Šåˆ›å»ºç´¢å¼•ã€‚</li>
<li>ä¸»é”®è®¾è®¡ï¼šé€‰æ‹©ä¸€ä¸ªå”¯ä¸€ã€ç¨³å®šã€æ˜“äºç†è§£çš„å­—æ®µä½œä¸ºä¸»é”®ï¼Œä»¥ç¡®ä¿æ¯æ¡è®°å½•éƒ½æœ‰å”¯ä¸€æ ‡è¯†ï¼Œä¾¿äºæ•°æ®è®¿é—®å’Œç®¡ç†ã€‚</li>
<li>å­—æ®µå‘½åè§„èŒƒï¼šå­—æ®µå‘½ååº”å…·æœ‰æè¿°æ€§ï¼Œæ˜“äºç†è§£å’Œè®°å¿†ï¼Œå»ºè®®ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”ï¼ˆå¦‚ï¼šfirst_nameï¼‰ï¼Œé¿å…ä½¿ç”¨å«ç³Šä¸æ¸…æˆ–ç¼©å†™çš„å­—æ®µåã€‚</li>
<li>å­—æ®µçº¦æŸï¼šå®šä¹‰å­—æ®µçš„çº¦æŸæ¡ä»¶ï¼Œå¦‚NOT NULLã€UNIQUEã€DEFAULTå€¼ç­‰ï¼Œå¯ä»¥ä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ã€‚</li>
<li>æ•°æ®å†—ä½™ï¼šé¿å…æ•°æ®å†—ä½™ï¼Œå°½å¯èƒ½å°†é‡å¤çš„æ•°æ®æŠ½å–æˆå•ç‹¬çš„è¡¨ï¼Œä»¥å‡å°æ•°æ®å­˜å‚¨é‡ï¼ŒåŒæ—¶é¿å…æ•°æ®æ›´æ–°å¼‚å¸¸ã€‚</li>
<li>å‚ç…§å®Œæ•´æ€§ï¼šåœ¨è®¾è®¡å¤–é”®å…³ç³»æ—¶ï¼Œä¿è¯å‚ç…§å®Œæ•´æ€§ï¼Œç¡®ä¿ç›¸å…³æ•°æ®çš„ä¸€è‡´æ€§ï¼Œé¿å…æ•°æ®å…³è”å¼‚å¸¸ã€‚</li>
<li>è€ƒè™‘æ•°æ®å¢é•¿ï¼šé¢„ä¼°æ•°æ®è¡¨çš„å¢é•¿æƒ…å†µï¼Œé€‰æ‹©é€‚å½“çš„å­˜å‚¨å¼•æ“å’Œåˆ†åŒºæ–¹æ¡ˆï¼Œä»¥æ”¯æŒæœªæ¥æ•°æ®é‡çš„å¢é•¿ã€‚</li>
</ol>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œåœ¨è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„æ—¶ï¼Œå­—æ®µçš„æ•°æ®ç±»å‹ã€ç´¢å¼•è®¾è®¡ã€ä¸»é”®é€‰æ‹©ã€å‘½åè§„èŒƒã€çº¦æŸæ¡ä»¶ã€æ•°æ®å†—ä½™ã€å‚ç…§å®Œæ•´æ€§ã€æ•°æ®å¢é•¿ç­‰æ–¹é¢éƒ½éœ€è¦è®¤çœŸè€ƒè™‘ï¼Œä»¥ä¿è¯æ•°æ®åº“è¡¨çš„ç¨³å¥æ€§ã€æ€§èƒ½å’Œçµæ´»æ€§ã€‚</p>
</blockquote>
<h6 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3ã€æ•°æ®åº“äº‹åŠ¡</h6>
<p>springé‡Œé¢çš„äº‹åŠ¡å’Œmysqlé‡Œé¢çš„äº‹åŠ¡æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå¦‚æœmysqlä¸æ”¯æŒäº‹åŠ¡ï¼ŒåŠ ä¸Š@transationä¹Ÿæ˜¯æ— æ•ˆçš„ã€‚ä½†æ˜¯springé‡Œé¢çš„@transationä¸èƒ½ç”¨äºåˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œåˆ†å¸ƒå¼å¤šçº¿ç¨‹ä¸‹ç”¨çš„æ˜¯senta+@globalTransationæ³¨è§£ã€‚<br/>
<strong>3.1 @transationç”¨äºç±»å’Œæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong><br/>
@transationåªèƒ½ä¿®é¥°publicæ–¹æ³•ã€‚<br/>
ç±»ä¸Šï¼šç›¸å½“äºåœ¨æ‰€æœ‰çš„publicæ–¹æ³•ä¸ŠåŠ ä¸Šäº†@transationæ³¨è§£<br/>
æ–¹æ³•ï¼šä¼šè¦†ç›–ç±»ä¸Šçš„é…ç½®ã€‚</p>
<p><strong>3.2 äº‹åŠ¡çš„4ä¸ªæ¡ä»¶ACID</strong><br/>
åŸå­æ€§ï¼šæ‰€æœ‰çš„æ“ä½œæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼ˆå›æ»šï¼‰<br/>
ä¸€è‡´æ€§ï¼šäº‹åŠ¡å¼€å§‹å‰åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´åï¼Œä¹Ÿå°±æ˜¯å†™å…¥çš„èµ„æ–™å®Œå…¨ç¬¦åˆæˆ‘ä»¬çš„é¢„è®¾ã€‚<br/>
éš”ç¦»æ€§ï¼šå…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡å¯¹æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œï¼Œå®ƒå¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚ï¼ˆéš”ç¦»æ€§é‡Œé¢æœ‰4ä¸ªéš”ç¦»çº§åˆ«ï¼šè¯»æœªæäº¤ã€è¯»ä»¥æäº¤ã€å¯é‡å¤è¯»ã€ä¸²è¡ŒåŒ–ï¼‰<br/>
æŒä¹…æ€§ï¼šäº‹åŠ¡å®Œæˆï¼Œå¯¹æ•°æ®çš„æ“ä½œå°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä½¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p>
<p><strong>3.3 mysqläº‹ç‰©éš”ç¦»çº§åˆ«ï¼Ÿ</strong></p>
<p>MySQL æä¾›äº†å››ç§éš”ç¦»çº§åˆ«ï¼Œç”¨äºæ§åˆ¶äº‹åŠ¡ä¹‹é—´çš„éš”ç¦»ç¨‹åº¦ï¼Œä»¥ç¡®ä¿äº‹åŠ¡æ“ä½œçš„ä¸€è‡´æ€§å’Œå¹¶å‘æ€§ã€‚è¿™å››ç§éš”ç¦»çº§åˆ«åˆ†åˆ«æ˜¯ï¼š</p>
<blockquote>
<ol>
<li><strong>è¯»æœªæäº¤ï¼ˆRead Uncommittedï¼‰</strong> ï¼šæœ€ä½çš„éš”ç¦»çº§åˆ«ï¼Œå…è®¸ä¸€ä¸ªäº‹åŠ¡è¯»å–å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚å¯èƒ½ä¼šå‡ºç°è„è¯»ï¼ˆDirty Readï¼‰é—®é¢˜ã€‚</li>
<li><strong>è¯»æäº¤ï¼ˆRead Committedï¼‰</strong> ï¼šå…¶ä»–äº‹åŠ¡æäº¤åæ‰èƒ½è¯»å–æ•°æ®ï¼Œé¿å…è„è¯»é—®é¢˜ã€‚ä½†å¯èƒ½ä¼šå‡ºç°ä¸å¯é‡å¤è¯»ï¼ˆ<em><strong>æŒ‡çš„æ˜¯åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒæŸä¸ªæŸ¥è¯¢æ“ä½œåœ¨ä¸åŒæ—¶é—´ç‚¹å†…å¤šæ¬¡æ‰§è¡Œï¼Œä½†ç”±äºå…¶ä»–äº‹åŠ¡çš„å¹¶å‘æ“ä½œï¼Œåœ¨å¤šæ¬¡æ‰§è¡Œè¿‡ç¨‹ä¸­è¿”å›çš„æ•°æ®ç»“æœä¸ä¸€è‡´çš„æƒ…å†µ</strong></em>ï¼‰é—®é¢˜ã€‚</li>
<li><strong>å¯é‡å¤è¯»ï¼ˆRepeatable Readï¼‰</strong> ï¼šä¿è¯åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­å¤šæ¬¡è¯»å–åŒä¸€è¡Œæ•°æ®æ—¶ï¼Œç»“æœå§‹ç»ˆä¸€è‡´ã€‚é¿å…äº†è„è¯»å’Œä¸å¯é‡å¤è¯»é—®é¢˜ã€‚ä½†ä¾ç„¶å¯èƒ½å­˜åœ¨å¹»è¯»ï¼ˆ<em><strong>åœ¨ç›¸åŒçš„æŸ¥è¯¢æ¡ä»¶ä¸‹ï¼Œä¸åŒçš„äº‹åŠ¡åœ¨ä¸åŒæ—¶é—´ç‚¹æ‰§è¡ŒæŸ¥è¯¢æ“ä½œæ—¶ï¼Œå¯èƒ½ä¼šçœ‹åˆ°ä¸åŒæ•°é‡çš„è¡Œï¼Œä»è€Œäº§ç”Ÿ"å¹»åƒ"çš„é”™è§‰</strong></em>ï¼‰é—®é¢˜ã€‚</li>
<li><strong>ä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰</strong> ï¼šæœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œé€šè¿‡ç¡®ä¿äº‹åŠ¡ä¸²è¡Œæ‰§è¡Œæ¥é¿å…è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»é—®é¢˜ã€‚ç¡®ä¿æ‰€æœ‰äº‹åŠ¡çš„å¹¶å‘æ‰§è¡Œä¸ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚</li>
</ol>
<p>åœ¨ MySQL ä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ¥æ§åˆ¶äº‹åŠ¡çš„éš”ç¦»ç¨‹åº¦ï¼Œä»è€Œçµæ´»åœ°å¹³è¡¡å¹¶å‘æ€§èƒ½å’Œæ•°æ®çš„ä¸€è‡´æ€§ã€‚å¼€å‘è€…å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„éš”ç¦»çº§åˆ«æ¥ç¡®ä¿æ•°æ®æ“ä½œçš„æ­£ç¡®æ€§å’Œå®‰å…¨æ€§ã€‚</p>
</blockquote>
<h6 data-id="heading-9"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></h6>
<h6 data-id="heading-10">4ã€Mysqlå…¶ä»–é—®é¢˜</h6>
<p><strong>4.1 mysqlä¸­çš„nullå’Œç©ºå€¼æœ‰ä»€ä¹ˆä¸ä¸€æ ·ï¼Ÿ</strong><br/>
1ï¼‰ç©ºå€¼æ˜¯ä¸å ç©ºé—´çš„ï¼Œnullå€¼å ç”¨ç©ºé—´ã€‚ä¸¤è€…å°±åƒï¼šç©ºå€¼æ˜¯çœŸç©ºçŠ¶æ€çš„æ¯å­ï¼Œè€Œnullå€¼æ˜¯è£…æ»¡ç©ºæ°”çš„æ¯å­ã€‚<br/>
2ï¼‰æŸ¥å¯»ä¸Šï¼šnull å€¼æ˜¯ç”¨is null/is not nullæ¥æŸ¥è¯¢ï¼Œè€Œç©ºå€¼( â€™ â€™ )åˆ™å¯ä»¥ç”¨ = &gt; !=ç­‰ã€‚ åœ¨ä½¿ç”¨èšåˆå‡½æ•°countæ—¶ï¼Œä¼šè¿‡æ»¤æ‰nullï¼Œè€Œä¸ä¼šè¿‡æ»¤æ‰ ï¼ˆ â€™ â€™ ï¼‰å€¼ã€‚<br/>
åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ²¡æœ‰ç‰¹å®šéœ€æ±‚ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç©ºå€¼ï¼ï¼ï¼</p>
<p><strong>4.2 mysqlä¸»ä»æ•°æ®åº“å»¶æ—¶çš„åŸå› ï¼Ÿ</strong></p>
<blockquote>
<p>MySQLä¸»ä»æ•°æ®åº“å»¶æ—¶å¯èƒ½æœ‰å¤šç§åŸå› ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„åŸå› ï¼š</p>
<ol>
<li>ç½‘ç»œå»¶è¿Ÿï¼šä¸»ä»æ•°æ®åº“ä¹‹é—´çš„ç½‘ç»œè¿æ¥å¦‚æœä¸ç¨³å®šæˆ–è€…ç½‘ç»œè´¨é‡å·®ï¼Œä¼šå¯¼è‡´æ•°æ®åŒæ­¥çš„å»¶è¿Ÿã€‚</li>
<li>ä¸»ä»æ•°æ®åº“è´Ÿè½½ï¼šä¸»æ•°æ®åº“çš„è´Ÿè½½è¿‡é«˜ï¼Œæˆ–è€…ä»æ•°æ®åº“çš„æ€§èƒ½ä¸è¶³ï¼Œéƒ½å¯èƒ½å¯¼è‡´æ•°æ®åŒæ­¥å»¶è¿Ÿã€‚</li>
<li>æ•°æ®é‡è¿‡å¤§ï¼šå¦‚æœè¦åŒæ­¥çš„æ•°æ®é‡è¿‡å¤§ï¼Œæˆ–è€…æœ‰å¤§é‡çš„å†™æ“ä½œï¼Œéƒ½ä¼šå¢åŠ åŒæ­¥çš„æ—¶é—´ã€‚</li>
<li>å¤åˆ¶æ–¹å¼è®¾ç½®ä¸å½“ï¼šMySQLå¤åˆ¶æ–¹å¼ï¼ˆå¦‚å¼‚æ­¥å¤åˆ¶ã€åŠåŒæ­¥å¤åˆ¶ç­‰ï¼‰çš„é…ç½®ä¸åˆç†ä¹Ÿä¼šå¯¼è‡´å»¶æ—¶ã€‚</li>
<li>ä¸»ä»æ•°æ®åº“ç‰ˆæœ¬ä¸å…¼å®¹ï¼šå¦‚æœä¸»ä»æ•°æ®åº“çš„ç‰ˆæœ¬ä¸ä¸€è‡´æˆ–ä¸å…¼å®¹ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´æ•°æ®åŒæ­¥å»¶è¿Ÿã€‚</li>
</ol>
<p>åœ¨æ’æŸ¥MySQLä¸»ä»æ•°æ®åº“å»¶æ—¶é—®é¢˜æ—¶ï¼Œå¯ä»¥é€ä¸€æ£€æŸ¥ä¸Šè¿°å¯èƒ½çš„åŸå› ï¼Œé€æ­¥å®šä½å¹¶è§£å†³é—®é¢˜ã€‚</p>
</blockquote>
<p><strong>4.3 mysqlä¸»ä»å¤åˆ¶çš„è¿‡ç¨‹ï¼Ÿ</strong></p>
<blockquote>
<p>MySQLä¸»ä»å¤åˆ¶æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®åº“å¤åˆ¶æŠ€æœ¯ï¼Œç”¨äºå°†ä¸»æ•°æ®åº“ä¸­çš„æ•°æ®å®æ—¶åŒæ­¥å¤åˆ¶åˆ°ä»æ•°æ®åº“ã€‚ä»¥ä¸‹æ˜¯MySQLä¸»ä»å¤åˆ¶çš„åŸºæœ¬è¿‡ç¨‹ï¼š</p>
<ol>
<li>é…ç½®ä¸»æ•°æ®åº“ï¼šé¦–å…ˆéœ€è¦åœ¨ä¸»æ•°æ®åº“ä¸Šå¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆBinary Logï¼‰ï¼Œå¹¶é…ç½®ä¸»æœºçš„å”¯ä¸€æ ‡è¯†ï¼ˆServer IDï¼‰ã€‚</li>
<li>é…ç½®ä»æ•°æ®åº“ï¼šåœ¨ä»æ•°æ®åº“ä¸Šé…ç½®è¿æ¥ä¸»æ•°æ®åº“çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¸»æ•°æ®åº“çš„IPåœ°å€ã€ç«¯å£å·ã€ç”¨æˆ·åå¯†ç ç­‰ã€‚åŒæ—¶è®¾ç½®ä»æ•°æ®åº“çš„å”¯ä¸€æ ‡è¯†ï¼ˆServer IDï¼‰ã€‚</li>
<li>å¯åŠ¨ä¸»ä»å¤åˆ¶è¿‡ç¨‹ï¼šåœ¨ä»æ•°æ®åº“ä¸Šæ‰§è¡ŒCHANGE MASTER TOå‘½ä»¤ï¼ŒæŒ‡å®šä¸»æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ï¼Œå¹¶å¯åŠ¨ä»æ•°æ®åº“ä¸ä¸»æ•°æ®åº“çš„è¿æ¥ã€‚</li>
<li>æ•°æ®ä¼ è¾“ä¸åŒæ­¥ï¼šå½“ä¸»ä»æ•°æ®åº“è¿æ¥æˆåŠŸåï¼Œä¸»æ•°æ®åº“ä¼šå°†å˜æ›´å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—ï¼Œå¹¶é€šè¿‡ä¸»ä»å¤åˆ¶çº¿ç¨‹å°†è¿™äº›å˜æ›´ä¼ è¾“ç»™ä»æ•°æ®åº“ï¼Œä»æ•°æ®åº“æ¥æ”¶åˆ°å˜æ›´ååº”ç”¨äºè‡ªèº«æ•°æ®åº“ï¼Œå®ç°æ•°æ®åŒæ­¥ã€‚</li>
<li>ç›‘æ§ä¸ç»´æŠ¤ï¼šå®šæœŸæ£€æŸ¥ä¸»ä»æ•°æ®åº“çš„çŠ¶æ€ï¼Œç¡®ä¿ä¸»ä»å¤åˆ¶æ­£å¸¸è¿è¡Œã€‚å¦‚æœå‘ç°å»¶è¿Ÿæˆ–åŒæ­¥å¤±è´¥ï¼Œéœ€è¦åŠæ—¶æ’æŸ¥å¹¶è§£å†³é—®é¢˜ã€‚</li>
</ol>
<p>æ€»çš„æ¥è¯´ï¼ŒMySQLä¸»ä»å¤åˆ¶çš„è¿‡ç¨‹åŒ…æ‹¬é…ç½®ä¸»ä»æ•°æ®åº“ã€å¯åŠ¨å¤åˆ¶ã€æ•°æ®ä¼ è¾“ä¸åŒæ­¥ä»¥åŠç›‘æ§ä¸ç»´æŠ¤ç­‰æ­¥éª¤ã€‚é€šè¿‡ä¸»ä»å¤åˆ¶ï¼Œå¯ä»¥å®ç°æ•°æ®çš„å¤‡ä»½ã€è´Ÿè½½å‡è¡¡ä»¥åŠå®¹ç¾ç­‰åŠŸèƒ½ã€‚</p>
</blockquote>
<h6 data-id="heading-11"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>å››ã€JVMè™šæ‹Ÿæœº</h6>
<p>å¯¹è¿™ä»½ç¬”è®°æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥ç‚¹å‡»æ–‡æœ«åç‰‡å…è´¹è·å–</p>
<h6 data-id="heading-12"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äº”ã€Redisé¢è¯•é¢˜</h6>
<h6 data-id="heading-13"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1 ã€ç¼“å­˜é›ªå´©ã€ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿</h6>
<ul>
<li>_<strong>ç¼“å­˜é›ªå´©ï¼š</strong> _ç¼“å­˜åŒä¸€æ—¶é—´å¤§é¢ç§¯å¤±æ•ˆï¼Œå¤§é‡è¯·æ±‚æ‰“åˆ°æ•°æ®åº“ä¸Šï¼Œæ•°æ®åº“æ‰¿å—ä¸ä½å´©æ‰ï¼›<br/>
è§£å†³æ–¹æ¡ˆï¼šè¿‡æœŸæ—¶é—´è®¾ç½®æˆéšæœºã€ç¼“å­˜é¢„çƒ­ï¼ˆç³»ç»Ÿå‡ºåˆå¯åŠ¨ï¼Œå…ˆå­˜æ•°æ®åˆ°ç¼“å­˜é‡Œï¼‰</li>
<li>_<strong>ç¼“å­˜ç©¿é€ï¼š</strong> _æ•°æ®åº“å’Œredisä¸­éƒ½æ²¡æœ‰æ•°æ®ï¼Œå¯¼è‡´å¤§é‡æ•°æ®æŸ¥è¯¢æ•°æ®åº“ï¼Œå¯¼è‡´æ•°æ®åº“å´©æ‰ï¼›</li>
<li>å¯ä»¥å°†ä¸å­˜åœ¨çš„è¯·æ±‚keyçš„value è®¾ç½®æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›ï¼Œè¿™æ ·å°±é¿å…äº†é»‘å›æ”»å‡»åˆ°æ•°æ®åº“ã€‚<br/>
è§£å†³æ–¹æ¡ˆï¼š æ¥å£å±‚è¿›è¡Œæ ¡éªŒï¼ˆid&lt;0çš„ç›´æ¥æ‹’ç»ï¼‰ã€é‡‡ç”¨å¸ƒéš†è¿‡æ»¤å™¨</li>
<li>_<strong>ç¼“å­˜å‡»ç©¿ï¼š</strong> _redisçš„ä¸€ä¸ªkeyå¤±æ•ˆï¼Œè¯·æ±‚å…¨éƒ¨æ‰“åˆ°æ•°æ®åº“ï¼ˆç¼“å­˜æ²¡æœ‰æ•°æ®åº“æœ‰ï¼‰ï¼›<br/>
è§£å†³æ–¹æ¡ˆï¼š çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸï¼Œè®¾ç½®æˆç©ºå­—ç¬¦ä¸²è¿”å›</li>
</ul>
<h6 data-id="heading-14"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2ã€ å¦‚ä½•ä¿è¯æ•°æ®åº“å’ŒRedisçš„æ•°æ®ä¸€è‡´æ€§</h6>
<p>å½“æˆ‘ä»¬é‡åˆ°è¿™ä¸ªé—®é¢˜æ—¶ï¼Œè¦è€ƒè™‘æ˜¯å…ˆåˆ ç¼“å­˜ï¼Œè¿˜æ˜¯å…ˆå†™æ•°æ®åº“ã€‚<br/>
å»¶æ—¶åŒåˆ ï¼š å…ˆåˆ redisç¼“å­˜æ•°æ®ï¼Œå†æ›´æ–°æ•°æ®åº“ï¼Œç„¶åå†åˆ redisç¼“å­˜,è¿™æ ·å°±é¿å…äº†åˆ é™¤rediså’Œæ›´æ–°æ•°æ®åº“è¿™æœŸé—´ï¼Œå…¶ä»–çš„çº¿ç¨‹è¯»ä¸åˆ°redisé‡Œçš„å€¼ï¼Œå»è¯»æ•°æ®åº“é‡Œçš„æ—§æ•°æ®ã€‚</p>
<p>å°†æ“ä½œå¯ä¸²è¡ŒåŒ–ï¼ˆå…ˆå†™åœ¨è¯»å°±å¯ä»¥äº†ï¼‰<br/>
1ï¼‰å…ˆåˆ ç¼“å­˜ï¼Œå°†æ›´æ–°æ•°æ®åº“æ“ä½œæ”¾åˆ°ä¸€ä¸ªæœ‰åºé˜Ÿåˆ—ä¸­<br/>
2ï¼‰ä»ç¼“å­˜ä¸­æŸ¥ä¸åˆ°çš„æŸ¥è¯¢æ“ä½œï¼Œéƒ½è¿›å…¥æœ‰åºé˜Ÿåˆ—ï¼ˆMQï¼‰<br/>
é—®é¢˜ï¼šå¤§é‡è¯»è¯·æ±‚ç§¯å‹--------&gt; å°†é˜Ÿåˆ—æ°´å¹³æ‹†åˆ†</p>
<h6 data-id="heading-15"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3ã€Redisçš„æ•°æ®ç»“æ„åŠä½¿ç”¨åœºæ™¯</h6>
<p>String :å­—ç¬¦ä¸² ----------åŸå­è®¡æ•°å™¨<br/>
List ï¼šåˆ—è¡¨ ---------å¾®åšã€å¾®ä¿¡ç­‰æ¶ˆæ¯æµæ•°æ®<br/>
Set ï¼šæ— åºé›†åˆ ---------å¥½å‹æ¨è<br/>
Zset ï¼šæœ‰åºé›†åˆ -----------æ’è¡Œæ¦œ<br/>
Hash ï¼šå“ˆå¸Œè¡¨ ----------é€‚åˆå­˜å‚¨å¯¹è±¡</p>
<p>----------------------------------å‰äº”ç§ä¸ºå¸¸è§ï¼Œåå››ç§ä¸ºé¢è¯•åŠ åˆ†é¡¹-------------------------------------------<br/>
bitmap:å¸ƒéš†è¿‡æ»¤å™¨<br/>
GeoHash:åæ ‡ï¼Œï¼ˆå­˜å‚¨åæ ‡çš„ï¼‰åŸºäºZsetçš„scoreè¿›è¡Œæ’åºå°±å¯ä»¥å¾—åˆ°åæ ‡é™„è¿‘çš„å€¼<br/>
HyperLoglog: ç»Ÿè®¡ä¸é‡å¤æ•°æ®ï¼Œç”¨äºå¤§æ•°æ®åŸºç¡€ä½¿ç”¨<br/>
Streams:å†…å­˜ç‰ˆçš„Kafkaï¼Œæ¶ˆæ¯çš„è®¢é˜…å‘å¸ƒ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue è·¨ç»„ä»¶é€šä¿¡åº•å±‚ï¼šprovide/inject åŸç†ä¸å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7576276707331850246</link>    <guid>https://juejin.cn/post/7576276707331850246</guid>    <pubDate>2025-11-25T09:12:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576276707331850246" data-draft-id="7573900332636930058" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue è·¨ç»„ä»¶é€šä¿¡åº•å±‚ï¼šprovide/inject åŸç†ä¸å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-25T09:12:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹‰ä¸åŠ¨çš„çŒª"/> <meta itemprop="url" content="https://juejin.cn/user/1429793504759630"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue è·¨ç»„ä»¶é€šä¿¡åº•å±‚ï¼šprovide/inject åŸç†ä¸å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1429793504759630/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹‰ä¸åŠ¨çš„çŒª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:12:45.000Z" title="Tue Nov 25 2025 09:12:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#5f6368;background-image:linear-gradient(90deg,rgba(240,191,213,.1) 3%,transparent 0),linear-gradient(1turn,rgba(240,191,213,.1) 3%,transparent 0);background-size:20px 20px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-left:50px;padding-bottom:5px;color:#5f6368}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{position:absolute;left:0;display:block;content:""}.markdown-body h1{font-size:32px;margin-bottom:5px}.markdown-body h1:before{top:0;content:"ğŸ¦„";font-size:32px}.markdown-body h2{padding-bottom:24px;border-bottom:1px solid #ececec}.markdown-body h2:before{top:0;left:8px;content:"ğŸ³";font-size:24px}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{top:-2px;left:8px;content:"ğŸ„";font-size:20px}.markdown-body h4{font-size:16px}.markdown-body h4:before{top:-2px;left:8px;content:"ğŸ¦¥";font-size:18px}.markdown-body h5{font-size:14px}.markdown-body h5:before{top:-2px;left:9px;content:"ğŸ¦©";font-size:16px}.markdown-body h6{font-size:12px;margin-top:5px}.markdown-body h6:before{top:-1px;left:10px;content:"ğŸ§";font-size:14px}.markdown-body p{line-height:1.9;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid rgba(253,121,168,.5);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#a6accd;background:#292d3e;border-radius:8px}.markdown-body a{text-decoration:none;color:#fd79a8;border-bottom:1px solid #fd79a8;padding:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(253,121,168,.1);color:#ee69a9}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body th{color:#fd79a8}.markdown-body th,.markdown-body tr:hover{background:rgba(253,121,168,.1)}.markdown-body td{min-width:120px}.markdown-body blockquote{position:relative;color:#666;padding:23px;margin:22px 0;border-left:4px solid #ee69a9;background-color:rgba(253,121,168,.1)}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;display:block;font-size:27px;color:#fd79a8;opacity:.8}.markdown-body blockquote:before{left:10px;top:0;content:"â"}.markdown-body blockquote:after{right:10px;bottom:0;content:"â"}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body strong{position:relative;color:#fd79a8}.markdown-body strong:before{content:"Â· "}.markdown-body strong:after{content:" Â·"}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#fd79a8}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#ee69a9}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><h3 data-id="heading-0">ä¸€ã€<code>provide</code>/<code>inject</code>Â çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³</h3>
<p><code>provide</code>/<code>inject</code>Â æ˜¯ Vue å®ç°<strong>ä¾èµ–æ³¨å…¥</strong>ï¼ˆDependency Injectionï¼‰çš„æ ¸å¿ƒ APIï¼Œå…¶è®¾è®¡ç›®æ ‡æ˜¯ï¼š</p>
<ul>
<li>è§£å†³<strong>è·¨å±‚çº§ç»„ä»¶é€šä¿¡</strong>é—®é¢˜ï¼ˆprops é€çº§é€ä¼ çš„ç—›ç‚¹ï¼‰</li>
<li>å®ç°<strong>ç»„ä»¶é—´çš„æ¾è€¦åˆ</strong>ï¼ˆåä»£ç»„ä»¶æ— éœ€çŸ¥é“ä¾èµ–çš„å…·ä½“æ¥æºï¼‰</li>
<li>ç»´æŒ<strong>å“åº”å¼æ•°æ®ä¼ é€’</strong></li>
</ul>
<p>å…¶æ ¸å¿ƒæœºåˆ¶æ˜¯ï¼š<strong>æ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½ç»´æŠ¤ä¸€ä¸ªÂ <code>provides</code>Â å¯¹è±¡ï¼Œå­ç»„ä»¶çš„Â <code>provides</code>Â åŸå‹é“¾æŒ‡å‘çˆ¶ç»„ä»¶çš„Â <code>provides</code>ï¼Œå½¢æˆä¸€ä¸ªåŸå‹é“¾æŸ¥æ‰¾æœºåˆ¶</strong>ã€‚</p>
<h3 data-id="heading-1">äºŒã€åº•å±‚å®ç°åŸç†çš„ä»£ç æ¨¡æ‹Ÿ</h3>
<p>ä¸ºäº†è®©ä½ ç›´è§‚ç†è§£ï¼Œæˆ‘å°†ç”¨ JavaScript æ¨¡æ‹Ÿ Vue ç»„ä»¶å®ä¾‹çš„Â <code>provides</code>Â é“¾å’ŒÂ <code>provide</code>/<code>inject</code>Â æ–¹æ³•çš„å®ç°ã€‚</p>
<h4 data-id="heading-2">1. ç»„ä»¶å®ä¾‹çš„åŸºç¡€ç»“æ„</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡æ‹Ÿ Vue ç»„ä»¶å®ä¾‹çš„æ„é€ å‡½æ•°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ComponentInstance</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">parent</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">parent</span> = parent; <span class="hljs-comment">// çˆ¶ç»„ä»¶å®ä¾‹å¼•ç”¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span> = {};
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = {};
    
    <span class="hljs-comment">// æ ¸å¿ƒï¼šæ„å»º provides åŸå‹é“¾</span>
    <span class="hljs-comment">// å¦‚æœæœ‰çˆ¶ç»„ä»¶ï¼Œå½“å‰ç»„ä»¶çš„ provides ç»§æ‰¿è‡ªçˆ¶ç»„ä»¶çš„ provides</span>
    <span class="hljs-comment">// å¦‚æœæ²¡æœ‰çˆ¶ç»„ä»¶ï¼ˆæ ¹ç»„ä»¶ï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">provides</span> = parent ? <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(parent.<span class="hljs-property">provides</span>) : <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);
  }

  <span class="hljs-comment">// å®ç° provide æ–¹æ³•</span>
  <span class="hljs-title function_">provide</span>(<span class="hljs-params">key, value</span>) {
    <span class="hljs-comment">// å°†æä¾›çš„é”®å€¼å¯¹å­˜å‚¨åˆ°å½“å‰ç»„ä»¶çš„ provides å¯¹è±¡ä¸Š</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">provides</span>[key] = value;
  }

  <span class="hljs-comment">// å®ç° inject æ–¹æ³•</span>
  <span class="hljs-title function_">inject</span>(<span class="hljs-params">key, defaultValue = <span class="hljs-literal">undefined</span></span>) {
    <span class="hljs-comment">// ä»å½“å‰ç»„ä»¶çš„ provides å¼€å§‹æŸ¥æ‰¾</span>
    <span class="hljs-keyword">let</span> provides = <span class="hljs-variable language_">this</span>.<span class="hljs-property">provides</span>;
    
    <span class="hljs-comment">// æ²¿ç€åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼ˆç›´åˆ°æ ¹ç»„ä»¶ï¼‰</span>
    <span class="hljs-keyword">while</span> (provides) {
      <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hasOwnProperty</span>.<span class="hljs-title function_">call</span>(provides, key)) {
        <span class="hljs-comment">// æ‰¾åˆ°åˆ™è¿”å›å¯¹åº”çš„å€¼</span>
        <span class="hljs-keyword">return</span> provides[key];
      }
      <span class="hljs-comment">// æ‰¾ä¸åˆ°åˆ™ç»§ç»­å‘ä¸ŠæŸ¥æ‰¾çˆ¶ç»„ä»¶çš„ provides</span>
      provides = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(provides);
    }
    
    <span class="hljs-comment">// å¦‚æœæœ€ç»ˆæ²¡æ‰¾åˆ°ï¼Œè¿”å›é»˜è®¤å€¼</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> defaultValue === <span class="hljs-string">'function'</span> ? <span class="hljs-title function_">defaultValue</span>() : defaultValue;
  }
}
</code></pre>
<h4 data-id="heading-3">2. åŸå‹é“¾æŸ¥æ‰¾æœºåˆ¶çš„éªŒè¯</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºæ ¹ç»„ä»¶å®ä¾‹</span>
<span class="hljs-keyword">const</span> root = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentInstance</span>(<span class="hljs-literal">null</span>);
<span class="hljs-comment">// æ ¹ç»„ä»¶æä¾›æ•°æ®</span>
root.<span class="hljs-title function_">provide</span>(<span class="hljs-string">'theme'</span>, <span class="hljs-string">'dark'</span>);
root.<span class="hljs-title function_">provide</span>(<span class="hljs-string">'user'</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'admin'</span> });

<span class="hljs-comment">// åˆ›å»ºå­ç»„ä»¶å®ä¾‹ï¼ˆçˆ¶ç»„ä»¶ä¸º rootï¼‰</span>
<span class="hljs-keyword">const</span> child = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentInstance</span>(root);
<span class="hljs-comment">// å­ç»„ä»¶æä¾›è‡ªå·±çš„æ•°æ®</span>
child.<span class="hljs-title function_">provide</span>(<span class="hljs-string">'lang'</span>, <span class="hljs-string">'zh-CN'</span>);

<span class="hljs-comment">// åˆ›å»ºå­™ç»„ä»¶å®ä¾‹ï¼ˆçˆ¶ç»„ä»¶ä¸º childï¼‰</span>
<span class="hljs-keyword">const</span> grandChild = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentInstance</span>(child);

<span class="hljs-comment">// å­™ç»„ä»¶æ³¨å…¥æ•°æ®</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(grandChild.<span class="hljs-title function_">inject</span>(<span class="hljs-string">'theme'</span>)); <span class="hljs-comment">// 'dark' ï¼ˆä»æ ¹ç»„ä»¶æ‰¾åˆ°ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(grandChild.<span class="hljs-title function_">inject</span>(<span class="hljs-string">'lang'</span>));  <span class="hljs-comment">// 'zh-CN'ï¼ˆä»å­ç»„ä»¶æ‰¾åˆ°ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(grandChild.<span class="hljs-title function_">inject</span>(<span class="hljs-string">'user'</span>));  <span class="hljs-comment">// { name: 'admin' }ï¼ˆä»æ ¹ç»„ä»¶æ‰¾åˆ°ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(grandChild.<span class="hljs-title function_">inject</span>(<span class="hljs-string">'age'</span>, <span class="hljs-number">18</span>)); <span class="hljs-comment">// 18ï¼ˆä½¿ç”¨é»˜è®¤å€¼ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(grandChild.<span class="hljs-title function_">inject</span>(<span class="hljs-string">'gender'</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-string">'male'</span>)); <span class="hljs-comment">// 'male'ï¼ˆå‡½æ•°é»˜è®¤å€¼ï¼‰</span>
</code></pre>
<h4 data-id="heading-4">3. å“åº”å¼æ•°æ®çš„ä¼ é€’åŸç†</h4>
<p><code>provide</code>/<code>inject</code>Â æœ¬èº«ä¸å¤„ç†å“åº”å¼ï¼Œå®ƒåªæ˜¯ä¼ é€’æ•°æ®å¼•ç”¨ã€‚å“åº”å¼ç”± Vue çš„å“åº”å¼ç³»ç»Ÿï¼ˆ<code>ref</code>/<code>reactive</code>ï¼‰ä¿è¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡æ‹Ÿ Vue çš„ ref å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Ref</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span> = value;
  }
  
  <span class="hljs-keyword">get</span> <span class="hljs-title function_">value</span>() {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è§¦å‘ä¾èµ–æ”¶é›†'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span>;
  }
  
  <span class="hljs-keyword">set</span> <span class="hljs-title function_">value</span>(<span class="hljs-params">newValue</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span> = newValue;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è§¦å‘æ›´æ–°'</span>);
  }
}

<span class="hljs-comment">// åˆ›å»ºå“åº”å¼æ•°æ®</span>
<span class="hljs-keyword">const</span> themeRef = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Ref</span>(<span class="hljs-string">'light'</span>);

<span class="hljs-comment">// æ ¹ç»„ä»¶æä¾›å“åº”å¼æ•°æ®</span>
root.<span class="hljs-title function_">provide</span>(<span class="hljs-string">'theme'</span>, themeRef);

<span class="hljs-comment">// å­™ç»„ä»¶è·å–</span>
<span class="hljs-keyword">const</span> injectedTheme = grandChild.<span class="hljs-title function_">inject</span>(<span class="hljs-string">'theme'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(injectedTheme.<span class="hljs-property">value</span>); <span class="hljs-comment">// 'light'ï¼ˆè§¦å‘ä¾èµ–æ”¶é›†ï¼‰</span>

<span class="hljs-comment">// ä¿®æ”¹å€¼ä¼šè§¦å‘å“åº”å¼æ›´æ–°</span>
injectedTheme.<span class="hljs-property">value</span> = <span class="hljs-string">'dark'</span>; <span class="hljs-comment">// è§¦å‘æ›´æ–°</span>
</code></pre>
<h3 data-id="heading-5">ä¸‰ã€Vue æºç ä¸­çš„çœŸå®å®ç°ï¼ˆç®€åŒ–ç‰ˆï¼‰</h3>
<p>ä¸‹é¢æ˜¯ä» Vue 3 æºç ä¸­æå–çš„æ ¸å¿ƒé€»è¾‘ï¼Œå±•ç¤ºçœŸå®çš„å®ç°æ–¹å¼ï¼š</p>
<h4 data-id="heading-6">1. ç»„ä»¶å®ä¾‹çš„ provides åˆå§‹åŒ–</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æºç ä½ç½®ï¼špackages/runtime-core/src/component.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createComponentInstance</span>(<span class="hljs-params">vnode, parent, suspense</span>) {
  <span class="hljs-keyword">const</span> instance = {
    vnode,
    parent,
    <span class="hljs-attr">provides</span>: parent ? <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(parent.<span class="hljs-property">provides</span>) : <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(appContext.<span class="hljs-property">provides</span>),
    <span class="hljs-comment">// ...å…¶ä»–å±æ€§</span>
  };
  <span class="hljs-keyword">return</span> instance;
}
</code></pre>
<h4 data-id="heading-7">2. provide å‡½æ•°çš„å®ç°</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æºç ä½ç½®ï¼špackages/runtime-core/src/apiInject.ts</span>
export function provide&lt;T&gt;(key: InjectionKey&lt;T&gt; | string | number, value: T) {
  if (!currentInstance) {
    if (__DEV__) {
      <span class="hljs-built_in">warn</span>(`provide() can only be used inside <span class="hljs-built_in">setup</span>().`);
    }
    return;
  }
  <span class="hljs-comment">// è·å–å½“å‰ç»„ä»¶çš„ provides å¯¹è±¡</span>
  const provides = currentInstance<span class="hljs-selector-class">.provides</span>;
  <span class="hljs-comment">// è·å–çˆ¶ç»„ä»¶çš„ provides å¯¹è±¡ï¼ˆåŸå‹ï¼‰</span>
  const parentProvides =
    currentInstance<span class="hljs-selector-class">.parent</span> &amp;&amp; currentInstance<span class="hljs-selector-class">.parent</span><span class="hljs-selector-class">.provides</span>;

  <span class="hljs-comment">// å¦‚æœæ˜¯é¦–æ¬¡æä¾›è¯¥ keyï¼Œæˆ–è€… key çš„å€¼å‘ç”Ÿå˜åŒ–</span>
  if (parentProvides === provides) {
    <span class="hljs-comment">// ç»§æ‰¿çˆ¶ç»„ä»¶çš„ provides å¹¶åˆ›å»ºæ–°å¯¹è±¡</span>
    provides = currentInstance<span class="hljs-selector-class">.provides</span> = <span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.create</span>(parentProvides);
  }
  <span class="hljs-comment">// å°†å€¼å­˜å…¥ provides</span>
  provides<span class="hljs-selector-attr">[key as string]</span> = value;
}
</code></pre>
<h4 data-id="heading-8">3. inject å‡½æ•°çš„å®ç°</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æºç ä½ç½®ï¼špackages/runtime-core/src/apiInject.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> inject&lt;T&gt;(
  <span class="hljs-attr">key</span>: <span class="hljs-title class_">InjectionKey</span>&lt;T&gt; | <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>,
  defaultValue?: T | (<span class="hljs-function">() =&gt;</span> T),
  treatDefaultAsFactory = <span class="hljs-literal">false</span>
): T | <span class="hljs-literal">undefined</span> {
  <span class="hljs-comment">// è·å–å½“å‰ç»„ä»¶å®ä¾‹</span>
  <span class="hljs-keyword">const</span> instance = currentInstance || currentRenderingInstance;
  
  <span class="hljs-keyword">if</span> (instance) {
    <span class="hljs-comment">// ä¼˜å…ˆä»ç»„ä»¶è‡ªèº«çš„ provides æŸ¥æ‰¾ï¼Œå¦åˆ™ä» appContext æŸ¥æ‰¾</span>
    <span class="hljs-keyword">const</span> provides = instance.<span class="hljs-property">provides</span> || instance.<span class="hljs-property">appContext</span>.<span class="hljs-property">provides</span>;
    
    <span class="hljs-keyword">if</span> (provides &amp;&amp; (key <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span> | <span class="hljs-built_in">symbol</span>) <span class="hljs-keyword">in</span> provides) {
      <span class="hljs-comment">// æ‰¾åˆ°åˆ™è¿”å›å€¼</span>
      <span class="hljs-keyword">return</span> provides[key <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>];
    } 
    <span class="hljs-comment">// å¤„ç†é»˜è®¤å€¼</span>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">1</span>) {
      <span class="hljs-keyword">return</span> treatDefaultAsFactory &amp;&amp; <span class="hljs-keyword">typeof</span> defaultValue === <span class="hljs-string">'function'</span>
        ? (defaultValue <span class="hljs-keyword">as</span> () =&gt; T)()
        : defaultValue;
    } 
    <span class="hljs-comment">// å¼€å‘ç¯å¢ƒè­¦å‘Š</span>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (__DEV__) {
      <span class="hljs-title function_">warn</span>(<span class="hljs-string">`injection "<span class="hljs-subst">${<span class="hljs-built_in">String</span>(key)}</span>" not found.`</span>);
    }
  }
}
</code></pre>
<h3 data-id="heading-9">å››ã€å®é™…é¡¹ç›®ä¸­çš„é«˜çº§åº”ç”¨ï¼ˆç»“åˆåŸç†ï¼‰</h3>
<p>ç†è§£åŸç†åï¼Œæˆ‘ä»¬å¯ä»¥æ›´çµæ´»åœ°ä½¿ç”¨Â <code>provide</code>/<code>inject</code>ï¼š</p>
<h4 data-id="heading-10">åœºæ™¯ï¼šåˆ›å»ºå¯å¤ç”¨çš„ç»„ä»¶ä¸Šä¸‹æ–‡</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºä¸Šä¸‹æ–‡çš„ç»„åˆå‡½æ•°</span>
<span class="hljs-keyword">import</span> { provide, inject, reactive, readonly } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-comment">// ä½¿ç”¨ Symbol ä½œä¸ºå”¯ä¸€é”®ï¼ˆé¿å…å‘½åå†²çªï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">TABLE_CONTEXT_KEY</span> = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'table-context'</span>);

<span class="hljs-comment">// çˆ¶ç»„ä»¶æä¾›ä¸Šä¸‹æ–‡</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useTableProvider</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> tableState = <span class="hljs-title function_">reactive</span>({
    <span class="hljs-attr">data</span>: props.<span class="hljs-property">data</span>,
    <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">pagination</span>: {
      <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">pageSize</span>: <span class="hljs-number">10</span>
    },
    <span class="hljs-comment">// æ–¹æ³•</span>
    <span class="hljs-attr">fetchData</span>: <span class="hljs-function">() =&gt;</span> {
      tableState.<span class="hljs-property">loading</span> = <span class="hljs-literal">true</span>;
      <span class="hljs-comment">// å®é™…è¯·æ±‚é€»è¾‘...</span>
    },
    <span class="hljs-attr">changePage</span>: <span class="hljs-function">(<span class="hljs-params">page</span>) =&gt;</span> {
      tableState.<span class="hljs-property">pagination</span>.<span class="hljs-property">page</span> = page;
      tableState.<span class="hljs-title function_">fetchData</span>();
    }
  });

  <span class="hljs-comment">// æä¾›åªè¯»çš„ä¸Šä¸‹æ–‡ï¼ˆé˜²æ­¢å­ç»„ä»¶ä¿®æ”¹ï¼‰</span>
  <span class="hljs-title function_">provide</span>(<span class="hljs-variable constant_">TABLE_CONTEXT_KEY</span>, <span class="hljs-title function_">readonly</span>(tableState));
  
  <span class="hljs-keyword">return</span> tableState;
}

<span class="hljs-comment">// å­ç»„ä»¶æ³¨å…¥ä¸Šä¸‹æ–‡</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useTableInject</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> context = <span class="hljs-title function_">inject</span>(<span class="hljs-variable constant_">TABLE_CONTEXT_KEY</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'useTableInject must be used within a Table component'</span>);
  });
  
  <span class="hljs-keyword">return</span> context;
}
</code></pre>
<h4 data-id="heading-11">ç»„ä»¶ä¸­ä½¿ç”¨</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Table.vueï¼ˆçˆ¶ç»„ä»¶ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { defineProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> { useTableProvider } <span class="hljs-keyword">from</span> <span class="hljs-string">'./useTable'</span>;

<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Array</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-function">() =&gt;</span> []
  }
});

<span class="hljs-keyword">const</span> tableState = <span class="hljs-title function_">useTableProvider</span>(props);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-comment">&lt;!-- TablePagination.vueï¼ˆå­ç»„ä»¶ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { useTableInject } <span class="hljs-keyword">from</span> <span class="hljs-string">'./useTable'</span>;

<span class="hljs-keyword">const</span> tableContext = <span class="hljs-title function_">useTableInject</span>();

<span class="hljs-comment">// ä½¿ç”¨ä¸Šä¸‹æ–‡æ•°æ®</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tableContext.<span class="hljs-property">pagination</span>.<span class="hljs-property">page</span>);
<span class="hljs-comment">// è°ƒç”¨ä¸Šä¸‹æ–‡æ–¹æ³•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handlePageChange</span> = (<span class="hljs-params">page</span>) =&gt; {
  tableContext.<span class="hljs-title function_">changePage</span>(page);
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-12">æ€»ç»“</h3>
<p><code>provide</code>/<code>inject</code>Â çš„åº•å±‚åŸç†æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<ol>
<li><strong>åŸå‹é“¾ç»§æ‰¿</strong>ï¼šæ¯ä¸ªç»„ä»¶å®ä¾‹çš„Â <code>provides</code>Â å¯¹è±¡é€šè¿‡Â <code>Object.create()</code>Â ç»§æ‰¿è‡ªçˆ¶ç»„ä»¶çš„Â <code>provides</code>ï¼Œå½¢æˆé“¾å¼æŸ¥æ‰¾ç»“æ„ã€‚</li>
<li><strong>æŸ¥æ‰¾æœºåˆ¶</strong>ï¼š<code>inject</code>Â æ—¶ä¼šä»å½“å‰ç»„ä»¶çš„Â <code>provides</code>Â å¼€å§‹ï¼Œæ²¿ç€åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…çš„é”®æˆ–åˆ°è¾¾æ ¹ç»„ä»¶ã€‚</li>
<li><strong>å“åº”å¼ä¼ é€’</strong>ï¼š<code>provide</code>/<code>inject</code>Â ä»…ä¼ é€’æ•°æ®å¼•ç”¨ï¼Œå“åº”å¼ç”± Vue çš„å“åº”å¼ç³»ç»Ÿï¼ˆ<code>ref</code>/<code>reactive</code>ï¼‰ä¿è¯ã€‚</li>
<li><strong>ä½œç”¨åŸŸéš”ç¦»</strong>ï¼šæ¯ä¸ªç»„ä»¶çš„Â <code>provides</code>Â æ˜¯ç‹¬ç«‹çš„ï¼Œä½†é€šè¿‡åŸå‹é“¾å…±äº«çˆ¶ç»„ä»¶çš„æä¾›å€¼ï¼Œå®ç°éš”ç¦»ä¸å…±äº«çš„å¹³è¡¡ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[WebApp ä¸Šæ¶ iOS çš„å¯è¡Œæ€§åˆ†æï¼Œå®¡æŸ¥æœºåˆ¶ã€æŠ€æœ¯è½½ä½“ä¸å·¥ç¨‹è½åœ°æ–¹æ¡ˆçš„å…¨æµç¨‹è¯´æ˜]]></title>    <link>https://juejin.cn/post/7576264484689788968</link>    <guid>https://juejin.cn/post/7576264484689788968</guid>    <pubDate>2025-11-25T09:16:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576264484689788968" data-draft-id="7576219879680311331" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="WebApp ä¸Šæ¶ iOS çš„å¯è¡Œæ€§åˆ†æï¼Œå®¡æŸ¥æœºåˆ¶ã€æŠ€æœ¯è½½ä½“ä¸å·¥ç¨‹è½åœ°æ–¹æ¡ˆçš„å…¨æµç¨‹è¯´æ˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-25T09:16:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="00åç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1159358440539900"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            WebApp ä¸Šæ¶ iOS çš„å¯è¡Œæ€§åˆ†æï¼Œå®¡æŸ¥æœºåˆ¶ã€æŠ€æœ¯è½½ä½“ä¸å·¥ç¨‹è½åœ°æ–¹æ¡ˆçš„å…¨æµç¨‹è¯´æ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1159358440539900/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    00åç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:16:53.000Z" title="Tue Nov 25 2025 09:16:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨è®¸å¤šç§»åŠ¨äº§å“çš„æ—©æœŸé˜¶æ®µï¼Œå›¢é˜Ÿéƒ½ä¼šè€ƒè™‘ä»¥ WebAppï¼ˆWeb åº”ç”¨ï¼‰ä½œä¸ºä¸»å½¢æ€ï¼Œä»¥é™ä½å¼€å‘æˆæœ¬å¹¶ç¼©çŸ­è¿­ä»£å‘¨æœŸã€‚
ç„¶è€Œï¼Œå½“äº§å“å¸Œæœ›åœ¨ App Store åˆ†å‘æ—¶ï¼ŒWebApp çš„ä¸Šæ¶å¯è¡Œæ€§å°±å˜å¾—å¤æ‚ï¼šè‹¹æœå¹¶ä¸åå¯¹ Web æŠ€æœ¯ï¼Œä½†ä¼šä¸¥æ ¼é™åˆ¶â€œç½‘é¡µå£³åº”ç”¨â€ï¼ˆPure WebView Shellï¼‰ã€‚
å› æ­¤ï¼Œèƒ½å¦æˆåŠŸä¸Šæ¶ï¼Œä¸å–å†³äºæŠ€æœ¯æœ¬èº«ï¼Œè€Œå–å†³äº <strong>åº”ç”¨æ˜¯å¦å…·å¤‡åŸç”Ÿ App çš„åŠŸèƒ½ç‰¹å¾ä¸ç”¨æˆ·ä»·å€¼</strong>ã€‚</p>
<p>æœ¬æ–‡ä»¥é¡¹ç›®è¯„å®¡æ–‡æ¡£çš„æ–¹å¼ï¼Œä»åˆè§„ã€æ¶æ„ã€æ„å»ºä¸å®¡æ ¸å››ä¸ªç»´åº¦åˆ†æ â€œWebApp ä¸Šæ¶ iOSâ€ çš„å¯è¡Œè·¯å¾„ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€WebApp æ˜¯å¦èƒ½ä¸Šæ¶ iOSï¼Ÿæ ¸å¿ƒåœ¨äºåº”ç”¨ä»·å€¼è€ŒéæŠ€æœ¯æ ˆ</strong></h2>
<p>WebApp æœ¬è´¨ä¸Šæ˜¯ç”±å‰ç«¯æŠ€æœ¯ï¼ˆHTMLã€CSSã€JavaScriptï¼‰æ„å»ºçš„ Web åº”ç”¨ã€‚åŸåˆ™ä¸Šï¼š</p>
<blockquote>
<p><strong>å¯ä»¥ä¸Šæ¶ï¼Œä½†å¿…é¡»æ»¡è¶³ App è€Œéç½‘ç«™çš„ç•Œå®šæ ‡å‡†ã€‚</strong></p>
</blockquote>
<p>è‹¹æœæ‹’ç»çš„ä¸æ˜¯ Web æŠ€æœ¯ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>ä»…æä¾›ç½‘é¡µå†…å®¹ï¼Œæ— åŸç”Ÿäº¤äº’</li>
<li>æ²¡æœ‰æœ¬åœ°åŠŸèƒ½</li>
<li>é¡µé¢ç»“æ„è¿‡äºç®€å•</li>
<li>ç±»ä¼¼æµè§ˆå™¨æˆ–å¿«æ·æ–¹å¼</li>
<li>å¤šä¸ªåº”ç”¨å†…å®¹é‡å¤ï¼ˆè§¦å‘ 4.3ï¼‰</li>
</ul>
<p>æ‰€ä»¥ WebApp ä¸Šæ¶çš„æ ¸å¿ƒåœ¨äºï¼š</p>
<h3 data-id="heading-1"><strong>æ˜¯å¦ä¸º Appï¼Œè€Œéç½‘é¡µï¼Ÿ</strong></h3>
<p>å·¥ç¨‹å±‚é¢åªè¦åšåˆ°ä»¥ä¸‹â€œä¸‰ä¸ªåŸç”ŸåŒ–â€ï¼š</p>
<ol>
<li>åŸç”Ÿå¯¼èˆªå­˜åœ¨</li>
<li>åŸç”Ÿç³»ç»Ÿèƒ½åŠ›å‚ä¸ï¼ˆå¦‚ç›¸æœºã€å®šä½ã€æ–‡ä»¶é€‰æ‹©ï¼‰</li>
<li>æ¸…æ™°çš„å®¢æˆ·ç«¯ç»“æ„å±‚ï¼ŒWeb éƒ¨åˆ†æ˜¯å†…å®¹å±‚è€Œéå…¨éƒ¨é€»è¾‘</li>
</ol>
<p>é‚£ä¹ˆ WebApp æ˜¯å¯ä»¥é€šè¿‡å®¡æ ¸çš„ã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>äºŒã€WebApp ä¸Šæ¶å¸¸ç”¨çš„æŠ€æœ¯è½½ä½“ï¼šä¸åŒæ–¹æ¡ˆçš„é€‚ç”¨åœºæ™¯</strong></h2>
<p>WebApp æƒ³å˜æˆ iOS å¯æäº¤çš„ Appï¼Œå¿…é¡»â€œè£…è½½â€åœ¨æŸä¸ªå®¹å™¨é‡Œã€‚
å¸¸è§çš„ä¸‰ç§æœ€ç¨³å®šæ–¹æ¡ˆå¦‚ä¸‹ã€‚</p>
<hr/>
<h3 data-id="heading-3"><strong>æ–¹æ¡ˆ 1ï¼šåŸç”Ÿ WebView å®¹å™¨ï¼ˆHybrid æ··åˆç»“æ„ï¼‰</strong></h3>
<p>è¿™æ˜¯æœ€é€šç”¨çš„æ–¹å¼ï¼Œæ„é€ é€»è¾‘ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">åŸç”Ÿæ¡†æ¶å±‚ï¼ˆiOSï¼‰
<span class="hljs-code">    â†‘
ä¸šåŠ¡å®¹å™¨ï¼ˆWebViewï¼‰
    â†‘
WebApp å†…å®¹
</span></code></pre>
<p>ç‰¹è‰²ï¼š</p>
<ul>
<li>å‰ç«¯å¼€å‘æ•ˆç‡é«˜</li>
<li>å¯å¿«é€Ÿè¿­ä»£</li>
<li>å…·å¤‡å¯å®¡æ ¸çš„åŸç”Ÿç»“æ„</li>
<li>åç»­å¯å¹³æ»‘è¿‡æ¸¡åˆ°æ›´å¤æ‚çš„ Hybrid èƒ½åŠ›</li>
</ul>
<p>é€‚åˆå¤§é‡ä¾èµ–å†…å®¹å±•ç¤ºæˆ–ä¸­è½»é‡ä¸šåŠ¡çš„å›¢é˜Ÿã€‚</p>
<hr/>
<h3 data-id="heading-4"><strong>æ–¹æ¡ˆ 2ï¼šç¦»çº¿åŒ…ï¼ˆæœ¬åœ° H5ï¼‰+ åŸç”Ÿå¤–å£³</strong></h3>
<p>é€‚ç”¨äºç½‘ç»œä¾èµ–é«˜ã€å®¡æ ¸é˜¶æ®µç»å¸¸æ˜¾ç¤ºåŠ è½½å¤±è´¥çš„å›¢é˜Ÿã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>App å†…ç½® HTML/CSS/JS</li>
<li>æ‰“åŒ…æˆæœ¬åœ°èµ„æº</li>
<li>ä¸å—å®¡æ ¸æœºå™¨ç½‘ç»œå½±å“</li>
</ul>
<p>å¸¸ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>è¡¨å•ç±»äº§å“</li>
<li>å†…éƒ¨ç®¡ç†å·¥å…·</li>
<li>å†…å®¹ç›¸å¯¹å›ºå®šçš„é¡¹ç›®</li>
</ul>
<p>ç¦»çº¿åŒ…æ¯”åœ¨çº¿ H5 æ›´å®¹æ˜“é¿å… 2.1ï¼ˆåŠŸèƒ½ä¸å¯ç”¨ï¼‰æ‹’å®¡ã€‚</p>
<hr/>
<h3 data-id="heading-5"><strong>æ–¹æ¡ˆ 3ï¼šä½¿ç”¨è·¨å¹³å°æ¡†æ¶äºŒæ¬¡å°è£…ï¼ˆä¾‹å¦‚ uni-app / Ionic / Capacitorï¼‰</strong></h3>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>å†…ç½® WebView + åŸç”Ÿæ¨¡å—å¯¹æ¥</li>
<li>åŸç”Ÿ API è°ƒç”¨æ›´ç¨³å®š</li>
<li>æ„å»º iOS å·¥ç¨‹æ›´æ ‡å‡†åŒ–</li>
</ul>
<p>å°¤å…¶é€‚ç”¨äºå‰ç«¯å›¢é˜Ÿä¸»å¯¼ã€æ—  iOS å·¥ç¨‹å¸ˆçš„å›¢é˜Ÿã€‚</p>
<hr/>
<h2 data-id="heading-6"><strong>ä¸‰ã€WebApp éœ€è¦æ»¡è¶³çš„å®¡æ ¸è¦æ±‚</strong></h2>
<p>å¦‚æœ WebApp åªåšäº†â€œç½‘é¡µæ‰“å¼€â€ï¼Œé‚£ä¹ˆ 80% çš„æ¦‚ç‡ä¼šå› ä»¥ä¸‹æ¡æ¬¾æ‹’å®¡ï¼š</p>
<ul>
<li><strong>4.2ï¼šæœ€ä½åŠŸèƒ½è¦æ±‚</strong></li>
<li><strong>4.3ï¼šä¸ç°æœ‰ App é‡å¤</strong></li>
<li><strong>2.1ï¼šåŠŸèƒ½ä¸å¯ç”¨æˆ–åŠ è½½å¤±è´¥</strong></li>
</ul>
<p>å› æ­¤ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ‰å…·å¤‡å¯ä¸Šæ¶æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-7"><strong>1. å¿…é¡»å…·å¤‡åŸç”Ÿ UI</strong></h3>
<p>è‡³å°‘åŒ…æ‹¬ï¼š</p>
<ul>
<li>åŸç”Ÿå¯¼èˆªæ </li>
<li>åŸç”Ÿ TabBar</li>
<li>åŸç”ŸåŠ è½½è¿›åº¦æ¡</li>
<li>åŸç”Ÿ Toast æˆ–æç¤ºç»„ä»¶</li>
</ul>
<p>è‹¹æœéœ€è¦ç¡®è®¤ï¼š</p>
<blockquote>
<p>åº”ç”¨å…·æœ‰ App çš„åŸºæœ¬ç‰¹å¾ï¼Œè€Œä¸æ˜¯ç½‘é¡µé›†æˆã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-8"><strong>2. æƒé™è°ƒç”¨å¿…é¡»åŸç”Ÿè§¦å‘</strong></h3>
<p>Web å†… JS è°ƒç”¨ä¸æ˜¯é—®é¢˜ï¼Œä½†æƒé™å¿…é¡»ç”±ï¼š</p>
<ul>
<li>ç³»ç»Ÿå¼¹çª—</li>
<li>åŸç”Ÿè§¦å‘</li>
<li>æŒ‡å®šåŠŸèƒ½å…¥å£</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>æ‹ç…§ä¸Šä¼ </li>
<li>å®šä½æœåŠ¡</li>
<li>è“ç‰™ã€éº¦å…‹é£ç­‰</li>
</ul>
<p>å¦‚æœç”± H5 ç›´æ¥å¼¹æƒé™ï¼Œä¼šæ›´å®¹æ˜“è§¦å‘ 5.1.1 æ‹’å®¡ã€‚</p>
<hr/>
<h3 data-id="heading-9"><strong>3. ç™»é™†æµç¨‹è¦ç¨³å®šã€å¯é‡å¤</strong></h3>
<p>WebApp çš„å¸¸è§å®¡æ ¸å¤±è´¥ç‚¹ï¼š</p>
<ul>
<li>Cookie ä¸æŒä¹…</li>
<li>Session ä¸¢å¤±</li>
<li>ç™»å½•è·³è½¬é“¾è·¯å¤±è´¥</li>
</ul>
<p>ç‰¹åˆ«æ˜¯åœ¨å®¡æ ¸æœºå™¨ä½æ€§èƒ½ç½‘ç»œç¯å¢ƒä¸‹ã€‚</p>
<p>å»ºè®®ï¼š</p>
<ul>
<li>ä½¿ç”¨æœ¬åœ°å­˜å‚¨ä¿å­˜èº«ä»½æ ‡è¯†</li>
<li>ä¸ Web ç«¯å…±äº«ç™»å½•æ€</li>
</ul>
<p>è¿™æ˜¯æé«˜é€šè¿‡ç‡çš„å…³é”®ã€‚</p>
<hr/>
<h2 data-id="heading-10"><strong>å››ã€WebApp å¦‚ä½•æ„å»º iOS åŒ…ï¼Ÿï¼ˆå·¥ç¨‹ä¾§ï¼‰</strong></h2>
<p>æ„å»º IPA çš„æ–¹å¼å–å†³äºå®¹å™¨ç±»å‹ã€‚</p>
<hr/>
<h3 data-id="heading-11"><strong>1. ä½¿ç”¨ Xcode æ„å»ºï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰</strong></h3>
<p>é€‚åˆè‡ªå·±å†™åŸç”Ÿå®¹å™¨çš„å›¢é˜Ÿã€‚</p>
<p>æµç¨‹ï¼š</p>
<ul>
<li>å°† Web èµ„æºæ‰“å…¥ Xcode é¡¹ç›®</li>
<li>è®¾ç½® WebView æ§ä»¶</li>
<li>Archive â†’ Export</li>
</ul>
<p>æ“ä½œç›¸å¯¹ç¹çï¼Œä½†å¯æ§æ€§å¼ºã€‚</p>
<hr/>
<h3 data-id="heading-12"><strong>2. ä½¿ç”¨ uni-appã€Capacitor ç­‰å·¥å…·è‡ªåŠ¨ç”Ÿæˆ iOS å·¥ç¨‹</strong></h3>
<p>é€‚åˆå‰ç«¯å›¢é˜Ÿï¼š</p>
<ul>
<li>ä½¿ç”¨ Web æŠ€æœ¯å¼€å‘</li>
<li>ä½¿ç”¨æ¡†æ¶ CLI ç”Ÿæˆ iOS é¡¹ç›®</li>
<li>ä¸€é”®äº‘æ‰“åŒ…æˆ–æœ¬åœ°æ„å»º</li>
</ul>
<p>å‡å°‘å¯¹åŸç”Ÿå·¥ç¨‹å¸ˆçš„ä¾èµ–ã€‚</p>
<hr/>
<h2 data-id="heading-13"><strong>äº”ã€IPA ä¸Šä¼ ï¼šæ”¯æŒå¤šç³»ç»Ÿæ›´é€‚åˆ WebApp çš„é¢‘ç¹è¿­ä»£</strong></h2>
<p>WebApp å®¡æ ¸å¤§å¤šéœ€è¦åå¤ä¿®æ”¹ç»“æ„ï¼Œå› æ­¤ IPA ä¸Šä¼ éœ€è¦é«˜é¢‘æ‰§è¡Œã€‚</p>
<h3 data-id="heading-14"><strong>1. macOS å®˜æ–¹å·¥å…·</strong></h3>
<ul>
<li>Xcode Organizer</li>
<li>Transporter</li>
</ul>
<p>é€‚åˆå·²æœ‰ Mac çš„å›¢é˜Ÿã€‚</p>
<hr/>
<h3 data-id="heading-15"><strong>2. å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰è·¨å¹³å°å‘½ä»¤è¡Œä¸Šä¼ ï¼ˆæ›´é€‚åˆå‰ç«¯ä¸»å¯¼å›¢é˜Ÿï¼‰</strong></h3>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">appuploader_cli -u ios<span class="hljs-keyword">@team</span>.com -p xxx-xxx-xxx-xxx -c <span class="hljs-number">2</span> -f webapp.ipa
</code></pre>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>Windows/Linux/macOS éƒ½èƒ½ä¸Šä¼ </li>
<li>è‡ªåŠ¨åŒ–æ„å»ºå‹å¥½</li>
<li>å¤±è´¥é‡è¯•ç®€å•</li>
<li>é€‚ç”¨äº WebApp çš„å¤šæ¬¡è¿­ä»£</li>
</ul>
<p>WebApp åœ¨å®¡æ ¸æœŸé—´é€šå¸¸éœ€è¦å¤§é‡æäº¤ç‰ˆæœ¬ï¼Œå› æ­¤å‘½ä»¤è¡Œä¸Šä¼ æ˜¯é«˜æ•ˆæ–¹æ¡ˆã€‚</p>
<p>å›¾å½¢åŒ–ç•Œé¢ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8ca244d0ec149d3becf347434a38217~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMDDlkI7nqIvluo_lkZg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667013&amp;x-signature=GMTrBrfrGytogyuGBDCMmP7uyss%3D" alt="ipaä¸Šä¼ " loading="lazy"/></p>
<hr/>
<h2 data-id="heading-16"><strong>å…­ã€WebApp å®¡æ ¸é˜¶æ®µé«˜é£é™©ç‚¹ï¼ˆå¿…é¡»æå‰è§„é¿ï¼‰</strong></h2>
<p>WebApp å®¹æ˜“è§¦å‘çš„é—®é¢˜æ¯”åŸç”Ÿ App å¤šï¼Œé‡ç‚¹åŒ…æ‹¬ï¼š</p>
<hr/>
<h3 data-id="heading-17"><strong>1. åŠ è½½å¤±è´¥ï¼ˆ2.1ï¼‰</strong></h3>
<ul>
<li>æœåŠ¡å™¨å‡ºé”™</li>
<li>HTTPS é…ç½®é—®é¢˜</li>
<li>å®¡æ ¸æœºè®¿é—®å»¶è¿Ÿ</li>
<li>èµ„æºä¸ç¨³å®š</li>
</ul>
<p>å»ºè®®å‡†å¤‡ç¦»çº¿åŒ…æ¨¡å¼æˆ–ä¿è¯æ ¸å¿ƒé¡µé¢å¯æœ¬åœ°æ¸²æŸ“ã€‚</p>
<hr/>
<h3 data-id="heading-18"><strong>2. åŠŸèƒ½è¿‡äºç®€å•ï¼ˆ4.2ï¼‰</strong></h3>
<p>å¦‚æœ App çš„ä¸»è¦äº¤äº’éƒ½æ¥è‡ªç½‘é¡µï¼Œä¼šè¢«è®¤ä¸ºç¼ºä¹åº”ç”¨ä»·å€¼ã€‚</p>
<p>è§£å†³æ–¹å¼ï¼š</p>
<ul>
<li>å¢åŠ åŸç”Ÿå…¥å£ä¸æ“ä½œ</li>
<li>å¼•å…¥æœ¬åœ°ç¼“å­˜ã€æ–‡ä»¶ç®¡ç†ç­‰</li>
</ul>
<hr/>
<h3 data-id="heading-19"><strong>3. å†…å®¹é‡å¤ï¼ˆ4.3ï¼‰</strong></h3>
<p>å¤šä¸ª WebApp åŠŸèƒ½é›·åŒæ—¶ï¼Œä¼šè¢«åˆ¤å®šä¸ºé‡å¤ Appã€‚</p>
<hr/>
<h3 data-id="heading-20"><strong>4. æƒé™è¯´æ˜ä¸å®Œæ•´ï¼ˆ5.1.1ï¼‰</strong></h3>
<p>åŠ¡å¿…åœ¨ Info.plist ä¸­å†™æ˜ä½¿ç”¨æƒé™çš„å…·ä½“ç†ç”±ã€‚</p>
<hr/>
<h2 data-id="heading-21"><strong>WebApp å®Œå…¨å¯ä»¥ä¸Šæ¶ï¼Œä½†éœ€è¦App åŒ–ä¸å·¥ç¨‹åŒ–</strong></h2>
<p>ç»“è®ºå¾ˆæ˜ç¡®ï¼š</p>
<blockquote>
<p>WebApp èƒ½ä¸Šæ¶ï¼Œä½†å¿…é¡»å¸¦æœ‰åŸç”Ÿåº”ç”¨ç‰¹å¾ã€‚
æŠ€æœ¯æ ˆä¸æ˜¯å†³å®šå› ç´ ï¼Œä½“éªŒä¸ç»“æ„æ‰æ˜¯ã€‚</p>
</blockquote>
<p>é€šè¿‡ï¼š</p>
<ul>
<li>åŸç”Ÿå¤–å£³</li>
<li>æ¸…æ™°å¯¼èˆª</li>
<li>æƒé™è§„èŒƒ</li>
<li>ç¨³å®šæ„å»º</li>
<li>å¤šç³»ç»Ÿä¸Šä¼ å·¥å…·</li>
<li>å®¡æ ¸åˆè§„è®¾è®¡</li>
</ul>
<p>WebApp å®Œå…¨èƒ½å¤Ÿé¡ºåˆ©è¿›å…¥ App Storeã€‚
å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.applicationloader.net%2Ftutorial%2Fzh%2F15%2F15.html" target="_blank" title="https://www.applicationloader.net/tutorial/zh/15/15.html" ref="nofollow noopener noreferrer">www.applicationloader.net/tutorial/zhâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æ•°å­—åˆ°ç‰ˆé¢ï¼šå¾—ç‰©æ•°æ®äº§å“é‡Œæ•°å­—æ ¼å¼åŒ–çš„é‚£äº›äº‹]]></title>    <link>https://juejin.cn/post/7576245169844764712</link>    <guid>https://juejin.cn/post/7576245169844764712</guid>    <pubDate>2025-11-25T09:16:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576245169844764712" data-draft-id="7576338796846137384" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æ•°å­—åˆ°ç‰ˆé¢ï¼šå¾—ç‰©æ•°æ®äº§å“é‡Œæ•°å­—æ ¼å¼åŒ–çš„é‚£äº›äº‹"/> <meta itemprop="keywords" content="å‰ç«¯,æ•°æ®åˆ†æ,æ•°æ®ç»“æ„"/> <meta itemprop="datePublished" content="2025-11-25T09:16:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾—ç‰©æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2392954206960247"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æ•°å­—åˆ°ç‰ˆé¢ï¼šå¾—ç‰©æ•°æ®äº§å“é‡Œæ•°å­—æ ¼å¼åŒ–çš„é‚£äº›äº‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2392954206960247/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾—ç‰©æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:16:15.000Z" title="Tue Nov 25 2025 09:16:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰ è¨€</h2>
<p>åšæ•°æ®å‰ç«¯ï¼Œä½ ä¼šå¾ˆå¿«å»ºç«‹ä¸€ä¸ªå…±è¯†ï¼š</p>
<p>æ€æ ·æŠŠæ¯ç‡¥çš„æ•°å­—ç”¨åˆé€‚çš„æ–¹å¼å±•ç¤ºå‡ºæ¥ï¼Œæ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€è¦åŠ¡ï¼Œä½†è¿™åªæ˜¯èµ·ç‚¹ã€‚</p>
<p>å¦‚æœè¯´<strong>è§„èŒƒçš„æ•°å­—æ’ç‰ˆæ˜¯ä¸­åå°ç³»ç»Ÿçš„â€œåœ°åŸºâ€</strong> ï¼Œä¿è¯äº†ä¿¡æ¯çš„å‡†ç¡®ä¼ è¾¾ï¼›é‚£ä¹ˆ<strong>å¯è§†åŒ–å›¾è¡¨å°±æ˜¯åœ°åŸºä¹‹ä¸Šçš„â€œå»ºç­‘â€</strong> ã€‚åœ°åŸºç¨³å›ºï¼Œå»ºç­‘æ‰èƒ½å‘æŒ¥å…¶åŠŸèƒ½â€”â€”è®©ç”¨æˆ·ä»å¾®è§‚çš„è¯»æ•°ä¸­è§£æ”¾å‡ºæ¥ï¼Œæ›´å¿«é€Ÿåœ°è¯†åˆ«è¶‹åŠ¿ã€å®šä½å¼‚å¸¸ï¼Œä»è€ŒçœŸæ­£ä»æ•°æ®ä¸­è·å–è§„å¾‹ã€‚</p>
<p><strong>ä½†è¿™ç¯‡ä¸»è¦æƒ³èŠçš„ï¼Œä¸æ˜¯é‚£åº§â€œå»ºç­‘â€ï¼Œè€Œæ˜¯è¿™å—å¾€å¾€è¢«å¿½è§†ï¼Œå´å†³å®šäº†æ•´ä¸ªç³»ç»Ÿä¸“ä¸šåº¦çš„â€œåœ°åŸºâ€â€”â€”æ•°å­—æ ¼å¼åŒ–ã€‚</strong></p>
<p>è¯·çœ‹å¾—ç‰©å„ä¸šåŠ¡çº¿é‡Œçš„è¿™äº›æ—¥å¸¸åœºæ™¯ï¼š</p>
<ul>
<li>å•†å“è¯¦æƒ…é¡µï¼šåˆ¸åä»·ã€æŠ˜æ‰£ã€åˆ†æœŸå•ä»·ç­‰ï¼›</li>
<li>æ™ºç ï¼ˆå¾—ç‰©ç¤¾åŒºè¿è¥å¹³å°ï¼‰ã€å¾—æ•°ï¼ˆè‡ªåŠ©å–æ•°å¹³å°ï¼‰ã€æ™ºèƒ½è¿è¥ï¼ˆå¾—ç‰©äº¤æ˜“è¿è¥å¹³å°ï¼‰é‡Œçš„ GMVã€è½¬åŒ–ç‡ã€ç•™å­˜ç‡ã€PVCTRç­‰ï¼›</li>
<li>ç¤¾åŒºé‡Œå¸–å­é˜…è¯»é‡ã€ç‚¹èµæ•°ã€ç²‰ä¸æ•°ã€‚</li>
</ul>
<p>è¿™äº›æ•°å­—è¡¨é¢ä¸Šåªæ˜¯ numberï¼Œä¸€æ—¦å‡ºç°åœ¨å±å¹•ä¸Šï¼Œå°±è‡ªåŠ¨å˜æˆç‰ˆé¢çš„ä¸€éƒ¨åˆ†ï¼š</p>
<p>å¯¹é½æ–¹å¼ã€ä½æ•°é•¿çŸ­ã€å°æ•°å‡ ä½ã€æœ‰æ²¡æœ‰â€œä¸‡ / äº¿â€ã€å•ä½æ€ä¹ˆæ”¾â€”â€”éƒ½ä¼šå½±å“åˆ°æ•´ä¸ªé¡µé¢çš„èŠ‚å¥å’Œä¸“ä¸šæ„Ÿã€‚</p>
<p><strong>æ’ç‰ˆæœ¬è´¨ä¸Šæ˜¯åœ¨ç®¡ç†ä¿¡æ¯å’Œç§©åºï¼šå±‚çº§ã€èŠ‚å¥ã€å¯¹é½ã€ç•™ç™½ã€‚è€Œæ•°å­—ä¸æ˜¯æ’ç‰ˆçš„â€œé™„å±å“â€ï¼Œæ°æ°æ˜¯è¿™äº›åŸåˆ™æœ€å¯†é›†çš„è½½ä½“ã€‚</strong></p>
<p>æœ¬æ–‡ä¸å‘æ•£å»è°ˆæ•°æ®å¯è§†åŒ–ï¼Œåªä¸“æ³¨äºâ€œæ•°å­—æ ¼å¼åŒ–â€è¿™ä¸€ä»¶äº‹ï¼š</p>
<ol>
<li>ä»€ä¹ˆæ˜¯æ•°å­—æ ¼å¼åŒ–ï¼Ÿå®ƒèƒŒåæœ‰å“ªäº›é²œä¸ºäººçŸ¥çš„æ–‡åŒ–å·®å¼‚å’ŒæŠ€æœ¯ç»†èŠ‚ï¼Ÿ</li>
<li>å¦‚æœæ²¡æœ‰ç»Ÿä¸€æ–¹æ¡ˆï¼Œå¤±æ§çš„æ•°å­—ä¼šç»™äº§å“å†³ç­–ã€UI æ’ç‰ˆå’Œå·¥ç¨‹ç»´æŠ¤å¸¦æ¥ä»€ä¹ˆéº»çƒ¦ï¼Ÿ</li>
<li>å¾—ç‰©æ•°æ®å‰ç«¯åœ¨å¾—æ•° / æ™ºç  / æ™ºèƒ½è¿è¥é‡Œï¼Œæ˜¯æ€ä¹ˆæŠŠè¿™ä»¶äº‹ä»â€œå·¥å…·å‡½æ•°â€åšæˆâ€œåŸºç¡€è®¾æ–½â€çš„ï¼Ÿ</li>
<li>æˆ‘ä»¬åŸºäºIntl.NumberFormatå’Œ@dfx/number-format çš„æ–¹æ¡ˆï¼Œæ¶æ„æ˜¯æ€æ ·çš„ï¼Œå¸¦æ¥äº†å“ªäº›å®é™…æ”¶ç›Šï¼Ÿ</li>
</ol>
<h2 data-id="heading-1">äºŒã€ä»€ä¹ˆæ˜¯â€œæ•°å­—æ ¼å¼åŒ–â€ï¼Ÿä¸åªæ˜¯toFixed(2)</h2>
<p>ä¸€æåˆ°æåˆ°æ•°å­—æ ¼å¼åŒ–ï¼Œç¬¬ä¸€ååº”æ˜¯ï¼štoFixed(2)ã€æ‹¼ä¸ª%ã€åŠ ä¸ªÂ¥å°±å®Œäº‹äº†æˆ–è€…é€šè¿‡æ­£åˆ™æ¥æ‹¼æ¥åƒåˆ†ç¬¦ã€‚ä½†åœ¨çœŸå®ä¸–ç•Œé‡Œï¼Œâ€œ<strong>åŒä¸€ä¸ªæ•°é•¿æˆä»€ä¹ˆæ ·</strong>â€è¿œæ¯”æƒ³è±¡å¤æ‚ã€‚</p>
<h4 data-id="heading-2">2.1 æ•°å­—å†™æ³•æœ¬èº«å°±æ˜¯â€œæ–‡åŒ–å·®å¼‚â€</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50ae74d6a809495db83f38d7669db48b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666974&amp;x-signature=ZG5XEBI4Hs9EfefFPfT9m%2Bz68Ig%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%25B0%258F%25E6%2595%25B0%25E7%2582%25B9" target="_blank" title="https://zh.wikipedia.org/wiki/%E5%B0%8F%E6%95%B0%E7%82%B9" ref="nofollow noopener noreferrer">zh.wikipedia.org/wiki/å°æ•°ç‚¹</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/869fea91289547eab5c50a48d72560b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666974&amp;x-signature=9SyFwJfxRI6SrACQcir%2B3I0pkZg%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4872c79288c348a3906ceb38efff3d79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666974&amp;x-signature=2gzyGZfycuft2%2Bavseg4mxm7yyA%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><strong>å°æ•°åˆ†éš”ç¬¦çš„ç¬¦å·æ¼”å˜å²</strong></p>
<p>æ®Florian Cajori 1928å¹´çš„è‘—ä½œã€Šæ•°å­¦ç¬¦å·å²ã€‹è®°è½½ï¼Œå°æ•°åˆ†éš”ç¬¦ï¼ˆæ—§ç§° separatrixï¼‰çš„æ¼”å˜ç»å†äº†ä¸€ä¸ªæ¼«é•¿çš„æ ‡å‡†åŒ–è¿‡ç¨‹ã€‚</p>
<p>åœ¨æ—©æœŸæ•°å­¦æ–‡çŒ®ä¸­ï¼Œä¸åŒåœ°åŒºå¯¹å°æ•°çš„å¤„ç†æ–¹å¼å„å¼‚ã€‚ä»¥æ•°å€¼ 34.65 ä¸ºä¾‹ï¼Œä¸­ä¸–çºªæ–‡çŒ®å¸¸é‡‡ç”¨åœ¨æ•´æ•°ä¸å°æ•°é—´åŠ æ¨ªçº¿æˆ–åœ¨ä¸ªä½æ•°å­—ä¸Šæ–¹åŠ æ³¨æ ‡è®°çš„æ–¹å¼ã€‚è‹±å›½æ—©æœŸæ›¾é‡‡ç”¨ç«–çº¿â€œ|â€ä½œä¸ºåˆ†éš”ï¼Œååœ¨å°åˆ·ä¸­é€æ¸ç®€åŒ–ä¸ºé€—å·æˆ–ç‚¹ï¼Œè¿™ä¸å½“æ—¶é˜¿æ‹‰ä¼¯æ•°å­¦å®¶ä¸»è¦ä½¿ç”¨é€—å·çš„ä¹ æƒ¯ç›¸å‘¼åº”ã€‚</p>
<p><strong>â€œç‚¹â€ä¸â€œé€—å·â€åˆ†æµçš„å†å²æˆå› </strong></p>
<p>17 ä¸–çºªæœ«è‡³ 18 ä¸–çºªåˆæ˜¯ç¬¦å·æ ‡å‡†åŒ–çš„å…³é”®æ—¶æœŸï¼Œä¹Ÿæ˜¯è‹±ç¾ä½“ç³»ä¸æ¬§æ´²å¤§é™†ä½“ç³»äº§ç”Ÿåˆ†æ­§çš„èµ·ç‚¹ã€‚è¿™ä¸€å·®å¼‚åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå—åˆ°äº†å¾®ç§¯åˆ†å‘æ˜è€…åŠå…¶ç¬¦å·ä½“ç³»çš„å½±å“ï¼š</p>
<ol>
<li><strong>æ¬§æ´²å¤§é™†ï¼ˆè±å¸ƒå°¼èŒ¨çš„å½±å“ï¼‰</strong> ï¼šå¾·å›½æ•°å­¦å®¶è±å¸ƒå°¼èŒ¨æè®®ä½¿ç”¨â€œç‚¹â€ä½œä¸ºä¹˜æ³•ç¬¦å·ã€‚è¿™ä¸€æè®®ç»ç”±å…‹é‡Œæ–¯è’‚å®‰Â·æ²ƒå°”å¤«ç­‰å­¦è€…çš„æ¨å¹¿ï¼Œåœ¨æ¬§æ´²å¤§é™†æ•™ç§‘ä¹¦ä¸­å¹¿æ³›æ™®åŠã€‚ä¸ºäº†é¿å…ç¬¦å·å«ä¹‰çš„å†²çªï¼Œæ¬§æ´²å¤§é™†æ•°å­¦å®¶æ™®éé‡‡ç”¨äº†â€œé€—å·â€ä½œä¸ºå°æ•°åˆ†éš”ç¬¦ã€‚</li>
<li><strong>è‹±å›½ï¼ˆç‰›é¡¿ä½“ç³»çš„å»¶ç»­ï¼‰</strong> ï¼šè‹±å›½æ•°å­¦ç•Œæœªé‡‡çº³è±å¸ƒå°¼èŒ¨çš„ä¹˜æ³•ç¬¦å·ï¼Œè€Œæ˜¯æ²¿ç”¨â€œXâ€è¡¨ç¤ºä¹˜æ³•ã€‚å› æ­¤ï¼Œâ€œç‚¹â€åœ¨è‹±å›½å¹¶æœªè¢«ä¹˜æ³•å ç”¨ï¼Œå¾—ä»¥ç»§ç»­ä½œä¸ºå°æ•°åˆ†éš”ç¬¦ä½¿ç”¨ã€‚æ®ç»Ÿè®¡ï¼Œ18 ä¸–çºªåˆçš„è‹±å›½æ•™ç§‘ä¹¦ä¸­ï¼Œçº¦ 60% ä½¿ç”¨ç‚¹ï¼Œ40% ä½¿ç”¨é€—å·ï¼›è€Œåˆ°äº† 18 ä¸–çºªæœ«ï¼Œç‚¹å·²æˆä¸ºè‹±å›½çš„ç»å¯¹ä¸»æµã€‚</li>
</ol>
<p><strong>æ ‡å‡†çš„ç¡®ç«‹</strong></p>
<p>å°½ç®¡æ¯”åˆ©æ—¶å’Œæ„å¤§åˆ©ç­‰å›½æ›¾é•¿æœŸåšæŒä½¿ç”¨ç‚¹ä½œä¸ºå°æ•°åˆ†éš”ç¬¦ï¼Œä½†æœ€ç»ˆå‡å‘æ¬§æ´²å¤§é™†çš„ä¸»æµæ ‡å‡†é æ‹¢ï¼Œæ”¹ç”¨äº†é€—å·ã€‚è‡³æ­¤ï¼Œè‹±ç¾ä½¿ç”¨â€œå°æ•°ç‚¹â€ã€æ¬§æ´²å¤§é™†ä½¿ç”¨â€œå°æ•°é€—å·â€çš„æ ¼å±€åŸºæœ¬å®šå‹ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç›´è‡³20ä¸–çºªåˆï¼Œç¬¦å·çš„ç»Ÿä¸€ä»æœªå®Œå…¨å®Œæˆï¼Œå„ç±»æ–‡çŒ®ä¸­ä»å¯è§ç­‰éæ ‡å‡†å†™æ³•ã€‚</p>
<ul>
<li>è‹±è¯­ç³» / ä¸­å›½å¸¸è§å†™æ³•ï¼š1,234,567.89</li>
<li>å¾ˆå¤šæ¬§æ´²å›½å®¶ï¼š1.234.567,89ï¼ˆç‚¹æ˜¯åƒåˆ†ä½ï¼Œé€—å·æ˜¯å°æ•°ï¼‰</li>
<li>ç‘å£«ä¹ æƒ¯ï¼š1'234.56æˆ–1'234,56ï¼Œç”¨æ’‡å· ' åšåˆ†ç»„ã€‚</li>
</ul>
<p>è¿™äº›è§„åˆ™éƒ½å·²ç»è¢«æ•´ç†è¿›Unicode CLDRå’ŒICUæ•°æ®åº“ï¼Œç°ä»£æµè§ˆå™¨çš„Intl.NumberFormatå°±æ˜¯å»ºç«‹åœ¨è¿™å¥—æ•°æ®ä¹‹ä¸Šï¼Œèƒ½æ ¹æ® locale è‡ªé€‚åº”è¿™äº›å†™æ³•ã€‚</p>
<p>æ‰€ä»¥ï¼Œä¸€ä¸ªç®€å•çš„1,000ï¼š</p>
<ul>
<li>åœ¨ç¾å›½äººæˆ–ä¸­å›½äººçœ¼é‡Œæ˜¯â€œ one thousand / ä¸€åƒâ€ï¼›</li>
<li>åœ¨æŸäº›æ¬§æ´²è¯­å¢ƒä¸‹å¯èƒ½è¢«è¯»æˆâ€œä¿ç•™ä¸‰ä½å°æ•°çš„ä¸€ç‚¹é›¶â€ã€‚</li>
</ul>
<p>ä¸€æ—¦ä½ åšç”µå•†ã€è·¨å¢ƒã€æ•°æ®äº§å“ï¼Œè¿™ç§â€œå†™æ³•â€çš„å·®å¼‚ï¼Œå°±ä¸å†æ˜¯å°é—®é¢˜ï¼Œè€Œæ˜¯ç›´æ¥å½±å“å†³ç­–å’Œåˆè§„çš„ä¸œè¥¿ã€‚</p>
<h4 data-id="heading-3">2.2 æ•°å­—ä¸åªæ˜¯â€œå¤§å°â€è¿˜æœ‰è¯­ä¹‰å’Œè¯­æ°”</h4>
<p>åœ¨ UI é‡Œï¼Œæˆ‘ä»¬å…¶å®ç»å¸¸åœ¨è¡¨è¾¾â€œæ•°å­—çš„è¯­æ°”â€ï¼š</p>
<ul>
<li>+12.3%ï¼šä¸æ˜¯çº¯æ•°å­¦â€œåŠ å·â€ï¼Œè€Œæ˜¯ä¸€ç§â€œä¸Šæ¶¨â€çš„ä¿¡å·ï¼Œæ’ç‰ˆä¸Šå¸¸å¸¸é…åˆçº¢/ç»¿é¢œè‰²ï¼›</li>
<li>1.2M / 120 ä¸‡ï¼šä¸ºäº†èŠ‚çœç©ºé—´å’Œé™ä½è®¤çŸ¥è´Ÿæ‹…ï¼Œç”¨ç¼©å†™è¡¨ç¤ºé‡çº§ï¼›</li>
<li>&lt; 0.01ï¼šæå°æ•°å€¼ï¼Œè®©ç”¨æˆ·çŸ¥é“â€œæ¥è¿‘ 0â€ï¼Œè€Œä¸æ˜¯ç›¯ç€ä¸€ä¸² 0.000032 çš„æ•°å­—å°¾å·´å‘å‘†ï¼›</li>
<li>â€” /N/Aï¼šå‘Šè¯‰ç”¨æˆ·â€œè¿™é‡Œæ˜¯æ²¡æ•°æ® / å¼‚å¸¸â€ï¼Œè€Œä¸æ˜¯â€œå°±æ˜¯ 0â€ã€‚</li>
</ul>
<p>è¿™äº›éƒ½å±äºâ€œ<strong>æ•°å­—çš„è¡¨è¾¾</strong>â€è€Œéâ€œ<strong>è¿ç®—ç»“æœ</strong>â€ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬åªç”¨toFixedå’Œæ‹¼å­—ç¬¦ä¸²ï¼Œå¾ˆéš¾è®©è¿™äº›è¯­æ°”åœ¨æ•´ä¸ªç³»ç»Ÿå†…ä¿æŒä¸€è‡´ã€‚</p>
<h4 data-id="heading-4">2.3æµè§ˆå™¨å’Œ Node å·²ç»ç»™äº†æˆ‘ä»¬ä¸€ä¸ªâ€œå¼•æ“â€</h4>
<p>ECMAScript 402æ ‡å‡†ä¸­æä¾›çš„ Intl.NumberFormatï¼Œæ˜¯ä¸€ä¸ªä¸“é—¨åšæœ¬åœ°åŒ–æ•°å­—æ ¼å¼åŒ–çš„æ„é€ å™¨ã€‚</p>
<p>å®ƒæ”¯æŒï¼š</p>
<ul>
<li>æ ¹æ® locale åˆ‡æ¢å°æ•°ç‚¹ã€åˆ†ç»„è§„åˆ™ã€æ•°å­—ç¬¦å·ï¼›</li>
<li>è´§å¸æ ¼å¼ï¼šstyle: "currency" + currency: "CNY" | "JPY" | ...ï¼›</li>
<li>ç™¾åˆ†æ¯”ï¼šstyle: "percent"ï¼Œè‡ªåŠ¨ä¹˜ 100 å¹¶åŠ  %ï¼›</li>
<li>ç´§å‡‘è¡¨ç¤ºï¼šnotation: "compact"ï¼Œè¾“å‡º 9.9Mã€9.9äº¿ç­‰ç¼©å†™ï¼›</li>
<li>formatToParts()ï¼šæŠŠæ•°å­—æ‹†æˆæ•´æ•°ã€å°æ•°ç‚¹ã€å°æ•°ã€è´§å¸ç¬¦å·ç­‰ç‰‡æ®µï¼Œæ–¹ä¾¿åšæ›´ç²¾ç»†çš„æ’ç‰ˆã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œæ•°å­—æ ¼å¼åŒ–çš„â€œå¼•æ“é—®é¢˜â€å…¶å®å·²ç»æœ‰äººå¸®æˆ‘ä»¬è§£å†³äº†â€”â€”çœŸæ­£éš¾çš„æ˜¯ï¼š</p>
<ul>
<li>æ€ä¹ˆç»“åˆä¸šåŠ¡è¯­ä¹‰ï¼›</li>
<li>æ€ä¹ˆç»“åˆæ’ç‰ˆè§„èŒƒï¼›</li>
<li>æ€ä¹ˆåœ¨å¤šä¸ªç³»ç»Ÿä¹‹é—´åšåˆ°ä¸€è‡´ï¼›</li>
<li>æ€ä¹ˆæ²»ç†â€œä¸ä¹±å†™â€çš„å·¥ç¨‹å®è·µã€‚</li>
</ul>
<p>è¿™å°±å›åˆ°æˆ‘ä»¬è‡ªå·±çš„æ•…äº‹ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€å¦‚æœæ²¡æœ‰ç»Ÿä¸€æ–¹æ¡ˆï¼šä¸‰ä¸ªæ•°æ®äº§å“çš„æ—¥å¸¸</h2>
<p>ä¸‹é¢è¿™å‡ ä¸ªåœºæ™¯ï¼Œç›¸ä¿¡ä½ åœ¨å¾—ç‰©æˆ–ç±»ä¼¼ç”µå•†/æ•°æ®å¹³å°é‡Œä¸€å®šè§è¿‡ã€‚</p>
<p>æƒ³è±¡ä¸€å¼ å…¸å‹åå°é¡µé¢ï¼š</p>
<ul>
<li>é¡¶éƒ¨æ˜¯æ´»åŠ¨çœ‹æ¿ KPI å¡ç‰‡ï¼›</li>
<li>ä¸­é—´æ˜¯æŒ‰å“ç±»/æ¸ é“æ‹†å¼€çš„è¡¨æ ¼ï¼›</li>
<li>ä¸‹æ–¹æ˜¯åˆ›ä½œè€…è¡¨ç°åˆ—è¡¨ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb6e4bcd844a49108c0f3f8e646b6062~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666974&amp;x-signature=4Q5vJZa8O5q0rhIvH9xNUWxMqdE%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/373cea9240df4ca7b85787500142ff2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666974&amp;x-signature=rjADyhgP9W35CoMS2xJtghk2TZc%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8335ff638ef948d7924e43d81cb3e1bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666974&amp;x-signature=JeJSox8PW2H5BzBU88aAgCwhOto%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h4 data-id="heading-6">3.1 ä»·æ ¼ï¼šåŒä¸€å¼ è®¢å•ï¼Œä¸åŒç³»ç»Ÿâ€œé•¿å¾—ä¸åŒâ€</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15a4b4e842a84935877591a196779c14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666974&amp;x-signature=FoT7%2Bf%2Fr%2Fcllem9%2FyohBf6N7wVs%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>é‚£ä¹ˆï¼Œä»¥å‰æˆ‘ä»¬æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ</p>
<p>åœ¨æ²¡æœ‰ç»Ÿä¸€è§„èŒƒçš„â€œè›®è’æ—¶ä»£â€ï¼Œé¢å¯¹ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ååº”å¾€å¾€æ˜¯ï¼šâ€œè¿™è¿˜ä¸ç®€å•ï¼Ÿæ‹¼ä¸ªå­—ç¬¦ä¸²ä¸å°±å®Œäº‹äº†ï¼Ÿâ€</p>
<p>è¿™ç§ä»£ç ï¼Œä½ ä¸€å®šå†™è¿‡ï¼Œæˆ–è€…åœ¨é¡¹ç›®çš„æŸä¸ªè§’è½å®å®åœ¨åœ¨åœ°è§è¿‡ï¼š</p>
<p><strong>åœºæ™¯ä¸€ï¼šç®€å•ç²—æš´çš„æ‹¼æ¥ä¸€æŠŠæ¢­</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// "æˆ‘ç®¡ä½ ä»€ä¹ˆåœºæ™¯ï¼Œå…ˆæ‹¼ä¸Šå»å†è¯´"</span>
<span class="hljs-keyword">function</span>Â <span class="hljs-title function_">formatPrice</span>(<span class="hljs-params">value: number</span>) {
Â Â <span class="hljs-comment">// éšæ‚£åŸ‹é›·ï¼šè¿™é‡Œæ˜¯å…¨è§’ï¿¥è¿˜æ˜¯åŠè§’Â¥ï¼Ÿnull ä¼šå˜æˆ "Â¥null" å—ï¼Ÿ</span>
Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">'Â¥'</span>Â + value.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>);
}
</code></pre>
<p><strong>åœºæ™¯äºŒï¼šä¸ºäº†åƒåˆ†ä½ï¼Œæ‰‹å†™æ­£åˆ™â€œç‚«æŠ€â€</strong></p>
<pre><code class="hljs language-ini" lang="ini">// "ç½‘ä¸Šä¸€æœä¸€å¤§æŠŠçš„æ­£åˆ™ï¼Œçœ‹ç€èƒ½è·‘å°±è¡Œ"
exportÂ constÂ <span class="hljs-attr">formatNumberWithCommas</span>Â = (number:Â numberÂ |Â string) =&gt; {
Â Â constÂ <span class="hljs-attr">parts</span> =Â number.toString().split(<span class="hljs-string">'.'</span>)<span class="hljs-comment">;</span>
Â Â 
Â Â // ç»å…¸çš„æ­£åˆ™æ›¿æ¢ï¼Œä½†è¿™çœŸçš„è¦†ç›–äº†æ‰€æœ‰è´Ÿæ•°ã€æå¤§å€¼åœºæ™¯å—ï¼Ÿ
Â  parts<span class="hljs-section">[0]</span> = parts<span class="hljs-section">[0]</span>.replace(/\B(?=(\d{3})+(?!\d))/g,Â ',')<span class="hljs-comment">;</span>
Â Â 
Â Â // æ‰‹åŠ¨è¡¥é›¶é€»è¾‘ï¼Œä¸ä»…éš¾ç»´æŠ¤ï¼Œè¿˜å®¹æ˜“åœ¨è¾¹ç•Œæƒ…å†µï¼ˆå¦‚ undefinedï¼‰ä¸‹æŠ¥é”™
Â Â ifÂ (parts.lengthÂ &gt;Â 1Â &amp;&amp; parts<span class="hljs-section">[1]</span>?.<span class="hljs-attr">length</span>Â ===Â <span class="hljs-number">1</span>) {
Â  Â  parts<span class="hljs-section">[1]</span> = ${parts<span class="hljs-section">[1]</span>}0<span class="hljs-comment">;</span>
Â  }
Â Â returnÂ parts.join('.')<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™çœ‹èµ·æ¥ä¼¼ä¹â€œèƒ½ç”¨â€ï¼Œå¹¶ä¸”ç”¨èµ·æ¥è²Œä¼¼ä¹Ÿæ²¡å•¥é—®é¢˜ã€‚ä½†å½“ä¸šåŠ¡å¤æ‚åº¦ç¨å¾®ä¸Šæ¥ä¸€ç‚¹æˆ–è€…éœ€è¦åšå›½é™…åŒ–çš„æ—¶å€™ï¼Œé‚£æ¥æ‰‹è¿™ä¸ªéœ€æ±‚çš„åŒå­¦åªèƒ½å‘å‡ºä¸€å¥ã€å“¦å¼ã€ã€‚</p>
<ol>
<li><strong>è§†è§‰ä¸Šçš„â€œå„è‡ªä¸ºæ”¿â€</strong></li>
<li>
<ol>
<li><strong>ç¬¦å·æ‰“æ¶</strong>ï¼š å•†å“å¡ç‰‡ç”¨åŠè§’ â Â¥ï¼Œè¯¦æƒ…é¡µç”¨å…¨è§’ â ï¿¥ï¼Œç”šè‡³æœ‰çš„åœ°æ–¹æ··ç”¨äº† â CNYã€‚</li>
<li><strong>ç²¾åº¦éšå¿ƒ</strong>ï¼š æœ‰çš„å¼€å‘è§‰å¾— â toFixedï¼ˆ2ï¼‰ ä¸¥è°¨ï¼Œæœ‰çš„è§‰å¾— â ã€‚00 å¤ªå¤šä½™ç›´æ¥ç æ‰ï¼Œå¯¼è‡´åŒä¸€ä¸ªé¡µé¢é‡Œï¼Œå¯¼è‡´åŒä¸€ä¸ªé¡µé¢é‡Œï¼Œæ•°å­—åƒé”¯é½¿ä¸€æ ·å‚å·®ä¸é½ã€‚</li>
</ol>
</li>
<li><strong>æ’ç‰ˆä¸Šçš„â€œç§©åºå´©å¡Œâ€</strong></li>
<li>
<ol>
<li>è¯•æƒ³ä¸€ä¸ªè¡¨æ ¼åˆ—ï¼šâ 1299ã€â 1ï¼Œ299.00ã€â 1299.0 æ··åœ¨ä¸€èµ·ã€‚</li>
<li>å¯¹é½åŸºå‡†çº¿å®Œå…¨é”™ä¹±ï¼Œå°¤å…¶åœ¨è¡¨æ ¼é‡Œï¼Œå°±å’Œã€ç‹—å•ƒè¿‡ä¸€æ ·ã€ï¼ŒçŠ¬ç‰™äº¤é”™ï¼Œå‚å·®ä¸é½ï¼Œç”¨æˆ·çš„çœ¼ç›éœ€è¦åœ¨ä¸åŒçš„å°æ•°ä½ä¹‹é—´æ¥å›è·³è·ƒï¼Œé˜…è¯»ä½“éªŒæå·®ã€‚</li>
</ol>
</li>
<li><strong>å›½é™…åŒ–ä¸Šçš„â€œæ­»èƒ¡åŒâ€</strong></li>
<li>
<ol>
<li>è¿™ç§ç¡¬ç¼–ç é€»è¾‘ï¼ˆHardcodeï¼‰ï¼Œå®Œå…¨å µæ­»äº†å›½é™…åŒ–çš„è·¯ã€‚</li>
<li>ä¸€æ—¦ä¸šåŠ¡è¦æ”¯æŒ USDï¼ˆç¾å…ƒï¼‰ã€JPYï¼ˆæ—¥å…ƒï¼Œé»˜è®¤æ— å°æ•°ï¼‰ã€EURï¼ˆæ¬§å…ƒï¼Œéƒ¨åˆ†å›½å®¶ç”¨é€—å·åšå°æ•°ç‚¹ï¼‰ã€‚</li>
<li>æ¯”å¦‚ â 1,234ï¼Œ567.89ï¼ˆè‹±ç¾ï¼‰å’Œ â 1.234.567ï¼Œ89ï¼ˆå¾·æ„ï¼‰ï¼Œè¿™å®Œå…¨ä¸æ˜¯æ”¹ä¸ªç¬¦å·å°±èƒ½è§£å†³çš„ï¼Œè€Œæ˜¯æ•´ä¸ª<strong>æ•°å­—ä¹¦å†™é€»è¾‘</strong>çš„æ ¹æœ¬å·®å¼‚ã€‚</li>
</ol>
</li>
</ol>
<p><strong>æˆ‘ä»¬åŸæœ¬æƒ³çœäº‹å†™çš„å°å‡½æ•°ï¼Œæœ€ç»ˆå˜æˆäº†é˜»ç¢ç³»ç»Ÿæ¼”è¿›çš„æŠ€æœ¯å€ºåŠ¡ã€‚</strong></p>
<h4 data-id="heading-7">3.2çœ‹ä¼¼æ™ºèƒ½çš„â€œä¸‡/äº¿â€ç¼©å†™ï¼Œå…¶å®æ˜¯ç¡¬ç¼–ç çš„é™·é˜±</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70447d69189446d4a63a6de64ae4c95d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666974&amp;x-signature=P4GD2l1gaVXlZc7N5qTA8yW3PjY%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>åœ¨åˆ›ä½œè€…ä¸­å¿ƒæˆ–å†…å®¹ç¤¾åŒºï¼Œæˆ‘ä»¬å¸Œæœ›é˜…è¯»é‡ï¼ˆPVï¼‰èƒ½ç¬¦åˆç”¨æˆ·çš„ç›´è§‰è®¤çŸ¥ï¼š</p>
<ul>
<li><strong>å°æ•°å€¼</strong>ï¼šâ &lt; 10,000 æ—¶ï¼Œæ˜¾ç¤ºå®Œæ•´æ•°å­—ï¼Œç²¾ç¡®åˆ°ä¸ªä½ï¼›</li>
<li><strong>ä¸­é‡çº§</strong>ï¼šâ â‰¥ 10,000 æ—¶ï¼Œç¼©å†™ä¸º â X.X ä¸‡ï¼›</li>
<li><strong>æµ·é‡çº§</strong>ï¼šâ‰¥ 100,000,000 æ—¶ï¼Œç¼©å†™ä¸º â X.X äº¿ã€‚</li>
</ul>
<p>å¦‚æœæ˜¯æµ·å¤–ç‰ˆï¼Œéœ€æ±‚åˆå˜æˆäº†ï¼šâ 1.2k/â 3.4M/5.6Bã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬å†™å‡ºäº†é‚£æ®µç»å…¸çš„â formatPv</p>
<pre><code class="hljs language-scss" lang="scss">functionÂ <span class="hljs-built_in">formatPv</span>(count: number) {
Â Â ifÂ (count &lt;Â <span class="hljs-number">10000</span>)Â returnÂ <span class="hljs-built_in">String</span>(count);
Â Â ifÂ (count &lt;Â <span class="hljs-number">100000000</span>)Â returnÂ (count /Â <span class="hljs-number">10000</span>)<span class="hljs-selector-class">.toFixed</span>(<span class="hljs-number">1</span>) +Â 'ä¸‡';
Â Â returnÂ (count /Â <span class="hljs-number">100000000</span>)<span class="hljs-selector-class">.toFixed</span>(<span class="hljs-number">1</span>) +Â 'äº¿';
}
</code></pre>
<p>è¿™æ®µä»£ç é€»è¾‘æ¸…æ™°ï¼Œçœ‹ä¼¼è§£å†³äº†é—®é¢˜ã€‚ä½†åœ¨çœŸå®åœºæ™¯ä¸­ï¼Œå®ƒå´æ˜¯ä¸€ä¸ªâ€œ<strong>Bug åˆ¶é€ æœº</strong>â€ï¼š</p>
<p><strong>1.ä¸´ç•Œç‚¹çš„â€œè§†è§‰çªå˜â€</strong></p>
<ul>
<li>9999 ä¸‹ä¸€ç§’å˜æˆ â 1.0 ä¸‡ï¼Ÿäº§å“ä¼šç«‹åˆ»æ‰¾ä½ ï¼šâ€œè¿™ä¸ªæ•°å±•ç¤ºæ˜¯ä¸æ˜¯ä¸å¤§å¯¹ï¼Œèƒ½ä¸èƒ½9999ä¹‹åæ˜¾ç¤º 1.0w è€Œä¸æ˜¯ 1.0 ä¸‡ï¼Ÿâ€</li>
<li>99950 å››èˆäº”å…¥å˜æˆ â 10.0 ä¸‡ï¼Œè¦ä¸è¦æ˜¾ç¤ºæˆæ›´ç›´è§‚çš„ â 10 ä¸‡ï¼Ÿè¿™äº›å¾®å°çš„ç»†èŠ‚ï¼Œéœ€è¦å †ç Œå¤§é‡çš„ â if-else æ¥ä¿®è¡¥ã€‚</li>
</ul>
<p><strong>2.ç»´æŠ¤ä¸Šçš„â€œå¤åˆ¶ç²˜è´´åœ°ç‹±â€</strong></p>
<ul>
<li>ä¸­æ–‡ç‰ˆå†™ä¸€å¥—ï¼Œè‹±æ–‡ç‰ˆ â formatPvEn å†å†™ä¸€å¥—ï¼Œç­‰å’±ä»¬çš„ä¸šåŠ¡åšå¾€ä¸–ç•Œå„åœ°çš„æ—¶å€™ï¼Œé‚£å¾—è¦å¤šå°‘ formatPvï¼ˆxxï¼‰å‘¢ï¼Ÿ</li>
<li>A é¡¹ç›®æ‹·ä¸€ä»½ï¼ŒB é¡¹ç›®æ‹·ä¸€ä»½ã€‚ç­‰å“ªå¤©äº§å“è¯´â€œä¸‡â€åé¢ä¸ç•™å°æ•°äº†ï¼Œä½ å¾—å» N ä¸ªä»“åº“é‡ŒæŠŠè¿™è¡Œä»£ç æ‰¾å‡ºæ¥æ”¹ä¸€éã€‚æœ€ç»ˆç»“æœå°±æ˜¯ï¼š<strong>å…¨ç«™çš„ç¼©å†™ç­–ç•¥å¤„äºä¸€ç§â€œç›¸ä¼¼ä½†ä¸ä¸€è‡´â€çš„è–›å®šè°”çŠ¶æ€ã€‚</strong></li>
</ul>
<p><strong>3.æ–‡åŒ–é€‚é…ä¸Šçš„â€œç›²åŒºâ€</strong></p>
<ul>
<li>è¿™å¥—é€»è¾‘æ˜¯å…¸å‹çš„â€œç®€ä½“ä¸­æ–‡ä¸­å¿ƒä¸»ä¹‰â€ã€‚</li>
<li><strong>å°åº¦ç”¨æˆ·</strong>çœ‹åˆ°â 100k æ˜¯æ²¡æ„Ÿè§‰çš„ï¼Œä»–ä»¬ä¹ æƒ¯ç”¨ â Lakh ï¼ˆ10 ä¸‡ï¼‰ å’Œ â Crore ï¼ˆ1000 ä¸‡ï¼‰ï¼›</li>
<li><strong>é˜¿æ‹‰ä¼¯è¯­åŒº</strong>å¯èƒ½éœ€è¦ç”¨ä¸œé˜¿æ‹‰ä¼¯æ•°å­—ã€‚</li>
</ul>
<p>è¿™ä¸ä»…ä»…æ˜¯æŠŠâ€œä¸‡â€ç¿»è¯‘æˆâ€œWanâ€çš„é—®é¢˜ï¼Œè€Œæ˜¯<strong>æ•°å­—åˆ†çº§é€»è¾‘</strong>åœ¨ä¸åŒæ–‡åŒ–ä¸­å®Œå…¨ä¸åŒï¼Œåœ¨å‰é¢é’ˆå¯¹ç¬¦å·ç³»ç»Ÿæˆ‘ä»¬ä¹Ÿæåˆ°è¿‡ã€‚</p>
<p>æˆ‘ä»¬åœ¨ UI ä¸Šç¡¬å¡äº†ä¸€å¥—â€œåªèƒ½åœ¨ç®€ä½“ä¸­æ–‡é‡Œè‡ªæ´½â€çš„è§„åˆ™ï¼Œè¿™åœ¨å›½é™…åŒ–äº§å“ä¸­æ˜¯è¡Œä¸é€šçš„ã€‚</p>
<h4 data-id="heading-8">3.3 è¢«â€œæŠ¹å¹³â€çš„è¯­ä¹‰â€”0ã€ç©ºå€¼ä¸æå°å€¼</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9829b94976884ec5b64815a5a79b7fb4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666974&amp;x-signature=Wr55kBhFt%2BGf4GClUCPWCqjOgRE%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>åœ¨å¾—æ•°ï¼ˆè‡ªåŠ©å–æ•°å¹³å°ï¼‰ã€æ™ºç ï¼ˆå¾—ç‰©ç¤¾åŒºè¿è¥å¹³å°ï¼‰ã€æ™ºèƒ½è¿è¥ï¼ˆå¾—ç‰©äº¤æ˜“è¿è¥å¹³å°ï¼‰è¿™ç±»é‡åº¦æ•°æ®çœ‹æ¿ä¸­ï¼Œæˆ‘ä»¬å……æ–¥ç€å„ç§<strong>æ¯”ç‡å‹æŒ‡æ ‡</strong>ï¼š</p>
<ul>
<li><strong>é£æ§ç±»</strong>ï¼šé‰´åˆ«é€šè¿‡ç‡ã€æ‹¦æˆªç‡ï¼›</li>
<li><strong>å±¥çº¦ç±»</strong>ï¼šè¶…æ—¶ç‡ã€æŠ•è¯‰æˆåŠŸç‡ï¼›</li>
<li><strong>å¢é•¿ç±»</strong>ï¼šæ´»åŠ¨è½¬åŒ–ç‡ã€å¤è´­ç‡ã€‚</li>
</ul>
<p>é¢å¯¹è¿™äº›æŒ‡æ ‡ï¼Œä»¥å‰æœ€å¸¸è§çš„å¤„ç†æ–¹å¼æ˜¯å†™ä¸€ä¸ªé€šç”¨çš„ formatPercentï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span>Â <span class="hljs-title function_">formatPercent</span>(<span class="hljs-params">value: number |Â <span class="hljs-literal">null</span>Â |Â <span class="hljs-literal">undefined</span></span>) {
Â Â <span class="hljs-comment">// "æ²¡æ•°æ®å°±å½“ 0 ç®—å‘—ï¼Œçœå¾—æŠ¥é”™"</span>
Â Â <span class="hljs-keyword">return</span>Â ((value ||Â <span class="hljs-number">0</span>) *Â <span class="hljs-number">100</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>) +Â <span class="hljs-string">'%'</span>;
}
</code></pre>
<p>è¿™è¡Œä»£ç è™½ç„¶åªæœ‰ä¸€å¥è¯ï¼Œå´åœ¨ä¸šåŠ¡å±‚é¢çŠ¯äº†<strong>ä¸‰ä¸ªä¸¥é‡çš„é”™è¯¯ï¼š</strong></p>
<p><strong>1. æ··æ·†äº†â€œäº‹å®â€ä¸â€œç¼ºå¤±â€</strong></p>
<ul>
<li>â null ä»£è¡¨æ•°æ®æœªäº§å‡ºæˆ–é“¾è·¯å¼‚å¸¸ï¼ˆå°±æ˜¯æ²¡æ•°ï¼‰ï¼Œè€Œ â 0 ä»£è¡¨ä¸šåŠ¡ç»“æœç¡®å®ä¸ºé›¶ã€‚</li>
<li>ä»£ç ç²—æš´åœ°å°† â null è½¬ä¸º â 0.00%ï¼Œä¼šè®©ç”¨æˆ·è¯¯ä»¥ä¸ºâ€œä»Šå¤©æ²¡äººæŠ•è¯‰â€æˆ–â€œè½¬åŒ–ç‡ä¸º 0â€ï¼Œä»è€Œæ©ç›–äº†èƒŒåçš„ç³»ç»Ÿæ•…éšœæˆ–æ•°æ®å»¶è¿Ÿã€‚</li>
</ul>
<p><strong>2. â€œæŠ¹æ€â€äº†é•¿å°¾æ•°æ®çš„ä»·å€¼</strong></p>
<ul>
<li>å¯¹äº AB æˆ–ç®—æ³•æ¨¡å‹æ¥è¯´ï¼Œâ 0.000032 æ˜¯ä¸€ä¸ªå…·å¤‡ç»Ÿè®¡æ„ä¹‰çš„æ¦‚ç‡å€¼ã€‚</li>
<li>è¢«è¿™è¡Œä»£ç å¼ºè¡Œæˆªæ–­ä¸º â 0.00% åï¼Œä¸šåŠ¡åŒå­¦ä¼šå›°æƒ‘ï¼šâ€œä¸ºä»€ä¹ˆ P å€¼è¿˜èƒ½æ˜¯ 0 çš„å˜›ï¼Ÿâ€è¿™ç›´æ¥æŸå®³äº†æ•°æ®çš„å…¬ä¿¡åŠ›ï¼Œä¸¥é‡ç‚¹æ¥è¯´ï¼Œéƒ½ä¼šå½±å“ä¸šåŠ¡å†³ç­–ã€‚</li>
</ul>
<p><strong>3. é˜»æ–­äº†ç²¾ç»†åŒ–è¡¨è¾¾çš„å¯èƒ½</strong></p>
<p>å½“ä½ æƒ³æŠŠæå°å€¼ä¼˜åŒ–ä¸º â &lt; 0.01% è¿™ç§æ›´ç§‘å­¦çš„è¡¨è¾¾æ—¶ï¼Œä½ é€šè¿‡ vscode ä¸€æœä»£ç ï¼Œ500+ æ–‡ä»¶ï¼Œç›´æ¥å°±ä¸¤çœ¼ä¸€é»‘ã€‚</p>
<p>ä»æ’ç‰ˆè®¾è®¡çš„è§’åº¦çœ‹ï¼Œè¿™ä¸‰è€…æœ¬åº”æ‹¥æœ‰å®Œå…¨ä¸åŒçš„è§†è§‰å±‚çº§ï¼š</p>
<ul>
<li><strong>ç©ºå€¼ï¼ˆNo Dataï¼‰</strong> ï¼šä½¿ç”¨ â â€” æˆ–ç°è‰²å ä½ç¬¦ï¼Œè¡¨ç¤ºâ€œæ­¤å¤„æ— ä¿¡æ¯â€ï¼Œé™ä½è§†è§‰å¹²æ‰°ï¼›</li>
<li><strong>å¼‚å¸¸å€¼ï¼ˆErrorï¼‰</strong> ï¼šä½¿ç”¨ â N/A æˆ–è­¦ç¤ºè‰²ï¼Œæç¤ºç”¨æˆ·â€œæ•°æ®æœ‰é—®é¢˜â€ï¼›</li>
<li><strong>æå°å€¼ï¼ˆTiny Valueï¼‰</strong> ï¼šä½¿ç”¨ â &lt; 0.01% æˆ–è€…â‰ˆ 0ï¼Œä¿ç•™æ•°æ®çš„å­˜åœ¨æ„Ÿï¼ŒåŒæ—¶ä¼ è¾¾â€œæ¥è¿‘äºé›¶â€çš„å‡†ç¡®è¯­ä¹‰ã€‚</li>
</ul>
<p>å¾—æ•°DataHubåœ¨æ²»ç†å±•ç¤ºå±‚æ—¶å‘ç°ï¼Œå¤§é‡â€œåŒä¸€ä¸ªæŒ‡æ ‡åœ¨ä¸åŒé¡µé¢é•¿å¾—ä¸ä¸€æ ·â€ï¼Œæ ¹æºå°±åœ¨äºè¿™äº›å„è‡ªä¸ºæ”¿ã€ç¼ºä¹è¯­ä¹‰åŒºåˆ†çš„æ ¼å¼åŒ–è§„åˆ™ã€‚</p>
<h2 data-id="heading-9">å››ã€ä»â€œå†™å·¥å…·å‡½æ•°â€åˆ°â€œå®šä¹‰å±•ç¤ºè¯­ä¹‰â€</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a75a01a0ad6c4a9092e43f0b2141d167~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666974&amp;x-signature=OQX7zmusHsyF9zdVRPa9pp9ct3M%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>å›é¡¾ä¸Šè¿°åœºæ™¯ï¼Œé€è¿‡é‚£äº›æ··ä¹±çš„ä»£ç ç‰‡æ®µï¼Œå¯ä»¥å‘ç°ä¸‰ä¸ªå…±æ€§çš„ç³»ç»Ÿæ€§éš¾é¢˜ï¼š</p>
<ol>
<li><strong>é€»è¾‘ç†µå¢</strong>ï¼šæ¯ä¸ªä¸šåŠ¡çº¿ã€ç”šè‡³æ¯ä¸ªé¡µé¢éƒ½åœ¨é‡å¤é€ è½®å­ã€‚â formatPriceã€â formatPercent éåœ°å¼€èŠ±ï¼Œå‰åç«¯é€»è¾‘å‰²è£‚ï¼Œç»´æŠ¤æˆæœ¬éšç€ä¸šåŠ¡æ‰©å¼ å‘ˆæŒ‡æ•°çº§ä¸Šå‡ã€‚</li>
<li><strong>æ— æ³•æ²»ç†</strong>ï¼šæƒ³æŠŠå…¨ç«™çš„â€œä¸‡ / äº¿â€é˜ˆå€¼ç»Ÿä¸€ï¼Ÿæˆ–è€…æŠŠæŸç§è´¹ç‡çš„ç²¾åº¦ä»ä¸¤ä½æ”¹æˆå››ä½ï¼Ÿè¿™å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ä»»åŠ¡ã€‚</li>
<li><strong>ä½“éªŒå¤±æ§</strong>ï¼šè®¾è®¡è§„èŒƒè™½ç„¶å†™ç€â€œç©ºå€¼ç”¨ â€”â€ï¼Œä½†è½å®åˆ°ä»£ç é‡Œå…¨çœ‹å¼€å‘å¿ƒæƒ…ã€‚ç»“æœå°±æ˜¯ç”¨æˆ·åœ¨ä¸åŒç³»ç»Ÿé—´åˆ‡æ¢æ—¶ï¼Œçœ‹åˆ°çš„æ˜¯ä¸€ç§â€œä¼¼æ˜¯è€Œéâ€çš„ç»Ÿä¸€ï¼Œä¸¥é‡å½±å“äº†äº§å“çš„ä¸“ä¸šæ„Ÿã€‚</li>
</ol>
<p><strong>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œåœ¨æ•°æ®åŸŸäº§å“ä¸­ï¼Œæˆ‘ä»¬å¯¹â€œæ ¼å¼åŒ–â€è¿™ä»¶äº‹è¿›è¡Œäº†é‡æ–°å®šä¹‰ï¼š</strong></p>
<p>å®ƒä¸åªæ˜¯å‰ç«¯çš„ UI æ¸²æŸ“é€»è¾‘ï¼Œè€Œæ˜¯æŒ‡æ ‡å®šä¹‰çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>æˆ‘ä»¬ä¸ä»…è¦å®šä¹‰â€œæŒ‡æ ‡çš„è®¡ç®—å£å¾„â€ï¼Œæ›´è¦å®šä¹‰â€œæŒ‡æ ‡çš„å±•ç¤ºè¯­ä¹‰â€ã€‚</p>
<p>åœ¨ Galaxyï¼ˆæŒ‡æ ‡ç®¡ç†å¹³å°ï¼‰å®šä¹‰å¥½â€œæ•°æ˜¯æ€ä¹ˆç®—å‡ºæ¥çš„â€ä¹‹åï¼Œå¾—æ•° DataHub æ‰¿æ‹…èµ·äº†å®šä¹‰â€œæ•°è¯¥æ€ä¹ˆè¢«çœ‹è§â€çš„èŒè´£ã€‚æˆ‘ä»¬å°†è¿™å±‚é€»è¾‘æŠ½è±¡ä¸º <strong>â€œå±•ç¤ºè¯­ä¹‰â€ï¼ˆVisualization Semanticsï¼‰</strong> ï¼š</p>
<ul>
<li><strong>å®šç±»å‹ï¼ˆTypeï¼‰</strong> ï¼šå®ƒæ˜¯é‡‘é¢ï¼ˆCurrencyï¼‰ã€æ¯”ç‡ï¼ˆRatioï¼‰ï¼Œè¿˜æ˜¯è®¡æ•°ï¼ˆIntegerï¼‰ï¼Ÿ</li>
<li><strong>å®šå•ä½ï¼ˆUnitï¼‰</strong> ï¼šé»˜è®¤æ˜¯å…ƒ / ä¸‡å…ƒï¼Œè¿˜æ˜¯ %ã€â€° ï¼ˆåƒåˆ†æ¯”ï¼‰ æˆ– bp ï¼ˆåŸºç‚¹ï¼‰ï¼Ÿ</li>
<li><strong>å®šç²¾åº¦ï¼ˆPrecisionï¼‰</strong> ï¼šå°æ•°ä½æ˜¯å›ºå®šä¿ç•™ä¸¤ä½ï¼Œè¿˜æ˜¯æ ¹æ®æ•°å€¼å¤§å°åŠ¨æ€æˆªæ–­ï¼Ÿ</li>
<li><strong>å®šçŠ¶æ€ï¼ˆStateï¼‰</strong> ï¼šé‡åˆ° Nullï¼ˆç©ºå€¼ï¼‰ã€Errorï¼ˆå¼‚å¸¸ï¼‰æˆ– Epsilonï¼ˆæå°å€¼ï¼‰ï¼Œå±•ç¤ºå±‚è¯¥å¦‚ä½•å…œåº•ï¼Ÿ</li>
<li><strong>å®šåœºæ™¯ï¼ˆContextï¼‰</strong> ï¼š åœ¨ç©ºé—´å±€ä¿ƒçš„ KPI å¡ç‰‡é‡Œï¼ˆè¿½æ±‚ç®€æ´ï¼‰ï¼Œå’Œéœ€è¦è´¢åŠ¡æ ¸å¯¹çš„ æ˜ç»†è¡¨æ ¼é‡Œï¼ˆè¿½æ±‚ç²¾ç¡®ï¼‰ï¼Œæ˜¯å¦åº”ç”¨ä¸åŒçš„æ¸²æŸ“ç­–ç•¥ï¼Ÿ</li>
</ul>
<p><strong>è¿™æ˜¯ä¸€ç§æ¶æ„ä¸Šçš„å‡ç»´ï¼š</strong></p>
<p>è¿™äº›å…³äºâ€œé•¿ä»€ä¹ˆæ ·â€çš„é€»è¾‘ï¼Œä»æ­¤ä¸å†æ•£è½åœ¨ä¸šåŠ¡ä»£ç çš„ â if-else é‡Œï¼Œè€Œæ˜¯è¢«ç»Ÿä¸€æ”¶æ‹¢åˆ°å…ƒæ•°æ®ç³»ç»Ÿä¸­è¿›è¡Œç®¡ç†ã€‚</p>
<p>ä»è¿™ä¸€åˆ»èµ·ï¼Œæ•°å­—æ ¼å¼åŒ–ä¸å†æ˜¯å‰ç«¯æ¨¡æ¿é‡Œçš„ä¸€ä¸ªå°å·¥å…·ï¼Œè€Œæ˜¯æˆä¸ºäº†å¾—æ•°ä½“ç³»çš„ä¸€é¡¹<strong>åŸºç¡€è®¾æ–½</strong>â€”â€”ä¸€å±‚ç‹¬ç«‹ã€å¯é…ç½®ã€å¯æ²»ç†çš„<strong>æ•°æ®é¢†åŸŸæœåŠ¡</strong>ã€‚</p>
<h2 data-id="heading-10">äº”ã€å¼€å§‹é€ è½®å­ï¼šç«™åœ¨Intl.NumberFormat è‚©è†€ä¸Š</h2>
<p>åœ¨ç€æ‰‹å¼€å‘ä¹‹å‰ï¼Œé¦–å…ˆç¡®ç«‹äº†ä¸€ä¸ªåŸåˆ™ï¼š<strong>åº•å±‚èƒ½åŠ›ä¸é€ è½®å­ï¼Œæ‹¥æŠ± Web æ ‡å‡†ã€‚</strong></p>
<p>ECMAScript 402 æ ‡å‡†ä¸­çš„ â Intl.NumberFormat å·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæå…¶å¼ºå¤§çš„æœ¬åœ°åŒ–æ ¼å¼åŒ–å¼•æ“ã€‚å®ƒçš„èƒ½åŠ›è¿œè¶…å¤§å¤šæ•°æ‰‹å†™çš„æ­£åˆ™æ›¿æ¢ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span>Â n =Â <span class="hljs-number">123456.789</span>;


<span class="hljs-comment">// å¾·å›½ï¼šç‚¹å·åˆ†ç»„ã€é€—å·å°æ•°</span>
<span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">NumberFormat</span>(<span class="hljs-string">'de-DE'</span>).<span class="hljs-title function_">format</span>(n);
<span class="hljs-comment">// "123.456,789"</span>


<span class="hljs-comment">// å°åº¦ï¼šlakh/crore åˆ†ç»„</span>
<span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">NumberFormat</span>(<span class="hljs-string">'en-IN'</span>).<span class="hljs-title function_">format</span>(n);
<span class="hljs-comment">// "1,23,456.789"</span>


<span class="hljs-comment">// æ—¥å…ƒè´§å¸ï¼šé»˜è®¤ 0 ä½å°æ•°</span>
<span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">NumberFormat</span>(<span class="hljs-string">'ja-JP'</span>, {
Â Â <span class="hljs-attr">style</span>:Â <span class="hljs-string">'currency'</span>,
Â Â <span class="hljs-attr">currency</span>:Â <span class="hljs-string">'JPY'</span>,
}).<span class="hljs-title function_">format</span>(n);
<span class="hljs-comment">// "ï¿¥123,457"</span>
</code></pre>
<p>å®ƒå®Œç¾è§£å†³äº†é‚£äº›æœ€è®©å‰ç«¯å¤´ç–¼çš„<strong>å›½é™…åŒ–åº•å±‚é—®é¢˜</strong>ï¼š</p>
<ul>
<li><strong>æ–‡åŒ–å·®å¼‚</strong>ï¼šå…¨çƒå„åœ°çš„åƒåˆ†ä½ã€å°æ•°ç‚¹ã€æ•°å­—ç¬¦å·ä¹ æƒ¯ï¼›</li>
<li><strong>è´§å¸è§„åˆ™</strong>ï¼šä¸åŒå¸ç§çš„æ ‡å‡†å°æ•°ä½ï¼ˆå¦‚æ—¥å…ƒ 0 ä½ï¼Œç¾å…ƒ 2 ä½ï¼‰å’Œç¬¦å·ä½ç½®ï¼›</li>
<li><strong>å¤šæ€æ”¯æŒ</strong>ï¼šå†…ç½®äº†ç™¾åˆ†æ¯”ã€ç´§å‡‘ç¼©å†™ï¼ˆCompact Notationï¼‰ã€ç§‘å­¦è®¡æ•°æ³•ç­‰æ¨¡å¼ï¼›</li>
<li><strong>æ’ç‰ˆèƒ½åŠ›</strong>ï¼šé€šè¿‡ <strong>â formatToPartsï¼ˆï¼‰</strong> å°†æ•°å­—æ‹†è§£ä¸ºæ•°ç»„ï¼ˆæ•´æ•°éƒ¨åˆ†ã€å°æ•°éƒ¨åˆ†ã€ç¬¦å·ç­‰ï¼‰ï¼Œä¸ºç²¾ç»†åŒ–æ’ç‰ˆæä¾›äº†å¯èƒ½ï¼Œæ¯”å¦‚åœ¨å°æ•°æˆ–ç™¾åˆ†æ¯”ç¬¦å·æ¯”æ•´æ•°å° 2 ä¸ªå­—å·ã€‚</li>
</ul>
<p><strong>ä½†æ˜¯ï¼Œå®ƒå¤©ç„¶â€œä¸æ‡‚â€ä¸šåŠ¡ï¼š</strong></p>
<ul>
<li>å®ƒä¸æ‡‚<strong>ä¸­æ–‡çš„ä¹ æƒ¯</strong>ï¼šæ— æ³•ç›´æ¥å®ç°â€œ<strong>å…†/äº¬/å“</strong>â€è¿™ç§ä¸­æ–‡è¶…å¤§æ•°ç¼©å†™é€»è¾‘ï¼ˆæ ‡å‡†æœ€å¤šæ”¯æŒåˆ°äº¿ï¼‰ï¼›</li>
<li>å®ƒä¸æ‡‚<strong>å¾—æ•°çš„è§„èŒƒ</strong>ï¼šä¸çŸ¥é“ â *_rate ç±»å‹çš„æŒ‡æ ‡åœ¨ç©ºå€¼æ—¶è¦æ˜¾ç¤º â "-"ï¼Œåœ¨æå°å€¼æ—¶è¦æ˜¾ç¤º â &lt; 0.01%ï¼›</li>
<li>å®ƒä¸æ‡‚<strong>ä¸šåŠ¡çš„ä¸Šä¸‹æ–‡</strong>ï¼šä¸çŸ¥é“ GMV åœ¨ KPI å¡ç‰‡é‡Œè¦æŒ‰â€œä¸‡å…ƒâ€å±•ç¤ºï¼Œè€Œåœ¨è´¢åŠ¡æŠ¥è¡¨é‡Œå¿…é¡»ç²¾ç¡®åˆ°â€œå˜â€ã€‚</li>
</ul>
<p><strong>å› æ­¤ï¼Œæˆ‘ä»¬çš„æœ€ç»ˆçš„æ¶æ„ç­–ç•¥æ˜¯ï¼š</strong></p>
<p>ä»¥ â Intl.NumberFormat ä¸ºåº•å±‚çš„â€œæ¸²æŸ“å¼•æ“â€ï¼›</p>
<p>åœ¨å…¶ä¹‹ä¸Šæ­å»ºä¸€å±‚â€œæ•°å­—é¢†åŸŸå±‚â€ï¼ˆDomain Layerï¼‰ï¼›</p>
<p>ä¸“é—¨ç”¨äºè½¬è¯‘å¾—ç‰©çš„ä¸šåŠ¡è§„åˆ™å’Œæ’ç‰ˆè¯­ä¹‰ã€‚</p>
<h2 data-id="heading-11">å…­ã€@dfx/number-formatï¼šæ„å»ºæ•°å­—çš„â€œé¢†åŸŸå±‚â€</h2>
<p>åœ¨å¾—ç‰©æ•°æ®å‰ç«¯çš„å¤§ä»“é‡Œï¼Œæˆ‘ä»¬æŠŠè¿™å±‚èƒ½åŠ›å®ç°ä¸ºä¸€ä¸ªç‹¬ç«‹åŒ…ï¼š@dfx/number-formatã€‚ä¸“é—¨æœåŠ¡å¾—æ•°ã€æ™ºç ã€æ™ºèƒ½è¿è¥ç­‰å†…éƒ¨ç³»ç»Ÿã€‚</p>
<p>å¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸‰ä»¶äº‹çš„ç»„åˆï¼š</p>
<ul>
<li>ä¸€ä¸ªç»Ÿä¸€å°è£…äº†Intl.NumberFormatçš„<strong>æ ¸å¿ƒå¼•æ“</strong>ï¼ˆå«ç¼“å­˜ã€è§£æï¼‰ï¼›</li>
<li>ä¸€å¥—å¯ä»¥è¢«é…ç½®çš„<strong>ä¸šåŠ¡è§„åˆ™ / é¢„è®¾ ï¼ˆpresetï¼‰å’Œæ’ä»¶ç³»ç»Ÿ</strong>ï¼›</li>
<li>ä¸€ç»„é¢å‘ React å’Œ Node ç¯å¢ƒçš„<strong>æ¥å£</strong>ï¼ˆç»„ä»¶ + Hook + FP å‡½æ•°ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-12">6.1 å£°æ˜å¼å¼€å‘ï¼šæŠŠâ€œæ•°å­—é•¿ä»€ä¹ˆæ ·â€æŠ½è±¡æˆè§„åˆ™</h4>
<p>åœ¨ä¸šåŠ¡å¼€å‘ä¾§ï¼Œæœ€ç»ˆæœŸæœ›çš„ç›®æ ‡æ˜¯ï¼š<strong>è®©å¼€å‘è€…åªå…³å¿ƒâ€œè¿™æ˜¯ä»€ä¹ˆæŒ‡æ ‡â€ï¼Œè€Œä¸å…³å¿ƒâ€œå®ƒè¯¥æ€ä¹ˆå±•ç¤ºâ€ã€‚</strong></p>
<p><strong>åœºæ™¯ä¸€ï¼šåŸºç¡€æ ¼å¼åŒ–</strong></p>
<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ç»„ä»¶ï¼Œä»¥å£°æ˜å¼çš„æ–¹å¼è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">importÂ {Â NumberFormatÂ }Â fromÂ '@dfx/number-format'<span class="hljs-comment">;</span>
// æ— è®ºåœ¨å“ªä¸ªé¡µé¢ï¼Œä»·æ ¼éƒ½åªéœ€è¿™æ ·å†™
&lt;NumberFormat
Â Â <span class="hljs-attr">value</span>={price}
Â Â <span class="hljs-attr">options</span>={{Â style:Â <span class="hljs-string">'currency'</span>,Â currency:Â <span class="hljs-string">'CNY'</span> }}
/&gt;
</code></pre>
<p><strong>åœºæ™¯äºŒï¼šåŸºäºè¯­ä¹‰çš„è‡ªåŠ¨æ ¼å¼åŒ–</strong></p>
<p>æ›´è¿›é˜¶çš„ç”¨æ³•æ˜¯ï¼Œåœ¨ç³»ç»Ÿå±‚é¢å®šä¹‰å¥½â€œè§„åˆ™é›†â€ï¼Œä¸šåŠ¡ç»„ä»¶åªéœ€ä¼ å…¥æŒ‡æ ‡åç§°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span>Â {Â <span class="hljs-title class_">NumberFormatProvider</span>,Â <span class="hljs-title class_">AutoMetricNumber</span>Â }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@dfx/number-format'</span>;
<span class="hljs-comment">// 1. å®šä¹‰è§„åˆ™ï¼šæ‰€æœ‰ "price.cny" ç±»å‹çš„æŒ‡æ ‡ï¼Œéƒ½éµå¾ªäººæ°‘å¸æ ¼å¼</span>
<span class="hljs-keyword">const</span>Â rules = [
Â  {Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'price.cny'</span>,Â <span class="hljs-attr">options</span>: {Â <span class="hljs-attr">style</span>:Â <span class="hljs-string">'currency'</span>,Â <span class="hljs-attr">currency</span>:Â <span class="hljs-string">'CNY'</span>Â } },
];
<span class="hljs-comment">// 2. æ³¨å…¥ä¸Šä¸‹æ–‡</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NumberFormatProvider</span>Â <span class="hljs-attr">options</span>=<span class="hljs-string">{{</span>Â <span class="hljs-attr">rules</span>Â }}&gt;</span>
Â  {/* 3. ä¸šåŠ¡ä½¿ç”¨ï¼šå®Œå…¨è§£è€¦ï¼Œåªä¼ è¯­ä¹‰ */}
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">AutoMetricNumber</span>Â <span class="hljs-attr">name</span>=<span class="hljs-string">"price.cny"</span>Â <span class="hljs-attr">value</span>=<span class="hljs-string">{price}</span>Â /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">NumberFormatProvider</span>&gt;</span></span>
</code></pre>
<p><strong>æ”¶ç›Šæ˜¾è€Œæ˜“è§ï¼š</strong></p>
<ul>
<li><strong>è‡ªåŠ¨åŒ–</strong>ï¼šCNY è‡ªåŠ¨å¸¦ä¸¤ä½å°æ•°ï¼Œåˆ‡åˆ° JPY è‡ªåŠ¨å˜ 0 ä½å°æ•°ï¼Œé€»è¾‘å®Œå…¨ç”±åº•å±‚æ¥ç®¡ã€‚</li>
<li><strong>ä¸€è‡´æ€§</strong>ï¼šå…¨ç«™æ‰€æœ‰ â price.cny çš„åœ°æ–¹ï¼Œåƒåˆ†ä½ã€ç¬¦å·ä½ç½®ä¸¥æ ¼ç»Ÿä¸€ï¼Œç‰ˆé¢èŠ‚å¥è‡ªç„¶å¯¹é½ã€‚</li>
</ul>
<p><strong>åœºæ™¯ä¸‰ï¼šæ‰¹é‡åŒ¹é…æ¯”ç‡æŒ‡æ ‡</strong></p>
<p>å¯¹äºæˆç™¾ä¸Šåƒä¸ªè½¬åŒ–ç‡æŒ‡æ ‡ï¼Œæˆ‘ä»¬ä¸éœ€è¦é€ä¸€å®šä¹‰ï¼Œåªéœ€ä¸€æ¡æ­£åˆ™è§„åˆ™ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span>Â rules = [
Â Â <span class="hljs-comment">// åŒ¹é…æ‰€æœ‰ä»¥ _rate ç»“å°¾çš„æŒ‡æ ‡ï¼Œè‡ªåŠ¨è½¬ä¸ºç™¾åˆ†æ¯”ï¼Œä¿ç•™2ä½å°æ•°</span>
Â  {Â <span class="hljs-attr">pattern</span>:Â <span class="hljs-regexp">/_rate$/i</span>,Â <span class="hljs-attr">options</span>: {Â <span class="hljs-attr">style</span>:Â <span class="hljs-string">'percent'</span>,Â <span class="hljs-attr">maximumFractionDigits</span>:Â <span class="hljs-number">2</span>Â } },
];


<span class="hljs-comment">// é¡µé¢ä»£ç æå…¶å¹²å‡€</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AutoMetricNumber</span>Â <span class="hljs-attr">name</span>=<span class="hljs-string">"conversion_rate"</span>Â <span class="hljs-attr">value</span>=<span class="hljs-string">{conversionRate}</span>Â /&gt;</span></span>
</code></pre>
<p>ç©ºå€¼ä¸å¼‚å¸¸å€¼å¦‚ä½•å±•ç¤ºã€æå°å€¼æ˜¯å¦æ˜¾ç¤º &lt; 0.01%ã€ä¸¤ä½å°æ•°ä»å“ªé‡Œæ¥ï¼Œå…¨éƒ¨åœ¨è§„åˆ™ + æ’ä»¶é‡Œå¤„ç†ã€‚</p>
<h4 data-id="heading-13">6.2æ’ä»¶ç³»ç»Ÿï¼šæ”¶å£é‚£äº›â€œå¥‡æ€ªä½†å¸¸è§â€çš„éœ€æ±‚</h4>
<p>å¾—ç‰©çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå­˜åœ¨å¤§é‡ â Intl æ ‡å‡†æ— æ³•ç›´æ¥è¦†ç›–çš„è¾¹ç¼˜éœ€æ±‚ã€‚æˆ‘ä»¬å°†è¿™äº›éœ€æ±‚ç»Ÿä¸€å»ºæ¨¡ä¸º<strong>æ’ä»¶ï¼ˆFormat Pluginï¼‰</strong> ï¼Œä»‹å…¥æ ¼å¼åŒ–çš„ç”Ÿå‘½å‘¨æœŸï¼š</p>
<ul>
<li><strong>åƒåˆ†æ¯” / åŸºç‚¹ ï¼ˆbpsï¼‰</strong> ï¼šéœ€åœ¨ â pre-process é˜¶æ®µå°†æ•°å€¼ä¹˜ 1000 æˆ– 10000ï¼›</li>
<li><strong>ä¸­æ–‡å¤§å†™é‡‘é¢</strong>ï¼šä¼šè®¡ä¸åˆåŒåœºæ™¯çš„ç‰¹æ®Šè½¬æ¢ï¼›</li>
<li><strong>æå°å€¼å…œåº•</strong>ï¼šè®¾å®šé˜ˆå€¼ï¼Œå½“æ•°å€¼å°äº â 0.0001 æ—¶ï¼Œâ post-process é˜¶æ®µè¾“å‡º â &lt; 0.01%ï¼›</li>
<li><strong>ä¼šè®¡æ ¼å¼</strong>ï¼šè´Ÿæ•°ä½¿ç”¨æ‹¬å· â ï¼ˆ1ï¼Œ234.56ï¼‰ è€Œéè´Ÿå·ï¼›</li>
<li><strong>åŠ¨æ€ç²¾åº¦ç­–ç•¥</strong>ï¼šæ ¹æ®æ•°å€¼å¤§å°åŠ¨æ€å†³å®šä¿ç•™å‡ ä½å°æ•°ã€‚</li>
</ul>
<p><strong>è¿™å¥—æ’ä»¶æœºåˆ¶çš„æ„ä¹‰åœ¨äºâ€œæ²»ç†â€ï¼š</strong></p>
<p>å®ƒè®©â€œåœ¨æŸä¸ªä¸šåŠ¡ä»“åº“é‡Œå·å·å†™ä¸€ä¸ªç‰¹æ®Šæ­£åˆ™â€æˆä¸ºè¿‡å»å¼ã€‚ä»»ä½•æ–°çš„æ ¼å¼åŒ–éœ€æ±‚ï¼Œéƒ½å¿…é¡»ä»¥æ’ä»¶å½¢å¼æ¥å…¥ï¼Œç”±æ•°æ®å‰ç«¯ç»Ÿä¸€è¯„å®¡ã€æ²‰æ·€ï¼Œæœ€ç»ˆå¤ç”¨åˆ°å…¨ç«™ã€‚</p>
<h4 data-id="heading-14">6.3 å…¨é“¾è·¯æ‰“é€šï¼šä»Galaxyå…ƒæ•°æ®åˆ°UIæ¸²æŸ“</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60ccb2a6339c4eb68d7f2915714592e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666974&amp;x-signature=9QYAo6JXNJmsp5kb%2BiheKIS%2BgUc%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>æœ€åï¼Œå°†è¿™å¥—ç³»ç»Ÿä¸å¾—æ•°çš„ä¸­å°èƒ½åŠ›æ‰“é€šï¼ˆä¹Ÿæ˜¯ç›®å‰æˆ‘ä»¬æ­£åœ¨åšçš„ï¼‰ï¼Œå½¢æˆäº†ä¸€æ¡å®Œæ•´çš„æ¸²æŸ“é“¾è·¯ã€‚</p>
<p>åœ¨Galaxyå’Œå¾—æ•°çš„å…ƒæ•°æ®é‡Œï¼ŒæŒ‡æ ‡æœ¬èº«å·²ç»æœ‰codeã€labelã€type ç­‰å­—æ®µã€‚æˆ‘ä»¬åªéœ€è¦å†åŠ ä¸€ç‚¹çº¦å®šï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"metricCode"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"gmv"</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"GMV"</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"format"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"currency"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-comment">// åŸºç¡€ç±»å‹</span>
Â Â <span class="hljs-attr">"meta"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span>
Â  Â Â <span class="hljs-attr">"formatConfig"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span><span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"currency"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-attr">"maximumFractionDigits"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-number">2</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>Â 
Â  Â Â <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">[</span><span class="hljs-string">"äº¤æ˜“æŒ‡æ ‡"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
Â  Â Â <span class="hljs-attr">"displayConfig"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-punctuation">{</span>Â <span class="hljs-attr">"table"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"precise"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-attr">"card"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"compact"</span>Â <span class="hljs-punctuation">}</span>
Â Â <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å‰ç«¯æ¸²æŸ“æ—¶</strong>ï¼š</p>
<ul>
<li>é…ç½®ä¸‹å‘ï¼šé¡µé¢åŠ è½½æ—¶ï¼Œè·å–æŒ‡æ ‡çš„ â Code åŠå…ƒä¿¡æ¯ï¼Œè½¬æ¢ä¸ºå‰ç«¯çš„ â MetricFormatRule[]ã€‚</li>
<li>ä¸Šä¸‹æ–‡æ³¨å…¥ï¼šåœ¨åº”ç”¨æ ¹èŠ‚ç‚¹é€šè¿‡ â NumberFormatProvider æ³¨å…¥è§„åˆ™é›†ã€‚</li>
<li>å‚»ç“œå¼ä½¿ç”¨ï¼šè¡¨æ ¼ã€å¡ç‰‡ã€å›¾è¡¨ç»„ä»¶åªéœ€æ¶ˆè´¹æŒ‡æ ‡ IDï¼š</li>
</ul>
<p>è¿™æ ·ä¸€æ¥å°±å®ç°äº†çœŸæ­£çš„ã€æ•°æ®é©±åŠ¨ UIã€ï¼š</p>
<ul>
<li>â€œæŒ‡æ ‡é•¿ä»€ä¹ˆæ ·â€åªåœ¨å¾—æ•°å…ƒæ•°æ®ç®¡ç†ä¸­å®šä¹‰ä¸€æ¬¡ã€‚</li>
<li>ä¿®æ”¹å±•ç¤ºè§„åˆ™ï¼ˆå¦‚è°ƒæ•´ç²¾åº¦ï¼‰ï¼Œåªéœ€æ”¹é…ç½®ï¼Œ<strong>æ— éœ€æ‰¹é‡ä¿®æ”¹å‰ç«¯ä»£ç ï¼Œæ›´æ— éœ€é‡æ–°å‘ç‰ˆï¼›</strong></li>
<li>å‰å°ä¸šåŠ¡ä¸ä¸­å°æŠ¥è¡¨çœ‹åˆ°çš„åŒä¸€ä¸ªæŒ‡æ ‡ï¼Œæ ¼å¼æ°¸è¿œæ˜¯ç‰©ç†ä¸Šçš„ä¸€è‡´ã€‚</li>
</ul>
<h2 data-id="heading-15">ä¸ƒã€ç»Ÿä¸€ä¹‹åï¼šé‡å¡‘è®¾è®¡ã€å·¥ç¨‹ä¸ä¸šåŠ¡çš„ä»·å€¼</h2>
<p>ä»æˆ‘ä»¬çš„è§†è§’å‡ºå‘ï¼Œè¿™å¥—ç»Ÿä¸€æ•°å­—æ ¼å¼æ–¹æ¡ˆçš„è½åœ°ï¼Œå¸¦æ¥çš„æ”¶ç›Šè¿œä¸æ­¢â€œä»£ç æ•´æ´â€é‚£ä¹ˆç®€å•ï¼Œå®ƒåœ¨ä¸‰ä¸ªå±‚é¢äº§ç”Ÿäº†æ·±è¿œçš„å½±å“ã€‚</p>
<h4 data-id="heading-16">7.1 å¯¹è®¾è®¡ä¸æ’ç‰ˆï¼šç‰ˆé¢ç»ˆäºå¯æ§äº†</h4>
<p>æ›¾ç»ï¼Œäº§å“éœ€è¦åœ¨æ¯ä¸ªé¡µé¢çš„éªŒæ”¶ä¸­åå¤çº ç»“æ•°å­—çš„å¯¹é½å’Œç²¾åº¦ã€‚ç°åœ¨ï¼Œè®¾è®¡è§„èŒƒåªéœ€åœ¨æ–‡æ¡£ä¸­å®šä¹‰ä¸€æ¬¡ï¼š</p>
<ul>
<li><strong>é‡‘é¢ç±»</strong>ï¼šç»Ÿä¸€ä¿ç•™ä¸¤ä½å°æ•°ï¼Œå¼ºåˆ¶å³å¯¹é½ï¼Œè´§å¸ç¬¦å·åŠè§’åŒ–ï¼›</li>
<li><strong>æ¯”ç‡ç±»</strong>ï¼šç©ºå€¼å…œåº•ä¸º â â€”ï¼Œå¼‚å¸¸å€¼æ˜¾ç¤º â N/Aï¼Œæå°å€¼è½¬è¯‘ä¸º â &lt; 0.01%ï¼›</li>
<li><strong>ç¼©å†™ç­–ç•¥</strong>ï¼šå…¨ç«™ç»Ÿä¸€éµå¾ªâ€œä¸­æ–‡ä¸‡/äº¿ã€è‹±æ–‡ k/M/Bâ€çš„æ¢¯åº¦é€»è¾‘ã€‚</li>
</ul>
<p>å¼€å‘åŒå­¦ä¸å†æ˜¯ã€å¤æ³•æ‰‹æ“ã€ï¼Œè€Œæ˜¯ç›´æ¥æ¥å…¥ç»Ÿä¸€çš„ Preset å’Œæ’ä»¶ã€‚</p>
<p>æ— è®ºæ˜¯çœ‹æ¿ã€è¯¦æƒ…é¡µï¼Œè¿˜æ˜¯å¯¼å‡ºçš„ Excel æŠ¥è¡¨ï¼Œæ•°å­—é£æ ¼ä¿æŒäº†åƒç´ çº§çš„ä¸€è‡´ã€‚ä»è§†è§‰è§’åº¦çœ‹ï¼Œæˆ‘ä»¬ç›¸å½“äº<strong>ç»™æ•°å­—å»ºç«‹äº†ä¸€å¥—Design Token</strong>ï¼šç²¾åº¦ã€å•ä½ã€å ä½ç¬¦éƒ½æœ‰äº†æ ‡å‡†ç´¢å¼•ï¼Œè®©æ•´ä¸ªå¹³å°å‘ˆç°å‡ºé«˜åº¦ç»Ÿä¸€çš„<strong>ä¸“ä¸šæ„Ÿå’ŒèŠ‚å¥æ„Ÿ</strong>ã€‚</p>
<h4 data-id="heading-17">7.2 å¯¹å·¥ç¨‹è´¨é‡ä¸æ•ˆç‡ï¼šä»â€œæœç´¢toFixedâ€åˆ°â€œæ”¹ä¸€å¤„ç”Ÿæ•ˆå…¨ç«™â€</h4>
<p>æ‰€æœ‰æ•°å­—æ ¼å¼é€»è¾‘é›†ä¸­åœ¨ä¸€ä¸ªé¢†åŸŸå±‚å’Œé…ç½®ä¸­å¿ƒã€‚</p>
<p>ä¸€ç±»æŒ‡æ ‡çš„è§„åˆ™å˜æ›´ï¼ˆç²¾åº¦ã€å•ä½ã€ç©ºå€¼ç­–ç•¥ï¼‰å¯ä»¥é…ç½®åŒ–è°ƒæ•´ã€‚</p>
<p>è§„çº¦å¯ä»¥è¿›å…¥ Lintï¼ˆæ•°å­—æ ¼å¼åŒ–é™åˆ¶ï¼‰ / Code Reviewï¼š</p>
<ul>
<li>ç¦æ­¢ç›´æ¥åœ¨ä¸šåŠ¡ä»£ç ä¸­new Intl.NumberFormatã€toFixedæ‹¼å­—ç¬¦ä¸²ï¼›</li>
<li>é¼“åŠ±æ‰€æœ‰æ•°å­—å±•ç¤ºå…¨éƒ¨èµ°@dfx/number-formatä¸ DataHub è§„åˆ™ã€‚</li>
</ul>
<p>è¿™å°±æ˜¯å·¥ç¨‹æ²»ç†å±‚é¢çš„ä»·å€¼ï¼šå®ƒå°†â€œä¾èµ–å¼€å‘è€…è‡ªè§‰â€çš„è½¯çº¦æŸï¼Œå˜æˆäº† <strong>â€œå¯é…ç½®ã€å¯ç»´æŠ¤ã€å¯è¿­ä»£â€çš„ç³»ç»Ÿèƒ½åŠ›</strong>ã€‚</p>
<h4 data-id="heading-18">7.3 å¯¹ä¸šåŠ¡å’Œæ•°æ®ä¿¡ä»»ï¼šä»â€œæ€€ç–‘è¿™æ•°æœ‰é—®é¢˜â€åˆ°â€œæ„¿æ„ç”¨æ¥å†³ç­–â€</h4>
<p>ç»Ÿä¸€æ•°å­—æ ¼å¼è¿˜æœ‰ä¸€ä¸ªæœ€éšæ€§ã€å´æœ€æ ¸å¿ƒçš„ä»·å€¼ï¼š<strong>é‡æ„æ•°æ®ä¿¡ä»»ã€‚</strong></p>
<ul>
<li><strong>æ¶ˆé™¤æ­§ä¹‰</strong>ï¼šå‰å°å•†å“ä»·æ ¼ä¸ä¸­å°æŠ¥è¡¨é‡‘é¢å®Œå…¨ä¸€è‡´ï¼Œè¿è¥ä¸å†å› ä¸ºâ€œæ˜¾ç¤ºç²¾åº¦ä¸åŒâ€è€Œå»è´¨ç–‘æ•°æ®å‡†ç¡®æ€§ï¼›</li>
<li><strong>ç²¾å‡†è¯­ä¹‰</strong>ï¼šç©ºå€¼ï¼ˆNullï¼‰å’Œé›¶ï¼ˆZeroï¼‰è¢«æ¸…æ™°åŒºåˆ†ï¼Œé¿å…äº†å› æ ¼å¼é—®é¢˜å¯¼è‡´çš„é”™è¯¯å†³ç­–ã€‚</li>
</ul>
<p>åœ¨å¾—ç‰©ï¼Œ<strong>ä¸¥è°¨æ˜¯éœ€è¦åˆ»åœ¨åŸºå› é‡Œçš„å…³é”®è¯</strong>ã€‚</p>
<p>ä½œä¸ºæ•°æ®å‰ç«¯ï¼Œæˆ‘ä»¬æ·±çŸ¥ï¼š<strong>æ‡‚æ•°æ®ï¼Œå¹¶èƒ½ç”¨æœ€ä¸“ä¸šçš„æ–¹å¼å‘ˆç°æ•°æ®ï¼Œæ˜¯è¿™ä¸€å²—ä½çš„æ ¸å¿ƒç´ å…»</strong>ã€‚ å½“æˆ‘ä»¬ä¸ä»…èƒ½äº¤ä»˜ä»£ç ï¼Œè¿˜èƒ½é€šè¿‡ç²¾å‡†çš„æ•°å­—å±•ç¤ºæ¶ˆé™¤æ­§ä¹‰ã€ä¼ é€’ä¿¡ä»»æ—¶ï¼ŒæŠ€æœ¯ä¸ä¸šåŠ¡ä¹‹é—´å°±å»ºç«‹èµ·äº†ä¸€ç§æ·±å±‚çš„é»˜å¥‘ã€‚</p>
<p>è¿™ç§å¯¹æ•°å­—ç»†èŠ‚çš„æè‡´è¿½æ±‚ï¼Œä¸ä»…æ˜¯å¯¹ç”¨æˆ·ä½“éªŒçš„å°Šé‡ï¼Œæ›´æ˜¯å¯¹å¾—ç‰©â€œæ­£å“æ„Ÿâ€å“ç‰Œå¿ƒæ™ºåœ¨æ•°å­—ä¸–ç•Œçš„å»¶ä¼¸ã€‚</p>
<h2 data-id="heading-19">å…«ã€æ•°å­—ï¼Œæ˜¯ç‰ˆé¢çš„ã€æœ€åä¸€å…¬é‡Œã€</h2>
<p>å›å¤´çœ‹ï¼Œå¾—ç‰©æ•°æ®å‰ç«¯åœ¨å¾—æ•°ã€æ™ºç æ™ºèƒ½è¿è¥è¿™æ¡çº¿åšçš„ï¼Œå…¶å®æœ‰ä¸¤ä»¶äº‹ï¼š</p>
<ul>
<li><strong>ç»™äºˆæ•°å­—åº”æœ‰çš„â€œè®¾è®¡å°Šä¸¥â€</strong></li>
</ul>
<p>æˆ‘ä»¬ä¸å†å°†æ•°å­—è§†ä¸ºæ¨¡æ¿å­—ç¬¦ä¸²é‡Œä¸€ä¸ªéšæ—¶å¯æ›¿æ¢çš„â€œé»‘æ´â€ï¼Œè€Œæ˜¯å°†å…¶è§†ä½œä¸å­—ä½“ã€è‰²å½©ã€é—´è·åŒç­‰é‡è¦çš„æ’ç‰ˆå…ƒç´ ï¼Œçº³å…¥ç»Ÿä¸€çš„è®¾è®¡è¯­è¨€ç³»ç»Ÿã€‚</p>
<ul>
<li><strong>ä¸ºæ•°å­—æ„å»ºä¸“å±çš„â€œåŸºç¡€è®¾æ–½â€</strong></li>
</ul>
<p>æˆ‘ä»¬ä»¥ Web æ ‡å‡†â Intl.NumberFormatä¸ºå¼•æ“ï¼Œä»¥ â @dfx/number-formatä¸ºé¢†åŸŸå±‚ï¼Œä»¥å¾—æ•° Schema ä¸ºé…ç½®ä¸­æ¢ï¼Œå°†â€œæ•°å­—å¦‚ä½•å±•ç¤ºâ€è¿™ä¸€å‘½é¢˜ï¼Œä»ç¡¬ç¼–ç çš„æ³¥æ½­ä¸­è§£æ”¾å‡ºæ¥ï¼Œè½¬å˜ä¸ºä¸€ç§<strong>å¯é…ç½®ã€å¯æ²»ç†ã€å¯æ¼”è¿›çš„ç³»ç»Ÿèƒ½åŠ›ã€‚</strong></p>
<p>å½“ä½ å†å›å¤´çœ‹å…¬å¸äº§å“çš„å„ä¸ªé¡µé¢â€”â€”</p>
<ul>
<li>å‰å°å•†å“è¯¦æƒ…é¡µçš„ä»·æ ¼å’Œåˆ¸åä»·ï¼›</li>
<li>ç¤¾åŒºé‡Œçš„é˜…è¯»å’Œç‚¹èµæ•°å­—ï¼›</li>
<li>æ™ºç çš„ç­–ç•¥çœ‹æ¿ï¼›</li>
<li>å¾—æ•°çš„è‡ªåŠ©åˆ†ææŠ¥è¡¨ã€‚</li>
</ul>
<p>ä½ ä¼šå‘ç°å®ƒä»¬æ‹¥æœ‰äº†ä¸€ä¸ªå…±åŒçš„ç‰¹å¾ï¼š</p>
<p><strong>è¿™äº›æ•°å­—ä¸å†æ˜¯å„è¯´å„è¯çš„å™ªç‚¹ï¼Œè€Œæ˜¯å…±åŒæ“ç€åŒä¸€ç§ç²¾å‡†ã€ä¼˜é›…çš„â€œæ’ç‰ˆè¯­è¨€â€ã€‚</strong></p>
<p><strong>è¿™å°±æ˜¯æˆ‘ä»¬åšâ€œæ•°å­—æ ¼å¼åŒ–â€çš„åˆè¡·ï¼šç”¨æŠ€æœ¯çš„ç¡®å®šæ€§ï¼Œæ¢å–ä¸šåŠ¡çš„ä¸“æ³¨åŠ›ã€‚</strong></p>
<p>æ­¤æ—¶æ­¤åˆ»ï¼Œå½¼æ—¶å½¼åˆ»ï¼Œä½œä¸ºå‰ç«¯å¼€å‘ï¼Œä½ å¯ä»¥åšå®šåœ°è¯´å‡ºï¼šæˆ‘è¿™å±•ç¤ºçš„æ²¡é—®é¢˜ï¼Œæ˜¯æ•°å‡ºé—®é¢˜äº†ï½</p>
<h2 data-id="heading-20">ä¹ã€èµ°å‡ºæ•°æ®åŸŸï¼šä»å†…éƒ¨é—¨æˆ·åˆ°å…¨ä¸šåŠ¡</h2>
<p>å‰é¢çš„ç¯‡å¹…ï¼Œæ›´å¤šå›´ç»•ç€å¾—æ•°ã€æ™ºç ã€æ™ºèƒ½è¿è¥ç­‰ä¸­åå°ç³»ç»Ÿå±•å¼€ã€‚åœ¨è¿™äº›åœºæ™¯ä¸‹ï¼Œæ•°å­—æ ¼å¼åŒ–çš„æ ¸å¿ƒç”¨æˆ·æ˜¯è¿è¥ã€åˆ†æå¸ˆå’Œç®—æ³•åŒå­¦â€”â€”å¸®åŠ©ä»–ä»¬é€è¿‡æ•°æ®çœ‹æ¸…ä¸šåŠ¡èµ°åŠ¿ã€‚</p>
<p>ä½†è¿™å¥—èƒ½åŠ›å¹¶ä¸åº”å±€é™äºâ€œåå°â€ã€‚å®ƒå®Œå…¨å…·å¤‡èµ°å‡ºæ•°æ®åŸŸçš„æ½œåŠ›ï¼Œæˆä¸ºå¾—ç‰©å…¨ä¸šåŠ¡çº¿å…±äº«çš„ä¸€å±‚<strong>å…³é”®åŸºç¡€è®¾æ–½</strong>ã€‚</p>
<h4 data-id="heading-21">9.1 è·¨ä¸šåŠ¡çº¿ï¼šä»â€œè¿è¥çœ‹æ¿â€èµ°å‘â€œäº¤æ˜“é“¾è·¯â€</h4>
<p>ç›®å‰@dfx/number-format è™½ç„¶ç”Ÿé•¿äºæ•°æ®åœŸå£¤ï¼Œä½†å…¶è§£å†³çš„é—®é¢˜æ˜¯é€šç”¨çš„ã€‚æœªæ¥ï¼Œå®ƒå¯ä»¥è‡ªç„¶åœ°æ¸—é€åˆ°æ›´å¹¿é˜”çš„ä¸šåŠ¡åœºæ™¯ï¼š</p>
<ul>
<li><strong>äº¤æ˜“åŸŸ</strong>ï¼š ç»Ÿä¸€å•†å“è¯¦æƒ…é¡µã€ç»“ç®—é¡µçš„ä»·æ ¼ã€åˆ†æœŸè´¹ç‡ã€ç¨è´¹å±•ç¤ºé€»è¾‘ï¼›</li>
<li><strong>ç¤¾åŒºåŸŸ</strong>ï¼š æ ‡å‡†åŒ–ç¤¾åŒºè¯¦æƒ…é¡µä¸­çš„é£é™©åˆ†ã€é˜ˆå€¼ã€å‘½ä¸­ç‡ç²¾åº¦ï¼›</li>
<li><strong>å®¢æœåŸŸ</strong>ï¼š è§„èŒƒèµ”ä»˜é‡‘é¢ã€å·¥å•æ—¶é•¿çš„å±•ç¤ºå£å¾„ã€‚</li>
</ul>
<p><strong>è¿™åœ¨å·¥ç¨‹ä¸Šæ„å‘³ç€ä¸€æ¬¡â€œå‡ç»´â€ï¼š</strong></p>
<ul>
<li><strong>ä¾èµ–å‡çº§</strong>ï¼šå°† â @dfx/number-format ä»æ•°æ®åŸŸç§æœ‰åŒ…æå‡ä¸ºå…¬å¸çº§çš„åŸºç¡€ä¾èµ–ï¼›</li>
<li><strong>å¼€å‘èŒƒå¼</strong>ï¼šæ–°ä¸šåŠ¡åœ¨å¤„ç†æ•°å­—å±•ç¤ºæ—¶ï¼Œé»˜è®¤åŠ¨ä½œä¸å†æ˜¯â€œæ‰‹å†™ä¸€ä¸ª format å‡½æ•°â€ï¼Œè€Œæ˜¯æŸ¥é˜…ç°æœ‰çš„ Preset å’Œæ’ä»¶ï¼›</li>
</ul>
<p><strong>æœ€ç»ˆå¸¦æ¥çš„ä½“éªŒè´¨å˜æ˜¯ï¼š</strong></p>
<p>ç”¨æˆ·æ— è®ºæ˜¯åœ¨å¾—ç‰© Appçš„å‰å°é¡µé¢ï¼Œè¿˜æ˜¯åœ¨å†…éƒ¨çš„å„ç±»ç®¡ç†ç³»ç»Ÿä¸­ï¼Œçœ‹åˆ°çš„æ•°å­—éƒ½æ‹¥æœ‰<strong>åŒä¸€å¥—å‘¼å¸æ„Ÿå’Œè§†è§‰ä¹ æƒ¯</strong>ã€‚è¿™ç§è·¨ç«¯çš„ä¸€è‡´æ€§ï¼Œæ˜¯å“ç‰Œä¸“ä¸šæ„Ÿæœ€ç›´æ¥çš„ä½“ç°ã€‚</p>
<h4 data-id="heading-22">9.2 è·¨åœ°åŒºä¸æ±‡ç‡ï¼šæ„å»ºç‹¬ç«‹çš„â€œå…¨çƒåŒ–ä»·æ ¼èƒ½åŠ›â€</h4>
<p>éšç€å¾—ç‰©ä¸šåŠ¡çš„å‡ºæµ·ï¼Œå¤šåœ°åŒºã€å¤šå¸ç§æ˜¯ç»•ä¸å¼€çš„æŒ‘æˆ˜ã€‚æ­¤æ—¶ï¼Œæ•°å­—é¢†åŸŸå±‚ä¸ä»…è¦è´Ÿè´£â€œé•¿ä»€ä¹ˆæ ·â€ï¼Œæ›´è¦æ‰¿æ‹…èµ·â€œå±•ç¤ºç­–ç•¥â€çš„èŒè´£ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è®¾æƒ³ä¸€ä¸ª**ã€Œå…¨çƒåŒ–ä»·æ ¼ç»„ä»¶ã€**ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;MultiRegionPrice
Â  <span class="hljs-attr">skuId</span>=<span class="hljs-string">"123456"</span>
Â  <span class="hljs-attr">basePriceCny</span>={price}
Â  <span class="hljs-attr">regions</span>={[
Â  Â  {Â locale:Â <span class="hljs-string">'zh-CN'</span>,Â currency:Â <span class="hljs-string">'CNY'</span>Â },
Â  Â  {Â locale:Â <span class="hljs-string">'en-US'</span>,Â currency:Â <span class="hljs-string">'USD'</span>Â },
Â  Â  {Â locale:Â <span class="hljs-string">'ja-JP'</span>,Â currency:Â <span class="hljs-string">'JPY'</span>Â },
Â  ]}
/&gt;
</code></pre>
<p>è¿™ä¸ªç»„ä»¶å°†è´Ÿè´£ä¸¤å±‚é€»è¾‘çš„è§£è€¦ï¼š</p>
<ul>
<li><strong>è®¡ç®—å±‚</strong>ï¼š è´Ÿè´£å®æ—¶æ±‡ç‡æ¢ç®—ã€å¤šå¸ç§ä»·æ ¼è®¡ç®—ã€‚</li>
<li><strong>å±•ç¤ºç­–ç•¥å±‚</strong>ï¼š</li>
<li>
<ul>
<li><strong>å¯¹ç…§å±•ç¤º</strong>ï¼š æ˜¯å¦æ˜¾ç¤ºâ€œåŸå¸ç§ + æœ¬åœ°å‚è€ƒä»·â€ï¼ˆå¦‚ â JPÂ¥ 20,000 ï¼ˆâ‰ˆ $135.00ï¼‰ï¼‰ï¼›</li>
<li><strong>æ–‡åŒ–é€‚é…</strong>ï¼š æ˜¯å¦éµå¾ªå½“åœ°çš„â€œå¿ƒç†ä»·ä½â€ç­–ç•¥ï¼ˆå¦‚ â <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>199.99</mn><mi>v</mi><mi>s</mi><mtext>â </mtext></mrow><annotation encoding="application/x-tex">199.99 vs â </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">199.99</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">s</span><span class="mord">â </span></span></span></span></span>200ï¼‰ï¼›</li>
<li><strong>æ ¼å¼æ¸²æŸ“</strong>ï¼š æœ€ç»ˆè°ƒç”¨ â @dfx/number-formatï¼Œç¡®ä¿æ—¥å…ƒæ— å°æ•°ã€ç¾å…ƒæœ‰å°æ•°ã€åˆ†èŠ‚å·æ­£ç¡®ã€‚</li>
</ul>
</li>
</ul>
<p>ä»å·¥ç¨‹è§†è§’çœ‹ï¼Œè¿™é¿å…äº†â€œæ±‡ç‡ç®—å¯¹äº†ã€æ•°å­—æ’ç‰ˆå…¨ä¹±äº†â€çš„å°´å°¬ï¼›ä»äº§å“è§†è§’çœ‹ï¼Œè¿™æ­£æ˜¯å¾—ç‰©æ²‰æ·€â€œ<strong>å‡ºæµ·æŠ€æœ¯å¥—ä»¶</strong>â€çš„é‡è¦ä¸€æ­¥ï¼ˆæ¯”å¦‚å›½é™…æ™ºèƒ½è¿è¥ï¼‰ã€‚</p>
<h4 data-id="heading-23">9.3 æ—¶é—´ä¸æ—¥æœŸï¼šç”¨åŒæ ·çš„æ€è·¯ï¼Œå»åšç¬¬äºŒæ¡â€œæ ¼å¼åŒ–ä¸»çº¿â€</h4>
<p>æ•°å­—æ˜¯ä¸€ç±»æŒ‘æˆ˜ï¼Œâ€œæ—¶é—´â€åˆ™æ˜¯å¦ä¸€ç±»ã€‚è·¨æ—¶åŒºè½¬æ¢ã€ç›¸å¯¹æ—¶é—´ï¼ˆæ­¤åˆ»ï¼‰ã€ä¸åŒåœ°åŒºçš„æ—¥æœŸå†™æ³•ï¼ˆâ DD/MM vs â MM/DDï¼‰ï¼Œå…¶å¤æ‚åº¦ä¸æ¯«ä¸äºšäºæ•°å­—ã€‚</p>
<p>æ—¢ç„¶æµè§ˆå™¨æä¾›äº†<strong>Intl.DateTimeFormat</strong>ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥å¤åˆ»æ•°å­—é¢†åŸŸå±‚çš„æˆåŠŸè·¯å¾„ï¼Œå†èµ¢ä¸€æ¬¡ï¼š</p>
<ul>
<li><strong>åŸºç¡€è®¾æ–½</strong>ï¼šæ„å»º â @dfx/date-formatï¼Œç»Ÿä¸€å°è£…æ—¶é—´æ ¼å¼åŒ–ä¸ç›¸å¯¹æ—¶é—´é€»è¾‘ï¼›</li>
<li><strong>é¢„è®¾ç®¡ç†</strong>ï¼šå®šä¹‰æ ‡å‡† Presetï¼ˆå¦‚â€œè¿è¥æŠ¥è¡¨ç”¨ â YYYY-MM-DDâ€ã€â€œC ç«¯åŠ¨æ€ç”¨ â ä»Šå¤© 12:30â€ï¼‰ï¼›</li>
<li><strong>ç»„ä»¶åŒ–</strong>ï¼šæä¾› â  å’Œ â  ç»„ä»¶ï¼›</li>
<li><strong>å…ƒæ•°æ®æ‰“é€š</strong>ï¼šåœ¨å¾—æ•°çš„å…ƒæ•°æ®ä¸­ï¼Œé’ˆå¯¹æ—¶é—´å‹çš„ç»´åº¦ä¹ŸåŒæ ·è¿›è¡Œé…ç½®ã€‚</li>
</ul>
<p>è¿™æ ·ï¼Œæ•°æ®å‰ç«¯çš„å±•ç¤ºå±‚å°±æ‹¥æœ‰äº†ä¸¤æ¡æ¸…æ™°çš„ä¸»çº¿ï¼š</p>
<ul>
<li><strong>æ•°å€¼ä¸»çº¿</strong>ï¼šâ Intl.NumberFormat â†’ â @dfx/number-format â†’Â <strong>æ•°å­—å±•ç¤ºè§„èŒƒ</strong></li>
<li><strong>æ—¶é—´ä¸»çº¿</strong>ï¼šâ Intl.DateTimeFormat â†’ â @dfx/date-format â†’Â <strong>æ—¶é—´å±•ç¤ºè§„èŒƒ</strong></li>
</ul>
<p>æœªæ¥ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥æŠ½è±¡å‡ºæ›´ä¸Šå±‚çš„ â @dfx/data-formatï¼Œè®©â€œä»»ä½•å­—æ®µè¯¥æ€ä¹ˆå±•ç¤ºâ€ï¼Œå®Œå…¨ç”± Schema é…ç½® + é¢†åŸŸå±‚è§„åˆ™å…±åŒå†³å®šã€‚</p>
<h2 data-id="heading-24">åã€æœ€åï¼šæŠŠâ€œå±•ç¤ºâ€è¿™ä»¶äº‹åšåˆ°æè‡´</h2>
<p>å¦‚æœåªçœ‹ä»£ç ï¼Œæˆ‘ä»¬åšçš„äº‹æƒ…ä¼¼ä¹å¾ˆç®€å•ï¼š</p>
<p>æŠŠ â Intl æ ‡å‡†ç”¨åˆ°æè‡´ï¼Œå°è£…äº†ä¸€å±‚é¢†åŸŸåº“ï¼Œå¹¶æ¥é€šäº†å…ƒæ•°æ®é…ç½®ï¼Œå†™äº†ä¸ªå·¥å…·åº“ã€‚</p>
<p>ä½†å¦‚æœä»äº§å“ä½“éªŒå’Œå·¥ç¨‹æ¼”è¿›çš„è§’åº¦çœ‹ï¼Œæˆ‘ä»¬å…¶å®å®Œæˆäº†ä¸€æ¬¡<strong>åŸºç¡€è®¾æ–½çš„å‡çº§</strong>ï¼š</p>
<p>æŠŠå‰ç«¯å¼€å‘ä¸­æœ€çç¢ã€æœ€å®¹æ˜“è¢«å¿½è§†çš„â€œæ•°å­—ä¸æ—¶é—´å±•ç¤ºâ€ï¼Œä»â€œåˆ°å¤„ç²˜è´´çš„å°å·¥å…·â€ï¼Œå‡çº§æˆäº†â€œæœ‰ç»Ÿä¸€è§„èŒƒã€æœ‰å¯è§‚æµ‹æ€§ã€æœ‰è¿­ä»£ç©ºé—´çš„ç³»ç»Ÿèƒ½åŠ›â€ã€‚</p>
<p>ç°åœ¨ï¼Œè¿™å¥—èƒ½åŠ›å·²ç»è®©å¾—æ•°ã€æ™ºç ã€æ™ºèƒ½è¿è¥çš„éƒ¨åˆ†æ¨¡å—é•¿å‡ºäº†ç»Ÿä¸€çš„â€œæ•°å­—æ°”è´¨â€ã€‚</p>
<p>æœªæ¥ï¼ŒæœŸæœ›å®ƒèƒ½å¤Ÿèµ°å‡ºæ•°æ®å¹³å°ï¼Œæ”¯æ’‘å¾—ç‰©æ›´å¹¿æ³›çš„ä¸šåŠ¡åœºæ™¯ï¼Œ<strong>è®©åŒä¸€ä»¶å•†å“ï¼Œåœ¨ä¸åŒåœ°åŒºã€ä¸åŒè¯­è¨€ã€ä¸åŒç»ˆç«¯ä¸Šï¼Œæ—¢ç®—å¾—å¯¹ï¼Œåˆçœ‹å¾—é¡ºã€‚</strong></p>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcldr.unicode.org%2F" target="_blank" title="https://cldr.unicode.org/" ref="nofollow noopener noreferrer">cldr.unicode.org/</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fbook.douban.com%2Fsubject%2F1927608%2F" target="_blank" title="https://book.douban.com/subject/1927608/" ref="nofollow noopener noreferrer">book.douban.com/subject/192â€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.reddit.com%2Fr%2FAskHistorians%2Fcomments%2F104tkkj%2Fwhy_is_it_that_some_countries_use_the_and_as_a%2F%3Ftl%3Dzh-hans" target="_blank" title="https://www.reddit.com/r/AskHistorians/comments/104tkkj/why_is_it_that_some_countries_use_the_and_as_a/?tl=zh-hans" ref="nofollow noopener noreferrer">www.reddit.com/r/AskHistorâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fecma-international.org%2Fpublications-and-standards%2Fstandards%2Fecma-402%2F" target="_blank" title="https://ecma-international.org/publications-and-standards/standards/ecma-402/" ref="nofollow noopener noreferrer">ecma-international.org/publicationâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fglobalization%2Flocale%2Fnumber-formatting" target="_blank" title="https://learn.microsoft.com/en-us/globalization/locale/number-formatting" ref="nofollow noopener noreferrer">learn.microsoft.com/en-us/globaâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh.wikipedia.org%2Fwiki%2F%25E5%25B0%258F%25E6%2595%25B8%25E9%25BB%259E" target="_blank" title="https://zh.wikipedia.org/wiki/%E5%B0%8F%E6%95%B8%E9%BB%9E" ref="nofollow noopener noreferrer">zh.wikipedia.org/wiki/%E5%B0â€¦</a></li>
</ul>
<h4 data-id="heading-25">å¾€æœŸå›é¡¾</h4>
<ol>
<li>
<p>ä¸€æ–‡è§£æå¾—ç‰©è‡ªå»º Redis æœ€æ–°æŠ€æœ¯æ¼”è¿›</p>
</li>
<li>
<p>Golang HTTPè¯·æ±‚è¶…æ—¶ä¸é‡è¯•ï¼šæ„å»ºé«˜å¯é ç½‘ç»œè¯·æ±‚ï½œå¾—ç‰©æŠ€æœ¯</p>
</li>
<li>
<p>RNä¸hawkç¢°æ’çš„ç«èŠ±ä¹‹C++å¼‚å¸¸æ•è·ï½œå¾—ç‰©æŠ€æœ¯</p>
</li>
<li>
<p>å¾—ç‰©TiDBå‡çº§å®è·µ</p>
</li>
<li>
<p>å¾—ç‰©ç®¡ç†ç±»ç›®é…ç½®çº¿ä¸ŠåŒ–ï¼šä»ä¸šåŠ¡ç—›ç‚¹åˆ°æŠ€æœ¯å®ç°</p>
</li>
</ol>
<h4 data-id="heading-26">æ–‡ /æŸé”</h4>
<p>å…³æ³¨å¾—ç‰©æŠ€æœ¯ï¼Œæ¯å‘¨æ›´æ–°æŠ€æœ¯å¹²è´§</p>
<p>è¦æ˜¯è§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿è¯„è®ºè½¬å‘ç‚¹èµï½</p>
<p>æœªç»å¾—ç‰©æŠ€æœ¯è®¸å¯ä¸¥ç¦è½¬è½½ï¼Œå¦åˆ™ä¾æ³•è¿½ç©¶æ³•å¾‹è´£ä»»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Androidã€‘å¸¸è§æ»‘åŠ¨å†²çªåœºæ™¯åŠè§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7576371992615501860</link>    <guid>https://juejin.cn/post/7576371992615501860</guid>    <pubDate>2025-11-25T09:16:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576371992615501860" data-draft-id="7576477434732707846" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Androidã€‘å¸¸è§æ»‘åŠ¨å†²çªåœºæ™¯åŠè§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="Android,Java"/> <meta itemprop="datePublished" content="2025-11-25T09:16:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼¥å··"/> <meta itemprop="url" content="https://juejin.cn/user/1743186606454698"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Androidã€‘å¸¸è§æ»‘åŠ¨å†²çªåœºæ™¯åŠè§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1743186606454698/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼¥å··
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:16:28.000Z" title="Tue Nov 25 2025 09:16:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€Androidã€‘å¸¸è§æ»‘åŠ¨å†²çªåœºæ™¯åŠè§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>Androidæ»‘åŠ¨å†²çªæ˜¯Androidå¼€å‘ä¸­å¸¸è§çš„é—®é¢˜ï¼Œåœ¨åŒä¸€ä¸ªç•Œé¢ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ª<code>View</code>å¯ä»¥å“åº”æ»‘åŠ¨äº‹ä»¶ã€‚å¦‚æœè¿™äº›<code>View</code>æ»‘åŠ¨æ–¹å‘ä¸€è‡´ï¼Œåˆ™ä¼šå¯¼è‡´æ»‘åŠ¨å†²çªã€‚åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­å·²ç»ä»‹ç»äº†Viewçš„äº‹ä»¶åˆ†å‘æœºåˆ¶ï¼Œä»¥åŠæºç å®ç°ã€‚æœ¬ç¯‡æ–‡ç« å°†å›´ç»•å¸¸è§çš„æ»‘åŠ¨å†²çªåœºæ™¯å±•å¼€ï¼Œå¹¶ä»‹ç»å¯¹åº”çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-2">1. æ»‘åŠ¨å†²çªçš„åœºæ™¯</h3>
<p>å¸¸è§çš„æ»‘åŠ¨å†²çªæ€»å…±æœ‰3ç§ï¼š</p>
<ol>
<li><strong>åŒå‘æ»‘åŠ¨å†²çª</strong>ï¼šå¤–éƒ¨ViewGroupå’Œå†…éƒ¨å­Viewçš„æ»‘åŠ¨æ–¹å‘ä¸€è‡´ï¼Œæ¯”å¦‚ViewGroupå¯ä»¥ä¸Šä¸‹æ»‘åŠ¨ï¼Œå­Viewä¹Ÿå¯ä»¥ä¸Šä¸‹æ»‘åŠ¨ã€‚</li>
<li><strong>å¼‚å‘æ»‘åŠ¨å†²çª</strong>ï¼šå¤–éƒ¨æ»‘åŠ¨æ–¹å‘å’Œå†…éƒ¨æ»‘åŠ¨æ–¹å‘ä¸ä¸€è‡´ã€‚</li>
<li><strong>æ··åˆæ»‘åŠ¨å†²çª</strong>ï¼šä»¥ä¸Šä¸¤ç§æƒ…å†µçš„åµŒå¥—ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69ca8d6733cf4912ab1f53283bfa6210~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byl5be3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666988&amp;x-signature=YHpiBxEaOxxVrp3EPNoXp9MH4x4%3D" alt="å±å¹•æˆªå›¾ 2025-11-25 085852.png" loading="lazy"/></p>
<p>æ»‘åŠ¨å†²çªäº§ç”Ÿçš„æ ¹æœ¬åŸå› åœ¨äºå‘ç”Ÿæ»‘åŠ¨æ—¶ï¼Œä¸çŸ¥é“æ˜¯è®©ViewGroupæ»‘åŠ¨ï¼Œè¿˜æ˜¯è®©ViewGroupå†…çš„å­Viewæ»‘åŠ¨ã€‚å› æ­¤è§£å†³æ»‘åŠ¨å†²çªä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯æ ¹æ®å½“å‰å¸ƒå±€å†…å®¹çš„çŠ¶æ€ï¼Œä»¥åŠå½“å‰çš„æ»‘åŠ¨æ–¹å‘æ¥åˆ¤æ–­åˆ°åº•æ˜¯è®©å“ªä¸ªViewæ»‘åŠ¨ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸€ä¸ªç»å…¸çš„æ»‘åŠ¨å†²çªåœºæ™¯ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>
  <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
  <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">androidx.recyclerview.widget.RecyclerView</span>
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span> /&gt;</span>
    
<span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span>
</code></pre>
<p>ScrollViewå’ŒRecyclerViewåœ¨ç«–ç›´æ–¹å‘ä¸Šéƒ½å¯ä»¥æ»‘åŠ¨ï¼Œæ‰€ä»¥å½“æ»‘åŠ¨äº§ç”Ÿæ—¶ï¼Œç³»ç»Ÿæ— æ³•çŸ¥é“ç”¨æˆ·åˆ°åº•æ˜¯æƒ³è®©å“ªä¸€å±‚æ»‘åŠ¨ï¼Œæ‰€ä»¥å½“æ‰‹æŒ‡æ»‘åŠ¨çš„æ—¶å€™å°±ä¼šå‡ºç°é—®é¢˜ï¼Œè¦ä¹ˆåªæœ‰ä¸€å±‚èƒ½æ»‘åŠ¨ï¼Œè¦ä¹ˆå°±æ˜¯å†…å¤–ä¸¤å±‚éƒ½æ»‘åŠ¨åœ°å¾ˆå¡é¡¿ã€‚</p>
<p>è¦å¤„ç†è¯¥æ»‘åŠ¨å†²çªåœºæ™¯ï¼Œé¦–å…ˆåº”è¯¥æ˜ç¡®æ‰‹æŒ‡çš„æ»‘åŠ¨æ–¹å‘æ˜¯æ°´å¹³è¿˜æ˜¯ç«–ç›´æ–¹å‘ï¼Œå¦‚æœæ˜¯æ°´å¹³æ–¹å‘ï¼Œé‚£ä¹ˆäº‹ä»¶åº”è¯¥äº¤ç”±ScrollViewå¤„ç†ï¼Œå› ä¸ºRecyclerViewæ˜¯ç«–å‘å¸ƒå±€ï¼Œå¤„ç†ä¸äº†æ°´å¹³æ»‘åŠ¨äº‹ä»¶ã€‚å¦‚æœæ˜¯ç«–ç›´æ–¹å‘çš„æ»‘åŠ¨ï¼Œåˆ™åº”å…ˆåˆ¤æ–­RecyclerViewæ­¤æ—¶ç«–ç›´æ–¹å‘æ˜¯å¦è¿˜å¯ä»¥æ»‘åŠ¨ï¼Œè‹¥èƒ½å°±äº¤ç»™RecyclerViewæ¥å¤„ç†ï¼Œå¦åˆ™ä¾ç„¶äº¤ç»™ScrollViewå¤„ç†ã€‚</p>
<p>ä»¥ä¸Šæ€è·¯åœ¨è§£å†³å‰©ä¸‹ä¸¤ç§æƒ…å†µæ—¶ä¾ç„¶é€‚ç”¨ï¼Œ<strong>æ ¸å¿ƒæ€æƒ³å°±æ˜¯è¦æ ¹æ®æ»‘åŠ¨çš„æ–¹å‘ä»¥åŠä¸šåŠ¡çš„åœºæ™¯æ¥åˆ¤æ–­æ­¤æ—¶åº”è¯¥ç”±å“ªä¸ªViewå¤„ç†æ»‘åŠ¨äº‹ä»¶</strong>ã€‚</p>
<h3 data-id="heading-3">2. æ»‘åŠ¨å†²çªçš„å¤„ç†è§„åˆ™</h3>
<p>å¯¹äºå¼‚å‘æ»‘åŠ¨å†²çª(æ¯”å¦‚ViewPageråµŒå¥—RecyclerView)ï¼Œå½“ç”¨æˆ·å·¦å³æ»‘åŠ¨æ—¶ï¼Œéœ€è¦è®©å¤–éƒ¨çš„Viewæ‹¦æˆªç‚¹å‡»äº‹ä»¶ï¼Œå½“ç”¨æˆ·ä¸Šä¸‹æ»‘åŠ¨æ—¶ï¼Œéœ€è¦è®©å†…éƒ¨çš„Viewæ‹¦æˆªç‚¹å‡»äº‹ä»¶ã€‚å…·ä½“å°±æ˜¯ï¼šæ ¹æ®æ»‘åŠ¨æ˜¯æ°´å¹³æ»‘åŠ¨è¿˜æ˜¯ç«–ç›´æ»‘åŠ¨æ¥åˆ¤æ–­åˆ°åº•ç”±è°æ¥æ‹¦æˆªäº‹ä»¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ddea67e8a1a41d1a76ba7d90a9be939~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byl5be3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666988&amp;x-signature=bXGoVXZFycfQEYOlzzB6%2FrBvQ2k%3D" alt="å±å¹•æˆªå›¾ 2025-11-25 092329.png" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œæ ¹æ®æ»‘åŠ¨è¿‡ç¨‹ä¸­ä¸¤ä¸ªç‚¹ä¹‹é—´çš„åæ ‡å°±å¯ä»¥å¾—å‡ºåˆ°åº•æ˜¯æ°´å¹³æ»‘åŠ¨è¿˜æ˜¯ç«–ç›´æ»‘åŠ¨ã€‚æ ¹æ®åæ ‡åˆ¤æ–­æ»‘åŠ¨æ–¹å‘æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæ¯”å¦‚å¯ä»¥æ ¹æ®æ»‘åŠ¨è·¯å¾„å’Œæ°´å¹³æ–¹å‘æ‰€å½¢æˆçš„å¤¹è§’ï¼Œä¹Ÿå¯ä»¥ä¾æ®æ°´å¹³æ–¹å‘å’Œç«–ç›´æ–¹å‘çš„é€Ÿåº¦å·®æ¥åˆ¤æ–­ã€‚ä¸è¿‡ä¸€èˆ¬éƒ½æ˜¯é‡‡ç”¨æ°´å¹³æ–¹å‘å’Œç«–ç›´æ–¹å‘ä¹‹é—´çš„è·ç¦»å·®æ¥åˆ¤æ–­ã€‚æ¯”å¦‚ç«–ç›´æ–¹å‘ä¹‹é—´çš„æ»‘åŠ¨è·ç¦»å¤§å°±åˆ¤æ–­ä¸ºç«–ç›´æ»‘åŠ¨ï¼Œå¦åˆ™åˆ¤æ–­ä¸ºæ°´å¹³æ»‘åŠ¨ã€‚</p>
<p>å¯¹äºåŒå‘å’Œæ··åˆæ»‘åŠ¨å†²çªï¼Œä¸€èˆ¬è¦æ ¹æ®å…·ä½“çš„ä¸šåŠ¡é€»è¾‘æ¥å¤„ç†è§„åˆ™ï¼Œä»€ä¹ˆæ—¶å€™è®©å¤–éƒ¨ViewGroupæ‹¦æˆªï¼Œä»€ä¹ˆæ—¶å€™è¦å†…éƒ¨Viewæ‹¦æˆªã€‚</p>
<h3 data-id="heading-4">3. æ»‘åŠ¨å†²çªçš„è§£å†³æ–¹å¼</h3>
<h4 data-id="heading-5">3.1 å¤–éƒ¨æ‹¦æˆªæ³•</h4>
<p>â€‹	å¤–éƒ¨æ‹¦æˆªæ³•æ˜¯æŒ‡äº‹ä»¶éƒ½å…ˆç»è¿‡çˆ¶è§†å›¾çš„æ‹¦æˆªå¤„ç†ï¼Œå¦‚æœçˆ¶è§†å›¾éœ€è¦æ­¤äº‹ä»¶å°±æ‹¦æˆªï¼Œå¦‚æœä¸éœ€è¦æ­¤äº‹ä»¶å°±åˆ†å‘ç»™å­è§†å›¾ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒæŒ‡çš„æ˜¯äº‹ä»¶éƒ½å…ˆç»è¿‡ScrollViewçš„æ‹¦æˆªå¤„ç†ï¼Œå¦‚æœScrollViewä¸éœ€è¦æ‹¦æˆªæ­¤äº‹ä»¶ï¼Œé‚£ä¹ˆå°±æ­£å¸¸åˆ†å‘ç»™RecyclerViewã€‚å¤–éƒ¨æ‹¦æˆªæ³•éœ€è¦é‡å†™çˆ¶å®¹å™¨çš„onInterceptTouchEventæ–¹æ³•ï¼Œåœ¨å†…éƒ¨åšç›¸åº”çš„æ‹¦æˆªå³å¯ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
    <span class="hljs-type">boolean</span> <span class="hljs-variable">intercepted</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    <span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) event.getX();
    <span class="hljs-type">int</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) event.getY();
    
    <span class="hljs-keyword">switch</span> (event.getAction()) {
        <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
            intercepted = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">break</span>;
            
        <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
            <span class="hljs-keyword">if</span> (çˆ¶å®¹å™¨éœ€è¦å½“å‰ç‚¹å‡»äº‹ä»¶) {
                intercepted = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                intercepted = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">break</span>;
            
        <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
            intercepted = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">break</span>;
            
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">break</span>;
    }
    
    mLastXIntercept = x;
    mLastYIntercept = y;
    <span class="hljs-keyword">return</span> intercepted;
}
</code></pre>
<p>ä»¥ä¸Šæ˜¯å¤–éƒ¨æ‹¦æˆªæ³•çš„å…¸å‹é€»è¾‘ï¼Œä¿®æ”¹ViewGroupçš„<code>onInterceptTouchEvent()</code>æ–¹æ³•ï¼Œå› æ­¤ç§°ä¸ºå¤–éƒ¨æ‹¦æˆªæ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ACTION_DOWNäº‹ä»¶åˆ°æ¥æ—¶ï¼Œçˆ¶å®¹å™¨å¿…é¡»è¿”å›falseï¼Œå³ä¸æ‹¦æˆªdownäº‹ä»¶ï¼Œå› ä¸ºViewGroupä¸€æ—¦æ‹¦æˆªäº†downäº‹ä»¶ï¼Œé‚£ä¹ˆäº‹ä»¶ä¼ é€’å°±ä¼šåœ¨ViewGroupç»ˆæ­¢ï¼Œæ— è®ºViewGroupæ˜¯å¦æ‹¦æˆªäº‹ä»¶ï¼Œæ¥ä¸‹æ¥çš„äº‹ä»¶éƒ½ä¸ä¼šä¼ é€’ç»™å­è§†å›¾RecyclerViewã€‚åœ¨moveäº‹ä»¶åˆ°æ¥æ—¶ï¼Œå°±æ ¹æ®æ­¤ViewGroupæ˜¯å¦éœ€è¦äº‹ä»¶æ¥åˆ¤æ–­æ‹¦ä¸æ‹¦æˆªï¼Œå¦‚æœæ‹¦æˆªäº†ï¼Œé‚£ä¹ˆRecyclerViewä¸ä¼šæ¥æ”¶åˆ°åç»­çš„äº‹ä»¶ï¼Œç”±ScrollViewè‡ªå·±å¤„ç†äº‹ä»¶ã€‚å¯¹äºupäº‹ä»¶ï¼Œä¸éœ€è¦åšä»€ä¹ˆï¼Œé»˜è®¤ä¸æ‹¦æˆªï¼Œå› ä¸ºupäº‹ä»¶æœ¬èº«æ²¡æœ‰å¤ªå¤šæ„ä¹‰ã€‚</p>
<h4 data-id="heading-6">3.2 å†…éƒ¨æ‹¦æˆªæ³•</h4>
<p>å†…éƒ¨æ‹¦æˆªæ³•æŒ‡çš„æ˜¯çˆ¶è§†å›¾ä¸æ‹¦æˆªä»»ä½•äº‹ä»¶ï¼Œæ‰€æœ‰çš„äº‹ä»¶éƒ½ä¼ é€’ç»™å­è§†å›¾ï¼Œå¦‚æœå­è§†å›¾éœ€è¦æ­¤äº‹ä»¶å°±ç›´æ¥æ¶ˆè€—ï¼Œå¦åˆ™äº¤ç”±çˆ¶è§†å›¾å¤„ç†ã€‚è¿™ç§æ–¹æ³•å…ˆå°†äº‹ä»¶äº¤ç»™å­è§†å›¾ï¼Œç„¶åå†ä¼ ç»™çˆ¶è§†å›¾ï¼Œä¸Androidä¸­çš„äº‹ä»¶é»˜è®¤åˆ†å‘é¡ºåºä¸ä¸€è‡´ï¼Œéœ€è¦é…åˆ<code>requestDisallowInterceptTouchEvent()</code>æ–¹æ³•æ‰èƒ½å·¥ä½œã€‚ä¸å¤–éƒ¨æ‹¦æˆªæ³•ç›¸æ¯”ï¼Œå†…éƒ¨æ‹¦æˆªæ³•ä¼šæ›´å¤æ‚ä¸€ç‚¹ã€‚éœ€è¦é‡å†™å­å…ƒç´ çš„<code>dispatchTouchEvent</code>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
    <span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) event.getX();
    <span class="hljs-type">int</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) event.getY();
    
    <span class="hljs-keyword">switch</span> (event.getAction()) {
        <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
            <span class="hljs-comment">// è¦æ±‚çˆ¶å®¹å™¨ä¸è¦æ‹¦æˆªï¼Œç¡®ä¿å­Viewèƒ½æ”¶åˆ°å®Œæ•´äº‹ä»¶åºåˆ—</span>
            getParent().requestDisallowInterceptTouchEvent(<span class="hljs-literal">true</span>);
            <span class="hljs-keyword">break</span>;
            
        <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
            <span class="hljs-type">int</span> <span class="hljs-variable">deltaX</span> <span class="hljs-operator">=</span> x - mLastX;
            <span class="hljs-type">int</span> <span class="hljs-variable">deltaY</span> <span class="hljs-operator">=</span> y - mLastY;
            
            <span class="hljs-comment">// å½“çˆ¶å®¹å™¨éœ€è¦æ­¤ç±»ç‚¹å‡»äº‹ä»¶æ—¶</span>
            <span class="hljs-keyword">if</span> (çˆ¶å®¹å™¨éœ€è¦æ­¤ç±»ç‚¹å‡»äº‹ä»¶) {  <span class="hljs-comment">// è¿™ä¸ªæ¡ä»¶éœ€è¦å…·ä½“å®ç°</span>
                <span class="hljs-comment">// å…è®¸çˆ¶å®¹å™¨æ‹¦æˆª</span>
                getParent().requestDisallowInterceptTouchEvent(<span class="hljs-literal">false</span>);
            }
            <span class="hljs-keyword">break</span>;
            
        <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
            <span class="hljs-keyword">break</span>;
            
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">break</span>;
    }
    
    mLastX = x;
    mLastY = y;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
}
</code></pre>
<p>é™¤äº†å­å…ƒç´ éœ€è¦åšå¤„ç†ä¹‹å¤–ï¼Œçˆ¶å…ƒç´ ä¹Ÿè¦é»˜è®¤æ‹¦æˆªé™¤äº†ACTION_DOWNä»¥å¤–çš„å…¶ä»–äº‹ä»¶ï¼Œè¿™æ ·å½“å­å…ƒç´ è°ƒç”¨<code>parent.requestDisallowInterceptTouchEvent(false)</code>æ–¹æ³•æ—¶ï¼Œçˆ¶å…ƒç´ æ‰èƒ½ç»§ç»­æ‹¦æˆªæ‰€éœ€çš„äº‹ä»¶ã€‚çˆ¶å…ƒç´ æ‰€åšçš„ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-JAVA" lang="JAVA"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
    <span class="hljs-type">int</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span> event.getAction();
    <span class="hljs-keyword">if</span> (action == MotionEvent.ACTION_DOWN) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<blockquote>
<p>ä¸ºä»€ä¹ˆçˆ¶å®¹å™¨ä¸èƒ½æ‹¦æˆªACTION_DOWNäº‹ä»¶å‘¢ï¼Ÿ</p>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­å·²ç»åˆ†æè¿‡ï¼ŒACTION_DOWNäº‹ä»¶ä¸å—FLAG_DISALLOW__INTERCEPTè¿™ä¸ªæ ‡è®°ä½çš„æ§åˆ¶ï¼Œæ‰€ä»¥ä¸€æ—¦çˆ¶å®¹å™¨æ‹¦æˆªACTION_DOWNäº‹ä»¶ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„äº‹ä»¶éƒ½æ— æ³•ä¼ é€’åˆ°å­å…ƒç´ ä¸­å»ï¼Œè¿™æ ·å†…éƒ¨æ‹¦æˆªæ³•å°±æ— æ³•èµ·ä½œç”¨äº†ã€‚</p>
</blockquote>
<p>ä¸‹é¢å°†é€šè¿‡ä¸€ä¸ªå°demoæ¥å…·ä½“ä½“éªŒä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹ã€‚</p>
<h3 data-id="heading-7">4. è§£å†³æ»‘åŠ¨å†²çªçš„å®ä¾‹</h3>
<p>è¿™é‡Œé‡‡ç”¨ScrollViewåµŒå¥—RecyclerViewçš„æ–¹æ¡ˆï¼Œå¹¶åˆ†åˆ«ä½¿ç”¨å¤–éƒ¨æ‹¦æˆªæ³•å’Œå†…éƒ¨æ‹¦æˆªæ³•çš„è§£å†³æ»‘åŠ¨å†²çªã€‚</p>
<p>é¦–å…ˆï¼Œçœ‹çœ‹ä¸»è¦å¸ƒå±€ç»“æ„ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- æ°´å¹³æ»‘åŠ¨çš„åˆ†ç±»å®¹å™¨ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">HorizontalScrollView</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/horizontalScrollView"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"0dp"</span>
        <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span>
        <span class="hljs-attr">android:background</span>=<span class="hljs-string">"#FFFFFF"</span>
        <span class="hljs-attr">android:scrollbars</span>=<span class="hljs-string">"none"</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span>
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/categoryContainer"</span>
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- åˆ†ç±»1ï¼šæ‰‹æœº --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span>
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"360dp"</span>
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span>
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"#FAFAFA"</span>&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
                    <span class="hljs-attr">android:background</span>=<span class="hljs-string">"#FF5722"</span>
                    <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
                    <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"15dp"</span>
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">"ğŸ“± æ‰‹æœºåˆ†ç±»"</span>
                    <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"#FFFFFF"</span>
                    <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"18sp"</span>
                    <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span> /&gt;</span>

                <span class="hljs-comment">&lt;!-- å‚ç›´çš„RecyclerView --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">androidx.recyclerview.widget.RecyclerView</span>
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/recyclerView1"</span>
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span> /&gt;</span>

            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- åˆ†ç±»2ï¼šç”µè„‘ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span>
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"360dp"</span>
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span>
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"#F5F5F5"</span>&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
                    <span class="hljs-attr">android:background</span>=<span class="hljs-string">"#3F51B5"</span>
                    <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
                    <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"15dp"</span>
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">"ğŸ’» ç”µè„‘åˆ†ç±»"</span>
                    <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"#FFFFFF"</span>
                    <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"18sp"</span>
                    <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span> /&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-name">androidx.recyclerview.widget.RecyclerView</span>
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/recyclerView2"</span>
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span> /&gt;</span>

            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- åˆ†ç±»3ï¼šé…ä»¶ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span>
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"360dp"</span>
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span>
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"#FAFAFA"</span>&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
                    <span class="hljs-attr">android:background</span>=<span class="hljs-string">"#009688"</span>
                    <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
                    <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"15dp"</span>
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">"ğŸ§ é…ä»¶åˆ†ç±»"</span>
                    <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"#FFFFFF"</span>
                    <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"18sp"</span>
                    <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span> /&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-name">androidx.recyclerview.widget.RecyclerView</span>
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/recyclerView3"</span>
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span> /&gt;</span>

            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>

        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">HorizontalScrollView</span>&gt;</span>
</code></pre>
<p>è¿™ä¸ªå¸ƒå±€ä¸­ä¸»è¦å°±æ˜¯ä¸€ä¸ªæ°´å¹³æ»‘åŠ¨çš„ScrollViewå’Œä¸‰ä¸ªRecyclerViewã€‚è¿™ä¸ªRecyclerViewæ˜¯ç«–ç›´æ»‘åŠ¨çš„ï¼Œè€Œå¤–éƒ¨çš„ScrollViewæ˜¯æ°´å¹³æ»‘åŠ¨çš„ï¼Œè¿™å°±äº§ç”Ÿäº†å¼‚å‘æ»‘åŠ¨å†²çªï¼Œè¿™ç§æ»‘åŠ¨å†²çªä¹Ÿæ˜¯æœ€å¸¸è§çš„æ»‘åŠ¨å†²çªã€‚è¿™é‡Œæ²¡æœ‰é‡‡ç”¨ViewPagerä½œä¸ºå¤–éƒ¨å¸ƒå±€æ˜¯å› ä¸ºViewPagerå·²ç»å¸®æˆ‘ä»¬å¤„ç†äº†æ»‘åŠ¨å†²çªï¼Œæˆ‘ä»¬ä¸éœ€è¦è‡ªå·±æ‰‹åŠ¨å»å¤„ç†ã€‚</p>
<p>å…ˆçœ‹çœ‹æ²¡æœ‰è§£å†³æ»‘åŠ¨å†²çªæ—¶çš„æ»‘åŠ¨æ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cc43e68a8674512a56de03c206591b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byl5be3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666988&amp;x-signature=3xFVgu8JXTQbVOzl%2BHgp%2FDkUi7k%3D" alt="1.gif" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ»‘åŠ¨éå¸¸å¡é¡¿ï¼Œæœ‰æ—¶å€™ç«–ç›´æ–¹å‘åˆ’ä¸åŠ¨ï¼Œæ…¢æ…¢æ»‘æ‰èƒ½å‹‰å¼ºç«–ç›´æ»‘åŠ¨ã€‚ä¸‹é¢åˆ†åˆ«ä»‹ç»å¤–éƒ¨æ‹¦æˆªæ³•å’Œå†…éƒ¨æ‹¦æˆªæ³•å¤„ç†æ»‘åŠ¨å†²çªã€‚</p>
<ol>
<li><strong>å¤–éƒ¨æ‹¦æˆªæ³•</strong></li>
</ol>
<p>â€‹	æ–°å»º<code>CustomHorizontalScrollView</code>ç»§æ‰¿HorizontalScrollViewï¼Œé‡å†™<code>onInterceptTouchEvent</code>æ–¹æ³•ï¼Œåœ¨downäº‹ä»¶æ—¶è®°å½•æ‰‹æŒ‡ç‚¹å‡»çš„åæ ‡ï¼Œmoveäº‹ä»¶æ—¶è®¡ç®—æ»‘åŠ¨çš„è·ç¦»ï¼Œå¹¶åˆ†åˆ«è®¡ç®—æ°´å¹³æ–¹å‘å’Œç«–ç›´æ–¹å‘çš„è·ç¦»å·®å¹¶è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœæ˜¯æ¨ªå‘æ»‘åŠ¨ï¼Œåˆ™è‡ªå·±å¤„ç†äº‹ä»¶ï¼Œå¦åˆ™å°±äº¤ç»™å­RecyclerViewå¤„ç†ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomHorizontalScrollView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HorizontalScrollView</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">float</span> lastX, lastY;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CustomHorizontalScrollView</span><span class="hljs-params">(Context context, AttributeSet attrs)</span> {
        <span class="hljs-built_in">super</span>(context, attrs);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent ev)</span> {
        <span class="hljs-type">float</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> ev.getX();
        <span class="hljs-type">float</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> ev.getY();

        <span class="hljs-keyword">switch</span> (ev.getAction()) {

            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                lastX = x;
                lastY = y;
                <span class="hljs-comment">// å¿…é¡»è®©çˆ¶ç±»å¤„ç†ï¼Œå¦åˆ™ä¸èƒ½æ¥æ”¶åç»­ MOVE</span>
                <span class="hljs-built_in">super</span>.onInterceptTouchEvent(ev);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-type">float</span> <span class="hljs-variable">dx</span> <span class="hljs-operator">=</span> Math.abs(x - lastX);
                <span class="hljs-type">float</span> <span class="hljs-variable">dy</span> <span class="hljs-operator">=</span> Math.abs(y - lastY);

                <span class="hljs-comment">// æ¨ªå‘æ»‘åŠ¨ï¼Œå¤–éƒ¨æ‹¦æˆª</span>
                <span class="hljs-keyword">if</span> (dx &gt; dy &amp;&amp; dx &gt; <span class="hljs-number">6</span>) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }

                <span class="hljs-comment">// çºµå‘æ»‘åŠ¨ï¼Œäº¤ç»™å†…éƒ¨ RecyclerView</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onInterceptTouchEvent(ev);
    }
}

</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œdownäº‹ä»¶çš„å¤„ç†å¿…é¡»è¦äº¤ç»™çˆ¶å®¹å™¨å¤„ç†ï¼Œå› ä¸ºè¿™ä¸ªHorizontalScrollViewä¸æ˜¯é¡¶çº§Viewï¼Œäº‹ä»¶æ˜¯ä»çˆ¶è§†å›¾åˆ†å‘ä¸‹æ¥çš„ï¼Œæ‰€ä»¥downäº‹ä»¶è¦äº¤ç»™çˆ¶è§†å›¾æ¥å¤„ç†ï¼Œè°ƒç”¨<code>super.onInterceptTouchEvent(ev);</code>æ–¹æ³•å³å¯ã€‚</p>
<p>åœ¨å¸ƒå±€ä¸­å°†HorizontalScrollViewæ›¿æ¢æˆæˆ‘ä»¬è‡ªå®šä¹‰çš„<code>CustomHorizontalScrollView</code>ï¼Œç„¶åçœ‹çœ‹æ»‘åŠ¨æ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f02d1fdcc6d044e5866c598bb55c042a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byl5be3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666988&amp;x-signature=4vfwUnV7OYfe14lpUQdpze2l7%2BE%3D" alt="2.gif" loading="lazy"/></p>
<p>èƒ½å¤Ÿæ°´å¹³æ»‘åŠ¨ï¼ŒåŒæ—¶ä¹Ÿä¸å½±å“RecyclerViewçš„ç«–ç›´æ»‘åŠ¨ï¼Œè¯´æ˜å·¦å³æ»‘åŠ¨å’Œä¸Šä¸‹æ»‘åŠ¨éƒ½èƒ½è¢«æ­£ç¡®çš„å¯¹è±¡æ¶ˆè´¹ï¼Œè¿™æ ·å¼‚å‘çš„æ»‘åŠ¨å†²çªå°±è§£å†³äº†ã€‚</p>
<ol start="2">
<li><strong>å†…éƒ¨æ‹¦æˆªæ³•</strong></li>
</ol>
<p>â€‹	é¦–å…ˆæŠŠå¤–éƒ¨çš„<code>CustomHorizontalScrollView</code>æ”¹å›HorizontalScrollViewï¼Œæ–°å»º<code>HorizontalConflictRecyclerView</code>ç»§æ‰¿è‡ªRecyclerViewï¼Œé‡å†™å®ƒçš„<code>dispatchTouchEvent</code>æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HorizontalConflictRecyclerView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RecyclerView</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">float</span> startX, startY;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">HorizontalConflictRecyclerView</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> Context context)</span> {
        <span class="hljs-built_in">super</span>(context);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">HorizontalConflictRecyclerView</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> Context context, <span class="hljs-meta">@Nullable</span> AttributeSet attrs)</span> {
        <span class="hljs-built_in">super</span>(context, attrs);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">HorizontalConflictRecyclerView</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> Context context, <span class="hljs-meta">@Nullable</span> AttributeSet attrs, <span class="hljs-type">int</span> defStyle)</span> {
        <span class="hljs-built_in">super</span>(context, attrs, defStyle);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent ev)</span> {
        <span class="hljs-type">float</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> ev.getX();
        <span class="hljs-type">float</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> ev.getY();

        <span class="hljs-keyword">switch</span> (ev.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                startX = x;
                startY = y;
                <span class="hljs-comment">// å‘Šè¯‰çˆ¶Viewï¼ˆHorizontalScrollViewï¼‰ä¸è¦æ‹¦æˆªï¼Œæˆ‘æ¥å¤„ç†</span>
                getParent().requestDisallowInterceptTouchEvent(<span class="hljs-literal">true</span>);
                <span class="hljs-keyword">break</span>;

            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-type">float</span> <span class="hljs-variable">dx</span> <span class="hljs-operator">=</span> Math.abs(x - startX);
                <span class="hljs-type">float</span> <span class="hljs-variable">dy</span> <span class="hljs-operator">=</span> Math.abs(y - startY);

                <span class="hljs-keyword">if</span> (dx &gt; dy &amp;&amp; dx &gt; <span class="hljs-number">10</span>) {
                    <span class="hljs-comment">// æ°´å¹³æ»‘åŠ¨è·ç¦»å¤§äºå‚ç›´æ»‘åŠ¨ï¼Œè®©çˆ¶Viewï¼ˆHorizontalScrollViewï¼‰å¤„ç†</span>
                    getParent().requestDisallowInterceptTouchEvent(<span class="hljs-literal">false</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dy &gt; dx &amp;&amp; dy &gt; <span class="hljs-number">10</span>) {
                    <span class="hljs-comment">// å‚ç›´æ»‘åŠ¨è·ç¦»å¤§äºæ°´å¹³æ»‘åŠ¨ï¼Œè‡ªå·±å¤„ç†ï¼ˆæ»šåŠ¨RecyclerViewï¼‰</span>
                    getParent().requestDisallowInterceptTouchEvent(<span class="hljs-literal">true</span>);
                }
                <span class="hljs-keyword">break</span>;

            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_CANCEL:
                getParent().requestDisallowInterceptTouchEvent(<span class="hljs-literal">false</span>);
                <span class="hljs-keyword">break</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(ev);
    }
}
</code></pre>
<p>è¿˜æ˜¯ä¸€æ ·ï¼Œå…ˆè·å–æ‰‹æŒ‡ç‚¹å‡»å±å¹•çš„åæ ‡ï¼Œåœ¨downäº‹ä»¶è®°å½•è¿™ä¸ªåˆå§‹åæ ‡ï¼ŒåŒæ—¶è°ƒç”¨<code>requestDisallowInterceptTouchEvent(true);</code>æ–¹æ³•å‘Šè¯‰çˆ¶è§†å›¾ä¸è¦æ‹¦æˆªäº‹ä»¶ï¼Œç”±å½“å‰Viewæ¥å¤„ç†ã€‚æ¥ç€å½“moveäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè·å–æ°´å¹³æ–¹å‘å’Œç«–ç›´æ–¹å‘çš„è·ç¦»å·®å¹¶è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œæ°´å¹³æ–¹å‘çš„æ»‘åŠ¨å°±äº¤ç»™çˆ¶è§†å›¾(HorizontalScrollView)å¤„ç†ï¼Œç«–ç›´æ–¹å‘çš„æ»‘åŠ¨å°±è‡ªå·±å¤„ç†ï¼ŒåŒæ ·ä¹Ÿæ˜¯è°ƒç”¨çˆ¶è§†å›¾çš„<code>requestDisallowInterceptTouchEvent();</code>æ–¹æ³•ã€‚æœ€åæ”¾å›<code>super.dispatchTouchEvent(ev)</code>è®©RecyclerViewç»§ç»­æ‰§è¡Œè‡ªå·±çš„äº‹ä»¶åˆ†å‘é€»è¾‘ã€‚</p>
<p>ç„¶ååœ¨å¸ƒå±€æ–‡ä»¶é‡ŒæŠŠæ™®é€šçš„RecyclerViewæ”¹æˆæˆ‘ä»¬è‡ªå®šä¹‰çš„<code>HorizontalConflictRecyclerView</code>ï¼Œè¿è¡Œçœ‹çœ‹æ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e09043ef2724986838c4d4cc20ff239~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byl5be3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666988&amp;x-signature=6zdvPFvBaetRpVpdYNwuMk7C%2BJA%3D" alt="3.gif" loading="lazy"/></p>
<p>å’Œå¤–éƒ¨æ‹¦æˆªçš„æ•ˆæœä¸€è‡´ï¼Œå„ä¸ªæ–¹å‘æ»‘åŠ¨éƒ½æ­£å¸¸ã€‚</p>
<blockquote>
<p>å†…å®¹å‚è€ƒï¼š</p>
<p><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">ã€Šå®‰å“å¼€å‘è‰ºæœ¯æ¢ç´¢ã€‹- ä»»ç‰åˆš</a></p>
<p><a href="https://juejin.cn/post/7148623192121147429?searchId=202511242234540285B9E253EFDD28E324" target="_blank" title="https://juejin.cn/post/7148623192121147429?searchId=202511242234540285B9E253EFDD28E324">å®‰å“åŸºç¡€çŸ¥è¯†ä¹‹Viewç¯‡ï¼ˆå››ï¼‰ï¼šView äº‹ä»¶æ»‘åŠ¨å†²çªè§£å†³æ–¹æ¡ˆ</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android å°ç»„ä»¶AppWidgetProviderçš„ä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7576483553878835226</link>    <guid>https://juejin.cn/post/7576483553878835226</guid>    <pubDate>2025-11-25T09:17:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576483553878835226" data-draft-id="7376180143377432588" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android å°ç»„ä»¶AppWidgetProviderçš„ä½¿ç”¨"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-11-25T09:17:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŠ±è½å½’é›¶"/> <meta itemprop="url" content="https://juejin.cn/user/3263006243561838"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android å°ç»„ä»¶AppWidgetProviderçš„ä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3263006243561838/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŠ±è½å½’é›¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:17:34.000Z" title="Tue Nov 25 2025 09:17:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€.æ¦‚å¿µ</h3>
<h4 data-id="heading-1">1. AppWidgetProvideræ˜¯ä»€ä¹ˆ</h4>
<ul>
<li>ç»§æ‰¿è‡ª <code>BroadcastReceiver</code>ï¼Œæ˜¯æ¡Œé¢å°ç»„ä»¶çš„ã€Œæ§åˆ¶å™¨ã€</li>
<li>ç³»ç»Ÿé€šè¿‡å¹¿æ’­ï¼ˆ<code>ACTION_APPWIDGET_UPDATE</code> <code>ACTION_APPWIDGET_DELETED</code>ç­‰ï¼‰é€šçŸ¥å®ƒã€Œä½•æ—¶æ›´æ–°ã€ä½•æ—¶åˆ é™¤ã€</li>
<li>ä¸€ä¸ªç±»å¯¹åº”ä¸€ç§å°ç»„ä»¶ï¼Œå¯åŒæ—¶åœ¨æ¡Œé¢å­˜åœ¨å¤šä¸ªå®ä¾‹</li>
</ul>
<h4 data-id="heading-2">2.å°ç»„ä»¶çš„æœ¬è´¨</h4>
<ul>
<li>è¿œç¨‹ <code>View</code>ï¼ˆ<code>RemoteViews</code>ï¼‰+ å®šæ—¶å¹¿æ’­ + <code>PendingIntent</code> è§¦å‘</li>
<li>è¿è¡Œåœ¨éä¸»è¿›ç¨‹ï¼Œ<strong>ä¸èƒ½</strong>ç›´æ¥æ“ä½œ <code>findViewById</code>ï¼Œå¿…é¡»é€šè¿‡ <code>RemoteViews</code> æä¾›çš„ API è®¾ç½®æ–‡æœ¬ã€å›¾ç‰‡ã€ç‚¹å‡»äº‹ä»¶ç­‰</li>
</ul>
<h4 data-id="heading-3">3.ä¸»è¦æ§ä»¶ RemoteViews</h4>
<p>RemoteViews æ˜¯ Android ä¸­ä¸“é—¨ç”¨æ¥â€œè·¨è¿›ç¨‹æ›´æ–° UIâ€çš„è½»é‡çº§è§†å›¾å¯¹è±¡ã€‚å®ƒå¹¶ä¸æ˜¯çœŸæ­£çš„ Viewï¼Œè€Œæ˜¯ä¸€ä»½â€œæè¿°æ–‡ä»¶â€ï¼šä½ æŠŠæƒ³åšçš„ UI æ“ä½œï¼ˆæ”¹æ–‡å­—ã€æ¢å›¾ç‰‡ã€è®¾ç‚¹å‡»äº‹ä»¶ç­‰ï¼‰å…ˆè®°å½•åˆ° RemoteViews é‡Œï¼Œç„¶åä¸€æ¬¡æ€§äº¤ç»™ç³»ç»Ÿï¼Œç³»ç»Ÿä¼šåœ¨å¦ä¸€ä¸ªè¿›ç¨‹ï¼ˆé€šçŸ¥æ æˆ–æ¡Œé¢ï¼‰é‡Œå¸®ä½ é‡å»ºå¹¶åº”ç”¨è¿™äº›æ“ä½œã€‚å› æ­¤ï¼Œå®ƒå¤©ç”Ÿå°±é€‚åˆé€šçŸ¥æ ã€æ¡Œé¢å°ç»„ä»¶ã€é”å±ç­‰â€œæœ¬ App æ— æ³•ç›´æ¥è§¦ç¢°â€çš„è¿œç¨‹åœºæ™¯ã€‚</p>
<h2 data-id="heading-4">ä¸€ã€æ ¸å¿ƒç‰¹ç‚¹</h2>
<ol>
<li><strong>è·¨è¿›ç¨‹</strong><br/>
è¿è¡Œåœ¨ SystemServer / Launcher ç­‰å¤–éƒ¨è¿›ç¨‹ï¼Œæœ¬è¿›ç¨‹æ— æ³• <code>findViewById</code>ï¼Œä¹Ÿæ— æ³•ç›´æ¥æ“ä½œ Viewã€‚</li>
<li><strong>æ“ä½œåŸå­åŒ–</strong><br/>
æ‰€æœ‰ä¿®æ”¹ï¼ˆæ–‡æœ¬ã€å›¾ç‰‡ã€å¯è§æ€§ã€ç‚¹å‡»äº‹ä»¶ï¼‰å…ˆç¼“å­˜æˆ Action åˆ—è¡¨ï¼Œè°ƒç”¨ <code>notify()</code> æˆ– <code>updateAppWidget()</code> æ—¶æ‰ä¸€æ¬¡æ€§é€šè¿‡ Binder é€’é€å¹¶åœ¨è¿œç«¯åå°„æ‰§è¡Œã€‚</li>
<li><strong>ä»…æ”¯æŒæœ‰é™è§†å›¾</strong><br/>
å¸ƒå±€ï¼š<code>LinearLayout</code>ã€<code>FrameLayout</code>ã€<code>RelativeLayout</code>ã€<code>GridLayout</code>ã€<code>ListView</code>ã€<code>GridView</code>ã€<code>StackView</code>ã€<code>ViewFlipper</code>ã€<code>AdapterViewFlipper</code><br/>
æ§ä»¶ï¼š<code>TextView</code>ã€<code>Button</code>ã€<code>ImageView</code>ã€<code>ImageButton</code>ã€<code>ProgressBar</code>ã€<code>AnalogClock</code>ã€<code>Chronometer</code>ã€<code>TextClock</code><br/>
API 31+ æ–°å¢ï¼š<code>CheckBox</code>ã€<code>RadioButton</code>ã€<code>RadioGroup</code>ã€<code>Switch</code><br/>
é™¤æ­¤ä¹‹å¤–ä¸€å¾‹ä¸æ”¯æŒï¼ŒåŒ…æ‹¬å®ƒä»¬çš„å­ç±»æˆ–è‡ªå®šä¹‰ View</li>
<li><strong>å¸¸è§ç”¨æ³•</strong></li>
</ol>

























<table><thead><tr><th>ç›®æ ‡</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>è®¾ç½®æ–‡æœ¬</td><td>remoteViews.setTextViewText(R.id.tv, "hello widget");</td></tr><tr><td>è®¾ç½®å­æ§ä»¶é«˜åº¦</td><td>remoteViews.setInt(R.id.tv, "setHeight", 20);</td></tr><tr><td>æ¢å›¾ç‰‡</td><td>remoteViews.setImageViewBitmap(R.id.iv, bitmap);</td></tr><tr><td>ç»‘å®šç‚¹å‡»äº‹ä»¶</td><td>remoteViews.setOnClickPendingIntent(R.id.digital_widget, pendingIntent);</td></tr></tbody></table>
<p>æ³¨æ„ï¼šç‚¹å‡»äº‹ä»¶å¿…é¡»é€šè¿‡ <code>PendingIntent</code> å°è£…ï¼Œæ”¯æŒå¯åŠ¨ Activityã€Service æˆ–å‘é€å¹¿æ’­</p>
<h3 data-id="heading-5">äºŒã€å°ç»„ä»¶çš„ç®€å•ä½¿ç”¨</h3>
<ol>
<li><strong>åˆ›å»ºå°ç»„ä»¶</strong></li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3251cefdbe1648748174f39e3a967af7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iqx6JC95b2S6Zu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667137&amp;x-signature=VSycp6E2CiDXkSUB33Z6L87GuK4%3D" alt="image.png" loading="lazy"/>
æ¯åˆ›å»ºä¸€ä¸ªå°ç»„ä»¶å°†åœ¨AndroidManifest.xmlæ³¨å†Œæ¥æ”¶è€…</p>
<pre><code class="hljs language-java" lang="java">&lt;receiver
    android:name=<span class="hljs-string">".widget.NewWidget"</span>
    android:exported=<span class="hljs-string">"false"</span>&gt;
    &lt;intent-filter&gt;
        &lt;action android:name=<span class="hljs-string">"android.appwidget.action.APPWIDGET_UPDATE"</span> /&gt;
    &lt;/intent-filter&gt;

    &lt;meta-data
        android:name=<span class="hljs-string">"android.appwidget.provider"</span>
        android:resource=<span class="hljs-string">"@xml/new_widget_info"</span> /&gt;
&lt;/receiver&gt;
</code></pre>
<h5 data-id="heading-6">å…ƒæ•°æ®æ–‡ä»¶Â <code>res/xml/new_widget_info.xml</code></h5>
<pre><code class="hljs language-java" lang="java">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;
&lt;appwidget-provider xmlns:android=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    android:description=<span class="hljs-string">"@string/app_widget_description"</span>
    android:initialKeyguardLayout=<span class="hljs-string">"@layout/new_widget"</span>
    android:initialLayout=<span class="hljs-string">"@layout/new_widget"</span>
    android:minWidth=<span class="hljs-string">"40dp"</span>
    android:minHeight=<span class="hljs-string">"40dp"</span>
    android:previewImage=<span class="hljs-string">"@drawable/example_appwidget_preview"</span>
    android:resizeMode=<span class="hljs-string">"none"</span>
    android:updatePeriodMillis=<span class="hljs-string">"0"</span> &lt;!-- è‡ªåŠ¨åˆ·æ–°å‘¨æœŸ --&gt;
    android:widgetCategory=<span class="hljs-string">"home_screen|keyguard"</span> /&gt;
</code></pre>
<h3 data-id="heading-7">å¸ƒå±€æ–‡ä»¶Â <code>res/layout/widget_layout.xml</code></h3>
<pre><code class="hljs language-ini" lang="ini">&lt;LinearLayout xmlns:<span class="hljs-attr">android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    android:<span class="hljs-attr">id</span>=<span class="hljs-string">"@+id/digital_widget"</span>
    android:<span class="hljs-attr">layout_width</span>=<span class="hljs-string">"match_parent"</span>
    android:<span class="hljs-attr">layout_height</span>=<span class="hljs-string">"match_parent"</span>
    android:<span class="hljs-attr">gravity</span>=<span class="hljs-string">"center"</span>
    android:<span class="hljs-attr">orientation</span>=<span class="hljs-string">"vertical"</span>&gt;

    &lt;ImageView
        android:<span class="hljs-attr">id</span>=<span class="hljs-string">"@+id/image"</span>
        android:<span class="hljs-attr">layout_width</span>=<span class="hljs-string">"match_parent"</span>
        android:<span class="hljs-attr">layout_height</span>=<span class="hljs-string">"0dp"</span>
        android:<span class="hljs-attr">layout_weight</span>=<span class="hljs-string">"1"</span>
        android:<span class="hljs-attr">scaleType</span>=<span class="hljs-string">"fitXY"</span> /&gt;

    &lt;TextView
        android:<span class="hljs-attr">id</span>=<span class="hljs-string">"@+id/title"</span>
        android:<span class="hljs-attr">layout_width</span>=<span class="hljs-string">"match_parent"</span>
        android:<span class="hljs-attr">layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        android:<span class="hljs-attr">gravity</span>=<span class="hljs-string">"center_horizontal"</span>
        android:<span class="hljs-attr">singleLine</span>=<span class="hljs-string">"true"</span>
        android:<span class="hljs-attr">text</span>=<span class="hljs-string">"title"</span>
        android:<span class="hljs-attr">textColor</span>=<span class="hljs-string">"@color/white"</span>
        android:<span class="hljs-attr">textSize</span>=<span class="hljs-string">"12dp"</span>
        android:<span class="hljs-attr">visibility</span>=<span class="hljs-string">"invisible"</span> /&gt;

&lt;/LinearLayout&gt;
</code></pre>
<p>è¿è¡Œ â†’ é•¿æŒ‰æ¡Œé¢ â†’ å°ç»„ä»¶ â†’ æ‰¾åˆ°ä½ çš„ Demo æ‹–åˆ°æ¡Œé¢å³å¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0098a0cc4eb64286a892a25b8e0055f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iqx6JC95b2S6Zu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667137&amp;x-signature=he5KhyTNspuwWLbsNh%2Fkqpvo1Kc%3D" alt="5357a44da86be168692b78963625ed3f.jpg" loading="lazy"/></p>
<h3 data-id="heading-8">ä¸‰ã€é«˜é˜¶å°ç»„ä»¶ï¼šå®ç°è½®æ’­</h3>
<p>å®ç°å°ç»„ä»¶è½®æ’­å¹¶åœ¨æ¯ä¸€é¡µç»‘å®šä¸åŒçš„ç‚¹å‡»äº‹ä»¶ï¼Œå¯é€šè¿‡<code>AdapterViewFlipper</code>è½®æ’­å®¹å™¨ç»“åˆ<code> remoteViews.setRemoteAdapter</code>ç»‘å®š<code>RemoteViewsService</code>è¿›è¡Œè½®æ’­åˆ·æ–°æ•°æ®</p>
<p>å¸ƒå±€digital_widget.xml</p>
<pre><code class="hljs language-java" lang="java">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;

&lt;LinearLayout xmlns:android=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    xmlns:app=<span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span>
    android:id=<span class="hljs-string">"@+id/digital_widget"</span>
    android:layout_width=<span class="hljs-string">"match_parent"</span>
    android:layout_height=<span class="hljs-string">"match_parent"</span>
    android:orientation=<span class="hljs-string">"vertical"</span>&gt;
    &lt;AdapterViewFlipper
        android:id=<span class="hljs-string">"@+id/view_flipper"</span>
        android:layout_width=<span class="hljs-string">"match_parent"</span>
        android:layout_height=<span class="hljs-string">"match_parent"</span>
        android:animateFirstView=<span class="hljs-string">"false"</span>
        android:autoStart=<span class="hljs-string">"true"</span>
        android:flipInterval=<span class="hljs-string">"3000"</span>
        android:inAnimation=<span class="hljs-string">"@animator/alpha_in"</span>
        android:outAnimation=<span class="hljs-string">"@animator/alpha_out"</span> /&gt;
    
&lt;/LinearLayout&gt;
</code></pre>
<p>åœ¨æ¥æ”¶åˆ°å°ç»„ä»¶åˆ›å»ºåˆ·æ–°å¹¿æ’­æ—¶è¿›è¡ŒremoteViewsçš„ç»‘å®šä¸åˆ·æ–°</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateWidget</span><span class="hljs-params">(Context context, AppWidgetManager wm, <span class="hljs-type">int</span> widgetId, WidgetBean info)</span> {
    <span class="hljs-type">RemoteViews</span> <span class="hljs-variable">remoteViews</span> <span class="hljs-operator">=</span> relayoutWidget(context, wm, widgetId, info);
    wm.updateAppWidget(widgetId, remoteViews);
}

<span class="hljs-keyword">private</span> RemoteViews <span class="hljs-title function_">relayoutWidget</span><span class="hljs-params">(Context context, AppWidgetManager wm, <span class="hljs-type">int</span> widgetId, WidgetBean info)</span> {
    <span class="hljs-type">RemoteViews</span> <span class="hljs-variable">rv</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RemoteViews</span>(context.getPackageName(), R.layout.digital_widget);
    rv.setViewVisibility(R.id.view_flipper, View.VISIBLE);
    <span class="hljs-type">Intent</span> <span class="hljs-variable">serviceIntent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(context, ViewWidgetService.class);
    <span class="hljs-type">Bundle</span> <span class="hljs-variable">bundle</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bundle</span>();
    bundle.putInt(AppWidgetManager.EXTRA_APPWIDGET_ID, widgetId);
    bundle.putString(CommonConstant.APP_WIDGET_DATA, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>().toJson(info));
    serviceIntent.putExtras(bundle);
    serviceIntent.setData(Uri.parse(serviceIntent.toUri(Intent.URI_INTENT_SCHEME)));
    rv.setRemoteAdapter(R.id.view_flipper, serviceIntent);
    <span class="hljs-type">Intent</span> <span class="hljs-variable">intent2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(context, HandlerActivity.class);
    intent2.setAction(CommonConstant.ITEM_CLICK_ACTION);
    intent2.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);
    <span class="hljs-type">PendingIntent</span> <span class="hljs-variable">pendingIntentTemplate</span> <span class="hljs-operator">=</span> PendingIntent.getActivity(context, widgetId, intent2, PendingIntent.FLAG_UPDATE_CURRENT);
    <span class="hljs-comment">// ç»‘å®šè½®æ’­çš„ç‚¹å‡»äº‹ä»¶</span>
    rv.setPendingIntentTemplate(R.id.view_flipper, pendingIntentTemplate);
    wm.updateAppWidget(widgetId, rv);
    wm.notifyAppWidgetViewDataChanged(widgetId, R.id.view_flipper);
    <span class="hljs-keyword">return</span> rv;
}
</code></pre>
<p><code>ViewWidgetService </code>ç»§æ‰¿RemoteViewsService</p>
<p>æ³¨å†ŒæœåŠ¡</p>
<pre><code class="hljs language-java" lang="java">&lt;service
    android:name=<span class="hljs-string">".service.ViewWidgetService"</span>
    android:permission=<span class="hljs-string">"android.permission.BIND_REMOTEVIEWS"</span> /&gt;
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewWidgetService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RemoteViewsService</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> RemoteViewsFactory <span class="hljs-title function_">onGetViewFactory</span><span class="hljs-params">(Intent intent)</span> {
        <span class="hljs-keyword">return</span>  <span class="hljs-keyword">new</span> <span class="hljs-title class_">ViewRemoteViewsFactory</span>(<span class="hljs-built_in">this</span>, intent);
    }
}
</code></pre>
<p><code>ViewRemoteViewsFactory</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewRemoteViewsFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">RemoteViewsService</span>.RemoteViewsFactory {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">String</span> <span class="hljs-variable">TAG</span> <span class="hljs-operator">=</span> ViewRemoteViewsFactory.class.getSimpleName();
    <span class="hljs-keyword">private</span> Context mContext;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> mAppWidgetId;
    <span class="hljs-keyword">private</span> List&lt;AdvertInfodetail&gt; advertInfodetails;
    <span class="hljs-keyword">private</span> WidgetBean widgetBean;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ViewRemoteViewsFactory</span><span class="hljs-params">(Context context, Intent intent)</span> {
        <span class="hljs-built_in">this</span>.mContext = context;
        <span class="hljs-comment">// è·å–ä¼ é€’çš„æ•°æ®</span>
        <span class="hljs-type">Bundle</span> <span class="hljs-variable">bundle</span> <span class="hljs-operator">=</span> intent.getExtras();
        <span class="hljs-keyword">if</span> (bundle != <span class="hljs-literal">null</span>) {
            mAppWidgetId = intent.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID,
                    AppWidgetManager.INVALID_APPWIDGET_ID);
            <span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> intent.getStringExtra(CommonConstant.APP_WIDGET_DATA);
            widgetBean = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>().fromJson(data, WidgetBean.class);
            <span class="hljs-keyword">if</span> (widgetBean != <span class="hljs-literal">null</span>) {
                advertInfodetails = ObjectUtil.jsonToAdvertInfoList(widgetBean.getExtra());
            }
            LogUtil.i(TAG, <span class="hljs-string">"new ViewRemoteViewsFactory:"</span> + mAppWidgetId);
        }
    }


    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span> {
        LogUtil.i(TAG, <span class="hljs-string">"ViewRemoteViewsFactory onCreate:"</span> + mAppWidgetId + <span class="hljs-string">"ï¼›"</span> + Thread.currentThread().getName());
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDataSetChanged</span><span class="hljs-params">()</span> {
        LogUtil.i(TAG, <span class="hljs-string">"ViewRemoteViewsFactory onDataSetChanged:"</span> + mAppWidgetId);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDestroy</span><span class="hljs-params">()</span> {
        LogUtil.i(TAG, <span class="hljs-string">"ViewRemoteViewsFactory onDestroy:"</span> + mAppWidgetId);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getCount</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> advertInfodetails == <span class="hljs-literal">null</span> ? <span class="hljs-number">0</span> : advertInfodetails.size();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> RemoteViews <span class="hljs-title function_">getViewAt</span><span class="hljs-params">(<span class="hljs-type">int</span> position)</span> {
        <span class="hljs-comment">// ç»‘å®šè½®æ’­çš„å•ä¸ªè§†å›¾</span>
        <span class="hljs-type">RemoteViews</span> <span class="hljs-variable">rv</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RemoteViews</span>(mContext.getPackageName(), R.layout.item);
        <span class="hljs-keyword">if</span> (TextUtils.equals(CommonConstant.SPAN1X1, widgetBean.getSpanXY()) || advertInfodetails.size() &lt;= <span class="hljs-number">1</span>) {
            rv.setViewVisibility(R.id.ll_indicator, View.GONE);
        } <span class="hljs-keyword">else</span> {
            showIndicatorView(rv, position);
            rv.setViewVisibility(R.id.ll_indicator, View.VISIBLE);
        }
        <span class="hljs-type">AdvertInfodetail</span> <span class="hljs-variable">info</span> <span class="hljs-operator">=</span> advertInfodetails.get(position);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Bitmap</span> <span class="hljs-variable">bitmap</span> <span class="hljs-operator">=</span> Glide.with(mContext).asBitmap().load(info.getImage()).submit().get();
            <span class="hljs-type">Bitmap</span> <span class="hljs-variable">compare</span> <span class="hljs-operator">=</span> ImageUtil.computeMaximumWidgetBitmap(mContext, bitmap);
            <span class="hljs-type">Bitmap</span> <span class="hljs-variable">showBitmap</span> <span class="hljs-operator">=</span> ImageUtil.get1x1RoundBitmap(compare, mContext, widgetBean.getSpanXY());
            rv.setImageViewBitmap(R.id.pic, showBitmap);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            LogUtil.e(TAG, e.getMessage());
            Bitmap placeholder;
            <span class="hljs-keyword">if</span> (CommonConstant.SPAN4X2.equals(widgetBean.getSpanXY())) {
                placeholder = ImageUtil.drawableToBitmap(mContext.getResources().getDrawable(R.mipmap.bg_placeholder_4x2));
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (CommonConstant.SPAN1X1.equals(widgetBean.getSpanXY())) {
                placeholder = ImageUtil.drawableToBitmap(mContext.getResources().getDrawable(R.mipmap.bg_placeholder));
            } <span class="hljs-keyword">else</span> {
                placeholder = ImageUtil.drawableToBitmap(mContext.getResources().getDrawable(R.mipmap.bg_placeholder_2x2));
            }
            rv.setImageViewBitmap(R.id.pic, ImageUtil.get1x1RoundBitmap(placeholder, mContext, widgetBean.getSpanXY()));
        }


        <span class="hljs-type">Bundle</span> <span class="hljs-variable">bundle</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bundle</span>();
        bundle.putInt(CommonConstant.APP_WIDGET_ID_KEY, mAppWidgetId);
        bundle.putString(CommonConstant.WIDGET_INFO_KEY, ObjectUtil.beanToJson(info));
        <span class="hljs-keyword">if</span> (widgetBean != <span class="hljs-literal">null</span>) {
            bundle.putString(CommonConstant.APP_WIDGET_CLICK_TITLE, widgetBean.getTitle());
            bundle.putString(CommonConstant.APP_WIDGET_CLICK_SPANXY, widgetBean.getSpanXY());
        }
        <span class="hljs-type">Intent</span> <span class="hljs-variable">fillIntent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>();
        fillIntent.putExtras(bundle);
        <span class="hljs-comment">// å®ç°å•ä¸ªçš„ä¸åŒç‚¹å‡»äº‹ä»¶</span>
        rv.setOnClickFillInIntent(R.id.item, fillIntent);
        <span class="hljs-keyword">return</span> rv;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showIndicatorView</span><span class="hljs-params">(RemoteViews rv, <span class="hljs-type">int</span> position)</span> {

        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; advertInfodetails.size(); i++) {
            <span class="hljs-type">int</span> <span class="hljs-variable">indicatorId</span> <span class="hljs-operator">=</span> mContext.getResources().getIdentifier(<span class="hljs-string">"indicator"</span> + i, <span class="hljs-string">"id"</span>, mContext.getPackageName());
            rv.setViewVisibility(indicatorId, View.VISIBLE);
            rv.setImageViewResource(indicatorId, position == i ? R.mipmap.ic_indicator_select : R.mipmap.ic_indicator_normal);
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> RemoteViews <span class="hljs-title function_">getLoadingView</span><span class="hljs-params">()</span> {
        <span class="hljs-type">RemoteViews</span> <span class="hljs-variable">rv</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RemoteViews</span>(mContext.getPackageName(), R.layout.item);
        <span class="hljs-keyword">return</span> rv;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getViewTypeCount</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getItemId</span><span class="hljs-params">(<span class="hljs-type">int</span> position)</span> {
        <span class="hljs-keyword">return</span> position;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">hasStableIds</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }


}
</code></pre>
<p>æœ€ç»ˆå®ç°æ•ˆæœå›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/371375223c164d61adc4b1b2195de769~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iqx6JC95b2S6Zu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667137&amp;x-signature=J%2FFgxO1tULwQeixwVFBdG00%2FbqQ%3D" alt="PFCM00 2025-11-25 15-41-57.gif" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¼–ç¨‹AIæ–°ç‹Claude Opus 4.5æ­£å¼å‘å¸ƒï¼ç¼–ç¨‹åŸºå‡†çªç ´80.9%ï¼Œæˆæœ¬é™ä¸‰åˆ†ä¹‹äºŒ]]></title>    <link>https://juejin.cn/post/7576219879680393251</link>    <guid>https://juejin.cn/post/7576219879680393251</guid>    <pubDate>2025-11-25T09:24:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576219879680393251" data-draft-id="7576479344038543412" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¼–ç¨‹AIæ–°ç‹Claude Opus 4.5æ­£å¼å‘å¸ƒï¼ç¼–ç¨‹åŸºå‡†çªç ´80.9%ï¼Œæˆæœ¬é™ä¸‰åˆ†ä¹‹äºŒ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIç¼–ç¨‹,Claude"/> <meta itemprop="datePublished" content="2025-11-25T09:24:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç®—å®¶è®¡ç®—"/> <meta itemprop="url" content="https://juejin.cn/user/1426490793396571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¼–ç¨‹AIæ–°ç‹Claude Opus 4.5æ­£å¼å‘å¸ƒï¼ç¼–ç¨‹åŸºå‡†çªç ´80.9%ï¼Œæˆæœ¬é™ä¸‰åˆ†ä¹‹äºŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1426490793396571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç®—å®¶è®¡ç®—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:24:59.000Z" title="Tue Nov 25 2025 09:24:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åˆšåˆšï¼ŒAIç¼–ç¨‹é¢†åŸŸå†èµ·æ³¢æ¾œã€‚</p>
<p>æ˜¨æ™šï¼ŒAnthropic æ——ä¸‹æœ€å¼ºAIç¼–ç¨‹æ¨¡å‹Claude Opus 4.5æ­£å¼å‘å¸ƒã€‚ä½œä¸ºAnthropicçš„æœ€æ–°åŠ›ä½œï¼Œè¿™æ¬¾æ¨¡å‹åœ¨å¤šä¸ªæ ¸å¿ƒç»´åº¦å®ç°äº†çªç ´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3604e09d363f410f8e350fc01ba33801~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667498&amp;x-signature=z9KzXnmGFd5LRr2jAtuxIEGPBLg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨ç¼–ç¨‹èƒ½åŠ›æ–¹é¢ï¼ŒClaude Opus 4.5åœ¨SWE-bench Verifiedæµ‹è¯•ä¸­è¾¾åˆ°80.9%çš„å‡†ç¡®ç‡ï¼Œè¿™ä¸€æ•°æ®è¶…è¶Šäº†åŒ…æ‹¬Gemini 3 Proåœ¨å†…çš„ä¼—å¤šç«å“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e950a1226fbb4102954589c078e6250e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667498&amp;x-signature=DeK6HjDy2%2FjCJ35WuPYDHZxFAXY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨Anthropicå†…éƒ¨é’ˆå¯¹å·¥ç¨‹å¸ˆå€™é€‰äººçš„é«˜éš¾åº¦æµ‹è¯•ä¸­ï¼Œè¯¥æ¨¡å‹åœ¨ä¸¤å°æ—¶å†…çš„å¾—åˆ†è¶…è¿‡äº†æ‰€æœ‰äººç±»å‚ä¸è€…ï¼Œå±•ç°å‡ºåœ¨æŠ€æœ¯æ‰§è¡Œå’Œé«˜å‹åˆ¤æ–­ä¸Šçš„å¼ºåŠ²å®åŠ›ã€‚ Â </p>
<p>é™¤äº†æ ¸å¿ƒæ€§èƒ½çš„å‡çº§,æ–°æ¨¡å‹ä¹Ÿåœ¨ä»·æ ¼æ–¹é¢è¿›è¡Œäº†è°ƒæ•´ã€‚ç›¸è¾ƒäºå‰ä»£äº§å“ï¼ŒClaude Opus 4.5çš„å®šä»·å¤§å¹…ä¸‹è°ƒä¸‰åˆ†ä¹‹äºŒï¼Œæ¯ç™¾ä¸‡è¾“å…¥Tokenä»…éœ€5ç¾å…ƒï¼Œè¾“å‡ºTokenä¸º25ç¾å…ƒï¼Œè¿›å…¥äº†æ›´å¤šå¼€å‘è€…å’Œä¼ä¸šçš„å¯æ¥å—èŒƒå›´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2871ad4c177d4c61ba1bbc4781a6b792~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667498&amp;x-signature=N%2BbJ%2Bn4jqbpJ8Fc2LY9iFwAUc1U%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ•ˆç‡ä¼˜åŒ–æ–¹é¢ï¼Œæ–°å¢çš„effortå‚æ•°å…è®¸ç”¨æˆ·åœ¨æ—¶é—´ã€æˆæœ¬ä¸èƒ½åŠ›ä¹‹é—´çµæ´»å¹³è¡¡ï¼Œä¸­ç­‰åŠªåŠ›æ°´å¹³ä¸‹å¯å‡å°‘76%çš„Tokenä½¿ç”¨é‡ï¼ŒåŒæ—¶ä¿æŒè‰¯å¥½æ€§èƒ½ã€‚</p>
<p>å€¼å¾—å…³æ³¨çš„è¿˜æœ‰æ–°æ¨¡å‹åœ¨é•¿ä¸Šä¸‹æ–‡å¤„ç†ä¸Šçš„è¿›æ­¥ã€‚Opus 4.5å¼•å…¥äº†è®°å¿†æ”¹è¿›æœºåˆ¶ï¼Œä¸“é—¨ä¼˜åŒ–äº†é•¿ä¸Šä¸‹æ–‡æ“ä½œçš„èƒ½åŠ›ã€‚</p>
<p>é€šè¿‡æ™ºèƒ½çš„å†…å®¹å‹ç¼©ä¸å†…å­˜ç®¡ç†æŠ€æœ¯ï¼Œæ¨¡å‹å®ç°äº†åä¸ºâ€œæ— é™å¯¹è¯â€çš„åŠŸèƒ½ï¼Œæœ‰æ•ˆçªç ´äº†ä¼ ç»Ÿä¸Šä¸‹æ–‡çª—å£çš„é™åˆ¶ï¼Œä¸ºç”¨æˆ·æä¾›äº†è¿‘ä¹æ— é™çš„å¯¹è¯ä½“éªŒã€‚</p>
<p>æ€»ä½“è€Œè¨€ï¼Œæ–°ä¸€ä»£æ¨¡å‹æ•´ä½“èƒ½åŠ›å‡ä¼˜äºå‰ä»£æ¨¡å‹ï¼Œå¹¶åœ¨è®¸å¤šé¢†åŸŸè¾¾åˆ°äº†å½“å‰ SOTA æ°´å¹³ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd3e2d19ceb54d8ca734e8ab9c51f32c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667498&amp;x-signature=5uGfx%2FxspCFw9iaPJtyJUVJ7DsA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¸Gemini 3 Proç›¸æ¯”å¦‚ä½•ï¼Ÿ</strong></p>
<p>è€Œæœ€è¿‘æ€èµ·AIçƒ­æ½®çš„Gemini 3 Proï¼Œåˆ™é‡‡ç”¨äº†ç¨€ç–æ··åˆä¸“å®¶æ¶æ„ï¼Œè¿™ç§è®¾è®¡å…è®¸æ¨¡å‹æ ¹æ®æ¯ä¸ªè¾“å…¥åŠ¨æ€é€‰æ‹©æœ€ç›¸å…³çš„â€œä¸“å®¶â€å­ç½‘ç»œï¼Œæ—¢æé«˜äº†æ•ˆç‡ï¼Œåˆé™ä½äº†æˆæœ¬ã€‚</p>
<p>æ€§èƒ½è¡¨ç°ä¸Šï¼ŒClaude Opus 4.5åœ¨ç¼–ç¨‹å‡†ç¡®ç‡å’Œæ•ˆç‡æ§åˆ¶ä¸Šæ›´å…·ä¼˜åŠ¿ï¼Œå°¤å…¶åœ¨å¤šè¯­è¨€ä»£ç ç¼–å†™ã€å¤æ‚Bugä¿®å¤ç­‰åœºæ™¯ä¸­è¡¨ç°çªå‡ºã€‚</p>
<p>Gemini 3 Proçš„çªå‡ºä¼˜åŠ¿ä½“ç°åœ¨å…¶å®Œæ•´çš„åŸç”Ÿå¤šæ¨¡æ€æ”¯æŒä¸Šï¼Œèƒ½å¤Ÿç»Ÿä¸€å¤„ç†æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘å’Œä»£ç ï¼Œè€Œéç®€å•çš„åæœŸèåˆã€‚</p>
<p>å®šä»·ç­–ç•¥ä¸Šï¼ŒClaude Opus 4.5ä»¥é«˜æ€§ä»·æ¯”ä¸ºæ ¸å¿ƒï¼Œé€‚åˆè¿½æ±‚ç¨³å®šè¾“å‡ºå’Œæˆæœ¬æ§åˆ¶çš„ç”¨æˆ·ï¼›Gemini 3 Proä¸“ä¸šç‰ˆå®šä»·åé«˜ï¼Œæ›´é¢å‘éœ€è¦é«˜çº§åŠŸèƒ½å’Œç²¾è‡´åˆ›æ„è¾“å‡ºçš„ä¸“ä¸šåœºæ™¯ã€‚ Â </p>
<p>åº”ç”¨åœºæ™¯çš„åˆ†åŒ–è¿›ä¸€æ­¥æ˜ç¡®äº†å„è‡ªçš„é€‚ç”¨èŒƒå›´ã€‚å‰ç«¯å¼€å‘ä¸­ï¼ŒClaude Opus 4.5æ“…é•¿åŠŸèƒ½æ€§ç½‘ç«™æ­å»ºï¼ŒGemini 3 Proåˆ™åœ¨è§†è§‰å¤æ‚æ€§å’Œäº’åŠ¨è®¾è®¡ä¸Šæ›´èƒœä¸€ç­¹ã€‚</p>
<p>å¦‚æœå·¥ä½œæµç¨‹æ¶‰åŠå¤§é‡å¤šåª’ä½“å†…å®¹å¤„ç†ï¼Œä¾‹å¦‚éœ€è¦åˆ†æè§†é¢‘ç‰‡æ®µã€ç†è§£å›¾è¡¨ä¿¡æ¯æˆ–å¤„ç†éŸ³é¢‘å†…å®¹ï¼ŒGemini 3 Proçš„åŸç”Ÿå¤šæ¨¡æ€èƒ½åŠ›å¯èƒ½æ›´ä¸ºé€‚åˆã€‚å…¶å®Œæ•´çš„æ¨¡æ€æ”¯æŒä½¿å¾—å®ƒåœ¨å¤„ç†è·¨åª’ä»‹ä»»åŠ¡æ—¶å…·æœ‰å¤©ç„¶ä¼˜åŠ¿ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°ç†è§£ä¸åŒæ ¼å¼ä¿¡æ¯ä¹‹é—´çš„å…³è”ã€‚<br/>
è€Œå¯¹äºä¸“æ³¨äºçº¯ä»£ç ç”Ÿæˆå’Œå¤æ‚è½¯ä»¶å·¥ç¨‹ä»»åŠ¡çš„å›¢é˜Ÿï¼ŒClaude Opus 4.5å¯èƒ½æ˜¯æ›´åˆé€‚çš„é€‰æ‹©ã€‚</p>
<p>AIç¼–ç¨‹æ¨¡å‹å¸‚åœºå·²å½¢æˆå¤šæ ·åŒ–ç«äº‰æ ¼å±€ï¼Œä»å›½é™…å·¨å¤´çš„é—­æºäº§å“åˆ°å›½äº§é«˜æ€§ä»·æ¯”æ–¹æ¡ˆï¼Œä»å¼€æºå¯å®šåˆ¶æ¨¡å‹åˆ°å‚ç›´åœºæ™¯ä¸“ç”¨å·¥å…·ï¼Œä¸åŒäº§å“å„æœ‰ä¾§é‡ã€‚</p>
<p>åœ¨é€‰æ‹©AIç¼–ç¨‹æ¨¡å‹æ—¶ï¼Œå¤§å®¶åº”ç»“åˆé¢„ç®—ã€ä½¿ç”¨åœºæ™¯ã€å·¥å…·ä¹ æƒ¯å’Œç‰¹æ®Šéœ€æ±‚ç»¼åˆåˆ¤æ–­ï¼Œè®©AIå·¥å…·çœŸæ­£é€‚é…è‡ªèº«çš„å¼€å‘éœ€æ±‚ï¼Œæ‰èƒ½æœ€å¤§åŒ–æå‡æ•ˆç‡ã€‚</p>
<p>å†™åœ¨æœ€åï¼šå¦‚æœæ‚¨æ­£åœ¨è¿›è¡ŒAIé¢†åŸŸçš„åˆ›ä¸šæˆ–ç ”ç©¶ï¼Œå´å—å›°äºé«˜æ˜‚çš„ç®—åŠ›æˆæœ¬æˆ–é«˜å¹¶å‘ä¸‹çš„æ¨ç†ç¨³å®šæ€§ç­‰é—®é¢˜ï¼Œæ¬¢è¿ç•™è¨€æˆ–ç§ä¿¡æˆ‘ä»¬ï¼Œæ‰¾åˆ°æ‚¨çš„é™æœ¬å¢æ•ˆçªç ´å£~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Metaç¬¬ä¸‰ä»£â€œåˆ†å‰²ä¸€åˆ‡â€æ¨¡å‹â€”â€”SAM 3æœ¬åœ°éƒ¨ç½²æ•™ç¨‹ï¼šé¦–æ”¯æŒæ–‡æœ¬æç¤ºåˆ†å‰²ï¼Œ400ä¸‡æ¦‚å¿µã€30æ¯«ç§’å“åº”ï¼Œæ£€æµ‹åˆ†å‰²è¿½è¸ªä¸€ç½‘æ‰“å°½]]></title>    <link>https://juejin.cn/post/7576484465758175267</link>    <guid>https://juejin.cn/post/7576484465758175267</guid>    <pubDate>2025-11-25T09:32:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576484465758175267" data-draft-id="7576338796846825512" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Metaç¬¬ä¸‰ä»£â€œåˆ†å‰²ä¸€åˆ‡â€æ¨¡å‹â€”â€”SAM 3æœ¬åœ°éƒ¨ç½²æ•™ç¨‹ï¼šé¦–æ”¯æŒæ–‡æœ¬æç¤ºåˆ†å‰²ï¼Œ400ä¸‡æ¦‚å¿µã€30æ¯«ç§’å“åº”ï¼Œæ£€æµ‹åˆ†å‰²è¿½è¸ªä¸€ç½‘æ‰“å°½"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,meta"/> <meta itemprop="datePublished" content="2025-11-25T09:32:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç®—å®¶è®¡ç®—"/> <meta itemprop="url" content="https://juejin.cn/user/1426490793396571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Metaç¬¬ä¸‰ä»£â€œåˆ†å‰²ä¸€åˆ‡â€æ¨¡å‹â€”â€”SAM 3æœ¬åœ°éƒ¨ç½²æ•™ç¨‹ï¼šé¦–æ”¯æŒæ–‡æœ¬æç¤ºåˆ†å‰²ï¼Œ400ä¸‡æ¦‚å¿µã€30æ¯«ç§’å“åº”ï¼Œæ£€æµ‹åˆ†å‰²è¿½è¸ªä¸€ç½‘æ‰“å°½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1426490793396571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç®—å®¶è®¡ç®—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:32:29.000Z" title="Tue Nov 25 2025 09:32:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æ¨¡å‹ä»‹ç»</h2>
<p>SAM 3 æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„åŸºç¡€æ¨¡å‹ï¼Œç”¨äºå›¾åƒå’Œè§†é¢‘ä¸­çš„å¯æç¤ºåˆ†å‰²ã€‚å®ƒå¯ä»¥ä½¿ç”¨æ–‡æœ¬æˆ–è§†è§‰æç¤ºï¼ˆå¦‚ç‚¹ã€æ¡†å’Œæ©ç ï¼‰æ¥æ£€æµ‹ã€åˆ†å‰²å’Œè·Ÿè¸ªå¯¹è±¡ã€‚ä¸å®ƒçš„å‰èº«Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebookresearch%2Fsam2" target="_blank" title="https://github.com/facebookresearch/sam2" ref="nofollow noopener noreferrer">SAM 2</a>Â ç›¸æ¯”ï¼ŒSAM 3 å¼•å…¥äº†æ ¹æ®ç®€çŸ­çš„æ–‡æœ¬çŸ­è¯­æˆ–ç¤ºä¾‹è¯¦å°½åœ°åˆ†å‰²æ‰€æœ‰å¼€æ”¾è¯æ±‡æ¦‚å¿µå®ä¾‹çš„èƒ½åŠ›ã€‚ä¸å…ˆå‰çš„å·¥ä½œä¸åŒï¼ŒSAM 3 å¯ä»¥å¤„ç†æ›´å¤§èŒƒå›´çš„å¼€æ”¾è¯æ±‡æç¤ºã€‚åœ¨æ–°Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebookresearch%2Fsam3%2Fedit%2Fmain_readme%2FREADME.md%23sa-co-dataset" target="_blank" title="https://github.com/facebookresearch/sam3/edit/main_readme/README.md#sa-co-dataset" ref="nofollow noopener noreferrer">SA-CO åŸºå‡†æµ‹è¯•</a>Â ä¸Šï¼Œå®ƒè¾¾åˆ°äº†äººç±»è¡¨ç°çš„ 75-80%ï¼Œè¯¥åŸºå‡†åŒ…å« 27 ä¸‡ä¸ªç‹¬ç‰¹æ¦‚å¿µï¼Œæ¯”ç°æœ‰åŸºå‡†å¤šå‡º 50 å¤šå€ã€‚</p>
<p>è¿™ä¸€çªç ´å¾—ç›Šäºä¸€ä¸ªåˆ›æ–°çš„æ•°æ®å¼•æ“ï¼Œè¯¥å¼•æ“å·²è‡ªåŠ¨æ³¨é‡Šè¶…è¿‡ 400 ä¸‡ä¸ªç‹¬ç‰¹æ¦‚å¿µï¼Œåˆ›å»ºäº†è¿„ä»Šä¸ºæ­¢æœ€å¤§çš„é«˜è´¨é‡å¼€æ”¾è¯æ±‡ç»†åˆ†æ•°æ®é›†ã€‚æ­¤å¤–ï¼ŒSAM 3 å¼•å…¥äº†ä¸€ç§æ–°çš„æ¨¡å‹æ¶æ„ï¼Œå…·æœ‰ä¸€ç§å­˜åœ¨ä»¤ç‰Œï¼Œèƒ½å¤Ÿæ›´å¥½åœ°åŒºåˆ†å¯†åˆ‡ç›¸å…³çš„æ–‡æœ¬æç¤ºï¼ˆä¾‹å¦‚ï¼Œâ€œç™½è¡£ç©å®¶â€ä¸â€œçº¢è¡£ç©å®¶â€ï¼‰ï¼Œä»¥åŠä¸€ç§è§£è€¦çš„æ£€æµ‹å™¨-è¿½è¸ªå™¨è®¾è®¡ï¼Œä»¥æœ€å¤§é™åº¦å‡å°‘ä»»åŠ¡å¹²æ‰°å¹¶é«˜æ•ˆæ‰©å±•æ•°æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f107ee40b4244fae877b87b943d5e1ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=fIjEFWwIR7%2FX2lUxTJAty3a0%2F3A%3D" alt="b86badc7_16012914.png" loading="lazy"/></p>
<p>æ›´å¤šè¯¦æƒ…è¯·è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.modelscope.cn%2Fmodels%2Ffacebook%2Fsam3" target="_blank" title="https://www.modelscope.cn/models/facebook/sam3" ref="nofollow noopener noreferrer">sam3 Â· æ¨¡å‹åº“</a></p>
<h2 data-id="heading-1">äºŒã€éƒ¨ç½²æµç¨‹</h2>
<p>åŸºç¡€ç¯å¢ƒæ¨èï¼š</p>

























<table><thead><tr><th>ç¯å¢ƒåç§°</th><th>ç‰ˆæœ¬ä¿¡æ¯</th></tr></thead><tbody><tr><td>Ubuntu</td><td>22.04.4 LTS</td></tr><tr><td>Cuda</td><td>V12.4</td></tr><tr><td>Python</td><td>3.12</td></tr><tr><td>NVIDIA Corporation</td><td>RTX 4090</td></tr></tbody></table>
<p>æ³¨ï¼šè¯¥æ¨¡å‹å¯¹äºæ˜¾å­˜å ç”¨è¦æ±‚è¾ƒä½ã€‚</p>
<h3 data-id="heading-2">1.æ›´æ–°åŸºç¡€è½¯ä»¶åŒ…</h3>
<p>æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#æŸ¥çœ‹ç³»ç»Ÿçš„ç‰ˆæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ IDï¼ˆå¦‚ ubuntuã€centos ç­‰ï¼‰ã€ç‰ˆæœ¬å·ã€åç§°ã€ç‰ˆæœ¬å· ID ç­‰</span>
<span class="hljs-built_in">cat</span> /etc/os-release
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fb190f74def41bfb3d351255b6ffe1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=7mYP%2Fycw3N5xVAlecDoHQp3a3M0%3D" alt="411b2758_16012914.png" loading="lazy"/></p>
<p>æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta">#æ›´æ–°è½¯ä»¶åˆ—è¡¨</span>
apt-<span class="hljs-keyword">get</span> update
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a74ff754ce04dd6a3b726f6d9cb69ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=v%2FAp%2F7trjMSuz87jO1hDyDhr48A%3D" alt="9ec910b8_16012914.png" loading="lazy"/></p>
<h3 data-id="heading-3">2.åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h3>
<p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#åˆ›å»ºåä¸ºDeepSeek-OCRçš„è™šæ‹Ÿç¯å¢ƒï¼Œpythonç‰ˆæœ¬ï¼š3.12</span>
conda create -n sam3 <span class="hljs-attr">python</span>=<span class="hljs-number">3.12</span> 
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef442a4b68204791bb7d0060cfad44ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=H4vKf8%2BHjbVMoTtvPcJ72MXhGx0%3D" alt="9cf03f32_16012914.png" loading="lazy"/></p>
<p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</p>
<pre><code class="hljs">conda activate sam3
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7e8430697434a49b282dff1bdb47f1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=LAacpKof%2FQbq1cWnKWKtm%2FkKKds%3D" alt="ac8c9553_16012914.png" loading="lazy"/></p>
<h3 data-id="heading-4">3.å…‹éš†ä»“åº“ã€å®‰è£…ä¾èµ–</h3>
<p>ç‰¹åˆ«çš„ï¼Œå¦‚éœ€è¦è¯¥æ¨¡å‹å¯è§†åŒ–è®¿é—®é¡µé¢ï¼Œè¿™é‡Œæ¨è huggingface ä¸Šå®˜æ–¹ç»™å‡ºçš„ gradio é¡µé¢æ¨¡æ¿</p>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://huggingface.co/spaces/hasanbasbunar/SAM3
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7fbe30dc6db44fd903689dfd5072993~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=E42pQIWUMeWuZhSGKui0u7TWKlM%3D" alt="806d814d_16012914.png" loading="lazy"/></p>
<p>åŒæ ·çš„ï¼Œä½¿ç”¨è¯¥æ¨¡æ¿ï¼Œä¹Ÿéœ€è¦è¿›å…¥SAM3 ç›®å½•ä¸‹ï¼Œå®‰è£…æ‰€éœ€ä¾èµ–é¡¹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d097fdd7636b48ebbc2c524c68caaaa5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=JdEAqfvmFWjhMdY6%2BhN1P8bw5vw%3D" alt="04da55d5_16012914.png" loading="lazy"/></p>
<h3 data-id="heading-5">4.æ¨¡å‹ä¸‹è½½</h3>
<p>è¿™é‡Œæ¨èè½¬åˆ°é­”å¡”ç¤¾åŒºå®˜ç½‘ä¸‹è½½æ¨¡å‹æ–‡ä»¶ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.modelscope.cn%2Fmodels%2Ffacebook%2Fsam3" target="_blank" title="https://www.modelscope.cn/models/facebook/sam3" ref="nofollow noopener noreferrer">sam3 Â· æ¨¡å‹åº“</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/302a9443d8f742cca559246dc942699a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=3PNdt3qCLj4hthECYtZuTfBpm0U%3D" alt="271d9f5e_16012914.png" loading="lazy"/></p>
<p>ä½¿ç”¨å‘½ä»¤è¡Œä¸‹è½½å®Œæ•´æ¨¡å‹åº“</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#åœ¨ä¸‹è½½å‰ï¼Œè¯·å…ˆé€šè¿‡å¦‚ä¸‹å‘½ä»¤å®‰è£…</span>
pip install modelscope
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/038b6087a11b447ab612923e827e2136~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=9agHXjerX2y9B5RGrpvLBSYs%2BZk%3D" alt="1318c153_16012914.png" loading="lazy"/></p>
<p>è½¬åˆ°æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºÂ <code>model</code>Â ç›®å½•ç”¨äºå­˜æ”¾æ¨¡å‹æƒé‡æ–‡ä»¶ï¼Œåœ¨ä½¿ç”¨å‘½ä»¤è¡Œä¸‹è½½Â <code>modelscope download --model 'facebook/sam3 ' --local_dir './'</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /
<span class="hljs-built_in">mkdir</span> model 
<span class="hljs-built_in">cd</span> model
modelscope download --model <span class="hljs-string">'facebook/sam3'</span> --local_dir <span class="hljs-string">'./'</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3520c172e6b41ec823de968026ebedd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=NC5lhxSkWILXWHjA5ze4jeB7lkw%3D" alt="2808d3b9_16012914.png" loading="lazy"/></p>
<h3 data-id="heading-6">5.ä¿®æ”¹ web é¡µé¢å¯åŠ¨è„šæœ¬</h3>
<p>è¿›å…¥Â <code>/DeepSeek-OCR/DeepSeek-OCR-DemoÂ </code>ç›®å½•ï¼Œä¿®æ”¹å…¶ä¸­çš„ web å¯åŠ¨ä»£ç  app.pyï¼š</p>
<pre><code class="hljs language-bash" lang="bash">vim /SAM3/app.py
</code></pre>
<p>å°†æ¨¡å‹çš„åŠ è½½è·¯å¾„æ”¹ä¸ºæœ¬åœ°è·¯å¾„Â <code>/model/ ,</code>Â ä»¥åŠ lunch åŠ è½½å‡½æ•°ä¸­è®¾ç½®Â <code>share=False,server_name='0.0.0.0',server_port=8080</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03f4fe56dd57460795ef716ca0faab3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=w2QOfvsOiQnV7BQIvaIFFN6sxm4%3D" alt="60fe4d5d_16012914.png" loading="lazy"/><br/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d2036cc52c44163b6386548f8d0a7a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=wuExWkiSo2Ro7PnsUiaNIID2Dno%3D" alt="e7877354_16012914.png" loading="lazy"/></p>
<h3 data-id="heading-7">6.è¿è¡Œè„šæœ¬</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#æ‰§è¡Œä¿®æ”¹å¥½çš„ app.py æ–‡ä»¶</span>
python app.py
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14d0287905fb4af4ab49c330938416ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=iAcH3WgeijAyt96lwl448XLVWGA%3D" alt="23256c21_16012914.png" loading="lazy"/></p>
<h3 data-id="heading-8">7.web é¡µé¢å±•ç¤º</h3>
<p>å°†ç½‘å€ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8080%2F%25E7%25B2%2598%25E8%25B4%25B4%25E5%2588%25B0%25E6%25B5%258F%25E8%25A7%2588%25E5%2599%25A8%25E4%25B8%25AD%25EF%25BC%258C%25E4%25BE%25BF%25E5%258F%25AF%25E4%25B8%258E%25E6%25A8%25A1%25E5%259E%258B%25E8%25BF%259B%25E8%25A1%258C%25E5%25AF%25B9%25E8%25AF%259D" target="_blank" title="http://localhost:8080/%E7%B2%98%E8%B4%B4%E5%88%B0%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%EF%BC%8C%E4%BE%BF%E5%8F%AF%E4%B8%8E%E6%A8%A1%E5%9E%8B%E8%BF%9B%E8%A1%8C%E5%AF%B9%E8%AF%9D" ref="nofollow noopener noreferrer">http://localhost:8080/ç²˜è´´åˆ°æµè§ˆå™¨ä¸­ï¼Œä¾¿å¯ä¸æ¨¡å‹è¿›è¡Œå¯¹è¯</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38e8e5eee1754d3da4eb7d8c4fce5a0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764667949&amp;x-signature=91V2m8slFOKK3sDOfA6Y1YuPEH8%3D" alt="942b24e4_16012914.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®æˆ˜è§£æï¼šæ·˜å®/å¤©çŒ«å•†å“æè¿°APIï¼ˆtaobao.item_get_descï¼‰æ¥å£]]></title>    <link>https://juejin.cn/post/7576378563576152079</link>    <guid>https://juejin.cn/post/7576378563576152079</guid>    <pubDate>2025-11-25T09:30:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576378563576152079" data-draft-id="7576264484689854504" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®æˆ˜è§£æï¼šæ·˜å®/å¤©çŒ«å•†å“æè¿°APIï¼ˆtaobao.item_get_descï¼‰æ¥å£"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-25T09:30:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”µå•†apiè·¨å¢ƒç‹¬ç«‹ç«™ç¨‹åºçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/2900974868106540"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®æˆ˜è§£æï¼šæ·˜å®/å¤©çŒ«å•†å“æè¿°APIï¼ˆtaobao.item_get_descï¼‰æ¥å£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2900974868106540/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”µå•†apiè·¨å¢ƒç‹¬ç«‹ç«™ç¨‹åºçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:30:52.000Z" title="Tue Nov 25 2025 09:30:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»¥ä¸‹å†…å®¹åŸºäºçœŸå®æŠ“åŒ…ä¸ç¤¾åŒºé€†å‘æ–¹æ¡ˆï¼Œç»™å‡ºä¸€ä»½<strong>å¯ç›´æ¥è½åœ°</strong>çš„ taobao.item_get_descï¼ˆå•†å“æè¿° HTMLï¼‰å®æˆ˜ç¬”è®°ï¼Œæ¶µç›–æ¥å£å®šä½ã€ç­¾åé€»è¾‘ã€ä»£ç æ¨¡æ¿ä¸å¸¸è§å‘ï¼Œå¸®åŠ©ä½  10 åˆ†é’Ÿå†…æ‹¿åˆ°æ·˜å®/å¤©çŒ«å•†å“å®Œæ•´å›¾æ–‡è¯¦æƒ…ã€‚</p>
<hr/>
<h3 data-id="heading-0">ä¸€ã€æ¥å£å®šä½ï¼šä¸ºä»€ä¹ˆä¸€å®šè¦â€œ Desc â€</h3>
<ol>
<li>
<p>å®˜æ–¹å¼€æ”¾å¹³å° <strong>æ— </strong>å•†å“æè¿°å­—æ®µï¼Œæœ€é«˜æƒé™ä»…è¾“å‡ºæ ‡é¢˜ã€ä»·æ ¼ã€SKUï¼ˆ<code>tbk.item.info.get</code>ï¼‰ã€‚</p>
</li>
<li>
<p>å›¾æ–‡è¯¦æƒ…ï¼ˆä¿—ç§°â€œç™½åº•å›¾+æ–‡æ¡ˆ+è§†é¢‘â€ï¼‰åªåœ¨ PC ç«¯å•†å“é¡µå¼‚æ­¥åŠ è½½ï¼š</p>
<p><code>https://detailskip.taobao.com/json/desc/get_desc.do?itemId=xxx</code></p>
<p>è¯¥æ¥å£è¿”å› <strong>ç»è¿‡ gzip å‹ç¼©çš„ HTML ç‰‡æ®µ</strong>ï¼Œæ­£æ˜¯æ‰‹æœºç«¯â€œå›¾æ–‡è¯¦æƒ…â€åŸå°ä¸åŠ¨æ•°æ®æºã€‚</p>
</li>
<li>
<p>åš <strong>æ— è´§æºæ¬å®¶ã€æ¯”ä»·ã€å†…å®¹ç”µå•†</strong> å¿…é¡»æ‹¿åˆ°è¿™æ®µ HTMLï¼Œå¦åˆ™åªèƒ½äººå·¥å¤åˆ¶ã€‚</p>
</li>
</ol>
<hr/>
<h3 data-id="heading-1">äºŒã€è¯·æ±‚æµç¨‹ 4 æ­¥èµ°</h3>



































<table><thead><tr><th align="left">æ­¥éª¤</th><th align="left">URL</th><th align="left">ä½œç”¨</th><th align="left">æ˜¯å¦å¯å¤ç”¨</th></tr></thead><tbody><tr><td align="left">â‘  æ‹¿å•†å“ ID</td><td align="left">â€”â€”</td><td align="left">ä»åˆ—è¡¨é¡µæˆ–æœç´¢æ¥å£è§£æå‡ºÂ <code>num_iid</code></td><td align="left">ä¸€æ¬¡</td></tr><tr><td align="left">â‘¡ è¯·æ±‚æè¿°æ¥å£</td><td align="left"><code>detailskip.taobao.com/json/desc/get_desc.do</code></td><td align="left">è¿”å› gzip + urlencode çš„ HTML</td><td align="left">å¯å¹¶å‘</td></tr><tr><td align="left">â‘¢ è§£å‹ &amp; è§£ç </td><td align="left">PythonÂ <code>zlib.decompress</code></td><td align="left">å¾—åˆ°åŸç”Ÿ UTF-8 HTML</td><td align="left">â€”â€”</td></tr><tr><td align="left">â‘£ æ¸…æ´—</td><td align="left">BeautifulSoup/pyQuery</td><td align="left">å»å¤–è·³é“¾æ¥ã€è¡¥å…¨å›¾ç‰‡Â <code>//</code>Â åè®®</td><td align="left">â€”â€”</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-2">ä¸‰ã€å®Œæ•´å¯è¿è¡Œä»£ç ï¼ˆPython 3.xï¼‰</h3>
<pre><code class="hljs language-Python" lang="Python"><span class="hljs-keyword">import</span> re, json, gzip, time, random, requests
<span class="hljs-keyword">from</span> urllib.parse <span class="hljs-keyword">import</span> unquote
<span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup

HEADERS = {
    <span class="hljs-string">"User-Agent"</span>: <span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 "</span>
                  <span class="hljs-string">"(KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36"</span>,
    <span class="hljs-string">"Referer"</span>: <span class="hljs-string">"https://item.taobao.com/"</span>,
}

<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_desc_html</span>(<span class="hljs-params">num_iid: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""è·å–æ·˜å®/å¤©çŒ«å•†å“æè¿° HTML"""</span>
    url = <span class="hljs-string">f"https://detailskip.taobao.com/json/desc/get_desc.do?itemId=<span class="hljs-subst">{num_iid}</span>&amp;t=<span class="hljs-subst">{<span class="hljs-built_in">int</span>(time.time()*<span class="hljs-number">1000</span>)}</span>"</span>
    rsp = requests.get(url, headers=HEADERS, timeout=<span class="hljs-number">10</span>)
    rsp.raise_for_status()

    <span class="hljs-comment"># 1. æ¥å£è¿”å›çš„æ˜¯ jsonpï¼š  descUrl({"data":{"desc":"..."}})</span>
    jsonp = rsp.text
    data = json.loads(re.search(<span class="hljs-string">r"(({.*}))"</span>, jsonp).group(<span class="hljs-number">1</span>))
    raw = data[<span class="hljs-string">"data"</span>][<span class="hljs-string">"desc"</span>]

    <span class="hljs-comment"># 2. ç»è¿‡ä¸¤å±‚ encode + gzip</span>
    html = unquote(raw, encoding=<span class="hljs-string">"gbk"</span>)          <span class="hljs-comment"># å…ˆ urldecode</span>
    html = gzip.decompress(html.encode(<span class="hljs-string">"latin1"</span>)).decode(<span class="hljs-string">"gbk"</span>)  <span class="hljs-comment"># å† gzip</span>

    <span class="hljs-comment"># 3. æ¸…æ´—ï¼šå»æ‰æ·˜å®å¤–è·³ï¼Œæ›¿æ¢æˆ https</span>
    soup = BeautifulSoup(html, <span class="hljs-string">"lxml"</span>)
    <span class="hljs-keyword">for</span> img <span class="hljs-keyword">in</span> soup.find_all(<span class="hljs-string">"img"</span>):
        src = img.get(<span class="hljs-string">"src"</span>) <span class="hljs-keyword">or</span> <span class="hljs-string">""</span>
        <span class="hljs-keyword">if</span> src.startswith(<span class="hljs-string">"//"</span>):
            img[<span class="hljs-string">"src"</span>] = <span class="hljs-string">"https:"</span> + src
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>(soup)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    html = get_desc_html(<span class="hljs-string">"728649613560"</span>)   <span class="hljs-comment"># æ›¿æ¢æˆä»»æ„å®è´ ID</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"desc.html"</span>, <span class="hljs-string">"w"</span>, encoding=<span class="hljs-string">"utf-8"</span>) <span class="hljs-keyword">as</span> f:
        f.write(html)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å›¾æ–‡è¯¦æƒ…å·²å†™å…¥ desc.htmlï¼Œå…± %.1f KB"</span> % (<span class="hljs-built_in">len</span>(html)/<span class="hljs-number">1024</span>))
</code></pre>
<p><strong>å•è¯·æ±‚ 200<del>400 msï¼Œè¿”å› 10</del>200 KB å¯Œæ–‡æœ¬ï¼Œå«åŸå›¾ã€è¡¨æ ¼ã€è§†é¢‘å°é¢</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-3">å››ã€å­—æ®µé€Ÿè§ˆï¼ˆè¿”å› HTML å†…å¸¸è§èŠ‚ç‚¹ï¼‰</h3>

























<table><thead><tr><th align="left">èŠ‚ç‚¹</th><th align="left">ç¤ºä¾‹</th><th align="left">ç”¨é€”</th></tr></thead><tbody><tr><td align="left"><code>&lt;img src="https://img.alicdn.com/imgextra/..."&gt;</code></td><td align="left">ç™½åº•å›¾/åœºæ™¯å›¾</td><td align="left">ä¸€é”®æ¬å®¶å¯ç›´æ¥ä¸Šä¼ åˆ°è‡ªå·±ç›¸å†Œ</td></tr><tr><td align="left"><code>&lt;table class="tm-tableAttr"&gt;</code></td><td align="left">å‚æ•°è¡¨</td><td align="left">æå–è§„æ ¼å+å€¼ï¼ŒåšåŒæ¬¾å¯¹æ¯”</td></tr><tr><td align="left"><code>&lt;video&gt;</code></td><td align="left">ä¸»å›¾è§†é¢‘</td><td align="left">æ‹¿åˆ°Â <code>poster</code>Â ä¸Â <code>src</code>Â å¯ç¦»çº¿ä¿å­˜</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-4">äº”ã€å¸¸è§å‘ä¸è°ƒè¯•æŠ€å·§</h3>






























<table><thead><tr><th align="left">ç°è±¡</th><th align="left">åŸå› </th><th align="left">è§£å†³</th></tr></thead><tbody><tr><td align="left">è¿”å›Â <code>{"data":""}</code></td><td align="left">å•†å“æ˜¯â€œå…¨çƒè´­â€æˆ–â€œé—²é±¼â€è½¬é“¾ï¼Œæ— æè¿°</td><td align="left">ç›´æ¥è·³è¿‡</td></tr><tr><td align="left">ä¸­æ–‡ä¹±ç </td><td align="left">å…ˆ gzip åè¯¯ç”¨ UTF-8 è§£ç </td><td align="left">ä¸¥æ ¼æŒ‰ç…§Â <strong>gbk â†’ latin1 â†’ gzip â†’ gbk</strong>Â é“¾è·¯</td></tr><tr><td align="left">403 æ»‘å—</td><td align="left">IP é«˜é¢‘</td><td align="left">â‘  é™é€Ÿ 1~3 s â‘¡ å…±äº«æ± ä»£ç† â‘¢ å¤ç”¨ Cookieï¼ˆ<code>JSESSIONID</code>ï¼‰</td></tr><tr><td align="left">å›¾ç‰‡è£‚å›¾</td><td align="left"><code>//</code>Â åè®®</td><td align="left">æ¸…æ´—æ—¶ç»Ÿä¸€è¡¥Â <code>https:</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-5">å…­ã€ç”Ÿäº§çº§æ”¹é€ </h3>
<ol>
<li>
<p><strong>å¼‚æ­¥æ‰¹é‡</strong><br/>
ç”¨ <code>aiohttp</code> åç¨‹æ± ï¼Œ500 ä¸ªå•†å“ 2 åˆ†é’Ÿæ‹‰å®Œï¼ŒQPSâ‰ˆ8 å®‰å…¨åŒºã€‚</p>
</li>
<li>
<p><strong>æ–­ç‚¹ç»­ä¼ </strong><br/>
ä»¥ <code>num_iid</code> åšå”¯ä¸€é”®ï¼ŒRedis è®°å½•â€œæˆåŠŸ/å¤±è´¥â€ï¼Œå¤±è´¥ 3 æ¬¡è¿›æ­»ä¿¡é˜Ÿåˆ—ã€‚</p>
</li>
<li>
<p><strong>åˆè§„å…œåº•</strong></p>
<ul>
<li>ä»…ç”¨äºå†…éƒ¨æ¯”ä»·/é€‰å“ï¼Œé¡µé¢ä¿ç•™æ·˜å®ç‰ˆæƒä¿¡æ¯ï¼›</li>
<li>æ§åˆ¶é¢‘ç‡ï¼šåŒä¸€ IP æ—¥è¯·æ±‚ â‰¤5 ä¸‡ï¼Œé¿å…è§¦å‘â€œè´¦å·ç¯å¢ƒé£é™©â€ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-6">ä¸ƒã€ä¸€å¥è¯æ€»ç»“</h3>
<p>taobao.item_get_desc æœ¬è´¨å°±æ˜¯è§£æ <code>detailskip.taobao.com/json/desc/get_desc.do</code> è¿™ä¸€â€œéšå½¢â€æ¥å£ï¼Œ<strong>gzip+urlencode åŒå±‚è§£ç </strong>æ˜¯æ ¸å¿ƒï¼›æŒæ¡åï¼Œå¯åœ¨ 10 è¡Œä»£ç å†…æŠŠæ·˜å®/å¤©çŒ«å›¾æ–‡è¯¦æƒ…å®Œæ•´æ¬å›æœ¬åœ°ï¼Œä¸ºåç»­æ— è´§æºé“ºè´§ã€å†…å®¹ç”Ÿæˆã€æ¯”ä»·ç³»ç»Ÿæä¾›æœ€ä¸°å¯Œçš„åŸç”Ÿç´ æã€‚</p>
<p>å¦‚é‡ä»»ä½•ç–‘é—®æˆ–æœ‰è¿›ä¸€æ­¥çš„éœ€æ±‚ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fo0b.cn%2Fjelena" target="_blank" title="https://o0b.cn/jelena" ref="nofollow noopener noreferrer">è¯·éšæ—¶ä¸æˆ‘ç§ä¿¡æˆ–è€…è¯„è®ºè”ç³»ã€‚</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FastUtil é«˜æ€§èƒ½é›†åˆæœ€ä½³å®è·µï¼šè®©ä½ çš„ Java ç¨‹åºçœŸæ­£â€œå¿«â€èµ·æ¥]]></title>    <link>https://juejin.cn/post/7576470438580666394</link>    <guid>https://juejin.cn/post/7576470438580666394</guid>    <pubDate>2025-11-25T09:26:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576470438580666394" data-draft-id="7576558359840423974" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="FastUtil é«˜æ€§èƒ½é›†åˆæœ€ä½³å®è·µï¼šè®©ä½ çš„ Java ç¨‹åºçœŸæ­£â€œå¿«â€èµ·æ¥"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-11-25T09:26:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sinoçˆ±å­¦ä¹ "/> <meta itemprop="url" content="https://juejin.cn/user/1873223544473431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            FastUtil é«˜æ€§èƒ½é›†åˆæœ€ä½³å®è·µï¼šè®©ä½ çš„ Java ç¨‹åºçœŸæ­£â€œå¿«â€èµ·æ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223544473431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sinoçˆ±å­¦ä¹ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:26:57.000Z" title="Tue Nov 25 2025 09:26:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    25
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/160ba617ebeb426fab38f40255bc3267~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2lub-eIseWtpuS5oA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764669068&amp;x-signature=CtTSV2W%2BOCztkbqaBnbYvxPoL2c%3D" alt="1764062716340.png" loading="lazy"/>
FastUtil æ˜¯ç”±æ„å¤§åˆ©è®¡ç®—æœºç§‘å­¦å®¶ Sebastiano Vigna ç»´æŠ¤çš„å¼€æºåº“ï¼Œå®ƒä¸º Java åŸå§‹ç±»å‹ï¼ˆprimitive typesï¼‰æä¾›äº†<strong>ç±»å‹ç‰¹åŒ–çš„é›†åˆå®ç°</strong>ï¼Œæ€§èƒ½é€šå¸¸æ¯” JDK é›†åˆå¿« <strong>2~5 å€</strong>ï¼Œå†…å­˜å ç”¨é™ä½ <strong>40%~70%</strong>ã€‚åœ¨é«˜æ€§èƒ½åç«¯ã€æ¸¸æˆæœåŠ¡å™¨ã€å¤§æ•°æ®å¤„ç†ã€é‡åŒ–äº¤æ˜“ç­‰åœºæ™¯ä¸­ï¼Œå‡ ä¹æ˜¯æ ‡é…ã€‚</p>
<p>æœ¬æ–‡æ€»ç»“ 2025 å¹´æœ€æ–°çš„ FastUtilï¼ˆå½“å‰ç‰ˆæœ¬ 8.5.15+ï¼‰å¸¸ç”¨ API åŠ<strong>ç”Ÿäº§çº§æœ€ä½³å®è·µ</strong>ï¼Œå¸®ä½ é¿å¼€æ‰€æœ‰å¸¸è§å‘ã€‚</p>
<h2 data-id="heading-0">1. ä¸ºä»€ä¹ˆé€‰æ‹© FastUtilï¼Ÿ</h2>

























<table><thead><tr><th>åœºæ™¯</th><th>JDK HashMap&lt;Integer, Long&gt;</th><th>FastUtil Int2LongOpenHashMap</th></tr></thead><tbody><tr><td>å†…å­˜å ç”¨ï¼ˆ1000ä¸‡æ¡ï¼‰</td><td>~1.1 GB</td><td>~320 MB</td></tr><tr><td>put/get é€Ÿåº¦</td><td>åŸºå‡†</td><td>2.8~4.5Ã—</td></tr><tr><td>GC å‹åŠ›</td><td>é«˜ï¼ˆå¤§é‡ Integer/Long åŒ…è£…å¯¹è±¡ï¼‰</td><td>æä½ï¼ˆé›¶è£…ç®±ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-1">2. æ ¸å¿ƒé›†åˆç±»å‹é€ŸæŸ¥è¡¨ï¼ˆè®°ä½è¿™ 8 ä¸ªå°±å¤Ÿæ—¥å¸¸ 95% åœºæ™¯ï¼‰</h2>



























































<table><thead><tr><th>åŸå§‹ç±»å‹</th><th>List</th><th>Set</th><th>Mapï¼ˆkeyâ†’valueï¼‰</th></tr></thead><tbody><tr><td>int</td><td>IntArrayList</td><td>IntOpenHashSet</td><td>Int2IntOpenHashMapã€Int2ObjectOpenHashMap</td></tr><tr><td>long</td><td>LongArrayList</td><td>LongOpenHashSet</td><td>Long2LongOpenHashMapã€Long2ObjectOpenHashMap</td></tr><tr><td>double</td><td>DoubleArrayList</td><td>DoubleOpenHashSet</td><td>Double2DoubleOpenHashMap</td></tr><tr><td>float</td><td>FloatArrayList</td><td>FloatOpenHashSet</td><td>â€”â€”</td></tr><tr><td>byte</td><td>ByteArrayList</td><td>ByteOpenHashSet</td><td>Byte2IntOpenHashMap</td></tr><tr><td>char</td><td>CharArrayList</td><td>CharOpenHashSet</td><td>â€”â€”</td></tr><tr><td>short</td><td>ShortArrayList</td><td>â€”â€”</td><td>â€”â€”</td></tr><tr><td>boolean</td><td>â€”â€”</td><td>BooleanOpenHashSet</td><td>â€”â€”</td></tr></tbody></table>
<p>æ¨èæ°¸è¿œä½¿ç”¨ <strong>OpenHash</strong> ç³»åˆ—ï¼ˆé»˜è®¤å®ç°ï¼‰ï¼Œå®ƒæ¯”æ—§çš„ RBTree/Champ æ›´å¿«ä¸”å†…å­˜æ›´çœã€‚</p>
<h2 data-id="heading-2">3. æœ€ä½³å®è·µä»£ç ç¤ºä¾‹ï¼ˆç›´æ¥å¯å¤åˆ¶ï¼‰</h2>
<h3 data-id="heading-3">3.1 åŸºæœ¬æ›¿æ¢ï¼ˆæœ€å¸¸è§ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å·®ï¼šå¤§é‡è£…ç®± + é«˜å†…å­˜</span>
Map&lt;Integer, Long&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

<span class="hljs-comment">// å¥½ï¼šé›¶è£…ç®± + æè‡´æ€§èƒ½</span>
<span class="hljs-type">Int2LongOpenHashMap</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int2LongOpenHashMap</span>();

<span class="hljs-comment">// å¸¸ç”¨æ„é€ æ–¹å¼</span>
<span class="hljs-type">Int2LongOpenHashMap</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int2LongOpenHashMap</span>(<span class="hljs-number">1_000_000</span>);           <span class="hljs-comment">// é¢„ä¼°å®¹é‡</span>
<span class="hljs-type">Int2LongOpenHashMap</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int2LongOpenHashMap</span>(<span class="hljs-number">1_000_000</span>, <span class="hljs-number">0.8f</span>);     <span class="hljs-comment">// æŒ‡å®šè´Ÿè½½å› å­</span>
</code></pre>
<h3 data-id="heading-4">3.2 æ¨èåˆå§‹åŒ–æ–¹å¼ï¼ˆé¿å…é¢‘ç¹æ‰©å®¹ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æœ€ä½³ï¼šé¢„ä¼°å®¹é‡ + é«˜è´Ÿè½½å› å­ï¼ˆFastUtil é»˜è®¤ 0.8~0.9ï¼Œæ¯” JDK 0.75 é«˜ï¼‰</span>
<span class="hljs-type">int</span> <span class="hljs-variable">expectedSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">5_000_000</span>;
Int2ObjectOpenHashMap&lt;User&gt; userMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int2ObjectOpenHashMap</span>&lt;&gt;(expectedSize, <span class="hljs-number">0.9f</span>);

<span class="hljs-comment">// å¦‚æœä½ èƒ½æ¥å—æå°‘æ•° rehashï¼Œè´Ÿè½½å› å­ç”šè‡³å¯ä»¥è°ƒåˆ° 0.95f</span>
<span class="hljs-type">Int2IntOpenHashMap</span> <span class="hljs-variable">counter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int2IntOpenHashMap</span>(<span class="hljs-number">100_000</span>, <span class="hljs-number">0.95f</span>);
</code></pre>
<h3 data-id="heading-5">3.3 é«˜é¢‘æ“ä½œæ€§èƒ½å¯¹æ¯” &amp; æ¨èå†™æ³•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Int2LongOpenHashMap</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int2LongOpenHashMap</span>();

<span class="hljs-comment">// 1. get é»˜è®¤å€¼ï¼ˆé¿å… containsKey + get ä¸¤æ¬¡æŸ¥æ‰¾ï¼‰</span>
<span class="hljs-type">long</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> map.getOrDefault(userId, <span class="hljs-number">0L</span>);           <span class="hljs-comment">// æ¨è</span>
<span class="hljs-type">long</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> map.containsKey(id) ? map.get(id) : <span class="hljs-number">0L</span>; <span class="hljs-comment">// æ…¢ 2 å€ï¼</span>

<span class="hljs-comment">// 2. è®¡æ•°å™¨æ¨¡å¼ï¼ˆæ¯” compute å¿« 3~5 å€ï¼‰</span>
map.addTo(userId, <span class="hljs-number">1L</span>);                               <span class="hljs-comment">// åŸå­ + æå¿«</span>
<span class="hljs-comment">// ç­‰ä»·äº map.put(userId, map.getOrDefault(userId, 0L) + 1);</span>

<span class="hljs-comment">// 3. è‡ªå¢ 1 çš„æœ€å¿«å†™æ³•</span>
map.addTo(key, <span class="hljs-number">1L</span>);

<span class="hljs-comment">// 4. æ‰¹é‡æ’å…¥ï¼ˆFastUtil ç‹¬æœ‰ APIï¼Œæ¯” putAll å¿« 30%ï¼‰</span>
<span class="hljs-type">int</span>[] keys = ...;
<span class="hljs-type">long</span>[] values = ...;
map.putAll(IntArrays.forceCopy(keys), LongArrays.forceCopy(values), keys.length);
</code></pre>
<h3 data-id="heading-6">3.4 List ä½¿ç”¨æŠ€å·§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŠ¨æ€æ•°ç»„ï¼ˆæ¯” ArrayList&lt;Integer&gt; å¿« 3~5 å€ï¼‰</span>
<span class="hljs-type">IntArrayList</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntArrayList</span>();
list.add(<span class="hljs-number">1</span>);
list.add(<span class="hljs-number">2</span>);

<span class="hljs-comment">// å¿«é€Ÿè½¬æˆåŸå§‹æ•°ç»„ï¼ˆé›¶æ‹·è´ï¼ï¼‰</span>
<span class="hljs-type">int</span>[] array = list.elements();           <span class="hljs-comment">// æ³¨æ„ï¼šä¸è¦å†å¾€ list é‡Œ addï¼</span>
<span class="hljs-type">int</span>[] safeArray = list.toIntArray();     <span class="hljs-comment">// æ¨èï¼šé˜²å¾¡æ€§æ‹·è´</span>

<span class="hljs-comment">// ä»å·²æœ‰æ•°ç»„åˆ›å»ºï¼ˆé›¶æ‹·è´ï¼‰</span>
<span class="hljs-type">int</span>[] raw = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>};
<span class="hljs-type">IntArrayList</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> IntArrayList.wrap(raw);  <span class="hljs-comment">// ç›´æ¥åŒ…è£…ï¼Œä¸å¤åˆ¶</span>
</code></pre>
<h3 data-id="heading-7">3.5 Set ä½¿ç”¨æŠ€å·§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">IntOpenHashSet</span> <span class="hljs-variable">set</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntOpenHashSet</span>(<span class="hljs-number">1_000_000</span>, <span class="hljs-number">0.9f</span>);

set.add(<span class="hljs-number">123</span>);
<span class="hljs-keyword">if</span> (set.add(<span class="hljs-number">123</span>)) { <span class="hljs-comment">/* ç¬¬ä¸€æ¬¡æ’å…¥ */</span> }

<span class="hljs-comment">// å¿«é€Ÿè½¬åŸå§‹æ•°ç»„</span>
<span class="hljs-type">int</span>[] array = set.toArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[set.size()]);
</code></pre>
<h3 data-id="heading-8">3.6 ä¸ Java Stream é…åˆï¼ˆæ¨èæ–¹å¼ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Int2LongOpenHashMap</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> ...;

<span class="hljs-comment">// FastUtil è‡ªå¸¦åŸå§‹æµï¼Œæ¯”è£…ç®±æµå¿« 5~10 å€</span>
<span class="hljs-type">long</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> map.int2LongEntrySet()
              .fastForEach(entry -&gt; total += entry.getLongValue());

<span class="hljs-comment">// æˆ–è€…å¹¶è¡ŒåŸå§‹æµ</span>
map.int2LongEntrySet().parallelStream()
   .forEach(entry -&gt; updateSomeGlobalCounter(entry));
</code></pre>
<h3 data-id="heading-9">3.7 åºåˆ—åŒ–æ³¨æ„äº‹é¡¹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// FastUtil é»˜è®¤å®ç°äº† Serializableï¼Œä½†å»ºè®®æ˜¾å¼æŒ‡å®šç‰ˆæœ¬</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;

<span class="hljs-comment">// å¤§ Map åºåˆ—åŒ–å»ºè®®ä½¿ç”¨ FastUtil è‡ªå¸¦çš„äºŒè¿›åˆ¶æ ¼å¼ï¼ˆæ¯” JDK å¿« 5~10 å€ï¼‰</span>
<span class="hljs-type">ByteBufferOutput</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> ...;
Int2LongBinaryOpenHashMap.write(out, map);   <span class="hljs-comment">// æå¿«ï¼</span>
</code></pre>
<h2 data-id="heading-10">4. Maven/Gradle ä¾èµ–ï¼ˆ2025 æœ€æ–°ï¼‰</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Maven --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>it.unimi.dsi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastutil<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.5.15<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Gradle Kotlin DSL</span>
implementation(<span class="hljs-string">"it.unimi.dsi:fastutil:8.5.15"</span>)
</code></pre>
<h2 data-id="heading-11">5. ç”Ÿäº§ç¯å¢ƒé¿å‘æ¸…å•ï¼ˆè¡€æ³ªç»éªŒï¼‰</h2>

































<table><thead><tr><th>å‘ç‚¹</th><th>æ­£ç¡®åšæ³•</th></tr></thead><tbody><tr><td>ä½¿ç”¨ <code>new HashMap&lt;Integer,...&gt;</code></td><td>æ”¹ç”¨ <code>new Int2XxxOpenHashMap()</code></td></tr><tr><td><code>map.get(key)</code> è¿”å›åŒ…è£…ç±»</td><td>ä½¿ç”¨åŸå§‹æ–¹æ³• <code>map.getOrDefault(intKey, 0L)</code></td></tr><tr><td>List ä½¿ç”¨ <code>ArrayList&lt;Integer&gt;</code></td><td>æ”¹ç”¨ <code>IntArrayList</code></td></tr><tr><td><code>for (Integer i : list)</code></td><td>ç”¨ <code>for (int i : list)</code> æˆ– <code>IntIterator</code></td></tr><tr><td>åºåˆ—åŒ–è¶…å¤§ Map è¶…æ—¶</td><td>æ”¹ç”¨ FastUtil äºŒè¿›åˆ¶åºåˆ—åŒ– API</td></tr><tr><td>å¹¶å‘ä¿®æ”¹å¯¼è‡´å¼‚å¸¸</td><td>ä½¿ç”¨ <code>Int2LongOpenHashMap</code> + åˆ†æ®µé”æˆ–å¤–éƒ¨é”</td></tr></tbody></table>
<h2 data-id="heading-12">6. ç»“è®ºï¼šä¸€æ¡æ›¿æ¢åŸåˆ™</h2>
<blockquote>
<p><strong>åªè¦é”®æˆ–å€¼æ˜¯åŸå§‹ç±»å‹ï¼Œä¸”é¢„è®¡ size &gt; 10ä¸‡ï¼Œå°±å¿…é¡»ä½¿ç”¨ FastUtilã€‚</strong></p>
</blockquote>
<p>è®°ä½ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>â€œåœ¨ Java é‡Œï¼Œ<strong>è£…ç®±æ˜¯æ€§èƒ½æ€æ‰‹</strong>ï¼ŒFastUtil æ˜¯è§£è¯ã€‚â€</p>
</blockquote>
<p>æŠŠè¿™ç¯‡æ–‡ç« åŠ å…¥ä½ çš„å›¢é˜Ÿ Wikiï¼Œä¸‹æ¬¡ä»£ç å®¡æŸ¥çœ‹åˆ° <code>HashMap&lt;Integer, ...</code> å°±ç›´æ¥è´´é“¾æ¥ã€‚</p>
<p><strong>é¡¹ç›®æ¨è</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvigna%2Ffastutil" target="_blank" title="https://github.com/vigna/fastutil" ref="nofollow noopener noreferrer">github.com/vigna/fastuâ€¦</a></li>
<li>é«˜æ€§èƒ½æ¨¡æ¿é¡¹ç›®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frealpdai%2Fjava-high-performance-template%25EF%25BC%2588%25E5%25B7%25B2%25E9%259B%2586%25E6%2588%2590" target="_blank" title="https://github.com/realpdai/java-high-performance-template%EF%BC%88%E5%B7%B2%E9%9B%86%E6%88%90" ref="nofollow noopener noreferrer">github.com/realpdai/jaâ€¦</a> FastUtil + Disruptor + Agronaï¼‰</li>
</ul>
<p>å¿«èµ·æ¥å§ï¼Œä½ çš„ CPU ä¼šæ„Ÿè°¢ä½ ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rustå®æˆ˜ï¼ˆå››ï¼‰ï¼šæ•°æ®æŒä¹…åŒ–ã€å‘Šè­¦é…ç½®ä¸Web API â€”â€” æ„å»ºç›‘æ§ç³»ç»Ÿçš„åŠŸèƒ½é—­ç¯]]></title>    <link>https://juejin.cn/post/7576476897949859867</link>    <guid>https://juejin.cn/post/7576476897949859867</guid>    <pubDate>2025-11-25T09:30:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576476897949859867" data-draft-id="7572997791452135462" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rustå®æˆ˜ï¼ˆå››ï¼‰ï¼šæ•°æ®æŒä¹…åŒ–ã€å‘Šè­¦é…ç½®ä¸Web API â€”â€” æ„å»ºç›‘æ§ç³»ç»Ÿçš„åŠŸèƒ½é—­ç¯"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,Rust"/> <meta itemprop="datePublished" content="2025-11-25T09:30:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Amos_Web"/> <meta itemprop="url" content="https://juejin.cn/user/1204720476369288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rustå®æˆ˜ï¼ˆå››ï¼‰ï¼šæ•°æ®æŒä¹…åŒ–ã€å‘Šè­¦é…ç½®ä¸Web API â€”â€” æ„å»ºç›‘æ§ç³»ç»Ÿçš„åŠŸèƒ½é—­ç¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1204720476369288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Amos_Web
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:30:28.000Z" title="Tue Nov 25 2025 09:30:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>å…³äºæœ¬Rustå®æˆ˜æ•™ç¨‹ç³»åˆ—ï¼š</strong></p>
<ul>
<li><strong>å®šä½</strong>ï¼šä¸€ä»½ä»RuståŸºç¡€è¿ˆå‘é¡¹ç›®å®æˆ˜çš„ç»ƒä¹ è®°å½•ã€‚</li>
<li><strong>å†…å®¹</strong>ï¼šèšç„¦å®æˆ˜ä¸­é‡åˆ°çš„å…·ä½“é—®é¢˜ã€è§£å†³æ€è·¯ä¸å¿ƒå¾—æ€»ç»“ã€‚</li>
<li><strong>è¯»è€…</strong>ï¼šé€‚åˆæœ‰RuståŸºç¡€ï¼Œä½†æ€¥éœ€é¡¹ç›®ç»éªŒå·©å›ºçŸ¥è¯†çš„å¼€å‘è€…ã€‚<strong>èµ„æ·±ç©å®¶å¯å¿½ç•¥</strong>ã€‚</li>
<li><strong>è®¡åˆ’</strong>ï¼šæœ¬æœŸä¸ºç³»åˆ—ç¬¬å››ç¯‡ï¼Œå°†æ ¹æ®æˆ‘çš„å­¦ä¹ è¿›åº¦æŒç»­æ›´æ–°ã€‚</li>
<li><strong>å¯¼èˆª</strong>ï¼šå¾€æœŸæ–‡ç« å¯ä»¥ç›´æ¥æŸ¥çœ‹ä¸“æ ï¼š<a href="https://juejin.cn/column/7563087634245599241" target="_blank" title="https://juejin.cn/column/7563087634245599241">Rustå®è·µè¯¾ç¨‹</a></li>
</ul>
</blockquote>
<h2 data-id="heading-0">ç®€è¦è¯´æ˜</h2>
<p>åœ¨å‰ä¸¤ç¯‡å…³äºç›‘æ§ç³»ç»Ÿçš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†ä»é…ç½®æ–‡ä»¶ä¸­è¯»å–ç›‘æ§ç›®æ ‡ã€è°ƒåº¦ç›‘æ§å¼•æ“æ‰§è¡Œæ£€æŸ¥ï¼Œå¹¶é€šè¿‡Â <code>println!</code>Â ç›´æ¥è¾“å‡ºç»“æœçš„åŸºç¡€æµç¨‹ã€‚è€Œåœ¨æœ¬ç¯‡ä¸­ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥æ¨è¿›ç³»ç»Ÿçš„å®Œæ•´æ€§ä¸å®ç”¨æ€§ï¼Œé‡ç‚¹å®ç°ä»¥ä¸‹ä¸‰ä¸ªä¼ä¸šçº§åŠŸèƒ½ï¼š</p>
<ul>
<li><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šå°†ç›‘æ§ç»“æœå­˜å‚¨è‡³æ•°æ®åº“ï¼Œå®ç°å†å²è®°å½•æŸ¥è¯¢ä¸åˆ†æï¼›</li>
<li><strong>å‘Šè­¦é…ç½®</strong>ï¼šå»ºç«‹çµæ´»çš„å‘Šè­¦è§„åˆ™æœºåˆ¶ï¼ŒåŠæ—¶é€šçŸ¥å¼‚å¸¸çŠ¶æ€ï¼›</li>
<li><strong>Web API</strong>ï¼šæä¾›æ ‡å‡†åŒ–çš„æ¥å£ï¼Œä¾¿äºå‰ç«¯æˆ–å…¶ä»–æœåŠ¡è°ƒç”¨æ•°æ®ã€‚</li>
</ul>
<p>è¿™ä¹Ÿæ„å‘³ç€ï¼Œæˆ‘ä»¬çš„ç›‘æ§ç³»ç»Ÿå°†åˆæ­¥å…·å¤‡å¯è§†åŒ–ä¸å¯é›†æˆçš„èƒ½åŠ›ã€‚è‡³äºå‰ç«¯é¡µé¢æœ¬èº«ï¼Œè€ƒè™‘åˆ°å…¶å†…å®¹è¾ƒä¸ºç‹¬ç«‹ä¸”ç¯‡å¹…è¾ƒå¤§ï¼Œæœ¬æ¬¡å°†ä¸å±•å¼€å®ç°ï¼Œç•™ç»™æœ‰å…´è¶£æ·±å…¥å‰ç«¯å®è·µçš„è¯»è€…æ¥è‡ªè¡Œè®¾è®¡ä¸å¼€å‘ã€‚</p>
<h3 data-id="heading-1">éœ€æ±‚æ‹†è§£&amp;&amp;è®¾è®¡æ–¹æ¡ˆï¼š</h3>
<h4 data-id="heading-2">æ•°æ®æŒä¹…åŒ–</h4>
<ul>
<li>å¯¹æ¥æ•°æ®åº“ï¼Œå®ç°æ•°æ®æŒä¹…åŒ–å­˜å‚¨ï¼šä½¿ç”¨SQLiteä½œä¸ºå­˜å‚¨åç«¯</li>
<li>ä½¿ç”¨ Diesel å»ºç«‹æ•°æ®åº“è¿æ¥å’Œæ¨¡å‹</li>
<li>å®ç°å¯¹æ•°æ®çš„CRUDæ“ä½œ</li>
</ul>
<h4 data-id="heading-3">å‘Šè­¦é…ç½®</h4>
<ul>
<li>åŸºäºè§„åˆ™å¼•æ“å¯¹æ¯æ¡ç›‘æ§ç»“æœè¿›è¡Œå®æ—¶è¯„ä¼°</li>
<li>æ”¯æŒè§„åˆ™ç±»å‹ï¼š
<ul>
<li>status:å½“ç»“æœstatus=false</li>
<li>response_time: å½“å“åº”/æ€»è€—æ—¶å¤§äºé˜ˆå€¼</li>
<li>status_code: å½“å“åº”ç å±äºæŸä¸ªé›†åˆ</li>
<li>body_not_contains: å½“å“åº”ä½“ä¸åŒ…å«å…³é”®å­—</li>
</ul>
</li>
<li>è§„åˆ™å’Œå‘Šè­¦è®°å½•å‡å­˜å…¥æ•°æ®åº“ï¼Œå¯æ‰©å±•å¤–éƒ¨é€šçŸ¥ï¼ˆemailã€webhookï¼‰</li>
</ul>
<h4 data-id="heading-4">Web API</h4>
<ul>
<li>ä½¿ç”¨Axumæä¾›RESTæ¥å£ï¼š
<ul>
<li>/api/monitors: ç›‘æ§é…ç½®CRUD</li>
<li>/api/results: ç»“æœæŸ¥è¯¢ï¼ˆåˆ†é¡µ/æŒ‰monitor_idï¼‰</li>
<li>/api/alerts: å‘Šè­¦è§„åˆ™ CRUD</li>
<li>/api/alert-events: å‘Šè­¦äº‹ä»¶æŸ¥è¯¢</li>
</ul>
</li>
</ul>
<h2 data-id="heading-5">å®ç°æ­¥éª¤</h2>
<h3 data-id="heading-6">1.æ•°æ®æŒä¹…åŒ–</h3>
<p>åœ¨æ•°æ®æŒä¹…åŒ–éƒ¨åˆ†ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦è®¾è®¡åˆç†çš„è¡¨ç»“æ„ã€‚åŸºäºæ­¤å‰å·²å®ç°çš„ç›‘æ§é€»è¾‘ï¼Œç³»ç»Ÿä¸»è¦æ¶‰åŠä»¥ä¸‹å››å¼ æ ¸å¿ƒæ•°æ®è¡¨ï¼š</p>
<ul>
<li><strong>monitors_config</strong>ï¼šç›‘æ§é…ç½®è¡¨ï¼Œç”¨äºå­˜å‚¨ä»Â <code>monitor_list.json</code>Â ä¸­è¯»å–å¹¶æ ‡å‡†åŒ–åçš„ç›‘æ§å¯¹è±¡é…ç½®ï¼›</li>
<li><strong>monitor_results</strong>ï¼šç›‘æ§ç»“æœè®°å½•è¡¨ï¼Œå…¶ç»“æ„å¯¹åº”äºä»£ç ä¸­Â <code>monitor::types::CheckResult</code>Â çš„æ˜ å°„ï¼›</li>
<li><strong>alert_rules</strong>ï¼šå‘Šè­¦è§„åˆ™é…ç½®è¡¨ï¼Œç”¨äºå®šä¹‰å„ç±»ç›‘æ§æŒ‡æ ‡çš„å¼‚å¸¸è§¦å‘æ¡ä»¶ï¼›</li>
<li><strong>alert_events</strong>ï¼šå‘Šè­¦äº‹ä»¶è®°å½•è¡¨ï¼Œå®ç°å¯¹å‘Šè­¦è§¦å‘è¿‡ç¨‹çš„å®Œæ•´ç•™ç—•ã€‚</li>
</ul>
<p>åœ¨æ•°æ®åº“äº¤äº’æ–¹é¢ï¼Œæˆ‘ä»¬å°†é‡‡ç”¨Â <strong>Diesel</strong>Â ä½œä¸º ORM æ¡†æ¶ã€‚è¯¥é€‰æ‹©ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å®ç°ï¼Œè€Œéåº•å±‚ SQL çš„ç¼–å†™ä¸ç»´æŠ¤ï¼Œä»è€Œæœ‰æ•ˆé™ä½æ•°æ®å±‚äº¤äº’çš„å¤æ‚åº¦ï¼Œæå‡å¼€å‘æ•ˆç‡ä¸ä»£ç å¯ç»´æŠ¤æ€§ã€‚</p>
<h4 data-id="heading-7">1.1 æ•°æ®åº“è¡¨è®¾è®¡</h4>
<ul>
<li><code>monitors_config ç›‘æ§é…ç½®è¡¨</code></li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">--ç›‘æ§é…ç½®è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> monitor_config (
    id <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTOINCREMENT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    name TEXT <span class="hljs-keyword">UNIQUE</span>,
    target TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    <span class="hljs-keyword">method</span> TEXT,
    monitor_type TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">CHECK</span> (monitor_type <span class="hljs-keyword">IN</span> (<span class="hljs-string">'HTTP'</span>, <span class="hljs-string">'TCP'</span>, <span class="hljs-string">'ICMP'</span>, <span class="hljs-string">'DNS'</span>,<span class="hljs-string">'CPU'</span>, <span class="hljs-string">'DISK'</span>, <span class="hljs-string">'MEMORY'</span>, <span class="hljs-string">'PROCESS'</span>)),
    interval_ms <span class="hljs-type">INTEGER</span>,
    timeout_ms <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">5000</span>,
    config_json TEXT,
    enabled <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">1</span>,
    tag TEXT,
    created_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    updated_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);

</code></pre>
<ul>
<li><code>monitor_results ç›‘æ§ç»“æœè®°å½•è¡¨</code></li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ£€æŸ¥ç»“æœè¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> check_result (
    id <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTOINCREMENT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    monitor_id <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">REFERENCES</span> monitor_config(id) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> CASCADE,
    monitor_type TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    status <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    response_time <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    metadata_json TEXT,
    created_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    updated_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);
</code></pre>
<h4 data-id="heading-8">1.2 Dieselé›†æˆ</h4>
<p>æˆ‘ä»¬å‚è€ƒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Flearnku.com%2Fdocs%2Fdiesel%2Fwo-men-wei-shi-me-yao-chuang-jian-diesel%2F16592" target="_blank" title="https://learnku.com/docs/diesel/wo-men-wei-shi-me-yao-chuang-jian-diesel/16592" ref="nofollow noopener noreferrer">Diesel å®˜æ–¹æ•™ç¨‹</a>Â ä¸­æä¾›çš„æŒ‡å¯¼ï¼ŒæŒ‰ç…§å…¶æ¨èçš„æ­¥éª¤é€ä¸€å®ç°æ•°æ®åº“ç›¸å…³åŠŸèƒ½ã€‚</p>
<ul>
<li>
<h6 data-id="heading-9">é¦–å…ˆï¼Œè®©æˆ‘ä»¬å°† Diesel æ·»åŠ åˆ°æˆ‘ä»¬çš„ä¾èµ–é¡¹ä¸­ã€‚æˆ‘ä»¬è¿˜å°†ä½¿ç”¨ä¸€ä¸ªåä¸º .env çš„å·¥å…·æ¥ç®¡ç†æˆ‘ä»¬çš„ç¯å¢ƒå˜é‡ã€‚</h6>
</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// cargo.toml</span>
# æ•°æ®åº“æ“ä½œ
diesel = { version = <span class="hljs-string">"2.3.3"</span>, features = [<span class="hljs-string">"chrono"</span>, <span class="hljs-string">"serde_json"</span>, <span class="hljs-string">"sqlite"</span>] }

<span class="hljs-comment">// .envç¯å¢ƒé…ç½®æ–‡ä»¶</span>
DATABASE_URL=./db/monitor.db 

</code></pre>
<ul>
<li>
<h6 data-id="heading-10">å®‰è£… Diesel å‘½ä»¤ (CLI)</h6>
</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// è®¾ç½®åªæ”¯æŒsqliteæ•°æ®åº“</span>
cargo install diesel_cli --no-default-features --features sqlite  
</code></pre>
<ul>
<li>
<h6 data-id="heading-11">æ‰§è¡Œ <code>diesel setup</code>è¿›è¡Œåˆå§‹åŒ–æ•°æ®åº“æ“ä½œ</h6>
</li>
</ul>
<p>å› ä¸ºæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç¯å¢ƒå˜é‡æ–‡ä»¶<code> .env</code>ï¼Œæ‰€ä»¥è¿™ä¸ªæ“ä½œå°†ä¼šæŒ‰ç…§æˆ‘ä»¬åœ¨è¿™ä¸ªç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­å®šä¹‰çš„è·¯å¾„ç”Ÿæˆ<code>monitor.db</code>æ•°æ®åº“</p>
<ul>
<li>
<h6 data-id="heading-12">æ‰§è¡Œ<code>diesel migration generate create_monitor_tables</code>ç”Ÿæˆæ•°æ®åº“è¿ç§»æ–‡ä»¶ï¼Œå¯ä»¥ç‰ˆæœ¬åŒ–æˆ‘ä»¬æ•°æ®åº“çš„æ“ä½œï¼Œæ–¹ä¾¿å›¢é˜Ÿåä½œå’Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ“ä½œ</h6>
</li>
</ul>
<p>æ­¤æ—¶ä¼šåœ¨<code>src/migrations/</code>ç›®å½•ä¸‹é¢åˆ›å»ºä¸¤ä¸ªsqlç©ºæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-rust" lang="rust">|-src
 |-migrations
   |-<span class="hljs-number">2025</span>-<span class="hljs-number">11</span>-<span class="hljs-number">17</span>-<span class="hljs-number">051840</span>-<span class="hljs-number">0000_</span>create_monitor_tables
     |-up.sql
     |-down.sql       
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠæˆ‘ä»¬çš„åˆ›å»ºè¡¨çš„SQLè¯­å¥æ”¾åˆ°<code>up.sql</code>æ–‡ä»¶ä¸­ï¼Œç„¶åæ•°æ®åº“è¡¨ä¼šæ»šçš„æ“ä½œæ”¾åˆ°<code>down.sql</code>ä¸­å°±å¯ä»¥äº†</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// up.sql</span>
-- Your SQL goes here
--ç›‘æ§é…ç½®è¡¨
CREATE TABLE <span class="hljs-title function_ invoke__">monitor_config</span> (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    name TEXT UNIQUE,
    target TEXT NOT NULL,
    method TEXT,
    monitor_<span class="hljs-keyword">type</span> <span class="hljs-title class_">TEXT</span> NOT NULL <span class="hljs-title function_ invoke__">CHECK</span> (monitor_<span class="hljs-keyword">type</span> <span class="hljs-title class_">IN</span> (<span class="hljs-symbol">'HTTP</span>', <span class="hljs-symbol">'TCP</span>', <span class="hljs-symbol">'ICMP</span>', <span class="hljs-symbol">'DNS</span><span class="hljs-string">','</span>CPU', <span class="hljs-symbol">'DISK</span>', <span class="hljs-symbol">'MEMORY</span>', <span class="hljs-symbol">'PROCESS</span>')),
    interval_ms INTEGER,
    timeout_ms INTEGER NOT NULL DEFAULT <span class="hljs-number">5000</span>,
    config_json TEXT,
    enabled INTEGER NOT NULL DEFAULT <span class="hljs-number">1</span>,
    tag TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ£€æŸ¥ç»“æœè¡¨
CREATE TABLE <span class="hljs-title function_ invoke__">check_result</span> (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    monitor_id INTEGER NOT NULL REFERENCES <span class="hljs-title function_ invoke__">monitor_config</span>(id) ON DELETE CASCADE,
    monitor_<span class="hljs-keyword">type</span> <span class="hljs-title class_">TEXT</span> NOT NULL,
    status INTEGER NOT NULL,
    response_time INTEGER NOT NULL,
    metadata_json TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);





-- ç´¢å¼•åˆ›å»º
CREATE INDEX idx_monitor_config_enabled ON <span class="hljs-title function_ invoke__">monitor_config</span>(enabled); -- SELECT * FROM monitor_config WHERE enabled = <span class="hljs-number">1</span>;
-- å¯ç”¨/ç¦ç”¨ç­›é€‰ + æŒ‰ id é€†åºåˆ†é¡µ
CREATE INDEX IF NOT EXISTS idx_monitor_config_enabled_id ON <span class="hljs-title function_ invoke__">monitor_config</span>(enabled, id DESC); -- SELECT * FROM monitor_config WHERE enabled = <span class="hljs-number">1</span> ORDER BY id DESC LIMIT <span class="hljs-number">10</span> OFFSET <span class="hljs-number">20</span>;
-- ç›®æ ‡ç²¾ç¡®/å‰ç¼€æœç´¢
CREATE INDEX IF NOT EXISTS idx_monitor_config_target ON <span class="hljs-title function_ invoke__">monitor_config</span>(target); -- SELECT * FROM monitor_config WHERE target LIKE <span class="hljs-symbol">'http</span>%';
-- æ ‡ç­¾è¿‡æ»¤
CREATE INDEX IF NOT EXISTS idx_monitor_config_tag ON <span class="hljs-title function_ invoke__">monitor_config</span>(tag); -- SELECT * FROM monitor_config WHERE tag = <span class="hljs-symbol">'production</span>';
CREATE INDEX idx_check_result_monitor_id ON <span class="hljs-title function_ invoke__">check_result</span>(monitor_id); -- SELECT * FROM check_result WHERE monitor_id = <span class="hljs-number">1</span>;

-- è§¦å‘å™¨åˆ›å»º
CREATE TRIGGER trg_monitor_config_updated_at
AFTER UPDATE ON monitor_config
WHEN NEW.updated_at = OLD.updated_at
BEGIN
  UPDATE monitor_config SET updated_at = CURRENT_TIMESTAMP WHERE id = OLD.id;
END;

CREATE TRIGGER trg_check_result_updated_at
AFTER UPDATE ON check_result
WHEN NEW.updated_at = OLD.updated_at
BEGIN
  UPDATE check_result SET updated_at = CURRENT_TIMESTAMP WHERE id = OLD.id;
END;


</code></pre>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// down.sql</span>
-- æ•°æ®åº“å›æ»š
DROP TABLE check_result;
DROP TABLE monitor_config;

</code></pre>
<p>æœ€åæ‰§è¡Œ <code>diesel migration run</code>å³å¯æ‰§è¡Œ<code>up.sql</code>ä¸­çš„æ•°æ®åº“ä¸­å»ºè¡¨æ“ä½œï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ‰§è¡Œ<code>diesel migration redo</code>æ¥æŸ¥çœ‹æ‰§è¡Œ<code>down.sql</code>çš„æ•ˆæœ</p>
<h4 data-id="heading-13">1.3 æ•°æ®åº“äº¤äº’é€»è¾‘</h4>
<p>åœ¨å®Œæˆæ•°æ®åº“è¡¨ç»“æ„è®¾è®¡å¹¶é€šè¿‡ Diesel å»ºç«‹æ•°æ®åº“ä¹‹åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°†æ­£å¼å¼€å§‹ä¸šåŠ¡é€»è¾‘çš„ç¼–å†™ã€‚ç¬¬ä¸€æ­¥æ˜¯å®ç°æ•°æ®åº“è¿æ¥â€”â€”æˆ‘ä»¬å°†é‡‡ç”¨<strong>è¿æ¥æ± ï¼ˆConnection Poolï¼‰</strong> çš„æ–¹å¼æ¥ç®¡ç†æ•°æ®åº“è¿æ¥ï¼Œä»¥å®ç°è¿æ¥çš„å¤ç”¨ä¸æ€§èƒ½ä¼˜åŒ–ï¼Œä»è€Œæå‡ç³»ç»Ÿåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹çš„å¤„ç†èƒ½åŠ›ã€‚</p>
<h5 data-id="heading-14">1.3.1 è¿æ¥æ•°æ®åº“ï¼š</h5>
<p>æˆ‘ä»¬å°†é‡‡ç”¨è¿æ¥æ± æ¥ç®¡ç†æ•°æ®åº“è¿æ¥ï¼Œå¹¶ç»“åˆÂ <code>Arc</code>ï¼ˆåŸå­å¼•ç”¨è®¡æ•°ï¼‰å®ç°åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å®‰å…¨å…±äº«ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œè¿˜å°†å¼•å…¥ç›¸åº”çš„é‡è¯•æœºåˆ¶ï¼Œå…±åŒæ„å»ºç¨³å®šå¯é çš„åº•å±‚æ•°æ®åº“è¿æ¥å±‚ï¼Œç¡®ä¿ç³»ç»Ÿåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ•°æ®è®¿é—®ç¨³å®šæ€§ã€‚</p>
<pre><code class="hljs language-rust" lang="rust">src/database/connect_db.rs
<span class="hljs-comment">// æ•°æ®åº“é“¾æ¥æ–¹æ³• </span>
<span class="hljs-comment">// å®šä¹‰é“¾æ¥æ± è¿”å›çš„æ•°æ®ç±»å‹</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">SqlitePool</span> = Pool&lt;ConnectionManager&lt;SqliteConnection&gt;&gt;;
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">SqlitePooledConnection</span> = PooledConnection&lt;ConnectionManager&lt;SqliteConnection&gt;&gt;;
<span class="hljs-comment">// ä½¿ç”¨diesel_migrations æ–¹ä¾¿è¿›è¡Œæ•°æ®çš„è¿ç§»</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">const</span> MIGRATIONS: EmbeddedMigrations = embed_migrations!(); <span class="hljs-comment">// é»˜è®¤ æŸ¥æ‰¾ä¸cargo.tomlåŒçº§ç›®å½•ä¸‹çš„migrationsæ–‡ä»¶å¤¹</span>

<span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">establish_connection</span>() <span class="hljs-punctuation">-&gt;</span><span class="hljs-type">Result</span>&lt;SqlitePool, <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> std::error::Error&gt;&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">database_url</span> = env::<span class="hljs-title function_ invoke__">var</span>(<span class="hljs-string">"DATABASE_URL"</span>).<span class="hljs-title function_ invoke__">unwrap_or_else</span>(|_| <span class="hljs-string">"./db/monitor.db"</span>.<span class="hljs-title function_ invoke__">to_string</span>());
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">manager</span> = ConnectionManager::&lt;SqliteConnection&gt;::<span class="hljs-title function_ invoke__">new</span>(database_url);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">pool</span>  = Pool::<span class="hljs-title function_ invoke__">builder</span>()
        .<span class="hljs-title function_ invoke__">max_size</span>(<span class="hljs-number">8</span>) <span class="hljs-comment">// è®¾ç½®æœ€å¤§é“¾æ¥æ•°</span>
        .<span class="hljs-title function_ invoke__">connection_timeout</span>(std::time::Duration::<span class="hljs-title function_ invoke__">from_secs</span>(<span class="hljs-number">30</span>)) <span class="hljs-comment">// è®¾ç½®è¶…æ—¶æ—¶é—´</span>
        .<span class="hljs-title function_ invoke__">build</span>(manager)
        .<span class="hljs-title function_ invoke__">map_err</span>(|e| <span class="hljs-built_in">format!</span>(<span class="hljs-string">"Failed to create DB pool: {}"</span>, e))?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">conn</span> =   pool.<span class="hljs-title function_ invoke__">get</span>().<span class="hljs-title function_ invoke__">map_err</span>(|e| <span class="hljs-built_in">format!</span>(<span class="hljs-string">"Failed to get DB connection from pool: {}"</span>, e))?;
    conn.<span class="hljs-title function_ invoke__">run_pending_migrations</span>(MIGRATIONS).<span class="hljs-title function_ invoke__">map_err</span>(|e| <span class="hljs-built_in">format!</span>(<span class="hljs-string">"Failed to run database migrations: {}"</span>, e))?;
    <span class="hljs-title function_ invoke__">Ok</span>(pool)
}

<span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªé‡è¯•çš„æ–¹æ³•</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">establish_database_connection</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;Arc&lt;SqlitePool&gt;, <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> std::error::Error&gt;&gt; {
    <span class="hljs-comment">// å¼•å…¥ backon åº“ æ¥å®ç°é“¾æ¥æ–¹æ³•é‡è¯•çš„é€»è¾‘  éƒ½æ˜¯é€šç”¨çš„é€»è¾‘ </span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">pool</span> = (|| <span class="hljs-keyword">async</span> { <span class="hljs-title function_ invoke__">establish_connection</span>() }) <span class="hljs-comment">// æŠŠéœ€è¦é‡è¯•çš„å†…å®¹ å°è£…æˆä¸€ä¸ªé—­åŒ…å‡½æ•°</span>
        .<span class="hljs-title function_ invoke__">retry</span>(<span class="hljs-title function_ invoke__">default_retry_policy</span>()) <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤çš„é‡è¯•å‡½æ•°</span>
        .<span class="hljs-keyword">await</span>
        .<span class="hljs-title function_ invoke__">map</span>(Arc::new) <span class="hljs-comment">// ä½¿ç”¨Arcè¿›è¡Œå°è£… æ–¹ä¾¿è¿›è¡Œçº¿ç¨‹é—´å…±äº«</span>
        .<span class="hljs-title function_ invoke__">map_err</span>(|e| {
            eprintln!(<span class="hljs-string">"æ•°æ®åº“è¿æ¥é‡è¯•å¤±è´¥: {}"</span>, e);
            e
        })?;
    <span class="hljs-title function_ invoke__">Ok</span>(pool)
}

<span class="hljs-comment">// å®šä¹‰è·å–é“¾æ¥æ–¹æ³• æ–¹ä¾¿ä¸šåŠ¡å±‚è·å–ç»Ÿä¸€çš„é“¾æ¥æ± </span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_connection</span>(pool: &amp;SqlitePool) <span class="hljs-punctuation">-&gt;</span> SqlitePooledConnection {
    pool.<span class="hljs-title function_ invoke__">get</span>().<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">"Failed to get connection from pool."</span>)
}
</code></pre>
<h5 data-id="heading-15">1.3.2 å®šä¹‰æ•°æ®åº“å¯¹åº”çš„Modelå±‚ç»“æ„ä½“</h5>
<p>åœ¨å®ç°æ•°æ®åº“æ“ä½œä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®šä¹‰ä¸æ•°æ®åº“è¡¨å­—æ®µä¸€ä¸€å¯¹åº”çš„ç»“æ„ä½“ã€‚è¿™ç§æ˜ å°„å…³ç³»ç¡®ä¿äº†æ•°æ®åœ¨Rustç¨‹åºä¸æ•°æ®åº“ä¹‹é—´çš„æ­£ç¡®è½¬æ¢ï¼Œä¸ºåç»­çš„æ•°æ®æ’å…¥ã€æŸ¥è¯¢ç­‰æ“ä½œå¥ å®šåŸºç¡€ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Queryable, Debug, Clone, Serialize, Deserialize)]</span>
<span class="hljs-meta">#[diesel(table_name = monitor_config)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">MonitorConfigModel</span> {
    <span class="hljs-keyword">pub</span> id: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> name: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> target: <span class="hljs-type">String</span>,
    <span class="hljs-keyword">pub</span> method: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> monitor_type: <span class="hljs-type">String</span>,
    <span class="hljs-keyword">pub</span> interval_ms: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">i32</span>&gt;,
    <span class="hljs-keyword">pub</span> timeout_ms: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> config_json: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> enabled: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> tag: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> created_at: <span class="hljs-type">Option</span>&lt;NaiveDateTime&gt;,
    <span class="hljs-keyword">pub</span> updated_at: <span class="hljs-type">Option</span>&lt;NaiveDateTime&gt;,
}

<span class="hljs-comment">// æ›´æ–°ç”¨ç»“æ„ï¼ˆä¸å« id / created_at / updated_atï¼‰</span>
<span class="hljs-meta">#[derive(Debug, Clone, Serialize, Deserialize, AsChangeset)]</span>
<span class="hljs-meta">#[diesel(table_name = monitor_config)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">MonitorConfigUpdate</span> {
    <span class="hljs-keyword">pub</span> name: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> target: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> method: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> monitor_type: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> interval_ms: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">i32</span>&gt;,
    <span class="hljs-keyword">pub</span> timeout_ms: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">i32</span>&gt;,
    <span class="hljs-keyword">pub</span> config_json: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> enabled: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">i32</span>&gt;,
    <span class="hljs-keyword">pub</span> tag: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
}
<span class="hljs-comment">// æ–°å¢ç”¨ç»“æ„ä½“ ï¼ˆä¸åŒ…å«ID ï¼Œupdated_atï¼‰ ï¼‰</span>
<span class="hljs-meta">#[derive(Insertable, Debug, Clone, Serialize, Deserialize)]</span>
<span class="hljs-meta">#[diesel(table_name = monitor_config)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">MonitorConfigInsert</span> {
    <span class="hljs-keyword">pub</span> name: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> target: <span class="hljs-type">String</span>,
    <span class="hljs-keyword">pub</span> method: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> monitor_type: <span class="hljs-type">String</span>,
    <span class="hljs-keyword">pub</span> interval_ms: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">i32</span>&gt;,
    <span class="hljs-keyword">pub</span> timeout_ms: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> config_json: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> enabled: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> tag: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
}

<span class="hljs-meta">#[derive(Insertable, Debug, Clone, Serialize, Deserialize, Selectable, Queryable)]</span>
<span class="hljs-meta">#[diesel(table_name = check_result)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">CheckResultModel</span> {
    <span class="hljs-keyword">pub</span> id: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> monitor_id: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> monitor_type: <span class="hljs-type">String</span>,
    <span class="hljs-keyword">pub</span> status: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> response_time: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> metadata_json: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    <span class="hljs-keyword">pub</span> created_at: <span class="hljs-type">Option</span>&lt;NaiveDateTime&gt;,
    <span class="hljs-keyword">pub</span> updated_at: <span class="hljs-type">Option</span>&lt;NaiveDateTime&gt;,
}

<span class="hljs-comment">// æ’å…¥ç›‘æ§ç»“æœæ•°æ®</span>
<span class="hljs-meta">#[derive(Insertable, Debug, Clone, Serialize, Deserialize)]</span>
<span class="hljs-meta">#[diesel(table_name = check_result)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">CheckResultModelInsert</span> {
    <span class="hljs-keyword">pub</span> monitor_id: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> monitor_type: <span class="hljs-type">String</span>,
    <span class="hljs-keyword">pub</span> status: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> response_time: <span class="hljs-type">i32</span>,
    <span class="hljs-keyword">pub</span> metadata_json: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
}

</code></pre>
<p>åŒæ—¶è¿˜éœ€è¦ä½¿ç”¨<code>diesel</code>å·¥å…·æ¥ç”Ÿæˆå¯¹åº”çš„<code>schema</code>ï¼Œæ¥ä¾›ä¸Šé¢çš„ç»“æ„ä½“ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-rust" lang="rust">src/database/schema.rs

diesel::table! {
    <span class="hljs-title function_ invoke__">check_result</span> (id) {
        id <span class="hljs-punctuation">-&gt;</span> Integer,
        monitor_id <span class="hljs-punctuation">-&gt;</span> Integer,
        monitor_type <span class="hljs-punctuation">-&gt;</span> Text,
        status <span class="hljs-punctuation">-&gt;</span> Integer,
        response_time <span class="hljs-punctuation">-&gt;</span> Integer,
        metadata_json <span class="hljs-punctuation">-&gt;</span> Nullable&lt;Text&gt;,
        created_at <span class="hljs-punctuation">-&gt;</span> Nullable&lt;Timestamp&gt;,
        updated_at <span class="hljs-punctuation">-&gt;</span> Nullable&lt;Timestamp&gt;,
    }
}

diesel::table! {
    <span class="hljs-title function_ invoke__">monitor_config</span> (id) {
        id <span class="hljs-punctuation">-&gt;</span> Integer,
        name <span class="hljs-punctuation">-&gt;</span> Nullable&lt;Text&gt;,
        target <span class="hljs-punctuation">-&gt;</span> Text,
        method <span class="hljs-punctuation">-&gt;</span> Nullable&lt;Text&gt;,
        monitor_type <span class="hljs-punctuation">-&gt;</span> Text,
        interval_ms <span class="hljs-punctuation">-&gt;</span> Nullable&lt;Integer&gt;,
        timeout_ms <span class="hljs-punctuation">-&gt;</span> Integer,
        config_json <span class="hljs-punctuation">-&gt;</span> Nullable&lt;Text&gt;,
        enabled <span class="hljs-punctuation">-&gt;</span> Integer,
        tag <span class="hljs-punctuation">-&gt;</span> Nullable&lt;Text&gt;,
        created_at <span class="hljs-punctuation">-&gt;</span> Nullable&lt;Timestamp&gt;,
        updated_at <span class="hljs-punctuation">-&gt;</span> Nullable&lt;Timestamp&gt;,
    }
}
</code></pre>
<p>æˆ‘ä»¬é‡‡ç”¨åˆ†å±‚æ¶æ„æ¥ç»„ç»‡æ•°æ®åº“æ“ä½œï¼Œæ•´ä½“è®¾è®¡å¦‚ä¸‹ï¼š</p>
<p><strong>APIå±‚</strong>Â â†’Â <strong>Serviceå±‚</strong>Â â†’Â <strong>Repositoryå±‚</strong>Â â†’Â <strong>æ•°æ®åº“(SQLite)</strong></p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><strong>Repositoryå±‚</strong>Â å°è£…æ‰€æœ‰æ•°æ®è®¿é—®ç»†èŠ‚ï¼Œæä¾›ç»Ÿä¸€çš„æ•°æ®åº“æ“ä½œæ¥å£</li>
<li><strong>Serviceå±‚</strong>Â è´Ÿè´£ç»„åˆå„ç±»æ•°æ®æ“ä½œï¼Œå®ç°å…·ä½“çš„ä¸šåŠ¡é€»è¾‘æµç¨‹</li>
<li><strong>APIå±‚</strong>Â ä¸“æ³¨äºHTTPè¯·æ±‚çš„æ¥æ”¶ä¸å“åº”ï¼Œä¿æŒè¾¹ç•Œçš„æ¸…æ™°æ€§</li>
</ul>
<p>è¿™ç§åˆ†å±‚è®¾è®¡ç¡®ä¿äº†å„å±‚çº§èŒè´£åˆ†ç¦»ï¼Œæ—¢æå‡äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ï¼Œä¹Ÿä¸ºåç»­åŠŸèƒ½æ‰©å±•å¥ å®šäº†è‰¯å¥½åŸºç¡€ã€‚</p>
<h5 data-id="heading-16">1.3.3 Repositoryå±‚ &amp;&amp; å’ŒServiceå±‚é€»è¾‘å®ç°</h5>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// src/database/repositories/monitor_repo.rs</span>
<span class="hljs-keyword">use</span> crate::database::connect_db::{SqlitePool, get_connection};
<span class="hljs-keyword">use</span> crate::database::models::{MonitorConfigModel};
<span class="hljs-keyword">use</span> crate::database::schema::{monitor_config};

<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">MonitorRepository</span> {
    pool: Arc&lt;SqlitePool&gt;,
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">MonitorRepository</span>{
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>(pool: Arc&lt;SqlitePool&gt;) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        MonitorRepository { pool }
    }
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_monitors_by_enabled</span>(&amp;<span class="hljs-keyword">self</span>, enabled_flag:<span class="hljs-type">bool</span>, page: <span class="hljs-type">i64</span>, page_size: <span class="hljs-type">i64</span>)<span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(<span class="hljs-type">Vec</span>&lt;MonitorConfigModel&gt;, <span class="hljs-type">i64</span>), diesel::result::Error&gt; {
        <span class="hljs-comment">// è·å–å½“å‰å¯¹æ•°æ®åº“çš„é“¾æ¥</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">conn</span> = <span class="hljs-title function_ invoke__">get_connection</span>(&amp;<span class="hljs-keyword">self</span>.pool);
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">page_no</span> = page.<span class="hljs-title function_ invoke__">max</span>(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">page_sz</span> = page_size.<span class="hljs-title function_ invoke__">max</span>(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">offset</span> = (page_no -<span class="hljs-number">1</span>) * page_sz;
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">enabled_v</span> = <span class="hljs-keyword">if</span> enabled_flag {<span class="hljs-number">1</span>} <span class="hljs-keyword">else</span> {<span class="hljs-number">0</span>};

        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">total</span>:<span class="hljs-type">i64</span> = monitor_config::table
            .<span class="hljs-title function_ invoke__">filter</span>(monitor_config::enabled.<span class="hljs-title function_ invoke__">eq</span>(enabled_v))
            .<span class="hljs-title function_ invoke__">count</span>()
            .<span class="hljs-title function_ invoke__">get_result</span>(&amp;<span class="hljs-keyword">mut</span> conn)?;
        <span class="hljs-comment">// æ‰§è¡Œæ•°æ®åº“æ“ä½œ</span>
       <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">results</span> =  monitor_config::table
            .<span class="hljs-title function_ invoke__">filter</span>(monitor_config::enabled.<span class="hljs-title function_ invoke__">eq</span>(enabled_v))
            .<span class="hljs-title function_ invoke__">order</span>(monitor_config::id.<span class="hljs-title function_ invoke__">desc</span>())
            .<span class="hljs-title function_ invoke__">limit</span>(page_sz)
            .<span class="hljs-title function_ invoke__">offset</span>(offset)
            .load::&lt;MonitorConfigModel&gt;(&amp;<span class="hljs-keyword">mut</span> conn)?;
        <span class="hljs-title function_ invoke__">Ok</span>((results, total))
    }
}
</code></pre>
<p>æˆ‘ä»¬å†çœ‹ä¸‹Serviceå±‚ä¸­çš„é€»è¾‘ï¼Œå…¶å®æ˜¯ç±»ä¼¼çš„ç»“æ„ï¼Œåªä¸è¿‡æ˜¯æä¾›ä¸åŒçš„å®ç°å¯¹è±¡è€Œå·²</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// src/database/services/monitor_service.rs</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">MonitorService</span> {
    <span class="hljs-comment">// å­˜å‚¨å¯¹Repoå±‚å¯¹è±¡çš„å¼•ç”¨</span>
    repo: Arc&lt;MonitorRepository&gt;,
}
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">MonitorService</span> {
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>(repo: MonitorRepository) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        MonitorService {
            repo: Arc::<span class="hljs-title function_ invoke__">new</span>(repo),

        }
    }
    <span class="hljs-comment">// è¿™é‡Œçš„è¯ æˆ‘ä»¬æ²¡æœ‰ç‰¹æ®Šçš„é€»è¾‘ æ‰€ä»¥æ¯”è¾ƒç®€å•</span>
    <span class="hljs-comment">// å¦‚æœåç»­ æˆ‘ä»¬æŠŠå‘Šè­¦è§„åˆ™ã€å‘Šè­¦é…ç½®å•ç‹¬æ‹å‡ºæ¥çš„è¯ å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘å°±éœ€è¦åœ¨è¿™é‡Œè¿›è¡Œå¤„ç†</span>
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_monitors_by_enabled</span>(&amp;<span class="hljs-keyword">self</span>, enabled_flag:<span class="hljs-type">bool</span>, page: <span class="hljs-type">i64</span>, page_size: <span class="hljs-type">i64</span>)<span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(<span class="hljs-type">Vec</span>&lt;MonitorConfigModel&gt;, <span class="hljs-type">i64</span>), diesel::result::Error&gt; {
        <span class="hljs-keyword">self</span>.repo.<span class="hljs-title function_ invoke__">get_monitors_by_enabled</span>(enabled_flag, page, page_size)
    }
}
</code></pre>
<p>å…¶ä»–çš„è¡¨<code>check_resul</code>tçš„é€»è¾‘åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å°±ä¸å†è¿™é‡Œå†™äº†ã€‚è¿™æ ·çš„çš„è¯æˆ‘ä»¬å°±å·²ç»å®ç°äº†<code>Repository</code>å±‚ä»¥åŠ<code>Service</code>å±‚çš„é€»è¾‘äº†ï¼Œä¸‹é¢çš„è¯æˆ‘ä»¬æ¥çœ‹ä¸‹æœ€ä¸Šå±‚ - <code>APIå±‚</code>çš„å®ç°</p>
<h5 data-id="heading-17">1.3.4 APIå±‚çš„è®¾è®¡ä¸å®ç°</h5>
<p>æˆ‘ä»¬å°†é€šè¿‡Â <code>actix_web</code>Â æ¡†æ¶æ¥å®ç°é¢å‘ Web å‰ç«¯çš„ API æ¥å£å±‚ã€‚å…·ä½“å®æ–½åˆ†ä¸ºä¸¤æ­¥ï¼šé¦–å…ˆå®Œæˆè·¯ç”±çš„ç³»ç»ŸåŒ–é…ç½®ï¼Œæ˜ç¡®å„ç«¯ç‚¹ä¸å¤„ç†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼›éšååŸºäºæ­¤å¯åŠ¨å¹¶è¿è¡Œç›¸åº”çš„ HTTP æœåŠ¡ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> actix_web::web;
<span class="hljs-comment">// å®šä¹‰æœ€åŸºç¡€çš„å¢åˆ æ”¹æŸ¥çš„é€»è¾‘å³å¯</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">config</span>(cfg: &amp;<span class="hljs-keyword">mut</span> web::ServiceConfig) {
    <span class="hljs-built_in">print!</span>(<span class="hljs-string">"é…ç½® API è·¯ç”±..."</span>);
    cfg.<span class="hljs-title function_ invoke__">service</span>(
        web::<span class="hljs-title function_ invoke__">scope</span>(<span class="hljs-string">"/api"</span>)
            .<span class="hljs-title function_ invoke__">route</span>(<span class="hljs-string">"/monitors"</span>, web::<span class="hljs-title function_ invoke__">get</span>().<span class="hljs-title function_ invoke__">to</span>(crate::api::handlers::monitor_handlers::get_all_monitors))
            .<span class="hljs-title function_ invoke__">route</span>(<span class="hljs-string">"/monitors"</span>, web::<span class="hljs-title function_ invoke__">post</span>().<span class="hljs-title function_ invoke__">to</span>(crate::api::handlers::monitor_handlers::insert_monitors))
            .<span class="hljs-title function_ invoke__">route</span>(<span class="hljs-string">"/monitors/{id}"</span>, web::<span class="hljs-title function_ invoke__">get</span>().<span class="hljs-title function_ invoke__">to</span>(crate::api::handlers::monitor_handlers::get_monitors_by_id))
            .<span class="hljs-title function_ invoke__">route</span>(<span class="hljs-string">"/monitors/{id}"</span>, web::<span class="hljs-title function_ invoke__">put</span>().<span class="hljs-title function_ invoke__">to</span>(crate::api::handlers::monitor_handlers::update_monitors_by_id))
            .<span class="hljs-title function_ invoke__">route</span>(<span class="hljs-string">"/monitors/{id}"</span>, web::<span class="hljs-title function_ invoke__">delete</span>().<span class="hljs-title function_ invoke__">to</span>(crate::api::handlers::monitor_handlers::delete_monitors_by_id))
            .<span class="hljs-title function_ invoke__">route</span>(<span class="hljs-string">"/monitors/{id}/results"</span>, web::<span class="hljs-title function_ invoke__">get</span>().<span class="hljs-title function_ invoke__">to</span>(crate::api::handlers::check_result_handlers::get_check_results_by_monitor_id))
            .<span class="hljs-title function_ invoke__">route</span>(<span class="hljs-string">"/"</span>, web::<span class="hljs-title function_ invoke__">get</span>().<span class="hljs-title function_ invoke__">to</span>(crate::api::handlers::default_handler))
    );
}
</code></pre>
<p>æˆ‘ä»¬å®šä¹‰å¥½äº†è·¯ç”±æ–‡ä»¶ä¹‹åï¼Œè¿˜éœ€è¦å®ç°å…·ä½“çš„æ¯ä¸ªè·¯ç”±çš„å¤„ç†å‡½æ•°ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// src/api/handles/monitor_handlers.rs</span>

<span class="hljs-comment">// å®šä¹‰ç»Ÿä¸€çš„è¿”å›æ•°æ®ç»“æ„</span>
<span class="hljs-meta">#[derive(Debug, Serialize, Deserialize)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">DefaultResponseObj</span>&lt;T&gt; {
    code: <span class="hljs-type">usize</span>,
    message: <span class="hljs-type">String</span>,
    data: T,
}
<span class="hljs-meta">#[derive(Debug, Deserialize)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">PaginationParams</span> {
    <span class="hljs-keyword">pub</span> page_no: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">i64</span>&gt;,
    <span class="hljs-keyword">pub</span> page_size: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">i64</span>&gt;,
}
<span class="hljs-comment">// è·å–å…¨éƒ¨çš„ç›‘æ§é…ç½®å¤„ç†å‡½æ•°</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">async</span>  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_all_monitors</span>(
    monitor_service: web::Data&lt;MonitorService&gt;, <span class="hljs-comment">// è®¾ç½®ç»Ÿä¸€çš„ä¸šåŠ¡å±‚çš„å¯¹è±¡ï¼Œè¿›è¡Œç›¸å…³çš„æ•°æ®æ“ä½œ</span>
    query: web::Query&lt;PaginationParams&gt;, <span class="hljs-comment">// åˆ†é¡µå‚æ•°å¯¹è±¡</span>
) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;HttpResponse, actix_web::Error&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">no</span> = query.page_no.<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-number">1</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">size</span> = query.page_size.<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-number">20</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">monitors</span>  = monitor_service.<span class="hljs-title function_ invoke__">get_monitors_by_enabled</span>(<span class="hljs-literal">true</span>,no,size)
        .<span class="hljs-title function_ invoke__">map_err</span>(|e| {
            actix_web::error::<span class="hljs-title function_ invoke__">ErrorInternalServerError</span>(<span class="hljs-built_in">format!</span>(<span class="hljs-string">"Failed to get monitors: {}"</span>, e))
        })?;
    <span class="hljs-title function_ invoke__">Ok</span>(HttpResponse::<span class="hljs-title function_ invoke__">Ok</span>().<span class="hljs-title function_ invoke__">json</span>(DefaultResponseObj {
        code: <span class="hljs-number">200</span>,
        message: <span class="hljs-string">"OK"</span>.<span class="hljs-title function_ invoke__">to_string</span>(),
        data: monitors.<span class="hljs-number">0</span>,
    }))
}
<span class="hljs-comment">// å…¶ä»–çš„handlerå‡½æ•°ä¹Ÿæ˜¯ç±»ä¼¼çš„å°±ä¸åœ¨è¿™é‡Œä¸€ä¸€å±•ç¤ºäº†ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œè¡¥å……</span>
...

</code></pre>
<h3 data-id="heading-18">2.å‘Šè­¦é…ç½®</h3>
<p>æˆ‘ä»¬çš„å‘Šè­¦å¼•æ“å°†ä¼˜å…ˆå®ç°é£ä¹¦æœºå™¨äººæ¶ˆæ¯é€šçŸ¥åŠŸèƒ½ï¼Œå…¶ä»–å‘Šè­¦æ¸ é“çš„å®ç°é€»è¾‘ä¸æ­¤ç±»ä¼¼ã€‚åœ¨è§„åˆ™è®¾è®¡æ–¹é¢ï¼Œç›®å‰ä¸»è¦æ”¯æŒé’ˆå¯¹æ¥å£è¿”å›çŠ¶æ€ç Â <code>RESPONSE_CODE</code>Â çš„ä¸‰ç§åŒ¹é…è§„åˆ™ï¼š</p>
<ul>
<li><strong>contains</strong>ï¼ˆåŒ…å«ï¼‰</li>
<li><strong>no_contains</strong>ï¼ˆä¸åŒ…å«ï¼‰</li>
<li><strong>regex</strong>ï¼ˆæ­£åˆ™åŒ¹é…ï¼‰</li>
</ul>
<p>ä¸ºç®€åŒ–å®ç°ï¼Œæˆ‘ä»¬å°†å‘Šè­¦è§„åˆ™é…ç½®ä»¥åºåˆ—åŒ–å½¢å¼å­˜å‚¨åœ¨Â <code>monitor_config</code>Â è¡¨çš„Â <code>config_json</code>Â å­—æ®µä¸­ã€‚å°½ç®¡æ›´è§„èŒƒçš„åšæ³•æ˜¯å°†å‘Šè­¦è§„åˆ™ç‹¬ç«‹ä¸ºå•ç‹¬çš„æ•°æ®è¡¨ï¼Œä½†å½“å‰æ–¹æ¡ˆé€šè¿‡ç›´æ¥åºåˆ—åŒ–é…ç½®å†…å®¹ï¼Œå·²èƒ½æ»¡è¶³åŸºç¡€éœ€æ±‚ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æ‰€å®šä¹‰çš„å‘Šè­¦è§„åˆ™é…ç½®çš„æ•°æ®ç»“æ„ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// å…¶å®å°±æ˜¯æˆ‘ä»¬ä¸Šä¸€ç¯‡ä¸­ä½¿ç”¨åˆ°çš„monitor_list.jsonä¸­çš„æ•°æ®ç»“æ„ åªä¸è¿‡æ˜¯æˆ‘ä»¬æ¥å¢åŠ äº†å‡ ä¸ªå­—æ®µè€Œå·²</span>
<span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://www.google.com"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"monitor_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"HTTP"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"method"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"GET"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"params"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"headers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"content_evaluation_rules"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"rule_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"contains"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"rule_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Google"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"rule_description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ˜¯å¦åŒ…å«è‡ªå®šä¹‰å†…å®¹"</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"alert_rules"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// å®šä¹‰ç›‘æ§è§„åˆ™é…ç½®é¡¹ </span>
            <span class="hljs-attr">"notify_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"FEISHU"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å‘Šè­¦ç±»å‹ FEISHUç­‰</span>
            <span class="hljs-attr">"notify_config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// é£ä¹¦å‘Šè­¦çš„ç›¸å…³é…ç½®</span>
                <span class="hljs-attr">"webhook_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://open.feishu.cn/open-apis/you/to/path"</span> 
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"rules"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-comment">// å‘Šè­¦è§„åˆ™é…ç½® ç›®å‰åªæ”¯æŒ å“åº”ç  å‘Šè­¦</span>
                <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"rule_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"RESPONSE_CODE"</span><span class="hljs-punctuation">,</span> 
                    <span class="hljs-attr">"condition"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// å‘Šè­¦æ¡ä»¶é…ç½®</span>
                        <span class="hljs-attr">"no_contains"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">200</span><span class="hljs-punctuation">,</span> <span class="hljs-number">301</span><span class="hljs-punctuation">,</span> <span class="hljs-number">302</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// ä¸åŒ…å«å“ªäº›codeå°±å‘Šè­¦</span>
                        <span class="hljs-attr">"contains"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// åŒ…å«å“ªäº›codeå°±å‘Šè­¦</span>
                        <span class="hljs-attr">"regex"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span> <span class="hljs-comment">// æ­£åˆ™åŒ¹é…å“ªäº›codeå°±å‘Šè­¦</span>
                    <span class="hljs-punctuation">}</span>
                <span class="hljs-punctuation">}</span>
            <span class="hljs-punctuation">]</span>

        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"timeout"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5000</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

</code></pre>
<p>å®šä¹‰ä¸€ä¸ªå‘Šè­¦å¼•æ“ï¼Œæä¾›ä¸€ä¸ªcheckæ–¹æ³•ï¼Œè·Ÿæˆ‘ä»¬çš„ç›‘æ§å¼•æ“ç±»ä¼¼çš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// src/alerts/mod.rs</span>

<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">AlertsEngine</span>{
    notify: NotifyEngine, <span class="hljs-comment">//å‘Šè­¦å¼•æ“ </span>
    alert_rules: AlertVerificationRules,
}
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">AlertsEngine</span> {
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>(alert_rule: AlertVerificationRules) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        AlertsEngine {
            alert_rules: alert_rule.<span class="hljs-title function_ invoke__">clone</span>(),
            notify: NotifyEngine::<span class="hljs-title function_ invoke__">new</span>(alert_rule.notify_type, alert_rule.notify_config),
        }
    }

    <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ·»åŠ ä¸€äº›æ–¹æ³•ï¼Œæ¯”å¦‚æ·»åŠ å‘Šè­¦è§„åˆ™ã€è§¦å‘å‘Šè­¦ç­‰</span>
    <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ª å‘Šè­¦è§„åˆ™checkäº‹ä»¶ å½“ç›‘æ§ç»“æœäº§ç”Ÿæ—¶ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œæ£€æŸ¥æ˜¯å¦éœ€è¦å‘Šè­¦é€šçŸ¥</span>
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">check</span>(&amp;<span class="hljs-keyword">self</span>,  check_result: CheckResult) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), <span class="hljs-type">String</span>&gt; {
        <span class="hljs-comment">// åªå¯¹æˆåŠŸçš„ç›‘æ§ç»“æœè¿›è¡Œå‘Šè­¦æ£€æŸ¥</span>
        <span class="hljs-keyword">if</span> !check_result.status{
            <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Ok</span>(());
        }
        <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ ¹æ®å…·ä½“çš„å‘Šè­¦è§„åˆ™è¿›è¡Œæ£€æŸ¥</span>
        <span class="hljs-keyword">match</span> check_result.monitor_type {
            MonitorType::Http =&gt; {
                <span class="hljs-comment">// è°ƒç”¨HTTPç›‘æ§çš„æ£€æŸ¥æ–¹æ³•</span>
                <span class="hljs-title function_ invoke__">Ok</span>(<span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">check_http</span>(check_result).<span class="hljs-keyword">await</span>)
            },
            _ =&gt; {
                <span class="hljs-comment">// å…¶ä»–ç›‘æ§ç±»å‹çš„æ£€æŸ¥æ–¹æ³•</span>

                <span class="hljs-title function_ invoke__">Ok</span>(())
            }
        }

    }

    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">check_http</span>(&amp;<span class="hljs-keyword">self</span>, check_result: CheckResult)  {
        <span class="hljs-comment">// è·å–å½“å‰config ä¸‹é¢çš„å…·ä½“çš„å‘Šè­¦è§„åˆ™</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">alerts_rules</span>= <span class="hljs-keyword">self</span>.alert_rules.rules.<span class="hljs-title function_ invoke__">clone</span>();
        <span class="hljs-keyword">if</span> alerts_rules.<span class="hljs-title function_ invoke__">is_empty</span>() {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-comment">// éå†è§„åˆ™åˆ—è¡¨ æ ¹æ®ä¸åŒçš„ç±»å‹ è¿›è¡Œä¸åŒçš„æé†’</span>
        <span class="hljs-keyword">for</span> <span class="hljs-variable">single_rule</span> <span class="hljs-keyword">in</span> alerts_rules.<span class="hljs-title function_ invoke__">iter</span>() {
            <span class="hljs-keyword">match</span> single_rule.rule_type {
                AlertRuleTypes::ResponseCode =&gt; {
                    <span class="hljs-comment">// æ£€æŸ¥å“åº”ç æ˜¯å¦ç¬¦åˆå‘Šè­¦æ¡ä»¶</span>
                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">CheckResultDetail</span>::<span class="hljs-title function_ invoke__">Http</span>(<span class="hljs-keyword">ref</span> http_result) = check_result.details {
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">NotifyCondition</span>{contains, no_contains, regex} = &amp;single_rule.condition;
                        <span class="hljs-keyword">if</span> contains.<span class="hljs-title function_ invoke__">contains</span>(&amp;http_result.basic_avaliable.res_status_code.<span class="hljs-title function_ invoke__">map</span>(|code| code <span class="hljs-keyword">as</span> <span class="hljs-type">u16</span>).<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-number">0</span>)) {
                            <span class="hljs-comment">// è§¦å‘å‘Šè­¦</span>
                            <span class="hljs-keyword">self</span>.notify.<span class="hljs-title function_ invoke__">send_alert_message</span>(<span class="hljs-built_in">format!</span>(<span class="hljs-string">"Response code {} triggered alert, in contains list: {:?}"</span>, http_result.basic_avaliable.res_status_code.<span class="hljs-title function_ invoke__">map</span>(|code| code <span class="hljs-keyword">as</span> <span class="hljs-type">u16</span>).<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-number">0</span>), contains)).<span class="hljs-keyword">await</span>;
                            <span class="hljs-keyword">return</span> ;
                        }
                        <span class="hljs-keyword">if</span> !no_contains.<span class="hljs-title function_ invoke__">contains</span>(&amp;http_result.basic_avaliable.res_status_code.<span class="hljs-title function_ invoke__">map</span>(|code| code <span class="hljs-keyword">as</span> <span class="hljs-type">u16</span>).<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-number">0</span>)) {
                            <span class="hljs-keyword">self</span>.notify.<span class="hljs-title function_ invoke__">send_alert_message</span>(<span class="hljs-built_in">format!</span>(<span class="hljs-string">"Response code {} triggered alert, not in no_contains list: {:?}"</span>, http_result.basic_avaliable.res_status_code.<span class="hljs-title function_ invoke__">map</span>(|code| code <span class="hljs-keyword">as</span> <span class="hljs-type">u16</span>).<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-number">0</span>), no_contains)).<span class="hljs-keyword">await</span>;
                            <span class="hljs-keyword">return</span> ;
                        }
                        <span class="hljs-comment">// æ­£åˆ™åŒ¹é…</span>
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">regex_r</span> = Regex::<span class="hljs-title function_ invoke__">new</span>(&amp;regex).<span class="hljs-title function_ invoke__">unwrap</span>();
                        <span class="hljs-comment">// åˆ¤æ–­ regex ä¸ä¸º â€œâ€</span>
                        <span class="hljs-keyword">if</span> regex.<span class="hljs-title function_ invoke__">len</span>() &gt; <span class="hljs-number">0</span> &amp;&amp; regex_r.<span class="hljs-title function_ invoke__">is_match</span>(&amp;http_result.basic_avaliable.res_status_code.<span class="hljs-title function_ invoke__">map</span>(|code| code.<span class="hljs-title function_ invoke__">to_string</span>()).<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-string">""</span>.<span class="hljs-title function_ invoke__">to_string</span>())) {
                            <span class="hljs-comment">// è§¦å‘å‘Šè­¦</span>
                           <span class="hljs-keyword">self</span>.notify.<span class="hljs-title function_ invoke__">send_alert_message</span>(<span class="hljs-built_in">format!</span>(<span class="hljs-string">"Response code {} triggered alert, regex matched: {:?}"</span>, http_result.basic_avaliable.res_status_code.<span class="hljs-title function_ invoke__">map</span>(|code| code <span class="hljs-keyword">as</span> <span class="hljs-type">u16</span>).<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-number">0</span>), regex)).<span class="hljs-keyword">await</span>;
                            <span class="hljs-keyword">return</span> ;
                        }
                    }
                    <span class="hljs-keyword">return</span>;
                },
                _ =&gt; {
                    <span class="hljs-comment">// å…¶ä»–è§„åˆ™ç±»å‹çš„æ£€æŸ¥æ–¹æ³•</span>

                }
            }

        }

    }
}
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">NotifyEngine</span>{
    <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ·»åŠ ä¸€äº›é…ç½®å‚æ•°ï¼Œæ¯”å¦‚é€šçŸ¥æ–¹å¼ã€æ¥æ”¶äººç­‰</span>
    notify_type: <span class="hljs-type">String</span>, <span class="hljs-comment">// é€šçŸ¥ç±»å‹ email sms webhook ç­‰</span>
    notify_config: NotifyConfig, <span class="hljs-comment">// é€šçŸ¥é…ç½®å†…å®¹ æ¯”å¦‚é‚®ç®±åœ°å€ ç”µè¯å·ç ç­‰</span>
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">NotifyEngine</span> {
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>(notify_type: <span class="hljs-type">String</span>, notify_config: NotifyConfig) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        NotifyEngine {
            notify_type,
            notify_config,
        }
    }

    <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ·»åŠ ä¸€äº›æ–¹æ³•ï¼Œæ¯”å¦‚å‘é€é€šçŸ¥ç­‰</span>
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">send_alert_message</span>(&amp;<span class="hljs-keyword">self</span>, message: <span class="hljs-type">String</span>) {
        <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ ¹æ®å…·ä½“çš„é€šçŸ¥æ–¹å¼è¿›è¡Œå‘é€</span>
        <span class="hljs-keyword">match</span> <span class="hljs-keyword">self</span>.notify_type.<span class="hljs-title function_ invoke__">as_str</span>() {
            <span class="hljs-string">"EMAIL"</span> =&gt; {
                <span class="hljs-comment">// å‘é€é‚®ä»¶é€šçŸ¥</span>
                <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Sending email alert..."</span>);
            },
            <span class="hljs-string">"SMS"</span> =&gt; {
                <span class="hljs-comment">// å‘é€çŸ­ä¿¡é€šçŸ¥</span>
                <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Sending SMS alert..."</span>);
            },
            <span class="hljs-string">"FEISHU"</span> =&gt; {
                <span class="hljs-comment">// å‘é€é£ä¹¦é€šçŸ¥</span>
                <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Sending Feishu alert... {}"</span>, <span class="hljs-keyword">self</span>.notify_config.webhook_url);

                <span class="hljs-comment">// å‘åŠ¨post è¯·æ±‚ åˆ° webhook_url</span>
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">response</span> = Client::<span class="hljs-title function_ invoke__">new</span>()
                    .<span class="hljs-title function_ invoke__">post</span>(<span class="hljs-keyword">self</span>.notify_config.webhook_url.<span class="hljs-title function_ invoke__">clone</span>())
                    .<span class="hljs-title function_ invoke__">json</span>(&amp;serde_json::json!({
                        <span class="hljs-string">"msg_type"</span>: <span class="hljs-string">"text"</span>,
                        <span class="hljs-string">"content"</span>: {
                            <span class="hljs-string">"text"</span>: message
                        }
                    }))
                    .<span class="hljs-title function_ invoke__">send</span>();
                <span class="hljs-keyword">match</span> response.<span class="hljs-keyword">await</span> {
                    <span class="hljs-title function_ invoke__">Ok</span>(resp) =&gt; {
                        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Feishu alert sent successfully: {:?}"</span>, resp);
                        <span class="hljs-keyword">match</span> resp.<span class="hljs-title function_ invoke__">text</span>().<span class="hljs-keyword">await</span> {
                            <span class="hljs-title function_ invoke__">Ok</span>(_) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Response text: FEISHU"</span> ),
                            <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Failed to get response text: {:?}"</span>, e),
                        }
                    },
                    <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; {
                        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Failed to send Feishu alert: {:?}"</span>, e);
                    }
                }
            },
            _ =&gt; {
                <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Unknown notify type"</span>);
            }
        }
    }
}
</code></pre>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ç›‘æ§ç³»ç»Ÿæ‰€æœ‰æ ¸å¿ƒæ¨¡å—çš„å®ç°ã€‚å°½ç®¡éƒ¨åˆ†æ¨¡å—åœ¨åŠŸèƒ½å’Œç»†èŠ‚ä¸Šä»è¾ƒä¸ºåŸºç¡€ï¼Œå¯èƒ½å­˜åœ¨è¿›ä¸€æ­¥å®Œå–„çš„ç©ºé—´ï¼Œä½†æ•´ä½“ç³»ç»Ÿå·²å½¢æˆåŠŸèƒ½é—­ç¯ï¼Œå…·å¤‡äº†å®Œæ•´çš„ç›‘æ§èƒ½åŠ›ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€åœ¨Â <code>main</code>Â å‡½æ•°ä¸­å°†å„ä¸ªæ¨¡å—æ•´åˆèµ·æ¥ï¼Œå¯åŠ¨æ•´ä¸ªç³»ç»Ÿå³å¯ã€‚</p>
<p>â€¦é•¿èˆ’ä¸€å£æ°”ï½ï½ï½</p>
<h3 data-id="heading-19">3.æ•´åˆ<code>main.rs</code>ä¸­çš„é€»è¾‘</h3>
<p>è¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ï½</p>
<pre><code class="hljs language-rust" lang="rust">src/main.rs
<span class="hljs-meta">#[tokio::main]</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() <span class="hljs-punctuation">-&gt;</span> std::io::<span class="hljs-type">Result</span>&lt;()&gt; {
    env_logger::<span class="hljs-title function_ invoke__">init</span>();
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ç½‘ç»œç›‘æ§å™¨ å¯åŠ¨..."</span>);
    <span class="hljs-comment">// åˆå§‹åŒ–æ•°æ®åº“ æä¾›é‡è¯•æ“ä½œ</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">pool</span> = <span class="hljs-keyword">match</span> connect_db::<span class="hljs-title function_ invoke__">establish_database_connection</span>().<span class="hljs-keyword">await</span> {
        <span class="hljs-title function_ invoke__">Ok</span>(p) =&gt; p,
        <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; {
            eprintln!(<span class="hljs-string">"Failed to establish database connection: {}"</span>, e);
            <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Err</span>(std::io::Error::<span class="hljs-title function_ invoke__">new</span>(std::io::ErrorKind::Other, <span class="hljs-string">"Database connection failed"</span>));
        }
    };
    <span class="hljs-comment">// åˆå§‹åŒ– ç›‘æ§é…ç½®è¡¨</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">monitor_repo</span>: repositories::monitor_repo::MonitorRepository = repositories::monitor_repo::MonitorRepository::<span class="hljs-title function_ invoke__">new</span>(Arc::<span class="hljs-title function_ invoke__">clone</span>(&amp;pool));
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">monitor_service</span> = services::monitor_service::MonitorService::<span class="hljs-title function_ invoke__">new</span>(monitor_repo);

    <span class="hljs-comment">// åˆå§‹åŒ– ç›‘æ§ç»“æœ</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">check_result_repo</span> = repositories::check_result_repo::CheckResultRepository::<span class="hljs-title function_ invoke__">new</span>(Arc::<span class="hljs-title function_ invoke__">clone</span>(&amp;pool));
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">check_result_service</span> = services::check_result_service::CheckResultService::<span class="hljs-title function_ invoke__">new</span>(check_result_repo);

    <span class="hljs-comment">// è¯»å–ç›‘æ§é…ç½®è¡¨çš„æ•°æ®</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">monitor_website_list</span> = (|| <span class="hljs-keyword">async</span> { monitor_service.<span class="hljs-title function_ invoke__">get_monitors_by_enabled</span>(<span class="hljs-literal">true</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1000</span>) })
    .<span class="hljs-title function_ invoke__">retry</span>(&amp;<span class="hljs-title function_ invoke__">default_retry_policy</span>())
    .<span class="hljs-title function_ invoke__">when</span>(|e| {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"è¯»å–ç›‘æ§é…ç½®è¡¨æ•°æ®å¤±è´¥: {}"</span>, e);
        <span class="hljs-literal">true</span>
    }).<span class="hljs-keyword">await</span>
    .<span class="hljs-title function_ invoke__">map_err</span>(|e| {
        eprintln!(<span class="hljs-string">"Failed to read monitor list after retries: {}"</span>, e);
        std::io::Error::<span class="hljs-title function_ invoke__">new</span>(std::io::ErrorKind::Other, <span class="hljs-string">"Read monitor list failed"</span>)
    })?;
    
    <span class="hljs-comment">// let monitor_website_list = read_json_file("monitor_list.json");</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">check_result_service_clone</span> = check_result_service.<span class="hljs-title function_ invoke__">clone</span>();
    tokio::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">move</span> {
        <span class="hljs-comment">//ä¸Šä¸€ç¯‡ä¸­çš„åˆ›å»ºç›¸å…³çš„è½®è¯¢ç›‘æ§å¼•æ“ è¿˜æ˜¯å•æ¬¡ç›‘æ§å¼•æ“</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">_</span> = <span class="hljs-title function_ invoke__">schedule_monitoring_task</span>(monitor_website_list.<span class="hljs-number">0</span>, check_result_service_clone).<span class="hljs-keyword">await</span>;
    });

    <span class="hljs-comment">// å¯åŠ¨ HTTPæœåŠ¡</span>
    <span class="hljs-built_in">print!</span>(<span class="hljs-string">"å¯åŠ¨ HTTPæœåŠ¡ åœ¨0.0.0.0:8080..."</span>);
    <span class="hljs-comment">// åˆ›å»ºHTTPæœåŠ¡ï¼Œæä¾›å¯¹åº”çš„æ¥å£ç»™ç”¨æˆ·</span>
    HttpServer::<span class="hljs-title function_ invoke__">new</span>( <span class="hljs-keyword">move</span> || {
        App::<span class="hljs-title function_ invoke__">new</span>()
            .<span class="hljs-title function_ invoke__">app_data</span>(web::Data::<span class="hljs-title function_ invoke__">new</span>(monitor_service.<span class="hljs-title function_ invoke__">clone</span>()))
            .<span class="hljs-title function_ invoke__">app_data</span>(web::Data::<span class="hljs-title function_ invoke__">new</span>(check_result_service.<span class="hljs-title function_ invoke__">clone</span>()))
            .<span class="hljs-title function_ invoke__">configure</span>(api::routes::config)
    })
    .<span class="hljs-title function_ invoke__">bind</span>(<span class="hljs-string">"127.0.0.1:8080"</span>)?
    .<span class="hljs-title function_ invoke__">run</span>()
    .<span class="hljs-keyword">await</span>
}

</code></pre>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>ç»è¿‡å„æ¨¡å—çš„é€æ­¥å®ç°ï¼Œæˆ‘ä»¬çš„ç›‘æ§ç³»ç»Ÿç°å·²å½¢æˆå®Œæ•´é—­ç¯ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹åŠŸèƒ½æ¨¡å—ï¼š</p>
<h4 data-id="heading-21">ğŸ”Â <strong>æ ¸å¿ƒç›‘æ§æ¨¡å—</strong></h4>
<ul>
<li><strong>å¤šåè®®æ”¯æŒ</strong>ï¼šå·²å®ç° HTTP/HTTPS ç›‘æ§ï¼Œæ”¯æŒçŠ¶æ€ç ã€å“åº”æ—¶é—´ç­‰å…³é”®æŒ‡æ ‡æ£€æµ‹</li>
<li><strong>å¯æ‰©å±•æ¶æ„</strong>ï¼šåŸºäºç­–ç•¥æ¨¡å¼è®¾è®¡ï¼Œé¢„ç•™ TCPã€DNSã€ICMP ç­‰ç›‘æ§ç±»å‹çš„æ¥å…¥èƒ½åŠ›</li>
<li><strong>å¼‚æ­¥æ‰§è¡Œå¼•æ“</strong>ï¼šé‡‡ç”¨å¼‚æ­¥ä»»åŠ¡è°ƒåº¦ï¼Œæ”¯æŒé«˜å¹¶å‘ç›‘æ§ä»»åŠ¡å¤„ç†</li>
</ul>
<h4 data-id="heading-22">âš™ï¸Â <strong>é…ç½®ç®¡ç†æ¨¡å—</strong></h4>
<ul>
<li><strong>é…ç½®æ–‡ä»¶è§£æ</strong>ï¼šæ”¯æŒä» JSON æ ¼å¼æ–‡ä»¶åŠ è½½ç›‘æ§ä»»åŠ¡é…ç½®</li>
<li><strong>åŠ¨æ€é…ç½®æ›´æ–°</strong>ï¼šç›‘æ§ç›®æ ‡ä¸è§„åˆ™å¯é€šè¿‡é…ç½®æ–‡ä»¶çµæ´»è°ƒæ•´</li>
<li><strong>æ ‡å‡†åŒ–é…ç½®ç»“æ„</strong>ï¼šç»Ÿä¸€é…ç½®æ ¼å¼ï¼Œä¾¿äºæ‰¹é‡ç®¡ç†ä¸ç»´æŠ¤</li>
</ul>
<h4 data-id="heading-23">ğŸ—„ï¸Â <strong>æ•°æ®æŒä¹…åŒ–æ¨¡å—</strong></h4>
<ul>
<li><strong>ç›‘æ§ç»“æœå­˜å‚¨</strong>ï¼šå°†æ¯æ¬¡æ£€æŸ¥ç»“æœæŒä¹…åŒ–è‡³ SQLite æ•°æ®åº“</li>
<li><strong>å†å²è®°å½•æŸ¥è¯¢</strong>ï¼šæ”¯æŒç›‘æ§å†å²æ•°æ®çš„æ£€ç´¢ä¸åˆ†æ</li>
<li><strong>æ•°æ®è¡¨ç»“æ„</strong>ï¼šåŒ…å«ç›‘æ§é…ç½®ã€ç»“æœè®°å½•ã€å‘Šè­¦è§„åˆ™ç­‰å¤šå¼ æ•°æ®è¡¨</li>
</ul>
<h4 data-id="heading-24">ğŸš¨Â <strong>å‘Šè­¦é€šçŸ¥æ¨¡å—</strong></h4>
<ul>
<li><strong>é£ä¹¦æœºå™¨äººé›†æˆ</strong>ï¼šå®ç°é£ä¹¦ç¾¤èŠå‘Šè­¦æ¶ˆæ¯æ¨é€</li>
<li><strong>å¤šæ¡ä»¶å‘Šè­¦è§„åˆ™</strong>ï¼šæ”¯æŒåŒ…å«ã€ä¸åŒ…å«ã€æ­£åˆ™åŒ¹é…ç­‰å¤šç§åŒ¹é…æ–¹å¼</li>
<li><strong>å‘Šè­¦äº‹ä»¶è®°å½•</strong>ï¼šå®Œæ•´è®°å½•å‘Šè­¦è§¦å‘è¿‡ç¨‹ï¼Œä¾¿äºè¿½æº¯ä¸åˆ†æ</li>
</ul>
<h4 data-id="heading-25">ğŸŒÂ <strong>API æœåŠ¡æ¨¡å—</strong></h4>
<ul>
<li><strong>RESTful API</strong>ï¼šåŸºäº actix-web æ¡†æ¶æä¾›æ ‡å‡†åŒ– Web æ¥å£</li>
<li><strong>æ•°æ®æŸ¥è¯¢æ¥å£</strong>ï¼šä¸ºå‰ç«¯ç•Œé¢æä¾›ç›‘æ§æ•°æ®æŸ¥è¯¢èƒ½åŠ›</li>
<li><strong>åˆ†å±‚æ¶æ„è®¾è®¡</strong>ï¼šé‡‡ç”¨ API-Service-Repository æ¸…æ™°åˆ†å±‚</li>
</ul>
<h4 data-id="heading-26">ğŸ”„Â <strong>è°ƒåº¦å¼•æ“æ¨¡å—</strong></h4>
<ul>
<li><strong>ä»»åŠ¡è°ƒåº¦å™¨</strong>ï¼šç»Ÿä¸€è°ƒåº¦å„ç±»ç›‘æ§ä»»åŠ¡çš„æ‰§è¡Œ</li>
<li><strong>è¿æ¥æ± ç®¡ç†</strong>ï¼šä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–èµ„æºåˆ©ç”¨</li>
<li><strong>å¤šçº¿ç¨‹å®‰å…¨</strong>ï¼šé€šè¿‡ Arc å®ç°å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å®‰å…¨å…±äº«</li>
</ul>
<h4 data-id="heading-27">ğŸ“ŠÂ <strong>åŸºç¡€åŠŸèƒ½é—­ç¯</strong></h4>
<ul>
<li><strong>å®Œæ•´ç›‘æ§æµç¨‹</strong>ï¼šä»é…ç½®åŠ è½½ â†’ ä»»åŠ¡è°ƒåº¦ â†’ ç›‘æ§æ‰§è¡Œ â†’ ç»“æœå­˜å‚¨ â†’ å‘Šè­¦åˆ¤æ–­ â†’ é€šçŸ¥å‘é€</li>
<li><strong>åŸºç¡€å¯è§†åŒ–æ”¯æŒ</strong>ï¼šé€šè¿‡ API å±‚ä¸ºå‰ç«¯ç•Œé¢æä¾›æ•°æ®æ”¯æ’‘</li>
<li><strong>ç³»ç»Ÿå¯è¿è¡Œ</strong>ï¼šæ‰€æœ‰æ¨¡å—å·²æ•´åˆï¼Œç³»ç»Ÿå¯æ­£å¸¸å¯åŠ¨å¹¶æ‰§è¡Œç›‘æ§ä»»åŠ¡</li>
</ul>
<h2 data-id="heading-28">è¿‡ç¨‹é—®é¢˜&amp;&amp;è§£å†³æ–¹æ¡ˆ</h2>
<ol>
<li>
<p><code>cargo install diesel_cli --no-default-features --features sqlite </code>ï¼Œä¸­çš„ä¸¤ä¸ªå‚æ•°ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼Ÿ<br/>
ç­”ï¼š <code>--no-default-features</code>è¿™ä¸ªå‚æ•°è¡¨ç¤º<strong>ä¸å®‰è£…é»˜è®¤ç‰¹æ€§</strong>ã€‚<code>diesel_cli</code>Â é»˜è®¤ä¼šåŒ…å«å¯¹å¤šç§æ•°æ®åº“çš„æ”¯æŒï¼š <code>PostgreSQL</code>/<code>MySQL</code>/<code>SQLite</code>  å®‰è£…æ‰€æœ‰æ•°æ®åº“æ”¯æŒä¼šå¢åŠ ç¼–è¯‘æ—¶é—´å’Œä¾èµ–é¡¹æ•°é‡ã€‚é€šè¿‡ä½¿ç”¨Â <code>--no-default-features</code>ï¼Œæˆ‘ä»¬åªå®‰è£…æ˜ç¡®æŒ‡å®šçš„ç‰¹æ€§ï¼Œé¿å…ä¸å¿…è¦çš„ä¾èµ–ã€‚<br/>
<code>--features sqlite</code>è¿™ä¸ªå‚æ•°è¡¨ç¤º<strong>å¯ç”¨ SQLite ç‰¹æ€§</strong>ã€‚å®ƒå‘Šè¯‰ Cargo åœ¨ç¼–è¯‘Â <code>diesel_cli</code>Â æ—¶åªåŒ…å«å¯¹ SQLite æ•°æ®åº“çš„æ”¯æŒã€‚</p>
</li>
<li>
<p>æ•°æ®<code>Schema </code>è¦è·Ÿ<code>Models</code>ç»“æ„ä½“ä¸€ä¸€å¯¹åº”ï¼ŒåŒ…æ‹¬æ˜¯å¦å¯ä¸ºç©ºã€æ•°æ®ç±»å‹ç­‰ç­‰ï¼Œå¦åˆ™å°†æ— æ³•è¿›è¡Œèµ‹å€¼æ“ä½œ</p>
</li>
<li>
<p><code>Arc</code>Â æ˜¯ Rust æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆç±»å‹ï¼Œå…¨ç§°æ˜¯ "<code>Atomically Reference Counted</code>"ï¼ˆåŸå­å¼•ç”¨è®¡æ•°ï¼‰ã€‚å®ƒç”¨äºåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å®‰å…¨åœ°å…±äº«æ•°æ®ã€‚</p>
</li>
</ol>
<h2 data-id="heading-29">å†™åœ¨æœ€å</h2>
<p>ä»ä¸€è¡Œä»£ç åˆ°ä¸€ä¸ªç³»ç»Ÿï¼Œè¿™åœºâ€œå¡«ç©ºâ€ä¹‹æ—…çš„ç²¾å½©ï¼Œè¿œéä¸‰ç¯‡æ–‡ç« æ‰€èƒ½å°½è¿°ã€‚æ„¿ä½ æˆ‘å§‹ç»ˆäº²æ‰‹æ¢ç´¢ï¼Œæ–¹çŸ¥å‰è·¯åˆ«æœ‰æ´å¤©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ŠFlutterå…¨æ ˆå¼€å‘å®æˆ˜æŒ‡å—ï¼šä»é›¶åˆ°é«˜çº§ã€‹- 18 -è‡ªå®šä¹‰ç»˜åˆ¶ä¸ç”»å¸ƒ]]></title>    <link>https://juejin.cn/post/7576479344038641716</link>    <guid>https://juejin.cn/post/7576479344038641716</guid>    <pubDate>2025-11-25T09:43:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576479344038641716" data-draft-id="7576219879680540707" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ŠFlutterå…¨æ ˆå¼€å‘å®æˆ˜æŒ‡å—ï¼šä»é›¶åˆ°é«˜çº§ã€‹- 18 -è‡ªå®šä¹‰ç»˜åˆ¶ä¸ç”»å¸ƒ"/> <meta itemprop="keywords" content="Flutter,iOS,Android"/> <meta itemprop="datePublished" content="2025-11-25T09:43:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QuantumLeapä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/1767603104125197"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ŠFlutterå…¨æ ˆå¼€å‘å®æˆ˜æŒ‡å—ï¼šä»é›¶åˆ°é«˜çº§ã€‹- 18 -è‡ªå®šä¹‰ç»˜åˆ¶ä¸ç”»å¸ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1767603104125197/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QuantumLeapä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:43:43.000Z" title="Tue Nov 25 2025 09:43:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<blockquote>
<p>ä¸çŸ¥é“å¤§å®¶æ˜¯å¦æ›¾æœ‰è¿‡è¿™æ ·çš„å›°æ‰°ï¼šUIè®¾è®¡ç¨¿é‡Œå‡ºäº†ä¸€ä¸ªç‰¹åˆ«ç‚«é…·çš„è¿›åº¦æ¡ï¼Œç”¨ç°æœ‰ç»„ä»¶æ€ä¹ˆéƒ½æ‹¼ä¸å‡ºæ¥ï¼Ÿäº§å“ç»ç†åˆè¦æ±‚å¼€å‘ä¸€ä¸ªå¤æ‚çš„åŠ¨æ€å‡ ä½•å›¾å½¢èƒŒæ™¯ï¼Ÿæˆ–è€…éœ€è¦å®ç°ä¸€ä¸ªç”»æ¿åŠŸèƒ½ç­‰ç­‰ã€‚å½“ä½ é‡åˆ°è¿™äº›æƒ…å†µæ—¶ï¼Œåˆ«æ€¥ï¼è¿™äº›å¤æ‚æ•ˆæœéƒ½å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ç»˜åˆ¶æ¥å®ç°ï¼Œä»Šå¤©çš„å†…å®¹å¸¦ä½ æ·±å…¥ç†è§£è¿™äº›å¤æ‚æ•ˆæœçš„èƒŒååŸç†ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c068b99d8219452eb3fbb3f22a258ca9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUXVhbnR1bUxlYXDkuLY=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668623&amp;x-signature=xiPXOu4nFPtEKI%2FxGxDlcOhNqgs%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-1">ä¸€ã€ç»˜åˆ¶ç³»ç»Ÿçš„åº•å±‚æ¶æ„</h3>
<h4 data-id="heading-2">1.1 Flutterç»˜åˆ¶æ•´ä½“æ¶æ„</h4>
<p>åœ¨æ·±å…¥è‡ªå®šä¹‰ç»˜åˆ¶ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£Flutterç»˜åˆ¶ç³»ç»Ÿçš„æ•´ä½“æ¶æ„ã€‚è¿™ä¸ä»…ä»…æ˜¯APIè°ƒç”¨ï¼Œæ›´æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ¸²æŸ“ç®¡çº¿ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[Widget Tree] --&gt; B[RenderObject Tree]
    B --&gt; C[Layout Phase]
    C --&gt; D[Paint Phase]
    D --&gt; E[Canvas Operations]
    E --&gt; F[Skia Engine]
    F --&gt; G[GPU]
    G --&gt; H[Screen Display]
    
    subgraph "Flutter Framework"
        A
        B
        C
        D
        E
    end
    
    subgraph "Embedder"
        F
        G
        H
    end
</code></pre>
<h4 data-id="heading-3">1.2 æ¸²æŸ“ç®¡çº¿è¯¦ç»†å·¥ä½œæµç¨‹</h4>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªè¯¦ç»†çš„åºåˆ—å›¾æ¥è¾…åŠ©ç†è§£æ•´ä¸ªç»˜åˆ¶è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant W as Widget
    participant R as RenderObject
    participant P as PaintingContext
    participant C as Canvas
    participant S as Skia
    participant G as GPU

    W-&gt;&gt;R: createRenderObject()
    R-&gt;&gt;R: layout()
    R-&gt;&gt;P: paint()
    P-&gt;&gt;C: save layer
    C-&gt;&gt;S: draw calls
    S-&gt;&gt;G: OpenGL/Vulkan
    G-&gt;&gt;G: rasterization
    G-&gt;&gt;G: frame buffer
    G-&gt;&gt;Screen: display frame
</code></pre>
<h3 data-id="heading-4">äºŒã€CustomPaintä¸Canvasçš„åŸç†</h3>
<h4 data-id="heading-5">2.1 CustomPaintåœ¨æ¸²æŸ“æ ‘ä¸­çš„ä½ç½®</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// CustomPaintçš„å†…éƒ¨ç»“æ„</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomPaint</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SingleChildRenderObjectWidget</span> </span>{
  <span class="hljs-keyword">final</span> CustomPainter? painter;
  <span class="hljs-keyword">final</span> CustomPainter? foregroundPainter;
  
  <span class="hljs-meta">@override</span>
  RenderCustomPaint createRenderObject(BuildContext context) {
    <span class="hljs-keyword">return</span> RenderCustomPaint(
      painter: painter,
      foregroundPainter: foregroundPainter,
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RenderCustomPaint</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">RenderProxyBox</span> </span>{
  CustomPainter? _painter;
  CustomPainter? _foregroundPainter;
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> paint(PaintingContext context, Offset offset) {
    <span class="hljs-comment">// 1. å…ˆç»˜åˆ¶èƒŒæ™¯painter</span>
    <span class="hljs-keyword">if</span> (_painter != <span class="hljs-keyword">null</span>) {
      _paintWithPainter(context.canvas, offset, _painter!);
    }
    
    <span class="hljs-comment">// 2. ç»˜åˆ¶å­èŠ‚ç‚¹</span>
    <span class="hljs-keyword">super</span>.paint(context, offset);
    
    <span class="hljs-comment">// 3. æœ€åç»˜åˆ¶å‰æ™¯painter  </span>
    <span class="hljs-keyword">if</span> (_foregroundPainter != <span class="hljs-keyword">null</span>) {
      _paintWithPainter(context.canvas, offset, _foregroundPainter!);
    }
  }
}
</code></pre>
<h4 data-id="heading-6">2.2 Canvasçš„åº•å±‚å®ç°æœºåˆ¶</h4>
<p>Canvaså®é™…ä¸Šæ›´åƒä¸€ä¸ªå‘½ä»¤å½•åˆ¶å™¨ï¼Œå®ƒå¹¶ä¸ç«‹å³æ‰§è¡Œç»˜åˆ¶æ“ä½œï¼Œè€Œæ˜¯è®°å½•æ‰€æœ‰çš„ç»˜åˆ¶å‘½ä»¤ï¼Œåœ¨é€‚å½“çš„æ—¶å€™æ‰¹é‡æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A1[drawCircle] --&gt; B[Canvas&lt;br/&gt;å‘½ä»¤ç¼“å†²åŒº]
    A2[drawPath] --&gt; B
    A3[drawRect] --&gt; B
    A4[drawText] --&gt; B
    
    B --&gt; C[SkPicture&lt;br/&gt;æŒä¹…åŒ–å­˜å‚¨]
    
    C --&gt; D1[SkCanvas&lt;br/&gt;è½¯ä»¶æ¸²æŸ“]
    C --&gt; D2[GPU&lt;br/&gt;ç¡¬ä»¶æ¸²æŸ“]
    
    D1 --&gt; E[CPUæ¸²æŸ“ç»“æœ]
    D2 --&gt; F[GPUæ¸²æŸ“ç»“æœ]
    
    E --&gt; G[å±å¹•è¾“å‡º]
    F --&gt; G
    
    subgraph API_LAYER [Canvas API]
        A1
        A2
        A3
        A4
    end
    
    subgraph RECORD_LAYER [å½•åˆ¶å±‚]
        B
        C
    end
    
    subgraph RENDER_LAYER [æ¸²æŸ“å±‚]
        D1
        D2
    end
</code></pre>
<p><strong>Canvasçš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// Canvaså†…éƒ¨ç»“æ„</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Canvas</span> </span>{
  <span class="hljs-keyword">final</span> SkCanvas _skCanvas;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;SaveRecord&gt; _saveStack = [];
  
  <span class="hljs-comment">// SkCanvasè´Ÿè´£æ‰€æœ‰çš„ç»˜åˆ¶æ“ä½œ</span>
  <span class="hljs-keyword">void</span> drawCircle(Offset center, <span class="hljs-built_in">double</span> radius, Paint paint) {
    _skCanvas.drawCircle(
      center.dx, center.dy, radius, 
      paint._toSkPaint()  <span class="hljs-comment">// å°†Dartçš„Paintè½¬æ¢ä¸ºSkiaçš„SkPaint</span>
    );
  }
}
</code></pre>
<h3 data-id="heading-7">ä¸‰ã€RenderObjectä¸ç»˜åˆ¶çš„å…³ç³»</h3>
<h4 data-id="heading-8">3.1 æ¸²æŸ“æ ‘çš„ç»˜åˆ¶æµç¨‹</h4>
<p>æ¯ä¸ªRenderObjectéƒ½æœ‰æœºä¼šå‚ä¸ç»˜åˆ¶è¿‡ç¨‹ï¼Œç†è§£è¿™ä¸ªè¿‡ç¨‹å¯¹æ€§èƒ½ä¼˜åŒ–è‡³å…³é‡è¦ã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RenderObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractNode</span> </span>{
  <span class="hljs-keyword">void</span> paint(PaintingContext context, Offset offset) {
    <span class="hljs-comment">// é»˜è®¤å®ç°ï¼šå¦‚æœæœ‰å­èŠ‚ç‚¹å°±ç»˜åˆ¶å­èŠ‚ç‚¹</span>
    <span class="hljs-comment">// è‡ªå®šä¹‰RenderObjectå¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•</span>
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PaintingContext</span> </span>{
  <span class="hljs-keyword">final</span> ContainerLayer _containerLayer;
  <span class="hljs-keyword">final</span> Canvas _canvas;
  
  <span class="hljs-keyword">void</span> paintChild(RenderObject child, Offset offset) {
    <span class="hljs-comment">// é€’å½’</span>
    child._paintWithContext(<span class="hljs-keyword">this</span>, offset);
  }
}
</code></pre>
<h4 data-id="heading-9">3.2 å›¾å±‚åˆæˆåŸç†</h4>
<p>Flutterä½¿ç”¨<strong>å›¾å±‚åˆæˆ</strong>æŠ€æœ¯æ¥æé«˜æ¸²æŸ“æ€§èƒ½ã€‚ç†è§£å›¾å±‚å¯¹äºå¤„ç†å¤æ‚ç»˜åˆ¶åœºæ™¯éå¸¸é‡è¦ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[Root Layer] --&gt; B[Transform Layer]
    B --&gt; C[Opacity Layer]
    C --&gt; D[Layer 1]
    C --&gt; E[Layer 2]
    
    subgraph "å›¾å±‚æ ‘ç»“æ„"
        B
        C
        D
        E
    end
</code></pre>
<p><strong>å›¾å±‚çš„é‡è¦æ€§ï¼š</strong></p>
<ul>
<li>ç‹¬ç«‹çš„ç»˜åˆ¶æ“ä½œè¢«è®°å½•åœ¨ä¸åŒçš„PictureLayerä¸­</li>
<li>å½“åªæœ‰éƒ¨åˆ†å†…å®¹å˜åŒ–æ—¶ï¼Œåªéœ€é‡ç»˜å¯¹åº”çš„å›¾å±‚</li>
<li>ç¡¬ä»¶åˆæˆå¯ä»¥é«˜æ•ˆåœ°ç»„åˆè¿™äº›å›¾å±‚</li>
</ul>
<h3 data-id="heading-10">å››ã€Paintå¯¹è±¡çš„å†…éƒ¨æœºåˆ¶</h3>
<h4 data-id="heading-11">4.1 Paintçš„Skiaåº•å±‚å¯¹åº”</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Paint</span> </span>{
  Color? color;
  PaintingStyle? style;
  <span class="hljs-built_in">double?</span> strokeWidth;
  BlendMode? blendMode;
  Shader? shader;
  MaskFilter? maskFilter;
  ColorFilter? colorFilter;
  ImageFilter? imageFilter;
  
  <span class="hljs-comment">// å°†Dartçš„Paintè½¬æ¢ä¸ºSkiaçš„SkPaint</span>
  SkPaint _toSkPaint() {
    <span class="hljs-keyword">final</span> SkPaint skPaint = SkPaint();
    <span class="hljs-keyword">if</span> (color != <span class="hljs-keyword">null</span>) {
      skPaint.color = color!.value;
    }
    <span class="hljs-keyword">if</span> (style == PaintingStyle.stroke) {
      skPaint.style = SkPaintStyle.stroke;
    }
    skPaint.strokeWidth = strokeWidth ?? <span class="hljs-number">1.0</span>;
    <span class="hljs-keyword">return</span> skPaint;
  }
}
</code></pre>
<h4 data-id="heading-12">4.2 Shaderçš„å·¥ä½œåŸç†</h4>
<p>Shaderæ˜¯Paintä¸­æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œç†è§£å…¶å·¥ä½œåŸç†å¯ä»¥å†™å‡ºæ›´ç‚«é…·çš„è§†è§‰æ•ˆæœã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// çº¿æ€§æ¸å˜çš„åº•å±‚å®ç°åŸç†</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LinearGradient</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Shader</span> </span>{
  <span class="hljs-keyword">final</span> Offset start;
  <span class="hljs-keyword">final</span> Offset end;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;Color&gt; colors;
  
  <span class="hljs-meta">@override</span>
  SkShader _createShader() {
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;SkColor&gt; skColors = colors.map((color) =&gt; color.value).toList();
    <span class="hljs-keyword">return</span> SkShader.linearGradient(
      start.dx, start.dy, end.dx, end.dy,
      skColors,
      _computeColorStops(),
      SkTileMode.clamp,
    );
  }
}
</code></pre>
<p><strong>Shaderçš„GPUæ‰§è¡Œæµç¨‹ï¼š</strong></p>
<ol>
<li>CPUå‡†å¤‡Shaderå‚æ•°ï¼›</li>
<li>ä¸Šä¼ åˆ°GPUçš„çº¹ç†å†…å­˜ï¼›ï¼›</li>
<li>ç‰‡æ®µç€è‰²å™¨æ‰§è¡Œæ’å€¼è®¡ç®—ï¼›</li>
<li>è¾“å‡ºåˆ°å¸§ç¼“å†²åŒºï¼›</li>
</ol>
<h3 data-id="heading-13">äº”ã€Pathçš„åŸç†ä¸å®ç°</h3>
<h4 data-id="heading-14">5.1 è´å¡å°”æ›²çº¿</h4>
<p>è´å¡å°”æ›²çº¿æ˜¯è®¡ç®—æœºå›¾å½¢å­¦çš„åŸºç¡€ï¼Œç†è§£å…¶æ•°å­¦åŸç†æœ‰åŠ©äºåˆ›å»ºæ›´å¤æ‚çš„å›¾å½¢ã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// è´å¡å°”æ›²çº¿</span>
Path _flattenCubicBezier(Offset p0, Offset p1, Offset p2, Offset p3, <span class="hljs-built_in">double</span> tolerance) {
  <span class="hljs-keyword">final</span> Path path = Path();
  path.moveTo(p0.dx, p0.dy);
  
  <span class="hljs-comment">// å°†æ›²çº¿ç¦»æ•£åŒ–ä¸ºå¤šä¸ªçº¿æ®µ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">double</span> t = <span class="hljs-number">0.0</span>; t &lt;= <span class="hljs-number">1.0</span>; t += <span class="hljs-number">0.01</span>) {
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> x = _cubicBezierPoint(p0.dx, p1.dx, p2.dx, p3.dx, t);
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> y = _cubicBezierPoint(p0.dy, p1.dy, p2.dy, p3.dy, t);
    path.lineTo(x, y);
  }
  
  <span class="hljs-keyword">return</span> path;
}
</code></pre>
<h4 data-id="heading-15">5.2 Pathçš„åº•å±‚æ•°æ®ç»“æ„</h4>
<p>Pathåœ¨åº•å±‚ä½¿ç”¨<strong>è·¯å¾„æ®µ</strong>çš„é“¾è¡¨ç»“æ„æ¥å­˜å‚¨ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// Pathæ®µç±»å‹</span>
<span class="hljs-keyword">enum</span> PathSegmentType {
  moveTo,
  lineTo, 
  quadraticTo,
  cubicTo,
  close,
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PathSegment</span> </span>{
  <span class="hljs-keyword">final</span> PathSegmentType type;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;Offset&gt; points;
  <span class="hljs-keyword">final</span> PathSegment? next;
}
</code></pre>
<h3 data-id="heading-16">å…­ã€æ€§èƒ½ä¼˜åŒ–çš„åº•å±‚åŸç†</h3>
<h4 data-id="heading-17">6.1 RepaintBoundaryçš„å·¥ä½œåŸç†</h4>
<p>RepaintBoundaryæ˜¯Flutteræ€§èƒ½ä¼˜åŒ–çš„å…³é”®ï¼Œå®ƒåˆ›å»ºäº†ç‹¬ç«‹çš„å›¾å±‚ã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RepaintBoundary</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SingleChildRenderObjectWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  RenderRepaintBoundary createRenderObject(BuildContext context) {
    <span class="hljs-keyword">return</span> RenderRepaintBoundary();
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RenderRepaintBoundary</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">RenderProxyBox</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-built_in">bool</span> <span class="hljs-keyword">get</span> isRepaintBoundary =&gt; <span class="hljs-keyword">true</span>; <span class="hljs-comment">// å…³é”®å±æ€§</span>
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> paint(PaintingContext context, Offset offset) {
    <span class="hljs-comment">// å¦‚æœå†…å®¹æ²¡æœ‰å˜åŒ–ï¼Œå¯ä»¥å¤ç”¨ä¹‹å‰çš„ç»˜åˆ¶ç»“æœ</span>
    <span class="hljs-keyword">if</span> (_needsPaint) {
      _layer = context.pushLayer(
        PictureLayer(Offset.zero),
        <span class="hljs-keyword">super</span>.paint,
        offset,
        childPaintBounds: paintBounds,
      );
    } <span class="hljs-keyword">else</span> {
      context.addLayer(_layer!);
    }
  }
}
</code></pre>
<h4 data-id="heading-18">6.2 å›¾å±‚å¤ç”¨æœºåˆ¶</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant A as Frame N
    participant B as RepaintBoundary
    participant C as PictureLayer
    participant D as Frame N+1
    
    A-&gt;&gt;B: paint()
    B-&gt;&gt;C: å½•åˆ¶ç»˜åˆ¶å‘½ä»¤
    C-&gt;&gt;C: ç”ŸæˆSkPicture
    
    D-&gt;&gt;B: paint() æ£€æŸ¥è„åŒºåŸŸ
    B-&gt;&gt;B: åˆ¤æ–­æ˜¯å¦éœ€è¦é‡ç»˜
    alt éœ€è¦é‡ç»˜
        B-&gt;&gt;C: é‡æ–°å½•åˆ¶
    else ä¸éœ€è¦é‡ç»˜
        B-&gt;&gt;C: å¤ç”¨ä¹‹å‰çš„SkPicture
    end
</code></pre>
<h3 data-id="heading-19">ä¸ƒã€å®ç°ä¸€ä¸ªç²’å­ç³»ç»Ÿ</h3>
<p>è®©æˆ‘ä»¬ç”¨æ‰€å­¦çš„åº•å±‚çŸ¥è¯†å®ç°ä¸€ä¸ªé«˜æ€§èƒ½çš„ç²’å­ç³»ç»Ÿã€‚</p>
<h4 data-id="heading-20">7.1 æ¶æ„è®¾è®¡</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ParticleSystem</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CustomPainter</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;Particle&gt; _particles = [];
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Stopwatch</span> _stopwatch = <span class="hljs-built_in">Stopwatch</span>();
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> paint(Canvas canvas, Size size) {
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> deltaTime = _stopwatch.elapsedMilliseconds / <span class="hljs-number">1000.0</span>;
    _stopwatch.reset();
    _stopwatch.start();
    
    _updateParticles(deltaTime);
    _renderParticles(canvas);
  }
  
  <span class="hljs-keyword">void</span> _updateParticles(<span class="hljs-built_in">double</span> deltaTime) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> particle <span class="hljs-keyword">in</span> _particles) {
      <span class="hljs-comment">// æ¨¡æ‹Ÿä½ç½®ã€é€Ÿåº¦ã€åŠ é€Ÿåº¦</span>
      particle.velocity += particle.acceleration * deltaTime;
      particle.position += particle.velocity * deltaTime;
      particle.lifeTime -= deltaTime;
    }
    
    _particles.removeWhere((particle) =&gt; particle.lifeTime &lt;= <span class="hljs-number">0</span>);
  }
  
  <span class="hljs-keyword">void</span> _renderParticles(Canvas canvas) {
    <span class="hljs-comment">// ä½¿ç”¨saveLayerå®ç°ç²’å­æ··åˆæ•ˆæœ</span>
    canvas.saveLayer(<span class="hljs-keyword">null</span>, Paint()..blendMode = BlendMode.srcOver);
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> particle <span class="hljs-keyword">in</span> _particles) {
      _renderParticle(canvas, particle);
    }
    
    canvas.restore();
  }
  
  <span class="hljs-keyword">void</span> _renderParticle(Canvas canvas, Particle particle) {
    <span class="hljs-keyword">final</span> Paint paint = Paint()
      ..color = particle.color.withOpacity(particle.alpha)
      ..maskFilter = MaskFilter.blur(BlurStyle.normal, particle.radius);
    
    canvas.drawCircle(particle.position, particle.radius, paint);
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-built_in">bool</span> shouldRepaint(ParticleSystem oldDelegate) =&gt; <span class="hljs-keyword">true</span>;
}
</code></pre>
<h4 data-id="heading-21">7.2 æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h4>
<p><strong>å¯¹è±¡æ± æ¨¡å¼ï¼š</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ParticlePool</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;Particle&gt; _pool = [];
  <span class="hljs-built_in">int</span> _index = <span class="hljs-number">0</span>;
  
  Particle getParticle() {
    <span class="hljs-keyword">if</span> (_index &gt;= _pool.length) {
      _pool.add(Particle());
    }
    <span class="hljs-keyword">return</span> _pool[_index++];
  }
  
  <span class="hljs-keyword">void</span> reset() =&gt; _index = <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>æ‰¹é‡ç»˜åˆ¶ä¼˜åŒ–ï¼š</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> _renderParticlesOptimized(Canvas canvas) {
  <span class="hljs-comment">// ä½¿ç”¨drawVerticesè¿›è¡Œæ‰¹é‡ç»˜åˆ¶</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;SkPoint&gt; positions = [];
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;SkColor&gt; colors = [];
  
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> particle <span class="hljs-keyword">in</span> _particles) {
    positions.add(SkPoint(particle.position.dx, particle.position.dy));
    colors.add(particle.color.value);
  }
  
  <span class="hljs-keyword">final</span> SkVertices vertices = SkVertices(
    SkVerticesVertexMode.triangles,
    positions,
    colors: colors,
  );
  
  canvas.drawVertices(vertices, BlendMode.srcOver, Paint());
}
</code></pre>
<h3 data-id="heading-22">å…«ã€è‡ªå®šä¹‰æ¸²æŸ“ç®¡çº¿</h3>
<p>å¯¹äºæ€§èƒ½è¦æ±‚éå¸¸é«˜çš„åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥ç»•è¿‡CustomPaintï¼Œç›´æ¥æ“ä½œæ¸²æŸ“ç®¡çº¿ã€‚</p>
<h4 data-id="heading-23">8.1 è‡ªå®šä¹‰RenderObject</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomCircleRenderer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">RenderBox</span> </span>{
  Color _color;
  
  CustomCircleRenderer({<span class="hljs-keyword">required</span> Color color}) : _color = color;
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> performLayout() {
    size = constraints.biggest;
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> paint(PaintingContext context, Offset offset) {
    <span class="hljs-keyword">final</span> Canvas canvas = context.canvas;
    <span class="hljs-keyword">final</span> Paint paint = Paint()..color = _color;
    
    <span class="hljs-comment">// æ“ä½œCanvasæ§åˆ¶ç»˜åˆ¶è¿‡ç¨‹</span>
    canvas.save();
    canvas.translate(offset.dx, offset.dy);
    canvas.drawCircle(size.center(Offset.zero), size.width / <span class="hljs-number">2</span>, paint);
    canvas.restore();
  }
}
</code></pre>
<h4 data-id="heading-24">8.2 ä¸å¹³å°é€šé“é›†æˆ</h4>
<p>å¯¹äºç‰¹åˆ«å¤æ‚çš„å›¾å½¢ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¹³å°é€šé“è°ƒç”¨åŸç”Ÿå›¾å½¢APIï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NativeRenderer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CustomPainter</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> MethodChannel _channel = MethodChannel(<span class="hljs-string">'native_renderer'</span>);
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> paint(Canvas canvas, Size size) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> ByteData? imageData = <span class="hljs-keyword">await</span> _channel.invokeMethod(<span class="hljs-string">'render'</span>, {
      <span class="hljs-string">'width'</span>: size.width,
      <span class="hljs-string">'height'</span>: size.height,
    });
    
    <span class="hljs-keyword">if</span> (imageData != <span class="hljs-keyword">null</span>) {
      <span class="hljs-keyword">final</span> Uint8List bytes = imageData.buffer.asUint8List();
      <span class="hljs-keyword">final</span> Image image = <span class="hljs-keyword">await</span> decodeImageFromList(bytes);
      canvas.drawImage(image, Offset.zero, Paint());
    }
  }
}
</code></pre>
<h3 data-id="heading-25">æ€»ç»“</h3>
<p>é€šè¿‡æ·±åº¦å‰–æFlutterç»˜åˆ¶ç³»ç»Ÿçš„åº•å±‚åŸç†ï¼Œæˆ‘ä»¬ä¸ä»…å­¦ä¼šäº†å¦‚ä½•ä½¿ç”¨CustomPaintå’ŒCanvasï¼Œæ›´é‡è¦çš„æ˜¯ç†è§£äº†ï¼š<code>æ¸²æŸ“ç®¡çº¿</code> ã€ <code>å›¾å±‚æ¶æ„</code> <code>ã€Skiaé›†æˆ</code>ã€ <code>æ€§èƒ½ä¼˜åŒ–</code> ï¼ŒæŒæ¡äº†è¿™äº›åº•å±‚åŸç†ï¼Œä½ å°±èƒ½åœ¨é‡åˆ°å¤æ‚ç»˜åˆ¶éœ€æ±‚æ—¶æ¸¸åˆƒæœ‰ä½™ã€‚</p>
<p><strong>å¦‚æœè§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œåˆ«å¿˜äº†ä¸€é”®ä¸‰è¿ï¼ˆç‚¹èµã€å…³æ³¨ã€æ”¶è—ï¼‰ï¼æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿è¯„è®ºåŒºç•™è¨€ï¼ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆ RAG è½åœ°éš¾ï¼Ÿè§£ææ•°æ®å¤„ç† â€œä¸‰é‡å›°å¢ƒâ€ï¼Œäº‹ä»¶é©±åŠ¨æ¶æ„å¦‚ä½•ç ´å±€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7576487832089264143</link>    <guid>https://juejin.cn/post/7576487832089264143</guid>    <pubDate>2025-11-25T09:43:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576487832089264143" data-draft-id="7576219879679344675" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆ RAG è½åœ°éš¾ï¼Ÿè§£ææ•°æ®å¤„ç† â€œä¸‰é‡å›°å¢ƒâ€ï¼Œäº‹ä»¶é©±åŠ¨æ¶æ„å¦‚ä½•ç ´å±€ï¼Ÿ"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2025-11-25T09:43:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆ RAG è½åœ°éš¾ï¼Ÿè§£ææ•°æ®å¤„ç† â€œä¸‰é‡å›°å¢ƒâ€ï¼Œäº‹ä»¶é©±åŠ¨æ¶æ„å¦‚ä½•ç ´å±€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:43:21.000Z" title="Tue Nov 25 2025 09:43:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šç¨šæŸ³</p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>å½“ä¼ä¸šæƒ³ç”¨å¤§æ¨¡å‹å’Œå†…éƒ¨éå…¬å¼€ä¿¡æ¯æ‰“é€ æ™ºèƒ½é—®ç­”ç³»ç»Ÿæ—¶ï¼ŒRAGï¼ˆRetrieval-Augmented Generationï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰å·²æˆä¸ºå¿…å¤‡æŠ€æœ¯ã€‚ç„¶è€Œï¼Œåœ¨å®é™…è½åœ°ä¸­ï¼Œæ„å»º RAG åº”ç”¨çš„æ•°æ®å‡†å¤‡è¿‡ç¨‹ç¹çå¤æ‚ä¸”å……æ»¡æŒ‘æˆ˜ï¼Œè®©å¾ˆå¤šä¼ä¸šå’Œå¼€å‘è€…æœ›è€Œå´æ­¥ã€‚æœ¬æ–‡å°†ä»‹ç»æ„å»º RAG çš„æœ€ä½³å®è·µï¼šé€šè¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Faliware%2Feventbridge%3Fspm%3Da1z389.11499242.0.0.65452413wzAYCf%26utm_content%3Dg_1000408154" target="_blank" title="https://www.aliyun.com/product/aliware/eventbridge?spm=a1z389.11499242.0.0.65452413wzAYCf&amp;utm_content=g_1000408154" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘äº‹ä»¶æ€»çº¿ EventBridge</a> æä¾›çš„å¤šæº RAG å¤„ç†æ–¹æ¡ˆï¼ŒåŸºäºäº‹ä»¶é©±åŠ¨æ¶æ„ä¸ºä¼ä¸š AI åº”ç”¨æ‰“é€ é«˜æ•ˆã€å¯é ã€è‡ªåŠ¨åŒ–çš„æ•°æ®ç®¡é“ï¼Œè½»æ¾è§£å†³ RAG æ•°æ®å¤„ç†éš¾é¢˜ã€‚</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆ RAG æ˜¯æ²»æ„ˆæ¨¡å‹å¹»è§‰çš„â€œè‰¯æ–¹â€ï¼Ÿ</h2>
<p>å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å°±åƒä¸€ä¸ªåšè§ˆç¾¤ä¹¦ã€è®°å¿†åŠ›è¶…ç¾¤çš„â€œå­¦éœ¸â€ï¼Œå°½ç®¡æ–‡é‡‡æ–ç„¶ã€å¯¹ç­”å¦‚æµï¼Œä½†å¶å°”ä¹Ÿä¼šçŠ¯ä¸€äº›ä»¤äººå•¼ç¬‘çš†éçš„é”™è¯¯ï¼Œæ¯”å¦‚å‡­ç©ºç¼–é€ äº‹å®æˆ–æä¾›è¿‡æ—¶ä¿¡æ¯ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„â€œæ¨¡å‹å¹»è§‰â€ã€‚</p>
<p>è¿™èƒŒåçš„åŸå› å¾ˆç®€å•ï¼šè¿™ä½â€œå­¦éœ¸â€çš„çŸ¥è¯†å®Œå…¨æ¥è‡ªäºâ€œæ¯•ä¸šå‰â€å­¦è¿‡çš„æµ·é‡æ•™æï¼ˆå³è®­ç»ƒæ•°æ®ï¼‰ï¼Œå°½ç®¡è¦†ç›–äº†ç»´åŸºç™¾ç§‘ã€æ–°é—»ã€ä¹¦ç±ç­‰é€šç”¨çŸ¥è¯†å’Œå„é¢†åŸŸçš„ä¸“ä¸šçŸ¥è¯†ï¼Œä½†å­˜åœ¨ä¸¤ä¸ªå¤©ç„¶å±€é™ï¼š</p>
<ul>
<li><strong>çŸ¥è¯†é¢†åŸŸå±€é™ï¼š</strong> å®ƒå¯¹ä¼ä¸šå†…éƒ¨ã€å‚ç›´é¢†åŸŸç­‰ç§åŸŸçŸ¥è¯†çŸ¥ä¹‹ç”šå°‘ã€‚æ¯”å¦‚ï¼Œå®ƒä¸äº†è§£ä½ å…¬å¸å†…éƒ¨çš„è§„ç« åˆ¶åº¦ï¼Œä¹Ÿæ— æ³•æ¥è§¦ç”µå•†å¹³å°çš„ç”¨æˆ·æ•°æ®ç­‰éå…¬å¼€ä¿¡æ¯ã€‚</li>
<li><strong>çŸ¥è¯†æ—¶æ•ˆå±€é™ï¼š</strong> å®ƒçš„çŸ¥è¯†æ›´æ–°åœç•™åœ¨è®­ç»ƒæ•°æ®æˆªæ­¢çš„é‚£ä¸ªæ—¶é—´ç‚¹ï¼Œæ— æ³•è·å–å®æ—¶ä¿¡æ¯ï¼Œæ¯”å¦‚è‚¡ç¥¨è¡Œæƒ…ã€æ—¶äº‹æ–°é—»ç­‰ä¸æ–­æ›´æ–°çš„åŠ¨æ€æ•°æ®ã€‚</li>
</ul>
<p>ä¸ºäº†æ²»å¥½å¤§è¯­è¨€æ¨¡å‹â€œä¸€æœ¬æ­£ç»èƒ¡è¯´å…«é“â€çš„æ¯›ç—…ï¼Œæˆ‘ä»¬å¿…é¡»è®©å®ƒä»â€œé—­å·è€ƒè¯•â€å‡çº§ä¸ºâ€œå¼€å·è€ƒè¯•â€ï¼ŒRAGï¼ˆRetrieval-Augmented Generationï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯åº”è¿è€Œç”Ÿã€‚</p>
<p>RAG çš„æ ¸å¿ƒç†å¿µï¼Œå¯ä»¥é€šä¿—åœ°ç†è§£ä¸ºâ€œ<strong>å…ˆæŸ¥æ‰¾èµ„æ–™ï¼Œå†ç”Ÿæˆç­”æ¡ˆ</strong>â€ã€‚å½“æ”¶åˆ°ä¸€ä¸ªé—®é¢˜æ—¶ï¼Œå®ƒä¸ä¼šè®©å¤§æ¨¡å‹ç›´æ¥å‡­è®°å¿†å›ç­”é—®é¢˜ï¼Œè€Œæ˜¯åˆ†ä¸¤æ­¥èµ°ï¼š</p>
<ol>
<li><strong>æ£€ç´¢ï¼ˆRetrievalï¼‰ï¼š</strong> ä»ä¸€ä¸ªå¯éšæ—¶æ›´æ–°çš„å¤–éƒ¨çŸ¥è¯†åº“ï¼ˆå¦‚ä¼ä¸šå†…éƒ¨æ–‡æ¡£ã€äº§å“æ‰‹å†Œç­‰ï¼‰ä¸­ï¼Œå¿«é€Ÿæ£€ç´¢å‡ºä¸é—®é¢˜æœ€ç›¸å…³çš„ä¿¡æ¯ç‰‡æ®µã€‚</li>
<li><strong>ç”Ÿæˆï¼ˆGenerationï¼‰ï¼š</strong> å°†æ£€ç´¢åˆ°çš„ä¿¡æ¯ç‰‡æ®µè¿åŒç”¨æˆ·é—®é¢˜ä¸€èµ·ä½œä¸ºä¸Šä¸‹æ–‡æä¾›ç»™å¤§æ¨¡å‹ï¼Œå¼•å¯¼å®ƒåŸºäºè¿™äº›å¯é çš„â€œè¯æ®â€ç”Ÿæˆå‡†ç¡®ã€æœ‰ç†æœ‰æ®ä¸”å¯è¿½æº¯æ¥æºçš„å›ç­”ã€‚</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a7d101f932348bdabeed4235f444adc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=OT%2F39nm9tEvjkuDHz%2FZUq46RG3A%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><em>ï¼ˆæ¥è‡ªé˜¿é‡Œäº‘å¤§æ¨¡å‹å¹³å°æœåŠ¡ç™¾ç‚¼ - çŸ¥è¯†åº“åŠŸèƒ½ æ–‡æ¡£ç¤ºä¾‹ï¼‰</em></p>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä¸ä»…èƒ½æœ‰æ•ˆå‡å°‘æ¨¡å‹å¹»è§‰ï¼Œå¤§å¹…æå‡ç”Ÿæˆç­”æ¡ˆçš„å‡†ç¡®æ€§ä¸æ—¶æ•ˆæ€§ï¼Œè¿˜è®©æ¨¡å‹åœ¨æ— éœ€è€—è´¹å·¨èµ„å’Œæ—¶é—´è¿›è¡Œé‡æ–°è®­ç»ƒçš„æƒ…å†µä¸‹ï¼Œå°±èƒ½è½»æ¾æ‰©å±•çŸ¥è¯†è¾¹ç•Œã€‚å‡­å€Ÿè¿™äº›æ˜¾è‘—ä¼˜åŠ¿ï¼ŒRAG å·²æˆä¸ºä¼ä¸šæ„å»ºå¯é ã€æ™ºèƒ½ AI åº”ç”¨çš„é¦–é€‰æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-2">RAG è½åœ°æŒ‘æˆ˜ï¼šæ•°æ®å¤„ç†çš„â€œä¸‰é‡å›°å¢ƒâ€</h2>
<p>å°½ç®¡ RAG çš„åŸç†å¬èµ·æ¥ç®€å•æ˜äº†ï¼Œä½†åœ¨å®é™…è½åœ°æ—¶ï¼Œæ— æ•°ä¼ä¸šå’Œå¼€å‘è€…å´æ·±é™·æ•°æ®å¤„ç†çš„æ³¥æ½­ã€‚</p>
<p>AI æ—¶ä»£çš„æ•°æ®å¤„ç†ï¼Œä¸è¿‡å»ä»¥ç»“æ„åŒ–æ•°æ®ä¸ºä¸»çš„ä¼ ç»Ÿæ•°æ®å¤„ç†æ¨¡å¼æˆªç„¶ä¸åŒã€‚æˆ‘ä»¬é¢å¯¹çš„æ˜¯ç”±æµ·é‡ã€å¼‚æ„ã€å¤šæ¨¡æ€æ•°æ®æ„æˆçš„æ´ªæµï¼Œæ•°æ®å¤„ç†çš„å¤æ‚åº¦å’ŒæŒ‘æˆ˜å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚ä¼ä¸šå¯¹å®æ—¶æ€§è¦æ±‚ä¹Ÿä¸æ–­æé«˜ï¼Œä»»ä½•æ•°æ®å»¶è¿Ÿéƒ½å¯èƒ½å½±å“æ¨¡å‹æ•ˆæœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1d1238c157340928ecd4e4311fc5e5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=h7h1wWse20Dkv4Lou966N%2FqV5NE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¼ä¸šå’Œå¼€å‘è€…åœ¨è½åœ° RAG æ—¶ï¼Œæ™®éä¼šé™·å…¥æ•°æ®å¤„ç†çš„â€œä¸‰é‡å›°å¢ƒâ€ï¼š</p>
<p><strong>1. æ‰©å±•ä¹‹å›°â€”â€”å¼‚æ„åŒ–æ•°æ®æºçš„â€œæ¥å…¥é¸¿æ²Ÿâ€</strong></p>
<p>ç°ä»£ä¼ä¸šçš„æ•°æ®é€šå¸¸æ•£è½åœ¨ ERPã€CRMã€OAã€IoT è®¾å¤‡ã€ç¤¾äº¤åª’ä½“ç­‰æ•°åä¸ªç³»ç»Ÿä¸­ï¼Œæ¶µç›–ç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚æ•°æ®åº“ã€è¡¨æ ¼ï¼‰ã€éç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ PDFã€ç½‘é¡µã€å›¾ç‰‡ã€éŸ³è§†é¢‘ï¼‰å’ŒåŠç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ JSONã€XMLï¼‰ã€‚è‹¥é‡‡ç”¨ä¼ ç»Ÿç‚¹å¯¹ç‚¹è¿æ¥çš„æ•°æ®é›†æˆæ–¹å¼ï¼Œæ¯æ¥å…¥ä¸€ä¸ªæ–°æ•°æ®æºï¼Œéƒ½éœ€è¦å¤æ‚çš„å®šåˆ¶åŒ–å¼€å‘ï¼Œæ‰©å±•æ€§æå·®ï¼Œå“åº”é€Ÿåº¦æ…¢ï¼Œä¸¥é‡æ‹–æ…¢ AI åº”ç”¨çš„è¿­ä»£é€Ÿåº¦ã€‚</p>
<p><strong>2. è¿ç»´ä¹‹éš¾â€”â€”è„†å¼±æ•°æ®ç®¡é“çš„â€œè¿ç»´å™©æ¢¦â€</strong></p>
<p>RAG çš„æ•°æ®å¤„ç†é“¾è·¯æ¼«é•¿ä¸”å¤æ‚ï¼Œæ¶‰åŠæ•°æ®é‡‡é›†ã€æ¸…æ´—ã€åˆ‡å—ã€å‘é‡åŒ–ã€å…¥åº“ã€æ£€ç´¢ç­‰å¤šä¸ªç¯èŠ‚ã€‚æ•´æ¡é“¾è·¯å¦‚åŒä¸€ä¸ªè„†å¼±çš„â€œé»‘ç®±â€ï¼Œä»»ä½•ä¸€ä¸ªç¯èŠ‚çš„å¾®å°æ•…éšœéƒ½å¯èƒ½å¯¼è‡´å…¨é“¾è·¯ç˜«ç—ªã€‚åœ¨å®é™…è¿ç»´è¿‡ç¨‹ä¸­ï¼Œæ•°æ®æºæ¥å£å˜æ›´ã€æ•°æ®è´¨é‡é—®é¢˜ã€ç³»ç»Ÿè´Ÿè½½çªå¢ç­‰çªå‘çŠ¶å†µå±‚å‡ºä¸ç©·ï¼Œæ•°æ®ç®¡é“çš„é—®é¢˜æ’æŸ¥ã€ä¿®å¤å’Œç³»ç»Ÿæ›´æ–°ï¼Œéƒ½æå…¶è€—æ—¶è€—åŠ›ï¼Œè®©è¿ç»´å›¢é˜Ÿç–²äºå¥”å‘½ã€‚</p>
<p><strong>3. ç¨³å®šä¹‹ç—›â€”â€”æ•°æ®ç®¡é“çš„â€œå¯é æ€§å±æœºâ€</strong></p>
<p>æ•°æ®ç®¡é“çš„ç¨³å®šæ€§æ˜¯ AI åº”ç”¨è½åœ°çš„åŸºçŸ³ã€‚æ•°æ®ä¸¢å¤±ã€é‡å¤ã€å»¶è¿Ÿã€è´¨é‡ä¸‹é™ä»¥åŠç³»ç»Ÿæ•…éšœç­‰æ•°æ®å¤„ç†é“¾è·¯ä¸­çš„ä»»ä½•é—®é¢˜ï¼Œéƒ½å¯èƒ½ç›´æ¥å¯¼è‡´æ¨¡å‹æ¨ç†ç»“æœçš„åå·®ç”šè‡³é”™è¯¯ï¼Œè¿›è€Œå½±å“ä¸šåŠ¡å†³ç­–å’Œç”¨æˆ·ä½“éªŒã€‚ä¼ ç»Ÿæ•°æ®å¤„ç†æ¶æ„çš„ç´§è€¦åˆè®¾è®¡ï¼Œå¯¼è‡´ä»»ä½•ä¸€ä¸ªç»„ä»¶æ•…éšœéƒ½å¯èƒ½å½±å“æ•´ä¸ªç³»ç»Ÿè¿è¡Œï¼Œå¹¶ä¸”ç¼ºä¹æœ‰æ•ˆçš„ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶ï¼Œå¾€å¾€åœ¨é€ æˆä¸¥é‡å½±å“åæ‰å‘ç°é—®é¢˜ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬è¿«åˆ‡éœ€è¦ä¸€ç§å…¨æ–°çš„æ•°æ®å¤„ç†èŒƒå¼ï¼Œæ¥æ„å»ºä¸€ä¸ªçµæ´»ã€å¯æ‰©å±•ã€å®æ—¶ã€æ™ºèƒ½çš„æ•°æ®å¤„ç†ç®¡é“ã€‚</p>
<h2 data-id="heading-3">ç ´å±€ä¹‹é“ï¼šäº‹ä»¶æ¶æ„é©±åŠ¨é‡å¡‘ AI æ•°æ®ç®¡é“</h2>
<p>äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEvent-Driven Architectureï¼ŒEDAï¼‰ä¸ºåº”å¯¹ AI æ•°æ®å¤„ç†çš„å¤æ‚æ€§æŒ‘æˆ˜ï¼Œæä¾›äº†åšå®çš„æŠ€æœ¯åŸºç¡€ã€‚åœ¨äº‹ä»¶é©±åŠ¨æ¶æ„ä¸­ï¼Œâ€œäº‹ä»¶ï¼ˆEventï¼‰â€æ˜¯æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€æ¬¡çŠ¶æ€å˜åŒ–çš„æ•°å­—åŒ–è¡¨è¾¾ã€‚<strong>åœ¨ AI æ•°æ®å¤„ç†åœºæ™¯ä¸­ï¼Œæ•°æ®çš„äº§ç”Ÿã€å˜æ›´ã€å¤„ç†ã€å­˜å‚¨ç­‰å„ä¸ªç¯èŠ‚éƒ½å¯ä»¥è¢«æŠ½è±¡ä¸ºäº‹ä»¶ã€‚</strong> ä¾‹å¦‚ï¼Œå½“æ–°çš„è®­ç»ƒæ•°æ®ä¸Šä¼ åˆ°ç³»ç»Ÿæ—¶ï¼Œäº§ç”Ÿæ•°æ®æ¥æ”¶äº‹ä»¶ï¼›å½“æ•°æ®ç»è¿‡æ¸…æ´—å’Œè½¬æ¢åï¼Œäº§ç”Ÿæ•°æ®å¤„ç†å®Œæˆäº‹ä»¶ï¼›å½“å‘é‡åŒ–å¤„ç†å®Œæˆåï¼Œäº§ç”Ÿå‘é‡ç”Ÿæˆäº‹ä»¶ï¼›å½“æ•°æ®æˆåŠŸå­˜å‚¨åˆ°å‘é‡æ•°æ®åº“åï¼Œäº§ç”Ÿæ•°æ®å…¥åº“äº‹ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d1ab1efdef145ff869f536446f11cb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=aQ5CQrgVZeedpBEMqH9m%2FZsffsE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ç§â€œäº‹ä»¶åŒ–â€çš„å¤„ç†æ–¹å¼ï¼Œä½¿æ•´ä¸ª AI æ•°æ®å¤„ç†æµç¨‹å˜å¾—æ ‡å‡†åŒ–ã€æ¸…æ™°ã€å¯æ§ä¸”å¯è¿½æº¯ï¼Œå¸¦æ¥ä¸‰å¤§ä¼˜åŠ¿ï¼š</p>
<p><strong>1. æ¾è€¦åˆ</strong></p>
<p>æ•°æ®å¤„ç†æµç¨‹è¢«åˆ†è§£ä¸ºç‹¬ç«‹çš„äº‹ä»¶å’Œå¤„ç†å•å…ƒã€‚æ•°æ®å·¥ç¨‹ã€ç®—æ³•ã€å¹³å°ç­‰å›¢é˜Ÿå¯ä»¥ç‹¬ç«‹å¼€å‘ã€éƒ¨ç½²å’Œè¿­ä»£å„è‡ªè´Ÿè´£çš„ç»„ä»¶ï¼Œæ— éœ€å…³å¿ƒå¯¹æ–¹çš„å†…éƒ¨å®ç°ã€‚ä¸€ä¸ªç»„ä»¶çš„å˜æ›´ä¸ä¼šå½±å“å…¶ä»–éƒ¨åˆ†ï¼Œç³»ç»Ÿå®¹é”™èƒ½åŠ›å’Œè¿­ä»£æ•ˆç‡æ›´é«˜ã€‚</p>
<p><strong>2. å¯æ‰©å±•æ€§ä¸ç¨³å®šæ€§</strong></p>
<p>æ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥æ ¹æ®å®é™…è´Ÿè½½ç‹¬ç«‹æ‰©å±•ï¼Œå½“æŸä¸ªç»„ä»¶æˆä¸ºç“¶é¢ˆæ—¶ï¼Œåªéœ€å¢åŠ è¯¥ç»„ä»¶çš„å®ä¾‹æ•°é‡ï¼Œè€Œæ— éœ€å¯¹æ•´ä¸ªç³»ç»Ÿè¿›è¡Œæ‰©å®¹ã€‚åŒæ—¶ï¼Œé€šè¿‡å¼•å…¥æ™ºèƒ½ç›‘æ§å’Œè‡ªåŠ¨æ¢å¤æœºåˆ¶ï¼Œç³»ç»Ÿèƒ½å¤ŸåŠæ—¶å‘ç°å’Œå¤„ç†å„ç§å¼‚å¸¸æƒ…å†µï¼Œä¿è¯æ•°æ®é“¾è·¯ç¨³å®šè¿è¡Œã€‚</p>
<p><strong>3. ç«¯åˆ°ç«¯å®æ—¶æ€§</strong></p>
<p>åœ¨æ™ºèƒ½å®¢æœã€å®æ—¶æ¨èç­‰åœºæ™¯ä¸­ï¼Œæ¯«ç§’çº§çš„å“åº”è‡³å…³é‡è¦ã€‚äº‹ä»¶é©±åŠ¨æ¶æ„å¯ä»¥ç¡®ä¿äº‹ä»¶ä¸€æ—¦å‘ç”Ÿï¼Œä¾¿èƒ½è¢«ç«‹å³æ•è·å¹¶è§¦å‘åç»­å¤„ç†ã€‚è¿™ä½¿å¾— RAG çš„çŸ¥è¯†åº“èƒ½å¤Ÿè¿‘ä¹å®æ—¶åœ°å¸æ”¶æ–°ä¿¡æ¯ï¼Œè®©å¤§æ¨¡å‹å§‹ç»ˆæŒæ¡ç€æœ€æ–°â€œæƒ…æŠ¥â€ã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œé‡‡ç”¨äº‹ä»¶é©±åŠ¨æ¶æ„çš„ç³»ç»Ÿåœ¨æ•æ·æ€§ã€å¯æ‰©å±•æ€§å’Œå¯é æ€§æ–¹é¢å®ç°äº†è´¨çš„é£è·ƒï¼Œè¿™æ­£æ˜¯ AI åº”ç”¨è§„æ¨¡åŒ–è½åœ°çš„åŸºçŸ³ã€‚</p>
<h2 data-id="heading-4">EventBridge å¤šæº RAG å¤„ç†æ–¹æ¡ˆï¼šä¸º AI åœºæ™¯æä¾›é«˜æ•ˆæ•°æ®ç®¡é“</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Faliware%2Feventbridge%3Fspm%3Da1z389.11499242.0.0.65452413wzAYCf%26utm_content%3Dg_1000408154" target="_blank" title="https://www.aliyun.com/product/aliware/eventbridge?spm=a1z389.11499242.0.0.65452413wzAYCf&amp;utm_content=g_1000408154" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘äº‹ä»¶æ€»çº¿ EventBridge</a> åŸºäºäº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œå°† AI èƒ½åŠ›æ·±åº¦èå…¥æ•°æ®å¤„ç†å…¨é“¾è·¯ï¼Œä¸ºä¼ä¸šå’Œå¼€å‘è€…æä¾›ä¸“ä¸º AI åº”ç”¨è®¾è®¡çš„ã€ç«¯åˆ°ç«¯çš„ã€æ™ºèƒ½åŒ–çš„æ•°æ®å¤„ç†ä¸­é—´ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a299608954c8471cba20e0a6606ec257~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=hoIpSafDb3w8Mr1LYbSXsB3C724%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>EventBridge é€šè¿‡ä¸€ç³»åˆ— ETL for AI Data çš„å…¨æ–°èƒ½åŠ›ï¼Œæä¾›å¤šæº RAG å¤„ç†æ–¹æ¡ˆï¼šå°† RAG æ•°æ®å‡†å¤‡çš„å…¨æµç¨‹ï¼ˆä»å¤šæºå¼‚æ„æ•°æ®æå–ã€æ¸…æ´—ã€åˆ‡å—ã€å‘é‡åŒ–å†åˆ°å…¥åº“ï¼‰å½»åº•å®ç°è‡ªåŠ¨åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dabe044458df44a1b286677912964588~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=t3RlQJYMqk0jOeJs1z3vYdLsGv8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¼€å‘è€…ç°åœ¨å¯ä»¥é€šè¿‡ EventBridge ç®€å•çš„â€œç™½å±åŒ–â€é…ç½®ï¼Œè½»æ¾å®ç°ï¼š</p>
<p><strong>1. æ— ç¼å¯¹æ¥å¤šæºæ•°æ®</strong></p>
<p>è½»æ¾æ¥å…¥ä¸»æµçš„å¯¹è±¡å­˜å‚¨ï¼ˆOSSï¼‰ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚ Kafkaã€RocketMQã€MQTTï¼‰ã€æ—¥å¿—æœåŠ¡ï¼ˆå¦‚ SLSï¼‰ã€æ•°æ®åº“æœåŠ¡ï¼ˆå¦‚ MySQLï¼‰ç­‰å¤šç§æ•°æ®æºï¼Œè¦†ç›–ç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚æ•°æ®åº“ã€è¡¨æ ¼ï¼‰ã€éç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ PDFã€ç½‘é¡µã€å›¾ç‰‡ã€éŸ³è§†é¢‘ï¼‰å’ŒåŠç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ JSONã€XMLï¼‰ã€‚</p>
<p><strong>2. æ™ºèƒ½åŒ–çš„æ•°æ®å¤„ç†</strong></p>
<p>è‡ªåŠ¨å®Œæˆæ–‡æ¡£è§£æï¼ˆLoaderï¼‰ã€æ–‡æœ¬åˆ‡åˆ†ï¼ˆChunkingï¼‰å’Œå‘é‡åŒ–ï¼ˆEmbeddingï¼‰çš„å®Œæ•´æ•°æ®è½¬æ¢æµç¨‹ï¼Œå†…ç½®å¤šç§æ ¸å¿ƒæŠ€æœ¯ï¼Œæ”¯æŒå¤šç§éç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ Â TEXTã€JSONã€XMLã€YAMLã€CSVï¼‰çš„æ™ºèƒ½è§£æå’Œå¤„ç†ï¼Œæä¾›å®Œæ•´çš„ Loader æŠ€æœ¯ä½“ç³»ï¼ŒåŒ…æ‹¬å¤šç§åˆ†å—ç­–ç•¥ã€å•æ–‡æ¡£åŠ è½½ã€æ‰¹é‡æ•°æ®åŠ è½½ï¼Œç¡®ä¿å¤§è§„æ¨¡æ•°æ®çš„å¯é å¤„ç†ï¼›å¯¹ç»“æ„åŒ–æ•°æ®é‡‡ç”¨æµå¼å¤„ç†æ¶æ„ï¼Œèƒ½å¤Ÿå®æ—¶å¤„ç†é«˜ååé‡çš„æ•°æ®æµï¼Œå¯å®ç°å¤æ‚çš„æµå¼æ•°æ®è½¬æ¢å’Œèšåˆæ“ä½œã€‚</p>
<p><strong>3. ä¸€é”®å¼å‘é‡å…¥åº“</strong></p>
<p>æä¾›ç»Ÿä¸€çš„å‘é‡æ•°æ®åº“æ¥å…¥æ¥å£ï¼Œæ”¯æŒå°†å¤„ç†å¥½çš„å‘é‡æ•°æ®ç›´æ¥åŠ è½½åˆ°ä¸»æµå‘é‡æ•°æ®åº“ï¼ˆå¦‚ DashVectorã€Milvusï¼‰ä¸­ï¼Œä¹Ÿå…¼å®¹ä¼ ç»Ÿæ•°æ®åº“çš„å‘é‡æ‰©å±•æ’ä»¶ã€‚åªéœ€ç®€å•çš„å›¾å½¢ç•Œé¢é…ç½®ï¼ˆæ‹–æ‹½æ–¹å¼é…ç½®æ•°æ®æºã€å¤„ç†é€»è¾‘ã€ç›®æ ‡æ•°æ®åº“ç­‰ï¼‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆå¤æ‚çš„å‘é‡æ•°æ®å¤„ç†å’Œå…¥åº“æµç¨‹ã€‚æä¾›ä¸°å¯Œçš„é¢„ç½®æ¨¡æ¿ï¼Œå¯åŸºäºæ¨¡æ¿å¿«é€Ÿæ­å»ºæ•°æ®å¤„ç†æµç¨‹ã€‚æä¾›å®Œå–„çš„ç›‘æ§ä»ªè¡¨æ¿å’Œå‘Šè­¦æœºåˆ¶ï¼Œå¯å®æ—¶æŸ¥çœ‹æ•°æ®å¤„ç†çš„çŠ¶æ€ã€æ€§èƒ½æŒ‡æ ‡ã€é”™è¯¯ä¿¡æ¯ç­‰ï¼ŒåŠæ—¶å‘ç°å’Œè§£å†³é—®é¢˜ã€‚</p>
<h2 data-id="heading-5">åœºæ™¯å®è·µï¼šä» 0 åˆ° 1 æ„å»ºåŸºäºäº‹ä»¶é©±åŠ¨æ¶æ„çš„å®æ—¶ RAG åº”ç”¨</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„å®æˆ˜åœºæ™¯ï¼Œå¸¦ä½ ä»é›¶å¼€å§‹ï¼Œåˆ©ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Faliware%2Feventbridge%3Fspm%3Da1z389.11499242.0.0.65452413wzAYCf%26utm_content%3Dg_1000408154" target="_blank" title="https://www.aliyun.com/product/aliware/eventbridge?spm=a1z389.11499242.0.0.65452413wzAYCf&amp;utm_content=g_1000408154" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘äº‹ä»¶æ€»çº¿ EventBridge</a>ã€å¯¹è±¡å­˜å‚¨ OSSã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Ffc%3Fspm%3Da1z389.11499242.0.0.65452413RXCQWs%26utm_content%3Dg_1000408146" target="_blank" title="https://www.aliyun.com/product/fc?spm=a1z389.11499242.0.0.65452413RXCQWs&amp;utm_content=g_1000408146" ref="nofollow noopener noreferrer">å‡½æ•°è®¡ç®— FC</a>ã€å‘é‡æ£€ç´¢æœåŠ¡ DashVector å’Œå¤§æ¨¡å‹æœåŠ¡å¹³å°ç™¾ç‚¼ï¼Œå¿«é€Ÿæ„å»ºä¸€ä¸ªå®æ—¶çš„ RAG åº”ç”¨ã€‚</p>
<h3 data-id="heading-6">æ–¹æ¡ˆæ¦‚è§ˆ</h3>
<ul>
<li>é¦–å…ˆï¼Œé€šè¿‡ EventBridge æ„å»ºä¸€ä¸ªé«˜æ•ˆçš„ ETL æ•°æ®ç®¡é“ï¼šèƒ½å¤Ÿè‡ªåŠ¨ä»æ•°æ®æºï¼ˆå¯¹è±¡å­˜å‚¨ OSSï¼‰ä¸­å®æ—¶æå–æ•°æ®ï¼Œé€šè¿‡å‡½æ•°è®¡ç®— FC çµæ´»å®šä¹‰æ•°æ®è½¬æ¢çš„é€»è¾‘ï¼Œè¿›è¡Œæ¸…æ´—ã€åˆ‡å—å’Œå‘é‡åŒ–ï¼Œå¹¶å°†å¤„ç†ç»“æœæŒç»­åŠ è½½åˆ°ç›®æ ‡ï¼ˆå‘é‡æ£€ç´¢æœåŠ¡ DashVectorï¼‰ï¼Œå½¢æˆä¸€ä¸ªåŠ¨æ€æ›´æ–°çš„çŸ¥è¯†åº“ã€‚</li>
<li>ç„¶åï¼Œé€šè¿‡å‡½æ•°è®¡ç®—ï¼ˆFCï¼‰çš„ Web å‡½æ•°æ„å»ºä¸€ä¸ªç®€å•çš„ RAG åº”ç”¨ï¼Œè°ƒç”¨å¤§æ¨¡å‹æœåŠ¡å¹³å°ç™¾ç‚¼è¿›è¡Œæ¨ç†ï¼Œä»¥ DashVector ä¸­çš„å‘é‡æ•°æ®ä½œä¸ºçŸ¥è¯†åº“ã€‚</li>
<li>æœ€åï¼Œæˆ‘ä»¬é€šè¿‡è¾“å…¥ä¸çŸ¥è¯†åº“ç›¸å…³çš„ç”¨æˆ·é—®é¢˜ï¼Œæµ‹è¯• RAG åº”ç”¨çš„å›ç­”æ•ˆæœã€‚</li>
</ul>
<h3 data-id="heading-7">æ–¹æ¡ˆæ¶æ„</h3>
<p>æ–¹æ¡ˆæä¾›çš„é»˜è®¤è®¾ç½®å®Œæˆéƒ¨ç½²åï¼Œåœ¨é˜¿é‡Œäº‘ä¸Šæ­å»ºçš„ç³»ç»Ÿå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å®é™…éƒ¨ç½²æ—¶æ‚¨å¯ä»¥æ ¹æ®èµ„æºè§„åˆ’ä¿®æ”¹éƒ¨åˆ†è®¾ç½®ï¼Œä½†æœ€ç»ˆå½¢æˆçš„è¿è¡Œç¯å¢ƒä¸ä¸‹å›¾ç›¸ä¼¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72959d6d54fc467f959f57bbc0dd148e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=8aFGetiXyLp1Cn%2B4S33LrpdJvhE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-8">å®æ–½æ­¥éª¤</h3>
<ol>
<li>
<p><strong>æ„å»ºè‡ªåŠ¨åŒ–æ•°æ®ç®¡é“ï¼š</strong></p>
<ul>
<li><strong>åˆ›å»ºäº‹ä»¶æµï¼š</strong> åœ¨äº‹ä»¶æ€»çº¿ EventBridge æ§åˆ¶å°åˆ›å»ºå¹¶é…ç½®ä¸€ä¸ªäº‹ä»¶æµï¼Œä½œä¸ºæ•°æ®å¤„ç†ç®¡é“çš„æ ¸å¿ƒã€‚</li>
<li><strong>é…ç½®æ•°æ®æºä¸ç›®æ ‡ï¼š</strong> åˆ›å»ºå¹¶é…ç½®å¯¹è±¡å­˜å‚¨ OSS Bucket ä½œä¸ºæ•°æ®æºï¼ˆSourceï¼‰ï¼Œåˆ›å»ºå¹¶é…ç½®å‘é‡æ£€ç´¢æœåŠ¡ DashVector ä½œä¸ºæ•°æ®æŠ•é€’çš„ç›®æ ‡ï¼ˆSinkï¼‰ã€‚</li>
<li><strong>é…ç½®æ•°æ®è½¬æ¢é€»è¾‘ï¼ˆTransformï¼‰ï¼š</strong> é€‰æ‹©â€œå†…å®¹å‘é‡åŒ–â€çš„å‡½æ•°æ¨¡æ¿åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå¹¶åœ¨å‡½æ•°ä»£ç ä¸­å¡«å†™è·å–çš„ç™¾ç‚¼ API-KEYï¼Œè¿™ä¸ªå‡½æ•°å°†è´Ÿè´£å¯¹æ•°æ®è¿›è¡Œåˆ‡å—å’Œå‘é‡åŒ–ã€‚</li>
</ul>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21a3ad0ffc4e4770ae46ff61b67f1fae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=sCA80g4XJT0D5Em2kLDMBQ%2FlCPI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol start="2">
<li>
<p><strong>æ„å»º RAG åº”ç”¨ï¼š</strong></p>
<ul>
<li>åˆ›å»º Web å‡½æ•°ï¼šåˆ›å»ºä¸€ä¸ª Web å‡½æ•°ï¼ˆæ³¨æ„å’Œä¹‹å‰åˆ›å»ºçš„ç”¨äºå¤„ç†æ•°æ®æµçš„äº‹ä»¶å‡½æ•°åŒºåˆ†ï¼‰ã€‚</li>
<li>ç¼–å†™åº”ç”¨ä»£ç ï¼šè¿™ä¸ªå‡½æ•°å°†ä½œä¸º RAG åº”ç”¨çš„åç«¯ï¼Œè´Ÿè´£æ¥æ”¶ç”¨æˆ·æŸ¥è¯¢ï¼Œä» DashVector æ£€ç´¢çŸ¥è¯†ï¼Œå¹¶è°ƒç”¨ç™¾ç‚¼å¤§æ¨¡å‹ç”Ÿæˆå›ç­”ã€‚éœ€è¦åœ¨å‡½æ•°ä»£ç ä¸­é…ç½®ç™¾ç‚¼å’Œå‘é‡æ£€ç´¢æœåŠ¡ DashVector çš„ç›¸å…³è®¿é—®å‡­è¯ï¼ˆå¦‚ API-KEYã€Endpoint ç­‰ï¼‰ã€‚</li>
<li>éƒ¨ç½²åº”ç”¨ï¼šéƒ¨ç½²ä»£ç æˆåŠŸåï¼ŒRAG åº”ç”¨å³æ„å»ºå®Œæˆå¹¶å¯ä¾›è®¿é—®ã€‚</li>
</ul>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fb8add968c242b28ec249f9351c0901~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=NUhHqwSStlOvEKmnRHWoBW1Ig7A%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-9">æ•ˆæœéªŒè¯</h3>
<p><strong>1. æ›´æ–°çŸ¥è¯†åº“ï¼š</strong> å°†åŒ…å«ç§æœ‰æ•°æ®çš„æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼Œä¸€ä»½åä¸ºç™¾ç‚¼ç³»åˆ—æ‰‹æœºäº§å“ä»‹ç».txt çš„æ–‡æ¡£ï¼ŒåŒ…å«äº†è™šæ‹Ÿæ‰‹æœºå‚å•†çš„å•†å“æ•°æ®ï¼‰ä¸Šä¼ åˆ° OSS Bucket ä¸­ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b1a92f080c448cc9db40f720b8e5f06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=yqisw0SMingQJbBOvgvXER3GGg4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>2. æŸ¥çœ‹å‘é‡ç”Ÿæˆï¼š</strong> æ–‡ä»¶ä¸Šä¼ æˆåŠŸåï¼ŒEventBridge ä¼šè‡ªåŠ¨æ•è·è¿™ä¸€äº‹ä»¶å¹¶è§¦å‘æ•°æ®å¤„ç†æµç¨‹ã€‚ç¨ç­‰ç‰‡åˆ»ï¼Œå³å¯åœ¨ DashVector æ§åˆ¶å°æŸ¥çœ‹å·²ç”Ÿæˆçš„å‘é‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4497308190142339f1990b52162a7d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=r9%2BNW4r9buzSnzXKivLlsE%2FX2Sg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>3. æµ‹è¯•é—®ç­”æ•ˆæœï¼š</strong> é€šè¿‡åˆ›å»ºçš„ RAG åº”ç”¨å‘èµ·è®¿é—®ï¼Œè¾“å…¥ä¸€ä¸ªä¸ä½ ä¸Šä¼ æ–‡æ¡£ç›¸å…³çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼šâ€œç™¾ç‚¼ X1 æ‰‹æœºçš„åˆ†è¾¨ç‡æ˜¯å¤šå°‘ï¼Ÿâ€ã€‚</p>
<p><strong>4. è·å–ç²¾å‡†å›ç­”ï¼š</strong> RAGÂ åº”ç”¨ä¼šè‡ªåŠ¨æ£€ç´¢çŸ¥è¯†åº“ï¼Œå¹¶å°†ç›¸å…³ä¿¡æ¯è¿åŒé—®é¢˜ä¸€èµ·å‘é€ç»™ç™¾ç‚¼å¤§æ¨¡å‹ã€‚å¾ˆå¿«å°±ä¼šæ”¶åˆ°ä¸€ä¸ªåŸºäºç§æœ‰æ•°æ®ç”Ÿæˆçš„ç²¾å‡†å›ç­”ã€‚åœ¨å‡½æ•°çš„æ‰§è¡Œæ—¥å¿—ä¸­ï¼Œè¿˜å¯ä»¥çœ‹åˆ°å‘é‡æ£€ç´¢å¬å›çš„å…·ä½“åŸæ–‡ç‰‡æ®µï¼Œä»è€ŒéªŒè¯æ•´ä¸ª RAG é“¾è·¯çš„æœ‰æ•ˆæ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21889eb15b4a4809a1f985552bfad1c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=JolEPzN2uRlVXrcTQLdz7qT6ZKo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9667d599b57b4cf783fc09fbc1f43114~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764668600&amp;x-signature=8%2FQujN7snhNmJ69XwHXAhM2wkLE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç›®å‰ï¼Œè¯¥è§£å†³æ–¹æ¡ˆå·²åœ¨é˜¿é‡Œäº‘å®˜ç½‘ä¸Šçº¿ï¼Œæ¬¢è¿ç‚¹å‡»é˜…è¯»åŸæ–‡å³å¯éƒ¨ç½²ä½“éªŒï½</p>
<p>é‚€è¯·æ‚¨é’‰é’‰æœç´¢ç¾¤å·ï¼š44552972ï¼ŒåŠ å…¥ EventBridge ç”¨æˆ·äº¤æµç¾¤ï¼Œæ¢ç´¢æ›´å¤šäº§å“åŠŸèƒ½ï¼Œä¸æˆ‘ä»¬å…±åŒå®šä¹‰å’Œæ„å»º AI æ•°æ®å¤„ç†çš„æœªæ¥ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å•ä½“æ¶æ„æ‹†å¾®æœåŠ¡ï¼šä»è¯„ä¼°åˆ°è½åœ°çš„å…¨æµç¨‹æŒ‡å—]]></title>    <link>https://juejin.cn/post/7576476897949941787</link>    <guid>https://juejin.cn/post/7576476897949941787</guid>    <pubDate>2025-11-25T09:50:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576476897949941787" data-draft-id="7576558359840636966" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å•ä½“æ¶æ„æ‹†å¾®æœåŠ¡ï¼šä»è¯„ä¼°åˆ°è½åœ°çš„å…¨æµç¨‹æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,å¾®æœåŠ¡"/> <meta itemprop="datePublished" content="2025-11-25T09:50:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å•ä½“æ¶æ„æ‹†å¾®æœåŠ¡ï¼šä»è¯„ä¼°åˆ°è½åœ°çš„å…¨æµç¨‹æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:50:42.000Z" title="Tue Nov 25 2025 09:50:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å•ä½“æ¶æ„æ‹†å¾®æœåŠ¡ï¼šä»è¯„ä¼°åˆ°è½åœ°çš„å…¨æµç¨‹æŒ‡å—</h2>
<p>ä¸å°‘å›¢é˜Ÿéƒ½æ›¾é¢ä¸´è¿™æ ·çš„å›°å¢ƒï¼šæ—©æœŸå¿«é€Ÿå¼€å‘çš„å•ä½“åº”ç”¨ï¼Œéšç€ä¸šåŠ¡è¿­ä»£å˜å¾—è¶Šæ¥è¶Šåºå¤§ â€”â€” ä»£ç åº“è¶…è¿‡ 10 ä¸‡è¡Œï¼Œä¿®æ”¹ä¸€ä¸ªè®¢å•åŠŸèƒ½è¦é‡æ–°éƒ¨ç½²æ•´ä¸ªåº”ç”¨ï¼Œçº¿ä¸Šæ•…éšœæ’æŸ¥è¦ç¿»éæ‰€æœ‰æ¨¡å—æ—¥å¿—ï¼Œæ–°åŠŸèƒ½ä¸Šçº¿å› æ‹…å¿ƒå½±å“å…¨å±€è€Œä¸æ•¢å¿«é€Ÿè¿­ä»£ã€‚æ­¤æ—¶ï¼Œâ€œæ‹†å¾®æœåŠ¡â€ æˆäº†å¿…ç„¶é€‰æ‹©ï¼Œä½†ç›²ç›®æ‹†åˆ†å¯èƒ½å¯¼è‡´ â€œå¾®æœåŠ¡åœ°ç‹±â€ï¼šæœåŠ¡é—´è°ƒç”¨æ··ä¹±ã€æ•°æ®ä¸€è‡´æ€§å¤±æ§ã€è¿ç»´å¤æ‚åº¦é£™å‡ã€‚</p>
<p>æœ¬æ–‡ç»“åˆç”µå•†ã€é‡‘èé¢†åŸŸçš„å•ä½“é‡æ„å®æˆ˜ç»éªŒï¼Œæ¢³ç†å‡º â€œè¯„ä¼°â†’è§„åˆ’â†’æ‹†åˆ†â†’è¿‡æ¸¡â†’æ²»ç†â€ çš„æ ‡å‡†åŒ–æµç¨‹ï¼Œå¸®ä½ é¿å¼€é‡æ„é™·é˜±ï¼Œå®ç°ä» â€œè‡ƒè‚¿å•ä½“â€ åˆ° â€œçµæ´»å¾®æœåŠ¡â€ çš„å¹³ç¨³è¿‡æ¸¡ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆæƒ³æ¸…æ¥šï¼šä¸ºä»€ä¹ˆè¦æ‹†å¾®æœåŠ¡ï¼Ÿåˆ«ä¸ºäº† â€œæ‹†â€ è€Œ â€œæ‹†â€</h3>
<p>åœ¨åŠ¨æ‰‹å‰ï¼Œå¿…é¡»å…ˆæ˜ç¡® â€œé‡æ„çš„ç›®æ ‡â€â€”â€” å¾®æœåŠ¡ä¸æ˜¯é“¶å¼¹ï¼Œè‹¥å•ä½“æ¶æ„ä»èƒ½æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œç›²ç›®æ‹†åˆ†åªä¼šå¢åŠ æˆæœ¬ã€‚å…ˆé€šè¿‡ä»¥ä¸‹ 3 ä¸ªç»´åº¦è¯„ä¼°æ˜¯å¦éœ€è¦é‡æ„ï¼š</p>
<h4 data-id="heading-2">1. å•ä½“æ¶æ„çš„ç—›ç‚¹æ˜¯å¦å·²å‡¸æ˜¾ï¼Ÿ</h4>
<p>è‹¥å‡ºç°ä»¥ä¸‹ 3 ä¸ªåŠä»¥ä¸Šç—›ç‚¹ï¼Œè¯´æ˜é‡æ„éœ€æ±‚è¿«åˆ‡ï¼š</p>
<ul>
<li><strong>éƒ¨ç½²æ•ˆç‡ä½</strong>ï¼šæ¯æ¬¡ä¿®æ”¹å“ªæ€•ä¸€è¡Œä»£ç ï¼Œéƒ½è¦æ‰“åŒ…å…¨é‡åº”ç”¨ï¼ˆå¦‚ 1GB çš„ JAR åŒ…ï¼‰ï¼Œéƒ¨ç½²è€—æ—¶è¶… 30 åˆ†é’Ÿï¼›</li>
</ul>

<ul>
<li><strong>æ‰©å±•å—é™</strong>ï¼šæŸä¸€æ¨¡å—ï¼ˆå¦‚è®¢å•æ¨¡å—ï¼‰QPS é«˜éœ€æ‰©å®¹ï¼Œä½†åªèƒ½æ‰©å®¹æ•´ä¸ªå•ä½“åº”ç”¨ï¼Œèµ„æºæµªè´¹ä¸¥é‡ï¼›</li>
</ul>

<ul>
<li><strong>æŠ€æœ¯æ ˆé”å®š</strong>ï¼šå•ä½“ç”¨ Java å¼€å‘ï¼Œæƒ³ç»™æ•°æ®åˆ†ææ¨¡å—ç”¨ Python å´æ— æ³•é›†æˆï¼›</li>
</ul>

<ul>
<li><strong>å›¢é˜Ÿåä½œéš¾</strong>ï¼šå¤šä¸ªå›¢é˜ŸåŒæ—¶ä¿®æ”¹å•ä½“ä»£ç ï¼Œä»£ç å†²çªé¢‘ç¹ï¼Œåˆå¹¶è€—æ—¶ï¼›</li>
</ul>

<ul>
<li><strong>æ•…éšœå½±å“å¤§</strong>ï¼šä¸€ä¸ªæ¨¡å—ï¼ˆå¦‚æ—¥å¿—æ¨¡å—ï¼‰å‡ºç° OOMï¼Œå¯¼è‡´æ•´ä¸ªåº”ç”¨å´©æºƒï¼›</li>
</ul>

<ul>
<li><strong>è¿­ä»£é€Ÿåº¦æ…¢</strong>ï¼šæ–°åŠŸèƒ½å¼€å‘éœ€ç†Ÿæ‚‰æ•´ä¸ªå•ä½“ä»£ç ï¼Œæ–°äººä¸Šæ‰‹å‘¨æœŸè¶… 1 ä¸ªæœˆã€‚</li>
</ul>
<h4 data-id="heading-3">2. é‡æ„çš„æ ¸å¿ƒç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p>æ˜ç¡®ç›®æ ‡æ‰èƒ½é¿å… â€œä¸ºæ‹†è€Œæ‹†â€ï¼Œå¸¸è§ç›®æ ‡åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ä¸šåŠ¡æ•æ·</strong>ï¼šæ–°åŠŸèƒ½ä¸Šçº¿å‘¨æœŸä» 1 å‘¨ç¼©çŸ­è‡³ 1 å¤©ï¼ˆç‹¬ç«‹å¾®æœåŠ¡å¯å•ç‹¬éƒ¨ç½²ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>å¼¹æ€§æ‰©å±•</strong>ï¼šé«˜å¹¶å‘æ¨¡å—ï¼ˆå¦‚å•†å“è¯¦æƒ…ï¼‰å¯ç‹¬ç«‹æ‰©å®¹ï¼Œèµ„æºåˆ©ç”¨ç‡æå‡ 50%ï¼›</li>
</ul>

<ul>
<li><strong>æ•…éšœéš”ç¦»</strong>ï¼šæŸä¸€å¾®æœåŠ¡æ•…éšœï¼ˆå¦‚æ”¯ä»˜æœåŠ¡ï¼‰ï¼Œä¸å½±å“å•†å“æµè§ˆã€è®¢å•åˆ›å»ºç­‰æ ¸å¿ƒæµç¨‹ï¼›</li>
</ul>

<ul>
<li><strong>æŠ€æœ¯è§£è€¦</strong>ï¼šä¸åŒæ¨¡å—å¯é€‰ç”¨é€‚åˆçš„æŠ€æœ¯æ ˆï¼ˆå¦‚ç”¨æˆ·æœåŠ¡ç”¨ Javaï¼Œæ¨èæœåŠ¡ç”¨ Goï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-4">3. ç°é˜¶æ®µæ˜¯å¦å…·å¤‡é‡æ„æ¡ä»¶ï¼Ÿ</h4>
<p>è‡³å°‘æ»¡è¶³ä»¥ä¸‹ 2 ä¸ªæ¡ä»¶å†å¯åŠ¨é‡æ„ï¼Œå¦åˆ™æ˜“åŠé€”è€ŒåºŸï¼š</p>
<ul>
<li><strong>å›¢é˜Ÿèƒ½åŠ›</strong>ï¼šæœ‰ 1-2 åç†Ÿæ‚‰å¾®æœåŠ¡æ¶æ„çš„æŠ€æœ¯è´Ÿè´£äººï¼Œå›¢é˜Ÿäº†è§£ â€œæœåŠ¡æ³¨å†Œå‘ç°ã€åˆ†å¸ƒå¼äº‹åŠ¡â€ ç­‰åŸºç¡€æ¦‚å¿µï¼›</li>
</ul>

<ul>
<li><strong>ä¸šåŠ¡èŠ‚å¥</strong>ï¼šé¿å¼€å¤§ä¿ƒã€ç‰ˆæœ¬è¿­ä»£é«˜å³°ï¼ˆå¦‚ç”µå•†é¿å¼€ 618ã€åŒ 11ï¼‰ï¼Œé€‰æ‹©ä¸šåŠ¡ä½å³°æœŸå¯åŠ¨ï¼ˆå¦‚ Q1 æ·¡å­£ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>èµ„æºæ”¯æŒ</strong>ï¼šæœ‰é¢å¤–çš„æœåŠ¡å™¨ã€ä¸­é—´ä»¶èµ„æºï¼ˆå¦‚æœåŠ¡æ³¨å†Œä¸­å¿ƒã€API ç½‘å…³ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œä¸å½±å“ç°æœ‰ä¸šåŠ¡è¿è¡Œã€‚</li>
</ul>
<h3 data-id="heading-5">äºŒã€ç¬¬ä¸€æ­¥ï¼šè§„åˆ’é˜¶æ®µ â€”â€” æ‹†åˆ†å‰çš„ â€œé¡¶å±‚è®¾è®¡â€ï¼ˆæœ€å…³é”®ï¼Œå†³å®šæˆè´¥ï¼‰</h3>
<p>è§„åˆ’é˜¶æ®µçš„æ ¸å¿ƒæ˜¯ â€œç¡®å®šæ‹†åˆ†è¾¹ç•Œâ€ å’Œ â€œæŠ€æœ¯é€‰å‹â€ï¼Œé¿å…æ‹†åˆ†åå‡ºç° â€œæœåŠ¡ç²’åº¦æ··ä¹±â€â€œè°ƒç”¨é“¾å¤æ‚â€ ç­‰é—®é¢˜ã€‚</p>
<h4 data-id="heading-6">1. æœåŠ¡æ‹†åˆ†ï¼šæŒ‰ â€œä¸šåŠ¡åŸŸâ€ åˆ’åˆ†ï¼Œè€Œé â€œæŠ€æœ¯å±‚â€</h4>
<p>æœ€ç§‘å­¦çš„æ‹†åˆ†æ–¹å¼æ˜¯ â€œ<strong>é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰</strong> â€â€”â€” æŒ‰ä¸šåŠ¡æ¨¡å—çš„èŒè´£è¾¹ç•Œæ‹†åˆ†ï¼Œè€ŒéæŒ‰ â€œController å±‚ã€Service å±‚ã€DAO å±‚â€ ç­‰æŠ€æœ¯å±‚æ‹†åˆ†ã€‚ä»¥ç”µå•†å•ä½“ä¸ºä¾‹ï¼š</p>















<table><thead><tr><th>é”™è¯¯æ‹†åˆ†æ–¹å¼ï¼ˆæŒ‰æŠ€æœ¯å±‚ï¼‰</th><th>æ­£ç¡®æ‹†åˆ†æ–¹å¼ï¼ˆæŒ‰ä¸šåŠ¡åŸŸï¼‰</th><th>æ‹†åˆ†ç†ç”±</th></tr></thead><tbody><tr><td>Controller æœåŠ¡ï¼ˆæ‰€æœ‰æ¥å£ï¼‰ã€Service æœåŠ¡ï¼ˆæ‰€æœ‰ä¸šåŠ¡é€»è¾‘ï¼‰ã€DAO æœåŠ¡ï¼ˆæ‰€æœ‰æ•°æ®åº“æ“ä½œï¼‰</td><td>ç”¨æˆ·ä¸­å¿ƒæœåŠ¡ã€è®¢å•æœåŠ¡ã€å•†å“æœåŠ¡ã€æ”¯ä»˜æœåŠ¡ã€è´­ç‰©è½¦æœåŠ¡</td><td>ä¸šåŠ¡åŸŸè¾¹ç•Œæ¸…æ™°ï¼Œæ¯ä¸ªæœåŠ¡è´Ÿè´£ç‹¬ç«‹çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œå›¢é˜Ÿå¯æŒ‰ä¸šåŠ¡åŸŸåˆ†å·¥</td></tr></tbody></table>
<h5 data-id="heading-7">å…·ä½“æ‹†åˆ†æ­¥éª¤ï¼ˆä»¥ç”µå•†ä¸ºä¾‹ï¼‰ï¼š</h5>
<ol>
<li><strong>æ¢³ç†ä¸šåŠ¡æµç¨‹</strong>ï¼šç”»å‡ºæ ¸å¿ƒä¸šåŠ¡æµç¨‹å›¾ï¼ˆå¦‚ â€œç”¨æˆ·æ³¨å†Œâ†’æµè§ˆå•†å“â†’åŠ å…¥è´­ç‰©è½¦â†’ä¸‹å•â†’æ”¯ä»˜â†’ç‰©æµâ€ï¼‰ï¼›</li>
</ol>

<ol start="2">
<li><strong>è¯†åˆ«ä¸šåŠ¡åŸŸ</strong>ï¼šä»æµç¨‹ä¸­æ‹†åˆ†ç‹¬ç«‹çš„ä¸šåŠ¡æ¨¡å—ï¼ˆç”¨æˆ·ã€å•†å“ã€è®¢å•ã€æ”¯ä»˜ã€è´­ç‰©è½¦ã€ç‰©æµï¼‰ï¼›</li>
</ol>

<ol start="3">
<li><strong>å®šä¹‰æœåŠ¡è¾¹ç•Œ</strong>ï¼šæ˜ç¡®æ¯ä¸ªæœåŠ¡çš„æ ¸å¿ƒèŒè´£ï¼Œé¿å…äº¤å‰ï¼ˆå¦‚ â€œè®¢å•æœåŠ¡â€ è´Ÿè´£è®¢å•åˆ›å»º / å–æ¶ˆ / æŸ¥è¯¢ï¼Œâ€œæ”¯ä»˜æœåŠ¡â€ è´Ÿè´£æ”¯ä»˜å‘èµ· / å›è°ƒ / é€€æ¬¾ï¼Œä¸¤è€…é€šè¿‡ â€œè®¢å• IDâ€ äº¤äº’ï¼‰ï¼›</li>
</ol>

<ol start="4">
<li><strong>éªŒè¯è¾¹ç•Œåˆç†æ€§</strong>ï¼šé—®è‡ªå·± 3 ä¸ªé—®é¢˜ï¼šâ‘  è¿™ä¸ªæœåŠ¡æ˜¯å¦å¯ç‹¬ç«‹éƒ¨ç½²ï¼Ÿâ‘¡ å›¢é˜Ÿæ˜¯å¦å¯ç‹¬ç«‹ç»´æŠ¤è¿™ä¸ªæœåŠ¡ï¼Ÿâ‘¢ æœåŠ¡å†…çš„ä»£ç æ˜¯å¦é«˜åº¦å†…èšï¼Ÿ</li>
</ol>
<h5 data-id="heading-8">æœåŠ¡ç²’åº¦æ§åˆ¶ï¼šé¿å… â€œè¿‡ç²—â€ æˆ– â€œè¿‡ç»†â€</h5>
<ul>
<li><strong>è¿‡ç²—é—®é¢˜</strong>ï¼šå°† â€œè®¢å• + æ”¯ä»˜ + ç‰©æµâ€ æ‹†ä¸ºä¸€ä¸ª â€œäº¤æ˜“æœåŠ¡â€ï¼Œä»å­˜åœ¨å•ä½“çš„éƒ¨åˆ†ç—›ç‚¹ï¼ˆå¦‚æ”¯ä»˜æ¨¡å—æ•…éšœå½±å“è®¢å•ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>è¿‡ç»†é—®é¢˜</strong>ï¼šå°† â€œè®¢å•åˆ›å»ºâ€â€œè®¢å•å–æ¶ˆâ€â€œè®¢å•æŸ¥è¯¢â€ æ‹†ä¸º 3 ä¸ªæœåŠ¡ï¼Œå¯¼è‡´è°ƒç”¨é“¾è¿‡é•¿ï¼ˆæŸ¥è®¢å•éœ€è°ƒç”¨ 3 ä¸ªæœåŠ¡ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>åˆç†ç²’åº¦</strong>ï¼šä¸€ä¸ªæœåŠ¡åŒ…å« â€œåŒä¸€ä¸šåŠ¡åŸŸä¸‹çš„å®Œæ•´åŠŸèƒ½â€ï¼ˆå¦‚è®¢å•æœåŠ¡åŒ…å«åˆ›å»ºã€å–æ¶ˆã€æŸ¥è¯¢ã€ä¿®æ”¹æ”¶è´§åœ°å€ç­‰æ‰€æœ‰è®¢å•ç›¸å…³æ“ä½œï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-9">2. æŠ€æœ¯é€‰å‹ï¼šä¼˜å…ˆ â€œæˆç†Ÿç¨³å®šâ€ï¼Œè€Œé â€œæ–°æ½®æŠ€æœ¯â€</h4>
<p>æŠ€æœ¯é€‰å‹éœ€è¦†ç›– â€œæœåŠ¡æ³¨å†Œå‘ç°ã€API ç½‘å…³ã€é€šä¿¡åè®®ã€æ•°æ®å­˜å‚¨ã€åˆ†å¸ƒå¼äº‹åŠ¡â€ ç­‰æ ¸å¿ƒç»„ä»¶ï¼Œç¡®ä¿å…¼å®¹æ€§å’Œç¨³å®šæ€§ï¼š</p>





















































<table><thead><tr><th>ç»„ä»¶ç±»å‹</th><th>æ¨èé€‰å‹ï¼ˆä¸­å°å›¢é˜Ÿï¼‰</th><th>å¤‡é€‰é€‰å‹ï¼ˆå¤§å‹å›¢é˜Ÿï¼‰</th><th>é€‰å‹ç†ç”±</th></tr></thead><tbody><tr><td>æœåŠ¡æ³¨å†Œå‘ç°</td><td>Nacosï¼ˆè½»é‡ã€æ”¯æŒé…ç½®ä¸­å¿ƒï¼‰</td><td>Eureka+Config Server</td><td>Nacos ä¸€ç«™å¼è§£å†³æ³¨å†Œå’Œé…ç½®ï¼Œéƒ¨ç½²æˆæœ¬ä½</td></tr><tr><td>API ç½‘å…³</td><td>Spring Cloud Gatewayï¼ˆæ€§èƒ½é«˜ã€æ”¯æŒåŠ¨æ€è·¯ç”±ï¼‰</td><td>Kongï¼ˆå¼€æºç½‘å…³ï¼Œé€‚åˆé«˜å¹¶å‘ï¼‰</td><td>æ¥å…¥å±‚ç»Ÿä¸€ï¼Œè´Ÿè´£è·¯ç”±ã€é‰´æƒã€é™æµï¼Œé¿å…æ¯ä¸ªæœåŠ¡å•ç‹¬å¤„ç†</td></tr><tr><td>æœåŠ¡é€šä¿¡</td><td>HTTPï¼ˆSpring Cloud OpenFeignï¼Œç®€å•æ˜“è°ƒè¯•ï¼‰</td><td>gRPCï¼ˆåŸºäº HTTP/2ï¼Œé€‚åˆå†…éƒ¨æœåŠ¡é«˜é¢‘è°ƒç”¨ï¼‰</td><td>å¯¹å¤–æ¥å£ç”¨ HTTPï¼Œå†…éƒ¨æœåŠ¡é—´é«˜é¢‘è°ƒç”¨ç”¨ gRPC</td></tr><tr><td>æ•°æ®å­˜å‚¨</td><td>å•ä½“æ•°æ®åº“æŒ‰ä¸šåŠ¡åŸŸåˆ†åº“ï¼ˆå¦‚ user_dbã€order_dbã€product_dbï¼‰</td><td>åˆ†åº“åˆ†è¡¨ï¼ˆShardingSphereï¼‰+ åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆRedis Clusterï¼‰</td><td>å…ˆåˆ†åº“ï¼Œåç»­æ•°æ®é‡å¢é•¿å†åˆ†è¡¨ï¼Œé¿å…ä¸€æ­¥åˆ°ä½çš„å¤æ‚åº¦</td></tr><tr><td>æ¶ˆæ¯é˜Ÿåˆ—</td><td>RabbitMQï¼ˆæ˜“ç”¨ã€æ”¯æŒæ­»ä¿¡é˜Ÿåˆ—ï¼‰</td><td>Kafkaï¼ˆé«˜ååï¼Œé€‚åˆæ—¥å¿— / å¤§æ•°æ®åœºæ™¯ï¼‰</td><td>è§£è€¦æœåŠ¡é—´åŒæ­¥è°ƒç”¨ï¼ˆå¦‚è®¢å•åˆ›å»ºåï¼Œé€šè¿‡ MQ é€šçŸ¥åº“å­˜æœåŠ¡æ‰£å‡åº“å­˜ï¼‰</td></tr><tr><td>åˆ†å¸ƒå¼äº‹åŠ¡</td><td>Seataï¼ˆAT æ¨¡å¼ï¼Œä½ä¾µå…¥ï¼‰</td><td>å¯é æ¶ˆæ¯æœ€ç»ˆä¸€è‡´æ€§ï¼ˆåŸºäº MQï¼Œé€‚åˆéå¼ºä¸€è‡´åœºæ™¯ï¼‰</td><td>ä¸­å°å›¢é˜Ÿä¼˜å…ˆç”¨ Seataï¼Œé™ä½åˆ†å¸ƒå¼äº‹åŠ¡çš„å¼€å‘å¤æ‚åº¦</td></tr><tr><td>ç›‘æ§è¿½è¸ª</td><td>SkyWalkingï¼ˆå¼€æºã€æ”¯æŒå…¨é“¾è·¯è¿½è¸ªï¼‰</td><td>Zipkin+Prometheus+Grafana</td><td>ç›‘æ§æœåŠ¡è°ƒç”¨é“¾ã€å“åº”æ—¶é—´ã€é”™è¯¯ç‡ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥</td></tr></tbody></table>
<h4 data-id="heading-10">3. ç”»å‡º â€œç›®æ ‡æ¶æ„å›¾â€</h4>
<p>æ˜ç¡®æ‹†åˆ†åçš„æ•´ä½“æ¶æ„ï¼ŒåŒ…å«æœåŠ¡é—´çš„è°ƒç”¨å…³ç³»å’Œä¾èµ–ç»„ä»¶ã€‚ä»¥ç”µå•†ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ· â†’ CDN â†’ APIç½‘å…³ï¼ˆNacosåŠ¨æ€è·¯ç”±ï¼‰ â†’ å„å¾®æœåŠ¡ï¼ˆç”¨æˆ·/è®¢å•/å•†å“/æ”¯ä»˜ï¼‰
<span class="hljs-code">                                          â†“
                          ä¸­é—´ä»¶ï¼ˆNacosæ³¨å†Œä¸­å¿ƒã€RabbitMQã€Redisã€MySQLåˆ†åº“ï¼‰
                                          â†“
                          ç›‘æ§ç³»ç»Ÿï¼ˆSkyWalkingã€Prometheus+Grafanaï¼‰
</span></code></pre>
<h3 data-id="heading-11">ä¸‰ã€ç¬¬äºŒæ­¥ï¼šæ‹†åˆ†é˜¶æ®µ â€”â€”â€œå¢é‡æ‹†åˆ†â€ï¼Œè€Œé â€œä¸€æ¬¡æ€§æ¨ç¿»â€</h3>
<p>æœ€å®‰å…¨çš„æ‹†åˆ†æ–¹å¼æ˜¯ â€œ<strong>å¢é‡å¼é‡æ„</strong>â€â€”â€” å…ˆä¿ç•™å•ä½“ï¼Œé€æ­¥å°†åŠŸèƒ½æ‹†åˆ°å¾®æœåŠ¡ï¼Œå¾…æ‰€æœ‰åŠŸèƒ½æ‹†åˆ†å®Œæˆåå†ä¸‹çº¿å•ä½“ã€‚é¿å… â€œåœæœºé‡æ„â€ å¯¼è‡´ä¸šåŠ¡ä¸­æ–­ã€‚</p>
<h4 data-id="heading-12">1. æ‹†åˆ†é¡ºåºï¼šä» â€œéæ ¸å¿ƒâ€ åˆ° â€œæ ¸å¿ƒâ€ï¼Œä» â€œç‹¬ç«‹â€ åˆ° â€œä¾èµ–å¤šâ€</h4>
<p>ä¼˜å…ˆæ‹†åˆ† â€œä½é£é™©ã€ä½ä¾èµ–â€ çš„æœåŠ¡ï¼Œç§¯ç´¯ç»éªŒåå†æ‹†åˆ†æ ¸å¿ƒæœåŠ¡ï¼š</p>





























<table><thead><tr><th>æ‹†åˆ†ä¼˜å…ˆçº§</th><th>æœåŠ¡ç±»å‹</th><th>ç¤ºä¾‹ï¼ˆç”µå•†ï¼‰</th><th>æ‹†åˆ†ç†ç”±</th></tr></thead><tbody><tr><td>1ï¼ˆæœ€é«˜ï¼‰</td><td>éæ ¸å¿ƒã€æ— ä¾èµ–</td><td>æ—¥å¿—æœåŠ¡ã€é€šçŸ¥æœåŠ¡ï¼ˆçŸ­ä¿¡ / é‚®ä»¶ï¼‰ã€æ•°æ®ç»Ÿè®¡æœåŠ¡</td><td>ä¸å½±å“æ ¸å¿ƒä¸šåŠ¡ï¼Œå³ä½¿æ‹†åˆ†å¤±è´¥ä¹Ÿä¸ä¼šå¯¼è‡´çº¿ä¸Šé—®é¢˜</td></tr><tr><td>2</td><td>ä½ä¾èµ–ã€ç‹¬ç«‹ä¸šåŠ¡</td><td>å•†å“æœåŠ¡ï¼ˆæµè§ˆã€æœç´¢ï¼‰ã€è´­ç‰©è½¦æœåŠ¡</td><td>ä¾èµ–å°‘ï¼ˆå¦‚å•†å“æœåŠ¡ä»…ä¾èµ–è‡ªå·±çš„æ•°æ®åº“ï¼‰ï¼Œæ‹†åˆ†åè°ƒç”¨é“¾ç®€å•</td></tr><tr><td>3</td><td>æ ¸å¿ƒã€é«˜ä¾èµ–</td><td>è®¢å•æœåŠ¡ã€æ”¯ä»˜æœåŠ¡ã€ç”¨æˆ·ä¸­å¿ƒæœåŠ¡</td><td>ä¾èµ–å¤šï¼ˆå¦‚è®¢å•æœåŠ¡ä¾èµ–ç”¨æˆ·ã€å•†å“ã€æ”¯ä»˜æœåŠ¡ï¼‰ï¼Œéœ€å…ˆæ‹†åˆ†ä¾èµ–çš„æœåŠ¡</td></tr></tbody></table>
<h4 data-id="heading-13">2. å…·ä½“æ‹†åˆ†æ­¥éª¤ï¼ˆä»¥ â€œå•†å“æœåŠ¡â€ ä¸ºä¾‹ï¼‰ï¼š</h4>
<h5 data-id="heading-14">æ­¥éª¤ 1ï¼šâ€œåŒå†™â€ é˜¶æ®µ â€”â€” å•ä½“ä¸å¾®æœåŠ¡å¹¶è¡Œ</h5>
<ol>
<li><strong>æ–°å»ºå•†å“å¾®æœåŠ¡</strong>ï¼šå¼€å‘å•†å“æœåŠ¡çš„æ ¸å¿ƒåŠŸèƒ½ï¼ˆå•†å“åˆ›å»ºã€æŸ¥è¯¢ã€ä¸Šä¸‹æ¶ï¼‰ï¼Œè¿æ¥ç‹¬ç«‹çš„product_dbæ•°æ®åº“ï¼›</li>
</ol>

<ol start="2">
<li><strong>å•ä½“åŒæ­¥æ•°æ®åˆ°å¾®æœåŠ¡</strong>ï¼šåœ¨å•ä½“çš„å•†å“æ¨¡å—ä¸­æ·»åŠ  â€œæ•°æ®åŒæ­¥é€»è¾‘â€â€”â€” å½“å•ä½“ä¿®æ”¹å•†å“æ•°æ®æ—¶ï¼Œé€šè¿‡ MQ åŒæ­¥åˆ°å•†å“æœåŠ¡çš„product_dbï¼ˆç¡®ä¿ä¸¤è¾¹æ•°æ®ä¸€è‡´ï¼‰ï¼›</li>
</ol>

<ol start="3">
<li><strong>å¾®æœåŠ¡åªè¯»</strong>ï¼šæ­¤æ—¶å¾®æœåŠ¡ä»…æä¾› â€œå•†å“æŸ¥è¯¢â€ æ¥å£ï¼Œä¸æä¾›å†™å…¥æ¥å£ï¼Œæ‰€æœ‰å†™å…¥ä»é€šè¿‡å•ä½“ï¼ˆé™ä½é£é™©ï¼‰ï¼›</li>
</ol>

<ol start="4">
<li><strong>éªŒè¯æ•°æ®ä¸€è‡´æ€§</strong>ï¼šå¯¹æ¯”å•ä½“å’Œå¾®æœåŠ¡çš„å•†å“æ•°æ®ï¼Œç¡®ä¿åŒæ­¥æ— è¯¯ï¼ˆå¦‚å®šæ—¶ä»»åŠ¡æ ¡éªŒå•†å“æ•°é‡ã€ä»·æ ¼ï¼‰ã€‚</li>
</ol>
<h5 data-id="heading-15">æ­¥éª¤ 2ï¼šâ€œæµé‡åˆ‡æ¢â€ é˜¶æ®µ â€”â€” é€æ­¥å°†æµé‡åˆ‡åˆ°å¾®æœåŠ¡</h5>
<ol>
<li><strong>API ç½‘å…³è·¯ç”±é…ç½®</strong>ï¼šåœ¨ API ç½‘å…³ä¸­é…ç½® â€œå•†å“æŸ¥è¯¢â€ æ¥å£çš„è·¯ç”±è§„åˆ™ â€”â€” å…ˆå°† 10% çš„æµé‡è·¯ç”±åˆ°å•†å“æœåŠ¡ï¼Œ90% ä»è·¯ç”±åˆ°å•ä½“ï¼›</li>
</ol>

<ol start="2">
<li><strong>ç›‘æ§ä¸å›æ»š</strong>ï¼šè§‚å¯Ÿå¾®æœåŠ¡çš„å“åº”æ—¶é—´ã€é”™è¯¯ç‡ï¼Œè‹¥å‡ºç°é—®é¢˜ï¼ˆå¦‚å“åº”æ—¶é—´è¶… 500msï¼‰ï¼Œç«‹å³é€šè¿‡ç½‘å…³å°†æµé‡åˆ‡å›å•ä½“ï¼›</li>
</ol>

<ol start="3">
<li><strong>é€æ­¥æ‰©å¤§æµé‡</strong>ï¼šæ— é—®é¢˜åï¼Œé€æ­¥å°†æµé‡æ¯”ä¾‹è°ƒæ•´ä¸º 30%â†’50%â†’80%â†’100%ï¼Œæ¯æ¬¡è°ƒæ•´åè§‚å¯Ÿ 1-2 å¤©ï¼›</li>
</ol>

<ol start="4">
<li><strong>åœç”¨å•ä½“å•†å“æ¨¡å—</strong>ï¼š100% æµé‡åˆ‡åˆ°å¾®æœåŠ¡ä¸”ç¨³å®šè¿è¡Œ 1 å‘¨åï¼Œåˆ é™¤å•ä½“ä¸­çš„å•†å“æ¨¡å—ä»£ç ã€‚</li>
</ol>
<h5 data-id="heading-16">æ­¥éª¤ 3ï¼šâ€œç‹¬ç«‹å†™å…¥â€ é˜¶æ®µ â€”â€” å¾®æœåŠ¡æ¥ç®¡å…¨é‡åŠŸèƒ½</h5>
<ol>
<li><strong>å¼€å‘å¾®æœåŠ¡å†™å…¥æ¥å£</strong>ï¼šå¼€å‘å•†å“åˆ›å»ºã€ä¸Šä¸‹æ¶ç­‰å†™å…¥æ¥å£ï¼›</li>
</ol>

<ol start="2">
<li><strong>åˆ‡æ¢å†™å…¥æµé‡</strong>ï¼šå°†å‰ç«¯çš„å•†å“å†™å…¥æ“ä½œï¼ˆå¦‚å•†å®¶æ·»åŠ å•†å“ï¼‰è·¯ç”±åˆ°å¾®æœåŠ¡ï¼›</li>
</ol>

<ol start="3">
<li><strong>åˆ é™¤å•ä½“åŒæ­¥é€»è¾‘</strong>ï¼šæ­¤æ—¶å¾®æœåŠ¡å·²ç‹¬ç«‹è¿è¡Œï¼Œåˆ é™¤å•ä½“ä¸­å•†å“æ¨¡å—çš„ â€œæ•°æ®åŒæ­¥â€ ä»£ç ï¼›</li>
</ol>

<ol start="4">
<li><strong>å½’æ¡£å•ä½“æ•°æ®</strong>ï¼šå°†å•ä½“product_dbçš„æ•°æ®å½’æ¡£åï¼Œå¯åˆ é™¤è¯¥åº“ï¼ˆæˆ–ä¿ç•™ 1 ä¸ªæœˆååˆ é™¤ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-17">3. æ•°æ®è¿ç§»ï¼šé¿å… â€œæ•°æ®ä¸ä¸€è‡´â€</h4>
<p>æ•°æ®æ˜¯é‡æ„ä¸­çš„ â€œé‡ä¸­ä¹‹é‡â€ï¼Œéœ€ç¡®ä¿è¿ç§»è¿‡ç¨‹ä¸­æ•°æ®ä¸ä¸¢å¤±ã€ä¸é‡å¤ã€‚</p>
<h5 data-id="heading-18">å¸¸è§æ•°æ®è¿ç§»æ–¹æ¡ˆï¼š</h5>




















<table><thead><tr><th>è¿ç§»åœºæ™¯</th><th>æ–¹æ¡ˆ</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>å•ä½“åˆ†åº“ï¼ˆåŒä¸€æ•°æ®åº“å®ä¾‹ï¼Œæ‹†ä¸ºå¤šä¸ªåº“ï¼‰</td><td>â‘  æ–°å»ºåˆ†åº“ï¼ˆå¦‚ user_dbã€order_dbï¼‰ï¼›â‘¡ ç”¨INSERT INTO ... SELECTè¯­å¥ä»å•ä½“åº“è¿ç§»å†å²æ•°æ®ï¼›â‘¢ è¿ç§»åé€šè¿‡ SQL æ ¡éªŒæ•°æ®é‡ï¼ˆå¦‚SELECT COUNT(<em>) FROM å•ä½“åº“.ç”¨æˆ·è¡¨ vs SELECT COUNT(</em>) FROM user_db.ç”¨æˆ·è¡¨ï¼‰</td><td>æ•°æ®é‡å°ï¼ˆç™¾ä¸‡çº§ä»¥å†…ï¼‰ï¼Œå¯åœæœºè¿ç§»ï¼ˆå¦‚å‡Œæ™¨ä½å³°æœŸï¼‰</td></tr><tr><td>è·¨å®ä¾‹åˆ†åº“ï¼ˆæ•°æ®é‡è¶…åƒä¸‡ï¼Œéœ€è¿ç§»åˆ°æ–°æ•°æ®åº“å®ä¾‹ï¼‰</td><td>â‘  ç”¨ Canal ç›‘å¬å•ä½“åº“çš„ binlogï¼Œå®æ—¶åŒæ­¥æ•°æ®åˆ°åˆ†åº“ï¼›â‘¡ å…ˆåŒæ­¥å†å²æ•°æ®ï¼ˆå…¨é‡è¿ç§»ï¼‰ï¼Œå†åŒæ­¥å¢é‡æ•°æ®ï¼ˆbinlogï¼‰ï¼›â‘¢ æ ¡éªŒæ•°æ®ä¸€è‡´æ€§ï¼ˆå¦‚å¯¹æ¯”ä¸»é”®ç›¸åŒçš„è®°å½•ï¼‰ï¼›â‘£ åˆ‡æ¢è¯»æµé‡åˆ°åˆ†åº“ï¼Œç¨³å®šååˆ‡æ¢å†™æµé‡</td><td>æ•°æ®é‡å¤§ï¼ˆåƒä¸‡çº§ä»¥ä¸Šï¼‰ï¼Œä¸èƒ½åœæœºè¿ç§»</td></tr></tbody></table>
<h5 data-id="heading-19">æ•°æ®ä¸€è‡´æ€§ä¿éšœï¼š</h5>
<ul>
<li><strong>è¿ç§»å‰</strong>ï¼šå†»ç»“å•ä½“åº“çš„å†™å…¥æƒé™ï¼ˆä»…å…è®¸è¯»ï¼‰ï¼Œç¡®ä¿å†å²æ•°æ®ä¸å˜åŒ–ï¼›</li>
</ul>

<ul>
<li><strong>è¿ç§»ä¸­</strong>ï¼šè®°å½•è¿ç§»æ—¥å¿—ï¼ˆå¦‚æˆåŠŸ / å¤±è´¥çš„è®°å½• IDï¼‰ï¼Œå¤±è´¥çš„è®°å½•æ‰‹åŠ¨è¡¥è¿ï¼›</li>
</ul>

<ul>
<li><strong>è¿ç§»å</strong>ï¼šè¿è¡Œ 1-2 å‘¨çš„ â€œåŒè¯»â€ æ ¡éªŒï¼ˆåŒæ—¶è¯»å•ä½“åº“å’Œåˆ†åº“ï¼Œå¯¹æ¯”ç»“æœï¼‰ï¼Œå‘ç°ä¸ä¸€è‡´ç«‹å³ä¿®å¤ã€‚</li>
</ul>
<h3 data-id="heading-20">å››ã€ç¬¬ä¸‰æ­¥ï¼šè¿‡æ¸¡é˜¶æ®µ â€”â€” å…¼å®¹æ—§æ¥å£ï¼Œæ§åˆ¶é£é™©</h3>
<p>æ‹†åˆ†è¿‡ç¨‹ä¸­ï¼Œæ–°æ—§ç³»ç»Ÿå¹¶è¡Œè¿è¡Œï¼Œéœ€è§£å†³ â€œæ¥å£å…¼å®¹â€ å’Œ â€œæœåŠ¡è°ƒç”¨â€ é—®é¢˜ï¼Œé¿å…å½±å“ç°æœ‰ä¸šåŠ¡ã€‚</p>
<h4 data-id="heading-21">1. æ¥å£å…¼å®¹ï¼šé¿å…å‰ç«¯å¤§è§„æ¨¡ä¿®æ”¹</h4>
<p>å•ä½“çš„æ—§æ¥å£å¯èƒ½è¢«å‰ç«¯ã€ç¬¬ä¸‰æ–¹ç³»ç»Ÿè°ƒç”¨ï¼Œæ‹†åˆ†åéœ€ç¡®ä¿æ—§æ¥å£ä»å¯ç”¨ï¼š</p>
<ul>
<li><strong>æ–¹æ¡ˆ 1ï¼šAPI ç½‘å…³é€‚é…</strong>ï¼šåœ¨ç½‘å…³å±‚å°†æ—§æ¥å£è·¯ç”±åˆ°æ–°å¾®æœåŠ¡ï¼Œå¹¶è½¬æ¢è¯·æ±‚ / å“åº”æ ¼å¼ï¼ˆå¦‚å•ä½“æ¥å£è¿”å›{code:0, msg:"success", data:{}}ï¼Œå¾®æœåŠ¡è¿”å›{status:200, message:"success", result:{}}ï¼Œç½‘å…³è´Ÿè´£æ ¼å¼è½¬æ¢ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>æ–¹æ¡ˆ 2ï¼šå¾®æœåŠ¡æä¾›å…¼å®¹æ¥å£</strong>ï¼šåœ¨æ–°å¾®æœåŠ¡ä¸­å¼€å‘ â€œæ—§æ¥å£å…¼å®¹å±‚â€ï¼Œå¦‚ï¼š</li>
</ul>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// å¾®æœåŠ¡ä¸­çš„å…¼å®¹æ¥å£ï¼ˆå¯¹åº”å•ä½“çš„æ—§æ¥å£ï¼‰</span>
<span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/v1/old"</span>)
public class OldOrderController {
    <span class="hljs-variable">@Autowired</span>
    private OrderService orderService;
    
    <span class="hljs-comment">// å•ä½“æ—§æ¥å£ï¼š/api/order/getOrderById</span>
    <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"/api/order/getOrderById"</span>)
    public OldResultDTO <span class="hljs-built_in">getOrderById</span>(Long orderId) {
        <span class="hljs-comment">// è°ƒç”¨å¾®æœåŠ¡çš„æ–°æ¥å£</span>
        <span class="hljs-selector-tag">NewOrderDTO</span> <span class="hljs-selector-tag">newOrder</span> = <span class="hljs-selector-tag">orderService</span><span class="hljs-selector-class">.getOrder</span>(orderId);
        <span class="hljs-comment">// è½¬æ¢ä¸ºæ—§æ¥å£çš„è¿”å›æ ¼å¼</span>
        <span class="hljs-selector-tag">OldResultDTO</span> <span class="hljs-selector-tag">oldResult</span> = <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">OldResultDTO</span>();
        <span class="hljs-selector-tag">oldResult</span><span class="hljs-selector-class">.setCode</span>(<span class="hljs-number">0</span>);
        <span class="hljs-selector-tag">oldResult</span><span class="hljs-selector-class">.setMsg</span>(<span class="hljs-string">"success"</span>);
        <span class="hljs-selector-tag">oldResult</span><span class="hljs-selector-class">.setData</span>(new <span class="hljs-built_in">OldOrderDataDTO</span>(newOrder));
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">oldResult</span>;
    }
}
</code></pre>
<h4 data-id="heading-22">2. æœåŠ¡è°ƒç”¨ï¼šè§£å†³ â€œå•ä½“è°ƒç”¨å¾®æœåŠ¡â€ å’Œ â€œå¾®æœåŠ¡é—´è°ƒç”¨â€</h4>
<ul>
<li><strong>å•ä½“è°ƒç”¨å¾®æœåŠ¡</strong>ï¼šåœ¨å•ä½“ä¸­å¼•å…¥å¾®æœåŠ¡çš„ SDKï¼ˆå¦‚ Spring Cloud OpenFeignï¼‰ï¼Œé€šè¿‡æœåŠ¡åè°ƒç”¨å¾®æœåŠ¡ï¼ˆå¦‚å•ä½“çš„è®¢å•æ¨¡å—è°ƒç”¨å¾®æœåŠ¡çš„æ”¯ä»˜æ¥å£ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>å¾®æœåŠ¡é—´è°ƒç”¨</strong>ï¼šç”¨ â€œæœåŠ¡åâ€ è€Œé â€œIP: ç«¯å£â€ è°ƒç”¨ï¼ˆé€šè¿‡ Nacos å‘ç°æœåŠ¡ï¼‰ï¼Œå¦‚è®¢å•æœåŠ¡è°ƒç”¨æ”¯ä»˜æœåŠ¡ï¼š</li>
</ul>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// è®¢å•æœåŠ¡è°ƒç”¨æ”¯ä»˜æœåŠ¡ï¼ˆSpring Cloud OpenFeignï¼‰</span>
<span class="hljs-variable">@FeignClient</span>(name = <span class="hljs-string">"payment-service"</span>) <span class="hljs-comment">// æœåŠ¡åï¼ˆåœ¨Nacosæ³¨å†Œï¼‰</span>
public interface PaymentFeignClient {
    <span class="hljs-comment">// æ”¯ä»˜æœåŠ¡çš„æ¥å£</span>
    <span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/v1/payment/create"</span>)
    PaymentResultDTO <span class="hljs-built_in">createPayment</span>(<span class="hljs-variable">@RequestBody</span> PaymentRequestDTO request);
}
<span class="hljs-comment">// è®¢å•æœåŠ¡ä¸­ä½¿ç”¨</span>
<span class="hljs-variable">@Service</span>
public class OrderService {
    <span class="hljs-variable">@Autowired</span>
    private PaymentFeignClient paymentFeignClient;
    
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">createOrder</span>(OrderDTO order) {
        <span class="hljs-comment">// è°ƒç”¨æ”¯ä»˜æœåŠ¡åˆ›å»ºæ”¯ä»˜å•</span>
        <span class="hljs-selector-tag">PaymentRequestDTO</span> <span class="hljs-selector-tag">request</span> = <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">PaymentRequestDTO</span>(order.<span class="hljs-built_in">getOrderId</span>(), order.<span class="hljs-built_in">getAmount</span>());
        <span class="hljs-selector-tag">PaymentResultDTO</span> <span class="hljs-selector-tag">result</span> = <span class="hljs-selector-tag">paymentFeignClient</span><span class="hljs-selector-class">.createPayment</span>(request);
        <span class="hljs-comment">// å¤„ç†æ”¯ä»˜ç»“æœ</span>
    }
}
</code></pre>
<h4 data-id="heading-23">3. åˆ†å¸ƒå¼äº‹åŠ¡ï¼šè§£å†³ â€œè·¨æœåŠ¡æ•°æ®ä¸€è‡´æ€§â€</h4>
<p>æ‹†åˆ†åï¼Œè·¨æœåŠ¡çš„æ“ä½œï¼ˆå¦‚ â€œä¸‹å•â†’æ‰£åº“å­˜â€ï¼‰éœ€ä¿è¯äº‹åŠ¡ä¸€è‡´æ€§ï¼Œé¿å… â€œè®¢å•åˆ›å»ºæˆåŠŸä½†åº“å­˜æœªæ‰£å‡â€ çš„é—®é¢˜ã€‚</p>
<h5 data-id="heading-24">ä¸­å°å›¢é˜Ÿä¼˜å…ˆé€‰æ‹© â€œSeata AT æ¨¡å¼â€ï¼ˆä½ä¾µå…¥ï¼‰ï¼š</h5>
<ol>
<li><strong>éƒ¨ç½² Seata Server</strong>ï¼šä½œä¸ºåˆ†å¸ƒå¼äº‹åŠ¡åè°ƒè€…ï¼›</li>
</ol>

<ol start="2">
<li><strong>å¾®æœåŠ¡é›†æˆ Seata</strong>ï¼šåœ¨æ¯ä¸ªå¾®æœåŠ¡ä¸­å¼•å…¥ Seata ä¾èµ–ï¼Œé…ç½®äº‹åŠ¡ç»„ï¼›</li>
</ol>

<ol start="3">
<li><strong>æ ‡è®°å…¨å±€äº‹åŠ¡</strong>ï¼šåœ¨å‘èµ·äº‹åŠ¡çš„æœåŠ¡æ–¹æ³•ä¸Šæ·»åŠ @GlobalTransactionalæ³¨è§£ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è®¢å•æœåŠ¡ï¼ˆå‘èµ·å…¨å±€äº‹åŠ¡ï¼‰</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderMapper orderMapper;
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> InventoryFeignClient inventoryFeignClient;
    
    <span class="hljs-comment">// å…¨å±€äº‹åŠ¡ï¼šåˆ›å»ºè®¢å•+æ‰£å‡åº“å­˜</span>
    <span class="hljs-meta">@GlobalTransactional(rollbackFor = Exception.class)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(OrderDTO order)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºè®¢å•ï¼ˆè®¢å•æœåŠ¡æœ¬åœ°äº‹åŠ¡ï¼‰</span>
        orderMapper.insert(order);
        <span class="hljs-comment">// 2. è°ƒç”¨åº“å­˜æœåŠ¡æ‰£å‡åº“å­˜ï¼ˆè·¨æœåŠ¡äº‹åŠ¡ï¼‰</span>
        <span class="hljs-type">InventoryRequestDTO</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InventoryRequestDTO</span>(order.getProductId(), order.getQuantity());
        <span class="hljs-type">InventoryResultDTO</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> inventoryFeignClient.deductInventory(request);
        <span class="hljs-keyword">if</span> (!result.isSuccess()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åº“å­˜ä¸è¶³ï¼Œäº‹åŠ¡å›æ»š"</span>);
        }
    }
}
</code></pre>
<ul>
<li><strong>åŸç†</strong>ï¼šSeata é€šè¿‡ â€œundo logâ€ å’Œ â€œå…¨å±€é”â€ å®ç°äº‹åŠ¡å›æ»šï¼Œä¸šåŠ¡ä»£ç å‡ ä¹æ— éœ€ä¿®æ”¹ï¼Œé€‚åˆä¸­å°å›¢é˜Ÿã€‚</li>
</ul>
<h3 data-id="heading-25">äº”ã€ç¬¬å››æ­¥ï¼šæ²»ç†é˜¶æ®µ â€”â€” å¾®æœåŠ¡ç¨³å®šè¿è¡Œçš„ä¿éšœ</h3>
<p>æ‹†åˆ†å®Œæˆåï¼Œéœ€é€šè¿‡ â€œç›‘æ§ã€ç†”æ–­ã€é™æµâ€ ç­‰æ‰‹æ®µä¿éšœå¾®æœåŠ¡çš„ç¨³å®šæ€§ï¼Œé¿å… â€œä¸€ä¸ªæœåŠ¡æ•…éšœå¯¼è‡´å…¨é“¾è·¯å´©æºƒâ€ã€‚</p>
<h4 data-id="heading-26">1. å…¨é“¾è·¯ç›‘æ§ï¼šå¿«é€Ÿå®šä½é—®é¢˜</h4>
<ul>
<li><strong>è°ƒç”¨é“¾è¿½è¸ª</strong>ï¼šç”¨ SkyWalking è®°å½•æœåŠ¡é—´çš„è°ƒç”¨å…³ç³»ï¼ˆå¦‚ â€œç”¨æˆ·æœåŠ¡â†’è®¢å•æœåŠ¡â†’æ”¯ä»˜æœåŠ¡â€ï¼‰ï¼Œå½“æ”¯ä»˜æœåŠ¡å“åº”æ…¢æ—¶ï¼Œå¯å¿«é€Ÿå®šä½æ˜¯å“ªä¸ªç¯èŠ‚å‡ºé—®é¢˜ï¼›</li>
</ul>

<ul>
<li><strong>æŒ‡æ ‡ç›‘æ§</strong>ï¼šç”¨ Prometheus+Grafana ç›‘æ§æ¯ä¸ªæœåŠ¡çš„æ ¸å¿ƒæŒ‡æ ‡ï¼ˆQPSã€å“åº”æ—¶é—´ P95/P99ã€é”™è¯¯ç‡ã€CPU / å†…å­˜ä½¿ç”¨ç‡ï¼‰ï¼Œè®¾ç½®å‘Šè­¦é˜ˆå€¼ï¼ˆå¦‚å“åº”æ—¶é—´ P95&gt;500ms å‘Šè­¦ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>æ—¥å¿—èšåˆ</strong>ï¼šç”¨ ELKï¼ˆElasticsearch+Logstash+Kibanaï¼‰æ”¶é›†æ‰€æœ‰å¾®æœåŠ¡çš„æ—¥å¿—ï¼ŒæŒ‰ â€œtraceIdâ€ æŸ¥è¯¢å…¨é“¾è·¯æ—¥å¿—ï¼Œé¿å…é€ä¸ªæœåŠ¡æŸ¥æ—¥å¿—ã€‚</li>
</ul>
<h4 data-id="heading-27">2. ç†”æ–­ä¸é™æµï¼šé˜²æ­¢æœåŠ¡é›ªå´©</h4>
<ul>
<li><strong>ç†”æ–­</strong>ï¼šå½“ä¸€ä¸ªæœåŠ¡ï¼ˆå¦‚æ”¯ä»˜æœåŠ¡ï¼‰æ•…éšœæ—¶ï¼Œè°ƒç”¨æ–¹ï¼ˆå¦‚è®¢å•æœåŠ¡ï¼‰å¿«é€Ÿè¿”å›å¤±è´¥ï¼Œé¿å…é•¿æ—¶é—´ç­‰å¾…å¯¼è‡´çº¿ç¨‹æ± æ»¡ï¼ˆç”¨ Sentinel å®ç°ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è®¢å•æœåŠ¡è°ƒç”¨æ”¯ä»˜æœåŠ¡ï¼Œæ·»åŠ ç†”æ–­è§„åˆ™</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">PaymentFeignClient</span> paymentFeignClient;
    
    <span class="hljs-comment">// Sentinelç†”æ–­ï¼šæ”¯ä»˜æœåŠ¡æ•…éšœæ—¶ï¼Œè¿”å›é»˜è®¤ç»“æœ</span>
    <span class="hljs-meta">@SentinelResource</span>(value = <span class="hljs-string">"createPayment"</span>, fallback = <span class="hljs-string">"createPaymentFallback"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">PaymentResultDTO</span> <span class="hljs-title function_">callPaymentService</span>(<span class="hljs-params">PaymentRequestDTO request</span>) {
        <span class="hljs-keyword">return</span> paymentFeignClient.<span class="hljs-title function_">createPayment</span>(request);
    }
    
    <span class="hljs-comment">// ç†”æ–­é™çº§å‡½æ•°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">PaymentResultDTO</span> <span class="hljs-title function_">createPaymentFallback</span>(<span class="hljs-params">PaymentRequestDTO request, Throwable e</span>) {
        log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"æ”¯ä»˜æœåŠ¡è°ƒç”¨å¤±è´¥ï¼Œè®¢å•IDï¼š{}"</span>, request.<span class="hljs-title function_">getOrderId</span>(), e);
        <span class="hljs-comment">// è¿”å›é»˜è®¤ç»“æœï¼ˆå¦‚â€œæ”¯ä»˜æœåŠ¡ç¹å¿™ï¼Œè¯·ç¨åé‡è¯•â€ï¼‰</span>
        <span class="hljs-title class_">PaymentResultDTO</span> fallbackResult = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PaymentResultDTO</span>();
        fallbackResult.<span class="hljs-title function_">setSuccess</span>(<span class="hljs-literal">false</span>);
        fallbackResult.<span class="hljs-title function_">setMessage</span>(<span class="hljs-string">"æ”¯ä»˜æœåŠ¡ç¹å¿™ï¼Œè¯·ç¨åé‡è¯•"</span>);
        <span class="hljs-keyword">return</span> fallbackResult;
    }
}
</code></pre>
<ul>
<li><strong>é™æµ</strong>ï¼šå¯¹é«˜å¹¶å‘æ¥å£ï¼ˆå¦‚å•†å“è¯¦æƒ…æ¥å£ï¼‰é™æµï¼Œé¿å…æµé‡çªå¢å‹å®æœåŠ¡ï¼ˆç”¨ API ç½‘å…³å®ç°ï¼Œå¦‚ Spring Cloud Gateway é…ç½®é™æµè§„åˆ™ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-28">3. æŒç»­é›†æˆ / éƒ¨ç½²ï¼ˆCI/CDï¼‰ï¼šæå‡è¿­ä»£æ•ˆç‡</h4>
<p>å¾®æœåŠ¡çš„ä¼˜åŠ¿ä¹‹ä¸€æ˜¯ â€œç‹¬ç«‹éƒ¨ç½²â€ï¼Œéœ€æ­å»ºè‡ªåŠ¨åŒ– CI/CD æµç¨‹ï¼š</p>
<ul>
<li><strong>CI</strong>ï¼šç”¨ Jenkins/GitLab CI å®ç°ä»£ç æäº¤åè‡ªåŠ¨ç¼–è¯‘ã€æµ‹è¯•ï¼ˆå•å…ƒæµ‹è¯•ã€æ¥å£æµ‹è¯•ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>CD</strong>ï¼šç”¨ K8s å®ç°è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¯ä¸ªæœåŠ¡æ‰“åŒ…ä¸º Docker é•œåƒï¼Œé€šè¿‡ K8s éƒ¨ç½²åˆ°é›†ç¾¤ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>ç°åº¦å‘å¸ƒ</strong>ï¼šç”¨ K8s çš„ Deployment å®ç° â€œé‡‘ä¸é›€å‘å¸ƒâ€ï¼ˆå…ˆéƒ¨ç½² 1 ä¸ªå‰¯æœ¬ï¼ŒéªŒè¯æ— è¯¯åå…¨é‡éƒ¨ç½²ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-29">å…­ã€é¿å‘æŒ‡å—ï¼šé‡æ„ä¸­æœ€å®¹æ˜“è¸©çš„ 5 ä¸ªå‘</h3>
<ol>
<li><strong>å‘ 1ï¼šä¸€æ¬¡æ€§æ¨ç¿»é‡æ„</strong></li>
</ol>
<ul>
<li>
<ul>
<li>é—®é¢˜ï¼šè¯•å›¾å°†æ•´ä¸ªå•ä½“æ‹†åˆ†ä¸ºå¾®æœåŠ¡ï¼Œåœæœº 1 å‘¨è¿›è¡Œé‡æ„ï¼Œå¯¼è‡´ä¸šåŠ¡ä¸­æ–­ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>è§£å†³ï¼šåšæŒ â€œå¢é‡æ‹†åˆ†â€ï¼Œæ¯æ¬¡åªæ‹†ä¸€ä¸ªå°æœåŠ¡ï¼Œä¸šåŠ¡æ— æ„ŸçŸ¥ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>å‘ 2ï¼šæœåŠ¡ç²’åº¦è¿‡ç»†</strong></li>
</ol>
<ul>
<li>
<ul>
<li>é—®é¢˜ï¼šå°† â€œè®¢å•åˆ›å»ºâ€â€œè®¢å•æŸ¥è¯¢â€ æ‹†ä¸º 2 ä¸ªæœåŠ¡ï¼Œè°ƒç”¨é“¾è¿‡é•¿ï¼ˆæŸ¥è®¢å•éœ€è°ƒç”¨ 2 ä¸ªæœåŠ¡ + API ç½‘å…³ï¼‰ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>è§£å†³ï¼šæŒ‰ â€œä¸šåŠ¡åŸŸâ€ æ‹†åˆ†ï¼Œç¡®ä¿ä¸€ä¸ªæœåŠ¡åŒ…å«åŒä¸€ä¸šåŠ¡çš„å®Œæ•´åŠŸèƒ½ã€‚</li>
</ul>
</li>
</ul>
<ol start="3">
<li><strong>å‘ 3ï¼šå¿½è§†æ•°æ®è¿ç§»ä¸€è‡´æ€§</strong></li>
</ol>
<ul>
<li>
<ul>
<li>é—®é¢˜ï¼šè¿ç§»æ•°æ®æ—¶æœªæ ¡éªŒï¼Œå¯¼è‡´å¾®æœåŠ¡çš„è®¢å•æ•°æ®æ¯”å•ä½“å°‘ 1000 æ¡ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>è§£å†³ï¼šè¿ç§»å‰åæ ¡éªŒæ•°æ®é‡ã€å…³é”®å­—æ®µï¼Œè¿è¡Œ 1-2 å‘¨åŒè¯»æ ¡éªŒã€‚</li>
</ul>
</li>
</ul>
<ol start="4">
<li><strong>å‘ 4ï¼šæœªåšç†”æ–­é™æµ</strong></li>
</ol>
<ul>
<li>
<ul>
<li>é—®é¢˜ï¼šæ”¯ä»˜æœåŠ¡æ•…éšœï¼Œè®¢å•æœåŠ¡å¤§é‡çº¿ç¨‹ç­‰å¾…æ”¯ä»˜å“åº”ï¼Œå¯¼è‡´è®¢å•æœåŠ¡ä¹Ÿå´©æºƒï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>è§£å†³ï¼šæ‰€æœ‰è·¨æœåŠ¡è°ƒç”¨å¿…é¡»åŠ ç†”æ–­ï¼Œé«˜å¹¶å‘æ¥å£åŠ é™æµã€‚</li>
</ul>
</li>
</ul>
<ol start="5">
<li><strong>å‘ 5ï¼šå›¢é˜Ÿåä½œä¸åŒæ­¥</strong></li>
</ol>
<ul>
<li>
<ul>
<li>é—®é¢˜ï¼šA å›¢é˜Ÿæ‹†è®¢å•æœåŠ¡ï¼ŒB å›¢é˜Ÿæ‹†æ”¯ä»˜æœåŠ¡ï¼Œä¸¤è€…æ¥å£å®šä¹‰ä¸ä¸€è‡´ï¼Œé›†æˆæ—¶å¤±è´¥ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>è§£å†³ï¼šæå‰å®šä¹‰æ¥å£è§„èŒƒï¼ˆå¦‚ç”¨ OpenAPI æ–‡æ¡£ï¼‰ï¼Œå®šæœŸåŒæ­¥è¿›åº¦ï¼Œé›†æˆå‰åšè”è°ƒã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-30">ä¸ƒã€æ¡ˆä¾‹å¤ç›˜ï¼šæŸç”µå•†å•ä½“é‡æ„ä¸ºå¾®æœåŠ¡çš„å®æˆ˜</h3>
<h4 data-id="heading-31">1. åˆå§‹çŠ¶æ€</h4>
<ul>
<li>å•ä½“è§„æ¨¡ï¼šJava å¼€å‘ï¼Œä»£ç é‡ 20 ä¸‡è¡Œï¼Œæ•°æ®åº“ 1 ä¸ªï¼ˆ10 å¼ æ ¸å¿ƒè¡¨ï¼‰ï¼›</li>
</ul>

<ul>
<li>ç—›ç‚¹ï¼šéƒ¨ç½²è€—æ—¶ 40 åˆ†é’Ÿï¼Œè®¢å•æ¨¡å— QPS é«˜æ—¶éœ€æ‰©å®¹æ•´ä¸ªå•ä½“ï¼Œèµ„æºæµªè´¹ 60%ï¼›</li>
</ul>

<ul>
<li>ç›®æ ‡ï¼šæ‹†åˆ†åæœåŠ¡å¯ç‹¬ç«‹éƒ¨ç½²ï¼Œè®¢å•æ¨¡å—å¯å•ç‹¬æ‰©å®¹ï¼Œæ–°åŠŸèƒ½ä¸Šçº¿å‘¨æœŸç¼©çŸ­è‡³ 1 å¤©ã€‚</li>
</ul>
<h4 data-id="heading-32">2. é‡æ„è¿‡ç¨‹ï¼ˆ6 ä¸ªæœˆï¼‰</h4>
<ul>
<li><strong>Month1</strong>ï¼šè§„åˆ’æ‹†åˆ†è¾¹ç•Œï¼ˆç”¨æˆ·ã€å•†å“ã€è®¢å•ã€æ”¯ä»˜ã€è´­ç‰©è½¦ï¼‰ï¼Œæ­å»º Nacosã€Gatewayã€SkyWalking ç¯å¢ƒï¼›</li>
</ul>

<ul>
<li><strong>Month2</strong>ï¼šæ‹†åˆ† â€œå•†å“æœåŠ¡â€ï¼ˆéæ ¸å¿ƒï¼Œä½ä¾èµ–ï¼‰ï¼Œå®Œæˆæ•°æ®è¿ç§»å’Œæµé‡åˆ‡æ¢ï¼›</li>
</ul>

<ul>
<li><strong>Month3</strong>ï¼šæ‹†åˆ† â€œç”¨æˆ·ä¸­å¿ƒæœåŠ¡â€ï¼Œè§£å†³æ¥å£å…¼å®¹ï¼ˆæ—§æ³¨å†Œæ¥å£é€‚é…ï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>Month4</strong>ï¼šæ‹†åˆ† â€œè®¢å•æœåŠ¡â€ å’Œ â€œæ”¯ä»˜æœåŠ¡â€ï¼Œé›†æˆ Seata åˆ†å¸ƒå¼äº‹åŠ¡ï¼›</li>
</ul>

<ul>
<li><strong>Month5</strong>ï¼šæ‹†åˆ† â€œè´­ç‰©è½¦æœåŠ¡â€ï¼Œæ­å»º CI/CD æµç¨‹ï¼ˆJenkins+K8sï¼‰ï¼›</li>
</ul>

<ul>
<li><strong>Month6</strong>ï¼šä¸‹çº¿å•ä½“åº”ç”¨ï¼Œç›‘æ§ä¼˜åŒ–ï¼Œæ·»åŠ ç†”æ–­é™æµè§„åˆ™ã€‚</li>
</ul>
<h4 data-id="heading-33">3. é‡æ„æ•ˆæœ</h4>
<ul>
<li>éƒ¨ç½²æ•ˆç‡ï¼šå•ä¸ªæœåŠ¡éƒ¨ç½²è€—æ—¶ä» 40 åˆ†é’Ÿâ†’5 åˆ†é’Ÿï¼›</li>
</ul>

<ul>
<li>èµ„æºåˆ©ç”¨ç‡ï¼šè®¢å•æ¨¡å—å•ç‹¬æ‰©å®¹ï¼Œèµ„æºæµªè´¹ä» 60%â†’10%ï¼›</li>
</ul>

<ul>
<li>è¿­ä»£é€Ÿåº¦ï¼šæ–°åŠŸèƒ½ä¸Šçº¿å‘¨æœŸä» 1 å‘¨â†’1 å¤©ï¼›</li>
</ul>

<ul>
<li>æ•…éšœå½±å“ï¼šæ”¯ä»˜æœåŠ¡æ•…éšœæ—¶ï¼Œä»…æ”¯ä»˜åŠŸèƒ½ä¸å¯ç”¨ï¼Œè®¢å•åˆ›å»ºã€å•†å“æµè§ˆæ­£å¸¸ã€‚</li>
</ul>
<h3 data-id="heading-34">å…«ã€æ€»ç»“ï¼šé‡æ„çš„æ ¸å¿ƒåŸåˆ™</h3>
<ol>
<li><strong>ä¸šåŠ¡é©±åŠ¨</strong>ï¼šé‡æ„æ˜¯ä¸ºäº†è§£å†³ä¸šåŠ¡ç—›ç‚¹ï¼Œè€Œéè¿½æ±‚æŠ€æœ¯æ½®æµï¼›</li>
</ol>

<ol start="2">
<li><strong>å¢é‡è¿­ä»£</strong>ï¼šå°æ­¥å¿«è·‘ï¼Œæ¯æ¬¡æ‹†ä¸€ä¸ªæœåŠ¡ï¼ŒéªŒè¯ç¨³å®šåå†æ‹†ä¸‹ä¸€ä¸ªï¼›</li>
</ol>

<ol start="3">
<li><strong>æ•°æ®ä¼˜å…ˆ</strong>ï¼šæ•°æ®è¿ç§»æ˜¯é‡ä¸­ä¹‹é‡ï¼Œç¡®ä¿ä¸€è‡´æ€§å’Œä¸ä¸¢å¤±ï¼›</li>
</ol>

<ol start="4">
<li><strong>é£é™©å¯æ§</strong>ï¼šæ‰€æœ‰å˜æ›´å¿…é¡»æœ‰å›æ»šæ–¹æ¡ˆï¼Œé¿å…å½±å“çº¿ä¸Šä¸šåŠ¡ï¼›</li>
</ol>

<ol start="5">
<li><strong>æŒç»­ä¼˜åŒ–</strong>ï¼šæ‹†åˆ†å®Œæˆåï¼Œé€šè¿‡ç›‘æ§ã€æ²»ç†æŒç»­ä¼˜åŒ–æœåŠ¡æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</li>
</ol>
<p>å¾®æœåŠ¡é‡æ„ä¸æ˜¯ â€œä¸€è¹´è€Œå°±â€ çš„è¿‡ç¨‹ï¼Œè€Œæ˜¯ â€œä»ä¸šåŠ¡å‡ºå‘ï¼Œé€æ­¥è¿­ä»£â€ çš„é•¿æœŸå·¥ç¨‹ã€‚å…³é”®æ˜¯æ‰¾åˆ°é€‚åˆè‡ªå·±å›¢é˜Ÿå’Œä¸šåŠ¡çš„èŠ‚å¥ï¼Œé¿å…ç›²ç›®è·Ÿé£ï¼Œæœ€ç»ˆå®ç° â€œä¸šåŠ¡æ•æ·ã€å¼¹æ€§æ‰©å±•ã€æ•…éšœéš”ç¦»â€ çš„ç›®æ ‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æ¸¸é¢‘ç¹å´©æºƒé—ªé€€åŸå› åˆ†æä¸iOSå´©æºƒæ—¥å¿—è§£ææ–¹æ³•]]></title>    <link>https://juejin.cn/post/7576479344038658100</link>    <guid>https://juejin.cn/post/7576479344038658100</guid>    <pubDate>2025-11-25T09:53:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576479344038658100" data-draft-id="7576219879680589859" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æ¸¸é¢‘ç¹å´©æºƒé—ªé€€åŸå› åˆ†æä¸iOSå´©æºƒæ—¥å¿—è§£ææ–¹æ³•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-25T09:53:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç–¯ç‹‚çš„ç¨‹åºçŒ´"/> <meta itemprop="url" content="https://juejin.cn/user/2760245749234147"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æ¸¸é¢‘ç¹å´©æºƒé—ªé€€åŸå› åˆ†æä¸iOSå´©æºƒæ—¥å¿—è§£ææ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2760245749234147/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç–¯ç‹‚çš„ç¨‹åºçŒ´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:53:26.000Z" title="Tue Nov 25 2025 09:53:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ‰‹æ¸¸é¢‘ç¹å´©æºƒâ€é—ªé€€â€ï¼Ÿ ä»ç¨‹åºä¸Šæ‰¾åŸå› </p>
<p>ä½œä¸ºç©å®¶ï¼Œå½“æ¸¸æˆcrashçš„æ—¶å€™æ˜¯ä»€ä¹ˆå¿ƒæƒ…ï¼Œå¦‚æœè¿™ä¸ªæ¸¸æˆç©èµ·æ¥è¿˜ä¸é”™çš„è¯ï¼Œé‚£æˆ‘å¯èƒ½è¿˜ä¼šæ‰“å¼€ç¬¬äºŒæ¬¡ï¼Œå¦‚æœè¿™ä¸ªæ¸¸æˆä¸€èˆ¬çš„è¯æˆ‘å¯èƒ½ç›´æ¥æ€’åˆ äº†ã€‚å½“å¤šæ¬¡å‡ºç°é—ªé€€crashçš„æ—¶å€™ï¼Œè¿™ç§ç³Ÿç³•çš„ä½“éªŒå¾ˆå®¹æ˜“è®©ç”¨æˆ·æµå¤±ï¼Œé€ æˆå¾ˆå¤§çš„æŸå¤±ã€‚ä½†æ˜¯ä½œä¸ºæµ‹è¯•äººå‘˜ï¼Œé¢å¯¹å¦‚æ­¤æ£˜æ‰‹çš„äº‹æƒ…ï¼Œé¦–å…ˆè¦åšçš„æ˜¯ååŠ©å¼€å‘ç»„è§£å†³é—®é¢˜ã€‚æ²¡é”™ï¼Œç¬¬ä¸€ä»¶è¦åšçš„äº‹æƒ…å°±æ˜¯å»å®šä½crashå‘ç”Ÿçš„ä»£ç é€»è¾‘ï¼Œåˆ°åº•æ˜¯å“ªä¸ªæ–‡ä»¶çš„å“ªä¸€æ®µå‡½æ•°é€»è¾‘å¯¼è‡´äº†è¿™ä¸ªcrashé—®é¢˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å»å°½é‡é‡ç°crashåœºæ™¯ï¼Œæ”¶é›†è§£æcrashæ—¥å¿—ï¼Œä»¥æ­¤å®šä½åˆ°å…·ä½“åˆ°æ¸¸æˆä»£ç é€»è¾‘ä¸­å¯»æ‰¾å¯¼è‡´crashçš„åŸå› ï¼Œæ”¹å–„é¡¹ç›®çš„è´¨é‡å’Œä½“éªŒã€‚æœ¬æ–‡é˜è¿°åœ¨App crashäº§ç”Ÿçš„åŸç†ï¼Œæ”¶é›†å’Œè§£æè¿‡ç¨‹ï¼Œæ—¨åœ¨ç»éªŒç§¯ç´¯ï¼Œä¸å¤§å®¶åˆ†äº«ã€‚</p>
<p><strong>ä¸€ï¼crashäº§ç”Ÿçš„åŸå› </strong></p>
<p>å½“iOS/Androidè®¾å¤‡ä¸Šçš„Appåº”ç”¨é—ªé€€æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šç”Ÿæˆä¸€ä¸ªcrashæ—¥å¿—ï¼Œä¿å­˜åœ¨è®¾å¤‡ä¸Šã€‚crashæ—¥å¿—ä¸Šæœ‰å¾ˆå¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æ¯ä¸ªæ­£åœ¨æ‰§è¡Œçº¿ç¨‹çš„å®Œæ•´å †æ ˆè·Ÿè¸ªä¿¡æ¯å’Œå†…å­˜æ˜ åƒï¼Œè¿™æ ·å°±èƒ½å¤Ÿé€šè¿‡è§£æè¿™äº›ä¿¡æ¯è¿›è€Œå®šä½crashå‘ç”Ÿæ—¶çš„ä»£ç é€»è¾‘ï¼Œä»è€Œæ‰¾åˆ°Appé—ªé€€çš„åŸå› ã€‚é€šå¸¸æ¥è¯´ï¼Œcrashäº§ç”Ÿæ¥æºäºä¸¤ç§é—®é¢˜ï¼šè¿åiOSç³»ç»Ÿè§„åˆ™å¯¼è‡´çš„crashå’ŒAppä»£ç é€»è¾‘BUGå¯¼è‡´çš„crashï¼Œä¸‹é¢åˆ†åˆ«å¯¹ä»–ä»¬è¿›è¡Œåˆ†æã€‚</p>
<p><strong>1.1è¿åiOSç³»ç»Ÿè§„åˆ™åŒ…æ‹¬ä¸‰ç§ç±»å‹ï¼š</strong></p>
<p><strong>(1) å†…å­˜æŠ¥è­¦é—ªé€€</strong></p>
<p>å½“iOSæ£€æµ‹åˆ°å†…å­˜è¿‡ä½æ—¶ï¼Œå®ƒçš„VMç³»ç»Ÿä¼šå‘å‡ºä½å†…å­˜è­¦å‘Šé€šçŸ¥ï¼Œå°è¯•å›æ”¶ä¸€äº›å†…å­˜ï¼›å¦‚æœæƒ…å†µæ²¡æœ‰å¾—åˆ°è¶³å¤Ÿçš„æ”¹å–„ï¼ŒiOSä¼šç»ˆæ­¢åå°åº”ç”¨ä»¥å›æ”¶æ›´å¤šå†…å­˜ï¼›æœ€åï¼Œå¦‚æœå†…å­˜è¿˜æ˜¯ä¸è¶³ï¼Œé‚£ä¹ˆæ­£åœ¨è¿è¡Œçš„åº”ç”¨å¯èƒ½ä¼šè¢«ç»ˆæ­¢æ‰ã€‚åœ¨Debugæ¨¡å¼ä¸‹ï¼Œå¯ä»¥ä¸»åŠ¨å°†å®¢æˆ·ç«¯æ‰§è¡Œçš„åŠ¨ä½œé€»è¾‘å†™å…¥ä¸€ä¸ªlogæ–‡ä»¶ä¸­ï¼Œè¿™æ ·ç¨‹åºç«¥é‹å¯ä»¥å°†å†…å­˜é¢„è­¦çš„é€»è¾‘å†™å…¥è¯¥logæ–‡ä»¶ï¼Œå½“å‘ç”Ÿå¦‚ä¸‹æˆªå›¾ä¸­çš„å†…å­˜æŠ¥è­¦æ—¶ï¼Œå°±æ˜¯æé†’å½“å‰å®¢æˆ·ç«¯æ€§èƒ½å†…å­˜åƒç´§ï¼Œå¯ä»¥é€šè¿‡Instrumentså·¥å…·ä¸­çš„Allocations å’Œ Leaksæ¨¡å—åº“æ¥å‘ç°å†…å­˜åˆ†é…é—®é¢˜å’Œå†…å­˜æ³„æ¼é—®é¢˜ã€‚</p>
<p><strong>(2) å“åº”è¶…æ—¶</strong></p>
<p>å½“åº”ç”¨ç¨‹åºå¯¹ä¸€äº›ç‰¹å®šçš„äº‹ä»¶ï¼ˆæ¯”å¦‚å¯åŠ¨ã€æŒ‚èµ·ã€æ¢å¤ã€ç»“æŸï¼‰å“åº”ä¸åŠæ—¶ï¼Œè‹¹æœçš„Watchdogæœºåˆ¶ä¼šæŠŠåº”ç”¨ç¨‹åºå¹²æ‰ï¼Œå¹¶ç”Ÿæˆä¸€ä»½ç›¸åº”çš„crashæ—¥å¿—ã€‚è¿™äº›äº‹ä»¶ä¸ä¸‹åˆ—UIApplicationDelegateæ–¹æ³•ç›¸å¯¹åº”ï¼Œå½“é‡åˆ°Watchdogæ—¥å¿—æ—¶ï¼Œå¯ä»¥æ£€æŸ¥ä¸Šå›¾ä¸­çš„å‡ ä¸ªæ–¹æ³•æ˜¯å¦æœ‰æ¯”è¾ƒé‡çš„é˜»å¡UIçš„åŠ¨ä½œã€‚</p>
<p>application:didFinishLaunchingWithOptions:</p>
<p>applicationWillResignActive:</p>
<p>applicationDidEnterBackground:</p>
<p>applicationWillEnterForeground:</p>
<p>applicationDidBecomeActive:</p>
<p>applicationWillTerminate:</p>
<p><strong>(3) ç”¨æˆ·å¼ºåˆ¶é€€å‡º</strong></p>
<p>ä¸€çœ‹åˆ°â€œç”¨æˆ·å¼ºåˆ¶é€€å‡ºâ€ï¼Œé¦–å…ˆå¯èƒ½æƒ³åˆ°çš„åŒå‡»Homeé”®ï¼Œç„¶åå…³é—­åº”ç”¨ç¨‹åºã€‚ä¸è¿‡è¿™ç§åœºæ™¯ä¸€èˆ¬æ˜¯ä¸ä¼šäº§ç”Ÿcrashæ—¥å¿—çš„ï¼Œå› ä¸ºåŒå‡»Homeé”®åï¼Œæ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½å¤„äºåå°çŠ¶æ€ï¼Œè€ŒiOSéšæ—¶éƒ½æœ‰å¯èƒ½å…³é—­åå°è¿›ç¨‹ï¼Œå½“åº”ç”¨é˜»å¡ç•Œé¢å¹¶åœæ­¢å“åº”æ—¶è¿™ç§åœºæ™¯æ‰ä¼šäº§ç”Ÿcrashæ—¥å¿—ã€‚</p>
<p>è¿™é‡ŒæŒ‡çš„â€œç”¨æˆ·å¼ºåˆ¶é€€å‡ºâ€åœºæ™¯ï¼Œæ˜¯ç¨å¾®æ¯”è¾ƒå¤æ‚ç‚¹çš„æ“ä½œï¼šå…ˆæŒ‰ä½ç”µæºé”®ï¼Œç›´åˆ°å‡ºç°â€œæ»‘åŠ¨å…³æœºâ€çš„ç•Œé¢æ—¶ï¼Œå†æŒ‰ä½Homeé”®ï¼Œè¿™æ—¶å€™å½“å‰åº”ç”¨ç¨‹åºä¼šè¢«ç»ˆæ­¢æ‰ï¼Œå¹¶ä¸”äº§ç”Ÿä¸€ä»½ç›¸åº”äº‹ä»¶çš„crashæ—¥å¿—ã€‚</p>
<p><strong>1.2åº”ç”¨é€»è¾‘çš„Bug</strong></p>
<p>å¤§å¤šæ•°é—ªé€€å´©æºƒæ—¥å¿—çš„äº§ç”Ÿéƒ½æ˜¯å› ä¸ºåº”ç”¨ä¸­çš„Bugï¼Œè¿™ç§Bugçš„é”™è¯¯ç§ç±»æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚</p>
<p>SEGVï¼šï¼ˆSegmentation Violationï¼Œæ®µè¿ä¾‹ï¼‰ï¼Œæ— æ•ˆå†…å­˜åœ°å€ï¼Œæ¯”å¦‚ç©ºæŒ‡é’ˆï¼Œæœªåˆå§‹åŒ–æŒ‡é’ˆï¼Œæ ˆæº¢å‡ºç­‰ï¼›</p>
<p>SIGABRTï¼šæ”¶åˆ°Abortä¿¡å·ï¼Œå¯èƒ½è‡ªèº«è°ƒç”¨abort()æˆ–è€…æ”¶åˆ°å¤–éƒ¨å‘é€è¿‡æ¥çš„ä¿¡å·ï¼›</p>
<p>SIGBUSï¼šæ€»çº¿é”™è¯¯ã€‚ä¸SIGSEGVä¸åŒçš„æ˜¯ï¼ŒSIGSEGVè®¿é—®çš„æ˜¯æ— æ•ˆåœ°å€ï¼ˆæ¯”å¦‚è™šå­˜æ˜ å°„ä¸åˆ°ç‰©ç†å†…å­˜ï¼‰ï¼Œè€ŒSIGBUSè®¿é—®çš„æ˜¯æœ‰æ•ˆåœ°å€ï¼Œä½†æ€»çº¿è®¿é—®å¼‚å¸¸ï¼ˆæ¯”å¦‚åœ°å€å¯¹é½é—®é¢˜ï¼‰ï¼›</p>
<p>SIGILLï¼šå°è¯•æ‰§è¡Œéæ³•çš„æŒ‡ä»¤ï¼Œå¯èƒ½ä¸è¢«è¯†åˆ«æˆ–è€…æ²¡æœ‰æƒé™ï¼›</p>
<p>SIGFPEï¼šFloating Point Errorï¼Œæ•°å­¦è®¡ç®—ç›¸å…³é—®é¢˜ï¼ˆå¯èƒ½ä¸é™äºæµ®ç‚¹è®¡ç®—ï¼‰ï¼Œæ¯”å¦‚é™¤é›¶æ“ä½œï¼›</p>
<p>SIGPIPEï¼šç®¡é“å¦ä¸€ç«¯æ²¡æœ‰è¿›ç¨‹æ¥æ‰‹æ•°æ®ï¼›</p>
<p>å¸¸è§çš„å´©æºƒåŸå› åŸºæœ¬éƒ½æ˜¯ä»£ç é€»è¾‘é—®é¢˜æˆ–èµ„æºé—®é¢˜ï¼Œæ¯”å¦‚æ•°ç»„è¶Šç•Œï¼Œè®¿é—®é‡æŒ‡é’ˆæˆ–è€…ç¾æœ¯èµ„æºä¸å­˜åœ¨ï¼Œæˆ–ç¾æœ¯èµ„æºå¤§å°å†™é”™è¯¯ç­‰ï¼Œè¿™ç§é—®é¢˜çš„ç±»å‹æœ‰å¾ˆå¤šï¼Œä¸å†è¯¦ç»†ä»‹ç»ã€‚</p>
<p><strong>äºŒï¼crashçš„æ”¶é›†</strong></p>
<p>ä¸Šæ–‡æåˆ°crashæ—¥å¿—æ˜¯æ“ä½œç³»ç»Ÿå±‚äº§ç”Ÿå¹¶ä¿å­˜åœ¨è®¾å¤‡ä¸Šçš„ï¼Œé‚£å¦‚æœæˆ‘çš„ä¸€å°è®¾å¤‡åœ¨è¿è¡ŒæŸAppçš„æ—¶å€™crashäº†ï¼Œå¯ä»¥é€šè¿‡ä»€ä¹ˆæ–¹å¼æ‹¿åˆ°crashæ—¥å¿—å‘¢ã€‚å¦‚æœæ˜¯åœ¨windowsä¸Šä½ å¯ä»¥é€šè¿‡itoolsæˆ–ppåŠ©æ‰‹ç­‰è¾…åŠ©å·¥å…·æŸ¥çœ‹ç³»ç»Ÿäº§ç”Ÿçš„å†å²crashæ—¥å¿—ï¼Œç„¶åå†æ ¹æ®appæ¥æŸ¥çœ‹ã€‚å¦‚æœæ˜¯åœ¨Mac ç³»ç»Ÿä¸Šï¼Œåªéœ€è¦æ‰“å¼€xcode-&gt;windows-&gt;organizer-&gt;devicesï¼Œé€‰æ‹©device logsè¿›è¡ŒæŸ¥çœ‹ï¼Œ</p>
<p>ä»¥ä¸Šè¿™äº›æ˜¯é’ˆå¯¹èƒ½å¤Ÿæ‹¿åˆ°çœŸæœºè®¾å¤‡çš„æƒ…å†µä¸‹æ‰èƒ½æ”¶é›†crashæ—¥å¿—çš„ã€‚å¦‚æœæ˜¯é’ˆå¯¹ç©å®¶çš„è¯ï¼Œå½“Appåœ¨ç©å®¶çš„è®¾å¤‡ä¸Šcrashçš„æ—¶å€™å¦‚ä½•æ”¶é›†å‘¢ã€‚å…ˆæ¥çœ‹ä¸‹å¸‚åœºä¸Šå·²æœ‰çš„å•†ä¸šè½¯ä»¶æä¾›crashæ”¶é›†æœåŠ¡ï¼Œä»–ä»¬è¿™äº›è½¯ä»¶åŸºæœ¬éƒ½æä¾›äº†æ—¥å¿—å­˜å‚¨ï¼Œæ—¥å¿—ç¬¦å·åŒ–è§£æå’ŒæœåŠ¡ç«¯å¯è§†åŒ–ç®¡ç†ç­‰æœåŠ¡ã€‚</p>
<p>å¼€å‘è€…ä¹Ÿå¯ä»¥ä½¿ç”¨Keymobç­‰å·¥å…·æ¥è¾…åŠ©å´©æºƒæ—¥å¿—çš„æ”¶é›†å’Œåˆ†æï¼Œå®ƒæä¾›äº†æ—¥å¿—æŸ¥çœ‹ã€æ€§èƒ½ç›‘æ§å’Œæ–‡ä»¶ç®¡ç†ç­‰åŠŸèƒ½ï¼Œå¸®åŠ©ç®€åŒ–è°ƒè¯•æµç¨‹ã€‚</p>
<p>é™¤äº†ä¸Šè¿°æ‰€è¯´çš„è¿™äº›å•†ä¸šè½¯ä»¶å¤–ï¼Œè¿˜æœ‰ä¸€äº›å¼€æºçš„è½¯ä»¶ä¹Ÿå¯ä»¥æ‹¿æ¥æ”¶é›†crashæ—¥å¿—ï¼Œæ¯”å¦‚Razor,QuincyKitï¼ˆgité“¾æ¥ï¼‰ç­‰ï¼Œè¿™äº›è½¯ä»¶æ”¶é›†crashçš„åŸç†å…¶å®å¤§åŒå°å¼‚ï¼Œéƒ½æ˜¯æ ¹æ®ç³»ç»Ÿäº§ç”Ÿçš„crashæ—¥å¿—è¿›è¡Œäº†ä¸€æ¬¡æå–æˆ–å°è£…ï¼Œç„¶åå°†å°è£…åçš„crashæ–‡ä»¶ä¸Šä¼ åˆ°å¯¹åº”çš„æœåŠ¡ç«¯è¿›è¡Œè§£æå¤„ç†ã€‚å¾ˆå¤šå•†ä¸šè½¯ä»¶éƒ½é‡‡ç”¨äº†Plcrashreporterè¿™ä¸ªå¼€æºå·¥å…·æ¥ä¸Šä¼ å’Œè§£æcrashï¼Œæ¯”å¦‚HockeyApp,Flurryå’Œcrittercismç­‰ï¼Œ</p>
<p>é€šè¿‡è¿™ç§æ–¹å¼å°±å¯ä»¥å¾ˆå¥½çš„æ”¯æŒå¼€å‘äººå‘˜æ”¶é›†crashæ—¥å¿—çš„éœ€æ±‚ï¼Œè¿›è€Œå®šä½å’Œè§£å†³Appäº§å“å­˜åœ¨çš„é—®é¢˜ã€‚å¦‚æœæœ‰éœ€è¦æˆ–è€…æ„Ÿå…´è¶£çš„å¯ä»¥æ·±å…¥çš„è°ƒç ”ä¸€ä¸‹ã€‚</p>
<p>ä½†æ˜¯æœ‰ä¸ªå¾ˆé‡è¦çš„é—®é¢˜å°±æ˜¯è¿™ç§æ–¹å¼åªèƒ½æ”¶é›†æ¸¸æˆå¼•æ“å±‚ï¼ˆc++æˆ–object cä»£ç ï¼‰çš„é€»è¾‘ï¼Œå¦‚æœæ˜¯è„šæœ¬é€»è¾‘é—®é¢˜äº§ç”Ÿçš„crashå°±æ— èƒ½æ— åŠ›äº†ã€‚è€Œç°åœ¨æ‰‹æ¸¸é¡¹ç›®åŸºæœ¬éƒ½æ˜¯å¼•æ“ï¼ˆcocos2dxæˆ–Neox)+è„šæœ¬ï¼ˆluaæˆ–javascript)çš„å¼€å‘æ¨¡å¼ï¼Œå‡ ä¹æ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘éƒ½åœ¨è„šæœ¬å±‚ï¼Œæ¸¸æˆAppæ—¶å¸¸å‘ç”Ÿçš„crashå‡ ä¹éƒ½æ˜¯ç”±è„šæœ¬é€»è¾‘bugå¯¼è‡´çš„ï¼Œè¿™è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿå¹³æ—¶åœ¨å¼€å‘é˜¶æ®µï¼Œç¨‹åºç«¥é‹åœ¨Debugæ¨¡å¼ä¸‹å¼€é€šäº†å®¢æˆ·ç«¯è¿è¡Œæ—¥å¿—åŠŸèƒ½ï¼Œå½“å‡ºç°crashæˆ–è€…tracebackç­‰é—®é¢˜çš„æ—¶å€™ç›´æ¥å»æŸ¥çœ‹logæ–‡ä»¶çš„è¾“å‡ºå³å¯çŸ¥é“åŸå› äº†ï¼Œä½†æ˜¯åœ¨Releaseæ¨¡å¼ä¸‹ä¸€åˆ‡logè¾“å‡ºå‡è¢«å±è”½ï¼Œé€»è¾‘è¿è¡Œçš„logæ¶ˆæ¯è¾“å‡ºä¹Ÿå°±æ— æ³•æŸ¥çœ‹äº†ã€‚è¿™ç§æƒ…å†µè¯¥åˆè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿæ–¹æ³•æ€»æ¯”é—®é¢˜å¤šï¼ŒiOS/Androidç³»ç»Ÿæä¾›äº†å¼‚å¸¸å‘ç”Ÿæ—¶çš„å¤„ç†APIï¼Œåªéœ€è¦åœ¨ç¨‹åºå¯åŠ¨çš„åœ°æ–¹åŠ å…¥å¯¹åº”çš„å¤„ç†é€»è¾‘ï¼Œå½“å¼‚å¸¸å‘ç”Ÿæ—¶å°±å¯ä»¥è§¦å‘å¯¹åº”çš„å›è°ƒå‡½æ•°å°†å¿…è¦çš„ä¿¡æ¯è¿›è¡Œå¤„ç†ä¸Šä¼ ï¼Œé€‚æ—¶åœ°åé¦ˆç»™å¼€å‘ç»„ã€‚</p>
<p><strong>ä¸‰ï¼crashæ—¥å¿—çš„è§£æ</strong></p>
<p>å¦‚æœæ˜¯è„šæœ¬å±‚é€»è¾‘å¯¼è‡´çš„crashï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œè¿™ç§æƒ…å†µæ˜¯å¯ä»¥ç›´æ¥æ ¹æ®æ”¶é›†çš„æ—¥å¿—å†…å®¹æ¥å®šä½å¯¼è‡´crashçš„é€»è¾‘çš„ã€‚å¦‚æœæ˜¯å¼•æ“å±‚å‘ç”Ÿäº†é—®é¢˜ï¼Œè¯¥å¦‚ä½•å®šä½è§£æå‘¢ã€‚</p>
<p>1)crashæ ‡è¯†æ˜¯åº”ç”¨è¿›ç¨‹äº§ç”Ÿcrashæ—¶çš„ä¸€äº›æ ‡è¯†ä¿¡æ¯ï¼Œå®ƒæè¿°äº†è¯¥crashçš„å”¯ä¸€æ ‡è¯†ï¼ˆE838FEFB-ECF6-498C-8B35-D40F0F9FEAE4ï¼‰ï¼Œæ‰€å‘ç”Ÿçš„ç¡¬ä»¶è®¾å¤‡ç±»å‹ï¼ˆiphone3,1ä»£è¡¨iphone4ï¼‰ï¼Œä»¥åŠAppè¿›ç¨‹ç›¸å…³çš„ä¿¡æ¯ç­‰ï¼›</p>
<p>2ï¼‰åŸºæœ¬ä¿¡æ¯æè¿°çš„æ˜¯crashå‘ç”Ÿçš„æ—¶é—´å’Œç³»ç»Ÿç‰ˆæœ¬ï¼›</p>
<p>3ï¼‰å¼‚å¸¸ç±»å‹æè¿°çš„æ˜¯crashå‘ç”Ÿæ—¶æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹å’Œé”™è¯¯ç ï¼›</p>
<p>4ï¼‰çº¿ç¨‹å›æº¯æè¿°äº†crashå‘ç”Ÿæ—¶æ‰€æœ‰çº¿ç¨‹çš„å›æº¯ä¿¡æ¯ï¼Œæ¯ä¸ªçº¿ç¨‹åœ¨æ¯ä¸€å¸§å¯¹åº”çš„å‡½æ•°è°ƒç”¨ä¿¡æ¯ï¼ˆè¿™é‡Œç”±äºç©ºé—´é™åˆ¶æ²¡æœ‰å…¨éƒ¨åˆ—å‡ºï¼‰ï¼›</p>
<p>5ï¼‰äºŒè¿›åˆ¶æ˜ åƒæ˜¯æŒ‡crashå‘ç”Ÿæ—¶å·²åŠ è½½çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ä»¥ä¸Šå°±æ˜¯ä¸€ä»½crashæ—¥å¿—åŒ…å«çš„æ‰€æœ‰ä¿¡æ¯ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦æ ¹æ®è¿™äº›ä¿¡æ¯å»è§£æå®šä½å¯¼è‡´crashå‘ç”Ÿçš„ä»£ç é€»è¾‘ï¼Œ è¿™å°±éœ€è¦ç”¨åˆ°ç¬¦å·åŒ–è§£æçš„è¿‡ç¨‹ï¼ˆæ´‹åå«ï¼šsymbolication)ã€‚</p>
<p>ç¬¦å·åŒ–è§£æè¿‡ç¨‹æœ‰ä¸‰ç§æ–¹æ³•ï¼š</p>
<p>xcodeå¯è§†åŒ–æŸ¥çœ‹ï¼Œ</p>
<p>symbolicatecrashå·¥å…·ï¼Œ</p>
<p>atoså·¥å…·ï¼›ä½†æ˜¯è¿™ä¸‰ç§æ–¹æ³•éƒ½éœ€è¦ç”¨åˆ°æ„å»ºappæ—¶ç”Ÿæˆçš„.appæ–‡ä»¶å’Œ.app.dsymè¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œç¬¬ä¸€ç§æ–¹å¼å·²ç»åœ¨ç¬¬äºŒç« èŠ‚æåˆ°è¿‡ï¼Œä¸å†èµ˜è¿°ï¼Œä¸‹é¢ä»‹ç»ç¬¬äºŒç§å’Œç¬¬ä¸‰ç§è§£æçš„æ–¹å¼ã€‚</p>
<p><strong>3.1 symbolicatecrashè§£æ</strong></p>
<p>symbolicatecrashæ˜¯xcodeè‡ªå¸¦çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œåœ¨xcode5.0ä»¥å‰çš„ä½ç½®æ˜¯/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/PrivateFrameworks/DTDeviceKit.framework/Versions/A/Resources/ï¼Œxcode5.0ä»¥åè·¯å¾„å°±å˜æˆäº†/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/PrivateFrameworks/DTDeviceKitBase.framework/Versions/A/Resources/</p>
<p>æ¯”å¦‚ä»¥ä¸Šè¿°æåˆ°çš„TestFlight Appä¸ºä¾‹ï¼Œå°†TestFlight .crash?TestFlight .appå’ŒTestFlight .app.dsymä¸‰ä¸ªæ–‡ä»¶æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œç„¶åè¿è¡Œ symbolicatecrash?TestFlight.crash TestFlight.app.dsym&gt;?TestFlight .logï¼ŒæŸ¥çœ‹TestFlight.logæ–‡ä»¶çš„å†…å®¹</p>
<p>å¯ä»¥çœ‹å‡ºå…·ä½“å‡ºç°é—®é¢˜çš„é€»è¾‘ä»£ç æ˜¯åœ¨é‚£ä¸ªæ–‡ä»¶çš„å“ªä¸€è¡Œï¼Œè¿™æ ·å°±æ ¹æ®è§£æå‡ºæ¥çš„æŒ‡å®šå‡½æ•°æ¥å®šä½crashçš„å‘ç”ŸåŸå› ã€‚</p>
<p><strong>3.2 atosæ–¹æ³•</strong></p>
<p>atosæ˜¯ä¸€ä¸ªBSDå¹³å°çš„é€šç”¨æŒ‡ä»¤ï¼Œé€šè¿‡å®ƒå¯ä»¥å°†æ•°å­—åœ°å€è½¬æ¢ä¸ºå¯¹åº”çš„äºŒè¿›åˆ¶æ˜ åƒæˆ–è€…è¿›ç¨‹çš„ç¬¦å·ï¼Œé€šè¿‡è¯¥æŒ‡ä»¤è¿›è¡Œç¬¦å·åŒ–è§£æçš„æ—¶å€™éœ€è¦è¯´æ˜ä¸€ç‚¹çš„æ˜¯åªæœ‰å½“.appæ–‡ä»¶ã€crashæ–‡ä»¶å’Œ.app.dsymæ–‡ä»¶ä¸‰è€…çš„UUIDéƒ½æ˜¯ä¸€è‡´çš„æ—¶å€™ï¼Œè¯¥crashæ–‡ä»¶æ‰èƒ½è¢«æ­£ç¡®è§£æï¼Œå¦åˆ™è§£æå¤±è´¥ã€‚ï¼ˆæ³¨ï¼šuuidæ˜¯appåº”ç”¨åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šçš„å”¯ä¸€æ ‡è¯†ï¼‰å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥æŸ¥çœ‹.appå’Œ.app.dsymæ–‡ä»¶çš„uuid</p>
<p>ç”±æ­¤å¯è§armv7æ¶æ„ä¸‹ä¸‰è€…ä¿æŒä¸€è‡´ï¼Œéƒ½æ˜¯4a42d422a466338aa56e88840b74de3dï¼Œé‚£æ¥ä¸‹æ¥å¼€å§‹è¿›è¡Œç¬¦å·åŒ–è§£æã€‚</p>
<p>ä»ä¸Šæ–‡crashæ—¥å¿—æ–‡ä»¶çš„çº¿ç¨‹å›æº¯å¯ä»¥å‘ç°é—ªé€€æ—¶å‡½æ•°çš„å›æº¯åˆ—è¡¨é‡Œæ ¼å¼ä¸æ˜¯å®Œå…¨ä¸€è‡´ï¼Œæ¯”å¦‚ä¸‹å›¾ä¸­çš„æ–¹å¼1å’Œæ–¹å¼2åœ¨ç¬¬2åˆ—çš„è¡¨è¾¾æ–¹å¼ä¸Šä¸å¤ªä¸€æ ·ï¼Œæ–¹å¼1æ˜¯ç”¨çš„åº“å‡½æ•°åï¼Œæ–¹å¼2åˆ™æ˜¯ä¸€ä¸ªåŸºæœ¬åœ°å€ã€‚å…¶å®è¿™ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥ç”¨ä¸€ç§é€šç”¨çš„è§£ææ–¹å¼æ¥æå®šï¼š</p>
<p>é¦–å…ˆè®¡ç®—åŠ è½½åœ°å€ï¼ˆload address):</p>
<p>ä»¥æ–¹å¼1ä¸­çš„0x333d8049 UIApplicationMain + 1137 ä¸ºä¾‹ï¼Œè¿™ä¸€å¸§å¯¹åº”çš„ load address=0x333d8049 -1137=0x333d7bd8</p>
<p>ä¹Ÿå°±æ˜¯UIApplicationMainçš„åœ°å€æ˜¯0x333df12ï¼›æ–¹å¼2çš„0x00068b19 0x36000 + 207641ï¼Œé€šè¿‡ä¸Šè¿°æ–¹å¼çš„è®¡ç®—å°±æ˜¯load address=0x00068b19 -207641=0x36000 ï¼Œå¯ä»¥å‘ç°ç»“æœä¸ç¬¬äºŒåˆ—çš„å€¼æ˜¯ç›¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„åŠ è½½åœ°å€å°±æ˜¯ç¬¬äºŒåˆ—çš„å€¼0x36000? ç„¶åç”¨xcrun atos -arch armv7 -o TestFlight.app/TestFlight? 0x36000 0x00068b19 çš„æŒ‡ä»¤æ¥è§£æcrashæ—¥å¿—çº¿ç¨‹0å’Œçº¿ç¨‹3ä¸­å¸¦æœ‰TestFlightæ¨¡å—çš„åœ°å€ï¼Œç»“æœå‘ç°TestFlightç¨‹åºçš„ä»£ç å›æº¯è¿‡ç¨‹</p>
<p><strong>å¯ä»¥çœ‹å‡ºbase</strong></p>
<p>address(åŸºåœ°å€ï¼‰æ˜¯4000ï¼Œå‡½æ•°çš„å›æº¯è¿‡ç¨‹æ˜¯main.mæ–‡ä»¶çš„ç¬¬16è¡Œçš„æŸä¸ªå‡½æ•°å‡ºç°é—®é¢˜ï¼Œç„¶åè¯¥å‡½æ•°åœ¨é€»è¾‘è°ƒç”¨ä¸­ä¼šè°ƒç”¨åˆ°AFURLConnnectionOperation.mæ–‡ä»¶çš„ç¬¬162è¡Œçš„æŸä¸ªå‡½æ•°ï¼Œè¿™ä¸ªé€»è¾‘çš„è°ƒç”¨ä¸ç¬¬ä¸€ç§æ–¹æ³•è§£æçš„TestFlight.logæ–‡ä»¶ä½œå¯¹æ¯”,crashçš„è§£æå®Œå…¨ä¸€è‡´ï¼Œç”±æ­¤å°±å¯ä»¥å®šä½åˆ°crashçš„åŸå› æ‰€åœ¨ï¼Œæ¥ä¸‹æ¥å»è§£å†³crashæ–‡ä»¶ä¹Ÿå°±æ°´åˆ°æ¸ æˆäº†ã€‚</p>
<p><strong>å››ï¼å°ç»“</strong></p>
<p>ä»¥ä¸Šæ˜¯æ ¹æ®è‡ªå·±çš„ç»éªŒå’Œç†è§£å¯¹iOSå¹³å°ä¸‹çš„crashé—®é¢˜ï¼ˆåŒ…æ‹¬åŸç†ã€æ”¶é›†å’Œè§£æè¿‡ç¨‹ï¼‰è¿›è¡Œçš„ä¸€æ¬¡å‰–æï¼Œè™½ç„¶è‹¹æœçš„æ²™ç›’ç³»ç»Ÿå¯¹iOSå¹³å°çš„ä¸‹çš„å¾ˆå¤šåº”ç”¨ä¿¡æ¯çš„æå–æœ‰è¾ƒå¤šçš„é™åˆ¶ï¼Œä½†æ˜¯è¦ç›¸ä¿¡æ–¹æ³•æ€»æ¯”é—®é¢˜å¤šã€‚å¯¹äºcrashé—®é¢˜çš„ç†è§£å’Œæ”¶é›†è¿‡ç¨‹å¯ä»¥å¾ˆå¥½åœ°è¾…åŠ©é¡¹ç›®ç»„æ¥æé«˜é¡¹ç›®çš„è´¨é‡ï¼ŒåŒæ—¶å¯¹äºæ›´æ·±å…¥åœ°ç†è§£iOSå¹³å°çŸ¥è¯†å’ŒcrashåŸç†æœ‰å¾ˆå¥½çš„å¸®åŠ©ã€‚å½“ç„¶ï¼Œæœ¬æ–‡æ›´å¤šçš„æ¶‰åŠiOSå¹³å°ä¸‹çš„crashé—®é¢˜ï¼Œå¯¹äºAndroidå¹³å°çš„crashé—®é¢˜æ¶‰åŠè¾ƒå°‘ã€‚è™½ç„¶ç»†èŠ‚çš„å®ç°ä¸Šå¯èƒ½æœ‰å·®å¼‚ï¼Œä½†æ˜¯å†…éƒ¨çš„åŸç†é€»è¾‘åº”è¯¥æ˜¯ç›¸åŒæˆ–è€…ç›¸ä¼¼çš„ï¼Œåç»­ç¬”è€…è¿˜å°†ç»§ç»­å…³æ³¨å…³äºAndroidå¹³å°ç›¸å…³é—®é¢˜çš„è°ƒç ”å­¦ä¹ ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Electron ç¬¬ä¸€æ­¥]]></title>    <link>https://juejin.cn/post/7576219879680573475</link>    <guid>https://juejin.cn/post/7576219879680573475</guid>    <pubDate>2025-11-25T09:50:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576219879680573475" data-draft-id="7576219879679754275" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Electron ç¬¬ä¸€æ­¥"/> <meta itemprop="keywords" content="å‰ç«¯,Electron"/> <meta itemprop="datePublished" content="2025-11-25T09:50:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€åƒæŸ¯æ©˜"/> <meta itemprop="url" content="https://juejin.cn/user/2010369939736343"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Electron ç¬¬ä¸€æ­¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2010369939736343/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€åƒæŸ¯æ©˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:50:39.000Z" title="Tue Nov 25 2025 09:50:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-sulphurpool-dark">.hljs-comment,.hljs-quote{color:#898ea4}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#c94922}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#c76b29}.hljs-bullet,.hljs-string,.hljs-symbol{color:#ac9739}.hljs-section,.hljs-title{color:#3d8fd1}.hljs-keyword,.hljs-selector-tag{color:#6679cc}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#202746;color:#979db4}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>Build cross-platform desktop apps with JavaScript, HTML, and CSSã€‚ è¿™å°±æ˜¯ Electron è®©å¼€å‘è€…ç”¨Â <strong>Web æŠ€æœ¯ï¼ˆHTML/CSS/JavaScriptï¼‰</strong> Â å°±èƒ½æ„å»ºå‡ºå’ŒåŸç”Ÿåº”ç”¨ï¼ˆå¦‚ Windows çš„ .exeã€macOS çš„ .appï¼‰ä½“éªŒä¸€è‡´çš„æ¡Œé¢è½¯ä»¶ï¼Œæ— éœ€å­¦ä¹  C++ã€Swift ç­‰åŸç”Ÿå¼€å‘è¯­è¨€</p>
</blockquote>
<h2 data-id="heading-0">Electron çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†</h2>
<p>ä¸»è¦åˆ†æˆå¦‚ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>

























<table><thead><tr><th>ç»„æˆéƒ¨åˆ†</th><th>æ ¸å¿ƒä½œç”¨</th><th>æŠ€æœ¯ä¾èµ– / æœ¬è´¨</th></tr></thead><tbody><tr><td>1.Â <strong>ä¸»è¿›ç¨‹ï¼ˆMain Processï¼‰</strong></td><td>è´Ÿè´£ç®¡ç†å…¨å±€èµ„æºå’ŒåŸç”Ÿèƒ½åŠ›è°ƒç”¨ï¼Œæ˜¯åº”ç”¨çš„å…¥å£ç‚¹ã€‚</td><td>Node.js è¿è¡Œæ—¶ï¼ˆåŸºäº V8 å¼•æ“ï¼‰</td></tr><tr><td>2.Â <strong>æ¸²æŸ“è¿›ç¨‹ï¼ˆRenderer Processï¼‰</strong></td><td>åº”ç”¨çš„ â€œç•Œé¢â€ï¼Œè´Ÿè´£æ¸²æŸ“ç”¨æˆ·çœ‹åˆ°çš„ UIï¼ˆå³ Web é¡µé¢ï¼‰ï¼Œå¯æœ‰å¤šè¿›ç¨‹ã€‚</td><td>Chrome æµè§ˆå™¨å†…æ ¸ï¼ˆBlink å¼•æ“ï¼‰</td></tr><tr><td>3.Â <strong>é¢„åŠ è½½è„šæœ¬ï¼ˆPreload Scriptï¼‰</strong></td><td>ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹çš„ â€œæ¡¥æ¢â€ï¼Œè§£å†³ä¸¤è€…é€šä¿¡å’Œæƒé™éš”ç¦»é—®é¢˜ã€‚</td><td/></tr></tbody></table>
<p>Electron çš„æ ¸å¿ƒé€»è¾‘å¯ä»¥ç†è§£ä¸ºï¼š<strong>ç”¨ Chrome å†…æ ¸åšç•Œé¢æ¸²æŸ“ï¼ˆæ¸²æŸ“è¿›ç¨‹ï¼‰ï¼Œç”¨ Node.js åšåŸç”Ÿèƒ½åŠ›æ”¯æ’‘ï¼ˆä¸»è¿›ç¨‹ï¼‰ï¼Œç”¨é¢„åŠ è½½è„šæœ¬è§£å†³ä¸¤è€…çš„é€šä¿¡å’Œå®‰å…¨é—®é¢˜</strong>â€”â€” æœ€ç»ˆå®ç° â€œWeb æŠ€æœ¯å†™æ¡Œé¢åº”ç”¨â€ çš„ç›®æ ‡ï¼Œæ˜¯ Web å¼€å‘è€…åˆ‡å…¥æ¡Œé¢å¼€å‘çš„æœ€ä½é—¨æ§›å·¥å…·</p>
<h2 data-id="heading-1">å¼€å§‹ Electron</h2>
<p>åˆå§‹åŒ–é¡¹ç›®</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 1. åˆ›å»ºä¸€ä¸ªé¡¹ç›®åå­—ä¸º electron-app</span>
mkdir electron-app &amp;&amp; cd electron-app

<span class="hljs-comment">// 2. åˆå§‹åŒ–é¡¹ç›®ï¼Œè‡ªåŠ¨åˆ›å»º package.json</span>
npm init 
<span class="hljs-comment">// package.json</span>
{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"electron-app"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
  <span class="hljs-string">"description"</span>: <span class="hljs-string">"to develop an electron app"</span>,
  <span class="hljs-string">"main"</span>: <span class="hljs-string">"main.js"</span>, <span class="hljs-comment">// è¿™æ˜¯éœ€è¦è‡ªå·±åŠ çš„ï¼Œ main ä¸ºå…¥å£æ–‡ä»¶</span>
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"dev"</span>: <span class="hljs-string">"electron ."</span>, <span class="hljs-comment">// è¿™æ˜¯éœ€è¦è‡ªå·±åŠ çš„</span>
    <span class="hljs-string">"test"</span>: <span class="hljs-string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
  },
  <span class="hljs-string">"keywords"</span>: [],
  <span class="hljs-string">"author"</span>: <span class="hljs-string">"jakequc"</span>,
  <span class="hljs-string">"license"</span>: <span class="hljs-string">"MIT"</span>,
  <span class="hljs-string">"packageManager"</span>: <span class="hljs-string">"pnpm@10.22.0"</span>,
  <span class="hljs-string">"devDependencies"</span>: {
    <span class="hljs-string">"electron"</span>: <span class="hljs-string">"^39.2.3"</span>
  }
}

<span class="hljs-comment">// 3. å®‰è£… electron ä¸ºå¼€å‘ä¾èµ–ï¼Œå› ä¸º electron ä¸ä¼šåœ¨è¿è¡Œæ—¶ç”¨åˆ°</span>
pnpm install electron --save-dev

<span class="hljs-comment">// 4. åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºå…¥å£æ–‡ä»¶ main.js,å†…å®¹ä¸º</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Hello from Electron ğŸ‘‹"</span>);

<span class="hljs-comment">// 5. npm run dev</span>
<span class="hljs-comment">// æ§åˆ¶å°å‡ºç° Hello from Electron ğŸ‘‹ è¡¨ç¤ºåˆå§‹åŒ–é¡¹ç›®æˆåŠŸ ğŸ‰ğŸ‰ğŸ‰</span>

</code></pre>
<h3 data-id="heading-2">å¯èƒ½é‡åˆ°æˆ–ç–‘æƒ‘</h3>
<h4 data-id="heading-3">ä¸ºå•¥ electron å®‰è£…åˆ° devDependenciesï¼Ÿ</h4>
<p>Electron çš„è§’è‰²æ˜¯ã€Œå¼€å‘ / æ„å»ºå·¥å…·ã€ï¼Œè€Œéæœ€ç»ˆäº§å“è¿è¡Œæ—¶å¿…éœ€çš„ä¾èµ–ï¼ŒElectron çš„ä½œç”¨ä»…ä½“ç°åœ¨<strong>å¼€å‘è°ƒè¯•</strong>å’Œ<strong>æœ€ç»ˆæ‰“åŒ…</strong>ä¸¤ä¸ªé˜¶æ®µï¼Œç”¨æˆ·æ‹¿åˆ°çš„ã€Œæ¡Œé¢åº”ç”¨ã€é‡Œï¼Œæ ¹æœ¬ä¸éœ€è¦ Electron æœ¬èº«ï¼Œä¹Ÿå¯ä»¥è¯´ Electron è¢«åµŒå…¥åˆ°äº†äº§ç‰©ä¸­</p>
<h4 data-id="heading-4">å®‰è£…å¤±è´¥</h4>
<p>æ–¹æ³•1: å¯ä»¥å‚è€ƒè¿™ä¸ª <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.electronjs.org%2Fdocs%2Flatest%2Ftutorial%2Finstallation" target="_blank" title="https://www.electronjs.org/docs/latest/tutorial/installation" ref="nofollow noopener noreferrer">www.electronjs.org/docs/latestâ€¦</a> é“¾æ¥</p>
<p>æ–¹æ³•2: å» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Felectron%2Felectron%2Fissues%2F20731%23issuecomment-546616376" target="_blank" title="https://github.com/electron/electron/issues/20731#issuecomment-546616376" ref="nofollow noopener noreferrer"># electron always "Electron failed to install correctly, please delete node_modules/electron and try installing again"</a></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åœ¨ä½ çš„å®‰è£…ç»ˆç«¯æ‰§è¡Œ</span>
node node_modules/electron/install.<span class="hljs-property">js</span>
</code></pre>
<p>æ–¹æ³•3: æ›´æ”¹ nodeLinker ä¿è¯å®‰è£… npm åŒ…æ˜¯å®é™…å­˜åœ¨åœ¨ç£ç›˜ä¸Šçš„ï¼Œè€Œä¸æ˜¯è½¯é“¾æ¥æˆ–è€…æ›¿ä»£çš„å®‰è£…ç­–ç•¥</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¦‚æœæ˜¯ pnpm åŒ…ç®¡ç†å·¥å…·ï¼Œåœ¨é¡¹ç›®æ›´ç›®å½•çš„ pnpm-workspace.yaml</span>
<span class="hljs-attr">nodeLinker</span>: <span class="hljs-string">"hoisted"</span>

<span class="hljs-comment">// å¦‚æœæ˜¯ yarnï¼Œé€šè¿‡å‘½ä»¤è‡ªåŠ¨ç”Ÿæˆé…ç½®</span>
yarn config set nodeLinker node-modules
</code></pre>
<h2 data-id="heading-5">åŠ è½½ web é¡µé¢åˆ°æµè§ˆå™¨çª—å£</h2>
<blockquote>
<p><strong>Electron çš„æ¯ä¸ª window çª—å£éƒ½å¯ä»¥åŠ è½½ä¸€ä¸ª æœ¬åœ°çš„ HTML æ–‡ä»¶æˆ–è€…æ˜¯ä¸€ä¸ªè¿œç¨‹çš„åœ°å€</strong></p>
</blockquote>
<h3 data-id="heading-6">åˆ›å»º web page HTML æ–‡ä»¶</h3>
<p>æ­å–œä½ å·²ç»åŸºæœ¬æ­å»ºäº† Electronï¼Œç°åœ¨æˆ‘ä»¬è®© Electron åŠ è½½ web é¡µé¢ï¼Œæˆ‘ä»¬å…ˆä»ä¸€ä¸ª local HTML æ–‡ä»¶å¼€å§‹ï¼Œåœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>index.html</code> æ–‡ä»¶</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// index.html</span>

&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span>
      <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"Content-Security-Policy"</span>
      <span class="hljs-attr">content</span>=<span class="hljs-string">"default-src 'self'; script-src 'self'"</span>
    /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span>
      <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"X-Content-Security-Policy"</span>
      <span class="hljs-attr">content</span>=<span class="hljs-string">"default-src 'self'; script-src 'self'"</span>
    /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Hello from Electron renderer!<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello from Electron renderer!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ğŸ‘‹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-7">ä½¿ç”¨ Electron main.js æ¥åŠ è½½ html æ–‡ä»¶åˆ° BrowerWindow ä¸­</h3>
<p>electron åŒ…ä½¿ç”¨çš„æ¨¡å—ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.electronjs.org%2Fdocs%2Flatest%2Fapi%2Fapp" target="_blank" title="https://www.electronjs.org/docs/latest/api/app" ref="nofollow noopener noreferrer">app</a> æ§åˆ¶ä¸€ä¸ªåº”ç”¨çš„äº‹ä»¶ç”Ÿå‘½å‘¨æœŸ</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.electronjs.org%2Fdocs%2Flatest%2Fapi%2Fbrowser-window" target="_blank" title="https://www.electronjs.org/docs/latest/api/browser-window" ref="nofollow noopener noreferrer">BrowserWindow</a>ï¼Œå®ƒç”¨äºåˆ›å»ºå’Œç®¡ç†åº”ç”¨ç¨‹åºçª—å£ã€‚æ¯ä¸ª web page å°±æ˜¯ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œæ¯ä¸ªæ¸²æŸ“è¿›ç¨‹å¯ä»¥ä½¿ç”¨ js APIs å’Œä»»ä½•å‰ç«¯å¼€å‘æŠ€æœ¯ï¼Œæ¯”å¦‚ Reactã€Vite ç­‰</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// main.js æ›¿æ¢ä¸ºï¼š</span>
<span class="hljs-keyword">const</span> { app, <span class="hljs-title class_">BrowserWindow</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron'</span>)

<span class="hljs-keyword">const</span> <span class="hljs-title function_">createWindow</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> win = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BrowserWindow</span>({
    <span class="hljs-attr">width</span>: <span class="hljs-number">800</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">600</span>
  })

  win.<span class="hljs-title function_">loadFile</span>(<span class="hljs-string">'index.html'</span>)
}

app.<span class="hljs-title function_">whenReady</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">createWindow</span>()
})
</code></pre>
<h3 data-id="heading-8">æ“ä½œç³»ç»Ÿå¹³å°åˆ¤æ–­</h3>
<p>æ³¨æ„åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸­åº”ç”¨çª—å£å¯èƒ½æœ‰ä¸åŒçš„è¡Œä¸ºï¼Œå› æ­¤å¯ä»¥å€ŸåŠ© <a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fapi%2Fprocess.html%23process_process_platform" target="_blank" title="https://nodejs.org/api/process.html#process_process_platform" ref="nofollow noopener noreferrer"><code>process.platform</code></a> å˜é‡æ¥å¸®åŠ©ä½ æ¡ä»¶æ€§çš„åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šåšä¸åŒçš„äº‹æƒ…ï¼Œ process.platform æœ‰ä¸‰ä¸ªå€¼ï¼š</p>
<ul>
<li>win32 (Windows)</li>
<li>linux(Linux)</li>
<li>darwin (macOS)</li>
</ul>
<h4 data-id="heading-9">é€€å‡ºæ•´ä¸ªåº”ç”¨</h4>
<p>åœ¨ Windows å’Œ Linux å…³é—­æ‰€æœ‰çš„ çª—å£åå°†ä¼šè‡ªåŠ¨é€€å‡ºæ•´ä¸ªåº”ç”¨ï¼Œä½†æ˜¯ macOs ä¸Šéœ€è¦å•ç‹¬è°ƒç”¨ app.quit() æ‰èƒ½å®ç°ï¼Œæ­¤æ—¶éœ€è¦ç›‘å¬ electron çš„ app æ¨¡å—ä¸­çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.electronjs.org%2Fdocs%2Flatest%2Fapi%2Fapp%23event-window-all-closed" target="_blank" title="https://www.electronjs.org/docs/latest/api/app#event-window-all-closed" ref="nofollow noopener noreferrer"><code>window-all-closed</code></a> äº‹ä»¶</p>
<pre><code class="hljs language-js" lang="js">app.<span class="hljs-title function_">on</span>(<span class="hljs-string">"window-all-closed"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// å¦‚æœæ˜¯ macOS ç³»ç»Ÿï¼Œéœ€è¦æ˜¾ç¤ºçš„è°ƒç”¨ app.quit() æ‰èƒ½é€€å‡ºæ•´ä¸ªåº”ç”¨</span>
  <span class="hljs-keyword">if</span> (process.<span class="hljs-property">platform</span> !== <span class="hljs-string">"darwin"</span>) {
    app.<span class="hljs-title function_">quit</span>();
  }
});
</code></pre>
<h4 data-id="heading-10">æ‰“å¼€ä¸€ä¸ªå¯è¿è¡Œçš„çª—å£</h4>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒmacOS åº”ç”¨é€šå¸¸å³ä½¿åœ¨æ²¡æœ‰ä»»ä½•çª—å£æ‰“å¼€çš„æƒ…å†µä¸‹ä¹Ÿä¼šç»§ç»­è¿è¡Œã€‚å½“æ²¡æœ‰å¯ç”¨çª—å£æ—¶æ¿€æ´»è¯¥åº”ç”¨ï¼Œåº”è¯¥æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ã€‚å½“çª—å£æ¿€æ´»çš„æ—¶å€™å¯ä»¥ç›‘å¬ app æ¨¡å—çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.electronjs.org%2Fdocs%2Flatest%2Fapi%2Fapp%23event-activate-macos" target="_blank" title="https://www.electronjs.org/docs/latest/api/app#event-activate-macos" ref="nofollow noopener noreferrer"><code>activate</code></a> äº‹ä»¶ï¼Œå› ä¸º windows ä¸èƒ½åœ¨ <code>ready</code> äº‹ä»¶å‰åˆ›å»º BrowserWindowï¼Œ æ‰€ä»¥æˆ‘ä»¬åº”è¯¥åœ¨ <code>whenReady</code> é‡Œç›‘å¬ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.electronjs.org%2Fdocs%2Flatest%2Fapi%2Fapp%23event-activate-macos" target="_blank" title="https://www.electronjs.org/docs/latest/api/app#event-activate-macos" ref="nofollow noopener noreferrer"><code>activate</code></a> äº‹ä»¶</p>
<pre><code class="hljs language-js" lang="js">app.<span class="hljs-title function_">whenReady</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">createWindow</span>();

  <span class="hljs-comment">// windows å¿…é¡»ç­‰å¾… åº”ç”¨ ready ä¹‹åæ‰èƒ½åˆ›å»ºçª—å£ï¼Œå½“å‰æ²¡æœ‰çª—å£æ‰“å¼€æ—¶ï¼Œåº”è¯¥åˆ›å»ºä¸€ä¸ªçª—å£</span>
  app.<span class="hljs-title function_">on</span>(<span class="hljs-string">"activate"</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">BrowserWindow</span>.<span class="hljs-title function_">getAllWindows</span>().<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-title function_">createWindow</span>();
    }
  });
});
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸŒ¹ğŸŒ¹ğŸŒ¹broï¼ŒAntD 6.0.0 æ¥äº†]]></title>    <link>https://juejin.cn/post/7576479344038690868</link>    <guid>https://juejin.cn/post/7576479344038690868</guid>    <pubDate>2025-11-25T09:54:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576479344038690868" data-draft-id="7576487832089296911" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸŒ¹ğŸŒ¹ğŸŒ¹broï¼ŒAntD 6.0.0 æ¥äº†"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-25T09:54:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä½ å¿ƒé‡Œçš„äºæ™"/> <meta itemprop="url" content="https://juejin.cn/user/4485661445853943"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸŒ¹ğŸŒ¹ğŸŒ¹broï¼ŒAntD 6.0.0 æ¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4485661445853943/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä½ å¿ƒé‡Œçš„äºæ™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:54:59.000Z" title="Tue Nov 25 2025 09:54:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å†™å‰ç«¯å†™ä¹…äº†ï¼Œæˆ‘ä»¬å¯¹ UI ç»„ä»¶å‡çº§è¿™äº‹ä¼¼ä¹å†ç†Ÿæ‚‰ä¸è¿‡â€”â€”<br/>
ä½†åªè¦ä¸€å‡çº§å¤§ç‰ˆæœ¬ï¼Œä½ å°±ä¼šå‘ç°ï¼š</p>
<p><strong>å®ƒåƒåœ¨è€ƒè¯•ï¼Œä½ åƒåœ¨è£¸å¥”ã€‚</strong></p>
<p>AntD 6.0.0 å‘å¸ƒä¹‹åï¼Œ<br/>
æˆ‘ä¸€è¾¹çœ‹æ›´æ–°æ—¥å¿—ï¼Œä¸€è¾¹æ„Ÿè§‰å®˜æ–¹åœ¨è¯´ï¼š</p>
<blockquote>
<p>â€œæˆ‘ä»¬è¿™æ¬¡çœŸçš„æ²¡ä¹±æ”¹ APIï¼ˆå¤§éƒ¨åˆ†ï¼‰â€¦â€¦<br/>
è‡³äºæ”¹äº†çš„éƒ¨åˆ†ï¼Œä½ å†å¿å¿å§ã€‚â€</p>
</blockquote>
<p>è¿™ç¯‡æ–‡ç« ç®—æ˜¯æˆ‘å¯¹ <strong>6.0 ç‰ˆæœ¬</strong> çš„ä¸€æ¬¡â€œè¡¥å‘ + åæ§½ + è§£æâ€åˆé›†ï¼š<br/>
ç³»ç»Ÿåœ°ä¸²èµ·æœ¬æ¬¡å‡çº§åˆ°åº•åŠ¨äº†å“ªäº›åˆ€å­ã€ç åœ¨ä½ å“ªé‡Œã€å¦‚ä½•é¿å…å½“åœºå»ä¸–ã€‚</p>
<p>çœ‹å®Œä½ ä¼šæ›´æ¸…æ¥šï¼š</p>
<ul>
<li>AntD 6åˆ°åº•æ”¹äº†ä»€ä¹ˆ</li>
<li>å“ªäº›ä¼šå½±å“ä½ é¡¹ç›®</li>
<li>å“ªäº›ä¼šè®©ä½ æ€€ç–‘äººç”Ÿ</li>
<li>å“ªäº›ä¼šè®©ä½ æƒ³å°Šæ•¬ä½œè€…</li>
<li>ä»¥åŠä¸ºä»€ä¹ˆä½ è¦å‡çº§</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0debb90d72534afbb7ca6d4340ed65e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2g5b-D6YeM55qE5LqO5pmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764669299&amp;x-signature=Z9a95ZM0ZQXKAhemLfv5tMa54ow%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä» 6.0 å¼€å§‹ï¼šAntD ç»ˆäºæŠŠæ—§é”…æ¸…å¹²å‡€äº†</h2>
<p>æ¯ä¸ª UI æ¡†æ¶å¤§ç‰ˆæœ¬çš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯ï¼š</p>
<blockquote>
<p>æ¸…åƒåœ¾ã€‚</p>
</blockquote>
<p>è¿™æ¬¡ AntD 6 åšäº† 4 ç±»å¤§æ”¶æ‹¾ï¼š</p>
<h4 data-id="heading-1">â‘  å½»åº•ç§»é™¤ IE â€”â€” ç»ˆäº</h4>
<p>IE æ­»é€äº†ä¹‹åï¼ŒAntD ä¹Ÿä¸è£…äº†ï¼š</p>
<ul>
<li>reset.css ä¸ç»™ IE é¢å­äº†</li>
<li>æ„å»ºç›®æ ‡æå‡</li>
<li>å„ç§å…¼å®¹æ€§é€»è¾‘ç›´æ¥ç§»é™¤</li>
</ul>
<p>ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>ä»¥åå†æœ‰å®¢æˆ·è¯´è¦å…¼å®¹ IEï¼Œå°±è®©ä»–è‡ªå·±å…¼å®¹è‡ªå·±ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-2">â‘¡ æ¸…é€€åºŸå¼ƒ API</h4>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>Dropdown.Buttonï¼š<strong>ç›´æ¥æ²¡äº†</strong></li>
<li>Icon å ä½ç»„ä»¶ï¼š<strong>æ²¡äº†</strong></li>
<li>BackTopï¼š<strong>æ²¡äº†</strong></li>
<li>List ç»„ä»¶ï¼š<strong>æ•´æ®µ remove</strong></li>
</ul>
<p>è¿™äº›ç»„ä»¶æ—©å°±åŠä½ ä¸ç”¨äº†ï¼Œ<br/>
ä½ ä¸ç”¨ï¼Œå®˜æ–¹å°±æŠŠå®ƒâ€œè‡ªç„¶æ·˜æ±°â€äº†ã€‚</p>
<hr/>
<h4 data-id="heading-3">â‘¢ React 19ï¼šé»˜è®¤æ”¯æŒ</h4>
<p>React 19 ä¸€å † break changeã€‚<br/>
ä½† AntD å®˜æ–¹ä¸€å¥ï¼š</p>
<blockquote>
<p>â€œæˆ‘ä»¬å…¨éƒ½å¤„ç†å¥½äº†ã€‚â€</p>
</blockquote>
<p>éå¸¸ç¨³ã€‚</p>
<hr/>
<h4 data-id="heading-4">â‘£ å†…éƒ¨åº“å¤§æ¢è¡€</h4>
<p>classNames â†’ clsx<br/>
copy-to-clipboard â†’ ç§»é™¤</p>
<p>ä¸€å¥è¯ç‰ˆæœ¬ï¼š</p>
<blockquote>
<p>AntD 6/ ä¸åªæ˜¯ UI ç»„ä»¶å‡çº§ï¼Œ<br/>
æ˜¯æ•´ä¸ªåº•å±‚å·¥ç¨‹ä½“ç³»æ¢ä»£ã€‚</p>
</blockquote>
<p>ä»ç°åœ¨å¼€å§‹ï¼Œä½ ç”¨ AntD çš„é¡¹ç›®æ‰ç®—â€œç«™åœ¨ 2025 å¹´å‰ç«¯çš„ä¸»æµçº¿ä¸Šâ€ã€‚</p>
<hr/>
<h2 data-id="heading-5">äºŒã€ConfigProviderï¼šä»â€œè€å¥½äººâ€å˜æˆâ€œå…¨æ‘æŒ‡æŒ¥ä¸­å¿ƒâ€</h2>
<p>AntD 6 é‡Œ ConfigProvider å·²ç»ä¸æ˜¯ä¸ªé…ç½®ç»„ä»¶äº†ï¼Œ<br/>
è€Œæ˜¯ <strong>ä¸­å¤®æ”¿åŠ¡å¤§å…</strong>ã€‚</p>
<p>ä»€ä¹ˆéƒ½å½’å®ƒç®¡ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>Table çš„ rowKey</li>
<li>Tooltip / Popover / Popconfirm çš„ç®­å¤´</li>
<li>Card.Meta çš„æ ·å¼</li>
<li>Space çš„ root</li>
<li>Modal çš„æŒ‰é’®å±æ€§</li>
<li>å…¨å±€ä¸»é¢˜ token</li>
<li>zeroRuntime å…³é—­ CSS-in-JS</li>
<li>tooltip.unique æ”¯æŒå¹³æ»‘ç§»åŠ¨</li>
</ul>
<p>ç®€å•è¯´ï¼š</p>
<blockquote>
<p>ä»¥å‰ä½ åœ¨æ¯ä¸ªç»„ä»¶ä¸Šå†™ propsï¼Œ<br/>
ç°åœ¨ä½ åœ¨ ConfigProvider ä¸€æ¬¡æ€§â€œæ‹æ¿â€ã€‚</p>
</blockquote>
<p>è¿™æ¬¡æ›´æ–°å®˜æ–¹ä¸»æ‰“ä¸€ä»¶äº‹ï¼š</p>
<h3 data-id="heading-6">â€œæ‰€æœ‰é…ç½®ï¼Œèƒ½æ”¶æ•›å°±æ”¶æ•›ï¼Œåˆ«è®©ä½ æ¯ä¸ªç»„ä»¶éƒ½ç²˜ç²˜ç³Šç³Šåœ°å†™ propsã€‚â€</h3>
<p>è¿™ä¸€ç‚¹ç»™æˆ‘ä¸€ç§éå¸¸èˆ’æœçš„æ„Ÿè§‰ã€‚<br/>
å°±åƒå†™ä¸€ä¸ªä¸šåŠ¡é¡µé¢æ—¶ç»ˆäºä¸å¿…ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;Tooltip <span class="hljs-attr">arrow</span>={{ pointAtCenter: <span class="hljs-literal">true</span> }} /&gt;
&lt;Popover <span class="hljs-attr">arrow</span>={{ pointAtCenter: <span class="hljs-literal">true</span> }} /&gt;
&lt;Popconfirm <span class="hljs-attr">arrow</span>={{ pointAtCenter: <span class="hljs-literal">true</span> }} /&gt;
</code></pre>
<p>ç°åœ¨ç›´æ¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;ConfigProvider
  <span class="hljs-attr">componentSize</span>=<span class="hljs-string">"middle"</span>
  <span class="hljs-attr">tooltip</span>={{ unique: <span class="hljs-literal">true</span> }}
  <span class="hljs-attr">popover</span>={{ arrow: { <span class="hljs-literal">off</span>set: <span class="hljs-number">6</span> } }}
/&gt;
</code></pre>
<p><strong>UI ç®¡ç†è¿™äº‹ç»ˆäºé€»è¾‘æ¸…æ™°äº†ã€‚</strong></p>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€æ€§èƒ½ä¼˜åŒ–ï¼šè¿™æ³¢æ˜¯çœŸçš„æœ‰æ„Ÿ</h2>
<p>AntD æ¯æ¬¡è¯´â€œä¼˜åŒ–æ€§èƒ½â€ï¼Œ<br/>
æˆ‘éƒ½ä¼šä¸‹æ„è¯†æ€€ç–‘ï¼š</p>
<blockquote>
<p>â€œä½ æ˜¯ä¸æ˜¯åªæ˜¯æŠŠä¸€ä¸ªå˜é‡æ¢äº†ä¸ªåå­—ã€‚â€</p>
</blockquote>
<p>ä½†è¿™æ¬¡æ˜¯çœŸçš„ç‹ ã€‚</p>
<p>æ¯”å¦‚ Tooltip ä¼˜åŒ–å¼€å‘æ¨¡å¼æ€§èƒ½ï¼Œå®˜æ–¹è¯´ï¼š</p>
<blockquote>
<p><strong>æå‡å¤§çº¦ 40%</strong></p>
</blockquote>
<p>40% æ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Ÿ<br/>
å°±æ˜¯ä½ åœ¨è°ƒè¯• Tooltip çš„æ—¶å€™ï¼Œå»¶è¿Ÿä»â€œå¡å¾—ä½ æ€€ç–‘äººç”Ÿâ€å˜æˆâ€œè‡³å°‘ä¸å¡äº†â€ã€‚</p>
<p>Form ä¹Ÿä¼˜åŒ–äº†å¤§é‡å­—æ®µå¸è½½æ—¶ useWatch çš„æ€§èƒ½ã€‚<br/>
Form é‡ã€å¤æ‚ï¼Œä¸€ç›´æ˜¯å¤§å®¶åæ§½å¯¹è±¡ï¼Œ<br/>
ç°åœ¨èƒ½æ„Ÿå—åˆ°æ˜æ˜¾é¡ºæ»‘ã€‚</p>
<hr/>
<h2 data-id="heading-8">å››ã€æ–°ç»„ä»¶ï¼šMasonry ç€‘å¸ƒæµ</h2>
<p>æ²¡æƒ³åˆ° AntD ç»ˆäºæŠŠç€‘å¸ƒæµç»„ä»¶ç»™è¡¥ä¸Šäº†ã€‚</p>
<p>è€Œä¸”ä¸æ˜¯ä»€ä¹ˆåŠåŠå­ï¼Œ<br/>
æ˜¯çœŸçš„ç‹¬ç«‹ç»„ä»¶ <strong>Masonry</strong>ï¼Œ<br/>
è‡ªå¸¦ï¼š</p>
<ul>
<li>è‡ªåŠ¨æ’å¸ƒ</li>
<li>å“åº”å¼</li>
<li>æ’æ§½</li>
<li>é€»è¾‘ä½ç½®æ”¯æŒï¼ˆRTLï¼‰</li>
</ul>
<p>ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>å†ä¹Ÿä¸ç”¨è‡ªå·±å†™ column-count hack æˆ–è€…ç”¨ä¸‰æ–¹åº“äº†ã€‚</p>
</blockquote>
<p>ç€‘å¸ƒæµç»ˆäºä¸æ˜¯å‰ç«¯é»‘é­”æ³•äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c7f79d612984935bd70e5a7455bd9f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2g5b-D6YeM55qE5LqO5pmP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764669299&amp;x-signature=beT5mvk2XnVZVNqpkvIuQOlxJrQ%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-9">äº”ã€ç»„ä»¶è¯­ä¹‰åŒ–ç»“æ„ï¼šå‰ç«¯ç”Ÿæ€å·åˆ°å¤´äº†ï¼ˆé‡ç‚¹ï¼‰</h2>
<p>è¿™æ˜¯ Ant Design 6.0 çš„é­‚ã€‚<br/>
æ˜¯æ•´ä¸ªå¤§ç‰ˆæœ¬æœ€é‡å¤§çš„å˜é©ã€‚</p>
<p>å¦‚æœä½ æ²¡å‡çº§ 6ï¼Œä½†ä½ æ˜¯å†™ AntD çš„ï¼Œè¿™æ®µå¿…é¡»çœ‹ã€‚</p>
<p>AntD æŠŠæ‰€æœ‰ç»„ä»¶çš„ DOM ç»“æ„ç»Ÿä¸€æˆä¸€ç§<strong>è¯­ä¹‰åŒ–ç»“æ„è§„åˆ™</strong>ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>icon</li>
<li>header</li>
<li>container</li>
<li>actions</li>
<li>meta</li>
<li>wrapper</li>
<li>content</li>
<li>control</li>
<li>list</li>
<li>panel</li>
</ul>
<p>ä»¥å‰ç»„ä»¶ä¹‹é—´ DOM ç»“æ„å·®å¼‚å·¨å¤§ï¼Œ<br/>
å†™æ ·å¼åƒåœ¨å¼€ç›²ç›’ï¼š</p>
<ul>
<li>æœ‰æ—¶å€™å« <code>.ant-card-body</code></li>
<li>æœ‰æ—¶å€™å« <code>.ant-card-content</code></li>
<li>æœ‰æ—¶å€™æ˜¯ inline æ ·å¼å‹ä¸ä¸‹å»</li>
<li>æœ‰æ—¶å€™ className åå­—é•¿å¾—åƒæŠ¥é”™æ—¥å¿—</li>
</ul>
<p><strong>ç»Ÿä¸€è¯­ä¹‰åŒ–ä¹‹åï¼š</strong></p>
<ul>
<li>DOM ç»“æ„å¯é¢„æµ‹</li>
<li>className å¯æšä¸¾</li>
<li>å®šåˆ¶èƒ½åŠ›ç»Ÿä¸€</li>
<li>æ ·å¼è¦†ç›–æ¸…æ™°</li>
<li>configProvider éå†é…ç½®å˜å¾—å¯èƒ½</li>
<li>ä¸ªæ€§åŒ–ä¸»é¢˜æ›´å¯æ§</li>
</ul>
<p>æ›´ç»çš„æ˜¯ï¼š</p>
<h3 data-id="heading-10">å®˜æ–¹æäº†â€œè¯­ä¹‰ç»“æ„ç”Ÿæˆå‡½æ•°â€</h3>
<p>ä¹Ÿå°±æ˜¯è¯´ DOM ç»“æ„ä¸æ˜¯å†™æ­»çš„ï¼Œ<br/>
è€Œæ˜¯é€šè¿‡ props åŠ¨æ€ç”Ÿæˆã€‚</p>
<p>ä½ å¯ä»¥ç†è§£æˆï¼š</p>
<blockquote>
<p>AntD çš„ DOM æ˜¯â€œæ¨¡æ¿ + é€»è¾‘â€ï¼Œä¸æ˜¯â€œç¡¬å†™åœ¨æºç é‡Œâ€ã€‚</p>
</blockquote>
<p>è¿™ä»£è¡¨ä»€ä¹ˆï¼Ÿ</p>
<h4 data-id="heading-11">â†’ æ›´çµæ´»çš„ä¸»é¢˜</h4>
<p>å¯ä»¥éšä¾¿æ”¹èŠ‚ç‚¹ç»“æ„ã€‚</p>
<h4 data-id="heading-12">â†’ æ›´æ˜“ç»´æŠ¤</h4>
<p>ä»¥åæä¸€ä¸ªâ€œå¤§å‹ä¼ä¸šä¸»é¢˜æ”¹é€ â€ï¼Œä½ ä¸ä¼šæ”¹åˆ°åã€‚</p>
<h4 data-id="heading-13">â†’ æ›´æ˜“é€‚é… RTLã€å¤šè¯­è¨€</h4>
<p>é€»è¾‘ä½ç½®ç›´æ¥è·Ÿç€ç»“æ„èµ°ã€‚</p>
<h4 data-id="heading-14">â†’ æ›´å®¹æ˜“å†™è‡ªåŠ¨åŒ– UI æµ‹è¯•</h4>
<p>å› ä¸º DOM ç»“æ„æ›´å¯é¢„æµ‹ã€‚</p>
<p>è¯­ä¹‰åŒ–ç»“æ„æœ¬è´¨æ˜¯åœ¨è¯´ï¼š</p>
<blockquote>
<p>â€œAntD çš„ DOMï¼Œæˆ‘ä»¬ç»ˆäºä¸å†ä¹±æäº†ã€‚â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-15">å…­ã€é€»è¾‘ä½ç½®ï¼ˆlogical placementï¼‰ï¼šä» left/right åˆ° start/end</h2>
<p>AntD å…¨é¢æ›¿æ¢ï¼š</p>
<ul>
<li>left â†’ start</li>
<li>right â†’ end</li>
<li>expandIconPosition â†’ expandIconPlacement</li>
<li>pagination.position â†’ pagination.placement</li>
<li>dotPosition â†’ dotPlacement</li>
</ul>
<p>ä¸ºä»€ä¹ˆï¼Ÿ<br/>
å› ä¸ºä¸ºäº† <strong>RTLï¼ˆé˜¿æ‹‰ä¼¯è¯­ç­‰ï¼‰</strong> ã€‚</p>
<p>ä»¥å‰ RTL è¦ï¼š</p>
<ul>
<li>æ”¹æ–¹å‘</li>
<li>æ”¹å¸ƒå±€</li>
<li>æ”¹ç¿»è½¬å›¾æ ‡</li>
<li>å†™ä¸€å † override CSS</li>
</ul>
<p>ç°åœ¨ä½ åªå†™ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">placement</span>=<span class="hljs-string">"start"</span>
</code></pre>
<p>æµè§ˆå™¨è‡ªç„¶åˆ¤æ–­æ–¹å‘ã€‚</p>
<p>è¿™æ˜¯å›½é™…åŒ–å¤§å‚å¸¸ç”¨çš„å¸ƒå±€å†™æ³•ï¼Œ<br/>
AntD è¿™æ¬¡å®Œå…¨å¯¹é½äº†æœªæ¥è¶‹åŠ¿ã€‚</p>
<hr/>
<h2 data-id="heading-16">ä¸ƒã€ä¸€å †â€œç»ˆäºæ”¯æŒäº†â€çš„åŠŸèƒ½</h2>
<p>è¿™æ¬¡æ›´æ–°æ—¥å¿—å¾ˆé•¿ï¼Œä½†æˆ‘æ€»ç»“ä¸€ä¸‹ï¼š</p>
<h3 data-id="heading-17">âœ” Drawer æ”¯æŒæ‹–æ‹½å¤§å°ï¼ˆresizableï¼‰</h3>
<p>è¿™åŠŸèƒ½å¤šå°‘äººè‡ªå·± hack è¿‡ï¼Ÿ</p>
<h3 data-id="heading-18">âœ” DatePicker åŠ é¢„è§ˆå€¼ï¼ˆhover previewï¼‰</h3>
<p>å·¨å®ç”¨ã€‚</p>
<h3 data-id="heading-19">âœ” Pagination è¾“å…¥æ¡†åªèƒ½è¾“å…¥æ•°å­—</h3>
<p>è°¢è°¢ä½ ä»¬ç»ˆäºå‘ç°ç”¨æˆ·ä¸æ˜¯å·¥ç¨‹å¸ˆã€‚</p>
<h3 data-id="heading-20">âœ” Cascader æ”¯æŒ aria- <em>/data-</em></h3>
<p>å¯è®¿é—®æ€§ç»ˆäºè·Ÿä¸Šã€‚</p>
<h3 data-id="heading-21">âœ” Tag æ”¯æŒ disabled / href</h3>
<p>ä»¥å‰ Tag æƒ³å½“é“¾æ¥è‡ªå·±å†™åŠå¤©ã€‚</p>
<h3 data-id="heading-22">âœ” Modal / Image é®ç½©æ”¯æŒæ¨¡ç³Š</h3>
<p>UI æ›´ç°ä»£ã€‚</p>
<h3 data-id="heading-23">âœ” Notification æ”¯æŒè‡ªå®šä¹‰è¿›åº¦æ¡é¢œè‰²</h3>
<p>æ„å‘³å¯ä»¥åšæ¸å˜ä¸»é¢˜ã€‚</p>
<h3 data-id="heading-24">âœ” Alert closable æ”¯æŒå›è°ƒ</h3>
<p>æ€»ç®—å¯ä»¥ã€Œå…³é—­åŠ¨ç”»ç»“æŸå†å¹²æ´»ã€äº†ã€‚</p>
<h3 data-id="heading-25">âœ” Segmented æ”¯æŒ tooltip</h3>
<p>è¿™ç»ˆäºæˆâ€œæŒ‰é’®ç»„â€è€Œä¸æ˜¯â€œçœ‹ä¸Šå»åƒæŒ‰é’®çš„ä¸œè¥¿â€ã€‚</p>
<h3 data-id="heading-26">âœ” Splitter è‡ªå®šä¹‰æ‹–æ‹½å›¾æ ‡</h3>
<p>é‡åº¦åå° UI çš„ç¦éŸ³ã€‚</p>
<p>ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>AntD 6 åŠ çš„ä¸åªæ˜¯æ–°åŠŸèƒ½ï¼Œè€Œæ˜¯â€œå®ç°äº†ä»¥å‰ä½ ä»¥ä¸ºå®ƒæ—©å°±æœ‰çš„åŠŸèƒ½â€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-27">å…«ã€CSS å˜é‡ &amp; zeroRuntimeï¼šæ ·å¼ä½“ç³»å‡çº§</h2>
<p>AntD 6 çš„ä¸»é¢˜ç³»ç»ŸçœŸæ­£æ­¥å…¥ç°ä»£åŒ–ï¼š</p>
<h4 data-id="heading-28">âˆš é»˜è®¤ä½¿ç”¨ CSS variables</h4>
<p>ç»ˆäºä» emotion / css-in-js ä¸­è§£æ”¾ä¸€éƒ¨åˆ†æ€§èƒ½ã€‚</p>
<h4 data-id="heading-29">âˆš æ–° tokenï¼šcolorBorderDisabled</h4>
<p>ä¸€è‡´çš„ç¦ç”¨çŠ¶æ€æ ·å¼ã€‚</p>
<h4 data-id="heading-30">âˆš zeroRuntime</h4>
<p>å®Œå…¨ç¦ç”¨ css-in-jsï¼Œ<br/>
ä¹Ÿå°±æ˜¯ â€”â€”</p>
<blockquote>
<p>æ ·å¼åªé  CSSï¼Œä¸é  JS åŠ¨æ€ç”Ÿæˆã€‚</p>
</blockquote>
<p>ä½ å¯ä»¥ï¼š</p>
<ul>
<li>å‡å°‘ JS åŒ…ä½“ç§¯</li>
<li>å‡å°‘æ ·å¼è®¡ç®—å¼€é”€</li>
<li>åŠ é€Ÿ SSR</li>
<li>åŠ é€Ÿ hydration</li>
</ul>
<p>AntD 6 çš„ä¸»é¢˜ç³»ç»Ÿå·²ç»æ¥è¿‘ Tailwind / Radix é‚£ç§â€œç°ä»£æ¶æ„â€äº†ã€‚</p>
<hr/>
<h2 data-id="heading-31">ä¹ã€ä¸ºä»€ä¹ˆæˆ‘æ¨èå‡çº§ï¼Ÿ</h2>
<p>ä½ å¯èƒ½ä¼šé—®ï¼š</p>
<blockquote>
<p>â€œé‚£ 6.0 å€¼å¾—å‡çº§å—ï¼Ÿé¡¹ç›®ä¼šä¸ä¼šç‚¸ï¼Ÿâ€</p>
</blockquote>
<p>éå¸¸è¯šæ³çš„å›ç­”ï¼š</p>
<p><strong>å€¼å¾—ï¼Œä¹Ÿä¸ä¼šé‚£ä¹ˆç‚¸ã€‚</strong></p>
<p>åŸå› ï¼š</p>
<h4 data-id="heading-32">â‘  95% ä»¥ä¸Š API æ˜¯å¹³æ»‘å‡çº§</h4>
<p>ç ´åæ€§æ›´æ–°éƒ½é›†ä¸­åœ¨ï¼š</p>
<ul>
<li>åºŸå¼ƒç»„ä»¶</li>
<li>éƒ¨åˆ†ä½ç½® API</li>
<li>æ ·å¼ç»“æ„å˜åŒ–</li>
</ul>
<p>ä¸šåŠ¡å±‚ä»£ç å½±å“å°ã€‚</p>
<h4 data-id="heading-33">â‘¡ æ€§èƒ½æ˜¯çœŸçš„æå‡</h4>
<p>ä¸ä»…ä»…æ˜¯ç†è®ºã€‚</p>
<h4 data-id="heading-34">â‘¢ ç°ä»£åŒ–å·¥ç¨‹è¶‹åŠ¿</h4>
<p>å†™ AntD 6 çš„é¡¹ç›®ï¼Œ<br/>
ä½ æ•´å¥—ç»“æ„ã€ä½“éªŒéƒ½æ¯”ä»¥å‰â€œå¹²å‡€ä¸€å¤§æˆªâ€ã€‚</p>
<h4 data-id="heading-35">â‘£ Theme &amp; DOM è¯­ä¹‰åŒ–ç»“æ„æ˜¯è´¨å˜</h4>
<p>æœªæ¥å¤§é¡¹ç›®ä¼šéå¸¸ä¾èµ–å®ƒã€‚</p>
<hr/>
<h2 data-id="heading-36">åã€å†™åœ¨æœ€åï¼šå½“ä½ å†çœ‹â€œAntD æ›´æ–°æ—¥å¿—â€</h2>
<p>AntD ä» 4 â†’ 5 â†’ 6 çš„è¿‡ç¨‹é‡Œï¼Œ<br/>
å¯ä»¥çœ‹åˆ°è¿™å¥—è®¾è®¡ä½“ç³»ä»â€œèƒ½ç”¨â€ â†’ â€œå¥½ç”¨â€ â†’ â€œå¯æ‰©å±•â€çš„å®Œæ•´å‡çº§é“¾ã€‚</p>
<p>6.0 æ˜æ˜¾æŠŠé‡ç‚¹ä»â€œåŠŸèƒ½æ€§ç»„ä»¶â€è½¬å‘äº†â€œå·¥ç¨‹ä½“ç³»å®Œå–„â€ï¼š</p>
<ul>
<li>è¯­ä¹‰åŒ–ç»“æ„</li>
<li>CSS å˜é‡</li>
<li>zeroRuntime</li>
<li>å…¨å±€é…ç½®ä½“ç³»</li>
<li>RTL é€»è¾‘ä½ç½®</li>
<li>å…¨é‡ä¼˜åŒ–æ€§èƒ½</li>
<li>æ›´æ˜“ç»´æŠ¤</li>
<li>æ›´æ·±åº¦ä¸»é¢˜åŒ–</li>
</ul>
<p>è¿™æ¬¡æ˜¯ä¸€æ¬¡çœŸæ­£æ„ä¹‰ä¸Šçš„â€œå¤§ç‰ˆæœ¬é‡æ„â€ï¼Œ<br/>
ä¸æ˜¯æ¢çš®ã€‚</p>
<p>ä½œä¸ºå‰ç«¯å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥ç»§ç»­ï¼š</p>
<blockquote>
<p>å¤åˆ¶ UI â†’ è°ƒæ¥å£ â†’ å†™é¡µé¢ â†’ äº¤ä»˜ä¸Šçº¿ã€‚</p>
</blockquote>
<p>ä½†å¦‚æœä½ çœŸçš„æƒ³å˜å¼ºï¼Œ<br/>
ä½ éœ€è¦çŸ¥é“ï¼š</p>
<ul>
<li>æ¡†æ¶ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡</li>
<li>DOM ç»“æ„ä¸ºä»€ä¹ˆè¦è¯­ä¹‰åŒ–</li>
<li>ä¸ºä»€ä¹ˆ UI åº“è¦ç”¨ RTL</li>
<li>ä¸ºä»€ä¹ˆ CSS-in-JS è¦è¢«éƒ¨åˆ†å–ä»£</li>
<li>ä¸ºä»€ä¹ˆé…ç½®è¦é  provider æ”¶æ•›</li>
<li>ä¸ºä»€ä¹ˆç»„ä»¶å±æ€§è¦ç»Ÿä¸€æˆ placement</li>
</ul>
<p>è¿™äº›â€œçœ‹èµ·æ¥åªæ˜¯å‡çº§æ—¥å¿—çš„å°ç‚¹â€ï¼Œ<br/>
èƒŒåéƒ½æ˜¯å‰ç«¯ç”Ÿæ€å‘å±•çš„æ–¹å‘ã€‚</p>
<p>åˆ«å†è¯´â€œå†™ UI æ²¡æŠ€æœ¯å«é‡â€è¿™ç§ä½æƒ…å•†è¯äº†ã€‚<br/>
UI åº“çš„æŠ€æœ¯å«é‡ï¼Œä½ ç”šè‡³æƒ³è±¡ä¸åˆ°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ant Design Vue æ—¥æœŸé€‰æ‹©å™¨è‹±æ–‡ä¸å˜æ›´ä¸­æ–‡é—®é¢˜]]></title>    <link>https://juejin.cn/post/7576479344038707252</link>    <guid>https://juejin.cn/post/7576479344038707252</guid>    <pubDate>2025-11-25T09:56:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576479344038707252" data-draft-id="7576484465758273571" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ant Design Vue æ—¥æœŸé€‰æ‹©å™¨è‹±æ–‡ä¸å˜æ›´ä¸­æ–‡é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Ant Design"/> <meta itemprop="datePublished" content="2025-11-25T09:56:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="code_Bo"/> <meta itemprop="url" content="https://juejin.cn/user/268694125291912"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ant Design Vue æ—¥æœŸé€‰æ‹©å™¨è‹±æ–‡ä¸å˜æ›´ä¸­æ–‡é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/268694125291912/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    code_Bo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:56:09.000Z" title="Tue Nov 25 2025 09:56:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Ant Design Vue æ—¥æœŸé€‰æ‹©å™¨ä¸­è‹±æ–‡æ··æ‚é—®é¢˜åˆ†æä¸è§£å†³</h2>
<h3 data-id="heading-1">é¡¹ç›®èƒŒæ™¯</h3>
<ul>
<li>æŠ€æœ¯æ ˆï¼š<code>Vue 3.5.24</code> + <code>Ant Design Vue 4.2.6</code></li>
<li>æ—¥æœŸåº“ï¼šä» v3 èµ· Ant Design Vue é»˜è®¤ä½¿ç”¨ <code>dayjs</code></li>
</ul>
<h3 data-id="heading-2">é—®é¢˜æè¿°</h3>
<p>åœ¨å…¨å±€å·²ç»é…ç½®ä¸­æ–‡ï¼ˆ<code>ConfigProvider</code> + <code>dayjs.locale('zh-cn')</code>ï¼‰çš„æƒ…å†µä¸‹ï¼Œ<code>DatePicker</code> ç»„ä»¶ä»å‡ºç°â€œä¸­è‹±æ–‡æ··æ‚â€ï¼š</p>
<ul>
<li>â€œå¹´â€â€œä»Šå¤©â€ç­‰å­—æ ·ä¸ºä¸­æ–‡</li>
<li>æœˆä»½ï¼ˆJan/Febâ€¦ï¼‰ä¸æ˜ŸæœŸï¼ˆMon/Tueâ€¦ï¼‰ä¾æ—§æ˜¾ç¤ºè‹±æ–‡</li>
<li>æ— è®ºå…¨å±€æ³¨å…¥è¿˜æ˜¯å±€éƒ¨è¦†ç›– <code>locale</code> å‡æ— æ•ˆ
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2852ee9aab9b47f3ac569477d43ddd2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZV9Cbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764669369&amp;x-signature=272skoO5CzVfqAYGzjYuNmyE8U0%3D" alt="ä¼ä¸šå¾®ä¿¡æˆªå›¾_1b148f4c-d467-42a8-a4b8-ae1c3b81d0eb.png" loading="lazy"/></li>
</ul>
<h3 data-id="heading-3">æ·±å±‚åŸå› å‰–æ</h3>
<ol>
<li>
<p><strong>dayjs ç‰ˆæœ¬è¿‡æ—§</strong><br/>
æ—©æœŸ <code>dayjs</code> çš„ <code>zh-cn</code> è¯­è¨€åŒ…ç¼ºå¤± <code>months</code>/<code>weekdays</code> çš„ä¸­æ–‡å®šä¹‰ï¼Œæˆ–è¡¥ä¸æœªå®Œå…¨ä¸‹å‘ã€‚</p>
</li>
<li>
<p><strong>å¤šç‰ˆæœ¬ dayjs å…±å­˜</strong><br/>
<code>pnpm</code> çš„å»é‡ç­–ç•¥å¯èƒ½å¯¼è‡´é”æ–‡ä»¶é‡Œå­˜åœ¨å¤šä¸ª <code>dayjs</code> ç‰ˆæœ¬ï¼Œå…¥å£æ–‡ä»¶è®¾ç½®çš„ <code>dayjs.locale</code> æœªå¿…ä½œç”¨äº Ant Design Vue å†…éƒ¨ä½¿ç”¨çš„å®ä¾‹ã€‚</p>
</li>
<li>
<p><strong>æ‰§è¡Œé¡ºåº/Tree-shaking é—®é¢˜</strong><br/>
Vite çš„æ‡’åŠ è½½æˆ– chunk åˆ‡åˆ†å¯èƒ½ä½¿ <code>import 'dayjs/locale/zh-cn'</code> æœªåŠæ—¶æ‰§è¡Œï¼›è‹¥æ²¡æœ‰ç´§è·Ÿ <code>dayjs.locale('zh-cn')</code>ï¼Œç»„ä»¶æ¸²æŸ“é˜¶æ®µä»ä½¿ç”¨é»˜è®¤è‹±æ–‡ã€‚</p>
</li>
<li>
<p><strong>è¯­è¨€åŒ…å­—æ®µç¼ºå¤±</strong><br/>
æ—§ç‰ˆæœ¬ <code>dayjs</code> çš„ <code>zh-cn</code> è¯­è¨€åŒ…é‡Œ <code>weekdaysShort</code>ã€<code>monthsShort</code> ç­‰å­—æ®µä¸ºç©ºï¼ŒAntd ç»„ä»¶ fallback ä¸ºè‹±æ–‡ã€‚</p>
</li>
</ol>
<h3 data-id="heading-4">æ’æŸ¥æ­¥éª¤ï¼ˆå»ºè®®æµç¨‹ï¼‰</h3>
<ol>
<li>
<p><strong>ç¡®è®¤å…¨å±€ä¸­æ–‡é…ç½®</strong></p>

  

<p>import dayjs from 'dayjs';
import 'dayjs/locale/zh-cn';
dayjs.locale('zh-cn');</p>
</li>
<li>
<p><strong>æ£€æŸ¥ dayjs ç‰ˆæœ¬</strong></p>
<p>pnpm list dayjs
pnpm why dayjs
å…³æ³¨æ˜¯å¦å­˜åœ¨å¤šä¸ªç‰ˆæœ¬æˆ–é”å®šåœ¨ 1.11.0 ä¹‹å‰ã€‚</p>
</li>
<li>
<p><strong>æŸ¥çœ‹æœ¬åœ°è¯­è¨€åŒ…</strong><br/>
æ‰“å¼€ <code>node_modules/dayjs/locale/zh-cn.js</code>ï¼Œç¡®è®¤ <code>months</code>ã€<code>weekdays</code> ç­‰æ•°ç»„æ˜¯å¦ä¸ºä¸­æ–‡ã€‚</p>
</li>
</ol>
<h3 data-id="heading-5">è§£å†³æ–¹æ¡ˆ</h3>
<ul>
<li>
<p><strong>ç»“è®ºï¼šå‡çº§ dayjs è‡³ â‰¥ 1.11.19</strong></p>
</li>
<li>
<p>æ“ä½œæ­¥éª¤ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcdff683a21544fc8db2a7d96386006b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZV9Cbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764669369&amp;x-signature=wBQr09RbkgmFY0OPPxolacCHFVs%3D" alt="ä¼ä¸šå¾®ä¿¡æˆªå›¾_bf2e42f6-e949-4fb7-8c95-51029d1df296.png" loading="lazy"/>
pnpm add dayjs@1.11.19 -w</p>
<p>import dayjs from 'dayjs';
import 'dayjs/locale/zh-cn';
dayjs.locale('zh-cn');</p>
<ul>
<li>é‡å¯ dev server å¹¶æ¸…ç†ç¼“å­˜ï¼Œç¡®è®¤ <code>DatePicker</code> é¢æ¿çš„æœˆä»½ã€æ˜ŸæœŸã€æŒ‰é’®å‡å·²ä¸­æ–‡åŒ–ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-6">å¯é€‰è¡¥å……</h3>
<ul>
<li>Ant Design Vue çš„æ—¥æœŸå›½é™…åŒ–å®Œå…¨ä¾èµ– <code>dayjs</code>ï¼Œè¯­è¨€å¼‚å¸¸ä¼˜å…ˆæ’æŸ¥ <code>dayjs</code> ç‰ˆæœ¬å’Œè¯­è¨€åŒ…</li>
<li>Monorepo/å¤šåŒ…ç¯å¢ƒéœ€ç¡®ä¿ <code>dayjs</code> ç‰ˆæœ¬ç»Ÿä¸€ï¼Œé¿å…å¤šç‰ˆæœ¬å¯¼è‡´çš„ locale å¤±æ•ˆ</li>
<li><code>import 'dayjs/locale/zh-cn'</code> ååŠ¡å¿…ç´§æ¥ <code>dayjs.locale('zh-cn')</code>ï¼Œå¹¶ç¡®ä¿åœ¨å…¥å£åŒæ­¥æ‰§è¡Œ</li>
</ul>
<h3 data-id="heading-7">å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fantdv.com%2Fcomponents%2Fconfig-provider-cn%2F" target="_blank" title="https://antdv.com/components/config-provider-cn/" ref="nofollow noopener noreferrer">Ant Design Vue ConfigProvider</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fday.js.org%2Fdocs%2Fen%2Fi18n%2Fi18n" target="_blank" title="https://day.js.org/docs/en/i18n/i18n" ref="nofollow noopener noreferrer">dayjs å›½é™…åŒ–æ–‡æ¡£</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[7ç§å¸¸è§çš„æºä»£ç æ··æ·†æŠ€æœ¯è¯¦è§£ï¼šç½‘ç»œå®‰å…¨ä¸­çš„é‡è¦é˜²çº¿]]></title>    <link>https://juejin.cn/post/7576476897949990939</link>    <guid>https://juejin.cn/post/7576476897949990939</guid>    <pubDate>2025-11-25T10:00:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576476897949990939" data-draft-id="7576483553878933530" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="7ç§å¸¸è§çš„æºä»£ç æ··æ·†æŠ€æœ¯è¯¦è§£ï¼šç½‘ç»œå®‰å…¨ä¸­çš„é‡è¦é˜²çº¿"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-25T10:00:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="iOSå¼€å‘ä¸Šæ¶å“¦"/> <meta itemprop="url" content="https://juejin.cn/user/3336394949004844"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            7ç§å¸¸è§çš„æºä»£ç æ··æ·†æŠ€æœ¯è¯¦è§£ï¼šç½‘ç»œå®‰å…¨ä¸­çš„é‡è¦é˜²çº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3336394949004844/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    iOSå¼€å‘ä¸Šæ¶å“¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T10:00:23.000Z" title="Tue Nov 25 2025 10:00:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>7ç§å¸¸è§çš„æºä»£ç æ··æ·†æŠ€æœ¯ï¼šç½‘ç»œå®‰å…¨ä¸­çš„é‡è¦é˜²çº¿</p>
<p>éšç€æ•°å­—åŒ–æ—¶ä»£çš„å‘å±•ï¼Œç½‘ç»œæ”»å‡»çš„æ‰‹æ®µå’Œè§„æ¨¡ä¸æ–­å‡çº§ï¼Œé»‘å®¢åˆ©ç”¨å„ç§æ–¹æ³•ä¾µå…¥åº”ç”¨ç¨‹åºã€è®¾å¤‡å’Œä¸ªäººä¿¡æ¯ã€‚æºä»£ç æœ¬èº«å¾€å¾€æ˜¯é»‘å®¢æ”»å‡»çš„åˆ‡å…¥ç‚¹ã€‚æ ¹æ® <strong>Contrast Security</strong> å‘å¸ƒçš„ã€ŠDevOps çŠ¶å†µæŠ¥å‘Šã€‹ï¼Œè¶…è¿‡99%çš„ç”Ÿäº§ç¯å¢ƒåº”ç”¨ç¨‹åºå­˜åœ¨è‡³å°‘å››ä¸ªæ¼æ´ã€‚ç„¶è€Œï¼Œå¼€å‘äººå‘˜å’Œå®‰å…¨ä¸“å®¶æ‹¥æœ‰ä¸€å¥—å¼ºæœ‰åŠ›çš„å·¥å…·æ¥åº”å¯¹è¿™äº›å¨èƒï¼Œå…¶ä¸­æœ€ä¸ºæœ‰æ•ˆçš„ä¹‹ä¸€å°±æ˜¯ <strong>æºä»£ç æ··æ·†</strong>ã€‚</p>
<p>æºä»£ç æ··æ·†æ˜¯ä¸€ç§é€šè¿‡æ”¹å˜è½¯ä»¶ä»£ç çš„ç»“æ„ï¼Œä½¿å…¶æ›´éš¾è¢«ç†è§£å’Œé€†å‘å·¥ç¨‹çš„æŠ€æœ¯ã€‚è™½ç„¶è¿™äº›å˜åŒ–ä¸ä¼šå½±å“ç¨‹åºçš„åŠŸèƒ½ï¼Œä½†å®ƒä»¬èƒ½æœ‰æ•ˆé˜»æ­¢æ”»å‡»è€…çªƒå–æ•°æ®ã€ç›—å–å¯†é’¥ã€ç ´è§£åº”ç”¨ç¨‹åºï¼Œæˆ–æ‰¾åˆ°å…¶ä»–æ–¹å¼è¿›è¡Œæ”»å‡»ã€‚ä»¥ä¸‹ï¼Œæˆ‘ä»¬å°†ä»‹ç»7ç§å¸¸è§çš„æºä»£ç æ··æ·†æŠ€æœ¯ï¼Œå¸®åŠ©å¼€å‘è€…æå‡åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ã€‚</p>
<h3 data-id="heading-0">1. æ•°æ®è½¬åŒ–ï¼ˆData Transformationï¼‰</h3>
<p>æºä»£ç æ··æ·†çš„åŸºæœ¬æ‰‹æ®µä¹‹ä¸€æ˜¯ <strong>æ•°æ®è½¬åŒ–</strong>ï¼Œå³é€šè¿‡æ”¹å˜ç¨‹åºå¤„ç†æ•°æ®çš„æ ¼å¼ï¼Œä½¿å¾—ä»£ç æ›´éš¾ä»¥ç†è§£å’Œé€†å‘ã€‚è™½ç„¶è¿™äº›è½¬åŒ–å¯¹æ€§èƒ½çš„å½±å“è¾ƒå°ï¼Œä½†å´æå¤§å¢åŠ äº†é»‘å®¢ç ´è§£çš„éš¾åº¦ã€‚å¸¸è§çš„åšæ³•åŒ…æ‹¬ï¼š</p>
<p><strong>å°†æ•°å­—è½¬æ¢ä¸ºäºŒè¿›åˆ¶å½¢å¼</strong>ï¼šä½¿æºä»£ç å˜å¾—æ›´åŠ å¤æ‚ã€‚</p>
<p><strong>ä¿®æ”¹æ•°æ®å­˜å‚¨æ–¹å¼</strong>ï¼šæ”¹å˜æ•°æ®åœ¨å†…å­˜ä¸­çš„è¡¨ç¤ºæ–¹å¼ï¼Œå¢åŠ ç†è§£çš„éš¾åº¦ã€‚</p>
<p><strong>ç”¨è¡¨è¾¾å¼æ›¿ä»£å€¼</strong>ï¼šä¾‹å¦‚ï¼Œç”¨å¤æ‚çš„æ•°å­¦è¡¨è¾¾å¼ä»£æ›¿å¸¸é‡å€¼ï¼Œä»è€Œæ©ç›–å®é™…çš„å€¼ã€‚</p>
<h3 data-id="heading-1">2. ä»£ç æµæ··æ·†ï¼ˆCode Flow Obfuscationï¼‰</h3>
<p>é€šè¿‡ <strong>æ”¹å˜ä»£ç çš„æ‰§è¡Œæµ</strong>ï¼Œæ”»å‡»è€…å³ä½¿å¾—åˆ°äº†ç›¸åŒçš„æ‰§è¡Œç»“æœï¼Œä¹Ÿéš¾ä»¥ç†è§£ä»£ç ä¸ºä½•ä»¥ç‰¹å®šçš„é¡ºåºæ‰§è¡Œã€‚å¸¸è§çš„ä»£ç æµæ··æ·†æŠ€æœ¯åŒ…æ‹¬ï¼š</p>
<p><strong>è°ƒæ•´ç¨‹åºæ‰§è¡Œè¯­å¥çš„é¡ºåº</strong>ã€‚</p>
<p><strong>æ’å…¥ä»»æ„è·³è½¬æŒ‡ä»¤</strong>ï¼Œæ”¹å˜ç¨‹åºçš„æ§åˆ¶å›¾ã€‚</p>
<p><strong>å°†æ ‘å½¢ç»“æ„çš„æ¡ä»¶è¯­å¥è½¬æ¢ä¸ºå¹³å¦çš„</strong> switch <strong>è¯­å¥</strong>ï¼Œå¢åŠ åˆ†æéš¾åº¦ã€‚</p>
<p>è¿™äº›æ–¹æ³•å¯ä»¥è®©æ”»å‡»è€…åœ¨æ²¡æœ‰æ­£ç¡®æ§åˆ¶æµçš„æƒ…å†µä¸‹ï¼Œå¾ˆéš¾è¿½è¸ªç¨‹åºçš„æ‰§è¡Œè·¯å¾„ã€‚</p>
<h3 data-id="heading-2">3. åœ°å€æ··æ·†ï¼ˆAddress Obfuscationï¼‰</h3>
<p>åœ°å€æ··æ·†æŠ€æœ¯é€šè¿‡ <strong>éšæœºåŒ–ç¨‹åºæ•°æ®å’Œä»£ç çš„å†…å­˜åœ°å€</strong>ï¼Œä½¿å¾—æ”»å‡»è€…éš¾ä»¥æ‰¾åˆ°å¯ä»¥åˆ©ç”¨çš„æ¼æ´ã€‚å…·ä½“åšæ³•æ˜¯åœ¨åº”ç”¨ç¨‹åºæ„å»ºæ—¶ï¼Œæ··æ·†ç®—æ³•ä¼šéšæœºåŒ–ä»£ç å’Œæ•°æ®åœ¨å†…å­˜ä¸­çš„ç»å¯¹ä½ç½®ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç›¸å¯¹è·ç¦»ã€‚è¿™æ ·ï¼Œå³ä¾¿é»‘å®¢æˆåŠŸå…¥ä¾µæŸä¸€åº”ç”¨æˆ–è®¾å¤‡ï¼Œä»–ä»¬ä¹Ÿæ— æ³•è½»æ¾å¤åˆ¶æ”»å‡»è¡Œä¸ºï¼Œä»è€Œé™ä½äº†é€†å‘å·¥ç¨‹çš„æˆåŠŸç‡ã€‚</p>
<h3 data-id="heading-3">4. å®šæœŸæ›´æ–°æ··æ·†ä»£ç ï¼ˆRegular Renewal of Obfuscated Codeï¼‰</h3>
<p>é€šè¿‡ <strong>å®šæœŸå‘å¸ƒæ–°çš„æ··æ·†ç‰ˆæœ¬</strong>ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢é»‘å®¢é•¿æœŸç ´è§£ç³»ç»Ÿã€‚æ¯å½“åº”ç”¨å‘å¸ƒæ–°çš„ç‰ˆæœ¬æ—¶ï¼Œæºä»£ç éƒ½ä¼šè¢«é‡æ–°æ··æ·†ï¼Œä»è€Œè¿«ä½¿é»‘å®¢æ”¾å¼ƒå¯¹å·²ç ´è§£ç‰ˆæœ¬çš„æ”»å‡»ã€‚è¿™ç§ç­–ç•¥çš„æ ¸å¿ƒåœ¨äºï¼Œæ··æ·†æŠ€æœ¯çš„æˆæœ¬éšç€æ—¶é—´çš„æ¨ç§»è€Œä¸æ–­å¢åŠ ï¼Œé»‘å®¢æ‰€éœ€æŠ•å…¥çš„ç ´è§£æ—¶é—´å’Œç²¾åŠ›è¿œè¿œè¶…è¿‡äº†ä»–ä»¬è·å¾—çš„ä¿¡æ¯çš„ä»·å€¼ã€‚</p>
<h3 data-id="heading-4">5. Objective-C æ¶ˆæ¯è°ƒç”¨å’Œå…ƒæ•°æ®æ··æ·†ï¼ˆObjective-C Message Call and Metadata Obfuscationï¼‰</h3>
<p>é’ˆå¯¹ <strong>Objective-C</strong> ä»£ç çš„æ··æ·†ï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼è¿›è¡Œï¼š</p>
<p><strong>æ··æ·†æ¶ˆæ¯è°ƒç”¨</strong>ï¼šå°†æºä»£ç ä¸­çš„æ™®é€šæ–‡æœ¬æ¶ˆæ¯è°ƒç”¨è¿›è¡ŒåŠ å¯†ï¼Œä½¿å…¶æ— æ³•ç›´æ¥è¢«é˜…è¯»å’Œç¼–è¾‘ã€‚</p>
<p><strong>åŠ å¯†å…ƒæ•°æ®</strong>ï¼šåŒ…æ‹¬ç±»åˆ«ã€ç±»åã€æ–¹æ³•ã€åè®®ã€å±æ€§ã€å®ä¾‹å˜é‡ç­‰ä¿¡æ¯ï¼Œè¿™äº›å…ƒæ•°æ®ä¼šåœ¨è¿è¡Œæ—¶è¿›è¡Œè§£å¯†ï¼Œä»¥éšè—å…³é”®ä¿¡æ¯ï¼Œé˜²æ­¢é™æ€åˆ†æå·¥å…·è·å–é‡è¦ä¿¡æ¯ã€‚</p>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå³ä½¿é»‘å®¢é€šè¿‡é™æ€åˆ†æå·¥å…·è·å¾—æºä»£ç ï¼Œä¹Ÿéš¾ä»¥ç†è§£å…¶ä¸­çš„å…³é”®ç»“æ„å’Œæ•°æ®ã€‚</p>
<p>å¯¹äºiOSå¼€å‘è€…ï¼Œä½¿ç”¨IpaGuardå·¥å…·å¯ä»¥è‡ªåŠ¨åŒ–è¿™äº›æ··æ·†è¿‡ç¨‹ï¼Œå®ƒæ”¯æŒObjective-Cå’ŒSwiftä»£ç çš„æ··æ·†ï¼Œæ— éœ€æºç å³å¯å¯¹IPAæ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œå¹¶å…è®¸å³æ—¶æµ‹è¯•è¿è¡Œä»¥éªŒè¯æ•ˆæœã€‚</p>
<h3 data-id="heading-5">6. æ±‡ç¼–ä»£ç æŒ‡ä»¤æ··æ·†ï¼ˆObfuscation of Assembly Code Instructionsï¼‰</h3>
<p>æ”¹å˜æ±‡ç¼–ä»£ç æœ¬èº«æ˜¯ <strong>å¢å¼ºä»£ç æŠ—é€†å‘èƒ½åŠ›</strong> çš„å¦ä¸€ç§æ–¹æ³•ã€‚é€šè¿‡ä»¥ä¸‹æ–¹å¼å¯ä»¥å¢å¼ºæ±‡ç¼–ä»£ç çš„å®‰å…¨æ€§ï¼š</p>
<p><strong>é‡å æ±‡ç¼–æŒ‡ä»¤ï¼ˆJump-in-the-middleï¼‰</strong>ï¼šéšè—ä»£ç ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä½¿å¾—åæ±‡ç¼–å·¥å…·äº§ç”Ÿé”™è¯¯çš„è¾“å‡ºã€‚</p>
<p><strong>æ’å…¥æ— æ„ä¹‰çš„æ§åˆ¶è¯­å¥å’Œåƒåœ¾ä»£ç </strong>ï¼šè¿™äº›æ— ç”¨çš„ä»£ç ä¼šå¢åŠ é€†å‘å·¥ç¨‹çš„éš¾åº¦ï¼ŒåŒæ—¶å½±å“åæ±‡ç¼–çš„å‡†ç¡®æ€§ã€‚</p>
<p>è¿™ç§æ–¹å¼ä½¿å¾—é»‘å®¢æ— æ³•é€šè¿‡æ ‡å‡†çš„åæ±‡ç¼–å·¥å…·è½»æ¾è·å–ç¨‹åºçš„çœŸå®ç»“æ„ã€‚</p>
<h3 data-id="heading-6">7. æ··æ·†è°ƒè¯•ä¿¡æ¯ï¼ˆObfuscating Debug Informationï¼‰</h3>
<p>è°ƒè¯•ä¿¡æ¯é€šå¸¸ä¼šè¢«ç”¨äºé€†å‘å·¥ç¨‹ï¼Œé€šè¿‡ <strong>å»é™¤æˆ–æ··æ·†è°ƒè¯•ä¿¡æ¯</strong>ï¼Œå¯ä»¥æœ‰æ•ˆé˜»æ­¢æ”»å‡»è€…é€šè¿‡åç¼–è¯‘é‡æ–°æ„å»ºæºä»£ç ã€‚å¸¸è§çš„åšæ³•åŒ…æ‹¬ï¼š</p>
<p><strong>æ”¹å˜è°ƒè¯•æ•°æ®ä¸­çš„è¡Œå·å’Œæ–‡ä»¶å</strong>ï¼Œä½¿å¾—è°ƒè¯•ä¿¡æ¯æ— æ³•ç›´æ¥æŒ‡å‘æºä»£ç ã€‚</p>
<p><strong>å®Œå…¨åˆ é™¤è°ƒè¯•ä¿¡æ¯</strong>ï¼Œé¿å…é»‘å®¢é€šè¿‡è°ƒè¯•æ•°æ®æ‰¾åˆ°ç¨‹åºæ¼æ´ã€‚</p>
<p>è¿™ç§æ–¹æ³•èƒ½å¤Ÿæœ€å¤§é™åº¦åœ°é¿å…æ”»å‡»è€…åœ¨è°ƒè¯•é˜¶æ®µè·å–æ•æ„Ÿä¿¡æ¯ï¼Œä»è€Œå¢åŠ ç ´è§£çš„éš¾åº¦ã€‚</p>
<p>IpaGuardæä¾›è°ƒè¯•ä¿¡æ¯æ¸…ç†åŠŸèƒ½ï¼Œè‡ªåŠ¨æ¸…é™¤ä»£ç æ³¨é‡Šå’Œè°ƒè¯•ä¿¡æ¯ï¼Œå¢åŠ åè°ƒè¯•éš¾åº¦ï¼Œå¹¶æ”¯æŒå³æ—¶æµ‹è¯•è¿è¡Œï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€ŸéªŒè¯æ··æ·†æ•ˆæœã€‚</p>
<p>éšç€ç½‘ç»œå®‰å…¨å¨èƒçš„ä¸æ–­æ¼”åŒ–ï¼Œä¿æŠ¤åº”ç”¨ç¨‹åºæºä»£ç å…å—æ”»å‡»å˜å¾—å°¤ä¸ºé‡è¦ã€‚æºä»£ç æ··æ·†æŠ€æœ¯ä¸ºä¼ä¸šæä¾›äº†ä¸€æ¡æœ‰æ•ˆçš„é˜²çº¿ï¼Œå¸®åŠ©ä»–ä»¬é˜²æ­¢åº”ç”¨ç¨‹åºè¢«é€†å‘å·¥ç¨‹å’Œç ´è§£ã€‚å¯¹äºä¿æŠ¤çŸ¥è¯†äº§æƒå’Œç”¨æˆ·æ•°æ®çš„å…¬å¸æ¥è¯´ï¼Œæºä»£ç æ··æ·†ä¸ä»…æ˜¯åŠ å¼ºå®‰å…¨çš„é‡è¦æªæ–½ï¼Œè€Œä¸”æ˜¯æå‡ç«äº‰åŠ›çš„å…³é”®æ‰‹æ®µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç ´å±€å¤æ‚ä¸šåŠ¡åœºæ™¯ï¼šç™¾åº¦æ•°æ®åˆ†æå¹³å°ï¼ˆTDAï¼‰åˆ†æå¢å¼ºä¸æ€§èƒ½ä¼˜åŒ–çš„åŒè½®é©±åŠ¨]]></title>    <link>https://juejin.cn/post/7576558359840014374</link>    <guid>https://juejin.cn/post/7576558359840014374</guid>    <pubDate>2025-11-25T08:07:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576558359840014374" data-draft-id="7576271552704790554" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç ´å±€å¤æ‚ä¸šåŠ¡åœºæ™¯ï¼šç™¾åº¦æ•°æ®åˆ†æå¹³å°ï¼ˆTDAï¼‰åˆ†æå¢å¼ºä¸æ€§èƒ½ä¼˜åŒ–çš„åŒè½®é©±åŠ¨"/> <meta itemprop="keywords" content="æ•°æ®åˆ†æ"/> <meta itemprop="datePublished" content="2025-11-25T08:07:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™¾åº¦Geekè¯´"/> <meta itemprop="url" content="https://juejin.cn/user/4186596000416094"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç ´å±€å¤æ‚ä¸šåŠ¡åœºæ™¯ï¼šç™¾åº¦æ•°æ®åˆ†æå¹³å°ï¼ˆTDAï¼‰åˆ†æå¢å¼ºä¸æ€§èƒ½ä¼˜åŒ–çš„åŒè½®é©±åŠ¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4186596000416094/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™¾åº¦Geekè¯´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:07:36.000Z" title="Tue Nov 25 2025 08:07:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¯¼è¯»</p>
<p>é€šè¿‡Turing Data Analysis(TDAï¼‰ä¸€ç«™å¼è‡ªåŠ©åˆ†æå¹³å°å»ºè®¾ï¼Œå®ç°äº†ä¸šåŠ¡çœ‹æ•°ã€åˆ†æä¸€ä½“åŒ–é—­ç¯ã€‚ç„¶è€Œï¼Œéšç€ä¸šåŠ¡æ·±åº¦ä½¿ç”¨ï¼Œåˆ†æéœ€æ±‚ä¹Ÿæ›´åŠ çš„å¤æ‚ã€å¤šæ ·ï¼Œå¯¹TDAçš„åˆ†æèƒ½åŠ›æå‡ºäº†æ›´é«˜çš„è¦æ±‚ï¼ŒåŒæ—¶ç”¨æˆ·çš„æé™æŸ¥è¯¢ä¸æ€§èƒ½å½¢æˆå¯¹æŠ—ï¼Œä¹Ÿå½±å“äº†ç”¨æˆ·çš„åˆ†æä½“éªŒã€‚æœ¬æ–‡å°†èšç„¦åˆ†æèƒ½åŠ›å¢å¼ºä¸æ€§èƒ½ä¼˜åŒ–ä¸¤æ–¹é¢ï¼Œé˜è¿°å…·ä½“çš„ä¼˜åŒ–ç­–ç•¥ï¼Œä»¥æŒç»­ä¿è¯ç”¨æˆ·åˆ†æä½“éªŒã€‚</p>
<h2 data-id="heading-0">01 èƒŒæ™¯ä¸é—®é¢˜</h2>
<p><strong>1.1 TDAæ¦‚è¿°</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfef814ef5ef4e7782f33b9210bf9bdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=XeqVrs%2ByCjGoKeQrZgVtfJqIBvI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šè¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg5MjU0NTI5OQ%3D%3D%26mid%3D2247584876%26idx%3D1%26sn%3D7bf459415ef8d51685d4e1c335b0603e%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg5MjU0NTI5OQ==&amp;mid=2247584876&amp;idx=1&amp;sn=7bf459415ef8d51685d4e1c335b0603e&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ç™¾åº¦ä¸€ç«™å¼æ•°æ®è‡ªåŠ©åˆ†æå¹³å°ï¼ˆTDAï¼‰å»ºè®¾</a>ï¼Œå®ç°äº†ä¸šåŠ¡çœ‹æ•°ã€åˆ†æä¸€ä½“åŒ–é—­ç¯ï¼š</p>
<p>1. ä¸šåŠ¡çœ‹æ¿è¿­ä»£ææ•ˆï¼ˆè‡ªåŠ©åŒ–ï¼‰ï¼šæ•°æ®æŠ¥è¡¨è¿­ä»£æ¨¡å¼å‘ç”Ÿå˜åŒ–ï¼Œä»PMæéœ€RDæ’æœŸæ¨¡å¼é€æ­¥è½¬æ¢ä¸ºPM/è¿è¥è‡ªåŠ©åŒ–æ“ä½œ(åšçœ‹æ¿/åˆ†ææ•°æ®ï¼‰</p>
<p>2. æ•°æ®æ´å¯Ÿåˆ†æææ•ˆï¼ˆæé€Ÿï¼‰ï¼šå•æ¬¡æ•°æ®æŸ¥è¯¢ä»åˆ†é’Ÿçº§é™ä½åˆ°ç§’çº§ï¼ŒæŒ‡æ ‡æ³¢åŠ¨åˆ†ææ•ˆç‡æå‡20å€ï¼Œå•æ¬¡æŒ‡æ ‡æ³¢åŠ¨å½’å› åˆ†æç«¯åˆ°ç«¯ä»2å°æ—¶-&gt;5åˆ†é’Ÿå†…</p>
<p>3. ä¸šåŠ¡ä¸€ç«™å¼è‡ªåŠ©åˆ†æï¼ˆä¸€ç«™å¼ï¼‰ï¼šå®ç°æ•°æ®è¶‹åŠ¿è§‚æµ‹ã€ç»´åº¦ä¸‹é’»åˆ†æã€æ˜ç»†å¯¼å‡ºç­‰åŠŸèƒ½ï¼Œå®ç°äº†æ•°æ®ç›‘æ§ã€æ•°æ®åˆ†æä¸€ä½“åŒ–ä½“éªŒã€‚</p>
<h3 data-id="heading-1"><strong>1.2Â é—®é¢˜ä¸æŒ‘æˆ˜</strong></h3>
<p>éšç€ä¸šåŠ¡æ·±åº¦ä½¿ç”¨ï¼Œåˆ†æéœ€æ±‚ä¹Ÿæ›´åŠ çš„å¤æ‚ã€å¤šæ ·ï¼Œå¯¹TDAçš„åˆ†æèƒ½åŠ›æå‡ºäº†æ›´é«˜çš„è¦æ±‚ï¼ŒåŒæ—¶ç”¨æˆ·çš„æé™æŸ¥è¯¢ä¸æ€§èƒ½å½¢æˆå¯¹æŠ—ï¼Œä¹Ÿå½±å“äº†ç”¨æˆ·çš„åˆ†æä½“éªŒï¼š</p>
<p>1. æ›´é«˜çš„åˆ†æèƒ½åŠ›è¦æ±‚ï¼š</p>
<p>a. æ›´å¤æ‚çš„ç»Ÿè®¡æŒ‡æ ‡è®¡ç®—ï¼šä¸šåŠ¡ä¸Šéœ€è¦è®¡ç®—å‘¨/æœˆ/å­£/å¹´æ—¥å‡å€¼åŠä¸å‰ä¸€å‘¨æœŸï¼ˆä¸Šä¸€å‘¨/æœˆ/å­£/å¹´ï¼‰çš„å¯¹æ¯”å·®å¼‚å€¼ï¼Œä»¥åŠå¯¹å¤šè¡Œæ•°æ®æ±‡æ€»åˆè®¡ç­‰ï¼Œè¿™äº›æ›´å¤æ‚çš„ç»Ÿè®¡æŒ‡æ ‡è®¡ç®—è¿˜æ— æ³•é«˜æ•ˆæ»¡è¶³ï¼›</p>
<p>b. åˆ†ææŠ¥å‘Šèƒ½åŠ›ï¼šåœ¨ä¸šåŠ¡æ—¥å¸¸çš„æ•°æ®ä½¿ç”¨ä¸­ï¼Œå‘¨æŠ¥/æœˆæŠ¥ç­‰å›ºå®šå‘¨æœŸæ•°æ®çš„æ±‡æŠ¥æ˜¯ä¸€ä¸ªå„ä¸šåŠ¡é€šç”¨ä¸”å›ºå®šçš„ä½¿ç”¨åœºæ™¯ã€‚ç›®å‰å„ä¸šåŠ¡å¤šé‡‡ç”¨æ•°æ®å»ºè®¾â€”&gt;ä»ªè¡¨ç›˜é…ç½®â€”&gt;äººå·¥ä¸‹è½½æ•´ç†â€”&gt;æ·»åŠ æ•°æ®ç»“è®ºâ€”&gt;ç”Ÿæˆå‘¨æŠ¥çš„æµç¨‹è¿›è¡Œå»ºè®¾ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæ•°æ®æ•´ç†ã€ç»“è®ºæ·»åŠ ã€è·¨å¹³å°æ•´åˆç­‰å·¥ä½œè€—æ—¶è€—åŠ›ã€‚</p>
<p>2. æ€§èƒ½â€œå¯¹æŠ—â€ï¼šéšç€æ•°æ®é‡çº§å¢é•¿ã€ç”¨æˆ·æé™çš„åˆ†æï¼ˆå½“ç”¨æˆ·å‘ç°æŸ¥è¯¢å˜å¿«åï¼Œä¼šæ‰©å¤§æŸ¥è¯¢å‘¨æœŸè¿›è¡Œæ›´å¤æ‚çš„åˆ†æç­‰ï¼‰ä¸æ€§èƒ½å½¢æˆå¯¹æŠ—ã€‚</p>
<p>é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</p>
<p>1. åˆ†æèƒ½åŠ›å¢å¼ºï¼š</p>
<p>a. å¤æ‚ç»Ÿè®¡æŒ‡æ ‡è‡ªåŠ¨è®¡ç®—ï¼šç»“åˆä¸šåŠ¡è¯‰æ±‚ï¼Œå°†ä¸šç•Œé€šç”¨åˆ†æè®¡ç®—æ–¹æ³•ï¼ˆæ—¶é—´å¯¹æ¯”ã€å æ¯”åˆ†æã€åŒç¯æ¯”ã€åˆè®¡ã€æ—¥å‡å€¼ã€æ’åºã€TopNã€è¡¨è®¡ç®—ç­‰ï¼‰è½åœ°åˆ°å¹³å°ï¼Œè®¡ç®—æ–¹æ³•å¯ä»¥äº¤å‰ä½¿ç”¨ï¼Œæ¥æ»¡è¶³ä¸šåŠ¡å¤æ‚çš„æŒ‡æ ‡è®¡ç®—è¯‰æ±‚ã€‚</p>
<p>b. å‘¨æŠ¥/æœˆæŠ¥ç­‰åˆ†ææŠ¥å‘Šèƒ½åŠ›å»ºè®¾ï¼šé€šè¿‡å¯¹è¯•ç‚¹ä¸šåŠ¡å‘¨æŠ¥çš„åˆ†æï¼Œæ€»ç»“å‘¨æŠ¥ç»„æˆï¼ˆå‘¨æœŸå›¾è¡¨æ•°æ® + åŠ¨æ€ç»“è®ºåŒ…æ‹¬äº¤å‰åˆ†æç»“æœåŠå½’å› ç»“è®ºï¼‰ï¼Œå› æ­¤é€šè¿‡å›¾è¡¨ + å¤æ‚ç»Ÿè®¡æŒ‡æ ‡è®¡ç®— + å½’å› æ–¹æ³• + åŠ¨æ€å¯Œæ–‡æœ¬ï¼Œæœ€ç»ˆç”Ÿæˆä¾‹è¡Œå‘¨æŠ¥ï¼Œæ¥æé«˜å·¥ä½œæ•ˆç‡ã€‚</p>
<p>2. æ€§èƒ½ä¼˜åŒ–ï¼šå®Œæ•´çš„åˆ†æè¿‡ç¨‹æ˜¯ï¼Œæ•°æ®å»ºæ¨¡-&gt;å¼•æ“æŸ¥è¯¢-&gt;å¹³å°äºŒæ¬¡è®¡ç®—å‘ˆç°ï¼Œæ•…éœ€è¦æ•°ä»“ã€å¼•æ“å’Œå¹³å°ä¸‰æ–¹å…±å»ºï¼Œç¡®å®šé•¿æœŸç›‘æ§ç›®æ ‡å›¾è¡¨æŸ¥è¯¢P90åŠæˆåŠŸç‡ï¼Œæ¥é•¿æœŸç›‘æ§ä¼˜åŒ–ã€‚</p>
<p>æ¥ä¸‹æ¥å°†ä»åˆ†æèƒ½åŠ›å¢å¼ºåŠæ€§èƒ½ä¼˜åŒ–å±•å¼€è®²è¿°ã€‚</p>
<h2 data-id="heading-2">02 åˆ†æèƒ½åŠ›å¢å¼º</h2>
<h3 data-id="heading-3"><strong>2.1 å¤æ‚ç»Ÿè®¡æŒ‡æ ‡è‡ªåŠ¨è®¡ç®—</strong></h3>
<p>æ•´ä½“æ€è·¯ï¼šå¤æ‚ç»Ÿè®¡æŒ‡æ ‡è®¡ç®—èƒ½åŠ›æ˜¯ä»¥TDAå›¾è¡¨æŸ¥è¯¢èƒ½åŠ›ä¸ºæ ¸å¿ƒï¼Œæ‰©å±•SQLæ„å»ºç®—å­+æ•°æ®å¤„ç†ç®—å­ï¼Œå®ç°ä¸åŒç»Ÿè®¡æŒ‡æ ‡è®¡ç®—ï¼Œçµæ´»å¯æ’æ‹”</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81f25bb5347e48c2a602d16978f67114~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=YD9KV3AyzSWyLTpmWa%2Fd2H7sMwU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ TDAåˆ†æè®¡ç®—æ¶æ„</strong></strong></p>
<p>åˆ†æcaseï¼šåˆ†æè¿‘ä¸€å¹´ç™¾äº¿çº§æ•°æ®ï¼ŒæŒ‰æœˆèšåˆçš„ç¯åŒæ¯”ã€æ—¥å‡ã€åˆè®¡å€¼</p>
<p>é¦–å…ˆï¼Œä¼ ç»Ÿçš„æŸ¥è¯¢åå¤„ç†æ–¹å¼ï¼Œå…ˆæŸ¥å‡ºæ˜ç»†æ•°æ®ï¼Œåœ¨å†…å­˜ä¸­åˆ†ç»„ã€åˆå¹¶è®¡ç®—ã€‚å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<p>1. å½“æŸ¥è¯¢é‡çº§ç™¾äº¿æ—¶ï¼Œå†…å­˜ä¸­è®¡ç®—ä¸å¤ªå¯èƒ½</p>
<p>2. é’ˆå¯¹äºå¤åˆæŒ‡æ ‡å¦‚d = (a + b) / cï¼Œéœ€è¦åˆ†åˆ«æŸ¥å‡ºaã€bã€cçš„å€¼ï¼Œåœ¨å¤„ç†ï¼›ä»¥åŠæ›´å¤æ‚çš„å¦‚ sum( case when city = 'xx' then 1 case when city in ('xx', 'xx') then 2 end)ï¼Œéœ€è¦è§£æå‡ºSQLè¯­æ³•æ ‘ï¼Œæ‰èƒ½çŸ¥é“è®¡ç®—é€»è¾‘ï¼Œæ— æ³•ä¿è¯æ•°æ®è®¡ç®—å‡†ç¡®ã€‚</p>
<p>æ‰€ä»¥ï¼Œåªèƒ½è®¾è®¡å®ç°åŒç¯æ¯”ã€æ—¥å‡å€¼ã€åˆè®¡ç­‰SQLæ„å»ºç®—å­ï¼Œå°†è®¡ç®—é€»è¾‘æ‹¼æ¥åˆ°æŸ¥è¯¢å±‚ï¼Œæ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/860bb70e07b742e3bb3db7e4083b5ab2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=fJiFN0WIZCJ3F%2Fx4AjuMthoIkoI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ åˆ†æè¿‘ä¸€å¹´ç™¾äº¿çº§æ•°æ®ï¼ŒæŒ‰æœˆèšåˆçš„ç¯åŒæ¯”ã€æ—¥å‡ã€åˆè®¡å€¼</strong></strong></p>
<p>å…¶ä¸­ï¼Œç¯åŒæ¯”æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šæ—¥æœŸåç§»+Joinè¿æ¥ï¼ŒæŸ¥è¯¢æœ¬æœŸæ•°æ®ä¸ä¸Šä¸€å‘¨æœŸæ•°æ®ï¼ˆåç§»ä¸€å‘¨æœŸï¼‰ï¼Œè¿™æ ·åŒç»´åº¦çš„æ•°æ®å¯ä»¥é€šè¿‡Joinè¿æ¥æ‹¼æ¥åˆ°åŒä¸€è¡Œï¼ŒåŸºäºè¡¨åˆ—è®¡ç®—å®ç°ç¯åŒæ¯”è®¡ç®—</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d0232d43bce4ef1b96faa2be5451c42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=GQdyE0XaMlYNVms9yQnyxtwKsGc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ åŒç¯æ¯”æ„å»ºSQL</strong></strong></p>
<p>æ¥ç€ï¼Œæ—¥å‡å€¼æ ¸å¿ƒé€»è¾‘ï¼š</p>
<p>å¯åŠ å‹æŒ‡æ ‡ï¼ˆå¦‚åˆ†å‘é‡ï¼‰ï¼Œæ—¥å‡åˆ†å‘é‡ = åˆ†å‘é‡ / count(distinct æ—¥æœŸ)ï¼›</p>
<p>éå¯åŠ å‹æŒ‡æ ‡ï¼ˆå¦‚dauã€äººå‡åˆ†å‘é‡ç­‰ï¼‰ï¼Œé€šè¿‡å­æŸ¥è¯¢ï¼Œå…ˆæŸ¥å‡ºæŒ‰å¤©çš„æ˜ç»†ï¼Œå†è®¡ç®—æŒ‰æœˆçš„æ—¥å‡</p>
<p>ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œå¯å…ˆè¯†åˆ«å¾…è®¡ç®—çš„æŒ‡æ ‡åˆ—è¡¨æ˜¯å¦åŒ…å«éå¯åŠ å‹æŒ‡æ ‡ï¼Œè‹¥åŒ…å«å†é€šè¿‡å­æŸ¥è¯¢è®¡ç®—å®ç°ã€‚</p>
<p>æœ€åï¼Œåˆè®¡æ ¸å¿ƒé€»è¾‘ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ddc26e7bb3f42ca90afe04e37edf3c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=zdVtGcrpmF%2Bsq3yTBvkhrPjG1xc%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œé€šè¿‡å¤šåç¨‹éé˜»å¡æ–¹å¼å¹¶å‘æŸ¥è¯¢å¤šä¸ªSQLï¼Œå¯ä»¥æŒ‰éœ€ä½¿ç”¨è‡ªåŠ¨åˆè®¡ï¼Œå‡å°‘æŸ¥è¯¢çš„SQLæ•°é‡ã€‚</p>
<h3 data-id="heading-4"><strong>2.2Â å‘¨æŠ¥/æœˆæŠ¥ç­‰åˆ†ææŠ¥å‘Šå»ºè®¾</strong></h3>
<p>è¿‡å»å‘¨æŠ¥/æœˆæŠ¥ä¹¦å†™é€šè¿‡PPT/PDFï¼Œé‡‡ç”¨æ•°æ®å»ºè®¾â€”&gt;ä»ªè¡¨ç›˜é…ç½®â€”&gt;äººå·¥ä¸‹è½½æ•´ç†â€”&gt;æ·»åŠ æ•°æ®ç»“è®ºâ€”&gt;ç”Ÿæˆå‘¨æŠ¥çš„æµç¨‹è¿›è¡Œå»ºè®¾ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæ•°æ®æ•´ç†ã€ç»“è®ºæ·»åŠ ã€è·¨å¹³å°æ•´åˆç­‰å·¥ä½œè€—æ—¶è€—åŠ›ï¼Œæ•…æˆ‘ä»¬å°†å‘¨æŠ¥/æœˆæŠ¥åœºæ™¯å›ºåŒ–ä¸ºå¹³å°åˆ†æå·¥å…·ï¼Œå¸®åŠ©ä¸šåŠ¡å¿«é€Ÿæ„å»ºå‘¨æŠ¥/æœˆæŠ¥ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</p>
<p>é€šè¿‡å¯¹è¯•ç‚¹ä¸šåŠ¡å‘¨æŠ¥çš„åˆ†æï¼Œå¯ä»¥å‘ç°ä¸šåŠ¡å‘¨æŠ¥çš„ä¸»è¦ç»“æ„ä¸ºï¼š</p>
<p>1. å‘¨æœŸæ•°æ®ï¼ˆæ–‡æœ¬ï¼‰ï¼šæŒ‰å‘¨/æœˆæ±‡æ€»çš„æ•°æ®ï¼Œä¸€èˆ¬æ¥è‡ªäºTDAå›¾è¡¨ä¸­çš„æŸäº›æŒ‡æ ‡ã€‚</p>
<p>2. å›¾è¡¨ï¼ˆå›¾è¡¨ï¼‰ï¼šTDAä¸­å·²ç”Ÿæˆçš„å›¾è¡¨æˆªå›¾ï¼Œæˆ–ä½¿ç”¨TDAä¸­çš„æ•°æ®ç”»ä¸€äº›è‡ªå®šä¹‰çš„å›¾è¡¨</p>
<p>3. ç»“è®ºï¼ˆå½’å›  + å¤–éƒ¨å› ç´ ï¼Œæ–‡æœ¬ï¼‰ï¼šç»“è®ºåŒ…æ‹¬ä¸¤ç§ï¼Œä¸€ç§æ˜¯åŸºäºæ•°æ®é›†çš„äº¤å‰åˆ†æå¯ä»¥å¾—å‡ºçš„ç»“è®ºï¼›å¦ä¸€ç§æ˜¯åŸºäºä¸€äº›å®¢è§‚äº‹å®åˆ†æå¾—å‡ºçš„ç»“è®ºï¼Œå¦‚å¤©æ°”å˜åŒ–ã€APPç‰ˆæœ¬æ›´æ–°ç­‰ã€‚</p>
<p>å› æ­¤ï¼Œå‘¨æŠ¥/æœˆæŠ¥çš„å»ºè®¾æ€è·¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6b8aff0734542e594e2e8f0bce91308~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=bY0vLzy%2FtleG20etPbK%2Bslvx82o%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ å‘¨æŠ¥case</strong></strong></p>
<p>1. åŠ¨æ€å¯Œæ–‡æœ¬ï¼šæ–‡æœ¬ç»„ä»¶ï¼Œå¯ä»¥åµŒå…¥TDAå›¾è¡¨æŒ‡æ ‡æ•°æ®ã€äº¤å‰åˆ†ææ•°æ®ã€å½’å› æ•°æ®ç­‰åŠ¨æ€æ•°æ®ï¼Œä»¥åŠæˆªå›¾ç­‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d705d6caf74d4148800ba659d223ba2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=LCVu2I10LAoX8zm8d0UyQBHfnxI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ åŠ¨æ€å¯Œæ–‡æœ¬</strong></strong></p>
<p>ç›¸è¾ƒäºä¼ ç»ŸPPT/PDFä¹¦å†™æ–¹å¼ï¼Œæ™ºèƒ½å‘¨æŠ¥æœ€å¤§çš„åŒºåˆ«å°±æ˜¯åŠ¨æ€ç»‘å®šæ•°æ®ï¼Œæˆ‘ä»¬åŸºäºLexicalè‡ªç ”äº†åŠ¨æ€å¯Œæ–‡æœ¬ï¼Œé€šè¿‡å®å®šä¹‰å˜é‡ç»‘å®šå›¾è¡¨ã€å½’å› ç»“è®ºç­‰åŠ¨æ€æ•°æ®ï¼Œé€šè¿‡è·¨æ¨¡å—æ¶ˆæ¯é€šä¿¡ï¼Œè§£å†³äº†åŠ¨æ€æ•°æ®æ¸²æŸ“çš„æ€§èƒ½é—®é¢˜ï¼ŒåŒ…æ‹¬é™æ€å’ŒåŠ¨æ€åˆ†å¼€æ¸²æŸ“ï¼Œå‡å°‘ç­‰å¾…ï¼Œç›‘å¬æ•°æ®æ›´æ–°ï¼Œé¿å…é‡å¤æ•°æ®è¯·æ±‚ï¼Œç›‘å¬ç»„ä»¶æ›´æ–°ï¼Œé¿å…é¢‘ç¹ä¿å­˜ï¼Œæå‡ç¼–è¾‘æµç•…åº¦ç­‰</p>
<p>2. å¤æ‚ç»Ÿè®¡æŒ‡æ ‡è®¡ç®—èƒ½åŠ›ï¼šå¤æ‚ç»Ÿè®¡æŒ‡æ ‡è‡ªåŠ¨è®¡ç®—ï¼ˆåŒç¯æ¯”ã€æ—¥å‡å€¼ã€åˆè®¡ç­‰ï¼‰ï¼Œä¸Šä¸€ç« èŠ‚å·²è®²è¿°</p>
<p>3. å½’å› å†³ç­–èƒ½åŠ›ï¼šå½’å› æ€è·¯å›ºåŒ–ã€å½’å› ç®—æ³•ã€å¤šçº§å½’å› ã€ä¾‹è¡Œå½’å› ç­‰ï¼Œä¸‹ä¸€ç« èŠ‚è®²è¿°</p>
<h3 data-id="heading-5"><strong>2.3Â å½’å› å†³ç­–èƒ½åŠ›å»ºè®¾</strong></h3>
<p>æ¯ä¸ªä¸šåŠ¡éƒ½æœ‰è‡ªå·±çš„ä¸€å¥—åˆ†ææ€è·¯ï¼Œä»¥ç™¾å®¶å·åˆ†æä¸ºä¾‹ï¼š</p>
<p>ç™¾å®¶å·æ ¸å¿ƒæŒ‡æ ‡æ³¢åŠ¨æ’æŸ¥è·¯å¾„ï¼šåŸºäºæ ¸å¿ƒæŒ‡æ ‡è¿›è¡Œç»´åº¦æ³¢åŠ¨æ‹†è§£ï¼Œä¸€èˆ¬ä¼šè¿›è¡Œ2-3çº§æ‹†è§£åˆ†æ</p>
<p>å¦‚ï¼šå¯¹åˆ†å‘é‡ï¼ˆå†å²å¯åˆ†å‘å†…å®¹ï¼‰çš„å½’å› åˆ†æ</p>
<p>ç¬¬ä¸€æ­¥ï¼šç»´åº¦ç­›é€‰ï¼ˆå†…å®¹ç±»å‹=å›¾æ–‡ï¼›è´¦å·ç±»å‹ï¼šç¦è¨€ï¼‰</p>
<p>ç¬¬äºŒæ­¥ï¼šå®šä½å¼‚å¸¸å†…å®¹å‚ç±»ï¼ˆåˆ†å†…å®¹å‚ç±»ç›‘æµ‹æ•°æ®æ³¢åŠ¨æƒ…å†µï¼Œæ‰¾å‡ºæ³¢åŠ¨top2å‚ç±»ï¼šè´¢ç»ã€ç¾é£Ÿï¼‰</p>
<p>ç¬¬ä¸‰æ­¥ï¼šç¬¬ä¸€å±‚ç»´åº¦å½’å› ï¼ˆè®¡ç®—å„ç»´åº¦å„æšä¸¾å€¼è‡ªèº«ç¯æ¯”å˜åŒ–ç‡ã€å¯¹å‚ç±»æ•´ä½“å˜åŒ–çš„è´¡çŒ®åº¦ï¼Œå–topï¼‰ï¼ˆâ‘ ä½œè€…ç²‰æ®µï¼ˆ10ä¸‡ç²‰æ®µä½œè€…ï¼‰ã€â‘¡å‘æ–‡æ¥æºï¼ˆYYï¼‰ï¼‰</p>
<p>ç¬¬å››æ­¥ï¼šç¬¬äºŒå±‚ç»´åº¦å½’å› ï¼ˆå–é™¤è‡ªèº«å¤–çš„å…¶ä»–12ä¸ªç»´åº¦åˆ†åˆ«è®¡ç®—å˜åŒ–ç‡ã€è´¡çŒ®åº¦å–topç»´åº¦ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36ff8117ecaa462cabdde9f2f3a958e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=srVAucb0VgWqteyCHJduaxI4kGY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ ä¸šåŠ¡åˆ†ææ ‘case</strong></strong></p>
<p>æˆ‘ä»¬æœŸæœ›èƒ½æä¾›å·¥å…·åŒ–èƒ½åŠ›ï¼Œè®©ä¸šåŠ¡å¯ä»¥æŠŠè‡ªå·±çš„åˆ†ææ€è·¯æ²‰æ·€åˆ°å¹³å°ï¼Œå½¢æˆèµ„äº§ã€‚</p>
<p>æ‰€ä»¥ï¼Œå½’å› å†³ç­–çš„æ•´ä½“å»ºè®¾æ€è·¯æ˜¯ï¼š</p>
<p>ä»¥â€œåˆ†ææ ‘â€ä½œä¸ºåˆ†ææ€è·¯è½åœ°çš„è½½ä½“ï¼ŒæŠ½è±¡â€œå¼‚å¸¸å‘ç°â€ã€â€œç»´åº¦æ‹†è§£â€ã€â€œæŒ‡æ ‡æ‹†è§£â€ç­‰é€šç”¨åˆ†æç®—å­ï¼Œå…è®¸ç”¨æˆ·å°†ä¸šåŠ¡åˆ†ææ€è·¯å›ºåŒ–åœ¨å¹³å°å†…å½¢æˆâ€œåˆ†ææ ‘â€DAGå›¾ï¼Œå®ç°è‡ªåŠ¨çš„å¼‚å¸¸å‘ç°å’Œåˆ†æï¼Œå¹¶ç»“åˆæ•°æ®å°±ç»ªé€šçŸ¥ï¼Œå°†åˆ†æç»“è®ºä¾‹è¡Œè¾“å‡ºå±•ç¤ºåˆ°åˆ†ææŠ¥å‘Šé‡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d204daff6aaf48deb3d5eb583ed1f5ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=79HxVAHv2rh7nmos0oGr7izpGxI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ åˆ†ææ ‘ç¤ºä¾‹ï¼Œæ•°æ®ä¸ºæµ‹è¯•æ•°æ®ï¼Œä»…ä¾›å‚è€ƒ</strong></strong></p>
<h4 data-id="heading-6">2.3.1 å¼‚åŠ¨æ£€æµ‹ï¼šå¿«é€Ÿé”å®šï¼Œâ€œå“ªé‡Œå‡ºäº†é—®é¢˜â€</h4>
<p>åŸºäºè§„åˆ™ï¼šæ ¹æ®ä¸šåŠ¡ç»éªŒï¼ŒåŸºäºå’Œä¹‹å‰æ—¥æœŸæ•°æ®çš„å·®å¼‚ç™¾åˆ†æ¯”æ¥åˆ’å®šæ­£å¸¸æ³¢åŠ¨åŒºé—´ï¼Œå¦‚æ—¥ç¯æ¯”ã€å‘¨åŒæ¯”ç­‰</p>
<p>åŸºäºæ—¶åºé¢„æµ‹ç®—æ³•ï¼šè®¡ç®—ä¸€ä¸ªæ—¶åºæ•°æ®çš„ç½®ä¿¡åŒºé—´ï¼Œè¶…å‡ºåŒºé—´å¤–çš„ï¼Œåˆ™æ˜¯å¼‚å¸¸å€¼ï¼Œç®—æ³•å¦‚Holt-Wintersã€Prophet</p>
<p>æ•´ä½“æ£€æµ‹çš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96a772e633d54f89b67dd4ac64d09138~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=pByVTYHIu2jzQYh%2BSUzsv4H2CnI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-7">2.3.2 ç»´åº¦å½’å› ï¼šæ¨ªå‘çœ‹ç»´åº¦ï¼Œâ€œé—®é¢˜åœ¨å“ªä¸ªç¾¤ä½“â€</h4>
<p>ç»´åº¦å½’å› çš„æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec44e741a2944d32988834bdf556a4de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=ubLY9dgVtMs7tqvWvhj8BmojGNU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>åˆ†æç±»</strong>ï¼šå…¥å£ï¼Œè§£æç”¨æˆ·å½’å› é…ç½®ï¼Œç¡®å®šç»´åº¦æ‹†è§£çš„è§†è§’ï¼ˆä¸‹é’»ã€ç»„åˆã€è‡ªåŠ¨é€‰æ‹©ï¼‰ï¼Œè°ƒç”¨æŸ¥è¯¢ç±»æŸ¥è¯¢æ‰€éœ€çš„æ•°æ®ï¼Œè°ƒç”¨å½’å› ç®—æ³•å¯¹æ•°æ®å¤„ç†ï¼Œæœ€ç»ˆè°ƒç”¨è¾“å‡ºç±»ï¼ŒæŒ‰ç…§å‘ˆç°æ ·å¼è¾“å‡ºå¯¹åº”çš„æ•°æ®æ ¼å¼</p>
<p><strong>ç®—æ³•ç±»</strong>ï¼šåŒºåˆ†æŒ‡æ ‡ç±»å‹ï¼ˆå¯åŠ å‹æŒ‡æ ‡ã€æ¯”ä¾‹å‹æŒ‡æ ‡ï¼‰ï¼Œé€‚ç”¨ç®—æ³•ä¸åŒ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee330b37ae074600aceafbc712e710e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=Ht0gz6gcQSgcLqJKBN2UeRYryrI%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a1af7edfd5342fb89b26cdf859bfa79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=hm7J02KvriEjUA7fEvzlaNJR5qI%3D" alt="image.png" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/932a461a91e448a98642b5981290f372~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=YzzrDl%2BR3HQ3fI0PC%2B5UM1i1V1s%3D" alt="image.png" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42a5a5e6a076422fb264c12c847ddeea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=vYDEyBINGtjksde%2Fy%2FgyYsV1aH4%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æŸ¥è¯¢è®¡ç®—ç±»</strong>ï¼šåŒºåˆ†ç»´åº¦å½’å› è§†è§’ï¼ˆä¸‹é’»ã€ç»„åˆã€è‡ªåŠ¨å‘ç°ï¼‰ï¼ŒæŸ¥è¯¢è®¡ç®—æ–¹å¼ä¸åŒ</p>
<p>æ¯”å¦‚ï¼ŒåŸå§‹æ•°æ®ï¼šæ—¥æœŸã€Aã€Bã€Mï¼ˆæŒ‡æ ‡ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d2cd25554c0487cab3309b83d0665db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=kvvh9snPkcsY07hE2uBeGUyuEMw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ æŸ¥è¯¢è®¡ç®—ï¼šä¸‹é’»ã€ç»„åˆã€è‡ªåŠ¨å‘ç°</strong></strong></p>
<h4 data-id="heading-8">2.3.3 æŒ‡æ ‡å½’å› ï¼šçºµå‘çœ‹æŒ‡æ ‡ï¼Œâ€œè¿™ä¸ªç¾¤ä½“çš„é—®é¢˜æ˜¯ä»€ä¹ˆâ€</h4>
<p>æŒ‡æ ‡å½’å› çš„æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11c9fff4cd0543659fac840616bf8516~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=XPfF%2BqbkHXvObgdZ%2BvHNwgU1v48%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>1. ä¹˜æ³•æŒ‡æ ‡æ‹†è§£å½’å› ï¼š ä¹˜æ³•å› å­è´¡çŒ®åŒæ—¶ä¹Ÿé€‚ç”¨äºé™¤æ³•æŒ‡æ ‡ï¼Œåªéœ€è¦ä¸ºåˆ†æ¯å»ºç«‹ä¸€ä¸ªå€’æ•°å­—æ®µå³å¯ã€‚</p>
<p>å¦‚A = B * C</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b328c13cfe5a4e549833e7b1d7133226~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=Lisg8oc00%2Fm5KRbzFuNg5%2FKsjMs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>2. éä¹˜æ³•æŒ‡æ ‡æ‹†è§£å½’å› ï¼š åœ¨å®é™…ä¸šåŠ¡ä¸­æ ¸å¿ƒæŒ‡æ ‡ä¼šç”±ç”±å¤šä¸ªæŒ‡æ ‡å¤æ‚çš„å››åˆ™è¿ç®—å¾—åˆ°ï¼Œæˆ–è€…æ²¡æœ‰å…¬å¼å…³ç³»ä½†å­˜åœ¨ç›¸å…³æ€§ï¼Œæ­¤æ—¶ä¹Ÿéœ€è¦é‡åŒ–è¯„ä¼°å­æŒ‡æ ‡å¯¹æ ¸å¿ƒæŒ‡æ ‡å˜åŒ–çš„è´¡çŒ®</p>
<p><strong>çº¿æ€§</strong>ï¼šå¦‚A = B + C - Dï¼Œä½¿ç”¨æ³¢åŠ¨è´¡çŒ®è®¡ç®—å³å¯</p>
<p>Bè´¡çŒ®ç‡ = Î”B / Î”A</p>
<p>Cè´¡çŒ®ç‡ = Î”C / Î”A</p>
<p>Dè´¡çŒ®ç‡ = -Î”D / Î”A</p>
<p><strong>éçº¿æ€§</strong>ï¼šå¦‚æˆ¿ä»·å’Œä½ç½®ï¼Œæ¥¼å±‚ï¼Œé¢ç§¯çš„å…³ç³»ï¼Œå¹¶æ— ä¸¥æ ¼çš„æ•°å­¦å…¬å¼ï¼Œä½†æ˜¯åˆå­˜åœ¨ä¸€äº›ç›¸å…³æ€§ã€‚</p>
<p>æˆ‘ä»¬å‡è®¾ä¸€ä¸ªæŒ‡æ ‡å¯ä»¥è¡¨ç¤ºä¸ºè‹¥å¹²ä¸ªç›¸å…³æŒ‡æ ‡çš„å‡½æ•°æ¨¡å‹fï¼Œå¦‚ï¼š</p>
<p>A = f(B, C)</p>
<p>é€šè¿‡XGBoostè¿›è¡Œå»ºæ¨¡ï¼Œä¿è¯æ¨¡å‹å¯ä»¥å¾—åˆ°å¾ˆå¥½çš„é¢„æµ‹æ•ˆæœï¼ˆå°½é‡è´´åˆçœŸå®æ•°æ®ï¼‰</p>
<p>å†é€šè¿‡SHAPï¼Œç»™å‡ºä¸€ä¸ªå¯åŠ æ€§çš„è§£é‡Šæ–¹æ³•</p>
<p>yi=ybase+f(xi,1)+f(xi,2)+â‹¯+f(xi,k)</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5835c8d1a3e941e0ab160d606655f403~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=n%2FmR0pk5At3eVw3ulOhaU1cGwo4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-9">03 æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-10"><strong>3.1 æ€§èƒ½æŒ‘æˆ˜</strong></h3>
<p>1. å¹³å°è‡ªèº«ï¼šä»¥ä¸»é¢˜å®½è¡¨å»ºè®¾æ•°æ®é›†ï¼Œå•å¤©æ•°æ®é‡çº§åƒä¸‡çº§ï¼›åˆ†æå¤æ‚åº¦é«˜ï¼ŒæŒ‰å­£åº¦æŸ¥è¯¢åŒç¯æ¯”ã€æ—¥å‡å€¼ç­‰æ¶‰åŠJoinã€å­æŸ¥è¯¢ã€é•¿å‘¨æœŸçš„å¤æ‚æŸ¥è¯¢åœºæ™¯ï¼›</p>
<p>2. ç”¨æˆ·ï¼šæ•°æ®é‡çº§ä¸æ–­å¢é•¿ï¼Œç”¨æˆ·ä¼šç…§ç€æ€§èƒ½æé™å»ä½¿ç”¨ï¼ˆæ¯”å¦‚ä¼˜åŒ–è¿‡æ€§èƒ½åï¼Œç”¨æˆ·å‘ç°æŸ¥è¯¢å˜å¿«ï¼Œä¼šæ‰©å¤§æŸ¥è¯¢å‘¨æœŸï¼‰ï¼Œä¸æ€§èƒ½ä¼˜åŒ–å½¢æˆå¯¹æŠ—ã€‚</p>
<h3 data-id="heading-11"><strong>3.2 æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ</strong></h3>
<p>å®Œæ•´çš„åˆ†æé“¾è·¯ï¼šæ•°æ®å»ºæ¨¡-&gt;å¼•æ“æŸ¥è¯¢-&gt;å¹³å°äºŒæ¬¡è®¡ç®—å‘ˆç°ï¼Œæ‰€ä»¥æ€§èƒ½çš„ä¼˜åŒ–ä¹Ÿæ˜¯éœ€è¦æ•°ä»“ã€å¼•æ“å’Œå¹³å°ä¸‰æ–¹å…±åŒæ¨è¿›å»ºè®¾ã€‚</p>
<p>æ•´ä½“çš„ä¼˜åŒ–æ–¹æ¡ˆï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ff50cb1ba42469991eeface5db92266~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=U3x4hMgAF%2BleUjcASInz897lRhM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ æ•°ä»“ã€å¼•æ“ã€å¹³å°ä¸‰æ–¹å…±å»º</strong></strong></p>
<p>1. å¹³å°ä»ç¼“å­˜ã€æŸ¥è¯¢å¹¶å‘æ§åˆ¶ç­‰è§’åº¦ä¼˜åŒ–æ€§èƒ½ï¼Œé€šè¿‡æ€§èƒ½è¯Šæ–­å·¥å…·ï¼Œç›‘æ§å›¾è¡¨è€—æ—¶æƒ…å†µï¼Œå°†è¯Šæ–­ç»“æœæ¨é€è‡³æ•°ä»“ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/caebd9ef9b74497ea0000f75d5d07ed7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=DaieUbtQm9uF48ute3Z%2B7miwKKg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ æ€§èƒ½è¯Šæ–­å·¥å…·</strong></strong></p>
<ol>
<li>
<p>2. æ•°ä»“å»ºæ¨¡ä¼˜åŒ–ç”Ÿäº§é«˜æ€§èƒ½æ•°æ®é›†æ¥å…¥å¹³å°ï¼Œå®šæœŸæ²»ç†ä¸€äº›é•¿å°¾è‡ªå®šä¹‰å­—æ®µã€‚</p>
</li>
<li>
<p>3. å¼•æ“ç»™æ•°ä»“ã€å¹³å°æä¾›èƒ½åŠ›æ”¯æŒï¼ŒæŒç»­ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½ã€‚80%+çš„æ•°æ®é›†éƒ½æ˜¯ç”¨Clickhouseï¼Œæ‰€ä»¥é’ˆå¯¹Clickhouseé‡ç‚¹ä¼˜åŒ–ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg5MjU0NTI5OQ%3D%3D%26mid%3D2247601378%26idx%3D1%26sn%3D9234aeef05c3813cfb34d9a064261984%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg5MjU0NTI5OQ==&amp;mid=2247601378&amp;idx=1&amp;sn=9234aeef05c3813cfb34d9a064261984&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ClickHouseåœ¨ç™¾åº¦MEGæ•°æ®ä¸­å°çš„è½åœ°å’Œä¼˜åŒ–</a></p>
</li>
</ol>
<p>ä¸‹é¢é‡ç‚¹è®²ä¸€ä¸‹å¹³å°æ€§èƒ½ä¼˜åŒ–</p>
<h4 data-id="heading-12">3.2.1 åˆ†çº§ç¼“å­˜ï¼šCDNç¼“å­˜ã€é…ç½®ç¼“å­˜ã€æ•°æ®ç¼“å­˜</h4>
<p>CDNç¼“å­˜ï¼šé™æ€èµ„æºç»Ÿä¸€æ¥å…¥ä¸€ç«™å¼äº‘å¹³å°fcnapï¼Œå¼€å¯Http2.0å’ŒCDNåŠ é€Ÿï¼›</p>
<p>é…ç½®ç¼“å­˜ï¼šä»ªè¡¨ç›˜ã€å›¾è¡¨ç­‰é…ç½®æ¥å£æ¥å…¥ç¼“å­˜ï¼Œé€šè¿‡ç›‘å¬æ›´æ–°äº‹ä»¶ï¼Œå¼‚æ­¥æ›´æ–°ç¼“å­˜ï¼Œä¿è¯ç¼“å­˜æ°¸ä¹…æœ€æ–°ã€‚</p>
<p>æ•°æ®ç¼“å­˜ï¼š</p>
<ul>
<li>
<p>é¦–æ¬¡æŸ¥è¯¢ï¼šç”¨æˆ·é¦–æ¬¡è®¿é—®ï¼ˆç¼“å­˜ç©¿é€ï¼‰ï¼ŒæŸ¥è¯¢æ•°æ®åº“ï¼Œç„¶åå†™å…¥ç¼“å­˜</p>
</li>
<li>
<p>ä¸»åŠ¨é¢„çƒ­ï¼šå¯¹äºä¸€äº›å›ºåŒ–çš„çœ‹æ•°åœºæ™¯ï¼Œä¾‹å¦‚ä»ªè¡¨ç›˜ï¼Œæå‰æŠŠä»ªè¡¨ç›˜å›¾æ•°æ®æˆ–å›¾è¡¨æŸ¥è¯¢æ”¾åˆ°ç¼“å­˜ä¸­ï¼Œç”¨æˆ·æŸ¥çœ‹æ—¶ç›´æ¥è¯»å–ç¼“å­˜ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/256ddc85dc674074a1c06012fd8f4e58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=wdWGHT%2B9WJaJCBhKK4VOibKETqc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ ç¼“å­˜é¢„çƒ­</strong></strong></p>
<p>é¢„çƒ­ä¸»è¦åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šé¢„çƒ­ç”Ÿäº§ã€é¢„çƒ­æ¶ˆè´¹ã€é¢„çƒ­ç›‘æ§</p>
<p>é¢„çƒ­ç”Ÿäº§ï¼šç¡®å®šå“ªäº›ä»ªè¡¨ç›˜éœ€è¦é¢„çƒ­ï¼Œé¢„çƒ­çš„è§¦å‘æ¡ä»¶ï¼Œç¼“å­˜æ›´æ–°æœºåˆ¶ç­‰</p>
<p>é¢„çƒ­æ¶ˆè´¹ï¼šæ ¹æ®å›¾è¡¨æŸ¥è¯¢pvï¼Œç¡®å®šæ¶ˆè´¹ä¼˜å…ˆçº§ï¼›é«˜å³°æ—¶æ®µï¼Œé¢„çƒ­ä»»åŠ¡ä¸»åŠ¨é¿è®©ï¼Œæš‚åœç”Ÿäº§ï¼›æ•°æ®å˜æ›´ï¼Œæ ¹æ®è¡€ç¼˜æŸ¥æ‰¾éœ€æ›´æ–°çš„å›¾è¡¨ã€‚</p>
<p>é¢„çƒ­ç›‘æ§ï¼šç›‘æ§æ¶ˆè´¹é˜Ÿåˆ—çš„æƒ…å†µï¼Œè®°å½•å¤±è´¥çš„çŠ¶æ€å’ŒåŸå› ï¼›ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡ï¼Œè°ƒæ•´é¢„çƒ­ç”Ÿäº§ç­–ç•¥ã€‚</p>
<p>æœ€ç»ˆï¼Œå‘½ä¸­å¹³å°ç¼“å­˜çš„æŸ¥è¯¢P90è€—æ—¶ä¼˜åŒ–è‡³å‡ ç™¾ms</p>
<h4 data-id="heading-13">3.2.2 ä¸å¼•æ“ã€æ•°ä»“è”åˆï¼Œå®ç°æ•°æ®å¤šçº§èšåˆ</h4>
<p>æ•°ä»“åœ¨æ•°æ®å»ºæ¨¡å±‚é¢è¿›è¡Œæ•°æ®èšåˆï¼ŒåŸºäºå¤§å®½è¡¨ï¼ˆäº‹å®è¡¨ + ç»´åº¦è¡¨ï¼‰ï¼Œå¹¶ç»“åˆä¸šåŠ¡ä¸»é¢˜æŠ½å–å‡ºç›¸åº”çš„ç»´åº¦èšåˆè¡¨ä½œä¸ºCHæ•°æ®é›†ï¼Œä¸ºæ»¡è¶³ä¸šåŠ¡ä¾§çš„æ‹–æ‹½å¼åˆ†æ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af0d07963e0346de9c7409b1b412b23c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=YPm%2BlsUenxcL86v8vTNcPVKUnDk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ CHæ•°æ®é›†å»ºè®¾æµç¨‹</strong></strong></p>
<p>éƒ¨åˆ†å…¬å…±ä»ªè¡¨ç›˜çš„é¦–å±è¯·æ±‚é€šè¿‡å¹³å°é¢„çƒ­ç¼“å­˜å…œä½ï¼Œè€Œå˜æ›´ä»ªè¡¨ç›˜æ¡ä»¶ä»¥åŠä¸‹é’»åˆ†æçš„æŸ¥è¯¢ï¼Œä¼šç©¿é€åˆ°å¼•æ“ä¾§ï¼Œæ‰€ä»¥åœ¨å¼•æ“ä¾§å®ç°äº†ä¸¤å±‚æ•°æ®èšåˆï¼š</p>
<p>1. å¼•å…¥èšåˆè¡¨ï¼šåŸºäºProjectionå®ç°å¯¹æŸ¥è¯¢ä¸­é—´çŠ¶æ€çš„é¢„èšåˆï¼Œé¿å…å¯¹åŸå§‹æ˜ç»†æ•°æ®çš„å¤§é‡ç£ç›˜æ‰«æï¼›</p>
<p>2. SQLçº§ç¼“å­˜ï¼šæŒ‰SQLçº§ç²’åº¦ï¼Œå°†æœ€ç»ˆæŸ¥è¯¢ç»“æœç¼“å­˜åœ¨å¤–éƒ¨å†…å­˜ï¼Œç¼©çŸ­æŸ¥è¯¢é“¾è·¯ï¼Œå¹¶é¿å…é‡å¤æŸ¥è¯¢å¸¦æ¥çš„å¤šä½™ç£ç›˜IOã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44a42adcb5a349ea8b8999c3ea3d049d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=paIFUat01CBYU97khCoyiEStuok%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ ä¸å¼•æ“ã€æ•°ä»“è”åˆï¼Œå®ç°å¤šçº§èšåˆ</strong></strong></p>
<p>å¹³å°å°†é«˜é¢‘å†å²æŸ¥è¯¢ï¼ŒåŒæ­¥åˆ°å¼•æ“ä¾§ï¼ŒååŠ©è‡ªåŠ¨åˆ›å»ºProjectionï¼Œå¼•æ“ä¾§å®ç°å¯¹Projectionè¿›è¡Œå…¨ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨åŒ–ç®¡ç†ã€‚</p>
<h4 data-id="heading-14">3.2.3 æŸ¥è¯¢å¹¶å‘ï¼šå¤šåŸŸåè½¬å‘è¯·æ±‚ï¼Œå¤šè¿›ç¨‹ + å¤šåç¨‹å“åº”è¯·æ±‚</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e77daabad0644d0a10ed56daa99b371~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=Qoq%2BD0toP438boNF2oOJtYCYywo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ å¹¶å‘æŸ¥è¯¢</strong></strong></p>
<p>æµè§ˆå™¨å¹¶å‘6é™åˆ¶ï¼šé€šè¿‡å¤šåŸŸåæ–¹å¼ï¼Œå°†å›¾è¡¨è¯·æ±‚ä¸å…¶ä»–è¯·æ±‚åˆ†æµï¼Œä¿è¯å¹³å°äº¤äº’æµç•…ï¼Œå›¾è¡¨è¯·æ±‚å¹¶å‘åº¦æå‡ï¼Œä»è€Œæå‡æ€»ä½“è€—æ—¶</p>
<p>å¤šè¿›ç¨‹ + å¤šåç¨‹å“åº”è¯·æ±‚ï¼šå•ä¸ªè¯·æ±‚å¤„ç†æ—¶æ˜¯ä¸²è¡Œçš„ï¼Œä½†æœ‰äº›é€»è¾‘å¯ä»¥å¹¶è¡Œå¤„ç†ï¼Œå¦‚è®¡ç®—åˆè®¡æ—¶ï¼ŒåŸæ•°æ®SQL + åˆè®¡SQLé€šè¿‡åç¨‹å¹¶è¡Œæ‰§è¡Œï¼Œæé«˜æŸ¥è¯¢æ€§èƒ½ã€‚</p>
<p>æµæ§é™åˆ¶ï¼šå¤šå¹¶å‘å¯èƒ½ä¼šå¸¦æ¥å¼•æ“é«˜è´Ÿè½½é—®é¢˜ï¼Œé™¤äº†æ‰©å……å¼•æ“èµ„æºå¤–ï¼Œå¹³å°å’Œå¼•æ“è”åˆå¯¹æŸ¥è¯¢è¿›è¡Œæµæ§é™åˆ¶ï¼Œé’ˆå¯¹é‡å¤è¯·æ±‚ï¼Œå¼•æ“ä¾§å¿«é€Ÿå¿«é€Ÿè¿”å›ç›¸åº”çŠ¶æ€ï¼Œå¹³å°æ ¹æ®çŠ¶æ€ç åšå¯¹åº”çš„å¤„ç†ï¼Œæ¥é¿å…ç”¨æˆ·è¯·æ±‚å¤ªå¤šï¼Œå¯¼è‡´è´Ÿè½½è¿‡é«˜ï¼ŒæŸ¥è¯¢å¡æ­»</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/825430c28d984659bb9645f0f5321b0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqmR2Vla-ivtA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764662855&amp;x-signature=GlZFaZKS9R0p7BDcodrCHzJEmZ0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong><strong>â–³ æµæ§é™åˆ¶</strong></strong></p>
<h2 data-id="heading-15">04 æ€»ç»“ä¸å±•æœ›</h2>
<p>é€šè¿‡å¤æ‚ç»Ÿè®¡æŒ‡æ ‡è‡ªåŠ¨è®¡ç®—èƒ½åŠ›ã€å‘¨æŠ¥/æœˆæŠ¥ç­‰åˆ†ææŠ¥å‘Šèƒ½åŠ›ä»¥åŠå½’å› å†³ç­–èƒ½åŠ›çš„å»ºè®¾ï¼Œæ»¡è¶³äº†ä¸šåŠ¡æ›´é«˜åˆ†æèƒ½åŠ›è¯‰æ±‚ã€‚é€šè¿‡æ€§èƒ½ä¼˜åŒ–ï¼Œè§£å†³äº†ç”¨æˆ·åˆ†æä¸æ€§èƒ½ä¼˜åŒ–ä¹‹é—´çš„é•¿æœŸâ€œå¯¹æŠ—â€ï¼Œæ¥æŒç»­ä¿è¯ç”¨æˆ·çš„åˆ†æä½“éªŒã€‚</p>
<p>ç›®å‰TDAå¹³å°PVæ—¥å‡5w+ï¼Œå…¶ä¸­å¯è§†åŒ–åˆ†æPVå æ¯”70%+ï¼Œç”¨æˆ·å·²æ·±åº¦ä½¿ç”¨è¿™å¥—åˆ†æèƒ½åŠ›æ¥è§£å†³æ—¥å¸¸åˆ†æè¯‰æ±‚</p>
<p>éšç€AIçš„å¿«é€Ÿå‘å±•ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨ä¸æ–­æ¢ç´¢BIä¸AIçš„èåˆè½åœ°ï¼Œæ‰“é€ ä¸€ä¸ªData Agentï¼ˆæ•°æ®é¢†åŸŸä¸“å®¶æ™ºèƒ½ä½“ï¼‰ï¼Œæ·±åº¦è¿ç”¨ä¸šåŠ¡æ•°æ®èµ„äº§ï¼Œå®ç°ä¸»åŠ¨æ€è€ƒã€æ´å¯Ÿã€åˆ†æä¸è¡ŒåŠ¨ï¼ˆå¦‚è‡ªåŠ¨è¯†åˆ« DAU å¼‚å¸¸æ³¢åŠ¨ï¼Œå¹¶è‡ªåŠ¨ä»ç»´åº¦å’ŒæŒ‡æ ‡åˆ†åˆ«è¿›è¡Œå½’å› åˆ†ææœ€ç»ˆå‡ºä¼˜åŒ–äº§å“åŠŸèƒ½æˆ–è°ƒæ•´è¿è¥ç­–ç•¥çš„æŠ¥å‘Šå»ºè®®ï¼‰ï¼Œæ¨åŠ¨TDAå¹³å°ä»å·¥å…·é›†åˆå‡çº§ä¸ºæ™ºèƒ½å†³ç­–ä¼™ä¼´ï¼Œè®©æ¯ä¸ªç”¨æˆ·éƒ½èƒ½æ‹¥æœ‰è‡ªä¸»è¿›åŒ–çš„æ•°æ®å¤§è„‘ï¼ŒæŒç»­é‡Šæ”¾æ•°æ®ä»·å€¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†åªç”¨ Vector Search äº†ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ è½åœ° GraphRAGï¼ˆå›¾è°±å¢å¼ºæ£€ç´¢ï¼‰]]></title>    <link>https://juejin.cn/post/7576272680520253483</link>    <guid>https://juejin.cn/post/7576272680520253483</guid>    <pubDate>2025-11-25T08:02:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576272680520253483" data-draft-id="7576369868417548324" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†åªç”¨ Vector Search äº†ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ è½åœ° GraphRAGï¼ˆå›¾è°±å¢å¼ºæ£€ç´¢ï¼‰"/> <meta itemprop="keywords" content="åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-25T08:02:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‰ä¸ƒäº’å¨±åç«¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/257733502705339"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†åªç”¨ Vector Search äº†ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ è½åœ° GraphRAGï¼ˆå›¾è°±å¢å¼ºæ£€ç´¢ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/257733502705339/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‰ä¸ƒäº’å¨±åç«¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:02:09.000Z" title="Tue Nov 25 2025 08:02:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    23
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. ä¸ºä»€ä¹ˆä½ çš„ RAG æ€»æ˜¯åœ¨â€œèƒ¡è¯´å…«é“â€ï¼Ÿ</h2>
<p>2024/2025 å¹´ï¼ŒRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰å·²ç»æˆä¸ºäº†ä¼ä¸šè½åœ°å¤§æ¨¡å‹çš„æ ‡é…ã€‚æˆ‘ä»¬æŠŠæ–‡æ¡£åˆ‡ç‰‡ï¼ˆChunkingï¼‰ï¼Œå­˜å…¥å‘é‡æ•°æ®åº“ï¼ˆVector DBï¼‰ï¼Œç„¶åç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆCosine Similarityï¼‰å»åŒ¹é…ã€‚</p>
<p>ä¸€åˆ‡çœ‹èµ·æ¥å¾ˆç¾ï¼Œç›´åˆ°ä½ é‡åˆ°è¿™ç§é—®é¢˜ï¼š</p>
<blockquote>
<p>ç”¨æˆ·æé—®ï¼š â€œå¯¹æ¯”ä¸€ä¸‹ A é¡¹ç›®å’Œ B é¡¹ç›®åœ¨ 2023 å¹´çš„è¥æ”¶ç­–ç•¥æœ‰ä»€ä¹ˆä¸åŒï¼Ÿâ€</p>
</blockquote>
<p>å¦‚æœä½ çš„æ–‡æ¡£é‡Œï¼ŒA é¡¹ç›®çš„ç­–ç•¥åœ¨ç¬¬ 10 é¡µï¼ŒB é¡¹ç›®çš„ç­–ç•¥åœ¨ç¬¬ 50 é¡µã€‚</p>
<p>â—Â  ä¼ ç»Ÿ Vector RAG çš„è¡¨ç°ï¼š å®ƒå¯èƒ½æ£€ç´¢åˆ°äº† A çš„ç‰‡æ®µï¼Œä¹Ÿæ£€ç´¢åˆ°äº† B çš„ç‰‡æ®µï¼Œä½†å®ƒæ— æ³•ç†è§£ä¸¤è€…ä¹‹é—´çš„å…³è”ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå¦‚æœæ–‡æ¡£ä¸­æ²¡æœ‰æ˜¾å¼åŒ…å«â€œA å’Œ B çš„å¯¹æ¯”â€è¿™å¥è¯ï¼Œå‘é‡æ£€ç´¢å¾ˆå¯èƒ½æ‰¾ä¸å…¨ä¿¡æ¯ï¼Œå¯¼è‡´å¤§æ¨¡å‹å¼€å§‹â€œå¹»è§‰â€æˆ–è€…å›ç­”â€œç”±äºç¼ºä¹ä¿¡æ¯ï¼Œæˆ‘æ— æ³•å›ç­”â€ã€‚</p>
<p>ç—›ç‚¹åœ¨äºï¼šå‘é‡æ£€ç´¢æ“…é•¿â€œè¯­ä¹‰ç›¸ä¼¼â€ï¼Œä½†æåº¦ç¼ºä¹â€œç»“æ„åŒ–é€»è¾‘â€å’Œâ€œå…¨å±€è§†é‡â€ã€‚</p>
<p>è¿™æ—¶å€™ï¼ŒGraphRAGï¼ˆåŸºäºçŸ¥è¯†å›¾è°±çš„ RAGï¼‰ å°±è¯¥ç™»åœºäº†ã€‚</p>
<h2 data-id="heading-1">2. ä»€ä¹ˆæ˜¯ GraphRAGï¼Ÿ</h2>
<p>ç®€å•æ¥è¯´ï¼ŒGraphRAG = çŸ¥è¯†å›¾è°± (Knowledge Graph) + å‘é‡æ£€ç´¢ (Vector Search) + LLMã€‚</p>
<p>å¾®è½¯ç ”ç©¶é™¢åœ¨æœ€è¿‘çš„è®ºæ–‡ä¸­å¤§åŠ›æ¨å´‡è¿™ç§æ¨¡å¼ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä¸ä»…è¦æŠŠæ–‡æœ¬å­˜æˆå‘é‡ï¼Œè¿˜è¦æŠŠæ–‡æœ¬ä¸­çš„â€œå®ä½“ï¼ˆEntityï¼‰â€å’Œâ€œå…³ç³»ï¼ˆRelationï¼‰â€æå–å‡ºæ¥ï¼Œå­˜æˆä¸€å¼ ç½‘ã€‚</p>
<h3 data-id="heading-2">ä¸¾ä¸ªæ —å­ ğŸŒ°</h3>
<p>åŸæ–‡ï¼šâ€œé©¬æ–¯å…‹æ˜¯ SpaceX çš„ CEOï¼ŒSpaceX è®¡åˆ’åœ¨ 2030 å¹´ç™»é™†ç«æ˜Ÿã€‚â€</p>
<p>â—Â  Vector RAG çœ‹åˆ°çš„æ˜¯ï¼šä¸€å †å…³äºé©¬æ–¯å…‹ã€SpaceXã€ç«æ˜Ÿçš„æ•°å­—å‘é‡ã€‚</p>
<p>â—Â  GraphRAG çœ‹åˆ°çš„æ˜¯ç»“æ„åŒ–æ•°æ®ï¼š</p>
<ul>
<li>
<p><code>(é©¬æ–¯å…‹) --[æ‹…ä»»]--&gt; (CEO) --[æ‰€å±å…¬å¸]--&gt; (SpaceX)</code></p>
</li>
<li>
<p><code>(SpaceX) --[è®¡åˆ’]--&gt; (ç™»é™†ç«æ˜Ÿ) --[æ—¶é—´]--&gt; (2030)</code></p>
</li>
</ul>
<p>å½“ä½ é—®â€œè°è®¡åˆ’åœ¨ 2030 å¹´å»ç«æ˜Ÿï¼Ÿâ€æ—¶ï¼ŒGraphRAG å¯ä»¥é¡ºç€å›¾è°±çš„è¾¹ï¼ˆEdgeï¼‰ç²¾å‡†æ‰¾åˆ°ç­”æ¡ˆï¼Œå“ªæ€•è¿™ä¸¤ä¸ªè¯åœ¨åŸæ–‡ä¸­è·ç¦»å¾ˆè¿œã€‚</p>
<h2 data-id="heading-3">3. GraphRAG vs Vector RAGï¼šå…¨æ–¹ä½å¯¹æ¯”</h2>



































<table><thead><tr><th align="left">ç»´åº¦</th><th align="left">Vector RAG (ä¼ ç»Ÿ)</th><th align="left">GraphRAG (è¿›é˜¶)</th></tr></thead><tbody><tr><td align="left"><strong>æ ¸å¿ƒåŸç†</strong></td><td align="left">æ–‡æœ¬åˆ‡ç‰‡ + å‘é‡ç›¸ä¼¼åº¦</td><td align="left">å®ä½“å…³ç³»æŠ½å– + å›¾éå†</td></tr><tr><td align="left"><strong>æ“…é•¿åœºæ™¯</strong></td><td align="left">ç®€å•çš„äº‹å®é—®ç­”ï¼ˆWhatï¼‰</td><td align="left">å¤æ‚æ¨ç†ã€å¤šè·³æŸ¥è¯¢ï¼ˆHow/Whyï¼‰</td></tr><tr><td align="left"><strong>ä¸Šä¸‹æ–‡èƒ½åŠ›</strong></td><td align="left">ç¢ç‰‡åŒ–ï¼Œå®¹æ˜“ä¸¢å¤±å…¨å±€ä¿¡æ¯</td><td align="left">ç»“æ„åŒ–ï¼Œèƒ½è¿æ¥è·¨æ–‡æ¡£çš„çŸ¥è¯†</td></tr><tr><td align="left"><strong>å¹»è§‰ç‡</strong></td><td align="left">è¾ƒé«˜ï¼ˆæ‰¾ä¸åˆ°å°±çç¼–ï¼‰</td><td align="left">è¾ƒä½ï¼ˆåŸºäºç¡®å®šçš„å…³ç³»å›ç­”ï¼‰</td></tr><tr><td align="left"><strong>æ„å»ºæˆæœ¬</strong></td><td align="left">ä½ï¼ˆåˆ‡åˆ†å­˜å…¥å³å¯ï¼‰</td><td align="left">é«˜ï¼ˆéœ€è¦æŠ½å–å®ä½“ã€æ„å»ºå›¾è°±ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-4">4. å®æˆ˜ï¼šç”¨ Python + LangChain å®ç°ä¸€ä¸ªè¿·ä½  GraphRAG</h2>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨ Python å¿«é€Ÿæ­å»ºä¸€ä¸ª GraphRAG çš„é›å½¢ã€‚</p>
<h3 data-id="heading-5">4.1 æŠ€æœ¯æ ˆå‡†å¤‡</h3>
<p>â—Â  LangChain: ç¼–æ’æ¡†æ¶</p>
<p>â—Â  OpenAI (GPT-4o/GPT-3.5): ç”¨äºå®ä½“æŠ½å–å’Œç”Ÿæˆ</p>
<p>â—Â  Neo4j: å›¾æ•°æ®åº“ï¼ˆæ¨èä½¿ç”¨ Neo4j AuraDB çš„å…è´¹äº‘å®ä¾‹ï¼Œçœå»æœ¬åœ°å®‰è£…éº»çƒ¦ï¼‰</p>
<h3 data-id="heading-6">4.2 ç¯å¢ƒå®‰è£…</h3>
<pre><code class="hljs language-bash" lang="bash">
pip install langchain langchain-community langchain-openai neo4j

</code></pre>
<h3 data-id="heading-7">4.3 æ ¸å¿ƒä»£ç å®ç°</h3>
<h4 data-id="heading-8">ç¬¬ä¸€æ­¥ï¼šè¿æ¥å›¾æ•°æ®åº“</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è¿æ¥åˆ° Neo4jã€‚</p>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">import</span> os

<span class="hljs-keyword">from</span> langchain_community.graphs <span class="hljs-keyword">import</span> Neo4jGraph

Â 

<span class="hljs-comment"># é…ç½®ä½ çš„ API Key å’Œæ•°æ®åº“è¿æ¥</span>

os.environ[<span class="hljs-string">"OPENAI_API_KEY"</span>] = <span class="hljs-string">"sk-..."</span>

os.environ[<span class="hljs-string">"NEO4J_URI"</span>] = <span class="hljs-string">"bolt://localhost:7687"</span>

os.environ[<span class="hljs-string">"NEO4J_USERNAME"</span>] = <span class="hljs-string">"neo4j"</span>

os.environ[<span class="hljs-string">"NEO4J_PASSWORD"</span>] = <span class="hljs-string">"password"</span>

Â 

<span class="hljs-comment"># åˆå§‹åŒ–å›¾å¯¹è±¡</span>

graph = Neo4jGraph()

</code></pre>
<h4 data-id="heading-9">ç¬¬äºŒæ­¥ï¼šå°†æ–‡æœ¬è½¬åŒ–ä¸ºå›¾è°±ï¼ˆæ ¸å¿ƒé­”æ³•ï¼‰</h4>
<p>è¿™æ˜¯ GraphRAG æœ€å…³é”®çš„ä¸€æ­¥ã€‚æˆ‘ä»¬éœ€è¦ç”¨ LLM è‡ªåŠ¨ä»éç»“æ„åŒ–æ–‡æœ¬ä¸­æå–å®ä½“å’Œå…³ç³»ã€‚LangChain æä¾›äº† <code>LLMGraphTransformer</code> æ¥åšè¿™ä»¶äº‹ã€‚</p>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">from</span> langchain_experimental.graph_transformers <span class="hljs-keyword">import</span> LLMGraphTransformer

<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI

<span class="hljs-keyword">from</span> langchain_core.documents <span class="hljs-keyword">import</span> Document

Â 

<span class="hljs-comment"># å‡†å¤‡ä¸€æ®µæµ‹è¯•æ–‡æœ¬ï¼ˆæ¨¡æ‹Ÿä¼ä¸šæ–‡æ¡£ï¼‰</span>

text = <span class="hljs-string">"""

åŸƒéš†Â·é©¬æ–¯å…‹æ˜¯ç‰¹æ–¯æ‹‰å’ŒSpaceXçš„é¦–å¸­æ‰§è¡Œå®˜ã€‚

ç‰¹æ–¯æ‹‰æ€»éƒ¨ä½äºå¾—å…‹è¨æ–¯å·ï¼Œä¸»è¦ç”Ÿäº§ç”µåŠ¨æ±½è½¦ã€‚

SpaceXä¸“æ³¨äºèˆªå¤©æŠ€æœ¯ï¼Œå¹¶è®¡åˆ’æ®–æ°‘ç«æ˜Ÿã€‚

"""</span>

documents = [Document(page_content=text)]

Â 

<span class="hljs-comment"># åˆå§‹åŒ– LLM å’Œ å›¾è½¬æ¢å™¨</span>

llm = ChatOpenAI(temperature=<span class="hljs-number">0</span>, model=<span class="hljs-string">"gpt-4o"</span>) <span class="hljs-comment"># å»ºè®®ç”¨å¼ºæ¨¡å‹åšæŠ½å–</span>

llm_transformer = LLMGraphTransformer(llm=llm)

Â 

<span class="hljs-comment"># æå–å›¾æ•°æ®</span>

graph_documents = llm_transformer.convert_to_graph_documents(documents)

Â 

<span class="hljs-comment"># æ‰“å°çœ‹çœ‹æå–äº†ä»€ä¹ˆ</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æå–åˆ°çš„èŠ‚ç‚¹: <span class="hljs-subst">{graph_documents[<span class="hljs-number">0</span>].nodes}</span>"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æå–åˆ°çš„å…³ç³»: <span class="hljs-subst">{graph_documents[<span class="hljs-number">0</span>].relationships}</span>"</span>)

Â 

<span class="hljs-comment"># å­˜å…¥ Neo4j æ•°æ®åº“</span>

graph.add_graph_documents(graph_documents)

</code></pre>
<p>è¿è¡Œåï¼Œä½ çš„ Neo4j æ•°æ®åº“é‡Œå°±ä¼šè‡ªåŠ¨ç”Ÿæˆ <code>(é©¬æ–¯å…‹)-[CEO]-&gt;(ç‰¹æ–¯æ‹‰)</code> è¿™æ ·çš„èŠ‚ç‚¹å…³ç³»å›¾ã€‚</p>
<h4 data-id="heading-10">ç¬¬ä¸‰æ­¥ï¼šåŸºäºå›¾è°±è¿›è¡Œæ£€ç´¢é—®ç­”</h4>
<p>ç°åœ¨æ•°æ®å·²ç»åœ¨å›¾é‡Œäº†ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>GraphCypherQAChain</code>ï¼Œå®ƒä¼šè‡ªåŠ¨å°†è‡ªç„¶è¯­è¨€è½¬æ¢æˆ Cypher æŸ¥è¯¢è¯­å¥ï¼ˆç±»ä¼¼ SQLï¼‰ã€‚</p>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">from</span> langchain.chains <span class="hljs-keyword">import</span> GraphCypherQAChain

Â 

chain = GraphCypherQAChain.from_llm(

graph=graph,

llm=llm,

verbose=<span class="hljs-literal">True</span>, <span class="hljs-comment"># å¼€å¯ verbose å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„ Cypher è¯­å¥</span>

allow_dangerous_requests=<span class="hljs-literal">True</span>

)

Â 

query = <span class="hljs-string">"ç‰¹æ–¯æ‹‰å’ŒSpaceXæœ‰ä»€ä¹ˆå…±åŒç‚¹ï¼Ÿ"</span>

response = chain.invoke(query)

Â 

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"AI å›ç­”: <span class="hljs-subst">{response[<span class="hljs-string">'result'</span>]}</span>"</span>)

</code></pre>
<h3 data-id="heading-11">4.4 æ•ˆæœåˆ†æ</h3>
<p>å½“ä½ è¿è¡Œä¸Šè¿°ä»£ç æ—¶ï¼ŒLangChain ä¼šåœ¨åå°ç”Ÿæˆç±»ä¼¼è¿™æ ·çš„ Cypher æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-cypher" lang="cypher">
MATCH (p:Person)-[:CEO]-&gt;(c:Company) WHERE p.id = 'åŸƒéš†Â·é©¬æ–¯å…‹' RETURN c.id

</code></pre>
<p>AI ä¼šé€šè¿‡å›¾è°±å‘ç°ï¼Œè¿™ä¸¤ä¸ªå®ä½“éƒ½æŒ‡å‘åŒä¸€ä¸ª Person èŠ‚ç‚¹ï¼ˆé©¬æ–¯å…‹ï¼‰ï¼Œä»è€Œç²¾å‡†å›ç­”ï¼šâ€œå®ƒä»¬éƒ½ç”±åŸƒéš†Â·é©¬æ–¯å…‹æ‹…ä»»é¦–å¸­æ‰§è¡Œå®˜ã€‚â€</p>
<p>å¦‚æœæ˜¯ä¼ ç»Ÿçš„ Vector Searchï¼Œå¯èƒ½åªä¼šåˆ†åˆ«æ£€ç´¢åˆ°ä¸¤æ®µè¯ï¼Œç„¶åç”± LLM è´¹åŠ›åœ°å»æ‹¼å‡‘ç­”æ¡ˆï¼Œå¾ˆå®¹æ˜“é—æ¼ã€‚</p>
<h2 data-id="heading-12">5. è¿›é˜¶æ€è·¯ï¼šGraph + Vector æ··åˆæ£€ç´¢</h2>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå•çº¯ç”¨å›¾æ£€ç´¢ä¹Ÿæœ‰å±€é™ï¼ˆæ¯”å¦‚å¯¹æ¨¡ç³Šæ¦‚å¿µçš„åŒ¹é…èƒ½åŠ›å¼±ï¼‰ã€‚æœ€ä½³å®è·µæ˜¯â€œæ··åˆæ£€ç´¢â€ï¼š</p>
<ol>
<li>
<p>éç»“æ„åŒ–æŸ¥è¯¢ï¼šå…ˆç”¨ Vector Search æ‰¾åˆ°ç›¸å…³çš„æ–‡æ¡£å—ã€‚</p>
</li>
<li>
<p>ç»“æ„åŒ–æ‰©å±•ï¼šä»¥ Vector æ£€ç´¢åˆ°çš„å®ä½“ä¸ºèµ·ç‚¹ï¼Œåœ¨ Knowledge Graph ä¸­å‘å¤–è·³è·ƒ 1-2 å±‚ï¼Œè·å–å…³è”ä¿¡æ¯ã€‚</p>
</li>
<li>
<p>ä¸Šä¸‹æ–‡èåˆï¼šå°†â€œå‘é‡æ£€ç´¢çš„æ–‡æœ¬â€ + â€œå›¾è°±æ£€ç´¢çš„å…³ç³»â€ä¸€èµ·å–‚ç»™ LLMã€‚</p>
</li>
</ol>
<p>å¾®è½¯çš„ GraphRAG åº“æ­£æ˜¯é‡‡ç”¨äº†è¿™ç§ç±»ä¼¼â€œç¤¾åŒºæ£€æµ‹ï¼ˆCommunity Detectionï¼‰â€çš„é«˜çº§ç®—æ³•ï¼Œå¯¹å›¾è°±è¿›è¡Œèšç±»æ‘˜è¦ï¼Œä»è€Œå®ç°å¯¹æµ·é‡ä¿¡æ¯çš„å®è§‚ç†è§£ã€‚</p>
<h2 data-id="heading-13">6. æ€»ç»“</h2>
<p>RAG çš„ä¸‹åŠåœºï¼Œæ‹¼çš„ä¸æ˜¯è°çš„å‘é‡åº“å¤§ï¼Œè€Œæ˜¯è°çš„æ•°æ®æ›´â€œæ‡‚â€é€»è¾‘ã€‚</p>
<p>GraphRAG è™½ç„¶åœ¨æ„å»ºåˆæœŸä¼šå¢åŠ ä¸€äº›æˆæœ¬ï¼ˆæŠ½å–å®ä½“è€—è´¹ Tokenï¼Œå›¾æ•°æ®åº“ç»´æŠ¤ï¼‰ï¼Œä½†å®ƒå¸¦æ¥çš„å‡†ç¡®ç‡æå‡å’Œå¤æ‚æ¨ç†èƒ½åŠ›ï¼Œå¯¹äºé‡‘èã€åŒ»ç–—ã€æ³•å¾‹ç­‰å¯¹ä¸¥è°¨æ€§è¦æ±‚æé«˜çš„é¢†åŸŸï¼Œæ˜¯ä¸å¯æˆ–ç¼ºçš„ã€‚</p>
<p>åŠ¨æ‰‹è¯•è¯•å§ï¼å“ªæ€•åªæ˜¯æŠŠä½ çš„ä¸ªäººç¬”è®°å˜æˆä¸€å¼ çŸ¥è¯†å›¾è°±ï¼Œé‚£ç§ä¸Šå¸è§†è§’çš„æ„Ÿè§‰ï¼Œç»å¯¹ä¼šè®©ä½ ä¸Šç˜¾ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iPhone æŠ“åŒ…å·¥å…·æ€ä¹ˆé€‰ï¼Ÿä» HTTPS è°ƒè¯•ã€TCP æ•°æ®æµåˆ†æåˆ°å¤šå·¥å…·ååŒçš„å®Œæ•´æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7576219879679868963</link>    <guid>https://juejin.cn/post/7576219879679868963</guid>    <pubDate>2025-11-25T08:14:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576219879679868963" data-draft-id="7576219879679852579" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iPhone æŠ“åŒ…å·¥å…·æ€ä¹ˆé€‰ï¼Ÿä» HTTPS è°ƒè¯•ã€TCP æ•°æ®æµåˆ†æåˆ°å¤šå·¥å…·ååŒçš„å®Œæ•´æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-25T08:14:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜Ÿæ˜Ÿç”µç¯çŒ´"/> <meta itemprop="url" content="https://juejin.cn/user/2848205394945444"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iPhone æŠ“åŒ…å·¥å…·æ€ä¹ˆé€‰ï¼Ÿä» HTTPS è°ƒè¯•ã€TCP æ•°æ®æµåˆ†æåˆ°å¤šå·¥å…·ååŒçš„å®Œæ•´æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2848205394945444/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜Ÿæ˜Ÿç”µç¯çŒ´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:14:10.000Z" title="Tue Nov 25 2025 08:14:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç§»åŠ¨ç«¯å¼€å‘ã€æ¥å£è”è°ƒä»¥åŠ API è¡Œä¸ºåˆ†æä¸­ï¼Œ<strong>iPhone æŠ“åŒ…å·¥å…·</strong> æ˜¯å·¥ç¨‹å¸ˆæœ€å¸¸æ¥è§¦çš„è°ƒè¯•æ­¦å™¨ä¹‹ä¸€ã€‚ä½† iOS çš„ç½‘ç»œä½“ç³»ç›¸å¯¹å°é—­ï¼Œå†åŠ ä¸Šè¯ä¹¦æ ¡éªŒã€ATSã€å®‰å…¨ç­–ç•¥ä¸å¤šåè®®æ··åˆï¼ˆHTTPS + QUIC + TCP/UDPï¼‰ï¼Œå¯¼è‡´â€œèƒ½çœŸæ­£æŠ“åˆ°å®Œæ•´æµé‡â€çš„æ–¹æ¡ˆå¹¶ä¸ç®€å•ã€‚</p>
<p>ä¸å…¶çº ç»“â€œå“ªä¸€ä¸ªæŠ“åŒ…å·¥å…·æœ€å¥½â€ï¼Œä¸å¦‚ä»å·¥ç¨‹è§’åº¦æ„å»ºä¸€ä¸ªâ€œå¤šå·¥å…·äº’è¡¥â€çš„æŠ“åŒ…ä½“ç³»ï¼šä»£ç† + åº•å±‚ + è‡ªåŠ¨åŒ– + è¡¥æŠ“ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆ iPhone æŠ“åŒ…æ¯” Android æˆ–æ¡Œé¢ç«¯æ›´å¤æ‚ï¼Ÿ</h2>
<p>å¾ˆå¤šäººåœ¨ iPhone ä¸ŠæŠ“åŒ…å¤±è´¥ï¼Œé—®é¢˜å¸¸æ¥è‡ªäºä»¥ä¸‹äº”ç±»åŸå› ï¼š</p>
<h3 data-id="heading-1"><strong>HTTPS è¯ä¹¦é“¾ä¸è¢«ä¿¡ä»»</strong></h3>
<p>å¸¸è§äºï¼š</p>
<ul>
<li>Wi-Fi ç½‘å…³æ›¿æ¢è¯ä¹¦</li>
<li>è¯ä¹¦æœªæ‰‹åŠ¨â€œå®Œå…¨ä¿¡ä»»â€</li>
<li>ATS æ‹¦æˆªé“¾è·¯è¯ä¹¦</li>
</ul>
<p>è¡¨ç°æ˜¯ï¼š</p>
<ul>
<li>æŠ“åŒ…å·¥å…·åªèƒ½çœ‹åˆ° CONNECT</li>
<li>æ— æ³•è§£å¯† HTTPS</li>
</ul>
<hr/>
<h3 data-id="heading-2"><strong>App å¯ç”¨äº†è¯ä¹¦ Pinningï¼ˆæœ€å¸¸è§å¤±è´¥ç‚¹ï¼‰</strong></h3>
<p>å…¸å‹è¡¨ç°ï¼š</p>
<ul>
<li>Safari èƒ½æŠ“</li>
<li>App å®Œå…¨æŠ“ä¸åˆ°</li>
</ul>
<p>pinning ä¼šç›´æ¥æ‹’ç»ä»£ç†è¯ä¹¦ï¼Œå› æ­¤æ‰€æœ‰ä»£ç†æŠ“åŒ…éƒ½ä¼šæ— æ•ˆã€‚</p>
<hr/>
<h3 data-id="heading-3"><strong>QUIC / HTTP3 ä½¿ç”¨ UDPï¼Œç»•è¿‡ä»£ç†</strong></h3>
<p>å¤§é‡ç°ä»£ App å·²åˆ‡æ¢åˆ° QUICï¼Œå¯¼è‡´ï¼š</p>
<ul>
<li>æŠ“ä¸åˆ°å¯¹åº”åŸŸåè¯·æ±‚</li>
<li>è§†é¢‘/ç¤¾äº¤ç±» API å¾ˆå®¹æ˜“å‡ºç°è¿™ç§æƒ…å†µ</li>
</ul>
<hr/>
<h3 data-id="heading-4"><strong>App ä½¿ç”¨è‡ªå®šä¹‰ TCP åè®®æˆ–ç‹¬ç«‹ç½‘ç»œæ ˆ</strong></h3>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>æ¸¸æˆé€šä¿¡åè®®</li>
<li>WebSocket é•¿è¿æ¥</li>
<li>SDK å†…ç§æœ‰åè®®</li>
</ul>
<p>å®Œå…¨ä¸èµ°ç³»ç»Ÿä»£ç† â†’ ä»£ç†å·¥å…·æ— èƒ½ä¸ºåŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-5"><strong>å™ªéŸ³æµé‡è¿‡å¤§ï¼Œéš¾ä»¥å®šä½ç›®æ ‡ App</strong></h3>
<p>å°¤å…¶åœ¨ Wi-Fi ç¯å¢ƒä¸‹ï¼Œç³»ç»Ÿå’Œåå°è¿›ç¨‹éƒ½åœ¨å‘åŒ…ï¼Œå¯¼è‡´æŠ“åŒ…ç•Œé¢æ··ä¹±ã€‚</p>
<hr/>
<h2 data-id="heading-6">äºŒã€iPhone æŠ“åŒ…å·¥å…·çŸ©é˜µï¼šæŒ‰èƒ½åŠ›åˆ†å·¥ï¼Œè€Œéä¼˜åŠ£åˆ¤æ–­</h2>
<p>æŠ“åŒ…ä¸æ˜¯å•å·¥å…·çš„äº‹æƒ…ï¼Œå¿…é¡»â€œç»„åˆæ‹³â€ã€‚</p>
<hr/>
<h3 data-id="heading-7"><strong>ä»£ç†å¼æŠ“åŒ…å·¥å…·ï¼ˆä¸»æµä½¿ç”¨åœºæ™¯ï¼‰</strong></h3>
<p>ä»£è¡¨ï¼š</p>
<ul>
<li>Charles</li>
<li>Proxyman</li>
<li>Fiddler</li>
<li>mitmproxy</li>
</ul>
<p>é€‚åˆï¼š</p>
<ul>
<li>æŸ¥çœ‹ HTTPS å†…å®¹</li>
<li>è°ƒè¯• API</li>
<li>æ‹¦æˆª/ä¿®æ”¹æµé‡</li>
<li>è°ƒæ•´è¯·æ±‚å‚æ•°ã€è°ƒè¯•ä¸šåŠ¡é€»è¾‘</li>
</ul>
<p>é€»è¾‘ç®€å•ï¼Œå…¥é—¨å¿«ã€‚</p>
<p>ä¸è¶³ï¼š</p>
<ul>
<li>ä¸èƒ½ç»•è¿‡ Pinning</li>
<li>QUIC æ— æ³•æŠ“</li>
<li>è‡ªå®šä¹‰åè®®æ— æ³•è§£æ</li>
</ul>
<hr/>
<h3 data-id="heading-8"><strong>TCP/TLS åº•å±‚æŠ“åŒ…å·¥å…·ï¼ˆåè®®å±‚åˆ†æï¼‰</strong></h3>
<p>ä»£è¡¨ï¼š</p>
<ul>
<li>tcpdump</li>
<li>Wireshark</li>
</ul>
<p>é€‚åˆï¼š</p>
<ul>
<li>åˆ†æ TLS æ¡æ‰‹é”™è¯¯</li>
<li>æ’æŸ¥ä¸‰æ¬¡æ¡æ‰‹ã€ä¸¢åŒ…ã€é‡ä¼ </li>
<li>åˆ¤æ–­æµé‡æ˜¯å¦ç¦»å¼€å‘ç«¯</li>
</ul>
<p>è¿™æ˜¯æŠ“åŒ…å¤±è´¥æ’æŸ¥ä¸­æœ€å…³é”®çš„éƒ¨åˆ†ã€‚</p>
<hr/>
<h3 data-id="heading-9"><strong>è‡ªåŠ¨åŒ–æŠ“åŒ…å·¥å…·ï¼ˆCI / æ‰¹é‡è°ƒè¯•ï¼‰</strong></h3>
<p>ä»£è¡¨ï¼š</p>
<ul>
<li>scapy</li>
<li>pyshark</li>
<li>mitmproxy scripting</li>
</ul>
<p>é€‚ç”¨äºè‡ªåŠ¨åŒ–å’Œæ•°æ®å¤„ç†ã€‚</p>
<hr/>
<h3 data-id="heading-10"><strong>æ— éœ€ä»£ç†çš„è¡¥æŠ“å·¥å…·ï¼ˆè§£å†³ä»£ç†æŠ“ä¸åˆ°çš„å…³é”®æ­¥éª¤ï¼‰</strong></h3>
<p>iPhone æŠ“åŒ…å¤±è´¥æœ€å¤šçš„åœºæ™¯ï¼Œæ˜¯â€œä»£ç†æ— æ³•ä½¿ç”¨â€ã€‚
è¿™é‡Œè¡¥æŠ“éå¸¸é‡è¦ã€‚</p>
<p>è¿™ç±»å·¥å…·åŒ…å«ï¼š</p>
<h2 data-id="heading-11"><strong>æŠ“åŒ…å¤§å¸ˆï¼ˆSniffmasterï¼‰</strong></h2>
<p>å®ƒå¹¶éâ€œæ›¿ä»£ Charlesâ€ï¼Œè€Œæ˜¯ç”¨äº Charlesã€Fiddlerã€Proxyman æ— æ³•ä½¿ç”¨æ—¶çš„åº•å±‚è¡¥æŠ“ï¼Œå°¤å…¶åœ¨ï¼š</p>
<ul>
<li>Pinning</li>
<li>QUIC</li>
<li>è‡ªå®šä¹‰åè®®</li>
<li>ç³»ç»Ÿä»£ç†æ— æ•ˆ</li>
<li>HTTPS é“¾è·¯å¼‚å¸¸</li>
<li>å¤š App æ··åˆæµé‡</li>
</ul>
<p>è¿™äº›é«˜éš¾åº¦åœºæ™¯ä¸­å‘æŒ¥ä½œç”¨ã€‚</p>
<h3 data-id="heading-12"><strong>Sniffmaster çš„èƒ½åŠ›åŒ…æ‹¬ï¼š</strong></h3>
<ul>
<li>æŠ“å– <strong>HTTPS / HTTP / TCP / UDP</strong></li>
<li>æŒ‰ <strong>App / åŸŸå</strong> è¿‡æ»¤ç›®æ ‡æµé‡</li>
<li>è‡ªåŠ¨è¯†åˆ«åè®®ç±»å‹</li>
<li>æ”¯æŒæŸ¥çœ‹ TCP æ•°æ®æµï¼ˆæ–‡æœ¬ã€HEXã€äºŒè¿›åˆ¶ï¼‰</li>
<li>å†…ç½® JavaScript æ‹¦æˆªå™¨å¯ä¿®æ”¹è¯·æ±‚/å“åº”</li>
<li>å¯å°†æ•°æ®å¯¼å‡ºä¸º <strong>Wireshark å…¼å®¹çš„ pcap</strong></li>
<li>è·¨å¹³å°æ”¯æŒï¼ˆWindows / macOS / iOSï¼‰</li>
</ul>
<p>å®ƒä¸»è¦è§£å†³â€œä»£ç†å·¥å…·æŠ“ä¸åˆ°â€çš„ç»“æ„æ€§é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-13">ä¸‰ã€iPhone æŠ“åŒ…çš„å·¥ç¨‹çº§æ’æŸ¥æµç¨‹ï¼ˆå¯ç›´æ¥ç”¨äºå›¢é˜Ÿ SOPï¼‰</h2>
<hr/>
<h3 data-id="heading-14"><strong>â‘  é¦–å…ˆå°è¯•ä»£ç†æŠ“åŒ…</strong></h3>
<p>æµç¨‹ï¼š</p>
<ul>
<li>è®¾ç½® Wi-Fi ä»£ç†</li>
<li>å®‰è£…æŠ“åŒ…å·¥å…·è¯ä¹¦</li>
<li>åœ¨ iOS ä¸­å¼€å¯â€œå®Œå…¨ä¿¡ä»»è¯ä¹¦â€</li>
<li>å¼€å¯ SSL Proxying</li>
</ul>
<p>è‹¥èƒ½æŠ“ â†’ è¯´æ˜æ— éœ€é¢å¤–å·¥å…·ã€‚</p>
<hr/>
<h3 data-id="heading-15"><strong>â‘¡ è‹¥åªæœ‰ CONNECT â†’ è¯ä¹¦é“¾é—®é¢˜</strong></h3>
<p>æ¶‰åŠï¼š</p>
<ul>
<li>ATS é™åˆ¶</li>
<li>ä¸­é—´è¯ä¹¦ç¼ºå¤±</li>
<li>Wi-Fi æ³¨å…¥è¯ä¹¦</li>
</ul>
<hr/>
<h3 data-id="heading-16"><strong>â‘¢ è‹¥æµè§ˆå™¨èƒ½æŠ“ï¼Œè€Œ App æŠ“ä¸åˆ° â†’ è¯ä¹¦ Pinning</strong></h3>
<p>80% çš„ iPhone æŠ“ä¸åˆ°åŒ…ï¼Œéƒ½å±äº pinningã€‚</p>
<p>æ­¤æ—¶ä»£ç†å·¥å…·å·²æ— è§£ã€‚</p>
<hr/>
<h3 data-id="heading-17"><strong>â‘£ è‹¥éƒ¨åˆ†åŸŸåæŠ“ä¸åˆ° â†’ QUIC / HTTP3 é—®é¢˜</strong></h3>
<p>å¯é€šè¿‡ï¼š</p>
<ul>
<li>ç¦ç”¨ QUIC</li>
<li>åˆ‡æ¢ç½‘ç»œ</li>
<li>é™çº§ HTTP ç‰ˆæœ¬</li>
</ul>
<p>æ¥éªŒè¯ã€‚</p>
<hr/>
<h3 data-id="heading-18"><strong>â‘¤ ä»£ç†å®Œå…¨æ— æ•ˆæ—¶ï¼šä½¿ç”¨ Sniffmaster æŠ“åº•å±‚æµé‡</strong></h3>
<p>æµç¨‹å‚è€ƒï¼š</p>
<ol>
<li>æ‰“å¼€ Sniffmaster</li>
<li>é€‰æ‹©ç›®æ ‡ App æˆ–ç›®æ ‡åŸŸåè¿‡æ»¤</li>
<li>æ•è· TCP / HTTPS / UDP æ•°æ®æµ</li>
<li>å¯¼å‡º pcap åˆ° Wireshark</li>
<li>åˆ†æï¼š
<ul>
<li>TLS æ¡æ‰‹æ˜¯å¦æ­£å¸¸</li>
<li>æ˜¯å¦å‡ºç° TLS Alert</li>
<li>æ˜¯å¦ä¸º QUIC</li>
<li>æ˜¯å¦ä¸ºè‡ªå®šä¹‰åè®®</li>
<li>æ˜¯å¦è¢« pinning æ‹¦æˆª</li>
</ul>
</li>
</ol>
<p>è¿™æ˜¯å®šä½ç–‘éš¾æŠ“åŒ…é—®é¢˜æœ€æœ‰æ•ˆçš„æ–¹å¼ã€‚</p>
<hr/>
<h3 data-id="heading-19"><strong>â‘¥ è‹¥èƒ½è§£å¯†ï¼Œåˆ™å›åˆ°ä»£ç†å·¥å…·åˆ†æä¸šåŠ¡é€»è¾‘</strong></h3>
<p>é‡ç‚¹æŸ¥çœ‹ï¼š</p>
<ul>
<li>è¯·æ±‚å‚æ•°</li>
<li>å“åº”å†…å®¹</li>
<li>token</li>
<li>çŠ¶æ€ç </li>
<li>ä¸šåŠ¡é”™è¯¯åŸå› </li>
</ul>
<hr/>
<h2 data-id="heading-20">å››ã€çœŸå®åœºæ™¯ç¤ºä¾‹ï¼šiPhone æŸ App å®Œå…¨æŠ“ä¸åˆ° HTTPS</h2>
<p>æŸå›¢é˜Ÿåœ¨è°ƒè¯• API æ—¶é‡åˆ°ï¼š</p>
<ul>
<li>Charles æŠ“ä¸åˆ°ä»»ä½• HTTPS</li>
<li>Safari å¯ä»¥æŠ“</li>
<li>App å†…æ¥å£å…¨éƒ¨æŠ¥é”™</li>
</ul>
<p>æ’æŸ¥ï¼š</p>
<ol>
<li>ä»£ç†å’Œè¯ä¹¦æ— è¯¯</li>
<li>Safari æ­£å¸¸ â†’ ç³»ç»Ÿä»£ç†æ­£å¸¸</li>
<li>App å§‹ç»ˆæ— æµé‡ â†’ æ€€ç–‘ pinning</li>
<li>ä½¿ç”¨ Sniffmaster è¡¥æŠ“ â†’ å‘ç° TLS Alert</li>
<li>Wireshark åˆ†æè¯ä¹¦é“¾ â†’ App å†…ç½®è¯ä¹¦å¼•å‘å†²çª</li>
</ol>
<p>ç»“æœï¼šè¯¥ App ä½¿ç”¨äº†ä¸¥æ ¼ pinningï¼Œä»£ç†æŠ“åŒ…æ— æ³•ç”Ÿæ•ˆã€‚</p>
<hr/>
<h2 data-id="heading-21">iPhone æŠ“åŒ…å·¥å…·è¦â€œç»„åˆä½¿ç”¨â€ï¼Œä¸æ˜¯äºŒé€‰ä¸€</h2>
<p>iPhone çš„æŠ“åŒ…ä½“ç³»éœ€è¦å¤šå·¥å…·åä½œï¼š</p>






























<table><thead><tr><th>å±‚çº§</th><th>å·¥å…·</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>ä»£ç†å±‚</td><td>Charles / Fiddler / Proxyman</td><td>è°ƒè¯• HTTPSã€ä¿®æ”¹è¯·æ±‚</td></tr><tr><td>åè®®å±‚</td><td>tcpdump / Wireshark</td><td>åˆ†æ TLS/TCP é“¾è·¯</td></tr><tr><td>è‡ªåŠ¨åŒ–å±‚</td><td>scapy / mitmproxy</td><td>æ‰¹é‡åˆ†æã€è„šæœ¬</td></tr><tr><td>è¡¥æŠ“å±‚</td><td>æŠ“åŒ…å¤§å¸ˆï¼ˆSniffmasterï¼‰</td><td>ä»£ç†å¤±è´¥ã€QUICã€è‡ªå®šä¹‰åè®®</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Œè…¾è®¯äº‘ NoSQL æŠ€æœ¯ã€ä¹‹ Redis ç¯‡ï½œæ­æ™“è…¾è®¯äº‘Redisæ°´å¹³æ‰©ç¼©å®¹æè‡´æµç•…èƒŒåçš„æŠ€æœ¯ç„æœº]]></title>    <link>https://juejin.cn/post/7576245169844338728</link>    <guid>https://juejin.cn/post/7576245169844338728</guid>    <pubDate>2025-11-25T08:10:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576245169844338728" data-draft-id="7576258838300524590" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Œè…¾è®¯äº‘ NoSQL æŠ€æœ¯ã€ä¹‹ Redis ç¯‡ï½œæ­æ™“è…¾è®¯äº‘Redisæ°´å¹³æ‰©ç¼©å®¹æè‡´æµç•…èƒŒåçš„æŠ€æœ¯ç„æœº"/> <meta itemprop="keywords" content="æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-11-25T08:10:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è…¾è®¯äº‘æ•°æ®åº“"/> <meta itemprop="url" content="https://juejin.cn/user/3227821871466094"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Œè…¾è®¯äº‘ NoSQL æŠ€æœ¯ã€ä¹‹ Redis ç¯‡ï½œæ­æ™“è…¾è®¯äº‘Redisæ°´å¹³æ‰©ç¼©å®¹æè‡´æµç•…èƒŒåçš„æŠ€æœ¯ç„æœº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821871466094/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è…¾è®¯äº‘æ•°æ®åº“
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:10:08.000Z" title="Tue Nov 25 2025 08:10:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»33åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36070ab8192242d89feb51a676d053f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=L%2BYu894oSeI3SzFIPXQoIIbu0pY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<blockquote>
<p>å‡­å€Ÿé«˜ååä¸ä½å»¶è¿Ÿï¼ŒRedis å·²æˆä¸ºäº’è”ç½‘ç¼“å­˜çš„äº‹å®æ ‡å‡†ï¼Œæ‰¿æ‹…äº†äº’è”ç½‘ä¸šåŠ¡90%çš„è¯·æ±‚ï¼Œå…¶å¼¹æ€§æ‰©å±•èƒ½åŠ›æ˜¯åº”å¯¹ä¸šåŠ¡å¢é•¿ä¸çªå‘æµé‡çš„å…³é”®ä¿éšœï¼Œç¤¾åŒºåŸç”Ÿæ‰©ç¼©å®¹æ–¹æ¡ˆåœ¨æ€§èƒ½ã€å¯é æ€§åŠæ‰©å®¹é€Ÿåº¦ç­‰æ–¹é¢å­˜åœ¨å±€é™ã€‚ä¸ºäº†è§£å†³è¿™ä¸€ç—›ç‚¹ï¼Œè…¾è®¯äº‘ NoSQL å›¢é˜ŸåŸºäºå¤šå¹´æŠ€æœ¯æ²‰æ·€ä¸å®è·µéªŒè¯ï¼Œåˆ›æ–°æ€§åœ°æå‡ºåŸºäºslotåŸå­åŒ–è¿ç§»çš„æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆï¼Œå®ç°äº†æ— ç¼å¹³æ»‘çš„åˆ†ç‰‡æ•°é‡è°ƒæ•´ã€‚æœ¬æ–‡å°†ä»æŠ€æœ¯åŸç†ã€ä¸šç•Œæ–¹æ¡ˆå¯¹æ¯”åŠå¼€æºè´¡çŒ®ç­‰å¤šç»´åº¦å±•å¼€åˆ†æï¼Œé‡ç‚¹è§£è¯»è…¾è®¯äº‘å¦‚ä½•é€šè¿‡å†…æ ¸çº§ä¼˜åŒ–è§£å†³Rediså¼¹æ€§æ‰©ç¼©å®¹çš„é•¿æœŸç—›ç‚¹ã€‚è¯¥æ–¹æ¡ˆè‡ªä¸Šçº¿åå·²å¹¿æ³›æœåŠ¡äºè…¾è®¯é›†å›¢çš„å†…éƒ¨å®¢æˆ·å’Œå…¬æœ‰äº‘ä¸Šçš„å¤–éƒ¨å®¢æˆ·ï¼Œç»å†äº†å¤§è§„æ¨¡å®è·µçš„æ£€éªŒï¼Œç¨³å®šæ€§æœ‰ä¿éšœï¼ŒåŠ©åŠ›ä¸šåŠ¡ä¾§å®ç°èµ„æºåˆ©ç”¨ç‡æå‡ä¸è¿ç»´æˆæœ¬é™ä½ã€‚</p>
<p>ä½œè€…ï¼šè…¾è®¯äº‘NoSQLå›¢é˜Ÿ-å®‹å¹³å‡¡ï¼Œæœ±å½¬å½¬</p>
</blockquote>
<p>åœ¨å½“ä»Šäº’è”ç½‘åº”ç”¨æ¶æ„ä¸­ï¼ŒRedis å‡­å€Ÿå…¶æä½çš„è®¿é—®å»¶è¿Ÿã€ä¼˜å¼‚çš„é«˜å¹¶å‘å¤„ç†èƒ½åŠ›ã€ä¸°å¯Œçš„æ•°æ®ç»“æ„æ”¯æŒã€å®Œå–„çš„åŠŸèƒ½ç”Ÿæ€ä»¥åŠæˆç†Ÿçš„ç”Ÿæ€ï¼Œå·²æˆä¸ºä¸å¯æˆ–ç¼ºçš„KVç¼“å­˜å’Œæ•°æ®åº“å­˜å‚¨è§£å†³æ–¹æ¡ˆã€‚åœ¨æƒå¨çš„ DB-Engines æ•°æ®åº“æµè¡Œåº¦æ’åä¸­ï¼ŒRedis é•¿æœŸä½åˆ—é”®å€¼å‹æ•°æ®åº“é¦–ä½ï¼Œå¹¶ç¨³å®šå±…äºå…¨éƒ¨æ•°æ®åº“ç±»åˆ«çš„å‰ååï¼Œå¦‚å›¾1æ‰€ç¤ºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a64f85ef817e48beb1d4ec2e1026f3fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=jBGYtVXvSmKolT2aT8ogXJr2gy4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â–²å›¾1.DB-Engines æ•°æ®åº“æµè¡Œåº¦æ’è¡Œæ¦œ(2025.09)</p>
<p>ç„¶è€Œï¼Œéšç€ä¸šåŠ¡å‘å±•ï¼Œå‡ ä¹æ‰€æœ‰å®¢æˆ·éƒ½ä¼šé¢ä¸´è¿™æ ·ä¸€ä¸ªéš¾é¢˜ï¼šä¸šåŠ¡ä¸Šå‡æœŸéœ€è¦å¿«é€Ÿæ‰©å®¹ï¼Œä¸‹é™æœŸéœ€è¦åŠæ—¶ç¼©å®¹ã€‚ä½†ä»¤äººå¤´ç–¼çš„æ˜¯ï¼ŒRedis çš„å‘½ä»¤æ‰§è¡Œæ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œä¸€æ—¦ä¸»çº¿ç¨‹æ‰“æ»¡ CPUï¼Œæ— æ³•åƒå…¶ä»–æ•°æ®åº“ä¸€æ ·é€šè¿‡å¢åŠ  CPU æ ¸å¿ƒæ¥çºµå‘æå‡å•ä¸ªèŠ‚ç‚¹çš„å¤„ç†èƒ½åŠ›ã€‚åŸºäºè¿™æ ·çš„ä¸šåŠ¡å›°å¢ƒï¼Œæ„å»ºé«˜æ•ˆã€å¹³ç¨³çš„æ°´å¹³æ‰©ç¼©å®¹æœºåˆ¶æˆä¸ºä¿éšœä¸šåŠ¡å¼¹æ€§çš„å…³é”®éœ€æ±‚ã€‚</p>
<p>ä¸ºåº”å¯¹è¿™ä¸€æŒ‘æˆ˜ï¼Œä¸šç•Œæå‡ºäº†å¤šç§æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆã€‚æœ¬æ–‡é¦–å…ˆç»™å¤§å®¶ä»‹ç» Redis ç¤¾åŒºæä¾›çš„åŸç”Ÿæ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆï¼ŒåŒ…æ‹¬æ–¹æ¡ˆçš„åº•å±‚å®ç°åŸç†ä»¥åŠæ–¹æ¡ˆæœ¬èº«çš„å±€é™æ€§ï¼›éšåï¼Œæœ¬æ–‡ä¼šè¿›ä¸€æ­¥ä»‹ç»ä¸šç•Œé’ˆå¯¹ Redis æ°´å¹³æ‰©ç¼©å®¹çš„éœ€æ±‚æ‰€æå‡ºçš„å¦å¤–ä¸¤ç§å¤§ç›¸å¾„åº­çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™ä¸¤ç§æ–¹æ¡ˆè™½ç„¶è§£å†³äº†ç¤¾åŒºåŸç”Ÿæ–¹æ¡ˆçš„ä¸è¶³ï¼Œä½†åˆå¼•å…¥äº†æ–°çš„ç—›ç‚¹ï¼Œå¾ˆéš¾è®©å®¢æˆ·æ»¡æ„ï¼›æœ€åï¼Œæœ¬æ–‡ä¼šåˆ†äº«æˆ‘ä»¬è…¾è®¯äº‘Â NoSQLÂ å›¢é˜Ÿé’ˆå¯¹è¿™ä¸€ä¸šç•Œéš¾é¢˜çš„æ€è€ƒï¼Œä»¥åŠæœ€ç»ˆæå‡ºçš„ slot åŸå­åŒ–è¿ç§»æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆæœ‰æ•ˆè§£å†³äº†ç°æœ‰æ–¹æ¡ˆçš„å…±æ€§ç—›ç‚¹ï¼Œä¸ºç”¨æˆ·å¸¦æ¥å¹³æ»‘ã€é«˜æ•ˆçš„æ‰©ç¼©å®¹ä½“éªŒã€‚</p>
<p>é‚£è¿™ä¸€åˆ‡æ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿè®©æˆ‘ä»¬å¸¦ç€é—®é¢˜ï¼Œè·Ÿç€æˆ‘ä¸€èµ·æ¥ä¸€æ¢ç©¶ç«Ÿå§ï¼</p>
<h2 data-id="heading-1">1 Redis ç¤¾åŒºåŸç”Ÿçš„æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆ</h2>
<h3 data-id="heading-2">1.1Â RedisÂ ç¤¾åŒºåŸç”Ÿæ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆçš„åŸç†å’Œå®ç°</h3>
<h4 data-id="heading-3">ï¼ˆ1ï¼‰åŸºäºÂ key ç²’åº¦çš„Â slot è¿ç§»</h4>
<p>Redis ä»3.0ç‰ˆæœ¬å¼€å§‹æ”¯æŒé›†ç¾¤åŠŸèƒ½ï¼Œå¹¶ä¸”ä¸ºäº†ç®€åŒ–é›†ç¾¤å…ƒæ•°æ®çš„å¤æ‚åº¦ï¼Œæ–°å¼•å…¥äº†å“ˆå¸Œæ§½( hash slotï¼Œåæ–‡ç®€ç§°slot )çš„æ¦‚å¿µï¼Œæ•´ä¸ªé›†ç¾¤ä¸­çš„å…¨é‡æ•°æ®è¢«åˆ’åˆ†ä¸º16384ä¸ª slot ã€‚åœ¨é›†ç¾¤ç›¸å…³çš„é€»è¾‘ä¸­ï¼Œæ— è®ºæ˜¯èŠ‚ç‚¹é—´æ•°æ®çš„åˆ†å¸ƒç­–ç•¥ï¼Œè¿˜æ˜¯å®¢æˆ·è¯·æ±‚çš„è·¯ç”±è§„åˆ™ï¼Œéƒ½ä»¥ slot ä¸ºåˆ¤æ–­ä¾æ®ã€‚</p>
<p>Redis 3.0 ä¹Ÿä¸ºé›†ç¾¤æä¾›äº†åŸç”Ÿçš„æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆï¼Œè¿™ä¸ªæ–¹æ¡ˆé€»è¾‘ä¸Šæ˜¯é€šè¿‡åœ¨èŠ‚ç‚¹ä¹‹é—´è¿ç§» slot æ¥è¾¾åˆ°ç›®çš„ï¼Œä½†ä»åº•å±‚å®é™…çš„å®ç°ä¸Šæ¥è¯´ï¼Œå®ƒçš„ slot è¿ç§»è¿‡ç¨‹å¹¶æ²¡æœ‰åŸå­æ€§ï¼Œè€Œæ˜¯ä»¥ key ä¸ºåŸºæœ¬ç²’åº¦ï¼Œé€šè¿‡åˆ†æ‰¹æ¬ key æ¥è¾¾åˆ°æ¬ slot çš„ç›®çš„ã€‚ç¤¾åŒºè¿ç§»æ–¹æ¡ˆçš„è¯¦ç»†æµç¨‹æ¢³ç†å¦‚å›¾2æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4584aae0cd884beba9f7f655b80b6c68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=%2FLHPBPR2%2Ft5jCx9TpqNuoTa4o%2B4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â–²å›¾2. Redis ç¤¾åŒºåŸºäºkeyç²’åº¦çš„åŸç”Ÿslotè¿ç§»æµç¨‹</p>
<p>å…¶ä¸­ï¼Œ1/2æ˜¯çŠ¶æ€æ ‡è®°é˜¶æ®µï¼Œä¸»è¦æ˜¯åœ¨ç›®æ ‡èŠ‚ç‚¹å’ŒæºèŠ‚ç‚¹åˆ†åˆ«æ ‡è®° slot çš„Â IMPORTING (å¯¼å…¥)å’ŒÂ MIGRATING (å¯¼å‡º)çŠ¶æ€ï¼›3/4/5æ˜¯æ•°æ®æ¬è¿é˜¶æ®µï¼Œå¾ªç¯é€šè¿‡ MIGRATE å‘½ä»¤æ¬è¿ä¸€æ‰¹ key ï¼Œç›´è‡³å®Œæˆæ‰€æœ‰ key çš„æ¬è¿ï¼Œè¿™ä¹Ÿæ˜¯è€—æ—¶æœ€é•¿çš„ä¸€ä¸ªé˜¶æ®µï¼›6/7/8åˆ™æ˜¯å½’å±è½¬ç§»é˜¶æ®µï¼Œè´Ÿè´£æ¸…ç† slot çš„Â IMPORTINGÂ å’ŒÂ MIGRATING çŠ¶æ€ï¼Œå¹¶å°† slot çš„å½’å±æƒæ›´æ–°ä¸ºç›®æ ‡èŠ‚ç‚¹ã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æµç¨‹çš„æ ‡è®°å’Œè½¬ç§»é˜¶æ®µï¼Œå¤„ç†çš„ç²’åº¦æ˜¯æ•´ä¸ª slot ï¼›ä½†åœ¨æ•°æ®æ¬è¿é˜¶æ®µï¼Œå¤„ç†çš„ç²’åº¦åˆ™æ˜¯ slot ä¸­çš„ key ã€‚</p>
<h4 data-id="heading-4">ï¼ˆ2ï¼‰è¿ç§»è¿‡ç¨‹ä¸­å¯¹ä¸šåŠ¡è¯·æ±‚çš„å¤„ç†</h4>
<p>å› ä¸ºè¿ç§»è¿‡ç¨‹çš„éåŸå­æ€§ï¼Œæ‰€ä»¥åœ¨è¿ç§»çš„è¿‡ç¨‹ä¸­ä¼šæœ‰ä¸€ä¸ªæ—¶é—´æ®µï¼Œ slot ä¸­çš„ä¸€éƒ¨åˆ† key å·²ç»æ¬è¿åˆ°äº†ç›®æ ‡èŠ‚ç‚¹ï¼Œè€Œå¦ä¸€éƒ¨åˆ† key è¿˜åœ¨æºèŠ‚ç‚¹ç­‰å¾…æ¬è¿ã€‚è€Œç¤¾åŒºæä¾›çš„æ˜¯ä¸€ä¸ªåœ¨çº¿çš„çƒ­è¿ç§»æ–¹æ¡ˆï¼Œè¿‡ç¨‹ä¸­æ— éœ€ä¸šåŠ¡åœæœã€‚æ‰€ä»¥ï¼Œå°±é¢ä¸´ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœè¿ç§»ä¸­æœ‰å®¢æˆ·ç«¯è¦è®¿é—®è¿™ä¸ª slot ä¸­çš„ key ï¼Œå®ƒä¹Ÿä¸çŸ¥é“è¿™ä¸ª key æ˜¯åœ¨æºèŠ‚ç‚¹è¿˜æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œé‚£è¦æ€ä¹ˆåŠå‘¢ï¼Ÿç¤¾åŒºæ–¹æ¡ˆç»™å‡ºçš„æ–¹æ³•æ˜¯ ASK é‡å®šå‘ï¼Œå¤§è‡´çš„åŸç†å¦‚å›¾3æ‰€ç¤ºï¼Œè¯´æ˜å¦‚ä¸‹ï¼š</p>
<p>1.Â å®¢æˆ·ç«¯ä¼˜å…ˆå°†è¯·æ±‚å‘é€åˆ°æºèŠ‚ç‚¹ï¼ŒæºèŠ‚ç‚¹å¦‚æœèƒ½æ‰¾åˆ°è¿™ä¸ª key ï¼Œå°±ç›´æ¥ç»™å®¢æˆ·ç«¯è¿”å›ç»“æœã€‚</p>
<p>2.Â æºèŠ‚ç‚¹å¦‚æœæ²¡æ‰¾åˆ°ï¼Œä½†æ˜¯æ£€æµ‹åˆ°è¿™ä¸ª key æ‰€å±çš„ slot åœ¨æœ¬èŠ‚ç‚¹å¤„äºÂ MIGRATING çŠ¶æ€ï¼Œåˆ™è¿™ä¸ª key å¯èƒ½å·²ç»è¢«æ¬åˆ°äº†ç›®æ ‡èŠ‚ç‚¹ï¼›æ­¤æ—¶æºèŠ‚ç‚¹ä¼šç»™å®¢æˆ·ç«¯è¿”å› ASK é‡å®šå‘é”™è¯¯ï¼Œæ ¼å¼ä¸ºï¼š-ASK  <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">target-ip:target-port</a></p>
<p>3.Â å®¢æˆ·ç«¯æ”¶åˆ° ASK é‡å®šå‘åï¼Œæå–å‡ºç›®æ ‡èŠ‚ç‚¹çš„åœ°å€ä¿¡æ¯ï¼Œå…ˆç»™ç›®æ ‡èŠ‚ç‚¹å‘é€ ASKING å‘½ä»¤ï¼Œç»™è¿æ¥æ‰“ä¸Šç‰¹æ®Šçš„Â CLIENT_ASKINGÂ æ ‡è®°ï¼Œå†å°†åŸå§‹è¯·æ±‚é‡å‘ç»™ç›®æ ‡èŠ‚ç‚¹ã€‚</p>
<p>4.Â ç›®æ ‡èŠ‚ç‚¹æ£€æµ‹åˆ°è¿™ä¸ª key æ‰€å±çš„ slot åœ¨æœ¬èŠ‚ç‚¹å¤„äºÂ IMPORTING çŠ¶æ€ï¼Œä¸”è¿™ä¸ªè¯·æ±‚çš„è¿æ¥æœ‰ CLIENT_ASKINGÂ æ ‡è®°ï¼Œæ‰ä¼šä¸´æ—¶å…è®¸æ‰§è¡Œè¿™ä¸ªè¯·æ±‚ï¼Œå¹¶åœ¨æ‰§è¡Œç»“æŸåç«‹åˆ»æ¸…ç†è¿™ä¸ªè¿æ¥çš„Â CLIENT_ASKINGÂ æ ‡è®°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/219983ad7fb14322800f9d8636a2bca5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=laKrZEsbUxCSEPKbgW5wtLoWeto%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â–²å›¾3. Redisé›†ç¾¤slotè¿ç§»è¿‡ç¨‹ä¸­çš„ASKé‡å®šå‘åŸç†</p>
<h3 data-id="heading-5">1.2 Redis ç¤¾åŒºåŸç”Ÿæ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆé¢ä¸´çš„æŒ‘æˆ˜</h3>
<p>æˆ‘ä»¬å·²ç»è¯¦ç»†ä»‹ç»äº† Redis ç¤¾åŒºåŸç”Ÿçš„æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆï¼Œè¿™ä¸ªæ–¹æ¡ˆåœ¨å¤šæ•°æ™®é€šåœºæ™¯ä¸‹å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œå¹¶ä¸”å®ƒè¿˜æ˜¯æœ‰ä¸å°‘ä¼˜ç‚¹çš„ï¼šä¸ç”¨ä¸šåŠ¡åœæœï¼Œå¢å‡çš„åˆ†ç‰‡æ•°å¾ˆçµæ´»ç­‰ç­‰ã€‚ä½†è¿™ä¸ªæ–¹æ¡ˆä¹Ÿæœ‰ä¸å°‘é—®é¢˜ï¼šå½±å“ä¸šåŠ¡è¯·æ±‚ï¼Œè‡ªèº«ä¸å¤Ÿå¥å£®ï¼Œæ‰©ç¼©å®¹é€Ÿåº¦å¤ªæ…¢ç­‰ç­‰ï¼Œæ–¹æ–¹é¢é¢éƒ½é¢ä¸´ä¸å°‘çš„æŒ‘æˆ˜ã€‚</p>
<h4 data-id="heading-6">ï¼ˆ1ï¼‰ç¤¾åŒºæ–¹æ¡ˆå½±å“ä¸šåŠ¡è¯·æ±‚å¸¦æ¥çš„æŒ‘æˆ˜</h4>
<h5 data-id="heading-7">a. å¤§ key é˜»å¡é—®é¢˜</h5>
<p>å‰æ–‡æœ‰æåˆ°ï¼Œç¤¾åŒºæ–¹æ¡ˆä¸­å®é™…çš„ key æ¬è¿æ˜¯é€šè¿‡Â MIGRATE å‘½ä»¤å®Œæˆçš„ï¼Œè¿™ä¸ªå‘½ä»¤å¤§è‡´å¯ä»¥ç­‰ä»·äºï¼šDUMP + RESTORE + DELETEã€‚å®ƒçš„åº•å±‚å®ç°å¦‚ä¸‹ï¼š</p>
<p>1.Â æºèŠ‚ç‚¹å¤ç”¨ DUMP å‘½ä»¤çš„é€»è¾‘ï¼Œå°† key çš„å†…å®¹åºåˆ—åŒ–ä¸ºä¸€ä¸ª RDB æ ¼å¼çš„äºŒè¿›åˆ¶ä¸²ï¼›</p>
<p>2.Â æºèŠ‚ç‚¹é€šè¿‡ RESTORE å‘½ä»¤å°†äºŒè¿›åˆ¶ä¸²ä¼ è¾“ç»™ç›®æ ‡èŠ‚ç‚¹ï¼›</p>
<p>3.Â ç›®æ ‡èŠ‚ç‚¹æ‰§è¡Œ RESTORE å‘½ä»¤å°†äºŒè¿›åˆ¶ä¸²ååºåˆ—åŒ–åŠ è½½åˆ°DBï¼›</p>
<p>4.Â æºèŠ‚ç‚¹æ”¶åˆ°ç¡®è®¤ååˆ é™¤è¿™ä¸ªkeyã€‚</p>
<p>å…¶ä¸­ï¼ŒRESTORE å‘½ä»¤åœ¨é›†ç¾¤æ¨¡å¼ä¸‹ä¼šè¢«æ›¿æ¢æˆ RESTORE-ASKING å‘½ä»¤ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤çš„åº•å±‚å®ç°åŸºæœ¬ä¸€è‡´ï¼ŒåŒºåˆ«å¯ä»¥ç®€å•ç†è§£ä¸ºï¼šRESTORE-ASKING = ASKING + RESTOREã€‚</p>
<p>åœ¨Â Redis çš„è®¾è®¡é‡Œï¼Œå‘½ä»¤çš„æ‰§è¡Œæ˜¯å•çº¿ç¨‹æ¨¡å‹ã€‚è€ŒÂ MIGRATE å’Œ RESTORE éƒ½æ˜¯åŒæ­¥é˜»å¡çš„å‘½ä»¤ï¼Œä¹Ÿå°±æ„å‘³ç€ï¼Œåœ¨å•ä¸ª key æ¬è¿çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼ŒæºèŠ‚ç‚¹ä¼šé˜»å¡æ‰€æœ‰å…¶å®ƒè¯·æ±‚ï¼›åŒç†ï¼Œç›®æ ‡èŠ‚ç‚¹åœ¨ååºåˆ—åŒ–åŠ è½½çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šé˜»å¡æ‰€æœ‰å…¶å®ƒè¯·æ±‚ã€‚å¦‚å›¾4æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/352a0325ac2e4350983ce0bdb2e07f24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=XtpAVpsbVyOTRLp%2BXiRobOFO8h4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â–²å›¾4. MIGRATE å‘½ä»¤åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹æºèŠ‚ç‚¹å’Œç›®æ ‡èŠ‚ç‚¹çš„é˜»å¡</p>
<p>MIGRATE çš„è¿™ç§é˜»å¡ç‰¹æ€§ï¼Œå¯¹äºè¾ƒå°çš„ key å½±å“ä¸å¤§ã€‚ä½†å› ä¸º Redis æ”¯æŒ zset/hash/list ç­‰å¤æ‚ç»“æ„ï¼Œå¾ˆå¤šä¸šåŠ¡åœ¨ä½¿ç”¨ä¸­å¯èƒ½ä¼šäº§ç”Ÿå«æœ‰å‡ åä¸‡ä¸Šç™¾ä¸‡å…ƒç´ çš„å¤§ key ï¼Œè¿™ç§å¤§ key æ— è®ºæ˜¯ DUMP ï¼Œ RESTORE è¿˜æ˜¯ DELETE ï¼Œéƒ½éœ€è¦å¥½å‡ ç§’ï¼Œä¼šç»™ä¸šåŠ¡å¸¦æ¥ä¸¥é‡çš„æ—¶å»¶æŠ–åŠ¨å’Œè¶…æ—¶æŠ¥é”™ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå¦‚æœé›†ç¾¤ä¸­å‡ºç°å«æœ‰å‡ ç™¾ä¸‡ç”šè‡³ä¸Šåƒä¸‡å…ƒç´ çš„å¤§ key ï¼Œ MIGRATE å¯èƒ½ä¼šé˜»å¡20å¤šç§’ï¼Œå·²ç»è¶…å‡ºäº†èŠ‚ç‚¹å¿ƒè·³çš„15sè¶…æ—¶è®¾ç½®ï¼Œä¼šå¯¼è‡´æ¬è¿ä¸­çš„èŠ‚ç‚¹è¢«åˆ¤æ­»ï¼Œé›†ç¾¤å‡ºç°ä¸å¯ç”¨ã€‚</p>
<h5 data-id="heading-8">b. å¤škeyè¯·æ±‚å¼‚å¸¸</h5>
<p>å¦‚å‰æ‰€è¿°ï¼Œç¤¾åŒºæ–¹æ¡ˆåœ¨è¿ç§»è¿‡ç¨‹ä¸­ï¼Œæä¾›äº† ASK é‡å®šå‘æœºåˆ¶æ¥ä¸ºä¸šåŠ¡è¯·æ±‚æŒç»­æä¾›æœåŠ¡ã€‚è¿™ä¸ªæœºåˆ¶å¯¹äºå• key å‘½ä»¤æ˜¯å¤Ÿç”¨çš„ï¼Œä½†å¦‚æœä¸šåŠ¡ä½¿ç”¨çš„æ˜¯ç±»ä¼¼ MSET/MGET è¿™ç§å¤škeyå‘½ä»¤ï¼Œé‚£æƒ…å†µå°±å¤æ‚äº†ï¼š</p>
<ul>
<li>å¦‚æœå‘½ä»¤è®¿é—®çš„æ‰€æœ‰ key éƒ½åœ¨æºèŠ‚ç‚¹ï¼Œæˆ–è€…æ‰€æœ‰ key éƒ½å·²ç»æ¬åˆ°äº†ç›®æ ‡èŠ‚ç‚¹ï¼Œé‚£è¿˜æ˜¯èƒ½æ­£å¸¸å“åº”çš„ï¼›</li>
<li>å¦‚æœå‘½ä»¤ä¸­è®¿é—®çš„ä¸€éƒ¨åˆ† key è¿˜åœ¨æºèŠ‚ç‚¹ï¼Œä½†å¦ä¸€éƒ¨åˆ† key å·²ç»æ¬è¿åˆ°äº†ç›®æ ‡èŠ‚ç‚¹ï¼Œæ­¤æ—¶æºèŠ‚ç‚¹å°±ä¼šè¿”å›Â -TRYAGAIN é”™è¯¯ï¼Œè®©å®¢æˆ·ç«¯é‡è¯•ï¼Œä¸€ç›´ç­‰åˆ°æ­¤å‘½ä»¤è¦è®¿é—®çš„å…¨éƒ¨ key æ¬è¿åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œæˆ–è€…å®¢æˆ·ç«¯é‡è¯•è¶…æ—¶ï¼Œä¼šç»™ä¸šåŠ¡å¸¦æ¥ä¸¥é‡çš„æ—¶å»¶æŠ–åŠ¨å’Œè¶…æ—¶æŠ¥é”™ï¼›</li>
<li>è¿˜æœ‰ä¸€ç§æ›´å‘çš„æƒ…å†µï¼Œå‘½ä»¤ä¸­è®¿é—®çš„ä¸€éƒ¨åˆ† key åœ¨æºèŠ‚ç‚¹ï¼Œä½†è¿˜æœ‰ä¸€éƒ¨åˆ† key æ ¹æœ¬ä¸å­˜åœ¨ï¼Œè¿™ç§æƒ…å†µä¸‹å®¢æˆ·ç«¯ä¼šåå¤é‡è¯•ï¼Œåªèƒ½ç­‰åˆ°é‡è¯•è¶…æ—¶æŠ¥é”™ã€‚</li>
</ul>
<h5 data-id="heading-9">c. Â LUA è¯·æ±‚å¼‚å¸¸</h5>
<p>Redis çš„ LUA ä¸ºç”¨æˆ·æä¾›äº†ç±»ä¼¼å…³ç³»æ•°æ®åº“å­˜å‚¨è¿‡ç¨‹çš„é«˜çº§åŠŸèƒ½ï¼Œè®©ä¸šåŠ¡åœ¨æœåŠ¡ç«¯åŸå­æ€§æ‰§è¡Œå¤æ‚é€»è¾‘ï¼Œæ·±å—å¹¿å¤§ç”¨æˆ·æ¬¢è¿ã€‚è™½ç„¶ Redis ä¹Ÿæ”¯æŒç”¨æˆ·é€šè¿‡ EVAL å‘½ä»¤å°† LUA è„šæœ¬çš„å†…å®¹å’Œå‚æ•°ä¸€å¹¶ä¼ é€’ï¼Œä½†ä¸ºäº†å‡å°‘æ¯æ¬¡é‡å¤ä¼ è¾“è„šæœ¬çš„ä»£ä»·ï¼Œæ›´å¥½çš„åšæ³•æ˜¯ï¼Œä¸šåŠ¡å¯åŠ¨çš„æ—¶å€™é€šè¿‡ SCRIPT LOAD å‘½ä»¤å°†LUAè„šæœ¬çš„å†…å®¹åŠ è½½åˆ°æ•°æ®åº“å¹¶å¾—åˆ°è„šæœ¬å¯¹åº”çš„ SHA1 ï¼Œåç»­éƒ½åªéœ€é€šè¿‡ EVALSHA å‘½ä»¤ä¼ é€’ SHA1 å’Œå‚æ•°å³å¯è°ƒç”¨ç›¸åº”çš„ LUA è„šæœ¬ã€‚</p>
<p>ä½†æ˜¯ç¤¾åŒºçš„ slot è¿ç§»æ–¹æ¡ˆæœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯åªä¼šæ¬ key ï¼Œä¸ä¼šæ¬è¿æºèŠ‚ç‚¹çš„ LUA è„šæœ¬ã€‚è¿™å°±å¯¼è‡´ä¸€æ—¦å‘èµ·åï¼Œæ— è®ºæ˜¯è¿‡ç¨‹ä¸­è¿˜æ˜¯ç»“æŸååœ¨æ–°èŠ‚ç‚¹æ‰§è¡Œ EVALSHA å‘½ä»¤éƒ½ä¼šæŠ¥ -NOSCRIPT é”™è¯¯ï¼Œéœ€è¦ä¸šåŠ¡åœ¨æ–°èŠ‚ç‚¹é‡æ–°æ‰§è¡Œ SCRIPT LOAD å‘½ä»¤åŠ è½½å¯¹åº” LUA è„šæœ¬æ‰è¡Œã€‚</p>
<h5 data-id="heading-10">d. ä¸šåŠ¡æ€§èƒ½å—æŸ</h5>
<p>Redisæ˜¯ä¸€ä¸ªä¸»æ‰“é«˜å¹¶å‘å’Œä½æ—¶å»¶çš„å†…å­˜æ•°æ®åº“ï¼Œä¸å¹¸çš„æ˜¯ï¼Œç¤¾åŒºæ–¹æ¡ˆå¯¹ QPS å’Œæ—¶å»¶è¿™ä¸¤ä¸ªç»´åº¦éƒ½æœ‰æ˜æ˜¾çš„å½±å“ï¼š</p>
<ul>
<li>ä» QPS çš„ç»´åº¦æ¥è¯´ï¼Œå› ä¸ºæ¬è¿è¿‡ç¨‹æœ¬è´¨ä¸Šä¹Ÿæ˜¯åœ¨æºå’Œç›®æ ‡åˆ†åˆ«æ‰§è¡Œ MIGRATE å’Œ RESTORE å‘½ä»¤ï¼Œè€Œ Redis çš„å‘½ä»¤æ‰§è¡Œæ˜¯å•çº¿ç¨‹çš„ï¼Œæ¬è¿å‘½ä»¤å å¤šäº†è‡ªç„¶ä¸šåŠ¡è¯·æ±‚èƒ½ç”¨çš„å°±å°‘äº†ï¼Œè¿™å¯¹äºä¸€äº›æœ¬èº«å°±å› ä¸º QPS ä¸å¤Ÿç”¨è€Œæ‰©å®¹çš„ä¸šåŠ¡æ¥è¯´ï¼Œç®€ç›´å°±æ˜¯é›ªä¸ŠåŠ éœœã€‚</li>
<li>ä»æ—¶å»¶çš„ç»´åº¦æ¥è¯´ï¼Œå—åˆ°å½±å“æœ‰ä¸¤ä¸ªåŸå› ï¼Œ</li>
<li>ä¸€ä¸ªæ˜¯å‘½ä»¤æ‰§è¡Œçš„å•çº¿ç¨‹æ¨¡å‹ï¼ŒåŸæœ¬åªéœ€è¦å¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œç°åœ¨æ’å…¥å¤§é‡æ¬è¿ç›¸å…³çš„å‘½ä»¤ï¼Œç”¨æˆ·çš„è¯·æ±‚ä¸å¯é¿å…åœ°è¦æ’é˜Ÿï¼Œå¹³å‡æ—¶å»¶å¢åŠ ï¼›ç”šè‡³æ¬è¿çš„ key ç¨å¤§ä¸€äº›è¿˜ä¼šå› ä¸»çº¿ç¨‹é˜»å¡å¸¦æ¥æ—¶å»¶çš„å¤§æ¯›åˆºã€‚</li>
<li>å¦ä¸€ä¸ªåˆ™æ˜¯ ASK é‡å®šå‘æœºåˆ¶ã€‚åŸæœ¬åªéœ€è¦ç›´æ¥å¯¹åº”èŠ‚ç‚¹ï¼Œç½‘ç»œåªæœ‰ä¸€è·³ï¼›ç°åœ¨å¯èƒ½å›  key ä¸åœ¨æºèŠ‚ç‚¹è€Œé¢å¤–å¢åŠ ä¸€è·³ï¼Œå¸¦æ¥å¹³å‡æ—¶å»¶çš„å¢åŠ ã€‚</li>
</ul>
<h4 data-id="heading-11">ï¼ˆ2ï¼‰ç¤¾åŒºæ–¹æ¡ˆå¥å£®æ€§ä¸è¶³å¸¦æ¥çš„æŒ‘æˆ˜</h4>
<h5 data-id="heading-12">a. è¿ç§»ä¸­æ–­éš¾ä»¥å¤„ç†</h5>
<p>å› ä¸ºç¤¾åŒºçš„è¿ç§»æ–¹æ¡ˆä¸æ˜¯åŸå­çš„ï¼Œä¸€æ—¦æŸä¸ª slot å¼€å§‹è¿ç§»ï¼Œå¿…å®šslotä¸­æœ‰ä¸€éƒ¨åˆ† key åœ¨ç›®æ ‡èŠ‚ç‚¹ï¼Œå¦ä¸€éƒ¨åˆ† key åœ¨æºèŠ‚ç‚¹ã€‚æ­¤æ—¶æ— è®ºå‘ç”Ÿä½•ç§æƒ…å†µï¼Œæƒ³è¦æ— æŸåœ°ä¸­æ–­è¿ç§»éƒ½æ˜¯ä¸å¯èƒ½çš„ã€‚åªèƒ½çœ‹å“ªä¸€è¾¹çš„ key æ›´å¤šï¼Œå¦‚æœç›®æ ‡èŠ‚ç‚¹ä¸Šå·²ç»æœ‰å¤§å¤šæ•° key ï¼Œå°±ç¡¬ç€å¤´çš®ç»§ç»­æŠŠå‰©ä¸‹çš„ key ä¹Ÿæ¬è¿åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼›å¦‚æœæºèŠ‚ç‚¹ä¸Šè¿˜æœ‰å¤§å¤šæ•° key æ²¡æ¬ï¼Œé‚£å°±æŠŠç›®æ ‡èŠ‚ç‚¹ä¸Šçš„ key å†æƒ³åŠæ³•æ¬å›æ¥ï¼Œä½†æ˜¯æ¬å›æ¥çš„è¿‡ç¨‹ä¸­å¦‚ä½•ä¿è¯è¿™äº› key ä¸ä¼šæœ‰å†™å†²çªä¹Ÿå¾ˆéº»çƒ¦ã€‚</p>
<h5 data-id="heading-13">b. è¿ç§»çŠ¶æ€ä¸¢å¤±é—®é¢˜</h5>
<p>ç¤¾åŒºæ–¹æ¡ˆçš„è¿ç§»çŠ¶æ€åªç»´æŠ¤åœ¨ä¸»èŠ‚ç‚¹é‡Œï¼Œä»èŠ‚ç‚¹é‡Œæ²¡æœ‰è¿™ä¸ªä¿¡æ¯ã€‚å¦‚æœæ•°æ®æ¬è¿é˜¶æ®µï¼ŒæºèŠ‚ç‚¹å‘ç”Ÿæ•…éšœï¼Œå®ƒçš„ä»èŠ‚ç‚¹è‡ªåŠ¨æä¸»ï¼Œæ­¤æ—¶æ–°æºèŠ‚ç‚¹æ²¡æœ‰ MIGRATING çŠ¶æ€ï¼Œå®ƒä¸çŸ¥é“è¿™ä¸ª slot åœ¨è¿ç§»ã€‚ä¸€æ—¦æœ‰è¿™ä¸ª slot çš„å‘½ä»¤æ‰“åˆ°æ–°æºèŠ‚ç‚¹ä¸”å‘½ä»¤è®¿é—®çš„ key å·²æ¬è¿åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œå®ƒä¼šæŒ‰ç…§è¿™ä¸ª key ä¸å­˜åœ¨è¿›è¡Œå¤„ç†ï¼Œé€ æˆæºå’Œç›®æ ‡ key å†²çªã€‚åç»­å³ä½¿ DBA ä»‹å…¥ï¼Œç»§ç»­æˆ–è€…ä¸­æ–­æµç¨‹ï¼Œä¹Ÿå¾ˆéš¾å†³å®šå¦‚ä½•åˆå¹¶æˆ–è€…è¦†ç›–è¿™ä¸ª key ï¼Œå¯èƒ½é€ æˆæ•°æ®ä¸¢å¤±æˆ–ä¸ä¸€è‡´çš„ä¸¥é‡é—®é¢˜ã€‚</p>
<p>æ­¤å¤–ï¼Œæ–°æºä¸»èŠ‚ç‚¹åŸæœ¬ä¼šæŠŠ slot å½’å±æƒæ›´æ–°çš„æ¶ˆæ¯ä¼ æ’­ç»™é›†ç¾¤ä¸­æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œä½†åœ¨ç›®æ ‡èŠ‚ç‚¹çš„è§†è§’é‡Œï¼Œè¿™ä¸ª slot è¿˜å¤„äº IMPORTING çŠ¶æ€ï¼ŒæŒ‰ç…§é›†ç¾¤åè®®ï¼Œå®ƒä¼šå¿½ç•¥è¿™ä¸ªå½’å±æƒæ›´æ–°ã€‚æ‰€ä»¥åœ¨ç›®æ ‡èŠ‚ç‚¹çš„è§†è§’é‡Œï¼Œè¿™ä¸ª slot çš„ owner å§‹ç»ˆæ˜¯ fail çš„è€æºèŠ‚ç‚¹ï¼Œä»è€Œåˆ¤å®šé›†ç¾¤ fail ï¼Œæ‰€æœ‰æ‰“åˆ°ç›®æ ‡èŠ‚ç‚¹çš„è¯·æ±‚éƒ½ä¼šæ”¶åˆ°- CLUSTERDOWN æŠ¥é”™ï¼Œä¸šåŠ¡è¯·æ±‚å—æŸã€‚</p>
<h5 data-id="heading-14">c. è¿ç§»çŠ¶æ€ä¹±åºé—®é¢˜</h5>
<p>ç¤¾åŒºæ–¹æ¡ˆé‡Œè¿˜æœ‰ä¸€ç‚¹éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œè¿ç§»çŠ¶æ€çš„æ ‡è®°å’Œæ¸…ç†éƒ½éœ€è¦éµå®ˆç‰¹å®šçš„é¡ºåºã€‚</p>
<p>é¦–å…ˆï¼Œæ ‡è®°é˜¶æ®µæ­¥éª¤1å’Œ2é¡ºåºä¸èƒ½æ¢(å‚è§å›¾2)ï¼Œå¿…é¡»æ˜¯å…ˆç›®æ ‡èŠ‚ç‚¹åæºèŠ‚ç‚¹ã€‚å¦‚æœå…ˆç»™æºèŠ‚ç‚¹è®¾ç½®äº†Â MIGRATING çŠ¶æ€ï¼Œä¸€æ—¦æœ‰è¿™ä¸ª slot çš„å‘½ä»¤æ‰“åˆ°æºèŠ‚ç‚¹ä¸”å‘½ä»¤è®¿é—®çš„ key ä¸å­˜åœ¨ï¼ŒæºèŠ‚ç‚¹å°±ä¼šè¿”å› ASK é‡å®šå‘ï¼Œè®©å®¢æˆ·ç«¯å»è¯·æ±‚ç›®æ ‡èŠ‚ç‚¹ï¼›ä½†æ­¤æ—¶ç›®æ ‡èŠ‚ç‚¹å› æ²¡æœ‰æ ‡è®°è¿ç§»çŠ¶æ€ï¼Œæ— æ³•æ­£å¸¸å¤„ç†è¢«é‡å®šå‘çš„è¯·æ±‚ï¼Œä¼šç»™å®¢æˆ·ç«¯è¿”å› MOVED é‡å®šå‘ï¼ŒåˆæŠŠè¯·æ±‚è¸¢å›ç»™æºèŠ‚ç‚¹ã€‚äºŒè€…æ¥å›è¸¢çš®çƒï¼Œç›´åˆ°ç›®æ ‡èŠ‚ç‚¹è®¾ç½®äº† IMPORTING çŠ¶æ€ï¼Œæˆ–è€…å®¢æˆ·ç«¯è¶…æ—¶æŠ¥é”™ã€‚</p>
<p>å…¶æ¬¡ï¼Œè½¬ç§»é˜¶æ®µæ­¥éª¤6å’Œ7é¡ºåºä¹Ÿä¸èƒ½æ¢(å‚è§å›¾2)ï¼ŒçŠ¶æ€æ¸…ç†ä¹Ÿå¿…é¡»æ˜¯å…ˆç›®æ ‡èŠ‚ç‚¹åæºèŠ‚ç‚¹ã€‚å¦‚æœå…ˆæ¸…ç†æºèŠ‚ç‚¹çš„Â MIGRATING çŠ¶æ€ï¼ŒæºèŠ‚ç‚¹å°±ä¼šè®¤ä¸ºè¿™ä¸ª slot æ°¸ä¹…å½’å±ä¸ºç›®æ ‡èŠ‚ç‚¹ï¼Œä¸€æ—¦æœ‰è¿™ä¸ª slot çš„å‘½ä»¤æ‰“åˆ°æºèŠ‚ç‚¹ï¼ŒæºèŠ‚ç‚¹ä¼šè¿”å›Â MOVED é‡å®šå‘ï¼Œè®©å®¢æˆ·ç«¯å»è¯·æ±‚ç›®æ ‡èŠ‚ç‚¹ï¼›ä½† MOVED é‡å®šå‘ä¸ä¼šå¸¦ ASKING å‘½ä»¤ï¼Œç›®æ ‡èŠ‚ç‚¹å› ä¸ºæœ‰ IMPORTING çŠ¶æ€ï¼Œæ— æ³•å¤„ç†æ²¡å‰ç½® ASKING å‘½ä»¤çš„è¯·æ±‚ï¼Œä¹Ÿä¼šè¿”å› MOVED é‡å®šå‘ï¼ŒåˆæŠŠè¯·æ±‚è½¬å›ç»™æºèŠ‚ç‚¹ã€‚äºŒè€…é™·å…¥é‡å®šå‘æ­»å¾ªç¯ï¼Œç›´åˆ°ç›®æ ‡èŠ‚ç‚¹æ¸…ç†äº† IMPORTING çŠ¶æ€ï¼Œæˆ–è€…å®¢æˆ·ç«¯è¶…æ—¶æŠ¥é”™ã€‚</p>
<p>é‚£æ˜¯ä¸æ˜¯å‘èµ·è¿ç§»çš„äººå‘˜æˆ–è€…å·¥å…·éµå®ˆäº†ç‰¹å®šçš„é¡ºåºå°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜äº†å‘¢ï¼Ÿå¾ˆé—æ†¾ï¼Œç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚åŸå› æ˜¯è¿ç§»è¿‡ç¨‹ä¸­ä¸€æ—¦æœ‰èŠ‚ç‚¹æŒ‚æ‰ï¼Œç»“åˆä¸Šä¸€ç‚¹ï¼Œè¿ç§»çŠ¶æ€ä¼šä¸¢å¤±ï¼Œæ­¤æ—¶åªæœ‰ä¸€è¾¹æœ‰è¿ç§»çŠ¶æ€ï¼Œé¡ºåºçš„å‰æå°±è¢«æ‰“ç ´äº†ã€‚</p>
<h4 data-id="heading-15">ï¼ˆ3ï¼‰ç¤¾åŒºæ–¹æ¡ˆæ‰©å®¹é€Ÿåº¦æ…¢å¸¦æ¥çš„æŒ‘æˆ˜</h4>
<p>æœ€åä¸€ç‚¹æ˜¯æ‰©å®¹é€Ÿåº¦ã€‚å‰æ–‡æåˆ°ï¼Œç¤¾åŒºçš„ slot è¿ç§»æµç¨‹ä¸­ï¼Œkey æ¬è¿æ˜¯æœ€è€—æ—¶çš„ä¸€ä¸ªé˜¶æ®µã€‚åœ¨ä¸è€ƒè™‘å¤§ key çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç®€å•è®¤ä¸ºï¼šæ¬è¿è€—æ—¶ = key æ€»æ•° / æ¬è¿å‘½ä»¤ QPS ã€‚</p>
<p>ä¸šåŠ¡å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ˜¯å› ä¸ºæ€§èƒ½ä¸è¶³æ‰å‘èµ·æ°´å¹³æ‰©å®¹ï¼Œè€Œ slot è¿ç§»æ—¶å¯¹ä¸šåŠ¡è¯·æ±‚çš„æ—¶å»¶å’Œ QPS éƒ½æœ‰è´Ÿé¢å½±å“ï¼Œç®€ç›´æ˜¯é›ªä¸ŠåŠ éœœï¼Œæ‰€ä»¥ä¸šåŠ¡è‚¯å®šå¸Œæœ› slot è¿ç§»è¶Šå¿«å®Œæˆè¶Šå¥½ï¼›ä½†æˆ‘ä»¬ä¹ŸçŸ¥é“ï¼ŒRedis çš„å‘½ä»¤æ‰§è¡Œæ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œä¸ºäº†è®©ä¸šåŠ¡è¯·æ±‚çš„æ€§èƒ½å—åˆ°çš„å½±å“å°½é‡å°ï¼Œæ¬è¿å‘½ä»¤çš„ QPS è‚¯å®šè¦åšé™åˆ¶ï¼Œé™åˆ¶å¤ªç‹ çš„è¯æ¬è¿è€—æ—¶åˆä¼šè¿‡é•¿ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªç»å…¸çš„é±¼å’Œç†ŠæŒéš¾é¢˜ã€‚</p>
<h2 data-id="heading-16">2 ä¸šç•Œå…¶ä»–å¸¸è§çš„ Redis æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆ</h2>
<p>Redis çš„æ°´å¹³æ‰©ç¼©å®¹æœ¬èº«æ˜¯å¾ˆå¤šä¸šåŠ¡çš„åˆšéœ€ï¼Œä½†æ˜¯ç¤¾åŒºåŸç”Ÿçš„æ–¹æ¡ˆåˆæœ‰å¾ˆå¤šçš„ä¸è¶³å’Œç—›ç‚¹ã€‚ä¸ºäº†åœ¨æ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„åŒæ—¶èƒ½å¤Ÿè§„é¿ç¤¾åŒºæ–¹æ¡ˆçš„ä¸è¶³ï¼Œä¸šç•Œä¹Ÿæå‡ºäº†ä¸€äº›å…¶ä»–çš„æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-17">2.1 åŸºäºæ—è·¯è¿ç§»çš„æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆ</h3>
<h4 data-id="heading-18">ï¼ˆ1ï¼‰æ—è·¯è¿ç§»æ‰©ç¼©å®¹æ–¹æ¡ˆçš„å®ç°åŸç†</h4>
<p>è¿™ä¸ªæ–¹æ¡ˆçš„æ€è·¯æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åŸºäºä¸šåŠ¡æ‰©ç¼©å®¹çš„ç›®æ ‡åˆ†ç‰‡æ•°åˆ›å»ºä¸€ä¸ªæ–°é›†ç¾¤ï¼Œç„¶åå€Ÿç”¨æ—è·¯çš„æ•°æ®ä¼ è¾“ç»„ä»¶ï¼Œå°†è€é›†ç¾¤çš„æ•°æ®ä¼ è¾“ç»™æ–°é›†ç¾¤ï¼Œæœ€åå†æ‰¾ä¸€ä¸ªåˆé€‚çš„æ—¶æœºï¼ŒæŠŠæµé‡ä¹Ÿä»è€é›†ç¾¤åˆ‡åˆ°æ–°é›†ç¾¤ã€‚</p>
<p>è¿™é‡Œæåˆ°çš„æ•°æ®ä¼ è¾“ç»„ä»¶ï¼Œä¸šç•Œæœ‰å¼€æºçš„ redis-shakeï¼Œredis-port ç­‰ï¼Œå„å®¶äº‘å‚å•†ä¹Ÿéƒ½æœ‰ç›¸åº”çš„Â DTSÂ (æ•°æ®ä¼ è¾“æœåŠ¡)å¯ä»¥ç”¨ã€‚</p>
<h5 data-id="heading-19">a. æ•°æ®ä¼ è¾“</h5>
<p>è¿™äº›æ•°æ®ä¼ è¾“ç»„ä»¶çš„åŸç†éƒ½å¾ˆç±»ä¼¼ï¼Œå°±æ˜¯ä¸ºè€é›†ç¾¤çš„æ¯ä¸€ä¸ªåˆ†ç‰‡æ¨¡æ‹Ÿä¸€ä¸ªä»èŠ‚ç‚¹ï¼Œé€šè¿‡ SYNC æˆ–è€…æ˜¯ PSYNC å‘½ä»¤ä»æºç«¯åˆ†ç‰‡å‘èµ·ä¸€æ¬¡å…¨é‡åŒæ­¥ï¼Œç„¶åæ”¶åˆ°å…¨é‡çš„ RDB æ–‡ä»¶(å…¶ä¸­ä¹Ÿå¸¦æœ‰æºç«¯èŠ‚ç‚¹ä¸­æ‰€æœ‰çš„ LUA è„šæœ¬)ï¼›ç„¶åå€Ÿé‰´ AOF é‡å†™çš„æœºåˆ¶æŠŠ RDB è½¬æ¢æˆå‘½ä»¤æµå‘é€ç»™ç›®æ ‡ç«¯çš„æ–°é›†ç¾¤ï¼›å‘å®Œå…¨é‡å‘½ä»¤æµåå†ç»§ç»­æŠŠæºç«¯è€é›†ç¾¤çš„å¢é‡å‘½ä»¤æµä¹Ÿç»§ç»­è½¬å‘ç»™æ–°é›†ç¾¤ï¼Œç»´æŒæ•°æ®åŒæ­¥çŠ¶æ€ç¨³å®šã€‚</p>
<p>å› ä¸ºæœ‰ç€æ—è·¯ç»„ä»¶åœ¨ä¸­é—´åšâ€œç¿»è¯‘å®˜â€ï¼Œå‘ç»™æ–°é›†ç¾¤çš„éƒ½æ˜¯å‘½ä»¤æµï¼Œæ–°é›†ç¾¤çš„åˆ†ç‰‡æ•°å°±å’Œè€é›†ç¾¤å®Œå…¨è§£è€¦äº†ï¼Œåªè¦æ•°æ®èƒ½æ”¾å¾—ä¸‹ï¼Œæ¯”è€é›†ç¾¤åˆ†ç‰‡æ•°å¤šç‚¹å°‘ç‚¹éƒ½OKã€‚ä»¥ä¸€ä¸ª3åˆ†ç‰‡é›†ç¾¤æ‰©ä¸º4åˆ†ç‰‡é›†ç¾¤ä¸ºä¾‹ï¼Œæ•°æ®åŒæ­¥çš„ç¤ºæ„å¦‚å›¾5æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/779d7ae6fe714ba8a76ee1d1a4a54c1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=CuA8cmNsHGdC%2Bg1%2FdQ%2BBfecp%2FxI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â–²å›¾5. åŸºäº DTS çš„é›†ç¾¤æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆåŸç†</p>
<h5 data-id="heading-20">b. æµé‡åˆ‡æ¢</h5>
<p>ä¸¤ä¸ªé›†ç¾¤ä¹‹é—´è¿›å…¥ç¨³å®šçš„æ•°æ®åŒæ­¥çŠ¶æ€ä¹‹åï¼Œå°±å¯ä»¥å‡†å¤‡åˆ‡æµé‡äº†ã€‚ä¸€èˆ¬æ˜¯å…ˆè¦è§‚å¯Ÿæ˜¯ä¸æ˜¯æ‰€æœ‰å­ä»»åŠ¡(è€é›†ç¾¤çš„æ¯ä¸ªåˆ†ç‰‡å¯¹åº”ä¸€ä¸ªå­ä»»åŠ¡)çš„åŒæ­¥å»¶è¿Ÿéƒ½åœ¨ä¸€ä¸ªå¯æ¥å—çš„é˜ˆå€¼å†…ï¼›å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œå°±è®©ä¸šåŠ¡å°†è€é›†ç¾¤çš„å†™æµé‡åœæ‰ï¼Œç­‰å¾…æ–°é›†ç¾¤çš„æ•°æ®å®Œå…¨å’Œè€é›†ç¾¤è¿½é½ï¼Œå› ä¸ºè¿™æ˜¯æ—è·¯çš„æ•°æ®ä¼ è¾“ç»„ä»¶ï¼Œè¿™ä¸ªç­‰å¾…æ—¶é—´å¾€å¾€æ˜¯åˆ†é’Ÿçº§çš„ï¼›æ¥ç€å†æŠŠä¸šåŠ¡çš„è¯»å†™æµé‡å®Œå…¨é‡å®šå‘åˆ°æ–°é›†ç¾¤ï¼›æœ€åé‡Šæ”¾è€é›†ç¾¤çš„èµ„æºã€‚è‡³æ­¤ï¼Œä¸€æ¬¡æ‰©ç¼©å®¹ä»»åŠ¡å°±ç®—å®Œæˆäº†ã€‚</p>
<h4 data-id="heading-21">ï¼ˆ2ï¼‰æ—è·¯è¿ç§»æ‰©ç¼©å®¹æ–¹æ¡ˆå’Œ Redis ç¤¾åŒºåŸç”Ÿæ¡ˆçš„å¯¹æ¯”</h4>
<p>å¯¹æ¯” Redis ç¤¾åŒºåŸç”Ÿçš„æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆï¼Œè¿™ä¸ªæ–¹æ¡ˆçš„ä¼˜ç‚¹å¾ˆæ˜æ˜¾ï¼š</p>
<ul>
<li>åˆ‡æµå‰ï¼Œè¯·æ±‚å…¨éƒ¨è®¿é—®è€é›†ç¾¤ï¼Œè€é›†ç¾¤ä¸­å§‹ç»ˆæœ‰å…¨é‡çš„ key å’Œ LUA è„šæœ¬ï¼›åˆ‡æµåï¼Œå…¨éƒ¨è¯·æ±‚è½¬ä¸ºè®¿é—®æ–°é›†ç¾¤ä¸­ï¼Œæ–°é›†ç¾¤ä¸­ä¹Ÿå·²æœ‰å…¨é‡çš„ key å’Œ LUA è„šæœ¬ï¼›åˆ‡æµå‰åï¼Œä¸šåŠ¡çš„å¤š key è¯·æ±‚å’Œ LUA è¯·æ±‚éƒ½èƒ½æ­£å¸¸å¤„ç†ã€‚</li>
<li>åˆ‡æµå‰ï¼Œä»…ç›¸å½“äºè€é›†ç¾¤ä¸­æ¯ä¸ªåˆ†ç‰‡å¤šæŒ‚äº†ä¸€ä¸ªä»èŠ‚ç‚¹ï¼Œå…¨é‡é˜¶æ®µç”±å­è¿›ç¨‹ç”Ÿæˆ RDB ï¼Œå®Œå…¨ä¸å½±å“ä¸»è¿›ç¨‹çš„å‘½ä»¤å¤„ç†ï¼Œåºåˆ—åŒ–å¤§ key ä¹Ÿä¸é˜»å¡ï¼›å¢é‡é˜¶æ®µï¼Œåªéœ€æŠŠå†™å‘½ä»¤è½¬å‘ä¸€ä»½ç»™æ•°æ®ä¼ è¾“ç»„ä»¶ï¼ŒæŸè€—ä¹Ÿå¾ˆå°ï¼›è€Œå¯¹äºæ–°é›†ç¾¤ï¼Œæœ¬èº«ä¸å¤„ç†ä¸šåŠ¡è¯·æ±‚ï¼Œå›æ”¾æ•°æ®åŒæ­¥çš„å†™å‘½ä»¤å¯¹ä¸šåŠ¡ä¸å½±å“ã€‚</li>
<li>è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰ ASK é‡å®šå‘ï¼Œä¸šåŠ¡è¯·æ±‚ä¸ä¼šå› å¢åŠ ç½‘ç»œè·³æ•°è€Œæ—¶å»¶ä¸Šå‡ã€‚</li>
<li>è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰è¿ç§»çŠ¶æ€ï¼Œæ— è®ºæ˜¯è€é›†ç¾¤è¿˜æ˜¯æ–°é›†ç¾¤æœ‰èŠ‚ç‚¹å‘ç”Ÿæ•…éšœï¼Œæ­£å¸¸å°†ä»èŠ‚ç‚¹æä¸»å°±å¥½ï¼Œä¸šåŠ¡è®¿é—®å¯ä»¥ä¿æŒé«˜å¯ç”¨ï¼›ä¸ç”¨å…³å¿ƒæ—è·¯ç»„ä»¶çš„çŠ¶æ€ï¼Œç”±æ—è·¯ç»„ä»¶è‡ªè¡Œæ£€æŸ¥æ•°æ®åŒæ­¥çŠ¶æ€å¹¶æ¢å¤ã€‚</li>
<li>è¿‡ç¨‹ä¸­ï¼Œåªè¦æ²¡æœ‰åˆ‡æµï¼Œéšæ—¶å¯ä»¥ä¸­æ–­ï¼Œæ–­æ‰æ—è·¯ç»„ä»¶å’Œè€é›†ç¾¤çš„æ•°æ®åŒæ­¥å³å¯ã€‚</li>
<li>è¿ç§»è¿‡ç¨‹ä¸­æ–°é›†ç¾¤å®Œå…¨ä¸å¤„ç†ä¸šåŠ¡è¯·æ±‚ï¼Œå¯ä»¥å…¨é€Ÿå®Œæˆæ•°æ®åŒæ­¥ï¼Œè¿ç§»é€Ÿåº¦ä¼šæ›´å¿«ã€‚</li>
</ul>
<p>ç›¸åº”çš„ï¼Œè¿™ä¸ªæ–¹æ¡ˆä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ã€‚ä¸€æ–¹é¢ï¼Œä¸ºäº†ä¿éšœæ–°è€é›†ç¾¤ä¹‹é—´çš„æ•°æ®ä¸€è‡´æ€§ï¼Œåœ¨åˆ‡æµå‰éœ€è¦è€é›†ç¾¤åœå†™å‡ åç§’åˆ°å‡ åˆ†é’Ÿï¼Œè¿™ä¸ªå¯¹äºéƒ¨åˆ†åœ¨çº¿ä¸šåŠ¡æ˜¯éš¾ä»¥æ¥å—çš„ï¼›å¦ä¸€æ–¹é¢ï¼Œåœ¨è¿ç§»è¿‡ç¨‹ä¸­ï¼Œéœ€è¦åŒæ—¶æä¾›æ–°è€ä¸¤ä¸ªé›†ç¾¤çš„æœºå™¨èµ„æºï¼Œè¿™ä¸ªæˆæœ¬å‹åŠ›å¤ªå¤§äº†ã€‚</p>
<h3 data-id="heading-22">2.2 åŸºäºèŠ‚ç‚¹åˆ†è£‚çš„æ°´å¹³æ‰©å®¹æ–¹æ¡ˆ</h3>
<h4 data-id="heading-23">ï¼ˆ1ï¼‰èŠ‚ç‚¹åˆ†è£‚æ‰©å®¹æ–¹æ¡ˆçš„å®ç°åŸç†</h4>
<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰ç‰¹ç‚¹çš„æ–¹æ¡ˆï¼Œæœ‰çš„åœ°æ–¹ä¹Ÿç§°ä¹‹ä¸ºåˆ†è£‚å¼æ‰©å®¹ï¼Œæˆ–è€…ç¿»å€å¼æ‰©å®¹ã€‚å®ƒçš„æ€è·¯ä¹Ÿä¸å¤æ‚ï¼Œå¤§è‡´æµç¨‹å°±åˆ†ä¸‰æ­¥ï¼šèŠ‚ç‚¹å¤åˆ¶ï¼Œå½’å±æƒåˆ†è£‚ï¼Œæ•°æ®æ¸…ç†ã€‚ä¸‹é¢æˆ‘ä»¬ä»¥ä¸€ä¸ª2åˆ†ç‰‡é›†ç¾¤ç¿»å€æ‰©ä¸º4åˆ†ç‰‡é›†ç¾¤ä¸¾ä¾‹ï¼Œåˆ†æ­¥éª¤è¯¦ç»†è¯´æ˜ã€‚</p>
<h5 data-id="heading-24">a. èŠ‚ç‚¹å¤åˆ¶</h5>
<p>ä¸ºé›†ç¾¤ä¸­ç°æœ‰çš„æ¯ä¸ªè€åˆ†ç‰‡åˆ†åˆ«åˆ›å»ºå¯¹åº”çš„æ–°åˆ†ç‰‡ï¼Œå› ä¸ºè¿™é‡Œæ˜¯æ‰©ä¸€å€ï¼Œæ‰€ä»¥æ¯ä¸ªè€åˆ†ç‰‡åªå¯¹åº”ä¸€ä¸ªæ–°åˆ†ç‰‡ï¼Œå¦‚æœæ˜¯æ‰©å…¶å®ƒå€æ•°ï¼Œè¿™é‡Œå°±éœ€è¦åˆ›å»ºå¯¹åº”å€æ•°çš„æ–°åˆ†ç‰‡ã€‚æ–°åˆ†ç‰‡ä¸­çš„èŠ‚ç‚¹æ­¤æ—¶æ²¡æœ‰æ•°æ®ï¼Œä¹Ÿä¸è´Ÿè´£ä»»ä½• slot ï¼Œå°†æ¯ä¸ªæ–°åˆ†ç‰‡ä¸­çš„ä¸»èŠ‚ç‚¹ä»¥æŒ‚ä»çš„æ–¹å¼è¿ä¸Šå¯¹åº”è€åˆ†ç‰‡çš„ä¸»èŠ‚ç‚¹ï¼Œç›´æ¥å¤ç”¨ Redis ä¸»ä»å¤åˆ¶çš„æµç¨‹ï¼Œå°†è€åˆ†ç‰‡çš„æ•°æ®(ä¹ŸåŒ…å«æ‰€æœ‰çš„ LUA è„šæœ¬)å…¨é‡åŒæ­¥åˆ°å¯¹åº”çš„æ–°åˆ†ç‰‡ï¼Œå¹¶ç»´æŒå¢é‡ä¼ æ’­çŠ¶æ€ï¼Œè¿‡ç¨‹å¦‚å›¾6-1æ‰€ç¤ºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80688d3b4c134fe69486b9d43b39c937~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=%2F2wFGWRBVYDdrxiLtZfiW0yAg4c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â–²å›¾6-1. èŠ‚ç‚¹åˆ†è£‚æ‰©å®¹çš„åŸç† -- èŠ‚ç‚¹å¤åˆ¶</p>
<h5 data-id="heading-25">b. å½’å±æƒåˆ†è£‚</h5>
<p>èŠ‚ç‚¹å¤åˆ¶å®Œæˆåï¼Œä¸¤ç»„å¯¹åº”çš„æ–°è€åˆ†ç‰‡ä¹‹é—´æ•°æ®åŸºæœ¬æ˜¯ä¸€æ¨¡ä¸€æ ·çš„(åªæ˜¯å¢é‡å†™å…¥éƒ¨åˆ†æ–°åˆ†ç‰‡æœ‰ä¸€äº›æ»å)ï¼Œåªæ˜¯æ–°åˆ†ç‰‡è¿˜ä¸è´Ÿè´£ä»»ä½• slot ã€‚æ­¤æ—¶ï¼Œæ¯ä¸ªæ–°åˆ†ç‰‡ä¾æ¬¡å‘å¯¹åº”çš„è€åˆ†ç‰‡å‘èµ·åˆ†è£‚ä¸€åŠ slot å½’å±æƒçš„è¯·æ±‚ï¼Œå¦‚å›¾6-2æ‰€ç¤ºã€‚å½’å±æƒåˆ†è£‚çš„åº•å±‚å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæ¯”è¾ƒä¼˜é›…çš„ä¸€ç§æ˜¯å€Ÿé‰´ Redis è‡ªèº«çš„ manual failover å®ç°æœºåˆ¶ï¼ŒåŒºåˆ«åªæ˜¯è¯´ï¼Œåˆ†è£‚åªè·å–å¯¹åº”è€åˆ†ç‰‡ä¸€éƒ¨åˆ† slot çš„å½’å±æƒï¼Œåˆ†è£‚åè€åˆ†ç‰‡çš„ä¸»èŠ‚ç‚¹è§’è‰²è¿˜æ˜¯ master ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c4f056c334247a3a41809bf33aba764~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=wTYRiPkk5nnCrtk3eE6r1P1H16k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â–²å›¾6-2. èŠ‚ç‚¹åˆ†è£‚æ‰©å®¹çš„åŸç† -- å½’å±æƒåˆ†è£‚</p>
<h5 data-id="heading-26">c. æ•°æ®æ¸…ç†</h5>
<p>ä¸Šä¸€æ­¥å®Œæˆåï¼Œå¯¹äºæ¯ä¸€ç»„çš„æ–°è€åˆ†ç‰‡è€Œè¨€ï¼Œå®ƒä»¬å„è‡ªè·å¾—è€åˆ†ç‰‡åŸå…ˆä¸€åŠ slot çš„å½’å±æƒï¼Œä½†æ˜¯æ–°è€åˆ†ç‰‡éƒ½è¿˜æœ‰è€åˆ†ç‰‡åŸå…ˆçš„æ‰€æœ‰æ•°æ®ã€‚æ¢è¨€ä¹‹ï¼Œæ–°è€åˆ†ç‰‡éƒ½æœ‰ä¸€åŠçš„æ•°æ®å…¶å®å·²ç»æ²¡ç”¨äº†ï¼Œä½†è¿˜å ç”¨ç€å†…å­˜ç©ºé—´ã€‚æ­¤æ—¶æ–°è€åˆ†ç‰‡éœ€è¦å„è‡ªå‘èµ·ä¸€ä¸ªå¼‚æ­¥çš„åå°æ¸…ç†ä»»åŠ¡ï¼Œå°†å·²ç»ä¸å±äºè‡ªå·±è´Ÿè´£çš„ slot æ•°æ®æ¸…ç†æ‰ï¼Œå¦‚å›¾6-3æ‰€ç¤ºã€‚ç­‰æ¸…ç†ä»»åŠ¡ç»“æŸï¼Œæœ¬æ¬¡æ‰©å®¹ä»»åŠ¡å°±å®Œæˆäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb53977379ba412d9bebc19b2e88f64c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=JILSZ2YzJPJggZAf79GBZ1X56mw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â–²å›¾6-3. èŠ‚ç‚¹åˆ†è£‚æ‰©å®¹çš„åŸç† -- æ•°æ®æ¸…ç†</p>
<h4 data-id="heading-27">ï¼ˆ2ï¼‰èŠ‚ç‚¹åˆ†è£‚æ‰©å®¹æ–¹æ¡ˆå’Œ Redis ç¤¾åŒºåŸç”Ÿæ¡ˆçš„å¯¹æ¯”</h4>
<p>å¯¹æ¯” Redis ç¤¾åŒºåŸç”Ÿçš„æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆï¼Œè¿™ä¸ªæ–¹æ¡ˆä¹Ÿæœ‰ç±»ä¼¼æ—è·¯è¿ç§»æ–¹æ¡ˆçš„ä¸€äº›ä¼˜ç‚¹ï¼š</p>
<ul>
<li>åˆ†è£‚å‰ï¼Œæ‰€æœ‰è¯·æ±‚è®¿é—®è€åˆ†ç‰‡ï¼Œè€åˆ†ç‰‡ä¸Šä¹Ÿæœ‰å…¨é‡çš„ key å’Œ LUA è„šæœ¬ï¼›åˆ†è£‚åï¼Œä¸€åŠè¯·æ±‚è½¬ä¸ºè®¿é—®æ–°åˆ†ç‰‡ï¼Œæ–°åˆ†ç‰‡ä¸Šä¹Ÿå·²ç»æœ‰å¯¹åº” slot çš„å…¨é‡ key å’Œ LUA è„šæœ¬ï¼›åˆ†è£‚å‰åï¼Œä¸šåŠ¡çš„å¤š key è¯·æ±‚å’Œ LUA è¯·æ±‚éƒ½èƒ½æ­£å¸¸å¤„ç†ã€‚</li>
<li>å¤åˆ¶é˜¶æ®µï¼Œæ¯ä¸ªè€åˆ†ç‰‡ç›¸å½“äºå¤šæŒ‚äº†Nä¸ªä»èŠ‚ç‚¹(Nå–å†³äºæ‰©å®¹çš„å€æ•°)ï¼Œå…¨é‡é˜¶æ®µç”±å­è¿›ç¨‹ç”Ÿæˆ RDBï¼Œå®Œå…¨ä¸å½±å“ä¸»è¿›ç¨‹çš„å‘½ä»¤å¤„ç†ï¼Œåºåˆ—åŒ–å¤§ key ä¹Ÿä¸é˜»å¡ï¼›å¢é‡é˜¶æ®µåªéœ€æŠŠå†™å‘½ä»¤è½¬å‘ç»™æ–°åˆ†ç‰‡ï¼ŒNä¸å¤§çš„æƒ…å†µä¸‹æŸè€—ä¹Ÿå°ï¼›è€Œå¯¹äºæ–°åˆ†ç‰‡æ¥è¯´ï¼Œå®Œå…¨ä¸å¤„ç†ä¸šåŠ¡è¯·æ±‚ï¼ŒåŠ è½½ RDB å’Œå›æ”¾å¢é‡å‘½ä»¤éƒ½ä¸å½±å“ä¸šåŠ¡è¯·æ±‚ã€‚</li>
<li>åˆ†è£‚é˜¶æ®µï¼Œä¸ºäº†ä¿éšœæ–°è€åˆ†ç‰‡å®Œå…¨ä¸€è‡´ï¼Œéœ€è¦ä¸´æ—¶é˜»å¡è€åˆ†ç‰‡ï¼Œä½†å®ƒçš„æ—¶é—´é‡çº§å’Œ manual failoverÂ ç›¸è¿‘ï¼Œåªæ˜¯äºšç§’çº§çš„æ—¶å»¶æŠ–åŠ¨ã€‚</li>
<li>æ¸…ç†é˜¶æ®µï¼Œåå°æ¸…ç†ä»»åŠ¡ä¼šå ç”¨ä¸»çº¿ç¨‹ä¸€äº›èµ„æºï¼Œä¸è¿‡å¥½åœ¨æ­¤æ—¶é›†ç¾¤æ€»å¤„ç†èƒ½åŠ›å·²æå‡ï¼Œæ¸…ç†åªæ˜¯ä¸ºäº†é‡Šæ”¾å†…å­˜ç©ºé—´ï¼Œç¨å¾®æ…¢ä¸€ç‚¹ä¹Ÿæ²¡äº‹ï¼Œå¯ä»¥é™é€Ÿä¸¥æ ¼ä¸€äº›ï¼Œå¹¶ä¸” Redis 4.0 çš„ lazy free ç‰¹æ€§ä¹Ÿèƒ½å‡å°‘æ¸…ç†è¿‡ç¨‹å¯¹ä¸»çº¿ç¨‹çš„å ç”¨ã€‚</li>
<li>è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰ ASK é‡å®šå‘ï¼Œä¸šåŠ¡è¯·æ±‚ä¸ä¼šå› å¢åŠ ç½‘ç»œè·³æ•°è€Œæ—¶å»¶ä¸Šå‡ã€‚</li>
<li>è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰è¿ç§»çŠ¶æ€ï¼Œè€åˆ†ç‰‡èŠ‚ç‚¹å¼‚å¸¸ï¼Œæ­£å¸¸å°†ä»èŠ‚ç‚¹æä¸»å°±å¥½ï¼Œä¸šåŠ¡è¯·æ±‚å¯ä»¥ä¿æŒé«˜å¯ç”¨ï¼›æ–°åˆ†ç‰‡èŠ‚ç‚¹å¼‚å¸¸æ›´ç®€å•ï¼Œæ‹‰èµ·æ–°çš„ç©ºèŠ‚ç‚¹ï¼Œé‡æ–°å‘èµ·æ•°æ®åŒæ­¥å³å¯ã€‚</li>
<li>è¿‡ç¨‹ä¸­ï¼Œåªè¦æ²¡æœ‰åˆ†è£‚å½’å±æƒï¼Œéšæ—¶å¯ä»¥ä¸­æ–­ï¼Œæ–­æ‰æ–°åˆ†ç‰‡å’Œè€åˆ†ç‰‡çš„æ•°æ®åŒæ­¥å³å¯ã€‚</li>
<li>å¤åˆ¶è¿‡ç¨‹ä¸­æ–°åˆ†ç‰‡å®Œå…¨ä¸å¤„ç†ä¸šåŠ¡è¯·æ±‚ï¼Œå¯ä»¥å…¨é€Ÿå®Œæˆæ•°æ®åŒæ­¥ï¼Œé€Ÿåº¦ä¼šæ›´å¿«ã€‚</li>
</ul>
<p>ä½†æ˜¯ï¼Œè¿™ä¸ªæ–¹æ¡ˆç›¸æ¯”ç¤¾åŒºæ–¹æ¡ˆçš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ã€‚é¦–å…ˆï¼Œå®ƒçš„çµæ´»æ€§å¾ˆå·®ï¼Œåªèƒ½ç¿»å€æ‰©ï¼Œè¿™ä¸ªå¯¹äºæœ¬èº«å°±å·²ç»æœ‰å‡ åä¸Šç™¾ä¸ªåˆ†ç‰‡çš„é›†ç¾¤æ¥è¯´å°±å¾ˆéš¾æ¥å—äº†ï¼Œæˆæœ¬ä¸€æ¬¡æ€§ä¸Šå‡å¤ªå¤šäº†ï¼›è€Œä¸”å®ƒè¿˜åªèƒ½æ‰©ä¸èƒ½ç¼©ï¼Œå¯¹ä¸€äº›æµé‡å¼¹æ€§å¾ˆå¤§çš„ä¸šåŠ¡æ¥è¯´ä¹Ÿå¾ˆéš¾æ¥å—ã€‚å…¶æ¬¡ï¼Œå½“æ‰©çš„å€æ•°å¾ˆå¤§æ—¶ï¼Œå¯¹è€åˆ†ç‰‡æ¥è¯´ï¼ŒæŒ‚çš„ä»èŠ‚ç‚¹å°±å¤ªå¤šäº†ï¼Œè¿™ä¸ªå¯¹è€åˆ†ç‰‡çš„å¤„ç†èƒ½åŠ›ä¼šæœ‰ä¸€äº›æŸè€—ã€‚</p>
<h2 data-id="heading-28">3 è…¾è®¯äº‘RedisåŸºäºslotåŸå­åŒ–è¿ç§»çš„æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆ</h2>
<p>å½“æˆ‘ä»¬å¤šå¹´å‰æ‰“ç®—åœ¨å…¬æœ‰äº‘ä¸Šå”®å– Redis æ‰˜ç®¡æœåŠ¡çš„æ—¶å€™ï¼Œæ‘†åœ¨æˆ‘ä»¬é¢å‰çš„å°±æ˜¯è¿™æ ·çš„ç°çŠ¶ï¼š Redis ç¤¾åŒºæä¾›çš„åŸç”Ÿæ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆæ§½ç‚¹å¤šå¤šï¼Œè¿è¥éš¾åº¦é«˜ï¼›æ—è·¯è¿ç§»æ–¹æ¡ˆçš„åˆ‡æµåœå†™è®¸å¤šå®¢æˆ·éš¾ä»¥æ¥å—ï¼Œè¿ç§»çš„é¢å¤–æˆæœ¬å¯¹æˆ‘ä»¬å¹³å°æ–¹æ¥è¯´è´Ÿæ‹…ä¹Ÿå¾ˆé‡ï¼›èŠ‚ç‚¹åˆ†è£‚æ–¹æ¡ˆå…¶ä»–ç‚¹éƒ½è¿˜ä¸é”™ï¼Œå°±æ˜¯ç›®æ ‡åˆ†ç‰‡æ•°é™åˆ¶å¤ªæ­»ï¼Œçµæ´»æ€§å¤ªå·®ï¼Œä½¿ç”¨åœºæ™¯ä¸¥é‡å—é™ã€‚</p>
<p>äº‘ä¸Šè¿è¥éœ€è¦ä¸€ä¸ªæ–°çš„æ–¹æ¡ˆï¼Œè¿™ä¸ªæ–¹æ¡ˆåº”è¯¥å¯¹ä¸šåŠ¡è¯·æ±‚çš„å½±å“å°½é‡å°‘ï¼Œæœ¬èº«è¶³å¤Ÿå¥å£®ï¼Œæ‰©ç¼©å®¹çš„é€Ÿåº¦è¦å¤Ÿå¿«ï¼Œå¯¹ç›®æ ‡åˆ†ç‰‡æ•°ä¸åšé™åˆ¶ï¼Œä¸éœ€è¦é¢å¤–çš„æˆæœ¬ï¼Œå¹¶ä¸”å°½é‡ä¸ä¾èµ–ä¸‰æ–¹ç»„ä»¶ã€‚åŸºäºè¿™æ ·çš„ç›®æ ‡ï¼Œå¹¶å¸æ”¶äº†ä¸šç•Œå·²æœ‰æ–¹æ¡ˆçš„ç²¾é«“ï¼Œæˆ‘ä»¬æœ€ç»ˆæ¨é™ˆå‡ºæ–°ï¼Œå®ç°äº†åŸºäº slot åŸå­åŒ–è¿ç§»çš„å…¨æ–°æ°´å¹³æ‰©ç¼©å®¹æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-29">3.1 è…¾è®¯äº‘ slot åŸå­åŒ–è¿ç§»æ–¹æ¡ˆçš„åŸç†å’Œå®ç°</h3>
<p>æˆ‘ä»¬çš„æ–¹æ¡ˆä¹Ÿæ˜¯é€šè¿‡åœ¨èŠ‚ç‚¹ä¹‹é—´è¿ç§» slot æ¥è¾¾åˆ°ç›®çš„ï¼Œä½†å’Œç¤¾åŒºåŸç”Ÿæ–¹æ¡ˆä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨ slot è¿ç§»çš„æ—¶å€™ï¼Œæ¬è¿æ•°æ®ä¸æ˜¯ä»¥ key çš„ç²’åº¦é€æ­¥æ¬è¿ï¼Œè€Œæ˜¯ä»¥ slot ä¸ºæœ€å°ç²’åº¦æ•´ä½“åšæ¬è¿ï¼Œæ¬è¿å…·å¤‡åŸå­æ€§ï¼›å¦å¤–æ¬è¿è¿‡ç¨‹ä¸æ˜¯åŒæ­¥é˜»å¡çš„ï¼Œè€Œæ˜¯åœ¨ fork çš„å­è¿›ç¨‹ä¸­å¼‚æ­¥æ‰§è¡Œã€‚</p>
<p>æˆ‘ä»¬çš„æ–¹æ¡ˆæ ¸å¿ƒæµç¨‹åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼šæ•°æ®å¤åˆ¶ï¼Œå½’å±æƒåˆ‡æ¢ï¼Œæ•°æ®æ¸…ç†ï¼Œå¦‚å›¾7æ‰€ç¤ºã€‚ä½†ä¸ºäº†ä¿éšœæ–¹æ¡ˆçš„æˆåŠŸç‡ï¼Œæˆ‘ä»¬è¿˜ä¸“é—¨åœ¨æ­£å¼æµç¨‹å‘èµ·å‰ï¼ŒåŠ äº†ä¸€ä¸ªå®¹é‡ä¼°ç®—çš„é˜¶æ®µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93afd6f866f24b6c99c6eac95a75fd46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=b2L7orQ6NbwBrPV0IE9oEPl7nAY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â–²å›¾7. è…¾è®¯äº‘ slot åŸå­åŒ–è¿ç§»æ–¹æ¡ˆ -- æ ¸å¿ƒæµç¨‹</p>
<h5 data-id="heading-30">a. å®¹é‡ä¼°ç®—</h5>
<p>æ‰€è°“å®¹é‡ä¼°ç®—ï¼Œå°±æ˜¯é¢„å…ˆå¯¹è¦æ¬è¿çš„Â slotÂ æ‰€å æ®çš„å†…å­˜å®¹é‡è¿›è¡Œä¼°ç®—ã€‚æœ‰äº†è¿™ä¸€æ­¥ï¼Œå°±ä¸ä¼šç­‰æ¬è¿è¿›è¡Œåˆ°ä¸€åŠçš„æ—¶å€™æ‰çªç„¶å‘ç°ç›®æ ‡èŠ‚ç‚¹æ ¹æœ¬æ”¾ä¸ä¸‹è¿™äº›slotï¼Œå°±èƒ½é¿å…å›æ»šç­‰é¢å¤–å¼€é”€ã€‚å¯¹äºæ¯ä¸ª slot çš„æ•°æ®åˆ†å¸ƒéå¸¸å‡åŒ€çš„ä¸šåŠ¡æ¥è¯´ï¼Œè¿™ä¸ªæ­¥éª¤æ˜¯æ²¡å¿…è¦çš„ï¼Œç›´æ¥ç”¨èŠ‚ç‚¹æ€»å®¹é‡é™¤ä»¥ slot æ•°å³å¯å¾—åˆ° slot çš„å¤§è‡´å®¹é‡ï¼›ä½†å› ä¸ºå¤æ‚ç»“æ„çš„å­˜åœ¨ï¼Œå¯¹å¾ˆå¤šä¸šåŠ¡æ¥è¯´ï¼Œä¸åŒ key çš„å¤§å°å·®å¼‚å¯èƒ½æ˜¯å¾ˆå·¨å¤§çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªæ›´ç»†ç²’åº¦çš„ slot å®¹é‡ä¼°ç®—æ–¹æ¡ˆå°±å¾ˆå¿…è¦äº†ã€‚</p>
<p>æˆ‘ä»¬çš„å®¹é‡ä¼°ç®—å®ç°ä¹Ÿå¾ˆç®€å•ï¼Œå®¢æˆ·ç«¯é€šè¿‡Â STARTSLOTCALC å‘½ä»¤å‘èµ·ä¸€ä¸ªå¼‚æ­¥çš„è®¡ç®—ä»»åŠ¡ï¼Œå®ƒä¼šåœ¨ Redis æ¯æ¬¡è¿è¡Œå‘¨æœŸä»»åŠ¡çš„æ—¶å€™ï¼Œåˆ†å‡ºä¸€äº›æ—¶é—´ç‰‡ï¼Œæ ¹æ® slots_to_keys æ¸è¿›åœ°éå†æŒ‡å®š slot ä¸­çš„æ¯ä¸ª key ï¼Œç´¯åŠ å®ƒä»¬çš„é•¿åº¦ã€‚éå†ä¸­ï¼Œå¯¹äº string ç±»å‹ï¼Œ value é•¿åº¦å¯ç›´æ¥è·å–ï¼›è€Œå¯¹äºå¤æ‚ç»“æ„ç±»å‹ï¼Œä¼šé€šè¿‡ç±»ä¼¼MEMORY USAGEåº•å±‚çš„å®ç°æ–¹å¼ï¼ŒåŸºäºé‡‡æ ·ä¼°ç®— value çš„æ€»é•¿åº¦ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯ä¼šé€šè¿‡ GETSLOTCALCSTATÂ å‘½ä»¤è½®è¯¢ï¼Œè·å–ä¼°ç®—çš„è¿›åº¦ã€‚</p>
<h5 data-id="heading-31">b. æ•°æ®å¤åˆ¶</h5>
<p>è¿™é‡Œçš„æ•°æ®å¤åˆ¶ï¼Œåªæ˜¯é’ˆå¯¹ç‰¹å®šÂ slotÂ ï¼Œå°†è¿™äº›Â slotÂ çš„æ•°æ®ä»æºèŠ‚ç‚¹æ¬è¿åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬çš„æ–¹æ¡ˆå’Œå‰é¢ä¸¤ä¸ªä¸šç•Œæ–¹æ¡ˆç›¸æ¯”èµ·æ¥æœ€å¤§çš„ä¸åŒã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œç›®æ ‡èŠ‚ç‚¹ä¼šé’ˆå¯¹æŒ‡å®šçš„ slot èŒƒå›´(æœ€å°‘1ä¸ª)ï¼Œå‘èµ· slot replication æµç¨‹ã€‚å…¶ä¸»è¦æµç¨‹å¦‚å›¾8-1æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/046acdfa2ab64495b2fadd8a028c9646~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=LwaP9O9AYYOQwgtPbgPuDB1ssho%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â–²å›¾8-1. è…¾è®¯äº‘ slot åŸå­åŒ–è¿ç§»æ–¹æ¡ˆåŸç† -- slot replication</p>
<p>ä¸ºäº†å‡å°‘å¼€å‘ä»£ä»·ï¼Œå¹¶å‡å°‘åç»­ç‰ˆæœ¬çš„ç§»æ¤éš¾åº¦ï¼Œæˆ‘ä»¬çš„ slot replication å¤§é‡å¤ç”¨äº† Redis åŸç”Ÿ replication æœºåˆ¶çš„ä»£ç å®ç°ï¼Œå¹¶ä¸»è¦åšäº†å¦‚ä¸‹æ”¹åŠ¨ï¼š</p>
<p>1.Â ç›®æ ‡èŠ‚ç‚¹å‘é€ç»™æºèŠ‚ç‚¹çš„æ˜¯æ”¹é€ è¿‡çš„Â SYNC å‘½ä»¤ï¼Œå¯ä»¥æŒ‡å®šslotèŒƒå›´ã€‚</p>
<p>2.Â æºèŠ‚ç‚¹çš„å¤åˆ¶è¿æ¥å¯¹è±¡ä¸­å¢åŠ äº†ç›¸åº”çš„å­—æ®µï¼Œä¿å­˜æŒ‡å®šçš„slotèŒƒå›´ã€‚</p>
<p>3.Â æºèŠ‚ç‚¹Â fork ç”Ÿæˆ RDB çš„æ—¶å€™ï¼ŒrdbSaveInfo ä¹Ÿä¼šæºå¸¦Â slot èŒƒå›´ä¿¡æ¯ï¼Œè¿™ä¸ªå…³é”®ä¿¡æ¯ä¼šè®©å­è¿›ç¨‹éå†æ•°æ®çš„æ—¶å€™ï¼Œç”±éå†ä¸»å­—å…¸æ”¹ä¸ºéå†ç‰¹å®š slot çš„Â slot_to_keys ç»“æ„ï¼Œè®© RDB ä¸­åªæœ‰æŒ‡å®š slot èŒƒå›´çš„æ•°æ®ï¼Œå¦å¤–è¿˜ä¼šé™„å¸¦æºèŠ‚ç‚¹ä¸Šæ‰€æœ‰çš„Â LUAÂ è„šæœ¬ï¼Œè¿™ä¸ªç‰¹æ®Šçš„RDBæˆ‘ä»¬ç§°ä¹‹ä¸º slot RDB ã€‚</p>
<p>4.Â æºèŠ‚ç‚¹å‘ç›®æ ‡èŠ‚ç‚¹ä¼ æ’­å¢é‡å‘½ä»¤çš„æ—¶å€™ï¼Œä¹Ÿä¼šåŸºäºæ£€æŸ¥å¤åˆ¶è¿æ¥å¯¹è±¡ä¸­çš„ä¸Šä¸‹æ–‡ï¼Œå¦‚æœæ˜¯æŒ‡å®šäº† slot èŒƒå›´ï¼Œé‚£å°±åŸºäºå‘½ä»¤çš„ key åšè¿‡æ»¤ï¼Œåªä¼ æ’­æŒ‡å®š slot èŒƒå›´çš„å¢é‡å‘½ä»¤ã€‚</p>
<p>5.Â ç›®æ ‡èŠ‚ç‚¹å¯èƒ½è¦åŠ è½½æ¥è‡ªä¸åŒæºèŠ‚ç‚¹çš„å¤šä¸ª slot RDB ï¼Œæ‰€ä»¥åŠ è½½å‰ä¸ä¼šæ¸…ç©ºå·²æœ‰æ•°æ®ã€‚</p>
<h5 data-id="heading-32">c. å½’å±æƒåˆ‡æ¢</h5>
<p>è¿™é‡Œçš„å½’å±æƒåˆ‡æ¢ï¼Œæ˜¯å°†è¿™äº›å·²æ¬è¿æ•°æ®çš„Â slotÂ çš„å½’å±æƒä»æºèŠ‚ç‚¹åˆ‡æ¢åˆ°ç›®æ ‡èŠ‚ç‚¹ã€‚è¿™é‡Œé¢å¤–è¡¥å……ä¸€å¥ï¼Œåœ¨è¿™ä¸ªåˆ‡æ¢æ“ä½œä¹‹å‰ï¼ŒæºèŠ‚ç‚¹ä¸Šæ˜¯ä¸€ç›´æœ‰è¿™äº›Â slotÂ çš„å…¨é‡æ•°æ®çš„ï¼Œä¸šåŠ¡å¯¹è¿™äº›Â slotÂ çš„è®¿é—®å…¨éƒ¨æ‰“å‘æºèŠ‚ç‚¹å³å¯ï¼Œå®Œå…¨ä¸éœ€è¦ç±»ä¼¼Â ASKÂ è¿™ç§ä¸´æ—¶é‡å®šå‘æœºåˆ¶ã€‚</p>
<p>ä¸ºäº†æ»¡è¶³ç›®æ ‡èŠ‚ç‚¹å’ŒæºèŠ‚ç‚¹ä¹‹é—´å®Œå…¨çš„æ•°æ®ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬å€Ÿé‰´ Redis åŸç”Ÿçš„ manual failover æœºåˆ¶å®ç°äº†é’ˆå¯¹ slot å½’å±æƒåˆ‡æ¢åœºæ™¯çš„ slot failover æœºåˆ¶ï¼Œå…¶ä¸»è¦æµç¨‹å¦‚å›¾8-2æ‰€ç¤ºï¼š</p>
<p>1.Â ç­‰å¾…ç›®æ ‡èŠ‚ç‚¹å’ŒæºèŠ‚ç‚¹çš„å·®å¼‚è¶³å¤Ÿå°ï¼Œç»™ç›®æ ‡èŠ‚ç‚¹å‘é€ CLUSTER SLOTFAILOVER å‘½ä»¤ï¼Œå‘èµ·åˆ‡æ¢ä»»åŠ¡ï¼›</p>
<p>2.Â ç›®æ ‡èŠ‚ç‚¹ç»™æºèŠ‚ç‚¹å‘èµ·åˆ‡æ¢è¯·æ±‚ï¼›</p>
<p>3.Â æºèŠ‚ç‚¹ä¸´æ—¶é˜»å¡æ‰€æœ‰å®¢æˆ·ç«¯ï¼Œå°†å¤åˆ¶åç§»é‡å‘ç»™ç›®æ ‡èŠ‚ç‚¹ï¼›</p>
<p>4.Â ç›®æ ‡èŠ‚ç‚¹ç¡®è®¤è‡ªèº«å¤åˆ¶åç§»é‡å·²å’ŒæºèŠ‚ç‚¹å¯¹é½ï¼Œå…ˆè‡ªå¢ epoch ï¼Œè®¾ç½®æŒ‡å®š slot çš„å½’å±æƒå±äºè‡ªå·±ï¼Œå¹¶å¹¿æ’­é€šçŸ¥å…¶ä½™èŠ‚ç‚¹ï¼›Â </p>
<p>5.Â æºèŠ‚ç‚¹æ”¶åˆ° slot å½’å±æƒå·²åˆ‡æ¢çš„é€šçŸ¥ï¼Œè§£é™¤é˜»å¡ï¼Œå°†æŒ‡å®š slot çš„è¯·æ±‚é‡å®šå‘åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œåªå¤„ç†å‰©ä½™çš„é‚£äº›å½’å±æƒä»ä¸ºè‡ªèº«çš„ slot è¯·æ±‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb20eae330ef469b8757f9773e9ed472~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=oU5tb9qUik%2BXXQkpz6tTqVc0mes%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>â–²å›¾8-2. è…¾è®¯äº‘ slot åŸå­åŒ–è¿ç§»æ–¹æ¡ˆåŸç† -- slot failover</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œslot failover å’Œ Redis åŸç”Ÿçš„ manual failover å¾ˆåƒï¼ŒåŒºåˆ«åœ¨äº slot failover åªè·å–æºèŠ‚ç‚¹ä¸€éƒ¨åˆ† slot çš„å½’å±æƒï¼ŒæºèŠ‚ç‚¹è§’è‰²è¿˜æ˜¯ master ï¼Œä»æ—§è´Ÿè´£å‰©ä½™çš„ slot ã€‚</p>
<h5 data-id="heading-33">d. æ•°æ®æ¸…ç†</h5>
<p>è¿™é‡Œä¸ºå•¥è¿˜éœ€è¦åšæ•°æ®æ¸…ç†å‘¢ï¼ŸåŸå› åœ¨äºï¼Œè¿™äº› slot çš„å½’å±æƒåˆ‡æ¢åˆ°ç›®æ ‡èŠ‚ç‚¹åï¼ŒæºèŠ‚ç‚¹ä¸Šè¿™äº›slotçš„æ•°æ®å°±å˜æˆæ— æ•ˆçš„äº†ï¼ŒæºèŠ‚ç‚¹ä¸Šè¿™äº› slotÂ ä¼šè¢«æ ‡è®°ä¸º dirty ï¼Œæ”¾åœ¨ä¸€ä¸ªé˜Ÿåˆ—é‡Œï¼Œè¿™äº›Â dirtyslot çš„æ•°æ®éœ€è¦æ¸…ç†ä»¥é‡Šæ”¾æºèŠ‚ç‚¹çš„ç©ºé—´ã€‚</p>
<p>æˆ‘ä»¬åœ¨ Redis çš„Â serverCron ä¸­åŠ äº†ä¸€ä¸ªåå°ä»»åŠ¡ï¼Œå®ƒä¼šå‘¨æœŸè¿è¡Œï¼Œæ¯æ¬¡å–å‡º dirty slot é˜Ÿåˆ—å¤´éƒ¨çš„ slot ï¼Œæ ¹æ® slots_to_keys æ¸è¿›åœ°æ‘˜é™¤å…¶ä¸­çš„ key ï¼Œå®é™…åˆ  key çš„æ—¶å€™ï¼Œå¯¹äºå° key ä¼šç›´æ¥åˆ é™¤ï¼Œä½†å¯¹äºå¤§ key ä¼šè°ƒç”¨ lazy free çš„ç›¸å…³æ¥å£ï¼Œè½¬åˆ° BIO çº¿ç¨‹å»å®é™…é‡Šæ”¾å†…å­˜ï¼Œé¿å…é˜»å¡ä¸šåŠ¡è¯·æ±‚ã€‚å½“ä¸€ä¸ª dirty slot ä¸­çš„æ‰€æœ‰keyéƒ½è¢«åˆ é™¤åï¼Œæ¸…ç†ä»»åŠ¡ä¼šæŠŠå®ƒä» dirty slot é˜Ÿåˆ—ä¸­ç§»é™¤ï¼Œä¸‹ä¸ªå‘¨æœŸç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ª slot ï¼Œç›´åˆ° dirty slot é˜Ÿåˆ—ä¸ºç©ºã€‚ä¸ºäº†å‡å°‘æ¸…ç†è¿‡ç¨‹å¯¹ä¸šåŠ¡è¯·æ±‚çš„å½±å“ï¼Œæ¯ä¸ªå‘¨æœŸæˆ‘ä»¬éƒ½ä¼šä¸¥æ ¼é™åˆ¶æ¸…ç†ä»»åŠ¡å ç”¨çš„æ—¶é—´ç‰‡ã€‚</p>
<h3 data-id="heading-34">3.2 è…¾è®¯äº‘ slot åŸå­åŒ–è¿ç§»æ–¹æ¡ˆä¸å…¶ä»–æ–¹æ¡ˆçš„å¯¹æ¯”</h3>
<p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†äº‘ä¸Šè‡ªç ”çš„Â Redisslot åŸå­åŒ–è¿ç§»æ–¹æ¡ˆï¼Œä¸€ä¸ªå¯¹ä¸šåŠ¡æ— æŸä¸”çµæ´»çš„æ–¹æ¡ˆã€‚ç›¸æ¯”ç¤¾åŒºåŸç”Ÿæ–¹æ¡ˆå’Œä¸šç•Œçš„å¦å¤–ä¸¤ä¸ªæ–¹æ¡ˆï¼Œæˆ‘ä»¬çš„å®Œç¾è§£å†³äº†å®ƒä»¬çš„æ‰€æœ‰ç—›ç‚¹ï¼Œåœ¨å„ä¸ªç»´åº¦ä¸Šçš„è¡¨ç°éƒ½å ªç§°ä¼˜ç§€ï¼</p>
<ul>
<li>åœ¨ä¸šåŠ¡å¯ç”¨æ€§å½±å“æ–¹é¢ï¼ŒæºèŠ‚ç‚¹çš„æ•°æ®æ‰«æå’Œåºåˆ—åŒ–éƒ½åœ¨Â forkÂ çš„å­è¿›ç¨‹ä¸­è¿›è¡Œï¼Œæ²¡æœ‰å¤§ key é˜»å¡é—®é¢˜ï¼›slotÂ RDBÂ ä¸­ä¼šæºå¸¦LUAè„šæœ¬ï¼Œä¸ä¼šæœ‰ LUA è¯·æ±‚å¼‚å¸¸ï¼›Â slotÂ æ•°æ®æ¬è¿æ˜¯åŸå­åŒ–çš„ï¼Œä¸ä¼šæœ‰å¤š keyÂ è¯·æ±‚å¼‚å¸¸ï¼›Â slot æ‰€æœ‰æƒåˆ‡æ¢çš„æ—¶å€™ï¼Œåªéœ€è¦ä¸€ä¸ªç±»ä¼¼ä¸»ä»åˆ‡æ¢çš„äºšç§’çº§é˜»å¡ï¼Œä¸éœ€è¦åˆ†é’Ÿçº§åœå†™(æ—è·¯è¿ç§»æ–¹æ¡ˆéœ€è¦)ã€‚</li>
<li>åœ¨ä¸šåŠ¡æ€§èƒ½å½±å“æ–¹é¢ï¼Œå…¨ç¨‹æ²¡æœ‰Â ASKÂ é‡å®šå‘ï¼Œä¸ä¼šæœ‰ç½‘ç»œè·³æ•°å¢åŠ å¸¦æ¥çš„æ—¶å»¶å¢å¤§é—®é¢˜ï¼›Â slotÂ æ‰€æœ‰æƒåˆ‡æ¢å‰ï¼Œä¸šåŠ¡è¯·æ±‚éƒ½è®¿é—®æºèŠ‚ç‚¹ï¼Œè€ŒæºèŠ‚ç‚¹ä¸»çº¿ç¨‹ä¸ç®¡æ•°æ®æ¬è¿ï¼Œå…¨åŠ›å¤„ç†ä¸šåŠ¡è¯·æ±‚ï¼ŒÂ QPS ä¸å—å½±å“ï¼›Â slot æ‰€æœ‰æƒåˆ‡æ¢åï¼ŒæºèŠ‚ç‚¹ä¼šæœ‰å¼‚æ­¥æ¸…ç†ä»»åŠ¡ï¼Œä½†å› ä¸ºé™å†…å­˜æ²¡æœ‰å‡æ€§èƒ½ç´§æ€¥ï¼Œé™æµå¯ä»¥åšå¾—æ›´ä¸¥æ ¼ï¼Œå¦å¤–ä¹Ÿä¼šç”¨Â lazy freeÂ åŠŸèƒ½è§„é¿å¤§Â keyÂ åˆ é™¤çš„å¡é¡¿ï¼Œæ•´ä½“å½±å“å¯æ§ã€‚</li>
<li>åœ¨æ–¹æ¡ˆçš„å¥å£®æ€§æ–¹é¢ï¼ŒæºèŠ‚ç‚¹æˆ–ç›®æ ‡èŠ‚ç‚¹å§‹ç»ˆæœ‰å…¨é‡çš„æ•°æ®ï¼Œä¸­æ–­å¤„ç†æ–¹ä¾¿ï¼›æ²¡æœ‰é‚£ä¹ˆå¤æ‚çš„è¿ç§»çŠ¶æ€ï¼Œæ²¡æœ‰çŠ¶æ€ä¸¢å¤±é—®é¢˜å’ŒçŠ¶æ€ä¹±åºé—®é¢˜ã€‚</li>
<li>åœ¨æ–¹æ¡ˆçš„çµæ´»æ€§æ–¹é¢ï¼Œåªè¦ç›®æ ‡èŠ‚ç‚¹å†…å­˜å®¹é‡æ”¾å¾—ä¸‹ï¼Œç›®æ ‡åˆ†ç‰‡æ•°æ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚</li>
<li>åœ¨æ–¹æ¡ˆçš„é€Ÿåº¦æ–¹é¢ï¼Œå› ä¸ºæ•°æ®æ¬è¿æ˜¯æ•´ä½“æ‰“åŒ…æˆÂ slotÂ RDBÂ ä¼ è¾“ï¼Œä¸”æ¬è¿ä¸­ç›®æ ‡èŠ‚ç‚¹ä¸å¤„ç†ä¸šåŠ¡è¯·æ±‚ï¼Œå¯ä»¥å…¨åŠ›åŠ è½½ slot RDB ä¸å›æ”¾å¢é‡ slot å‘½ä»¤ï¼Œé€Ÿåº¦æ¯”èµ·é€ä¸ªæ¬Â keyÂ ä¼šå¿«å¾ˆå¤šï¼›è€Œä¸”ç›¸æ¯”èŠ‚ç‚¹åˆ†è£‚æ–¹æ¡ˆï¼Œåªä¼ è¾“éœ€è¦è¿ç§»Â slotÂ çš„æ•°æ®ï¼Œæ•°æ®é‡å°‘é€Ÿåº¦ä¼šæ›´å¿«ã€‚</li>
<li>åœ¨æ–¹æ¡ˆçš„é¢å¤–æˆæœ¬æ–¹é¢ï¼Œå®¢æˆ·æ‰©å®¹éœ€è¦æ‰©å‡ ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬çš„æ–¹æ¡ˆå°±æ–°æ‹‰èµ·å‡ ä¸ªèŠ‚ç‚¹ï¼Œä¸ç”¨åƒæ—è·¯è¿ç§»æ–¹æ¡ˆä¸€æ ·åŒæ—¶ç»´æŠ¤æ–°è€ä¸¤ä¸ªé›†ç¾¤ï¼Œæ²¡æœ‰é¢å¤–æœºå™¨æˆæœ¬ã€‚</li>
<li>åœ¨æ–¹æ¡ˆçš„å¤–éƒ¨ä¾èµ–æ–¹é¢ï¼Œæˆ‘ä»¬çš„æ–¹æ¡ˆå†…æ ¸è‡ªé—­ç¯ï¼Œä¸ä¼šå¼•å…¥å¤–éƒ¨ç»„ä»¶ï¼Œæ¶æ„å¤æ‚åº¦ä½ã€‚</li>
</ul>
<p>æˆ‘ä»¬æŠŠäº‘ä¸Šè‡ªç ”æ–¹æ¡ˆå’Œä¸šç•Œå…¶ä»–å‡ ä¸ªæ–¹æ¡ˆçš„è¯¦ç»†å¯¹æ¯”ç»“æœæ€»ç»“åˆ°äº†ä¸€å¼ è¡¨ï¼Œå¦‚è¡¨1æ‰€ç¤ºï¼š</p>
<p><strong>è¡¨1. è…¾è®¯äº‘ slot åŸå­åŒ–è¿ç§»æ–¹æ¡ˆä¸ä¸šç•Œå…¶ä»–æ–¹æ¡ˆçš„å¯¹æ¯”</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1c009b608ed4cf1ad93dae6ed00b10c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5pWw5o2u5bqT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663007&amp;x-signature=75DOz6EwaUgKyXCv6DI3ukSDr3I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-35">3.3 è…¾è®¯äº‘å°†Â slot åŸå­åŒ–è¿ç§»æ–¹æ¡ˆè´¡çŒ®ç»™å¼€æºç¤¾åŒº</h3>
<p>æˆ‘ä»¬è‡ªç ”çš„Â slot åŸå­åŒ–è¿ç§»æ–¹æ¡ˆï¼Œè§£å†³äº†é•¿æœŸä»¥æ¥å›°æ‰° Redis ç”¨æˆ·çš„æ°´å¹³æ‰©ç¼©å®¹éš¾é¢˜ï¼Œå®ç°äº†çœŸæ­£æ„ä¹‰ä¸Šçš„å¹³æ»‘ä¼¸ç¼©ã€‚è¯¥æ–¹æ¡ˆè‡ªä¸Šçº¿åï¼Œå·²å¹¿æ³›æœåŠ¡äºè…¾è®¯é›†å›¢çš„å†…éƒ¨å®¢æˆ·å’Œå…¬æœ‰äº‘ä¸Šçš„å¤–éƒ¨å®¢æˆ·ï¼Œç»å†äº†å¤§è§„æ¨¡å®è·µçš„æ£€éªŒï¼Œç¨³å®šæ€§æœ‰ä¿éšœã€‚</p>
<p>ä½œä¸ºå¼€æºç¤¾åŒºçš„å—ç›Šè€…ä¹‹ä¸€ï¼Œæˆ‘ä»¬æ·±çŸ¥ä¼—äººæ‹¾æŸ´ç«ç„°é«˜çš„é“ç†ï¼Œå¼€æºç¤¾åŒºçš„ç¹è£ä¾èµ–äºç”Ÿæ€ä¸­çš„æ¯ä¸€ä¸ªäººå’Œç»„ç»‡èƒ½å¤Ÿç§¯æå‚ä¸ã€‚æˆ‘ä»¬å›¢é˜Ÿçš„æœ±å½¬å½¬åŒå­¦(æœ±å½¬å½¬åŒå­¦Â GitHub ä¸»é¡µï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fenjoy-binbin" target="_blank" title="https://github.com/enjoy-binbin" ref="nofollow noopener noreferrer">github.com/enjoy-binbiâ€¦</a>) è¿ç»­å¤šå¹´åœ¨Redisé¡¹ç›®è¸Šè·ƒæäº¤ä»£ç ï¼Œé•¿æœŸéƒ½æ˜¯Redisç¤¾åŒºæœ€æ´»è·ƒçš„è´¡çŒ®è€…ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯ Redis é¡¹ç›®çš„Â committer æˆå‘˜ï¼›åœ¨2024å¹´ Redis ä¿®æ”¹å¼€æºè®¸å¯è¯åï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯åŠ å…¥äº†linuxåŸºé‡‘ä¼šå‘èµ·çš„æ›¿ä»£é¡¹ç›® ValKey ï¼Œæ˜¯æ–°é¡¹ç›®çš„å‘èµ·å›¢é˜Ÿä¹‹ä¸€ï¼Œå½¬å½¬åŒå­¦ç›®å‰ä¹Ÿæ˜¯ ValKey é¡¹ç›®çš„Â core team æˆå‘˜ã€‚</p>
<p>æ—©åœ¨24å¹´è§„åˆ’çš„Â ValKey9.0 road map ä¸­ï¼Œæˆ‘ä»¬å°±å¼€å§‹æ¨åŠ¨ç¤¾åŒºå¢åŠ slotåŸå­åŒ–è¿ç§»çš„ç›¸å…³åŠŸèƒ½ï¼Œå¹¶åœ¨ä»Šå¹´å¹´åˆï¼Œæˆ‘ä»¬å°†å†…éƒ¨æ–¹æ¡ˆå¼€æºï¼Œå¹¶è”åˆè°·æ­Œäº‘(GCP)çš„åŒå­¦ä¸€èµ·åˆä½œï¼Œå®Œå–„è¿™ä¸ªæ–¹æ¡ˆä»¥é€‚é…ç¤¾åŒºç›¸å¯¹äº‘ä¸Šä¸ä¸€æ ·çš„è¦æ±‚ã€‚</p>
<p>ç›®å‰ï¼Œè¿™ä¸ªPR (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvalkey-io%2Fvalkey%2Fpull%2F1949)%25C2%25A0%25E5%25B7%25B2%25E7%25BB%258F%25E5%2590%2588%25E5%2585%25A5%25C2%25A0Valkey%25C2%25A0%25E4%25BB%25A3%25E7%25A0%2581%25E4%25B8%25BB%25E5%25B9%25B2%25EF%25BC%258C%25E5%25B9%25B6%25E4%25BD%259C%25E4%25B8%25BAValkey9.0%25E6%259C%2580%25E9%2587%258D%25E8%25A6%2581%25E7%259A%2584%25E5%258A%259F%25E8%2583%25BD%25E4%25BC%2598%25E5%258C%2596%25E4%25B9%258B%25E4%25B8%2580%25EF%25BC%258C%25E9%259A%258F%25E7%259D%2580%25C2%25A0RC1" target="_blank" title="https://github.com/valkey-io/valkey/pull/1949)%C2%A0%E5%B7%B2%E7%BB%8F%E5%90%88%E5%85%A5%C2%A0Valkey%C2%A0%E4%BB%A3%E7%A0%81%E4%B8%BB%E5%B9%B2%EF%BC%8C%E5%B9%B6%E4%BD%9C%E4%B8%BAValkey9.0%E6%9C%80%E9%87%8D%E8%A6%81%E7%9A%84%E5%8A%9F%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%8B%E4%B8%80%EF%BC%8C%E9%9A%8F%E7%9D%80%C2%A0RC1" ref="nofollow noopener noreferrer">github.com/valkey-io/vâ€¦</a> äºä»Šå¹´8.15æ­£å¼é¢å‘æ‰€æœ‰ç”¨æˆ·å‘å¸ƒã€‚æˆ‘ä»¬ä¹Ÿå¸Œæœ›ï¼Œæœ‰æ›´å¤šçš„ç”¨æˆ·å¯ä»¥åœ¨æ–°ç‰ˆæœ¬ä¸­ä½“éªŒåˆ°è¿™ä¸€æ”¹è¿›ï¼Œè®©Â RedisÂ çš„æ°´å¹³æ‰©ç¼©å®¹éš¾é¢˜ä¸å†æˆä¸ºä¸šåŠ¡å‘å±•çš„ç“¶é¢ˆï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript ä¸­çš„ Symbolï¼šç‰¹æ€§ä¸å®æˆ˜åº”ç”¨]]></title>    <link>https://juejin.cn/post/7576483553878540314</link>    <guid>https://juejin.cn/post/7576483553878540314</guid>    <pubDate>2025-11-25T08:13:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576483553878540314" data-draft-id="7576483553878376474" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript ä¸­çš„ Symbolï¼šç‰¹æ€§ä¸å®æˆ˜åº”ç”¨"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-11-25T08:13:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="3ç§’ä¸€ä¸ªå¤§"/> <meta itemprop="url" content="https://juejin.cn/user/2373184444182659"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript ä¸­çš„ Symbolï¼šç‰¹æ€§ä¸å®æˆ˜åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2373184444182659/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    3ç§’ä¸€ä¸ªå¤§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:13:54.000Z" title="Tue Nov 25 2025 08:13:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScript ä¸­çš„ Symbolï¼šç‰¹æ€§ä¸å®æˆ˜åº”ç”¨</h2>
<p>åœ¨ JavaScript çš„ä¸–ç•Œé‡Œï¼Œæ•°æ®ç±»å‹æ˜¯æ„å»ºä¸€åˆ‡çš„åŸºç¡€ã€‚ES6 çš„å‡ºç°ä¸ºæˆ‘ä»¬å¸¦æ¥äº†ä¸¤ç§æ–°çš„ç®€å•æ•°æ®ç±»å‹ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯ Symbolã€‚æœ¬æ–‡å°†ç»“åˆå®ä¾‹ï¼Œè¯¦ç»†è§£æ Symbol çš„ç‰¹æ€§ã€ç”¨æ³•åŠå®é™…ä»·å€¼ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€Symbol æ˜¯ä»€ä¹ˆï¼Ÿæ•°æ®ç±»å‹çš„æ–°æˆå‘˜</h3>
<p>JavaScript å…±æœ‰ 8 ç§æ•°æ®ç±»å‹ï¼Œå¯åˆ†ä¸º "ç®€å•æ•°æ®ç±»å‹" å’Œ "å¤æ‚æ•°æ®ç±»å‹" ä¸¤å¤§ç±»ï¼š</p>
<ul>
<li>
<p>å¤æ‚æ•°æ®ç±»å‹ï¼šä»…<code>object</code>ä¸€ç§</p>
</li>
<li>
<p>ç®€å•æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li>ä¼ ç»Ÿç±»å‹ï¼š<code>number</code>ã€<code>boolean</code>ã€<code>string</code>ã€<code>null</code>ã€<code>undefined</code></li>
<li>ES6 æ–°å¢ï¼š<code>bigint</code>ï¼ˆå¤§æ•°ï¼‰ã€<code>symbol</code>ï¼ˆç¬¦å·ï¼‰</li>
</ul>
</li>
</ul>
<p>Symbol çš„æ ¸å¿ƒå®šä¹‰æ˜¯ï¼š<strong>ä¸€ç§ç‹¬ä¸€æ— äºŒçš„å€¼</strong>ï¼Œå®ƒçš„å‡ºç°ä¸»è¦æ˜¯ä¸ºäº†è§£å†³å¯¹è±¡å±æ€§åå†²çªçš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-2">äºŒã€Symbol çš„å£°æ˜æ–¹å¼</h3>
<p>Symbol é€šè¿‡<code>Symbol()</code>å‡½æ•°å£°æ˜ï¼ˆæ³¨æ„ï¼šè™½ç„¶ä½¿ç”¨å‡½æ•°å½¢å¼ï¼Œä½†å®ƒæ˜¯ç®€å•æ•°æ®ç±»å‹ï¼Œè€Œéå¯¹è±¡ï¼‰ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// åŸºæœ¬å£°æ˜
const <span class="hljs-attr">sym</span> = Symbol()<span class="hljs-comment">;</span>
// å¸¦æè¿°ç¬¦çš„å£°æ˜ï¼ˆæè¿°ç¬¦ä»…ç”¨äºæ ‡è¯†ï¼Œä¸å½±å“å”¯ä¸€æ€§ï¼‰
const <span class="hljs-attr">symWithDesc</span> = Symbol(<span class="hljs-string">'è¿™æ˜¯ä¸€ä¸ªæè¿°'</span>)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ä»£ç ç¤ºä¾‹è§£æï¼ˆsymbol/1.jsï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å£°æ˜ä¸¤ä¸ªSymbolç±»å‹å˜é‡</span>
<span class="hljs-keyword">const</span> id1 = <span class="hljs-title class_">Symbol</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> id1); <span class="hljs-comment">// è¾“å‡ºï¼š"symbol"ï¼Œè¯æ˜æ˜¯ç®€å•æ•°æ®ç±»å‹</span>

<span class="hljs-keyword">const</span> id2 = <span class="hljs-title class_">Symbol</span>();
<span class="hljs-comment">// æ ¸å¿ƒç‰¹æ€§ï¼šç‹¬ä¸€æ— äºŒï¼Œå³ä½¿æ— å‚æ•°ï¼Œä¸¤ä¸ªSymbolä¹Ÿä¸ç›¸ç­‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(id1 === id2); <span class="hljs-comment">// è¾“å‡ºï¼šfalse</span>
</code></pre>
<p>ä»ä»£ç å¯è§ï¼Œå³ä½¿ä¸¤ä¸ª Symbol å˜é‡æ²¡æœ‰ä»»ä½•å‚æ•°ï¼Œå®ƒä»¬ä¹Ÿç»å¯¹ä¸ç›¸ç­‰ï¼Œè¿™æ˜¯ Symbol æœ€æ ¸å¿ƒçš„ç‰¹æ€§ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€Symbol ä½œä¸ºå¯¹è±¡çš„å”¯ä¸€é”®ï¼šè§£å†³å‘½åå†²çª</h3>
<p>åœ¨å¤šäººåä½œå¼€å‘ä¸­ï¼Œå¯¹è±¡çš„åŠ¨æ€ç‰¹æ€§å¯èƒ½å¯¼è‡´å±æ€§åå†²çªï¼ˆåå®šä¹‰çš„å±æ€§ä¼šè¦†ç›–å…ˆå®šä¹‰çš„ï¼‰ã€‚è€Œ Symbol ä½œä¸ºå¯¹è±¡çš„é”®ï¼ˆkeyï¼‰æ—¶ï¼Œèƒ½å®Œç¾é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒæ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹è§£æï¼ˆsymbol/2.jsï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸¤ä¸ªæè¿°ç¬¦ç›¸åŒçš„Symbolï¼Œä¾ç„¶ä¸ç›¸ç­‰</span>
<span class="hljs-keyword">const</span> s1 = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'äºŒå“ˆ'</span>);
<span class="hljs-keyword">const</span> s2 = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'äºŒå“ˆ'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s1 === s2); <span class="hljs-comment">// è¾“å‡ºï¼šfalse</span>

<span class="hljs-comment">// å£°æ˜ä¸€ä¸ªç”¨äº"ç§˜å¯†ä¿¡æ¯"çš„Symbolé”®</span>
<span class="hljs-keyword">const</span> secretKey = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'secret'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(secretKey, <span class="hljs-string">'//////'</span>); <span class="hljs-comment">// è¾“å‡ºï¼šSymbol(secret) //////</span>

<span class="hljs-comment">// æ¼”ç¤ºSymbolä½œä¸ºå¯¹è±¡é”®çš„ä¼˜åŠ¿</span>
<span class="hljs-keyword">const</span> a = <span class="hljs-string">"ecut"</span>;
<span class="hljs-keyword">const</span> user = {
    [secretKey]: <span class="hljs-string">'111222'</span>, <span class="hljs-comment">// Symbolä½œä¸ºé”®ï¼Œé¿å…è¢«æ„å¤–è¦†ç›–</span>
    <span class="hljs-attr">email</span>: <span class="hljs-string">'123@qq.com'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'æ›¹ä»'</span>,
    <span class="hljs-string">"a"</span>: <span class="hljs-number">456</span>, <span class="hljs-comment">// å­—ç¬¦ä¸²é”®"a"</span>
    [a]: <span class="hljs-number">123</span>  <span class="hljs-comment">// å˜é‡aï¼ˆå€¼ä¸º"ecut"ï¼‰ä½œä¸ºé”®ï¼Œç­‰ä»·äº"ecut":123</span>
};

<span class="hljs-comment">// è®¿é—®å¯¹è±¡å±æ€§</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">ecut</span>, user[a]); <span class="hljs-comment">// è¾“å‡ºï¼š123 123ï¼ˆä¸¤ç§æ–¹å¼è®¿é—®åŒä¸€ä¸ªé”®ï¼‰</span>

<span class="hljs-comment">// æ™®é€šå­—ç¬¦ä¸²é”®å¯ä»¥è¢«ä¿®æ”¹</span>
user.<span class="hljs-property">email</span> = <span class="hljs-string">'ren@qq.com'</span>;
</code></pre>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>secretKey</code>ä½œä¸º Symbol é”®ï¼Œå³ä½¿å…¶ä»–å¼€å‘è€…åœ¨å¯¹è±¡ä¸­æ·»åŠ åŒåå­—ç¬¦ä¸²é”®ï¼Œä¹Ÿä¸ä¼šå½±å“å®ƒçš„å€¼ï¼Œç¡®ä¿äº†æ•°æ®çš„å®‰å…¨æ€§ã€‚</p>
<h3 data-id="heading-4">å››ã€Symbol é”®çš„ä¸å¯æšä¸¾æ€§ä¸è®¿é—®æ–¹å¼</h3>
<p>ä¸æ™®é€šå­—ç¬¦ä¸²é”®ä¸åŒï¼ŒSymbol ä½œä¸ºå¯¹è±¡çš„é”®æ—¶ï¼Œ<strong>ä¸ä¼šè¢«<code>for...in</code>å¾ªç¯æšä¸¾</strong>ï¼Œä¹Ÿä¸ä¼šè¢«<code>Object.keys()</code>ç­‰æ–¹æ³•è·å–ã€‚è¿™ä¸€ç‰¹æ€§è®© Symbol é”®é€‚åˆå­˜å‚¨ "ç§æœ‰" æˆ– "è¾…åŠ©" ä¿¡æ¯ã€‚</p>
<p>è‹¥è¦è®¿é—®å¯¹è±¡ä¸­çš„ Symbol é”®ï¼Œéœ€ä½¿ç”¨<code>Object.getOwnPropertySymbols()</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›å¯¹è±¡ä¸­æ‰€æœ‰ Symbol é”®ç»„æˆçš„æ•°ç»„ã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹è§£æ</strong> ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å£°æ˜ä¸¤ä¸ªSymbolå˜é‡</span>
<span class="hljs-keyword">const</span> wes = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'Wes'</span>);
<span class="hljs-keyword">const</span> person = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'Wes'</span>);
<span class="hljs-comment">// console.log(wes === person); // è¾“å‡ºï¼šfalseï¼ˆå³ä½¿æè¿°ç›¸åŒä¹Ÿä¸ç›¸ç­‰ï¼‰</span>

<span class="hljs-comment">// å®šä¹‰åŒ…å«Symbolé”®çš„å¯¹è±¡</span>
<span class="hljs-keyword">const</span> classRoom = {
    [<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'Mark'</span>)]: { <span class="hljs-attr">grade</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">gender</span>: <span class="hljs-string">'male'</span> },
    [<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'oliva'</span>)]: { <span class="hljs-attr">grade</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">gender</span>: <span class="hljs-string">'female'</span> },
    [<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'oliva'</span>)]: { <span class="hljs-attr">grade</span>: <span class="hljs-number">85</span>, <span class="hljs-attr">gender</span>: <span class="hljs-string">'female'</span> }, <span class="hljs-comment">// ä¸ä¼šè¦†ç›–å‰ä¸€ä¸ªolivaï¼Œå› ä¸ºæ˜¯ä¸åŒSymbol</span>
    <span class="hljs-string">"dl"</span>: [<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"æå››"</span>] <span class="hljs-comment">// æ™®é€šå­—ç¬¦ä¸²é”®</span>
};

<span class="hljs-comment">// 1. æµ‹è¯•for...inå¾ªç¯ï¼šä»…èƒ½æšä¸¾å­—ç¬¦ä¸²é”®</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> person <span class="hljs-keyword">in</span> classRoom) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person, <span class="hljs-string">'////'</span>); <span class="hljs-comment">// ä»…è¾“å‡ºï¼šdl ////</span>
}

<span class="hljs-comment">// 2. è·å–æ‰€æœ‰Symbolé”®</span>
<span class="hljs-keyword">const</span> syms = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertySymbols</span>(classRoom);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(syms); <span class="hljs-comment">// è¾“å‡ºï¼š[Symbol(Mark), Symbol(oliva), Symbol(oliva)]</span>

<span class="hljs-comment">// 3. è®¿é—®Symbolé”®å¯¹åº”çš„å€¼</span>
<span class="hljs-keyword">const</span> data = syms.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">sym</span> =&gt;</span> classRoom[sym]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data); 
<span class="hljs-comment">// è¾“å‡ºï¼š[</span>
<span class="hljs-comment">//   { grade: 50, gender: 'male' },</span>
<span class="hljs-comment">//   { grade: 80, gender: 'female' },</span>
<span class="hljs-comment">//   { grade: 85, gender: 'female' }</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<p>ä»£ç ä¸­ï¼Œ<code>classRoom</code>å¯¹è±¡åŒ…å« 3 ä¸ª Symbol é”®å’Œ 1 ä¸ªå­—ç¬¦ä¸²é”®ã€‚<code>for...in</code>å¾ªç¯ä»…èƒ½è·å–åˆ°å­—ç¬¦ä¸²é”®<code>dl</code>ï¼Œè€Œ<code>Object.getOwnPropertySymbols()</code>åˆ™èƒ½å‡†ç¡®è·å–æ‰€æœ‰ Symbol é”®ï¼Œå†é€šè¿‡æ˜ å°„å³å¯è®¿é—®å¯¹åº”çš„å€¼ã€‚</p>
<h3 data-id="heading-5">äº”ã€æ€»ç»“</h3>
<p>Symbol ä½œä¸º ES6 æ–°å¢çš„ç®€å•æ•°æ®ç±»å‹ï¼Œå‡­å€Ÿ "ç‹¬ä¸€æ— äºŒ" å’Œ "ä¸å¯æšä¸¾" çš„ç‰¹æ€§ï¼Œåœ¨å®é™…å¼€å‘ä¸­æœ‰ç€é‡è¦ä½œç”¨ï¼š</p>
<ol>
<li>ä½œä¸ºå¯¹è±¡é”®ï¼Œé¿å…å¤šäººåä½œæ—¶çš„å‘½åå†²çª</li>
<li>å­˜å‚¨ "ç§æœ‰" ä¿¡æ¯ï¼Œä¸è¢«å¸¸è§„æšä¸¾æ–¹æ³•è·å–</li>
<li>æè¿°ç¬¦ä»…ç”¨äºæ ‡è¯†ï¼Œä¸å½±å“å…¶å”¯ä¸€æ€§</li>
</ol>
<p>æŒæ¡ Symbol çš„ç”¨æ³•ï¼Œèƒ½è®©æˆ‘ä»¬åœ¨å¤„ç†å¯¹è±¡å±æ€§æ—¶æ›´åŠ çµæ´»ã€å®‰å…¨ï¼Œå°¤å…¶é€‚åˆå¤§å‹é¡¹ç›®å’Œå¤šäººåä½œåœºæ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«â€œç„å­¦â€è°ƒå‚ï¼šDSPy æ¡†æ¶å…¥é—¨ï¼Œè®© AI è‡ªåŠ¨ä¼˜åŒ– AI çš„æç¤ºè¯]]></title>    <link>https://juejin.cn/post/7576483553878556698</link>    <guid>https://juejin.cn/post/7576483553878556698</guid>    <pubDate>2025-11-25T08:17:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576483553878556698" data-draft-id="7576276707331555334" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«â€œç„å­¦â€è°ƒå‚ï¼šDSPy æ¡†æ¶å…¥é—¨ï¼Œè®© AI è‡ªåŠ¨ä¼˜åŒ– AI çš„æç¤ºè¯"/> <meta itemprop="keywords" content="åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-25T08:17:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‰ä¸ƒäº’å¨±åç«¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/257733502705339"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«â€œç„å­¦â€è°ƒå‚ï¼šDSPy æ¡†æ¶å…¥é—¨ï¼Œè®© AI è‡ªåŠ¨ä¼˜åŒ– AI çš„æç¤ºè¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/257733502705339/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‰ä¸ƒäº’å¨±åç«¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:17:18.000Z" title="Tue Nov 25 2025 08:17:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å‰è¨€ï¼šPrompt Engineering è¿˜æ˜¯â€œPrompt Alchemyâ€ï¼Ÿ</h2>
<p>åšè¿‡å¤§æ¨¡å‹å¼€å‘çš„åŒå­¦ï¼Œä¸€å®šç»å†è¿‡è¿™ç§å´©æºƒæ—¶åˆ»ï¼š</p>
<p>â—Â  ä¸ºäº†è®©æ¨¡å‹è¾“å‡º JSONï¼Œä½ åœ¨ Prompt é‡Œå†™äº†ä¸‰é "Do not output markdown"ã€‚</p>
<p>â—Â  ä¸ºäº†æé«˜å‡†ç¡®ç‡ï¼Œä½ æ‰‹åŠ¨å†™äº† 10 ä¸ª Few-shot ç¤ºä¾‹ï¼Œç»“æœæ¢äº†ä¸ªæ¨¡å‹ç‰ˆæœ¬ï¼Œæ•ˆæœå…¨å´©äº†ã€‚</p>
<p>â—Â  ä½ æ”¹äº† Prompt é‡Œçš„ä¸€ä¸ªå½¢å®¹è¯ï¼Œæ•´ä¸ªæ¨ç†é€»è¾‘çªç„¶å°±ä¸é€šäº†ã€‚</p>
<p>æˆ‘ä»¬è‡ªå˜²æ˜¯â€œPrompt Engineerâ€ï¼Œä½†å®é™…ä¸Šæ›´åƒæ˜¯â€œç‚¼ä¸¹å¸ˆâ€â€”â€”åœ¨é»‘ç›’å­é‡Œä¸æ–­è¯•é”™ï¼Œå…¨é è¿æ°”ï¼ˆç„å­¦ï¼‰ã€‚</p>
<p>æ–¯å¦ç¦å¤§å­¦ NLP ç»„è¯´ï¼šå¤Ÿäº†ã€‚</p>
<p>ä»–ä»¬æ¨å‡ºäº† DSPy (Declarative Self-improving Language Programs) æ¡†æ¶ã€‚å®ƒçš„æ ¸å¿ƒç†å¿µéå¸¸æ¿€è¿›ï¼šä¸è¦æ‰‹å†™ Promptï¼Œè¦å†™ä»£ç ã€‚è®©ç³»ç»Ÿè‡ªåŠ¨å»â€œç¼–è¯‘â€å‡ºæœ€ä½³çš„ Promptã€‚</p>
<p>å¦‚æœè¯´æ‰‹å†™ Prompt æ˜¯åœ¨å†™æ±‡ç¼–è¯­è¨€ï¼ˆAssemblyï¼‰ï¼Œé‚£ä¹ˆ DSPy å°±æ˜¯å¤§æ¨¡å‹æ—¶ä»£çš„ PyTorchã€‚
Â </p>
<h2 data-id="heading-1">2. æ ¸å¿ƒæ¦‚å¿µï¼šDSPy æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2>
<p>DSPy å°† LLM çš„åº”ç”¨å¼€å‘æŠ½è±¡ä¸ºäº†ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œè¿™ä¸ PyTorch éå¸¸ç›¸ä¼¼ï¼š</p>
<h3 data-id="heading-2">2.1 Signaturesï¼ˆç­¾åï¼‰ï¼šå®šä¹‰â€œåšä»€ä¹ˆâ€</h3>
<p>è¿™å°±åƒå‡½æ•°çš„ç±»å‹å®šä¹‰ã€‚ä½ åªéœ€è¦å‘Šè¯‰ DSPy è¾“å…¥æ˜¯ä»€ä¹ˆï¼Œè¾“å‡ºæ˜¯ä»€ä¹ˆï¼Œä¸ç”¨ç®¡æ€ä¹ˆé—®ã€‚</p>
<p>â—Â  ä¼ ç»Ÿ Promptï¼š "è¯·ä½ ä½œä¸ºä¸€ä¸ªæ•°å­¦ä¸“å®¶ï¼Œè®¡ç®—ä¸‹é¢è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Œå¹¶ä¸€æ­¥æ­¥æ€è€ƒ..."</p>
<p>â—Â  DSPy Signatureï¼š <code>Question -&gt; Answer</code></p>
<h3 data-id="heading-3">2.2 Modulesï¼ˆæ¨¡å—ï¼‰ï¼šå®šä¹‰â€œæ€ä¹ˆåšâ€</h3>
<p>è¿™æ˜¯å¤„ç†é€»è¾‘çš„æ¶æ„ã€‚ä½ å¯ä»¥æŠŠ LLM çœ‹ä½œä¸€ä¸ªå±‚ï¼ˆLayerï¼‰ã€‚</p>
<p>â—Â  <code>dspy.Predict</code>: åŸºæœ¬çš„é—®ç­”ã€‚</p>
<p>â—Â  <code>dspy.ChainOfThought</code>: è‡ªåŠ¨åŠ ä¸Šâ€œLet's think step by stepâ€çš„é€»è¾‘ã€‚</p>
<p>â—Â  <code>dspy.Retrieve</code>: è‡ªåŠ¨è°ƒç”¨æ£€ç´¢å™¨ï¼ˆRAGï¼‰ã€‚</p>
<p>Â </p>
<h3 data-id="heading-4">2.3 Telepromptersï¼ˆä¼˜åŒ–å™¨ï¼‰ï¼šè‡ªåŠ¨â€œç‚¼ä¸¹â€</h3>
<p>è¿™æ˜¯ DSPy æœ€é­”æ³•çš„åœ°æ–¹ã€‚ç±»ä¼¼äº PyTorch çš„ <code>Optimizer</code>ï¼ˆä¼˜åŒ–å™¨ï¼‰ã€‚</p>
<p>ä½ ç»™å®ƒä¸€äº›è®­ç»ƒæ•°æ®ï¼ˆè¾“å…¥+æ­£ç¡®ç­”æ¡ˆï¼‰ï¼ŒDSPy ä¼šè‡ªåŠ¨å»è·‘æµ‹è¯•ï¼Œè‡ªåŠ¨æŒ‘é€‰æœ€ä½³çš„ Few-shot ç¤ºä¾‹ï¼Œç”šè‡³è‡ªåŠ¨é‡å†™ Instructionï¼Œç›´åˆ°åœ¨è¿™ä¸ªæ•°æ®é›†ä¸Šå¾—åˆ†æœ€é«˜ã€‚</p>
<h2 data-id="heading-5">3. å®æˆ˜ï¼šç”¨ DSPy è§£å†³ä¸€ä¸ªé€»è¾‘æ¨ç†é—®é¢˜</h2>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ã€‚æˆ‘ä»¬æ¥åšä¸€ä¸ªç®€å•çš„æ•°å­¦æ¨ç†ä»»åŠ¡ï¼ˆGSM8K é£æ ¼ï¼‰ï¼Œçœ‹çœ‹ DSPy å¦‚ä½•è‡ªåŠ¨ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-6">3.1 ç¯å¢ƒå‡†å¤‡</h3>
<pre><code class="hljs language-bash" lang="bash">
pip install dspy-ai

</code></pre>
<h3 data-id="heading-7">3.2 é…ç½®æ¨¡å‹</h3>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ OpenAI çš„æ¨¡å‹ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ¢æˆ Claude æˆ–æœ¬åœ°çš„ Llama 3ã€‚</p>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">import</span> dspy

Â 

<span class="hljs-comment"># é…ç½®è¯­è¨€æ¨¡å‹ (LM)</span>

turbo = dspy.OpenAI(model=<span class="hljs-string">'gpt-3.5-turbo'</span>)

dspy.settings.configure(lm=turbo)

</code></pre>
<h3 data-id="heading-8">3.3 å®šä¹‰ä½ çš„â€œç¨‹åºâ€ (Module)</h3>
<p>æˆ‘ä»¬ä¸å†™ Promptï¼Œæˆ‘ä»¬å†™ä¸€ä¸ª Python ç±»ã€‚</p>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CoT</span>(dspy.Module):

<span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):

<span class="hljs-built_in">super</span>().__init__()

<span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªæ€ç»´é“¾æ¨¡å—ï¼Œè¾“å…¥æ˜¯ questionï¼Œè¾“å‡ºæ˜¯ answer</span>

self.prog = dspy.ChainOfThought(<span class="hljs-string">"question -&gt; answer"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, question</span>):

<span class="hljs-comment"># å‰å‘ä¼ æ’­</span>

<span class="hljs-keyword">return</span> self.prog(question=question)

</code></pre>
<h3 data-id="heading-9">3.4 é›¶æ ·æœ¬ï¼ˆZero-shotï¼‰å°è¯•</h3>
<p>è¿™æ—¶å€™æˆ‘ä»¬è¿˜æ²¡è®­ç»ƒï¼Œå®ƒå°±æ˜¯ä¸ªæ™®é€šçš„ API è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-python" lang="python">
cot = CoT()

q = <span class="hljs-string">"å¦‚æœæˆ‘æœ‰ 5 ä¸ªè‹¹æœï¼Œåƒæ‰äº† 2 ä¸ªï¼Œåˆä¹°äº† 3 ä¸ªï¼Œç°åœ¨æˆ‘æœ‰å‡ ä¸ªï¼Ÿ"</span>

response = cot(q)


<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¨ç†è¿‡ç¨‹:"</span>, response.rationale) <span class="hljs-comment"># DSPy è‡ªåŠ¨ç”Ÿæˆçš„æ€ç»´é“¾</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æœ€ç»ˆç­”æ¡ˆ:"</span>, response.answer)

</code></pre>
<p>è¾“å‡ºå¯èƒ½æ˜¯å¯¹çš„ï¼Œä½†åœ¨å¤æ‚é—®é¢˜ä¸Šå¯èƒ½ä¸ç¨³å®šã€‚æ¥ä¸‹æ¥æ˜¯è§è¯å¥‡è¿¹çš„æ—¶åˆ»ã€‚</p>
<h3 data-id="heading-10">3.5 ç¼–è¯‘ä¸ä¼˜åŒ–ï¼ˆCompile &amp; Optimizeï¼‰</h3>
<p>æˆ‘ä»¬éœ€è¦ä¸€ç‚¹ç‚¹â€œè®­ç»ƒæ•°æ®â€ï¼ˆå“ªæ€•åªæœ‰ 5-10 æ¡ï¼‰ã€‚DSPy çš„ <code>BootstrapFewShot</code> ä¼˜åŒ–å™¨ä¼šåˆ©ç”¨è¿™äº›æ•°æ®ï¼Œè®©ä¸€ä¸ªå¼ºæ¨¡å‹ï¼ˆTeacherï¼‰å»æ•™ä½ çš„æ¨¡å‹ï¼ˆStudentï¼‰ï¼Œè‡ªåŠ¨ç”Ÿæˆæœ€ä½³çš„ Few-shot ç¤ºä¾‹ã€‚</p>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">from</span> dspy.teleprompt <span class="hljs-keyword">import</span> BootstrapFewShot

Â 

<span class="hljs-comment"># 1. å‡†å¤‡å°‘é‡è®­ç»ƒé›† (Input, Output)</span>

trainset = [

dspy.Example(question=<span class="hljs-string">"2+2ç­‰äºå‡ ï¼Ÿ"</span>, answer=<span class="hljs-string">"4"</span>).with_inputs(<span class="hljs-string">'question'</span>),

dspy.Example(question=<span class="hljs-string">"å¤§å«æœ‰3ä¸ªçƒï¼Œä¸¢äº†1ä¸ªï¼Œå‰©å‡ ä¸ªï¼Ÿ"</span>, answer=<span class="hljs-string">"2"</span>).with_inputs(<span class="hljs-string">'question'</span>),

<span class="hljs-comment"># ... å‡è®¾è¿™é‡Œæœ‰æ›´å¤šç¨å¾®å¤æ‚çš„ä¾‹å­</span>

]

Â 

<span class="hljs-comment"># 2. å®šä¹‰è¯„ä¼°æŒ‡æ ‡ (Metric)</span>

<span class="hljs-comment"># è¿™é‡Œç®€å•åˆ¤æ–­ç­”æ¡ˆæ˜¯å¦å®Œå…¨åŒ¹é…ï¼Œå®é™…ä¸­å¯ä»¥ç”¨æ›´å¤æ‚çš„é€»è¾‘</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">validate_answer</span>(<span class="hljs-params">example, pred, trace=<span class="hljs-literal">None</span></span>):

<span class="hljs-keyword">return</span> example.answer == pred.answer

Â 

<span class="hljs-comment"># 3. åˆå§‹åŒ–ä¼˜åŒ–å™¨</span>

<span class="hljs-comment"># max_bootstrapped_demos=4 è¡¨ç¤ºæˆ‘ä»¬å¸Œæœ›å®ƒè‡ªåŠ¨ç”Ÿæˆ 4 ä¸ªæœ€ä½³çš„ Few-shot ç¤ºä¾‹</span>

teleprompter = BootstrapFewShot(metric=validate_answer, max_bootstrapped_demos=<span class="hljs-number">4</span>)

Â 

<span class="hljs-comment"># 4. ç¼–è¯‘ï¼(è¿™ä¼šèŠ±ä¸€ç‚¹æ—¶é—´ï¼Œå› ä¸ºå®ƒåœ¨ç–¯ç‹‚å°è¯•å’Œè¯„ä¼°)</span>

compiled_cot = teleprompter.<span class="hljs-built_in">compile</span>(CoT(), trainset=trainset)

</code></pre>
<h3 data-id="heading-11">3.6 å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h3>
<p>å½“ä½ è¿è¡Œ <code>compile</code> æ—¶ï¼ŒDSPy åœ¨åå°åšäº†è¿™äº›äº‹ï¼š</p>
<ol>
<li>
<p>ç”¨ä½ çš„æ¨¡å‹å°è¯•å›ç­”è®­ç»ƒé›†çš„é—®é¢˜ã€‚</p>
</li>
<li>
<p>å¦‚æœå›ç­”å¯¹äº†ï¼Œå®ƒæŠŠè¿™ä¸ªé—®é¢˜ã€æ¨ç†è¿‡ç¨‹ï¼ˆRationaleï¼‰å’Œç­”æ¡ˆè®°å½•ä¸‹æ¥ã€‚</p>
</li>
<li>
<p>å®ƒæŠŠè¿™äº›æˆåŠŸçš„æ¡ˆä¾‹ï¼Œä½œä¸º Few-shot ç¤ºä¾‹ï¼Œè‡ªåŠ¨å¡è¿› Prompt é‡Œã€‚</p>
</li>
<li>
<p>æœ€ç»ˆï¼Œ<code>compiled_cot</code> å˜æˆäº†ä¸€ä¸ªè‡ªå¸¦æœ€ä½³ Few-shot ç¤ºä¾‹çš„é«˜çº§å¯¹è±¡ã€‚</p>
</li>
</ol>
<p>Â 
ç°åœ¨ï¼Œä½ å†ç”¨ <code>compiled_cot</code> å»å›ç­”æ–°é—®é¢˜ï¼Œå‡†ç¡®ç‡ä¼šæ˜¾è‘—æå‡ï¼Œè€Œä¸”ä½ ä¸€è¡Œ Prompt ä¹Ÿæ²¡å†™ã€‚</p>
<h2 data-id="heading-12">4. ä¸ºä»€ä¹ˆ DSPy æ˜¯æœªæ¥ï¼Ÿ</h2>
<h3 data-id="heading-13">1. æ¨¡å—åŒ–ä¸å¤ç”¨</h3>
<p>ä»¥å‰ä½ çš„ Prompt æ˜¯ä¸€ä¸ªå·¨å¤§çš„å­—ç¬¦ä¸²ï¼Œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚ç°åœ¨ä½ çš„ Prompt æ˜¯æ¨¡å—åŒ–çš„ä»£ç ã€‚ä½ æƒ³æŠŠ GPT-3.5 æ¢æˆ Llama-3ï¼Ÿæ”¹ä¸€è¡Œé…ç½®å°±è¡Œï¼ŒDSPy ä¼šé‡æ–°ç¼–è¯‘å‡ºé€‚åˆ Llama-3 çš„ Promptã€‚</p>
<h3 data-id="heading-14">2. çœŸæ­£çš„â€œæ•°æ®é©±åŠ¨â€</h3>
<p>Prompt Engineering å˜æˆäº† Software Engineeringã€‚ä½ ä¸å†é€šè¿‡â€œçŒœâ€æ¥ä¼˜åŒ–ï¼Œè€Œæ˜¯é€šè¿‡â€œå¢åŠ é«˜è´¨é‡æ•°æ®â€å’Œâ€œæ”¹è¿› Metricâ€æ¥ä¼˜åŒ–ç³»ç»Ÿã€‚è¿™æ‰æ˜¯å·¥ç¨‹å¸ˆè¯¥å¹²çš„äº‹ã€‚</p>
<h3 data-id="heading-15">3. ç®¡é“ï¼ˆPipelineï¼‰ç¼–æ’</h3>
<p>åœ¨å¤æ‚çš„ RAG ç³»ç»Ÿä¸­ï¼Œä½ å¯èƒ½éœ€è¦ï¼šæ£€ç´¢ -&gt; è¿‡æ»¤ -&gt; æ€»ç»“ -&gt; å›ç­”ã€‚</p>
<p>åœ¨ DSPy ä¸­ï¼Œè¿™å°±æ˜¯æŠŠå‡ ä¸ª Module ä¸²èµ·æ¥ï¼Œç„¶åç«¯åˆ°ç«¯ï¼ˆEnd-to-Endï¼‰åœ°ä¼˜åŒ–æ•´ä¸ªæµç¨‹ã€‚</p>
<h2 data-id="heading-16">5. æ€»ç»“</h2>
<p>DSPy ç›®å‰è¿˜å¤„äºå¿«é€Ÿè¿­ä»£æœŸï¼ˆAlpha/Beta é˜¶æ®µï¼‰ï¼Œæ–‡æ¡£æœ‰æ—¶æ¯”è¾ƒæ™¦æ¶©ï¼Œä½†å®ƒä»£è¡¨äº† AI å·¥ç¨‹åŒ–çš„æ­£ç¡®æ–¹å‘ï¼šä»â€œè‡ªç„¶è¯­è¨€è°ƒæ•™â€å›å½’åˆ°â€œç¼–ç¨‹ä¸ç®—æ³•ä¼˜åŒ–â€ã€‚</p>
<p>å¦‚æœä½ å—å¤Ÿäº†æ‰‹åŠ¨ç»´æŠ¤å‡ åƒå­—çš„ Prompt æ–‡æœ¬ï¼Œä¸å¦¨è¯•è¯• DSPyã€‚æŠŠç„å­¦å˜æˆç§‘å­¦ï¼Œä»ä»Šå¤©å¼€å§‹ã€‚</p>
<h2 data-id="heading-17">å‚è€ƒèµ„æ–™ï¼š</h2>
<p>â—Â  DSPy GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fstanfordnlp%2Fdspy" target="_blank" title="https://github.com/stanfordnlp/dspy" ref="nofollow noopener noreferrer">stanfordnlp/dspy</a></p>
<p>DSPy Paper: DSPy: Compiling Declarative Language Model Calls into Self-Improving Pipelines*</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI æ¯æ—¥å¿ƒå¾—â€”â€”AI æ˜¯æ•ˆç‡æ æ†ï¼Œè€ŒéåŸ¹å…»å¯¹è±¡]]></title>    <link>https://juejin.cn/post/7576371992615174180</link>    <guid>https://juejin.cn/post/7576371992615174180</guid>    <pubDate>2025-11-25T08:17:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576371992615174180" data-draft-id="7575644469710864403" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI æ¯æ—¥å¿ƒå¾—â€”â€”AI æ˜¯æ•ˆç‡æ æ†ï¼Œè€ŒéåŸ¹å…»å¯¹è±¡"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-25T08:17:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Legend80s"/> <meta itemprop="url" content="https://juejin.cn/user/2568105753839790"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI æ¯æ—¥å¿ƒå¾—â€”â€”AI æ˜¯æ•ˆç‡æ æ†ï¼Œè€ŒéåŸ¹å…»å¯¹è±¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2568105753839790/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Legend80s
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:17:31.000Z" title="Tue Nov 25 2025 08:17:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5653af090db443aa29bcd937a78e9bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVnZW5kODBz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663451&amp;x-signature=KlihnKj%2FVi%2B1Luk61kcV3Nt3bFY%3D" alt="image.png" loading="lazy"/></p>
<p>æœ€è¿‘å‡ å‘¨ä¸€ç›´åœ¨ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.trae.cn%2F" target="_blank" title="https://www.trae.cn/" ref="nofollow noopener noreferrer">Trae</a> <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6672041cb52245f6bf624a09c51479f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVnZW5kODBz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663451&amp;x-signature=aji2XlG2beZELXERXdey%2BhpqDqE%3D" alt="image.png" width="16px" loading="lazy"/>ï¼Œåˆ©ç”¨å…¶åŸºäº React 19 + Next.js çš„ SSG æ¨¡å¼ç”Ÿæˆè¿‡ç”µå•†ç½‘ç«™ï¼Œä¹Ÿæ­£åœ¨ä½¿ç”¨ Trae åšå¤§æ¨¡å‹äº‘å¹³å°çš„å¼€å‘ï¼ˆç®¡ç† MCP çš„éƒ¨ç½²ã€å¤§å°æ¨¡å‹çš„éƒ¨ç½²ä»¥åŠçŸ¥è¯†åº“ç­‰ï¼‰ã€‚éšç€å’Œ AI åˆä½œç¼–ç¨‹çš„æ—¶é—´å¢åŠ æœ‰äº†ä¸€äº›å¿ƒå¾—ã€‚</p>
<h2 data-id="heading-0">å¿ƒå¾—ä¸€ï¼šAI æ˜¯æ•ˆç‡æ æ†ï¼Œè€ŒéåŸ¹å…»å¯¹è±¡</h2>
<p>ä¸è¦æŠŠ AI å½“æˆéœ€è¦åŸ¹å…»çš„ä¸‹å±ï¼ŒæŒ‡æœ›å®ƒé€šè¿‡â€œå­¦ä¹ â€æ¥é€æ­¥æ”¹è¿›ã€‚å¯¹äºç®€å•çš„ä»»åŠ¡ï¼Œæ¯”å¦‚ä¸€è¡Œè°ƒæ•´ï¼Œæœ€å¥½è‡ªå·±åŠ¨æ‰‹å®Œæˆã€‚AI æ˜¯å·¥å…·ï¼Œå®ƒçš„ä»·å€¼åœ¨äºå¸®æˆ‘ä»¬æ›´å¿«å®Œæˆå·¥ä½œï¼Œè€Œä¸æ˜¯è¢«åå¤â€œè°ƒæ•™â€å»å¤„ç†é‚£äº›çç¢ã€éæ ‡å‡†åŒ–çš„ç»†èŠ‚â€”â€”ä½ æ•™äº†è¿™æ¬¡ï¼Œä¸‹æ¬¡å®ƒå¤§æ¦‚ç‡è¿˜æ˜¯ä¸ä¼šã€‚ä¼˜åŒ–æ¨¡å‹æ˜¯å¼€å‘è€…çš„è´£ä»»ï¼Œä¸æ˜¯ä½¿ç”¨è€…çš„ä»»åŠ¡ã€‚èŠ±æ—¶é—´â€œè®­ç»ƒâ€ AI é€‚åº”éæ ‡å‡†éœ€æ±‚ï¼Œå¾€å¾€åªæ˜¯æµªè´¹æ—¶é—´ï¼Œä¸‹æ¬¡é‡åˆ°åŒæ ·æƒ…å†µï¼Œä½ å¾ˆå¯èƒ½è¿˜è¦ä»å¤´å†æ¥ï¼Œè¿™ä¼šå¯¼è‡´æ•ˆç‡éå¸¸ä½ï¼Œè€Œä½ ä¹Ÿä¼šéå¸¸å¾— Frustrating ã€‚</p>
<p>è®°ä½ï¼šAI æ˜¯æ•ˆç‡æ æ†ï¼Œè€ŒéåŸ¹å…»å¯¹è±¡ã€‚</p>
<h2 data-id="heading-1">å¿ƒå¾—äºŒï¼šä¸è¦äººäº‘äº¦äº‘</h2>
<p>å…³äº rules ä¸è¦äººäº‘äº¦äº‘ã€‚æ¯”æ–¹ project_rules.md ç½‘ä¸Šå¾ˆæµè¡Œæ ¹æ®ã€Šé‡æ„ã€‹è¿™æœ¬ä¹¦çš„æ ¸å¿ƒè¦æ±‚å½¢æˆ Ruleï¼Œä½†æ˜¯ä½ çš„é¡¹ç›®çœŸçš„éœ€è¦è¿™äº›å—ï¼Ÿä½ çš„ AI çœŸçš„è¿™ä¹ˆâ€œç¬¨â€å—ï¼Ÿ</p>
<p>æˆ‘ä»¬ä¸¾å‡ ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-md" lang="md"><span class="hljs-section">### 1. ç¥ç§˜å‘½å</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**é—®é¢˜**</span>ï¼šå˜é‡ã€å‡½æ•°ã€ç±»æˆ–æ¨¡å—çš„åç§°ä¸èƒ½æ¸…æ™°è¡¨è¾¾å…¶ç”¨é€”å’Œå«ä¹‰
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¤„ç†**</span>ï¼šé‡å‘½åä¸ºå…·æœ‰æè¿°æ€§çš„åç§°ï¼Œä½¿ä»£ç è‡ªè§£é‡Š
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç¤ºä¾‹**</span>ï¼šå°†<span class="hljs-code">`fn p()`</span>æ”¹ä¸º<span class="hljs-code">`fn calculate_price()`</span>
</code></pre>
<p>AI å‘½åæ˜æ˜å·²ç»æ¯”æˆ‘ä»¬äººç±»å¥½å¤ªå¤šäº†ï¼Œ<code>fn p()</code> è¿™ç§å•å­—æ¯ç¥ç§˜å‘½åæ˜¯â€œä½ æˆ‘â€æ‡’æƒ°ä¸ºä¹‹ï¼Œä½† AI å·²ç»å¸æ”¶äº†å¼€æºç¤¾åŒºæ­¤æ–¹é¢çš„ä¼˜ç§€å®è·µï¼Œè€Œä¸” ta å¯¹è‹±æ–‡ç”šè‡³å…¨ä¸–ç•Œå„å›½è¯­è¨€æˆ–è€…çŸ¥è¯†å‚¨å¤‡è¶³å¤Ÿä¸°å¯Œè®©å…¶èƒ½å¤Ÿåœ¨å½“ä¸‹çš„ä»£ç ç¯å¢ƒä¸‹ç”Ÿæˆæœ€é€‚åˆæœ€å…·æè¿°æ€§çš„åå­—ï¼Œå¯ä»¥è¯´è®¡ç®—æœºä¸Šä¸¤ä¸ªæœ€è‘—åçš„å†å²éš¾é¢˜å·²ç»è¢« AI æ”»å…‹äº†ä¸€ä¸ªã€‚è€Œä½ çš„å†—ä½™æŒ‡å¯¼åªä¼šæµªè´¹ token å’Œ CPU èµ„æºã€‚</p>
<p>è¿˜æœ‰è¿™äº› AI ä¸ä¼šå‘ç”Ÿçš„é—®é¢˜ï¼š</p>
<pre><code class="hljs language-md" lang="md"><span class="hljs-section">### 5. è¿‡é•¿å‚æ•°åˆ—è¡¨</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**é—®é¢˜**</span>ï¼šå‡½æ•°å‚æ•°è¿‡å¤šï¼Œéš¾ä»¥ç†è§£å’Œä½¿ç”¨
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¤„ç†**</span>ï¼šå¼•å…¥å‚æ•°å¯¹è±¡ï¼Œå°†ç›¸å…³å‚æ•°ç»„åˆæˆå¯¹è±¡
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç¤ºä¾‹**</span>ï¼šå°†<span class="hljs-code">`fn create_user(name, email, phone, address, city, country)`</span>æ”¹ä¸º<span class="hljs-code">`fn create_user(user_info: UserInfo)`</span>
</code></pre>
<p>ä½ è§è¿‡ Trae ä¼šç”Ÿæˆè¿™ç§ 5 ä¸ªç”šè‡³æ›´å¤šå‚æ•°çš„å‡½æ•°å—ï¼Ÿ</p>
<h4 data-id="heading-2">å¯¹è¯å¼•å¯¼ï¼Œåˆ†è€Œæ²»ä¹‹</h4>
<p>è¿™é¢è¿™äº›è§„åˆ™ï¼Œäººåº”è¯¥å…ˆè°™ç†Ÿäºå¿ƒï¼Œç„¶åé€šè¿‡åˆé€‚çš„å¯¹è¯æŠ€å·§æŒ‡å¯¼ AI</p>
<pre><code class="hljs language-md" lang="md"><span class="hljs-section">### 3. è¿‡é•¿å‡½æ•°</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**é—®é¢˜**</span>ï¼šå‡½æ•°è¿‡é•¿ï¼Œéš¾ä»¥ç†è§£å’Œç»´æŠ¤
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¤„ç†**</span>ï¼šæå–å‡½æ•°ï¼Œå°†å¤§å‡½æ•°åˆ†è§£ä¸ºå¤šä¸ªå°å‡½æ•°
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç¤ºä¾‹**</span>ï¼šå°†200è¡Œçš„å¤„ç†å‡½æ•°åˆ†è§£ä¸ºå¤šä¸ªèŒè´£å•ä¸€çš„å°å‡½æ•°

<span class="hljs-section">### 4. è¿‡å¤§çš„ç±»/ç»“æ„ä½“</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**é—®é¢˜**</span>ï¼šç±»æˆ–ç»“æ„ä½“æ‰¿æ‹…äº†è¿‡å¤šè´£ä»»ï¼Œå­—æ®µå’Œæ–¹æ³•è¿‡å¤š
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¤„ç†**</span>ï¼šæå–ç±»ï¼Œå°†ç›¸å…³å­—æ®µå’Œæ–¹æ³•ç»„åˆæˆæ–°çš„ç±»
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç¤ºä¾‹**</span>ï¼šå°†Userç±»ä¸­çš„åœ°å€ç›¸å…³å­—æ®µæå–ä¸ºAddressç±»

<span class="hljs-section">### 6. å‘æ•£å¼å˜åŒ–</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**é—®é¢˜**</span>ï¼šä¸€ä¸ªç±»å› ä¸ºå¤šç§åŸå› è€Œè¢«ä¿®æ”¹
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¤„ç†**</span>ï¼šæŒ‰ç…§å˜åŒ–åŸå› æ‹†åˆ†ç±»
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç¤ºä¾‹**</span>ï¼šå°†æ—¢å¤„ç†æ•°æ®åº“åˆå¤„ç†ä¸šåŠ¡é€»è¾‘çš„ç±»æ‹†åˆ†ä¸ºä¸¤ä¸ªç±»

<span class="hljs-section">### 7. éœ°å¼¹å¼ä¿®æ”¹</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**é—®é¢˜**</span>ï¼šä¸€æ¬¡ä¿®æ”¹éœ€è¦æ”¹åŠ¨å¤šä¸ªç±»
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¤„ç†**</span>ï¼šå°†ç›¸å…³åŠŸèƒ½ç§»åˆ°åŒä¸€ä¸ªç±»ä¸­
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç¤ºä¾‹**</span>ï¼šå°†åˆ†æ•£åœ¨å¤šä¸ªç±»ä¸­çš„è®¢å•å¤„ç†é€»è¾‘åˆå¹¶åˆ°ä¸€ä¸ªOrderProcessorç±»

<span class="hljs-section">### 8. ä¾æ‹æƒ…ç»“</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**é—®é¢˜**</span>ï¼šä¸€ä¸ªå‡½æ•°å¯¹å…¶ä»–ç±»çš„å…´è¶£è¶…è¿‡è‡ªå·±æ‰€åœ¨çš„ç±»
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¤„ç†**</span>ï¼šç§»åŠ¨å‡½æ•°æˆ–æå–å‡½æ•°
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç¤ºä¾‹**</span>ï¼šå°†è¿‡åº¦ä½¿ç”¨å¦ä¸€ä¸ªç±»æ•°æ®çš„æ–¹æ³•ç§»åŠ¨åˆ°é‚£ä¸ªç±»ä¸­
</code></pre>
<p>è¿™äº›æ€»ç»“è€Œè¨€å³ SRPï¼ˆSingle Responsibility Principleï¼‰ï¼Œä½•æ—¶ AI ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œå½“ä½ è¯•å›¾è®© AI <strong>ç”Ÿæˆä¸€ä¸ªå®Œæ•´åº”ç”¨</strong>çš„æ—¶å€™ï¼Œè¿™å€’æ˜¯å¯èƒ½å‘ç”Ÿã€‚ä½†å…¶å®è¿™æ˜¯é—®é¢˜æ˜¯â€œ<strong>é‡æ„æœŸ</strong>â€æ‰åº”è¯¥å…³æ³¨çš„äº‹æƒ…ï¼Œé¡¹ç›®<strong>ä» 0 åˆ° 1</strong> æœ€é‡è¦è¦çš„æ˜¯åŠŸèƒ½æ­£ç¡®ï¼ˆPOC &amp; MVPï¼‰ï¼Œè¿™ä¸ªé˜¶æ®µæˆ‘ä»¬æ˜¯å…è®¸è¿å SRP ç”šè‡³å…è®¸é‡å¤ä»£ç ï¼ˆDRY - Don't Repeat Yourselfï¼‰ï¼Œä¹Ÿå…è®¸ä»£ç  warning å’Œä¸€éƒ¨åˆ†çš„ To Implement å’Œ TypeScript ç±»å‹é—®é¢˜ç­‰â€œä¸å®Œç¾â€å­˜åœ¨çš„ã€‚</p>
<blockquote>
<ul>
<li><strong>POC</strong>Â - Proof of Conceptï¼ˆæ¦‚å¿µéªŒè¯ï¼‰<strong>ä¸è®¡è¾ƒè´¨é‡</strong>ï¼šä»£ç å¯èƒ½å¾ˆç²—ç³™ï¼Œæ²¡æœ‰ç”¨æˆ·ç•Œé¢ï¼Œåªæ˜¯ä¸€ä¸ª demo æˆ–åŸå‹ï¼Œå”¯ä¸€çš„ç›®æ ‡æ˜¯è¯æ˜â€œèƒ½åšâ€ã€‚</li>
<li><strong>MVP</strong>Â - Minimum Viable Productï¼ˆæœ€å°å¯è¡Œäº§å“ï¼‰</li>
</ul>
</blockquote>
<p>å½“ç„¶è¿‡äº†<strong>ä» 0 åˆ° 1</strong> ï¼Œå¾€ä¸€ä¸ªè€ä»£ç åº“æ–°å¢ä»£ç æ—¶å€™æˆ‘ä»¬éœ€è¦éµå®ˆ SRP å’Œ DRYï¼Œè¿™ä¸ªè§„åˆ™åº”å½“æ˜¯åœ¨æˆ‘ä»¬äº‹å…ˆå·²ç»åšå¥½äº†â€œç²’åº¦é€‚ä¸­â€çš„ç»„ä»¶åˆ’åˆ†ï¼Œç„¶åå¯¹è¯è¿‡ç¨‹ä»¥ prompt çš„å½¢å¼å‘ŠçŸ¥ï¼š</p>
<blockquote>
<p>è¯·ç”Ÿæˆä¸€ä¸ªå‡½æ•°/ç»„ä»¶ï¼Œå®ç° F1 åŠŸèƒ½ï¼Œåœ¨é¡µé¢ P1 çš„ X1 å¤„å¼•å…¥ã€‚</p>
</blockquote>
<p>å…¶å®å°±æ˜¯æˆ‘ä»¬äººåº”è¯¥é¦–å…ˆå…·å¤‡ç»„ä»¶åŒ–æ€ç»´ï¼ˆåº•å±‚æ˜¯ SRP å’Œ DRYï¼‰ã€‚</p>
<h4 data-id="heading-3">æ¨¡æ£±ä¸¤å¯ï¼ŒAI æ— æ³•å†³ç­–</h4>
<p>è¿˜æœ‰ä¸€ç±»é—®é¢˜å…·å¤‡ä¸»è§‚æ€§ã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-md" lang="md"><span class="hljs-section">### 10. åŸºæœ¬ç±»å‹åæ‰§</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**é—®é¢˜**</span>ï¼šä½¿ç”¨åŸºæœ¬ç±»å‹è¡¨ç¤ºæœ‰ç‰¹å®šå«ä¹‰çš„æ•°æ®
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¤„ç†**</span>ï¼šä½¿ç”¨å°å¯¹è±¡æ›¿ä»£åŸºæœ¬ç±»å‹
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç¤ºä¾‹**</span>ï¼šç”¨PhoneNumberç±»æ›¿ä»£è¡¨ç¤ºç”µè¯çš„å­—ç¬¦ä¸²
</code></pre>
<p>å¦‚æœ AI æŒ‰ç…§è¿™ä¸ªæ€è·¯ä¸¥æ ¼æ‰§è¡Œï¼ŒTa ä¼šå°†æ‰€æœ‰çš„ <code>string number boolean</code> éƒ½è§†ä¸ºâ€œç‰¹å®šå«ä¹‰çš„æ•°æ®â€ï¼Œå› ä¸º AI å¾ˆéš¾ç†è§£â€œç‰¹å®šå«ä¹‰â€ç”šè‡³äººç±»éƒ½å¯¹å…¶æ¨¡æ£±ä¸¤å¯ã€‚â€œä½¿ç”¨åŸºæœ¬ç±»å‹è¡¨ç¤ºæœ‰ç‰¹å®šå«ä¹‰çš„æ•°æ®â€ç¡®å®æ˜¯å¥½çš„å®è·µï¼Œä½†åªæ˜¯åœ¨å…³é”®çš„åœ°æ–¹æ‰éœ€è¦ã€‚æ¯”å¦‚ä¸šåŠ¡å­˜åœ¨å¤šä¸ª idï¼Œéƒ½æ˜¯ stringï¼Œå°±å¾ˆå®¹æ˜“ä¼ é”™å´æµ‘ç„¶ä¸çŸ¥ï¼Œå¦‚æœå°† id ç”¨ TypeScript çš„ <code>Tagged type</code> æˆ– <code>Brand type</code> åŒºåˆ†è¿™ç§é—®é¢˜å°±èƒ½åœ¨å†™ä»£ç çš„é‚£ä¸€åˆ»å°±æ¶ˆé™¤ï¼</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> {<span class="hljs-title class_">Tagged</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'type-fest'</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">AccountNumber</span> = <span class="hljs-title class_">Tagged</span>&lt;<span class="hljs-built_in">number</span>, <span class="hljs-string">'AccountNumber'</span>&gt;;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">AccountBalance</span> = <span class="hljs-title class_">Tagged</span>&lt;<span class="hljs-built_in">number</span>, <span class="hljs-string">'AccountBalance'</span>&gt;;
</code></pre>
<h2 data-id="heading-4">æ›´å¤šé˜…è¯»</h2>
<ul>
<li>å…³äº AI çš„ä¸€äº›å®è·µï¼Œæ¯”å¦‚æˆ‘çš„ project_rulesï¼Œè¯¦è§<a href="https://juejin.cn/editor/drafts/7574665183852937235" target="_blank" title="https://juejin.cn/editor/drafts/7574665183852937235">æˆ‘çš„ AI å·¥ä½œæµ â€”â€” project_rules.md ä»£ç è§„èŒƒç¯‡ï¼Œè®© AI è‡ªçœè‡ªåŠ¨è·‘èµ·æ¥</a>ã€‚</li>
<li>é‡æ„ rules è¯¦è§ <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1939384057369698525" target="_blank" title="https://zhuanlan.zhihu.com/p/1939384057369698525" ref="nofollow noopener noreferrer">zhuanlan.zhihu.com/p/193938405â€¦</a></li>
<li><code>Tagged type</code> æˆ– <code>Brand type</code> è§£é‡Šè§æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç«  <a href="https://juejin.cn/user/2568105753839790/posts" target="_blank" title="https://juejin.cn/user/2568105753839790/posts">TypeScript ç±»å‹ç³»ç»Ÿçš„ç¼ºé™·ï¼šç»“æ„åŒ–ç±»å‹ä¹‹æ®‡ï¼Œä»é¸­å¼è¾¨å‹åˆ°é¹…é¸­ä¹‹è¾¨</a></li>
<li><code>Tagged type</code> æˆ– <code>Brand type</code> ä½¿ç”¨è§ sindresorhus çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Ftype-fest" target="_blank" title="https://www.npmjs.com/package/type-fest" ref="nofollow noopener noreferrer">type-fest ~ Tagged</a>ï¼Œè¿™ä¸ªåº“å‘¨ä¸‹è½½é‡å±…ç„¶è¾¾åˆ°äº†æƒŠäººçš„ä¸¤äº¿å¤šã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç®€å•èŠä¸€ä¸‹ tls æŒ‡çº¹æ ¡éªŒ]]></title>    <link>https://juejin.cn/post/7576338796846350376</link>    <guid>https://juejin.cn/post/7576338796846350376</guid>    <pubDate>2025-11-25T08:20:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576338796846350376" data-draft-id="7576378563574792207" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç®€å•èŠä¸€ä¸‹ tls æŒ‡çº¹æ ¡éªŒ"/> <meta itemprop="keywords" content="æµè§ˆå™¨,çˆ¬è™«"/> <meta itemprop="datePublished" content="2025-11-25T08:20:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Glommer"/> <meta itemprop="url" content="https://juejin.cn/user/847085484127432"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç®€å•èŠä¸€ä¸‹ tls æŒ‡çº¹æ ¡éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/847085484127432/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Glommer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:20:03.000Z" title="Tue Nov 25 2025 08:20:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡ç« åªåšæŠ€æœ¯æ¢è®¨, è¯·å‹¿ç”¨äºéæ³•ç”¨é€”ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>çˆ¬è™«å·¥ä½œçš„åˆä¸€å¤§é˜»ç¢, tls æŒ‡çº¹æ ¡éªŒã€‚æœ€è¿‘æ­£å¥½ä¹Ÿé‡åˆ°äº†, å¤§æ¦‚å»äº†è§£äº†ä¸€ä¸‹, é¡ºä¾¿è·Ÿå¤§å®¶èŠèŠè¿™ä¸ªä¸œè¥¿ã€‚</p>
<h2 data-id="heading-1">åŸç†</h2>
<p>å®šä¹‰æ–¹é¢çš„ä¸œè¥¿å°±ä¸å»ç»†è¯´äº†, æˆ‘åšä¸ªå¤§æ¦‚çš„è§£é‡Šå§ã€‚</p>
<p>ç®€å•æ¥è¯´, ä¸åŒçš„æµè§ˆå™¨éƒ½æœ‰è‡ªå·±ä¸åŒçš„ åŠ å¯†å¥—ä»¶ã€æ‰©å±•å·¥å…·ã€æ¤­åœ†æ›²çº¿ ç­‰ä¿¡æ¯, è¿™äº›ä¿¡æ¯å…±åŒæ„å»ºèµ·äº†ä¸€ä¸ª tls æŒ‡çº¹ã€‚åœ¨è¯·æ±‚å‘èµ·ä¹‹å, tls æ¡æ‰‹é˜¶æ®µæœåŠ¡ç«¯é€šè¿‡å¯¹ç¬¬ä¸€ä¸ªæ•°æ®åŒ…(client hello)æ‰€æºå¸¦çš„æŒ‡çº¹è¿›è¡Œè¯†åˆ«, å°±å¯ä»¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºä¸€ä¸ªåˆæ³•çš„æµè§ˆå™¨ç¯å¢ƒã€‚</p>
<h2 data-id="heading-2">å±•ç¤º</h2>
<p>è¿™é‡Œç”¨ä¸€ä¸ªç½‘ç«™æ¥å‘å¤§å®¶åšä¸€ä¸ªç›´è§‚çš„å±•ç¤ºã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ftls.peet.ws%2F" target="_blank" title="https://tls.peet.ws/" ref="nofollow noopener noreferrer">tls.peet.ws/</a></p>
<p>è¿™ä¸ªç½‘ç«™å¯ä»¥çœ‹åˆ°å½“å‰è¯·æ±‚æ‰€æºå¸¦çš„åŠ å¯†å¥—ä»¶ã€æ‰©å±•å·¥å…·ç­‰ä¿¡æ¯, å³ tls æŒ‡çº¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f016b0b4dc634643865bc2bc6f9d552b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=K7dl%2BAnL5ancwIF4pBYaTqwvwt8%3D" alt="image.png" loading="lazy"/>
<strong>ç½‘ç«™å†…å®¹ç¤ºä¾‹</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/010a0a202017443495fb4c5d27e55438~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=%2FebMEsGqBm7w3OIYvrx4IzkOYow%3D" alt="image.png" loading="lazy"/>
<strong>å¤šæ¬¡è¯·æ±‚ç¤ºä¾‹</strong></p>
<p>éœ€è¦æˆ‘ä»¬å…³æ³¨çš„ä¸»è¦æ˜¯ JA3 è¿™ä¸ªåŠ å¯†å‚æ•°, ä»–æ˜¯é€šè¿‡ tls æŒ‡çº¹çš„å†…å®¹åš md5 åŠ å¯†åç”Ÿæˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07ff05ffa3364f5b87450cb010dda3de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=YjIV28dgezBLCDDNZeLOx8bh3pE%3D" alt="image.png" loading="lazy"/></p>
<p><strong>AI æä¾›çš„åŠ å¯†å¥—ä»¶ç¼–å·æ˜ å°„è¡¨</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca482dac15414f14be51e2ffeb9ae2dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=vqD0QFTjMrmxFbMINIw22KMpUrw%3D" alt="image.png" loading="lazy"/>
<strong>åŠ å¯†ç»“æœç¤ºä¾‹</strong></p>
<p>æ ¹æ®æ˜ å°„è¡¨, æˆ‘ä»¬å¯ä»¥æ¸…æ™°çš„çœ‹åˆ° JA3 å¯†æ–‡çš„ç”±æ¥ã€‚</p>
<p>ç®€å•æä¸€ä¸‹, æ˜æ–‡æœ€å‰æ–¹çš„ 771 éƒ¨åˆ†ä¹Ÿæ˜¯åå…­è¿›åˆ¶å€¼, ä»£è¡¨æœ€é«˜æ”¯æŒ TLS1.3 ç‰ˆæœ¬ã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹, å°† TLSç‰ˆæœ¬ã€åŠ å¯†å¥—ä»¶ã€æ‰©å±•å·¥å…·ã€æ¤­åœ†æ›²çº¿ è¿™å››ä¸ªéƒ¨åˆ†è½¬ä¸ºå¯¹åº”çš„åå…­è¿›åˆ¶æ•°å­—, æŒ‰ç…§ä¸€å®šçš„é¡ºåºæ’åˆ—, è¿›è¡Œ md5 åŠ å¯†, æœ€ç»ˆå¯ä»¥å¾—åˆ° tls æŒ‡çº¹çš„å€¼, ä¸”å¤šæ¬¡è¯·æ±‚ç»“æœæœ‰ä»¥ä¸‹è§„å¾‹ã€‚</p>
<ol>
<li>åŠ å¯†å¥—ä»¶ã€æ‰©å±•å·¥å…·ã€æ¤­åœ†æ›²çº¿ ä¸‰ä¸ªéƒ¨åˆ†éƒ½åŒ…å« TLS_GREASE, ä¸”æ¯æ¬¡ç»“æœéƒ½ä¸åŒã€‚</li>
<li>åŠ å¯†å¥—ä»¶ å’Œ æ¤­åœ†æ›²çº¿ éƒ¨åˆ†, é™¤äº† TLS_GREASE ä»¥å¤–, å…¶ä»–éƒ¨åˆ†éƒ½ä¸ä¼šå˜åŒ–, é¡ºåºç›¸åŒã€‚</li>
<li>æ‰©å±•å·¥å…· æ¯æ¬¡é¡ºåºéƒ½ä¼šå˜åŒ–ã€‚</li>
<li>å› é¡ºåºå˜åŒ– åŠ TLS_GREASE å˜åŒ–, æ¯æ¬¡è¯·æ±‚ JA3 çš„å€¼éƒ½ä¸ç›¸åŒã€‚</li>
</ol>
<h2 data-id="heading-3">å¯¹æ¯”</h2>
<p>çœ‹è¿‡äº†æµè§ˆå™¨çš„å€¼, æˆ‘ä»¬æ‹¿ Python çš„ requests åº“è¯·æ±‚æ¥åšä¸€ä¸ªå¯¹æ¯”, æ¥äº†è§£æˆ‘ä»¬çš„è¯·æ±‚æ˜¯æ€ä¹ˆè¢« "æŠ“åˆ°" çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70c3e5f663af46d7ba268d259048538c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=MPn9DjcUX87HULwK6wX2wSVpJQE%3D" alt="image.png" loading="lazy"/>
<strong>ä»£ç è¯·æ±‚ç¤ºä¾‹</strong></p>
<p>ä½¿ç”¨ requests åº“å‘èµ·è¯·æ±‚, å°†ç»“æœå†™å…¥æ–‡ä»¶, å°†æ–‡ä»¶ç”¨æµè§ˆå™¨è¿›è¡Œæ¸²æŸ“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43b1856c0e424087b098e683b9d4e198~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=9gk6BITwSv7w7nAGFquyMjOwX7U%3D" alt="image.png" loading="lazy"/>
<strong>requests æŒ‡çº¹ç¤ºä¾‹</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2531f7ac0eb74cd399af3e5907280071~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=DlCzwTybNkgFutHPIr9BNQcLuF4%3D" alt="image.png" loading="lazy"/>
<strong>requests å¤šæ¬¡è¯·æ±‚æŒ‡çº¹ç¤ºä¾‹</strong></p>
<p>æˆ‘è¿›è¡Œäº†ä¸¤æ¬¡è¯·æ±‚, åˆ†åˆ«ä¿å­˜æ–‡ä»¶ 123.html å’Œ 124.html, ä»–ä»¬çš„æŒ‡çº¹å¦‚ä¸Šå›¾æ‰€ç¤º, å¯ä»¥å‘ç° requests è¯·æ±‚ä¸­æ²¡æœ‰ TLS_GREASE , æºå¸¦çš„ åŠ å¯†å¥—ä»¶ã€æ‰©å±•å·¥å…·ã€æ¤­åœ†æ›²çº¿ éƒ½å’Œæµè§ˆå™¨æœ‰å¾ˆå¤§å·®å¼‚, åŒæ—¶æ¯æ¬¡è¯·æ±‚çš„ç»“æœéƒ½æ˜¯ç›¸åŒçš„ã€‚ åŸºäºæ­¤, å¾ˆå®¹æ˜“å°±ä¼šè¢«ç”„åˆ«å‡ºæ¥ã€‚</p>
<h2 data-id="heading-4">å¤„ç†</h2>
<p>é‚£ä¹ˆæœ‰åŠæ³•è§£å†³è¿™ä¸ªé—®é¢˜å—?</p>
<p>åŒ…æœ‰çš„!</p>
<h3 data-id="heading-5">æ–¹æ¡ˆä¸€</h3>
<p>é¦–å…ˆå°±æ˜¯ä¸€äº› Python åº“, è¿™é‡Œæ¨èä¸¤ä¸ªå§, curl_cffi å’Œ tls_clientã€‚</p>
<p>æˆ‘ä¸ªäººè§‰å¾— curl_cffi ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿, è¿™é‡Œå°±ç”¨å®ƒæ¥ä¸¾ä¾‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5991e443d6fb47a9b8449a38eae06e71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=ouzQyK0%2FPpWVuuKEW0TTtU%2Fbu3s%3D" alt="image.png" loading="lazy"/>
<strong>curl_cffi è¯·æ±‚ä»£ç ç¤ºä¾‹</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aed7a1c80fee49fe85eb7ab7cac541ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=JQ71FCvaU9aNrvh82tEPs9laC%2BY%3D" alt="image.png" loading="lazy"/>
<strong>curl_cffi æŒ‡çº¹ç¤ºä¾‹</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db791458dd6e4d1fa4a0dcc561119e93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=Mnk1UXZJeKIYrJUkiSLo2uuEYZg%3D" alt="image.png" loading="lazy"/>
<strong>curl_cffi å¤šæ¬¡è¯·æ±‚æŒ‡çº¹ç¤ºä¾‹</strong></p>
<p>å’Œä¹‹å‰ä¸€æ ·, è¿›è¡Œäº†ä¸¤æ¬¡è¯·æ±‚, åˆ†åˆ«ä¿å­˜æ–‡ä»¶ 125.html å’Œ 126.html, æŒ‡çº¹å¦‚ä¸Šå›¾æ‰€ç¤º, æˆ‘ä»¬å¯ä»¥å‘ç°ä»–çš„å†…å®¹å·²ç»å’Œæµè§ˆå™¨çš„ä¸€è‡´äº†, ä¸”æ¯æ¬¡è¯·æ±‚ä¹Ÿéƒ½æœ‰äº†è¯¥æœ‰çš„å˜åŒ–ã€‚</p>
<h3 data-id="heading-6">æ–¹æ¡ˆäºŒ</h3>
<p>æˆ‘ä»¬å¯ä»¥è‡ªè¡Œä½¿ç”¨ urllib åº“æ ¹æ®æµè§ˆå™¨çš„å†…å®¹æ¥è¿›è¡Œä¸€ä¸ªæ¨¡æ‹Ÿ, ä½†æ˜¯ä¸æ¨è, éº»çƒ¦ä¸è¯´, æœ‰æ›´æ–¹ä¾¿çš„å·¥å…·ä¸ºä»€ä¹ˆä¸å»ç”¨å‘¢ã€‚å¦‚æœå°±å–œæ¬¢éº»çƒ¦çš„, ä¹Ÿä¸æ˜¯ä¸è¡Œ, ä¸‹è¾¹æˆ‘æ”¾å‡ºç”± AI æä¾›çš„æ¨¡æ‹Ÿä»£ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15e0a3b11974483881d48e88d8b1c47e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=uak5ovqGohYMNTksUfqI%2F%2BbqCr4%3D" alt="image.png" loading="lazy"/>
<strong>AI æä¾›è‡ªè¡Œæ¨¡æ‹Ÿä»£ç </strong></p>
<h3 data-id="heading-7">æ–¹æ¡ˆä¸‰</h3>
<p>å¦‚æœç¬¬ä¸‰æ–¹åº“å› ä¸ºä¸€äº›åŸå› å®åœ¨æ— æ³•è§£å†³é—®é¢˜, ä¹Ÿä¸æƒ³è¦è‡ªå·±å»æ¨¡æ‹Ÿ, å¯ä»¥è€ƒè™‘ä½¿ç”¨ Python æ¥è°ƒç”¨ curl æˆ–æ˜¯è°ƒç”¨æµè§ˆå™¨æ¥å»åšã€‚</p>
<p>è¿™é‡Œåªå¯¹è°ƒç”¨ curl åšå±•ç¤º, æµè§ˆå™¨çš„è¯æˆ–è®¸å¯ä»¥é€šè¿‡ selenium ä¹‹ç±»çš„æ¥åšé€šä¿¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6ccdc2592f043c390576d3136fc5a3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=c7IpccgIMsgFtv29KJ%2BrmK7uSe4%3D" alt="image.png" loading="lazy"/>
<strong>Python è°ƒç”¨ curl ç¤ºä¾‹</strong></p>
<p>ç¡®å®š curl è¯·æ±‚å¯è¡Œå†å»ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-8">æ‹“å±•</h2>
<p>å†å¤šèŠä¸€ä¸‹ wireshark å§, ä¸€ä¸ªæŠ“åŒ…å·¥å…·, èƒ½æ¸…æ™°çš„çœ‹åˆ°ä¸åŒè¯·æ±‚æºå¸¦çš„å†…å®¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7be5a40fb9084012b87485d607634058~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=3bNqCMpHD6IeHV2fS6xTSL6RBN8%3D" alt="image.png" loading="lazy"/>
<strong>wireshark æŠ“åŒ…ç¤ºä¾‹</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77f2f98bf7cb4198952cb28e13015a54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663603&amp;x-signature=nmvO9MLfePFY2jHroH%2BuLH1YDys%3D" alt="image.png" loading="lazy"/>
<strong>curl_cffi åº“è¯·æ±‚æŠ“åŒ…ç¤ºä¾‹</strong></p>
<p>å’Œæµè§ˆå™¨ç½‘å€ä¸Šçœ‹åˆ°çš„å†…å®¹æ˜¯å¯¹ç…§çš„, æä¸€ä¸‹, æœ‰å…´è¶£å¯ä»¥è‡ªè¡Œäº†è§£ã€‚</p>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>åˆ†äº«ä¸€ä¸‹, ä¹Ÿæ˜¯æœ€è¿‘æ‰ç¨å¾®è®¤çœŸçš„å»äº†è§£äº†ä¸‹åŸç†, èƒ½å¸®åˆ°å¤§å®¶æœ€å¥½, æœ‰é”™è¯¯å¸Œæœ›èƒ½æŒ‡å‡ºã€‚</p>
<blockquote>
<p>è¯·æ´’æ½˜æ±Ÿï¼Œå„å€¾é™†æµ·äº‘å°”ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Webå‰ç«¯ä»¬ï¼æˆ‘ç”¨ä¸‰å¹´äº²èº«ç»å†ï¼Œè¯´è¯´ä» uniapp åˆ° Flutteræ€ä¹ˆè½¬å‹çš„ï¼Œè¿™æ¡è·¯æˆ‘çˆ¬è¿‡ï¼Œå‘æˆ‘è¸©è¿‡]]></title>    <link>https://juejin.cn/post/7576378563575545871</link>    <guid>https://juejin.cn/post/7576378563575545871</guid>    <pubDate>2025-11-25T08:10:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576378563575545871" data-draft-id="7576208176007905332" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Webå‰ç«¯ä»¬ï¼æˆ‘ç”¨ä¸‰å¹´äº²èº«ç»å†ï¼Œè¯´è¯´ä» uniapp åˆ° Flutteræ€ä¹ˆè½¬å‹çš„ï¼Œè¿™æ¡è·¯æˆ‘çˆ¬è¿‡ï¼Œå‘æˆ‘è¸©è¿‡"/> <meta itemprop="keywords" content="å‰ç«¯,Flutter,uni-app"/> <meta itemprop="datePublished" content="2025-11-25T08:10:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æ—çš„è·¨ç«¯å¼€å‘æ—¥è®°"/> <meta itemprop="url" content="https://juejin.cn/user/3320949647350765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Webå‰ç«¯ä»¬ï¼æˆ‘ç”¨ä¸‰å¹´äº²èº«ç»å†ï¼Œè¯´è¯´ä» uniapp åˆ° Flutteræ€ä¹ˆè½¬å‹çš„ï¼Œè¿™æ¡è·¯æˆ‘çˆ¬è¿‡ï¼Œå‘æˆ‘è¸©è¿‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3320949647350765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æ—çš„è·¨ç«¯å¼€å‘æ—¥è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:10:26.000Z" title="Tue Nov 25 2025 08:10:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'/%3E%3C/svg%3E")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:initial}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:initial;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-top:0!important;padding-bottom:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-top:8px!important;padding-bottom:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}.markdown-body hr{border-bottom-color:#eee}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body&gt;:first-child{margin-top:0!important}.markdown-body&gt;:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body details,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li{word-wrap:break-all}.markdown-body li&gt;p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:initial;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre&gt;code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}.markdown-body .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}.markdown-body .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{cursor:pointer;background:#ffea7f}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}</style><style data-highlight="" data-highlight-key="github">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ã€å°æ—ã€‘</p>
<p>è¯´æ¥æœ‰ç‚¹æ„æ€ï¼Œæˆ‘çš„åå°ç§ä¿¡ï¼Œæœ€è¿‘æœ‰ç‚¹çƒ­é—¹çƒ­é—¹ï¼Œç‚¹å¼€ä¸€çœ‹ï¼Œç¿»æ¥è¦†å»éƒ½æ˜¯åŒä¸€ä¸ªé—®é¢˜ï¼š</p>
<p><strong>â€œå“¥ä»¬ï¼Œæˆ‘ä¸€Webå‰ç«¯ï¼Œèƒ½è½¬ RN/Flutter å—ï¼Ÿå¥½è½¬å—ï¼Ÿæ°´æ·±ä¸ï¼Ÿâ€</strong></p>
<p>é—®çš„äººå¤šäº†ï¼Œæˆ‘ä¸€ä¸ªä¸ªå›å®åœ¨æœ‰ç‚¹ç´¯ã€‚è€Œä¸”æˆ‘å‘ç°ï¼Œè¿™å·²ç»ä¸æ˜¯ä¸€ä¸ªç®€å•çš„â€œèƒ½ä¸èƒ½â€çš„é—®é¢˜ï¼ŒèƒŒåæ˜¯ Web å¼€å‘è€…å¯¹æœªçŸ¥ç§»åŠ¨ç«¯é¢†åŸŸçš„ä¸€ç³»åˆ—å›°æƒ‘ã€ç„¦è™‘å’Œå¥½å¥‡ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘å†³å®šå¹²è„†å†™ä¸€ç¯‡æ–‡ç« ï¼ŒæŠŠæˆ‘ä»ä¸€ä¸ªçº¯ç²¹çš„ Web å‰ç«¯ï¼Œä¸€æ­¥æ­¥â€œçˆ¬â€åˆ° Flutter å¼€å‘çš„ç»å†å’Œæ€è€ƒï¼Œæ°å¼€æ‰ç¢äº†åˆ†äº«ç»™å¤§å®¶ã€‚æˆ‘ä¸è®²æŸä¸ª API æ€ä¹ˆç”¨ï¼Œä¹Ÿä¸è´´å¤§æ®µçš„æºç ï¼Œå’±å°±èŠç‚¹å¤§å®è¯ï¼ŒèŠèŠè¿™æ¡è·¯åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹ã€‚</p>
<p>å…ˆè‡ªæŠ¥å®¶é—¨ï¼Œè®©å¤§å®¶çŸ¥é“æˆ‘ä¸æ˜¯åœ¨â€œçå¿½æ‚ â€ã€‚</p>
<p>æˆ‘ï¼Œ22å¹´æ¯•ä¸šå°±åšäº† Web å‰ç«¯ã€‚ç¬¬ä¸€ä»½å·¥ä½œåœ¨ä¸Šæµ·ä¸€å®¶å°å…¬å¸ï¼Œä¸Šæ¥å°±æ˜¯ç¡¬ä»—ï¼Œç”¨Â <code>uni-app</code>Â ä»0åˆ°1ææ¢ç”µå°ç¨‹åºçš„å¾®ä¿¡å’Œæ”¯ä»˜å®ç‰ˆã€‚åæ¥è€æ¿ä¸ºäº†èèµ„ï¼Œè¯´å°ç¨‹åºä½“éªŒä¸è¡Œï¼Œè¦åš Appï¼Œäºæ˜¯æˆ‘åˆä¸´å±å—å‘½ï¼Œåœ¨Â <code>uni-app</code>ã€<code>RN</code>ã€<code>Flutter</code>Â ä¸‰ä¸ªæŠ€æœ¯é‡Œé€‰å‹ï¼Œæœ€åç¡¬ç€å¤´çš®ä¸Šäº†Â <code>Flutter</code>ï¼Œé‚£æ—¶å€™å¯æ²¡ç°åœ¨è¿™ä¹ˆå¤š AI èƒ½å¸®ä½ ï¼Œå…¨é ä¸€è¡Œè¡Œæ‰‹æ•²ï¼Œæ„£æ˜¯æŠŠ App ç»™å¹²ä¸Šçº¿äº†ã€‚</p>
<p>åæ¥è·³æ§½åˆ°äº†åŒ—äº¬ä¸€å®¶ä¸Šå¸‚å…¬å¸ï¼Œæ­£å¼æˆä¸ºä¸€å Flutter å¼€å‘ï¼Œåš AIGC é¡¹ç›®ï¼Œå°±æ˜¯å¤§å®¶ç©çš„æ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾é‚£äº›ã€‚å†åæ¥ï¼Œæˆ‘åˆå»äº†å°ç±³ï¼ˆå¤–åŒ…ï¼‰ï¼Œå‚ä¸é’±åŒ…é‡Œçš„ AI è®°è´¦æ¨¡å—ï¼Œä½“éªŒäº†ä¸€æŠŠå¤§å‚çš„æ··åˆå¼€å‘æ¨¡å¼ã€‚ç°åœ¨å…¥èŒä¸€å®¶ä¸­å‚ï¼Œæœ‰ä¸“é—¨çš„FlutteræŠ€æœ¯å›¢é˜Ÿ...</p>
<p>ä¸€è·¯ä¸Šï¼Œä»Â <code>uni-app</code>Â çš„ WebViewï¼Œåˆ° Flutter çš„è‡ªç»˜å¼•æ“ï¼Œä»ä¸€ä¸ªäººå•æ‰“ç‹¬æ–—ï¼Œåˆ°å’ŒåŸç”Ÿå¼€å‘ååŒä½œæˆ˜ï¼Œä¹Ÿè‡ªå·±å°è£…äº†å‡ ä¸ªæ’ä»¶å‘å¸ƒåˆ° pub.devï¼Œç®—æ˜¯æ··äº†ä¸ªè„¸ç†Ÿã€‚</p>
<p>æ‰€ä»¥ï¼Œå…³äºâ€œWebå‰ç«¯è½¬è·¨å¹³å°â€è¿™ä¸ªè¯é¢˜ï¼Œæˆ‘è§‰å¾—æˆ‘è¿˜æ˜¯èƒ½èŠå‡ å¥çš„ã€‚</p>
<h2 data-id="heading-1">ç¯‡ç« ä¸€ï¼š æ‹ç›´æ¦‚å¿µï¼Œä»€ä¹ˆæ˜¯è·¨å¹³å°åˆ°å¼€å‘</h2>
<p>åœ¨å¾ˆå¤š Web åŒå­¦çœ¼é‡Œä¹ŸåŒ…æ‹¬æ›¾ç»çš„æˆ‘ï¼Œç§»åŠ¨ç«¯å¼€å‘å°±ä¿©ç‰©ç§ï¼š<strong>åŸç”Ÿï¼ˆNativeï¼‰</strong> Â å’ŒÂ <strong>è·¨å¹³å°ï¼ˆCross-Platformï¼‰</strong> ã€‚</p>
<h3 data-id="heading-2">åŸç”Ÿå¼€å‘å’Œè·¨å¹³å°å¼€å‘çš„åŒºåˆ«åœ¨å“ªï¼Ÿ</h3>
<p>è¿™ä¸ªç†è§£æ²¡é”™ï¼Œä½†æœ‰ç‚¹ç¬¼ç»Ÿã€‚æˆ‘ä»¬ç”¨ä¸ªå¥½æ‡‚çš„æ¯”å–»æ¥è§£é‡Šã€‚</p>
<p><strong>åŸç”Ÿå¼€å‘ï¼ˆNative Developmentï¼‰</strong></p>
<blockquote>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ è¦åœ¨åŒ—äº¬å’Œä¸Šæµ·å„å¼€ä¸€å®¶æœ¬åœ°ç‰¹è‰²èœé¦†ã€‚</p>
<p>ä½ ä¼šåœ¨åŒ—äº¬è¯·ä¸€ä½ç²¾é€šäº¬é…±è‚‰ä¸ã€çƒ¤é¸­çš„åŒ—äº¬æœ¬åœ°å¨å¸ˆï¼ˆ<strong>Android å¼€å‘è€…</strong>ï¼‰ï¼Œç”¨æœ¬åœ°çš„é£Ÿæå’Œç¶å…·ï¼ˆ<strong>Java/Kotlin + Android SDK</strong>ï¼‰ã€‚</p>
<p>ä½ ä¼šåœ¨ä¸Šæµ·è¯·ä¸€ä½ç²¾é€šçº¢çƒ§è‚‰ã€è…Œç¬ƒé²œçš„ä¸Šæµ·æœ¬åœ°å¨å¸ˆï¼ˆ<strong>iOS å¼€å‘è€…</strong>ï¼‰ï¼Œç”¨ä¸Šæµ·çš„é£Ÿæå’Œç¶å…·ï¼ˆ<strong>Objective-C/Swift + iOS SDK</strong>ï¼‰ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šä¸¤å®¶èœé¦†éƒ½åšå‡ºäº†æœ€åœ°é“ã€æœ€åŸæ±åŸå‘³ã€ä¸Šèœæœ€å¿«çš„æœ¬åœ°èœï¼ˆ<strong>æ€§èƒ½æœ€å¥½ã€ä½“éªŒæœ€æ£’ã€æœ€è´´åˆç³»ç»Ÿç‰¹æ€§</strong>ï¼‰ã€‚<br/>
<strong>ç¼ºç‚¹</strong>ï¼šä½ å¾—é›‡ä¸¤ä¸ªå¨å¸ˆï¼Œæ²Ÿé€šä¸¤å¥—èœå•ï¼Œç®¡ç†ä¸¤ä¸ªå¨æˆ¿ï¼Œæˆæœ¬ç›´æ¥ç¿»å€ï¼ˆ<strong>å¼€å‘æˆæœ¬é«˜ã€å‘¨æœŸé•¿ã€å›¢é˜Ÿç»´æŠ¤éš¾</strong>ï¼‰ã€‚</p>
</blockquote>
<p><strong>åŸç”Ÿå¼€å‘è§£å†³çš„æ ¸å¿ƒèŒè´£æ˜¯ï¼šæ¦¨å¹²å¹³å°æ€§èƒ½ï¼Œæä¾›æè‡´çš„ç”¨æˆ·ä½“éªŒã€‚</strong> Â ä»»ä½•ä¸ç³»ç»Ÿåº•å±‚æ·±åº¦äº¤äº’çš„åŠŸèƒ½ï¼Œæ¯”å¦‚å®šåˆ¶åŒ–çš„ç³»ç»Ÿçº§æœåŠ¡ã€å¤æ‚çš„è“ç‰™/NFCé€šä¿¡ã€é«˜æ€§èƒ½çš„å›¾å½¢å¤„ç†ï¼ŒåŸç”Ÿéƒ½æ˜¯å½“ä¹‹æ— æ„§çš„ç‹è€…ã€‚åœ¨æˆ‘åšAIGCé¡¹ç›®æ—¶ï¼Œé‚£ä¸¤ä¸ªå®‰å“å’ŒiOSçš„åŒäº‹ï¼Œä»–ä»¬ä¸ç›´æ¥å‚ä¸ä¸šåŠ¡å¼€å‘ï¼Œä½†ä»–ä»¬è´Ÿè´£æ‰“åŒ…ã€è´Ÿè´£æŠŠç®—æ³•å›¢é˜Ÿç»™çš„ C++ SDK é›†æˆåˆ°åŸç”Ÿå·¥ç¨‹é‡Œï¼Œå†æš´éœ²æ¥å£ç»™æˆ‘ä»¬ Flutter è°ƒç”¨ã€‚è¿™å°±æ˜¯åŸç”Ÿçš„â€œç‰¹åŒºâ€ï¼Œè·¨å¹³å°æŠ€æœ¯è½»æ˜“ä¸æ•¢æ¶‰è¶³ã€‚</p>
<p><strong>è·¨å¹³å°å¼€å‘ï¼ˆCross-Platform Developmentï¼‰</strong></p>
<blockquote>
<p>ç°åœ¨ï¼Œä½ è§‰å¾—ä¸¤å®¶åº—æˆæœ¬å¤ªé«˜ï¼Œå†³å®šå¼€ä¸€å®¶èåˆèœé¦†ã€‚</p>
<p>ä½ è¯·æ¥ä¸€ä½å¤©æ‰å¤§å¨ï¼ˆ<strong>è·¨å¹³å°æ¡†æ¶</strong>ï¼‰ï¼Œä»–å¸¦æ¥äº†ä¸€å¥—è‡ªå·±ç‹¬é—¨çš„ä¸‡èƒ½å¨å…·å’Œæ ‡å‡†åŒ–çš„çƒ¹é¥ªæµç¨‹ï¼ˆ<strong>ä¸€å¥—ä»£ç </strong>ï¼‰ã€‚</p>
<p>ä»–ç”¨è¿™å¥—æµç¨‹ï¼Œæ—¢èƒ½åšå‡ºå…«ä¹ä¸ç¦»åçš„äº¬é…±è‚‰ä¸ï¼Œä¹Ÿèƒ½åšå‡ºå‘³é“ä¸é”™çš„çº¢çƒ§è‚‰ï¼Œè€Œä¸”ä¸¤é“èœå¯ä»¥åŒæ—¶å¼€ç«ï¼Œæ•ˆç‡æé«˜ï¼ˆ<strong>ä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œï¼Œé™æœ¬å¢æ•ˆ</strong>ï¼‰ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šä½ åªéœ€è¦ç®¡ç†ä¸€ä¸ªå¨å¸ˆå’Œä¸€ä¸ªå¨æˆ¿ï¼Œæˆæœ¬å¤§å¤§é™ä½ï¼Œä¸Šæ–°èœä¹Ÿå¿«ï¼ˆ<strong>å¼€å‘æˆæœ¬ä½ã€æ•ˆç‡é«˜ã€UIä¸€è‡´æ€§å¥½</strong>ï¼‰ã€‚<br/>
<strong>ç¼ºç‚¹</strong>ï¼šè™½ç„¶èœå¥½åƒï¼Œä½†ç»ˆç©¶ä¸æ˜¯æœ¬åœ°è€å¸ˆå‚…åšçš„ï¼Œå£æ„Ÿä¸Šå¯èƒ½å·®é‚£ä¹ˆç‚¹â€œåœ°é“â€çš„æ„Ÿè§‰ï¼ˆ<strong>æ€§èƒ½å’Œä½“éªŒé€šå¸¸æœ‰æŸè€—</strong>ï¼‰ï¼Œè€Œä¸”å¦‚æœé‡åˆ°ç‰¹åˆ«åˆé’»çš„æœ¬åœ°é£Ÿæï¼ˆ<strong>ç‰¹å®šç³»ç»ŸAPI</strong>ï¼‰ï¼Œè¿™ä½å¤§å¨ä¹Ÿå¾—å»è¯·æ•™æœ¬åœ°å¨å¸ˆæ€ä¹ˆå¤„ç†ï¼ˆ<strong>éœ€è¦åŸç”Ÿè¾…åŠ©</strong>ï¼‰ã€‚</p>
</blockquote>
<p><strong>è·¨å¹³å°è§£å†³çš„æ ¸å¿ƒèŒè´£æ˜¯ï¼šåœ¨ä¿è¯ä½“éªŒåŸºæœ¬ç›˜çš„æƒ…å†µä¸‹ï¼Œæœ€å¤§åŒ–åœ°å¤ç”¨ä»£ç ï¼Œé™ä½æˆæœ¬ï¼Œæå‡æ•ˆç‡ã€‚</strong> Â å®ƒæ˜¯å•†ä¸šå’ŒæŠ€æœ¯æƒè¡¡ä¸‹çš„äº§ç‰©ï¼Œå°¤å…¶é€‚åˆé‚£äº›ä¸šåŠ¡é€»è¾‘å¤æ‚ã€UIå¤šæ ·çš„åº”ç”¨ã€‚</p>
<h3 data-id="heading-3">ç§»åŠ¨ç«¯å¼€å‘éœ€è¦çš„æ€ç»´æ¨¡å¼</h3>
<p>åœ¨èŠæŠ€æœ¯ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆèŠç‚¹æ›´é‡è¦çš„ä¸œè¥¿ï¼š<strong>æ€ç»´æ¨¡å¼</strong>ã€‚ä» Web è½¬ç§»åŠ¨ç«¯ï¼Œæœ€å¤§çš„åä¸æ˜¯å­¦ Dart æˆ– Reactï¼Œè€Œæ˜¯ä½ å¤§è„‘é‡Œæ ¹æ·±è’‚å›ºçš„â€œæµè§ˆå™¨æ€ç»´â€ã€‚</p>
<ul>
<li><strong>ä»â€œæ— çŠ¶æ€â€çš„ç½‘é¡µåˆ°â€œæœ‰çŠ¶æ€â€çš„åº”ç”¨</strong><br/>
Web çš„ä¸–ç•Œï¼Œæœ¬è´¨æ˜¯è¯·æ±‚-å“åº”ã€‚ç”¨æˆ·ç‚¹ä¸€ä¸‹ï¼Œé¡µé¢åˆ·ä¸€ä¸‹ï¼Œå¤§éƒ¨åˆ†æ—¶å€™æˆ‘ä»¬ä¸å…³å¿ƒç”¨æˆ·ä¸Šä¸€æ­¥å¹²äº†å•¥ã€‚è€Œ App æ˜¯ä¸€ä¸ª<strong>æ´»ç‰©</strong>ï¼Œå®ƒæœ‰ç”Ÿå‘½å‘¨æœŸï¼šä»åå°è¢«å”¤é†’ã€è¢«ä¸€ä¸ªç”µè¯æ‰“æ–­ã€è¢«ç³»ç»Ÿå› ä¸ºå†…å­˜ä¸è¶³è€Œæ€æ­»â€¦â€¦ä½ å†™çš„æ¯ä¸€è¡Œä»£ç ï¼Œéƒ½å¾—åƒä¸ªæ“å¿ƒçš„è€å¦ˆå­ï¼Œè€ƒè™‘è¿™ä¸ªâ€œæ´»ç‰©â€åœ¨å„ç§çŠ¶æ€ä¸‹çš„è¡¨ç°ã€‚è¿™æ˜¯ä¸€ç§ä»â€œé¢å‘æ–‡æ¡£â€åˆ°â€œé¢å‘çŠ¶æ€â€çš„æ ¹æœ¬è½¬å˜ã€‚</li>
<li><strong>ä»â€œæ¸©å®¤â€çš„æµè§ˆå™¨åˆ°â€œä¸¥é…·â€çš„ç§»åŠ¨ç¯å¢ƒ</strong><br/>
åœ¨ Web ç«¯ï¼Œæˆ‘ä»¬æ˜¯æ¸©å®¤é‡Œçš„èŠ±æœµï¼ŒèƒŒåæœ‰å¼ºå¤§çš„æœåŠ¡å™¨å’Œç¨³å®šçš„ç½‘ç»œã€‚ä½†åœ¨ç§»åŠ¨ç«¯ï¼Œä½ çš„ App æ˜¯åœ¨ä¸€ä¸ªèµ„æºæå…¶æœ‰é™ã€ç¯å¢ƒæå…¶æ¶åŠ£çš„â€œè’é‡â€æ±‚ç”Ÿã€‚<strong>æ€§èƒ½</strong>ä¸å†æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œè€Œæ˜¯ç”Ÿæ­»çº¿ã€‚æˆ‘åš AIGC é¡¹ç›®æ—¶ï¼Œä¸€å¼ å›¾çš„ç”Ÿæˆè¿‡ç¨‹ï¼Œå¦‚æœå¯¼è‡´ UI æ‰å¸§ï¼Œç”¨æˆ·ä¼šç«‹åˆ»æ„Ÿè§‰åˆ°å¡é¡¿ï¼›å¦‚æœå†…å­˜æ§åˆ¶ä¸å¥½ï¼Œä½ç«¯æœºç›´æ¥é—ªé€€ã€‚ç”µé‡ã€å†…å­˜ã€ç½‘ç»œæŠ–åŠ¨ã€CPU å ç”¨â€¦â€¦è¿™äº›è¿‡å»æˆ‘ä»¬ä¸å¤ªå…³å¿ƒçš„æŒ‡æ ‡ï¼Œç°åœ¨æˆäº†æ‚¬åœ¨å¤´ä¸Šçš„è¾¾æ‘©å…‹åˆ©æ–¯ä¹‹å‰‘ã€‚</li>
<li><strong>ä»â€œæ–‡æ¡£æµâ€çš„å¸ƒå±€åˆ°â€œçº¦æŸâ€çš„å¸ƒå±€</strong><br/>
Web å¸ƒå±€æ˜¯â€œé¡ºæµè€Œä¸‹â€ï¼Œæˆ‘ä»¬ç”¨ Flexã€Grid æ”¹å˜æ°´æµæ–¹å‘ã€‚è€Œç§»åŠ¨ç«¯å¸ƒå±€æ˜¯â€œæˆ´ç€é•£é“è·³èˆâ€ï¼Œæ¯ä¸ªç»„ä»¶éƒ½è¢«çˆ¶çº§æ­»æ­»åœ°â€œçº¦æŸâ€åœ¨ä¸€ä¸ªçŸ©å½¢å†…ã€‚ä½ å¿…é¡»å­¦ä¼šä»â€œæˆ‘æƒ³æŠŠå®ƒæ”¾å“ªâ€è½¬å˜ä¸ºâ€œæˆ‘è¯¥å¦‚ä½•çº¦æŸå®ƒï¼Œè®©å®ƒåœ¨æˆ‘æƒ³è¦çš„ä½ç½®â€ã€‚</li>
</ul>
<p>å¥½äº†ï¼Œå¿ƒæ€æ‘†æ­£äº†ï¼Œæˆ‘ä»¬å†æ¥çœ‹æŠ€æœ¯ï¼Œä½ ä¼šå‘ç°å¾ˆå¤šè®¾è®¡çš„â€œæ‰€ä»¥ç„¶â€ã€‚</p>
<h2 data-id="heading-4">ç¯‡ç« äºŒï¼šç›´å‡»åº•å±‚ï¼šä¸‰å¤§è·¨å¹³å°æ¡†æ¶çš„æ¶æ„åŸç†å‰–æ</h2>
<h3 data-id="heading-5">Â uni-app: WebView å®¹å™¨çš„é›†å¤§æˆè€…</h3>
<ul>
<li>
<p><strong>æ ¸å¿ƒæ¶æ„ï¼šWebView + JSBridge</strong><br/>
<code>uni-app</code>Â åœ¨æ„å»º App æ—¶çš„æ ¸å¿ƒæ€æƒ³ï¼Œæ˜¯å°†ä½ çš„ Vue.js åº”ç”¨è¿è¡Œåœ¨ä¸€ä¸ªåŸç”Ÿçš„â€œå®¹å™¨â€ä¹‹å†…ï¼Œè€Œè¿™ä¸ªå®¹å™¨çš„ä¸»è¦ç»„ä»¶å°±æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„Â <strong>WebView</strong>ã€‚WebView æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåµŒå…¥åœ¨ App å†…éƒ¨çš„ã€è¢«é˜‰å‰²å’Œå¼ºåŒ–çš„æµè§ˆå™¨å†…æ ¸ï¼ˆiOS çš„ WKWebViewï¼ŒAndroid çš„ WebViewï¼‰ã€‚ä½ çš„æ‰€æœ‰é¡µé¢å’Œç»„ä»¶ï¼Œå®é™…ä¸Šéƒ½æ˜¯åœ¨æ¸²æŸ“ä¸€ä¸ªæœ¬åœ°çš„ HTMLã€CSS å’Œ JavaScript æ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>UI æ¸²æŸ“æœºåˆ¶</strong><br/>
UI çš„æ¸²æŸ“å·¥ä½œå®Œå…¨ç”± WebView çš„æ¸²æŸ“å¼•æ“è´Ÿè´£ã€‚è¿™æ„å‘³ç€ï¼Œä½ å†™çš„Â <code>&lt;view&gt;</code>Â æ ‡ç­¾æœ€ç»ˆä¼šè¢«æ¸²æŸ“æˆÂ <code>&lt;div&gt;</code>ï¼ŒåŠ¨ç”»æ•ˆæœä¾èµ–äº CSS Transitions/Animationsï¼Œå¸ƒå±€éµå¾ªæ ‡å‡†çš„ Web æ–‡æ¡£æµå’Œ Flexbox æ¨¡å‹ã€‚è¿™å¯¹äº Web å¼€å‘è€…æ˜¯é›¶æˆæœ¬ä¸Šæ‰‹ï¼Œä½†åŒæ—¶ä¹Ÿæ„å‘³ç€ï¼Œ<strong>UI çš„æ€§èƒ½ä¸Šé™è¢« WebView æœ¬èº«ç‰¢ç‰¢é”æ­»</strong>ã€‚</p>
</li>
<li>
<p><strong>é€»è¾‘ä¸åŸç”Ÿé€šä¿¡ï¼šJSBridge</strong><br/>
å½“ä½ çš„ Web é¡µé¢ï¼ˆJS ä»£ç ï¼‰éœ€è¦è°ƒç”¨åŸç”Ÿçš„èƒ½åŠ›æ—¶ï¼Œæ¯”å¦‚æ‰«ç ã€è·å–åœ°ç†ä½ç½®ï¼Œå°±éœ€è¦é€šè¿‡Â <strong>JSBridge</strong>Â è¿™ä¸ªâ€œä¿¡ä½¿â€æ¥å®Œæˆã€‚å…¶å·¥ä½œæµç¨‹é€šå¸¸æ˜¯ï¼š</p>
<ol>
<li><strong>JavaScript è°ƒç”¨</strong>ï¼šä½ åœ¨ JS ä¸­è°ƒç”¨Â <code>uni.scanCode()</code>ã€‚</li>
<li><strong>æ•°æ®åºåˆ—åŒ–</strong>ï¼šJSBridge å°†è¿™ä¸ªè°ƒç”¨å’Œå‚æ•°æ‰“åŒ…æˆä¸€ä¸ªç‰¹å®šæ ¼å¼çš„å­—ç¬¦ä¸²ï¼ˆé€šå¸¸æ˜¯ JSONï¼‰ã€‚</li>
<li><strong>æ¶ˆæ¯ä¼ é€’</strong>ï¼šé€šè¿‡ WebView æä¾›ç»™åŸç”Ÿç¯å¢ƒçš„æ¥å£ï¼Œå°†è¿™ä¸ªå­—ç¬¦ä¸²æ¶ˆæ¯å‘é€ç»™åŸç”Ÿä»£ç ã€‚</li>
<li><strong>åŸç”Ÿæ‰§è¡Œ</strong>ï¼šåŸç”Ÿä»£ç æ¥æ”¶å¹¶è§£ææ¶ˆæ¯ï¼Œæ‰§è¡ŒçœŸæ­£çš„æ‰«ç æ“ä½œã€‚</li>
<li><strong>ç»“æœè¿”å›</strong>ï¼šåŸç”Ÿå°†ç»“æœå†æ¬¡åºåˆ—åŒ–ï¼Œé€šè¿‡å›è°ƒæœºåˆ¶ä¼ å›ç»™ WebView ä¸­çš„ JavaScriptã€‚</li>
</ol>
</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åœ¨ uni-app é¡µé¢é‡Œ</span>
uni.<span class="hljs-title function_">scanCode</span>({
  <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¡ç å†…å®¹ï¼š'</span> + res.<span class="hljs-property">result</span>);
  }
});
<span class="hljs-comment">// uni.scanCode è¿™ä¸ªJS APIï¼Œåº•å±‚å°±æ˜¯é€šè¿‡ JSBridge</span>
<span class="hljs-comment">// å»è°ƒç”¨äº†åŸç”Ÿå®‰å“æˆ–iOSçš„æ‰«ç åŠŸèƒ½</span>
</code></pre>
<p>è¿™ä¸ªè¿‡ç¨‹æ˜¯<strong>å¼‚æ­¥</strong>çš„ï¼Œå¹¶ä¸”æ¶‰åŠå¤šæ¬¡<strong>æ•°æ®åºåˆ—åŒ–/ååºåˆ—åŒ–</strong>å’Œ<strong>çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢</strong>ï¼ˆJavaScript çº¿ç¨‹ â†” åŸç”Ÿ UI çº¿ç¨‹ï¼‰ã€‚å¯¹äºä½é¢‘è°ƒç”¨ï¼Œè¿™æ²¡æœ‰é—®é¢˜ï¼›ä½†å¯¹äºé«˜é¢‘äº¤äº’ï¼ˆå¦‚è‡ªå®šä¹‰æ‰‹åŠ¿ã€å®æ—¶é€šä¿¡ï¼‰ï¼ŒJSBridge å°±ä¼šæˆä¸ºæ˜æ˜¾çš„æ€§èƒ½ç“¶é¢ˆã€‚</p>
<ul>
<li><strong>æ¶æ„æ€»ç»“</strong><br/>
<code>uni-app</code>Â çš„æ¶æ„æ˜¯ä¸€ç§æè‡´çš„å®ç”¨ä¸»ä¹‰ã€‚å®ƒç”¨ Web å¼€å‘è€…æœ€ç†Ÿæ‚‰çš„æŠ€æœ¯æ ˆï¼Œä»¥æœ€ä½çš„æˆæœ¬å®ç°äº†è·¨ç«¯ã€‚ä½†å…¶ä»£ä»·æ˜¯æ€§èƒ½å’Œä½“éªŒçš„å¤©èŠ±æ¿è¾ƒä½ï¼Œæ°¸è¿œæ— æ³•æ‘†è„±â€œç½‘é¡µæ„Ÿâ€ï¼Œå› ä¸ºå®ƒæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªé«˜åº¦ä¼˜åŒ–çš„æœ¬åœ°ç½‘ç«™ã€‚</li>
</ul>
<h3 data-id="heading-6">React Native: è¿ˆå‘â€œæ— æ¡¥æ¥â€æ–°æ—¶ä»£çš„åŸç”Ÿ UI æ˜ å°„</h3>
<ul>
<li>
<p><strong>æ ¸å¿ƒæ¶æ„ï¼šJavaScript çº¿ç¨‹ + åŸç”Ÿ UI çº¿ç¨‹</strong><br/>
RN çš„è®¾è®¡å“²å­¦ä¸ WebView å®Œå…¨ä¸åŒã€‚å®ƒå¹¶æ²¡æœ‰æŠŠä½ çš„ä»£ç è·‘åœ¨æµè§ˆå™¨é‡Œï¼Œè€Œæ˜¯å¯åŠ¨äº†ä¸€ä¸ªç‹¬ç«‹çš„Â <strong>JavaScript çº¿ç¨‹</strong>ï¼ˆé€šå¸¸ä½¿ç”¨ä¸ºç§»åŠ¨ç«¯ä¼˜åŒ–çš„Â <strong>Hermes</strong>Â å¼•æ“ï¼‰æ¥æ‰§è¡Œä½ çš„ React ä»£ç ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰ã€‚å½“ä½ çš„ç»„ä»¶æ ‘å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒRN ä¼šè®¡ç®—å‡ºæœ€å°åŒ–çš„ UI æ›´æ–°æ“ä½œï¼Œç„¶åé€šè¿‡ä¸€å¥—é€šä¿¡æœºåˆ¶ï¼Œå‘ŠçŸ¥<strong>åŸç”Ÿ UI çº¿ç¨‹</strong>å»åˆ›å»ºã€æ›´æ–°æˆ–åˆ é™¤å¯¹åº”çš„<strong>åŸç”Ÿ UI ç»„ä»¶</strong>ã€‚</p>
</li>
<li>
<p><strong>UI æ¸²æŸ“æœºåˆ¶</strong><br/>
ä½ å†™çš„Â <code>&lt;View&gt;</code>Â ç»„ä»¶ï¼Œæœ€ç»ˆä¼šç”± RN è½¬åŒ–ä¸º iOS ä¸Šçš„Â <code>UIView</code>Â æˆ– Android ä¸Šçš„Â <code>android.view.View</code>ã€‚<strong>æ¸²æŸ“å·¥ä½œæ˜¯100%ç”±åŸç”Ÿç³»ç»Ÿå®Œæˆçš„</strong>ã€‚è¿™ä½¿å¾— RN åº”ç”¨åœ¨å¤–è§‚å’ŒåŸºç¡€äº¤äº’ä¸Šèƒ½å¤Ÿè¾¾åˆ°ä¸åŸç”Ÿåº”ç”¨å‡ ä¹æ— å¼‚çš„æ°´å¹³ã€‚</p>
</li>
<li>
<p><strong>é€»è¾‘ä¸åŸç”Ÿé€šä¿¡ï¼ˆåˆ’é‡ç‚¹ï¼šæ¶æ„çš„æ¼”è¿›ï¼‰</strong><br/>
RN çš„é€šä¿¡æœºåˆ¶æ˜¯å…¶æ€§èƒ½æ¼”è¿›çš„å…³é”®ï¼Œç»å†äº†ä¸¤ä¸ªæ—¶ä»£ï¼š</p>
<ul>
<li>
<p><strong>æ—§æ¶æ„ (Bridge)</strong> ï¼šè¿™æ˜¯ RN æ—©æœŸçš„é€šä¿¡æ ¸å¿ƒã€‚å®ƒæ˜¯ä¸€ä¸ª<strong>å¼‚æ­¥çš„ã€å¯æ‰¹å¤„ç†çš„æ¡¥</strong>ã€‚JS çº¿ç¨‹å’ŒåŸç”Ÿçº¿ç¨‹é€šè¿‡è¿™ä¸ªæ¡¥æ¥å›ä¼ é€’åºåˆ—åŒ–åçš„ JSON æ¶ˆæ¯ã€‚è¿™ä¸ªè®¾è®¡çš„ç“¶é¢ˆåœ¨äºï¼š1)Â <strong>å¼‚æ­¥</strong>ï¼šJS æ— æ³•åŒæ­¥è°ƒç”¨åŸç”Ÿæ–¹æ³•å¹¶ç«‹å³è·å¾—ç»“æœã€‚2)Â <strong>åºåˆ—åŒ–å¼€é”€</strong>ï¼šå¯¹äºå¤§é‡æˆ–é¢‘ç¹çš„æ•°æ®äº¤æ¢ï¼ˆå¦‚åˆ—è¡¨æ»šåŠ¨æ—¶çš„äº‹ä»¶æ•°æ®ï¼‰ï¼ŒJSON è½¬æ¢çš„å¼€é”€å¾ˆå¤§ã€‚è¿™å¯¼è‡´äº†åœ¨å¤æ‚åœºæ™¯ä¸‹ï¼ŒUI å“åº”å¯èƒ½ä¼šå»¶è¿Ÿã€‚</p>
</li>
<li>
<p><strong>æ–°æ¶æ„ (JSI - JavaScript Interface)</strong> ï¼šè¿™æ˜¯ RN çš„é©å‘½æ€§å‡çº§ã€‚JSI å…è®¸ JavaScript ç›´æ¥æŒæœ‰ä¸€ä¸ªå¯¹ C++ å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶é€šè¿‡è¿™ä¸ªå¼•ç”¨<strong>åŒæ­¥è°ƒç”¨</strong>è¯¥å¯¹è±¡çš„æ–¹æ³•ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ol>
<li><strong>å‘Šåˆ« JSON åºåˆ—åŒ–</strong>ï¼šæ•°æ®å¯ä»¥ç›´æ¥åœ¨å†…å­˜ä¸­å…±äº«ï¼Œæ— éœ€ä½æ•ˆçš„å­—ç¬¦ä¸²è½¬æ¢ã€‚</li>
<li><strong>å®ç°åŒæ­¥è°ƒç”¨</strong>ï¼šJS å¯ä»¥åƒè°ƒç”¨æœ¬åœ°å‡½æ•°ä¸€æ ·è°ƒç”¨åŸç”ŸåŠŸèƒ½ï¼Œè¿™å¯¹äºéœ€è¦å³æ—¶åé¦ˆçš„å¤æ‚äº¤äº’è‡³å…³é‡è¦ã€‚<br/>
åŸºäº JSIï¼ŒRN æ¨å‡ºäº†æ–°çš„æ¸²æŸ“å™¨Â <strong>Fabric</strong>Â å’Œæ–°çš„åŸç”Ÿæ¨¡å—ç³»ç»ŸÂ <strong>TurboModules</strong>ï¼Œå…±åŒæ„æˆäº†â€œæ— æ¡¥æ¥â€çš„æ–°æ—¶ä»£ã€‚</li>
</ol>
</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">View</span>, <span class="hljs-title class_">Text</span>, <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ä½ å†™çš„è¿™ä¸ª &lt;View&gt; å’Œ &lt;Text&gt;</span>
  <span class="hljs-comment">// æœ€ç»ˆå¹¶ä¸ä¼šå˜æˆ HTML æ ‡ç­¾</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Hello, Native World!<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Click Me"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span> =&gt;</span> console.log('Button pressed!')} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  );
}
<span class="hljs-comment">// React Native ä¼šæŠŠè¿™ä¸ªç»„ä»¶æ ‘ä¿¡æ¯ï¼Œé€šè¿‡ Bridge å‘é€ç»™åŸç”Ÿ</span>
<span class="hljs-comment">// åŸç”Ÿé‚£è¾¹æ”¶åˆ°åï¼Œå°±ä¼šå»åˆ›å»ºçœŸæ­£çš„ Android.View å’Œ Android.TextView</span>

</code></pre>
<ul>
<li>
<p><strong>ç—›ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li><strong>Bridge æ€§èƒ½ç“¶é¢ˆ</strong>ï¼šå½“ä½ çš„é¥æ§å™¨æŒ‰å¾—å¤ªå¿«ï¼ˆæ¯”å¦‚é¢‘ç¹çš„åŠ¨ç”»ã€åˆ—è¡¨å¿«é€Ÿæ»šåŠ¨ï¼‰ï¼Œä¿¡å·å¤ªå¤šï¼Œç”µè§†æœºå°±å¯èƒ½ååº”ä¸è¿‡æ¥ï¼Œå¯¼è‡´å¡é¡¿ã€‚è¿™æ˜¯ RN å†å²ä¸Šä¸€ç›´è¢«è¯Ÿç—…çš„é—®é¢˜ï¼Œè™½ç„¶ç°åœ¨æœ‰äº†æ–°çš„æ¶æ„ï¼ˆJSIï¼‰åœ¨æ”¹è¿›ï¼Œä½†è¿™ä¸ªé€šä¿¡æˆæœ¬æ˜¯å®¢è§‚å­˜åœ¨çš„ã€‚</li>
<li><strong>â€œWrite once, debug everywhereâ€</strong> ï¼šå› ä¸º RN åªæ˜¯â€œè°ƒç”¨â€åŸç”Ÿç»„ä»¶ï¼Œè€Œä¸¤ç«¯åŸç”Ÿç»„ä»¶çš„è¡¨ç°æœ‰æ—¶ä¼šæœ‰ç»†å¾®å·®å¼‚ï¼Œæ‰€ä»¥ç»å¸¸ä¼šå‡ºç°ä¸€ä¸ªå¸ƒå±€åœ¨ iOS ä¸Šå¥½å¥½çš„ï¼Œåœ¨ Android ä¸Šå°±æ­ªäº†çš„æƒ…å†µï¼Œéœ€è¦å†™å¹³å°ç‰¹å®šçš„ä»£ç æ¥æŠ¹å¹³å·®å¼‚ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ¶æ„æ€»ç»“</strong><br/>
RN æä¾›çš„æ˜¯çœŸæ­£çš„åŸç”Ÿ UI ä½“éªŒã€‚å®ƒçš„æ¶æ„æ¼”è¿›ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨ä¸æ–­è§£å†³â€œå¦‚ä½•è®©ä¸¤ä¸ªåˆ†ç¦»çš„ä¸–ç•Œï¼ˆJS ä¸ Nativeï¼‰æ›´é«˜æ•ˆã€æ›´åŒæ­¥åœ°å¯¹è¯â€è¿™ä¸€æ ¸å¿ƒé—®é¢˜ã€‚æ–°æ¶æ„æå¤§åœ°æå‡äº†å…¶æ€§èƒ½ä¸Šé™ï¼Œä½¿å…¶åœ¨ç»å¤§å¤šæ•°åœºæ™¯ä¸‹éƒ½è¡¨ç°å‡ºè‰²ã€‚</p>
</li>
</ul>
<h3 data-id="heading-7">Flutter: AOT ç¼–è¯‘ä¸è‡ªç»˜å¼•æ“çš„æ€§èƒ½çŒ›å…½</h3>
<ul>
<li>
<p><strong>æ ¸å¿ƒæ¶æ„ï¼šDart AOT ç¼–è¯‘ + C++ æ¸²æŸ“å¼•æ“ (Impeller/Skia)</strong><br/>
Flutter çš„æ¶æ„ç‹¬æ ‘ä¸€å¸œï¼Œå®ƒå®Œå…¨ç‹¬ç«‹äºç³»ç»ŸåŸç”Ÿ UI ç»„ä»¶ã€‚å…¶æœ¬è´¨ä¸Šæ›´åƒä¸€ä¸ªæ¸¸æˆå¼•æ“ï¼Œåªä¸è¿‡å®ƒæ¸²æŸ“çš„æ˜¯ UI å…ƒç´ è€Œéæ¸¸æˆè§’è‰²ã€‚</p>
<ul>
<li><strong>ä»£ç æ‰§è¡Œ</strong>ï¼šä½ çš„ Dart ä»£ç åœ¨å‘å¸ƒæ¨¡å¼ä¸‹ï¼Œä¼šè¢«Â <strong>AOT (Ahead-of-Time) ç¼–è¯‘</strong>æˆå¹³å°ç›¸å…³çš„åŸç”Ÿ ARM æœºå™¨ç ã€‚è¿™æ„å‘³ç€è¿è¡Œæ—¶æ²¡æœ‰ä¸­é—´å±‚ï¼ˆå¦‚ JS è™šæ‹Ÿæœºï¼‰çš„è§£é‡Šå¼€é”€ï¼Œä»£ç æ‰§è¡Œæ•ˆç‡æé«˜ï¼Œæ€§èƒ½ç¨³å®šå¯é¢„æµ‹ã€‚</li>
<li><strong>UI æ¸²æŸ“</strong>ï¼šFlutter æ¥ç®¡äº†æ•´ä¸ªå±å¹•çš„æ¸²æŸ“ã€‚å®ƒè¦æ±‚æ“ä½œç³»ç»Ÿæä¾›ä¸€å—ç©ºç™½çš„ç”»å¸ƒï¼ˆ<code>Surface</code>ï¼‰ï¼Œç„¶åè°ƒç”¨å…¶è‡ªå¸¦çš„ C++ æ¸²æŸ“å¼•æ“ï¼Œä¸€ä¸ªåƒç´ ä¸€ä¸ªåƒç´ åœ°å°†æ•´ä¸ªç•Œé¢ç»˜åˆ¶å‡ºæ¥ã€‚</li>
</ul>
</li>
<li>
<p><strong>UI æ¸²æŸ“æœºåˆ¶ï¼ˆåˆ’é‡ç‚¹ï¼šå¼•æ“çš„è¿›åŒ–ï¼‰</strong><br/>
Flutter çš„æ¸²æŸ“å¼•æ“æ˜¯å…¶æ€§èƒ½çš„åŸºçŸ³ï¼Œä¹Ÿç»å†äº†ä¸€æ¬¡é‡å¤§æ¼”è¿›ï¼š</p>
<ul>
<li><strong>Skia å¼•æ“</strong>ï¼šè¿™æ˜¯ Google å¼€æºçš„ 2D å›¾å½¢åº“ï¼Œä¹Ÿæ˜¯ Chrome å’Œ Android çš„åº•å±‚å›¾å½¢å¼•æ“ã€‚Skia æ€§èƒ½å¼ºå¤§ï¼Œä½†å­˜åœ¨ä¸€ä¸ªè¢«ç§°ä¸ºâ€œ<strong>ç€è‰²å™¨ç¼–è¯‘å¡é¡¿ (Shader Compilation Jank)</strong> â€çš„é—®é¢˜ã€‚å³å½“ä¸€ä¸ªå¤æ‚çš„åŠ¨ç”»æˆ–æ•ˆæœé¦–æ¬¡å‡ºç°æ—¶ï¼ŒSkia éœ€è¦åœ¨è¿è¡Œæ—¶åŠ¨æ€ç¼–è¯‘å…¶æ‰€éœ€çš„ç€è‰²å™¨ï¼ˆShaderï¼‰ï¼Œè¿™ä¸ªç¼–è¯‘è¿‡ç¨‹å¯èƒ½å¯¼è‡´é›¶ç‚¹å‡ ç§’çš„æ‰å¸§ï¼Œå½±å“é¦–æ¬¡ä½“éªŒçš„æµç•…åº¦ã€‚</li>
<li><strong>Impeller å¼•æ“</strong>ï¼šä¸ºäº†æ ¹æ²»æ­¤é—®é¢˜ï¼ŒFlutter å¼€å‘äº†æ–°çš„æ¸²æŸ“å¼•æ“ Impellerï¼ˆç›®å‰åœ¨ iOS ä¸Šå·²é»˜è®¤å¯ç”¨ï¼‰ã€‚Impeller çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼Œå®ƒä¼šåœ¨ App æ„å»ºæ—¶<strong>é¢„ç¼–è¯‘æ‰€æœ‰å¯èƒ½ç”¨åˆ°çš„ç€è‰²å™¨</strong>ã€‚è¿™æ ·ï¼Œåœ¨è¿è¡Œæ—¶å°±ä¸å†æœ‰ç¼–è¯‘å¼€é”€ï¼Œä»æ ¹æœ¬ä¸Šæ¶ˆé™¤äº†â€œé¦–æ¬¡å¡é¡¿â€ç°è±¡ï¼Œä½¿å¾—åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœå¦‚é»„æ²¹èˆ¬ä¸æ»‘ã€‚</li>
</ul>
</li>
<li>
<p><strong>é€»è¾‘ä¸åŸç”Ÿé€šä¿¡ï¼šPlatform Channels</strong><br/>
å½“ Flutter éœ€è¦ä¸å¹³å°åŸç”ŸæœåŠ¡ï¼ˆå¦‚è“ç‰™ã€ç”µé‡ã€ç›¸æœºï¼‰äº¤äº’æ—¶ï¼Œå®ƒä½¿ç”¨ä¸€ç§åä¸ºÂ <strong>Platform Channels</strong>Â çš„æœºåˆ¶ã€‚è¿™æ˜¯ä¸€ç§ç±»ä¼¼äº JSBridge çš„å¼‚æ­¥æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿï¼ŒåŒæ ·æ¶‰åŠæ•°æ®åºåˆ—åŒ–ã€‚ä½†å…³é”®åŒºåˆ«åœ¨äºï¼š<strong>Flutter ä»…åœ¨éœ€è¦è°ƒç”¨åŸç”ŸæœåŠ¡æ—¶æ‰ä½¿ç”¨å®ƒï¼Œè€Œ UI æ¸²æŸ“å®Œå…¨ä¸ä¾èµ–å®ƒ</strong>ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒRN çš„æ—§æ¶æ„ä¸­ï¼Œæ¯ä¸€æ¬¡ UI æ›´æ–°éƒ½éœ€è¦è·¨æ¡¥é€šä¿¡ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// Dart ä»£ç </span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-comment">// è¿™ä¸ª Container, Center, Text éƒ½æ˜¯ Flutter è‡ªå·±ç”»çš„</span>
    <span class="hljs-comment">// å’ŒåŸç”Ÿç³»ç»Ÿçš„ UI ç»„ä»¶åº“æ²¡æœ‰ä»»ä½•å…³ç³»</span>
    <span class="hljs-keyword">return</span> Container(
      color: Colors.blue,
      child: Center(
        child: Text(
          <span class="hljs-string">'Hello, I drew this myself!'</span>,
          style: TextStyle(color: Colors.white),
        ),
      ),
    );
  }
}
</code></pre>
<ul>
<li><strong>æ€»ç»“</strong><br/>
Flutter çš„æ¶æ„é€‰æ‹©äº†ä¸€æ¡â€œå¤§åŒ…å¤§æ½â€çš„é“è·¯ã€‚é€šè¿‡ AOT ç¼–è¯‘å’Œè‡ªç»˜å¼•æ“ï¼Œå®ƒåœ¨è·¨å¹³å° UI æ¸²æŸ“çš„<strong>æ€§èƒ½</strong>å’Œ<strong>ä¸€è‡´æ€§</strong>ä¸Šè¾¾åˆ°äº†å·…å³°ã€‚è¿™ç§æ¶æ„ç¡®ä¿äº†å¤æ‚çš„ UI ä¹Ÿèƒ½ç¨³å®šè¿è¡Œåœ¨ 60/120fpsï¼Œä»£ä»·æ˜¯æ›´å¤§çš„åˆå§‹åŒ…ä½“å’Œä¸åŸç”Ÿ UI ç”Ÿæ€çš„éš”ç¦»ã€‚</li>
</ul>
<h2 data-id="heading-8">ç¯‡ç« ä¸‰ï¼šå·…å³°å¯¹å†³ï¼šåˆ°åº•è°æ‰æ˜¯â€œæµç•…åº¦ä¹‹ç‹â€ï¼Ÿ</h2>
<p>èŠäº†è¿™ä¹ˆå¤šåº•å±‚ï¼Œæœ€ç»ˆéƒ½è¦åæ˜ åœ¨ç”¨æˆ·æŒ‡å°–çš„æ„Ÿå—ä¸Šã€‚æˆ‘ä»¬æ¥ä¸€åœºä¸å®¢è§‚ã€ä½†å¾ˆçœŸå®çš„â€œ60/120 FPS æ»šåŠ¨ä¸åŠ¨ç”»â€æµç•…åº¦å¯¹å†³ã€‚</p>
<ul>
<li>
<p>ğŸ¥‡Â <strong>å¹¶åˆ—ç‹è€…ï¼šåŸç”Ÿ iOS / Flutter (Impeller å¼•æ“)</strong></p>
<ul>
<li><strong>åŸç”Ÿ iOS</strong>ï¼šäº²å„¿å­ï¼Œä¸å¤šè§£é‡Šã€‚æœ€å°çš„ç³»ç»Ÿå¼€é”€ï¼Œæœ€ç›´æ¥çš„ç¡¬ä»¶è®¿é—®ã€‚</li>
<li><strong>Flutter (Impeller)</strong> ï¼šå‡­å€Ÿ Impeller å¼•æ“çš„â€œæå‰å¤‡æˆ˜â€ç­–ç•¥å’Œ Dart AOT ç¼–è¯‘æˆåŸç”Ÿæœºå™¨ç çš„â€œè‚Œè‚‰è®°å¿†â€ï¼ŒFlutter åœ¨ UI æ¸²æŸ“ä¸Šå‡ ä¹æŠ¹å¹³äº†ä¸åŸç”Ÿçš„å·®è·ã€‚å®ƒå°±åƒä¸€ä¸ªé¡¶çº§çš„æ¸¸æˆå¼•æ“ï¼Œç›®æ ‡å°±æ˜¯ç¨³å®šåœ°â€œåˆ·å¸§â€ï¼Œåœ¨ UI å¯†é›†å‹åº”ç”¨ä¸­ï¼Œå®ƒçš„è¡¨ç°ä»¤äººæƒŠå¹ã€‚</li>
</ul>
</li>
<li>
<p>ğŸ¥ˆÂ <strong>ç™½é“¶éª‘å£«ï¼šåŸç”Ÿ Android</strong></p>
<ul>
<li>æ€§èƒ½åŒæ ·é¡¶çº§ã€‚ä½†ç”±äºå®‰å“æœºå‹ç¢ç‰‡åŒ–å’Œ JVM å¶å°”çš„ GC (åƒåœ¾å›æ”¶) åœé¡¿ï¼Œåœ¨æŸäº›ä½ç«¯è®¾å¤‡æˆ–æç«¯æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå‡ºç°äººçœ¼å¯æ„ŸçŸ¥çš„å¾®å°å¡é¡¿ã€‚ä½†è¿™ä¾ç„¶æ˜¯æ ‡æ†çº§çš„å­˜åœ¨ã€‚</li>
</ul>
</li>
<li>
<p>ğŸ¥‰Â <strong>é’é“œè´µæ—ï¼šReact Native (æ–°æ¶æ„)</strong></p>
<ul>
<li>åˆ«è¯¯ä¼šï¼Œâ€œé’é“œâ€åªæ˜¯ç›¸å¯¹äºå‰é¢å‡ ä¸ªâ€œæ€ªç‰©â€è€Œè¨€ã€‚åœ¨æ–°æ¶æ„çš„åŠ æŒä¸‹ï¼ŒRN åœ¨ç»å¤§å¤šæ•°åœºæ™¯ä¸‹å·²ç»éå¸¸æµç•…ã€‚ä½†å®ƒçš„â€œåŸç½ªâ€åœ¨äºï¼Œ<strong>JS çº¿ç¨‹ä¾ç„¶æ˜¯ä¸šåŠ¡é€»è¾‘çš„ä¸­å¿ƒ</strong>ã€‚å½“ä½ çš„ JS çº¿ç¨‹å¿™äºå¤„ç†å¤æ‚è®¡ç®—æˆ–æµ·é‡æ•°æ®æ—¶ï¼Œå®ƒä¼ é€’ç»™ UI çº¿ç¨‹çš„â€œå¿ƒçµæ„Ÿåº”â€å°±å¯èƒ½å»¶è¿Ÿï¼Œå¯¼è‡´åŠ¨ç”»æ‰å¸§ã€‚è™½ç„¶æœ‰ â€œWorkletsâ€ ç­‰æŠ€æœ¯åœ¨åŠªåŠ›ç»•å¼€è¿™ä¸ªé—®é¢˜ï¼Œä½†è¿™ä¸ªæ¶æ„æ€§ç‰¹ç‚¹å†³å®šäº†å®ƒçš„ç†è®ºä¸Šé™ç•¥ä½äº Flutterã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-9">æœ€ç»ˆç« ï¼šWebå‰ç«¯ï¼Œä½ çš„è·¯åœ¨ä½•æ–¹ï¼Ÿ</h2>
<p>å¥½äº†ï¼Œæ•…äº‹è®²å®Œäº†ï¼Œæˆ‘ä»¬å›åˆ°ç°å®ã€‚</p>
<ul>
<li><strong>å¦‚æœä½ æƒ³â€œé™ç»´æ‰“å‡»â€å°ç¨‹åºï¼Œæˆ–å¿«é€Ÿå°† Web åº”ç”¨ App åŒ–</strong>ï¼š<br/>
<code>uni-app</code>Â æ˜¯ä½ çš„ä¸äºŒä¹‹é€‰ã€‚ç”¨ä½ æœ€ç†Ÿæ‚‰çš„ Vueï¼Œå¿«é€Ÿå‡ºæ´»ï¼Œæˆæœ¬æœ€ä½ã€‚æ¥å—å®ƒçš„å¤©èŠ±æ¿ï¼Œç”¨å®ƒæ¥è§£å†³ 80% çš„å¸¸è§„éœ€æ±‚ã€‚</li>
<li><strong>å¦‚æœä½ æ˜¯ React æ­»å¿ ï¼Œå›¢é˜ŸæŠ€æœ¯æ ˆç»Ÿä¸€</strong>ï¼š<br/>
æ‹¥æŠ±Â <code>React Native</code>Â çš„æ–°æ¶æ„ã€‚å®ƒèƒ½è®©ä½ åœ¨ç§»åŠ¨ç«¯çš„ä¸–ç•Œé‡Œæœ€å¤§åŒ–åœ°å¤ç”¨ä½ çš„ React çŸ¥è¯†ã€‚ç”Ÿæ€åºå¤§ï¼Œç¤¾åŒºæ´»è·ƒï¼Œæ‰¾è§£å†³æ–¹æ¡ˆä¹Ÿæ›´å®¹æ˜“ã€‚</li>
<li><strong>å¦‚æœä½ è¿½æ±‚æè‡´çš„è·¨å¹³å°ä½“éªŒï¼Œä¸ç•æƒ§å­¦ä¹ ï¼Œæƒ³æˆä¸ºâ€œå…¨èƒ½è‰ºæœ¯å®¶â€</strong> ï¼š<br/>
<strong>æˆ‘ä¸ªäººï¼Œæ¯«æ— ä¿ç•™åœ°æ¨èä½ ï¼Œå’Œæˆ‘ä¸€æ ·ï¼Œè·³è¿›Â <code>Flutter</code>Â çš„â€œå‘â€é‡Œ</strong>ã€‚å®ƒå¯èƒ½éœ€è¦ä½ ä»˜å‡ºä¸€ä¸ªå‘¨æœ«å»å­¦ä¹  Dartï¼Œä½†å®ƒå›é¦ˆç»™ä½ çš„æ˜¯ä¸€ä¸ªæ€§èƒ½é€¼è¿‘åŸç”Ÿã€UI è¡¨ç°åŠ›ç™»å³°é€ æã€æœªæ¥å……æ»¡æƒ³è±¡åŠ›çš„å…¨æ–°ä¸–ç•Œã€‚ä»è¢« WebView æ€§èƒ½æŸç¼šï¼Œåˆ°ç”¨ Flutter éšå¿ƒæ‰€æ¬²åœ°ç»˜åˆ¶ UIï¼Œè¿™ç§ä»â€œå·¥åŒ â€åˆ°â€œè‰ºæœ¯å®¶â€çš„èœ•å˜ï¼Œå¸¦æ¥çš„æˆå°±æ„Ÿæ˜¯æ— ä¸ä¼¦æ¯”çš„ã€‚</li>
</ul>
<p><strong>æŠ€æœ¯çš„æ¼”è¿›ï¼Œæ°¸æ— æ­¢å¢ƒã€‚</strong> Â RN åœ¨åŠªåŠ›å¡«å¹³â€œæ¡¥â€çš„é¸¿æ²Ÿï¼ŒFlutter åœ¨ä¸æ–­æ‰“ç£¨è‡ªå·±çš„â€œç”»ç¬”â€ã€‚æ²¡æœ‰æœ€å¥½çš„æŠ€æœ¯ï¼Œåªæœ‰æœ€é€‚åˆä½ å’Œä½ çš„ä¸šåŠ¡åœºæ™¯çš„æŠ€æœ¯ã€‚</p>
<p>ä»ä¸€ä¸ª Web å‰ç«¯å‡ºå‘ï¼Œè¿™æ¡è·¯æˆ–è®¸é™¡å³­ï¼Œä½†æ²¿é€”çš„é£æ™¯ï¼Œç»å¯¹å€¼å¾—ä½ ä¸ºä¹‹æ”€ç™»ã€‚ä½ æ”¶è·çš„å°†ä¸ä»…ä»…æ˜¯å†™å‡º App çš„èƒ½åŠ›ï¼Œæ›´æ˜¯å¯¹å›¾å½¢å­¦ã€æ“ä½œç³»ç»Ÿã€ç¼–è¯‘åŸç†æ›´æ·±å±‚æ¬¡çš„æ´å¯Ÿã€‚</p>
<p>è€Œè¿™äº›ï¼Œå°†è®©ä½ æ— è®ºå°†æ¥å›åˆ° Webï¼Œè¿˜æ˜¯ç»§ç»­åœ¨ç§»åŠ¨ç«¯æ·±è€•ï¼Œéƒ½ç«™å¾—æ›´é«˜ï¼Œçœ‹å¾—æ›´è¿œã€‚</p>
<h2 data-id="heading-10">å¾€æœŸæ–‡ç« å›é¡¾</h2>
<h4 data-id="heading-11">Flutter å›¾ç‰‡ç¼–è¾‘å™¨</h4>
<ul>
<li><a href="https://juejin.cn/post/7571067260053585946" target="_blank" title="https://juejin.cn/post/7571067260053585946">æ˜é‡‘æ–‡ç« </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fflutter_monitor_sdk" target="_blank" title="https://pub.dev/packages/flutter_monitor_sdk" ref="nofollow noopener noreferrer">pubdev</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxinqingaa%2Fflutter_monitor_sdk" target="_blank" title="https://github.com/xinqingaa/flutter_monitor_sdk" ref="nofollow noopener noreferrer">github</a></li>
</ul>
<h4 data-id="heading-12">Flutter å…¨é“¾è·¯ç›‘æ§ SDK</h4>
<ul>
<li><a href="https://juejin.cn/post/7564977973260173338" target="_blank" title="https://juejin.cn/post/7564977973260173338">æ˜é‡‘æ–‡ç« </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fflutter_img_editor" target="_blank" title="https://pub.dev/packages/flutter_img_editor" ref="nofollow noopener noreferrer">pubdev</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxinqingaa%2Fflutter_img_editor" target="_blank" title="https://github.com/xinqingaa/flutter_img_editor" ref="nofollow noopener noreferrer">github</a></li>
</ul>
<h4 data-id="heading-13">Flutter å…¨åœºæ™¯å¼¹æ¡†</h4>
<ul>
<li><a href="https://juejin.cn/post/7538324216594726950" target="_blank" title="https://juejin.cn/post/7538324216594726950">æ˜é‡‘æ–‡ç« </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Funified_popups" target="_blank" title="https://pub.dev/packages/unified_popups" ref="nofollow noopener noreferrer">pubdev</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxinqingaa%2Funified_popups" target="_blank" title="https://github.com/xinqingaa/unified_popups" ref="nofollow noopener noreferrer">github</a></li>
</ul>
<h4 data-id="heading-14">Flutteræ—¥å†ç»„ä»¶</h4>
<ul>
<li><a href="https://juejin.cn/post/7531976064496123931" target="_blank" title="https://juejin.cn/post/7531976064496123931">æ˜é‡‘æ–‡ç« </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fomni_calendar_view" target="_blank" title="https://pub.dev/packages/omni_calendar_view" ref="nofollow noopener noreferrer">pubdev</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxinqingaa%2Fomni_calendar_view" target="_blank" title="https://github.com/xinqingaa/omni_calendar_view" ref="nofollow noopener noreferrer">github</a></li>
</ul>
<h4 data-id="heading-15">æ—¥æœŸé€‰æ‹©å™¨</h4>
<ul>
<li>
<p><a href="https://juejin.cn/post/7524159959480991753" target="_blank" title="https://juejin.cn/post/7524159959480991753">æ˜é‡‘æ–‡ç« </a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fomni_date_picker" target="_blank" title="https://pub.dev/packages/omni_date_picker" ref="nofollow noopener noreferrer">pubdev</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxinqingaa%2Fomni_date_picker" target="_blank" title="https://github.com/xinqingaa/omni_date_picker" ref="nofollow noopener noreferrer">github</a></p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨æ•°æ®å½•å…¥ã€æŒ‡æ ‡è¡¥å½•ã€è¡¨å•å¡«æŠ¥åœºæ™¯ä¸­ï¼ŒSpreadJS å…·å¤‡å“ªäº›ä¼˜åŠ¿å’Œä»·å€¼]]></title>    <link>https://juejin.cn/post/7576272680520384555</link>    <guid>https://juejin.cn/post/7576272680520384555</guid>    <pubDate>2025-11-25T08:16:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576272680520384555" data-draft-id="7576212547236331563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨æ•°æ®å½•å…¥ã€æŒ‡æ ‡è¡¥å½•ã€è¡¨å•å¡«æŠ¥åœºæ™¯ä¸­ï¼ŒSpreadJS å…·å¤‡å“ªäº›ä¼˜åŠ¿å’Œä»·å€¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-25T08:16:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‘¡è„åŸæŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3227821868332765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨æ•°æ®å½•å…¥ã€æŒ‡æ ‡è¡¥å½•ã€è¡¨å•å¡«æŠ¥åœºæ™¯ä¸­ï¼ŒSpreadJS å…·å¤‡å“ªäº›ä¼˜åŠ¿å’Œä»·å€¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821868332765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‘¡è„åŸæŠ€æœ¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:16:08.000Z" title="Tue Nov 25 2025 08:16:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åœ¨æ•°æ®å½•å…¥ã€æŒ‡æ ‡è¡¥å½•ã€è¡¨å•å¡«æŠ¥åœºæ™¯ä¸­ï¼ŒSpreadJS å…·å¤‡å“ªäº›ä¼˜åŠ¿å’Œä»·å€¼</h2>
<p>åœ¨æ•°å­—åŒ–è½¬å‹åŠ é€Ÿçš„ä»Šå¤©ï¼Œè¡¨æ ¼ä½œä¸ºä¼ä¸šæ•°æ®ç®¡ç†ä¸åˆ†æçš„æ ¸å¿ƒè½½ä½“ï¼Œå…¶å·¥å…·é€‰æ‹©ç›´æ¥å½±å“ä¸šåŠ¡æ•ˆç‡ä¸ç”¨æˆ·ä½“éªŒã€‚ä½œä¸ºä¸€æ¬¾åŸºäº HTML5 çš„çº¯å‰ç«¯è¡¨æ ¼æ§ä»¶ï¼ŒSpreadJS å‡­å€Ÿ"é«˜é€Ÿä½è€—ã€çº¯å‰ç«¯ã€é›¶ä¾èµ–"çš„äº§å“ç‰¹è‰² ï¼Œä¸ºæ•°æ®å½•å…¥ã€æŒ‡æ ‡è¡¥å½•ã€è¡¨å•å¡«æŠ¥ç­‰åœºæ™¯æä¾›äº†å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚æœ¬æ–‡å°†ä»æŠ€æœ¯æ¶æ„ã€å¼€å‘æ•ˆç‡å’Œå®é™…åº”ç”¨ä»·å€¼ä¸‰ä¸ªç»´åº¦ï¼Œæ·±å…¥è§£æ SpreadJS å¦‚ä½•åŠ©åŠ›ä¼ä¸šå®ç°é«˜æ•ˆçš„æ•°æ®å¤„ç†ä¸å¡«æŠ¥ã€‚</p>
<h4 data-id="heading-1">ä¸€ã€æ•°æ®å½•å…¥åœºæ™¯ï¼šçº¯å‰ç«¯æ¶æ„èµ‹èƒ½é«˜æ•ˆå½•å…¥ä½“éªŒ</h4>
<p>æ•°æ®å½•å…¥æ˜¯ä¼ä¸šæ—¥å¸¸è¿è¥çš„åŸºç¡€ç¯èŠ‚ï¼Œå°¤å…¶åœ¨ç”µå•†ã€ç‰©æµã€è´¢åŠ¡ç­‰æ•°æ®å¯†é›†å‹è¡Œä¸šï¼Œå½•å…¥æ•ˆç‡ç›´æ¥å½±å“æ•´ä½“ä¸šåŠ¡æµç¨‹ã€‚ SpreadJS åœ¨è¿™ä¸€åœºæ™¯ä¸­å±•ç°å‡ºä¸‰å¤§æ ¸å¿ƒä¼˜åŠ¿ã€‚</p>
<p><strong>é«˜æ€§èƒ½æ•°æ®å¤„ç†èƒ½åŠ›</strong></p>
<p>æ˜¯ SpreadJS çš„é¦–è¦ä»·å€¼ã€‚é€šè¿‡é‡‡ç”¨ç¨€ç–çŸ©é˜µå­˜å‚¨æŠ€æœ¯å’Œ HTML5 Canvas ç»˜åˆ¶æ–¹æ¡ˆ ï¼ŒSpreadJS æœ‰æ•ˆè§£å†³äº†ä¼ ç»Ÿè¡¨æ ¼æ§ä»¶åœ¨å¤„ç†å¤§æ•°æ®é‡æ—¶çš„æ€§èƒ½ç“¶é¢ˆã€‚åœ¨å®é™…æµ‹è¯•ä¸­ï¼Œ SpreadJS èƒ½å¤Ÿåœ¨ 2.4 ç§’å†…å®Œæˆ 50 ä¸‡è¡ŒÃ—20 åˆ—çš„åˆ†ç»„äº¤å‰ç»Ÿè®¡æ•°æ®åŠ è½½ ï¼Œè¿™ä¸€æ€§èƒ½åœ¨æµè§ˆå™¨ç«¯å°¤ä¸ºçªå‡ºã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¼ ç»Ÿè¡¨æ ¼æ§ä»¶åœ¨å¤„ç†ç±»ä¼¼è§„æ¨¡æ•°æ®æ—¶ï¼Œå¾€å¾€éœ€è¦ 10 ç§’ä»¥ä¸Šï¼Œä¸”å†…å­˜å ç”¨å¯èƒ½é«˜è¾¾ 1.2GBï¼Œè€Œ SpreadJS é€šè¿‡ç¨€ç–çŸ©é˜µæŠ€æœ¯å°†å†…å­˜å ç”¨æ§åˆ¶åœ¨ 80MB ä»¥å†…ï¼Œå®ç°äº†æ•°é‡çº§çš„æ€§èƒ½æå‡ ã€‚</p>
<p><em>#SpreadJS å¯¼å‡ºä¸åŒå¤§å°æ–‡ä»¶æ‰€éœ€æ—¶é—´å’Œå†…å­˜</em></p>













































<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>æ€§èƒ½æŒ‡æ ‡ ï¼ˆå•å…ƒæ ¼æ•°é‡ï¼‰</th><th>50ä¸‡ 2.5ä¸‡è¡Œ * 20 åˆ—</th><th>100ä¸‡ 5ä¸‡è¡Œ * 20 åˆ—</th><th>500ä¸‡ 25ä¸‡è¡Œ * 20 åˆ—</th><th>1,000 ä¸‡ 50ä¸‡è¡Œ * 20 åˆ—</th></tr></thead><tbody><tr><td>Excel</td><td>å¯¼å‡ºæ—¶é—´</td><td>2,004 ms</td><td>3,802 ms</td><td>18,814 ms</td><td>42,786 ms</td></tr><tr><td>æ‰€éœ€å†…å­˜</td><td>91.9 MB</td><td>258.8 MB</td><td>1,010.9 MB</td><td>1286.9 MB</td><td/></tr><tr><td>SJS</td><td>å¯¼å‡ºæ—¶é—´</td><td>742 ms</td><td>1,443 ms</td><td>7,554 ms</td><td>15,729 ms</td></tr><tr><td>æ‰€éœ€å†…å­˜</td><td>61.6 MB</td><td>88.3 MB</td><td>479.6 MB</td><td>966.4 MB</td><td/></tr></tbody></table>
<p><strong>ç¦»çº¿+åœ¨çº¿åŒæ¨¡å¡«æŠ¥</strong></p>
<p>æ˜¯ SpreadJS çš„å¦ä¸€é‡è¦ç‰¹æ€§ã€‚åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œç½‘ç»œç¯å¢ƒä¸ç¨³å®šæ˜¯æ•°æ®å½•å…¥çš„å¸¸è§ç—›ç‚¹ã€‚ SpreadJS æ”¯æŒç¦»çº¿æ¨¡å¼ä¸‹æ•°æ®å½•å…¥ï¼Œç”¨æˆ·å¯åœ¨æ— ç½‘ç»œç¯å¢ƒä¸‹å®Œæˆæ•°æ®å¡«å†™ï¼Œè”ç½‘åè‡ªåŠ¨åŒæ­¥è‡³æœåŠ¡å™¨ï¼Œæœ‰æ•ˆé¿å…äº†æ•°æ®ä¸¢å¤±é£é™© ã€‚åŒæ—¶ï¼Œ SpreadJS æä¾›å››é‡æ•°æ®æ ¡éªŒæœºåˆ¶ï¼šåœ¨çº¿æ ¡éªŒï¼ˆè¾“å…¥æ—¶å®æ—¶æç¤ºï¼‰ã€æäº¤æ ¡éªŒï¼ˆæäº¤å‰å…¨è¡¨æ£€æŸ¥ï¼‰ã€å‰ç«¯ JavaScript æ ¡éªŒå’Œåç«¯æ ¡éªŒï¼Œç¡®ä¿æ•°æ®è´¨é‡ ã€‚ä¾‹å¦‚ï¼ŒæŸçœçº§ç»Ÿè®¡å±€ç»æµæ•°æ®é‡‡é›†ç³»ç»Ÿé‡‡ç”¨ SpreadJS åï¼Œæ•°æ®å¡«æŠ¥é”™è¯¯ç‡ä» 12%æ˜¾è‘—é™è‡³ 1.5%ï¼Œæ•°æ®æ±‡æ€»æ•ˆç‡æå‡ 70% ã€‚</p>
<p><strong>ç±» Excel æ“ä½œä½“éªŒ</strong></p>
<p>æå¤§é™ä½äº†ç”¨æˆ·å­¦ä¹ æˆæœ¬ã€‚ SpreadJS å®Œå…¨å¤åˆ»äº† Excel çš„æ“ä½œä¹ æƒ¯ï¼Œæ”¯æŒæ‹–æ‹‰æ‹½æ•°æ®ç»‘å®šã€å•å…ƒæ ¼æ ¼å¼è®¾ç½®ã€æ¡ä»¶æ ¼å¼åº”ç”¨ç­‰ç†Ÿæ‚‰çš„åŠŸèƒ½ ã€‚ä¸šåŠ¡äººå‘˜æ— éœ€ä¸“ä¸šåŸ¹è®­ï¼Œå³å¯åƒä½¿ç”¨ Excel ä¸€æ ·æ“ä½œ SpreadJSï¼Œå‡å°‘äº†ç”¨æˆ·è¿ç§»æˆæœ¬ã€‚ä¾‹å¦‚ï¼ŒæŸä¼ä¸šä¾›åº”é“¾æŠ€æœ¯ä¸“å®¶åé¦ˆï¼š"ç®€å•çš„ä¸€ç™¾å¤šè¡Œä»£ç é…åˆ SpreadJS çš„ç±» Excel æ“ä½œä¹ æƒ¯ï¼Œè®©æˆ‘ä»¬çš„ç”¨æˆ·å°±åƒä½¿ç”¨ Excel ä¸€æ ·ä½¿ç”¨å†…éƒ¨ç³»ç»Ÿï¼Œä¸ºç”¨æˆ·è¿ç§»å·¥ä½œèŠ‚çº¦äº†å¤§é‡åŸ¹è®­æ—¶é—´ã€‚"</p>
<h4 data-id="heading-2">äºŒã€æŒ‡æ ‡è¡¥å½•åœºæ™¯ï¼šå¤æ‚è®¡ç®—ä¸åŠ¨æ€åˆ†æçš„å®Œç¾ç»“åˆ</h4>
<p>æŒ‡æ ‡è¡¥å½•æ˜¯ä¼ä¸šæ•°æ®æ²»ç†çš„å…³é”®ç¯èŠ‚ï¼Œå°¤å…¶åœ¨å®¡è®¡ã€è´¢åŠ¡ã€é£é™©ç®¡æ§ç­‰é¢†åŸŸï¼ŒæŒ‡æ ‡çš„å‡†ç¡®æ€§å’Œæ—¶æ•ˆæ€§ç›´æ¥å…³ç³»åˆ°å†³ç­–è´¨é‡ã€‚ SpreadJS åœ¨æŒ‡æ ‡è¡¥å½•åœºæ™¯ä¸­å±•ç°å‡ºå¼ºå¤§çš„è®¡ç®—å¼•æ“å’Œçµæ´»çš„æ•°æ®åˆ†æèƒ½åŠ›ã€‚</p>
<p><strong>å¼ºå¤§çš„å…¬å¼è®¡ç®—å¼•æ“</strong></p>
<p>æ”¯æŒ 450+ç§ Excel å…¬å¼ï¼ŒåŒ…æ‹¬åŠ¨æ€æ•°ç»„å‡½æ•°ï¼ˆXMATCH/LET/XLOOKUPï¼‰å’Œå¼‚æ­¥å‡½æ•° ã€‚è¿™ä¸€ç‰¹æ€§ä½¿å¾—ä¼ä¸šèƒ½å¤Ÿåœ¨ Web ç³»ç»Ÿä¸­ç›´æ¥å¤ç”¨ç°æœ‰çš„ Excel å•†ä¸šæ¨¡å‹ï¼Œæ— éœ€é‡æ–°å¼€å‘ã€‚ä¾‹å¦‚ï¼ŒæŸé›¶å”®é›†å›¢é€šè¿‡ SpreadJS å°†å¤§é‡åœ¨ Excel ä¸­å»ºç«‹çš„å•†ä¸šåˆ†æç»è¥æ¨¡å‹è¿ç§»è‡³çº¿ä¸Šç³»ç»Ÿï¼Œå®ç°äº†å®¢æµä¸ç§Ÿèµç³»ç»Ÿçš„æ•°æ®æ¸…æ´—å’Œæ•´åˆï¼Œå»ºç«‹äº†åŸºäºäº¤æ˜“æ•°é¢å’Œé¢‘æ¬¡çš„å®¢æˆ·åˆ†çº§ä½“ç³»ï¼ŒæˆåŠŸå¸å¼•äº† 34 ä¸ªæ¯æœˆç™¾ä¸‡çº§äº¤æ˜“çš„ VIP å®¢æˆ·ï¼Œç›´æ¥å¸¦æ¥è¶… 1 äº¿å…ƒçš„è¥æ”¶å¢é•¿ ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb3fa06d166c4737aae5c63245f53742~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JGh6JCE5Z-O5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663367&amp;x-signature=l6bKkp%2BisTE6o8L1NVIiu8Wa4YY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>æ•°æ®é€è§†è¡¨ä¸é›†ç®—è¡¨</strong></p>
<p>æ˜¯ SpreadJS åœ¨æŒ‡æ ‡è¡¥å½•åœºæ™¯ä¸­çš„æ ¸å¿ƒåŠŸèƒ½ã€‚ä½œä¸ºä¸šå†…å”¯ä¸€å…¼å®¹ Excel çš„ Web ç«¯æ•°æ®é€è§†è¡¨æ§ä»¶ ï¼Œ SpreadJS æ”¯æŒæ‹–æ‹½å­—æ®µã€æ•°æ®èšåˆã€åˆ†ç»„æ’åºï¼Œå¹¶å¯å°†è®¡ç®—ç»“æœç›´æ¥å¯¼å‡º Excelã€‚é›†ç®—è¡¨æ’ä»¶åˆ™æä¾›äº†æ›´é«˜æ•ˆçš„å¤§æ•°æ®å¤„ç†èƒ½åŠ›ï¼Œå³ä½¿é¢å¯¹ç™¾ä¸‡çº§æ•°æ®ï¼Œä¹Ÿèƒ½å®ç°æµç•…çš„åˆ†æä½“éªŒã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œ SpreadJS çš„é›†ç®—è¡¨æ’ä»¶å°†æ•°æ®åŠ è½½æ—¶é—´ä» 45 ç§’ä¼˜åŒ–åˆ° 2.1 ç§’ï¼Œç­›é€‰å“åº”æ—¶é—´ä» 15 ç§’ä¼˜åŒ–åˆ° 0.3 ç§’ï¼Œæ€§èƒ½æå‡æ˜¾è‘— ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a57cde2c690147549e279217f1d2d4b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JGh6JCE5Z-O5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663367&amp;x-signature=zdwq5xZRXFmR0qLkFzW1l7jbshs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>AI æ™ºèƒ½åˆ†æ</strong></p>
<p>æ˜¯ SpreadJS V18.1 ç‰ˆæœ¬æ–°å¢çš„é‡è¦ç‰¹æ€§ã€‚é€šè¿‡ AI æ’ä»¶ï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥è‡ªç„¶è¯­è¨€éœ€æ±‚ï¼ˆå¦‚"è®¡ç®— A åˆ—ä¸ B åˆ—çš„ä¹˜ç§¯å’Œ"ï¼‰ï¼Œç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆå¯¹åº”å…¬å¼ï¼ˆå¦‚ SUMï¼ˆA1:A10*B1:B10ï¼‰ï¼‰å¹¶è§£é‡Šå…¬å¼åŸç† ã€‚åœ¨ç«‹ä¿¡æ™ºèƒ½å®¡è®¡äº‘å¹³å°ä¸­ï¼Œ SpreadJS çš„ AI åŠŸèƒ½å¸®åŠ©å®¡è®¡å›¢é˜Ÿå®ç°äº†è´¢åŠ¡æŒ‡æ ‡çš„å¿«é€Ÿç”Ÿæˆå’ŒéªŒè¯ï¼Œå®¡è®¡å‘¨æœŸç¼©çŸ­ 40%ï¼ŒåŒæ—¶æ»¡è¶³äº†è¯ç›‘ä¼šå¯¹å®¡è®¡è½¨è¿¹å¯è¿½æº¯è‡³å•å…ƒæ ¼çº§çš„åˆè§„è¦æ±‚ ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e89968a1de940fc9a9bfeb36fd3179e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JGh6JCE5Z-O5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663367&amp;x-signature=2v%2BiWsI8EqcUBCjwDZbAvAoW39Q%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-3">ä¸‰ã€è¡¨å•å¡«æŠ¥åœºæ™¯ï¼šå¤æ‚æ¨¡æ¿ä¸å¤šäººåä½œçš„æ— ç¼è¡”æ¥</h4>
<p>è¡¨å•å¡«æŠ¥æ˜¯ä¼ä¸šè·¨éƒ¨é—¨ååŒçš„é‡è¦ç¯èŠ‚ï¼Œå°¤å…¶åœ¨é¢„ç®—ç®¡ç†ã€é¡¹ç›®ç”³æŠ¥ã€å®¡æ‰¹æµç¨‹ç­‰é¢†åŸŸï¼Œè¡¨å•çš„å¤æ‚æ€§å’Œåä½œéœ€æ±‚æ—¥ç›Šå¢åŠ ã€‚ SpreadJS åœ¨è¡¨å•å¡«æŠ¥åœºæ™¯ä¸­å±•ç°å‡ºçµæ´»çš„æ¨¡æ¿è®¾è®¡èƒ½åŠ›å’Œå¼ºå¤§çš„ååŒç¼–è¾‘åŠŸèƒ½ã€‚</p>
<p><strong>å¯è§†åŒ–æ¨¡æ¿è®¾è®¡å™¨</strong></p>
<p>æå¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚é€šè¿‡åœ¨çº¿è¡¨æ ¼ç¼–è¾‘å™¨ï¼Œä¸šåŠ¡äººå‘˜æ— éœ€ä»£ç å³å¯è®¾è®¡å¡«æŠ¥æ¨¡æ¿ï¼Œæ”¯æŒä¸‹æ‹‰æ¡†ã€å¤é€‰æ¡†ã€æŒ‰é’®ç­‰ 20+ç§ç»„ä»¶åµŒå…¥ï¼Œæ¨¡æ¿å¯ä¿å­˜ä¸º JSON æ ¼å¼å¤ç”¨ ã€‚ä¸ä¼ ç»ŸåŸç”Ÿ JS+POI å¼€å‘æ–¹æ¡ˆç›¸æ¯”ï¼Œ SpreadJS å°†æŠ¥è¡¨æ¨¡æ¿è®¾è®¡æ•ˆç‡æå‡äº† 86.7%ï¼Œ10 å¼ è¡¨çš„è®¾è®¡å·¥ä½œä» 15 äººå¤©ç¼©çŸ­è‡³ 2 äººå¤©ï¼ŒæŒ‰äººå‡æ—¥è–ª 2000 å…ƒè®¡ç®—ï¼ŒèŠ‚çœäº† 26000 å…ƒçš„å¼€å‘æˆæœ¬ ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bff3ac8d391d4031bf90384172d9c1bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JGh6JCE5Z-O5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764663367&amp;x-signature=9AJu6YL5r8wodYL7LcUP%2F0%2FjS9E%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>è·¨éƒ¨é—¨ååŒå¡«æŠ¥</strong></p>
<p>æ˜¯ SpreadJS çš„å¦ä¸€é‡è¦ä»·å€¼ã€‚é€šè¿‡å•å…ƒæ ¼çº§æƒé™æ§åˆ¶å’Œå®æ—¶åä½œåŠŸèƒ½ï¼Œ SpreadJS æ”¯æŒå¤šéƒ¨é—¨åŒæ—¶åœ¨çº¿å¡«æŠ¥æ•°æ®ï¼Œç¡®ä¿å„éƒ¨é—¨ä»…èƒ½ç¼–è¾‘è‡ªèº«è´Ÿè´£çš„å­—æ®µï¼Œé¿å…æ•°æ®ä¿®æ”¹æ··ä¹± ã€‚åœ¨å®æ—¶ååŒæ–¹é¢ï¼Œ SpreadJS V18.2 ç‰ˆæœ¬å¼•å…¥äº†ååŒæ’ä»¶ï¼ˆBetaï¼‰ï¼ŒåŸºäºè‡ªç ”åä½œæ¡†æ¶æ‰“é€ ï¼Œæ”¯æŒå¤šäººå®æ—¶ç¼–è¾‘åŒä¸€å·¥ä½œç°¿ï¼Œç³»ç»Ÿé€šè¿‡ OT ç®—æ³•è‡ªåŠ¨åˆå¹¶æ“ä½œï¼Œå»¶è¿Ÿä½äº 300ms ã€‚ä¾‹å¦‚ï¼ŒæŸå¤§å‹åˆ¶é€ ä¼ä¸šåœ¨å…¨é¢é¢„ç®—ç®¡ç†ä¸­å¼•å…¥ SpreadJS åï¼Œå®ç°äº†å¤šéƒ¨é—¨é¢„ç®—æ•°æ®çš„å®æ—¶æ±‡æ€»å’ŒååŒå®¡æ ¸ï¼Œé¢„ç®—ç¼–åˆ¶å‘¨æœŸç¼©çŸ­ 25%ï¼Œé¢„ç®—æ‰§è¡Œåå·®ç‡é™ä½ 15% ã€‚</p>
<p><strong>ç§»åŠ¨ç«¯é€‚é…ä¸è·¨å¹³å°ä¸€è‡´æ€§</strong></p>
<p>ç¡®ä¿äº†è¡¨å•å¡«æŠ¥çš„çµæ´»æ€§å’Œä¾¿æ·æ€§ã€‚ SpreadJS é€‚é… PCï¼ˆ6 å¤§æµè§ˆå™¨ï¼‰+ç§»åŠ¨ç«¯ï¼Œæä¾›äº†ä¸æ¡Œé¢ç«¯ä¸€è‡´çš„æ“ä½œä½“éªŒå’Œè§†è§‰æ•ˆæœ ã€‚åŒæ—¶ï¼Œ SpreadJS æ”¯æŒå°†å¡«æŠ¥æ•°æ®ä¸ä¼ä¸šç°æœ‰ç³»ç»Ÿï¼ˆå¦‚ ERPã€CRMã€BIï¼‰æ— ç¼é›†æˆï¼Œé€šè¿‡ API æ¥å£å®ç°æ•°æ®çš„è‡ªåŠ¨åŒæ­¥å’Œå…±äº«ï¼Œæ‰“ç ´äº†æ•°æ®å­¤å²›ã€‚åœ¨ç”˜æ£ è½¯ä»¶ç”Ÿäº§é‡‡è´­ç³»ç»Ÿä¸­ï¼Œ SpreadJS é€šè¿‡ç¨€ç–çŸ©é˜µå­˜å‚¨æŠ€æœ¯ï¼ŒæˆåŠŸæ‰¿è½½äº† 8 å¤§ç±»é›¶ä»¶æˆæœ¬æ•°æ®ï¼ˆåŸææ–™ã€åŠ å·¥ã€è¿è¾“ç­‰ï¼‰ï¼Œå•è¡¨å¤„ç† 10 ä¸‡+æ¡æŠ¥ä»·è®°å½•ï¼Œå†…å­˜å ç”¨æ§åˆ¶åœ¨ 200MB ä»¥å†…ï¼Œç¡®ä¿äº†ç§»åŠ¨ç«¯çš„æµç•…æ“ä½œä½“éªŒ ã€‚</p>
<h4 data-id="heading-4">å››ã€æŠ€æœ¯å®ç°ä¸å¼€å‘æ•ˆç‡ï¼šä»ä»£ç å±‚é¢çœ‹ SpreadJS çš„ä¼˜åŠ¿</h4>
<p>å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œ SpreadJS ä¸ä»…æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œæ›´åœ¨æŠ€æœ¯å®ç°å’Œå¼€å‘æ•ˆç‡æ–¹é¢å±•ç°å‡ºæ˜¾è‘—ä¼˜åŠ¿ã€‚</p>
<p><strong>å‰åç«¯ååŒæ¶æ„</strong></p>
<p>ä½¿ SpreadJS èƒ½å¤Ÿè½»æ¾åº”å¯¹å„ç§å¤æ‚åœºæ™¯ã€‚å‰ç«¯é‡‡ç”¨ SpreadJS å®ç°äº¤äº’å’Œå±•ç¤ºï¼Œåç«¯ä½¿ç”¨ GcExcel å¤„ç†æ‰¹é‡ä»»åŠ¡ï¼Œå½¢æˆäº†å®Œæ•´çš„å…¨æ ˆè§£å†³æ–¹æ¡ˆ ã€‚ä¾‹å¦‚ï¼Œå¯¹äºè¶…è¿‡ç™¾ä¸‡è¡Œçš„è¶…å¤§å‹æ•°æ®é›†ï¼Œå¯ä»¥é‡‡ç”¨"å‰ç«¯åŠ è½½éƒ¨åˆ†æ•°æ®æˆ–ç©ºè¡¨æ ¼ç”¨äºå­—æ®µé€‰æ‹©+åç«¯ GcExcel è¿›è¡Œå®é™…çš„æ•°æ®é€è§†åˆ†æè®¡ç®—+ç»“æœä¼ è¾“è‡³å‰ç«¯å±•ç¤º"çš„æ¨¡å¼ï¼Œæ—¢ä¿è¯äº†åˆ†ææ€§èƒ½ï¼Œåˆå‡å°‘äº†ç½‘ç»œä¼ è¾“å‹åŠ› ã€‚</p>
<p><strong>ä¸»æµæ¡†æ¶æ·±åº¦é›†æˆ</strong></p>
<p>æ˜¯ SpreadJS çš„é‡è¦æŠ€æœ¯ä¼˜åŠ¿ã€‚ SpreadJS æ”¯æŒ Vueã€Reactã€Angular ç­‰ 6 å¤§ä¸»æµå‰ç«¯æ¡†æ¶ ï¼Œæä¾›äº†å®Œæ•´çš„é›†æˆæŒ‡å—å’Œ API æ–‡æ¡£ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ React é›†æˆç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">SpreadSheets</span>, <span class="hljs-title class_">Worksheet</span>, <span class="hljs-title class_">Column</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@grapecity-software/spread-sheets-react'</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">GC</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@grapecity-software/spread-sheets"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">APP</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-variable language_">super</span>(props);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">spreadBackColor</span> = <span class="hljs-string">'aliceblue'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sheetName</span> = <span class="hljs-string">'Goods List'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hostStyle</span> =
    {
      <span class="hljs-attr">width</span>: <span class="hljs-string">'800px'</span>,
      <span class="hljs-attr">height</span>: <span class="hljs-string">'600px'</span>
    };
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = [
      {
        <span class="hljs-title class_">Name</span>: <span class="hljs-string">"Apple"</span>,
        <span class="hljs-title class_">Category</span>: <span class="hljs-string">"Fruit"</span>,
        <span class="hljs-title class_">Price</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"Shopping Place"</span>: <span class="hljs-string">"Wal-Mart"</span>,
      },
      {
        <span class="hljs-title class_">Name</span>: <span class="hljs-string">"Potato"</span>,
        <span class="hljs-title class_">Category</span>: <span class="hljs-string">"Fruit"</span>,
        <span class="hljs-title class_">Price</span>: <span class="hljs-number">2.01</span>,
        <span class="hljs-string">"Shopping Place"</span>: <span class="hljs-string">"Other"</span>,
      },
      {
        <span class="hljs-title class_">Name</span>: <span class="hljs-string">"Tomato"</span>,
        <span class="hljs-title class_">Category</span>: <span class="hljs-string">"Vegetable"</span>,
        <span class="hljs-title class_">Price</span>: <span class="hljs-number">3.21</span>,
        <span class="hljs-string">"Shopping Place"</span>: <span class="hljs-string">"Other"</span>,
      },
      {
        <span class="hljs-title class_">Name</span>: <span class="hljs-string">"Sandwich"</span>,
        <span class="hljs-title class_">Category</span>: <span class="hljs-string">"Food"</span>,
        <span class="hljs-title class_">Price</span>: <span class="hljs-number">2</span>,
        <span class="hljs-string">"Shopping Place"</span>: <span class="hljs-string">"Wal-Mart"</span>,
      },
      {
        <span class="hljs-title class_">Name</span>: <span class="hljs-string">"Hamburger"</span>,
        <span class="hljs-title class_">Category</span>: <span class="hljs-string">"Food"</span>,
        <span class="hljs-title class_">Price</span>: <span class="hljs-number">2</span>,
        <span class="hljs-string">"Shopping Place"</span>: <span class="hljs-string">"Wal-Mart"</span>,
      },
      {
        <span class="hljs-title class_">Name</span>: <span class="hljs-string">"Grape"</span>,
        <span class="hljs-title class_">Category</span>: <span class="hljs-string">"Fruit"</span>,
        <span class="hljs-title class_">Price</span>: <span class="hljs-number">4</span>,
        <span class="hljs-string">"Shopping Place"</span>: <span class="hljs-string">"Sun Store"</span>,
      },
    ];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">columnWidth</span> = <span class="hljs-number">100</span>;
  }
  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SpreadSheets</span> <span class="hljs-attr">backColor</span>=<span class="hljs-string">{this.spreadBackColor}</span> <span class="hljs-attr">hostStyle</span>=<span class="hljs-string">{this.hostStyle}</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Worksheet</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{this.sheetName}</span> <span class="hljs-attr">dataSource</span>=<span class="hljs-string">{this.data}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Column</span> <span class="hljs-attr">dataField</span>=<span class="hljs-string">'Name'</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{300}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Column</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Column</span> <span class="hljs-attr">dataField</span>=<span class="hljs-string">'Category'</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{this.columnWidth}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Column</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Column</span> <span class="hljs-attr">dataField</span>=<span class="hljs-string">'Price'</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{this.columnWidth}</span>
              <span class="hljs-attr">formatter</span>=<span class="hljs-string">"$#.00"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Column</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Column</span> <span class="hljs-attr">dataField</span>=<span class="hljs-string">'Shopping Place'</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{this.columnWidth}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Column</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">Worksheet</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">SpreadSheets</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  }
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-variable constant_">APP</span>    
</code></pre>
<p><strong>æƒé™æ§åˆ¶ä¸æ•°æ®æ ¡éªŒ</strong>çš„ API è®¾è®¡ç®€æ´è€Œå¼ºå¤§ã€‚ SpreadJS æä¾›äº†å•å…ƒæ ¼çº§çš„æƒé™æ§åˆ¶å’Œæ ¡éªŒè§„åˆ™é…ç½®æ¥å£ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡å‡ è¡Œä»£ç å®ç°å¤æ‚çš„æƒé™ç®¡ç†ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// å¯ç”¨æ— æ•ˆæ•°æ®é«˜äº®æ˜¾ç¤º</span>
spread.<span class="hljs-property">options</span>.<span class="hljs-property">highlightInvalidData</span> = <span class="hljs-literal">true</span>;
<span class="hljs-comment">// åˆ›å»ºæ—¥æœŸéªŒè¯å™¨ï¼šå…è®¸è¾“å…¥ 2017å¹´12æœˆ31æ—¥è‡³2018å¹´12æœˆ31æ—¥ä¹‹é—´çš„æ—¥æœŸ</span>
<span class="hljs-keyword">var</span> dv = <span class="hljs-variable constant_">GC</span>.<span class="hljs-property">Spread</span>.<span class="hljs-property">Sheets</span>.<span class="hljs-property">DataValidation</span>.<span class="hljs-title function_">createDateValidator</span>(
    <span class="hljs-variable constant_">GC</span>.<span class="hljs-property">Spread</span>.<span class="hljs-property">Sheets</span>.<span class="hljs-property">ConditionalFormatting</span>.<span class="hljs-property">ComparisonOperators</span>.<span class="hljs-property">between</span>, 
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">2017</span>, <span class="hljs-number">12</span>, <span class="hljs-number">31</span>), 
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">2018</span>, <span class="hljs-number">12</span>, <span class="hljs-number">31</span>)
);
<span class="hljs-comment">// å¯ç”¨è¾“å…¥æç¤º</span>
dv.<span class="hljs-title function_">showInputMessage</span>(<span class="hljs-literal">true</span>);
<span class="hljs-comment">// è®¾ç½®è¾“å…¥æç¤ºå†…å®¹</span>
dv.<span class="hljs-title function_">inputMessage</span>(<span class="hljs-string">"è¯·è¾“å…¥ 2017å¹´12æœˆ31æ—¥ è‡³ 2018å¹´12æœˆ31æ—¥ ä¹‹é—´çš„æ—¥æœŸã€‚"</span>);
<span class="hljs-comment">// è®¾ç½®è¾“å…¥æç¤ºæ ‡é¢˜</span>
dv.<span class="hljs-title function_">inputTitle</span>(<span class="hljs-string">"æç¤º"</span>);
<span class="hljs-comment">// åœ¨è§†å›¾åŒºåŸŸçš„ï¼ˆ1,1ï¼‰å•å…ƒæ ¼ï¼ˆç¬¬2è¡Œç¬¬2åˆ—ï¼‰åº”ç”¨æ—¥æœŸéªŒè¯å™¨</span>
activeSheet.<span class="hljs-title function_">setDataValidator</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, dv, <span class="hljs-variable constant_">GC</span>.<span class="hljs-property">Spread</span>.<span class="hljs-property">Sheets</span>.<span class="hljs-property">SheetArea</span>.<span class="hljs-property">viewport</span>);
</code></pre>
<p><strong>æ•°æ®ç»‘å®šä¸å¯¼å‡ºåŠŸèƒ½</strong>çš„ API è®¾è®¡åŒæ ·é«˜æ•ˆã€‚ SpreadJS æ”¯æŒå¤šç§æ•°æ®æºæ ¼å¼ï¼ˆæ•°ç»„ã€JSONã€HTTP è¯·æ±‚ç­‰ï¼‰ ï¼Œå¹¶æä¾›ä¾¿æ·çš„å¯¼å‡ºæ¥å£ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"css/gc.spread.sheets.excel2013white.x.x.x.css"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"scripts/gc.spread.sheets.all.x.x.x.min.js"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"application/javascript"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"scripts/gc.spread.sheets.io.x.x.x.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"scripts/FileSaver.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">var</span> spread;
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-comment">// åˆå§‹åŒ– SpreadJS å·¥ä½œç°¿</span>
            spread = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">GC</span>.<span class="hljs-property">Spread</span>.<span class="hljs-property">Sheets</span>.<span class="hljs-title class_">Workbook</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"ss"</span>));
        }
        <span class="hljs-comment">// å°† xlsxã€ssjsonã€csv æ–‡ä»¶å¯¼å…¥åˆ° spread ä¸­</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">ImportFile</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">var</span> file = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"fileDemo"</span>).<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];
            spread.<span class="hljs-keyword">import</span>(file, <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
                <span class="hljs-comment">// æˆåŠŸå›è°ƒå‡½æ•°ï¼Œå¯åœ¨æ­¤å¤„æ‰§è¡Œåç»­æ“ä½œ</span>
            }, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e); <span class="hljs-comment">// é”™è¯¯å›è°ƒå‡½æ•°ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯</span>
            }, {
               <span class="hljs-attr">fileType</span>: <span class="hljs-variable constant_">GC</span>.<span class="hljs-property">Spread</span>.<span class="hljs-property">Sheets</span>.<span class="hljs-property">FileType</span>.<span class="hljs-property">excel</span> <span class="hljs-comment">// æŒ‡å®šæ–‡ä»¶ç±»å‹ä¸º Excel</span>
            });
        }
        <span class="hljs-comment">// å°† spread å¯¼å‡ºä¸º xlsxã€ssjsonã€csv æ–‡ä»¶</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">ExportFile</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">var</span> fileName = <span class="hljs-string">"fileNamehere.xlsx"</span>;      
            spread.<span class="hljs-title function_">export</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">blob</span>) {
                <span class="hljs-comment">// å°† blob å¯¹è±¡ä¿å­˜ä¸ºæ–‡ä»¶</span>
                <span class="hljs-title function_">saveAs</span>(blob, fileName);
            }, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
               <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e); <span class="hljs-comment">// é”™è¯¯å›è°ƒå‡½æ•°ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯</span>
            }, {
               <span class="hljs-attr">fileType</span>: <span class="hljs-variable constant_">GC</span>.<span class="hljs-property">Spread</span>.<span class="hljs-property">Sheets</span>.<span class="hljs-property">FileType</span>.<span class="hljs-property">excel</span> <span class="hljs-comment">// æŒ‡å®šæ–‡ä»¶ç±»å‹ä¸º Excel</span>
            });
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"files[]"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"fileDemo"</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">".xlsx"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"loadExcel"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Import"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"ImportFile()"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-default"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"saveExcel"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Export"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"ExportFile()"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"ss"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width:100%; height:500px"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span>
</code></pre>
<h4 data-id="heading-5">äº”ã€ä¼ä¸šåº”ç”¨æ¡ˆä¾‹ä¸å®é™…ä»·å€¼</h4>
<p>SpreadJS å·²åœ¨å¤šä¸ªè¡Œä¸šå¾—åˆ°å¹¿æ³›åº”ç”¨ï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªå…¸å‹ä¼ä¸šçš„åº”ç”¨æ¡ˆä¾‹åŠå…¶å¸¦æ¥çš„å®é™…ä»·å€¼ã€‚</p>
<p><strong>è´¢åŠ¡æŠ¥è¡¨é¢†åŸŸ</strong>ï¼šåèç§‘æŠ€åº”ç”¨ SpreadJS å¼€å‘äº†"é£é™©æŒ‡æ ‡è¡¥å½•ç³»ç»Ÿ"ï¼Œé€šè¿‡åœ¨çº¿è¡¨æ ¼ç¼–è¾‘å™¨å®ç°æ¨¡æ¿è®¾è®¡ï¼Œæ”¯æŒä¸šåŠ¡äººå‘˜è‡ªè¡Œè®¾è®¡å¡«æŠ¥æ¨¡æ¿å¹¶å‘å¸ƒï¼Œå¤§å¹…é™ä½äº†å¯¹ IT éƒ¨é—¨çš„ä¾èµ– ã€‚ç³»ç»Ÿç»“åˆ SpreadJS æä¾›çš„é«˜åº¦ç±»ä¼¼ Excel çš„å±•ç¤ºæ–¹å¼å’Œ Excel çš„å¯¼å…¥å¯¼å‡ºåŠŸèƒ½ï¼Œç®€åŒ–äº†ç³»ç»Ÿå½•å…¥æµç¨‹ï¼Œæå‡äº†æ•°æ®å¤„ç†æ•ˆç‡ã€‚</p>
<p><strong>å®¡è®¡é¢†åŸŸ</strong>ï¼šæŸä¼šè®¡å¸ˆäº‹åŠ¡æ‰€åº”ç”¨ SpreadJS å¼€å‘äº†"æ™ºèƒ½å®¡è®¡äº‘å¹³å°"ï¼ˆSACPï¼‰ï¼Œå®ç°äº†åœ¨çº¿è¿œç¨‹ååŒä½œä¸šï¼Œæä¾›äº†è¿‘ä¹ä¸ Excel ä¸€è‡´çš„åŠŸèƒ½ä½“éªŒ ã€‚å®¡è®¡äººå‘˜å¯ä»¥æ— ç¼è¡”æ¥ä¸åŒåœ°ç‚¹ã€ä¸åŒé¡¹ç›®ç»„çš„å·¥ä½œæ¨¡å¼ï¼Œæ— éœ€ä¸šåŠ¡äººå‘˜é‡æ–°ä¸Šä¼ æ–‡ä»¶ï¼Œåœ¨çº¿å³å¯è®¾è®¡ç”µå­åº•ç¨¿ï¼Œå¹¶ä¸æ–‡ä»¶ç³»ç»Ÿå¿«é€Ÿäº¤äº’ã€‚å®¡æ ¸äººå‘˜èƒ½å¤Ÿè¿œç¨‹å¤æ ¸ã€æ±‡æ€»é—®é¢˜ç‚¹ã€åœ¨çº¿ç©¿é€è‡³æ‰¹æ³¨å¤„ï¼Œæå¤§æå‡äº†å®¡è®¡æ•ˆç‡å’Œè´¨é‡ã€‚</p>
<p><strong>åˆ¶é€ ä¸šé¢†åŸŸ</strong>ï¼šç”˜æ£ è½¯ä»¶åŸºäº SpreadJS å¼€å‘äº†ç”Ÿäº§é‡‡è´­ç³»ç»Ÿï¼Œé€šè¿‡ç¨€ç–çŸ©é˜µå­˜å‚¨æŠ€æœ¯ï¼ŒæˆåŠŸå¤„ç†äº† 10 ä¸‡+æ¡é›¶ä»¶æˆæœ¬æŠ¥ä»·è®°å½•ï¼Œå•è¡¨å†…å­˜å ç”¨æ§åˆ¶åœ¨ 200MB ä»¥å†… ã€‚ç³»ç»Ÿæ”¯æŒå¤šç»“æ„æ•°æ®å½•å…¥ã€å•å…ƒæ ¼çº§æ ¡éªŒåŠå…¬å¼è”åŠ¨è®¡ç®—ï¼Œæ‰“é€šäº†"æ•°æ®å±•ç¤º-å¡«æŠ¥é‡‡é›†-æµç¨‹å¯¹æ¥"å…¨é“¾è·¯ï¼Œæ˜¾è‘—æå‡äº†ç”Ÿäº§é‡‡è´­æ•°æ®çš„å¤„ç†æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚</p>
<p><strong>ç‰©æµè¿è¾“é¢†åŸŸ</strong>ï¼šä¸œæ™®ç§‘æŠ€åº”ç”¨ SpreadJS æ¨åŠ¨éŸµè¾¾é›†å›¢ç‰©æµä¿¡æ¯åŒ–å‘å±•ï¼Œé€šè¿‡ SpreadJS çš„æ¨¡æ¿è®¾è®¡å’Œæ•°æ®æ ¡éªŒåŠŸèƒ½ï¼Œå®ç°äº†ç‰©æµå•æ®çš„å¿«é€Ÿå½•å…¥å’Œå®¡æ ¸ï¼Œå¤§å¹…é™ä½äº†ç‰©æµä¿¡æ¯å¤„ç†çš„äººåŠ›æˆæœ¬å’Œé”™è¯¯ç‡ã€‚ç³»ç»Ÿè¿˜æ”¯æŒç§»åŠ¨ç«¯å¡«æŠ¥ï¼Œä½¿ä¸€çº¿äººå‘˜èƒ½å¤Ÿåœ¨ä»»ä½•ç¯å¢ƒä¸‹å®Œæˆæ•°æ®å½•å…¥ï¼Œæé«˜äº†æ•°æ®é‡‡é›†çš„çµæ´»æ€§å’ŒåŠæ—¶æ€§ã€‚</p>
<p><strong>å›½èµ„äº‘å¹³å°</strong>ï¼šé™•æ•°é›†å›¢ä½œä¸ºé™•è¥¿çœå±ä¿¡æ¯åŒ–ä¼ä¸šï¼Œåˆ©ç”¨ SpreadJS æ„å»ºäº†é™•è¥¿å›½èµ„äº‘å¹³å°çš„æ•°æ®å¡«æŠ¥æ¨¡å—ï¼Œå®ç°äº†çœå±ä¼ä¸šæ•°æ®çš„é›†ä¸­ç®¡ç†å’Œåˆ©ç”¨ ã€‚å¹³å°æŒ‰ç…§å…¨æ ˆä¿¡åˆ›ã€ç­‰ä¿ 2.0 ä¸‰çº§æ ‡å‡†å’Œå›½äº§åŒ–å•†ç”¨å¯†ç è¦æ±‚å»ºæˆï¼Œå…·å¤‡é«˜å®‰å…¨æ€§ã€é«˜å¯é æ€§å’Œé«˜å¯ç”¨æ€§ç­‰ç‰¹ç‚¹ï¼Œä¸ºçœå±ä¼ä¸šæä¾›å…¨é¢çš„æ•°å­—åŒ–è§£å†³æ–¹æ¡ˆ ã€‚</p>
<h4 data-id="heading-6">å…­ã€æœªæ¥è¶‹åŠ¿ä¸ SpreadJS çš„å‘å±•æ–¹å‘</h4>
<p>éšç€ä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„æ·±å…¥ï¼Œè¡¨æ ¼å·¥å…·ä¹Ÿåœ¨ä¸æ–­æ¼”è¿›ã€‚ SpreadJS ä½œä¸ºä¸€æ¬¾ä¸“ä¸šçš„è¡¨æ ¼æ§ä»¶ï¼Œä¹Ÿåœ¨æŒç»­åˆ›æ–°å’Œä¼˜åŒ–ï¼Œä»¥é€‚åº”æœªæ¥çš„å‘å±•è¶‹åŠ¿ã€‚</p>
<p><strong>AI æ·±åº¦æ•´åˆ</strong></p>
<p>å°†æ˜¯ SpreadJS çš„é‡è¦å‘å±•æ–¹å‘ã€‚éšç€ AI æŠ€æœ¯çš„æˆç†Ÿï¼Œè¡¨æ ¼å·¥å…·å°†ä¸å†æ˜¯ç®€å•çš„æ•°æ®å½•å…¥å·¥å…·ï¼Œè€Œæ˜¯èƒ½å¤Ÿç†è§£ä¸šåŠ¡éœ€æ±‚ã€è‡ªåŠ¨ç”Ÿæˆå…¬å¼å’ŒæŠ¥è¡¨çš„æ™ºèƒ½åŠ©æ‰‹ã€‚ SpreadJS å·²å¼€å§‹æ¢ç´¢è¿™ä¸€æ–¹å‘ï¼Œå…¶ AI æ’ä»¶æ”¯æŒè‡ªç„¶è¯­è¨€ç”Ÿæˆé€è§†è¡¨å’Œå›ç­”æ•°æ®ç›¸å…³é—®é¢˜ï¼Œæœªæ¥å°†è¿›ä¸€æ­¥å¢å¼º AI èƒ½åŠ›ï¼Œå®ç°æ›´æ™ºèƒ½çš„æ•°æ®åˆ†æå’Œé¢„æµ‹ã€‚</p>
<p><strong>å®æ—¶åä½œä¸ååŒåŠå…¬</strong></p>
<p>å°†æˆä¸ºè¡¨æ ¼å·¥å…·çš„æ ¸å¿ƒåŠŸèƒ½ã€‚éšç€è¿œç¨‹åŠå…¬å’Œè·¨å›¢é˜Ÿåä½œçš„æ™®åŠï¼Œè¡¨æ ¼å·¥å…·éœ€è¦æ”¯æŒå¤šäººå®æ—¶ç¼–è¾‘ã€å†²çªè‡ªåŠ¨å¤„ç†å’Œç‰ˆæœ¬ç®¡ç†ã€‚ SpreadJS V18.2 ç‰ˆæœ¬å¼•å…¥çš„ååŒæ’ä»¶ï¼ˆBetaï¼‰å·²ç»åœ¨è¿™æ–¹é¢å–å¾—äº†çªç ´ï¼Œæ”¯æŒå•å…ƒæ ¼çº§å†²çªå¤„ç†ã€ç”¨æˆ·å­˜åœ¨æ„Ÿå¯è§†åŒ–å’Œæƒé™ç®¡æ§ ï¼Œæœªæ¥å°†è¿›ä¸€æ­¥å®Œå–„è¿™ä¸€åŠŸèƒ½ï¼Œæä¾›æ›´å¼ºå¤§çš„ååŒåŠå…¬ä½“éªŒã€‚</p>
<p><strong>ä¸ä¼ä¸šç³»ç»Ÿçš„æ— ç¼é›†æˆ</strong></p>
<p>å°†å¢å¼ºè¡¨æ ¼å·¥å…·çš„ä»·å€¼ã€‚ SpreadJS å·²ç»æ”¯æŒä¸å¤šç§ä¼ä¸šä¿¡æ¯ç³»ç»Ÿï¼ˆå¦‚ ERPã€CRMã€BIï¼‰çš„é›†æˆï¼Œæœªæ¥å°†è¿›ä¸€æ­¥æ‰©å±•é›†æˆèŒƒå›´ï¼Œæä¾›æ›´ä¸°å¯Œçš„ API å’Œæ›´ä¾¿æ·çš„é›†æˆæ–¹å¼ï¼Œä½¿è¡¨æ ¼å·¥å…·èƒ½å¤Ÿæ›´å¥½åœ°èå…¥ä¼ä¸šç°æœ‰çš„ä¸šåŠ¡æµç¨‹ã€‚</p>
<p><strong>ä½ä»£ç /æ— ä»£ç å¼€å‘æ”¯æŒ</strong></p>
<p>å°†é™ä½è¡¨æ ¼åº”ç”¨çš„å¼€å‘é—¨æ§›ã€‚ SpreadJS çš„åœ¨çº¿è¡¨æ ¼ç¼–è¾‘å™¨å’Œå¯è§†åŒ–è®¾è®¡å™¨å·²ç»æ”¯æŒä¸šåŠ¡äººå‘˜å‚ä¸æ¨¡æ¿è®¾è®¡ï¼Œæœªæ¥å°†è¿›ä¸€æ­¥å¢å¼ºä½ä»£ç /æ— ä»£ç å¼€å‘èƒ½åŠ›ï¼Œä½¿æ›´å¤šéæŠ€æœ¯äººå‘˜èƒ½å¤Ÿå‚ä¸è¡¨æ ¼åº”ç”¨çš„å¼€å‘å’Œç»´æŠ¤ï¼Œæé«˜ä¼ä¸šæ•°æ®ç®¡ç†çš„æ•æ·æ€§ã€‚</p>
<h4 data-id="heading-7">ä¸ƒã€ç»“è®ºä¸ä»·å€¼æ€»ç»“</h4>
<p>SpreadJS ä½œä¸ºä¸€æ¬¾åŸºäº HTML5 çš„çº¯å‰ç«¯è¡¨æ ¼æ§ä»¶ï¼Œå‡­å€Ÿå…¶"é«˜æ€§èƒ½ã€è·¨å¹³å°ã€ä¸ Excel é«˜åº¦å…¼å®¹"çš„äº§å“ç‰¹æ€§ ï¼Œåœ¨æ•°æ®å½•å…¥ã€æŒ‡æ ‡è¡¥å½•ã€è¡¨å•å¡«æŠ¥ç­‰åœºæ™¯ä¸­å±•ç°å‡ºæ˜¾è‘—ä¼˜åŠ¿ã€‚</p>
<p><strong>æŠ€æœ¯ä»·å€¼</strong></p>
<p>SpreadJS é€šè¿‡ç¨€ç–çŸ©é˜µå­˜å‚¨æŠ€æœ¯å’Œ HTML5 Canvas ç»˜åˆ¶æ–¹æ¡ˆï¼Œè§£å†³äº†ä¼ ç»Ÿè¡¨æ ¼æ§ä»¶åœ¨å¤„ç†å¤§æ•°æ®é‡æ—¶çš„æ€§èƒ½ç“¶é¢ˆ ï¼›é€šè¿‡è‡ªç ”è®¡ç®—å¼•æ“ï¼Œå®ç°äº†å¯¹ 450+ç§ Excel å…¬å¼çš„å…¼å®¹ï¼Œå¹¶æ”¯æŒå•å…ƒæ ¼çº§çš„å…¬å¼è®¡ç®—å’Œä¾èµ–é“¾è¿ç®— ï¼›é€šè¿‡ååŒæ’ä»¶ï¼Œæä¾›äº†å¼ºå¤§çš„å®æ—¶åä½œèƒ½åŠ›ï¼Œæ”¯æŒå¤šäººåŒæ—¶ç¼–è¾‘åŒä¸€å·¥ä½œç°¿ï¼Œç³»ç»Ÿé€šè¿‡ OT ç®—æ³•è‡ªåŠ¨åˆå¹¶æ“ä½œï¼Œè§£å†³äº†ç‰ˆæœ¬æ··ä¹±å’Œå†²çªéš¾è§£å†³çš„é—®é¢˜ ã€‚</p>
<p><strong>ä¸šåŠ¡ä»·å€¼</strong></p>
<p>SpreadJS é€šè¿‡ç±» Excel çš„å¡«æŠ¥ä½“éªŒï¼Œé›¶åŸ¹è®­ä¸Šæ‰‹ ï¼Œé™ä½äº†ç”¨æˆ·è¿ç§»æˆæœ¬ï¼›é€šè¿‡å››é‡æ•°æ®æ ¡éªŒæœºåˆ¶ï¼Œåœ¨çº¿æ ¡éªŒã€æäº¤æ ¡éªŒã€å‰ç«¯ JavaScript æ ¡éªŒå’Œåç«¯æ ¡éªŒï¼Œç¡®ä¿äº†æ•°æ®è´¨é‡ ï¼›é€šè¿‡å¯è§†åŒ–æ¨¡æ¿è®¾è®¡å™¨å’Œ API é›†æˆèƒ½åŠ›ï¼Œæå‡äº†å¼€å‘æ•ˆç‡ï¼Œä½¿ä¼ä¸šèƒ½å¤Ÿå¿«é€Ÿæ„å»ºç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„è¡¨æ ¼åº”ç”¨ ï¼›é€šè¿‡ç§»åŠ¨ç«¯é€‚é…å’Œè·¨å¹³å°ä¸€è‡´æ€§ï¼Œæä¾›äº†çµæ´»ä¾¿æ·çš„æ•°æ®å¡«æŠ¥ä½“éªŒ ã€‚</p>
<p><strong>æŠ•èµ„å›æŠ¥</strong></p>
<p>SpreadJS å¸®åŠ©ä¼ä¸šèŠ‚çœäº†å¤§é‡å¼€å‘æˆæœ¬å’ŒåŸ¹è®­æˆæœ¬ã€‚ä¾‹å¦‚ï¼ŒæŸä¼ä¸šé€šè¿‡ SpreadJS å°†æŠ¥è¡¨æ¨¡æ¿è®¾è®¡æ•ˆç‡æå‡äº† 86.7%ï¼Œ10 å¼ è¡¨çš„è®¾è®¡å·¥ä½œä» 15 äººå¤©ç¼©çŸ­è‡³ 2 äººå¤©ï¼ŒæŒ‰äººå‡æ—¥è–ª 2000 å…ƒè®¡ç®—ï¼ŒèŠ‚çœäº† 26000 å…ƒçš„å¼€å‘æˆæœ¬ ï¼›æŸçœçº§ç»Ÿè®¡å±€ç»æµæ•°æ®é‡‡é›†ç³»ç»Ÿé‡‡ç”¨ SpreadJS åï¼Œæ•°æ®å¡«æŠ¥é”™è¯¯ç‡ä» 12%æ˜¾è‘—é™è‡³ 1.5%ï¼Œæ•°æ®æ±‡æ€»æ•ˆç‡æå‡ 70% ï¼›æŸå¤§å‹åˆ¶é€ ä¼ä¸šå¼•å…¥ SpreadJS åï¼Œé¢„ç®—ç¼–åˆ¶å‘¨æœŸç¼©çŸ­ 25%ï¼Œé¢„ç®—æ‰§è¡Œåå·®ç‡é™ä½ 15% ã€‚</p>
<p><strong>æœªæ¥å±•æœ›</strong></p>
<p>SpreadJS å°†ç»§ç»­æ·±åŒ– AI èƒ½åŠ›ã€å¢å¼ºå®æ—¶åä½œåŠŸèƒ½ã€æ‰©å±•ä¸ä¼ä¸šç³»ç»Ÿçš„é›†æˆèŒƒå›´ã€æå‡ä½ä»£ç /æ— ä»£ç å¼€å‘æ”¯æŒï¼Œä¸ºä¼ä¸šæä¾›æ›´æ™ºèƒ½ã€æ›´é«˜æ•ˆã€æ›´ä¾¿æ·çš„æ•°æ®å¤„ç†ä¸å¡«æŠ¥è§£å†³æ–¹æ¡ˆã€‚</p>
<p>æ€»ä¹‹ï¼Œ SpreadJS ä¸ä»…æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„è¡¨æ ¼æ§ä»¶ï¼Œæ›´æ˜¯ä¼ä¸šæ•°å­—åŒ–è½¬å‹ä¸­çš„é‡è¦å·¥å…·ã€‚é€šè¿‡ SpreadJSï¼Œä¼ä¸šå¯ä»¥æ„å»ºé«˜æ•ˆã€å®‰å…¨ã€æ˜“ç”¨çš„æ•°æ®å½•å…¥ã€æŒ‡æ ‡è¡¥å½•ã€è¡¨å•å¡«æŠ¥ç³»ç»Ÿï¼Œæå‡æ•°æ®å¤„ç†æ•ˆç‡ï¼Œé™ä½å¼€å‘æˆæœ¬ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼Œä¸ºä¼ä¸šçš„æ•°å­—åŒ–è½¬å‹æä¾›æœ‰åŠ›æ”¯æŒã€‚</p>
<h3 data-id="heading-8">æ‰©å±•é“¾æ¥</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.grapecity.com.cn%2Fdeveloper%2Fspreadjs" title="https://www.grapecity.com.cn/developer/spreadjs" target="_blank" ref="nofollow noopener noreferrer">å¯åµŒå…¥æ‚¨ç³»ç»Ÿçš„åœ¨çº¿Excel</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonæ­£åœ¨æ­»å»ï¼Œ2026å¹´Pythonè¿˜å€¼å¾—å­¦å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7576212547236429867</link>    <guid>https://juejin.cn/post/7576212547236429867</guid>    <pubDate>2025-11-25T08:42:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576212547236429867" data-draft-id="7576371992615321636" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonæ­£åœ¨æ­»å»ï¼Œ2026å¹´Pythonè¿˜å€¼å¾—å­¦å—ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,Python"/> <meta itemprop="datePublished" content="2025-11-25T08:42:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¯¥ç”¨æˆ·å·²ä¸å­˜åœ¨"/> <meta itemprop="url" content="https://juejin.cn/user/64217584778579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonæ­£åœ¨æ­»å»ï¼Œ2026å¹´Pythonè¿˜å€¼å¾—å­¦å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/64217584778579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¯¥ç”¨æˆ·å·²ä¸å­˜åœ¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:42:14.000Z" title="Tue Nov 25 2025 08:42:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é©¬ä¸Šå°±åˆ°2026å¹´äº†ï¼Œæƒ³æ­»çš„é£å¹åˆ°äº†Pythonã€‚</p>
<p>å¤–ç½‘è¿˜æœ‰äººè®¨è®ºï¼Œè¯´Pythonè¦ä¸è¡Œäº†ï¼Œç°åœ¨è½¬æ–¹å‘è¿˜æ¥å¾—åŠã€‚æ„Ÿè§‰å°±åƒæ¯éš”ä¸€é˜µï¼Œæ€»æœ‰äººä¿¡èª“æ—¦æ—¦åœ°å®£å¸ƒâ€œXXå·²æ­»â€ä¸€æ ·ï¼Œä»Javaåˆ°PHPï¼Œè·Ÿå‡»é¼“ä¼ èŠ±ä¼¼çš„ï¼Œç°åœ¨ç»ˆäºè½®åˆ°Pythonäº†ã€‚</p>
<p>ä½†å…¶å®ï¼ŒPythonä¸ä»…æ²¡æ­»ï¼Œè¿˜æ´»å¾—å¥½å¥½çš„ï¼Œç”šè‡³å¯ä»¥è¯´ï¼Œåœ¨æŸäº›é¢†åŸŸï¼Œå®ƒæ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´å¼ºåŠ¿ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/538995cc314e42aaa6e509b3bc9b8f90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764664934&amp;x-signature=thub5HS9j6PanR1ay9Lzhfz5mBE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-0">åˆ°åº•è°åœ¨é€ è°£Pythonä¸è¡Œäº†ï¼Ÿ</h3>
<p>è¿™ç§å£°éŸ³å¹¶éç©ºç©´æ¥é£ï¼Œä¸»è¦é›†ä¸­åœ¨å‡ ä¸ªç‚¹ä¸Šï¼Œè€Œä¸”è¯´å¾—éƒ½æœ‰å‡ åˆ†é“ç†ã€‚</p>
<h4 data-id="heading-1">æ€§èƒ½ç¡®å®æ˜¯ç¡¬ä¼¤</h4>
<p>è¦è¯´è¿è¡Œé€Ÿåº¦ï¼ŒPythonç¡®å®è·‘ä¸è¿‡C++ã€Rustå’ŒGoè¿™äº›ç¼–è¯‘å‹è¯­è¨€ã€‚è¿™æ˜¯ç”±å®ƒçš„è§£é‡Šå‹è¯­è¨€ç‰¹æ€§å†³å®šçš„ã€‚åœ¨ä¸€äº›éœ€è¦æè‡´æ€§èƒ½ã€é«˜å¹¶å‘çš„åœºæ™¯ï¼Œæ¯”å¦‚åšåº•å±‚ç³»ç»Ÿã€æ¸¸æˆå¼•æ“æˆ–è€…é«˜é¢‘äº¤æ˜“ï¼Œé€‰æ‹©Pythonç¡®å®ä¸æ˜æ™ºã€‚è¿™æ˜¯Pythonçš„åŸç½ªï¼Œä¹Ÿæ˜¯æ‰¹è¯„è€…æœ€æœ‰åŠ›çš„æ­¦å™¨ã€‚</p>
<h4 data-id="heading-2">æ–°è¯­è¨€çš„å†²å‡»</h4>
<p>è¿™å‡ å¹´ï¼Œæ–°æŠ€æœ¯å±‚å‡ºä¸ç©·ã€‚Rustå‡­å€Ÿå…¶å†…å­˜å®‰å…¨å’Œé«˜æ€§èƒ½ï¼Œåœ¨ç³»ç»Ÿç¼–ç¨‹é¢†åŸŸç«™ç¨³äº†è„šè·Ÿï¼›Goåˆ™ä»¥å…¶ç®€æ´çš„å¹¶å‘æ¨¡å‹ï¼Œåœ¨å¾®æœåŠ¡å’Œç½‘ç»œç¼–ç¨‹ä¸Šå¤§æ”¾å¼‚å½©ã€‚è¿™äº›æ–°ç§€åœ¨å®ƒä»¬æ“…é•¿çš„é¢†åŸŸï¼Œç¡®å®æ¯”Pythonåšå¾—æ›´å¥½ã€‚å¾ˆå¤šè¿½æ±‚æ–°æŠ€æœ¯çš„å¼€å‘è€…ï¼Œè‡ªç„¶ä¼šè§‰å¾—Pythonè€äº†ã€è¿‡æ—¶äº†ã€‚</p>
<h4 data-id="heading-3">ç§»åŠ¨ç«¯å’Œå‰ç«¯çš„ç¼ºä½</h4>
<p>è¿™æ˜¯ä¸€ä¸ªè€é—®é¢˜äº†ã€‚åœ¨æ‰‹æœºAppå¼€å‘ï¼ˆiOS/Androidï¼‰å’Œæµè§ˆå™¨å‰ç«¯å¼€å‘è¿™ä¸¤ä¸ªå·¨å¤§çš„é¢†åŸŸï¼ŒPythonå‡ ä¹æ²¡æœ‰å­˜åœ¨æ„Ÿã€‚è¿™å—å¸‚åœºè¢«Swift/Kotlinå’ŒJavaScript/TypeScriptç‰¢ç‰¢å æ®ã€‚</p>
<p>ä½ æ˜¯ä¸æ˜¯ä¹Ÿè§‰å¾—Pythonæ²¡å¿…è¦å†å­¦äº†ï¼Ÿä½†å…¶å®Pythonä¸ä»…æ²¡æ­»ï¼Œåè€Œæ´»å¾—æ›´å¥½äº†ã€‚</p>
<h3 data-id="heading-4">Pythonæ´»å¾—æ›´å¥½äº†</h3>
<p>ä¸€ä¸ªè¯­è¨€çš„ç”Ÿå‘½åŠ›ï¼Œä»æ¥ä¸åªçœ‹å®ƒçš„çŸ­æ¿ï¼Œæ›´è¦çœ‹å®ƒçš„é•¿æ¿æœ‰å¤šé•¿ã€‚Pythonçš„é•¿æ¿ï¼Œé•¿åˆ°è¶³ä»¥è®©æ•´ä¸ªè¡Œä¸šéƒ½ç¦»ä¸å¼€å®ƒã€‚</p>
<h4 data-id="heading-5">Â Â AIå’Œæ•°æ®ç§‘å­¦æ—¶ä»£çš„Cä½è¯­è¨€</h4>
<p>è¿™æ˜¯Pythonæœ€ç¡¬çš„åº•ç‰Œã€‚å½“ä¸‹æœ€ç«çƒ­çš„äººå·¥æ™ºèƒ½å’Œæ•°æ®ç§‘å­¦é¢†åŸŸï¼Œå‡ ä¹å°±æ˜¯Pythonçš„å¤©ä¸‹ã€‚ä»æ•°æ®å¤„ç†çš„Pandasã€NumPyï¼Œåˆ°æœºå™¨å­¦ä¹ çš„Scikit-learnï¼Œå†åˆ°æ·±åº¦å­¦ä¹ çš„TensorFlowå’ŒPyTorchï¼Œæ•´ä¸ªç”Ÿæ€é“¾éƒ½æ˜¯ç”¨Pythonæ„å»ºçš„ã€‚å¯ä»¥è¯´ï¼ŒAIæµªæ½®æœ‰å¤šæ±¹æ¶Œï¼ŒPythonçš„æŠ¤åŸæ²³å°±æœ‰å¤šæ·±ã€‚åªè¦ä½ æƒ³åƒAIè¿™ç¢—é¥­ï¼ŒPythonå°±æ˜¯ç»•ä¸å¼€çš„é€šè¡Œè¯ã€‚</p>
<h4 data-id="heading-6">éå¸¸å¼ºå¤§çš„ç”Ÿæ€</h4>
<p>Pythonæ‹¥æœ‰æ•°é‡åºå¤§ä¸”è´¨é‡æé«˜çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆPyPIï¼‰ã€‚æƒ³åšä¸ªç½‘ç«™ï¼Ÿæœ‰Djangoã€Flaskã€‚æƒ³åšä¸ªçˆ¬è™«ï¼ŸBeautifulSoupã€Scrapyéšä¾¿ç”¨ã€‚æƒ³åšä¸ªè‡ªåŠ¨åŒ–è„šæœ¬ï¼Ÿæ›´æ˜¯Pythonçš„æ‹¿æ‰‹å¥½æˆã€‚</p>
<p>è¿™ç§å¼€ç®±å³ç”¨çš„ä½“éªŒï¼Œæ„å‘³ç€æé«˜çš„å¼€å‘æ•ˆç‡ã€‚è€æ¿å…³å¿ƒçš„æ˜¯äº§å“å¤šå¿«èƒ½ä¸Šçº¿ï¼Œè€Œä¸æ˜¯ä½ çš„ä»£ç è·‘å¾—å¿«äº†é›¶ç‚¹å‡ æ¯«ç§’ã€‚åœ¨å¤§å¤šæ•°ä¸šåŠ¡åœºæ™¯ï¼Œå¼€å‘æ•ˆç‡è¿œæ¯”è¿è¡Œæ•ˆç‡é‡è¦ã€‚</p>
<h4 data-id="heading-7">èƒ¶æ°´è¯­è¨€çš„å®šä½æ™ºæ…§</h4>
<p>å¾ˆå¤šäººæ²¡ææ˜ç™½ä¸€ç‚¹ï¼ŒPythonå¹¶ä¸éœ€è¦æ‰€æœ‰äº‹æƒ…éƒ½äº²åŠ›äº²ä¸ºã€‚å®ƒæœ€æ“…é•¿çš„æ˜¯åšå¹•åbossã€‚é‚£äº›å¯¹æ€§èƒ½è¦æ±‚é«˜çš„è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼ŒPythoné€šè¿‡è°ƒç”¨åº•å±‚çš„C/C++åº“æ¥å®Œæˆã€‚æ¯”å¦‚ï¼Œç”¨Pandaså¤„ç†æ•°æ®ï¼Œæ„Ÿè§‰å¾ˆé¡ºæ»‘ï¼Œå…¶å®åº•ä¸‹æ˜¯Cåœ¨ç–¯ç‹‚è¿ç®—ã€‚</p>
<p>Pythonè´Ÿè´£ç”¨ç®€æ´çš„è¯­æ³•æŠŠå¤æ‚çš„é€»è¾‘ä¸²èµ·æ¥ï¼Œè„æ´»ç´¯æ´»äº¤ç»™åˆ«äººå¹²ã€‚å¼€å‘è€…å†™ç€èˆ’æœï¼Œç¨‹åºè·‘å¾—ä¹Ÿä¸æ…¢ï¼Œä¸¤å…¨å…¶ç¾ã€‚</p>
<h3 data-id="heading-8">è¯¥çº ç»“çš„ä»æ¥ä¸æ˜¯å­¦å“ªä¸€ç§è¯­è¨€</h3>
<p>ç”±æ­¤å¯è¯ï¼ŒPythonæ²¡æœ‰åœ¨æ­»å»ï¼Œå®ƒåªæ˜¯åœ¨è‡ªå·±çš„ä¼˜åŠ¿é¢†åŸŸæ›´åŠ ä¸“æ³¨äº†ã€‚</p>
<p>å¯¹äºæˆ‘ä»¬ç¨‹åºå‘˜æ¥è¯´ï¼Œä¸å…¶å¤©å¤©ç„¦è™‘å“ªä¸ªè¯­è¨€ä¼šæ­»ï¼Œä¸å¦‚æ€è€ƒä¸€ä¸‹å¦‚ä½•è®©è‡ªå·±å˜å¾—æ›´å¼ºã€‚æœªæ¥çš„è¶‹åŠ¿ä¸€å®šæ˜¯ä¸€ä¸“å¤šèƒ½ï¼Œå°±æ˜¯è¯´ç¨‹åºå‘˜å¾—æœ‰ä¸€ä¸ªä¸»æ”»è¯­è¨€ï¼ŒåŒæ—¶å¯¹å…¶ä»–é¢†åŸŸçš„å·¥å…·ä¹Ÿè¦æœ‰æ‰€æ¶‰çŒã€‚æ¯”å¦‚ï¼Œä¸»æ”»Pythonåšåç«¯å’Œæ•°æ®åˆ†æï¼Œä½†ä¹Ÿéœ€è¦æ‡‚ç‚¹å‰ç«¯æ¡†æ¶ï¼Œäº†è§£ä¸€äº›Rustæ¥å†™é«˜æ€§èƒ½ç»„ä»¶ã€‚</p>
<p>è¿™ç§â€œä»€ä¹ˆéƒ½è¦ä¼šä¸€ç‚¹â€çš„è¶‹åŠ¿ï¼Œå¯¹<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com" target="_blank" title="https://www.servbay.com" ref="nofollow noopener noreferrer">å¼€å‘ç¯å¢ƒçš„ç®¡ç†</a>æ˜¯ä¸ªä¸å°çš„æŒ‘æˆ˜ã€‚ä»Šå¤©æ£é¼“Go 1.21ï¼Œæ˜å¤©é¡¹ç›®è¦ç”¨Python 3.10ï¼ŒåŒæ—¶è¿˜è¦è·‘ä¸ªJavaå†™çš„ä¸­é—´ä»¶ï¼Œå¶å°”è¿˜å¾—ç¼–è¯‘ä¸ªRusté¡¹ç›®ã€‚åœ¨æœ¬æœºä¸Šè£…è¿™ä¹ˆå¤šç¯å¢ƒï¼Œç‰ˆæœ¬å†²çªã€è·¯å¾„é…ç½®ï¼Œæƒ³æƒ³éƒ½å¤´å¤§ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œåƒ <strong>ServBay</strong> è¿™æ ·çš„é›†æˆå¼€å‘ç¯å¢ƒå·¥å…·å°±æ´¾ä¸Šç”¨åœºäº†ã€‚å®ƒæŠŠç¨‹åºå‘˜å¸¸ç”¨çš„å¼€å‘è¯­è¨€å’Œå·¥å…·éƒ½æ‰“åŒ…å¥½äº†ï¼Œå¯ä»¥ä¸€é”®å®‰è£…ã€‚æ¯”å¦‚æƒ³ç”¨Pythonï¼Œå®ƒç›´æ¥å°±æä¾›äº†ï¼Œåªéœ€è¦ç‚¹å‡»ä¸‹è½½å°±è¡Œï¼Œè€Œä¸”æ”¯æŒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com%2Ffeatures%2Fpython" target="_blank" title="https://www.servbay.com/features/python" ref="nofollow noopener noreferrer">å¤šä¸ªPythonç‰ˆæœ¬è‡ªç”±åˆ‡æ¢</a>ï¼Œç”šè‡³å¯ä»¥åŒæ—¶è¿è¡Œï¼Œè¿™å¯¹äºç»´æŠ¤è€é¡¹ç›®å’Œå¼€å‘æ–°é¡¹ç›®ç®€ç›´å¤ªæ–¹ä¾¿äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b972b318b85475bbb5dc4cc24e86f79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6K-l55So5oi35bey5LiN5a2Y5Zyo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764664934&amp;x-signature=4jczbiUq9M20V%2B0R2cUjNZ%2FYHsQ%3D" alt="" loading="lazy"/></p>
<p>ä¸æ­¢Pythonï¼ŒServBay è¿˜æ”¯æŒJavaã€Rustã€Goè¿™äº›çƒ­é—¨è¯­è¨€ï¼ŒåŒæ ·æ˜¯å¤šç‰ˆæœ¬ç®¡ç†ã€‚å®ƒè¿˜é›†æˆäº†å¸¸ç”¨çš„æ•°æ®åº“å’Œå·¥å…·ï¼Œæ¯”å¦‚MySQLã€PostgreSQLï¼Œç”šè‡³åƒ <strong>Redis</strong> è¿™æ ·çš„NoSQLå·¥å…·ï¼Œä¹Ÿæ˜¯ä¸€é”®å®‰è£…ï¼Œçœå»äº†å¤§é‡ç¯å¢ƒé…ç½®çš„æ—¶é—´ã€‚ç¨‹åºå‘˜åªéœ€è¦å†™ä»£ç å°±è¡Œï¼Œåˆ«çš„å•¥éƒ½ä¸ç”¨ç®¡ã€‚</p>
<h3 data-id="heading-9">ç»“è®º</h3>
<p>åˆ«å†å¬é‚£äº›Pythonå·²æ­»çš„è¨€è®ºäº†ã€‚è¯´è¯çš„äººå¯èƒ½æ—¢æ²¡å†™è¿‡å‡ è¡ŒPythonï¼Œä¹Ÿæ²¡ç”¨å®ƒè§£å†³è¿‡ä»€ä¹ˆå®é™…é—®é¢˜ã€‚</p>
<p>Pythonå‡­å€Ÿå…¶åœ¨AIã€æ•°æ®ç§‘å­¦å’Œè‡ªåŠ¨åŒ–é¢†åŸŸçš„ç»å¯¹ä¼˜åŠ¿ï¼Œä»¥åŠæ— ä¸ä¼¦æ¯”çš„ç”Ÿæ€ç³»ç»Ÿï¼Œæœªæ¥åå¹´å†…ä¾ç„¶ä¼šæ˜¯ä¸»æµç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ã€‚</p>
<p>çœŸæ­£è¯¥æ‹…å¿ƒçš„ï¼Œä¸æ˜¯Pythonä¼šä¸ä¼šæ­»ï¼Œè€Œæ˜¯æˆ‘ä»¬è‡ªå·±ä¼šä¸ä¼šåœæ­¢å­¦ä¹ ã€‚æŠ€æœ¯åœ¨å‘å±•ï¼Œå¸‚åœºåœ¨å˜åŒ–ï¼Œåšä¸€ä¸ªèƒ½è§£å†³é—®é¢˜çš„å·¥ç¨‹å¸ˆï¼Œè¿œæ¯”åšä¸€ä¸ªâ€œxxè¯­è¨€â€çš„ç¨‹åºå‘˜æ›´æœ‰ä»·å€¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025 å¹´å€¼å¾—å…³æ³¨çš„ CSS æ–°å±æ€§ä¸åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7576338796846465064</link>    <guid>https://juejin.cn/post/7576338796846465064</guid>    <pubDate>2025-11-25T08:41:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576338796846465064" data-draft-id="7576219879680081955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" 2025 å¹´å€¼å¾—å…³æ³¨çš„ CSS æ–°å±æ€§ä¸åŠŸèƒ½"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2025-11-25T08:41:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆå“ˆOå“ˆå“ˆå“ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3813562999914157"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             2025 å¹´å€¼å¾—å…³æ³¨çš„ CSS æ–°å±æ€§ä¸åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3813562999914157/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆå“ˆOå“ˆå“ˆå“ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:41:48.000Z" title="Tue Nov 25 2025 08:41:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆªè‡³ <strong>2025 å¹´ 11 æœˆ</strong>ï¼ŒCSS æ ‡å‡†ï¼ˆä¸»è¦ç”± W3C å’Œ WHATWG æ¨è¿›ï¼‰åœ¨è¿‘å¹´æ–°å¢äº†å¤šä¸ªå®ç”¨ä¸”å¼ºå¤§çš„ CSS å±æ€§å’ŒåŠŸèƒ½ã€‚è™½ç„¶è¿™äº›å¹¶éå…¨éƒ¨åœ¨â€œ2025 å¹´å½“å¹´â€é¦–æ¬¡å¼•å…¥ï¼Œä½†è®¸å¤šå·²åœ¨ <strong>2024â€“2025 å¹´é—´è¿›å…¥ä¸»æµæµè§ˆå™¨ç¨³å®šæ”¯æŒé˜¶æ®µ</strong>ï¼Œæˆä¸ºç°ä»£å‰ç«¯å¼€å‘çš„å¸¸ç”¨å·¥å…·ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ <strong>2025 å¹´å¼€å‘è€…åº”é‡ç‚¹å…³æ³¨çš„æ–°å¢æˆ–å¹¿æ³›æ”¯æŒçš„ CSS å±æ€§ä¸ç‰¹æ€§</strong>ï¼Œé€‚åˆç”¨äºæŠ€æœ¯æ–‡ç« ã€æ•™ç¨‹æˆ–é¡¹ç›®å®è·µï¼š</p>
<hr/>
<h2 data-id="heading-0">ğŸ¨ 2025 å¹´å€¼å¾—å…³æ³¨çš„ CSS æ–°å±æ€§ä¸åŠŸèƒ½</h2>
<h3 data-id="heading-1">1. <code>:has()</code> â€”â€” â€œçˆ¶é€‰æ‹©å™¨â€ç»ˆäºæ¥äº†ï¼</h3>
<blockquote>
<p><strong>çŠ¶æ€</strong>ï¼šChrome 105+ã€Safari 15.4+ã€Firefox 121+ï¼ˆ2024 å¹´å…¨é¢æ”¯æŒï¼‰</p>
</blockquote>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* å½“ .card å†…åŒ…å« .image æ—¶ï¼Œä¸ºå…¶æ·»åŠ é˜´å½± */</span>
<span class="hljs-selector-class">.card</span><span class="hljs-selector-pseudo">:has</span>(<span class="hljs-selector-class">.image</span>) {
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">12px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>);
}

<span class="hljs-comment">/* è¡¨å•éªŒè¯ï¼šè¾“å…¥æ— æ•ˆæ—¶é«˜äº®æ ‡ç­¾ */</span>
<span class="hljs-selector-tag">label</span><span class="hljs-selector-pseudo">:has</span>(<span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:invalid</span>) {
  <span class="hljs-attribute">color</span>: red;
}
</code></pre>
<p>âœ… <strong>æ„ä¹‰</strong>ï¼šæ‰“ç ´â€œåªèƒ½å‘ä¸‹é€‰æ‹©â€çš„é™åˆ¶ï¼Œå®ç°åŸºäºå­å…ƒç´ çŠ¶æ€çš„çˆ¶çº§æ ·å¼æ§åˆ¶ã€‚</p>
<hr/>
<h3 data-id="heading-2">2. <code>@layer</code> â€”â€” æ ·å¼å±‚ç®¡ç†</h3>
<blockquote>
<p><strong>è§£å†³ç—›ç‚¹</strong>ï¼šç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ Bootstrapï¼‰ä¸è‡ªå®šä¹‰æ ·å¼çš„ä¼˜å…ˆçº§å†²çª</p>
</blockquote>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@layer</span> reset, base, components, utilities;

<span class="hljs-variable">@layer</span> base {
  <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">font-family</span>: sans-serif; }
}

<span class="hljs-variable">@layer</span> components {
  <span class="hljs-selector-class">.button</span> { <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>; }
}
</code></pre>
<ul>
<li>å±‚å†…è§„åˆ™éµå¾ªæ­£å¸¸ä¼˜å…ˆçº§ï¼›</li>
<li>å±‚ä¹‹é—´æŒ‰ <code>@layer</code> å£°æ˜é¡ºåºå†³å®šä¼˜å…ˆçº§ï¼ˆåå£°æ˜ &gt; å…ˆå£°æ˜ï¼‰ï¼›</li>
<li>æœªå‘½åçš„æ ·å¼é»˜è®¤åœ¨æœ€é«˜ä¼˜å…ˆçº§å±‚ã€‚</li>
</ul>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¤§å‹é¡¹ç›®ã€è®¾è®¡ç³»ç»Ÿã€ç»„ä»¶åº“å¼€å‘ã€‚</p>
<hr/>
<h3 data-id="heading-3">3. <code>container-type</code> + å®¹å™¨æŸ¥è¯¢ï¼ˆContainer Queriesï¼‰</h3>
<blockquote>
<p><strong>æ›¿ä»£åª’ä½“æŸ¥è¯¢çš„å±€éƒ¨å“åº”å¼æ–¹æ¡ˆ</strong></p>
</blockquote>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å†…å®¹...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.card</span> {
  container-type: inline-size; <span class="hljs-comment">/* åˆ›å»ºå®¹å™¨ä¸Šä¸‹æ–‡ */</span>
}

<span class="hljs-comment">/* å½“å¡ç‰‡å®½åº¦ &lt; 400px æ—¶éšè—æ ‡é¢˜ */</span>
<span class="hljs-keyword">@container</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">400px</span>) {
  <span class="hljs-selector-class">.card</span> <span class="hljs-selector-tag">h2</span> { <span class="hljs-attribute">display</span>: none; }
}
</code></pre>
<p>âœ… <strong>ä¼˜åŠ¿</strong>ï¼šç»„ä»¶å¯ç‹¬ç«‹å“åº”è‡ªèº«å°ºå¯¸ï¼Œä¸å†ä¾èµ–è§†å£å®½åº¦ï¼ŒçœŸæ­£å®ç°â€œç»„ä»¶çº§å“åº”å¼â€ã€‚</p>
<hr/>
<h3 data-id="heading-4">4. <code>scrollbar-gutter</code> â€”â€” é¢„ç•™æ»šåŠ¨æ¡ç©ºé—´</h3>
<blockquote>
<p><strong>è§£å†³é¡µé¢å› æ»šåŠ¨æ¡æ˜¾ç¤º/éšè—å¯¼è‡´çš„å¸ƒå±€æŠ–åŠ¨</strong></p>
</blockquote>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">html</span> {
  <span class="hljs-attribute">scrollbar-gutter</span>: stable;
}
</code></pre>
<ul>
<li><code>stable</code>ï¼šå§‹ç»ˆé¢„ç•™æ»šåŠ¨æ¡ä½ç½®ï¼›</li>
<li><code>stable both-edges</code>ï¼šåŒä¾§é¢„ç•™ï¼ˆé€‚ç”¨äºåŒå‘æ»šåŠ¨ï¼‰ã€‚</li>
</ul>
<p>âœ… <strong>ç”¨æˆ·ä½“éªŒæå‡</strong>ï¼šé¿å…å†…å®¹åœ¨ macOSï¼ˆè‡ªåŠ¨éšè—æ»šåŠ¨æ¡ï¼‰ä¸ Windows é—´è·³åŠ¨ã€‚</p>
<hr/>
<h3 data-id="heading-5">5. <code>accent-color</code> â€”â€” ç»Ÿä¸€è¡¨å•æ§ä»¶ä¸»è‰²</h3>
<blockquote>
<p><strong>ä¸€é”®å®šåˆ¶å¤é€‰æ¡†ã€å•é€‰æŒ‰é’®ã€èŒƒå›´æ»‘å—ç­‰é¢œè‰²</strong></p>
</blockquote>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">"checkbox"</span>]</span> {
  accent-<span class="hljs-attribute">color</span>: <span class="hljs-number">#6366f1</span>; <span class="hljs-comment">/* Tailwind indigo-500 */</span>
}

<span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">"range"</span>]</span> {
  accent-<span class="hljs-attribute">color</span>: tomato;
}
</code></pre>
<p>âœ… <strong>æ— éœ€å¤æ‚ hack</strong>ï¼ŒåŸç”Ÿæ”¯æŒè·¨æµè§ˆå™¨ä¸€è‡´çš„ UI ä¸»é¢˜è‰²ã€‚</p>
<hr/>
<h3 data-id="heading-6">6. <code>color-mix()</code> â€”â€” åŸç”Ÿé¢œè‰²æ··åˆå‡½æ•°</h3>
<blockquote>
<p><strong>æ— éœ€ Sass/PostCSSï¼Œç›´æ¥åœ¨ CSS ä¸­æ··åˆé¢œè‰²</strong></p>
</blockquote>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.button</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">color-mix</span>(in srgb, blue <span class="hljs-number">70%</span>, white <span class="hljs-number">30%</span>);
  <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">color-mix</span>(in srgb, <span class="hljs-built_in">var</span>(--primary) <span class="hljs-number">50%</span>, transparent);
}
</code></pre>
<p>æ”¯æŒè‰²å½©ç©ºé—´ï¼š<code>srgb</code>ã€<code>lch</code>ã€<code>oklch</code> ç­‰ï¼Œé…åˆç°ä»£è°ƒè‰²æ›´ç²¾å‡†ã€‚</p>
<hr/>
<h3 data-id="heading-7">7. <code>@property</code>ï¼ˆCSS Houdini è‡ªå®šä¹‰å±æ€§ç±»å‹ï¼‰</h3>
<blockquote>
<p><strong>è®© CSS è‡ªå®šä¹‰å±æ€§å…·å¤‡ç±»å‹ã€åˆå§‹å€¼å’Œç»§æ‰¿æ€§</strong></p>
</blockquote>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@property</span> --gradient-angle {
  syntax: <span class="hljs-string">'&lt;angle&gt;'</span>;
  initial-value: <span class="hljs-number">0deg</span>;
  inherits: true;
}

<span class="hljs-selector-class">.gradient</span> {
  <span class="hljs-attr">--gradient-angle</span>: <span class="hljs-number">45deg</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-built_in">var</span>(--gradient-angle), blue, purple);
  <span class="hljs-attribute">transition</span>: --gradient-angle <span class="hljs-number">0.3s</span>; <span class="hljs-comment">/* âœ… ç°åœ¨å¯ä»¥åŠ¨ç”»äº†ï¼ */</span>
}
</code></pre>
<p>âœ… <strong>çªç ´é™åˆ¶</strong>ï¼šä»¥å‰ <code>transition: --my-var</code> æ— æ•ˆï¼Œç°åœ¨å¯å¯¹è‡ªå®šä¹‰å±æ€§åšæ’å€¼åŠ¨ç”»ï¼</p>
<hr/>
<h3 data-id="heading-8">8. <code>font-palette</code> â€”â€” æ§åˆ¶å½©è‰²å­—ä½“è°ƒè‰²æ¿</h3>
<blockquote>
<p><strong>é€‚ç”¨äºæ”¯æŒ COLRv1 çš„å½©è‰²å­—ä½“ï¼ˆå¦‚ Emojiã€å›¾æ ‡å­—ä½“ï¼‰</strong></p>
</blockquote>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.icon</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"ColorFont"</span>;
  <span class="hljs-attribute">font</span>-palette: --my-palette;
}

<span class="hljs-keyword">@font-palette-values</span> --my-palette {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"ColorFont"</span>;
  base-palette: <span class="hljs-number">1</span>;
  override-colors:
    <span class="hljs-number">0</span> <span class="hljs-number">#ff6b6b</span>,
    <span class="hljs-number">1</span> <span class="hljs-number">#4ecdc4</span>;
}
</code></pre>
<p>âœ… <strong>è®¾è®¡å¸ˆå‹å¥½</strong>ï¼šåŠ¨æ€åˆ‡æ¢å›¾æ ‡ä¸»é¢˜è‰²ï¼Œæ— éœ€å¤šå¥— SVGã€‚</p>
<hr/>
<h3 data-id="heading-9">9. <code>view-timeline</code> ä¸ <code>animation-timeline</code>ï¼ˆæ»šåŠ¨é©±åŠ¨åŠ¨ç”»ï¼‰</h3>
<blockquote>
<p><strong>ç”¨æ»šåŠ¨ä»£æ›¿æ—¶é—´è½´è§¦å‘åŠ¨ç”»</strong></p>
</blockquote>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.hero</span> {
  <span class="hljs-attribute">animation</span>: fadeUp linear;
  <span class="hljs-attribute">animation</span>-timeline: <span class="hljs-built_in">view</span>();
}

<span class="hljs-keyword">@keyframes</span> fadeUp {
  <span class="hljs-number">0%</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">50px</span>); }
  <span class="hljs-number">100%</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">0</span>); }
}
</code></pre>
<ul>
<li><code>view()</code>ï¼šåŸºäºå…ƒç´ åœ¨è§†å£ä¸­çš„å¯è§æ¯”ä¾‹ï¼›</li>
<li>è¿˜æ”¯æŒ <code>scroll()</code> æ—¶é—´çº¿ã€‚</li>
</ul>
<p>âœ… <strong>æ— éœ€ JS</strong> å®ç°è§†å·®ã€æ¸æ˜¾ã€è¿›åº¦æ¡ç­‰äº¤äº’åŠ¨æ•ˆã€‚</p>
<hr/>
<h3 data-id="heading-10">10. <code>:popover-open</code> ä¼ªç±» + <code>&lt;dialog&gt;</code> å¢å¼º</h3>
<blockquote>
<p><strong>åŸç”Ÿå¼¹çª—äº¤äº’æ›´å¼ºå¤§</strong></p>
</blockquote>
<pre><code class="hljs language-ini" lang="ini">&lt;div popover <span class="hljs-attr">id</span>=<span class="hljs-string">"tooltip"</span>&gt;æç¤ºå†…å®¹&lt;/div&gt;
&lt;button <span class="hljs-attr">popovertarget</span>=<span class="hljs-string">"tooltip"</span>&gt;æ‚¬åœ&lt;/button&gt;
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[popover]</span><span class="hljs-selector-pseudo">:not</span>(:popover-open) {
  <span class="hljs-attribute">display</span>: none;
}

<span class="hljs-selector-attr">[popover]</span>:popover-open {
  <span class="hljs-attribute">animation</span>: fadeIn <span class="hljs-number">0.2s</span>;
}
</code></pre>
<p>âœ… <strong>è¯­ä¹‰åŒ– + å¯è®¿é—®æ€§</strong>ï¼šæµè§ˆå™¨è‡ªåŠ¨å¤„ç†ç„¦ç‚¹ç®¡ç†ã€ESC å…³é—­ã€ç‚¹å‡»å¤–éƒ¨å…³é—­ã€‚</p>
<hr/>
<h2 data-id="heading-11">ğŸŒ æµè§ˆå™¨æ”¯æŒé€ŸæŸ¥ï¼ˆ2025 å¹´ 11 æœˆï¼‰</h2>




































































<table><thead><tr><th>ç‰¹æ€§</th><th>Chrome</th><th>Firefox</th><th>Safari</th><th>Edge</th></tr></thead><tbody><tr><td><code>:has()</code></td><td>âœ… 105+</td><td>âœ… 121+</td><td>âœ… 15.4+</td><td>âœ…</td></tr><tr><td>å®¹å™¨æŸ¥è¯¢</td><td>âœ… 105+</td><td>âœ… 110+</td><td>âœ… 16+</td><td>âœ…</td></tr><tr><td><code>@layer</code></td><td>âœ… 99+</td><td>âœ… 97+</td><td>âœ… 15.4+</td><td>âœ…</td></tr><tr><td><code>scrollbar-gutter</code></td><td>âœ… 94+</td><td>âœ… 97+</td><td>âœ… 15.4+</td><td>âœ…</td></tr><tr><td><code>accent-color</code></td><td>âœ… 93+</td><td>âœ… 92+</td><td>âœ… 15.4+</td><td>âœ…</td></tr><tr><td><code>color-mix()</code></td><td>âœ… 111+</td><td>âœ… 113+</td><td>âœ… 16.4+</td><td>âœ…</td></tr><tr><td><code>@property</code></td><td>âœ… 78+</td><td>âš ï¸ éƒ¨åˆ†</td><td>âœ… 16.4+</td><td>âœ…</td></tr><tr><td>æ»šåŠ¨é©±åŠ¨åŠ¨ç”»</td><td>âœ… 115+</td><td>âœ… 118+</td><td>âœ… 16.4+</td><td>âœ…</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ å¤§éƒ¨åˆ†ç‰¹æ€§å·²è¿›å…¥ <strong>Can I Use çš„â€œå®‰å…¨ä½¿ç”¨â€åŒºé—´</strong>ï¼Œç”Ÿäº§ç¯å¢ƒå¯æ”¾å¿ƒé‡‡ç”¨ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-12">âœ… ç»“è¯­</h2>
<p>2025 å¹´çš„ CSS ä¸å†åªæ˜¯â€œè£…é¥°è¯­è¨€â€ï¼Œè€Œæ˜¯å…·å¤‡<strong>é€»è¾‘èƒ½åŠ›ã€å“åº”èƒ½åŠ›ã€åŠ¨ç”»èƒ½åŠ›å’Œå·¥ç¨‹åŒ–èƒ½åŠ›</strong>çš„ç°ä»£æ ·å¼ç³»ç»Ÿã€‚ä» <code>:has()</code> åˆ°å®¹å™¨æŸ¥è¯¢ï¼Œä» <code>@layer</code> åˆ°æ»šåŠ¨é©±åŠ¨åŠ¨ç”»ï¼Œè¿™äº›æ–°ç‰¹æ€§æ­£åœ¨é‡å¡‘æˆ‘ä»¬æ„å»º Web ç•Œé¢çš„æ–¹å¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MCPä¸Skillsçš„è¾¨æ]]></title>    <link>https://juejin.cn/post/7576272680520499243</link>    <guid>https://juejin.cn/post/7576272680520499243</guid>    <pubDate>2025-11-25T08:42:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576272680520499243" data-draft-id="7576371992615305252" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MCPä¸Skillsçš„è¾¨æ"/> <meta itemprop="keywords" content="åç«¯,AIGC,MCP"/> <meta itemprop="datePublished" content="2025-11-25T08:42:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ´—æ¾¡æ°´åŠ å†°"/> <meta itemprop="url" content="https://juejin.cn/user/191729824978955"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MCPä¸Skillsçš„è¾¨æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/191729824978955/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ´—æ¾¡æ°´åŠ å†°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:42:25.000Z" title="Tue Nov 25 2025 08:42:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">MCPä¸Skillsçš„è¾¨æ</h2>
<p>Anthropicå…¬å¸å…ˆæ¨å‡ºäº†MCPåè®®ï¼Œå¸Œæœ›ç»Ÿä¸€LLMä¸å¤–éƒ¨æœåŠ¡å•†é€šè®¯çš„æ–¹å¼ï¼›åœ¨ä¸€å¹´ååˆæ¨å‡ºclaude skillsåŠŸèƒ½ï¼Œè®©claude codeæ‰§è¡Œæ—¶æ‹¥æœ‰å¤šç§å¤–æŒ‚è½½èƒ½åŠ›ã€‚</p>
<blockquote>
<p>Claude çš„å„ç§åº”ç”¨(desktopã€code cliã€claude.ai ç­‰)ç°åœ¨å¯ä»¥ä½¿ç”¨ â€œSkillsâ€ æ¥æ”¹è¿›å…¶æ‰§è¡Œç‰¹å®šä»»åŠ¡çš„æ–¹å¼ã€‚â€œSkillsâ€æ˜¯åŒ…å«æŒ‡ä»¤ã€è„šæœ¬å’Œèµ„æºçš„æ–‡ä»¶å¤¹ï¼ŒClaude åº”ç”¨å¯ä»¥æ ¹æ®éœ€è¦åŠ è½½è¿™äº›æ–‡ä»¶å¤¹ã€‚</p>
<p>Claude åº”ç”¨åªä¼šåœ¨ Skill ä¸å½“å‰ä»»åŠ¡ç›¸å…³æ—¶æ‰ä¼šä½¿ç”¨è¯¥ Skillã€‚ä½¿ç”¨ Skill åï¼Œå…‹åŠ³å¾·å¯ä»¥æ›´é«˜æ•ˆåœ°å®Œæˆç‰¹å®šä»»åŠ¡ï¼Œä¾‹å¦‚ä½¿ç”¨ Excel æˆ–æ“ä½œ pdfã€‚</p>
<p>åœ¨æ‰§è¡Œä»»åŠ¡æ—¶ï¼ŒClaude åº”ç”¨ä¼šæ‰«æå¯ç”¨ Skill ä»¥æŸ¥æ‰¾ç›¸å…³åŒ¹é…é¡¹ã€‚æ‰¾åˆ°åŒ¹é…é¡¹åï¼Œå®ƒåªä¼šåŠ è½½æ‰€éœ€çš„æœ€å°‘ä¿¡æ¯å’Œæ–‡ä»¶â€”â€”æ—¢ä¿è¯äº† Claude çš„è¿è¡Œé€Ÿåº¦ï¼Œåˆèƒ½è®©ä»–å¿«é€Ÿè·å–ä¸“ä¸šçŸ¥è¯†ã€‚</p>
</blockquote>
<p>mcpä¸skillsçš„ä½œç”¨éƒ½æ˜¯æ‰©å±•å¤–éƒ¨èƒ½åŠ›ï¼ŒåŠŸèƒ½ç‰¹ç‚¹åˆè¿‘ä¼¼ï¼Œè«éAnthropicå†…éƒ¨ä¹Ÿåœ¨èµ›é©¬ï¼Ÿ(/ç¬‘å“­)</p>
<h3 data-id="heading-1">MCP</h3>
<p>MCPå·²ç»æ˜¯å¾ˆå¹¿ä¸ºäººçŸ¥çš„æ¦‚å¿µäº†ï¼Œé€šè¿‡æ ‡å‡†çš„é€šè®¯åè®®è§„å®šAgentä¸å¤–éƒ¨æœåŠ¡çš„é€šè®¯ç»“æ„åï¼ŒAgentå¯ä»¥æ„é€ å‚æ•°è¯·æ±‚æœåŠ¡ç«¯ï¼Œå¾—åˆ°ç»“æœå¹¶ç»“åˆåˆ†æã€‚è¿‡ç¨‹ï¼š</p>
<ul>
<li>æ¶æ„ï¼š Agent = LLM + MCPå®¢æˆ·ç«¯ + çŠ¶æ€ç®¡ç†ã€‚</li>
<li>è¿œç«¯æœåŠ¡éœ€è¦æ”¯æŒMCPæœåŠ¡è°ƒç”¨ï¼Œå¯ä»¥æ‰‹åŠ¨æ”¯æŒæˆ–è€…åœ¨ç½‘å…³å±‚é¢æ”¯æŒã€‚</li>
<li>Agentåœ¨åˆå§‹åŒ–MCPå®¢æˆ·ç«¯æ—¶ï¼Œé€šè¿‡è°ƒç”¨æœåŠ¡ç«¯çš„tool_listæ¥å£å¾—åˆ°æœåŠ¡åˆ—è¡¨ä¿¡æ¯ï¼Œæ¯”å¦‚æœåŠ¡åç§°ã€ä½œç”¨ã€è¯·æ±‚å‚æ•°ç­‰</li>
<li>Agentæ”¶åˆ°å®¢æˆ·çš„è°ƒç”¨åï¼Œåœ¨è¯·æ±‚å‚æ•°ä¸­è®¾ç½®toolsåˆ—è¡¨ï¼Œç”±LLMçš„å“åº”å†³å®šæ˜¯å¦è°ƒç”¨tool</li>
<li>å¦‚æœLLMåˆ¤æ–­éœ€è¦è°ƒç”¨toolsï¼Œåˆ™Agenté€šè¿‡éå†å“åº”ç»“æ„çš„tools_callå­—æ®µï¼Œè§£æè°ƒç”¨å‚æ•°ä¸æœåŠ¡åç§°ï¼Œé€šè¿‡mcpå®¢æˆ·ç«¯è°ƒç”¨mcpæœåŠ¡ç«¯ã€‚</li>
<li>Agentæ‹¿åˆ°mcpæœåŠ¡ç«¯çš„ç»“æœä¹‹åï¼Œå¡«å……åˆ°ä¸LLMå¯¹è¯çš„ä¸Šä¸‹æ–‡åˆ—è¡¨ä¸­ï¼Œæœ€ç»ˆå†å‘èµ·ä¸€æ¬¡ç›¸å½“äºæ€»ç»“çš„LLMè°ƒç”¨ï¼ŒåŒ…å«äº†åŸå§‹çš„é—®é¢˜ä¸MCPå·¥å…·æ‰§è¡Œç»“æœï¼Œè°ƒç”¨LLMåçš„å“åº”ä½œä¸ºæœ€ç»ˆçš„æ‰§è¡Œç»“æœè¿”å›ç»™ç”¨æˆ·</li>
</ul>
<p>ä»¥ä¸Šå°±æ˜¯MCPè°ƒç”¨çš„è¿‡ç¨‹ï¼Œå®é™…é€šè®¯å¯ä»¥é€šè¿‡ç½‘ç»œï¼ˆstreamable httpï¼‰æˆ–è€…æœ¬åœ°è¿›ç¨‹é—´é€šè®¯stdioï¼Œè®©Agentå…·æœ‰å¤–éƒ¨å·¥å…·æ‰§è¡Œçš„èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-2">Skills</h3>
<p>claude skillsä¸€å¼€å§‹æ˜¯åœ¨claude codeä¸­ä½¿ç”¨ï¼Œå¯ä»¥åœ¨å¯¹è¯æ¡†ä¸­é€šè¿‡"."çš„æ–¹å¼é€‰æ‹©skillsæ‰§è¡Œï¼Œå€Ÿæ­¤å®Œæˆcontext engineï¼ˆä¸Šä¸‹æ–‡å·¥ç¨‹ï¼Œæ˜¯ä¸€ç§ä¼˜åŒ–æ™®é€šPromptå·¥ç¨‹çš„æ‰‹æ®µï¼Œå¼•å…¥æ›´å¤šä¸“ä¸šçŸ¥è¯†ä¸ä¸Šä¸‹æ–‡ï¼Œç”¨æ¥æå‡LLMè¾“å‡ºç»“æœçš„è´¨é‡ï¼Œå®è·µï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcoleam00%2Fcontext-engineering-intro" target="_blank" title="https://github.com/coleam00/context-engineering-intro" ref="nofollow noopener noreferrer">github.com/coleam00/coâ€¦</a>ï¼‰ ã€‚</p>
<p>skillsæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­å­˜æ”¾äº†markdownæ ¼å¼çš„Promptã€ç›¸å…³èƒŒæ™¯èµ„æ–™æ¯”å¦‚PDFã€Excelã€å¯æ‰§è¡Œçš„ä»£ç ä¸æ¨¡æ¿ã€ç”šè‡³å¯ä»¥æ”¾åº”ç”¨ç¨‹åºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f8aeb8f1ed34504bb2f76ba3add9624~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rSX5r6h5rC05Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764664975&amp;x-signature=mgY9x1659O6qNwYoZNWsEfB2O9c%3D" alt="image.png" loading="lazy"/></p>
<p>é‚£ä¹ˆclaude codeæ˜¯å¦‚ä½•ä½¿ç”¨è¿™äº›skillsçš„å‘¢ï¼ŸClaude å®˜æ–¹å¯¹ SKILL çš„è§„èŒƒæè¿°æ¯”è¾ƒæ¸…æ¥šï¼Œä½†æ˜¯å¯¹äº LLM æ€ä¹ˆä½¿ç”¨ SKILLs å¹¶æ²¡æœ‰ä¸€ä¸ªè¯¦ç»†çš„æè¿°ã€‚ç½‘ç»œä¸Šçš„æ–‡ç« ä¹Ÿéƒ½åªæ˜¯åœ¨ä»‹ç»Skillså¦‚ä½•ä½¿ç”¨è€Œå·²ï¼Œå›½å†…é¸Ÿçªå¤§ä½¬æ‹†è§£äº†ç›¸å…³åŠŸèƒ½ï¼Œå¾—åˆ°ä¸€ç§å®è·µæ–¹å¼ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsmallnest%2Fgoskills" target="_blank" title="https://github.com/smallnest/goskills" ref="nofollow noopener noreferrer">github.com/smallnest/gâ€¦</a>ã€‚</p>
<ul>
<li>skillsè§£æï¼Œé€šè¿‡è§„èŒƒskillsä¸­çš„mdæ–‡ä»¶æˆ–è€…ç›´æ¥è°ƒç”¨LLMè§£æï¼Œå¾—åˆ°skillsçš„ä¿¡æ¯â€”â€”åç§°ã€ä½œç”¨ç­‰ï¼Œå°†æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹æ„é€ ä¸ºå†…å­˜ä¸­çš„skillså¯¹è±¡</li>
<li>ç”¨æˆ·åœ¨å¯¹è¯æ¡†è¾“å…¥é—®é¢˜å¹¶æŒ‡å®šskillsæ—¶ï¼Œä¸MCPè¿‡ç¨‹ç±»ä¼¼ï¼Œç¨‹åºä¼šå°†skillså¯¹è±¡è½¬åŒ–ä¸ºtoolï¼Œåˆå§‹è°ƒç”¨ä¸€æ¬¡è®©LLMå†³å®šæ˜¯å¦è°ƒç”¨toolï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯skillsé€‰æ‹©é˜¶æ®µ</li>
<li>å¦‚æœLLMå†³å®šè°ƒç”¨toolï¼Œä¼šè¿”å›tools_callå­—æ®µï¼Œç¨‹åºè¿˜æ˜¯è¿­ä»£è¿™ä¸ªå­—æ®µæ¥é€‰æ‹©å·¥å…·æ‰§è¡Œã€‚æ¯”å¦‚ï¼Œé€‰æ‹©çš„skillåŒ…å«pythonä»£ç ï¼Œç¨‹åºéœ€è¦é€šè¿‡cmdå‘½ä»¤è°ƒç”¨å½“å‰ç³»ç»Ÿç¯å¢ƒçš„pythonæ‰§è¡Œå¹¶å¾—åˆ°ç»“æœï¼Œä¹Ÿå°±æ„å‘³ç€è¿™ä¸ªskillsçš„æ˜ å°„éœ€è¦æå‰å†™å…¥ä»£ç ä¸­ï¼Œä¸è¿‡å¦‚æœæ˜¯ç¼–ç¨‹èƒ½åŠ›è¾ƒå¼ºçš„LLMï¼Œå®Œå…¨å¯ä»¥åšåˆ°è‡ªå·±åˆ¤æ–­ä»£ç é£é™©ä¸å®æ—¶ç”Ÿæˆshellæ¥æ‰§è¡Œã€‚</li>
<li>skillsæ‰§è¡Œå®Œæ¯•åï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿæ˜¯åŠ å…¥å¯¹è¯ä¸Šä¸‹æ–‡ä¸­ï¼Œä¼ é€’ç»™LLMå¾—åˆ°æœ€ç»ˆçš„ç»“æœå¹¶è¿”å›ç»™ç”¨æˆ·ã€‚</li>
</ul>
<p>ä¸Šè¿°è¿‡ç¨‹å®Œå…¨éƒ½æ˜¯æœ¬åœ°è°ƒç”¨ï¼Œä¾èµ–äºæœ¬åœ°ç³»ç»Ÿç¯å¢ƒâ€”â€”è·¨æœºå™¨è°ƒåº¦å°±ä¼šæ¯”è¾ƒå¤æ‚ã€‚æ•´ä½“è¿‡ç¨‹ä¸MCPç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡toolsè®©LLMé€‰æ‹©å·¥å…·ã€é€šè¿‡tools_callæ§åˆ¶æ‰§è¡Œå·¥å…·ï¼ŒåŒºåˆ«æ˜¯MCPè§„èŒƒäº†å¤–éƒ¨è°ƒç”¨è€Œskillsæ›´å¼ºè°ƒç¨‹åºå†…éƒ¨çš„æ‰©å±•èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-3">é‡ç‚¹ä»‹ç»goskills</h4>
<p>æ›´ç›´è§‚çš„skillçš„ä½¿ç”¨ï¼Œå¯ä»¥å‚è€ƒgoå®ç°LLMä½¿ç”¨skillsçš„é¡¹ç›®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsmallnest%2Fgoskills" target="_blank" title="https://github.com/smallnest/goskills" ref="nofollow noopener noreferrer">github.com/smallnest/gâ€¦</a>ã€‚</p>
<p>è¿™ä¸ªé¡¹ç›®æä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥é€šè¿‡ä¼ é€’skillsä¸æé—®å†…å®¹ï¼Œè‡ªåŠ¨è§£æskillsä¸è‡ªåŠ¨è°ƒç”¨å¾—åˆ°ç»“æœã€‚ä½¿ç”¨èµ·æ¥å¾ˆç®€å•ï¼Œç±»ä¼¼äº:./goskills run --auto-approve --model deepseek-v3 --api-base <a href="https://link.juejin.cn?target=https%3A%2F%2Fqianfan.baidubce.com%2Fv2" target="_blank" title="https://qianfan.baidubce.com/v2" ref="nofollow noopener noreferrer">qianfan.baidubce.com/v2</a> "ä½¿ç”¨markitdown å·¥å…·è§£æç½‘é¡µ <a href="https://link.juejin.cn?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E5%25AD%2594%25E5%25AD%2590%2F1584%2522%25E2%2580%258B" target="_blank" title="https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584%22%E2%80%8B" ref="nofollow noopener noreferrer">baike.baidu.com/item/%E5%ADâ€¦</a>.</p>
<p>å…·ä½“çš„å®è·µæ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FW1DjPNWjkV2JROhyFkPHpQ" target="_blank" title="https://mp.weixin.qq.com/s/W1DjPNWjkV2JROhyFkPHpQ" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/W1DjPNWjkâ€¦</a></p>
<p>å·¥å…·æä¾›äº†skillå‘ç°ä¸ç®¡ç†ã€skillæ‰§è¡Œã€ä¼šè¯ç®¡ç†ç­‰åŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡brewå®‰è£…ï¼Œåˆ°é€šç”¨çš„skillsä»“åº“ä¸­ä¸‹è½½æƒ³è¦çš„skillsï¼Œå†é…ç½®å¥½LLMçš„api_keyä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-perl" lang="perl">goskills run --auto-approve --model deepseek-v3 --api-base https:<span class="hljs-regexp">//</span>qianfan.baidubce.com/v2 --skills-dir=~<span class="hljs-regexp">/.claude/s</span>kills <span class="hljs-string">"ä½¿ç”¨markitdown å·¥å…·è§£æç½‘é¡µ https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584"</span>
</code></pre>
<p>Go:</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
 <span class="hljs-string">"fmt"</span>
 <span class="hljs-string">"os"</span>
 <span class="hljs-string">"os/exec"</span>
 <span class="hljs-string">"path/filepath"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
 prompt := <span class="hljs-string">"ä½¿ç”¨markitdown å·¥å…·è§£æç½‘é¡µ https://baike.baidu.com/item/%E5%AD%94%E5%AD%90/1584"</span>

 <span class="hljs-comment">// è·å–ç”¨æˆ·ä¸»ç›®å½•</span>
 homeDir, err := os.UserHomeDir()
 <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
  fmt.Printf(<span class="hljs-string">"æ— æ³•è·å–ä¸»ç›®å½•: %v\n"</span>, err)
  <span class="hljs-keyword">return</span>
 }
 <span class="hljs-comment">// æ„å»ºæŠ€èƒ½ç›®å½•çš„å®Œæ•´è·¯å¾„</span>
 skillsDirPath := filepath.Join(homeDir, <span class="hljs-string">".claude"</span>, <span class="hljs-string">"skills"</span>)
 skillsDirArg := <span class="hljs-string">"--skills-dir="</span> + skillsDirPath

 cmd := exec.Command(<span class="hljs-string">"goskills"</span>, <span class="hljs-string">"run"</span>,
  <span class="hljs-string">"--auto-approve"</span>,
  <span class="hljs-string">"--model"</span>, <span class="hljs-string">"deepseek-v3"</span>,
  <span class="hljs-string">"--api-base"</span>, <span class="hljs-string">"https://qianfan.baidubce.com/v2"</span>,
  skillsDirArg, <span class="hljs-comment">// ä½¿ç”¨æ„å»ºçš„è·¯å¾„å‚æ•°</span>
  prompt)

 <span class="hljs-comment">// CombinedOutput è¿è¡Œå‘½ä»¤å¹¶è¿”å›å…¶ç»„åˆçš„æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯</span>
 output, err := cmd.CombinedOutput()
 <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
  fmt.Printf(<span class="hljs-string">"æ‰§è¡Œå‘½ä»¤æ—¶å‡ºé”™: %v\n"</span>, err)
  fmt.Printf(<span class="hljs-string">"è¾“å‡º:\n%s\n"</span>, <span class="hljs-type">string</span>(output))
  <span class="hljs-keyword">return</span>
 }

 fmt.Printf(<span class="hljs-string">"å‘½ä»¤è¾“å‡º:\n%s\n"</span>, <span class="hljs-type">string</span>(output))
}
</code></pre>
<h3 data-id="heading-4">è¾¨æ</h3>
<p>åŒæ ·æ˜¯ä¸ºäº†æä¾›å¤–éƒ¨æ‰©å±•çš„èƒ½åŠ›ï¼Œé™¤äº†MCPä¸Skillsï¼Œä¼¼ä¹ä¹Ÿå¯ä»¥é€šè¿‡APIç½‘å…³æ’ä»¶åšåˆ°è¿™äº›åŠŸèƒ½ï¼Œåˆ°åº•æœ‰ä½•åŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆæœ‰äº†MCPè¿˜è¦å‡ºç°Skillsï¼Ÿ</p>
<p>æ®Šé€”åŒå½’ï¼Œå‡è®¾è¦æä¾›å¤–éƒ¨æœç´¢èƒ½åŠ›ï¼Œå®ç°æ€è·¯ï¼š</p>
<ul>
<li>æ€è·¯1ï¼šå®šä¹‰ä¸€ä¸ªæœç´¢åŠŸèƒ½çš„MCPï¼Œè®©Agentè°ƒç”¨MCPæœåŠ¡å¾—åˆ°ç»“æœï¼›</li>
<li>æ€è·¯2ï¼šä¹Ÿå¯ä»¥åŸºäºæœç´¢å¼•æ“å®ç°æœç´¢åŠŸèƒ½ï¼ŒæŒ‚è½½åœ¨APIç½‘å…³ä¸­ï¼Œè¯·æ±‚è¾¾åˆ°æ—¶æ£€æŸ¥æ„å›¾ï¼Œè°ƒç”¨æœç´¢æ¨¡å—ï¼Œå¾—åˆ°æœç´¢ç»“æ„å¹¶é™„åŠ åˆ°æç¤ºè¯ä¸­ï¼›</li>
<li>æ€è·¯3ï¼šå®šä¹‰ä¸€ä¸ªæœç´¢åŠŸèƒ½çš„skillsâ€”â€”æ¯”å¦‚pythonä»£ç ï¼Œç¨‹åºé€‰æ‹©skillså¹¶è°ƒç”¨æœ¬åœ°æ‰§è¡Œï¼Œå¾—åˆ°ç»“æœ</li>
</ul>
<p>æ ¸å¿ƒåœ¨äºé€‰æ‹©ï¼Œå°±åƒé€‰æ‹©æŠ€æœ¯æ ˆä¸€æ ·ï¼ŒæŸäº›ç‰¹ç‚¹å°±å†³å®šäº†æ•´ä½“çš„åŸºç¡€è®¾æ–½ã€‚</p>
<p>ä¸ç®¡mcpä¸skillsæ˜¯èµ›é©¬çš„ç»“æœï¼Œè¿˜æ˜¯å¤§æ–¹å‘æ¼”è¿›ä¸‹çš„ç»†èŠ‚å¡«å……ï¼Œåœ¨åº”ç”¨å±‚é¢ä¸Šï¼Œskillså±äºå†…èšçš„å­˜åœ¨â€”â€”æ•´ä½“æ¯”è¾ƒç®€å•ï¼›è€ŒMCPæ˜¯å±äºå¤–éƒ¨çš„å­˜åœ¨â€”â€”æ•´ä½“æ¯”è¾ƒè§„èŒƒä¸”å¤æ‚ã€‚è¿™å¯ä»¥ç±»æ¯”äºé«˜å°„æœºæªä¸é«˜å°„ç‚®é¢å‘çš„ä¸åŒçš„åœºæ™¯ï¼Œé«˜å°„æœºæªçš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå…¶è½»ä¾¿æ€§ã€æœºåŠ¨æ€§å’Œæˆæœ¬æ•ˆç›Šï¼Œè€Œé«˜å°„ç‚®åˆ™æ›´ä¸“æ³¨äºæ„å»ºä¸­ä½ç©ºé˜²ç©ºå±éšœã€‚skillså¼ºè°ƒè½»é‡å¿«æ·ï¼Œä¸æœ¬åœ°è€¦åˆï¼›MCPå¼ºè°ƒè§£è€¦ï¼Œæ›´åŠ å…¨é¢ã€‚</p>
<p>æ€»è€Œè¨€ä¹‹ï¼Œ</p>
<ul>
<li>å¦‚æœåœ¨æ„å»ºä¸€ä¸ªå¤–éƒ¨æ‰©å±•æœåŠ¡ï¼Œå¯ä»¥å…ˆå†™æˆskillsï¼Œé€æ­¥éªŒè¯éœ€æ±‚ï¼Œç­‰åˆ°æ¢ç´¢å®Œæ¯•ä¸”æµé‡å‹åŠ›å‡é«˜æ—¶ï¼Œå†æ›´æ¢ä¸ºæ ‡å‡†MCPæœåŠ¡ã€‚</li>
<li>å¦‚æœå¤–éƒ¨åŠŸèƒ½å±äºä¸´æ—¶ä¸”é€šç”¨æ€§ä¸é«˜ï¼Œé¦–é€‰äº†skillsã€‚skillsé€‚åˆå•ä½“æ¶æ„ã€‚</li>
<li>skillsçš„ç”Ÿæ€ç›®å‰ä¸å¦‚mcpç”Ÿæ€ï¼Œé€‰æ‹©çš„æ—¶å€™éœ€è¦è‡ªå·±é€‚é…ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ECMAScript 2025 æ­£å¼å‘å¸ƒï¼š10 ä¸ªè®©ä½ çœ¼å‰ä¸€äº®çš„ JavaScript æ–°ç‰¹æ€§ï¼]]></title>    <link>https://juejin.cn/post/7576264484689641512</link>    <guid>https://juejin.cn/post/7576264484689641512</guid>    <pubDate>2025-11-25T08:38:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576264484689641512" data-draft-id="7576264484689608744" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ECMAScript 2025 æ­£å¼å‘å¸ƒï¼š10 ä¸ªè®©ä½ çœ¼å‰ä¸€äº®çš„ JavaScript æ–°ç‰¹æ€§ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-25T08:38:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆå“ˆOå“ˆå“ˆå“ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3813562999914157"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ECMAScript 2025 æ­£å¼å‘å¸ƒï¼š10 ä¸ªè®©ä½ çœ¼å‰ä¸€äº®çš„ JavaScript æ–°ç‰¹æ€§ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3813562999914157/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆå“ˆOå“ˆå“ˆå“ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:38:05.000Z" title="Tue Nov 25 2025 08:38:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><hr/>
<h2 data-id="heading-0">ğŸš€ ECMAScript 2025 æ­£å¼å‘å¸ƒï¼š10 ä¸ªè®©ä½ çœ¼å‰ä¸€äº®çš„ JavaScript æ–°ç‰¹æ€§ï¼</h2>
<p>2025 å¹´ 6 æœˆ 26 æ—¥ï¼ŒECMA å›½é™…æ­£å¼æ‰¹å‡† <strong>ECMAScript 2025ï¼ˆç¬¬ 16 ç‰ˆï¼‰</strong> è§„èŒƒã€‚ä½œä¸º JavaScript æ¼”è¿›çš„é‡è¦é‡Œç¨‹ç¢‘ï¼ŒES2025 å¼•å…¥äº†å¤šé¡¹å®ç”¨ä¸”å¼ºå¤§çš„æ–°ç‰¹æ€§ï¼Œæ¶µç›–å¼‚æ­¥å¤„ç†ã€é›†åˆæ“ä½œã€æ¨¡å—åŠ è½½ã€æ­£åˆ™è¡¨è¾¾å¼ç­‰å¤šä¸ªæ ¸å¿ƒé¢†åŸŸã€‚</p>
<p>æœ¬æ–‡å°†å¸¦ä½ å¿«é€ŸæŒæ¡ <strong>ES2025 æœ€å€¼å¾—å…³æ³¨çš„ 10 ä¸ªæ–° API å’Œè¯­æ³•ç‰¹æ€§</strong>ï¼ŒåŠ©ä½ å†™å‡ºæ›´ç®€æ´ã€é«˜æ•ˆã€å¯ç»´æŠ¤çš„ç°ä»£ JavaScript ä»£ç ï¼</p>
<hr/>
<h3 data-id="heading-1">1ï¸âƒ£ <code>Promise.try()</code>ï¼šç»Ÿä¸€åŒæ­¥ä¸å¼‚æ­¥é”™è¯¯å¤„ç†</h3>
<h4 data-id="heading-2">é—®é¢˜èƒŒæ™¯</h4>
<p>ä»¥å¾€å°è£…ä¸€ä¸ªå¯èƒ½æŠ›é”™çš„åŒæ­¥å‡½æ•°æ—¶ï¼Œå¸¸éœ€ç”¨ <code>Promise.resolve().then(fn)</code>ï¼Œä½†è¿™ä¼šå¼•å…¥ä¸å¿…è¦çš„å¾®ä»»åŠ¡å»¶è¿Ÿï¼Œä¸”å¼‚å¸¸æ•è·é€»è¾‘å‰²è£‚ã€‚</p>
<h4 data-id="heading-3">æ–°æ–¹æ¡ˆ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">mightThrow</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &gt; <span class="hljs-number">0.5</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Oops"</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-string">"Success"</span>;
}

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">try</span>(mightThrow)
  .<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>)
  .<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>);
</code></pre>
<h4 data-id="heading-4">ä¼˜åŠ¿</h4>
<ul>
<li>åŒæ­¥é”™è¯¯è‡ªåŠ¨è½¬ä¸º Promise rejectï¼›</li>
<li>é¿å…å¾®ä»»åŠ¡å»¶è¿Ÿï¼Œæ‰§è¡Œæ›´åŠæ—¶ï¼›</li>
<li>ç»Ÿä¸€ <code>.catch</code> å¤„ç†æ‰€æœ‰å¼‚å¸¸ã€‚</li>
</ul>
<blockquote>
<p>âœ… é€‚ç”¨äºå°è£…ç¬¬ä¸‰æ–¹åŒæ­¥ APIï¼Œæå‡é”™è¯¯è°ƒè¯•æ•ˆç‡ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">2ï¸âƒ£ Set é›†åˆè¿ç®—æ–¹æ³•ï¼šå‘Šåˆ«æ‰‹å†™äº¤å¹¶å·®ï¼</h3>
<p>ES2025 ä¸º <code>Set</code> æ–°å¢ <strong>7 ä¸ªåŸç”Ÿæ–¹æ³•</strong>ï¼Œæ”¯æŒæ ‡å‡†é›†åˆè®ºæ“ä½œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> A = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);
<span class="hljs-keyword">const</span> B = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(A.<span class="hljs-title function_">union</span>(B));              <span class="hljs-comment">// Set {1, 2, 3, 4, 5}</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(A.<span class="hljs-title function_">intersection</span>(B));       <span class="hljs-comment">// Set {3}</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(A.<span class="hljs-title function_">difference</span>(B));         <span class="hljs-comment">// Set {1, 2}</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(A.<span class="hljs-title function_">symmetricDifference</span>(B)); <span class="hljs-comment">// Set {1, 2, 4, 5}</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(A.<span class="hljs-title function_">isSubsetOf</span>(B));         <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(A.<span class="hljs-title function_">isSupersetOf</span>(B));       <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(A.<span class="hljs-title function_">isDisjointFrom</span>(B));     <span class="hljs-comment">// false</span>
</code></pre>
<blockquote>
<p>ğŸ’¡ è¿™äº›æ–¹æ³•è®© JS çš„é›†åˆæ“ä½œç»ˆäºåª²ç¾ Pythonï¼é€‚ç”¨äºæƒé™ç®¡ç†ã€æ ‡ç­¾ç­›é€‰ã€æ•°æ®å»é‡ç­‰åœºæ™¯ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">3ï¸âƒ£ åŸç”Ÿ JSON æ¨¡å—å¯¼å…¥ï¼ˆImport Attributesï¼‰</h3>
<p>æ— éœ€ <code>fetch</code>ï¼Œç›´æ¥æŠŠ <code>.json</code> æ–‡ä»¶å½“ä½œæ¨¡å—å¯¼å…¥ï¼</p>
<h4 data-id="heading-7">é™æ€å¯¼å…¥</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">import</span> config from <span class="hljs-string">'./config.json'</span> with { type: <span class="hljs-string">'json'</span> };
console.<span class="hljs-built_in">log</span>(config.apiKey);
</code></pre>
<h4 data-id="heading-8">åŠ¨æ€å¯¼å…¥</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">const</span> { <span class="hljs-keyword">default</span>: data } = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./data.json'</span>, {
  <span class="hljs-keyword">with</span>: { type: <span class="hljs-string">'json'</span> }
});
</code></pre>
<blockquote>
<p>ğŸ”’ æµè§ˆå™¨é€šè¿‡ <code>with { type: 'json' }</code> æ˜¾å¼å£°æ˜èµ„æºç±»å‹ï¼Œæå‡å®‰å…¨æ€§ä¸å¯è¯»æ€§ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-9">4ï¸âƒ£ åŒæ­¥è¿­ä»£å™¨é“¾å¼æ“ä½œï¼ˆIterator Helpersï¼‰</h3>
<p>ç°åœ¨æ‰€æœ‰å¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚æ•°ç»„ã€Setã€Mapã€å­—ç¬¦ä¸²ï¼‰çš„è¿­ä»£å™¨éƒ½æ”¯æŒé“¾å¼æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">arr</span> = [<span class="hljs-string">'a'</span>, <span class="hljs-string">''</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">''</span>, <span class="hljs-string">'c'</span>, <span class="hljs-string">'d'</span>]<span class="hljs-comment">;</span>
const <span class="hljs-attr">result</span> = arr.values()
  .filter(<span class="hljs-attr">x</span> =&gt; x)
  .map(<span class="hljs-attr">x</span> =&gt; x.toUpperCase())
  .toArray()<span class="hljs-comment">;</span>

console.log(result)<span class="hljs-comment">; // ['A', 'B', 'C', 'D']</span>
</code></pre>
<h4 data-id="heading-10">æ”¯æŒçš„æ–¹æ³•åŒ…æ‹¬ï¼š</h4>
<ul>
<li><code>.filter()</code>, <code>.map()</code>, <code>.flatMap()</code></li>
<li><code>.some()</code>, <code>.every()</code>, <code>.find()</code></li>
<li><code>.reduce()</code>, <code>.forEach()</code></li>
<li><code>.drop(n)</code>, <code>.take(n)</code>, <code>.toArray()</code></li>
</ul>
<blockquote>
<p>âš¡ æƒ°æ€§æ±‚å€¼ + å†…å­˜å‹å¥½ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†å¤§å‹æ•°æ®æµæˆ–ç”Ÿæˆå™¨ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-11">5ï¸âƒ£ <code>RegExp.escape()</code>ï¼šå®‰å…¨è½¬ä¹‰æ­£åˆ™å­—ç¬¦ä¸²</h3>
<p>åŠ¨æ€æ„å»ºæ­£åˆ™æ—¶ï¼Œå†ä¹Ÿä¸ç”¨æ‰‹åŠ¨è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">raw</span> = <span class="hljs-string">"(foo)*+?"</span><span class="hljs-comment">;</span>
const <span class="hljs-attr">escaped</span> = RegExp.escape(raw)<span class="hljs-comment">;</span>
console.log(escaped)<span class="hljs-comment">; // "\(foo\)\*\+\?"</span>
</code></pre>
<blockquote>
<p>ğŸ›¡ï¸ æœ‰æ•ˆé˜²æ­¢æ­£åˆ™æ³¨å…¥æ¼æ´ï¼Œæ›¿ä»£è‡ªå®šä¹‰ <code>escapeRegExp</code> å‡½æ•°ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-12">6ï¸âƒ£ æ­£åˆ™è¡¨è¾¾å¼å†…è”æ ‡å¿—ï¼ˆå±€éƒ¨ä¿®é¥°ç¬¦ï¼‰</h3>
<p>å¯åœ¨æ­£åˆ™å†…éƒ¨å±€éƒ¨å¯ç”¨/ç¦ç”¨æ ‡å¿—ï¼Œå¦‚ <code>i</code>ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> re = <span class="hljs-regexp">/^x(?i:HELLO)x$/</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re.<span class="hljs-title function_">test</span>(<span class="hljs-string">'xHELLOx'</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re.<span class="hljs-title function_">test</span>(<span class="hljs-string">'xhellox'</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re.<span class="hljs-title function_">test</span>(<span class="hljs-string">'XhelloX'</span>)); <span class="hljs-comment">// false â† å¤–å›´ä»åŒºåˆ†å¤§å°å†™</span>
</code></pre>
<blockquote>
<p>ğŸ¯ ç²¾å‡†æ§åˆ¶åŒ¹é…è¡Œä¸ºï¼Œé¿å…å…¨å±€æ ‡å¿—æ±¡æŸ“ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-13">7ï¸âƒ£ é‡å¤å‘½åæ•è·ç»„</h3>
<p>ä¸åŒåˆ†æ”¯å¯å¤ç”¨ç›¸åŒæ•è·ç»„åï¼Œç®€åŒ–æ—¥æœŸã€ID ç­‰å¤šæ ¼å¼è§£æï¼š</p>
<pre><code class="hljs language-sql" lang="sql">const DATE_REGEX <span class="hljs-operator">=</span> <span class="hljs-operator">/</span><span class="hljs-operator">^</span>(?<span class="hljs-operator">&lt;</span><span class="hljs-keyword">year</span><span class="hljs-operator">&gt;</span>\d{<span class="hljs-number">4</span>})<span class="hljs-operator">-</span>(?<span class="hljs-operator">&lt;</span><span class="hljs-keyword">month</span><span class="hljs-operator">&gt;</span>\d{<span class="hljs-number">2</span>})<span class="hljs-operator">-</span>(?<span class="hljs-operator">&lt;</span><span class="hljs-keyword">day</span><span class="hljs-operator">&gt;</span>\d{<span class="hljs-number">2</span>})
  <span class="hljs-operator">|</span>(?<span class="hljs-operator">&lt;</span><span class="hljs-keyword">month</span><span class="hljs-operator">&gt;</span>\d{<span class="hljs-number">2</span>})<span class="hljs-operator">/</span>(?<span class="hljs-operator">&lt;</span><span class="hljs-keyword">day</span><span class="hljs-operator">&gt;</span>\d{<span class="hljs-number">2</span>})<span class="hljs-operator">/</span>(?<span class="hljs-operator">&lt;</span><span class="hljs-keyword">year</span><span class="hljs-operator">&gt;</span>\d{<span class="hljs-number">4</span>})$<span class="hljs-operator">/</span>;

const <span class="hljs-keyword">match</span> <span class="hljs-operator">=</span> <span class="hljs-string">'2025-11-25'</span>.<span class="hljs-keyword">match</span>(DATE_REGEX);
const { <span class="hljs-keyword">year</span>, <span class="hljs-keyword">month</span>, <span class="hljs-keyword">day</span> } <span class="hljs-operator">=</span> match.groups; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> ç›´æ¥è§£æ„ï¼Œæ— éœ€åˆ¤æ–­åˆ†æ”¯
</code></pre>
<blockquote>
<p>ğŸ§© æå¤§ç®€åŒ–å¤šæ ¼å¼æ–‡æœ¬è§£æé€»è¾‘ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-14">8ï¸âƒ£ å»¶è¿Ÿæ¨¡å—åŠ è½½ï¼ˆ<code>defer import</code>ï¼‰</h3>
<p>é¢„åŠ è½½ä½†å»¶è¿Ÿæ‰§è¡Œï¼Œä¼˜åŒ–é¦–å±æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">defer <span class="hljs-keyword">import</span> { heavyModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'./heavy.js'</span>;

button.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">await</span> heavyModule.<span class="hljs-title function_">run</span>(); <span class="hljs-comment">// æ­¤æ—¶æ¨¡å—å·²åŠ è½½å®Œæ¯•ï¼Œä»…æ‰§è¡Œä»£ç </span>
};
</code></pre>
<h4 data-id="heading-15">vs åŠ¨æ€ <code>import()</code></h4>

























<table><thead><tr><th>ç‰¹æ€§</th><th><code>defer import</code></th><th><code>import()</code></th></tr></thead><tbody><tr><td>åŠ è½½æ—¶æœº</td><td>å£°æ˜æ—¶å¹¶è¡ŒåŠ è½½</td><td>è°ƒç”¨æ—¶åŠ è½½</td></tr><tr><td>æ‰§è¡Œæ—¶æœº</td><td>é¦–æ¬¡è®¿é—®å¯¼å‡ºæ—¶</td><td>åŠ è½½åç«‹å³æ‰§è¡Œ</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>é«˜é¢‘äº¤äº’æ¨¡å—ï¼ˆå¼¹çª—ã€ç¼–è¾‘å™¨ï¼‰</td><td>è·¯ç”±çº§æ‡’åŠ è½½</td></tr></tbody></table>
<blockquote>
<p>ğŸš€ å®ç°â€œé¢„åŠ è½½ + æŒ‰éœ€æ‰§è¡Œâ€çš„å®Œç¾å¹³è¡¡ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-16">9ï¸âƒ£ BigInt å¢å¼ºæ”¯æŒ</h3>
<p>è™½ç„¶ BigInt åœ¨ ES2020 å·²å¼•å…¥ï¼Œä½† ES2025 è¿›ä¸€æ­¥ä¼˜åŒ–å…¶ä¸æ ‡å‡†åº“çš„å…¼å®¹æ€§ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>æ”¯æŒ <code>BigInt</code> ä½œä¸º <code>Array.prototype.sort</code> çš„æ¯”è¾ƒå€¼ï¼›</li>
<li>æ›´å®Œå–„çš„ <code>JSON.stringify</code> è¡Œä¸ºï¼ˆéœ€é…åˆ reviver ä½¿ç”¨ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-17">ğŸ”Ÿ å…¶ä»–æ”¹è¿›</h3>
<ul>
<li><strong><code>Symbol.prototype.description</code></strong> å±æ€§æ›´ç¨³å®šï¼›</li>
<li>æ›´ä¸¥æ ¼çš„æ¨¡å—è§£æé”™è¯¯æç¤ºï¼›</li>
<li>æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘é—­åŒ…å†…å­˜å ç”¨ã€æå‡ Promise é“¾æ‰§è¡Œæ•ˆç‡ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-18">ğŸŒ æµè§ˆå™¨æ”¯æŒæƒ…å†µï¼ˆæˆªè‡³ 2025 å¹´ 11 æœˆï¼‰</h3>






















































<table><thead><tr><th>ç‰¹æ€§</th><th>Chrome 128+</th><th>Firefox 130+</th><th>Safari 18+</th><th>Node.js 22+</th></tr></thead><tbody><tr><td><code>Promise.try()</code></td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>Set æ–¹æ³•</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>JSON æ¨¡å—å¯¼å…¥</td><td>âœ…</td><td>âš ï¸ï¼ˆå®éªŒï¼‰</td><td>âœ…</td><td>âœ…ï¼ˆéœ€ flagï¼‰</td></tr><tr><td>Iterator Helpers</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td><code>RegExp.escape()</code></td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td><code>defer import</code></td><td>âœ…</td><td>âŒ</td><td>âš ï¸</td><td>âŒï¼ˆæš‚æœªæ”¯æŒï¼‰</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ å»ºè®®æ­é… Babel æˆ– TypeScript ç¼–è¯‘ä»¥å…¼å®¹æ—§ç¯å¢ƒã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-19">âœ… ç»“è¯­</h3>
<p>ECMAScript 2025 ä¸ä»…å»¶ç»­äº† JavaScript â€œæ¸è¿›å¢å¼ºâ€ çš„è®¾è®¡å“²å­¦ï¼Œæ›´åœ¨<strong>å¼€å‘ä½“éªŒã€æ€§èƒ½ã€å®‰å…¨æ€§</strong>ä¸Šè¿ˆå‡ºåšå®ä¸€æ­¥ã€‚æ— è®ºæ˜¯ç®€åŒ–æ—¥å¸¸ç¼–ç ï¼Œè¿˜æ˜¯ä¼˜åŒ–å¤§å‹åº”ç”¨æ¶æ„ï¼Œè¿™äº›æ–°ç‰¹æ€§éƒ½å€¼å¾—ä½ ç«‹å³å°è¯•ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æ‘¸æ‰‹æ•™ä½ ä¸¤åˆ†é’Ÿæå®šAntigravity]]></title>    <link>https://juejin.cn/post/7576468602304970790</link>    <guid>https://juejin.cn/post/7576468602304970790</guid>    <pubDate>2025-11-25T08:36:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576468602304970790" data-draft-id="7576476897948041243" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æ‘¸æ‰‹æ•™ä½ ä¸¤åˆ†é’Ÿæå®šAntigravity"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-25T08:36:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‰‘æ£±è›¾å­"/> <meta itemprop="url" content="https://juejin.cn/user/2823201593493790"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æ‘¸æ‰‹æ•™ä½ ä¸¤åˆ†é’Ÿæå®šAntigravity
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2823201593493790/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‰‘æ£±è›¾å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:36:54.000Z" title="Tue Nov 25 2025 08:36:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><hr/>
<h2 data-id="heading-0">ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡</h2>
<p>å…ˆæŠŠå·¥å…·å¤‡é½ã€‚æ‰“å¼€å®˜ç½‘ <code>httpsï¼š//antigravityã€‚google/ï¼Ÿhl=zh-cn</code>ï¼Œä¸‹è½½å®‰è£…åŒ…ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šéœ€è¦ç”¨è°·æ­Œè´¦å·ç™»å½•ã€‚æ²¡æœ‰è´¦å·çš„å…„å¼Ÿï¼Œæ¨èä¸ªæ¥ç å¹³å°ï¼š<code>httpsï¼š//sms-activateã€‚io/cn</code>ï¼ŒèŠ±ç‚¹å°é’±æå®šæ³¨å†Œã€‚</p>
</blockquote>
<p>ä¸‹è½½å®Œæˆåï¼Œå¦‚æœéªŒè¯ä¸€ç›´å¡ä½æ— ååº”ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2a9d0bd4b4643e89818a219685ff800~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omR5qOx6Ju-5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764664613&amp;x-signature=79GD2TgYd0X0famU18o7AzkuDsM%3D" alt="36c8a0969582378616c6368620f0dab7.png" loading="lazy"/>
<strong>è®°å¾—åˆ‡æ¢ä¸€ä¸‹Turnæ¨¡å¼</strong>ï¼Œè¿™ä¸ªå‘æˆ‘æ›¿ä½ è¸©è¿‡äº†ã€‚</p>
<hr/>
<h2 data-id="heading-1">ç¬¬äºŒæ­¥ï¼šè¿è¡Œç¯å¢ƒå¯¼å…¥vscodeé…ç½®</h2>
<p>æˆ‘ä¹ æƒ¯ä½¿ç”¨vscodeçš„é£æ ¼å¼€å‘ï¼Œä¸ºäº†ä¿è¯æ‰‹æ„Ÿï¼Œæˆ‘é€‰æ‹©å¯¼å…¥vscodeçš„é…ç½®åˆ°antigravity</p>
<h3 data-id="heading-2">æ›´æ”¹æ’ä»¶å¸‚åœº</h3>
<p>antigravityé»˜è®¤çš„æ’ä»¶å¸‚åœºæ˜¯<a href="https://link.juejin.cn?target=https%3A%2F%2Fopen-vsx.org%2F" target="_blank" title="https://open-vsx.org/" ref="nofollow noopener noreferrer">open-vsx</a>ï¼Œéœ€è¦æ›´æ”¹æˆvscodeçš„æ’ä»¶å¸‚åœº</p>
<ol>
<li>è¿›å…¥åˆ°<code>antigravity settings</code>ï¼Œé€‰ä¸­<code>Editor</code>è®¾ç½®ï¼Œè¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š</li>
</ol>
<ul>
<li>
<p>Marketplace Item URL</p>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//marketplace.visualstudio.com/items</span>
</code></pre>
</li>
<li>
<p>Marketplace Gallery URL</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/marketplace.visualstudio.com/</span>_apis/<span class="hljs-keyword">public</span>/gallery
</code></pre>
</li>
</ul>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f99a8ef8c224bb3a350ad2c52c6f52c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omR5qOx6Ju-5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764664613&amp;x-signature=zCr4vsZX2J2F1OP3R20ysXpkGJw%3D" alt="image.png" loading="lazy"/></p>
<p>æ”¹å®Œä¹‹åé‡å¯ä»¥ä¸‹antigravityã€‚</p>
<p>ç„¶åä½¿ç”¨å¿«æ·é”® <code>Ctrl + Shift + P</code>,è¾“å…¥<code>&gt;import vscode extensions</code>æ‰¾åˆ°å¯¹åº”çš„æ‹“å±•é…ç½®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3764e91e0f1b4462b3f5717160d40ca4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omR5qOx6Ju-5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764664613&amp;x-signature=KoFoKwmQxrk30Xt2sjWGQZTqlxE%3D" alt="image.png" loading="lazy"/>
é€‰æ‹©åå¯ä»¥çœ‹åˆ°å·¦ä¸‹è§’çš„åŒæ­¥è¿›åº¦ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac05a5517391484ca510c36d52181737~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omR5qOx6Ju-5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764664613&amp;x-signature=EvZEzzAzMyjs45RfI97h%2Fx5EcXA%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AutoMQ GitHub çªç ´ 8,000 Starï¼]]></title>    <link>https://juejin.cn/post/7576264484689723432</link>    <guid>https://juejin.cn/post/7576264484689723432</guid>    <pubDate>2025-11-25T08:49:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576264484689723432" data-draft-id="7576264484689707048" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AutoMQ GitHub çªç ´ 8,000 Starï¼"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2025-11-25T08:49:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AutoMQ"/> <meta itemprop="url" content="https://juejin.cn/user/2878958479084707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AutoMQ GitHub çªç ´ 8,000 Starï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2878958479084707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AutoMQ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:49:09.000Z" title="Tue Nov 25 2025 08:49:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://image.automq.com/20251125bot/52m4gl.png" alt="" loading="lazy"/></p>
<p><strong>ğŸš€ é‡Œç¨‹ç¢‘è¾¾æˆï¼AutoMQ GitHub çªç ´ 8,000 Starï¼</strong></p>
<p>ğŸ‰ ä» 0 åˆ° 8000+ï¼Œ è¿™ä»½çƒ­åº¦çš„èƒŒåï¼Œæ˜¯ AutoMQ å¯¹äº‘åŸç”Ÿæµå­˜å‚¨çš„é‡æ–°å®šä¹‰ã€‚æˆ‘ä»¬åŸºäº Diskless æ¶æ„è®¾è®¡ï¼Œå°†æ•°æ®å®Œå…¨å¸è½½è‡³å¯¹è±¡å­˜å‚¨ï¼ˆS3/OSSï¼‰ï¼Œè®©æ•°æ®åŸºç¡€è®¾æ–½çœŸæ­£ç”Ÿäºäº‘ã€é•¿äºäº‘ï¼Œå½»åº•è§£å†³äº†ä¼ ç»Ÿæ¶æ„çš„ç—›ç‚¹ï¼š</p>
<ul>
<li>**ğŸ’¸ æ¶ˆé™¤ 100% è·¨ AZ æµé‡è´¹ç”¨ï¼š**é‡‡ç”¨å…±äº«å­˜å‚¨æ¶æ„ï¼Œå½»åº•é¿å…äº†é«˜é¢çš„è·¨å¯ç”¨åŒºï¼ˆCross-AZï¼‰æµé‡è´¹ç”¨ï¼Œè®©äº‘ä¸Šæˆæœ¬çœŸæ­£å¯æ§ã€‚</li>
<li>**ğŸ§© 100% Kafka API å…¼å®¹ï¼š**å¹³æ»‘è¿ç§»ï¼Œæ— ä¾›åº”å•†é”å®šï¼Œå…¼å®¹ Kafka å…¨ç”Ÿæ€ã€‚</li>
<li><strong>âš¡ï¸ æè‡´çš„ç§’çº§å¼¹æ€§ä¼¸ç¼©</strong></li>
<li><strong>æ‰©ç¼©å®¹ï¼š</strong> Broker æ— çŠ¶æ€åŒ–è®¾è®¡ï¼Œè®©æ‰©ç¼©å®¹è€—æ—¶ä»ä¼ ç»Ÿçš„æ•°å°æ—¶å‰§é™è‡³ <strong>æ•°åç§’</strong>ã€‚</li>
<li><strong>è‡ªåŠ¨å¹³è¡¡ï¼š</strong> å†…ç½® Self-Balancing èƒ½åŠ›ï¼Œ<strong>1 ç§’</strong> å³å¯å®Œæˆåˆ†åŒºè¿ç§»ï¼Œæ— éœ€äººå·¥å¹²é¢„å³å¯æ¶ˆé™¤çƒ­ç‚¹ã€‚</li>
<li><strong>ğŸš€ ä½å»¶è¿Ÿä¸æ— ç¼è¿ç§»</strong> P99 å†™å…¥å»¶è¿Ÿä½è‡³ <strong>10ms</strong>ï¼Œå®Œç¾æ»¡è¶³é‡‘èä¸å¾®æœåŠ¡å®æ—¶åœºæ™¯ã€‚æ— ä¾›åº”å•†é”å®šï¼Œå…¼å®¹ Kafka å…¨ç”Ÿæ€ï¼Œè¿ç§»å¹³æ»‘æ— æ„Ÿã€‚</li>
</ul>
<p><img src="https://image.automq.com/20251125bot/wmku2o.png" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬çš„GitHub Starç”¨æˆ·åˆ†å¸ƒå›¾æ¸…æ™°åœ°å±•ç¤ºäº†AutoMQ çš„å…¨çƒåŒ–è¿›ç¨‹ï¼šé™¤äº†æ·±è€•æœ¬åœŸï¼Œæˆ‘ä»¬åœ¨åŒ—ç¾ã€æ¬§æ´²ç­‰æŠ€æœ¯é«˜åœ°ä¹Ÿè·å¾—äº†å¹¿æ³›å…³æ³¨ã€‚è¿™å……åˆ†è¯´æ˜ AutoMQ æå‡ºçš„äº‘åŸç”Ÿæ¶æ„ç²¾å‡†å‡»ä¸­äº†å…¨çƒä¼ä¸šçš„é€šç”¨ç—›ç‚¹ï¼Œå…·å¤‡ä¸–ç•Œçº§çš„æŠ€æœ¯ç«äº‰åŠ›ã€‚</p>
<p>å¯¹æˆ‘ä»¬è€Œè¨€ï¼Œ<strong>è¿™ä¸ä»…æ˜¯ 8,000 Star çš„é‡Œç¨‹ç¢‘ï¼Œæ›´æ˜¯å…¨çƒå¼€å‘è€…å¯¹æˆ‘ä»¬çš„å…³æ³¨ä¸è®¤å¯ï¼</strong> æ­£æ˜¯è¿™äº›æ¥è‡ªä¸–ç•Œå„åœ°çš„æ”¯æŒï¼Œæ„ç­‘äº†æˆ‘ä»¬ä¸æ–­åˆ›æ–°çš„åŸºçŸ³ã€‚<strong>æˆ‘ä»¬å°†ç»§ç»­å‰è¡Œï¼Œä¸ºä¼ä¸šå’Œå¼€å‘è€…æä¾›æ›´ä¼˜è´¨çš„äº‘åŸç”Ÿ Kafka ä½“éªŒã€‚</strong></p>
<p>ğŸŒŸ <strong>åŠ å…¥ 8000+ å¼€å‘è€…çš„è¡Œåˆ—</strong> æˆ‘ä»¬çš„ä»£ç å®Œå…¨å¼€æºï¼Œè®©æˆ‘ä»¬ä¸€èµ·é‡æ–°å®šä¹‰äº‘åŸç”Ÿæµå­˜å‚¨ï¼</p>
<p>ğŸ”— ä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.automq.com%2Fgithub%3Futm_source%3Djuejin_8k_star" target="_blank" title="https://go.automq.com/github?utm_source=juejin_8k_star" ref="nofollow noopener noreferrer">go.automq.com/github?utm_â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Springï¼ˆ2-IOC/DIç®¡ç†ç¬¬ä¸‰æ–¹ï¼‰]]></title>    <link>https://juejin.cn/post/7576468602305052710</link>    <guid>https://juejin.cn/post/7576468602305052710</guid>    <pubDate>2025-11-25T08:45:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576468602305052710" data-draft-id="7555336888900403251" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Springï¼ˆ2-IOC/DIç®¡ç†ç¬¬ä¸‰æ–¹ï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-25T08:45:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éƒ¡æ°"/> <meta itemprop="url" content="https://juejin.cn/user/1823423934236172"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Springï¼ˆ2-IOC/DIç®¡ç†ç¬¬ä¸‰æ–¹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1823423934236172/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éƒ¡æ°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T08:45:57.000Z" title="Tue Nov 25 2025 08:45:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">IOC/DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean</h2>
<h3 data-id="heading-1">æ•°æ®åº“è¿æ¥é…ç½®è¯¦è§£</h3>
<h4 data-id="heading-2">æ•°æ®åº“è¿æ¥å››è¦ç´ </h4>
<pre><code class="hljs language-properties" lang="properties"># æ•°æ®åº“è¿æ¥é…ç½®
jdbc.driver=com.mysql.cj.jdbc.Driver
jdbc.url=jdbc:mysql://127.0.0.1:3306/spring_db?useSSL=false&amp;serverTimezone=UTC
jdbc.username=root
jdbc.password=root
</code></pre>
<blockquote>
<p>jdbcæ˜¯è‡ªå®šä¹‰çš„ï¼Œåé¢ä¼šæåˆ°</p>
</blockquote>
<h5 data-id="heading-3">é©±åŠ¨ç±» ( .driver)</h5>
<p><strong>ä»€ä¹ˆæ˜¯é©±åŠ¨ç±»ï¼Ÿ</strong></p>
<ul>
<li>é©±åŠ¨ç±»æ˜¯Javaç¨‹åºä¸æ•°æ®åº“é€šä¿¡çš„æ¡¥æ¢</li>
<li>ä¸åŒæ•°æ®åº“æœ‰ä¸åŒçš„é©±åŠ¨ç±»</li>
</ul>
<p><strong>å¦‚ä½•ç¡®å®šé©±åŠ¨ç±»ï¼Ÿ</strong></p>
<ol>
<li><strong>å…ˆç¡®å®šæ•°æ®åº“ç±»å‹å’Œç‰ˆæœ¬</strong></li>
</ol>
<p>å› ä¸ºä¸åŒæ•°æ®åº“ã€ä¸åŒç‰ˆæœ¬çš„å¯¹åº”çš„é©±åŠ¨ç±»ä¸åŒã€‚</p>
<p>æ–¹æ³•ä¸€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿æ¥åˆ°æ•°æ®åº“åæ‰§è¡Œ</span>
mysql&gt; SELECT version();
</code></pre>
<p>æ–¹æ³•äºŒï¼šæŸ¥çœ‹é¡¹ç›®ä¾èµ–</p>
<p>å› ä¸ºä¸åŒç‰ˆæœ¬çš„é©±åŠ¨jaråŒ…ä¸åŒï¼Œæ‰€ä»¥éœ€è¦æŸ¥çœ‹é¡¹ç›®ä½¿ç”¨äº†å“ªä¸ªæ•°æ®åº“é©±åŠ¨jaråŒ…ä»¥åŠè¿™ä¸ªjaråŒ…çš„ç‰ˆæœ¬å·ï¼Œä»¥æ‰¾åˆ°å¯¹åº”çš„é©±åŠ¨ç±»å</p>
<p>æŸ¥çœ‹é¡¹ç›®çš„<code>pom.xml</code>æ–‡ä»¶ï¼Œç¡®å®šä½¿ç”¨çš„æ•°æ®åº“é©±åŠ¨ç‰ˆæœ¬ï¼ˆå¦‚æœæ˜¯æ–°é¡¹ç›®ï¼Œåˆ™éœ€è¦è‡ªå·±æ·»åŠ é¡¹ç›®ä¾èµ–ï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>  <span class="hljs-comment">&lt;!-- è¿™ä¸ªå°±æ˜¯ç‰ˆæœ¬å· --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-comment">&lt;!-- è¿™ä¸ªç‰ˆæœ¬æ”¯æŒ com.mysql.cj.jdbc.Driver é©±åŠ¨ç±» --&gt;</span>
</code></pre>
<p>æ–¹æ³•ä¸‰ï¼šå¦‚æœä½¿ç”¨Navicatã€DBeaverç­‰å·¥å…·ï¼Œé€šå¸¸åœ¨è¿æ¥ä¿¡æ¯ä¸­å°±èƒ½çœ‹åˆ°æ•°æ®åº“å’Œç‰ˆæœ¬å·ã€‚</p>
<ol start="2">
<li><strong>å†å‚è€ƒå…·ä½“å¯¹åº”å…³ç³»ï¼š</strong></li>
</ol>
<pre><code class="hljs language-properties" lang="properties"># MySQL 8.0åŠä»¥ä¸Šç‰ˆæœ¬
jdbc.driver=com.mysql.cj.jdbc.Driver

# MySQL 5.xç‰ˆæœ¬
jdbc.driver=com.mysql.jdbc.Driver

# Oracleæ•°æ®åº“
jdbc.driver=oracle.jdbc.OracleDriver

# PostgreSQLæ•°æ®åº“
jdbc.driver=org.postgresql.Driver

# SQL Serveræ•°æ®åº“
jdbc.driver=com.microsoft.sqlserver.jdbc.SQLServerDriver
</code></pre>
<h5 data-id="heading-4">è¿æ¥URL ( .url)</h5>
<p>å‚è€ƒå®˜æ–¹æ–‡æ¡£èƒ½æ‰¾åˆ°URLçš„æ­£ç¡®æ ¼å¼å’Œå¿…è¦å‚æ•°ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Fconnector-j%2Fen%2Fconnector-j-reference-jdbc-url-format.html" target="_blank" title="https://dev.mysql.com/doc/connector-j/en/connector-j-reference-jdbc-url-format.html" ref="nofollow noopener noreferrer">MySQL Connector/J å¼€å‘è€…æŒ‡å— / Connector/J å‚è€ƒ / è¿æ¥ URL è¯­æ³•</a></p>
<p><strong>URLæ ¼å¼è§£æï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">jdbc:mysql://ä¸»æœºåœ°å€:ç«¯å£å·/æ•°æ®åº“å?å‚æ•°<span class="hljs-attr">1</span>=å€¼<span class="hljs-number">1</span>&amp;å‚æ•°<span class="hljs-number">2</span>=å€¼<span class="hljs-number">2</span>
</code></pre>
<p><strong>å„éƒ¨åˆ†å«ä¹‰ï¼š</strong></p>
<pre><code class="hljs language-properties" lang="properties"># æœ¬åœ°MySQLï¼Œæ•°æ®åº“åä¸ºspring_db
jdbc.url=jdbc:mysql://127.0.0.1:3306/spring_db

# è¿œç¨‹æœåŠ¡å™¨ï¼ŒæŒ‡å®šå­—ç¬¦ç¼–ç å’Œæ—¶åŒº
jdbc.url=jdbc:mysql://192.168.1.100:3306/myapp?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai
</code></pre>
<p><strong>å¿…è¦å‚æ•°</strong>ï¼š</p>
<ul>
<li>MySQL 8.0+ éœ€è¦Â <code>serverTimezone</code>Â å‚æ•°</li>
<li>å¼€å‘ç¯å¢ƒé€šå¸¸è®¾ç½®Â <code>useSSL=false</code></li>
<li>å¯èƒ½éœ€è¦çš„å…¶ä»–å‚æ•°ï¼š<code>characterEncoding</code>,Â <code>allowPublicKeyRetrieval</code>ç­‰</li>
</ul>
<h5 data-id="heading-5">ç”¨æˆ·åå’Œå¯†ç </h5>
<pre><code class="hljs language-properties" lang="properties"># æ ¹æ®ä½ çš„æ•°æ®åº“è®¾ç½®å¡«å†™
jdbc.username=ä½ çš„æ•°æ®åº“ç”¨æˆ·å
jdbc.password=ä½ çš„æ•°æ®åº“å¯†ç 
</code></pre>
<h4 data-id="heading-6">è¿æ¥æ± é…ç½®å‚æ•°</h4>
<p>è¿æ¥æ± æ•°æ®æºç±»</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Druidè¿æ¥æ± </span>
com.alibaba.druid.pool.DruidDataSource

<span class="hljs-comment">// C3P0è¿æ¥æ± </span>
com.mchange.v2.c3p0.ComboPooledDataSource

<span class="hljs-comment">// HikariCPè¿æ¥æ± ï¼ˆSpring Booté»˜è®¤ï¼‰</span>
com.zaxxer.hikari.HikariDataSource

<span class="hljs-comment">// Apache DBCP</span>
org.apache.commons.dbcp2.BasicDataSource
</code></pre>
<pre><code class="hljs language-properties" lang="properties"># è¿æ¥æ± é€šç”¨é…ç½®
pool.initialSize=5
pool.minIdle=5
pool.maxActive=20
pool.maxWait=60000
</code></pre>
<p><strong>å‚æ•°å«ä¹‰è§£é‡Š</strong></p>






























<table><thead><tr><th>å‚æ•°å</th><th>å«ä¹‰</th><th>æ¨èå€¼</th></tr></thead><tbody><tr><td><code>initialSize</code></td><td>è¿æ¥æ± å¯åŠ¨æ—¶åˆ›å»ºçš„åˆå§‹è¿æ¥æ•°</td><td>5-10</td></tr><tr><td><code>minIdle</code></td><td>è¿æ¥æ± ä¸­ä¿æŒçš„æœ€å°ç©ºé—²è¿æ¥æ•°</td><td>5-10</td></tr><tr><td><code>maxActive</code></td><td>è¿æ¥æ± ä¸­æœ€å¤§æ´»åŠ¨è¿æ¥æ•°</td><td>20-50</td></tr><tr><td><code>maxWait</code></td><td>è·å–è¿æ¥çš„æœ€å¤§ç­‰å¾…æ—¶é—´(æ¯«ç§’)</td><td>60000</td></tr></tbody></table>
<h4 data-id="heading-7">å…³äºå‰ç¼€çš„è§£é‡Š</h4>
<p>è‡ªå®šä¹‰å‰ç¼€åªæ˜¯ä¸ºäº†åˆ†ç±»ç®¡ç†ï¼Œå¯ä»¥ä»»æ„å‘½åï¼Œæˆ–è€…ä¸åŠ å‰ç¼€</p>
<pre><code class="hljs language-properties" lang="properties"># è‡ªå®šä¹‰å‰ç¼€åªæ˜¯ä¸ºäº†åˆ†ç±»ç®¡ç†ï¼Œå¯ä»¥ä»»æ„å‘½å
database.driver=com.mysql.cj.jdbc.Driver
database.url=jdbc:mysql://...
database.username=root

connection.initialSize=5
connection.maxActive=20

# æˆ–è€…ä¸åŠ å‰ç¼€
driver=com.mysql.cj.jdbc.Driver
url=jdbc:mysql://...
username=root
</code></pre>
<h3 data-id="heading-8">æ¡ˆä¾‹ï¼šæ•°æ®æºå¯¹è±¡ç®¡ç†</h3>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡å®é™…æ¡ˆä¾‹å­¦ä¹ å¦‚ä½•é…ç½®å’Œç®¡ç†ç¬¬ä¸‰æ–¹jaråŒ…ä¸­çš„beanã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸¤ç§å¸¸è§çš„æ•°æ®æº<code>Druidï¼ˆå¾·é²ä¼Šï¼‰</code>å’Œ <code>C3P0</code>ä¸ºä¾‹è¿›è¡Œæ¼”ç¤ºã€‚</p>
<h4 data-id="heading-9">ç¯å¢ƒå‡†å¤‡</h4>
<ol>
<li>
<p><strong>åˆ›å»ºMavené¡¹ç›®</strong>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/712d6827b36d4abcb5a718ff97e064f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=hctNrTxCMXMAwVOsmhmx%2BA4Y%2B1s%3D" alt="image.png" width="50%" loading="lazy"/></p>
</li>
<li>
<p><strong>pom.xmlä¾èµ–é…ç½®</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
     <span class="hljs-comment">&lt;!-- Springæ ¸å¿ƒä¾èµ– --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.10.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong>Springé…ç½®æ–‡ä»¶</strong></p>
<p>åœ¨resourcesç›®å½•ä¸‹åˆ›å»ºapplicationContext.xmlï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"
            http://www.springframework.org/schema/beans
            http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>

 <span class="hljs-comment">&lt;!-- åç»­å°†åœ¨è¿™é‡Œé…ç½®æ•°æ®æºbean --&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong>åº”ç”¨ç¨‹åºå…¥å£ç±»</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"applicationContext.xml"</span>);
    }
}
</code></pre>
</li>
</ol>
<h4 data-id="heading-10">æ€è·¯åˆ†æ</h4>
<p>ç°åœ¨æˆ‘ä»¬æ¥åˆ†æå¦‚ä½•é…ç½®å’Œç®¡ç†ç¬¬ä¸‰æ–¹æ•°æ®æºå¯¹è±¡ï¼š</p>
<p><strong>éœ€æ±‚åˆ†æï¼š</strong> Â ä½¿ç”¨Springçš„IOCå®¹å™¨ç®¡ç†Druidå’ŒC3P0è¿æ¥æ± å¯¹è±¡</p>
<p><strong>å®ç°æ€è·¯ï¼š</strong></p>
<ol>
<li><strong>æ·»åŠ ç¬¬ä¸‰æ–¹ä¾èµ–</strong>Â - åœ¨pom.xmlä¸­æ·»åŠ Druidï¼ˆæˆ– C3P0ï¼‰å’Œæ•°æ®åº“é©±åŠ¨çš„ä¾èµ–</li>
<li><strong>é…ç½®ç¬¬ä¸‰æ–¹Bean</strong>Â - åœ¨Springé…ç½®æ–‡ä»¶ä¸­å°†ç¬¬ä¸‰æ–¹ç±»å£°æ˜ä¸ºbean</li>
<li><strong>å±æ€§æ³¨å…¥</strong>Â - å°†æ•°æ®åº“è¿æ¥å››è¦ç´ ï¼ˆé©±åŠ¨ã€URLã€ç”¨æˆ·åã€å¯†ç ï¼‰æ³¨å…¥åˆ°beanä¸­</li>
<li><strong>æµ‹è¯•éªŒè¯</strong>Â - ä»IOCå®¹å™¨è·å–beanå¹¶éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®</li>
</ol>
<p><strong>å…³é”®æŠ€æœ¯ç‚¹ï¼š</strong></p>
<ul>
<li><strong>ç¬¬ä¸‰æ–¹ç±»çš„è¯†åˆ«</strong>ï¼šDruidçš„<code>com.alibaba.druid.pool.DruidDataSource</code>å’ŒC3P0çš„<code>com.mchange.v2.c3p0.ComboPooledDataSource</code></li>
<li><strong>å±æ€§æ³¨å…¥æ–¹å¼</strong>ï¼šä½¿ç”¨setteræ–¹æ³•æ³¨å…¥åŸºæœ¬ç±»å‹å±æ€§</li>
<li><strong>ç‰¹æ®Šå±æ€§å¤„ç†</strong>ï¼šå¯¹äºéœ€è¦ç‰¹æ®Šé…ç½®çš„å±æ€§ï¼ˆå¦‚è¿æ¥æ± å‚æ•°ï¼‰ä¹Ÿéœ€è¦è¿›è¡Œæ³¨å…¥</li>
</ul>
<h4 data-id="heading-11">Druidæ•°æ®æºç®¡ç†å®ç°</h4>
<p><strong>æ­¥éª¤1ï¼šæ·»åŠ Druidä¾èµ–</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>æ­¥éª¤2ï¼šé…ç½® ç¬¬ä¸‰æ–¹bean-DruidDataSource Bean</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">beans</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ç®¡ç†DruidDataSourceå¯¹è±¡ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.alibaba.druid.pool.DruidDataSource"</span>&gt;</span>  <span class="hljs-comment">&lt;!-- class="è¿æ¥æ± æ•°æ®æºç±»" --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"com.mysql.jdbc.Driver"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"jdbc:mysql://localhost:3306/spring_db"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<p><strong>é…ç½®è¯´æ˜ï¼š</strong></p>






























<table><thead><tr><th>å±æ€§å</th><th>è¯´æ˜</th><th>ç¤ºä¾‹å€¼</th></tr></thead><tbody><tr><td>driverClassName</td><td>æ•°æ®åº“é©±åŠ¨ç±»</td><td>com.mysql.jdbc.Driver</td></tr><tr><td>url</td><td>æ•°æ®åº“è¿æ¥åœ°å€</td><td>jdbc:mysql://localhost:3306/spring_db</td></tr><tr><td>username</td><td>æ•°æ®åº“ç”¨æˆ·å</td><td>root</td></tr><tr><td>password</td><td>æ•°æ®åº“å¯†ç </td><td>root</td></tr></tbody></table>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šè¯·æ ¹æ®å®é™…æ•°æ®åº“é…ç½®è°ƒæ•´è¿æ¥å››è¦ç´ ã€‚</p>
</blockquote>
<p><strong>æ­¥éª¤3ï¼šä»IOCå®¹å™¨è·å–Bean</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"applicationContext.xml"</span>);
        <span class="hljs-type">DataSource</span> <span class="hljs-variable">dataSource</span> <span class="hljs-operator">=</span> (DataSource) ctx.getBean(<span class="hljs-string">"dataSource"</span>);
        System.out.println(dataSource);
    }
}
</code></pre>
<p><strong>æ­¥éª¤4ï¼šè¿è¡ŒéªŒè¯</strong></p>
<p>ç¨‹åºæˆåŠŸè¿è¡Œå¹¶è¾“å‡ºDruidDataSourceå¯¹è±¡ï¼Œè¡¨æ˜ç¬¬ä¸‰æ–¹beanå·²è¢«Spring IOCå®¹å™¨æˆåŠŸç®¡ç†ã€‚\ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73c1dd8fa28b4812aa75f11b533e1896~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=bXhb%2BV2QMyDPt%2FozEarT8ORHvbc%3D" alt="image.png" width="50%" loading="lazy"/></p>
<blockquote>
<p>Druidç¨‹åºè¿è¡Œè™½ç„¶æ²¡æœ‰æŠ¥é”™ï¼Œä½†æ˜¯å½“è°ƒç”¨DruidDataSourceçš„getConnection()æ–¹æ³•è·å–è¿æ¥çš„æ—¶å€™ï¼Œä¹Ÿä¼šå› ä¸º<strong>æ²¡æœ‰æ·»åŠ MySQLé©±åŠ¨ä¾èµ–è€ŒæŠ¥é”™</strong>ã€‚</p>
</blockquote>
<h4 data-id="heading-12">C3P0æ•°æ®æºç®¡ç†å®ç°</h4>
<p><strong>æ­¥éª¤1ï¼šæ·»åŠ C3P0ä¾èµ–</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>c3p0<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>c3p0<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.9.1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>ä¾èµ–æŸ¥æ‰¾æ–¹æ³•ï¼š</strong></p>
<ul>
<li>ç›´æ¥é€šè¿‡æœç´¢å¼•æ“æŸ¥è¯¢</li>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fmvnrepository.com%2F" target="_blank" title="https://mvnrepository.com/" ref="nofollow noopener noreferrer">Mavenä¸­å¤®ä»“åº“</a>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a87708ccf6f4edb898864eb632762d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=cdlPX4oKbBHwaAr4Lk1ZBceg5cI%3D" alt="image.png" width="100%" loading="lazy"/></li>
</ul>
<p><strong>æ­¥éª¤2ï¼šé…ç½®C3P0 Bean</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClass"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"com.mysql.jdbc.Driver"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"jdbcUrl"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"jdbc:mysql://localhost:3306/spring_db"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxPoolSize"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1000"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
</code></pre>
<p><strong>æ­¥éª¤3ï¼šè§£å†³é©±åŠ¨ç¼ºå¤±é—®é¢˜</strong></p>
<p>è¿è¡Œç¨‹åºæ—¶å¯èƒ½å‡ºç°<code>ClassNotFoundException</code>ï¼Œæç¤ºç¼ºå°‘<code>com.mysql.jdbc.Driver</code>ç±»ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> æ·»åŠ MySQLé©±åŠ¨ä¾èµ–</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.47<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>æ­¥éª¤4ï¼šéªŒè¯ç»“æœ</strong></p>
<p>æ·»åŠ é©±åŠ¨ä¾èµ–åï¼Œç¨‹åºæˆåŠŸè¿è¡Œå¹¶è¾“å‡ºC3P0æ•°æ®æºå¯¹è±¡ã€‚ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d1e5d53144a4e678861ad8682b802fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=nWJ%2FpwFQY%2B7jIR2nRjlVP72knmM%3D" alt="image.png" width="100%" loading="lazy"/></p>
<h4 data-id="heading-13">å…³é”®æ³¨æ„äº‹é¡¹</h4>
<p><strong>1. å±æ€§é…ç½®å·®å¼‚</strong></p>
<p>ä¸åŒæ•°æ®æºçš„å±æ€§åç§°å¯èƒ½å­˜åœ¨å·®å¼‚ï¼Œé…ç½®æ—¶éœ€æ³¨æ„ï¼š</p>


























<table><thead><tr><th>æ•°æ®æº</th><th>é©±åŠ¨å±æ€§</th><th>URLå±æ€§</th><th>ç”¨æˆ·åå±æ€§</th><th>å¯†ç å±æ€§</th></tr></thead><tbody><tr><td>Druid</td><td>driverClassName</td><td>url</td><td>username</td><td>password</td></tr><tr><td>C3P0</td><td>driverClass</td><td>jdbcUrl</td><td>user</td><td>password</td></tr></tbody></table>
<p><strong>2. é©±åŠ¨åŠ è½½æ—¶æœº</strong></p>
<ul>
<li><strong>Druid</strong>ï¼šåˆå§‹åŒ–æ—¶ä¸ç«‹å³åŠ è½½é©±åŠ¨ï¼Œè·å–è¿æ¥æ—¶æ‰åŠ è½½</li>
<li><strong>C3P0</strong>ï¼šåˆå§‹åŒ–æ—¶ç«‹å³å°è¯•åŠ è½½é©±åŠ¨ï¼ˆå¦‚æœä¸æ·»åŠ MySQLé©±åŠ¨ä¾èµ–ï¼Œåˆå§‹åŒ–æ—¶å³æŠ¥é”™ï¼‰</li>
</ul>
<p><strong>3. æ‰©å±•å±æ€§é…ç½®</strong></p>
<p>æ•°æ®æºé™¤äº†åŸºæœ¬çš„å››è¦ç´ å¤–ï¼Œè¿˜å¯ä»¥é…ç½®å…¶ä»–å±æ€§ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Druidé¢å¤–é…ç½®ç¤ºä¾‹ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.alibaba.druid.pool.DruidDataSource"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- åŸºç¡€å››è¦ç´  --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"..."</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"..."</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"..."</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"..."</span>/&gt;</span>
    
    <span class="hljs-comment">&lt;!-- è¿æ¥æ± é…ç½® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"initialSize"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"5"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxActive"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"20"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxWait"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"60000"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
</code></pre>
<h3 data-id="heading-14">åŠ è½½Propertiesæ–‡ä»¶</h3>
<p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†Druidå’ŒC3P0æ•°æ®æºçš„é…ç½®ï¼Œä½†å­˜åœ¨ä»¥ä¸‹é—®é¢˜éœ€è¦ä¼˜åŒ–ï¼š</p>
<p><strong>é—®é¢˜åˆ†æ:</strong><br/>
æ•°æ®æºé…ç½®ä¸­çš„æ•°æ®åº“è¿æ¥å››è¦ç´ ï¼ˆé©±åŠ¨ã€URLã€ç”¨æˆ·åã€å¯†ç ï¼‰æ˜¯ç¡¬ç¼–ç å½¢å¼ï¼Œç›´æ¥å†™åœ¨Springé…ç½®æ–‡ä»¶ä¸­ä¸åˆ©äºåæœŸç»´æŠ¤ï¼Œéœ€è¦å°†è¿™äº›å€¼æå–åˆ°å¤–éƒ¨çš„propertiesé…ç½®æ–‡ä»¶ä¸­ï¼ŒSpringæ¡†æ¶éœ€è¦èƒ½å¤Ÿä»é…ç½®æ–‡ä»¶ä¸­è¯»å–å±æ€§å€¼å¹¶å®Œæˆå±æ€§æ³¨å…¥ã€‚</p>
<h4 data-id="heading-15">ç¬¬ä¸‰æ–¹Beanå±æ€§ä¼˜åŒ–</h4>
<h5 data-id="heading-16">å®ç°æ€è·¯</h5>
<p><strong>éœ€æ±‚ç›®æ ‡ï¼š</strong> å°†æ•°æ®åº“è¿æ¥å››è¦ç´ æå–åˆ°propertiesé…ç½®æ–‡ä»¶ï¼Œç”±SpringåŠ è½½é…ç½®ä¿¡æ¯å¹¶ä½¿ç”¨è¿™äº›ä¿¡æ¯å®Œæˆå±æ€§æ³¨å…¥ã€‚</p>
<p><strong>å®ç°æ­¥éª¤ï¼š</strong></p>
<ol>
<li>åœ¨resourcesç›®å½•ä¸‹åˆ›å»ºjdbc.propertiesé…ç½®æ–‡ä»¶ï¼ˆæ–‡ä»¶åå¯è‡ªå®šä¹‰ï¼‰</li>
<li>å°†æ•°æ®åº“è¿æ¥å››è¦ç´ é…ç½®åˆ°propertiesæ–‡ä»¶ä¸­</li>
<li>åœ¨Springé…ç½®æ–‡ä»¶ä¸­åŠ è½½propertiesæ–‡ä»¶</li>
<li>ä½¿ç”¨åŠ è½½åˆ°çš„å€¼å®ç°å±æ€§æ³¨å…¥</li>
</ol>
<p>å…¶ä¸­ç¬¬3ã€4æ­¥éª¤æ˜¯å®ç°çš„å…³é”®ï¼Œéœ€è¦é‡ç‚¹å…³æ³¨ã€‚</p>
<h5 data-id="heading-17">å®ç°æ­¥éª¤</h5>
<p><strong>æ­¥éª¤1ï¼šå‡†å¤‡propertiesé…ç½®æ–‡ä»¶</strong></p>
<p>åœ¨<code>src/main/resources</code>ç›®å½•ä¸‹åˆ›å»º<code>jdbc.properties</code>é…ç½®æ–‡ä»¶ï¼Œå¹¶æ·»åŠ æ•°æ®åº“è¿æ¥é…ç½®ï¼š</p>
<pre><code class="hljs language-properties" lang="properties"># æ•°æ®åº“è¿æ¥é…ç½®
jdbc.driver=com.mysql.cj.jdbc.Driver
jdbc.url=jdbc:mysql://127.0.0.1:3306/spring_db?useSSL=false&amp;serverTimezone=UTC
jdbc.username=root
jdbc.password=root

# è¿æ¥æ± é€šç”¨é…ç½®
pool.initialSize=5
pool.minIdle=5
pool.maxActive=20
pool.maxWait=60000
</code></pre>
<p><strong>æ­¥éª¤2ï¼šå¼€å¯contextå‘½åç©ºé—´</strong></p>
<p>åœ¨<code>applicationContext.xml</code>ä¸­å¼€å¯contextå‘½åç©ºé—´ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"
            http://www.springframework.org/schema/beans
            http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context
            http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- åç»­é…ç½®å°†åœ¨è¿™é‡Œæ·»åŠ  --&gt;</span>
    
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<p><strong>æ­¥éª¤3ï¼šåŠ è½½propertiesé…ç½®æ–‡ä»¶</strong></p>
<p>åœ¨Springé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨contextå‘½åç©ºé—´ä¸‹çš„æ ‡ç­¾åŠ è½½propertiesé…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- åŠ è½½propertiesé…ç½®æ–‡ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:jdbc.properties"</span>/&gt;</span>
</code></pre>
<p><strong>é…ç½®è¯´æ˜ï¼š</strong></p>
<ul>
<li><strong><code>location</code></strong> å±æ€§æŒ‡å®šé…ç½®æ–‡ä»¶çš„è·¯å¾„</li>
<li><strong><code>classpath:</code></strong> å‰ç¼€è¡¨ç¤ºä»ç±»è·¯å¾„ä¸‹æŸ¥æ‰¾æ–‡ä»¶
<ul>
<li>ç±»è·¯å¾„åŒ…æ‹¬ï¼š<code>src/main/resources</code>ã€<code>src/test/resources</code>ã€ä»¥åŠjaråŒ…ä¸­çš„èµ„æº</li>
<li>ä¸åŠ å‰ç¼€æ—¶ï¼ŒSpringä¹Ÿä¼šå°è¯•ä»ç±»è·¯å¾„æŸ¥æ‰¾ï¼Œä½†æ˜ç¡®ä½¿ç”¨<code>classpath:</code>æ›´å®‰å…¨</li>
</ul>
</li>
<li>å¯ä»¥åŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œç”¨é€—å·åˆ†éš”ï¼š<code>location="classpath:jdbc.properties,classpath:redis.properties"</code></li>
</ul>
<p><strong>æ­¥éª¤4ï¼šå®Œæˆå±æ€§æ³¨å…¥</strong></p>
<p><strong>ä½¿ç”¨<code>${key}</code>è¡¨è¾¾å¼è¯»å–propertiesé…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹</strong>å¹¶å®Œæˆå±æ€§æ³¨å…¥ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"
            http://www.springframework.org/schema/beans
            http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context
            http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- åŠ è½½propertiesé…ç½®æ–‡ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:jdbc.properties"</span>/&gt;</span>
    <span class="hljs-comment">&lt;!-- é…ç½®æ•°æ®æº --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.alibaba.druid.pool.DruidDataSource"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ä½¿ç”¨${}è¡¨è¾¾å¼è¯»å–propertiesä¸­çš„å€¼ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.driver}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.url}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.username}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.password}"</span>/&gt;</span>
        
        <span class="hljs-comment">&lt;!-- è¿æ¥æ± å‚æ•°ä¹Ÿä½¿ç”¨é…ç½®æ–‡ä»¶ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"initialSize"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${pool.initialSize}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"minIdle"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${pool.minIdle}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxActive"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${pool.maxActive}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxWait"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${pool.maxWait}"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<h5 data-id="heading-18">é«˜çº§é…ç½®é€‰é¡¹</h5>
<p><strong>å¤šé…ç½®æ–‡ä»¶åŠ è½½</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- åŠ è½½å¤šä¸ªpropertiesæ–‡ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:jdbc.properties,
              classpath:redis.properties,
              classpath:system.properties"</span>/&gt;</span>
</code></pre>
<p><strong>è®¾ç½®å­—ç¬¦ç¼–ç </strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- æŒ‡å®špropertiesæ–‡ä»¶ç¼–ç  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:jdbc.properties"</span>
    <span class="hljs-attr">encoding</span>=<span class="hljs-string">"UTF-8"</span>/&gt;</span>
</code></pre>
<p><strong>å¿½ç•¥èµ„æºæœªæ‰¾åˆ°</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å¿½ç•¥æœªæ‰¾åˆ°çš„èµ„æºæ–‡ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:jdbc.properties,
              classpath:optional.properties"</span>
    <span class="hljs-attr">ignore-resource-not-found</span>=<span class="hljs-string">"true"</span>/&gt;</span>
</code></pre>
<p><strong>å¿½ç•¥æ— æ³•è§£æçš„å ä½ç¬¦</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å¿½ç•¥æ— æ³•è§£æçš„å ä½ç¬¦ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:jdbc.properties"</span>
    <span class="hljs-attr">ignore-unresolvable</span>=<span class="hljs-string">"true"</span>/&gt;</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>ç¡®ä¿propertiesæ–‡ä»¶åœ¨ç±»è·¯å¾„ä¸‹</li>
<li>å±æ€§keyå‘½åè¦æœ‰æ„ä¹‰ä¸”å”¯ä¸€</li>
<li>ç”Ÿäº§ç¯å¢ƒä¸­æ•æ„Ÿä¿¡æ¯å»ºè®®ä½¿ç”¨åŠ å¯†æˆ–ç¯å¢ƒå˜é‡</li>
<li>å¯ä»¥ä½¿ç”¨<code>@Value</code>æ³¨è§£åœ¨Javaä»£ç ä¸­ç›´æ¥æ³¨å…¥propertieså€¼</li>
</ul>
<h4 data-id="heading-19">è¯»å–å•ä¸ªå±æ€§</h4>
<h5 data-id="heading-20">å®ç°æ€è·¯</h5>
<p>ä¸ºäº†æ›´å¥½åœ°æ¼”ç¤ºä»propertiesé…ç½®æ–‡ä»¶ä¸­è¯»å–å•ä¸ªå±æ€§çš„æ•ˆæœï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ–°çš„æ¡ˆä¾‹ï¼š</p>
<p><strong>éœ€æ±‚è¯´æ˜ï¼š</strong></p>
<ul>
<li>ä»propertiesé…ç½®æ–‡ä»¶ä¸­è¯»å–keyä¸º<code>name</code>çš„å€¼</li>
<li>å°†è¯¥å€¼æ³¨å…¥åˆ°BookDaoä¸­</li>
<li>åœ¨BookDaoçš„saveæ–¹æ³•ä¸­æ‰“å°è¯¥å±æ€§å€¼</li>
</ul>
<p><strong>å®ç°æ­¥éª¤ï¼š</strong></p>
<ol>
<li>åœ¨é¡¹ç›®ä¸­æ·»åŠ BookDaoå’ŒBookDaoImplç±»</li>
<li>ä¸ºBookDaoImplæ·»åŠ ä¸€ä¸ªnameå±æ€§å¹¶æä¾›setteræ–¹æ³•</li>
<li>åœ¨jdbc.propertiesä¸­æ·»åŠ nameå±æ€§</li>
<li>åœ¨applicationContext.xmlä¸­æ·»åŠ é…ç½®ï¼Œå®Œæˆé…ç½®æ–‡ä»¶åŠ è½½å’Œå±æ€§æ³¨å…¥(<code>${key}</code>)</li>
</ol>
<h5 data-id="heading-21">å®ç°æ­¥éª¤</h5>
<p><strong>æ­¥éª¤1ï¼šåˆ›å»ºé¡¹ç›®ä¸­çš„ç›¸å…³ç±»</strong></p>
<p>BookDaoæ¥å£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.itheima.dao;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span>;
}
</code></pre>
<p>BookDaoImplå®ç°ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.itheima.dao.impl;

<span class="hljs-keyword">import</span> com.itheima.dao.BookDao;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-comment">// ä¸ºnameå±æ€§æä¾›setteræ–¹æ³•ï¼Œç”¨äºå±æ€§æ³¨å…¥</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ..."</span> + name);
    }
}
</code></pre>
<p><strong>æ­¥éª¤2ï¼šæ›´æ–°propertiesé…ç½®æ–‡ä»¶</strong></p>
<p>åœ¨<code>jdbc.properties</code>é…ç½®æ–‡ä»¶ä¸­æ·»åŠ nameå±æ€§ï¼š</p>
<pre><code class="hljs language-properties" lang="properties"># æ•°æ®åº“è¿æ¥é…ç½®
jdbc.driver=com.mysql.cj.jdbc.Driver
jdbc.url=jdbc:mysql://127.0.0.1:3306/spring_db?useSSL=false&amp;serverTimezone=UTC
jdbc.username=root
jdbc.password=root

# è¿æ¥æ± é€šç”¨é…ç½®
pool.initialSize=5
pool.minIdle=5
pool.maxActive=20
pool.maxWait=60000

# è‡ªå®šä¹‰å±æ€§ - ç”¨äºå•ä¸ªå±æ€§è¯»å–æ¼”ç¤ºï¼ˆä¹Ÿå¯ä»¥ä¸é¢å¤–æ·»åŠ ï¼Œæ³¨å…¥å·²æœ‰å±æ€§ï¼Œå¦‚jdbc.driverï¼‰
book.name=Springå¼€å‘æŒ‡å—
</code></pre>
<p><strong>æ­¥éª¤3ï¼šé…ç½®Springé…ç½®æ–‡ä»¶</strong></p>
<p>åœ¨<code>applicationContext.xml</code>ä¸­å®Œæˆbeané…ç½®ã€propertiesæ–‡ä»¶åŠ è½½å’Œå±æ€§æ³¨å…¥ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"
            http://www.springframework.org/schema/beans
            http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context
            http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- 1. åŠ è½½propertiesé…ç½®æ–‡ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:jdbc.properties"</span>/&gt;</span>
    
    <span class="hljs-comment">&lt;!-- 2. é…ç½®BookDao beanå¹¶æ³¨å…¥å•ä¸ªå±æ€§ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"bookDao"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.itheima.dao.impl.BookDaoImpl"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${book.name}"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ä¹Ÿå¯ä»¥æ³¨å…¥å·²æœ‰å±æ€§ï¼Œå¦‚ jdbc.driver --&gt;</span>
    <span class="hljs-comment">&lt;!-- &lt;bean id="bookDao" class="com.itheima.dao.impl.BookDaoImpl"&gt; --&gt;</span>
        <span class="hljs-comment">&lt;!-- &lt;property name="name" value="${jdbc.driver}"/&gt; --&gt;</span>
    <span class="hljs-comment">&lt;!-- &lt;/bean&gt; --&gt;</span>
    
    <span class="hljs-comment">&lt;!-- 3. æ•°æ®æºé…ç½®ï¼ˆåŸæœ‰çš„ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"druidDataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.alibaba.druid.pool.DruidDataSource"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.driver}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.url}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.username}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.password}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"initialSize"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${pool.initialSize}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"minIdle"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${pool.minIdle}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxActive"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${pool.maxActive}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxWait"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${pool.maxWait}"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<p><strong>æ­¥éª¤4ï¼šåˆ›å»ºæµ‹è¯•è¿è¡Œç±»</strong></p>
<p>Appæµ‹è¯•ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.itheima;

<span class="hljs-keyword">import</span> com.itheima.dao.BookDao;
<span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;
<span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºSpring IOCå®¹å™¨</span>
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"applicationContext.xml"</span>);
        
        <span class="hljs-comment">// 2. ä»å®¹å™¨ä¸­è·å–BookDao bean</span>
        <span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao</span> <span class="hljs-operator">=</span> (BookDao) ctx.getBean(<span class="hljs-string">"bookDao"</span>);
        
        <span class="hljs-comment">// 3. è°ƒç”¨æ–¹æ³•ï¼ŒéªŒè¯å±æ€§æ³¨å…¥æ˜¯å¦æˆåŠŸ</span>
        bookDao.save();
    }
}
</code></pre>
<p><strong>é¢„æœŸè¿è¡Œç»“æœ</strong></p>
<p>å½“è¿è¡ŒAppç±»æ—¶ï¼Œæ§åˆ¶å°åº”è¯¥è¾“å‡ºï¼š</p>
<pre><code class="hljs">book dao save ...Springå¼€å‘æŒ‡å—
</code></pre>
<h4 data-id="heading-22">æ³¨æ„äº‹é¡¹</h4>
<p>åœ¨ä½¿ç”¨SpringåŠ è½½propertiesé…ç½®æ–‡ä»¶æ—¶ï¼Œæœ‰å‡ ä¸ªé‡è¦çš„æ³¨æ„äº‹é¡¹éœ€è¦ç‰¹åˆ«å…³æ³¨ã€‚</p>
<h5 data-id="heading-23">é—®é¢˜ä¸€ï¼šé”®å€¼å¯¹çš„keyä¸º<code>username</code>å¼•å‘çš„é—®é¢˜</h5>
<p><strong>å…·ä½“é—®é¢˜</strong>ï¼šå½“åœ¨propertiesæ–‡ä»¶ä¸­é…ç½®é”®å€¼å¯¹å°†keyè®¾ç½®ä¸º<code>username</code>ï¼Œå¹¶æ‰“å°å±æ€§<code>username</code>æ—¶ï¼Œæ§åˆ¶å°æ˜¾ç¤ºçš„ä¸æ˜¯<code>username</code>çš„å€¼ï¼Œè€Œæ˜¯å½“å‰æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·åã€‚</p>
<p><strong>é—®é¢˜åŸå› </strong>ï¼š<code>&lt;context:property-placeholder/&gt;</code>æ ‡ç­¾ä¸ä»…ä¼šåŠ è½½æŒ‡å®šçš„propertiesæ–‡ä»¶ï¼Œè¿˜ä¼šåŠ è½½ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ï¼Œè€Œä¸”<strong>ç³»ç»Ÿç¯å¢ƒå˜é‡çš„ä¼˜å…ˆçº§æ›´é«˜</strong>ã€‚</p>
<p>åœ¨Windowsç³»ç»Ÿä¸­ï¼Œé€šå¸¸ä¼šæœ‰ä¸€ä¸ª<code>USERNAME</code>ç¯å¢ƒå˜é‡ï¼Œå…¶å€¼ä¸ºå½“å‰ç™»å½•ç”¨æˆ·çš„ç”¨æˆ·åã€‚</p>
<p><strong>æŸ¥çœ‹ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception{
    Map&lt;String, String&gt; env = System.getenv();
    System.out.println(env);
}

<span class="hljs-comment">// System.getenv()ï¼šè°ƒç”¨Javaç³»ç»Ÿç±»çš„æ–¹æ³•ï¼Œè·å–æ‰€æœ‰ç¯å¢ƒå˜é‡</span>
<span class="hljs-comment">// Map&lt;String, String&gt;ï¼šç¯å¢ƒå˜é‡ä»¥"é”®å€¼å¯¹"å½¢å¼å­˜å‚¨</span>
<span class="hljs-comment">//     String(é”®)ï¼šç¯å¢ƒå˜é‡åï¼ˆå¦‚ï¼š`USERNAME`,Â `PATH`ï¼‰</span>
<span class="hljs-comment">//     String(å€¼)ï¼šç¯å¢ƒå˜é‡å€¼ï¼ˆå¦‚ï¼š`zhangsan`,Â `C:\Windows\system32`ï¼‰</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>
<p><strong>æ–¹æ¡ˆ1ï¼šè®¾ç½®system-properties-modeå±æ€§</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- è®¾ç½®ä¸åŠ è½½ç³»ç»Ÿå±æ€§ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"jdbc.properties"</span> 
    <span class="hljs-attr">system-properties-mode</span>=<span class="hljs-string">"NEVER"</span>/&gt;</span>
</code></pre>
<p><code>system-properties-mode</code> çš„å¯é€‰å€¼ï¼š</p>
<ul>
<li><code>ENVER</code>ï¼šä»ä¸åŠ è½½ç³»ç»Ÿå±æ€§</li>
<li><code>FALLBACK</code>ï¼šå¦‚æœæ²¡æœ‰åœ¨æŒ‡å®šå±æ€§ä¸­æ‰¾åˆ°ï¼Œåˆ™å›é€€åˆ°ç³»ç»Ÿå±æ€§ï¼ˆé»˜è®¤å€¼ï¼‰</li>
<li><code>OVERRIDE</code>ï¼šç³»ç»Ÿå±æ€§è¦†ç›–æŒ‡å®šçš„å±æ€§</li>
</ul>
<p><strong>æ–¹æ¡ˆ2ï¼šé¿å…ä½¿ç”¨å†²çªçš„keyåç§°</strong></p>
<pre><code class="hljs language-properties" lang="properties"># ä½¿ç”¨æœ‰å‰ç¼€çš„keyï¼Œé¿å…ä¸ç³»ç»Ÿç¯å¢ƒå˜é‡å†²çª
db.username=root666
jdbc.username=root666
app.username=root666
</code></pre>
<h5 data-id="heading-24">é—®é¢˜äºŒï¼šå¤šä¸ªé…ç½®æ–‡ä»¶çš„å¤šç§åŠ è½½æ–¹å¼</h5>
<p><strong>åœºæ™¯æè¿°</strong>ï¼šå½“é¡¹ç›®ä¸­æœ‰å¤šä¸ªpropertiesé…ç½®æ–‡ä»¶éœ€è¦åŠ è½½æ—¶ï¼ŒSpringæä¾›äº†å¤šç§é…ç½®æ–¹å¼ã€‚</p>
<p><strong>é…ç½®æ–‡ä»¶å†…å®¹ï¼š</strong></p>
<p>jdbc.propertiesï¼š</p>
<pre><code class="hljs language-properties" lang="properties">jdbc.driver=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql://127.0.0.1:3306/spring_db
jdbc.username=root
jdbc.password=root
</code></pre>
<p>jdbc2.propertiesï¼š</p>
<pre><code class="hljs language-properties" lang="properties">username=root666
app.name=å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ
</code></pre>
<p><strong>å¤šç§åŠ è½½æ–¹å¼</strong></p>
<p><strong>æ–¹å¼ä¸€ï¼šæ˜ç¡®åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ç”¨é€—å·åˆ†éš”å¤šä¸ªé…ç½®æ–‡ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"jdbc.properties,jdbc2.properties"</span> 
    <span class="hljs-attr">system-properties-mode</span>=<span class="hljs-string">"NEVER"</span>/&gt;</span>
</code></pre>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>é…ç½®æ–‡ä»¶æ•°é‡è¾ƒå°‘</li>
<li>éœ€è¦ç²¾ç¡®æ§åˆ¶åŠ è½½å“ªäº›æ–‡ä»¶</li>
</ul>
<p><strong>æ–¹å¼äºŒï¼šä½¿ç”¨é€šé…ç¬¦</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- åŠ è½½æ‰€æœ‰propertiesæ–‡ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"*.properties"</span> 
    <span class="hljs-attr">system-properties-mode</span>=<span class="hljs-string">"NEVER"</span>/&gt;</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>ä¸å¤Ÿç²¾ç¡®ï¼Œå¯èƒ½åŠ è½½åˆ°ä¸éœ€è¦çš„æ–‡ä»¶</li>
<li>æ–‡ä»¶åŠ è½½é¡ºåºä¸ç¡®å®š</li>
</ul>
<p><strong>æ–¹å¼ä¸‰ï¼šä½¿ç”¨classpathå‰ç¼€</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä»ç±»è·¯å¾„æ ¹ç›®å½•åŠ è½½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:*.properties"</span> 
    <span class="hljs-attr">system-properties-mode</span>=<span class="hljs-string">"NEVER"</span>/&gt;</span>
</code></pre>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>æ ‡å‡†å†™æ³•</li>
<li>åªæŸ¥æ‰¾å½“å‰é¡¹ç›®çš„ç±»è·¯å¾„</li>
<li>ä¸ä¼šæŸ¥æ‰¾ä¾èµ–é¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶</li>
</ul>
<p><strong>æ–¹å¼å››ï¼šä½¿ç”¨classpath*å‰ç¼€</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä»æ‰€æœ‰ç±»è·¯å¾„åŠ è½½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath*:*.properties"</span> 
    <span class="hljs-attr">system-properties-mode</span>=<span class="hljs-string">"NEVER"</span>/&gt;</span>
</code></pre>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>æŸ¥æ‰¾å½“å‰é¡¹ç›®åŠæ‰€æœ‰ä¾èµ–é¡¹ç›®çš„ç±»è·¯å¾„</li>
<li>é€‚ç”¨äºå¤šæ¨¡å—é¡¹ç›®</li>
</ul>
<blockquote>
<p><code>classpath:</code>ä¸<code>classpath:</code>çš„åŒºåˆ«</p>




















<table><thead><tr><th>å‰ç¼€</th><th>æœç´¢èŒƒå›´</th><th>è¡Œä¸ºç‰¹ç‚¹</th></tr></thead><tbody><tr><td><code>classpath:</code></td><td>å½“å‰é¡¹ç›®çš„ç±»è·¯å¾„</td><td>æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„èµ„æºå°±åœæ­¢</td></tr><tr><td><code>classpath*:</code></td><td>æ‰€æœ‰ç±»è·¯å¾„ï¼ˆå½“å‰é¡¹ç›®+æ‰€æœ‰ä¾èµ–ï¼‰</td><td>æœç´¢æ‰€æœ‰ç±»è·¯å¾„ï¼Œè¿”å›æ‰€æœ‰åŒ¹é…çš„èµ„æº</td></tr></tbody></table>
</blockquote>
<h5 data-id="heading-25">å…¶ä»–é‡è¦è§„åˆ™</h5>
<ol>
<li>å±æ€§è¦†ç›–è§„åˆ™
å¦‚æœå¤šä¸ªæ–‡ä»¶ä¸­æœ‰ç›¸åŒçš„keyï¼ŒååŠ è½½çš„ä¼šè¦†ç›–å…ˆåŠ è½½çš„</li>
</ol>
<pre><code class="hljs language-properties" lang="properties"># file1.properties
app.name=é»˜è®¤åç§°

# file2.properties  
app.name=è¦†ç›–åçš„åç§°
</code></pre>
<ol start="2">
<li>ç¼–ç é—®é¢˜</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- æŒ‡å®špropertiesæ–‡ä»¶ç¼–ç  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:*.properties"</span>
    <span class="hljs-attr">file-encoding</span>=<span class="hljs-string">"UTF-8"</span>
    <span class="hljs-attr">system-properties-mode</span>=<span class="hljs-string">"NEVER"</span>/&gt;</span>
</code></pre>
<ol start="3">
<li>å¿½ç•¥æœªæ‰¾åˆ°çš„propertiesé…ç½®æ–‡ä»¶</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å¿½ç•¥ä¸å­˜åœ¨çš„é…ç½®æ–‡ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span>
    <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:required.properties,
              classpath:optional.properties"</span>
    <span class="hljs-attr">ignore-resource-not-found</span>=<span class="hljs-string">"true"</span>
    <span class="hljs-attr">system-properties-mode</span>=<span class="hljs-string">"NEVER"</span>/&gt;</span>
</code></pre>
<ol start="4">
<li>å¿½ç•¥æ— æ³•è§£æçš„å ä½ç¬¦</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å¿½ç•¥æ— æ³•è§£æçš„${}å ä½ç¬¦ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"classpath:*.properties"</span>
    <span class="hljs-attr">ignore-unresolvable</span>=<span class="hljs-string">"true"</span>
    <span class="hljs-attr">system-properties-mode</span>=<span class="hljs-string">"NEVER"</span>/&gt;</span>
</code></pre>
<h2 data-id="heading-26">æ ¸å¿ƒå®¹å™¨è¯¦è§£</h2>
<p>Springæ ¸å¿ƒå®¹å™¨æ˜¯Springæ¡†æ¶çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œä¸»è¦è´Ÿè´£Beançš„åˆ›å»ºã€é…ç½®å’Œç®¡ç†ã€‚æˆ‘ä»¬å¯ä»¥å°†æ ¸å¿ƒå®¹å™¨ç®€å•ç†è§£ä¸º<code>ApplicationContext</code>ï¼Œå®ƒæ˜¯æ•´ä¸ªIOCï¼ˆæ§åˆ¶åè½¬ï¼‰åŠŸèƒ½çš„åŸºç¡€å®ç°ã€‚</p>
<h3 data-id="heading-27">ä¸¤ç§å®¹å™¨çš„åˆ›å»ºæ–¹å¼</h3>
<p><strong>ClassPathXmlApplicationContextï¼ˆæ¨èï¼‰</strong></p>
<p>ç±»è·¯å¾„ä¸‹çš„XMLé…ç½®æ–‡ä»¶æ–¹å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"applicationContext.xml"</span>);
</code></pre>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä»é¡¹ç›®çš„classpathä¸­æŸ¥æ‰¾é…ç½®æ–‡ä»¶</li>
<li>è·¯å¾„ç›¸å¯¹ç®€æ´ï¼Œä¾¿äºé¡¹ç›®è¿ç§»</li>
<li>å®é™…å¼€å‘ä¸­æœ€å¸¸ç”¨çš„æ–¹å¼</li>
</ul>
<p><strong>FileSystemXmlApplicationContext</strong></p>
<p>æ–‡ä»¶ç³»ç»Ÿä¸‹çš„XMLé…ç½®æ–‡ä»¶æ–¹å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileSystemXmlApplicationContext</span>(<span class="hljs-string">"D:\\workspace\\spring\\src\\main\\resources\\applicationContext.xml"</span>);
</code></pre>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä»æ–‡ä»¶ç³»ç»Ÿçš„ç»å¯¹è·¯å¾„ä¸­æŸ¥æ‰¾é…ç½®æ–‡ä»¶</li>
<li>éœ€è¦å†™å®Œæ•´çš„ç»å¯¹è·¯å¾„</li>
<li>é¡¹ç›®ä½ç½®å˜åŒ–æ—¶éœ€è¦ä¿®æ”¹ä»£ç ï¼Œè€¦åˆåº¦é«˜</li>
<li>äº†è§£å³å¯ï¼Œ<strong>ä¸æ¨èä½¿ç”¨</strong></li>
</ul>
<h3 data-id="heading-28">Beançš„ä¸‰ç§è·å–æ–¹å¼</h3>
<p><strong>é€šè¿‡åç§°è·å–ï¼ˆéœ€è¦ç±»å‹è½¬æ¢ï¼‰</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao</span> <span class="hljs-operator">=</span> (BookDao) ctx.getBean(<span class="hljs-string">"bookDao"</span>);
</code></pre>
<p>ä¼˜ç¼ºç‚¹ï¼š</p>
<ul>
<li>âœ… ç®€å•ç›´æ¥</li>
<li>âŒ éœ€è¦æ‰‹åŠ¨ç±»å‹è½¬æ¢</li>
<li>âŒ <strong>ç±»å‹ä¸å®‰å…¨</strong>ï¼Œå¯èƒ½æŠ›å‡ºClassCastException</li>
</ul>
<p><strong>é€šè¿‡åç§°å’Œç±»å‹è·å–</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao</span> <span class="hljs-operator">=</span> ctx.getBean(<span class="hljs-string">"bookDao"</span>, BookDao.class);
</code></pre>
<p>ä¼˜ç¼ºç‚¹ï¼š</p>
<ul>
<li>âœ… ç±»å‹å®‰å…¨ï¼Œæ— éœ€å¼ºåˆ¶è½¬æ¢</li>
<li>âŒ éœ€è¦<strong>å¤šä¼ é€’ä¸€ä¸ªç±»å‹å‚æ•°</strong></li>
</ul>
<p><strong>é€šè¿‡ç±»å‹è·å–</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao</span> <span class="hljs-operator">=</span> ctx.getBean(BookDao.class);
</code></pre>
<p>ä¼˜ç¼ºç‚¹ï¼š</p>
<ul>
<li>âœ… ä»£ç ç®€æ´ï¼Œæ— éœ€beanåç§°</li>
<li>âŒ è¦æ±‚å®¹å™¨ä¸­è¯¥ç±»å‹<strong>åªèƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„bean</strong></li>
<li>âŒ å¤šä¸ªåŒç±»å‹beanæ—¶ä¼šæŠ›å‡ºå¼‚å¸¸</li>
</ul>
<h3 data-id="heading-29">å®¹å™¨ç±»å±‚æ¬¡ç»“æ„</h3>
<p>(1)åœ¨IDEAä¸­åŒå‡»<code>shift</code>ï¼Œè¾“å…¥BeanFactory <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d566be7ec8546a2ae5c660ae4eb6d10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=x5W9MB3Q8NSQqSYV%2BjCP5vRVQTA%3D" alt="image.png" width="85%" loading="lazy"/></p>
<p>(2)ç‚¹å‡»è¿›å…¥BeanFactoryç±»ï¼Œctrl+hï¼Œå°±èƒ½æŸ¥çœ‹åˆ°å¦‚ä¸‹ç»“æ„çš„å±‚æ¬¡å…³ç³» <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8704ec8f0a5a42d3bf19163ad37c8054~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=lXqM%2BzrW%2Fz8ozaAz%2B%2BZFUPBiHuM%3D" alt="image.png" width="100%" loading="lazy"/></p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå®¹å™¨ç±»ä¹Ÿæ˜¯ä»æ— åˆ°æœ‰æ ¹æ®éœ€è¦ä¸€å±‚å±‚å åŠ ä¸Šæ¥çš„ï¼Œç†è§£ä¸‹è¿™ç§è®¾è®¡æ€æƒ³â€”â€”<strong>æ¥å£åˆ†å±‚</strong>ï¼š</p>
<ul>
<li>æ¯å±‚æ¥å£éƒ½ä¸“æ³¨äºç‰¹å®šçš„åŠŸèƒ½</li>
<li>ä¸Šå±‚æ¥å£ç»§æ‰¿ä¸‹å±‚æ¥å£çš„åŠŸèƒ½</li>
<li>è¿™ç§è®¾è®¡ä½¿å¾—Springå®¹å™¨å…·æœ‰è‰¯å¥½çš„æ‰©å±•æ€§å’Œçµæ´»æ€§</li>
</ul>
<h3 data-id="heading-30">BeanFactoryçš„ä½¿ç”¨ä¸å»¶è¿ŸåŠ è½½</h3>
<p><strong>BeanFactoryåŸºç¡€ç”¨æ³•</strong></p>
<p>ä½¿ç”¨BeanFactoryæ¥åˆ›å»ºIOCå®¹å™¨çš„å…·ä½“å®ç°æ–¹å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppForBeanFactory</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºèµ„æºå¯¹è±¡</span>
        <span class="hljs-type">Resource</span> <span class="hljs-variable">resources</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathResource</span>(<span class="hljs-string">"applicationContext.xml"</span>);
        
        <span class="hljs-comment">// 2. åˆ›å»ºBeanFactoryå®¹å™¨</span>
        <span class="hljs-type">BeanFactory</span> <span class="hljs-variable">bf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">XmlBeanFactory</span>(resources);
        
        <span class="hljs-comment">// 3. è·å–Beanå¯¹è±¡</span>
        <span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao</span> <span class="hljs-operator">=</span> bf.getBean(BookDao.class);
        bookDao.save();
    }
}
</code></pre>
<p><strong>BeanFactoryä¸ ApplicationContext åŠ è½½æ—¶æœºå¯¹æ¯”</strong></p>




















<table><thead><tr><th>å®¹å™¨ç±»å‹</th><th>åŠ è½½æ—¶æœº</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>BeanFactory</strong></td><td>å»¶è¿ŸåŠ è½½</td><td>åªæœ‰åœ¨è°ƒç”¨<code>getBean()</code>æ—¶æ‰åˆ›å»ºbeanå®ä¾‹</td></tr><tr><td><strong>ApplicationContext</strong></td><td>ç«‹å³åŠ è½½</td><td>å®¹å™¨åˆå§‹åŒ–æ—¶å°±åˆ›å»ºæ‰€æœ‰é…ç½®çš„beanå®ä¾‹</td></tr></tbody></table>
<blockquote>
<p>ä½¿ç”¨BeanFactoryï¼šä¸è°ƒç”¨getBean()æ—¶ï¼Œæ„é€ å‡½æ•°ä¸ä¼šæ‰§è¡Œ<br/>
ä½¿ç”¨ApplicationContextï¼šå®¹å™¨åˆ›å»ºæ—¶ï¼Œæ„é€ å‡½æ•°ç«‹å³æ‰§è¡Œ</p>
</blockquote>
<p><strong>ApplicationContextå®ç°å»¶è¿ŸåŠ è½½â€”â€”<code>lazy-init="true"</code></strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"
            http://www.springframework.org/schema/beans 
            http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- ä½¿ç”¨lazy-init="true"å®ç°å»¶è¿ŸåŠ è½½ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"bookDao"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.itheima.dao.impl.BookDaoImpl"</span> <span class="hljs-attr">lazy-init</span>=<span class="hljs-string">"true"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<h3 data-id="heading-31">å°ç»“</h3>
<p><strong>beanç›¸å…³</strong></p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/521e098230154c3bbc0fbe32d1a3a2da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=DEGUkV%2FBIXFRLQxYmBsgqM3dQXs%3D" alt="image.png" width="80%" loading="lazy"/>
<p><strong>ä¾èµ–æ³¨å…¥ç›¸å…³</strong></p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b03c104f0cda464094803a14cbd27991~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=fQ1TEHdidkxCWywL3665WpAQcS8%3D" alt="image.png" width="100%" loading="lazy"/>
<h2 data-id="heading-32">Spring IOC/DI æ³¨è§£å¼€å‘</h2>
<p>Spring çš„ IOC/DI é…ç½®å¼€å‘è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†åœ¨é…ç½®æ–‡ä»¶çš„ç¼–å†™ä¸Šç›¸å¯¹å¤æ‚ã€‚ä¸ºäº†çœŸæ­£ç®€åŒ–ä»£ç å¼€å‘ï¼ŒSpring æä¾›äº†æ³¨è§£å¼€å‘æ–¹å¼ã€‚</p>
<p>æˆ‘ä»¬å°†ä»ä¸¤ä¸ªä¸»è¦æ–¹é¢è®²è§£ æ³¨è§£å¼€å‘ï¼š</p>
<ol>
<li><strong>æ³¨è§£å¼€å‘å®šä¹‰ Bean</strong>ï¼ˆåŸºäº 2.5 ç‰ˆæœ¬æ³¨è§£ï¼‰</li>
<li><strong>çº¯æ³¨è§£å¼€å‘</strong>ï¼ˆåŸºäº 3.0 ç‰ˆæœ¬æ³¨è§£ï¼‰</li>
</ol>
<h3 data-id="heading-33">ç¯å¢ƒå‡†å¤‡</h3>
<p>å»ºç«‹é¡¹ç›®ç»“æ„ å’Œ åˆå§‹ä»£ç  åŒå‰é¢Â <a href="https://juejin.cn/spost/7556549862562775050#heading-8" title="https://juejin.cn/spost/7556549862562775050#heading-8" target="_blank">IOCå’ŒDIå…¥é—¨æ¡ˆä¾‹-ä»£ç å®ç°</a>Â çš„åŸºæœ¬ä¸€è‡´ã€‚</p>
<p>è¿è¡Œç±»Appæ”¹ä¸ºï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"applicationContext.xml"</span>);
        <span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao</span> <span class="hljs-operator">=</span> (BookDao) ctx.getBean(<span class="hljs-string">"bookDao"</span>);
        System.out.println(bookDao);
    }
}
</code></pre>
<h3 data-id="heading-34">æ³¨è§£å¼€å‘å®šä¹‰bean</h3>
<h4 data-id="heading-35">å®ç°æ­¥éª¤</h4>
<p><strong>æ­¥éª¤ 1: åˆ é™¤åŸ XML é…ç½®</strong></p>
<p>åˆ é™¤ XML é…ç½®æ–‡ä»¶ä¸­çš„æ‰€æœ‰<code>&lt;bean&gt;</code> æ ‡ç­¾é…ç½®</p>
<p><strong>æ­¥éª¤ 2: Dao å±‚æ·»åŠ æ³¨è§£</strong></p>
<p>åœ¨ BookDaoImpl ç±»ä¸Šæ·»åŠ  <code>@Component</code> æ³¨è§£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component("bookDao")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ..."</span>);
    }
}
</code></pre>
<p><strong>é‡è¦è¯´æ˜ï¼š</strong></p>
<ul>
<li>æ³¨è§£åº”è¯¥æ·»åŠ åœ¨å…·ä½“çš„å®ç°ç±»ä¸Šï¼Œè€Œä¸èƒ½æ·»åŠ åœ¨æ¥å£ä¸Š</li>
<li><code>@Component("bookDao")</code> ä¸­çš„ <code>"bookDao"</code> æŒ‡å®šäº† Bean çš„ IDï¼ˆè€Œé<code>name</code>å±æ€§ï¼ï¼‰</li>
</ul>
<p><strong>XML ä¸æ³¨è§£é…ç½®å¯¹åº”å…³ç³»ï¼š</strong></p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7dc3b4a1551348cf9b377fbdde79cc69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=%2FEsyDnPkZXrwes26ZzzK%2BU03QO4%3D" alt="image.png" width="100%" loading="lazy"/>
<p><strong>æ­¥éª¤ 3: é…ç½®åŒ…æ‰«æ</strong></p>
<p>ä¸ºäº†è®©Springæ¡†æ¶èƒ½å¤Ÿæ‰«æåˆ°å†™åœ¨ç±»ä¸Šçš„æ³¨è§£ï¼Œåœ¨ XML é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  å¯ç”¨ç»„ä»¶æ‰«æåŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"
            http://www.springframework.org/schema/beans 
            http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context 
            http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- é…ç½®ç»„ä»¶æ‰«æ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">"com.itheima"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<p><strong>é…ç½®è¯´æ˜ï¼š</strong></p>

















<table><thead><tr><th>é…ç½®é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>context:component-scan</code></td><td>å¯ç”¨ç»„ä»¶æ‰«æåŠŸèƒ½</td></tr><tr><td><code>base-package</code></td><td>æŒ‡å®šè¦æ‰«æçš„åŒ…è·¯å¾„ï¼Œå°†æ‰«ææŒ‡å®šåŒ…åŠå…¶å­åŒ…ä¸­çš„æ‰€æœ‰ç±»ä¸Šçš„æ³¨è§£</td></tr></tbody></table>
<p><strong>åŒ…æ‰«æç­–ç•¥å»ºè®®ï¼š</strong></p>
<ul>
<li><strong>ç²¾ç»†è·¯å¾„</strong>ï¼ˆå¦‚ï¼š<code>com.itheima.dao.impl</code>ï¼‰
<ul>
<li>æ‰«æèŒƒå›´å°ï¼Œé€Ÿåº¦å¿«</li>
<li>éœ€è¦é…ç½®å¤šä¸ªåŒ…è·¯å¾„</li>
</ul>
</li>
<li><strong>ç²—ç²’åº¦è·¯å¾„</strong>ï¼ˆå¦‚ï¼š<code>com.itheima</code>ï¼‰
<ul>
<li>æ‰«æèŒƒå›´å¤§ï¼Œé€Ÿåº¦ç¨æ…¢</li>
<li>é…ç½®ç®€å•ï¼Œæ¨èä½¿ç”¨</li>
</ul>
</li>
</ul>
<p><strong>å®è·µå»ºè®®ï¼š</strong> ä¸€èˆ¬æ‰«æåˆ°é¡¹ç›®çš„ç»„ç»‡åç§°ï¼ˆMaven çš„ groupIdï¼‰å³å¯ï¼ˆå¦‚ï¼šcom.itheimaï¼‰ã€‚</p>
<p><strong>æ­¥éª¤ 4: è¿è¡Œæµ‹è¯•</strong></p>
<p>è¿è¡Œåº”ç”¨ç¨‹åºéªŒè¯é…ç½®ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"applicationContext.xml"</span>);
        <span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao</span> <span class="hljs-operator">=</span> (BookDao) ctx.getBean(<span class="hljs-string">"bookDao"</span>);
        System.out.println(bookDao);
    }
}
</code></pre>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">com<span class="hljs-selector-class">.itheima</span><span class="hljs-selector-class">.dao</span><span class="hljs-selector-class">.impl</span>. BookDaoImpl<span class="hljs-keyword">@73d4cc9e</span>
</code></pre>
<p><strong>æ­¥éª¤ 5: Service å±‚æ·»åŠ æ³¨è§£</strong></p>
<p>åœ¨ BookServiceImpl ç±»ä¸Šæ·»åŠ  <code>@Component</code> æ³¨è§£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookService</span> {
    <span class="hljs-keyword">private</span> BookDao bookDao;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setBookDao</span><span class="hljs-params">(BookDao bookDao)</span> {
        <span class="hljs-built_in">this</span>.bookDao = bookDao;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book service save ..."</span>);
        bookDao.save();
    }
}
</code></pre>
<p><strong>æ­¥éª¤ 6: éªŒè¯ Service Bean</strong></p>
<p>æµ‹è¯• Service å±‚çš„ Bean å®šä¹‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"applicationContext.xml"</span>);
        <span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao</span> <span class="hljs-operator">=</span> (BookDao) ctx.getBean(<span class="hljs-string">"bookDao"</span>);
        System.out.println(bookDao);
        
        <span class="hljs-comment">// æŒ‰ç±»å‹è·å– Bean</span>
        <span class="hljs-type">BookService</span> <span class="hljs-variable">bookService</span> <span class="hljs-operator">=</span> ctx.getBean(BookService.class);
        System.out.println(bookService);
    }
}
</code></pre>
<p><strong>Bean åç§°è¯´æ˜ï¼š</strong></p>
<ul>
<li>å½“ <code>@Component</code> ä¸æŒ‡å®šåç§°æ—¶ï¼Œä½¿ç”¨é»˜è®¤åç§°æŒ‡å®š Bean çš„ ID</li>
<li>é»˜è®¤åç§°ï¼š<strong>ç±»åé¦–å­—æ¯å°å†™</strong>ï¼ˆå¦‚ï¼š<code>bookServiceImpl</code>ï¼‰</li>
<li>ä¹Ÿå¯ä»¥é€šè¿‡é»˜è®¤åç§°è·å– Beanï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">BookService</span> <span class="hljs-variable">bookService</span> <span class="hljs-operator">=</span> (BookService) ctx.getBean(<span class="hljs-string">"bookServiceImpl"</span>);
<span class="hljs-comment">// é»˜è®¤åç§°æ˜¯bookServiceImpl</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-36">ç»„ä»¶æ³¨è§£è¯¦è§£</h4>
<p><strong>æ³¨è§£å±‚æ¬¡ç»“æ„</strong></p>
<p>Spring æä¾›äº† <code>@Component</code> åŠå…¶è¡ç”Ÿæ³¨è§£ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Component</span>
    â”œâ”€â”€ <span class="hljs-variable">@Controller</span>    (è¡¨ç°å±‚)
    â”œâ”€â”€ <span class="hljs-variable">@Service</span>       (ä¸šåŠ¡å±‚)
    â””â”€â”€ <span class="hljs-variable">@Repository</span>    (æ•°æ®å±‚)
</code></pre>
<p><strong>å„å±‚æ³¨è§£è¯´æ˜</strong></p>






























<table><thead><tr><th>æ³¨è§£</th><th>é€‚ç”¨å±‚æ¬¡</th><th>ä¸»è¦ç”¨é€”</th></tr></thead><tbody><tr><td><code>@Controller</code></td><td>è¡¨ç°å±‚</td><td>æ ‡æ³¨æ§åˆ¶å™¨ç±»</td></tr><tr><td><code>@Service</code></td><td>ä¸šåŠ¡å±‚</td><td>æ ‡æ³¨ä¸šåŠ¡é€»è¾‘ç±»</td></tr><tr><td><code>@Repository</code></td><td>æ•°æ®å±‚</td><td>æ ‡æ³¨æ•°æ®è®¿é—®ç±»</td></tr><tr><td><code>@Component</code></td><td>é€šç”¨å±‚</td><td>æ ‡æ³¨å…¶ä»–ç»„ä»¶ç±»</td></tr></tbody></table>
<p><strong>æ³¨è§£è¯¦ç»†è¯´æ˜</strong></p>





























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åç§°</td><td>@Component/@Controller/@Service/@Repository</td></tr><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®è¯¥ç±»ä¸º Spring ç®¡ç†çš„ Bean</td></tr><tr><td>å±æ€§</td><td><code>value</code>ï¼šå®šä¹‰ Bean çš„ IDï¼ˆé»˜è®¤å€¼ä¸ºç±»åé¦–å­—æ¯å°å†™ï¼‰</td></tr></tbody></table>
<p><strong>åˆ†å±‚æ³¨è§£ä½¿ç”¨ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ•°æ®å±‚</span>
<span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> {
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// ä¸šåŠ¡å±‚</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// è¡¨ç°å±‚</span>
<span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// å…¶ä»–ç»„ä»¶</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomComponent</span> {
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h3 data-id="heading-37">çº¯æ³¨è§£å¼€å‘æ¨¡å¼</h3>
<p>Spring 3.0ç‰ˆæœ¬å¼€å§‹æ”¯æŒçº¯æ³¨è§£å¼€å‘æ¨¡å¼ï¼Œä½¿ç”¨Javaç±»æ›¿ä»£ä¼ ç»Ÿçš„XMLé…ç½®æ–‡ä»¶ï¼Œå¤§å¤§ç®€åŒ–äº†Springåº”ç”¨çš„é…ç½®è¿‡ç¨‹ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚</p>
<h4 data-id="heading-38">å®ç°æ­¥éª¤</h4>
<p><strong>æ­¥éª¤ 1: åˆ›å»ºé…ç½®ç±»</strong></p>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ™®é€šçš„Javaç±»ä½œä¸ºé…ç½®ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
}
</code></pre>
<p><strong>æ­¥éª¤ 2: æ ‡è¯†é…ç½®ç±»</strong></p>
<p>ä½¿ç”¨<code>@Configuration</code>æ³¨è§£æ ‡è¯†è¯¥ç±»ä¸ºSpringé…ç½®ç±»ï¼Œæ›¿ä»£ <code>applicationContext.xml</code>é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
}
</code></pre>
<p><strong>æ­¥éª¤ 3:  é…ç½®åŒ…æ‰«æ</strong></p>
<p>ä½¿ç”¨<code>@ComponentScan</code>æ³¨è§£é…ç½®ç»„ä»¶æ‰«æè·¯å¾„ï¼Œæ›¿ä»£ XMLä¸­çš„<code>&lt;context:component-scan/&gt;</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@ComponentScan("com.itheima")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
}
</code></pre>
<p><strong>æ­¥éª¤ 4: åˆ›å»ºè¿è¡Œç±»å¹¶æ‰§è¡Œ</strong></p>
<p>åˆ›å»ºæ–°çš„è¿è¡Œç±»ï¼Œä½¿ç”¨æ³¨è§£é…ç½®æ–¹å¼åˆå§‹åŒ–Springå®¹å™¨ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppForAnnotation</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åŠ è½½é…ç½®ç±»åˆå§‹åŒ–å®¹å™¨</span>
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);
        
        <span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao</span> <span class="hljs-operator">=</span> (BookDao) ctx.getBean(<span class="hljs-string">"bookDao"</span>);
        System.out.println(bookDao);
        
        <span class="hljs-type">BookService</span> <span class="hljs-variable">bookService</span> <span class="hljs-operator">=</span> ctx.getBean(BookService.class);
        System.out.println(bookService);
    }
}
</code></pre>
<h4 data-id="heading-39">æ ¸å¿ƒæ³¨è§£è¯¦è§£</h4>
<p><strong><code>@Configuration</code></strong></p>





























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åç§°</strong></td><td>@Configuration</td></tr><tr><td><strong>ç±»å‹</strong></td><td>ç±»æ³¨è§£</td></tr><tr><td><strong>ä½ç½®</strong></td><td>ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td><strong>ä½œç”¨</strong></td><td>æ ‡è¯†è¯¥ç±»ä¸ºSpringé…ç½®ç±»</td></tr><tr><td><strong>å±æ€§</strong></td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šå®šä¹‰beançš„id</td></tr></tbody></table>
<p><strong><code>@ComponentScan</code></strong></p>

































<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åç§°</strong></td><td>@ComponentScan</td></tr><tr><td><strong>ç±»å‹</strong></td><td>ç±»æ³¨è§£</td></tr><tr><td><strong>ä½ç½®</strong></td><td>ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td><strong>ä½œç”¨</strong></td><td>è®¾ç½®Springé…ç½®ç±»æ‰«æè·¯å¾„ï¼Œç”¨äºåŠ è½½ä½¿ç”¨æ³¨è§£æ ¼å¼å®šä¹‰çš„bean</td></tr><tr><td><strong>å±æ€§</strong></td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šæ‰«æè·¯å¾„ï¼Œæ­¤è·¯å¾„å¯ä»¥é€å±‚å‘ä¸‹æ‰«æ</td></tr><tr><td><strong>å¤šåŒ…æ‰«æé…ç½®</strong></td><td>å¤šä¸ªæ•°æ®ç”¨æ•°ç»„æ ¼å¼ï¼ˆå¦‚ï¼š<code>@ComponentScan({"com.itheima.service", "com.itheima.dao"})</code>ï¼‰</td></tr></tbody></table>
<p><strong>æ³¨è§£æ›¿ä»£å¯¹è±¡</strong>ï¼š</p>
<ul>
<li><code>@Configuration</code>ï¼šæ ‡è¯†é…ç½®ç±»ï¼Œæ›¿ä»£XMLé…ç½®æ–‡ä»¶</li>
<li><code>@ComponentScan</code>ï¼šé…ç½®ç»„ä»¶æ‰«æè·¯å¾„ï¼Œæ›¿ä»£<code>&lt;context:component-scan/&gt;</code></li>
</ul>
<h4 data-id="heading-40">ä¸¤ç§å®¹å™¨åˆå§‹åŒ–æ–¹å¼</h4>
<p><strong>åŠ è½½XMLé…ç½®æ–‡ä»¶åˆå§‹åŒ–å®¹å™¨</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"applicationContext.xml"</span>);
</code></pre>
<p><strong>åŠ è½½é…ç½®ç±»åˆå§‹åŒ–å®¹å™¨</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);
</code></pre>
<ul>
<li><code>ClassPathXmlApplicationContext</code>ï¼šç”¨äºåŠ è½½XMLé…ç½®æ–‡ä»¶</li>
<li><code>AnnotationConfigApplicationContext</code>ï¼šç”¨äºåŠ è½½é…ç½®ç±»</li>
</ul>
<h3 data-id="heading-41">æ³¨è§£å¼€å‘Beanä½œç”¨èŒƒå›´ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†</h3>
<p>åœ¨ä½¿ç”¨æ³¨è§£å®ŒæˆBeançš„åŸºæœ¬ç®¡ç†åï¼Œæœ¬èŠ‚å°†å­¦ä¹ å¦‚ä½•é€šè¿‡æ³¨è§£é…ç½®Beançš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸï¼Œæ›¿ä»£ä¹‹å‰é€šè¿‡XMLé…ç½®å®ç°çš„åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-42">ç¯å¢ƒå‡†å¤‡</h4>
<ol>
<li><strong>åˆ›å»ºMavené¡¹ç›®</strong></li>
<li><strong>æ·»åŠ Springä¾èµ–</strong></li>
<li><strong>åˆ›å»ºSpringé…ç½®ç±»</strong></li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@ComponentScan("com.itheima")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
}
</code></pre>
<ol start="4">
<li><strong>æ ¸å¿ƒç±»å®šä¹‰</strong></li>
</ol>
<p><strong>BookDaoæ¥å£</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span>;
}
</code></pre>
<p><strong>BookDaoImplå®ç°ç±»</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ..."</span>);
    }
}
</code></pre>
<p><strong>åº”ç”¨ç¨‹åºå…¥å£</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">AnnotationConfigApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);
        <span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao1</span> <span class="hljs-operator">=</span> ctx.getBean(BookDao.class);
        <span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao2</span> <span class="hljs-operator">=</span> ctx.getBean(BookDao.class);
        System.out.println(bookDao1);
        System.out.println(bookDao2);
    }
}
</code></pre>
<h4 data-id="heading-43">Beançš„ä½œç”¨èŒƒå›´ @Scope</h4>
<p><strong>é»˜è®¤è¡Œä¸ºéªŒè¯</strong></p>
<p>è¿è¡ŒAppç±»ï¼Œæ§åˆ¶å°è¾“å‡ºæ˜¾ç¤ºä¸¤ä¸ªç›¸åŒçš„åœ°å€ï¼Œè¡¨æ˜<strong>é»˜è®¤æƒ…å†µä¸‹Beanæ˜¯å•ä¾‹çš„</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">com.itheima.dao.<span class="hljs-symbol">BookDaoImpl@</span>5e025e70
com.itheima.dao.<span class="hljs-symbol">BookDaoImpl@</span>5e025e70
</code></pre>
<p><strong>é…ç½®éå•ä¾‹ä½œç”¨åŸŸ</strong></p>
<p>ä½¿ç”¨<code>@Scope</code>æ³¨è§£å°†BookDaoImplé…ç½®ä¸ºéå•ä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Repository</span>
<span class="hljs-meta">@Scope("prototype")</span>  <span class="hljs-comment">// è®¾ç½®Beanä½œç”¨èŒƒå›´ä¸ºéå•ä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ..."</span>);
    }
}
</code></pre>
<p>å†æ¬¡è¿è¡ŒAppç±»ï¼Œè¾“å‡ºæ˜¾ç¤ºä¸¤ä¸ªä¸åŒçš„åœ°å€ï¼Œè¯æ˜Beanå·²å˜ä¸ºéå•ä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">com.itheima.dao.<span class="hljs-symbol">BookDaoImpl@</span>5e025e70
com.itheima.dao.<span class="hljs-symbol">BookDaoImpl@</span>1d296da
</code></pre>
<p><strong>æ³¨è§£è¯¦è§£ï¼š@Scope</strong></p>





























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åç§°</td><td>@Scope</td></tr><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®è¯¥ç±»åˆ›å»ºå¯¹è±¡çš„ä½œç”¨èŒƒå›´ï¼Œæ§åˆ¶åˆ›å»ºçš„Beanæ˜¯å¦ä¸ºå•ä¾‹å¯¹è±¡</td></tr><tr><td>å±æ€§</td><td>valueï¼šå®šä¹‰Beanä½œç”¨èŒƒå›´<br/><strong>é»˜è®¤å€¼<code>singleton</code>ï¼ˆå•ä¾‹ï¼‰</strong><br/><strong>å¯é€‰å€¼<code>prototype</code>ï¼ˆéå•ä¾‹ï¼‰</strong></td></tr></tbody></table>
<h4 data-id="heading-44">Beançš„ç”Ÿå‘½å‘¨æœŸç®¡ç† @PostConstructã€@PreDestroy</h4>
<h5 data-id="heading-45">æ–¹æ³•å®šä¹‰ä¸æ³¨è§£é…ç½®</h5>
<p><strong>é€šè¿‡ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å®šä¹‰</strong></p>
<p>åœ¨BookDaoImplä¸­æ·»åŠ åˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ..."</span>);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"init ..."</span>);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"destroy ..."</span>);
    }
}
</code></pre>
<p><strong>é€šè¿‡ç”Ÿå‘½å‘¨æœŸæ³¨è§£é…ç½®</strong></p>
<p>ä½¿ç”¨æ³¨è§£æ ‡è¯†åˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ..."</span>);
    }
    
    <span class="hljs-meta">@PostConstruct</span>  <span class="hljs-comment">// åœ¨æ„é€ æ–¹æ³•ä¹‹åæ‰§è¡Œï¼Œæ›¿ä»£init-method</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"init ..."</span>);
    }
    
    <span class="hljs-meta">@PreDestroy</span>     <span class="hljs-comment">// åœ¨é”€æ¯æ–¹æ³•ä¹‹å‰æ‰§è¡Œï¼Œæ›¿ä»£destroy-method</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"destroy ..."</span>);
    }
}
</code></pre>
<p><strong>éªŒè¯ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</strong></p>
<p>ä¿®æ”¹Appç±»ä»¥è§¦å‘é”€æ¯æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">AnnotationConfigApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);
        <span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao1</span> <span class="hljs-operator">=</span> ctx.getBean(BookDao.class);
        <span class="hljs-type">BookDao</span> <span class="hljs-variable">bookDao2</span> <span class="hljs-operator">=</span> ctx.getBean(BookDao.class);
        System.out.println(bookDao1);
        System.out.println(bookDao2);
        ctx.close(); <span class="hljs-comment">// å…³é—­å®¹å™¨ï¼Œè§¦å‘é”€æ¯æ–¹æ³•</span>
    }
}
</code></pre>
<p>è¿è¡Œç»“æœéªŒè¯åˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•éƒ½è¢«æ­£ç¡®æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">init</span> ...
com.itheima.dao.<span class="hljs-symbol">BookDaoImpl@</span>5e025e70
com.itheima.dao.<span class="hljs-symbol">BookDaoImpl@</span>1d296da
destroy ...
</code></pre>
<h5 data-id="heading-46">æ³¨è§£è¯¦è§£</h5>
<p><strong>é‡è¦æç¤º</strong>ï¼šå¦‚æœ<code>@PostConstruct</code>å’Œ<code>@PreDestroy</code>æ³¨è§£æ— æ³•æ‰¾åˆ°ï¼Œéœ€è¦æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.annotation<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.annotation-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>åŸå› </strong>ï¼šä»JDK9å¼€å§‹ï¼Œjavax.annotationåŒ…è¢«ä»JDKä¸­ç§»é™¤ï¼Œè€Œè¿™ä¸¤ä¸ªæ³¨è§£æ°å¥½ä½äºè¯¥åŒ…ä¸­ã€‚</p>
<p><strong>@PostConstruct &amp; @PreDestroy</strong></p>






























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åç§°</td><td>@PostConstruct</td><td>@PreDestroy</td></tr><tr><td>ç±»å‹</td><td>æ–¹æ³•æ³¨è§£</td><td>æ–¹æ³•æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>æ–¹æ³•ä¸Šä¸€è¡Œ</td><td>æ–¹æ³•ä¸Šä¸€è¡Œ</td></tr><tr><td><strong>ä½œç”¨</strong></td><td>è®¾ç½®è¯¥æ–¹æ³•ä¸ºåˆå§‹åŒ–æ–¹æ³•</td><td>è®¾ç½®è¯¥æ–¹æ³•ä¸ºé”€æ¯æ–¹æ³•</td></tr></tbody></table>
<p>æ‰§è¡Œæµç¨‹ï¼šBeanåˆ›å»º â†’ æ„é€ å‡½æ•° â†’ @PostConstructæ–¹æ³• â†’ Beanå°±ç»ª â†’ å®¹å™¨å…³é—­ â†’ @PreDestroyæ–¹æ³•</p>
<p><strong>XMLé…ç½®ä¸æ³¨è§£é…ç½® æˆåˆ†å¯¹åº”å…³ç³»</strong>ï¼š\ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ca2657de44a41e783081b385eae9d04~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=%2FncXYa%2B%2BT3FXWz1qmIGKrS4t7DY%3D" alt="image.png" width="100%" loading="lazy"/></p>
<h3 data-id="heading-47">æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥</h3>
<p>Springæ¡†æ¶ä¸ºäº†ç®€åŒ–å¼€å‘ï¼Œæä¾›äº†æ³¨è§£æ–¹å¼çš„ä¾èµ–æ³¨å…¥å®ç°ã€‚è™½ç„¶æ²¡æœ‰ç›´æ¥æä¾›æ„é€ å‡½æ•°æ³¨å…¥å’Œsetteræ³¨å…¥çš„ä¸“ç”¨æ³¨è§£ï¼Œä½†é€šè¿‡è‡ªåŠ¨è£…é…æ³¨è§£å¯ä»¥æ›´ç®€æ´åœ°å®Œæˆä¾èµ–æ³¨å…¥ã€‚</p>
<h4 data-id="heading-48">ç¯å¢ƒå‡†å¤‡</h4>
<p>å»ºç«‹é¡¹ç›®ç»“æ„çš„æ­¥éª¤ åŒå‰é¢Â <a href="https://juejin.cn/spost/7556549862562775050#heading-8" title="https://juejin.cn/spost/7556549862562775050#heading-8" target="_blank">IOCå’ŒDIå…¥é—¨æ¡ˆä¾‹-ä»£ç å®ç°</a>Â çš„åŸºæœ¬ä¸€è‡´</p>
<p>é¢å¤–æ·»åŠ ä¸€ä¸ªé…ç½®ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@ComponentScan("com.itheima")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
}
</code></pre>
<p>ç¯å¢ƒå‡†å¤‡å¥½åï¼Œè¿è¡Œåä¼šå‘ç°æœ‰é—®é¢˜ï¼š\ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b56f43e2316461bb57c04cb881cbf05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=pck8qO%2FUkx0uzscjYDB9NIkj2Sg%3D" alt="image.png" width="100%" loading="lazy"/></p>
<p><strong>é—®é¢˜åŸå› </strong>ï¼šåœ¨BookServiceImplç±»ä¸­æ·»åŠ äº†BookDaoçš„å±æ€§ï¼Œå¹¶æä¾›äº†setteræ–¹æ³•ï¼Œä½†æ˜¯ç›®å‰æ˜¯æ²¡æœ‰æä¾›é…ç½®æ³¨å…¥BookDaoçš„ï¼Œæ‰€ä»¥bookDaoå¯¹è±¡ä¸ºNullï¼Œè°ƒç”¨å…¶saveæ–¹æ³•å°±ä¼šæŠ¥ <strong><code>æ§æŒ‡é’ˆå¼‚å¸¸</code></strong>ã€‚</p>
<h4 data-id="heading-49"><code>@Autowired</code> æŒ‰ç±»å‹æ³¨å…¥</h4>
<p>åœ¨BookServiceImplç±»çš„bookDaoå±æ€§ä¸Šæ·»åŠ <code>@Autowired</code>æ³¨è§£å®ç°è‡ªåŠ¨è£…é…ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> BookDao bookDao;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book service save ..."</span>);
        bookDao.save();
    }
}
</code></pre>
<p><strong>æ ¸å¿ƒè¦ç‚¹ï¼š</strong></p>
<ul>
<li><code>@Autowired</code>å¯ä»¥å†™åœ¨å±æ€§ä¸Šï¼Œä¹Ÿå¯ä»¥å†™åœ¨setteræ–¹æ³•ä¸Š</li>
<li>æ¨èä½¿ç”¨æ–¹å¼ï¼š<strong>ç›´æ¥å†™åœ¨å±æ€§ä¸Šå¹¶åˆ é™¤setteræ–¹æ³•</strong></li>
<li>å·¥ä½œåŸç†ï¼šåŸºäºåå°„æœºåˆ¶åˆ›å»ºå¯¹è±¡ï¼Œé€šè¿‡æš´åŠ›åå°„ä¸ºç§æœ‰å±æ€§è®¾å€¼</li>
</ul>
<blockquote>
<p>æŠ€æœ¯åŸç†è¯´æ˜ï¼š</p>
<ul>
<li>æ™®é€šåå°„åªèƒ½è·å–publicä¿®é¥°çš„å†…å®¹</li>
<li>æš´åŠ›åå°„è¿˜å¯ä»¥è·å–privateä¿®é¥°çš„å†…å®¹</li>
<li>å› æ­¤æ— éœ€æä¾›setteræ–¹æ³•å³å¯å®Œæˆä¾èµ–æ³¨å…¥</li>
</ul>
</blockquote>
<p><strong>å¤šå®ç°ç±»å†²çªé—®é¢˜</strong></p>
<p>å½“æ¥å£æœ‰å¤šä¸ªå®ç°ç±»æ—¶ï¼Œä¼šå‡ºç°æ³¨å…¥å†²çªï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ...1"</span>);
    }
}

<span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl2</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ...2"</span>);
    }
}
</code></pre>
<p>è¿è¡Œç»“æœï¼š<strong>æŠ¥é”™</strong> <code>NoUniqueBeanDefinitionException</code></p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼šæŒ‰idåç§°åŒ¹é…</strong></p>
<p>é€šè¿‡ä¸ºBeanæŒ‡å®šåç§°æ¥è§£å†³å¤šå®ç°ç±»é—®é¢˜ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Repository("bookDao")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ...1"</span>);
    }
}

<span class="hljs-meta">@Repository("bookDao2")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl2</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ...2"</span>);
    }
}
</code></pre>
<p><strong>@AutowiredåŒ¹é…è§„åˆ™ï¼š</strong></p>
<ol>
<li>é¦–å…ˆæŒ‰ç…§ç±»å‹è¿›è¡Œè‡ªåŠ¨è£…é…</li>
<li>å¦‚æœæ‰¾åˆ°å¤šä¸ªåŒç±»å‹Beanï¼Œåˆ™æŒ‰ç…§<strong>å˜é‡å</strong>ä¸<strong>Beanåç§°</strong>è¿›è¡ŒåŒ¹é…ï¼ˆ<strong>å˜é‡å</strong>æŒ‡æ¥å—æ³¨å…¥çš„å±æ€§å­—æ®µçš„åç§°ï¼›<strong>Beanåç§°</strong>æŒ‡idå±æ€§ï¼‰</li>
<li>å˜é‡å<code>bookDao</code>ä¼šåŒ¹é…åˆ°åç§°idä¸º<code>bookDao</code>çš„Bean</li>
<li>æ‰¾ä¸åˆ°åŒ¹é…çš„å˜é‡åä¸Beanåç§°ä¼šæŠ¥é”™</li>
</ol>
<h4 data-id="heading-50"><code>@Qualifier</code> æŒ‰åç§°æ³¨å…¥</h4>
<p>å½“éœ€è¦æ˜ç¡®æŒ‡å®šæ³¨å…¥ç‰¹å®šåç§°çš„Beanæ—¶ï¼Œä½¿ç”¨<code>@Qualifier</code>æ³¨è§£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-meta">@Qualifier("bookDao1")</span>
    <span class="hljs-keyword">private</span> BookDao bookDao;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book service save ..."</span>);
        bookDao.save();
    }
}
</code></pre>
<p><strong>é‡è¦è§„åˆ™ï¼š</strong></p>
<ul>
<li><code>@Qualifier</code>å¿…é¡»ä¸<code>@Autowired</code>ä¸€èµ·ä½¿ç”¨</li>
<li><code>@Qualifier</code>æ³¨è§£çš„å‚æ•°æŒ‡å®šè¦æ³¨å…¥çš„Beanåç§°id</li>
</ul>
<h4 data-id="heading-51"><code>@Value</code> ç®€å•æ•°æ®ç±»å‹æ³¨å…¥</h4>
<p>å¯¹äº<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>å’Œ<strong>å­—ç¬¦ä¸²ç±»å‹</strong>çš„æ³¨å…¥ï¼Œä½¿ç”¨<code>@Value</code>æ³¨è§£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Repository("bookDao")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-meta">@Value("itheima")</span>
    <span class="hljs-keyword">private</span> String name;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ..."</span> + name);
    }
}
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>å¿…é¡»ç¡®ä¿æ•°æ®æ ¼å¼åŒ¹é…ï¼ˆå¦‚å­—ç¬¦ä¸²ä¸èƒ½æ³¨å…¥åˆ°intç±»å‹ï¼‰</li>
<li>ç¡¬ç¼–ç æ–¹å¼å°†<strong>å€¼ç›´æ¥å†™å…¥æ³¨è§£çš„å‚æ•°</strong>ä¸­</li>
</ul>
<blockquote>
<p><code>@Value</code>æ³¨è§£é€šå¸¸ç”¨äºä»propertiesé…ç½®æ–‡ä»¶ä¸­è¯»å–é…ç½®å€¼ï¼Œå®ç°å¤–éƒ¨åŒ–é…ç½®ç®¡ç†ã€‚</p>
</blockquote>
<h4 data-id="heading-52">æ³¨è§£è¯»å–Propertiesé…ç½®æ–‡ä»¶ <code>@PropertySource</code></h4>
<p><code>@PropertySource</code> + <code>@Value</code> ç»„åˆå®ç°é…ç½®è¯»å–</p>
<h5 data-id="heading-53">å®ç°æ­¥éª¤</h5>
<p><strong>æ­¥éª¤1ï¼šåˆ›å»ºPropertiesé…ç½®æ–‡ä»¶</strong></p>
<p>åœ¨resourceç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ jdbc.propertiesï¼š</p>
<pre><code class="hljs language-properties" lang="properties">name=itheima888
</code></pre>
<p><strong>æ­¥éª¤2ï¼šåŠ è½½Propertiesé…ç½®æ–‡ä»¶</strong></p>
<p>åœ¨Springé…ç½®ç±»ä¸­ä½¿ç”¨<code>@PropertySource</code>æ³¨è§£åŠ è½½é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@ComponentScan("com.itheima")</span>
<span class="hljs-meta">@PropertySource("jdbc.properties")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
}
</code></pre>
<p><strong>æ­¥éª¤3ï¼šè¯»å–é…ç½®å€¼</strong></p>
<p>åœ¨Beanä¸­ä½¿ç”¨<code>@Value</code>æ³¨è§£è¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Repository("bookDao")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-meta">@Value("${name}")</span>
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-comment">// @Value("${app.timeout:5000}")  é»˜è®¤å€¼</span>
    <span class="hljs-comment">// private int timeout;</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ..."</span> + name);
    }
}
</code></pre>
<p><strong>æ­¥éª¤4ï¼šéªŒè¯ç»“æœ</strong></p>
<p>è¿è¡Œåº”ç”¨ç¨‹åºï¼Œæ§åˆ¶å°è¾“å‡ºåº”æ˜¾ç¤ºé…ç½®å€¼å·²æˆåŠŸåŠ è½½ï¼š</p>
<pre><code class="hljs">book dao save ...itheima888
</code></pre>
<h5 data-id="heading-54">é«˜çº§é…ç½®é€‰é¡¹</h5>
<p><strong>å¤šé…ç½®æ–‡ä»¶åŠ è½½</strong>ï¼šæ”¯æŒåŒæ—¶åŠ è½½å¤šä¸ªpropertiesé…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PropertySource({"jdbc.properties", "application.properties", "config.properties"})</span>
</code></pre>
<p><strong>ç±»è·¯å¾„æŒ‡å®š</strong>ï¼šæ˜ç¡®æŒ‡å®šä»ç±»è·¯å¾„åŠ è½½é…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PropertySource("classpath:jdbc.properties")</span>
</code></pre>
<p>âŒ <strong>ä¸æ”¯æŒé€šé…ç¬¦</strong>ï¼šä¸èƒ½ä½¿ç”¨<code>*.properties</code>æ¨¡å¼åŒ¹é…</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é”™è¯¯ç”¨æ³• - ä¼šå¯¼è‡´è¿è¡ŒæŠ¥é”™</span>
<span class="hljs-meta">@PropertySource({"*.properties"})</span>
</code></pre>
<blockquote>
<p><strong>æŠ€æœ¯è¦ç‚¹æ€»ç»“</strong></p>
<ol>
<li>æ³¨è§£ç»„åˆï¼š<code>@PropertySource</code> + <code>@Value</code> å®ç°é…ç½®è¯»å–</li>
<li>è·¯å¾„è§„èŒƒï¼šå»ºè®®ä½¿ç”¨<code>classpath:</code>å‰ç¼€æŒ‡å®šæ˜ç¡®è·¯å¾„</li>
<li>å¤šæ–‡ä»¶æ”¯æŒï¼šé€šè¿‡æ•°ç»„å½¢å¼åŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶</li>
<li>é»˜è®¤å€¼æ”¯æŒï¼š<code>@Value("${key:defaultValue}")</code> è¯­æ³•æä¾›é»˜è®¤å€¼</li>
<li>ç¼–ç è¦æ±‚ï¼šé…ç½®æ–‡ä»¶å¿…é¡»ä½¿ç”¨æ­£ç¡®çš„å­—ç¬¦ç¼–ç </li>
</ol>
</blockquote>
<h4 data-id="heading-55">æ³¨è§£è¯¦è§£</h4>
<p><strong>@Autowired</strong></p>

























<table><thead><tr><th>åç§°</th><th>@Autowired</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>å±æ€§æ³¨è§£ã€æ–¹æ³•æ³¨è§£ï¼ˆäº†è§£ï¼‰ã€æ–¹æ³•å½¢å‚æ³¨è§£ï¼ˆäº†è§£ï¼‰</td></tr><tr><td>ä½ç½®</td><td>å±æ€§å®šä¹‰ä¸Šæ–¹ã€setteræ–¹æ³•ä¸Šæ–¹ã€æ–¹æ³•å½¢å‚å‰é¢</td></tr><tr><td>ä½œç”¨</td><td>ä¸ºå¼•ç”¨ç±»å‹å±æ€§è®¾ç½®å€¼</td></tr><tr><td>å±æ€§</td><td>requiredï¼štrue/falseï¼Œå®šä¹‰è¯¥å±æ€§æ˜¯å¦å…è®¸ä¸ºnull</td></tr></tbody></table>
<p><strong>@Qualifier</strong></p>

























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>å±æ€§æ³¨è§£ã€æ–¹æ³•æ³¨è§£ï¼ˆäº†è§£ï¼‰</td></tr><tr><td>ä½ç½®</td><td>å±æ€§å®šä¹‰ä¸Šæ–¹ã€setteræ–¹æ³•ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>ä¸ºå¼•ç”¨ç±»å‹å±æ€§æŒ‡å®šæ³¨å…¥çš„beanId</td></tr><tr><td>å±æ€§</td><td>valueï¼šè®¾ç½®æ³¨å…¥çš„bean Id</td></tr></tbody></table>
<p><strong>@Value</strong></p>

























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>å±æ€§æ³¨è§£ã€æ–¹æ³•æ³¨è§£ï¼ˆäº†è§£ï¼‰</td></tr><tr><td>ä½ç½®</td><td>å±æ€§å®šä¹‰ä¸Šæ–¹ã€setteræ–¹æ³•ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>ä¸ºåŸºæœ¬æ•°æ®ç±»å‹æˆ–å­—ç¬¦ä¸²ç±»å‹å±æ€§è®¾ç½®å€¼</td></tr><tr><td>å±æ€§</td><td>valueï¼šè¦æ³¨å…¥çš„å±æ€§å€¼</td></tr></tbody></table>
<p><strong>@PropertySource</strong></p>

























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>åŠ è½½propertiesæ–‡ä»¶ä¸­çš„å±æ€§å€¼</td></tr><tr><td>å±æ€§</td><td>valueï¼šè®¾ç½®åŠ è½½çš„propertiesæ–‡ä»¶å</td></tr></tbody></table>
<h2 data-id="heading-56">IOC/DIæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean</h2>
<p>åœ¨Springæ¡†æ¶ä¸­ï¼Œå½“æˆ‘ä»¬ç®¡ç†è‡ªå·±å¼€å‘çš„ç±»æ—¶ï¼Œå¯ä»¥ç›´æ¥åœ¨ç±»ä¸Šä½¿ç”¨æ³¨è§£ï¼ˆå¦‚<code>@Component</code>ã€<code>@Service</code>ç­‰ï¼‰æ¥å®šä¹‰Beanã€‚ä½†å¯¹äºç¬¬ä¸‰æ–¹åº“ä¸­çš„ç±»ï¼Œç”±äº<strong>æ— æ³•ä¿®æ”¹ç¬¬ä¸‰æ–¹åº“ä¸­çš„ç±»æºä»£ç </strong>ï¼Œä¸èƒ½ç›´æ¥åœ¨ç±»ä¸Šæ·»åŠ æ³¨è§£ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>@Bean</code>æ³¨è§£æ¥çµæ´»åœ°ç®¡ç†ç¬¬ä¸‰æ–¹Beanã€‚</p>
<h3 data-id="heading-57">ç¯å¢ƒå‡†å¤‡</h3>
<p><strong>é¡¹ç›®ç»“æ„</strong></p>
<ul>
<li>Mavené¡¹ç›®</li>
<li>æ·»åŠ Springä¾èµ–</li>
<li>åˆ›å»ºé…ç½®ç±»å’Œç›¸å…³ç»„ä»¶</li>
</ul>
<p><strong>é…ç½®ç±»</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
}
</code></pre>
<p><strong>æ•°æ®è®¿é—®å±‚</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span>;
}

<span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ..."</span>);
    }
}
</code></pre>
<p><strong>åº”ç”¨å¯åŠ¨ç±»</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">AnnotationConfigApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);
    }
}
</code></pre>
<h3 data-id="heading-58">æ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean</h3>
<p>åœ¨ä¸Šè¿°ç¯å¢ƒä¸­å®Œæˆå¯¹<code>Druid</code>æ•°æ®æºçš„ç®¡ç†ï¼Œå…·ä½“çš„å®ç°æ­¥éª¤ä¸º:</p>
<p><strong>æ­¥éª¤1ï¼šæ·»åŠ Druidä¾èµ–</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>æ­¥éª¤2ï¼šåœ¨é…ç½®ç±»ä¸­åˆ›å»ºBeanæ–¹æ³•</strong><br/>
åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›è¦åˆ›å»ºçš„Beanå¯¹è±¡ç±»å‹ï¼Œå¹¶åœ¨æ–¹æ³•ä¸Šæ·»åŠ <code>@Bean</code>æ³¨è§£</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span>{
        <span class="hljs-comment">// åˆ›å»ºDruidæ•°æ®æºå®ä¾‹</span>
        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
        
        <span class="hljs-comment">// é…ç½®æ•°æ®æºè¿æ¥å‚æ•°</span>
        ds.setDriverClassName(<span class="hljs-string">"com.mysql.jdbc.Driver"</span>);
        ds.setUrl(<span class="hljs-string">"jdbc:mysql://localhost:3306/spring_db"</span>);
        ds.setUsername(<span class="hljs-string">"root"</span>);
        ds.setPassword(<span class="hljs-string">"root"</span>);
        
        <span class="hljs-keyword">return</span> ds;
    }
}
</code></pre>
<p><strong>å…³é”®è¯´æ˜</strong>ï¼š</p>
<ol>
<li><strong>@Beanæ³¨è§£ä½œç”¨</strong>ï¼šå°†æ–¹æ³•çš„è¿”å›å€¼åˆ¶ä½œä¸ºSpringå®¹å™¨ç®¡ç†çš„ä¸€ä¸ªBeanå¯¹è±¡</li>
<li><strong>æ–¹æ³•å‘½å</strong>ï¼šæ–¹æ³•åé»˜è®¤ä½œä¸ºBeançš„åç§°</li>
<li><strong>è¿”å›å€¼ç±»å‹</strong>ï¼šæ–¹æ³•çš„è¿”å›å€¼ç±»å‹å†³å®šäº†Beançš„ç±»å‹</li>
<li><strong>å®ç°æ–¹å¼</strong>ï¼šå¿…é¡»ä½¿ç”¨å…·ä½“å®ç°ç±»ï¼ˆ<code>DruidDataSource</code>ï¼‰è€Œéæ¥å£ï¼ˆ<code>DataSource</code>ï¼‰æ¥åˆ›å»ºå®ä¾‹ï¼Œå› ä¸ºæ¥å£ä¸­æ²¡æœ‰å¯¹åº”çš„setteræ–¹æ³•</li>
</ol>
<p><strong>æ­¥éª¤3ï¼šä»IOCå®¹å™¨è·å–å¹¶ä½¿ç”¨Bean</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºæ³¨è§£é…ç½®åº”ç”¨ä¸Šä¸‹æ–‡</span>
        <span class="hljs-type">AnnotationConfigApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);
        
        <span class="hljs-comment">// ä»å®¹å™¨ä¸­è·å–æ•°æ®æºBean</span>
        <span class="hljs-type">DataSource</span> <span class="hljs-variable">dataSource</span> <span class="hljs-operator">=</span> ctx.getBean(DataSource.class);
        System.out.println(dataSource);
        
        <span class="hljs-comment">// å…³é—­ä¸Šä¸‹æ–‡</span>
        ctx.close();
    }
}
</code></pre>
<p>è‡³æ­¤ä½¿ç”¨@Beanæ¥ç®¡ç†ç¬¬ä¸‰æ–¹beançš„æ¡ˆä¾‹å°±å·²ç»å®Œæˆã€‚</p>
<p><strong>æ‰©å±•åº”ç”¨ï¼šç®¡ç†å¤šä¸ªç¬¬ä¸‰æ–¹Bean</strong></p>
<p>å¦‚æœéœ€è¦ç®¡ç†å¤šä¸ªç¬¬ä¸‰æ–¹Beanï¼Œåªéœ€åœ¨é…ç½®ç±»ä¸­æ·»åŠ å¤šä¸ªä½¿ç”¨<code>@Bean</code>æ³¨è§£çš„æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span>{
        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
        ds.setDriverClassName(<span class="hljs-string">"com.mysql.jdbc.Driver"</span>);
        ds.setUrl(<span class="hljs-string">"jdbc:mysql://localhost:3306/spring_db"</span>);
        ds.setUsername(<span class="hljs-string">"root"</span>);
        ds.setPassword(<span class="hljs-string">"root"</span>);
        <span class="hljs-keyword">return</span> ds;
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> AnotherThirdPartyBean <span class="hljs-title function_">anotherBean</span><span class="hljs-params">()</span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnotherThirdPartyBean</span>();
    }
    
    <span class="hljs-comment">// å¯ä»¥ç»§ç»­æ·»åŠ æ›´å¤šçš„@Beanæ–¹æ³•...</span>
}
</code></pre>
<h3 data-id="heading-59">å¼•å…¥å¤–éƒ¨é…ç½®ç±»</h3>
<p><strong>æ¦‚è¿°</strong></p>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¦‚æœå°†æ‰€æœ‰çš„ç¬¬ä¸‰æ–¹Beanéƒ½é…ç½®åœ¨å•ä¸€çš„Springé…ç½®ç±»ä¸­ï¼Œä¼šå¯¼è‡´ï¼š</p>
<ul>
<li>é…ç½®ç±»è¿‡äºè‡ƒè‚¿ï¼Œä»£ç å¯è¯»æ€§å·®</li>
<li>ä¸åˆ©äºæŒ‰åŠŸèƒ½æ¨¡å—è¿›è¡Œåˆ†ç±»ç®¡ç†ï¼Œç»´æŠ¤å›°éš¾</li>
</ul>
<p><strong>é—®é¢˜åœºæ™¯</strong></p>
<p>å°†æ‰€æœ‰ç¬¬ä¸‰æ–¹Beané…ç½®åœ¨<code>SpringConfig</code>ä¸­æ—¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span>{
        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
        ds.setDriverClassName(<span class="hljs-string">"com.mysql.jdbc.Driver"</span>);
        ds.setUrl(<span class="hljs-string">"jdbc:mysql://localhost:3306/spring_db"</span>);
        ds.setUsername(<span class="hljs-string">"root"</span>);
        ds.setPassword(<span class="hljs-string">"root"</span>);
        <span class="hljs-keyword">return</span> ds;
    }
    
    <span class="hljs-comment">// å…¶ä»–ç¬¬ä¸‰æ–¹Beané…ç½®...</span>
    <span class="hljs-comment">// å¯¼è‡´é…ç½®ç±»è¶Šæ¥è¶Šåºå¤§ï¼Œéš¾ä»¥ç»´æŠ¤</span>
}
</code></pre>
<p>ä¸ºæ­¤ï¼ŒSpringæä¾›äº†ä¸¤ç§ä¸»è¦æ–¹å¼æ¥å¼•å…¥å¤–éƒ¨é…ç½®ç±»ï¼šåŒ…æ‰«æå¼•å…¥ã€@Importå¼•å…¥ã€‚</p>
<h4 data-id="heading-60">ä½¿ç”¨åŒ…æ‰«æå¼•å…¥</h4>
<p><strong>æ­¥éª¤1ï¼šåˆ›å»ºç‹¬ç«‹çš„é…ç½®ç±»</strong></p>
<p>å°†æ•°æ®æºé…ç½®æå–åˆ°ç‹¬ç«‹çš„<code>JdbcConfig</code>ç±»ä¸­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span>{
        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
        ds.setDriverClassName(<span class="hljs-string">"com.mysql.jdbc.Driver"</span>);
        ds.setUrl(<span class="hljs-string">"jdbc:mysql://localhost:3306/spring_db"</span>);
        ds.setUsername(<span class="hljs-string">"root"</span>);
        ds.setPassword(<span class="hljs-string">"root"</span>);
        <span class="hljs-keyword">return</span> ds;
    }
}
</code></pre>
<p><strong>æ­¥éª¤2ï¼šåœ¨Springçš„é…ç½®ç±»ä¸­é…ç½®åŒ…æ‰«æ</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@ComponentScan("com.itheima.config")</span>  <span class="hljs-comment">// å…³é”®ï¼šæ‰«ææŒ‡å®šåŒ…ä¸‹çš„æ‰€æœ‰é…ç½®ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    <span class="hljs-comment">// ä¸»é…ç½®ç±»ä¿æŒç®€æ´</span>
}
</code></pre>
<p><strong>æ­¥éª¤3ï¼šç¡®ä¿é…ç½®ç±»åœ¨æ‰«æè·¯å¾„ä¸­</strong></p>
<p><code>JdbcConfig</code>ç±»å¿…é¡»ä½äº<code>com.itheima.config</code>åŒ…æˆ–å…¶å­åŒ…ä¸‹ã€‚</p>
<p><strong>ä¼˜ç¼ºç‚¹åˆ†æ</strong></p>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šè‡ªåŠ¨æ‰«æï¼Œé…ç½®ç®€å•</li>
<li><strong>ç¼ºç‚¹</strong>ï¼š
<ul>
<li>æ— æ³•å¿«é€ŸçŸ¥æ™“å¼•å…¥äº†å“ªäº›å…·ä½“é…ç½®ç±»</li>
<li>ä¾èµ–åŒ…ç»“æ„ï¼Œä¸å¤Ÿçµæ´»</li>
<li>ä¸æ¨èåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨</li>
</ul>
</li>
</ul>
<h4 data-id="heading-61">ä½¿ç”¨@Importå¼•å…¥ï¼ˆæ¨èï¼‰</h4>
<p><strong>æ­¥éª¤1ï¼šåˆ›å»ºé…ç½®ç±»ï¼ˆå¯çœç•¥@Configurationï¼‰</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span>{
        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
        ds.setDriverClassName(<span class="hljs-string">"com.mysql.jdbc.Driver"</span>);
        ds.setUrl(<span class="hljs-string">"jdbc:mysql://localhost:3306/spring_db"</span>);
        ds.setUsername(<span class="hljs-string">"root"</span>);
        ds.setPassword(<span class="hljs-string">"root"</span>);
        <span class="hljs-keyword">return</span> ds;
    }
}
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šä½¿ç”¨<code>@Import</code>æ—¶ï¼Œé…ç½®ç±»ä¸Šçš„<code>@Configuration</code>æ³¨è§£å¯ä»¥çœç•¥ã€‚</p>
<p><strong>æ­¥éª¤2ï¼šåœ¨Springé…ç½®ç±»ä¸­ä½¿ç”¨@Importå¼•å…¥</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@Import(JdbcConfig.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    <span class="hljs-comment">// ä¸»é…ç½®ç±»</span>
}
</code></pre>
<ul>
<li><strong>å¼•å…¥å¤šä¸ªé…ç½®ç±»</strong>ï¼šå¯ä»¥ä»¥æ•°ç»„å½¢å¼å¼•å…¥å¤šä¸ªé…ç½®ç±»ï¼Œè€Œä¸èƒ½åœ¨ä¸€ä¸ªSpringé…ç½®ç±»ä¸­å¤šæ¬¡ä½¿ç”¨@Importæ³¨è§£
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@Import({
    JdbcConfig.class,      // æ•°æ®æºé…ç½®
    CacheConfig.class      // ç¼“å­˜é…ç½®
    // å¯ä»¥ç»§ç»­æ·»åŠ å…¶ä»–é…ç½®ç±»...
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    <span class="hljs-comment">// ä¸€æ¬¡æ€§å¼•å…¥å¤šä¸ªé…ç½®ç±»</span>
}
</code></pre>
</li>
</ul>
<h4 data-id="heading-62">æ€»ç»“</h4>
<p><strong>æ–¹æ¡ˆå¯¹æ¯”</strong></p>



































<table><thead><tr><th>ç‰¹æ€§</th><th>åŒ…æ‰«ææ–¹å¼</th><th>@Importæ–¹å¼</th></tr></thead><tbody><tr><td>é…ç½®å¤æ‚åº¦</td><td>ç®€å•</td><td>ç®€å•</td></tr><tr><td>å¯è¯»æ€§</td><td>è¾ƒå·®</td><td>ä¼˜ç§€</td></tr><tr><td>çµæ´»æ€§</td><td>ä¾èµ–åŒ…ç»“æ„</td><td>çµæ´»æŒ‡å®š</td></tr><tr><td>æ˜¾å¼æ§åˆ¶</td><td>å¼±</td><td>å¼º</td></tr><tr><td>æ¨èç¨‹åº¦</td><td>ä¸æ¨è</td><td><strong>æ¨è</strong></td></tr></tbody></table>
<p><strong>æ ¸å¿ƒæ³¨è§£è¯¦è§£</strong></p>
<p><strong>@Bean æ³¨è§£</strong></p>





























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åç§°</strong></td><td>@Bean</td></tr><tr><td><strong>ç±»å‹</strong></td><td>æ–¹æ³•æ³¨è§£</td></tr><tr><td><strong>ä½ç½®</strong></td><td>æ–¹æ³•å®šä¹‰ä¸Šæ–¹</td></tr><tr><td><strong>ä½œç”¨</strong></td><td>è®¾ç½®è¯¥æ–¹æ³•çš„è¿”å›å€¼ä½œä¸ºSpringç®¡ç†çš„Bean</td></tr><tr><td><strong>å±æ€§</strong></td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šå®šä¹‰Beançš„idï¼Œé»˜è®¤å€¼ä¸ºæ–¹æ³•å</td></tr></tbody></table>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Bean("myDataSource")</span>  <span class="hljs-comment">// è‡ªå®šä¹‰Beanåç§°</span>
<span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
}
</code></pre>
<p><strong>@Import æ³¨è§£</strong></p>





























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åç§°</strong></td><td>@Import</td></tr><tr><td><strong>ç±»å‹</strong></td><td>ç±»æ³¨è§£</td></tr><tr><td><strong>ä½ç½®</strong></td><td>ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td><strong>ä½œç”¨</strong></td><td>å¯¼å…¥é…ç½®ç±»</td></tr><tr><td><strong>å±æ€§</strong></td><td>valueï¼šå®šä¹‰å¯¼å…¥çš„é…ç½®ç±»ç±»åï¼Œå¯¼å…¥å¤šä¸ªæ—¶ä½¿ç”¨æ•°ç»„æ ¼å¼</td></tr></tbody></table>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Import({JdbcConfig.class, CacheConfig.class, SecurityConfig.class})</span>
</code></pre>
<p><strong>å®è·µæ¨è</strong></p>
<ol>
<li>æŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†é…ç½®</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ•°æ®åº“é…ç½®</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ•°æ®æºé…ç½®</span>
    }
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> JdbcTemplate <span class="hljs-title function_">jdbcTemplate</span><span class="hljs-params">(DataSource dataSource)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JdbcTemplate</span>(dataSource);
    }
}

<span class="hljs-comment">// ç¼“å­˜é…ç½®</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RedisTemplate <span class="hljs-title function_">redisTemplate</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// Redisé…ç½®</span>
    }
}

<span class="hljs-comment">// æ¶ˆæ¯é˜Ÿåˆ—é…ç½®</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MqConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> RabbitTemplate <span class="hljs-title function_">rabbitTemplate</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// RabbitMQé…ç½®</span>
    }
}
</code></pre>
<ol start="2">
<li>ä¸»é…ç½®ç±»ç»Ÿä¸€ç®¡ç†</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@Import({
    JdbcConfig.class,      // æ•°æ®åº“ç›¸å…³é…ç½®
    CacheConfig.class,     // ç¼“å­˜ç›¸å…³é…ç½®  
    MqConfig.class,        // æ¶ˆæ¯é˜Ÿåˆ—é…ç½®
    ServiceConfig.class    // æœåŠ¡å±‚é…ç½®
})</span>
<span class="hljs-meta">@PropertySource("classpath:application.properties")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    <span class="hljs-comment">// ä¸»é…ç½®ç±»ä¿æŒç®€æ´ï¼Œåªåšé…ç½®èšåˆ</span>
}
</code></pre>
<h3 data-id="heading-63">æ³¨è§£å¼€å‘å®ç°ä¸ºç¬¬ä¸‰æ–¹beanæ³¨å…¥èµ„æº</h3>
<p><strong>æ¦‚è¿°</strong></p>
<p>åœ¨ä½¿ç”¨<code>@Bean</code>æ³¨è§£åˆ›å»ºç¬¬ä¸‰æ–¹Beanå¯¹è±¡æ—¶ï¼Œç»å¸¸éœ€è¦åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­æ³¨å…¥å…¶ä»–èµ„æºã€‚è¿™äº›èµ„æºä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p>
<ul>
<li><strong>ç®€å•æ•°æ®ç±»å‹</strong>ï¼šå­—ç¬¦ä¸²ã€æ•°å€¼ç­‰åŸºæœ¬ç±»å‹</li>
<li><strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>ï¼šå…¶ä»–Springç®¡ç†çš„Beanå¯¹è±¡</li>
</ul>
<h4 data-id="heading-64">ç®€å•æ•°æ®ç±»å‹æ³¨å…¥</h4>
<p><strong>éœ€æ±‚åˆ†æ</strong></p>
<p>åœ¨é…ç½®æ•°æ®æºæ—¶ï¼Œæ•°æ®åº“è¿æ¥å‚æ•°ï¼ˆé©±åŠ¨ç±»åã€URLã€ç”¨æˆ·åã€å¯†ç ï¼‰ä¸åº”è¯¥ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ï¼Œè€Œåº”è¯¥ä»å¤–éƒ¨é…ç½®æ–‡ä»¶è¯»å–ï¼Œæé«˜é…ç½®çš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<p><strong>åŸå§‹ç¡¬ç¼–ç æ–¹å¼ï¼ˆä¸æ¨èï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span>{
        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
        <span class="hljs-comment">// ç¡¬ç¼–ç æ•°æ®åº“é…ç½®ï¼ˆå­˜åœ¨é—®é¢˜ï¼‰</span>
        ds.setDriverClassName(<span class="hljs-string">"com.mysql.jdbc.Driver"</span>);
        ds.setUrl(<span class="hljs-string">"jdbc:mysql://localhost:3306/spring_db"</span>);
        ds.setUsername(<span class="hljs-string">"root"</span>);
        ds.setPassword(<span class="hljs-string">"root"</span>);
        <span class="hljs-keyword">return</span> ds;
    }
}
</code></pre>
<h5 data-id="heading-65"><strong>å®ç°æ­¥éª¤</strong></h5>
<p><strong>æ­¥éª¤1ï¼šå®šä¹‰é…ç½®å±æ€§å­—æ®µ</strong></p>
<p>åœ¨é…ç½®ç±»ä¸­å®šä¹‰éœ€è¦æ³¨å…¥çš„å±æ€§å­—æ®µï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcConfig</span> {
    <span class="hljs-comment">// å®šä¹‰æ•°æ®åº“è¿æ¥é…ç½®å±æ€§</span>
    <span class="hljs-keyword">private</span> String driver;
    <span class="hljs-keyword">private</span> String url;
    <span class="hljs-keyword">private</span> String userName;
    <span class="hljs-keyword">private</span> String password;
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span>{
        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
        <span class="hljs-comment">// æš‚æ—¶ä»ä½¿ç”¨ç¡¬ç¼–ç ï¼ˆåç»­æ”¹è¿›ï¼‰</span>
        ds.setDriverClassName(<span class="hljs-string">"com.mysql.jdbc.Driver"</span>);
        ds.setUrl(<span class="hljs-string">"jdbc:mysql://localhost:3306/spring_db"</span>);
        ds.setUsername(<span class="hljs-string">"root"</span>);
        ds.setPassword(<span class="hljs-string">"root"</span>);
        <span class="hljs-keyword">return</span> ds;
    }
}
</code></pre>
<p><strong>æ­¥éª¤2ï¼šä½¿ç”¨@Valueæ³¨è§£æ³¨å…¥å€¼</strong></p>
<p>ä½¿ç”¨<code>@Value</code>æ³¨è§£ä¸ºå±æ€§æ³¨å…¥å…·ä½“çš„å€¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcConfig</span> {
    <span class="hljs-meta">@Value("com.mysql.jdbc.Driver")</span>
    <span class="hljs-keyword">private</span> String driver;
    
    <span class="hljs-meta">@Value("jdbc:mysql://localhost:3306/spring_db")</span>
    <span class="hljs-keyword">private</span> String url;
    
    <span class="hljs-meta">@Value("root")</span>
    <span class="hljs-keyword">private</span> String userName;
    
    <span class="hljs-meta">@Value("password")</span>
    <span class="hljs-keyword">private</span> String password;
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span>{
        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
        <span class="hljs-comment">// ä½¿ç”¨æ³¨å…¥çš„å±æ€§å€¼</span>
        ds.setDriverClassName(driver);
        ds.setUrl(url);
        ds.setUsername(userName);
        ds.setPassword(password);
        <span class="hljs-keyword">return</span> ds;
    }
}
</code></pre>
<h5 data-id="heading-66">æ‰©å±•ï¼šä½¿ç”¨é…ç½®æ–‡ä»¶æ³¨å…¥ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰</h5>
<p><strong>æ­¥éª¤1ï¼šåˆ›å»ºpropertiesé…ç½®æ–‡ä»¶</strong></p>
<p>åœ¨<code>resources</code>ç›®å½•ä¸‹åˆ›å»º<code>jdbc.properties</code>æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-properties" lang="properties"># æ•°æ®åº“è¿æ¥é…ç½®
jdbc.driver=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/spring_db
jdbc.username=root
jdbc.password=123456

# è¿æ¥æ± é…ç½®
jdbc.initialSize=5
jdbc.maxActive=20
jdbc.minIdle=5
</code></pre>
<p><strong>æ­¥éª¤2ï¼šåŠ è½½é…ç½®æ–‡ä»¶å¹¶æ³¨å…¥å±æ€§</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å…³é”®ï¼šä½¿ç”¨@PropertySourceåŠ è½½é…ç½®æ–‡ä»¶</span>
<span class="hljs-meta">@PropertySource("classpath:jdbc.properties")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcConfig</span> {
    
    <span class="hljs-comment">// å…³é”®ï¼šä½¿ç”¨${key}æ ¼å¼ä»é…ç½®æ–‡ä»¶ä¸­è¯»å–å€¼</span>
    <span class="hljs-meta">@Value("${jdbc.driver}")</span>
    <span class="hljs-keyword">private</span> String driver;
    
    <span class="hljs-meta">@Value("${jdbc.url}")</span>
    <span class="hljs-keyword">private</span> String url;
    
    <span class="hljs-meta">@Value("${jdbc.username}")</span>
    <span class="hljs-keyword">private</span> String userName;
    
    <span class="hljs-meta">@Value("${jdbc.password}")</span>
    <span class="hljs-keyword">private</span> String password;
    
    <span class="hljs-meta">@Value("${jdbc.initialSize:5}")</span>  <span class="hljs-comment">// é»˜è®¤å€¼5</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> initialSize;
    
    <span class="hljs-meta">@Value("${jdbc.maxActive:20}")</span>   <span class="hljs-comment">// é»˜è®¤å€¼20</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> maxActive;
    
    <span class="hljs-meta">@Value("${jdbc.minIdle:5}")</span>      <span class="hljs-comment">// é»˜è®¤å€¼5</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> minIdle;
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span>{
        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
        
        <span class="hljs-comment">// ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„å€¼</span>
        ds.setDriverClassName(driver);
        ds.setUrl(url);
        ds.setUsername(userName);
        ds.setPassword(password);
        
        <span class="hljs-comment">// è®¾ç½®è¿æ¥æ± å‚æ•°</span>
        ds.setInitialSize(initialSize);
        ds.setMaxActive(maxActive);
        ds.setMinIdle(minIdle);
        
        <span class="hljs-keyword">return</span> ds;
    }
}
</code></pre>
<p><strong>æ­¥éª¤3ï¼šä¸»é…ç½®ç±»å¼•å…¥</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@Import(JdbcConfig.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    <span class="hljs-comment">// ä¸»é…ç½®ç±»</span>
}
</code></pre>
<p><strong>@Valueæ³¨è§£è¯¦è§£</strong></p>





























<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åç§°</strong></td><td>@Value</td></tr><tr><td><strong>ç±»å‹</strong></td><td>å­—æ®µæ³¨è§£ã€æ–¹æ³•å‚æ•°æ³¨è§£</td></tr><tr><td><strong>ä½ç½®</strong></td><td>å­—æ®µå®šä¹‰ä¸Šæ–¹ã€æ–¹æ³•å‚æ•°å‰</td></tr><tr><td><strong>ä½œç”¨</strong></td><td>ä¸ºåŸºæœ¬æ•°æ®ç±»å‹æˆ–å­—ç¬¦ä¸²ç±»å‹å­—æ®µæ³¨å…¥å€¼</td></tr><tr><td><strong>å¸¸ç”¨æ ¼å¼</strong></td><td><code>@Value("ç¡¬ç¼–ç å€¼")</code> <br/> <code>@Value("${é…ç½®æ–‡ä»¶key}")</code> <br/> <code>@Value("${é…ç½®æ–‡ä»¶key:é»˜è®¤å€¼}")</code></td></tr></tbody></table>
<h4 data-id="heading-67">å¼•ç”¨æ•°æ®ç±»å‹æ³¨å…¥</h4>
<p><strong>éœ€æ±‚åˆ†æ</strong></p>
<p>åœ¨åˆ›å»ºç¬¬ä¸‰æ–¹Beanæ—¶ï¼Œå¯èƒ½éœ€è¦ä¾èµ–å…¶ä»–Springç®¡ç†çš„Beanã€‚ä¾‹å¦‚ï¼Œé…ç½®æ•°æ®æºæ—¶éœ€è¦ä½¿ç”¨BookDaoè¿›è¡ŒæŸäº›æ“ä½œã€‚</p>
<h5 data-id="heading-68">å®ç°æ­¥éª¤</h5>
<p><strong>æ­¥éª¤1ï¼šç¡®ä¿ä¾èµ–Beanè¢«Springç®¡ç†</strong></p>
<p>é¦–å…ˆç¡®ä¿BookDaoè¢«Springæ‰«æå¹¶ç®¡ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// BookDaoæ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">()</span>;
}

<span class="hljs-comment">// BookDaoå®ç°ç±»</span>
<span class="hljs-meta">@Repository</span>  <span class="hljs-comment">// å…³é”®ï¼šè®©Springç®¡ç†æ­¤Bean</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao save ..."</span>);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"book dao update ..."</span>);
    }
}
</code></pre>
<p><strong>æ­¥éª¤2ï¼šé…ç½®ç»„ä»¶æ‰«æ</strong></p>
<p>åœ¨ä¸»é…ç½®ç±»ä¸­é…ç½®ç»„ä»¶æ‰«æè·¯å¾„ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-comment">// å…³é”®ï¼šæ‰«æDAOåŒ…ï¼Œè®©Springç®¡ç†BookDaoç­‰ç»„ä»¶</span>
<span class="hljs-meta">@ComponentScan("com.itheima.dao")</span>
<span class="hljs-meta">@Import({JdbcConfig.class})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    <span class="hljs-comment">// ä¸»é…ç½®ç±»</span>
}
</code></pre>
<p><strong>æ­¥éª¤3ï¼šåœ¨@Beanæ–¹æ³•ä¸­æ³¨å…¥å¼•ç”¨ç±»å‹</strong></p>
<p>åœ¨JdbcConfigçš„dataSourceæ–¹æ³•ä¸­é€šè¿‡å‚æ•°æ³¨å…¥BookDaoï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcConfig</span> {
    
    <span class="hljs-meta">@Value("${jdbc.driver}")</span>
    <span class="hljs-keyword">private</span> String driver;
    
    <span class="hljs-meta">@Value("${jdbc.url}")</span>
    <span class="hljs-keyword">private</span> String url;
    
    <span class="hljs-meta">@Value("${jdbc.username}")</span>
    <span class="hljs-keyword">private</span> String userName;
    
    <span class="hljs-meta">@Value("${jdbc.password}")</span>
    <span class="hljs-keyword">private</span> String password;
    
    <span class="hljs-comment">/**
     * åˆ›å»ºæ•°æ®æºBean
     * å…³é”®ï¼šåœ¨æ–¹æ³•å‚æ•°ä¸­å£°æ˜éœ€è¦æ³¨å…¥çš„Beanï¼ŒSpringä¼šè‡ªåŠ¨è£…é…
     * 
     * <span class="hljs-doctag">@param</span> bookDao Springä¼šè‡ªåŠ¨æ³¨å…¥BookDaoå®ä¾‹
     * <span class="hljs-doctag">@return</span> DataSource æ•°æ®æºå®ä¾‹
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">(BookDao bookDao)</span> {       <span class="hljs-comment">//(å‚æ•°ç±»å‹ è‡ªå®šä¹‰å‚æ•°åç§°)</span>
        <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨æ³¨å…¥çš„bookDao</span>
        System.out.println(<span class="hljs-string">"æ³¨å…¥çš„BookDao: "</span> + bookDao);
        System.out.println(<span class="hljs-string">"BookDaoç±»å‹: "</span> + bookDao.getClass().getName());
        
        <span class="hljs-comment">// æ¼”ç¤ºä½¿ç”¨bookDao</span>
        bookDao.save();
        
        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
        ds.setDriverClassName(driver);
        ds.setUrl(url);
        ds.setUsername(userName);
        ds.setPassword(password);
        
        <span class="hljs-keyword">return</span> ds;
    }
    
    <span class="hljs-comment">/** å¯ä»¥æ³¨å…¥å¤šä¸ªä¾èµ–Beançš„ç¤ºä¾‹ */</span>
    <span class="hljs-meta">@Bean</span> 
    <span class="hljs-keyword">public</span> JdbcTemplate <span class="hljs-title function_">jdbcTemplate</span><span class="hljs-params">(DataSource dataSource, BookDao bookDao)</span> {
        <span class="hljs-comment">// è¿™é‡ŒåŒæ—¶æ³¨å…¥äº†dataSourceå’ŒbookDao</span>
        System.out.println(<span class="hljs-string">"åˆ›å»ºJdbcTemplateï¼Œä½¿ç”¨æ•°æ®æº: "</span> + dataSource);
        System.out.println(<span class="hljs-string">"åŒæ—¶å¯è®¿é—®BookDao: "</span> + bookDao);
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JdbcTemplate</span>(dataSource);
    }
}
</code></pre>
<h2 data-id="heading-69">æ³¨è§£å¼€å‘æ€»ç»“</h2>
<p>å‰é¢æˆ‘ä»¬å·²ç»å®Œæˆäº†XMLé…ç½®å’Œæ³¨è§£çš„å¼€å‘å®ç°ï¼Œå¯¹æ¯”å›é¡¾ä¸¤è€…ä¹‹é—´çš„å·®å¼‚:</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b65d06f5667477f9239f8a1b10834d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=MHPZ5Lnfqi6upB6xTkqDh0gWb1Q%3D" alt="image.png" width="100%" loading="lazy"/>
<h2 data-id="heading-70">Springæ•´åˆ</h2>
<p>åœ¨è¿›è¡Œä¼ä¸šçº§å¼€å‘çš„æ—¶å€™ï¼Œé™¤äº†å°†è‡ªå·±å†™çš„ç±»è®©Springç®¡ç†ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†é‡è¦çš„å·¥ä½œå°±æ˜¯æ•´åˆç¬¬ä¸‰æ–¹çš„æŠ€æœ¯ã€‚ä¸‹é¢ç»“åˆIoCå’ŒDIï¼Œæ•´åˆ2ä¸ªå¸¸ç”¨æŠ€æœ¯ï¼Œè¿›ä¸€æ­¥åŠ æ·±å¯¹Springçš„ä½¿ç”¨ç†è§£ã€‚</p>
<h3 data-id="heading-71">Springæ•´åˆMybatisæ€è·¯åˆ†æ</h3>
<h4 data-id="heading-72">ç¯å¢ƒå‡†å¤‡</h4>
<p>åœ¨æ•´åˆä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå›é¡¾Mybatiså¼€å‘çš„ç›¸å…³å†…å®¹ï¼Œå¹¶å‡†å¤‡åŸºç¡€ç¯å¢ƒã€‚</p>
<p><strong>1. æ•°æ®åº“è¡¨å‡†å¤‡</strong><br/>
Mybatisæ˜¯æ¥æ“ä½œæ•°æ®åº“è¡¨ï¼Œæ‰€ä»¥å…ˆåˆ›å»ºä¸€ä¸ªæ•°æ®åº“åŠè¡¨</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºæ•°æ®åº“</span>
<span class="hljs-keyword">create</span> database spring_db <span class="hljs-type">character</span> <span class="hljs-keyword">set</span> utf8;
use spring_db;

<span class="hljs-comment">-- åˆ›å»ºè´¦æˆ·è¡¨</span>
<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> tbl_account(
    id <span class="hljs-type">int</span> <span class="hljs-keyword">primary</span> key auto_increment,
    name <span class="hljs-type">varchar</span>(<span class="hljs-number">35</span>),
    money <span class="hljs-keyword">double</span>
);
</code></pre>
<p><strong>2. é¡¹ç›®ä¾èµ–é…ç½®</strong><br/>
åœ¨pom.xmlä¸­æ·»åŠ ç›¸å…³ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.10.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.6<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.47<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<p><strong>3. æ¨¡å‹ç±»åˆ›å»º</strong><br/>
æ ¹æ®æ•°æ®åº“è¡¨åˆ›å»ºå¯¹åº”çš„å®ä½“ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Account</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> Integer id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> Double money;
    
    <span class="hljs-comment">// setterã€getterã€toStringæ–¹æ³•çœç•¥</span>
}
</code></pre>
<p><strong>4. æ•°æ®è®¿é—®å±‚æ¥å£</strong><br/>
åˆ›å»ºAccountDaoæ¥å£ï¼Œä½¿ç”¨Mybatisæ³¨è§£æ–¹å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">AccountDao</span> {
    <span class="hljs-meta">@Insert("insert into tbl_account(name,money)values(#{name},#{money})")</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">(Account account)</span>;

    <span class="hljs-meta">@Delete("delete from tbl_account where id = #{id}")</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(Integer id)</span>;

    <span class="hljs-meta">@Update("update tbl_account set name = #{name}, money = #{money} where id = #{id}")</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(Account account)</span>;

    <span class="hljs-meta">@Select("select * from tbl_account")</span>
    List&lt;Account&gt; <span class="hljs-title function_">findAll</span><span class="hljs-params">()</span>;

    <span class="hljs-meta">@Select("select * from tbl_account where id = #{id}")</span>
    Account <span class="hljs-title function_">findById</span><span class="hljs-params">(Integer id)</span>;
}
</code></pre>
<p><strong>5. ä¸šåŠ¡å±‚å®ç°</strong><br/>
åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">AccountService</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">(Account account)</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(Integer id)</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(Account account)</span>;
    List&lt;Account&gt; <span class="hljs-title function_">findAll</span><span class="hljs-params">()</span>;
    Account <span class="hljs-title function_">findById</span><span class="hljs-params">(Integer id)</span>;
}

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AccountServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AccountService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> AccountDao accountDao;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">(Account account)</span> {
        accountDao.save(account);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(Account account)</span> {
        accountDao.update(account);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(Integer id)</span> {
        accountDao.delete(id);
    }

    <span class="hljs-keyword">public</span> Account <span class="hljs-title function_">findById</span><span class="hljs-params">(Integer id)</span> {
        <span class="hljs-keyword">return</span> accountDao.findById(id);
    }

    <span class="hljs-keyword">public</span> List&lt;Account&gt; <span class="hljs-title function_">findAll</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> accountDao.findAll();
    }
}
</code></pre>
<p><strong>6. é…ç½®æ–‡ä»¶</strong><br/>
æ·»åŠ  <strong>jdbc.properties</strong> - resourcesç›®å½•ä¸‹æ·»åŠ ï¼Œç”¨äºé…ç½®æ•°æ®åº“è¿æ¥å››è¦ç´ ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">jdbc.driver=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/spring_db?useSSL=false
jdbc.username=root
jdbc.password=root
</code></pre>
<p>useSSL:å…³é—­MySQLçš„SSLè¿æ¥</p>
<p>æ·»åŠ  <strong>Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆSqlMapConfig.xmlï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span>
        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//mybatis.org//DTD Config 3.0//EN"</span>
        <span class="hljs-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¯»å–å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"jdbc.properties"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- åˆ«åæ‰«æçš„åŒ…è·¯å¾„ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.itheima.domain"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ•°æ®æºé…ç½® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">"mysql"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mysql"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"JDBC"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">transactionManager</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"POOLED"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driver"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.driver}"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.url}"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.username}"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.password}"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ˜ å°„æ–‡ä»¶æ‰«æåŒ…è·¯å¾„ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.itheima.dao"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</code></pre>
<p><strong>7. ç¼–å†™åº”ç”¨ç¨‹åº</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-comment">// 1. åˆ›å»ºSqlSessionFactoryBuilderå¯¹è±¡</span>
        <span class="hljs-type">SqlSessionFactoryBuilder</span> <span class="hljs-variable">sqlSessionFactoryBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>();
        
        <span class="hljs-comment">// 2. åŠ è½½SqlMapConfig.xmlé…ç½®æ–‡ä»¶</span>
        <span class="hljs-type">InputStream</span> <span class="hljs-variable">inputStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">"SqlMapConfig.xml"</span>);
        
        <span class="hljs-comment">// 3. åˆ›å»ºSqlSessionFactoryå¯¹è±¡</span>
        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> sqlSessionFactoryBuilder.build(inputStream);
        
        <span class="hljs-comment">// 4. è·å–SqlSession</span>
        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();
        
        <span class="hljs-comment">// 5. è·å–Mapperæ¥å£ä»£ç†å¯¹è±¡å¹¶æ‰§è¡ŒæŸ¥è¯¢</span>
        <span class="hljs-type">AccountDao</span> <span class="hljs-variable">accountDao</span> <span class="hljs-operator">=</span> sqlSession.getMapper(AccountDao.class);
        <span class="hljs-type">Account</span> <span class="hljs-variable">account</span> <span class="hljs-operator">=</span> accountDao.findById(<span class="hljs-number">1</span>);
        System.out.println(account);
        
        <span class="hljs-comment">// 6. é‡Šæ”¾èµ„æº</span>
        sqlSession.close();
    }
}
</code></pre>
<p><strong>8. è¿è¡Œç¨‹åº</strong></p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b845ba835c2340c5856dc26f3ad29047~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=x10DyanGcZJ3XukOz8TpZcvEkiU%3D" alt="image.png" width="55%" loading="lazy"/>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬å®Œæˆäº†MybatisåŸºç¡€ç¯å¢ƒçš„æ­å»ºã€‚åœ¨åç»­çš„æ•´åˆè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Springæ¥ç®¡ç†è¿™äº›ç»„ä»¶ï¼Œç®€åŒ–å¼€å‘æµç¨‹å¹¶æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p>
<h4 data-id="heading-73">Springæ•´åˆMybatisæ€è·¯åˆ†æ</h4>
<p>åœ¨å®ŒæˆMybatisåŸºç¡€ç¯å¢ƒæ­å»ºåï¼Œæˆ‘ä»¬éœ€è¦æ·±å…¥åˆ†æå“ªäº›å¯¹è±¡å¯ä»¥äº¤ç»™Springçš„IoCå®¹å™¨æ¥ç®¡ç†ï¼Œä»¥å®ç°ä¸¤è€…çš„æ— ç¼æ•´åˆã€‚</p>
<p><strong>Mybatisç¨‹åºæ ¸å¿ƒå¯¹è±¡åˆ†æ</strong></p>
<p>é€šè¿‡å¯¹Mybatisè¿è¡Œæµç¨‹çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥è¯†åˆ«å‡ºä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e53d9f6e48fa44f695e74f29ec9f593f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=QrdXOoJCgRqxFk06YBFA8PADVNw%3D" alt="image.png" width="100%" loading="lazy"/>
<p>ä»å›¾ä¸­å¯ä»¥è·å–åˆ°ï¼ŒçœŸæ­£éœ€è¦äº¤ç»™Springç®¡ç†çš„æ˜¯ <strong>SqlSessionFactory</strong>
ï¼Œç®¡ç†å¥½SqlSessionFactoryå°±ç­‰äºç®¡ç†äº†æ•´ä¸ª<strong>Mybatisçš„æ ¸å¿ƒ</strong>ï¼Œå…¶ä»–ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡å®ƒæ¥é—´æ¥ç®¡ç†ã€‚</p>
<p><strong>Mybatisé…ç½®æ–‡ä»¶åˆ†æ</strong></p>
<p>æ•´åˆMybatisï¼Œå°±æ˜¯å°†Mybatisç”¨åˆ°çš„å†…å®¹äº¤ç»™Springç®¡ç†ï¼Œè¯¦ç»†åˆ†æMybatisé…ç½®æ–‡ä»¶ä¸­å„ä¸ªéƒ¨åˆ†ä¸Springæ•´åˆçš„å…³ç³»ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd9b9f5787634c7ba2c0563b0e8290c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=4DGH%2Fk0sB2wjHKMIObf8yHig6KM%3D" alt="image.png" width="100%" loading="lazy"/>
<p><strong>1. å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶è¯»å–</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"jdbc.properties"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
</code></pre>
<ul>
<li>Springæä¾›äº†ä¸“é—¨çš„<code>@PropertySource</code>æ³¨è§£æ¥åŠ è½½propertiesé…ç½®æ–‡ä»¶</li>
<li>å¯ä»¥é€šè¿‡<code>Environment</code>å¯¹è±¡æˆ–<code>@Value</code>æ³¨è§£æ¥è¯»å–é…ç½®å±æ€§</li>
<li><strong>éœ€è¦äº¤ç»™Springç®¡ç†</strong></li>
</ul>
<p><strong>2. ç±»å‹åˆ«ååŒ…æ‰«æ</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.itheima.domain"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span>
</code></pre>
<ul>
<li>åœ¨Springé…ç½®ä¸­å¯ä»¥é€šè¿‡SqlSessionFactoryBeançš„<code>typeAliasesPackage</code>å±æ€§è®¾ç½®</li>
<li>ä¸»è¦ç”¨äºä¸ºSqlSessionFactoryæœåŠ¡</li>
<li><strong>æˆ‘ä»¬ä¸éœ€è¦ç›´æ¥å°†SqlSessionäº¤ç»™Springç®¡ç†</strong>ï¼ŒSqlSessionæ˜¯ç”±SqlSessionFactoryåˆ›å»ºå‡ºæ¥çš„ï¼ŒSqlSessionFactoryäº¤ç»™Springç®¡ç†ï¼Œè®©Springé—´æ¥æ§åˆ¶SqlSessionçš„ç”Ÿå‘½å‘¨æœŸã€‚</li>
<li><strong>éœ€è¦äº¤ç»™Springç®¡ç†</strong></li>
</ul>
<p><strong>3. æ•°æ®æºä¸è¿æ¥æ± é…ç½®</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"POOLED"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driver"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.driver}"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.url}"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.username}"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${jdbc.password}"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span>
</code></pre>
<ul>
<li>Springå·²ç»æä¾›äº†å®Œå–„çš„Druidè¿æ¥æ± æ•´åˆæ–¹æ¡ˆ</li>
<li>å¯ä»¥å•ç‹¬é…ç½®DataSource beanï¼Œå®ç°æ›´å¥½çš„è¿æ¥æ± ç®¡ç†</li>
<li><strong>éœ€è¦äº¤ç»™Springç®¡ç†</strong></li>
</ul>
<p><strong>4. æ˜ å°„æ–‡ä»¶æ‰«æé…ç½®</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.itheima.dao"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span>
</code></pre>
<ul>
<li>åœ¨Springä¸­å¯ä»¥é€šè¿‡MapperScannerConfigureræˆ–<code>@MapperScan</code>æ³¨è§£å®ç°</li>
<li>Mapperæ¥å£çš„å®ä¾‹åŒ–æ—¶æœºä¸SqlSessionFactoryä¸åŒï¼Œéœ€è¦å•ç‹¬ç®¡ç†</li>
<li><strong>éœ€è¦äº¤ç»™Springç®¡ç†</strong></li>
<li>å¦‚æœä½¿ç”¨æ³¨è§£å°±æ²¡æœ‰è¯¥æ˜ å°„æ–‡ä»¶</li>
</ul>
<p><strong>æ•´åˆç­–ç•¥æ€»ç»“</strong></p>








































<table><thead><tr><th>Mybatisç»„ä»¶</th><th>æ˜¯å¦ç”±Springç®¡ç†</th><th>Springæ•´åˆæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>å¤–éƒ¨propertiesé…ç½®</td><td>âœ… æ˜¯</td><td>@PropertySource + Environment</td></tr><tr><td>ç±»å‹åˆ«åæ‰«æ</td><td>âœ… æ˜¯</td><td>SqlSessionFactoryBean.typeAliasesPackage</td></tr><tr><td>æ•°æ®æºè¿æ¥æ± </td><td>âœ… æ˜¯</td><td>ç‹¬ç«‹çš„DataSource Beané…ç½®</td></tr><tr><td>SqlSessionFactory</td><td>âœ… æ˜¯</td><td>SqlSessionFactoryBean</td></tr><tr><td>SqlSession</td><td>âŒ å¦</td><td>ç”±SqlSessionFactoryåˆ›å»ºï¼Œçº¿ç¨‹çº§åˆ«å¯¹è±¡</td></tr><tr><td>Mapperæ¥å£ä»£ç†</td><td>âœ… æ˜¯</td><td>MapperScannerConfigureræˆ–@MapperScan</td></tr></tbody></table>
<h3 data-id="heading-74">Springæ•´åˆMybatis</h3>
<p>é€šè¿‡å‰é¢çš„åˆ†æï¼Œæˆ‘ä»¬å·²ç»æ˜ç¡®äº†Springæ•´åˆMybatiséœ€è¦å®Œæˆçš„ä¸¤é¡¹æ ¸å¿ƒä»»åŠ¡ï¼š</p>
<ol>
<li>Springç®¡ç†MyBatisä¸­çš„SqlSessionFactory</li>
<li>Springç®¡ç†Mapperæ¥å£çš„æ‰«æ</li>
</ol>
<p>ä¸‹é¢æ˜¯å…·ä½“çš„å®ç°æ­¥éª¤ï¼š</p>
<p><strong>æ­¥éª¤1ï¼šæ·»åŠ æ•´åˆä¾èµ–åŒ…</strong></p>
<p>åœ¨pom.xmlä¸­æ·»åŠ å¿…è¦çš„ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Springæ“ä½œæ•°æ®åº“éœ€è¦çš„jaråŒ… --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.10.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- Springä¸Mybatisæ•´åˆçš„jaråŒ…ï¼ˆç”±Mybatisæä¾›ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<p><strong>æ­¥éª¤2ï¼šåˆ›å»ºSpringä¸»é…ç½®ç±»</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * Springä¸»é…ç½®ç±»
 * è´Ÿè´£æ•´ä¸ªåº”ç”¨çš„æ ¸å¿ƒé…ç½®
 */</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@ComponentScan("com.itheima")</span>  <span class="hljs-comment">// åŒ…æ‰«æï¼Œä¸»è¦æ‰«æé¡¹ç›®ä¸­çš„ä¸šåŠ¡ç»„ä»¶å¦‚AccountServiceImpl</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    <span class="hljs-comment">// ä¸»é…ç½®ç±»ï¼Œåç»­ä¼šé€æ­¥å®Œå–„</span>
}
</code></pre>
<p><strong>æ­¥éª¤3ï¼šåˆ›å»ºæ•°æ®æºé…ç½®ç±»</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æ•°æ®æºé…ç½®ç±»
 * è´Ÿè´£æ•°æ®åº“è¿æ¥æ± çš„é…ç½®å’Œç®¡ç†
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcConfig</span> {
    
    <span class="hljs-comment">// ä½¿ç”¨@Valueæ³¨è§£æ³¨å…¥propertiesæ–‡ä»¶ä¸­çš„é…ç½®å€¼</span>
    <span class="hljs-meta">@Value("${jdbc.driver}")</span>
    <span class="hljs-keyword">private</span> String driver;
    
    <span class="hljs-meta">@Value("${jdbc.url}")</span>
    <span class="hljs-keyword">private</span> String url;
    
    <span class="hljs-meta">@Value("${jdbc.username}")</span>
    <span class="hljs-keyword">private</span> String userName;
    
    <span class="hljs-meta">@Value("${jdbc.password}")</span>
    <span class="hljs-keyword">private</span> String password;

    <span class="hljs-comment">/**
     * åˆ›å»ºæ•°æ®æºBean
     * <span class="hljs-doctag">@return</span> DruidDataSourceå®ä¾‹
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span>{
        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
        ds.setDriverClassName(driver);
        ds.setUrl(url);
        ds.setUsername(userName);
        ds.setPassword(password);
        <span class="hljs-keyword">return</span> ds;
    }
}
</code></pre>
<p><strong>æ­¥éª¤4ï¼šå®Œå–„ä¸»é…ç½®ç±»</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * å®Œå–„åçš„Springä¸»é…ç½®ç±»
 * æ•´åˆpropertiesé…ç½®å’Œæ•°æ®æºé…ç½®
 */</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@ComponentScan("com.itheima")</span>
<span class="hljs-meta">@PropertySource("classpath:jdbc.properties")</span>  <span class="hljs-comment">// åŠ è½½jdbc.propertiesé…ç½®æ–‡ä»¶</span>
<span class="hljs-meta">@Import(JdbcConfig.class)</span>  <span class="hljs-comment">// å¼•å…¥æ•°æ®æºé…ç½®ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    <span class="hljs-comment">// ç°åœ¨é…ç½®ç±»å·²ç»å…·å¤‡äº†æ•°æ®åº“è¿æ¥çš„èƒ½åŠ›</span>
}
</code></pre>
<p><strong>æ­¥éª¤5ï¼šåˆ›å»ºMybatisé…ç½®ç±»</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * Mybatisé…ç½®ç±»
 * è´Ÿè´£SqlSessionFactoryå’ŒMapperæ‰«æçš„é…ç½®
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybatisConfig</span> {
    
    <span class="hljs-comment">/**
     * å®šä¹‰SqlSessionFactoryBean
     * ç”¨äºåˆ›å»ºSqlSessionFactoryå¯¹è±¡
     * 
     * <span class="hljs-doctag">@param</span> dataSource æ•°æ®æºï¼ŒSpringä¼šè‡ªåŠ¨æ³¨å…¥
     * <span class="hljs-doctag">@return</span> SqlSessionFactoryBeanå®ä¾‹
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> SqlSessionFactoryBean <span class="hljs-title function_">sqlSessionFactory</span><span class="hljs-params">(DataSource dataSource)</span>{
        <span class="hljs-type">SqlSessionFactoryBean</span> <span class="hljs-variable">ssfb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBean</span>();
        
        <span class="hljs-comment">// è®¾ç½®æ¨¡å‹ç±»çš„åˆ«åæ‰«æåŒ…è·¯å¾„</span>
        ssfb.setTypeAliasesPackage(<span class="hljs-string">"com.itheima.domain"</span>);
        
        <span class="hljs-comment">// è®¾ç½®æ•°æ®æº</span>
        ssfb.setDataSource(dataSource);
        
        <span class="hljs-keyword">return</span> ssfb;
    }
    
    <span class="hljs-comment">/**
     * å®šä¹‰MapperScannerConfigurer
     * ç”¨äºæ‰«æMapperæ¥å£å¹¶åˆ›å»ºä»£ç†å¯¹è±¡
     * 
     * <span class="hljs-doctag">@return</span> MapperScannerConfigurerå®ä¾‹
     */</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> MapperScannerConfigurer <span class="hljs-title function_">mapperScannerConfigurer</span><span class="hljs-params">()</span>{
        <span class="hljs-type">MapperScannerConfigurer</span> <span class="hljs-variable">msc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MapperScannerConfigurer</span>();
        
        <span class="hljs-comment">// è®¾ç½®Mapperæ¥å£çš„æ‰«æåŒ…è·¯å¾„</span>
        msc.setBasePackage(<span class="hljs-string">"com.itheima.dao"</span>);
        
        <span class="hljs-keyword">return</span> msc;
    }
}
</code></pre>
<blockquote>
<p><strong>æ ¸å¿ƒç»„ä»¶è¯´æ˜</strong></p>
<p>SqlSessionFactoryBean çš„ä½œç”¨åŸç†ï¼š</p>
<ul>
<li>SqlSessionFactoryBeanæ˜¯Springçš„FactoryBeanæ¥å£çš„å®ç°ç±»ï¼Œå°è£…äº†SqlSessionFactoryçš„åˆ›å»ºè¿‡ç¨‹ï¼›</li>
<li>Springåœ¨éœ€è¦SqlSessionFactoryæ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨å…¶getObject()æ–¹æ³•ï¼ŒgetObject()æ–¹æ³•å†…éƒ¨ä½¿ç”¨ä¹‹å‰é€šè¿‡setteræ–¹æ³•è®¾ç½®çš„é…ç½®ï¼ˆæ•°æ®æºã€ç±»å‹åˆ«ååŒ…ç­‰ï¼‰ï¼Œæ„å»ºå¹¶è¿”å›çœŸæ­£çš„SqlSessionFactoryå®ä¾‹ï¼Œå®ŒæˆMybatisåˆå§‹åŒ–</li>
<li>å®ƒç®€åŒ–äº†é…ç½®ï¼Œæˆ‘ä»¬åªéœ€è¦è®¾ç½®å¿…è¦çš„å‚æ•°ï¼ˆæ•°æ®æºã€ç±»å‹åˆ«ååŒ…ç­‰ï¼‰</li>
</ul>
<p>MapperScannerConfigurer çš„ä½œç”¨åŸç†</p>
<ul>
<li>MapperScannerConfigureræ˜¯BeanDefinitionRegistryPostProcessoræ¥å£çš„å®ç°ç±»</li>
<li>åœ¨Springå®¹å™¨åˆå§‹åŒ–é˜¶æ®µï¼Œå®ƒä¼šè‡ªåŠ¨æ‰«ææŒ‡å®šåŒ…ä¸‹çš„æ‰€æœ‰æ¥å£ï¼Œä¸ºæ¯ä¸ªMapperæ¥å£åˆ›å»ºBeanDefinitionï¼Œå¹¶è®¾ç½®å…¶å·¥å‚ä¸ºMapperFactoryBeanï¼ŒMapperFactoryBeanå†ä¸ºæ¯ä¸ªæ¥å£åˆ›å»ºJDKåŠ¨æ€ä»£ç†å¯¹è±¡</li>
<li>è¿™æ ·Serviceå±‚å°±èƒ½ç›´æ¥é€šè¿‡@Autowiredæ³¨å…¥Mapperæ¥å£</li>
</ul>
</blockquote>
<p><strong>æ­¥éª¤6ï¼šæ•´åˆMybatisé…ç½®åˆ°ä¸»é…ç½®ç±»</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * å®Œæ•´çš„Springä¸»é…ç½®ç±»
 * æ•´åˆäº†æ‰€æœ‰å¿…è¦çš„é…ç½®
 */</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@ComponentScan("com.itheima")</span>
<span class="hljs-meta">@PropertySource("classpath:jdbc.properties")</span>
<span class="hljs-meta">@Import({JdbcConfig.class, MybatisConfig.class})</span>  <span class="hljs-comment">// åŒæ—¶å¼•å…¥æ•°æ®æºå’ŒMybatisé…ç½®</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfig</span> {
    <span class="hljs-comment">// ç°åœ¨é…ç½®ç±»å·²ç»å®Œæ•´ï¼ŒåŒ…å«äº†æ•°æ®æºå’ŒMybatisçš„æ•´åˆé…ç½®</span>
}
</code></pre>
<p><strong>æ­¥éª¤7ï¼šç¼–å†™è¿è¡Œæµ‹è¯•ç±»</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * åº”ç”¨è¿è¡Œç±»
 * æµ‹è¯•Springä¸Mybatisçš„æ•´åˆæ•ˆæœ
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App2</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºSpringå®¹å™¨ï¼ˆåŸºäºæ³¨è§£é…ç½®ï¼‰</span>
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);

        <span class="hljs-comment">// ä»å®¹å™¨ä¸­è·å–AccountServiceå®ä¾‹</span>
        <span class="hljs-type">AccountService</span> <span class="hljs-variable">accountService</span> <span class="hljs-operator">=</span> ctx.getBean(AccountService.class);

        <span class="hljs-comment">// è°ƒç”¨ä¸šåŠ¡æ–¹æ³•ï¼Œæµ‹è¯•æ•´åˆæ•ˆæœ</span>
        <span class="hljs-type">Account</span> <span class="hljs-variable">account</span> <span class="hljs-operator">=</span> accountService.findById(<span class="hljs-number">1</span>);
        System.out.println(account);
    }
}
</code></pre>
<p><strong>æ­¥éª¤8ï¼šè¿è¡ŒéªŒè¯</strong></p>
<p>è¿è¡Œç¨‹åºåï¼Œå¦‚æœæ§åˆ¶å°æ­£ç¡®è¾“å‡ºæŸ¥è¯¢ç»“æœï¼Œè¯´æ˜Springä¸Mybatisæ•´åˆæˆåŠŸã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25c2fecb4fdc423a833e1c68c69df0ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=1FJ3jPITHVUErdDYyjMCovRVrNA%3D" alt="image.png" width="90%" loading="lazy"/>
<p><strong>æ•´åˆæ€»ç»“</strong></p>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬æˆåŠŸå®Œæˆäº†Springä¸Mybatisçš„æ•´åˆï¼Œæ ¸å¿ƒè¦ç‚¹åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>ä¸¤ä¸ªå…³é”®ç±»</strong>ï¼š
<ul>
<li><code>SqlSessionFactoryBean</code>ï¼šè´Ÿè´£åˆ›å»ºSqlSessionFactory</li>
<li><code>MapperScannerConfigurer</code>ï¼šè´Ÿè´£æ‰«æå’Œæ³¨å†ŒMapperæ¥å£</li>
</ul>
</li>
<li><strong>é…ç½®åˆ†ç¦»</strong>ï¼š
<ul>
<li>æ•°æ®æºé…ç½®ç‹¬ç«‹ç®¡ç†</li>
<li>Mybatisé…ç½®ç‹¬ç«‹ç®¡ç†</li>
<li>ä¸»é…ç½®ç±»ç»Ÿä¸€å¯¼å…¥</li>
</ul>
</li>
<li><strong>ä¾èµ–æ³¨å…¥</strong>ï¼š
<ul>
<li>SqlSessionFactoryè‡ªåŠ¨æ³¨å…¥DataSource</li>
<li>Serviceå±‚è‡ªåŠ¨æ³¨å…¥Mapperæ¥å£</li>
</ul>
</li>
</ol>
<p>è¿™ç§æ•´åˆæ–¹å¼å¤§å¤§ç®€åŒ–äº†Mybatisçš„ä½¿ç”¨ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å¼€å‘ï¼Œè€Œæ— éœ€å…³å¿ƒåº•å±‚çš„èµ„æºç®¡ç†å’Œå¯¹è±¡åˆ›å»ºã€‚</p>
<h3 data-id="heading-75">Springæ•´åˆJUnitï¼ˆé ç°ä»£JUnit5æµ‹è¯•ç±»ï¼‰</h3>
<p><strong>ä¸€ã€æ•´åˆå·®å¼‚</strong><br/>
æ•´åˆJunitä¸æ•´åˆDruidã€MyBatisæœ‰æœ¬è´¨åŒºåˆ«ï¼š</p>




















<table><thead><tr><th>æ•´åˆç±»å‹</th><th>ä½œç”¨</th><th>åœ¨ç¨‹åºä¸­çš„è§’è‰²</th></tr></thead><tbody><tr><td>Druid/MyBatis</td><td>ç¨‹åºåŠŸèƒ½ç»„ä»¶</td><td>å‚ä¸ç¨‹åºè¿è¡Œï¼Œæ˜¯ç¨‹åºä¸»ä½“éƒ¨åˆ†</td></tr><tr><td>Junit</td><td>å•å…ƒæµ‹è¯•å·¥å…·</td><td>ä¸å‚ä¸æœ€ç»ˆç¨‹åºè¿è¡Œï¼Œæ˜¯è¾…åŠ©æµ‹è¯•å·¥å…·</td></tr></tbody></table>
<p><strong>äºŒã€ç¯å¢ƒå‡†å¤‡</strong></p>
<ol>
<li>åŸºç¡€ç¯å¢ƒï¼šå¤ç”¨Spring+MyBatisæ•´åˆé¡¹ç›®ç»“æ„</li>
<li>é¡¹ç›®ç»“æ„ ç›´æ¥ä½¿ç”¨Springä¸MyBatisæ•´åˆçš„ç¯å¢ƒï¼š\ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e91abcc2abfd478f80ae3733bb0c3942~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOh5p2w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764665157&amp;x-signature=o0P%2FovdvCc%2FwAzwMwTghgu0Q5h8%3D" alt="image.png" width="40%" loading="lazy"/></li>
</ol>
<p><strong>ä¸‰ã€æ•´åˆæ­¥éª¤è¯¦è§£</strong></p>
<p>æ­¥éª¤1ï¼šæ·»åŠ ä¾èµ–</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- JUnitå•å…ƒæµ‹è¯• --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Springæµ‹è¯•æ”¯æŒ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.10.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>æ­¥éª¤2ï¼šç¼–å†™æµ‹è¯•ç±»<br/>
åœ¨test\javaä¸‹åˆ›å»ºä¸€ä¸ª<code>AccountServiceTest.java</code>ï¼Œè¿™ä¸ª<code>.java</code>æ–‡ä»¶åå­—è‡ªå®šä¹‰</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è®¾ç½®ä½¿ç”¨Springçš„æµ‹è¯•è¿è¡Œå™¨</span>
<span class="hljs-meta">@RunWith(SpringJUnit4ClassRunner.class)</span>
<span class="hljs-comment">// è®¾ç½®Springç¯å¢ƒå¯¹åº”çš„é…ç½®ç±»</span>
<span class="hljs-meta">@ContextConfiguration(classes = {SpringConfiguration.class})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AccountServiceTest</span> {
    
    <span class="hljs-comment">// è‡ªåŠ¨æ³¨å…¥è¦æµ‹è¯•çš„Bean</span>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> AccountService accountService;
    
    <span class="hljs-comment">// ç¼–å†™æµ‹è¯•æ–¹æ³•</span>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testFindById</span><span class="hljs-params">()</span>{
        System.out.println(accountService.findById(<span class="hljs-number">1</span>));
    }
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testFindAll</span><span class="hljs-params">()</span>{
        System.out.println(accountService.findAll());
    }
}
</code></pre>
<p><strong>å››ã€æ ¸å¿ƒæ³¨è§£è¯¦è§£</strong></p>
<ol>
<li><strong>@RunWith</strong> - è®¾ç½®æµ‹è¯•è¿è¡Œå™¨ï¼Œå†™åœ¨æµ‹è¯•ç±»å®šä¹‰ä¸Šæ–¹<br/>
ä½œç”¨ï¼šå‘Šè¯‰JUnitä¸è¦ä½¿ç”¨é»˜è®¤çš„è¿è¡Œå™¨ï¼Œè€Œæ˜¯ä½¿ç”¨æŒ‡å®šçš„è¿è¡Œå™¨
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å›ºå®šå†™æ³•ï¼šä½¿ç”¨Springçš„JUnitè¿è¡Œå™¨</span>
<span class="hljs-meta">@RunWith(SpringJUnit4ClassRunner.class)</span>
</code></pre>
</li>
<li><strong>@ContextConfiguration</strong> - åŠ è½½Springé…ç½®ï¼Œå†™åœ¨æµ‹è¯•ç±»å®šä¹‰ä¸Šæ–¹<br/>
æ ¹æ®é…ç½®æ–¹å¼é€‰æ‹©å…¶ä¸­ä¸€ç§ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹å¼1ï¼šåŠ è½½æ³¨è§£é…ç½®ç±»ï¼ˆæ¨èï¼‰</span>
<span class="hljs-meta">@ContextConfiguration(classes = {é…ç½®ç±»å.class})</span>

<span class="hljs-comment">// æ–¹å¼2ï¼šåŠ è½½XMLé…ç½®æ–‡ä»¶</span>
<span class="hljs-meta">@ContextConfiguration(locations = {"é…ç½®æ–‡ä»¶å.xml"})</span>

<span class="hljs-comment">// æ–¹å¼3ï¼šåŠ è½½å¤šä¸ªé…ç½®ï¼Œç”¨æ•°ç»„æ ¼å¼è¡¨ç¤º</span>
<span class="hljs-meta">@ContextConfiguration(classes = {Config1.class, Config2.class})</span>
<span class="hljs-meta">@ContextConfiguration(locations = {"classpath:config1.xml", "classpath:config2.xml"})</span>
</code></pre>
</li>
</ol>
<p><strong>äº”ã€å·¥ä½œåŸç†è§£æï¼šä¼ ç»Ÿæµ‹è¯• vs Springæ•´åˆæµ‹è¯•</strong></p>
<p><strong>ä¼ ç»ŸJUnitæµ‹è¯•æµç¨‹</strong>ï¼š<br/>
å¯åŠ¨JUnit â†’ åˆ›å»ºæµ‹è¯•ç±»å®ä¾‹ â†’ æ‰§è¡Œæµ‹è¯•æ–¹æ³•ï¼ˆæ‰‹åŠ¨åˆ›å»ºå®¹å™¨ â†’ æ‰‹åŠ¨è·å–Bean â†’ æ‰§è¡Œæµ‹è¯•ï¼‰</p>
<p>ä¼ ç»Ÿæµ‹è¯•ä»£ç ç¤ºä¾‹ï¼ˆå¯¹æ¯”ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TraditionalTest</span> {
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testFindById</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ‰‹åŠ¨åˆ›å»ºå®¹å™¨</span>
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnnotationConfigApplicationContext</span>(SpringConfiguration.class);
        <span class="hljs-comment">// æ‰‹åŠ¨è·å–Bean</span>
        <span class="hljs-type">AccountService</span> <span class="hljs-variable">accountService</span> <span class="hljs-operator">=</span> ctx.getBean(AccountService.class);
        <span class="hljs-comment">// æ‰§è¡Œæµ‹è¯•</span>
        System.out.println(accountService.findById(<span class="hljs-number">1</span>));
    }
}
</code></pre>
<p><strong>Springæ•´åˆJUnitæµ‹è¯•æµç¨‹</strong>ï¼š<br/>
å¯åŠ¨JUnit â†’ åˆ›å»ºSpringå®¹å™¨ â†’ ä»å®¹å™¨ä¸­è·å–æµ‹è¯•ç±»å®ä¾‹ â†’ è‡ªåŠ¨æ³¨å…¥ä¾èµ– â†’ æ‰§è¡Œæµ‹è¯•æ–¹æ³•</p>
<p>Springæ•´åˆJUnitæµ‹è¯•ä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RunWith(SpringJUnit4ClassRunner.class)</span>
<span class="hljs-meta">@ContextConfiguration(classes = {SpringConfiguration.class})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IntegratedTest</span> {
    <span class="hljs-meta">@Autowired</span>  <span class="hljs-comment">// è‡ªåŠ¨æ³¨å…¥</span>
    <span class="hljs-keyword">private</span> AccountService accountService;
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testFindById</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨æ³¨å…¥çš„Bean</span>
        System.out.println(accountService.findById(<span class="hljs-number">1</span>));
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ Symbol è§£å†³å¤šäººåä½œä¸­çš„å¯¹è±¡å±æ€§å†²çªå®æˆ˜]]></title>    <link>https://juejin.cn/post/7576272680520073259</link>    <guid>https://juejin.cn/post/7576272680520073259</guid>    <pubDate>2025-11-25T07:42:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576272680520073259" data-draft-id="7576273949187489834" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ Symbol è§£å†³å¤šäººåä½œä¸­çš„å¯¹è±¡å±æ€§å†²çªå®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-25T07:42:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é—²äº‘ing"/> <meta itemprop="url" content="https://juejin.cn/user/2974655942502250"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ Symbol è§£å†³å¤šäººåä½œä¸­çš„å¯¹è±¡å±æ€§å†²çªå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2974655942502250/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é—²äº‘ing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T07:42:15.000Z" title="Tue Nov 25 2025 07:42:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç”¨ Symbol è§£å†³å¤šäººåä½œä¸­çš„å¯¹è±¡å±æ€§å†²çªå®æˆ˜</h2>
<p>åœ¨ ES6 å¼•å…¥çš„ä¼—å¤šæ–°ç‰¹æ€§ä¸­ï¼ŒSymbol æ˜¾å¾—å°¤ä¸ºç‰¹åˆ«ï¼šå®ƒä»¥å‡½æ•°å½¢å¼è°ƒç”¨ï¼Œå´è¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼›å®ƒä¸å¸¸å‡ºç°åœ¨æ—¥å¸¸ä»£ç ä¸­ï¼Œå´åœ¨å¤šäººåä½œæˆ–å¤æ‚ç³»ç»Ÿä¸­æ‰®æ¼”ç€â€œé˜²å†²çªç›¾ç‰Œâ€çš„å…³é”®è§’è‰²ã€‚</p>
<p>æœ¬æ–‡å°†ç»“åˆå…·ä½“ä»£ç ï¼Œæ·±å…¥è§£æ Symbol çš„æœ¬è´¨ç‰¹æ€§ä¸å®é™…åº”ç”¨åœºæ™¯ï¼ŒåŠ©ä½ çœŸæ­£ç†è§£â€”â€”ä¸ºä»€ä¹ˆè¿™ä¸ªçœ‹ä¼¼å†·é—¨çš„ç±»å‹ï¼Œæ˜¯ç°ä»£ JavaScript å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€ç¯ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€æ ¸å¿ƒè®¤çŸ¥ï¼šSymbol æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<h4 data-id="heading-2">1. æ•°æ®ç±»å‹å®šä½ï¼šES6+ æ–°å¢çš„ç®€å•æ•°æ®ç±»å‹</h4>
<p>JavaScript å…±åŒ…å« 8 ç§æ•°æ®ç±»å‹ï¼Œå¯ç”¨â€œä¸ƒä¸Šå…«ä¸‹â€å¿«é€Ÿè®°å¿†ï¼š</p>
<ul>
<li><strong>ç®€å•æ•°æ®ç±»å‹ï¼ˆ7 ç§ï¼‰</strong> ï¼šä¼ ç»Ÿ 5 ç§ï¼ˆnumberã€booleanã€stringã€nullã€undefinedï¼‰+ ES6+ æ–°å¢ 2 ç§ï¼ˆbigintã€symbolï¼‰</li>
<li><strong>å¤æ‚æ•°æ®ç±»å‹ï¼ˆ1 ç§ï¼‰</strong> ï¼šobjectï¼ˆå«æ•°ç»„ã€å‡½æ•°ã€å¯¹è±¡ç­‰ï¼‰</li>
</ul>
<p>Symbol çš„åŸºæœ¬åˆ›å»ºæ–¹å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ„é€ å‡½æ•°å½¢å¼ç”³æ˜ï¼Œå´æ˜¯ç®€å•æ•°æ®ç±»å‹</span>
<span class="hljs-keyword">const</span> id1 = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">''</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> id1); <span class="hljs-comment">// è¾“å‡ºï¼šsymbol</span>
</code></pre>
<ul>
<li>Symbol ç”¨ <code>Symbol()</code> å‡½æ•°ç”³æ˜ï¼Œä½†<strong>ç¦æ­¢ä½¿ç”¨ new å…³é”®å­—</strong>ï¼ˆ<code>new Symbol('')</code> ä¼šæŠ›å‡º TypeErrorï¼‰</li>
<li><code>typeof</code> æ£€æµ‹è¿”å› <code>symbol</code>ï¼Œæ˜ç¡®å…¶ç®€å•æ•°æ®ç±»å‹çš„æœ¬è´¨ï¼Œä¸ object ä¸¥æ ¼åŒºåˆ†</li>
</ul>
<h4 data-id="heading-3">2. æ ¸å¿ƒç‰¹æ€§ï¼šç»å¯¹ç‹¬ä¸€æ— äºŒ</h4>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">id1</span> = Symbol(<span class="hljs-string">''</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">id2</span> = Symbol(<span class="hljs-string">''</span>)<span class="hljs-comment">;</span>
// éªŒè¯ç‹¬ä¸€æ— äºŒç‰¹æ€§
console.log(<span class="hljs-attr">id1</span> === id2)<span class="hljs-comment">; // è¾“å‡ºï¼šfalse</span>
// ç›¸åŒæè¿°ç¬¦çš„ Symbol ä»ä¸ç›¸ç­‰
const <span class="hljs-attr">s1</span> = Symbol(<span class="hljs-string">'äºŒå“ˆ'</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">s2</span> = Symbol(<span class="hljs-string">'äºŒå“ˆ'</span>)<span class="hljs-comment">;</span>
console.log(<span class="hljs-attr">s1</span> == s2)<span class="hljs-comment">; // è¾“å‡ºï¼šfalse</span>
</code></pre>
<p>è¿™æ˜¯ Symbol æœ€æ ¸å¿ƒçš„ä»·å€¼â€”â€”<strong>æ— è®ºæè¿°ç¬¦ï¼ˆæ‹¬å·å†…çš„å­—ç¬¦ä¸²ï¼‰æ˜¯å¦ç›¸åŒï¼Œæ¯æ¬¡è°ƒç”¨</strong> <strong><code>Symbol()</code></strong> <strong>éƒ½ä¼šç”Ÿæˆå…¨æ–°çš„ã€ä¸å¯é‡å¤çš„å€¼</strong>ã€‚</p>
<p>æ­£å¦‚ä»£ç æ‰€ç¤ºï¼š<code>Symbol('')</code>ç”Ÿæˆçš„ id1 å’Œ id2ä¸<code>Symbol('äºŒå“ˆ')</code> ç”Ÿæˆçš„ s1 å’Œ s2ï¼Œå³ä¾¿æè¿°ç¬¦ä¸€è‡´ï¼Œ<code>==</code> å’Œ <code>===</code> æ¯”è¾ƒç»“æœå‡ä¸º falseã€‚è¿™ç§â€œå¤©ç”Ÿå”¯ä¸€â€çš„ç‰¹æ€§ï¼Œè®© Symbol æˆä¸ºé¿å…å‘½åå†²çªçš„æœ€ä¼˜è§£ã€‚</p>
<h4 data-id="heading-4">3. æè¿°ç¬¦çš„ä½œç”¨ï¼šä»…ç”¨äºæ ‡è¯†ï¼Œä¸å½±å“å”¯ä¸€æ€§</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> secretKey = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'secret'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(secretKey,<span class="hljs-string">'/////'</span>); <span class="hljs-comment">// è¾“å‡ºï¼šSymbol(secret) /////</span>
</code></pre>
<p>Symbol å‡½æ•°çš„å‚æ•°æ˜¯å¯é€‰çš„æè¿°ç¬¦ï¼ˆlabelï¼‰ï¼Œå…¶ä½œç”¨ä»…ä¸ºï¼š</p>
<ul>
<li>è°ƒè¯•æ—¶åŒºåˆ†ä¸åŒ Symbolï¼š<code>console.log(secretKey,'/////')</code> è¾“å‡º <code>Symbol(secret) /////</code>ï¼Œä¾¿äºå®šä½</li>
<li>é€šè¿‡ <code>description</code> å±æ€§è·å–ï¼š<code>console.log(s1.description)</code> è¾“å‡º <code>äºŒå“ˆ</code></li>
</ul>
<p>æ³¨æ„ï¼šæè¿°ç¬¦ä»…ä¸ºè¾…åŠ©è¯´æ˜ï¼Œä¸å…·å¤‡â€œæ ‡è¯†å”¯ä¸€æ€§â€çš„åŠŸèƒ½ï¼Œç›¸åŒæè¿°ç¬¦çš„ Symbol ä¾ç„¶æ˜¯ç‹¬ç«‹çš„å€¼ã€‚</p>
<h3 data-id="heading-5">äºŒã€æ ¸å¿ƒç”¨æ³•ï¼šå¤šäººåä½œä¸­ä¸ºä»€ä¹ˆéœ€è¦ Symbolï¼Ÿ</h3>
<h4 data-id="heading-6">1. é¿å…å¯¹è±¡ Key å†²çªï¼šåä½œä¸­çš„â€œå®‰å…¨é”â€</h4>
<p>â€œSymbol å¯ä»¥ä½œä¸ºå¯¹è±¡çš„å”¯ä¸€ keyï¼Œç”¨äºå¤šäººåä½œï¼Œé¿å…å‘½åå†²çªâ€ï¼Œè¿™æ˜¯ Symbol æœ€å®ç”¨çš„åœºæ™¯ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å¯¹æ¯”ä¸åŒç±»å‹ Key çš„è¡¨ç°</span>
<span class="hljs-keyword">const</span> a = <span class="hljs-string">'ecut'</span>
<span class="hljs-keyword">const</span> user = {
  [<span class="hljs-meta">secretKey</span>]: <span class="hljs-string">'111222'</span>, <span class="hljs-comment">// Symbol ç±»å‹ Key</span>
  email: <span class="hljs-string">'1234@163.com'</span>,
  name: <span class="hljs-string">'å°æ˜'</span>,
  <span class="hljs-string">"a"</span>: <span class="hljs-number">456</span>, <span class="hljs-comment">// å­—ç¬¦ä¸²å­—é¢é‡ Key</span>
  [<span class="hljs-meta">a</span>]: <span class="hljs-number">123</span> <span class="hljs-comment">// å˜é‡ Keyï¼ˆæœ¬è´¨æ˜¯å­—ç¬¦ä¸² 'ecut'ï¼‰</span>
}
console.log(user.ecut, user[a]); <span class="hljs-comment">// è¾“å‡ºï¼š123 123ï¼ˆå­—ç¬¦ä¸² Key è¢«è¦†ç›–ï¼‰</span>
user.email = <span class="hljs-string">'xiaoming@qq.com'</span>
</code></pre>
<p>åœ¨å¤šäººåä½œæˆ–å¼•å…¥ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œå­—ç¬¦ä¸² Key ææ˜“å‘ç”Ÿå†²çªï¼š</p>
<ul>
<li>å¼€å‘è€… A ç»™ <code>user</code> å¯¹è±¡æ·»åŠ  <code>a: 456</code></li>
<li>å¼€å‘è€… B ä¸çŸ¥æƒ…ï¼Œé€šè¿‡ <code>[a]: 123</code>ï¼ˆa ä¸º 'ecut' å˜é‡ï¼‰æ·»åŠ å±æ€§</li>
<li>æœ€ç»ˆåè€…è¦†ç›–å‰è€…ï¼Œå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼ˆä»£ç ä¸­ <code>user.ecut</code> è¾“å‡º 123 å³ä¸ºè¯æ˜ï¼‰</li>
</ul>
<p>è€Œ Symbol ä½œä¸º Key æ—¶ï¼Œå®Œå…¨è§„é¿äº†è¿™ä¸€é—®é¢˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> wes = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'Wes'</span>);
<span class="hljs-keyword">const</span> person = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'Wes'</span>);

<span class="hljs-comment">// å¤šäººåä½œæ·»åŠ å±æ€§ï¼ŒSymbol Key ä¸è¦†ç›–</span>
<span class="hljs-keyword">const</span> classRoom = {
  [<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'oliva'</span>)]: {<span class="hljs-attr">grade</span>: <span class="hljs-number">80</span>, <span class="hljs-attr">gender</span>: <span class="hljs-string">'female'</span>},
  [<span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'oliva'</span>)]: {<span class="hljs-attr">grade</span>: <span class="hljs-number">85</span>, <span class="hljs-attr">gender</span>: <span class="hljs-string">'female'</span>}, <span class="hljs-comment">// ä¸è¢«è¦†ç›–</span>
  <span class="hljs-string">"dl"</span>: [<span class="hljs-string">"å¼ ä¸‰"</span>,<span class="hljs-string">"æå››"</span>] <span class="hljs-comment">// å­—ç¬¦ä¸² Key</span>
}
</code></pre>
<ul>
<li>å³ä¾¿ä¸¤ä¸ª Symbol çš„æè¿°ç¬¦ç›¸åŒï¼ˆå¦‚ <code>Symbol('oliva')</code>ï¼‰ï¼Œä¹Ÿä¼šè¢«è§†ä¸ºä¸¤ä¸ªç‹¬ç«‹ Key</li>
<li>ä¸ä¼šç›¸äº’è¦†ç›–ï¼Œæ‰€æœ‰æ•°æ®éƒ½èƒ½å®Œæ•´ä¿ç•™ï¼ˆclassRoom ä¸­ä¸¤ä¸ª oliva çš„æ•°æ®å‡è¢«ä¿ç•™ï¼‰</li>
</ul>
<h4 data-id="heading-7">2. Symbol Key ä¸å¯æšä¸¾ï¼šéšè—å†…éƒ¨å±æ€§</h4>
<p>æåˆ°â€œfor key in ä¸å¯ä»¥æšä¸¾â€ï¼Œè¿™æ˜¯ Symbol çš„å¦ä¸€é‡è¦ç‰¹æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// for...in æ— æ³•æšä¸¾ Symbol Key</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> person <span class="hljs-keyword">in</span> classRoom) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person,<span class="hljs-string">'/////'</span>); <span class="hljs-comment">// ä»…è¾“å‡ºï¼šdl /////</span>
}

<span class="hljs-comment">// ä¸“å±æ–¹æ³•è·å– Symbol Key</span>
<span class="hljs-keyword">const</span> syms = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertySymbols</span>(classRoom);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(syms); <span class="hljs-comment">// è¾“å‡ºä¸¤ä¸ª Symbol å®ä¾‹æ•°ç»„</span>
<span class="hljs-keyword">const</span> data = syms.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">sym</span> =&gt;</span> classRoom[sym]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data); <span class="hljs-comment">// è¾“å‡ºä¸¤ä¸ª oliva çš„å®Œæ•´æ•°æ®</span>
</code></pre>
<ul>
<li><code>for...in</code>ã€<code>Object.keys()</code>ã€<code>Object.values()</code> å‡æ— æ³•éå†åˆ° Symbol ç±»å‹çš„ Key</li>
<li>ä»…èƒ½é€šè¿‡ <code>Object.getOwnPropertySymbols(obj)</code> ä¸“é—¨è·å–å¯¹è±¡çš„æ‰€æœ‰ Symbol Key</li>
</ul>
<p>è¿™ä¸€ç‰¹æ€§å¯ç”¨äºéšè—å¯¹è±¡çš„â€œå†…éƒ¨å±æ€§â€ï¼Œé¿å…è¢«å¤–éƒ¨æ„å¤–ä¿®æ”¹æˆ–éå†ã€‚ä¾‹å¦‚ä»£ç ä¸­çš„ <code>secretKey</code> å¯¹åº”çš„ <code>111222</code>ï¼Œå¤–éƒ¨æ— æ³•é€šè¿‡å¸¸è§„éå†è·å–ï¼Œåªèƒ½é€šè¿‡æŒæœ‰ <code>secretKey</code> å˜é‡æ‰èƒ½è®¿é—®ã€‚</p>
<h3 data-id="heading-8">ä¸‰ã€å…³é”®æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>ç”³æ˜é™åˆ¶ï¼šå¿…é¡»ç”¨ <code>Symbol()</code> å‡½æ•°ç›´æ¥ç”³æ˜ï¼Œä¸èƒ½ä½¿ç”¨ <code>new</code>ï¼Œå¦åˆ™æŠ¥é”™ï¼›</li>
<li>æè¿°ç¬¦å¯é€‰ï¼šæ‹¬å·å†…çš„å­—ç¬¦ä¸²å¯çœç•¥ï¼Œçœç•¥åæè¿°ç¬¦ä¸º <code>undefined</code>ï¼Œä½†ä¸å½±å“å”¯ä¸€æ€§ï¼›</li>
<li>ä¸è¦†ç›–ç‰¹æ€§ï¼šåŒä¸€å¯¹è±¡ä¸­ï¼Œå¤šä¸ª Symbol Key å³ä¾¿æè¿°ç¬¦ç›¸åŒï¼Œä¹Ÿè§†ä¸ºç‹¬ç«‹å±æ€§ï¼Œä¸ä¼šè¦†ç›–ï¼›</li>
<li>ä¸“å±è·å–æ–¹æ³•ï¼šè·å– Symbol Key å¿…é¡»ä½¿ç”¨ <code>Object.getOwnPropertySymbols(obj)</code>ï¼Œå¸¸è§„éå†æ–¹æ³•æ— æ•ˆã€‚</li>
</ol>
<h3 data-id="heading-9">å››ã€æ€»ç»“ï¼šSymbol çš„æ ¸å¿ƒä»·å€¼</h3>
<p>å¾ˆå¤šäººè§‰å¾— Symbolç”¨ä¸ä¸Šï¼Œåªæ˜¯æ²¡æœ‰é‡åˆ°å¤æ‚çš„åä½œåœºæ™¯ã€‚å®ƒçš„æ ¸å¿ƒä»·å€¼å°±ä¸¤ä¸ªï¼Œå´ç›´å‡»å¼€å‘ç—›ç‚¹ï¼š</p>
<ul>
<li><strong>å”¯ä¸€æ€§</strong>ï¼šä»æ ¹æºè§£å†³å±æ€§å‘½åå†²çªï¼Œæ˜¯å¤šäººåä½œã€ç¬¬ä¸‰æ–¹åº“å¼€å‘çš„â€œå®‰å…¨é”â€ï¼›</li>
<li><strong>ä¸å¯æšä¸¾æ€§</strong>ï¼šä¿æŠ¤å†…éƒ¨æ•°æ®ä¸è¢«å¤–éƒ¨è¯¯æ“ä½œï¼Œæ˜¯ä»£ç å°è£…çš„â€œéš”ç¦»å¢™â€ã€‚</li>
</ul>
<p>æœ€åç»™ä¸ªç®€å•åˆ¤æ–­ï¼šå½“ä½ é‡åˆ°ä»¥ä¸‹åœºæ™¯ï¼Œç›´æ¥ç”¨ Symbol å‡†æ²¡é”™â€”â€”</p>
<ul>
<li>å¤šäººåä½œå…±åŒç»´æŠ¤ä¸€ä¸ªå¯¹è±¡ï¼Œæ‹…å¿ƒå±æ€§è¦†ç›–ï¼›</li>
<li>å¼€å‘å·¥å…·ç±»/ç»„ä»¶ï¼Œéœ€è¦éšè—å†…éƒ¨çŠ¶æ€ï¼›</li>
<li>åŠ¨æ€æ‰©å±•å¯¹è±¡ï¼Œæ— æ³•ç¡®å®šç°æœ‰å±æ€§åï¼›</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯è·¨é¡µé¢é€šè®¯ç»ˆææŒ‡å—â‘ ï¼špostMessage ç”¨æ³•å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7576264484689756200</link>    <guid>https://juejin.cn/post/7576264484689756200</guid>    <pubDate>2025-11-25T09:01:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576264484689756200" data-draft-id="7576264484688298024" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯è·¨é¡µé¢é€šè®¯ç»ˆææŒ‡å—â‘ ï¼špostMessage ç”¨æ³•å…¨è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-25T09:01:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€è¯ºæ»šé›ªçƒ"/> <meta itemprop="url" content="https://juejin.cn/user/2824015112318094"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯è·¨é¡µé¢é€šè®¯ç»ˆææŒ‡å—â‘ ï¼špostMessage ç”¨æ³•å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2824015112318094/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€è¯ºæ»šé›ªçƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-25T09:01:20.000Z" title="Tue Nov 25 2025 09:01:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å…¬å¸åå°é¡¹ç›®å¾®å‰ç«¯æ˜¯ä½¿ç”¨iframeæ–¹å¼ï¼Œè·¨é¡µé¢é€šè®¯<code>postMessage</code>å°±éœ€è¦æˆ‘ä»¬å¿…é¡»æŒæ¡ã€‚æ¯”å¦‚ï¼Œå¼¹çª—é¡µä¸çˆ¶é¡µé¢çš„æ•°æ®åŒæ­¥ã€å¤šä¸ªæ ‡ç­¾é¡µé—´çš„çŠ¶æ€å…±äº«ã€åµŒå…¥çš„iframeä¸å®¿ä¸»é¡µé¢çš„äº¤äº’ç­‰ã€‚</p>
<p>æœ¬æ–‡å°†ä»åŸºç¡€åŸç†åˆ°å®æˆ˜åœºæ™¯ï¼Œå…¨é¢è§£æ <code>postMessage</code> çš„ç”¨æ³•ï¼Œå¸®ä½ è½»æ¾æå®šå„ç±»è·¨é¡µé¢é€šè®¯éœ€æ±‚ã€‚</p>
<p>å…ˆçœ‹ä¸€å¼ æ€»ç»“å›¾ï¼Œäº†è§£é€šè®¯çš„å‡ ç§åœºæ™¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/573bc18a75bf4230ae34ff29dbc7bb6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA6K-65rua6Zuq55CD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666080&amp;x-signature=qxTpAmi%2BmjdbER1X2iMOurb7gz0%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">1. ä»€ä¹ˆæ˜¯postMessage</h2>
<p><code>postMessage</code> æ˜¯ç”¨äºåœ¨<strong>ä¸åŒæºçš„çª—å£ã€iframeã€Worker</strong>ä¹‹é—´å®‰å…¨åœ°ä¼ é€’æ•°æ®ã€‚æ‰“ç ´äº†æµè§ˆå™¨çš„â€œåŒæºç­–ç•¥â€é™åˆ¶ï¼Œè®©è·¨æºé¡µé¢ä¹‹é—´èƒ½å¤Ÿå®ç°æ•°æ®ä¼ é€’å’Œäº‹ä»¶é€šä¿¡ã€‚</p>
<p><code>postMessage</code> çš„ä½¿ç”¨é€»è¾‘éå¸¸ç®€å•ï¼Œåˆ†ä¸ºâ€œå‘é€æ•°æ®â€å’Œâ€œæ¥æ”¶æ•°æ®â€ä¸¤ä¸ªæ­¥éª¤ï¼Œæœ¬è´¨æ˜¯åŸºäºâ€œæ¶ˆæ¯å‘å¸ƒ-è®¢é˜…â€æ¨¡å¼ã€‚</p>
<h3 data-id="heading-2">1.1 å‘é€æ•°æ®ï¼štargetWindow.postMessage()</h3>
<p>å‘é€æ•°æ®çš„æ“ä½œç”±â€œå‘é€æ–¹çª—å£â€è°ƒç”¨ <code>postMessage</code> æ–¹æ³•å®Œæˆï¼Œè¯¥æ–¹æ³•æŒ‚è½½åœ¨çª—å£å¯¹è±¡ï¼ˆ<code>window</code>ï¼‰ä¸Šï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">targetWindow.postMessage(message, targetOrigin, <span class="hljs-section">[transfer]</span>)<span class="hljs-comment">;</span>
</code></pre>
<p>å‚æ•°çš„å«ä¹‰å’Œä½¿ç”¨è¦ç‚¹ï¼š</p>
<ol>
<li><strong>targetWindowï¼ˆå¿…é€‰ï¼‰</strong> ï¼šæ¥æ”¶æ¶ˆæ¯çš„ç›®æ ‡çª—å£å¯¹è±¡ï¼Œå³â€œè°è¦æ¥æ”¶è¿™ä¸ªæ¶ˆæ¯â€ã€‚å¸¸è§çš„è·å–æ–¹å¼æœ‰ï¼š iframeçš„contentWindowï¼š<code>document.getElementById('iframeId').contentWindow</code>ï¼ˆçˆ¶é¡µå‘å­é¡µå‘æ¶ˆæ¯ï¼‰ï¼›</li>
<li>window.openerï¼šé€šè¿‡<code>window.open()</code>æ‰“å¼€çš„æ–°çª—å£ï¼Œå…¶å†…éƒ¨é€šè¿‡<code>opener</code>è·å–çˆ¶çª—å£ï¼ˆå­é¡µå‘çˆ¶é¡µå‘æ¶ˆæ¯ï¼‰ï¼›</li>
<li>window.parentï¼šiframeå†…éƒ¨é€šè¿‡<code>parent</code>è·å–çˆ¶çª—å£ï¼ˆå­é¡µå‘çˆ¶é¡µå‘æ¶ˆæ¯ï¼‰ï¼›</li>
<li><strong>messageï¼ˆå¿…é€‰ï¼‰</strong> ï¼šè¦å‘é€çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ã€æ•°ç»„ç­‰å‡ ä¹æ‰€æœ‰ç±»å‹ã€‚ä½†éœ€è¦æ³¨æ„ï¼š æ•°æ®ä¼šè¢«éšå¼åºåˆ—åŒ–ä¸ºJSONæ ¼å¼ä¼ é€’ï¼Œæ¥æ”¶æ–¹éœ€è¦è‡ªè¡Œè§£æï¼ˆéƒ¨åˆ†æµè§ˆå™¨ä¼šè‡ªåŠ¨ååºåˆ—åŒ–ï¼Œä½†å»ºè®®æ˜¾å¼å¤„ç†ä»¥å…¼å®¹ï¼‰ï¼›</li>
<li>é¿å…å‘é€è¿‡å¤§çš„æ•°æ®ï¼ˆå¦‚è¶…è¿‡10MBï¼‰ï¼Œå¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜æˆ–ä¼ è¾“å¤±è´¥ã€‚</li>
<li><strong>targetOriginï¼ˆå¿…é€‰ï¼‰</strong> ï¼šç›®æ ‡çª—å£çš„â€œæºâ€ï¼ˆåè®®+åŸŸå+ç«¯å£ï¼‰ï¼Œç”¨äºå®‰å…¨æ ¡éªŒï¼Œå³â€œåªæœ‰è¯¥æºçš„çª—å£æ‰èƒ½æ¥æ”¶æ¶ˆæ¯â€ã€‚å–å€¼è§„åˆ™ï¼š å…·ä½“æºï¼šå¦‚<code>'https://www.example.com:8080'</code>ï¼Œä»…è¯¥æºçš„çª—å£èƒ½æ¥æ”¶ï¼›</li>
<li>é€šé…ç¬¦<code>'*'</code>ï¼šå…è®¸æ‰€æœ‰æºæ¥æ”¶æ¶ˆæ¯ï¼ˆ<strong>æåº¦å±é™©ï¼Œä»…å¼€å‘æµ‹è¯•æ—¶ä¸´æ—¶ä½¿ç”¨</strong>ï¼‰ï¼›</li>
<li>ç©ºå­—ç¬¦ä¸²<code>''</code>ï¼šä»…é€‚ç”¨äºå‘é€ç»™<code>file://</code>åè®®çš„çª—å£ï¼ˆå®é™…å¼€å‘ä¸­æå°‘ç”¨ï¼‰ã€‚</li>
<li><strong>transferï¼ˆå¯é€‰ï¼‰</strong> ï¼šæ˜¯ä¸€ä¸ªåŒ…å«å¯è½¬ç§»å¯¹è±¡çš„æ•°ç»„ï¼Œè¿™äº›å¯¹è±¡çš„æ‰€æœ‰æƒä¼šä»å‘é€æ–¹è½¬ç§»åˆ°æ¥æ”¶æ–¹ï¼Œå‘é€æ–¹åç»­æ— æ³•å†ä½¿ç”¨è¿™äº›å¯¹è±¡ï¼ˆå¦‚ArrayBufferï¼‰ã€‚è¯¥å‚æ•°ä½¿ç”¨åœºæ™¯è¾ƒå°‘ï¼Œä¸€èˆ¬æ— éœ€å…³æ³¨ã€‚</li>
</ol>
<h3 data-id="heading-3">1.2 æ¥æ”¶æ•°æ®ï¼šç›‘å¬ message äº‹ä»¶</h3>
<p>æ¥æ”¶æ•°æ®çš„çª—å£éœ€è¦ç›‘å¬è‡ªèº«çš„<code>message</code>äº‹ä»¶ï¼Œå½“æœ‰å…¶ä»–çª—å£é€šè¿‡<code>postMessage</code>å‘é€æ¶ˆæ¯æ—¶ï¼Œè¯¥äº‹ä»¶ä¼šè¢«è§¦å‘ã€‚è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-comment">// å¤„ç†æ¥æ”¶çš„æ¶ˆæ¯</span>
}, <span class="hljs-literal">false</span>);
</code></pre>
<p>æ ¸å¿ƒæ˜¯è§£æäº‹ä»¶å¯¹è±¡<code>event</code>çš„ä¸‰ä¸ªå…³é”®å±æ€§ï¼š</p>
<ol>
<li><strong>event.data</strong>ï¼šå‘é€æ–¹ä¼ é€’çš„æ¶ˆæ¯æ•°æ®ï¼ˆå³<code>postMessage</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ï¼›</li>
<li><strong>event.origin</strong>ï¼šå‘é€æ¶ˆæ¯çš„çª—å£çš„â€œæºâ€ï¼ˆåè®®+åŸŸå+ç«¯å£ï¼‰ï¼Œç”¨äºæ ¡éªŒå‘é€æ–¹èº«ä»½ï¼›</li>
<li><strong>event.source</strong>ï¼šå‘é€æ¶ˆæ¯çš„çª—å£å¯¹è±¡ï¼Œå¯ç”¨äºå‘å‘é€æ–¹å›ä¼ æ•°æ®ã€‚</li>
</ol>
<p>æ¥æ”¶æ–¹å¿…é¡»é€šè¿‡<code>event.origin</code>æ ¡éªŒå‘é€æ–¹çš„åˆæ³•æ€§ï¼Œé¿å…æ¥æ”¶æ¶æ„æºå‘é€çš„æ¶ˆæ¯ï¼Œè¿™æ˜¯ä¸<code>targetOrigin</code>å¯¹åº”çš„åŒé‡å®‰å…¨ä¿éšœã€‚</p>
<h2 data-id="heading-4">2. å®æˆ˜æ¡ˆä¾‹ï¼šåŒé¡µé¢iframeé€šè®¯</h2>
<p>çˆ¶é¡µé¢åµŒå…¥iframeï¼Œä¸¤è€…éœ€è¦å®ç°æ•°æ®äº¤äº’ï¼ˆå¦‚çˆ¶é¡µå‘å­é¡µä¼ ç”¨æˆ·ä¿¡æ¯ï¼Œå­é¡µå‘çˆ¶é¡µä¼ æ“ä½œç»“æœï¼‰ã€‚</p>
<h3 data-id="heading-5">2.1 çˆ¶-&gt;å­</h3>
<p><strong>å‘é€ç«¯ï¼ˆçˆ¶é¡µé¢ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å‘é€åˆ°æŒ‡å®š iframe</span>
iframe1.<span class="hljs-property">contentWindow</span>.<span class="hljs-title function_">postMessage</span>({
    <span class="hljs-attr">from</span>: <span class="hljs-string">'Parent (çˆ¶é¡µé¢)'</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">'æ¶ˆæ¯å†…å®¹'</span>
}, <span class="hljs-string">'*'</span>);
</code></pre>
<p><strong>æ¥æ”¶ç«¯ï¼ˆå­é¡µé¢ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åœ¨ Vue ç»„ä»¶ä¸­ç›‘å¬æ¶ˆæ¯</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
});
</code></pre>
<p>æ¥æ”¶çš„æ•°æ®ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23b493deec634abb81feecdcd7a601a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA6K-65rua6Zuq55CD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666080&amp;x-signature=AcM4bKCBb5X8RhRGb38LYRumdZU%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">2.2 å­-&gt;çˆ¶</h3>
<p><strong>å‘é€ç«¯ï¼ˆå­é¡µé¢ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä»å­é¡µé¢å‘é€æ¶ˆæ¯åˆ°çˆ¶é¡µé¢</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">parent</span>.<span class="hljs-title function_">postMessage</span>({
    <span class="hljs-attr">target</span>: <span class="hljs-string">'parent'</span>,
    <span class="hljs-attr">from</span>: <span class="hljs-string">'Home (iframe1)'</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">'æ¶ˆæ¯å†…å®¹'</span>
}, <span class="hljs-string">'*'</span>);
</code></pre>
<p><strong>æ¥æ”¶ç«¯ï¼ˆçˆ¶é¡µé¢ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// çˆ¶é¡µé¢ç›‘å¬æ¶ˆæ¯</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-keyword">if</span> (event.<span class="hljs-property">data</span>.<span class="hljs-property">target</span> === <span class="hljs-string">'parent'</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çˆ¶é¡µé¢å¤„ç†æ¶ˆæ¯:'</span>, event.<span class="hljs-property">data</span>.<span class="hljs-property">message</span>);
        <span class="hljs-comment">// åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºæ—¥å¿—</span>
    }
});
</code></pre>
<p>çˆ¶æ¥æ”¶æ•°æ®ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ce5866a807443edaaa29436c543ee7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA6K-65rua6Zuq55CD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764666080&amp;x-signature=N9V9BoYERGWb4HkScg8fBIy0PVA%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">2.3 å…„å¼Ÿ</h3>
<p>å¯¹äºå…„å¼Ÿé¡µé¢ï¼Œæ— æ³•é€šè¿‡<code>postMessage</code>ç›´æ¥é€šè®¯ï¼Œåªèƒ½é€šè¿‡çˆ¶é¡µé¢è¿›è¡Œä¸­è½¬ï¼Œå¯ä»¥æ ¹æ®ç‰¹å®šçš„ç±»å‹ï¼Œè®©çˆ¶å…ƒç´ è¿›è¡Œè½¬å‘ã€‚å…·ä½“ä¸ä½œä»‹ç»ã€‚</p>
<h2 data-id="heading-8">3. å®æˆ˜æ¡ˆä¾‹ï¼šwindow.openæ‰“å¼€æ–¹å¼é€šè®¯</h2>
<p>é€šè¿‡<code>window.open()</code>æ‰“å¼€æ–°çª—å£åï¼Œçˆ¶é¡µå¯é€šè¿‡è¿”å›çš„çª—å£å¯¹è±¡å‘é€æ¶ˆæ¯ï¼Œå­é¡µé€šè¿‡<code>window.opener</code>è·å–çˆ¶é¡µçª—å£ã€‚</p>
<h3 data-id="heading-9">3.1 çˆ¶-&gt;å­</h3>
<p><strong>å‘é€ç«¯ï¼ˆçˆ¶é¡µé¢ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> child = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">open</span>(url)
child.<span class="hljs-property">contentWindow</span>.<span class="hljs-title function_">postMessage</span>({
    <span class="hljs-attr">from</span>: <span class="hljs-string">'Parent (çˆ¶é¡µé¢)'</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">'æ¶ˆæ¯å†…å®¹'</span>
}, <span class="hljs-string">'*'</span>);
</code></pre>
<p><strong>æ¥æ”¶ç«¯ï¼ˆå­é¡µé¢ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
});
</code></pre>
<h3 data-id="heading-10">3.2 å­-&gt;çˆ¶</h3>
<p><strong>å‘é€ç«¯ï¼ˆå­é¡µé¢ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä»å­é¡µé¢å‘é€æ¶ˆæ¯åˆ°çˆ¶é¡µé¢</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">opener</span>.<span class="hljs-title function_">postMessage</span>({
    <span class="hljs-attr">message</span>: <span class="hljs-string">'æ¶ˆæ¯å†…å®¹'</span>
}, <span class="hljs-string">'*'</span>);
</code></pre>
<p><strong>æ¥æ”¶ç«¯ï¼ˆçˆ¶é¡µé¢ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// çˆ¶é¡µé¢ç›‘å¬æ¶ˆæ¯</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
});
</code></pre>
<h3 data-id="heading-11">3.3 å…„å¼Ÿ</h3>
<p>å¯¹äºå…„å¼Ÿé¡µé¢ï¼Œæ— æ³•é€šè¿‡å¥æŸ„ç›´æ¥è¿›è¡Œé€šè®¯ï¼Œå› ä¸ºå¯¹äºå„è‡ªå•ç‹¬æ‰“å¼€çš„é¡µé¢ï¼Œæ²¡æ³•è·å–åˆ°çª—å£çš„å¥æŸ„ï¼Œä¹Ÿå°±æ²¡æ³•è¿›è¡Œæ¶ˆæ¯çš„å‘é€å’Œç›‘å¬ã€‚åªèƒ½é€šè¿‡çˆ¶é¡µé¢è¿›è¡Œä¸­è½¬ï¼Œå¯ä»¥æ ¹æ®ç‰¹å®šçš„ç±»å‹ï¼Œè®©çˆ¶å…ƒç´ è¿›è¡Œè½¬å‘ã€‚å…·ä½“ä¸ä½œä»‹ç»ã€‚</p>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>æœ€åæ€»ç»“ä¸€ä¸‹ï¼š<code>postMessage</code>é€šè¿‡<code>targetWindow.postMessage</code>å‘é€æ•°æ®ï¼Œå…¶ä¸­targetWindowå¯ä»¥æ˜¯iframe çš„ contentWindow å±æ€§æˆ–è€…æ‰§è¡Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FWindow%2Fopen" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/open" ref="nofollow noopener noreferrer">window.open</a>è¿”å›çš„çª—å£å¯¹è±¡ï¼Œé€šè¿‡ç›‘å¬<code>message</code>äº‹ä»¶æ¥æ”¶æ¶ˆæ¯ã€‚</p>
<p>ä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬å°†äº†è§£å‰ç«¯è·¨é¡µé¢é€šè®¯çš„å…¶ä»–æ–¹æ¡ˆ<strong>Broadcast Channel</strong>ã€‚</p>
<p>å¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£O^O!</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>