<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šMakefile åœ¨åç«¯å¼€å‘ä¸­çš„åº”ç”¨ä¸ Windows ç¯å¢ƒé…ç½®]]></title>    <link>https://juejin.cn/post/7584340871413202971</link>    <guid>https://juejin.cn/post/7584340871413202971</guid>    <pubDate>2025-12-17T02:05:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584340871413202971" data-draft-id="7584340871413186587" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šMakefile åœ¨åç«¯å¼€å‘ä¸­çš„åº”ç”¨ä¸ Windows ç¯å¢ƒé…ç½®"/> <meta itemprop="keywords" content="åç«¯,Go"/> <meta itemprop="datePublished" content="2025-12-17T02:05:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–µä¸ªå’ª"/> <meta itemprop="url" content="https://juejin.cn/user/1350630784901262"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šMakefile åœ¨åç«¯å¼€å‘ä¸­çš„åº”ç”¨ä¸ Windows ç¯å¢ƒé…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1350630784901262/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–µä¸ªå’ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T02:05:51.000Z" title="Wed Dec 17 2025 02:05:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šMakefile åœ¨åç«¯å¼€å‘ä¸­çš„åº”ç”¨ä¸ Windows ç¯å¢ƒé…ç½®</h2>
<p>åœ¨ä¼ä¸šçº§ä¸­åå°æ¡†æ¶çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé«˜æ•ˆçš„å·¥ç¨‹åŒ–ç®¡ç†æ˜¯æå‡å›¢é˜Ÿåä½œæ•ˆç‡ã€ä¿éšœå¼€å‘æµç¨‹è§„èŒƒçš„æ ¸å¿ƒã€‚GoWind Adminï¼ˆé£è¡Œï¼‰ä½œä¸ºä¸€æ¬¾åŸºäº Go å¾®æœåŠ¡æ¡†æ¶ go-kratos å’Œ Vue å‰ç«¯æ¡†æ¶ Vben Admin çš„å…¨æ ˆè§£å†³æ–¹æ¡ˆï¼Œå…¶åç«¯å·¥ç¨‹åŒ–ä½“ç³»ä¸­ï¼ŒMakefile æ‰®æ¼”äº†è‡³å…³é‡è¦çš„è§’è‰² â€”â€” å®ƒé€šè¿‡ç»Ÿä¸€çš„å‘½ä»¤é›†ç®€åŒ–äº†å¤æ‚çš„æ„å»ºæµç¨‹ï¼Œå®ç°äº†ç¯å¢ƒåˆå§‹åŒ–ã€ä¾èµ–ç®¡ç†ã€ä»£ç ç”Ÿæˆã€æœåŠ¡éƒ¨ç½²ç­‰æ“ä½œçš„è‡ªåŠ¨åŒ–ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿèšç„¦ä¸šåŠ¡é€»è¾‘è€Œéç¹ççš„å·¥å…·é“¾é…ç½®ã€‚æœ¬æ–‡å°†ç³»ç»Ÿä»‹ç» Windows ç¯å¢ƒä¸‹ make å·¥å…·çš„å®‰è£…æ–¹æ³•ã€Makefile çš„åˆ†å±‚è®¾è®¡é€»è¾‘ï¼Œä»¥åŠæ ¸å¿ƒå‘½ä»¤çš„å®æˆ˜åº”ç”¨ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€Makefile åœ¨ GoWind Admin åç«¯å¼€å‘ä¸­çš„æ ¸å¿ƒä»·å€¼</h3>
<p>GoWind Admin åç«¯é‡‡ç”¨æ¨¡å—åŒ–å¾®æœåŠ¡è®¾è®¡ï¼Œæ¶‰åŠ protobuf ä»£ç ç”Ÿæˆã€ä¾èµ–ç®¡ç†ã€æœåŠ¡æ„å»ºã€å®¹å™¨åŒ–éƒ¨ç½²ç­‰å¤šä¸ªç¯èŠ‚ã€‚æ‰‹åŠ¨æ‰§è¡Œè¿™äº›æ“ä½œä¸ä»…ç¹çï¼Œè¿˜å®¹æ˜“å› ç¯å¢ƒå·®å¼‚å¯¼è‡´é”™è¯¯ã€‚Makefile é€šè¿‡å®šä¹‰æ ‡å‡†åŒ–å‘½ä»¤å°è£…æµç¨‹ï¼Œæ ¸å¿ƒä»·å€¼ä½“ç°åœ¨ï¼š</p>
<ol>
<li><strong>è·¨å¹³å°ä¸€è‡´æ€§</strong>ï¼šæ— è®ºå¼€å‘è€…ä½¿ç”¨ Windowsã€macOS è¿˜æ˜¯ Linuxï¼Œé€šè¿‡ç›¸åŒçš„ <code>make</code> å‘½ä»¤å³å¯å®Œæˆç¯å¢ƒåˆå§‹åŒ–ã€ä»£ç ç”Ÿæˆç­‰æ“ä½œï¼Œæ¶ˆé™¤ç³»ç»Ÿå·®å¼‚å¸¦æ¥çš„æµç¨‹å‰²è£‚ã€‚</li>
<li><strong>å·¥å…·é“¾æ•´åˆ</strong>ï¼šå°† go-kratosã€entã€wireã€buf ç­‰å·¥å…·çš„è°ƒç”¨é€»è¾‘å°è£…ï¼Œæ— éœ€è®°å¿†å¤æ‚å‚æ•°ï¼ˆå¦‚ <code>buf generate --template buf.admin.openapi.gen.yaml</code>ï¼‰ï¼Œé€šè¿‡ <code>make openapi</code> å³å¯ä¸€é”®æ‰§è¡Œã€‚</li>
<li><strong>æµç¨‹è‡ªåŠ¨åŒ–ä¸²è”</strong>ï¼šä¾‹å¦‚ <code>make all</code> å¯ä¾æ¬¡å®Œæˆä»£ç ç”Ÿæˆã€ä¾èµ–å®‰è£…ã€æœåŠ¡æ„å»ºå…¨æµç¨‹ï¼Œé¿å…æ‰‹åŠ¨åˆ†æ­¥æ“ä½œçš„é—æ¼ã€‚</li>
<li><strong>ä½é—¨æ§›åä½œ</strong>ï¼šæ–°å¼€å‘è€…é€šè¿‡ <code>make help</code> å³å¯æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤åŠè¯´æ˜ï¼Œæ— éœ€æ·±å…¥ç†è§£å·¥å…·ç»†èŠ‚å³å¯å¿«é€Ÿä¸Šæ‰‹ã€‚</li>
<li><strong>åˆ†å±‚ç®¡ç†çµæ´»æ€§</strong>ï¼šæ ¹ç›®å½• Makefile è´Ÿè´£å…¨å±€æµç¨‹ï¼ˆå¦‚æ‰¹é‡æ„å»ºæ‰€æœ‰æœåŠ¡ï¼‰ï¼ŒæœåŠ¡ç›®å½• Makefile èšç„¦å•æœåŠ¡æ“ä½œï¼ˆå¦‚å•ç‹¬è°ƒè¯• admin æœåŠ¡ï¼‰ï¼Œå…¼é¡¾å…¨å±€ç»Ÿä¸€ä¸å±€éƒ¨çµæ´»ã€‚</li>
</ol>
<h3 data-id="heading-2">äºŒã€Windows ç¯å¢ƒä¸‹ make å·¥å…·çš„å®‰è£…ä¸é…ç½®</h3>
<p>ä¸ Linux/macOS ä¸åŒï¼ŒWindows ç³»ç»Ÿé»˜è®¤ä¸é¢„è£… make å·¥å…·ï¼ŒGoWind Admin æä¾›ä¸¤ç§å®‰è£…æ–¹å¼ï¼Œå¯æ ¹æ®éœ€æ±‚é€‰æ‹©ï¼š</p>
<h4 data-id="heading-3">æ–¹å¼ä¸€ï¼šé€šè¿‡ scoop åŒ…ç®¡ç†å™¨æ‰‹åŠ¨å®‰è£…ï¼ˆæ¨èï¼‰</h4>
<h5 data-id="heading-4">1. å®‰è£… scoopï¼ˆWindows åŒ…ç®¡ç†å™¨ï¼‰</h5>
<p>æ‰“å¼€ PowerShellï¼ˆç®¡ç†å‘˜æ¨¡å¼ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¼€å¯è„šæœ¬æ‰§è¡Œæƒé™å¹¶å®‰è£… scoopï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell"># å…è®¸æœ¬åœ°è„šæœ¬æ‰§è¡Œ
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
# å®‰è£…scoop
irm get.scoop.sh | iex
</code></pre>
<h5 data-id="heading-5">2. å®‰è£… make åŠä¾èµ–å·¥å…·</h5>
<p>scoop å®‰è£…å®Œæˆåï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£… makeï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">æ·»åŠ åŒ…å« make çš„ extras ä»“åº“</span>
scoop bucket add extras
<span class="hljs-meta prompt_"># </span><span class="bash">å®‰è£… make åŠå¼€å‘å¿…éœ€å·¥å…·ï¼ˆgitã€goã€protobuf ç­‰ï¼‰</span>
scoop install make git go protobuf buf gawk grep sed jq
</code></pre>
<h5 data-id="heading-6">3. éªŒè¯å®‰è£…</h5>
<p>åœ¨ PowerShell ä¸­æ‰§è¡Œ<code>make --version</code>ï¼Œè‹¥è¾“å‡ºç±»ä¼¼ä»¥ä¸‹å†…å®¹ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell">GNU Make 4.4.1
Built for x86_64-w64-mingw32
Copyright (C) 1988-2023 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;https://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
</code></pre>
<h4 data-id="heading-7">æ–¹å¼äºŒï¼šé€šè¿‡ä¸€é”®è„šæœ¬è‡ªåŠ¨é…ç½®ï¼ˆæ‡’äººå¿…å¤‡ï¼‰</h4>
<p>GoWind Admin æä¾› <code>prepare_windows.ps1</code> è„šæœ¬ï¼Œå¯è‡ªåŠ¨å®Œæˆ scoopã€makeã€Goã€Docker ç­‰å…¨å¥—å¼€å‘ç¯å¢ƒçš„å®‰è£…ï¼š</p>
<h5 data-id="heading-8">1. è¿è¡Œè„šæœ¬åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰“å¼€ PowerShellï¼ˆç®¡ç†å‘˜æ¨¡å¼ï¼‰ï¼Œæ‰§è¡Œï¼š</h5>
<pre><code class="hljs language-powershell" lang="powershell">./backend/script/prepare_windows.ps1
</code></pre>
<h5 data-id="heading-9">2. è„šæœ¬åŠŸèƒ½è¯´æ˜è¯¥è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆï¼š</h5>
<ul>
<li>å®‰è£… scoop åŠ makeã€git ç­‰åŸºç¡€å·¥å…·</li>
<li>é…ç½® Go ç¯å¢ƒï¼ˆè®¾ç½® GOPATH å¹¶æ·»åŠ åˆ° PATHï¼‰</li>
<li>å®‰è£… Docker Desktop å¹¶å°è¯•é…ç½®è‡ªåŠ¨å¯åŠ¨</li>
<li>å®‰è£… Node.js åŠ PM2ï¼ˆç”¨äºæœåŠ¡è¿›ç¨‹ç®¡ç†ï¼‰</li>
</ul>
<h5 data-id="heading-10">3. åç»­é…ç½®è„šæœ¬æ‰§è¡Œå®Œæˆåï¼Œæ ¹æ®æç¤ºæ‰‹åŠ¨å°†ä»¥ä¸‹è·¯å¾„æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼ˆç¡®ä¿å·¥å…·å…¨å±€å¯ç”¨ï¼‰ï¼š</h5>
<ul>
<li>Go äºŒè¿›åˆ¶è·¯å¾„ï¼š<code>%USERPROFILE%\go\bin</code></li>
<li>NPM å…¨å±€å·¥å…·è·¯å¾„ï¼š<code>%USERPROFILE%\.npm-global\bin</code></li>
</ul>
<h3 data-id="heading-11">ä¸‰ã€Makefile åˆ†å±‚è®¾è®¡ä¸æ ¸å¿ƒå‘½ä»¤è¯¦è§£</h3>
<p>GoWind Admin é‡‡ç”¨ã€Œæ ¹ç›®å½• Makefile + app.mk + æœåŠ¡ç›®å½• Makefileã€çš„åˆ†å±‚è®¾è®¡ï¼Œæ—¢ä¿è¯å…¨å±€æµç¨‹ç»Ÿä¸€ï¼Œåˆæ”¯æŒå•æœåŠ¡ç²¾ç»†åŒ–æ“ä½œã€‚</p>
<h4 data-id="heading-12">1. æ ¹ç›®å½• Makefileï¼ˆå…¨å±€å·¥ç¨‹ç®¡ç†ï¼‰</h4>
<p>ä½äº <code>backend/Makefile</code>ï¼Œè´Ÿè´£è·¨æœåŠ¡çš„å…¨å±€æ“ä½œï¼Œæ ¸å¿ƒå‘½ä»¤å¦‚ä¸‹ï¼š</p>






































































<table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½è¯´æ˜</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>make init</code></td><td>åˆå§‹åŒ–å¼€å‘ç¯å¢ƒï¼Œå®‰è£… protoc æ’ä»¶ï¼ˆå¦‚ protoc-gen-goï¼‰ã€cli å·¥å…·ï¼ˆå¦‚ kratosã€bufï¼‰</td><td>é¦–æ¬¡æ‹‰å–é¡¹ç›®åæ‰§è¡Œ</td></tr><tr><td><code>make dep</code></td><td>æ‰§è¡Œ <code>go mod download</code>ï¼Œæ‹‰å–æ‰€æœ‰ Go æ¨¡å—ä¾èµ–</td><td>ä¾èµ–æ›´æ–°ååŒæ­¥</td></tr><tr><td><code>make vendor</code></td><td>ç”Ÿæˆ <code>vendor</code> ç›®å½•å›ºåŒ–ä¾èµ–ç‰ˆæœ¬</td><td>éœ€ç¦»çº¿éƒ¨ç½²æˆ–ç‰ˆæœ¬é”å®šæ—¶</td></tr><tr><td><code>make gen</code></td><td>æ‰¹é‡ç”Ÿæˆæ‰€æœ‰æœåŠ¡çš„ä»£ç ï¼ˆent æ¨¡å‹ã€wire ä¾èµ–æ³¨å…¥ã€API ä»£ç ç­‰ï¼‰</td><td>å…¨é‡æ›´æ–°ä»£ç ç”Ÿæˆæ–‡ä»¶</td></tr><tr><td><code>make build</code></td><td>æ„å»ºæ‰€æœ‰å¾®æœåŠ¡çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆæ„å»ºå‰è‡ªåŠ¨ç”Ÿæˆ API ä»£ç ï¼‰</td><td>æ‰“åŒ…æ‰€æœ‰æœåŠ¡éƒ¨ç½²åŒ…</td></tr><tr><td><code>make build_only</code></td><td>ç›´æ¥æ„å»ºæ‰€æœ‰æœåŠ¡ï¼ˆè·³è¿‡ä»£ç ç”Ÿæˆï¼Œé€‚åˆä¾èµ–æœªå˜æ›´æ—¶ï¼‰</td><td>å¿«é€Ÿé‡æ–°æ„å»º</td></tr><tr><td><code>make docker</code></td><td>ä¸ºæ‰€æœ‰æœåŠ¡ç”Ÿæˆ Docker é•œåƒ</td><td>å®¹å™¨åŒ–éƒ¨ç½²å‰æ‰§è¡Œ</td></tr><tr><td><code>make compose-up</code></td><td>é€šè¿‡ docker-compose å¯åŠ¨æ‰€æœ‰ä¾èµ–ä¸­é—´ä»¶ï¼ˆMySQLã€Redis ç­‰ï¼‰</td><td>æœ¬åœ°å¼€å‘ç¯å¢ƒåˆå§‹åŒ–</td></tr><tr><td><code>make compose-up-without-service</code></td><td>ä»…å¯åŠ¨ä¸­é—´ä»¶ï¼Œä¸å¯åŠ¨åç«¯æœåŠ¡</td><td>éœ€å•ç‹¬è°ƒè¯•æœåŠ¡æ—¶</td></tr><tr><td><code>make test</code></td><td>æ‰§è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•</td><td>æäº¤ä»£ç å‰éªŒè¯åŠŸèƒ½</td></tr><tr><td><code>make lint</code></td><td>é€šè¿‡ golangci-lint æ£€æŸ¥ä»£ç é£æ ¼ä¸è´¨é‡</td><td>ä»£ç æäº¤å‰è§„èŒƒæ£€æŸ¥</td></tr><tr><td><code>make help</code></td><td>æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤åŠè¯´æ˜</td><td>æ–°æ‰‹å¿«é€Ÿäº†è§£å‘½ä»¤åŠŸèƒ½</td></tr></tbody></table>
<h4 data-id="heading-13">2. app.mk ä¸æœåŠ¡ç›®å½• Makefileï¼ˆå•æœåŠ¡æ“ä½œï¼‰</h4>
<p>æ¯ä¸ªæœåŠ¡ç›®å½•ï¼ˆå¦‚ <code>app/admin/service</code>ï¼‰ä¸‹çš„ Makefile ä»…ä¸€è¡Œä»£ç ï¼š<code>include ../../../app.mk</code>ï¼Œå³é€šè¿‡å¼•å…¥æ ¹ç›®å½•çš„ <code>app.mk</code> å®ç°å•æœåŠ¡å‘½ä»¤æ ‡å‡†åŒ–ã€‚æ ¸å¿ƒå‘½ä»¤å¦‚ä¸‹ï¼š</p>













































<table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½è¯´æ˜</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>make run</code></td><td>å¯åŠ¨å½“å‰æœåŠ¡ï¼ˆåŠ è½½æœ¬åœ°é…ç½®ï¼Œé€‚åˆè°ƒè¯•ï¼‰</td><td>å¼€å‘æ—¶å®æ—¶è°ƒè¯•å•ä¸ªæœåŠ¡</td></tr><tr><td><code>make api</code></td><td>åŸºäºå½“å‰æœåŠ¡çš„ protobuf ç”Ÿæˆ Go æ¥å£ä»£ç </td><td>ä»…æ›´æ–°å½“å‰æœåŠ¡ API å®šä¹‰å</td></tr><tr><td><code>make ent</code></td><td>ç”Ÿæˆå½“å‰æœåŠ¡çš„ ent æ•°æ®åº“æ¨¡å‹ä»£ç </td><td>æ•°æ®åº“è¡¨ç»“æ„å˜æ›´å</td></tr><tr><td><code>make wire</code></td><td>ç”Ÿæˆå½“å‰æœåŠ¡çš„ä¾èµ–æ³¨å…¥ä»£ç </td><td>æœåŠ¡å†…éƒ¨ä¾èµ–å…³ç³»å˜æ›´å</td></tr><tr><td><code>make openapi</code></td><td>ç”Ÿæˆå½“å‰æœåŠ¡çš„ OpenAPI æ–‡æ¡£</td><td>éœ€æ›´æ–°æ¥å£æ–‡æ¡£æ—¶</td></tr><tr><td><code>make ts</code></td><td>ç”Ÿæˆå½“å‰æœåŠ¡çš„ TypeScript è°ƒç”¨ä»£ç ï¼ˆä¾›å‰ç«¯ä½¿ç”¨ï¼‰</td><td>å‰åç«¯æ¥å£åŒæ­¥æ—¶</td></tr><tr><td><code>make build</code></td><td>ä»…æ„å»ºå½“å‰æœåŠ¡çš„å¯æ‰§è¡Œæ–‡ä»¶</td><td>å•ç‹¬éƒ¨ç½²æŸä¸ªæœåŠ¡æ—¶</td></tr></tbody></table>
<h4 data-id="heading-14">3. å®æˆ˜åœºæ™¯ç¤ºä¾‹</h4>
<h5 data-id="heading-15">åœºæ™¯ 1ï¼šé¦–æ¬¡æ‹‰å–é¡¹ç›®ï¼Œåˆå§‹åŒ–ç¯å¢ƒå¹¶å¯åŠ¨æœåŠ¡</h5>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">è¿›å…¥åç«¯ç›®å½•</span>
cd backend
<span class="hljs-meta prompt_"># </span><span class="bash">åˆå§‹åŒ–å¼€å‘ç¯å¢ƒï¼ˆå®‰è£…å·¥å…·é“¾ã€æ’ä»¶ï¼‰</span>
make init
<span class="hljs-meta prompt_"># </span><span class="bash">å¯åŠ¨ä¾èµ–ä¸­é—´ä»¶ï¼ˆMySQLã€Redisç­‰ï¼‰</span>
make compose-up
<span class="hljs-meta prompt_"># </span><span class="bash">ç”Ÿæˆæ‰€æœ‰ä»£ç ï¼ˆAPIã€æ•°æ®åº“æ¨¡å‹ç­‰ï¼‰</span>
make gen
<span class="hljs-meta prompt_"># </span><span class="bash">æ„å»ºæ‰€æœ‰æœåŠ¡</span>
make build
<span class="hljs-meta prompt_"># </span><span class="bash">è¿›å…¥adminæœåŠ¡ç›®å½•ï¼Œå¯åŠ¨è°ƒè¯•</span>
cd app/admin/service
make run
</code></pre>
<h5 data-id="heading-16">åœºæ™¯ 2ï¼šå•ç‹¬ä¿®æ”¹ admin æœåŠ¡çš„ API å®šä¹‰ï¼Œæ›´æ–°ä»£ç å¹¶æµ‹è¯•</h5>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">è¿›å…¥adminæœåŠ¡ç›®å½•</span>
cd backend/app/admin/service
<span class="hljs-meta prompt_"># </span><span class="bash">ç”Ÿæˆå½“å‰æœåŠ¡çš„APIä»£ç </span>
make api
<span class="hljs-meta prompt_"># </span><span class="bash">ç”ŸæˆOpenAPIæ–‡æ¡£</span>
make openapi
<span class="hljs-meta prompt_"># </span><span class="bash">æœ¬åœ°å¯åŠ¨æœåŠ¡éªŒè¯</span>
make run
<span class="hljs-meta prompt_"># </span><span class="bash">å›åˆ°æ ¹ç›®å½•ï¼Œæ‰§è¡Œå•å…ƒæµ‹è¯•</span>
cd ../../..
make test
</code></pre>
<h5 data-id="heading-17">åœºæ™¯ 3ï¼šæ„å»ºæ‰€æœ‰æœåŠ¡çš„ Docker é•œåƒå¹¶éƒ¨ç½²</h5>
<pre><code class="hljs language-shell" lang="shell">cd backend
<span class="hljs-meta prompt_"># </span><span class="bash">ç”Ÿæˆæœ€æ–°ä»£ç </span>
make gen
<span class="hljs-meta prompt_"># </span><span class="bash">æ„å»ºæ‰€æœ‰æœåŠ¡çš„Dockeré•œåƒ</span>
make docker
<span class="hljs-meta prompt_"># </span><span class="bash">å¯åŠ¨æ‰€æœ‰æœåŠ¡åŠä¾èµ–ï¼ˆå®¹å™¨åŒ–éƒ¨ç½²ï¼‰</span>
make compose-up
</code></pre>
<h3 data-id="heading-18">å››ã€Windows ç¯å¢ƒä¸‹çš„æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>PowerShell å…¼å®¹æ€§</strong>ï¼šéƒ¨åˆ†å‘½ä»¤ï¼ˆå¦‚ <code>sed</code>ã€<code>grep</code>ï¼‰ä¾èµ– scoop å®‰è£…çš„ GNU å·¥å…·ï¼Œéœ€ç¡®ä¿ PowerShell ä¸­ä¼˜å…ˆè°ƒç”¨è¿™äº›å·¥å…·ï¼ˆå¯é€šè¿‡ <code>Get-Command sed</code> éªŒè¯ï¼‰ã€‚</li>
<li><strong>è·¯å¾„æ ¼å¼</strong>ï¼šWindows ä¸‹è·¯å¾„ä½¿ç”¨åæ–œæ  <code>\</code>ï¼Œä½† Makefile ä¸­ç»Ÿä¸€ä½¿ç”¨æ­£æ–œæ  <code>/</code>ï¼ˆMake å·¥å…·ä¼šè‡ªåŠ¨è½¬æ¢ï¼‰ï¼Œé¿å…æ‰‹åŠ¨ä¿®æ”¹è·¯å¾„å¯¼è‡´é”™è¯¯ã€‚</li>
<li><strong>Go ä»£ç†é…ç½®</strong>ï¼šè‹¥ä¾èµ–æ‹‰å–ç¼“æ…¢ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤è®¾ç½®ä»£ç†ï¼š
<pre><code class="hljs language-powershell" lang="powershell">go env -w GO111MODULE=on
go env -w GOPROXY=https://goproxy.cn,direct
</code></pre>
</li>
<li><strong>Docker æƒé™</strong>ï¼š<code>make compose-up</code> éœ€ Docker å·²å¯åŠ¨ï¼Œè‹¥æç¤ºæƒé™ä¸è¶³ï¼Œå¯å³é”® Docker å›¾æ ‡é€‰æ‹©ã€Œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€ã€‚</li>
</ol>
<h3 data-id="heading-19">äº”ã€æ€»ç»“</h3>
<p>Makefile ä½œä¸º GoWind Admin åç«¯å·¥ç¨‹åŒ–çš„æ ¸å¿ƒå·¥å…·ï¼Œé€šè¿‡åˆ†å±‚è®¾è®¡å®ç°äº†ã€Œå…¨å±€ç»Ÿä¸€æµç¨‹ã€ä¸ã€Œå•æœåŠ¡çµæ´»æ“ä½œã€çš„å¹³è¡¡ã€‚åœ¨ Windows ç¯å¢ƒä¸‹ï¼Œæ— è®ºæ˜¯é€šè¿‡ scoop æ‰‹åŠ¨å®‰è£…è¿˜æ˜¯ä¸€é”®è„šæœ¬è‡ªåŠ¨é…ç½®ï¼Œéƒ½èƒ½å¿«é€Ÿæ­å»º make å·¥å…·é“¾ï¼Œç»“åˆé¢„ç½®çš„å‘½ä»¤é›†ï¼Œå¼€å‘è€…å¯è½»æ¾å®Œæˆä»ç¯å¢ƒåˆå§‹åŒ–åˆ°æœåŠ¡éƒ¨ç½²çš„å…¨æµç¨‹æ“ä½œã€‚</p>
<p>ç†Ÿç»ƒæŒæ¡è¿™äº›å‘½ä»¤ï¼Œä¸ä»…èƒ½æå‡ä¸ªäººå¼€å‘æ•ˆç‡ï¼Œæ›´èƒ½ä¿éšœå›¢é˜Ÿåä½œçš„è§„èŒƒæ€§ï¼Œè®©ä¸­åå°å¼€å‘çœŸæ­£å®ç°ã€Œå¦‚é£èˆ¬è‡ªç”±ã€ã€‚</p>
<h4 data-id="heading-20">é¡¹ç›®ä»“åº“</h4>
<ul>
<li>GoWind Adminï¼ˆGiteeï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Ftx7do%2Fgo-wind-admin" target="_blank" title="https://gitee.com/tx7do/go-wind-admin" ref="nofollow noopener noreferrer">gitee.com/tx7do/go-wiâ€¦</a></li>
<li>GoWind Adminï¼ˆGitHubï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftx7do%2Fgo-wind-admin" target="_blank" title="https://github.com/tx7do/go-wind-admin" ref="nofollow noopener noreferrer">github.com/tx7do/go-wiâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é—­åŒ…ã€ç°ä»£JSæ¶æ„çš„åŸºçŸ³(åŠæ‰“é¢è¯•å®˜)]]></title>    <link>https://juejin.cn/post/7584340871413088283</link>    <guid>https://juejin.cn/post/7584340871413088283</guid>    <pubDate>2025-12-17T01:56:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584340871413088283" data-draft-id="7584345932944293939" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é—­åŒ…ã€ç°ä»£JSæ¶æ„çš„åŸºçŸ³(åŠæ‰“é¢è¯•å®˜)"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-17T01:56:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è±†è‹—å­¦å‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/1935598759719400"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é—­åŒ…ã€ç°ä»£JSæ¶æ„çš„åŸºçŸ³(åŠæ‰“é¢è¯•å®˜)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1935598759719400/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è±†è‹—å­¦å‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T01:56:48.000Z" title="Wed Dec 17 2025 01:56:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScript é—­åŒ…å…¨è§£æï¼šä»å…¥é—¨åˆ°å®æˆ˜åº”ç”¨</h2>
<h3 data-id="heading-1">ğŸ“š ç›®å½•</h3>
<ol>
<li><a href="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" title="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">é—­åŒ…çš„åŸºæœ¬æ¦‚å¿µ</a></li>
<li><a href="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%BD%A2%E6%88%90%E6%9D%A1%E4%BB%B6" title="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%BD%A2%E6%88%90%E6%9D%A1%E4%BB%B6">é—­åŒ…çš„å½¢æˆæ¡ä»¶</a></li>
<li><a href="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%85%A5%E9%97%A8%E7%A4%BA%E4%BE%8B" title="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%85%A5%E9%97%A8%E7%A4%BA%E4%BE%8B">é—­åŒ…çš„å…¥é—¨ç¤ºä¾‹</a></li>
<li><a href="#%E9%97%AD%E5%8C%85%E7%9A%84%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7" title="#%E9%97%AD%E5%8C%85%E7%9A%84%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7">é—­åŒ…çš„æ ¸å¿ƒç‰¹æ€§</a></li>
<li><a href="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF" title="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">é—­åŒ…çš„å®é™…åº”ç”¨åœºæ™¯</a></li>
<li><a href="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%B8%B8%E8%A7%81%E9%99%B7%E9%98%B1%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" title="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%B8%B8%E8%A7%81%E9%99%B7%E9%98%B1%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">é—­åŒ…çš„å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%BB%BA%E8%AE%AE" title="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%BB%BA%E8%AE%AE">æ€§èƒ½ä¼˜åŒ–å»ºè®®</a></li>
<li><a href="#%E7%BB%BC%E5%90%88%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE" title="#%E7%BB%BC%E5%90%88%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE">ç»¼åˆå®æˆ˜é¡¹ç›®</a></li>
</ol>
<hr/>
<h3 data-id="heading-2">ğŸ” é—­åŒ…çš„åŸºæœ¬æ¦‚å¿µ</h3>
<h4 data-id="heading-3">ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ</h4>
<p>é—­åŒ…ï¼ˆClosureï¼‰æ˜¯æŒ‡å‡½æ•°èƒ½å¤Ÿè®¿é—®å…¶å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œå³ä½¿åœ¨å¤–éƒ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå†…éƒ¨å‡½æ•°ä»ç„¶å¯ä»¥è®¿é—®è¿™äº›å˜é‡ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŸºæœ¬çš„é—­åŒ…ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">outerFunction</span>(<span class="hljs-params">x</span>) {
    <span class="hljs-comment">// å¤–éƒ¨å‡½æ•°çš„å˜é‡</span>
    <span class="hljs-keyword">let</span> outerVariable = x;
    
    <span class="hljs-comment">// å†…éƒ¨å‡½æ•°ï¼ˆé—­åŒ…ï¼‰</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">innerFunction</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å˜é‡</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(outerVariable);
    }
    
    <span class="hljs-keyword">return</span> innerFunction;
}

<span class="hljs-comment">// åˆ›å»ºé—­åŒ…</span>
<span class="hljs-keyword">const</span> myClosure = <span class="hljs-title function_">outerFunction</span>(<span class="hljs-number">10</span>);
<span class="hljs-title function_">myClosure</span>(); <span class="hljs-comment">// è¾“å‡º: 10ï¼Œå°½ç®¡ outerFunction å·²ç»æ‰§è¡Œå®Œæ¯•</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">ğŸ¯ é—­åŒ…çš„å½¢æˆæ¡ä»¶</h3>
<h4 data-id="heading-5">âš ï¸ é‡è¦æ¦‚å¿µæ¾„æ¸…ï¼šé—­åŒ…å½¢æˆ vs é—­åŒ…çš„å®é™…åº”ç”¨</h4>
<p>å¾ˆå¤šå¼€å‘è€…å¯¹é—­åŒ…æœ‰ä¸€ä¸ªè¯¯è§£ï¼š<strong>è®¤ä¸ºå½¢æˆé—­åŒ…å¿…é¡»å¤–éƒ¨å‡½æ•°è¿”å›å†…éƒ¨å‡½æ•°</strong>ã€‚å®é™…ä¸Šï¼Œè¿™æ˜¯ä¸€ä¸ªéœ€è¦æ¾„æ¸…çš„é‡è¦æ¦‚å¿µï¼š</p>
<p><strong>é—­åŒ…çš„æœ¬è´¨</strong>ï¼šå†…éƒ¨å‡½æ•°æŒæœ‰äº†å¯¹å¤–éƒ¨å‡½æ•°ä½œç”¨åŸŸå˜é‡çš„å¼•ç”¨ï¼Œå³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œè¿™äº›å˜é‡ä¹Ÿä¸ä¼šè¢«åƒåœ¾å›æ”¶ã€‚</p>
<h4 data-id="heading-6">é—­åŒ…å½¢æˆçš„çœŸå®æ¡ä»¶</h4>
<p>é—­åŒ…çš„å½¢æˆåªéœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ ¸å¿ƒæ¡ä»¶ï¼š</p>
<ol>
<li><strong>å‡½æ•°åµŒå¥—</strong>ï¼šå¿…é¡»æœ‰ä¸€ä¸ªå¤–éƒ¨å‡½æ•°å’Œä¸€ä¸ªå†…éƒ¨å‡½æ•°</li>
<li><strong>å†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å˜é‡</strong>ï¼šå†…éƒ¨å‡½æ•°å¿…é¡»å¼•ç”¨å¤–éƒ¨å‡½æ•°ä¸­çš„å˜é‡</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ ä½†é—­åŒ…å­˜åœ¨ä½†æ²¡æœ‰å®é™…æ„ä¹‰çš„ä¾‹å­</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">outerFunction</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> secret = <span class="hljs-string">'æˆ‘æ˜¯ç§˜å¯†'</span>;
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">innerFunction</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(secret); <span class="hljs-comment">// å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å˜é‡ -&gt; é—­åŒ…å·²å½¢æˆ</span>
    }
    
    <span class="hljs-comment">// æ²¡æœ‰ return innerFunction</span>
    <span class="hljs-title function_">innerFunction</span>(); <span class="hljs-comment">// ç›´æ¥åœ¨ outerFunction å†…éƒ¨è°ƒç”¨</span>
}

<span class="hljs-title function_">outerFunction</span>(); <span class="hljs-comment">// è¾“å‡ºï¼šæˆ‘æ˜¯ç§˜å¯†</span>
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li><code>innerFunction</code> ç¡®å®å½¢æˆäº†é—­åŒ…â€”â€”å®ƒå¼•ç”¨äº† <code>secret</code></li>
<li>ä½† <code>innerFunction</code> æ²¡æœ‰è¢«è¿”å›ï¼Œä¹Ÿæ²¡æœ‰åœ¨ <code>outerFunction</code> å¤–éƒ¨è¢«è°ƒç”¨</li>
<li>æ‰€ä»¥é—­åŒ…ç¡®å®å­˜åœ¨ï¼Œä½†å®ƒåªåœ¨ <code>outerFunction</code> æ‰§è¡ŒæœŸé—´æœ‰æ•ˆ</li>
<li>æ‰§è¡Œç»“æŸåï¼Œ<code>innerFunction</code> å’Œ <code>secret</code> éƒ½ä¼šè¢«åƒåœ¾å›æ”¶</li>
</ul>
<h4 data-id="heading-7">ä¸ºä»€ä¹ˆ"è¿”å›"å¦‚æ­¤é‡è¦ï¼Ÿ</h4>
<p>åªæœ‰å½“å†…éƒ¨å‡½æ•°è¢«è¿”å›å¹¶èµ‹å€¼ç»™å¤–éƒ¨å˜é‡ï¼Œæˆ–ä½œä¸ºå›è°ƒä¼ é€’å‡ºå»ï¼Œå®ƒæ‰èƒ½åœ¨å¤–éƒ¨ä½œç”¨åŸŸä¸­è¢«è°ƒç”¨ï¼Œè¿™æ—¶é—­åŒ…çš„"æŒä¹…åŒ–"ç‰¹æ€§æ‰çœŸæ­£ä½“ç°å‡ºæ¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… é—­åŒ…æœ‰å®é™…æ„ä¹‰çš„ä¾‹å­</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createCounter</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>; <span class="hljs-comment">// å¤–éƒ¨å˜é‡</span>
    
    <span class="hljs-comment">// è¿”å›å†…éƒ¨å‡½æ•°ï¼Œè®©é—­åŒ…åœ¨å¤–éƒ¨å¯è¢«è°ƒç”¨</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">innerFunction</span>(<span class="hljs-params"/>) {
        count++; <span class="hljs-comment">// å¼•ç”¨å¤–éƒ¨å˜é‡</span>
        <span class="hljs-keyword">return</span> count;
    };
}

<span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">createCounter</span>(); <span class="hljs-comment">// å¤–éƒ¨æŒæœ‰ innerFunction çš„å¼•ç”¨</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">counter</span>()); <span class="hljs-comment">// 1 â€”â€” å³ä½¿ createCounter å·²æ‰§è¡Œå®Œï¼Œcount ä»è¢«ä¿ç•™</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">counter</span>()); <span class="hljs-comment">// 2</span>
</code></pre>
<h4 data-id="heading-8">é—­åŒ…çš„ç¬¬ä¸‰ç§æ¡ä»¶ï¼šæŒä¹…åŒ–æœºåˆ¶</h4>
<p>ä¸ºäº†å®Œæ•´ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥å°†é—­åŒ…çš„æ¡ä»¶åˆ†ä¸ºï¼š</p>
<ol>
<li>
<p><strong>å½¢æˆæ¡ä»¶</strong>ï¼ˆå¿…è¦æ¡ä»¶ï¼‰ï¼š</p>
<ul>
<li>å‡½æ•°åµŒå¥—</li>
<li>å†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å˜é‡</li>
</ul>
</li>
<li>
<p><strong>åº”ç”¨æ¡ä»¶</strong>ï¼ˆå®é™…ä»·å€¼ï¼‰ï¼š</p>
<ul>
<li>å†…éƒ¨å‡½æ•°è¢«è¿”å›æˆ–ä¼ é€’ï¼Œä½¿å…¶èƒ½åœ¨å¤–éƒ¨ä½œç”¨åŸŸä¸­è¢«è°ƒç”¨</li>
</ul>
</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é—­åŒ…å½¢æˆä½†æ— æ³•åœ¨å¤–éƒ¨ä½¿ç”¨çš„æƒ…å†µ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">case1</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> value = <span class="hljs-number">10</span>;
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">hasClosure</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> value; <span class="hljs-comment">// å½¢æˆé—­åŒ…</span>
    }
    
    <span class="hljs-comment">// é—­åŒ…å­˜åœ¨ï¼Œä½†æ— æ³•åœ¨å¤–éƒ¨ä½¿ç”¨</span>
    <span class="hljs-title function_">hasClosure</span>();
}

<span class="hljs-comment">// é—­åŒ…å½¢æˆä¸”å¯åœ¨å¤–éƒ¨ä½¿ç”¨çš„æƒ…å†µ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">case2</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> value = <span class="hljs-number">10</span>;
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">hasClosure</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> value; <span class="hljs-comment">// å½¢æˆé—­åŒ…</span>
    }
    
    <span class="hljs-keyword">return</span> hasClosure; <span class="hljs-comment">// è¿”å›é—­åŒ…ï¼Œä½¿å…¶å¯åœ¨å¤–éƒ¨ä½¿ç”¨</span>
}

<span class="hljs-keyword">const</span> myClosure = <span class="hljs-title function_">case2</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">myClosure</span>()); <span class="hljs-comment">// 10 - é—­åŒ…åœ¨å¤–éƒ¨è¢«è°ƒç”¨</span>
</code></pre>
<h4 data-id="heading-9">å¤šç§é—­åŒ…ä¼ é€’æ–¹å¼</h4>
<p>é™¤äº† <code>return</code>ï¼Œé—­åŒ…è¿˜å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼ä¼ é€’åˆ°å¤–éƒ¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. ä½œä¸ºå‚æ•°ä¼ é€’</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">asParameter</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> message = <span class="hljs-string">'å›è°ƒæ¶ˆæ¯'</span>;
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message); <span class="hljs-comment">// é—­åŒ…å½¢æˆ</span>
    }
    
    <span class="hljs-built_in">setTimeout</span>(callback, <span class="hljs-number">1000</span>); <span class="hljs-comment">// ä¼ é€’ç»™ setTimeout</span>
}

<span class="hljs-comment">// 2. ä½œä¸ºå¯¹è±¡æ–¹æ³•è¿”å›</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">asMethod</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> data = <span class="hljs-string">'ç§æœ‰æ•°æ®'</span>;
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">getData</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> data; <span class="hljs-comment">// é—­åŒ…å½¢æˆ</span>
        },
        
        <span class="hljs-attr">setData</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) {
            data = value;
        }
    };
}

<span class="hljs-comment">// 3. ä½œä¸ºäº‹ä»¶å¤„ç†å™¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">asEventHandler</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> clickCount = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
        clickCount++;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç‚¹å‡»æ¬¡æ•°: <span class="hljs-subst">${clickCount}</span>`</span>);
    }
    
    <span class="hljs-comment">// å‡è®¾æœ‰ä¸€ä¸ªæŒ‰é’®å…ƒç´ </span>
    <span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'myButton'</span>);
    <span class="hljs-keyword">if</span> (button) {
        button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleClick); <span class="hljs-comment">// ä¼ é€’ä¸ºäº‹ä»¶å¤„ç†å™¨</span>
    }
    
    <span class="hljs-keyword">return</span> handleClick; <span class="hljs-comment">// ä¹Ÿå¯ä»¥è¿”å›</span>
}
</code></pre>
<h4 data-id="heading-10">ğŸ¯ æ€»ç»“</h4>
<ul>
<li>âœ… <strong>é—­åŒ…å½¢æˆ</strong>ï¼šåªè¦å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ï¼Œé—­åŒ…å°±å·²å½¢æˆ</li>
<li>âœ… <strong>é—­åŒ…çš„å®é™…ä»·å€¼</strong>ï¼šå¿…é¡»é€šè¿‡è¿”å›æˆ–ä¼ é€’ï¼Œè®©å†…éƒ¨å‡½æ•°åœ¨å¤–éƒ¨ä½œç”¨åŸŸä¸­è¢«è°ƒç”¨</li>
<li>âŒ <strong>å¸¸è§è¯¯è§£</strong>ï¼šè®¤ä¸º <code>return</code> æ˜¯å½¢æˆé—­åŒ…çš„å¿…è¦æ¡ä»¶</li>
<li>âœ… <strong>æ­£ç¡®ç†è§£</strong>ï¼š<code>return</code> æˆ–å…¶ä»–ä¼ é€’æ–¹å¼æ˜¯é—­åŒ…äº§ç”Ÿå®é™…æ„ä¹‰çš„å¿…è¦æ¡ä»¶</li>
</ul>
<p><strong>æ‰€ä»¥ï¼Œè¿”å›ä¸æ˜¯å½¢æˆé—­åŒ…çš„å¿…è¦æ¡ä»¶ï¼Œä½†å´æ˜¯é—­åŒ…äº§ç”Ÿå®é™…åº”ç”¨çš„å¿…è¦æ¡ä»¶ã€‚</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é—­åŒ…å½¢æˆçš„ä¸‰ä¸ªæ¡ä»¶æ¼”ç¤º</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createClosure</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> privateVariable = <span class="hljs-string">"æˆ‘æ˜¯ç§æœ‰å˜é‡"</span>; <span class="hljs-comment">// æ¡ä»¶1ï¼šå¤–éƒ¨å˜é‡</span>
    
    <span class="hljs-comment">// æ¡ä»¶2ï¼šå†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å˜é‡</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">closureFunction</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> privateVariable;
    }
    
    <span class="hljs-comment">// æ¡ä»¶3ï¼šè¿”å›å†…éƒ¨å‡½æ•°</span>
    <span class="hljs-keyword">return</span> closureFunction;
}

<span class="hljs-keyword">const</span> closure = <span class="hljs-title function_">createClosure</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">closure</span>()); <span class="hljs-comment">// "æˆ‘æ˜¯ç§æœ‰å˜é‡"</span>
</code></pre>
<hr/>
<h3 data-id="heading-11">ğŸŒŸ é—­åŒ…çš„å…¥é—¨ç¤ºä¾‹</h3>
<h4 data-id="heading-12">ç¤ºä¾‹1ï¼šè®¡æ•°å™¨</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨é—­åŒ…</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createCounter</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>; <span class="hljs-comment">// ç§æœ‰å˜é‡ï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®</span>
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-comment">// å¢åŠ è®¡æ•°</span>
        <span class="hljs-attr">increment</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            count++;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å½“å‰è®¡æ•°: <span class="hljs-subst">${count}</span>`</span>);
        },
        
        <span class="hljs-comment">// å‡å°‘è®¡æ•°</span>
        <span class="hljs-attr">decrement</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">0</span>) {
                count--;
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å½“å‰è®¡æ•°: <span class="hljs-subst">${count}</span>`</span>);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è®¡æ•°ä¸èƒ½å°äº0"</span>);
            }
        },
        
        <span class="hljs-comment">// è·å–å½“å‰è®¡æ•°</span>
        <span class="hljs-attr">getCount</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> count;
        }
    };
}

<span class="hljs-comment">// ä½¿ç”¨è®¡æ•°å™¨</span>
<span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">createCounter</span>();
counter.<span class="hljs-title function_">increment</span>(); <span class="hljs-comment">// å½“å‰è®¡æ•°: 1</span>
counter.<span class="hljs-title function_">increment</span>(); <span class="hljs-comment">// å½“å‰è®¡æ•°: 2</span>
counter.<span class="hljs-title function_">decrement</span>(); <span class="hljs-comment">// å½“å‰è®¡æ•°: 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœ€ç»ˆè®¡æ•°: <span class="hljs-subst">${counter.getCount()}</span>`</span>); <span class="hljs-comment">// æœ€ç»ˆè®¡æ•°: 1</span>

<span class="hljs-comment">// countå˜é‡æ˜¯ç§æœ‰çš„ï¼Œæ— æ³•ç›´æ¥è®¿é—®</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(counter.<span class="hljs-property">count</span>); <span class="hljs-comment">// undefined</span>
</code></pre>
<h4 data-id="heading-13">ç¤ºä¾‹2ï¼šå»¶è¿Ÿæ‰§è¡Œ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨é—­åŒ…å®ç°å»¶è¿Ÿæ‰§è¡Œ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">delayedLogger</span>(<span class="hljs-params">message, delay</span>) {
    <span class="hljs-comment">// é—­åŒ…ä¿å­˜äº† message å’Œ delay çš„å€¼</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message);
    }, delay);
}

<span class="hljs-title function_">delayedLogger</span>(<span class="hljs-string">"Hello, World!"</span>, <span class="hljs-number">1000</span>); <span class="hljs-comment">// 1ç§’åè¾“å‡º: Hello, World!</span>
<span class="hljs-title function_">delayedLogger</span>(<span class="hljs-string">"å»¶è¿Ÿ2ç§’çš„æ¶ˆæ¯"</span>, <span class="hljs-number">2000</span>); <span class="hljs-comment">// 2ç§’åè¾“å‡º: å»¶è¿Ÿ2ç§’çš„æ¶ˆæ¯</span>
</code></pre>
<hr/>
<h3 data-id="heading-14">ğŸ’¡ é—­åŒ…çš„æ ¸å¿ƒç‰¹æ€§</h3>
<h4 data-id="heading-15">1. å˜é‡æŒä¹…åŒ–</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createPersistentVariable</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> persistent = <span class="hljs-string">"æˆ‘æŒä¹…å­˜åœ¨"</span>;
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> persistent; <span class="hljs-comment">// å³ä½¿å¤–éƒ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œpersistentä¾ç„¶å­˜åœ¨</span>
    };
}

<span class="hljs-keyword">const</span> persistentFunc = <span class="hljs-title function_">createPersistentVariable</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">persistentFunc</span>()); <span class="hljs-comment">// "æˆ‘æŒä¹…å­˜åœ¨"</span>
</code></pre>
<h4 data-id="heading-16">2. æ•°æ®å°è£…å’Œç§æœ‰åŒ–</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå¸¦æœ‰ç§æœ‰æ•°æ®å¯¹è±¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createPrivateObject</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> privateData = {
        <span class="hljs-attr">secret</span>: <span class="hljs-string">"è¿™æ˜¯ç§æœ‰æ•°æ®"</span>,
        <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
    };
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-comment">// åªèƒ½é€šè¿‡è¿™äº›æ–¹æ³•è®¿é—®ç§æœ‰æ•°æ®</span>
        <span class="hljs-attr">getSecret</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> privateData.<span class="hljs-property">secret</span>;
        },
        
        <span class="hljs-attr">incrementCount</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            privateData.<span class="hljs-property">count</span>++;
        },
        
        <span class="hljs-attr">getCount</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> privateData.<span class="hljs-property">count</span>;
        }
    };
}

<span class="hljs-keyword">const</span> obj = <span class="hljs-title function_">createPrivateObject</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-title function_">getSecret</span>()); <span class="hljs-comment">// "è¿™æ˜¯ç§æœ‰æ•°æ®"</span>
obj.<span class="hljs-title function_">incrementCount</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-title function_">getCount</span>()); <span class="hljs-comment">// 1</span>

<span class="hljs-comment">// æ— æ³•ç›´æ¥è®¿é—® privateData</span>
<span class="hljs-comment">// console.log(obj.privateData); // undefined</span>
</code></pre>
<h4 data-id="heading-17">3. å‡½æ•°å·¥å‚</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºå…·æœ‰ç‰¹å®šé…ç½®çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createMultiplier</span>(<span class="hljs-params">factor</span>) {
    <span class="hljs-comment">// è¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šè®°ä½factorçš„å€¼</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">number</span>) {
        <span class="hljs-keyword">return</span> number * factor;
    };
}

<span class="hljs-comment">// åˆ›å»ºç‰¹å®šçš„ä¹˜æ³•å‡½æ•°</span>
<span class="hljs-keyword">const</span> double = <span class="hljs-title function_">createMultiplier</span>(<span class="hljs-number">2</span>);
<span class="hljs-keyword">const</span> triple = <span class="hljs-title function_">createMultiplier</span>(<span class="hljs-number">3</span>);
<span class="hljs-keyword">const</span> quadruple = <span class="hljs-title function_">createMultiplier</span>(<span class="hljs-number">4</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">double</span>(<span class="hljs-number">5</span>)); <span class="hljs-comment">// 10</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">triple</span>(<span class="hljs-number">5</span>)); <span class="hljs-comment">// 15</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">quadruple</span>(<span class="hljs-number">5</span>)); <span class="hljs-comment">// 20</span>
</code></pre>
<h4 data-id="heading-18">4. é—­åŒ…çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</h4>
<p>ç†è§£é—­åŒ…çš„ç”Ÿå‘½å‘¨æœŸå¯¹äºé¿å…å†…å­˜æ³„æ¼å’Œä¼˜åŒ–æ€§èƒ½è‡³å…³é‡è¦ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * é—­åŒ…ç”Ÿå‘½å‘¨æœŸå®Œæ•´æ¼”ç¤º
 */</span>

<span class="hljs-comment">// é˜¶æ®µ1ï¼šé—­åŒ…åˆ›å»º</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createClosure</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> lifecycle = <span class="hljs-string">'åˆ›å»ºé˜¶æ®µ'</span>;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. å¤–éƒ¨å‡½æ•°æ‰§è¡Œï¼Œåˆ›å»ºé—­åŒ…ç¯å¢ƒ'</span>);
    
    <span class="hljs-comment">// å†…éƒ¨å‡½æ•°æ•è·å¤–éƒ¨ä½œç”¨åŸŸ</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">innerFunction</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`é—­åŒ…è®¿é—®: <span class="hljs-subst">${lifecycle}</span>`</span>;
    }
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. å†…éƒ¨å‡½æ•°å·²æ•è·å¤–éƒ¨å˜é‡ï¼Œé—­åŒ…å½¢æˆ'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3. å¤–éƒ¨å‡½æ•°å³å°†æ‰§è¡Œå®Œæ¯•'</span>);
    
    <span class="hljs-keyword">return</span> innerFunction; <span class="hljs-comment">// è¿”å›é—­åŒ…ï¼Œä¿æŒå…¶ç”Ÿå‘½å‘¨æœŸ</span>
}

<span class="hljs-comment">// é˜¶æ®µ2ï¼šé—­åŒ…æ´»è·ƒæœŸ</span>
<span class="hljs-keyword">const</span> myClosure = <span class="hljs-title function_">createClosure</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. é—­åŒ…åœ¨å¤–éƒ¨è¢«è°ƒç”¨ï¼Œè¿›å…¥æ´»è·ƒæœŸ'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">myClosure</span>()); <span class="hljs-comment">// "é—­åŒ…è®¿é—®: åˆ›å»ºé˜¶æ®µ"</span>

<span class="hljs-comment">// é˜¶æ®µ3ï¼šé—­åŒ…æŒä¹…æœŸ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'5. å³ä½¿å¤–éƒ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œé—­åŒ…ä¾ç„¶å­˜åœ¨'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">myClosure</span>()); <span class="hljs-comment">// "é—­åŒ…è®¿é—®: åˆ›å»ºé˜¶æ®µ"</span>

<span class="hljs-comment">// é˜¶æ®µ4ï¼šé—­åŒ…é”€æ¯æœŸ</span>
myClosure = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ç§»é™¤å¯¹é—­åŒ…çš„å¼•ç”¨</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'6. é—­åŒ…å¼•ç”¨è¢«ç§»é™¤ï¼Œç­‰å¾…åƒåœ¾å›æ”¶'</span>);

<span class="hljs-comment">// åƒåœ¾å›æ”¶ä¼šåœ¨é€‚å½“æ—¶å€™å›æ”¶é—­åŒ…åŠå…¶æ•è·çš„å˜é‡</span>
</code></pre>
<h4 data-id="heading-19">5. é—­åŒ…çš„å†…å­˜ç‰¹å¾</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * é—­åŒ…çš„å†…å­˜ç‰¹å¾åˆ†æ
 */</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">analyzeClosureMemory</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é—­åŒ…æ•è·çš„å˜é‡ä¼šä¸€ç›´å­˜åœ¨äºå†…å­˜ä¸­</span>
    <span class="hljs-keyword">let</span> capturedVariables = {
        <span class="hljs-attr">string</span>: <span class="hljs-string">'å­—ç¬¦ä¸²å˜é‡'</span>,
        <span class="hljs-attr">number</span>: <span class="hljs-number">42</span>,
        <span class="hljs-attr">array</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
        <span class="hljs-attr">object</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¯¹è±¡'</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">100</span> }
    };
    
    <span class="hljs-comment">// æ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºæ–°çš„é—­åŒ…å®ä¾‹</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">createClosureInstance</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// æ¯ä¸ªé—­åŒ…å®ä¾‹éƒ½æœ‰ç‹¬ç«‹çš„ä½œç”¨åŸŸé“¾</span>
        <span class="hljs-keyword">let</span> instanceId = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>).<span class="hljs-title function_">substr</span>(<span class="hljs-number">2</span>, <span class="hljs-number">9</span>);
        
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">getId</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                <span class="hljs-keyword">return</span> instanceId;
            },
            
            <span class="hljs-attr">getCapturedData</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œè®¿é—®çš„æ˜¯åŒä¸€ä¸ª capturedVariables å¯¹è±¡</span>
                    <span class="hljs-attr">string</span>: capturedVariables.<span class="hljs-property">string</span>,
                    <span class="hljs-attr">number</span>: capturedVariables.<span class="hljs-property">number</span>,
                    <span class="hljs-attr">arrayLength</span>: capturedVariables.<span class="hljs-property">array</span>.<span class="hljs-property">length</span>,
                    <span class="hljs-attr">objectName</span>: capturedVariables.<span class="hljs-property">object</span>.<span class="hljs-property">name</span>
                };
            },
            
            <span class="hljs-comment">// ä¿®æ”¹æ•è·çš„æ•°æ®ä¼šå½±å“å…¶ä»–é—­åŒ…å®ä¾‹</span>
            <span class="hljs-attr">modifyCapturedData</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) {
                <span class="hljs-keyword">if</span> (capturedVariables.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
                    capturedVariables[key] = value;
                }
            }
        };
    }
    
    <span class="hljs-comment">// åˆ›å»ºä¸¤ä¸ªé—­åŒ…å®ä¾‹</span>
    <span class="hljs-keyword">const</span> closure1 = <span class="hljs-title function_">createClosureInstance</span>();
    <span class="hljs-keyword">const</span> closure2 = <span class="hljs-title function_">createClosureInstance</span>();
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®ä¾‹1 ID:'</span>, closure1.<span class="hljs-title function_">getId</span>());
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®ä¾‹2 ID:'</span>, closure2.<span class="hljs-title function_">getId</span>());
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®ä¾‹1è®¿é—®æ•è·æ•°æ®:'</span>, closure1.<span class="hljs-title function_">getCapturedData</span>());
    
    <span class="hljs-comment">// å®ä¾‹2ä¿®æ”¹æ•°æ®</span>
    closure2.<span class="hljs-title function_">modifyCapturedData</span>(<span class="hljs-string">'string'</span>, <span class="hljs-string">'å·²ä¿®æ”¹çš„å­—ç¬¦ä¸²'</span>);
    
    <span class="hljs-comment">// å®ä¾‹1ä¹Ÿèƒ½çœ‹åˆ°ä¿®æ”¹åçš„æ•°æ®ï¼ˆå…±äº«åŒä¸€ä¸ªæ•è·å¯¹è±¡ï¼‰</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¿®æ”¹åå®ä¾‹1è®¿é—®æ•°æ®:'</span>, closure1.<span class="hljs-title function_">getCapturedData</span>());
    
    <span class="hljs-keyword">return</span> { closure1, closure2 };
}

<span class="hljs-keyword">const</span> { closure1, closure2 } = <span class="hljs-title function_">analyzeClosureMemory</span>();
</code></pre>
<hr/>
<h3 data-id="heading-20">ğŸš€ é—­åŒ…çš„å®é™…åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-21">åœºæ™¯1ï¼šæ¨¡å—åŒ–å¼€å‘</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨é—­åŒ…åˆ›å»ºæ¨¡å—</span>
<span class="hljs-keyword">const</span> myModule = (<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç§æœ‰å˜é‡å’Œæ–¹æ³•</span>
    <span class="hljs-keyword">let</span> privateVar = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">privateMethod</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è¿™æ˜¯ç§æœ‰æ–¹æ³•"</span>);
        privateVar++;
    }
    
    <span class="hljs-comment">// å…¬å…±æ¥å£</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">publicMethod</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è¿™æ˜¯å…¬å…±æ–¹æ³•"</span>);
            <span class="hljs-title function_">privateMethod</span>(); <span class="hljs-comment">// è°ƒç”¨ç§æœ‰æ–¹æ³•</span>
            <span class="hljs-keyword">return</span> privateVar;
        },
        
        <span class="hljs-attr">publicVar</span>: <span class="hljs-string">"è¿™æ˜¯å…¬å…±å˜é‡"</span>
    };
})();

<span class="hljs-comment">// ä½¿ç”¨æ¨¡å—</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myModule.<span class="hljs-title function_">publicMethod</span>()); <span class="hljs-comment">// "è¿™æ˜¯å…¬å…±æ–¹æ³•", "è¿™æ˜¯ç§æœ‰æ–¹æ³•", 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myModule.<span class="hljs-property">publicVar</span>); <span class="hljs-comment">// "è¿™æ˜¯å…¬å…±å˜é‡"</span>
<span class="hljs-comment">// myModule.privateVar å’Œ myModule.privateMethod æ— æ³•è®¿é—®</span>
</code></pre>
<h4 data-id="heading-22">åœºæ™¯2ï¼šäº‹ä»¶å¤„ç†å™¨ä¸­çš„çŠ¶æ€ä¿æŒ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// HTMLç¤ºä¾‹: &lt;button id="btn-1"&gt;æŒ‰é’®1&lt;/button&gt;, &lt;button id="btn-2"&gt;æŒ‰é’®2&lt;/button&gt;</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">setupButtons</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> clickCount = <span class="hljs-number">0</span>; <span class="hljs-comment">// æ‰€æœ‰æŒ‰é’®å…±äº«çš„ç‚¹å‡»è®¡æ•°</span>
    
    <span class="hljs-comment">// ä¸ºæ¯ä¸ªæŒ‰é’®è®¾ç½®äº‹ä»¶å¤„ç†å™¨</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'button'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">button, index</span>) =&gt;</span> {
        <span class="hljs-comment">// æ¯ä¸ªæŒ‰é’®éƒ½æœ‰è‡ªå·±çš„é—­åŒ…</span>
        button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            clickCount++; <span class="hljs-comment">// æ‰€æœ‰æŒ‰é’®å…±äº«çš„è®¡æ•°å™¨</span>
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æŒ‰é’®<span class="hljs-subst">${index + <span class="hljs-number">1</span>}</span>è¢«ç‚¹å‡»ï¼Œæ€»ç‚¹å‡»æ¬¡æ•°: <span class="hljs-subst">${clickCount}</span>`</span>);
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è¿™æ˜¯ç¬¬<span class="hljs-subst">${index + <span class="hljs-number">1</span>}</span>ä¸ªæŒ‰é’®`</span>);
        });
    });
}

<span class="hljs-comment">// åœ¨æµè§ˆå™¨ä¸­è°ƒç”¨: setupButtons();</span>
</code></pre>
<h4 data-id="heading-23">åœºæ™¯3ï¼šé˜²æŠ–å’ŒèŠ‚æµå‡½æ•°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é˜²æŠ–å‡½æ•°ï¼šåœ¨æŒ‡å®šæ—¶é—´å†…åªæ‰§è¡Œæœ€åä¸€æ¬¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">func, delay</span>) {
    <span class="hljs-keyword">let</span> timeoutId; <span class="hljs-comment">// é—­åŒ…ä¿å­˜å®šæ—¶å™¨ID</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-comment">// æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨</span>
        <span class="hljs-built_in">clearTimeout</span>(timeoutId);
        
        <span class="hljs-comment">// è®¾ç½®æ–°çš„å®šæ—¶å™¨</span>
        timeoutId = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            func.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
        }, delay);
    };
}

<span class="hljs-comment">// èŠ‚æµå‡½æ•°ï¼šåœ¨æŒ‡å®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">func, limit</span>) {
    <span class="hljs-keyword">let</span> inThrottle; <span class="hljs-comment">// é—­åŒ…ä¿å­˜èŠ‚æµçŠ¶æ€</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-keyword">if</span> (!inThrottle) {
            func.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
            inThrottle = <span class="hljs-literal">true</span>;
            
            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                inThrottle = <span class="hljs-literal">false</span>;
            }, limit);
        }
    };
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> searchInput = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'search'</span>);
<span class="hljs-keyword">if</span> (searchInput) {
    <span class="hljs-comment">// é˜²æŠ–æœç´¢</span>
    <span class="hljs-keyword">const</span> debouncedSearch = <span class="hljs-title function_">debounce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœç´¢å†…å®¹:'</span>, e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);
        <span class="hljs-comment">// æ‰§è¡Œæœç´¢é€»è¾‘</span>
    }, <span class="hljs-number">300</span>);
    
    searchInput.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, debouncedSearch);
}
</code></pre>
<h4 data-id="heading-24">åœºæ™¯4ï¼šç¼“å­˜æœºåˆ¶ï¼ˆè®°å¿†åŒ–ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå¸¦ç¼“å­˜åŠŸèƒ½çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">memoize</span>(<span class="hljs-params">fn</span>) {
    <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// é—­åŒ…ä¿å­˜ç¼“å­˜</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-keyword">const</span> key = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(args); <span class="hljs-comment">// åˆ›å»ºç¼“å­˜é”®</span>
        
        <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">has</span>(key)) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»ç¼“å­˜ä¸­è·å–ç»“æœ'</span>);
            <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">get</span>(key);
        }
        
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è®¡ç®—æ–°ç»“æœå¹¶ç¼“å­˜'</span>);
        <span class="hljs-keyword">const</span> result = fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
        cache.<span class="hljs-title function_">set</span>(key, result);
        <span class="hljs-keyword">return</span> result;
    };
}

<span class="hljs-comment">// ç¼“å­˜æ–æ³¢é‚£å¥‘æ•°åˆ—è®¡ç®—</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n</span>) {
    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> n;
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">fibonacci</span>(n - <span class="hljs-number">1</span>) + <span class="hljs-title function_">fibonacci</span>(n - <span class="hljs-number">2</span>);
}

<span class="hljs-comment">// åˆ›å»ºå¸¦ç¼“å­˜çš„æ–æ³¢é‚£å¥‘å‡½æ•°</span>
<span class="hljs-keyword">const</span> memoizedFibonacci = <span class="hljs-title function_">memoize</span>(fibonacci);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'ç¬¬ä¸€æ¬¡è®¡ç®—'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">memoizedFibonacci</span>(<span class="hljs-number">35</span>)); <span class="hljs-comment">// ä¼šè®¡ç®—</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'ç¬¬ä¸€æ¬¡è®¡ç®—'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'ç¬¬äºŒæ¬¡è®¡ç®—'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">memoizedFibonacci</span>(<span class="hljs-number">35</span>)); <span class="hljs-comment">// ä»ç¼“å­˜è·å–</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'ç¬¬äºŒæ¬¡è®¡ç®—'</span>);
</code></pre>
<h4 data-id="heading-25">åœºæ™¯5ï¼šçŠ¶æ€ç®¡ç†å™¨</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€å•çš„çŠ¶æ€ç®¡ç†å™¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createStateManager</span>(<span class="hljs-params">initialState</span>) {
    <span class="hljs-keyword">let</span> state = initialState; <span class="hljs-comment">// é—­åŒ…ä¿å­˜çŠ¶æ€</span>
    <span class="hljs-keyword">const</span> subscribers = []; <span class="hljs-comment">// é—­åŒ…ä¿å­˜è®¢é˜…è€…åˆ—è¡¨</span>
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-comment">// è·å–å½“å‰çŠ¶æ€</span>
        <span class="hljs-attr">getState</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> { ...state }; <span class="hljs-comment">// è¿”å›å‰¯æœ¬ï¼Œé¿å…ç›´æ¥ä¿®æ”¹</span>
        },
        
        <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span>
        <span class="hljs-attr">setState</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">newState</span>) {
            state = { ...state, ...newState };
            
            <span class="hljs-comment">// é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…</span>
            subscribers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">callback</span> =&gt;</span> <span class="hljs-title function_">callback</span>(state));
        },
        
        <span class="hljs-comment">// è®¢é˜…çŠ¶æ€å˜åŒ–</span>
        <span class="hljs-attr">subscribe</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) {
            subscribers.<span class="hljs-title function_">push</span>(callback);
            
            <span class="hljs-comment">// è¿”å›å–æ¶ˆè®¢é˜…å‡½æ•°</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                <span class="hljs-keyword">const</span> index = subscribers.<span class="hljs-title function_">indexOf</span>(callback);
                <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
                    subscribers.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
                }
            };
        }
    };
}

<span class="hljs-comment">// ä½¿ç”¨çŠ¶æ€ç®¡ç†å™¨</span>
<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStateManager</span>({ 
    <span class="hljs-attr">user</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> },
    <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>
});

<span class="hljs-comment">// è®¢é˜…çŠ¶æ€å˜åŒ–</span>
<span class="hljs-keyword">const</span> unsubscribe = store.<span class="hljs-title function_">subscribe</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">newState</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çŠ¶æ€å·²æ›´æ–°:'</span>, newState);
});

<span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span>
store.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">user</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> } });
store.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">theme</span>: <span class="hljs-string">'dark'</span> });

<span class="hljs-comment">// å–æ¶ˆè®¢é˜…</span>
<span class="hljs-title function_">unsubscribe</span>();
</code></pre>
<hr/>
<h3 data-id="heading-26">âš ï¸ é—­åŒ…çš„å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-27">é™·é˜±0ï¼šå¯¹é—­åŒ…å½¢æˆæ¡ä»¶çš„è¯¯è§£</h4>
<p>åœ¨æ·±å…¥å­¦ä¹ é—­åŒ…çš„å¸¸è§é™·é˜±ä¹‹å‰ï¼Œé¦–å…ˆè¦æ¾„æ¸…ä¸€ä¸ªæœ€åŸºç¡€ä½†æœ€å®¹æ˜“è¢«è¯¯è§£çš„é—®é¢˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ å¸¸è§è¯¯è§£ï¼šè®¤ä¸ºä¸è¿”å›å°±ä¸å½¢æˆé—­åŒ…</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">misconceptionAboutClosure</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> data = <span class="hljs-string">'é‡è¦æ•°æ®'</span>;
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">innerFunction</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data); <span class="hljs-comment">// è¿™é‡Œç¡®å®å½¢æˆäº†é—­åŒ…</span>
    }
    
    <span class="hljs-comment">// æ²¡æœ‰returnï¼Œä½†é—­åŒ…å·²ç»å½¢æˆäº†</span>
    <span class="hljs-title function_">innerFunction</span>(); <span class="hljs-comment">// é—­åŒ…åœ¨è¿™é‡Œè¢«ä½¿ç”¨</span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®ç†è§£ï¼šé—­åŒ…å½¢æˆä¸æ˜¯å¦è¿”å›æ— å…³</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">correctUnderstanding</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è¿™äº›éƒ½ä¼šå½¢æˆé—­åŒ…ï¼Œåªæ˜¯ä½¿ç”¨åœºæ™¯ä¸åŒ</span>
    
    <span class="hljs-comment">// æƒ…å†µ1ï¼šé—­åŒ…ä»…åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">internalUse</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">let</span> config = { <span class="hljs-attr">timeout</span>: <span class="hljs-number">1000</span> };
        
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">setupTimer</span>(<span class="hljs-params"/>) {
            <span class="hljs-comment">// å½¢æˆé—­åŒ…ï¼Œä½†åªåœ¨å†…éƒ¨ä½¿ç”¨</span>
            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(config.<span class="hljs-property">timeout</span>), config.<span class="hljs-property">timeout</span>);
        }
        
        <span class="hljs-title function_">setupTimer</span>(); <span class="hljs-comment">// é—­åŒ…åœ¨è¿™é‡Œè¢«åˆ›å»ºå’Œè°ƒç”¨ï¼Œç„¶åæ¶ˆå¤±</span>
    }
    
    <span class="hljs-comment">// æƒ…å†µ2ï¼šé—­åŒ…ä¼ é€’ç»™å¤–éƒ¨API</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">externalUse</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">let</span> message = <span class="hljs-string">'å¼‚æ­¥æ¶ˆæ¯'</span>;
        
        <span class="hljs-comment">// é—­åŒ…å½¢æˆå¹¶ä¼ é€’ç»™å¤–éƒ¨å‡½æ•°ï¼ˆå¦‚setTimeoutã€äº‹ä»¶ç›‘å¬å™¨ç­‰ï¼‰</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message); <span class="hljs-comment">// é—­åŒ…åœ¨å¤–éƒ¨APIä¸­è¢«è°ƒç”¨</span>
        }, <span class="hljs-number">100</span>);
    }
    
    <span class="hljs-comment">// æƒ…å†µ3ï¼šé—­åŒ…ä½œä¸ºè¿”å›å€¼ï¼ˆæœ€å¸¸è§ç”¨æ³•ï¼‰</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">returnUse</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">let</span> counter = <span class="hljs-number">0</span>;
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> ++counter; <span class="hljs-comment">// é—­åŒ…è¿”å›ç»™å¤–éƒ¨ä½¿ç”¨</span>
        };
    }
    
    <span class="hljs-title function_">internalUse</span>();
    <span class="hljs-title function_">externalUse</span>();
    <span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">returnUse</span>();
}
</code></pre>
<h4 data-id="heading-28">é™·é˜±1ï¼šå¾ªç¯ä¸­çš„é—­åŒ…é—®é¢˜</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é”™è¯¯ç¤ºä¾‹ï¼šå¾ªç¯ä¸­çš„é—­åŒ…é—®é¢˜</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createBadButtons</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
        <span class="hljs-comment">// ä½¿ç”¨varå£°æ˜ï¼Œæ‰€æœ‰é—­åŒ…å…±äº«åŒä¸€ä¸ªiå˜é‡</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æŒ‰é’®<span class="hljs-subst">${i}</span>è¢«ç‚¹å‡»`</span>); <span class="hljs-comment">// éƒ½è¾“å‡º: æŒ‰é’®3è¢«ç‚¹å‡»</span>
        }, <span class="hljs-number">100</span> * i);
    }
}

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆ1ï¼šä½¿ç”¨letå£°æ˜</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createGoodButtons</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
        <span class="hljs-comment">// ä½¿ç”¨letï¼Œæ¯æ¬¡å¾ªç¯åˆ›å»ºæ–°çš„ç»‘å®š</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æŒ‰é’®<span class="hljs-subst">${i}</span>è¢«ç‚¹å‡»`</span>); <span class="hljs-comment">// æ­£ç¡®è¾“å‡º: æŒ‰é’®0ã€æŒ‰é’®1ã€æŒ‰é’®2è¢«ç‚¹å‡»</span>
        }, <span class="hljs-number">100</span> * i);
    }
}

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨IIFEï¼ˆç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createGoodButtons2</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
        <span class="hljs-comment">// ä½¿ç”¨IIFEåˆ›å»ºæ–°çš„ä½œç”¨åŸŸ</span>
        (<span class="hljs-keyword">function</span>(<span class="hljs-params">index</span>) {
            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æŒ‰é’®<span class="hljs-subst">${index}</span>è¢«ç‚¹å‡»`</span>);
            }, <span class="hljs-number">100</span> * index);
        })(i);
    }
}

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆ3ï¼šä½¿ç”¨bindæ–¹æ³•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createGoodButtons3</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">index</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æŒ‰é’®<span class="hljs-subst">${index}</span>è¢«ç‚¹å‡»`</span>);
        }.<span class="hljs-title function_">bind</span>(<span class="hljs-literal">null</span>, i), <span class="hljs-number">100</span> * i);
    }
}
</code></pre>
<h4 data-id="heading-29">é™·é˜±2ï¼šå†…å­˜æ³„æ¼ä¸åƒåœ¾å›æ”¶æœºåˆ¶</h4>
<h5 data-id="heading-30">ğŸ—‘ï¸ ä»€ä¹ˆæ˜¯åƒåœ¾å›æ”¶ï¼Ÿ</h5>
<p>åƒåœ¾å›æ”¶ï¼ˆGarbage Collectionï¼‰æ˜¯JavaScriptå¼•æ“è‡ªåŠ¨ç®¡ç†å†…å­˜çš„æœºåˆ¶ï¼Œå®ƒä¼šè¯†åˆ«å¹¶é‡Šæ”¾é‚£äº›ä¸å†è¢«ä½¿ç”¨çš„å¯¹è±¡å’Œå˜é‡ï¼Œä»è€Œé˜²æ­¢å†…å­˜æ³„æ¼ï¼Œä¿è¯ç¨‹åºè¿è¡Œæ•ˆç‡ã€‚</p>
<p>åœ¨JavaScriptä¸­ï¼Œåƒåœ¾å›æ”¶ä¸»è¦é€šè¿‡"æ ‡è®°-æ¸…é™¤"ç®—æ³•å·¥ä½œï¼Œæ ¸å¿ƒåŸåˆ™æ˜¯ï¼š<strong>å¦‚æœä¸€ä¸ªå˜é‡æˆ–å¯¹è±¡ä¸å†æœ‰ä»»ä½•å¼•ç”¨æŒ‡å‘å®ƒï¼Œå®ƒå°±ä¼šè¢«å›æ”¶ã€‚</strong></p>
<h5 data-id="heading-31">é—­åŒ…ä¸åƒåœ¾å›æ”¶çš„ç´§å¯†å…³ç³»</h5>
<p>é—­åŒ…ä¹‹æ‰€ä»¥èƒ½"è®°ä½"å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œæ˜¯å› ä¸ºå†…éƒ¨å‡½æ•°æŒæœ‰äº†å¯¹å¤–éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“å¤–éƒ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå®ƒçš„å±€éƒ¨å˜é‡æœ¬è¯¥è¢«é”€æ¯ã€å†…å­˜è¢«å›æ”¶ã€‚ä½†å› ä¸ºé—­åŒ…çš„å­˜åœ¨â€”â€”å†…éƒ¨å‡½æ•°è¢«å¤–éƒ¨å¼•ç”¨å¹¶æŒç»­ä½¿ç”¨â€”â€”è¿™äº›å˜é‡å°±"è¢«ä¿ç•™"äº†ä¸‹æ¥ï¼Œåƒåœ¾å›æ”¶å™¨è®¤ä¸ºå®ƒä»¬"ä»ç„¶æœ‰ç”¨"ï¼Œäºæ˜¯ä¸ä¼šé‡Šæ”¾ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é—­åŒ…é˜»æ­¢åƒåœ¾å›æ”¶çš„ç»å…¸ä¾‹å­</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createCounter</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>; <span class="hljs-comment">// è¿™ä¸ªå˜é‡æœ¬è¯¥åœ¨å‡½æ•°ç»“æŸåè¢«å›æ”¶</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        count++; <span class="hljs-comment">// é—­åŒ…å¼•ç”¨äº† countï¼Œé˜»æ­¢å®ƒè¢«å›æ”¶</span>
        <span class="hljs-keyword">return</span> count;
    };
}

<span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">createCounter</span>(); <span class="hljs-comment">// counter æŒæœ‰å¯¹ count çš„å¼•ç”¨</span>
<span class="hljs-title function_">counter</span>(); <span class="hljs-comment">// 1</span>
<span class="hljs-title function_">counter</span>(); <span class="hljs-comment">// 2</span>
<span class="hljs-comment">// å³ä½¿ createCounter() å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œcount ä¾ç„¶å­˜åœ¨ï¼Œä¸ä¼šè¢«åƒåœ¾å›æ”¶</span>
</code></pre>
<p>è¿™å°±æ˜¯é—­åŒ…çš„<strong>åŒåˆƒå‰‘</strong>ï¼šå®ƒè®©ä½ èƒ½å®ç°çŠ¶æ€æŒä¹…åŒ–ã€ç§æœ‰å˜é‡ç­‰å¼ºå¤§åŠŸèƒ½ï¼Œä½†ä¹Ÿå¯èƒ½é€ æˆå†…å­˜æ³„æ¼ã€‚</p>
<h5 data-id="heading-32">å¸¸è§çš„å†…å­˜æ³„æ¼åœºæ™¯åŠè§£å†³æ–¹æ¡ˆ</h5>
<h6 data-id="heading-33">1. âŒ å±é™©ï¼šé—­åŒ…æŒæœ‰å¤§å¯¹è±¡</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å±é™©ç¤ºä¾‹ï¼šé—­åŒ…æŒæœ‰äº†æ•´ä¸ª DOM å…ƒç´ </span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">bindEventWithLeak</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> element = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'myButton'</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        element.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">'red'</span>; <span class="hljs-comment">// é—­åŒ…å¼•ç”¨äº† elementï¼Œé˜»æ­¢å…¶è¢«å›æ”¶</span>
    };
}

<span class="hljs-keyword">const</span> leakyHandler = <span class="hljs-title function_">bindEventWithLeak</span>();
<span class="hljs-comment">// å³ä½¿æŒ‰é’®è¢«ä»DOMä¸­ç§»é™¤ï¼Œelementå¯¹è±¡ä»è¢«é—­åŒ…æŒæœ‰ï¼Œæ— æ³•è¢«å›æ”¶</span>
</code></pre>
<p><strong>âœ… è§£å†³æ–¹æ¡ˆï¼šåªä¿å­˜å¿…è¦ä¿¡æ¯</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®‰å…¨åšæ³•ï¼šåªä¿å­˜è½»é‡çš„ID</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">bindEventSafely</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> elementId = <span class="hljs-string">'myButton'</span>; <span class="hljs-comment">// åªä¿ç•™å­—ç¬¦ä¸²ï¼Œè½»é‡</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> element = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(elementId); <span class="hljs-comment">// æŒ‰éœ€è·å–</span>
        <span class="hljs-keyword">if</span> (element) {
            element.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">'red'</span>;
        }
    };
}
</code></pre>
<h6 data-id="heading-34">2. âŒ å±é™©ï¼šé—­åŒ…ä¸­çš„å¤§å‹æ•°æ®ç»“æ„</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createHeavyClosure</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> largeData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'huge data'</span>); <span class="hljs-comment">// å¤§å‹æ•°æ®</span>
    <span class="hljs-keyword">let</span> config = { <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>, <span class="hljs-attr">retries</span>: <span class="hljs-number">3</span> }; <span class="hljs-comment">// é…ç½®ä¿¡æ¯</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getTimeout</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// é—­åŒ…å¼•ç”¨äº†largeDataï¼Œå³ä½¿æˆ‘ä»¬åªéœ€è¦config.timeout</span>
        <span class="hljs-keyword">return</span> config.<span class="hljs-property">timeout</span>;
    };
}

<span class="hljs-keyword">const</span> leakyFunction = <span class="hljs-title function_">createHeavyClosure</span>();
<span class="hljs-comment">// largeDataä¼šä¸€ç›´å­˜åœ¨äºå†…å­˜ä¸­ï¼Œå³ä½¿æˆ‘ä»¬åªç”¨åˆ°timeout</span>
</code></pre>
<p><strong>âœ… è§£å†³æ–¹æ¡ˆï¼šåˆ†ç¦»æ•°æ®å’ŒåŠŸèƒ½</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createOptimizedClosure</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> config = { <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>, <span class="hljs-attr">retries</span>: <span class="hljs-number">3</span> };
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getTimeout</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> config.<span class="hljs-property">timeout</span>; <span class="hljs-comment">// åªå¼•ç”¨éœ€è¦çš„é…ç½®</span>
    };
    
    <span class="hljs-comment">// æˆ–è€…æ›´å¥½çš„åšæ³•ï¼šæå–éœ€è¦çš„å€¼</span>
    <span class="hljs-comment">// return function() {</span>
    <span class="hljs-comment">//     return 5000; // ç›´æ¥è¿”å›å€¼ï¼Œä¸å¼•ç”¨ä»»ä½•å¯¹è±¡</span>
    <span class="hljs-comment">// };</span>
}
</code></pre>
<h6 data-id="heading-35">3. âŒ å±é™©ï¼šäº‹ä»¶ç›‘å¬å™¨çš„å†…å­˜æ³„æ¼</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setupEventListeners</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> buttons = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.button'</span>);
    <span class="hljs-keyword">const</span> handlers = [];
    
    buttons.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">button, index</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> handler = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æŒ‰é’®<span class="hljs-subst">${index}</span>è¢«ç‚¹å‡»`</span>);
            <span class="hljs-comment">// è¿™ä¸ªé—­åŒ…æŒæœ‰buttonså’Œhandleræ•°ç»„çš„å¼•ç”¨</span>
        };
        
        button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handler);
        handlers.<span class="hljs-title function_">push</span>(handler);
    });
    
    <span class="hljs-comment">// é—®é¢˜ï¼šhandlersæ•°ç»„ä¼šä¸€ç›´å­˜åœ¨ï¼Œé˜»æ­¢buttonå…ƒç´ è¢«å›æ”¶</span>
    <span class="hljs-keyword">return</span> handlers;
}

<span class="hljs-keyword">const</span> handlers = <span class="hljs-title function_">setupEventListeners</span>();
<span class="hljs-comment">// å³ä½¿æŒ‰é’®è¢«ç§»é™¤ï¼Œhandlersä»ç„¶æŒæœ‰å¼•ç”¨</span>
</code></pre>
<p><strong>âœ… è§£å†³æ–¹æ¡ˆï¼šåŠæ—¶æ¸…ç†äº‹ä»¶ç›‘å¬å™¨</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setupEventListeners</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> buttons = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.button'</span>);
    <span class="hljs-keyword">const</span> handlers = [];
    
    buttons.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">button, index</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> handler = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æŒ‰é’®<span class="hljs-subst">${index}</span>è¢«ç‚¹å‡»`</span>);
        };
        
        button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handler);
        
        <span class="hljs-comment">// è¿”å›æ¸…ç†å‡½æ•°</span>
        handlers.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">element</span>: button,
            <span class="hljs-attr">handler</span>: handler,
            <span class="hljs-attr">cleanup</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">element</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handler</span>);
            }
        });
    });
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanupAll</span>(<span class="hljs-params"/>) {
        handlers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> h.<span class="hljs-title function_">cleanup</span>());
    };
}

<span class="hljs-keyword">const</span> cleanup = <span class="hljs-title function_">setupEventListeners</span>();
<span class="hljs-comment">// åœ¨åˆé€‚çš„æ—¶æœºè°ƒç”¨cleanupï¼Œé‡Šæ”¾æ‰€æœ‰å¼•ç”¨</span>
<span class="hljs-comment">// cleanup(); // æ¸…ç†æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨</span>
</code></pre>
<h6 data-id="heading-36">4. âœ… é«˜çº§æ–¹æ¡ˆï¼šä½¿ç”¨å¼±å¼•ç”¨ï¼ˆWeakMap/WeakSetï¼‰</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨WeakMapé¿å…å¼ºå¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼</span>
<span class="hljs-keyword">const</span> objectCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">processObject</span>(<span class="hljs-params">obj</span>) {
    <span class="hljs-keyword">if</span> (!objectCache.<span class="hljs-title function_">has</span>(obj)) {
        <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">expensiveCalculation</span>(obj);
        objectCache.<span class="hljs-title function_">set</span>(obj, result); <span class="hljs-comment">// å¼±å¼•ç”¨ï¼šobjè¢«å›æ”¶æ—¶ï¼Œç¼“å­˜è‡ªåŠ¨æ¸…é™¤</span>
    }
    <span class="hljs-keyword">return</span> objectCache.<span class="hljs-title function_">get</span>(obj);
}

<span class="hljs-comment">// å¯¹æ¯”ï¼šä½¿ç”¨æ™®é€šMapä¼šå¯¼è‡´å†…å­˜æ³„æ¼</span>
<span class="hljs-keyword">const</span> normalCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processObjectWithMemoryLeak</span>(<span class="hljs-params">obj</span>) {
    <span class="hljs-keyword">const</span> key = obj.<span class="hljs-property">id</span>;
    <span class="hljs-keyword">if</span> (!normalCache.<span class="hljs-title function_">has</span>(key)) {
        normalCache.<span class="hljs-title function_">set</span>(key, <span class="hljs-title function_">expensiveCalculation</span>(obj));
    }
    <span class="hljs-keyword">return</span> normalCache.<span class="hljs-title function_">get</span>(key);
    <span class="hljs-comment">// é—®é¢˜ï¼šå³ä½¿objè¢«å›æ”¶ï¼ŒnormalCacheä¸­çš„æ•°æ®ä¾ç„¶å­˜åœ¨</span>
}
</code></pre>
<h5 data-id="heading-37">å†…å­˜æ³„æ¼æ£€æµ‹å’Œé¢„é˜²</h5>
<h6 data-id="heading-38">1. æ‰‹åŠ¨æ¸…ç†å¼•ç”¨</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createManagedClosure</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> largeData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'data'</span>);
    
    <span class="hljs-keyword">const</span> closure = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½¿ç”¨æ•°æ®'</span>);
        <span class="hljs-keyword">return</span> largeData.<span class="hljs-property">length</span>;
    };
    
    <span class="hljs-comment">// æä¾›æ¸…ç†æ–¹æ³•</span>
    closure.<span class="hljs-property">cleanup</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        largeData = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ‰‹åŠ¨é‡Šæ”¾å¤§å¯¹è±¡</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¤§å¯¹è±¡å·²æ¸…ç†'</span>);
    };
    
    <span class="hljs-keyword">return</span> closure;
}

<span class="hljs-keyword">const</span> managedClosure = <span class="hljs-title function_">createManagedClosure</span>();
<span class="hljs-comment">// ä½¿ç”¨å®Œæ¯•åç«‹å³æ¸…ç†</span>
managedClosure.<span class="hljs-title function_">cleanup</span>();
</code></pre>
<h6 data-id="heading-39">2. ä½¿ç”¨å¯¹è±¡æ± æ¨¡å¼</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ObjectPool</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">createFn, resetFn, maxSize = <span class="hljs-number">10</span></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">createFn</span> = createFn;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">resetFn</span> = resetFn;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxSize</span> = maxSize;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span> = [];
    }
    
    <span class="hljs-title function_">acquire</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">pop</span>();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createFn</span>();
    }
    
    <span class="hljs-title function_">release</span>(<span class="hljs-params">obj</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxSize</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resetFn</span>(obj);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">push</span>(obj);
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨å¯¹è±¡æ± é¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯å¤§å¯¹è±¡</span>
<span class="hljs-keyword">const</span> arrayPool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectPool</span>(
    <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000</span>),
    <span class="hljs-function">(<span class="hljs-params">arr</span>) =&gt;</span> arr.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>,
    <span class="hljs-number">5</span>
);
</code></pre>
<h6 data-id="heading-40">3. å†…å­˜ç›‘æ§å’Œè°ƒè¯•</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">monitorMemoryUsage</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åœ¨æµè§ˆå™¨ä¸­ç›‘æ§å†…å­˜ä½¿ç”¨</span>
    <span class="hljs-keyword">if</span> (performance.<span class="hljs-property">memory</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å†…å­˜ä½¿ç”¨æƒ…å†µ:'</span>, {
            <span class="hljs-attr">used</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(performance.<span class="hljs-property">memory</span>.<span class="hljs-property">usedJSHeapSize</span> / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>) + <span class="hljs-string">' MB'</span>,
            <span class="hljs-attr">total</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(performance.<span class="hljs-property">memory</span>.<span class="hljs-property">totalJSHeapSize</span> / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>) + <span class="hljs-string">' MB'</span>,
            <span class="hljs-attr">limit</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(performance.<span class="hljs-property">memory</span>.<span class="hljs-property">jsHeapSizeLimit</span> / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>) + <span class="hljs-string">' MB'</span>
        });
    }
    
    <span class="hljs-comment">// åˆ›å»ºå†…å­˜å¿«ç…§è¿›è¡Œå¯¹æ¯”</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createMemorySnapshot</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">if</span> (performance.<span class="hljs-property">memory</span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
                <span class="hljs-attr">used</span>: performance.<span class="hljs-property">memory</span>.<span class="hljs-property">usedJSHeapSize</span>
            };
        }
    };
}

<span class="hljs-keyword">const</span> createSnapshot = <span class="hljs-title function_">monitorMemoryUsage</span>();

<span class="hljs-comment">// åœ¨å…³é”®æ“ä½œå‰åå¯¹æ¯”å†…å­˜ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> before = <span class="hljs-title function_">createSnapshot</span>();
<span class="hljs-comment">// ... æ‰§è¡Œä¸€äº›æ“ä½œ ...</span>
<span class="hljs-keyword">const</span> after = <span class="hljs-title function_">createSnapshot</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å†…å­˜å˜åŒ–:'</span>, (after.<span class="hljs-property">used</span> - before.<span class="hljs-property">used</span>) / <span class="hljs-number">1024</span> + <span class="hljs-string">' KB'</span>);
</code></pre>
<h5 data-id="heading-41">æœ€ä½³å®è·µæ€»ç»“</h5>
<p>âœ… <strong>åªåœ¨å¿…è¦æ—¶ä½¿ç”¨é—­åŒ…ä¿å­˜æ•°æ®</strong>
âœ… <strong>ç”¨å®Œå³å¼ƒï¼ŒåŠæ—¶ç½®ç©ºå¼•ç”¨</strong>
âœ… <strong>ä¼˜å…ˆä½¿ç”¨WeakMapå¤„ç†å¯¹è±¡ç¼“å­˜</strong>
âœ… <strong>ç»„ä»¶é”€æ¯æ—¶æ¸…ç†äº‹ä»¶ç›‘å¬å™¨</strong>
âœ… <strong>åˆ†ç¦»çƒ­æ•°æ®å’Œå†·æ•°æ®</strong>
âœ… <strong>ä½¿ç”¨å¯¹è±¡æ± å‡å°‘GCå‹åŠ›</strong></p>
<p>è®°ä½ï¼šé—­åŒ…çš„å†…å­˜æ³„æ¼ä¸æ˜¯"é—­åŒ…æœ¬èº«æœ‰é—®é¢˜"ï¼Œè€Œæ˜¯å¼€å‘è€…æ— æ„ä¸­å»¶é•¿äº†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚æŒæ¡è¿™äº›æŠ€å·§ï¼Œä½ å°±èƒ½åœ¨äº«å—é—­åŒ…å¼ºå¤§åŠŸèƒ½çš„åŒæ—¶ï¼Œé¿å…å†…å­˜å¤±æ§ã€‚</p>
<h4 data-id="heading-42">é™·é˜±3ï¼šæ„å¤–çš„å˜é‡å…±äº«</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é”™è¯¯ç¤ºä¾‹ï¼šå¤šä¸ªå‡½æ•°å…±äº«åŒä¸€ä¸ªé—­åŒ…å˜é‡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createSharedState</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> sharedCounter = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">increment1</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { sharedCounter++; <span class="hljs-keyword">return</span> sharedCounter; },
        <span class="hljs-attr">increment2</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { sharedCounter++; <span class="hljs-keyword">return</span> sharedCounter; }
    };
}

<span class="hljs-keyword">const</span> shared = <span class="hljs-title function_">createSharedState</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(shared.<span class="hljs-title function_">increment1</span>()); <span class="hljs-comment">// 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(shared.<span class="hljs-title function_">increment2</span>()); <span class="hljs-comment">// 2 - ä¸¤ä¸ªå‡½æ•°ç›¸äº’å½±å“</span>

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆï¼šåˆ›å»ºç‹¬ç«‹çš„é—­åŒ…</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createIndependentCounters</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä¸ºæ¯ä¸ªè®¡æ•°å™¨åˆ›å»ºç‹¬ç«‹çš„é—­åŒ…</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">counter1</span>: (<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { count++; <span class="hljs-keyword">return</span> count; };
        })(),
        
        <span class="hljs-attr">counter2</span>: (<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { count++; <span class="hljs-keyword">return</span> count; };
        })()
    };
}

<span class="hljs-keyword">const</span> independent = <span class="hljs-title function_">createIndependentCounters</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(independent.<span class="hljs-title function_">counter1</span>()); <span class="hljs-comment">// 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(independent.<span class="hljs-title function_">counter1</span>()); <span class="hljs-comment">// 2</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(independent.<span class="hljs-title function_">counter2</span>()); <span class="hljs-comment">// 1 - ç‹¬ç«‹è®¡æ•°</span>
</code></pre>
<hr/>
<h3 data-id="heading-43">ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<h4 data-id="heading-44">1. é¿å…ä¸å¿…è¦çš„é—­åŒ…åˆ›å»º</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ æ€§èƒ½è¾ƒå·®ï¼šæ¯æ¬¡è°ƒç”¨éƒ½åˆ›å»ºæ–°é—­åŒ…</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processArrayBad</span>(<span class="hljs-params">items</span>) {
    <span class="hljs-keyword">return</span> items.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) {
        <span class="hljs-comment">// æ¯æ¬¡è¿­ä»£éƒ½åˆ›å»ºæ–°çš„é—­åŒ…</span>
        <span class="hljs-keyword">return</span> item * <span class="hljs-number">2</span>;
    });
}

<span class="hljs-comment">// âœ… æ€§èƒ½æ›´å¥½ï¼šä½¿ç”¨ç®­å¤´å‡½æ•°æˆ–é¢„å®šä¹‰å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processArrayGood</span>(<span class="hljs-params">items</span>) {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">double</span> = item =&gt; item * <span class="hljs-number">2</span>; <span class="hljs-comment">// åªå®šä¹‰ä¸€æ¬¡</span>
    <span class="hljs-keyword">return</span> items.<span class="hljs-title function_">map</span>(double);
}

<span class="hljs-comment">// âœ… æˆ–è€…ä½¿ç”¨Mathæ–¹æ³•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processArrayBest</span>(<span class="hljs-params">items</span>) {
    <span class="hljs-keyword">return</span> items.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item * <span class="hljs-number">2</span>);
}
</code></pre>
<h4 data-id="heading-45">2. åŠæ—¶æ¸…ç†é—­åŒ…å¼•ç”¨</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createManagedClosure</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> resource = { <span class="hljs-attr">data</span>: <span class="hljs-string">'é‡è¦èµ„æº'</span> };
    
    <span class="hljs-keyword">const</span> closure = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> resource.<span class="hljs-property">data</span>;
    };
    
    <span class="hljs-comment">// æä¾›æ¸…ç†æ–¹æ³•</span>
    closure.<span class="hljs-property">cleanup</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        resource = <span class="hljs-literal">null</span>; <span class="hljs-comment">// é‡Šæ”¾èµ„æº</span>
    };
    
    <span class="hljs-keyword">return</span> closure;
}

<span class="hljs-keyword">const</span> managedClosure = <span class="hljs-title function_">createManagedClosure</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">managedClosure</span>()); <span class="hljs-comment">// 'é‡è¦èµ„æº'</span>
managedClosure.<span class="hljs-title function_">cleanup</span>(); <span class="hljs-comment">// æ¸…ç†èµ„æº</span>
</code></pre>
<h4 data-id="heading-46">3. å†…å­˜å‹å¥½çš„é—­åŒ…è®¾è®¡æ¨¡å¼</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é¿å…åœ¨é—­åŒ…ä¸­ä¿ç•™å¤§å¯¹è±¡çš„å¼•ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">badMemoryPattern</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> largeDataset = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">100000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">'å¤§æ•°æ®'</span>);
    <span class="hljs-keyword">const</span> config = { <span class="hljs-attr">timeout</span>: <span class="hljs-number">1000</span>, <span class="hljs-attr">retries</span>: <span class="hljs-number">3</span> };
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// é—®é¢˜ï¼šåªéœ€è¦configï¼Œä½†é—­åŒ…æŒæœ‰æ•´ä¸ªlargeDataset</span>
        <span class="hljs-keyword">return</span> config.<span class="hljs-property">timeout</span>;
    };
}

<span class="hljs-comment">// âœ… ä¼˜åŒ–ï¼šæå–éœ€è¦çš„æ•°æ®ï¼Œé¿å…ä¸å¿…è¦çš„å¼•ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">goodMemoryPattern</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> config = { <span class="hljs-attr">timeout</span>: <span class="hljs-number">1000</span>, <span class="hljs-attr">retries</span>: <span class="hljs-number">3</span> };
    <span class="hljs-keyword">const</span> timeout = config.<span class="hljs-property">timeout</span>; <span class="hljs-comment">// æå–éœ€è¦çš„å€¼</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> timeout; <span class="hljs-comment">// åªä½¿ç”¨åŸå§‹å€¼ï¼Œä¸å¼•ç”¨å¯¹è±¡</span>
    };
}

<span class="hljs-comment">// âœ… æ›´å¥½çš„åšæ³•ï¼šå»¶è¿Ÿç»‘å®š</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">lazyBindingPattern</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// æŒ‰éœ€è·å–é…ç½®ï¼Œé¿å…é•¿æœŸæŒæœ‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">getConfig</span>().<span class="hljs-property">timeout</span>;
    };
}
</code></pre>
<h4 data-id="heading-47">4. ä½¿ç”¨WeakMapç®¡ç†é—­åŒ…æ•°æ®</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨WeakMapé¿å…å†…å­˜æ³„æ¼</span>
<span class="hljs-keyword">const</span> privateData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createWeakMapClass</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> {
        <span class="hljs-title function_">constructor</span>(<span class="hljs-params">value</span>) {
            <span class="hljs-comment">// ä½¿ç”¨WeakMapå­˜å‚¨ç§æœ‰æ•°æ®</span>
            privateData.<span class="hljs-title function_">set</span>(<span class="hljs-variable language_">this</span>, { <span class="hljs-attr">privateValue</span>: value });
        }
        
        <span class="hljs-title function_">getValue</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> privateData.<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">privateValue</span>;
        }
        
        <span class="hljs-title function_">setValue</span>(<span class="hljs-params">value</span>) {
            privateData.<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">privateValue</span> = value;
        }
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">MyClass</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">WeakMapClass</span> = <span class="hljs-title function_">createWeakMapClass</span>();
<span class="hljs-keyword">const</span> instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMapClass</span>(<span class="hljs-string">'ç§æœ‰æ•°æ®'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(instance.<span class="hljs-title function_">getValue</span>()); <span class="hljs-comment">// 'ç§æœ‰æ•°æ®'</span>
</code></pre>
<h4 data-id="heading-48">5. åƒåœ¾å›æ”¶å‹å¥½çš„ç¼–ç¨‹æ¨¡å¼</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é—®é¢˜ï¼šå¾ªç¯å¼•ç”¨å’Œé•¿æœŸæŒæœ‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">problematicPattern</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> largeObjects = [];
    <span class="hljs-keyword">const</span> eventHandlers = [];
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
        <span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">id</span>: i, <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">`æ•°æ®<span class="hljs-subst">${i}</span>`</span>) };
        <span class="hljs-keyword">const</span> handler = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">id</span>); <span class="hljs-comment">// é—­åŒ…æŒæœ‰objçš„å¼•ç”¨</span>
        };
        
        largeObjects.<span class="hljs-title function_">push</span>(obj);
        eventHandlers.<span class="hljs-title function_">push</span>(handler);
    }
    
    <span class="hljs-keyword">return</span> eventHandlers; <span class="hljs-comment">// æ‰€æœ‰largeObjectséƒ½æ— æ³•è¢«åƒåœ¾å›æ”¶</span>
}

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆ1ï¼šåŠæ—¶è§£é™¤å¼•ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">solution1</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> eventHandlers = [];
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
        <span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">id</span>: i, <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">`æ•°æ®<span class="hljs-subst">${i}</span>`</span>) };
        <span class="hljs-keyword">const</span> objId = obj.<span class="hljs-property">id</span>; <span class="hljs-comment">// æå–éœ€è¦çš„æ•°æ®</span>
        
        <span class="hljs-keyword">const</span> handler = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objId); <span class="hljs-comment">// åªå¼•ç”¨åŸºæœ¬ç±»å‹ï¼Œä¸å¼•ç”¨å¯¹è±¡</span>
        };
        
        eventHandlers.<span class="hljs-title function_">push</span>(handler);
        <span class="hljs-comment">// objåœ¨è¿™é‡Œå°±èƒ½è¢«åƒåœ¾å›æ”¶</span>
    }
    
    <span class="hljs-keyword">return</span> eventHandlers;
}

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨å¼±å¼•ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">solution2</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> weakMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();
    <span class="hljs-keyword">const</span> eventHandlers = [];
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
        <span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">id</span>: i, <span class="hljs-attr">data</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-string">`æ•°æ®<span class="hljs-subst">${i}</span>`</span>) };
        <span class="hljs-keyword">const</span> handler = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">const</span> data = weakMap.<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">obj</span>);
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data ? data.<span class="hljs-property">id</span> : <span class="hljs-string">'å¯¹è±¡å·²è¢«å›æ”¶'</span>);
        };
        
        weakMap.<span class="hljs-title function_">set</span>(handler, { obj });
        eventHandlers.<span class="hljs-title function_">push</span>(handler);
    }
    
    <span class="hljs-keyword">return</span> eventHandlers;
}

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆ3ï¼šå¯¹è±¡æ± æ¨¡å¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">solution3</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å¯¹è±¡æ± é¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯</span>
    <span class="hljs-keyword">const</span> objectPool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getProcessedData</span>(<span class="hljs-params">id</span>) {
        <span class="hljs-keyword">if</span> (!objectPool.<span class="hljs-title function_">has</span>(id)) {
            <span class="hljs-comment">// æŒ‰éœ€åˆ›å»ºï¼Œé¿å…ä¸€æ¬¡æ€§åˆ›å»ºå¤§é‡å¯¹è±¡</span>
            objectPool.<span class="hljs-title function_">set</span>(id, {
                id,
                <span class="hljs-attr">processed</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
            });
        }
        <span class="hljs-keyword">return</span> objectPool.<span class="hljs-title function_">get</span>(id);
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handler</span>(<span class="hljs-params">id</span>) {
        <span class="hljs-keyword">const</span> data = <span class="hljs-title function_">getProcessedData</span>(id);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¤„ç†æ•°æ®:'</span>, data.<span class="hljs-property">id</span>);
    };
}
</code></pre>
<h4 data-id="heading-49">6. ç›‘æ§å’Œæ£€æµ‹å†…å­˜æ³„æ¼</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å†…å­˜æ³„æ¼æ£€æµ‹å·¥å…·</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createMemoryLeakDetector</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> snapshots = [];
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">takeSnapshot</span>(<span class="hljs-params">label</span>) {
        <span class="hljs-keyword">if</span> (performance.<span class="hljs-property">memory</span>) {
            snapshots.<span class="hljs-title function_">push</span>({
                label,
                <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
                <span class="hljs-attr">used</span>: performance.<span class="hljs-property">memory</span>.<span class="hljs-property">usedJSHeapSize</span>,
                <span class="hljs-attr">total</span>: performance.<span class="hljs-property">memory</span>.<span class="hljs-property">totalJSHeapSize</span>
            });
            
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å†…å­˜å¿«ç…§ <span class="hljs-subst">${label}</span>:`</span>, {
                <span class="hljs-attr">used</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(performance.<span class="hljs-property">memory</span>.<span class="hljs-property">usedJSHeapSize</span> / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>) + <span class="hljs-string">' MB'</span>,
                <span class="hljs-attr">total</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(performance.<span class="hljs-property">memory</span>.<span class="hljs-property">totalJSHeapSize</span> / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>) + <span class="hljs-string">' MB'</span>
            });
        }
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">analyzeGrowth</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">if</span> (snapshots.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span>;
        
        <span class="hljs-keyword">const</span> first = snapshots[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">const</span> last = snapshots[snapshots.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">const</span> growth = last.<span class="hljs-property">used</span> - first.<span class="hljs-property">used</span>;
        
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å†…å­˜å¢é•¿åˆ†æ:'</span>, {
            æ—¶é—´è·¨åº¦: <span class="hljs-string">`<span class="hljs-subst">${(last.timestamp - first.timestamp) / <span class="hljs-number">1000</span>}</span> ç§’`</span>,
            å†…å­˜å¢é•¿: <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.round(growth / <span class="hljs-number">1024</span>)}</span> KB`</span>,
            å¹³å‡å¢é•¿ç‡: <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.round(growth / (last.timestamp - first.timestamp))}</span> B/s`</span>
        });
        
        <span class="hljs-keyword">if</span> (growth &gt; <span class="hljs-number">10</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>) { <span class="hljs-comment">// è¶…è¿‡10MBå¢é•¿</span>
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'âš ï¸ æ£€æµ‹åˆ°æ˜¾è‘—çš„å†…å­˜å¢é•¿ï¼Œå¯èƒ½å­˜åœ¨å†…å­˜æ³„æ¼ï¼'</span>);
        }
    }
    
    <span class="hljs-keyword">return</span> {
        takeSnapshot,
        analyzeGrowth,
        <span class="hljs-attr">clear</span>: <span class="hljs-function">() =&gt;</span> snapshots.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>
    };
}

<span class="hljs-comment">// ä½¿ç”¨æ£€æµ‹å·¥å…·</span>
<span class="hljs-keyword">const</span> detector = <span class="hljs-title function_">createMemoryLeakDetector</span>();
detector.<span class="hljs-title function_">takeSnapshot</span>(<span class="hljs-string">'åˆå§‹çŠ¶æ€'</span>);

<span class="hljs-comment">// æ‰§è¡Œå¯èƒ½æ³„æ¼çš„æ“ä½œ</span>
<span class="hljs-keyword">const</span> closures = [];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
    closures.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">createHeavyClosure</span>());
}

detector.<span class="hljs-title function_">takeSnapshot</span>(<span class="hljs-string">'åˆ›å»ºé—­åŒ…å'</span>);
detector.<span class="hljs-title function_">analyzeGrowth</span>();
</code></pre>
<hr/>
<h3 data-id="heading-50">ğŸ—ï¸ ç»¼åˆå®æˆ˜é¡¹ç›®</h3>
<h4 data-id="heading-51">é¡¹ç›®ï¼šæ™ºèƒ½ä»»åŠ¡ç®¡ç†å™¨</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * æ™ºèƒ½ä»»åŠ¡ç®¡ç†å™¨ - é—­åŒ…ç»¼åˆåº”ç”¨ç¤ºä¾‹
 * åŠŸèƒ½ï¼šä»»åŠ¡åˆ›å»ºã€çŠ¶æ€ç®¡ç†ã€ä¼˜å…ˆçº§æ’åºã€å†å²è®°å½•
 */</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createTaskManager</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç§æœ‰æ•°æ®å­˜å‚¨</span>
    <span class="hljs-keyword">let</span> tasks = [];
    <span class="hljs-keyword">let</span> taskIdCounter = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">let</span> history = [];
    <span class="hljs-keyword">let</span> filters = {
        <span class="hljs-attr">status</span>: <span class="hljs-string">'all'</span>, <span class="hljs-comment">// all, pending, completed</span>
        <span class="hljs-attr">priority</span>: <span class="hljs-string">'all'</span> <span class="hljs-comment">// all, high, medium, low</span>
    };
    
    <span class="hljs-comment">// ä»»åŠ¡çŠ¶æ€æšä¸¾</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">STATUS</span> = {
        <span class="hljs-attr">PENDING</span>: <span class="hljs-string">'pending'</span>,
        <span class="hljs-attr">COMPLETED</span>: <span class="hljs-string">'completed'</span>
    };
    
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PRIORITY</span> = {
        <span class="hljs-attr">HIGH</span>: <span class="hljs-string">'high'</span>,
        <span class="hljs-attr">MEDIUM</span>: <span class="hljs-string">'medium'</span>,
        <span class="hljs-attr">LOW</span>: <span class="hljs-string">'low'</span>
    };
    
    <span class="hljs-comment">// ç§æœ‰æ–¹æ³•ï¼šæ·»åŠ å†å²è®°å½•</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">addHistory</span>(<span class="hljs-params">action, taskId, description</span>) {
        history.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
            action,
            taskId,
            description
        });
    }
    
    <span class="hljs-comment">// ç§æœ‰æ–¹æ³•ï¼šç”Ÿæˆå”¯ä¸€ID</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateId</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`task_<span class="hljs-subst">${taskIdCounter++}</span>`</span>;
    }
    
    <span class="hljs-comment">// ç§æœ‰æ–¹æ³•ï¼šè¿‡æ»¤ä»»åŠ¡</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">filterTasks</span>(<span class="hljs-params">taskList</span>) {
        <span class="hljs-keyword">return</span> taskList.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">task</span> =&gt;</span> {
            <span class="hljs-keyword">let</span> statusMatch = filters.<span class="hljs-property">status</span> === <span class="hljs-string">'all'</span> || task.<span class="hljs-property">status</span> === filters.<span class="hljs-property">status</span>;
            <span class="hljs-keyword">let</span> priorityMatch = filters.<span class="hljs-property">priority</span> === <span class="hljs-string">'all'</span> || task.<span class="hljs-property">priority</span> === filters.<span class="hljs-property">priority</span>;
            <span class="hljs-keyword">return</span> statusMatch &amp;&amp; priorityMatch;
        });
    }
    
    <span class="hljs-comment">// ç§æœ‰æ–¹æ³•ï¼šæ’åºä»»åŠ¡</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">sortTasks</span>(<span class="hljs-params">taskList</span>) {
        <span class="hljs-keyword">return</span> [...taskList].<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> {
            <span class="hljs-comment">// æŒ‰ä¼˜å…ˆçº§æ’åºï¼šhigh &gt; medium &gt; low</span>
            <span class="hljs-keyword">const</span> priorityOrder = { [<span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">HIGH</span>]: <span class="hljs-number">3</span>, [<span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">MEDIUM</span>]: <span class="hljs-number">2</span>, [<span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">LOW</span>]: <span class="hljs-number">1</span> };
            <span class="hljs-keyword">if</span> (priorityOrder[a.<span class="hljs-property">priority</span>] !== priorityOrder[b.<span class="hljs-property">priority</span>]) {
                <span class="hljs-keyword">return</span> priorityOrder[b.<span class="hljs-property">priority</span>] - priorityOrder[a.<span class="hljs-property">priority</span>];
            }
            <span class="hljs-comment">// ç›¸åŒä¼˜å…ˆçº§æŒ‰åˆ›å»ºæ—¶é—´æ’åº</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(a.<span class="hljs-property">createdAt</span>) - <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(b.<span class="hljs-property">createdAt</span>);
        });
    }
    
    <span class="hljs-comment">// å…¬å…±API</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-comment">/**
         * æ·»åŠ æ–°ä»»åŠ¡
         * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">title</span> - ä»»åŠ¡æ ‡é¢˜
         * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">description</span> - ä»»åŠ¡æè¿°
         * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">priority</span> - ä»»åŠ¡ä¼˜å…ˆçº§
         * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">string</span>} ä»»åŠ¡ID
         */</span>
        <span class="hljs-attr">addTask</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">title, description = <span class="hljs-string">''</span>, priority = PRIORITY.MEDIUM</span>) {
            <span class="hljs-keyword">const</span> task = {
                <span class="hljs-attr">id</span>: <span class="hljs-title function_">generateId</span>(),
                title,
                description,
                priority,
                <span class="hljs-attr">status</span>: <span class="hljs-variable constant_">STATUS</span>.<span class="hljs-property">PENDING</span>,
                <span class="hljs-attr">createdAt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
                <span class="hljs-attr">completedAt</span>: <span class="hljs-literal">null</span>
            };
            
            tasks.<span class="hljs-title function_">push</span>(task);
            <span class="hljs-title function_">addHistory</span>(<span class="hljs-string">'created'</span>, task.<span class="hljs-property">id</span>, <span class="hljs-string">`åˆ›å»ºä»»åŠ¡: <span class="hljs-subst">${title}</span>`</span>);
            <span class="hljs-keyword">return</span> task.<span class="hljs-property">id</span>;
        },
        
        <span class="hljs-comment">/**
         * å®Œæˆä»»åŠ¡
         * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">taskId</span> - ä»»åŠ¡ID
         * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">boolean</span>} æ˜¯å¦æˆåŠŸå®Œæˆ
         */</span>
        <span class="hljs-attr">completeTask</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">taskId</span>) {
            <span class="hljs-keyword">const</span> task = tasks.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">id</span> === taskId);
            <span class="hljs-keyword">if</span> (task &amp;&amp; task.<span class="hljs-property">status</span> === <span class="hljs-variable constant_">STATUS</span>.<span class="hljs-property">PENDING</span>) {
                task.<span class="hljs-property">status</span> = <span class="hljs-variable constant_">STATUS</span>.<span class="hljs-property">COMPLETED</span>;
                task.<span class="hljs-property">completedAt</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
                <span class="hljs-title function_">addHistory</span>(<span class="hljs-string">'completed'</span>, taskId, <span class="hljs-string">`å®Œæˆä»»åŠ¡: <span class="hljs-subst">${task.title}</span>`</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        },
        
        <span class="hljs-comment">/**
         * åˆ é™¤ä»»åŠ¡
         * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">taskId</span> - ä»»åŠ¡ID
         * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">boolean</span>} æ˜¯å¦æˆåŠŸåˆ é™¤
         */</span>
        <span class="hljs-attr">deleteTask</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">taskId</span>) {
            <span class="hljs-keyword">const</span> taskIndex = tasks.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">id</span> === taskId);
            <span class="hljs-keyword">if</span> (taskIndex !== -<span class="hljs-number">1</span>) {
                <span class="hljs-keyword">const</span> task = tasks[taskIndex];
                tasks.<span class="hljs-title function_">splice</span>(taskIndex, <span class="hljs-number">1</span>);
                <span class="hljs-title function_">addHistory</span>(<span class="hljs-string">'deleted'</span>, taskId, <span class="hljs-string">`åˆ é™¤ä»»åŠ¡: <span class="hljs-subst">${task.title}</span>`</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        },
        
        <span class="hljs-comment">/**
         * è·å–æ‰€æœ‰ä»»åŠ¡ï¼ˆå¸¦è¿‡æ»¤å’Œæ’åºï¼‰
         * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Array</span>} ä»»åŠ¡åˆ—è¡¨
         */</span>
        <span class="hljs-attr">getTasks</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">const</span> filtered = <span class="hljs-title function_">filterTasks</span>(tasks);
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">sortTasks</span>(filtered);
        },
        
        <span class="hljs-comment">/**
         * è·å–ä»»åŠ¡ç»Ÿè®¡ä¿¡æ¯
         * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Object</span>} ç»Ÿè®¡æ•°æ®
         */</span>
        <span class="hljs-attr">getStats</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">const</span> total = tasks.<span class="hljs-property">length</span>;
            <span class="hljs-keyword">const</span> completed = tasks.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">status</span> === <span class="hljs-variable constant_">STATUS</span>.<span class="hljs-property">COMPLETED</span>).<span class="hljs-property">length</span>;
            <span class="hljs-keyword">const</span> pending = total - completed;
            
            <span class="hljs-keyword">const</span> byPriority = {
                [<span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">HIGH</span>]: tasks.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">priority</span> === <span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">HIGH</span>).<span class="hljs-property">length</span>,
                [<span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">MEDIUM</span>]: tasks.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">priority</span> === <span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">MEDIUM</span>).<span class="hljs-property">length</span>,
                [<span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">LOW</span>]: tasks.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">priority</span> === <span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">LOW</span>).<span class="hljs-property">length</span>
            };
            
            <span class="hljs-keyword">return</span> {
                total,
                completed,
                pending,
                <span class="hljs-attr">completionRate</span>: total &gt; <span class="hljs-number">0</span> ? <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>((completed / total) * <span class="hljs-number">100</span>) : <span class="hljs-number">0</span>,
                byPriority
            };
        },
        
        <span class="hljs-comment">/**
         * è®¾ç½®è¿‡æ»¤å™¨
         * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">newFilters</span> - è¿‡æ»¤å™¨é…ç½®
         */</span>
        <span class="hljs-attr">setFilter</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">newFilters</span>) {
            filters = { ...filters, ...newFilters };
        },
        
        <span class="hljs-comment">/**
         * è·å–æ“ä½œå†å²
         * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">limit</span> - è¿”å›è®°å½•æ•°é‡é™åˆ¶
         * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Array</span>} å†å²è®°å½•
         */</span>
        <span class="hljs-attr">getHistory</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">limit = <span class="hljs-number">50</span></span>) {
            <span class="hljs-keyword">return</span> history.<span class="hljs-title function_">slice</span>(-limit).<span class="hljs-title function_">reverse</span>();
        },
        
        <span class="hljs-comment">/**
         * æ¸…ç©ºæ‰€æœ‰ä»»åŠ¡
         */</span>
        <span class="hljs-attr">clearAll</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">const</span> count = tasks.<span class="hljs-property">length</span>;
            tasks = [];
            <span class="hljs-title function_">addHistory</span>(<span class="hljs-string">'cleared_all'</span>, <span class="hljs-literal">null</span>, <span class="hljs-string">`æ¸…ç©ºäº†<span class="hljs-subst">${count}</span>ä¸ªä»»åŠ¡`</span>);
        },
        
        <span class="hljs-comment">/**
         * å¯¼å‡ºä»»åŠ¡æ•°æ®
         * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Object</span>} å¯åºåˆ—åŒ–çš„æ•°æ®
         */</span>
        <span class="hljs-attr">export</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> {
                tasks,
                history,
                <span class="hljs-attr">exportDate</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()
            };
        }
    };
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹å’Œæµ‹è¯•</span>
<span class="hljs-keyword">const</span> taskManager = <span class="hljs-title function_">createTaskManager</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'=== æ™ºèƒ½ä»»åŠ¡ç®¡ç†å™¨æ¼”ç¤º ===\n'</span>);

<span class="hljs-comment">// æ·»åŠ ä»»åŠ¡</span>
<span class="hljs-keyword">const</span> task1 = taskManager.<span class="hljs-title function_">addTask</span>(<span class="hljs-string">'å®ŒæˆJavaScripté—­åŒ…å­¦ä¹ '</span>, <span class="hljs-string">'æ·±å…¥ç†è§£é—­åŒ…çš„æ¦‚å¿µå’Œåº”ç”¨'</span>, <span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">HIGH</span>);
<span class="hljs-keyword">const</span> task2 = taskManager.<span class="hljs-title function_">addTask</span>(<span class="hljs-string">'ç¼–å†™é—­åŒ…ç¤ºä¾‹ä»£ç '</span>, <span class="hljs-string">'åˆ›å»ºå®é™…çš„ä»£ç ç¤ºä¾‹'</span>, <span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">MEDIUM</span>);
<span class="hljs-keyword">const</span> task3 = taskManager.<span class="hljs-title function_">addTask</span>(<span class="hljs-string">'æ•´ç†ç¬”è®°'</span>, <span class="hljs-string">'æ•´ç†å­¦ä¹ ç¬”è®°åˆ°æ–‡æ¡£'</span>, <span class="hljs-variable constant_">PRIORITY</span>.<span class="hljs-property">LOW</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ“‹ åˆå§‹ä»»åŠ¡åˆ—è¡¨:'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(taskManager.<span class="hljs-title function_">getTasks</span>());

<span class="hljs-comment">// å®Œæˆä»»åŠ¡</span>
taskManager.<span class="hljs-title function_">completeTask</span>(task1);
taskManager.<span class="hljs-title function_">completeTask</span>(task2);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\nâœ… å®Œæˆéƒ¨åˆ†ä»»åŠ¡åçš„åˆ—è¡¨:'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(taskManager.<span class="hljs-title function_">getTasks</span>());

<span class="hljs-comment">// æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\nğŸ“Š ä»»åŠ¡ç»Ÿè®¡:'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(taskManager.<span class="hljs-title function_">getStats</span>());

<span class="hljs-comment">// è®¾ç½®è¿‡æ»¤å™¨æŸ¥çœ‹æœªå®Œæˆä»»åŠ¡</span>
taskManager.<span class="hljs-title function_">setFilter</span>({ <span class="hljs-attr">status</span>: <span class="hljs-string">'pending'</span> });
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\nğŸ” æœªå®Œæˆä»»åŠ¡:'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(taskManager.<span class="hljs-title function_">getTasks</span>());

<span class="hljs-comment">// æŸ¥çœ‹æ“ä½œå†å²</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\nğŸ“œ æ“ä½œå†å²:'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(taskManager.<span class="hljs-title function_">getHistory</span>());

<span class="hljs-comment">// é«˜ä¼˜å…ˆçº§è¿‡æ»¤å™¨</span>
taskManager.<span class="hljs-title function_">setFilter</span>({ <span class="hljs-attr">status</span>: <span class="hljs-string">'all'</span>, <span class="hljs-attr">priority</span>: <span class="hljs-string">'high'</span> });
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\nâ­ é«˜ä¼˜å…ˆçº§ä»»åŠ¡:'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(taskManager.<span class="hljs-title function_">getTasks</span>());
</code></pre>
<h4 data-id="heading-52">å®é™…åº”ç”¨ä¸­çš„æœ€ä½³å®è·µ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * å®é™…é¡¹ç›®ä¸­çš„é—­åŒ…åº”ç”¨æ¨¡å¼
 */</span>

<span class="hljs-comment">// 1. é…ç½®ç®¡ç†å™¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createConfigManager</span>(<span class="hljs-params">defaultConfig</span>) {
    <span class="hljs-keyword">let</span> config = { ...defaultConfig };
    <span class="hljs-keyword">const</span> watchers = [];
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) {
            <span class="hljs-keyword">return</span> key ? config[key] : { ...config };
        },
        
        <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) {
            <span class="hljs-keyword">const</span> oldValue = config[key];
            config[key] = value;
            
            <span class="hljs-comment">// é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…</span>
            watchers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">watcher</span> =&gt;</span> {
                <span class="hljs-title function_">watcher</span>(key, value, oldValue);
            });
        },
        
        <span class="hljs-attr">watch</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) {
            watchers.<span class="hljs-title function_">push</span>(callback);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                <span class="hljs-keyword">const</span> index = watchers.<span class="hljs-title function_">indexOf</span>(callback);
                <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) watchers.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
            };
        }
    };
}

<span class="hljs-comment">// 2. HTTPè¯·æ±‚ç®¡ç†å™¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createHttpClient</span>(<span class="hljs-params">baseURL = <span class="hljs-string">''</span></span>) {
    <span class="hljs-keyword">const</span> pendingRequests = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">request</span>(<span class="hljs-params">url, options = {}</span>) {
        <span class="hljs-keyword">const</span> requestId = <span class="hljs-string">`<span class="hljs-subst">${options.method || <span class="hljs-string">'GET'</span>}</span>-<span class="hljs-subst">${url}</span>`</span>;
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰ç›¸åŒçš„è¯·æ±‚æ­£åœ¨è¿›è¡Œ</span>
        <span class="hljs-keyword">if</span> (pendingRequests.<span class="hljs-title function_">has</span>(requestId)) {
            <span class="hljs-keyword">return</span> pendingRequests.<span class="hljs-title function_">get</span>(requestId);
        }
        
        <span class="hljs-keyword">const</span> promise = <span class="hljs-title function_">fetch</span>(baseURL + url, options)
            .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.<span class="hljs-title function_">json</span>())
            .<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {
                pendingRequests.<span class="hljs-title function_">delete</span>(requestId);
            });
        
        pendingRequests.<span class="hljs-title function_">set</span>(requestId, promise);
        <span class="hljs-keyword">return</span> promise;
    }
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">url, options = {}</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(url, { ...options, <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span> });
        },
        
        <span class="hljs-attr">post</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">url, data, options = {}</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(url, {
                ...options,
                <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
                <span class="hljs-attr">headers</span>: {
                    <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
                    ...options.<span class="hljs-property">headers</span>
                },
                <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data)
            });
        },
        
        <span class="hljs-attr">cancelAll</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            pendingRequests.<span class="hljs-title function_">clear</span>();
        }
    };
}

<span class="hljs-comment">// 3. äº‹ä»¶å‘å°„å™¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createEventEmitter</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> events = {};
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">on</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">eventName, callback</span>) {
            <span class="hljs-keyword">if</span> (!events[eventName]) {
                events[eventName] = [];
            }
            events[eventName].<span class="hljs-title function_">push</span>(callback);
            
            <span class="hljs-comment">// è¿”å›å–æ¶ˆè®¢é˜…å‡½æ•°</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                <span class="hljs-keyword">const</span> callbacks = events[eventName];
                <span class="hljs-keyword">const</span> index = callbacks.<span class="hljs-title function_">indexOf</span>(callback);
                <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
                    callbacks.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
                }
            };
        },
        
        <span class="hljs-attr">emit</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">eventName, ...args</span>) {
            <span class="hljs-keyword">const</span> callbacks = events[eventName];
            <span class="hljs-keyword">if</span> (callbacks) {
                callbacks.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">callback</span> =&gt;</span> {
                    callback.<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, args);
                });
            }
        },
        
        <span class="hljs-attr">off</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">eventName, callback</span>) {
            <span class="hljs-keyword">const</span> callbacks = events[eventName];
            <span class="hljs-keyword">if</span> (callbacks) {
                <span class="hljs-keyword">const</span> index = callbacks.<span class="hljs-title function_">indexOf</span>(callback);
                <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
                    callbacks.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
                }
            }
        }
    };
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> config = <span class="hljs-title function_">createConfigManager</span>({ <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>, <span class="hljs-attr">lang</span>: <span class="hljs-string">'zh-CN'</span> });

config.<span class="hljs-title function_">watch</span>(<span class="hljs-function">(<span class="hljs-params">key, newValue, oldValue</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`é…ç½®å˜åŒ–: <span class="hljs-subst">${key}</span> ä» <span class="hljs-subst">${oldValue}</span> å˜ä¸º <span class="hljs-subst">${newValue}</span>`</span>);
});

config.<span class="hljs-title function_">set</span>(<span class="hljs-string">'theme'</span>, <span class="hljs-string">'dark'</span>); <span class="hljs-comment">// è§¦å‘è§‚å¯Ÿè€…</span>

<span class="hljs-keyword">const</span> http = <span class="hljs-title function_">createHttpClient</span>(<span class="hljs-string">'https://api.example.com'</span>);
http.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/users'</span>); <span class="hljs-comment">// è‡ªåŠ¨å»é‡ç›¸åŒè¯·æ±‚</span>

<span class="hljs-keyword">const</span> emitter = <span class="hljs-title function_">createEventEmitter</span>();
<span class="hljs-keyword">const</span> unsubscribe = emitter.<span class="hljs-title function_">on</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¶ˆæ¯:'</span>, msg);
});

emitter.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'message'</span>, <span class="hljs-string">'Hello, Closure!'</span>); <span class="hljs-comment">// è§¦å‘äº‹ä»¶</span>
<span class="hljs-title function_">unsubscribe</span>(); <span class="hljs-comment">// å–æ¶ˆè®¢é˜…</span>
</code></pre>
<hr/>
<h3 data-id="heading-53">ğŸ¯ æ€»ç»“</h3>
<p>é—­åŒ…æ˜¯JavaScriptä¸­æœ€å¼ºå¤§å’Œæœ€æ ¸å¿ƒçš„ç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒä¸ºæˆ‘ä»¬æä¾›äº†ï¼š</p>
<ol>
<li><strong>æ•°æ®å°è£…</strong>ï¼šåˆ›å»ºç§æœ‰å˜é‡å’Œæ–¹æ³•</li>
<li><strong>çŠ¶æ€ä¿æŒ</strong>ï¼šåœ¨å‡½æ•°è°ƒç”¨ä¹‹é—´ä¿æŒçŠ¶æ€</li>
<li><strong>å‡½æ•°å·¥å‚</strong>ï¼šåˆ›å»ºå…·æœ‰ç‰¹å®šé…ç½®çš„å‡½æ•°</li>
<li><strong>æ¨¡å—åŒ–</strong>ï¼šæ„å»ºå¯é‡ç”¨çš„æ¨¡å—</li>
<li><strong>äº‹ä»¶å¤„ç†</strong>ï¼šç®¡ç†äº‹ä»¶å¤„ç†å™¨ä¸­çš„çŠ¶æ€</li>
</ol>
<h4 data-id="heading-54">ğŸ“‹ é—­åŒ…ä½¿ç”¨æ¸…å•</h4>
<ul>
<li>âœ… <strong>æ­£ç¡®ç†è§£å½¢æˆæ¡ä»¶</strong>ï¼š
<ul>
<li><strong>å¿…è¦æ¡ä»¶</strong>ï¼šå‡½æ•°åµŒå¥— + å†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å˜é‡</li>
<li><strong>åº”ç”¨æ¡ä»¶</strong>ï¼šé€šè¿‡è¿”å›æˆ–ä¼ é€’ä½¿é—­åŒ…åœ¨å¤–éƒ¨å¯è¢«è°ƒç”¨</li>
</ul>
</li>
<li>âœ… <strong>æ¾„æ¸…å¸¸è§è¯¯è§£</strong>ï¼šè¿”å›ä¸æ˜¯å½¢æˆé—­åŒ…çš„å¿…è¦æ¡ä»¶ï¼Œä½†æ˜¯é—­åŒ…äº§ç”Ÿå®é™…ä»·å€¼çš„å¿…è¦æ¡ä»¶</li>
<li>âœ… <strong>æ³¨æ„å†…å­˜ç®¡ç†</strong>ï¼šåŠæ—¶æ¸…ç†ä¸éœ€è¦çš„é—­åŒ…å¼•ç”¨</li>
<li>âœ… <strong>é¿å…å¾ªç¯é™·é˜±</strong>ï¼šä½¿ç”¨letæˆ–IIFEè§£å†³å¾ªç¯ä¸­çš„é—­åŒ…é—®é¢˜</li>
<li>âœ… <strong>åˆç†ä½¿ç”¨ç§æœ‰åŒ–</strong>ï¼šä¿æŠ¤å†…éƒ¨çŠ¶æ€ï¼Œæä¾›å…¬å…±æ¥å£</li>
<li>âœ… <strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé¿å…ä¸å¿…è¦çš„é—­åŒ…åˆ›å»ºï¼Œä½¿ç”¨WeakMapç®¡ç†å¼•ç”¨</li>
<li>âœ… <strong>ç†è§£é—­åŒ…ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šåˆ›å»ºã€æ´»è·ƒã€æŒä¹…ã€é”€æ¯å››ä¸ªé˜¶æ®µ</li>
</ul>
<p>é—­åŒ…ä¸ä»…ä»…æ˜¯JavaScriptçš„è¯­è¨€ç‰¹æ€§ï¼Œæ›´æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼ŒæŒæ¡å®ƒå°†è®©ä½ çš„JavaScriptä»£ç æ›´åŠ ä¼˜é›…ã€å®‰å…¨å’Œé«˜æ•ˆï¼</p>
<hr/>
<h3 data-id="heading-55">ğŸŒ äº”ã€é—­åŒ…åœ¨ç°ä»£å¼€å‘ä¸­çš„ä½“ç°</h3>
<p>é—­åŒ…ä¸ä»…æ˜¯ä¸€ä¸ªç†è®ºæ¦‚å¿µï¼Œæ›´æ˜¯ç°ä»£JavaScriptæŠ€æœ¯æ ˆçš„æ ¸å¿ƒåŸºç¡€ã€‚é€šè¿‡æ·±å…¥æºç ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°é—­åŒ…åœ¨å„ç§æ¡†æ¶å’Œå·¥å…·ä¸­çš„ç²¾å¦™åº”ç”¨ã€‚</p>
<h4 data-id="heading-56">React Hooks ä¸­çš„é—­åŒ…è‰ºæœ¯</h4>
<h5 data-id="heading-57">useEffect ä¾èµ–é—­åŒ…æ•è·å½“å‰çŠ¶æ€</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * React Hooks æºç ç®€åŒ–çš„é—­åŒ…æœºåˆ¶
 * å±•ç¤º useEffect å¦‚ä½•é€šè¿‡é—­åŒ…æ•è·çŠ¶æ€
 */</span>

<span class="hljs-comment">// ç®€åŒ–çš„ React useState å®ç°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useState</span>(<span class="hljs-params">initialValue</span>) {
    <span class="hljs-keyword">let</span> state = initialValue;
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">setState</span> = (<span class="hljs-params">newState</span>) =&gt; {
        state = <span class="hljs-keyword">typeof</span> newState === <span class="hljs-string">'function'</span> ? <span class="hljs-title function_">newState</span>(state) : newState;
        <span class="hljs-title function_">rerender</span>(); <span class="hljs-comment">// è§¦å‘é‡æ–°æ¸²æŸ“</span>
    };
    <span class="hljs-keyword">return</span> [state, setState];
}

<span class="hljs-comment">// ç®€åŒ–çš„ useEffect å®ç° - æ ¸å¿ƒåœ¨äºé—­åŒ…</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useEffect</span>(<span class="hljs-params">callback, dependencies</span>) {
    <span class="hljs-keyword">const</span> prevDeps = <span class="hljs-title function_">getCurrentDeps</span>(); <span class="hljs-comment">// è·å–ä¸Šæ¬¡çš„ä¾èµ–</span>
    <span class="hljs-keyword">const</span> hasChanged = dependencies ? 
        dependencies.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">dep, i</span>) =&gt;</span> dep !== prevDeps[i]) : 
        <span class="hljs-literal">true</span>;
    
    <span class="hljs-keyword">if</span> (hasChanged) {
        <span class="hljs-comment">// ğŸ”‘ å…³é”®ï¼šé—­åŒ…æ•è·äº†åˆ›å»ºæ—¶çš„æ‰€æœ‰å˜é‡</span>
        <span class="hljs-keyword">const</span> cleanup = <span class="hljs-title function_">callback</span>(); <span class="hljs-comment">// æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°</span>
        <span class="hljs-title function_">saveCleanup</span>(cleanup);
        <span class="hljs-title function_">saveDeps</span>(dependencies);
    }
}

<span class="hljs-comment">// å®é™…åº”ç”¨ä¸­çš„é—­åŒ…é™·é˜±å’Œè§£å†³æ–¹æ¡ˆ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// âŒ é—­åŒ…é™·é˜±ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½æ•è·äº†æ—§çš„ count</span>
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é”™è¯¯çš„è®¡æ•°:'</span>, count); <span class="hljs-comment">// æ€»æ˜¯ 0ï¼Œé—­åŒ…æ•è·äº†åˆå§‹å€¼</span>
        }, <span class="hljs-number">1000</span>);
        
        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer);
    }, [count]); <span class="hljs-comment">// ä¾èµ–æ•°ç»„</span>
    
    <span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆ1ï¼šä½¿ç”¨å‡½æ•°å¼æ›´æ–°</span>
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">currentCount</span> =&gt;</span> {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ­£ç¡®çš„è®¡æ•°:'</span>, currentCount + <span class="hljs-number">1</span>);
                <span class="hljs-keyword">return</span> currentCount + <span class="hljs-number">1</span>;
            });
        }, <span class="hljs-number">1000</span>);
        
        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer);
    }, []); <span class="hljs-comment">// ç©ºä¾èµ–æ•°ç»„</span>
    
    <span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨ useRef é—­åŒ…</span>
    <span class="hljs-keyword">const</span> countRef = <span class="hljs-title function_">useRef</span>(count);
    countRef.<span class="hljs-property">current</span> = count;
    
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½¿ç”¨ ref çš„è®¡æ•°:'</span>, countRef.<span class="hljs-property">current</span>);
            <span class="hljs-title function_">setCount</span>(countRef.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>);
        }, <span class="hljs-number">1000</span>);
        
        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer);
    }, []);
    
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Count: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h5 data-id="heading-58">useCallback å’Œ useMemo çš„é—­åŒ…ä¼˜åŒ–</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * React æ€§èƒ½ä¼˜åŒ– Hooks çš„é—­åŒ…åŸç†
 */</span>

<span class="hljs-comment">// ç®€åŒ–çš„ useCallback å®ç°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useCallback</span>(<span class="hljs-params">callback, deps</span>) {
    <span class="hljs-keyword">const</span> callbackRef = <span class="hljs-title function_">useRef</span>(callback);
    <span class="hljs-keyword">const</span> depsRef = <span class="hljs-title function_">useRef</span>(deps);
    
    <span class="hljs-comment">// é€šè¿‡é—­åŒ…æ£€æŸ¥ä¾èµ–æ˜¯å¦å˜åŒ–</span>
    <span class="hljs-keyword">if</span> (!deps || deps.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">dep, i</span>) =&gt;</span> dep !== depsRef.<span class="hljs-property">current</span>[i])) {
        callbackRef.<span class="hljs-property">current</span> = callback;
        depsRef.<span class="hljs-property">current</span> = deps;
    }
    
    <span class="hljs-comment">// è¿”å›ç¨³å®šçš„å‡½æ•°å¼•ç”¨ï¼Œå†…éƒ¨ä½¿ç”¨é—­åŒ…</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">useRef</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-keyword">return</span> callbackRef.<span class="hljs-title function_">current</span>(...args);
    }).<span class="hljs-property">current</span>;
}

<span class="hljs-comment">// å®é™…åº”ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ParentComponent</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// é€šè¿‡é—­åŒ…è®°å¿†å‡½æ•°ï¼Œé¿å…ä¸å¿…è¦çš„å­ç»„ä»¶é‡æ¸²æŸ“</span>
    <span class="hljs-keyword">const</span> memoizedCallback = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é—­åŒ…æ•è·çš„ count:'</span>, count);
        <span class="hljs-comment">// è¿™ä¸ªå‡½æ•°çš„é—­åŒ…ä¼šæ•è·å½“å‰çš„ count å€¼</span>
    }, [count]); <span class="hljs-comment">// ä¾èµ–æ•°ç»„å˜åŒ–æ—¶ï¼Œé—­åŒ…é‡æ–°åˆ›å»º</span>
    
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ExpensiveChild</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{memoizedCallback}</span> /&gt;</span></span>;
}
</code></pre>
<h4 data-id="heading-59">Vue 3 å“åº”å¼ç³»ç»Ÿä¸­çš„é—­åŒ…é­”æ³•</h4>
<h5 data-id="heading-60">reactive å’Œ computed çš„ä¾èµ–è¿½è¸ª</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * Vue 3 å“åº”å¼ç³»ç»Ÿç®€åŒ–çš„é—­åŒ…æœºåˆ¶
 * å±•ç¤ºå¦‚ä½•é€šè¿‡é—­åŒ…å®ç°ä¾èµ–è¿½è¸ªå’Œå“åº”å¼æ›´æ–°
 */</span>

<span class="hljs-comment">// ç®€åŒ–çš„ä¾èµ–æ”¶é›†å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dep</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(); <span class="hljs-comment">// å­˜å‚¨è®¢é˜…è€…</span>
    }
    
    <span class="hljs-title function_">depend</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">if</span> (activeEffect) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">add</span>(activeEffect);
        }
    }
    
    <span class="hljs-title function_">notify</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">effect</span> =&gt;</span> <span class="hljs-title function_">effect</span>());
    }
}

<span class="hljs-keyword">let</span> activeEffect = <span class="hljs-literal">null</span>;

<span class="hljs-comment">// ç®€åŒ–çš„ reactive å®ç°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">obj</span>) {
    <span class="hljs-keyword">const</span> depsMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// å­˜å‚¨æ¯ä¸ªå±æ€§çš„ä¾èµ–</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj, {
        <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key</span>) {
            <span class="hljs-keyword">const</span> dep = depsMap.<span class="hljs-title function_">get</span>(key) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dep</span>();
            dep.<span class="hljs-title function_">depend</span>(); <span class="hljs-comment">// ğŸ”‘ é—­åŒ…æ”¶é›†ä¾èµ–</span>
            
            <span class="hljs-keyword">return</span> target[key];
        },
        
        <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value</span>) {
            target[key] = value;
            <span class="hljs-keyword">const</span> dep = depsMap.<span class="hljs-title function_">get</span>(key) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dep</span>();
            dep.<span class="hljs-title function_">notify</span>(); <span class="hljs-comment">// é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    });
}

<span class="hljs-comment">// ç®€åŒ–çš„ computed å®ç°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">computed</span>(<span class="hljs-params">getter</span>) {
    <span class="hljs-keyword">let</span> value;
    <span class="hljs-keyword">let</span> dirty = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">const</span> dep = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dep</span>();
    
    <span class="hljs-comment">// ğŸ”‘ å…³é”®é—­åŒ…ï¼šä¿å­˜ getter å‡½æ•°å’Œä¾èµ–</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">effect</span> = (<span class="hljs-params"/>) =&gt; {
        activeEffect = <span class="hljs-function">() =&gt;</span> {
            dirty = <span class="hljs-literal">true</span>;
            dep.<span class="hljs-title function_">notify</span>();
        };
        value = <span class="hljs-title function_">getter</span>(); <span class="hljs-comment">// æ‰§è¡Œæ—¶è‡ªåŠ¨æ”¶é›†ä¾èµ–</span>
        activeEffect = <span class="hljs-literal">null</span>;
        dirty = <span class="hljs-literal">false</span>;
    };
    
    <span class="hljs-title function_">effect</span>(); <span class="hljs-comment">// åˆå§‹è®¡ç®—</span>
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-keyword">get</span> <span class="hljs-title function_">value</span>() {
            <span class="hljs-keyword">if</span> (dirty) {
                <span class="hljs-title function_">effect</span>();
            }
            dep.<span class="hljs-title function_">depend</span>();
            <span class="hljs-keyword">return</span> value;
        }
    };
}

<span class="hljs-comment">// å®é™…åº”ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Vue'</span>
});

<span class="hljs-keyword">const</span> doubledCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ğŸ”‘ é—­åŒ…ï¼šè¿™ä¸ªå‡½æ•°ä¼šè¢«ä¿å­˜ï¼Œå½“ state.count å˜åŒ–æ—¶è‡ªåŠ¨é‡æ–°æ‰§è¡Œ</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é‡æ–°è®¡ç®— doubleCount'</span>);
    <span class="hljs-keyword">return</span> state.<span class="hljs-property">count</span> * <span class="hljs-number">2</span>;
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doubledCount.<span class="hljs-property">value</span>); <span class="hljs-comment">// è§¦å‘ä¾èµ–æ”¶é›†</span>
state.<span class="hljs-property">count</span>++; <span class="hljs-comment">// è‡ªåŠ¨è§¦å‘é‡æ–°è®¡ç®—</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doubledCount.<span class="hljs-property">value</span>);
</code></pre>
<h5 data-id="heading-61">Vue 3 çš„ setup å‡½æ•°é—­åŒ…</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * Vue 3 Composition API çš„é—­åŒ…è®¾è®¡
 */</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// setup å‡½æ•°æœ¬èº«å°±æ˜¯ä¸€ä¸ªé—­åŒ…ç¯å¢ƒ</span>
        <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">const</span> message = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'Hello Vue 3'</span>);
        
        <span class="hljs-comment">// é—­åŒ…æ•è·äº† count å’Œ message</span>
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"/>) =&gt; {
            count.<span class="hljs-property">value</span>++;
            <span class="hljs-comment">// è¿™ä¸ªå‡½æ•°é€šè¿‡é—­åŒ…è®¿é—®åˆ° setup ä½œç”¨åŸŸä¸­çš„å˜é‡</span>
        };
        
        <span class="hljs-comment">// é—­åŒ…ä¸­çš„è®¡ç®—å±æ€§</span>
        <span class="hljs-keyword">const</span> doubled = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// ğŸ”‘ é—­åŒ…ï¼šè‡ªåŠ¨è¿½è¸ª count.value çš„ä¾èµ–</span>
            <span class="hljs-keyword">return</span> count.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>;
        });
        
        <span class="hljs-comment">// é—­åŒ…ä¸­çš„å‰¯ä½œç”¨</span>
        <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶æŒ‚è½½ï¼Œmessage:'</span>, message.<span class="hljs-property">value</span>);
            <span class="hljs-comment">// é—­åŒ…æ•è·äº†æ•´ä¸ª setup ä½œç”¨åŸŸ</span>
        });
        
        <span class="hljs-comment">// è¿”å›çš„æ‰€æœ‰æ–¹æ³•å’Œå“åº”å¼æ•°æ®éƒ½é€šè¿‡é—­åŒ…ä¿æŒå…³è”</span>
        <span class="hljs-keyword">return</span> {
            count,
            message,
            doubled,
            increment
        };
    }
}
</code></pre>
<h4 data-id="heading-62">Node.js æ¨¡å—ç³»ç»Ÿä¸­çš„é—­åŒ…éš”ç¦»</h4>
<h5 data-id="heading-63">CommonJS æ¨¡å—çš„é—­åŒ…å°è£…</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * Node.js æ¨¡å—ç³»ç»Ÿ - æ¯ä¸ªæ¨¡å—éƒ½æ˜¯é—­åŒ…
 * å±•ç¤ºæ¨¡å—å¦‚ä½•é€šè¿‡é—­åŒ…å®ç°ä½œç”¨åŸŸéš”ç¦»
 */</span>

<span class="hljs-comment">// ç®€åŒ–çš„ Node.js æ¨¡å—åŠ è½½å™¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Module</span>(<span class="hljs-params">id, parent</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">exports</span> = {};
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">parent</span> = parent;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">filename</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">loaded</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">children</span> = [];
}

<span class="hljs-comment">// æ¨¡å—åŠ è½½çš„æ ¸å¿ƒ - é€šè¿‡é—­åŒ…éš”ç¦»ä½œç”¨åŸŸ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">loadModule</span>(<span class="hljs-params">filename</span>) {
    <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Module</span>(filename);
    <span class="hljs-keyword">const</span> content = fs.<span class="hljs-title function_">readFileSync</span>(filename, <span class="hljs-string">'utf8'</span>);
    
    <span class="hljs-comment">// ğŸ”‘ å…³é”®ï¼šé€šè¿‡é—­åŒ…åŒ…è£…æ¨¡å—ä»£ç </span>
    <span class="hljs-keyword">const</span> wrappedContent = <span class="hljs-string">`(function(exports, require, module, __filename, __dirname) {
        <span class="hljs-subst">${content}</span>
    })`</span>;
    
    <span class="hljs-keyword">const</span> compiledWrapper = vm.<span class="hljs-title function_">runInThisContext</span>(wrappedContent, filename);
    
    <span class="hljs-comment">// æ‰§è¡Œæ¨¡å—ä»£ç ï¼Œä¼ å…¥é—­åŒ…å‚æ•°</span>
    compiledWrapper.<span class="hljs-title function_">call</span>(
        <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>,
        <span class="hljs-variable language_">module</span>.<span class="hljs-property">require</span>,
        <span class="hljs-variable language_">module</span>,
        filename,
        path.<span class="hljs-title function_">dirname</span>(filename)
    );
    
    <span class="hljs-variable language_">module</span>.<span class="hljs-property">loaded</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>;
}

<span class="hljs-comment">// å®é™…çš„æ¨¡å—æ–‡ä»¶ç¤ºä¾‹</span>
<span class="hljs-comment">// math.js</span>
<span class="hljs-comment">/*
let privateCounter = 0; // ğŸ”‘ é€šè¿‡é—­åŒ…æˆä¸ºæ¨¡å—ç§æœ‰å˜é‡

function increment() {
    privateCounter++;
}

module.exports = {
    increment,
    getCount: () =&gt; privateCounter
};
*/</span>

<span class="hljs-comment">// åœ¨ä½¿ç”¨æ—¶</span>
<span class="hljs-keyword">const</span> math = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./math'</span>);
math.<span class="hljs-title function_">increment</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(math.<span class="hljs-title function_">getCount</span>()); <span class="hljs-comment">// privateCounter é€šè¿‡é—­åŒ…ä¿æŒçŠ¶æ€</span>

<span class="hljs-comment">// ä¸åŒæ¨¡å—çš„ç§æœ‰å˜é‡æ˜¯éš”ç¦»çš„</span>
<span class="hljs-keyword">const</span> anotherMath = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./math'</span>); <span class="hljs-comment">// è¿”å›åŒä¸€ä¸ªæ¨¡å—å®ä¾‹</span>
<span class="hljs-comment">// privateCounter åœ¨æ‰€æœ‰å¼•ç”¨é—´å…±äº«ï¼Œä½†ä¸æ¨¡å—å¤–å®Œå…¨éš”ç¦»</span>
</code></pre>
<h5 data-id="heading-64">ES6 æ¨¡å—çš„é—­åŒ…æœºåˆ¶</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * ES6 æ¨¡å—çš„é—­åŒ…å®ç°
 * å±•ç¤ºæ¨¡å—çº§åˆ«çš„ä½œç”¨åŸŸå’Œå¯¼å‡ºæœºåˆ¶
 */</span>

<span class="hljs-comment">// utils.mjs - ES6 æ¨¡å—æ–‡ä»¶</span>
<span class="hljs-comment">// æ•´ä¸ªæ–‡ä»¶åœ¨ä¸€ä¸ªé—­åŒ…ä¸­æ‰§è¡Œ</span>
<span class="hljs-keyword">const</span> privateConfig = {
    <span class="hljs-attr">apiUrl</span>: <span class="hljs-string">'https://api.example.com'</span>,
    <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>
};

<span class="hljs-comment">// é€šè¿‡é—­åŒ…å®ç°çš„ç§æœ‰å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">validateInput</span>(<span class="hljs-params">input</span>) {
    <span class="hljs-keyword">return</span> input != <span class="hljs-literal">null</span> &amp;&amp; input.<span class="hljs-title function_">trim</span>().<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;
}

<span class="hljs-comment">// å¯¼å‡ºçš„å‡½æ•°é€šè¿‡é—­åŒ…è®¿é—®ç§æœ‰å˜é‡</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createApiClient</span>(<span class="hljs-params">basePath</span>) {
    <span class="hljs-keyword">const</span> config = { ...privateConfig, basePath }; <span class="hljs-comment">// ğŸ”‘ é—­åŒ…æ•è·é…ç½®</span>
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">request</span>: <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">endpoint, options</span>) {
            <span class="hljs-comment">// é€šè¿‡é—­åŒ…è®¿é—®é…ç½®</span>
            <span class="hljs-keyword">const</span> url = <span class="hljs-string">`<span class="hljs-subst">${config.apiUrl}</span>/<span class="hljs-subst">${config.basePath}</span>/<span class="hljs-subst">${endpoint}</span>`</span>;
            <span class="hljs-keyword">const</span> timeout = config.<span class="hljs-property">timeout</span>;
            
            <span class="hljs-comment">// validateInput å‡½æ•°é€šè¿‡é—­åŒ…å¯ç”¨</span>
            <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">validateInput</span>(endpoint)) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Invalid endpoint'</span>);
            }
            
            <span class="hljs-comment">// ... API è°ƒç”¨é€»è¾‘</span>
        },
        
        <span class="hljs-attr">updateConfig</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">newConfig</span>) {
            <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(config, newConfig);
        }
    };
}

<span class="hljs-comment">// æ¯æ¬¡è°ƒç”¨ createApiClient éƒ½åˆ›å»ºæ–°çš„é—­åŒ…å®ä¾‹</span>
<span class="hljs-keyword">const</span> apiClient1 = <span class="hljs-title function_">createApiClient</span>(<span class="hljs-string">'users'</span>);
<span class="hljs-keyword">const</span> apiClient2 = <span class="hljs-title function_">createApiClient</span>(<span class="hljs-string">'products'</span>);
<span class="hljs-comment">// ä¸¤ä¸ªå®¢æˆ·ç«¯æœ‰ç‹¬ç«‹çš„é…ç½®é—­åŒ…</span>
</code></pre>
<h4 data-id="heading-65">TypeScript ä¸­çš„é—­åŒ…ç±»å‹å®‰å…¨</h4>
<h5 data-id="heading-66">ç±»å‹æ¨æ–­ä¸é—­åŒ…ç»“åˆ</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * TypeScript ä¸­é—­åŒ…çš„ç±»å‹æ¨æ–­å’Œå®‰å…¨
 */</span>

<span class="hljs-comment">// æ³›å‹é—­åŒ…å·¥å‚å‡½æ•°</span>
<span class="hljs-keyword">function</span> createTypedClosure&lt;T&gt;(<span class="hljs-attr">initialValue</span>: T) {
    <span class="hljs-comment">// ğŸ”‘ é—­åŒ…æ•è·æ³›å‹ç±»å‹</span>
    <span class="hljs-keyword">let</span> <span class="hljs-attr">value</span>: T = initialValue;
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-title function_">getValue</span>(): T {
            <span class="hljs-keyword">return</span> value; <span class="hljs-comment">// ç±»å‹æ¨æ–­ä¿æŒ T ç±»å‹</span>
        },
        <span class="hljs-title function_">setValue</span>(<span class="hljs-attr">newValue</span>: T): <span class="hljs-built_in">void</span> {
            value = newValue;
        },
        <span class="hljs-comment">// é—­åŒ…ä¸­çš„å‡½æ•°ä¹Ÿä¿æŒç±»å‹å®‰å…¨</span>
        <span class="hljs-title function_">update</span>(<span class="hljs-attr">updater</span>: <span class="hljs-function">(<span class="hljs-params">current: T</span>) =&gt;</span> T): <span class="hljs-built_in">void</span> {
            value = <span class="hljs-title function_">updater</span>(value);
        }
    };
}

<span class="hljs-comment">// å®é™…ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> stringClosure = <span class="hljs-title function_">createTypedClosure</span>(<span class="hljs-string">'Hello TypeScript'</span>);
stringClosure.<span class="hljs-title function_">setValue</span>(<span class="hljs-string">'Updated'</span>); <span class="hljs-comment">// ç±»å‹æ£€æŸ¥é€šè¿‡</span>
<span class="hljs-comment">// stringClosure.setValue(123); // âŒ ç±»å‹é”™è¯¯</span>

<span class="hljs-keyword">const</span> numberClosure = <span class="hljs-title function_">createTypedClosure</span>(<span class="hljs-number">42</span>);
numberClosure.<span class="hljs-title function_">update</span>(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> n * <span class="hljs-number">2</span>); <span class="hljs-comment">// é—­åŒ…å‡½æ•°ä¿æŒç±»å‹æ¨æ–­</span>

<span class="hljs-comment">// å¤æ‚ç±»å‹çš„é—­åŒ…</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createUserManager</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> <span class="hljs-attr">users</span>: <span class="hljs-title class_">User</span>[] = [];
    
    <span class="hljs-comment">// ğŸ”‘ é—­åŒ…æ•è·ç±»å‹ä¿¡æ¯</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-title function_">addUser</span>(<span class="hljs-attr">user</span>: <span class="hljs-title class_">User</span>): <span class="hljs-built_in">void</span> {
            users.<span class="hljs-title function_">push</span>(user);
        },
        
        <span class="hljs-title function_">findUser</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">User</span> | <span class="hljs-literal">undefined</span> {
            <span class="hljs-keyword">return</span> users.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">u</span> =&gt;</span> u.<span class="hljs-property">id</span> === id);
        },
        
        <span class="hljs-comment">// é«˜é˜¶é—­åŒ…å‡½æ•°</span>
        <span class="hljs-title function_">filterUsers</span>(<span class="hljs-attr">predicate</span>: <span class="hljs-function">(<span class="hljs-params">user: User</span>) =&gt;</span> <span class="hljs-built_in">boolean</span>): <span class="hljs-title class_">User</span>[] {
            <span class="hljs-keyword">return</span> users.<span class="hljs-title function_">filter</span>(predicate); <span class="hljs-comment">// ä¿æŒç±»å‹å®‰å…¨</span>
        }
    };
}

<span class="hljs-keyword">const</span> userManager = <span class="hljs-title function_">userManager</span>();
userManager.<span class="hljs-title function_">addUser</span>({ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span> });
<span class="hljs-keyword">const</span> activeUsers = userManager.<span class="hljs-title function_">filterUsers</span>(<span class="hljs-function"><span class="hljs-params">u</span> =&gt;</span> u.<span class="hljs-property">name</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">3</span>);
</code></pre>
<h5 data-id="heading-67">é—­åŒ…çš„è£…é¥°å™¨åº”ç”¨</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * TypeScript è£…é¥°å™¨ä¸­çš„é—­åŒ…æœºåˆ¶
 */</span>

<span class="hljs-keyword">function</span> memoize&lt;T <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; <span class="hljs-built_in">any</span>&gt;(
    <span class="hljs-attr">target</span>: <span class="hljs-built_in">any</span>,
    <span class="hljs-attr">propertyKey</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">descriptor</span>: <span class="hljs-title class_">TypedPropertyDescriptor</span>&lt;T&gt;
): <span class="hljs-title class_">TypedPropertyDescriptor</span>&lt;T&gt; {
    <span class="hljs-keyword">const</span> originalMethod = descriptor.<span class="hljs-property">value</span>!;
    <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">ReturnType</span>&lt;T&gt;&gt;(); <span class="hljs-comment">// ğŸ”‘ é—­åŒ…ç¼“å­˜</span>
    
    <span class="hljs-comment">// è¿”å›æ–°æ–¹æ³•ï¼Œé€šè¿‡é—­åŒ…ä¿æŒç¼“å­˜</span>
    descriptor.<span class="hljs-property">value</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span>: <span class="hljs-built_in">any</span>, ...args: Parameters&lt;T&gt;</span>): <span class="hljs-title class_">ReturnType</span>&lt;T&gt; {
        <span class="hljs-keyword">const</span> key = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(args);
        
        <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">has</span>(key)) {
            <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">get</span>(key)!;
        }
        
        <span class="hljs-keyword">const</span> result = originalMethod.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
        cache.<span class="hljs-title function_">set</span>(key, result);
        <span class="hljs-keyword">return</span> result;
    } <span class="hljs-keyword">as</span> T;
    
    <span class="hljs-keyword">return</span> descriptor;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Calculator</span> {
    <span class="hljs-meta">@memoize</span>
    <span class="hljs-title function_">fibonacci</span>(<span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span> {
        <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> n;
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fibonacci</span>(n - <span class="hljs-number">1</span>) + <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fibonacci</span>(n - <span class="hljs-number">2</span>);
    }
}

<span class="hljs-comment">// æ¯ä¸ªæ–¹æ³•å®ä¾‹éƒ½æœ‰è‡ªå·±çš„é—­åŒ…ç¼“å­˜</span>
<span class="hljs-keyword">const</span> calc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Calculator</span>();
</code></pre>
<h4 data-id="heading-68">Webpack æ¨¡å—æ‰“åŒ…çš„é—­åŒ…åŸç†</h4>
<h5 data-id="heading-69">IIFE + é—­åŒ…çš„æ¨¡å—å°è£…</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * Webpack æ‰“åŒ…åçš„æ¨¡å—ä»£ç ç»“æ„
 * å±•ç¤ºå¦‚ä½•é€šè¿‡ IIFE + é—­åŒ…å®ç°æ¨¡å—ç³»ç»Ÿ
 */</span>

<span class="hljs-comment">// Webpack æ‰“åŒ…åçš„ç®€åŒ–ç»“æ„</span>
(<span class="hljs-keyword">function</span>(<span class="hljs-params">modules</span>) {
    <span class="hljs-comment">// webpackBootstrap</span>
    
    <span class="hljs-comment">// æ¨¡å—ç¼“å­˜</span>
    <span class="hljs-keyword">const</span> installedModules = {};
    
    <span class="hljs-comment">// ğŸ”‘ é—­åŒ…ï¼šæ¨¡å—åŠ è½½å‡½æ•°</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-params">moduleId</span>) {
        <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> (installedModules[moduleId]) {
            <span class="hljs-keyword">return</span> installedModules[moduleId].<span class="hljs-property">exports</span>;
        }
        
        <span class="hljs-comment">// åˆ›å»ºæ–°æ¨¡å—å®ä¾‹</span>
        <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = installedModules[moduleId] = {
            <span class="hljs-attr">i</span>: moduleId,
            <span class="hljs-attr">l</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">exports</span>: {}
        };
        
        <span class="hljs-comment">// ğŸ”‘ å…³é”®ï¼šé€šè¿‡é—­åŒ…æ‰§è¡Œæ¨¡å—</span>
        modules[moduleId].<span class="hljs-title function_">call</span>(
            <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>,
            <span class="hljs-variable language_">module</span>,
            <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>,
            __webpack_require__
        );
        
        <span class="hljs-variable language_">module</span>.<span class="hljs-property">l</span> = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>;
    }
    
    <span class="hljs-comment">// å¯åŠ¨åº”ç”¨</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">__webpack_require__</span>(<span class="hljs-number">0</span>);
})({

<span class="hljs-comment">// æ¨¡å—å®šä¹‰ - æ¯ä¸ªæ¨¡å—éƒ½åœ¨é—­åŒ…ä¸­</span>
<span class="hljs-number">0</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span>, <span class="hljs-built_in">require</span></span>) {
    <span class="hljs-comment">// æ¨¡å— 0 (å…¥å£æ–‡ä»¶)</span>
    <span class="hljs-keyword">const</span> utils = <span class="hljs-built_in">require</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// é€šè¿‡é—­åŒ…è·å–å…¶ä»–æ¨¡å—</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span> = <span class="hljs-built_in">require</span>(<span class="hljs-number">2</span>);
    
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>).<span class="hljs-title function_">appendChild</span>(<span class="hljs-title class_">App</span>.<span class="hljs-title function_">render</span>());
},

<span class="hljs-number">1</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span>, <span class="hljs-built_in">require</span></span>) {
    <span class="hljs-comment">// æ¨¡å— 1 (å·¥å…·æ¨¡å—)</span>
    
    <span class="hljs-comment">// ğŸ”‘ é—­åŒ…ï¼šæ¨¡å—ç§æœ‰å˜é‡</span>
    <span class="hljs-keyword">let</span> privateCounter = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">log</span>(<span class="hljs-params">...args</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[Utils]'</span>, ...args);
        privateCounter++;
    }
    
    <span class="hljs-comment">// æš´éœ²çš„ API é€šè¿‡é—­åŒ…è®¿é—®ç§æœ‰å˜é‡</span>
    <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
        log,
        <span class="hljs-attr">getLogCount</span>: <span class="hljs-function">() =&gt;</span> privateCounter,
        <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> privateCounter++
    };
},

<span class="hljs-number">2</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">module</span>, <span class="hljs-built_in">exports</span>, <span class="hljs-built_in">require</span></span>) {
    <span class="hljs-comment">// æ¨¡å— 2 (ç»„ä»¶æ¨¡å—)</span>
    <span class="hljs-keyword">const</span> utils = <span class="hljs-built_in">require</span>(<span class="hljs-number">1</span>);
    
    <span class="hljs-comment">// ğŸ”‘ é—­åŒ…ï¼šç»„ä»¶çŠ¶æ€</span>
    <span class="hljs-keyword">let</span> componentState = {
        <span class="hljs-attr">renderCount</span>: <span class="hljs-number">0</span>
    };
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
        componentState.<span class="hljs-property">renderCount</span>++;
        utils.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¸²æŸ“æ¬¡æ•°:'</span>, componentState.<span class="hljs-property">renderCount</span>);
        
        <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
        div.<span class="hljs-property">textContent</span> = <span class="hljs-string">'Hello Webpack Module!'</span>;
        <span class="hljs-keyword">return</span> div;
    }
    
    <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = { render };
}

});
</code></pre>
<h5 data-id="heading-70">ä»£ç åˆ†å‰²çš„é—­åŒ…æœºåˆ¶</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * Webpack ä»£ç åˆ†å‰²ä¸­çš„åŠ¨æ€å¯¼å…¥é—­åŒ…
 */</span>

<span class="hljs-comment">// åŠ¨æ€å¯¼å…¥çš„å®ç°åŸç†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">loadComponent</span>(<span class="hljs-params">componentName</span>) {
    <span class="hljs-comment">// ğŸ”‘ é—­åŒ…ï¼šä¿å­˜ç»„ä»¶åå’ŒåŠ è½½çŠ¶æ€</span>
    <span class="hljs-keyword">let</span> loadingPromise = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> componentInstance = <span class="hljs-literal">null</span>;
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// é—­åŒ…æ•è·äº† componentName</span>
        <span class="hljs-keyword">if</span> (componentInstance) {
            <span class="hljs-keyword">return</span> componentInstance;
        }
        
        <span class="hljs-keyword">if</span> (!loadingPromise) {
            loadingPromise = <span class="hljs-keyword">import</span>(<span class="hljs-string">`./components/<span class="hljs-subst">${componentName}</span>.js`</span>)
                .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">module</span> =&gt;</span> {
                    componentInstance = <span class="hljs-variable language_">module</span>.<span class="hljs-property">default</span>;
                    <span class="hljs-keyword">return</span> componentInstance;
                })
                .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`åŠ è½½ç»„ä»¶ <span class="hljs-subst">${componentName}</span> å¤±è´¥:`</span>, error);
                    loadingPromise = <span class="hljs-literal">null</span>;
                    <span class="hljs-keyword">throw</span> error;
                });
        }
        
        <span class="hljs-keyword">return</span> loadingPromise;
    };
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> loadHeader = <span class="hljs-title function_">loadComponent</span>(<span class="hljs-string">'Header'</span>);
<span class="hljs-keyword">const</span> loadFooter = <span class="hljs-title function_">loadComponent</span>(<span class="hljs-string">'Footer'</span>);

<span class="hljs-comment">// æ¯ä¸ªåŠ è½½å‡½æ•°éƒ½æœ‰è‡ªå·±çš„é—­åŒ…çŠ¶æ€</span>
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
    <span class="hljs-title function_">loadHeader</span>(),
    <span class="hljs-title function_">loadFooter</span>()
]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">[Header, Footer]</span>) =&gt;</span> {
    <span class="hljs-comment">// ä½¿ç”¨åŠ è½½çš„ç»„ä»¶</span>
});
</code></pre>
<h4 data-id="heading-71">ğŸ¯ ç°ä»£å¼€å‘ä¸­çš„é—­åŒ…æ€»ç»“</h4>
<h5 data-id="heading-72">æŠ€æœ¯æ ˆä¸­çš„é—­åŒ…ä½“ç°</h5>



































<table><thead><tr><th>æŠ€æœ¯</th><th>é—­åŒ…ä½“ç°</th><th>æ ¸å¿ƒä½œç”¨</th></tr></thead><tbody><tr><td><strong>React Hooks</strong></td><td>useEffectã€useState å†…éƒ¨ä¾èµ–é—­åŒ…æ•è·å½“å‰çŠ¶æ€</td><td>çŠ¶æ€æŒä¹…åŒ–ã€å‰¯ä½œç”¨ç®¡ç†</td></tr><tr><td><strong>Vue 3 å“åº”å¼</strong></td><td>reactive å’Œ computed é€šè¿‡é—­åŒ…è¿½è¸ªä¾èµ–</td><td>ä¾èµ–æ”¶é›†ã€è‡ªåŠ¨æ›´æ–°</td></tr><tr><td><strong>Node.js æ¨¡å—</strong></td><td>æ¯ä¸ªæ¨¡å—éƒ½æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œéš”ç¦»å…¨å±€ä½œç”¨åŸŸ</td><td>æ¨¡å—éš”ç¦»ã€ç§æœ‰å˜é‡</td></tr><tr><td><strong>TypeScript</strong></td><td>é—­åŒ…é…åˆç±»å‹æ¨æ–­å®ç°æ›´å®‰å…¨çš„å°è£…</td><td>ç±»å‹å®‰å…¨ã€æ™ºèƒ½æ¨æ–­</td></tr><tr><td><strong>Webpack æ‰“åŒ…</strong></td><td>æ¨¡å—å°è£…æœ¬è´¨æ˜¯ IIFE + é—­åŒ…</td><td>æ¨¡å—ç³»ç»Ÿã€ä»£ç åˆ†å‰²</td></tr></tbody></table>
<h5 data-id="heading-73">é—­åŒ…åœ¨ç°ä»£å¼€å‘ä¸­çš„æ ¸å¿ƒä»·å€¼</h5>
<ol>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šReactã€Vue ä¸­çš„çŠ¶æ€æŒä¹…åŒ–</li>
<li><strong>æ¨¡å—éš”ç¦»</strong>ï¼šNode.jsã€Webpack çš„ä½œç”¨åŸŸéš”ç¦»</li>
<li><strong>ä¾èµ–è¿½è¸ª</strong>ï¼šVue 3 å“åº”å¼ç³»ç»Ÿçš„ä¾èµ–æ”¶é›†</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šReact çš„è®°å¿†åŒ–å‡½æ•°ç¼“å­˜</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šTypeScript çš„æ³›å‹é—­åŒ…ä¿æŒç±»å‹ä¿¡æ¯</li>
</ol>
<h3 data-id="heading-74">ğŸ“– æ¨èé˜…è¯»</h3>
<ol>
<li>ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ - é—­åŒ…ç« èŠ‚</li>
<li>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ - ä½œç”¨åŸŸå’Œé—­åŒ…</li>
<li>MDN Web Docs - Closures</li>
<li>JavaScript Design Patterns - Module Pattern</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Elasticsearchï¼šåœ¨åˆ†æè¿‡ç¨‹ä¸­å¯¹æ•°å­—è¿›è¡Œæ ‡å‡†åŒ–]]></title>    <link>https://juejin.cn/post/7584343534967717930</link>    <guid>https://juejin.cn/post/7584343534967717930</guid>    <pubDate>2025-12-17T02:05:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584343534967717930" data-draft-id="7584356212801126441" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Elasticsearchï¼šåœ¨åˆ†æè¿‡ç¨‹ä¸­å¯¹æ•°å­—è¿›è¡Œæ ‡å‡†åŒ–"/> <meta itemprop="keywords" content="Elasticsearch"/> <meta itemprop="datePublished" content="2025-12-17T02:05:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Elasticsearch"/> <meta itemprop="url" content="https://juejin.cn/user/2612095360441448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Elasticsearchï¼šåœ¨åˆ†æè¿‡ç¨‹ä¸­å¯¹æ•°å­—è¿›è¡Œæ ‡å‡†åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612095360441448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Elasticsearch
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T02:05:56.000Z" title="Wed Dec 17 2025 02:05:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæ¥è‡ª ElasticÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscuss.elastic.co%2Fu%2Fspinscale" title="https://discuss.elastic.co/u/spinscale" target="_blank" ref="nofollow noopener noreferrer">spinscale</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f0fc4e86670495d8d6f2bbcb749a223~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766541956&amp;x-signature=QHLCFdkaciuaq70fsQuDuaN3Myo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">åˆ†æé“¾ä¸­çš„æ•°å­—æ ‡å‡†åŒ–</h2>
<p>åœ¨å…¨æ–‡æœç´¢ä¸­ï¼Œä¸€ä¸ªå¸¸è§é—®é¢˜æ˜¯å¦‚ä½•å¤„ç†æ•°å­—ã€‚æœ€åŸºæœ¬çš„æ–¹æ³•æ˜¯å°†å®ƒä»¬å®Œå…¨æå–å‡ºæ¥ï¼Œå¹¶åœ¨èŒƒå›´å†…ä½œä¸ºçœŸå®æ•°å­—è¿›è¡ŒæŸ¥è¯¢ï¼Œä½†åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œè¿™éœ€è¦å¤§é‡åˆ†æï¼Œè€Œä¸”æ•°å­—å¾€å¾€åªæ˜¯å…¨æ–‡æœç´¢çš„ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ iphone 17 æˆ– bed 1.4 mã€‚</p>
<p>é—®é¢˜æ˜¯ï¼Œå½“ç”¨æˆ·è¾“å…¥æœç´¢æ—¶ï¼Œä»–ä»¬å¯¹æ•°å­—çš„ç†è§£å¯èƒ½ä¸ä½ ä¸åŒã€‚</p>
<p>1.4 m å’Œ 1,4 m æ˜¯ç›¸åŒçš„å—ï¼Ÿäº‹å®æ˜¯ï¼Œç¾å›½å’Œæ¬§æ´²åœ¨å¤§æ•°å’Œåˆ†æ•°çš„åˆ†éš”ç¬¦ä¸Šä½¿ç”¨ä¸åŒçš„å­—ç¬¦ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·åœ¨æœç´¢å¼•æ“ä¸­è¾“å…¥æ•°å­—æ—¶ï¼Œç‚¹å’Œé€—å·å¸¸å¸¸å¯ä»¥äº’æ¢ä½¿ç”¨ï¼Œå°¤å…¶æ˜¯æ•°å­—è¾ƒå°æ—¶ã€‚</p>
<ul>
<li>007 å’Œ 7 æ˜¯ç›¸åŒçš„å—ï¼Ÿå–å†³äºä½ çš„ä½¿ç”¨åœºæ™¯ã€‚</li>
<li>1.4 m å’Œ 1.40 m æ˜¯ç›¸åŒçš„å—ï¼Ÿè¿™å–å†³â€¦â€¦ä½ æ˜ç™½æˆ‘çš„æ„æ€ã€‚</li>
</ul>
<p>é‚£ä¹ˆæˆ‘ä»¬èƒ½åšäº›ä»€ä¹ˆæ¥ç¨å¾®æ ‡å‡†åŒ–æ•°å­—å‘¢ï¼Ÿ</p>
<p>ä¸ºäº†è¿™ä¸ªç¤ºä¾‹ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Ftext-analysis%2Fanalysis-keep-types-tokenfilter" title="https://www.elastic.co/docs/reference/text-analysis/analysis-keep-types-tokenfilter" target="_blank" ref="nofollow noopener noreferrer">keep_types token filter</a>ï¼Œä»…ä¿ç•™æ•°å­—ï¼Œä¸¢å¼ƒåˆ†æé“¾ä¸­çš„å…¶ä»–å†…å®¹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST _analyze
2.  {
3.    <span class="hljs-string">"text"</span>: <span class="hljs-string">"makita fÃ¼hrungsschiene 1.4 m, 1,4 m 1,40 1.40"</span>,
4.    <span class="hljs-string">"tokenizer"</span>: <span class="hljs-string">"standard"</span>,
5.    <span class="hljs-string">"filter"</span>: [
6.      {
7.        <span class="hljs-string">"type"</span>: <span class="hljs-string">"keep_types"</span>,
8.        <span class="hljs-string">"types"</span>: [
9.          <span class="hljs-string">"&lt;NUM&gt;"</span>
10.        ]
11.      }
12.    ]
13.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>è¿™åªä¼šè¿”å›çœ‹èµ·æ¥åƒæ•°å­—çš„ tokenï¼Œæ— è®ºå®ƒä»¬æ˜¯å¦åŒ…å«ç‚¹æˆ–é€—å·ï¼Œä½†ä¼šæ’é™¤å…¶ä»–å†…å®¹ï¼Œä¾‹å¦‚æ™®é€šå•è¯ï¼Œæ¯”å¦‚ makitaã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆç»Ÿä¸€æ‰€æœ‰å¸¦ç‚¹æˆ–é€—å·çš„æ•°å­—ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST _analyze
2.  {
3.    <span class="hljs-string">"text"</span>: <span class="hljs-string">"makita fÃ¼hrungsschiene 1.4 m, 1,4 m 1,40 1.40"</span>,
4.    <span class="hljs-string">"tokenizer"</span>: <span class="hljs-string">"standard"</span>,
5.    <span class="hljs-string">"filter"</span>: [
6.      {
7.        <span class="hljs-string">"type"</span>: <span class="hljs-string">"keep_types"</span>,
8.        <span class="hljs-string">"types"</span>: [
9.          <span class="hljs-string">"&lt;NUM&gt;"</span>
10.        ]
11.      },
12.      {
13.        <span class="hljs-string">"type"</span>: <span class="hljs-string">"pattern_replace"</span>,
14.        <span class="hljs-string">"pattern"</span>: <span class="hljs-string">"(\\d+)\\,(\\d+)"</span>,
15.        <span class="hljs-string">"replacement"</span> : <span class="hljs-string">"<span class="hljs-variable">$1</span>.<span class="hljs-variable">$2</span>"</span>
16.      }
17.    ]
18.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>è¿™åªè¿”å› 1.4 æˆ– 1.40 â€”â€” å¾ˆå¥½ï¼æ‰€ä»¥æ— è®ºç´¢å¼•äº†ä»€ä¹ˆï¼Œæˆ–è€…ç”¨æˆ·æœç´¢ä»€ä¹ˆï¼Œç°åœ¨æˆ‘ä»¬æ€»æ˜¯å‡è®¾æ•°å­—ä½¿ç”¨ç‚¹ï¼Œå€ŸåŠ© <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Ftext-analysis%2Fanalysis-pattern_replace-tokenfilter" title="https://www.elastic.co/docs/reference/text-analysis/analysis-pattern_replace-tokenfilter" target="_blank" ref="nofollow noopener noreferrer">pattern_replace token filter</a> å®ç°ã€‚</p>
<p>å¦‚æœä¸å…³å¿ƒä½ç½®ï¼Œå¯ä»¥åœ¨æœ€åä½¿ç”¨ unique token filter â€”â€” å½“ç„¶ä¹Ÿå¯ä»¥çœç•¥ norms ä»¥å‡å°‘ç´¢å¼•å¤§å°ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥å»æ‰ç‚¹ï¼Œåªä¿ç•™æ•°å­—æœ¬èº«ï¼Œä½†è¿™å¯èƒ½å¯¼è‡´æœç´¢ 1.7 æ—¶è¿”å› iphone 17 â€”â€” åŒæ ·ï¼Œè¿™å–å†³äºæ˜¯å¦å¸Œæœ›è¿™æ ·ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å»æ‰å‰å¯¼é›¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST _analyze
2.  {
3.    <span class="hljs-string">"text"</span>: <span class="hljs-string">"test 007 7 700 000 0"</span>,
4.    <span class="hljs-string">"tokenizer"</span>: <span class="hljs-string">"standard"</span>,
5.    <span class="hljs-string">"filter"</span>: [
6.      {
7.        <span class="hljs-string">"type"</span>: <span class="hljs-string">"keep_types"</span>,
8.        <span class="hljs-string">"types"</span>: [
9.          <span class="hljs-string">"&lt;NUM&gt;"</span>
10.        ]
11.      },
12.      {
13.        <span class="hljs-string">"type"</span>: <span class="hljs-string">"pattern_replace"</span>,
14.        <span class="hljs-string">"pattern"</span>: <span class="hljs-string">"^0+(\\d+)"</span>,
15.        <span class="hljs-string">"replacement"</span> : <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
16.      }
17.    ]
18.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>ç°åœ¨ï¼Œ007 æˆ– 000 ä¼šè¢«ç®€åŒ–ä¸ºå•ä¸ªæ•°å­—å­—ç¬¦ã€‚è™½ç„¶è¿™å¯èƒ½æœ‰ç”¨ï¼Œä½†è¯·æ³¨æ„ï¼Œå½“ç”¨æˆ·æœç´¢ 007 ä½œä¸ºé›¶ä»¶ç¼–å·æ—¶ï¼Œå¯èƒ½ä¼šè¿”å›åŒ…å« 7 çš„æ‰€æœ‰ç»“æœï¼Œä»è€Œå¢åŠ æ­§ä¹‰ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼ŒçœŸæ­£æœ‰è¶£çš„éƒ¨åˆ†æ¥äº†ï¼šå»æ‰å°¾éšé›¶ï¼Œä½†ä¸è¦å¼„å¾—å¤ªå¤æ‚ã€‚åƒå¾€å¸¸ä¸€æ ·ï¼Œå¦‚æœä½ æ‰‹å¤´åªæœ‰æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½ å¯èƒ½ä¼šæƒ³å‡ºä¸€ä¸ªå¤æ‚çš„æ­£åˆ™ï¼Œä½†ä¹Ÿè®¸é¢„å¤„ç†å¯èƒ½å·²ç»æ˜¯ä¸ªå¥½ä¸»æ„ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST _analyze
2.  {
3.    <span class="hljs-string">"text"</span>: <span class="hljs-string">"0.100 0.1000 0.101 100 100.0 100.00 100.001"</span>,
4.    <span class="hljs-string">"tokenizer"</span>: <span class="hljs-string">"standard"</span>,
5.    <span class="hljs-string">"filter"</span>: [
6.      {
7.        <span class="hljs-string">"type"</span>: <span class="hljs-string">"keep_types"</span>,
8.        <span class="hljs-string">"types"</span>: [
9.          <span class="hljs-string">"&lt;NUM&gt;"</span>
10.        ]
11.      },
12.      {
13.        <span class="hljs-string">"type"</span>: <span class="hljs-string">"pattern_replace"</span>,
14.        <span class="hljs-string">"pattern"</span>: <span class="hljs-string">"^(\\d+)\\.([0-9])(0+)$"</span>,
15.        <span class="hljs-string">"replacement"</span> : <span class="hljs-string">"<span class="hljs-variable">$1</span>.<span class="hljs-variable">$2</span>"</span>
16.      }
17.    ]
18.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>è¿™ä¼šè¿”å›ï¼ˆè‡³å°‘å¦‚æœä½ åœ¨è¯·æ±‚ä¸­æ·»åŠ  filter_path=**.tokenï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">`

<span class="hljs-bullet">1.</span>  {
<span class="hljs-bullet">2.</span>    "tokens": [
<span class="hljs-bullet">3.</span>      {
<span class="hljs-bullet">4.</span>        "token": "0.1"
<span class="hljs-bullet">5.</span>      },
<span class="hljs-bullet">6.</span>      {
<span class="hljs-bullet">7.</span>        "token": "0.1"
<span class="hljs-bullet">8.</span>      },
<span class="hljs-bullet">9.</span>      {
<span class="hljs-bullet">10.</span>        "token": "0.101"
<span class="hljs-bullet">11.</span>      },
<span class="hljs-bullet">12.</span>      {
<span class="hljs-bullet">13.</span>        "token": "100"
<span class="hljs-bullet">14.</span>      },
<span class="hljs-bullet">15.</span>      {
<span class="hljs-bullet">16.</span>        "token": "100.0"
<span class="hljs-bullet">17.</span>      },
<span class="hljs-bullet">18.</span>      {
<span class="hljs-bullet">19.</span>        "token": "100.0"
<span class="hljs-bullet">20.</span>      },
<span class="hljs-bullet">21.</span>      {
<span class="hljs-bullet">22.</span>        "token": "100.001"
<span class="hljs-bullet">23.</span>      }
<span class="hljs-bullet">24.</span>    ]
<span class="hljs-bullet">25.</span>  }

`AIå†™ä»£ç ![](<span class="hljs-link">https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png</span>)
</code></pre>
<p>ä½ å·²ç»å¯ä»¥çœ‹åˆ°è¿™é‡Œè¿˜æœ‰ä¸€äº›å¯ä»¥æ”¹è¿›çš„åœ°æ–¹ã€‚100 å’Œ 100.0 ä¹‹é—´çœŸçš„æœ‰åŒºåˆ«å—ï¼Ÿä¹Ÿè®¸åœ¨è¿™ç§æƒ…å†µä¸‹å¯ä»¥å®Œå…¨å»æ‰å°¾éšçš„ .0ã€‚æˆ‘ç›¸ä¿¡ä½ ä¼šä¸ºæ­¤æƒ³å‡ºä¸€ä¸ªå¾ˆæ£’çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
<p>è®©æˆ‘ä»¬æŠŠæ‰€æœ‰æ­¥éª¤æ•´åˆèµ·æ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST _analyze
2.  {
3.    <span class="hljs-string">"text"</span>: <span class="hljs-string">"makita fÃ¼hrungsschiene 1.4 m, 1,4 m 1,40 1.40 1.0 1.00 0.100 0.1000 0.101 0.1010 100 100.0 100.00 100.001 0.100 007 700"</span>,
4.    <span class="hljs-string">"tokenizer"</span>: <span class="hljs-string">"standard"</span>,
5.    <span class="hljs-string">"filter"</span>: [
6.      {
7.        <span class="hljs-string">"type"</span>: <span class="hljs-string">"keep_types"</span>,
8.        <span class="hljs-string">"types"</span>: [
9.          <span class="hljs-string">"&lt;NUM&gt;"</span>
10.        ]
11.      },
12.      {
13.        <span class="hljs-string">"type"</span>: <span class="hljs-string">"pattern_replace"</span>,
14.        <span class="hljs-string">"pattern"</span>: <span class="hljs-string">"(\\d+)\\,(\\d+)"</span>,
15.        <span class="hljs-string">"replacement"</span> : <span class="hljs-string">"<span class="hljs-variable">$1</span>.<span class="hljs-variable">$2</span>"</span>
16.      },
17.      {
18.        <span class="hljs-string">"type"</span>: <span class="hljs-string">"pattern_replace"</span>,
19.        <span class="hljs-string">"pattern"</span>: <span class="hljs-string">"^0+(\\d+)"</span>,
20.        <span class="hljs-string">"replacement"</span> : <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
21.      },
22.      {
23.        <span class="hljs-string">"type"</span>: <span class="hljs-string">"pattern_replace"</span>,
24.        <span class="hljs-string">"pattern"</span>: <span class="hljs-string">"^(\\d+)\\.([0-9])(0+)$"</span>,
25.        <span class="hljs-string">"replacement"</span> : <span class="hljs-string">"<span class="hljs-variable">$1</span>.<span class="hljs-variable">$2</span>"</span>
26.      }
27.    ]
28.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>åœ¨çœŸå®çš„åˆ†æé“¾ä¸­ï¼Œä½ å¯èƒ½ä¼šå»æ‰ keep_types filterï¼Œå¹¶ä¸”åœ¨é€‚ç”¨æ—¶å°è¯•å°†æ­£åˆ™è¡¨è¾¾å¼ç»„åˆä»¥æé«˜é€Ÿåº¦ï¼Œä½†è¿™å¤§æ¦‚æ˜¯ä¸€ä¸ªä¸é”™çš„èµ·ç‚¹ã€‚</p>
<p>ä»”ç»†çœ‹ä¸Šé¢çš„è¾“å‡ºï¼Œä½ ä¼šæ³¨æ„åˆ°è¿˜æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼š0.1010 æ²¡æœ‰è¢«ç®€åŒ–ä¸º 0.101ã€‚å› æ­¤ï¼Œä½ å¯èƒ½éœ€è¦å¯¹æ­£åˆ™è¡¨è¾¾å¼åšè¿›ä¸€æ­¥ä¿®æ­£ â€”â€” è®°ä½ï¼Œå¦‚æœå¢åŠ ä¸€ä¸ª token filter æœ‰åŠ©äºå¯è¯»æ€§ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ ğŸ˜Š</p>
<p>è¿˜æœ‰ä¸€ä¸ªå®ç°æç¤ºã€‚å¦‚æœä½ æƒ³ç¡®ä¿ pattern replace filter åªé’ˆå¯¹æ•°å­—è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Ftext-analysis%2Fanalysis-condition-tokenfilter" title="https://www.elastic.co/docs/reference/text-analysis/analysis-condition-tokenfilter" target="_blank" ref="nofollow noopener noreferrer">condition token filter</a>ã€‚</p>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscuss.elastic.co%2Ft%2Fdec-2nd-2025-en-normalizing-numbers-during-analysis%2F383512" title="https://discuss.elastic.co/t/dec-2nd-2025-en-normalizing-numbers-during-analysis/383512" target="_blank" ref="nofollow noopener noreferrer">discuss.elastic.co/t/dec-2nd-2â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[javaå®ç°ç”ŸæˆPDFæ–‡ä»¶]]></title>    <link>https://juejin.cn/post/7584357116434284585</link>    <guid>https://juejin.cn/post/7584357116434284585</guid>    <pubDate>2025-12-17T02:17:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584357116434284585" data-draft-id="7584358227611090986" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="javaå®ç°ç”ŸæˆPDFæ–‡ä»¶"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-17T02:17:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç«é”…å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/3502396336782874"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            javaå®ç°ç”ŸæˆPDFæ–‡ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3502396336782874/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç«é”…å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T02:17:17.000Z" title="Wed Dec 17 2025 02:17:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">javaå®ç°ç”ŸæˆPDFæ–‡ä»¶</h2>
<p>1.PDFæ–‡ä»¶ç®€ä»‹
PDFæ˜¯å¯ç§»æ¤æ–‡æ¡£æ ¼å¼ï¼Œæ˜¯ä¸€ç§ç”µå­æ–‡ä»¶æ ¼å¼ï¼Œå…·æœ‰è®¸å¤šå…¶ä»–ç”µå­æ–‡æ¡£æ ¼å¼æ— æ³•ç›¸æ¯”çš„ä¼˜ç‚¹ã€‚PDFæ–‡ä»¶æ ¼å¼å¯ä»¥å°†æ–‡å­—ã€å­—å‹ã€æ ¼å¼ã€é¢œè‰²åŠç‹¬ç«‹äºè®¾å¤‡å’Œåˆ†è¾¨ç‡çš„å›¾å½¢å›¾åƒç­‰å°è£…åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚è¯¥æ ¼å¼æ–‡ä»¶è¿˜å¯ä»¥åŒ…å«è¶…æ–‡æœ¬é“¾æ¥ã€å£°éŸ³å’ŒåŠ¨æ€å½±åƒç­‰ç”µå­ä¿¡æ¯ï¼Œæ”¯æŒç‰¹é•¿æ–‡ä»¶ï¼Œé›†æˆåº¦å’Œå®‰å…¨å¯é æ€§éƒ½è¾ƒé«˜ã€‚åœ¨ç³»ç»Ÿå¼€å‘ä¸­é€šå¸¸ç”¨æ¥ç”Ÿæˆæ¯”è¾ƒæ­£å¼çš„æŠ¥å‘Šæˆ–è€…åˆåŒç±»çš„ç”µå­æ–‡æ¡£ã€‚</p>
<p>2.ç”ŸæˆPDF
2.1 åŸºäºfreemarkeræ¡†æ¶å®ç°HTMLè½¬PDF
2.1.1 å¼•å…¥jaråŒ…ä¾èµ–:</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.20<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.itextpdf<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>html2pdf<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-comment">&lt;!-- spring boot é¡¹ç›®è¯·æ·»åŠ æ­¤ä¾èµ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-freemarker<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-comment">&lt;!-- éspring boot é¡¹ç›®è¯·æ·»åŠ æ­¤ä¾èµ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.freemarker<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>freemarker<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.3.30<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>2.1.2 åˆ›å»ºhtmlæ¨¡æ¿test_templateï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">body</span>{<span class="hljs-attribute">font-family</span>:SimSun;}
        <span class="hljs-selector-class">.title</span>{<span class="hljs-attribute">align-content</span>: center;<span class="hljs-attribute">text-align</span>: center;}
        <span class="hljs-selector-class">.signature</span>{<span class="hljs-attribute">float</span><span class="hljs-selector-pseudo">:right</span> }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>å‰¯æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>å½“å‰æ—¶é—´: ${date_time} <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"signature"</span>&gt;</span>æ—¥æœŸï¼š${date}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</code></pre>
<h6 data-id="heading-1">2.1.3 è·å–HTMLå†…å®¹</h6>
<ul>
<li>å½“HTMLæ¨¡æ¿å­˜æ”¾åœ¨ç³»ç»Ÿæ–‡ä»¶å¤¹</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">String</span> templateDirectory = <span class="hljs-string">"D:\\"</span>;  <span class="hljs-comment">// ç³»ç»Ÿæ–‡ä»¶å¤¹è·¯å¾„ å¦‚: D:\
</span>
</code></pre>
<ul>
<li>å½“HTMLæ¨¡æ¿å­˜æ”¾åœ¨é¡¹ç›®resources/templatesç›®å½•</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">ClassLoader <span class="hljs-attr">classLoader</span> = PdfUtilTest.class.getClassLoader()<span class="hljs-comment">;</span>
URL <span class="hljs-attr">resource</span> = classLoader.getResource(<span class="hljs-string">"templates"</span>)<span class="hljs-comment">;</span>
String <span class="hljs-attr">templateDirectory</span> = resource.toURI().getPath()<span class="hljs-comment">;</span>

</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.itextpdf.html2pdf.ConverterProperties;
<span class="hljs-keyword">import</span> com.itextpdf.html2pdf.HtmlConverter;
<span class="hljs-keyword">import</span> com.itextpdf.layout.font.FontProvider;
<span class="hljs-keyword">import</span> freemarker.template.Configuration;
<span class="hljs-keyword">import</span> freemarker.template.Template;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;

<span class="hljs-keyword">import</span> java.io.*;
<span class="hljs-keyword">import</span> java.net.URL;
<span class="hljs-keyword">import</span> java.time.LocalDateTime;
<span class="hljs-keyword">import</span> java.time.format.DateTimeFormatter;
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PdfUtilTest</span> {
    <span class="hljs-comment">/**
     * è·å–æ¨¡æ¿å†…å®¹
     * <span class="hljs-doctag">@param</span> templateDirectory æ¨¡æ¿æ–‡ä»¶å¤¹
     * <span class="hljs-doctag">@param</span> templateName      æ¨¡æ¿æ–‡ä»¶å
     * <span class="hljs-doctag">@param</span> paramMap          æ¨¡æ¿å‚æ•°
     * <span class="hljs-doctag">@return</span>
     * <span class="hljs-doctag">@throws</span> Exception
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getTemplateContent</span><span class="hljs-params">(String templateDirectory, String templateName, Map&lt;String, Object&gt; paramMap)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">configuration</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>(Configuration.DEFAULT_INCOMPATIBLE_IMPROVEMENTS);
        <span class="hljs-keyword">try</span> {
            configuration.setDirectoryForTemplateLoading(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(templateDirectory));
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.out.println(<span class="hljs-string">"-- exception --"</span>);
        }

        <span class="hljs-type">Writer</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringWriter</span>();
        <span class="hljs-type">Template</span> <span class="hljs-variable">template</span> <span class="hljs-operator">=</span> configuration.getTemplate(templateName,<span class="hljs-string">"UTF-8"</span>);
        template.process(paramMap, out);
        out.flush();
        out.close();
        <span class="hljs-keyword">return</span> out.toString();
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        Map&lt;String, Object&gt; paramMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        <span class="hljs-type">DateTimeFormatter</span> <span class="hljs-variable">dateTimeFormatter</span> <span class="hljs-operator">=</span> DateTimeFormatter.ofPattern(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>);
        paramMap.put(<span class="hljs-string">"date_time"</span>, dateTimeFormatter.format(LocalDateTime.now()));
        paramMap.put(<span class="hljs-string">"date"</span>, dateTimeFormatter.format(LocalDateTime.now()).substring(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>));
        <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">classLoader</span> <span class="hljs-operator">=</span> PdfUtilTest.class.getClassLoader();
        <span class="hljs-type">URL</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> classLoader.getResource(<span class="hljs-string">"templates"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">templateDirectory</span>  <span class="hljs-operator">=</span>resource.toURI().getPath();
        <span class="hljs-type">String</span> <span class="hljs-variable">templateContent</span> <span class="hljs-operator">=</span> PdfUtilTest.getTemplateContent(templateDirectory, <span class="hljs-string">"test_template.html"</span>, paramMap);
        System.out.println(templateContent);
    }
    
}

</code></pre>
<h6 data-id="heading-2">2.1.4 ç”ŸæˆPDFæ–‡æ¡£</h6>
<p>ç¤ºä¾‹ä»£ç :</p>
<pre><code class="hljs language-ini" lang="ini">    /**
     * HTML è½¬ PDF
     * @param content htmlå†…å®¹
     * @param outPath           è¾“å‡ºpdfè·¯å¾„
     * @return æ˜¯å¦åˆ›å»ºæˆåŠŸ
     */
    public static boolean html2Pdf(String content, String outPath) {
        try {
            ConverterProperties <span class="hljs-attr">converterProperties</span> = new ConverterProperties()<span class="hljs-comment">;</span>
            converterProperties.setCharset("UTF-8")<span class="hljs-comment">;</span>
            FontProvider <span class="hljs-attr">fontProvider</span> = new FontProvider()<span class="hljs-comment">;</span>
            fontProvider.addSystemFonts()<span class="hljs-comment">;</span>
            converterProperties.setFontProvider(fontProvider)<span class="hljs-comment">;</span>
            HtmlConverter.convertToPdf(content, new FileOutputStream(outPath), converterProperties)<span class="hljs-comment">;</span>
        } catch (Exception e) {
            log.error("ç”Ÿæˆæ¨¡æ¿å†…å®¹å¤±è´¥,{}",e)<span class="hljs-comment">;</span>
            return false<span class="hljs-comment">;</span>
        }
        return true<span class="hljs-comment">;</span>
    }
    /**
     * HTML è½¬ PDF
     * @param content htmlå†…å®¹
     * @return PDFå­—èŠ‚æ•°ç»„
     */
    public static byte<span class="hljs-section">[]</span> html2Pdf(String content) {
        ByteArrayOutputStream <span class="hljs-attr">outputStream</span> = new ByteArrayOutputStream()<span class="hljs-comment">;;</span>
        try {
            ConverterProperties <span class="hljs-attr">converterProperties</span> = new ConverterProperties()<span class="hljs-comment">;</span>
            converterProperties.setCharset("UTF-8")<span class="hljs-comment">;</span>
            FontProvider <span class="hljs-attr">fontProvider</span> = new FontProvider()<span class="hljs-comment">;</span>
            fontProvider.addSystemFonts()<span class="hljs-comment">;</span>
            converterProperties.setFontProvider(fontProvider)<span class="hljs-comment">;</span>
            HtmlConverter.convertToPdf(content,outputStream,converterProperties)<span class="hljs-comment">;</span>
        } catch (Exception e) {
            log.error("ç”Ÿæˆ PDF å¤±è´¥,{}",e)<span class="hljs-comment">;</span>
        }
        return outputStream.toByteArray()<span class="hljs-comment">;</span>
    }
	public static void main(String<span class="hljs-section">[]</span> args) throws Exception {
	    Map&lt;String, Object&gt; <span class="hljs-attr">paramMap</span> = new HashMap&lt;&gt;()<span class="hljs-comment">;</span>
	    DateTimeFormatter <span class="hljs-attr">dateTimeFormatter</span> = DateTimeFormatter.ofPattern(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>)<span class="hljs-comment">;</span>
	    paramMap.put("date_time", dateTimeFormatter.format(LocalDateTime.now()))<span class="hljs-comment">;</span>
	    paramMap.put("date", dateTimeFormatter.format(LocalDateTime.now()).substring(0, 10))<span class="hljs-comment">;</span>
	    String <span class="hljs-attr">outPath</span> = <span class="hljs-string">"D:\\A.pdf"</span><span class="hljs-comment">;</span>
	    String <span class="hljs-attr">templateDirectory</span> = <span class="hljs-string">"D:\\"</span><span class="hljs-comment">;</span>
	    String <span class="hljs-attr">templateContent</span> = PdfUtilTest.getTemplateContent(templateDirectory, <span class="hljs-string">"test_template.html"</span>, paramMap)<span class="hljs-comment">;</span>
	    PdfUtilTest.html2Pdf(templateContent, outPath)<span class="hljs-comment">;</span>
	    
	}

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ—©ç‚¹ä¸‹ç­ï¼šåœ¨ Vue3 ä¸­å°‘å†™ 40%+ çš„å¼‚æ­¥ä»£ç ]]></title>    <link>https://juejin.cn/post/7584297353420455936</link>    <guid>https://juejin.cn/post/7584297353420455936</guid>    <pubDate>2025-12-17T02:17:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584297353420455936" data-draft-id="7584286241488961576" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ—©ç‚¹ä¸‹ç­ï¼šåœ¨ Vue3 ä¸­å°‘å†™ 40%+ çš„å¼‚æ­¥ä»£ç "/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-17T02:17:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ‡‚åœ¨æ˜é‡‘"/> <meta itemprop="url" content="https://juejin.cn/user/4485616525391678"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ—©ç‚¹ä¸‹ç­ï¼šåœ¨ Vue3 ä¸­å°‘å†™ 40%+ çš„å¼‚æ­¥ä»£ç 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4485616525391678/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ‡‚åœ¨æ˜é‡‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T02:17:19.000Z" title="Wed Dec 17 2025 02:17:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬æ¯å¤©éƒ½åœ¨å’Œå¼‚æ­¥æ“ä½œæ‰“äº¤é“ â€”â€” å‘èµ· API è¯·æ±‚ã€å¤„ç†è¡¨å•æäº¤ã€ç®¡ç†æ•°æ®åŠ è½½çŠ¶æ€... ä½†ä½ æœ‰æ²¡æœ‰å‘ç°ï¼Œå†™è¿™äº›ä»£ç æ—¶æ€»åœ¨é‡å¤åŒæ ·çš„é€»è¾‘ï¼Ÿ</p>
<p>"å®šä¹‰ loading å˜é‡ã€å®šä¹‰ error å˜é‡ã€è°ƒç”¨å‡½æ•°æ—¶è®¾ loading ä¸º trueã€æˆåŠŸåæ›´æ–°æ•°æ®ã€å¤±è´¥åè®°å½•é”™è¯¯ã€ç»“æŸåè®¾ loading ä¸º falseã€è¿˜è¦å¤„ç†ç«æ€æ¡ä»¶..." è¿™äº›æ ·æ¿ä»£ç å ç”¨äº†å¤§é‡æ—¶é—´ï¼Œå´å‡ ä¹æ²¡æœ‰æŠ€æœ¯å«é‡ã€‚</p>
<p>äºæ˜¯æˆ‘å¼€å‘äº†ã€Œvue-asyncxã€â€”â€” ä¸€ä¸ªä¸“æ³¨äºç®€åŒ– Vue3 å¼‚æ­¥æ“ä½œçš„å·¥å…·åº“ï¼Œè®©ä½ å°‘å†™ 40%+ çš„é‡å¤ä»£ç ï¼Œæ—©ç‚¹ä¸‹ç­é™ªå¥³æœ‹å‹ / æ‰“æ¸¸æˆ / ä¼‘æ¯ğŸ˜ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦ vue-asyncxï¼Ÿ</h2>
<p>å…ˆçœ‹ä¸€ä¸ªå¸¸è§åœºæ™¯ï¼šç”¨ Vue3 çš„ Composition API è·å–ç”¨æˆ·ä¿¡æ¯ã€‚ä¼ ç»Ÿå†™æ³•å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { getUserApi } <span class="hljs-keyword">from</span> <span class="hljs-string">'./api'</span>
<span class="hljs-comment">// 1. å®šä¹‰ä¸€å †çŠ¶æ€å˜é‡</span>
<span class="hljs-keyword">const</span> user = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
<span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> error = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
<span class="hljs-comment">// 2. ç¼–å†™å¼‚æ­¥å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">queryUser</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">userId</span>) =&gt; {
  <span class="hljs-comment">// 3. æ‰‹åŠ¨å¤„ç†çŠ¶æ€æ›´æ–°</span>
  loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
  error.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>
  
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 4. æ‰§è¡Œå¼‚æ­¥æ“ä½œ</span>
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUserApi</span>(userId)
    user.<span class="hljs-property">value</span> = res.<span class="hljs-property">data</span>
    <span class="hljs-keyword">return</span> res.<span class="hljs-property">data</span>
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-comment">// 5. å¤„ç†é”™è¯¯</span>
    error.<span class="hljs-property">value</span> = e
    <span class="hljs-keyword">throw</span> e
  } <span class="hljs-keyword">finally</span> {
    <span class="hljs-comment">// 6. æ¸…ç†çŠ¶æ€</span>
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
  }
}
&lt;/script&gt;
</code></pre>
<p>è¿™æ®µä»£ç é‡Œï¼ŒçœŸæ­£æœ‰ä»·å€¼çš„é€»è¾‘åªæœ‰getUserApi(userId)è¿™ä¸€è¡Œï¼Œå…¶ä½™å…¨æ˜¯é‡å¤çš„çŠ¶æ€ç®¡ç†ä»£ç ã€‚æ›´éº»çƒ¦çš„æ˜¯ï¼š</p>
<ul>
<li>æ¯ä¸ªå¼‚æ­¥æ“ä½œéƒ½è¦å¤åˆ¶è¿™å¥—é€»è¾‘ï¼Œä»£ç é‡çˆ†ç‚¸</li>
<li>å˜é‡å‘½åé£æ ¼ä¸ç»Ÿä¸€ï¼Œå›¢é˜Ÿåä½œæˆæœ¬é«˜</li>
<li>æ‰‹åŠ¨å¤„ç†ç«æ€æ¡ä»¶ï¼ˆå¤šæ¬¡è¯·æ±‚æ—¶æ•°æ®è¦†ç›–é—®é¢˜ï¼‰å®¹æ˜“å‡ºé”™</li>
</ul>
<p>è€Œç”¨ vue-asyncx å®ç°åŒæ ·çš„åŠŸèƒ½ï¼Œåªéœ€è¦ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { useAsyncData } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-asyncx'</span>
<span class="hljs-keyword">import</span> { getUserApi } <span class="hljs-keyword">from</span> <span class="hljs-string">'./api'</span>
<span class="hljs-comment">// ä¸€è¡Œä»£ç æå®šæ‰€æœ‰çŠ¶æ€ç®¡ç†</span>
<span class="hljs-keyword">const</span> { user, queryUser, queryUserLoading, queryUserError } = <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">'user'</span>, getUserApi)
&lt;/script&gt;
</code></pre>
<p>è¿™å°±æ˜¯ vue-asyncx çš„æ ¸å¿ƒä»·å€¼ï¼š<strong>è‡ªåŠ¨å¤„ç†å¼‚æ­¥æ“ä½œçš„æ‰€æœ‰å‘¨è¾¹é€»è¾‘ï¼Œç”¨å‘½åçº¦å®šæå‡åä½œæ•ˆç‡</strong>ã€‚</p>
<blockquote>
<p>è‡ªå®šä¹‰å˜é‡ä¹Ÿæœ‰ç±»å‹æç¤º</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c43ae171aeb4ae5bafc515a21596aaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5oeC5Zyo5o6Y6YeR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542639&amp;x-signature=C0RPOP5QJ%2FTDa047N0hOisSVoAs%3D" alt="image.png" loading="lazy"/></p>
</blockquote>
<h2 data-id="heading-1">æ ¸å¿ƒåŠŸèƒ½ï¼šè®©å¼‚æ­¥æ“ä½œ "å¼€ç®±å³ç”¨"è‡ªåŠ¨å¤„ç†å¼‚æ­¥æ“ä½œçš„æ‰€æœ‰å‘¨è¾¹é€»è¾‘ï¼Œ</h2>
<p>vue-asyncx æä¾›äº†ä¸¤ä¸ªæ ¸å¿ƒ APIï¼Œè¦†ç›– 90%+ çš„å¼‚æ­¥åœºæ™¯ï¼š</p>
<h3 data-id="heading-2">1. useAsyncDataï¼šä¸“æ³¨å¼‚æ­¥æ•°æ®</h3>
<p>å½“ä½ éœ€è¦ä½¿ç”¨å¼‚æ­¥æ•°æ®æ—¶ï¼Œç”¨useAsyncDataã€‚å®ƒä¼šè‡ªåŠ¨ç”Ÿæˆï¼š</p>
<ul>
<li>{name}ï¼šå­˜å‚¨å¼‚æ­¥æ•°æ® Refï¼ˆå¦‚userï¼‰</li>
<li>query{Name}ï¼šè§¦å‘å¼‚æ­¥æ•°æ®è·å–çš„å‡½æ•°ï¼ˆå¦‚queryUserï¼‰</li>
<li>query{Name}Loadingï¼šåŠ è½½çŠ¶æ€ Refï¼ˆå¦‚queryUserLoadingï¼‰</li>
<li>query{Name}Errorï¼šé”™è¯¯ä¿¡æ¯ Refï¼ˆå¦‚queryUserErrorï¼‰</li>
<li>query{Name}Argumentsï¼šæœ€è¿‘ä¸€æ¬¡è°ƒç”¨è¿‡ç¨‹ä¸­çš„ä¼ å‚</li>
<li>{name}Expiredï¼šå½“å‰å¼‚æ­¥æ•°æ®æ˜¯å¦è¿‡æœŸï¼ˆå› åç»­è¯·æ±‚å¤±è´¥å¯¼è‡´ï¼‰</li>
</ul>
<p><strong>åŸºç¡€ç”¨æ³•</strong>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useAsyncData } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-asyncx'</span>
<span class="hljs-keyword">import</span> { getArticleApi } <span class="hljs-keyword">from</span> <span class="hljs-string">'./api'</span>
<span class="hljs-comment">// ç®¡ç†æ–‡ç« æ•°æ®</span>
<span class="hljs-keyword">const</span> { 
  article,         <span class="hljs-comment">// æ–‡ç« æ•°æ® (Ref)</span>
  queryArticle,    <span class="hljs-comment">// è·å–æ–‡ç« çš„å‡½æ•°</span>
  queryArticleLoading, <span class="hljs-comment">// åŠ è½½çŠ¶æ€</span>
  queryArticleError    <span class="hljs-comment">// é”™è¯¯ä¿¡æ¯</span>
} = <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">'article'</span>, getArticleApi)
<span class="hljs-comment">// è°ƒç”¨å‡½æ•°è·å–æ•°æ®</span>
<span class="hljs-title function_">queryArticle</span>(<span class="hljs-number">123</span>) <span class="hljs-comment">// è·å–id=123çš„æ–‡ç« </span>
</code></pre>
<p><strong>å…¶å®ƒç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>åˆå§‹å€¼è®¾ç½®ï¼šuseAsyncData('user', getUserApi, { initialData: { name: 'é»˜è®¤' } })</li>
<li>è‡ªåŠ¨ç›‘å¬ï¼šå½“ä¾èµ–å˜åŒ–æ—¶è‡ªåŠ¨æ‰§è¡Œï¼ˆç±»ä¼¼ watchï¼‰</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> userId = <span class="hljs-title function_">ref</span>(<span class="hljs-number">1</span>)
<span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">'user'</span>, getUserApi, { 
  <span class="hljs-attr">watch</span>: userId, <span class="hljs-comment">// userIdå˜åŒ–æ—¶è‡ªåŠ¨è°ƒç”¨queryUser(userId.value)</span>
  <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// åˆå§‹æ—¶ç«‹å³æ‰§è¡Œ</span>
})
</code></pre>
<ul>
<li>è¿‡ç¨‹ä¸­æ›´æ–°æ•°æ®ï¼šæ”¯æŒåœ¨å¼‚æ­¥å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰‹åŠ¨æ›´æ–°ç»“æœ</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> { progress, queryProgress } = <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">'progress'</span>, <span class="hljs-keyword">async</span> (init = <span class="hljs-number">0</span>) =&gt; {
  <span class="hljs-keyword">const</span> { updateData } = <span class="hljs-title function_">getAsyncDataContext</span>() <span class="hljs-comment">// è·å–ä¸Šä¸‹æ–‡</span>
  <span class="hljs-title function_">updateData</span>(init) <span class="hljs-comment">// ç«‹å³æ›´æ–°ä¸ºåˆå§‹å€¼</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">wait</span>(<span class="hljs-number">100</span>)
  <span class="hljs-title function_">updateData</span>(<span class="hljs-number">50</span>) <span class="hljs-comment">// ä¸­é€”æ›´æ–°ä¸º50%</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">wait</span>(<span class="hljs-number">100</span>)
  <span class="hljs-keyword">return</span> <span class="hljs-number">100</span> <span class="hljs-comment">// æœ€ç»ˆç»“æœ</span>
})
</code></pre>
<h3 data-id="heading-3">2. useAsyncï¼šä¸“æ³¨å¼‚æ­¥å‡½æ•°</h3>
<p>å½“ä½ åªéœ€è¦ä½¿ç”¨å¼‚æ­¥å‡½æ•°ï¼ˆä¸éœ€è¦é•¿ä¹…ä¿æŒç»“æœï¼‰ï¼Œæ¯”å¦‚è¡¨å•æäº¤ã€æ•°æ®åˆ é™¤ç­‰æ“ä½œåœºæ™¯ï¼Œç”¨useAsyncã€‚å®ƒä¼šç”Ÿæˆï¼š</p>
<ul>
<li>{name}ï¼šåŒ…è£…åçš„å¼‚æ­¥å‡½æ•°ï¼ˆå¦‚submitï¼‰</li>
<li>{name}Loadingï¼šåŠ è½½çŠ¶æ€ Refï¼ˆå¦‚submitLoadingï¼‰</li>
<li>{name}Errorï¼šé”™è¯¯ä¿¡æ¯ Refï¼ˆå¦‚submitErrorï¼‰</li>
<li>{name}Argumentsï¼šæœ€è¿‘ä¸€æ¬¡è°ƒç”¨è¿‡ç¨‹ä¸­çš„ä¼ å‚</li>
</ul>
<p><strong>è¡¨å•æäº¤ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { useAsync } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-asyncx'</span>
<span class="hljs-keyword">import</span> { submitFormApi } <span class="hljs-keyword">from</span> <span class="hljs-string">'./api'</span>
<span class="hljs-comment">// ç®¡ç†æäº¤æ“ä½œ</span>
<span class="hljs-keyword">const</span> { 
  submit,       <span class="hljs-comment">// æäº¤å‡½æ•°</span>
  submitLoading, <span class="hljs-comment">// æäº¤çŠ¶æ€</span>
  submitError    <span class="hljs-comment">// æäº¤é”™è¯¯</span>
} = <span class="hljs-title function_">useAsync</span>(<span class="hljs-string">'submit'</span>, submitFormApi)
&lt;/script&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">form</span> @<span class="hljs-attr">submit.prevent</span>=<span class="hljs-string">"submit(formData)"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"submitLoading"</span>&gt;</span>
      {{ submitLoading ? 'æäº¤ä¸­...' : 'æäº¤' }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"submitError"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"error"</span>&gt;</span>
      {{ submitError.message }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-4">3. è‡ªåŠ¨å¤„ç†ç«æ€æ¡ä»¶</h3>
<p>å½“ä¸€ä¸ªå¼‚æ­¥å‡½æ•°è¢«å¿«é€Ÿè¿ç»­è°ƒç”¨ï¼ˆæ¯”å¦‚ç”¨æˆ·å¿«é€Ÿç‚¹å‡»æŒ‰é’®ï¼‰ï¼Œå¯èƒ½å‡ºç° "åå‘è¯·æ±‚å…ˆè¿”å›ï¼Œå…ˆå‘è¯·æ±‚åè¦†ç›–" çš„ç«æ€é—®é¢˜ï¼Œå¯¼è‡´æ•°æ®æ··ä¹±ã€‚</p>
<p>vue-asyncx å†…ç½®äº†ç«æ€å¤„ç†æœºåˆ¶ï¼Œé€šè¿‡è°ƒç”¨è¿½è¸ªï¼Œç¡®ä¿<strong>åªæœ‰æœ€åä¸€æ¬¡è°ƒç”¨çš„ç»“æœä¼šæ›´æ–°çŠ¶æ€</strong>ï¼Œå‰é¢çš„è¯·æ±‚ç»“æœä¼šè¢«è‡ªåŠ¨å¿½ç•¥ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æ¨¡æ‹Ÿä¸€ä¸ªå»¶è¿Ÿè¿”å›çš„API</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchData</span> = (<span class="hljs-params">id</span>) =&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> 
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(id), <span class="hljs-number">1000</span>)
)
<span class="hljs-keyword">const</span> { data, queryData } = <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">'data'</span>, fetchData)
<span class="hljs-comment">// å¿«é€Ÿè¿ç»­è°ƒç”¨</span>
<span class="hljs-title function_">queryData</span>(<span class="hljs-number">1</span>)
<span class="hljs-title function_">queryData</span>(<span class="hljs-number">2</span>) <span class="hljs-comment">// æœ€åä¸€æ¬¡è°ƒç”¨ï¼Œç»“æœä¼šæ˜¯2</span>
<span class="hljs-comment">// 1ç§’åï¼Œdata.value ä¼šæ˜¯2ï¼ˆè€Œä¸æ˜¯1ï¼‰ï¼Œè‡ªåŠ¨å¿½ç•¥äº†ç¬¬ä¸€æ¬¡è°ƒç”¨çš„ç»“æœ</span>
</code></pre>
<h2 data-id="heading-5">å®æˆ˜åœºæ™¯ï¼šä»£ç é‡å¯¹æ¯”</h2>
<p>æˆ‘ä»¬ç”¨ "ç”¨æˆ·åˆ—è¡¨ + è¯¦æƒ…" çš„ç»å…¸åœºæ™¯ï¼Œçœ‹çœ‹ vue-asyncx èƒ½çœå¤šå°‘ä»£ç ã€‚</p>
<h3 data-id="heading-6">ä¼ ç»Ÿå®ç°ï¼ˆçº¦ 50 è¡Œï¼‰</h3>
<pre><code class="hljs language-ts" lang="ts">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { ref, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { getUsersApi, getUserDetailApi } <span class="hljs-keyword">from</span> <span class="hljs-string">'./api'</span>
<span class="hljs-comment">// åˆ—è¡¨ç›¸å…³çŠ¶æ€</span>
<span class="hljs-keyword">const</span> users = <span class="hljs-title function_">ref</span>([])
<span class="hljs-keyword">const</span> getUsersLoading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> getUsersError = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
<span class="hljs-comment">// è¯¦æƒ…ç›¸å…³çŠ¶æ€</span>
<span class="hljs-keyword">const</span> userDetail = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
<span class="hljs-keyword">const</span> getUserDetailLoading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> getUserDetailError = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
<span class="hljs-keyword">const</span> currentUserId = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
<span class="hljs-comment">// è·å–åˆ—è¡¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getUsers</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  getUsersLoading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
  getUsersError.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUsersApi</span>()
    users.<span class="hljs-property">value</span> = res.<span class="hljs-property">data</span>
    <span class="hljs-keyword">return</span> res.<span class="hljs-property">data</span>
  } <span class="hljs-keyword">catch</span> (e) {
    getUsersError.<span class="hljs-property">value</span> = e
    <span class="hljs-keyword">throw</span> e
  } <span class="hljs-keyword">finally</span> {
    getUsersLoading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
  }
}
<span class="hljs-comment">// è·å–è¯¦æƒ…</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getUserDetail</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">userId</span>) =&gt; {
  getUserDetailLoading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
  getUserDetailError.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUserDetailApi</span>(userId)
    userDetail.<span class="hljs-property">value</span> = res.<span class="hljs-property">data</span>
    <span class="hljs-keyword">return</span> res.<span class="hljs-property">data</span>
  } <span class="hljs-keyword">catch</span> (e) {
    getUserDetailError.<span class="hljs-property">value</span> = e
    <span class="hljs-keyword">throw</span> e
  } <span class="hljs-keyword">finally</span> {
    getUserDetailLoading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
  }
}
<span class="hljs-comment">// ç›‘å¬ç”¨æˆ·IDå˜åŒ–ï¼Œè‡ªåŠ¨åŠ è½½è¯¦æƒ…</span>
<span class="hljs-title function_">watch</span>(currentUserId, <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (id) <span class="hljs-title function_">getUserDetail</span>(id)
})
<span class="hljs-comment">// åˆå§‹åŠ è½½åˆ—è¡¨</span>
<span class="hljs-title function_">getUsers</span>()
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-7">vue-asyncx å®ç°ï¼ˆçº¦ 20 è¡Œï¼‰</h3>
<pre><code class="hljs language-ts" lang="ts">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { useAsyncData } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-asyncx'</span>
<span class="hljs-keyword">import</span> { getUsersApi, getUserDetailApi } <span class="hljs-keyword">from</span> <span class="hljs-string">'./api'</span>
<span class="hljs-comment">// åˆ—è¡¨ç®¡ç†ï¼ˆè‡ªåŠ¨ç”ŸæˆgetUsersã€usersç­‰ï¼‰</span>
<span class="hljs-keyword">const</span> { 
  users, 
  getUsers, 
  getUsersLoading, 
  getUsersError 
} = <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">'users'</span>, getUsersApi, { <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span> })
<span class="hljs-comment">// è¯¦æƒ…ç®¡ç†ï¼ˆè‡ªåŠ¨ç›‘å¬currentUserIdå˜åŒ–ï¼‰</span>
<span class="hljs-keyword">const</span> currentUserId = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
<span class="hljs-keyword">const</span> { 
  userDetail, 
  getUserDetail, 
  getUserDetailLoading, 
  getUserDetailError 
} = <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">'userDetail'</span>, getUserDetailApi, { 
  <span class="hljs-attr">watch</span>: currentUserId, <span class="hljs-comment">// è‡ªåŠ¨ç›‘å¬</span>
})
&lt;/script&gt;
</code></pre>
<p><strong>ä»£ç é‡å‡å°‘60%</strong> ï¼Œè€Œä¸”é€»è¾‘æ›´æ¸…æ™° â€”â€” æ‰€æœ‰çŠ¶æ€éƒ½å’Œå¯¹åº”çš„å¼‚æ­¥æ“ä½œå¼ºå…³è”ï¼Œä¸ç”¨åœ¨å¤šä¸ª ref ä¹‹é—´è·³æ¥è·³å»ã€‚</p>
<h2 data-id="heading-8">ä¸ºä»€ä¹ˆé€‰æ‹© vue-asyncxï¼Ÿ</h2>
<ol>
<li><strong>æ›´å°‘çš„ä»£ç </strong>ï¼šå¹³å‡å‡å°‘ 40%+ çš„å¼‚æ­¥ç›¸å…³ä»£ç ï¼Œä¸“æ³¨ä¸šåŠ¡é€»è¾‘</li>
<li><strong>æ›´å¼ºçš„å¯è¯»æ€§</strong>ï¼šç»Ÿä¸€çš„å‘½åçº¦å®šï¼ˆå¦‚queryXxxã€xxxLoadingï¼‰è®©ä»£ç è‡ªæ–‡æ¡£åŒ–</li>
<li><strong>é›¶æˆæœ¬ç»´æŠ¤</strong>ï¼šè‡ªåŠ¨å¤„ç†çŠ¶æ€æ›´æ–°ã€ç«æ€æ¡ä»¶ï¼Œå‡å°‘ bug</li>
<li><strong>å®Œæ•´çš„ TypeScript æ”¯æŒ</strong>ï¼šæ‰€æœ‰ API éƒ½æœ‰ç²¾ç¡®çš„ç±»å‹å®šä¹‰ï¼ŒIDE è‡ªåŠ¨æç¤º</li>
<li><strong>è½»é‡æ— ä¾èµ–</strong>ï¼šä»…ä¾èµ– Vue3ï¼Œä½“ç§¯æå°ï¼ˆgzip å ~2KBï¼‰</li>
<li><strong>100% æµ‹è¯•è¦†ç›–</strong>ï¼š200+ æµ‹è¯•ç”¨ä¾‹ç¡®ä¿ç¨³å®šæ€§</li>
</ol>
<h2 data-id="heading-9">å¦‚ä½•å¼€å§‹ä½¿ç”¨ï¼Ÿ</h2>
<ol>
<li>å®‰è£…ä¾èµ–ï¼š</li>
</ol>
<pre><code class="hljs language-sh" lang="sh">pnpm i vue-asyncx
<span class="hljs-comment"># æˆ– npm i vue-asyncx</span>
<span class="hljs-comment"># æˆ– yarn add vue-asyncx</span>
</code></pre>
<ol start="2">
<li>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</li>
</ol>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useAsync, useAsyncData } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-asyncx'</span>
</code></pre>
<p>è¯¦ç»†æ–‡æ¡£å’Œæ›´å¤šç¤ºä¾‹è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxuyimingwork%2Fvue-asyncx" target="_blank" title="https://github.com/xuyimingwork/vue-asyncx" ref="nofollow noopener noreferrer">GitHub ä»“åº“</a></p>
<h2 data-id="heading-10">ç¤¾åŒºè´¡çŒ®ï¼šä¸€èµ·è®©å®ƒæ›´å¥½</h2>
<p>vue-asyncx è¿˜åœ¨ä¸æ–­è¿›åŒ–ï¼Œå¦‚æœä½ æœ‰ä»»ä½•æƒ³æ³•æˆ–éœ€æ±‚ï¼Œæ¬¢è¿å‚ä¸è´¡çŒ®ï¼š</p>
<ul>
<li>æ Issueï¼šæŠ¥å‘Š bug æˆ–å»ºè®®æ–°åŠŸèƒ½</li>
<li>å‘ PRï¼šä¿®å¤ bug æˆ–å®ç°æ–°åŠŸèƒ½ï¼ˆæ¬¢è¿æ–°æ‰‹å‚ä¸ï¼‰</li>
<li>åˆ†äº«ä½“éªŒï¼šåœ¨åšå®¢æˆ–ç¤¾äº¤å¹³å°åˆ†äº«ä½ çš„ä½¿ç”¨å¿ƒå¾—</li>
</ul>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxuyimingwork%2Fvue-asyncx" target="_blank" title="https://github.com/xuyimingwork/vue-asyncx" ref="nofollow noopener noreferrer">github.com/xuyimingworâ€¦</a></p>
<h2 data-id="heading-11">æœ€å</h2>
<p>å¼€å‘ vue-asyncx çš„åˆè¡·ï¼Œå°±æ˜¯æƒ³è®©è‡ªå·±å’Œæ›´å¤šå¼€å‘è€…ä»é‡å¤çš„å¼‚æ­¥çŠ¶æ€ç®¡ç†ä¸­è§£æ”¾å‡ºæ¥ â€”â€” æ¯•ç«Ÿï¼Œå¥½çš„å·¥å…·åº”è¯¥è®©ä½ æ„Ÿè§‰ä¸åˆ°å®ƒçš„å­˜åœ¨ï¼Œå´èƒ½æ‚„æ‚„å¸®ä½ æå®šçäº‹ã€‚</p>
<p>å¸Œæœ› vue-asyncx èƒ½è®©ä½ å°‘åŠ ç­ã€å¤šé™ªå®¶äººã€å¤šæ‰“æ¸¸æˆï¼Œæ—©ç‚¹ä¸‹ç­ğŸ˜Šã€‚</p>
<p>å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œæ¬¢è¿ç»™ä¸ª Star æ”¯æŒä¸€ä¸‹ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£é” JavaScript å¯¹è±¡çš„â€œé­”æ³•å®ç®±â€ï¼šè¿™äº›æ–¹æ³•è®©ä½ ç©è½¬å¯¹è±¡æ“ä½œ]]></title>    <link>https://juejin.cn/post/7584365584746414107</link>    <guid>https://juejin.cn/post/7584365584746414107</guid>    <pubDate>2025-12-17T01:58:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584365584746414107" data-draft-id="7584362317002227739" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£é” JavaScript å¯¹è±¡çš„â€œé­”æ³•å®ç®±â€ï¼šè¿™äº›æ–¹æ³•è®©ä½ ç©è½¬å¯¹è±¡æ“ä½œ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-17T01:58:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JS_Likers"/> <meta itemprop="url" content="https://juejin.cn/user/1377017277975032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£é” JavaScript å¯¹è±¡çš„â€œé­”æ³•å®ç®±â€ï¼šè¿™äº›æ–¹æ³•è®©ä½ ç©è½¬å¯¹è±¡æ“ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1377017277975032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JS_Likers
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T01:58:40.000Z" title="Wed Dec 17 2025 01:58:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¬¢è¿ä½¿ç”¨æˆ‘çš„å°ç¨‹åºğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d25c4001b1b4e6e902dc1f8863bcef2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSlNfTGlrZXJz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766541520&amp;x-signature=%2FPSEqqaddsUeoTsjmdujgTcPrdQ%3D" alt="small.png" loading="lazy"/></p>
<hr/>
<p>å¤§å®¶å¥½ï¼ä»Šå¤©æˆ‘è¦å¸¦å¤§å®¶æ¢ç´¢ JavaScript ä¸­é‚£äº›è®©å¯¹è±¡æ“ä½œå˜å¾—è½»æ¾æœ‰è¶£çš„æ–¹æ³•ã€‚å¦‚æœä½ æ›¾ç»è§‰å¾— JavaScript å¯¹è±¡åƒä¸ªç¥ç§˜çš„é»‘ç›’å­ï¼Œé‚£ä¹ˆå‡†å¤‡å¥½ï¼Œæˆ‘è¦ç»™ä½ ä¸€æŠŠä¸‡èƒ½é’¥åŒ™ï¼</p>
<h2 data-id="heading-0">å¯¹è±¡ï¼šä½ çš„â€œæ•°å­—å‚¨ç‰©æŸœâ€</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼ŒJavaScript å¯¹è±¡å°±åƒä¸€ä¸ªæ™ºèƒ½å‚¨ç‰©æŸœï¼Œæ¯ä¸ªéš”é—´éƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„æ ‡ç­¾ï¼ˆé”®ï¼‰å’Œå­˜æ”¾çš„ä¸œè¥¿ï¼ˆå€¼ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> myLocker = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"å°æ˜"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>,
  <span class="hljs-attr">hobbies</span>: [<span class="hljs-string">"ç¼–ç¨‹"</span>, <span class="hljs-string">"æ¸¸æˆ"</span>, <span class="hljs-string">"çˆ¬å±±"</span>],
  <span class="hljs-attr">isStudent</span>: <span class="hljs-literal">false</span>
};
</code></pre>
<h2 data-id="heading-1">ğŸ”‘ åŸºç¡€é’¥åŒ™ï¼šObject.keys()</h2>
<p>æƒ³è¦çŸ¥é“å‚¨ç‰©æŸœé‡Œæœ‰å“ªäº›éš”é—´ï¼Ÿç”¨<code>Object.keys()</code>å°±èƒ½ä¸€ç›®äº†ç„¶ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> lockerContents = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(myLocker);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(lockerContents); 
<span class="hljs-comment">// è¾“å‡ºï¼š["name", "age", "hobbies", "isStudent"]</span>
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯</strong>ï¼šæ£€æŸ¥ç”¨æˆ·è¡¨å•æ˜¯å¦å¡«å†™å®Œæ•´</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> userForm = { <span class="hljs-attr">username</span>: <span class="hljs-string">"coder123"</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">""</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> };
<span class="hljs-keyword">const</span> emptyFields = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(userForm).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> !userForm[key]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è¯·å¡«å†™ï¼š"</span>, emptyFields); <span class="hljs-comment">// è¾“å‡ºï¼š["email"]</span>
</code></pre>
<h2 data-id="heading-2">ğŸ’ å®è—æ¸…å•ï¼šObject.values()</h2>
<p>åªå…³å¿ƒå‚¨ç‰©æŸœé‡Œæœ‰ä»€ä¹ˆå®è´ï¼Œä¸å…³å¿ƒæ ‡ç­¾ï¼Ÿ<code>Object.values()</code>æ¥å¸®ä½ ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> lockerTreasures = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(myLocker);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(lockerTreasures);
<span class="hljs-comment">// è¾“å‡ºï¼š["å°æ˜", 25, ["ç¼–ç¨‹", "æ¸¸æˆ", "çˆ¬å±±"], false]</span>
</code></pre>
<p><strong>æœ‰è¶£ç”¨æ³•</strong>ï¼šå¿«é€Ÿè®¡ç®—è´­ç‰©è½¦æ€»ä»·</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> cart = { <span class="hljs-attr">apple</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">banana</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">orange</span>: <span class="hljs-number">8</span> };
<span class="hljs-keyword">const</span> total = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(cart).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, price</span>) =&gt;</span> sum + price, <span class="hljs-number">0</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ€»ä»·ï¼š<span class="hljs-subst">${total}</span>å…ƒ`</span>); <span class="hljs-comment">// è¾“å‡ºï¼šæ€»ä»·ï¼š16å…ƒ</span>
</code></pre>
<h2 data-id="heading-3">ğŸ« é…å¯¹æ¸¸æˆï¼šObject.entries()</h2>
<p>æƒ³è¦åŒæ—¶çœ‹åˆ°æ ‡ç­¾å’Œå†…å®¹ï¼Ÿ<code>Object.entries()</code>ç»™ä½ å®Œç¾çš„é…å¯¹ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> lockerPairs = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(myLocker);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(lockerPairs);
<span class="hljs-comment">/* è¾“å‡ºï¼š
[
  ["name", "å°æ˜"],
  ["age", 25],
  ["hobbies", ["ç¼–ç¨‹", "æ¸¸æˆ", "çˆ¬å±±"]],
  ["isStudent", false]
]
*/</span>
</code></pre>
<p><strong>å®ç”¨æŠ€å·§</strong>ï¼šè½»æ¾å°†å¯¹è±¡è½¬æ¢æˆæŸ¥è¯¢å­—ç¬¦ä¸²</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> filters = { <span class="hljs-attr">category</span>: <span class="hljs-string">"ç”µå­äº§å“"</span>, <span class="hljs-attr">price</span>: <span class="hljs-string">"1000-5000"</span>, <span class="hljs-attr">brand</span>: <span class="hljs-string">"å°ç±³"</span> };
<span class="hljs-keyword">const</span> queryString = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(filters)
  .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${key}</span>=<span class="hljs-subst">${value}</span>`</span>)
  .<span class="hljs-title function_">join</span>(<span class="hljs-string">"&amp;"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(queryString); 
<span class="hljs-comment">// è¾“å‡ºï¼šcategory=ç”µå­äº§å“&amp;price=1000-5000&amp;brand=å°ç±³</span>
</code></pre>
<h2 data-id="heading-4">ğŸ¯ æŸ¥æ‰¾ç›®æ ‡ï¼šObject.hasOwnProperty()</h2>
<p>ä¸ç¡®å®šå‚¨ç‰©æŸœæ˜¯å¦æœ‰æŸä¸ªéš”é—´ï¼Ÿç”¨è¿™ä¸ªæ–¹æ³•æ£€æŸ¥ä¸€ä¸‹ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myLocker.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">"name"</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myLocker.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">"address"</span>)); <span class="hljs-comment">// false</span>
</code></pre>
<h2 data-id="heading-5">ğŸ§™â€â™‚ï¸ å¯¹è±¡å…‹éš†æœ¯</h2>
<h3 data-id="heading-6">æ–¹æ³•ä¸€ï¼šObject.assign() - å¤åˆ¶ç²˜è´´å°èƒ½æ‰‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> original = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> };
<span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, original);
copy.<span class="hljs-property">a</span> = <span class="hljs-number">99</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(original.<span class="hljs-property">a</span>); <span class="hljs-comment">// ä»ç„¶æ˜¯1ï¼Œå®Œç¾å…‹éš†ï¼</span>
</code></pre>
<h3 data-id="heading-7">æ–¹æ³•äºŒï¼šå±•å¼€æ“ä½œç¬¦ - æ›´ç°ä»£çš„å†™æ³•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> original = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> };
<span class="hljs-keyword">const</span> copy = { ...original, <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> }; <span class="hljs-comment">// è¿˜èƒ½é¡ºä¾¿æ·»åŠ æ–°å±æ€§ï¼</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(copy); <span class="hljs-comment">// { a: 1, b: 2, c: 3 }</span>
</code></pre>
<h2 data-id="heading-8">ğŸš€ é«˜çº§æŠ€å·§ï¼šç»„åˆä½¿ç”¨</h2>
<p>è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›æ–¹æ³•å¦‚ä½•ååŒå·¥ä½œï¼Œè§£å†³å®é™…é—®é¢˜ï¼š</p>
<p><strong>åœºæ™¯</strong>ï¼šç»Ÿè®¡æ–‡ç« æ ‡ç­¾å‡ºç°é¢‘ç‡</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> articles = [
  { <span class="hljs-attr">title</span>: <span class="hljs-string">"JSå…¥é—¨"</span>, <span class="hljs-attr">tags</span>: [<span class="hljs-string">"ç¼–ç¨‹"</span>, <span class="hljs-string">"JavaScript"</span>] },
  { <span class="hljs-attr">title</span>: <span class="hljs-string">"CSSæŠ€å·§"</span>, <span class="hljs-attr">tags</span>: [<span class="hljs-string">"ç¼–ç¨‹"</span>, <span class="hljs-string">"CSS"</span>] },
  { <span class="hljs-attr">title</span>: <span class="hljs-string">"Reactå®æˆ˜"</span>, <span class="hljs-attr">tags</span>: [<span class="hljs-string">"ç¼–ç¨‹"</span>, <span class="hljs-string">"JavaScript"</span>, <span class="hljs-string">"React"</span>] }
];

<span class="hljs-comment">// ä¸€è¡Œä»£ç ç»Ÿè®¡æ‰€æœ‰æ ‡ç­¾é¢‘ç‡ï¼</span>
<span class="hljs-keyword">const</span> tagFrequency = articles
  .<span class="hljs-title function_">flatMap</span>(<span class="hljs-function"><span class="hljs-params">article</span> =&gt;</span> article.<span class="hljs-property">tags</span>)
  .<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, tag</span>) =&gt;</span> {
    acc[tag] = (acc[tag] || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">return</span> acc;
  }, {});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tagFrequency);
<span class="hljs-comment">// è¾“å‡ºï¼š{ ç¼–ç¨‹: 3, JavaScript: 2, CSS: 1, React: 1 }</span>
</code></pre>
<h2 data-id="heading-9">ğŸ® è¶£å‘³æŒ‘æˆ˜ï¼šè‡ªå·±åŠ¨æ‰‹è¯•è¯•ï¼</h2>
<p>è¯•è¯•è¿™ä¸ªè¿·ä½ æŒ‘æˆ˜ï¼Œå·©å›ºä½ ä»Šå¤©å­¦åˆ°çš„çŸ¥è¯†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŒ‘æˆ˜ï¼šæ‰¾å‡ºä¸¤ä¸ªå¯¹è±¡çš„å·®å¼‚</span>
<span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> };
<span class="hljs-keyword">const</span> obj2 = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">d</span>: <span class="hljs-number">4</span> };

<span class="hljs-comment">// ä½ çš„ä»£ç å†™åœ¨è¿™é‡Œ...</span>
<span class="hljs-comment">// æç¤ºï¼šä½¿ç”¨ Object.keys() å’Œ filter()</span>

<span class="hljs-comment">// ç­”æ¡ˆï¼š</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">findDifferences</span> = (<span class="hljs-params">objA, objB</span>) =&gt; {
  <span class="hljs-keyword">const</span> allKeys = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(objA), ...<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(objB)]);
  <span class="hljs-keyword">const</span> differences = {};
  
  allKeys.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (objA[key] !== objB[key]) {
      differences[key] = { <span class="hljs-attr">obj1</span>: objA[key], <span class="hljs-attr">obj2</span>: objB[key] };
    }
  });
  
  <span class="hljs-keyword">return</span> differences;
};

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">findDifferences</span>(obj1, obj2));
<span class="hljs-comment">// è¾“å‡ºï¼š{ b: { obj1: 2, obj2: 5 }, c: { obj1: 3, obj2: undefined }, d: { obj1: undefined, obj2: 4 } }</span>
</code></pre>
<h2 data-id="heading-10">ğŸ’¡ å°è´´å£«</h2>
<ol>
<li>
<p><strong>æ·±æ‹·è´ vs æµ…æ‹·è´</strong>ï¼šä¸Šé¢çš„å…‹éš†æ–¹æ³•éƒ½æ˜¯æµ…æ‹·è´ï¼Œå¯¹äºåµŒå¥—å¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨é€’å½’æˆ–<code>JSON.parse(JSON.stringify(obj))</code>ï¼ˆæœ‰å±€é™æ€§ï¼‰</p>
</li>
<li>
<p><strong>ç°ä»£JavaScript</strong>ï¼šES6+ æä¾›äº†æ›´å¤šä¾¿åˆ©ï¼Œå¦‚å¯é€‰é“¾æ“ä½œç¬¦<code>?.</code>å’Œç©ºå€¼åˆå¹¶æ“ä½œç¬¦<code>??</code></p>
</li>
<li>
<p><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šå¯¹äºå¤§å‹å¯¹è±¡ï¼ŒæŸäº›æ“ä½œå¯èƒ½å½±å“æ€§èƒ½ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­è¦æ³¨æ„</p>
</li>
</ol>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>JavaScriptçš„å¯¹è±¡æ–¹æ³•å°±åƒæ˜¯ç»™ä½ çš„ä»£ç å·¥å…·ç®±æ·»åŠ äº†ä¸€ç³»åˆ—ç‘å£«å†›åˆ€ã€‚æŒæ¡è¿™äº›æ–¹æ³•ä¸ä»…èƒ½è®©ä½ å†™å‡ºæ›´ç®€æ´çš„ä»£ç ï¼Œè¿˜èƒ½è§£å†³è®¸å¤šå®é™…å¼€å‘ä¸­çš„éš¾é¢˜ã€‚</p>
<p>è®°ä½ï¼Œç¼–ç¨‹å°±åƒé­”æ³•â€”â€”ä½ æŒæ¡çš„â€œå’’è¯­â€ï¼ˆæ–¹æ³•ï¼‰è¶Šå¤šï¼Œèƒ½åˆ›é€ çš„å¥‡è¿¹å°±è¶Šå¤§ï¼âœ¨</p>
<p><strong>ä»Šæ—¥æ”¶è·</strong>ï¼šå°è¯•åœ¨ä½ å½“å‰çš„é¡¹ç›®ä¸­ï¼Œç”¨è‡³å°‘ä¸€ç§ä»Šå¤©å­¦åˆ°çš„æ–¹æ³•é‡æ„ä¸€æ®µä»£ç ï¼Œçœ‹çœ‹èƒ½å¦è®©å®ƒå˜å¾—æ›´ç®€æ´ï¼</p>
<hr/>
<p><em>ä¸‹æ¬¡é¢„å‘Šï¼šæˆ‘ä»¬å°†æ¢ç´¢æ•°ç»„çš„é‚£äº›ç¥å¥‡æ–¹æ³•ï¼Œè®©ä½ çš„æ•°æ®å¤„ç†èƒ½åŠ›æ›´ä¸Šä¸€å±‚æ¥¼ï¼</em></p>
<p>å¸Œæœ›è¿™ç¯‡åšå®¢å¯¹ä½ æœ‰å¸®åŠ©ï¼å¦‚æœæœ‰ä»»ä½•é—®é¢˜æˆ–æƒ³åˆ†äº«ä½ çš„å¯¹è±¡æ“ä½œæŠ€å·§ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼ ğŸ‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¸©è¿‡å‘æ‰æ‡‚ï¼šå‰ç«¯ç”Ÿæˆå”¯ä¸€ IDï¼Œåˆ«ç”¨ Date.now ()äº†ï¼ä¸€è¡Œä»£ç æå®š]]></title>    <link>https://juejin.cn/post/7584358227611107370</link>    <guid>https://juejin.cn/post/7584358227611107370</guid>    <pubDate>2025-12-17T02:20:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584358227611107370" data-draft-id="7584356212801159209" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¸©è¿‡å‘æ‰æ‡‚ï¼šå‰ç«¯ç”Ÿæˆå”¯ä¸€ IDï¼Œåˆ«ç”¨ Date.now ()äº†ï¼ä¸€è¡Œä»£ç æå®š"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-17T02:20:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°½æ¬¢i"/> <meta itemprop="url" content="https://juejin.cn/user/2641474067375560"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¸©è¿‡å‘æ‰æ‡‚ï¼šå‰ç«¯ç”Ÿæˆå”¯ä¸€ IDï¼Œåˆ«ç”¨ Date.now ()äº†ï¼ä¸€è¡Œä»£ç æå®š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641474067375560/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°½æ¬¢i
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T02:20:32.000Z" title="Wed Dec 17 2025 02:20:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:18px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:40px;margin-bottom:20px;color:#007fff;display:flex;align-items:center}.markdown-body h1:hover:before,.markdown-body h2:hover:before,.markdown-body h3:hover:before,.markdown-body h4:hover:before,.markdown-body h5:hover:before,.markdown-body h6:hover:before{transition:All .4s ease-in-out;transform:rotate(1turn)}.markdown-body h1{font-size:30px;background:linear-gradient(#fff 60%,#c6e3ff 0)}.markdown-body h1:before{content:"";display:inline-block;width:32px;height:32px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h2{font-size:24px;background:linear-gradient(#fff 60%,#cce3fb 0)}.markdown-body h2:before{content:"";display:inline-block;width:24px;height:24px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h3{font-size:20px}.markdown-body h3:before{content:"";display:inline-block;width:18px;height:18px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h4{font-size:18px}.markdown-body h4:before{content:"";display:inline-block;width:16px;height:16px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h5{font-size:16px}.markdown-body h5:before{content:"";display:inline-block;width:15px;height:15px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h6{font-size:14px}.markdown-body h6:before{content:"";display:inline-block;width:12px;height:12px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{border-bottom:2px solid #007fff;color:#007fff;padding-right:10px}.markdown-body p{letter-spacing:1px;line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:10px auto}.markdown-body hr{border:none;border-top:1px dashed #92c8ff}.markdown-body hr:before{content:"âœ‚";display:inline-block;position:relative;top:-12px;left:40px;padding:0 3px;color:#007fff;font-size:18px}.markdown-body hr:after{content:"æŒ‰è™šçº¿å‰ªå¼€";position:relative;top:-15px;left:84%;padding:0 3px;color:#007fff;font-size:12px}.markdown-body del{color:#f44}.markdown-body em{color:#007fff;margin:0 2px}.markdown-body strong{color:#007fff;font-weight:bolder}.markdown-body code{word-break:break-word;border-radius:4px;overflow-x:auto;background-color:#e6f3ff;color:#007fff;font-weight:600;font-size:16px;padding:.065em .4em;border:1px solid #007fff}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:5px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:18px;font-weight:400;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8;border:none}.markdown-body a{text-decoration:none;color:#007fff;border-bottom:1px solid #007fff}.markdown-body a:before{content:"Â¶";margin-right:5px;font-size:22px}.markdown-body a:after{content:"â†·";margin-left:2px;font-size:22px;display:none}.markdown-body a:active,.markdown-body a:hover{color:#275b8c;border-bottom:1px solid #275b8c}.markdown-body a:active:after,.markdown-body a:hover:after{display:inline-block}.markdown-body table{display:inline-block!important;font-size:16px;width:auto;max-width:100%;overflow:auto;border:1px solid #a5d3ff}.markdown-body thead{background:#c6e3ff;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#eef7ff}.markdown-body tbody&gt;tr:nth-child(odd){background-color:#f8fcff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #007fff;background-color:#eef7ff}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#007fff}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="srcery">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1b19;color:#fce8c3}.hljs-emphasis,.hljs-strong{color:#918175}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#ff5c8f}.hljs-code,.hljs-selector-class{color:#68a8e4}.hljs-emphasis{font-style:italic}.hljs-attribute,.hljs-keyword,.hljs-section,.hljs-selector-tag,.hljs-variable{color:#ef2f27}.hljs-name,.hljs-title{color:#fbb829}.hljs-params,.hljs-type{color:#0aaeb3}.hljs-string{color:#98bc37}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-subst,.hljs-symbol,.hljs-template-tag,.hljs-template-variable{color:#c07abe}.hljs-comment,.hljs-deletion,.hljs-meta{color:#918175}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åšè¿‡ç”µå•† PC ç«¯å¼€å‘çš„å…„å¼Ÿä¼°è®¡éƒ½æ‡‚ï¼šç»å¸¸å¾—å¼„ä¸ªã€Œç»ä¸ä¼šè·Ÿåˆ«çš„é‡æ ·çš„ç¼–å·ï¼ˆIDï¼‰ã€â€”â€” æ¯”å¦‚ç»™å¼¹çª—ã€ä¸´æ—¶åŠ çš„å•†å“æ¡ç›®ã€é¡µé¢é‡ŒåŠ¨æ€è¹¦å‡ºæ¥çš„å…ƒç´ åšæ ‡è¯†ï¼Œå…å¾—ä»£ç æŠŠä¸œè¥¿ææ··ã€‚è¿™äº‹çœ‹ç€å¥½åƒéšæ‰‹å°±èƒ½å†™ï¼Œä½†çœŸè¦åšåˆ°ç™¾åˆ†ç™¾ä¸é‡å¤ï¼Œå¯æ¯”æƒ³çš„è¦å‘ã€‚</p>
<p>ä»Šå¤©å°±å” å” å¤§ä¼™å¸¸è¸©çš„ä¿©å‘ï¼Œå†ç»™ä½ è¯´ä¸ªæµè§ˆå™¨è‡ªå¸¦çš„ã€ä¸€è¡Œä»£ç æå®šçš„é è°±æ³•å­ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€å…ˆè¸©ç¬¬ä¸€ä¸ªå‘ï¼šæ‹¿æ—¶é—´æˆ³åŠ éšæœºæ•°å‡‘æ•°</h2>
<p>å¥½å¤šäººï¼ˆä¸ç®¡æ˜¯åˆšå…¥é—¨çš„è¿˜æ˜¯å¹²äº†ä¿©å¹´çš„ï¼‰ç¬¬ä¸€ååº”éƒ½æ˜¯ï¼šæŠŠå½“å‰æ—¶é—´åŠ ä¸ªéšæœºæ•°ä¸å°±è¡Œäº†ï¼Ÿæ¯”å¦‚ä¼šå†™è¿™ä¹ˆä¸€æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">functionÂ <span class="hljs-built_in">generateNaiveId</span>()Â {
Â Â Â Â returnÂ Date<span class="hljs-selector-class">.now</span>()<span class="hljs-selector-class">.toString</span>(<span class="hljs-number">36</span>)Â +Â Math<span class="hljs-selector-class">.random</span>()<span class="hljs-selector-class">.toString</span>(<span class="hljs-number">36</span>)<span class="hljs-selector-class">.substr</span>(<span class="hljs-number">2</span>);
}
</code></pre>
<p>å‡ºæ¥çš„ç»“æœå¤§æ¦‚æ˜¯<code>l6n7f4v2am50k9m7o4</code>è¿™ç§ï¼Œçœ‹ç€å¥½åƒæ—¢æœ‰æ—¶é—´çš„ â€œç‹¬ä¸€ä»½â€ï¼Œåˆæœ‰éšæœºæ•°çš„å˜åŒ–ï¼ŒæŒºå¥½ç”¨ï¼Ÿä½†çœŸæ”¾åˆ°æ­£ç»çš„ç”Ÿäº§ç¯å¢ƒé‡Œï¼Œè¿™å°±æ˜¯ä¸ªå®šæ—¶ç‚¸å¼¹ï¼š</p>
<ul>
<li>
<p><strong>æ—¶é—´æˆ³ç²¾åº¦ä¸å¤Ÿ</strong></p>
<p><code>Date.now()</code>åªèƒ½ç²¾ç¡®åˆ°æ¯«ç§’ï¼Œè¦æ˜¯åœ¨åŒä¸€æ¯«ç§’é‡Œè¿ç»­è°ƒç”¨ä¸¤æ¬¡è¿™ä¸ªå‡½æ•° â€”â€” æ¯”å¦‚ç”¨æˆ·ç‚¹æŒ‰é’®ç‚¹çš„ç‰¹åˆ«å¿«ï¼Œæˆ–è€…é¡µé¢ä¸€ä¸‹å­è¦ç”Ÿæˆå¥½å‡ ä¸ª IDâ€”â€” é‚£ ID çš„å‰åŠæ®µå°±ä¼šå®Œå…¨ä¸€æ ·</p>
</li>
<li>
<p><strong>éšæœºæ•°ä¸é è°±</strong></p>
<p><code>Math.random()</code>é‚£ç©æ„ç”Ÿçš„ä¸æ˜¯å•¥ â€œé è°±éšæœºæ•°â€ï¼Œè¿æ°”èƒŒçš„æ—¶å€™ï¼ŒçŸ­æ—¶é—´å†…å¯èƒ½è·‘å‡ºä¸€æ¨¡ä¸€æ ·çš„åºåˆ—</p>
</li>
</ul>
<p>è¯´ç™½äº†ï¼Œè¿™ç§æ³•å­ä¹Ÿå°±ç”¨åœ¨åŠå¤©ç”¨ä¸€æ¬¡çš„åœºæ™¯é‡Œå‡‘æ´»ï¼ŒçœŸè¦è®² â€œç»å¯¹ä¸é‡å¤â€ï¼Œå·®å¾—è¿œäº†ã€‚</p>
<h2 data-id="heading-2">äºŒã€å†è¸©ç¬¬äºŒä¸ªå‘ï¼šç”¨è‡ªå¢çš„è®¡æ•°å™¨</h2>
<p>è¿˜æœ‰äººæƒ³çš„æ›´ç®€å•ï¼šæ•´ä¸ªå…¨å±€çš„æ•°å­—ï¼Œæ¯æ¬¡ç”Ÿæˆ ID å°±æŠŠæ•°å­—åŠ  1ï¼Œä» 0 å¼€å§‹å¾€ä¸Šæ’ä¸å°±å¾—äº†ï¼Ÿä½†è¿™ä¸ªæ³•å­çš„é—®é¢˜æ›´ç¦»è°±ï¼š</p>
<ul>
<li>æµè§ˆå™¨æ˜¯ â€œæ²¡è®°æ€§â€ çš„ï¼Œç”¨æˆ·ä¸€åˆ·æ–°é¡µé¢ï¼Œè¿™ä¸ªè®¡æ•°å™¨ç›´æ¥å°±å½’é›¶é‡æ¥äº†</li>
<li>è¦æ˜¯ç”¨æˆ·å¼€äº†ä¿©åŒæ¬¾é¡µé¢ï¼Œæ¯ä¸ªé¡µé¢çš„è®¡æ•°å™¨éƒ½æ˜¯ä»é›¶å¼€å§‹ç®—ï¼Œç”Ÿæˆçš„ ID ä¼šç›´æ¥æ’è½¦</li>
</ul>
<h2 data-id="heading-3">ä¸‰ã€åˆ«çæŠ˜è…¾äº†ï¼šç”¨æµè§ˆå™¨è‡ªå¸¦çš„æ­£ç»æ³•å­</h2>
<p>å…¶å®ç°åœ¨çš„ç°ä»£æµè§ˆå™¨ï¼ˆè¿˜æœ‰ Node.js14 ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼‰ï¼Œæ—©å°±ç»™å’±ä»¬å†…ç½®äº†é è°±çš„å·¥å…· â€”â€”<code>crypto.randomUUID()</code>ï¼Œä¸€è¡Œä»£ç å°±èƒ½ç”Ÿæˆç»å¯¹é è°±çš„å”¯ä¸€ IDï¼š</p>
<pre><code class="hljs language-ini" lang="ini">constÂ <span class="hljs-attr">uniqueId</span>Â =Â crypto.randomUUID()<span class="hljs-comment">;</span>
</code></pre>
<p>å‡ºæ¥çš„ç»“æœæ˜¯è¿™ç§æ ¼å¼ï¼š<code>3a6c4b2a-4c26-4d0f-a4b7-3b1a2b3c4d5e</code>ä¸ºå•¥è¯´è¿™ä¸ªæ˜¯ç‹è€…ï¼Ÿ</p>
<ol>
<li>
<p><strong>åŸºæœ¬ä¸å¯èƒ½æ’å·</strong></p>
<p>è¿™ä¸ª ID æ˜¯ç”¨ 122 ä½çš„éšæœºæ•°ç”Ÿæˆçš„ï¼Œèƒ½ç»„åˆå‡ºæ¥çš„æ•°å­—å¤šåˆ°ç¦»è°± â€”â€” æ¯”åœ°çƒä¸Šçš„æ²™å­æ€»æ•°è¿˜å¤šï¼Œæ’å·çš„æ¦‚ç‡çº¦ç­‰äºä½ è¿ç»­ä¸­ä¸‰æ¬¡å¤´å¥–</p>
</li>
<li>
<p><strong>éšæœºæ•°å¤Ÿå®‰å…¨</strong></p>
<p>å®ƒç”¨çš„æ˜¯æµè§ˆå™¨é‡Œä¸“é—¨æåŠ å¯†çš„éšæœºæ•°ç”Ÿæˆå·¥å…·ï¼Œä¸æ˜¯<code>Math.random()</code>é‚£ç§éšä¾¿å‡‘çš„ï¼Œæ²¡æ³•è¢«è½»æ˜“çŒœåˆ°</p>
</li>
<li>
<p><strong>å¤§å®¶éƒ½è®¤</strong></p>
<p>ç”Ÿæˆçš„æ˜¯å…¨çƒé€šç”¨çš„æ ‡å‡†æ ¼å¼ï¼Œä¸ç®¡æ˜¯åç«¯å­˜æ•°æ®åº“ã€è¿˜æ˜¯å’Œåˆ«çš„ç³»ç»Ÿå¯¹æ¥ï¼Œéƒ½èƒ½ç›´æ¥ç”¨</p>
</li>
<li>
<p><strong>çœå¿ƒè¿˜é«˜æ•ˆ</strong></p>
<p>ä¸ç”¨è£…ä»»ä½•ç¬¬ä¸‰æ–¹çš„åº“ï¼Œæµè§ˆå™¨è‡ªå¸¦çš„ï¼Œè°ƒç”¨èµ·æ¥è´¼å¿«</p>
</li>
</ol>
<p>è€Œä¸”ç°åœ¨ä¸»æµçš„æ–°æµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªæ–¹æ³•ï¼šChrome92 ä»¥ä¸Šã€Firefox90 ä»¥ä¸Šã€Safari15.4 ä»¥ä¸Šéƒ½èƒ½ç”¨ï¼Œè¦æ˜¯ä½ åšçš„æ˜¯æ–°é¡¹ç›®ï¼Œç›´æ¥ç”¨è¿™ä¸ªå°±è¡Œï¼Œå†ä¹Ÿä¸ç”¨è‡ªå·±çå†™å‡‘æ•°çš„ ID ç”Ÿæˆå™¨äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤æ‚å·¥ä¸šåœºæ™¯å¦‚ä½•å®ç°3Då®ä¾‹ä¸éƒ¨ä»¶ä¸€ä½“åŒ–åˆ†å‰²ï¼Ÿå¤šè§†è§’è´å¶æ–¯èåˆçš„åˆ†å±‚å›¾åƒå¼•å¯¼æ¡†æ¶]]></title>    <link>https://juejin.cn/post/7584286241489043496</link>    <guid>https://juejin.cn/post/7584286241489043496</guid>    <pubDate>2025-12-17T02:08:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584286241489043496" data-draft-id="7584297353420341248" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤æ‚å·¥ä¸šåœºæ™¯å¦‚ä½•å®ç°3Då®ä¾‹ä¸éƒ¨ä»¶ä¸€ä½“åŒ–åˆ†å‰²ï¼Ÿå¤šè§†è§’è´å¶æ–¯èåˆçš„åˆ†å±‚å›¾åƒå¼•å¯¼æ¡†æ¶"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-17T02:08:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤æ‚å·¥ä¸šåœºæ™¯å¦‚ä½•å®ç°3Då®ä¾‹ä¸éƒ¨ä»¶ä¸€ä½“åŒ–åˆ†å‰²ï¼Ÿå¤šè§†è§’è´å¶æ–¯èåˆçš„åˆ†å±‚å›¾åƒå¼•å¯¼æ¡†æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T02:08:04.000Z" title="Wed Dec 17 2025 02:08:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æœºå™¨äººæ“ä½œã€æ•°å­—å­ªç”Ÿç­‰å·¥ä¸šæ™ºèƒ½åŒ–åœºæ™¯ä¸­ï¼Œç²¾ç¡®çš„3Dåœºæ™¯ç†è§£æ˜¯æ ¸å¿ƒæŠ€æœ¯åŸºç¡€ã€‚å°¤å…¶åœ¨å·¥å‚ç¯å¢ƒä¸­ï¼Œé›¶éƒ¨ä»¶å¸ƒå±€å¯†é›†ã€å°ºåº¦å·®å¼‚å¤§ã€é®æŒ¡ä¸¥é‡ï¼Œä¼ ç»Ÿåˆ†å‰²æ–¹æ³•å¾€éš¾ä»¥åŒæ—¶ä¿è¯å®ä¾‹åˆ†å‰²ä¸éƒ¨ä»¶çº§åˆ†å‰²çš„ç²¾åº¦ã€‚é’ˆå¯¹è¿™ä¸€éš¾é¢˜ï¼Œã€ŠHierarchical Image-Guided 3D Point Cloud Segmentation in Industrial Scenes via Multi-View Bayesian Fusionã€‹æå‡ºäº†ä¸€ç§åˆ†å±‚å›¾åƒå¼•å¯¼çš„3Dç‚¹äº‘åˆ†å‰²æ¡†æ¶ï¼ŒèåˆYOLO-Worldæ£€æµ‹ã€SAMåˆ†å‰²ä¸å¤šè§†è§’è´å¶æ–¯èåˆç­–ç•¥ï¼Œåœ¨å‡å°‘äººå·¥æ ‡æ³¨ä¾èµ–çš„åŒæ—¶ï¼Œæ˜¾è‘—æå‡äº†å·¥ä¸šåœºæ™¯ä¸‹çš„åˆ†å‰²é²æ£’æ€§ä¸å‡†ç¡®æ€§ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/882844050878459bb714391d0872ff54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=tvEEFHpyI4yHoEGmnwkVg0BUnEw%3D" alt="å›¾ç‰‡1.png" loading="lazy"/></p>
<p>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fpdf%2F2512.06882" target="_blank" title="https://arxiv.org/pdf/2512.06882" ref="nofollow noopener noreferrer">arxiv.org/pdf/2512.06â€¦</a></p>
<h2 data-id="heading-0"><strong>å·¥ä¸š3Dåˆ†å‰²é¢ä¸´çš„æ ¸å¿ƒæŒ‘æˆ˜</strong></h2>
<p>å·¥ä¸šåœºæ™¯çš„3Dç‚¹äº‘åˆ†å‰²é•¿æœŸå—ä»¥ä¸‹é—®é¢˜åˆ¶çº¦ï¼š</p>
<ul>
<li>
<p>ä¸¥é‡é®æŒ¡ä¸è¾¹ç•Œæ¨¡ç³Š</p>
<p>äº§çº¿è®¾å¤‡å¾€å¾€ç´§å¯†æ’åˆ—ï¼Œé®æŒ¡å¯¼è‡´ç‰©ä½“å‡ ä½•è¾¹ç•Œä¸å®Œæ•´ï¼ŒåŸºäºçº¯ç‚¹äº‘çš„æ–¹æ³•æ˜“å‡ºç°åˆ†å‰²æ–­è£‚æˆ–ç²˜è¿ã€‚</p>
</li>
<li>
<p>å¤šå°ºåº¦ç‰©ä½“å¹¶å­˜</p>
<p>åœºæ™¯ä¸­åŒæ—¶å­˜åœ¨æœºæ¢°è‡‚ã€ä¼ é€å¸¦ç­‰å¤§ç‰©ä½“ä¸èºä¸ã€æ¥å¤´ç­‰å°éƒ¨ä»¶ï¼Œç«¯åˆ°ç«¯æ¨¡å‹éš¾ä»¥å…¼é¡¾ç²—ç²’åº¦ä¸ç»†ç²’åº¦ç‰¹å¾ã€‚</p>
</li>
<li>
<p>æ ‡æ³¨æˆæœ¬é«˜æ˜‚</p>
<p>ç‚¹äº‘é€ç‚¹æ ‡æ³¨è´¹æ—¶è´¹åŠ›ï¼Œä¸”ç›®å‰ç¼ºä¹å…¬å¼€çš„å·¥ä¸šéƒ¨ä»¶çº§3Dåˆ†å‰²æ•°æ®é›†ã€‚</p>
</li>
<li>
<p>2D-3DæŠ•å½±ä¸ä¸€è‡´</p>
<p>å•çº¯ä¾é å•è§†è§’2Dåˆ†å‰²æŠ•å½±åˆ°3Dæ—¶ï¼Œæ˜“å› è§†è§’å˜åŒ–å¯¼è‡´è¯­ä¹‰ä¸ä¸€è‡´ä¸è¾¹ç¼˜é”™ä½ã€‚</p>
</li>
</ul>
<h2 data-id="heading-1"><strong>ç›¸å…³å·¥ä½œ</strong></h2>
<ul>
<li><strong>ç›´æ¥3Dç‚¹äº‘åˆ†å‰²</strong></li>
</ul>
<p>ä¼ ç»Ÿæ–¹æ³•ä½¿ç”¨åˆ†ç»„æ–¹æ³•ï¼Œä½†ä¾èµ–äºå‡ ä½•é‚»è¿‘æ€§å’Œæ‰‹å·¥å¯å‘å¼è§„åˆ™ï¼Œé™åˆ¶äº†å¯¹å¤æ‚åœºæ™¯çš„æ‰©å±•æ€§ã€‚è¿‘å¹´æ¥åŸºäºæ·±åº¦ç¥ç»ç½‘ç»œçš„åˆ†å‰²æ–¹æ³•å¹¿æ³›ä½¿ç”¨ï¼Œç›´æ¥ä»æ— åºç‚¹äº‘ä¸­å­¦ä¹ ç‰¹å¾ä»¥é¢„æµ‹è¯­ä¹‰æ ‡ç­¾ã€‚ç„¶è€Œï¼Œç”±äºç¼ºä¹æ˜ç¡®çš„æ‹“æ‰‘å’Œé‚»æ¥ç»“æ„ï¼Œè¿™äº›æ¨¡å‹éš¾ä»¥æ•æ‰ç¨³å®šçš„å±€éƒ¨å‡ ä½•ä¿¡æ¯ï¼Œå› æ­¤éœ€è¦å¯†é›†çš„ç‚¹çº§æ ‡æ³¨ï¼Œä¸”åœ¨å¤§è§„æ¨¡æ‚ä¹±åœºæ™¯ä¸­è¡¨ç°ä¸ä½³ã€‚æ­¤å¤–ï¼Œç°æœ‰çš„æ ‡æ³¨3Dæ•°æ®é›†è§„æ¨¡å°ï¼Œæ ‡æ³¨ç²¾ç»†3Dæ¨¡å‹å·¥ä½œé‡å¤§ï¼Œç›®å‰å°šæ— å…¬å¼€æ”¯æŒå·¥ä¸šåœºæ™¯éƒ¨ä»¶çº§åˆ†å‰²çš„æ•°æ®é›†ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd5c6f3bb6a447c29b9ffe608d175d2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=KzozxpgHdLW4t19vrR9hT1COTKo%3D" alt="å›¾ç‰‡2.png" loading="lazy"/></p>
<ul>
<li><strong>åŸºäº2Dç›‘ç£çš„å›¾åƒå¼•å¯¼3Dåˆ†å‰²</strong></li>
</ul>
<p>ä¸ºå…‹æœ3Dç›‘ç£çš„é™åˆ¶ï¼Œä¸€äº›æ–¹æ³•å°†3Dç‚¹äº‘æŠ•å½±åˆ°2Då›¾åƒï¼Œå¹¶ä½¿ç”¨ç”Ÿæˆçš„æ©ç å°†2Dè¯­ä¹‰è½¬ç§»åˆ°3Dç©ºé—´ã€‚SAMã€YOLO-Worldã€GLIPç­‰è§†è§‰åŸºç¡€æ¨¡å‹å—ç›Šäºå¤§è§„æ¨¡2Dæ•°æ®é›†å’Œå¼±ç›‘ç£è®­ç»ƒï¼Œèƒ½ä»¥ä½æˆæœ¬å®ç°é«˜è´¨é‡åˆ†å‰²ã€‚ç„¶è€Œï¼ŒSAMä¸æä¾›ç±»åˆ«æ ‡ç­¾ï¼ŒYOLO-Worldå’ŒGLIPä»…æä¾›ç±»åˆ«é¢„æµ‹è€Œæ— åƒç´ çº§æ©ç ï¼Œéš¾ä»¥ç›´æ¥ç”¨äº3Dåˆ†å‰²ã€‚å°†ç‚¹äº‘æ¸²æŸ“ä¸º2Då›¾åƒä¼šå¼•å…¥é®æŒ¡å’Œè§†è§’ç›¸å…³å˜åŒ–ï¼Œå¸¸å¯¼è‡´è·¨è§†è§’è¾¹ç•Œå’Œè¯­ä¹‰ä¸ä¸€è‡´ã€‚ç¼ºä¹é²æ£’èåˆç­–ç•¥çš„ç°æœ‰æ–¹æ³•æ— æ³•ç¡®ä¿ä¸€è‡´çš„3Dåˆ†å‰²ã€‚æ­¤å¤–ï¼Œå¤§å¤šæ•°åŸºç¡€æ¨¡å‹è®­ç»ƒäºé€šç”¨ç±»åˆ«ï¼Œä¸èƒ½ç›´æ¥é€‚åº”å·¥å‚åœºæ™¯ï¼Œç°æœ‰2Då›¾åƒæ•°æ®é›†ä¹Ÿç¼ºä¹å·¥ä¸šç¯å¢ƒè¦†ç›–ã€‚</p>
<ul>
<li><strong>æå‡ºçš„åˆ¶é€ åœºæ™¯3Dç‚¹äº‘åˆ†å‰²æ–¹æ³•</strong></li>
</ul>
<p>æˆ‘ä»¬æå‡ºä¸€ç§ç”±2Dé¢„æµ‹å¼•å¯¼çš„ä¸¤é˜¶æ®µåˆ†å±‚åˆ†å‰²æ¡†æ¶ï¼Œé€æ­¥ä»ç²—å®ä¾‹åˆ°ç»†ç²’åº¦éƒ¨ä»¶ç»†åŒ–åœºæ™¯ç†è§£ï¼ˆå›¾2ï¼‰ã€‚æ¡†æ¶å§‹äºè‡ªé€‚åº”æ¸²æŸ“ï¼Œæ ¹æ®ç‰©ä½“å°ºå¯¸å’Œç‚¹å¯†åº¦ï¼Œä½¿ç”¨å°ºåº¦æ„ŸçŸ¥å‚æ•°å°†3Dç‚¹äº‘æŠ•å½±ä¸º2Då›¾åƒã€‚åœ¨æ¯ä¸ªé˜¶æ®µï¼ŒYOLO-Worldæ£€æµ‹ç‰©ä½“å¹¶æä¾›æç¤ºç»™SAMç”Ÿæˆ2Dæ©ç ï¼Œå†åæŠ•å½±åˆ°3Dã€‚å®ä¾‹çº§åˆ†å‰²ä½¿ç”¨ä¿¯è§†å›¾æŠ•å½±é«˜æ•ˆæ ‡è®°å¤§ç‰©ä½“ï¼Œéƒ¨ä»¶çº§åˆ†å‰²é€šè¿‡è´å¶æ–¯æ›´æ–°èåˆå¤šè§†è§’æ©ç ï¼Œè§£å†³ä¸ä¸€è‡´æ€§å¹¶åœ¨é®æŒ¡å’Œè§†è§’å˜åŒ–ä¸‹æé«˜æ ‡ç­¾ç¨³å®šæ€§ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf954f84f26943618e5f204800dcd767~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=ekfU6lQmjfZyiMEUfFD3vSh07Bc%3D" alt="å›¾ç‰‡3.png" loading="lazy"/></p>
<ul>
<li>
<p>è‡ªé€‚åº”2Då›¾åƒæ¸²æŸ“ä¸åˆ†å‰²</p>
<p>æˆ‘ä»¬æå‡ºä¸€ç§å°ºåº¦è‡ªé€‚åº”æ¸²æŸ“ç­–ç•¥ï¼ŒåŸºäºç‰©ä½“å‡ ä½•å’Œå¯†åº¦è®¡ç®—ç‚¹åŠå¾„ã€‚æ¸²æŸ“åçš„2Då›¾åƒä½¿ç”¨YOLO-Worldå’ŒSAMä¸¤é˜¶æ®µæ–¹æ³•è¿›è¡Œåˆ†å‰²ï¼šYOLO-Worldæ£€æµ‹ç‰©ä½“å®ä¾‹æˆ–éƒ¨ä»¶å¹¶ç”Ÿæˆç±»åˆ«æ„ŸçŸ¥è¾¹ç•Œæ¡†ï¼Œä½œä¸ºSAMçš„æç¤ºä»¥ç”Ÿæˆé«˜è´¨é‡åƒç´ çº§æ©ç ã€‚è¿™ç§æç¤ºé©±åŠ¨è®¾è®¡ä½¿SAMèƒ½åœ¨æ‚ä¹±ã€é®æŒ¡å’Œå°ºåº¦å˜åŒ–ä¸‹ç”Ÿæˆå‡†ç¡®åˆ†å‰²ã€‚</p>
</li>
<li>
<p>é€šè¿‡2Dæ©ç æŠ•å½±çš„3Dç‚¹äº‘åˆ†å‰²</p>
<p>è·å–å„é˜¶æ®µå‡†ç¡®2Dæ©ç åï¼Œæˆ‘ä»¬å°†å…¶å‡ ä½•å’Œè¯­ä¹‰å…ˆéªŒè½¬ç§»åˆ°3Dç©ºé—´ã€‚ä¸ºé€‚åº”ä¸¤ä¸ªé˜¶æ®µçš„ä¸åŒç›®æ ‡ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸åŒçš„æŠ•å½±æ–¹æ³•ï¼š</p>
<p>å®ä¾‹çº§åˆ†å‰²ï¼ˆä¿¯è§†å›¾ï¼‰ï¼š ä½¿ç”¨è½»é‡é«˜æ•ˆçš„åŸºäº2Dæ©ç æŠ•å½±çš„ç­–ç•¥ï¼Œå¿«é€Ÿå¯¹å¤§è§„æ¨¡å¯†é›†ç‚¹äº‘è¿›è¡Œç²—å®ä¾‹åˆ†å‰²ã€‚</p>
<p>éƒ¨ä»¶çº§åˆ†å‰²ï¼ˆå¤šè§†è§’åæŠ•å½±ï¼‰ï¼š å›´ç»•æ¯ä¸ªå®ä¾‹ç‚¹äº‘é‡‡æ ·å¤šä¸ªè§†è§’ï¼Œåœ¨å„è§†è§’ä¸Šä½¿ç”¨YOLO-World+SAMç”Ÿæˆéƒ¨ä»¶çº§2Dæ©ç ï¼Œå¹¶é€šè¿‡åæŠ•å½±å’Œæ·±åº¦å¼•å¯¼KDæ ‘åŒ¹é…å°†å…¶æ˜ å°„å›3Dç‚¹ã€‚</p>
</li>
<li>
<p>å¤šè§†è§’æ©ç ä¸€è‡´æ€§ä¸è´å¶æ–¯æ›´æ–°èåˆ</p>
<p>ä¸ºå¤„ç†è·¨è§†è§’è¯­ä¹‰ä¸ä¸€è‡´ï¼Œæˆ‘ä»¬é€šè¿‡è´å¶æ–¯æ›´æ–°é€’å½’èåˆæ¯ä¸ªç‚¹çš„å¤šè§†è§’è§‚æµ‹ï¼Œä¼°è®¡ä¸€è‡´çš„ç±»åˆ«åˆ†å¸ƒã€‚æ¯ä¸ªè§†è§’çš„è§‚æµ‹è¢«å»ºæ¨¡ä¸ºè½¯ç±»åˆ«åˆ†å¸ƒï¼Œå¹¶å¼•å…¥å‡ ä½•æ„ŸçŸ¥ç½®ä¿¡åº¦è¯„åˆ†ä»¥å¢å¼ºåœ¨é®æŒ¡å’Œå™ªå£°ä¸‹çš„é²æ£’æ€§ã€‚æœ€ç»ˆé€šè¿‡é€‰æ‹©ç½®ä¿¡åº¦é«˜äºé˜ˆå€¼çš„ç±»åˆ«æ ‡ç­¾ï¼Œæ„å»ºå¸¦æ ‡ç­¾çš„ç‚¹é›†ï¼Œå¹¶é€šè¿‡DBSCANèšç±»å»é™¤å¼‚å¸¸å€¼ï¼Œè¿›ä¸€æ­¥æå‡éƒ¨ä»¶çº§åˆ†å‰²å‡†ç¡®æ€§ã€‚</p>
</li>
</ul>
<h2 data-id="heading-2"><strong>å®éªŒä¸è¯„ä¼°</strong></h2>
<p>æˆ‘ä»¬åœ¨çœŸå®å·¥ä¸šåœºæ™¯å’Œå…¬å¼€æ•°æ®é›†ä¸Šè¯„ä¼°äº†ç³»ç»Ÿæ€§èƒ½ã€‚å®éªŒç¯å¢ƒä¸ºIntel i9-13900HK CPUã€NVIDIA RTX 4090 GPUã€32GB RAMã€Ubuntu 22.04ã€‚</p>
<ul>
<li><strong>2Då›¾åƒæ£€æµ‹ä¸åˆ†å‰²è¯„ä¼°</strong></li>
</ul>
<p>æˆ‘ä»¬åœ¨200å¼ å›¾åƒä¸Šå¾®è°ƒå®ä¾‹çº§YOLO-Worldæ¨¡å‹ï¼ˆæ¶µç›–2ç±»ï¼šä¼ è¾“ç³»ç»Ÿå’Œæœºæ¢°è‡‚ï¼‰ï¼Œåœ¨600å¼ å›¾åƒä¸Šè®­ç»ƒéƒ¨ä»¶çº§æ¨¡å‹ï¼ˆæ¶µç›–6ç±»ï¼‰ã€‚å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„åˆ†å±‚æ–¹æ³•åœ¨éƒ¨ä»¶çº§æ©ç ç²¾åº¦ä¸Šä¼˜äºç›´æ¥å•é˜¶æ®µæ–¹æ³•ï¼Œå°¤å…¶åœ¨å¤„ç†å°ç»“æ„å’Œé®æŒ¡æ—¶è¡¨ç°æ›´å¥½ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b689b3c17d44aca99a7185d6727bef6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=wxYYI3nFLuSD%2FPD0npkU5Gymt60%3D" alt="å›¾ç‰‡4.png" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08b6b07798784fa6beb5a20871344f5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=LFyNITG7KX98me78VVF%2FMRFfa5I%3D" alt="å›¾ç‰‡5.png" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/783566ddb374468296302fecc5748bb4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=bIO5%2FHCq8B%2FJeNXIwEd3ym318To%3D" alt="å›¾ç‰‡6.png" loading="lazy"/></p>
<ul>
<li><strong>3Dåˆ†å‰²ç»“æœä¸è¯„ä¼°</strong></li>
</ul>
<p>é€šè¿‡æ¶ˆèå®éªŒéªŒè¯è´å¶æ–¯èåˆåœ¨å¤šè§†è§’æŠ•å½±ä¸­å¤„ç†ç‰¹å¾ä¸ä¸€è‡´å’Œé®æŒ¡çš„æœ‰æ•ˆæ€§ã€‚å®éªŒæ˜¾ç¤ºï¼Œç›´æ¥æŠ•å½±ä¼šå¯¼è‡´é”™è¯¯åˆ†å‰²ï¼Œè€Œè´å¶æ–¯èåˆèƒ½æ˜¾è‘—æå‡è¾¹ç•Œæ¸…æ™°åº¦å’Œéƒ¨ä»¶è¯†åˆ«å‡†ç¡®æ€§ï¼ˆå›¾5ï¼‰ã€‚å®šé‡è¯„ä¼°ä¹Ÿæ˜¾ç¤ºè´å¶æ–¯èåˆåœ¨å„ç±»åˆ«ä¸Šçš„mIoUå‡æœ‰æå‡ï¼ˆè¡¨2ï¼‰ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f51ad704c5b456f9d1b2c4f4c7a88c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=OM7GIKsSi3ru33xR7QYQmAznUes%3D" alt="å›¾ç‰‡7.png" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab541c5f13d84da0b2969a01fc8e809c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=H5oFcyZBQUqq7KUK0%2BHeN3PXtd0%3D" alt="å›¾ç‰‡8.png" loading="lazy"/></p>
<ul>
<li><strong>å…¨åœºæ™¯åˆ†å‰²ç»“æœ</strong></li>
</ul>
<p>å›¾6å±•ç¤ºäº†æ•´ä¸ªå·¥ä¸šç¯å¢ƒçš„å®Œæ•´åˆ†å‰²ç»“æœã€‚å®ä¾‹çº§åˆ†å‰²æ¸…æ™°åˆ†ç¦»äº†æœºæ¢°è‡‚å’Œä¼ è¾“ç³»ç»Ÿï¼Œéƒ¨ä»¶çº§åˆ†å‰²åˆ™å‡†ç¡®æ ‡è®°äº†æ‰€æœ‰å·¥ç«™çš„ç»„ä»¶ï¼Œå±•ç°äº†æ¡†æ¶åœ¨å¤æ‚å·¥ä¸šåœºæ™¯ä¸­çš„æœ‰æ•ˆæ€§ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7ec3cc2cfeb4aa3b334cf7985874219~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=qKlPdVA0ywwWzkbxE3O%2B0RDDTKY%3D" alt="å›¾ç‰‡9.png" loading="lazy"/></p>
<ul>
<li><strong>åœ¨å…¬å¼€æ•°æ®é›†ä¸Šçš„æ³›åŒ–è¯„ä¼°</strong></li>
</ul>
<p>æˆ‘ä»¬åœ¨PartNetæ•°æ®é›†ä¸Šè¿›è¡Œå®éªŒï¼ŒéªŒè¯æ¡†æ¶åœ¨é€šç”¨3Dåœºæ™¯ä¸­çš„æ³›åŒ–èƒ½åŠ›ã€‚é€šè¿‡ç»„åˆå¤šä¸ªç‰©ä½“æ„å»ºå¤æ‚åœºæ™¯ï¼Œå¹¶ä½¿ç”¨GLIPä½œä¸ºæ£€æµ‹æ¨¡å‹ï¼ˆæ— éœ€å¾®è°ƒï¼‰ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å–å¾—äº†ä¸å…¶ä»–ä¸“é—¨æ–¹æ³•ç›¸è¿‘çš„éƒ¨ä»¶åˆ†å‰²ç²¾åº¦ï¼ˆè¡¨3ï¼‰ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d06e3c1d027a4c9095ed1b982b2f3942~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=JZZRA4ai1B2cggOu535wgTmOGes%3D" alt="å›¾ç‰‡10.png" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/826a819fabf84ab58e772fbbf615d01f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=l3A0CQ5G4djIpcS8np18LsWZDGo%3D" alt="å›¾ç‰‡11.png" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f7d5f1cfe534da2b5822cf59546499b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766542084&amp;x-signature=VIoXBPHgt61rKmvtuRergbodgrg%3D" alt="å›¾ç‰‡12.png" loading="lazy"/></p>
<h2 data-id="heading-3"><strong>ç»“è®ºä¸æœªæ¥å·¥ä½œ</strong></h2>
<p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§ç”±2Dæ£€æµ‹-åˆ†å‰²å¼•å¯¼çš„åˆ†å±‚3Dåˆ†å‰²æ¡†æ¶ï¼Œé€šè¿‡YOLO-Worldæä¾›æ ‡ç­¾ä¸æç¤ºï¼Œç»“åˆSAMå®ç°ä»ç‰©ä½“åˆ°éƒ¨ä»¶çš„ç²¾ç¡®åˆ†å‰²ï¼Œå¹¶åˆ©ç”¨è´å¶æ–¯èåˆè§£å†³è·¨è§†è§’ä¸€è‡´æ€§é—®é¢˜ã€‚åœ¨çœŸå®å·¥å‚æ•°æ®å’Œå…¬å¼€æ•°æ®é›†ä¸Šçš„å®éªŒéªŒè¯äº†å…¶åœ¨é®æŒ¡å’Œæ‚ä¹±ç¯å¢ƒä¸‹çš„é²æ£’æ€§ã€‚</p>
<p>æœªæ¥å·¥ä½œå°†è€ƒè™‘èå…¥æ·±åº¦ç­‰å¤šæ¨¡æ€ä¿¡æ¯ï¼Œæå‡å°éƒ¨ä»¶å’Œä¸¥é‡é®æŒ¡éƒ¨ä»¶çš„åˆ†å‰²èƒ½åŠ›ï¼Œå¹¶å°è¯•åœ¨å¤šè§†è§’ä¸€è‡´æ€§å»ºæ¨¡æ–¹é¢è¿›è¡Œæ”¹è¿›ï¼Œç›´æ¥åœ¨2Dåˆ†å‰²å±‚ä¿è¯è§†è§’ä¸€è‡´æ€§ï¼Œå‡å°‘åç»­èåˆæ­¥éª¤å¼•å…¥çš„è¯¯å·®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šé¢„è¨€å¸‚åœºè¿›åŒ–è®ºï¼šä»ç½—é©¬æ–—å…½åœºï¼Œåˆ° Polymarket çš„ K çº¿å›¾ã€‹]]></title>    <link>https://juejin.cn/post/7584358227611189290</link>    <guid>https://juejin.cn/post/7584358227611189290</guid>    <pubDate>2025-12-17T02:40:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584358227611189290" data-draft-id="7584343534967947306" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šé¢„è¨€å¸‚åœºè¿›åŒ–è®ºï¼šä»ç½—é©¬æ–—å…½åœºï¼Œåˆ° Polymarket çš„ K çº¿å›¾ã€‹"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-17T02:40:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HiStewie"/> <meta itemprop="url" content="https://juejin.cn/user/1591748568038823"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šé¢„è¨€å¸‚åœºè¿›åŒ–è®ºï¼šä»ç½—é©¬æ–—å…½åœºï¼Œåˆ° Polymarket çš„ K çº¿å›¾ã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748568038823/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HiStewie
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T02:40:33.000Z" title="Wed Dec 17 2025 02:40:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ç¦»èŒäº†ï¼Œå†™ä¸€ç‚¹å¯¹ä¸Šå®¶å…¬å¸ä¸šåŠ¡çš„æ„Ÿæƒ³ï¼š</p>
<ul>
<li>Web3çš„é¢„æµ‹å¸‚åœºåœ¨åšä»€ä¹ˆï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§ä¸šåŠ¡ï¼Ÿ</li>
<li>æ˜¯å‡­ç©ºäº§ç”Ÿçš„æƒ³æ³•å—ï¼Œè¿˜æ˜¯å¯¹å·²æœ‰åœºæ™¯çš„Web3é‡æ„ï¼Ÿ</li>
<li>ç°åœ¨è¿˜èƒ½å…¥èŒåšç±»ä¼¼ä¸šåŠ¡å—ï¼ˆä¸å»ºè®®ï¼Œé•¿å°¾æ•ˆåº” + èµ„æœ¬å€¾è½§ï¼Œå½“å‰å¸‚åœºé™¤äº†Kalshiæ²¡æœ‰ä»»ä½•èƒ½åœ¨Polymarketå˜´é‡ŒæŠ¢é¥­åƒçš„äº§å“ï¼Œå…¶ä»–é¢„æµ‹å¸‚åœºæœªæ¥å‘å±•é™¤äº†æä¸åˆè§„çš„ä¸šåŠ¡ï¼Œä¸ç„¶æ— æ³•å­˜æ´»ï¼‰</li>
</ul>
<p><strong>æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨äººç±»çš„â€œè´ªå©ªâ€ (Greed)ï¼Œæ¥è·å–è¿™ä¸ªä¸–ç•Œçš„â€œçœŸç›¸â€ (Truth)ï¼Ÿ</strong></p>
<p>åœ¨ 2024 å¹´çš„ç¾å›½æ€»ç»Ÿå¤§é€‰å­£ï¼Œæˆ‘ä»¬å­¦åˆ°çš„æœ€é‡è¦ä¸€è¯¾æ˜¯ï¼š<strong>ä¸è¦çœ‹ CNN è¯´ä»€ä¹ˆï¼Œè¦çœ‹ Polymarket èµŒä»€ä¹ˆã€‚</strong></p>
<p>ä¸ºä»€ä¹ˆä¸€ä¸ªå»ºç«‹åœ¨åŒºå—é“¾ä¸Šçš„â€œèµŒåœºâ€ï¼Œä¼šæ¯”æ‹¥æœ‰ç™¾å¹´å†å²çš„æ°‘è°ƒæœºæ„æ›´å‡†ç¡®ï¼Ÿè¿™ä¸ä»…ä»…æ˜¯è¿æ°”ã€‚è¿™æ˜¯ä¸€åœºå…³äº<strong>ä¿¡æ¯è®ºã€è¡Œä¸ºå­¦å’Œå»ä¸­å¿ƒåŒ–æŠ€æœ¯</strong>çš„ç²¾å¯†å®éªŒã€‚</p>
<p>Polymarket çš„æœ¬è´¨ï¼Œä¸æ˜¯ä¸ºäº†è®©ä½ é™·å…¥ä¸€ä¸ªäºŒå…ƒç‰Œæ¡Œè¿›è¡ŒåŠ ç ä¸‹æ³¨ã€‚å®ƒæ˜¯åˆ©ç”¨ä½ æŠ•æœºçš„å¿ƒç†ï¼Œè®¡ç®—å‡ºä¸–ç•Œçš„çœŸå®æ¦‚ç‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6795bc3aff314b21882424a9b05d69dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766544032&amp;x-signature=WW%2BlKeocRc2Px2C6%2FoSQVv3o7BQ%3D" alt="æˆªå±2025-12-17 10.28.38.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">ç¬¬ä¸€ç« ï¼šè¡Œä¸ºå­¦ä¸ç»æµå­¦ â€”â€” ä¸ºä»€ä¹ˆâ€œçœŸé‡‘ç™½é“¶â€æ˜¯å”¯ä¸€è¯šå®çš„è¯­è¨€ï¼Ÿ</h2>
<p><strong>(The Psychology: Skin in the Game)</strong></p>
<p>åœ¨äº’è”ç½‘æ—¶ä»£ï¼Œè§‚ç‚¹ï¼ˆOpinionï¼‰æ˜¯ä¸–ç•Œä¸Šæœ€æ³›æ»¥çš„å•†å“ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœ€å»‰ä»·çš„ã€‚</p>
<p>æ‰“å¼€ Twitter æˆ–å¾®åšï¼Œä½ ä¼šçœ‹åˆ°æ— æ•°ä¸“å®¶ä¿¡èª“æ—¦æ—¦åœ°é¢„æµ‹ï¼šâ€œA å¸å¿…æ¶¨â€ã€â€œB é˜Ÿå¿…èƒœâ€ã€â€œC å€™é€‰äººç¨³äº†â€ã€‚</p>
<p>å¦‚æœä»–ä»¬é”™äº†ï¼Œä»£ä»·æ˜¯ä»€ä¹ˆï¼Ÿé€šå¸¸æ˜¯<strong>é›¶</strong>ã€‚ä»–ä»¬ç”šè‡³ä¸éœ€è¦åˆ å¸–ï¼Œåªè¦æ¢ä¸ªè¯é¢˜ç»§ç»­å¹ç‰›å³å¯ã€‚</p>
<p>ç»æµå­¦æŠŠè¿™ç§ç°è±¡ç§°ä¸ºâ€œå»‰ä»·è°ˆè¯â€ (Cheap Talk)ã€‚å› ä¸ºæ²¡æœ‰æˆæœ¬ï¼Œæ‰€ä»¥å™ªéŸ³æ·¹æ²¡äº†ä¿¡å·ã€‚</p>
<p>ä½†åœ¨ Polymarket ä¸Šï¼ŒåŒæ ·çš„ä¸€ä¸ªè§‚ç‚¹ï¼Œå¯èƒ½è¦èŠ±ä½  1000 ç¾å…ƒã€‚</p>
<ol>
<li>
<h3 data-id="heading-2">åˆ‡è‚¤ä¹‹ç—› (Skin in the Game)ï¼šç†æ€§çš„å¼ºåˆ¶å”¤é†’</h3>
</li>
</ol>
<p>çº³è¥¿å§†Â·å¡”å‹’å¸ƒï¼ˆNassim Talebï¼‰åœ¨ã€Šéå¯¹ç§°é£é™©ã€‹ä¸­æå‡ºäº†ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š <strong>â€œæ²¡æœ‰é£é™©å…±æ‹…ï¼Œå°±æ²¡æœ‰å†³ç­–æƒã€‚â€</strong></p>
<p>é¢„æµ‹å¸‚åœºçš„é­”åŠ›ï¼Œåœ¨äºå®ƒåˆ©ç”¨é‡‘é’±å¼ºè¡Œæ”¹å˜äº†ä½ çš„å¤§è„‘è¿ä½œæ¨¡å¼ï¼š</p>
<ul>
<li><strong>æ— ç­¹ç çŠ¶æ€ï¼ˆç¤¾äº¤åª’ä½“ï¼‰ï¼š</strong> å¤§è„‘ç”±<strong>å¤šå·´èƒº</strong>ä¸»å¯¼ã€‚ä½ çš„å‘è¨€æ˜¯ä¸ºäº†å¯»æ±‚è®¤åŒã€å®£æ³„æƒ…ç»ªæˆ–å±•ç¤ºç«‹åœºã€‚ä½ è¯´â€œå·æ™®ä¼šèµ¢â€ï¼Œæ˜¯å› ä¸ºä½ å¸Œæœ›ä»–èµ¢ã€‚</li>
<li><strong>æœ‰ç­¹ç çŠ¶æ€ï¼ˆé¢„æµ‹å¸‚åœºï¼‰ï¼š</strong> å½“ä½ æŠŠ 1000 USDC æ”¾åœ¨ç‰Œæ¡Œä¸Šçš„é‚£ä¸€åˆ»ï¼Œå¤šå·´èƒºé€€åœºï¼Œ<strong>å‰é¢å¶çš®å±‚ï¼ˆç†æ€§é€»è¾‘ï¼‰</strong> é‡æ–°å é¢†é«˜åœ°ã€‚ä½ ä¼šç«‹åˆ»åœæ­¢ä¸€å¢æƒ…æ„¿çš„å¹»æƒ³ï¼Œå¼€å§‹ç–¯ç‹‚ç ”ç©¶æ°‘è°ƒæ•°æ®ã€æ‘‡æ‘†å·ç»æµçŠ¶å†µå’Œå†å²èµ”ç‡ã€‚</li>
</ul>
<p><strong>ç»“è®ºï¼š</strong> Polymarket å¹¶ä¸æ˜¯åœ¨é¢„æµ‹æœªæ¥ï¼Œå®ƒæ˜¯åœ¨â€œæçº¯â€äººç±»çš„åˆ¤æ–­ã€‚å®ƒç”¨é‡‘é’±ä½œä¸ºè¿‡æ»¤å™¨ï¼Œæ»¤æ‰äº†æ‰€æœ‰çš„â€œæˆ‘å¸Œæœ› (I hope)â€ï¼Œåªç•™ä¸‹äº†æœ€çœŸå®çš„â€œæˆ‘è®¤ä¸º (I think)â€ã€‚</p>
<ol start="2">
<li>
<h3 data-id="heading-3">é£é™©è½¬ç§» (Risk Transfer)ï¼šç»™â€œç„¦è™‘â€å®šä»·</h3>
</li>
</ol>
<p>å¦‚æœè¯´â€œåˆ‡è‚¤ä¹‹ç—›â€è§£é‡Šäº†ä¸ºä»€ä¹ˆé¢„æµ‹å¸‚åœº<strong>å‡†</strong>ï¼Œé‚£ä¹ˆâ€œé£é™©è½¬ç§»â€åˆ™è§£é‡Šäº†ä¸ºä»€ä¹ˆå®ƒ<strong>æœ‰ç”¨</strong>ã€‚</p>
<p>å¾ˆå¤šäººè¯¯ä»¥ä¸º Polymarket åªæ˜¯ä¸€ä¸ªèµŒåšå¹³å°ï¼Œä½†åœ¨ç»æµå­¦å®¶çœ¼é‡Œï¼Œå®ƒæ˜¯ä¸€ä¸ªå®Œç¾çš„â€œç„¦è™‘äº¤æ˜“æ‰€â€ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç»å…¸çš„ <strong>â€œæƒ…æ„Ÿå¯¹å†²â€ (Emotional Hedge)</strong> æ¡ˆä¾‹ï¼š</p>
<blockquote>
<p>å‡è®¾ä½ æ˜¯ä¸€ä½åšå®šçš„ç¯ä¿ä¸»ä¹‰è€…ï¼Œä½ æåº¦ææƒ§ç‰¹æœ—æ™®å½“é€‰ï¼Œå› ä¸ºä½ æ‹…å¿ƒä»–ä¼šåºŸé™¤ç¯ä¿æ³•æ¡ˆï¼Œå¯¼è‡´ä½ çš„æ¸…æ´èƒ½æºå…¬å¸ç ´äº§ã€‚</p>
<p><strong>ä½ åº”è¯¥æ€ä¹ˆåšï¼Ÿ</strong> åœ¨ Polymarket ä¸Šï¼Œä½ åº”è¯¥<strong>é‡ä»“ä¹°å…¥â€œç‰¹æœ—æ™®èƒœé€‰â€</strong> ã€‚</p>
</blockquote>
<p>è¿™å¬èµ·æ¥å¾ˆåç›´è§‰ï¼Œä½†è¿™æ­£æ˜¯é‡‘èå¯¹å†²çš„ç²¾é«“ï¼š</p>
<ul>
<li><strong>æƒ…å†µ Aï¼ˆç‰¹æœ—æ™®èµ¢äº†ï¼‰ï¼š</strong> ä½ çš„ç¯ä¿ç†æƒ³ç ´ç­äº†ï¼Œå…¬å¸å¯èƒ½é¢ä¸´å›°éš¾ï¼Œ<strong>ä½†ä½ åœ¨ Polymarket ä¸Šèµšäº†ä¸€å¤§ç¬”é’±</strong>ã€‚è¿™ç¬”é’±æ˜¯å¯¹ä½ ç²¾ç¥åˆ›ä¼¤å’Œæ½œåœ¨ç»æµæŸå¤±çš„<strong>è¡¥å¿</strong>ã€‚</li>
<li><strong>æƒ…å†µ Bï¼ˆç‰¹æœ—æ™®è¾“äº†ï¼‰ï¼š</strong> ä½ åœ¨ Polymarket ä¸Šçš„é’±å½’é›¶äº†ï¼Œ<strong>ä½†ä½ å¾ˆé«˜å…´</strong>ã€‚å› ä¸ºä½ çš„ç†æƒ³å®ç°äº†ï¼Œä½ çš„å…¬å¸å®‰å…¨äº†ã€‚ä½ äºæ‰çš„é‚£ç¬”é’±ï¼Œæœ¬è´¨ä¸Šæ˜¯ä½ ä¸ºâ€œä¸–ç•Œå’Œå¹³â€æ”¯ä»˜çš„<strong>ä¿è´¹</strong>ã€‚</li>
</ul>
<p>é€šè¿‡è¿™ç§æœºåˆ¶ï¼ŒPolymarket æŠŠé£é™©ä»â€œé£é™©åŒæ¶è€…â€ <strong>ï¼ˆå¦‚ä¸Šè¿°çš„ç¯ä¿ä¸»ä¹‰è€…ï¼‰æ‰‹ä¸­ï¼Œè½¬ç§»åˆ°äº†</strong>â€œé£é™©æŠ•æœºè€…â€ï¼ˆå•çº¯æƒ³èµšé’±çš„äº¤æ˜“å‘˜ï¼‰æ‰‹ä¸­ã€‚</p>
<p>åœ¨è¿™ä¸ªç»´åº¦ä¸Šï¼Œé¢„æµ‹å¸‚åœºä¸å†æ˜¯èµŒåœºï¼Œå®ƒæ˜¯<strong>äººç±»å†å²ä¸Šç¬¬ä¸€ä¸ªèƒ½å¤Ÿé‡åŒ–ã€äº¤æ˜“å¹¶å¯¹å†²â€œæœªæ¥ç„¦è™‘â€çš„é‡‘èåŸºç¡€è®¾æ–½</strong>ã€‚</p>
<h2 data-id="heading-4">ç¬¬äºŒç« ï¼šå†å²æ¼”å˜ â€”â€” ä»â€œå¤šå·´èƒºâ€åˆ°â€œèµ„äº§åŒ–â€</h2>
<p><strong>(The Evolution: History &amp; Status)</strong></p>
<p>äººç±»ä¸ºäº†ç»™â€œä¸ç¡®å®šæ€§â€å®šä»·ï¼Œèµ°äº†å‡ åƒå¹´ã€‚è¿™æ˜¯ä¸€éƒ¨ä»è¡€è…¥çš„æ²™åœºèµ°å‘å†°å†·çš„ä»£ç çš„è¿›åŒ–å²ã€‚</p>
<p>è®©æˆ‘ä»¬æŠŠé•œå¤´æ‹‰è¿‡è¿™æ¼«é•¿çš„æ—¶å…‰éš§é“ï¼Œçœ‹çœ‹â€œé¢„æµ‹â€æ˜¯å¦‚ä½•ä¸€æ­¥æ­¥è„±èƒæ¢éª¨çš„ã€‚</p>
<h3 data-id="heading-5">1.0 ç½—é©¬æ–—å…½åœºï¼šå¸¦è¡€çš„ç­¹ç </h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c15c6277b474a4dbfa3f78ba723f104~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766544032&amp;x-signature=deTSpuXTIJaGfgmInmMss4ORDYQ%3D" alt="" loading="lazy"/></p>
<p><strong>(The Era of Dopamine)</strong></p>
<p>å…¬å…ƒ 80 å¹´ï¼Œç½—é©¬æ–—å…½åœºã€‚</p>
<p>ç©ºæ°”ä¸­å¼¥æ¼«ç€æ±—æ°´å’Œè¡€è…¥å‘³ã€‚ä¸¤ä¸ªè§’æ–—å£«æ­£åœ¨æ®Šæ­»ææ–—ï¼Œçœ‹å°ä¸Šçš„è´µæ—æŠŠé‡‘å¸æ‰”è¿›ç›˜å­é‡Œï¼ŒèµŒé‚£ä¸ªæ‹¿ä¸‰å‰æˆŸçš„å¥´éš¶èƒ½æ´»ä¸‹æ¥ã€‚</p>
<p>è¿™æ˜¯é¢„æµ‹å¸‚åœºçš„<strong>å²å‰æ—¶ä»£</strong>ã€‚ åœ¨è¿™é‡Œï¼Œé¢„æµ‹æ˜¯ä¸€ç§çº¯ç²¹çš„<strong>å¤šå·´èƒºæ¶ˆè´¹</strong>ã€‚æ²¡æœ‰å¤æ‚çš„èµ”ç‡è®¡ç®—ï¼Œæ²¡æœ‰é£é™©å¯¹å†²æ¨¡å‹ï¼Œåªæœ‰æœ€åŸå§‹çš„å†²åŠ¨â€”â€”æˆ‘æƒ³çœ‹ä»–èµ¢ï¼Œæˆ–è€…æˆ‘æƒ³çœ‹ä»–æ­»ã€‚è¿™æœ¬è´¨ä¸Šå’Œä»Šå¤©ä½ åœ¨çƒèµ›é‡ŒèµŒè°è¿›çƒæ²¡æœ‰åŒºåˆ«ï¼Œå®ƒæ»¡è¶³çš„æ˜¯å…½æ€§ï¼Œè€Œéç†æ€§ã€‚</p>
<p><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong> é’±è¿›å»äº†ï¼Œè¢«åº„å®¶ç‹ ç‹ åˆ‡äº†ä¸€åˆ€ï¼Œå‰©ä¸‹çš„æ‰ç»™èµ¢å®¶ã€‚è¿™æ˜¯ä¸€ä¸ª<strong>è´Ÿå’Œæ¸¸æˆ</strong>ã€‚</p>
<h3 data-id="heading-6">2.0 èŠåŠ å“¥çš„ç²®ä»“ï¼šææƒ§çš„è§£è¯</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16379cd39ab14fefbdb19bea07bd6b4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766544032&amp;x-signature=TCzin6g4v19q9O9TYKRU812Sa%2BI%3D" alt="" loading="lazy"/></p>
<p><strong>(The Era of Hedging)</strong></p>
<p>é•œå¤´åˆ‡åˆ° 1848 å¹´ï¼ŒèŠåŠ å“¥ã€‚</p>
<p>è¿™é‡Œæ²¡æœ‰è§’æ–—å£«ï¼Œåªæœ‰æ»¡è„¸æ„å®¹çš„ç‰ç±³å†œåœºä¸»ã€‚ä»–ä»¬ä¸å…³å¿ƒè°èµ¢ï¼Œä»–ä»¬åªå…³å¿ƒæ˜å¹´ç‰ç±³ä¼šä¸ä¼šè·Œåˆ°è¿è¿è´¹éƒ½ä¸å¤Ÿã€‚</p>
<p>äºæ˜¯ï¼Œ<strong>èŠåŠ å“¥æœŸè´§äº¤æ˜“æ‰€ (CBOT)</strong> è¯ç”Ÿäº†ã€‚ äººç±»å†å²ä¸Šç¬¬ä¸€æ¬¡ï¼Œäººä»¬æŠŠâ€œæ˜å¹´çš„ç‰ç±³â€å˜æˆäº†ä¸€å¼ å¯ä»¥ç°åœ¨ä¹°å–çš„çº¸ã€‚è¿™ä¸å†æ˜¯èµŒåšï¼Œè¿™æ˜¯<strong>ç”Ÿå­˜</strong>ã€‚ é¢„æµ‹ä»â€œå¨±ä¹â€è¿›åŒ–æˆäº†â€œé¿é™©å·¥å…·â€ã€‚é‡‘èå­¦ä»‹å…¥äº†ï¼Œå®ƒå‘Šè¯‰ä¸–ç•Œï¼š<strong>æ—¶é—´æ˜¯å¯ä»¥è¢«å®šä»·çš„ï¼Œææƒ§æ˜¯å¯ä»¥è¢«ä¹°å–çš„ã€‚</strong></p>
<p><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong> å†œæ°‘å–å‡ºâ€œææƒ§â€ï¼ŒæŠ•æœºè€…ä¹°å…¥â€œè´ªå©ªâ€ã€‚CME åœ¨ä¸­é—´åšæ‹…ä¿ã€‚è¿™æ˜¯<strong>é‡‘èé¿é™©</strong>ã€‚</p>
<h3 data-id="heading-7">3.0 ä»¥å¤ªåŠçš„æ—©æœŸåºŸå¢Ÿï¼šæå®¢çš„ä¹Œæ‰˜é‚¦</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e920ad3c738045ad937ac1c1b358e70a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766544032&amp;x-signature=VpF9%2BK6yLPqu1a%2BnD5nI%2BuocKMg%3D" alt="" loading="lazy"/></p>
<p><strong>(The Era of Friction)</strong></p>
<p>æ—¶é—´æ¥åˆ° 2015 å¹´ï¼Œä»¥å¤ªåŠåˆšåˆšè¯ç”Ÿã€‚ ä¸€ç¾¤å¤©æ‰æå®¢ï¼ˆåŒ…æ‹¬ Vitalik è‡ªå·±ï¼‰å…´å¥‹åœ°å®£ç§°ï¼šâ€œæˆ‘ä»¬è¦æŠŠèŠåŠ å“¥äº¤æ˜“æ‰€æ¬åˆ°é“¾ä¸Šï¼æˆ‘ä»¬è¦æ¶ˆç­ä¸­é—´å•†ï¼â€ äºæ˜¯ï¼Œ<strong>Augur</strong> è¯ç”Ÿäº†ã€‚ç†å¿µæå…¶æ€§æ„Ÿï¼Œç°å®æå…¶éª¨æ„Ÿã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼š ä½ æƒ³èµŒå¸Œæ‹‰é‡Œä¼šä¸ä¼šèµ¢ã€‚ä½ æ‰“å¼€ Augurï¼Œé¦–å…ˆè¦ä¸‹è½½å‡ å GB çš„åŒºå—é“¾æ•°æ®ï¼ŒåŒæ­¥ä¸‰å¤©ä¸‰å¤œã€‚å¥½ä¸å®¹æ˜“åŒæ­¥å®Œäº†ï¼Œä½ ç‚¹äº†ä¸€ä¸‹â€œYesâ€ï¼Œå¼¹çª—å‘Šè¯‰ä½ ï¼š<strong>Gas è´¹ $50ï¼Œç¡®è®¤æ—¶é—´ 15 åˆ†é’Ÿã€‚</strong> ç­‰ä½ ä¸‹å®Œæ³¨ï¼Œå¸Œæ‹‰é‡Œå¯èƒ½éƒ½å·²ç»å‘è¡¨è´¥é€‰æ„Ÿè¨€äº†ã€‚</p>
<p>Augur æ˜¯ä¸€æ¬¡ä¼Ÿå¤§çš„å¤±è´¥ã€‚å®ƒè¯æ˜äº†ï¼š<strong>æ²¡æœ‰ç”¨æˆ·ä½“éªŒçš„å»ä¸­å¿ƒåŒ–ï¼Œåªæ˜¯ä¸€åœºæ˜‚è´µçš„è‡ªå—¨ã€‚</strong> å®ƒèµ¢äº†å“²å­¦ï¼Œè¾“äº†äººæ€§ã€‚</p>
<p><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong> æµç¨‹å¤ªé•¿ï¼Œæ‘©æ“¦å¤ªå¤§ã€‚ç”¨æˆ·è¿˜æ²¡å¼€å§‹ç©ï¼Œå°±è¢« Gas è´¹å’Œç­‰å¾…æ—¶é—´åŠé€€äº†ã€‚è¿™æ˜¯<strong>æŠ€æœ¯è‡ªå—¨</strong>ã€‚</p>
<h3 data-id="heading-8">4.0 Polymarketï¼šå½“æŠ€æœ¯éšå½¢</h3>
<p><strong>(The Era of Assetization)</strong></p>
<p>æœ€åï¼Œé•œå¤´å®šæ ¼åœ¨ 2024 å¹´ã€‚</p>
<p>ä½ èººåœ¨æ²™å‘ä¸Šï¼Œæ‰“å¼€æ‰‹æœºï¼Œç‚¹å¼€ Polymarketã€‚æ²¡æœ‰ä¸‹è½½èŠ‚ç‚¹ï¼Œæ²¡æœ‰åŠ©è®°è¯çš„ææƒ§ï¼Œæ²¡æœ‰é«˜æ˜‚çš„ Gas è´¹ï¼ˆæ„Ÿè°¢ Polygon å’Œ L2ï¼‰ã€‚</p>
<p>ä½ ç”¨ USDC å……å€¼ï¼Œåƒå‘å¾®ä¿¡ä¸€æ ·ä¸æ»‘åœ°ä¹°å…¥äº†â€œç‰¹æœ—æ™®èƒœé€‰â€ã€‚</p>
<p>è¿™æ‰æ˜¯ç»ˆå±€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf82856271a5492e9e3b3165265e3867~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766544032&amp;x-signature=tU2lDXsZQ0rVmANMQrxr1iyy8nQ%3D" alt="" loading="lazy"/></p>
<p><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong> USDC è¿›å»ï¼Œç¬é—´å˜æˆ Yes/No ä»£å¸ã€‚L2 è§£å†³äº†é€Ÿåº¦ï¼ŒAMM è§£å†³äº†æµåŠ¨æ€§ã€‚è¿™æ˜¯<strong>ä¿¡æ¯èµ„äº§åŒ–</strong>ã€‚</p>
<p>Polymarket åšå¯¹äº†ä¸€ä»¶äº‹ï¼š<strong>å®ƒè®©åŒºå—é“¾æ¶ˆå¤±äº†ã€‚</strong> å®ƒæŠŠâ€œé¢„æµ‹â€å˜æˆäº†ä¸€ç§<strong>é«˜æµåŠ¨æ€§çš„ä¿¡æ¯èµ„äº§</strong>ã€‚ä½ æ‰‹ä¸­çš„é‚£ä¸ª Tokenï¼Œä¸å†æ˜¯ä¸€å¼ æ­»æ¿çš„èµŒç¥¨ï¼Œè€Œæ˜¯ä¸€ä¸ªæ´»ç€çš„ã€æ¯ç§’é’Ÿéƒ½åœ¨è·³åŠ¨çš„ <strong>â€œæ¦‚ç‡æ‰€æœ‰æƒâ€</strong> ã€‚</p>
<ul>
<li>ä½ å¯ä»¥éšæ—¶ä¹°å…¥ï¼ˆè¡¨è¾¾è§‚ç‚¹ï¼‰ï¼›</li>
<li>ä½ å¯ä»¥éšæ—¶å–å‡ºï¼ˆè·åˆ©äº†ç»“ï¼‰ï¼›</li>
<li>ä½ å¯ä»¥æŠŠå®ƒå€Ÿè´·ã€æŠµæŠ¼ã€ç”šè‡³ç»„åˆã€‚</li>
</ul>
<p>ä»ç½—é©¬çš„å¸¦è¡€é‡‘å¸ï¼Œåˆ°èŠåŠ å“¥çš„æœŸè´§åˆçº¦ï¼Œå†åˆ° Augur çš„å¡é¡¿ä»£ç ï¼Œæœ€ç»ˆè¿›åŒ–æˆäº† Polymarket ä¸Šé‚£æ¡ä¸æ»‘çš„è“è‰² K çº¿ã€‚</p>
<p>è¿™ä¸ä»…ä»…æ˜¯æŠ€æœ¯çš„èƒœåˆ©ï¼Œè¿™æ˜¯<strong>æµåŠ¨æ€§çš„èƒœåˆ©</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-9">ç¬¬ä¸‰ç« ï¼šå·¥ä½œåŸç† â€”â€” ä»·æ ¼å³æ¦‚ç‡</h2>
<p><strong>(The Mechanism: Price = Probability)</strong></p>
<p>Polymarket çš„æ ¸å¿ƒé­”æ³•ï¼Œåœ¨äºå®ƒå……å½“äº†ä¸€å°â€œé™ç»´æ‰“å‡»â€çš„æœºå™¨ã€‚</p>
<p>ç°å®ä¸–ç•Œæ˜¯æ··æ²Œçš„ã€å¤æ‚çš„ã€å……æ»¡å™ªéŸ³çš„ã€‚ä½† Polymarket é€šè¿‡<strong>äºŒå…ƒæœŸæƒ (Binary Option)</strong> ï¼Œå¼ºè¡ŒæŠŠè¿™ä¸ªå¤æ‚çš„ä¸–ç•Œå‹ç¼©æˆäº†ä¸¤ä¸ªç®€å•çš„çŠ¶æ€ï¼š<strong>Yes æˆ– No</strong>ã€‚</p>
<p>è¿™èƒŒåæœ‰ä¸€å¥—ä¼˜é›…çš„æ•°å­¦é€»è¾‘ã€‚</p>
<ol>
<li>
<h3 data-id="heading-10">æ‹†è§£åŸå­ï¼š1 USDC = 1 Yes + 1 No</h3>
</li>
</ol>
<p>å¾ˆå¤šäººä»¥ä¸ºåœ¨ Polymarket ä¸Šä¸‹æ³¨æ˜¯æŠŠé’±äº¤ç»™åº„å®¶ã€‚<strong>é”™ã€‚</strong> å½“ä½ æŠŠ 1 ç¾å…ƒï¼ˆUSDCï¼‰å­˜å…¥å¸‚åœºæ—¶ï¼Œæ™ºèƒ½åˆçº¦å®é™…ä¸Šæ‰§è¡Œäº†ä¸€æ¬¡â€œåŸå­åˆ†è£‚â€ï¼š</p>
<blockquote>
<p><strong>1 USDC â¡ï¸ 1 ä¸ªâ€œYes Tokenâ€ + 1 ä¸ªâ€œNo Tokenâ€</strong></p>
</blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªæ’ç­‰å¼ã€‚æ— è®ºæœªæ¥å‘ç”Ÿä»€ä¹ˆï¼Œåªè¦ä½ åŒæ—¶æŒæœ‰ Yes å’Œ Noï¼Œä½ éšæ—¶å¯ä»¥æŠŠå®ƒä»¬åˆå¹¶ï¼Œæ¢å›ä½ çš„ 1 USDCã€‚</p>
<ul>
<li><strong>å¦‚æœäº‹ä»¶å‘ç”Ÿï¼ˆYes èµ¢äº†ï¼‰ï¼š</strong> Yes Token ä»·å€¼å˜æˆ $1ï¼ŒNo Token å½’é›¶ã€‚</li>
<li><strong>å¦‚æœäº‹ä»¶æ²¡å‘ç”Ÿï¼ˆNo èµ¢äº†ï¼‰ï¼š</strong> No Token ä»·å€¼å˜æˆ $1ï¼ŒYes Token å½’é›¶ã€‚</li>
</ul>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ<strong>ä»·æ ¼å®Œç¾å¯¹åº”æ¦‚ç‡</strong>ï¼š å¦‚æœâ€œå·æ™®èƒœé€‰â€çš„ Yes Token ç°åœ¨çš„äº¤æ˜“ä»·æ ¼æ˜¯ **<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.60</mn><mo>âˆ—</mo><mo>âˆ—</mo><mtext>ï¼Œè¿™æ„å‘³ç€å¸‚åœºå…±è¯†è®¤ä¸ºï¼Œè¿™å¼ çº¸ç‰‡æœ€ç»ˆå˜æˆ</mtext></mrow><annotation encoding="application/x-tex">0.60**ï¼Œè¿™æ„å‘³ç€å¸‚åœºå…±è¯†è®¤ä¸ºï¼Œè¿™å¼ çº¸ç‰‡æœ€ç»ˆå˜æˆ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.60</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">âˆ—</span><span class="mord cjk_fallback">ï¼Œè¿™æ„å‘³ç€å¸‚åœºå…±è¯†è®¤ä¸ºï¼Œè¿™å¼ çº¸ç‰‡æœ€ç»ˆå˜æˆ</span></span></span></span></span>1 çš„æ¦‚ç‡æ˜¯ <strong>60%</strong> ã€‚</p>
<p>è¿™ä¸å†æ˜¯ç®€å•çš„äº¤æ˜“ï¼Œè¿™æ˜¯<strong>å…¨çƒè®¤çŸ¥çš„å®æ—¶æŠ•ç¥¨</strong>ã€‚æ¯ä¸€åˆ†é’±çš„æµåŠ¨ï¼Œéƒ½åœ¨å¾®è°ƒè¿™ä¸ªæ¦‚ç‡æ¨¡å‹ã€‚</p>
<ol start="2">
<li>
<h3 data-id="heading-11">è´ªå©ªçš„é²¨é±¼ï¼šå¥—åˆ©æœºåˆ¶ (Arbitrage)</h3>
</li>
</ol>
<p>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ç›¸ä¿¡è¿™ä¸ª $0.60 æ˜¯å‡†ç¡®çš„ï¼Ÿä¸ºä»€ä¹ˆå®ƒæ¯” CNN çš„æ°‘è°ƒæ›´å‡†ï¼Ÿ ç­”æ¡ˆå¾ˆç®€å•ï¼š<strong>å› ä¸ºæœ‰äººæƒ³æ¡é’±ã€‚</strong></p>
<p>è®©æˆ‘ä»¬æ¨æ¼”ä¸€ä¸ªâ€œé”™è¯¯å®šä»·â€çš„åœºæ™¯ï¼š</p>
<blockquote>
<p><strong>åœºæ™¯ï¼š</strong> å‡è®¾æ‰€æœ‰å®¢è§‚æ•°æ®ï¼ˆæ°‘è°ƒã€ç»æµæ¨¡å‹ï¼‰éƒ½æ˜¾ç¤ºå·æ™®çš„èƒœç‡æ˜¯ <strong>60%</strong> ã€‚ <strong>ç°çŠ¶ï¼š</strong> ä½†åœ¨ Polymarket ä¸Šï¼Œç”±äºä¸€ç¾¤ç‹‚çƒ­çš„åå¯¹è€…ç ¸ç›˜ï¼Œå·æ™®çš„ä»·æ ¼è¢«å‹ä½åˆ°äº† <strong>$0.10</strong>ï¼ˆå³ 10%ï¼‰ã€‚</p>
</blockquote>
<p>è¿™æ—¶å€™ï¼Œ<strong>å¥—åˆ©è€…ï¼ˆArbitrageursï¼‰</strong> ç™»åœºäº†ã€‚ åœ¨ä»–ä»¬çœ¼é‡Œï¼Œè¿™ä¸å«â€œæ”¿æ²»ç«‹åœºâ€ï¼Œè¿™å«â€œåœ°ä¸Šæœ‰é’±â€ã€‚</p>
<ul>
<li>ä»–ä»¬çœ‹åˆ°çš„æ˜¯ï¼šç”¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.10</mn><mtext>ä¹°å…¥ä¸€ä¸ªä»·å€¼</mtext></mrow><annotation encoding="application/x-tex">0.10 ä¹°å…¥ä¸€ä¸ªä»·å€¼ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">0.10</span><span class="mord cjk_fallback">ä¹°å…¥ä¸€ä¸ªä»·å€¼</span></span></span></span></span>0.60 çš„èµ„äº§ã€‚</li>
<li><strong>æœŸæœ›æ”¶ç›Šç‡ï¼š500%ã€‚</strong></li>
</ul>
<p>å…¨ä¸–ç•Œçš„èªæ˜èµ„é‡‘ã€é‡åŒ–åŸºé‡‘ã€ç”šè‡³ AI æœºå™¨äººä¼šåƒé—»åˆ°è¡€è…¥å‘³çš„é²¨é±¼ä¸€æ ·èœ‚æ‹¥è€Œè‡³ï¼Œç–¯ç‹‚ä¹°å…¥â€œYes Tokenâ€ã€‚</p>
<p>è¿™ç§ä¹°å…¥åŠ›é‡ä¼šè¿…é€Ÿæ¨é«˜ä»·æ ¼ï¼Œç›´åˆ°ä»·æ ¼ä» <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.10</mn><mtext>å›å‡åˆ°</mtext></mrow><annotation encoding="application/x-tex">0.10 å›å‡åˆ° </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">0.10</span><span class="mord cjk_fallback">å›å‡åˆ°</span></span></span></span></span>0.60ã€‚å½“ä»·æ ¼å›åˆ° $0.60 æ—¶ï¼Œæ— åˆ©å¯å›¾ï¼Œé²¨é±¼æ•£å»ã€‚</p>
<p><strong>ç»“è®ºï¼š</strong> å¹¶ä¸æ˜¯ Polymarket çŸ¥é“çœŸç›¸ã€‚æ˜¯<strong>ä¸€ä¸ªä¸ªè´ªå©ªçš„ä¸ªä½“ï¼Œä¸ºäº†èµšå–å“ªæ€• 1% çš„æ— é£é™©åˆ©æ¶¦ï¼Œé€šè¿‡â€œç¾¤ä½“åšå¼ˆâ€ï¼Œå¼ºè¡ŒæŠŠä»·æ ¼ä¿®æ­£åˆ°äº†æœ€æ¥è¿‘çœŸç›¸çš„ä½ç½®ã€‚</strong></p>
<ol start="3">
<li>
<h3 data-id="heading-12">åº•å±‚å¼•æ“ï¼šCTF ä¸ AMM</h3>
</li>
</ol>
<p>æ”¯æ’‘è¿™åœºå…¨çƒåšå¼ˆçš„ï¼Œæ˜¯ä¸¤ä¸ªå…³é”®çš„æŠ€æœ¯æ”¯æŸ±ã€‚æ²¡æœ‰å®ƒä»¬ï¼ŒPolymarket å°±ä¼šé€€åŒ–æˆå¡é¡¿çš„ Augurã€‚</p>
<ul>
<li>
<p><strong>æ¡ä»¶ä»£å¸æ¡†æ¶ (Conditional Tokens Framework, CTF)ï¼š</strong> è¿™æ˜¯ Gnosis å¼€å‘çš„ä¸€å¥—ç§¯æœ¨ã€‚å®ƒå…è®¸é¢„æµ‹å˜å¾—<strong>å¯ç»„åˆ</strong>ã€‚</p>
<ul>
<li><em>ä¾‹å­ï¼š</em> ä½ ä¸ä»…å¯ä»¥èµŒâ€œå·æ™®èµ¢â€ï¼Œä½ è¿˜å¯ä»¥èµŒâ€œå·æ™®èµ¢ <strong>ä¸”</strong> æ‹œç™»é€€é€‰â€ã€‚CTF å…è®¸æŠŠè¿™ç§å¤æ‚çš„é€»è¾‘åµŒå¥—è¿› Token é‡Œï¼Œè®©é¢„æµ‹æœ‰äº†æ·±åº¦ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ··åˆåšå¸‚æœºåˆ¶ (Hybrid CLOB/AMM)ï¼š</strong> æ—©æœŸçš„é“¾ä¸Šå¸‚åœºä½¿ç”¨ AMMï¼ˆè‡ªåŠ¨åšå¸‚å•†ï¼‰ï¼Œå°±åƒ Uniswapï¼Œæ»‘ç‚¹å¾ˆé«˜ã€‚ ç°åœ¨çš„ Polymarket å¼•å…¥äº† <strong>CLOBï¼ˆä¸­å¤®é™ä»·è®¢å•ç°¿ï¼‰</strong> ã€‚è¿™æ„å‘³ç€åšå¸‚å•†ï¼ˆMarket Makersï¼‰å¯ä»¥åƒåœ¨çº³æ–¯è¾¾å…‹ä¸€æ ·æŒ‚å•ã€‚</p>
<ul>
<li><strong>ç»“æœï¼š</strong> æè‡´çš„æµåŠ¨æ€§ã€‚å³ä½¿ä½ ä¸€æ¬¡æ€§ä¸‹æ³¨ 100 ä¸‡ç¾å…ƒï¼Œä»·æ ¼å¯èƒ½ä¹Ÿåªä¼šæ³¢åŠ¨ 0.1%ã€‚</li>
</ul>
</li>
</ul>
<ol start="4">
<li>
<h3 data-id="heading-13">è£å†³æœºåˆ¶ï¼šå»ä¸­å¿ƒåŒ–çš„æ³•å®˜ (The Resolution)</h3>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9632fedeee904aec83fbae650313584b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766544032&amp;x-signature=cQFxI4Zq8FzXQj4cQuTTYyY2hi0%3D" alt="" loading="lazy"/></p>
<p>åœ¨ä¼ ç»ŸèµŒåœºï¼Œåº„å®¶æ—¢æ˜¯è¿åŠ¨å‘˜ï¼Œåˆæ˜¯è£åˆ¤ã€‚å¦‚æœåº„å®¶è€èµ–ï¼Œä½ æ¯«æ— åŠæ³•ã€‚ ä½†åœ¨ Polymarketï¼Œ<strong>æ²¡æœ‰äººæ‹¥æœ‰â€œä¸Šå¸è§†è§’â€</strong> ã€‚</p>
<p>å®ƒå¼•å…¥äº†ä¸€ä¸ªåä¸º <strong>UMA (Universal Market Access)</strong> çš„å»ä¸­å¿ƒåŒ–é¢„è¨€æœºç³»ç»Ÿã€‚è¿™å¥—æœºåˆ¶è¢«ç§°ä¸ºâ€œä¹è§‚é¢„è¨€æœºâ€ (Optimistic Oracle)ï¼Œå…¶é€»è¾‘éå¸¸åç›´è§‰ï¼š</p>
<ul>
<li><strong>é»˜è®¤è¯šå®åŸåˆ™ï¼ˆOptimisticï¼‰ï¼š</strong> å½“å¤§é€‰ç»“æŸï¼Œä»»ä½•äººï¼ˆé€šå¸¸æ˜¯æè®®è€…ï¼‰éƒ½å¯ä»¥å‘é“¾ä¸Šæäº¤ç»“æœï¼šâ€œå·æ™®èµ¢äº†â€ã€‚ ç³»ç»Ÿ<strong>é»˜è®¤</strong>è¿™å¥è¯æ˜¯çœŸçš„ã€‚å®ƒä¸ä¼šç«‹å³å»æŸ¥è¯ï¼Œè€Œæ˜¯å¼€å¯ä¸€ä¸ªâ€œå¼‚è®®çª—å£æœŸâ€ (Dispute Window)ï¼ˆé€šå¸¸æ˜¯ 2 å°æ—¶ï¼‰ã€‚</li>
<li><strong>æŒ‘æˆ˜æœºåˆ¶ï¼ˆThe Challengeï¼‰ï¼š</strong> åœ¨è¿™ä¸ªçª—å£æœŸå†…ï¼Œå¦‚æœæœ‰äººè§‰å¾—ç»“æœä¸å¯¹ï¼ˆæ¯”å¦‚å…¶å®æ˜¯æ‹œç™»èµ¢äº†ï¼‰ï¼Œä»–å¯ä»¥è´¨æŠ¼ä¸€ç¬”é’±å‘èµ·â€œæŒ‘æˆ˜â€ (Dispute)ã€‚ ä¸€æ—¦å‘ç”ŸæŒ‘æˆ˜ï¼Œæ¡ˆä»¶å°±ä¼šå‡çº§ï¼Œäº¤ç»™ <strong>UMA ä»£å¸æŒæœ‰è€…</strong> è¿›è¡Œå…¨ç½‘æŠ•ç¥¨ã€‚</li>
<li><strong>è°¢æ—ç‚¹åšå¼ˆ (Schelling Point)ï¼š</strong> è¿™æ—¶å€™ï¼Œæˆåƒä¸Šä¸‡çš„ UMA æŒå¸è€…ä¼šè¿›è¡ŒæŠ•ç¥¨ã€‚ ä»–ä»¬ä¸ºä»€ä¹ˆè¦æŠ•å‡ºçœŸè¯ï¼Ÿå› ä¸ºåšå¼ˆè®ºã€‚ å¦‚æœæˆ‘ä¹±æŠ•ç¥¨ï¼ˆæŒ‡é¹¿ä¸ºé©¬ï¼‰ï¼ŒUMA ç³»ç»Ÿçš„å…¬ä¿¡åŠ›ä¼šå´©å¡Œï¼Œæˆ‘æ‰‹é‡Œçš„å¸ä¼šå½’é›¶ã€‚ ä¸ºäº†ä¿æŠ¤æˆ‘çš„èµ„äº§ä»·å€¼ï¼Œæˆ‘å¿…é¡»<strong>æŠ•å‡ºæˆ‘è®¤ä¸ºå…¶ä»–äººä¹Ÿä¼šæŠ•å‡ºçš„é‚£ä¸ªç»“æœ</strong>â€”â€”è€Œè¿™ä¸ªç»“æœï¼Œé€šå¸¸å°±æ˜¯<strong>å®¢è§‚çœŸç›¸</strong>ã€‚</li>
</ul>
<p><strong>ç»“è®ºï¼š</strong> å¹¶æ²¡æœ‰ä¸€ä¸ªä¸­å¿ƒåŒ–çš„â€œä¸Šå¸â€åœ¨å®£å¸ƒç»“æœã€‚ çœŸç›¸æ˜¯ç»è¿‡â€œé»˜è®¤é€šè¿‡ -&gt; æŒ‘æˆ˜ -&gt; å…¨æ°‘å…¬æŠ•â€è¿™å¥—ä¸¥å¯†çš„åšå¼ˆæµç¨‹åï¼Œæ²‰æ·€ä¸‹æ¥çš„å…±è¯†ã€‚è¿™ç¡®ä¿äº†å³ä½¿ Polymarket å…¬å¸å€’é—­ï¼Œåªè¦ä»¥å¤ªåŠè¿˜åœ¨ï¼Œä½ çš„èµŒæ³¨ä¾ç„¶èƒ½å¾—åˆ°å…¬æ­£çš„è£å†³ã€‚</p>
<hr/>
<h2 data-id="heading-14">ç¬¬å››ç« ï¼šåˆè§„ä¸å†²çª â€”â€” èµŒåœºè¿˜æ˜¯å…¬å…±è®¾æ–½ï¼Ÿ <strong>(The Regulation: The Conflict)</strong></h2>
<p>Polymarket å·²ç»å¾æœäº†æŠ€æœ¯ï¼Œä½†å®ƒé¢å‰è¿˜æŒ¡ç€ä¸€åº§å¤§å±±ï¼š<strong>æ³•å¾‹</strong>ã€‚</p>
<p>å½“ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„åè®®å˜å¾—æ¯” CNN æ›´å…·æƒå¨æ€§ï¼Œæ¯”æ‹‰æ–¯ç»´åŠ æ–¯æ›´å…·æµåŠ¨æ€§æ—¶ï¼Œå®ƒä¸å¯é¿å…åœ°æ’ä¸Šäº†æ—§ä¸–ç•Œçš„å›´å¢™ã€‚</p>
<p>ç›®å‰ï¼ŒPolymarket æ­£å¤„äºä¸€ç§æåº¦åˆ†è£‚çš„â€œé‡å­å åŠ æ€â€ï¼šåœ¨æå®¢çœ¼ä¸­ï¼Œå®ƒæ˜¯çœŸç†æœºå™¨ï¼›åœ¨ç›‘ç®¡è€…çœ¼ä¸­ï¼Œå®ƒæ˜¯éæ³•èµŒåœºã€‚</p>
<h3 data-id="heading-15">1. ç›‘ç®¡è€…çš„è§†è§’ï¼šæ‰‹é‡Œæ‹¿ç€é”¤å­çš„ CFTC <strong>(The Hammer)</strong></h3>
<p>åœ¨ç¾å›½å•†å“æœŸè´§äº¤æ˜“å§”å‘˜ä¼š (CFTC) çš„åŠå…¬å®¤é‡Œï¼ŒPolymarket çœ‹èµ·æ¥å¹¶ä¸æ€§æ„Ÿï¼Œå®ƒçœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ª<strong>è¿è§„çš„çŠ¯ç½ªç°åœº</strong>ã€‚</p>
<p>CFTC çš„é€»è¾‘éå¸¸ç¡¬æ ¸ä¸”ä¼ ç»Ÿï¼š</p>
<ul>
<li><strong>å®šä¹‰ï¼š</strong> åªè¦ä½ å¯¹æœªæ¥çš„æŸä¸ªç»“æœä¸‹æ³¨ï¼Œå¹¶ä¸”æ¶‰åŠèµ„é‡‘äº¤å‰²ï¼Œä½ å°±æ˜¯åœ¨äº¤æ˜“â€œäºŒå…ƒæœŸæƒâ€ (Binary Options)ã€‚</li>
<li><strong>è§„åˆ™ï¼š</strong> åœ¨ç¾å›½ï¼Œæä¾›æœŸæƒäº¤æ˜“å¿…é¡»æŒæœ‰ä¸¤å¼ ç‰Œç…§ï¼š<strong>DCM</strong> (æŒ‡å®šåˆçº¦å¸‚åœº) å’Œ <strong>DCO</strong> (è¡ç”Ÿå“æ¸…ç®—ç»„ç»‡)ã€‚</li>
<li><strong>é”™ä½ï¼š</strong> è¿™äº›æ³•å¾‹æ˜¯ 1930 å¹´ä»£ä¸ºäº†ç›‘ç®¡<strong>å¤§è±†ã€ç‰ç±³å’Œé»„é‡‘</strong>è€Œåˆ¶å®šçš„ã€‚ç›‘ç®¡è€…çš„æ€ç»´æ¡†æ¶é‡Œï¼Œåªæœ‰â€œå¤§å®—å•†å“â€æ‰é…æ‹¥æœ‰æœŸè´§å¸‚åœºã€‚</li>
</ul>
<p>åœ¨ä»–ä»¬çœ‹æ¥ï¼ŒæŠŠâ€œè°å½“æ€»ç»Ÿâ€å˜æˆä¸€ç§å¯äº¤æ˜“çš„èµ„äº§ï¼Œä¸ä»…è’è°¬ï¼Œè€Œä¸”å±é™©ã€‚è¿™ä¸ä»…æ¶‰å«Œéæ³•èµŒåšï¼Œè¿˜å¯èƒ½è¢«è§†ä¸ºå¹²æ‰°é€‰ä¸¾ã€‚ <strong>ç»“è®ºï¼š</strong> åœ¨ CFTC çœ¼é‡Œï¼ŒPolymarket å°±æ˜¯ä¸€ä¸ªæ²¡æœ‰æ‰§ç…§çš„åœ°ä¸‹èµŒåœºï¼Œå¿…é¡»å…³åœã€‚</p>
<h3 data-id="heading-16">2. è¾©æŠ¤è€…çš„è§†è§’ï¼šæ··ä¹±æ—¶ä»£çš„ç¯å¡” <strong>(The Shield)</strong></h3>
<p>ä½†åœ¨ç¡…è°·æŠ•èµ„äººã€ç»æµå­¦å®¶å’Œ Vitalik Buterin çœ‹æ¥ï¼ŒPolymarket æ ¹æœ¬ä¸æ˜¯èµŒåœºã€‚</p>
<p>å®ƒæ˜¯â€œä¿¡æ¯å…¬å…±äº§å“â€ (Information Public Good)ã€‚</p>
<p>åœ¨è¿™ä¸ª Deepfakeï¼ˆæ·±åº¦ä¼ªé€ ï¼‰æ³›æ»¥ã€åª’ä½“ç«‹åœºæåŒ–ã€å‡æ–°é—»æ¼«å¤©é£èˆçš„æ—¶ä»£ï¼Œæˆ‘ä»¬å¤±å»äº†å¯¹â€œçœŸç›¸â€çš„æ„ŸçŸ¥ã€‚</p>
<ul>
<li>CNN æœ‰ç«‹åœºï¼ŒFox æœ‰ç«‹åœºï¼Œç”±äºäººç±»çš„åè§ï¼Œæ°‘è°ƒä¹Ÿä¼šæ’’è°ã€‚</li>
<li><strong>ä½†é’±ä¸ä¼šæ’’è°ã€‚</strong></li>
</ul>
<p>æ”¯æŒè€…è®¤ä¸ºï¼ŒPolymarket æä¾›äº†ä¸€ä¸ªâ€œçœŸç›¸ä»ªè¡¨ç›˜â€ <strong>ã€‚å®ƒä¸ä»…å…·æœ‰å·¨å¤§çš„å•†ä¸šä»·å€¼ï¼Œæ›´å…·æœ‰æé«˜çš„</strong>ç¤¾ä¼šæ­£å¤–éƒ¨æ€§ã€‚å®ƒè®©ç¤¾ä¼šä»¥æœ€ä½çš„æˆæœ¬ï¼Œè·å–äº†å…³äºæœªæ¥æœ€å‡†ç¡®çš„é¢„æµ‹ã€‚ <strong>ç»“è®ºï¼š</strong> å°æ€ Polymarketï¼Œå°±åƒå› ä¸ºæœ‰äººç”¨ç”µæŠ¥è¯ˆéª—è€Œåˆ‡æ–­ç”µæŠ¥çº¿ä¸€æ ·ï¼Œæ˜¯å› å™åºŸé£Ÿã€‚</p>
<h3 data-id="heading-17">3. ç°çŠ¶ï¼šåœ°ç¼˜æ”¿æ²»å¥—åˆ© <strong>(The Gray Zone)</strong></h3>
<p>é¢å¯¹è¿™ç§ä¸å¯è°ƒå’Œçš„çŸ›ç›¾ï¼ŒPolymarket é€‰æ‹©äº†ä¸€ç§æå…¶ç‹¡çŒ¾çš„ç”Ÿå­˜ç­–ç•¥ï¼š<strong>åœ°ç¼˜æ”¿æ²»å¥—åˆ© (Geopolitical Arbitrage)</strong> ã€‚</p>
<ul>
<li><strong>åä¹‰åˆè§„ï¼š</strong> å¦‚æœä½ ç”¨ç¾å›½ IP æ‰“å¼€ Polymarketï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªå·¨å¤§çš„â€œAccess Restrictedâ€å¼¹çª—ã€‚Polymarket å®˜æ–¹åœ¨å‰ç«¯å±è”½äº†ç¾å›½ç”¨æˆ·ï¼Œä»¥æ­¤å‘ CFTC ç¤ºå¥½ï¼šâ€œä½ çœ‹ï¼Œæˆ‘æ²¡æœåŠ¡ç¾å›½äººã€‚â€</li>
<li><strong>é“¾ä¸Šç°å®ï¼š</strong> ä½†åˆ«å¿˜äº†ï¼Œæ™ºèƒ½åˆçº¦éƒ¨ç½²åœ¨ Polygon é“¾ä¸Šã€‚<strong>åŒºå—é“¾æ²¡æœ‰å›½ç•Œã€‚</strong> ä»»ä½•ä¸€ä¸ªæ‡‚æŠ€æœ¯çš„ç¾å›½äººï¼ŒæŒ‚ä¸ª VPNï¼Œæˆ–è€…ç›´æ¥é€šè¿‡ Etherscan è°ƒç”¨åˆçº¦ï¼Œä¾ç„¶å¯ä»¥ç•…é€šæ— é˜»åœ°äº¤æ˜“ã€‚</li>
</ul>
<p>è¿™æ˜¯ä¸€åœº<strong>å»ä¸­å¿ƒåŒ–æŠ€æœ¯ vs å¨æ–¯ç‰¹ä¼åˆ©äºšä¸»æƒå›½å®¶</strong>çš„æ‹‰é”¯æˆ˜ã€‚ ç›‘ç®¡è€…å¯ä»¥ç½šæ¬¾å…¬å¸ï¼ˆPolymarket æ›¾åœ¨ 2022 å¹´è¢«ç½š 140 ä¸‡ç¾å…ƒï¼‰ï¼Œå¯ä»¥å…³é—­ç½‘ç«™å‰ç«¯ï¼Œä½†ä»–ä»¬æ— æ³•å…³é—­ä»¥å¤ªåŠç½‘ç»œï¼Œæ— æ³•åˆ é™¤é“¾ä¸Šçš„ä»£ç ã€‚</p>
<hr/>
<h3 data-id="heading-18">âš”ï¸ é™„è¡¨ï¼šä¸¤ä¸ªä¸–ç•Œçš„è®¤çŸ¥é”™ä½</h3>
<p>ä¸ºäº†æ›´æ¸…æ™°åœ°å±•ç¤ºè¿™ç§å†²çªï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€å¼ å¯¹æ¯”è¡¨æ¥æ€»ç»“ï¼š</p>



































<table><thead><tr><th>ç»´åº¦</th><th>ğŸ›ï¸ CFTC (æ—§ä¸–ç•Œç›‘ç®¡)</th><th>ğŸ—½ Polymarket (æ–°ä¸–ç•Œä»£ç )</th></tr></thead><tbody><tr><td>æ ¸å¿ƒå®šä¹‰</td><td>éæ³•åœºå¤–è¡ç”Ÿå“ (Illegal Derivatives)</td><td>é¢„æµ‹å¸‚åœº / ä¿¡æ¯å…¬å…±äº§å“ (Public Good)</td></tr><tr><td>ç›‘ç®¡é€»è¾‘</td><td>â€œå¤§è±†é€»è¾‘â€ï¼šåªæœ‰å¤§å®—å•†å“æ‰éœ€è¦æœŸè´§</td><td>â€œä¿¡æ¯é€»è¾‘â€ï¼šä»»ä½•ä¸ç¡®å®šæ€§éƒ½åº”è¢«å®šä»·</td></tr><tr><td>åˆè§„è¦æ±‚</td><td>å¿…é¡»æŒæœ‰ DCO/DCM ç‰Œç…§</td><td>ä»£ç å³æ³•å¾‹ (Code is Law)</td></tr><tr><td>çœ‹å¾…ç”¨æˆ·</td><td>éœ€è¦è¢«ä¿æŠ¤çš„â€œèµŒå¾’â€</td><td>æä¾›ä¿¡æ¯çš„â€œé¢„è¨€å®¶â€</td></tr><tr><td>ç»ˆæç›®æ ‡</td><td>ç»´æŠ¤é‡‘èç§©åºç¨³å®š</td><td>å‘ç°å¹¶æå«çœŸç›¸</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-19">ç¬¬äº”ç« ï¼šæœªæ¥å±•æœ› â€”â€” ä»é¢„æµ‹é€‰ä¸¾åˆ°é¢„æµ‹ä¸€åˆ‡</h2>
<p><strong>(The Future: Predict Everything)</strong></p>
<p>é€‰ä¸¾åªæ˜¯ Polymarket çš„â€œç‰¹æ´›ä¼Šæœ¨é©¬â€ <strong>ã€‚</strong> <strong>å®ƒç”¨æœ€å—å…³æ³¨çš„æ”¿æ²»è¯é¢˜å¸å¼•äº†å…¨ä¸–ç•Œçš„ç›®å…‰ï¼Œä½†å®ƒçœŸæ­£æƒ³æ¤å…¥äººç±»ç¤¾ä¼šçš„ï¼Œæ˜¯ä¸€ç§å…¨æ–°çš„</strong>è®¤çŸ¥æ–¹å¼ã€‚</p>
<p>å½“â€œä»·æ ¼å³æ¦‚ç‡â€çš„æœºåˆ¶è¢«éªŒè¯æœ‰æ•ˆåï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå¤åˆ¶ç²˜è´´åˆ°ä»»ä½•å……æ»¡ä¸ç¡®å®šæ€§çš„é¢†åŸŸã€‚</p>
<h3 data-id="heading-20">1. ä¸‹ä¸€ä»£æ–°é—»æ ‡å‡†ï¼šå‘Šåˆ«â€œæ ‡é¢˜å…šâ€</h3>
<p><strong>(The New Media Standard)</strong></p>
<p>ç°åœ¨çš„æ–°é—»æ˜¯å»‰ä»·çš„ã€‚ä»»ä½•ä¸“å®¶éƒ½å¯ä»¥å¼ å£å°±æ¥ï¼šâ€œæˆ‘è®¤ä¸ºç¾è”å‚¨ä¸‹ä¸ªæœˆè‚¯å®šé™æ¯ã€‚â€ è¯´é”™äº†ä¹Ÿä¸ç”¨è´Ÿè´£ã€‚</p>
<p>æœªæ¥çš„æ–°é—»å°†æ˜¯â€œé•¿ç€ç‰™é½¿â€çš„ã€‚</p>
<ul>
<li><strong>åµŒå…¥å¼çœŸç›¸ï¼š</strong> æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ä½ æµè§ˆ Bloomberg æˆ–ã€Šçº½çº¦æ—¶æŠ¥ã€‹æ—¶ï¼Œä¸å†æ˜¯çœ‹ä¸“æ ä½œå®¶çš„é•¿ç¯‡å¤§è®ºï¼Œè€Œæ˜¯æ–‡ç« æ—è¾¹æŒ‚ç€ä¸€ä¸ª Polymarket çš„å®æ—¶æ’ä»¶ï¼š</li>
</ul>
<blockquote>
<ul>
<li><strong>â€œç¾è”å‚¨é™æ¯æ¦‚ç‡ï¼š72%â€</strong></li>
</ul>
</blockquote>
<ul>
<li><strong>ç”¨é’±æŠ•ç¥¨ï¼š</strong> æ‰€æœ‰çš„ punditï¼ˆè¯„è®ºå‘˜ï¼‰éƒ½å°†è¢«è¿«é€šè¿‡ä¸‹æ³¨æ¥è¯æ˜è‡ªå·±çš„è§‚ç‚¹ã€‚æ–°é—»å°†ä»â€œè§‚ç‚¹çš„ç½—åˆ—â€è¿›åŒ–ä¸ºâ€œæ¦‚ç‡çš„åŠ æƒâ€ã€‚</li>
<li><strong>ç»“æœï¼š</strong> å™ªéŸ³è¢«è¿‡æ»¤ï¼Œåªæœ‰é‚£äº›æ•¢æ‹¿çœŸé‡‘ç™½é“¶å†’é™©çš„ä¿¡æ¯ï¼Œæ‰ä¼šè¢«è§†ä¸ºé«˜ä»·å€¼ä¿¡å·ã€‚</li>
</ul>
<h3 data-id="heading-21">2. ä¼ä¸šçš„â€œè¯šå®è¡€æ¸…â€ï¼šæ¶ˆç­â€œYes Menâ€</h3>
<p><strong>(Corporate Truth Serum)</strong></p>
<p>å¤§å…¬å¸æœ€å¤§çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯<strong>ä¿¡æ¯ä¼ å¯¼å¤±çœŸ</strong>ã€‚ åº•å±‚å·¥ç¨‹å¸ˆæ˜æ˜çŸ¥é“é¡¹ç›®ä¼šå»¶æœŸï¼Œä½†ä¸ºäº†ä¸å¾—ç½ªé¢†å¯¼ï¼Œå±‚å±‚æ±‡æŠ¥ä¸Šå»å…¨æ˜¯â€œä¸€åˆ‡é¡ºåˆ©â€ã€‚ç›´åˆ° Deadline å‰ä¸€å¤©ï¼ŒCEO æ‰çŸ¥é“å®Œè›‹äº†ã€‚</p>
<p>é¢„æµ‹å¸‚åœºæ˜¯å®Œç¾çš„<strong>ä¼ä¸šå†…éƒ¨ç®¡ç†å·¥å…·</strong>ï¼š</p>
<ul>
<li><strong>åœºæ™¯ï¼š</strong> Google å†…éƒ¨å¼€è®¾ä¸€ä¸ªå¸‚åœºï¼šâ€œGemini 2.0 èƒ½åœ¨ 12 æœˆå‰å‘å¸ƒå—ï¼Ÿâ€</li>
<li><strong>æœºåˆ¶ï¼š</strong> å…è®¸å‘˜å·¥åŒ¿åäº¤æ˜“ã€‚å¦‚æœå·¥ç¨‹å¸ˆä»¬ç–¯ç‹‚ä¹°å…¥â€œNoâ€ï¼Œå¯¼è‡´â€œNoâ€çš„ä»·æ ¼é£™å‡åˆ° $0.90ã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> CEO ä¸éœ€è¦å¬æ±‡æŠ¥ï¼Œçœ‹ä¸€çœ¼ä»·æ ¼å°±çŸ¥é“é¡¹ç›®å‡ºé—®é¢˜äº†ã€‚è¿™æ˜¯ä¸€ç§<strong>ç»•è¿‡ç§‘å±‚åˆ¶ã€ç›´æ¥æå–åº•å±‚çœŸç›¸</strong>çš„æ‰‹æ®µã€‚</li>
</ul>
<h3 data-id="heading-22">3. ç§‘å­¦ä¸æ²»ç†ï¼šFutarchy çš„é›å½¢</h3>
<p><strong>(Governance by Market)</strong></p>
<p>è¿™æ˜¯æœ€ç§‘å¹»ã€ä¹Ÿæœ€æ¿€è¿›çš„æ„¿æ™¯ã€‚ç»æµå­¦å®¶ Robin Hanson æå‡ºäº† <strong>"Futarchy"</strong> ï¼ˆæœªæ¥æ”¿ä½“ï¼‰çš„æ¦‚å¿µï¼š <strong>â€œå¯¹ä»·å€¼æŠ•ç¥¨ï¼Œå¯¹ä¿¡ä»°ä¸‹æ³¨â€ (Vote on Values, Bet on Beliefs)ã€‚</strong></p>
<ul>
<li>
<p><strong>è§£å†³ç§‘å­¦å±æœºï¼š</strong> ç°åœ¨çš„å­¦æœ¯ç•Œå……æ»¡æ— æ³•å¤ç°çš„åƒåœ¾è®ºæ–‡ã€‚å¦‚æœè¦æ±‚ç§‘å­¦å®¶åœ¨å‘è¡¨è®ºæ–‡æ—¶ï¼Œå¿…é¡»åœ¨é¢„æµ‹å¸‚åœºä¹°å…¥â€œæˆ‘çš„å®éªŒå¯å¤ç°â€çš„åˆçº¦ï¼Œå­¦æœ¯é€ å‡æˆæœ¬å°†æ— é™æ‹‰é«˜ã€‚</p>
</li>
<li>
<p><strong>æ”¿ç­–åˆ¶å®šï¼š</strong> æ”¿åºœä¸å†äº‰è®ºâ€œè¯¥ä¸è¯¥å®æ–½ A æ”¿ç­–â€ï¼Œè€Œæ˜¯è®¾ç«‹ä¸¤ä¸ªå¸‚åœºï¼š</p>
<ul>
<li>â€œå¦‚æœå®æ–½ Aï¼Œä¸€å¹´å GDP æ˜¯å¤šå°‘ï¼Ÿâ€</li>
<li>â€œå¦‚æœä¸å®æ–½ Aï¼Œä¸€å¹´å GDP æ˜¯å¤šå°‘ï¼Ÿâ€ å¸‚åœºä¼šç»™å‡ºæœ€å®¢è§‚çš„é¢„æµ‹ï¼Œæ”¿ç­–åˆ¶å®šè€…åªéœ€é€‰æ‹©é‚£ä¸ªé¢„æœŸ GDP æ›´é«˜çš„é€‰é¡¹ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-23">æ€»ç»“ï¼šä»â€œèµŒåœºâ€åˆ°â€œè®¤è¯†è®ºâ€</h3>
<p>Polymarket çš„è¿›åŒ–è·¯å¾„éå¸¸æ¸…æ™°ï¼š</p>





























<table><thead><tr><th>é˜¶æ®µ</th><th>æ ¸å¿ƒåº”ç”¨</th><th>ä»·å€¼ä¸»å¼ </th><th>è§’è‰²</th></tr></thead><tbody><tr><td>1.0 (ç°åœ¨)</td><td>ç¾å›½å¤§é€‰ã€ä½“è‚²èµ›äº‹</td><td>å¨±ä¹ä¸æŠ•æœº</td><td>ä¸€ä¸ªæ›´å…¬å¹³çš„èµŒåœº</td></tr><tr><td>2.0 (ä¸­æœŸ)</td><td>å®è§‚ç»æµã€çªå‘æ–°é—»</td><td>ä¿¡æ¯å‘ç°</td><td>æ–°é—»åª’ä½“çš„â€œåç«¯â€</td></tr><tr><td>3.0 (ç»ˆå±€)</td><td>ä¼ä¸šå†³ç­–ã€æ”¿ç­–åˆ¶å®š</td><td>èµ„æºé…ç½®</td><td>äººç±»ç¤¾ä¼šçš„â€œå¯¼èˆªä»ªâ€</td></tr></tbody></table>
<p><strong>æœ€åçš„ç»“è¯­ï¼š</strong> Polymarket å¹¶ä¸æ˜¯åœ¨é¼“åŠ±èµŒåšã€‚ å®ƒæ˜¯åœ¨åˆ©ç”¨äººç±»æœ€åŸå§‹çš„æœ¬èƒ½â€”â€”<strong>è´ªå©ª</strong>ï¼Œæ¥æç‚¼äººç±»æœ€ç¨€ç¼ºçš„èµ„æºâ€”â€”<strong>çœŸç›¸</strong>ã€‚ åœ¨è¿™ä¸ªå……æ»¡è°è¨€çš„ä¸–ç•Œé‡Œï¼Œè¿™æˆ–è®¸æ˜¯æˆ‘ä»¬èƒ½æ‰¾åˆ°çš„æœ€è¯šå®çš„é•œå­ã€‚</p>
<hr/>
<h2 data-id="heading-24">ğŸ’¡ æ€»ç»“</h2>
<p>ä»ç½—é©¬æ–—å…½åœºçš„å˜¶å¼ï¼Œåˆ° Polymarket å®‰é™è·³åŠ¨çš„è®¢å•è–„ï¼Œäººç±»ä»æœªåœæ­¢è¿‡å¯¹æœªæ¥çš„çª¥æ¢ã€‚</p>
<p>åŒºåˆ«åœ¨äºï¼Œä»¥å‰æˆ‘ä»¬é ç¥­å¸å’Œæ°´æ™¶çƒï¼Œç°åœ¨æˆ‘ä»¬é <strong>ä»£ç ã€åšå¼ˆè®ºå’Œæ— æ•°ä¸ªè´ªå©ªçš„ä¸ªä½“</strong>ã€‚</p>
<p>åœ¨è¿™ä¸ªå……æ»¡å™ªéŸ³çš„ä¸–ç•Œé‡Œï¼ŒPolymarket å‘Šè¯‰äº†æˆ‘ä»¬ä¸€ä¸ªæœ´ç´ çš„çœŸç†ï¼š <strong>Talk is cheap. Show me your position.</strong> ï¼ˆåºŸè¯å°‘è¯´ï¼Œäº®å‡ºä½ çš„ä»“ä½ã€‚ï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€èŠ‚ç‚¹ã€‘[ColorspaceConversionèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨]]></title>    <link>https://juejin.cn/post/7584362317002719259</link>    <guid>https://juejin.cn/post/7584362317002719259</guid>    <pubDate>2025-12-17T02:50:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584362317002719259" data-draft-id="7584365584746807323" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€èŠ‚ç‚¹ã€‘[ColorspaceConversionèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,å›¾å½¢å­¦,Unity3D"/> <meta itemprop="datePublished" content="2025-12-17T02:50:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€èŠ‚ç‚¹ã€‘[ColorspaceConversionèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T02:50:32.000Z" title="Wed Dec 17 2025 02:50:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<p>åœ¨Unityçš„Shader Graphä¸­ï¼ŒColorspace ConversionèŠ‚ç‚¹æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”å®ç”¨çš„å·¥å…·ï¼Œå®ƒå…è®¸å¼€å‘è€…åœ¨ä¸åŒçš„é¢œè‰²ç©ºé—´ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚ç†è§£è¿™ä¸ªèŠ‚ç‚¹çš„å·¥ä½œåŸç†å’Œåº”ç”¨åœºæ™¯å¯¹äºåˆ›å»ºé«˜è´¨é‡çš„ç€è‰²å™¨æ•ˆæœè‡³å…³é‡è¦ã€‚é¢œè‰²ç©ºé—´è½¬æ¢åœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­æ‰®æ¼”ç€å…³é”®è§’è‰²ï¼Œå®ƒå½±å“ç€é¢œè‰²çš„è¡¨ç¤ºæ–¹å¼ã€è®¡ç®—ç²¾åº¦ä»¥åŠæœ€ç»ˆæ¸²æŸ“ç»“æœçš„å¤–è§‚ã€‚</p>
<h2 data-id="heading-0">èŠ‚ç‚¹æ¦‚è¿°</h2>
<p>Colorspace ConversionèŠ‚ç‚¹æ˜¯Shader Graphä¸­ç”¨äºå¤„ç†é¢œè‰²ç©ºé—´è½¬æ¢çš„æ ¸å¿ƒç»„ä»¶ã€‚è¯¥èŠ‚ç‚¹çš„ä¸»è¦åŠŸèƒ½æ˜¯å°†è¾“å…¥çš„è‰²å½©å€¼ä»ä¸€ç§é¢œè‰²ç©ºé—´è¡¨ç¤ºè½¬æ¢ä¸ºå¦ä¸€ç§é¢œè‰²ç©ºé—´è¡¨ç¤ºã€‚åœ¨å®æ—¶æ¸²æŸ“ä¸­ï¼Œæ­£ç¡®çš„é¢œè‰²ç©ºé—´å¤„ç†èƒ½å¤Ÿç¡®ä¿è‰²å½©çš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨æ¶‰åŠå…‰ç…§è®¡ç®—ã€åæœŸå¤„ç†æ•ˆæœå’Œè‰²å½©æ ¡æ­£ç­‰åœºæ™¯ä¸­ã€‚</p>
<p>é¢œè‰²ç©ºé—´å®šä¹‰äº†é¢œè‰²çš„æ•°å­¦è¡¨ç¤ºæ–¹æ³•ï¼Œä¸åŒçš„é¢œè‰²ç©ºé—´æœ‰ç€å„è‡ªçš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚åœ¨Unityçš„æ¸²æŸ“ç®¡çº¿ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨sRGBç©ºé—´ã€çº¿æ€§ç©ºé—´å’ŒHSVç©ºé—´ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œæ¯ä¸ªç©ºé—´éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ä¼˜åŠ¿å’Œç”¨é€”ã€‚Colorspace ConversionèŠ‚ç‚¹å°è£…äº†è¿™äº›å¤æ‚çš„è½¬æ¢ç®—æ³•ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿé€šè¿‡ç®€å•çš„èŠ‚ç‚¹è¿æ¥å®Œæˆä¸“ä¸šçš„è‰²å½©å¤„ç†ã€‚</p>
<p>è¯¥èŠ‚ç‚¹åœ¨URPï¼ˆUniversal Render Pipelineï¼‰ä¸­çš„é‡è¦æ€§å°¤ä¸ºçªå‡ºï¼Œå› ä¸ºURPå¼ºè°ƒè·¨å¹³å°å…¼å®¹æ€§å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œè€Œæ­£ç¡®çš„é¢œè‰²ç©ºé—´å¤„ç†æ˜¯å®ç°è¿™äº›ç›®æ ‡çš„åŸºç¡€ã€‚æ— è®ºæ˜¯ç§»åŠ¨è®¾å¤‡ã€ä¸»æœºè¿˜æ˜¯PCå¹³å°ï¼Œéƒ½éœ€è¦ç¡®ä¿è‰²å½©æ¸²æŸ“çš„ä¸€è‡´æ€§ã€‚</p>
<h2 data-id="heading-1">ç«¯å£è¯¦è§£</h2>
<p><img src="https://docs.unity.cn/cn/Packages-cn/com.unity.shadergraph@14.0/manual/images/ColorspaceConversionNodeThumb.png" alt="" loading="lazy"/></p>
<p>Colorspace ConversionèŠ‚ç‚¹çš„ç«¯å£è®¾è®¡ç®€æ´è€Œé«˜æ•ˆï¼ŒåŒ…å«è¾“å…¥å’Œè¾“å‡ºå„ä¸€ä¸ªç«¯å£ï¼Œä¸“é—¨ç”¨äºå¤„ç†ä¸‰ç»´å‘é‡æ•°æ®ã€‚</p>
<h3 data-id="heading-2">è¾“å…¥ç«¯å£ï¼ˆInï¼‰</h3>
<p>è¾“å…¥ç«¯å£æ ‡è®°ä¸º"In"ï¼Œæ¥å—Vector 3ç±»å‹çš„æ•°æ®ï¼Œä»£è¡¨éœ€è¦è½¬æ¢çš„åŸå§‹é¢œè‰²å€¼ã€‚è¿™ä¸ªä¸‰ç»´å‘é‡é€šå¸¸åŒ…å«ä¸‰ä¸ªåˆ†é‡ï¼Œåˆ†åˆ«å¯¹åº”ä¸åŒé¢œè‰²ç©ºé—´çš„åæ ‡å€¼ï¼š</p>
<ul>
<li>åœ¨RGBå’ŒLinearé¢œè‰²ç©ºé—´ä¸­ï¼Œä¸‰ä¸ªåˆ†é‡åˆ†åˆ«å¯¹åº”çº¢è‰²(Red)ã€ç»¿è‰²(Green)å’Œè“è‰²(Blue)é€šé“</li>
<li>åœ¨HSVé¢œè‰²ç©ºé—´ä¸­ï¼Œä¸‰ä¸ªåˆ†é‡åˆ†åˆ«å¯¹åº”è‰²ç›¸(Hue)ã€é¥±å’Œåº¦(Saturation)å’Œæ˜åº¦(Value)</li>
</ul>
<p>è¾“å…¥å€¼çš„èŒƒå›´å–å†³äºåŸå§‹é¢œè‰²ç©ºé—´çš„ç‰¹æ€§ï¼š</p>
<ul>
<li>RGBç©ºé—´çš„è¾“å…¥å€¼é€šå¸¸å‡å®šåœ¨[0,1]èŒƒå›´å†…</li>
<li>Linearç©ºé—´çš„è¾“å…¥å€¼ä¹Ÿæ˜¯[0,1]èŒƒå›´ï¼Œä½†è¡¨ç¤ºçš„æ˜¯çº¿æ€§å…‰ç…§å€¼</li>
<li>HSVç©ºé—´çš„Håˆ†é‡èŒƒå›´æ˜¯[0,1]ï¼ˆå¯¹åº”0-360åº¦è‰²ç›¸ç¯ï¼‰ï¼ŒSå’ŒVåˆ†é‡èŒƒå›´æ˜¯[0,1]</li>
</ul>
<h3 data-id="heading-3">è¾“å‡ºç«¯å£ï¼ˆOutï¼‰</h3>
<p>è¾“å‡ºç«¯å£æ ‡è®°ä¸º"Out"ï¼Œäº§ç”ŸVector 3ç±»å‹çš„æ•°æ®ï¼Œè¡¨ç¤ºè½¬æ¢åçš„é¢œè‰²å€¼ã€‚è¾“å‡ºçš„æ•°å€¼èŒƒå›´å’Œå«ä¹‰å–å†³äºç›®æ ‡é¢œè‰²ç©ºé—´çš„ç‰¹æ€§ï¼š</p>
<ul>
<li>è½¬æ¢åˆ°RGBç©ºé—´æ—¶ï¼Œè¾“å‡ºä¸‰ä¸ªåˆ†é‡åˆ†åˆ«ä»£è¡¨sRGBç©ºé—´ä¸­çš„Rã€Gã€Bå€¼</li>
<li>è½¬æ¢åˆ°Linearç©ºé—´æ—¶ï¼Œè¾“å‡ºä»£è¡¨çº¿æ€§å…‰ç…§å¼ºåº¦çš„ä¸‰ä¸ªåˆ†é‡</li>
<li>è½¬æ¢åˆ°HSVç©ºé—´æ—¶ï¼Œè¾“å‡ºåˆ†åˆ«ä»£è¡¨Hã€Sã€Vä¸‰ä¸ªåˆ†é‡</li>
</ul>
<p>è¾“å‡ºå€¼çš„æœ‰æ•ˆèŒƒå›´å§‹ç»ˆä¿æŒåœ¨[0,1]åŒºé—´å†…ï¼Œç¡®ä¿ä¸Shader Graphä¸­å…¶ä»–èŠ‚ç‚¹çš„å…¼å®¹æ€§ã€‚è¿™ç§æ ‡å‡†åŒ–è®¾è®¡ç®€åŒ–äº†èŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥å’Œæ•°æ®æµåŠ¨ã€‚</p>
<h2 data-id="heading-4">æ§ä»¶é…ç½®</h2>
<p>Colorspace ConversionèŠ‚ç‚¹æä¾›äº†ä¸¤ä¸ªå…³é”®çš„ä¸‹æ‹‰é€‰å•æ§ä»¶ï¼Œç”¨äºç²¾ç¡®æ§åˆ¶é¢œè‰²ç©ºé—´è½¬æ¢çš„æ–¹å‘å’Œæ–¹å¼ã€‚</p>
<h3 data-id="heading-5">Fromä¸‹æ‹‰é€‰å•</h3>
<p>Fromæ§ä»¶å®šä¹‰äº†è½¬æ¢çš„èµ·å§‹é¢œè‰²ç©ºé—´ï¼Œå³è¾“å…¥å€¼å½“å‰æ‰€å¤„çš„é¢œè‰²ç©ºé—´è¡¨ç¤ºã€‚è¿™ä¸ªé€‰æ‹©ç›´æ¥å½±å“èŠ‚ç‚¹å¦‚ä½•è§£é‡Šè¾“å…¥æ•°æ®ï¼š</p>
<ul>
<li><strong>RGBé€‰é¡¹</strong>ï¼šé€‰æ‹©æ­¤é€‰é¡¹æ—¶ï¼ŒèŠ‚ç‚¹å‡å®šè¾“å…¥å€¼å¤„äºsRGBé¢œè‰²ç©ºé—´ä¸­ã€‚sRGBæ˜¯æ ‡å‡†çš„æ˜¾ç¤ºå™¨è‰²å½©ç©ºé—´ï¼Œå…¶ä¼½é©¬å€¼çº¦ä¸º2.2ï¼Œç¬¦åˆäººç±»è§†è§‰å¯¹äº®åº¦çš„éçº¿æ€§æ„ŸçŸ¥ç‰¹æ€§ã€‚åœ¨sRGBç©ºé—´ä¸­ï¼Œé¢œè‰²å€¼çš„åˆ†å¸ƒæ›´ç¬¦åˆæ˜¾ç¤ºè®¾å¤‡çš„ç‰©ç†ç‰¹æ€§ï¼Œä½†ä¸å¤ªé€‚åˆè¿›è¡Œæ•°å­¦è¿ç®—ã€‚</li>
<li><strong>Linearé€‰é¡¹</strong>ï¼šé€‰æ‹©æ­¤é€‰é¡¹æ—¶ï¼ŒèŠ‚ç‚¹å‡å®šè¾“å…¥å€¼å¤„äºçº¿æ€§é¢œè‰²ç©ºé—´ä¸­ã€‚çº¿æ€§ç©ºé—´ä¸­çš„é¢œè‰²å€¼ä¸ç‰©ç†å…‰ç…§å¼ºåº¦æˆæ­£æ¯”å…³ç³»ï¼Œè¿™ä½¿å¾—å®ƒç‰¹åˆ«é€‚åˆè¿›è¡Œå…‰ç…§è®¡ç®—ã€æ··åˆå’Œæ’å€¼æ“ä½œã€‚åœ¨æ¸²æŸ“æ–¹ç¨‹ä¸­ä½¿ç”¨çº¿æ€§é¢œè‰²å€¼å¯ä»¥é¿å…å‡ºç°ä¸æ­£ç¡®çš„å…‰ç…§è¡°å‡å’Œé¢œè‰²æ··åˆç»“æœã€‚</li>
<li><strong>HSVé€‰é¡¹</strong>ï¼šé€‰æ‹©æ­¤é€‰é¡¹æ—¶ï¼ŒèŠ‚ç‚¹å‡å®šè¾“å…¥å€¼å¤„äºHSVé¢œè‰²ç©ºé—´ä¸­ã€‚HSVç©ºé—´ä»¥è‰²ç›¸ã€é¥±å’Œåº¦å’Œæ˜åº¦ä¸‰ä¸ªç»´åº¦æ¥æè¿°é¢œè‰²ï¼Œè¿™ç§è¡¨ç¤ºæ–¹æ³•æ›´ç¬¦åˆäººç±»å¯¹é¢œè‰²çš„ç›´è§‚æ„ŸçŸ¥ã€‚HSVç©ºé—´ç‰¹åˆ«é€‚åˆè¿›è¡Œè‰²å½©è°ƒæ•´æ“ä½œï¼Œæ¯”å¦‚æ”¹å˜è‰²è°ƒã€è°ƒæ•´é¥±å’Œåº¦æˆ–ä¿®æ”¹äº®åº¦ã€‚</li>
</ul>
<h3 data-id="heading-6">Toä¸‹æ‹‰é€‰å•</h3>
<p>Toæ§ä»¶å®šä¹‰äº†è½¬æ¢çš„ç›®æ ‡é¢œè‰²ç©ºé—´ï¼Œå³å¸Œæœ›å°†è¾“å…¥å€¼è½¬æ¢ä¸ºä½•ç§é¢œè‰²ç©ºé—´è¡¨ç¤ºï¼š</p>
<ul>
<li><strong>RGBé€‰é¡¹</strong>ï¼šå°†è¾“å…¥å€¼è½¬æ¢ä¸ºsRGBé¢œè‰²ç©ºé—´è¡¨ç¤ºã€‚è¿™ç§è½¬æ¢é€šå¸¸ç”¨äºæœ€ç»ˆçš„é¢œè‰²è¾“å‡ºï¼Œç¡®ä¿é¢œè‰²åœ¨æ ‡å‡†æ˜¾ç¤ºè®¾å¤‡ä¸Šæ­£ç¡®æ˜¾ç¤ºã€‚ä»Linearç©ºé—´è½¬æ¢åˆ°RGBç©ºé—´æ—¶ï¼Œä¼šåº”ç”¨ä¼½é©¬æ ¡æ­£ï¼Œå°†çº¿æ€§å€¼è½¬æ¢ä¸ºé€‚åˆæ˜¾ç¤ºçš„éçº¿æ€§å€¼ã€‚</li>
<li><strong>Linearé€‰é¡¹</strong>ï¼šå°†è¾“å…¥å€¼è½¬æ¢ä¸ºçº¿æ€§é¢œè‰²ç©ºé—´è¡¨ç¤ºã€‚è¿™ç§è½¬æ¢å¸¸ç”¨äºå‡†å¤‡è¿›è¡Œæ•°å­¦è¿ç®—çš„æ•°æ®ï¼Œç‰¹åˆ«æ˜¯å…‰ç…§è®¡ç®—ã€ç‰©ç†æ­£ç¡®çš„æ¸²æŸ“ä»¥åŠéœ€è¦ç²¾ç¡®è‰²å½©æ··åˆçš„åœºæ™¯ã€‚</li>
<li><strong>HSVé€‰é¡¹</strong>ï¼šå°†è¾“å…¥å€¼è½¬æ¢ä¸ºHSVé¢œè‰²ç©ºé—´è¡¨ç¤ºã€‚è¿™ç§è½¬æ¢é€‚ç”¨äºéœ€è¦åŸºäºè‰²ç›¸ã€é¥±å’Œåº¦æˆ–æ˜åº¦è¿›è¡Œè‰²å½©æ“ä½œçš„åœºæ™¯ï¼Œæ¯”å¦‚å®ç°é¢œè‰²é€‰æ‹©å™¨ã€åˆ›å»ºè‰²å½©å˜æ¢æ•ˆæœæˆ–è¿›è¡Œå›¾åƒå¤„ç†ç®—æ³•ã€‚</li>
</ul>
<h3 data-id="heading-7">æ§ä»¶ç»„åˆç­–ç•¥</h3>
<p>Fromå’ŒToæ§ä»¶çš„ç»„åˆå†³å®šäº†å…·ä½“çš„è½¬æ¢è·¯å¾„ï¼Œä¸åŒçš„ç»„åˆé€‚ç”¨äºä¸åŒçš„åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>ç›¸åŒé¢œè‰²ç©ºé—´ä¹‹é—´çš„è½¬æ¢ï¼ˆå¦‚RGBåˆ°RGBï¼‰å®é™…ä¸Šæ‰§è¡Œçš„æ˜¯ç›´é€šæ“ä½œï¼Œä½†å¯èƒ½åœ¨å†…éƒ¨è¿›è¡Œä¸€äº›æ•°æ®è§„èŒƒåŒ–å¤„ç†</li>
<li>ä»RGBåˆ°Linearçš„è½¬æ¢å¯¹äºå‡†å¤‡å…‰ç…§è®¡ç®—æ•°æ®è‡³å…³é‡è¦</li>
<li>ä»Linearåˆ°RGBçš„è½¬æ¢æ˜¯æ¸²æŸ“ç®¡çº¿çš„æœ€åæ­¥éª¤ä¹‹ä¸€ï¼Œç¡®ä¿é¢œè‰²æ­£ç¡®æ˜¾ç¤º</li>
<li>æ¶‰åŠHSVç©ºé—´çš„è½¬æ¢ç‰¹åˆ«é€‚åˆåˆ›ä½œå·¥å…·å’Œè‰ºæœ¯å¯¼å‘çš„æ•ˆæœ</li>
</ul>
<h2 data-id="heading-8">é¢œè‰²ç©ºé—´ç†è®ºåŸºç¡€</h2>
<p>è¦å……åˆ†åˆ©ç”¨Colorspace ConversionèŠ‚ç‚¹ï¼Œéœ€è¦æ·±å…¥ç†è§£å„ä¸ªé¢œè‰²ç©ºé—´çš„æ•°å­¦ç‰¹æ€§å’Œåº”ç”¨åœºæ™¯ã€‚</p>
<h3 data-id="heading-9">RGBé¢œè‰²ç©ºé—´</h3>
<p>RGBé¢œè‰²ç©ºé—´æ˜¯åŸºäºä¸‰åŸè‰²ï¼ˆçº¢ã€ç»¿ã€è“ï¼‰åŠ è‰²æ··åˆåŸç†å»ºç«‹çš„è‰²å½©æ¨¡å‹ã€‚åœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­ï¼Œæœ€å¸¸è§çš„RGBç©ºé—´æ˜¯sRGBï¼Œå®ƒå·²ç»æˆä¸ºäº’è”ç½‘å’Œå¤§å¤šæ•°åº”ç”¨ç¨‹åºçš„æ ‡å‡†ã€‚</p>
<p>sRGBç©ºé—´çš„å…³é”®ç‰¹æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li>éçº¿æ€§å“åº”ï¼šsRGBåº”ç”¨äº†å¤§çº¦2.2çš„ä¼½é©¬å€¼ï¼Œä½¿å¾—æ•°å€¼åˆ†å¸ƒæ›´ç¬¦åˆäººç±»è§†è§‰ç³»ç»Ÿçš„çµæ•åº¦</li>
<li>è®¾å¤‡ç›¸å…³æ€§ï¼šsRGBè‰²å½©ä¸æ˜¾ç¤ºè®¾å¤‡çš„ç‰¹æ€§ç´§å¯†ç›¸å…³</li>
<li>å­˜å‚¨æ•ˆç‡ï¼šéçº¿æ€§ç¼–ç åœ¨è§†è§‰ä¸Šæä¾›äº†æ›´å‡åŒ€çš„é‡åŒ–çº§åˆ«åˆ†å¸ƒ</li>
</ul>
<p>åœ¨Shader Graphä¸­ï¼Œçº¹ç†é‡‡æ ·é»˜è®¤è¿”å›sRGBç©ºé—´çš„å€¼ï¼Œè€Œé¢œè‰²é€‰æ‹©å™¨ä¹Ÿé€šå¸¸åœ¨æ­¤ç©ºé—´ä¸­å·¥ä½œã€‚è¿™æ„å‘³ç€ç›´æ¥ä»çº¹ç†é‡‡æ ·æˆ–ä½¿ç”¨é¢œè‰²å±æ€§å¾—åˆ°çš„å€¼é€šå¸¸å¤„äºsRGBç©ºé—´ã€‚</p>
<h3 data-id="heading-10">Linearé¢œè‰²ç©ºé—´</h3>
<p>çº¿æ€§é¢œè‰²ç©ºé—´ï¼Œä¹Ÿç§°ä¸ºçº¿æ€§RGBï¼Œå…¶ä¸­çš„æ•°å€¼ä¸ç‰©ç†å…‰ç…§å¼ºåº¦æˆçº¿æ€§æ­£æ¯”å…³ç³»ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—çº¿æ€§ç©ºé—´æˆä¸ºè¿›è¡Œæ•°å­¦è¿ç®—çš„ç†æƒ³é€‰æ‹©ã€‚</p>
<p>çº¿æ€§ç©ºé—´çš„é‡è¦æ€§ä½“ç°åœ¨ï¼š</p>
<ul>
<li>ç‰©ç†æ­£ç¡®æ€§ï¼šå…‰ç…§è®¡ç®—åŸºäºç‰©ç†æ³•åˆ™ï¼Œéœ€è¦åœ¨çº¿æ€§ç©ºé—´ä¸­è¿›è¡Œæ‰èƒ½å¾—åˆ°å‡†ç¡®ç»“æœ</li>
<li>æ··åˆå‡†ç¡®æ€§ï¼šé¢œè‰²æ··åˆã€é€æ˜åº¦åˆæˆç­‰æ“ä½œåœ¨çº¿æ€§ç©ºé—´ä¸­ä¼šäº§ç”Ÿæ›´è‡ªç„¶çš„ç»“æœ</li>
<li>ä¸€è‡´æ€§ï¼šä¸åŒå¼ºåº¦ä¸‹çš„é¢œè‰²è¿ç®—ç»“æœä¿æŒä¸€è‡´ï¼Œé¿å…ä¼½é©¬å¤±çœŸ</li>
</ul>
<p>Unityçš„æ¸²æŸ“ç®¡çº¿å†…éƒ¨å¤§é‡ä½¿ç”¨çº¿æ€§ç©ºé—´è¿›è¡Œè®¡ç®—ï¼Œç‰¹åˆ«æ˜¯åœ¨URPå’ŒHDRPä¸­ã€‚äº†è§£ä½•æ—¶éœ€è¦è¿›è¡Œç©ºé—´è½¬æ¢å¯¹äºåˆ›å»ºé«˜è´¨é‡çš„ç€è‰²å™¨è‡³å…³é‡è¦ã€‚</p>
<h3 data-id="heading-11">HSVé¢œè‰²ç©ºé—´</h3>
<p>HSVé¢œè‰²ç©ºé—´ä½¿ç”¨è‰²ç›¸(Hue)ã€é¥±å’Œåº¦(Saturation)å’Œæ˜åº¦(Value)ä¸‰ä¸ªç»´åº¦æ¥æè¿°é¢œè‰²ï¼Œè¿™ç§è¡¨ç¤ºæ–¹æ³•æ›´è´´è¿‘äººç±»å¯¹é¢œè‰²çš„ç›´è§‚æ„ŸçŸ¥ã€‚</p>
<p>HSVç©ºé—´çš„ç»„æˆéƒ¨åˆ†ï¼š</p>
<ul>
<li>è‰²ç›¸(H)ï¼šè¡¨ç¤ºé¢œè‰²çš„ç±»å‹ï¼Œåœ¨è‰²è½®ä¸Šçš„ä½ç½®ï¼ŒèŒƒå›´é€šå¸¸æ˜¯0Â°åˆ°360Â°ï¼ˆåœ¨Shaderä¸­å½’ä¸€åŒ–ä¸º0-1ï¼‰</li>
<li>é¥±å’Œåº¦(S)ï¼šè¡¨ç¤ºé¢œè‰²çš„çº¯åº¦æˆ–å¼ºåº¦ï¼Œä»ç°è‰²åˆ°å®Œå…¨é¥±å’Œçš„é¢œè‰²</li>
<li>æ˜åº¦(V)ï¼šè¡¨ç¤ºé¢œè‰²çš„äº®åº¦ï¼Œä»é»‘è‰²åˆ°æœ€äº®çš„é¢œè‰²</li>
</ul>
<p>HSVç©ºé—´çš„ä¸»è¦ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ç›´è§‚çš„è‰²å½©è°ƒæ•´ï¼šå¯ä»¥ç‹¬ç«‹è°ƒæ•´è‰²ç›¸ã€é¥±å’Œåº¦å’Œæ˜åº¦ï¼Œè€Œä¸å½±å“å…¶ä»–å±æ€§</li>
<li>è‰²å½©é€‰æ‹©ç®€åŒ–ï¼šåŸºäºè‰²è½®çš„è‰²å½©é€‰æ‹©æ¯”RGBç«‹æ–¹ä½“æ›´ç¬¦åˆç›´è§‰</li>
<li>ç‰¹æ•ˆåˆ¶ä½œï¼šåˆ›å»ºè‰²å½©å¾ªç¯ã€é¥±å’Œåº¦æ¸å˜ç­‰æ•ˆæœæ›´åŠ ç®€å•ç›´æ¥</li>
</ul>
<h2 data-id="heading-12">è½¬æ¢ç®—æ³•è¯¦è§£</h2>
<p>Colorspace ConversionèŠ‚ç‚¹å†…éƒ¨å®ç°äº†ç²¾ç¡®çš„æ•°å­¦è½¬æ¢ç®—æ³•ï¼Œç†è§£è¿™äº›ç®—æ³•æœ‰åŠ©äºé¢„æµ‹èŠ‚ç‚¹çš„è¡Œä¸ºå¹¶è°ƒè¯•å¯èƒ½å‡ºç°çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-13">RGBåˆ°Linearè½¬æ¢ç®—æ³•</h3>
<p>ä»sRGBåˆ°Linearç©ºé—´çš„è½¬æ¢æ¶‰åŠä¼½é©¬è§£ç è¿‡ç¨‹ï¼Œå…¶æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">
float3 <span class="hljs-attr">linearRGBLo</span> = In / <span class="hljs-number">12.92</span><span class="hljs-comment">;</span>
float3 <span class="hljs-attr">linearRGBHi</span> = pow(max(abs((In + <span class="hljs-number">0.055</span>) / <span class="hljs-number">1.055</span>), <span class="hljs-number">1.192092896</span>e-<span class="hljs-number">07</span>), float3(<span class="hljs-number">2.4</span>, <span class="hljs-number">2.4</span>, <span class="hljs-number">2.4</span>))<span class="hljs-comment">;</span>
<span class="hljs-attr">Out</span> = float3(In &lt;= <span class="hljs-number">0.04045</span>) ? linearRGBLo : linearRGBHi<span class="hljs-comment">;</span>

</code></pre>
<p>è¿™ä¸ªç®—æ³•çš„æ ¸å¿ƒæ˜¯åˆ†æ®µå‡½æ•°ï¼š</p>
<ul>
<li>å¯¹äºæš—éƒ¨åŒºåŸŸï¼ˆIn &lt;= 0.04045ï¼‰ï¼Œä½¿ç”¨çº¿æ€§å˜æ¢ï¼Œé¿å…åœ¨æä½å€¼å¤„å‡ºç°ç²¾åº¦é—®é¢˜</li>
<li>å¯¹äºäº®éƒ¨åŒºåŸŸï¼Œä½¿ç”¨å¹‚å¾‹å‡½æ•°è¿›è¡Œä¼½é©¬è§£ç </li>
<li>ä½¿ç”¨max(abs(...), 1.192092896e-07)ç¡®ä¿æ•°å€¼ç¨³å®šæ€§ï¼Œé¿å…å‡ºç°æ— æ•ˆçš„å¹‚è¿ç®—</li>
</ul>
<p>è¿™ç§è½¬æ¢å¯¹äºå…‰ç…§è®¡ç®—è‡³å…³é‡è¦ï¼Œå› ä¸ºç‰©ç†å…‰ç…§æ–¹ç¨‹åœ¨çº¿æ€§ç©ºé—´ä¸­æ‰èƒ½æ­£ç¡®å·¥ä½œã€‚</p>
<h3 data-id="heading-14">Linearåˆ°RGBè½¬æ¢ç®—æ³•</h3>
<p>ä»Linearåˆ°sRGBçš„è½¬æ¢æ˜¯ä¼½é©¬ç¼–ç è¿‡ç¨‹ï¼Œä¸ä¸Šè¿°è¿‡ç¨‹ç›¸åï¼š</p>
<pre><code class="hljs language-ini" lang="ini">
float3 <span class="hljs-attr">sRGBLo</span> = In * <span class="hljs-number">12.92</span><span class="hljs-comment">;</span>
float3 <span class="hljs-attr">sRGBHi</span> = (pow(max(abs(In), <span class="hljs-number">1.192092896</span>e-<span class="hljs-number">07</span>), float3(<span class="hljs-number">1.0</span> / <span class="hljs-number">2.4</span>, <span class="hljs-number">1.0</span> / <span class="hljs-number">2.4</span>, <span class="hljs-number">1.0</span> / <span class="hljs-number">2.4</span>)) * <span class="hljs-number">1.055</span>) - <span class="hljs-number">0.055</span><span class="hljs-comment">;</span>
<span class="hljs-attr">Out</span> = float3(In &lt;= <span class="hljs-number">0.0031308</span>) ? sRGBLo : sRGBHi<span class="hljs-comment">;</span>

</code></pre>
<p>è¿™ä¸ªè½¬æ¢çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>åŒæ ·ä½¿ç”¨åˆ†æ®µå‡½æ•°ï¼Œä¸´ç•Œç‚¹åœ¨0.0031308</li>
<li>ç¡®ä¿è½¬æ¢åçš„é¢œè‰²å€¼åœ¨æ ‡å‡†æ˜¾ç¤ºè®¾å¤‡ä¸Šæ­£ç¡®æ˜¾ç¤º</li>
<li>æ˜¯æ¸²æŸ“ç®¡çº¿çš„æœ€åæ­¥éª¤ä¹‹ä¸€ï¼Œåœ¨è¾“å‡ºåˆ°å¸§ç¼“å†²åŒºä¹‹å‰åº”ç”¨</li>
</ul>
<h3 data-id="heading-15">RGBä¸HSVäº’è½¬ç®—æ³•</h3>
<p>RGBä¸HSVä¹‹é—´çš„è½¬æ¢æ¶‰åŠæ›´å¤æ‚çš„å‡ ä½•å…³ç³»ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªé¢œè‰²ç©ºé—´çš„æ ¹æœ¬ç»“æ„ä¸åŒã€‚</p>
<p>ä»RGBåˆ°HSVçš„è½¬æ¢ç®—æ³•ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">
float4 K = <span class="hljs-built_in">float4</span>(<span class="hljs-number">0.0</span>, -<span class="hljs-number">1.0</span> / <span class="hljs-number">3.0</span>, <span class="hljs-number">2.0</span> / <span class="hljs-number">3.0</span>, -<span class="hljs-number">1.0</span>);
float4 <span class="hljs-selector-tag">P</span> = <span class="hljs-built_in">lerp</span>(float4(In.bg, K.wz), <span class="hljs-built_in">float4</span>(In.gb, K.xy), <span class="hljs-built_in">step</span>(In.b, In.g));
float4 <span class="hljs-selector-tag">Q</span> = <span class="hljs-built_in">lerp</span>(float4(P.xyw, In.r), <span class="hljs-built_in">float4</span>(In.r, P.yzx), <span class="hljs-built_in">step</span>(P.x, In.r));
<span class="hljs-attribute">float</span> D = <span class="hljs-selector-tag">Q</span><span class="hljs-selector-class">.x</span> - <span class="hljs-built_in">min</span>(Q.w, Q.y);
<span class="hljs-attribute">float</span> E = <span class="hljs-number">1</span>e-<span class="hljs-number">10</span>;
Out = <span class="hljs-built_in">float3</span>(abs(Q.z + (Q.w - Q.y)/(<span class="hljs-number">6.0</span> * D + E)), D / (Q.x + E), <span class="hljs-selector-tag">Q</span><span class="hljs-selector-class">.x</span>);

</code></pre>
<p>è¿™ä¸ªç®—æ³•çš„å…³é”®ç‚¹ï¼š</p>
<ul>
<li>é€šè¿‡æ¯”è¾ƒRGBåˆ†é‡æ‰¾åˆ°æœ€å¤§å€¼ã€ä¸­é—´å€¼å’Œæœ€å°å€¼</li>
<li>è®¡ç®—è‰²ç›¸æ—¶è€ƒè™‘é¢œè‰²åœ¨è‰²è½®ä¸Šçš„ä½ç½®</li>
<li>é¥±å’Œåº¦è®¡ç®—åŸºäºæœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®å¼‚</li>
<li>æ˜åº¦ç›´æ¥å–RGBåˆ†é‡ä¸­çš„æœ€å¤§å€¼</li>
</ul>
<p>ä»HSVåˆ°RGBçš„è½¬æ¢ç®—æ³•ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">
float4 <span class="hljs-attr">K</span> = float4(<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span> / <span class="hljs-number">3.0</span>, <span class="hljs-number">1.0</span> / <span class="hljs-number">3.0</span>, <span class="hljs-number">3.0</span>)<span class="hljs-comment">;</span>
float3 <span class="hljs-attr">P</span> = abs(frac(In.xxx + K.xyz) * <span class="hljs-number">6.0</span> - K.www)<span class="hljs-comment">;</span>
<span class="hljs-attr">Out</span> = In.z * lerp(K.xxx, saturate(P - K.xxx), In.y)<span class="hljs-comment">;</span>

</code></pre>
<p>è¿™ä¸ªç®—æ³•çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>åŸºäºè‰²ç›¸åœ¨è‰²è½®ä¸Šçš„ä½ç½®è®¡ç®—RGBåˆ†é‡</li>
<li>ä½¿ç”¨lerpå’Œsaturateç¡®ä¿ç»“æœåœ¨æœ‰æ•ˆèŒƒå›´å†…</li>
<li>æ˜åº¦å€¼ç›´æ¥ç¼©æ”¾æœ€ç»ˆç»“æœ</li>
</ul>
<h2 data-id="heading-16">å®é™…åº”ç”¨æ¡ˆä¾‹</h2>
<p>Colorspace ConversionèŠ‚ç‚¹åœ¨Shader Graphä¸­æœ‰å¹¿æ³›çš„åº”ç”¨åœºæ™¯ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å…¸å‹çš„ç”¨ä¾‹ã€‚</p>
<h3 data-id="heading-17">å…‰ç…§è®¡ç®—ä¸­çš„é¢œè‰²ç©ºé—´è½¬æ¢</h3>
<p>åœ¨å®ç°è‡ªå®šä¹‰å…‰ç…§æ¨¡å‹æ—¶ï¼Œæ­£ç¡®çš„é¢œè‰²ç©ºé—´å¤„ç†è‡³å…³é‡è¦ã€‚ä¸€ä¸ªå¸¸è§çš„åº”ç”¨æ˜¯å°†çº¹ç†é¢œè‰²ä»sRGBè½¬æ¢åˆ°Linearç©ºé—´è¿›è¡Œå…‰ç…§è®¡ç®—ï¼š</p>
<ul>
<li>é¦–å…ˆä½¿ç”¨Sample Texture 2DèŠ‚ç‚¹é‡‡æ ·çº¹ç†</li>
<li>å°†é‡‡æ ·ç»“æœè¿æ¥åˆ°Colorspace ConversionèŠ‚ç‚¹çš„Inç«¯å£</li>
<li>è®¾ç½®Fromä¸ºRGBï¼ŒToä¸ºLinear</li>
<li>å°†è½¬æ¢åçš„Linearé¢œè‰²ç”¨äºå…‰ç…§è®¡ç®—</li>
<li>è®¡ç®—å®Œæˆåï¼Œå†å°†ç»“æœä»Linearè½¬æ¢å›RGBç”¨äºè¾“å‡º</li>
</ul>
<p>è¿™ç§å·¥ä½œæµç¨‹ç¡®ä¿äº†ï¼š</p>
<ul>
<li>å…‰ç…§è®¡ç®—åœ¨çº¿æ€§ç©ºé—´ä¸­æ­£ç¡®è¿›è¡Œ</li>
<li>æœ€ç»ˆé¢œè‰²é€‚åˆæ˜¾ç¤ºè®¾å¤‡</li>
<li>é¿å…äº†ä¼½é©¬ä¸æ­£ç¡®å¯¼è‡´çš„å…‰ç…§è¿‡äº®æˆ–è¿‡æš—é—®é¢˜</li>
</ul>
<h3 data-id="heading-18">è‰²å½©è°ƒæ•´ç‰¹æ•ˆ</h3>
<p>åˆ©ç”¨HSVé¢œè‰²ç©ºé—´å¯ä»¥åˆ›å»ºç›´è§‚çš„è‰²å½©è°ƒæ•´æ•ˆæœã€‚ä¾‹å¦‚ï¼Œå®ç°ä¸€ä¸ªå¯åŠ¨æ€è°ƒæ•´è‰²è°ƒçš„ç€è‰²å™¨ï¼š</p>
<ul>
<li>å°†åŸå§‹RGBé¢œè‰²è½¬æ¢ä¸ºHSVç©ºé—´</li>
<li>ä½¿ç”¨TimeèŠ‚ç‚¹é©±åŠ¨è‰²ç›¸å€¼å¾ªç¯å˜åŒ–</li>
<li>ä¿æŒé¥±å’Œåº¦å’Œæ˜åº¦ä¸å˜</li>
<li>å°†è°ƒæ•´åçš„HSVè½¬æ¢å›RGBç©ºé—´</li>
</ul>
<p>è¿™ç§æ–¹æ³•çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>è‰²ç›¸è°ƒæ•´è‡ªç„¶ä¸”ç¬¦åˆè§†è§‰é¢„æœŸ</li>
<li>å¯ä»¥è½»æ¾åˆ›å»ºè‰²å½©å¾ªç¯åŠ¨ç”»</li>
<li>ä¸å½±å“å›¾åƒçš„å¯¹æ¯”åº¦å’Œäº®åº¦</li>
</ul>
<h3 data-id="heading-19">é«˜çº§å›¾åƒå¤„ç†</h3>
<p>åœ¨å®ç°å¤æ‚çš„å›¾åƒå¤„ç†æ•ˆæœæ—¶ï¼Œç»å¸¸éœ€è¦åœ¨ä¸åŒé¢œè‰²ç©ºé—´ä¹‹é—´åˆ‡æ¢ä»¥åˆ©ç”¨å„è‡ªçš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>åœ¨RGBç©ºé—´è¿›è¡Œè¾¹ç¼˜æ£€æµ‹å’Œçº¹ç†åˆ†æ</li>
<li>è½¬æ¢åˆ°HSVç©ºé—´è¿›è¡Œé€‰æ‹©æ€§è‰²å½©è°ƒæ•´</li>
<li>åœ¨Linearç©ºé—´è¿›è¡Œæ¨¡ç³Šå’Œæ··åˆæ“ä½œ</li>
<li>æœ€ç»ˆè½¬æ¢å›RGBç©ºé—´è¾“å‡º</li>
</ul>
<p>å¤šç©ºé—´åä½œçš„ä¾‹å­ï¼š</p>
<ul>
<li>é¥±å’Œåº¦å¢å¼ºï¼šåœ¨HSVç©ºé—´ä¸­å¢åŠ Såˆ†é‡</li>
<li>è‰²å½©é”®æ§ï¼šåœ¨HSVç©ºé—´ä¸­åŸºäºè‰²ç›¸è¿›è¡ŒæŠ åƒ</li>
<li>è‰²è°ƒæ˜ å°„ï¼šåœ¨Linearç©ºé—´ä¸­å¤„ç†HDRå†…å®¹ï¼Œç„¶åè½¬æ¢åˆ°RGB</li>
</ul>
<h2 data-id="heading-20">æ€§èƒ½è€ƒè™‘ä¸æœ€ä½³å®è·µ</h2>
<p>åœ¨ä½¿ç”¨Colorspace ConversionèŠ‚ç‚¹æ—¶ï¼Œéœ€è¦è€ƒè™‘æ€§èƒ½å½±å“å¹¶éµå¾ªæœ€ä½³å®è·µã€‚</p>
<h3 data-id="heading-21">æ€§èƒ½å½±å“åˆ†æ</h3>
<p>é¢œè‰²ç©ºé—´è½¬æ¢æ¶‰åŠæ•°å­¦è¿ç®—ï¼Œä¸åŒè½¬æ¢è·¯å¾„çš„è®¡ç®—æˆæœ¬å„ä¸ç›¸åŒï¼š</p>
<ul>
<li>RGBä¸Linearä¹‹é—´çš„è½¬æ¢åŒ…å«æ¡ä»¶åˆ¤æ–­å’Œå¹‚è¿ç®—ï¼Œè®¡ç®—æˆæœ¬ä¸­ç­‰</li>
<li>æ¶‰åŠHSVçš„è½¬æ¢åŒ…å«æ›´å¤šå‘é‡è¿ç®—å’Œæ¡ä»¶åˆ¤æ–­ï¼Œè®¡ç®—æˆæœ¬è¾ƒé«˜</li>
<li>ç›¸åŒç©ºé—´ä¹‹é—´çš„è½¬æ¢æˆæœ¬æœ€ä½ï¼ŒåŸºæœ¬ä¸Šæ˜¯ç›´é€šæ“ä½œ</li>
</ul>
<p>ä¼˜åŒ–å»ºè®®ï¼š</p>
<ul>
<li>é¿å…åœ¨ç‰‡æ®µç€è‰²å™¨ä¸­ä¸å¿…è¦çš„é‡å¤è½¬æ¢</li>
<li>è€ƒè™‘åœ¨é¡¶ç‚¹ç€è‰²å™¨æˆ–é¢„å¤„ç†é˜¶æ®µè¿›è¡Œè½¬æ¢</li>
<li>å¯¹äºé™æ€æ•°æ®ï¼Œé¢„å…ˆè®¡ç®—è½¬æ¢ç»“æœ</li>
</ul>
<h3 data-id="heading-22">ç²¾åº¦è€ƒè™‘</h3>
<p>é¢œè‰²ç©ºé—´è½¬æ¢ä¸­çš„ç²¾åº¦é—®é¢˜éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>æä½å€¼å¤„ç†ï¼šè½¬æ¢ç®—æ³•ä¸­åŒ…å«å¯¹å°å€¼çš„ç‰¹æ®Šå¤„ç†ï¼Œé¿å…æ•°å€¼ä¸ç¨³å®š</li>
<li>è‰²ç›¸ç¯ç»•ï¼šHSVè‰²ç›¸æ˜¯å¾ªç¯çš„ï¼Œå¤„ç†è¾¹ç•Œæƒ…å†µæ—¶éœ€è¦æ³¨æ„</li>
<li>ä¼½é©¬æ ¡æ­£çš„ç²¾åº¦å¯¹æœ€ç»ˆè§†è§‰æ•ˆæœå½±å“æ˜¾è‘—</li>
</ul>
<p>ç²¾åº¦æœ€ä½³å®è·µï¼š</p>
<ul>
<li>åœ¨å…³é”®è®¡ç®—ä¸­ä½¿ç”¨é«˜ç²¾åº¦æµ®ç‚¹æ•°</li>
<li>æµ‹è¯•æç«¯è¾“å…¥å€¼ä¸‹çš„èŠ‚ç‚¹è¡Œä¸º</li>
<li>äº†è§£ä¸åŒå¹³å°ä¸Šçš„ç²¾åº¦å·®å¼‚</li>
</ul>
<h3 data-id="heading-23">å·¥ä½œæµç¨‹æ•´åˆ</h3>
<p>å°†Colorspace ConversionèŠ‚ç‚¹æœ‰æ•ˆæ•´åˆåˆ°Shader Graphå·¥ä½œæµç¨‹ä¸­ï¼š</p>
<ul>
<li>å»ºç«‹æ ‡å‡†çš„é¢œè‰²ç©ºé—´å¤„ç†æµç¨‹</li>
<li>ä½¿ç”¨Sub Graphå°è£…å¸¸ç”¨çš„è½¬æ¢ç»„åˆ</li>
<li>ä¸ºå›¢é˜Ÿåˆ¶å®šé¢œè‰²ç©ºé—´ä½¿ç”¨è§„èŒƒ</li>
<li>åœ¨Shaderä¸­æ·»åŠ é€‚å½“çš„æ³¨é‡Šè¯´æ˜é¢œè‰²ç©ºé—´å‡è®¾</li>
</ul>
<p>æ–‡æ¡£å’Œç»´æŠ¤å»ºè®®ï¼š</p>
<ul>
<li>è®°å½•ç€è‰²å™¨ä¸­å…³é”®èŠ‚ç‚¹çš„é¢œè‰²ç©ºé—´çŠ¶æ€</li>
<li>ä½¿ç”¨ä¸€è‡´çš„å‘½åçº¦å®šæ ‡è¯†é¢œè‰²ç©ºé—´</li>
<li>å®šæœŸå®¡æŸ¥å’Œæµ‹è¯•é¢œè‰²ç›¸å…³ä»£ç </li>
</ul>
<h2 data-id="heading-24">æ•…éšœæ’é™¤ä¸å¸¸è§é—®é¢˜</h2>
<p>åœ¨ä½¿ç”¨Colorspace ConversionèŠ‚ç‚¹æ—¶å¯èƒ½ä¼šé‡åˆ°å„ç§é—®é¢˜ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§é—®é¢˜åŠå…¶è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-25">é¢œè‰²æ˜¾ç¤ºä¸æ­£ç¡®</h3>
<p>å½“æœ€ç»ˆæ¸²æŸ“ç»“æœä¸é¢„æœŸä¸ç¬¦æ—¶ï¼Œå¯èƒ½çš„åŸå› åŒ…æ‹¬ï¼š</p>
<ul>
<li>é”™è¯¯çš„é¢œè‰²ç©ºé—´å‡è®¾ï¼šç¡®ä¿æ¸…æ¥šæ¯ä¸ªçº¹ç†å’Œé¢œè‰²å€¼çš„é¢œè‰²ç©ºé—´</li>
<li>ç¼ºå¤±å¿…è¦çš„è½¬æ¢ï¼šæ£€æŸ¥æ¸²æŸ“ç®¡çº¿ä¸­æ˜¯å¦ç¼ºå°‘å¿…è¦çš„ä¼½é©¬æ ¡æ­£</li>
<li>å¹³å°å·®å¼‚ï¼šä¸åŒå¹³å°å¯èƒ½æœ‰ä¸åŒçš„é¢œè‰²ç©ºé—´é»˜è®¤å€¼</li>
</ul>
<p>è¯Šæ–­æ­¥éª¤ï¼š</p>
<ul>
<li>æ£€æŸ¥è¾“å…¥è¾“å‡ºçš„æ•°å€¼èŒƒå›´</li>
<li>éªŒè¯Fromå’ŒToè®¾ç½®æ˜¯å¦æ­£ç¡®</li>
<li>æµ‹è¯•ç®€å•çš„å·²çŸ¥é¢œè‰²è½¬æ¢</li>
</ul>
<h3 data-id="heading-26">æ€§èƒ½é—®é¢˜</h3>
<p>å¦‚æœç€è‰²å™¨æ€§èƒ½ä¸å¦‚é¢„æœŸï¼Œå¯èƒ½çš„åŸå› ï¼š</p>
<ul>
<li>è¿‡äºé¢‘ç¹çš„é¢œè‰²ç©ºé—´è½¬æ¢</li>
<li>åœ¨ä¸éœ€è¦é«˜ç²¾åº¦çš„æƒ…å†µä¸‹ä½¿ç”¨å¤æ‚è½¬æ¢</li>
<li>æœªèƒ½åˆ©ç”¨ç¡¬ä»¶åŠ é€Ÿçš„è½¬æ¢åŠŸèƒ½</li>
</ul>
<p>ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<ul>
<li>ä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·è¯†åˆ«çƒ­ç‚¹</li>
<li>è€ƒè™‘å°†è½¬æ¢ç§»è‡³è¾ƒä½é¢‘ç‡çš„è®¡ç®—é˜¶æ®µ</li>
<li>è¯„ä¼°æ˜¯å¦çœŸçš„éœ€è¦å®æ—¶è½¬æ¢</li>
</ul>
<h3 data-id="heading-27">æ•°å€¼ç²¾åº¦é—®é¢˜</h3>
<p>æç«¯æƒ…å†µä¸‹å¯èƒ½å‡ºç°çš„æ•°å€¼é—®é¢˜ï¼š</p>
<ul>
<li>æä½å€¼ä¸‹çš„ç²¾åº¦æŸå¤±</li>
<li>è‰²ç›¸ç¯ç»•æ—¶çš„è¾¹ç•Œé—®é¢˜</li>
<li>ä¼½é©¬æ ¡æ­£ä¸­çš„æº¢å‡ºé—®é¢˜</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>ä½¿ç”¨æ›´é«˜ç²¾åº¦çš„æ•°æ®ç±»å‹</li>
<li>å®ç°è‡ªå®šä¹‰çš„è¾¹ç•Œå¤„ç†</li>
<li>æ·»åŠ æ•°å€¼å®‰å…¨ä¿æŠ¤</li>
</ul>
<h2 data-id="heading-28">è¿›é˜¶åº”ç”¨ä¸æŠ€å·§</h2>
<p>æŒæ¡äº†Colorspace ConversionèŠ‚ç‚¹çš„åŸºæœ¬åŸç†åï¼Œå¯ä»¥æ¢ç´¢ä¸€äº›è¿›é˜¶åº”ç”¨å’ŒæŠ€å·§ã€‚</p>
<h3 data-id="heading-29">è‡ªå®šä¹‰é¢œè‰²ç©ºé—´è½¬æ¢</h3>
<p>è™½ç„¶Shader Graphæä¾›äº†å†…ç½®çš„è½¬æ¢èŠ‚ç‚¹ï¼Œä½†æœ‰æ—¶å¯èƒ½éœ€è¦å®ç°è‡ªå®šä¹‰çš„è½¬æ¢ï¼š</p>
<ul>
<li>ä½¿ç”¨MathèŠ‚ç‚¹æ‰‹åŠ¨å®ç°ç‰¹å®šè½¬æ¢ç®—æ³•</li>
<li>åˆ›å»ºé’ˆå¯¹ç‰¹å®šéœ€æ±‚çš„ä¼˜åŒ–ç‰ˆæœ¬</li>
<li>å®ç°éæ ‡å‡†é¢œè‰²ç©ºé—´ä¹‹é—´çš„è½¬æ¢</li>
</ul>
<p>è‡ªå®šä¹‰è½¬æ¢çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>é’ˆå¯¹ç‰¹å®šç”¨ä¾‹ä¼˜åŒ–æ€§èƒ½</li>
<li>å®ç°ç‰¹æ®Šçš„è‰²å½©å¤„ç†éœ€æ±‚</li>
<li>æä¾›æ›´å¤§çš„çµæ´»æ€§å’Œæ§åˆ¶åŠ›</li>
</ul>
<h3 data-id="heading-30">å¤šç©ºé—´æ··åˆæŠ€æœ¯</h3>
<p>é«˜çº§ç€è‰²å™¨æ•ˆæœå¯èƒ½éœ€è¦åœ¨å¤šä¸ªé¢œè‰²ç©ºé—´ä¸­è¿›è¡Œæ“ä½œï¼š</p>
<ul>
<li>åœ¨Linearç©ºé—´è¿›è¡Œå…‰ç…§è®¡ç®—</li>
<li>åœ¨HSVç©ºé—´è¿›è¡Œè‰²å½©è°ƒæ•´</li>
<li>åœ¨RGBç©ºé—´è¿›è¡ŒåæœŸå¤„ç†</li>
</ul>
<p>æ··åˆå·¥ä½œæµç¨‹çš„ä¾‹å­ï¼š</p>
<ul>
<li>HDRè‰²è°ƒæ˜ å°„ï¼šåœ¨Linearç©ºé—´å¤„ç†é«˜åŠ¨æ€èŒƒå›´ï¼Œç„¶åè½¬æ¢åˆ°RGB</li>
<li>é€‰æ‹©æ€§è‰²å½©æ ¡æ­£ï¼šåœ¨HSVç©ºé—´è¯†åˆ«ç‰¹å®šé¢œè‰²èŒƒå›´ï¼Œåœ¨RGBç©ºé—´è¿›è¡Œå¤„ç†</li>
<li>ç‰©ç†æ­£ç¡®çš„æ··åˆï¼šåœ¨çº¿æ€§ç©ºé—´è¿›è¡Œé€æ˜åº¦æ··åˆï¼Œé¿å…ä¼½é©¬é—®é¢˜</li>
</ul>
<h3 data-id="heading-31">ä¸å…¶ä»–èŠ‚ç‚¹çš„ååŒå·¥ä½œ</h3>
<p>Colorspace ConversionèŠ‚ç‚¹ä¸å…¶ä»–Shader GraphèŠ‚ç‚¹çš„ç»“åˆä½¿ç”¨ï¼š</p>
<ul>
<li>ä¸Custom FunctionèŠ‚ç‚¹ç»“åˆå®ç°ç‰¹æ®Šç®—æ³•</li>
<li>ä¸Sub Graphç»“åˆåˆ›å»ºå¯é‡ç”¨çš„é¢œè‰²å¤„ç†æ¨¡å—</li>
<li>ä¸BranchèŠ‚ç‚¹ç»“åˆå®ç°æ¡ä»¶è½¬æ¢é€»è¾‘</li>
</ul>
<p>é›†æˆæŠ€å·§ï¼š</p>
<ul>
<li>åˆ›å»ºé¢œè‰²ç©ºé—´æ„ŸçŸ¥çš„Sub Graph</li>
<li>ä½¿ç”¨SwitchèŠ‚ç‚¹æ ¹æ®æ¡ä»¶é€‰æ‹©ä¸åŒçš„è½¬æ¢è·¯å¾„</li>
<li>åˆ©ç”¨Vertex Colorå’ŒUVæ•°æ®é©±åŠ¨é¢œè‰²ç©ºé—´å‚æ•°</li>
</ul>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€è¡Œ npm init viteï¼Œå‰ç«¯å·¥ç¨‹åŒ–çš„ä¸–ç•Œå°±æ­¤å±•å¼€]]></title>    <link>https://juejin.cn/post/7584343534968061994</link>    <guid>https://juejin.cn/post/7584343534968061994</guid>    <pubDate>2025-12-17T03:03:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584343534968061994" data-draft-id="7584358227611287594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€è¡Œ npm init viteï¼Œå‰ç«¯å·¥ç¨‹åŒ–çš„ä¸–ç•Œå°±æ­¤å±•å¼€"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Vite"/> <meta itemprop="datePublished" content="2025-12-17T03:03:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™½å…°åœ°ç©ºç“¶"/> <meta itemprop="url" content="https://juejin.cn/user/191753514127514"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€è¡Œ npm init viteï¼Œå‰ç«¯å·¥ç¨‹åŒ–çš„ä¸–ç•Œå°±æ­¤å±•å¼€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/191753514127514/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™½å…°åœ°ç©ºç“¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T03:03:18.000Z" title="Wed Dec 17 2025 03:03:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ä½ ä»¥ä¸ºä½ åœ¨å†™ Vueï¼Ÿ</strong></p>
<p>ä¸ï¼Œå…¶å®ä½ æ˜¯åœ¨é©¾é©¶ä¸€å¥—é«˜åº¦è‡ªåŠ¨åŒ–çš„ã€Œå‰ç«¯å·¥ç¨‹ç³»ç»Ÿã€ã€‚</p>
</blockquote>
<p>åœ¨ 2025 å¹´çš„å‰ç«¯ä¸–ç•Œï¼Œ<strong>ä¼šå†™é¡µé¢ â‰  ä¼šåšé¡¹ç›®</strong>ã€‚</p>
<p>çœŸæ­£æ‹‰å¼€å·®è·çš„ï¼Œæ˜¯ä½ å¯¹ <strong>å·¥ç¨‹åŒ–</strong> çš„ç†è§£ç¨‹åº¦ï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆä¸€è¡Œå‘½ä»¤å°±èƒ½èµ·é¡¹ç›®ï¼Ÿ</li>
<li>Vite åˆ°åº•å¸®æˆ‘ä»¬åšäº†ä»€ä¹ˆï¼Ÿ</li>
<li>ç›®å½•ç»“æ„ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ</li>
<li>è·¯ç”±ã€çƒ­æ›´æ–°ã€æ„å»ºæµç¨‹æ˜¯å¦‚ä½•ååŒå·¥ä½œçš„ï¼Ÿ</li>
</ul>
<p>è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°±ä»¥ <strong>Vue3 + Vite é¡¹ç›®æ¡†æ¶</strong> ä¸ºä¸»çº¿ï¼Œå¸¦ä½ ä»ã€Œèƒ½è·‘ã€åˆ°ã€Œçœ‹æ‡‚ã€ï¼ŒçœŸæ­£ç†è§£ <strong>ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–çš„åº•å±‚é€»è¾‘</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ç°ä»£å‰ç«¯ï¼Œæ—©å°±ä¸æ˜¯â€œå†™å‡ ä¸ª HTMLâ€äº†</h2>
<p>å¦‚æœä½ è¿˜åœç•™åœ¨è¿™æ ·çš„è®¤çŸ¥ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>é‚£ä½ å·²ç»é”™è¿‡äº†æ•´æ•´ä¸€ä¸ªæ—¶ä»£ã€‚</p>
<h3 data-id="heading-1">ğŸŒ ä»Šå¤©çš„å‰ç«¯é¡¹ç›®ï¼Œæœ¬è´¨æ˜¯ï¼š</h3>
<blockquote>
<p><strong>ä¸€ä¸ªè¿è¡Œåœ¨ Node.js ä¸Šçš„å·¥ç¨‹ç³»ç»Ÿï¼Œæœ€ç»ˆäº§å‡ºæµè§ˆå™¨å¯æ‰§è¡Œçš„ä»£ç ã€‚</strong></p>
</blockquote>
<p>å®ƒåŒ…å«ï¼š</p>
<ul>
<li>æ¨¡å—ç³»ç»Ÿï¼ˆESMï¼‰</li>
<li>æ„å»ºå·¥å…·ï¼ˆViteï¼‰</li>
<li>ä¾èµ–ç®¡ç†ï¼ˆnpmï¼‰</li>
<li>ç»„ä»¶ä½“ç³»ï¼ˆVueï¼‰</li>
<li>è·¯ç”±ç³»ç»Ÿï¼ˆvue-routerï¼‰</li>
<li>å¼€å‘ä½“éªŒä¼˜åŒ–ï¼ˆHMRã€DevToolsï¼‰</li>
</ul>
<p>è€Œè¿™ä¸€åˆ‡çš„èµ·ç‚¹ï¼Œåªæœ‰ä¸€è¡Œå‘½ä»¤ ğŸ‘‡</p>
<hr/>
<h2 data-id="heading-2">äºŒã€<code>npm init vite</code>ï¼šä¸æ˜¯æ–°å»ºé¡¹ç›®ï¼Œæ˜¯åŠ è½½ä¸€å¥—å·¥ç¨‹æ–¹æ¡ˆ</h2>
<pre><code class="hljs language-csharp" lang="csharp">npm <span class="hljs-keyword">init</span> vite
</code></pre>
<p>å¾ˆå¤šäººä»¥ä¸ºå®ƒåªæ˜¯ï¼š</p>
<blockquote>
<p>ã€Œå¸®æˆ‘ç”Ÿæˆå‡ ä¸ªæ–‡ä»¶ã€</p>
</blockquote>
<p>ä½†çœŸç›¸æ˜¯ï¼š</p>
<blockquote>
<p><strong>Vite ç»™ä½ çš„æ˜¯ä¸€å¥—è¢«æ— æ•°é¡¹ç›®éªŒè¯è¿‡çš„â€œå·¥ç¨‹åŒ–æœ€ä½³å®è·µæ¨¡æ¿â€ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-3">å®ƒä¸€æ¬¡æ€§è§£å†³äº†ä»€ä¹ˆï¼Ÿ</h3>
<ul>
<li>ğŸ“¦ æ¨¡å—ç»„ç»‡æ–¹å¼</li>
<li>ğŸ”¥ æé€Ÿå¼€å‘æœåŠ¡å™¨</li>
<li>â™»ï¸ çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰</li>
<li>ğŸ§± Vue3 å®˜æ–¹æ¨èç›®å½•ç»“æ„</li>
<li>âš™ï¸ æ„å»º &amp; æ‰“åŒ…æ–¹æ¡ˆ</li>
</ul>
<p>ä½ æ‹¿åˆ°çš„ä¸æ˜¯ä¸€ä¸ªâ€œç©ºé¡¹ç›®â€ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p><strong>ä¸€æ ‹å·²ç»é€šå¥½æ°´ç”µã€è®¾è®¡å¥½ç»“æ„çš„æ¯›å¯æˆ¿</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€Vite æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸ºä»€ä¹ˆâ€œå¿«å¾—ç¦»è°±â€ï¼Ÿ</h2>
<p>ä¸€å¥è¯ç‰ˆæœ¬ï¼š</p>
<blockquote>
<p><strong>Vite æ˜¯ Vue ä½œè€…å°¤é›¨æºªæ‰“é€ çš„ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ã€‚</strong></p>
</blockquote>
<p>ä½†çœŸæ­£çš„ç²¾é«“åœ¨è¿™é‡Œ ğŸ‘‡</p>
<h3 data-id="heading-5">âš¡ Vite çš„æ ¸å¿ƒæ€æƒ³</h3>
<p><strong>å¼€å‘é˜¶æ®µï¼šä¸æ‰“åŒ…ï¼Œç›´æ¥ç”¨æµè§ˆå™¨èƒ½åŠ›</strong></p>
<ul>
<li>åŸºäºæµè§ˆå™¨åŸç”Ÿ <strong>ES Module</strong></li>
<li>æ–‡ä»¶å³æ¨¡å—ï¼ŒæŒ‰éœ€åŠ è½½</li>
<li>æ”¹å“ªåŠ è½½å“ª</li>
</ul>
<h3 data-id="heading-6">å¯¹æ¯”ä¼ ç»Ÿæ„å»ºå·¥å…·ï¼ˆWebpackï¼‰</h3>

























<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>Webpack</th><th>Vite</th></tr></thead><tbody><tr><td>å†·å¯åŠ¨</td><td>æ‰“åŒ…æ•´ä¸ªé¡¹ç›®</td><td>ç§’å¼€</td></tr><tr><td>æ›´æ–°æ–¹å¼</td><td>é‡æ–°æ‰“åŒ…</td><td>ç²¾å‡† HMR</td></tr><tr><td>å¿ƒæ™ºè´Ÿæ‹…</td><td>é…ç½®å¤æ‚</td><td>å¼€ç®±å³ç”¨</td></tr></tbody></table>
<p>æ‰€ä»¥ä½ çœ‹åˆ°çš„ä½“éªŒæ˜¯ï¼š</p>
<blockquote>
<p>âœ¨ <strong>æ”¹ä¸€è¡Œä»£ç ï¼Œé¡µé¢ç¬é—´æ›´æ–°ï¼ŒçŠ¶æ€éƒ½ä¸ä¸¢</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-7">å››ã€Vite é¡¹ç›®ç»“æ„ï¼šä¸æ˜¯éšä¾¿æ”¾çš„ï¼Œæ¯ä¸€å±‚éƒ½æœ‰æ„ä¹‰</h2>
<p>åˆ›å»ºå®Œæˆåï¼Œä½ ä¼šçœ‹åˆ°è¿™æ ·ä¸€æ£µç†Ÿæ‚‰åˆé™Œç”Ÿçš„ç›®å½•æ ‘ï¼š</p>
<pre><code class="hljs language-css" lang="css">â”œâ”€ index<span class="hljs-selector-class">.html</span>
â”œâ”€ package<span class="hljs-selector-class">.json</span>
â”œâ”€ vite<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.js</span>
â”œâ”€ <span class="hljs-attribute">src</span>/
â”‚  â”œâ”€ <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.js</span>
â”‚  â”œâ”€ App<span class="hljs-selector-class">.vue</span>
â”‚  â”œâ”€ style<span class="hljs-selector-class">.css</span>
â”‚  â”œâ”€ components/
â”‚  â””â”€ views/
</code></pre>
<p>æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªæ‹†è§£ã€‚</p>
<hr/>
<h3 data-id="heading-8">1ï¸âƒ£ index.htmlï¼šç°ä»£å‰ç«¯çš„â€œå…¥å£åè½¬â€</h3>
<p>åœ¨ Vite ä¸­ï¼š</p>
<blockquote>
<p><strong><code>index.html</code> æ˜¯æ•´ä¸ªåº”ç”¨çš„å…¥å£</strong></p>
</blockquote>
<p>è¿™å’Œä¼ ç»Ÿ SPA å®Œå…¨ä¸åŒã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/src/main.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>ğŸ“Œ è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>HTML ä¸å†æ˜¯â€œè¢«æ‰“åŒ…å‡ºæ¥çš„ç»“æœâ€</li>
<li>å®ƒæ˜¯å¼€å‘æœåŠ¡å™¨ç›´æ¥è§£æçš„</li>
<li>JS åè€Œæˆäº†è¢« HTML å¼•å…¥çš„æ¨¡å—</li>
</ul>
<p>è¿™å°±æ˜¯ Vite å¿«çš„ç¬¬ä¸€ä¸ªç§˜å¯†ã€‚</p>
<hr/>
<h3 data-id="heading-9">2ï¸âƒ£ main.jsï¼šå‰ç«¯åº”ç”¨çš„â€œæ€»å¼€å…³â€</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>

<span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)
  .<span class="hljs-title function_">use</span>(router)
  .<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<p>è¿™å‡ è¡Œä»£ç ï¼Œå®Œæˆäº†ä¸‰ä»¶å¤§äº‹ï¼š</p>
<ol>
<li>åˆ›å»º Vue åº”ç”¨å®ä¾‹</li>
<li>æ³¨å†Œå…¨å±€èƒ½åŠ›ï¼ˆè·¯ç”±ï¼‰</li>
<li>æŒ‚è½½åˆ°çœŸå® DOM</li>
</ol>
<p>ğŸ“¢ ä¸€ä¸ªé‡è¦è®¤çŸ¥ï¼š</p>
<blockquote>
<p><strong>Vue3 æ˜¯â€œä»¥åº”ç”¨ä¸ºå•ä½â€çš„ï¼Œè€Œä¸æ˜¯é›¶æ•£è„šæœ¬ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-10">3ï¸âƒ£ App.vueï¼šæ ¹ç»„ä»¶ï¼Œä¸€åˆ‡ç»„ä»¶çš„æºå¤´</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>ä½ å¯ä»¥æŠŠ <code>App.vue</code> ç†è§£ä¸ºï¼š</p>
<blockquote>
<p><strong>æ•´ä¸ªé¡µé¢çš„â€œéª¨æ¶ç»„ä»¶â€</strong></p>
</blockquote>
<ul>
<li>Header</li>
<li>Footer</li>
<li>Layout</li>
<li>é¡µé¢å®¹å™¨</li>
</ul>
<p>æ‰€æœ‰é¡µé¢ï¼Œæœ€ç»ˆéƒ½ä¼šè¢«å¡è¿›è¿™é‡Œã€‚</p>
<hr/>
<h3 data-id="heading-11">4ï¸âƒ£ src/ï¼šçœŸæ­£å†™ä¸šåŠ¡çš„åœ°æ–¹</h3>
<p>ğŸ“‚ <strong>src = å‰ç«¯å¼€å‘ä¸»æˆ˜åœº</strong></p>
<ul>
<li><code>components/</code>ï¼šé€šç”¨ç»„ä»¶</li>
<li><code>views/</code>ï¼šé¡µé¢çº§ç»„ä»¶</li>
<li><code>style.css</code>ï¼šå…¨å±€æ ·å¼</li>
</ul>
<p>ğŸ“Œ ä¸€ä¸ªå·¥ç¨‹åŒ–åŸåˆ™ï¼š</p>
<blockquote>
<p><strong>é¡µé¢ â‰  ç»„ä»¶</strong></p>
</blockquote>
<p>é¡µé¢è´Ÿè´£è·¯ç”±ï¼Œç»„ä»¶è´Ÿè´£å¤ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-12">äº”ã€å¤šä¸ªé¡µé¢æ€ä¹ˆæ¥ï¼ŸVue Router ç™»åœº</h2>
<p>å•é¡µåº”ç”¨ â‰  åªæœ‰ä¸€ä¸ªé¡µé¢ã€‚</p>
<p>å®ƒæ˜¯ï¼š</p>
<blockquote>
<p><strong>é€»è¾‘å¤šé¡µï¼Œç‰©ç†å•é¡µ</strong></p>
</blockquote>
<h3 data-id="heading-13">å®‰è£…è·¯ç”±</h3>
<pre><code class="hljs language-css" lang="css">npm <span class="hljs-selector-tag">i</span> vue-router
</code></pre>
<h3 data-id="heading-14">æ³¨å†Œè·¯ç”±</h3>
<pre><code class="hljs language-php" lang="php">import { createRouter, createWebHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
import Home <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/Home.vue'</span>
import About <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/About.vue'</span>

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">router</span> = <span class="hljs-title function_ invoke__">createRouter</span>({
  <span class="hljs-attr">history</span>: <span class="hljs-title function_ invoke__">createWebHistory</span>(),
  <span class="hljs-attr">routes</span>: [
    { <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>, <span class="hljs-attr">component</span>: Home },
    { <span class="hljs-attr">path</span>: <span class="hljs-string">'/about'</span>, <span class="hljs-attr">component</span>: About }
  ]
})

export <span class="hljs-keyword">default</span> router
</code></pre>
<h3 data-id="heading-15">ä½¿ç”¨è·¯ç”±</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">router-view</span> /&gt;</span>
</code></pre>
<p>âœ¨ ä½ è·å¾—çš„æ˜¯ï¼š</p>
<ul>
<li>æ— åˆ·æ–°è·³è½¬</li>
<li>ç»„ä»¶çº§é¡µé¢åˆ‡æ¢</li>
<li>URL ä¸è§†å›¾åŒæ­¥</li>
</ul>
<hr/>
<h2 data-id="heading-16">å…­ã€çƒ­æ›´æ–°ï¼ˆHMRï¼‰ï¼šå¼€å‘ä½“éªŒçš„å¤©èŠ±æ¿</h2>
<p>Vite çš„ HMRï¼Œä¸åªæ˜¯åˆ·æ–°é¡µé¢ã€‚</p>
<p>å®ƒæ˜¯ï¼š</p>
<blockquote>
<p><strong>åªæ›´æ–°ä½ æ”¹çš„é‚£ä¸€ä¸ªæ¨¡å—</strong></p>
</blockquote>
<ul>
<li>ä¸é‡è½½æ•´ä¸ªåº”ç”¨</li>
<li>ä¸ä¸¢å¤±ç»„ä»¶çŠ¶æ€</li>
<li>CSS ç§’çº§ç”Ÿæ•ˆ</li>
</ul>
<p>è¿™å°±æ˜¯ä½ è§‰å¾—ï¼š</p>
<blockquote>
<p>ã€Œæ€ä¹ˆè¿™ä¹ˆé¡ºï¼Ÿã€</p>
</blockquote>
<p>èƒŒåçš„åŸå› ã€‚</p>
<hr/>
<h2 data-id="heading-17">ä¸ƒã€å·¥å…·é“¾ï¼šä½ ä¸æ˜¯ä¸€ä¸ªäººåœ¨å†™ Vue</h2>
<h3 data-id="heading-18">ğŸ§© Volarï¼ˆVS Code æ’ä»¶ï¼‰</h3>
<ul>
<li>å®˜æ–¹ Vue3 è¯­è¨€æœåŠ¡</li>
<li>ç±»å‹æ¨æ–­</li>
<li>æ¨¡æ¿æ™ºèƒ½æç¤º</li>
</ul>
<h3 data-id="heading-19">ğŸ›  Vue DevTools</h3>
<ul>
<li>ç»„ä»¶æ ‘</li>
<li>å“åº”å¼çŠ¶æ€</li>
<li>æ€§èƒ½åˆ†æ</li>
</ul>
<p>ğŸ“Œ ç°ä»£å‰ç«¯ = æ¡†æ¶ + å·¥å…·é“¾</p>
<hr/>
<h2 data-id="heading-20">å…«ã€å·¥ç¨‹åŒ–çš„æœ¬è´¨ï¼šè®©å¤æ‚å˜ç®€å•</h2>
<p>å›åˆ°æœ€åˆçš„é—®é¢˜ï¼š</p>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆè¦æè¿™ä¹ˆå¤šå·¥ç¨‹åŒ–ï¼Ÿ</strong></p>
</blockquote>
<p>ç­”æ¡ˆåªæœ‰ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>ä¸ºäº†è®©å¼€å‘è€…ä¸“æ³¨äºä¸šåŠ¡ï¼Œè€Œä¸æ˜¯åŸºç¡€è®¾æ–½ã€‚</strong></p>
</blockquote>
<p>Vite å¸®ä½ å¤„ç†ï¼š</p>
<ul>
<li>æ„å»º</li>
<li>æ¨¡å—</li>
<li>æ€§èƒ½</li>
<li>è§„èŒƒ</li>
</ul>
<p>ä½ åªéœ€è¦ï¼š</p>
<ul>
<li>æ‹†ç»„ä»¶</li>
<li>å†™é€»è¾‘</li>
<li>äº¤ä»˜ä»·å€¼</li>
</ul>
<hr/>
<h2 data-id="heading-21">ä¹ã€æœ€åï¼šä½ å·²ç»ç«™åœ¨â€œç°ä»£å‰ç«¯â€çš„å…¥å£</h2>
<p>å¦‚æœä½ èƒ½çœŸæ­£ç†è§£ï¼š</p>
<ul>
<li>Vite åœ¨åšä»€ä¹ˆ</li>
<li>Vue åº”ç”¨æ˜¯å¦‚ä½•å¯åŠ¨çš„</li>
<li>ç›®å½•ç»“æ„èƒŒåçš„å·¥ç¨‹æ€æƒ³</li>
</ul>
<p>é‚£ä¹ˆä½ å·²ç»ä¸å†æ˜¯ï¼š</p>
<blockquote>
<p>ã€Œä¼šå†™ Vue çš„äººã€</p>
</blockquote>
<p>è€Œæ˜¯ï¼š</p>
<blockquote>
<p><strong>æ‡‚å·¥ç¨‹ã€æ‡‚æ¶æ„çš„å‰ç«¯å¼€å‘è€…</strong>ã€‚</p>
</blockquote>
<p>ä¸‹ä¸€æ­¥ï¼Œä½ å¯ä»¥ç»§ç»­æ·±å…¥ï¼š</p>
<ul>
<li>çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰</li>
<li>æ„å»ºä¼˜åŒ–</li>
<li>ä»£ç åˆ†å‰²</li>
<li>è‡ªåŠ¨åŒ–éƒ¨ç½²</li>
</ul>
<p>ğŸš€ <strong>å‰ç«¯çš„å¤©èŠ±æ¿ï¼Œä»æ¥ä¸åœ¨ APIï¼Œè€Œåœ¨å·¥ç¨‹èƒ½åŠ›ã€‚</strong></p>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµ ğŸ‘ æ”¶è— â­</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ Vite + Vue 3 å¿«é€Ÿæ­å»ºç°ä»£å‰ç«¯é¡¹ç›®ï¼šä»é›¶åˆ°å¤šé¡µé¢è·¯ç”±å®æˆ˜]]></title>    <link>https://juejin.cn/post/7584287969215135763</link>    <guid>https://juejin.cn/post/7584287969215135763</guid>    <pubDate>2025-12-16T16:09:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584287969215135763" data-draft-id="7584287969215053843" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ Vite + Vue 3 å¿«é€Ÿæ­å»ºç°ä»£å‰ç«¯é¡¹ç›®ï¼šä»é›¶åˆ°å¤šé¡µé¢è·¯ç”±å®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Vite"/> <meta itemprop="datePublished" content="2025-12-16T16:09:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ä¼šjs"/> <meta itemprop="url" content="https://juejin.cn/user/2517262684662348"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ Vite + Vue 3 å¿«é€Ÿæ­å»ºç°ä»£å‰ç«¯é¡¹ç›®ï¼šä»é›¶åˆ°å¤šé¡µé¢è·¯ç”±å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517262684662348/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ä¼šjs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T16:09:59.000Z" title="Tue Dec 16 2025 16:09:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç”¨ Vite + Vue 3 å¿«é€Ÿæ­å»ºç°ä»£å‰ç«¯é¡¹ç›®ï¼šä»é›¶åˆ°å¤šé¡µé¢è·¯ç”±å®æˆ˜</h2>
<p>å¤§å®¶å¥½ï¼Œä»Šå¤©æ¥åˆ†äº«ä¸€ç¯‡å®æˆ˜å‘çš„æ•™ç¨‹ï¼š<strong>åŸºäº Vite æ­å»º Vue 3 é¡¹ç›®ï¼Œå¹¶é›†æˆ Vue Router å®ç°å¤šé¡µé¢åˆ‡æ¢</strong>ã€‚åœ¨ 2025 å¹´åº•çš„ä»Šå¤©ï¼ŒVite å·²ç»å½»åº•å–ä»£äº† Vue CLI æˆä¸º Vue ç”Ÿæ€çš„æ ‡é…æ„å»ºå·¥å…·ã€‚å®ƒå¯åŠ¨å¿«ã€çƒ­æ›´æ–°ä¸æ»‘ã€é…ç½®ç®€æ´ï¼Œå®Œç¾å¥‘åˆ Vue 3 çš„ç°ä»£å¼€å‘ä½“éªŒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/291bfa16c83e4ee09a16bd12d8f298e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LyaanM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766506199&amp;x-signature=Yk9l4C%2BweNKRBGlWuffDKPRX2G8%3D" alt="5609728adb9d921c5649719c8cbf0517.jpg" loading="lazy"/>
å¦‚æœä½ è¿˜åœ¨ç”¨è€æ—§çš„ Webpack è„šæ‰‹æ¶ï¼Œé‚£çœŸçš„è¯¥å‡çº§äº†ï¼è¿™ç¯‡æ–‡ç« å°†æ‰‹æŠŠæ‰‹å¸¦ä½ ä»é¡¹ç›®åˆå§‹åŒ–åˆ°è·¯ç”±é…ç½®ï¼Œå…¨ç¨‹ä»£ç å¯å¤åˆ¶ï¼Œé€»è¾‘æ¸…æ™°ã€‚é¢„è®¡é˜…è¯»å®Œåï¼Œä½ èƒ½ç‹¬ç«‹æ­å»ºä¸€ä¸ªè§„èŒƒçš„ Vue 3 + Vite é¡¹ç›®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10b3a5290f254a9db947a90f75ea88a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LyaanM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766506199&amp;x-signature=8is8OCVoKCJfza999kmp2e7NZCQ%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹© Vite + Vue 3ï¼Ÿ</h4>
<p>å…ˆè¯´è¯´åº•å±‚é€»è¾‘ï¼Œä¸ºä»€ä¹ˆè¿™å¯¹ç»„åˆè¿™ä¹ˆé¦™ï¼Ÿ</p>
<ul>
<li>
<p><strong>Vite çš„æ ¸å¿ƒä¼˜åŠ¿</strong>ï¼šä¼ ç»Ÿå·¥å…·å¦‚ Webpack åœ¨å¼€å‘æ—¶éœ€è¦å…ˆæ‰“åŒ…æ•´ä¸ªé¡¹ç›®ï¼Œå¯åŠ¨æ…¢ã€çƒ­æ›´æ–°å¡é¡¿ã€‚Vite ä¸åŒï¼Œå®ƒåˆ©ç”¨æµè§ˆå™¨åŸç”Ÿ ES Modulesï¼ˆESMï¼‰æ”¯æŒï¼ŒæŒ‰éœ€åŠ è½½æ¨¡å—ã€‚å¼€å‘æœåŠ¡å™¨å¯åŠ¨æ—¶å‡ ä¹ä¸éœ€è¦é¢„æ‰“åŒ…ï¼Œå†·å¯åŠ¨åªéœ€å‡ ç™¾æ¯«ç§’ï¼</p>
</li>
<li>
<p><strong>çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰åŸç†</strong>ï¼šå½“ä½ ä¿®æ”¹æ–‡ä»¶ï¼ŒVite é€šè¿‡æ–‡ä»¶ç›‘å¬å™¨ï¼ˆchokidarï¼‰æ£€æµ‹å˜åŒ–ï¼Œåªæ›´æ–°å—å½±å“çš„æ¨¡å—ï¼Œå¹¶ via WebSocket æ¨é€ç»™æµè§ˆå™¨ã€‚æµè§ˆå™¨åªéœ€æ›¿æ¢å±€éƒ¨æ¨¡å—ï¼Œè€Œéæ•´é¡µåˆ·æ–°ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Vite çš„çƒ­æ›´æ–°èƒ½è¾¾åˆ°æ¯«ç§’çº§ï¼Œç”šè‡³å¤§é¡¹ç›®ä¹Ÿä¸æ»‘å¦‚ butterã€‚</p>
</li>
<li>
<p><strong>Vue 3 çš„é©æ–°</strong>ï¼šæ›´å°çš„ä½“ç§¯ï¼ˆå‡å°‘ 41%ï¼‰ã€æ›´å¿«çš„è¿è¡Œæ—¶ã€Composition API + &lt; script setup&gt; è¯­æ³•ç³–ï¼Œè®©ä»£ç æ›´ç®€æ´ã€å¯å¤ç”¨æ€§æ›´é«˜ã€‚</p>
</li>
</ul>
<p>æ€»ä¹‹ï¼Œè¿™å¥—æ ˆæ˜¯å½“å‰æœ€é«˜æ•ˆçš„ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-2">äºŒã€é¡¹ç›®åˆå§‹åŒ–ï¼šä¸€æ­¥åˆ°ä½</h4>
<p>æ¨èä½¿ç”¨å®˜æ–¹è„šæ‰‹æ¶ npm init  viteã€‚</p>
<pre><code class="hljs language-bash" lang="bash">npm init vite
<span class="hljs-built_in">cd</span> my-vue-app
npm install
npm run dev
</code></pre>
<p>äº¤äº’è¿‡ç¨‹ä¸­ï¼š</p>
<ul>
<li>é€‰æ‹© <code>vue</code> æ¨¡æ¿ï¼ˆé»˜è®¤å°±æ˜¯ Vue 3ï¼‰ã€‚</li>
<li>å…¶ä»–é€‰é¡¹æ ¹æ®éœ€è¦ï¼ˆJSXã€è·¯ç”±ç­‰ç°åœ¨ä¸é€‰ï¼Œåç»­æ‰‹åŠ¨åŠ ï¼‰ã€‚</li>
</ul>
<p>å¯åŠ¨åè®¿é—® <code>http://localhost:5173</code>ï¼Œçœ‹åˆ°æ¬¢è¿é¡µå°±æˆåŠŸäº†ï¼</p>
<p><strong>æ˜“é”™æé†’</strong>ï¼šå¦‚æœç«¯å£è¢«å ç”¨ï¼ŒVite ä¼šè‡ªåŠ¨åˆ‡æ¢ç«¯å£ï¼Œä½†ä½ å¯ä»¥æ‰‹åŠ¨åœ¨ <code>vite.config.js</code> é…ç½® <code>server.port</code>ã€‚</p>
<h4 data-id="heading-3">ä¸‰ã€é¡¹ç›®ç»“æ„å‰–æï¼šæ ‡å‡†æ¨¡ç‰ˆé•¿å•¥æ ·ï¼Ÿ</h4>
<p>ä¸€ä¸ªå…¸å‹çš„ Vite + Vue 3 é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb92d0c6fa5b4e83ab6a00b8b38d10dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LyaanM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766506199&amp;x-signature=SzbWLv4nQ%2BShNkmJfU07%2BXL62%2Fw%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06f80da2c6d245dcbfabf39cefbadfde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LyaanM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766506199&amp;x-signature=QZyQ3y76mJNhu%2BzP7GpkmMf0zzE%3D" alt="image.png" loading="lazy"/></p>
<p>å…³é”®æ–‡ä»¶è§£é‡Šï¼š</p>
<ul>
<li>
<p><strong>index.html</strong>ï¼šå…¥å£ HTMLï¼ŒVite ä»¥å®ƒä¸ºæ ¹ã€‚æ³¨æ„ <code>&lt;script type="module" src="/src/main.js"&gt;&lt;/script&gt;</code>ï¼Œè¿™å°±æ˜¯åˆ©ç”¨ ESM çš„å…³é”®ï¼æµè§ˆå™¨ç›´æ¥å¯¼å…¥æ¨¡å—ï¼ŒæŒ‰éœ€åŠ è½½ã€‚</p>
</li>
<li>
<p><strong>src/main.js</strong>ï¼ˆæˆ– main.tsï¼‰ï¼šåº”ç”¨å…¥å£ï¼Œåˆ›å»º Vue App å¹¶æŒ‚è½½åˆ° <code>#app</code>ã€‚</p>
</li>
<li>
<p><strong>src/App.vue</strong>ï¼šæ ¹ç»„ä»¶ï¼Œé€šå¸¸æ”¾å¸ƒå±€å’Œè·¯ç”±å ä½ã€‚</p>
</li>
<li>
<p><strong>src/assets</strong>ï¼šå›¾ç‰‡ç­‰èµ„æºã€‚</p>
</li>
<li>
<p><strong>src/components</strong>ï¼šå…¬å…±ç»„ä»¶ã€‚</p>
</li>
<li>
<p><strong>public</strong>ï¼šé™æ€èµ„æºï¼Œç›´æ¥å¤åˆ¶åˆ° distã€‚</p>
</li>
</ul>
<p><strong>åº•å±‚é€»è¾‘</strong>ï¼šVite åœ¨å¼€å‘æ¨¡å¼ä¸‹ä¸æ‰“åŒ…ï¼Œè€Œæ˜¯è®©æµè§ˆå™¨ç›´æ¥è¯·æ±‚ ESM æ¨¡å—ã€‚ç”Ÿäº§æ„å»ºæ—¶æ‰ç”¨ Rollup æ‰“åŒ…ï¼Œä½“ç§¯å°ã€Tree-shaking å®Œç¾ã€‚</p>
<p><strong>å¼€å‘å·¥å…·æ¨è</strong>ï¼š</p>
<ul>
<li>VSCode æ’ä»¶ï¼š<strong>Volar</strong>ï¼ˆVue å®˜æ–¹ï¼Œå–ä»£ Veturï¼‰ï¼Œæä¾›æ™ºèƒ½æç¤ºã€ç±»å‹æ£€æŸ¥ã€‚</li>
<li>Chrome æ’ä»¶ï¼š<strong>Vue Devtools</strong>ï¼Œè°ƒè¯•ç¥å™¨ã€‚</li>
</ul>
<h4 data-id="heading-4">å››ã€é›†æˆ Vue Routerï¼šå®ç°å¤šé¡µé¢åˆ‡æ¢</h4>
<p>å•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„æ ¸å¿ƒå°±æ˜¯è·¯ç”±ã€‚Vue Router 4 æ˜¯ Vue 3 çš„å®˜æ–¹è·¯ç”±ã€‚</p>
<h5 data-id="heading-5">1. å®‰è£…</h5>
<pre><code class="hljs language-bash" lang="bash">npm install router
</code></pre>
<h5 data-id="heading-6">2. åˆ›å»ºè·¯ç”±é…ç½®ï¼ˆsrc/router/index.jsï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// router æ¨¡å— å®šä¹‰è·¯ç”±</span>

<span class="hljs-keyword">import</span> {
createRouter,<span class="hljs-comment">//è·¯ç”±å®ä¾‹</span>
createWebHashHistory<span class="hljs-comment">//è·¯ç”±æ¨¡å¼</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/Home.vue'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/About.vue'</span>;
<span class="hljs-keyword">const</span> routes=[
    {
        <span class="hljs-attr">path</span>:<span class="hljs-string">'/'</span>,
        <span class="hljs-attr">name</span>:<span class="hljs-string">'Home'</span>,
        <span class="hljs-attr">component</span>:<span class="hljs-title class_">Home</span>
    },
    {
        <span class="hljs-attr">path</span>:<span class="hljs-string">'/about'</span>,
        <span class="hljs-attr">name</span>:<span class="hljs-string">'About'</span>,
        <span class="hljs-attr">component</span>:<span class="hljs-title class_">About</span>
    }
];
<span class="hljs-comment">//å®ä¾‹åŒ– è´Ÿè´£å‰ç«¯è·¯ç”±</span>
<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
    <span class="hljs-comment">//è®¿é—®å†å² hash è·¯ç”± #/about</span>
    <span class="hljs-attr">history</span>:<span class="hljs-title function_">createWebHashHistory</span>(),
    <span class="hljs-comment">//è·¯ç”±é…ç½®æ•°ç»„</span>
    routes
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;
</code></pre>
<h5 data-id="heading-7">3. åˆ›å»ºè§†å›¾é¡µé¢ï¼ˆsrc/views/Home.vue &amp; About.vueï¼‰</h5>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Home.vue --&gt;
&lt;template&gt;
  &lt;div class="home"&gt;
    &lt;h1&gt;æ¬¢è¿æ¥åˆ° Home é¡µé¢ï¼&lt;/h1&gt;
    &lt;p&gt;è¿™é‡Œæ˜¯é¦–é¡µå†…å®¹ã€‚&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>About.vue åŒç†ï¼Œæ”¹æˆ About å†…å®¹ã€‚</p>
<h5 data-id="heading-8">4. åœ¨ main.js æ³¨å†Œè·¯ç”±</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./style.css'</span>

<span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>).<span class="hljs-title function_">use</span>(router).<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<h5 data-id="heading-9">5. åœ¨ App.vue ä½¿ç”¨è·¯ç”±</h5>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
// æ— éœ€é¢å¤–å¯¼å…¥ï¼Œ&lt;script setup&gt; ä¸‹ç›´æ¥å¯ç”¨
&lt;/script&gt;

&lt;template&gt;
  &lt;header&gt;
    &lt;nav&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;router-link to="/"&gt;Home&lt;/router-link&gt;&lt;/li&gt;
        &lt;li&gt;&lt;router-link to="/about"&gt;About&lt;/router-link&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/nav&gt;
  &lt;/header&gt;
  &lt;main&gt;
    &lt;router-view /&gt;  &lt;!-- è¿™é‡Œæ¸²æŸ“åŒ¹é…çš„é¡µé¢ç»„ä»¶ --&gt;
  &lt;/main&gt;
&lt;/template&gt;

&lt;style scoped&gt;
nav ul { display: flex; list-style: none; gap: 20px; }
router-link { text-decoration: none; font-weight: bold; }
&lt;/style&gt;
</code></pre>
<p>è¿è¡Œ <code>npm run dev</code>ï¼Œç‚¹å‡»å¯¼èˆªï¼Œå°±èƒ½æ— ç¼åˆ‡æ¢é¡µé¢äº†ï¼</p>
<h5 data-id="heading-10">è·¯ç”±æ¨¡å¼è¯¦è§£ï¼šHash vs History</h5>
<ul>
<li>
<p><strong>createWebHashHistory()</strong>ï¼ˆå¸¦ #ï¼‰ï¼šURL å¦‚ <code>/ '#/about</code>ã€‚ä¼˜ç‚¹ï¼šæ— éœ€æœåŠ¡å™¨é…ç½®ï¼Œå…¼å®¹æ€§å¥½ï¼ˆé™æ€æ‰˜ç®¡å¦‚ GitHub Pages ç›´æ¥å¯ç”¨ï¼‰ã€‚ç¼ºç‚¹ï¼šURL ä¸ç¾è§‚ï¼Œä¸åˆ©äº SEOã€‚</p>
</li>
<li>
<p><strong>createWebHistory()</strong>ï¼ˆæ¨èç”Ÿäº§ç”¨ï¼‰ï¼šURL å¦‚ <code>/about</code>ã€‚å¹²å‡€ç¾è§‚ï¼Œæ”¯æŒ SEOã€‚ä½†éœ€è¦æœåŠ¡å™¨é…ç½® fallbackï¼ˆæ‰€æœ‰è·¯å¾„æŒ‡å‘ index.htmlï¼‰ï¼Œå¦åˆ™åˆ·æ–° 404ã€‚</p>
</li>
</ul>
<p><strong>æ˜“é”™æé†’</strong>ï¼š</p>
<ul>
<li>åˆ‡æ¢åˆ° History æ¨¡å¼åï¼Œæœ¬åœ°å¼€å‘æ­£å¸¸ï¼Œä½†éƒ¨ç½²åˆ° Nginx/Apache æ—¶å¿…é¡»é…ç½®é‡å†™è§„åˆ™ã€‚</li>
<li>ç¤ºä¾‹ Nginx é…ç½®ï¼š
location / {
try_files <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mi>r</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">uri </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"/><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span></span></span></span></span>uri/ /index.html;
}</li>
<li>å¦‚æœé¡¹ç›®æ˜¯çº¯é™æ€éƒ¨ç½²ï¼Œå»ºè®®å…ˆç”¨ Hash æ¨¡å¼ï¼Œé¿å…å‘ã€‚</li>
</ul>
<h4 data-id="heading-11">äº”ã€å‡ ä¸ªç»†èŠ‚çŸ¥è¯†ç‚¹</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fbc0cb4dd1f4fac8243273448f6150b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LyaanM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766506199&amp;x-signature=QF5vZP2yy1WHmPm5F1LZWgj9PBY%3D" alt="fc962ce0cd306c49bc54248e80437e81.jpg" loading="lazy"/></p>
<h5 data-id="heading-12">1ã€<code>&lt;script type="module" src="/src/main.js"&gt;&lt;/script&gt;</code>ï¼Œè¿™å°±æ˜¯åˆ©ç”¨ ESM çš„å…³é”®ï¼æµè§ˆå™¨ç›´æ¥å¯¼å…¥æ¨¡å—ï¼ŒæŒ‰éœ€åŠ è½½ã€‚</h5>
<p>è¿™æ˜¯ Vite æé€Ÿå¼€å‘çš„<strong>æ ¸å¿ƒç§˜å¯†</strong>ï¼</p>
<ul>
<li>
<p><strong>å¯¼å…¥çš„æ˜¯ä»€ä¹ˆæ¨¡å—ï¼Ÿ</strong> æµè§ˆå™¨ç›´æ¥æŠŠ /src/main.js å½“ä½œä¸€ä¸ª <strong>ES Moduleï¼ˆåŸç”Ÿ JS æ¨¡å—ï¼‰</strong> æ¥å¯¼å…¥ã€‚ main.js é‡Œé¢æœ‰å„ç§ import è¯­å¥ï¼Œæ¯”å¦‚ï¼š</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./style.css'</span>
</code></pre>
<p>æ‰€ä»¥ï¼Œæµè§ˆå™¨åŠ è½½ main.js åï¼Œä¼šè§£æè¿™äº› importï¼Œç»§ç»­å»è¯·æ±‚ 'vue'ã€'./App.vue'ã€'./router/index.js' ç­‰æ¨¡å—ã€‚</p>
</li>
<li>
<p><strong>æŒ‰ä»€ä¹ˆâ€œéœ€â€åŠ è½½ï¼Ÿ</strong> â†’ <strong>æŒ‰éœ€åŠ è½½ï¼ˆOn-Demand Loadingï¼‰</strong> ä¼ ç»Ÿå·¥å…·ï¼ˆå¦‚ Webpack + Vue CLIï¼‰åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œä¼šå…ˆæŠŠæ‰€æœ‰ä»£ç æ‰“åŒ…æˆä¸€ä¸ªå¤§ bundle.jsï¼Œç„¶åæµè§ˆå™¨æ‰åŠ è½½è¿™ä¸ªå¤§æ–‡ä»¶ã€‚é¡¹ç›®ä¸€å¤§ï¼Œå¯åŠ¨å°±å¡å‡ ç§’ç”šè‡³åå‡ ç§’ã€‚</p>
<p>Vite å®Œå…¨ä¸ä¸€æ ·ï¼ˆå¼€å‘æ¨¡å¼ä¸‹ï¼‰ï¼š</p>
<ul>
<li>
<p>Vite çš„ dev server å¯åŠ¨åï¼Œ<strong>ä¸é¢„æ‰“åŒ…</strong>ä»»ä½•ä¸œè¥¿ã€‚</p>
</li>
<li>
<p>æµè§ˆå™¨å…ˆåŠ è½½ index.html â†’ æ‰§è¡Œ 
</p></li>
<li>
<p>Vite server æ”¶åˆ°è¯·æ±‚ main.js æ—¶ï¼Œä¼šå®æ—¶è½¬åŒ–ä»£ç ï¼ˆæ¯”å¦‚æŠŠ .vue å•æ–‡ä»¶ç»„ä»¶è½¬æˆ JSï¼‰ï¼Œç„¶åè¿”å›ã€‚</p>
</li>
<li>
<p>main.js æ‰§è¡Œæ—¶é‡åˆ° importï¼Œæµè§ˆå™¨åˆä¼šç«‹åˆ»å»è¯·æ±‚é‚£äº›è¢«å¯¼å…¥çš„æ¨¡å—ï¼ˆVite å¸®å¿™é¢„å¤„ç† .vueã€CSS ç­‰ï¼‰ã€‚</p>
</li>
<li>
<p><strong>åªæœ‰å½“å‰è·¯å¾„ä¾èµ–åˆ°çš„æ¨¡å—æ‰ä¼šè¢«åŠ è½½</strong>ï¼Œæ²¡ç”¨åˆ°çš„æ ¹æœ¬ä¸è¯·æ±‚ï¼</p>
</li>
</ul>
</li>
</ul>
<p>è¿™å°±æ˜¯â€œæŒ‰éœ€åŠ è½½â€ï¼šæµè§ˆå™¨åƒèœ˜è››ç½‘ä¸€æ ·ï¼Œä¸€å±‚ä¸€å±‚æŒ‰å®é™…ä¾èµ–å’Œè·¯ç”±éœ€æ±‚å»æ‹‰å–æ¨¡å—ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å…¨æ‹‰ä¸‹æ¥ã€‚</p>
<p>å·¦è¾¹ä¼ ç»Ÿæ–¹å¼è¦ç­‰æ‰“åŒ…å®Œï¼ŒVite ç›´æ¥<strong>è¾¹ç”¨è¾¹åŠ è½½</strong>ï¼Œå¯åŠ¨å¿«å¾—é£èµ·ï¼</p>
<h5 data-id="heading-13">2ã€index.html é‡Œçš„ #app æŒ‚è½½ç‚¹</h5>
<p>è¿™æ˜¯å•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„ç²¾é«“ï¼å¾ˆå¤šäººä»¥ä¸ºâ€œå¤šé¡µé¢â€å°±è¦å¤šä¸ª HTML æ–‡ä»¶ï¼Œå…¶å®å®Œå…¨ä¸æ˜¯ã€‚</p>
<ul>
<li>
<p><strong>åªæœ‰ä¸€ä¸ªæŒ‚è½½ç‚¹</strong>ï¼šVue åº”ç”¨æ•´ä¸ªæŒ‚è½½åœ¨ #app è¿™ä¸ª div ä¸Šã€‚</p>
<p>HTML</p>
<pre><code class="hljs language-bash" lang="bash">&lt;div <span class="hljs-built_in">id</span>=<span class="hljs-string">"app"</span>&gt;&lt;/div&gt;
</code></pre>
<p>main.js é‡Œ createApp(App).mount('#app') å°±æ˜¯æŠŠæ ¹ç»„ä»¶ App.vue çš„å†…å®¹æ¸²æŸ“åˆ°è¿™ä¸ª div é‡Œã€‚</p>
</li>
<li>
<p><strong>å…¶ä»–â€œé¡µé¢â€å†…å®¹æŒ‚è½½åœ¨å“ªå„¿ï¼Ÿ</strong> å®ƒä»¬æ ¹æœ¬ä¸æ˜¯ç‹¬ç«‹çš„ HTML é¡µé¢ï¼Œè€Œæ˜¯ <strong>Vue ç»„ä»¶</strong>ï¼Œé€šè¿‡ <strong>Vue Router çš„ </strong> åŠ¨æ€æ’å…¥åˆ° App.vue çš„æ¨¡æ¿é‡Œï¼</p>
<p>çœ‹ä½ çš„ App.vueï¼š</p>
<p>vue</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>å¯¼èˆª...<span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span>  <span class="hljs-comment">&lt;!-- å…³é”®å°±åœ¨è¿™é‡Œï¼ --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<ul>
<li> æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼ˆOutletï¼‰ã€‚</li>
<li>å½“ä½ è®¿é—® / æ—¶ï¼ŒVue Router ä¼šæŠŠ Home.vue ç»„ä»¶æ¸²æŸ“åˆ°è¿™ä¸ª  ä½ç½®ã€‚</li>
<li>è®¿é—® /about æ—¶ï¼Œå°±æŠŠ About.vue æ¸²æŸ“åˆ°åŒä¸€ä¸ªä½ç½®ã€‚</li>
<li>æ•´ä¸ªè¿‡ç¨‹ï¼š<strong>é¡µé¢ä¸åˆ·æ–°</strong>ï¼Œåªæœ‰  é‡Œé¢çš„å†…å®¹è¢«æ›¿æ¢ï¼Œå¯¼èˆªæ ã€footer ç­‰å…¬å…±éƒ¨åˆ†ä¿æŒä¸åŠ¨ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œæ•´ä¸ªåº”ç”¨æ°¸è¿œåªæœ‰ä¸€ä¸ª HTMLï¼ˆindex.htmlï¼‰ï¼Œæ‰€æœ‰â€œé¡µé¢åˆ‡æ¢â€å…¶å®æ˜¯ç»„ä»¶çš„åŠ¨æ€æ›¿æ¢ã€‚URL å˜äº†ï¼ˆhash æˆ– history æ¨¡å¼ï¼‰ï¼Œä½†æµè§ˆå™¨æ²¡é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚</p>
</li>
</ul>
<h5 data-id="heading-14">3ã€æ‹†è§£ routes æ•°ç»„ï¼Œå½»åº•ææ¸…æ¥šå®ƒåœ¨å¹²å•¥ï¼š</h5>
<p>JavaScript</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> routes = [
  {
    path: <span class="hljs-string">'/'</span>,          <span class="hljs-comment">// 1. URL è·¯å¾„</span>
    name: <span class="hljs-string">'Home'</span>,       <span class="hljs-comment">// 2. è·¯ç”±åç§°ï¼ˆå¯é€‰ï¼Œä½†å¼ºçƒˆæ¨èï¼‰</span>
    component: Home     <span class="hljs-comment">// 3. å½“è·¯å¾„åŒ¹é…æ—¶ï¼Œè¦æ¸²æŸ“çš„ç»„ä»¶</span>
  },
  {
    path: <span class="hljs-string">'/about'</span>,
    name: <span class="hljs-string">'About'</span>,
    component: About
  }
];
</code></pre>
<h5 data-id="heading-15">æ¯ä¸ªå­—æ®µçš„å…·ä½“å«ä¹‰</h5>
<ol>
<li>
<p><strong>path: '/' æˆ– path: '/about' ï¼ˆå»å“ªï¼‰</strong></p>
<ul>
<li>è¿™å°±æ˜¯æµè§ˆå™¨åœ°å€æ é‡Œçš„<strong>è·¯å¾„</strong>ã€‚</li>
<li>å½“ç”¨æˆ·åœ¨æµè§ˆå™¨è¾“å…¥æˆ–ç‚¹å‡»é“¾æ¥è®¿é—® <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5173%2F" target="_blank" title="http://localhost:5173/" ref="nofollow noopener noreferrer">http://localhost:5173/</a> æ—¶ï¼Œä¼šåŒ¹é…ç¬¬ä¸€ä¸ªè·¯ç”±ï¼ˆpath: '/'ï¼‰ã€‚</li>
<li>è®¿é—® <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A5173%2Fabout" target="_blank" title="http://localhost:5173/about" ref="nofollow noopener noreferrer">http://localhost:5173/about</a> æ—¶ï¼Œä¼šåŒ¹é…ç¬¬äºŒä¸ªè·¯ç”±ã€‚</li>
<li>å¦‚æœç”¨ Hash æ¨¡å¼ï¼Œä¼šæ˜¯ #/ å’Œ #/aboutï¼›ç”¨ History æ¨¡å¼å°±æ˜¯å¹²å‡€çš„ / å’Œ /aboutã€‚</li>
</ul>
<p><strong>ç®€å•è¯´ï¼špath å†³å®šäº†â€œç”¨æˆ·è®¿é—®ä»€ä¹ˆåœ°å€æ—¶è§¦å‘è¿™ä¸ªè·¯ç”±â€</strong> ã€‚</p>
</li>
<li>
<p><strong>name: 'Home' æˆ– name: 'About'ï¼ˆå«å•¥ï¼‰</strong></p>
<ul>
<li>ç»™è¿™ä¸ªè·¯ç”±èµ·ä¸€ä¸ª<strong>åå­—</strong>ï¼Œæ–¹ä¾¿åœ¨ä»£ç é‡Œå¼•ç”¨ã€‚</li>
<li>æ¯”å¦‚ç”¨  è·³è½¬ï¼Œæˆ–è€…åœ¨ JS é‡Œ router.push({ name: 'Home' })ã€‚</li>
<li>è™½ç„¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†å¤§é¡¹ç›®é‡Œç”¨ name è·³è½¬æ¯”å†™æ­» path æ›´å®‰å…¨ï¼ˆè·¯å¾„æ”¹äº†ä¹Ÿä¸ç”¨åˆ°å¤„æ”¹ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>component: Home æˆ– component: Aboutï¼ˆçœ‹å•¥ï¼‰</strong></p>
<ul>
<li>
<p>è¿™é‡Œå°±æ˜¯<strong>å¼•ç”¨å‰é¢ import è¿›æ¥çš„ç»„ä»¶</strong>ã€‚</p>
</li>
<li>
<p>Home å’Œ About æ˜¯ä½ åœ¨æ–‡ä»¶é¡¶éƒ¨é€šè¿‡ä¸‹é¢ä»£ç å¯¼å…¥çš„å˜é‡ï¼š</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/Home.vue'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/About.vue'</span>;
</code></pre>
</li>
<li>
<p>å½“è·¯å¾„åŒ¹é…æˆåŠŸåï¼ŒVue Router å°±ä¼šæŠŠè¿™ä¸ªç»„ä»¶æ¸²æŸ“åˆ° App.vue é‡Œçš„  ä½ç½®ã€‚</p>
</li>
</ul>
<p><strong>ç®€å•è¯´ï¼šcomponent å†³å®šäº†â€œè®¿é—®è¿™ä¸ªè·¯å¾„æ—¶ï¼Œæ˜¾ç¤ºå“ªä¸ªé¡µé¢å†…å®¹â€</strong> ã€‚</p>
</li>
</ol>
<h4 data-id="heading-16">ç”¨å¤§ç™½è¯æ€»ç»“æ•´ä¸ªè¿‡ç¨‹</h4>
<p>æƒ³è±¡ Vue Router æ˜¯ä¸€ä¸ªå‰å°æ¥å¾…ï¼š</p>
<ul>
<li>ç”¨æˆ·æ¥äº†ï¼Œè¯´ï¼šâ€œæˆ‘è¦å»é¦–é¡µï¼â€ï¼ˆæµè§ˆå™¨åœ°å€å˜æˆ /ï¼‰</li>
<li>å‰å°ï¼ˆVue Routerï¼‰ä¸€çœ‹ routes é…ç½®è¡¨ï¼šå“¦ï¼Œpath: '/' å¯¹åº” component: Home</li>
<li>ç„¶åæŠŠ Home.vue è¿™ä¸ªâ€œæˆ¿é—´â€ï¼ˆç»„ä»¶ï¼‰æ‰“å¼€ï¼Œæ”¾åˆ°  è¿™ä¸ªå±•ç¤ºæŸœé‡Œè®©ä½ çœ‹</li>
<li>ç”¨æˆ·åˆè¯´ï¼šâ€œæˆ‘è¦å»å…³äºé¡µé¢ï¼â€ï¼ˆåœ°å€å˜æˆ /aboutï¼‰</li>
<li>å‰å°å†æŸ¥è¡¨ï¼špath: '/about' å¯¹åº” component: About</li>
<li>å°±æŠŠ About.vue æ”¾è¿›å»å±•ç¤º</li>
</ul>
<p>æ•´ä¸ªè¿‡ç¨‹é¡µé¢ä¸åˆ·æ–°ï¼Œåªæœ‰å±•ç¤ºæŸœé‡Œçš„å†…å®¹æ¢äº†ã€‚</p>
<h4 data-id="heading-17">å…­ã€æ€»ç»“ä¸å±•æœ›</h4>
<p>é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ä» Vite çš„æé€ŸåŸç†å‡ºå‘ï¼Œå®Œæ•´æ­å»ºäº†ä¸€ä¸ªå¸¦è·¯ç”±çš„ Vue 3 é¡¹ç›®ã€‚æ ¸å¿ƒæ˜¯ç†è§£ ESM + HMRï¼ˆçƒ­æ¨¡å—æ›¿æ¢ï¼‰ çš„ç°ä»£é€»è¾‘ï¼Œè®©å¼€å‘ä½“éªŒé£èµ·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React è·¯ç”±é…ç½®å…¨è§£æï¼šä»å¤šé¡µåº”ç”¨åˆ°å•é¡µåº”ç”¨]]></title>    <link>https://juejin.cn/post/7584307643000602667</link>    <guid>https://juejin.cn/post/7584307643000602667</guid>    <pubDate>2025-12-16T18:49:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584307643000602667" data-draft-id="7584273076646789126" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React è·¯ç”±é…ç½®å…¨è§£æï¼šä»å¤šé¡µåº”ç”¨åˆ°å•é¡µåº”ç”¨"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-16T18:49:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¸¡è…¿å¤§ç‹"/> <meta itemprop="url" content="https://juejin.cn/user/4361104734828352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React è·¯ç”±é…ç½®å…¨è§£æï¼šä»å¤šé¡µåº”ç”¨åˆ°å•é¡µåº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4361104734828352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¸¡è…¿å¤§ç‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T18:49:40.000Z" title="Tue Dec 16 2025 18:49:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œè·¯ç”±ç®¡ç†æ˜¯å®ç°é¡µé¢åˆ‡æ¢å’Œå¯¼èˆªçš„é‡è¦éƒ¨åˆ†ã€‚React ä½œä¸ºæµè¡Œçš„å‰ç«¯æ¡†æ¶ï¼Œä½¿ç”¨ React Router æ¥å¤„ç†å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ä¸­çš„è·¯ç”±ç®¡ç†ã€‚æœ¬æ–‡å°†ç»“åˆå®é™…ä»£ç ç¤ºä¾‹ï¼Œè®²è§£å¦‚ä½•åœ¨ React ä¸­é…ç½®å’Œä½¿ç”¨è·¯ç”±ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35f6bd84acd24ef38a75f1d866681d37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=mk5gkfAqeSMS92nR24TCSfenLr8%3D" alt="0341DB58.gif" loading="lazy"/></p>
<h2 data-id="heading-0">1. å¤šé¡µåº”ç”¨ VS å•é¡µåº”ç”¨</h2>
<p>ä¼ ç»Ÿçš„å¤šé¡µåº”ç”¨ï¼ˆMPAï¼‰æ¯æ¬¡ç”¨æˆ·è¯·æ±‚ä¸€ä¸ªæ–°é¡µé¢æ—¶ï¼Œæµè§ˆå™¨ä¼šé‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚è€Œåœ¨å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ä¸­ï¼Œæ•´ä¸ªåº”ç”¨åªåŠ è½½ä¸€æ¬¡ HTMLï¼Œé¡µé¢å†…å®¹çš„åˆ‡æ¢æ˜¯é€šè¿‡ JavaScript åŠ¨æ€åŠ è½½çš„ã€‚SPA é€šè¿‡ React Router æ¥å®ç° URL å’Œé¡µé¢ç»„ä»¶çš„æ˜ å°„ï¼Œåªæœ‰åœ¨ URL æ”¹å˜æ—¶ï¼ŒReact Router æ‰ä¼šåŠ è½½ä¸åŒçš„ç»„ä»¶ï¼Œé¿å…äº†é¡µé¢çš„é‡åŠ è½½ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·è®¿é—®ä»¥ä¸‹ URLï¼š</p>
<ul>
<li><code>http://localhost:5173/home</code> â€”â€” æ˜¾ç¤ºé¦–é¡µç»„ä»¶</li>
<li><code>http://localhost:5173/about</code> â€”â€” æ˜¾ç¤ºå…³äºé¡µé¢ç»„ä»¶</li>
</ul>
<p>React Router ä¼šæ ¹æ® URL æ”¹å˜ï¼ŒåŠ è½½å¹¶æ¸²æŸ“å¯¹åº”çš„ç»„ä»¶ï¼Œè€Œæ— éœ€åˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a80c0cc2c15845d8826748bdc8ef7923~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=%2Bu7R2dXW7g88RPkWc2SIs2HrmXM%3D" alt="03423976.gif" loading="lazy"/></p>
<h2 data-id="heading-1">2. React Router è·¯ç”±é…ç½®è¯¦è§£</h2>
<p>React Router æä¾›äº†ä¸€äº›æ ¸å¿ƒç»„ä»¶æ¥å¸®åŠ©æˆ‘ä»¬é…ç½®å’Œç®¡ç†è·¯ç”±ï¼Œä¸‹é¢è¯¦ç»†ä»‹ç»è¿™äº›ç»„ä»¶åŠå…¶ä½¿ç”¨æ–¹å¼ã€‚</p>
<h3 data-id="heading-2">2.1 BrowserRouterï¼šè·¯ç”±æ¨¡å¼</h3>
<p>åœ¨ React ä¸­ï¼Œ<code>BrowserRouter</code> æ˜¯ä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œå®ƒé€šè¿‡ HTML5 çš„ History API å®ç°è·¯ç”±çš„æ— åˆ·æ–°è·³è½¬ã€‚<code>BrowserRouter</code> éœ€è¦åŒ…è£¹æ•´ä¸ªåº”ç”¨ï¼Œè¿™æ · React Router æ‰èƒ½è¯†åˆ«å’Œå“åº” URL å˜åŒ–ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">BrowserRouter</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
        {/* é…ç½®è·¯ç”± */}
      <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">BrowserRouter</span>&gt;</span></span>
  );
}

</code></pre>
<h3 data-id="heading-3">2.2 Routesï¼šè·¯ç”±é…ç½®å®¹å™¨</h3>
<p><code>Routes</code> ç»„ä»¶æ˜¯ä¸€ä¸ªè·¯ç”±é…ç½®çš„å®¹å™¨ï¼Œå®ƒåŒ…å«äº†å¤šä¸ª <code>Route</code> é…ç½®é¡¹ã€‚æ¯ä¸ª <code>Route</code> éƒ½å¯¹åº”ä¸€ä¸ª URL è·¯å¾„å’Œä¸€ä¸ªç»„ä»¶ï¼Œå½“ URL è·¯å¾„åŒ¹é…æ—¶ï¼ŒReact Router ä¼šæ¸²æŸ“å¯¹åº”çš„ç»„ä»¶ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">BrowserRouter</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/home"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>} /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">BrowserRouter</span>&gt;</span></span>
  );
}

</code></pre>
<h3 data-id="heading-4">2.3 Routeï¼šè·¯ç”±é…ç½®é¡¹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08ab77893c0243d19fe056e4d5facf72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=1nhNGxHknH1%2Frac9OnMrckRtoFk%3D" alt="03427DE2.gif" loading="lazy"/>
<code>Route</code> ç»„ä»¶æ˜¯æœ€åŸºæœ¬çš„è·¯ç”±é…ç½®é¡¹ã€‚å®ƒé€šè¿‡ <code>path</code> å±æ€§æŒ‡å®š URL è·¯å¾„ï¼Œé€šè¿‡ <code>element</code> å±æ€§æŒ‡å®šåŒ¹é…è·¯å¾„æ—¶è¦æ¸²æŸ“çš„ç»„ä»¶ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx">&lt;<span class="hljs-title class_">Route</span> path=<span class="hljs-string">"/home"</span> element={<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span></span>} /&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>} /&gt;</span>

</code></pre>
<h3 data-id="heading-5">2.4 Outletï¼šäºŒçº§è·¯ç”±å‡ºå£</h3>
<p>å½“æˆ‘ä»¬æœ‰åµŒå¥—è·¯ç”±æ—¶ï¼Œ<code>Outlet</code> ç»„ä»¶ç”¨äºæ¸²æŸ“åµŒå¥—çš„å­è·¯ç”±ç»„ä»¶ã€‚çˆ¶è·¯ç”±åŒ¹é…æ—¶ï¼Œ<code>Outlet</code> ä¼šæ¸²æŸ“å­è·¯ç”±ç»„ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8cd3551471742a6b55b64608df47cbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=ENgNibQ4WL3W1cDU%2BHXpztmCsDg%3D" alt="0342D5A6.gif" loading="lazy"/>
ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«å¤šä¸ªå­é¡µé¢çš„â€œç”¨æˆ·â€é¡µé¢ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx">&lt;<span class="hljs-title class_">Route</span> path=<span class="hljs-string">"/user"</span> element={<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">User</span> /&gt;</span></span>}&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"profile"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Profile</span> /&gt;</span>} /&gt;</span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"settings"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Settings</span> /&gt;</span>} /&gt;</span>
&lt;/<span class="hljs-title class_">Route</span>&gt;

</code></pre>
<p>åœ¨ <code>User</code> ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>Outlet</code> æ¥æ¸²æŸ“ <code>Profile</code> å’Œ <code>Settings</code>ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">User</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>User Page<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span>  {/* å­è·¯ç”±æ¸²æŸ“ä½ç½® */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

</code></pre>
<h3 data-id="heading-6">2.5 Linkï¼šå¯¼èˆªé“¾æ¥</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6a6920e0f234d57ba3fc7c447a1e858~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=j0eKdPaUi3p%2Bdaw6XWVIoLpf1GE%3D" alt="03433683.gif" loading="lazy"/>
åœ¨å•é¡µåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>Link</code> ç»„ä»¶æ¥å®ç°é¡µé¢è·³è½¬ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„ <code>&lt;a&gt;</code> æ ‡ç­¾ã€‚<code>Link</code> ç»„ä»¶ä¼šé€šè¿‡ React Router æ¥è¿›è¡Œè·¯ç”±è·³è½¬ï¼Œä»è€Œé¿å…é¡µé¢åˆ·æ–°ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Navbar</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/home"</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>
  );
}

</code></pre>
<h3 data-id="heading-7">2.6 useNavigateï¼šè·¯ç”±è·³è½¬</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c796ee9dfa5d4d6e97645378a0050e0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=5jy04DTHygrnOMFpNn5Si4d1aOc%3D" alt="03435AA5.gif" loading="lazy"/>
<code>useNavigate</code> æ˜¯ React Router æä¾›çš„ hookï¼Œå¯ä»¥åœ¨ç»„ä»¶ä¸­ç¼–ç¨‹å¼åœ°è·³è½¬åˆ°æŒ‡å®šçš„è·¯ç”±ã€‚é€šè¿‡ <code>useNavigate</code>ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ JavaScript åŠ¨æ€æ§åˆ¶è·¯ç”±è·³è½¬ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">RedirectButton</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/about'</span>);  <span class="hljs-comment">// ç¼–ç¨‹å¼è·³è½¬åˆ° "about" é¡µé¢</span>
  };

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>Go to About<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
}

</code></pre>
<h2 data-id="heading-8">3. é¡µé¢ä¸ç»„ä»¶çš„å…³ç³»</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d055cbd68a944a59bddae498fc0ad825~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=i5bspxkmIxRT5482reUA2LIFt%2BI%3D" alt="0343B057.gif" loading="lazy"/>
åœ¨ React é¡¹ç›®ä¸­ï¼Œ<strong>é¡µé¢</strong>å’Œ<strong>ç»„ä»¶</strong>æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼š</p>
<ul>
<li><strong>é¡µé¢ï¼ˆPageï¼‰</strong> ï¼šé…ç½®è·¯ç”±çš„ç»„ä»¶è¢«ç§°ä¸ºé¡µé¢ã€‚æ¯ä¸ªé¡µé¢é€šå¸¸å¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„ URL è·¯å¾„ã€‚</li>
<li><strong>ç»„ä»¶ï¼ˆComponentï¼‰</strong> ï¼šæ²¡æœ‰ç›´æ¥é…è·¯ç”±çš„ç»„ä»¶ï¼Œé€šå¸¸ä½œä¸ºé¡µé¢çš„å­ç»„ä»¶è¿›è¡Œå±•ç¤ºã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œ<code>Home</code> å’Œ <code>About</code> æ˜¯é¡µé¢ç»„ä»¶ï¼Œè€Œ <code>Navbar</code>ã€<code>Footer</code> ç­‰åˆ™æ˜¯ä¸€èˆ¬çš„ç»„ä»¶ã€‚</p>
<h2 data-id="heading-9">4. å®Œæ•´ä»£ç ç¤ºä¾‹</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/022d98b2c1754cd9a93842b3606e5434~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=%2Be92vsa1a0dXl0mxUgHWoa85rqo%3D" alt="0343FFCE.gif" loading="lazy"/>
ä»¥ä¸‹æ˜¯åŸºäºä¸Šè¿°æ¦‚å¿µå’Œ React Router é…ç½®çš„å®é™…ä»£ç ç¤ºä¾‹ï¼Œå†™äº†ä¸€ä¸ªç®€å•çš„åå°ç®¡ç†ç³»ç»Ÿï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨é¡¹ç›®ä¸­é…ç½®å’Œä½¿ç”¨ React Routerã€‚</p>
<h3 data-id="heading-10">4.1 App.jsx</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41b9364e35384b4a8d2d7d1f5c16a4ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=pYB6z0tPren2bxLWwVo2w6YjXGs%3D" alt="03442E60.gif" loading="lazy"/></p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// App.jsx</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span>, <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Navigate</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./views/login/Login'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./views/Home/Home'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Class</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./views/class/Class'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Leetcode</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./views/leetcode/Leetcode'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">BrowserRouter</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/login"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Login</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/home"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>}&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/home"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/home/class"</span> /&gt;</span>} /&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/home/leetcode"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Leetcode</span> /&gt;</span>} /&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/home/class"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Class</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"*"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">h2</span>&gt;</span>404 Not Found<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>} /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">BrowserRouter</span>&gt;</span></span>
  );
}

</code></pre>
<p>4.2 Home.jsx</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54259bcef2bd4d9fab774a193217da01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=%2B8PQHSVzOVJy8V4tKe9u7%2B1xYRc%3D" alt="03446649.gif" loading="lazy"/></p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// Home.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./home.css'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Outlet</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"header"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>åå°ç®¡ç†ç³»ç»Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>admin<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"body"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">aside</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"aside"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/home/class"</span>&gt;</span>è¯¾ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/home/leetcode"</span>&gt;</span>ç®—æ³•<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"container"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

</code></pre>
<p>4.3 ç™»å½•é¡µé¢ (Login.jsx)</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99d1e4a131464c01b80e8a9abd7b6616~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=ZLs9BMrzqR0sN5ZCG%2BRvo%2FsWbMU%3D" alt="0344A97C.gif" loading="lazy"/></p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// Login.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./login.css'</span>;
<span class="hljs-keyword">import</span> { useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Login</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">login</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/home?id=123'</span>);  <span class="hljs-comment">// ç™»å½•æˆåŠŸåè·³è½¬åˆ°é¦–é¡µ</span>
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"login"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"login-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>åå°ç®¡ç†ç³»ç»Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"item"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>è´¦å·:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥è´¦å·"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"item"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>å¯†ç :<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥å¯†ç "</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"item"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{login}</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

</code></pre>
<h2 data-id="heading-11">5. æ€»ç»“</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c35bd7abee94725a3ef5c2bc8b952bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bih6IW_5aSn546L:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766515780&amp;x-signature=o9c2M9zGnDVsmS50p1NRavEHyjY%3D" alt="03451D54.gif" loading="lazy"/>
React Router æ˜¯ç®¡ç† React å•é¡µåº”ç”¨ä¸­è·¯ç”±å’Œé¡µé¢åˆ‡æ¢çš„é‡è¦å·¥å…·ã€‚é€šè¿‡ <code>BrowserRouter</code>ã€<code>Routes</code>ã€<code>Route</code>ã€<code>Link</code> ç­‰ç»„ä»¶ï¼Œä½ å¯ä»¥è½»æ¾åœ°é…ç½®å’Œç®¡ç†é¡µé¢è·³è½¬ã€‚è€Œé€šè¿‡ <code>useNavigate</code> ç­‰ APIï¼Œä½ å¯ä»¥æ›´åŠ çµæ´»åœ°æ§åˆ¶è·¯ç”±è·³è½¬ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ React è·¯ç”±çš„å·¥ä½œåŸç†ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# Vueé¡¹ç›®åˆè¯†ï¼šä»é›¶å¼€å§‹æ­å»ºä½ çš„ç¬¬ä¸€ä¸ªç°ä»£å‰ç«¯å·¥ç¨‹åŒ–Vue3é¡¹ç›®]]></title>    <link>https://juejin.cn/post/7584297353419997184</link>    <guid>https://juejin.cn/post/7584297353419997184</guid>    <pubDate>2025-12-16T17:37:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584297353419997184" data-draft-id="7584286241488502824" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# Vueé¡¹ç›®åˆè¯†ï¼šä»é›¶å¼€å§‹æ­å»ºä½ çš„ç¬¬ä¸€ä¸ªç°ä»£å‰ç«¯å·¥ç¨‹åŒ–Vue3é¡¹ç›®"/> <meta itemprop="keywords" content="Vue.js,é¢è¯•,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-16T17:37:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥ç§˜çš„çŒªå¤´"/> <meta itemprop="url" content="https://juejin.cn/user/793223472877051"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # Vueé¡¹ç›®åˆè¯†ï¼šä»é›¶å¼€å§‹æ­å»ºä½ çš„ç¬¬ä¸€ä¸ªç°ä»£å‰ç«¯å·¥ç¨‹åŒ–Vue3é¡¹ç›®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/793223472877051/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥ç§˜çš„çŒªå¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T17:37:01.000Z" title="Tue Dec 16 2025 17:37:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ æ­£å‡†å¤‡è¸å…¥ Vue çš„ä¸–ç•Œï¼Œæ­å–œä½ é€‰å¯¹äº†æ–¹å‘ï¼Vue æ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„å‰ç«¯æ¡†æ¶ä¹‹ä¸€ï¼Œä»¥å…¶<strong>ç®€æ´ä¼˜é›…çš„è¯­æ³•ã€å¼ºå¤§çš„å“åº”å¼ç³»ç»Ÿå’Œæä½³çš„å¼€å‘ä½“éªŒ</strong>ï¼Œæ·±å—å¼€å‘è€…å–œçˆ±ã€‚è€Œä»Šå¤©æˆ‘ä»¬è¦ä¸€èµ·åšçš„ï¼Œå°±æ˜¯<strong>äº²æ‰‹æ­å»ºä¸€ä¸ªæ ‡å‡†çš„ Vue3 é¡¹ç›®</strong>ï¼Œå¹¶æ·±å…¥ç†è§£å®ƒèƒŒåçš„â€œç°ä»£å‰ç«¯å·¥ç¨‹åŒ–â€æ€æƒ³ã€‚</p>
<p>åˆ«æ‹…å¿ƒï¼Œè¿™ç¯‡æ–‡ç« ä¸“ä¸º <strong>é›¶åŸºç¡€æˆ–åˆšå…¥é—¨çš„å°ç™½è®¾è®¡</strong>ï¼Œæˆ‘ä¼šç”¨è½»æ¾æ¬¢å¿«ä½†ä¸å¤±ä¸“ä¸šçš„è¯­è¨€ï¼Œå¸¦ä½ ä¸€æ­¥æ­¥èµ°è¿› Vue3 çš„ä¸–ç•Œï¼Œææ‡‚ <code>Vite</code>ã€<code>Vue Router</code>ã€<code>index.html</code>ã€<code>main.js</code> ç­‰æ ¸å¿ƒæ–‡ä»¶ä¹‹é—´çš„å…³ç³»ï¼Œå¹¶å‘Šè¯‰ä½ â€”â€”ä¸ºä»€ä¹ˆç°åœ¨çš„å‰ç«¯å¼€å‘è¿™ä¹ˆå¿«ã€è¿™ä¹ˆçˆ½ï¼</p>
<hr/>
<h2 data-id="heading-0">ğŸš€ ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ª Vue3 é¡¹ç›®</h2>
<p>æˆ‘ä»¬ä½¿ç”¨çš„å·¥å…·æ˜¯ <strong>Vite</strong> â€”â€” ä¸€ä¸ªç”± Vue ä½œè€…å°¤é›¨æºªï¼ˆEvan Youï¼‰äº²è‡ªæ‰“é€ çš„ç°ä»£å‰ç«¯æ„å»ºå·¥å…·ã€‚å®ƒçš„å£å·æ˜¯ï¼šâ€œ<strong>æé€Ÿå†·å¯åŠ¨ + æé€Ÿçƒ­æ›´æ–° = å¼€å‘å¹¸ç¦æ„Ÿçˆ†æ£šï¼</strong>â€</p>
<h3 data-id="heading-1">1. ä½¿ç”¨å‘½ä»¤åˆå§‹åŒ–é¡¹ç›®</h3>
<p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm init vite
</code></pre>
<p>è¿™ä¼šå¼•å¯¼ä½ å®Œæˆé¡¹ç›®çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼š</p>
<ul>
<li>è¾“å…¥é¡¹ç›®åç§°ï¼ˆæ¯”å¦‚ <code>my-vue-app</code>ï¼‰</li>
<li>é€‰æ‹©æ¡†æ¶ï¼š<code>Vue</code></li>
<li>é€‰æ‹©å˜ä½“ï¼š<code>JavaScript</code> æˆ– <code>TypeScript</code>ï¼ˆæ–°æ‰‹å»ºè®®é€‰ JSï¼‰</li>
</ul>
<p>å®Œæˆåè¿›å…¥é¡¹ç›®ç›®å½•å¹¶å®‰è£…ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> my-vue-app
npm install
</code></pre>
<p>ç„¶åå¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm run dev
</code></pre>
<p>å‡ ç§’é’Ÿåï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">  VITE v4.x.x  ready in <span class="hljs-number">200</span>ms

  âœ  Local:   http:<span class="hljs-comment">//localhost:5173/</span>
  âœ  Network: use --host to expose
</code></pre>
<p>æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ï¼Œæ˜¾ç¤º Vite çš„æ¬¢è¿é¡µé¢ ğŸ‘ â€”â€” æ­å–œä½ ï¼Œé¡¹ç›®è·‘èµ·æ¥äº†ï¼</p>
<blockquote>
<p>âœ… å°è´´å£«ï¼šVite èƒ½åšåˆ°â€œç§’å¼€â€ï¼Œæ˜¯å› ä¸ºå®ƒåˆ©ç”¨äº†æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ <strong>ES Module (ESM)</strong>ã€‚ä¼ ç»Ÿæ‰“åŒ…å·¥å…·å¦‚ Webpack éœ€è¦å…ˆæ‰“åŒ…æ•´ä¸ªåº”ç”¨æ‰èƒ½è¿è¡Œï¼Œè€Œ Vite åªåœ¨éœ€è¦æ—¶åŠ¨æ€åŠ è½½æ¨¡å—ï¼Œæ‰€ä»¥â€œå†·å¯åŠ¨â€ç‰¹åˆ«å¿«ï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-2">ğŸ§± ç¬¬äºŒæ­¥ï¼šè®¤è¯†é¡¹ç›®ç»“æ„ â€”â€” ä¼˜ç§€æ¶æ„é•¿ä»€ä¹ˆæ ·ï¼Ÿ</h2>
<p>Vite å¸®æˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ªéå¸¸æ ‡å‡†ä¸”ç°ä»£åŒ–çš„é¡¹ç›®æ¨¡æ¿ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œ<strong>å·¥ç¨‹åŒ–è„šæ‰‹æ¶</strong>â€ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªâ€œå®¶â€é‡Œéƒ½æœ‰å“ªäº›é‡è¦æˆå‘˜ï¼š</p>
<pre><code class="hljs language-css" lang="css">my-vue-app/
â”œâ”€â”€ index<span class="hljs-selector-class">.html</span>              â† å…¥å£ <span class="hljs-selector-tag">HTML</span> æ–‡ä»¶
â”œâ”€â”€ package<span class="hljs-selector-class">.json</span>            â† é¡¹ç›®é…ç½® &amp; ä¾èµ–ç®¡ç†
â”œâ”€â”€ public/                 â† é™æ€èµ„æºï¼ˆä¸ä¼šè¢«å¤„ç†ï¼‰
â”œâ”€â”€ <span class="hljs-attribute">src</span>/
â”‚   â”œâ”€â”€ App<span class="hljs-selector-class">.vue</span>             â† æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.js</span>             â† åº”ç”¨å…¥å£ JS
â”‚   â”œâ”€â”€ components/         â† å¯å¤ç”¨ç»„ä»¶ç›®å½•
â”‚   â””â”€â”€ views/              â† é¡µé¢çº§ç»„ä»¶ç›®å½•ï¼ˆå¾…æ·»åŠ ï¼‰
â”œâ”€â”€ vite<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.js</span>          â† Vite é…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ ...
</code></pre>
<p>æ˜¯ä¸æ˜¯çœ‹èµ·æ¥äº•äº•æœ‰æ¡ï¼Ÿè¿™ç§æ¸…æ™°çš„åˆ†å±‚ç»“æ„æ­£æ˜¯ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–çš„ä½“ç°ï¼š<strong>åˆ†å·¥æ˜ç¡®ã€èŒè´£å•ä¸€ã€æ˜“äºç»´æŠ¤</strong>ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é‡ç‚¹å‰–æä¸‰ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼š<code>index.html</code>ã€<code>main.js</code> å’Œ <code>App.vue</code>ã€‚</p>
<hr/>
<h2 data-id="heading-3">ğŸ”— ç¬¬ä¸‰æ­¥ï¼šæ‰“é€šä»»ç£äºŒè„‰ â€”â€” index.htmlã€main.jsã€App.vue å¦‚ä½•åä½œï¼Ÿ</h2>
<h3 data-id="heading-4">ğŸ“„ 1. <code>index.html</code>ï¼šä¸€åˆ‡çš„èµ·ç‚¹</h3>
<p>è¿™æ˜¯æ•´ä¸ªåº”ç”¨çš„â€œé—¨é¢â€ï¼Œä¹Ÿæ˜¯æµè§ˆå™¨æœ€å…ˆåŠ è½½çš„æ–‡ä»¶ã€‚è™½ç„¶å®ƒçœ‹èµ·æ¥åªæ˜¯ä¸€ä¸ªæ™®é€šçš„ HTMLï¼Œä½†å®ƒæ‰¿è½½ç€è‡³å…³é‡è¦çš„ä½¿å‘½ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"icon"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"image/svg+xml"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/vite.svg"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>all-vue<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ç»„ä»¶çš„æŒ‚è½½ç‚¹ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æ„å»ºå·¥ä½œï¼Œå‰ç«¯ç•Œé¢å¼€å‘çš„åˆ†æ°´å²­ 
         Vue å¾ˆå¿«ï¼Œå› ä¸ºåŸºäºæœ€æ–°çš„ ESMï¼ˆtype="module"ï¼‰
         åªéœ€è¦è§£æéœ€è¦çš„æ–‡ä»¶ï¼Œå¦‚æœå…¶ä»–é‚£å°±è¦è§£ææ›´å¤šæ–‡ä»¶ï¼Œæ…¢ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/src/main.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>ğŸ” <strong>å…³é”®ç‚¹è§£æï¼š</strong></p>
<ul>
<li><code>&lt;div id="app"&gt;</code>ï¼šè¿™æ˜¯ Vue åº”ç”¨çš„â€œå®¹å™¨â€ï¼Œæ‰€æœ‰ç»„ä»¶æœ€ç»ˆéƒ½ä¼šæ¸²æŸ“åˆ°è¿™é‡Œã€‚</li>
<li><code>&lt;script type="module"&gt;</code>ï¼šä½¿ç”¨äº†åŸç”Ÿ ES æ¨¡å—æœºåˆ¶ï¼Œæ„å‘³ç€æµè§ˆå™¨å¯ä»¥ç›´æ¥ import/export JS æ¨¡å—ï¼Œæ— éœ€é¢„å…ˆæ‰“åŒ…ã€‚</li>
<li><code>src="/src/main.js"</code>ï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œâ€œå»æ‰§è¡Œ <code>/src/main.js</code> è¿™ä¸ªæ¨¡å—â€ã€‚</li>
</ul>
<p>ğŸ’¡ <strong>ä¸ºä»€ä¹ˆå¿«ï¼Ÿ</strong><br/>
å› ä¸º Vite åœ¨å¼€å‘ç¯å¢ƒä¸‹ä¸è¿›è¡Œå®Œæ•´æ‰“åŒ…ï¼Œè€Œæ˜¯é€šè¿‡ HTTP Server æä¾›æŒ‰éœ€ç¼–è¯‘æœåŠ¡ã€‚å½“ä½ è®¿é—® <code>/src/main.js</code> æ—¶ï¼ŒVite æ‰å®æ—¶å°†å…¶è½¬æ¢ä¸ºæµè§ˆå™¨å¯æ‰§è¡Œçš„ä»£ç ã€‚è¿™å°±åƒæ˜¯â€œæŒ‰éœ€ç‚¹é¤â€ï¼Œè€Œä¸æ˜¯â€œæå‰åšå¥½ä¸€æ•´æ¡Œèœâ€ã€‚</p>
<hr/>
<h3 data-id="heading-5">âš™ï¸ 2. <code>main.js</code>ï¼šåº”ç”¨çš„å¯åŠ¨å¼•æ“</h3>
<p>è¿™æ˜¯ Vue åº”ç”¨çš„â€œå¿ƒè„â€ï¼Œè´Ÿè´£åˆ›å»ºå®ä¾‹ã€æ³¨å†Œæ’ä»¶ã€æŒ‚è½½æ ¹ç»„ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vue createApp åˆ›å»ºä¸€ä¸ªApp</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./style.css'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>

<span class="hljs-comment">// å¼•å…¥è·¯ç”±æ¨¡å—</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>

<span class="hljs-comment">// ç°ä»£å‰ç«¯åº”ç”¨</span>
<span class="hljs-comment">// ç»„ä»¶åŒ–ï¼Œå“åº”å¼....</span>
<span class="hljs-comment">// è·ŸDOMç¼–ç¨‹say byebye</span>
<span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)
  .<span class="hljs-title function_">use</span>(router) <span class="hljs-comment">// å¯ç”¨è·¯ç”±</span>
  .<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>) <span class="hljs-comment">// æŒ‚è½½åœ¨ #app ä¸Š</span>
</code></pre>
<p>ğŸ” <strong>é€è¡Œè¯¦è§£ï¼š</strong></p>





























<table><thead><tr><th>è¡Œæ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>import { createApp } from 'vue'</code></td><td>å¯¼å…¥ Vue æä¾›çš„ <code>createApp</code> å·¥å‚å‡½æ•°ï¼Œç”¨äºåˆ›å»ºåº”ç”¨å®ä¾‹</td></tr><tr><td><code>import App from './App.vue'</code></td><td>åŠ è½½æ ¹ç»„ä»¶ <code>App.vue</code></td></tr><tr><td><code>createApp(App)</code></td><td>åˆ›å»ºä¸€ä¸ª Vue åº”ç”¨å®ä¾‹ï¼Œä¼ å…¥æ ¹ç»„ä»¶</td></tr><tr><td><code>.use(router)</code></td><td>å®‰è£… Vue Router æ’ä»¶ï¼Œå¯ç”¨è·¯ç”±åŠŸèƒ½</td></tr><tr><td><code>.mount('#app')</code></td><td>å°†åº”ç”¨æŒ‚è½½åˆ° DOM ä¸­çš„ <code>#app</code> å…ƒç´ ä¸Š</td></tr></tbody></table>
<p>ğŸ¯ <strong>åˆ’é‡ç‚¹ï¼š</strong>
<code>.use()</code> æ˜¯ Vue æ’ä»¶ç³»ç»Ÿçš„å…¥å£ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥é›†æˆ Vuexï¼ˆçŠ¶æ€ç®¡ç†ï¼‰ã€Piniaã€UIåº“ç­‰ã€‚åªè¦ä¸€ä¸ª <code>.use()</code>ï¼Œå°±èƒ½è®©æ•´ä¸ªåº”ç”¨æ‹¥æœ‰æ–°èƒ½åŠ›ï¼</p>
<hr/>
<h3 data-id="heading-6">ğŸ’– 3. <code>App.vue</code>ï¼šæ ¹ç»„ä»¶ï¼Œå…¨å®¶ç¦èˆå°</h3>
<p><code>.vue</code> æ–‡ä»¶æ˜¯ä¸€ç§ç‰¹æ®Šçš„å•æ–‡ä»¶ç»„ä»¶ï¼ˆSingle File Component, SFCï¼‰ï¼Œå°†æ¨¡æ¿ã€é€»è¾‘ã€æ ·å¼å°è£…åœ¨ä¸€èµ·ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script&gt;&lt;/script&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;header&gt;
      &lt;nav&gt;
        &lt;ul&gt;
          &lt;!-- app.use(router)ä¹‹å vue-router å¸¦ç»™æˆ‘ä»¬çš„å…¨å±€ç»„ä»¶ --&gt;
          &lt;li&gt;&lt;Router-link to="/"&gt;Home&lt;/Router-link&gt;&lt;/li&gt;
          &lt;li&gt;&lt;Router-link to="/about"&gt;About&lt;/Router-link&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/nav&gt;
    &lt;/header&gt;
    &lt;main&gt;
      &lt;!-- å¤šä¸ªé¡µé¢çš„å ä½ç¬¦ --&gt;
      &lt;router-view&gt;&lt;/router-view&gt;
    &lt;/main&gt;
    &lt;footer&gt;&lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;style scoped&gt;
&lt;/style&gt;
</code></pre>
<p>ğŸ” <strong>ä¸‰å¤§å—è§£æï¼š</strong></p>
<h4 data-id="heading-7">âœ… <code>&lt;template&gt;</code>ï¼šè§†å›¾æ¨¡æ¿</h4>
<ul>
<li>å†™çš„æ˜¯ HTML-like ç»“æ„ï¼Œä½†æ”¯æŒ Vue æŒ‡ä»¤ï¼ˆå¦‚ <code>v-if</code>, <code>v-for</code>ï¼‰ã€‚</li>
<li><code>&lt;Router-link&gt;</code> æ˜¯ Vue Router æä¾›çš„<strong>å£°æ˜å¼å¯¼èˆªç»„ä»¶</strong>ï¼Œç‚¹å‡»ä¸ä¼šåˆ·æ–°é¡µé¢ï¼Œè€Œæ˜¯é€šè¿‡ JS æ”¹å˜ URL å¹¶åˆ‡æ¢è§†å›¾ã€‚</li>
<li><code>&lt;router-view&gt;</code> æ˜¯ä¸€ä¸ªâ€œæ’åº§â€ï¼Œç”¨æ¥åŠ¨æ€æ’å…¥å½“å‰åŒ¹é…çš„é¡µé¢ç»„ä»¶ï¼ˆæ¯”å¦‚ Home æˆ– Aboutï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-8">âœ… <code>&lt;script&gt;</code>ï¼šä¸šåŠ¡é€»è¾‘</h4>
<ul>
<li>ç›®å‰ä¸ºç©ºï¼Œåç»­å¯ä»¥å†™æ•°æ®ã€æ–¹æ³•ã€ç”Ÿå‘½å‘¨æœŸé’©å­ç­‰ã€‚</li>
<li>æ³¨æ„ï¼šåœ¨ Vue3 ä¸­æ¨èä½¿ç”¨ <code>&lt;script setup&gt;</code> è¯­æ³•ç³–ï¼Œæ›´ç®€æ´ã€‚</li>
</ul>
<h4 data-id="heading-9">âœ… <code>&lt;style scoped&gt;</code>ï¼šå±€éƒ¨æ ·å¼</h4>
<ul>
<li><code>scoped</code> è¡¨ç¤ºè¿™äº› CSS åªä½œç”¨äºå½“å‰ç»„ä»¶ï¼Œé¿å…å…¨å±€æ±¡æŸ“ã€‚</li>
<li>ç¼–è¯‘åï¼ŒVite ä¼šè‡ªåŠ¨ç»™å…ƒç´ æ·»åŠ å”¯ä¸€å±æ€§ï¼ˆå¦‚ <code>data-v-f3f3eg9</code>ï¼‰å®ç°æ ·å¼éš”ç¦»ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-10">ğŸ›£ï¸ ç¬¬å››æ­¥ï¼šå¤šé¡µé¢å¯¼èˆª â€”â€” ä½¿ç”¨ Vue Router å®ç° SPA</h2>
<p>ç°åœ¨æˆ‘ä»¬çš„ App åªæ˜¯ä¸€ä¸ªé™æ€é¡µé¢ã€‚å¦‚ä½•è®©å®ƒå˜æˆâ€œå¤šé¡µåº”ç”¨â€ï¼Ÿç­”æ¡ˆæ˜¯ï¼š<strong>å‰ç«¯è·¯ç”±ï¼ˆFrontend Routingï¼‰</strong>ã€‚</p>
<p>Vue å®˜æ–¹æä¾›äº† <code>vue-router</code> æ¥å®ç°è¿™ä¸€åŠŸèƒ½ï¼Œè®©ä½ æ— éœ€åˆ·æ–°é¡µé¢å°±èƒ½åˆ‡æ¢å†…å®¹ï¼Œæ‰“é€ çœŸæ­£çš„ SPAï¼ˆSingle Page Applicationï¼‰ã€‚</p>
<h3 data-id="heading-11">1. å®‰è£… Vue Router</h3>
<pre><code class="hljs language-bash" lang="bash">npm install vue-router@4
</code></pre>
<blockquote>
<p>æ³¨ï¼šVue3 å¯¹åº”çš„æ˜¯ vue-router v4ï¼Œä¸è¦è£…é”™ç‰ˆæœ¬å“¦ï¼</p>
</blockquote>
<h3 data-id="heading-12">2. åˆ›å»ºè·¯ç”±é…ç½®æ–‡ä»¶ï¼š<code>src/router/index.js</code></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// router æ¨¡å— å®šä¹‰è·¯ç”±</span>
<span class="hljs-comment">// https://juejin.cn/post/7046222222402390046</span>
<span class="hljs-keyword">import</span> {
    createRouter,           <span class="hljs-comment">// åˆ›å»ºå‰ç«¯è·¯ç”±å®ä¾‹</span>
    createWebHashHistory    <span class="hljs-comment">// å®šä¹‰è·¯ç”±æ¨¡å¼</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>

<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/Home.vue'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/About.vue'</span>;

<span class="hljs-keyword">const</span> routes = [
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Home'</span>,
        <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span>
    },
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'/about'</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">'About'</span>,
        <span class="hljs-attr">component</span>: <span class="hljs-title class_">About</span>
    }
];

<span class="hljs-comment">// å®ä¾‹åŒ–ï¼Œè´Ÿè´£å‰ç«¯è·¯ç”±</span>
<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
    <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHashHistory</span>(),  <span class="hljs-comment">// ä½¿ç”¨ hash æ¨¡å¼ï¼š#/about</span>
    routes                           <span class="hljs-comment">// è·¯ç”±æ˜ å°„è¡¨</span>
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;
</code></pre>
<p>ğŸ” <strong>æ ¸å¿ƒæ¦‚å¿µè®²è§£ï¼š</strong></p>





























<table><thead><tr><th>æ¦‚å¿µ</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>createRouter()</code></td><td>åˆ›å»ºè·¯ç”±å®ä¾‹çš„æ ¸å¿ƒå‡½æ•°</td></tr><tr><td><code>createWebHashHistory()</code></td><td>ä½¿ç”¨ URL çš„ hash éƒ¨åˆ†ï¼ˆå³ <code>#</code> åçš„å†…å®¹ï¼‰æ¥ç®¡ç†è·¯ç”±ã€‚ä¾‹å¦‚ï¼š<code>http://localhost:5173/#/about</code>ã€‚<br/>ä¼˜ç‚¹ï¼šä¸éœ€è¦æœåŠ¡å™¨é…ç½®ï¼Œé€‚åˆé™æ€éƒ¨ç½²ã€‚</td></tr><tr><td><code>routes</code> æ•°ç»„</td><td>å®šä¹‰è·¯å¾„ä¸ç»„ä»¶çš„æ˜ å°„å…³ç³»ã€‚æ¯ä¸ªå¯¹è±¡åŒ…å« <code>path</code>ã€<code>name</code>ã€<code>component</code>ã€‚</td></tr><tr><td><code>router-view</code></td><td>åŠ¨æ€å‡ºå£ï¼Œæ ¹æ®å½“å‰ URL è‡ªåŠ¨æ¸²æŸ“å¯¹åº”çš„ç»„ä»¶ã€‚</td></tr><tr><td><code>Router-link</code></td><td>æ›¿ä»£åŸç”Ÿ <code>&lt;a&gt;</code> æ ‡ç­¾ï¼Œå®ç°æ— åˆ·æ–°è·³è½¬ã€‚</td></tr></tbody></table>
<p>ğŸ¯ <strong>Hash vs History æ¨¡å¼å¯¹æ¯”ï¼š</strong></p>























<table><thead><tr><th>æ¨¡å¼</th><th>ç¤ºä¾‹ URL</th><th>æ˜¯å¦éœ€è¦åç«¯é…åˆ</th><th>SEO å‹å¥½åº¦</th></tr></thead><tbody><tr><td>Hash (<code>#</code>)</td><td><code>example.com/#/about</code></td><td>âŒ ä¸éœ€è¦</td><td>âš ï¸ è¾ƒå·®</td></tr><tr><td>History</td><td><code>example.com/about</code></td><td>âœ… éœ€è¦é‡å®šå‘é…ç½®</td><td>âœ… æ›´å¥½</td></tr></tbody></table>
<p>æ–°æ‰‹æ¨èå…ˆç”¨ <strong>Hash æ¨¡å¼</strong>ï¼Œç®€å•ç¨³å®šï¼Œä¸Šçº¿å³ç”¨ï¼</p>
<hr/>
<h3 data-id="heading-13">3. åˆ›å»ºé¡µé¢ç»„ä»¶ï¼š<code>src/views/Home.vue</code> å’Œ <code>About.vue</code></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- src/views/Home.vue --&gt;
&lt;template&gt;
  &lt;div&gt;Home&lt;/div&gt;
&lt;/template&gt;
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- src/views/About.vue --&gt;
&lt;template&gt;
  &lt;div&gt;About&lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>ğŸ‘‰ æŠŠå®ƒä»¬æ”¾è¿› <code>views/</code> ç›®å½•ï¼Œè¡¨ç¤ºè¿™æ˜¯â€œé¡µé¢çº§â€ç»„ä»¶ï¼ŒåŒºåˆ«äº <code>components/</code> ä¸­çš„é€šç”¨å°ç»„ä»¶ï¼ˆå¦‚æŒ‰é’®ã€å¼¹çª—ç­‰ï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-14">ğŸ” ç¬¬äº”æ­¥ï¼šçƒ­æ›´æ–° â€”â€” ä¿®æ”¹å³ç”Ÿæ•ˆçš„é­”æ³•</h2>
<p>è¿˜è®°å¾—æˆ‘ä»¬è¿è¡Œ <code>npm run dev</code> åæ‰“å¼€çš„é¡µé¢å—ï¼Ÿ</p>
<p>ç°åœ¨è¯•ç€ä¿®æ”¹ä¸€ä¸‹ <code>Home.vue</code> çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;Welcome to My First Vue App! ğŸ‰&lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>ä¿å­˜æ–‡ä»¶â€¦â€¦çœ‹ï¼æµè§ˆå™¨ç¬é—´åˆ·æ–°äº†ï¼âœ¨</p>
<p>è¿™å°±æ˜¯ Vite çš„ <strong>Hot Module Replacement (HMR)</strong>ï¼Œä¹Ÿå°±æ˜¯â€œçƒ­æ›´æ–°â€ã€‚</p>
<p>âœ… <strong>å®ƒæœ‰å¤šå¼ºï¼Ÿ</strong></p>
<ul>
<li>ä¿®æ”¹ <code>.vue</code> æ–‡ä»¶ â†’ ç»„ä»¶å±€éƒ¨æ›´æ–°ï¼ŒçŠ¶æ€ä¿ç•™</li>
<li>ä¿®æ”¹ <code>.css</code> â†’ æ ·å¼å³æ—¶ç”Ÿæ•ˆï¼Œæ— éœ€åˆ·æ–°</li>
<li>ä¿®æ”¹ <code>.js</code> â†’ æ¨¡å—çƒ­æ›¿æ¢ï¼Œæå‡è°ƒè¯•æ•ˆç‡</li>
</ul>
<p>å†ä¹Ÿä¸ç”¨æ‰‹åŠ¨ Ctrl+R åˆ·æ–°å•¦ï¼ç®€ç›´æ˜¯å¼€å‘è€…ç¦éŸ³ â¤ï¸</p>
<hr/>
<h2 data-id="heading-15">ğŸ› ï¸ ç¬¬å…­æ­¥ï¼šæå‡å¼€å‘ä½“éªŒ â€”â€” å¿…å¤‡å·¥å…·æ¨è</h2>
<h3 data-id="heading-16">1. Volarï¼šVS Code å®˜æ–¹æ’ä»¶</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.visualstudio.com%2Fitems%3FitemName%3DVue.volar" target="_blank" title="https://marketplace.visualstudio.com/items?itemName=Vue.volar" ref="nofollow noopener noreferrer">Volar</a> æ˜¯ Vue å›¢é˜Ÿæ¨å‡ºçš„ VS Code æ’ä»¶ï¼Œå–ä»£æ—§ç‰ˆ Veturï¼Œä¸“ä¸º Vue3 è®¾è®¡ã€‚</p>
<p>âœ… åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>âœ… æ™ºèƒ½æç¤ºï¼ˆIntelliSenseï¼‰</li>
<li>âœ… è¯­æ³•é«˜äº®</li>
<li>âœ… é”™è¯¯æ£€æŸ¥</li>
<li>âœ… TypeScript æ”¯æŒ</li>
<li>âœ… <code>&lt;script setup&gt;</code> è¯­æ³•æ”¯æŒ</li>
</ul>
<p>ğŸ“Œ å®‰è£…æ–¹æ³•ï¼šåœ¨ VS Code æ‰©å±•å•†åº—æœç´¢ â€œVolarâ€ å¹¶å®‰è£…å³å¯ã€‚</p>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šå¦‚æœä½ ä¹‹å‰è£…è¿‡ Veturï¼Œè¯·ç¦ç”¨å®ƒï¼Œé¿å…å†²çªï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-17">2. Vue Devtoolsï¼šChrome æµè§ˆå™¨è°ƒè¯•ç¥å™¨</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevtools.vuejs.org%2F" target="_blank" title="https://devtools.vuejs.org/" ref="nofollow noopener noreferrer">Vue Devtools</a> æ˜¯ä¸“ä¸º Vue åº”ç”¨è®¾è®¡çš„æµè§ˆå™¨æ‰©å±•ï¼Œè®©ä½ å¯ä»¥ï¼š</p>
<ul>
<li>æŸ¥çœ‹ç»„ä»¶æ ‘ç»“æ„</li>
<li>ç›‘å¬äº‹ä»¶å’Œ props</li>
<li>è°ƒè¯•å“åº”å¼æ•°æ®</li>
<li>æ—¶é—´æ—…è¡Œè°ƒè¯•ï¼ˆæ­é… Pinia/Vuexï¼‰</li>
</ul>
<p>ğŸ“Œ å®‰è£…æ–¹æ³•ï¼šChrome å•†åº—æœç´¢ â€œVue Devtoolsâ€ å®‰è£…ï¼Œé‡å¯æµè§ˆå™¨å³å¯ä½¿ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-18">ğŸ¤” æ€»ç»“å›é¡¾ï¼šVue é¡¹ç›®æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Ÿ</h2>
<p>è®©æˆ‘ä»¬å†æ¢³ç†ä¸€éæ•´ä¸ªæµç¨‹ï¼ŒæŠŠç¢ç‰‡çŸ¥è¯†ä¸²è”æˆä½“ç³»ï¼š</p>
<ol>
<li>
<p><strong>ç”¨æˆ·è®¿é—® <code>index.html</code></strong></p>
<ul>
<li>æµè§ˆå™¨åŠ è½½ HTML</li>
<li>å‘ç° <code>&lt;script type="module" src="/src/main.js"&gt;</code></li>
<li>å‘ Vite Server è¯·æ±‚è¯¥æ¨¡å—</li>
</ul>
</li>
<li>
<p><strong>Vite å¤„ç†æ¨¡å—è¯·æ±‚</strong></p>
<ul>
<li>å®æ—¶ç¼–è¯‘ <code>.vue</code> æ–‡ä»¶ä¸º JavaScript</li>
<li>è¿”å›ç»™æµè§ˆå™¨æ‰§è¡Œ</li>
</ul>
</li>
<li>
<p><strong><code>main.js</code> æ‰§è¡Œ</strong></p>
<ul>
<li><code>createApp(App)</code> åˆ›å»º Vue å®ä¾‹</li>
<li><code>.use(router)</code> æ³¨å†Œè·¯ç”±æ’ä»¶</li>
<li><code>.mount('#app')</code> æŒ‚è½½åˆ° DOM</li>
</ul>
</li>
<li>
<p><strong><code>App.vue</code> æ¸²æŸ“</strong></p>
<ul>
<li>æ˜¾ç¤ºå¯¼èˆªèœå• <code>&lt;Router-link&gt;</code></li>
<li><code>&lt;router-view&gt;</code> ç­‰å¾…æ’å…¥é¡µé¢</li>
</ul>
</li>
<li>
<p><strong>ç”¨æˆ·ç‚¹å‡»â€œAboutâ€é“¾æ¥</strong></p>
<ul>
<li>URL å˜ä¸º <code>#/about</code></li>
<li>Vue Router åŒ¹é…è·¯ç”±è§„åˆ™</li>
<li>å°† <code>About.vue</code> æ¸²æŸ“è¿› <code>&lt;router-view&gt;</code></li>
</ul>
</li>
<li>
<p><strong>ä»»æ„æ–‡ä»¶ä¿®æ”¹</strong></p>
<ul>
<li>Vite ç›‘å¬åˆ°å˜åŒ–</li>
<li>è§¦å‘çƒ­æ›´æ–°ï¼ˆHMRï¼‰</li>
<li>æµè§ˆå™¨å±€éƒ¨åˆ·æ–°ï¼Œç”¨æˆ·ä½“éªŒä¸æ»‘</li>
</ul>
</li>
</ol>
<p>ğŸ¯ <strong>ä¸€å¥è¯æ€»ç»“ï¼š</strong></p>
<blockquote>
<p><strong>Vite æ˜¯ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–çš„åŸºçŸ³ï¼ŒVue æ˜¯æ„å»ºç”¨æˆ·ç•Œé¢çš„åˆ©å™¨ï¼ŒVue Router è®©å•é¡µåº”ç”¨å˜å¾—çµæ´»ï¼Œä¸‰è€…ååŒå·¥ä½œï¼Œæ‰“é€ å‡ºé«˜æ•ˆã€å¿«é€Ÿã€å¯ç»´æŠ¤çš„å‰ç«¯é¡¹ç›®ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-19">ğŸ‰ ç»“è¯­ï¼šä½ å·²ç»è¿ˆå‡ºäº†æœ€é‡è¦çš„ä¸€æ­¥ï¼</h2>
<p>çœ‹åˆ°è¿™é‡Œï¼Œä½ å·²ç»ä¸å†æ˜¯â€œåªä¼šå†™ HTML çš„å°ç™½â€äº†ã€‚ä½ æŒæ¡äº†ï¼š</p>
<ul>
<li>å¦‚ä½•ä½¿ç”¨ Vite å¿«é€Ÿæ­å»º Vue3 é¡¹ç›®</li>
<li>ç†è§£äº† <code>index.html</code>ã€<code>main.js</code>ã€<code>App.vue</code> çš„åä½œæœºåˆ¶</li>
<li>å­¦ä¼šäº†ç”¨ <code>vue-router</code> å®ç°å¤šé¡µé¢å¯¼èˆª</li>
<li>äº†è§£äº†çƒ­æ›´æ–°ã€ç»„ä»¶åŒ–ã€å·¥ç¨‹åŒ–ç­‰ç°ä»£å‰ç«¯æ ¸å¿ƒç†å¿µ</li>
</ul>
<p>å‰ç«¯çš„ä¸–ç•Œå¾ˆå¤§ï¼ŒVue åªæ˜¯å…¶ä¸­ä¸€æ‰‡é—¨ã€‚æ„¿ä½ åœ¨æ¢ç´¢çš„è·¯ä¸Šï¼Œå§‹ç»ˆä¿æŒå¥½å¥‡ä¸çƒ­æƒ…ï¼</p>
<p>ğŸ‰ æœ€åé€ä½ ä¸€å¥å°¤é›¨æºªçš„è¯å…±å‹‰ï¼š</p>
<blockquote>
<p>â€œ<strong>The best way to learn is to build.</strong>â€<br/>
ï¼ˆæœ€å¥½çš„å­¦ä¹ æ–¹å¼ï¼Œå°±æ˜¯å»åˆ›é€ ã€‚ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç°ä»£å‰ç«¯å¼€å‘å·¥ç¨‹åŒ–ï¼šä» Vite åˆ° Vue 3 è·¯ç”±å®æˆ˜]]></title>    <link>https://juejin.cn/post/7584345932943081523</link>    <guid>https://juejin.cn/post/7584345932943081523</guid>    <pubDate>2025-12-16T16:22:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584345932943081523" data-draft-id="7584276176671309851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç°ä»£å‰ç«¯å¼€å‘å·¥ç¨‹åŒ–ï¼šä» Vite åˆ° Vue 3 è·¯ç”±å®æˆ˜"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-16T16:22:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‰å®‡å¤•è½"/> <meta itemprop="url" content="https://juejin.cn/user/3323164053734988"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç°ä»£å‰ç«¯å¼€å‘å·¥ç¨‹åŒ–ï¼šä» Vite åˆ° Vue 3 è·¯ç”±å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3323164053734988/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‰å®‡å¤•è½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T16:22:15.000Z" title="Tue Dec 16 2025 16:22:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£ Web å¼€å‘ä¸­ï¼Œâ€œå·¥ç¨‹åŒ–â€å·²æˆä¸ºæå‡å¼€å‘æ•ˆç‡ã€ä¿éšœé¡¹ç›®è´¨é‡çš„å…³é”®ã€‚æœ¬æ–‡å°†å›´ç»• <strong>Vite æ„å»ºå·¥å…·</strong>ã€<strong>Vue 3 è·¯ç”±ç³»ç»Ÿï¼ˆvue-routerï¼‰</strong> ä»¥åŠ <strong>é¡¹ç›®å…¥å£æœºåˆ¶</strong>ï¼Œå¸¦ä½ å¿«é€Ÿæ­å»ºä¸€ä¸ªç»“æ„æ¸…æ™°ã€å¯ç»´æŠ¤æ€§å¼ºçš„å‰ç«¯é¡¹ç›®ï¼Œå¹¶æ·±å…¥è§£æå…¶èƒŒåçš„å·¥ç¨‹åŒ–æ€æƒ³ã€‚</p>
<hr/>
<h2 data-id="heading-0">ç»“è®ºå…ˆè¡Œï¼š<code>#</code>Â åœ¨ Hash è·¯ç”±ä¸­çš„çœŸå®ä½œç”¨</h2>
<blockquote>
<p><strong><code>#</code> çš„æ ¸å¿ƒä½œç”¨å¹¶é â€œå”¯ä¸€æ€§â€ï¼Œè€Œæ˜¯ä½œä¸ºã€ŒURL é”šç‚¹æ ‡è¯†ç¬¦ã€ï¼Œå®ç°å‰ç«¯è·¯ç”±çš„æ ¸å¿ƒé€»è¾‘ï¼šéš”ç¦»å“ˆå¸Œå€¼ä¸æœåŠ¡å™¨è¯·æ±‚ã€å‰ç«¯ç‹¬ç«‹æ§åˆ¶è·¯ç”±ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€<code>#</code>Â çš„æœ¬è´¨ï¼šURL ä¸­çš„ã€Œå“ˆå¸Œ / é”šç‚¹ã€</h3>
<p>åœ¨ URL ä¸­ï¼Œ<code>#</code> æ˜¯å®˜æ–¹å®šä¹‰çš„ <strong>ç‰‡æ®µæ ‡è¯†ç¬¦ï¼ˆFragment Identifierï¼‰</strong> ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li><strong>æµè§ˆå™¨è¡Œä¸º</strong>ï¼š<code>#</code>Â åŠå…¶åçš„å†…å®¹ï¼ˆå“ˆå¸Œå€¼ï¼‰<strong>ä¸ä¼šè¢«å‘é€åˆ°æœåŠ¡å™¨</strong>ï¼Œä»…åœ¨æµè§ˆå™¨ç«¯ç”Ÿæ•ˆï¼›</li>
<li><strong>é”šç‚¹åŸç”Ÿä½œç”¨</strong>ï¼šåŸæœ¬ç”¨äºå®šä½é¡µé¢å†…çš„é”šç‚¹ï¼ˆå¦‚Â <code>&lt;a href="#top"&gt;</code>Â è·³è½¬åˆ°é¡µé¢é¡¶éƒ¨ï¼‰ï¼›</li>
<li><strong>Hash è·¯ç”±çš„å¤ç”¨</strong>ï¼šå‰ç«¯è·¯ç”±æ¡†æ¶ï¼ˆVue Routerã€React Routerï¼‰<strong>å¤ç”¨è¿™ä¸€ç‰¹æ€§</strong>ï¼Œå°†Â <code>#</code>Â åçš„å†…å®¹ä½œä¸º â€œå‰ç«¯è·¯ç”±è·¯å¾„â€ï¼Œå®ç°æ— åˆ·æ–°é¡µé¢è·³è½¬ã€‚</li>
</ul>
<h3 data-id="heading-2">äºŒã€<code>#</code>Â çš„æ ¸å¿ƒä½œç”¨ï¼ˆä¸ â€œå”¯ä¸€æ€§â€ æ— å…³ï¼‰</h3>
<h4 data-id="heading-3">1. éš”ç¦»å‰ç«¯è·¯ç”±ä¸æœåŠ¡å™¨è¯·æ±‚ï¼ˆæ ¸å¿ƒä»·å€¼ï¼‰</h4>
<p>ä¾‹å¦‚ URLï¼š<code>http://localhost:5173/#/about</code></p>
<ul>
<li>æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œ<strong>åªä¼ é€’Â <code>http://localhost:5173/</code></strong> ï¼Œ<code>#/about</code>Â è¢«å¿½ç•¥ï¼›</li>
<li>æœåŠ¡å™¨åªéœ€å¤„ç†æ ¹è·¯å¾„ï¼Œ<strong>æ— éœ€å…³å¿ƒå‰ç«¯è·¯ç”±</strong>ï¼›</li>
<li>è¿™è§£å†³äº†Â <strong>å•é¡µåº”ç”¨ï¼ˆSPAï¼‰åˆ·æ–° 404</strong>Â çš„é—®é¢˜â€”â€”è¿™æ˜¯ Hash è·¯ç”±æœ€æ ¸å¿ƒçš„ä»·å€¼ï¼Œ<strong>ä¸â€œå”¯ä¸€æ€§â€å®Œå…¨æ— å…³</strong>ã€‚</li>
</ul>
<h4 data-id="heading-4">2. å‰ç«¯ç‹¬ç«‹æ§åˆ¶è·¯ç”±çŠ¶æ€</h4>
<ul>
<li><code>#</code>Â åçš„å“ˆå¸Œå€¼å˜åŒ–ä¼šè§¦å‘æµè§ˆå™¨çš„Â <code>hashchange</code>Â äº‹ä»¶ï¼ˆ<strong>ä¸ä¼šåˆ·æ–°é¡µé¢</strong>ï¼‰ï¼›</li>
<li>æ¡†æ¶ç›‘å¬è¯¥äº‹ä»¶ï¼Œæ ¹æ®å“ˆå¸Œå€¼åŒ¹é…è·¯ç”±è§„åˆ™ï¼Œæ¸²æŸ“ä¸åŒç»„ä»¶ï¼ˆå¦‚Â <code>/about</code>Â â†’ æ¸²æŸ“Â <code>About</code>Â ç»„ä»¶ï¼‰ï¼›</li>
<li>å“ˆå¸Œå€¼å¯è‡ªç”±ä¿®æ”¹ï¼ˆå¦‚Â <code>location.hash = '/home'</code>ï¼‰ï¼Œæ˜¯å‰ç«¯è·¯ç”±çš„Â  <strong>â€œè½½ä½“â€</strong> ï¼Œè€Œé â€œå”¯ä¸€æ ‡è¯†â€ã€‚</li>
</ul>
<h4 data-id="heading-5">3. é™„å¸¦ï¼šå¯ä½œä¸ºé¡µé¢çŠ¶æ€æ ‡è¯†ï¼ˆéå”¯ä¸€æ€§ï¼‰</h4>
<ul>
<li>å“ˆå¸Œå€¼å¯ç”¨äºæ ‡è®°ä¸šåŠ¡çŠ¶æ€ï¼ˆå¦‚Â <code>#/article/123</code>Â æ ‡è¯†æ–‡ç«  IDï¼‰ï¼›</li>
<li>ä½†è¿™å±äºÂ <strong>ä¸šåŠ¡å±‚é¢çš„æ ‡è¯†</strong>ï¼Œ<code>#</code>Â æœ¬èº«åªæ˜¯æ‰¿è½½å®¹å™¨ï¼›</li>
<li><strong>å“ˆå¸Œå€¼å¯é‡å¤</strong>ï¼ˆæ¯”å¦‚ä¸åŒé¡µé¢æ‰‹åŠ¨è®¾ä¸ºç›¸åŒÂ <code>#/test</code>ï¼‰ï¼Œæµè§ˆå™¨ä¸é™åˆ¶ã€‚</li>
</ul>
<h3 data-id="heading-6">ä¸‰ã€ä¸ºä»€ä¹ˆ â€œå”¯ä¸€æ€§â€ æ˜¯é”™è¯¯è®¤çŸ¥ï¼Ÿ</h3>
<ul>
<li><code>#</code>Â æ˜¯ URL çš„<strong>å›ºå®šè¯­æ³•ç¬¦å·</strong>ï¼Œä¸æ˜¯â€œå”¯ä¸€æ ‡è¯†ç¬¦â€ï¼šæ‰€æœ‰ Hash è·¯ç”±éƒ½åŒ…å«Â <code>#</code>ï¼Œå®ƒæ˜¯ç»Ÿä¸€çš„åˆ†éš”ç¬¦ï¼›</li>
<li><strong>å“ˆå¸Œå€¼æœ¬èº«ä¹Ÿä¸ä¿è¯å”¯ä¸€</strong>ï¼šä½ å¯ä»¥æ‰‹åŠ¨è®¾ç½®å¤šä¸ªé¡µé¢ä¸ºç›¸åŒå“ˆå¸Œï¼›</li>
<li><strong>å”¯ä¸€æ€§éœ€ä¸šåŠ¡å±‚é¢ä¿è¯</strong>ï¼šé€šè¿‡è·¯ç”±è§„åˆ™é…ç½®ï¼ˆå¦‚Â <code>/about</code>ã€<code>/home</code>Â ä¸é‡å¤ï¼‰å®ç°ï¼Œä¸Â <code>#</code>Â æ— å…³ã€‚</li>
</ul>
<h3 data-id="heading-7">å››ã€Hash è·¯ç”± vs History è·¯ç”±ï¼ˆå¯¹æ¯”ç†è§£Â <code>#</code>Â çš„ä½œç”¨ï¼‰</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Hash æ¨¡å¼ï¼ˆå¸¦Â <code>#</code>ï¼‰</th><th>History æ¨¡å¼ï¼ˆæ— Â <code>#</code>ï¼‰</th></tr></thead><tbody><tr><td>æœåŠ¡å™¨è¯·æ±‚</td><td>ä»…å‘é€Â <code>#</code>Â å‰çš„è·¯å¾„</td><td>å‘é€å®Œæ•´è·¯å¾„</td></tr><tr><td>åˆ·æ–° 404 é—®é¢˜</td><td><strong>æ— </strong>ï¼ˆæœåŠ¡å™¨åªéœ€å¤„ç†æ ¹è·¯å¾„ï¼‰</td><td><strong>éœ€æœåŠ¡å™¨é…ç½®</strong>ï¼ˆé‡å®šå‘åˆ°Â <code>index.html</code>ï¼‰</td></tr><tr><td>å…¼å®¹æ€§</td><td>æ›´å¥½ï¼ˆæ”¯æŒä½ç‰ˆæœ¬æµè§ˆå™¨ï¼‰</td><td>ä¾èµ– HTML5 History API</td></tr><tr><td>URL ç¾è§‚æ€§</td><td>å¸¦Â <code>#</code>ï¼Œç›¸å¯¹ä¸ç¾è§‚</td><td>æ— Â <code>#</code>ï¼Œæ›´æ¥è¿‘åŸç”Ÿ URL</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>æ€»ç»“</strong>ï¼š<code>#</code> åœ¨ Hash è·¯ç”±ä¸­çš„æ ¸å¿ƒä»·å€¼æ˜¯â€”â€”<strong>åˆ©ç”¨æµè§ˆå™¨å¯¹ URL å“ˆå¸Œçš„åŸç”Ÿå¤„ç†è§„åˆ™ï¼Œå®ç°å‰ç«¯æ— åˆ·æ–°è·¯ç”±ï¼ŒåŒæ—¶é¿å…å‰ç«¯è·¯ç”±è·¯å¾„è¢«å‘é€åˆ°æœåŠ¡å™¨</strong>ã€‚å®ƒæ˜¯ <strong>â€œåˆ†éš”ç¬¦ / è½½ä½“â€</strong> ï¼Œè€Œéç”¨äºä¿è¯å”¯ä¸€æ€§çš„æ ‡è¯†ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹© Viteï¼Ÿ</h2>
<blockquote>
<p><strong>Vite</strong> æ˜¯ç”± Vue ä½œè€…å°¤é›¨æºªå¼€å‘çš„æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œæ ¸å¿ƒä¼˜åŠ¿åœ¨äº <strong>æé€Ÿå†·å¯åŠ¨</strong> å’Œ <strong>å³æ—¶çƒ­æ›´æ–°ï¼ˆHMRï¼‰</strong> ã€‚</p>
</blockquote>
<h3 data-id="heading-9">âœ¨ æ ¸å¿ƒåŸç†</h3>
<ul>
<li>åˆ©ç”¨ç°ä»£æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„Â <strong>ES æ¨¡å—ï¼ˆESMï¼‰</strong> ï¼Œæ— éœ€æ‰“åŒ…å³å¯ç›´æ¥åŠ è½½æ¨¡å—ã€‚</li>
<li>å¼€å‘é˜¶æ®µï¼šæŒ‰éœ€ç¼–è¯‘ï¼Œåªå¤„ç†å½“å‰è¯·æ±‚çš„æ–‡ä»¶ï¼Œå¯åŠ¨é€Ÿåº¦æå¿«ã€‚</li>
<li>ç”Ÿäº§ç¯å¢ƒï¼šä½¿ç”¨ Rollup æ‰“åŒ…ï¼Œå…¼é¡¾æ€§èƒ½ä¸å…¼å®¹æ€§ã€‚</li>
</ul>
<h3 data-id="heading-10">ğŸš€ å¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®</h3>
<pre><code class="hljs language-perl" lang="perl">bash
ç¼–è¾‘
npm create vite@latest <span class="hljs-keyword">my</span>-vue-app -- --template vue
cd <span class="hljs-keyword">my</span>-vue-app
npm install
npm run dev
</code></pre>
<p>æ­¤æ—¶ï¼ŒVite ä¼šï¼š</p>
<ul>
<li>è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼ˆå¦‚Â <code>http://localhost:5173</code>ï¼‰</li>
<li>ç›‘å¬Â <code>src/</code>Â ä¸‹æ‰€æœ‰æ–‡ä»¶å˜æ›´ï¼Œå®ç°Â <strong>æ¯«ç§’çº§çƒ­æ›´æ–°</strong></li>
<li>ä»¥Â <code>index.html</code>Â ä¸ºå…¥å£ï¼ŒæŒ‚è½½åˆ°Â <code>&lt;div id="app"&gt;&lt;/div&gt;</code></li>
</ul>
<hr/>
<h2 data-id="heading-11">äºŒã€æ ‡å‡†é¡¹ç›®ç»“æ„è§£æ</h2>
<p>Vite + Vue 3 æä¾›äº†é«˜åº¦è§„èŒƒåŒ–çš„ç›®å½•ç»“æ„ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">text
ç¼–è¾‘
my-vue-app/
â”œâ”€â”€ index.html               <span class="hljs-meta"># åº”ç”¨å…¥å£ HTML</span>
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.js              <span class="hljs-meta"># åº”ç”¨å…¥å£ JS</span>
â”‚   â”œâ”€â”€ App.vue              <span class="hljs-meta"># æ ¹ç»„ä»¶</span>
â”‚   â”œâ”€â”€ style.css            <span class="hljs-meta"># å…¨å±€æ ·å¼</span>
â”‚   â”œâ”€â”€ components/          <span class="hljs-meta"># å¯å¤ç”¨ç»„ä»¶</span>
â”‚   â””â”€â”€ views/               <span class="hljs-meta"># é¡µé¢çº§ç»„ä»¶ï¼ˆè·¯ç”±é¡µé¢ï¼‰</span>
â”œâ”€â”€ <span class="hljs-keyword">public</span>/                  <span class="hljs-meta"># é™æ€èµ„æºï¼ˆä¸å‚ä¸æ„å»ºï¼‰</span>
â””â”€â”€ package.json             <span class="hljs-meta"># ä¾èµ–ä¸è„šæœ¬ç®¡ç†</span>
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>å…³é”®ç‚¹</strong>ï¼š<code>main.js</code> ä¸­é€šè¿‡ <code>createApp(App).mount('#app')</code> å°† Vue åº”ç”¨æŒ‚è½½åˆ° DOMã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-12">ä¸‰ã€å¤šé¡µé¢åº”ç”¨ï¼šé›†æˆ Vue Router</h2>
<p>å•é¡µåº”ç”¨ï¼ˆSPAï¼‰éœ€è¦è·¯ç”±æ¥åˆ‡æ¢ä¸åŒâ€œé¡µé¢â€ã€‚Vue å®˜æ–¹æ¨èä½¿ç”¨ <strong>vue-router</strong>ã€‚</p>
<h3 data-id="heading-13">ç¬¬ä¸€æ­¥ï¼šå…ˆçœ‹æ•´ä½“ç»“æ„ï¼ˆæ€»è§ˆï¼‰</h3>
<p>è¿™æ®µä»£ç æ˜¯ Vue é¡¹ç›®ä¸­ã€Œè·¯ç”±é…ç½®æ–‡ä»¶ã€ï¼ˆ<code>src/router/index.js</code>ï¼‰ï¼Œæ ¸å¿ƒåˆ†ä¸º <strong>4 ä¸ªéƒ¨åˆ†</strong>ï¼š</p>
<ol>
<li><strong>å¯¼å…¥ Vue Router æ ¸å¿ƒæ–¹æ³• + é¡µé¢ç»„ä»¶</strong>ï¼›</li>
<li><strong>å®šä¹‰ã€Œè·¯ç”±è§„åˆ™æ•°ç»„ã€</strong>ï¼ˆURL å¯¹åº”å“ªä¸ªç»„ä»¶ï¼‰ï¼›</li>
<li><strong>åˆ›å»ºã€Œè·¯ç”±å®ä¾‹ã€</strong>ï¼ˆæŠŠè§„åˆ™å’Œè·¯ç”±æ¨¡å¼ç»“åˆï¼‰ï¼›</li>
<li><strong>å¯¼å‡ºè·¯ç”±å®ä¾‹</strong>ï¼ˆè®©é¡¹ç›®å…¥å£æ–‡ä»¶Â <code>main.js</code>Â èƒ½ä½¿ç”¨ï¼‰ã€‚</li>
</ol>
<p>ä¸‹é¢å…ˆçœ‹å®Œæ•´ä»£ç æ ‡æ³¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">js
ç¼–è¾‘
<span class="hljs-comment">// 1. å¯¼å…¥ä¾èµ–ï¼šä» vue-router åº“ä¸­æ‹¿éœ€è¦çš„å·¥å…·å‡½æ•°</span>
<span class="hljs-keyword">import</span> { createRouter, createWebHashHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-comment">// 2. å¯¼å…¥é¡µé¢ç»„ä»¶ï¼šä» views ç›®å½•å¯¼å…¥ Home/About ç»„ä»¶ï¼ˆå°±æ˜¯ä½ è¦æ˜¾ç¤ºçš„é¡µé¢ï¼‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/Home.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/About.vue'</span>

<span class="hljs-comment">// 3. å®šä¹‰è·¯ç”±è§„åˆ™ï¼šæ•°ç»„é‡Œæ¯ä¸€ä¸ªå¯¹è±¡å°±æ˜¯ä¸€æ¡ã€ŒURL â†’ ç»„ä»¶ã€çš„è§„åˆ™</span>
<span class="hljs-keyword">const</span> routes = [
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Home'</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span> }, <span class="hljs-comment">// è®¿é—®æ ¹è·¯å¾„ â†’ æ˜¾ç¤º Home ç»„ä»¶</span>
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'/about'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'About'</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">About</span> } <span class="hljs-comment">// è®¿é—® /about â†’ æ˜¾ç¤º About ç»„ä»¶</span>
]

<span class="hljs-comment">// 4. åˆ›å»ºè·¯ç”±å®ä¾‹ï¼šæŠŠè§„åˆ™å’Œè·¯ç”±æ¨¡å¼ï¼ˆ# æ¨¡å¼ï¼‰ç»“åˆï¼Œç”Ÿæˆå¯ä½¿ç”¨çš„è·¯ç”±å¯¹è±¡</span>
<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHashHistory</span>(), <span class="hljs-comment">// è·¯ç”±æ¨¡å¼ï¼šHash æ¨¡å¼ï¼ˆURL å¸¦ #ï¼‰</span>
  routes <span class="hljs-comment">// æŠŠä¸Šé¢å®šä¹‰çš„è§„åˆ™æ•°ç»„ä¼ ç»™è·¯ç”±å®ä¾‹</span>
})

<span class="hljs-comment">// 5. å¯¼å‡ºè·¯ç”±å®ä¾‹ï¼šè®© main.js èƒ½å¯¼å…¥å¹¶æŒ‚è½½åˆ° Vue åº”ç”¨ä¸Š</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router
</code></pre>
<hr/>
<h3 data-id="heading-14">ç¬¬äºŒæ­¥ï¼šé€è¡Œæ‹†è§£ï¼ˆé›¶åŸºç¡€ä¹Ÿèƒ½æ‡‚ï¼‰</h3>
<h4 data-id="heading-15">1. å¯¼å…¥éƒ¨åˆ†ï¼šæ‹¿å·¥å…· + æ‹¿ç»„ä»¶</h4>
<pre><code class="hljs language-javascript" lang="javascript">js
ç¼–è¾‘
<span class="hljs-comment">// ä» vue-router åº“ä¸­å¯¼å…¥ä¸¤ä¸ªæ ¸å¿ƒå‡½æ•°ï¼šcreateRouterã€createWebHashHistory</span>
<span class="hljs-keyword">import</span> { createRouter, createWebHashHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
</code></pre>
<ul>
<li><code>createRouter</code>ï¼šåˆ›å»ºè·¯ç”±å®ä¾‹çš„ â€œå·¥å‚å‡½æ•°â€ â€”â€” ä½ å¯ä»¥ç†è§£ä¸º â€œé€ è·¯ç”±çš„æ¨¡å…·â€ï¼Œè°ƒç”¨å®ƒå°±èƒ½ç”Ÿæˆä¸€ä¸ªèƒ½å·¥ä½œçš„è·¯ç”±å¯¹è±¡ï¼›</li>
<li><code>createWebHashHistory</code>ï¼šè·¯ç”±æ¨¡å¼çš„ â€œç”Ÿæˆå™¨â€ â€”â€” ä¸“é—¨ç”Ÿæˆã€ŒHash æ¨¡å¼ã€çš„è·¯ç”±å†å²ï¼ˆURL å¸¦Â <code>#</code>ï¼Œæ¯”å¦‚Â <code>http://localhost:5173/#/about</code>ï¼‰ï¼›</li>
</ul>
<blockquote>
<p>ğŸ” <strong>è¡¥å……</strong>ï¼šVue Router è¿˜æœ‰å¦ä¸€ç§æ¨¡å¼ <code>createWebHistory()</code>ï¼ˆHistory æ¨¡å¼ï¼ŒURL ä¸å¸¦ <code>#</code>ï¼Œæ¯”å¦‚ <code>http://localhost:5173/about</code>ï¼‰ï¼Œä½†éœ€è¦åç«¯é…ç½®ï¼Œæ–°æ‰‹å»ºè®®å…ˆç”¨ Hash æ¨¡å¼ã€‚</p>
</blockquote>
<pre><code class="hljs language-javascript" lang="javascript">js
ç¼–è¾‘
<span class="hljs-comment">// å¯¼å…¥é¡µé¢ç»„ä»¶ï¼š../ è¡¨ç¤ºâ€œä¸Šä¸€çº§ç›®å½•â€ï¼Œå³ä» router ç›®å½•å›åˆ° src ç›®å½•ï¼Œå†è¿› views ç›®å½•æ‹¿ç»„ä»¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/Home.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../views/About.vue'</span>
</code></pre>
<ul>
<li>
<p><code>../views/Home.vue</code>Â è·¯å¾„å«ä¹‰ï¼ˆæ–°æ‰‹é‡ç‚¹ï¼‰ï¼š</p>
<ul>
<li>å½“å‰æ–‡ä»¶åœ¨Â <code>src/router/index.js</code>ï¼Œ<code>../</code>Â æ˜¯ â€œè·³å‡º router ç›®å½•â€ï¼Œå›åˆ°Â <code>src</code>Â ç›®å½•ï¼›</li>
<li>ç„¶åè¿›å…¥Â <code>views</code>Â ç›®å½•ï¼Œæ‰¾åˆ°Â <code>Home.vue</code>Â æ–‡ä»¶ï¼ˆå°±æ˜¯ä½ å†™çš„é¦–é¡µç»„ä»¶ï¼‰ï¼›</li>
</ul>
</li>
<li>
<p><strong>ä½œç”¨</strong>ï¼šæŠŠé¡µé¢ç»„ä»¶ â€œæ‹¿è¿›æ¥â€ï¼Œè®©è·¯ç”±è§„åˆ™èƒ½å…³è”åˆ°å®ƒã€‚</p>
</li>
</ul>
<hr/>
<h4 data-id="heading-16">2. å®šä¹‰è·¯ç”±è§„åˆ™æ•°ç»„ï¼š<code>const routes = [...]</code></h4>
<pre><code class="hljs language-ini" lang="ini">js
ç¼–è¾‘
const <span class="hljs-attr">routes</span> = [
  { path: <span class="hljs-string">'/'</span>, name: <span class="hljs-string">'Home'</span>, component: Home },
  { path: <span class="hljs-string">'/about'</span>, name: <span class="hljs-string">'About'</span>, component: About }
]
</code></pre>
<p>è¿™æ˜¯æ ¸å¿ƒè§„åˆ™ï¼šæ•°ç»„é‡Œçš„æ¯ä¸ªå¯¹è±¡å¯¹åº”ã€Œä¸€ä¸ª URL è·¯å¾„ â†’ ä¸€ä¸ªé¡µé¢ç»„ä»¶ã€ï¼Œæ¯ä¸ªå¯¹è±¡çš„ 3 ä¸ªæ ¸å¿ƒå±æ€§ï¼š</p>





















<table><thead><tr><th>å±æ€§</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>path</code></td><td><strong>è®¿é—®çš„ URL è·¯å¾„ï¼ˆå¿…å¡«ï¼‰</strong> ï¼š â€“Â <code>/</code>Â è¡¨ç¤º â€œæ ¹è·¯å¾„â€ï¼ˆå¦‚Â <code>http://localhost:5173/#/</code>ï¼‰ â€“Â <code>/about</code>Â è¡¨ç¤º â€œ/about è·¯å¾„â€ï¼ˆå¦‚Â <code>http://localhost:5173/#/about</code>ï¼‰</td></tr><tr><td><code>name</code></td><td><strong>è·¯ç”±çš„ â€œåˆ«åâ€ï¼ˆå¯é€‰ï¼Œä½†æ¨èåŠ ï¼‰</strong> ï¼š åç»­å¯ä»¥ç”¨Â <code>router.push({ name: 'About' })</code>Â è·³è½¬ï¼Œæ¯”å†™è·¯å¾„æ›´çµæ´»ï¼Œä¾¿äºåæœŸç»´æŠ¤</td></tr><tr><td><code>component</code></td><td><strong>è·¯å¾„å¯¹åº”çš„é¡µé¢ç»„ä»¶ï¼ˆå¿…å¡«ï¼‰</strong> ï¼š å°±æ˜¯ä½ å‰é¢å¯¼å…¥çš„Â <code>Home</code>/<code>About</code>Â ç»„ä»¶ï¼Œè®¿é—®è¯¥è·¯å¾„æ—¶ï¼Œé¡µé¢å°±ä¼šæ¸²æŸ“è¿™ä¸ªç»„ä»¶</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-17">3. åˆ›å»ºè·¯ç”±å®ä¾‹ï¼š<code>const router = createRouter({...})</code></h4>
<pre><code class="hljs language-scss" lang="scss">js
ç¼–è¾‘
const router = <span class="hljs-built_in">createRouter</span>({
  history: createWebHashHistory(), <span class="hljs-comment">// è·¯ç”±æ¨¡å¼</span>
  routes <span class="hljs-comment">// ç­‰ä»·äº routes: routesï¼ˆES6 ç®€å†™ï¼‰</span>
})
</code></pre>
<ul>
<li>
<p><code>createRouter()</code>ï¼šè°ƒç”¨ç¬¬ä¸€æ­¥å¯¼å…¥çš„ â€œé€ è·¯ç”±æ¨¡å…·â€ï¼Œä¼ å…¥é…ç½®å¯¹è±¡ï¼Œç”Ÿæˆä¸€ä¸ªã€Œè·¯ç”±å®ä¾‹ã€ï¼ˆå¯ä»¥ç†è§£ä¸º â€œèƒ½å·¥ä½œçš„è·¯ç”±å™¨â€ï¼‰ï¼›</p>
</li>
<li>
<p><code>history: createWebHashHistory()</code>ï¼šæŒ‡å®šè·¯ç”±çš„ã€Œå†å²æ¨¡å¼ã€ä¸ºÂ <strong>Hash æ¨¡å¼</strong>ï¼Œæ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ul>
<li>URL ä¸­ä¼šå¸¦Â <code>#</code>ï¼ˆæ¯”å¦‚Â <code>#/about</code>ï¼‰ï¼Œ<code>#</code>Â åé¢çš„å†…å®¹ä¸ä¼šå‘é€åˆ°åç«¯ï¼›</li>
<li>æ‰€ä»¥ä¸éœ€è¦åç«¯é…ç½®ï¼ˆ<strong>æ–°æ‰‹å‹å¥½</strong>ï¼‰ï¼›</li>
<li>ä¾‹å¦‚è®¿é—®Â <code>http://localhost:5173/#/about</code>ï¼Œæµè§ˆå™¨åªä¼šæŠŠÂ <code>http://localhost:5173/</code>Â å‘ç»™æœåŠ¡å™¨ï¼Œ<code>#/about</code>Â ç”±å‰ç«¯è·¯ç”±å¤„ç†ï¼›</li>
</ul>
</li>
<li>
<p><code>routes</code>ï¼šæŠŠå‰é¢å®šä¹‰çš„è§„åˆ™æ•°ç»„ä¼ ç»™è·¯ç”±å®ä¾‹ï¼Œå‘Šè¯‰è·¯ç”±å™¨ â€œè¯¥æ€ä¹ˆåŒ¹é… URL å’Œç»„ä»¶â€ã€‚</p>
</li>
</ul>
<hr/>
<h4 data-id="heading-18">4. å¯¼å‡ºè·¯ç”±å®ä¾‹ï¼š<code>export default router</code></h4>
<pre><code class="hljs language-arduino" lang="arduino">js
ç¼–è¾‘
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router
</code></pre>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæŠŠåˆ›å»ºå¥½çš„è·¯ç”±å®ä¾‹ â€œæš´éœ²å‡ºå»â€ï¼Œè®©é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼ˆ<code>src/main.js</code>ï¼‰èƒ½å¯¼å…¥å¹¶æŒ‚è½½åˆ° Vue åº”ç”¨ä¸Šï¼›</li>
<li><strong>ç±»æ¯”</strong>ï¼šå°±åƒä½ é€ å¥½äº†ä¸€ä¸ª â€œè·¯ç”±å™¨â€ï¼Œç°åœ¨æŠŠå®ƒæ‹¿å‡ºæ¥ï¼Œè®©æ•´ä¸ª Vue é¡¹ç›®èƒ½ä½¿ç”¨è¿™ä¸ªè·¯ç”±å™¨ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-19">ç¬¬ä¸‰æ­¥ï¼šè¿™ä¸ªæ–‡ä»¶çš„ â€œé…å¥—æ“ä½œâ€ï¼ˆå¿…é¡»çŸ¥é“ï¼Œå¦åˆ™è·¯ç”±ä¸ç”Ÿæ•ˆï¼‰</h3>
<p>å…‰å†™è·¯ç”±é…ç½®æ–‡ä»¶è¿˜ä¸å¤Ÿï¼å¿…é¡»å®Œæˆä»¥ä¸‹ä¸¤æ­¥ï¼Œè·¯ç”±æ‰èƒ½çœŸæ­£å·¥ä½œï¼š</p>
<h4 data-id="heading-20">1. åœ¨Â <code>main.js</code>Â ä¸­æŒ‚è½½è·¯ç”±</h4>
<blockquote>
<p><strong><code>main.js</code> æ˜¯ Vue 3 é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼ˆç¨‹åºå¯åŠ¨çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼‰</strong> ï¼Œè´Ÿè´£åˆ›å»º Vue åº”ç”¨å®ä¾‹ã€é…ç½®æ’ä»¶ã€æŒ‚è½½åˆ°é¡µé¢ã€‚</p>
</blockquote>
<p>é€è¡Œæ‹†è§£å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">js
ç¼–è¾‘
<span class="hljs-comment">// 1. import { createApp } from 'vue'</span>
<span class="hljs-comment">// ä» Vue æ ¸å¿ƒåº“å¯¼å…¥ createApp å‡½æ•°ï¼ˆåˆ›å»ºåº”ç”¨çš„â€œå·¥å‚â€ï¼‰</span>
<span class="hljs-comment">// Vue 3 ä¸å†ç”¨ new Vue()ï¼Œè€Œæ˜¯ç”¨ createApp åˆ›å»ºç‹¬ç«‹å®ä¾‹ï¼ˆæ”¯æŒå¤šåº”ç”¨ï¼‰</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// 2. import App from './App.vue'</span>
<span class="hljs-comment">// å¯¼å…¥æ ¹ç»„ä»¶ App.vue â€”â€” æ•´ä¸ªåº”ç”¨çš„â€œå®¹å™¨â€</span>
<span class="hljs-comment">// æ‰€æœ‰é¡µé¢/ç»„ä»¶æœ€ç»ˆéƒ½åµŒå¥—åœ¨ App.vue å†…</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>

<span class="hljs-comment">// 3. import router from './router'</span>
<span class="hljs-comment">// å¯¼å…¥è·¯ç”±å®ä¾‹ï¼ˆæ¥è‡ª src/router/index.jsï¼‰</span>
<span class="hljs-comment">// ./router ä¼šè¢«è‡ªåŠ¨è¯†åˆ«ä¸º ./router/index.js</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>

<span class="hljs-comment">// 4. import './style.css'</span>
<span class="hljs-comment">// å¯¼å…¥å…¨å±€æ ·å¼ï¼Œä½œç”¨äºæ•´ä¸ªåº”ç”¨</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./style.css'</span>

<span class="hljs-comment">// 5. é“¾å¼è°ƒç”¨ï¼šåˆ›å»º â†’ æ³¨å†Œ â†’ æŒ‚è½½</span>
<span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)
  .<span class="hljs-title function_">use</span>(router)     <span class="hljs-comment">// æ³¨å†Œè·¯ç”±æ’ä»¶ï¼ˆå¯ç”¨ &lt;router-link&gt;ã€&lt;router-view&gt; ç­‰åŠŸèƒ½ï¼‰</span>
  .<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)   <span class="hljs-comment">// æŒ‚è½½åˆ° HTML ä¸­çš„ &lt;div id="app"&gt;&lt;/div&gt;</span>
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>é“¾å¼è°ƒç”¨ç­‰ä»·å†™æ³•ï¼ˆæ›´æ˜“ç†è§£ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">js
ç¼–è¾‘
const app = <span class="hljs-built_in">createApp</span>(App)
app<span class="hljs-selector-class">.use</span>(router)
app<span class="hljs-selector-class">.mount</span>('#app')
</code></pre>
</blockquote>
<h5 data-id="heading-21">å…³é”®æ¦‚å¿µè¡¥å……ï¼š</h5>
<ul>
<li><strong>ä¸ºä»€ä¹ˆæ˜¯Â <code>main.js</code>ï¼Ÿ</strong><br/>
Vite/Vue CLI é»˜è®¤å°†å…¶ä½œä¸ºæ‰“åŒ…å…¥å£ï¼Œæœ€å…ˆæ‰§è¡Œã€‚</li>
<li><strong>æ¨¡å—åŒ–ï¼ˆimport/exportï¼‰</strong><br/>
<code>router/index.js</code>Â ä¸­Â <code>export default router</code>ï¼Œæ‰€ä»¥è¿™é‡Œèƒ½Â <code>import router</code>ã€‚</li>
<li><strong>å•é¡µåº”ç”¨ï¼ˆSPAï¼‰</strong><br/>
æ•´ä¸ªé¡¹ç›®åªæœ‰ä¸€ä¸ª HTML æ–‡ä»¶ï¼ˆ<code>public/index.html</code>ï¼‰ï¼Œé¡µé¢è·³è½¬é è·¯ç”±å®ç°ï¼Œä¸åˆ·æ–°ã€‚</li>
</ul>
<blockquote>
<p>âœ… <strong>ä¸€å¥è¯æ€»ç»“ <code>main.js</code> çš„ä½œç”¨</strong>ï¼š<br/>
<strong>å¯¼å…¥ Vue æ ¸å¿ƒå·¥å…·ã€æ ¹ç»„ä»¶ã€è·¯ç”±å’Œå…¨å±€æ ·å¼ â†’ åˆ›å»º Vue åº”ç”¨å®ä¾‹ â†’ æ³¨å†Œè·¯ç”±æ’ä»¶ â†’ æŠŠåº”ç”¨æŒ‚è½½åˆ°é¡µé¢çš„ <code>#app</code> å…ƒç´ ä¸Šï¼Œæœ€ç»ˆå¯åŠ¨æ•´ä¸ª Vue åº”ç”¨ã€‚</strong></p>
</blockquote>
<hr/>
<h4 data-id="heading-22">2. åœ¨Â <code>App.vue</code>Â ä¸­æ·»åŠ è·¯ç”±å‡ºå£</h4>
<blockquote>
<p><strong><code>.vue</code> æ–‡ä»¶æ˜¯ Vue ç‰¹æœ‰çš„å•æ–‡ä»¶ç»„ä»¶æ ¼å¼</strong>ï¼Œä¸€ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹ç»„ä»¶ï¼ŒåŒ…å«ä¸‰éƒ¨åˆ†ï¼š</p>
<ul>
<li><code>&lt;template&gt;</code>ï¼šç»“æ„</li>
<li><code>&lt;script&gt;</code>ï¼šé€»è¾‘</li>
<li><code>&lt;style&gt;</code>ï¼šæ ·å¼</li>
</ul>
</blockquote>
<pre><code class="hljs language-xml" lang="xml">vue
ç¼–è¾‘
<span class="hljs-comment">&lt;!-- src/App.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å¤´éƒ¨å¯¼èˆª --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
          <span class="hljs-comment">&lt;!-- Vue è·¯ç”±é“¾æ¥ï¼šç‚¹å‡»ä¸åˆ·æ–°é¡µé¢ --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- ä¸»å†…å®¹åŒº --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- è·¯ç”±å‡ºå£ï¼šé¡µé¢ç»„ä»¶åœ¨æ­¤åŠ¨æ€æ¸²æŸ“ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-comment">/* scoped æ ·å¼ä»…ä½œç”¨äºå½“å‰ç»„ä»¶ */</span>
<span class="hljs-selector-tag">ul</span> { <span class="hljs-attribute">display</span>: flex; <span class="hljs-attribute">gap</span>: <span class="hljs-number">16px</span>; <span class="hljs-attribute">list-style</span>: none; }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h5 data-id="heading-23">æ ¸å¿ƒæ ‡ç­¾è§£é‡Šï¼š</h5>

















<table><thead><tr><th>æ ‡ç­¾</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>&lt;router-link to="..."&gt;</code></td><td><strong>æ›¿ä»£Â <code>&lt;a&gt;</code>Â çš„è·¯ç”±å¯¼èˆªç»„ä»¶</strong> ç‚¹å‡»ä¸åˆ·æ–°é¡µé¢ï¼Œä»…æ›¿æ¢Â <code>&lt;router-view&gt;</code>Â å†…å®¹</td></tr><tr><td><code>&lt;router-view /&gt;</code></td><td><strong>è·¯ç”±å‡ºå£ï¼ˆå ä½ç¬¦ï¼‰</strong> è®¿é—®Â <code>/</code>Â æ—¶æ˜¾ç¤ºÂ <code>Home</code>Â ç»„ä»¶ï¼Œè®¿é—®Â <code>/about</code>Â æ—¶æ˜¾ç¤ºÂ <code>About</code>Â ç»„ä»¶</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>è¿è¡Œé€»è¾‘</strong>ï¼š</p>
<ol>
<li>è®¿é—®Â <code>http://localhost:5173/#/</code>Â â†’ åŒ¹é…Â <code>path: '/'</code>Â â†’ æ¸²æŸ“Â <code>Home</code>Â åˆ°Â <code>&lt;router-view&gt;</code></li>
<li>ç‚¹å‡» â€œAboutâ€ â†’ URL å˜ä¸ºÂ <code>#/about</code>Â â†’ è§¦å‘Â <code>hashchange</code>Â â†’ æ¸²æŸ“Â <code>About</code>Â ç»„ä»¶<br/>
<strong>å…¨ç¨‹æ— åˆ·æ–°</strong>ï¼Œå› ä¸ºÂ <code>#</code>Â åå†…å®¹ç”±å‰ç«¯å¤„ç†ã€‚</li>
</ol>
</blockquote>
<hr/>
<h3 data-id="heading-24">ç¬¬å››æ­¥ï¼šè¿è¡Œé€»è¾‘ï¼ˆæ–°æ‰‹å¿…æ‡‚ï¼‰</h3>
<p>å½“ä½ å¯åŠ¨é¡¹ç›®ï¼ˆ<code>npm run dev</code>ï¼‰åï¼Œæ•´ä¸ªè·¯ç”±çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æµè§ˆå™¨è®¿é—® <code>http://localhost:5173/#/</code><br/>
â†’ è·¯ç”±å®ä¾‹åŒ¹é…åˆ° <code>path: '/'</code> çš„è§„åˆ™<br/>
â†’ æŠŠ <code>Home</code> ç»„ä»¶æ¸²æŸ“åˆ° <code>App.vue</code> çš„ <code>&lt;router-view&gt;</code> ä½ç½®<br/>
â†’ é¡µé¢æ˜¾ç¤ºé¦–é¡µï¼›</li>
<li>ç‚¹å‡» <code>&lt;router-link to="/about"&gt;</code><br/>
â†’ URL å˜æˆ <code>http://localhost:5173/#/about</code><br/>
â†’ è·¯ç”±å®ä¾‹åŒ¹é…åˆ° <code>path: '/about'</code> çš„è§„åˆ™<br/>
â†’ æŠŠ <code>About</code> ç»„ä»¶æ¸²æŸ“åˆ° <code>&lt;router-view&gt;</code><br/>
â†’ é¡µé¢åˆ‡æ¢ä¸ºå…³äºé¡µï¼›</li>
</ol>
<p>âœ… <strong>å…¨ç¨‹é¡µé¢ä¸ä¼šåˆ·æ–°</strong>ï¼ˆå‰ç«¯è·¯ç”±çš„æ ¸å¿ƒä¼˜åŠ¿ï¼‰ï¼Œå› ä¸º <code>#</code> åé¢çš„è·¯å¾„ç”±å‰ç«¯å¤„ç†ï¼Œä¸è¯·æ±‚åç«¯ã€‚</p>
<hr/>
<h3 data-id="heading-25">ç¬¬äº”æ­¥ï¼šæ–°æ‰‹å¸¸è§ç–‘é—®è§£ç­”</h3>
<h4 data-id="heading-26">â“ ä¸ºä»€ä¹ˆç”¨Â <code>createWebHashHistory()</code>Â è€Œä¸æ˜¯Â <code>createWebHistory()</code>ï¼Ÿ</h4>

























<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>Hash æ¨¡å¼ï¼ˆ<code>#</code>ï¼‰</th><th>History æ¨¡å¼ï¼ˆæ— Â <code>#</code>ï¼‰</th></tr></thead><tbody><tr><td>URL ç¾è§‚åº¦</td><td>âŒ æœ‰Â <code>#</code></td><td>âœ… å¹²å‡€è·¯å¾„</td></tr><tr><td>éƒ¨ç½²å¤æ‚åº¦</td><td>âœ… ä»»æ„é™æ€æœåŠ¡å™¨</td><td>âŒ éœ€é…ç½® fallbackï¼ˆå¦‚ Nginx é‡å®šå‘åˆ°Â <code>index.html</code>ï¼‰</td></tr><tr><td>å…¼å®¹æ€§</td><td>âœ… æ‰€æœ‰æµè§ˆå™¨</td><td>âœ… ç°ä»£æµè§ˆå™¨ï¼ˆIE ä¸æ”¯æŒï¼‰</td></tr></tbody></table>
<blockquote>
<p>ğŸ“Œ <strong>å»ºè®®</strong>ï¼šåˆå­¦è€…æˆ–é™æ€ç«™ç‚¹ç”¨ <strong>Hash æ¨¡å¼</strong>ï¼›ç”Ÿäº§çº§ SPA æ¨è <strong>History æ¨¡å¼ + æœåŠ¡ç«¯æ”¯æŒ</strong>ã€‚</p>
</blockquote>
<h4 data-id="heading-27">â“Â <code>name: 'Home'</code>Â æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h4>
<p>é™¤äº†é€šè¿‡è·¯å¾„è·³è½¬ï¼ˆ<code>router.push('/about')</code>ï¼‰ï¼Œè¿˜èƒ½é€šè¿‡åç§°è·³è½¬ï¼š</p>
<pre><code class="hljs language-php" lang="php">js
ç¼–è¾‘
<span class="hljs-comment">// æ›´çµæ´»ï¼åç»­å¦‚æœä¿®æ”¹ pathï¼ˆæ¯”å¦‚æŠŠ /about æ”¹æˆ /about-usï¼‰ï¼Œ</span>
<span class="hljs-comment">// åªéœ€æ”¹è·¯ç”±è§„åˆ™é‡Œçš„ pathï¼Œä¸ç”¨æ”¹æ‰€æœ‰è·³è½¬ä»£ç </span>
router.<span class="hljs-title function_ invoke__">push</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'About'</span> })
</code></pre>
<h4 data-id="heading-28">â“ ç»„ä»¶å¿…é¡»æ”¾åœ¨Â <code>views</code>Â ç›®å½•å—ï¼Ÿ</h4>
<p><strong>ä¸æ˜¯å¼ºåˆ¶çš„</strong>ï¼<code>views</code> æ˜¯çº¦å®šä¿—æˆçš„ â€œé¡µé¢çº§ç»„ä»¶â€ ç›®å½•ï¼ˆåŒºåˆ«äº <code>components/</code> ä¸­çš„åŠŸèƒ½ç»„ä»¶ï¼‰ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ <code>pages/</code>ï¼Œåªè¦å¯¼å…¥è·¯å¾„å¯¹åº”å³å¯ã€‚</p>
<hr/>
<h2 data-id="heading-29">å››ã€å¼€å‘ä½“éªŒå¢å¼ºå·¥å…·</h2>

















<table><thead><tr><th>å·¥å…·</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>Volar</strong>ï¼ˆVS Code æ’ä»¶ï¼‰</td><td>æä¾› Vue 3 çš„è¯­æ³•é«˜äº®ã€æ™ºèƒ½æç¤ºã€ç±»å‹æ£€æŸ¥</td></tr><tr><td><strong>Vue DevTools</strong>ï¼ˆæµè§ˆå™¨æ’ä»¶ï¼‰</td><td>è°ƒè¯•ç»„ä»¶çŠ¶æ€ã€è·¯ç”±ã€Pinia/Vuex ç­‰</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šç¦ç”¨æ—§ç‰ˆ <strong>Vetur</strong>ï¼Œé¿å…ä¸ Volar å†²çªã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-30">äº”ã€æ€»ç»“è¦ç‚¹</h2>

































<table><thead><tr><th>æ¨¡å—</th><th>å…³é”®çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td><strong>Vite</strong></td><td>åŸºäº ESM çš„æé€Ÿå¼€å‘æœåŠ¡å™¨ï¼Œæ— éœ€æ‰“åŒ…å³å¯è¿è¡Œ</td></tr><tr><td><strong><code>#</code>Â çš„ä½œç”¨</strong></td><td>URL å“ˆå¸Œæ ‡è¯†ç¬¦ï¼Œéš”ç¦»å‰ç«¯è·¯ç”±ä¸æœåŠ¡å™¨è¯·æ±‚ï¼Œå®ç°æ— åˆ·æ–°è·³è½¬</td></tr><tr><td><strong>è·¯ç”±é…ç½®</strong></td><td>å®šä¹‰Â <code>path â†’ component</code>Â è§„åˆ™ï¼Œåˆ›å»º Hash æ¨¡å¼è·¯ç”±å®ä¾‹</td></tr><tr><td><strong><code>main.js</code></strong></td><td>åˆ›å»ºåº”ç”¨ â†’ æ³¨å†Œè·¯ç”± â†’ æŒ‚è½½åˆ°Â <code>#app</code>ï¼Œå¯åŠ¨æ•´ä¸ª SPA</td></tr><tr><td><strong><code>App.vue</code></strong></td><td>ä½¿ç”¨Â <code>&lt;router-link&gt;</code>Â å¯¼èˆª +Â <code>&lt;router-view&gt;</code>Â æ¸²æŸ“é¡µé¢</td></tr><tr><td><strong>å·¥ç¨‹åŒ–æ€ç»´</strong></td><td>ç»„ä»¶åŒ–ã€æ¨¡å—åŒ–ã€å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆé¡µé¢ vs åŠŸèƒ½ç»„ä»¶ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-31">ğŸ’¬ ä¸€å¥è¯è®°ä½è·¯ç”±æ ¸å¿ƒ</h3>
<blockquote>
<p>è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯ï¼šåˆ›å»ºä¸€ä¸ª â€œHash æ¨¡å¼â€ çš„è·¯ç”±å®ä¾‹ï¼Œå®šä¹‰äº†ã€Œæ ¹è·¯å¾„æ˜¾ç¤º Home ç»„ä»¶ã€/about è·¯å¾„æ˜¾ç¤º About ç»„ä»¶ã€çš„è§„åˆ™ï¼Œæœ€åå¯¼å‡ºè¿™ä¸ªå®ä¾‹ï¼Œè®©æ•´ä¸ª Vue åº”ç”¨èƒ½æ ¹æ® URL åˆ‡æ¢é¡µé¢ç»„ä»¶ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-32">å…­ã€æ³¨æ„äº‹é¡¹</h2>
<ol>
<li>
<p><strong>è·¯å¾„åˆ«å</strong>ï¼šVite é»˜è®¤ä¸æ”¯æŒÂ <code>@</code>Â åˆ«åï¼Œéœ€æ‰‹åŠ¨é…ç½®Â <code>vite.config.js</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">js
ç¼–è¾‘
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>
<span class="hljs-keyword">import</span> { resolve } <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">vue</span>()],
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-string">'@'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'src'</span>)
    }
  }
})
</code></pre>
</li>
<li>
<p><strong>çƒ­æ›´æ–°å¤±æ•ˆï¼Ÿ</strong> Â æ£€æŸ¥æ˜¯å¦ä¿®æ”¹äº†éÂ <code>.vue</code>/<code>.js</code>Â æ–‡ä»¶ï¼ˆå¦‚Â <code>vite.config.js</code>Â éœ€é‡å¯ï¼‰ã€‚</p>
</li>
<li>
<p><strong>TypeScript æ”¯æŒ</strong>ï¼šVite åŸç”Ÿæ”¯æŒï¼Œåˆå§‹åŒ–æ—¶é€‰æ‹©Â <code>vue-ts</code>Â æ¨¡æ¿å³å¯ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-33">ç»“è¯­</h2>
<p>ä»å‰ç«¯â€œå†™é¡µé¢â€åˆ°â€œæ„å»ºå·¥ç¨‹â€ï¼ŒVite + Vue 3 + vue-router çš„ç»„åˆæä¾›äº†<strong>å¼€ç®±å³ç”¨çš„ç°ä»£åŒ–å¼€å‘ä½“éªŒ</strong>ã€‚æŒæ¡è¿™å¥—å·¥å…·é“¾ï¼Œä¸ä»…èƒ½æå‡å¼€å‘æ•ˆç‡ï¼Œæ›´æ˜¯è¿ˆå‘ä¸“ä¸šå‰ç«¯å·¥ç¨‹å¸ˆçš„é‡è¦ä¸€æ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éšå¼ç±»å‹è½¬æ¢ï¼šå“ˆåŸºç±³ == çŒ« ï¼Ÿ true ï¼šfalse]]></title>    <link>https://juejin.cn/post/7584307643000569899</link>    <guid>https://juejin.cn/post/7584307643000569899</guid>    <pubDate>2025-12-16T17:55:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584307643000569899" data-draft-id="7583591656176762916" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éšå¼ç±»å‹è½¬æ¢ï¼šå“ˆåŸºç±³ == çŒ«  ï¼Ÿ true ï¼šfalse"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-16T17:55:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥å€¾"/> <meta itemprop="url" content="https://juejin.cn/user/3270387091383163"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éšå¼ç±»å‹è½¬æ¢ï¼šå“ˆåŸºç±³ == çŒ«  ï¼Ÿ true ï¼šfalse
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3270387091383163/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥å€¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T17:55:58.000Z" title="Tue Dec 16 2025 17:55:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä½•æ„å‘³ï¼Ÿ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51e527774524478599b728245c646ca0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iul5YC-:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766512558&amp;x-signature=3lscOVuTPNIYpoK5nRMgjyUsbv8%3D" alt="1765769833188_B34E5E5A-2929-45d0-9379-AFA04B8AD318.png" loading="lazy"/></p>
<p>å¦‚æœæˆ‘ä»¬ä»¥å¾€åªæ¥è§¦è¿‡ä¸€é—¨å¼ºç±»å‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¼°è®¡æ—©å·²ç»çš±èµ·çœ‰å¤´ï¼Œå¤§å‘¼ä¸€å£°â€œä½•æ„å‘³ï¼Ÿâ€ã€‚ä½†æ˜¯åœ¨jsçš„ä¸–ç•Œä¸­ï¼Œä¸€åˆ‡æ˜¯è‡ªç”±çš„ã€‚ä½ ç”šè‡³å¯ä»¥ç›´æ¥å†™ä¸€ä»½ æ•°å­—+å¼•ç”¨æ•°æ®ç±»å‹ çš„ä»£ç è€Œä¸æŠ¥é”™ã€‚ä½¿å¾—ä¸Šæ®µä»£ç ä¸æŠ¥é”™çš„åŸå› ï¼Œå…¶å®æ˜¯jsåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿäº†éšå¼ç±»å‹è½¬æ¢ã€‚</p>
<h2 data-id="heading-1">ç±»å‹è½¬æ¢çš„è§„åˆ™</h2>
<h3 data-id="heading-2">åŸå§‹ç±»å‹ä¹‹é—´çš„è½¬æ¢</h3>
<ul>
<li>String =&gt;Number: å­—ç¬¦ä¸²å†…éƒ¨åªèƒ½åŒ…å«"-""+"ç¬¦å·,å¦åˆ™è½¬æ¢å€¼ä¸ºNaN</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-string">"-123"</span>))<span class="hljs-comment">//åªå…è®¸å¼€å¤´å­—ç¬¦ä¸ºâ€œ-+â€ï¼Œå…¶å®ƒéƒ½ä¸ºæ•°å­—ï¼Œåˆ™è½¬æ¢ä¸ºæ•°å­—</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-string">"123a"</span>)) <span class="hljs-comment">// å­—ç¬¦ä¸²å†…éƒ¨åŒ…å«éæ•°å­—å­—ç¬¦ï¼Œåˆ™è½¬æ¢ä¸ºNaN</span>
</code></pre>
<ul>
<li>Boolean =&gt;Numberï¼štrue =&gt;1 | flase =&gt;0</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-literal">true</span>))
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-literal">false</span>))
</code></pre>
<ul>
<li>Numberï¼ŒBoolean =&gt;String : ç›´æ¥åŠ ä¸Šâ€œâ€å˜æˆå­—ç¬¦ä¸²</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">String</span>(<span class="hljs-number">123</span>),<span class="hljs-title function_">typeof</span>(<span class="hljs-title class_">String</span>(<span class="hljs-number">123</span>)))
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">String</span>(<span class="hljs-literal">true</span>),<span class="hljs-title function_">typeof</span>(<span class="hljs-title class_">String</span>(<span class="hljs-literal">true</span>)))
</code></pre>
<ul>
<li>String =&gt; Boolean: éç©ºåˆ™ä¸ºtrueï¼Œå¦åˆ™ä¸ºfalse</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-string">""</span>))
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-string">"adadaw"</span>))
</code></pre>
<ul>
<li>Number =&gt; Boolean: 0åˆ™ä¸ºfalseï¼Œå¦åˆ™ä¸ºtrue</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-number">0</span>))
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(-<span class="hljs-number">1</span>))
</code></pre>
<h3 data-id="heading-3">å¼•ç”¨ç±»å‹  =&gt;  åŸå§‹ç±»å‹çš„è½¬æ¢</h3>
<ol>
<li>Toprimitive(obj)
è¿™æ˜¯jså¼•æ“å†…ç½®çš„å‡½æ•°ï¼ŒåŠŸèƒ½æ˜¯å°†å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºåŸå§‹ç±»å‹ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•ç›´æ¥è°ƒç”¨ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿä¸€ä¸‹å®ƒçš„å†…éƒ¨å®ç°</li>
</ol>
<pre><code class="hljs language-js" lang="js">å…¶å†…éƒ¨å®ç°
<span class="hljs-title function_">toprimitive</span>(<span class="hljs-params">obj</span>)
{
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> (obj.<span class="hljs-title function_">valueOf</span>())!=<span class="hljs-string">'object'</span>)
    {
        <span class="hljs-keyword">return</span> obj.<span class="hljs-title function_">valueOf</span>();
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> (obj.<span class="hljs-title function_">toString</span>())!=<span class="hljs-string">'object'</span>)
    {
        <span class="hljs-keyword">return</span> obj.<span class="hljs-title function_">toString</span>();
    }

    <span class="hljs-keyword">return</span> <span class="hljs-string">"æŠ¥é”™ï¼šæœªçŸ¥ç±»å‹é”™è¯¯"</span>;
}
</code></pre>
<ul>
<li>å…³äºvalueOf( )ï¼š æŸäº›ç‰¹æ®Šçš„ç±»å‹åœ¨è®¾è®¡ä¹‹åˆå·²ç»è®¾ç½®å¥½äº†ï¼Œå½“è¯¥ç±»å‹å‚ä¸è¿ç®—æ—¶ï¼Œåº”å½“è¿”å›å“ªäº›ç±»å‹çš„å€¼ï¼Œå¦‚æœè¿”å›çš„æ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æŠ›å‡ºï¼Œä½œä¸ºå¼•ç”¨ç±»å‹å¯¹è±¡ =&gt; åŸå§‹ç±»å‹ çš„å€¼</li>
<li>å…³äºtoStringï¼ˆï¼‰ï¼Œå‡ ä¹æ‰€æœ‰ç±»å‹çš„å¯¹è±¡éƒ½å†…ç½®äº†toStringæ–¹æ³•ï¼Œä»¥å­—ç¬¦ä¸²çš„å½¢å¼å±•ç¤ºæ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æŠ›å‡ºï¼Œä½œä¸ºå¼•ç”¨ç±»å‹å¯¹è±¡ =&gt; åŸå§‹ç±»å‹ çš„å€¼ã€‚</li>
<li>ç»¼ä¸Šæ‰€è¿°ï¼šå¼•ç”¨ç±»å‹ =&gt; åŸå§‹ç±»å‹ çš„ç»“æœæ˜¯å¯ä»¥é¢„æœŸçš„ï¼Œ å¦‚æœå†…ç½®çš„valueOfï¼ˆï¼‰å‡½æ•°å®šä¹‰äº†ï¼Œä½¿ç”¨åŸå§‹ç±»å‹å±•ç¤ºæœ¬å¯¹è±¡æ•°æ®çš„æ–¹å¼ï¼Œåˆ™ç›´æ¥æŠ›å‡ºï¼Œå¦åˆ™æŠ›å‡ºå¤§æ¦‚ç‡æ˜¯æ‰§è¡ŒtoStringï¼ˆï¼‰åæŠ›å‡ºçš„å­—ç¬¦ä¸²ï¼Œä¸ç„¶å°±æ˜¯æŠ¥é”™äº†ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d24bbcdc6ea34a239a211b90e36d7ed1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iul5YC-:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766512558&amp;x-signature=%2B2PNWgaUG5JgB4qEWHuIMnswVbU%3D" alt="æœªå‘½åæ–‡ä»¶.png" loading="lazy"/></p>
<h2 data-id="heading-4">éšå¼ç±»å‹è½¬æ¢</h2>
<h3 data-id="heading-5">ä½•æ—¶å‘ç”Ÿï¼Ÿ</h3>
<p>å½“è¿ç®—ç¬¦ä¸¤ç«¯æ•°æ®ç±»å‹ä¸åŒæ—¶å°±ä¼šå‘ç”Ÿã€‚</p>
<ol>
<li>å››åˆ™è¿ç®—</li>
</ol>
<ul>
<li>åœ¨æˆ‘ä»¬ä½¿ç”¨â€œ+-x%â€è¿›è¡Œå››åˆ™è¿ç®—æ—¶</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä¼šéšè—å¼çš„å°†å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºåŸå§‹ç±»å‹</span>

<span class="hljs-comment">// é™¤â€+â€œä»¥å¤–çš„è¿ç®—æ—¶</span>
<span class="hljs-comment">//  åŸå§‹ç±»å‹ - åŸå§‹ç±»å‹  =&gt;  number - number</span>
<span class="hljs-comment">//  å¼•ç”¨ç±»å‹ - å¼•ç”¨ç±»å‹  =&gt;  toprimitive() - toprimitive() =&gt; number -number</span>
<span class="hljs-comment">//  åŸå§‹ç±»å‹ - å¼•ç”¨ç±»å‹  =&gt;  number - toprimitive()  =&gt; number -number</span>


<span class="hljs-comment">// æ‰§è¡Œâ€+â€œæ³•è¿ç®—æ—¶</span>
<span class="hljs-comment">// åŸå§‹ç±»å‹ï¼ˆé™¤stringå¤–ï¼‰ + åŸå§‹ç±»å‹ï¼ˆé™¤å»string å¤–ï¼‰ =&gt; number + number</span>
<span class="hljs-comment">// string +  åŸå§‹ç±»å‹  =&gt;  string + string</span>
<span class="hljs-comment">// string +  å¼•ç”¨ç±»å‹  =&gt;  string + å¼•ç”¨ç±»å‹.toString() </span>
<span class="hljs-comment">// å¼•ç”¨ç±»å‹ + åŸå§‹ç±»å‹=&gt;  å¼•ç”¨ç±»å‹.toString()  +  string </span>

<span class="hljs-comment">//ä¾‹å­</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([<span class="hljs-number">12</span>]+<span class="hljs-number">3</span>)
<span class="hljs-comment">// [12].toString =&gt;'12' </span>
<span class="hljs-comment">//'12'+ 3 =&gt; '12' + '3' = '123' </span>


<span class="hljs-comment">//ä¾‹å­</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()-<span class="hljs-number">3</span>) 
<span class="hljs-comment">//  toprimitiev(new Date()) =&gt; 1765874339393 </span>
<span class="hljs-comment">//  1765874339393 -3 =&gt;1765874339390</span>
</code></pre>
<ol start="2">
<li>å…³ç³»è¿ç®—</li>
</ol>
<ul>
<li>åœ¨æˆ‘ä»¬ä½¿ç”¨â€œ&gt;,&gt;=,&lt;,&lt;=â€è¿›è¡Œå…³ç³»è¿ç®—æ—¶</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åŸå§‹ç±»å‹ &gt;= åŸå§‹ç±»å‹ï¼ˆé™¤stringå¤–ï¼‰   =&gt;  number &gt;= number</span>
<span class="hljs-comment">// stirng  &gt;= string   =&gt;  æŒ‰ä½æ¯”è¾ƒUnicodeç </span>

<span class="hljs-comment">// å…³ç³»è¿ç®—æ—¶ï¼Œä¼šå…ˆå°†å¼•ç”¨ç±»å‹éšå¼è½¬æ¢ä¸ºåŸå§‹ç±»å‹</span>
<span class="hljs-comment">// string  &gt;= å¼•ç”¨ç±»å‹  =&gt;  string &gt;= toprimitive() </span>
<span class="hljs-comment">// boolean &gt;= å¼•ç”¨ç±»å‹  =&gt;  number &gt;= toprimitiev() </span>
<span class="hljs-comment">// number  &gt;= å¼•ç”¨ç±»å‹  =&gt;  number &gt;= toprimitive() </span>
<span class="hljs-comment">// å¼•ç”¨ç±»å‹ &gt;= å¼•ç”¨ç±»å‹  =&gt;  toprimitive() &gt;= toprimitive()  </span>

<span class="hljs-comment">// ä¾‹å­</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([<span class="hljs-number">11</span>]&gt; <span class="hljs-number">10</span>)
<span class="hljs-comment">//  toprimitiev([11])=&gt; '11' ,Number('11') =&gt; 11</span>
<span class="hljs-comment">//  11 &gt; 10 =&gt; true</span>
</code></pre>
<ol start="3">
<li>æ¡ä»¶åˆ¤æ–­</li>
</ol>
<ul>
<li>åœ¨æˆ‘ä»¬ä½¿ç”¨â€œif,while,do while,!,? â€æ¡ä»¶åˆ¤æ–­æ—¶ï¼Œä¼šå°è¯•å°†å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºbooleanå‹ï¼Œè™½ç„¶ä¼šå°è¯•å°†å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºåŸå§‹ç±»å‹ï¼Œä½†æ˜¯ä¸æ”¹å˜æœ€ç»ˆç»“æœä¸ºtrue</li>
</ul>
<pre><code class="hljs language-js" lang="js">æ¡ä»¶åˆ¤æ–­æ—¶ï¼Œä¸ä¼šå°†å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºåŸå§‹ç±»å‹
<span class="hljs-comment">//åœ¨è¿›è¡Œæ¡ä»¶åˆ¤æ–­æ—¶</span>
<span class="hljs-comment">// åŸå§‹ç±»å‹  =&gt; boolean</span>
<span class="hljs-comment">// å¼•ç”¨ç±»å‹  =&gt; boolean  ä¸”å¿…ä¸ºtrue </span>

<span class="hljs-comment">// "!" çš„ä½¿ç”¨,å¸ƒå°”å€¼å–å</span>
<span class="hljs-comment">// !true  =&gt; false</span>
<span class="hljs-comment">// !false =&gt; true</span>


<span class="hljs-comment">//ä¾‹å­</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(![]) <span class="hljs-comment">// false</span>

<span class="hljs-comment">//  ![] å‘booleanè½¬æ¢ã€‚ </span>
<span class="hljs-comment">//  Boolean([]) =&gt; true</span>
<span class="hljs-comment">//  !true =&gt; false </span>

</code></pre>
<p>4.ç›¸ç­‰è¿ç®—</p>
<ul>
<li>åœ¨æˆ‘ä»¬ä½¿ç”¨â€œ==â€è¿›è¡Œåˆ¤æ–­è¿ç®—æ—¶</li>
</ul>
<pre><code class="hljs language-js" lang="js">
<span class="hljs-comment">// åŸå§‹ç±»å‹ == åŸå§‹ç±»å‹ï¼ˆé™¤å»stringï¼‰ =&gt;  number == number</span>
<span class="hljs-comment">// string == string     =&gt;  æŒ‰ä½æ¯”è¾ƒUicodeç </span>
<span class="hljs-comment">// stirng  == å¼•ç”¨ç±»å‹   =&gt;  string == å¼•ç”¨ç±»å‹.toString() =&gt; string == string</span>
<span class="hljs-comment">// number == å¼•ç”¨ç±»å‹    =&gt;  number == toprimitive() =&gt; number &gt;= number</span>
<span class="hljs-comment">// boolean == å¼•ç”¨ç±»å‹   =&gt;  number == toprimitive() =&gt; number &gt;= number</span>
<span class="hljs-comment">// å¼•ç”¨ç±»å‹ == å¼•ç”¨ç±»å‹   =&gt;  ç›´æ¥æ¯”è¾ƒåœ°å€ï¼Œä¸è¿›è¡Œéšå¼è½¬æ¢</span>




<span class="hljs-comment">//ä¾‹å­</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([]==![]) <span class="hljs-comment">// true</span>

<span class="hljs-comment">// ![] å…ˆå‘booleanè½¬æ¢ï¼Œå†è½¬ä¸ºæ•°å­—ã€‚</span>
<span class="hljs-comment">// Boolean([]) =&gt; true , !true =&gt; false</span>

<span class="hljs-comment">// [] == flase (å¼•ç”¨ç±»å‹ == å¸ƒå°”ç±»å‹) </span>
<span class="hljs-comment">//Number(false) =&gt; 0</span>
<span class="hljs-comment">//toprimitive([])=&gt;'', Number('') =&gt; 0 </span>
<span class="hljs-comment">// 0 == 0 =&gt; true</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([]==[]) <span class="hljs-comment">// false</span>


</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ReactçŠ¶æ€æå‡ï¼šä¸ºä»€ä¹ˆå®ƒæ˜¯ä½ é¡¹ç›®æ¶æ„çš„æ•‘æ˜Ÿï¼Ÿ]]></title>    <link>https://juejin.cn/post/7584320417307099187</link>    <guid>https://juejin.cn/post/7584320417307099187</guid>    <pubDate>2025-12-17T00:21:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584320417307099187" data-draft-id="7584279552433995814" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ReactçŠ¶æ€æå‡ï¼šä¸ºä»€ä¹ˆå®ƒæ˜¯ä½ é¡¹ç›®æ¶æ„çš„æ•‘æ˜Ÿï¼Ÿ"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2025-12-17T00:21:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ReactçŠ¶æ€æå‡ï¼šä¸ºä»€ä¹ˆå®ƒæ˜¯ä½ é¡¹ç›®æ¶æ„çš„æ•‘æ˜Ÿï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:21:18.000Z" title="Wed Dec 17 2025 00:21:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯çŠ¶æ€æå‡ï¼Ÿ</h2>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>çŠ¶æ€æå‡å°±æ˜¯å°†å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«çš„çŠ¶æ€ï¼Œç§»åŠ¨åˆ°å®ƒä»¬æœ€è¿‘çš„å…±åŒçˆ¶ç»„ä»¶ä¸­</strong>ã€‚è¿™æ ·ï¼ŒçŠ¶æ€å°±â€œæå‡â€åˆ°äº†æ›´é«˜çš„å±‚çº§ï¼Œç„¶åé€šè¿‡propsä¼ é€’ç»™éœ€è¦å®ƒçš„å­ç»„ä»¶ã€‚</p>
<p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç”ŸåŠ¨çš„ä¾‹å­å¼€å§‹ç†è§£ï¼š</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªæ¸©åº¦è½¬æ¢å™¨ã€‚æœ‰ä¸¤ä¸ªè¾“å…¥æ¡†ï¼šä¸€ä¸ªè¾“å…¥æ‘„æ°æ¸©åº¦ï¼Œä¸€ä¸ªè¾“å…¥åæ°æ¸©åº¦ã€‚å½“ä½ åœ¨ä¸€ä¸ªè¾“å…¥æ¡†ä¸­è¾“å…¥æ•°å€¼æ—¶ï¼Œå¦ä¸€ä¸ªè¾“å…¥æ¡†åº”è¯¥è‡ªåŠ¨æ˜¾ç¤ºè½¬æ¢åçš„æ¸©åº¦ã€‚</p>
<h3 data-id="heading-1">é”™è¯¯åšæ³•ï¼šå„è‡ªä¸ºæ”¿</h3>
<pre><code class="hljs language-ini" lang="ini">//Â é”™è¯¯ç¤ºèŒƒï¼šä¸¤ä¸ªç»„ä»¶å„è‡ªç®¡ç†è‡ªå·±çš„çŠ¶æ€
functionÂ CelsiusInput()Â {
Â Â constÂ <span class="hljs-section">[celsius,Â setCelsius]</span>Â =Â useState('')<span class="hljs-comment">;</span>
Â Â 
Â Â returnÂ (
Â Â Â Â &lt;input
Â Â Â Â Â Â <span class="hljs-attr">value</span>={celsius}
Â Â Â Â Â Â <span class="hljs-attr">onChange</span>={(e)Â =&gt;Â setCelsius(e.target.value)}
Â Â Â Â Â Â <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"æ‘„æ°æ¸©åº¦"</span>
Â Â Â Â /&gt;
Â Â )<span class="hljs-comment">;</span>
}

functionÂ FahrenheitInput()Â {
Â Â constÂ <span class="hljs-section">[fahrenheit,Â setFahrenheit]</span>Â =Â useState('')<span class="hljs-comment">;</span>
Â Â 
Â Â returnÂ (
Â Â Â Â &lt;input
Â Â Â Â Â Â <span class="hljs-attr">value</span>={fahrenheit}
Â Â Â Â Â Â <span class="hljs-attr">onChange</span>={(e)Â =&gt;Â setFahrenheit(e.target.value)}
Â Â Â Â Â Â <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"åæ°æ¸©åº¦"</span>
Â Â Â Â /&gt;
Â Â )<span class="hljs-comment">;</span>
}
</code></pre>
<p>è¿™æ ·å†™ï¼Œä¸¤ä¸ªè¾“å…¥æ¡†ä¹‹é—´<strong>å®Œå…¨æ— æ³•é€šä¿¡</strong>ï¼æ”¹äº†ä¸€ä¸ªï¼Œå¦ä¸€ä¸ªæ ¹æœ¬ä¸çŸ¥é“ã€‚</p>
<h3 data-id="heading-2">æ­£ç¡®åšæ³•ï¼šçŠ¶æ€æå‡</h3>
<pre><code class="hljs language-ini" lang="ini">//Â æ­£ç¡®åšæ³•ï¼šçŠ¶æ€æå‡åˆ°çˆ¶ç»„ä»¶
functionÂ TemperatureConverter()Â {
Â Â //Â çŠ¶æ€æå‡åˆ°è¿™é‡Œï¼
Â Â constÂ <span class="hljs-section">[temperature,Â setTemperature]</span>Â =Â useState('')<span class="hljs-comment">;</span>
Â Â constÂ <span class="hljs-section">[scale,Â setScale]</span>Â =Â useState('c')<span class="hljs-comment">;</span>
Â Â 
Â Â //Â è½¬æ¢å‡½æ•°
Â Â constÂ <span class="hljs-attr">celsius</span>Â =Â scaleÂ ===Â <span class="hljs-string">'f'</span>Â ?Â tryConvert(temperature,Â toCelsius)Â :Â temperature<span class="hljs-comment">;</span>
Â Â constÂ <span class="hljs-attr">fahrenheit</span>Â =Â scaleÂ ===Â <span class="hljs-string">'c'</span>Â ?Â tryConvert(temperature,Â toFahrenheit)Â :Â temperature<span class="hljs-comment">;</span>
Â Â 
Â Â returnÂ (
Â Â Â Â &lt;div&gt;
Â Â Â Â Â Â &lt;CelsiusInput
Â Â Â Â Â Â Â Â <span class="hljs-attr">temperature</span>={celsius}
Â Â Â Â Â Â Â Â <span class="hljs-attr">onTemperatureChange</span>={(value)Â =&gt;Â {
Â Â Â Â Â Â Â Â Â Â setTemperature(value)<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â setScale('c')<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â }}
Â Â Â Â Â Â /&gt;
Â Â Â Â Â Â &lt;FahrenheitInput
Â Â Â Â Â Â Â Â <span class="hljs-attr">temperature</span>={fahrenheit}
Â Â Â Â Â Â Â Â <span class="hljs-attr">onTemperatureChange</span>={(value)Â =&gt;Â {
Â Â Â Â Â Â Â Â Â Â setTemperature(value)<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â setScale('f')<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â }}
Â Â Â Â Â Â /&gt;
Â Â Â Â &lt;/div&gt;
Â Â )<span class="hljs-comment">;</span>
}

//Â å­ç»„ä»¶å˜å¾—éå¸¸ç®€å•
functionÂ CelsiusInput({Â temperature,Â onTemperatureChangeÂ })Â {
Â Â returnÂ (
Â Â Â Â &lt;input
Â Â Â Â Â Â <span class="hljs-attr">value</span>={temperature}
Â Â Â Â Â Â <span class="hljs-attr">onChange</span>={(e)Â =&gt;Â <span class="hljs-literal">on</span>TemperatureChange(e.target.value)}
Â Â Â Â Â Â <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"æ‘„æ°æ¸©åº¦"</span>
Â Â Â Â /&gt;
Â Â )<span class="hljs-comment">;</span>
}
</code></pre>
<p>çœ‹åˆ°äº†å—ï¼Ÿé€šè¿‡å°†çŠ¶æ€æå‡åˆ°çˆ¶ç»„ä»¶ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š</p>
<ol>
<li>1.Â <strong>å•ä¸€æ•°æ®æº</strong>ï¼šæ¸©åº¦æ•°æ®åªæœ‰ä¸€ä¸ªæ¥æº</li>
<li>2.Â <strong>åŒå‘åŒæ­¥</strong>ï¼šä¸€ä¸ªè¾“å…¥æ¡†å˜åŒ–ï¼Œå¦ä¸€ä¸ªè‡ªåŠ¨æ›´æ–°</li>
<li>3.Â <strong>é€»è¾‘é›†ä¸­</strong>ï¼šæ‰€æœ‰è½¬æ¢é€»è¾‘éƒ½åœ¨çˆ¶ç»„ä»¶ä¸­</li>
</ol>
<h2 data-id="heading-3">ä¸ºä»€ä¹ˆçŠ¶æ€æå‡å¦‚æ­¤é‡è¦ï¼Ÿ</h2>
<h3 data-id="heading-4">1. ä¿æŒæ•°æ®åŒæ­¥</h3>
<p>å½“å¤šä¸ªç»„ä»¶éœ€è¦åæ˜ ç›¸åŒçš„å˜åŒ–æ—¶ï¼ŒçŠ¶æ€æå‡ç¡®ä¿å®ƒä»¬éƒ½åŸºäºåŒä¸€æ•°æ®æºã€‚è¿™æ˜¯é¿å…æ•°æ®ä¸ä¸€è‡´çš„æœ€ä½³å®è·µã€‚</p>
<h3 data-id="heading-5">2. ç®€åŒ–ç»„ä»¶</h3>
<p>å­ç»„ä»¶å¯ä»¥ä¿æŒä¸ºâ€œå—æ§ç»„ä»¶â€ï¼Œåªè´Ÿè´£æ¸²æŸ“å’Œäº‹ä»¶è§¦å‘ï¼Œé€»è¾‘å¤„ç†äº¤ç»™çˆ¶ç»„ä»¶ã€‚</p>
<h3 data-id="heading-6">3. ä¾¿äºè°ƒè¯•</h3>
<p>æ•°æ®æµå˜å¾—æ¸…æ™°å¯è¿½è¸ªã€‚ä½ åªéœ€è¦åœ¨ä¸€ä¸ªåœ°æ–¹æ£€æŸ¥çŠ¶æ€ï¼Œè€Œä¸æ˜¯åœ¨å¤šä¸ªç»„ä»¶ä¸­è·³æ¥è·³å»ã€‚</p>
<h3 data-id="heading-7">4. ä¿ƒè¿›ä»£ç å¤ç”¨</h3>
<p>é€»è¾‘é›†ä¸­çš„çˆ¶ç»„ä»¶å¯ä»¥æ›´å®¹æ˜“åœ°è¢«å¤ç”¨æˆ–é‡æ„ã€‚</p>
<h2 data-id="heading-8">çŠ¶æ€æå‡çš„äº”å¤§ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-9">åœºæ™¯ä¸€ï¼šè¡¨å•æ§ä»¶ç»„</h3>
<p>è¡¨å•ä¸­å¤šä¸ªè¾“å…¥å­—æ®µéœ€è¦ç›¸äº’å½±å“æˆ–è”åˆéªŒè¯ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span>Â <span class="hljs-title function_">RegistrationForm</span>(<span class="hljs-params"/>)Â {
Â Â <span class="hljs-keyword">const</span>Â [formData,Â setFormData]Â =Â <span class="hljs-title function_">useState</span>({
Â Â Â Â <span class="hljs-attr">username</span>:Â <span class="hljs-string">''</span>,
Â Â Â Â <span class="hljs-attr">email</span>:Â <span class="hljs-string">''</span>,
Â Â Â Â <span class="hljs-attr">password</span>:Â <span class="hljs-string">''</span>,
Â Â Â Â <span class="hljs-attr">confirmPassword</span>:Â <span class="hljs-string">''</span>
Â Â });
Â Â 
Â Â <span class="hljs-comment">//Â å¯†ç ä¸€è‡´æ€§æ£€æŸ¥</span>
Â Â <span class="hljs-keyword">const</span>Â passwordsMatchÂ =Â formData.<span class="hljs-property">password</span>Â ===Â formData.<span class="hljs-property">confirmPassword</span>;
Â Â 
Â Â <span class="hljs-keyword">return</span>Â (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>Â <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.username}</span>Â <span class="hljs-attr">onChange</span>=<span class="hljs-string">{/*</span>Â <span class="hljs-attr">...</span>Â */}Â /&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>Â <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.email}</span>Â <span class="hljs-attr">onChange</span>=<span class="hljs-string">{/*</span>Â <span class="hljs-attr">...</span>Â */}Â /&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>Â <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.password}</span>Â <span class="hljs-attr">onChange</span>=<span class="hljs-string">{/*</span>Â <span class="hljs-attr">...</span>Â */}Â /&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>Â <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.confirmPassword}</span>Â <span class="hljs-attr">onChange</span>=<span class="hljs-string">{/*</span>Â <span class="hljs-attr">...</span>Â */}Â /&gt;</span>
Â Â Â Â Â Â {!passwordsMatchÂ &amp;&amp;Â <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>å¯†ç ä¸åŒ¹é…ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>}
Â Â Â Â <span class="hljs-tag">&lt;/&gt;</span></span>
Â Â );
}
</code></pre>
<h3 data-id="heading-10">åœºæ™¯äºŒï¼šæ•°æ®ç­›é€‰å’Œæœç´¢</h3>
<p>åˆ—è¡¨ç»„ä»¶å’Œç­›é€‰å™¨ç»„ä»¶éœ€è¦ç´§å¯†åä½œã€‚</p>
<pre><code class="hljs language-ini" lang="ini">functionÂ ProductPage()Â {
Â Â constÂ <span class="hljs-section">[products]</span>Â =Â useState(<span class="hljs-section">[/*Â äº§å“åˆ—è¡¨Â */]</span>)<span class="hljs-comment">;</span>
Â Â constÂ <span class="hljs-section">[filter,Â setFilter]</span>Â =Â useState({
Â Â Â Â category:Â 'all',
Â Â Â Â priceRange:Â <span class="hljs-section">[0,Â 1000]</span>,
Â Â Â Â inStockOnly:Â false
Â Â })<span class="hljs-comment">;</span>
Â Â 
Â Â //Â ç­›é€‰é€»è¾‘é›†ä¸­åœ¨çˆ¶ç»„ä»¶
Â Â constÂ <span class="hljs-attr">filteredProducts</span>Â =Â products.filter(productÂ =&gt;Â {
Â Â Â Â returnÂ (
Â Â Â Â Â Â (<span class="hljs-attr">filter.category</span>Â ===Â <span class="hljs-string">'all'</span>Â ||Â product.categoryÂ ===Â filter.category)Â &amp;&amp;
Â Â Â Â Â Â product.priceÂ &gt;=Â filter.priceRange<span class="hljs-section">[0]</span>Â &amp;&amp;
Â Â Â Â Â Â product.priceÂ &lt;=Â filter.priceRange<span class="hljs-section">[1]</span>Â &amp;&amp;
Â Â Â Â Â Â (!filter.inStockOnlyÂ ||Â product.inStock)
Â Â Â Â )<span class="hljs-comment">;</span>
Â Â })<span class="hljs-comment">;</span>
Â Â 
Â Â returnÂ (
Â Â Â Â &lt;&gt;
Â Â Â Â Â Â &lt;FilterControlsÂ <span class="hljs-attr">filter</span>={filter}Â <span class="hljs-literal">on</span>FilterChange={setFilter}Â /&gt;
Â Â Â Â Â Â &lt;ProductListÂ <span class="hljs-attr">products</span>={filteredProducts}Â /&gt;
Â Â Â Â &lt;/&gt;
Â Â )<span class="hljs-comment">;</span>
}
</code></pre>
<h3 data-id="heading-11">åœºæ™¯ä¸‰ï¼šå¤šæ­¥éª¤å‘å¯¼</h3>
<p>å¤šä¸ªæ­¥éª¤å…±äº«è¡¨å•æ•°æ®ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">functionÂ <span class="hljs-built_in">SignupWizard</span>()Â {
Â Â constÂ <span class="hljs-selector-attr">[userData,Â setUserData]</span>Â =Â <span class="hljs-built_in">useState</span>({
Â Â Â Â personalInfo:Â {},
Â Â Â Â preferences:Â {},
Â Â Â Â paymentInfo:Â {}
Â Â });
Â Â 
Â Â constÂ <span class="hljs-selector-attr">[currentStep,Â setCurrentStep]</span>Â =Â <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>);
Â Â 
Â Â returnÂ (
Â Â Â Â &lt;div&gt;
Â Â Â Â Â Â {currentStepÂ ===Â <span class="hljs-number">0</span>Â &amp;&amp;Â (
Â Â Â Â Â Â Â Â &lt;PersonalInfoStep
Â Â Â Â Â Â Â Â Â Â data={userData.personalInfo}
Â Â Â Â Â Â Â Â Â Â onChange={(info)Â =&gt;Â <span class="hljs-built_in">setUserData</span>({...userData,Â personalInfo:Â info})}
Â Â Â Â Â Â Â Â Â Â onNext={()Â =&gt;Â <span class="hljs-built_in">setCurrentStep</span>(<span class="hljs-number">1</span>)}
Â Â Â Â Â Â Â Â /&gt;
Â Â Â Â Â Â )}
Â Â Â Â Â Â {currentStepÂ ===Â <span class="hljs-number">1</span>Â &amp;&amp;Â (
Â Â Â Â Â Â Â Â &lt;PreferencesStep
Â Â Â Â Â Â Â Â Â Â data={userData.preferences}
Â Â Â Â Â Â Â Â Â Â onChange={(prefs)Â =&gt;Â <span class="hljs-built_in">setUserData</span>({...userData,Â preferences:Â prefs})}
Â Â Â Â Â Â Â Â Â Â onBack={()Â =&gt;Â <span class="hljs-built_in">setCurrentStep</span>(<span class="hljs-number">0</span>)}
Â Â Â Â Â Â Â Â Â Â onNext={()Â =&gt;Â <span class="hljs-built_in">setCurrentStep</span>(<span class="hljs-number">2</span>)}
Â Â Â Â Â Â Â Â /&gt;
Â Â Â Â Â Â )}
Â Â Â Â Â Â {<span class="hljs-comment">/*Â æ›´å¤šæ­¥éª¤Â */</span>}
Â Â Â Â &lt;/<span class="hljs-selector-tag">div</span>&gt;
Â Â );
}
</code></pre>
<h3 data-id="heading-12">åœºæ™¯å››ï¼šå®æ—¶åä½œåŠŸèƒ½</h3>
<p>å¤šä¸ªç”¨æˆ·ç•Œé¢å…ƒç´ éœ€è¦å®æ—¶åŒæ­¥ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">functionÂ CollaborativeWhiteboard()Â {
Â Â constÂ <span class="hljs-section">[drawingData,Â setDrawingData]</span>Â =Â useState({
Â Â Â Â elements:Â <span class="hljs-section">[]</span>,
Â Â Â Â selectedTool:Â 'pen',
Â Â Â Â color:Â '<span class="hljs-comment">#000000',</span>
Â Â Â Â users:Â <span class="hljs-section">[]</span>
Â Â })<span class="hljs-comment">;</span>
Â Â 
Â Â //Â é€šè¿‡WebSocketåŒæ­¥æ•°æ®
Â Â useEffect(()Â =&gt;Â {
Â Â Â Â socket.on('drawing-update',Â (data)Â =&gt;Â {
Â Â Â Â Â Â setDrawingData(data)<span class="hljs-comment">;</span>
Â Â Â Â })<span class="hljs-comment">;</span>
Â Â },Â <span class="hljs-section">[]</span>)<span class="hljs-comment">;</span>
Â Â 
Â Â returnÂ (
Â Â Â Â &lt;&gt;
Â Â Â Â Â Â &lt;Toolbar
Â Â Â Â Â Â Â Â <span class="hljs-attr">selectedTool</span>={drawingData.selectedTool}
Â Â Â Â Â Â Â Â <span class="hljs-attr">color</span>={drawingData.color}
Â Â Â Â Â Â Â Â <span class="hljs-attr">onToolChange</span>={(tool)Â =&gt;Â setDrawingData({...drawingData,Â selectedTool:Â tool})}
Â Â Â Â Â Â /&gt;
Â Â Â Â Â Â &lt;Canvas
Â Â Â Â Â Â Â Â <span class="hljs-attr">elements</span>={drawingData.elements}
Â Â Â Â Â Â Â Â <span class="hljs-attr">onDraw</span>={(element)Â =&gt;Â {
Â Â Â Â Â Â Â Â Â Â constÂ <span class="hljs-attr">newElements</span>Â =Â [...drawingData.elements,Â element]<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â setDrawingData({...drawingData,Â elements:Â newElements})<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â socket.emit('draw',Â newElements)<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â }}
Â Â Â Â Â Â /&gt;
Â Â Â Â Â Â &lt;UserListÂ <span class="hljs-attr">users</span>={drawingData.users}Â /&gt;
Â Â Â Â &lt;/&gt;
Â Â )<span class="hljs-comment">;</span>
}
</code></pre>
<h3 data-id="heading-13">åœºæ™¯äº”ï¼šè´­ç‰©è½¦å’Œç”µå•†åŠŸèƒ½</h3>
<p>è´­ç‰©è½¦çŠ¶æ€éœ€è¦åœ¨å¤šä¸ªç»„ä»¶é—´å…±äº«ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">functionÂ ECommerceApp()Â {
Â Â constÂ <span class="hljs-section">[cart,Â setCart]</span>Â =Â useState(<span class="hljs-section">[]</span>)<span class="hljs-comment">;</span>
Â Â constÂ <span class="hljs-section">[cartTotal,Â setCartTotal]</span>Â =Â useState(0)<span class="hljs-comment">;</span>
Â Â 
Â Â //Â è®¡ç®—æ€»ä»·
Â Â useEffect(()Â =&gt;Â {
Â Â Â Â constÂ <span class="hljs-attr">total</span>Â =Â cart.reduce((sum,Â item)Â =&gt;Â sumÂ +Â item.priceÂ *Â item.quantity,Â <span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
Â Â Â Â setCartTotal(total)<span class="hljs-comment">;</span>
Â Â },Â <span class="hljs-section">[cart]</span>)<span class="hljs-comment">;</span>
Â Â 
Â Â constÂ <span class="hljs-attr">addToCart</span>Â =Â (product)Â =&gt;Â {
Â Â Â Â setCart(<span class="hljs-section">[...cart,Â {...product,Â quantity:Â 1}]</span>)<span class="hljs-comment">;</span>
Â Â }<span class="hljs-comment">;</span>
Â Â 
Â Â constÂ <span class="hljs-attr">updateQuantity</span>Â =Â (productId,Â quantity)Â =&gt;Â {
Â Â Â Â setCart(cart.map(<span class="hljs-attr">item</span>Â =&gt;Â 
Â Â Â Â Â Â <span class="hljs-attr">item.id</span>Â ===Â productIdÂ ?Â {...item,Â quantity}Â :Â item
Â Â Â Â ))<span class="hljs-comment">;</span>
Â Â }<span class="hljs-comment">;</span>
Â Â 
Â Â returnÂ (
Â Â Â Â &lt;&gt;
Â Â Â Â Â Â &lt;ProductListÂ <span class="hljs-attr">onAddToCart</span>={addToCart}Â /&gt;
Â Â Â Â Â Â &lt;CartSummaryÂ <span class="hljs-attr">cart</span>={cart}Â total={cartTotal}Â /&gt;
Â Â Â Â Â Â &lt;CheckoutButtonÂ <span class="hljs-attr">cart</span>={cart}Â total={cartTotal}Â /&gt;
Â Â Â Â &lt;/&gt;
Â Â )<span class="hljs-comment">;</span>
}
</code></pre>
<h2 data-id="heading-14">çŠ¶æ€æå‡çš„æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-15">1. æ‰¾åˆ°åˆé€‚çš„æå‡å±‚çº§</h3>
<p>ä¸è¦ç›²ç›®æå‡åˆ°æœ€é«˜å±‚çº§çš„ç»„ä»¶ã€‚æå‡åˆ°<strong>æœ€è¿‘çš„å…±åŒç¥–å…ˆ</strong>å³å¯ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â å¦‚æœåªæœ‰ComponentAå’ŒComponentBéœ€è¦å…±äº«çŠ¶æ€</span>
<span class="hljs-comment">//Â æå‡åˆ°å®ƒä»¬çš„çˆ¶ç»„ä»¶ï¼Œè€Œä¸æ˜¯Appç»„ä»¶</span>
<span class="hljs-keyword">function</span>Â <span class="hljs-title function_">ParentComponent</span>(<span class="hljs-params"/>)Â {
Â Â <span class="hljs-keyword">const</span>Â [sharedState,Â setSharedState]Â =Â <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);
Â Â 
Â Â <span class="hljs-keyword">return</span>Â (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">ComponentA</span>Â <span class="hljs-attr">state</span>=<span class="hljs-string">{sharedState}</span>Â <span class="hljs-attr">setState</span>=<span class="hljs-string">{setSharedState}</span>Â /&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">ComponentB</span>Â <span class="hljs-attr">state</span>=<span class="hljs-string">{sharedState}</span>Â <span class="hljs-attr">setState</span>=<span class="hljs-string">{setSharedState}</span>Â /&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/&gt;</span></span>
Â Â );
}
</code></pre>
<h3 data-id="heading-16">2. ä½¿ç”¨è‡ªå®šä¹‰Hookç®€åŒ–å¤æ‚çŠ¶æ€</h3>
<p>å½“æå‡çš„çŠ¶æ€å˜å¾—å¤æ‚æ—¶ï¼Œè€ƒè™‘ä½¿ç”¨è‡ªå®šä¹‰Hookã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â è‡ªå®šä¹‰Hookå¤„ç†å¤æ‚çŠ¶æ€é€»è¾‘</span>
<span class="hljs-keyword">function</span>Â <span class="hljs-title function_">useForm</span>(<span class="hljs-params">initialValues</span>)Â {
Â Â <span class="hljs-keyword">const</span>Â [values,Â setValues]Â =Â <span class="hljs-title function_">useState</span>(initialValues);
Â Â 
Â Â <span class="hljs-keyword">const</span>Â <span class="hljs-title function_">handleChange</span>Â =Â (<span class="hljs-params">name,Â value</span>)Â =&gt;Â {
Â Â Â Â <span class="hljs-title function_">setValues</span>({...values,Â [name]:Â value});
Â Â };
Â Â 
Â Â <span class="hljs-keyword">const</span>Â <span class="hljs-title function_">resetForm</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â {
Â Â Â Â <span class="hljs-title function_">setValues</span>(initialValues);
Â Â };
Â Â 
Â Â <span class="hljs-keyword">return</span>Â {Â values,Â handleChange,Â resetFormÂ };
}

<span class="hljs-comment">//Â åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">function</span>Â <span class="hljs-title function_">MyForm</span>(<span class="hljs-params"/>)Â {
Â Â <span class="hljs-keyword">const</span>Â {Â values,Â handleChangeÂ }Â =Â <span class="hljs-title function_">useForm</span>({
Â Â Â Â <span class="hljs-attr">username</span>:Â <span class="hljs-string">''</span>,
Â Â Â Â <span class="hljs-attr">email</span>:Â <span class="hljs-string">''</span>,
Â Â Â Â <span class="hljs-attr">password</span>:Â <span class="hljs-string">''</span>
Â Â });
Â Â 
Â Â <span class="hljs-keyword">return</span>Â (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">value</span>=<span class="hljs-string">{values.username}</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span>Â =&gt;</span>Â handleChange('username',Â e.target.value)}
Â Â Â Â Â Â /&gt;
Â Â Â Â Â Â {/*Â æ›´å¤šå­—æ®µÂ */}
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
Â Â );
}
</code></pre>
<h3 data-id="heading-17">3. é¿å…è¿‡åº¦æå‡</h3>
<p>ä¸æ˜¯æ‰€æœ‰çŠ¶æ€éƒ½éœ€è¦æå‡ã€‚å¦‚æœçŠ¶æ€åªåœ¨ä¸€ä¸ªç»„ä»¶å†…éƒ¨ä½¿ç”¨ï¼Œå°±è®©å®ƒç•™åœ¨é‚£é‡Œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â ä¸éœ€è¦æå‡çš„ä¾‹å­</span>
<span class="hljs-keyword">function</span>Â <span class="hljs-title function_">DropdownMenu</span>(<span class="hljs-params"/>)Â {
Â Â <span class="hljs-comment">//Â è¿™ä¸ªçŠ¶æ€ä¸éœ€è¦æå‡ï¼Œåªåœ¨å½“å‰ç»„ä»¶ä½¿ç”¨</span>
Â Â <span class="hljs-keyword">const</span>Â [isOpen,Â setIsOpen]Â =Â <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
Â Â 
Â Â <span class="hljs-keyword">return</span>Â (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span>Â <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span>Â =&gt;</span>Â setIsOpen(!isOpen)}&gt;èœå•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â Â Â Â Â {isOpenÂ &amp;&amp;Â (
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>Â <span class="hljs-attr">className</span>=<span class="hljs-string">"dropdown"</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â {/*Â èœå•å†…å®¹Â */}
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â Â Â )}
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â Â );
}
</code></pre>
<h2 data-id="heading-18">å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-19">é™·é˜±ä¸€ï¼šProps drillingï¼ˆå±æ€§é’»å–ï¼‰</h3>
<p>å½“çŠ¶æ€æå‡è¿‡å¤šå±‚çº§æ—¶ï¼Œä¼šå¯¼è‡´ä¸­é—´ç»„ä»¶ä¼ é€’å®ƒä»¬ä¸å…³å¿ƒçš„propsã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨Context API</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â åˆ›å»ºContext</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title class_">UserContext</span>Â =Â <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createContext</span>();

<span class="hljs-comment">//Â åœ¨é¡¶å±‚æä¾›å€¼</span>
<span class="hljs-keyword">function</span>Â <span class="hljs-title function_">App</span>(<span class="hljs-params"/>)Â {
Â Â <span class="hljs-keyword">const</span>Â [user,Â setUser]Â =Â <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);
Â Â 
Â Â <span class="hljs-keyword">return</span>Â (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserContext.Provider</span>Â <span class="hljs-attr">value</span>=<span class="hljs-string">{{</span>Â <span class="hljs-attr">user</span>,Â <span class="hljs-attr">setUser</span>Â }}&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">Header</span>Â /&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">MainContent</span>Â /&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span>Â /&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">UserContext.Provider</span>&gt;</span></span>
Â Â );
}

<span class="hljs-comment">//Â åœ¨æ·±å±‚å­ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨</span>
<span class="hljs-keyword">function</span>Â <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params"/>)Â {
Â Â <span class="hljs-keyword">const</span>Â {Â userÂ }Â =Â <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">UserContext</span>);
Â Â <span class="hljs-keyword">return</span>Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{user?.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h3 data-id="heading-20">é™·é˜±äºŒï¼šè¿‡åº¦æ¸²æŸ“</h3>
<p>çŠ¶æ€æå‡å¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨React.memoå’ŒuseCallback</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â ä½¿ç”¨React.memoé˜²æ­¢ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title class_">ExpensiveComponent</span>Â =Â <span class="hljs-title class_">React</span>.<span class="hljs-title function_">memo</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">{Â dataÂ }</span>)Â {
Â Â <span class="hljs-comment">//Â å¤æ‚æ¸²æŸ“é€»è¾‘</span>
Â Â <span class="hljs-keyword">return</span>Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{/*Â æ¸²æŸ“å†…å®¹Â */}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
});

<span class="hljs-comment">//Â ä½¿ç”¨useCallbackä¿æŒå‡½æ•°å¼•ç”¨ç¨³å®š</span>
<span class="hljs-keyword">function</span>Â <span class="hljs-title function_">ParentComponent</span>(<span class="hljs-params"/>)Â {
Â Â <span class="hljs-keyword">const</span>Â [state,Â setState]Â =Â <span class="hljs-title function_">useState</span>({});
Â Â 
Â Â <span class="hljs-keyword">const</span>Â handleChangeÂ =Â <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">newValue</span>)Â =&gt;</span>Â {
Â Â Â Â <span class="hljs-title function_">setState</span>(newValue);
Â Â },Â []);
Â Â 
Â Â <span class="hljs-keyword">return</span>Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span>Â <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleChange}</span>Â /&gt;</span></span>;
}
</code></pre>
<h2 data-id="heading-21">æ€»ç»“</h2>
<p>çŠ¶æ€æå‡æ˜¯Reactå¼€å‘ä¸­çš„<strong>åŸºçŸ³æ¦‚å¿µ</strong>ï¼Œå®ƒè§£å†³äº†ç»„ä»¶é—´æ•°æ®å…±äº«å’ŒåŒæ­¥çš„æ ¸å¿ƒé—®é¢˜ã€‚æŒæ¡çŠ¶æ€æå‡ï¼Œæ„å‘³ç€ä½ ï¼š</p>
<ol>
<li>1.Â <strong>ç†è§£äº†Reactçš„å•å‘æ•°æ®æµå“²å­¦</strong></li>
<li>2.Â <strong>èƒ½å¤Ÿè®¾è®¡å‡ºå¯ç»´æŠ¤çš„ç»„ä»¶æ¶æ„</strong></li>
<li>3.Â <strong>é¿å…äº†ç»„ä»¶é—´æ•°æ®ä¸ä¸€è‡´çš„å™©æ¢¦</strong></li>
<li>4.Â <strong>ä¸ºåç»­å­¦ä¹ Reduxã€MobXç­‰çŠ¶æ€ç®¡ç†åº“æ‰“ä¸‹åšå®åŸºç¡€</strong></li>
</ol>
<p>è®°ä½è¿™ä¸ªç®€å•çš„åŸåˆ™ï¼š<strong>å½“å¤šä¸ªç»„ä»¶éœ€è¦åæ˜ ç›¸åŒçš„å˜åŒ–æ—¶ï¼Œå°†å…±äº«çš„çŠ¶æ€æå‡åˆ°å®ƒä»¬æœ€è¿‘çš„å…±åŒç¥–å…ˆä¸­ã€‚</strong></p>
<p>å®è·µå‡ºçœŸçŸ¥ã€‚åœ¨ä½ çš„ä¸‹ä¸€ä¸ªReacté¡¹ç›®ä¸­ï¼Œæœ‰æ„è¯†åœ°åº”ç”¨çŠ¶æ€æå‡æ¨¡å¼ï¼Œä½ ä¼šå‘ç°ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯é¢„æµ‹æ€§æ˜¾è‘—æå‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3æ’æ§½çš„æœ¬è´¨]]></title>    <link>https://juejin.cn/post/7584298069610381312</link>    <guid>https://juejin.cn/post/7584298069610381312</guid>    <pubDate>2025-12-17T00:35:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584298069610381312" data-draft-id="7584297353420095488" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3æ’æ§½çš„æœ¬è´¨"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-17T00:35:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾®èŠ’ä¸æœ½"/> <meta itemprop="url" content="https://juejin.cn/user/3702810894153592"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3æ’æ§½çš„æœ¬è´¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3702810894153592/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾®èŠ’ä¸æœ½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:35:56.000Z" title="Wed Dec 17 2025 00:35:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>æ’æ§½ï¼ˆSlotsï¼‰æ˜¯ Vue ç»„ä»¶ç³»ç»Ÿä¸­ä¸€ä¸ªå¼ºå¤§è€Œçµæ´»çš„ç‰¹æ€§ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨ç»„ä»¶ä¹‹é—´ä¼ é€’æ¨¡æ¿å†…å®¹ã€‚åœ¨ Vue3 ä¸­ï¼Œæ’æ§½æœºåˆ¶å¾—åˆ°äº†è¿›ä¸€æ­¥çš„ä¼˜åŒ–å’Œå®Œå–„ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Vue3 æ’æ§½çš„æœ¬è´¨ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨è¿™ä¸€é‡è¦ç‰¹æ€§ã€‚</p>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯æ’æ§½ï¼Ÿ</h2>
<p>æ’æ§½æœ¬è´¨ä¸Šæ˜¯ä¸€ç§<strong>å†…å®¹åˆ†å‘æœºåˆ¶</strong>ã€‚å®ƒå…è®¸çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’ä»»æ„çš„æ¨¡æ¿ç‰‡æ®µï¼Œè¿™äº›ç‰‡æ®µå¯ä»¥åœ¨å­ç»„ä»¶å†…éƒ¨è¢«æ¸²æŸ“åˆ°æŒ‡å®šçš„ä½ç½®ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- çˆ¶ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;MyButton&gt;
    &lt;span&gt;ç‚¹å‡»æˆ‘&lt;/span&gt;
  &lt;/MyButton&gt;
&lt;/template&gt;

&lt;!-- å­ç»„ä»¶ MyButton.vue --&gt;
&lt;template&gt;
  &lt;button class="my-button"&gt;
    &lt;slot&gt;&lt;/slot&gt; &lt;!-- è¿™é‡Œä¼šæ¸²æŸ“çˆ¶ç»„ä»¶ä¼ é€’çš„å†…å®¹ --&gt;
  &lt;/button&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-2">æ’æ§½çš„åº•å±‚å®ç°åŸç†</h2>
<h3 data-id="heading-3">ç¼–è¯‘æ—¶è½¬æ¢</h3>
<p>Vue çš„ç¼–è¯‘å™¨ä¼šå°†å¸¦æœ‰æ’æ§½çš„æ¨¡æ¿è½¬æ¢ä¸ºå‡½æ•°è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡æ¿ç¼–è¯‘å‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">MyButton</span>, <span class="hljs-literal">null</span>, {
    <span class="hljs-attr">default</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-string">'span'</span>, <span class="hljs-literal">null</span>, <span class="hljs-string">'ç‚¹å‡»æˆ‘'</span>)
  })
}

<span class="hljs-comment">// å­ç»„ä»¶å†…éƒ¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyButton</span>(<span class="hljs-params">props, { slots }</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(<span class="hljs-string">'button'</span>, { <span class="hljs-attr">class</span>: <span class="hljs-string">'my-button'</span> }, slots.<span class="hljs-property">default</span>?.())
}
</code></pre>
<h3 data-id="heading-4">æ’æ§½ä½œä¸ºå‡½æ•°</h3>
<p>åœ¨ Vue3 ä¸­ï¼Œæ’æ§½å®é™…ä¸Šæ˜¯ä¸€ä¸ª<strong>è¿”å› VNode æ•°ç»„çš„å‡½æ•°</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ’æ§½å¯¹è±¡çš„ç»“æ„</span>
<span class="hljs-keyword">const</span> slots = {
  <span class="hljs-attr">default</span>: <span class="hljs-function">() =&gt;</span> [<span class="hljs-comment">/* VNode æ•°ç»„ */</span>],
  <span class="hljs-attr">header</span>: <span class="hljs-function">() =&gt;</span> [<span class="hljs-comment">/* VNode æ•°ç»„ */</span>],
  <span class="hljs-attr">footer</span>: <span class="hljs-function">() =&gt;</span> [<span class="hljs-comment">/* VNode æ•°ç»„ */</span>]
}
</code></pre>
<h2 data-id="heading-5">ä¸åŒç±»å‹çš„æ’æ§½</h2>
<h3 data-id="heading-6">1. é»˜è®¤æ’æ§½</h3>
<p>æœ€åŸºç¡€çš„æ’æ§½å½¢å¼ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- å­ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;div class="card"&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;!-- çˆ¶ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;Card&gt;
    &lt;p&gt;è¿™æ˜¯å¡ç‰‡å†…å®¹&lt;/p&gt;
  &lt;/Card&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-7">2. å…·åæ’æ§½</h3>
<p>é€šè¿‡ <code>name</code> å±æ€§åŒºåˆ†ä¸åŒçš„æ’æ§½ä½ç½®ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- å­ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;div class="layout"&gt;
    &lt;header&gt;
      &lt;slot name="header"&gt;&lt;/slot&gt;
    &lt;/header&gt;
    &lt;main&gt;
      &lt;slot&gt;&lt;/slot&gt; &lt;!-- é»˜è®¤æ’æ§½ --&gt;
    &lt;/main&gt;
    &lt;footer&gt;
      &lt;slot name="footer"&gt;&lt;/slot&gt;
    &lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;!-- çˆ¶ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;Layout&gt;
    &lt;template #header&gt;
      &lt;h1&gt;é¡µé¢æ ‡é¢˜&lt;/h1&gt;
    &lt;/template&gt;
  
    &lt;p&gt;ä¸»è¦å†…å®¹&lt;/p&gt;
  
    &lt;template #footer&gt;
      &lt;p&gt;ç‰ˆæƒä¿¡æ¯&lt;/p&gt;
    &lt;/template&gt;
  &lt;/Layout&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-8">3. ä½œç”¨åŸŸæ’æ§½</h3>
<p>å­ç»„ä»¶å¯ä»¥å‘æ’æ§½ä¼ é€’æ•°æ®ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- å­ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;ul&gt;
    &lt;li v-for="item in items" :key="item.id"&gt;
      &lt;slot :item="item" :index="index"&gt;&lt;/slot&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;

&lt;script setup&gt;
const items = [
  { id: 1, name: 'è‹¹æœ' },
  { id: 2, name: 'é¦™è•‰' }
]
&lt;/script&gt;

&lt;!-- çˆ¶ç»„ä»¶ --&gt;
&lt;template&gt;
  &lt;ItemList&gt;
    &lt;template #default="{ item, index }"&gt;
      &lt;span&gt;{{ index + 1 }}. {{ item.name }}&lt;/span&gt;
    &lt;/template&gt;
  &lt;/ItemList&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-9">æ’æ§½çš„é«˜çº§åº”ç”¨</h2>
<h3 data-id="heading-10">åŠ¨æ€æ’æ§½å</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;BaseLayout&gt;
    &lt;template #[slotName]&gt;
      &lt;p&gt;åŠ¨æ€å†…å®¹&lt;/p&gt;
    &lt;/template&gt;
  &lt;/BaseLayout&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'
const slotName = ref('header')
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-11">æ¡ä»¶æ¸²æŸ“æ’æ§½</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;Modal&gt;
    &lt;template #header v-if="showHeader"&gt;
      &lt;h2&gt;æ¨¡æ€æ¡†æ ‡é¢˜&lt;/h2&gt;
    &lt;/template&gt;
  
    &lt;p&gt;æ¨¡æ€æ¡†å†…å®¹&lt;/p&gt;
  
    &lt;template #footer v-if="showFooter"&gt;
      &lt;button @click="close"&gt;å…³é—­&lt;/button&gt;
    &lt;/template&gt;
  &lt;/Modal&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-12">æ’æ§½çš„é»˜è®¤å†…å®¹</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="button-group"&gt;
    &lt;slot&gt;
      &lt;!-- å½“æ²¡æœ‰æä¾›æ’æ§½å†…å®¹æ—¶æ˜¾ç¤ºé»˜è®¤å†…å®¹ --&gt;
      &lt;button&gt;é»˜è®¤æŒ‰é’®&lt;/button&gt;
    &lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-13">æ€§èƒ½è€ƒè™‘</h2>
<h3 data-id="heading-14">æ’æ§½çš„æ‡’æ‰§è¡Œ</h3>
<p>æ’æ§½å‡½æ•°åªæœ‰åœ¨è¢«è°ƒç”¨æ—¶æ‰ä¼šæ‰§è¡Œï¼Œè¿™æä¾›äº†å¾ˆå¥½çš„æ€§èƒ½ä¼˜åŒ–æœºä¼šï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- åªæœ‰å½“ visible ä¸º true æ—¶ï¼Œæ’æ§½å‡½æ•°æ‰ä¼šè¢«æ‰§è¡Œ --&gt;
    &lt;slot v-if="visible"&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
defineProps({
  visible: Boolean
})
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-15">é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“</h3>
<p>åˆç†ä½¿ç”¨ <code>v-memo</code> å’Œ <code>shouldComponentUpdate</code> ç­‰ä¼˜åŒ–æ‰‹æ®µï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;slot :data="memoizedData"&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { computed } from 'vue'

const props = defineProps(['items'])
const memoizedData = computed(() =&gt; {
  // åªæœ‰å½“ items çœŸæ­£æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®—
  return processItems(props.items)
})
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-16">æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-17">1. åˆç†è®¾è®¡æ’æ§½ API</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- å¥½çš„è®¾è®¡ï¼šæ¸…æ™°çš„æ’æ§½å‘½å --&gt;
&lt;template&gt;
  &lt;div class="data-table"&gt;
    &lt;slot name="header"&gt;&lt;/slot&gt;
    &lt;slot name="body" :rows="data"&gt;&lt;/slot&gt;
    &lt;slot name="footer"&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;!-- ä¸å¥½çš„è®¾è®¡ï¼šæ’æ§½èŒè´£ä¸æ¸… --&gt;
&lt;template&gt;
  &lt;div class="data-table"&gt;
    &lt;slot name="content"&gt;&lt;/slot&gt;
    &lt;slot name="extra"&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-18">2. æä¾›åˆç†çš„é»˜è®¤è¡Œä¸º</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;button class="btn" :class="type"&gt;
    &lt;slot&gt;
      &lt;span&gt;{{ defaultText }}&lt;/span&gt;
    &lt;/slot&gt;
  &lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
const props = defineProps({
  type: {
    type: String,
    default: 'primary'
  }
})

const defaultText = computed(() =&gt; {
  const texts = {
    primary: 'ç¡®å®š',
    secondary: 'å–æ¶ˆ',
    danger: 'åˆ é™¤'
  }
  return texts[props.type] || 'æŒ‰é’®'
})
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-19">3. æ–‡æ¡£åŒ–æ’æ§½æ¥å£</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
/**
 * å¡ç‰‡ç»„ä»¶
 * 
 * @slot header - å¡ç‰‡å¤´éƒ¨å†…å®¹
 * @slot default - å¡ç‰‡ä¸»ä½“å†…å®¹
 * @slot footer - å¡ç‰‡åº•éƒ¨å†…å®¹
 * @slot actions - å¡ç‰‡æ“ä½œåŒºåŸŸ
 */
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-20">è°ƒè¯•å’Œå¼€å‘å·¥å…·æ”¯æŒ</h2>
<p>Vue DevTools æä¾›äº†å¯¹æ’æ§½çš„è‰¯å¥½æ”¯æŒï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ï¼š</p>
<ul>
<li>æŸ¥çœ‹ç»„ä»¶çš„æ’æ§½ç»“æ„</li>
<li>æ£€æŸ¥æ’æ§½ä¼ é€’çš„æ•°æ®</li>
<li>è°ƒè¯•æ’æ§½ç›¸å…³çš„æ€§èƒ½é—®é¢˜</li>
</ul>
<h2 data-id="heading-21">æ€»ç»“</h2>
<p>Vue3 çš„æ’æ§½æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å†…å®¹åˆ†å‘æœºåˆ¶ï¼Œå®ƒé€šè¿‡å°†æ’æ§½å†…å®¹ç¼–è¯‘ä¸ºå‡½æ•°æ¥å®ç°çµæ´»æ€§å’Œæ€§èƒ½çš„å¹³è¡¡ã€‚ç†è§£æ’æ§½çš„æœ¬è´¨æœ‰åŠ©äºæˆ‘ä»¬ï¼š</p>
<ol>
<li><strong>æ›´å¥½åœ°è®¾è®¡ç»„ä»¶ API</strong> - æ˜ç¡®å“ªäº›éƒ¨åˆ†åº”è¯¥å¼€æ”¾ç»™ä½¿ç”¨è€…è‡ªå®šä¹‰</li>
<li><strong>ä¼˜åŒ–ç»„ä»¶æ€§èƒ½</strong> - åˆ©ç”¨æ’æ§½çš„æ‡’æ‰§è¡Œç‰¹æ€§</li>
<li><strong>åˆ›å»ºæ›´çµæ´»çš„ç»„ä»¶</strong> - é€šè¿‡ä½œç”¨åŸŸæ’æ§½ä¼ é€’æ•°æ®ï¼Œå¢å¼ºç»„ä»¶çš„å¯å¤ç”¨æ€§</li>
</ol>
<p>æŒæ¡æ’æ§½çš„æœ¬è´¨ä¸ä»…èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´å¥½çš„ Vue ä»£ç ï¼Œè¿˜èƒ½è®©æˆ‘ä»¬åœ¨é‡åˆ°å¤æ‚åœºæ™¯æ—¶æ‰¾åˆ°æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ’æ§½ç±»å‹ï¼Œå¹¶éµå¾ªæœ€ä½³å®è·µæ¥ç¡®ä¿ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ€§èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hello Worldï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ªTypeScriptä»£ç ]]></title>    <link>https://juejin.cn/post/7584320417307476019</link>    <guid>https://juejin.cn/post/7584320417307476019</guid>    <pubDate>2025-12-17T01:30:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584320417307476019" data-draft-id="7584320417307426867" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hello Worldï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ªTypeScriptä»£ç "/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-17T01:30:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸¸é“­"/> <meta itemprop="url" content="https://juejin.cn/user/3826757754684648"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hello Worldï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ªTypeScriptä»£ç 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3826757754684648/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸¸é“­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T01:30:03.000Z" title="Wed Dec 17 2025 01:30:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ VS Code ä¸­åˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ª TypeScript çš„ â€œHello Worldâ€ ç¨‹åºï¼Œä¸»è¦åˆ†ä¸ºå®‰è£…ç¯å¢ƒã€åˆ›å»ºæ–‡ä»¶å’Œè¿è¡Œä»£ç ä¸‰ä¸ªæ­¥éª¤ã€‚ä¸‹é¢æ˜¯ä¸ºä½ æ¢³ç†çš„å…·ä½“æ“ä½œæµç¨‹ã€‚</p>
<h3 data-id="heading-0"><strong>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å·¥ä½œï¼ˆå®‰è£…å¿…è¦ç¯å¢ƒï¼‰</strong></h3>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„ç”µè„‘ä¸Šå·²å®‰è£…å¥½ä»¥ä¸‹ä¸¤ä¸ªåŸºç¡€å·¥å…·ï¼š</p>
<ol>
<li>
<p><strong>Node.js</strong>ï¼šè¿™æ˜¯è¿è¡Œ JavaScript å’Œå®‰è£…åŒ…ç®¡ç†å·¥å…·Â <code>npm</code>Â çš„åŸºç¡€ã€‚è¯·å‰å¾€Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2F" target="_blank" title="https://nodejs.org/" ref="nofollow noopener noreferrer">Node.js å®˜ç½‘</a>Â ä¸‹è½½å¹¶å®‰è£… LTSï¼ˆé•¿æœŸæ”¯æŒï¼‰ç‰ˆæœ¬ã€‚</p>
</li>
<li>
<p><strong>TypeScript ç¼–è¯‘å™¨</strong>ï¼šæ‰“å¼€ç³»ç»Ÿçš„ç»ˆç«¯ï¼ˆæˆ– VS Code çš„å†…ç½®ç»ˆç«¯ï¼‰ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå…¨å±€å®‰è£…<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.baidu.com%2Farticle%2Fdetails%2F2925872" target="_blank" title="https://developer.baidu.com/article/details/2925872" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.baidu.com%2Farticle%2Fdetail.html%3Fid%3D2822946%23%3A~%3Atext%3D%25E5%259C%25A8VSCode%25E4%25B8%25AD%25EF%25BC%258C%25E4%25BD%25A0%25E9%259C%2580%25E8%25A6%2581%25E5%25AE%2589%25E8%25A3%2585TypeScript%25E6%258F%2592%25E4%25BB%25B6%25E6%259D%25A5%25E6%2594%25AF%25E6%258C%2581TypeScript%25E7%259A%2584%25E8%25AF%25AD%25E6%25B3%2595%25E9%25AB%2598%25E4%25BA%25AE%25E3%2580%2581%25E6%2599%25BA%25E8%2583%25BD%25E6%258F%2590%25E7%25A4%25BA%25E5%2592%258C%25E4%25BB%25A3%25E7%25A0%2581%25E8%25A1%25A5%25E5%2585%25A8%25E7%25AD%2589%25E5%258A%259F%25E8%2583%25BD%25E3%2580%2582%2520%25E6%2589%2593%25E5%25BC%2580VSCode%25EF%25BC%258C%25E6%258C%2589%25E4%25B8%258B%2520Ctrl%252BShift%252BX%2C%25EF%25BC%2588Windows%252FLinux%25EF%25BC%2589%25E6%2588%2596%2520Cmd%252BShift%252BX%2520%25EF%25BC%2588Mac%25EF%25BC%2589%25E6%2589%2593%25E5%25BC%2580%25E6%2589%25A9%25E5%25B1%2595%25E9%259D%25A2%25E6%259D%25BF%25EF%25BC%258C%25E6%2590%259C%25E7%25B4%25A2%25E2%2580%259CTypeScript%25E2%2580%259D%25EF%25BC%258C%25E7%2584%25B6%25E5%2590%258E%25E9%2580%2589%25E6%258B%25A9%25E5%25AE%2598%25E6%2596%25B9%25E6%258F%2590%25E4%25BE%259B%25E7%259A%2584%25E6%258F%2592%25E4%25BB%25B6%25E8%25BF%259B%25E8%25A1%258C%25E5%25AE%2589%25E8%25A3%2585%25E3%2580%2582%2520%25E5%259C%25A8VSCode%25E4%25B8%25AD%25EF%25BC%258C%25E4%25BD%25A0%25E5%258F%25AF%25E4%25BB%25A5%25E9%2580%259A%25E8%25BF%2587%25E8%25AE%25BE%25E7%25BD%25AE%25E6%259D%25A5%25E9%2585%258D%25E7%25BD%25AETypeScript%25E7%259A%2584%25E7%25BC%2596%25E8%25AF%2591%25E9%2580%2589%25E9%25A1%25B9%25E3%2580%2582" target="_blank" title="https://developer.baidu.com/article/detail.html?id=2822946#:~:text=%E5%9C%A8VSCode%E4%B8%AD%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E5%AE%89%E8%A3%85TypeScript%E6%8F%92%E4%BB%B6%E6%9D%A5%E6%94%AF%E6%8C%81TypeScript%E7%9A%84%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE%E3%80%81%E6%99%BA%E8%83%BD%E6%8F%90%E7%A4%BA%E5%92%8C%E4%BB%A3%E7%A0%81%E8%A1%A5%E5%85%A8%E7%AD%89%E5%8A%9F%E8%83%BD%E3%80%82%20%E6%89%93%E5%BC%80VSCode%EF%BC%8C%E6%8C%89%E4%B8%8B%20Ctrl%2BShift%2BX,%EF%BC%88Windows%2FLinux%EF%BC%89%E6%88%96%20Cmd%2BShift%2BX%20%EF%BC%88Mac%EF%BC%89%E6%89%93%E5%BC%80%E6%89%A9%E5%B1%95%E9%9D%A2%E6%9D%BF%EF%BC%8C%E6%90%9C%E7%B4%A2%E2%80%9CTypeScript%E2%80%9D%EF%BC%8C%E7%84%B6%E5%90%8E%E9%80%89%E6%8B%A9%E5%AE%98%E6%96%B9%E6%8F%90%E4%BE%9B%E7%9A%84%E6%8F%92%E4%BB%B6%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85%E3%80%82%20%E5%9C%A8VSCode%E4%B8%AD%EF%BC%8C%E4%BD%A0%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%AE%BE%E7%BD%AE%E6%9D%A5%E9%85%8D%E7%BD%AETypeScript%E7%9A%84%E7%BC%96%E8%AF%91%E9%80%89%E9%A1%B9%E3%80%82" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.cn%2Fdeveloper%2Finformation%2F%25e5%25a6%2582%25e4%25bd%2595%25e5%259c%25a8VScode%25e4%25b8%25ad%25e8%25ae%25be%25e7%25bd%25aetypescript%25ef%25bc%259f-salon" target="_blank" title="https://cloud.tencent.cn/developer/information/%e5%a6%82%e4%bd%95%e5%9c%a8VScode%e4%b8%ad%e8%ae%be%e7%bd%aetypescript%ef%bc%9f-salon" ref="nofollow noopener noreferrer"/>ï¼š</p>
<p>bash</p>
<pre><code class="hljs">npm install -g typescript
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡è¾“å…¥Â <code>tsc --version</code>Â æ¥éªŒè¯æ˜¯å¦æˆåŠŸï¼Œå¦‚æœæ˜¾ç¤ºå‡ºç‰ˆæœ¬å·åˆ™è¯´æ˜å®‰è£…æ­£ç¡®<a href="https://link.juejin.cn?target=https%3A%2F%2Fm.yisu.com%2Fjc%2F375511.html" target="_blank" title="https://m.yisu.com/jc/375511.html" ref="nofollow noopener noreferrer"/>ã€‚</p>
</li>
</ol>
<h3 data-id="heading-1"><strong>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºé¡¹ç›®ä¸æ–‡ä»¶</strong></h3>
<ol>
<li>
<p><strong>æ–°å»ºé¡¹ç›®æ–‡ä»¶å¤¹</strong>ï¼šåœ¨ä½ çš„ç”µè„‘ä¸Šåˆ›å»ºä¸€ä¸ªä¸“é—¨ç”¨äºæ­¤é¡¹ç›®çš„æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚Â <code>my_ts_project</code>ã€‚</p>
</li>
<li>
<p><strong>ç”¨ VS Code æ‰“å¼€æ–‡ä»¶å¤¹</strong>ï¼šå¯åŠ¨ VS Codeï¼Œé€šè¿‡èœå•æ çš„Â <code>æ–‡ä»¶</code>Â -&gt;Â <code>æ‰“å¼€æ–‡ä»¶å¤¹...</code>Â é€‰æ‹©ä½ åˆšåˆ›å»ºçš„æ–‡ä»¶å¤¹ã€‚</p>
</li>
<li>
<p><strong>åˆå§‹åŒ– TypeScript é…ç½®</strong>ï¼šåœ¨ VS Code ä¸­ï¼Œä½¿ç”¨å¿«æ·é”®Â <strong>Ctrl + `</strong> ï¼ˆåå¼•å·é”®ï¼‰æ‰“å¼€ç»ˆç«¯ï¼Œç„¶åè¿è¡Œå‘½ä»¤ç”Ÿæˆé…ç½®æ–‡ä»¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.baidu.com%2Farticle%2Fdetails%2F2925872" target="_blank" title="https://developer.baidu.com/article/details/2925872" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.baidu.com%2Farticle%2Fdetails%2F3235433" target="_blank" title="https://developer.baidu.com/article/details/3235433" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.cn%2Fdeveloper%2Farticle%2F2385358" target="_blank" title="https://cloud.tencent.cn/developer/article/2385358" ref="nofollow noopener noreferrer"/>ï¼š</p>
<p>bash</p>
<pre><code class="hljs language-csharp" lang="csharp">tsc --<span class="hljs-keyword">init</span>
</code></pre>
<p>è¿™ä¼šåœ¨ä½ çš„æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªÂ <code>tsconfig.json</code>Â æ–‡ä»¶ï¼Œå®ƒå®šä¹‰äº† TypeScript å¦‚ä½•ç¼–è¯‘ã€‚</p>
</li>
<li>
<p><strong>åˆ›å»ºå¹¶ç¼–å†™Â <code>.ts</code>Â æ–‡ä»¶</strong>ï¼šåœ¨ VS Code å·¦ä¾§çš„èµ„æºç®¡ç†å™¨ä¸­ï¼Œå³é”®ç‚¹å‡»ç©ºç™½å¤„ï¼Œé€‰æ‹©â€œæ–°å»ºæ–‡ä»¶â€ã€‚å°†æ–‡ä»¶å‘½åä¸ºÂ <code>hello.ts</code>ã€‚ç„¶åï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.baidu.com%2Farticle%2Fdetail.html%3Fid%3D2822946%23%3A~%3Atext%3D%25E5%259C%25A8VSCode%25E4%25B8%25AD%25EF%25BC%258C%25E4%25BD%25A0%25E9%259C%2580%25E8%25A6%2581%25E5%25AE%2589%25E8%25A3%2585TypeScript%25E6%258F%2592%25E4%25BB%25B6%25E6%259D%25A5%25E6%2594%25AF%25E6%258C%2581TypeScript%25E7%259A%2584%25E8%25AF%25AD%25E6%25B3%2595%25E9%25AB%2598%25E4%25BA%25AE%25E3%2580%2581%25E6%2599%25BA%25E8%2583%25BD%25E6%258F%2590%25E7%25A4%25BA%25E5%2592%258C%25E4%25BB%25A3%25E7%25A0%2581%25E8%25A1%25A5%25E5%2585%25A8%25E7%25AD%2589%25E5%258A%259F%25E8%2583%25BD%25E3%2580%2582%2520%25E6%2589%2593%25E5%25BC%2580VSCode%25EF%25BC%258C%25E6%258C%2589%25E4%25B8%258B%2520Ctrl%252BShift%252BX%2C%25EF%25BC%2588Windows%252FLinux%25EF%25BC%2589%25E6%2588%2596%2520Cmd%252BShift%252BX%2520%25EF%25BC%2588Mac%25EF%25BC%2589%25E6%2589%2593%25E5%25BC%2580%25E6%2589%25A9%25E5%25B1%2595%25E9%259D%25A2%25E6%259D%25BF%25EF%25BC%258C%25E6%2590%259C%25E7%25B4%25A2%25E2%2580%259CTypeScript%25E2%2580%259D%25EF%25BC%258C%25E7%2584%25B6%25E5%2590%258E%25E9%2580%2589%25E6%258B%25A9%25E5%25AE%2598%25E6%2596%25B9%25E6%258F%2590%25E4%25BE%259B%25E7%259A%2584%25E6%258F%2592%25E4%25BB%25B6%25E8%25BF%259B%25E8%25A1%258C%25E5%25AE%2589%25E8%25A3%2585%25E3%2580%2582%2520%25E5%259C%25A8VSCode%25E4%25B8%25AD%25EF%25BC%258C%25E4%25BD%25A0%25E5%258F%25AF%25E4%25BB%25A5%25E9%2580%259A%25E8%25BF%2587%25E8%25AE%25BE%25E7%25BD%25AE%25E6%259D%25A5%25E9%2585%258D%25E7%25BD%25AETypeScript%25E7%259A%2584%25E7%25BC%2596%25E8%25AF%2591%25E9%2580%2589%25E9%25A1%25B9%25E3%2580%2582" target="_blank" title="https://developer.baidu.com/article/detail.html?id=2822946#:~:text=%E5%9C%A8VSCode%E4%B8%AD%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E5%AE%89%E8%A3%85TypeScript%E6%8F%92%E4%BB%B6%E6%9D%A5%E6%94%AF%E6%8C%81TypeScript%E7%9A%84%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE%E3%80%81%E6%99%BA%E8%83%BD%E6%8F%90%E7%A4%BA%E5%92%8C%E4%BB%A3%E7%A0%81%E8%A1%A5%E5%85%A8%E7%AD%89%E5%8A%9F%E8%83%BD%E3%80%82%20%E6%89%93%E5%BC%80VSCode%EF%BC%8C%E6%8C%89%E4%B8%8B%20Ctrl%2BShift%2BX,%EF%BC%88Windows%2FLinux%EF%BC%89%E6%88%96%20Cmd%2BShift%2BX%20%EF%BC%88Mac%EF%BC%89%E6%89%93%E5%BC%80%E6%89%A9%E5%B1%95%E9%9D%A2%E6%9D%BF%EF%BC%8C%E6%90%9C%E7%B4%A2%E2%80%9CTypeScript%E2%80%9D%EF%BC%8C%E7%84%B6%E5%90%8E%E9%80%89%E6%8B%A9%E5%AE%98%E6%96%B9%E6%8F%90%E4%BE%9B%E7%9A%84%E6%8F%92%E4%BB%B6%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85%E3%80%82%20%E5%9C%A8VSCode%E4%B8%AD%EF%BC%8C%E4%BD%A0%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%AE%BE%E7%BD%AE%E6%9D%A5%E9%85%8D%E7%BD%AETypeScript%E7%9A%84%E7%BC%96%E8%AF%91%E9%80%89%E9%A1%B9%E3%80%82" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=https%3A%2F%2Fxiaoshuo.qq.com%2Fread%2F1035433566%2F26" target="_blank" title="https://xiaoshuo.qq.com/read/1035433566/26" ref="nofollow noopener noreferrer"/>ï¼š</p>
<p>typescript</p>
<pre><code class="hljs language-ini" lang="ini">const greeting: <span class="hljs-attr">string</span> = <span class="hljs-string">'Hello, World!'</span><span class="hljs-comment">;</span>
console.log(greeting)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>æ“ä½œæç¤º</strong>ï¼šå½“ä½ åœ¨Â <code>.ts</code>Â æ–‡ä»¶ä¸­è¾“å…¥ä»£ç æ—¶ï¼ŒVS Code ä¼šè‡ªåŠ¨æä¾›è¯­æ³•é«˜äº®å’Œæ™ºèƒ½æç¤ºï¼Œè¿™æ˜¯å› ä¸ºå®ƒå†…ç½®äº†å¯¹ TypeScript çš„åŸºæœ¬æ”¯æŒã€‚</p>
</li>
</ol>
<h3 data-id="heading-2"><strong>ç¬¬ä¸‰æ­¥ï¼šç¼–è¯‘å¹¶è¿è¡Œä»£ç </strong></h3>
<p>ä½ æœ‰ä¸¤ç§ç®€å•çš„æ–¹æ³•æ¥è¿è¡Œè¿™ä¸ªç¨‹åºï¼š</p>
<h4 data-id="heading-3"><strong>æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨ç¼–è¯‘è¿è¡Œï¼ˆæ¨èåˆå­¦è€…ç†è§£è¿‡ç¨‹ï¼‰</strong></h4>
<p>è¿™æ˜¯æœ€åŸºç¡€çš„æ–¹æ³•ï¼Œèƒ½è®©ä½ æ¸…æ¥šçœ‹åˆ° TypeScript è¢«ç¼–è¯‘æˆ JavaScript çš„è¿‡ç¨‹ã€‚</p>
<ol>
<li>
<p><strong>ç¼–è¯‘</strong>ï¼šåœ¨ç»ˆç«¯ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†Â <code>.ts</code>Â æ–‡ä»¶ç¼–è¯‘ä¸ºÂ <code>.js</code>Â æ–‡ä»¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.baidu.com%2Farticle%2Fdetail.html%3Fid%3D2822946%23%3A~%3Atext%3D%25E5%259C%25A8VSCode%25E4%25B8%25AD%25EF%25BC%258C%25E4%25BD%25A0%25E9%259C%2580%25E8%25A6%2581%25E5%25AE%2589%25E8%25A3%2585TypeScript%25E6%258F%2592%25E4%25BB%25B6%25E6%259D%25A5%25E6%2594%25AF%25E6%258C%2581TypeScript%25E7%259A%2584%25E8%25AF%25AD%25E6%25B3%2595%25E9%25AB%2598%25E4%25BA%25AE%25E3%2580%2581%25E6%2599%25BA%25E8%2583%25BD%25E6%258F%2590%25E7%25A4%25BA%25E5%2592%258C%25E4%25BB%25A3%25E7%25A0%2581%25E8%25A1%25A5%25E5%2585%25A8%25E7%25AD%2589%25E5%258A%259F%25E8%2583%25BD%25E3%2580%2582%2520%25E6%2589%2593%25E5%25BC%2580VSCode%25EF%25BC%258C%25E6%258C%2589%25E4%25B8%258B%2520Ctrl%252BShift%252BX%2C%25EF%25BC%2588Windows%252FLinux%25EF%25BC%2589%25E6%2588%2596%2520Cmd%252BShift%252BX%2520%25EF%25BC%2588Mac%25EF%25BC%2589%25E6%2589%2593%25E5%25BC%2580%25E6%2589%25A9%25E5%25B1%2595%25E9%259D%25A2%25E6%259D%25BF%25EF%25BC%258C%25E6%2590%259C%25E7%25B4%25A2%25E2%2580%259CTypeScript%25E2%2580%259D%25EF%25BC%258C%25E7%2584%25B6%25E5%2590%258E%25E9%2580%2589%25E6%258B%25A9%25E5%25AE%2598%25E6%2596%25B9%25E6%258F%2590%25E4%25BE%259B%25E7%259A%2584%25E6%258F%2592%25E4%25BB%25B6%25E8%25BF%259B%25E8%25A1%258C%25E5%25AE%2589%25E8%25A3%2585%25E3%2580%2582%2520%25E5%259C%25A8VSCode%25E4%25B8%25AD%25EF%25BC%258C%25E4%25BD%25A0%25E5%258F%25AF%25E4%25BB%25A5%25E9%2580%259A%25E8%25BF%2587%25E8%25AE%25BE%25E7%25BD%25AE%25E6%259D%25A5%25E9%2585%258D%25E7%25BD%25AETypeScript%25E7%259A%2584%25E7%25BC%2596%25E8%25AF%2591%25E9%2580%2589%25E9%25A1%25B9%25E3%2580%2582" target="_blank" title="https://developer.baidu.com/article/detail.html?id=2822946#:~:text=%E5%9C%A8VSCode%E4%B8%AD%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E5%AE%89%E8%A3%85TypeScript%E6%8F%92%E4%BB%B6%E6%9D%A5%E6%94%AF%E6%8C%81TypeScript%E7%9A%84%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE%E3%80%81%E6%99%BA%E8%83%BD%E6%8F%90%E7%A4%BA%E5%92%8C%E4%BB%A3%E7%A0%81%E8%A1%A5%E5%85%A8%E7%AD%89%E5%8A%9F%E8%83%BD%E3%80%82%20%E6%89%93%E5%BC%80VSCode%EF%BC%8C%E6%8C%89%E4%B8%8B%20Ctrl%2BShift%2BX,%EF%BC%88Windows%2FLinux%EF%BC%89%E6%88%96%20Cmd%2BShift%2BX%20%EF%BC%88Mac%EF%BC%89%E6%89%93%E5%BC%80%E6%89%A9%E5%B1%95%E9%9D%A2%E6%9D%BF%EF%BC%8C%E6%90%9C%E7%B4%A2%E2%80%9CTypeScript%E2%80%9D%EF%BC%8C%E7%84%B6%E5%90%8E%E9%80%89%E6%8B%A9%E5%AE%98%E6%96%B9%E6%8F%90%E4%BE%9B%E7%9A%84%E6%8F%92%E4%BB%B6%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85%E3%80%82%20%E5%9C%A8VSCode%E4%B8%AD%EF%BC%8C%E4%BD%A0%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%AE%BE%E7%BD%AE%E6%9D%A5%E9%85%8D%E7%BD%AETypeScript%E7%9A%84%E7%BC%96%E8%AF%91%E9%80%89%E9%A1%B9%E3%80%82" ref="nofollow noopener noreferrer"/>ï¼š</p>
<p>bash</p>
<pre><code class="hljs">tsc hello.ts
</code></pre>
<p>æˆåŠŸåï¼Œä½ ä¼šåœ¨æ–‡ä»¶å¤¹ä¸­çœ‹åˆ°ä¸€ä¸ªæ–°ç”Ÿæˆçš„Â <code>hello.js</code>Â æ–‡ä»¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fxiaoshuo.qq.com%2Fread%2F1035433566%2F27%3Fsource%3Dm_jump" target="_blank" title="https://xiaoshuo.qq.com/read/1035433566/27?source=m_jump" ref="nofollow noopener noreferrer"/>ã€‚</p>
</li>
<li>
<p><strong>è¿è¡Œ</strong>ï¼šæ¥ç€ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥æ‰§è¡Œç”Ÿæˆçš„ JavaScript æ–‡ä»¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.baidu.com%2Farticle%2Fdetail.html%3Fid%3D2822946%23%3A~%3Atext%3D%25E5%259C%25A8VSCode%25E4%25B8%25AD%25EF%25BC%258C%25E4%25BD%25A0%25E9%259C%2580%25E8%25A6%2581%25E5%25AE%2589%25E8%25A3%2585TypeScript%25E6%258F%2592%25E4%25BB%25B6%25E6%259D%25A5%25E6%2594%25AF%25E6%258C%2581TypeScript%25E7%259A%2584%25E8%25AF%25AD%25E6%25B3%2595%25E9%25AB%2598%25E4%25BA%25AE%25E3%2580%2581%25E6%2599%25BA%25E8%2583%25BD%25E6%258F%2590%25E7%25A4%25BA%25E5%2592%258C%25E4%25BB%25A3%25E7%25A0%2581%25E8%25A1%25A5%25E5%2585%25A8%25E7%25AD%2589%25E5%258A%259F%25E8%2583%25BD%25E3%2580%2582%2520%25E6%2589%2593%25E5%25BC%2580VSCode%25EF%25BC%258C%25E6%258C%2589%25E4%25B8%258B%2520Ctrl%252BShift%252BX%2C%25EF%25BC%2588Windows%252FLinux%25EF%25BC%2589%25E6%2588%2596%2520Cmd%252BShift%252BX%2520%25EF%25BC%2588Mac%25EF%25BC%2589%25E6%2589%2593%25E5%25BC%2580%25E6%2589%25A9%25E5%25B1%2595%25E9%259D%25A2%25E6%259D%25BF%25EF%25BC%258C%25E6%2590%259C%25E7%25B4%25A2%25E2%2580%259CTypeScript%25E2%2580%259D%25EF%25BC%258C%25E7%2584%25B6%25E5%2590%258E%25E9%2580%2589%25E6%258B%25A9%25E5%25AE%2598%25E6%2596%25B9%25E6%258F%2590%25E4%25BE%259B%25E7%259A%2584%25E6%258F%2592%25E4%25BB%25B6%25E8%25BF%259B%25E8%25A1%258C%25E5%25AE%2589%25E8%25A3%2585%25E3%2580%2582%2520%25E5%259C%25A8VSCode%25E4%25B8%25AD%25EF%25BC%258C%25E4%25BD%25A0%25E5%258F%25AF%25E4%25BB%25A5%25E9%2580%259A%25E8%25BF%2587%25E8%25AE%25BE%25E7%25BD%25AE%25E6%259D%25A5%25E9%2585%258D%25E7%25BD%25AETypeScript%25E7%259A%2584%25E7%25BC%2596%25E8%25AF%2591%25E9%2580%2589%25E9%25A1%25B9%25E3%2580%2582" target="_blank" title="https://developer.baidu.com/article/detail.html?id=2822946#:~:text=%E5%9C%A8VSCode%E4%B8%AD%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E5%AE%89%E8%A3%85TypeScript%E6%8F%92%E4%BB%B6%E6%9D%A5%E6%94%AF%E6%8C%81TypeScript%E7%9A%84%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE%E3%80%81%E6%99%BA%E8%83%BD%E6%8F%90%E7%A4%BA%E5%92%8C%E4%BB%A3%E7%A0%81%E8%A1%A5%E5%85%A8%E7%AD%89%E5%8A%9F%E8%83%BD%E3%80%82%20%E6%89%93%E5%BC%80VSCode%EF%BC%8C%E6%8C%89%E4%B8%8B%20Ctrl%2BShift%2BX,%EF%BC%88Windows%2FLinux%EF%BC%89%E6%88%96%20Cmd%2BShift%2BX%20%EF%BC%88Mac%EF%BC%89%E6%89%93%E5%BC%80%E6%89%A9%E5%B1%95%E9%9D%A2%E6%9D%BF%EF%BC%8C%E6%90%9C%E7%B4%A2%E2%80%9CTypeScript%E2%80%9D%EF%BC%8C%E7%84%B6%E5%90%8E%E9%80%89%E6%8B%A9%E5%AE%98%E6%96%B9%E6%8F%90%E4%BE%9B%E7%9A%84%E6%8F%92%E4%BB%B6%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85%E3%80%82%20%E5%9C%A8VSCode%E4%B8%AD%EF%BC%8C%E4%BD%A0%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%AE%BE%E7%BD%AE%E6%9D%A5%E9%85%8D%E7%BD%AETypeScript%E7%9A%84%E7%BC%96%E8%AF%91%E9%80%89%E9%A1%B9%E3%80%82" ref="nofollow noopener noreferrer"/>ï¼š</p>
<p>bash</p>
<pre><code class="hljs">node hello.js
</code></pre>
<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œç»ˆç«¯å°±ä¼šæ‰“å°å‡ºÂ <strong>Hello, World!</strong> ã€‚</p>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d62d49a8ec746a58545bb586d9c1a4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bi46ZOt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766540487&amp;x-signature=Z39PdrJU7qKyG1ZyNmtfVRPqTqo%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-4"><strong>æ–¹æ³•äºŒï¼šä½¿ç”¨å·¥å…·ç›´æ¥è¿è¡Œï¼ˆæ›´ä¾¿æ·ï¼‰</strong></h4>
<p>å¦‚æœä½ æƒ³è·³è¿‡æ‰‹åŠ¨ç¼–è¯‘çš„æ­¥éª¤ï¼Œå¯ä»¥ä½¿ç”¨Â <code>ts-node</code>Â å·¥å…·ï¼Œå®ƒå¯ä»¥ç›´æ¥è¿è¡Œ TypeScript æ–‡ä»¶ã€‚</p>
<ol>
<li>
<p><strong>å®‰è£… ts-node</strong>ï¼šåœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤<a href="https://link.juejin.cn?target=https%3A%2F%2Fm.zhangyue.com%2Freadbook%2F13052334%2F27.html%3FshowDownload%3D1" target="_blank" title="https://m.zhangyue.com/readbook/13052334/27.html?showDownload=1" ref="nofollow noopener noreferrer"/>ï¼š</p>
<p>bash</p>
<pre><code class="hljs">npm install -g ts-node
</code></pre>
</li>
<li>
<p><strong>ç›´æ¥è¿è¡Œ</strong>ï¼šå®‰è£…å®Œæˆåï¼Œä½ å°±å¯ä»¥åœ¨ç»ˆç«¯ä¸­ç›´æ¥è¿è¡ŒÂ <code>.ts</code>Â æ–‡ä»¶äº†ï¼š</p>
<p>bash</p>
<pre><code class="hljs">ts-node hello.ts
</code></pre>
<p>ç»ˆç«¯åŒæ ·ä¼šè¾“å‡ºÂ <strong>Hello, World!</strong> ã€‚</p>
</li>
</ol>
<blockquote>
<p>æ³¨ï¼šç†Ÿæ‚‰åŸºæœ¬æµç¨‹åï¼Œä½ å¯ä»¥é€šè¿‡é…ç½®Â <code>tsconfig.json</code>Â æ–‡ä»¶ï¼ˆä¾‹å¦‚è®¾ç½®Â <code>outDir</code>Â æ¥æŒ‡å®šç¼–è¯‘è¾“å‡ºç›®å½•<a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.cn%2Fdeveloper%2Farticle%2F2385358" target="_blank" title="https://cloud.tencent.cn/developer/article/2385358" ref="nofollow noopener noreferrer"/>ï¼‰ï¼Œæˆ–ä½¿ç”¨ VS Code çš„â€œä»»åŠ¡â€åŠŸèƒ½<a href="https://link.juejin.cn?target=https%3A%2F%2Fxiaoshuo.qq.com%2Fread%2F1035433566%2F27%3Fsource%3Dm_jump" target="_blank" title="https://xiaoshuo.qq.com/read/1035433566/27?source=m_jump" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=https%3A%2F%2Fm.yisu.com%2Fjc%2F375511.html" target="_blank" title="https://m.yisu.com/jc/375511.html" ref="nofollow noopener noreferrer"/>æ¥å®ç°æ›´è‡ªåŠ¨åŒ–çš„ç¼–è¯‘æµç¨‹ã€‚</p>
</blockquote>
<h4 data-id="heading-5"><strong>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨npx esno å‘½ä»¤</strong></h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92d54f7c72174bd6ba4dcb81e0de778a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bi46ZOt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766540487&amp;x-signature=JyX5o0bj2F2vFU%2FI%2F3%2Blw0UNy5I%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ç®€å•åœ°è¯´ï¼Œesno ä¹Ÿæ˜¯å…ˆç¼–è¯‘å†æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œåªä¸è¿‡å®ƒåº•å±‚ä½¿ç”¨çš„æ˜¯å¿«å¦‚é—ªç”µçš„ ESBuild è¿›è¡Œç¼–è¯‘ï¼Œæ‰€ä»¥ä½¿ç”¨å®ƒæ¥æ‰§è¡Œ TS æ–‡ä»¶ï¼Œæˆ‘ä»¬å‡ ä¹æ„Ÿè§‰ä¸åˆ°ç¼–è¯‘çš„è¿‡ç¨‹ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•å®ç°æµå¼è¾“å‡ºï¼Ÿä¸€ç¯‡æ–‡ç« æ‰‹æŠŠæ‰‹æ•™ä½ ]]></title>    <link>https://juejin.cn/post/7584286241488666664</link>    <guid>https://juejin.cn/post/7584286241488666664</guid>    <pubDate>2025-12-17T00:37:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584286241488666664" data-draft-id="7584286241488650280" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•å®ç°æµå¼è¾“å‡ºï¼Ÿä¸€ç¯‡æ–‡ç« æ‰‹æŠŠæ‰‹æ•™ä½ "/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-17T00:37:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾®èŠ’ä¸æœ½"/> <meta itemprop="url" content="https://juejin.cn/user/3702810894153592"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•å®ç°æµå¼è¾“å‡ºï¼Ÿä¸€ç¯‡æ–‡ç« æ‰‹æŠŠæ‰‹æ•™ä½ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3702810894153592/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾®èŠ’ä¸æœ½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:37:32.000Z" title="Wed Dec 17 2025 00:37:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body ::selection{color:#fff;background-color:#ed7373}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:.6em;margin-top:1.5em;padding-bottom:4px;color:#ed7373}.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px}.markdown-body h4{font-size:16px}.markdown-body h5,.markdown-body h6{font-size:14px}.markdown-body p{line-height:inherit;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border-top:1px solid #dfe1e6;margin:33px 0}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:rgba(239,198,221,.2666666667);color:#7b164f;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==") 10px 10px no-repeat;background-size:40px;background-color:#fdf8f8}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#fdf8f8}.markdown-body a{position:relative;text-decoration:underline;text-decoration-color:#ffd4d4;color:#ed7373;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAD1lJREFUeF7tnV122zgShQHJG5gT9/OkV2J7JR3voI/U707eI5/eQeyVRFlJa56nc2YDFjkHEulWHP3g5xZYAK5eku6QYOFWfSwUAJLW8EcFqMBJBSy1oQJU4LQCBITRQQXOKEBAGB5UgIAwBqhAnALMIHG68axGFCAgjTia3YxTgIDE6cazGlGAgDTiaHYzTgECEqcbz2pEAQLSiKPZzTgFCEicbjyrEQUISCOOZjfjFCAgcbrxrEYUICCNOJrdjFOAgMTpxrMaUYCANOJodjNOAQISpxvPakQBAtKIo9nNOAUISJxuPKsRBQhII45GdfN/v//+/l9//rlBtae9HQKi3UOZ7ft7sfhgjfm3sfa9u3RvzHtrjPv77r8PfpvemB0o1v3Z95tuNvt29fKyqQkgApI5ADVebgeFtTfGmA8I+3pj1rbv17Ouey4dFgKCiIgC2/i+WDwYax0QbzMDtDcjLC67/PL58xraeIbGCEgGkTVd4vty+QWVKUL75WCZb7f3JWUVAhLq5UKPHzLGRyXmP822208lgEJAlESMlBlDfeGyhsafelAIiMawAdjkpmO38/kXa8wtoDnRJvq+v79+fHwSvUhk4wQkUjjNp/33jz9uZ33/VbONP9nW9x/fPT5+0mYzAdHmkUR7lNUaob1RN+QiIKEuVHz838vl1xKGVOck1DbTRUAUB7yvaSXVG5592sy22zsNs1wExNNjWg+rEI5XqWfb7a9TQ0JAtEa+h101wzF0f/JMQkA8AlHjIQ3AMco+KSQERGP0X7CpITj2Skw4BUxACgOkOThG/0wECQEpCJBm4Rh81Fl7l3tHMAEpBJCJ4Hjq+/7bvOt229THGSVny8vV1W6b/Kzrbnprb088VAVXN/fMFgGBuxDfYE443L4oB0TM9OqwxcVtjJR7xiTzUIuA4OMZ2mI2OICBN+wgfpACJWcWISDQcMY2lgMOt7XjerW6w1q+b03sqUUgzJf6TUAuKTTRv+eAI8f0qdSwK1cWISATAXDusjngyDkj5PrTzedu+z2uNsmURQiIMkBqg2OUVwKSHFmEgCgCpFY4xCDJkEUIiBJAaodjlBlZuEtOMIz2EhAFgLQCxxtIIG9YkR5mEZCJAWkNjldIlsu/EEW79AsfCMiEgLQKx8EaCSKLPL1bre6l3EhApJS90G7LcKCziOQwi4BMAAjh+GGlPTmLSK7pEJDMgBCOfwRHvb9Lsg4hIBkBIRw/i/0dUawLrocQkEyAEI7jQoPeNi9WqBOQDIAQjtMig16uTUAyxLHIJQjHeVkRdYjkijoziAgW+0YJx2VxEYAYYzbvVqtfL18t/AgCEq6Z1xmEw0um3U2km8/dqnrS791qJRLLIo0m9bSCkwmHvxNBgDCD+Es+7ZGEI0x/DrHC9Cr6aMIR7j7ELBaL9HDds59BOOIkB33wh9O8cfLnOYtwxOsM+egPV9LjHSB9JuFIU/j7ctmntSD7cmvOYiV6B3IHPGOD5E7VxK4nnw4q0A03Kya7QqYBwpGmK6j+MFJrIK53zCCRPgZtsjt59Zozh+s0aP3DNSW2BkJAIuFATE2eu3TtcLi+w24wggU6AYkABDVuPnXpFuAAZg8jrReHWAGQIB177LLSzg7oqtih4Dcsig6vmEECw0CyKG8BDic3VEPh4RUBCQAENePSaubY1R2LxYOxNvklDa8aEpCACBY+FLKgdcTGZjLHYvHBWuu+PoX6iQ+vmEE8XQW/8w3XJRyeDjhymOTi4OHlWKRf8JFUYU444uGQXvsgIAG+kcgesXAM6y83/fAhGtv36242+5b708i+8kmtF+XKHhxiTZA9YuDwCLSn2Xb7KebLtL7BHnqch82hTY7HZ6k9xotxiHXGTejsEQXHcvnVGnPrEU2b2XZ7pwESQTjEFwbf6kxAzgGCeOvf2H7ElGQMoDmHH8ekk4RD8snBU2FAQE4oAy7Og594S7p+BIweGeriIZJw5CzMWaRfdDV0UStqzByTPX7oVt9/nHXdc64hV41wsEjPMLyKqTucWZAtGZkyiTAc2esOZpBMs1cpY2bIW89dP4UhkYZj6pqKNcgRWFBb2lO+fAQDxBiTYse5e4k0HMaY4NrNY/QcdAgBOSJX8vjf3biNWV+vVndB3jg4GPZA0b5N+BSwNByp+sXqzmleD+UQgMTWHqN5AgEIg0TAtrdemTxzjAYxgxzLIMul23X6wYOlU4dEzVy9bQw5zNq1DahHpOGYuuZgBvGI+uQZJEAgOjOHWsjB+t7DbK9DUgIQkVnPGZmadb0ECDyIGeR4Bkl6mRnS0WhIYsf2LcLhQoOACACCfk8T+Dnu4BetJa3qe9yxkTcUj8sFHUJAjgPiPugSO6yB1B9vzUJCEppFBLPHprP2Xut2fWaQE/eSxOJYBJDR1ETbXnscUosk12THdVYPBwE5AUhiQIgCAswk3tO+As/ji2oUNIa6cDCHWOBp3tDhS4wzUZD4ZhEkIDn0idH01DkEBAyIaw5dpB9zHqgu8FqQgw3rEncXIAPft60qAXF32JRt3qnBJ7X36a1TUwPX926O2Pbiey3fwM11XBWADGsFv5n9o6m72SfnkJ2Iff98/fj4FCJo6mpxrmnLVJCdJj4wp+pRKhxVFOmeBXXwSw2S7s6glXQfqJPs3N0/+nufG0jCdbyGcT59neKYYjNIxKfPvGdtnCM8wTvpM587M8LhgOGPVwDHTAz4wofQQaqNIgGJgGOvX8CdPXVYEXKtFOcm2+k5zHI2hmx7yTXMTNHO59ziAEne9uAJCeChqaCM5eOsY8cA7PSqQw6vPWSt13rvjV1PnbXPmlfHQ7QuChBEMIQUjAnj7uCMFeI09GxW7N1+54+uuxkmRf4z77p1yuxhigZS5xYDCAKOUUTfdQrELFGOoVZqvRQLiFRQamq3CECQcPhObY5OSs4iATNFsYGRamMNxXSsdpfOUw8IGg4nSMgdE5JFhCEhIJfCPP7fVQOCmKE5Ik3wRrnUABxtkLpTJ9vnOXERH2blnqkWECE4ot42gsoiodnLN6wAmwm91kJ87anpOJWAABa/Tvso8m6ZfJf+xyLo9G/ytPduCqr/+O7x8VNNgY3qizpAROEwJnh4NQodskh20TnAgITUaEB7Lva9sANUAZI6XXlB++Q7N3KohdqKgrApZNKisPhONlcNIMJwBM1cnVMVEZDIWgShGwrW5GhU2IAKQBBOPqct+g4JqUcAwxpI/ZHpAS+Fse9l0qSARG869Ora/iA0HK7NmJ2tP5kMAASUzaLrsgA3FHvopICUljkOvZwKCQJcRCYL2ZtWbJQnGD4ZICXDMeo93MHdO3yD36Hlux/slG8hs1ec4r2IziSAgIYGJzuHuDtfVG44IGr6FzG8An1gNKdWvppqOi47ILA73wkVp3B4ICTJY37gDSbZFk3BLGFLVkBQsy6nhJgCjtEWn5oEMd6HagjIZBJBqanNbIBAHXtEwSnhODRn2EP2MPy/sTaBPWWHrN20aKYJiLe2ZANEcguJVkenvp/rrbOQcEz13XHNMByzLQsgktlDKxzoQADWHXvTOLzyclEWQMB3vteOtQKHxNZ/bi/x4kP+AzpS2YNw+Dn46FHMHt7iiWcQiexBOLz9e+xATu0GyCcKiMSaB+EI8O6xQ5k9ggQUBQSxV+iwN4QjyLfMHslyCX7EE157NHLnkyjIxziRemkEIA7VNiGWQcDTkk28VEAUjgI/XqOBGjFAgMV5E0WlJBxcFIxHTQQQ5PCqhbpDGo7ZdntX2ztz40M+7EwRQICzV9VnD2E4RJ6oDAuxso8WAQRVf9S+2isNB4vydDhlAFku+3TT4t9hBbi2eBPScBhjmpjYkHaUXkAqntaVhgPx3Il04JXSPhwQVIFe6/CKcJSCxt5OrYBUWZwTjrLgEAEEMYNV4xCBcJQHhwggoECoqsAEaXIywmq8oWjBCT7EgkzxVlSgEw4toR5nBwGJ083rLMLhJZPqg/CALJdfjDHubYPxvwoyCOGId7+mM+GAgAKj6BoEpAFrDgWkqASk5KKTcCiIaqAJcEBanuYlHMDIVNIUHJBWV9IJh5KIBpsBB8TZB/gssSlpJyrhAEelouakAPkr5psZb3QpolAnHIqiWcAUEUBQj9tq37BIOAQiUlmTMoAsFh+stW49JO2neD2EcKS5tpSzRQBBzGSNAmrMIoSjlPBOt1MEkKFQR9Qh6t5CTjjSg66kFiQBSd9yMiqpZKhFOEoKbYytYoAgh1muq1MPtQgHJuBKa0UMEOgwa6/qZqr3OxGO0sIaZ68sIIvFg7H2I87c/JBAnm85I0DJ+86AflXblCggAlkkayZBreec8j7hUMvFq2HygOCzyM54ya0obj/Zdj7/Yo25lXIh4ZBSFtuuOCBCWWQPiTHr+XZ7j3zvrHS9Mdp9vVrdYV3J1iQUyAOIUBY5EORptt1+SgFlAMN933z8trmE3juoCYeItCKNZgFEMoscquKCz/b9etZ1zz6wDFDcmP1QShQMZg6R+BVvNBsgw7qIWzwUD8RBtU1vzMb93Q5/DkH63u5tyGXH63CQmUM8nuEXyAbILovID7XgAiEa5LAKoeI0bWQFpEVICMc0gY26anZActUjKIFS2iEcKerpOHcSQIbn1r/mrgNySk44cqotd61JAHHdqRkSwiEXsLlbngwQ19EJZrbE9SUc4hJnvcCkgFQHiZLnVrJGUOUXmxyQUV/pjYHSfmzhc9XSGmpsXw0gBU8Bbzpr73/5/Hmt0cG0KU0BVYAcQOLeDp91pTtGRtYbMaqVdY46QMa6xPb9g+R282Q3sd5IlrCEBlQCMgqndJariDc+lhB8JdioGpDXAn7/IjrxregXHJa8pb6EgKCNPypQBCATg0IwGqamKEB+GHp13U1v7a3Q1vWnvu+/XT8+PjUcG+z6/lGJ8n+uVhmK+nHmK2QGzD0zsnZAzLtu7fOgVfmKsQe+ClQByLHOur1eL1dXO1Bs170C089mm6uXl92DVITBN0zaPa5aQNp1KXuOVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFTg//8JNVC78ovQAAAAAElFTkSuQmCC");background-size:100%}.markdown-body a:active,.markdown-body a:hover{opacity:.66}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #ed7373;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#ed7373}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#fdf2f2}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #ed7373;background-color:#fdf2f2}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#ed7373}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]{appearance:none;-webkit-appearance:none;-moz-appearance:none;outline:none;width:16px;height:16px;border-radius:2px;background-color:transparent;box-shadow:inset 0 0 0 1px rgba(28,31,35,.3490196078);vertical-align:middle;margin:0;transform:translateY(-2px)}.markdown-body input[type=checkbox]:checked{background-color:#ed7373;background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGFyaWEtaGlkZGVuPSJ0cnVlIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE3LjQxMSA3LjMwOGExLjUgMS41IDAgMDEuMjggMi4xMDNsLTYuNSA4LjVhMS41IDEuNSAwIDAxLTIuMzc1LjAxbC0zLjUtNC41YTEuNSAxLjUgMCAxMTIuMzY4LTEuODQybDIuMzA2IDIuOTY1IDUuMzE4LTYuOTU1YTEuNSAxLjUgMCAwMTIuMTAzLS4yOHoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=");box-shadow:inset 0 0 0 1px #ed7373}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c410444a54f8462e8f89d1c22650d00e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6u6IqS5LiN5py9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766536652&amp;x-signature=wkU85x1WnBauQQmjNT4MEYCSlqA%3D" alt="" loading="lazy"/></p>
<p>åœ¨ç°ä»£Webåº”ç”¨ä¸­ï¼Œæµå¼è¾“å‡ºï¼ˆStreaming Outputï¼‰æ˜¯ä¸€ç§éå¸¸é‡è¦çš„æŠ€æœ¯ï¼Œå®ƒèƒ½å¤Ÿå®ç°å®æ—¶æ•°æ®ä¼ è¾“å’Œæ¸è¿›å¼æ¸²æŸ“ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„äº¤äº’ä½“éªŒã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»æµå¼è¾“å‡ºçš„åŸç†å’Œå¤šç§å®ç°æ–¹å¼ã€‚</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯æµå¼è¾“å‡ºï¼Ÿ</h2>
<p>æµå¼è¾“å‡ºæ˜¯æŒ‡æ•°æ®ä¸æ˜¯ä¸€æ¬¡æ€§è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œè€Œæ˜¯åˆ†æ‰¹æ¬¡ã€è¿ç»­åœ°å‘é€ç»™å®¢æˆ·ç«¯ã€‚è¿™ç§æ–¹å¼ç‰¹åˆ«é€‚ç”¨äºï¼š</p>
<ul>
<li>å®æ—¶èŠå¤©åº”ç”¨</li>
<li>å¤§æ–‡ä»¶ä¸‹è½½</li>
<li>AIç”Ÿæˆå†…å®¹å±•ç¤º</li>
<li>æ—¥å¿—å®æ—¶ç›‘æ§</li>
<li>æ•°æ®æŠ¥è¡¨é€æ­¥åŠ è½½</li>
</ul>
<h2 data-id="heading-1">æµå¼è¾“å‡ºçš„ä¼˜åŠ¿</h2>
<ol>
<li><strong>é™ä½å»¶è¿Ÿ</strong>ï¼šç”¨æˆ·æ— éœ€ç­‰å¾…æ‰€æœ‰æ•°æ®å‡†å¤‡å®Œæˆ</li>
<li><strong>èŠ‚çœå†…å­˜</strong>ï¼šé¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§é‡æ•°æ®åˆ°å†…å­˜</li>
<li><strong>æå‡ç”¨æˆ·ä½“éªŒ</strong>ï¼šå†…å®¹å¯ä»¥é€æ­¥æ˜¾ç¤ºï¼Œæ„ŸçŸ¥æ›´å¿«</li>
<li><strong>æé«˜æ€§èƒ½</strong>ï¼šå‡å°‘æœåŠ¡å™¨å‹åŠ›ï¼Œæé«˜å¹¶å‘å¤„ç†èƒ½åŠ›</li>
</ol>
<h2 data-id="heading-2">å‰ç«¯å®ç°æ–¹æ¡ˆ</h2>
<h3 data-id="heading-3">1. ä½¿ç”¨ Fetch API + ReadableStream</h3>
<p>è¿™æ˜¯ç°ä»£æµè§ˆå™¨ä¸­æœ€æ¨èçš„æ–¹å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŸºç¡€æµå¼è¯·æ±‚ç¤ºä¾‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">streamFetch</span>(<span class="hljs-params">url</span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);
  <span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>.<span class="hljs-title function_">getReader</span>();
  <span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>();

  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">const</span> { done, value } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
  
    <span class="hljs-keyword">if</span> (done) <span class="hljs-keyword">break</span>;
  
    <span class="hljs-comment">// è§£ç å¹¶å¤„ç†æ¥æ”¶åˆ°çš„æ•°æ®å—</span>
    <span class="hljs-keyword">const</span> chunk = decoder.<span class="hljs-title function_">decode</span>(value, { <span class="hljs-attr">stream</span>: <span class="hljs-literal">true</span> });
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Received chunk:'</span>, chunk);
  
    <span class="hljs-comment">// æ›´æ–°UIæˆ–è¿›è¡Œå…¶ä»–å¤„ç†</span>
    <span class="hljs-title function_">updateUI</span>(chunk);
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateUI</span>(<span class="hljs-params">content</span>) {
  <span class="hljs-keyword">const</span> outputElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'output'</span>);
  outputElement.<span class="hljs-property">innerHTML</span> += content;
}
</code></pre>
<h3 data-id="heading-4">2. Vueç»„ä»¶ä¸­çš„æµå¼è¾“å‡ºå®ç°</h3>
<p>åˆ›å»ºä¸€ä¸ªæ”¯æŒæµå¼è¾“å‡ºçš„Vueç»„ä»¶ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="stream-output"&gt;
    &lt;div class="controls"&gt;
      &lt;button @click="startStreaming" :disabled="isStreaming"&gt;
        å¼€å§‹æµå¼è¾“å‡º
      &lt;/button&gt;
      &lt;button @click="stopStreaming" :disabled="!isStreaming"&gt;
        åœæ­¢æµå¼è¾“å‡º
      &lt;/button&gt;
    &lt;/div&gt;
  
    &lt;div class="output-container"&gt;
      &lt;pre ref="outputRef" class="output"&gt;{{ streamingContent }}&lt;/pre&gt;
    &lt;/div&gt;
  
    &lt;div v-if="isLoading" class="loading"&gt;æ­£åœ¨æ¥æ”¶æ•°æ®...&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onUnmounted } from 'vue'

const isStreaming = ref(false)
const streamingContent = ref('')
const isLoading = ref(false)
const abortController = ref(null)
const outputRef = ref(null)

// æ¨¡æ‹ŸAPIç«¯ç‚¹
const API_ENDPOINT = '/api/stream-data'

async function startStreaming() {
  try {
    isStreaming.value = true
    streamingContent.value = ''
    isLoading.value = true
  
    // åˆ›å»ºAbortControllerç”¨äºå–æ¶ˆè¯·æ±‚
    abortController.value = new AbortController()
  
    const response = await fetch(API_ENDPOINT, {
      signal: abortController.value.signal
    })
  
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`)
    }
  
    const reader = response.body.getReader()
    const decoder = new TextDecoder('utf-8')
  
    // é€å—è¯»å–æ•°æ®
    while (true) {
      const { done, value } = await reader.read()
    
      if (done) {
        break
      }
    
      // è§£ç æ•°æ®å—
      const chunk = decoder.decode(value, { stream: true })
    
      // æ›´æ–°å†…å®¹
      streamingContent.value += chunk
    
      // è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
      scrollToBottom()
    }
  
  } catch (error) {
    if (error.name !== 'AbortError') {
      console.error('æµå¼è¾“å‡ºé”™è¯¯:', error)
    }
  } finally {
    isStreaming.value = false
    isLoading.value = false
  }
}

function stopStreaming() {
  if (abortController.value) {
    abortController.value.abort()
  }
  isStreaming.value = false
  isLoading.value = false
}

function scrollToBottom() {
  nextTick(() =&gt; {
    if (outputRef.value) {
      outputRef.value.scrollTop = outputRef.value.scrollHeight
    }
  })
}

onUnmounted(() =&gt; {
  stopStreaming()
})
&lt;/script&gt;

&lt;style scoped&gt;
.stream-output {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
}

.controls {
  margin-bottom: 20px;
}

.controls button {
  margin-right: 10px;
  padding: 8px 16px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.controls button:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}

.output-container {
  border: 1px solid #ddd;
  border-radius: 4px;
  height: 400px;
  overflow-y: auto;
  background-color: #f8f9fa;
}

.output {
  margin: 0;
  padding: 15px;
  font-family: 'Courier New', monospace;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.loading {
  text-align: center;
  color: #666;
  margin-top: 10px;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-5">3. Server-Sent Events (SSE) å®ç°</h3>
<p>SSEæ˜¯å¦ä¸€ç§å¸¸ç”¨çš„æµå¼é€šä¿¡æ–¹å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// SSEå®¢æˆ·ç«¯å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">StreamService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventSource</span> = <span class="hljs-literal">null</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span> = []
  }

  <span class="hljs-title function_">connect</span>(<span class="hljs-params">url</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventSource</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">disconnect</span>()
    }
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventSource</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventSource</span>(url)
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventSource</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyListeners</span>(event.<span class="hljs-property">data</span>)
    }
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventSource</span>.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'SSEè¿æ¥é”™è¯¯:'</span>, error)
    }
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventSource</span>.<span class="hljs-property">onopen</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'SSEè¿æ¥å·²å»ºç«‹'</span>)
    }
  }

  <span class="hljs-title function_">disconnect</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventSource</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventSource</span>.<span class="hljs-title function_">close</span>()
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventSource</span> = <span class="hljs-literal">null</span>
    }
  }

  <span class="hljs-title function_">addListener</span>(<span class="hljs-params">callback</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">push</span>(callback)
  }

  <span class="hljs-title function_">removeListener</span>(<span class="hljs-params">callback</span>) {
    <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">indexOf</span>(callback)
    <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>)
    }
  }

  <span class="hljs-title function_">notifyListeners</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">callback</span> =&gt;</span> <span class="hljs-title function_">callback</span>(data))
  }
}

<span class="hljs-comment">// åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨SSE</span>
<span class="hljs-keyword">const</span> streamService = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StreamService</span>()

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">messages</span>: [],
      <span class="hljs-attr">isConnected</span>: <span class="hljs-literal">false</span>
    }
  },

  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
    streamService.<span class="hljs-title function_">addListener</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">handleNewMessage</span>)
  },

  <span class="hljs-title function_">beforeUnmount</span>(<span class="hljs-params"/>) {
    streamService.<span class="hljs-title function_">removeListener</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">handleNewMessage</span>)
    streamService.<span class="hljs-title function_">disconnect</span>()
  },

  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">connectToStream</span>(<span class="hljs-params"/>) {
      streamService.<span class="hljs-title function_">connect</span>(<span class="hljs-string">'/api/events'</span>)
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isConnected</span> = <span class="hljs-literal">true</span>
    },
  
    <span class="hljs-title function_">disconnectFromStream</span>(<span class="hljs-params"/>) {
      streamService.<span class="hljs-title function_">disconnect</span>()
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isConnected</span> = <span class="hljs-literal">false</span>
    },
  
    <span class="hljs-title function_">handleNewMessage</span>(<span class="hljs-params">data</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">messages</span>.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
        <span class="hljs-attr">content</span>: data,
        <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleTimeString</span>()
      })
    }
  }
}
</code></pre>
<h3 data-id="heading-6">4. WebSocket å®ç°å®æ—¶åŒå‘é€šä¿¡</h3>
<p>å¯¹äºéœ€è¦åŒå‘é€šä¿¡çš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// WebSocketæœåŠ¡ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">WebSocketStream</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">url</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">url</span> = url
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">websocket</span> = <span class="hljs-literal">null</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span> = <span class="hljs-number">0</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxReconnectAttempts</span> = <span class="hljs-number">5</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">messageListeners</span> = []
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">statusListeners</span> = []
  }

  <span class="hljs-title function_">connect</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">websocket</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">url</span>)
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">websocket</span>.<span class="hljs-property">onopen</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'WebSocketè¿æ¥å·²å»ºç«‹'</span>)
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span> = <span class="hljs-number">0</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyStatus</span>(<span class="hljs-string">'connected'</span>)
    }
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">websocket</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>)
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyMessage</span>(data)
    }
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">websocket</span>.<span class="hljs-property">onclose</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'WebSocketè¿æ¥å·²å…³é—­'</span>)
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyStatus</span>(<span class="hljs-string">'disconnected'</span>)
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attemptReconnect</span>()
    }
  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">websocket</span>.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'WebSocketé”™è¯¯:'</span>, error)
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyStatus</span>(<span class="hljs-string">'error'</span>)
    }
  }

  <span class="hljs-title function_">sendMessage</span>(<span class="hljs-params">message</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">websocket</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">websocket</span>.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">websocket</span>.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(message))
    }
  }

  <span class="hljs-title function_">close</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">websocket</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">websocket</span>.<span class="hljs-title function_">close</span>()
    }
  }

  <span class="hljs-title function_">attemptReconnect</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxReconnectAttempts</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span>++
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å°è¯•é‡è¿ (<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.reconnectAttempts}</span>/<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.maxReconnectAttempts}</span>)`</span>)
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">connect</span>()
      }, <span class="hljs-number">1000</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span>)
    }
  }

  <span class="hljs-title function_">addMessageListener</span>(<span class="hljs-params">callback</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">messageListeners</span>.<span class="hljs-title function_">push</span>(callback)
  }

  <span class="hljs-title function_">addStatusListener</span>(<span class="hljs-params">callback</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">statusListeners</span>.<span class="hljs-title function_">push</span>(callback)
  }

  <span class="hljs-title function_">notifyMessage</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">messageListeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">callback</span> =&gt;</span> <span class="hljs-title function_">callback</span>(data))
  }

  <span class="hljs-title function_">notifyStatus</span>(<span class="hljs-params">status</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">statusListeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">callback</span> =&gt;</span> <span class="hljs-title function_">callback</span>(status))
  }
}

<span class="hljs-comment">// Vueç»„ä»¶ä¸­ä½¿ç”¨WebSocket</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">wsStream</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">messages</span>: [],
      <span class="hljs-attr">connectionStatus</span>: <span class="hljs-string">'disconnected'</span>
    }
  },

  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">wsStream</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocketStream</span>(<span class="hljs-string">'ws://localhost:8080/ws'</span>)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">wsStream</span>.<span class="hljs-title function_">addMessageListener</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">handleMessage</span>)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">wsStream</span>.<span class="hljs-title function_">addStatusListener</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">handleStatusChange</span>)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">wsStream</span>.<span class="hljs-title function_">connect</span>()
  },

  <span class="hljs-title function_">beforeUnmount</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">wsStream</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">wsStream</span>.<span class="hljs-title function_">close</span>()
    }
  },

  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">handleMessage</span>(<span class="hljs-params">data</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">messages</span>.<span class="hljs-title function_">push</span>({
        ...data,
        <span class="hljs-attr">receivedAt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>()
      })
    },
  
    <span class="hljs-title function_">handleStatusChange</span>(<span class="hljs-params">status</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">connectionStatus</span> = status
    },
  
    <span class="hljs-title function_">sendUserMessage</span>(<span class="hljs-params">content</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">wsStream</span>.<span class="hljs-title function_">sendMessage</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-string">'user_message'</span>,
        <span class="hljs-attr">content</span>: content,
        <span class="hljs-attr">sentAt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>()
      })
    }
  }
}
</code></pre>
<h2 data-id="heading-7">åç«¯å®ç°ç¤ºä¾‹</h2>
<h3 data-id="heading-8">Node.js Express å®ç°æµå¼å“åº”</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>)
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()

<span class="hljs-comment">// æ¨¡æ‹Ÿæµå¼æ•°æ®ç”Ÿæˆ</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/stream-data'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-comment">// è®¾ç½®å“åº”å¤´ä»¥æ”¯æŒæµå¼ä¼ è¾“</span>
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain; charset=utf-8'</span>)
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Transfer-Encoding'</span>, <span class="hljs-string">'chunked'</span>)

  <span class="hljs-comment">// å‘é€åˆå§‹æ•°æ®</span>
  res.<span class="hljs-title function_">write</span>(<span class="hljs-string">'å¼€å§‹æµå¼ä¼ è¾“...\n'</span>)

  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>
  <span class="hljs-keyword">const</span> interval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    count++
    <span class="hljs-keyword">const</span> data = <span class="hljs-string">`æ•°æ®å— <span class="hljs-subst">${count}</span>: <span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toISOString()}</span>\n`</span>
    res.<span class="hljs-title function_">write</span>(data)
  
    <span class="hljs-comment">// ç»“æŸæµå¼ä¼ è¾“</span>
    <span class="hljs-keyword">if</span> (count &gt;= <span class="hljs-number">10</span>) {
      <span class="hljs-built_in">clearInterval</span>(interval)
      res.<span class="hljs-title function_">write</span>(<span class="hljs-string">'æµå¼ä¼ è¾“ç»“æŸ\n'</span>)
      res.<span class="hljs-title function_">end</span>()
    }
  }, <span class="hljs-number">1000</span>)

  <span class="hljs-comment">// å¤„ç†å®¢æˆ·ç«¯æ–­å¼€è¿æ¥</span>
  req.<span class="hljs-title function_">on</span>(<span class="hljs-string">'close'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-built_in">clearInterval</span>(interval)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®¢æˆ·ç«¯æ–­å¼€äº†è¿æ¥'</span>)
  })
})

<span class="hljs-comment">// SSEç«¯ç‚¹</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/events'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, {
    <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/event-stream'</span>,
    <span class="hljs-string">'Cache-Control'</span>: <span class="hljs-string">'no-cache'</span>,
    <span class="hljs-string">'Connection'</span>: <span class="hljs-string">'keep-alive'</span>,
    <span class="hljs-string">'Access-Control-Allow-Origin'</span>: <span class="hljs-string">'*'</span>
  })

  <span class="hljs-comment">// å‘é€åˆå§‹äº‹ä»¶</span>
  res.<span class="hljs-title function_">write</span>(<span class="hljs-string">'data: è¿æ¥å·²å»ºç«‹\n\n'</span>)

  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>
  <span class="hljs-keyword">const</span> interval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    count++
    <span class="hljs-keyword">const</span> data = <span class="hljs-string">`data: äº‹ä»¶ <span class="hljs-subst">${count}</span> - <span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toISOString()}</span>\n\n`</span>
    res.<span class="hljs-title function_">write</span>(data)
  }, <span class="hljs-number">2000</span>)

  <span class="hljs-comment">// å¤„ç†å®¢æˆ·ç«¯æ–­å¼€è¿æ¥</span>
  req.<span class="hljs-title function_">on</span>(<span class="hljs-string">'close'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-built_in">clearInterval</span>(interval)
    res.<span class="hljs-title function_">end</span>()
  })
})

app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000'</span>)
})
</code></pre>
<h2 data-id="heading-9">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<h3 data-id="heading-10">1. å†…å­˜ç®¡ç†</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é™åˆ¶ç¼“å­˜å¤§å°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LimitedBuffer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">maxSize = <span class="hljs-number">1000</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span> = []
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxSize</span> = maxSize
  }

  <span class="hljs-title function_">add</span>(<span class="hljs-params">item</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">push</span>(item)
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxSize</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>.<span class="hljs-title function_">shift</span>() <span class="hljs-comment">// ç§»é™¤æœ€æ—§çš„é¡¹</span>
    }
  }

  <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>
  }
}
</code></pre>
<h3 data-id="heading-11">2. èŠ‚æµæ›´æ–°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// èŠ‚æµå‡½æ•°é˜²æ­¢é¢‘ç¹æ›´æ–°DOM</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">func, limit</span>) {
  <span class="hljs-keyword">let</span> inThrottle
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> args = <span class="hljs-variable language_">arguments</span>
    <span class="hljs-keyword">const</span> context = <span class="hljs-variable language_">this</span>
    <span class="hljs-keyword">if</span> (!inThrottle) {
      func.<span class="hljs-title function_">apply</span>(context, args)
      inThrottle = <span class="hljs-literal">true</span>
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> inThrottle = <span class="hljs-literal">false</span>, limit)
    }
  }
}

<span class="hljs-comment">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> throttledUpdate = <span class="hljs-title function_">throttle</span>(<span class="hljs-function">(<span class="hljs-params">content</span>) =&gt;</span> {
  streamingContent.<span class="hljs-property">value</span> += content
}, <span class="hljs-number">100</span>) <span class="hljs-comment">// æ¯100msæœ€å¤šæ›´æ–°ä¸€æ¬¡</span>
</code></pre>
<h3 data-id="heading-12">3. é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¸¦é‡è¯•æœºåˆ¶çš„æµå¼è¯·æ±‚</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">streamWithRetry</span>(<span class="hljs-params">url, maxRetries = <span class="hljs-number">3</span></span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= maxRetries; i++) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">streamFetch</span>(url)
      <span class="hljs-keyword">return</span> <span class="hljs-comment">// æˆåŠŸåé€€å‡º</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`æµå¼è¯·æ±‚å¤±è´¥ï¼Œç¬¬<span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>æ¬¡é‡è¯•`</span>, error)
    
      <span class="hljs-keyword">if</span> (i === maxRetries) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°'</span>)
      }
    
      <span class="hljs-comment">// ç­‰å¾…åé‡è¯•</span>
      <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, i)))
    }
  }
}
</code></pre>
<h2 data-id="heading-13">å®Œæ•´çš„ç¤ºä¾‹</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c984e6a7b774beca54edca693e6e4d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6u6IqS5LiN5py9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766536652&amp;x-signature=6L2X%2F1gMv8E6ZaYVG2GzdWb%2FpzY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2db6cd6bcb454617a81afaf34d92eada~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6u6IqS5LiN5py9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766536652&amp;x-signature=dw4RzaKIoAssIiMQUDb%2B0H0SOtE%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æµå¼è¾“å‡ºç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    * {
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">box-sizing</span>: border-box;
    }

    <span class="hljs-selector-tag">body</span> {
      <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Segoe UI'</span>, Tahoma, Geneva, Verdana, sans-serif;
      <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.6</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f5f5f5</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    }

    <span class="hljs-selector-class">.container</span> {
      <span class="hljs-attribute">max-width</span>: <span class="hljs-number">1200px</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
    }

    <span class="hljs-selector-tag">header</span> {
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">135deg</span>, <span class="hljs-number">#667eea</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#764ba2</span> <span class="hljs-number">100%</span>);
      <span class="hljs-attribute">color</span>: white;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">6px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>);
    }

    <span class="hljs-selector-tag">h1</span> {
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2.5em</span>;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
    }

    <span class="hljs-selector-class">.subtitle</span> {
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.2em</span>;
      <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.9</span>;
    }

    <span class="hljs-selector-class">.tabs</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">justify-content</span>: center;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">flex-wrap</span>: wrap;
    }

    <span class="hljs-selector-class">.tab-button</span> {
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">24px</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span>;
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e0e0e0</span>;
      <span class="hljs-attribute">border</span>: none;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">25px</span>;
      <span class="hljs-attribute">cursor</span>: pointer;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
      <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;
      <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.3s</span> ease;
    }

    <span class="hljs-selector-class">.tab-button</span><span class="hljs-selector-pseudo">:hover</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#d5d5d5</span>;
    }

    <span class="hljs-selector-class">.tab-button</span><span class="hljs-selector-class">.active</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#667eea</span>;
      <span class="hljs-attribute">color</span>: white;
    }

    <span class="hljs-selector-class">.tab-content</span> {
      <span class="hljs-attribute">display</span>: none;
      <span class="hljs-attribute">background</span>: white;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">25px</span>;
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>);
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;
    }

    <span class="hljs-selector-class">.tab-content</span><span class="hljs-selector-class">.active</span> {
      <span class="hljs-attribute">display</span>: block;
      <span class="hljs-attribute">animation</span>: fadeIn <span class="hljs-number">0.5s</span> ease;
    }

    <span class="hljs-keyword">@keyframes</span> fadeIn {
      <span class="hljs-selector-tag">from</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">10px</span>); }
      <span class="hljs-selector-tag">to</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">0</span>); }
    }

    <span class="hljs-selector-class">.controls</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">flex-wrap</span>: wrap;
    }

    <span class="hljs-selector-class">.btn</span> {
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">border</span>: none;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
      <span class="hljs-attribute">cursor</span>: pointer;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
      <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;
      <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.3s</span> ease;
    }

    <span class="hljs-selector-class">.btn-primary</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#667eea</span>;
      <span class="hljs-attribute">color</span>: white;
    }

    <span class="hljs-selector-class">.btn-secondary</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#6c757d</span>;
      <span class="hljs-attribute">color</span>: white;
    }

    <span class="hljs-selector-class">.btn-success</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#28a745</span>;
      <span class="hljs-attribute">color</span>: white;
    }

    <span class="hljs-selector-class">.btn-danger</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#dc3545</span>;
      <span class="hljs-attribute">color</span>: white;
    }

    <span class="hljs-selector-class">.btn</span><span class="hljs-selector-pseudo">:disabled</span> {
      <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.6</span>;
      <span class="hljs-attribute">cursor</span>: not-allowed;
    }

    <span class="hljs-selector-class">.btn</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">:not</span>(<span class="hljs-selector-pseudo">:disabled</span>) {
      <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">2px</span>);
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">8px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>);
    }

    <span class="hljs-selector-class">.output-container</span> {
      <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#e9ecef</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
      <span class="hljs-attribute">overflow-y</span>: auto;
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8f9fa</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Courier New'</span>, monospace;
      <span class="hljs-attribute">white-space</span>: pre-wrap;
      <span class="hljs-attribute">word-wrap</span>: break-word;
    }

    <span class="hljs-selector-class">.status-bar</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">justify-content</span>: space-between;
      <span class="hljs-attribute">align-items</span>: center;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e9ecef</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
      <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;
    }

    <span class="hljs-selector-class">.status-indicator</span> {
      <span class="hljs-attribute">display</span>: inline-block;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">12px</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">12px</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;
      <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">8px</span>;
    }

    <span class="hljs-selector-class">.status-connected</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#28a745</span>;
    }

    <span class="hljs-selector-class">.status-disconnected</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#dc3545</span>;
    }

    <span class="hljs-selector-class">.status-loading</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ffc107</span>;
    }

    <span class="hljs-selector-class">.progress-bar</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">8px</span>;
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e9ecef</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
      <span class="hljs-attribute">overflow</span>: hidden;
      <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;
    }

    <span class="hljs-selector-class">.progress-fill</span> {
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">90deg</span>, <span class="hljs-number">#667eea</span>, <span class="hljs-number">#764ba2</span>);
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
      <span class="hljs-attribute">transition</span>: width <span class="hljs-number">0.3s</span> ease;
    }

    <span class="hljs-selector-class">.chat-messages</span> {
      <span class="hljs-attribute">height</span>: <span class="hljs-number">350px</span>;
      <span class="hljs-attribute">overflow-y</span>: auto;
      <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">background-color</span>: white;
    }

    <span class="hljs-selector-class">.message</span> {
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
      <span class="hljs-attribute">max-width</span>: <span class="hljs-number">80%</span>;
    }

    <span class="hljs-selector-class">.message-user</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#667eea</span>;
      <span class="hljs-attribute">color</span>: white;
      <span class="hljs-attribute">margin-left</span>: auto;
      <span class="hljs-attribute">text-align</span>: right;
    }

    <span class="hljs-selector-class">.message-bot</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f1f3f4</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
    }

    <span class="hljs-selector-class">.input-group</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>;
    }

    <span class="hljs-selector-class">.input-group</span> <span class="hljs-selector-tag">input</span> {
      <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
      <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
    }

    <span class="hljs-selector-class">.features</span> {
      <span class="hljs-attribute">display</span>: grid;
      <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(auto-fit, <span class="hljs-built_in">minmax</span>(<span class="hljs-number">300px</span>, <span class="hljs-number">1</span>fr));
      <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">30px</span>;
    }

    <span class="hljs-selector-class">.feature-card</span> {
      <span class="hljs-attribute">background</span>: white;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">6px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>);
      <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span> ease;
    }

    <span class="hljs-selector-class">.feature-card</span><span class="hljs-selector-pseudo">:hover</span> {
      <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">5px</span>);
    }

    <span class="hljs-selector-class">.feature-card</span> <span class="hljs-selector-tag">h3</span> {
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#667eea</span>;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
    }

    <span class="hljs-selector-tag">footer</span> {
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">40px</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#6c757d</span>;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9em</span>;
    }

    <span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
      <span class="hljs-selector-class">.container</span> {
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
      }
      
      <span class="hljs-selector-tag">h1</span> {
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>;
      }
      
      <span class="hljs-selector-class">.controls</span> {
        <span class="hljs-attribute">flex-direction</span>: column;
      }
      
      <span class="hljs-selector-class">.btn</span> {
        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      }
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æµå¼è¾“å‡ºæŠ€æœ¯æ¼”ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"subtitle"</span>&gt;</span>Fetch API + ReadableStream | Server-Sent Events | WebSocket<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tabs"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tab-button active"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"switchTab('fetch')"</span>&gt;</span>Fetch Stream<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tab-button"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"switchTab('sse')"</span>&gt;</span>Server-Sent Events<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tab-button"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"switchTab('websocket')"</span>&gt;</span>WebSocket Chat<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- Fetch Stream Tab --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"fetch"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tab-content active"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Fetch API æµå¼è¾“å‡º<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½¿ç”¨ç°ä»£æµè§ˆå™¨çš„ Fetch API å’Œ ReadableStream å®ç°æµå¼æ•°æ®ä¼ è¾“<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"controls"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"startFetchBtn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"startFetchStream()"</span>&gt;</span>
          å¼€å§‹æµå¼è¾“å‡º
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"stopFetchBtn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-danger"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"stopFetchStream()"</span> <span class="hljs-attr">disabled</span>&gt;</span>
          åœæ­¢æµå¼è¾“å‡º
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-secondary"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"clearFetchOutput()"</span>&gt;</span>
          æ¸…ç©ºè¾“å‡º
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"fetchOutput"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"output-container"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status-bar"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status-indicator"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"fetchStatusIndicator"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"fetchStatusText"</span>&gt;</span>æœªå¼€å§‹<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æ¥æ”¶å­—èŠ‚: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"fetchByteCount"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"progress-bar"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"progress-fill"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"fetchProgress"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 0%"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- SSE Tab --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sse"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tab-content"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Server-Sent Events (SSE)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½¿ç”¨ SSE å®ç°æœåŠ¡å™¨æ¨é€çš„å®æ—¶æ•°æ®æµ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"controls"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"connectSSEBtn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-success"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"connectSSE()"</span>&gt;</span>
          è¿æ¥SSE
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"disconnectSSEBtn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-danger"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"disconnectSSE()"</span> <span class="hljs-attr">disabled</span>&gt;</span>
          æ–­å¼€è¿æ¥
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-secondary"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"clearSSEOutput()"</span>&gt;</span>
          æ¸…ç©ºè¾“å‡º
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sseOutput"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"output-container"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status-bar"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status-indicator"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sseStatusIndicator"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sseStatusText"</span>&gt;</span>æœªè¿æ¥<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æ¥æ”¶äº‹ä»¶: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sseEventCount"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- WebSocket Tab --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"websocket"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tab-content"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>WebSocket å®æ—¶èŠå¤©<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½¿ç”¨ WebSocket å®ç°åŒå‘å®æ—¶é€šä¿¡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"chat-messages"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chatMessages"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input-group"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"messageInput"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¾“å…¥æ¶ˆæ¯..."</span> <span class="hljs-attr">onkeypress</span>=<span class="hljs-string">"handleKeyPress(event)"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sendBtn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"sendMessage()"</span> <span class="hljs-attr">disabled</span>&gt;</span>
          å‘é€
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"connectWSBtn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-success"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"connectWebSocket()"</span>&gt;</span>
          è¿æ¥
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"disconnectWSBtn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-danger"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"disconnectWebSocket()"</span> <span class="hljs-attr">disabled</span>&gt;</span>
          æ–­å¼€
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status-bar"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status-indicator"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"wsStatusIndicator"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"wsStatusText"</span>&gt;</span>æœªè¿æ¥<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æ¶ˆæ¯æ•°é‡: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"messageCount"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"features"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"feature-card"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ğŸš€ é«˜æ€§èƒ½<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æµå¼è¾“å‡ºå‡å°‘ç­‰å¾…æ—¶é—´ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œé¿å…é•¿æ—¶é—´ç™½å±ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"feature-card"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ğŸ’¾ å†…å­˜å‹å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>é€å—å¤„ç†æ•°æ®ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§é‡æ•°æ®åˆ°å†…å­˜ä¸­ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"feature-card"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ğŸ”„ å®æ—¶æ€§å¼º<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ•°æ®å³æ—¶ä¼ è¾“ï¼Œé€‚ç”¨äºèŠå¤©ã€é€šçŸ¥ã€å®æ—¶ç›‘æ§ç­‰åœºæ™¯ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æµå¼è¾“å‡ºæŠ€æœ¯æ¼”ç¤º | åŸºäºç°ä»£Webæ ‡å‡†å®ç°<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// å…¨å±€å˜é‡</span>
    <span class="hljs-keyword">let</span> fetchController = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> sseConnection = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> wsConnection = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> fetchByteCount = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> sseEventCount = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> messageCount = <span class="hljs-number">0</span>;

    <span class="hljs-comment">// æ ‡ç­¾é¡µåˆ‡æ¢</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">switchTab</span>(<span class="hljs-params">tabId</span>) {
      <span class="hljs-comment">// éšè—æ‰€æœ‰æ ‡ç­¾å†…å®¹</span>
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.tab-content'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">tab</span> =&gt;</span> {
        tab.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'active'</span>);
      });
      
      <span class="hljs-comment">// ç§»é™¤æ‰€æœ‰æ¿€æ´»æŒ‰é’®æ ·å¼</span>
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.tab-button'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">btn</span> =&gt;</span> {
        btn.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'active'</span>);
      });
      
      <span class="hljs-comment">// æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾å†…å®¹</span>
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(tabId).<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'active'</span>);
      
      <span class="hljs-comment">// æ¿€æ´»å¯¹åº”çš„æŒ‰é’®</span>
      event.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'active'</span>);
      
      <span class="hljs-comment">// åœæ­¢æ‰€æœ‰æ­£åœ¨è¿›è¡Œçš„æ“ä½œ</span>
      <span class="hljs-title function_">stopFetchStream</span>();
      <span class="hljs-title function_">disconnectSSE</span>();
      <span class="hljs-title function_">disconnectWebSocket</span>();
    }

    <span class="hljs-comment">// ==================== Fetch Stream Implementation ====================</span>
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startFetchStream</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> output = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fetchOutput'</span>);
      <span class="hljs-keyword">const</span> startBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'startFetchBtn'</span>);
      <span class="hljs-keyword">const</span> stopBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stopFetchBtn'</span>);
      <span class="hljs-keyword">const</span> statusIndicator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fetchStatusIndicator'</span>);
      <span class="hljs-keyword">const</span> statusText = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fetchStatusText'</span>);
      <span class="hljs-keyword">const</span> byteCount = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fetchByteCount'</span>);
      <span class="hljs-keyword">const</span> progressBar = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fetchProgress'</span>);
      
      <span class="hljs-comment">// é‡ç½®çŠ¶æ€</span>
      output.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">''</span>;
      fetchByteCount = <span class="hljs-number">0</span>;
      byteCount.<span class="hljs-property">textContent</span> = <span class="hljs-string">'0'</span>;
      progressBar.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">'0%'</span>;
      
      <span class="hljs-comment">// æ›´æ–°UIçŠ¶æ€</span>
      startBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>;
      stopBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">false</span>;
      statusIndicator.<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-loading'</span>;
      statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'æµå¼ä¼ è¾“ä¸­...'</span>;
      
      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// åˆ›å»ºAbortControllerç”¨äºå–æ¶ˆè¯·æ±‚</span>
        fetchController = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿæµå¼å“åº” - åœ¨å®é™…åº”ç”¨ä¸­è¿™ä¼šæ˜¯ä¸€ä¸ªçœŸå®çš„APIç«¯ç‚¹</span>
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">simulateFetchStream</span>(fetchController.<span class="hljs-property">signal</span>);
        
        <span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>.<span class="hljs-title function_">getReader</span>();
        <span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>(<span class="hljs-string">'utf-8'</span>);
        
        <span class="hljs-keyword">let</span> progress = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">const</span> totalChunks = <span class="hljs-number">20</span>; <span class="hljs-comment">// æ¨¡æ‹Ÿæ€»å—æ•°</span>
        
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
          <span class="hljs-keyword">const</span> { done, value } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
          
          <span class="hljs-keyword">if</span> (done) {
            <span class="hljs-keyword">break</span>;
          }
          
          <span class="hljs-comment">// è§£ç æ•°æ®å—</span>
          <span class="hljs-keyword">const</span> chunk = decoder.<span class="hljs-title function_">decode</span>(value, { <span class="hljs-attr">stream</span>: <span class="hljs-literal">true</span> });
          
          <span class="hljs-comment">// æ›´æ–°è¾“å‡º</span>
          output.<span class="hljs-property">innerHTML</span> += chunk;
          output.<span class="hljs-property">scrollTop</span> = output.<span class="hljs-property">scrollHeight</span>;
          
          <span class="hljs-comment">// æ›´æ–°ç»Ÿè®¡ä¿¡æ¯</span>
          fetchByteCount += value.<span class="hljs-property">byteLength</span>;
          byteCount.<span class="hljs-property">textContent</span> = fetchByteCount;
          
          <span class="hljs-comment">// æ›´æ–°è¿›åº¦æ¡</span>
          progress = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(progress + <span class="hljs-number">1</span>, totalChunks);
          <span class="hljs-keyword">const</span> percentage = (progress / totalChunks) * <span class="hljs-number">100</span>;
          progressBar.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = percentage + <span class="hljs-string">'%'</span>;
        }
        
        <span class="hljs-comment">// å®Œæˆåæ›´æ–°çŠ¶æ€</span>
        statusIndicator.<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-connected'</span>;
        statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'ä¼ è¾“å®Œæˆ'</span>;
        
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">if</span> (error.<span class="hljs-property">name</span> !== <span class="hljs-string">'AbortError'</span>) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Fetchæµå¼é”™è¯¯:'</span>, error);
          statusIndicator.<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-disconnected'</span>;
          statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'ä¼ è¾“é”™è¯¯: '</span> + error.<span class="hljs-property">message</span>;
        } <span class="hljs-keyword">else</span> {
          statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'ä¼ è¾“å·²åœæ­¢'</span>;
        }
      } <span class="hljs-keyword">finally</span> {
        startBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">false</span>;
        stopBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (progressBar.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> !== <span class="hljs-string">'100%'</span>) {
          progressBar.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">'100%'</span>;
        }
      }
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">stopFetchStream</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">if</span> (fetchController) {
        fetchController.<span class="hljs-title function_">abort</span>();
        fetchController = <span class="hljs-literal">null</span>;
      }
      
      <span class="hljs-keyword">const</span> startBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'startFetchBtn'</span>);
      <span class="hljs-keyword">const</span> stopBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stopFetchBtn'</span>);
      <span class="hljs-keyword">const</span> statusIndicator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fetchStatusIndicator'</span>);
      <span class="hljs-keyword">const</span> statusText = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fetchStatusText'</span>);
      
      startBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">false</span>;
      stopBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>;
      statusIndicator.<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-disconnected'</span>;
      statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'ä¼ è¾“å·²åœæ­¢'</span>;
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">clearFetchOutput</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fetchOutput'</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">''</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fetchByteCount'</span>).<span class="hljs-property">textContent</span> = <span class="hljs-string">'0'</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fetchProgress'</span>).<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">'0%'</span>;
    }
    
    <span class="hljs-comment">// æ¨¡æ‹ŸFetchæµå¼å“åº”</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">simulateFetchStream</span>(<span class="hljs-params">signal</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªReadableStreamæ¥æ¨¡æ‹ŸæœåŠ¡å™¨å“åº”</span>
        <span class="hljs-keyword">const</span> stream = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReadableStream</span>({
          <span class="hljs-title function_">start</span>(<span class="hljs-params">controller</span>) {
            <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">const</span> maxChunks = <span class="hljs-number">20</span>;
            
            <span class="hljs-keyword">const</span> <span class="hljs-title function_">sendChunk</span> = (<span class="hljs-params"/>) =&gt; {
              <span class="hljs-keyword">if</span> (count &gt;= maxChunks || signal.<span class="hljs-property">aborted</span>) {
                controller.<span class="hljs-title function_">close</span>();
                <span class="hljs-keyword">return</span>;
              }
              
              count++;
              <span class="hljs-keyword">const</span> chunkData = <span class="hljs-string">`æ•°æ®å— <span class="hljs-subst">${count}</span>: <span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toLocaleTimeString()}</span>\n`</span> +
                               <span class="hljs-string">`éšæœºå†…å®¹: <span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).substring(<span class="hljs-number">7</span>)}</span>\n`</span> +
                               <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-string">'='</span>.repeat(<span class="hljs-number">50</span>)}</span>\n`</span>;
              
              controller.<span class="hljs-title function_">enqueue</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoder</span>().<span class="hljs-title function_">encode</span>(chunkData));
              
              <span class="hljs-comment">// éšæœºé—´éš”å‘é€ä¸‹ä¸€ä¸ªå—</span>
              <span class="hljs-built_in">setTimeout</span>(sendChunk, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">800</span> + <span class="hljs-number">200</span>);
            };
            
            <span class="hljs-title function_">sendChunk</span>();
          }
        });
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿå“åº”å¯¹è±¡</span>
        <span class="hljs-title function_">resolve</span>({
          <span class="hljs-attr">body</span>: stream
        });
      });
    }

    <span class="hljs-comment">// ==================== SSE Implementation ====================</span>
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">connectSSE</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> output = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseOutput'</span>);
      <span class="hljs-keyword">const</span> connectBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'connectSSEBtn'</span>);
      <span class="hljs-keyword">const</span> disconnectBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'disconnectSSEBtn'</span>);
      <span class="hljs-keyword">const</span> statusIndicator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseStatusIndicator'</span>);
      <span class="hljs-keyword">const</span> statusText = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseStatusText'</span>);
      <span class="hljs-keyword">const</span> eventCount = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseEventCount'</span>);
      
      <span class="hljs-comment">// é‡ç½®çŠ¶æ€</span>
      output.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">''</span>;
      sseEventCount = <span class="hljs-number">0</span>;
      eventCount.<span class="hljs-property">textContent</span> = <span class="hljs-string">'0'</span>;
      
      <span class="hljs-comment">// æ›´æ–°UIçŠ¶æ€</span>
      connectBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>;
      disconnectBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">false</span>;
      statusIndicator.<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-loading'</span>;
      statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'è¿æ¥ä¸­...'</span>;
      
      <span class="hljs-comment">// æ¨¡æ‹ŸSSEè¿æ¥</span>
      <span class="hljs-title function_">simulateSSEConnection</span>();
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">disconnectSSE</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">if</span> (sseConnection) {
        <span class="hljs-built_in">clearInterval</span>(sseConnection);
        sseConnection = <span class="hljs-literal">null</span>;
      }
      
      <span class="hljs-keyword">const</span> connectBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'connectSSEBtn'</span>);
      <span class="hljs-keyword">const</span> disconnectBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'disconnectSSEBtn'</span>);
      <span class="hljs-keyword">const</span> statusIndicator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseStatusIndicator'</span>);
      <span class="hljs-keyword">const</span> statusText = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseStatusText'</span>);
      
      connectBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">false</span>;
      disconnectBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>;
      statusIndicator.<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-disconnected'</span>;
      statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'è¿æ¥å·²æ–­å¼€'</span>;
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">clearSSEOutput</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseOutput'</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">''</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseEventCount'</span>).<span class="hljs-property">textContent</span> = <span class="hljs-string">'0'</span>;
    }
    
    <span class="hljs-comment">// æ¨¡æ‹ŸSSEè¿æ¥</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">simulateSSEConnection</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> output = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseOutput'</span>);
      <span class="hljs-keyword">const</span> statusIndicator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseStatusIndicator'</span>);
      <span class="hljs-keyword">const</span> statusText = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseStatusText'</span>);
      <span class="hljs-keyword">const</span> eventCount = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseEventCount'</span>);
      
      statusIndicator.<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-connected'</span>;
      statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'å·²è¿æ¥'</span>;
      
      <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;
      sseConnection = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
        count++;
        sseEventCount++;
        eventCount.<span class="hljs-property">textContent</span> = sseEventCount;
        
        <span class="hljs-keyword">const</span> eventData = <span class="hljs-string">`[<span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toLocaleTimeString()}</span>] æœåŠ¡å™¨äº‹ä»¶ #<span class="hljs-subst">${count}</span>\n`</span> +
                         <span class="hljs-string">`äº‹ä»¶ç±»å‹: ç³»ç»Ÿé€šçŸ¥\n`</span> +
                         <span class="hljs-string">`å†…å®¹: è¿™æ˜¯ç¬¬<span class="hljs-subst">${count}</span>ä¸ªæ¨¡æ‹Ÿäº‹ä»¶\n`</span> +
                         <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-string">'-'</span>.repeat(<span class="hljs-number">40</span>)}</span>\n`</span>;
        
        output.<span class="hljs-property">innerHTML</span> += eventData;
        output.<span class="hljs-property">scrollTop</span> = output.<span class="hljs-property">scrollHeight</span>;
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿè¿æ¥æ–­å¼€</span>
        <span class="hljs-keyword">if</span> (count === <span class="hljs-number">15</span>) {
          <span class="hljs-built_in">clearInterval</span>(sseConnection);
          sseConnection = <span class="hljs-literal">null</span>;
          <span class="hljs-keyword">const</span> statusIndicator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseStatusIndicator'</span>);
          <span class="hljs-keyword">const</span> statusText = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseStatusText'</span>);
          statusIndicator.<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-disconnected'</span>;
          statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'è¿æ¥å·²æ–­å¼€'</span>;
          <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'connectSSEBtn'</span>).<span class="hljs-property">disabled</span> = <span class="hljs-literal">false</span>;
          <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'disconnectSSEBtn'</span>).<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>;
        }
      }, <span class="hljs-number">1000</span>);
    }

    <span class="hljs-comment">// ==================== WebSocket Implementation ====================</span>
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">connectWebSocket</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> connectBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'connectWSBtn'</span>);
      <span class="hljs-keyword">const</span> disconnectBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'disconnectWSBtn'</span>);
      <span class="hljs-keyword">const</span> sendBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sendBtn'</span>);
      <span class="hljs-keyword">const</span> statusIndicator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'wsStatusIndicator'</span>);
      <span class="hljs-keyword">const</span> statusText = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'wsStatusText'</span>);
      <span class="hljs-keyword">const</span> chatMessages = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chatMessages'</span>);
      
      <span class="hljs-comment">// é‡ç½®çŠ¶æ€</span>
      chatMessages.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">''</span>;
      messageCount = <span class="hljs-number">0</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'messageCount'</span>).<span class="hljs-property">textContent</span> = <span class="hljs-string">'0'</span>;
      
      <span class="hljs-comment">// æ›´æ–°UIçŠ¶æ€</span>
      connectBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>;
      disconnectBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">false</span>;
      sendBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">false</span>;
      statusIndicator.<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-loading'</span>;
      statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'è¿æ¥ä¸­...'</span>;
      
      <span class="hljs-comment">// æ¨¡æ‹ŸWebSocketè¿æ¥</span>
      <span class="hljs-title function_">simulateWebSocketConnection</span>();
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">disconnectWebSocket</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">if</span> (wsConnection) {
        <span class="hljs-built_in">clearInterval</span>(wsConnection);
        wsConnection = <span class="hljs-literal">null</span>;
      }
      
      <span class="hljs-keyword">const</span> connectBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'connectWSBtn'</span>);
      <span class="hljs-keyword">const</span> disconnectBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'disconnectWSBtn'</span>);
      <span class="hljs-keyword">const</span> sendBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sendBtn'</span>);
      <span class="hljs-keyword">const</span> statusIndicator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'wsStatusIndicator'</span>);
      <span class="hljs-keyword">const</span> statusText = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'wsStatusText'</span>);
      
      connectBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">false</span>;
      disconnectBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>;
      sendBtn.<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>;
      statusIndicator.<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-disconnected'</span>;
      statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'è¿æ¥å·²æ–­å¼€'</span>;
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendMessage</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'messageInput'</span>);
      <span class="hljs-keyword">const</span> message = input.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>();
      
      <span class="hljs-keyword">if</span> (message) {
        <span class="hljs-title function_">addMessage</span>(message, <span class="hljs-string">'user'</span>);
        input.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿæœºå™¨äººå›å¤</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">const</span> replies = [
            <span class="hljs-string">'ä½ å¥½ï¼æˆ‘æ”¶åˆ°äº†ä½ çš„æ¶ˆæ¯ã€‚'</span>,
            <span class="hljs-string">'è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼'</span>,
            <span class="hljs-string">'è®©æˆ‘æƒ³æƒ³å¦‚ä½•å›ç­”...'</span>,
            <span class="hljs-string">'æ„Ÿè°¢ä½ çš„åˆ†äº«ï¼'</span>,
            <span class="hljs-string">'æˆ‘ç†è§£ä½ çš„è§‚ç‚¹ã€‚'</span>,
            <span class="hljs-string">'è¿™å¾ˆæœ‰è¶£ï¼å‘Šè¯‰æˆ‘æ›´å¤šã€‚'</span>
          ];
          <span class="hljs-keyword">const</span> randomReply = replies[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * replies.<span class="hljs-property">length</span>)];
          <span class="hljs-title function_">addMessage</span>(randomReply, <span class="hljs-string">'bot'</span>);
        }, <span class="hljs-number">1000</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">2000</span>);
      }
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleKeyPress</span>(<span class="hljs-params">event</span>) {
      <span class="hljs-keyword">if</span> (event.<span class="hljs-property">key</span> === <span class="hljs-string">'Enter'</span>) {
        <span class="hljs-title function_">sendMessage</span>();
      }
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">addMessage</span>(<span class="hljs-params">content, sender</span>) {
      <span class="hljs-keyword">const</span> chatMessages = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chatMessages'</span>);
      <span class="hljs-keyword">const</span> messageCountEl = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'messageCount'</span>);
      
      <span class="hljs-keyword">const</span> messageDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
      messageDiv.<span class="hljs-property">className</span> = <span class="hljs-string">`message message-<span class="hljs-subst">${sender}</span>`</span>;
      
      <span class="hljs-keyword">const</span> timeString = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleTimeString</span>();
      messageDiv.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`
        &lt;div&gt;<span class="hljs-subst">${content}</span>&lt;/div&gt;
        &lt;small style="opacity: 0.7; font-size: 0.8em;"&gt;<span class="hljs-subst">${timeString}</span>&lt;/small&gt;
      `</span>;
      
      chatMessages.<span class="hljs-title function_">appendChild</span>(messageDiv);
      chatMessages.<span class="hljs-property">scrollTop</span> = chatMessages.<span class="hljs-property">scrollHeight</span>;
      
      messageCount++;
      messageCountEl.<span class="hljs-property">textContent</span> = messageCount;
    }
    
    <span class="hljs-comment">// æ¨¡æ‹ŸWebSocketè¿æ¥</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">simulateWebSocketConnection</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> statusIndicator = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'wsStatusIndicator'</span>);
      <span class="hljs-keyword">const</span> statusText = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'wsStatusText'</span>);
      
      statusIndicator.<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-connected'</span>;
      statusText.<span class="hljs-property">textContent</span> = <span class="hljs-string">'å·²è¿æ¥'</span>;
      
      <span class="hljs-comment">// æ¨¡æ‹Ÿç³»ç»Ÿæ¶ˆæ¯</span>
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">addMessage</span>(<span class="hljs-string">'æ¬¢è¿æ¥åˆ°å®æ—¶èŠå¤©å®¤ï¼'</span>, <span class="hljs-string">'bot'</span>);
      }, <span class="hljs-number">500</span>);
      
      <span class="hljs-comment">// æ¨¡æ‹Ÿå®šæœŸç³»ç»Ÿé€šçŸ¥</span>
      <span class="hljs-keyword">let</span> notificationCount = <span class="hljs-number">0</span>;
      wsConnection = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
        notificationCount++;
        <span class="hljs-keyword">if</span> (notificationCount &lt;= <span class="hljs-number">5</span>) {
          <span class="hljs-title function_">addMessage</span>(<span class="hljs-string">`ç³»ç»Ÿé€šçŸ¥: ç”¨æˆ·åœ¨çº¿æ•° <span class="hljs-subst">${<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">100</span>)}</span>`</span>, <span class="hljs-string">'bot'</span>);
        }
      }, <span class="hljs-number">5000</span>);
    }

    <span class="hljs-comment">// åˆå§‹åŒ–</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'DOMContentLoaded'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// è®¾ç½®åˆå§‹çŠ¶æ€æŒ‡ç¤ºå™¨</span>
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fetchStatusIndicator'</span>).<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-disconnected'</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'sseStatusIndicator'</span>).<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-disconnected'</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'wsStatusIndicator'</span>).<span class="hljs-property">className</span> = <span class="hljs-string">'status-indicator status-disconnected'</span>;
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</code></pre>
<h2 data-id="heading-14">æœ€ä½³å®è·µæ€»ç»“</h2>
<ol>
<li>
<p><strong>é€‰æ‹©åˆé€‚çš„ä¼ è¾“åè®®</strong>ï¼š</p>
<ul>
<li>å•å‘æµå¼è¾“å‡ºï¼šFetch + ReadableStream æˆ– SSE</li>
<li>åŒå‘å®æ—¶é€šä¿¡ï¼šWebSocket</li>
</ul>
</li>
<li>
<p><strong>åˆç†è®¾ç½®ç¼“å†²åŒºå¤§å°</strong>ï¼šé¿å…å†…å­˜æº¢å‡º</p>
</li>
<li>
<p><strong>å®ç°ä¼˜é›…é™çº§</strong>ï¼šå½“æµå¼ä¸æ”¯æŒæ—¶æä¾›å¤‡é€‰æ–¹æ¡ˆ</p>
</li>
<li>
<p><strong>æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†</strong>ï¼šç½‘ç»œä¸­æ–­ã€è§£æé”™è¯¯ç­‰</p>
</li>
<li>
<p><strong>è€ƒè™‘ç”¨æˆ·ä½“éªŒ</strong>ï¼šåŠ è½½çŠ¶æ€æç¤ºã€è‡ªåŠ¨æ»šåŠ¨ç­‰</p>
</li>
<li>
<p><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šè®°å½•ä¼ è¾“é€Ÿåº¦ã€é”™è¯¯ç‡ç­‰æŒ‡æ ‡</p>
</li>
</ol>
<p>é€šè¿‡ä»¥ä¸Šå®ç°æ–¹å¼å’Œæœ€ä½³å®è·µï¼Œä½ å¯ä»¥è½»æ¾åœ¨é¡¹ç›®ä¸­é›†æˆæµå¼è¾“å‡ºåŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›æ›´åŠ æµç•…å’Œå®æ—¶çš„äº¤äº’ä½“éªŒã€‚è®°ä½æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©æœ€é€‚åˆçš„æŠ€æœ¯æ–¹æ¡ˆï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutterå®˜æ–¹æ­£åœ¨æçƒ­æ›´æ–°ï¼ˆåŠ¨æ€åŒ–ï¼‰ï¼Ÿç¡¬æ ¸ï¼Œå¹²è´§ï¼Œæœ‰è¯æ®ï¼Œæœ‰ä»£ç ]]></title>    <link>https://juejin.cn/post/7584362317001834523</link>    <guid>https://juejin.cn/post/7584362317001834523</guid>    <pubDate>2025-12-17T01:19:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584362317001834523" data-draft-id="7584110439933657134" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutterå®˜æ–¹æ­£åœ¨æçƒ­æ›´æ–°ï¼ˆåŠ¨æ€åŒ–ï¼‰ï¼Ÿç¡¬æ ¸ï¼Œå¹²è´§ï¼Œæœ‰è¯æ®ï¼Œæœ‰ä»£ç "/> <meta itemprop="keywords" content="Flutter,å¼€æº"/> <meta itemprop="datePublished" content="2025-12-17T01:19:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­¤é¸¿ç‰"/> <meta itemprop="url" content="https://juejin.cn/user/3738794874900295"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutterå®˜æ–¹æ­£åœ¨æçƒ­æ›´æ–°ï¼ˆåŠ¨æ€åŒ–ï¼‰ï¼Ÿç¡¬æ ¸ï¼Œå¹²è´§ï¼Œæœ‰è¯æ®ï¼Œæœ‰ä»£ç 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3738794874900295/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­¤é¸¿ç‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T01:19:23.000Z" title="Wed Dec 17 2025 01:19:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Flutterå®˜æ–¹æ­£åœ¨æçƒ­æ›´æ–°ï¼ˆåŠ¨æ€åŒ–ï¼‰ï¼Ÿæˆ–è®¸ä¼šæœ‰äººè¢«è¿™ä¸ªæ ‡é¢˜å¸å¼•è¿‡æ¥çš„å§ã€‚ä¸€å®šä¼šæœ‰äººæŠ±ç€æ‰¹åˆ¤çš„æ€åº¦æ¥æ‰“è„¸äº†å§ï¼š</p>
<ul>
<li>Flutterå®˜æ–¹ä¸å¯èƒ½å»æçƒ­æ›´æ–°ï¼ˆåŠ¨æ€åŒ–ï¼‰,åœ¨å¾ˆæ—©ä¹‹å‰ï¼Œå®˜æ–¹å·²ç»å£°æ˜ä¸ä¼šå»æè¿™ä¸€å—äº†ï¼Œæ€ä¹ˆå¯èƒ½çªç„¶å˜å¦ï¼Ÿä¸”æ ¹æœ¬ä¸€ç‚¹æ¶ˆæ¯ä¹Ÿæ²¡æœ‰ï¼</li>
<li>å°±ç®—æäº†çƒ­æ›´æ–°ï¼Œä½†ç»•ä¸è¿‡è‹¹æœAppStoreå®¡æ ¸ï¼Œæäº†ç­‰äºç™½æå•Šï¼</li>
<li>ä½ è¯´çš„ä¸ä¼šæ˜¯shorebirdå§ï¼Œè¿™ä¸ªä¸æ˜¯å®˜æ–¹çš„ï¼</li>
</ul>
<p>æˆ‘åˆ°åº•æ˜¯ä¸æ˜¯æ ‡é¢˜å…šï¼Ÿå„ä½çœ‹å®˜åˆ«ç€æ€¥ï¼Œä¸”å¬æˆ‘ç‹¡è¾©ï¼Œä¸å¯¹ï¼Œæ˜¯è§£é‡Šï¼ˆæŠ±å¤´ï¼‰ã€‚</p>
<p>æ—©åœ¨ä¸€å¹´å¤šå‰ï¼Œæˆ‘å°±ç ”ç©¶è¿‡FlutteråŠ¨æ€åŒ–çš„ï¼Œä¸ºæ­¤æˆ‘è¿˜å¼€æºè¿‡ä¸€ä¸ªåŠ¨æ€åŒ–çš„å®éªŒæ–¹æ¡ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flancexin%2Fmicro_dart" target="_blank" title="https://github.com/lancexin/micro_dart" ref="nofollow noopener noreferrer">MicroDart</a>Â ä½†è¿™ä¸ªé¡¹ç›®å¹¶ä¸å®Œæ•´ï¼Œä¸€ç›´åœ¨å®éªŒé˜¶æ®µï¼Œä¸”å®ƒæœ‰ä¸€äº›ååˆ†è‡´å‘½çš„ç¼ºç‚¹ï¼Œæ¯”å¦‚ç¼–è¯‘é€Ÿåº¦æ…¢ï¼Œä¸”ç¼–è¯‘ååŒ…å¤ªå¤§ç­‰ï¼Œæ¡¥æ¥å±‚éš¾å†™ç­‰ï¼Œè®©æˆ‘æ„Ÿè§‰è¿™ä¸ªæ€è·¯é”™äº†ã€‚æ‰€ä»¥å°±æ²¡æœ‰å†ç»§ç»­æ›´æ–°ã€‚ï¼ˆå®é™…ä¸Šæ˜¯å› ä¸ºæˆ‘ç ”ç©¶ç”Ÿæ¯•ä¸šè®ºæ–‡å†™çš„è¿™ä¸ªï¼Œæ¯•ä¸šåå°±æ‡’å¾—ç®¡äº†ï¼ˆæ‚è„¸ï¼‰ï¼‰</p>
<p>åœ¨æ¥è§¦shorebirdåï¼Œè®©æˆ‘æ›´åŠ è‚¯å®šè‡ªå·±çš„æƒ³æ³•ï¼Œå¦‚æœè¦çœŸå®ç°FlutteråŠ¨æ€åŒ–ï¼Œshorebirdçš„æ€è·¯åœ¨æ€§èƒ½ä¸Šæ‰æ˜¯æœ€ä½³çš„ã€‚ä½†shorebirdçš„å®ç°æˆæœ¬å¾ˆé«˜ï¼Œå®ƒéœ€è¦ä¿®æ”¹DartVMè™šæ‹Ÿæœºçš„ä»£ç ï¼Œè®©å®ƒèƒ½å¤Ÿä»¥æ··åˆçš„æ–¹å¼å»è¿è¡Œ AOTä»£ç å’ŒKernelä»£ç ã€‚ä¸”shorebirdä¸å¼€æºï¼Œåˆä¸å…è´¹ï¼Œåœ¨å›½å†…è¿˜æœ‰ç½‘ç»œå½±å“ã€‚è¿™è®©æˆ‘å¯¹shorebirdåœ¨å›½å†…å‘å±•ä¸çœ‹å¥½ã€‚</p>
<p>ä¸ªäººå¯¹shorebirdçš„å®ç°åŸç†éå¸¸å¥½å¥‡ï¼Œä½†ä¸ªäººèƒ½åŠ›æœ‰é™ä¸”åˆšæ¢æ–°å·¥ä½œï¼Œæ–°çš„å·¥ä½œä¹Ÿæ²¡æœ‰çƒ­æ›´æ–°çš„éœ€æ±‚ï¼Œå°±ä¸€ç›´æ‹–å»¶ç€æ²¡æœ‰å†ç»§ç»­ç ”ç©¶ä¸‹å»ã€‚</p>
<p>ç»ˆäºæœ€è¿‘åˆæœ‰äº†æ—¶é—´ï¼Œå‡†å¤‡ç ”ç©¶ä¸€ä¸‹DartVMçš„è¿è¡Œä¸å®ç°åŸç†ã€‚å´æ— æ„ä¸­è®©æˆ‘æ‰¾åˆ°äº†ä¸€äº›è››ä¸é©¬è¿¹ï¼š</p>
<ul>
<li>é¦–å…ˆï¼ŒDart Sdkçš„ç¼–è¯‘é¡¹ä¸­å‘ç°äº†DART_DYNAMIC_MODULES è¿™ä¸ªç‰¹æ®Šçš„é¡¹ï¼ŒæŸ¥æ‰¾å‘ç°è¿™ä¸ªé¡¹å‡ºç°çš„æ¬¡æ•°éå¸¸é¢‘ç¹ã€‚</li>
<li>å…¶æ¬¡ï¼Œåœ¨pkgç›®å½•ä¸‹é¢å‘ç°äº†dynamic_modules è¿™ä¸ªåŒ…ï¼ŒæŸ¥çœ‹åˆ›å»ºæ—¶é—´æ˜¯2024å¹´ã€‚</li>
<li>å†æ¬¡ï¼Œåœ¨pkgç›®å½•ä¸‹é¢è¿˜å‘ç°äº† dart2bytecodeè¿™ä¸ªåŒ…ï¼Œå¯ä»¥å°†dartç¼–è¯‘æˆå­—èŠ‚ç ã€‚</li>
<li>å†å†æ¬¡ï¼Œæˆ‘åœ¨dart:_internal åŒ…ä¸­å‘ç°äº† loadDynamicModule è¿™ä¹ˆä¸ªå‡½æ•°ã€‚</li>
</ul>
<p>è®©æˆ‘ä»¬å†çœ‹çœ‹loadDynamicModuleå‡½æ•°çš„è¯´æ˜ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">/// Load a dynamic module and execute its entry point method.</span>
<span class="hljs-comment">///</span>
<span class="hljs-comment">/// Only one of the two arguments must be provided, depending on the delivery</span>
<span class="hljs-comment">/// mechanism and the underlying platform.</span>
<span class="hljs-comment">///</span>
<span class="hljs-comment">/// Entry point method is a no-argument method annotated with</span>
<span class="hljs-comment">/// `@pragma('dyn-module:entry-point')`.</span>
<span class="hljs-comment">///</span>
<span class="hljs-comment">/// Returns a future containing the result of the entry point method.</span>
external Future&lt;<span class="hljs-selector-tag">Object</span>?&gt; <span class="hljs-built_in">loadDynamicModule</span>({Uri?uri, Uint8List?bytes});
</code></pre>
<p>ç¬¬ä¸€å¥è¯å°±è®©æˆ‘è™èº¯ä¸€éœ‡ï¼šâ€œåŠ è½½ä¸€ä¸ªåŠ¨æ€åŒ–æ¨¡å—å¹¶æ‰§è¡Œå®ƒçš„å…¥å£å‡½æ•°â€ï¼Œè¿™éš¾é“å°±æ˜¯ä¼ è¯´ä¸­çš„ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p>
<p>åœ¨ç ”ç©¶dart2bytecodeæ˜¯è®©æˆ‘çš„çŒœæƒ³çš„åˆ°è¯å®ï¼Œ è¿™ä¸ªåŒ…å®é™…ä¸Šå°±æ˜¯å°†éœ€è¦åŠ¨æ€åŒ–éƒ¨åˆ†çš„ä»£ç ç¼–è¯‘æˆå­—èŠ‚ç çš„åŒ…ï¼Œåœ¨å®ƒçš„READMEä¸­å¯ä»¥çœ‹åˆ°ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Dart Bytecode File Format</span>

<span class="hljs-section">## Overview</span>

This file describes the binary format of Dart bytecode files.

Dart bytecode is a binary representation of dynamic modules
on the VM/AOT. It is generated by dart2bytecode tools and
can be executed by the VM and AOT runtime (built with dynamic modules support).
</code></pre>
<p>ä»ä¸Šæ–¹çš„è¯´æ˜ä¸­ä¹Ÿå¯ä»¥å‘ç°é€šè¿‡dart2bytecodeç”Ÿæˆçš„å­—èŠ‚ç ä¸ä»…èƒ½è¿è¡Œåœ¨VMæ¨¡å¼ä¸‹ï¼Œä¹Ÿèƒ½è¿è¡Œåœ¨AOTæ¨¡å¼ä¸‹ã€‚è¿™ä»–å¦ˆä¸å°±æ˜¯shorebirdçš„è¿è¡ŒåŸç†å—ï¼Ÿæˆ‘çš„è™èº¯å†éœ‡ã€‚</p>
<p>dynamic_modules è¿™ä¸ªåŒ…å®é™…ä¸Šå°±æ˜¯å¯¹loadDynamicModuleå‡½æ•°åšçš„ä¸€ä¸ªå°è£…ï¼Œå®ƒè¿˜å†™äº†ä¸°å¯Œçš„æµ‹è¯•ç”¨ä¾‹ã€‚åœ¨ç¼–è¯‘dart sdkæºç åå¯ä»¥é€šè¿‡è¾“å…¥ä¸‹æ–¹å‘½ä»¤æ‰§è¡Œ dynamic_modulesä¸­çš„æµ‹è¯•ç”¨ä¾‹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">./xcodebuild/DebugARM64/dart-sdk/bin/dart run 
./pkg/dynamic_modules/test/runner/main.dart -r aot -v
</code></pre>
<p>ä½†æ˜¯ç¬¬ä¸€æ¬¡æ‰§è¡Œæˆ‘å¤±è´¥äº†ï¼Œåæ¥æ‰å‘ç°æ˜¯sdkçš„ç¼–è¯‘å‚æ•°ä¸­æ²¡æœ‰å¼€å¯DART_DYNAMIC_MODULESï¼Œæˆ‘å†æ¬¡å¯¹sdkè¿›è¡Œç¼–è¯‘ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">./tools/build.py --mode debug create_sdk --dart-dynamic-modules
</code></pre>
<p>å†æ¬¡ç¼–è¯‘åå‘ç°dynamic_modulesçš„æµ‹è¯•ç”¨ä¾‹å¯ä»¥æ­£å¸¸è·‘èµ·æ¥äº†ã€‚</p>
<p>dynamic_modulesåŒ…é‡Œçš„æµ‹è¯•ç”¨ä¾‹æ¶µç›–é¢éå¸¸å¹¿ï¼Œå¤§å®¶å¯ä»¥åœ¨dynamic_modules/test/dataç›®å½•ä¸‹æ‰¾åˆ°ã€‚</p>
<p>ç‰¹åˆ«å»ºè®®å¤§å®¶çœ‹ä¸€ä¸‹ dynamic_modules/test/data/README.mdé‡Œçš„å†…å®¹ï¼Œå¯ä»¥è®©æˆ‘ä»¬å……åˆ†ç†è§£dynamic_modulesçš„ä»£ç ç»“æ„ï¼Œç”±äºç¯‡å¹…åŸå› ï¼Œæˆ‘è¿™è¾¹ä¸è¿‡èµ˜è¿°ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹ã€‚</p>
<p>ç»è¿‡ä¸Šé¢çš„æµ‹è¯•ä¸ç ”ç©¶ï¼Œæˆ‘å¼€å§‹å…´å¥‹èµ·æ¥ã€‚æœ‰æå¤´å•Šï¼ŒçœŸçš„æœ‰æå¤´å•Šï¼Œè¿™æ˜¯Dartå®˜æ–¹å®ç°çš„AOT+å­—èŠ‚ç æ··åˆè¿è¡Œçš„æ–¹å¼ï¼Œä¸”çœ‹ä¸Šå»å·²ç»èƒ½å¤Ÿè¿ç”¨åˆ°å®é™…ç”Ÿäº§ç¯å¢ƒä¸­äº†ï¼ï¼ï¼</p>
<p>ä½†æ¥ä¸‹æ¥æˆ‘å†·é™äº†ï¼Œå…‰åœ¨PCä¸Šé€šè¿‡Dart Sdkä¸ŠéªŒè¯å¯è¡Œæ€§å¹¶ä¸ä»£è¡¨åœ¨Flutterç¯å¢ƒé‡Œä»¥èƒ½ç”¨å•Šï¼Œä¹Ÿä¸èƒ½è¡¨ç¤ºåœ¨androidå’Œiosé‡Œä¹Ÿèƒ½ç”¨å•Šï¼Œäºæ˜¯æˆ‘åˆé©¬ä¸åœè¹„çš„å»ä¸‹è½½äº†Flutter Engineæºç ï¼Œç»§ç»­å¼€å§‹äº†ç ”ç©¶ã€‚</p>
<hr/>
<p>å¦‚ä½•èƒ½å¤Ÿè®©dynamic_modulesåœ¨Flutterä¸­ä¹Ÿèƒ½è¿è¡Œå‘¢ï¼Ÿæˆ‘æ€»ç»“ä¸€ä¸‹éœ€è¦çªç ´ä»¥ä¸‹éš¾é¢˜ï¼š</p>
<ol>
<li>loadDynamicModuleå‡½æ•°æ˜¯dart:_internalé‡Œçš„åŒ…ï¼Œæ˜¯ä¸å¯¹å¼€å‘è€…å¼€æ”¾çš„ï¼Œæˆ‘ä»¬çš„é¡¹ç›®å¦‚ä½•è°ƒç”¨è¿™ä¸ªå‡½æ•°å‘¢ï¼Ÿ</li>
<li>Flutter SDKé»˜è®¤å¹¶æ²¡æœ‰å¼€æ”¾dynamic_modulesç‰¹æ€§ï¼Œå¦‚ä½•ç¼–è¯‘å‡ºæ”¯æŒdynamic_modulesç‰¹æ€§çš„Flutter SDKå‘¢ï¼Ÿ</li>
<li>æˆ‘ä»¬çš„Flutteré¡¹ç›®éƒ½æ˜¯é€šè¿‡flutter_toolsè¿›è¡Œç¼–è¯‘çš„flutter_toolså¦‚ä½•æ”¯æŒdynamic_modulesç‰¹æ€§å‘¢ï¼Ÿ</li>
<li>æˆ‘ä»¬çš„Fluteré¡¹ç›®å¦‚ä½•ç¼–è¯‘å‡ºç¬¦åˆåŠ¨æ€åŒ–è¿è¡Œçš„å­—èŠ‚ç å‘¢ï¼Ÿ</li>
</ol>
<p>ç»è¿‡ç ”ç©¶ï¼Œå‘ç°ä»¥ä¸Šéš¾é¢˜éƒ½æ˜¯èƒ½è§£å†³çš„ï¼š</p>
<ol>
<li>é¦–å…ˆæ˜¯loadDynamicModuleçš„è°ƒç”¨é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨kernal/target/targets.dartä¸­æ‰¾åˆ°å¦‚ä¸‹ä»£ç ï¼š</li>
</ol>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">Whether a library is allowed to import the platform private library</span></span>
 <span class="hljs-comment">/// <span class="markdown">[imported] from library [importer].</span></span>
 <span class="hljs-comment">///</span>
 <span class="hljs-comment">/// <span class="markdown">By default only <span class="hljs-code">`dart:*`</span> libraries are allowed. May be overridden for</span></span>
 <span class="hljs-comment">/// <span class="markdown">testing purposes.</span></span>
boolallowPlatformPrivateLibraryAccess(<span class="hljs-built_in">Uri</span> importer, <span class="hljs-built_in">Uri</span> imported) =&gt;
 importer.isScheme(<span class="hljs-string">"dart"</span>) ||
 (importer.isScheme(<span class="hljs-string">"package"</span>) &amp;&amp;
 (importer.path.startsWith(<span class="hljs-string">"dart_internal/"</span>) ||
 importer.path.startsWith(<span class="hljs-string">"dynamic_modules/"</span>)));
</code></pre>
<p>ä»ä¸Šé¢ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥å¾—çŸ¥ï¼Œå¦‚æœåº“çš„åç§°æ˜¯dart_internalæˆ–è€… dynamic_modulesåˆ™æ²¡æœ‰dart:_internalåŒ…çš„è°ƒç”¨é™åˆ¶ã€‚é‚£å°±å¾ˆç®€å•äº†ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ›å»ºä¸€ä¸ªåç§°ä¸ºdynamic_modulesçš„åŒ…,åœ¨é‡Œé¢è°ƒç”¨dart:_internalçš„æ–¹æ³•ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šæŠ¥é”™ã€‚</p>
<p>å…¶æ¬¡æ˜¯IDEçš„æŠ¥é”™ï¼Œä¾‹å¦‚VS Codeï¼Œæˆ‘ä»¬å¯ä»¥åœ¨dynamic_modulesåŒ…ä¸‹é¢çš„analysis_options.yamlä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼ŒæŠ¥é”™æç¤ºå°±ä¼šæ¶ˆå¤±ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">include:</span> <span class="hljs-string">package:lints/recommended.yaml</span>

<span class="hljs-attr">analyzer:</span>
  <span class="hljs-attr">errors:</span>
    <span class="hljs-attr">import_internal_library:</span> <span class="hljs-string">ignore</span>
</code></pre>
<ol>
<li>Flutter SDKç¼–è¯‘é—®é¢˜ï¼š</li>
</ol>
<blockquote>
<p>æ³¨ï¼š Flutter Engine æºç å»ºè®®é€šè¿‡depot_toolsä¸‹è½½ï¼Œå¯èƒ½è¿˜éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œä¸ç„¶ç¬¬ä¸‰æ–¹åº“ä¸å…¨ï¼Œæ˜¯æ²¡åŠæ³•ç¼–è¯‘é€šè¿‡çš„ï¼Œå»ºè®®å¤§å®¶çœ‹ä¸€ä¸‹å®˜æ–¹ä»“åº“çš„è¯´æ˜ã€‚</p>
</blockquote>
<p>Flutter Engineå¯ä»¥é€šè¿‡etå‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œä¸‹è½½Flutter Engineæºç åå¯ä»¥å°† etå‘½ä»¤åŠ å…¥ç¯å¢ƒå˜é‡ï¼Œå¦‚æœä½ å’Œæˆ‘ä¸€æ ·æ˜¯é€šè¿‡VS Codeå’ŒMacè°ƒè¯•ä»£ç ï¼Œå¯ä»¥åœ¨.vscode/settings.jsonä¸­åŠ å…¥å¦‚ä¸‹è®¾ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"terminal.integrated.env.osx"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"PATH"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"your-path-to-flutter-sdk/flutter/engine/src/flutter/bin:$PATH"</span>
   <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤ç¼–è¯‘æœ‰dynamic-modulesç‰¹æ€§çš„hostç¯å¢ƒï¼ˆå› ä¸ºæˆ‘æ˜¯apple M4 è¿™é‡Œé€‰äº†arm64ï¼‰ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">et build --config host_release_arm64 --gn-args="--dart-dynamic-modules" --verbose
</code></pre>
<p>hostç¯å¢ƒè¡¨ç¤ºä½ çš„Flutteræ‰€å±PCè¿è¡Œç¯å¢ƒï¼Œå¯ä»¥æ˜¯linuxï¼Œwindowsæˆ–macos</p>
<ol>
<li>flutter_tools æ”¯æŒdynamic-modulesé—®é¢˜ï¼š</li>
</ol>
<p>Flutter æºç çš„ç¼–è¯‘æ˜¯é€šè¿‡flutter_toolsä¸­è½¬ï¼Œæœ€ç»ˆè¿˜æ˜¯é€šè¿‡ frontend_server è¿›è¡Œç¼–è¯‘çš„ï¼Œfrontend_serveræºä»£ç å¯ä»¥åœ¨ dart sdkæºç çš„ pkg/frontend_serverä¸­æ‰¾åˆ°ï¼Œåœ¨frontend_serverä¸­æˆ‘ä»¬å¯ä»¥æ‰¾åˆ° --dynamic-interface é€‰é¡¹ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬å¯ä»¥é€šè¿‡flutter_toolså°†-dynamic-interface é€‰é¡¹é€ä¼ è¿‡å»ï¼Œå°±èƒ½å¤Ÿç¼–è¯‘å‡ºå¯æ··åˆè¿è¡Œå­—èŠ‚ç çš„åŒ…ï¼Œè€Œflutter_toolsä¸­åˆšåˆšæœ‰--extra-front-end-optionsè¿™ä¹ˆä¸ªå‚æ•°é¡¹å¯ä»¥é€ä¼ åˆ°frontend_serverä¸­ã€‚ä»¥ä¸‹å‘½ä»¤å¯ä»¥å‚è€ƒï¼š</p>
<pre><code class="hljs language-shell" lang="shell">flutter run -d macos 
--local-engine-host=your-path-to-flutter-sdk/flutter/engine/src/out/host_release_arm64 
--local-engine=your-path-to-flutter-sdk/flutter/engine/src/out/host_release_arm64 
--release --extra-front-end-options=--dynamic-interface=dynamic_interface.yaml
</code></pre>
<p>ä¸Šé¢çš„ä»£ç å¯ä»¥è®©æˆ‘ä»¬è¿è¡Œåœ¨Flutter Engineæºç ç¼–è¯‘å‡ºè¿è¡Œç¯å¢ƒä¸­ï¼Œä¸”åŠ ä¸Š --dynamic-interfaceå‚æ•°ã€‚</p>
<ol>
<li>ç¼–è¯‘åŠ¨æ€åŒ–è¿è¡Œçš„å­—èŠ‚ç ï¼š</li>
</ol>
<p>å¦‚ä½•ç¼–è¯‘å¯åŠ¨æ€åŒ–è¿è¡Œçš„å­—èŠ‚ç ï¼Œæ—©åœ¨dynamic_modulesåº“ä¸­çš„æµ‹è¯•ç”¨ä¾‹çš„å®ç°ä»£ç ä¸­å°±èƒ½å¤Ÿæ‰¾åˆ°ï¼Œè¿™é‡Œç®€å•è¯´æ˜ä¸€ä¸‹dynamic_modulesæ˜¯å¦‚ä½•æµ‹è¯•çš„ï¼š</p>
<ul>
<li>a. é€šè¿‡ gen_kernel_aot.dart.snapshot ç¼–è¯‘å‡ºkernalæ–‡ä»¶,ç¼–è¯‘éœ€è¦æ·»åŠ --dynamic-interface dynamic_interface.yaml ç”¨æ¥æè¿°åŠ¨æ€åŒ–çš„èŒƒå›´dynamic_interface.yaml å¦‚ä½•ç¼–å†™åœ¨dynamic_modulesçš„READMEä¸­æœ‰å™è¿°ï¼Œè¿™é‡Œä¸åœ¨é‡å¤ã€‚</li>
<li>b.è°ƒç”¨createTrimmedCopyå‡½æ•°å¯¹kernelæ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼ˆè¿™ä¸ªæ˜¯å¯é€‰é¡¹ï¼Œä¸è¿›è¡Œå‹ç¼©ä¹Ÿå¯ä»¥è¿è¡Œï¼‰</li>
<li>c. é€šè¿‡ dart2bytecode.dart.snapshot ç¼–è¯‘å‡ºå­—èŠ‚ç ï¼Œç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦ç”¨åˆ°ä¸Šé¢ç¼–è¯‘å‡ºçš„kernalæ–‡ä»¶ä»¥åŠdynamic_interface.yaml æ–‡ä»¶ã€‚</li>
<li>d. gen_kernel_aot.dart.snapshot ç¼–è¯‘å‡ºaotæ–‡ä»¶ï¼ˆè¿™ä¸ªæ˜¯éªŒè¯é¡¹ï¼ŒéªŒè¯kernalèƒ½æ­£å¸¸ç¼–è¯‘å‡ºaotäº§ç‰©ï¼‰</li>
</ul>
<blockquote>
<p>æ³¨ï¼šæ­¥éª¤ aå’Œæ­¥éª¤cæ˜¯ç”Ÿæˆå­—èŠ‚ç çš„å¿…é¡»è¿‡ç¨‹ã€‚</p>
</blockquote>
<hr/>
<p>OK å‡†å¤‡å·¥ä½œå·²ç»åšå®Œï¼Œä¸‹é¢æ˜¯é‡å¤´æˆï¼šå†™ä¸€ä¸ªFlutterç¨‹åºç”¨æ¥éªŒè¯è¿™ä¸ªåŠ¨æ€åŒ–æ–¹æ¡ˆæ˜¯å¦èƒ½è·‘é€šäº†ã€‚</p>
<p>æµ‹è¯•ç¨‹åºå·²ç»å¼€æºï¼šÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flancexin%2Fdemo_dynamic_feature_modules" target="_blank" title="https://github.com/lancexin/demo_dynamic_feature_modules" ref="nofollow noopener noreferrer">ä¸‹è½½åœ°å€</a></p>
<p>ç°åœ¨è®©æˆ‘è¯´ä¸€ä¸‹è¿™ä¸ªæµ‹è¯•ç¨‹åºçš„ä»£ç ç»“æ„ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">demo_dynamic_feature_modules</span> <span class="hljs-comment"># æµ‹è¯•ç¨‹åºï¼ˆéåŠ¨æ€åŒ–æ¯åŒ…ï¼‰</span>
  <span class="hljs-string">-assets</span> <span class="hljs-comment"># èµ„æº</span>
    <span class="hljs-string">-modules</span>
      <span class="hljs-string">dynamic_module_1.bytecode</span> <span class="hljs-comment"># åŠ¨æ€åŒ–å­—èŠ‚ç 1</span>
      <span class="hljs-string">dynamic_module_2.bytecode</span> <span class="hljs-comment"># åŠ¨æ€åŒ–å­—èŠ‚ç 2</span>
  <span class="hljs-string">-bin</span>
    <span class="hljs-string">build_modules.dart</span> <span class="hljs-comment"># æ‰§è¡Œç¼–è¯‘å­—èŠ‚ç æ“ä½œ</span>
    <span class="hljs-string">env.dart</span> <span class="hljs-comment"># ç¼–è¯‘ç¯å¢ƒåˆå§‹åŒ–</span>
  <span class="hljs-string">-pacakges</span>
    <span class="hljs-string">-dynamic_modules</span> <span class="hljs-comment"># åŠ¨æ€åŒ–è°ƒç”¨åº“</span>
    <span class="hljs-string">-dynamic_modules_1</span> <span class="hljs-comment"># åŠ¨æ€åŒ–ä»£ç åº“1 ä¼šç¼–è¯‘æˆå­—èŠ‚ç ï¼šdynamic_module_1.bytecode</span>
    <span class="hljs-string">-dynamic_modules_2</span> <span class="hljs-comment"># åŠ¨æ€åŒ–ä»£ç åº“2 ä¼šç¼–è¯‘æˆå­—èŠ‚ç ï¼šdynamic_module_2.bytecode</span>
  <span class="hljs-string">-lib</span>
    <span class="hljs-string">home.dart</span> <span class="hljs-comment"># é¦–é¡µé¢</span>
    <span class="hljs-string">main.dart</span> 
    <span class="hljs-string">router.dart</span> <span class="hljs-comment"># è·¯ç”±ä»¥åŠæ‡’åŠ è½½åŠ¨æ€åŒ–å­—èŠ‚ç å®ç°é€»è¾‘</span>
    <span class="hljs-string">shared.dart</span> <span class="hljs-comment"># åŠ¨æ€åŒ–å­—èŠ‚ç å¯å…¬ç”¨çš„ä»£ç éƒ¨åˆ†</span>
  <span class="hljs-string">dynamic_interface.yaml</span> <span class="hljs-comment">#åŠ¨æ€åŒ–æè¿°æ–‡ä»¶</span>
  <span class="hljs-string">pubspec.yaml</span>
</code></pre>
<p>ä¸€äº›ä»£ç çš„è¡¥å……è¯´æ˜ï¼š</p>
<ol>
<li>éåŠ¨æ€åŒ–æ¯åŒ…Â <em><strong>demo_dynamic_feature_modules</strong></em>Â æ˜¯ä¸ä¾èµ–Â <em><strong>dynamic_modules_1</strong></em>å’ŒÂ <em><strong>dynamic_modules_2</strong></em>çš„ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥ä¿è¯åœ¨ç¼–è¯‘<em><strong>demo_dynamic_feature_modules</strong></em>æ—¶ä¸ä¼šå°†åŠ¨æ€åŒ–éƒ¨åˆ†çš„ä»£ç ç¼–è¯‘è¿›å»ã€‚</li>
<li><em><strong>dynamic_modules_1</strong></em>Â å’ŒÂ <em><strong>dynamic_modules_2</strong></em>æ˜¯ä¾èµ–Â <em><strong>demo_dynamic_feature_modules</strong></em>çš„ï¼Œè¿™èƒ½ä¿è¯Â <em><strong>dynamic_modules_1</strong></em>å’Œ<em><strong>dynamic_modules_2</strong></em>ä¸­çš„åŠ¨æ€åŒ–ä»£ç å¯ä»¥è°ƒç”¨éåŠ¨æ€åŒ–æ¯åŒ…ä¸­çš„ä»£ç ã€‚</li>
<li><em><strong>dynamic_modules_1</strong></em>å’ŒÂ <em><strong>dynamic_modules_2</strong></em>ç¼–è¯‘æˆå­—èŠ‚ç åä¼šæ‰“åŒ…æˆèµ„æºæ”¾åœ¨assetsé‡Œï¼Œä½†åœ¨å®é™…è¿‡ç¨‹ä¸­æˆ‘ä»¬å¯ä»¥å°†è¿™äº›å­—èŠ‚ç æ–‡ä»¶é€šè¿‡ç½‘ç»œæ–¹å¼ä¸‹è½½å¹¶åŠ è½½æ‰§è¡Œï¼Œè¾¾åˆ°çƒ­æ›´æ–°çš„ç›®çš„ã€‚</li>
<li>å¦‚æœæ˜¯ä¸ºäº†çƒ­ä¿®å¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†<em><strong>dynamic_modules_1</strong></em> <strong>å’Œ</strong> <em><strong>dynamic_modules_2</strong></em>çš„ä»£ç æ‰“åŒ…è¿›æ¯ç¨‹åºé‡Œçš„ï¼Œæˆ‘ä»¬åªéœ€è¦å°†åŠ¨æ€åŒ–éƒ¨åˆ†çš„ä»£ç é‡Œçš„åŒ…åç§°ä¿®æ”¹ä¸€ä¸‹ï¼Œå°±èƒ½å¤Ÿå®ç°ä¸åŸæœ‰é€»è¾‘ä¸å†²çªçš„å‰æä¸‹æ‰§è¡ŒåŠ¨æ€ä¸‹å‘çš„é€»è¾‘ï¼Œè¿™ä¸ªç¨‹åºåªæ˜¯ä¸ºäº†éªŒè¯å­—èŠ‚ç æ˜¯å¦èƒ½å¤Ÿåœ¨AOTæ¨¡å¼ä¸‹æ‰§è¡Œï¼Œå¹¶æ²¡æœ‰åšè¿™æ–¹é¢çš„å®ç°ã€‚</li>
</ol>
<p>ä¸€äº›ä»£ç æ®µä¸æ³¨é‡Šï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># &lt;dynamic_interface.yaml&gt;</span>
<span class="hljs-comment"># Copyright (c) 2024, the Dart project authors. Please see the AUTHORS file</span>
<span class="hljs-comment"># for details. All rights reserved. Use of this source code is governed by a</span>
<span class="hljs-comment"># BSD-style license that can be found in the LICENSE file.</span>


<span class="hljs-attr">extendable:</span>
  <span class="hljs-comment"># åŠ¨æ€åŒ–ä»£ç é‡Œç»§æ‰¿äº†StatefulWidgetè¿™éƒ¨åˆ†æ˜¯å¿…é¡»çš„</span>
 <span class="hljs-bullet">-</span> <span class="hljs-attr">library:</span> <span class="hljs-string">'package:flutter/material.dart'</span>


<span class="hljs-attr">can-be-overridden:</span>
 <span class="hljs-comment"># åŠ¨æ€åŒ–ä»£ç é‡Œç»§æ‰¿äº†StatefulWidgetè¿™éƒ¨åˆ†æ˜¯å¿…é¡»çš„</span>
 <span class="hljs-bullet">-</span> <span class="hljs-attr">library:</span> <span class="hljs-string">'package:flutter/material.dart'</span>


<span class="hljs-attr">callable:</span>
  <span class="hljs-comment"># coreä¸€èˆ¬æ˜¯å¿…é¡»å€’å…¥çš„ï¼Œä¸ç„¶åŸºæœ¬å˜é‡éƒ½æ²¡æ³•è°ƒç”¨</span>
 <span class="hljs-bullet">-</span> <span class="hljs-attr">library:</span> <span class="hljs-string">'dart:core'</span>
  <span class="hljs-comment"># åŠ¨æ€åŒ–ä»£ç é‡Œç»§æ‰¿äº† StatefulWidgetè¿™éƒ¨åˆ†æ˜¯å¿…é¡»çš„</span>
 <span class="hljs-bullet">-</span> <span class="hljs-attr">library:</span> <span class="hljs-string">'package:flutter/material.dart'</span>
  <span class="hljs-comment"># è¿™éƒ¨åˆ†æè¿°äº†æ¯ç¨‹åºé‡Œå¯ä»¥è°ƒç”¨çš„ä»£ç å…¥å£</span>
 <span class="hljs-bullet">-</span> <span class="hljs-attr">library:</span> <span class="hljs-string">'package:demo_dynamic_feature_modules/demo_dynamic_feature_modules.dart'</span>
</code></pre>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// &lt;bin/build_modules.dart&gt;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'env.dart'</span>;

<span class="hljs-keyword">void</span> main() <span class="hljs-keyword">async</span> {
  <span class="hljs-comment">//éaotæ¨¡å¼ç¼–è¯‘kernal</span>
  <span class="hljs-keyword">await</span> compileFlutterKernel(
    repoName: <span class="hljs-string">"demo_dynamic_feature_modules"</span>,
    enterPoint: <span class="hljs-string">"lib/main.dart"</span>,
    isAot: <span class="hljs-keyword">false</span>,
  );
  <span class="hljs-comment">//éaotæ¨¡å¼ç¼–è¯‘kernalï¼Œå¹¶éªŒè¯ç¼–è¯‘æˆaotæ–‡ä»¶</span>
  <span class="hljs-keyword">await</span> compileFlutterKernel(
    repoName: <span class="hljs-string">"demo_dynamic_feature_modules"</span>,
    enterPoint: <span class="hljs-string">"lib/main.dart"</span>,
    isAot: <span class="hljs-keyword">true</span>,
  );
  <span class="hljs-comment">//ç¼–è¯‘dynamic_module_1å­—èŠ‚ç </span>
  <span class="hljs-keyword">await</span> compileDynamicModule(
    repoName: <span class="hljs-string">"demo_dynamic_feature_modules"</span>,
    enterPoint: <span class="hljs-string">"lib/dynamic_module_1.dart"</span>,
    name: <span class="hljs-string">'dynamic_module_1'</span>,
    out: <span class="hljs-string">'assets/modules/dynamic_module_1.bytecode'</span>,
    isAot: <span class="hljs-keyword">false</span>,
  );
  <span class="hljs-comment">//ç¼–è¯‘dynamic_module_2å­—èŠ‚ç </span>
  <span class="hljs-keyword">await</span> compileDynamicModule(
    repoName: <span class="hljs-string">"demo_dynamic_feature_modules"</span>,
    enterPoint: <span class="hljs-string">"lib/dynamic_module_2.dart"</span>,
    name: <span class="hljs-string">'dynamic_module_2'</span>,
    out: <span class="hljs-string">'assets/modules/dynamic_module_2.bytecode'</span>,
    isAot: <span class="hljs-keyword">false</span>,
  );
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// &lt;main.dart&gt;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:demo_dynamic_feature_modules/demo_dynamic_feature_modules.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;

<span class="hljs-keyword">void</span> main() <span class="hljs-keyword">async</span> {
  WidgetsFlutterBinding.ensureInitialized();
  runApp(<span class="hljs-keyword">const</span> MyApp());
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-keyword">const</span> MyApp({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> MaterialApp(
      title: <span class="hljs-string">'Dynamic Module Demo'</span>,
      theme: ThemeData(colorScheme: .fromSeed(seedColor: Colors.deepPurple)),
      onGenerateRoute: MyRouter.onGenerateRoute,
    );
  }
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// &lt;home.dart&gt;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;

<span class="hljs-comment">//é¦–é¡µ</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> Home({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  State&lt;Home&gt; createState() =&gt; _HomeState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_HomeState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">Home</span>&gt; </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: Text(<span class="hljs-string">"Dynamic Feature Modules Test"</span>)),
      body: SingleChildScrollView(
        child: Column(
          children: [
            TextButton(
              onPressed: () {
                <span class="hljs-comment">//ç‚¹å‡»è·³è½¬åˆ°åŠ¨æ€åŒ–æ¨¡å—1</span>
                Navigator.of(context).pushNamed(<span class="hljs-string">"/dynamic_module_1"</span>);
              },
              child: Text(<span class="hljs-string">"dynamic_module_1"</span>),
            ),
            TextButton(
              onPressed: () {
                <span class="hljs-comment">//ç‚¹å‡»è·³è½¬åˆ°åŠ¨æ€åŒ–æ¨¡å—2</span>
                Navigator.of(context).pushNamed(<span class="hljs-string">"/dynamic_module_2"</span>);
              },
              child: Text(<span class="hljs-string">"dynamic_module_2"</span>),
            ),
          ],
        ),
      ),
    );
  }
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// &lt;shared.dart&gt;</span>
<span class="hljs-comment">// å…¨å±€å…±ç”¨çš„å‚æ•°ï¼Œåœ¨æ¯åŒ…ä¸­ä¼šè¢«ç¼–è¯‘æˆaotä»£ç </span>
<span class="hljs-built_in">int</span> _refreshCount = <span class="hljs-number">0</span>;

<span class="hljs-built_in">int</span> <span class="hljs-keyword">get</span> refreshCount =&gt; _refreshCount;

<span class="hljs-keyword">set</span> refreshCount(<span class="hljs-built_in">int</span> c) {
  _refreshCount = c;
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// &lt;router.dart&gt;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:demo_dynamic_feature_modules/home.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:dynamic_modules/dynamic_modules.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/services.dart'</span> <span class="hljs-keyword">show</span> rootBundle;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyRouter</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> home = <span class="hljs-string">"/home"</span>;

  <span class="hljs-comment">//è·¯ç”±è¡¨</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, Widget <span class="hljs-built_in">Function</span>(BuildContext)&gt; routes = {
    <span class="hljs-string">"/home"</span>: (BuildContext context) =&gt; <span class="hljs-keyword">const</span> Home(),
    <span class="hljs-string">"/"</span>: (BuildContext context) =&gt; <span class="hljs-keyword">const</span> Home(), <span class="hljs-comment">//homeå…¥å£</span>
  };

  <span class="hljs-comment">//è·¯ç”±å…¥å£</span>
  <span class="hljs-keyword">static</span> Route&lt;<span class="hljs-built_in">dynamic</span>&gt;? onGenerateRoute(RouteSettings settings) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"onGenerateRoute <span class="hljs-subst">${settings.name}</span>"</span>);
    <span class="hljs-comment">//æŸ¥æ‰¾è·¯ç”±è¡¨å›è°ƒæ–¹æ³•</span>
    <span class="hljs-keyword">var</span> routerFun = routes[settings.name];
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"routerFun is  <span class="hljs-subst">${routerFun}</span>"</span>);

    <span class="hljs-comment">//å¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™è°ƒç”¨åŠ¨æ€åŒ–åŠ è½½å™¨è¿›è¡ŒåŠ è½½</span>
    <span class="hljs-keyword">if</span> (routerFun == <span class="hljs-keyword">null</span>) {
      <span class="hljs-keyword">return</span> MaterialPageRoute(
        builder: (context) =&gt; DynamicModuleLoader(name: settings.name!),
      );
    }
    <span class="hljs-comment">//å¦åˆ™ç›´æ¥è¿”å›</span>
    <span class="hljs-keyword">return</span> MaterialPageRoute(builder: (context) =&gt; routerFun.call(context));
  }
}

<span class="hljs-comment">//åŠ¨æ€åŒ–ä»£ç åŠ è½½å™¨</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DynamicModuleLoader</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> name;
  <span class="hljs-keyword">const</span> DynamicModuleLoader({<span class="hljs-keyword">super</span>.key, <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.name});

  <span class="hljs-meta">@override</span>
  State&lt;DynamicModuleLoader&gt; createState() =&gt; _DynamicModuleLoaderState();

  <span class="hljs-built_in">String</span> <span class="hljs-keyword">get</span> <span class="hljs-keyword">library</span> =&gt; <span class="hljs-string">"package:<span class="hljs-subst">$name</span><span class="hljs-subst">$name</span>.dart"</span>;
  <span class="hljs-built_in">String</span> <span class="hljs-keyword">get</span> module =&gt; <span class="hljs-string">"assets/modules<span class="hljs-subst">$name</span>.bytecode"</span>;
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_DynamicModuleLoaderState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">DynamicModuleLoader</span>&gt; </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
  }

  Widget _widgetError(<span class="hljs-built_in">String</span> error) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(),
      body: Center(child: Text(error)),
    );
  }

  Future createLoadFuture() {
    <span class="hljs-keyword">var</span> uri = <span class="hljs-built_in">Uri</span>.parse(widget.<span class="hljs-keyword">library</span>);

    <span class="hljs-comment">//åˆ¤æ–­è¯¥åŠ¨æ€åŒ–åŒ…æ˜¯å¦å·²ç»åŠ è½½è¿‡</span>
    <span class="hljs-keyword">if</span> (isModuleLoaded(uri)) {
      <span class="hljs-comment">//å¦‚æœæœ‰ä»¥uriçš„æ–¹å¼åŠ è½½</span>
      <span class="hljs-comment">//æµ‹è¯•å‘ç°dartåº•å±‚ä»£ç å¹¶æ²¡æœ‰å®ç°loadModuleFromUriï¼Œè°ƒç”¨ä¸ä¼šç”Ÿæ•ˆ</span>
      <span class="hljs-keyword">return</span> loadModuleFromUri(uri);
    }
    <span class="hljs-comment">//åŠ è½½èµ„æºä¸­çš„å­—èŠ‚ç èµ„æº</span>
    <span class="hljs-keyword">return</span> rootBundle.load(widget.module).then((value) {
      <span class="hljs-keyword">return</span> loadModuleFromBytes(
        <span class="hljs-built_in">Uri</span>.parse(widget.<span class="hljs-keyword">library</span>),
        value.buffer.asUint8List(),
      );
    });
  }

  Future&lt;<span class="hljs-built_in">Object?</span>&gt; <span class="hljs-keyword">get</span> loadFuture {
    <span class="hljs-keyword">return</span> createLoadFuture()
        .then((r) <span class="hljs-keyword">async</span> {
          <span class="hljs-comment">//æ¨¡æ‹Ÿå­—èŠ‚ç ä¸‹è½½è¿‡ç¨‹ï¼Œå»¶æ—¶2ç§’</span>
          <span class="hljs-keyword">await</span> Future.delayed(<span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">2</span>));
          <span class="hljs-keyword">return</span> r;
        })
        .onError((error, stackTrace) {
          FlutterError.dumpErrorToConsole(
            FlutterErrorDetails(exception: error!, stack: stackTrace),
            forceReport: <span class="hljs-keyword">true</span>,
          );
          <span class="hljs-keyword">throw</span> error;
        });
  }

  Widget _widgetLoading() {
    <span class="hljs-keyword">return</span> Scaffold(body: Center(child: <span class="hljs-keyword">const</span> CircularProgressIndicator()));
  }

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> FutureBuilder&lt;<span class="hljs-built_in">Object?</span>&gt;(
      future: loadFuture,
      builder: (context, snapshot) {
         <span class="hljs-comment">//åŠ è½½å®Œæˆ</span>
        <span class="hljs-keyword">if</span> (snapshot.connectionState == ConnectionState.done) {
          <span class="hljs-keyword">if</span> (snapshot.hasError) {  <span class="hljs-comment">//åŠ è½½æŠ¥é”™</span>
            <span class="hljs-keyword">return</span> _widgetError(<span class="hljs-string">'Error: <span class="hljs-subst">${snapshot.error}</span>'</span>);
          }
          <span class="hljs-comment">//æ£€æµ‹æ˜¯å¦å·²ç»æ³¨å…¥äº†æ–°è·¯ç”±</span>
          <span class="hljs-keyword">var</span> routeFun = MyRouter.routes[widget.name];
          <span class="hljs-comment">//å¦‚æœå·²ç»æœ‰æ–°è·¯ç”±ç›´æ¥è°ƒç”¨</span>
          <span class="hljs-keyword">return</span> routeFun?.call(context) ??
              _widgetError(<span class="hljs-string">'Error: Router <span class="hljs-subst">${widget.name}</span> not found'</span>);
        }
        <span class="hljs-comment">//åŠ è½½ä¸­</span>
        <span class="hljs-keyword">return</span> _widgetLoading();
      },
    );
  }
}
</code></pre>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// &lt;pacakges/dynamic_module_1/lib/dynamic_module_1.dart&gt;</span>
<span class="hljs-comment">// åŠ¨æ€åŒ–ä»£ç </span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:demo_dynamic_feature_modules/demo_dynamic_feature_modules.dart'</span>;

<span class="hljs-comment">//åŠ¨æ€åŒ–ä»£ç æ‰§è¡Œå…¥å£ï¼Œç›¸å½“äºæ¯ç¨‹åºé‡Œçš„mainå‡½æ•°</span>
<span class="hljs-meta">@pragma</span>(<span class="hljs-string">'dyn-module:entry-point'</span>)
<span class="hljs-built_in">Object?</span> dynamicModuleEntrypoint() {
  <span class="hljs-comment">//æ·»åŠ æ¯ç¨‹åºé‡Œçš„è·¯ç”±</span>
  MyRouter.routes[<span class="hljs-string">"/dynamic_module_1"</span>] = (BuildContext context) =&gt;
      <span class="hljs-keyword">const</span> DynamicModule1();
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
}

<span class="hljs-comment">//åŠ¨æ€åŒ–é¡µé¢ï¼Œç»§æ‰¿ StatefulWidget</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DynamicModule1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> DynamicModule1({<span class="hljs-keyword">super</span>.key});

  <span class="hljs-meta">@override</span>
  State&lt;DynamicModule1&gt; createState() =&gt; _DynamicModule1State();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_DynamicModule1State</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">DynamicModule1</span>&gt; </span>{

  <span class="hljs-comment">//å°†æ¯ç¨‹åºé‡Œçš„ refreshCount èµ‹å€¼ç»™åŠ¨æ€åŒ–å˜é‡</span>
  <span class="hljs-built_in">int</span> _counter = refreshCount;

  <span class="hljs-keyword">void</span> _incrementCounter() {
    setState(() {
      <span class="hljs-comment">//ä¿®æ”¹æ¯ç¨‹åºé‡Œçš„refreshCount</span>
      refreshCount += <span class="hljs-number">1</span>;
      _counter = refreshCount;
    });
  }

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(
        backgroundColor: Theme.of(context).colorScheme.inversePrimary,
        title: Text(<span class="hljs-string">"DynamicModule1"</span>),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: .center,
          children: [
            <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'You have pushed the button this many times:'</span>),
            Text(
              <span class="hljs-string">'<span class="hljs-subst">$_counter</span>'</span>,
              style: Theme.of(context).textTheme.headlineMedium,
            ),
          ],
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: _incrementCounter,
        tooltip: <span class="hljs-string">'Increment'</span>,
        child: <span class="hljs-keyword">const</span> Icon(Icons.add),
      ),
    );
  }
}
</code></pre>
<p><em><strong>ç›®å‰çš„æµ‹è¯•ç»“æœæ˜¯ï¼šåœ¨mac debugï¼Œmac profileï¼Œmac release,android debug ,android profile , android release ,ios debugï¼Œios profileï¼Œios releaseä¸­å·²ç»è·‘é€š</strong></em></p>
<p><em><strong>å‘ç°ä¸€ä¸ªbugï¼šä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘æµ‹è¯•å§¿åŠ¿ä¸å¯¹ï¼Œå¦‚æœåŠ è½½äº† dynamic_module_1 å†åŠ è½½dynamic_module_2ä¼šæŠ¥é”™ï¼Œæç¤ºpackage:demo_dynamic_feature_modules/demo_dynamic_feature_modules.darté‡å¤åŠ è½½ï¼ŒçŒœæµ‹å¯èƒ½æ˜¯åˆ†åŒ…çš„åŸå› ã€‚ä½†åœ¨dynamic_modulesæœ‰åŠ è½½å¤šä¸ªå­—èŠ‚ç æ–‡ä»¶çš„ä¾‹å­ï¼Œå¯èƒ½è¿˜éœ€è¦å†ç ”ç©¶ä¸€ä¸‹</strong></em></p>
<p><em><strong>å‘ç°å¦å¤–ä¸€ä¸ªbugï¼šè²Œä¼¼ç›¸åŒå­—èŠ‚ç åªèƒ½åŠ è½½ä¸€æ¬¡ï¼Œä¸èƒ½è¦†ç›–æ“ä½œï¼Œæš‚æ—¶ä¹Ÿæ²¡æ‰¾åˆ°å¸è½½çš„åŠæ³•ï¼Œä¸ºæ­¤æˆ‘æ·»åŠ äº† isModuleLoadedå‡½æ•°å»åˆ¤æ–­ã€‚åŸæœ¬åŠ¨æ€åŒ–å…¥å£å‡½æ•° <strong>dynamicModuleEntrypoint</strong>åŸæœ¬æ˜¯è¿”å›ä¸€ä¸ªWidgetçš„ï¼Œç°åœ¨æ”¹æˆæ“ä½œæ¯ç¨‹åºé‡Œçš„è·¯ç”±äº†ã€‚</strong></em></p>
<p><em><strong>åˆå‘ç°ä¸€ä¸ªçš„bugï¼šè™½ç„¶dart:_internal åŒ…é‡Œ loadDynamicModuleå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•° uriå’Œbytesï¼Œä½†æŸ¥æ‰¾nativeçš„è°ƒç”¨å¹¶æ²¡æœ‰å®ç°é€šè¿‡uriåŠ è½½çš„å®ç°ï¼Œå‘çˆ¹å™¢ã€‚</strong></em></p>
<hr/>
<p>ä¸è¿‡ï¼Œä¸è¿‡ï¼Œä¸è¿‡ï¼Œæœªæ¥å¯æœŸå•Šï¼ï¼ï¼ï¼Œå°±åƒåšä¸€ä¸ªæ±½è½¦ï¼Œæœ€éš¾çš„å‘åŠ¨æœºå·²ç»æœ‰äº†ï¼Œå…¶ä»–é…ä»¶éƒ½æ˜¯å°èœä¸€ç¢Ÿäº†ã€‚æœ‰èƒ½åŠ›çš„å‚ç”šè‡³å·²ç»èƒ½åŸºäºç°çŠ¶å®ç°è‡ªå·±çš„åŠ¨æ€åŒ–æ–¹æ¡ˆäº†ã€‚</p>
<p>æ‰€ä»¥ä¸å¹ä¸é»‘ï¼Œ Flutterå®˜æ–¹çš„åŠ¨æ€åŒ–æ–¹æ¡ˆåœ¨ä¸ä¹…çš„å°†æ¥æˆ–è®¸çœŸçš„è¦æ¥äº†ã€‚</p>
<p>ä¸è¿‡æˆ‘è¿™ä¹Ÿåªæ˜¯åˆæ­¥æµ‹è¯•ï¼Œæ€§èƒ½æ–¹é¢çš„æµ‹è¯•è¿˜æ¯”è¾ƒæ¬ ç¼ºçš„ï¼Œå¸Œæœ›èƒ½æœ‰å¤§ç‰›è¡¥ä¸Šå§ã€‚</p>
<p>å¯èƒ½æœ‰åŒå­¦é—®ï¼Œè¿™ä¹ˆæåˆ°åº•AppStoreèƒ½ä¸èƒ½è¿‡å®¡å•Šï¼Ÿæˆ‘çš„çœ‹æ³•æ˜¯èƒ½è¿‡ï¼Œå› ä¸ºä¸‹å‘çš„å­—èŠ‚ç æ˜¯ä¾èµ–Dartè™šæ‹Ÿæœºæ‰§è¡Œçš„ï¼Œä¸”è¿™äº›å­—èŠ‚ç çš„æ‰§è¡Œå¹¶æ²¡æœ‰ç”¨åˆ°jitï¼Œä»ç„¶æ˜¯è§£é‡Šæ‰§è¡Œçš„èŒƒç•´ã€‚ä¸‹å‘çš„å­—èŠ‚ç ä¹Ÿå¹¶ä¸æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ã€‚æ˜¯ç¬¦åˆAppStoreå®¡æ ¸æ ‡å‡†çš„ï¼ŒGoogle Playæ›´ä¸ç”¨è¯´äº†ã€‚å› ä¸ºIOSè¿™å—çš„å®ç°åŸç†å¯ä»¥è¯´è·Ÿshorebirdæ˜¯ä¸€èˆ¬æ— äºŒçš„ã€‚shorebirdéƒ½ç¬¦åˆå®¡æ ¸ï¼Œæƒ³æ¥è¿™ä¸ªä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<p>å¯èƒ½è¿˜æœ‰åŒå­¦é—®ï¼Œæ€§èƒ½åˆ°åº•æ€ä¹ˆæ ·å•Šï¼Ÿæˆ‘æ²¡æµ‹è¯•è¿‡ï¼Œä½†æ˜¯æƒ³æ¥åº”è¯¥è‡³å°‘è·Ÿshorebirdæ˜¯ä¸€ä¸ªæ¡£æ¬¡å§ï¼Œå› ä¸ºå®ç°åŸç†æ˜¯ç›¸åŒçš„ã€‚è‚¯å®šæ¯”ä¸è¿‡çº¯aotè¿è¡Œçš„ï¼Œä½†æ˜¯è‚¯å®šæ˜¯å¥½äºFairçš„ç”¨JsCoreæˆ–ä¸€äº›Luaæ–¹æ¡ˆçš„ï¼Œä¹Ÿè‚¯å®šæ¯”æˆ‘ä»¥å‰å®ç°çš„MicroDartå¼ºã€‚æ¯•ç«ŸåŠ¨æ€åŒ–ä»£ç æ˜¯å°éƒ¨åˆ†çš„ï¼Œå¤§éƒ¨åˆ†ä»£ç è¿˜æ˜¯aotè¿è¡Œçš„ï¼ˆå®šé‡çš„è¯çŒœæµ‹æœ‰ä¸ª10%å·¦å³çš„å·®è·ï¼‰ã€‚</p>
<p>ä¾‹å¤–å¤šä¸€å˜´ï¼Œå¦‚æœFlutterå®˜æ–¹çœŸæ¨å‡ºåŠ¨æ€åŒ–è§£å†³æ–¹æ¡ˆï¼Œshorebirdåº”è¯¥å¦‚ä½•è‡ªå¤„å‘¢ï¼Ÿå“ˆå“ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[[æ‰è™«æ—¥è®°] ç»™ useImperativeHandle åŠ ä¸ªç©ºä¾èµ–ï¼Œç«Ÿè®©æˆ‘ debug n å°æ—¶]]></title>    <link>https://juejin.cn/post/7584340871413039131</link>    <guid>https://juejin.cn/post/7584340871413039131</guid>    <pubDate>2025-12-17T01:51:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584340871413039131" data-draft-id="7584383352448155686" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="[æ‰è™«æ—¥è®°] ç»™ useImperativeHandle åŠ ä¸ªç©ºä¾èµ–ï¼Œç«Ÿè®©æˆ‘ debug n å°æ—¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-17T01:51:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="siroi"/> <meta itemprop="url" content="https://juejin.cn/user/215976573153598"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            [æ‰è™«æ—¥è®°] ç»™ useImperativeHandle åŠ ä¸ªç©ºä¾èµ–ï¼Œç«Ÿè®©æˆ‘ debug n å°æ—¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/215976573153598/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    siroi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T01:51:06.000Z" title="Wed Dec 17 2025 01:51:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å†å²é¡¹ç›®çš„ â€œå°éœ€æ±‚â€ ä»æ¥éƒ½æ˜¯åŸ‹é›·é‡ç¾åŒº â€”â€” ä¸Šå‘¨éšæ‰‹ç»™ä¸€ä¸ªä¸€å¹´å‰çš„ç»„ä»¶åŠ äº†è¡Œä¾èµ–é¡¹ï¼Œæœ¬ä»¥ä¸ºæ˜¯ä¼˜åŒ–ï¼Œç»“æœå‘¨ä¸€è¢«æµ‹è¯•å¤§å“¥çš„åé¦ˆæš´å‡»ï¼Œä¸€ä¸­åˆæ·±é™· [é—­åŒ…é™·é˜± + EventLoop] è¿·å±€ï¼Œå·®ç‚¹æ²¡æ‰›ä½ã€‚</p>
</blockquote>
<h2 data-id="heading-0">éœ€æ±‚èƒŒæ™¯</h2>
<p>å…ˆçœ‹æ¶‰åŠåˆ°è¿™æ¬¡å˜æ›´çš„æµç¨‹å’Œç›¸å…³ä½œç”¨ï¼š <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9f17a6515bf43c3b7ed5d4cdf9c9e2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2lyb2k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766541066&amp;x-signature=v1o3%2FfGd4cXey9qU%2Fyqk2NYhIys%3D" alt="upload_lpyggl55ribmy9l8qqed04udq5dygg6y.png" width="70%" loading="lazy"/></p>
<ul>
<li><code>ManagementCompnent</code> å°è£…äº†ProTableï¼Œé€šè¿‡ <strong>ref</strong> å¯¹å¤–æš´éœ²reloadTableç­‰æ–¹æ³•ï¼›</li>
<li>è¢«ä¸¤ä¸ªé¡µé¢å¤ç”¨ï¼š<code>management</code> é¡µé¢ç›´æ¥å¼•å…¥ï¼Œ<code>system_management</code> é¡µé¢é€šè¿‡ModalåŒ…è£¹å¼•å…¥ï¼›</li>
<li>ä¾èµ– <code>useGetWarehouseBeta</code> è¿™ä¸ªæ•°æ®å­—å…¸ Hookï¼Œå¿…é¡»ç­‰å­—å…¸æ•°æ®è¿”å›åï¼ŒProTableæ‰èƒ½æ­£å¸¸è¯·æ±‚åˆ—è¡¨ï¼ˆå¦åˆ™ä¼šæ¸²æŸ“å¼‚å¸¸ï¼‰ã€‚è¯¦è§å¦ä¸€ç¯‡æ–‡ç«  <a href="https://juejin.cn/post/7377672990408802313" target="_blank" title="https://juejin.cn/post/7377672990408802313">[å¼€å‘éšç¬”] å‰ç«¯å¤„ç†æ•°æ®å­—å…¸é—®é¢˜çš„è¸©å‘ä¸å¡«å‘</a></li>
</ul>
<p>æ­¤å¤–ï¼ŒåŸæ¥çš„ <code>useImperativeHandle</code> æ²¡æœ‰æ˜¾å¼ä¾èµ–é¡¹,éšç€ <code>management</code> é¡µé¢çš„éœ€æ±‚è°ƒæ•´ï¼Œç»™å®ƒä¹ŸåŠ ä¸Šäº†ç©ºä¾èµ–ï¼Œè‡ªæµ‹é¡µé¢æ­£å¸¸ï¼Œäºæ˜¯æäº¤éƒ¨ç½²ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜çˆ†å‘ï¼šModal é‡Œé¢çš„è¡¨æ ¼çªç„¶â€œç½¢å·¥â€</h2>
<p>å‘¨ä¸€æ­£åœ¨æ€è€ƒå¦‚ä½•é‡æ„åŸºç¡€ç»„ä»¶ï¼Œæµ‹è¯•å¤§å“¥çªç„¶ä¸¢äº†ä¸€ä¸ªæˆªå›¾ï¼šå¦å¤–ä¸€ä¸ªï¼ˆsystem_managementï¼‰æ‰“å¼€åï¼Œè¡¨æ ¼æ²¡æ•°æ®ï¼Œ<strong>æ¥å£ä¹Ÿæ²¡å‘ï¼</strong> ï¼Œåªèƒ½ç‚¹å‡»æ‰èƒ½è§¦å‘è¯·æ±‚ï¼</p>
<p>æˆ‘ç›´æ¥å¤§å°çœ¼ï¼Œ<strong>åŒä¸€ä¸ªç»„ä»¶ï¼Œç›´æ¥å¼•å…¥çš„é¡µé¢æ­£å¸¸ï¼ŒModal åŒ…è£¹çš„å°±æŒ‚äº†ï¼Ÿè¿™ä¸æ‰¯å‘¢</strong></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b15a5248a00047d3b86580f06fa3d661~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2lyb2k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766541066&amp;x-signature=jdcPvrvXsLhGAsYhGRKEKIlrYj4%3D" alt="upload_ey830bd3steqpd6tjte8soee3mx0keis.png" width="30%" loading="lazy"/></p>
<p><strong>å…ˆçœ‹å…³é”®ä»£ç ï¼ˆä¸€å¹´å‰çš„ä»£ç ï¼Œç®€ç›´ä¸å¿ç›´è§†ğŸ¤¦â€â™‚ï¸ï¼‰</strong></p>
<blockquote>
<p>è™½ç„¶æ˜¯è‡ªå·±å†™çš„ï¼ŒçœŸçš„æ˜¯å½“æ—¶ä¸ºäº†èµ¶éœ€æ±‚æ’æœŸçå†™äº†ğŸ¤£ã€‚<del>ä»€ä¹ˆæœ€ä½³å®è·µï¼Œè¿˜èƒ½æ¯”ä¸šåŠ¡ä¸Šçº¿é‡è¦ï¼Œè¿˜ä¸å†™æ³¨é‡Š</del></p>
</blockquote>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64c03bfb581d4f6cb7e4e5f7f49c5db1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2lyb2k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766541066&amp;x-signature=E7HXHRXmRp85sywOFn28gIcU%2BIk%3D" alt="upload_dua7lw5qs2eax5zqm7a0g0jb8i5reetn.png" loading="lazy"/></p>
<h2 data-id="heading-2">Management.tsx æ ¸å¿ƒé€»è¾‘</h2>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { isNil } <span class="hljs-keyword">from</span> <span class="hljs-string">'lodash'</span>;
<span class="hljs-keyword">import</span> { forwardRef, useImperativeHandle, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ProTable</span>, <span class="hljs-title class_">ActionType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-table'</span>;
<span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">DictionaryItem</span>,
  useDictionaryItem <span class="hljs-keyword">as</span> useGetWarehouseBeta,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@siroi/react-utils'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Management</span> = <span class="hljs-title function_">forwardRef</span>(<span class="hljs-function">(<span class="hljs-params">props, ref</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> tableRef = useRef&lt;<span class="hljs-title class_">ActionType</span>&gt;(); <span class="hljs-comment">// ProTableçš„ref</span>
  <span class="hljs-keyword">const</span> { tid } = props; <span class="hljs-comment">// ä¸šåŠ¡å”¯ä¸€æ ‡è¯†</span>

  <span class="hljs-comment">// é¢„è¯·æ±‚refï¼šç”¨äºå­—å…¸æ•°æ®åŠ è½½å®Œæˆåè§¦å‘å›è°ƒ</span>
  <span class="hljs-keyword">const</span> preRequestRef = useRef&lt;{
    res?: <span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">unknown</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
    callback?: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;;
  }&gt;({ <span class="hljs-attr">res</span>: <span class="hljs-function">() =&gt;</span> {}, <span class="hljs-attr">callback</span>: <span class="hljs-keyword">async</span> () =&gt; {} });

  <span class="hljs-comment">// æ•°æ®å­—å…¸Hookï¼šç¼“å­˜5åˆ†é’Ÿï¼Œä¾èµ–preRequestRefä¼ é€’å›è°ƒ</span>
  <span class="hljs-keyword">const</span> [tenantRoleData, currentTRD] = <span class="hljs-title function_">useGetWarehouseBeta</span>(
    <span class="hljs-string">'tenant_role'</span>,
    getTenantRoleList,
    <span class="hljs-number">300</span>, <span class="hljs-comment">// ç¼“å­˜5min</span>
    preRequestRef.<span class="hljs-property">current</span>,
  );

  <span class="hljs-comment">// å¯¹å¤–æš´éœ²çš„refæ–¹æ³•ï¼ˆæˆ‘åŠ äº†ç©ºä¾èµ–[]çš„åœ°æ–¹ï¼‰</span>
  <span class="hljs-title function_">useImperativeHandle</span>(ref, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">originRef</span>: tableRef.<span class="hljs-property">current</span>,
      <span class="hljs-attr">reloadTable</span>: <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// å­—å…¸æ•°æ®æœªåŠ è½½å®Œæˆï¼šç¼“å­˜å›è°ƒï¼Œç­‰å¾…å­—å…¸åŠ è½½åæ‰§è¡Œ</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNil</span>(currentTRD)) {
          preRequestRef.<span class="hljs-property">current</span>.<span class="hljs-property">callback</span> = <span class="hljs-keyword">async</span> (...res) =&gt; {
            <span class="hljs-keyword">return</span> tableRef.<span class="hljs-property">current</span>?.<span class="hljs-property">reload</span>?.();
          };
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            preRequestRef.<span class="hljs-property">current</span>.<span class="hljs-property">res</span> = res;
          });
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-comment">// å­—å…¸å·²å­˜åœ¨ï¼šç›´æ¥è§¦å‘è¡¨æ ¼åˆ·æ–°</span>
          tableRef.<span class="hljs-property">current</span>?.<span class="hljs-property">reload</span>?.();
        }
      },
      <span class="hljs-comment">// å…¶ä»–æš´éœ²æ–¹æ³•...</span>
    };
  }, []); <span class="hljs-comment">// ç½ªé­ç¥¸é¦–ï¼šç©ºä¾èµ–é¡¹</span>

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ProTable</span> <span class="hljs-attr">actionRef</span>=<span class="hljs-string">{tableRef}</span> {<span class="hljs-attr">...props</span>} /&gt;</span></span>;
});
</code></pre>
<h2 data-id="heading-3">system_management.tsx</h2>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useState, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Modal</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Management</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./Management'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">SystemManagement</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [showModal, setShowModal] = useState&lt;<span class="hljs-built_in">boolean</span>&gt;(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> originRef = useRef&lt;<span class="hljs-title class_">InstanceType</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Management</span>&gt;&gt;(<span class="hljs-literal">null</span>);

  <span class="hljs-comment">// å¼‚æ­¥æ“ä½œï¼š500msåè°ƒç”¨è¡¨æ ¼åˆ·æ–°</span>
  <span class="hljs-keyword">const</span> loadTable = (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">resolve</span>();
      }, <span class="hljs-number">500</span>);
    });
  };

  <span class="hljs-comment">// æ‰“å¼€Modalå¹¶è§¦å‘åˆ·æ–°</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setShowModal</span>(<span class="hljs-literal">true</span>);
    <span class="hljs-title function_">loadTable</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
      originRef.<span class="hljs-property">current</span>?.<span class="hljs-property">reloadTable</span>?.(); <span class="hljs-comment">// è¿™é‡Œæ²¡è§¦å‘è¡¨æ ¼è¯·æ±‚</span>
    });
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>æ‰“å¼€è¡¨æ ¼<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Modal</span> <span class="hljs-attr">open</span>=<span class="hljs-string">{showModal}</span> <span class="hljs-attr">destroyOnClose</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Management</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{originRef}</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Modal</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};
</code></pre>
<h2 data-id="heading-4">æ ¹å› æ‹†è§£</h2>
<h3 data-id="heading-5">ç¬¬ä¸€å‘ï¼šuseImperativeHandle çš„é—­åŒ…é™·é˜±</h3>
<p>æˆ‘å½“åˆåŠ ç©ºä¾èµ– <code>[]</code> æ—¶ï¼Œå…¶å®å¿ƒé‡Œéšçº¦çŸ¥é“é—­åŒ…é£é™©ï¼Œä½†è¢«ä¸‰ä¸ª â€œè‡ªä»¥ä¸ºæ˜¯çš„ç†ç”±â€ è¯´æœäº†ï¼š</p>
<ol>
<li>æˆ‘æœ‰ <strong>DictionaryItem</strong> å…œåº•ï¼Œç”±äºå®ƒæ˜¯å•ä¾‹ï¼Œæ‰€ä»¥å³ä¾¿ currentTRD ä¸º nullï¼Œæˆ‘çš„è¯·æ±‚ä¹Ÿåªä¼šå‘é€ä¸€æ¬¡ï¼›</li>
<li>å¦‚æœåˆ‡æ¢é¡µé¢æ•´ä¸ªç»„ä»¶ä¹Ÿå¸è½½äº†ï¼Œé‡æ–°è¿›å…¥å†èµ°é€»è¾‘å³å¯ï¼›</li>
<li><del>æˆ‘å‘ç°äº†é—®é¢˜ï¼Œä½†æˆ‘çš„é’±åªæœ‰è¿™ä¹ˆäº›ï¼Œæ—¶é—´ç´§ï¼Œèƒ½ç”¨å°±è¡ŒğŸ˜˜</del>ã€‚</li>
</ol>
<h3 data-id="heading-6">ç¬¬äºŒå‘ï¼šEventLoop çš„æ‰§è¡Œé¡ºåºå†²çª</h3>
<p>å½“æˆ‘æ„è¯†åˆ°é—­åŒ…é—®é¢˜ï¼Œç»™ <em>useImperativeHandle</em> åŠ ä¸Š <code>[currentTRD, tid]</code> ä¾èµ–åï¼Œæ–°çš„é—®é¢˜åˆå‡ºç°äº†ï¼šModal åœºæ™¯ä¸‹tableRef.currentæ‹¿ä¸åˆ°ï¼Œreloadæ–¹æ³•æ‰§è¡Œå¤±è´¥ã€‚</p>
<p><strong>è¿™å°±æ¶‰åŠåˆ°ä¸¤ä¸ªå…³é”®å› ç´ ï¼š</strong></p>
<ul>
<li><code>Modal</code> çš„ <em>destroyOnClose</em> å±æ€§ï¼šå…³é—­åç»„ä»¶å¸è½½ï¼Œé‡æ–°æ‰“å¼€æ—¶éœ€è¦é‡æ–°æ¸²æŸ“ï¼ŒtableRefçš„èµ‹å€¼æ—¶æœºæ™šäºreloadTableçš„è°ƒç”¨ï¼›</li>
<li><strong>äº‹ä»¶å¾ªç¯æœºåˆ¶</strong>ï¼šuseGetWarehouseBeta å†…éƒ¨ç”¨ <code>setTimeoutï¼ˆå®ä»»åŠ¡ï¼‰</code>å¤„ç†å›è°ƒï¼Œè€ŒloadTableçš„ 500ms å»¶è¿Ÿä¹Ÿæ˜¯å®ä»»åŠ¡ï¼Œä¸¤è€…æ‰§è¡Œé¡ºåºå†²çªï¼Œå¯¼è‡´preRequestRef.currentæ²¡åŠæ—¶æ›´æ–°ï¼Œreloadæ–¹æ³•ä¸€ç›´å¤„äº <em>pending</em> çŠ¶æ€ã€‚ <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf56d93a5d354c15a3e2503c368c47e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2lyb2k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766541066&amp;x-signature=3yr2WGs9sbtYfqf8oB7TacMyRa0%3D" alt="upload_6yoemm9fma17ifbe5whklm5bm0n9zaby.png" loading="lazy"/></li>
</ul>
<p>ç®€å•è¯´ï¼šsetStateï¼ˆæ‰“å¼€ Modalï¼‰æ˜¯ç±»ä¼¼å¾®ä»»åŠ¡çš„å¼‚æ­¥æ“ä½œï¼Œç»„ä»¶æ¸²æŸ“å®Œæˆçš„æ—¶æœºæ™šäº reloadTable çš„è°ƒç”¨ï¼Œæ­¤æ—¶ <code>tableRef.current</code> è¿˜æ²¡è¢«èµ‹å€¼ï¼Œè‡ªç„¶æ‰§è¡Œä¸äº† reloadã€‚</p>
<p><strong>ä¹‹å‰ä¸ºä»€ä¹ˆåŸæ¥èƒ½è§¦å‘å‘¢ï¼Ÿ</strong> åŸæ¥çš„ <code>useImperativeHandle</code> æ˜¯æ²¡æœ‰ä¾èµ–é¡¹çš„ï¼Œä¼—æ‰€å‘¨çŸ¥æ²¡æœ‰ä¾èµ–é¡¹ï¼Œé‚£å°±ä¸å­˜åœ¨é—­åŒ…é—®é¢˜ï¼Œå†…éƒ¨çŠ¶æ€æ›´æ–°ï¼Œref å°±è·Ÿç€æ›´æ–°ï¼Œå¤–åŠ ä¸Š loadTable 500ms çš„å»¶è¿Ÿæ‰€æœ‰çš„ ref éƒ½èƒ½æ­£å¸¸è·å–ã€‚</p>
<blockquote>
<p>shit on shitï¼ï¼</p>
</blockquote>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bc581276356429b8f3488b7b58b9d5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2lyb2k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766541066&amp;x-signature=C%2BCkvlU4H5kDe1pZsGN%2F8V4wUHA%3D" alt="upload_dua7lw5qs2eax5zqm7a0g0jb8i5reetn.png" loading="lazy"/></p>
<h2 data-id="heading-7">æœ€ç»ˆè§£å†³</h2>
<ol>
<li><strong>è¡¥å…¨ä¾èµ–é¡¹ï¼Œè§£å†³é—­åŒ…é—®é¢˜</strong></li>
<li><strong>0ms å»¶è¿Ÿå®ä»»åŠ¡ï¼Œä¿è¯ tableRef å¯è®¿é—®</strong> åˆ©ç”¨ EventLoop çš„ç‰¹æ€§ï¼š<code>setTimeout(fn, 0)</code> ä¼šæŠŠå›è°ƒæ¨å…¥ä¸‹ä¸€è½®å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ­¤æ—¶ React å·²ç»å®Œæˆç»„ä»¶æ¸²æŸ“ï¼Œ<code>tableRef.current</code> å·²ç»è¢«æ­£ç¡®èµ‹å€¼ï¼Œå°±èƒ½æ­£å¸¸æ‰§è¡Œ <code>reload</code> æ–¹æ³•.</li>
</ol>
<p>æœ€ç»ˆä¼˜åŒ–åçš„ä»£ç ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-title function_">useImperativeHandle</span>(ref, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">originRef</span>: tableRef.<span class="hljs-property">current</span>,
    <span class="hljs-attr">reloadTable</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNil</span>(currentTRD)) {
        <span class="hljs-comment">// å­—å…¸æœªåŠ è½½ï¼šç¼“å­˜å›è°ƒï¼Œç­‰å¾…å­—å…¸åŠ è½½åæ‰§è¡Œ</span>
        preRequestRef.<span class="hljs-property">current</span>.<span class="hljs-property">callback</span> = <span class="hljs-keyword">async</span> (...res) =&gt; {
          <span class="hljs-keyword">return</span> tableRef.<span class="hljs-property">current</span>?.<span class="hljs-property">reload</span>?.();
        };
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
          preRequestRef.<span class="hljs-property">current</span>.<span class="hljs-property">res</span> = res;
        });
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å­—å…¸å·²åŠ è½½ï¼šç”¨0mså»¶è¿Ÿä¿è¯tableRefèƒ½æ‹¿åˆ°æœ€æ–°å®ä¾‹</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          tableRef.<span class="hljs-property">current</span>?.<span class="hljs-property">reload</span>?.();
        }, <span class="hljs-number">0</span>);
      }
    },
    <span class="hljs-comment">// å…¶ä»–æš´éœ²æ–¹æ³•...</span>
  };
}, [currentTRD, tid]); <span class="hljs-comment">// è¡¥å…¨ä¾èµ–é¡¹ï¼Œè§£å†³é—­åŒ…é—®é¢˜</span>
</code></pre>
<p>åç»æµ‹è¯•å¤§å“¥å›å½’éªŒè¯ï¼Œä¸¤ä¸ªé¡µé¢çš„åœºæ™¯ç›®å‰éƒ½è¡¨ç°æ­£å¸¸ï¼Œ <strong>"é—®é¢˜å®Œç¾è§£å†³ğŸ‰"</strong> ï¼Œå¦‚æœåç»­è¿™ä¸ªç»„ä»¶è¿˜æœ‰æ–°çš„å‘ï¼Œå†åˆ†äº«ï¼ä¸‹è¯¾ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android App æ¢è‚¤åŸç†ï¼šç”¨ "è£…ä¿®å°æˆ¿å­" æ•…äº‹æµ…è°ˆ]]></title>    <link>https://juejin.cn/post/7584353612501073961</link>    <guid>https://juejin.cn/post/7584353612501073961</guid>    <pubDate>2025-12-17T01:39:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584353612501073961" data-draft-id="7584357116433973289" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android App æ¢è‚¤åŸç†ï¼šç”¨ &quot;è£…ä¿®å°æˆ¿å­&quot; æ•…äº‹æµ…è°ˆ"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-17T01:39:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Androidç«¥è¯é•‡"/> <meta itemprop="url" content="https://juejin.cn/user/2716247406161241"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android App æ¢è‚¤åŸç†ï¼šç”¨ "è£…ä¿®å°æˆ¿å­" æ•…äº‹æµ…è°ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2716247406161241/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Androidç«¥è¯é•‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T01:39:42.000Z" title="Wed Dec 17 2025 01:39:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”¨ã€Œç»™ App å°æˆ¿å­æ¢è£…ä¿®ã€çš„æ•…äº‹ï¼Œç»“åˆä»£ç  + æ—¶åºå›¾ï¼ŒæŠŠæ¢è‚¤åŸç†æ‹†å¾—æ˜æ˜ç™½ç™½ â€”â€” å…¨ç¨‹æ— æ™¦æ¶©æœ¯è¯­ï¼</p>
<h2 data-id="heading-0">ä¸€ã€å…ˆè®²ä¸ªå°æ•…äº‹ï¼šå°ç™½çš„ "æš–å¿ƒå°å±‹" æ¢è‚¤è®°</h2>
<p>å°ç™½åšäº†ä¸ªå«ã€Œæš–å¿ƒå°å±‹ã€çš„ Appï¼ˆåƒä¸€é—´å°æˆ¿å­ï¼‰ï¼Œåˆå§‹è£…ä¿®æ˜¯ã€Œç™½å¤©æ¨¡å¼ã€ï¼šç™½å¢™ï¼ˆ<code>bg_main=#FFFFFF</code>ï¼‰ã€é»‘å­—ï¼ˆ<code>text_main=#000000</code>ï¼‰ã€‚ä½†ç”¨æˆ·åæ§½ï¼š</p>
<ul>
<li>æ™šä¸Šçœ‹å¤ªåˆºçœ¼ï¼Œæƒ³è¦ã€Œæš—é»‘æ¨¡å¼ã€ï¼ˆé»‘å¢™ç™½å­—ï¼‰ï¼›</li>
<li>åœ£è¯èŠ‚æƒ³è¦ã€Œå–œåº†æ¨¡å¼ã€ï¼ˆçº¢å¢™ç»¿å­—ï¼‰ã€‚</li>
</ul>
<p>å°ç™½çŠ¯éš¾äº†ï¼šæ€»ä¸èƒ½ä¸ºæ¯ç§é£æ ¼é‡åšä¸€ä¸ª App å§ï¼Ÿæˆ‘å‘Šè¯‰ä»–ï¼š<strong>æ¢è‚¤â‰ é‡å»ºæˆ¿å­ï¼Œåªæ˜¯æ¢è½¯è£…ï¼ˆå¢™æ¼†ã€çª—å¸˜ã€æ²™å‘ï¼‰â€”â€” è¿™äº›è½¯è£…å°±æ˜¯ Android é‡Œçš„ã€Œèµ„æºã€ï¼ˆé¢œè‰²ã€å›¾ç‰‡ã€å­—ä½“ï¼‰ï¼Œæ¢è‚¤æœ¬è´¨æ˜¯ã€Œæ›¿æ¢èµ„æºåŠ è½½æ¥æºã€</strong>ã€‚</p>
<h3 data-id="heading-1">æ•…äº‹é‡Œçš„æ ¸å¿ƒå¯¹åº”å…³ç³»ï¼ˆè®°ç‰¢ï¼ï¼‰</h3>



































<table><thead><tr><th>ç°å®è£…ä¿®</th><th>Android æ¦‚å¿µ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>æˆ¿å­</td><td>App</td><td>æ•´ä½“æ¡†æ¶ï¼ˆä»£ç é€»è¾‘ï¼‰</td></tr><tr><td>è½¯è£…æ¸…å•</td><td>R æ–‡ä»¶</td><td>è®°å½•æ¯ä¸ªè½¯è£…çš„å”¯ä¸€ç¼–å·ï¼ˆæ¯”å¦‚<code>R.color.bg_main</code>å¯¹åº”å¢™æ¼†ï¼‰</td></tr><tr><td>è½¯è£…ä»“åº“</td><td>Resources</td><td>å­˜æ”¾æ‰€æœ‰è½¯è£…ï¼ˆæ ¹æ® R ç¼–å·èƒ½æ‹¿åˆ°å…·ä½“çš„é¢œè‰² / å›¾ç‰‡ï¼‰</td></tr><tr><td>æ–°è½¯è£…åŒ…</td><td>çš®è‚¤ Apk</td><td>åªè£…ã€Œè¦æ›¿æ¢çš„è½¯è£…ã€çš„å°åŒ…ï¼ˆæ— ä»£ç ï¼Œèµ„æºåå’Œä¸» App ä¸€è‡´ï¼‰</td></tr><tr><td>æ¬è¿å·¥</td><td>AssetManager</td><td>æŠŠæ–°è½¯è£…åŒ…æ¬è¿›æˆ¿å­çš„å·¥å…·ï¼ˆé»˜è®¤åªæ¬ä¸» App çš„è½¯è£…ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-2">äºŒã€æ ¸å¿ƒåŸç†æ‹†è§£ï¼š3 æ­¥æå®šæ¢è‚¤</h2>
<p>æ¢è‚¤çš„æœ¬è´¨æ˜¯ã€Œæ›¿æ¢èµ„æºåŠ è½½çš„æ¥æºã€â€”â€” ä»ã€Œä¸» App ä»“åº“ã€æ¢æˆã€Œçš®è‚¤åŒ…ä»“åº“ã€ï¼Œæ ¸å¿ƒåˆ† 3 æ­¥ï¼š</p>
<ol>
<li>åˆ¶ä½œçš®è‚¤åŒ…ï¼ˆåªæ”¾è¦æ›¿æ¢çš„æ–°è½¯è£…ï¼‰ï¼›</li>
<li>åŠ è½½çš®è‚¤åŒ…ï¼ˆè®©æ¬è¿å·¥æ‰¾åˆ°æ–°è½¯è£…ï¼Œå…¼å®¹é«˜ç‰ˆæœ¬ Androidï¼‰ï¼›</li>
<li>åˆ·æ–°ç•Œé¢ï¼ˆæŠŠæ—§è½¯è£…æ¢æˆæ–°çš„ï¼Œå…¼é¡¾æ€§èƒ½ï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-3">ä¸‰ã€ä»£ç å®æ“ï¼šæ‰‹æŠŠæ‰‹å†™ä¸€ä¸ªã€Œèƒ½è½åœ°ã€çš„ç®€æ˜“æ¢è‚¤æ¡†æ¶</h2>
<h3 data-id="heading-4">å‰ç½®å‡†å¤‡</h3>
<ol>
<li><strong>æƒé™ç”³è¯·</strong>ï¼ˆAndroidManifest.xmlï¼‰ï¼šé€‚é…ä¸åŒ Android ç‰ˆæœ¬çš„å­˜å‚¨æƒé™</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- åŸºç¡€è¯»å­˜å‚¨æƒé™ï¼ˆAndroid 6.0+éœ€åŠ¨æ€ç”³è¯·ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.READ_EXTERNAL_STORAGE"</span> 
    <span class="hljs-attr">android:maxSdkVersion</span>=<span class="hljs-string">"29"</span> /&gt;</span> <span class="hljs-comment">&lt;!-- Android 11+ç”¨åˆ†åŒºå­˜å‚¨ï¼Œä¸å†éœ€è¦æ­¤æƒé™ --&gt;</span>
<span class="hljs-comment">&lt;!-- Android 13+ è¯»å–ä¸‹è½½ç›®å½•èµ„æºéœ€åŠ  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.READ_MEDIA_IMAGES"</span> 
    <span class="hljs-attr">android:minSdkVersion</span>=<span class="hljs-string">"33"</span> /&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">application</span> 
    <span class="hljs-attr">android:requestLegacyExternalStorage</span>=<span class="hljs-string">"true"</span> &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">Android</span> <span class="hljs-attr">10</span> <span class="hljs-attr">è¿‡æ¸¡é€‚é…</span> <span class="hljs-attr">--</span>&gt;</span>
    ...&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span>
</code></pre>
<ol start="2">
<li>
<p><strong>åˆ¶ä½œçš®è‚¤åŒ…ï¼ˆå…³é”®ä¼˜åŒ–ï¼šåªæ”¾ã€Œè¦æ›¿æ¢çš„èµ„æºã€ï¼‰</strong> ï¼šæ–°å»ºç©º Android é¡¹ç›®ï¼ˆåˆ é™¤ java/kotlin ä»£ç ï¼Œåªç•™ res ç›®å½•ï¼‰ï¼Œ<strong>ä»…æ”¾å…¥éœ€è¦è¦†ç›–çš„èµ„æº</strong>ï¼ˆä¸» App æœ‰ 10 ä¸ªèµ„æºï¼Œçš®è‚¤åŒ…åªæ”¾è¦æ”¹çš„ 2 ä¸ªï¼Œå‡å°‘ä½“ç§¯ï¼‰ï¼š</p>
<ul>
<li>
<p>ç›®å½•ç»“æ„ï¼ˆé‡ç‚¹ï¼šèµ„æºåå’Œä¸» App å®Œå…¨ä¸€è‡´ï¼‰ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">skin_night.apk/
â””â”€â”€ res/
    â””â”€â”€ values/
        â””â”€â”€ colors.xml  &lt;!-- åªæ”¾è¦æ›¿æ¢çš„é¢œè‰²ï¼Œä¸ç”¨é‡å†™æ‰€æœ‰ --&gt;
</code></pre>
</li>
<li>
<p><code>res/values/colors.xml</code>ï¼ˆæš—é»‘æ¨¡å¼ï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- åªè¦†ç›–ä¸»Appçš„bg_mainå’Œtext_mainï¼Œå…¶ä»–èµ„æºç”¨ä¸»Appé»˜è®¤ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">color</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"bg_main"</span>&gt;</span>#000000<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> <span class="hljs-comment">&lt;!-- é»‘å¢™ï¼ˆæ›¿æ¢ä¸»Appçš„ç™½å¢™ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">color</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"text_main"</span>&gt;</span>#FFFFFF<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span> <span class="hljs-comment">&lt;!-- ç™½å­—ï¼ˆæ›¿æ¢ä¸»Appçš„é»‘å­—ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
</code></pre>
</li>
<li>
<p>ç¼–è¯‘æˆ Apkï¼Œæ”¾åˆ°æ‰‹æœºã€Œåº”ç”¨ç§æœ‰ä¸‹è½½ç›®å½•ã€ï¼ˆè€Œéæ ¹ç›®å½•ï¼Œé€‚é… Android 11+ï¼‰ã€‚</p>
</li>
</ul>
</li>
</ol>
<h3 data-id="heading-5">æ ¸å¿ƒ 1ï¼šSkinManagerï¼ˆæ¢è‚¤ç®¡ç†å™¨ï¼ŒåŠ æ€§èƒ½ç¼“å­˜ + é«˜ç‰ˆæœ¬å…¼å®¹ï¼‰</h3>
<p>è¿™æ˜¯ã€Œè½¯è£…è°ƒåº¦ä¸­å¿ƒã€ï¼Œæ–°å¢<strong>èµ„æº ID ç¼“å­˜</strong>ï¼ˆé¿å…é‡å¤è°ƒç”¨<code>getIdentifier</code>ï¼‰ï¼Œä¿®æ­£<code>AssetManager</code>åˆ›å»ºæ–¹å¼ï¼ˆå…¼å®¹ Android 8.0+ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SkinManager</span> {
    <span class="hljs-comment">// å•ä¾‹ï¼šå…¨å±€åªæœ‰ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> SkinManager sInstance;
    <span class="hljs-keyword">private</span> Resources mAppResources; <span class="hljs-comment">// ä¸»Appçš„é»˜è®¤èµ„æºä»“åº“</span>
    <span class="hljs-keyword">private</span> Resources mSkinResources; <span class="hljs-comment">// çš®è‚¤åŒ…çš„èµ„æºä»“åº“</span>
    <span class="hljs-keyword">private</span> String mSkinPackageName; <span class="hljs-comment">// çš®è‚¤åŒ…çš„åŒ…åï¼ˆæ‰¾èµ„æºç”¨ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">isDefaultSkin</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ˜¯å¦ç”¨é»˜è®¤çš®è‚¤</span>
    
    <span class="hljs-comment">// æ–°å¢ï¼šèµ„æºIDç¼“å­˜ï¼ˆkeyï¼šä¸»Appèµ„æºå+ç±»å‹ï¼Œvalueï¼šçš®è‚¤åŒ…èµ„æºIDï¼‰</span>
    <span class="hljs-comment">// æ¯”å¦‚"bg_main+color" â†’ çš®è‚¤åŒ…ä¸­bg_mainçš„èµ„æºIDï¼Œé¿å…é‡å¤æŸ¥</span>
    <span class="hljs-keyword">private</span> Map&lt;String, Integer&gt; mSkinResIdCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

    <span class="hljs-comment">// åˆå§‹åŒ–ï¼šä¼ å…¥ä¸»Appçš„Contextï¼Œæ‹¿åˆ°é»˜è®¤èµ„æºä»“åº“</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title function_">SkinManager</span><span class="hljs-params">(Context context)</span> {
        mAppResources = context.getApplicationContext().getResources();
    }

    <span class="hljs-comment">// è·å–å•ä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SkinManager <span class="hljs-title function_">getInstance</span><span class="hljs-params">(Context context)</span> {
        <span class="hljs-keyword">if</span> (sInstance == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">synchronized</span> (SkinManager.class) {
                sInstance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SkinManager</span>(context);
            }
        }
        <span class="hljs-keyword">return</span> sInstance;
    }

    <span class="hljs-comment">/**
     * åŠ è½½çš®è‚¤åŒ…ï¼ˆæ ¸å¿ƒä¼˜åŒ–ï¼šå…¼å®¹Android 8.0+ï¼Œç”¨åº”ç”¨ç§æœ‰è·¯å¾„ï¼‰
     * <span class="hljs-doctag">@param</span> skinPath çš®è‚¤åŒ…è·¯å¾„ï¼ˆå¦‚ï¼š/storage/emulated/0/Android/data/åŒ…å/files/Download/skin_night.apkï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">loadSkin</span><span class="hljs-params">(String skinPath)</span> {
        <span class="hljs-keyword">if</span> (TextUtils.isEmpty(skinPath) || !<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(skinPath).exists()) {
            resetSkin(); <span class="hljs-comment">// è·¯å¾„ä¸ºç©º/æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå›é€€é»˜è®¤çš®è‚¤</span>
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä¼˜åŒ–1ï¼šå…¼å®¹Android 8.0+ï¼ˆAssetManageræ„é€ å‡½æ•°ç§æœ‰ï¼Œç”¨context.getAssets()è·å–å®ä¾‹ï¼‰</span>
            <span class="hljs-type">AssetManager</span> <span class="hljs-variable">assetManager</span> <span class="hljs-operator">=</span> mAppResources.getAssets(); <span class="hljs-comment">// ä»£æ›¿AssetManager.class.newInstance()</span>
            <span class="hljs-comment">// åå°„è°ƒç”¨éšè—æ–¹æ³•addAssetPathï¼šè®©AssetManager"è®¤è¯†"çš®è‚¤åŒ…è·¯å¾„</span>
            <span class="hljs-type">Method</span> <span class="hljs-variable">addAssetPathMethod</span> <span class="hljs-operator">=</span> AssetManager.class.getMethod(<span class="hljs-string">"addAssetPath"</span>, String.class);
            addAssetPathMethod.setAccessible(<span class="hljs-literal">true</span>); <span class="hljs-comment">// å…è®¸è°ƒç”¨éšè—æ–¹æ³•</span>
            addAssetPathMethod.invoke(assetManager, skinPath);

            <span class="hljs-comment">// ç”¨æ¬è¿å·¥åˆ›å»ºã€Œçš®è‚¤èµ„æºä»“åº“ã€ï¼ˆå’Œä¸»Appé€‚é…å±å¹•/è¯­è¨€ï¼‰</span>
            <span class="hljs-type">DisplayMetrics</span> <span class="hljs-variable">metrics</span> <span class="hljs-operator">=</span> mAppResources.getDisplayMetrics();
            <span class="hljs-type">Configuration</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> mAppResources.getConfiguration();
            mSkinResources = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Resources</span>(assetManager, metrics, config);

            <span class="hljs-comment">// è·å–çš®è‚¤åŒ…çš„åŒ…åï¼ˆä»Apkæ–‡ä»¶è§£æï¼‰</span>
            <span class="hljs-type">PackageManager</span> <span class="hljs-variable">pm</span> <span class="hljs-operator">=</span> mAppResources.getPackageManager();
            <span class="hljs-type">PackageInfo</span> <span class="hljs-variable">packageInfo</span> <span class="hljs-operator">=</span> pm.getPackageArchiveInfo(skinPath, PackageManager.GET_ACTIVITIES);
            mSkinPackageName = packageInfo.packageName;

            <span class="hljs-comment">// ä¼˜åŒ–2ï¼šåŠ è½½æ–°çš®è‚¤æ—¶æ¸…ç©ºæ—§ç¼“å­˜</span>
            mSkinResIdCache.clear();
            isDefaultSkin = <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ ‡è®°ï¼šç”¨çš®è‚¤åŒ…</span>
        } <span class="hljs-keyword">catch</span> (Exception e) {
            resetSkin(); <span class="hljs-comment">// åŠ è½½å¤±è´¥ï¼Œå›é€€é»˜è®¤</span>
            e.printStackTrace();
        }
    }

    <span class="hljs-comment">// é‡ç½®ä¸ºé»˜è®¤çš®è‚¤</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">resetSkin</span><span class="hljs-params">()</span> {
        isDefaultSkin = <span class="hljs-literal">true</span>;
        mSkinResources = <span class="hljs-literal">null</span>;
        mSkinPackageName = <span class="hljs-literal">null</span>;
        mSkinResIdCache.clear(); <span class="hljs-comment">// æ¸…ç©ºç¼“å­˜</span>
    }

    <span class="hljs-comment">/**
     * ä»çš®è‚¤åŒ…æ‹¿é¢œè‰²èµ„æºï¼ˆä¼˜åŒ–ï¼šå…ˆæŸ¥ç¼“å­˜ï¼Œå†æŸ¥çš®è‚¤åŒ…ï¼Œæœ€åç”¨é»˜è®¤ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getColor</span><span class="hljs-params">(<span class="hljs-type">int</span> resId)</span> {
        <span class="hljs-keyword">if</span> (isDefaultSkin || mSkinResources == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> mAppResources.getColor(resId, <span class="hljs-literal">null</span>); <span class="hljs-comment">// é€‚é…Android 6.0+çš„ä¸»é¢˜</span>
        }

        <span class="hljs-comment">// 1. ç”Ÿæˆç¼“å­˜Keyï¼ˆä¸»Appèµ„æºå+ç±»å‹ï¼Œæ¯”å¦‚"bg_main+color"ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">resName</span> <span class="hljs-operator">=</span> mAppResources.getResourceEntryName(resId); <span class="hljs-comment">// èµ„æºåï¼šbg_main</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">resType</span> <span class="hljs-operator">=</span> mAppResources.getResourceTypeName(resId); <span class="hljs-comment">// èµ„æºç±»å‹ï¼šcolor</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">cacheKey</span> <span class="hljs-operator">=</span> resName + <span class="hljs-string">"+"</span> + resType;

        <span class="hljs-comment">// 2. å…ˆæŸ¥ç¼“å­˜ï¼šæœ‰å°±ç›´æ¥ç”¨ï¼Œé¿å…é‡å¤è°ƒç”¨getIdentifierï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</span>
        <span class="hljs-keyword">if</span> (mSkinResIdCache.containsKey(cacheKey)) {
            <span class="hljs-type">int</span> <span class="hljs-variable">skinResId</span> <span class="hljs-operator">=</span> mSkinResIdCache.get(cacheKey);
            <span class="hljs-keyword">return</span> skinResId == <span class="hljs-number">0</span> ? mAppResources.getColor(resId, <span class="hljs-literal">null</span>) : mSkinResources.getColor(skinResId, <span class="hljs-literal">null</span>);
        }

        <span class="hljs-comment">// 3. æŸ¥çš®è‚¤åŒ…ï¼šè·å–çš®è‚¤åŒ…ä¸­çš„èµ„æºID</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">skinResId</span> <span class="hljs-operator">=</span> mSkinResources.getIdentifier(resName, resType, mSkinPackageName);
        mSkinResIdCache.put(cacheKey, skinResId); <span class="hljs-comment">// å­˜å…¥ç¼“å­˜ï¼Œä¸‹æ¬¡å¤ç”¨</span>

        <span class="hljs-comment">// 4. çš®è‚¤åŒ…æ²¡æœ‰å°±ç”¨ä¸»Appé»˜è®¤</span>
        <span class="hljs-keyword">return</span> skinResId == <span class="hljs-number">0</span> ? mAppResources.getColor(resId, <span class="hljs-literal">null</span>) : mSkinResources.getColor(skinResId, <span class="hljs-literal">null</span>);
    }

    <span class="hljs-comment">/**
     * ä»çš®è‚¤åŒ…æ‹¿å›¾ç‰‡èµ„æºï¼ˆåŒç†ï¼ŒåŠ ç¼“å­˜ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> Drawable <span class="hljs-title function_">getDrawable</span><span class="hljs-params">(<span class="hljs-type">int</span> resId)</span> {
        <span class="hljs-keyword">if</span> (isDefaultSkin || mSkinResources == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> mAppResources.getDrawable(resId, <span class="hljs-literal">null</span>);
        }

        <span class="hljs-type">String</span> <span class="hljs-variable">resName</span> <span class="hljs-operator">=</span> mAppResources.getResourceEntryName(resId);
        <span class="hljs-type">String</span> <span class="hljs-variable">resType</span> <span class="hljs-operator">=</span> mAppResources.getResourceTypeName(resId);
        <span class="hljs-type">String</span> <span class="hljs-variable">cacheKey</span> <span class="hljs-operator">=</span> resName + <span class="hljs-string">"+"</span> + resType;

        <span class="hljs-keyword">if</span> (mSkinResIdCache.containsKey(cacheKey)) {
            <span class="hljs-type">int</span> <span class="hljs-variable">skinResId</span> <span class="hljs-operator">=</span> mSkinResIdCache.get(cacheKey);
            <span class="hljs-keyword">return</span> skinResId == <span class="hljs-number">0</span> ? mAppResources.getDrawable(resId, <span class="hljs-literal">null</span>) : mSkinResources.getDrawable(skinResId, <span class="hljs-literal">null</span>);
        }

        <span class="hljs-type">int</span> <span class="hljs-variable">skinResId</span> <span class="hljs-operator">=</span> mSkinResources.getIdentifier(resName, resType, mSkinPackageName);
        mSkinResIdCache.put(cacheKey, skinResId);

        <span class="hljs-keyword">return</span> skinResId == <span class="hljs-number">0</span> ? mAppResources.getDrawable(resId, <span class="hljs-literal">null</span>) : mSkinResources.getDrawable(skinResId, <span class="hljs-literal">null</span>);
    }

    <span class="hljs-comment">// æ¢å¤é»˜è®¤çš®è‚¤ï¼ˆå¯¹å¤–æš´éœ²ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">restoreDefault</span><span class="hljs-params">()</span> {
        resetSkin();
    }
}
</code></pre>
<h3 data-id="heading-6">æ ¸å¿ƒ 2ï¼šBaseSkinActivityï¼ˆä¼˜åŒ– Factory2 æ—¶æœº + æ”¯æŒæ›´å¤šå±æ€§ï¼‰</h3>
<p>ä¿®æ­£<code>Factory2</code>è®¾ç½®æ—¶æœºï¼ˆå¿…é¡»åœ¨<code>super.onCreate()</code>ä¹‹å‰ï¼Œå¦åˆ™è¢«ç³»ç»Ÿè¦†ç›–ï¼‰ï¼Œæ–°å¢å¯¹<code>src</code>ï¼ˆå›¾ç‰‡ï¼‰å±æ€§çš„æ”¯æŒï¼Œæ›´è´´è¿‘å®é™…éœ€æ±‚ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseSkinActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> {
    <span class="hljs-comment">// å­˜å‚¨éœ€è¦æ¢è‚¤çš„Viewå’Œå¯¹åº”çš„èµ„æºIDï¼ˆæ¯”å¦‚TextViewçš„textColorã€ImageViewçš„srcï¼‰</span>
    <span class="hljs-keyword">private</span> List&lt;SkinView&gt; mSkinViews = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

    <span class="hljs-comment">// å°è£…ï¼šView + è¦æ¢çš„å±æ€§ï¼ˆbackground/textColor/srcï¼‰+ èµ„æºID</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SkinView</span> {
        View view;
        Map&lt;String, Integer&gt; attrMap; <span class="hljs-comment">// key:å±æ€§åï¼Œvalue:èµ„æºID</span>
        SkinView(View view, Map&lt;String, Integer&gt; attrMap) {
            <span class="hljs-built_in">this</span>.view = view;
            <span class="hljs-built_in">this</span>.attrMap = attrMap;
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> Bundle savedInstanceState)</span> {
        <span class="hljs-comment">// ä¼˜åŒ–ï¼šFactory2å¿…é¡»åœ¨super.onCreate()ä¹‹å‰è®¾ç½®ï¼</span>
        <span class="hljs-comment">// åŸå› ï¼šAppCompatActivityçš„onCreateä¼šåˆå§‹åŒ–LayoutInflaterï¼Œä¹‹åè®¾ä¼šè¢«ç³»ç»Ÿè¦†ç›–</span>
        setupLayoutInflaterFactory();
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
    }

    <span class="hljs-comment">// æŠ½å–Factory2è®¾ç½®é€»è¾‘ï¼Œæ›´æ¸…æ™°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setupLayoutInflaterFactory</span><span class="hljs-params">()</span> {
        LayoutInflaterCompat.setFactory2(getLayoutInflater(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">LayoutInflater</span>.Factory2() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> View <span class="hljs-title function_">onCreateView</span><span class="hljs-params">(View parent, String name, Context context, AttributeSet attrs)</span> {
                <span class="hljs-comment">// 1. è®©ç³»ç»Ÿå…ˆåˆ›å»ºViewï¼ˆä¿è¯TextViewã€ImageViewç­‰åŸç”ŸViewæ­£å¸¸åˆ›å»ºï¼‰</span>
                <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> getDelegate().createView(parent, name, context, attrs);
                <span class="hljs-keyword">if</span> (view == <span class="hljs-literal">null</span>) {
                    <span class="hljs-comment">// å…¼å®¹ä¸å¸¦å‰ç¼€çš„Viewï¼ˆå¦‚"TextView"è€Œé"android.widget.TextView"ï¼‰</span>
                    <span class="hljs-keyword">try</span> {
                        view = LayoutInflater.from(context).createView(name, <span class="hljs-string">"android.widget."</span>, attrs);
                    } <span class="hljs-keyword">catch</span> (ClassNotFoundException e) {
                        e.printStackTrace();
                    }
                }
                
                <span class="hljs-comment">// 2. è§£æViewçš„å±æ€§ï¼Œè®°å½•éœ€è¦æ¢è‚¤çš„èµ„æºï¼ˆæ–°å¢srcå±æ€§æ”¯æŒï¼‰</span>
                <span class="hljs-keyword">if</span> (view != <span class="hljs-literal">null</span>) {
                    parseViewAttr(view, attrs);
                }
                <span class="hljs-keyword">return</span> view;
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> View <span class="hljs-title function_">onCreateView</span><span class="hljs-params">(String name, Context context, AttributeSet attrs)</span> {
                <span class="hljs-keyword">return</span> onCreateView(<span class="hljs-literal">null</span>, name, context, attrs);
            }
        });
    }

    <span class="hljs-comment">/**
     * è§£æViewå±æ€§ï¼šæ‰¾å‡ºéœ€è¦æ¢è‚¤çš„å±æ€§ï¼ˆbackground/textColor/srcï¼‰
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">parseViewAttr</span><span class="hljs-params">(View view, AttributeSet attrs)</span> {
        Map&lt;String, Integer&gt; attrMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        <span class="hljs-comment">// éå†Viewçš„æ‰€æœ‰å±æ€§</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; attrs.getAttributeCount(); i++) {
            <span class="hljs-type">String</span> <span class="hljs-variable">attrName</span> <span class="hljs-operator">=</span> attrs.getAttributeName(i); <span class="hljs-comment">// å±æ€§åï¼šbackground/textColor/src</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">attrValue</span> <span class="hljs-operator">=</span> attrs.getAttributeValue(i); <span class="hljs-comment">// å±æ€§å€¼ï¼š@2131234567ï¼ˆèµ„æºIDï¼‰</span>
            
            <span class="hljs-comment">// åªå¤„ç†ã€Œå¼•ç”¨èµ„æºã€çš„å±æ€§ï¼ˆä»¥@å¼€å¤´ï¼Œæ’é™¤"#FFFFFF"è¿™ç§ç›´æ¥å†™çš„é¢œè‰²ï¼‰</span>
            <span class="hljs-keyword">if</span> (attrValue != <span class="hljs-literal">null</span> &amp;&amp; attrValue.startsWith(<span class="hljs-string">"@"</span>)) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-type">int</span> <span class="hljs-variable">resId</span> <span class="hljs-operator">=</span> Integer.parseInt(attrValue.substring(<span class="hljs-number">1</span>)); <span class="hljs-comment">// è½¬æˆèµ„æºID</span>
                    <span class="hljs-comment">// è®°å½•éœ€è¦æ¢è‚¤çš„å±æ€§ï¼ˆæ–°å¢srcï¼Œæ”¯æŒImageViewæ¢å›¾ï¼‰</span>
                    <span class="hljs-keyword">if</span> (attrName.equals(<span class="hljs-string">"background"</span>) 
                            || attrName.equals(<span class="hljs-string">"textColor"</span>) 
                            || attrName.equals(<span class="hljs-string">"src"</span>)) {
                        attrMap.put(attrName, resId);
                    }
                } <span class="hljs-keyword">catch</span> (NumberFormatException e) {
                    e.printStackTrace();
                }
            }
        }
        <span class="hljs-comment">// æŠŠéœ€è¦æ¢è‚¤çš„ViewåŠ å…¥åˆ—è¡¨ï¼ˆé¿å…ç©ºæ˜ å°„æµªè´¹å†…å­˜ï¼‰</span>
        <span class="hljs-keyword">if</span> (!attrMap.isEmpty()) {
            mSkinViews.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SkinView</span>(view, attrMap));
        }
    }

    <span class="hljs-comment">/**
     * åˆ·æ–°çš®è‚¤ï¼šæŠŠæ–°èµ„æºè®¾ç½®åˆ°Viewä¸Šï¼ˆæ”¯æŒsrcå±æ€§ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">refreshSkin</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">for</span> (SkinView skinView : mSkinViews) {
            <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> skinView.view;
            Map&lt;String, Integer&gt; attrMap = skinView.attrMap;
            
            <span class="hljs-keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : attrMap.entrySet()) {
                <span class="hljs-type">String</span> <span class="hljs-variable">attrName</span> <span class="hljs-operator">=</span> entry.getKey();
                <span class="hljs-type">int</span> <span class="hljs-variable">resId</span> <span class="hljs-operator">=</span> entry.getValue();
                
                <span class="hljs-keyword">switch</span> (attrName) {
                    <span class="hljs-keyword">case</span> <span class="hljs-string">"background"</span>:
                        <span class="hljs-comment">// æ›¿æ¢èƒŒæ™¯ï¼ˆå…¼å®¹é¢œè‰²å’Œå›¾ç‰‡ï¼‰</span>
                        <span class="hljs-type">Drawable</span> <span class="hljs-variable">drawable</span> <span class="hljs-operator">=</span> SkinManager.getInstance(<span class="hljs-built_in">this</span>).getDrawable(resId);
                        view.setBackground(drawable);
                        <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">case</span> <span class="hljs-string">"textColor"</span>:
                        <span class="hljs-comment">// æ›¿æ¢æ–‡å­—é¢œè‰²</span>
                        <span class="hljs-type">int</span> <span class="hljs-variable">color</span> <span class="hljs-operator">=</span> SkinManager.getInstance(<span class="hljs-built_in">this</span>).getColor(resId);
                        ((TextView) view).setTextColor(color);
                        <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">case</span> <span class="hljs-string">"src"</span>:
                        <span class="hljs-comment">// æ–°å¢ï¼šæ›¿æ¢ImageViewçš„å›¾ç‰‡</span>
                        <span class="hljs-keyword">if</span> (view <span class="hljs-keyword">instanceof</span> ImageView) {
                            <span class="hljs-type">Drawable</span> <span class="hljs-variable">srcDrawable</span> <span class="hljs-operator">=</span> SkinManager.getInstance(<span class="hljs-built_in">this</span>).getDrawable(resId);
                            ((ImageView) view).setImageDrawable(srcDrawable);
                        }
                        <span class="hljs-keyword">break</span>;
                }
            }
        }
    }

    <span class="hljs-comment">// å¯¹å¤–æä¾›æ¢è‚¤æ–¹æ³•ï¼ˆæ–°å¢ï¼šå»ºè®®åœ¨å­çº¿ç¨‹åŠ è½½ï¼Œé¿å…å¡ç•Œé¢ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">changeSkin</span><span class="hljs-params">(String skinPath)</span> {
        <span class="hljs-comment">// ä¼˜åŒ–ï¼šçš®è‚¤åŒ…å¯èƒ½è¾ƒå¤§ï¼ˆå¦‚å«å›¾ç‰‡ï¼‰ï¼Œå­çº¿ç¨‹åŠ è½½ï¼Œä¸»çº¿ç¨‹åˆ·æ–°</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            SkinManager.getInstance(<span class="hljs-built_in">this</span>).loadSkin(skinPath);
            <span class="hljs-comment">// åˆ·æ–°ç•Œé¢å¿…é¡»åœ¨ä¸»çº¿ç¨‹</span>
            runOnUiThread(<span class="hljs-built_in">this</span>::refreshSkin);
        }).start();
    }
}
</code></pre>
<h3 data-id="heading-7">æ ¸å¿ƒ 3ï¼šä½¿ç”¨ç¤ºä¾‹ï¼ˆMainActivityï¼Œé€‚é… Android 11 + å­˜å‚¨è·¯å¾„ï¼‰</h3>
<p>ä¸å†ç”¨å¤–éƒ¨å­˜å‚¨æ ¹ç›®å½•ï¼Œæ”¹ç”¨ã€Œåº”ç”¨ç§æœ‰ä¸‹è½½ç›®å½•ã€ï¼ˆAndroid 11 + æ— éœ€ç”³è¯·é¢å¤–æƒé™ï¼Œå®‰å…¨åˆè§„ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseSkinActivity</span> {
    <span class="hljs-comment">// çš®è‚¤åŒ…åœ¨åº”ç”¨ç§æœ‰ç›®å½•çš„è·¯å¾„ï¼ˆå¦‚ï¼š/Android/data/ä½ çš„åŒ…å/files/Download/skin_night.apkï¼‰</span>
    <span class="hljs-keyword">private</span> String mSkinPath;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        <span class="hljs-comment">// 1. åˆå§‹åŒ–çš®è‚¤åŒ…è·¯å¾„ï¼ˆåº”ç”¨ç§æœ‰ä¸‹è½½ç›®å½•ï¼ŒAndroid 11+å¯ç›´æ¥è®¿é—®ï¼‰</span>
        <span class="hljs-type">File</span> <span class="hljs-variable">skinFile</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS), <span class="hljs-string">"skin_night.apk"</span>);
        mSkinPath = skinFile.getAbsolutePath();

        <span class="hljs-comment">// 2. åˆ‡æ¢å¤œé—´çš®è‚¤ï¼ˆå…ˆæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼‰</span>
        findViewById(R.id.btn_change_skin).setOnClickListener(v -&gt; {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(mSkinPath).exists()) {
                changeSkin(mSkinPath); <span class="hljs-comment">// è°ƒç”¨Baseçš„æ¢è‚¤æ–¹æ³•ï¼ˆå­çº¿ç¨‹åŠ è½½ï¼‰</span>
            } <span class="hljs-keyword">else</span> {
                Toast.makeText(<span class="hljs-built_in">this</span>, <span class="hljs-string">"çš®è‚¤åŒ…ä¸å­˜åœ¨ï¼Œè¯·å…ˆæ”¾åˆ°ä¸‹è½½ç›®å½•"</span>, Toast.LENGTH_SHORT).show();
            }
        });

        <span class="hljs-comment">// 3. æ¢å¤é»˜è®¤çš®è‚¤</span>
        findViewById(R.id.btn_restore_skin).setOnClickListener(v -&gt; {
            SkinManager.getInstance(<span class="hljs-built_in">this</span>).restoreDefault();
            refreshSkin(); <span class="hljs-comment">// ä¸»çº¿ç¨‹åˆ·æ–°</span>
        });
    }
}
</code></pre>
<h3 data-id="heading-8">å¸ƒå±€æ–‡ä»¶ï¼ˆactivity_main.xmlï¼Œæ–°å¢ ImageView æµ‹è¯• src æ¢è‚¤ï¼‰</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/bg_main"</span> &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">è¦æ¢è‚¤çš„èƒŒæ™¯</span> <span class="hljs-attr">--</span>&gt;</span>
    android:orientation="vertical"
    android:padding="20dp"&gt;

    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"æš–å¿ƒå°å±‹"</span>
        <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/text_main"</span> &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">è¦æ¢è‚¤çš„æ–‡å­—é¢œè‰²</span> <span class="hljs-attr">--</span>&gt;</span>
        android:textSize="24sp" /&gt;

    <span class="hljs-comment">&lt;!-- æ–°å¢ï¼šæµ‹è¯•srcæ¢è‚¤çš„ImageView --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"100dp"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"100dp"</span>
        <span class="hljs-attr">android:src</span>=<span class="hljs-string">"@drawable/ic_home"</span> &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">è¦æ¢è‚¤çš„å›¾ç‰‡</span>ï¼ˆ<span class="hljs-attr">çš®è‚¤åŒ…éœ€åŒå</span>ï¼‰ <span class="hljs-attr">--</span>&gt;</span>
        android:layout_margin="20dp" /&gt;

    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/btn_change_skin"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"åˆ‡æ¢å¤œé—´æ¨¡å¼"</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/btn_restore_skin"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>
        <span class="hljs-attr">android:text</span>=<span class="hljs-string">"æ¢å¤é»˜è®¤çš®è‚¤"</span> /&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span>
</code></pre>
<h2 data-id="heading-9">å››ã€æ—¶åºå›¾</h2>
<p>ç”¨æ—¶åºå›¾å±•ç¤ºã€Œå®é™…é¡¹ç›®ä¸­ã€çš„æ¢è‚¤æµç¨‹ï¼ˆå­çº¿ç¨‹åŠ è½½çš®è‚¤åŒ…ï¼Œä¸»çº¿ç¨‹åˆ·æ–°ï¼Œç¼“å­˜å¤ç”¨ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b29c7f0a31214adabd19b4517f3dbaa9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW5kcm9pZOerpeivnemVhw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766540381&amp;x-signature=PJ9ZRCpjolHXz4pG4%2Fu5sE8cd7o%3D" alt="æ¢è‚¤æµç¨‹.png" loading="lazy"/></p>
<p>éœ€è¦æ¢è‚¤çš„Viewï¼ˆTextView/ImageViewï¼‰çš®è‚¤Resourcesçš®è‚¤åŒ…(SkinApk)AssetManagerï¼ˆå…¼å®¹é«˜ç‰ˆæœ¬ï¼‰SkinManagerï¼ˆå¸¦ç¼“å­˜ï¼‰å­çº¿ç¨‹ï¼ˆåŠ è½½çš®è‚¤ï¼‰MainActivityç”¨æˆ·éœ€è¦æ¢è‚¤çš„Viewï¼ˆTextView/ImageViewï¼‰çš®è‚¤Resourcesçš®è‚¤åŒ…(SkinApk)AssetManagerï¼ˆå…¼å®¹é«˜ç‰ˆæœ¬ï¼‰SkinManagerï¼ˆå¸¦ç¼“å­˜ï¼‰å­çº¿ç¨‹ï¼ˆåŠ è½½çš®è‚¤ï¼‰MainActivityç”¨æˆ·1. ç”¨getAssets()åˆ›å»ºAssetManagerï¼ˆå…¼å®¹8.0+ï¼‰2. åˆ›å»ºçš®è‚¤Resourcesï¼Œæ¸…ç©ºæ—§ç¼“å­˜å…ˆæŸ¥ç¼“å­˜â†’æœ‰åˆ™ç›´æ¥è¿”å›æ— åˆ™æŸ¥çš®è‚¤åŒ…+å­˜ç¼“å­˜loop[éå†æ‰€æœ‰éœ€è¦æ¢è‚¤çš„View]ç‚¹å‡»ã€Œåˆ‡æ¢å¤œé—´æ¨¡å¼ã€å¯åŠ¨å­çº¿ç¨‹åŠ è½½çš®è‚¤åŒ…loadSkin(skinPath)åå°„è°ƒç”¨addAssetPath(skinPath)è¯»å–çš®è‚¤åŒ…èµ„æºï¼ˆä»…è¦†ç›–çš„èµ„æºï¼‰èµ„æºè·¯å¾„æ·»åŠ æˆåŠŸnew Resources(AssetManager, metrics, config)çš®è‚¤Resourcesåˆ›å»ºå®Œæˆçš®è‚¤åŒ…åŠ è½½å®Œæˆå‘é€ä¸»çº¿ç¨‹åˆ·æ–°ä¿¡å·ä¸»çº¿ç¨‹è°ƒç”¨refreshSkin()getColor(resId)/getDrawable(resId)getColor(skinResId)ï¼ˆç¼“å­˜å‘½ä¸­åˆ™è·³è¿‡ï¼‰è¿”å›æš—é»‘æ¨¡å¼é¢œè‰²å€¼è¿”å›æ–°èµ„æºå€¼è®¾ç½®background/textColor/srcèµ„æºè®¾ç½®å®Œæˆç•Œé¢åˆ·æ–°ä¸ºå¤œé—´æ¨¡å¼ï¼ˆæ— å¡é¡¿ï¼‰</p>
<h2 data-id="heading-10">äº”ã€å®é™…é¡¹ç›®å¿…çœ‹ï¼šä¼˜åŒ–ä¸å…¼å®¹æ€§</h2>
<h3 data-id="heading-11">1. æ€§èƒ½ä¼˜åŒ–ï¼ˆé¿å… App å¡é¡¿ï¼‰</h3>
<ul>
<li><strong>èµ„æºç¼“å­˜</strong>ï¼šå¦‚ SkinManager ä¸­çš„<code>mSkinResIdCache</code>ï¼Œå‡å°‘<code>getIdentifier</code>è°ƒç”¨ï¼ˆè¯¥æ–¹æ³•éœ€éå†èµ„æºè¡¨ï¼Œè€—æ—¶ï¼‰ï¼›</li>
<li><strong>å¼‚æ­¥åŠ è½½</strong>ï¼šçš®è‚¤åŒ…ï¼ˆå°¤å…¶å«å›¾ç‰‡ï¼‰æ”¾åœ¨å­çº¿ç¨‹åŠ è½½ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ï¼ˆå¦‚ BaseSkinActivity çš„<code>changeSkin</code>æ–¹æ³•ï¼‰ï¼›</li>
<li><strong>æŒ‰éœ€åˆ·æ–°</strong>ï¼šåªè®°å½•éœ€è¦æ¢è‚¤çš„ Viewï¼ˆå¦‚èƒŒæ™¯ / æ–‡å­—é¢œè‰²ï¼‰ï¼Œè€Œéæ‰€æœ‰ Viewï¼Œå‡å°‘åˆ·æ–°è€—æ—¶ã€‚</li>
</ul>
<h3 data-id="heading-12">2. å…¼å®¹æ€§å¤„ç†ï¼ˆè¦†ç›–æ›´å¤šåœºæ™¯ï¼‰</h3>
<ul>
<li>
<p><strong>å¤šå±æ€§æ”¯æŒ</strong>ï¼šé™¤äº†<code>background/textColor/src</code>ï¼Œè¿˜å¯æ‰©å±•<code>drawableLeft</code>ï¼ˆæŒ‰é’®å·¦ä¾§å›¾æ ‡ï¼‰ã€<code>hintTextColor</code>ï¼ˆè¾“å…¥æ¡†æç¤ºé¢œè‰²ï¼‰ç­‰ï¼›</p>
</li>
<li>
<p><strong>è‡ªå®šä¹‰ View æ¢è‚¤</strong>ï¼šç»™è‡ªå®šä¹‰ View åŠ ã€Œæ¢è‚¤æ¥å£ã€ï¼Œå¦‚<code>ISkinable</code>ï¼Œåœ¨<code>refreshSkin</code>æ—¶è°ƒç”¨æ¥å£æ–¹æ³•ï¼Œç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªå®šä¹‰Viewçš„æ¢è‚¤æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ISkinable</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSkinChanged</span><span class="hljs-params">()</span>;
}
<span class="hljs-comment">// è‡ªå®šä¹‰Viewå®ç°æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCustomView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ISkinable</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSkinChanged</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è‡ªå®šä¹‰Viewçš„æ¢è‚¤é€»è¾‘ï¼ˆå¦‚æ›¿æ¢è‡ªå®šä¹‰å±æ€§ï¼‰</span>
        setMyCustomColor(SkinManager.getInstance(getContext()).getColor(R.color.my_custom_color));
    }
}
<span class="hljs-comment">// BaseSkinActivityä¸­æ·»åŠ è‡ªå®šä¹‰Viewåˆ·æ–°</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">parseViewAttr</span><span class="hljs-params">(View view, AttributeSet attrs)</span> {
    <span class="hljs-keyword">if</span> (view <span class="hljs-keyword">instanceof</span> ISkinable) {
        mSkinableViews.add((ISkinable) view); <span class="hljs-comment">// å•ç‹¬è®°å½•è‡ªå®šä¹‰View</span>
    }
}
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">refreshSkin</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// åˆ·æ–°è‡ªå®šä¹‰View</span>
    <span class="hljs-keyword">for</span> (ISkinable skinable : mSkinableViews) {
        skinable.onSkinChanged();
    }
}
</code></pre>
</li>
<li>
<p><strong>çŠ¶æ€é€‰æ‹©å™¨æ¢è‚¤</strong>ï¼šå¦‚<code>selector</code>ï¼ˆæŒ‰é’®æŒ‰å‹ / æ­£å¸¸çŠ¶æ€é¢œè‰²ï¼‰ï¼Œçš®è‚¤åŒ…éœ€æ”¾åŒåçš„<code>selector.xml</code>ï¼Œä¸”å†…éƒ¨å¼•ç”¨çš„é¢œè‰²ä¹Ÿç”¨çš®è‚¤åŒ…èµ„æºã€‚</p>
</li>
</ul>
<h3 data-id="heading-13">3. å·¥ç¨‹åŒ–è®¾è®¡ï¼ˆè®©æ¡†æ¶å¯ç»´æŠ¤ï¼‰</h3>
<p>å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®ç”¨ã€Œæ¥å£ + å®ç°ã€çš„æ–¹å¼è§£è€¦ï¼Œæ–¹ä¾¿æ‰©å±•ï¼Œç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// çš®è‚¤åŠ è½½æ¥å£ï¼ˆå®šä¹‰èƒ½åŠ›ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ISkinLoader</span> {
    <span class="hljs-comment">// åŠ è½½çš®è‚¤ï¼Œå¸¦å›è°ƒï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">loadSkin</span><span class="hljs-params">(String skinPath, OnSkinLoadListener listener)</span>;
    <span class="hljs-comment">// æ¢å¤é»˜è®¤çš®è‚¤</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">restoreDefault</span><span class="hljs-params">()</span>;
    <span class="hljs-comment">// æ³¨å†Œæ¢è‚¤è§‚å¯Ÿè€…ï¼ˆå¦‚Activity/Fragmentï¼‰</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerObserver</span><span class="hljs-params">(ISkinObserver observer)</span>;
    <span class="hljs-comment">// å–æ¶ˆæ³¨å†Œï¼ˆé¿å…å†…å­˜æ³„æ¼ï¼‰</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">unregisterObserver</span><span class="hljs-params">(ISkinObserver observer)</span>;
}

<span class="hljs-comment">// æ¢è‚¤è§‚å¯Ÿè€…ï¼ˆActivity/Fragmentå®ç°ï¼Œæ¥æ”¶æ¢è‚¤é€šçŸ¥ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ISkinObserver</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSkinChanged</span><span class="hljs-params">()</span>; <span class="hljs-comment">// çš®è‚¤å˜åŒ–æ—¶å›è°ƒ</span>
}
</code></pre>
<h2 data-id="heading-14">å…­ã€é¿å‘æŒ‡å—</h2>



































<table><thead><tr><th>å‘ç‚¹</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>Android 8.0 + åŠ è½½çš®è‚¤åŒ…å¤±è´¥</td><td>AssetManager æ„é€ å‡½æ•°ç§æœ‰ï¼Œ<code>newInstance()</code>æŠ›å¼‚å¸¸</td><td>æ”¹ç”¨<code>context.getAssets()</code>è·å– AssetManager å®ä¾‹</td></tr><tr><td>Android 11 + è¯»ä¸åˆ°çš®è‚¤åŒ…</td><td>åˆ†åŒºå­˜å‚¨ï¼ˆScoped Storageï¼‰é™åˆ¶ï¼Œæ— æ³•è®¿é—®å¤–éƒ¨å­˜å‚¨æ ¹ç›®å½•</td><td>æŠŠçš®è‚¤åŒ…æ”¾åˆ°ã€Œåº”ç”¨ç§æœ‰ç›®å½•ã€ï¼ˆå¦‚<code>getExternalFilesDir</code>ï¼‰ï¼Œæ— éœ€é¢å¤–æƒé™</td></tr><tr><td>Factory2 è®¾ç½®åä¸ç”Ÿæ•ˆ</td><td>è®¾ç½®æ—¶æœºåœ¨<code>super.onCreate()</code>ä¹‹åï¼Œè¢«ç³»ç»Ÿè¦†ç›–</td><td>å¿…é¡»åœ¨<code>super.onCreate(savedInstanceState)</code>ä¹‹å‰è°ƒç”¨<code>LayoutInflaterCompat.setFactory2</code></td></tr><tr><td>æ¢è‚¤åéƒ¨åˆ† View æ²¡åˆ·æ–°</td><td>æ²¡è®°å½•éœ€è¦æ¢è‚¤çš„å±æ€§ï¼ˆå¦‚ srcï¼‰ï¼Œæˆ–è‡ªå®šä¹‰ View æ²¡å¤„ç†</td><td>æ‰©å±•<code>parseViewAttr</code>çš„å±æ€§åˆ—è¡¨ï¼Œç»™è‡ªå®šä¹‰ View åŠ æ¢è‚¤æ¥å£</td></tr><tr><td>æ¢è‚¤æ—¶ App å¡é¡¿</td><td>ä¸»çº¿ç¨‹åŠ è½½çš®è‚¤åŒ…ï¼Œæˆ–é¢‘ç¹è°ƒç”¨<code>getIdentifier</code></td><td>å­çº¿ç¨‹åŠ è½½çš®è‚¤åŒ…ï¼ŒåŠ èµ„æº ID ç¼“å­˜</td></tr></tbody></table>
<h2 data-id="heading-15">ä¸ƒã€æ ¸å¿ƒæ€»ç»“ï¼ˆåˆ’é‡ç‚¹ï¼ï¼‰</h2>
<ol>
<li>
<p><strong>æœ¬è´¨ä¸å˜</strong>ï¼šæ¢è‚¤ = æ›¿æ¢èµ„æºåŠ è½½æ¥æºï¼ˆä»ä¸» App Resourcesâ†’çš®è‚¤åŒ… Resourcesï¼‰ï¼›</p>
</li>
<li>
<p><strong>å…³é”®ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>çš®è‚¤åŒ…åªæ”¾ã€Œè¦æ›¿æ¢çš„èµ„æºã€ï¼Œå‡å°‘ä½“ç§¯ï¼›</li>
<li>AssetManager ç”¨<code>getAssets()</code>åˆ›å»ºï¼Œå…¼å®¹ Android 8.0+ï¼›</li>
<li>èµ„æº ID ç¼“å­˜ï¼Œé¿å…é‡å¤æŸ¥ï¼›</li>
<li>å­çº¿ç¨‹åŠ è½½ + ä¸»çº¿ç¨‹åˆ·æ–°ï¼Œä¸å¡é¡¿ï¼›</li>
<li>ç”¨åº”ç”¨ç§æœ‰ç›®å½•ï¼Œé€‚é… Android 11 + åˆ†åŒºå­˜å‚¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®é™…é¡¹ç›®</strong>ï¼šéœ€è€ƒè™‘æ€§èƒ½ã€å…¼å®¹æ€§ã€å·¥ç¨‹åŒ–è§£è€¦ï¼Œæˆç†Ÿæ¡†æ¶ï¼ˆå¦‚ MagicaSakuraã€Android-Skin-Loaderï¼‰éƒ½æ˜¯åŸºäºè¿™äº›æ ¸å¿ƒä¼˜åŒ–æ‰©å±•çš„ã€‚</p>
</li>
</ol>
<p>æœ€åå†ç”¨ä¸€å¥è¯æ€»ç»“ï¼š<strong>App æ¢è‚¤å°±åƒç»™æˆ¿å­æ¢è½¯è£… â€”â€” åªå¸¦è¦æ¢çš„æ–°è½¯è£…ï¼ˆçš®è‚¤åŒ…åªæ”¾è¦†ç›–èµ„æºï¼‰ï¼Œç”¨å…¼å®¹çš„æ¬è¿å·¥ï¼ˆé€‚é…çš„ AssetManagerï¼‰ï¼Œæå‰è®°å¥½è½¯è£…ç¼–å·ï¼ˆèµ„æºç¼“å­˜ï¼‰ï¼Œä¸æ‰“æ‰°ä¸»äººä¼‘æ¯ï¼ˆå­çº¿ç¨‹åŠ è½½ï¼‰ï¼Œæœ€åå¿«é€Ÿæ¢å¥½ï¼ˆæŒ‰éœ€åˆ·æ–°ï¼‰ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•é˜²é˜²é˜²ä¹‹é˜²æŠ“åŒ…ä¼ªé€ è¯·æ±‚]]></title>    <link>https://juejin.cn/post/7584320417307017267</link>    <guid>https://juejin.cn/post/7584320417307017267</guid>    <pubDate>2025-12-16T23:14:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584320417307017267" data-draft-id="7584279552433782822" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•é˜²é˜²é˜²ä¹‹é˜²æŠ“åŒ…ä¼ªé€ è¯·æ±‚"/> <meta itemprop="keywords" content="Android,å®‰å…¨"/> <meta itemprop="datePublished" content="2025-12-16T23:14:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dora"/> <meta itemprop="url" content="https://juejin.cn/user/2656895088205453"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•é˜²é˜²é˜²ä¹‹é˜²æŠ“åŒ…ä¼ªé€ è¯·æ±‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2656895088205453/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dora
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T23:14:26.000Z" title="Tue Dec 16 2025 23:14:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>é€šå¸¸ï¼Œæˆ‘ä»¬è®¨è®ºçš„è¯é¢˜éƒ½æ˜¯å¦‚ä½•å†™å‡ºå¼ºå¤§çš„åŠŸèƒ½ã€‚</p>
<p>ä½†ä»Šå¤©ï¼Œå’±ä»¬æ¢ä¸ªè§†è§’ï¼ŒèŠç‚¹ä¸ä¸€æ ·çš„â€”â€”<br/>
<strong>åº”ç”¨å®‰å…¨ï¼šé˜²é˜²é˜²ï¼Œåååã€‚</strong></p>
<p><strong>é˜²ï¼Œä¸æ˜¯é˜²ç”¨æˆ·ï¼Œè€Œæ˜¯é˜²â€œé€†å‘è§†è§’ä¸‹çš„ä½ è‡ªå·±â€ã€‚</strong></p>
<p>å½“æ”»å‡»è€…æ‹¿åˆ°ä½ çš„ APK / IPA / å¯æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œ<br/>
TA ä¸å…³å¿ƒä½ çš„ä¸šåŠ¡å¤šä¼˜é›…ã€æ¶æ„å¤šæ¸…æ™°ï¼Œ<br/>
TA åªå…³å¿ƒä¸‰ä»¶äº‹ï¼š</p>
<ul>
<li>èƒ½ä¸èƒ½çœ‹æ‡‚</li>
<li>èƒ½ä¸èƒ½æ”¹</li>
<li>èƒ½ä¸èƒ½åˆ©ç”¨ï¼Œæé’±</li>
</ul>
<p>æ‰€è°“â€œé˜²â€ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ï¼š<br/>
<strong>è®©é€†å‘å·¥ç¨‹å˜å¾—æ›´æ…¢ã€æ›´è´µã€æ›´ä¸ç¡®å®šã€‚</strong></p>
</blockquote>
<p>é˜²é™æ€åˆ†æã€é˜²åŠ¨æ€æ³¨å…¥ã€é˜²æŠ“åŒ…ã€é˜²å†…å­˜Dumpã€é˜²SOæ›¿æ¢ã€é˜²Inline Hookã€é˜²PLT/GOTåŠ«æŒã€é˜²Java Hookã€é˜²Native Hookã€é˜²Xposedã€é˜²Substrateã€é˜²Fridaã€é˜²Magiskæ¨¡å—ã€é˜²VirtualXposedã€é˜²LSPosedã€åè°ƒè¯•ã€åå•æ­¥ã€åé™„åŠ ã€åTraceã€åè°ƒè¯•å™¨ä¼ªè£…ã€åROOTã€ åè§£é”ã€åç³»ç»Ÿç¯¡æ”¹ã€åç¯å¢ƒä¼ªé€ ã€é˜²é‡æ‰“åŒ…ã€é˜²äºŒæ¬¡ç­¾åã€é˜²èµ„æºæ›¿æ¢ã€é˜²DEXæ³¨å…¥ã€é˜²è„šæœ¬ã€ é˜²è‡ªåŠ¨åŒ–ã€é˜²æ¨¡æ‹Ÿå™¨ã€é˜²äº‘æ‰‹æœºã€é˜²å°ä¸‰ï¼Œæ²¡æœ‰å•¦ï¼Œåé¢è¿™ä¸ªæ˜¯æˆ‘åˆ»æ„ææ€ªğŸ˜åŠ ä¸Šå»çš„ã€‚</p>
<h4 data-id="heading-0">RSA + AES åŠ å¯†</h4>
<p>é˜²é€†å‘å·¥ç¨‹çš„ç¬¬ä¸€æ­¥ï¼Œå¾€å¾€ä¸æ˜¯æ··æ·†ã€ä¸æ˜¯åè°ƒè¯•ï¼Œè€Œæ˜¯<strong>åŠ å¯†</strong>ã€‚<br/>
å› ä¸ºåªè¦æ•°æ®æ˜¯æ˜æ–‡ï¼Œæ‰€æœ‰é˜²æŠ¤æœ€ç»ˆéƒ½ä¼šå˜æˆâ€œå»¶è¿Ÿè¢«çœ‹æ‡‚çš„æ—¶é—´â€ã€‚</p>
<p>åœ¨å¯†ç å­¦çš„æ±Ÿæ¹–é‡Œï¼Œæœ€å¸¸è¢«æ‹å‡ºæ¥çš„ä¸¤ä½è€å‰è¾ˆï¼Œé <strong>RSA éå¯¹ç§°åŠ å¯†</strong> å’Œ <strong>AES å¯¹ç§°åŠ å¯†</strong> è«å±ã€‚<br/>
ä¸€ä¸ªå®‰å…¨ã€ç¨³é‡ã€åé—¨æ­£æ´¾ï¼Œä½†å‡ºæ‰‹æ…¢ï¼›<br/>
ä¸€ä¸ªæ‰‹å¿«ã€æ•ˆç‡é«˜ã€æ€ä¼¤åŠ›å¼ºï¼Œä½†æœ€å¤§çš„è½¯è‚‹å°±æ˜¯â€”â€”<strong>å¯†é’¥æ€ä¹ˆå®‰å…¨åœ°äº¤å‡ºå»</strong>ã€‚</p>
<p>æ‰€ä»¥ç°å®ä¸–ç•Œé‡Œï¼Œä»æ¥ä¸æ˜¯äºŒé€‰ä¸€ã€‚<br/>
<strong>å°å­©å­æ‰åšé€‰æ‹©ï¼Œè€Œä½ ï¼Œå…¨éƒ½è¦ã€‚</strong></p>
<p>ä½ ä¸æ…Œä¸å¿™ï¼Œå…ˆåœ¨å®¢æˆ·ç«¯æœ¬åœ°ç”Ÿæˆäº†ä¸€æŠŠéšæœºçš„ <strong>AES Key</strong>ã€‚<br/>
è¿™æŠŠ key å¾ˆçŸ­å‘½ï¼ŒåªæœåŠ¡å½“å‰è¿™ä¸€æ¬¡é€šä¿¡ï¼Œç”¨å®Œå°±ä¸¢ï¼Œè¿è‡ªå·±éƒ½ä¸æ‰“ç®—å†è®¤ã€‚<br/>
ä½ ç”¨å®ƒæŠŠçœŸæ­£çš„ä¸šåŠ¡æ•°æ®â€”â€”èµ„æºã€é…ç½®ã€ç§˜å¯†ã€æƒŠå–œâ€”â€”ç»Ÿç»ŸåŠ å¯†æˆä¸€å¨è°ä¹Ÿçœ‹ä¸æ‡‚çš„å¯†æ–‡ã€‚</p>
<p>ä½†ä½ å¿ƒé‡Œå¾ˆæ¸…æ¥šï¼š<br/>
<strong>AES å†å¿«ï¼Œä¹Ÿæ€• key æ³„éœ²ã€‚</strong><br/>
äºæ˜¯ä½ è½¬èº«è¯·å‡ºäº† RSAã€‚</p>
<p>ä½ æ‹¿èµ·å¯¹è±¡æ—©å°±å…¬å¼€åœ¨å®¢æˆ·ç«¯é‡Œçš„ <strong>RSA å…¬é’¥</strong>ï¼Œ<br/>
æŠŠåˆšæ‰é‚£æŠŠ AES Key åŠ å¯†ä¸€å±‚ã€‚<br/>
ç°åœ¨å¥½äº†ï¼š</p>
<ul>
<li>æ•°æ®ï¼Œè¢« AES é”ä½</li>
<li>AES çš„é’¥åŒ™ï¼Œåˆè¢« RSA é”ä½</li>
</ul>
<p>åŒä¿é™©ã€‚</p>
<p>ä½ æŠŠè¿™ä¸¤æ ·ä¸œè¥¿â€”â€”<br/>
<strong>RSA åŠ å¯†è¿‡çš„ AES Key å’Œ AES åŠ å¯†åçš„å¯†æ–‡</strong><br/>
ä¸€å¹¶å‘äº†å‡ºå»ã€‚</p>
<p>æ­¤æ—¶ï¼Œæ— è®ºæ˜¯æŠ“åŒ…ã€ä»£ç†ã€å°ä¸‰ã€è¿˜æ˜¯åŠè·¯åŠ«æŒçš„äººï¼Œ<br/>
çœ‹åˆ°çš„éƒ½åªæ˜¯ä¸¤å¨â€œçœ‹ä¸æ‡‚ï¼Œä¹Ÿç”¨ä¸äº†â€çš„ä¸œè¥¿ã€‚</p>
<p>å¦ä¸€å¤´ï¼Œä½ å¥³æœ‹å‹æ”¶åˆ°äº†è¿™ä»½â€œç¥ç§˜å¿«é€’â€ã€‚<br/>
å¥¹å½“ç„¶çŸ¥é“æ€ä¹ˆç©è¿™å¥—ã€‚</p>
<p>å¥¹å…ˆæ‹¿å‡ºè‡ªå·±çè—ã€ä»ä¸å¤–æ³„çš„ <strong>RSA ç§é’¥</strong>ï¼Œ<br/>
è½»è½»ä¸€è§£ï¼Œ<br/>
RSA çš„åŒ…è£…å°±è¢«æ‹†å¼€ï¼ŒçœŸæ­£çš„ <strong>AES Key</strong> æ˜ å…¥çœ¼å¸˜ã€‚</p>
<p>ç„¶åï¼Œå¥¹ç”¨è¿™æŠŠ keyï¼Œ<br/>
æŠŠé‚£æ®µå¯†æ–‡æ…¢æ…¢è§£å¼€ã€‚<br/>
æ•°æ®å¤åŸï¼Œä¿¡æ¯é‡ç°ï¼ŒæƒŠå–œå¦‚çº¦è€Œè‡³ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span> site.doramusic.app.http

<span class="hljs-keyword">import</span> dora.util.CryptoUtils
<span class="hljs-keyword">import</span> java.security.SecureRandom

<span class="hljs-keyword">object</span> SecureRequestBuilder {

    <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> AES_KEY_LENGTH = <span class="hljs-number">16</span> <span class="hljs-comment">// bytes (128ä½)</span>
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> RSA_PUBLIC = <span class="hljs-string">""</span>   <span class="hljs-comment">// ç­‰å¾…å…¬é’¥...</span>

    <span class="hljs-keyword">enum</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SecureMode</span> {
        NONE,
        ENC,
        ENC_SIGN
    }

    <span class="hljs-comment">/**
     * è·å–éšæœºkeyã€‚
     */</span>
    <span class="hljs-meta">@JvmStatic</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getRandomKey</span><span class="hljs-params">()</span></span>: String {
        <span class="hljs-keyword">val</span> sb = StringBuilder(AES_KEY_LENGTH)
        <span class="hljs-keyword">val</span> random = SecureRandom()
        repeat(AES_KEY_LENGTH) {
            <span class="hljs-keyword">when</span> (random.nextInt(<span class="hljs-number">3</span>)) {
                <span class="hljs-number">0</span> -&gt; {
                    <span class="hljs-comment">// 0-9</span>
                    sb.append(random.nextInt(<span class="hljs-number">10</span>))
                }
                <span class="hljs-number">1</span> -&gt; {
                    <span class="hljs-comment">// A-Z</span>
                    sb.append((random.nextInt(<span class="hljs-number">26</span>) + <span class="hljs-string">'A'</span>.code).toChar())
                }
                <span class="hljs-number">2</span> -&gt; {
                    <span class="hljs-comment">// a-z</span>
                    sb.append((random.nextInt(<span class="hljs-number">26</span>) + <span class="hljs-string">'a'</span>.code).toChar())
                }
            }
        }
        <span class="hljs-keyword">return</span> sb.toString()
    }

    <span class="hljs-meta">@JvmStatic</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">build</span><span class="hljs-params">(
        req: <span class="hljs-type">BaseReq</span>,
        mode: <span class="hljs-type">SecureMode</span>
    )</span></span>: ReqBody? {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (mode) {
            <span class="hljs-comment">// æ˜æ–‡</span>
            SecureMode.NONE -&gt; {
                ReqBody(
                    mode = <span class="hljs-string">"NONE"</span>,
                    <span class="hljs-keyword">data</span> = req.payload
                )
            }
            <span class="hljs-comment">// ç«¯åˆ°ç«¯åŠ å¯†</span>
            SecureMode.ENC -&gt; {
                <span class="hljs-keyword">val</span> aesKey = getRandomKey()
                ReqBody(
                    mode = <span class="hljs-string">"ENC"</span>,
                    key = CryptoUtils.encryptByPublic(RSA_PUBLIC, aesKey),
                    <span class="hljs-keyword">data</span> = CryptoUtils.encryptAES(aesKey, req.payload)
                )
            }
            <span class="hljs-comment">// ç«¯åˆ°ç«¯åŠ å¯† + å®¢æˆ·ç«¯ç­¾å</span>
            SecureMode.ENC_SIGN -&gt; {
                <span class="hljs-comment">// ä¸å‘Šè¯‰ä½ ï¼Œè¿™ä¸ªé¡¹ç›®ä¸æä¾›å¯ä¿¡å®¢æˆ·ç«¯èƒ½åŠ›</span>
                <span class="hljs-literal">null</span>
            }
        }
    }
}
</code></pre>
<p>ä½¿ç”¨SecureRandomç”Ÿæˆå®Œå…¨éšæœºçš„keyã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span> site.doramusic.app.http

<span class="hljs-keyword">import</span> com.google.gson.Gson
<span class="hljs-keyword">import</span> dora.util.GlobalContext
<span class="hljs-keyword">import</span> dora.util.LanguageUtils
<span class="hljs-keyword">import</span> java.lang.reflect.Modifier
<span class="hljs-keyword">import</span> java.util.Locale

<span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseReq</span> {

    <span class="hljs-comment">/**
     * æ ¹æ®ä¸åŒçš„è¯­ç§è¿”å›æœ¬åœ°åŒ–çš„å†…å®¹ã€‚
     */</span>
    <span class="hljs-keyword">var</span> lang: String = <span class="hljs-string">""</span>

    <span class="hljs-comment">/**
     * æ•°æ®è½½ä½“ã€‚
     */</span>
    <span class="hljs-keyword">var</span> payload: String = <span class="hljs-string">""</span>

    <span class="hljs-comment">/**
     * é˜²æŠ“åŒ…ä¼ªé€ ç­¾åé‡å¤è¯·æ±‚ï¼Œç­¾åè¿‡æœŸï¼Œæ‹’ç»è¯·æ±‚ã€‚
     */</span>
    <span class="hljs-keyword">var</span> timestamp: String = <span class="hljs-string">""</span>

    <span class="hljs-comment">/**
     * å¯ä¿¡å®¢æˆ·ç«¯ç­¾åï¼ŒENC_SIGNæ¨¡å¼ä¸‹ï¼Œç­¾åä¸æ­£ç¡®ï¼Œæ‹’ç»è¯·æ±‚ã€‚
     */</span>
    <span class="hljs-keyword">var</span> signature: String? = <span class="hljs-literal">null</span>

    <span class="hljs-keyword">init</span> {
        lang = LanguageUtils.getLangTag(GlobalContext.<span class="hljs-keyword">get</span>()).ifEmpty { Locale.getDefault().language }
        timestamp = (System.currentTimeMillis() / <span class="hljs-number">1000</span>).toString()
    }

    <span class="hljs-comment">/**
     * å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œä¿è¯å”¯ä¸€æ€§ï¼Œè¿”å›æ’åºåçš„JSONå­—ç¬¦ä¸²ã€‚
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">sort</span><span class="hljs-params">()</span></span>: String {
        <span class="hljs-keyword">val</span> map = sortedMapOf&lt;String, Any?&gt;()
        <span class="hljs-keyword">var</span> clazz: Class&lt;*&gt;? = <span class="hljs-keyword">this</span>.javaClass
        <span class="hljs-keyword">while</span> (clazz != <span class="hljs-literal">null</span> &amp;&amp; clazz != BaseReq::<span class="hljs-keyword">class</span>.java) {
            clazz.declaredFields
                .filter { field -&gt;
                    !field.isSynthetic &amp;&amp;
                            !Modifier.isStatic(field.modifiers)
                }
                .forEach { field -&gt;
                    field.isAccessible = <span class="hljs-literal">true</span>
                    map[field.name] = field[<span class="hljs-keyword">this</span>]
                }
            clazz = clazz.superclass
        }
        <span class="hljs-comment">// çˆ¶ç±»å­—æ®µï¼ˆæ˜¾å¼åŠ å…¥ï¼Œé¿å…é—æ¼ï¼‰</span>
        map[<span class="hljs-string">"lang"</span>] = lang
        map[<span class="hljs-string">"payload"</span>] = payload
        map[<span class="hljs-string">"timestamp"</span>] = timestamp
        <span class="hljs-keyword">return</span> Gson().toJson(map)
    }
}
</code></pre>
<p>å¤§è‡´æ€è·¯å¦‚ä¸Šï¼Œå¦‚éœ€æŸ¥çœ‹å®Œæ•´å®ç°ä¸å·¥ç¨‹ç»†èŠ‚ï¼Œå¯ç›´æ¥è¿›å…¥è¿™ä¸ªä¼ é€é—¨ï¼š<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdora4%2FDoraMusic" target="_blank" title="https://github.com/dora4/DoraMusic" ref="nofollow noopener noreferrer">github.com/dora4/DoraMâ€¦</a>ã€‚</p>
<h4 data-id="heading-1">å¤ç”¨</h4>
<p>èƒ½æä¾›<strong>æ— é™è‡ªç”±ç»„åˆçš„å¤ç”¨èƒ½åŠ›</strong>ï¼Œæ˜¯å¤§å·¥ç¨‹å¾—ä»¥é•¿æœŸæ¼”è¿›çš„åŸºçŸ³ã€‚<br/>
å¤ç”¨ä¸æ˜¯å¤åˆ¶ç²˜è´´ï¼Œä¹Ÿä¸æ˜¯ç®€å•å°è£…å‡ ä¸ªå·¥å…·ç±»ï¼Œè€Œæ˜¯<strong>ç»“æ„å±‚é¢çš„èƒ½åŠ›é‡Šæ”¾</strong>ã€‚</p>
<p>æŠ½è±¡ä¸æç‚¼çš„æ°´å¹³ï¼Œå†³å®šäº†ä¸€å¥—å·¥ç¨‹çš„æˆç†Ÿåº¦ã€‚<br/>
ä½ æŠ½çš„æ˜¯â€œåŠŸèƒ½â€ï¼Œè¿˜æ˜¯â€œèƒ½åŠ›â€ï¼›<br/>
ä½ å¤ç”¨çš„æ˜¯â€œä»£ç â€ï¼Œè¿˜æ˜¯â€œæ¨¡å‹â€ï¼›<br/>
è¿™äº›é€‰æ‹©ï¼Œä¼šåœ¨é¡¹ç›®è§„æ¨¡æ”¾å¤§ä¹‹åï¼Œç»™å‡ºå®Œå…¨ä¸åŒçš„å›æŠ¥ã€‚</p>
<p>å½“æ¶æ„è®¾è®¡è¶³å¤Ÿæ¸…æ™°ã€è¾¹ç•Œè¶³å¤Ÿç¨³å®šæ—¶ï¼Œ<br/>
ä½ ç”šè‡³å¯ä»¥åšåˆ°â€”â€”<br/>
<strong>ä¸€ä»½åç«¯ä»£ç ï¼Œå¯¹æ¥ n ä¸ªæ‰¿è½½åŒä¸€å“ç‰Œç†å¿µçš„ Appã€‚</strong></p>
<p>ä½ åªéœ€è¦æŠŠçœŸæ­£â€œé€šç”¨â€çš„ä¸œè¥¿æŠ½å‡ºæ¥ï¼š</p>
<ul>
<li>å»ºè®®ä¸åé¦ˆ</li>
<li>FAQ / å¸®åŠ©ä¸­å¿ƒ</li>
<li>App ç‰ˆæœ¬åˆ†å‘ä¸ç°åº¦æ§åˆ¶</li>
<li>é¦–é¡µæ¨ªå¹…å¹¿å‘Š</li>
<li>é¦–é¡µç›´æ’­é—´ / å†…å®¹æ¨è</li>
<li>é…ç½®ä¿¡æ¯ä¸åŠŸèƒ½å¼€å…³</li>
<li>ç³»ç»Ÿé€šçŸ¥</li>
<li>ä¿ƒé”€æ´»åŠ¨</li>
<li>åŸ‹ç‚¹ç»Ÿè®¡ä¸ç”¨æˆ·è¡Œä¸ºåˆ†æ</li>
</ul>
<p>è¿™äº›æ¨¡å—ï¼Œåªå†™ä¸€æ¬¡ï¼Œ<br/>
å´å¯ä»¥è¢«<strong>å…¨å“ç‰Œã€å…¨äº§å“çº¿ã€å…¨å½¢æ€çš„ App åå¤ä½¿ç”¨</strong>ã€‚</p>
<p>è€Œå®¢æˆ·ç«¯ï¼Œåªè´Ÿè´£è¡¨ç°ã€ä½“éªŒå’Œå·®å¼‚åŒ–ã€‚<br/>
çœŸæ­£å¤æ‚ã€çœŸæ­£éœ€è¦ç¨³å®šæ¼”è¿›çš„éƒ¨åˆ†ï¼Œ<br/>
è¢«ç‰¢ç‰¢æ”¶æ•›åœ¨å¯æ§çš„æ¶æ„ä¹‹ä¸­ã€‚</p>
<p>æœ€ç»ˆä½ ä¼šå‘ç°ï¼š<br/>
å®‰å…¨åªæ˜¯èµ·ç‚¹ï¼Œ<br/>
åŠ å¯†åªæ˜¯æ‰‹æ®µï¼Œ<br/>
<strong>æ¶æ„ä¸å¤ç”¨ï¼Œæ‰æ˜¯å·¥ç¨‹èµ°å¾—è¿œçš„æ ¹æœ¬åŸå› ã€‚</strong></p>
<blockquote>
<p>å·¥ç¨‹ä¸æ˜¯å†™å®Œä¸€æ¬¡å°±ç»“æŸï¼Œ<br/>
è€Œæ˜¯è¦ç»å¾—èµ·è§„æ¨¡ã€æ—¶é—´å’Œå˜åŒ–çš„åå¤è€ƒéªŒã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOSé€†å‘-å“”å“©å“”å“©å¢åŠ 3å€é€Ÿæ’­æ”¾ï¼ˆ4ï¼‰- ç«–å±è§†é¢‘Â·å…¨å±æ’­æ”¾åœºæ™¯]]></title>    <link>https://juejin.cn/post/7584340871412531227</link>    <guid>https://juejin.cn/post/7584340871412531227</guid>    <pubDate>2025-12-16T23:49:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584340871412531227" data-draft-id="7584094504631009289" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOSé€†å‘-å“”å“©å“”å“©å¢åŠ 3å€é€Ÿæ’­æ”¾ï¼ˆ4ï¼‰- ç«–å±è§†é¢‘Â·å…¨å±æ’­æ”¾åœºæ™¯"/> <meta itemprop="keywords" content="iOS,Swift"/> <meta itemprop="datePublished" content="2025-12-16T23:49:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TouchWorld"/> <meta itemprop="url" content="https://juejin.cn/user/2717648473557143"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOSé€†å‘-å“”å“©å“”å“©å¢åŠ 3å€é€Ÿæ’­æ”¾ï¼ˆ4ï¼‰- ç«–å±è§†é¢‘Â·å…¨å±æ’­æ”¾åœºæ™¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2717648473557143/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TouchWorld
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T23:49:11.000Z" title="Tue Dec 16 2025 23:49:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e36d3808f834bfe8e04eb7768711c39~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766533751&amp;x-signature=Dpg2duP72oWru%2FcbWIj%2FbET4%2Byg%3D" alt="Xnip2025-12-16_11-22-40.jpg" loading="lazy"/></p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>ä½œä¸ºå“”å“©å“”å“©çš„é‡åº¦ç”¨æˆ·ï¼Œæˆ‘ä¸€ç›´æœŸå¾…å®˜æ–¹æ”¯æŒ <strong>3 å€é€Ÿæ’­æ”¾</strong>ï¼Œä½†è¯¥åŠŸèƒ½è¿Ÿè¿Ÿæœªä¸Šçº¿ã€‚äºæ˜¯ï¼Œæˆ‘åˆ©ç”¨ <code>iOS</code> é€†å‘å·¥ç¨‹çŸ¥è¯†ï¼Œä¸º B ç«™ App æ·»åŠ è¿™ä¸€åŠŸèƒ½ã€‚</p>
<p><strong>ä¿®æ”¹å‰</strong>ï¼šæœ€é«˜ä»…æ”¯æŒ <strong><code>2.0</code></strong> å€é€Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/378216715c2f44248c8e2425229c3a92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766533751&amp;x-signature=ucnCpAkX5QA%2F6iqHOrHiX1ueoUo%3D" alt="Screenshot 2025-12-11 at 07.26.05.png" loading="lazy"/></p>
<p><strong>ä¿®æ”¹å</strong>ï¼šæˆåŠŸæ·»åŠ  <strong><code>3.0</code></strong> å€é€Ÿé€‰é¡¹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a59b38f386f445e2b309556e3038747b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766533751&amp;x-signature=cNFHe129Yw0DLX50e7QdOj0pFAs%3D" alt="Screenshot 2025-12-11 at 07.22.57.png" loading="lazy"/></p>
<p>æœ¬ç³»åˆ—åˆ†ä¸ºå¤šç¯‡ï¼Œæœ¬æ–‡èšç„¦ <strong>ç«–å±è§†é¢‘Â·å…¨å±æ’­æ”¾</strong> åœºæ™¯ä¸‹çš„ <strong>3 å€é€Ÿ</strong>å®ç°ã€‚</p>
<p><strong>ç³»åˆ—å›é¡¾</strong>ï¼š</p>
<ul>
<li>
<p><a href="https://juejin.cn/post/7582063437414285350" target="_blank" title="https://juejin.cn/post/7582063437414285350">iOSé€†å‘-å“”å“©å“”å“©å¢åŠ 3å€é€Ÿï¼ˆ1ï¼‰-æœ€å¤§æ’­æ”¾é€Ÿåº¦</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7582202149910544393" target="_blank" title="https://juejin.cn/post/7582202149910544393">iOSé€†å‘-å“”å“©å“”å“©å¢åŠ 3å€é€Ÿæ’­æ”¾ï¼ˆ2ï¼‰-[æ¨ªå±è§†é¢‘-åŠå±æ’­æ”¾]å¢åŠ 3å€é€Ÿæ’­æ”¾</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7583910418659409966" target="_blank" title="https://juejin.cn/post/7583910418659409966">iOSé€†å‘-å“”å“©å“”å“©å¢åŠ 3å€é€Ÿæ’­æ”¾ï¼ˆ3ï¼‰-[æ¨ªå±è§†é¢‘-å…¨å±æ’­æ”¾]åœºæ™¯</a></p>
</li>
</ul>
<h2 data-id="heading-1">åœºæ™¯è¯´æ˜</h2>
<p>æœ¬æ–‡åˆ†æçš„å…·ä½“åœºæ™¯ä¸ºï¼š<strong>ç«–å±è§†é¢‘å…¨å±æ’­æ”¾</strong>ã€‚</p>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f68f33c13e1439fa717b09c4df612cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766533751&amp;x-signature=6Zpe0tLgx%2FS0hPaACG8bnThdvzQ%3D" alt="499416D4-1488-4417-89CD-E42861795807.png" width="50%" loading="lazy"/>
<h2 data-id="heading-2">å¼€å‘ç¯å¢ƒ</h2>
<ul>
<li>
<p>å“”å“©å“”å“©ç‰ˆæœ¬ï¼š<code>8.41.0</code></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAloneMonkey%2FMonkeyDev" target="_blank" title="https://github.com/AloneMonkey/MonkeyDev" ref="nofollow noopener noreferrer">MonkeyDev</a></p>
</li>
<li>
<p><code>IDA Professional 9.0</code></p>
</li>
<li>
<p><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">å®‰è£…IDAæ’ä»¶ï¼špatching</a></p>
</li>
<li>
<p><code>Lookin</code></p>
</li>
</ul>
<h2 data-id="heading-3">åˆ†æ</h2>
<h3 data-id="heading-4">1. æ’­æ”¾é€Ÿåº¦ç»„ä»¶å®šä½</h3>
<p>é€šè¿‡ <code>Lookin</code> åˆ†æ UI å±‚çº§å¯ä»¥å‘ç°ï¼Œæ’­æ”¾é€Ÿåº¦é¢æ¿å¯¹åº”çš„è§†å›¾ç»„ä»¶ä¸ºï¼š</p>
<pre><code class="hljs">VKSettingView.TabContent
</code></pre>
<p>è¯¥ç»„ä»¶å†…éƒ¨æŒæœ‰ä¸€ä¸ª <code>VKSettingView.TabModel</code>ï¼Œç”¨äºæè¿°æ’­æ”¾é€Ÿåº¦ç›¸å…³çš„æ•°æ®æ¨¡å‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e4c6442b278471794a1ec19bacd8cd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766533751&amp;x-signature=z6ruqxHfU%2Bzlyp8JJ5kgVvZlu5I%3D" alt="157920C7-792E-4FEC-AF23-1AA783CBC33D.png" loading="lazy"/></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Foundation

<span class="hljs-keyword">class</span> <span class="hljs-title class_">VKSettingView</span>.<span class="hljs-title class_">TabContent</span>: <span class="hljs-title class_">VKSettingView</span>.<span class="hljs-title class_">BaseContent</span> {
  <span class="hljs-comment">/* fields */</span>
    <span class="hljs-keyword">var</span> model: <span class="hljs-type">VKSettingView</span>.<span class="hljs-type">TabModel</span> <span class="hljs-operator">?</span>
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">lazy</span> selecter: <span class="hljs-type">VKSettingView</span>.<span class="hljs-type">VKSelectControl</span> <span class="hljs-operator">?</span>
} 
</code></pre>
<h3 data-id="heading-5">2. TabModel ç»“æ„åˆ†æ</h3>
<p>ä» <code>Mach-O</code> ä¸­å¯¼å‡ºçš„ <code>Swift</code> æ–‡ä»¶å¯ä»¥ç¡®è®¤ï¼Œ<code>VKSettingView.TabModel</code> ä¸­åŒ…å«ä¸€ä¸ª <code>items</code> å±æ€§ï¼Œå…¶ç±»å‹ä¸º <code>[String]</code>ï¼Œææœ‰å¯èƒ½å³ä¸º <strong>æ’­æ”¾é€Ÿåº¦æ•°ç»„</strong>ã€‚</p>
<p>è¿›ä¸€æ­¥åœ¨ <code>IDA</code> ä¸­æŸ¥çœ‹è¯¥ç±»çš„æ–¹æ³•å®ç°ï¼Œå¯ä»¥å‘ç° <code>items</code> å¯¹åº”çš„ setter æ–¹æ³•ä¸ºï¼š<code>sub_10D8B5FA8</code></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">VKSettingView</span>.<span class="hljs-title class_">TabModel</span>: <span class="hljs-title class_">VKSettingView</span>.<span class="hljs-title class_">BaseModel</span> {
  <span class="hljs-comment">/* fields */</span>
    <span class="hljs-keyword">var</span> icon: <span class="hljs-type">String</span>
    <span class="hljs-keyword">var</span> itemsSize: __C.<span class="hljs-type">CGSize</span>
    <span class="hljs-keyword">var</span> items: [<span class="hljs-type">String</span>]
    <span class="hljs-keyword">var</span> selectedIndex: <span class="hljs-type">Int</span>
    <span class="hljs-keyword">var</span> dynamicSelectedString: <span class="hljs-type">String</span>?
    <span class="hljs-keyword">var</span> enableRepeatSelect: <span class="hljs-type">Swift</span>.<span class="hljs-type">Bool</span>
    <span class="hljs-keyword">var</span> selectChangeCallback: ((<span class="hljs-keyword">_</span>:))<span class="hljs-operator">?</span>
  <span class="hljs-comment">/* methods */</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sub_10d8b5bc4</span> <span class="hljs-comment">// getter (instance)</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sub_10d8b5c80</span> <span class="hljs-comment">// setter (instance)</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sub_10d8b5cdc</span> <span class="hljs-comment">// modify (instance)</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sub_10d8b5d64</span> <span class="hljs-comment">// getter (instance)</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sub_10d8b5dfc</span> <span class="hljs-comment">// setter (instance)</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sub_10d8b5e50</span> <span class="hljs-comment">// modify (instance)</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sub_10d8b5efc</span> <span class="hljs-comment">// getter (instance)</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sub_10d8b5fa8</span> <span class="hljs-comment">// setter (instance)</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">sub_10d8b5ff8</span> <span class="hljs-comment">// modify (instance)</span>
<span class="hljs-operator">...</span>
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab45717245a84ae88dbfbfaf626dc148~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766533751&amp;x-signature=E2Jjl5Z6Fnp0vb%2Fv80uiXspUV7Q%3D" alt="41E4F621-7F23-4445-A24D-0347CB125655.png" loading="lazy"/></p>
<h3 data-id="heading-6">3. items èµ‹å€¼æ¥æºè¿½è¸ª</h3>
<ul>
<li>å°è¯•ç›´æ¥å¯¹ <code>sub_10D8B5FA8</code> æ·»åŠ ç¬¦å·æ–­ç‚¹å¹¶æœªè§¦å‘ï¼Œå› æ­¤æ¨æ–­è¯¥å±æ€§å¯èƒ½é€šè¿‡ <strong>Objective-C Runtime</strong> é—´æ¥è°ƒç”¨ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d09c6eabec8340df812257fc0311ceff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766533751&amp;x-signature=FmcClt0ZBwDwlni746OIr%2B63wOw%3D" alt="818F4D98-BD7D-4C7F-A134-A566E41E6D99.png" loading="lazy"/></p>
<ul>
<li>ç»“åˆ <code>Swift / Objective-C</code> æ··ç¼–ç‰¹æ€§ï¼Œå¯¹ <code>-[TabModel setItems:]</code> æ·»åŠ æ–­ç‚¹åæˆåŠŸæ•è·è°ƒç”¨ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5c941e904b74b8f8859684555aee2bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766533751&amp;x-signature=DfahTHdJLjf1HCadc1mwIyC1yXw%3D" alt="C1BA5A52-C023-45FE-8436-EB592F188CF1.png" loading="lazy"/></p>
<ul>
<li>
<p>é€šè¿‡ LLDB æ‰“å°å‚æ•°å†…å®¹å¯ä»¥ç¡®è®¤ï¼š</p>
<pre><code class="hljs language-objc" lang="objc">(<span class="hljs-number">0.5</span>, <span class="hljs-number">0.75</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">1.25</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">2.0</span>)
</code></pre>
<p>è¯¥æ•°ç»„æ­£æ˜¯å½“å‰ <code>UI</code> ä¸­æ˜¾ç¤ºçš„æ’­æ”¾é€Ÿåº¦åˆ—è¡¨ã€‚</p>
</li>
</ul>
<p><strong>LLDB:</strong></p>
<pre><code class="hljs language-objc" lang="objc">(lldb) <span class="hljs-keyword">register</span> read x2
      x2 = <span class="hljs-number">0x000000028044efc0</span>
(lldb) p (<span class="hljs-type">id</span>)<span class="hljs-number">0x000000028044efc0</span>
(__NSArrayI *) <span class="hljs-number">0x000000028044efc0</span> <span class="hljs-string">@"6 elements"</span>
(lldb) po (<span class="hljs-type">id</span>)<span class="hljs-number">0x000000028044efc0</span>
&lt;__NSArrayI <span class="hljs-number">0x28044efc0</span>&gt;(
<span class="hljs-number">0.5</span>,
<span class="hljs-number">0.75</span>,
<span class="hljs-number">1.0</span>,
<span class="hljs-number">1.25</span>,
<span class="hljs-number">1.5</span>,
<span class="hljs-number">2.0</span>
)
</code></pre>
<h3 data-id="heading-7">4. è°ƒç”¨æ ˆåˆ†æ</h3>
<p>æŸ¥çœ‹è°ƒç”¨æ ˆå¯ä»¥å‘ç°ï¼Œ<code>items</code> çš„èµ‹å€¼é€»è¾‘æ¥è‡ªï¼š</p>
<pre><code class="hljs language-css" lang="css">-<span class="hljs-selector-attr">[BBPlayerPlaySettingWidgetV2 playbackRate:]</span>
</code></pre>
<p>è¯´æ˜ <strong>æ’­æ”¾é€Ÿåº¦æ•°ç»„æ˜¯åœ¨è¯¥æ–¹æ³•ä¸­è¢«æ„é€ å¹¶ä¼ å…¥ TabModel çš„</strong>ã€‚</p>
<p><strong>è°ƒç”¨å †æ ˆï¼š</strong></p>
<pre><code class="hljs language-objc" lang="objc">(lldb) bt
* thread #<span class="hljs-number">1</span>, queue = <span class="hljs-string">'com.apple.main-thread'</span>, stop reason = breakpoint <span class="hljs-number">10.1</span>
  * frame #<span class="hljs-number">0</span>: <span class="hljs-number">0x000000011084df44</span> bili-universal`-[TabModel setItems:]
    frame #<span class="hljs-number">1</span>: <span class="hljs-number">0x0000000128d2ba78</span> BiliBiliTweak.dylib`_logos_method$App$VKSettingViewTabModel$setItems$(<span class="hljs-keyword">self</span>=<span class="hljs-number">0x00000002821d6220</span>, _cmd=<span class="hljs-string">"setItems:"</span>, items=<span class="hljs-number">6</span> elements) at NJDetailPlayerAd.xm:<span class="hljs-number">418</span>:<span class="hljs-number">5</span>
    frame #<span class="hljs-number">2</span>: <span class="hljs-number">0x000000011062db8c</span> bili-universal`-[BBPlayerPlaySettingWidgetV2 playbackRate:] + <span class="hljs-number">488</span>
    frame #<span class="hljs-number">3</span>: <span class="hljs-number">0x000000011062c17c</span> bili-universal`sub_10D69410C + <span class="hljs-number">112</span>
    frame #<span class="hljs-number">4</span>: <span class="hljs-number">0x000000018ff78ce0</span> CoreFoundation`__NSARRAY_IS_CALLING_OUT_TO_A_BLOCK__ + <span class="hljs-number">16</span>
    frame #<span class="hljs-number">5</span>: <span class="hljs-number">0x000000018fe7cc0c</span> CoreFoundation`-[__NSArrayM enumerateObjectsWithOptions:usingBlock:] + <span class="hljs-number">192</span>
...
</code></pre>
<h3 data-id="heading-8">5. ä¼ªä»£ç éªŒè¯</h3>
<p>åœ¨ <code>IDA</code> ä¸­åˆ†æ <code>-[BBPlayerPlaySettingWidgetV2 playbackRate:]</code> çš„ä¼ªä»£ç ï¼Œå¯ä»¥æ¸…æ™°çœ‹åˆ°æ’­æ”¾é€Ÿåº¦æ•°ç»„æ˜¯é€šè¿‡å¦‚ä¸‹æ–¹å¼å†™æ­»åˆ›å»ºçš„ï¼š</p>
<pre><code class="hljs language-objc" lang="objc">v25[<span class="hljs-number">0</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"0.5"</span>);
v25[<span class="hljs-number">1</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"0.75"</span>);
v25[<span class="hljs-number">2</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"1.0"</span>);
v25[<span class="hljs-number">3</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"1.25"</span>);
v25[<span class="hljs-number">4</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"1.5"</span>);
v25[<span class="hljs-number">5</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"2.0"</span>);
</code></pre>
<p>è‡³æ­¤å¯ä»¥ç¡®è®¤ï¼š<strong>ç«–å±å…¨å±åœºæ™¯ä¸‹çš„æ’­æ”¾é€Ÿåº¦é€‰é¡¹å¹¶éåŠ¨æ€é…ç½®ï¼Œè€Œæ˜¯ç¡¬ç¼–ç åœ¨è¯¥æ–¹æ³•ä¸­</strong>ã€‚</p>
<p><strong>ä¼ªä»£ç ï¼š</strong></p>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-type">id</span> __cdecl -[BBPlayerPlaySettingWidgetV2 playbackRate:](BBPlayerPlaySettingWidgetV2 *<span class="hljs-keyword">self</span>, SEL a2, <span class="hljs-type">id</span> a3)
{
...
  v4 = objc_retain(a3);
  v5 = objc_retainAutoreleasedReturnValue(-[BBPlayerObject context](<span class="hljs-keyword">self</span>, <span class="hljs-string">"context"</span>));
  v6 = objc_retainAutoreleasedReturnValue(-[BBPlayerContext status](v5, <span class="hljs-string">"status"</span>));
  v7 = -[BBPlayerStatus isVerticalScreen](v6, <span class="hljs-string">"isVerticalScreen"</span>);
  objc_release(v6);
  objc_release(v5);
  <span class="hljs-keyword">if</span> ( v7 )
  {
    v25[<span class="hljs-number">0</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"0.5"</span>);
    v25[<span class="hljs-number">1</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"0.75"</span>);
    v25[<span class="hljs-number">2</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"1.0"</span>);
    v25[<span class="hljs-number">3</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"1.25"</span>);
    v25[<span class="hljs-number">4</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"1.5"</span>);
    v25[<span class="hljs-number">5</span>] = <span class="hljs-built_in">CFSTR</span>(<span class="hljs-string">"2.0"</span>);
    v8 = objc_retainAutoreleasedReturnValue(+[<span class="hljs-built_in">NSArray</span> arrayWithObjects:count:](&amp;OBJC_CLASS___NSArray, <span class="hljs-string">"arrayWithObjects:count:"</span>, v25, <span class="hljs-number">6</span>LL));
    v21 = <span class="hljs-number">0</span>LL;
    v22 = &amp;v21;
...
</code></pre>
<h2 data-id="heading-9">é€šç”¨è§£å†³æ–¹æ¡ˆ</h2>
<p>ç”±äºæ’­æ”¾é€Ÿåº¦æ•°ç»„æ˜¯é€šè¿‡ <code>+[NSArray arrayWithObjects:count:]</code> æ„é€ çš„ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨ <strong>å…¨å±€ Hook</strong> çš„æ–¹å¼ï¼Œå¯¹è¯¥æ–¹æ³•è¿›è¡Œæ‹¦æˆªä¸æ›¿æ¢ã€‚</p>
<p>æ ¸å¿ƒæ€è·¯å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆ¤æ–­ <code>count == 6</code></li>
<li>æ ¡éªŒåŸå§‹æ•°ç»„å†…å®¹æ˜¯å¦ä¸é»˜è®¤å€é€Ÿæ•°ç»„ä¸€è‡´</li>
<li>åœ¨æ»¡è¶³æ¡ä»¶æ—¶è¿”å›åŒ…å« <code>3.0</code> çš„æ–°æ•°ç»„</li>
</ol>
<hr/>
<h3 data-id="heading-10">Hook å®ç°ä»£ç </h3>
<pre><code class="hljs language-objc" lang="objc">%hook <span class="hljs-built_in">NSArray</span>

+ (<span class="hljs-keyword">instancetype</span>)arrayWithObjects:(<span class="hljs-type">id</span> *)objects count:(<span class="hljs-built_in">NSUInteger</span>)cnt {
    <span class="hljs-keyword">if</span> (cnt != <span class="hljs-number">6</span>) {
        <span class="hljs-keyword">return</span> %orig;
    }
    <span class="hljs-built_in">NSArray</span> *origArr = %orig(objects, cnt);
    <span class="hljs-comment">// ç”¨ __autoreleasing ä¿®é¥°æ•°ç»„å…ƒç´ </span>
    __autoreleasing <span class="hljs-type">id</span> oldRates[] = {
        <span class="hljs-string">@"0.5"</span>,
        <span class="hljs-string">@"0.75"</span>,
        <span class="hljs-string">@"1.0"</span>,
        <span class="hljs-string">@"1.25"</span>,
        <span class="hljs-string">@"1.5"</span>,
        <span class="hljs-string">@"2.0"</span>
    };
    <span class="hljs-built_in">NSUInteger</span> oldRatesCount = <span class="hljs-keyword">sizeof</span>(oldRates) / <span class="hljs-keyword">sizeof</span>(oldRates[<span class="hljs-number">0</span>]);
    <span class="hljs-comment">// ä¼ æ•°ç»„åå³å¯ï¼Œæ•°ç»„åä¼šé€€åŒ–ä¸ºæŒ‡é’ˆç±»å‹ __autoreleasing id *</span>
    <span class="hljs-built_in">NSArray</span> *oldRatesArr = %orig(oldRates, oldRatesCount);
    <span class="hljs-keyword">if</span> (cnt == <span class="hljs-number">6</span> &amp;&amp; [origArr isEqualToArray:oldRatesArr]) {
        __autoreleasing <span class="hljs-type">id</span> newRates[] = {
            <span class="hljs-string">@"0.5"</span>,
            <span class="hljs-string">@"1.0"</span>,
            <span class="hljs-string">@"1.25"</span>,
            <span class="hljs-string">@"1.5"</span>,
            <span class="hljs-string">@"2.0"</span>,
            <span class="hljs-string">@"3.0"</span>
        };
        <span class="hljs-built_in">NSUInteger</span> newRatesCount = <span class="hljs-keyword">sizeof</span>(newRates) / <span class="hljs-keyword">sizeof</span>(newRates[<span class="hljs-number">0</span>]);
        <span class="hljs-built_in">NSArray</span> *newRatesArr = %orig(newRates, newRatesCount);
        <span class="hljs-keyword">return</span> newRatesArr;
    }
    <span class="hljs-keyword">return</span> origArr;
}

%end
</code></pre>
<h2 data-id="heading-11">æœ€ç»ˆæ•ˆæœ</h2>
<p>ç«–å±è§†é¢‘å…¨å±æ’­æ”¾åœºæ™¯ä¸‹ï¼Œæ’­æ”¾é€Ÿåº¦åˆ—è¡¨æˆåŠŸæ–°å¢ <strong>3.0 å€é€Ÿ</strong>ï¼Œä¸”ä¸å½±å“å…¶ä»–æ’­æ”¾åœºæ™¯ä¸ç°æœ‰åŠŸèƒ½é€»è¾‘ã€‚</p>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1a40cb3e5ff44eb9857a0238f925b25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766533751&amp;x-signature=xRMvl3cUYUBRbJHHqKe0rpZz538%3D" alt="Screenshot 2025-12-16 at 10.18.43.png" width="50%" loading="lazy"/>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>æœ¬æ–‡é€šè¿‡ <code>UI</code> åˆ†æã€è°ƒç”¨æ ˆè¿½è¸ªä¸ä¼ªä»£ç éªŒè¯ï¼Œå®Œæ•´å®šä½äº† <strong>ç«–å±è§†é¢‘å…¨å±æ’­æ”¾åœºæ™¯</strong> ä¸‹æ’­æ”¾é€Ÿåº¦æ•°ç»„çš„ç”Ÿæˆä½ç½®ï¼Œå¹¶ç»™å‡ºäº†ä¸€ä¸ª <strong>ç¨³å®šã€é€šç”¨ä¸”ä¾µå…¥æ€§è¾ƒä½</strong> çš„ <code>Hook</code> æ–¹æ¡ˆã€‚</p>
<p>è¯¥æ€è·¯åŒæ ·é€‚ç”¨äºå…¶ä»–å­˜åœ¨ç¡¬ç¼–ç é…ç½®çš„åŠŸèƒ½ä¿®æ”¹åœºæ™¯ã€‚</p>
<h2 data-id="heading-13">ä»£ç </h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTouchFriend%2FBiliBiliMApp" target="_blank" title="https://github.com/TouchFriend/BiliBiliMApp" ref="nofollow noopener noreferrer">BiliBiliMApp-æ— å¹¿å‘Šç‰ˆå“”å“©å“”å“©</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Geminiå›¾åƒç”Ÿæˆå®½é«˜æ¯”æ•™ç¨‹ï¼š10ç§æ¯”ä¾‹å®Œæ•´é…ç½®æŒ‡å—ã€2025ã€‘]]></title>    <link>https://juejin.cn/post/7584279552434012198</link>    <guid>https://juejin.cn/post/7584279552434012198</guid>    <pubDate>2025-12-17T00:20:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584279552434012198" data-draft-id="7584340871412629531" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Geminiå›¾åƒç”Ÿæˆå®½é«˜æ¯”æ•™ç¨‹ï¼š10ç§æ¯”ä¾‹å®Œæ•´é…ç½®æŒ‡å—ã€2025ã€‘"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-17T00:20:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LaoZhangAI"/> <meta itemprop="url" content="https://juejin.cn/user/1327865776053022"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Geminiå›¾åƒç”Ÿæˆå®½é«˜æ¯”æ•™ç¨‹ï¼š10ç§æ¯”ä¾‹å®Œæ•´é…ç½®æŒ‡å—ã€2025ã€‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1327865776053022/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LaoZhangAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:20:46.000Z" title="Wed Dec 17 2025 00:20:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Geminiå›¾åƒç”Ÿæˆæ”¯æŒ10ç§å®½é«˜æ¯”ï¼ŒåŒ…æ‹¬1:1ã€16:9ã€9:16ã€21:9ç­‰ä¸»æµæ ¼å¼ï¼ŒGemini 3 Proè¿˜æ”¯æŒ1Kåˆ°4Kå¤šç§åˆ†è¾¨ç‡è¾“å‡ºã€‚é€šè¿‡image_configå‚æ•°æˆ–åœ¨promptä¸­å£°æ˜å³å¯æ§åˆ¶è¾“å‡ºå°ºå¯¸ï¼Œä¸­å›½ç”¨æˆ·å¯é€šè¿‡laozhang.aiå›½å†…ç›´è¿ä½¿ç”¨ï¼Œä»·æ ¼æ¯”å®˜æ–¹ä¾¿å®œæœ€é«˜79%ã€‚</p>
<p>æœ¬æ•™ç¨‹å°†è¯¦ç»†ä»‹ç»æ‰€æœ‰å®½é«˜æ¯”çš„é…ç½®æ–¹æ³•ã€ä¸åŒæ¨¡å‹çš„æ”¯æŒå·®å¼‚ã€å¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥åŠå¦‚ä½•åœ¨ä¸­å›½ç¨³å®šä½¿ç”¨Geminiå›¾åƒç”ŸæˆAPIã€‚æ— è®ºä½ æ˜¯å¼€å‘è€…è¿˜æ˜¯å†…å®¹åˆ›ä½œè€…ï¼Œéƒ½èƒ½æ‰¾åˆ°é€‚åˆè‡ªå·±çš„ä½¿ç”¨æ–¹å¼ã€‚</p>
<h2 data-id="heading-0">Geminiå›¾åƒç”Ÿæˆæ”¯æŒçš„10ç§å®½é«˜æ¯”</h2>
<p>Gemini 2.5 Flash Imageå’ŒGemini 3 Pro Imageéƒ½æ”¯æŒç›¸åŒçš„10ç§å®½é«˜æ¯”ï¼Œè¿™æ˜¯ç›®å‰AIå›¾åƒç”Ÿæˆé¢†åŸŸæ”¯æŒæœ€å…¨é¢çš„å®½é«˜æ¯”åˆ—è¡¨ä¹‹ä¸€ã€‚è¿™äº›å®½é«˜æ¯”è¦†ç›–äº†ä»ç¤¾äº¤åª’ä½“ã€è§†é¢‘å¹³å°åˆ°ä¸“ä¸šå°åˆ·çš„å„ç§åœºæ™¯éœ€æ±‚ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œæ”¯æŒçš„å®½é«˜æ¯”åŒ…æ‹¬ï¼š1:1æ­£æ–¹å½¢é€‚åˆInstagramå¸–å­å’Œå¤´åƒã€16:9å®½å±é€‚åˆYouTubeå°é¢å’Œåšå®¢æ¨ªå¹…ã€9:16ç«–å±é€‚åˆæŠ–éŸ³å’Œæ‰‹æœºå£çº¸ã€21:9è¶…å®½å±é€‚åˆç”µå½±æ¨ªå¹…ã€4:3å’Œ3:4ä¼ ç»Ÿå±å¹•æ¯”ä¾‹ã€3:2å’Œ2:3ç»å…¸æ‘„å½±æ¯”ä¾‹ã€ä»¥åŠ5:4å’Œ4:5å¤§ç”»å¹…æ¯”ä¾‹ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒImagen 4.0ä½œä¸ºç‹¬ç«‹æ¨¡å‹åªæ”¯æŒ5ç§åŸºç¡€å®½é«˜æ¯”ï¼ˆ1:1ã€4:3ã€3:4ã€16:9ã€9:16ï¼‰ï¼Œå¦‚æœä½ éœ€è¦21:9è¶…å®½å±ç­‰ç‰¹æ®Šæ¯”ä¾‹ï¼Œå¿…é¡»é€‰æ‹©Geminiç³»åˆ—æ¨¡å‹ã€‚</p>
<p>åœ¨åˆ†è¾¨ç‡æ–¹é¢ï¼ŒGemini 2.5 Flash Imageé»˜è®¤è¾“å‡º1Kåˆ†è¾¨ç‡ï¼ˆ1024åƒç´ ï¼‰ï¼Œè€ŒGemini 3 Pro Imageåˆ™æ”¯æŒ1Kã€2Kã€4Kä¸‰ç§åˆ†è¾¨ç‡é€‰æ‹©ã€‚å¯¹äºéœ€è¦é«˜æ¸…è¾“å‡ºçš„å•†ä¸šç”¨é€”ï¼Œæ¯”å¦‚å¹¿å‘Šè®¾è®¡æˆ–å¤§å¹…æµ·æŠ¥ï¼Œå»ºè®®ä½¿ç”¨Gemini 3 Pro Imageçš„4Kè¾“å‡ºé€‰é¡¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5bf589077104c5cadab3377257083ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGFvWmhhbmdBSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766535646&amp;x-signature=LOlU4mCMU5chcIrhcdtmsAV03Xc%3D" alt="Geminiæ”¯æŒçš„10ç§å®½é«˜æ¯”å®Œæ•´åˆ—è¡¨" loading="lazy"/></p>
<h2 data-id="heading-1">Pythonä»£ç é…ç½®å®½é«˜æ¯”çš„å®Œæ•´ç¤ºä¾‹</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ§åˆ¶Geminiå›¾åƒç”Ÿæˆçš„å®½é«˜æ¯”æœ‰ä¸¤ç§ä¸»è¦æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ˜¯ç›´æ¥åœ¨promptä¸­å£°æ˜å®½é«˜æ¯”ï¼Œè¿™ç§æ–¹å¼æœ€ç®€å•ä¹Ÿæœ€å¯é ï¼Œæ¨¡å‹èƒ½å¤Ÿå‡†ç¡®ç†è§£ä½ çš„æ„å›¾ã€‚ä¾‹å¦‚ï¼Œå½“ä½ éœ€è¦ç”Ÿæˆä¸€å¼ YouTubeå°é¢æ—¶ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š"ç”Ÿæˆä¸€å¼ ç§‘æŠ€ä¸»é¢˜çš„åšå®¢å°é¢å›¾ï¼Œä½¿ç”¨16:9å®½å±æ¯”ä¾‹"ã€‚</p>
<p>ç¬¬äºŒç§æ–¹æ³•æ˜¯é€šè¿‡APIå‚æ•°é…ç½®ï¼Œé€‚åˆéœ€è¦ç¨‹åºåŒ–æ§åˆ¶çš„åœºæ™¯ã€‚å¦‚æœä½ ä½¿ç”¨laozhang.aiçš„OpenAIå…¼å®¹æ ¼å¼æ¥å£ï¼Œå¯ä»¥ç›´æ¥åœ¨è¯·æ±‚ä¸­æŒ‡å®šæ¨¡å‹å‚æ•°ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„Pythonä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ç”Ÿæˆä¸åŒå®½é«˜æ¯”çš„å›¾åƒï¼š</p>
<p>å¯¹äºä½¿ç”¨GoogleåŸç”ŸAPIçš„å¼€å‘è€…ï¼Œå®½é«˜æ¯”é€šè¿‡generation_configä¸­çš„image_configå‚æ•°è®¾ç½®ã€‚å¯é€‰å€¼åŒ…æ‹¬å…¨éƒ¨10ç§å®½é«˜æ¯”å­—ç¬¦ä¸²ï¼Œå¦‚"16:9"ã€"9:16"ã€"21:9"ç­‰ã€‚å¦‚æœéœ€è¦æ›´é«˜åˆ†è¾¨ç‡è¾“å‡ºï¼Œå¯ä»¥åœ¨Gemini 3 Proæ¨¡å‹ä¸­æ·»åŠ image_sizeå‚æ•°ï¼Œè®¾ç½®ä¸º"2K"æˆ–"4K"ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸åŒæ¨¡å‹çš„APIè°ƒç”¨æ–¹å¼ç•¥æœ‰å·®å¼‚ã€‚å¦‚æœä½ ä¹‹å‰ä½¿ç”¨è¿‡å…¶ä»–å›¾åƒç”ŸæˆAPIï¼Œå¯ä»¥å‚è€ƒæˆ‘ä»¬çš„Gemini 3 Proå›¾åƒAPIæ•™ç¨‹è·å–æ›´è¯¦ç»†çš„é›†æˆæŒ‡å—ã€‚laozhang.aiæä¾›äº†OpenAIå…¼å®¹æ ¼å¼çš„æ¥å£ï¼Œåªéœ€è¦ä¿®æ”¹base_urlå’Œapi_keyå°±èƒ½æ— ç¼è¿ç§»ç°æœ‰ä»£ç ã€‚</p>
<h2 data-id="heading-2">Gemini 2.5 Flash vs Gemini 3 Pro vs Imagenå¯¹æ¯”</h2>
<p>é€‰æ‹©åˆé€‚çš„æ¨¡å‹éœ€è¦æ ¹æ®ä½ çš„å…·ä½“éœ€æ±‚æ¥å†³å®šã€‚ä¸‰ä¸ªæ¨¡å‹å„æœ‰ç‰¹ç‚¹ï¼šGemini 2.5 Flash Imageé€‚åˆå¿«é€Ÿè¿­ä»£å’Œæ‰¹é‡ç”Ÿæˆï¼ŒGemini 3 Pro Imageé€‚åˆé«˜è´¨é‡ä¸“ä¸šè®¾è®¡ï¼Œè€ŒImagen 4.0åˆ™æ˜¯çº¯ç²¹çš„å›¾åƒç”Ÿæˆæ¨¡å‹ã€‚</p>
<p>ä»å®½é«˜æ¯”æ”¯æŒæ¥çœ‹ï¼ŒGemini 2.5 Flashå’ŒGemini 3 Proéƒ½æ”¯æŒå…¨éƒ¨10ç§å®½é«˜æ¯”ï¼Œè€ŒImagenåªæ”¯æŒ5ç§åŸºç¡€æ¯”ä¾‹ã€‚å¦‚æœä½ éœ€è¦21:9è¶…å®½å±æˆ–5:4å¤§ç”»å¹…ç­‰ç‰¹æ®Šæ¯”ä¾‹ï¼Œå°±å¿…é¡»é€‰æ‹©Geminiç³»åˆ—ã€‚ä»åˆ†è¾¨ç‡è§’åº¦ï¼ŒGemini 3 Proæ”¯æŒæœ€é«˜4Kè¾“å‡ºï¼Œæ˜¯ç›®å‰ä¸‰è€…ä¸­åˆ†è¾¨ç‡é€‰é¡¹æœ€ä¸°å¯Œçš„ã€‚</p>
<p>åœ¨åŠŸèƒ½ç‰¹æ€§ä¸Šï¼ŒGemini 2.5 Flashæ“…é•¿å¤šå›¾èåˆå’Œè§’è‰²ä¸€è‡´æ€§ï¼Œé€‚åˆéœ€è¦ä¿æŒé£æ ¼ç»Ÿä¸€çš„ç³»åˆ—åˆ›ä½œã€‚Gemini 3 Proåˆ™å…·å¤‡æ¸…æ™°æ–‡å­—æ¸²æŸ“èƒ½åŠ›ï¼Œå¯ä»¥åœ¨å›¾åƒä¸­ç”Ÿæˆå¯è¯»çš„æ–‡å­—å†…å®¹ï¼Œè¿™å¯¹äºéœ€è¦åŒ…å«æ ‡è¯­æˆ–æ ‡é¢˜çš„è®¾è®¡éå¸¸æœ‰ç”¨ã€‚æ­¤å¤–ï¼ŒGemini 3 Proè¿˜æ”¯æŒæœ€å¤š14å¼ å‚è€ƒå›¾è¾“å…¥å’ŒThinking Modeæ·±åº¦æ¨ç†ã€‚</p>
<p>ä»·æ ¼æ–¹é¢çš„å·®å¼‚ä¹Ÿå¾ˆæ˜æ˜¾ã€‚é€šè¿‡laozhang.aiä½¿ç”¨ï¼ŒGemini 2.5 Flash Imageåªéœ€<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.025</mn><mi mathvariant="normal">/</mi><mtext>å¼ ï¼Œæ¯”å®˜æ–¹ä»·æ ¼ä¾¿å®œçº¦</mtext><mn>37.5</mn></mrow><annotation encoding="application/x-tex">0.025/å¼ ï¼Œæ¯”å®˜æ–¹ä»·æ ¼ä¾¿å®œçº¦37.5%ï¼›Gemini 3 Pro Imageåªéœ€</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.025/</span><span class="mord cjk_fallback">å¼ ï¼Œæ¯”å®˜æ–¹ä»·æ ¼ä¾¿å®œçº¦</span><span class="mord">37.5</span></span></span></span></span>0.05/å¼ ï¼Œæ¯”å®˜æ–¹ä¾¿å®œé«˜è¾¾79%ã€‚å¯¹äºéœ€è¦å¤§é‡ç”Ÿæˆçš„åœºæ™¯ï¼Œè¿™ä¸ªä»·æ ¼ä¼˜åŠ¿ç›¸å½“å¯è§‚ã€‚æ›´å¤šæ¨¡å‹å¯¹æ¯”ç»†èŠ‚å¯ä»¥å‚è€ƒNano Bananaä¸Nano Banana Proå¯¹æ¯”ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c77dd1066dc4542ac4fff094c1f13b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGFvWmhhbmdBSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766535646&amp;x-signature=iaA5mwIgXFcSbF58E%2FyblgyP0TU%3D" alt="Geminiå›¾åƒç”Ÿæˆæ¨¡å‹å¯¹æ¯”" loading="lazy"/></p>
<h2 data-id="heading-3">æŒ‰åœºæ™¯é€‰æ‹©æœ€ä½³å®½é«˜æ¯”</h2>
<p>ä¸åŒå¹³å°å’Œç”¨é€”å¯¹å›¾åƒå°ºå¯¸æœ‰ä¸åŒçš„è¦æ±‚ï¼Œé€‰å¯¹å®½é«˜æ¯”èƒ½è®©ä½ çš„å›¾åƒåœ¨ç›®æ ‡å¹³å°ä¸Šè·å¾—æœ€ä½³å±•ç¤ºæ•ˆæœã€‚ä»¥ä¸‹æ˜¯æŒ‰åœºæ™¯åˆ†ç±»çš„å®½é«˜æ¯”æ¨èæŒ‡å—ã€‚</p>
<p>å¯¹äºç¤¾äº¤åª’ä½“å†…å®¹ï¼Œå„å¹³å°çš„æœ€ä½³å®½é«˜æ¯”æœ‰æ˜æ˜¾å·®å¼‚ã€‚Instagramå¸–å­æ¨è1:1æ­£æ–¹å½¢ï¼Œè¿™æ˜¯å¹³å°åŸç”Ÿæ ¼å¼ï¼Œå±•ç¤ºæ•ˆæœæœ€å¥½ã€‚Instagram Storieså’ŒReelsåˆ™åº”è¯¥ä½¿ç”¨9:16ç«–å±æ ¼å¼ï¼Œèƒ½å¤Ÿå æ»¡æ‰‹æœºå±å¹•ã€‚æŠ–éŸ³å’ŒTikTokåŒæ ·ä½¿ç”¨9:16ç«–å±ã€‚å¾®åšå’Œå¾®ä¿¡æœ‹å‹åœˆå¯ä»¥ä½¿ç”¨4:3æˆ–3:2çš„ä¼ ç»Ÿæ¨ªå‘æ¯”ä¾‹ã€‚</p>
<p>YouTubeå’Œåšå®¢å°é¢é€šå¸¸éœ€è¦16:9å®½å±æ ¼å¼ï¼Œè¿™ä¹Ÿæ˜¯å¤§å¤šæ•°ç°ä»£æ˜¾ç¤ºå™¨çš„åŸç”Ÿæ¯”ä¾‹ã€‚å¦‚æœæ˜¯åšBanneræ¨ªå¹…æˆ–ç”µå½±é¢„å‘Šé£æ ¼çš„å›¾åƒï¼Œ21:9è¶…å®½å±ä¼šæ›´æœ‰è§†è§‰å†²å‡»åŠ›ã€‚PPTæ¼”ç¤ºæ–‡ç¨¿å¯ä»¥æ ¹æ®å†…å®¹é€‰æ‹©16:9æˆ–4:3ï¼Œå‰è€…æ›´ç°ä»£ï¼Œåè€…æ›´ä¼ ç»Ÿã€‚</p>
<p>ä¸“ä¸šå°åˆ·é¢†åŸŸæœ‰è‡ªå·±çš„æ ‡å‡†ã€‚äººåƒæ‘„å½±é€šå¸¸ä½¿ç”¨3:4æˆ–2:3çš„ç«–å‘æ¯”ä¾‹ï¼Œè¿™ä¸ä¼ ç»Ÿç›¸æœºçš„35mmèƒ¶ç‰‡æ¯”ä¾‹ä¸€è‡´ã€‚æ‚å¿—å°é¢å¤šé‡‡ç”¨3:4ï¼Œè€Œå¤§å¹…è‰ºæœ¯æ‘„å½±æˆ–ç”»å»Šå±•ç¤ºå¯èƒ½éœ€è¦5:4çš„å¤§ç”»å¹…æ¯”ä¾‹ã€‚åç‰‡å’Œäº§å“å›¾ç‰‡åˆ™å¸¸ç”¨1:1æ­£æ–¹å½¢ã€‚</p>
<p>é€‰æ‹©å®½é«˜æ¯”æ—¶è¿˜è¦è€ƒè™‘å†…å®¹æœ¬èº«çš„ç‰¹ç‚¹ã€‚æ¨ªå‘åœºæ™¯ï¼ˆå¦‚é£æ™¯ã€å»ºç­‘ï¼‰é€‚åˆ16:9æˆ–21:9ï¼Œçºµå‘ä¸»ä½“ï¼ˆå¦‚äººç‰©ã€é«˜æ¥¼ï¼‰é€‚åˆ9:16æˆ–2:3ã€‚å¦‚æœä¸ç¡®å®šæœ€ç»ˆç”¨é€”ï¼Œ1:1æ­£æ–¹å½¢æ˜¯æœ€å®‰å…¨çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒå¯ä»¥è½»æ¾è£å‰ªä¸ºä»»ä½•å…¶ä»–æ¯”ä¾‹ã€‚</p>
<h2 data-id="heading-4">å®½é«˜æ¯”ä¸ç”Ÿæ•ˆçš„é—®é¢˜æ’æŸ¥ä¸è§£å†³</h2>
<p>åœ¨ä½¿ç”¨Geminiå›¾åƒç”Ÿæˆæ—¶ï¼Œæœ‰æ—¶ä¼šé‡åˆ°å®½é«˜æ¯”ä¸æŒ‰é¢„æœŸç”Ÿæ•ˆçš„æƒ…å†µï¼Œæœ€å¸¸è§çš„é—®é¢˜æ˜¯è¾“å‡ºå›¾åƒå¡åœ¨1:1æ­£æ–¹å½¢æ¯”ä¾‹ã€‚è¿™ç§æƒ…å†µæœ‰å‡ ä¸ªå¯èƒ½çš„åŸå› å’Œå¯¹åº”çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ç¬¬ä¸€ç§å¸¸è§åŸå› æ˜¯promptä¸­æ²¡æœ‰æ˜ç¡®å£°æ˜å®½é«˜æ¯”ã€‚è™½ç„¶APIå‚æ•°å¯ä»¥æ§åˆ¶å®½é«˜æ¯”ï¼Œä½†åœ¨promptä¸­åŒæ—¶å£°æ˜ä¼šæ›´å¯é ã€‚è§£å†³æ–¹æ³•æ˜¯åœ¨æè¿°ä¸­æ˜ç¡®å†™å‡ºæœŸæœ›çš„æ¯”ä¾‹ï¼Œä¾‹å¦‚ï¼š"ç”Ÿæˆä¸€å¼ 16:9å®½å±çš„æµ·è¾¹æ—¥è½å›¾ï¼Œä¸è¦ä½¿ç”¨æ­£æ–¹å½¢æ¯”ä¾‹"ã€‚ä½¿ç”¨å¦å®šè¯­å¥ï¼ˆ"ä¸è¦ä½¿ç”¨æ­£æ–¹å½¢"ï¼‰èƒ½è¿›ä¸€æ­¥å¼ºåŒ–ä½ çš„æ„å›¾ã€‚</p>
<p>ç¬¬äºŒç§æƒ…å†µæ˜¯å¤šå›¾è¾“å…¥æ—¶å®½é«˜æ¯”è¢«è¦†ç›–ã€‚æ ¹æ®Geminiçš„è®¾è®¡é€»è¾‘ï¼Œå½“ä½ ä¸Šä¼ å¤šå¼ å‚è€ƒå›¾æ—¶ï¼Œè¾“å‡ºå›¾åƒä¼šç»§æ‰¿æœ€åä¸€å¼ å›¾çš„å®½é«˜æ¯”ã€‚å¦‚æœä½ ä¸Šä¼ äº†3å¼ å‚è€ƒå›¾ï¼Œå…¶ä¸­å‰ä¸¤å¼ æ˜¯16:9ä½†æœ€åä¸€å¼ æ˜¯1:1ï¼Œè¾“å‡ºå°±ä¼šå˜æˆæ­£æ–¹å½¢ã€‚è§£å†³æ–¹æ³•æ˜¯ç¡®ä¿æœ€åä¸Šä¼ çš„å‚è€ƒå›¾å…·æœ‰ä½ æƒ³è¦çš„å®½é«˜æ¯”ã€‚</p>
<p>ç¬¬ä¸‰ç§æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å‚è€ƒå›¾æ–¹æ³•ã€‚å‡†å¤‡ä¸€å¼ ç›®æ ‡å®½é«˜æ¯”çš„ç©ºç™½å›¾æˆ–ç®€å•å›¾åƒä½œä¸ºå‚è€ƒï¼Œåœ¨è¯·æ±‚ä¸­åŒ…å«è¿™å¼ å›¾ï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨ç»§æ‰¿å®ƒçš„å®½é«˜æ¯”ã€‚è¿™ç§æ–¹æ³•æ¯”çº¯æ–‡å­—æè¿°æ›´å¯é ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä¸€äº›æ¨¡å‹å¯èƒ½ä¸å¤ªç†è§£çš„å°ä¼—æ¯”ä¾‹ã€‚</p>
<p>å›¾åƒç¼–è¾‘æ¨¡å¼ä¸‹é€šå¸¸ä¼šè‡ªåŠ¨ä¿æŒåŸå›¾å®½é«˜æ¯”ï¼Œä½†å¦‚æœä½ åœ¨promptä¸­è¦æ±‚æ”¹å˜æ¯”ä¾‹ï¼Œéœ€è¦æ˜ç¡®è¯´æ˜ã€‚å¯ä»¥ä½¿ç”¨è¿™æ ·çš„è¡¨è¾¾ï¼š"æ ¹æ®è¾“å…¥å›¾åƒåˆ›ä½œæ–°ç‰ˆæœ¬ï¼Œä¿æŒåŸæœ‰å®½é«˜æ¯”ä¸å˜"æˆ–"å°†è¾“å…¥å›¾åƒè½¬æ¢ä¸º16:9å®½å±æ ¼å¼"ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6e3eff5a7094f009892ac4327743212~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGFvWmhhbmdBSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766535646&amp;x-signature=nrM53o4%2BgJmCMKNqHFiG3fCYWAE%3D" alt="Pythonä»£ç ç¤ºä¾‹ä¸é—®é¢˜æ’æŸ¥" loading="lazy"/></p>
<h2 data-id="heading-5">å¸¸è§é—®é¢˜è§£ç­”</h2>
<p><strong>Geminiå›¾åƒç”Ÿæˆæ”¯æŒå¤šå°‘ç§å®½é«˜æ¯”ï¼Ÿ</strong></p>
<p>Gemini 2.5 Flash Imageå’ŒGemini 3 Pro Imageéƒ½æ”¯æŒ10ç§å®½é«˜æ¯”ï¼š1:1ã€16:9ã€9:16ã€21:9ã€4:3ã€3:4ã€3:2ã€2:3ã€5:4ã€4:5ã€‚Imagen 4.0åªæ”¯æŒ5ç§åŸºç¡€æ¯”ä¾‹ï¼ˆ1:1ã€4:3ã€3:4ã€16:9ã€9:16ï¼‰ã€‚</p>
<p><strong>å¦‚ä½•åœ¨ä»£ç ä¸­è®¾ç½®å®½é«˜æ¯”ï¼Ÿ</strong></p>
<p>æœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸€æ˜¯åœ¨promptä¸­ç›´æ¥å£°æ˜ï¼Œä¾‹å¦‚"ç”Ÿæˆ16:9æ¯”ä¾‹çš„å›¾åƒ"ï¼›äºŒæ˜¯é€šè¿‡APIå‚æ•°è®¾ç½®image_configä¸­çš„aspect_ratioå­—æ®µã€‚æ¨èåœ¨promptä¸­å£°æ˜ï¼Œè¿™ç§æ–¹å¼æ›´å¯é ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆæˆ‘è®¾ç½®äº†å®½é«˜æ¯”ä½†è¾“å‡ºè¿˜æ˜¯æ­£æ–¹å½¢ï¼Ÿ</strong></p>
<p>æœ€å¸¸è§çš„åŸå› æ˜¯promptæè¿°ä¸å¤Ÿæ˜ç¡®ã€‚å»ºè®®åœ¨promptä¸­æ˜ç¡®å£°æ˜æœŸæœ›æ¯”ä¾‹ï¼Œå¹¶ä½¿ç”¨å¦å®šè¯­å¥å¼ºè°ƒï¼Œå¦‚"ä½¿ç”¨16:9å®½å±ï¼Œä¸è¦æ­£æ–¹å½¢"ã€‚å¦ä¸€ä¸ªæœ‰æ•ˆæ–¹æ³•æ˜¯ä¸Šä¼ ä¸€å¼ ç›®æ ‡å®½é«˜æ¯”çš„å‚è€ƒå›¾ã€‚</p>
<p><strong>Gemini 3 Proçš„4Kè¾“å‡ºå¦‚ä½•å¼€å¯ï¼Ÿ</strong></p>
<p>åœ¨generation_configä¸­è®¾ç½®image_sizeå‚æ•°ä¸º"4K"ã€‚æ³¨æ„å¿…é¡»ä½¿ç”¨å¤§å†™å­—æ¯Kã€‚å¯é€‰å€¼åŒ…æ‹¬"1K"ã€"2K"ã€"4K"ã€‚4Kè¾“å‡ºçš„ä»·æ ¼ä¼šç›¸åº”æ›´é«˜ã€‚</p>
<p><strong>ä¸åŒå¹³å°æ¨èä»€ä¹ˆå®½é«˜æ¯”ï¼Ÿ</strong></p>
<p>Instagramå¸–å­ç”¨1:1ï¼ŒæŠ–éŸ³/TikTok/Reelsç”¨9:16ï¼ŒYouTubeå°é¢ç”¨16:9ï¼Œç”µå½±æ¨ªå¹…ç”¨21:9ï¼ŒPPTæ¼”ç¤ºç”¨16:9æˆ–4:3ï¼Œäººåƒæ‘„å½±ç”¨3:4æˆ–2:3ã€‚</p>
<p><strong>å¤šå›¾è¾“å…¥æ—¶å®½é«˜æ¯”å¦‚ä½•ç¡®å®šï¼Ÿ</strong></p>
<p>æ¨¡å‹ä¼šç»§æ‰¿æœ€åä¸€å¼ è¾“å…¥å›¾çš„å®½é«˜æ¯”ã€‚å¦‚æœéœ€è¦ç‰¹å®šæ¯”ä¾‹ï¼Œç¡®ä¿æœ€åä¸Šä¼ çš„å›¾ç‰‡æ˜¯ç›®æ ‡å®½é«˜æ¯”ï¼Œæˆ–è€…åœ¨promptä¸­æ˜ç¡®å£°æ˜ã€‚</p>
<p><strong>Gemini 2.5 Flashå’Œ3 Proåœ¨å®½é«˜æ¯”æ”¯æŒä¸Šæœ‰åŒºåˆ«å—ï¼Ÿ</strong></p>
<p>ä¸¤è€…æ”¯æŒçš„å®½é«˜æ¯”ç§ç±»å®Œå…¨ç›¸åŒï¼Œéƒ½æ˜¯10ç§ã€‚ä¸»è¦åŒºåˆ«åœ¨äºåˆ†è¾¨ç‡ï¼šFlashåªæ”¯æŒ1Kï¼Œè€ŒProæ”¯æŒ1K/2K/4Kä¸‰ç§ã€‚åœ¨ä»·æ ¼ä¸Šï¼Œé€šè¿‡laozhang.aiä½¿ç”¨Flashæ˜¯<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.025</mn><mi mathvariant="normal">/</mi><mtext>å¼ ï¼Œ</mtext><mi>P</mi><mi>r</mi><mi>o</mi><mtext>æ˜¯</mtext></mrow><annotation encoding="application/x-tex">0.025/å¼ ï¼ŒProæ˜¯</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.025/</span><span class="mord cjk_fallback">å¼ ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">ro</span><span class="mord cjk_fallback">æ˜¯</span></span></span></span></span>0.05/å¼ ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æŠŠæ‰‹æ•™ä½ å°è£…ä¸€ä¸ªé«˜æ€§èƒ½ã€å¤šåŠŸèƒ½çš„ React é”šç‚¹å¯¼èˆªç»„ä»¶ (Anchor)]]></title>    <link>https://juejin.cn/post/7584298069610692608</link>    <guid>https://juejin.cn/post/7584298069610692608</guid>    <pubDate>2025-12-17T01:43:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584298069610692608" data-draft-id="7584243498528096256" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æŠŠæ‰‹æ•™ä½ å°è£…ä¸€ä¸ªé«˜æ€§èƒ½ã€å¤šåŠŸèƒ½çš„ React é”šç‚¹å¯¼èˆªç»„ä»¶ (Anchor)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-17T01:43:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JQ_Zhang"/> <meta itemprop="url" content="https://juejin.cn/user/1871846865110249"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æŠŠæ‰‹æ•™ä½ å°è£…ä¸€ä¸ªé«˜æ€§èƒ½ã€å¤šåŠŸèƒ½çš„ React é”šç‚¹å¯¼èˆªç»„ä»¶ (Anchor)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1871846865110249/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JQ_Zhang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T01:43:25.000Z" title="Wed Dec 17 2025 01:43:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸš€ æ‰‹æŠŠæ‰‹æ•™ä½ å°è£…ä¸€ä¸ªé«˜æ€§èƒ½ã€å¤šåŠŸèƒ½çš„ React é”šç‚¹å¯¼èˆªç»„ä»¶ (Anchor)</h2>
<p>åœ¨å¼€å‘é•¿é¡µé¢ï¼ˆå¦‚æ–°é—»èµ„è®¯ã€äº§å“è¯¦æƒ…ã€å¸®åŠ©æ–‡æ¡£ï¼‰æ—¶ï¼Œ<strong>é”šç‚¹å¯¼èˆª</strong>æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„éœ€æ±‚ã€‚å®ƒèƒ½è®©ç”¨æˆ·å¿«é€Ÿå®šä½åˆ°æ„Ÿå…´è¶£çš„å†…å®¹åŒºåŸŸï¼Œæå‡é˜…è¯»ä½“éªŒã€‚</p>
<p>å¸‚é¢ä¸Šè™½ç„¶æœ‰å¾ˆå¤š UI åº“æä¾›äº† Anchor ç»„ä»¶ï¼ˆå¦‚ Ant Designï¼‰ï¼Œä½†åœ¨ç§»åŠ¨ç«¯æˆ–ç‰¹å®šå¤æ‚åœºæ™¯ä¸‹ï¼ˆå¦‚å¸é¡¶ã€æ»šåŠ¨å®¹å™¨è‡ªé€‚åº”ã€é«˜åº¦ä¸ä¸€ï¼‰ï¼Œå¾€å¾€è¿˜æ˜¯éœ€è¦æˆ‘ä»¬è‡ªå·±å°è£…ä¸€ä¸ªæ›´çµæ´»ã€æ›´è½»é‡çš„ç»„ä»¶ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘å°±å¸¦å¤§å®¶è¯¦ç»†è§£æä¸€ä¸‹ï¼Œæˆ‘ä»¬æ˜¯å¦‚ä½•å°è£…ä¸€ä¸ª <strong>å¼€ç®±å³ç”¨ã€åŠŸèƒ½å¼ºå¤§</strong> çš„ Anchor ç»„ä»¶çš„ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a2020fb45264583bbcf597e212aef7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSlFfWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766540605&amp;x-signature=MOKKKDtDv3p9rhapCBCogJRHiGc%3D" alt="popup.gif" loading="lazy"/></p>
<h3 data-id="heading-1">âœ¨ æ ¸å¿ƒäº®ç‚¹</h3>
<p>è¿™ä¸ªç»„ä»¶ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„â€œç‚¹å‡»è·³è½¬â€ï¼Œå®ƒè§£å†³äº†è®¸å¤šå®é™…å¼€å‘ä¸­çš„ç—›ç‚¹ï¼š</p>
<ol>
<li><strong>å¼€ç®±å³ç”¨</strong>ï¼šç»„ä»¶å†…ç½®æ»šåŠ¨å®¹å™¨ï¼Œæ— éœ€å¤–éƒ¨å†åŒ…ä¸€å±‚å¤æ‚çš„å¸ƒå±€ï¼ŒæŠŠå†…å®¹ä¼ è¿›å»å°±èƒ½è·‘ã€‚</li>
<li><strong>æ™ºèƒ½å¸é¡¶ (Sticky)</strong>ï¼šå½“é¡µé¢å‘ä¸Šæ»šåŠ¨æ—¶ï¼Œå¯¼èˆªæ ä¼šè‡ªåŠ¨å¸é™„åœ¨é¡¶éƒ¨ï¼Œä¸ç”¨æ‹…å¿ƒç”¨æˆ·æ‰¾ä¸åˆ°å¯¼èˆªã€‚</li>
<li><strong>åŒå‘è”åŠ¨</strong>ï¼š
<ul>
<li><strong>ç‚¹å‡»å¯¼èˆª</strong> -&gt; å¹³æ»‘æ»šåŠ¨åˆ°å¯¹åº”å†…å®¹ã€‚</li>
<li><strong>æ»šåŠ¨å†…å®¹</strong> -&gt; è‡ªåŠ¨é«˜äº®å¯¹åº”çš„å¯¼èˆª Tabã€‚</li>
</ul>
</li>
<li><strong>é«˜åº¦è‡ªé€‚åº”</strong>ï¼šæ— è®ºå†…å®¹æ¨¡å—æ˜¯é«˜æ˜¯çŸ®ï¼Œéƒ½èƒ½ç²¾å‡†å®šä½ï¼Œä¸”æ”¯æŒâ€œè§¦åº•è‡ªåŠ¨é€‰ä¸­æœ€åä¸€é¡¹â€çš„å…œåº•é€»è¾‘ã€‚</li>
<li><strong>ä¸æ»‘æ— æŠ–åŠ¨</strong>ï¼šå®Œç¾è§£å†³äº† Tab åˆ‡æ¢æ—¶çš„å­—ä½“ç²—ç»†å˜åŒ–å¯¼è‡´çš„å¸ƒå±€æŠ–åŠ¨é—®é¢˜ã€‚</li>
<li><strong>æç®€ API</strong>ï¼šç›´æ¥ä¼ é€’ç»„ä»¶æ•°ç»„ï¼Œè‡ªåŠ¨æå–æ ‡é¢˜ï¼Œå‘Šåˆ«æ‰‹åŠ¨ç»´æŠ¤ <code>id</code> å’Œ <code>key</code> çš„çƒ¦æ¼ã€‚</li>
<li><strong>é«˜åº¦å¯å®šåˆ¶</strong>ï¼šä»å¯¼èˆªæ åˆ°æ¯ä¸€ä¸ª Tabï¼Œæ ·å¼å…¨å¼€æ”¾é…ç½®ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-2">ğŸ› ï¸ ä½¿ç”¨ä½“éªŒ</h3>
<p>åœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶ä¹‹å‰ï¼Œä½ å¯èƒ½éœ€è¦æ‰‹åŠ¨å†™å¾ˆå¤š IDã€ç›‘å¬ Scroll äº‹ä»¶ã€è®¡ç®—é«˜åº¦â€¦â€¦</p>
<p>è€Œç°åœ¨ï¼Œä½ åªéœ€è¦è¿™æ ·ï¼š</p>
<ol>
<li>å‡†å¤‡ä½ çš„å†…å®¹æ•°ç»„ï¼Œåœ¨æ¯ä¸ªç»„ä»¶ä¸Šæ ‡è®° title</li>
</ol>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> items = [
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"æ¨è"</span>&gt;</span>è¿™é‡Œæ˜¯æ¨èæ¿å—çš„å†…å®¹...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>,
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"çƒ­ç‚¹"</span>&gt;</span>è¿™é‡Œæ˜¯çƒ­ç‚¹æ¿å—çš„å†…å®¹...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>,
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"è§†é¢‘"</span>&gt;</span>è¿™é‡Œæ˜¯è§†é¢‘æ¿å—çš„å†…å®¹...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>,
];
</code></pre>
<ol start="2">
<li>æ¸²æŸ“ç»„ä»¶</li>
</ol>
<pre><code class="hljs language-tsx" lang="tsx">&lt;<span class="hljs-title class_">Anchor</span> 
  items={items} 
  header={<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è¿™é‡Œå¯ä»¥æ”¾é¡¶éƒ¨çš„ Banner<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>}
  style={{ <span class="hljs-attr">height</span>: <span class="hljs-string">'100vh'</span> }} <span class="hljs-comment">// è®¾ç½®å®¹å™¨é«˜åº¦</span>
/&gt;å°±è¿™ä¹ˆç®€å•ï¼ç»„ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆå¯¼èˆªæ ï¼Œå¹¶å¤„ç†å¥½æ‰€æœ‰çš„æ»šåŠ¨é€»è¾‘ã€‚
</code></pre>
<hr/>
<h3 data-id="heading-3">ğŸ’¡ æ ¸å¿ƒæŠ€æœ¯å®ç°</h3>
<h4 data-id="heading-4">1. æç®€çš„ Props è®¾è®¡</h4>
<p>ä¸ºäº†è®©å¼€å‘è€…ç”¨å¾—çˆ½ï¼Œæˆ‘ä»¬æ”¾å¼ƒäº†ä¼ ç»Ÿçš„ <code>data</code> + <code>content</code> åˆ†ç¦»çš„å†™æ³•ï¼Œé‡‡ç”¨äº†â€œ<strong>ç»„ä»¶å³æ•°æ®</strong>â€çš„æ€è·¯ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// ç»„ä»¶å†…éƒ¨è‡ªåŠ¨æå– title</span>
<span class="hljs-keyword">const</span> anchorData = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> items.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">child, index</span>) =&gt;</span> ({
    <span class="hljs-attr">key</span>: <span class="hljs-string">`anchor-item-<span class="hljs-subst">${index}</span>`</span>,
    <span class="hljs-attr">title</span>: child.<span class="hljs-property">props</span>.<span class="hljs-property">title</span> || <span class="hljs-string">`Tab <span class="hljs-subst">${index + <span class="hljs-number">1</span>}</span>`</span>, <span class="hljs-comment">// è‡ªåŠ¨æå–</span>
    <span class="hljs-attr">content</span>: child
  }));
}, [items]);
</code></pre>
<h4 data-id="heading-5">2. ç²¾å‡†çš„æ»šåŠ¨å®šä½ (getBoundingClientRect)</h4>
<p>å¾ˆå¤šç»„ä»¶ä½¿ç”¨ <code>offsetTop</code> æ¥è®¡ç®—ä½ç½®ï¼Œä½†åœ¨å¤šå±‚åµŒå¥—æˆ–æœ‰ sticky å…ƒç´ çš„æƒ…å†µä¸‹å®¹æ˜“å‡ºé”™ã€‚æˆ‘ä»¬ç»Ÿä¸€ä½¿ç”¨ <code>getBoundingClientRect()</code> æ¥è®¡ç®—<strong>ç›¸å¯¹å¯è§†åŒºçš„è·ç¦»</strong>ï¼Œç¡®ä¿ä¸‡æ— ä¸€å¤±ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// è®¡ç®—ç›®æ ‡å…ƒç´ è·ç¦»å®¹å™¨é¡¶éƒ¨çš„çœŸå®è§†è§‰è·ç¦»</span>
<span class="hljs-keyword">const</span> relativeTop = targetEl.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">top</span> - containerEl.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">top</span>;

<span class="hljs-comment">// ç›®æ ‡ä½ç½® = å½“å‰æ»šåŠ¨ + ç›¸å¯¹è·ç¦» - å¸é¡¶é«˜åº¦ - å¯¼èˆªæ é«˜åº¦</span>
<span class="hljs-keyword">const</span> scrollTop = containerEl.<span class="hljs-property">scrollTop</span> + relativeTop - offsetTop - navHeight;
</code></pre>
<h4 data-id="heading-6">3. è§£å†³â€œTab åˆ‡æ¢æŠ–åŠ¨â€</h4>
<p>å½“é€‰ä¸­çš„ Tab å­—ä½“å˜ç²—ï¼ˆ<code>font-weight: bold</code>ï¼‰æ—¶ï¼Œå®½åº¦ä¼šå¢åŠ ï¼Œå¯¼è‡´æ•´ä¸ªå¯¼èˆªæ â€œè·³â€ä¸€ä¸‹ã€‚æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå·§å¦™çš„ CSS æŠ€å·§ï¼š<strong><code>text-shadow</code> æ¨¡æ‹ŸåŠ ç²—</strong>ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-class">.navItem</span><span class="hljs-selector-class">.active</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#0084ff</span>;
  <span class="hljs-comment">/* çœ‹èµ·æ¥åƒç²—ä½“ï¼Œä½†å®Œå…¨ä¸å é¢å¤–ç©ºé—´ */</span>
  <span class="hljs-attribute">text-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> .<span class="hljs-number">25px</span> currentcolor; 
}
</code></pre>
<h4 data-id="heading-7">4. æ™ºèƒ½çš„ ScrollSpy (æ»šåŠ¨ç›‘å¬)</h4>
<p>å¦‚ä½•åˆ¤æ–­å½“å‰åº”è¯¥é«˜äº®å“ªä¸ª Tabï¼Ÿæˆ‘ä»¬ä¸ä»…åˆ¤æ–­äº†å…ƒç´ ä½ç½®ï¼Œè¿˜åŠ äº†ä¸€ä¸ª<strong>è§¦åº•å…œåº•</strong>é€»è¾‘ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// å¦‚æœæ»šåˆ°åº•äº†ï¼Œå¼ºåˆ¶é€‰ä¸­æœ€åä¸€ä¸ªï¼Œé˜²æ­¢æœ€åä¸€ä¸ªæ¨¡å—å¤ªçŸ®æ°¸è¿œæ— æ³•è¢«æ¿€æ´»</span>
<span class="hljs-keyword">const</span> isBottom = container.<span class="hljs-property">scrollTop</span> + container.<span class="hljs-property">clientHeight</span> &gt;= container.<span class="hljs-property">scrollHeight</span> - <span class="hljs-number">5</span>;
<span class="hljs-keyword">if</span> (isBottom) {
  <span class="hljs-title function_">setActiveKey</span>(lastItem.<span class="hljs-property">key</span>);
  <span class="hljs-keyword">return</span>;
}
</code></pre>
<h4 data-id="heading-8">5. é˜²æŠ–å¤„ç†</h4>
<p>åœ¨ç”¨æˆ·å¿«é€Ÿè¿ç»­ç‚¹å‡» Tab æ—¶ï¼Œå¦‚æœä»ç„¶è§¦å‘æ»šåŠ¨ç›‘å¬ï¼Œä¼šå¯¼è‡´å·¦ä¾§ Tab ä¹±è·³ã€‚æˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªç®€å•çš„â€œé”â€æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// ç‚¹å‡»æ—¶ä¸Šé”</span>
isManualScrolling.<span class="hljs-property">current</span> = <span class="hljs-literal">true</span>;

<span class="hljs-comment">// æ»šåŠ¨ç»“æŸåè§£é” (ä½¿ç”¨ setTimeout é˜²æŠ–)</span>
<span class="hljs-built_in">clearTimeout</span>(timer);
timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  isManualScrolling.<span class="hljs-property">current</span> = <span class="hljs-literal">false</span>;
}, <span class="hljs-number">600</span>);---
</code></pre>
<h3 data-id="heading-9">ğŸ¨ æ ·å¼å®Œå…¨å®šåˆ¶</h3>
<p>ç»„ä»¶æä¾›äº†ä¸°å¯Œçš„æ ·å¼æ¥å£ï¼Œä½ å¯ä»¥æŠŠå®ƒå˜æˆä»»ä½•ä½ æƒ³è¦çš„æ ·å­ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx">&lt;<span class="hljs-title class_">Anchor</span>
  <span class="hljs-comment">// å®šåˆ¶ Tab æ èƒŒæ™¯å’Œè¾¹æ¡†</span>
  tabBarStyle={{ <span class="hljs-attr">background</span>: <span class="hljs-string">'#f9f9f9'</span>, <span class="hljs-attr">borderBottom</span>: <span class="hljs-string">'1px solid #eee'</span> }}
  <span class="hljs-comment">// å®šåˆ¶ Tab é¡¹é—´è·å’Œå­—ä½“</span>
  tabItemStyle={{ <span class="hljs-attr">padding</span>: <span class="hljs-string">'10px 20px'</span>, <span class="hljs-attr">fontSize</span>: <span class="hljs-number">16</span> }}
  <span class="hljs-comment">// å®šåˆ¶æ¿€æ´»çŠ¶æ€ (æ¯”å¦‚å˜æˆèƒ¶å›ŠæŒ‰é’®)</span>
  activeTabStyle={{ <span class="hljs-attr">background</span>: <span class="hljs-string">'#e6f7ff'</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'#0084ff'</span>, <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">20</span> }}
  <span class="hljs-comment">// éšè—é»˜è®¤ä¸‹åˆ’çº¿</span>
  lineStyle={{ <span class="hljs-attr">display</span>: <span class="hljs-string">'none'</span> }}
  <span class="hljs-comment">// ...</span>
/&gt;---
</code></pre>
<h4 data-id="heading-10">5. å®Œæ•´ä»£ç ç»“æ„+æ ·å¼</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useEffect, useRef, useState, useMemo } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./index.module.scss'</span>;
<span class="hljs-keyword">import</span> classNames <span class="hljs-keyword">from</span> <span class="hljs-string">'classnames'</span>;

<span class="hljs-comment">/**
 * é€šç”¨ Anchor é”šç‚¹å¯¼èˆªç»„ä»¶
 *
 * åŠŸèƒ½ç‰¹ç‚¹ï¼š
 * 1. è‡ªå¸¦æ»šåŠ¨å®¹å™¨ï¼Œæ— éœ€å¤–éƒ¨åŒ…è£¹ï¼Œå¼€ç®±å³ç”¨ã€‚
 * 2. æ”¯æŒå¸é¡¶å¯¼èˆªï¼ˆStickyï¼‰ï¼Œå¯é…ç½®å¸é¡¶åç§»é‡ã€‚
 * 3. è‡ªåŠ¨æ ¹æ®æ»šåŠ¨ä½ç½®é«˜äº®å¯¹åº”çš„ Tabã€‚
 * 4. ç‚¹å‡» Tab å¹³æ»‘æ»šåŠ¨åˆ°å¯¹åº”å†…å®¹åŒºåŸŸï¼Œè‡ªåŠ¨ä¿®æ­£å¸é¡¶é«˜åº¦é®æŒ¡ã€‚
 * 5. è§£å†³ Tab åˆ‡æ¢æŠ–åŠ¨é—®é¢˜ï¼ˆä½¿ç”¨ text-shadow æ¨¡æ‹ŸåŠ ç²—ï¼‰ã€‚
 * 6. æ”¯æŒè¿ç»­å¿«é€Ÿç‚¹å‡»çš„é˜²æŠ–å¤„ç†ã€‚
 * 7. æ”¯æŒé«˜åº¦ä¸ä¸€è‡´çš„å†…å®¹æ¨¡å—ï¼Œæ”¯æŒè§¦åº•è‡ªåŠ¨é€‰ä¸­æœ€åä¸€é¡¹ã€‚
 *
 * ä½¿ç”¨æ–¹å¼ï¼š
 * ç›´æ¥ä¼ é€’ React Element æ•°ç»„ä½œä¸º itemsï¼Œç»„ä»¶ä¼šè‡ªåŠ¨æå–å…ƒç´ ä¸Šçš„ title å±æ€§ä½œä¸º Tab æ ‡é¢˜ã€‚
 *
 * ç¤ºä¾‹ï¼š
 * ```tsx
 * &lt;Anchor
 *   items={[
 *     &lt;div title="æ¨è"&gt;æ¨èå†…å®¹...&lt;/div&gt;,
 *     &lt;div title="çƒ­ç‚¹"&gt;çƒ­ç‚¹å†…å®¹...&lt;/div&gt;
 *   ]}
 *   header={&lt;div&gt;é¡¶éƒ¨ Banner&lt;/div&gt;}
 *   style={{ height: '100vh' }}
 *   tabItemStyle={{ fontSize: 16 }}
 *   activeTabStyle={{ color: 'red' }}
 * /&gt;
 * ```
 */</span>

<span class="hljs-comment">// å†…éƒ¨ä½¿ç”¨çš„ Item ç»“æ„</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">AnchorItem</span> {
  <span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">title</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>;
  <span class="hljs-attr">content</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Props</span> {
  <span class="hljs-comment">// æ¥æ”¶ React Element æ•°ç»„ï¼Œè¦æ±‚æ¯ä¸ª Element æœ‰ title å±æ€§</span>
  <span class="hljs-attr">items</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactElement</span>&lt;{ title?: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span> }&gt;[];
  header?: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>; <span class="hljs-comment">// é¡¶éƒ¨ä¸éœ€è¦å¸é¡¶çš„å†…å®¹</span>

  className?: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// æœ€å¤–å±‚å®¹å™¨ç±»å</span>
  style?: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span>; <span class="hljs-comment">// æœ€å¤–å±‚å®¹å™¨æ ·å¼ï¼Œé€šå¸¸éœ€è¦è®¾ç½® height</span>

  offsetTop?: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// å¸é¡¶è·ç¦»ï¼Œé»˜è®¤ 0</span>

  <span class="hljs-comment">// è‡ªå®šä¹‰æ ·å¼é…ç½®</span>
  tabBarClassName?: <span class="hljs-built_in">string</span>;   <span class="hljs-comment">// å¯¼èˆªæ¡å®¹å™¨ç±»å</span>
  tabItemClassName?: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// Tab é¡¹ç±»å</span>
  activeTabClassName?: <span class="hljs-built_in">string</span>;<span class="hljs-comment">// æ¿€æ´»çŠ¶æ€ Tab é¡¹ç±»å</span>
  lineClassName?: <span class="hljs-built_in">string</span>;     <span class="hljs-comment">// ä¸‹åˆ’çº¿ç±»å</span>

  tabBarStyle?: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span>;   <span class="hljs-comment">// å¯¼èˆªæ¡å®¹å™¨æ ·å¼</span>
  tabItemStyle?: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span>;  <span class="hljs-comment">// Tab é¡¹æ ·å¼</span>
  activeTabStyle?: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span>;<span class="hljs-comment">// æ¿€æ´»çŠ¶æ€ Tab é¡¹æ ·å¼</span>
  lineStyle?: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span>;     <span class="hljs-comment">// ä¸‹åˆ’çº¿æ ·å¼</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Anchor</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">Props</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{
  items,
  header,
  className,
  style,
  offsetTop = <span class="hljs-number">0</span>,

  tabBarClassName,
  tabItemClassName,
  activeTabClassName,
  lineClassName,

  tabBarStyle,
  tabItemStyle,
  activeTabStyle,
  lineStyle
}</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> scrollContainerRef = useRef&lt;<span class="hljs-title class_">HTMLDivElement</span>&gt;(<span class="hljs-literal">null</span>); <span class="hljs-comment">// æ•´ä¸ªç»„ä»¶çš„æ»šåŠ¨å®¹å™¨</span>
  <span class="hljs-keyword">const</span> navRef = useRef&lt;<span class="hljs-title class_">HTMLDivElement</span>&gt;(<span class="hljs-literal">null</span>); <span class="hljs-comment">// å¯¼èˆªæ¡å®¹å™¨ï¼ˆå¸é¡¶éƒ¨åˆ†ï¼‰</span>
  <span class="hljs-keyword">const</span> navScrollRef = useRef&lt;<span class="hljs-title class_">HTMLDivElement</span>&gt;(<span class="hljs-literal">null</span>); <span class="hljs-comment">// å¯¼èˆªæ¡å†…éƒ¨çš„æ°´å¹³æ»šåŠ¨åŒºåŸŸ</span>

  <span class="hljs-comment">// å¤„ç† itemsï¼Œç”Ÿæˆå†…éƒ¨ä½¿ç”¨çš„æ•°æ®ç»“æ„</span>
  <span class="hljs-keyword">const</span> anchorData = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> items.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">child, index</span>) =&gt;</span> ({
      <span class="hljs-attr">key</span>: <span class="hljs-string">`anchor-item-<span class="hljs-subst">${index}</span>`</span>,
      <span class="hljs-attr">title</span>: child.<span class="hljs-property">props</span>.<span class="hljs-property">title</span> || <span class="hljs-string">`Tab <span class="hljs-subst">${index + <span class="hljs-number">1</span>}</span>`</span>,
      <span class="hljs-attr">content</span>: child
    }));
  }, [items]);

  <span class="hljs-keyword">const</span> [activeKey, setActiveKey] = useState&lt;<span class="hljs-built_in">string</span>&gt;(anchorData[<span class="hljs-number">0</span>]?.<span class="hljs-property">key</span>);
  <span class="hljs-keyword">const</span> isManualScrolling = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> scrollTimerRef = useRef&lt;<span class="hljs-title class_">NodeJS</span>.<span class="hljs-property">Timeout</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>); <span class="hljs-comment">// ç”¨äºä¿å­˜å®šæ—¶å™¨</span>

  <span class="hljs-comment">// Tab è‡ªåŠ¨å±…ä¸­é€»è¾‘</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (activeKey &amp;&amp; navScrollRef.<span class="hljs-property">current</span>) {
      <span class="hljs-keyword">const</span> index = anchorData.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">key</span> === activeKey);
      <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">const</span> itemNodes = navScrollRef.<span class="hljs-property">current</span>.<span class="hljs-property">children</span>;
        <span class="hljs-keyword">const</span> targetNode = itemNodes[index] <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLElement</span>;
        <span class="hljs-keyword">if</span> (targetNode) {
          <span class="hljs-keyword">const</span> navContainer = navScrollRef.<span class="hljs-property">current</span>;
          <span class="hljs-keyword">const</span> scrollLeft = targetNode.<span class="hljs-property">offsetLeft</span> + targetNode.<span class="hljs-property">offsetWidth</span> / <span class="hljs-number">2</span> - navContainer.<span class="hljs-property">offsetWidth</span> / <span class="hljs-number">2</span>;
          navContainer.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">left</span>: scrollLeft, <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span> });
        }
      }
    }
  }, [activeKey, anchorData]);

  <span class="hljs-comment">// ç‚¹å‡» Tab å¤„ç†</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params">item: AnchorItem, e: React.MouseEvent</span>) =&gt; {
    e.<span class="hljs-title function_">preventDefault</span>();

    <span class="hljs-comment">// æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨ï¼Œé˜²æ­¢è¿‡æ—©é‡Šæ”¾é”</span>
    <span class="hljs-keyword">if</span> (scrollTimerRef.<span class="hljs-property">current</span>) {
      <span class="hljs-built_in">clearTimeout</span>(scrollTimerRef.<span class="hljs-property">current</span>);
    }

    <span class="hljs-title function_">setActiveKey</span>(item.<span class="hljs-property">key</span>);
    isManualScrolling.<span class="hljs-property">current</span> = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">const</span> targetEl = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(item.<span class="hljs-property">key</span>);
    <span class="hljs-keyword">const</span> containerEl = scrollContainerRef.<span class="hljs-property">current</span>;

    <span class="hljs-keyword">if</span> (targetEl &amp;&amp; containerEl) {
         <span class="hljs-keyword">const</span> navHeight = navRef.<span class="hljs-property">current</span>?.<span class="hljs-property">offsetHeight</span> || <span class="hljs-number">0</span>;

         <span class="hljs-comment">// ç›®æ ‡ä½ç½® = å½“å‰scrollTop + (ç›®æ ‡ç›¸å¯¹äºè§†å£çš„top - å®¹å™¨ç›¸å¯¹äºè§†å£çš„top) - (å¸é¡¶è·ç¦» + å¯¼èˆªé«˜åº¦)</span>
         <span class="hljs-keyword">const</span> relativeTop = targetEl.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">top</span> - containerEl.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">top</span>;
         <span class="hljs-keyword">let</span> scrollTop = containerEl.<span class="hljs-property">scrollTop</span> + relativeTop - offsetTop - navHeight;

         <span class="hljs-comment">// è¾¹ç•Œæ£€æŸ¥</span>
         scrollTop = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, scrollTop);

         containerEl.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">top</span>: scrollTop, <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span> });

         <span class="hljs-comment">// é‡æ–°è®¾ç½®å®šæ—¶å™¨ï¼Œç¡®ä¿é”ä½ç›´åˆ°æœ¬æ¬¡æ»šåŠ¨å¤§è‡´ç»“æŸ</span>
         scrollTimerRef.<span class="hljs-property">current</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
           isManualScrolling.<span class="hljs-property">current</span> = <span class="hljs-literal">false</span>;
           scrollTimerRef.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
         }, <span class="hljs-number">600</span>);
    }
  };

  <span class="hljs-comment">// ç›‘å¬é¡µé¢æ»šåŠ¨</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> container = scrollContainerRef.<span class="hljs-property">current</span>;
    <span class="hljs-keyword">if</span> (!container) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleScroll</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">if</span> (isManualScrolling.<span class="hljs-property">current</span>) <span class="hljs-keyword">return</span>;

      <span class="hljs-keyword">const</span> navHeight = navRef.<span class="hljs-property">current</span>?.<span class="hljs-property">offsetHeight</span> || <span class="hljs-number">0</span>;

      <span class="hljs-comment">// è§¦åº•åˆ¤æ–­</span>
      <span class="hljs-keyword">const</span> isBottom = container.<span class="hljs-property">scrollTop</span> + container.<span class="hljs-property">clientHeight</span> &gt;= container.<span class="hljs-property">scrollHeight</span> - <span class="hljs-number">5</span>;
      <span class="hljs-keyword">if</span> (isBottom) {
        <span class="hljs-title function_">setActiveKey</span>(anchorData[anchorData.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>]?.<span class="hljs-property">key</span>);
        <span class="hljs-keyword">return</span>;
      }

      <span class="hljs-comment">// åˆ¤å®šçº¿ï¼šå®¹å™¨å¯è§†åŒºé¡¶éƒ¨ + å¸é¡¶è·ç¦» + å¯¼èˆªé«˜åº¦ + ç¼“å†²</span>
      <span class="hljs-comment">// æˆ‘ä»¬å¸Œæœ›å½“å…ƒç´ çš„é¡¶éƒ¨ æ»šå…¥ åˆ° Anchor ä¸‹æ–¹æ—¶æ¿€æ´»</span>
      <span class="hljs-keyword">const</span> checkPoint = container.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">top</span> + offsetTop + navHeight + <span class="hljs-number">10</span>;

      <span class="hljs-keyword">let</span> currentKey = anchorData[<span class="hljs-number">0</span>]?.<span class="hljs-property">key</span>;

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> anchorData) {
        <span class="hljs-keyword">const</span> targetEl = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(item.<span class="hljs-property">key</span>);
        <span class="hljs-keyword">if</span> (targetEl) {
           <span class="hljs-keyword">const</span> targetTop = targetEl.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">top</span>;
           <span class="hljs-keyword">if</span> (targetTop &lt;= checkPoint) {
             currentKey = item.<span class="hljs-property">key</span>;
           } <span class="hljs-keyword">else</span> {
             <span class="hljs-keyword">break</span>;
           }
        }
      }
      <span class="hljs-title function_">setActiveKey</span>(currentKey);
    };

    container.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> container.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll);
  }, [anchorData, offsetTop]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">className</span>=<span class="hljs-string">{classNames(styles.anchorContainer,</span> <span class="hljs-attr">className</span>)}
      <span class="hljs-attr">style</span>=<span class="hljs-string">{style}</span>
      <span class="hljs-attr">ref</span>=<span class="hljs-string">{scrollContainerRef}</span>
    &gt;</span>
      {/* é¡¶éƒ¨å†…å®¹åŒºåŸŸ */}
      {header &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.header}</span>&gt;</span>{header}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}

      {/* å¸é¡¶å¯¼èˆªæ¡ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">{classNames(styles.navWrapper,</span> <span class="hljs-attr">tabBarClassName</span>)}
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">top:</span> <span class="hljs-attr">offsetTop</span>, <span class="hljs-attr">...tabBarStyle</span> }}
        <span class="hljs-attr">ref</span>=<span class="hljs-string">{navRef}</span>
      &gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.navScrollContainer}</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{navScrollRef}</span>&gt;</span>
            {anchorData.map((item) =&gt; {
              const isActive = activeKey === item.key;
              return (
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
                  <span class="hljs-attr">key</span>=<span class="hljs-string">{item.key}</span>
                  <span class="hljs-attr">className</span>=<span class="hljs-string">{classNames(styles.navItem,</span> <span class="hljs-attr">tabItemClassName</span>, {
                    [<span class="hljs-attr">styles.active</span>]<span class="hljs-attr">:</span> <span class="hljs-attr">isActive</span>,
                    [<span class="hljs-attr">activeTabClassName</span> || '']<span class="hljs-attr">:</span> <span class="hljs-attr">isActive</span>
                  })}
                  <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                    <span class="hljs-attr">...tabItemStyle</span>,
                    <span class="hljs-attr">...</span>(<span class="hljs-attr">isActive</span> ? <span class="hljs-attr">activeTabStyle</span> <span class="hljs-attr">:</span> {})
                  }}
                  <span class="hljs-attr">onClick</span>=<span class="hljs-string">{(e)</span> =&gt;</span> handleClick(item, e)}
                &gt;
                  {item.title}
                  {isActive &amp;&amp; (
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
                      <span class="hljs-attr">className</span>=<span class="hljs-string">{classNames(styles.line,</span> <span class="hljs-attr">lineClassName</span>)}
                      <span class="hljs-attr">style</span>=<span class="hljs-string">{lineStyle}</span>
                    /&gt;</span>
                  )}
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              );
            })}
         <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      {/* å†…å®¹åŒºåŸŸ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.contentWrapper}</span>&gt;</span>
        {anchorData.map((item) =&gt; (
          // è¿™é‡Œæˆ‘ä»¬å¿…é¡»ç»™å†…å®¹åŒ…è£¹ä¸€å±‚ï¼Œç”¨äºå®šä½
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.key}</span> <span class="hljs-attr">id</span>=<span class="hljs-string">{item.key}</span>&gt;</span>
             {item.content}
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Anchor</span>;
</code></pre>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-class">.anchorContainer</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">overflow-y</span>: auto; <span class="hljs-comment">// çºµå‘æ»šåŠ¨å®¹å™¨</span>
  -webkit-<span class="hljs-attribute">overflow</span>-scrolling: touch;
}

<span class="hljs-selector-class">.header</span> {
  <span class="hljs-comment">// é¡¶éƒ¨åŒºåŸŸæ ·å¼ï¼Œå¦‚æœéœ€è¦</span>
}

<span class="hljs-selector-class">.navWrapper</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;
  <span class="hljs-attribute">position</span>: sticky; <span class="hljs-comment">// å¸é¡¶</span>
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">100</span>;
}

<span class="hljs-selector-class">.navScrollContainer</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">overflow-x</span>: auto; <span class="hljs-comment">// æ¨ªå‘æ»šåŠ¨</span>
  <span class="hljs-attribute">white-space</span>: nowrap;
  -webkit-<span class="hljs-attribute">overflow</span>-scrolling: touch;

  &amp;::-webkit-scrollbar {
    <span class="hljs-attribute">display</span>: none;
  }

  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span>;
}

<span class="hljs-selector-class">.navItem</span> {
  <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">15px</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.3s</span>;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">cursor</span>: pointer;

  &amp;<span class="hljs-selector-class">.active</span> {
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#0084ff</span>;
    <span class="hljs-comment">// ä½¿ç”¨ text-shadow æ¨¡æ‹ŸåŠ ç²—ï¼Œé˜²æ­¢æŠ–åŠ¨</span>
    <span class="hljs-attribute">text-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> .<span class="hljs-number">25px</span> currentcolor;
  }

  <span class="hljs-selector-class">.line</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">6px</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#0084ff</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;
  }
}

<span class="hljs-selector-class">.contentWrapper</span> {
  <span class="hljs-comment">// å†…å®¹åŒºåŸŸæ ·å¼</span>
}
</code></pre>
<h3 data-id="heading-11">ğŸ“ æ€»ç»“</h3>
<p>é€šè¿‡å°è£…è¿™ä¸ª Anchor ç»„ä»¶ï¼Œæˆ‘ä»¬å°†å¤æ‚çš„æ»šåŠ¨è®¡ç®—ã€äº‹ä»¶ç›‘å¬ã€æ ·å¼å¤„ç†å…¨éƒ¨æ”¶æ•›åˆ°äº†å†…éƒ¨ã€‚å¯¹äºå¤–éƒ¨ä½¿ç”¨è€…æ¥è¯´ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªç®€å•çš„ã€å¯é…ç½®çš„å®¹å™¨ç»„ä»¶ã€‚</p>
<p>è¿™ä¸ä»…æé«˜äº†å¼€å‘æ•ˆç‡ï¼Œä¿è¯äº†å„å¤„äº¤äº’çš„ä¸€è‡´æ€§ï¼Œä¹Ÿè®©ä»£ç å˜å¾—æ›´åŠ æ•´æ´ã€æ˜“ç»´æŠ¤ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿåœ¨åšç§»åŠ¨ç«¯é•¿é¡µé¢çš„å¼€å‘ï¼Œå¼ºçƒˆå»ºè®®å°è¯•ä¸€ä¸‹è¿™ç§å°è£…æ€è·¯ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Foundry ä¸­ remapping.txt åŸç†è¯¦è§£ï¼ˆ2025 æœ€æ–°å®Œæ•´ç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7584279552433438758</link>    <guid>https://juejin.cn/post/7584279552433438758</guid>    <pubDate>2025-12-16T16:09:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584279552433438758" data-draft-id="7584279552433422374" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Foundry ä¸­ remapping.txt åŸç†è¯¦è§£ï¼ˆ2025 æœ€æ–°å®Œæ•´ç‰ˆï¼‰"/> <meta itemprop="keywords" content="web3,æ™ºèƒ½åˆçº¦"/> <meta itemprop="datePublished" content="2025-12-16T16:09:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RainWeb3"/> <meta itemprop="url" content="https://juejin.cn/user/599705882203355"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Foundry ä¸­ remapping.txt åŸç†è¯¦è§£ï¼ˆ2025 æœ€æ–°å®Œæ•´ç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/599705882203355/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RainWeb3
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T16:09:57.000Z" title="Tue Dec 16 2025 16:09:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Foundry ä¸­ remapping.txt åŸç†è¯¦è§£ï¼ˆ2025 æœ€æ–°å®Œæ•´ç‰ˆï¼‰</strong></h2>
<hr/>
<blockquote>
<p><strong>æ›´æ–°æ—¶é—´</strong>ï¼š2025å¹´10æœˆ13æ—¥<br/>
<strong>é€‚ç”¨ Foundry ç‰ˆæœ¬</strong>ï¼š<code>foundry-cli v0.99.0</code> åŠä»¥ä¸Šï¼ˆå…¼å®¹ Forgeã€Castã€Anvilï¼‰<br/>
<strong>é€‚ç”¨ç”¨æˆ·</strong>ï¼šSolidity å¼€å‘è€…ã€æ™ºèƒ½åˆçº¦å·¥ç¨‹å¸ˆã€åŒºå—é“¾é¡¹ç›®ç»´æŠ¤è€…<br/>
<strong>æ–‡æ¡£ç›®æ ‡</strong>ï¼šæ·±å…¥è§£æ Foundry é¡¹ç›®ä¸­ <code>remappings.txt</code> æ–‡ä»¶çš„åŸç†ã€ç”¨æ³•ã€æœ€ä½³å®è·µä¸é«˜çº§æŠ€å·§ã€‚</p>
</blockquote>
<ul>
<li>æ–°Github-å›½å¤–è®¿é—®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Frainweb4.github.io%2F" target="_blank" title="https://rainweb4.github.io/" ref="nofollow noopener noreferrer">rainweb4.github.io/</a></li>
<li>æ–°Github-å›½å†…è®¿é—®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FRainweb4%2Frainweb3.github.io" target="_blank" title="https://github.com/Rainweb4/rainweb3.github.io" ref="nofollow noopener noreferrer">github.com/Rainweb4/raâ€¦</a></li>
</ul>
<hr/>
<h3 data-id="heading-1"><strong>ç›®å½•ï¼ˆå¯ç‚¹å‡»è·³è½¬ï¼‰</strong></h3>
<ol>
<li><a href="#1-%E6%A6%82%E8%BF%B0%E4%BB%80%E4%B9%88%E6%98%AF-remappingstxt" title="#1-%E6%A6%82%E8%BF%B0%E4%BB%80%E4%B9%88%E6%98%AF-remappingstxt">æ¦‚è¿°ï¼šä»€ä¹ˆæ˜¯ remappings.txtï¼Ÿ</a></li>
<li><a href="#2-%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3" title="#2-%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3">åŸç†è¯¦è§£</a>
<ul>
<li><a href="#21-solidity-%E7%9A%84-import-%E6%9C%BA%E5%88%B6%E5%9B%9E%E9%A1%BE" title="#21-solidity-%E7%9A%84-import-%E6%9C%BA%E5%88%B6%E5%9B%9E%E9%A1%BE">2.1 Solidity çš„ import æœºåˆ¶å›é¡¾</a></li>
<li><a href="#22-remapping-%E7%9A%84%E6%9C%AC%E8%B4%A8" title="#22-remapping-%E7%9A%84%E6%9C%AC%E8%B4%A8">2.2 remapping çš„æœ¬è´¨</a></li>
</ul>
</li>
<li><a href="#3-remappingstxt-%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3" title="#3-remappingstxt-%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3">remappings.txt æ–‡ä»¶è¯¦è§£</a>
<ul>
<li><a href="#31-%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE%E4%B8%8E%E4%BC%98%E5%85%88%E7%BA%A7" title="#31-%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE%E4%B8%8E%E4%BC%98%E5%85%88%E7%BA%A7">3.1 æ–‡ä»¶ä½ç½®ä¸ä¼˜å…ˆçº§</a></li>
<li><a href="#32-%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E4%B8%8E%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99" title="#32-%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E4%B8%8E%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99">3.2 æ–‡ä»¶æ ¼å¼ä¸è¯­æ³•è§„åˆ™</a></li>
<li><a href="#33-%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90" title="#33-%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90">3.3 å·¥ä½œæµç¨‹è§£æ</a></li>
</ul>
</li>
<li><a href="#4-%E4%B8%8E-foundrytoml-%E7%9A%84%E9%9B%86%E6%88%90" title="#4-%E4%B8%8E-foundrytoml-%E7%9A%84%E9%9B%86%E6%88%90">ä¸ foundry.toml çš„é›†æˆ</a></li>
<li><a href="#5-%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E7%A4%BA%E4%BE%8B" title="#5-%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E7%A4%BA%E4%BE%8B">å®é™…åº”ç”¨ç¤ºä¾‹</a>
<ul>
<li><a href="#51-%E6%A0%87%E5%87%86%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84" title="#51-%E6%A0%87%E5%87%86%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84">5.1 æ ‡å‡†é¡¹ç›®ç»“æ„</a></li>
<li><a href="#52-remappingstxt-%E5%86%85%E5%AE%B9" title="#52-remappingstxt-%E5%86%85%E5%AE%B9">5.2 remappings.txt å†…å®¹</a></li>
<li><a href="#53-%E5%9C%A8-solidity-%E4%B8%AD%E4%BD%BF%E7%94%A8" title="#53-%E5%9C%A8-solidity-%E4%B8%AD%E4%BD%BF%E7%94%A8">5.3 åœ¨ Solidity ä¸­ä½¿ç”¨</a></li>
</ul>
</li>
<li><a href="#6-%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" title="#6-%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">é«˜çº§æŠ€å·§ä¸æœ€ä½³å®è·µ</a>
<ul>
<li><a href="#61-%E4%BD%BF%E7%94%A8-forge-install-%E8%87%AA%E5%8A%A8%E7%AE%A1%E7%90%86-remappings" title="#61-%E4%BD%BF%E7%94%A8-forge-install-%E8%87%AA%E5%8A%A8%E7%AE%A1%E7%90%86-remappings">6.1 ä½¿ç”¨ forge install è‡ªåŠ¨ç®¡ç† remappings</a></li>
<li><a href="#62-%E5%A4%9A%E7%89%88%E6%9C%AC%E5%BA%93%E5%85%B1%E5%AD%98%E9%AB%98%E7%BA%A7" title="#62-%E5%A4%9A%E7%89%88%E6%9C%AC%E5%BA%93%E5%85%B1%E5%AD%98%E9%AB%98%E7%BA%A7">6.2 å¤šç‰ˆæœ¬åº“å…±å­˜ï¼ˆé«˜çº§ï¼‰</a></li>
<li><a href="#63-%E8%B7%AF%E5%BE%84%E5%86%B2%E7%AA%81%E4%B8%8E%E8%B0%83%E8%AF%95" title="#63-%E8%B7%AF%E5%BE%84%E5%86%B2%E7%AA%81%E4%B8%8E%E8%B0%83%E8%AF%95">6.3 è·¯å¾„å†²çªä¸è°ƒè¯•</a></li>
<li><a href="#64-%E6%94%AF%E6%8C%81%E7%AC%A6%E5%8F%B7%E9%93%BE%E6%8E%A5symlinks" title="#64-%E6%94%AF%E6%8C%81%E7%AC%A6%E5%8F%B7%E9%93%BE%E6%8E%A5symlinks">6.4 æ”¯æŒç¬¦å·é“¾æ¥ï¼ˆSymlinksï¼‰</a></li>
</ul>
</li>
<li><a href="#7-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98faq" title="#7-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98faq">å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰</a></li>
<li><a href="#8-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%80%BB%E7%BB%93" title="#8-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%80%BB%E7%BB%93">æœ€ä½³å®è·µæ€»ç»“</a></li>
<li><a href="#9-%E6%9C%AA%E6%9D%A5%E5%B1%95%E6%9C%9B2025" title="#9-%E6%9C%AA%E6%9D%A5%E5%B1%95%E6%9C%9B2025">æœªæ¥å±•æœ›ï¼ˆ2025+ï¼‰</a></li>
<li><a href="#10-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99" title="#10-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a></li>
</ol>
<hr/>
<h3 data-id="heading-2"><strong>1. æ¦‚è¿°ï¼šä»€ä¹ˆæ˜¯ remappings.txtï¼Ÿ</strong></h3>
<p>åœ¨ Foundryï¼ˆç‰¹åˆ«æ˜¯ <code>forge</code>ï¼‰ä¸­ï¼Œ<code>remappings.txt</code> æ˜¯ä¸€ä¸ªç”¨äº<strong>è·¯å¾„é‡æ˜ å°„ï¼ˆPath Remappingï¼‰<strong>çš„é…ç½®æ–‡ä»¶ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯</strong>å°† Solidity æºç ä¸­çš„ <code>import</code> è·¯å¾„æ˜ å°„åˆ°å®é™…çš„ç‰©ç†æ–‡ä»¶è·¯å¾„</strong>ï¼Œä»è€Œå®ç°æ¨¡å—åŒ–ã€å¯å¤ç”¨å’Œè·¨é¡¹ç›®ä¾èµ–ç®¡ç†ã€‚</p>
<h4 data-id="heading-3"><strong>æ ¸å¿ƒä»·å€¼</strong></h4>
<ul>
<li>è§£è€¦ <code>import</code> è¯­å¥ä¸ç‰©ç†è·¯å¾„</li>
<li>æ”¯æŒç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ OpenZeppelinã€Solmateï¼‰çš„çµæ´»å¼•å…¥</li>
<li>æé«˜é¡¹ç›®ç»“æ„çš„å¯ç»´æŠ¤æ€§å’Œå¯ç§»æ¤æ€§</li>
<li>æ”¯æŒå¤šç‰ˆæœ¬ä¾èµ–ç®¡ç†</li>
</ul>
<hr/>
<h3 data-id="heading-4"><strong>2. åŸç†è¯¦è§£</strong></h3>
<h4 data-id="heading-5"><strong>2.1 Solidity çš„ import æœºåˆ¶å›é¡¾</strong></h4>
<p>Solidity ä½¿ç”¨ <code>import</code> è¯­å¥å¼•å…¥å¤–éƒ¨æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
import "src/lib/Math.sol";
</code></pre>
<p>ä½†ç¼–è¯‘å™¨éœ€è¦çŸ¥é“ <code>@openzeppelin/...</code> åˆ°åº•å¯¹åº”å“ªä¸ªç‰©ç†è·¯å¾„ã€‚è¿™å°±æ˜¯ <strong>remapping</strong> å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚</p>
<p>æ ¹æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.soliditylang.org%2Fen%2Flatest%2Flayout-of-source-files.html%23import-paths" target="_blank" title="https://docs.soliditylang.org/en/latest/layout-of-source-files.html#import-paths" ref="nofollow noopener noreferrer">Solidity å®˜æ–¹æ–‡æ¡£</a>ï¼Œç¼–è¯‘å™¨é€šè¿‡â€œè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿâ€ï¼ˆVFSï¼‰æŠ½è±¡æºæ–‡ä»¶è·¯å¾„ï¼Œè€Œ remapping æ­£æ˜¯è¿æ¥é€»è¾‘è·¯å¾„ä¸ç‰©ç†è·¯å¾„çš„å…³é”®æ¡¥æ¢ã€‚</p>
<h4 data-id="heading-6"><strong>2.2 remapping çš„æœ¬è´¨</strong></h4>
<p>remapping æ˜¯ä¸€ç§ <strong>å‰ç¼€æ›¿æ¢è§„åˆ™</strong>ã€‚å®ƒå°† <code>import</code> è¯­å¥ä¸­çš„è™šæ‹Ÿè·¯å¾„å‰ç¼€ï¼Œæ›¿æ¢ä¸ºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿçš„å®é™…è·¯å¾„ã€‚</p>
<h5 data-id="heading-7"><strong>æ ¼å¼ï¼š</strong></h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">virtual_prefix</span>&gt;</span>=<span class="hljs-tag">&lt;<span class="hljs-name">physical_path</span>&gt;</span>
</code></pre>
<ul>
<li><code>&lt;virtual_prefix&gt;</code>ï¼šä½ åœ¨ <code>import</code> ä¸­ä½¿ç”¨çš„å‰ç¼€ï¼ˆå¦‚ <code>@openzeppelin/</code>ï¼‰</li>
<li><code>&lt;physical_path&gt;</code>ï¼šæœ¬åœ°ç£ç›˜ä¸Šçš„å®é™…ç›®å½•è·¯å¾„ï¼ˆç»å¯¹æˆ–ç›¸å¯¹ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-8"><strong>3. remappings.txt æ–‡ä»¶è¯¦è§£</strong></h3>
<h4 data-id="heading-9"><strong>3.1 æ–‡ä»¶ä½ç½®ä¸ä¼˜å…ˆçº§</strong></h4>
<ul>
<li><strong>é»˜è®¤ä½ç½®</strong>ï¼šé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>remappings.txt</code></li>
<li><strong>æ”¯æŒå¤šæ–‡ä»¶</strong>ï¼šä¹Ÿå¯é€šè¿‡ <code>--remappings-path</code> æŒ‡å®šå…¶ä»–æ–‡ä»¶</li>
<li><strong>ä¼˜å…ˆçº§é¡ºåº</strong>ï¼š
<ol>
<li>å‘½ä»¤è¡Œå‚æ•° <code>--remap-imports</code></li>
<li><code>remappings.txt</code> æ–‡ä»¶</li>
<li><code>foundry.toml</code> ä¸­çš„ <code>remappings</code> é…ç½®ï¼ˆè§ä¸‹æ–‡ï¼‰</li>
</ol>
</li>
</ul>
<blockquote>
<p>âœ… <strong>æ¨è</strong>ï¼šä½¿ç”¨ <code>remappings.txt</code> + <code>foundry.toml</code> æ··åˆç®¡ç†ï¼Œå…¼é¡¾çµæ´»æ€§ä¸å¯è¯»æ€§ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-10"><strong>3.2 æ–‡ä»¶æ ¼å¼ä¸è¯­æ³•è§„åˆ™</strong></h4>
<h5 data-id="heading-11"><strong>åŸºæœ¬è¯­æ³•</strong></h5>
<p>æ¯è¡Œä¸€ä¸ª remappingï¼Œæ ¼å¼ä¸ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">prefix</span>=path/to/directory
</code></pre>
<h5 data-id="heading-12"><strong>ç¤ºä¾‹</strong></h5>
<pre><code class="hljs language-txt" lang="txt">@openzeppelin/=lib/openzeppelin-contracts/
@solmate/=lib/solmate/src/
src/=src/
test/=test/
</code></pre>
<h5 data-id="heading-13"><strong>å…³é”®è§„åˆ™</strong></h5>

























<table><thead><tr><th>è§„åˆ™</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>å¿…é¡»ä»¥ <code>/</code> ç»“å°¾</strong></td><td><code>prefix</code> å’Œ <code>path</code> éƒ½åº”ä»¥ <code>/</code> ç»“å°¾ï¼Œç¡®ä¿å‰ç¼€åŒ¹é…ç²¾ç¡®</td></tr><tr><td><strong>æ”¯æŒç›¸å¯¹è·¯å¾„</strong></td><td>æ¨èä½¿ç”¨ç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•çš„è·¯å¾„</td></tr><tr><td><strong>æ”¯æŒç¯å¢ƒå˜é‡</strong></td><td>å¦‚ <code>${HOME}/.foundry/lib/...</code>ï¼ˆéœ€ shell è§£æï¼‰</td></tr><tr><td><strong>ç©ºè¡Œä¸æ³¨é‡Š</strong></td><td><code>#</code> å¼€å¤´ä¸ºæ³¨é‡Šï¼Œç©ºè¡Œå¿½ç•¥</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-14"><strong>3.3 å·¥ä½œæµç¨‹è§£æ</strong></h4>
<p>å½“ç¼–è¯‘å™¨é‡åˆ°ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
</code></pre>
<ol>
<li><strong>è§£æå‰ç¼€</strong>ï¼š<code>@openzeppelin/</code></li>
<li><strong>æŸ¥æ‰¾ remapping</strong>ï¼šåœ¨ <code>remappings.txt</code> ä¸­æ‰¾åˆ° <code>@openzeppelin/=lib/openzeppelin-contracts/</code></li>
<li><strong>è·¯å¾„æ›¿æ¢</strong>ï¼š
<ul>
<li>åŸè·¯å¾„ï¼š<code>@openzeppelin/contracts/token/ERC20/ERC20.sol</code></li>
<li>æ›¿æ¢åï¼š<code>lib/openzeppelin-contracts/contracts/token/ERC20/ERC20.sol</code></li>
</ul>
</li>
<li><strong>æ–‡ä»¶è¯»å–</strong>ï¼šä»è¯¥ç‰©ç†è·¯å¾„åŠ è½½æºç </li>
</ol>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šremapping æ˜¯<strong>å‰ç¼€åŒ¹é…</strong>ï¼Œå› æ­¤é¡ºåºå¾ˆé‡è¦ã€‚é•¿å‰ç¼€åº”æ”¾åœ¨çŸ­å‰ç¼€ä¹‹å‰ï¼Œé¿å…å†²çªã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-15"><strong>4. ä¸ foundry.toml çš„é›†æˆ</strong></h3>
<p>ä» <code>foundry-cli v0.10+</code> èµ·ï¼Œ<code>remappings</code> å¯ç›´æ¥åœ¨ <code>foundry.toml</code> ä¸­å®šä¹‰ï¼š</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[profile.default]</span>
<span class="hljs-attr">src</span> = <span class="hljs-string">"src"</span>
<span class="hljs-attr">out</span> = <span class="hljs-string">"out"</span>
<span class="hljs-attr">libs</span> = [<span class="hljs-string">"lib"</span>]

<span class="hljs-comment"># æ–¹å¼ä¸€ï¼šå­—ç¬¦ä¸²æ•°ç»„</span>
<span class="hljs-attr">remappings</span> = [
    <span class="hljs-string">"@openzeppelin/=lib/openzeppelin-contracts/"</span>,
    <span class="hljs-string">"@solmate/=lib/solmate/src/"</span>
]

<span class="hljs-comment"># æ–¹å¼äºŒï¼šé”®å€¼å¯¹ï¼ˆv0.90+ æ”¯æŒï¼‰</span>
<span class="hljs-section">[remappings]</span>
<span class="hljs-attr">"@openzeppelin/"</span> = <span class="hljs-string">"lib/openzeppelin-contracts/"</span>
<span class="hljs-attr">"@solmate/"</span> = <span class="hljs-string">"lib/solmate/src/"</span>
<span class="hljs-attr">"src/"</span> = <span class="hljs-string">"src/"</span>
</code></pre>
<blockquote>
<p>âœ… <strong>å»ºè®®</strong>ï¼šå¯¹äºç®€å•é¡¹ç›®ï¼Œä½¿ç”¨ <code>foundry.toml</code>ï¼›å¤æ‚é¡¹ç›®å»ºè®®ä½¿ç”¨ <code>remappings.txt</code> ä¿æŒæ¸…æ™°ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-16"><strong>5. å®é™…åº”ç”¨ç¤ºä¾‹</strong></h3>
<h4 data-id="heading-17"><strong>5.1 æ ‡å‡†é¡¹ç›®ç»“æ„</strong></h4>
<pre><code class="hljs language-bash" lang="bash">my-project/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ Token.sol
â”œâ”€â”€ <span class="hljs-built_in">test</span>/
â”‚   â””â”€â”€ Token.t.sol
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ openzeppelin-contracts/
â”œâ”€â”€ remappings.txt
â””â”€â”€ foundry.toml
</code></pre>
<h4 data-id="heading-18"><strong>5.2 remappings.txt å†…å®¹</strong></h4>
<pre><code class="hljs language-txt" lang="txt">@openzeppelin/=lib/openzeppelin-contracts/
src/=src/
test/=test/
</code></pre>
<h4 data-id="heading-19"><strong>5.3 åœ¨ Solidity ä¸­ä½¿ç”¨</strong></h4>
<pre><code class="hljs language-solidity" lang="solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.24;

import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
import "src/lib/Utils.sol";

contract MyToken is ERC20 {
    constructor() ERC20("MyToken", "MTK") {}
}
</code></pre>
<hr/>
<h3 data-id="heading-20"><strong>6. é«˜çº§æŠ€å·§ä¸æœ€ä½³å®è·µ</strong></h3>
<h4 data-id="heading-21"><strong>6.1 ä½¿ç”¨ forge install è‡ªåŠ¨ç®¡ç† remappings</strong></h4>
<pre><code class="hljs language-bash" lang="bash">forge install OpenZeppelin/openzeppelin-contracts
</code></pre>
<p>æ­¤å‘½ä»¤ä¼šï¼š</p>
<ol>
<li>å…‹éš†ä»“åº“åˆ° <code>lib/openzeppelin-contracts</code></li>
<li><strong>è‡ªåŠ¨ç”Ÿæˆ remapping</strong>ï¼ˆå¦‚æœ <code>remappings.txt</code> ä¸å­˜åœ¨ï¼‰</li>
<li>æ·»åŠ  <code>.gitmodules</code>ï¼ˆå¦‚æœä½¿ç”¨ gitï¼‰</li>
</ol>
<blockquote>
<p>âœ… <strong>æ¨è</strong>ï¼šå§‹ç»ˆä½¿ç”¨ <code>forge install</code> ç®¡ç†ç¬¬ä¸‰æ–¹ä¾èµ–ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-22"><strong>6.2 å¤šç‰ˆæœ¬åº“å…±å­˜ï¼ˆé«˜çº§ï¼‰</strong></h4>
<p>æœ‰æ—¶éœ€è¦åŒæ—¶ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„åº“ï¼š</p>
<pre><code class="hljs language-txt" lang="txt"># remappings.txt
@oz/4.9/=lib/oz-4.9/
@oz/5.0/=lib/oz-5.0/
</code></pre>
<pre><code class="hljs language-solidity" lang="solidity">import "@oz/4.9/contracts/token/ERC20/ERC20.sol";
import "@oz/5.0/contracts/token/ERC721/ERC721.sol";
</code></pre>
<hr/>
<h4 data-id="heading-23"><strong>6.3 è·¯å¾„å†²çªä¸è°ƒè¯•</strong></h4>
<h5 data-id="heading-24"><strong>å¸¸è§é—®é¢˜</strong></h5>
<ul>
<li><code>File not found</code>ï¼šremapping å‰ç¼€æœªæ­£ç¡®åŒ¹é…</li>
<li><code>Duplicate import</code>ï¼šå¤šä¸ª remapping åŒ¹é…åŒä¸€è·¯å¾„</li>
</ul>
<h5 data-id="heading-25"><strong>è°ƒè¯•å‘½ä»¤</strong></h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰ remappings é…ç½®</span>
forge config --remappings

<span class="hljs-comment"># ç¼–è¯‘æ—¶æ˜¾ç¤ºè¯¦ç»†è·¯å¾„è§£æ</span>
forge build --verbose
</code></pre>
<hr/>
<h4 data-id="heading-26"><strong>6.4 æ”¯æŒç¬¦å·é“¾æ¥ï¼ˆSymlinksï¼‰</strong></h4>
<p>åœ¨ <code>remappings.txt</code> ä¸­å¯æŒ‡å‘ç¬¦å·é“¾æ¥ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">@mylib/=../../shared-libs/mylib/
</code></pre>
<p>é€‚ç”¨äº monorepo æ¶æ„ã€‚</p>
<hr/>
<h3 data-id="heading-27"><strong>7. å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰</strong></h3>
<h4 data-id="heading-28"><strong>Q1: remappings.txt å’Œ libs çš„åŒºåˆ«ï¼Ÿ</strong></h4>
<ul>
<li><code>libs</code>ï¼šæŒ‡å®šä¾èµ–åº“çš„æ ¹ç›®å½•ï¼ˆå¦‚ <code>lib/</code>ï¼‰</li>
<li><code>remappings.txt</code>ï¼šå®šä¹‰å…·ä½“ import è·¯å¾„åˆ°ç‰©ç†è·¯å¾„çš„æ˜ å°„</li>
<li>äºŒè€…é…åˆä½¿ç”¨ï¼š<code>libs</code> å‘Šè¯‰ forge å»å“ªæ‰¾åº“ï¼Œ<code>remappings</code> å‘Šè¯‰å¦‚ä½•è§£æ import</li>
</ul>
<h4 data-id="heading-29"><strong>Q2: æ˜¯å¦å¿…é¡»ä½¿ç”¨ @ ç¬¦å·ï¼Ÿ</strong></h4>
<p>å¦ã€‚<code>@</code> åªæ˜¯çº¦å®šï¼ˆç±»ä¼¼ npm çš„ scopeï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">oz/=lib/openzeppelin-contracts/
contracts/=src/
</code></pre>
<p>ä½† <code>@</code> æ›´æ¸…æ™°ï¼Œæ¨èä½¿ç”¨ã€‚</p>
<h4 data-id="heading-30"><strong>Q3: remappings æ˜¯å¦æ”¯æŒ glob æ¨¡å¼ï¼Ÿ</strong></h4>
<p>ä¸æ”¯æŒã€‚remappings æ˜¯ç²¾ç¡®å‰ç¼€åŒ¹é…ï¼Œä¸æ”¯æŒé€šé…ç¬¦ã€‚</p>
<hr/>
<h3 data-id="heading-31"><strong>8. æœ€ä½³å®è·µæ€»ç»“</strong></h3>

































<table><thead><tr><th>å®è·µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>âœ… ä½¿ç”¨ <code>forge install</code> å®‰è£…ä¾èµ–</td><td>è‡ªåŠ¨å¤„ç† remappings</td></tr><tr><td>âœ… ä¿æŒ <code>remappings.txt</code> æ¸…æ™°</td><td>æ¯è¡Œä¸€ä¸ªæ˜ å°„ï¼Œæ·»åŠ æ³¨é‡Š</td></tr><tr><td>âœ… åœ¨ <code>foundry.toml</code> ä¸­ç»Ÿä¸€é…ç½®</td><td>æé«˜å¯ç§»æ¤æ€§</td></tr><tr><td>âœ… ä½¿ç”¨ <code>@scope/</code> å‘½åçº¦å®š</td><td>æå‡å¯è¯»æ€§</td></tr><tr><td>âœ… é¿å…å¾ªç¯ä¾èµ–</td><td>æ£€æŸ¥ remapping æ˜¯å¦å¯¼è‡´æ— é™é€’å½’</td></tr><tr><td>âœ… æäº¤ <code>remappings.txt</code> åˆ°ç‰ˆæœ¬æ§åˆ¶</td><td>ç¡®ä¿å›¢é˜Ÿä¸€è‡´æ€§</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-32"><strong>9. æœªæ¥å±•æœ›ï¼ˆ2025+ï¼‰</strong></h3>
<ul>
<li><strong>æ™ºèƒ½ remapping æ¨è</strong>ï¼š<code>forge init</code> è‡ªåŠ¨æ£€æµ‹å¸¸ç”¨åº“å¹¶ç”Ÿæˆ remappings</li>
<li><strong>remapping ç‰ˆæœ¬é”å®š</strong>ï¼šç±»ä¼¼ <code>package-lock.json</code>ï¼Œç¡®ä¿ä¾èµ–ä¸€è‡´æ€§</li>
<li><strong>IDE æ·±åº¦é›†æˆ</strong>ï¼šRemapping é”™è¯¯å®æ—¶æç¤ºï¼ˆVS Code, JetBrainsï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-33"><strong>10. å‚è€ƒèµ„æ–™</strong></h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgetfoundry.sh%2Fguides%2Fproject-setup%2Fdependencies%23remapping-conflicts" target="_blank" title="https://getfoundry.sh/guides/project-setup/dependencies#remapping-conflicts" ref="nofollow noopener noreferrer">Foundry å®˜æ–¹æ–‡æ¡£ - Remappings</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.soliditylang.org%2Fen%2Flatest%2Flayout-of-source-files.html%23import-paths" target="_blank" title="https://docs.soliditylang.org/en/latest/layout-of-source-files.html#import-paths" ref="nofollow noopener noreferrer">Solidity æ–‡æ¡£ - Import Paths</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffoundry-rs%2Ffoundry" target="_blank" title="https://github.com/foundry-rs/foundry" ref="nofollow noopener noreferrer">Foundry GitHub ä»“åº“</a></li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ThreadLocal å†…å­˜æ³„æ¼æ·±åº¦è§£æï¼šåŸå› ã€é¿å‘æŒ‡å—ä¸ä¸šåŠ¡æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7584357116434055209</link>    <guid>https://juejin.cn/post/7584357116434055209</guid>    <pubDate>2025-12-17T01:43:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584357116434055209" data-draft-id="7584057497206931499" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ThreadLocal å†…å­˜æ³„æ¼æ·±åº¦è§£æï¼šåŸå› ã€é¿å‘æŒ‡å—ä¸ä¸šåŠ¡æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="Java,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-17T01:43:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ææ‹¾åçš„æ‘¸é±¼æ—¥å¸¸"/> <meta itemprop="url" content="https://juejin.cn/user/4443539294129722"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ThreadLocal å†…å­˜æ³„æ¼æ·±åº¦è§£æï¼šåŸå› ã€é¿å‘æŒ‡å—ä¸ä¸šåŠ¡æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4443539294129722/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ææ‹¾åçš„æ‘¸é±¼æ—¥å¸¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T01:43:04.000Z" title="Wed Dec 17 2025 01:43:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ThreadLocal æ˜¯ Java ä¸­ç”¨äºå®ç°ã€Œçº¿ç¨‹æœ¬åœ°å­˜å‚¨ã€çš„æ ¸å¿ƒå·¥å…·ï¼Œèƒ½è®©æ¯ä¸ªçº¿ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œé¿å…å¤šçº¿ç¨‹å…±äº«å˜é‡çš„å¹¶å‘é—®é¢˜ã€‚ä½†å®ƒå¸¸è¢«è¯Ÿç—…ã€Œå­˜åœ¨å†…å­˜æ³„æ¼é£é™©ã€â€”â€” å¤šæ•°å¼€å‘è€…åªçŸ¥æœ‰é£é™©ï¼Œå´ä¸æ¸…æ¥š<strong>ä¸ºä»€ä¹ˆä¼šæ³„æ¼</strong>ã€<strong>å“ªäº›åœºæ™¯ä¼šæ³„æ¼</strong>ï¼Œæ›´ä¸çŸ¥é“å¦‚ä½•ä»æ ¹æºè§„é¿ã€‚æœ¬æ–‡ä»åº•å±‚åŸç†ã€æ³„æ¼é“¾è·¯ã€é¿å‘æ‰‹æ®µåˆ°ä¸šåŠ¡å®è·µï¼Œå…¨æ–¹ä½æ‹†è§£ ThreadLocal çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å…ˆæ¾„æ¸…ï¼šå…³äº ThreadLocal å†…å­˜æ³„æ¼çš„æ ¸å¿ƒè¯¯è§£</h2>
<p>å¾ˆå¤šäººè®¤ä¸ºã€ŒThreadLocal çš„å¼±å¼•ç”¨è®¾è®¡å¯¼è‡´äº†å†…å­˜æ³„æ¼ã€ï¼Œè¿™æ˜¯å…¸å‹çš„æœ¬æœ«å€’ç½®ï¼š</p>
<ul>
<li>âŒ è¯¯åŒºï¼šå¼±å¼•ç”¨æ˜¯å†…å­˜æ³„æ¼çš„ã€ŒåŸå› ã€ï¼›</li>
<li>âœ… æ­£è§£ï¼šå¼±å¼•ç”¨æ˜¯å†…å­˜æ³„æ¼çš„ã€Œè§¦å‘æ¡ä»¶ã€ï¼Œæ ¸å¿ƒåŸå› æ˜¯ <strong>ThreadLocalMap ä¸­ Value çš„å¼ºå¼•ç”¨ + çº¿ç¨‹é•¿æœŸå­˜æ´»</strong>ï¼Œå¼±å¼•ç”¨åªæ˜¯è®©é—®é¢˜æš´éœ²å‡ºæ¥ã€‚</li>
</ul>
<p>è¦ç†è§£æ³„æ¼åŸå› ï¼Œå¿…é¡»å…ˆææ‡‚ ThreadLocal çš„åº•å±‚å­˜å‚¨ç»“æ„ã€‚</p>
<h2 data-id="heading-1">äºŒã€ThreadLocal åº•å±‚å­˜å‚¨ç»“æ„ï¼ˆæ³„æ¼çš„æ ¹æºåŸºç¡€ï¼‰</h2>
<p>ThreadLocal å¹¶éç›´æ¥å­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡ã€Œçº¿ç¨‹-ThreadLocalMap-Entryã€çš„ä¸‰å±‚ç»“æ„å®ç°çº¿ç¨‹éš”ç¦»ï¼Œè¿™æ˜¯ç†è§£æ³„æ¼çš„å…³é”®ï¼š</p>
<h3 data-id="heading-2">1. æ ¸å¿ƒç»“æ„å…³ç³»ï¼ˆæ–‡å­—å›¾è§£ï¼‰</h3>
<pre><code class="hljs language-scss" lang="scss">Thread (çº¿ç¨‹å¯¹è±¡)
â””â”€â”€ ThreadLocalMap (çº¿ç¨‹çš„æˆå‘˜å˜é‡ï¼Œæ¯ä¸ª Thread ç‹¬æœ‰ä¸€ä»½)
    â””â”€â”€ Entry<span class="hljs-selector-attr">[]</span> (æ•°ç»„ï¼Œå­˜å‚¨å¤šä¸ª ThreadLocal çš„é”®å€¼å¯¹)
        â””â”€â”€ Entry (é”®å€¼å¯¹)
            â”œâ”€â”€ keyï¼šWeakReference&lt;ThreadLocal&lt;?&gt;&gt; (å¯¹ ThreadLocal å¯¹è±¡çš„å¼±å¼•ç”¨)
            â””â”€â”€ valueï¼š<span class="hljs-selector-tag">Object</span> (å®é™…å­˜å‚¨çš„çº¿ç¨‹æœ¬åœ°å˜é‡ï¼Œå¼ºå¼•ç”¨æŒ‡å‘ä¸šåŠ¡æ•°æ®)
</code></pre>
<h3 data-id="heading-3">2. å…³é”®è®¾è®¡ç»†èŠ‚</h3>
<ul>
<li><strong>ThreadLocalMap å½’å±</strong>ï¼šThreadLocalMap æ˜¯ <code>Thread</code> ç±»çš„æˆå‘˜å˜é‡ï¼ˆè€Œé ThreadLocal ç±»ï¼‰ï¼Œå³ã€Œçº¿ç¨‹æŒæœ‰ Mapï¼ŒMap å­˜å‚¨ ThreadLocal çš„å€¼ã€ï¼›</li>
<li><strong>Key çš„å¼±å¼•ç”¨</strong>ï¼šEntry çš„ key æ˜¯ ThreadLocal çš„å¼±å¼•ç”¨ï¼ˆ<code>WeakReference</code>ï¼‰ï¼Œæ„å‘³ç€å½“ ThreadLocal å¯¹è±¡å¤±å»å¼ºå¼•ç”¨æ—¶ï¼ŒGC ä¼šç›´æ¥å›æ”¶è¿™ä¸ª keyï¼›</li>
<li><strong>Value çš„å¼ºå¼•ç”¨</strong>ï¼šEntry çš„ value æ˜¯å¯¹ä¸šåŠ¡æ•°æ®çš„å¼ºå¼•ç”¨ï¼Œåªè¦è¿™ä¸ªå¼ºå¼•ç”¨ä¸è¢«æ–­å¼€ï¼Œä¸šåŠ¡æ•°æ®å°±æ— æ³•è¢« GC å›æ”¶ã€‚</li>
</ul>
<h2 data-id="heading-4">ä¸‰ã€ThreadLocal å†…å­˜æ³„æ¼çš„å®Œæ•´è§¦å‘é“¾è·¯</h2>
<p>å†…å­˜æ³„æ¼çš„æœ¬è´¨æ˜¯ã€Œæ— ç”¨çš„å¯¹è±¡æ— æ³•è¢« GC å›æ”¶ï¼Œé•¿æœŸå ç”¨å†…å­˜ã€ã€‚ThreadLocal çš„æ³„æ¼éœ€æ»¡è¶³ <strong>3 ä¸ªæ ¸å¿ƒæ¡ä»¶</strong>ï¼Œç¼ºä¸€ä¸å¯ï¼š</p>
<h3 data-id="heading-5">æ­¥éª¤ 1ï¼šæ­£å¸¸ä½¿ç”¨ ThreadLocalï¼ˆå­˜å‚¨æ•°æ®ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. åˆ›å»º ThreadLocal å¯¹è±¡ï¼ˆå‡è®¾ä¸ºå±€éƒ¨å˜é‡ï¼‰</span>
ThreadLocal&lt;String&gt; userContext = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
<span class="hljs-comment">// 2. å­˜å‚¨æ•°æ®åˆ°å½“å‰çº¿ç¨‹çš„ ThreadLocalMap ä¸­</span>
userContext.set(<span class="hljs-string">"ç”¨æˆ·IDï¼š1001"</span>);
</code></pre>
<p>æ­¤æ—¶ï¼Œå½“å‰çº¿ç¨‹çš„ ThreadLocalMap ä¸­ä¼šç”Ÿæˆä¸€ä¸ª Entryï¼š</p>
<ul>
<li>keyï¼šå¼±å¼•ç”¨æŒ‡å‘ <code>userContext</code>ï¼ˆThreadLocal å¯¹è±¡ï¼‰ï¼›</li>
<li>valueï¼šå¼ºå¼•ç”¨æŒ‡å‘å­—ç¬¦ä¸²ã€Œç”¨æˆ·IDï¼š1001ã€ã€‚</li>
</ul>
<h3 data-id="heading-6">æ­¥éª¤ 2ï¼šThreadLocal å¯¹è±¡å¤±å»å¼ºå¼•ç”¨ï¼ˆè§¦å‘å¼±å¼•ç”¨å›æ”¶ï¼‰</h3>
<p>å¦‚æœ <code>userContext</code> æ˜¯å±€éƒ¨å˜é‡ï¼ˆå¦‚æ–¹æ³•å†…å®šä¹‰ï¼‰ï¼Œæ–¹æ³•æ‰§è¡Œå®Œæ¯•åï¼Œ<code>userContext</code> è¿™ä¸ªå¼ºå¼•ç”¨ä¼šè¢«é”€æ¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doBusiness</span><span class="hljs-params">()</span> {
    ThreadLocal&lt;String&gt; userContext = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
    userContext.set(<span class="hljs-string">"ç”¨æˆ·IDï¼š1001"</span>);
    <span class="hljs-comment">// æ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼ŒuserContext å¼ºå¼•ç”¨æ¶ˆå¤±</span>
}
</code></pre>
<p>æ­¤æ—¶ï¼ŒEntry çš„ keyï¼ˆå¼±å¼•ç”¨ï¼‰æˆä¸º ThreadLocal å¯¹è±¡çš„ã€Œå”¯ä¸€å¼•ç”¨ã€ã€‚</p>
<h3 data-id="heading-7">æ­¥éª¤ 3ï¼šGC è§¦å‘ â†’ Key è¢«å›æ”¶ï¼ŒEntry å˜æˆã€Œè„æ¡ç›®ã€</h3>
<p>å½“ JVM æ‰§è¡Œ GC æ—¶ï¼Œå¼±å¼•ç”¨çš„ç‰¹æ€§ä¼šè§¦å‘ï¼š<strong>åªè¦å¯¹è±¡ä»…è¢«å¼±å¼•ç”¨æŒ‡å‘ï¼Œå°±ä¼šè¢« GC å›æ”¶</strong>ã€‚</p>
<ul>
<li>Entry çš„ key è¢«å›æ”¶ï¼Œå˜ä¸º <code>null</code>ï¼›</li>
<li>Entry çš„ value ä»ä¸ºå¼ºå¼•ç”¨ï¼ˆæŒ‡å‘ã€Œç”¨æˆ·IDï¼š1001ã€ï¼‰ï¼Œä¸” ThreadLocalMap ä¸ä¼šè‡ªåŠ¨æ¸…ç†ã€Œkey ä¸º nullã€çš„ Entryï¼›</li>
<li>æ­¤æ—¶è¿™ä¸ª Entry è¢«ç§°ä¸ºã€Œè„æ¡ç›®ï¼ˆDirty Entryï¼‰ã€â€”â€” æ— å¯ç”¨ keyï¼Œä½† value ä»å ç”¨å†…å­˜ã€‚</li>
</ul>
<h3 data-id="heading-8">æ­¥éª¤ 4ï¼šçº¿ç¨‹é•¿æœŸå­˜æ´» â†’ Value æ°¸ä¹…æ— æ³•å›æ”¶ï¼ˆæ³„æ¼æ ¸å¿ƒï¼‰</h3>
<p>å¦‚æœå½“å‰çº¿ç¨‹æ˜¯ã€Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ã€ï¼ˆå¦‚ Tomcat çº¿ç¨‹æ± ã€ä¸šåŠ¡è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼‰ï¼Œçº¿ç¨‹ä¼šè¢«å¤ç”¨ä¸”é•¿æœŸå­˜æ´»ï¼š</p>
<ul>
<li>Thread å­˜æ´» â†’ ThreadLocalMap å­˜æ´» â†’ è„æ¡ç›®ï¼ˆkey=nullï¼Œvalue=å¼ºå¼•ç”¨ï¼‰å­˜æ´»ï¼›</li>
<li>åªè¦çº¿ç¨‹ä¸ç»“æŸï¼Œvalue å°±æ— æ³•è¢« GC å›æ”¶ï¼Œå†…å­˜è¢«æŒç»­å ç”¨ï¼›</li>
<li>è‹¥å¤§é‡çº¿ç¨‹äº§ç”Ÿè„æ¡ç›®ï¼Œä¸” value æ˜¯å¤§å¯¹è±¡ï¼ˆå¦‚å­—èŠ‚æ•°ç»„ã€å¤§é›†åˆï¼‰ï¼Œæœ€ç»ˆä¼šè§¦å‘ OOMï¼ˆå†…å­˜æº¢å‡ºï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-9">å…³é”®ç»“è®ºï¼šæ³„æ¼çš„æ ¸å¿ƒåŸå› </h3>
<ol>
<li><strong>ç›´æ¥åŸå› </strong>ï¼šEntry çš„ value æ˜¯å¼ºå¼•ç”¨ï¼Œä¸” ThreadLocalMap æœªè‡ªåŠ¨æ¸…ç† null key çš„ Entryï¼›</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼šçº¿ç¨‹é•¿æœŸå­˜æ´»ï¼ˆå¦‚çº¿ç¨‹æ± å¤ç”¨ï¼‰ï¼Œå¯¼è‡´è„æ¡ç›®æ— æ³•è¢«å›æ”¶ï¼›</li>
<li><strong>è§¦å‘æ¡ä»¶</strong>ï¼šThreadLocal å¯¹è±¡å¤±å»å¼ºå¼•ç”¨ï¼ŒGC å›æ”¶äº†å¼±å¼•ç”¨çš„ keyã€‚</li>
</ol>
<h2 data-id="heading-10">å››ã€ThreadLocal å†…å­˜æ³„æ¼çš„é«˜å‘åœºæ™¯</h2>
<p>å¹¶éæ‰€æœ‰ä½¿ç”¨ ThreadLocal çš„åœºæ™¯éƒ½ä¼šæ³„æ¼ï¼Œä»¥ä¸‹æ˜¯æœ€æ˜“è§¦å‘æ³„æ¼çš„ 4 ç±»åœºæ™¯ï¼š</p>



































<table><thead><tr><th>é«˜å‘åœºæ™¯</th><th>æ³„æ¼é£é™©</th><th>æ ¸å¿ƒåŸå› </th></tr></thead><tbody><tr><td>çº¿ç¨‹æ±  + æœªè°ƒç”¨ remove()</td><td>æé«˜</td><td>çº¿ç¨‹å¤ç”¨ï¼Œè„æ¡ç›®é•¿æœŸå †ç§¯ï¼Œvalue æ— æ³•å›æ”¶</td></tr><tr><td>Web å®¹å™¨ï¼ˆTomcat/Jettyï¼‰ + æœªæ¸…ç† ThreadLocal</td><td>æé«˜</td><td>Web å®¹å™¨çš„çº¿ç¨‹æ± å¤ç”¨ï¼Œè¯·æ±‚ç»“æŸåçº¿ç¨‹ä¸é”€æ¯</td></tr><tr><td>ThreadLocal æŒæœ‰å¤§å¯¹è±¡ï¼ˆå¦‚ 100MB å­—èŠ‚æ•°ç»„ï¼‰</td><td>æé«˜</td><td>å°‘é‡è„æ¡ç›®å°±ä¼šå¿«é€Ÿè€—å°½å†…å­˜</td></tr><tr><td>é™æ€ ThreadLocal + çº¿ç¨‹æ± </td><td>ä¸­é«˜</td><td>é™æ€ ThreadLocal å¼ºå¼•ç”¨ä¸ä¼šæ¶ˆå¤±ï¼ˆkey ä¸å›æ”¶ï¼‰ï¼Œä½† value ä¼šè¢«è¦†ç›–ï¼Œè‹¥æœªè¦†ç›–åˆ™é•¿æœŸå ç”¨</td></tr><tr><td>æ™®é€šçº¿ç¨‹ï¼ˆéçº¿ç¨‹æ± ï¼‰ + æœªè°ƒç”¨ remove()</td><td>ä½</td><td>çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åä¼šè¢«é”€æ¯ï¼ŒThreadLocalMap ä¹Ÿä¼šè¢«å›æ”¶ï¼Œvalue éšä¹‹é‡Šæ”¾</td></tr></tbody></table>
<h2 data-id="heading-11">äº”ã€ThreadLocal é¿å‘æŒ‡å—ï¼ˆé’ˆå¯¹æ€§è§£å†³æ³„æ¼é—®é¢˜ï¼‰</h2>
<p>é¿å‘çš„æ ¸å¿ƒåŸåˆ™æ˜¯ï¼š<strong>åˆ‡æ–­ Value çš„å¼ºå¼•ç”¨ï¼Œæˆ–è®©çº¿ç¨‹åŠæ—¶é”€æ¯</strong>ã€‚ä»¥ä¸‹æ˜¯ 6 æ¡å¯è½åœ°çš„é¿å‘æ‰‹æ®µï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åºï¼š</p>
<h3 data-id="heading-12">1. æ ¸å¿ƒé¿å‘ï¼šä½¿ç”¨åå¿…é¡»æ‰‹åŠ¨è°ƒç”¨ remove()ï¼ˆä¼˜å…ˆçº§â˜…â˜…â˜…â˜…â˜…ï¼‰</h3>
<p>è¿™æ˜¯è§£å†³å†…å­˜æ³„æ¼æœ€ç›´æ¥ã€æœ€æœ‰æ•ˆçš„æ‰‹æ®µ â€”â€” <code>remove()</code> ä¼šä¸»åŠ¨æ¸…ç†å½“å‰ ThreadLocal å¯¹åº”çš„ Entryï¼Œæ–­å¼€ Value çš„å¼ºå¼•ç”¨ï¼Œè®© GC èƒ½å›æ”¶æ•°æ®ã€‚</p>
<h4 data-id="heading-13">æ­£ç¡®ç”¨æ³•ï¼štry-finally åŒ…è£¹ï¼Œç¡®ä¿ remove() æ‰§è¡Œ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doBusiness</span><span class="hljs-params">()</span> {
    ThreadLocal&lt;String&gt; userContext = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
    <span class="hljs-keyword">try</span> {
        userContext.set(<span class="hljs-string">"ç”¨æˆ·IDï¼š1001"</span>);
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘å¤„ç†</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> userContext.get();
        System.out.println(<span class="hljs-string">"å¤„ç†ç”¨æˆ·ï¼š"</span> + userId);
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// æ— è®ºæ˜¯å¦å¼‚å¸¸ï¼Œéƒ½æ¸…ç† ThreadLocal</span>
        userContext.remove(); 
    }
}
</code></pre>
<h4 data-id="heading-14">å…³é”®è¯´æ˜ï¼š</h4>
<ul>
<li><code>finally</code> å—èƒ½ä¿è¯å³ä½¿ä¸šåŠ¡é€»è¾‘æŠ›å‡ºå¼‚å¸¸ï¼Œ<code>remove()</code> ä¹Ÿä¼šæ‰§è¡Œï¼›</li>
<li>è‹¥ä¸ä½¿ç”¨ <code>finally</code>ï¼Œå¼‚å¸¸ä¼šè·³è¿‡ <code>remove()</code>ï¼Œç›´æ¥å¯¼è‡´æ³„æ¼ã€‚</li>
</ul>
<h3 data-id="heading-15">2. çº¿ç¨‹æ± åœºæ™¯ï¼šä»»åŠ¡æ‰§è¡Œå®Œæ¯•åå¼ºåˆ¶æ¸…ç†ï¼ˆä¼˜å…ˆçº§â˜…â˜…â˜…â˜…â˜…ï¼‰</h3>
<p>çº¿ç¨‹æ± çš„çº¿ç¨‹æ˜¯å¤ç”¨çš„ï¼Œå¿…é¡»åœ¨ã€Œä»»åŠ¡æ‰§è¡Œå®Œæ¯•ã€æ—¶æ¸…ç† ThreadLocalï¼Œå¦åˆ™ä¸‹ä¸€ä¸ªä»»åŠ¡å¯èƒ½è¯»å–åˆ°æ—§å€¼ï¼ˆè„æ•°æ®ï¼‰+ å†…å­˜æ³„æ¼ã€‚</p>
<h4 data-id="heading-16">ç¤ºä¾‹ï¼šçº¿ç¨‹æ± ä»»åŠ¡ä¸­ä½¿ç”¨ ThreadLocal</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªå®šä¹‰çº¿ç¨‹æ± </span>
<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">10</span>);

<span class="hljs-comment">// æäº¤ä»»åŠ¡</span>
executor.submit(() -&gt; {
    ThreadLocal&lt;String&gt; taskContext = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
    <span class="hljs-keyword">try</span> {
        taskContext.set(<span class="hljs-string">"ä»»åŠ¡IDï¼š20251216"</span>);
        <span class="hljs-comment">// ä»»åŠ¡ä¸šåŠ¡é€»è¾‘</span>
        System.out.println(<span class="hljs-string">"æ‰§è¡Œä»»åŠ¡ï¼š"</span> + taskContext.get());
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// ä»»åŠ¡ç»“æŸï¼Œå¼ºåˆ¶æ¸…ç†</span>
        taskContext.remove(); 
    }
});
</code></pre>
<h4 data-id="heading-17">è¿›é˜¶æ–¹æ¡ˆï¼šçº¿ç¨‹æ± åŒ…è£…å™¨ï¼ˆè‡ªåŠ¨æ¸…ç†ï¼‰</h4>
<p>å¯¹çº¿ç¨‹æ± è¿›è¡ŒåŒ…è£…ï¼Œä»»åŠ¡æ‰§è¡Œåè‡ªåŠ¨æ¸…ç† ThreadLocalï¼Œé¿å…å¼€å‘è€…é—æ¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CleanableExecutorService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ExecutorService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ExecutorService delegate;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CleanableExecutorService</span><span class="hljs-params">(ExecutorService delegate)</span> {
        <span class="hljs-built_in">this</span>.delegate = delegate;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; Future&lt;T&gt; <span class="hljs-title function_">submit</span><span class="hljs-params">(Callable&lt;T&gt; task)</span> {
        <span class="hljs-keyword">return</span> delegate.submit(() -&gt; {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> task.call();
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-comment">// æ¸…ç†å½“å‰çº¿ç¨‹çš„æ‰€æœ‰ ThreadLocalï¼ˆæ…ç”¨ï¼Œå¯èƒ½æ¸…ç†æ¡†æ¶çš„ ThreadLocalï¼‰</span>
                <span class="hljs-comment">// æ¨èï¼šåªæ¸…ç†ä¸šåŠ¡è‡ªå·±çš„ ThreadLocalï¼Œè€Œéå…¨éƒ¨</span>
                clearThreadLocal();
            }
        });
    }

    <span class="hljs-comment">// æ¸…ç†æŒ‡å®šçš„ ThreadLocalï¼ˆæ¨èï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clearThreadLocal</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ç¤ºä¾‹ï¼šæ¸…ç†ä¸šåŠ¡è‡ªå®šä¹‰çš„ ThreadLocal</span>
        UserContextHolder.remove();
        TaskContextHolder.remove();
    }

    <span class="hljs-comment">// å…¶ä»–æ–¹æ³•ï¼ˆsubmit(Runnable)ã€execute ç­‰ï¼‰åŒç†åŒ…è£…</span>
}
</code></pre>
<h3 data-id="heading-18">3. é¿å… ThreadLocal æŒæœ‰å¤§å¯¹è±¡ï¼ˆä¼˜å…ˆçº§â˜…â˜…â˜…â˜…ï¼‰</h3>
<p>å³ä½¿å‘ç”Ÿæ³„æ¼ï¼Œå°å¯¹è±¡ï¼ˆå¦‚ Stringã€Integerï¼‰å¯¹å†…å­˜çš„å½±å“ä¹Ÿæœ‰é™ï¼›ä½†å¦‚æœ ThreadLocal å­˜å‚¨å¤§å¯¹è±¡ï¼ˆå¦‚ 100MB çš„å­—èŠ‚æ•°ç»„ã€åŒ…å«ä¸Šä¸‡æ¡æ•°æ®çš„ Listï¼‰ï¼Œå°‘é‡æ³„æ¼å°±ä¼šå¿«é€Ÿè€—å°½å†…å­˜ã€‚</p>
<h4 data-id="heading-19">åšæ³•ï¼š</h4>
<ul>
<li>å°½é‡å­˜å‚¨ã€Œè½»é‡çº§æ•°æ®ã€ï¼ˆå¦‚ IDã€æ ‡è¯†ã€é…ç½®é¡¹ï¼‰ï¼Œè€Œéå®Œæ•´çš„å¤§å¯¹è±¡ï¼›</li>
<li>è‹¥å¿…é¡»å­˜å‚¨å¤§å¯¹è±¡ï¼Œä½¿ç”¨åä¸ä»…è¦ <code>remove()</code>ï¼Œè¿˜è¦æ‰‹åŠ¨å°† value ç½® nullï¼š
<pre><code class="hljs language-java" lang="java">ThreadLocal&lt;<span class="hljs-type">byte</span>[]&gt; bigDataLocal = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
<span class="hljs-keyword">try</span> {
    bigDataLocal.set(<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">100</span>]); <span class="hljs-comment">// 100MB</span>
    <span class="hljs-comment">// ä¸šåŠ¡å¤„ç†</span>
} <span class="hljs-keyword">finally</span> {
    bigDataLocal.remove(); <span class="hljs-comment">// æ¸…ç† Entry</span>
    <span class="hljs-comment">// é¢å¤–ï¼šæ–­å¼€å¤§å¯¹è±¡çš„å¼ºå¼•ç”¨ï¼ˆåŒé‡ä¿éšœï¼‰</span>
    <span class="hljs-type">byte</span>[] data = bigDataLocal.get();
    <span class="hljs-keyword">if</span> (data != <span class="hljs-literal">null</span>) {
        data = <span class="hljs-literal">null</span>;
    }
}
</code></pre>
</li>
</ul>
<h3 data-id="heading-20">4. æ…ç”¨é™æ€ ThreadLocalï¼ˆä¼˜å…ˆçº§â˜…â˜…â˜…ï¼‰</h3>
<p>é™æ€ ThreadLocal çš„ç”Ÿå‘½å‘¨æœŸä¸åº”ç”¨ä¸€è‡´ï¼ˆå¼ºå¼•ç”¨ä¸ä¼šæ¶ˆå¤±ï¼‰ï¼Œå› æ­¤ Entry çš„ key ä¸ä¼šè¢« GC å›æ”¶ï¼ˆä¸ä¼šå‡ºç° null keyï¼‰ï¼Œçœ‹ä¼¼ä¸ä¼šæ³„æ¼ï¼Œä½†å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><strong>å†…å­˜é•¿æœŸå ç”¨</strong>ï¼šé™æ€ ThreadLocal çš„ value ä¼šéšçº¿ç¨‹å­˜æ´»è€Œé•¿æœŸå ç”¨å†…å­˜ï¼›</li>
<li><strong>è„æ•°æ®é—®é¢˜</strong>ï¼šçº¿ç¨‹æ± å¤ç”¨çº¿ç¨‹æ—¶ï¼Œä¸‹ä¸€ä¸ªä»»åŠ¡ä¼šè¯»å–åˆ°ä¸Šä¸€ä¸ªä»»åŠ¡çš„ valueã€‚</li>
</ul>
<h4 data-id="heading-21">æ­£ç¡®ç”¨æ³•ï¼šé™æ€ ThreadLocal éœ€æ‰‹åŠ¨æ¸…ç†</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é™æ€ ThreadLocalï¼ˆç”¨æˆ·ä¸Šä¸‹æ–‡ï¼‰</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;String&gt; USER_CONTEXT = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();

<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUser</span><span class="hljs-params">(String userId)</span> {
    USER_CONTEXT.set(userId);
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> USER_CONTEXT.get();
}

<span class="hljs-comment">// å¿…é¡»æä¾›æ¸…ç†æ–¹æ³•ï¼Œåœ¨ä¸šåŠ¡ç»“æŸåè°ƒç”¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clear</span><span class="hljs-params">()</span> {
    USER_CONTEXT.remove();
}
</code></pre>
<h3 data-id="heading-22">5. ç›‘æ§ ThreadLocal ä½¿ç”¨çŠ¶æ€ï¼ˆä¼˜å…ˆçº§â˜…â˜…â˜…ï¼‰</h3>
<p>é€šè¿‡å·¥å…·ç›‘æ§ ThreadLocal çš„ä½¿ç”¨æƒ…å†µï¼Œæå‰å‘ç°æ³„æ¼é£é™©ï¼š</p>
<ul>
<li><strong>å·¥å…·é€‰å‹</strong>ï¼šArthasã€VisualVMã€JProfilerï¼›</li>
<li><strong>ç›‘æ§æŒ‡æ ‡</strong>ï¼š
<ol>
<li>æ¯ä¸ªçº¿ç¨‹çš„ ThreadLocalMap ä¸­ Entry æ•°é‡ï¼ˆæ­£å¸¸åº”å°‘é‡ï¼Œæ³„æ¼æ—¶ä¼šæŒç»­å¢é•¿ï¼‰ï¼›</li>
<li>null key çš„ Entry æ•°é‡ï¼ˆè„æ¡ç›®æ•°ï¼‰ï¼›</li>
<li>ThreadLocal å­˜å‚¨çš„å¯¹è±¡å¤§å°ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-23">ç¤ºä¾‹ï¼šArthas æŸ¥çœ‹ ThreadLocal ä¿¡æ¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æŒ‡å®šçº¿ç¨‹çš„ ThreadLocal è¯¦æƒ…ï¼ˆæ›¿æ¢ä¸ºçº¿ç¨‹ IDï¼‰</span>
thread -t &lt;çº¿ç¨‹ID&gt;
<span class="hljs-comment"># æŸ¥çœ‹ JVM ä¸­æ‰€æœ‰ ThreadLocal çš„ç»Ÿè®¡</span>
jvm threadlocal
</code></pre>
<h3 data-id="heading-24">6. é¿å… ThreadLocal è·¨çº¿ç¨‹ä¼ é€’ï¼ˆä¼˜å…ˆçº§â˜…â˜…â˜…ï¼‰</h3>
<p>ThreadLocal çš„æ•°æ®ä»…å±äºå½“å‰çº¿ç¨‹ï¼Œè‹¥åœ¨å¼‚æ­¥ä»»åŠ¡ï¼ˆå¦‚ CompletableFutureã€çº¿ç¨‹æ± ï¼‰ä¸­ä½¿ç”¨ï¼Œå®¹æ˜“å‡ºç°ã€Œæ•°æ®ä¸¢å¤±+æ³„æ¼ã€ï¼š</p>
<ul>
<li>é”™è¯¯åšæ³•ï¼šåœ¨ä¸»çº¿ç¨‹ set ThreadLocalï¼Œå¼‚æ­¥ä»»åŠ¡ä¸­ getï¼ˆè·å–ä¸åˆ°ï¼Œä¸”ä¸»çº¿ç¨‹çš„ ThreadLocal è‹¥æœªæ¸…ç†ä¼šæ³„æ¼ï¼‰ï¼›</li>
<li>æ­£ç¡®åšæ³•ï¼šå¼‚æ­¥ä»»åŠ¡å†…éƒ¨ç‹¬ç«‹ set ThreadLocalï¼Œç”¨å®Œå remove()ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸»çº¿ç¨‹</span>
ThreadLocal&lt;String&gt; mainLocal = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
mainLocal.set(<span class="hljs-string">"ä¸»çº¿ç¨‹æ•°æ®"</span>);

<span class="hljs-comment">// å¼‚æ­¥ä»»åŠ¡</span>
CompletableFuture.runAsync(() -&gt; {
    ThreadLocal&lt;String&gt; asyncLocal = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
    <span class="hljs-keyword">try</span> {
        asyncLocal.set(<span class="hljs-string">"å¼‚æ­¥ä»»åŠ¡æ•°æ®"</span>);
        <span class="hljs-comment">// ä¸šåŠ¡å¤„ç†</span>
    } <span class="hljs-keyword">finally</span> {
        asyncLocal.remove();
    }
});

<span class="hljs-comment">// ä¸»çº¿ç¨‹æ¸…ç†</span>
mainLocal.remove();
</code></pre>
</li>
</ul>
<h2 data-id="heading-25">å…­ã€ThreadLocal ä¸šåŠ¡åœºæ™¯æœ€ä½³å®è·µ</h2>
<p>ThreadLocal å¹¶éã€Œæ´ªæ°´çŒ›å…½ã€ï¼Œåªè¦ä½¿ç”¨å¾—å½“ï¼Œæ˜¯è§£å†³çº¿ç¨‹éš”ç¦»é—®é¢˜çš„åˆ©å™¨ã€‚ä»¥ä¸‹æ˜¯ 5 ä¸ªæ ¸å¿ƒä¸šåŠ¡åœºæ™¯çš„æœ€ä½³å®è·µï¼š</p>
<h3 data-id="heading-26">åœºæ™¯ 1ï¼šWeb è¯·æ±‚ä¸Šä¸‹æ–‡ä¼ é€’ï¼ˆæœ€å¸¸ç”¨ï¼‰</h3>
<p><strong>ä¸šåŠ¡éœ€æ±‚</strong>ï¼šåœ¨ Web è¯·æ±‚çš„æ•´ä¸ªé“¾è·¯ä¸­ï¼ˆæ§åˆ¶å™¨ã€æœåŠ¡ã€DAOï¼‰ï¼Œä¼ é€’ç™»å½•ç”¨æˆ·ä¿¡æ¯ã€è¯·æ±‚ ID ç­‰ï¼Œæ— éœ€å±‚å±‚ä¼ å‚ã€‚
<strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li>åœ¨æ‹¦æˆªå™¨/è¿‡æ»¤å™¨ä¸­ set ä¸Šä¸‹æ–‡æ•°æ®ï¼›</li>
<li>åœ¨æ‹¦æˆªå™¨çš„ <code>afterCompletion</code> æ–¹æ³•ä¸­ removeï¼ˆè¯·æ±‚ç»“æŸå¿…æ¸…ç†ï¼‰ï¼›</li>
<li>å°è£…å·¥å…·ç±»ï¼Œç»Ÿä¸€ç®¡ç† ThreadLocal çš„ set/get/removeã€‚</li>
</ol>
<h4 data-id="heading-27">ç¤ºä¾‹ï¼šSpring MVC æ‹¦æˆªå™¨å®ç°ç”¨æˆ·ä¸Šä¸‹æ–‡ä¼ é€’</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. ä¸Šä¸‹æ–‡å·¥å…·ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserContextHolder</span> {
    <span class="hljs-comment">// é™æ€ ThreadLocalï¼Œå°è£… set/get/remove</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;UserDTO&gt; USER_CONTEXT = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();

    <span class="hljs-keyword">private</span> <span class="hljs-title function_">UserContextHolder</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUser</span><span class="hljs-params">(UserDTO user)</span> {
        USER_CONTEXT.set(user);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> UserDTO <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> USER_CONTEXT.get();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clear</span><span class="hljs-params">()</span> {
        USER_CONTEXT.remove();
    }
}

<span class="hljs-comment">// 2. æ‹¦æˆªå™¨</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserContextInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> {
        <span class="hljs-comment">// ä»è¯·æ±‚å¤´/Token ä¸­è§£æç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> request.getHeader(<span class="hljs-string">"userId"</span>);
        <span class="hljs-type">UserDTO</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDTO</span>(userId, <span class="hljs-string">"ç”¨æˆ·å"</span>);
        <span class="hljs-comment">// è®¾ç½®ä¸Šä¸‹æ–‡</span>
        UserContextHolder.setUser(user);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> {
        <span class="hljs-comment">// è¯·æ±‚ç»“æŸï¼Œå¼ºåˆ¶æ¸…ç†ï¼ˆæ ¸å¿ƒï¼ï¼‰</span>
        UserContextHolder.clear();
    }
}

<span class="hljs-comment">// 3. ä¸šåŠ¡å±‚ä½¿ç”¨</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ— éœ€ä¼ å‚ï¼Œç›´æ¥è·å–ç”¨æˆ·ä¸Šä¸‹æ–‡</span>
        <span class="hljs-type">UserDTO</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> UserContextHolder.getUser();
        System.out.println(<span class="hljs-string">"ä¸ºç”¨æˆ· "</span> + user.getUserId() + <span class="hljs-string">" åˆ›å»ºè®¢å•"</span>);
    }
}
</code></pre>
<h3 data-id="heading-28">åœºæ™¯ 2ï¼šæ•°æ®åº“è¿æ¥/äº‹åŠ¡ç®¡ç†</h3>
<p><strong>ä¸šåŠ¡éœ€æ±‚</strong>ï¼šæ¯ä¸ªçº¿ç¨‹æŒæœ‰ç‹¬ç«‹çš„æ•°æ®åº“è¿æ¥ï¼Œé¿å…å¤šçº¿ç¨‹å…±äº«è¿æ¥å¯¼è‡´äº‹åŠ¡æ··ä¹±ï¼ˆå¦‚ JDBCã€MyBatis åº•å±‚ï¼‰ã€‚
<strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li>è·å–è¿æ¥æ—¶ set åˆ° ThreadLocalï¼›</li>
<li>äº‹åŠ¡æäº¤/å›æ»šåï¼Œå…³é—­è¿æ¥å¹¶ remove()ï¼›</li>
<li>å¼‚å¸¸åœºæ™¯ä¸‹å¼ºåˆ¶æ¸…ç†ï¼Œé¿å…è¿æ¥æ³„æ¼+ThreadLocal æ³„æ¼ã€‚</li>
</ol>
<h4 data-id="heading-29">ç¤ºä¾‹ï¼šç®€æ˜“æ•°æ®åº“è¿æ¥ç®¡ç†</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConnectionHolder</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;Connection&gt; CONN_CONTEXT = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">DataSource</span> <span class="hljs-variable">DATA_SOURCE</span> <span class="hljs-operator">=</span> getDataSource();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> CONN_CONTEXT.get();
        <span class="hljs-keyword">if</span> (conn == <span class="hljs-literal">null</span>) {
            conn = DATA_SOURCE.getConnection();
            CONN_CONTEXT.set(conn);
        }
        <span class="hljs-keyword">return</span> conn;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">closeConnection</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> CONN_CONTEXT.get();
        <span class="hljs-keyword">if</span> (conn != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">try</span> {
                conn.close();
            } <span class="hljs-keyword">catch</span> (SQLException e) {
                e.printStackTrace();
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-comment">// æ¸…ç† Connection å’Œ ThreadLocal</span>
                CONN_CONTEXT.remove();
            }
        }
    }
}

<span class="hljs-comment">// ä¸šåŠ¡ä½¿ç”¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeSql</span><span class="hljs-params">(String sql)</span> {
    <span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">try</span> {
        conn = ConnectionHolder.getConnection();
        <span class="hljs-comment">// æ‰§è¡Œ SQL</span>
    } <span class="hljs-keyword">finally</span> {
        ConnectionHolder.closeConnection();
    }
}
</code></pre>
<h3 data-id="heading-30">åœºæ™¯ 3ï¼šçº¿ç¨‹çº§ç¼“å­˜ï¼ˆé¿å…é‡å¤è®¡ç®—ï¼‰</h3>
<p><strong>ä¸šåŠ¡éœ€æ±‚</strong>ï¼šåŒä¸€ä¸ªçº¿ç¨‹å†…å¤šæ¬¡è°ƒç”¨æŸä¸ªæ–¹æ³•ï¼Œé¿å…é‡å¤æŸ¥è¯¢æ•°æ®åº“/è°ƒç”¨æ¥å£ï¼ˆå¦‚è·å–ç”¨æˆ·æƒé™ï¼‰ã€‚
<strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li>ThreadLocal å­˜å‚¨ç¼“å­˜æ•°æ®ï¼Œé¦–æ¬¡æŸ¥è¯¢åå­˜å…¥ï¼Œåç»­ç›´æ¥è·å–ï¼›</li>
<li>æ–¹æ³•æ‰§è¡Œå®Œæ¯•å remove()ï¼Œé¿å…ç¼“å­˜æ•°æ®é•¿æœŸå ç”¨å†…å­˜ï¼›</li>
<li>ç¼“å­˜æ•°æ®éœ€è®¾ç½®æœ‰æ•ˆæœŸï¼ˆå¯é€‰ï¼‰ï¼Œé¿å…è„ç¼“å­˜ã€‚</li>
</ol>
<h4 data-id="heading-31">ç¤ºä¾‹ï¼šçº¿ç¨‹çº§æƒé™ç¼“å­˜</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PermissionService</span> {
    <span class="hljs-comment">// çº¿ç¨‹çº§ç¼“å­˜ï¼šç”¨æˆ·ID â†’ æƒé™åˆ—è¡¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; PERM_CACHE = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getPermissions</span><span class="hljs-params">(String userId)</span> {
        Map&lt;String, List&lt;String&gt;&gt; cache = PERM_CACHE.get();
        <span class="hljs-keyword">if</span> (cache == <span class="hljs-literal">null</span>) {
            cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
            PERM_CACHE.set(cache);
        }
        <span class="hljs-comment">// ç¼“å­˜å‘½ä¸­ï¼Œç›´æ¥è¿”å›</span>
        <span class="hljs-keyword">if</span> (cache.containsKey(userId)) {
            <span class="hljs-keyword">return</span> cache.get(userId);
        }
        <span class="hljs-comment">// ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥è¯¢æ•°æ®åº“</span>
        List&lt;String&gt; permissions = queryPermissionsFromDB(userId);
        cache.put(userId, permissions);
        <span class="hljs-keyword">return</span> permissions;
    }

    <span class="hljs-comment">// æ¸…ç†ç¼“å­˜ï¼ˆä¸šåŠ¡ç»“æŸåè°ƒç”¨ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clearPermCache</span><span class="hljs-params">()</span> {
        PERM_CACHE.remove();
    }

    <span class="hljs-comment">// æ¨¡æ‹Ÿæ•°æ®åº“æŸ¥è¯¢</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; <span class="hljs-title function_">queryPermissionsFromDB</span><span class="hljs-params">(String userId)</span> {
        System.out.println(<span class="hljs-string">"æŸ¥è¯¢æ•°æ®åº“è·å–æƒé™ï¼š"</span> + userId);
        <span class="hljs-keyword">return</span> Arrays.asList(<span class="hljs-string">"order:create"</span>, <span class="hljs-string">"user:query"</span>);
    }
}

<span class="hljs-comment">// ä¸šåŠ¡ä½¿ç”¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPermissionCheck</span><span class="hljs-params">(String userId)</span> {
    <span class="hljs-type">PermissionService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PermissionService</span>();
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// ç¬¬ä¸€æ¬¡æŸ¥è¯¢ï¼ˆæŸ¥åº“ï¼‰</span>
        List&lt;String&gt; perm1 = service.getPermissions(userId);
        <span class="hljs-comment">// ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼ˆèµ°ç¼“å­˜ï¼‰</span>
        List&lt;String&gt; perm2 = service.getPermissions(userId);
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// æ¸…ç†ç¼“å­˜</span>
        service.clearPermCache();
    }
}
</code></pre>
<h3 data-id="heading-32">åœºæ™¯ 4ï¼šåˆ†å¸ƒå¼è¿½è¸ªï¼ˆé“¾è·¯è¿½è¸ªï¼‰</h3>
<p><strong>ä¸šåŠ¡éœ€æ±‚</strong>ï¼šåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œè¿½è¸ªä¸€ä¸ªè¯·æ±‚çš„å®Œæ•´é“¾è·¯ï¼ˆå¦‚ SkyWalkingã€Zipkinï¼‰ï¼Œé€šè¿‡ TraceID å…³è”æ‰€æœ‰æ—¥å¿—ã€‚
<strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li>åœ¨å…¥å£å¤„ï¼ˆç½‘å…³/æ‹¦æˆªå™¨ï¼‰ç”Ÿæˆ TraceIDï¼Œset åˆ° ThreadLocalï¼›</li>
<li>æ—¥å¿—æ¡†æ¶ï¼ˆå¦‚ Logbackï¼‰é…ç½® MDCï¼Œä» ThreadLocal ä¸­è·å– TraceID æ‰“å°ï¼›</li>
<li>è¯·æ±‚ç»“æŸå remove()ï¼Œé¿å… TraceID æ±¡æŸ“åç»­è¯·æ±‚ã€‚</li>
</ol>
<h4 data-id="heading-33">ç¤ºä¾‹ï¼šTraceID é“¾è·¯è¿½è¸ª</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// TraceID å·¥å…·ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TraceIdHolder</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;String&gt; TRACE_ID = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
    <span class="hljs-comment">// MDC é”®åï¼ˆæ—¥å¿—æ¡†æ¶ä½¿ç”¨ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">MDC_TRACE_ID</span> <span class="hljs-operator">=</span> <span class="hljs-string">"traceId"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTraceId</span><span class="hljs-params">(String traceId)</span> {
        TRACE_ID.set(traceId);
        <span class="hljs-comment">// åŒæ­¥åˆ° MDCï¼Œæ—¥å¿—ä¸­å¯ç›´æ¥æ‰“å° %X{traceId}</span>
        MDC.put(MDC_TRACE_ID, traceId);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getTraceId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> TRACE_ID.get();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clear</span><span class="hljs-params">()</span> {
        TRACE_ID.remove();
        MDC.remove(MDC_TRACE_ID);
    }
}

<span class="hljs-comment">// ç½‘å…³æ‹¦æˆªå™¨è®¾ç½® TraceID</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TraceIdInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> {
        <span class="hljs-comment">// ç”Ÿæˆ TraceIDï¼ˆUUIDï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">traceId</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString().replace(<span class="hljs-string">"-"</span>, <span class="hljs-string">""</span>);
        TraceIdHolder.setTraceId(traceId);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> {
        TraceIdHolder.clear();
    }
}

<span class="hljs-comment">// æ—¥å¿—é…ç½®ï¼ˆlogback.xmlï¼‰</span>
&lt;appender name=<span class="hljs-string">"CONSOLE"</span> class=<span class="hljs-string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;
    &lt;encoder&gt;
        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] [%X{traceId}] %-5level %logger{<span class="hljs-number">36</span>} - %msg%n&lt;/pattern&gt;
    &lt;/encoder&gt;
&lt;/appender&gt;
</code></pre>
<h3 data-id="heading-34">åœºæ™¯ 5ï¼šé¿å…å‚æ•°æ³›æ»¥ï¼ˆå·¥å…·ç±»ä¼˜åŒ–ï¼‰</h3>
<p><strong>ä¸šåŠ¡éœ€æ±‚</strong>ï¼šå·¥å…·ç±»ä¸­éœ€è¦ä½¿ç”¨æŸäº›ä¸Šä¸‹æ–‡æ•°æ®ï¼ˆå¦‚å½“å‰è¯­è¨€ã€ç§Ÿæˆ·IDï¼‰ï¼Œé¿å…åœ¨å·¥å…·æ–¹æ³•ä¸­å±‚å±‚ä¼ å‚ã€‚
<strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li>å·¥å…·ç±»ä¸­å°è£… ThreadLocalï¼Œå­˜å‚¨ä¸Šä¸‹æ–‡æ•°æ®ï¼›</li>
<li>æä¾›æ˜ç¡®çš„ set/clear æ–¹æ³•ï¼Œåœ¨ä¸šåŠ¡å¼€å§‹/ç»“æŸæ—¶è°ƒç”¨ï¼›</li>
<li>ç¦æ­¢å·¥å…·ç±»è‡ªåŠ¨åˆå§‹åŒ– ThreadLocalï¼Œé¿å…æ— æ„è¯†æ³„æ¼ã€‚</li>
</ol>
<h4 data-id="heading-35">ç¤ºä¾‹ï¼šç§Ÿæˆ·ID ä¸Šä¸‹æ–‡å·¥å…·</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TenantContextHolder</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;String&gt; TENANT_ID = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();

    <span class="hljs-keyword">private</span> <span class="hljs-title function_">TenantContextHolder</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTenantId</span><span class="hljs-params">(String tenantId)</span> {
        TENANT_ID.set(tenantId);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getTenantId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> TENANT_ID.get();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clear</span><span class="hljs-params">()</span> {
        TENANT_ID.remove();
    }
}

<span class="hljs-comment">// å·¥å…·ç±»ä½¿ç”¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataUtils</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;DataDTO&gt; <span class="hljs-title function_">queryData</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ— éœ€ä¼ å‚ï¼Œè·å–å½“å‰ç§Ÿæˆ·ID</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">tenantId</span> <span class="hljs-operator">=</span> TenantContextHolder.getTenantId();
        <span class="hljs-keyword">return</span> queryDataByTenant(tenantId);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;DataDTO&gt; <span class="hljs-title function_">queryDataByTenant</span><span class="hljs-params">(String tenantId)</span> {
        <span class="hljs-comment">// æŒ‰ç§Ÿæˆ·æŸ¥è¯¢æ•°æ®</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    }
}

<span class="hljs-comment">// ä¸šåŠ¡ä½¿ç”¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processData</span><span class="hljs-params">(String tenantId)</span> {
    <span class="hljs-keyword">try</span> {
        TenantContextHolder.setTenantId(tenantId);
        List&lt;DataDTO&gt; data = DataUtils.queryData();
    } <span class="hljs-keyword">finally</span> {
        TenantContextHolder.clear();
    }
}
</code></pre>
<h2 data-id="heading-36">ä¸ƒã€å¸¸è§è¯¯åŒºçº æ­£</h2>





























<table><thead><tr><th>è¯¯åŒº</th><th>æ­£ç¡®è®¤çŸ¥</th></tr></thead><tbody><tr><td>ThreadLocal çš„å¼±å¼•ç”¨æ˜¯è®¾è®¡ç¼ºé™·</td><td>å¼±å¼•ç”¨æ˜¯åˆç†è®¾è®¡ï¼šè‹¥ key æ˜¯å¼ºå¼•ç”¨ï¼ŒThreadLocal å¯¹è±¡å³ä½¿æ²¡ç”¨äº†ï¼Œä¹Ÿä¼šå›  Thread å­˜æ´»è€Œæ— æ³•å›æ”¶ï¼Œå¯¼è‡´ ThreadLocal æœ¬èº«æ³„æ¼ã€‚å¼±å¼•ç”¨é¿å…äº†è¿™ä¸ªé—®é¢˜ï¼Œåªæ˜¯æš´éœ²äº† Value çš„æ³„æ¼é£é™©ã€‚</td></tr><tr><td>åªè¦ç”¨çº¿ç¨‹æ± å°±ä¼šæ³„æ¼</td><td>çº¿ç¨‹æ± æœ¬èº«ä¸ä¼šå¯¼è‡´æ³„æ¼ï¼Œã€Œçº¿ç¨‹æ±  + æœªè°ƒç”¨ remove()ã€æ‰ä¼šã€‚åªè¦ç”¨å®Œ remove()ï¼Œçº¿ç¨‹æ± åœºæ™¯ä¹Ÿå®‰å…¨ã€‚</td></tr><tr><td>é™æ€ ThreadLocal ä¸ä¼šæ³„æ¼</td><td>é™æ€ ThreadLocal çš„ key ä¸ä¼šè¢«å›æ”¶ï¼ˆæ—  null keyï¼‰ï¼Œä½† value ä¼šéšçº¿ç¨‹å­˜æ´»è€Œé•¿æœŸå ç”¨å†…å­˜ï¼Œè‹¥ value æ˜¯å¤§å¯¹è±¡ï¼Œä»ä¼šå¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜ï¼Œéœ€æ‰‹åŠ¨æ¸…ç†ã€‚</td></tr><tr><td>ThreadLocal æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥éšä¾¿ç”¨</td><td>ThreadLocal ä¿è¯çš„æ˜¯ã€Œçº¿ç¨‹éš”ç¦»ã€ï¼ˆæ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹å‰¯æœ¬ï¼‰ï¼Œè€Œéã€Œæ•°æ®å®‰å…¨ã€ã€‚è‹¥åœ¨å¤šçº¿ç¨‹ä¸­å…±äº« ThreadLocal å¯¹è±¡ï¼Œæˆ–æœªæ¸…ç†å¯¼è‡´è„æ•°æ®ï¼Œä»ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</td></tr><tr><td>è°ƒç”¨ get() åè¿”å› null å°±æ˜¯æ²¡æ³„æ¼</td><td>null ä»…è¡¨ç¤ºå½“å‰ ThreadLocal æ— æ•°æ®ï¼Œä¸ä»£è¡¨è„æ¡ç›®å·²è¢«æ¸…ç†ã€‚éœ€é€šè¿‡å·¥å…·æŸ¥çœ‹ ThreadLocalMap çš„ Entry æ•°é‡ï¼Œç¡®è®¤æ˜¯å¦æœ‰æ³„æ¼ã€‚</td></tr></tbody></table>
<h2 data-id="heading-37">å…«ã€æ€»ç»“</h2>
<p>ThreadLocal å†…å­˜æ³„æ¼çš„æ ¸å¿ƒé€»è¾‘å¯æ€»ç»“ä¸ºï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Thread é•¿æœŸå­˜æ´»ï¼ˆçº¿ç¨‹æ± ï¼‰ + Value å¼ºå¼•ç”¨ + æœªè°ƒç”¨ <span class="hljs-built_in">remove</span>() â†’ è„æ¡ç›®å †ç§¯ â†’ å†…å­˜æ³„æ¼ â†’ OOM
</code></pre>
<h3 data-id="heading-38">æ ¸å¿ƒé¿å‘å£è¯€ï¼š</h3>
<ol>
<li>ç”¨å®Œå¿… removeï¼Œfinally æ¥å®ˆæŠ¤ï¼›</li>
<li>çº¿ç¨‹æ± è¦æ³¨æ„ï¼Œä»»åŠ¡ç»“æŸæ¸…æ•°æ®ï¼›</li>
<li>å¤§å¯¹è±¡åˆ«å­˜å‚¨ï¼Œç›‘æ§è¦è·Ÿå¾—ä¸Šï¼›</li>
<li>é™æ€ ThreadLocalï¼Œæ¸…ç†åˆ«å¿˜è®°ã€‚</li>
</ol>
<p>ThreadLocal æ˜¯ Java å¹¶å‘ç¼–ç¨‹çš„é‡è¦å·¥å…·ï¼Œåªè¦æŒæ¡å…¶åº•å±‚åŸç†ï¼Œä¸¥æ ¼éµå¾ªã€Œç”¨å®Œå³æ¸…ç†ã€çš„åŸåˆ™ï¼Œå°±èƒ½æ—¢å‘æŒ¥å…¶çº¿ç¨‹éš”ç¦»çš„ä¼˜åŠ¿ï¼Œåˆå½»åº•è§„é¿å†…å­˜æ³„æ¼é£é™©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Springæ¡†æ¶æ·±åº¦è§£æï¼šä»æ ¸å¿ƒåŸç†åˆ°ä¼ä¸šçº§å®æˆ˜]]></title>    <link>https://juejin.cn/post/7584345932944244787</link>    <guid>https://juejin.cn/post/7584345932944244787</guid>    <pubDate>2025-12-17T01:47:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584345932944244787" data-draft-id="7584345932944212019" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Springæ¡†æ¶æ·±åº¦è§£æï¼šä»æ ¸å¿ƒåŸç†åˆ°ä¼ä¸šçº§å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-17T01:47:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ ‘æ´RoBot"/> <meta itemprop="url" content="https://juejin.cn/user/3782758452434311"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Springæ¡†æ¶æ·±åº¦è§£æï¼šä»æ ¸å¿ƒåŸç†åˆ°ä¼ä¸šçº§å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3782758452434311/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ ‘æ´RoBot
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T01:47:18.000Z" title="Wed Dec 17 2025 01:47:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<blockquote>
<p>æŒæ¡Springæ¡†æ¶çš„IoCå®¹å™¨ã€ä¾èµ–æ³¨å…¥å’ŒAOPé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæˆä¸ºé«˜æ°´å‡†Javaå·¥ç¨‹å¸ˆçš„å¿…ç»ä¹‹è·¯</p>
</blockquote>
<p>Springæ¡†æ¶ä½œä¸ºJavaä¼ä¸šçº§å¼€å‘çš„äº‹å®æ ‡å‡†ï¼Œå·²ç»æˆä¸ºäº†æ¯ä¸ªJavaå¼€å‘è€…å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæŠ€èƒ½ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æSpringæ¡†æ¶çš„è®¾è®¡æ€æƒ³ã€æ ¸å¿ƒåŸç†ä»¥åŠä¼ä¸šçº§åº”ç”¨å®è·µï¼Œå¸®åŠ©å¼€å‘è€…çœŸæ­£ç†è§£å¹¶é«˜æ•ˆè¿ç”¨è¿™ä¸€å¼ºå¤§æ¡†æ¶ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€Springæ¡†æ¶æ¦‚è¿°ä¸è®¾è®¡å“²å­¦</h3>
<p>Springæ¡†æ¶ç”±Rod Johnsonåœ¨2002å¹´åˆ›å»ºï¼Œæœ€åˆç›®çš„æ˜¯è§£å†³ä¼ä¸šçº§Javaåº”ç”¨å¼€å‘ä¸­çš„å¤æ‚æ€§é—®é¢˜ã€‚ç»è¿‡äºŒåå¤šå¹´çš„å‘å±•ï¼ŒSpringå·²ç»ä»æœ€åˆçš„ç®€å•æ¡†æ¶æ¼”å˜ä¸ºä¸€ä¸ª<strong>å…¨é¢çš„å¼€å‘ç”Ÿæ€ç³»ç»Ÿ</strong>ï¼Œæ¶µç›–äº†Webå¼€å‘ã€æ•°æ®è®¿é—®ã€å®‰å…¨ã€æ‰¹å¤„ç†ç­‰å„ä¸ªæ–¹é¢ã€‚ Springçš„æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯ <strong>"ç®€åŒ–Javaå¼€å‘"</strong> ï¼Œå®ƒé€šè¿‡ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ã€é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰å’Œæ¨¡å—åŒ–è®¾è®¡ï¼Œæå¤§åœ°é™ä½äº†ä¼ä¸šçº§åº”ç”¨çš„å¼€å‘å¤æ‚åº¦ã€‚Springçš„éä¾µå…¥å¼è®¾è®¡ä½¿å¾—åº”ç”¨ç¨‹åºå¯¹æ¡†æ¶çš„ä¾èµ–æœ€å°åŒ–ï¼Œä¿æŒäº†ä»£ç çš„çº¯å‡€æ€§å’Œå¯æµ‹è¯•æ€§ã€‚</p>
<h3 data-id="heading-2">äºŒã€Springæ ¸å¿ƒæœºåˆ¶æ·±åº¦è§£æ</h3>
<h4 data-id="heading-3">2.1 æ§åˆ¶åè½¬ï¼ˆIoCï¼‰ä¸ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰</h4>
<p><strong>æ§åˆ¶åè½¬</strong>æ˜¯Springæ¡†æ¶çš„åŸºçŸ³ï¼Œå®ƒé€šè¿‡å°†å¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–å…³ç³»çš„ç®¡ç†æƒä»åº”ç”¨ç¨‹åºä»£ç è½¬ç§»ç»™å¤–éƒ¨å®¹å™¨ï¼Œå®ç°äº†ç»„ä»¶ä¹‹é—´çš„<strong>æ¾è€¦åˆ</strong>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼ï¼šåœ¨ä»£ç ä¸­ç›´æ¥åˆ›å»ºä¾èµ–å¯¹è±¡</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">UserDAO</span> <span class="hljs-variable">userDAO</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDAOImpl</span>(); <span class="hljs-comment">// ç´§è€¦åˆ</span>
}

<span class="hljs-comment">// Springæ–¹å¼ï¼šé€šè¿‡ä¾èµ–æ³¨å…¥</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">private</span> UserDAO userDAO;
    
    <span class="hljs-comment">// æ„é€ å‡½æ•°æ³¨å…¥</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserService</span><span class="hljs-params">(UserDAO userDAO)</span> {
        <span class="hljs-built_in">this</span>.userDAO = userDAO;
    }
}
</code></pre>
<p>Springæ”¯æŒä¸‰ç§ä¸»è¦çš„ä¾èµ–æ³¨å…¥æ–¹å¼ï¼š<strong>æ„é€ å‡½æ•°æ³¨å…¥</strong>ã€<strong>Setteræ–¹æ³•æ³¨å…¥</strong>å’Œ<strong>å­—æ®µæ³¨å…¥</strong>ã€‚å…¶ä¸­ï¼Œæ„é€ å‡½æ•°æ³¨å…¥è¢«æ¨èä¸ºé¦–é€‰æ–¹å¼ï¼Œå› ä¸ºå®ƒä¿è¯äº†ä¾èµ–ä¸å¯å˜ä¸”å®Œå…¨åˆå§‹åŒ–çš„å¯¹è±¡ã€‚</p>
<h4 data-id="heading-4">2.2 IoCå®¹å™¨çš„å®ç°æœºåˆ¶</h4>
<p>Springçš„IoCå®¹å™¨æ ¸å¿ƒæ˜¯<code>BeanFactory</code>æ¥å£åŠå…¶å®ç°ç±»ï¼ˆå¦‚<code>DefaultListableBeanFactory</code>ï¼‰ã€‚å®¹å™¨é€šè¿‡è¯»å–é…ç½®å…ƒæ•°æ®ï¼ˆXMLã€æ³¨è§£æˆ–Javaé…ç½®ï¼‰æ¥å®ä¾‹åŒ–ã€é…ç½®å’Œç»„è£…åº”ç”¨ç¨‹åºå¯¹è±¡ã€‚ Springåœ¨ç®¡ç†Beanæ—¶å¹¿æ³›åº”ç”¨äº†<strong>å•ä¾‹æ¨¡å¼</strong>ï¼Œé»˜è®¤æƒ…å†µä¸‹æ¯ä¸ªBeanåœ¨å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œè¿™ç§è®¾è®¡èŠ‚çœäº†èµ„æºå¹¶æé«˜äº†æ€§èƒ½ã€‚</p>
<h3 data-id="heading-5">ä¸‰ã€é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰åŸç†ä¸å®è·µ</h3>
<h4 data-id="heading-6">3.1 AOPçš„æ ¸å¿ƒæ¦‚å¿µ</h4>
<p><strong>é¢å‘åˆ‡é¢ç¼–ç¨‹</strong>å…è®¸å¼€å‘è€…å°†æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€äº‹åŠ¡ç®¡ç†ã€å®‰å…¨æ€§ç­‰ï¼‰ä»ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå®ç°å…³æ³¨ç‚¹çš„åˆ†ç¦»ã€‚ AOPçš„æ ¸å¿ƒæ¦‚å¿µåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>åˆ‡é¢ï¼ˆAspectï¼‰</strong> ï¼šæ¨ªåˆ‡å…³æ³¨ç‚¹çš„æ¨¡å—åŒ–ï¼ŒåŒ…å«é€šçŸ¥å’Œåˆ‡ç‚¹</li>
<li><strong>è¿æ¥ç‚¹ï¼ˆJoin pointï¼‰</strong> ï¼šç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ç‰¹å®šç‚¹ï¼Œå¦‚æ–¹æ³•è°ƒç”¨æˆ–å¼‚å¸¸æŠ›å‡º</li>
<li><strong>é€šçŸ¥ï¼ˆAdviceï¼‰</strong> ï¼šåœ¨ç‰¹å®šè¿æ¥ç‚¹æ‰§è¡Œçš„åŠ¨ä½œ</li>
<li><strong>åˆ‡ç‚¹ï¼ˆPointcutï¼‰</strong> ï¼šåŒ¹é…è¿æ¥ç‚¹çš„è¡¨è¾¾å¼</li>
</ul>
<h4 data-id="heading-7">3.2 Spring AOPçš„å®ç°æ–¹å¼</h4>
<p>Springé€šè¿‡<strong>ä»£ç†æ¨¡å¼</strong>å®ç°AOPåŠŸèƒ½ï¼Œæ”¯æŒä¸¤ç§ä»£ç†æœºåˆ¶ï¼š</p>
<ul>
<li><strong>JDKåŠ¨æ€ä»£ç†</strong>ï¼šåŸºäºæ¥å£çš„ä»£ç†ï¼Œè¦æ±‚ç›®æ ‡ç±»å®ç°è‡³å°‘ä¸€ä¸ªæ¥å£</li>
<li><strong>CGLIBåŠ¨æ€ä»£ç†</strong>ï¼šé€šè¿‡ç»§æ‰¿ç›®æ ‡ç±»ç”Ÿæˆå­ç±»æ¥å®ç°ä»£ç†ï¼Œé€‚ç”¨äºæ²¡æœ‰æ¥å£çš„ç±»</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// AOPåˆ‡é¢ç¤ºä¾‹</span>
<span class="hljs-meta">@Aspect</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingAspect</span> {
    
    <span class="hljs-meta">@Before("execution(* com.example.service.*.*(..))")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">logBefore</span><span class="hljs-params">(JoinPoint joinPoint)</span> {
        System.out.println(<span class="hljs-string">"æ‰§è¡Œæ–¹æ³•: "</span> + joinPoint.getSignature().getName());
    }
    
    <span class="hljs-meta">@AfterReturning(pointcut = "execution(* com.example.service.*.*(..))", 
                    returning = "result")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">logAfterReturning</span><span class="hljs-params">(JoinPoint joinPoint, Object result)</span> {
        System.out.println(<span class="hljs-string">"æ–¹æ³•è¿”å›: "</span> + result);
    }
}
</code></pre>
<h3 data-id="heading-8">å››ã€Springäº‹åŠ¡ç®¡ç†æœºåˆ¶</h3>
<h4 data-id="heading-9">4.1 å£°æ˜å¼äº‹åŠ¡ç®¡ç†</h4>
<p>Springæä¾›äº†å¼ºå¤§çš„<strong>å£°æ˜å¼äº‹åŠ¡ç®¡ç†</strong>ï¼Œé€šè¿‡<code>@Transactional</code>æ³¨è§£å¯ä»¥è½»æ¾ç®¡ç†æ•°æ®åº“äº‹åŠ¡ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">UserRepository</span> userRepository;
    
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">createUser</span>(<span class="hljs-params">User user</span>) {
        userRepository.<span class="hljs-title function_">save</span>(user);
        <span class="hljs-comment">// å¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œäº‹åŠ¡å°†è‡ªåŠ¨å›æ»š</span>
    }
    
    <span class="hljs-meta">@Transactional</span>(readOnly = <span class="hljs-literal">true</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">User</span> <span class="hljs-title function_">findUserById</span>(<span class="hljs-params">Long id</span>) {
        <span class="hljs-keyword">return</span> userRepository.<span class="hljs-title function_">findById</span>(id);
    }
}
</code></pre>
<h4 data-id="heading-10">4.2 äº‹åŠ¡ä¼ æ’­è¡Œä¸º</h4>
<p>Springå®šä¹‰äº†7ç§äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„æ˜¯ï¼š</p>
<ul>
<li><strong>REQUIRED</strong>ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°äº‹åŠ¡</li>
<li><strong>REQUIRES_NEW</strong>ï¼šåˆ›å»ºæ–°äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŒ‚èµ·å½“å‰äº‹åŠ¡</li>
<li><strong>SUPPORTS</strong>ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦åˆ™ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œ</li>
</ul>
<h3 data-id="heading-11">äº”ã€Springæ¨¡å—åŒ–è®¾è®¡ä¸é¡¹ç›®ç»“æ„</h3>
<h4 data-id="heading-12">5.1 Springçš„æ ¸å¿ƒæ¨¡å—</h4>
<p>Springæ¡†æ¶é‡‡ç”¨<strong>é«˜åº¦æ¨¡å—åŒ–</strong>çš„è®¾è®¡ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ä½¿ç”¨ç‰¹å®šæ¨¡å—ï¼š</p>
<ul>
<li><strong>Spring Core</strong>ï¼šIoCå®¹å™¨å’Œæ ¸å¿ƒå·¥å…·ç±»</li>
<li><strong>Spring Context</strong>ï¼šåº”ç”¨ä¸Šä¸‹æ–‡è¿è¡Œæ—¶ç¯å¢ƒ</li>
<li><strong>Spring AOP</strong>ï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹æ”¯æŒ</li>
<li><strong>Spring DAO</strong>ï¼šæ•°æ®è®¿é—®æŠ½è±¡å’Œå¼‚å¸¸å±‚æ¬¡ç»“æ„</li>
<li><strong>Spring ORM</strong>ï¼šå¯¹è±¡å…³ç³»æ˜ å°„é›†æˆæ”¯æŒ</li>
<li><strong>Spring Web</strong>ï¼šWebå¼€å‘ç›¸å…³åŠŸèƒ½</li>
<li><strong>Spring Test</strong>ï¼šæµ‹è¯•æ”¯æŒ</li>
</ul>
<h4 data-id="heading-13">5.2 æ ‡å‡†é¡¹ç›®ç»“æ„</h4>
<p>ä¸€ä¸ªå…¸å‹çš„Springé¡¹ç›®éµå¾ªMavenæ ‡å‡†ç›®å½•å¸ƒå±€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">src/
  main/
    java/              <span class="hljs-comment"># Javaæºä»£ç </span>
      com/example/
        controller/    <span class="hljs-comment"># æ§åˆ¶å±‚</span>
        service/       <span class="hljs-comment"># ä¸šåŠ¡é€»è¾‘å±‚</span>
        repository/    <span class="hljs-comment"># æ•°æ®è®¿é—®å±‚</span>
        entity/        <span class="hljs-comment"># å®ä½“ç±»</span>
        config/        <span class="hljs-comment"># é…ç½®ç±»</span>
    resources/         <span class="hljs-comment"># èµ„æºæ–‡ä»¶</span>
      application.yml <span class="hljs-comment"># åº”ç”¨é…ç½®</span>
      static/         <span class="hljs-comment"># é™æ€èµ„æº</span>
      templates/      <span class="hljs-comment"># æ¨¡æ¿æ–‡ä»¶</span>
  <span class="hljs-built_in">test</span>/
    java/              <span class="hljs-comment"># æµ‹è¯•ä»£ç </span>
    resources/         <span class="hljs-comment"># æµ‹è¯•èµ„æº[2](@ref)</span>
</code></pre>
<h3 data-id="heading-14">å…­ã€Spring Bootï¼šç®€åŒ–Springå¼€å‘</h3>
<p>Spring Bootæ˜¯Springç”Ÿæ€ç³»ç»Ÿä¸­çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒé€šè¿‡<strong>è‡ªåŠ¨é…ç½®</strong>å’Œ<strong>çº¦å®šä¼˜äºé…ç½®</strong>çš„åŸåˆ™ï¼Œæå¤§åœ°ç®€åŒ–äº†Springåº”ç”¨çš„å¼€å‘å’Œéƒ¨ç½²ã€‚</p>
<h4 data-id="heading-15">6.1 Spring Bootçš„æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li><strong>è‡ªåŠ¨é…ç½®</strong>ï¼šæ ¹æ®ç±»è·¯å¾„ä¸­çš„jaråŒ…ä¾èµ–ï¼Œè‡ªåŠ¨é…ç½®Springåº”ç”¨</li>
<li><strong>èµ·æ­¥ä¾èµ–</strong>ï¼šç®€åŒ–Mavené…ç½®ï¼Œæä¾›ä¸€ç«™å¼çš„ä¾èµ–è§£å†³æ–¹æ¡ˆ</li>
<li><strong>åµŒå…¥å¼å®¹å™¨</strong>ï¼šå†…ç½®Tomcatã€Jettyæˆ–UndertowæœåŠ¡å™¨ï¼Œæ— éœ€éƒ¨ç½²WARæ–‡ä»¶</li>
<li><strong>Actuator</strong>ï¼šæä¾›ç”Ÿäº§çº§ç›‘æ§å’Œç®¡ç†ç«¯ç‚¹</li>
</ul>
<h4 data-id="heading-16">6.2 åˆ›å»ºä¸€ä¸ªç®€å•çš„Spring Bootåº”ç”¨</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoApplication</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-title class_">SpringApplication</span>.<span class="hljs-title function_">run</span>(<span class="hljs-title class_">DemoApplication</span>.<span class="hljs-property">class</span>, args);
    }
}

<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/api"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloController</span> {
    
    <span class="hljs-meta">@GetMapping</span>(<span class="hljs-string">"/hello"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello, Spring Boot!"</span>;
    }
}
</code></pre>
<p>åªéœ€å‡ è¡Œä»£ç ï¼Œå°±å¯ä»¥å¯åŠ¨ä¸€ä¸ªå®Œæ•´çš„Webåº”ç”¨ç¨‹åºï¼Œè¿™ä½“ç°äº†Spring Boot<strong>é«˜æ•ˆå¼€å‘</strong>çš„ç†å¿µã€‚</p>
<h3 data-id="heading-17">ä¸ƒã€Springä¼ä¸šçº§åº”ç”¨æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-18">7.1 ä¾èµ–æ³¨å…¥æœ€ä½³å®è·µ</h4>
<ol>
<li><strong>é¢å‘æ¥å£ç¼–ç¨‹</strong>ï¼šé’ˆå¯¹æ¥å£è€Œéå®ç°ç±»è¿›è¡Œç¼–ç¨‹ï¼Œé™ä½è€¦åˆåº¦</li>
<li><strong>ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥</strong>ï¼šä¿è¯ä¾èµ–çš„ä¸å¯å˜æ€§å’Œå®Œå…¨åˆå§‹åŒ–</li>
<li><strong>é¿å…å¾ªç¯ä¾èµ–</strong>ï¼šé€šè¿‡è®¾è®¡æ¨¡å¼æˆ–<code>@Lazy</code>æ³¨è§£è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜</li>
</ol>
<h4 data-id="heading-19">7.2 é…ç½®ç®¡ç†æœ€ä½³å®è·µ</h4>
<ul>
<li><strong>ä½¿ç”¨é…ç½®ç±»æ›¿ä»£XMLé…ç½®</strong>ï¼šåˆ©ç”¨<code>@Configuration</code>å’Œ<code>@Bean</code>æ³¨è§£</li>
<li><strong>å¤šç¯å¢ƒé…ç½®</strong>ï¼šé€šè¿‡Profileç®¡ç†ä¸åŒç¯å¢ƒçš„é…ç½®</li>
<li><strong>å¤–éƒ¨åŒ–é…ç½®</strong>ï¼šå°†é…ç½®ä¿¡æ¯å­˜å‚¨åœ¨application.ymlæˆ–application.propertiesä¸­</li>
</ul>
<h4 data-id="heading-20">7.3 å¼‚å¸¸å¤„ç†æœ€ä½³å®è·µ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@ControllerAdvice</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> {
    
    <span class="hljs-meta">@ExceptionHandler(ResourceNotFoundException.class)</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;ErrorResponse&gt; <span class="hljs-title function_">handleResourceNotFound</span><span class="hljs-params">(
            ResourceNotFoundException ex)</span> {
        <span class="hljs-type">ErrorResponse</span> <span class="hljs-variable">error</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ErrorResponse</span>(<span class="hljs-string">"NOT_FOUND"</span>, ex.getMessage());
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(error, HttpStatus.NOT_FOUND);
    }
    
    <span class="hljs-meta">@ExceptionHandler(Exception.class)</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;ErrorResponse&gt; <span class="hljs-title function_">handleGenericException</span><span class="hljs-params">(Exception ex)</span> {
        <span class="hljs-type">ErrorResponse</span> <span class="hljs-variable">error</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ErrorResponse</span>(<span class="hljs-string">"INTERNAL_ERROR"</span>, 
                <span class="hljs-string">"An unexpected error occurred"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(error, 
                HttpStatus.INTERNAL_SERVER_ERROR);
    }
}
</code></pre>
<h3 data-id="heading-21">å…«ã€Springåœ¨å¾®æœåŠ¡æ¶æ„ä¸­çš„åº”ç”¨</h3>
<p>éšç€å¾®æœåŠ¡æ¶æ„çš„æµè¡Œï¼ŒSpring Cloudä¸ºæ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿæä¾›äº†å…¨å¥—è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>æœåŠ¡å‘ç°</strong>ï¼šé€šè¿‡Eurekaå®ç°æœåŠ¡æ³¨å†Œä¸å‘ç°</li>
<li><strong>é…ç½®ç®¡ç†</strong>ï¼šSpring Cloud Configå®ç°åˆ†å¸ƒå¼é…ç½®</li>
<li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šRibbonå®ç°å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡</li>
<li><strong>æ–­è·¯å™¨</strong>ï¼šHystrixé˜²æ­¢çº§è”æ•…éšœ</li>
</ul>
<h3 data-id="heading-22">æ€»ç»“</h3>
<p>Springæ¡†æ¶é€šè¿‡å…¶<strong>æ§åˆ¶åè½¬</strong>ã€<strong>ä¾èµ–æ³¨å…¥</strong>å’Œ<strong>é¢å‘åˆ‡é¢ç¼–ç¨‹</strong>ç­‰æ ¸å¿ƒç‰¹æ€§ï¼Œä¸ºJavaä¼ä¸šçº§å¼€å‘æä¾›äº†å¼ºå¤§è€Œçµæ´»çš„åŸºç¡€è®¾æ–½ã€‚ä»ä¼ ç»Ÿçš„å•ä½“åº”ç”¨åˆ°çš„ç°ä»£å¾®æœåŠ¡æ¶æ„ï¼ŒSpringç”Ÿæ€ç³»ç»Ÿä¸æ–­æ¼”è¿›ï¼Œå§‹ç»ˆä¿æŒç€åœ¨Javaä¼ä¸šçº§å¼€å‘é¢†åŸŸçš„é¢†å…ˆåœ°ä½ã€‚ æŒæ¡Springæ¡†æ¶ä¸ä»…éœ€è¦ç†è§£å…¶æ ¸å¿ƒåŸç†ï¼Œè¿˜éœ€è¦åœ¨å®è·µä¸­ä¸æ–­ç§¯ç´¯ç»éªŒã€‚é€šè¿‡éµå¾ªæœ€ä½³å®è·µï¼Œåˆç†è¿ç”¨Springçš„å„ç§ç‰¹æ€§ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºå‡º<strong>é«˜æ•ˆã€å¯ç»´æŠ¤ã€å¯æ‰©å±•</strong>çš„ä¼ä¸šçº§åº”ç”¨ç¨‹åºã€‚</p>
<blockquote>
<p>éšç€äº‘åŸç”Ÿå’Œå¾®æœåŠ¡æ¶æ„çš„æ™®åŠï¼ŒSpring Bootå’ŒSpring Cloudå·²æˆä¸ºç°ä»£Javaå¼€å‘çš„æ ‡å‡†é…ç½®ï¼Œæ·±å…¥ç†è§£Springæ¡†æ¶çš„åŸç†ä¸å®æˆ˜æ˜¯æ¯ä¸€ä½Javaå¼€å‘è€…çš„å¿…ä¿®è¯¾ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Foundry æ™ºèƒ½åˆçº¦æµ‹è¯•æµç¨‹è®²è§£æŒ‡å—]]></title>    <link>https://juejin.cn/post/7584345932943065139</link>    <guid>https://juejin.cn/post/7584345932943065139</guid>    <pubDate>2025-12-16T16:20:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584345932943065139" data-draft-id="7584266920642068531" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Foundry æ™ºèƒ½åˆçº¦æµ‹è¯•æµç¨‹è®²è§£æŒ‡å—"/> <meta itemprop="keywords" content="web3,æ™ºèƒ½åˆçº¦"/> <meta itemprop="datePublished" content="2025-12-16T16:20:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RainWeb3"/> <meta itemprop="url" content="https://juejin.cn/user/599705882203355"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Foundry æ™ºèƒ½åˆçº¦æµ‹è¯•æµç¨‹è®²è§£æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/599705882203355/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RainWeb3
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T16:20:50.000Z" title="Tue Dec 16 2025 16:20:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Foundry æ™ºèƒ½åˆçº¦æµ‹è¯•æµç¨‹è®²è§£æŒ‡å—</h2>
<hr/>
<blockquote>
<p><strong>æœ¬æ–‡ç³»ç»Ÿé˜è¿°å¦‚ä½•ç¼–å†™é«˜è´¨é‡ã€é«˜è¦†ç›–ç‡ã€é«˜é²æ£’æ€§çš„ Solidity æµ‹è¯•ã€‚é€‚ç”¨äºä½¿ç”¨ Forge è¿›è¡Œæ™ºèƒ½åˆçº¦å¼€å‘çš„å›¢é˜Ÿä¸ä¸ªäººå¼€å‘è€…ã€‚</strong></p>
</blockquote>
<hr/>
<blockquote>
<p><strong>ä½œè€…ï¼šRainWeb3</strong><br/>
<strong>æ›´æ–°æ—¶é—´ï¼š2025å¹´11æœˆ8æ—¥</strong><br/>
<strong>ç›®æ ‡è¯»è€…ï¼šæ™ºèƒ½åˆçº¦å¼€å‘è€…ã€åŒºå—é“¾å·¥ç¨‹å¸ˆã€DevOps å·¥ç¨‹å¸ˆ</strong></p>
</blockquote>
<ul>
<li>æ–°Github-å›½å¤–è®¿é—®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Frainweb4.github.io%2F" target="_blank" title="https://rainweb4.github.io/" ref="nofollow noopener noreferrer">rainweb4.github.io/</a></li>
<li>æ–°Github-å›½å†…è®¿é—®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FRainweb4%2Frainweb3.github.io" target="_blank" title="https://github.com/Rainweb4/rainweb3.github.io" ref="nofollow noopener noreferrer">github.com/Rainweb4/raâ€¦</a></li>
</ul>
<hr/>
<h3 data-id="heading-1">ç›®å½•ï¼ˆå¯ç‚¹å‡»è·³è½¬ï¼‰</h3>
<ol>
<li>
<p><a href="#1-foundry-%E6%94%AF%E6%8C%81%E7%9A%84%E5%85%AD%E5%A4%A7%E4%B8%BB%E6%B5%81%E6%B5%8B%E8%AF%95%E6%96%B9%E5%BC%8F%E8%AF%A6%E8%A7%A3" title="#1-foundry-%E6%94%AF%E6%8C%81%E7%9A%84%E5%85%AD%E5%A4%A7%E4%B8%BB%E6%B5%81%E6%B5%8B%E8%AF%95%E6%96%B9%E5%BC%8F%E8%AF%A6%E8%A7%A3">Foundry æ”¯æŒçš„å…­å¤§ä¸»æµæµ‹è¯•æ–¹å¼è¯¦è§£</a><br/>
1.1 <a href="#11-%E5%9F%BA%E7%A1%80%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95unit-test" title="#11-%E5%9F%BA%E7%A1%80%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95unit-test">åŸºç¡€å•å…ƒæµ‹è¯•ï¼ˆUnit Testï¼‰</a><br/>
1.2 <a href="#12-%E6%A8%A1%E7%B3%8A%E6%B5%8B%E8%AF%95fuzzing-test" title="#12-%E6%A8%A1%E7%B3%8A%E6%B5%8B%E8%AF%95fuzzing-test">æ¨¡ç³Šæµ‹è¯•ï¼ˆFuzzing Testï¼‰</a><br/>
1.3 <a href="#13-%E4%B8%8D%E5%8F%98%E9%87%8F%E6%B5%8B%E8%AF%95invariant-test--stateful-fuzzing" title="#13-%E4%B8%8D%E5%8F%98%E9%87%8F%E6%B5%8B%E8%AF%95invariant-test--stateful-fuzzing">ä¸å˜é‡æµ‹è¯•ï¼ˆInvariant Test / Stateful Fuzzingï¼‰</a><br/>
1.4 <a href="#14-%E5%88%86%E5%8F%89%E6%B5%8B%E8%AF%95forking-test" title="#14-%E5%88%86%E5%8F%89%E6%B5%8B%E8%AF%95forking-test">åˆ†å‰æµ‹è¯•ï¼ˆForking Testï¼‰</a><br/>
1.5 <a href="#15-%E5%8F%82%E6%95%B0%E5%8C%96%E6%B5%8B%E8%AF%95parameterized-test" title="#15-%E5%8F%82%E6%95%B0%E5%8C%96%E6%B5%8B%E8%AF%95parameterized-test">å‚æ•°åŒ–æµ‹è¯•ï¼ˆParameterized Testï¼‰</a><br/>
1.6 <a href="#16-%E5%BF%AB%E7%85%A7%E6%B5%8B%E8%AF%95snapshot-test" title="#16-%E5%BF%AB%E7%85%A7%E6%B5%8B%E8%AF%95snapshot-test">å¿«ç…§æµ‹è¯•ï¼ˆSnapshot Testï¼‰</a></p>
</li>
<li>
<p><a href="#2-%E6%B5%8B%E8%AF%95%E7%B1%BB%E5%9E%8B%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83%E4%B8%8E%E7%BB%84%E5%90%88%E7%AD%96%E7%95%A5" title="#2-%E6%B5%8B%E8%AF%95%E7%B1%BB%E5%9E%8B%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83%E4%B8%8E%E7%BB%84%E5%90%88%E7%AD%96%E7%95%A5">æµ‹è¯•ç±»å‹å‘½åè§„èŒƒä¸ç»„åˆç­–ç•¥</a><br/>
2.1 <a href="#21-%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A%E7%9A%84%E4%BD%9C%E7%94%A8" title="#21-%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A%E7%9A%84%E4%BD%9C%E7%94%A8">å‘½åçº¦å®šçš„ä½œç”¨</a><br/>
2.2 <a href="#22-%E7%BB%84%E5%90%88%E6%B5%8B%E8%AF%95%E7%A4%BA%E4%BE%8B%E5%A6%82-testforkfuzz_revertwhen_" title="#22-%E7%BB%84%E5%90%88%E6%B5%8B%E8%AF%95%E7%A4%BA%E4%BE%8B%E5%A6%82-testforkfuzz_revertwhen_">ç»„åˆæµ‹è¯•ç¤ºä¾‹ï¼ˆå¦‚ testForkFuzz_RevertWhen_ï¼‰</a></p>
</li>
<li>
<p><a href="#3-%E6%96%AD%E8%A8%80%E4%B8%8E%E8%B0%83%E8%AF%95%E6%8F%90%E5%8D%87%E5%8F%AF%E8%AF%BB%E6%80%A7%E4%B8%8E%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E6%95%88%E7%8E%87" title="#3-%E6%96%AD%E8%A8%80%E4%B8%8E%E8%B0%83%E8%AF%95%E6%8F%90%E5%8D%87%E5%8F%AF%E8%AF%BB%E6%80%A7%E4%B8%8E%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E6%95%88%E7%8E%87">æ–­è¨€ä¸è°ƒè¯•ï¼šæå‡å¯è¯»æ€§ä¸æ•…éšœå®šä½æ•ˆç‡</a><br/>
3.1 <a href="#31-%E4%BD%BF%E7%94%A8%E6%8F%8F%E8%BF%B0%E6%80%A7%E6%96%AD%E8%A8%80%E6%B6%88%E6%81%AF" title="#31-%E4%BD%BF%E7%94%A8%E6%8F%8F%E8%BF%B0%E6%80%A7%E6%96%AD%E8%A8%80%E6%B6%88%E6%81%AF">ä½¿ç”¨æè¿°æ€§æ–­è¨€æ¶ˆæ¯</a><br/>
3.2 <a href="#32-%E4%BA%8B%E4%BB%B6%E6%B5%8B%E8%AF%95%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" title="#32-%E4%BA%8B%E4%BB%B6%E6%B5%8B%E8%AF%95%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">äº‹ä»¶æµ‹è¯•çš„æœ€ä½³å®è·µ</a></p>
</li>
<li>
<p><a href="#4-%E5%88%86%E5%8F%89%E6%B5%8B%E8%AF%95-vs-mock%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%AD%E7%9A%84%E6%9D%83%E8%A1%A1%E4%B8%8E%E9%80%89%E6%8B%A9" title="#4-%E5%88%86%E5%8F%89%E6%B5%8B%E8%AF%95-vs-mock%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%AD%E7%9A%84%E6%9D%83%E8%A1%A1%E4%B8%8E%E9%80%89%E6%8B%A9">åˆ†å‰æµ‹è¯• vs Mockï¼šç”Ÿäº§ç¯å¢ƒä¸­çš„æƒè¡¡ä¸é€‰æ‹©</a><br/>
4.1 <a href="#41-%E7%94%9F%E4%BA%A7%E4%B8%AD-mock-%E7%9A%84%E4%BD%BF%E7%94%A8%E6%AF%94%E9%87%8D" title="#41-%E7%94%9F%E4%BA%A7%E4%B8%AD-mock-%E7%9A%84%E4%BD%BF%E7%94%A8%E6%AF%94%E9%87%8D">ç”Ÿäº§ä¸­ Mock çš„ä½¿ç”¨æ¯”é‡</a><br/>
4.2 <a href="#42-mock-%E7%9A%84%E9%A2%9D%E5%A4%96%E4%BB%B7%E5%80%BC" title="#42-mock-%E7%9A%84%E9%A2%9D%E5%A4%96%E4%BB%B7%E5%80%BC">Mock çš„é¢å¤–ä»·å€¼</a><br/>
4.3 <a href="#43-%E8%83%BD%E5%90%A6%E5%AE%8C%E5%85%A8%E4%B8%8D%E7%94%A8-mock%E5%BD%B1%E5%93%8D%E4%B8%8E%E9%A3%8E%E9%99%A9%E5%88%86%E6%9E%90" title="#43-%E8%83%BD%E5%90%A6%E5%AE%8C%E5%85%A8%E4%B8%8D%E7%94%A8-mock%E5%BD%B1%E5%93%8D%E4%B8%8E%E9%A3%8E%E9%99%A9%E5%88%86%E6%9E%90">èƒ½å¦å®Œå…¨ä¸ç”¨ Mockï¼Ÿå½±å“ä¸é£é™©åˆ†æ</a></p>
</li>
<li>
<p><a href="#5-%E6%B5%8B%E8%AF%95-internalprivate-%E5%87%BD%E6%95%B0harness-%E6%A8%A1%E5%BC%8F%E8%AF%A6%E8%A7%A3" title="#5-%E6%B5%8B%E8%AF%95-internalprivate-%E5%87%BD%E6%95%B0harness-%E6%A8%A1%E5%BC%8F%E8%AF%A6%E8%A7%A3">æµ‹è¯• internal/private å‡½æ•°ï¼šHarness æ¨¡å¼è¯¦è§£</a><br/>
5.1 <a href="#51-%E6%B5%8B%E8%AF%95-internal-%E5%87%BD%E6%95%B0%E7%9A%84%E6%A0%87%E5%87%86%E6%B5%81%E7%A8%8B" title="#51-%E6%B5%8B%E8%AF%95-internal-%E5%87%BD%E6%95%B0%E7%9A%84%E6%A0%87%E5%87%86%E6%B5%81%E7%A8%8B">æµ‹è¯• internal å‡½æ•°çš„æ ‡å‡†æµç¨‹</a><br/>
5.2 <a href="#52-private-%E5%87%BD%E6%95%B0%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88" title="#52-private-%E5%87%BD%E6%95%B0%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88">private å‡½æ•°çš„æ›¿ä»£æ–¹æ¡ˆ</a><br/>
5.3 <a href="#53-%E5%AE%8C%E6%95%B4%E7%A4%BA%E4%BE%8B" title="#53-%E5%AE%8C%E6%95%B4%E7%A4%BA%E4%BE%8B">å®Œæ•´ç¤ºä¾‹</a></p>
</li>
<li>
<p><a href="#6-%E5%8F%98%E9%80%9A%E5%87%BD%E6%95%B0workaround-functions%E5%AE%9E%E6%88%98%E6%8C%87%E5%8D%97" title="#6-%E5%8F%98%E9%80%9A%E5%87%BD%E6%95%B0workaround-functions%E5%AE%9E%E6%88%98%E6%8C%87%E5%8D%97">â€œå˜é€šå‡½æ•°â€ï¼ˆWorkaround Functionsï¼‰å®æˆ˜æŒ‡å—</a><br/>
6.1 <a href="#61-%E4%B8%BA%E4%BD%95%E9%9C%80%E8%A6%81-workaround" title="#61-%E4%B8%BA%E4%BD%95%E9%9C%80%E8%A6%81-workaround">ä¸ºä½•éœ€è¦ workaroundï¼Ÿ</a><br/>
6.2 <a href="#62-%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E4%B8%8E%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83" title="#62-%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E4%B8%8E%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83">å®ç°æ–¹å¼ä¸å‘½åè§„èŒƒ</a><br/>
6.3 <a href="#63-%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95%E5%B9%BD%E7%81%B5%E5%8F%98%E9%87%8Fghost-variables" title="#63-%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95%E5%B9%BD%E7%81%B5%E5%8F%98%E9%87%8Fghost-variables">é«˜çº§ç”¨æ³•ï¼šå¹½çµå˜é‡ï¼ˆGhost Variablesï¼‰</a></p>
</li>
<li>
<p><a href="#7-%E4%B8%8D%E5%8F%98%E5%BC%8F%E6%B5%8B%E8%AF%95invariant-tests%E4%BF%9D%E9%9A%9C%E7%B3%BB%E7%BB%9F%E9%B2%81%E6%A3%92%E6%80%A7%E7%9A%84%E6%A0%B8%E5%BF%83%E6%89%8B%E6%AE%B5" title="#7-%E4%B8%8D%E5%8F%98%E5%BC%8F%E6%B5%8B%E8%AF%95invariant-tests%E4%BF%9D%E9%9A%9C%E7%B3%BB%E7%BB%9F%E9%B2%81%E6%A3%92%E6%80%A7%E7%9A%84%E6%A0%B8%E5%BF%83%E6%89%8B%E6%AE%B5">ä¸å˜å¼æµ‹è¯•ï¼ˆInvariant Testsï¼‰ï¼šä¿éšœç³»ç»Ÿé²æ£’æ€§çš„æ ¸å¿ƒæ‰‹æ®µ</a><br/>
7.1 <a href="#71-%E4%BB%80%E4%B9%88%E6%98%AF%E9%B2%81%E6%A3%92%E6%80%A7" title="#71-%E4%BB%80%E4%B9%88%E6%98%AF%E9%B2%81%E6%A3%92%E6%80%A7">ä»€ä¹ˆæ˜¯é²æ£’æ€§ï¼Ÿ</a><br/>
7.2 <a href="#72-%E4%B8%8D%E5%8F%98%E5%BC%8F%E6%B5%8B%E8%AF%95%E5%9C%A8%E7%94%9F%E4%BA%A7%E4%B8%AD%E7%9A%84%E5%9C%B0%E4%BD%8D" title="#72-%E4%B8%8D%E5%8F%98%E5%BC%8F%E6%B5%8B%E8%AF%95%E5%9C%A8%E7%94%9F%E4%BA%A7%E4%B8%AD%E7%9A%84%E5%9C%B0%E4%BD%8D">ä¸å˜å¼æµ‹è¯•åœ¨ç”Ÿäº§ä¸­çš„åœ°ä½</a><br/>
7.3 <a href="#73-%E4%B8%8E-mock%E5%88%86%E5%8F%89%E6%B5%8B%E8%AF%95%E7%9A%84%E5%8D%8F%E5%90%8C%E4%BD%BF%E7%94%A8%E7%AD%96%E7%95%A5" title="#73-%E4%B8%8E-mock%E5%88%86%E5%8F%89%E6%B5%8B%E8%AF%95%E7%9A%84%E5%8D%8F%E5%90%8C%E4%BD%BF%E7%94%A8%E7%AD%96%E7%95%A5">ä¸ Mockã€åˆ†å‰æµ‹è¯•çš„ååŒä½¿ç”¨ç­–ç•¥</a></p>
</li>
<li>
<p><a href="#8-%E6%80%BB%E7%BB%93%E6%9E%84%E5%BB%BA%E9%AB%98%E5%8F%AF%E9%9D%A0%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E6%B5%8B%E8%AF%95%E4%BD%93%E7%B3%BB" title="#8-%E6%80%BB%E7%BB%93%E6%9E%84%E5%BB%BA%E9%AB%98%E5%8F%AF%E9%9D%A0%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E6%B5%8B%E8%AF%95%E4%BD%93%E7%B3%BB">æ€»ç»“ï¼šæ„å»ºé«˜å¯é æ™ºèƒ½åˆçº¦æµ‹è¯•ä½“ç³»</a></p>
</li>
</ol>
<hr/>
<h3 data-id="heading-2">1. Foundry æ”¯æŒçš„å…­å¤§ä¸»æµæµ‹è¯•æ–¹å¼è¯¦è§£</h3>
<h4 data-id="heading-3">1.1 åŸºç¡€å•å…ƒæµ‹è¯•ï¼ˆUnit Testï¼‰</h4>
<p>âœ… <strong>ç‰¹ç‚¹</strong></p>
<ul>
<li>æœ€å¸¸è§å½¢å¼</li>
<li>å‡½æ•°åä»¥ <code>test</code> å¼€å¤´</li>
<li>æ¯ä¸ªæµ‹è¯•ç‹¬ç«‹ï¼ˆè‡ªåŠ¨ <code>setUp()</code>ï¼‰</li>
</ul>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong><br/>
éªŒè¯å•ä¸ªå‡½æ•°çš„æ­£ç¡®æ€§ã€è¾¹ç•Œã€revert è¡Œä¸ºç­‰ã€‚</p>
<p>âœ… <strong>ç¤ºä¾‹ï¼š<code>test/Counter.t.sol</code></strong></p>
<pre><code class="hljs language-solidity" lang="solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.30;

import {Test} from "forge-std/Test.sol";

contract Counter {
    uint256 public count;
    function inc() public returns (uint256) { return ++count; }
    function dec() public { require(count &gt; 0, "Underflow"); count--; }
}

contract CounterTest is Test {
    Counter public counter;

    function setUp() public {
        counter = new Counter();
    }

    function testInc() public {
        assertEq(counter.inc(), 1);
        assertEq(counter.count(), 1);
    }

    function testDecRevertsOnZero() public {
        vm.expectRevert("Underflow");
        counter.dec();
    }
}
</code></pre>
<p>â–¶ï¸ <strong>è¿è¡Œ</strong></p>
<pre><code class="hljs language-bash" lang="bash">forge <span class="hljs-built_in">test</span> -vv
</code></pre>
<hr/>
<h4 data-id="heading-4">1.2 æ¨¡ç³Šæµ‹è¯•ï¼ˆFuzzing Testï¼‰</h4>
<p>âœ… <strong>ç‰¹ç‚¹</strong></p>
<ul>
<li>å‡½æ•°å‚æ•°å¸¦ <code>uint256 x</code> ç­‰</li>
<li>Forge è‡ªåŠ¨ç”¨æ•°ç™¾ä¸ªéšæœºå€¼è¿è¡Œ</li>
<li>å‘ç°è¾¹ç•Œ/å¼‚å¸¸è¾“å…¥ bug</li>
</ul>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong><br/>
éªŒè¯å‡½æ•°å¯¹ä»»æ„è¾“å…¥çš„é²æ£’æ€§ï¼ˆå¦‚æ•°å­¦è¿ç®—ã€æ•°ç»„ç´¢å¼•ç­‰ï¼‰</p>
<p>âœ… <strong>ç¤ºä¾‹ï¼š<code>test/Math.t.sol</code></strong></p>
<pre><code class="hljs language-solidity" lang="solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.30;

import {Test} from "forge-std/Test.sol";

contract Math {
    function add(uint256 a, uint256 b) public pure returns (uint256) {
        return a + b; // Solidity 0.8+ è‡ªåŠ¨é˜²æº¢å‡º
    }
}

contract MathTest is Test {
    Math math = new Math();

    // Forge ä¼šè‡ªåŠ¨ç”¨ ~256 ä¸ªéšæœº a, b è¿è¡Œæ­¤æµ‹è¯•
    function testFuzz_AddNoOverflow(uint256 a, uint256 b) public {
        // å¯é€‰ï¼šè¿‡æ»¤æ— æ•ˆè¾“å…¥
        vm.assume(a + b &gt;= a); // é¿å…æº¢å‡ºï¼ˆå…¶å® 0.8+ ä¸ä¼šæº¢å‡ºï¼Œä»…ä¸ºæ¼”ç¤ºï¼‰

        uint256 result = math.add(a, b);
        assertEq(result, a + b);
    }
}
</code></pre>
<p>â–¶ï¸ <strong>è¿è¡Œ</strong></p>
<pre><code class="hljs language-bash" lang="bash">forge <span class="hljs-built_in">test</span> --mc MathTest -vv
</code></pre>
<p>ğŸ’¡ <code>vm.assume(condition)</code>ï¼šè·³è¿‡ä¸æ»¡è¶³æ¡ä»¶çš„è¾“å…¥</p>
<hr/>
<h4 data-id="heading-5">1.3 ä¸å˜é‡æµ‹è¯•ï¼ˆInvariant Test / Stateful Fuzzingï¼‰</h4>
<p>âœ… <strong>ç‰¹ç‚¹</strong></p>
<ul>
<li>ä½¿ç”¨ <code>forge-std/Vm</code> çš„ handler æ¨¡å¼</li>
<li>å¤šä¸ªæ“ä½œéšæœºç»„åˆ</li>
<li>éªŒè¯â€œæ— è®ºæ€ä¹ˆæ“ä½œï¼ŒæŸäº›æ€§è´¨å§‹ç»ˆæˆç«‹â€</li>
</ul>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong><br/>
å¤æ‚çŠ¶æ€æœºã€DeFi åè®®ï¼ˆå¦‚â€œæ€»ä¾›åº”é‡ = æ‰€æœ‰ç”¨æˆ·ä½™é¢ä¹‹å’Œâ€ï¼‰</p>
<p>âœ… <strong>ç¤ºä¾‹ï¼š<code>test/CounterInvariant.t.sol</code></strong></p>
<pre><code class="hljs language-solidity" lang="solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.30;

import {Test} from "forge-std/Test.sol";
import "./Counter.sol"; // å‡è®¾ Counter åœ¨ src/Counter.sol

contract CounterHandler is Test {
    Counter counter;
    uint256 public countSnapshot;

    constructor(Counter _counter) {
        counter = _counter;
    }

    function inc() public {
        counter.inc();
    }

    function dec() public {
        if (counter.count() &gt; 0) {
            counter.dec();
        }
    }

    // æ¯æ¬¡æ“ä½œåï¼ŒForge ä¼šè°ƒç”¨æ­¤å‡½æ•°æ£€æŸ¥ä¸å˜é‡
    function check_count_non_negative() public {
        assertGe(counter.count(), 0); // å§‹ç»ˆ &gt;= 0
    }
}

contract CounterInvariantTest is Test {
    Counter counter;
    CounterHandler handler;

    function setUp() public {
        counter = new Counter();
        handler = new CounterHandler(counter);
        // æ³¨å†Œ handler åˆ°æ¨¡ç³Šå¼•æ“
        bytes4[] memory sigs = new bytes4[](2);
        sigs[0] = handler.inc.selector;
        sigs[1] = handler.dec.selector;
        vm.setHandler(address(handler), sigs, true);
    }

    // è¿è¡Œ 100 è½®éšæœº inc/dec åºåˆ—
    function invariant_counter_never_negative() public {
        // ä¸éœ€è¦å†™é€»è¾‘ï¼ŒForge è‡ªåŠ¨è°ƒç”¨ handler + check
    }
}
</code></pre>
<p>â–¶ï¸ <strong>è¿è¡Œ</strong></p>
<pre><code class="hljs language-bash" lang="bash">forge <span class="hljs-built_in">test</span> --mc CounterInvariantTest -vv
</code></pre>
<p>âš ï¸ æ³¨æ„ï¼šéœ€åœ¨ <code>setUp</code> ä¸­æ³¨å†Œ handlerï¼Œä¸”æµ‹è¯•å‡½æ•°åä»¥ <code>invariant_</code> å¼€å¤´ï¼ˆéå¼ºåˆ¶ï¼Œä½†æƒ¯ä¾‹ï¼‰</p>
<hr/>
<h4 data-id="heading-6">1.4 åˆ†å‰æµ‹è¯•ï¼ˆForking Testï¼‰</h4>
<p>âœ… <strong>ç‰¹ç‚¹</strong></p>
<ul>
<li>ä»çœŸå®ä¸»ç½‘/æµ‹è¯•ç½‘åˆ†å‰çŠ¶æ€</li>
<li>æµ‹è¯•ä¸ç°æœ‰åè®®äº¤äº’ï¼ˆå¦‚ Uniswapã€Aaveï¼‰</li>
</ul>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong><br/>
é›†æˆæµ‹è¯•ã€é—ªç”µè´·æ¨¡æ‹Ÿã€çœŸå®èµ„äº§äº¤äº’</p>
<p>âœ… <strong>ç¤ºä¾‹ï¼š<code>test/Fork.t.sol</code></strong></p>
<pre><code class="hljs language-solidity" lang="solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.30;

import {Test} from "forge-std/Test.sol";

contract ForkTest is Test {
    address constant USDC = 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48;
    address constant DAI = 0x6B175474E89094C44Da98b954EedeAC495271d0F;

    function testFork_DaiTotalSupply() public {
        // åˆ†å‰ Ethereum ä¸»ç½‘æœ€æ–°åŒºå—
        vm.createFork("mainnet");
        vm.selectFork(vm.activeFork());

        // è°ƒç”¨çœŸå® DAI åˆçº¦
        (bool success, bytes memory data) = DAI.call(
            abi.encodeWithSignature("totalSupply()")
        );
        uint256 totalSupply = abi.decode(data, (uint256));
        assertTrue(success);
        console.log("DAI Total Supply:", totalSupply);
        assertTrue(totalSupply &gt; 0);
    }
}
</code></pre>
<p>â–¶ï¸ <strong>è¿è¡Œï¼ˆéœ€é…ç½® RPCï¼‰</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ .env ä¸­è®¾ç½®ï¼šMAINNET_RPC_URL=https://...</span>
<span class="hljs-built_in">source</span> .<span class="hljs-built_in">env</span>
forge <span class="hljs-built_in">test</span> --mc ForkTest -vv --fork-url <span class="hljs-variable">$MAINNET_RPC_URL</span>
</code></pre>
<hr/>
<h4 data-id="heading-7">1.5 å‚æ•°åŒ–æµ‹è¯•ï¼ˆParameterized Testï¼‰</h4>
<p>âœ… <strong>ç‰¹ç‚¹</strong></p>
<ul>
<li>æ‰‹åŠ¨æä¾›å¤šç»„è¾“å…¥</li>
<li>ç±»ä¼¼ fuzzingï¼Œä½†è¾“å…¥å¯æ§</li>
</ul>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong><br/>
éªŒè¯ç‰¹å®šè¾¹ç•Œå€¼ï¼ˆå¦‚ 0, 1, max, minï¼‰</p>
<p>âœ… <strong>ç¤ºä¾‹ï¼š<code>test/Param.t.sol</code></strong></p>
<pre><code class="hljs language-solidity" lang="solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.30;

import {Test} from "forge-std/Test.sol";

contract Math {
    function square(uint256 x) public pure returns (uint256) {
        return x * x;
    }
}

contract ParamTest is Test {
    Math math = new Math();

    function testParam_Square() public {
        uint256[4] memory inputs = [0, 1, 10, 100];
        uint256[4] memory expected = [0, 1, 100, 10000];

        for (uint i = 0; i &lt; inputs.length; i++) {
            assertEq(math.square(inputs[i]), expected[i]);
        }
    }
}
</code></pre>
<p>â–¶ï¸ <strong>è¿è¡Œ</strong></p>
<pre><code class="hljs language-bash" lang="bash">forge <span class="hljs-built_in">test</span> --mc ParamTest -vv
</code></pre>
<p>ğŸ’¡ ä¹Ÿå¯ç»“åˆ fuzzing + <code>vm.assume</code> å®ç°ç±»ä¼¼æ•ˆæœï¼Œä½†æ­¤æ–¹å¼æ›´ç›´è§‚ã€‚</p>
<hr/>
<h4 data-id="heading-8">1.6 å¿«ç…§æµ‹è¯•ï¼ˆSnapshot Testï¼‰â€”â€” é€šè¿‡ gas / logs éªŒè¯è¡Œä¸º</h4>
<p>âœ… <strong>ç‰¹ç‚¹</strong></p>
<ul>
<li>ä¸åªéªŒè¯ç»“æœï¼Œè¿˜éªŒè¯ gas æ¶ˆè€—ã€äº‹ä»¶æ—¥å¿—</li>
<li>ç”¨äºæ€§èƒ½å›å½’ã€äº‹ä»¶å®Œæ•´æ€§æµ‹è¯•</li>
</ul>
<p>âœ… <strong>ç¤ºä¾‹ï¼š<code>test/Snapshot.t.sol</code></strong></p>
<pre><code class="hljs language-solidity" lang="solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.30;

import {Test, console2} from "forge-std/Test.sol";

contract EventEmitter {
    event Incremented(uint256 newValue);
    uint256 public count;
    function inc() public {
        count++;
        emit Incremented(count);
    }
}

contract SnapshotTest is Test {
    EventEmitter emitter;

    function setUp() public {
        emitter = new EventEmitter();
    }

    function testInc_EmitsEventAndGasBound() public {
        vm.expectEmit(true, true, true, true);
        emit emitter.Incremented(1);

        uint256 gasStart = gasleft();
        emitter.inc();
        uint256 gasUsed = gasStart - gasleft();

        // éªŒè¯ gas æ¶ˆè€—ä¸è¶…è¿‡é˜ˆå€¼ï¼ˆé˜²æ€§èƒ½é€€åŒ–ï¼‰
        assertLe(gasUsed, 50000, "Gas used too high");

        // éªŒè¯çŠ¶æ€
        assertEq(emitter.count(), 1);
    }
}
</code></pre>
<p>â–¶ï¸ <strong>è¿è¡Œ</strong></p>
<pre><code class="hljs language-bash" lang="bash">forge <span class="hljs-built_in">test</span> --mc SnapshotTest -vv
</code></pre>
<hr/>
<h3 data-id="heading-9">2. æµ‹è¯•ç±»å‹å‘½åè§„èŒƒä¸ç»„åˆç­–ç•¥</h3>
<h4 data-id="heading-10">2.1 å‘½åçº¦å®šçš„ä½œç”¨</h4>
<p>Foundry é€šè¿‡å‘½åçº¦å®šåŒºåˆ†æµ‹è¯•ç±»å‹ï¼Œä¸ä»…æå‡å¯è¯»æ€§ï¼Œæ›´æ”¯æŒå·¥å…·é“¾ç²¾å‡†ç­›é€‰ï¼ˆå¦‚ <code>forge test -m "Revert"</code>ï¼‰ã€‚ä»¥ä¸‹æ˜¯äº”ç±»æ ¸å¿ƒæµ‹è¯•ï¼š</p>



































<table><thead><tr><th>æµ‹è¯•ç±»å‹</th><th>å‘½åå‰ç¼€</th><th>å·¥å…·æ”¯æŒ</th></tr></thead><tbody><tr><td>æ™®é€šå•å…ƒæµ‹è¯•</td><td><code>test_</code></td><td>é»˜è®¤è¿è¡Œ</td></tr><tr><td>æ¨¡ç³Šæµ‹è¯•</td><td><code>testFuzz_</code></td><td>è‡ªåŠ¨ fuzz</td></tr><tr><td>å›æ»šæµ‹è¯•</td><td><code>test_RevertWhen_</code> / <code>test_RevertIf_</code></td><td>å¯é€šè¿‡ <code>-m "Revert"</code> ç­›é€‰</td></tr><tr><td>åˆ†å‰æµ‹è¯•</td><td><code>testFork_</code></td><td>å¯é€šè¿‡ <code>-m "Fork"</code> ç­›é€‰</td></tr><tr><td>ä¸å˜é‡æµ‹è¯•</td><td><code>invariant_</code></td><td>é€šå¸¸é…åˆ handler</td></tr></tbody></table>
<p>âœ… <strong>å…³é”®åŸåˆ™</strong>ï¼šå‘½åä¸ä»…æ˜¯é£æ ¼é—®é¢˜ï¼Œæ›´æ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•åŸºç¡€è®¾æ–½çš„ä¸€éƒ¨åˆ†ã€‚</p>
<h4 data-id="heading-11">2.2 ç»„åˆæµ‹è¯•ç¤ºä¾‹ï¼ˆå¦‚ <code>testForkFuzz_RevertWhen_</code>ï¼‰</h4>
<p><strong>ä½œç”¨</strong>ï¼šèåˆå¤šç§æµ‹è¯•ç»´åº¦ï¼Œè¦†ç›–æœ€å¤æ‚çš„ç°å®åœºæ™¯ã€‚<br/>
<strong>é€‚ç”¨åœºæ™¯</strong>ï¼šDeFi åè®®äº¤äº’ã€è·¨åˆçº¦è°ƒç”¨ã€ç»æµæ¨¡å‹éªŒè¯ç­‰ã€‚</p>
<pre><code class="hljs language-solidity" lang="solidity">function testForkFuzz_RevertWhen_InsufficientBalance(uint256 amount) public {
    vm.assume(amount &gt; userBalance);
    vm.expectRevert("Insufficient balance");
    token.transfer(bob, amount);
}
</code></pre>
<hr/>
<h3 data-id="heading-12">3. æ–­è¨€ä¸è°ƒè¯•ï¼šæå‡å¯è¯»æ€§ä¸æ•…éšœå®šä½æ•ˆç‡</h3>
<h4 data-id="heading-13">3.1 ä½¿ç”¨æè¿°æ€§æ–­è¨€æ¶ˆæ¯</h4>
<p>Forge é»˜è®¤ä¸æ˜¾ç¤ºå¤±è´¥è¡Œå·ï¼Œå› æ­¤åº”åˆ©ç”¨ <code>assertEq</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ·»åŠ ç®€çŸ­æ ‡è¯†ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">function test_add() public {
    assertEq(calc.add(2, 3), 5, "1"); // ç¬¬ä¸€ä¸ªæ–­è¨€
    assertEq(calc.add(-1, 1), 0, "2"); // ç¬¬äºŒä¸ªæ–­è¨€
}
</code></pre>
<p>è‹¥å¤±è´¥ï¼Œè¾“å‡º <code>"Error: Assertion failed: 2"</code>ï¼Œç«‹å³å®šä½é—®é¢˜ã€‚</p>
<p>æ›´è¯­ä¹‰åŒ–å†™æ³•ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">assertEq(totalSupply, sumBalances, "total_supply_mismatch");
</code></pre>
<h4 data-id="heading-14">3.2 äº‹ä»¶æµ‹è¯•çš„æœ€ä½³å®è·µ</h4>
<p>å§‹ç»ˆä½¿ç”¨ <code>vm.expectEmit(true, true, true, true)</code>ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">function test_transfer_EmitsTransferEvent() public {
    vm.expectEmit(true, true, true, true);
    emit Transfer(address(this), alice, 100);
    token.transfer(alice, 100);
}
</code></pre>
<p>âœ… <strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨éªŒè¯æ‰€æœ‰ <code>indexed</code> å­—æ®µï¼›</li>
<li>æ–°å¢å­—æ®µæ—¶æµ‹è¯•è‡ªåŠ¨å¤±è´¥ï¼Œé˜²æ­¢é—æ¼ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-15">4. åˆ†å‰æµ‹è¯• vs Mockï¼šç”Ÿäº§ç¯å¢ƒä¸­çš„æƒè¡¡ä¸é€‰æ‹©</h3>
<h4 data-id="heading-16">4.1 ç”Ÿäº§ä¸­ Mock çš„ä½¿ç”¨æ¯”é‡</h4>
<ul>
<li><strong>å¤§å‹ DeFi åè®®</strong>ï¼ˆå¦‚ Compoundã€Lidoï¼‰ï¼š&lt; 10%ï¼Œä¼˜å…ˆä½¿ç”¨ fork æµ‹è¯•ã€‚</li>
<li><strong>å°å‹é¡¹ç›®æˆ–å†…éƒ¨æ¨¡å—</strong>ï¼šå¯èƒ½è¾¾ 20â€“30%ï¼Œç”¨äºç®€åŒ–æœªéƒ¨ç½²ä¾èµ–ã€‚</li>
<li><strong>è¶‹åŠ¿</strong>ï¼šéšç€ Anvil å’Œ RPC ç¼“å­˜ä¼˜åŒ–ï¼ŒMock ä½¿ç”¨æ¯”ä¾‹æŒç»­ä¸‹é™ã€‚</li>
</ul>
<h4 data-id="heading-17">4.2 Mock çš„é¢å¤–ä»·å€¼</h4>
<p>é™¤äº†â€œæ–¹ä¾¿â€ï¼ŒMock è¿˜æœ‰ï¼š</p>
<ol>
<li><strong>éš”ç¦»æ€§</strong>ï¼šä»…æµ‹è¯•è‡ªèº«é€»è¾‘ï¼Œä¸å—å¤–éƒ¨åè®®å˜æ›´å¹²æ‰°ï¼›</li>
<li><strong>æç«¯çŠ¶æ€æ¨¡æ‹Ÿ</strong>ï¼šå¦‚æ„é€  <code>balance = type(uint).max</code>ï¼›</li>
<li><strong>ç¡®å®šæ€§æ§åˆ¶</strong>ï¼šé¿å…ä¸»ç½‘çŠ¶æ€æ³¢åŠ¨å½±å“ CI ç¨³å®šæ€§ã€‚</li>
</ol>
<h4 data-id="heading-18">4.3 èƒ½å¦å®Œå…¨ä¸ç”¨ Mockï¼Ÿå½±å“ä¸é£é™©åˆ†æ</h4>
<p><strong>å¯ä»¥ï¼Œä¸”å¼ºçƒˆæ¨èå°½é‡ä¸ç”¨</strong>ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>
<ul>
<li>åŒºå—é“¾æ˜¯å¼€æ”¾çš„ï¼šæ‰€æœ‰å·²éƒ¨ç½²ä»£ç å‡å¯æœ¬åœ°è¿è¡Œï¼Œæ— éœ€åƒ Web2 é‚£æ · mock é—­æº APIã€‚</li>
<li>Mock æ˜“å‡ºé”™ï¼šå¯èƒ½é—æ¼ modifierã€gas è¡Œä¸ºã€é‡å…¥é˜²æŠ¤ç­‰ç»†èŠ‚ï¼Œå¯¼è‡´â€œæµ‹è¯•é€šè¿‡ä½†ä¸»ç½‘å¤±è´¥â€ã€‚</li>
</ul>
<p>âš ï¸ <strong>ä¸ç”¨ Mock çš„æ½œåœ¨æŒ‘æˆ˜</strong>ï¼š</p>





















<table><thead><tr><th>æŒ‘æˆ˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>é¦–æ¬¡ fork æµ‹è¯•æ…¢</td><td>å›ºå®š block number + RPC ç¼“å­˜ï¼ˆåç»­ &lt; 0.5sï¼‰</td></tr><tr><td>ä¾èµ– RPC ç¨³å®šæ€§</td><td>ä½¿ç”¨ Alchemy/Infura å…è´¹ archive èŠ‚ç‚¹ï¼›CI ä¸­ç¼“å­˜å“åº”</td></tr><tr><td>ç‰¹å®šå†å²çŠ¶æ€éš¾å¤ç°</td><td>ç”¨ <code>anvil_setStorageAt</code> æ‰‹åŠ¨ç¯¡æ”¹çŠ¶æ€</td></tr></tbody></table>
<p>âœ… <strong>æœ€ä½³å®è·µ</strong>ï¼šä¼˜å…ˆ fork æµ‹è¯•ï¼›ä»…å½“å¤–éƒ¨åˆçº¦æœªéƒ¨ç½²æˆ–éœ€æç«¯æ§åˆ¶æ—¶æ‰ mockã€‚</p>
<hr/>
<h3 data-id="heading-19">5. æµ‹è¯• internal/private å‡½æ•°ï¼šHarness æ¨¡å¼è¯¦è§£</h3>
<h4 data-id="heading-20">5.1 æµ‹è¯• internal å‡½æ•°çš„æ ‡å‡†æµç¨‹</h4>
<p>Solidity çš„ <code>internal</code> å‡½æ•°å¯è¢«å­åˆçº¦è®¿é—®ï¼Œå› æ­¤å¯é€šè¿‡ç»§æ‰¿+æš´éœ²çš„æ–¹å¼æµ‹è¯•ã€‚</p>
<h4 data-id="heading-21">5.2 private å‡½æ•°çš„æ›¿ä»£æ–¹æ¡ˆ</h4>
<p><code>private</code> å‡½æ•°æ— æ³•è¢«ç»§æ‰¿è®¿é—®ï¼Œå»ºè®®ï¼š</p>
<ul>
<li>æ”¹ä¸º <code>internal</code>ï¼ˆæœ€æ¨èï¼‰ï¼›</li>
<li>æˆ–å°†æ ¸å¿ƒé€»è¾‘æå–åˆ° <code>internal</code> helper å‡½æ•°ä¸­ã€‚</li>
</ul>
<h4 data-id="heading-22">5.3 å®Œæ•´ç¤ºä¾‹</h4>
<p><strong>è¢«æµ‹åˆçº¦ï¼ˆ<code>src/MyVault.sol</code>ï¼‰</strong></p>
<pre><code class="hljs language-solidity" lang="solidity">contract MyVault {
    function _calculateFee(uint amount) internal pure returns (uint) {
        return amount * 5 / 100; // 5%
    }
}
</code></pre>
<p><strong>æµ‹è¯•æ–‡ä»¶ï¼ˆ<code>test/MyVault.t.sol</code>ï¼‰</strong></p>
<pre><code class="hljs language-solidity" lang="solidity">import {Test} from "forge-std/Test.sol";
import {MyVault} from "src/MyVault.sol";

// Harness åˆçº¦ï¼šç»§æ‰¿å¹¶æš´éœ² internal å‡½æ•°
contract MyVaultHarness is MyVault {
    function exposed_calculateFee(uint amount) external pure returns (uint) {
        return _calculateFee(amount); // è°ƒç”¨ internal å‡½æ•°
    }
}

contract MyVaultTest is Test {
    MyVaultHarness vault;

    function setUp() public {
        vault = new MyVaultHarness();
    }

    function test_exposed_calculateFee_ReturnsCorrectValue() public {
        assertEq(vault.exposed_calculateFee(1000), 50, "fee_calc");
    }
}
</code></pre>
<p>ğŸ“Œ <strong>å‘½åè§„èŒƒ</strong>ï¼šæš´éœ²å‡½æ•°ä½¿ç”¨ <code>exposed_&lt;originalName&gt;</code> å‰ç¼€ï¼Œè¡¨æ˜å…¶ä¸ºæµ‹è¯•ä¸“ç”¨ã€‚</p>
<hr/>
<h3 data-id="heading-23">6. â€œå˜é€šå‡½æ•°â€ï¼ˆWorkaround Functionsï¼‰å®æˆ˜æŒ‡å—</h3>
<h4 data-id="heading-24">6.1 ä¸ºä½•éœ€è¦ workaroundï¼Ÿ</h4>
<p>å½“åˆçº¦å†…éƒ¨çŠ¶æ€ï¼ˆå¦‚ <code>private</code> æ•°ç»„é•¿åº¦ï¼‰æ²¡æœ‰ <code>public getter</code>ï¼Œä½†æµ‹è¯•éœ€è¦è®¿é—®æ—¶ã€‚</p>
<h4 data-id="heading-25">6.2 å®ç°æ–¹å¼ä¸å‘½åè§„èŒƒ</h4>
<p>é€šè¿‡ harness åˆçº¦è®¿é—®ç§æœ‰æˆå‘˜ï¼Œå¹¶æä¾› <code>external</code> æ¥å£ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">contract TaskQueue {
    address[] private tasks;
    function addTask(address task) external { tasks.push(task); }
    // æ—  getLength()ï¼
}

contract TaskQueueHarness is TaskQueue {
    function workaround_getTaskCount() external view returns (uint) {
        return tasks.length; // è®¿é—® private æˆå‘˜
    }
}
</code></pre>
<h4 data-id="heading-26">6.3 é«˜çº§ç”¨æ³•ï¼šå¹½çµå˜é‡ï¼ˆGhost Variablesï¼‰</h4>
<p>ç”¨äºä¸å˜å¼æµ‹è¯•ï¼Œè®°å½•ç”Ÿäº§ç¯å¢ƒä¸éœ€è¦ä½†æµ‹è¯•å¿…éœ€çš„ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">contract TokenHarness is Token {
    mapping(address =&gt; bool) public _isHolder; // ghost variable

    function _mint(address to, uint amount) internal override {
        if (balanceOf(to) == 0 &amp;&amp; amount &gt; 0) _isHolder[to] = true;
        super._mint(to, amount);
    }
}
</code></pre>
<p>éšåå¯é«˜æ•ˆéªŒè¯ï¼šâ€œæ‰€æœ‰æŒå¸äººä½™é¢ä¹‹å’Œ = totalSupplyâ€ã€‚<br/>
ğŸ“Œ <strong>å‘½åè§„èŒƒ</strong>ï¼šä½¿ç”¨ <code>workaround_&lt;purpose&gt;</code> å‰ç¼€ã€‚</p>
<hr/>
<h3 data-id="heading-27">7. ä¸å˜å¼æµ‹è¯•ï¼ˆInvariant Testsï¼‰ï¼šä¿éšœç³»ç»Ÿé²æ£’æ€§çš„æ ¸å¿ƒæ‰‹æ®µ</h3>
<h4 data-id="heading-28">7.1 ä»€ä¹ˆæ˜¯é²æ£’æ€§ï¼Ÿ</h4>
<p>é²æ£’æ€§ï¼ˆrobustnessï¼‰æ˜¯è‹±æ–‡éŸ³è¯‘ï¼Œæ„å³ç¨‹åºæˆ–ç³»ç»Ÿçš„å¥å£®æ€§â€”â€”æŒ‡å…¶åœ¨é¢å¯¹å¼‚å¸¸è¾“å…¥ã€é”™è¯¯æ“ä½œæˆ–ç¯å¢ƒæ‰°åŠ¨æ—¶ä»èƒ½ç¨³å®šè¿è¡Œæˆ–ä¼˜é›…é™çº§çš„èƒ½åŠ›ã€‚<br/>
ä¸€ä¸ªé²æ£’æ€§å¼ºçš„ç³»ç»Ÿä¸ä¼šå› ç•¸å½¢æ•°æ®ã€è¾¹ç•Œå€¼æˆ–èµ„æºå¼‚å¸¸è€Œå´©æºƒï¼Œè€Œæ˜¯èƒ½å¦¥å–„å¤„ç†æˆ–ç»™å‡ºæ˜ç¡®é”™è¯¯æç¤ºã€‚<br/>
åœ¨ Web3 é¢†åŸŸå°¤ä¸ºé‡è¦ï¼šæ™ºèƒ½åˆçº¦ä¸€æ—¦éƒ¨ç½²ä¾¿ä¸å¯æ›´æ”¹ï¼Œä»»ä½•æœªè€ƒè™‘åˆ°çš„è¾¹ç•Œæƒ…å†µéƒ½å¯èƒ½å¯¼è‡´ä¸¥é‡æ¼æ´ç”šè‡³èµ„é‡‘æŸå¤±ã€‚<br/>
å› æ­¤ï¼Œå¼€å‘è€…å¸¸é€šè¿‡æ¨¡ç³Šæµ‹è¯•ï¼ˆFuzzingï¼‰ç­‰æ‰‹æ®µæå‡ä»£ç é²æ£’æ€§ã€‚<br/>
ç®€è¨€ä¹‹ï¼Œ<strong>é²æ£’æ€§ = æŠ—å‹ + å®¹é”™ + å¯é </strong>ï¼Œæ˜¯é«˜è´¨é‡è½¯ä»¶å°¤å…¶æ˜¯é«˜é£é™©ç³»ç»Ÿï¼ˆå¦‚åŒºå—é“¾ï¼‰ä¸å¯æˆ–ç¼ºçš„ç‰¹æ€§ã€‚</p>
<h4 data-id="heading-29">7.2 ä¸å˜å¼æµ‹è¯•åœ¨ç”Ÿäº§ä¸­çš„åœ°ä½</h4>
<ul>
<li><strong>DeFi åè®®</strong>ï¼ˆå€Ÿè´·ã€AMMã€è¡ç”Ÿå“ï¼‰ï¼šæ ¸å¿ƒæµ‹è¯•æ‰‹æ®µï¼Œå®¡è®¡å¿…æŸ¥é¡¹ã€‚</li>
<li><strong>NFT æˆ–ç®€å•åˆçº¦</strong>ï¼šè¾ƒå°‘ä½¿ç”¨ã€‚</li>
<li><strong>ä½¿ç”¨é¢‘ç‡</strong>ï¼šåœ¨å¤æ‚åè®®ä¸­ï¼Œinvariant tests å æµ‹è¯•æ€»é‡ 30% ä»¥ä¸Šã€‚</li>
</ul>
<h4 data-id="heading-30">7.3 ä¸ Mockã€åˆ†å‰æµ‹è¯•çš„ååŒä½¿ç”¨ç­–ç•¥</h4>
<p>ä¸‰è€…äº’è¡¥è€Œéäº’æ–¥ï¼š</p>

























<table><thead><tr><th>æµ‹è¯•ç±»å‹</th><th>ç›®æ ‡</th><th>åœºæ™¯</th></tr></thead><tbody><tr><td>Unit Tests</td><td>éªŒè¯å•ä¸ªå‡½æ•°æ­£ç¡®æ€§</td><td>å¼€å‘åˆæœŸã€PR æ£€æŸ¥</td></tr><tr><td>Invariant Tests</td><td>éªŒè¯å…¨å±€å±æ€§æ°¸ä¸ç ´å</td><td>æ¨¡ç³Šæµ‹è¯•ã€çŠ¶æ€æœºéªŒè¯</td></tr><tr><td>Fork Tests</td><td>éªŒè¯çœŸå®ä¸–ç•Œäº¤äº’å®‰å…¨</td><td>ä¸Šçº¿å‰ã€é‡å¤§å‡çº§</td></tr></tbody></table>
<p>âœ… <strong>å…¸å‹ç”Ÿäº§å®è·µï¼ˆç»„åˆä½¿ç”¨ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">function invariant_totalSupplyEqualsSumOfBalances() public {
    uint total = token.totalSupply();
    uint sum = 0;
    for (address holder : allHolders) {
        sum += token.balanceOf(holder);
    }
    assertEq(total, sum, "Invariant violated: totalSupply != sum of balances");
}
</code></pre>
<p>ğŸ’¡ <strong>å…³é”®</strong>ï¼šInvariant tests é€šå¸¸é…åˆ fuzzing + stateful testingï¼ˆå¦‚ä½¿ç”¨ handler æ¨¡å¼éšæœºè°ƒç”¨å¤šä¸ªå‡½æ•°ï¼‰ï¼Œæ¨¡æ‹Ÿç”¨æˆ·å„ç§æ“ä½œç»„åˆï¼Œæ˜¯æå‡ç³»ç»Ÿé²æ£’æ€§çš„ç»ˆææ­¦å™¨ã€‚</p>
<hr/>
<h3 data-id="heading-31">8. æ€»ç»“ï¼šæ„å»ºé«˜å¯é æ™ºèƒ½åˆçº¦æµ‹è¯•ä½“ç³»</h3>
<h4 data-id="heading-32">ğŸ“Š Foundry å…­å¤§æµ‹è¯•æ–¹å¼å¯¹æ¯”</h4>















































<table><thead><tr><th>ç±»å‹</th><th>å…³é”®è¯</th><th>ç”¨é€”</th><th>æ˜¯å¦è‡ªåŠ¨è¿è¡Œ</th></tr></thead><tbody><tr><td>å•å…ƒæµ‹è¯•</td><td><code>testXxx()</code></td><td>åŸºç¡€åŠŸèƒ½éªŒè¯</td><td>âœ…</td></tr><tr><td>æ¨¡ç³Šæµ‹è¯•</td><td><code>testFuzz_Xxx(type x)</code></td><td>éšæœºè¾“å…¥é²æ£’æ€§</td><td>âœ…ï¼ˆè‡ªåŠ¨ fuzzï¼‰</td></tr><tr><td>ä¸å˜é‡æµ‹è¯•</td><td><code>invariant_xxx()</code> + handler</td><td>çŠ¶æ€æœºæ­£ç¡®æ€§</td><td>âœ…ï¼ˆè‡ªåŠ¨ç»„åˆï¼‰</td></tr><tr><td>åˆ†å‰æµ‹è¯•</td><td><code>vm.createFork()</code></td><td>çœŸå®é“¾äº¤äº’</td><td>âœ…ï¼ˆéœ€ RPCï¼‰</td></tr><tr><td>å‚æ•°åŒ–æµ‹è¯•</td><td>æ‰‹åŠ¨æ•°ç»„å¾ªç¯</td><td>ç‰¹å®šè¾¹ç•Œå€¼</td><td>âœ…</td></tr><tr><td>å¿«ç…§æµ‹è¯•</td><td><code>vm.expectEmit</code>, <code>gasleft()</code></td><td>äº‹ä»¶/gas éªŒè¯</td><td>âœ…</td></tr></tbody></table>
<h4 data-id="heading-33">ğŸ¯ æ¨èå®è·µå¯¹ç…§è¡¨</h4>

































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èåšæ³•</th></tr></thead><tbody><tr><td>æ­£å¸¸é€»è¾‘éªŒè¯</td><td><code>test_</code> + æè¿°æ€§æ–­è¨€</td></tr><tr><td>è¾¹ç•Œ/å¼‚å¸¸è¦†ç›–</td><td><code>testFuzz_</code> + <code>vm.assume()</code></td></tr><tr><td>å¤–éƒ¨åè®®äº¤äº’</td><td>ä¼˜å…ˆ fork æµ‹è¯•ï¼Œå°‘ç”¨ mock</td></tr><tr><td>internal å‡½æ•°æµ‹è¯•</td><td><code>exposed_</code> harness æ¨¡å¼</td></tr><tr><td>ç§æœ‰çŠ¶æ€è®¿é—®</td><td><code>workaround_</code> å‡½æ•°</td></tr><tr><td>å…¨å±€å®‰å…¨æ€§ä¿éšœ</td><td>ä¸å˜å¼æµ‹è¯• + æ¨¡ç³Šæµ‹è¯•</td></tr></tbody></table>
<p>éµå¾ªæœ¬æŒ‡å—ï¼Œä½ å°†èƒ½å¤Ÿï¼š</p>
<ul>
<li>ç¼–å†™å‡ºç»“æ„æ¸…æ™°ã€æ˜“äºç»´æŠ¤çš„æµ‹è¯•ä»£ç ï¼›</li>
<li>å®ç°é«˜è¦†ç›–ç‡ã€é«˜é²æ£’æ€§çš„åˆçº¦éªŒè¯ï¼›</li>
<li>æ˜¾è‘—é™ä½ä¸»ç½‘äº‹æ•…ä¸èµ„é‡‘æŸå¤±é£é™©ã€‚</li>
</ul>
<blockquote>
<p><strong>åœ¨ Web3 ä¸–ç•Œï¼Œæµ‹è¯•ä¸æ˜¯å¯é€‰é¡¹ï¼Œè€Œæ˜¯ç”Ÿå­˜å¿…éœ€å“ã€‚ç”¨å¥½ Foundryï¼Œè®©ä½ çš„ä»£ç åšå¦‚ç£çŸ³ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªVSCodeæ’ä»¶ï¼Œä»å¼€å‘åˆ°å‘å¸ƒå…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7584320417307082803</link>    <guid>https://juejin.cn/post/7584320417307082803</guid>    <pubDate>2025-12-17T00:08:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584320417307082803" data-draft-id="7584340871412596763" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªVSCodeæ’ä»¶ï¼Œä»å¼€å‘åˆ°å‘å¸ƒå…¨æµç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Visual Studio Code"/> <meta itemprop="datePublished" content="2025-12-17T00:08:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°å¯’"/> <meta itemprop="url" content="https://juejin.cn/user/694547078987287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªVSCodeæ’ä»¶ï¼Œä»å¼€å‘åˆ°å‘å¸ƒå…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547078987287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°å¯’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:08:02.000Z" title="Wed Dec 17 2025 00:08:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p><code>VSCode</code> å‡ ä¹æ˜¯å‰ç«¯å¼€å‘äººå‘˜çš„æ ‡é…ï¼Œè€Œç°åœ¨ç¼–è¾‘å™¨å¾€å¾€åªæä¾›<strong>ä»£ç ç¼–è¾‘</strong>ã€<strong>æ–‡ä»¶å’Œé¡¹ç›®ç®¡ç†</strong>ã€<strong>ç»ˆç«¯é›†æˆ</strong>ã€<strong>æºä»£ç ç®¡ç†</strong>ã€<strong>è°ƒè¯•æ”¯æŒ</strong>ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œè€Œä¸€äº›æ‰©å±•åŠŸèƒ½åˆ™äº¤ç»™æ’ä»¶æ¥å®ç°ã€‚</p>
<p>ä¼šç¼–å†™ <code>VSCode</code> æ’ä»¶å¯ä»¥æå¤§æå‡æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œæœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ç¼–å†™ä¸€ä¸ªç®€å•çš„ <code>VSCode</code> æ’ä»¶ã€‚</p>
<h2 data-id="heading-1">1ã€ å®‰è£…å·¥å…·ï¼Œåˆå§‹åŒ–é¡¹ç›®</h2>
<p>é¦–å…ˆè‚¯å®šè¦å®‰è£… <code>node</code>ï¼Œå†é€šè¿‡å…¶è‡ªå¸¦ <code>npm</code> åŒ…ç®¡ç†å·¥å…·å®‰è£… <code>yo</code> å’Œ <code>generator-code</code>ã€‚</p>
<ul>
<li><code>yo</code>ï¼šå…¨ç§°å« <code>Yeoman</code>ï¼Œæ˜¯ä¸€ä¸ªç°ä»£ Web åº”ç”¨çš„è„šæ‰‹æ¶å·¥å…·ï¼ˆå‘½ä»¤è¡Œå·¥å…·ï¼‰ï¼Œç”¨äºå¿«é€Ÿç”Ÿæˆé¡¹ç›®ã€‚</li>
<li><code>generator-code</code>ï¼š<code>VS Code</code> æ‰©å±•ç”Ÿæˆå™¨ã€‚</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">npm install -g yo@5 generator-code
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼Œä½¿ç”¨ <code>yo</code> æœ€æ–°çš„ <code>6.0.0</code> ç‰ˆæœ¬è¿è¡Œ <code>yo</code> å‘½ä»¤ä¼šæŠ¥é”™ï¼Œå› æ­¤è¿™é‡ŒæŒ‡å®šå®‰è£… <code>5</code> ç‰ˆæœ¬ã€‚</p>
</blockquote>
<p>å®‰è£…å®Œæˆåï¼Œè¿è¡Œ <code>yo code</code> å‘½ä»¤ï¼Œåˆå§‹åŒ–é¡¹ç›®ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">yo code
</code></pre>
<p>è¿™é‡ŒæŒ‰æç¤ºå³å¯ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯ <code>pnpm + Typescript</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6571f5eb0ef249ac9199dc321c5d75c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5a-S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766534881&amp;x-signature=j0VVKybvWZ1Ba86kwjE6WbI1gS0%3D" alt="" loading="lazy"/></p>
<p>å…¶ä¸»è¦é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">my-vscode-extension/
â”œâ”€â”€ .vscode/            <span class="hljs-comment"># VS Code è°ƒè¯•é…ç½®</span>
â”‚   â”œâ”€â”€ launch.json
â”‚   â””â”€â”€ tasks.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ <span class="hljs-built_in">test</span>/           <span class="hljs-comment"># æµ‹è¯•æ–‡ä»¶</span>
â”‚   â””â”€â”€ extension.ts    <span class="hljs-comment"># æ’ä»¶ä¸»å…¥å£æ–‡ä»¶</span>
â”œâ”€â”€ .gitignore          <span class="hljs-comment"># git å¿½ç•¥æ–‡ä»¶</span>
â”œâ”€â”€ .npmrc              <span class="hljs-comment"># npm é…ç½®æ–‡ä»¶</span>
â”œâ”€â”€ .vscode-test.mjs    <span class="hljs-comment"># å•æµ‹é…ç½®æ–‡ä»¶</span>
â”œâ”€â”€ .vscodeignore       <span class="hljs-comment"># æ’ä»¶å‘å¸ƒå¿½ç•¥æ–‡ä»¶</span>
â”œâ”€â”€ package.json        <span class="hljs-comment"># é¡¹ç›®ä¾èµ–ç®¡ç†æ–‡ä»¶</span>
â”œâ”€â”€ tsconfig.json       <span class="hljs-comment"># TypeScript é…ç½®æ–‡ä»¶</span>
â”œâ”€â”€ eslint.config.mjs   <span class="hljs-comment"># Eslint é…ç½®æ–‡ä»¶</span>
â””â”€â”€ README.md
</code></pre>
<p>ä»‹ç»ä¸€ä¸‹ <code>package.json</code> ä¸­æä¾›çš„å‡ ä¸ªé‡è¦å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"vscode:prepublish"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pnpm run compile"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"compile"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsc -p ./"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"watch"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsc -watch -p ./"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"pretest"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pnpm run compile &amp;&amp; pnpm run lint"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eslint src"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"test"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vscode-test"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><code>npm run compile</code>ï¼šç¼–è¯‘ TypeScript ä»£ç ã€‚</li>
<li><code>npm run watch</code>ï¼šç›‘å¬ TypeScript æ–‡ä»¶å˜åŒ–å¹¶å®æ—¶ç¼–è¯‘ã€‚</li>
<li><code>npm run test</code>ï¼šè¿è¡Œå•å…ƒæµ‹è¯•ã€‚</li>
</ul>
<p>å¦å¤–æ˜¯ <code>package.json</code> ä¸­æä¾›çš„æ’ä»¶å‘½ä»¤ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"contributes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"commands"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"my-vscode-extension.helloWorld"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hello World"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åœ¨é»˜è®¤æä¾›çš„ <code>demo</code> ä¸­ï¼Œæ’ä»¶å‘½ä»¤åå­—å« <code>hello world</code>ã€‚</p>
<h2 data-id="heading-2">2ã€è°ƒè¯•æ’ä»¶</h2>
<p>åœ¨è°ƒè¯•æ’ä»¶å‰ï¼Œéœ€è¦å…ˆè¿è¡Œä¸‹ <code>npm run compile</code> ç¼–è¯‘ TypeScript ä»£ç ï¼Œç»ç¼–è¯‘åä¼šç”Ÿæˆ <code>out/</code> æ–‡ä»¶ï¼Œç„¶åä¾¿å¯ä»¥å¼€å§‹è°ƒè¯•äº†ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦å…ˆç¼–è¯‘å‘¢ï¼Ÿå› ä¸ºåœ¨ <code>package.json</code> ä¸­å®šä¹‰äº†æ’ä»¶è¿è¡Œçš„å…¥å£æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ <code>main</code> å­—æ®µï¼Œé»˜è®¤å€¼ä¸º <code>./out/extension.js</code>ï¼Œæ‰€ä»¥å¦‚æœä¸å…ˆç¼–è¯‘ç”Ÿæˆ <code>out/</code> æ–‡ä»¶æ˜¯ä¼šè¿è¡ŒæŠ¥é”™çš„ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./out/extension.js"</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æœ‰ä¸¤ç§å¯åŠ¨è°ƒè¯•çš„æ–¹å¼ï¼š</p>
<ol>
<li>æŒ‰å¿«æ·é”® <code>F5</code>ã€‚</li>
<li>ç‚¹å‡»ç¼–è¾‘å™¨å·¦ä¸‹æ–¹çš„ <code>Run Extensionï¼ˆæ’ä»¶åï¼‰</code>ã€‚</li>
</ol>
<p>å¯åŠ¨åï¼Œä¼šè‡ªåŠ¨æ‰“å¼€ä¸€ä¸ªæ–°çš„ VS Code çª—å£ï¼Œå¹¶å¯åŠ¨è°ƒè¯•æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯¥çª—å£ä¸­è°ƒè¯•æ’ä»¶ã€‚</p>
<p>å…ˆæŒ‰ <code>Ctrl/Command + Shift + P</code>ï¼Œè¾“å…¥ <code>hello word</code>ï¼Œä¼šå‘ç°æ‰¾ä¸åˆ°å‘½ä»¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b98cfcd4c5984c94aef3b4110dfd92b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5a-S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766534881&amp;x-signature=gCp%2Ft4IeRIKlioX6GqZVLg6km5Y%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæ˜¯å› ä¸ºæˆ‘ä»¬æœ¬åœ°å®‰è£…çš„ vscode ç‰ˆæœ¬ä¸ç¬¦åˆæ’ä»¶è¦æ±‚ï¼Œæˆ‘ä»¬åœ¨ <code>package.json</code> æ‰¾åˆ°å¦‚ä¸‹é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"engines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"vscode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^1.107.0"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç„¶åæˆ‘ä»¬å†æŸ¥çœ‹ä¸‹æœ¬æœºçš„ vscode ç‰ˆæœ¬ï¼Œ<code>Code -&gt; About VisualStdio Code</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/665dea952ca64a76b34400dceb7dbda2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5a-S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766534881&amp;x-signature=bWeHEXyFKUFY75b17DZd8HPyito%3D" alt="" loading="lazy"/></p>
<p>å‘ç°æˆ‘ä»¬æœ¬åœ°ç‰ˆæœ¬ä¸º <code>1.105.1</code>ï¼Œä¸æ»¡è¶³ <code>^1.107.0</code>ï¼Œäºæ˜¯æˆ‘ä»¬æŠŠ <code>engines.vscode</code> ä¿®æ”¹ä¸º <code>^1.105.0</code>ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"engines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"vscode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^1.105.0"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å†é€šè¿‡ <code>F5</code> æˆ–è€…å·¦ä¸‹è§’ <code>Run Extension</code> å¯åŠ¨è°ƒè¯•ï¼ŒæŒ‰ <code>Ctrl/Command + Shift + P</code>ï¼Œè¾“å…¥<code>hello world</code>ï¼Œå°±èƒ½çœ‹åˆ°å‘½ä»¤äº†ã€‚è¿™ä¸ª <code>hello world</code> å°±å¯¹åº”æˆ‘ä»¬ä¸Šé¢è¯´çš„ <code>package.json</code> æ–‡ä»¶ä¸­çš„ <code>contributes.commands.title</code> å­—æ®µã€‚</p>
<p>æˆåŠŸè¿è¡Œåï¼Œä¼šåœ¨ç¼–è¾‘å™¨å³ä¸‹è§’çœ‹åˆ°å¦‚ä¸‹æç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ac8da8ab49e415e8959fc7a3b63f2de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5a-S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766534881&amp;x-signature=VHfq2ZjmjWH0cx7MiVRnEEm3uKA%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªæç¤ºå°±æ˜¯å¯¹åº” <code>src/extension.ts</code> çš„å¦‚ä¸‹ä»£ç ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/145e2cfeeca54fac80964d058b5c5b1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5a-S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766534881&amp;x-signature=pN%2FYBYxTEGFTVOn1A0O8JzWUP0Q%3D" alt="" loading="lazy"/></p>
<p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ç¼–å†™æ’ä»¶çš„å…·ä½“åŠŸèƒ½äº†ã€‚</p>
<h2 data-id="heading-3">3ã€ç¼–å†™æ’ä»¶æ ¸å¿ƒé€»è¾‘</h2>
<p>æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªç®€å•çš„åŠŸèƒ½ï¼Œå¹³æ—¶æˆ‘ä»¬å†™ä»£ç æ—¶ï¼Œç»å¸¸ä¼šå†™ <code>console.log</code>ï¼Œå¦‚æœæ¯æ¬¡éƒ½å†™è¿™ä¸ªå¤ªéº»çƒ¦äº†ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å®ç°ä¸‹é¢çš„åŠŸèƒ½ï¼š</p>
<ol>
<li>é€šè¿‡å¿«æ·é”®ï¼Œå¯ä»¥å¿«é€Ÿç”Ÿæˆ <code>console.log</code> è¯­å¥ã€‚</li>
<li>å…‰æ ‡é€‰ä¸­å˜é‡å¹¶æŒ‰ä¸‹å¿«æ·é”®æ—¶ï¼Œèƒ½æŠŠå˜é‡åä¹Ÿæ˜¾ç¤ºå‡ºæ¥ã€‚</li>
</ol>
<h3 data-id="heading-4">3.1 ä¿®æ”¹ package.jsonï¼Œå®šä¹‰æ’ä»¶åå­—ã€æè¿°å’Œå¿«æ·é”®</h3>
<p>å®šä¹‰åå­— <code>name</code>ï¼Œæè¿° <code>description</code>ï¼Œå¿«æ·é”® <code>keybindings</code>ï¼Œé€šè¿‡ <code>ctrl/command+alt+l</code> å¯ä»¥è¿è¡Œæ’ä»¶ã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"log-util"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"displayName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"log-util"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"generate log statement"</span><span class="hljs-punctuation">,</span>
   <span class="hljs-attr">"contributes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"commands"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"log-util.logUtil"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"log util"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"keybindings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"log-util.logUtil"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ctrl+alt+l"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"mac"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cmd+alt+l"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"when"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"editorTextFocus"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-5">3.2 æ ¸å¿ƒåŠŸèƒ½ä»£ç </h3>
<p>ä¿®æ”¹ <code>src/extension.ts</code> æ–‡ä»¶ï¼Œå®ç°æ’ä»¶åŠŸèƒ½ã€‚</p>
<p>å…ˆå®ç°ç¬¬ä¸€æ­¥ï¼Œå¿«é€Ÿç”Ÿæˆ <code>console.log</code> è¯­å¥ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> vscode <span class="hljs-keyword">from</span> <span class="hljs-string">"vscode"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">activate</span>(<span class="hljs-params">context: vscode.ExtensionContext</span>) {
  <span class="hljs-keyword">const</span> disposable = vscode.<span class="hljs-property">commands</span>.<span class="hljs-title function_">registerCommand</span>(
    <span class="hljs-string">"log-util.logUtil"</span>,
    <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> editor = vscode.<span class="hljs-property">window</span>.<span class="hljs-property">activeTextEditor</span>;
      <span class="hljs-keyword">if</span> (!editor) {
        vscode.<span class="hljs-property">window</span>.<span class="hljs-title function_">showWarningMessage</span>(<span class="hljs-string">"æ²¡æœ‰æ‰“å¼€çš„ç¼–è¾‘å™¨"</span>);
        <span class="hljs-keyword">return</span>;
      }
      <span class="hljs-comment">// è·å–é…ç½®</span>
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">getConfig</span> = (<span class="hljs-params"/>) =&gt;
        vscode.<span class="hljs-property">workspace</span>.<span class="hljs-title function_">getConfiguration</span>(<span class="hljs-string">"consoleLogGenerator"</span>);
      <span class="hljs-keyword">const</span> config = <span class="hljs-title function_">getConfig</span>();
      <span class="hljs-keyword">const</span> logType = config.<span class="hljs-property">get</span>&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">"logType"</span>, <span class="hljs-string">"log"</span>);
      <span class="hljs-keyword">const</span> prefix = config.<span class="hljs-property">get</span>&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">"logPrefix"</span>, <span class="hljs-string">"ğŸš€ ~ "</span>);

      <span class="hljs-keyword">const</span> position = editor.<span class="hljs-property">selection</span>.<span class="hljs-property">active</span>;

      <span class="hljs-keyword">const</span> <span class="hljs-variable language_">document</span> = editor.<span class="hljs-property">document</span>;
      <span class="hljs-keyword">const</span> selection = editor.<span class="hljs-property">selection</span>;
      <span class="hljs-keyword">const</span> text = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getText</span>(selection);

      <span class="hljs-keyword">const</span> statement = <span class="hljs-string">`console.<span class="hljs-subst">${logType}</span>('<span class="hljs-subst">${prefix}</span>:', );`</span>;

      editor
        .<span class="hljs-title function_">edit</span>(<span class="hljs-function">(<span class="hljs-params">editBuilder</span>) =&gt;</span> {
          <span class="hljs-keyword">const</span> insertPosition = <span class="hljs-keyword">new</span> vscode.<span class="hljs-title class_">Position</span>(position.<span class="hljs-property">line</span>, position.<span class="hljs-property">character</span> + <span class="hljs-number">1</span>);
          editBuilder.<span class="hljs-title function_">insert</span>(insertPosition, statement);
        })
        .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">success</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (success) {
            <span class="hljs-comment">// è®¾ç½®å…‰æ ‡ä½ç½®</span>
            <span class="hljs-keyword">const</span> newPosition = <span class="hljs-keyword">new</span> vscode.<span class="hljs-title class_">Position</span>(position.<span class="hljs-property">line</span>, statement.<span class="hljs-property">length</span> + position.<span class="hljs-property">character</span> - <span class="hljs-number">2</span>);
            editor.<span class="hljs-property">selection</span> = <span class="hljs-keyword">new</span> vscode.<span class="hljs-title class_">Selection</span>(newPosition, newPosition);
          }
        });
    }
  );

  context.<span class="hljs-property">subscriptions</span>.<span class="hljs-title function_">push</span>(disposable);
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">deactivate</span>(<span class="hljs-params"/>) {}

</code></pre>
<p>ç„¶åå®ç°ç¬¬äºŒæ­¥ï¼Œå¢åŠ å¯¹å…‰æ ‡é€‰ä¸­å˜é‡çš„å¤„ç†ã€‚</p>
<pre><code class="hljs language-diff" lang="diff">		 // è·å–å˜é‡å
<span class="hljs-addition">+   let variableName = text.trim();</span>
<span class="hljs-deletion">-   const statement = `console.${logType}('${prefix}:', );`;</span>
<span class="hljs-addition">+   const statement = `console.${logType}('${prefix}${variableName ? ` â†’  ${variableName}` : ''}:', ${variableName});`;</span>
  
    editor.edit(editBuilder =&gt; {
<span class="hljs-deletion">-     const insertPosition = new vscode.Position(position.line, position.character + 1);</span>
<span class="hljs-addition">+     const insertPosition = new vscode.Position(position.line + (variableName ? 1 : 0), variableName ? 0 : position.character + 1);</span>
<span class="hljs-addition">+     if (variableName) {</span>
<span class="hljs-addition">+       editBuilder.insert(insertPosition, '\n');</span>
<span class="hljs-addition">+     }</span>
      editBuilder.insert(insertPosition, statement);
    }).then(success =&gt; {
        if (success) {
          // è®¾ç½®å…‰æ ‡ä½ç½®
<span class="hljs-deletion">-         const newPosition = new vscode.Position(position.line, statement.length + position.character - 2);</span>
<span class="hljs-addition">+         const newPosition = new vscode.Position(position.line + (variableName ? 1 : 0), variableName ? statement.length : statement.length + position.character - 2);</span>
          editor.selection = new vscode.Selection(newPosition, newPosition);
			}
		});
</code></pre>
<p>æµ‹è¯•æ’ä»¶åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸš€ ~  â†’  path:'</span>, path); <span class="hljs-comment">// å…‰æ ‡é€‰ä¸­ä¸Šä¸€è¡Œçš„ path å˜é‡ï¼ŒæŒ‰ ctrl/command+alt+l ç”Ÿæˆ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸš€ ~ :'</span>, ); <span class="hljs-comment">// åœ¨å½“å‰è¡ŒæŒ‰ ctrl/command+alt+l ç”Ÿæˆ</span>
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f0ff80370884bd7b277b9d33fa361da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5a-S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766534881&amp;x-signature=BL3NsZoOVJiaxzbf1g308uS3PF8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">4ã€å‘å¸ƒæ’ä»¶</h2>
<ol>
<li>
<p>è¿›å…¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.visualstudio.com%2F" target="_blank" title="https://marketplace.visualstudio.com/" ref="nofollow noopener noreferrer">è¿™ä¸ªç½‘ç«™</a>ï¼Œç‚¹å‡» <code>Sign in</code>ï¼Œå…ˆæ³¨å†Œä¸€ä¸ªå¼€å‘è€…è´¦å·ã€‚</p>
</li>
<li>
<p>ç‚¹å‡» <code>Public extensions</code>ï¼ŒæŒ‰ç…§æç¤ºä¸€æ­¥æ­¥å‘å¸ƒå³å¯ã€‚</p>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8cf7f44940e439899097cebd21e173f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5a-S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766534881&amp;x-signature=5L185gIJAA%2BOUS99N5qDEwx0ZO0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">å°ç»“</h2>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†å¦‚ä½•ç¼–å†™ä¸€ä¸ªç®€å•çš„ VSCode æ’ä»¶ï¼Œä»å¼€å‘åˆ°å‘å¸ƒå…¨æµç¨‹ï¼š</p>
<ol>
<li>å®‰è£… <code>yo</code> å’Œ <code>generator-code</code>ã€‚</li>
<li>è¿è¡Œ <code>yo code</code> å‘½ä»¤ç”Ÿæˆæ’ä»¶é¡¹ç›®ï¼Œè¿™é‡Œå¯ä»¥é€‰æ‹©æ’ä»¶çš„å¼€å‘è¯­è¨€ï¼Œå®šä¹‰æ’ä»¶çš„åç§°ã€æè¿°ç­‰ã€‚</li>
<li>ä¿®æ”¹ <code>package.json</code> æ–‡ä»¶ï¼Œå¯ä»¥ä¿®æ”¹æ’ä»¶çš„åç§°ã€æè¿°ã€å…¥å£æ–‡ä»¶ï¼Œå®šä¹‰æ’ä»¶çš„å¿«æ·é”®ã€‚å¹¶è¦æ³¨æ„è®¾ç½® <code>engines.vscode</code> å­—æ®µï¼ŒæŒ‡å®šæ’ä»¶æ”¯æŒçš„ VSCode ç‰ˆæœ¬ã€‚</li>
<li>åœ¨ <code>src/extension.ts</code> æ–‡ä»¶ä¸­ç¼–å†™æ’ä»¶é€»è¾‘ã€‚</li>
<li>è¿è¡Œ <code>npm run compile</code> ç¼–è¯‘æ’ä»¶ï¼Œæˆ–è€…è¿è¡Œ <code>npm run watch</code> ç›‘å¬æ–‡ä»¶å˜åŒ–å¹¶ç¼–è¯‘ã€‚</li>
<li>æŒ‰å¿«æ·é”® <code>F5</code>ï¼Œæˆ–è€…ç‚¹å‡»ç¼–è¾‘å™¨å·¦ä¸‹æ–¹çš„ <code>Run Extension</code> è¿›è¡Œæ’ä»¶è°ƒè¯•ã€‚</li>
<li>åœ¨è°ƒè¯•çš„æ–°çª—å£ä¸­ï¼Œä½¿ç”¨ <code>Ctrl/Command + Shift + P</code>ï¼Œè¾“å…¥é…ç½®çš„å‘½ä»¤ï¼Œæˆ–è€…æŒ‰é…ç½®çš„å¿«æ·é”®ï¼Œæµ‹è¯•æ’ä»¶åŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚</li>
<li>è¿è¡Œ <code>npm run test</code> æµ‹è¯•æ’ä»¶åŠŸèƒ½ã€‚ï¼ˆæœ¬æ–‡æœªæ¶‰åŠåˆ°å•å…ƒæµ‹è¯•ï¼‰</li>
<li>å‘å¸ƒæ’ä»¶ã€‚</li>
</ol>
<p>å¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot3.0æ€§èƒ½ä¼˜åŒ–ï¼šè¿™5ä¸ªå†·é—¨é…ç½®è®©æˆ‘èŠ‚çœäº†40%å†…å­˜å ç”¨]]></title>    <link>https://juejin.cn/post/7584286241488584744</link>    <guid>https://juejin.cn/post/7584286241488584744</guid>    <pubDate>2025-12-17T00:17:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584286241488584744" data-draft-id="7584319403858755619" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot3.0æ€§èƒ½ä¼˜åŒ–ï¼šè¿™5ä¸ªå†·é—¨é…ç½®è®©æˆ‘èŠ‚çœäº†40%å†…å­˜å ç”¨"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-17T00:17:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot3.0æ€§èƒ½ä¼˜åŒ–ï¼šè¿™5ä¸ªå†·é—¨é…ç½®è®©æˆ‘èŠ‚çœäº†40%å†…å­˜å ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:17:49.000Z" title="Wed Dec 17 2025 00:17:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>SpringBoot3.0æ€§èƒ½ä¼˜åŒ–ï¼šè¿™5ä¸ªå†·é—¨é…ç½®è®©æˆ‘èŠ‚çœäº†40%å†…å­˜å ç”¨</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨å¾®æœåŠ¡æ¶æ„ç››è¡Œçš„ä»Šå¤©ï¼ŒSpring Boot ä½œä¸º Java ç”Ÿæ€ä¸­æœ€æµè¡Œçš„å¼€å‘æ¡†æ¶ä¹‹ä¸€ï¼Œå…¶æ€§èƒ½è¡¨ç°ç›´æ¥å½±å“ç€ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œèµ„æºåˆ©ç”¨ç‡ã€‚å°½ç®¡ Spring Boot 3.0 åœ¨é»˜è®¤é…ç½®ä¸Šå·²ç»åšäº†å¤§é‡ä¼˜åŒ–ï¼Œä½†åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä»æœ‰ä¸å°‘å¼€å‘è€…å¿½ç•¥äº†æŸäº›â€œå†·é—¨â€é…ç½®é¡¹ï¼Œå¯¼è‡´å†…å­˜å ç”¨å±…é«˜ä¸ä¸‹ã€‚</p>
<p>æœ¬æ–‡å°†åˆ†äº«æˆ‘åœ¨ä¸€ä¸ªé«˜å¹¶å‘é¡¹ç›®ä¸­é€šè¿‡è°ƒæ•´ <strong>5 ä¸ªé²œä¸ºäººçŸ¥çš„ Spring Boot 3.0 é…ç½®é¡¹</strong>ï¼ŒæˆåŠŸå‡å°‘ <strong>40% å†…å­˜å ç”¨</strong>çš„ç»éªŒã€‚è¿™äº›ä¼˜åŒ–ä¸ä»…é€‚ç”¨äºæ–°é¡¹ç›®ï¼Œä¹Ÿèƒ½ä¸ºç°æœ‰ç³»ç»Ÿæä¾›æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. è°ƒæ•´ JVM åƒåœ¾å›æ”¶å™¨ï¼šä» Parallel GC åˆ‡æ¢åˆ° ZGC</h3>
<h4 data-id="heading-4">é—®é¢˜èƒŒæ™¯</h4>
<p>Spring Boot é»˜è®¤ä½¿ç”¨ Parallel GCï¼ˆå¹¶è¡Œåƒåœ¾å›æ”¶å™¨ï¼‰ï¼Œè™½ç„¶ååé‡é«˜ï¼Œä½†åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹å®¹æ˜“å¯¼è‡´è¾ƒé•¿çš„ STWï¼ˆStop-The-Worldï¼‰åœé¡¿å’Œè¾ƒé«˜çš„å†…å­˜å ç”¨ã€‚</p>
<h4 data-id="heading-5">ä¼˜åŒ–æ–¹æ¡ˆ</h4>
<p>åˆ‡æ¢åˆ° <strong>ZGCï¼ˆZ Garbage Collectorï¼‰</strong>ï¼Œè¿™æ˜¯ä¸€ç§ä½å»¶è¿Ÿã€å¯æ‰©å±•çš„åƒåœ¾å›æ”¶å™¨ï¼Œå°¤å…¶é€‚åˆå †å†…å­˜è¾ƒå¤§çš„åº”ç”¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># application.properties</span>
spring.jvm.gc.type=zgc
</code></pre>
<p>æˆ–è€…é€šè¿‡å¯åŠ¨å‚æ•°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">java -XX:+UseZGC -jar your-application.jar
</code></pre>
<h4 data-id="heading-6">æ•ˆæœéªŒè¯</h4>
<ul>
<li><strong>å†…å­˜å ç”¨ä¸‹é™</strong>ï¼šZGC çš„åˆ†ä»£å‹ç¼©ç‰¹æ€§å‡å°‘äº†å †å†…å­˜ç¢ç‰‡ï¼Œé™ä½äº†æ•´ä½“å ç”¨ã€‚</li>
<li><strong>å»¶è¿Ÿé™ä½</strong>ï¼šSTW æ—¶é—´ä»åŸæ¥çš„ 200ms+ é™è‡³ &lt;1msã€‚</li>
</ul>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šZGC éœ€è¦ JDK 17+ï¼Œä¸”å¯¹ Windows/macOS çš„æ”¯æŒè¾ƒå¼±ï¼Œå»ºè®®åœ¨ Linux ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">2. ç¦ç”¨ä¸å¿…è¦çš„ Actuator Endpoints</h3>
<h4 data-id="heading-8">é—®é¢˜èƒŒæ™¯</h4>
<p>Spring Boot Actuator æ˜¯ç›‘æ§å’Œç®¡ç†åº”ç”¨çš„åˆ©å™¨ï¼Œä½†é»˜è®¤å¯ç”¨çš„ç«¯ç‚¹ï¼ˆå¦‚ <code>heapdump</code>ã€<code>env</code>ï¼‰ä¼šå ç”¨é¢å¤–å†…å­˜ï¼Œå°¤å…¶æ˜¯ <code>heapdump</code> åœ¨è§¦å‘æ—¶å¯èƒ½å¯¼è‡´ç¬æ—¶ OOMã€‚</p>
<h4 data-id="heading-9">ä¼˜åŒ–æ–¹æ¡ˆ</h4>
<p>ä»…å¯ç”¨å¿…è¦çš„ç«¯ç‚¹ï¼š</p>
<pre><code class="hljs language-properties" lang="properties"># application.properties
management.endpoints.web.exposure.include=health,metrics,info
management.endpoint.health.probes.enabled=true
management.endpoint.heapdump.enabled=false
</code></pre>
<h4 data-id="heading-10">æ•ˆæœéªŒè¯</h4>
<ul>
<li><strong>å†…å­˜èŠ‚çœ</strong>ï¼šç¦ç”¨ <code>heapdump</code> åå‡å°‘çº¦ <strong>50MB</strong> å¸¸é©»å†…å­˜ã€‚</li>
<li><strong>å®‰å…¨æ€§æå‡</strong>ï¼šé¿å…æ•æ„Ÿä¿¡æ¯é€šè¿‡ <code>/actuator/env</code>æ³„éœ²ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-11">3. Spring MVC/WebFluxï¼šä¼˜åŒ–é™æ€èµ„æºå¤„ç†ç­–ç•¥</h3>
<h4 data-id="heading-12">é—®é¢˜èƒŒæ™¯</h4>
<p>Spring Boot WebFlux/MVCä¼šç¼“å­˜é™æ€èµ„æºï¼ˆå¦‚JS/CSSï¼‰çš„è§£æç»“æœä»¥æé«˜æ€§èƒ½,ä½†è¿™å¯¹äºçº¯APIæœåŠ¡æ˜¯å¤šä½™çš„ã€‚</p>
<p>####ä¼˜åŒ–æ–¹æ¡ˆ<br/>
é’ˆå¯¹API-onlyæœåŠ¡,å®Œå…¨å…³é—­é™æ€èµ„æºå¤„ç†:</p>
<pre><code class="hljs language-properties" lang="properties"># application.properties 
spring.web.resources.add-mappings=false

# WebFluxé¢å¤–é…ç½®(å¦‚æœä½¿ç”¨)
spring.webflux.static-path-pattern=/nonexistent-path/
</code></pre>
<p>####æ•ˆæœéªŒè¯</p>
<ul>
<li><strong>å¯åŠ¨é€Ÿåº¦æå‡</strong>:å‡å°‘çº¦20%çš„å¯åŠ¨æ—¶é—´(å®æµ‹ä»4sâ†’3.2s)</li>
<li><strong>å¸¸é©»å†…å­˜ä¸‹é™</strong>:èŠ‚çœ30-50MB Metaspaceå ç”¨</li>
</ul>
<hr/>
<p>###4. JPA/HibernateäºŒçº§ç¼“å­˜è°ƒä¼˜</p>
<p>####é—®é¢˜èƒŒæ™¯<br/>
HibernateäºŒçº§ç¼“å­˜é»˜è®¤ä½¿ç”¨EHCache,ä½†å…¶å †å¤–å†…å­˜ç®¡ç†è¾ƒå·®,å®¹æ˜“é€ æˆNative Memoryæ³„æ¼ã€‚</p>
<p>####ä¼˜åŒ–æ–¹æ¡ˆ<br/>
æ”¹ç”¨Caffeineä½œä¸ºäºŒçº§ç¼“å­˜å®ç°:</p>
<pre><code class="hljs language-properties" lang="properties"># application.properties
spring.jpa.properties.hibernate.cache.region.factory_class=org.hibernate.cache.jcache.JCacheRegionFactory
spring.jpa.properties.javax.persistence.sharedCache.mode=ENABLE_SELECTIVE

# pom.xmléœ€æ·»åŠ ä¾èµ–
&lt;dependency&gt;
    &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;
    &lt;artifactId&gt;jcache&lt;/artifactId&gt;
    &lt;version&gt;3.1.8&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>åŒæ—¶é…ç½®Caffeineç¼“å­˜ç­–ç•¥:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
 <span class="hljs-attr">cache:</span>
   <span class="hljs-attr">caffeine:</span>
     <span class="hljs-attr">spec:</span> <span class="hljs-string">maximumSize=5000,expireAfterWrite=30m</span>
</code></pre>
<p>####æ•ˆæœéªŒè¯</p>
<ul>
<li><strong>GCå‹åŠ›é™ä½</strong>:ç›¸æ¯”EHCacheå‡å°‘70%çš„GCæ¬¡æ•°(YMMV)</li>
<li><strong>æŸ¥è¯¢æ€§èƒ½æå‡</strong>:é«˜é¢‘æŸ¥è¯¢å“åº”æ—¶é—´ç¼©çŸ­15%</li>
</ul>
<hr/>
<p>###5.Tomcat/Undertowçº¿ç¨‹æ¨¡å‹ä¼˜åŒ–</p>
<p>####é—®é¢˜èƒŒæ™¯<br/>
SpringBooté»˜è®¤ä½¿ç”¨Tomcatä¸”å·¥ä½œçº¿ç¨‹æ•°=200,è¿™å¯¹äºIOå¯†é›†å‹æœåŠ¡æ˜¯ä¸¥é‡æµªè´¹ã€‚</p>
<p>####ä¼˜åŒ–æ–¹æ¡ˆ<br/>
åˆ‡æ¢åˆ°Undertowå¹¶ç²¾ç»†åŒ–é…ç½®:</p>
<pre><code class="hljs language-properties" lang="properties"># application.properties
server.undertow.io-threads=4      # CPUæ ¸å¿ƒæ•°Ã—1~2 
server.undertow.worker-threads=20 # CPUæ ¸å¿ƒæ•°Ã—5~10 
server.compression.enabled=true   #å¯ç”¨å“åº”å‹ç¼©é™ä½ç½‘ç»œå¼€é”€

# Mavenä¾èµ–æ’é™¤Tomcat 
&lt;exclusions&gt;
    &lt;exclusion&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;
    &lt;/exclusion&gt;
&lt;/exclusions&gt;

&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;
&lt;/dependency&gt; 
</code></pre>
<p>####æ•ˆæœéªŒè¯</p>
<ul>
<li><strong>å†…å­˜ä¸‹é™æ˜¾è‘—</strong>:ç›¸æ¯”TomcatèŠ‚çœ100MB+å†…å­˜(ç›¸åŒå¹¶å‘é‡ä¸‹)</li>
<li><strong>ååé‡æå‡</strong>:åœ¨IOå¯†é›†å‹åœºæ™¯QPSæé«˜18%</li>
</ul>
<hr/>
<p>##æ€»ç»“</p>
<p>é€šè¿‡ä¸Šè¿°5ä¸ªæ–¹å‘çš„ä¼˜åŒ–ï¼š</p>
<ol>
<li>ZGCæ›¿ä»£Parallel GC â†’é™ä½å»¶è¿Ÿ&amp;å†…å­˜ç¢ç‰‡<br/>
2.ç²¾ç®€Actuatorç«¯ç‚¹ â†’æ¶ˆé™¤ç›‘æ§ç»„ä»¶å†—ä½™æ¶ˆè€—<br/>
3.å…³é—­é™æ€èµ„æºå¤„ç† â†’ä¸“ç²¾APIæœåŠ¡åœºæ™¯<br/>
4.Caffeineæ›¿æ¢EHCache â†’é«˜æ•ˆç¼“å­˜ç®¡ç†<br/>
5.Undertowçº¿ç¨‹è°ƒä¼˜ â†’åŒ¹é…å®é™…å·¥ä½œè´Ÿè½½</li>
</ol>
<p>æœ€ç»ˆæˆ‘ä»¬çš„è®¢å•æœåŠ¡åœ¨åŒç­‰æµé‡ä¸‹ï¼š
â–¸å †å†…å­˜å ç”¨ä»2.1GBâ†’1.3GB(-38%)<br/>
â–¸Full GCé¢‘ç‡ä»æ¯å¤©50+æ¬¡â†’å®Œå…¨æ¶ˆå¤±</p>
<p>è¿™äº›ä¼˜åŒ–è¯æ˜ï¼šSpringBootçš„é»˜è®¤é…ç½®å¹¶éæ”¾ä¹‹å››æµ·è€Œçš†å‡†ã€‚æ ¹æ®å®é™…ä¸šåŠ¡ç‰¹ç‚¹è¿›è¡Œé’ˆå¯¹æ€§è°ƒå‚,å¾€å¾€èƒ½æ”¶è·æ„æƒ³ä¸åˆ°çš„æ•ˆæœã€‚å»ºè®®å¼€å‘è€…åœ¨æ€§èƒ½æµ‹è¯•é˜¶æ®µç”¨JProfilerç­‰å·¥å…·æŒç»­è§‚æµ‹,æ‰¾åˆ°æœ€é€‚åˆè‡ªå·±åº”ç”¨çš„é»„é‡‘é…ç½®ç‚¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PHP å€¼å¯¹è±¡å®æˆ˜æŒ‡å—ï¼šé¿å…åŸå§‹ç±»å‹åæ‰§]]></title>    <link>https://juejin.cn/post/7584353612500697129</link>    <guid>https://juejin.cn/post/7584353612500697129</guid>    <pubDate>2025-12-17T00:24:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584353612500697129" data-draft-id="7584353612500680745" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PHP å€¼å¯¹è±¡å®æˆ˜æŒ‡å—ï¼šé¿å…åŸå§‹ç±»å‹åæ‰§"/> <meta itemprop="keywords" content="åç«¯,PHP"/> <meta itemprop="datePublished" content="2025-12-17T00:24:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PHP å€¼å¯¹è±¡å®æˆ˜æŒ‡å—ï¼šé¿å…åŸå§‹ç±»å‹åæ‰§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:24:01.000Z" title="Wed Dec 17 2025 00:24:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">PHP å€¼å¯¹è±¡å®æˆ˜æŒ‡å—ï¼šé¿å…åŸå§‹ç±»å‹åæ‰§</h2>
<p>ä¸Šä¸€ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘ä»¬èŠäº†<a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2025-12%2Fprimitive-obsession-in-php" target="_blank" title="https://catchadmin.com/post/2025-12/primitive-obsession-in-php" ref="nofollow noopener noreferrer">åŸå§‹ç±»å‹åæ‰§ï¼ˆPrimitive Obsessionï¼‰</a>åœ¨ PHP é‡Œä¸ºä»€ä¹ˆè¿™ä¹ˆå¸¸è§ï¼šé‚®ç®±ã€é‡‘é¢ã€æ—¥æœŸã€IDâ€¦â€¦ç»Ÿç»Ÿç”¨ string/int/float/array ä¼ æ¥ä¼ å»ã€‚é¢†åŸŸå«ä¹‰è¢«æŠ¹å¹³ï¼Œæ ¡éªŒé€»è¾‘æ•£è½åœ¨å„å¤„ï¼Œä»£ç è¶Šå†™è¶Šéš¾æ”¹ã€‚</p>
<p>è¿™ä¸€ç¯‡æˆ‘ä»¬ç»§ç»­å¾€ä¸‹èµ°ï¼šå€¼å¯¹è±¡ï¼ˆValue Objectï¼‰ä¸ä»…èƒ½è®©ä»£ç æ›´æ¸…æ™°ï¼Œè¿˜èƒ½è®©åä½œã€æµ‹è¯•å’Œåç»­æ¼”è¿›éƒ½æ›´çœå¿ƒã€‚ä¸ç®¡ä½ ç”¨çš„æ˜¯ Laravelã€Symfony è¿˜æ˜¯åˆ«çš„æ¡†æ¶ï¼Œåªè¦é¡¹ç›®é‡Œæœ‰æ˜ç¡®çš„é¢†åŸŸæ¦‚å¿µï¼Œå€¼å¯¹è±¡éƒ½èƒ½æ´¾ä¸Šç”¨åœºã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2025-12%2Favoiding-primitive-obsession-in-php-value-objects" target="_blank" title="https://catchadmin.com/post/2025-12/avoiding-primitive-obsession-in-php-value-objects" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥ PHP å€¼å¯¹è±¡å®æˆ˜æŒ‡å—ï¼šé¿å…åŸå§‹ç±»å‹åæ‰§</a></p>
<h3 data-id="heading-1">1. é‡å¤å‡ºç°çš„æ¨¡å¼ï¼šä¸åªæ˜¯ä»£ç å‘³é“</h3>
<p>åœ¨ PHP é¡¹ç›®é‡Œï¼ŒæŸäº›è§„åˆ™ä¼šåå¤å‡ºç°ã€‚æ—¥æœŸå°±æ˜¯å…¸å‹ä¾‹å­ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">registerEvent</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$eventDate</span>, <span class="hljs-keyword">string</span> <span class="hljs-variable">$timeZone</span></span>): <span class="hljs-title">void</span>
</span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">preg_match</span>(<span class="hljs-string">'/^\d{4}-\d{2}-\d{2}$/'</span>, <span class="hljs-variable">$eventDate</span>)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Invalid date format.'</span>);
    }
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">in_array</span>(<span class="hljs-variable">$timeZone</span>, <span class="hljs-title class_">DateTimeZone</span>::<span class="hljs-title function_ invoke__">listIdentifiers</span>())) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Invalid time zone.'</span>);
    }
    <span class="hljs-comment">// More logic here...</span>
}
</code></pre>
<p>è¿™é‡Œçš„æ—¥æœŸå’Œæ—¶åŒºéƒ½ç”¨ string è¡¨ç¤ºã€‚é—®é¢˜åœ¨äºï¼šä¸€æ—¦æ—¥æœŸæ ¼å¼è¦æ”¹ã€æˆ–è€…æ—¶åŒºè§„åˆ™æœ‰å˜åŒ–ï¼Œä½ å°±ä¼šå¼€å§‹åœ¨å„ä¸ªè§’è½å¤åˆ¶ç²˜è´´åŒæ ·çš„éªŒè¯é€»è¾‘â€”â€”æ¼ä¸€å¤„å°±å‡ºäº‹æ•…ã€‚</p>
<h3 data-id="heading-2">2. å€¼å¯¹è±¡ç™»åœºï¼šDate å’Œ TimeZone</h3>
<p>ä¸å…¶åœ¨æ¯ä¸ªå…¥å£éƒ½æ‰‹å†™æ ¡éªŒï¼Œä¸å¦‚æŠŠâ€œæ—¥æœŸâ€â€œæ—¶åŒºâ€åšæˆå€¼å¯¹è±¡ï¼Œè®©å®ƒä»¬è‡ªå·±ä¿è¯åˆæ³•æ€§ã€‚</p>
<h4 data-id="heading-3">2.1 Date å€¼å¯¹è±¡</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Date</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$value</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$date</span></span>)
    </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">preg_match</span>(<span class="hljs-string">'/^\d{4}-\d{2}-\d{2}$/'</span>, <span class="hljs-variable">$date</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Invalid date format.'</span>);
        }
        <span class="hljs-variable language_">$this</span>-&gt;value = <span class="hljs-variable">$date</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fromString</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$date</span></span>): <span class="hljs-title">self</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">self</span>(<span class="hljs-variable">$date</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">value</span>(<span class="hljs-params"/>): <span class="hljs-title">string</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;value;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__toString</span>(<span class="hljs-params"/>): <span class="hljs-title">string</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;value;
    }
}
</code></pre>
<h4 data-id="heading-4">2.2 TimeZone å€¼å¯¹è±¡</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TimeZone</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$value</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$timeZone</span></span>)
    </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_ invoke__">in_array</span>(<span class="hljs-variable">$timeZone</span>, <span class="hljs-title class_">DateTimeZone</span>::<span class="hljs-title function_ invoke__">listIdentifiers</span>())) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">InvalidArgumentException</span>(<span class="hljs-string">'Invalid time zone.'</span>);
        }
        <span class="hljs-variable language_">$this</span>-&gt;value = <span class="hljs-variable">$timeZone</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fromString</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$timeZone</span></span>): <span class="hljs-title">self</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">self</span>(<span class="hljs-variable">$timeZone</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">value</span>(<span class="hljs-params"/>): <span class="hljs-title">string</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;value;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__toString</span>(<span class="hljs-params"/>): <span class="hljs-title">string</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;value;
    }
}
</code></pre>
<h4 data-id="heading-5">2.3 åœ¨ä¸šåŠ¡é‡Œæ€ä¹ˆç”¨</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">registerEvent</span>(<span class="hljs-params">Date <span class="hljs-variable">$eventDate</span>, TimeZone <span class="hljs-variable">$timeZone</span></span>): <span class="hljs-title">void</span>
</span>{
    <span class="hljs-comment">// No need for repetitive validation</span>
    <span class="hljs-comment">// Logic continues...</span>
}
</code></pre>
<p>å‚æ•°ä¸€çœ¼å°±èƒ½çœ‹æ‡‚ï¼Œè€Œä¸”éªŒè¯é€»è¾‘åªå­˜åœ¨ä¸€ä»½ï¼šåœ¨å€¼å¯¹è±¡é‡Œã€‚</p>
<h3 data-id="heading-6">3. ç»™å€¼å¯¹è±¡åŠ ä¸Šè¡Œä¸º</h3>
<p>å€¼å¯¹è±¡ä¸åªæ˜¯â€œæ›´å¼ºçš„ç±»å‹â€ã€‚å®ƒè¿˜èƒ½æ‰¿è½½å’Œè¿™ä¸ªæ¦‚å¿µç´§å¯†ç›¸å…³çš„è¡Œä¸ºã€‚</p>
<p>æ¯”å¦‚ä½ éœ€è¦åˆ¤æ–­æ´»åŠ¨æ—¥æœŸæ˜¯å¦åœ¨æœªæ¥ï¼Œå¯ä»¥æŠŠé€»è¾‘æ”¾è¿› Dateï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Date</span>
</span>{
    <span class="hljs-comment">// ..</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isInTheFuture</span>(<span class="hljs-params"/>): <span class="hljs-title">bool</span>
    </span>{
        <span class="hljs-variable">$now</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DateTime</span>();
        <span class="hljs-variable">$eventDate</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DateTime</span>(<span class="hljs-variable language_">$this</span>-&gt;value);
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$eventDate</span> &gt; <span class="hljs-variable">$now</span>;
    }
}
</code></pre>
<p>è¿™æ ·å°±ä¸ç”¨åœ¨æ¯ä¸ªç”¨åˆ°æ—¥æœŸçš„åœ°æ–¹éƒ½é‡å¤å†™ä¸€éæ¯”è¾ƒé€»è¾‘ï¼Œä¹Ÿæ›´ç¬¦åˆé¢†åŸŸè¡¨è¾¾ï¼šåˆ¤æ–­æœªæ¥ä¸å¦ï¼Œæœ¬æ¥å°±æ˜¯â€œæ—¥æœŸâ€è¿™ä¸ªæ¦‚å¿µçš„ä¸€éƒ¨åˆ†ã€‚</p>
<h3 data-id="heading-7">4. é‡‘é¢ï¼šç”¨å€¼å¯¹è±¡å®ˆä½ç²¾åº¦</h3>
<p>å¤„ç†é‡‘é¢æ˜¯åŸå§‹ç±»å‹åæ‰§æœ€å®¹æ˜“è¸©å‘çš„åœ°æ–¹ä¹‹ä¸€ã€‚ç”¨ float è¡¨ç¤ºé’±ï¼Œèˆå…¥è¯¯å·®è¿Ÿæ—©ä¼šæ‰¾ä¸Šé—¨ï¼›å†åŠ ä¸Šå¸ç§ã€æ±‡ç‡ï¼Œå¤æ‚åº¦ä¼šè¿…é€Ÿæ‹‰é«˜ã€‚</p>
<p>æŠŠé‡‘é¢åšæˆå€¼å¯¹è±¡ï¼Œé€šå¸¸çš„åšæ³•æ˜¯ï¼š</p>
<ul>
<li>ç”¨æœ€å°å•ä½ï¼ˆæ¯”å¦‚åˆ†ï¼‰æŠŠé‡‘é¢å­˜æˆ int</li>
<li>å¸ç§ä½œä¸ºå­—æ®µå’Œé‡‘é¢ç»‘å®šåœ¨ä¸€èµ·</li>
</ul>
<p>ä¸‹é¢è¿™ä¸ª Money ç¤ºä¾‹è¿›ä¸€æ­¥åŠ ä¸Šäº†æ¢æ±‡çš„è¡Œä¸ºï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Money</span>
</span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-variable">$amount</span>; <span class="hljs-comment">// Stored in minor units (e.g., cents)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$currency</span>;

    <span class="hljs-comment">// Constructor and other methods...</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">convertToCurrency</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> <span class="hljs-variable">$targetCurrency</span>, <span class="hljs-keyword">float</span> <span class="hljs-variable">$exchangeRate</span></span>): <span class="hljs-title">self</span>
    </span>{
        <span class="hljs-variable">$convertedAmount</span> = (<span class="hljs-keyword">int</span>) <span class="hljs-title function_ invoke__">round</span>(<span class="hljs-variable">$this</span>-&gt;amount * <span class="hljs-variable">$exchangeRate</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">self</span>(<span class="hljs-variable">$convertedAmount</span>, <span class="hljs-variable">$targetCurrency</span>);
    }
}
</code></pre>
<p>æŠŠè§„åˆ™å…³åœ¨ Money é‡Œï¼Œä½ çš„ä¸šåŠ¡ä»£ç å°±ä¸ç”¨åˆ°å¤„å…³å¿ƒâ€œè¿™é‡Œæ˜¯åˆ†è¿˜æ˜¯å…ƒâ€â€œå¸ç§å¯¹ä¸å¯¹â€â€œèˆå…¥æ€ä¹ˆåšâ€ã€‚</p>
<h3 data-id="heading-8">5. åœ¨æ¡†æ¶é‡Œè½åœ°</h3>
<p>ä¸€æ—¦ä½ å¼€å§‹ç”¨å€¼å¯¹è±¡ï¼ŒLaravel / Symfony åè€Œä¼šæ›´å¥½ç”¨ï¼šä½ èƒ½æŠŠâ€œåŸå§‹æ•°æ® â†” å€¼å¯¹è±¡â€çš„è½¬æ¢æ”¾åˆ°æ¡†æ¶æ‰©å±•ç‚¹é‡Œï¼Œä¸šåŠ¡å±‚æ‹¿åˆ°çš„å°±éƒ½æ˜¯é¢†åŸŸç±»å‹ã€‚</p>
<h4 data-id="heading-9">5.1 Laravel ç¤ºä¾‹</h4>
<p>Laravel é‡Œå¯ä»¥ç”¨è‡ªå®šä¹‰ castï¼ŒæŠŠæ•°æ®åº“å­—æ®µè‡ªåŠ¨è½¬æˆå€¼å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Eloquent</span>\<span class="hljs-title">CastsAttributes</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MoneyCast</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">CastsAttributes</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params"><span class="hljs-variable">$model</span>, <span class="hljs-keyword">string</span> <span class="hljs-variable">$key</span>, <span class="hljs-variable">$value</span>, <span class="hljs-keyword">array</span> <span class="hljs-variable">$attributes</span></span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Money</span>::<span class="hljs-title function_ invoke__">fromInt</span>(<span class="hljs-variable">$value</span>, <span class="hljs-string">'USD'</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set</span>(<span class="hljs-params"><span class="hljs-variable">$model</span>, <span class="hljs-keyword">string</span> <span class="hljs-variable">$key</span>, <span class="hljs-variable">$value</span>, <span class="hljs-keyword">array</span> <span class="hljs-variable">$attributes</span></span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$value</span> <span class="hljs-keyword">instanceof</span> Money ? <span class="hljs-variable">$value</span>-&gt;<span class="hljs-title function_ invoke__">amount</span>() : <span class="hljs-variable">$value</span>;
    }
}
</code></pre>
<p>æŠŠè¿™ä¸ª cast æŒ‚åˆ° Eloquent æ¨¡å‹ä¸Šåï¼Œå–å‡ºæ¥çš„å°±æ˜¯ Moneyï¼Œè€Œä¸æ˜¯è£¸å€¼ï¼Œä»£ç ä¼šå¹²å‡€å¾ˆå¤šã€‚</p>
<h4 data-id="heading-10">5.2 Symfony ç¤ºä¾‹</h4>
<p>Symfony é‡Œå¯ä»¥ç”¨ Doctrine çš„ embeddables æˆ–è‡ªå®šä¹‰ DBAL typeï¼ŒæŠŠ Money / EmailAddress è¿™ç±»å¤æ‚ç±»å‹æ˜ å°„åˆ°æ•°æ®åº“ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MoneyType</span> <span class="hljs-keyword">extends</span> \<span class="hljs-title">Doctrine</span>\<span class="hljs-title">DBAL</span>\<span class="hljs-title">Types</span>\<span class="hljs-title">Type</span>
</span>{
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MONEY</span> = <span class="hljs-string">'money'</span>; <span class="hljs-comment">// Custom type name</span>

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">convertToPHPValue</span>(<span class="hljs-params"><span class="hljs-variable">$value</span>, \Doctrine\DBAL\Platforms\AbstractPlatform <span class="hljs-variable">$platform</span></span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Money</span>::<span class="hljs-title function_ invoke__">fromInt</span>(<span class="hljs-variable">$value</span>, <span class="hljs-string">'USD'</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">convertToDatabaseValue</span>(<span class="hljs-params"><span class="hljs-variable">$value</span>, \Doctrine\DBAL\Platforms\AbstractPlatform <span class="hljs-variable">$platform</span></span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$value</span> <span class="hljs-keyword">instanceof</span> Money ? <span class="hljs-variable">$value</span>-&gt;<span class="hljs-title function_ invoke__">amount</span>() : <span class="hljs-variable">$value</span>;
    }
}
</code></pre>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼šä»æ•°æ®åº“åˆ°é¢†åŸŸå±‚ï¼Œä½ å§‹ç»ˆåœ¨ç”¨â€œé¢†åŸŸç±»å‹â€ï¼Œè€Œä¸æ˜¯ä¸€å †æ— æ„ä¹‰çš„ string/int/floatã€‚</p>
<h3 data-id="heading-11">6. æ€ä¹ˆè¿ç§»ç°æœ‰ä»£ç åº“</h3>
<p>å¼•å…¥å€¼å¯¹è±¡ä¸éœ€è¦æ¨å€’é‡æ¥ã€‚æœ€ç¨³å¦¥çš„æ–¹å¼æ˜¯æ¸è¿›å¼è¿ç§»ï¼š</p>
<ul>
<li>å…ˆæ”¹è¾¹ç•Œå±‚ï¼šåœ¨ HTTP controllerã€è¡¨å•è¯·æ±‚ã€CLI å‘½ä»¤é‡Œï¼ŒæŠŠè¾“å…¥çš„åŸå§‹å€¼è§£ææˆå€¼å¯¹è±¡</li>
<li>å†æ”¹æœåŠ¡å±‚ï¼šé€æ­¥æŠŠ service æ–¹æ³•ç­¾åä»åŸå§‹ç±»å‹æ¢æˆå€¼å¯¹è±¡</li>
<li>é…åˆé™æ€åˆ†æï¼šç”¨ PHPStan æˆ– Psalm å¼ºåŒ–ç±»å‹çº¦æŸï¼Œå°½æ—©å‘ç°ä¸åŒ¹é…</li>
</ul>
<h3 data-id="heading-12">7. ç»“è¯­ï¼šè®©é¢†åŸŸè‡ªå·±è¯´è¯</h3>
<p>å€¼å¯¹è±¡çš„æ„ä¹‰ï¼Œä¸åœ¨äºâ€œOO æ›´çº¯ç²¹â€ï¼Œè€Œåœ¨äºè®©é¢†åŸŸæ¦‚å¿µå˜å¾—æ¸…æ¥šã€å¯çº¦æŸã€å¯å¤ç”¨ã€‚</p>
<p>ä¸‹æ¬¡ä½ å‡†å¤‡åœ¨æ–¹æ³•é‡Œä¼ ä¸€å † string/int çš„æ—¶å€™ï¼Œä¸å¦¨åœä¸€ä¸‹é—®è‡ªå·±ï¼š</p>
<p>â€œè¿™çœŸçš„æ˜¯ä¸€ä¸ªç®€å•å€¼å—ï¼Ÿè¿˜æ˜¯ä¸€ä¸ªåº”è¯¥è¢«å‘½åã€è¢«çº¦æŸçš„é¢†åŸŸæ¦‚å¿µï¼Ÿâ€</p>
<p>åšå‡ºè¿™ä¸ªå°æ”¹å˜ï¼ŒçŸ­æœŸèƒ½å‡å°‘é‡å¤æ ¡éªŒå’Œéšæ€§ bugï¼›é•¿æœŸåˆ™ä¼šè®©æ•´ä¸ªä»£ç åº“æ›´ç¨³ã€æ›´å¥½æ”¹â€”â€”ä¹Ÿæ›´ç…§é¡¾æœªæ¥ç»´æŠ¤å®ƒçš„ä½ ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰]]></title>    <link>https://juejin.cn/post/7584320417307197491</link>    <guid>https://juejin.cn/post/7584320417307197491</guid>    <pubDate>2025-12-17T00:45:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584320417307197491" data-draft-id="7584279552434094118" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,Logstash"/> <meta itemprop="datePublished" content="2025-12-17T00:45:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:45:29.000Z" title="Wed Dec 17 2025 00:45:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šä» MySQL å¢é‡åŒæ­¥ç»“æ„åŒ–æ•°æ®åˆ° Logstashï¼›åŒæ—¶é›†ä¸­é‡‡é›† Linux/è®¾å¤‡ Syslog æ—¥å¿—å¹¶è§£æã€‚</li>
<li>ç»“è®ºï¼šJDBC é€‚åˆâ€œæŒ‰è¡¨/æŒ‰ SQL æ‹‰å–+å¢é‡ä½ç‚¹â€ï¼›Syslog é€‚åˆâ€œç½‘ç»œæ—¥å¿—æµå…¥+Grok/Date è§£æâ€ï¼Œä¸¤è€…ç“¶é¢ˆåˆ†åˆ«åœ¨ DB/æŸ¥è¯¢ä¸ç½‘ç»œ/è§£æã€‚</li>
<li>äº§å‡ºï¼šä¸¤å¥—å¯è·‘é€šçš„ Logstash 7.3.0 é…ç½®ï¼ˆjdbc.confã€syslog.confï¼‰+ å¢é‡è¿½è¸ªä¸ rsyslog è½¬å‘é“¾è·¯ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83442750aee4466da32a35ba9b2a5071~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=0ezZp9WLTCSILVQ3YKjS709bet0%3D" alt="å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰" loading="lazy"/></p>
<h2 data-id="heading-1">ç‰ˆæœ¬çŸ©é˜µ</h2>





























<table><thead><tr><th>ç»„ä»¶/å·¥å…·</th><th>é…ç½®è¯´æ˜</th></tr></thead><tbody><tr><td>Logstash 7.3.0</td><td>é…ç½®è·¯å¾„ä¸å‘½ä»¤å‡ä»¥ <code>/opt/servers/logstash-7.3.0</code> ä¸ºåŸºå‡†ï¼›<code>-t</code> æ ¡éªŒé€šè¿‡æˆªå›¾å·²ä½“ç°</td></tr><tr><td>MySQL Connector/J</td><td>ä½¿ç”¨ <code>jdbc.conf</code> é…ç½®ï¼Œé©±åŠ¨ç‰ˆæœ¬ä¸º 8.0.19ï¼›MySQL 8 æ¨èä½¿ç”¨ <code>com.mysql.cj.jdbc.Driver</code>ï¼ˆå…¼å®¹æ€§ä¸æ—¶åŒº/SSL å‚æ•°æ›´æ˜ç¡®ï¼‰</td></tr><tr><td>MySQLï¼ˆç¤ºä¾‹è¡¨ userï¼‰</td><td>é€šè¿‡ <code>tracking_column =&gt; "id" + id &gt; :sql_last_value</code> å®ç°å¢é‡ï¼›é€‚é…è‡ªå¢/å•è°ƒé€’å¢åˆ—</td></tr><tr><td>rsyslogï¼ˆLinuxï¼‰</td><td>åœ¨ <code>/etc/rsyslog.conf</code> ä¸­å¢åŠ  <code>*.* @@host:port</code> å®ç° TCP è½¬å‘ï¼›éœ€æ‰§è¡Œ <code>systemctl restart rsyslog</code> ç”Ÿæ•ˆ</td></tr><tr><td>Logstash tcp/udp input</td><td><code>syslog.conf</code> é‡‡ç”¨ <code>tcp {} + udp {}</code> ç›‘å¬ 6789 ç«¯å£ï¼Œå¹¶ä½¿ç”¨ <code>grok</code> è§£æâ€œç±» syslogâ€æ¶ˆæ¯ï¼ˆé syslog input æ’ä»¶ç›´é…ï¼‰</td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f7c20b7a75b4186b5742e09dd0a1d13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=WBQBi50P7LaSfTFnK4d5kT37x8c%3D" alt="Elasticsearch" loading="lazy"/></p>
<h2 data-id="heading-2">åŸºæœ¬ä»‹ç»</h2>
<p>Logstash çš„ JDBC å’Œ Syslog æ˜¯ä¸¤ç§åŠŸèƒ½å„å¼‚çš„ Input æ’ä»¶ï¼Œå®ƒä»¬åˆ†åˆ«é’ˆå¯¹ä¸åŒçš„æ•°æ®æºè¿›è¡Œä¼˜åŒ–è®¾è®¡ï¼Œåœ¨æ•°æ®å¤„ç†æµç¨‹ä¸­æ‰®æ¼”ç€å…³é”®è§’è‰²ã€‚ä¸‹é¢å°†è¯¦ç»†é˜è¿°å®ƒä»¬çš„æŠ€æœ¯ç‰¹æ€§ã€åº”ç”¨åœºæ™¯åŠå…¸å‹é…ç½®ï¼š</p>
<h4 data-id="heading-3">JDBC æ’ä»¶æ·±å…¥è§£æ</h4>
<ol>
<li>
<p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>æ”¯æŒä¸»æµå…³ç³»å‹æ•°æ®åº“ï¼šMySQL (5.7+)ã€PostgreSQL (9.6+)ã€Oracle (12c+)ã€SQL Server (2016+)ç­‰</li>
<li>åŸºäº JDBC 4.2 è§„èŒƒå®ç°ï¼Œä½¿ç”¨æ•°æ®åº“å®˜æ–¹æä¾›çš„ JDBC é©±åŠ¨</li>
<li>æ”¯æŒå¢é‡æ•°æ®é‡‡é›†ï¼šé€šè¿‡ <code>sql_last_value</code> å‚æ•°è®°å½•æœ€åå¤„ç†ä½ç½®</li>
</ul>
</li>
<li>
<p><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>æ•°æ®ä»“åº“çš„ ETL æµç¨‹</li>
<li>ä¸šåŠ¡ç³»ç»Ÿæ•°æ®åº“å˜æ›´ç›‘æ§</li>
<li>å°†ä¼ ç»Ÿæ•°æ®åº“æ•°æ®å¯¼å…¥ Elasticsearch é›†ç¾¤</li>
<li>ç¤ºä¾‹ï¼šç”µå•†è®¢å•æ•°æ®å®æ—¶åŒæ­¥</li>
</ul>
</li>
</ol>
<pre><code class="hljs language-sql" lang="sql">     <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> update_time <span class="hljs-operator">&gt;</span> :sql_last_value
</code></pre>
<ol start="3">
<li><strong>å…³é”®é…ç½®å‚æ•°</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-ruby" lang="ruby">   input {
     jdbc {
       jdbc_driver_library =&gt; <span class="hljs-string">"/path/to/mysql-connector-java-8.0.28.jar"</span>
       jdbc_driver_class =&gt; <span class="hljs-string">"com.mysql.jdbc.Driver"</span>
       jdbc_connection_string =&gt; <span class="hljs-string">"jdbc:mysql://localhost:3306/ecommerce"</span>
       jdbc_user =&gt; <span class="hljs-string">"logstash"</span>
       jdbc_password =&gt; <span class="hljs-string">"securepassword"</span>
       schedule =&gt; <span class="hljs-string">"* * * * *"</span>  <span class="hljs-comment"># æ¯åˆ†é’Ÿæ‰§è¡Œ</span>
       statement =&gt; <span class="hljs-string">"SELECT * FROM products WHERE last_modified &gt; :sql_last_value"</span>
       use_column_value =&gt; <span class="hljs-literal">true</span>
       tracking_column =&gt; <span class="hljs-string">"last_modified"</span>
     }
   }
</code></pre>
<h4 data-id="heading-4">Syslog æ’ä»¶æŠ€æœ¯ç»†èŠ‚</h4>
<ol>
<li>
<p><strong>åè®®æ”¯æŒ</strong>ï¼š</p>
<ul>
<li>RFC3164 (æ—§ç‰ˆ BSD syslog)</li>
<li>RFC5424 (æ–°ç‰ˆç»“æ„åŒ–syslog)</li>
<li>æ”¯æŒ TCP/UDP ä¸¤ç§ä¼ è¾“åè®®</li>
</ul>
</li>
<li>
<p><strong>ç½‘ç»œé…ç½®é€‰é¡¹</strong>ï¼š</p>
<ul>
<li>ç«¯å£ç»‘å®šï¼šé»˜è®¤ 514 (UDP) / 6514 (TCP)</li>
<li>æ”¯æŒ TLS åŠ å¯†ä¼ è¾“</li>
<li>å¯é…ç½®å¤šä¸ªç›‘å¬ç«¯å£å®ç°å¤šç§Ÿæˆ·éš”ç¦»</li>
</ul>
</li>
<li>
<p><strong>å…¸å‹éƒ¨ç½²æ¨¡å¼</strong>ï¼š</p>
<ul>
<li>ç½‘ç»œè®¾å¤‡æ—¥å¿—æ”¶é›†ï¼ˆè·¯ç”±å™¨/äº¤æ¢æœºï¼‰</li>
<li>Linux ç³»ç»Ÿæ—¥å¿—é›†ä¸­ç®¡ç†</li>
<li>å®¹å™¨ç¯å¢ƒæ—¥å¿—é‡‡é›†ï¼ˆDocker syslogé©±åŠ¨ï¼‰</li>
<li>ç¤ºä¾‹ï¼šé˜²ç«å¢™æ—¥å¿—å¤„ç†</li>
</ul>
</li>
</ol>
<pre><code class="hljs language-ruby" lang="ruby">     input {
       syslog {
         port =&gt; <span class="hljs-number">5514</span>
         type =&gt; <span class="hljs-string">"firewall"</span>
         syslog_field =&gt; <span class="hljs-string">"syslog_message"</span>
       }
     }
</code></pre>
<ol start="4">
<li><strong>é«˜çº§åŠŸèƒ½</strong>ï¼š
<ul>
<li>æ”¯æŒè‡ªå®šä¹‰æ¶ˆæ¯è§£ææ¨¡å¼</li>
<li>å¯é…ç½®æ—¶åŒºè½¬æ¢</li>
<li>æä¾›æ¶ˆæ¯ä¼˜å…ˆçº§(PRI)è§£æ</li>
</ul>
</li>
</ol>
<p>ä¸¤ç§æ’ä»¶åœ¨æ€§èƒ½è°ƒä¼˜æ–¹é¢ä¹Ÿå­˜åœ¨å·®å¼‚ï¼šJDBC æ’ä»¶éœ€è¦å…³æ³¨æ•°æ®åº“è¿æ¥æ± é…ç½®å’Œæ‰¹å¤„ç†å¤§å°ï¼Œè€Œ Syslog æ’ä»¶åˆ™éœ€è¦ä¼˜åŒ–ç½‘ç»œç¼“å†²åŒºè®¾ç½®å’Œå¹¶å‘å¤„ç†èƒ½åŠ›ã€‚å®é™…éƒ¨ç½²æ—¶ï¼Œå»ºè®®æ ¹æ®æ•°æ®é‡çº§å’Œå»¶è¿Ÿè¦æ±‚è¿›è¡Œé’ˆå¯¹æ€§è°ƒä¼˜ã€‚</p>
<h3 data-id="heading-5">JDBC Input æ’ä»¶</h3>
<p>JDBC æ’ä»¶ç”¨äºä»å…³ç³»å‹æ•°æ®åº“ä¸­æå–æ•°æ®ï¼Œç‰¹åˆ«é€‚ç”¨äºå°†ç»“æ„åŒ–çš„ä¸šåŠ¡æ•°æ®å¯¼å…¥åˆ° ELKï¼ˆElasticsearch, Logstash, Kibanaï¼‰å †æ ˆä¸­ã€‚å®ƒæ”¯æŒå®šæ—¶è°ƒåº¦å’Œå¢é‡æå–ï¼Œé€‚åˆæ•°æ®åŒæ­¥å’Œ ETL åœºæ™¯ã€‚</p>
<p>ä¸»è¦åŠŸèƒ½ï¼š</p>
<ul>
<li>æ•°æ®åº“è¿æ¥ï¼šä½¿ç”¨ JDBC é©±åŠ¨æ¥è¿æ¥å„ç§æ•°æ®åº“ï¼ˆä¾‹å¦‚ MySQLã€PostgreSQLã€Oracleã€SQL Server ç­‰ï¼‰ã€‚</li>
<li>SQL æŸ¥è¯¢ï¼šå…è®¸ç”¨æˆ·é€šè¿‡ SQL æŸ¥è¯¢è¯­å¥é€‰æ‹©æ•°æ®ï¼Œæ”¯æŒå¤æ‚çš„æŸ¥è¯¢æ¡ä»¶ã€‚</li>
<li>å¢é‡æå–ï¼šå¯ä»¥é…ç½®â€œè¿½è¸ªåˆ—â€ï¼ˆtracking columnï¼‰ï¼ŒåŸºäºæŸä¸€åˆ—ï¼ˆå¦‚è‡ªå¢ ID æˆ–æ—¶é—´æˆ³ï¼‰å®ç°å¢é‡æ•°æ®æ‹‰å–ï¼Œé¿å…é‡å¤å¯¼å…¥ã€‚</li>
<li>å®šæ—¶è°ƒåº¦ï¼šå¯ä»¥è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œå®šæœŸæŸ¥è¯¢å’ŒåŒæ­¥æ•°æ®åº“çš„æ•°æ®ã€‚</li>
<li>é”™è¯¯é‡è¯•æœºåˆ¶ï¼šå¯ä»¥å¤„ç†è¿æ¥é”™è¯¯å¹¶è‡ªåŠ¨é‡è¯•ï¼Œç¡®ä¿æ•°æ®é‡‡é›†çš„ç¨³å®šæ€§ã€‚</li>
</ul>
<h3 data-id="heading-6">Syslog Input æ’ä»¶</h3>
<p>Syslog æ’ä»¶ç”¨äºæ¥æ”¶åŸºäº Syslog åè®®ä¼ è¾“çš„æ—¥å¿—æ•°æ®ã€‚Syslog æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„æ—¥å¿—åè®®ï¼Œç‰¹åˆ«æ˜¯åœ¨ç½‘ç»œè®¾å¤‡å’Œ Linux/Unix æ“ä½œç³»ç»Ÿä¸­ã€‚Logstash çš„ Syslog æ’ä»¶èƒ½å¤Ÿç›‘å¬ç‰¹å®šçš„ç«¯å£ï¼Œæ¥æ”¶å’Œè§£æè¿™äº›æ—¥å¿—ã€‚</p>
<p>ä¸»è¦åŠŸèƒ½ï¼š</p>
<ul>
<li>åè®®æ”¯æŒï¼šæ”¯æŒ Syslog åè®®ï¼ŒåŒ…æ‹¬ RFC 3164 å’Œ RFC 5424 æ ¼å¼çš„æ—¥å¿—ã€‚</li>
<li>å¤šç§ä¼ è¾“æ–¹å¼ï¼šæ”¯æŒé€šè¿‡ TCP å’Œ UDP åè®®æ¥æ”¶æ—¥å¿—ï¼Œé€‚åº”ä¸åŒçš„ä¼ è¾“éœ€æ±‚ã€‚</li>
<li>æ—¥å¿—è§£æï¼šè‡ªåŠ¨è§£æ Syslog æ¶ˆæ¯çš„å¤´éƒ¨å­—æ®µï¼Œä¾‹å¦‚æ—¶é—´æˆ³ã€ä¸»æœºåã€ç¨‹åºåç­‰ã€‚</li>
<li>ç½‘ç»œç›‘å¬ï¼šå¯ä»¥é€šè¿‡ç›‘å¬æŒ‡å®šçš„ IP å’Œç«¯å£ï¼ŒæŒç»­æ¥æ”¶å¹¶å¤„ç†æ¥è‡ªç½‘ç»œçš„ Syslog æ—¥å¿—ã€‚</li>
</ul>
<h2 data-id="heading-7">JDBCæ’ä»¶</h2>
<p>JDBCæ’ä»¶å¯ä»¥é‡‡é›†æŸå¼ æ•°æ®åº“è¡¨å½“ä¸­çš„æ•°æ®åˆ°Logstashå½“ä¸­æ¥</p>
<h3 data-id="heading-8">å‡†å¤‡æ•°æ®</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `<span class="hljs-keyword">user</span>` (
  `id` <span class="hljs-type">bigint</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `user_name` <span class="hljs-type">varchar</span>(<span class="hljs-number">25</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `gender` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `create_time` <span class="hljs-type">timestamp</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY(`id`)
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHRASET<span class="hljs-operator">=</span>utf8;

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">user</span>` <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1</span>, <span class="hljs-string">'zhangsan'</span>, <span class="hljs-string">'male'</span>, <span class="hljs-string">'2024-08-16 00:00:00'</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">user</span>` <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'lisi'</span>, <span class="hljs-string">'female'</span>, <span class="hljs-string">'2024-08-16 00:00:00'</span>);
</code></pre>
<p>ç›®å‰æˆ‘ä»¬çš„MySQLæœåŠ¡å™¨æ˜¯åœ¨ h122 èŠ‚ç‚¹ä¸Šçš„ï¼ˆä¹‹å‰ç»™Hiveå’ŒHBaseç­‰ä¸šåŠ¡ä½¿ç”¨çš„ï¼‰ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦åˆ° h122 æ•°æ®åº“ä¸­ï¼Œæ‰§è¡Œä¸Šè¿°çš„SQLæŒ‡ä»¤ã€‚
æˆ‘è¿™é‡Œä½¿ç”¨Navicatæ‰§è¡Œï¼Œ æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f4d73cd9bdb4b508b43bda78bd8cb7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=N1CX2DFcdfLQMLmgXkYGjx1Zxnw%3D" alt="Elasticsearch æ‰§è¡ŒSQLè¡¨" loading="lazy"/></p>
<h3 data-id="heading-9">ç¼–å†™é…ç½®</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0/config
vim jdbc.conf
</code></pre>
<p>å†™å…¥å¦‚ä¸‹çš„å†…å®¹ï¼ˆè¿™é‡Œæ³¨æ„äº›è‡ªå·±çš„ç¯å¢ƒï¼Œæˆ‘çš„ç¯å¢ƒå’Œä½ çš„ä¸ä¸€æ ·ï¼‰ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">input {
  jdbc {
    jdbc_driver_library =&gt; "/opt/servers/mysql-connector-java-8.0.19.jar"
    jdbc_driver_class =&gt; "com.mysql.jdbc.Driver"
    jdbc_connection_string =&gt; "jdbc:mysql://h122.wzk.icu:3306/es-test"
    jdbc_user =&gt; "hive"
    jdbc_password =&gt; "hive@wzk.icu"
    use_column_value =&gt; "true"
    clean_run =&gt; "false"
    record_last_run =&gt;"true"
    tracking_column =&gt; "id"
    schedule =&gt; "* * * * *"
    last_run_metadata_path =&gt; "/opt/servers/es/.Logstash_user_jdbc_last_run"
    statement =&gt; "SELECT * from user where id &gt; :sql_last_value;"
  }
}

output{
  stdout{
    codec=&gt;rubydebug
  }
}
</code></pre>
<h3 data-id="heading-10">æ£€æŸ¥é…ç½®</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/jdbc.conf -t
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21e0c6e692cf412389e4eda9b9474703~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=y%2BSooLmZ%2FiWWr79fcZk5uUQdgCU%3D" alt="Elasticsearch æ£€æŸ¥é…ç½®" loading="lazy"/></p>
<h3 data-id="heading-11">å¯åŠ¨æœåŠ¡</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/jdbc.conf
</code></pre>
<p>å¯åŠ¨ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79421effd51c4e1c8bcf485749a9ea18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=11vR4ckNBkDxzP%2BB06LdRaKE7BU%3D" alt="Elasticsearch å¯åŠ¨æœåŠ¡" loading="lazy"/>
å¯ä»¥çœ‹åˆ°è·å–åˆ°äº†å¯¹åº”çš„æ•°æ®ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7169cb230a5c4e938b80e3ac0f525fc5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=79Y9VL8h9orAGUx5j1eX4QqxKiU%3D" alt="Elasticsearch å¯¹åº”çš„æ•°æ®" loading="lazy"/></p>
<h3 data-id="heading-12">å‘é€æ•°æ®</h3>
<p>ç°åœ¨å‘æ•°æ®åº“ä¸­å†™å…¥æ•°æ®ï¼Œå°±å¯ä»¥å‘ç°Logstashç›‘å¬åˆ°äº†ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">user</span>` <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">3</span>, <span class="hljs-string">'wangwu'</span>, <span class="hljs-string">'female'</span>, <span class="hljs-string">'2024-08-16 00:00:00'</span>);
</code></pre>
<p>å¯¹åº”çš„Logstashçš„å˜åŒ–ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea1e21b5969c4b2cb163dea12b8038e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=7k1UsZgQb69PVLgBujSgon1gLtA%3D" alt="Elasticsearch å‘é€æ•°æ®" loading="lazy"/></p>
<h2 data-id="heading-13">syslogæ’ä»¶</h2>
<p>syslogæœºåˆ¶è´Ÿè´£è®°å½•å†…æ ¸å’Œåº”ç”¨ç¨‹åºäº§ç”Ÿçš„æ—¥å¿—ä¿¡æ¯ï¼Œç®¡ç†å‘˜å¯ä»¥é€šè¿‡æŸ¥çœ‹æ—¥å¿—è®°å½•ï¼Œæ¥æŒæ¡ç³»ç»ŸçŠ¶å†µï¼Œé»˜è®¤ç³»ç»Ÿå·²ç»å®‰è£…äº†rsyslogï¼Œç›´æ¥å¯åŠ¨å³å¯ã€‚</p>
<h3 data-id="heading-14">ç¼–å†™é…ç½®</h3>
<p>åˆ›å»ºæ–°è„šæœ¬ï¼Œsyslog.conf</p>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0/config
vim syslog.conf
</code></pre>
<p>å†™å…¥å¦‚ä¸‹çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">input {
  tcp {
    port =&gt; 6789
    type =&gt; "syslog"
  }
  udp {
    port =&gt; 6789
    type =&gt; "syslog"
  }
}

filter {
  if [type] == "syslog" {
    grok {
      match =&gt; {
        "message" =&gt; "%{SYSLOGTIMESTAMP:syslog_timestamp} %{SYSLOGHOST:syslog_hostname} %{DATA:syslog_program}(?:\[%{POSINT:syslog_pid}\])?: %{GREEDYDATA:syslog_message}"
      }
      add_field =&gt; {
        "received_at" =&gt; "%{@timestamp}"
        "received_from" =&gt; "%{host}"
      }
    }
    date {
      match =&gt; [ "syslog_timestamp", "MMM d HH:mm:ss", "MMM dd HH:mm:ss" ]
    }
  }
}

output {
  stdout {
    codec =&gt; rubydebug
  }
}

</code></pre>
<p>å†™å…¥çš„å†…å®¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8d4191b454740548d7dd390b5e9dcdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=7BUtLyAQcboRANPlI547ok77JIY%3D" alt="Elasticsearch inputé…ç½®" loading="lazy"/></p>
<h3 data-id="heading-15">æ£€æŸ¥é…ç½®</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/syslog.conf -t
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6dec55d2ee5247988014387e8a356f6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=2QbsrRQ3uO6nUcJFzL0Qjg2tCJI%3D" alt="Elasticsearch æ£€æŸ¥é…ç½®" loading="lazy"/></p>
<h3 data-id="heading-16">å¯åŠ¨æœåŠ¡</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/syslog.conf
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d9e282bcbb7454ea6ae9708f4c29aab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=ULNiqzj8McP4LVPGV%2BSv4ApVMmk%3D" alt="Elasticsearch å¯åŠ¨æœåŠ¡æµ‹è¯•" loading="lazy"/></p>
<h3 data-id="heading-17">å‘é€æ•°æ®</h3>
<p>ä¿®æ”¹ç³»ç»Ÿæ—¥å¿—é…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-shell" lang="shell">vim /etc/rsyslog.conf
</code></pre>
<p>æ·»åŠ ä¸€è¡Œé…ç½®ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">*.* @@h121.wzk.icu:6789
</code></pre>
<p>å†™å…¥çš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa2cb122c50c4f9a8bcbd1bec6f0a60d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=zbTPfhfY6qS6qv2pNjapGuqCJjY%3D" alt="Elasticsearch å‘é€æ•°æ®" loading="lazy"/>
é‡å¯ç³»ç»Ÿæ—¥å¿—æœåŠ¡</p>
<pre><code class="hljs language-shell" lang="shell">systemctl restart rsyslog
</code></pre>
<p>æŸ¥çœ‹æ•°æ®ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„æ•ˆæœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00160c04b3e043118d08fc7334c3ac85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=VOzZ5eBvg%2FnFJ9%2FqqBcPc8cg7eg%3D" alt="Elasticsearch æŸ¥çœ‹ log æ—¥å¿—" loading="lazy"/></p>
<h2 data-id="heading-18">é”™è¯¯é€ŸæŸ¥</h2>







































































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>JDBC å¯åŠ¨æŠ¥é©±åŠ¨ç±»æ‰¾ä¸åˆ°ï¼ˆClassNotFoundï¼‰</td><td>jdbc_driver_library è·¯å¾„ä¸å¯¹ / jar ä¸å­˜åœ¨ / ç±»åä¸åŒ¹é…</td><td>Logstash å¯åŠ¨æ—¥å¿—é‡Œçœ‹ Java::...ClassNotFoundExceptionï¼›ç¡®è®¤ jar å®é™…è·¯å¾„</td><td>æ ¡æ­£ jar è·¯å¾„ï¼›MySQL 8 ç”¨ com.mysql.cj.jdbc.Driverï¼›ç¡®ä¿ jar å¯¹ logstash è¿›ç¨‹å¯è¯»</td></tr><tr><td>JDBC èƒ½è¿åº“ä½†ä¸æ‹‰æ•°æ®</td><td>statement æ¡ä»¶ä¸ sql_last_value åˆå§‹å€¼ä¸åŒ¹é…ï¼›æˆ–è¿½è¸ªåˆ—éå•è°ƒ</td><td>æ‰“å° stdout è§‚å¯Ÿæ˜¯å¦æœ‰ eventï¼›æ£€æŸ¥ last_run_metadata_path å†…å®¹</td><td>é¦–æ¬¡å…¨é‡ï¼šä¸´æ—¶ clean_run =&gt; true æˆ–æ”¹ SQL å…è®¸å…¨é‡ï¼›ç¡®ä¿ tracking_column å•è°ƒé€’å¢ï¼ˆid/æ—¶é—´æˆ³ï¼‰</td></tr><tr><td>å¢é‡ä½ç‚¹ä¸æ›´æ–°/é‡å¯åé‡å¤æ‹‰å–</td><td>last_run_metadata_path æ— å†™æƒé™/è·¯å¾„ä¸å­˜åœ¨ï¼›record_last_run é…ç½®ä¸ç”Ÿæ•ˆ</td><td>æŸ¥çœ‹è¯¥è·¯å¾„æ–‡ä»¶æ˜¯å¦ç”Ÿæˆä¸æ›´æ–°æ—¶é—´ï¼›Logstash æ—¥å¿—æœ last_run</td><td>åˆ›å»ºç›®å½•å¹¶æˆæƒï¼›å°† record_last_run/clean_run/use_column_value æ”¹ä¸ºå¸ƒå°”å€¼ï¼›å›ºå®šéƒ¨ç½²ç”¨æˆ·ä¸è·¯å¾„</td></tr><tr><td>æ¯åˆ†é’Ÿè°ƒåº¦ä¸æ‰§è¡Œ</td><td>schedule æ—¶åŒº/cron è§£æé—®é¢˜ï¼›è¿›ç¨‹æœªæŒç»­è¿è¡Œï¼ˆå‰å°é€€å‡ºï¼‰</td><td>Logstash æ—¥å¿—çœ‹æ˜¯å¦æ‰“å° scheduler tickï¼›ç¡®è®¤è¿›ç¨‹å­˜æ´»</td><td>ç”¨æ ‡å‡† cron è¡¨è¾¾å¼ï¼›ä¿æŒè¿›ç¨‹å¸¸é©»ï¼ˆsystemd/å®ˆæŠ¤è¿›ç¨‹ï¼‰ï¼›å¿…è¦æ—¶åŠ å¤§æ—¥å¿—çº§åˆ«</td></tr><tr><td>æ‹‰å–é€Ÿåº¦æ…¢/æ•°æ®åº“å‹åŠ›å¤§</td><td>SQL æ— ç´¢å¼•ã€å…¨è¡¨æ‰«ï¼›æ‰¹æ¬¡å¤ªå°/ç½‘ç»œæ…¢</td><td>DB ä¾§çœ‹æ…¢æŸ¥è¯¢ä¸æ‰§è¡Œè®¡åˆ’ï¼›Logstash ä¾§çœ‹æ¯è½®è€—æ—¶</td><td>ç»™ tracking_column å»ºç´¢å¼•ï¼›åªé€‰å¿…è¦å­—æ®µï¼›åˆ†æ‰¹åˆ†é¡µï¼ˆstatement + ä¸»é”®èŒƒå›´ï¼‰ï¼›åˆç†è°ƒåº¦é¢‘ç‡</td></tr><tr><td>syslog ç«¯å£æ— æ•°æ®</td><td>rsyslog æœªè½¬å‘/é˜²ç«å¢™æ‹¦æˆª/ç›®æ ‡ä¸»æœºä¸å¯è¾¾</td><td>ç›®æ ‡æœº ss -lntup çœ‹ 6789 æ˜¯å¦ç›‘å¬ï¼›æºæœº tcpdump æŠ“åŒ…</td><td>æ”¾é€š 6789 TCP/UDPï¼›ç¡®è®¤ @@(TCP) æˆ– @(UDP)ï¼›æ ¡éªŒä¸»æœºåè§£æä¸è·¯ç”±</td></tr><tr><td>æ”¶åˆ°æ•°æ®ä½† grok è§£æå¤±è´¥ï¼ˆ_grokparsefailureï¼‰</td><td>æ¶ˆæ¯æ ¼å¼ä¸ grok æ¨¡å¼ä¸åŒ¹é…ï¼ˆè®¾å¤‡/ç³»ç»Ÿå·®å¼‚ï¼‰</td><td>stdout é‡Œçœ‹åŸå§‹ messageï¼›è§‚å¯Ÿå­—æ®µæ˜¯å¦ç¼ºå¤±</td><td>æŒ‰å®é™…æ—¥å¿—æ”¹ grokï¼›å…ˆå®½æ¾å†æ”¶ç´§ï¼›ä¸ºä¸åŒæ¥æºåšåˆ†æ”¯åŒ¹é…</td></tr><tr><td>æ—¶é—´æˆ³ä¸å¯¹/æ—¶åŒºé”™ä¹±</td><td>date åŒ¹é…æ ¼å¼ä¸å…¨ï¼›æºæ—¥å¿—æ— å¹´ä»½/æ—¶åŒºä¿¡æ¯</td><td>çœ‹ @timestamp ä¸ syslog_timestampï¼›æ¯”å¯¹æ—¶åŒº</td><td>date å¢åŠ åŒ¹é…æ ¼å¼ï¼›å¿…è¦æ—¶è¡¥ timezone =&gt; "Asia/Shanghai"ï¼›æˆ–åœ¨ rsyslog ä¾§è¾“å‡º RFC3339</td></tr><tr><td>UDP ä¸¢æ—¥å¿—</td><td>UDP å¤©ç„¶ä¸å¯é ï¼›é«˜å³°æœŸä¸¢åŒ…/ç¼“å†²åŒºä¸è¶³</td><td>å¯¹æ¯”æºç«¯æ—¥å¿—é‡ä¸æ¥æ”¶ç«¯äº‹ä»¶é‡ï¼›ç³»ç»Ÿä¸¢åŒ…ç»Ÿè®¡</td><td>å…³é”®æ—¥å¿—æ”¹ TCPï¼›æå‡å†…æ ¸ç¼“å†²åŒºï¼›é™ä½å•æœºè§£æå‹åŠ›ï¼ˆæ°´å¹³æ‰©å±•/åˆ†æµç«¯å£ï¼‰</td></tr><tr><td>ç«¯å£å†²çª/å¯åŠ¨å¤±è´¥</td><td>ç«¯å£è¢«å ç”¨æˆ–æƒé™ä¸è¶³ï¼ˆä½ç«¯å£ï¼‰</td><td>å¯åŠ¨æ—¥å¿—æç¤º bind å¤±è´¥ï¼›lsof -i :PORT</td><td>æ›´æ¢ç«¯å£ï¼›é‡Šæ”¾å ç”¨ï¼›é¿å…ä½¿ç”¨ 514 ç­‰ç‰¹æƒç«¯å£æˆ–ç”¨èƒ½åŠ›æˆæƒ/å‰ç½®è½¬å‘</td></tr></tbody></table>
<h2 data-id="heading-19">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-20">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-21">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-196 æ¶ˆæ¯é˜Ÿåˆ—é€‰å‹ï¼šRabbitMQ vs RocketMQ vs Kafka</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-22">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¯¹é•¿ä¸Šä¸‹æ–‡èƒ½åŠ›æœ‰ä¸åŒè¦æ±‚ï¼Œæ€ä¹ˆé€‰æ‹©åˆé€‚çš„æ¨¡å‹ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7584307643000815659</link>    <guid>https://juejin.cn/post/7584307643000815659</guid>    <pubDate>2025-12-17T00:48:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584307643000815659" data-draft-id="7584356212800569385" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¯¹é•¿ä¸Šä¸‹æ–‡èƒ½åŠ›æœ‰ä¸åŒè¦æ±‚ï¼Œæ€ä¹ˆé€‰æ‹©åˆé€‚çš„æ¨¡å‹ï¼Ÿ"/> <meta itemprop="keywords" content="LLM,äººå·¥æ™ºèƒ½,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-17T00:48:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Baihai_IDP"/> <meta itemprop="url" content="https://juejin.cn/user/3123071228582343"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¯¹é•¿ä¸Šä¸‹æ–‡èƒ½åŠ›æœ‰ä¸åŒè¦æ±‚ï¼Œæ€ä¹ˆé€‰æ‹©åˆé€‚çš„æ¨¡å‹ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3123071228582343/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Baihai_IDP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:48:06.000Z" title="Wed Dec 17 2025 00:48:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ç¼–è€…æŒ‰ï¼š</strong> å½“ä¸€é¡¹æŠ€æœ¯çš„å‚æ•°æŒ‡æ ‡æˆä¸ºè¡Œä¸šç„¦ç‚¹ï¼Œæˆ‘ä»¬æ˜¯å¦å®¹æ˜“è½å…¥â€œæ•°å­—è¿·ä¿¡â€çš„é™·é˜±ï¼Ÿåœ¨å¤§è¯­è¨€æ¨¡å‹ç«ç›¸å®£ä¼ â€œç™¾ä¸‡çº§ä¸Šä¸‹æ–‡çª—å£â€çš„ä»Šå¤©ï¼Œæ›´é•¿æ˜¯å¦çœŸçš„æ„å‘³ç€æ›´å¼ºï¼Ÿæˆ‘ä»¬ä»Šå¤©ä¸ºå¤§å®¶å¸¦æ¥çš„è¿™ç¯‡æ–‡ç« ï¼Œä½œè€…çš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ï¼šä¸Šä¸‹æ–‡çª—å£çš„é•¿åº¦å¹¶ä¸èƒ½å®Œå…¨ä»£è¡¨æ¨¡å‹çš„å®é™…èƒ½åŠ›ï¼ŒçœŸæ­£å†³å®šæ¨¡å‹åœ¨é•¿æ–‡æœ¬åœºæ™¯ä¸‹è¡¨ç°çš„æ˜¯å…¶èƒŒåçš„æ¶æ„è®¾è®¡ä¸æŠ€æœ¯æƒè¡¡ã€‚</p>
<p>æ–‡ç« ç³»ç»Ÿæ¢³ç†äº†å½“å‰ä¸»æµå¤§æ¨¡å‹åœ¨å¤„ç†é•¿ä¸Šä¸‹æ–‡æ—¶æ‰€é‡‡ç”¨çš„ä¸åŒæŠ€æœ¯è·¯å¾„ â€”â€” ä»ä¼˜åŒ–åçš„ç²¾ç¡®æ³¨æ„åŠ›æœºåˆ¶ï¼ˆå¦‚ GPT-5ã€Mistralï¼‰ã€ç¨€ç–æˆ–æ··åˆæ³¨æ„åŠ›æœºåˆ¶ï¼ˆå¦‚ Claudeã€Geminiï¼‰ï¼Œåˆ°å½»åº•è„±ç¦»æ³¨æ„åŠ›èŒƒå¼çš„çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼ˆå¦‚ Mambaï¼‰ï¼Œå¹¶æ·±å…¥å‰–æäº†æ¯ç§æ¶æ„åœ¨è®°å¿†æŒä¹…æ€§ã€æ¨ç†æ·±åº¦ä¸è®¡ç®—æ•ˆç‡ä¹‹é—´çš„æƒè¡¡ã€‚</p>
</blockquote>
<p><strong>ä½œè€… | Phuoc Nguyen</strong></p>
<p><strong>ç¼–è¯‘ | å²³æ‰¬</strong></p>
<p>åœ¨è¿‡å»ä¸‰å¹´ä¸­ï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰çš„ä¸Šä¸‹æ–‡çª—å£å·²ä»å‡ åƒä¸ª token æ‰©å±•è‡³æ•°åä¸‡é‡çº§ â€”â€” åœ¨æŸäº›ç³»ç»Ÿä¸­ç”šè‡³è¾¾åˆ°æ•°ç™¾ä¸‡ã€‚Gemini 2.5ã€Claude 4.5 Sonnetã€GPT-5 Pro å’Œ Llama 4 Scout å‡å®£ç§°å…·å¤‡ç™¾ä¸‡ token çº§åˆ«çš„å¤„ç†èƒ½åŠ›ã€‚ä¹çœ‹ä¹‹ä¸‹ï¼Œè¿™ä¼¼ä¹æ„å‘³ç€æ¨¡å‹èƒ½å¤Ÿâ€œè®°ä½â€å¹¶è·¨æ•´æœ¬ä¹¦ç±ã€æ•´ä¸ªä»£ç ä»“åº“æˆ–æ•°å°æ—¶çš„å¯¹è¯è¿›è¡Œæ¨ç†ã€‚ç„¶è€Œå®é™…ä¸Šï¼Œå®é™…æƒ…å†µè¦å¤æ‚å¾—å¤šã€‚</p>
<p><strong>æ›´é•¿çš„ä¸Šä¸‹æ–‡çª—å£å¹¶ä¸ä¿è¯æ›´æ·±å±‚æ¬¡çš„æ¨ç†èƒ½åŠ›æˆ–æ›´ä¸ºå‡†ç¡®çš„è®°å¿†èƒ½åŠ›ã€‚</strong> æ¯ç§æ¶æ„ â€”â€” Transformerã€ç¨€ç–/æ··åˆæ¶æ„ã€æ··åˆä¸“å®¶æ¨¡å‹ï¼ˆMoEï¼‰æˆ–çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼ˆMambaï¼‰ï¼Œä¸ä¸Šä¸‹æ–‡çš„äº¤äº’æ–¹å¼å„æœ‰ä¸åŒã€‚ç†è§£è¿™äº›å·®å¼‚æœ‰åŠ©äºå¼€å‘è€…æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ¨¡å‹ï¼Œè€Œä¸æ˜¯ç®€å•åœ°è®¤ä¸ºæ‰€æœ‰â€œç™¾ä¸‡ token ä¸Šä¸‹æ–‡â€çš„ç³»ç»Ÿéƒ½è¡¨ç°ä¸€è‡´ã€‚</p>
<h2 data-id="heading-0"><strong>01 ä¸ºä»€ä¹ˆåªçœ‹ä¸Šä¸‹æ–‡é•¿åº¦è¿™ä¸ªæ•°å­—å¹¶ä¸èƒ½å®Œæ•´åˆ¤æ–­æ¨¡å‹çš„å®é™…èƒ½åŠ›</strong></h2>
<p>åŸå§‹çš„ Transformerï¼ˆVaswani ç­‰äººï¼Œ2017ï¼‰ä¼šå¯¹æ¯ä¸€å¯¹ token æ‰§è¡Œè‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼Œç†è®ºä¸Šå…·å¤‡å…¨å±€æ„ŸçŸ¥èƒ½åŠ›ã€‚ç„¶è€Œï¼Œè¿™ç§äºŒæ¬¡æ–¹å¤æ‚åº¦ï¼ˆO(nÂ²)ï¼‰ä½¿å¾—åºåˆ—é•¿åº¦å¢é•¿æ—¶è®¡ç®—é‡æé€Ÿå¢åŠ ã€‚</p>
<p><strong>ç°ä»£é•¿ä¸Šä¸‹æ–‡ç³»ç»Ÿé€šè¿‡å·¥ç¨‹æŠ€å·§çªç ´äº†è¿™ä¸€é™åˆ¶ â€”â€” ä½†è¿™äº›æŠ€å·§ä¹Ÿæ”¹å˜äº†æ¨¡å‹çš„â€œæ€è€ƒâ€æ–¹å¼ã€‚</strong></p>
<p>å®è¯æµ‹è¯•ï¼ˆå¦‚ LongBenchã€RULER 2025ï¼‰è¡¨æ˜ï¼Œå³ä½¿å®£ç§°æ”¯æŒ 1M-token è¾“å…¥çš„æ¨¡å‹ï¼Œä¹Ÿå¾ˆå°‘èƒ½åœ¨è¶…è¿‡å…¶ä¸€åŠé•¿åº¦çš„ä¸Šä¸‹æ–‡ä¸­ç»´æŒé«˜ç²¾åº¦çš„æ¨ç†èƒ½åŠ›ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œâ€œæœ‰æ•ˆä¸Šä¸‹æ–‡â€é€šå¸¸åœ¨è¾¾åˆ°ä¸Šä¸‹æ–‡çª—å£é•¿åº¦å®£ä¼ å€¼ä¸Šé™çš„ 30%â€“60% æ—¶ï¼Œå°±ä¼šå‡ºç°è®°å¿†è¡°å‡ã€‚é€ æˆè¿™ä¸€ç°è±¡çš„åŸå› å› æ¶æ„è€Œå¼‚ã€‚</p>
<h2 data-id="heading-1"><strong>02 é•¿ä¸Šä¸‹æ–‡èƒŒåçš„æ¶æ„æŠ€æœ¯</strong></h2>
<p>æˆªè‡³ 2025 å¹´åº•ï¼Œå¤§å¤šæ•°æ——èˆ°æ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£å·²ç¨³å®šåœ¨ 128k è‡³ 2M token ä¹‹é—´ã€‚ç„¶è€Œï¼ŒLongBench å’Œ RULER ç­‰åŸºå‡†æµ‹è¯•æŒç»­æ˜¾ç¤ºï¼Œæ¨¡å‹çš„â€œæœ‰æ•ˆä¸Šä¸‹æ–‡â€ ï¼ˆçœŸæ­£èƒ½<strong>ä¸ä¸¢ä¿¡æ¯ã€ä¸ä¹±æ¨ç†</strong>çš„ä¸Šä¸‹æ–‡é•¿åº¦ï¼‰ï¼Œå¾€å¾€ä»…ä¸ºå®ƒä»¬è¢«å®£ä¼ çš„æœ€å¤§å€¼çš„ä¸€åŠå·¦å³ã€‚è¿™ä¸€å·®è·ç›´æ¥æºäºä¸åŒæ¶æ„è®¾è®¡ç†å¿µçš„åˆ†æ­§ã€‚</p>
<p><strong>å½“å‰çš„å¤§æ¨¡å‹ç”Ÿæ€å·²åˆ†åŒ–ä¸ºè‹¥å¹²ç‹¬ç‰¹çš„æ¶æ„è°±ç³»ï¼Œå„è‡ªåœ¨æ¨ç†æ·±åº¦ã€è®°å¿†æŒä¹…æ€§å’Œè®¡ç®—æ•ˆç‡ä¹‹é—´åšå‡ºä¸åŒçš„æƒè¡¡ã€‚</strong> ä¸‹è¡¨æ€»ç»“äº† 2025 å¹´åº•éƒ¨åˆ†ä¸»æµåŸºç¡€æ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£æƒ…å†µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4308a3b307ca40f7b3e153d24e3e531b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537286&amp;x-signature=0nBN6n9nu36qYouoWhTqFvcPvto%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>03 å¤§è¯­è¨€æ¨¡å‹æ˜¯å¦‚ä½•å…·ä½“å¤„ç†å’Œåˆ©ç”¨å…¶é•¿ä¸Šä¸‹æ–‡çª—å£çš„</strong></h2>
<p>è¦ç†è§£è¿™äº›è¡Œä¸ºï¼Œæˆ‘ä»¬éœ€è¦æ·±å…¥å…¶æŠ€æœ¯ç»†èŠ‚ã€‚æ¨¡å‹çš„æ€§èƒ½è¡¨ç°å¹¶éå®Œå…¨ä¸å¯é¢„æµ‹çš„é­”æ³•ï¼Œå…¶å®æ˜¯å·¥ç¨‹å¸ˆä¸ºäº†è§£å†³â€œè§„æ¨¡æ‰©å±•â€è¿™ä¸ªæ ¹æœ¬éš¾é¢˜ï¼Œè¢«è¿«åšå‡ºå„ç§æŠ€æœ¯æƒè¡¡åï¼Œç›´æ¥å¯¼è‡´çš„ç»“æœã€‚</p>
<h3 data-id="heading-3"><strong>3.1 å†…å­˜æ¶ˆè€—å‡å°‘çš„æ³¨æ„åŠ›æœºåˆ¶</strong></h3>
<p>åŸå§‹çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶å…è®¸æ¯ä¸ª token æŸ¥çœ‹å…¶ä»–æ‰€æœ‰ tokenï¼Œå…¶è®¡ç®—å¤æ‚åº¦éšåºåˆ—é•¿åº¦å‘ˆäºŒæ¬¡æ–¹å¢é•¿ã€‚è¿™ç§è®¡ç®—å¤æ‚åº¦ä¸Šçš„é™¡å¢ï¼Œä½¿å¾—å¤„ç†å‡ åƒ token ä»¥ä¸Šçš„ä¸Šä¸‹æ–‡å˜å¾—æå…¶æ˜‚è´µã€‚ç°ä»£æ¶æ„é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼å…‹æœè¿™ä¸€é™åˆ¶ï¼š</p>
<ul>
<li><strong>ç»è¿‡ä¼˜åŒ–çš„ç²¾ç¡®æ³¨æ„åŠ›æœºåˆ¶ï¼ˆOptimized Exact Attentionï¼‰</strong> ï¼šMistral å’Œ GPT-5 ç­‰æ¨¡å‹å¹¶æœªæ”¹å˜æ³¨æ„åŠ›è®¡ç®—çš„æ•°å­¦æœ¬è´¨ï¼Œè€Œæ˜¯é‡‡ç”¨å¦‚ FlashAttention-3ï¼ˆGPT-5 æ®æ¨æµ‹ä½¿ç”¨äº†è¯¥æŠ€æœ¯ï¼‰ç­‰ä¼˜åŒ–å†…æ ¸ã€‚è¯¥æŠ€æœ¯é€šè¿‡â€œåˆ†å—â€ï¼ˆtilingï¼‰å¤§å¹…å‡å°‘å¯¹ GPU é«˜å¸¦å®½å†…å­˜çš„æ…¢é€Ÿè¯»å†™æ“ä½œï¼Œä½¿ç²¾ç¡®è®¡ç®—æ³¨æ„åŠ›åœ¨é•¿è¾¾ 256k token ç”šè‡³æ›´é•¿çš„åºåˆ—ä¸Šå˜å¾—å¯è¡Œã€‚</li>
<li><strong>ç¨€ç–æˆ–æ··åˆæ³¨æ„åŠ›æœºåˆ¶ï¼ˆSparse or Hybrid Attentionï¼‰ï¼ˆä¾‹å¦‚ Claudeã€Geminiï¼‰</strong> ï¼šè¿™ç±»æ¶æ„ä¼šåŠ¨æ€å‹ç¼©æˆ–æ‘˜è¦éƒ¨åˆ†ä¸Šä¸‹æ–‡ï¼Œä»¥æ§åˆ¶å†…å­˜å¢é•¿ã€‚å…·ä½“å®ç°å¤§å¤šå±äºå•†ä¸šæœºå¯†ï¼Œä½†å­¦æœ¯ç ”ç©¶ç‰ˆæœ¬ï¼ˆå¦‚ Longformerï¼‰è¡¨æ˜ï¼Œç¨€ç–æˆ–æ··åˆæ³¨æ„åŠ›æœºåˆ¶èƒ½å¤Ÿåœ¨åºåˆ—å¢é•¿æ—¶ä¸¢å¼ƒæˆ–èšåˆä¸é‚£ä¹ˆé‡è¦çš„ä¿¡æ¯ï¼Œä»è€Œç»´æŒä¸»é¢˜è¿è´¯æ€§å¹¶é™ä½è®¡ç®—å¼€é”€ã€‚</li>
<li><strong>åˆ†å¸ƒå¼ç²¾ç¡®æ³¨æ„åŠ›æœºåˆ¶ï¼ˆDistributed Exact Attentionï¼‰</strong> ï¼šå¯¹äºå¯æ‰©å±•ç³»ç»Ÿï¼ŒRing Attentionï¼ˆLiu, 2023ï¼‰èƒ½å°†è®¡ç®—è´Ÿè½½åˆ†å¸ƒåˆ°å¤šä¸ªåŠ é€Ÿå™¨ç»„æˆçš„é›†ç¾¤ä¸Šã€‚æ¯ä¸ªè®¾å¤‡è´Ÿè´£è®¡ç®—åºåˆ—ä¸­æŸä¸€ç‰‡æ®µçš„æ³¨æ„åŠ›ï¼Œå¹¶å°†ç»“æœä»¥ç¯å½¢çš„æ–¹å¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªè®¾å¤‡ï¼Œä»è€Œå®ç°å¯¹æ•°ç™¾ä¸‡ token çš„ç²¾ç¡®æ³¨æ„åŠ›è®¡ç®—ã€‚æ®ä¼  Google Gemini 1.5 é‡‡ç”¨äº†è¿™ç§æ–¹æ³•[1]ï¼Œä½†ç”±äºå…¶æœªå…¬å¼€ä¸“æœ‰æ¶æ„ï¼Œæˆ‘ä»¬æ— æ³•ç¡®è®¤ã€‚è¿™ç§æ¶æ„åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„ä¸€ä¸ªæœ‰è¶£ç‰¹æ€§æ˜¯æ”¯æŒç¡®å®šæ€§è®¡ç®—æ¨¡å¼ï¼ˆdeterministic compute modeï¼‰ï¼Œæœ‰åŠ©äºå¼€å‘è€…è·å¾—æ›´å¼ºçš„ä¸€è‡´æ€§ä¿éšœã€‚</li>
</ul>
<p>å…¶å½±å“ä½“ç°ä¸ºä¸€ç§æ˜ç¡®çš„æƒè¡¡ï¼šâ€œä½¿ç”¨ç²¾ç¡®æ³¨æ„åŠ›æœºåˆ¶çš„æ¨¡å‹ï¼ˆexact attention modelsï¼‰â€é€‚åˆéœ€è¦æé«˜å‡†ç¡®æ€§çš„ç²¾ç»†ä»»åŠ¡ï¼ˆå¦‚æ³•å¾‹å®¡é˜…ï¼‰ï¼Œè€Œâ€œåˆ†å¸ƒå¼æ¨¡å‹ï¼ˆdistributed modelsï¼‰â€é€‚åˆéœ€è¦å¤„ç†æµ·é‡æ•°æ®çš„æ‰¹é‡ä»»åŠ¡ï¼ˆå¦‚å¤§å‹åª’ä½“æ–‡ä»¶åˆ†æï¼‰ã€‚</p>
<h3 data-id="heading-4"><strong>3.2 ä¸ºé€‚åº”æ›´é•¿ä¸Šä¸‹æ–‡è€Œå¯¹ä½ç½®ç¼–ç æ–¹æ³•è¿›è¡Œæ‰©å±•çš„æ–¹æ¡ˆ</strong></h3>
<p>Transformer æ¨¡å‹æœ¬èº«ä¸å…·å¤‡é¡ºåºæ„ŸçŸ¥èƒ½åŠ›ã€‚ä½ç½®ç¼–ç ç”¨äºå‘Šè¯‰æ¨¡å‹æ¯ä¸ª token æ‰€å¤„çš„ä½ç½®ï¼Œä½†æ‰€é€‰ç”¨çš„æ–¹æ³•ä¼šäº§ç”Ÿå¼ºå¤§ä¸”å¯é¢„æµ‹çš„ biasesï¼ˆè¯‘è€…æ³¨ï¼šbiases æŒ‡æ¨¡å‹åœ¨å¤„ç†ä¿¡æ¯æ—¶ï¼Œä¼šç³»ç»Ÿæ€§åœ°æ›´é‡è§†æŸäº›ä½ç½®ï¼ˆæ¯”å¦‚å¼€å¤´ã€ç»“å°¾ï¼‰ï¼Œè€Œç›¸å¯¹å¿½è§†å¦ä¸€äº›ä½ç½®ï¼ˆæ¯”å¦‚ä¸­é—´ï¼‰ã€‚ï¼‰ã€‚</p>
<ul>
<li><strong>æ—‹è½¬ä½ç½®åµŒå…¥ï¼ˆRotary Position Embeddings, RoPEï¼‰</strong> ï¼šLlama 4 é‡‡ç”¨ RoPEï¼Œä»¥ç›¸å¯¹æ–¹å¼ç¼–ç ä½ç½®ä¿¡æ¯ã€‚ä¸ºäº†å¤„ç†æ¯”è®­ç»ƒæ•°æ®æ›´é•¿çš„åºåˆ—ï¼Œå®ƒä»¬ä½¿ç”¨ RoPE ç¼©æ”¾ï¼ˆRoPE scalingï¼‰æŠ€æœ¯ï¼Œå¯¹ä½ç½®å€¼è¿›è¡Œâ€œæ‹‰ä¼¸â€ã€‚è™½ç„¶è¿™èƒ½é˜²æ­¢æ¨¡å‹å› ä½ç½®æ··æ·†è€Œâ€œå›ç»•â€ï¼ˆwrap aroundï¼‰ï¼Œå´é™ä½äº†è¿œè·ç¦» token ä¹‹é—´çš„ä½ç½®åˆ†è¾¨ç‡ï¼Œç›´æ¥åŠ å‰§äº†â€œä¸­é—´è¿·å¤±â€ï¼ˆlost in the middleï¼‰é—®é¢˜ â€”â€” å³ä¸Šä¸‹æ–‡ä¸­é—´éƒ¨åˆ†çš„ç»†èŠ‚å¸¸è¢«å¿½ç•¥æˆ–é”™è¯¯å›å¿†ã€‚</li>
<li><strong>å¸¦çº¿æ€§åç½®çš„æ³¨æ„åŠ›ï¼ˆAttention with Linear Biases, ALiBiï¼‰</strong> ï¼šALiBi æœ€åˆé€šè¿‡åœ¨æ³¨æ„åŠ›åˆ†æ•°ä¸Šæ–½åŠ ä¸ token è·ç¦»æˆæ¯”ä¾‹çš„çº¿æ€§æƒ©ç½šæ¥å®ç°ä½ç½®æ„ŸçŸ¥ï¼Œå¦‚ä»Š ALiBi å·²æˆä¸ºä¸»æµçš„ä½ç½®ç¼–ç æ–¹æ¡ˆã€‚å®ƒé€šè¿‡æ•°å­¦è®¾è®¡ï¼Œå¼ºåˆ¶æ¨¡å‹æ›´å…³æ³¨æ–‡æœ¬ä¸­è¾ƒæ–°çš„å†…å®¹ï¼Œä½†è¿™ç§â€œè¿‘æœŸåå¥½ï¼ˆrecency biasï¼‰â€æ˜¯å¯æ§ä¸”å¹³æ»‘çš„ï¼Œä½¿å¾—æ¨¡å‹èƒ½å¤Ÿç¨³å®šåœ°å¤„ç†æ¯”è®­ç»ƒæ—¶æ›´é•¿çš„åºåˆ—ã€‚Mistral ç³»åˆ—æ¨¡å‹å³é‡‡ç”¨äº† ALiBiï¼Œå¹¶ç»“åˆä½¿ç”¨äº† FlashAttention åº“ã€‚</li>
</ul>
<p><strong>è¿™æˆ–è®¸å¯ä»¥è§£é‡Šï¼šåœ¨é•¿é—®ç­”ä»»åŠ¡ä¸­ï¼ŒGPT-5 å¯èƒ½èƒ½æ­£ç¡®å…³è”ä¸¤ä¸ªç›¸è·è¾ƒè¿œçš„äº‹å®ï¼Œå´å¯¹ä¸­æ®µä¿¡æ¯äº§ç”Ÿå¹»è§‰æ€§è¡¥å……ï¼›è€ŒæŸä¸ª Llama å˜ä½“åˆ™å¯èƒ½å®Œå…¨å¿½ç•¥æç¤ºè¯å¼€å¤´çš„å†…å®¹ï¼Œåªå…³æ³¨ç»“å°¾éƒ¨åˆ†ã€‚</strong></p>
<h3 data-id="heading-5"><strong>3.3 ç¨€ç–ä¸åˆ†å—æ³¨æ„åŠ›æœºåˆ¶ï¼ˆSparse and Chunked Attentionï¼‰</strong></h3>
<p>ä¸ºé¿å…å®Œæ•´çš„ O(nÂ²) å¤æ‚åº¦çš„æ³¨æ„åŠ›è®¡ç®—ï¼ŒLongformer æˆ– BigBird ç­‰æ¶æ„é‡‡ç”¨ç¨€ç–æ¨¡å¼ï¼ˆä¾‹å¦‚åˆ†å—æˆ–æ»‘åŠ¨çª—å£ï¼‰ï¼Œè€Œåˆ†å—æ–¹æ³•å°†é•¿åºåˆ—åˆ‡å‰²æˆç‰‡æ®µï¼Œå¹¶åœ¨å¤„ç†åç»­ç‰‡æ®µæ—¶æºå¸¦å¹¶åˆ©ç”¨ä¹‹å‰ç‰‡æ®µçš„â€œçŠ¶æ€ï¼ˆè¯‘è€…æ³¨ï¼šæ¨¡å‹å¯¹è¯¥å—å†…å®¹çš„ç†è§£å’Œè®°å¿†ã€‚ï¼‰â€ï¼ˆä¾‹å¦‚ GLM-4 ä¸­çš„ Retentive Transformerï¼‰ã€‚Claude 4 çš„æ··åˆæ–¹æ¡ˆåˆ™ä¼šåŠ¨æ€å‹ç¼©è¾ƒæ—§çš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>å®é™…å½±å“ï¼šç¨€ç–è®¾è®¡åœ¨æ™ºèƒ½ä½“ï¼ˆagenticï¼‰å·¥ä½œæµä¸­è¡¨ç°çªå‡º â€”â€” å­æ™ºèƒ½ä½“å¯åˆ†åˆ«å¤„ç†ä¸åŒç‰‡æ®µï¼Œè¿›è¡Œåˆ†å±‚æ‘˜è¦ï¼Œæœ‰æ•ˆå‡å°‘äº†å¤šæ­¥éª¤è§„åˆ’ç­‰é•¿ç¨‹ä»»åŠ¡ä¸­çš„ä¿¡æ¯å¹²æ‰°ã€‚å®ƒä»¬åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ä¹Ÿååˆ†é«˜æ•ˆï¼Œä¾‹å¦‚åˆ†æå¤§å‹ä»£ç åº“æ—¶æ— éœ€å®Œæ•´é‡è½½ä¸Šä¸‹æ–‡ã€‚</p>
<h2 data-id="heading-6"><strong>04 è¶…è¶Šæ³¨æ„åŠ›æœºåˆ¶ï¼šçŠ¶æ€ç©ºé—´æ¨¡å‹çš„å´›èµ·</strong></h2>
<p>æœ‰ä¸€ç±»æ–°å‹æ¶æ„æ­£åœ¨å½»åº•è„±ç¦»æ³¨æ„åŠ›æœºåˆ¶çš„èŒƒå¼ã€‚å…¶ä¸­æœ€å¼•äººæ³¨ç›®çš„æ˜¯ Mambaï¼ˆGu &amp; Dao, 2024ï¼‰ï¼Œå®ƒç”¨é€‰æ‹©æ€§çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼ˆSelective State Space Model, SSMï¼‰å–ä»£äº†è‡ªæ³¨æ„åŠ›æœºåˆ¶ã€‚<strong>Mamba å¹¶ä¸ä¼šé€ä¸€æ¯”è¾ƒæ¯å¯¹ tokenï¼Œè€Œæ˜¯ç»´æŠ¤ä¸€ä¸ªä¸æ–­æ¼”åŒ–çš„éšçŠ¶æ€ï¼Œä½œä¸ºå¯¹è¿‡å» token çš„å‹ç¼©è®°å¿†ï¼Œå¹¶é€‰æ‹©æ€§åœ°æ›´æ–°è¯¥çŠ¶æ€ â€”â€” å­¦ä¹ ä½•æ—¶è¦†ç›–ã€ä½•æ—¶ä¿ç•™ä¿¡æ¯ã€‚</strong></p>
<p>è¿™ç§æ–¹æ³•å®ç°äº†çº¿æ€§æ—¶é—´å¤„ç† â€”â€” æ¯ä¸ª token çš„å¤„ç†æ—¶é—´ä¸ºå¸¸æ•°ï¼Œä½¿ Mamba çš„å®é™…æ‰©å±•å¤æ‚åº¦è¾¾åˆ° O(n)ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™æ„å‘³ç€å®ƒèƒ½ä»¥æ’å®šçš„å†…å­˜æ¶ˆè€—å¤„ç†æ•°ç™¾ä¸‡ tokenï¼Œå³ä¾¿æ˜¯ GPT-5 æˆ– Gemini ç­‰ç»è¿‡é«˜åº¦ä¼˜åŒ–çš„ Transformer ä¹Ÿéš¾ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
<p>ä¸éœ€è¦æ˜¾å¼è®¡ç®— token é—´å…³ç³»çš„æ³¨æ„åŠ›æœºåˆ¶ä¸åŒï¼ŒMamba çš„é€‰æ‹©æ€§æ‰«ææœºåˆ¶ï¼ˆselective scanï¼‰æ›´åƒä¸€ä¸ªåŠ¨æ€æ»¤æ³¢å™¨ï¼Œè‡ªä¸»å†³å®šå°†å“ªäº›å†å²ä¿¡æ¯å‘å‰ä¼ é€’ã€‚Mamba ä¸ä¼šåƒ Transformer é‚£æ ·å­˜å‚¨ä¸€å¼ æ¸…æ™°çš„ã€è®°å½•ç€æ‰€æœ‰è¯å…ƒä¹‹é—´å…³ç³»çš„â€œåœ°å›¾â€ï¼Œè€Œæ˜¯ç»´æŒç€ä¸€æ®µå¯¹åºåˆ—è¿›è¡ŒæŒç»­å‹ç¼©è€Œå½¢æˆçš„â€œè®°å¿†æµâ€ã€‚è¿™ç§è®¾è®¡ä½¿ Mamba åœ¨â€œå¤§æµ·æé’ˆâ€å¼æ£€ç´¢ã€æµå¼æ•°æ®å¤„ç†å’Œåºåˆ—åŒ–é—®ç­”ç­‰ä»»åŠ¡ä¸­è¡¨ç°å“è¶Š â€”â€” åœ¨è¿™äº›åœºæ™¯ä¸­ï¼ŒæŒä¹…çš„è®°å¿†èƒ½åŠ›æ¯”ç²¾ç»†çš„å…³ç³»æ¨ç†æ›´ä¸ºå…³é”®ã€‚</p>
<p>ç„¶è€Œå…¶ä¼˜åŠ¿ä¼´éšç›¸åº”ä»£ä»·ã€‚ç”±äºå†…éƒ¨çŠ¶æ€ç»è¿‡å‹ç¼©ï¼ŒMamba æœ‰æ—¶ä¼šä¸¢å¤±ç»†èŠ‚ï¼Œåœ¨å¤æ‚çš„å¤šè·³æ¨ç†ä»»åŠ¡ä¸­è¡¨ç°åƒåŠ›ã€‚ç›®å‰ï¼Œæ–°å…´çš„æ··åˆæ¶æ„ã€å¦‚ IBM çš„ Granite 4.0ï¼Œä»¥åŠ Gemini 2.5 Proï¼ˆå¯èƒ½ï¼‰ã€‘å·²å¼€å§‹æ¢ç´¢å°† Mamba å¼çš„å¾ªç¯è®°å¿†ä¸ Transformer æ¨ç†å±‚ç»“åˆï¼Œä»¥æœŸå…¼é¡¾è®°å¿†ç¨³å®šæ€§å’Œé€»è¾‘æ·±åº¦ã€‚</p>
<p>Granite 4.0 æ··åˆæ¨¡å‹å®é™…ä¸Šé‡‡ç”¨äº† 9:1 çš„ Mamba-2 æ¨¡å—ä¸ Transformer æ¨¡å—æ¯”ä¾‹ã€‚å…¶æ ¸å¿ƒç†å¿µæ˜¯ï¼šç”± Mamba ä»¥è½»é‡é«˜æ•ˆçš„æ–¹å¼å¤„ç†å®è§‚ä¸Šä¸‹æ–‡å’Œé•¿ç¨‹è®°å¿†ï¼Œè€Œå‘¨æœŸæ€§æ’å…¥çš„ Transformer å±‚åˆ™è´Ÿè´£å¤„ç†ç²¾ç»†çš„å…³ç³»æ¨ç†ä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c43e615d8d4473ab2684d5d9458712a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537286&amp;x-signature=bmoCIGPpsQrgfkeRlO1nWIveVsA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-7"><strong>05 æ¨ç†æ·±åº¦ vs. ä¸Šä¸‹æ–‡å¹¿åº¦</strong></h2>
<p>ç ”ç©¶ä¸€å†è¯å®ï¼Œä»…é æ›´é•¿çš„ä¸Šä¸‹æ–‡é•¿åº¦å¹¶ä¸èƒ½ä¿è¯ç¨³å®šçš„æ¨ç†èƒ½åŠ›ã€‚Liu ç­‰äººï¼ˆ2023ï¼‰æ­ç¤ºäº†â€œä¸­é—´è¿·å¤±â€ï¼ˆlost in the middleï¼‰æ•ˆåº”ï¼šæ¨¡å‹çš„è®°å¿†å‘ˆç°ç³»ç»Ÿæ€§çš„ U å‹æ›²çº¿ â€”â€” è¿‡åº¦å¼ºè°ƒæœ€è¿‘çš„å’Œæœ€å¼€å§‹çš„ tokenï¼Œå´å¿½è§†äº†æç¤ºè¯ä¸­é—´éƒ¨åˆ†çš„ä¿¡æ¯ã€‚è¿™ä¸€ç°è±¡åæ¥è¢«ç§°ä¸ºä¸Šä¸‹æ–‡è¡°å‡ï¼ˆcontext rotï¼‰ï¼Œå³ä¾¿åœ¨ 2025 å¹´çš„æ¨¡å‹æ¶æ„ä¸­ä¾ç„¶å­˜åœ¨ï¼Œåªæ˜¯ç¼“è§£æ‰‹æ®µæœ‰æ‰€æ¼”è¿›ã€‚IBM çš„ Granite 4.0 æ¨¡å‹ï¼ˆIBM, 2025ï¼‰å¼•å…¥äº†åˆ†å±‚è®°å¿†è·¯ç”±å’Œæ··åˆæ³¨æ„åŠ›å±‚ï¼Œèƒ½å¤Ÿæ˜¾å¼åœ°åœ¨æ•°åä¸‡ token çš„ä¸Šä¸‹æ–‡ä¸­ä¿æŒæ¯ä¸ª token çš„é‡è¦æ€§ï¼ˆè¯‘è€…æ³¨ï¼šå³å“ªäº›ä¿¡æ¯æ›´å€¼å¾—ä¿ç•™å’Œå…³æ³¨ï¼‰ï¼Œåˆæ­¥å±•ç°å‡ºè¶…è¶Šæ ‡å‡† Transformer çš„ç¨³å®šæ€§ã€‚</p>
<ul>
<li><strong>Dense Transformersï¼ˆå¦‚ GPT-5 å’Œ Mistralï¼‰</strong></li>
</ul>
<p>å®ƒä»¬çš„å¤±è´¥å¾€å¾€åœ¨äºæ¯«å˜ä¹‹å·®ï¼Œè€Œéåƒé‡Œä¹‹è°¬ã€‚ç”±äºå®ƒä»¬è¿›è¡Œå®Œæ•´æ³¨æ„åŠ›è®¡ç®—ï¼Œå¾ˆå°‘å®Œå…¨å´©æºƒï¼Œå…¶é”™è¯¯é€šå¸¸è¡¨ç°ä¸ºå¾®å¦™çš„äº‹å®å¹»è§‰ â€”â€” ä¾‹å¦‚ï¼Œç¬¬ 50,000 ä¸ª token ä¸­çš„æŸä¸ªç»†èŠ‚å‡ ä¹èƒ½è¢«æ­£ç¡®å›å¿†ï¼Œå´åœ¨å…³é”®æ•°å­—æˆ–åç§°ä¸Šå‡ºé”™ã€‚</p>
<ul>
<li><strong>Compression-Hybridsï¼ˆå¦‚ Claude 4.5ï¼‰</strong></li>
</ul>
<p>å…¶å¤±è´¥æºäºè¿‡åº¦è°¨æ…ã€‚å…¶ä¼˜åŠ¿åœ¨äºä¿æŒä¸»é¢˜è¿è´¯æ€§ï¼Œå¼±ç‚¹åˆ™æ˜¯ç»è¿‡å¯¹é½å¾®è°ƒçš„æ¨¡å‹å¯èƒ½å°†å¤§é‡ç”¨æˆ·æä¾›çš„æ–‡æœ¬ï¼ˆå¦‚æ•´éƒ¨å°è¯´ï¼‰è¯¯åˆ¤ä¸ºå—ç‰ˆæƒä¿æŠ¤çš„å†…å®¹ï¼Œä»è€Œå¯¼è‡´ç¤¼è²Œåœ°æ‹’ç»å›ç­”ã€‚</p>
<ul>
<li><strong>Sparse and Multimodal modelsï¼ˆå¦‚ Gemini 2.5ï¼‰</strong></li>
</ul>
<p>å®ƒä»¬å…·å¤‡è¿‘ä¹å®Œç¾çš„äº‹å®å›å¿†èƒ½åŠ›ã€‚ä¸»è¦çš„å¤±è´¥ç‚¹å¾€å¾€æ¥è‡ªæ¨¡å‹å¤–å›´çš„å®‰å…¨æœºåˆ¶ï¼šåœ¨å¤„ç†æ•°ç™¾ä¸‡å¤šæ¨¡æ€ token æ—¶ï¼Œä¸€ä¸ªè¿‡äºæ•æ„Ÿçš„å®‰å…¨è¿‡æ»¤å™¨å¯èƒ½åœ¨å™ªå£°ä¸­äº§ç”Ÿè¯¯æŠ¥ï¼Œå¯¼è‡´å“åº”è¢«æå‰ä¸­æ­¢ã€‚</p>
<ul>
<li><strong>Mixture-of-Experts modelsï¼ˆå¦‚ Llama 4 å’Œ Qwenï¼‰</strong></li>
</ul>
<p>è¿™ç±»æ¨¡å‹å¯èƒ½ä¼šå› ä¸ºå‡ºç°â€œæŒ‡ä»¤æ¼‚ç§»â€æˆ–â€œä¸æ–­è¾“å‡ºé‡å¤å†…å®¹â€è€Œå¤±æ•ˆã€‚å½“å¤æ‚æŸ¥è¯¢é€¼è¿‘ä¸Šä¸‹æ–‡æé™æ—¶ï¼Œä¸“å®¶è·¯ç”±æœºåˆ¶å¯èƒ½å¼€å§‹å¤±çµï¼Œå¯¼è‡´æ¨¡å‹â€œè¿·å¤±ä½ç½®â€ï¼Œè½¬è€Œè¾“å‡ºé€šç”¨çš„æˆ–é‡å¤çš„å†…å®¹ã€‚</p>
<ul>
<li><strong>State-Space Modelsï¼ˆå¦‚ Mambaï¼‰</strong></li>
</ul>
<p>Mamba å¸¦æ¥äº†ä¸€ç§æ–°å‹çš„å¤±æ•ˆæ¨¡å¼ã€‚ç”±äºå®ƒå°†ä¿¡æ¯å­˜å‚¨ä¸ºè¿ç»­çš„å†…éƒ¨çŠ¶æ€ï¼Œé”™è¯¯é€šå¸¸è¡¨ç°ä¸ºä¿¡æ¯å‹ç¼©æŸå¤±ï¼Œè€Œéç›´æ¥çš„å¹»è§‰ã€‚æ¨¡å‹å¯èƒ½å‡†ç¡®è®°å¾—æŸäº‹å®æ›¾åœ¨åºåˆ—æ—©æœŸå‡ºç°ï¼Œä½†åœ¨è½¬è¿°æ—¶è¿›è¡Œäº†ä¸ç²¾ç¡®çš„ç®€åŒ–æˆ–æ”¹å†™ã€‚è¿™ç§ç‰¹æ€§ä½¿å…¶åœ¨è¶…é•¿ä¸Šä¸‹æ–‡ä¸­æä¸ºç¨³å®šï¼Œä½†åœ¨éœ€è¦ç²¾ç»†åˆ†ææ¨ç†ï¼ˆå°¤å…¶æ˜¯ä¾èµ–ä¸Šä¸‹æ–‡çš„æ¶ˆæ­§ä»»åŠ¡ï¼‰æ—¶å¶å°”ä¸å¤Ÿç²¾ç¡®ã€‚</p>
<p>åŒæ ·å±äº SSMï¼ˆState-Space Modelsï¼‰ èŒƒç•´çš„ï¼Œè¿˜æœ‰ IBM çš„ Granite 4.0 ç³»åˆ—ï¼Œå®ƒä»£è¡¨äº†ä¸€ç§â€œç¨ å¯†-ç¨€ç–æ··åˆâ€æ¶æ„ï¼Œç»“åˆäº†æ··åˆä¸“å®¶æ¨¡å‹ä¸è‡ªé€‚åº”å‹ç¼©çš„ç‰¹æ€§ã€‚å®ƒå¹¶éçº¯ç²¹å°† token è·¯ç”±åˆ°ä¸åŒä¸“å®¶ï¼Œè€Œæ˜¯é‡‡ç”¨åˆ†å±‚èšåˆå’Œé•¿æœŸè®°å¿†å±‚ï¼Œæ¥å‡å°‘è¿œè·ç¦»ä¿¡æ¯ä¼ é€’ä¸­çš„æ¢¯åº¦è¡°å‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/617c75be821d48e1afde1673871ee216~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537286&amp;x-signature=Fpdaescw1cIxoOEcqig11i9gGrU%3D" alt="image.png" loading="lazy"/></p>
<p>æ¶æ„é€‰æ‹©ç›´æ¥å†³å®šäº†ç”¨æˆ·æ‰€èƒ½ä½“éªŒåˆ°çš„â€œé•¿ä¸Šä¸‹æ–‡â€çš„å®é™…æ•ˆæœ</p>
<h2 data-id="heading-8"><strong>06 å®é™…æƒè¡¡ä¸ä½¿ç”¨åœºæ™¯</strong></h2>
<p>ä»¥ä¸‹æ˜¯é’ˆå¯¹ä¸åŒæ¶æ„é€‰æ‹©çš„ä¸€äº›åº”ç”¨åœºæ™¯å»ºè®®ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f82e8f0014a4620a3bc86552e4ada61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537286&amp;x-signature=OJ6DSoR1hRx94ICMAzwNkwAT1ew%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-9"><strong>07 æœªæ¥å‘å±•æ–¹å‘ï¼šæ›´æ™ºèƒ½ï¼Œè€Œéæ›´é•¿</strong></h2>
<p>æˆªè‡³2025å¹´æœ«ï¼Œä¸Šä¸‹æ–‡æ‰©å±•çš„é‡ç‚¹å·²éå•çº¯å¢åŠ è¯å…ƒæ•°é‡ï¼Œè€Œæ˜¯æ›´æ³¨é‡è®©æ¯ä¸ª token éƒ½æœ‰æ„ä¹‰ã€‚é«˜æ•ˆåˆ©ç”¨ä¸Šä¸‹æ–‡éœ€è¦ç»“åˆæ¶æ„è®¾è®¡ï¼ˆarchitectural designï¼‰ã€æ•°æ®æ‰©å±•ï¼ˆdata scalingï¼‰å’Œç¨‹åºåŒ–æ¨ç†ï¼ˆprocedural reasoningï¼‰ã€‚</p>
<p>æœªæ¥çš„ç³»ç»Ÿå¾ˆå¯èƒ½èåˆè¿™äº›æ–¹å‘ â€”â€”Â <strong>ç”¨çŠ¶æ€ç©ºé—´æ¨¡å‹ä¿è¯æŒä¹…è®°å¿†ï¼Œç”¨æ³¨æ„åŠ›æœºåˆ¶ä¿éšœç²¾åº¦ï¼Œå†é€šè¿‡æ¡ä»¶æ¨ç†æå‡æ•´ä½“æ•ˆç‡ã€‚</strong></p>
<p>å¼€å‘è€…åº”åœ¨ä¸åŒæ¶æ„é—´è¿›è¡Œæµ‹è¯•æ¯”è¾ƒï¼Œè€Œéä»…å…³æ³¨ä¸Šä¸‹æ–‡çª—å£å¤§å°ã€‚å¦‚æœæ¨¡å‹çš„å†…åœ¨åå¥½ï¼ˆinductive biasesï¼‰ï¼ˆæ¯”å¦‚é‡è§†å±€éƒ¨è¿è´¯æ€§ã€å‹ç¼©è¿œè·ç¦»ä¿¡æ¯ï¼‰ä¸ä»»åŠ¡ç‰¹æ€§ç›¸åŒ¹é…ï¼Œä¸€ä¸ª 128k ä¸Šä¸‹æ–‡çª—å£å¤§å°çš„ç¨€ç–æ¨¡å‹å®Œå…¨å¯èƒ½èƒœè¿‡ 1M çš„å¯†é›†æ¨¡å‹ã€‚<strong>å½’æ ¹ç»“åº•ï¼Œä¸Šä¸‹æ–‡èƒ½åŠ›æ˜¯æ¶æ„ç‰¹æ€§çš„ä½“ç°ï¼Œè€Œä¸ä»…ä»…æ˜¯è®¡ç®—é‡ï¼ˆæˆ–ç®—åŠ›è§„æ¨¡ï¼‰çš„å †ç Œç»“æœã€‚</strong></p>
<h2 data-id="heading-10"><strong>References</strong></h2>
<p>Gu, A., &amp; Dao, T. (2024). Mamba: Linear-time sequence modeling with selective state spaces. arXiv:2312.00752.</p>
<p>Liu, N. F., RÃ¶ttger, P., Misra, K., Yu, J., &amp; Levy, O. (2023). Lost in the middle: How language models use long contexts. arXiv:2307.03172</p>
<p>International Business Machines Corporation. (2025, October 2). IBM Granite 4.0: Hyper-efficient, high-performance hybrid models. IBM Newsroom. Retrieved from <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.ibm.com%2Fnew%2Fannouncements%2Fibm-granite-4-0-hyper-efficient-high-performance-hybrid-models" target="_blank" title="https://www.ibm.com/new/announcements/ibm-granite-4-0-hyper-efficient-high-performance-hybrid-models" ref="nofollow noopener noreferrer">www.ibm.com/new/announcâ€¦</a></p>
<p><strong>END</strong></p>
<p><strong>æœ¬æœŸäº’åŠ¨å†…å®¹ ğŸ»</strong></p>
<p><strong>â“æ–‡ç« æŒ‡å‡ºâ€œé•¿ä¸Šä¸‹æ–‡ç«èµ›çš„é‡ç‚¹æ­£ä»â€˜è®°å¤šé•¿â€™è½¬å‘â€˜å¦‚ä½•è®°â€™â€ã€‚ä½ æ˜¯å¦è®¤åŒè¿™æ˜¯æœªæ¥çš„ä¸»è¦æŠ€æœ¯æ–¹å‘ï¼Ÿä½ è®¤ä¸ºä¸šç•Œæ¥ä¸‹æ¥æœ€éœ€è¦çªç ´çš„æ¶æ„ç“¶é¢ˆæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p><strong>æ–‡ä¸­é“¾æ¥</strong></p>
<p>[1]<a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2F%40ignacio.de.gregorio.noblejas%2Fis-this-the-secret-to-googles-success-over-chatgpt-b2a545f39ad5" target="_blank" title="https://medium.com/@ignacio.de.gregorio.noblejas/is-this-the-secret-to-googles-success-over-chatgpt-b2a545f39ad5" ref="nofollow noopener noreferrer">medium.com/@ignacio.deâ€¦</a></p>
<p><strong>åŸæ–‡é“¾æ¥ï¼š</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2F%40phuocnguyen90%2Funderstanding-long-context-windows-in-ai-models-65eeb76ca20a" target="_blank" title="https://medium.com/@phuocnguyen90/understanding-long-context-windows-in-ai-models-65eeb76ca20a" ref="nofollow noopener noreferrer">medium.com/@phuocnguyeâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰‘æŒ‡offer-51ã€æ„å»ºä¹˜ç§¯æ•°ç»„]]></title>    <link>https://juejin.cn/post/7584279552434110502</link>    <guid>https://juejin.cn/post/7584279552434110502</guid>    <pubDate>2025-12-17T00:49:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584279552434110502" data-draft-id="7582896213855600655" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" å‰‘æŒ‡offer-51ã€æ„å»ºä¹˜ç§¯æ•°ç»„"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-17T00:49:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SevenCoding"/> <meta itemprop="url" content="https://juejin.cn/user/3261615728242467"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             å‰‘æŒ‡offer-51ã€æ„å»ºä¹˜ç§¯æ•°ç»„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3261615728242467/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SevenCoding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:49:18.000Z" title="Wed Dec 17 2025 00:49:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¢˜â½¬æè¿°</h2>
<p>ç»™å®šâ¼€ä¸ªæ•°ç»„A[0,1,...,n-1] ,è¯·æ„å»ºâ¼€ä¸ªæ•°ç»„B[0,1,...,n-1] ï¼Œå…¶ä¸­B ä¸­çš„å…ƒç´ <code>B[i]=A[0]*A[1]*...*A[i-1]*A[i+1]*...*A[n-1]</code> ã€‚ä¸èƒ½ä½¿â½¤é™¤æ³•ã€‚ï¼ˆæ³¨æ„ï¼šè§„å®š<code>B[0] =A[1] * A[2] * ... * A[n-1]ï¼ŒB[n-1] = A[0] * A[1] * ... * A[n-2]</code> ï¼‰</p>
<p>å¯¹äºA â»“åº¦ä¸º1 çš„æƒ…å†µï¼ŒBâ½†æ„ä¹‰ï¼Œæ•…â½½â½†æ³•æ„å»ºï¼Œå› æ­¤è¯¥æƒ…å†µä¸ä¼šå­˜åœ¨ã€‚</p>
<p>è¾“â¼Šï¼š[1,2,3,4,5]
è¾“å‡ºï¼š[120,60,40,30,24]</p>
<h2 data-id="heading-1">æ€è·¯åŠè§£ç­”</h2>
<h3 data-id="heading-2">æš´åŠ›</h3>
<p>å¯¹æ¯ä¸ªB[i]éƒ½è®¡ç®—Aä¸­é™¤A[i]å¤–æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ï¼ŒåŒé‡å¾ªç¯ï¼Œå¤–å±‚éå†Bçš„æ¯ä¸ªä½ç½®ï¼Œå†…å±‚éå†Aæ•°ç»„è·³è¿‡å½“å‰å…ƒç´ </p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] multiply(<span class="hljs-type">int</span>[] A) {
        <span class="hljs-keyword">if</span> (A == <span class="hljs-literal">null</span> || A.length &lt;= <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">0</span>]; <span class="hljs-comment">// æ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œé•¿åº¦&lt;=1æ—¶è¿”å›ç©ºæ•°ç»„</span>
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> A.length;
        <span class="hljs-type">int</span>[] B = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];
        
        <span class="hljs-comment">// éå†æ¯ä¸ªB[i]</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) {
            <span class="hljs-type">int</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// åˆå§‹åŒ–ä¹˜ç§¯ä¸º1</span>
            
            <span class="hljs-comment">// è®¡ç®—Aä¸­é™¤A[i]å¤–æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; n; j++) {
                <span class="hljs-keyword">if</span> (j != i) { <span class="hljs-comment">// è·³è¿‡å½“å‰å…ƒç´ A[i]</span>
                    product *= A[j];
                }
            }
            
            B[i] = product; <span class="hljs-comment">// å°†ç»“æœå­˜å…¥B[i]</span>
        }
        
        <span class="hljs-keyword">return</span> B;
    }
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(nÂ²)ï¼Œéœ€è¦åµŒå¥—å¾ªç¯éå†æ•°ç»„</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(1)ï¼Œé™¤ç»“æœæ•°ç»„å¤–åªä½¿ç”¨å¸¸æ•°ç©ºé—´</li>
</ul>
<h3 data-id="heading-3">å·¦å³ä¹˜ç§¯æ•°ç»„æ³•ï¼ˆç©ºé—´æ¢æ—¶é—´ï¼‰</h3>
<p>ä½¿ç”¨å·¦å³ä¸¤ä¸ªè¾…åŠ©æ•°ç»„å­˜å‚¨ä¹˜ç§¯ä¿¡æ¯</p>
<p>æ€è·¯ï¼šleft[i]è¡¨ç¤ºA[0]åˆ°A[i-1]çš„ä¹˜ç§¯ï¼Œright[i]è¡¨ç¤ºA[i+1]åˆ°A[n-1]çš„ä¹˜ç§¯</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] multiply(<span class="hljs-type">int</span>[] A) {
        <span class="hljs-keyword">if</span> (A == <span class="hljs-literal">null</span> || A.length &lt;= <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">0</span>];
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> A.length;
        <span class="hljs-type">int</span>[] B = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];
        <span class="hljs-type">int</span>[] left = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];  <span class="hljs-comment">// å­˜å‚¨å·¦ä¾§ä¹˜ç§¯</span>
        <span class="hljs-type">int</span>[] right = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n]; <span class="hljs-comment">// å­˜å‚¨å³ä¾§ä¹˜ç§¯</span>
        
        <span class="hljs-comment">// åˆå§‹åŒ–è¾¹ç•Œå€¼</span>
        left[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;     <span class="hljs-comment">// B[0]æ²¡æœ‰å·¦ä¾§å…ƒç´ ï¼Œä¹˜ç§¯ä¸º1</span>
        right[n-<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;  <span class="hljs-comment">// B[n-1]æ²¡æœ‰å³ä¾§å…ƒç´ ï¼Œä¹˜ç§¯ä¸º1</span>
        
        <span class="hljs-comment">// è®¡ç®—å·¦ä¾§ä¹˜ç§¯ï¼šleft[i] = A[0] Ã— A[1] Ã— ... Ã— A[i-1]</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; n; i++) {
            left[i] = left[i-<span class="hljs-number">1</span>] * A[i-<span class="hljs-number">1</span>];
        }
        
        <span class="hljs-comment">// è®¡ç®—å³ä¾§ä¹˜ç§¯ï¼šright[i] = A[i+1] Ã— A[i+2] Ã— ... Ã— A[n-1]</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> n-<span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
            right[i] = right[i+<span class="hljs-number">1</span>] * A[i+<span class="hljs-number">1</span>];
        }
        
        <span class="hljs-comment">// åˆå¹¶å·¦å³ä¹˜ç§¯å¾—åˆ°æœ€ç»ˆç»“æœï¼šB[i] = left[i] Ã— right[i]</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) {
            B[i] = left[i] * right[i];
        }
        
        <span class="hljs-keyword">return</span> B;
    }
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œä¸‰æ¬¡å•å±‚å¾ªç¯</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œéœ€è¦ä¸¤ä¸ªè¾…åŠ©æ•°ç»„</li>
</ul>
<p><strong>çŸ©é˜µè§†è§’ç†è§£</strong>ï¼š å¦‚æœæŠŠé—®é¢˜çœ‹ä½œçŸ©é˜µï¼ŒB[i]å°±æ˜¯å»æ‰å¯¹è§’çº¿å…ƒç´ A[i]åï¼Œè¯¥è¡Œæ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ã€‚</p>
<pre><code class="hljs language-text" lang="text">A = [1, 2, 3, 4, 5]

B[0] = 2 Ã— 3 Ã— 4 Ã— 5 = 120  (å»æ‰A[0])
B[1] = 1 Ã— 3 Ã— 4 Ã— 5 = 60   (å»æ‰A[1])  
B[2] = 1 Ã— 2 Ã— 4 Ã— 5 = 40   (å»æ‰A[2])
</code></pre>
<p><strong>å·¦å³åˆ†è§£ç­–ç•¥ï¼š</strong></p>
<ul>
<li><code>left[i]</code>= A[0] Ã— A[1] Ã— ... Ã— A[i-1] ï¼ˆiå·¦è¾¹çš„ä¹˜ç§¯ï¼‰</li>
<li><code>right[i]</code>= A[i+1] Ã— A[i+2] Ã— ... Ã— A[n-1] ï¼ˆiå³è¾¹çš„ä¹˜ç§¯ï¼‰</li>
<li><code>B[i] = left[i] Ã— right[i]</code>ï¼ˆå·¦å³ä¹˜ç§¯ç›¸ä¹˜æ­£å¥½å»æ‰A[i]ï¼‰</li>
</ul>
<h3 data-id="heading-4">ç©ºé—´ä¼˜åŒ–ï¼ˆæ¨èï¼‰</h3>
<p>åœ¨æ–¹æ³•äºŒçš„åŸºç¡€ä¸Šä¼˜åŒ–ç©ºé—´ä½¿ç”¨ï¼Œåœ¨ç»“æœæ•°ç»„Bä¸Šç›´æ¥è¿›è¡Œå·¦å³ä¹˜ç§¯è®¡ç®—ã€‚</p>
<p>å…ˆç”¨Bæ•°ç»„å­˜å‚¨å·¦ä¾§ä¹˜ç§¯ï¼Œå†ç”¨å˜é‡åŠ¨æ€è®¡ç®—å³ä¾§ä¹˜ç§¯</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] multiply(<span class="hljs-type">int</span>[] A) {
        <span class="hljs-keyword">if</span> (A == <span class="hljs-literal">null</span> || A.length &lt;= <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">0</span>];
        }
        
        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> A.length;
        <span class="hljs-type">int</span>[] B = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];
        
        <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šè®¡ç®—å·¦ä¾§ä¹˜ç§¯å¹¶ç›´æ¥å­˜å…¥B</span>
        B[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>; <span class="hljs-comment">// B[0]æ²¡æœ‰å·¦ä¾§å…ƒç´ </span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; n; i++) {
            <span class="hljs-comment">// B[i] = A[0] Ã— A[1] Ã— ... Ã— A[i-1]</span>
            B[i] = B[i-<span class="hljs-number">1</span>] * A[i-<span class="hljs-number">1</span>];
        }
        
        <span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šä»å³å‘å·¦éå†ï¼Œç”¨tempå˜é‡ç´¯ç§¯å³ä¾§ä¹˜ç§¯</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// ç”¨äºç´¯ç§¯å³ä¾§ä¹˜ç§¯</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> n-<span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
            <span class="hljs-comment">// B[i]å½“å‰å­˜å‚¨çš„æ˜¯å·¦ä¾§ä¹˜ç§¯ï¼Œä¹˜ä»¥å³ä¾§ä¹˜ç§¯å¾—åˆ°æœ€ç»ˆç»“æœ</span>
            B[i] = B[i] * temp;
            <span class="hljs-comment">// æ›´æ–°tempï¼Œä¸ºä¸‹ä¸€ä¸ªä½ç½®ï¼ˆi-1ï¼‰å‡†å¤‡å³ä¾§ä¹˜ç§¯</span>
            temp = temp * A[i];
        }
        
        <span class="hljs-keyword">return</span> B;
    }
}
</code></pre>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œä¸¤æ¬¡éå†æ•°ç»„</li>
<li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼šO(1)ï¼Œé™¤ç»“æœæ•°ç»„å¤–åªä½¿ç”¨å¸¸æ•°ç©ºé—´</li>
</ul>
<p><strong>ç®—æ³•æ­¥éª¤è¯¦è§£</strong></p>
<ol>
<li>ç¬¬ä¸€æ­¥ï¼šå·¦ä¾§ä¹˜ç§¯è®¡ç®—</li>
</ol>
<pre><code class="hljs language-less" lang="less">åˆå§‹: <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[0]</span> = <span class="hljs-number">1</span>
<span class="hljs-selector-tag">i</span>=<span class="hljs-number">1</span>: <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[1]</span> = <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[0]</span> Ã— <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[0]</span> = <span class="hljs-number">1</span> Ã— <span class="hljs-number">1</span> = <span class="hljs-number">1</span>
<span class="hljs-selector-tag">i</span>=<span class="hljs-number">2</span>: <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[2]</span> = <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[1]</span> Ã— <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[1]</span> = <span class="hljs-number">1</span> Ã— <span class="hljs-number">2</span> = <span class="hljs-number">2</span>  
<span class="hljs-selector-tag">i</span>=<span class="hljs-number">3</span>: <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[3]</span> = <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[2]</span> Ã— <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[2]</span> = <span class="hljs-number">2</span> Ã— <span class="hljs-number">3</span> = <span class="hljs-number">6</span>
<span class="hljs-selector-tag">i</span>=<span class="hljs-number">4</span>: <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[4]</span> = <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[3]</span> Ã— <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[3]</span> = <span class="hljs-number">6</span> Ã— <span class="hljs-number">4</span> = <span class="hljs-number">24</span>
æ­¤æ—¶<span class="hljs-selector-tag">B</span> = <span class="hljs-selector-attr">[1, 1, 2, 6, 24]</span> (å­˜å‚¨çš„æ˜¯å„ä½ç½®çš„å·¦ä¾§ä¹˜ç§¯)
</code></pre>
<ol start="2">
<li>ç¬¬äºŒæ­¥ï¼šå³ä¾§ä¹˜ç§¯æ•´åˆ</li>
</ol>
<pre><code class="hljs language-less" lang="less">åˆå§‹: <span class="hljs-selector-tag">temp</span> = <span class="hljs-number">1</span>
<span class="hljs-selector-tag">i</span>=<span class="hljs-number">4</span>: <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[4]</span> = <span class="hljs-number">24</span> Ã— <span class="hljs-number">1</span> = <span class="hljs-number">24</span>, <span class="hljs-selector-tag">temp</span> = <span class="hljs-number">1</span> Ã— <span class="hljs-number">5</span> = <span class="hljs-number">5</span>
<span class="hljs-selector-tag">i</span>=<span class="hljs-number">3</span>: <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[3]</span> = <span class="hljs-number">6</span> Ã— <span class="hljs-number">5</span> = <span class="hljs-number">30</span>, <span class="hljs-selector-tag">temp</span> = <span class="hljs-number">5</span> Ã— <span class="hljs-number">4</span> = <span class="hljs-number">20</span>  
<span class="hljs-selector-tag">i</span>=<span class="hljs-number">2</span>: <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[2]</span> = <span class="hljs-number">2</span> Ã— <span class="hljs-number">20</span> = <span class="hljs-number">40</span>, <span class="hljs-selector-tag">temp</span> = <span class="hljs-number">20</span> Ã— <span class="hljs-number">3</span> = <span class="hljs-number">60</span>
<span class="hljs-selector-tag">i</span>=<span class="hljs-number">1</span>: <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[1]</span> = <span class="hljs-number">1</span> Ã— <span class="hljs-number">60</span> = <span class="hljs-number">60</span>, <span class="hljs-selector-tag">temp</span> = <span class="hljs-number">60</span> Ã— <span class="hljs-number">2</span> = <span class="hljs-number">120</span>
<span class="hljs-selector-tag">i</span>=<span class="hljs-number">0</span>: <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[0]</span> = <span class="hljs-number">1</span> Ã— <span class="hljs-number">120</span> = <span class="hljs-number">120</span>, <span class="hljs-selector-tag">temp</span> = <span class="hljs-number">120</span> Ã— <span class="hljs-number">1</span> = <span class="hljs-number">120</span>
æœ€ç»ˆ<span class="hljs-selector-tag">B</span> = <span class="hljs-selector-attr">[120, 60, 40, 30, 24]</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Cursor å¯è§†åŒ–ç¼–è¾‘å™¨å®æµ‹ï¼šå‰ç«¯æ•ˆç‡æ–°åˆ©å™¨ï¼Œä½†ä»éœ€å®Œå–„]]></title>    <link>https://juejin.cn/post/7584353612500779049</link>    <guid>https://juejin.cn/post/7584353612500779049</guid>    <pubDate>2025-12-17T00:53:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584353612500779049" data-draft-id="7584356212800602153" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Cursor å¯è§†åŒ–ç¼–è¾‘å™¨å®æµ‹ï¼šå‰ç«¯æ•ˆç‡æ–°åˆ©å™¨ï¼Œä½†ä»éœ€å®Œå–„"/> <meta itemprop="keywords" content="Cursor,AIç¼–ç¨‹,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-17T00:53:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£å“¥æ•°æ™ºè°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3825956195409223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Cursor å¯è§†åŒ–ç¼–è¾‘å™¨å®æµ‹ï¼šå‰ç«¯æ•ˆç‡æ–°åˆ©å™¨ï¼Œä½†ä»éœ€å®Œå–„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3825956195409223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£å“¥æ•°æ™ºè°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:53:54.000Z" title="Wed Dec 17 2025 00:53:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>12æœˆ10æ—¥ï¼Œ<code>Cursor</code> å‘å¸ƒäº† 2.2 ç‰ˆæœ¬ã€‚</p>
<p>è¿™ä¸ªç‰ˆæœ¬ä¸»è¦åŒ…å«ä¸¤ä¸ªé‡å¤§ç‰¹æ€§ï¼š</p>
<ol>
<li>åœ¨ Askã€Agentã€Plan æ¨¡å¼åï¼Œå¢åŠ äº† <strong>Debug æ¨¡å¼</strong>ï¼Œå¯ä»¥æ›´åŠ æ–¹ä¾¿å¤§å®¶è°ƒè¯• bugã€‚</li>
<li>åŸæ¥æµ‹è¯•çš„å†…ç½®æµè§ˆå™¨å‡çº§ä¸º<strong>å¯è§†åŒ–ç¼–è¾‘å™¨</strong>äº†ï¼Œæ”¯æŒå¸ƒå±€è°ƒæ•´å’Œæ ·å¼ç¼–è¾‘ã€‚</li>
</ol>
<p>ä»Šå¤©ï¼Œå…ˆå’Œå¤§å®¶èŠèŠæµè§ˆå™¨è¿™å—å‡çº§ä½“éªŒå¦‚ä½•ã€‚</p>
<h2 data-id="heading-0">å‡çº§å†…å®¹</h2>
<p>æˆ‘å°è¯•ä¸‹æ¥ï¼Œæå‡ä¸»è¦é›†ä¸­åœ¨ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>ç²¾å‡†å®šä½</li>
<li>å¯è§†åŒ–</li>
</ul>
<h3 data-id="heading-1">ç²¾å‡†å®šä½</h3>
<p>å¤§å®¶åœ¨ä½¿ç”¨ AI å¼€å‘å‰ç«¯çš„è¿‡ç¨‹ä¸­ä¸€å®šé‡åˆ°ç±»ä¼¼ä¸‹é¢çš„æƒ…å†µï¼šâ€œè¯·ä¸ºå¯¼èˆªæ ä¸­ç¬¬äºŒè¡Œç¬¬ä¸‰ä¸ªèœå•æ ·å¼å¢åŠ çƒ­ç‚¹å›¾æ ‡ï¼Œå®ƒæ˜¯æˆ‘ä»¬ç›®å‰ä¸»æ¨çš„æ´»åŠ¨ã€‚â€</p>
<p>å°±æ˜¯ç®€å•çš„ä¸€ä¸ªé«˜æ˜¾æ•ˆæœï¼Œä½†æ˜¯éœ€è¦å¾ˆå¤šé¢å¤–çš„æ–‡å­—æ¥ä¿è¯ç›®æ ‡å…ƒç´ çš„å‘½ä¸­ã€‚</p>
<p>ç°åœ¨æœ‰äº†å¯è§†åŒ–æµè§ˆå™¨ï¼Œå°±å¯ä»¥<strong>ç›´æ¥ç‚¹é€‰ç›®æ ‡</strong>ï¼Œç„¶ååŠ å…¥å¯¹è¯ï¼Œè¿›è€Œé€šè¿‡æŒ‡ä»¤è¿›è¡Œä¿®æ”¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/544fa284fa0445b1ab25a53647993f80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537633&amp;x-signature=hKG%2FbICqf18joC4YxiRyVC5rcjY%3D" alt="" loading="lazy"/></p>
<p>ä½†è¿™ä¸ªç‰¹æ€§åœ¨ä¹‹å‰å†…æµ‹çš„æµè§ˆå™¨åŠŸèƒ½ä¸­å·²ç»ä½“éªŒè¿‡äº†ï¼Œå¹¶ä¸ç®—å¾ˆå‡ºå½©ã€‚</p>
<h3 data-id="heading-2">å¯è§†åŒ–</h3>
<p>å¦ä¸€ä¸ªå‡çº§çš„é‡ç‚¹å°±æ˜¯å¯è§†åŒ–ã€‚</p>
<p>ç¬¬1ç‚¹ï¼Œå¢åŠ äº† <code>Design</code> å’Œ <code>CSS</code> é¢æ¿ï¼Œä¸ç”¨åœ¨ä»£ç ä¸­å³å¯å®Œæˆé¡µé¢æ•ˆæœçš„è°ƒæ•´ï¼ŒåŒ…æ‹¬æ–‡å­—å†…å®¹ã€é¢œè‰²æ ·å¼ç­‰ã€‚</p>
<p>å°¤å…¶æ˜¯ <code>Design</code> é¢æ¿ï¼Œæ˜æ‘†ç€å†² <code>Figma</code> ç­‰åŸå‹å·¥å…·å»çš„ã€‚ç°é˜¶æ®µ AI åœ¨åŸå‹åˆ¶ä½œé˜¶æ®µå·²ç»éå¸¸æœ‰æ•ˆæœäº†ï¼Œå¦‚æœå†åŠ ä¸Šå¯è§†åŒ–ç¼–è¾‘ï¼Œå¿…å°†æ›´åŠ é«˜æ•ˆã€‚</p>
<p>å¦‚æœä¿®æ”¹å†…å®¹äº†ï¼Œè®°å¾—ç‚¹å‡»â€œApplyâ€ï¼Œå¦‚æœæ“ä½œé”™è¯¯ï¼Œä¹Ÿå¯ä»¥â€œæ’¤é”€â€æˆ–è€…ç›´æ¥â€œå–æ¶ˆâ€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/443a203c2d5240d79750b4d9f53d36f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537633&amp;x-signature=yJl9f4N%2Bs3RqNmnf0Lfcdr1%2FQWs%3D" alt="" loading="lazy"/></p>
<p>ç¬¬2ç‚¹ï¼Œæµè§ˆå™¨ä¸­çš„å…ƒç´ ï¼Œå¯ä»¥ç›´æ¥æ‹–åŠ¨ä½ç½®ã€è°ƒæ•´å¤§å°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39a56e5541b448e5abaa88aae7b049c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537633&amp;x-signature=weKFNyUdhUq48LrrGSRbSdTVgrQ%3D" alt="æ‹–åŠ¨ä½ç½®åçš„æ ‡é¢˜" loading="lazy"/></p>
<p>å†ä¹Ÿä¸ä¼šå‡ºç°è°ƒæ•´è¿‡å¤´ã€åå¤ä¼˜åŒ–çš„é—®é¢˜äº†ï¼Œ<strong>æ‰€è§å³æ‰€å¾—</strong>ï¼Œä¸€æ­¥åˆ°ä½ã€‚</p>
<p>è°ƒæ•´å¤§å°çš„ä½¿ç”¨ä¸æ˜¯å¾ˆç›´è§‚ï¼Œéœ€è¦å°†é¼ æ ‡æ”¾åˆ° <code>Layout</code> - <code>Dimensions</code> ä¸‹çš„ <code>W</code> ä¸Šï¼Œå½“é¼ æ ‡å˜ä¸ºåŒå‘ç®­å¤´æ—¶ï¼Œæ‹–åŠ¨å³å¯è°ƒæ•´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e223cbacbc94f5c95d443e5f4bf5d7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537633&amp;x-signature=elshBZmz4IRtighDq9jSesu4y3w%3D" alt="åŒå‘ç®­å¤´å¯è°ƒæ•´å®½åº¦" loading="lazy"/></p>
<h2 data-id="heading-3">æ”¹è¿›çš„åœ°æ–¹</h2>
<p>å‡çº§å†…å®¹ä½“éªŒèµ·æ¥è¿˜æ˜¯ä¸é”™çš„ï¼Œä½†è¿˜æœ‰å‡ ä¸ªåœ°æ–¹æ˜æ˜¾éœ€è¦ç»§ç»­æ”¹è¿›ã€‚</p>
<p>ä¸€ä¸ªæ˜¯ï¼Œå®˜æ–¹å®£ç§°çš„ç›´æ¥ä¿®æ”¹ <code>props</code> ç›®å‰å¥½åƒ<strong>ä»…æ”¯æŒ React å·¥ç¨‹</strong>ï¼ŒVue å·¥ç¨‹æ˜¯ä¸è¡Œçš„ï¼Œç›´æ¥æ²¡æœ‰ <code>Properties</code> éƒ¨åˆ†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f5654d9abbf4b35a136f5a8be654cbf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537633&amp;x-signature=oVIYDCTrp7yJPojoEZwwhFJkae4%3D" alt="" loading="lazy"/></p>
<p>å¦ä¸€ä¸ªæ˜¯ï¼Œé¡µé¢å…ƒç´ æ”¯æŒç›´æ¥æ‹–åŠ¨ï¼Œä½†æ˜¯æ‹–åŠ¨å¯¼è‡´çš„ <code>DOM</code> ç»“æ„å˜åŒ–ï¼Œä¼š<strong>å½±å“åˆ°åŸæœ‰çš„æ ·å¼</strong>ã€‚åº”è¯¥å®ç°åŸæœ‰æ ·å¼åŒæ­¥ç§»åŠ¨å¹¶ä¿æŒæ•ˆæœï¼Œè¿™æ ·çš„æ‹–åŠ¨æ‰ç®—æ›´åŠ æœ‰ä»·å€¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80a6868d895c41c9b712f660313bb296~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537633&amp;x-signature=CzJRnWbbpUpw9CNOu0jRWyGTkZ8%3D" alt="ç¬¬äºŒæ¡ç§»åŠ¨åæ ·å¼è¢«å½±å“" loading="lazy"/></p>
<p>å†æœ‰ä¸€ä¸ªå°±æ˜¯ï¼Œ<code>Cursor Browser</code> å¼€æ”¾äº†å¼€å‘è€…å·¥å…·ï¼ŒåŒ…æ‹¬å¤§å®¶å¸¸ç”¨çš„ <code>Console</code> é€‰é¡¹å¡ã€‚</p>
<p>ä½†æ˜¯ï¼Œç›®å‰ <code>Console</code> ä¸­å‡ºç°çš„<strong>é”™è¯¯</strong>ï¼Œå¹¶ä¸èƒ½åƒ <code>TRAE</code> ä¸€æ ·ç›´æ¥<strong>ç‚¹é€‰åŠ å…¥å¯¹è¯</strong>ï¼Œéœ€è¦å¤åˆ¶ç²˜è´´ï¼Œä¸å¤Ÿä¸€ä½“åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbfd024bd08d42d1aea5d4f61d6b7137~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537633&amp;x-signature=IyDx5XXi0H758kNFEOJ3RH%2FT1sY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">ç»“è¯­</h2>
<p>åœ¨æˆ‘çš„ä½¿ç”¨å†ç¨‹ä¸­ï¼Œå†…ç½®æµè§ˆå™¨åŠç›¸å…³ç‰¹æ€§æ˜¯ç”± <code>TRAE</code> æœ€å…ˆæå‡ºå¹¶å®ç°çš„ï¼Œä½†ç›®å‰ <code>Cursor</code> æ˜æ˜¾åšçš„æ›´åŠ æ·±å…¥äº†ã€‚</p>
<p>å…¶å®æˆ‘æŒºå¸Œæœ›ä»–ä»¬å¯ä»¥ç›¸äº’â€œå€Ÿé‰´â€ï¼Œæ¯•ç«Ÿï¼Œ<strong>å€¼å¾—â€œå€Ÿé‰´â€çš„è‚¯å®šæ˜¯åå“å¥½çš„ç‰¹æ€§ï¼Œè¶Šæ¥è¶Šå¤šå¥½ç‰¹æ€§çš„å‡çº§ï¼Œå¿…ç„¶å¸¦æ¥ AI å¼€å‘çš„æ–°ä½“éªŒ</strong>ã€‚</p>
<p>æœŸå¾…åç»­å„å®¶çš„å‡çº§~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ CSS ä¼ªç±»å’Œä¼ªå…ƒç´ çš„æœ¬è´¨åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7584266184882880546</link>    <guid>https://juejin.cn/post/7584266184882880546</guid>    <pubDate>2025-12-17T00:54:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584266184882880546" data-draft-id="7576936862632411136" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ CSS ä¼ªç±»å’Œä¼ªå…ƒç´ çš„æœ¬è´¨åŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2025-12-17T00:54:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ CSS ä¼ªç±»å’Œä¼ªå…ƒç´ çš„æœ¬è´¨åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:54:34.000Z" title="Wed Dec 17 2025 00:54:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å†™å‰ç«¯CSSæ ·å¼çš„æ—¶å€™ï¼Œç»å¸¸ç”¨åˆ°è¿™ç§<code>:hover</code>æˆ–è€…<code>::before</code>æœ‰å†’å·çš„å†™æ³•ã€‚æˆ‘å¾ˆç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆæœ‰äº›æ˜¯å•å†’å·ï¼Œæœ‰äº›åˆæ˜¯åŒå†’å·å‘¢ï¼Ÿ</p>
<p>åæ¥æˆ‘æ‰çŸ¥é“è¿™ç§å†™æ³•ä¹ŸåŒºåˆ†ä¸º<strong>ä¼ªç±»</strong>å’Œ<strong>ä¼ªå…ƒç´ </strong>ã€‚</p>
<h3 data-id="heading-0">ä¼ªç±»å’Œä¼ªå…ƒç´ æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>ä¼ªç±»ï¼ˆPseudo-classesï¼‰</strong>ï¼šâ€‹ç”¨äºé€‰æ‹©å¤„äºç‰¹å®šçŠ¶æ€çš„å…ƒç´ ã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼Œå½“å…ƒç´ å¤„äºæŸç§çŠ¶æ€çš„æ—¶å€™ï¼Œç»™å®ƒåŠ ä¸Šä¸€ä¸ªâ€œç±»â€æ¥å®šä¹‰æ ·å¼ã€‚</p>
<ul>
<li>è¯­æ³•ï¼šâ€‹å•ä¸ªå†’å·<code>:</code>ï¼Œä¾‹å¦‚<code>:hover</code></li>
</ul>
<p><strong>ä¼ªå…ƒç´ ï¼ˆPseudo-elementsï¼‰</strong>ï¼šç”¨äºé€‰æ‹©å…ƒç´ çš„ç‰¹å®šéƒ¨åˆ†ã€‚å¯ä»¥ç†è§£ä¸ºï¼Œå®ƒåœ¨æ–‡æ¡£ä¸­åˆ›å»ºäº†ä¸€ä¸ªè™šæ‹Ÿçš„â€œå…ƒç´ â€æ¥è®¾ç½®æ ·å¼ã€‚</p>
<ul>
<li>è¯­æ³•ï¼šåŒå†’å·<code>::</code>ï¼Œä¾‹å¦‚<code>::before</code></li>
</ul>
<hr/>
<h3 data-id="heading-1">åªè¦æ˜¯å•ä¸ªå†’å·çš„å°±ä¸€å®šæ˜¯ä¼ªå…ƒç´ å—ï¼Ÿ</h3>
<p>åœ¨ç°ä»£CSS3ç‚¹è§„èŒƒä¸­ï¼Œæ‰€æœ‰ä½¿ç”¨åŒå†’å·<code>::</code>è¯­æ³•çš„é€‰æ‹©å™¨éƒ½è¢«å®šä¹‰ä¸ºä¼ªå…ƒç´ ã€‚è¿™æ˜¯W3Cä¸ºäº†æ˜ç¡®åŒºåˆ†ä¼ªç±»å’Œä¼ªå…ƒç´ è€Œå¼•å…¥çš„çº¦å®šã€‚</p>
<p>ä½†åœ¨æ—©æœŸçš„CSSä¸­ï¼Œä¼ªå…ƒç´ ä¹Ÿä½¿ç”¨å•å†’å·ï¼Œå› ä¸ºå½“æ—¶æ²¡æœ‰åŒºåˆ†è¯­æ³•ã€‚æ‰€ä»¥ä¸ºäº†å‘åå…¼å®¹ï¼Œå¤§å¤šæ•°çš„æµè§ˆå™¨è¿˜æ˜¯ä¼šæ”¯æŒ<code>:before</code>ã€<code>:after</code>ç­‰å•å†’å·çš„å†™æ³•ã€‚</p>
<p>ä½†æ–°çš„ä¼ªå…ƒç´ åªæ”¯æŒåŒå†’å·ï¼Œæ¯”å¦‚ï¼š<code>::selection</code>ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¼ªç±»ï¼ˆPseudo-classesï¼‰</h3>
<p>ä¼ªç±»ç”¨äº<strong>é€‰æ‹©å¤„äºç‰¹å®šçŠ¶æ€çš„å…ƒç´ </strong>ï¼Œæ¯”å¦‚ç”¨æˆ·äº¤äº’çŠ¶æ€ã€ç»“æ„ä½ç½®ç­‰ã€‚</p>
<h4 data-id="heading-3">å¸¸è§ä¼ªç±»ç¤ºä¾‹ï¼š</h4>
<ul>
<li><code>:hover</code>ï¼šé¼ æ ‡æ‚¬åœæ—¶</li>
<li><code>:focus</code>ï¼šå…ƒç´ è·å¾—ç„¦ç‚¹æ—¶ï¼ˆå¦‚è¾“å…¥æ¡†ï¼‰</li>
<li><code>:active</code>ï¼šå…ƒç´ è¢«æ¿€æ´»æ—¶ï¼ˆå¦‚ç‚¹å‡»æŒ‰é’®ï¼‰</li>
<li><code>:visited</code>ï¼šé“¾æ¥å·²è¢«è®¿é—®è¿‡</li>
<li><code>:first-child</code> / <code>:last-child</code>ï¼šç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå­å…ƒç´ </li>
<li><code>:nth-child(n)</code>ï¼šç¬¬ n ä¸ªå­å…ƒç´ </li>
<li><code>:not(selector)</code>ï¼šæ’é™¤åŒ¹é… selector çš„å…ƒç´ </li>
</ul>
<h4 data-id="heading-4">ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">color</span>: red;
}

<span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:focus</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid blue;
}

<span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:first</span>-child {
  <span class="hljs-attribute">font-weight</span>: bold;
}
</code></pre>
<p>ä¼ªç±»ä½¿ç”¨<strong>å•å†’å·</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-5">ä¼ªå…ƒç´ ï¼ˆPseudo-elementsï¼‰</h3>
<p>ä¼ªå…ƒç´ ç”¨äº<strong>åˆ›å»ºå¹¶æ ·å¼åŒ–æ–‡æ¡£ä¸­ä¸å­˜åœ¨çš„è™šæ‹Ÿå…ƒç´ </strong>ï¼Œæ¯”å¦‚æ®µè½é¦–å­—æ¯ã€é€‰ä¸­æ–‡æœ¬ã€å…ƒç´ å‰åæ’å…¥å†…å®¹ç­‰ã€‚</p>
<h4 data-id="heading-6">å¸¸è§ä¼ªå…ƒç´ ï¼š</h4>
<ul>
<li><code>::before</code>ï¼šåœ¨å…ƒç´ å†…å®¹å‰æ’å…¥å†…å®¹</li>
<li><code>::after</code>ï¼šåœ¨å…ƒç´ å†…å®¹åæ’å…¥å†…å®¹</li>
<li><code>::first-letter</code>ï¼šæ®µè½çš„ç¬¬ä¸€ä¸ªå­—æ¯</li>
<li><code>::first-line</code>ï¼šæ®µè½çš„ç¬¬ä¸€è¡Œ</li>
<li><code>::selection</code>ï¼šç”¨æˆ·é€‰ä¸­çš„æ–‡æœ¬ï¼ˆéƒ¨åˆ†æµè§ˆå™¨éœ€åŠ å‰ç¼€ï¼‰</li>
</ul>
<h4 data-id="heading-7">ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">::first-letter</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>;
  <span class="hljs-attribute">color</span>: gold;
}

<span class="hljs-selector-class">.quote</span><span class="hljs-selector-pseudo">::before</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">"â€œ"</span>;
}

<span class="hljs-selector-class">.quote</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">"â€"</span>;
}

<span class="hljs-selector-pseudo">::selection</span> {
  <span class="hljs-attribute">background</span>: yellow;
  <span class="hljs-attribute">color</span>: black;
}
</code></pre>
<p>ä¼ªå…ƒç´ ä½¿ç”¨<strong>åŒå†’å·</strong>ï¼ˆ<code>::before</code>ï¼‰ï¼Œè¿™æ˜¯CSS3çš„è§„èŒƒå†™æ³•ã€‚å‡ºäºå…¼å®¹æ€§è€ƒè™‘ï¼Œæ—§ä»£ç å¯èƒ½ä»ç”¨å•å†’å·ï¼ˆå¦‚<code>:before</code>ï¼‰ï¼Œç°ä»£é¡¹ç›®å»ºè®®ç”¨åŒå†’å·ã€‚</p>
<hr/>
<h3 data-id="heading-8">ä¸»è¦åŒºåˆ«</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ªç±»ï¼ˆPseudo-classï¼‰</th><th>ä¼ªå…ƒç´ ï¼ˆPseudo-elementï¼‰</th></tr></thead><tbody><tr><td>ä½œç”¨å¯¹è±¡</td><td>å·²å­˜åœ¨çš„å…ƒç´ çš„<strong>çŠ¶æ€æˆ–ä½ç½®</strong></td><td>åˆ›å»º<strong>ä¸å­˜åœ¨çš„è™šæ‹Ÿå†…å®¹æˆ–éƒ¨åˆ†</strong></td></tr><tr><td>è¯­æ³•</td><td>å•å†’å·ï¼ˆå¦‚ <code>:hover</code>ï¼‰</td><td>åŒå†’å·ï¼ˆå¦‚ <code>::before</code>ï¼‰</td></tr><tr><td>æ˜¯å¦ç”Ÿæˆå†…å®¹</td><td>å¦</td><td>æ˜¯ï¼ˆå¸¸é…åˆ <code>content</code> å±æ€§ï¼‰</td></tr><tr><td>ç¤ºä¾‹</td><td><code>a:hover</code>, <code>:nth-child(2)</code></td><td><code>::first-letter</code>, <code>::after</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-9">ç¤ºä¾‹æ•ˆæœ</h3>
<p>ä¸€ä¸ªç®€å•çš„å¾…åŠäº‹é¡¹åˆ—è¡¨
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0592bd2d56b48c689768cb07b368be4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YiY5aSn5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537673&amp;x-signature=%2FiRwnx4WTNIkf3UjEJUqOy02d6A%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-10">å®Œæ•´ä»£ç </h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ä¼ªç±»vsä¼ªå…ƒç´ ç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-class">.container</span> {
            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">500px</span>;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
            <span class="hljs-attribute">background</span>: white;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">30px</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">15px</span>;
            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">30px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.2</span>);
        }

        <span class="hljs-selector-tag">h1</span> {
            <span class="hljs-attribute">text-align</span>: center;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;
        }

        <span class="hljs-selector-class">.explanation</span> {
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#f8f9fa</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">border-left</span>: <span class="hljs-number">4px</span> solid <span class="hljs-number">#3498db</span>;
        }

        <span class="hljs-selector-class">.todo-list</span> {
            <span class="hljs-attribute">list-style</span>: none;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
        }

        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span> {
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">8px</span> <span class="hljs-number">0</span>;
            <span class="hljs-attribute">background</span>: white;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#e9ecef</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
            <span class="hljs-attribute">cursor</span>: pointer;
            <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.3s</span> ease;
            <span class="hljs-attribute">position</span>: relative;
        }

        <span class="hljs-comment">/* === ä¼ªç±»æ ·å¼ === */</span>
        <span class="hljs-comment">/* ç¬¬ä¸€ä¸ªå­å…ƒç´  */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:first</span>-child {
            <span class="hljs-attribute">border-left</span>: <span class="hljs-number">4px</span> solid <span class="hljs-number">#e74c3c</span>;
        }

        <span class="hljs-comment">/* å¶æ•°é¡¹ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(even) {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8f9fa</span>;
        }

        <span class="hljs-comment">/* æ‚¬åœæ•ˆæœ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#aab49b</span>;
            <span class="hljs-attribute">color</span>: white;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">10px</span>);
            <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#aab49b</span>;
        }

        <span class="hljs-comment">/* ç‚¹å‡»æ•ˆæœ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:active</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#2ecc71</span>;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.98</span>);
        }

        <span class="hljs-comment">/* === ä¼ªå…ƒç´ æ ·å¼ === */</span>
        <span class="hljs-comment">/* å‰é¢çš„å›¾æ ‡ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">::before</span> {
            <span class="hljs-attribute">content</span>: <span class="hljs-string">"ğŸ“Œ"</span>;
            <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.3s</span> ease;
        }

        <span class="hljs-comment">/* æ‚¬åœæ—¶å›¾æ ‡å˜åŒ– */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">::before</span> {
            <span class="hljs-attribute">content</span>: <span class="hljs-string">"ğŸ”¥"</span>;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.2</span>);
        }

        <span class="hljs-comment">/* åé¢çš„è£…é¥°çº¿ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">::after</span> {
            <span class="hljs-attribute">content</span>: <span class="hljs-string">""</span>;
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">90deg</span>, <span class="hljs-number">#e74c3c</span>, <span class="hljs-number">#669521</span>);
            <span class="hljs-attribute">transition</span>: width <span class="hljs-number">0.3s</span> ease;
        }

        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">::after</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
        }

        <span class="hljs-comment">/* é¦–å­—æ¯æ ·å¼ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">::first-letter</span> {
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.3em</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
            <span class="hljs-attribute">font-weight</span>: bold;
        }

        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">::first-letter</span> {
            <span class="hljs-attribute">color</span>: white;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä¼ªç±» vs ä¼ªå…ƒç´  æ¼”ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"explanation"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>ä¼ªç±»ï¼ˆPseudo-classï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>ï¼šé€‰æ‹©å…ƒç´ çš„ç‰¹å®š<span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>çŠ¶æ€<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>ä¼ªå…ƒç´ ï¼ˆPseudo-elementï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>ï¼šé€‰æ‹©å…ƒç´ çš„ç‰¹å®š<span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>éƒ¨åˆ†<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-list"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å­¦ä¹  CSS ä¼ªç±»<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç†è§£ä¼ªå…ƒç´ <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å®Œæˆé¡¹ç›®ç»ƒä¹ <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å¤ä¹ çŸ¥è¯†ç‚¹<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-comment">// æ·»åŠ ç‚¹å‡»åˆ‡æ¢å®ŒæˆçŠ¶æ€çš„åŠŸèƒ½</span>
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.todo-list li'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
            item.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'completed'</span>);
            });
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ï¼š</p>
<h4 data-id="heading-11">ä¼ªç±»ï¼ˆæ“ä½œçš„æ˜¯æ•´ä¸ªå…ƒç´ ï¼‰</h4>
<ul>
<li><code>:first-child</code>ï¼šæ“ä½œç¬¬ä¸€ä¸ª<code>&lt;li&gt;</code>å…ƒç´ çš„æ•´ä½“æ ·å¼</li>
<li><code>:nth-child(even)</code>ï¼šæ“ä½œå¶æ•°ä½ç½®<code>&lt;li&gt;</code>çš„æ•´ä½“èƒŒæ™¯</li>
<li><code>:hover</code>ï¼šæ“ä½œé¼ æ ‡æ‚¬åœæ—¶<code>&lt;li&gt;</code>çš„æ•´ä½“çŠ¶æ€å˜åŒ–</li>
</ul>
<h4 data-id="heading-12">ä¼ªå…ƒç´ ï¼ˆæ“ä½œçš„æ˜¯å…ƒç´ çš„ä¸€éƒ¨åˆ†ï¼‰</h4>
<ul>
<li><code>::before</code>ï¼šåœ¨<code>&lt;li&gt;</code>å†…å®¹ä¹‹å‰æ’å…¥æ–°å†…å®¹ï¼ˆå›¾æ ‡ï¼‰</li>
<li><code>::after</code>ï¼šåœ¨<code>&lt;li&gt;</code>å†…å®¹ä¹‹åæ’å…¥è£…é¥°çº¿æ¡</li>
<li><code>::first-letter</code>ï¼šåªæ ·å¼åŒ–<code>&lt;li&gt;</code>æ–‡æœ¬çš„ç¬¬ä¸€ä¸ªå­—æ¯</li>
</ul>
<p><strong>ç®€å•è®°å¿†</strong>ï¼šä¼ªç±»æ˜¯çŠ¶æ€é€‰æ‹©å™¨ï¼Œä¼ªå…ƒç´ æ˜¯å†…å®¹ç”Ÿæˆå™¨ã€‚</p>
<hr/>
<h3 data-id="heading-13">æ€»ç»“</h3>
<p><strong>ä¼ªç±»</strong>ï¼š</p>
<ul>
<li>é€‰æ‹©å…ƒç´ çš„<strong>ç‰¹å®šçŠ¶æ€</strong>ï¼ˆå¦‚:hoverã€:focusï¼‰</li>
<li>è¯­æ³•ä½¿ç”¨<strong>å•å†’å·</strong>ï¼ˆå¦‚<code>:hover</code>ï¼‰</li>
<li>ä¸ç”Ÿæˆæ–°å†…å®¹ï¼Œåªé’ˆå¯¹å…ƒç´ æœ¬èº«çš„çŠ¶æ€å˜åŒ–</li>
<li>å¸¸è§ç”¨é€”ï¼šç”¨æˆ·äº¤äº’åé¦ˆã€ç»“æ„ä½ç½®é€‰æ‹©</li>
</ul>
<p><strong>ä¼ªå…ƒç´ </strong>ï¼š</p>
<ul>
<li>åˆ›å»ºå¹¶æ ·å¼åŒ–å…ƒç´ çš„<strong>ç‰¹å®šéƒ¨åˆ†</strong>æˆ–<strong>è™šæ‹Ÿå†…å®¹</strong></li>
<li>è¯­æ³•ä½¿ç”¨<strong>åŒå†’å·</strong>ï¼ˆå¦‚<code>::before</code>ï¼‰</li>
<li>å¸¸é…åˆ<code>content</code>å±æ€§ç”Ÿæˆæ–°å†…å®¹</li>
<li>å¸¸è§ç”¨é€”ï¼šæ’å…¥è£…é¥°å…ƒç´ ã€æ ·å¼åŒ–æ–‡æœ¬éƒ¨åˆ†</li>
</ul>
<p>é€šè¿‡ä¸Šé¢çš„å†…å®¹ï¼Œæˆ‘ä¹Ÿç»ˆäºææ‡‚äº†ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ«ã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜åˆ˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-14">ğŸ“Œå¾€æœŸç²¾å½©</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F6V83qjR6u0nyfzL-14xYAw" target="_blank" title="https://mp.weixin.qq.com/s/6V83qjR6u0nyfzL-14xYAw" ref="nofollow noopener noreferrer">ã€Šasync/await åˆ°åº•è¦ä¸è¦åŠ  try-catchï¼Ÿå¼‚æ­¥é”™è¯¯å¤„ç†æœ€ä½³å®è·µã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FPQ_w7CDVoIZPn-CVH2DKJg" target="_blank" title="https://mp.weixin.qq.com/s/PQ_w7CDVoIZPn-CVH2DKJg" ref="nofollow noopener noreferrer">ã€ŠVue3 å’Œ Vue2 çš„æ ¸å¿ƒåŒºåˆ«ï¼Ÿå¾ˆå¤šå¼€å‘è€…éƒ½æ²¡å®Œå…¨ææ‡‚çš„ 10 ä¸ªç»†èŠ‚ã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fp0n2mN5RDDDaIWuHHVRUZQ" target="_blank" title="https://mp.weixin.qq.com/s/p0n2mN5RDDDaIWuHHVRUZQ" ref="nofollow noopener noreferrer">ã€ŠJava å¼€å‘å¿…çœ‹ï¼šä»€ä¹ˆæ—¶å€™ç”¨ forï¼Œä»€ä¹ˆæ—¶å€™ç”¨ Streamï¼Ÿã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqI3TRTdDfRJSH9kCTqAQUw" target="_blank" title="https://mp.weixin.qq.com/s/qI3TRTdDfRJSH9kCTqAQUw" ref="nofollow noopener noreferrer">ã€Šè¿™ 10 ä¸ª MySQL é«˜çº§ç”¨æ³•ï¼Œè®©ä½ çš„ä»£ç åˆå¿«åˆå¥½çœ‹ã€‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C#.NET ref struct æ·±åº¦è§£æï¼šè¯­ä¹‰ã€é™åˆ¶ä¸æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7584266184882700322</link>    <guid>https://juejin.cn/post/7584266184882700322</guid>    <pubDate>2025-12-16T23:19:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584266184882700322" data-draft-id="7584286241488535592" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C#.NET ref struct æ·±åº¦è§£æï¼šè¯­ä¹‰ã€é™åˆ¶ä¸æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="C#,.NET"/> <meta itemprop="datePublished" content="2025-12-16T23:19:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”é’æ«"/> <meta itemprop="url" content="https://juejin.cn/user/3737995266234280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C#.NET ref struct æ·±åº¦è§£æï¼šè¯­ä¹‰ã€é™åˆ¶ä¸æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995266234280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”é’æ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T23:19:59.000Z" title="Tue Dec 16 2025 23:19:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç®€ä»‹</h3>
<p><code>ref struct</code> æ˜¯ <code>C# 7.2</code> å¼•å…¥çš„ä¸€ç§ç‰¹æ®Šç»“æ„ä½“ç±»å‹ï¼Œ
å®ƒä¸æ™®é€š <code>struct</code> çš„æœ€å¤§åŒºåˆ«æ˜¯ ä¸¥æ ¼é™åˆ¶å…¶åˆ†é…ä½ç½®ï¼š</p>
<p><code>ref struct</code> åªèƒ½åˆ†é…åœ¨æ ˆï¼ˆ<code>stack</code>ï¼‰ä¸Šï¼Œä¸èƒ½åˆ†é…åœ¨å †ï¼ˆ<code>heap</code>ï¼‰ä¸Šã€‚</p>
<p>âš¡ è®¾è®¡åˆè¡·</p>
<ul>
<li>
<p>æé«˜æ€§èƒ½ï¼šæ ˆåˆ†é…æ¯”å †åˆ†é…å¿«ï¼Œå¹¶ä¸”æ— éœ€ <code>GC</code> å›æ”¶ã€‚</p>
</li>
<li>
<p>æä¾›å®‰å…¨çš„å†…å­˜è®¿é—®ï¼šä¿è¯ç”Ÿå‘½å‘¨æœŸå—æ§ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼å’Œæ‚¬ç©ºå¼•ç”¨ã€‚</p>
</li>
<li>
<p>é€‚ç”¨äºéœ€è¦ç›´æ¥æ“ä½œå†…å­˜çš„åœºæ™¯ï¼Œä¾‹å¦‚ <code>Span&lt;T&gt;</code>ã€<code>ReadOnlySpan&lt;T&gt;</code>ã€‚</p>
</li>
</ul>
<h4 data-id="heading-1">å…³é”®ç‰¹æ€§</h4>
<ul>
<li>
<p>åªèƒ½åˆ†é…åœ¨æ ˆä¸Šï¼Œä¸èƒ½åˆ†é…åœ¨å †ä¸Š</p>
</li>
<li>
<p>ä¸èƒ½ä½œä¸ºç±»çš„å­—æ®µ</p>
</li>
<li>
<p>ä¸èƒ½å®ç°æ¥å£</p>
</li>
<li>
<p>ä¸èƒ½è£…ç®±</p>
</li>
<li>
<p>ä¸èƒ½ä½œä¸ºå¼‚æ­¥æ–¹æ³•æˆ–è¿­ä»£å™¨çš„å±€éƒ¨å˜é‡</p>
</li>
</ul>
<h3 data-id="heading-2">åŸºæœ¬è¯­æ³•</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">ref</span> <span class="hljs-keyword">struct</span> MyStruct
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> X;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Y;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Print</span>()</span> =&gt; Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{X}</span>, <span class="hljs-subst">{Y}</span>"</span>);
}
</code></pre>
<h3 data-id="heading-3">ä¸æ™®é€š struct çš„åŒºåˆ«</h3>













































<table><thead><tr><th>ç‰¹æ€§</th><th><code>struct</code></th><th><code>ref struct</code></th></tr></thead><tbody><tr><td>åˆ†é…ä½ç½®</td><td>æ ˆæˆ–å †ï¼ˆä¾‹å¦‚åœ¨ç±»ä¸­æˆ–è£…ç®±æ—¶ï¼‰</td><td><strong>åªèƒ½æ ˆåˆ†é…</strong></td></tr><tr><td>è£…ç®±ï¼ˆboxingï¼‰</td><td>æ”¯æŒï¼ˆå¯è½¬ä¸º <code>object</code>ï¼‰</td><td>âŒ ç¦æ­¢</td></tr><tr><td>æ¥å£å®ç°</td><td>æ”¯æŒ</td><td>âŒ ç¦æ­¢ï¼ˆä¸èƒ½å®ç°æ¥å£ï¼‰</td></tr><tr><td>å¼‚æ­¥æ–¹æ³•/è¿­ä»£å™¨</td><td>æ”¯æŒ</td><td>âŒ ä¸èƒ½è¢« <code>async</code>/<code>yield</code> æ•è·</td></tr><tr><td>é—­åŒ…æ•è·</td><td>æ”¯æŒ</td><td>âŒ ç¦æ­¢</td></tr><tr><td>æ³›å‹çº¦æŸ</td><td>å¯ä½œä¸ºæ³›å‹å‚æ•°</td><td>âŒ ç¦æ­¢ç”¨ä½œç±»æ³›å‹å‚æ•°</td></tr><tr><td>ç”Ÿå‘½å‘¨æœŸ</td><td>å— GC ç®¡ç†</td><td><strong>å®Œå…¨å—æ ˆä½œç”¨åŸŸçº¦æŸ</strong></td></tr></tbody></table>
<p><code>ref struct</code> çš„é™åˆ¶ç¡®ä¿å®ƒ ä¸ä¼šè¢«é”™è¯¯åœ°æå‡åˆ°å †ä¸­ï¼Œä¿è¯å…¶ç”Ÿå‘½å‘¨æœŸå®‰å…¨ã€‚</p>
<h3 data-id="heading-4">ä½¿ç”¨åœºæ™¯</h3>
<p><code>ref struct</code> éå¸¸é€‚åˆä»¥ä¸‹ é«˜æ€§èƒ½ã€ä½å¼€é”€ çš„åœºæ™¯ï¼š</p>

























<table><thead><tr><th>åœºæ™¯</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>å†…å­˜åˆ‡ç‰‡</strong></td><td><code>Span&lt;T&gt;</code>ã€<code>ReadOnlySpan&lt;T&gt;</code></td></tr><tr><td><strong>é¿å… GC</strong></td><td>é«˜é¢‘åˆ†é…å’Œé‡Šæ”¾çš„ä¸´æ—¶æ•°æ®ç»“æ„</td></tr><tr><td><strong>éæ‰˜ç®¡èµ„æºè®¿é—®</strong></td><td>æŒ‡é’ˆæ“ä½œã€<code>stackalloc</code> åˆ†é…çš„ç¼“å†²åŒº</td></tr><tr><td><strong>ç½‘ç»œä¸æ•°æ®è§£æ</strong></td><td>é«˜æ€§èƒ½åºåˆ—åŒ–/ååºåˆ—åŒ–ï¼ˆå¦‚ JSONã€Protocol Buffersï¼‰</td></tr></tbody></table>
<h3 data-id="heading-5">å…¸å‹ç¤ºä¾‹</h3>
<h4 data-id="heading-6"><code>Span&lt;T&gt;</code>ï¼šæœ€å¸¸è§çš„ ref struct</h4>
<p><code>Span&lt;T&gt;</code> æ˜¯ä¸€ä¸ªè¡¨ç¤ºè¿ç»­å†…å­˜åŒºåŸŸçš„ç±»å‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Span&lt;<span class="hljs-built_in">int</span>&gt; numbers = <span class="hljs-keyword">stackalloc</span> <span class="hljs-built_in">int</span>[<span class="hljs-number">5</span>] { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> };
numbers[<span class="hljs-number">2</span>] = <span class="hljs-number">99</span>;

<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> n <span class="hljs-keyword">in</span> numbers)
    Console.Write(<span class="hljs-string">$"<span class="hljs-subst">{n}</span> "</span>); <span class="hljs-comment">// è¾“å‡º: 1 2 99 4 5</span>
</code></pre>
<ul>
<li>
<p><code>stackalloc</code> åœ¨æ ˆä¸Šåˆ†é…å†…å­˜ã€‚</p>
</li>
<li>
<p><code>Span&lt;T&gt;</code> åªèƒ½å­˜åœ¨äºå½“å‰æ–¹æ³•æ ˆä¸­ï¼Œç¦»å¼€ä½œç”¨åŸŸè‡ªåŠ¨å›æ”¶ã€‚</p>
</li>
</ul>
<h4 data-id="heading-7">è‡ªå®šä¹‰ ref struct</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">ref</span> <span class="hljs-keyword">struct</span> Point
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> X;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Y;

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> Length =&gt; Math.Sqrt(X * X + Y * Y);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Demo</span>()</span>
{
    <span class="hljs-keyword">var</span> p = <span class="hljs-keyword">new</span> Point { X = <span class="hljs-number">3</span>, Y = <span class="hljs-number">4</span> };
    Console.WriteLine(p.Length); <span class="hljs-comment">// 5</span>
}
</code></pre>
<h4 data-id="heading-8">ä¸ stackalloc é…åˆ</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Span&lt;<span class="hljs-built_in">byte</span>&gt; <span class="hljs-title">CreateBuffer</span>()</span>
{
    Span&lt;<span class="hljs-built_in">byte</span>&gt; buffer = <span class="hljs-keyword">stackalloc</span> <span class="hljs-built_in">byte</span>[<span class="hljs-number">1024</span>]; <span class="hljs-comment">// æ ˆä¸Šåˆ†é… 1KB</span>
    buffer[<span class="hljs-number">0</span>] = <span class="hljs-number">42</span>;
    <span class="hljs-keyword">return</span> buffer; <span class="hljs-comment">// âŒ é”™è¯¯ï¼šä¸èƒ½è¿”å› ref struct</span>
}
</code></pre>
<p>è¿”å› <code>Span&lt;T&gt;</code> ä¼šå¯¼è‡´æ ˆå†…å­˜é€ƒé€¸ï¼Œå› æ­¤ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p>
<h3 data-id="heading-9">ç¼–è¯‘å™¨æ–½åŠ çš„çº¦æŸ</h3>
<p><code>ref struct</code> çš„å®‰å…¨é™åˆ¶ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<h4 data-id="heading-10">ä¸èƒ½è£…ç®±</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">ref</span> <span class="hljs-keyword">struct</span> MyStruct { }
<span class="hljs-built_in">object</span> o = <span class="hljs-keyword">new</span> MyStruct(); <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯</span>
</code></pre>
<p>å› ä¸ºè£…ç®±ä¼šå°†å€¼ç±»å‹å¤åˆ¶åˆ°å †ä¸Šã€‚</p>
<h4 data-id="heading-11">ä¸èƒ½å®ç°æ¥å£</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">ref</span> <span class="hljs-keyword">struct</span> MyStruct : IDisposable { } <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯</span>
</code></pre>
<p>æ¥å£è°ƒç”¨å¯èƒ½å¯¼è‡´æå‡åˆ°å †ï¼Œç ´åç”Ÿå‘½å‘¨æœŸå®‰å…¨ã€‚</p>
<h4 data-id="heading-12">ä¸èƒ½ä½œä¸ºç±»å­—æ®µ</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span>
{
    <span class="hljs-keyword">public</span> Span&lt;<span class="hljs-built_in">int</span>&gt; SpanField; <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯</span>
}
</code></pre>
<p>å› ä¸ºç±»å®ä¾‹åœ¨å †ä¸Šï¼Œè€Œ <code>ref struct</code> åªèƒ½å­˜åœ¨æ ˆä¸Šã€‚</p>
<h4 data-id="heading-13">ä¸èƒ½ç”¨ä½œæ³›å‹å‚æ•°</h4>
<pre><code class="hljs language-csharp" lang="csharp">List&lt;Span&lt;<span class="hljs-built_in">int</span>&gt;&gt; list = <span class="hljs-keyword">new</span>(); <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯</span>
</code></pre>
<h4 data-id="heading-14">ä¸èƒ½æ•è·åˆ°é—­åŒ…</h4>
<pre><code class="hljs language-csharp" lang="csharp">Span&lt;<span class="hljs-built_in">int</span>&gt; span = <span class="hljs-keyword">stackalloc</span> <span class="hljs-built_in">int</span>[<span class="hljs-number">10</span>];
Action action = () =&gt; Console.WriteLine(span[<span class="hljs-number">0</span>]); <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯</span>
</code></pre>
<p>é—­åŒ…ä¼šå°†å˜é‡æå‡åˆ°å †ä¸­ï¼Œç ´åç”Ÿå‘½å‘¨æœŸã€‚</p>
<h4 data-id="heading-15">ä¸èƒ½ç”¨äºå¼‚æ­¥æ–¹æ³•/è¿­ä»£å™¨</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">async</span> Task <span class="hljs-title">Demo</span>()</span>
{
    Span&lt;<span class="hljs-built_in">int</span>&gt; span = <span class="hljs-keyword">stackalloc</span> <span class="hljs-built_in">int</span>[<span class="hljs-number">10</span>]; <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯</span>
    <span class="hljs-keyword">await</span> Task.Delay(<span class="hljs-number">1000</span>);
}
</code></pre>
<p>å¼‚æ­¥çŠ¶æ€æœºä¼šå¯¼è‡´å˜é‡åœ¨å †ä¸Šå­˜å‚¨ã€‚</p>
<h3 data-id="heading-16">ä¸å…¶ä»–ç±»å‹å¯¹æ¯”</h3>















































<table><thead><tr><th>ç‰¹æ€§</th><th><code>class</code></th><th><code>struct</code></th><th><code>ref struct</code></th></tr></thead><tbody><tr><td>åˆ†é…ä½ç½®</td><td>å †</td><td>æ ˆ/å †</td><td><strong>ä»…æ ˆ</strong></td></tr><tr><td>å†…å­˜å›æ”¶</td><td>GC</td><td>è‡ªåŠ¨å›æ”¶/GC</td><td>è‡ªåŠ¨å›æ”¶ï¼ˆæ–¹æ³•é€€å‡ºæ—¶ï¼‰</td></tr><tr><td>æ¥å£å®ç°</td><td>âœ…</td><td>âœ…</td><td>âŒ</td></tr><tr><td>è£…ç®±/æ‹†ç®±</td><td>âŒï¼ˆæœ¬èº«æ˜¯å¼•ç”¨ï¼‰</td><td>âœ…</td><td>âŒ</td></tr><tr><td>å¼‚æ­¥/é—­åŒ…</td><td>âœ…</td><td>âœ…</td><td>âŒ</td></tr><tr><td>å…¸å‹ä»£è¡¨</td><td><code>String</code></td><td><code>DateTime</code></td><td><code>Span&lt;T&gt;</code>, <code>ReadOnlySpan&lt;T&gt;</code></td></tr></tbody></table>
<h3 data-id="heading-17">æ€§èƒ½ä¼˜åŠ¿</h3>






























<table><thead><tr><th>åœºæ™¯</th><th>æ™®é€š <code>struct</code></th><th><code>ref struct</code></th></tr></thead><tbody><tr><td>åˆ†é…/é‡Šæ”¾é€Ÿåº¦</td><td>å¿«</td><td><strong>æœ€å¿«ï¼ˆä»…æ ˆæ“ä½œï¼‰</strong></td></tr><tr><td>GC å‹åŠ›</td><td>å¯èƒ½æœ‰ï¼ˆè£…ç®±ï¼‰</td><td><strong>æ—  GC</strong></td></tr><tr><td>å†…å­˜å±€éƒ¨æ€§</td><td>è¾ƒå¥½</td><td><strong>æœ€ä½³</strong></td></tr><tr><td>ç”Ÿå‘½å‘¨æœŸå¯æ§æ€§</td><td>GC ç®¡ç†</td><td><strong>ä½œç”¨åŸŸç»“æŸå³é‡Šæ”¾</strong></td></tr></tbody></table>
<h3 data-id="heading-18">å®æˆ˜ç¤ºä¾‹ï¼šé«˜æ€§èƒ½å­—ç¬¦ä¸²åˆ‡ç‰‡</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> <span class="hljs-title">ParseDigits</span>(<span class="hljs-params">ReadOnlySpan&lt;<span class="hljs-built_in">char</span>&gt; span</span>)</span>
{
    <span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span> = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> c <span class="hljs-keyword">in</span> span)
    {
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">char</span>.IsDigit(c)) <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">value</span> = <span class="hljs-keyword">value</span> * <span class="hljs-number">10</span> + (c - <span class="hljs-string">'0'</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">value</span>;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Demo</span>()</span>
{
    <span class="hljs-built_in">string</span> input = <span class="hljs-string">"12345abc"</span>;
    <span class="hljs-keyword">var</span> slice = input.AsSpan(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>); <span class="hljs-comment">// ç›´æ¥æ“ä½œåŸå­—ç¬¦ä¸²å†…å­˜</span>
    Console.WriteLine(ParseDigits(slice)); <span class="hljs-comment">// è¾“å‡º 12345</span>
}
</code></pre>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>
<p>ä¸ä¼šäº§ç”Ÿ <code>Substring</code> å¸¦æ¥çš„é¢å¤–å †åˆ†é…ã€‚</p>
</li>
<li>
<p>å†…å­˜å®‰å…¨ä¸”æ€§èƒ½æ¥è¿‘æŒ‡é’ˆæ“ä½œã€‚</p>
</li>
</ul>
<h3 data-id="heading-19">æ€»ç»“</h3>

























<table><thead><tr><th>æ–¹é¢</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ ¸å¿ƒç‰¹æ€§</td><td>åªèƒ½åˆ†é…åœ¨æ ˆä¸Šï¼Œç”Ÿå‘½å‘¨æœŸç”±ä½œç”¨åŸŸä¸¥æ ¼æ§åˆ¶ï¼Œæ—  GC å‹åŠ›</td></tr><tr><td>ä¸»è¦é™åˆ¶</td><td>ä¸èƒ½è£…ç®±ã€ä¸èƒ½ä½œä¸ºç±»å­—æ®µã€ä¸èƒ½æ•è·é—­åŒ…ã€ä¸èƒ½å¼‚æ­¥/è¿­ä»£ã€ä¸èƒ½å®ç°æ¥å£</td></tr><tr><td>å…¸å‹åº”ç”¨</td><td><code>Span&lt;T&gt;</code>ã€<code>ReadOnlySpan&lt;T&gt;</code>ã€é«˜æ€§èƒ½å†…å­˜å¤„ç†ã€ç½‘ç»œæ•°æ®è§£æ</td></tr><tr><td>æœ€ä½³å®è·µ</td><td>ä½¿ç”¨ <code>using</code> èŒƒå›´ã€<code>readonly</code> ä¿®é¥°ã€é¿å…é€ƒé€¸ã€çŸ­ç”Ÿå‘½å‘¨æœŸ</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡ŒWan 2.6å®æµ‹ï¼šè¿™å›ä¸ä»…ä»…æ˜¯Soraå¹³æ›¿ï¼Œè€Œæ˜¯AIå¯¼æ¼”çš„å®Œå…¨è¿›åŒ–]]></title>    <link>https://juejin.cn/post/7584298069610233856</link>    <guid>https://juejin.cn/post/7584298069610233856</guid>    <pubDate>2025-12-16T15:51:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584298069610233856" data-draft-id="7584243498528636928" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡ŒWan 2.6å®æµ‹ï¼šè¿™å›ä¸ä»…ä»…æ˜¯Soraå¹³æ›¿ï¼Œè€Œæ˜¯AIå¯¼æ¼”çš„å®Œå…¨è¿›åŒ–"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-16T15:51:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡ŒWan 2.6å®æµ‹ï¼šè¿™å›ä¸ä»…ä»…æ˜¯Soraå¹³æ›¿ï¼Œè€Œæ˜¯AIå¯¼æ¼”çš„å®Œå…¨è¿›åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T15:51:23.000Z" title="Tue Dec 16 2025 15:51:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¯´å®è¯ï¼Œåœ¨OpenAIçš„Soraè¿Ÿè¿Ÿä¸è‚¯å…¬æµ‹çš„è¿™æ®µæ—¥å­é‡Œï¼Œå›½å†…çš„AIè§†é¢‘åœˆå­å…¶å®åè€Œæ›´å·äº†ã€‚ä½†æˆ‘æ²¡æƒ³åˆ°çš„æ˜¯ï¼Œåœ¨è¿™ä¸ªå¹´åº•ï¼Œé˜¿é‡Œä¼šçªç„¶æ‰”å‡ºä¸€å¼ ç‹ç‚¸â€”â€”é€šä¹‰ä¸‡ç›¸ï¼ˆWanï¼‰2.6ã€‚</p>
<p>å¤§å®¶éƒ½åœ¨ä¼ è¿™æ˜¯â€œä¸­å›½ç‰ˆSora 2â€ï¼Œç”šè‡³LiblibAIç­‰å¹³å°åˆšä¸€é¦–å‘ä¸Šçº¿å°±è¢«æŒ¤çˆ†äº†ã€‚æˆ‘èŠ±äº†ä¸€ä¸‹åˆæ—¶é—´æŠŠç©äº†è¿™ä¸ªæ¨¡å‹ï¼Œæƒ³æ’‡å¼€é‚£äº›èŠ±å“¨çš„è¥é”€è¯ï¼Œå•çº¯ä»ä¸€ä¸ªåˆ›ä½œè€…çš„è§’åº¦ï¼Œè·Ÿä½ ä»¬èŠèŠå®ƒåˆ°åº•å¼ºåœ¨å“ªï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘è§‰å¾—å®ƒå¯èƒ½çœŸçš„æ”¹å˜äº†ç©å„¿æ³•ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fdasdasf.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/dasdasf.webp" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c5191afa0ca437099a051fa42ae0be1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766505083&amp;x-signature=A5KxjRgXlMzxm3osgM3QMH6ImAw%3D" alt="dasdasf" loading="lazy"/></a></p>
<p><strong>ä¸ä»…æ˜¯â€œç”Ÿæˆâ€ï¼Œè€Œæ˜¯â€œä¸»æ¼”â€</strong></p>
<p>ç©è¿‡AIè§†é¢‘çš„æœ‹å‹éƒ½çŸ¥é“ä¸€ä¸ªç—›ç‚¹ï¼šæŠ½å¡å®¹æ˜“ï¼Œæ§å¡éš¾ã€‚ä»¥å‰æˆ‘ä»¬ç”Ÿæˆçš„è§†é¢‘ï¼Œäººç‰©é•¿ç›¸éšæœºå˜ï¼Œè¿™ä¸€ç§’æ˜¯å´å½¦ç¥–ï¼Œä¸‹ä¸€ç§’å¯èƒ½å°±å˜æˆäº†è‹å¤§å¼ºã€‚</p>
<p>Wan 2.6æœ€è®©æˆ‘æƒŠå–œçš„ï¼Œæ˜¯å®ƒçš„**è§’è‰²æ‰®æ¼”ï¼ˆRoleplayï¼‰**åŠŸèƒ½ã€‚è¿™ä¸ä»…ä»…æ˜¯ç®€å•çš„æ¢è„¸ã€‚</p>
<p>ä½ å¯ä»¥ç›´æ¥ä¸¢ç»™å®ƒä¸€æ®µä½ è‡ªå·±æˆ–è€…å® ç‰©çš„è§†é¢‘ï¼ˆ5ç§’ä»¥å†…ï¼‰ï¼Œå®ƒå°±èƒ½æŠŠè¿™ä¸ªå½¢è±¡â€œæŠ â€ä¸‹æ¥ï¼Œè®°ä½äº†é•¿ç›¸ã€ç¥æ€ç”šè‡³æ˜¯å£°éŸ³ã€‚ç„¶åï¼Œä½ é€šè¿‡æ–‡å­—æè¿°ï¼Œå°±èƒ½è®©è¿™ä¸ªè§’è‰²å»æ¼”ç§‘å¹»ç‰‡ã€å¤è£…å‰§ï¼Œæˆ–è€…åœ¨èµ›åšæœ‹å…‹çš„è¡—é“ä¸Šåƒé¢ã€‚æœ€å…³é”®çš„æ˜¯ï¼Œå®ƒèƒ½ä¿æŒäººç‰©çš„é«˜åº¦ä¸€è‡´æ€§ã€‚è¿™å¯¹äºæƒ³åšè¿ç»­å‰§æƒ…çŸ­ç‰‡çš„åˆ›ä½œè€…æ¥è¯´ï¼Œç®€ç›´æ˜¯æ•‘å‘½ç¨»è‰ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-16_23.26.51-1024x580.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-16_23.26.51-1024x580.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eff1bea373d24190ac010df7ebb1ccfd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766505083&amp;x-signature=y38poSP2Wj%2Blu9fINiI%2BX1vMRRo%3D" alt="iShot_2025-12-16_23.26.51" loading="lazy"/></a></p>
<p><strong>AIç»ˆäºæ‡‚ä»€ä¹ˆæ˜¯â€œå‰ªè¾‘â€äº†</strong></p>
<p>ä»¥å‰çš„AIè§†é¢‘æ¨¡å‹ï¼Œå¤§å¤šåªèƒ½ç”Ÿæˆé‚£ç§â€œä¸€é•œåˆ°åº•â€çš„ç”»é¢ï¼Œçœ‹å¤šäº†å®¹æ˜“è…»ã€‚</p>
<p>Wan 2.6è¿™æ¬¡æäº†ä¸€ä¸ª<strong>æ™ºèƒ½åˆ†é•œ</strong>çš„èƒ½åŠ›ã€‚ç®€å•è¯´ï¼Œå®ƒç°åœ¨çš„è„‘å­æ›´åƒä¸€ä¸ªå¯¼æ¼”ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç”»å¸ˆã€‚ä½ è¾“å…¥ä¸€æ®µå¤æ‚çš„å‰§æƒ…æè¿°ï¼Œå®ƒä¸ä¼šå‚»å‚»åœ°æŒ¤åœ¨ä¸€ä¸ªç”»é¢é‡Œè¡¨ç°ï¼Œè€Œæ˜¯è‡ªåŠ¨ç»™ä½ åˆ‡åˆ†é•œå¤´â€”â€”å…ˆæ¥ä¸ªå¤§è¿œæ™¯äº¤ä»£ç¯å¢ƒï¼Œç´§æ¥ç€åˆ‡ç‰¹å†™å±•ç¤ºè¡¨æƒ…ï¼Œæœ€åæ‹‰ä¸­æ™¯å±•ç¤ºåŠ¨ä½œã€‚</p>
<p>å®ƒç”Ÿæˆçš„15ç§’è§†é¢‘é‡Œï¼Œå¯èƒ½åŒ…å«ç€æ¨æ‹‰æ‘‡ç§»å’Œæ™¯åˆ«åˆ‡æ¢ï¼Œè€Œä¸”è¿™äº›é•œå¤´ä¹‹é—´çš„é€»è¾‘æ˜¯è¿è´¯çš„ã€‚è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€ä½ ä¸éœ€è¦å†å»PRé‡Œè‹¦å“ˆå“ˆåœ°æŠŠä¸€å †åºŸç‰‡æ‹¼å‡‘èµ·æ¥ï¼Œå®ƒä¸€æ¬¡ç”Ÿæˆå°±æ˜¯ä¸€ä¸ªæœ‰å™äº‹æ„Ÿçš„å°çŸ­ç‰‡ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-16_23.26.46-1024x476.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-16_23.26.46-1024x476.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/341ce42f9f424ad48eeb83ad208a1588~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766505083&amp;x-signature=GAWzLF9P%2BhcbLr1dnWXjjJYEQro%3D" alt="iShot_2025-12-16_23.26.46" loading="lazy"/></a></p>
<p><strong>å…³äºé‚£ä¸ªâ€œSora 2â€çš„æ ‡ç­¾</strong></p>
<p>åª’ä½“å¾ˆå–œæ¬¢ç”¨â€œä¸­å›½ç‰ˆSora 2â€è¿™ä¸ªè¯ï¼Œè™½ç„¶å®˜æ–¹æ²¡è¿™ä¹ˆå«ï¼Œä½†ä»æŠ€æœ¯è·¯çº¿ä¸Šçœ‹ï¼Œè¿™ä¸ªæ¯”å–»æœ‰ä¸€å®šé“ç†ã€‚</p>
<p>ç‰¹åˆ«æ˜¯<strong>å£°ç”»åŒæ­¥</strong>è¿™ä¸€ç‚¹ã€‚Wan 2.6ä¸æ˜¯å…‰ç”Ÿæˆå“‘å‰§ï¼Œå®ƒåœ¨ç”Ÿæˆç”»é¢çš„åŒæ—¶ï¼Œèƒ½é¡ºä¾¿æŠŠé…éŸ³ã€éŸ³æ•ˆã€èƒŒæ™¯éŸ³ä¹å…¨æå®šã€‚å°¤å…¶æ˜¯äººç‰©è¯´è¯çš„å£å‹å¯¹é½ï¼Œè™½ç„¶è¿˜ä¸èƒ½è¯´å®Œç¾æ— ç¼ºï¼Œä½†åœ¨çŸ­è§†é¢‘çš„ä¿¡æ¯æµé‡Œï¼Œå·²ç»è¶³å¤Ÿä»¥å‡ä¹±çœŸã€‚</p>
<p>å®ƒèƒ½åšåˆ°å•æ¬¡ç›´å‡º15ç§’çš„1080Pé«˜æ¸…ç”»è´¨ï¼Œè¿™ä¸ªå‚æ•°å¡å¾—å¾ˆç²¾å‡†â€”â€”æ­£å¥½è¦†ç›–äº†ç›®å‰ä¸»æµçŸ­è§†é¢‘å¹³å°å®Œæ’­ç‡æœ€é«˜çš„æ—¶é•¿åŒºé—´ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-16_23.26.40-1024x374.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-16_23.26.40-1024x374.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b037a11c3b941e2a9af7aacd397d0e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766505083&amp;x-signature=JIoobRQVpRDd90j5kYhQ5SwfavA%3D" alt="iShot_2025-12-16_23.26.40" loading="lazy"/></a></p>
<p><strong>ç°åœ¨å°±èƒ½ç©ï¼Œä¸ç”¨æ’é˜Ÿ</strong></p>
<p>è¿™ç‚¹å¿…é¡»å¥½è¯„ã€‚ç›¸æ¯”äºåœ¨å¤§æ´‹å½¼å²¸ç”»å¤§é¥¼ï¼ŒWan 2.6æ˜¯å®æ‰“å®ä¸Šçº¿äº†ã€‚</p>
<p>å¦‚æœä½ æ˜¯ä¸ªäººç©å®¶ï¼Œæƒ³å°é²œï¼Œç›´æ¥å»<strong>LiblibAI</strong>æˆ–è€…é€šä¹‰ä¸‡ç›¸çš„å®˜ç½‘å°±èƒ½è¯•ã€‚å¯¹äºå’±ä»¬åšå†…å®¹çš„ï¼ŒLiblibAIä¸Šé‚£ç§å·¥ä½œæµçš„ä½“éªŒå¯èƒ½æ›´é¡ºæ‰‹ä¸€äº›ã€‚å¦‚æœä½ æ˜¯æå¼€å‘çš„ï¼Œé˜¿é‡Œäº‘ç™¾ç‚¼çš„APIä¹Ÿå¼€äº†ã€‚</p>
<p><strong>å†™åœ¨æœ€å</strong></p>
<p>Wan 2.6ç»™æˆ‘çš„æ„Ÿè§‰ï¼Œä¸æ˜¯å•çº¯çš„ç”»è´¨æå‡ï¼Œè€Œæ˜¯å®ƒå¼€å§‹è¯•å›¾ç†è§£â€œå½±è§†è¯­è¨€â€äº†ã€‚</p>
<p>ä»å•ä¸€çš„ç”»é¢ç”Ÿæˆï¼Œåˆ°å¤šé•œå¤´çš„å™äº‹è°ƒåº¦ï¼Œå†åˆ°è§’è‰²çš„ä¸€è‡´æ€§æ§åˆ¶ï¼Œè¿™æ ‡å¿—ç€AIè§†é¢‘å·¥å…·æ­£åœ¨ä»â€œç©å…·â€å‘â€œç”Ÿäº§åŠ›å·¥å…·â€è¿ˆè¿›ã€‚è™½ç„¶å®ƒè‚¯å®šè¿˜æœ‰ç©¿æ¨¡ã€é€»è¾‘è·³è·ƒè¿™äº›AIé€šç—…ï¼Œä½†è‡³å°‘ç°åœ¨ï¼Œæˆ‘ä»¬ç¦»â€œä¸€ä¸ªäººå°±æ˜¯ä¸€æ”¯é˜Ÿä¼â€çš„æ¢¦æƒ³ï¼Œåˆè¿‘äº†ç»“ç»“å®å®çš„ä¸€å¤§æ­¥ã€‚</p>
<p>å¦‚æœä½ æ‰‹å¤´æœ‰å¥½çš„åˆ›æ„ï¼Œåˆ«ç­‰äº†ï¼Œå»è¯•è¯•å§ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android15é€‚é…ä¹‹ä¸–ä¸Šæœ¬æ— å‘ï¼ŒtargetSdkVersionå‡åˆ°35åå…¨æ˜¯å‘]]></title>    <link>https://juejin.cn/post/7584295332340858943</link>    <guid>https://juejin.cn/post/7584295332340858943</guid>    <pubDate>2025-12-16T23:59:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584295332340858943" data-draft-id="7580389111920508991" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android15é€‚é…ä¹‹ä¸–ä¸Šæœ¬æ— å‘ï¼ŒtargetSdkVersionå‡åˆ°35åå…¨æ˜¯å‘"/> <meta itemprop="keywords" content="Android,gradle,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-16T23:59:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Coffeeee"/> <meta itemprop="url" content="https://juejin.cn/user/2089524588718126"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android15é€‚é…ä¹‹ä¸–ä¸Šæœ¬æ— å‘ï¼ŒtargetSdkVersionå‡åˆ°35åå…¨æ˜¯å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2089524588718126/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Coffeeee
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T23:59:27.000Z" title="Tue Dec 16 2025 23:59:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>è‡ªä»2024å¹´åˆæ—¶å€™ï¼Œè°·æ­Œå‘å¸ƒäº†ç¬¬ä¸€ä¸ªAndroid15çš„é¢„è§ˆç‰ˆï¼Œæˆ‘å°±ä¸€ç›´åœ¨å…³æ³¨ç€è¿™ä¸ªç‰ˆæœ¬çš„èµ°å‘ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæ®è¯´Android15é‡Œé¢çš„å˜åŒ–éå¸¸å¤§ï¼Œåæ¥äº‹å®è¯æ˜æœçœŸå¦‚æ­¤ï¼Œæ— è®ºæ˜¯ç‰¹æ€§ä¸Šçš„æ”¹åŠ¨å¦‚é¢„æµ‹æ€§è¿”å›ï¼Œedge to edgeè¿˜æ˜¯16kbå†…å­˜é¡µé¢ï¼Œæˆ–è€…æ˜¯ç¼–è¯‘ç¯å¢ƒä¸Šçš„æ”¹åŠ¨å¦‚targetSdkVersionï¼ŒAgpï¼Œgradleä»¥åŠjdkçš„ä¸€äº›å‡çº§ï¼Œéƒ½è®©æˆ‘è§‰å¾—è¿™æ¬¡å‡çº§éåŒä¸€èˆ¬ï¼Œæ¥åŠ¿å‡¶çŒ›ï¼Œä¸æ˜¯é‚£ä¹ˆçš„å¥½å¯¹ä»˜ï¼Œä¸è¿‡å¥½åœ¨ä¹‹å‰å·¥ä½œä¸Šéƒ½æ²¡æœ‰æµ·å¤–ä¸Šçš„ä¸šåŠ¡ï¼Œå›½å†…çš„åº”ç”¨å•†åº—å¯¹åº”ç”¨çš„targetSdkä¹Ÿæ²¡æœ‰å¤ªå¼ºåˆ¶çš„è¦æ±‚ï¼Œæ‰€ä»¥Android15è·Ÿæˆ‘éƒ½ä¸€ç›´ä¿æŒç€ä¸€ç§æ•Œä¸åŠ¨æˆ‘ä¸åŠ¨çš„å’Œå¹³å±€åŠ¿ï¼Œä½†æ˜¯å±€åŠ¿ç»ˆå°†æ˜¯è¢«æ‰“ç ´äº†...</p>
<h2 data-id="heading-1">ä¹±ä¸–ä¸­çš„ç›¸é€¢</h2>
<p>å‰æ®µæ—¶é—´ç»å†äº†è£å‘˜ä»¥åŠä¸‰ä¸ªæœˆçš„æ‰¾å·¥ä½œï¼Œè®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°äº†ä¸¥å³»çš„è¡Œæƒ…å±€åŠ¿ä»¥åŠå¯æ€•çš„å°±ä¸šå‹åŠ›ï¼Œä¿ƒä½¿æˆ‘ä¸å¾—ä¸é™ä½è‡ªå·±çš„åº•çº¿ï¼Œé¢äº†å„ç§æœªæ›¾å°è¯•è¿‡çš„å²—ä½é¢è¯•ï¼Œå¦‚è½¦è½½ï¼ŒFWæˆ–è€…é¢å‘è°·æ­Œå¸‚åœºå¼€å‘ï¼Œæœ‰ä¸€æ¬¡é¢è¯•ä¸­ï¼š</p>
<ul>
<li>é¢è¯•å®˜ï¼šæœ‰å¼€å‘è¿‡è°·æ­Œå¸‚åœºçš„åº”ç”¨å—ï¼Ÿ</li>
<li>æˆ‘ï¼šå¥½å‡ å¹´å‰åšè¿‡ï¼ŒçŸ¥é“ç°åœ¨å‘å¸ƒçš„æ˜¯aabæ ¼å¼çš„åŒ…</li>
<li>é¢è¯•å®˜ï¼šé€‚é…è¿‡Android15å—ï¼Ÿ</li>
<li>æˆ‘ï¼šæ²¡æœ‰ï¼Œå°±åªé€‚é…è¿‡Android12</li>
<li>é¢è¯•å®˜ï¼šå“¦ï½ï½</li>
</ul>
<p>ç„¶åofferå°±æ¥äº†...è™½ç„¶æ˜ç™½è¿™ä¸ªofferä¸æ˜¯é‚£ä¹ˆçš„å¥½æ¥ï¼Œå…¥èŒåä¸»è¦ä»»åŠ¡å°±æ˜¯è·Ÿè°·æ­Œçš„ä¸€ç³»åˆ—æ”¿ç­–æ–—æ³•ï¼Œä½†ç”±äºè¡Œæƒ…å®åœ¨æ˜¯ä¸å®¹ä¹è§‚ï¼Œæ‹›è˜å¸‚åœºä¸Šå·²ç»è¢«ä¸€å †å¤–åŒ…è·ŸçŸ­æœŸé¡¹ç›®æå¾—ä¹ŒçƒŸç˜´æ°”äº†ï¼Œè€ƒè™‘å†ä¸‰è¿˜æ˜¯æ¥ä¸‹äº†è¿™ä¸ªofferï¼Œäºæ˜¯ä¹æˆ‘è·ŸAndroid15ä¹‹é—´æ–—äº‰ä¹Ÿæ‹‰å¼€äº†åºå¹•</p>
<h3 data-id="heading-2">å‡çº§targetSdkVersionä¸compileSdkVersion</h3>
<p>æ¥æ‰‹åˆ°é¡¹ç›®ä¹‹åï¼Œæ— æ„å¤–çš„è¢«åˆ†é…åˆ°çš„ç¬¬ä¸€ä¸ªä»»åŠ¡å°±æ˜¯è°·æ­Œå¸‚åœºåˆè§„è¦æ±‚ï¼Œé€‚é…Android15,ä¸å¾—ä¸æ„Ÿæ…¨ä¸åˆ°ä¸¤å¹´å‰è¿˜åœ¨åº†å¹¸è‡ªå·±ä¸Android15æ— ç¼˜ï¼Œè°çŸ¥é“è¿™ä¹ˆå¿«å°±è¦è·Ÿè¿™ä¸ªâ€œå¤§é­”ç‹â€é¢å¯¹é¢æ¥è§¦ï¼Œå®åœ¨æ˜¯ä¸–äº‹éš¾æ–™ï¼Œåº”äº†é‚£å¥è¯ï¼Œå‡ºæ¥æ··çš„ï¼Œç»ˆç©¶è¦è¿˜çš„ï¼ŒåƒAndroidè¿™ç¢—é¥­ï¼Œå°±è¦åšå¥½é€‚é…å„ç§Androidæ–°ç‰ˆæœ¬çš„å‡†å¤‡ï¼Œä¸è¿‡å¦æˆ‘æ„Ÿåˆ°æ¬£æ…°çš„æ˜¯é¡¹ç›®å¹¶ä¸æ˜¯ç‰¹åˆ«çš„è€ï¼Œè®©æˆ‘äº§ç”Ÿä¸€ç§é”™è§‰ï¼Œåº”è¯¥æ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆè´¹åŠ²ï¼Œé¡¹ç›®åŸºæœ¬é…ç½®å¦‚ä¸‹</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/f94af4c7f76046288444fecd98e27ece~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="70%" loading="lazy"/>
<p>æ—¢ç„¶å¦‚æ­¤ï¼ŒåºŸè¯ä¸å¤šè¯´äº†ï¼Œå’±å…ˆæŠŠ<code>targetSdk</code>è·Ÿ<code>compileSdk</code>éƒ½å‡çº§åˆ°35å†è¯´ï¼Œä¸‡ä¸€è·‘ä¸‹æ¥æ²¡å•¥é—®é¢˜å‘¢ï¼Œæˆ‘å°±å˜»å˜»äº†ï¼Œä¿®æ”¹äº†ä¸€ä¸‹<code>gradle.properties</code>ä¸­çš„å‡ ä¸ªå˜é‡</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/0ad1c0bb958f4c29ae727b30e2e6a0f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="70%" loading="lazy"/>
<p>syncä¸€ä¸‹åå‘ç°æ²¡å•¥é—®é¢˜ï¼Œå—¯ï¼Ÿå°±è¿™ï¼Ÿrunä¸€ä¸‹è¯•è¯•ï¼Œå‘ç°æœç„¶æŠ¥é”™äº†,ç¬é—´ä¸å˜»å˜»</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/4f96b764f18e49fdb5d2be8c04df107e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="002.png" width="90%" loading="lazy"/>
<p>æŠ¥äº†ä¸ªæ— æ³•åŠ è½½sdkè·¯å¾„ä¸‹/platforms/android-35/android.jarçš„è¿™ä¸ªæ–‡ä»¶ï¼Œæœ‰ç‚¹æ‘¸ä¸ç€å¤´è„‘ï¼ŒæŸ¥äº†ä¸€ä¸‹é©¬ä¸Šå°±çŸ¥é“äº†ï¼ŒåŸå› å¾ˆç®€å•ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨çš„gradleæ’ä»¶ä»¥åŠAGPæ’ä»¶å·²ç»ä¸æ”¯æŒtargetSdk35äº†ï¼Œå¿…é¡»è¦å‡çº§äº†ï¼Œå‡åˆ°å¤šå°‘å‘¢ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Fbuild%2Freleases%2Fgradle-plugin%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.google.cn/build/releases/gradle-plugin?hl=zh-cn" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a>ä¸Šçœ‹çœ‹å»</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/3182f631c7974443a65070de4afdbfdb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="80%" loading="lazy"/>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/067bee2a61bb4edeb861104be5616621~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="80%" loading="lazy"/>
<p>å†™çš„å¾ˆæ¸…æ¥šäº†ï¼Œå½“å‡çº§åˆ°target35åï¼ŒAGPç‰ˆæœ¬æœ€ä½éœ€è¦8.6,æ­¤ç‰ˆæœ¬å¯¹åº”çš„gradleæœ€ä½ç‰ˆæœ¬æ˜¯8.7ï¼Œé‚£ä¹ˆå¼€å§‹å‡çº§è¿™ä¿©æ’ä»¶</p>
<h3 data-id="heading-3">å‡çº§gradleå’ŒAGP</h3>
<p>é¦–å…ˆå°†é¡¹ç›®ä¸­gradle/wrapper/gradle-wrapper.propertiesä¸­çš„ä»¥ä¸‹ä»£ç </p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/f7254e7b93de482789b7cf36a6fee586~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="90%" loading="lazy"/>
<p>æ›¿æ¢æˆ</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/758d2a74b88947c1886ffbc35042b04f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="90%" loading="lazy"/>
<p>ç„¶åå†æŠŠæ ¹ç›®å½•build.gradleæ–‡ä»¶é‡Œé¢çš„AGPæ’ä»¶ä»</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/b878ff10c1e941969088daf16a6c8775~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="90%" loading="lazy"/>
<p>æ›¿æ¢æˆ</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/b11a66ae625946ea88326ed5f8bf1171~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="90%" loading="lazy"/>
<p>ä¸€é¡¿æ“ä½œä¹‹åå¿ƒé‡Œå°±çŠ¯æ€µï¼Œè¿™ä¿©æ’ä»¶ä¸€ä¸‹å­éƒ½æŠ¬é«˜äº†ä¸€ä¸ªå¤§ç‰ˆæœ¬ï¼ŒçœŸçš„æ²¡é—®é¢˜å—ï¼Ÿç¼–è¯‘ä¸‹çœ‹çœ‹å§ï¼Œæœç„¶æ€•å•¥æ¥å•¥ï¼Œå‡ºç°ä»¥ä¸‹æŠ¥çº¢</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/85ea4c0bc17f48cb8984228c59f54c84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="90%" loading="lazy"/>
<p>ä¸è¿‡è¿˜å¥½è¿˜ç®—å®¹æ˜“æ‡‚ï¼Œç°åœ¨ç”¨çš„jdkç‰ˆæœ¬11è¿‡ä½äº†ï¼Œéœ€è¦ç”¨æ›´é«˜çš„jdkç‰ˆæœ¬17æ‰å¯ä»¥ã€‚</p>
<h3 data-id="heading-4">å‡çº§JDK</h3>
<p>æ²¡æƒ³åˆ°åˆšå¼€å§‹è¿˜æ²¡å¹²å•¥å‘¢ï¼Œéšç€å‡å®Œgradleä¸AGPä¹‹åï¼Œjdkç‰ˆæœ¬ä¹Ÿè¦å‡çº§äº†ï¼Œä¸€ä¸‹å­å°±æ„Ÿåˆ°ç–‘æƒ‘äº†èµ·æ¥ï¼Œè¦çŸ¥é“jdk11è¿™ä¸ªç‰ˆæœ¬å¤§å¤šæ•°é¡¹ç›®è¿˜æ˜¯åœ¨ç”¨çš„ï¼Œä¸è¿‡äººå®¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Fbuild%2Freleases%2Fpast-releases%2Fagp-8-0-0-release-notes%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.google.cn/build/releases/past-releases/agp-8-0-0-release-notes?hl=zh-cn" ref="nofollow noopener noreferrer">gradleæ’ä»¶çš„changelog</a>é‡Œé¢å¯æ˜¯å†™çš„æ¸…æ¸…æ¥šæ¥šï¼Œå‡çº§åˆ°8.0åï¼Œjdkçš„æœ€å°ç‰ˆæœ¬å°±è¦æ±‚å¿…é¡»æ˜¯17äº†</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/576e8a9b9647440dba11a43a5841ede7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="70%" loading="lazy"/>
<p>é‚£å°±å‡å§ï¼Œå‡è¿™ä¸ªä¸œè¥¿æ²¡å•¥éš¾çš„ï¼Œå·¦ä¸Šè§’Android Studio-&gt;Settings-&gt;Build Tools-&gt;Gradleé‡Œé¢é€‰æ‹©JDK17,æ²¡æœ‰çš„è¯å°±å»ä¸‹ä¸€ä¸ª</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/693a06a1820e476a87114cc04d47ee6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="90%" loading="lazy"/>
<p>Applyå¹¶ä¸”okåæˆ‘ä»¬å†ç¼–è¯‘çœ‹çœ‹</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/41b1449f19df4cf2b3dc79f0b7d0241c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="90%" loading="lazy"/>
<h3 data-id="heading-5">æ·»åŠ buildConfig=trueé…ç½®</h3>
<p>è¿™çœŸæ˜¯å¤´ä¸€æ¬¡è§å•Šï¼Œè¯´çš„å•¥debugçš„build typeæœ‰ä¸€äº›è‡ªå®šä¹‰çš„BuildConfigçš„å˜é‡ï¼Œä½†æ˜¯è¢«ç¦ç”¨äº†ï¼Œè¯´çš„åº”è¯¥æ˜¯ä¸‹é¢è¿™æ®µä»£ç </p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/1807fb2085b844e3901358f83c440e8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="90%" loading="lazy"/>
<p>è¿™æ®µä»£ç å¾ˆå¸¸è§ï¼Œå¤§å¤šæ•°é¡¹ç›®ä¸­éƒ½ä¼šåœ¨<code>buildTypes</code>é‡Œé¢å®šä¹‰ä¸€äº›<code>buildConfigField</code>å˜é‡ï¼Œç”¨æ¥åŒºåˆ†ç”Ÿäº§ç¯å¢ƒè·Ÿdebugç¯å¢ƒï¼Œæˆ‘è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„<code>Coffee_Test</code>å€¼ä¸º<code>true</code>çš„å˜é‡ï¼Œç°åœ¨è¯´çš„æ˜¯è¿™ä¸ªå·²ç»è¢«ç¦ç”¨äº†ï¼Œè‚¯å®šåˆæ˜¯å‡çº§gradleå¸¦æ¥çš„å‰¯ä½œç”¨ï¼Œæœç„¶åœ¨AGP8.0çš„æ›´æ–°ä¸­å°±æœ‰çœ‹åˆ°</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/b5652e16d01e41159c768c3749f5eff1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="80%" loading="lazy"/>
<p>åŒæ—¶è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨æ¯ä¸ªå®šä¹‰è¿‡è‡ªå®šä¹‰å˜é‡çš„æ¨¡å—çš„build.gradleæ–‡ä»¶ä¸‹æ·»åŠ ä¸€å¥ä»£ç <code>android.buildFeatures.buildConfig true</code>å°±å¯ä»¥äº†,åƒè¿™æ ·</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/e8828db1c857421e81290b4a937cb626~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="80%" loading="lazy"/>
<p>è¿™ä¸ªé—®é¢˜ä¹Ÿå°±è§£å†³äº†</p>
<h3 data-id="heading-6">æ·»åŠ namespace</h3>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/df43fb03c36745b0927e358dd512573f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="90%" loading="lazy"/>
<p>éšç€å†æ¬¡ç¼–è¯‘ï¼Œåˆå‡ºç°ä¸Šè¿°æŠ¥é”™ï¼Œè·Ÿä¹‹å‰çš„BuildConfigç±»ä¼¼ï¼Œè¿™æ¬¡æ˜¯è¦æ±‚åœ¨æ¯ä¸ªæ¨¡å—çš„buildæ–‡ä»¶ä¸­éœ€è¦æ·»åŠ ä¸ª<code>namespace</code>çš„å‘½åç©ºé—´ï¼Œè¿™ä¸ªå˜æ›´æ˜¯åœ¨AGP7.3ä¸­å‡ºç°ï¼Œä½†æ˜¯AGP8.0å°±è¦è¢«å¼ºåˆ¶æ‰§è¡Œ</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/5dd12084bc0849f48c0a7491b256435e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="80%" loading="lazy"/>
<p>é€šå¸¸è¿™ä¸ªå‘½åç©ºé—´å°±æ˜¯æŒ‡çš„æ˜¯å½“å‰æ¨¡å—çš„åŒ…åï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°æŠ¥é”™çº¢å­—ä¸‹æ–¹ä¹Ÿæç¤ºäº†ï¼Œå¯ä»¥å€ŸåŠ©AGPçš„å‡çº§åŠ©æ‰‹æ¥å®Œæˆè¿™ä¸€æ­¥ï¼Œå®Œæˆååœ¨ä½ çš„build.gradleæ–‡ä»¶ä¸­å°±ä¼šå¤šå‡ºä¸€è¡Œé…ç½®</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/18e38faa91a74b3489f16df18b50a526~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="80%" loading="lazy"/>
<h3 data-id="heading-7">ä½¿ç”¨subprojectsç»Ÿä¸€æ·»åŠ é…ç½®</h3>
<p>ä¸Šé¢è¯´çš„æ·»åŠ <code>android.buildFeatures.buildConfig true</code>ä»¥åŠå‘½åç©ºé—´çš„åšæ³•ï¼Œåœ¨ä¸€äº›å°å‹ï¼Œæ¨¡å—æ²¡å‡ ä¸ªçš„é¡¹ç›®ä¸­ï¼Œé…ç½®èµ·æ¥ä¸æ˜¯ç‰¹åˆ«éš¾å—ï¼Œä½†æ˜¯è‹¥æ˜¯é¡¹ç›®è§„æ¨¡å¤§ä¸€äº›ï¼ŒåŠ¨è¾„åå‡ ä¸ªå‡ åä¸ªæ¨¡å—çš„è¯ï¼Œé€ä¸ªåŠ é‚£å°±çœŸçš„æ˜¯ä»¶å¾ˆç—›è‹¦çš„äº‹æƒ…ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰è½»æ¾ä¸€ç‚¹çš„åŠæ³•å‘¢ï¼Ÿç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯æ–°å¢ä¸€ä¸ªcommon.gradleçš„æ–‡ä»¶ï¼Œåœ¨é‡Œé¢æ·»åŠ ä¸€äº›è¯¸å¦‚<code>android.buildFeatures.buildConfig true</code>è¿™æ ·çš„é…ç½®ï¼Œç„¶åå…¶ä»–æ¨¡å—å¼•å…¥è¿™ä¸ªcommon.gradleæ–‡ä»¶ï¼Œå€’æ˜¯å¯ä»¥è¾¾åˆ°æ•ˆæœï¼Œä½†æ˜¯å­˜åœ¨ç€ä¸€äº›ç¼ºç‚¹</p>
<ol>
<li>é€ä¸ªgradleæ–‡ä»¶æ·»åŠ common.gradleçš„ä¾èµ–ä¹Ÿéœ€è¦è€—è´¹ä¸€äº›æ—¶é—´ç²¾åŠ›</li>
<li>å¦‚æœé¡¹ç›®è¿˜éœ€è¦æºç ä¾èµ–ä¸€äº›å…¶ä»–é¡¹ç›®çš„æ¨¡å—ï¼Œé‚£ä¹ˆå…¶ä»–é¡¹ç›®çš„æ¨¡å—ç”±äºæ²¡æœ‰æ·»åŠ ç±»ä¼¼é…ç½®ï¼Œä¹Ÿæ˜¯ä¼šæŠ¥é”™</li>
</ol>
<p>æ‰€ä»¥æˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•çš„gradleæ–‡ä»¶ä¸­ä½¿ç”¨<code>subprojects</code>ï¼ŒåŠ¨æ€ç»™æ¯ä¸ªå‚ä¸åˆ°ç¼–è¯‘çš„æ¨¡å—æ·»åŠ <code>android.buildFeatures.buildConfig true</code>ä»¥åŠå‘½åç©ºé—´ï¼Œä»£ç å¦‚ä¸‹</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/64d1fb58299540a68b71694c4678ae8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="90%" loading="lazy"/>
<p>å¦‚æœè¿™ä¸ªæ¨¡å—æ²¡æœ‰å®šä¹‰è¿‡å‘½åç©ºé—´ï¼Œæ¯”å¦‚ä¾èµ–çš„ä¸€äº›æºç åº“ï¼Œé‚£ä¹ˆæ‰ä¼šç»™è¿™ä¸ªæ¨¡å—æ·»åŠ å‘½åç©ºé—´ï¼Œè‡³äº<code>buildConfig</code>ï¼Œç”±äºæˆ‘ä¸çŸ¥é“å¦‚ä½•åˆ¤æ–­gradleæ–‡ä»¶ä¸­å·²ç»å£°æ˜è¿‡è‡ªå®šä¹‰å˜é‡äº†ï¼Œæ‰€ä»¥åªèƒ½å…¨é‡æ·»åŠ ï¼Œè¿™æ ·å°±èƒ½é¿å…æŸäº›æ¨¡å—å› æ¼åŠ è¿™ä¸¤ä¸ªé…ç½®è€Œäº§ç”Ÿç¼–è¯‘æŠ¥é”™</p>
<h3 data-id="heading-8">Ræ–‡ä»¶ä¸¢å¤±</h3>
<p>è¨€å½’æ­£ä¼ ï¼Œåˆšæ‰å·²ç»æ·»åŠ å®Œ<code>namespace</code>äº†ï¼Œæˆ‘å¿ƒé‡Œç¢ç£¨ç€è¿™ä¸‹åº”è¯¥å·®ä¸å¤šäº†å§ï¼Œå¯ä»¥æ­£å¸¸è·‘äº†å§ï¼Œè°çŸ¥é“Android15ç»™æˆ‘æ†‹äº†å¨å¤§çš„ï¼ŒæŠ¥å‡ºä»¥ä¸‹çº¢å­—</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/6292fc0c3a0d47bbb8e5442edde62f68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="80%" loading="lazy"/>
<p>è«åå…¶å¦™å•Šï¼Œæ€ä¹ˆæœ‰äº›stringèµ„æºè¯´æ‰¾ä¸åˆ°å°±æ‰¾ä¸åˆ°äº†å‘¢ï¼Ÿå¼€å§‹æ²¡å¤ªåœ¨æ„ï¼Œç¢ç£¨ç€è¡¥å…¨Rè·¯å¾„å°±å¥½äº†,ç±»ä¼¼äºè¿™æ ·</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/9659bc462e3344c78822942dbc35121c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="80%" loading="lazy"/>
<p>è¿™ç§åˆå¥‡è‘©åˆä¸‘çš„æ–¹å¼ä¸ç”¨æƒ³è‚¯å®šä¹ŸçŸ¥é“æ²¡æ³•è§£å†³æœ¬è´¨é—®é¢˜ï¼Œæœç„¶å†æ¬¡ç¼–è¯‘ååˆæŠ¥å‡ºæ¥ä¸€å †æ‰¾ä¸åˆ°èµ„æºçš„Ræ–‡ä»¶ï¼Œå…¶ä¸­åŒ…æ‹¬layout,color,drawableç­‰ï¼Œè¿™ä¸‹å½»åº•å‡Œä¹±äº†ï¼Œè‚¯å®šä¸èƒ½ä¸€ä¸ªä¸ªè·¯å¾„å»è¡¥å…¨ï¼Œå¿ƒæƒ³è¿™ä¹ˆå¤§çš„äº‹å®˜ç½‘ä¸Šè‚¯å®šä¼šæœ‰è¯´æ˜å§ï¼Œæ‰¾æ‰¾çœ‹æœç„¶åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Fbuild%2Freleases%2Fpast-releases%2Fagp-8-0-0-release-notes%3Fhl%3Dzh-CN%23kotlin-assignment" target="_blank" title="https://developer.android.google.cn/build/releases/past-releases/agp-8-0-0-release-notes?hl=zh-CN#kotlin-assignment" ref="nofollow noopener noreferrer">gradle8.0çš„æ›´æ–°æ—¥å¿—é‡Œ</a>ä»¥åŠ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Fbuild%2Fconfigure-app-module%3Fhl%3Dzh-cn%23set-namespace" target="_blank" title="https://developer.android.google.cn/build/configure-app-module?hl=zh-cn#set-namespace" ref="nofollow noopener noreferrer">è®¾ç½®å‘½åç©ºé—´çš„ä»‹ç»é‡Œ</a>æ‰¾åˆ°äº†å…·ä½“æ›´æ–°ä¿¡æ¯ï¼Œè°·æ­Œå¼•å…¥<code>namespace</code>çš„ä¸»è¦åŸå› æ˜¯ä¸ºäº†ä»¥ååœ¨æ¯ä¸ªæ¨¡å—é‡Œé¢ï¼Œåªä¼šç”Ÿæˆå½“å‰æ¨¡å—ä¸‹çš„èµ„æºæ–‡ä»¶ï¼Œå…¶ä»–å­æ¨¡å—çš„èµ„æºæ–‡ä»¶å°±ä¸ä¼šç”Ÿæˆäº†ï¼Œè‹¥è¦è®¿é—®çš„è¯å¿…é¡»ä½¿ç”¨å¯¹åº”å‘½åç©ºé—´å¯¼å…¥Rç±»ï¼Œæˆ‘è®¤ä¸ºè°·æ­Œè¿™ä¸€æ”¹åŠ¨å°±æ˜¯ä¸ºäº†åŠ é€Ÿæ„å»ºé€Ÿåº¦å§ï¼Œä½†æ˜¯çœŸçš„è¦æˆ‘ä»¬å¼€å‘è€…ä¸€ä¸ªä¸ªèµ„æºå‰é¢è¡¥å…¨è·¯å¾„å—ï¼Œå½“ç„¶ä¸ä¼šï¼Œè°·æ­Œè¿˜æ˜¯ç»™å‡ºäº†å¯¹ç­–çš„</p>
<img src="https://p-xtjj.byted.org/tos-cn-i-73owjymdk6/393d8fee14224f169750752a70f78cc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6:q75.image" alt="image.png" width="90%" loading="lazy"/>
<p>åœ¨æ ‡å¿—é¡¹çš„è¡¨æ ¼ä¸­å°±çœ‹åˆ°äº†ä¸¤ä¸ªè·ŸRæ–‡ä»¶ç›¸å…³çš„è®¾ç½®</p>
<ul>
<li>android.nonFinalResIdsï¼šå…³é—­è¿™ä¸ªå¼€å…³AGP 8.0 é»˜è®¤æƒ…å†µä¸‹å°±ä¸ä¼šç”ŸæˆåŒ…å«éæœ€ç»ˆå­—æ®µçš„Â <code>R</code>Â ç±»</li>
<li>android.nonTransitiveRClassï¼šå…³é—­è¿™ä¸ªå¼€å…³AGP 8.0 å°±ä¸ä¼šä»…ä¸ºå½“å‰æ¨¡å—ä¸­å®šä¹‰çš„èµ„æºç”ŸæˆÂ <code>R</code>Â ç±»</li>
</ul>
<p>å°†è¿™ä¿©è®¾ç½®åŠ åœ¨<code>gradle.properties</code>ä¸­åï¼Œé¡¹ç›®æœç„¶å¯ä»¥æ­£å¸¸è¿è¡Œäº†ï¼Œä¸å®¹æ˜“ï¼ç»ˆäºå¯ä»¥ææµ‹äº†ï¼</p>
<h2 data-id="heading-9">æœ€å</h2>
<p>è¿˜æ˜¯ä»¥å‰æé€‚é…æ²¡å•¥å‹åŠ›å•Šï¼Œæ¯ä¸ªç‰ˆæœ¬å‡ºæ¥å°±ä¸€ç‚¹å˜åŠ¨ï¼Œç°åœ¨è¿™ä¸ªAndroid15ç€å®æœ‰ç‚¹è´¹ä½“åŠ›ï¼Œå…‰ä¸€ä¸ªç¼–è¯‘ç¯å¢ƒéƒ½æŠ˜è…¾äº†é‚£ä¹ˆä¹…ï¼Œç…ç…è¿™äº›å‘ï¼Œæˆ‘å†™éƒ½å†™åŠå¤©ï¼Œæ›´åˆ«è¯´ä¸€ä¸ªä¸ªè¸©äº†ï¼Œé‚£äº›æ–°å‡ºæ¥çš„ç‰¹æ€§éƒ½è¿˜æ²¡å¼€å§‹æ­£ç»é€‚é…ï¼Œä¼‘æ¯ä¸€ä¸‹ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« æ­£å¼é¢†æ•™ä¸‹edge-to-edgeä»¥åŠ16kbå†…å­˜é¡µé¢</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹çš„å¥¥ç§˜ï¼šTokenä¸Transformerç®€å•ç†è§£]]></title>    <link>https://juejin.cn/post/7584298069610315776</link>    <guid>https://juejin.cn/post/7584298069610315776</guid>    <pubDate>2025-12-16T17:09:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584298069610315776" data-draft-id="7584319403858673699" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹çš„å¥¥ç§˜ï¼šTokenä¸Transformerç®€å•ç†è§£"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM"/> <meta itemprop="datePublished" content="2025-12-16T17:09:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shawn_Shawn"/> <meta itemprop="url" content="https://juejin.cn/user/1855631358965384"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹çš„å¥¥ç§˜ï¼šTokenä¸Transformerç®€å•ç†è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1855631358965384/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shawn_Shawn
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T17:09:52.000Z" title="Tue Dec 16 2025 17:09:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¤§æ¨¡å‹æ˜¯ä»€ä¹ˆ</h2>
<p>å¤§æ¨¡å‹ï¼ˆLarge Modelï¼‰æ˜¯æŒ‡å…·æœ‰å¤§è§„æ¨¡å‚æ•°å’Œå¤æ‚è®¡ç®—ç»“æ„çš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚è¿™äº›æ¨¡å‹é€šå¸¸ç”±<strong>æ·±åº¦ç¥ç»ç½‘ç»œ</strong>æ„å»ºè€Œæˆï¼Œæ‹¥æœ‰æ•°åäº¿ç”šè‡³æ•°åƒäº¿ä¸ªå‚æ•°ã€‚å¤§æ¨¡å‹çš„è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†æé«˜æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›å’Œé¢„æµ‹æ€§èƒ½ï¼Œèƒ½å¤Ÿå¤„ç†æ›´åŠ å¤æ‚çš„ä»»åŠ¡å’Œæ•°æ®ã€‚å¤§æ¨¡å‹åœ¨å„ç§é¢†åŸŸéƒ½æœ‰å¹¿æ³›çš„åº”ç”¨ï¼ŒåŒ…æ‹¬<strong>è‡ªç„¶è¯­è¨€å¤„ç†ã€è®¡ç®—æœºè§†è§‰ã€è¯­éŸ³è¯†åˆ«å’Œæ¨èç³»ç»Ÿ</strong>ç­‰ã€‚å¤§æ¨¡å‹é€šè¿‡è®­ç»ƒæµ·é‡æ•°æ®æ¥å­¦ä¹ å¤æ‚çš„æ¨¡å¼å’Œç‰¹å¾ï¼Œå…·æœ‰æ›´å¼ºå¤§çš„æ³›åŒ–èƒ½åŠ›ï¼Œå¯ä»¥å¯¹æœªè§è¿‡çš„æ•°æ®åšå‡ºå‡†ç¡®çš„é¢„æµ‹ã€‚</p>
<p>å¤§è¯­è¨€æ¨¡å‹ï¼ˆlarge language modelï¼ŒLLMï¼‰ï¼Œä¹Ÿç§°å¤§è¯­è¨€æ¨¡å‹ï¼Œæ˜¯ç”±å…·æœ‰å¤§é‡å‚æ•°ï¼ˆé€šå¸¸æ•°åäº¿ä¸ªæƒé‡æˆ–æ›´å¤šï¼‰çš„äººå·¥ç¥ç»ç½‘ç»œç»„æˆçš„ä¸€ç±»è¯­è¨€æ¨¡å‹ï¼Œä½¿ç”¨è‡ªç›‘ç£å­¦ä¹ æˆ–åŠç›‘ç£å­¦ä¹ å¯¹å¤§é‡æœªæ ‡è®°æ–‡æœ¬è¿›è¡Œè®­ç»ƒã€‚å¤§å‹è¯­è¨€æ¨¡å‹åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ã€æ–‡æœ¬ç”Ÿæˆå’Œæ™ºèƒ½å¯¹è¯ç­‰é¢†åŸŸæœ‰å¹¿æ³›åº”ç”¨ã€‚</p>
<p>GPTï¼ˆGenerative Pre-trained Transformerï¼‰ï¼šGPT å’Œ ChatGPT éƒ½æ˜¯åŸºäº Transformer æ¶æ„çš„è¯­è¨€æ¨¡å‹ï¼Œä½†å®ƒä»¬åœ¨è®¾è®¡å’Œåº”ç”¨ä¸Šå­˜åœ¨åŒºåˆ«ï¼šGPT æ¨¡å‹æ—¨åœ¨ç”Ÿæˆè‡ªç„¶è¯­è¨€æ–‡æœ¬å¹¶å¤„ç†å„ç§è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ï¼Œå¦‚æ–‡æœ¬ç”Ÿæˆã€ç¿»è¯‘ã€æ‘˜è¦ç­‰ã€‚å®ƒé€šå¸¸åœ¨å•å‘ç”Ÿæˆçš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œå³æ ¹æ®ç»™å®šçš„æ–‡æœ¬ç”Ÿæˆè¿è´¯çš„è¾“å‡ºã€‚</p>
<p>ChatGPTï¼šChatGPT åˆ™ä¸“æ³¨äºå¯¹è¯å’Œäº¤äº’å¼å¯¹è¯ã€‚å®ƒç»è¿‡ç‰¹å®šçš„è®­ç»ƒï¼Œä»¥æ›´å¥½åœ°å¤„ç†å¤šè½®å¯¹è¯å’Œä¸Šä¸‹æ–‡ç†è§£ã€‚ChatGPT è®¾è®¡ç”¨äºæä¾›æµç•…ã€è¿è´¯å’Œæœ‰è¶£çš„å¯¹è¯ä½“éªŒï¼Œä»¥å“åº”ç”¨æˆ·çš„è¾“å…¥å¹¶ç”Ÿæˆåˆé€‚çš„å›å¤ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬æ—¥å¸¸è¯´çš„å¤§æ¨¡å‹ï¼Œæ›´å¤šè¿˜æ˜¯å€¼å¾—æ˜¯å¤§è¯­è¨€æ¨¡å‹ï¼ŒChatgpt, DeepSeekï¼ŒQwenç­‰ä¸€å¼€å§‹ä¹Ÿéƒ½æ˜¯å¤§è¯­è¨€æ¨¡å‹ï¼Œéšç€å¤§æ¨¡å‹æŠ€æœ¯ä¸æ–­çš„æ›´æ–°ï¼Œæˆç†Ÿï¼Œè¶Šæ¥è¶Šå¤šçš„æ¨¡å‹ä¾›åº”å•†ï¼Œå¼€å§‹æ”¯æŒCVï¼ŒOCRï¼ŒASRï¼ŒSERç­‰æ¨¡å‹ï¼Œå½¢æˆå¤šæ¨¡æ€å¤§æ¨¡å‹ã€‚</p>
<p>æœ¬æ–‡è¿˜æ˜¯ä¸»è¦è®²è¿°çš„æ˜¯å¤§è¯­è¨€æ¨¡å‹ç›¸å…³æ¦‚å¿µå’ŒåŸºæœ¬åŸç†ã€‚</p>
<h2 data-id="heading-1">å¤§æ¨¡å‹åŸç†</h2>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯token</h3>
<p>æˆ‘ä»¬åœ¨ä½¿ç”¨chatgptï¼Œdeepseekçš„æ—¶å€™ï¼Œç»å¸¸çœ‹åˆ°è®¡è´¹è§„åˆ™ï¼ŒåŸºæœ¬æ˜¯æŒ‰ç…§tokenæ¥è®¡è´¹çš„ï¼Œé‚£ä»€ä¹ˆæ˜¯tokenï¼Ÿå°±æ˜¯ä¸€ä¸ªå­—ç¬¦å—ï¼Ÿ</p>
<p>Tokenå°±æ˜¯å¤§æ¨¡å‹å¤„ç†æ–‡æœ¬çš„æœ€å°å•ä½ã€‚tokenå¯ä»¥è¡¨ç¤ºå•è¯ã€å•è¯çš„ä¸€éƒ¨åˆ†ï¼Œç”šè‡³åªè¡¨ç¤ºå­—ç¬¦ã€‚</p>
<p>â€œä»Šå¤©å¤©æ°”å¾ˆå¥½ï¼Œæˆ‘æ‰“ç®—å‡ºå»æ‰“ç¾½æ¯›çƒâ€ï¼Œæ‹¿è¿™æ®µè¯æ¥è¯´ï¼Œå¤§æ¨¡å‹ä¼šé€šè¿‡åˆ†è¯å™¨(Tokenizer)ï¼Œå¯èƒ½ä¼šåˆ†æˆå¦‚ä¸‹çš„token: "ä»Šå¤©"ï¼Œâ€œå¤©æ°”â€ï¼Œâ€œå¾ˆâ€ï¼Œâ€œå¥½â€ï¼Œâ€œæˆ‘â€ï¼Œâ€œæ‰“ç®—â€ï¼Œâ€œå‡ºå»â€ï¼Œâ€œæ‰“â€ï¼Œâ€œç¾½æ¯›çƒâ€ã€‚è¿™äº›tokenæœ€åéƒ½è½¬åŒ–ä¸ºå‘é‡ï¼Œæ˜ å°„åˆ°å”¯ä¸€çš„æ•°å€¼è¡¨ç¤ºï¼ŒLLM ä½¿ç”¨å‘é‡æ•°å€¼è¾“å…¥ï¼Œè¿™ç§æ˜ å°„å…è®¸ LLM å°†æ–‡æœ¬æ•°æ®ä½œä¸ºæ•°å­—åºåˆ—è¿›è¡Œå¤„ç†å’Œæ“ä½œï¼Œä»è€Œå®ç°é«˜æ•ˆçš„è®¡ç®—å’Œå»ºæ¨¡ã€‚</p>
<p>å‡è®¾ä¸Šé¢çš„æ–‡æœ¬æ˜¯è¾“å…¥ï¼Œå¤§è¯­è¨€æ¨¡å‹çš„è¾“å‡ºtokenåˆæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿå‡è®¾å¤§æ¨¡å‹çš„è¾“å‡ºæ˜¯â€œæ˜¯çš„ï¼Œä»Šå¤©å¤©æ°”å¾ˆå¥½ï¼Œä½ å¯ä»¥å¸¦ä¸Šä½ çš„ç¾½æ¯›çƒå»å®¤å¤–ç©â€ã€‚å®é™…ä¸Šï¼Œå¤§æ¨¡å‹çš„è¾“å‡ºä¹Ÿæ˜¯ä¸€ä¸ªtokenï¼Œä¸€ä¸ªtokençš„è¾“å‡ºï¼Œæœ€åç»„è£…èµ·æ¥ï¼Œåä¸€ä¸ªtokenæ˜¯ä¸Šä¸€ä¸ªtokençš„æ¦‚ç‡è¾“å‡ºã€‚ä¾‹å¦‚å…ˆè¾“å‡ºâ€œæ˜¯çš„â€ï¼Œåé¢ç´§è·Ÿç€çš„é¢„æµ‹tokenæ˜¯â€œï¼Œâ€ï¼Œä¸”æ¦‚ç‡æœ€å¤§ï¼Œæˆ–è€…é«˜äºé˜ˆå€¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62996af715bd46479a238b66f2ad2003~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2hhd25fU2hhd24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766509791&amp;x-signature=RuEO34VG9p6L%2FIqtWTrEyXBEo5s%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹deepseekçš„æµå¼è¾“å‡ºï¼Œå®é™…ä¸Šå°±æ˜¯è¾“å‡ºä¸€ä¸ªä¸ªtokenã€‚</p>
<h3 data-id="heading-3">ä»€ä¹ˆæ˜¯transform</h3>
<p>ä¸Šé¢ä»‹ç»äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯tokenï¼Œé‚£ä¹ˆå¤§æ¨¡å‹å¦‚ä½•ç†è§£tokenå‘¢ï¼Ÿæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°çš„ç¬¬ä¸€ä¸ªæ–¹æ¡ˆå°±æ˜¯è®©AIä¸€ä¸ªä¸ªtokenï¼Œé¡ºåºè¯»ï¼Œè¯»äº†ç¬¬ä¸€ä¸ªtokenï¼Œè®°ä½å®ƒï¼Œä¼ ç»™å¤§è„‘ï¼›å†è¯»ç¬¬äºŒä¸ªtokenï¼Œç»“åˆç¬¬ä¸€ä¸ªå­—ç†è§£ï¼Œå†ä¼ ä¸‹å»ã€‚ã€‚ã€‚</p>
<p>ä½†æ˜¯è¿™æ ·æœ‰ä¸¤ä¸ªååˆ†æ˜æ˜¾çš„ç¼ºç‚¹ï¼š</p>
<ol>
<li>æ…¢ï¼Œéœ€è¦ä¸€ä¸ªæ¥ç€ä¸€ä¸ªè¯»ï¼ŒåŒæ—¶ç»“åˆä¸Šæ–‡ï¼Œç†è§£ã€‚</li>
<li>å¥å¿˜ï¼Œå¦‚æœå¥å­å¾ˆé•¿ï¼Œè¯»åˆ°æœ€åå‡ ä¸ªå­—æ—¶ï¼Œå¯èƒ½å·²ç»å¿˜äº†å¼€å¤´è®²ä»€ä¹ˆäº†ï¼ˆæ¯”å¦‚â€œå› ä¸ºâ€¦â€¦æ‰€ä»¥â€¦â€¦â€çš„é€»è¾‘å®¹æ˜“æ–­ï¼‰ã€‚</li>
</ol>
<p>è¿™æ˜¯ä¼ ç»ŸAIçš„æ–¹å¼ï¼Œé€šè¿‡<strong>RNN</strong>ï¼Œå¾ªç¯ç¥ç»ç½‘ç»œæ¥è¿›è¡Œå¤„ç†ã€‚ä½†æ˜¾ç„¶ï¼Œæˆ‘ä»¬æ—¥å¸¸ç”¨çš„å¤§æ¨¡å‹ï¼ŒåŸºæœ¬å¤„ç†é€Ÿåº¦éƒ½æ¯”è¾ƒå¿«ï¼Œæ‰€ä»¥å¤§æ¨¡å‹æ˜¾ç„¶å¹¶æ²¡æœ‰é‡‡ç”¨RNNçš„æ–¹å¼å®ç°ï¼Œè€Œæ˜¯é€šè¿‡å¦å¤–ä¸€ç§æ–¹å¼ï¼ŒTransformæ¶æ„æ¥å®ç°ã€‚</p>
<p>Transformæœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯å¿«ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªä¸ªè¯»çš„ï¼Œè¿˜æ˜¯æ•´ä½“è¯»ï¼Œé€šè¿‡<strong>å¹¶è¡Œè®¡ç®—</strong>ï¼Œç¬é—´æŠŠæ•´æ®µè¯çš„æ‰€æœ‰tokenåŒæ—¶è®°å½•åˆ°è„‘æµ·é‡Œã€‚å½“ç„¶ï¼Œå†™è¿˜æ˜¯ä¸²è¡Œçš„ã€‚</p>
<p>å¹¶è¡Œçš„è¯»å»tokenï¼ŒåŠ¿å¿…ä¼šé€ æˆæœ‰çš„tokenè¯»å¾—å¿«ï¼Œæœ‰çš„tokenè¯»å¾—æ…¢ï¼Œå‡ºç°ä¹±åºè¡Œä¸ºï¼Œä½†æˆ‘ä»¬å†ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°å¤§æ¨¡å‹å¹¶æ²¡æœ‰å‡ºç°è¿™æ ·çš„é—®é¢˜ï¼Œé‚£transformå¦‚ä½•è§£å†³çš„ï¼Ÿ</p>
<p>Transformer çš„æ¶æ„ä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li>ç¼–ç å™¨ (<strong>Encoder</strong>) â€”â€” è´Ÿè´£â€œè¯»â€å’Œâ€œç†è§£â€ï¼šå®ƒæŠŠäººç±»çš„è¯­è¨€ï¼ˆæ–‡å­—ï¼‰è½¬åŒ–æˆè®¡ç®—æœºèƒ½æ‡‚çš„æ•°å­—å‘é‡ï¼ˆç‰¹å¾ï¼‰ã€‚åŒæ—¶ä¹Ÿä¼šè®°å½•æ¯ä¸ªtokenæˆ–è€…æ¯ä¸ªç‰¹å¾çš„<strong>ä½ç½®ç¼–ç </strong>ï¼Œè¿™æ ·å°±èƒ½ä¿è¯tokençš„é¡ºåºæ€§ã€‚</li>
<li>è§£ç å™¨ (<strong>Decoder</strong>) â€”â€” è´Ÿè´£â€œå†™â€å’Œâ€œç”Ÿæˆâ€ï¼šå®ƒæ‹¿åˆ°ç¼–ç å™¨ç»™çš„ç†è§£ç»“æœï¼Œå¼€å§‹ç”Ÿæˆç›®æ ‡è¯­è¨€ï¼ˆæ¯”å¦‚æŠŠä¸­æ–‡ç¿»è¯‘æˆè‹±æ–‡ï¼Œæˆ–è€…å›ç­”ä½ çš„é—®é¢˜ï¼‰ã€‚è™½è¯´æ˜¯ç”Ÿæˆï¼Œä½†ä¹Ÿä¼šè®¡ç®—å‡ºæ¯æ¬¡è¾“å‡ºtokençš„<strong>ä½ç½®ç¼–ç ã€‚</strong></li>
</ul>
<p>Transformè¿˜æœ‰ä¸ªéå¸¸é‡è¦çš„æœºåˆ¶ï¼Œè‡ªæ³¨æ„åŠ›æœºåˆ¶<strong>self-Attention</strong>ã€‚æˆ‘ä»¬ä»¥â€œè‹¹æœæ‰åœ¨åœ°ä¸Šï¼Œå®ƒæ‘”åäº†ã€‚â€è¿™æ®µè¯ä¸ºä¾‹ã€‚å½“æˆ‘ä»¬è¯»åˆ°â€œå®ƒâ€çš„æ—¶å€™ï¼Œæˆ‘ä»¬äººç±»çŸ¥é“â€œå®ƒâ€æŒ‡çš„æ˜¯â€œè‹¹æœâ€ã€‚ä½†ç”µè„‘æ€ä¹ˆçŸ¥é“â€œå®ƒâ€æ˜¯æŒ‡â€œè‹¹æœâ€è¿˜æ˜¯â€œåœ°â€ï¼Ÿç®€å•ä¸€ç‚¹ç†è§£ï¼ŒTransformer ä¼šè®©æ¯ä¸€ä¸ªtokenï¼Œéƒ½å»å’Œå…¶ä½™tokenè¿›è¡Œç›¸å…³æ€§çš„ç®—åˆ†ï¼Œå–æƒé‡æœ€é«˜çš„é‚£ä¸€ä¸ªtokenã€‚å½“æ¨¡å‹å¤„ç†â€œå®ƒâ€è¿™ä¸ªå­—æ—¶ï¼Œä¼šå‘ç°â€œè‹¹æœâ€è·Ÿå®ƒçš„å…³è”åº¦ï¼ˆæƒé‡ï¼‰å¾ˆé«˜ï¼Œå¯èƒ½æœ‰ 90 åˆ†ã€‚è€Œâ€œåœ°â€è·Ÿå®ƒçš„å…³è”åº¦åªæœ‰ 10 åˆ†ã€‚äºæ˜¯ï¼Œæ¨¡å‹åœ¨ç†è§£â€œå®ƒâ€çš„æ—¶å€™ï¼Œä¼šæŠŠæ³¨æ„åŠ›æ›´å¤šåœ°æ”¾åœ¨â€œè‹¹æœâ€èº«ä¸Šã€‚</p>
<p>å¦å¤–ï¼Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œç›®å‰Chatgptç­‰ä¸»æµå¤§è¯­è¨€æ¨¡å‹ï¼Œä¸»è¦é‡‡ç”¨çš„æ˜¯çº¯<strong>Decoderæ¨¡å¼</strong>ã€‚</p>
<h2 data-id="heading-4">å‚è€ƒæ–‡çŒ®</h2>
<p>æƒ³è¦æ›´åŠ æ·±å…¥çš„ç†è§£transformerçš„åŒå­¦ï¼Œå¯ä»¥å‚è€ƒï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftransformers.run%2Fc1%2Ftransformer%2F" target="_blank" title="https://transformers.run/c1/transformer/" ref="nofollow noopener noreferrer">transformers.run/c1/transforâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F338817680" target="_blank" title="https://zhuanlan.zhihu.com/p/338817680" ref="nofollow noopener noreferrer">zhuanlan.zhihu.com/p/338817680</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆè¯´ AI èµ‹èƒ½å‰ç«¯å¼€å‘ï¼Œå·²ç»ä¸æ˜¯é€‰æ‹©é¢˜ï¼Œè€Œæ˜¯å¿…ç„¶è¶‹åŠ¿ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7584292514959654921</link>    <guid>https://juejin.cn/post/7584292514959654921</guid>    <pubDate>2025-12-16T15:04:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584292514959654921" data-draft-id="7584262116389290010" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆè¯´ AI èµ‹èƒ½å‰ç«¯å¼€å‘ï¼Œå·²ç»ä¸æ˜¯é€‰æ‹©é¢˜ï¼Œè€Œæ˜¯å¿…ç„¶è¶‹åŠ¿ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,æ¶æ„,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-16T15:04:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¥¿é™µ"/> <meta itemprop="url" content="https://juejin.cn/user/4353721774379054"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆè¯´ AI èµ‹èƒ½å‰ç«¯å¼€å‘ï¼Œå·²ç»ä¸æ˜¯é€‰æ‹©é¢˜ï¼Œè€Œæ˜¯å¿…ç„¶è¶‹åŠ¿ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4353721774379054/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¥¿é™µ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T15:04:37.000Z" title="Tue Dec 16 2025 15:04:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é¦–å‘äºå…¬ä¼—å·Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FcqfeTj6GhIIv7Ief5554Ow" target="_blank" title="https://mp.weixin.qq.com/s/cqfeTj6GhIIv7Ief5554Ow" ref="nofollow noopener noreferrer">codeè¿›åŒ–è®º</a>ï¼Œæ¬¢è¿å…³æ³¨ã€‚</p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>è¿™å‡ å¹´ AI åœ¨å‰ç«¯å¼€å‘é‡Œçš„èƒ½åŠ›å‡ ä¹æ˜¯è‚‰çœ¼å¯è§åœ°è¿›åŒ–â€ã€‚ä»æœ€æ—©åªèƒ½å¸®æˆ‘ä»¬åšåšä»£ç è¡¥å…¨ã€æç¤ºå‡ ä¸ªå‚æ•°ï¼Œä¾‹å¦‚æ—©æœŸçš„ comateã€‚åˆ°åæ¥èƒ½å¤Ÿç‹¬ç«‹ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„ React/Vue ç»„ä»¶ï¼Œè¿é€»è¾‘ã€æ ·å¼å’Œäº¤äº’éƒ½èƒ½è‡ªåŠ¨å†™å¥½ï¼Œä¾‹å¦‚ cursor å’Œ claudeã€‚å†åˆ°ç°åœ¨ï¼ŒAI å·²ç»èƒ½æ ¹æ®ä¸€å¥è‡ªç„¶è¯­è¨€å»æ­å»ºæ•´ä¸ªå‰ç«¯é¡¹ç›®ï¼Œè‡ªåŠ¨åˆ›å»ºé¡µé¢ã€è·¯ç”±ã€æ¥å£å±‚ï¼Œç”šè‡³è·‘é€šåŸºç¡€ä¸šåŠ¡æµç¨‹ï¼Œä¾‹å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fv0.dev%2F" target="_blank" title="https://v0.dev/" ref="nofollow noopener noreferrer">v0</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fbolt.new%2F" target="_blank" title="https://bolt.new/" ref="nofollow noopener noreferrer">bolt.new</a>ã€‚AI çš„è§’è‰²æ­£åœ¨ä»â€œèªæ˜çš„ç¼–è¾‘å™¨â€å˜æˆâ€œèƒ½ç‹¬ç«‹å¹²æ´»çš„è™šæ‹Ÿå·¥ç¨‹å¸ˆâ€ï¼Œè®©å‰ç«¯å¼€å‘çš„é—¨æ§›é™ä½ã€æ•ˆç‡æå‡ï¼Œä¹Ÿè®©æ›´å¤šçš„ç²¾åŠ›èƒ½å¤ŸæŠ•å…¥åˆ°çœŸæ­£æœ‰ä»·å€¼çš„äº§å“è®¾è®¡å’Œä½“éªŒåˆ›æ–°ä¸Šã€‚</p>
<h2 data-id="heading-1">AIèµ‹èƒ½ä¸‹çš„èŒƒå¼è¿ç§»</h2>
<p>åœ¨å½“å‰ AI çš„å‘å±•ä¹‹ä¸‹ï¼ŒAI èµ‹èƒ½å¼€å‘å½“å‰è¿˜å¤„äºæœ€åˆçº§çš„é˜¶æ®µï¼Œè¿™é‡Œå¼•ç”¨äº†<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.iamkasong.com%2Fdocs%2F%25E7%25AC%25AC%25E4%25B8%2580%25E8%25AF%25BE%2520%25E9%259D%25A2%25E5%2590%2591%25E6%259C%25AA%25E6%259D%25A5%25E7%259A%2584%25E5%2589%258D%25E7%25AB%25AF%25E5%258F%2591%25E5%25B1%2595%25E8%25B7%25AF%25E5%25BE%2584.html" target="_blank" title="https://doc.iamkasong.com/docs/%E7%AC%AC%E4%B8%80%E8%AF%BE%20%E9%9D%A2%E5%90%91%E6%9C%AA%E6%9D%A5%E7%9A%84%E5%89%8D%E7%AB%AF%E5%8F%91%E5%B1%95%E8%B7%AF%E5%BE%84.html" ref="nofollow noopener noreferrer">å¡é¢‚è€å¸ˆç”»çš„ä¸€å¼ å›¾</a>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59fb4816eebc45779e287a5a3dfa4791~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766502536&amp;x-signature=F3Vs7o4Jd92RiXUFF%2FWmbPzSawA%3D" alt="image.png" loading="lazy"/></p>
<p>å½“å‰é˜¶æ®µæ­£å¤„äºå¼€å‘èŒƒå¼çš„è¿ç§»é˜¶æ®µï¼Œè¿™é‡Œå¯ä»¥å›æƒ³ä¸€ä¸‹å‰ç«¯å¼€å‘å‘å±•çš„å†ç¨‹ï¼š</p>
<ul>
<li>æ‰‹å†™ JSã€HTML ä»£ç ï¼Œæ‰‹åŠ¨å¤„ç†æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚ç‚¹ã€‚</li>
<li>å¼•å…¥ jQuery ç»Ÿä¸€ DOM æ“ä½œï¼ŒæŠ¹å¹³æµè§ˆå™¨çš„å·®å¼‚æ€§ã€‚</li>
<li>å¼•å…¥ Reactã€Vue ç­‰å‰ç«¯æ¡†æ¶ï¼Œä»¥æ•°æ®é©±åŠ¨ä¸ºæ ¸å¿ƒï¼Œå°†å¼€å‘è€…ä»å‘½ä»¤å¼çš„å¼€å‘è½¬ä¸ºå£°æ˜å¼å¼€å‘ã€‚</li>
<li>â€¦.</li>
</ul>
<p>ç°é˜¶æ®µçš„ AI ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¼€å‘èŒƒå¼çš„å‘å±•åˆ°äº†ä¸€å®šé˜¶æ®µåå°±ä¼šæ¶Œç°å‡ºæ–°çš„å¼€å‘æŠ€æœ¯æ¥é™ä½é—¨æ§›ã€‚</p>
<h2 data-id="heading-2">å‰ç«¯å¼€å‘è§’è‰²çš„è½¬å˜</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9b9f49e3c894191a4f2d7d973a88429~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766502536&amp;x-signature=A2WOMH4ev4BPzJ%2FeRvYVB72upks%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ AI æ—¶ä»£ä¸‹ï¼Œå‰ç«¯å¼€å‘çš„è§’è‰²ä¼šé€æ­¥è¿›è¡Œè½¬å˜ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<ul>
<li>
<p><strong>å‰ç«¯å·¥ç¨‹å¸ˆ</strong></p>
<p>ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„å‰ç«¯å·¥ç¨‹å¸ˆæŒæ¡ HTML/CSS/JavaScriptï¼Œèƒ½å¤ŸæŠŠè®¾è®¡ç¨¿è¿˜åŸæˆäº¤äº’ç•Œé¢ï¼Œç†Ÿæ‚‰å¸¸è§æ¡†æ¶ï¼ˆå¦‚ React/Vue/Angularï¼‰å’Œå·¥ç¨‹åŒ–å·¥å…·ï¼ˆæ‰“åŒ…ã€CIã€æµ‹è¯•ï¼‰ã€‚ä»–ä»¬çš„ä»·å€¼ä½“ç°åœ¨æŠŠäº§å“éœ€æ±‚è½¬åŒ–ä¸ºç¨³å®šã€å¯ç»´æŠ¤çš„ç”¨æˆ·ç•Œé¢ï¼ŒåŒæ—¶éœ€è¦å…³æ³¨æµè§ˆå™¨å…¼å®¹ã€æ€§èƒ½ä¼˜åŒ–ç­‰ã€‚</p>
</li>
<li>
<p><strong>ä½¿ç”¨AIå·¥å…·çš„å‰ç«¯</strong></p>
<p>è¿›å…¥ AI èµ‹èƒ½é˜¶æ®µï¼Œå‰ç«¯å·¥ç¨‹å¸ˆä¼šæŠŠ AI å½“æˆæ”¾å¤§æ•ˆç‡çš„åŠ©æ‰‹ï¼Œåˆ©ç”¨ AI çš„ä»£ç è¡¥å…¨ã€ç»„ä»¶å¼€å‘ã€è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆç­‰èƒ½åŠ›æé«˜å¼€å‘æ•ˆç‡ã€‚ç»“æœæ˜¯åŒæ ·çš„å·¥ä½œå¯ä»¥æ›´å¿«äº¤ä»˜ï¼Œå·¥ç¨‹å¸ˆæŠŠèŠ‚çœä¸‹æ¥çš„æ—¶é—´æŠ•å…¥åˆ°æ›´é«˜ä»·å€¼çš„å·¥ä½œä¸Šâ€”â€”æ¯”å¦‚æ·±æŒ–ä¸šåŠ¡é€»è¾‘ã€åšå¤æ‚çš„äº¤äº’è®¾è®¡ã€æˆ–è€…æ­å»ºæ›´ç¨³å¥çš„æ¶æ„ã€‚é‡è¦å˜åŒ–ä¸æ˜¯å·¥å…·æœ¬èº«ï¼Œè€Œæ˜¯å°†å·¥ä½œé‡å¿ƒä»å†™ä»£ç è½¬å‘å†™æç¤ºè¯ã€review AI ä»£ç ã€æ¶æ„å†³ç­–ä¸ä¸šåŠ¡ç†è§£ã€‚</p>
</li>
<li>
<p><strong>ä¼šå¼€å‘AIå·¥å…·çš„å‰ç«¯</strong></p>
<p>å‰ç«¯å·¥ç¨‹å¸ˆå¼€å§‹å‚ä¸æˆ–ä¸»å¯¼ AI å·¥å…·çš„å¼€å‘ï¼Œèƒ½æŠŠå‰ç«¯åœºæ™¯æŠ½è±¡æˆå¯å¤ç”¨çš„ AI ææ•ˆå·¥å…·ã€‚</p>
</li>
<li>
<p><strong>æŠ€æœ¯å…¨é¢çš„ä¸“ä¸šå‰ç«¯äººæ‰</strong></p>
<p>å‰ç«¯å·¥ç¨‹å¸ˆä¸å†åªè´Ÿè´£å‰ç«¯é¡µé¢çš„å¼€å‘ï¼Œè€Œéœ€è¦å…·å¤‡æ›´å¹¿çš„æŠ€æœ¯è§†é‡ï¼Œé€æ­¥å‘â€œå¤§å‰ç«¯ / å…¨æ ˆå¼â€æ–¹å‘æ¼”ç”¨AIè¿›ã€‚AI èƒ½å¸®åŠ©å·¥ç¨‹å¸ˆæŠŠä»£ç åœ¨ä¸åŒæŠ€æœ¯æ ˆä¹‹é—´å¿«é€Ÿè¿ç§»ï¼Œä½†å·¥ç¨‹å¸ˆå¿…é¡»å…·å¤‡è·¨æŠ€æœ¯é¢†åŸŸçš„ç†è§£èƒ½åŠ›ï¼Œæ‰èƒ½è¯„ä¼°ã€ä¿®æ”¹å’Œç»´æŠ¤ AI ç”Ÿæˆçš„å¤šç«¯ä»£ç ã€‚å› æ­¤å‰ç«¯éœ€è¦æŒæ¡åç«¯åŸºç¡€ã€Node æœåŠ¡å¼€å‘ã€è·¨ç«¯æ¡†æ¶ã€å°ç¨‹åºã€ç§»åŠ¨ç«¯ç­‰å¤šæ–¹å‘çŸ¥è¯†ï¼Œä½¿è‡ªå·±ä»å•ä¸€å‰ç«¯è§’è‰²æˆé•¿ä¸ºèƒ½å¤Ÿå¤„ç†å¤šç«¯ã€å¤šæ ˆã€å¤šåœºæ™¯çš„æŠ€æœ¯å‹äººæ‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-3">AI å¦‚ä½•èµ‹èƒ½å‰ç«¯</h2>
<h3 data-id="heading-4">å‰ç«¯å¼€å‘æµç¨‹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c2f48ab73174294b4ed70b1ac23d6d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766502536&amp;x-signature=2ALGd91%2BA9pqrjLXQbib28ENgEY%3D" alt="image.png" loading="lazy"/></p>
<p>ç†æƒ³æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬çš„æç¤ºè¯è¶³å¤Ÿç²¾ç¡®ï¼Œä»éœ€æ±‚çš„ç†è§£åˆ°æœ€åçš„ä»£ç å¼€å‘ï¼ŒAI éƒ½èƒ½å¸®æˆ‘ä»¬å®Œæˆå¼€å‘ï¼Œå¼€å‘è€…å”¯ä¸€è¦åšçš„å°±æ˜¯å¯¹ç”Ÿæˆçš„ç»“æœè¿›è¡Œ reviewï¼Œå¹¶ä¼˜åŒ–æç¤ºè¯ã€‚</p>
<p>å¯¹äºå°å‹çš„é¡¹ç›®æ¥è¯´è¿™å³å°†æˆä¸ºç°å®ï¼Œè¯´æ®‹é…·ç‚¹å°±æ˜¯åªä¼šåˆ‡å›¾çš„å‰ç«¯å·¥ç¨‹å¸ˆå³å°†å¤±ä¸šï¼Œä½†æ˜¯å¯¹äºå¤æ‚çš„å¤§å‹é¡¹ç›®æ¥è¯´è¿™æ¡è·¯è¿˜å¾ˆé•¿å¾ˆé•¿ï¼Œé‚£ç°é˜¶æ®µä½œä¸ºå‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆçš„æˆ‘ä»¬è¯¥å¦‚ä½•è§„åˆ’ï¼ŒåŒ–è¢«åŠ¨ä¸ºä¸»åŠ¨ï¼Œå°† AI èƒ½åŠ›å†…åŒ–ï¼Ÿ</p>
<h3 data-id="heading-5">AIå¦‚ä½•å¼€å‘ææ•ˆ</h3>
<h4 data-id="heading-6">åˆçº§é˜¶æ®µ</h4>
<p>åˆçº§é˜¶æ®µå¼€å‘è€…åªéœ€è¦ä¼šç®€å•çš„ä½¿ç”¨ AI èƒ½åŠ›å³å¯ï¼š</p>
<ul>
<li>
<p>ä»£ç è¡¥å…¨&amp;ä¼˜åŒ–</p>
<p>ä¾‹å¦‚ storybook ç¤ºä¾‹ã€å•æµ‹ä»£ç ç­‰ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ AI å®Œæˆé™æ€é¡µé¢ã€çº¯ UI ç»„ä»¶ç­‰åŠŸèƒ½å¼€å‘ã€‚</p>
<p>ä¾‹å¦‚ä½¿ç”¨AI + æˆªå›¾æˆ–è€…AI + Figma Mcp å®Œæˆ UI å¼€å‘ã€‚</p>
</li>
<li>
<p>â€¦.</p>
</li>
</ul>
<h4 data-id="heading-7">ä¸­çº§é˜¶æ®µ</h4>
<p>è¯¥é˜¶æ®µå¼€å‘è€…éœ€è¦ç†è§£ <code>AI æç¤ºè¯å·¥ç¨‹</code>ï¼Œå¼€å‘è€…éœ€è¦é€šè¿‡åˆç†çš„ rules æ¥çº¦æŸ AI çš„è¡Œä¸ºï¼Œç¡®ä¿å…¶åœ¨æ‰§è¡Œå¤æ‚ç¼–ç ä»»åŠ¡æ—¶çš„æ¯ä¸€æ­¥æ“ä½œéƒ½å®‰å…¨ã€å¯æ§ä¸”ç¬¦åˆé¢„æœŸã€‚ä¾‹å¦‚å½“å‰ä¸šç•Œæ¥å—åº¦æ¯”è¾ƒé«˜çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FNeekChaw%2FRIPER-5" target="_blank" title="https://github.com/NeekChaw/RIPER-5" ref="nofollow noopener noreferrer">RIPER-5</a> è§„èŒƒï¼Œè¿™ä¸ªé˜¶æ®µ AI å¯ä»¥å¸®åŠ©å¼€å‘è€…å®Œæˆï¼š</p>
<ul>
<li>
<p>é€šè¿‡è®¾ç½® rules å®Œæˆä»£ç çš„åˆæ­¥ crã€‚</p>
</li>
<li>
<p>è‡ªåŠ¨é‡æ„ä¸æŠ€æœ¯å€ºæ²»ç†ã€‚</p>
<p>ä¾‹å¦‚é‡å¤é€»è¾‘æŠ½ç¦»ã€hooks æ‹†åˆ†ã€package å¾ªç¯ä¾èµ–åˆ†æ&amp;è§£å†³ã€‚</p>
</li>
<li>
<p>æ¥å£å¯¹é½ä¸ç±»å‹æ¨å¯¼</p>
</li>
<li>
<p>æŒ‰ç…§è§„èŒƒå®ŒæˆåŠŸèƒ½æ¨¡å—çš„å¼€å‘&amp;è¿­ä»£ã€‚</p>
</li>
<li>
<p>â€¦</p>
</li>
</ul>
<h4 data-id="heading-8">é«˜çº§é˜¶æ®µ</h4>
<p>åœ¨é«˜çº§é˜¶æ®µï¼ŒAI èµ‹èƒ½å‰ç«¯å¼€å‘ä¸å†å±€é™äºå•ç‚¹æ•ˆç‡æå‡ï¼Œè€Œæ˜¯è¿›å…¥èƒ½åŠ›å·¥ç¨‹åŒ–é˜¶æ®µã€‚å¼€å‘è€…ä¸€æ–¹é¢éœ€è¦æŒç»­æ‰©å±• AI åœ¨å·¥ç¨‹ä¸­çš„å‚ä¸æ·±åº¦ï¼Œå¦ä¸€æ–¹é¢é’ˆå¯¹ AI å¹»è§‰ã€ä¸Šä¸‹æ–‡é™åˆ¶å’Œè¡Œä¸ºä¸ç¡®å®šæ€§ç­‰å›ºæœ‰ç¼ºé™·è¿›è¡Œç³»ç»Ÿæ€§æ²»ç†ï¼Œå¹¶å°†å®è·µç»éªŒæ²‰æ·€ä¸º<code>å¯å¤ç”¨çš„å·¥ç¨‹èƒ½åŠ›</code>ï¼Œä»è€Œæ„å»ºç¨³å®šã€å¯æ¼”è¿›çš„æ™ºèƒ½å¼€å‘ä½“ç³»ï¼Œå¹¶å¯åœ¨å›¢é˜ŸåŠç¤¾åŒºè¿›è¡Œåˆ†äº«ã€‚</p>
<p>åœ¨ claude code ä¸­å·²ç»æå‡ºå¹¶æ”¯æŒäº†ç›¸å…³èƒ½åŠ›ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<ul>
<li>Agent Skills</li>
<li>Sub Agent</li>
<li>Plugin</li>
</ul>
<p>è¯¦ç»†ä»‹ç»å¯æŸ¥çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fzh-CN%2Fsub-agents" target="_blank" title="https://code.claude.com/docs/zh-CN/sub-agents" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº†æœªæ¥ AI çš„å‘å±•çš„è¶‹åŠ¿ï¼Œä»¥åŠå‰ç«¯è§’è‰²çš„è½¬å˜ï¼Œå¯¹å‰ç«¯å·¥ç¨‹å¸ˆæ¥è¯´ AI æ—¢æ˜¯ä¸€ç§æŒ‘æˆ˜ä¹Ÿæ˜¯ä¸€ç§æœºé‡ï¼ŒæŒ‘æˆ˜æ˜¯æŒ‡æœªæ¥ AI å°†ä¼šå…¨é¢æ›¿ä»£åˆçº§å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæœºé‡åˆ™æ˜¯ AI ä¹Ÿèƒ½å¤Ÿèµ‹èƒ½å‰ç«¯å·¥ç¨‹å¸ˆå˜æˆä¸€ä¸ªæ›´å…¨é¢çš„äººæ‰ã€‚æœ€åä¹Ÿä»‹ç»äº† AI èµ‹èƒ½å‰ç«¯å¼€å‘ææ•ˆçš„ä¸‰ä¸ªé˜¶æ®µï¼Œä» AI çš„åŸºæœ¬ä½¿ç”¨åˆ° AI èƒ½åŠ›å·¥ç¨‹åŒ–é€æ­¥æå‡ï¼Œåœ¨åé¢çš„ç³»åˆ—æ–‡ç« ä¸­ä½œè€…ä¼šåˆ†äº«æ›´å¤š AI èµ‹èƒ½å¼€å‘çš„å®æˆ˜æŠ€å·§å’Œç›¸å…³ç†è®ºçŸ¥è¯†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€é¡¹ç›®è¸©å‘å®å½•ã€‘å¹¶å‘ç¯å¢ƒä¸‹ï¼ŒGlideç¼“å­˜å¼•èµ·çš„å›¾ç‰‡åŠ è½½å¼‚å¸¸]]></title>    <link>https://juejin.cn/post/7584320417306492979</link>    <guid>https://juejin.cn/post/7584320417306492979</guid>    <pubDate>2025-12-16T15:36:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584320417306492979" data-draft-id="7584279552433242150" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€é¡¹ç›®è¸©å‘å®å½•ã€‘å¹¶å‘ç¯å¢ƒä¸‹ï¼ŒGlideç¼“å­˜å¼•èµ·çš„å›¾ç‰‡åŠ è½½å¼‚å¸¸"/> <meta itemprop="keywords" content="Android,Debug,Glide"/> <meta itemprop="datePublished" content="2025-12-16T15:36:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lei_official"/> <meta itemprop="url" content="https://juejin.cn/user/2351234021066314"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€é¡¹ç›®è¸©å‘å®å½•ã€‘å¹¶å‘ç¯å¢ƒä¸‹ï¼ŒGlideç¼“å­˜å¼•èµ·çš„å›¾ç‰‡åŠ è½½å¼‚å¸¸
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2351234021066314/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lei_official
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T15:36:54.000Z" title="Tue Dec 16 2025 15:36:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨ç°å®ä¸»ä¹‰è€…èº«ä¸Šï¼Œå¹¶ä¸æ˜¯å¥‡è¿¹äº§ç”Ÿä¿¡ä»°ï¼Œè€Œæ˜¯ä¿¡ä»°äº§ç”Ÿå¥‡è¿¹ã€‚â€”â€”ã€Šå¡æ‹‰é©¬ä½å¤«å…„å¼Ÿã€‹</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/533f755d7e0a46a0bdf2510cf43fae57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVpX29mZmljaWFs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766504213&amp;x-signature=p2PFiQEVbnTBMSJn7zRJ6qspX5w%3D" alt="glide_logo.png" loading="lazy"/></p>
<h2 data-id="heading-0">èƒŒæ™¯ç®€è¿°</h2>
<p>åœ¨ç»´æŠ¤æ™ºèƒ½æ‰‹è¡¨ä¸»é¢˜ç®¡ç†åŠŸèƒ½æ—¶ï¼Œæˆ‘é‡åˆ°è¿‡ä¸€ä¸ªååˆ†æœ‰è¶£çš„bugï¼Œä»æµ‹è¯•é¦–æ¬¡å‘ç°é—®é¢˜æ—¶æ„Ÿåˆ°ååˆ†å›°æƒ‘ä¸”ä¸è§£ï¼Œåˆ°è‡ªå·±æˆ‘ä¸æ–­å°è¯•å¹¶æˆåŠŸå¤ç°ï¼Œç›´è‡³æœ€ç»ˆæ‰¾åˆ°æ ¹æœ¬åŸå› ä¸è§£å†³æ–¹æ¡ˆï¼Œå†ç»ä¸€å‘¨å·¦å³æ—¶é—´ã€‚è™½ç„¶æ˜¯å­˜åœ¨å·²ä¹…çš„å†å²é—®é¢˜ï¼Œä½†ä»æœ‰è®°å½•å’Œæ€»ç»“çš„æ„ä¹‰ï¼ŒåŒæ—¶ä¹Ÿè­¦é†’è‡ªå·±åœ¨è®¾è®¡å¹¶å‘æ¨¡å—æ—¶ï¼Œä¸€å®šè¦å¿ƒå­˜æ•¬æ„ã€è€ƒè™‘å‘¨å…¨ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜ç°è±¡</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14ca16b34a864ee2a66ea2fb0b2033bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVpX29mZmljaWFs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766504213&amp;x-signature=VnZB9oMnSBbmDU13iJp9AsFfn4g%3D" alt="" loading="lazy"/></p>
<p>é—®é¢˜çš„è¡¨ç°å¦‚ä¸Šï¼Œç”¨æˆ·ç¼–è¾‘ç›¸å†Œè¡¨ç›˜åï¼Œè¿”å›åˆ°è¡¨ç›˜åˆ—è¡¨é¡µï¼Œé¢„æœŸæ˜¯å¯ä»¥å±•ç¤ºå‡ºæ–°è®¾ç½®çš„ç›¸å†Œè¡¨ç›˜çš„é¢„è§ˆå›¾ï¼Œä½†å®é™…æ•ˆæœå´æ˜¯ï¼Œå›¾ç‰‡ç¡®å®æœ‰åˆ·æ–°å‡ºæ¥ï¼Œä½†åˆæ²¡æœ‰å®Œå…¨åˆ·æ–°ï¼Œåªå±•ç¤ºäº†ä¸ŠåŠéƒ¨åˆ†ï¼Œä¸‹åŠéƒ¨åˆ†æ˜¯é»‘è‰²ã€‚</p>
<h2 data-id="heading-2">æŠ€æœ¯è®¾è®¡æ–¹æ¡ˆ</h2>
<p>è¿™ä¸ªæ¨¡å—æ˜¯æˆ‘ä¸­é€”æ¥æ‰‹çš„ï¼Œåœ¨åˆæœŸæ¥æ‰‹æ—¶å°±æƒŠè®¶å…¶åŠŸèƒ½å¤æ‚ä¹‹é«˜ã€é€»è¾‘åµŒå¥—ä¹‹æ·±ã€‚ä¸ºäº†æ›´å¥½åœ°ç†è§£é—®é¢˜ï¼Œæœ‰å¿…è¦ä»‹ç»ä¸€ä¸‹è¿™ä¸ªåŠŸèƒ½çš„æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡ã€‚</p>
<p>æš‚ä¸”ç§°ä¹‹ä¸ºâ€œæ‰‹è¡¨ä¸»é¢˜æ¨¡å—â€ï¼Œç”¨æ¥ç®¡ç†æ™ºèƒ½æ‰‹è¡¨ä¸»é¢˜çš„æ ·å¼ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰æ™ºèƒ½æ‰‹è¡¨ä¸Šçš„å­—ä½“ã€é¢œè‰²ã€å¸ƒå±€ã€èƒŒæ™¯å›¾ç­‰ï¼Œå½“ç”¨æˆ·å®Œæˆè®¾ç½®åï¼Œç”Ÿæˆå½“å‰é…ç½®ä¸‹çš„é¢„è§ˆå›¾ï¼Œå¹¶ä¿å­˜åœ¨åº”ç”¨æ•°æ®ç›®å½•ä¸‹ï¼ˆ<code>Android/data/packageName/files/aaa_111.png</code>ï¼‰ï¼Œå…¶å®ƒé¡µé¢ï¼ˆä¾‹å¦‚è¡¨ç›˜åˆ—è¡¨é¡µï¼‰ç›‘å¬åˆ°é¢„è§ˆå›¾å˜åŒ–çš„äº‹ä»¶åï¼Œæ›´æ–° UIï¼Œå±•ç¤ºå‡ºæœ€æ–°çš„é¢„è§ˆå›¾ã€‚</p>
<ul>
<li><code>WatchThemePreviewManager</code>ï¼šå•ä¾‹ç±»ï¼Œæä¾›æ¥å£æ›´æ–°å¹¶ä¿å­˜é¢„è§ˆå›¾pngï¼Œå¹¶é€šçŸ¥ç›‘å¬è€…ã€‚</li>
<li><code>WatchThemeView</code>ï¼šç»§æ‰¿è‡ª <code>FrameLayout</code>ï¼Œæ˜¯é¢„è§ˆå›¾çš„å±•ç¤ºViewï¼Œåœ¨ <code>onAttachedToWindow()/onDetachedFromWindow()</code> ä¸­è¿›è¡Œæ³¨å†Œ/åæ³¨å†Œï¼Œç›‘å¬é¢„è§ˆå›¾å˜åŒ–ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d08452cee8d4e2f82eb89082ce43f47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVpX29mZmljaWFs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766504213&amp;x-signature=V%2BWVETUFSlrIwo39qXdVMgLgsI8%3D" alt="ç”¨æˆ·æ“ä½œæµç¨‹å›¾.png" loading="lazy"/></p>
<p>é¢„æœŸæ•ˆæœæ˜¯ï¼Œç”¨æˆ·åœ¨APPä¸­æ“ä½œå®Œä¸»é¢˜æ ·å¼è®¾ç½®åï¼Œå…¶å®ƒæ‰€æœ‰å±•ç¤ºè¿™ä¸ªæ‰‹è¡¨è¡¨ç›˜çš„é¡µé¢ï¼Œéƒ½ä¼šåŠ è½½æ–°çš„æ ·å¼å›¾ã€‚ç»å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œçš„ç¡®è¡¨ç°å¦‚é¢„æœŸæ‰€æƒ³ã€‚ä½†æµ‹è¯•å¶å°”ä¼šå‘ç°å‰æ–‡å›¾ä¸­çš„bugï¼Œæ–°çš„é¢„è§ˆå›¾åªå±•ç¤ºäº†ä¸ŠåŠéƒ¨åˆ†ï¼Œå…¶ä¸‹åŠéƒ¨åˆ†æ˜¯çº¯é»‘è‰²ã€‚æŸ¥çœ‹åº”ç”¨æ•°æ®ç›®å½•åï¼Œå‘ç°ç”Ÿæˆçš„å›¾ç‰‡æ˜¯å®Œæ•´çš„ï¼Œå¹¶ä¸å­˜åœ¨ç¼ºå¤±ç°è±¡ï¼›ä»æ—¥å¿—ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°å›è°ƒç¡®å®å‘ç”Ÿäº†ï¼Œç»“æœè®©äººç™¾æ€ä¸å¾—å…¶è§£ã€‚</p>
<h2 data-id="heading-3">å½’ç»“ä¸º2ä¸ªé—®é¢˜</h2>
<ul>
<li>Q1ï¼šä¸ºä»€ä¹ˆå›¾ç‰‡åªå±•ç¤ºäº†å±€éƒ¨ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯çº¯é»‘çš„ï¼Ÿ</li>
<li>Q2ï¼šä¸ºä»€ä¹ˆå›è°ƒå‘ç”Ÿåï¼Œæ²¡æœ‰æŠŠæ­£å¸¸çš„å›¾ç‰‡åˆ·æ–°å‡ºæ¥ï¼Ÿ</li>
</ul>
<h2 data-id="heading-4">æœ€ç»ˆåˆ†æç»“è®º</h2>
<p>ç•¥å»ä¸­é—´ç¹ççš„åˆ†æè¿‡ç¨‹ï¼ˆæ— éå°±æ˜¯åœ¨å…³é”®èŠ‚ç‚¹å¢åŠ æ—¥å¿—ã€æ‰“æ–­ç‚¹é€æ­¥è°ƒè¯•ç­‰ï¼‰ï¼Œç›´æ¥å°†ç»“è®ºå¥‰ä¸Šã€‚</p>
<ul>
<li>A1ï¼šä½¿ç”¨ Glide æ˜¾ç¤º png æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶è™½ç„¶å­˜åœ¨ï¼Œä½†å…¶å†…å®¹å°šæœªå®Œå…¨å†™å…¥ã€‚</li>
<li>A2ï¼šGlide åŠ è½½åŒåæ–‡ä»¶ï¼Œå‘½ä¸­ç£ç›˜ç¼“å­˜ï¼Œä¸ä¼šé‡æ–°è¯»å–æ–‡ä»¶ã€‚</li>
</ul>
<h2 data-id="heading-5">Q1ï¼šå›¾ç‰‡åŠ è½½ä¸å®Œæ•´çš„åŸå› </h2>
<p>è™½ç„¶å·²ç»åœ¨ä»£ç é‡Œè€ƒè™‘åˆ°ï¼Œå½“ png æ–‡ä»¶ä¿å­˜å®Œæˆï¼ˆå¤§çº¦300msï¼‰åï¼Œæ‰å›è°ƒé€šçŸ¥ç›‘å¬è€…ã€‚ä½†å­˜åœ¨æé™åœºæ™¯ï¼Œå³åœ¨â€œè¡¨ç›˜ç¼–è¾‘é¡µâ€ç¼–è¾‘åï¼Œå¿«é€Ÿè¿”å›åˆ°ä¸Šä¸€çº§çš„â€œè¡¨ç›˜åˆ—è¡¨é¡µâ€ï¼Œç”±äºâ€œè¡¨ç›˜åˆ—è¡¨é¡µâ€åœ¨<code>onRestart()</code>æ—¶åˆ·æ–°ç•Œé¢ï¼Œä¼šè¯»å–åˆ°æœ€æ–°çš„é¢„è§ˆå›¾pngè·¯å¾„ï¼Œæ–‡ä»¶æ­¤æ—¶å·²å­˜åœ¨ï¼Œä½†å°šæœªå®Œæˆå†™å…¥ï¼Œå› æ­¤ Glide åŠ è½½åˆ°çš„æ˜¯åªå†™å…¥éƒ¨åˆ†å†…å®¹çš„ pngï¼Œä»è€Œå‘ç”Ÿäº†å›¾ä¸­çš„é”™è¯¯åœºæ™¯ã€‚</p>
<h2 data-id="heading-6">A1ï¼šè§£å†³æ–¹æ¡ˆ-å…ˆå†™tmpæ–‡ä»¶å†rename</h2>
<p>å®è·µä¸­ï¼Œå¯¹äºè¿™ç§ä¿å­˜æ•°æ®åˆ°æ–‡ä»¶çš„åœºæ™¯ï¼Œä¸€èˆ¬é‡‡ç”¨â€œä¿å­˜ä¸´æ—¶æ–‡ä»¶-&gt;renameâ€çš„æ–¹æ¡ˆï¼Œå…ˆæŠŠæ•°æ®å†™å…¥åˆ°ä¸´æ—¶æ–‡ä»¶f.tmpä¸­ï¼Œå†™å…¥å®Œæˆåï¼Œå†å°†å…¶renameä¸ºfï¼Œå¯ä»¥é¿å…å¤–éƒ¨å‘ç”Ÿâ€œè¯»å–éƒ¨åˆ†æ–‡ä»¶â€çš„åœºæ™¯ã€‚</p>
<p>è¿™é‡Œè¿˜ä½¿ç”¨äº† <code>FileOutputStream.flush()</code> å’Œ <code>FileOutputStream.fd.sync()</code>ï¼Œå¯¹äº <strong>é«˜é¢‘å†™å…¥&amp;è¯»å–</strong> çš„åœºæ™¯ï¼Œè¿™æ ·åšå¯ä»¥ä¿éšœæ–‡ä»¶è¢«è¿…é€Ÿæ¨ç»™å†…æ ¸å’Œè½ç›˜æŒä¹…åŒ–ã€‚ä½† <code>sync()</code> å‡½æ•°æœ‰æ€§èƒ½æŸè€—ï¼Œåœ¨å·¥ç¨‹ä¸­æ…ç”¨ã€‚</p>
<p>æ ·ä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * åŸå­æ€§ä¿å­˜å›¾ç‰‡æ–‡ä»¶ï¼Œå¤–éƒ¨ä¸ä¼šè¯»å–åˆ°ä¸€éƒ¨ä»½æ–‡ä»¶
 */</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">saveBitmapToFileAtomic</span><span class="hljs-params">(bitmap: <span class="hljs-type">Bitmap</span>, path: <span class="hljs-type">String</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">val</span> dst = File(path)
    dst.parentFile?.mkdirs()

    <span class="hljs-keyword">val</span> tmp = File(dst.parentFile, dst.name + <span class="hljs-string">".tmp"</span>)

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> {
        FileOutputStream(tmp).use { <span class="hljs-keyword">out</span> -&gt;
            <span class="hljs-keyword">if</span> (!bitmap.compress(Bitmap.CompressFormat.PNG, <span class="hljs-number">100</span>, <span class="hljs-keyword">out</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
            <span class="hljs-keyword">out</span>.flush() <span class="hljs-comment">// æŠŠæ–‡ä»¶æ¨ç»™å†…æ ¸</span>
            <span class="hljs-keyword">out</span>.fd.sync() <span class="hljs-comment">// æŠŠæ–‡ä»¶å¼ºåˆ¶è½ç›˜ï¼ˆæ›´ç¨³ï¼Œä½†æ›´æ…¢ï¼Œå‹¿å¤§æ‰¹é‡è°ƒç”¨ï¼‰ï¼Œé€‚ç”¨äºå†™å®Œç«‹åˆ»è¯»çš„åœºæ™¯</span>
        }

        <span class="hljs-comment">// renameTo åœ¨åŒä¸€åˆ†åŒºé€šå¸¸æ˜¯â€œåŸå­æ›¿æ¢â€æ•ˆæœï¼šè¯»è€…è¦ä¹ˆçœ‹åˆ°æ—§æ–‡ä»¶ï¼Œè¦ä¹ˆçœ‹åˆ°æ–°å®Œæ•´æ–‡ä»¶</span>
        <span class="hljs-keyword">if</span> (dst.exists()) dst.delete()
        tmp.renameTo(dst)
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        tmp.delete()
        <span class="hljs-literal">false</span>
    }
}
</code></pre>
<h2 data-id="heading-7">Q2ï¼šå›è°ƒåæ²¡æœ‰è§¦å‘é‡æ–°åŠ è½½å›¾ç‰‡çš„åŸå› </h2>
<p>å¯¹äºåŒä¸€ä¸ª ImageViewï¼Œä½¿ç”¨ Glide åŠ è½½åŒåæ–‡ä»¶ï¼Œå¦‚æœä¸å¢åŠ æ–‡ä»¶ç­¾åæ ¡éªŒï¼Œä¼šå¯¼è‡´ç›´æ¥å¤ç”¨å‰ä¸€æ¬¡äº§ç”Ÿçš„ç¼“å­˜ã€‚è¿™ä¹Ÿå°±è§£é‡Šäº†ï¼Œä¸ºä»€ä¹ˆå½“çœŸæ­£å®Œæˆ png æ–‡ä»¶ä¿å­˜åï¼Œå›è°ƒè§¦å‘æ—¶ï¼Œé¢„è§ˆå›¾å¹¶æ²¡æœ‰åˆ·æ–°ä¸ºæ­£å¸¸ç‰ˆæœ¬ã€‚</p>
<h2 data-id="heading-8">A2ï¼šè§£å†³æ–¹æ¡ˆ-å¢åŠ signature</h2>
<p>è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨è°ƒç”¨ Glide åŠ è½½å›¾ç‰‡æ—¶ï¼Œä½¿ç”¨ <code>signature()</code> å‡½æ•°ï¼Œç”¨äºåœ¨åŸæœ‰çš„ç¼“å­˜Keyè®¡ç®—æ–¹æ³•ä¸Šå¢åŠ å”¯ä¸€æ€§æ ¡éªŒï¼Œå…¶å†…éƒ¨ä½¿ç”¨å‚æ•°çš„ <code>equals()</code> å’Œ <code>hashCode()</code> å®ç°ã€‚æ¥å£æ–‡æ¡£å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">public RequestOptions signature(@NonNull Key signature)

Sets some additional data to be mixed in to the memory and disk cache keys allowing the caller more control over when cached data is invalidated.

Note - The signature does not replace the cache key, it is purely additive.

Parameters:
signature - A unique non-null Key representing the current state of the model that will be mixed in to the cache key.

Returns:
This request builder.

See Also:
ObjectKey
</code></pre>
<p>å› æ­¤ï¼Œåœ¨ä½¿ç”¨Glideä¸ºæ­¤ ImageView åŠ è½½å›¾ç‰‡æ—¶ï¼Œå¯¹äºæ–‡ä»¶åä¸å˜ä½†å†…å®¹å¯èƒ½å‘ç”Ÿå˜åŒ–çš„åœºæ™¯ï¼Œå»ºè®®è¿›ä¸€æ­¥å¢åŠ ç­¾åæ ¡éªŒï¼Œå¸¸è§çš„ signature å‚æ•°æœ‰ <code>file.lastModified()</code>ã€æ–‡ä»¶å­—èŠ‚æ•°ã€md5ç­‰ã€‚</p>
<p>è¿™é‡Œæˆ‘ä½¿ç”¨ <code>æ–‡ä»¶é•¿åº¦_æ›´æ–°æ—¶é—´</code>ï¼Œä½œä¸ºå”¯ä¸€keyï¼Œå¯ä»¥è§£å†³æ–‡ä»¶å†…å®¹æ›´æ–°çš„é—®é¢˜ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadPngIntoImageView</span><span class="hljs-params">(imageView: <span class="hljs-type">ImageView</span>, pngFile: <span class="hljs-type">File</span>)</span></span> {
    glide.with(context)
        .load(pngFile)
        .signature(ObjectKey(<span class="hljs-string">"<span class="hljs-subst">${file.length()}</span>_<span class="hljs-subst">${file.lastModified()}</span>"</span>)) <span class="hljs-comment">// æ–‡ä»¶é•¿åº¦_æ›´æ–°æ—¶é—´æˆ³ï¼Œè§£å†³æ–‡ä»¶æ›´æ–°é—®é¢˜</span>
        <span class="hljs-comment">// ç•¥</span>
        .into(imageView)
}
</code></pre>
<h2 data-id="heading-9">å†™åœ¨æœ€åçš„åæ€</h2>
<ol>
<li>è¿™ç§â€œå…ˆå†™tmpæ–‡ä»¶ï¼Œç„¶åé‡å‘½åâ€çš„æ¨¡å¼ï¼Œé€‚ç”¨äºå¤§å¤šæ•°å†™æ–‡ä»¶çš„åœºæ™¯ã€‚ç¬”è€…ä¹‹å‰å¼€å‘apkä¸‹è½½å·¥å…·æ—¶ï¼Œä¹Ÿå¤„ç†è¿‡ç±»ä¼¼é—®é¢˜ï¼Œæ²¡æœ‰ä¸‹è½½å®Œæˆçš„apkæ–‡ä»¶ï¼Œä¹Ÿä¼šè¢«èµ„æºç®¡ç†å™¨è¯†åˆ«æˆå®‰è£…åŒ…ï¼Œä½†è§£æå¿…å®šå¤±è´¥ã€‚</li>
<li>ç¼“å­˜è™½å¥½ï¼Œä½¿ç”¨è¦è°¨æ…ã€‚ä½¿ç”¨GlideåŠ è½½å›¾ç‰‡æ–‡ä»¶ï¼Œåœ¨å¯ç”¨ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ–‡ä»¶åä¸å˜ä½†æ–‡ä»¶å†…å®¹å‘ç”Ÿå˜åŒ–ï¼Œæ˜¯ä¸ä¼šè¯»å–æ›´æ–°åçš„å†…å®¹çš„ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[springboot é¡¹ç›® ä»jdk 8 å‡çº§åˆ°jdk21 ä¼šé¢ä¸´å“ªäº›é—®é¢˜]]></title>    <link>https://juejin.cn/post/7584307643000078379</link>    <guid>https://juejin.cn/post/7584307643000078379</guid>    <pubDate>2025-12-16T13:31:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584307643000078379" data-draft-id="7584273076646166534" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="springboot é¡¹ç›® ä»jdk 8 å‡çº§åˆ°jdk21 ä¼šé¢ä¸´å“ªäº›é—®é¢˜"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-16T13:31:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå‰é€€ä¼‘çš„javaçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/465848660928872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            springboot é¡¹ç›® ä»jdk 8 å‡çº§åˆ°jdk21 ä¼šé¢ä¸´å“ªäº›é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848660928872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå‰é€€ä¼‘çš„javaçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T13:31:59.000Z" title="Tue Dec 16 2025 13:31:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å…„å¼Ÿä»¬æœ€è¿‘ä¸Šç­æ²¡æ—¶é—´å†™åšå®¢å•Šï¼Œä»Šå¤©åˆæ¥æ°´ä¸€ç¯‡ï¼</p>
<p>Spring Boot é¡¹ç›®ä» JDK 8 å‡çº§åˆ° JDK 21ï¼ˆé•¿æœŸæ”¯æŒç‰ˆ LTSï¼‰ï¼Œä¼šé¢ä¸´å“ªäº›é—®é¢˜ã€‚ ä¸»è¦å°±æ˜¯<strong>APIå˜æ›´ã€æ¡†æ¶é€‚é…ã€ç¬¬ä¸‰æ–¹ä¾èµ–ã€æ„å»ºå·¥å…·é…ç½®</strong>Â é—®é¢˜ã€‚</p>
<blockquote>
<p>æ¨èé˜…è¯»: <a href="https://juejin.cn/user/2634854380340008/posts" target="_blank" title="https://juejin.cn/user/2634854380340008/posts">JDKä»8å‡çº§åˆ°21çš„é—®é¢˜é›†ï¼ˆäº¬ä¸œäº‘ï¼‰</a></p>
</blockquote>
<h2 data-id="heading-1">springbooté¡¹ç›®ä»1.8åˆ°21é¢ä¸´çš„é—®é¢˜</h2>
<h3 data-id="heading-2">ä¸€ã€JDK API å˜æ›´å¯¼è‡´çš„é—®é¢˜</h3>
<p>JDK 8 åˆ° 21 æœ‰å¤§é‡ API åºŸå¼ƒã€ç§»é™¤æˆ–è¡Œä¸ºå˜æ›´ï¼Œæ ¸å¿ƒå½±å“ç‚¹ï¼š</p>
<h4 data-id="heading-3">1. å·²ç§»é™¤çš„ API</h4>
<ul>
<li><code>sun.misc.BASE64Encoder/Decoder</code>ï¼šJDK 8 ä¸­å·²æ ‡è®°åºŸå¼ƒï¼ŒJDK 16 + ç§»é™¤ï¼Œéœ€æ›¿æ¢ä¸º<code>java.util.Base64</code>ï¼›</li>
<li><code>Thread.stop()</code>ã€<code>Thread.suspend()</code>ï¼šJDK 11 + ä¸¥æ ¼é™åˆ¶ï¼Œè°ƒç”¨ä¼šæŠ› UnsupportedOperationExceptionï¼›</li>
<li><code>com.sun.image.codec.jpeg.JPEGCodec</code>ï¼šJDK 9 + ç§»é™¤ï¼Œéœ€æ›¿æ¢ä¸º<code>ImageIO</code>ï¼›</li>
<li><code>java.security.acl</code>åŒ…ï¼šJDK 17 + æ ‡è®°ä¸ºåºŸå¼ƒï¼ŒJDK 21 ä¸­éƒ¨åˆ†ç±»ç§»é™¤ï¼Œéœ€æ”¹ç”¨<code>java.security.Policy</code>ã€‚</li>
</ul>
<h4 data-id="heading-4">2. æ¨¡å—åŒ–é™åˆ¶ï¼ˆJPMSï¼‰</h4>
<p>JDK 9 + å¼•å…¥æ¨¡å—ç³»ç»Ÿï¼Œé»˜è®¤ä¸å…è®¸è®¿é—®<code>sun.*</code>ã€<code>com.sun.*</code>ç­‰å†…éƒ¨ APIï¼š</p>
<ul>
<li>
<p>é—®é¢˜è¡¨ç°ï¼šè¿è¡Œæ—¶æŠ›<code>IllegalAccessError</code>æˆ–<code>ModuleNotFoundException</code>ï¼›</p>
</li>
<li>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>æ›¿æ¢å†…éƒ¨ API ä¸ºæ ‡å‡† APIï¼ˆå¦‚<code>sun.misc.Unsafe</code>æ›¿æ¢ä¸º<code>VarHandle</code>ï¼‰ï¼›</li>
<li>è‹¥å¿…é¡»ä½¿ç”¨ï¼Œéœ€åœ¨å¯åŠ¨å‚æ•°ä¸­æ·»åŠ <code>--add-exports</code>ï¼ˆå¦‚<code>--add-exports java.base/sun.misc=ALL-UNNAMED</code>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-5">3. æ—¥æœŸæ—¶é—´ APIï¼ˆå¯é€‰ï¼‰</h4>
<p>JDK 8 çš„<code>Date/Calendar</code>æœªç§»é™¤ï¼Œä½† JDK 1.8 å¼•å…¥çš„<code>java.time</code>ï¼ˆJSR 310ï¼‰åœ¨ 21 ä¸­æ›´å®Œå–„ï¼Œè‹¥é¡¹ç›®ä»ç”¨æ—§ APIï¼Œéœ€æ³¨æ„ï¼š</p>
<ul>
<li><code>SimpleDateFormat</code>çš„çº¿ç¨‹å®‰å…¨é—®é¢˜æœªè§£å†³ï¼Œä½† JDK 21 æ— å˜æ›´ï¼›</li>
<li>æ¨èé€æ­¥æ›¿æ¢ä¸º<code>LocalDateTime</code>ã€<code>ZonedDateTime</code>ç­‰ã€‚</li>
</ul>
<h4 data-id="heading-6">4. å­—ç¬¦ä¸²ä¸é›†åˆ API å˜æ›´</h4>
<ul>
<li><code>String.trim()</code>ï¼šJDK 11 + è¡Œä¸ºä¸å˜ï¼Œä½†<code>String.strip()</code>ï¼ˆå»é™¤ Unicode ç©ºç™½ï¼‰æˆä¸ºæ¨èæ›¿ä»£ï¼›</li>
<li><code>Collections.singletonMap()</code>ï¼šJDK 9 + æ–°å¢<code>Map.of()</code>ã€<code>List.of()</code>ç­‰ä¸å¯å˜é›†åˆå·¥å‚æ–¹æ³•ï¼Œæ—§ä»£ç å…¼å®¹ï¼Œä½†éœ€æ³¨æ„ä¸å¯å˜é›†åˆçš„ç‰¹æ€§ï¼ˆä¸æ”¯æŒä¿®æ”¹ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-7">äºŒã€Mavenç‰ˆæœ¬å…¼å®¹</h3>
<p>JDK 21 å¯¹æ„å»ºå·¥å…·ç‰ˆæœ¬æœ‰æœ€ä½è¦æ±‚ï¼Œæ—§ç‰ˆæœ¬æ„å»ºå·¥å…·æ— æ³•è¯†åˆ« JDK 21 çš„ç¼–è¯‘å‚æ•°ï¼š</p>
<p><strong>Maven</strong>ï¼šéœ€å‡çº§åˆ° 3.8.0+ï¼ˆæ¨è 3.8.5+ï¼‰ï¼Œä¸”<code>maven-compiler-plugin</code>éœ€å‡çº§åˆ° 3.10.0+ï¼ˆå¦åˆ™æ— æ³•ç¼–è¯‘ JDK 21 ä»£ç ï¼‰ã€‚</p>
<pre><code class="hljs language-pom.xml" lang="pom.xml">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; 
    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; 
    &lt;version&gt;3.13.0&lt;/version&gt; 
    &lt;configuration&gt; 
        &lt;release&gt;21&lt;/release&gt;&lt;!-- ç»Ÿä¸€ä½¿ç”¨releaseå‚æ•° --&gt; 
    &lt;/configuration&gt; 
&lt;/plugin&gt;

</code></pre>
<h3 data-id="heading-8">ä¸‰ã€Spring Boot æ¡†æ¶æœ¬èº«å’Œä¸­é—´ä»¶ç‰ˆæœ¬</h3>
<h4 data-id="heading-9">1. Spring Boot ç‰ˆæœ¬å¿…é¡»å‡çº§</h4>
<p>JDK 21 ä»…æ”¯æŒ<strong>Spring Boot 3.1+</strong> ï¼ˆå®˜æ–¹æ˜ç¡®ï¼šSpring Boot 3.0 æ”¯æŒ JDK 17ï¼Œ3.1 å¼€å§‹æ”¯æŒ JDK 21ï¼‰ï¼Œè‹¥é¡¹ç›®å½“å‰æ˜¯ Spring Boot 2.xï¼ˆä»…æ”¯æŒ JDK 8-17ï¼‰ï¼Œéœ€å…ˆå‡çº§åˆ° Spring Boot 3.xï¼Œè¿™ä¼šå¸¦æ¥è¿é”å˜æ›´ï¼š</p>
<ul>
<li>
<p><strong>Spring Boot 3.x æ ¸å¿ƒå˜æ›´</strong>ï¼š</p>
<ul>
<li>åŸºäº Spring Framework 6.xï¼Œè¦æ±‚ Java 17+ï¼ˆJDK 21 å…¼å®¹ï¼‰ï¼›</li>
<li>ç§»é™¤å¯¹<code>javax.*</code>åŒ…çš„æ”¯æŒï¼Œå…¨é¢è¿ç§»åˆ°<code>jakarta.*</code>ï¼ˆå¦‚<code>jakarta.servlet</code>æ›¿ä»£<code>javax.servlet</code>ï¼Œ<code>jakarta.persistence</code>æ›¿ä»£<code>javax.persistence</code>ï¼‰ï¼›</li>
<li>è‡ªåŠ¨é…ç½®ç±»ã€starter ä¾èµ–æœ‰è°ƒæ•´ï¼ˆå¦‚<code>spring-boot-starter-web</code>åº•å±‚ä¾èµ– Tomcat 10+ï¼Œè€Œ Tomcat 10 + ä¹ŸåŸºäº Jakarta EE 9ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li><strong>å†…åµŒå®¹å™¨</strong>ï¼šTomcat 9ï¼ˆJDK 8ï¼‰â†’ Tomcat 10+ï¼ˆJDK 17+ï¼‰ï¼ŒTomcat 10 + çš„ Servlet API ä»<code>javax.servlet</code>è¿ç§»åˆ°<code>jakarta.servlet</code>ï¼Œè‹¥é¡¹ç›®ä¸­æœ‰è‡ªå®šä¹‰ Servlet/Filter/Listenerï¼Œéœ€ä¿®æ”¹åŒ…åï¼›</li>
<li><strong>æ—¥å¿—æ¡†æ¶</strong>ï¼šSpring Boot 3.x é»˜è®¤ä½¿ç”¨ Logback 1.4+ï¼ŒLogback 1.4 + è¦æ±‚ JDK 11+ï¼Œéœ€ç¡®è®¤æ—¥å¿—é…ç½®æ–‡ä»¶ï¼ˆå¦‚<code>logback.xml</code>ï¼‰æ˜¯å¦é€‚é…ï¼›</li>
<li><strong>ç¼“å­˜ã€äº‹åŠ¡ç­‰æ³¨è§£</strong>ï¼š<code>@Transactional</code>ã€<code>@Cacheable</code>ç­‰æ³¨è§£åº•å±‚ä¾èµ–çš„ API æ— å¤§å˜æ›´ï¼Œä½†éœ€ç¡®è®¤ Spring Framework 6.x çš„è¡Œä¸ºå˜æ›´ï¼ˆå¦‚äº‹åŠ¡ä¼ æ’­æœºåˆ¶ã€ç¼“å­˜ç®¡ç†å™¨é€‚é…ï¼‰ã€‚</li>
</ul>
</blockquote>
<h4 data-id="heading-10">2ã€ç¬¬ä¸‰æ–¹ä¾èµ–å…¼å®¹é—®é¢˜</h4>
<p>è¿™æ˜¯å‡çº§ä¸­æœ€å¸¸è§çš„ â€œå‘â€ï¼Œå¤§é‡ç¬¬ä¸‰æ–¹åº“åœ¨ JDK 21 ä¸‹æ— æ³•è¿è¡Œï¼š</p>
<h5 data-id="heading-11">1. æ•°æ®åº“é©±åŠ¨</h5>
<ul>
<li><strong>MySQL é©±åŠ¨</strong>ï¼š<code>mysql-connector-java</code>Â 8.0.28 + æ‰æ”¯æŒ JDK 17+ï¼Œéœ€å‡çº§åˆ° 8.0.30+ï¼ˆé€‚é… JDK 21ï¼‰ï¼›</li>
<li><strong>Oracle é©±åŠ¨</strong>ï¼šojdbc8 ä»…æ”¯æŒ JDK 8-11ï¼Œéœ€å‡çº§åˆ° ojdbc11ï¼ˆæ”¯æŒ JDK 11-21ï¼‰ï¼›</li>
<li><strong>PostgreSQL é©±åŠ¨</strong>ï¼š42.2.x ä»…æ”¯æŒ JDK 8ï¼Œéœ€å‡çº§åˆ° 42.5+ï¼ˆæ”¯æŒ JDK 17+ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-12">2. ä¸­é—´ä»¶å®¢æˆ·ç«¯</h5>
<ul>
<li><strong>Redis</strong>ï¼š<code>jedis</code>Â 3.7.x ä»…æ”¯æŒ JDK 8ï¼Œéœ€å‡çº§åˆ° 4.0+ï¼ˆæ”¯æŒ JDK 11+ï¼‰ï¼›</li>
<li><strong>Kafka</strong>ï¼š<code>kafka-clients</code>Â 2.8.x æ”¯æŒ JDK 8ï¼Œ3.0 + æ”¯æŒ JDK 11+ï¼Œéœ€å‡çº§åˆ° 3.4+ï¼ˆé€‚é… JDK 21ï¼‰ï¼›</li>
<li><strong>Elasticsearch</strong>ï¼š7.17.x æ”¯æŒ JDK 8-17ï¼Œ8.x æ”¯æŒ JDK 17+ï¼Œéœ€å‡çº§å®¢æˆ·ç«¯åˆ° 8.xï¼ˆé€‚é… JDK 21ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-13">3. å…¶ä»–å¸¸ç”¨åº“</h5>
<ul>
<li><strong>MyBatis</strong>ï¼š3.5.9 + æ”¯æŒ JDK 17+ï¼Œéœ€å‡çº§ï¼ˆæ—§ç‰ˆæœ¬ 3.5.6 ä»¥ä¸‹åœ¨ JDK 21 ä¸­ä¼šæŠ›ç±»åŠ è½½å¼‚å¸¸ï¼‰ï¼›</li>
<li><strong>FastJSON</strong>ï¼š1.2.83 ä»¥ä¸‹å­˜åœ¨ JDK 17 + å…¼å®¹é—®é¢˜ï¼Œéœ€å‡çº§åˆ° 2.0+ï¼ˆFastJSON2ï¼‰ï¼›</li>
<li><strong>Apache Commons</strong>ï¼š<code>commons-lang3</code>éœ€å‡çº§åˆ° 3.12.0+ï¼Œ<code>commons-collections4</code>éœ€å‡çº§åˆ° 4.4+ï¼›</li>
<li><strong>Lombok</strong>ï¼š1.18.20 ä»¥ä¸‹ä¸æ”¯æŒ JDK 16+ï¼Œéœ€å‡çº§åˆ° 1.18.30+ï¼ˆé€‚é… JDK 21ï¼‰ï¼Œä¸”éœ€åœ¨ Maven ä¸­é…ç½®<code>lombok.version</code>ä¸ºæœ€æ–°ç‰ˆã€‚</li>
</ul>
<h3 data-id="heading-14">å››ã€è¿è¡Œæ—¶ä¸å¯åŠ¨å‚æ•°é—®é¢˜</h3>
<h4 data-id="heading-15">1. JVM å‚æ•°å˜æ›´</h4>
<ul>
<li>JDK 8 çš„<code>-XX:+UseConcMarkSweepGC</code>ï¼ˆCMS åƒåœ¾æ”¶é›†å™¨ï¼‰åœ¨ JDK 14 ä¸­åºŸå¼ƒï¼ŒJDK 21 ä¸­ç§»é™¤ï¼Œéœ€æ›¿æ¢ä¸º<code>-XX:+UseG1GC</code>ï¼ˆé»˜è®¤ï¼‰æˆ–<code>-XX:+UseZGC</code>ï¼ˆJDK 15 + æ­£å¼æ”¯æŒï¼Œä½å»¶è¿Ÿï¼‰ï¼›</li>
<li><code>-XX:+UseParallelGC</code>ä»å¯ç”¨ï¼Œä½†æ¨èé€‚é…æ–° GCï¼›</li>
<li>JDK 11 + ç§»é™¤<code>-XX:+UseCGroupMemoryLimitForHeap</code>ï¼Œéœ€æ”¹ç”¨<code>-XX:+UseContainerSupport</code>ï¼ˆé»˜è®¤å¼€å¯ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-16">2. æ¨¡å—åŒ–å¯åŠ¨å‚æ•°</h4>
<p>è‹¥é¡¹ç›®æœªé€‚é…æ¨¡å—åŒ–ï¼Œéœ€æ·»åŠ å¯åŠ¨å‚æ•°é¿å…æ¨¡å—å†²çªï¼š</p>
<pre><code class="hljs language-css" lang="css">java <span class="hljs-attr">--add-modules</span> <span class="hljs-attribute">ALL</span>-MODULE-PATH \
     <span class="hljs-attr">--add-exports</span> java<span class="hljs-selector-class">.base</span>/sun<span class="hljs-selector-class">.misc</span>=<span class="hljs-attribute">ALL</span>-UNNAMED \
     -jar your-app<span class="hljs-selector-class">.jar</span>
</code></pre>
<h2 data-id="heading-17">æ€»ç»“</h2>
<p>ä¸»è¦çš„é£é™©ç‚¹ï¼šspring boot éœ€è¦å‡çº§åˆ°<strong>Spring Boot 3.1+</strong> ï¼Œå¤§ç‰ˆçš„å‡çº§å°±æ¶‰åŠåˆ°å¾ˆå¤šä¸­é—´ä»¶éœ€è¦è·Ÿç€å‡çº§ï¼Œå…¶æ¬¡å°±æ˜¯ä¸€äº›APIå¯èƒ½è¢«ç§»é™¤äº†ï¼Œè¿™å—ç¼–è¯‘å°±é˜¶æ®µå°±èƒ½è§£å†³ã€‚è¿˜æœ‰å°±æ˜¯æˆ‘ä»¬mavenç‰ˆæœ¬å’Œç¼–è¯‘æ’ä»¶éœ€è¦å‡çº§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‡ºæµ·åˆ«å† 1:1 æŠ„ç«™äº†:ã€Šæ¯›é€‰ã€‹ç»™æˆ‘çš„ 6 æ¡åº•å±‚æ€è€ƒ]]></title>    <link>https://juejin.cn/post/7584286241488273448</link>    <guid>https://juejin.cn/post/7584286241488273448</guid>    <pubDate>2025-12-16T14:03:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584286241488273448" data-draft-id="7584286241488240680" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‡ºæµ·åˆ«å† 1:1 æŠ„ç«™äº†:ã€Šæ¯›é€‰ã€‹ç»™æˆ‘çš„ 6 æ¡åº•å±‚æ€è€ƒ"/> <meta itemprop="keywords" content="äº§å“,åˆ›ä¸š,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-16T14:03:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿå¥AIç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/4212984287073895"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‡ºæµ·åˆ«å† 1:1 æŠ„ç«™äº†:ã€Šæ¯›é€‰ã€‹ç»™æˆ‘çš„ 6 æ¡åº•å±‚æ€è€ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984287073895/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿå¥AIç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T14:03:41.000Z" title="Tue Dec 16 2025 14:03:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­Ÿå¥ã€‚</p>
<p>å¥½ä¹…ä¸è§ã€‚å‰æ®µæ—¶é—´æˆ‘è¢«ç”²æµ <strong>H3N2</strong> æ”¾å€’äº†ï¼Œæ¢å¤äº†ä¸¤å‘¨æ‰ç¼“è¿‡æ¥ï¼Œä½“æ„Ÿä¸äºšäºæ–°å† ã€‚å†¬å­£æµæ„Ÿé«˜å‘ï¼Œå¤§å®¶æ³¨æ„é˜²æŠ¤ï¼Œåˆ«ç¡¬æ‰›ã€‚</p>
<p>èººç€ä¼‘æ¯çš„è¿™æ®µæ—¶é—´ï¼Œæˆ‘ä¸€ç›´åœ¨æƒ³ä¸€ä¸ªé—®é¢˜ï¼š</p>
<p><strong>åˆ›ä¸šåˆ°åº•æœ‰æ²¡æœ‰ä¸€å¥—å¯å¤ç”¨çš„åº•å±‚æ–¹æ³•è®ºï¼Ÿæœ‰æ²¡æœ‰ä¸€ç§â€œæ›´åº•å±‚çš„æ€ç»´â€ï¼Œèƒ½åœ¨ä¸ç¡®å®šæ€§é‡Œç»™æˆ‘ä»¬ä¸€ä¸ªç¨³å®šçš„æŒ‡å—é’ˆï¼Ÿ</strong></p>
<p>æ€æ¥æƒ³å»ï¼Œæˆ‘å‘ç°ç­”æ¡ˆå¾ˆæœ´ç´ ï¼šå»è¯»ã€Šæ¯›é€‰ã€‹ã€‚</p>
<p>å®ƒå‘Šè¯‰ä½ <strong>å¦‚ä½•è®¤è¯†ä¸–ç•Œã€å¦‚ä½•åˆ†æé—®é¢˜ã€å¦‚ä½•ç»„ç»‡è¡ŒåŠ¨</strong>ã€‚</p>
<p>æŠŠå®ƒæŠ½è±¡æˆæ–¹æ³•è®ºï¼Œå†æ”¾å›åˆ°å•†ä¸šä¸å‡ºæµ·çš„è¯­å¢ƒé‡Œï¼Œä¼šéå¸¸å¥½ç”¨ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« æˆ‘æƒ³æŠŠè‡ªå·±çš„å®æˆ˜ä½“ä¼šï¼Œå’Œã€Šæ¯›é€‰ã€‹é‡Œå‡ æ¡æ ¸å¿ƒæ€ç»´åšä¸€ä¸ªå¯¹åº”ï¼Œä¾›ä½ å‚è€ƒï¼š</p>
<ul>
<li>
<p><strong>å®äº‹æ±‚æ˜¯</strong>ï¼šç”¨è°ƒæŸ¥æ›¿ä»£è‡†æƒ³ï¼Œè®©å†³ç­–å¯¹é½ç°å®</p>
</li>
<li>
<p><strong>é˜¶çº§åˆ†æ</strong>ï¼šçœ‹æ¸…åˆ©ç›Šç»“æ„ï¼Œå†³å®šå›¢ç»“è°ã€åˆä½œè°ã€å¯¹æŠ—è°</p>
</li>
<li>
<p><strong>ä¸»è¦çŸ›ç›¾</strong>ï¼šæŠ“ä½â€œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«â€çš„å…³é”®é—®é¢˜ï¼Œé¿å…çœ‰æ¯›èƒ¡å­ä¸€æŠŠæŠ“</p>
</li>
<li>
<p><strong>å¯¹ç«‹ç»Ÿä¸€</strong>ï¼šè¾©è¯çœ‹ä¼˜åŠ£ï¼ŒæŠŠä¸åˆ©æ¡ä»¶è½¬åŒ–ä¸ºæœ‰åˆ©æ¡ä»¶</p>
</li>
<li>
<p><strong>æŒä¹…æˆ˜</strong>ï¼šä»¥æ—¶é—´æ¢ç©ºé—´ï¼Œåœ¨æ­£ç¡®æˆ˜åœºé•¿æœŸç§¯ç´¯ä¼˜åŠ¿</p>
</li>
<li>
<p><strong>ä»ç¾¤ä¼—ä¸­æ¥ï¼Œåˆ°ç¾¤ä¼—ä¸­å»</strong>ï¼šç”¨ MVP + åé¦ˆé—­ç¯ï¼ŒæŠŠè®¤çŸ¥è½åˆ°å®è·µé‡Œ</p>
</li>
</ul>
<h3 data-id="heading-0">01ï½œå®äº‹æ±‚æ˜¯ï¼šåˆ›ä¸šæœ€ç¨€ç¼ºçš„ä¸æ˜¯èªæ˜ï¼Œæ˜¯â€œäº‹å®â€</h3>
<p>æ¯›é€‰çš„æ€æƒ³æ¡†æ¶ï¼Œå»ºç«‹åœ¨å››ä¸ªå­—çš„åŸºçŸ³ä¸Šé¢â€”â€”å®äº‹æ±‚æ˜¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4cd319a2c81a4ab3b9ce3682e298e54e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766498621&amp;x-signature=BEKnxCrPgstZ7vQrzyPT2RcwFdc%3D" alt="" loading="lazy"/></p>
<p>â€œå®äº‹â€å°±æ˜¯å®¢è§‚å­˜åœ¨ç€çš„ä¸€åˆ‡äº‹ç‰©ï¼Œâ€œæ˜¯â€å°±æ˜¯å®¢è§‚äº‹ç‰©çš„å†…éƒ¨è”ç³»ï¼Œä¹Ÿå°±æ˜¯è§„å¾‹æ€§ï¼Œâ€œæ±‚â€å°±æ˜¯å»ç ”ç©¶ã€‚</p>
<p>å®äº‹æ±‚æ˜¯ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯è¦æ±‚æˆ‘ä»¬çš„æ€æƒ³å¿…é¡»å’Œå®¢è§‚ç°å®ç²¾å‡†å¯¹åº”èµ·æ¥ã€‚</p>
<p>è¿™å¬èµ·æ¥ç†æ‰€å½“ç„¶ï¼Œä½†æ˜¯å®é™…å¹¶ä¸å®¹æ˜“åšåˆ°ã€‚</p>
<p>ä¹‹å‰æˆ‘åˆ†äº«è¿‡å¿«æ€è€ƒæ…¢æ€è€ƒï¼Œäººç±»çš„å¤§è„‘åå‘äºè€—èƒ½ä½çš„å¿«æ€è€ƒæ¥åšå†³ç­–ï¼Œä¹Ÿå°±æ˜¯è¯´ä¾èµ–ç›´è§‰ã€ç»éªŒã€æƒ…ç»ªç­‰ç­‰æ¥åšåˆ¤æ–­ã€‚</p>
<p>æˆ‘ä»¬ç»å¸¸çœ‹åˆ°æŸä¸ªäººæˆåŠŸäº†ï¼Œæˆ–è€…å•†ä¸šæ¨¡å¼æˆåŠŸäº†ï¼Œå°±æ€¥äºå»å¤åˆ¶å®ƒçš„è¡¨è±¡ã€‚</p>
<p>åœ¨åšå‡ºæµ·çš„æ—¶å€™ï¼Œè¿™ç§ä¾‹å­å¤ªå¤šäº†ï¼Œå¾ˆå¤šäººä¼šå» 1:1 å¤åˆ¶åˆ«äººçš„ç«™ç‚¹ï¼Œåƒç´ çº§å¯¹é½ã€‚</p>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬å¿½ç•¥äº†å®ƒèƒ½å¤ŸæˆåŠŸçš„â€œå®äº‹â€æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„å¸‚åœºç¯å¢ƒã€ç”¨æˆ·åŸºç¡€ã€å†…éƒ¨ç¯èŠ‚ä¹‹é—´çš„â€œæ˜¯â€ã€‚</p>
<p>çœŸæ­£çš„å®äº‹æ±‚æ˜¯ï¼Œç¬¬ä¸€æ­¥æ˜¯æ”¾ä¸‹é¢„è®¾çš„ç«‹åœºå’Œç­”æ¡ˆï¼Œè¿™æ˜¯ä¸€ç§â€œç©ºæ¯å¿ƒæ€â€ï¼Œæ‰¿è®¤è‡ªå·±çš„æ— çŸ¥ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦è¯¢é—®çš„æ˜¯â€œäº‹å®ç©¶ç«Ÿæ˜¯ä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œæˆ‘è®¤ä¸º/å¸Œæœ›äº‹å®æ˜¯ä»€ä¹ˆâ€ã€‚</p>
<p>æˆ‘ä»¬å‡ºæµ·åšäº§å“çš„ç¬¬ä¸€æ­¥å°±æ˜¯å»æŒ–æ˜éœ€æ±‚ï¼Œå¾ˆå®¹æ˜“æ²¡æœ‰â€œç©ºæ¯å¿ƒæ€â€ã€‚</p>
<p>æ¯”å¦‚ï¼Œåœ¨çœ‹åˆ°ä¸€ä¸ªâ€œbackground removeâ€è¿™ä¸ªå…³é”®è¯ï¼Œæƒ³å½“ç„¶çš„è®¤ä¸ºè¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„éœ€æ±‚ï¼Œä¸å°±æ˜¯å»é™¤èƒŒæ™¯å—ï¼Ÿ</p>
<p>ä½ å»æ·±å…¥çœ‹ä¸€ä¸‹ï¼Œå°±çŸ¥é“è¿™æ˜¯ Photoshop çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå®ƒå›´ç»•è¿™ä¸ªäº‹æƒ…åšäº†å¤šä¹ˆå¤§é‡çš„å·¥ä½œï¼Œå¸‚åœºä¸Šæœ‰å¤šå°‘ç«å“ã€‚</p>
<p>æˆ‘ä»¬å›¢é˜Ÿæœ‰çš„æ—¶å€™åšå†…é¡µçš„éœ€æ±‚ï¼Œæƒ³å½“ç„¶çš„å°±æ˜¯æ ¹æ®å…³é”®è¯è®© AI å»ç”Ÿæˆé¡µé¢ï¼Œè¿™æ˜¯è‚¯å®šä¸è¡Œçš„ã€‚</p>
<p>ç¬¬ä¸€ï¼ŒAI çš„çŸ¥è¯†åº“æ˜¯è€æ—§çš„ï¼Œä½ ç»™ä»–ä¸€ä¸ªå…³é”®è¯ï¼Œä»–æœªå¿…èƒ½å¤Ÿæ·±å…¥ç†è§£èƒŒåçš„éœ€æ±‚ï¼ŒåŸºæœ¬ä¸Šå‡ºæ¥çš„éƒ½æ˜¯åºŸè¯å¹»è§‰ã€‚</p>
<p>ç¬¬äºŒï¼Œgoogle æ¯å¤©éƒ½åœ¨æ›´æ–°ä¿¡æ¯ï¼Œä¸€ä¸ªè¯èƒŒåå¯èƒ½æ˜¯ä¸€ä¸ªè®¨è®ºã€ä¸€ä¸ªäº‹ä»¶ã€ä¸€ä¸ªå·¥å…·ç­‰ç­‰ï¼Œä½ åœ¨æ²¡æœ‰è°ƒæŸ¥ä¹‹å‰ï¼Œæ ¹æœ¬ä¸çŸ¥é“è¿™ä¸ªè¯æ˜¯ä»€ä¹ˆä¸œè¥¿ã€‚</p>
<p>æ²¡æœ‰è°ƒæŸ¥ï¼Œå°±æ²¡æœ‰å‘è¨€æƒã€‚æˆ‘ä»¬å‡ºæµ·å»åšäº§å“ï¼Œè‚¯å®šè¦ç ”ç©¶å¸‚åœºï¼Œç ”ç©¶ç«å“ã€‚æ–©æ–­ä¸€åˆ‡çš„è‡†æƒ³å’Œæ£æµ‹ï¼Œè€Œä¸”ä¸èƒ½å¤ªè¡¨é¢çš„è°ƒç ”ã€‚</p>
<p>è°ƒç ”æ˜¯æœ‰æ–¹å¼æ–¹æ³•çš„ï¼ŒæŸ¥èµ„æ–™è¦å»æŸ¥ä¸€æ‰‹èµ„æ–™ï¼Œè€Œä¸æ˜¯ AI æ€»ç»“çš„å¹»è§‰èµ„æ–™ã€‚å¾ˆå¤šäººç°åœ¨éƒ½å€ŸåŠ© AI åˆ†æéœ€æ±‚ï¼Œè¿™æ˜¯ä¸å¥½çš„ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„å‡ºæµ·å»åˆ†æéœ€æ±‚çš„æ—¶å€™ï¼Œè¦å» Redditã€Twitterã€Facebookã€Youtube ç­‰ç­‰å¤šç§æ¸ é“ï¼Œç†è§£è¿™ä¸ªéœ€æ±‚èƒŒåçš„ç¬¬ä¸€æ‰‹èµ„æ–™èƒŒæ™¯ï¼Œæ‰èƒ½æ·±åˆ»æ˜ç™½çœŸæ­£çš„ç”¨æˆ·éœ€æ±‚ã€‚</p>
<p>åŸºäºå®äº‹æ±‚æ˜¯çš„æ€æƒ³ï¼Œå»ç†è§£éœ€æ±‚ï¼Œæˆ‘ä»¬çš„è°ƒç ”æ˜¯æ·±åˆ»çš„ï¼Œè€Œä¸æ˜¯è¡¨é¢çš„ï¼Œæ˜¯çœŸå®çš„ï¼Œè€Œä¸æ˜¯è‡†æµ‹çš„ï¼Œè¿™å°±æ˜¯æ´å¯Ÿï¼Œä¹…è€Œä¹…ä¹‹ï¼Œæˆ‘ä»¬å°±æœ‰äº†æ´è§ã€‚</p>
<p>å¯ä»¥è¯´ï¼ŒæŒæ¡äº†å®äº‹æ±‚æ˜¯ï¼Œå°±èƒ½åšåˆ°ï¼Œæ— è®ºå¤–ç•Œç¯å¢ƒå¤šä¹ˆå¤æ‚å¤šå˜ï¼Œéƒ½èƒ½æ‰¾åˆ°é€šå¾€æ­£ç¡®æ–¹å‘çš„é“è·¯ã€‚</p>
<h3 data-id="heading-1">02ï½œé˜¶çº§åˆ†æï¼šçœ‹æ¸…åˆ©ç›Šç»“æ„ï¼Œæ‰èƒ½åšå‡ºæ­£ç¡®ç«™ä½</h3>
<p>æ¯›é€‰çš„ç¬¬äºŒä¸ªæ€æƒ³æ˜¯é˜¶çº§åˆ†æï¼Œä¹Ÿå°±æ˜¯åˆ†æ¸…è°æ˜¯æˆ‘ä»¬çš„æ•Œäººï¼Œè°æ˜¯æˆ‘ä»¬çš„æœ‹å‹ã€‚è¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼Œå¤©ä¸‹ç†™ç†™ï¼Œçš†ä¸ºåˆ©æ¥ï¼Œåœ¨å•†ä¸šä¸–ç•Œä¸­ï¼Œæ‰€æœ‰çš„äººæˆ–äº‹éƒ½ç»‘å®šåœ¨åˆ©ç›Šä¸Šé¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6fd9c8f437241fca61b07b205fc91ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766498621&amp;x-signature=quAh5ddJBu2f%2FqWPX%2BieuxzRAps%3D" alt="" loading="lazy"/></p>
<p>æ¯ä¸ªäººçš„æ ¸å¿ƒè¯‰æ±‚å’Œåˆ©ç›Šéƒ½ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬åœ¨æ¨åŠ¨äº‹æƒ…å’Œåšå†³ç­–ä¹‹å‰ï¼Œå…ˆè¦åˆ’åˆ†åˆ©ç›Šç¾¤ä½“ï¼Œæ¯”å¦‚å¯¹äºå¹³å°å‹äº§å“æ¥è¯´ï¼Œå¹³å°æ–¹ã€å¤§ V åˆ›ä½œè€…ã€ä¸­å°åˆ›ä½œè€…ã€æ™®é€šç”¨æˆ·ã€å¹¿å‘Šå•†ï¼Œä»–ä»¬å°±æ˜¯ä¸åŒåˆ©ç›Šé˜¶çº§çš„ç¾¤ä½“ã€‚</p>
<p>åœ¨æˆ‘ä»¬é‚£ä¸ªçˆ†å‘çš„ç«™ç‚¹äº§å“ä¸Šçº¿åï¼Œå…¶å®æœ‰ä¸€ç³»åˆ—ç«äº‰è€…å‡ºç°ï¼Œä¹Ÿæœ‰ä¸€ç³»åˆ—å¸Œæœ›åˆä½œçš„é‚®ä»¶å‡ºç°ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦ç«™åœ¨åˆ©ç›Šçš„è§’åº¦ï¼Œæ€è€ƒå¦‚ä½•å»åšå†³ç­–ï¼Œæ€»ä½“çš„æŒ‡å¯¼æ€æƒ³å°±æ˜¯å›¢ç»“æœ‹å‹ï¼Œæ‰“å‡»æ•Œäººã€‚</p>
<p>æˆ‘ä¹‹å‰å®Œå…¨ä¸ç†Ÿæ‚‰æµ·å¤– Affliate çš„è¿™å¥—ç©æ³•ï¼Œåœ¨äº§å“ä¸Šçº¿åï¼Œå€’é—­è‡ªå·±å®Œå…¨å°† Affliate çš„æ–¹å¼ç ”ç©¶é€å½»ï¼Œç°åœ¨æˆ‘æ¥è‡ªäº Affliate çš„æ”¶å…¥å·²ç»è¶…è¿‡äº†åƒåˆ€ï¼Œè€Œä¸”å·²ç»æ­£å¼è¿ç§»è‡³ Affliate å¹³å°å½“ä¸­ï¼Œå»ºç«‹äº†é•¿æœŸçš„åˆä½œå…³ç³»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a47172e362c441b8604d8b5c9db6054~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766498621&amp;x-signature=eRw6B2TkbPxEl4pjeL5FIxPI4fY%3D" alt="" loading="lazy"/></p>
<p>åœ¨æˆ‘ SEO æ’åä¸‹é™çš„é‚£æ®µæ—¶é—´ï¼Œæˆ‘çš„æ”¶ç›Šä¸é™åå¢ï¼Œå› ä¸ºæ’åä¸Šå‡çš„æ˜¯æˆ‘çš„ç›Ÿå‹ï¼Œé€šè¿‡ Affliate è¿‡æ¥çš„ç”¨æˆ·ä»·å€¼è¿œè¿œå¤§äºæ‰€è°“ SEO æ’åçš„æµé‡ï¼Œè¿™å°±æ‰“äº†ä¸€åœºå¾ˆå¥½çš„é˜²å¾¡æˆ˜ã€‚</p>
<p>åœ¨ç°åœ¨ï¼Œæˆ‘çš„ SEO åˆé‡å›äº†å‰ä¸‰çš„æ’åä½ç½®ï¼Œè¿™ä¸ªæˆ˜ç•¥ä¸é˜¶çº§åˆ†æçš„æ€ç»´æ–¹æ³•æ˜¯ä¸è°‹è€Œåˆçš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcb453c3e5994960a58515ed282b998c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766498621&amp;x-signature=d%2Fq6LDYZq2vsA7deN8TNQccJH48%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">03ï½œæŠ“ä¸»è¦çŸ›ç›¾ï¼š0-1 é˜¶æ®µï¼Œå…ˆè§£å†³â€œæ´»ä¸‹å»â€</h3>
<p>æ¯›é€‰çš„ç¬¬ä¸‰ä¸ªæ€æƒ³ï¼Œæ˜¯æŠ“ä½ä¸»è¦çŸ›ç›¾ã€‚åšå‡ºæµ·åº”ç”¨ï¼Œæˆ‘ä»¬é¢ä¸´çš„åœºæ™¯æ˜¯å¤æ‚å¤šå˜çš„ï¼Œå„ç§å„æ ·çš„ç»†èŠ‚å’ŒçŸ›ç›¾é”™ç»¼å¤æ‚ï¼Œåˆ°åº•åº”è¯¥ä»ä½•å¤„ç€æ‰‹ï¼Œå¦‚æœç¼ºä¹ä¸€ä¸ªæ¸…æ™°çš„ä¼˜å…ˆçº§ï¼Œå°±ä¼šé™·å…¥çœ‰æ¯›èƒ¡å­ä¸€æŠŠæŠ“çš„å›°å¢ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f97503f172849179e5b8ba9c59a18db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766498621&amp;x-signature=Pp1fi2REtpNLMnNFuNBM86T4yyg%3D" alt="" loading="lazy"/></p>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•åˆ¤æ–­ä»€ä¹ˆæ˜¯ä¸»è¦çŸ›ç›¾å‘¢ï¼Ÿæ ‡å‡†åªæœ‰ä¸€ä¸ªï¼šçœ‹å“ªä¸ªçŸ›ç›¾çš„å­˜åœ¨å’Œå‘å±•ï¼Œè§„å®šæˆ–å½±å“äº†å…¶ä»–çŸ›ç›¾çš„å­˜åœ¨å’Œå‘å±•ã€‚ä¸»è¦çŸ›ç›¾å¾€å¾€å°±æ˜¯ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚</p>
<p>åœ¨æŠ—æ—¥æˆ˜äº‰æ—¶æœŸï¼Œæœ‰ä¸­åæ°‘æ—å’Œå¸å›½ä¸»ä¹‰çš„æ°‘æ—çŸ›ç›¾ï¼Œæœ‰å›½å†…çš„é˜¶çº§çŸ›ç›¾ï¼Œæœ‰å›½æ°‘å…šå†…éƒ¨çš„æ´¾ç³»çŸ›ç›¾ç­‰ç­‰ï¼Œå“ªä¸ªæ˜¯ä¸»è¦çŸ›ç›¾ï¼Ÿæ¯«æ— ç–‘é—®ï¼Œæ˜¯æ°‘æ—çŸ›ç›¾ï¼Œå¦‚æœè¿™ä¸ªé—®é¢˜ä¸è§£å†³ï¼Œå…¶ä»–çŸ›ç›¾æ— ä»è°ˆèµ·ã€‚è¿™å°±æ˜¯æˆ˜ç•¥æ€ç»´ã€‚</p>
<p>å¯¹äºæˆ‘ä»¬åˆæ­¥å°è¯• 0-1 åˆ›ä¸šçš„å‡ºæµ·ä¸šåŠ¡æ¥è¯´ï¼Œé¢ä¸´æ— æ•°é—®é¢˜ï¼Œæœ‰äººè¯´ Reddit éå¸¸é‡è¦ï¼Œæœ‰äººè¯´å¿…é¡»è¦åš Twitterï¼Œæœ‰äººè¯´åº”è¯¥å»ç¾å›½å¼€ä¸ªå…¬å¸ï¼Œæœ‰äººè¯´éœ€è¦åŠä¸ªæ¸¯å¡...</p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œå°±è¦æƒ³æ¸…æ¥šä»€ä¹ˆæ˜¯ä¸»è¦çŸ›ç›¾ï¼Œ0-1 é˜¶æ®µæ˜¯ç”Ÿå­˜é˜¶æ®µï¼Œæ‰€æœ‰å…¶ä»–äººçš„å»ºè®®å’Œç»éªŒéƒ½æ˜¯å¤–åœ¨è¡¨è±¡ï¼Œ0-1 è¦è€ƒè™‘çš„é¦–è¦é—®é¢˜æ˜¯ç”Ÿå­˜é—®é¢˜ï¼Œæ˜¯ PMF çš„é—®é¢˜ï¼Œæ˜¯èƒ½ä¸èƒ½æ´»ä¸‹å»çš„é—®é¢˜ã€‚</p>
<p>æ‰€ä»¥æƒ³é€šäº†è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠç›®æ ‡å®šä¸º 3 ä¸ªæœˆèµšåˆ°åƒåˆ€ï¼Œé‚£ä¹ˆä»¥ä¸Šæåˆ°çš„æ‰€æœ‰äº‹æƒ…éƒ½æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œå¹¶ä¸æ˜¯å…³é”®å› ç´ ã€‚é‚£æˆ‘ä»¬éœ€è¦ä»ç»“æœåæ¨ï¼Œå¦‚ä½•è¾¾æˆç›®æ ‡ï¼Ÿæ‰€æœ‰èƒ½æƒ³åˆ°çš„å…³é”®å› ç´ å°±æ˜¯ä¸»è¦çŸ›ç›¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8f50f5a61ce4baa8245fbfb01b250d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766498621&amp;x-signature=W%2B%2B3%2F7cpYLXEnvqYby%2Bn0O1nBvU%3D" alt="" loading="lazy"/></p>
<p>å›¢é˜Ÿç»è¿‡ AARRR æ¨¡å‹çš„åå¤æ¨æ¼”ï¼Œå°±å¯ä»¥å¾—å‡ºåœ¨ 0-1 é˜¶æ®µæœ€é‡è¦çš„åŠ¨ä½œï¼Œå®é™…ä¸Šå¯ä»¥å½’çº³ä¸ºä¸¤ä¸ªï¼šå¸‚åœº+æ•ˆç‡ã€‚åªè¦æˆ‘ä»¬é€‰å¯¹å¸‚åœºï¼ŒæŠŠæ•ˆç‡æœ€å¤§åŒ–ï¼Œåˆ©ç”¨ AI ç¼–ç¨‹çš„æ æ†ä¸Š 100 ä¸ªç«™ï¼Œç†è®ºä¸Šæœ€æœ‰å¯èƒ½è¾¾åˆ°ç›®æ ‡ã€‚</p>
<p>è¿™æ ·ä¸€æ‹†è§£ï¼Œå°±ååˆ†æ¸…æ™°äº†ï¼Œä¸»è¦åŠ¨ä½œæœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯æå‡å¸‚åœºæ´å¯ŸåŠ›ï¼Œä¸€ä¸ªæ˜¯æå‡ AI ç¼–ç¨‹æ•ˆç‡ï¼Œä»¥é‡å˜äº§ç”Ÿè´¨å˜æ˜¯æ ¸å¿ƒçš„æˆ˜ç•¥ã€‚å½“ç„¶è‚¯å®šä¹Ÿä¸æ˜¯ç›²ç›®ä¸Šç«™ï¼Œå¿…ç„¶æ˜¯è¦ç»è¿‡ä¸æ–­å¤ç›˜æ‰èƒ½å¤Ÿæˆé•¿ï¼Œé‚£ä¹ˆç»†è‡´çš„ SOP ä¹Ÿå°±å‡ºæ¥äº†ï¼Œåªè¦ä¸æ–­æ‰§è¡Œï¼šæ‰¾éœ€æ±‚-åšéœ€æ±‚-è¿è¥å¤–é“¾-å¤ç›˜ï¼Œè¿™ä¸ªé—­ç¯åå¤åšï¼Œå°±å¯ä»¥è¾¾æˆç›®æ ‡ã€‚</p>
<p>æ‰€ä»¥è¯´ï¼ŒæŠ“ä½ä¸»è¦çŸ›ç›¾æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•è®ºï¼Œè¿™éœ€è¦æˆ‘ä»¬æœ‰ä¸€å®šçš„é¢†å¯¼æ„è¯†å’Œæˆ˜ç•¥æ„è¯†ï¼Œæ‰èƒ½æ‹¨å¼€è¿·é›¾ï¼Œçœ‹æ¸…äº‹æƒ…çš„æœ¬è´¨ï¼Œè¿™å’Œç¬¬ä¸€æ€§åŸç†æœ‰å¼‚æ›²åŒå·¥ä¹‹å¤„ã€‚</p>
<h3 data-id="heading-3">04ï½œå¯¹ç«‹ç»Ÿä¸€ï¼šæŠŠåŠ£åŠ¿å½“å˜é‡ï¼Œè€Œä¸æ˜¯å®šè®º</h3>
<p>æ¯›é€‰çš„ç¬¬å››ä¸ªæ€æƒ³ï¼Œæ˜¯çŸ›ç›¾çš„å¯¹ç«‹ç»Ÿä¸€æ³•åˆ™ã€‚å…¶å®æˆ‘ä»¬ä¸­åä¼ ç»Ÿæ–‡åŒ–æ—©å°±å·²ç»äº§ç”Ÿæ™ºæ…§ï¼Œä¸­åº¸ä¹‹é“ï¼Œå¤ªæï¼Œéƒ½æ˜¯åœ¨è®²æˆ‘ä»¬ä¸èƒ½é™æ­¢ã€å­¤ç«‹ã€ç‰‡é¢åœ°çœ‹å¾…é—®é¢˜ï¼Œä»»ä½•çŸ›ç›¾çš„åŒæ–¹ï¼Œç›¸äº’æ’æ–¥ã€ç›¸äº’æ–—äº‰ï¼Œåˆç›¸äº’ä¾å­˜ï¼Œç›¸äº’è”ç»“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31102bc4b83c4b09955d35931785e049~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766498621&amp;x-signature=AR5zILQq%2FO6yLnbRIbR0hJQX4lk%3D" alt="" loading="lazy"/></p>
<p>æ‰€è°“é˜´é˜³æ—¢æ˜¯å¯¹ç«‹ï¼Œåˆæ˜¯ç»Ÿä¸€ï¼Œæ²¡æœ‰ç»å¯¹çš„å…‰èŠ’ï¼Œä¹Ÿæ²¡æœ‰ç»å¯¹çš„é»‘æš—ã€‚åœ¨å•†ä¸šå¸‚åœºä¸Šï¼Œä¹°æ–¹å¸Œæœ›åŠ ä¸ªè¶Šä½è¶Šå¥½ï¼Œå–æ–¹å¸Œæœ›ä»·æ ¼è¶Šé«˜è¶Šå¥½ï¼Œçœ‹ä¼¼å¯¹ç«‹ï¼Œåˆå¿…é¡»ç›¸äº’ä¾å­˜ï¼Œæ‰èƒ½å…±ç”Ÿã€‚</p>
<p>è¿™æ˜¯ä¸€ç§å“²å­¦æ€æƒ³ï¼Œåˆæ˜¯æˆ‘ä»¬çœ‹å¾…é—®é¢˜çš„é«˜åº¦ï¼Œè§£å†³çŸ›ç›¾çš„ç›®çš„ä¸æ˜¯ä¸ºäº†æ¶ˆç­æŸä¸€æ–¹ï¼Œè€Œæ˜¯è¦åŒæ–¹åœ¨ä¸€ä¸ªæ›´é«˜çš„æ°´å¹³ä¸Šè¾¾æˆæ–°çš„å¹³è¡¡ã€‚</p>
<p>ä»å‡ºæµ·åˆ›ä¸šçš„è¿™ä¸ªè§’åº¦æ¥è¯´ï¼Œæˆ‘ä»¬çš„ä¼˜åŠ¿åŠ£åŠ¿æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¯¹ç«‹ç»Ÿä¸€ä½“ï¼Œåœ¨å¸‚åœºä¸Šï¼Œæˆ‘ä»¬è·Ÿå¤§å…¬å¸ç«äº‰ï¼Œåœ¨å¾ˆå¤šæ–¹é¢éƒ½å¤„äºåŠ£åŠ¿ï¼Œä½†ç›¸å¯¹æ¥è¯´ï¼ŒåŠ£åŠ¿ä¹Ÿæ˜¯ä¼˜åŠ¿ï¼Œæ‰€è°“â€œèˆ¹å°å¥½è°ƒå¤´â€ï¼Œå†³ç­–æµç¨‹ã€æ‰§è¡ŒåŠ›ã€å¸‚åœºååº”çµæ´»ï¼Œè¿™å°±æ˜¯åŠ£åŠ¿ä¸­çš„æœ‰åˆ©æ¡ä»¶ã€‚</p>
<p>å…¶å®ï¼Œæˆ‘ä»¬åˆ›ä¸šçš„å¤±è´¥å’ŒæˆåŠŸä¹Ÿæ˜¯ä¸€ä¸ªå¯¹ç«‹ç»Ÿä¸€çš„å…³ç³»ï¼Œä½ ä¼šå‘ç°å¾ˆå¤šäº’è”ç½‘åˆ›ä¸šæˆåŠŸçš„å¤§ä½¬ï¼Œéƒ½æ˜¯è¿ç»­åˆ›ä¸šè€…ï¼Œå±¡è´¥å±¡æˆ˜ï¼Œå¤±è´¥å¹¶ä¸æ˜¯ä¸€ä¸ªå¯æ€•çš„äº‹æƒ…ï¼Œå…³é”®åœ¨äºæˆ‘ä»¬èƒ½å¦åœ¨åˆ›ä¸šå¤±è´¥ä¸­è¿›è¡Œå¤ç›˜ï¼Œå¸å–æ•™è®­ï¼Œä¸œå±±å†èµ·ã€‚</p>
<h3 data-id="heading-4">05ï½œã€Šè®ºæŒä¹…æˆ˜ã€‹ï¼šä»¥æ—¶é—´æ¢ç©ºé—´ï¼Œåœ¨æ­£ç¡®æˆ˜åœºé•¿æœŸç§¯ç´¯</h3>
<p>æ¯›é€‰çš„ç¬¬äº”ä¸ªæ€æƒ³æ˜¯ã€Šè®ºæŒä¹…æˆ˜ã€‹ï¼Œè¿™æ˜¯ä¸€éƒ¨ä¼Ÿå¤§çš„è‘—ä½œï¼Œå®ƒæ­ç¤ºäº†ä»¥å¼±èƒœå¼ºçš„åº•å±‚é€»è¾‘ï¼Œä¸ºæ‰€æœ‰åŠ£åŠ¿åœ°ä½çš„å¥‹æ–—è€…æä¾›äº†ä¸€éƒ¨æˆ˜ç•¥å®å…¸ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1326779d6e84c5fb22496c3a510b4b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766498621&amp;x-signature=5Cwww%2BPTpxWILJmDklAmV684KB0%3D" alt="" loading="lazy"/></p>
<p>å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œåå¯¹é€Ÿèƒœè®ºå’Œäº¡å›½è®ºçš„æ‚²è§‚ï¼Œä¸»å¼ åœ¨å®¢è§‚è®¤è¯†æ•Œæˆ‘ä¼˜åŠ£çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å‘æŒ¥ä¸»è§‚èƒ½åŠ¨æ€§ï¼Œæ‰“ä¸€åœºæœ‰è®¡åˆ’ã€æœ‰æ­¥éª¤ï¼Œä»¥æ—¶é—´æ¢ç©ºé—´çš„æŒä¹…æˆ˜ã€‚</p>
<p>è¿™ä¸ªç»“è®ºéœ€è¦æ¸…é†’åœ°è®¤è¯†ï¼Œé€Ÿèƒœæ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºæ•Œå¼ºæˆ‘å¼±ã€‚äº¡å›½ä¹Ÿæ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºæ•Œå°æˆ‘å¤§ï¼Œæ•Œé€€æ­¥æˆ‘è¿›æ­¥ï¼Œæ•Œå¯¡åŠ©æˆ‘å¤šåŠ©ï¼Œè¿™å¥ å®šäº†æœ€åšå®çš„è®¤çŸ¥åŸºç¡€ã€‚</p>
<p>è¿™ä¸ªæ€ç»´æ¨¡å‹å‘Šè¯‰æˆ‘ä»¬ï¼Œå½“é¢å¯¹ä¸€ä¸ªå¼ºå¤§çš„å¯¹æ‰‹æ—¶ï¼Œä¸è¦è¢«å…¶è¡¨é¢çš„å¼ºå¤§æ‰€å“åˆ°ï¼Œä¹Ÿä¸è¦è¢«è‡ªå·±çš„å¼±å°æ‰€è¿·æƒ‘ã€‚å¿…é¡»éå¸¸æ·±å…¥çš„åˆ†æï¼Œå¯¹æ–¹çš„å¼ºå¤§èƒŒåï¼Œæœ‰å“ªäº›å›ºæœ‰çš„ã€éš¾ä»¥å…‹æœçš„å¼±ç‚¹ï¼Ÿè‡ªèº«çš„å¼±å°ä¹‹ä¸­ï¼Œè•´å«ç€å“ªäº›å¯ä»¥è¢«åˆ©ç”¨ã€å†³å®šæœªæ¥çš„ä¼˜åŠ¿ï¼Ÿ</p>
<p>å¯¹äºå‡ºæµ·åˆ›ä¸šæ¥è¯´ï¼ŒæŒä¹…æˆ˜çš„æ€æƒ³å°¤ä¸ºé‡è¦ã€‚æˆ‘ä»¬ä¸ªä½“åˆ›ä¸šï¼Œå¤©ç„¶åœ¨æŸäº›æ–¹é¢å­˜åœ¨åŠ£åŠ¿ï¼Œå¦‚æœä½ å»åœ¨ä¸»æˆ˜åœºä¸å·¨å¤´è¯æ˜ç¡¬åˆšï¼Œæ— å¼‚äºä»¥åµå‡»çŸ³ã€‚</p>
<p>æˆ‘ä»¬ç›®å‰çœ‹å‡ºæµ·çš„ç»†åˆ†å¸‚åœºï¼Œå®é™…ä¸Šæ­£æ˜¯â€œå·¨å¤´çœ‹ä¸ä¸Šâ€çš„è¾¹ç¼˜å¸‚åœºï¼Œä½†æ˜¯è¿™ä¸ªå¸‚åœºçš„è›‹ç³•è¶³å¤Ÿå¤§ï¼Œæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡çµæ´»çš„ä¼˜åŠ¿ï¼Œå¿«é€ŸæŠ¢å è¿™ä¸ªå¸‚åœºã€‚</p>
<p>æ‰€è°“â€œæ–°è¯â€çš„é€»è¾‘ï¼Œå°±æ˜¯ä»¥æ—¶é—´å’Œæ•ˆç‡ä¼˜åŠ¿ï¼Œå¿«é€ŸæŠ¢å æ–°çš„å¸‚åœºï¼ŒæŠ¢å è°·æ­Œæ¯å¤© 15%çš„æ–°æ£€ç´¢ç®—åŠ›ï¼Œä»è€Œæ„å»ºäº†å®ƒçš„å•†ä¸šæ¨¡å¼ã€‚</p>
<p>æ‰€è°“â€œé•¿å°¾è¯â€çš„é€»è¾‘ï¼Œå°±æ˜¯å†œæ‘åŒ…å›´åŸå¸‚æˆ˜ç•¥ï¼Œä»¥å°åšå¤§ï¼Œé€šè¿‡ç»†åˆ†å‚ç›´éœ€æ±‚å…³é”®è¯åŸŸåï¼Œé€æ­¥å é¢†é•¿å°¾è¯å¸‚åœºï¼Œç§¯å°‘æˆå¤šï¼Œä»¥å°åšå¤§ï¼Œåœ¨æŒä¹…æˆ˜ä¸­èƒ½å¤Ÿè¶…è¶Šç«äº‰å¯¹æ‰‹ã€‚</p>
<p>è¿™ä¸ªæˆ˜ç•¥ï¼Œæ›´è€ƒéªŒæˆ˜ç•¥å®šåŠ›å’Œæ‰§è¡Œçš„åšéŸ§ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„è€å¿ƒå’ŒåšæŒã€‚æ‰€ä»¥æˆ‘å¸¸å¸¸è¯´ï¼Œåˆ›ä¸šä¸æ˜¯ä¸€èˆ¬äººèƒ½å¤Ÿåšçš„ï¼Œå› ä¸ºå¤§å¤šæ•°äººåªæƒ³èµšå¿«é’±ï¼Œåªæƒ³ä¸€å¤œæš´å¯Œï¼Œå¾ˆéš¾æŒä¹…åœ°å»åšä¸€ä»¶äº‹ã€‚</p>
<p>æˆ‘ä»¬åšåˆ›ä¸šï¼Œéœ€è¦è„šè¸å®åœ°ï¼Œä¸€æ­¥ä¸€ä¸ªè„šå°ï¼Œå°†ç›®æ ‡æ‹†è§£ï¼Œè¸è¸å®å®åœ°èµ°å¥½æ¯ä¸€æ­¥ã€‚åœ¨å›°éš¾çš„æ—¶å€™ï¼Œæœ‰åšæŒä¸‹å»çš„å‹‡æ°”å’Œæ–¹æ³•ï¼Œåœ¨é¡ºåˆ©çš„æ—¶å€™ï¼Œä¿æŒæ¸…é†’å’Œè°¦é€Šã€‚</p>
<h3 data-id="heading-5">06ï½œä»ç¾¤ä¼—ä¸­æ¥ï¼Œåˆ°ç¾¤ä¼—ä¸­å»ï¼šç”¨ MVP + åé¦ˆé—­ç¯é€¼è¿‘çœŸç›¸</h3>
<p>æ¯›é€‰çš„ç¬¬å…­ä¸ªæ€æƒ³ï¼Œæ˜¯ä»ç¾¤ä¼—ä¸­æ¥ï¼Œåˆ°ç¾¤ä¼—ä¸­å»ã€‚æˆ‘ä»¬åšäº§å“ï¼Œå¯¹è¿™ä¸ªä½“ä¼šå¯èƒ½ä¼šæ›´åŠ æ·±åˆ»ï¼Œè¿™é‡Œçš„â€œç¾¤ä¼—â€å°±æ˜¯æˆ‘ä»¬çš„ç”¨æˆ·ã€‚æ‰€æœ‰çš„éœ€æ±‚ï¼Œä¸€å®šä¸èƒ½æ˜¯å‡­è„‘è¢‹ç©ºæƒ³å‡ºæ¥çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28b6bc6b29e948db95dd8551d3a7f26d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766498621&amp;x-signature=t2%2FSA3UJ7rbp4VCIWPE1gf%2FWi9g%3D" alt="" loading="lazy"/></p>
<p>å…¶å®åœ¨ç²¾ç›Šåˆ›ä¸šä¸­ï¼Œæœ‰å¾ˆå¤§çš„ç¯‡å¹…æ˜¯ä»‹ç»äº†æˆ‘ä»¬åº”è¯¥æ€æ ·è¿›è¡Œç”¨æˆ·ç ”ç©¶ï¼Œç”¨æˆ·è®¿è°ˆï¼Œä»è€Œæç‚¼å‡ºçœŸæ­£çš„éœ€æ±‚ã€‚å¯¹äºå‡ºæµ·ä¸šåŠ¡ï¼Œç”¨æˆ·è®¿è°ˆå¯èƒ½æ˜¯ä¸€ä¸ªéš¾é¢˜ï¼Œè¿™å°±æ›´éœ€è¦æˆ‘ä»¬æ‹¥æœ‰äº§å“ Senseã€‚</p>
<p>SEO ç›¸å¯¹æ¥è¯´å°±æ˜¯ä¸€ä¸ªç§‘å­¦çš„æ–¹æ³•è®ºï¼Œé€šè¿‡å…³é”®è¯çš„åˆ†æï¼Œæ¥æ‹†è§£ç”¨æˆ·èƒŒåçš„è¯‰æ±‚ï¼Œè‡³å°‘è¿™ä¸ª idea ä¸æ˜¯å‡­ç©ºåˆ›é€ å‡ºæ¥çš„ï¼Œå®ƒæ˜¯çœŸæ­£çš„ç”¨æˆ·éœ€æ±‚ã€‚</p>
<p>ç„¶åæˆ‘ä»¬å‡­å€Ÿè‡ªå·±çš„è°ƒç ”ï¼Œå¯¹äº Serp ç«™ç‚¹çš„æ·±å…¥ä½“éªŒå’Œæ€è€ƒåˆ†æï¼Œç¡®å®šç”¨æˆ·çš„å®é™…éœ€æ±‚ï¼Œè¿™ä¸ªè¿‡ç¨‹ï¼Œå°±æ˜¯ä»ç¾¤ä¼—ä¸­æ¥ã€‚æœ€åï¼Œæˆ‘ä»¬é€šè¿‡å®éªŒçš„æ–¹å¼ï¼Œåšå‡ºäº§å“è¿›è¡Œå¸‚åœºéªŒè¯ï¼Œå°±æ˜¯æ‰€è°“çš„â€œåˆ°ç¾¤ä¼—ä¸­å»â€ã€‚</p>
<p>ä¸€æ—¦æˆ‘ä»¬çš„ MVP äº§å“æœ‰äº†åˆå§‹ç”¨æˆ·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‚®ä»¶çš„æ–¹å¼æ”¶åˆ°ç”¨æˆ·åé¦ˆï¼Œäº¦æˆ–æ˜¯è¯„ä»·ã€è¯„è®ºçš„æ–¹å¼ï¼Œä»å¤šæ–¹é¢æ”¶é›†ç”¨æˆ·è¯‰æ±‚ï¼Œè¿™æ ·å°±å½¢æˆäº†æ¯ä¸€æ¬¡äº§å“çš„è¿­ä»£ä¼˜åŒ–ï¼Œéšç€æ¯ä¸€æ¬¡çš„è¿­ä»£ï¼Œæˆ‘ä»¬å°±æ·±åŒ–äº§å“è®¤çŸ¥ï¼Œå†³ç­–å®Œå–„ä¸€æ­¥ã€‚</p>
<p>è¿™ä¸ªé—­ç¯å°±æ˜¯ï¼š**å®è·µã€è®¤çŸ¥ã€å†å®è·µã€å†è®¤çŸ¥ã€‚**ä½ ä¸å¯èƒ½åœ¨è¡ŒåŠ¨ä¹‹å‰å°±æŒæ¡å…¨éƒ¨çœŸç†ï¼Œå¾ˆå¤šäº‹æƒ…åªæœ‰å»åšäº†ï¼Œæ‰èƒ½çœŸæ­£æ˜ç™½ã€‚æ‰€ä»¥ï¼Œè¦æ•¢äºå®è·µï¼Œæ•¢äºè¯•é”™ã€‚</p>
<h3 data-id="heading-6">å†™åœ¨æœ€åï¼šæŠŠæ–¹æ³•è®ºå˜æˆä½ çš„è¡ŒåŠ¨æ¸…å•</h3>
<p>å›åˆ°å¼€å¤´é‚£ä¸ªé—®é¢˜ï¼šåˆ›ä¸šæœ‰æ²¡æœ‰ä¸€å¥—åº•å±‚æ€ç»´ï¼Ÿ</p>
<p>æˆ‘çš„ç­”æ¡ˆæ˜¯ï¼šæœ‰ã€‚è‡³å°‘å¯¹æˆ‘è€Œè¨€ï¼Œã€Šæ¯›é€‰ã€‹ç»™äº†æˆ‘ä¸€å¥—éå¸¸å¼ºçš„â€œé—®é¢˜è§£å†³æ¡†æ¶â€ï¼š</p>
<ul>
<li>
<p><strong>å®äº‹æ±‚æ˜¯</strong>ï¼šç”¨è°ƒæŸ¥ç ”ç©¶ææ¸…æ¥šäº‹å®</p>
</li>
<li>
<p><strong>é˜¶çº§åˆ†æ</strong>ï¼šç”¨åˆ©ç›Šåœ°å›¾å†³å®šåˆä½œä¸ç«äº‰</p>
</li>
<li>
<p><strong>ä¸»è¦çŸ›ç›¾</strong>ï¼šæŠŠä¸»è¦ç²¾åŠ›æŠ•å…¥åˆ°â€œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«â€çš„å…³é”®é—®é¢˜</p>
</li>
<li>
<p><strong>å¯¹ç«‹ç»Ÿä¸€</strong>ï¼šè¾©è¯çœ‹åˆ©å¼Šï¼ŒæŠŠä¸åˆ©å› ç´ è½¬åŒ–ä¸ºæœ‰åˆ©æ¡ä»¶</p>
</li>
<li>
<p><strong>æŒä¹…æˆ˜</strong>ï¼šé•¿æœŸåšæŒï¼Œæœ‰ç›®æ ‡ã€æœ‰é˜¶æ®µã€è„šè¸å®åœ°</p>
</li>
<li>
<p><strong>ä»ç¾¤ä¼—ä¸­æ¥ï¼Œåˆ°ç¾¤ä¼—ä¸­å»</strong>ï¼šç”¨ MVP æœ€å¿«è·å¾—åé¦ˆï¼Œä¸æ–­è¯•é”™ä¸å¤ç›˜</p>
</li>
</ul>
<p>å¦‚æœä½ æ„¿æ„ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºå‘Šè¯‰æˆ‘ï¼šä½ å½“ä¸‹å‡ºæµ·/åˆ›ä¸šçš„<strong>ä¸»è¦çŸ›ç›¾</strong>æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å¥½äº†ï¼Œä»Šå¤©å°±åˆ†äº«åˆ°è¿™é‡Œã€‚å’±ä»¬ä¸‹æœŸå†è§ï¼</p>
<hr/>
<p>ğŸš€ æƒ³è¦ä¸æ›´å¤šAIçˆ±å¥½è€…äº¤æµï¼Œå…±åŒæˆé•¿å—ï¼Ÿ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZ4k_5_waWJbRRo5lZBZmog" target="_blank" title="https://mp.weixin.qq.com/s/Z4k_5_waWJbRRo5lZBZmog" ref="nofollow noopener noreferrer">å’Œä¸€ç¾¤å¿—åŒé“åˆçš„äººï¼ŒæŒç»­ç²¾è¿› AI çš„æ¯ä¸€å¤©</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“æ—¶åºæ•°æ®ä¸å†â€œåªæ˜¯æ—¶é—´â€ï¼šé‡‘ä»“æ•°æ®åº“å¦‚ä½•åœ¨å¤æ‚åœºæ™¯ä¸­æ‹‰å¼€ä¸ InfluxDB çš„å·®è·]]></title>    <link>https://juejin.cn/post/7584287969214791699</link>    <guid>https://juejin.cn/post/7584287969214791699</guid>    <pubDate>2025-12-16T14:28:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584287969214791699" data-draft-id="7584307643000307755" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“æ—¶åºæ•°æ®ä¸å†â€œåªæ˜¯æ—¶é—´â€ï¼šé‡‘ä»“æ•°æ®åº“å¦‚ä½•åœ¨å¤æ‚åœºæ™¯ä¸­æ‹‰å¼€ä¸ InfluxDB çš„å·®è·"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-16T14:28:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯æ°å°¼"/> <meta itemprop="url" content="https://juejin.cn/user/4200579899599495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“æ—¶åºæ•°æ®ä¸å†â€œåªæ˜¯æ—¶é—´â€ï¼šé‡‘ä»“æ•°æ®åº“å¦‚ä½•åœ¨å¤æ‚åœºæ™¯ä¸­æ‹‰å¼€ä¸ InfluxDB çš„å·®è·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4200579899599495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯æ°å°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T14:28:37.000Z" title="Tue Dec 16 2025 14:28:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å½“æ—¶åºæ•°æ®ä¸å†â€œåªæ˜¯æ—¶é—´â€ï¼šé‡‘ä»“æ•°æ®åº“å¦‚ä½•åœ¨å¤æ‚åœºæ™¯ä¸­æ‹‰å¼€ä¸ InfluxDB çš„å·®è·</h2>
<h3 data-id="heading-1">ä¸€ã€æ—¶åºæ•°æ®åº“çš„â€œç¬¬äºŒé˜¶æ®µâ€å·²ç»åˆ°æ¥</h3>
<p>åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œæ—¶åºæ•°æ®åº“çš„æ ¸å¿ƒé—®é¢˜åªæœ‰ä¸€ä¸ªï¼š
<strong>å¦‚ä½•é«˜æ•ˆå­˜å‚¨æŒ‰æ—¶é—´ä¸æ–­å¢é•¿çš„æ•°æ®ç‚¹ï¼Ÿ</strong></p>
<p>InfluxDB æ­£æ˜¯åœ¨è¿™ä¸€é˜¶æ®µè„±é¢–è€Œå‡ºçš„ä»£è¡¨äº§å“ã€‚å…¶ä¸“é—¨ä¸ºæ—¶é—´åºåˆ—è®¾è®¡çš„å­˜å‚¨æ¨¡å‹ã€ç®€æ´çš„å†™å…¥æ¥å£ä»¥åŠè‰¯å¥½çš„åˆæœŸæ€§èƒ½ï¼Œä½¿å…¶åœ¨ç›‘æ§å’Œç‰©è”ç½‘é¢†åŸŸè¢«å¤§é‡é‡‡ç”¨ã€‚</p>
<p>ä½†éšç€ä¸šåŠ¡ç³»ç»Ÿé€æ¸æˆç†Ÿï¼Œä¼ä¸šå¯¹æ—¶åºæ•°æ®çš„è¯‰æ±‚æ­£åœ¨å‘ç”Ÿå˜åŒ–ï¼š</p>
<ul>
<li>æ•°æ®é‡ä¸å†æ˜¯ç™¾ä¸‡ã€åƒä¸‡ï¼Œè€Œæ˜¯<strong>æŒç»­å¢é•¿çš„ç™¾äº¿çº§</strong></li>
<li>æŸ¥è¯¢ä¸å†åªæ˜¯ç”»å›¾ï¼Œè€Œæ˜¯<strong>å®æ—¶åˆ†æã€å¼‚å¸¸å®šä½ã€æ™ºèƒ½å†³ç­–</strong></li>
<li>æ—¶åºæ•°æ®ä¸å†ç‹¬ç«‹å­˜åœ¨ï¼Œè€Œæ˜¯è¦ä¸<strong>ä¸šåŠ¡æ•°æ®ã€è®¾å¤‡æ•°æ®ã€ç©ºé—´ä¿¡æ¯</strong>ç»“åˆ</li>
</ul>
<p>è¿™æ„å‘³ç€ï¼Œæ—¶åºæ•°æ®åº“æ­£åœ¨è¿›å…¥ä¸€ä¸ªæ–°çš„é˜¶æ®µâ€”â€”
<strong>ä»â€œä¸“ç”¨å­˜å‚¨å·¥å…·â€å‘â€œæ ¸å¿ƒæ•°æ®èƒ½åŠ›â€çš„è½¬å˜ã€‚</strong></p>
<p>ä¹Ÿæ­£æ˜¯åœ¨è¿™ä¸€é˜¶æ®µï¼Œé‡‘ä»“æ•°æ®åº“ï¼ˆKingbaseESï¼‰ä¸ InfluxDB çš„å·®è·å¼€å§‹è¢«ä¸æ–­æ”¾å¤§ã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6bdfa05de7c446491c79ba14269cdd3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766500117&amp;x-signature=gu2xDu4i1y8OZDe8RJ%2FqqBVovoU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-2">äºŒã€å†™å…¥ä¸æ˜¯ç»ˆç‚¹ï¼šé«˜å¹¶å‘ä¹‹ä¸‹çš„å¯æŒç»­èƒ½åŠ›</h3>
<p>å†™å…¥æ€§èƒ½ï¼Œå¾€å¾€æ˜¯è¯„ä»·æ—¶åºæ•°æ®åº“çš„ç¬¬ä¸€æŒ‡æ ‡ã€‚ä½†çœŸæ­£é‡è¦çš„ï¼Œå¹¶ä¸æ˜¯â€œå•æ¬¡è·‘åˆ†æœ‰å¤šé«˜â€ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p>åœ¨è®¾å¤‡è§„æ¨¡ä¸æ–­æ‰©å¤§ã€å†™å…¥é•¿æœŸæŒç»­çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿæ˜¯å¦è¿˜èƒ½ç¨³å®šã€é«˜æ•ˆåœ°è¿è¡Œï¼Ÿ</p>
</blockquote>
<p>åœ¨åŸºäº TSBS çš„æµ‹è¯•ä¸­ï¼Œæ¨¡æ‹Ÿäº†ä»å°è§„æ¨¡è®¾å¤‡åˆ°åƒä¸‡çº§è®¾å¤‡çš„æŒç»­å†™å…¥å‹åŠ›ã€‚æµ‹è¯•ç»“æœå‘ˆç°å‡ºä¸€ä¸ªéå¸¸æ¸…æ™°çš„è¶‹åŠ¿ï¼š</p>
<ul>
<li>åœ¨å°è§„æ¨¡å†™å…¥åœºæ™¯ä¸‹ï¼Œä¸¤è€…æ€§èƒ½æ¥è¿‘</li>
<li>éšç€è®¾å¤‡æ•°é‡å’ŒæŒ‡æ ‡æ•°é‡å¢é•¿ï¼Œé‡‘ä»“çš„å†™å…¥ååä¼˜åŠ¿é€æ­¥æ˜¾ç°</li>
<li>åœ¨åƒä¸‡çº§è®¾å¤‡å‹åŠ›ä¸‹ï¼Œé‡‘ä»“çš„å†™å…¥æ€§èƒ½è¾¾åˆ° InfluxDB çš„ <strong>2 å€ä»¥ä¸Š</strong></li>
</ul>
<p>è¿™èƒŒååæ˜ çš„ï¼Œå¹¶ä¸æ˜¯ç®€å•çš„â€œå†™å¾—å¿«â€ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>å¹¶å‘è°ƒåº¦èƒ½åŠ›</li>
<li>å­˜å‚¨ç»“æ„å¯¹é«˜åŸºæ•°æ•°æ®çš„é€‚åº”æ€§</li>
<li>åˆ†åŒºä¸ç´¢å¼•ç­–ç•¥çš„å¯æ‰©å±•æ€§</li>
</ul>
<p>åœ¨çœŸå®ç”Ÿäº§ç³»ç»Ÿä¸­ï¼Œè¿™äº›å› ç´ å¾€å¾€æ¯”å•æ¬¡å†™å…¥å»¶è¿Ÿæ›´é‡è¦ã€‚</p>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€çœŸæ­£å†³å®šä¸Šé™çš„ï¼Œæ˜¯å¤æ‚æŸ¥è¯¢èƒ½åŠ›</h3>
<p>å¦‚æœè¯´å†™å…¥èƒ½åŠ›å†³å®šç³»ç»Ÿèƒ½å¦â€œæ´»ä¸‹æ¥â€ï¼Œé‚£ä¹ˆæŸ¥è¯¢èƒ½åŠ›å†³å®šçš„ï¼Œå°±æ˜¯ç³»ç»Ÿæ˜¯å¦â€œæœ‰ä»·å€¼â€ã€‚</p>
<p>åœ¨å¤§é‡ä¼ä¸šå®è·µä¸­ï¼Œæ—¶åºæŸ¥è¯¢å¾€å¾€ä¼šç»å†ä¸‰ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li><strong>åŸºç¡€æŸ¥è¯¢</strong>ï¼šå•æŒ‡æ ‡ã€çŸ­æ—¶é—´çª—å£</li>
<li><strong>åˆ†ææŸ¥è¯¢</strong>ï¼šå¤šè®¾å¤‡ã€å¤šæŒ‡æ ‡ã€åˆ†ç»„èšåˆ</li>
<li><strong>ä¸šåŠ¡æŸ¥è¯¢</strong>ï¼šæœ€æ–°çŠ¶æ€ã€å¼‚å¸¸ç­›é€‰ã€è·¨ç»´åº¦åˆ†æ</li>
</ol>
<h4 data-id="heading-4">1. ç®€å•æŸ¥è¯¢é˜¶æ®µï¼šå·®è·ä¸æ˜æ˜¾</h4>
<p>åœ¨å•è®¾å¤‡ã€å•æŒ‡æ ‡çš„èšåˆæŸ¥è¯¢ä¸­ï¼Œé‡‘ä»“ä¸ InfluxDB çš„æ€§èƒ½éƒ½èƒ½ä¿æŒåœ¨æ¯«ç§’çº§ï¼Œæ•´ä½“ä½“éªŒå·®è·æœ‰é™ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯å¾ˆå¤šå›¢é˜Ÿåœ¨æ—©æœŸä½¿ç”¨ InfluxDB æ—¶æ„Ÿè§‰â€œæ€§èƒ½å¾ˆå¥½â€çš„åŸå› ã€‚</p>
<hr/>
<h4 data-id="heading-5">2. åˆ†ææŸ¥è¯¢é˜¶æ®µï¼šä¼˜åŠ¿å¼€å§‹æ˜¾ç°</h4>
<p>å½“æŸ¥è¯¢æ¶‰åŠå¤šè®¾å¤‡ã€å¤šæŒ‡æ ‡ï¼Œå¹¶ä¸”éœ€è¦è¿›è¡Œåˆ†ç»„ç»Ÿè®¡æ—¶ï¼Œé‡‘ä»“çš„ä¼˜åŠ¿é€æ­¥ä½“ç°ã€‚</p>
<p>åœ¨å…¸å‹çš„â€œå¤šè®¾å¤‡å¤šæŒ‡æ ‡ä¸€å°æ—¶ç»Ÿè®¡â€æµ‹è¯•ä¸­ï¼š</p>
<ul>
<li>é‡‘ä»“çš„å“åº”é€Ÿåº¦é€šå¸¸ä¸º InfluxDB çš„ <strong>3ï½4 å€</strong></li>
<li>éšç€æ—¶é—´çª—å£æ‹‰é•¿ï¼Œè¿™ä¸€å·®è·ä»èƒ½ä¿æŒç¨³å®š</li>
</ul>
<p>è¿™è¯´æ˜ï¼Œåœ¨æ•°æ®é‡å’Œè®¡ç®—å¤æ‚åº¦åŒæ—¶å¢é•¿çš„æƒ…å†µä¸‹ï¼Œé‡‘ä»“çš„æ‰§è¡Œè®¡åˆ’å’Œèµ„æºè°ƒåº¦æ›´åŠ é«˜æ•ˆã€‚</p>
<hr/>
<h4 data-id="heading-6">3. ä¸šåŠ¡çº§æŸ¥è¯¢ï¼šæ•°é‡çº§å·®è·çš„å‡ºç°</h4>
<p>åœ¨æœ€æ¥è¿‘çœŸå®ä¸šåŠ¡çš„æŸ¥è¯¢åœºæ™¯ä¸­ï¼Œä¸¤è€…çš„æ€§èƒ½å·®è·å‘ˆç°å‡ºæ•°é‡çº§æ”¾å¤§ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>Last Point æŸ¥è¯¢</strong>ï¼ˆè·å–æ¯ä¸ªè®¾å¤‡çš„æœ€æ–°æ•°æ®ï¼‰</li>
<li><strong>é˜ˆå€¼ç­›é€‰æŸ¥è¯¢</strong>ï¼ˆæ‰¾å‡ºæŸæ—¶é—´æ®µå†…è¶…é™çš„è®¾å¤‡ï¼‰</li>
<li><strong>çŠ¶æ€ç»Ÿè®¡æŸ¥è¯¢</strong>ï¼ˆæŒ‰è®¾å¤‡ç»´åº¦æ±‡æ€»è¿è¡ŒçŠ¶æ€ï¼‰</li>
</ul>
<p>åœ¨æµ‹è¯•ä¸­ï¼Œé¢å¯¹æ•°ç™¾å°è®¾å¤‡çš„æ•°æ®ï¼š</p>
<ul>
<li>é‡‘ä»“çš„æŸ¥è¯¢è€—æ—¶ç»´æŒåœ¨ç™¾æ¯«ç§’çº§</li>
<li>InfluxDB çš„æŸ¥è¯¢è€—æ—¶åˆ™å¯èƒ½è¾¾åˆ°æ•°ç§’ç”šè‡³åç§’ä»¥ä¸Š</li>
</ul>
<p>åœ¨éƒ¨åˆ†åœºæ™¯ä¸‹ï¼Œæ€§èƒ½å·®è·è¶…è¿‡ <strong>70 å€</strong>ã€‚</p>
<p>å¯¹äºå®æ—¶å‘Šè­¦ã€æ™ºèƒ½è°ƒåº¦å’Œè‡ªåŠ¨æ§åˆ¶ç³»ç»Ÿè€Œè¨€ï¼Œè¿™ç§å·®è·ç›´æ¥å†³å®šäº†ç³»ç»Ÿæ˜¯å¦â€œå¯ç”¨â€ã€‚</p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45b0fe36c4864590bbed424ee0e6f87d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766500117&amp;x-signature=VV7PogJYf4LvlHAOATJEYUwZgV4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-7">å››ã€æ¶æ„å·®å¼‚ï¼šä¸ºä»€ä¹ˆ InfluxDB ä¼šåœ¨å¤æ‚åœºæ™¯ä¸­â€œåƒåŠ›â€</h3>
<p>ä»æ ¹æœ¬ä¸Šçœ‹ï¼Œè¿™ç§æ€§èƒ½å·®è·å¹¶éå¶ç„¶ï¼Œè€Œæ˜¯æ¶æ„è®¾è®¡ç›®æ ‡ä¸åŒæ‰€å¯¼è‡´çš„å¿…ç„¶ç»“æœã€‚</p>
<h4 data-id="heading-8">1. ä¸“ç”¨æ¨¡å‹ vs é€šç”¨æ‰§è¡Œå¼•æ“</h4>
<p>InfluxDB çš„è®¾è®¡åˆè¡·æ˜¯å›´ç»•æ—¶é—´åºåˆ—è¿›è¡Œé«˜åº¦ä¼˜åŒ–ï¼Œé€‚åˆæŒ‡æ ‡å‹æ•°æ®çš„å¿«é€Ÿå†™å…¥ä¸ç®€å•èšåˆã€‚</p>
<p>è€Œé‡‘ä»“çš„æ—¶åºèƒ½åŠ›ï¼Œæ„å»ºåœ¨æˆç†Ÿçš„å…³ç³»å‹æ•°æ®åº“å†…æ ¸ä¹‹ä¸Šï¼Œå…·å¤‡ï¼š</p>
<ul>
<li>å®Œæ•´çš„æŸ¥è¯¢ä¼˜åŒ–å™¨</li>
<li>å¤šç§ç´¢å¼•ä¸æ‰§è¡Œç­–ç•¥</li>
<li>æˆç†Ÿçš„å¹¶å‘æ§åˆ¶ä¸äº‹åŠ¡æœºåˆ¶</li>
</ul>
<p>å½“æŸ¥è¯¢é€»è¾‘å˜å¤æ‚æ—¶ï¼Œè¿™ç§é€šç”¨èƒ½åŠ›åè€Œæˆä¸ºä¼˜åŠ¿ã€‚</p>
<hr/>
<h4 data-id="heading-9">2. SQL ç”Ÿæ€å¸¦æ¥çš„é•¿æœŸæ”¶ç›Š</h4>
<p>é‡‘ä»“åŸç”Ÿæ”¯æŒæ ‡å‡† SQLï¼Œè¿™ä¸€ç‚¹åœ¨ä¼ä¸šçº§åœºæ™¯ä¸­æ„ä¹‰é‡å¤§ï¼š</p>
<ul>
<li>å¯ç›´æ¥å¤ç”¨ BIã€æŠ¥è¡¨ã€åˆ†æå·¥å…·</li>
<li>æ”¯æŒå¤æ‚å…³è”æŸ¥è¯¢ä¸å­æŸ¥è¯¢</li>
<li>ç»Ÿä¸€æŠ€æœ¯æ ˆï¼Œé™ä½å­¦ä¹ å’Œç»´æŠ¤æˆæœ¬</li>
</ul>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒInfluxDB çš„ä¸“ç”¨æŸ¥è¯¢è¯­è¨€åœ¨ç®€å•åœºæ™¯ä¸‹è¶³å¤Ÿé«˜æ•ˆï¼Œä½†åœ¨å¤æ‚åˆ†æå’Œç³»ç»Ÿé›†æˆä¸­ï¼Œå¾€å¾€éœ€è¦é¢å¤–çš„é€‚é…å’Œå¼€å‘å·¥ä½œã€‚</p>
<hr/>
<h3 data-id="heading-10">äº”ã€å­˜å‚¨ä¸æˆæœ¬ï¼šè¢«å¿½è§†ä½†æå…¶å…³é”®çš„ç»´åº¦</h3>
<p>åœ¨æµ·é‡æ—¶åºæ•°æ®åœºæ™¯ä¸­ï¼Œå­˜å‚¨æˆæœ¬å¾€å¾€æ˜¯é•¿æœŸè¿è¥ä¸­æœ€å¤§çš„éšæ€§æ”¯å‡ºã€‚</p>
<p>é‡‘ä»“åœ¨æ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†æ–¹é¢æä¾›äº†ï¼š</p>
<ul>
<li>è‡ªåŠ¨æ—¶é—´åˆ†åŒº</li>
<li>çµæ´»çš„æ•°æ®ä¿ç•™ç­–ç•¥</li>
<li>é«˜å‹ç¼©æ¯”çš„å†å²æ•°æ®å­˜å‚¨</li>
<li>å†·çƒ­æ•°æ®åˆ†çº§ç®¡ç†</li>
</ul>
<p>åœ¨å®é™…æµ‹è¯•ä¸­ï¼Œé’ˆå¯¹å·¥ä¸šä¼ æ„Ÿå™¨ç±»æ•°æ®ï¼Œé‡‘ä»“å¯å®ç° <strong>1:4 å·¦å³çš„å‹ç¼©æ¯”</strong>ï¼Œåœ¨æ•°æ®è§„æ¨¡æŒç»­å¢é•¿çš„æƒ…å†µä¸‹ï¼Œè¿™ç§ä¼˜åŠ¿ä¼šè¢«ä¸æ–­æ”¾å¤§ã€‚</p>
<hr/>
<h3 data-id="heading-11">å…­ã€ä»â€œæ—¶åºâ€åˆ°â€œèåˆâ€ï¼šä¸šåŠ¡ä»·å€¼çš„çœŸæ­£é‡Šæ”¾</h3>
<p>ä¼ä¸šçœŸæ­£å…³å¿ƒçš„ï¼Œå¹¶ä¸æ˜¯â€œæ—¶åºæ•°æ®æœ¬èº«â€ï¼Œè€Œæ˜¯å®ƒæ‰€æ‰¿è½½çš„ä¸šåŠ¡å«ä¹‰ã€‚</p>
<p>é‡‘ä»“æ”¯æŒåœ¨åŒä¸€æ•°æ®åº“å†…ï¼Œå¯¹ä»¥ä¸‹æ•°æ®è¿›è¡Œç»Ÿä¸€åˆ†æï¼š</p>
<ul>
<li>æ—¶åºæ•°æ®</li>
<li>è®¾å¤‡ä¸ä¸šåŠ¡ä¸»æ•°æ®</li>
<li>JSON æ–‡æ¡£å‹ä¿¡æ¯</li>
<li>ç©ºé—´åœ°ç†æ•°æ®</li>
</ul>
<p>è¿™ä½¿å¾—è®¸å¤šå¤æ‚åˆ†æåœºæ™¯å¾—ä»¥ç®€åŒ–ï¼Œä¾‹å¦‚ï¼š</p>
<blockquote>
<p>â€œç»Ÿè®¡è¿‡å»ä¸€å‘¨å†…ï¼ŒæŸåŒºåŸŸå†…è¿è¡Œå¼‚å¸¸çš„è®¾å¤‡æ•°é‡åŠåˆ†å¸ƒæƒ…å†µâ€</p>
</blockquote>
<p>åœ¨ InfluxDB ä¸­ï¼Œè¿™é€šå¸¸éœ€è¦å¤šç³»ç»Ÿåä½œå®Œæˆï¼›è€Œåœ¨é‡‘ä»“ä¸­ï¼Œä¸€æ¡ SQL å³å¯å®Œæˆã€‚</p>
<hr/>
<h3 data-id="heading-12">ä¸ƒã€ç»“è¯­ï¼šæ—¶åºæ•°æ®åº“ç«äº‰çš„çœŸæ­£åˆ†æ°´å²­</h3>
<p>InfluxDB åœ¨æ—¶åºæ•°æ®åº“å‘å±•æ—©æœŸï¼Œèµ·åˆ°äº†é‡è¦æ¨åŠ¨ä½œç”¨ã€‚ä½†éšç€ä¸šåŠ¡å¤æ‚åº¦å’Œæ•°æ®è§„æ¨¡çš„æŒç»­æå‡ï¼Œä¼ä¸šå¯¹æ•°æ®åº“çš„æœŸå¾…å·²ç»å‘ç”Ÿæ ¹æœ¬å˜åŒ–ã€‚</p>
<p>é‡‘ä»“æ•°æ®åº“æ‰€å±•ç°çš„ä¼˜åŠ¿ï¼Œå¹¶ä¸ä»…æ˜¯â€œè·‘å¾—æ›´å¿«â€ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>åœ¨å¤æ‚æŸ¥è¯¢ä¸‹ä¾ç„¶å¯æ§ã€ç¨³å®š</li>
<li>åœ¨ä¼ä¸šç”Ÿæ€ä¸­æ˜“äºèåˆ</li>
<li>åœ¨é•¿æœŸè¿è¥ä¸­æˆæœ¬å¯é¢„æœŸ</li>
</ul>
<p>å½“æ—¶åºæ•°æ®ä»â€œè®°å½•çŠ¶æ€â€èµ°å‘â€œé©±åŠ¨å†³ç­–â€ï¼Œæ•°æ®åº“çš„è§’è‰²ä¹Ÿå¿…é¡»éšä¹‹è¿›åŒ–ã€‚</p>
<p>è€Œè¿™ï¼Œæ­£æ˜¯é‡‘ä»“åœ¨å¤æ‚æ—¶åºåœºæ™¯ä¸­é€æ­¥é¢†å…ˆçš„æ ¹æœ¬åŸå› ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å›½äº§æ—¶åºæ•°æ®åº“å´›èµ·ï¼šé‡‘ä»“å‡­ä»€ä¹ˆåœ¨å¤æ‚åœºæ™¯ä¸­ç¢¾å‹InfluxDB]]></title>    <link>https://juejin.cn/post/7584073390694973455</link>    <guid>https://juejin.cn/post/7584073390694973455</guid>    <pubDate>2025-12-16T14:33:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584073390694973455" data-draft-id="7584243498528505856" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å›½äº§æ—¶åºæ•°æ®åº“å´›èµ·ï¼šé‡‘ä»“å‡­ä»€ä¹ˆåœ¨å¤æ‚åœºæ™¯ä¸­ç¢¾å‹InfluxDB"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-16T14:33:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å›½äº§æ—¶åºæ•°æ®åº“å´›èµ·ï¼šé‡‘ä»“å‡­ä»€ä¹ˆåœ¨å¤æ‚åœºæ™¯ä¸­ç¢¾å‹InfluxDB
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-16T14:33:12.000Z" title="Tue Dec 16 2025 14:33:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç‰©è”ç½‘ã€å·¥ä¸šäº’è”ç½‘ä¸æ™ºèƒ½è¿ç»´é«˜é€Ÿå‘å±•çš„å½“ä¸‹ï¼Œæ—¶åºæ•°æ®çš„å¤„ç†éœ€æ±‚æ­£å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚ä»è®¾å¤‡ç›‘æ§åˆ°æ™ºèƒ½å†³ç­–ï¼Œä¼ä¸šå¯¹æ•°æ®åº“çš„è¦æ±‚æ—©å·²ä¸å†å±€é™äºâ€œèƒ½å†™èƒ½æŸ¥â€ï¼Œè€Œæ˜¯è¿½æ±‚é«˜ååã€ä½å»¶è¿Ÿã€å¼ºä¸€è‡´æ€§ä»¥åŠå¤šç»´åº¦åˆ†æèƒ½åŠ›ã€‚è¿‡å»ï¼ŒInfluxDBå‡­å€Ÿå…ˆå‘ä¼˜åŠ¿å’Œç®€æ´æ¶æ„ï¼Œæˆä¸ºæ—¶åºæ•°æ®åº“çš„ä»£è¡¨ã€‚ç„¶è€Œï¼Œéšç€æ•°æ®é‡çº§ä»â€œä¸‡â€è·ƒå‡è‡³â€œåƒä¸‡â€ï¼Œå…¶æ€§èƒ½ç“¶é¢ˆæ—¥ç›Šå‡¸æ˜¾ã€‚</p>
<p>ä¸€åœºå›½äº§æ•°æ®åº“ä¸å›½é™…å¼€æºæ–¹æ¡ˆä¹‹é—´çš„è¾ƒé‡æ‚„ç„¶å±•å¼€ã€‚é‡‘ä»“æ•°æ®åº“ï¼ˆKingbaseESï¼‰ä»¥å…¨é¢é¢†å…ˆçš„æ€§èƒ½è¡¨ç°ï¼Œæ­£åœ¨é‡æ–°å®šä¹‰æ—¶åºæ•°æ®åº“çš„èƒ½åŠ›è¾¹ç•Œã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>æ€§èƒ½å…¨é¢é¢†å…ˆï¼šä»å†™å…¥åˆ°åˆ†æï¼Œé‡‘ä»“å…¨é¢èƒœå‡º</strong></h2>
<p>åŸºäºä¸šç•Œå…¬è®¤çš„TSBSï¼ˆTime Series Benchmark Suiteï¼‰åŸºå‡†æµ‹è¯•ï¼Œé‡‘ä»“ä¸InfluxDBåœ¨å¤šè½®å¯¹æ¯”ä¸­å±•å¼€æ­£é¢äº¤é”‹ã€‚ç»“æœæ˜¾ç¤ºï¼šåœ¨å°è§„æ¨¡ã€ç®€å•æŸ¥è¯¢åœºæ™¯ä¸‹ï¼Œä¸¤è€…è¡¨ç°æ¥è¿‘ï¼›ä½†åœ¨å¤§è§„æ¨¡ã€å¤æ‚åˆ†æçš„çœŸå®ä¸šåŠ¡ç¯å¢ƒä¸­ï¼Œé‡‘ä»“å±•ç°å‡ºå‹å€’æ€§ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-1"><strong>å†™å…¥æ€§èƒ½ï¼šé«˜å¹¶å‘ä¸‹ç¨³å®šé¢†å…ˆ</strong></h3>
<p>æ¨¡æ‹Ÿä»100å°åˆ°1000ä¸‡å°è®¾å¤‡çš„æ•°æ®å†™å…¥å‹åŠ›ï¼Œé‡‘ä»“åœ¨è®¾å¤‡è§„æ¨¡è¾¾åˆ°4000å°ï¼ˆæ¯å°10ä¸ªæŒ‡æ ‡ï¼‰æ—¶ï¼Œå†™å…¥æ€§èƒ½å·²è¾¾InfluxDBçš„162%ã€‚åœ¨åƒä¸‡çº§è®¾å¤‡æé™æµ‹è¯•ä¸­ï¼Œè¿™ä¸€ä¼˜åŠ¿è¿›ä¸€æ­¥æ‰©å¤§<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d6d605a72ef42b293962b0fe5f5b935~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766500392&amp;x-signature=VE24Ow2%2FbGW10%2FjtnJhTzPoe%2BgY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
è‡³267%ã€‚è¿™æ„å‘³ç€ï¼Œé¢å¯¹é«˜å¹¶å‘ã€æŒç»­å†™å…¥çš„æµ·é‡æ—¶åºæ•°æ®ï¼Œé‡‘ä»“å…·å¤‡æ›´å¼ºçš„æ‰©å±•èƒ½åŠ›ä¸ç¨³å®šæ€§ã€‚</p>
<h3 data-id="heading-2"><strong>æŸ¥è¯¢æ€§èƒ½ï¼šå¤æ‚åˆ†æåœºæ™¯ä¸‹ç¢¾å‹å¼é¢†å…ˆ</strong></h3>
<p>åœ¨æŸ¥è¯¢æ€§èƒ½æ–¹é¢ï¼Œé‡‘ä»“çš„ä¼˜åŠ¿å°¤ä¸ºæ˜æ˜¾ï¼Œå°¤å…¶åœ¨å¤šç»´åº¦èšåˆã€è·¨è®¾å¤‡åˆ†æç­‰é«˜å¤æ‚åº¦æŸ¥è¯¢ä¸­ï¼š</p>
<ul>
<li><strong>ç®€å•èšåˆæŸ¥è¯¢ï¼ˆå¦‚å•è®¾å¤‡çŸ­æ—¶é—´çª—å£èšåˆï¼‰</strong>ï¼šä¸¤è€…å“åº”æ—¶é—´æ¥è¿‘ï¼Œæ¯«ç§’çº§å®Œæˆã€‚</li>
<li><strong>ä¸­ç­‰å¤æ‚åº¦æŸ¥è¯¢ï¼ˆå¦‚å¤šæŒ‡æ ‡èšåˆã€è·¨è®¾å¤‡åˆ†ç»„ï¼‰</strong>ï¼šé‡‘ä»“å“åº”é€Ÿåº¦ä¸ºInfluxDBçš„3~4å€ã€‚</li>
<li><strong>é«˜å¤æ‚åº¦å…³è”åˆ†æï¼ˆå¦‚Last PointæŸ¥è¯¢ã€é«˜è´Ÿè½½è®¾å¤‡ç­›é€‰ï¼‰</strong>ï¼šé‡‘ä»“æ€§èƒ½é¢†å…ˆå¯è¾¾æ•°åå€ã€‚ä¾‹å¦‚ï¼Œåœ¨â€œæŸ¥è¯¢æŸæ—¶æ®µå†…æ¯å°è®¾å¤‡çš„æœ€åè¯»æ•°â€åœºæ™¯ä¸­ï¼Œé‡‘ä»“è€—æ—¶ä»…147æ¯«ç§’ï¼Œè€ŒInfluxDBè¶…è¿‡10ç§’ï¼Œæ€§èƒ½å·®è·è¶…è¿‡70å€ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f8c8cef3efe40108458094b4bbd2014~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766500392&amp;x-signature=WjrsrT6OkNB6GYXOqT4HuLGfO%2Bc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-3"><strong>ä¸æ­¢äºå¿«ï¼šé‡‘ä»“çš„ä¼ä¸šçº§èƒ½åŠ›ä¸èåˆä¼˜åŠ¿</strong></h2>
<p>é‡‘ä»“çš„ä¼˜åŠ¿ä¸ä»…ä½“ç°åœ¨â€œè·‘å¾—å¿«â€ï¼Œæ›´åœ¨äºå…¶é¢å‘ä¼ä¸šçº§åº”ç”¨çš„æ·±åº¦è®¾è®¡ã€‚ç›¸æ¯”InfluxDBï¼Œé‡‘ä»“åœ¨ä»¥ä¸‹å‡ ä¸ªå…³é”®ç»´åº¦å®ç°äº†è´¨çš„é£è·ƒã€‚</p>
<h3 data-id="heading-4"><strong>1. å®Œæ•´SQLç”Ÿæ€ï¼Œé™ä½å¼€å‘ä¸è¿ç§»æˆæœ¬</strong></h3>
<p>é‡‘ä»“åŸºäºæˆç†Ÿçš„å…³ç³»å‹æ•°æ®åº“å†…æ ¸ï¼ŒåŸç”Ÿæ”¯æŒæ ‡å‡†SQLã€å­˜å‚¨è¿‡ç¨‹ã€äº‹åŠ¡ï¼ˆACIDï¼‰ä¸å¤šè¡¨å…³è”æŸ¥è¯¢ã€‚ä¼ä¸šæ— éœ€å­¦ä¹ æ–°çš„æŸ¥è¯¢è¯­è¨€ï¼Œç°æœ‰SQLå·¥å…·å’Œä¸šåŠ¡ç³»ç»Ÿå¯ç›´æ¥å¯¹æ¥ï¼Œæå¤§é™ä½å¼€å‘ä¸è¿ç»´æˆæœ¬ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒInfluxDBéœ€ä½¿ç”¨InfluxQLæˆ–Fluxè¯­è¨€ï¼Œé›†æˆæˆæœ¬é«˜ï¼Œä¸”åœ¨é‡‘èã€å·¥æ§ç­‰å¯¹ä¸€è‡´æ€§è¦æ±‚é«˜çš„åœºæ™¯ä¸­éš¾ä»¥èƒœä»»ã€‚</p>
<h3 data-id="heading-5"><strong>2. é«˜æ•ˆå­˜å‚¨ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong></h3>
<p>é‡‘ä»“å†…ç½®æ—¶åºç»„ä»¶ï¼Œæ”¯æŒæŒ‰æ—¶é—´è‡ªåŠ¨åˆ†åŒºã€å†·çƒ­æ•°æ®åˆ†çº§å­˜å‚¨ä¸é«˜å‹ç¼©æ¯”å­˜å‚¨ã€‚å®æµ‹æ˜¾ç¤ºï¼Œå…¶å¯¹å·¥ä¸šä¼ æ„Ÿå™¨æ•°æ®å¯å®ç°é«˜è¾¾1:4çš„å‹ç¼©æ¯”ï¼Œæ˜¾è‘—é™ä½å­˜å‚¨æˆæœ¬ã€‚åŒæ—¶ï¼Œå†·çƒ­æ•°æ®åˆ†ç¦»æœºåˆ¶ä¹Ÿæå‡äº†æŸ¥è¯¢æ•ˆç‡ä¸ç³»ç»Ÿå“åº”é€Ÿåº¦ã€‚</p>
<h3 data-id="heading-6"><strong>3. å¤šæ¨¡èåˆï¼Œæ‰“ç ´æ•°æ®å­¤å²›</strong></h3>
<p>é‡‘ä»“é¦–åˆ›â€œæ—¶åº+â€å¤šæ¨¡èåˆæ¶æ„ï¼Œæ”¯æŒåœ¨åŒä¸€æ•°æ®åº“ä¸­å¯¹æ—¶åºæ•°æ®ã€ç©ºé—´åœ°ç†ä¿¡æ¯ï¼ˆGISï¼‰ã€JSONæ–‡æ¡£ç­‰å¤šç§æ•°æ®ç±»å‹è¿›è¡Œè”åˆæŸ¥è¯¢ã€‚ä¾‹å¦‚ï¼Œåœ¨æ™ºæ…§äº¤é€šåœºæ™¯ä¸­ï¼Œç”¨æˆ·å¯é€šè¿‡ä¸€æ¡SQLå®ç°â€œæŸ¥è¯¢è¿‡å»ä¸€å‘¨åœ¨æœºåœºå‘¨è¾¹é¢‘ç¹å‡ºç°çš„è½¦è¾†â€ï¼Œè€Œè¿™ç±»æ—¶ç©ºè”åˆæŸ¥è¯¢åœ¨InfluxDBä¸­å‡ ä¹æ— æ³•åŸç”Ÿæ”¯æŒã€‚</p>
<hr/>
<h2 data-id="heading-7"><strong>å®æˆ˜éªŒè¯ï¼šä»æµ‹è¯•åœºèµ°å‘æ ¸å¿ƒç”Ÿäº§ç³»ç»Ÿ</strong></h2>
<p>é‡‘ä»“çš„æ—¶åºèƒ½åŠ›å·²åœ¨å¤šä¸ªå…³é”®è¡Œä¸šä¸­è½åœ°ï¼ŒæˆåŠŸæ›¿ä»£æˆ–ä¼˜äºåŸæœ‰æ–¹æ¡ˆï¼Œæˆä¸ºæ”¯æ’‘æ ¸å¿ƒä¸šåŠ¡çš„æ•°æ®åº•åº§ã€‚</p>
<h3 data-id="heading-8"><strong>æ¡ˆä¾‹ä¸€ï¼šæ™ºæ…§æ¸¯å£</strong></h3>
<p>åœ¨æŸå¤§å‹æ¸¯å£é›†å›¢çš„æ™ºèƒ½è°ƒåº¦ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿéœ€å¤„ç†æ—¥å‡æ•°åäº¿æ¡GPSè½¨è¿¹æ•°æ®ã€‚é‡‘ä»“åœ¨å†™å…¥ååé‡ã€æŸ¥è¯¢å“åº”é€Ÿåº¦ä¸ç³»ç»Ÿç¨³å®šæ€§æ–¹é¢å…¨é¢ä¼˜äºInfluxDBï¼Œæœ€ç»ˆæˆä¸ºå…¶æ ¸å¿ƒå¼•æ“ï¼Œæ”¯æ’‘é›†å¡è°ƒåº¦ã€åŒºåŸŸç»Ÿè®¡ç­‰å…³é”®åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-9"><strong>æ¡ˆä¾‹äºŒï¼šæ–°èƒ½æºé£ç”µ</strong></h3>
<p>æŸæ–°èƒ½æºä¼ä¸šéœ€ç®¡ç†ä¸Šåƒå°é£æœºçš„è¿è¡ŒçŠ¶æ€æ•°æ®ã€‚é‡‘ä»“ä¸ä»…å®ç°æ¯ç§’æ•°åä¸‡ç‚¹æ•°æ®çš„é«˜æ•ˆå†™å…¥ï¼Œè¿˜èƒ½ä¸è®¾å¤‡å…ƒæ•°æ®æ— ç¼èåˆï¼Œæ”¯æŒâ€œè®¾å¤‡-çŠ¶æ€-å‘Šè­¦â€ä¸€ä½“åŒ–æŸ¥è¯¢ã€‚æµ‹è¯•æ˜¾ç¤ºï¼Œå…¶å¤æ‚åˆ†ææŸ¥è¯¢æ€§èƒ½ä¸ºInfluxDBçš„2~70å€ï¼Œé¢„è®¡å¯èŠ‚çœè¶…ç™¾ä¸‡å…ƒå­˜å‚¨æˆæœ¬ã€‚</p>
<hr/>
<h2 data-id="heading-10"><strong>ç»“è¯­ï¼šä»â€œè®°å½•â€åˆ°â€œæ´å¯Ÿâ€ï¼Œé‡‘ä»“å®šä¹‰ä¸‹ä¸€ä»£æ—¶åºæ•°æ®åº“</strong></h2>
<p>InfluxDBæˆ–è®¸ä»é€‚ç”¨äºè½»é‡çº§ç›‘æ§åœºæ™¯ï¼Œä½†å½“ä¼ä¸šè¿ˆå‘å®æ—¶åˆ†æã€æ™ºèƒ½å†³ç­–ã€ç³»ç»Ÿèåˆçš„æ–°é˜¶æ®µï¼Œé‡‘ä»“æä¾›äº†æ›´å¼ºå¤§ã€æ›´æˆç†Ÿã€æ›´å¯æ§çš„é€‰æ‹©ã€‚</p>
<p>å®ƒä¸ä»…æ˜¯ä¸€ä¸ªæ›´å¿«çš„æ—¶åºæ•°æ®åº“ï¼Œæ›´æ˜¯ä¸€ä¸ªèåˆæ—¶åºã€å…³ç³»ã€ç©ºé—´ç­‰å¤šæ¨¡æ•°æ®èƒ½åŠ›çš„ç»Ÿä¸€å¹³å°ã€‚é€‰æ‹©é‡‘ä»“ï¼Œä¸åªæ˜¯é€‰æ‹©ä¸€æ¬¾æ•°æ®åº“ï¼Œæ›´æ˜¯é€‰æ‹©ä¸€ç§é¢å‘æœªæ¥çš„æ•°æ®åŸºç¡€è®¾æ–½ã€‚</p>
<p>åœ¨æ•°æ®é©±åŠ¨çš„æ–°æ—¶ä»£ï¼Œé‡‘ä»“æ­£ä»¥â€œæ´å¯Ÿæœªæ¥â€çš„èƒ½åŠ›ï¼Œå¼•é¢†å›½äº§æ•°æ®åº“èµ°å‘æ›´å¹¿é˜”çš„èˆå°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>