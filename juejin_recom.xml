<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[å‘Šåˆ«â€œæ‰‹æ“â€åœºæ™¯ï¼šæ™ºå…ƒç”¨LLMé‡æ„å…·èº«æ™ºèƒ½çš„â€œç»ƒåŠŸæˆ¿â€]]></title>    <link>https://juejin.cn/post/7592276645362106368</link>    <guid>https://juejin.cn/post/7592276645362106368</guid>    <pubDate>2026-01-07T14:07:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592276645362106368" data-draft-id="7592440247956422671" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«â€œæ‰‹æ“â€åœºæ™¯ï¼šæ™ºå…ƒç”¨LLMé‡æ„å…·èº«æ™ºèƒ½çš„â€œç»ƒåŠŸæˆ¿â€"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-07T14:07:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«â€œæ‰‹æ“â€åœºæ™¯ï¼šæ™ºå…ƒç”¨LLMé‡æ„å…·èº«æ™ºèƒ½çš„â€œç»ƒåŠŸæˆ¿â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:07:47.000Z" title="Wed Jan 07 2026 14:07:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>CES 2026 åˆšåˆšåœ¨æ‹‰æ–¯ç»´åŠ æ–¯è½ä¸‹å¸·å¹•ï¼Œè™½ç„¶å±•å°ä¸Šé‚£äº›è·³èˆã€åç©ºç¿»çš„æœºå™¨äººä¾æ—§å¸ç›ï¼Œä½†å¯¹äºå’±ä»¬è¿™äº›çœŸæ­£åœ¨æå…·èº«æ™ºèƒ½å¼€å‘çš„â€œç‚¼ä¸¹å¸ˆâ€æ¥è¯´ï¼ŒçœŸæ­£çš„ç¡¬èœå…¶å®è—åœ¨ä»£ç å’Œæ•°æ®é‡Œã€‚</p>
<p>æ™ºå…ƒæœºå™¨äººï¼ˆAgibotï¼‰è¿™æ¬¡å‘å¸ƒäº†ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„ä¸œè¥¿â€”â€”Genie Sim 3.0ã€‚å¦‚æœä¸ä»”ç»†çœ‹ï¼Œä½ å¯èƒ½è§‰å¾—è¿™åªæ˜¯åˆä¸€ä¸ªä»¿çœŸè½¯ä»¶ï¼Œä½†å…³é”®åœ¨äºå®ƒçš„å‰ç¼€ï¼šè¿™æ˜¯å…¨çƒé¦–ä¸ªç”±å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰é©±åŠ¨çš„å¼€æºæœºå™¨äººä»¿çœŸå¹³å°ã€‚</p>
<p>è¯´å¾—ç›´ç™½ç‚¹ï¼Œä»¥å‰æˆ‘ä»¬åœ¨ä»¿çœŸç¯å¢ƒé‡Œè®­ç»ƒæœºå™¨äººï¼Œæœ€ç—›è‹¦çš„ä¸æ˜¯å†™ç®—æ³•ï¼Œè€Œæ˜¯æ­åœºæ™¯ã€‚ä¸ºäº†è®©æœºå™¨äººå­¦ä¼šæ”¶æ‹¾æ¡Œå­ï¼Œä½ å¾—åœ¨è½¯ä»¶é‡Œä¸€ä¸ªä¸ªæ‘†æ”¾æ¯å­ã€ç›˜å­ï¼Œè¿˜å¾—è°ƒæ•´å…‰ç…§ã€æ‘©æ“¦åŠ›ã€‚è¿™ç®€ç›´æ˜¯åœ¨â€œæ‰‹æ“â€ä¸–ç•Œï¼Œæ•ˆç‡ä½åˆ°è®©äººå¤´ç§ƒã€‚</p>
<p>Genie Sim 3.0 è§£å†³çš„å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œå®ƒæŠŠé‚£ç§è´¹æ—¶è´¹åŠ›çš„â€œæ‰‹æ“â€å˜æˆäº†ä¸€å¥è¯çš„äº‹å„¿ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-07_22.02.38-1024x380.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-07_22.02.38-1024x380.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36aea8840cf4444da2271ca908ab65e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768399667&amp;x-signature=l2UtfDIWvs5FjNo8Sp908UsvCiU%3D" alt="iShot_2026-01-07_22.02.38" loading="lazy"/></a></p>
<p><strong>å½“ä¸Šå¸æ¨¡å¼å˜æˆäº†â€œèŠå¤©çª—å£â€</strong></p>
<p>è¿™ä¸ªå¹³å°æœ€æ ¸å¿ƒçš„çªç ´ï¼Œåœ¨äºå®ƒå¬å¾—æ‡‚äººè¯ã€‚åŸºäº NVIDIA Isaac Sim æ„å»ºçš„åº•åº§ä¸Šï¼Œæ™ºå…ƒæ¥å…¥äº† LLMã€‚ç°åœ¨çš„ç©æ³•å˜æˆäº†ï¼šä½ åœ¨å¯¹è¯æ¡†é‡Œè¾“å…¥â€œç”Ÿæˆä¸€ä¸ªç”±äºæ˜¨æ™šèšä¼šè€Œæ¯ç›˜ç‹¼è—‰çš„é¤æ¡Œåœºæ™¯ï¼Œè¦æœ‰å‰©èœå’Œå€’ä¸‹çš„é…’æ¯â€ï¼Œå‡ åˆ†é’Ÿåï¼Œå‡ åƒç”šè‡³ä¸Šä¸‡ä¸ªç¬¦åˆæè¿°ä½†ç»†èŠ‚å„å¼‚çš„ 3D åœºæ™¯å°±ç”Ÿæˆå¥½äº†ã€‚</p>
<p>è¿™ä¸ªâ€œä¸‡çº§åœºæ™¯ç”Ÿæˆåˆ†é’Ÿçº§å®Œæˆâ€çš„å‚æ•°ï¼Œå¯¹äºéœ€è¦æµ·é‡æ•°æ®å–‚å…»çš„å…·èº«æ¨¡å‹æ¥è¯´ï¼Œä¸ä»…ä»…æ˜¯æ•ˆç‡æå‡ï¼Œç®€ç›´å°±æ˜¯é™ç»´æ‰“å‡»ã€‚å®ƒæ„å‘³ç€ä½ å¯ä»¥é€šè¿‡è‡ªç„¶è¯­è¨€ï¼Œå¿«é€Ÿæ„å»ºå‡ºå„ç§æç«¯æ¡ˆä¾‹ï¼ˆCorner Caseï¼‰ï¼Œä¸“é—¨é’ˆå¯¹æœºå™¨äººçš„å¼±é¡¹è¿›è¡Œç‰¹è®­ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-07_22.02.59-1024x618.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-07_22.02.59-1024x618.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5add82e6c3b49569712f8f9f62242ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768399667&amp;x-signature=%2FmdivXPYrCyTYHqZ2%2BN94UjTdB0%3D" alt="iShot_2026-01-07_22.02.59" loading="lazy"/></a></p>
<p><strong>æ‹’ç»â€œè™šå‡â€çš„ç²¾ç»†åº¦</strong></p>
<p>ä»¿çœŸè®­ç»ƒæœ€å¤§çš„å‘æ˜¯â€œSim-to-Real Gapâ€ï¼ˆè™šå®è¿ç§»é¸¿æ²Ÿï¼‰ã€‚åœ¨æ¨¡æ‹Ÿå™¨é‡Œæœºå™¨äººæ˜¯ä¸ªç¥æªæ‰‹ï¼Œæ”¾åˆ°çœŸæœºä¸Šè¿ç“¶æ°´éƒ½æŠ“ä¸ç¨³ï¼ŒåŸå› é€šå¸¸æ˜¯ç‰©ç†å¼•æ“ä¸å‡†æˆ–è€…è§†è§‰æ¸²æŸ“å¤ªå‡ã€‚</p>
<p>Genie Sim 3.0 å±…ç„¶æ•¢å®£ç§°è™šå®å·®å¼‚å°äº 10%ï¼Œè¿™åº•æ°”æ¥è‡ªäºå®ƒçš„â€œæ•°å­—å­ªç”Ÿçº§â€å¤åˆ»èƒ½åŠ›ã€‚å®ƒä¸ä»…ä»…æ˜¯ç”»å¾—åƒï¼Œè€Œæ˜¯ç‰©ç†å±æ€§ä¸Šçš„åƒã€‚æ¯”å¦‚ä½ æƒ³åœ¨è¿™ä¸ªè™šæ‹Ÿä¸–ç•Œé‡ŒåŠ ä¸€æŠŠç°å®ä¸­çš„æ¤…å­ï¼Œä¸éœ€è¦å¤æ‚çš„å»ºæ¨¡ï¼Œæ‹¿ç€æ‰‹æœºå¯¹ç€æ¤…å­æ‹ä¸€æ®µ 60 ç§’çš„ç¯ç»•è§†é¢‘ï¼Œç®—æ³•å°±èƒ½ç”Ÿæˆå¸¦ç²¾ç¡®ç½‘æ ¼å’Œçº¹ç†çš„ä»¿çœŸæ¨¡å‹ã€‚</p>
<p>è¿™ç§æŠŠç°å®ç‰©ä½“â€œç¬é—´ä¼ é€â€è¿›è™šæ‹Ÿä¸–ç•Œçš„èƒ½åŠ›ï¼Œå¯¹äºåƒè¶…å¸‚ä¸Šè´§ã€ç‰©æµåˆ†æ‹£è¿™ç§ç‰©å“æå…¶</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-07_22.03.18-1024x370.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-07_22.03.18-1024x370.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3863c7cf9f14462bf915c170531ebd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768399667&amp;x-signature=ZJV%2BOnX0GB7X1ejPc%2BREYV5GabI%3D" alt="iShot_2026-01-07_22.03.18" loading="lazy"/></a></p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éªŒè¯ list() ä¼šè°ƒç”¨ `__len__` æ–¹æ³•çš„æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7592410399917359145</link>    <guid>https://juejin.cn/post/7592410399917359145</guid>    <pubDate>2026-01-07T14:35:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592410399917359145" data-draft-id="7592410399917326377" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éªŒè¯ list() ä¼šè°ƒç”¨ `__len__` æ–¹æ³•çš„æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="Django,Python"/> <meta itemprop="datePublished" content="2026-01-07T14:35:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éªŒè¯ list() ä¼šè°ƒç”¨ `__len__` æ–¹æ³•çš„æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:35:38.000Z" title="Wed Jan 07 2026 14:35:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">èƒŒæ™¯æ•…äº‹</h3>
<p>åœ¨é˜…è¯» Django æºç æ—¶ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„å®ç°ç»†èŠ‚ï¼š<code>list()</code> å‡½æ•°åœ¨è½¬æ¢å¯¹è±¡ä¸ºåˆ—è¡¨æ—¶ï¼Œä¼šä¼˜å…ˆè°ƒç”¨å¯¹è±¡çš„ <code>__len__</code> æ–¹æ³•æ¥è·å–é•¿åº¦ä¿¡æ¯ã€‚è¿™ä¸ªä¼˜åŒ–ç­–ç•¥è®©æˆ‘å¯¹ Python çš„å†…ç½®æœºåˆ¶æœ‰äº†æ–°çš„è®¤è¯†ã€‚</p>
<h3 data-id="heading-1">åŸç†è§£æ</h3>
<p><code>list()</code> å‡½æ•°åœ¨å¤„ç†å¯è¿­ä»£å¯¹è±¡æ—¶ï¼Œä¼šå°è¯•è°ƒç”¨ <code>__len__</code> æ–¹æ³•æ¥é¢„å…ˆåˆ†é…å†…å­˜ç©ºé—´ï¼Œè¿™æ ·å¯ä»¥é¿å…åœ¨è¿­ä»£è¿‡ç¨‹ä¸­é¢‘ç¹æ‰©å®¹ï¼Œæé«˜æ€§èƒ½ã€‚è¿™åœ¨ Django çš„ QuerySet å®ç°ä¸­å°¤å…¶é‡è¦ï¼Œå› ä¸ºæ•°æ®åº“æŸ¥è¯¢çš„ç»“æœé›†å¤§å°æ˜¯å·²çŸ¥çš„ã€‚</p>
<h3 data-id="heading-2">éªŒè¯ Demo</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestIterable</span>:
    <span class="hljs-string">"""æµ‹è¯•å¯è¿­ä»£å¯¹è±¡ï¼Œç”¨äºéªŒè¯ list() æ˜¯å¦ä¼šè°ƒç”¨ __len__"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, items</span>):
        self.items = items
        self.len_call_count = <span class="hljs-number">0</span>
        self.iter_call_count = <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""é‡è½½é•¿åº¦æ–¹æ³•ï¼Œè®°å½•è°ƒç”¨æ¬¡æ•°"""</span>
        self.len_call_count += <span class="hljs-number">1</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"__len__ è¢«è°ƒç”¨äº†ç¬¬ <span class="hljs-subst">{self.len_call_count}</span> æ¬¡"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self.items)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""é‡è½½è¿­ä»£æ–¹æ³•ï¼Œè®°å½•è°ƒç”¨æ¬¡æ•°"""</span>
        self.iter_call_count += <span class="hljs-number">1</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"__iter__ è¢«è°ƒç”¨äº†ç¬¬ <span class="hljs-subst">{self.iter_call_count}</span> æ¬¡"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">iter</span>(self.items)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_stats</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è·å–è°ƒç”¨ç»Ÿè®¡"""</span>
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'len_calls'</span>: self.len_call_count,
            <span class="hljs-string">'iter_calls'</span>: self.iter_call_count
        }

<span class="hljs-comment"># éªŒè¯å®éªŒ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_list_len_call</span>():
    <span class="hljs-string">"""éªŒè¯ list() ä¼šè°ƒç”¨ __len__ çš„æµ‹è¯•å‡½æ•°"""</span>
    
    <span class="hljs-comment"># åˆ›å»ºæµ‹è¯•å¯¹è±¡</span>
    test_data = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
    test_obj = TestIterable(test_data)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== å®éªŒå¼€å§‹ï¼šéªŒè¯ list() å¯¹ __len__ çš„è°ƒç”¨ ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŸå§‹æ•°æ®ï¼š<span class="hljs-subst">{test_data}</span>"</span>)
    
    <span class="hljs-comment"># è°ƒç”¨ list() è½¬æ¢</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nè°ƒç”¨ list() è¿›è¡Œè½¬æ¢..."</span>)
    result = <span class="hljs-built_in">list</span>(test_obj)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nè½¬æ¢ç»“æœï¼š<span class="hljs-subst">{result}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è°ƒç”¨ç»Ÿè®¡ï¼š<span class="hljs-subst">{test_obj.get_stats()}</span>"</span>)
    
    <span class="hljs-comment"># éªŒè¯ç»“æœ</span>
    stats = test_obj.get_stats()
    <span class="hljs-keyword">if</span> stats[<span class="hljs-string">'len_calls'</span>] &gt; <span class="hljs-number">0</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nâœ… éªŒè¯æˆåŠŸï¼šlist() ç¡®å®è°ƒç”¨äº† __len__ æ–¹æ³•ï¼"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   __len__ è¢«è°ƒç”¨äº† <span class="hljs-subst">{stats[<span class="hljs-string">'len_calls'</span>]}</span> æ¬¡"</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nâŒ éªŒè¯å¤±è´¥ï¼šlist() æ²¡æœ‰è°ƒç”¨ __len__ æ–¹æ³•"</span>)
    
    <span class="hljs-keyword">if</span> stats[<span class="hljs-string">'iter_calls'</span>] &gt; <span class="hljs-number">0</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"   __iter__ è¢«è°ƒç”¨äº† <span class="hljs-subst">{stats[<span class="hljs-string">'iter_calls'</span>]}</span> æ¬¡"</span>)
    
    <span class="hljs-keyword">return</span> stats[<span class="hljs-string">'len_calls'</span>] &gt; <span class="hljs-number">0</span>

<span class="hljs-comment"># è¿›é˜¶æµ‹è¯•ï¼šä¸åŒé•¿åº¦çš„æ€§èƒ½å¯¹æ¯”</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">performance_comparison</span>():
    <span class="hljs-string">"""ä¸åŒé•¿åº¦å¯¹è±¡çš„æ€§èƒ½å¯¹æ¯”æµ‹è¯•"""</span>
    
    <span class="hljs-keyword">import</span> time
    
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">SizedIterable</span>:
        <span class="hljs-string">"""å¸¦é•¿åº¦çš„å¯è¿­ä»£å¯¹è±¡"""</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, n</span>):
            self.n = n
        
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):
            <span class="hljs-keyword">return</span> self.n
        
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">iter</span>(<span class="hljs-built_in">range</span>(self.n))
    
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">UnsizedIterable</span>:
        <span class="hljs-string">"""ä¸å¸¦é•¿åº¦çš„å¯è¿­ä»£å¯¹è±¡"""</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, n</span>):
            self.n = n
        
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">iter</span>(<span class="hljs-built_in">range</span>(self.n))
    
    <span class="hljs-comment"># æµ‹è¯•ä¸åŒå¤§å°çš„æ•°æ®</span>
    sizes = [<span class="hljs-number">1000</span>, <span class="hljs-number">10000</span>, <span class="hljs-number">100000</span>]
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== æ€§èƒ½å¯¹æ¯”æµ‹è¯• ==="</span>)
    <span class="hljs-keyword">for</span> size <span class="hljs-keyword">in</span> sizes:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næµ‹è¯•æ•°æ®é‡ï¼š<span class="hljs-subst">{size}</span>"</span>)
        
        <span class="hljs-comment"># æµ‹è¯•å¸¦é•¿åº¦çš„å¯¹è±¡</span>
        sized = SizedIterable(size)
        start = time.time()
        <span class="hljs-built_in">list</span>(sized)
        sized_time = time.time() - start
        
        <span class="hljs-comment"># æµ‹è¯•ä¸å¸¦é•¿åº¦çš„å¯¹è±¡</span>
        unsized = UnsizedIterable(size)
        start = time.time()
        <span class="hljs-built_in">list</span>(unsized)
        unsized_time = time.time() - start
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  å¸¦ __len__ çš„å¯¹è±¡ï¼š<span class="hljs-subst">{sized_time:<span class="hljs-number">.6</span>f}</span> ç§’"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  ä¸å¸¦ __len__ çš„å¯¹è±¡ï¼š<span class="hljs-subst">{unsized_time:<span class="hljs-number">.6</span>f}</span> ç§’"</span>)
        <span class="hljs-keyword">if</span> sized_time &lt; unsized_time:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  æ€§èƒ½æå‡ï¼š<span class="hljs-subst">{((unsized_time - sized_time) / unsized_time * <span class="hljs-number">100</span>):<span class="hljs-number">.2</span>f}</span>%"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># è¿è¡ŒåŸºç¡€éªŒè¯</span>
    test_list_len_call()
    
    <span class="hljs-comment"># è¿è¡Œæ€§èƒ½å¯¹æ¯”</span>
    performance_comparison()
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== å®éªŒç»“è®º ==="</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"1. list() å‡½æ•°ç¡®å®ä¼šè°ƒç”¨å¯¹è±¡çš„ __len__ æ–¹æ³•"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"2. è¿™ç§æœºåˆ¶å¯ä»¥é¢„å…ˆåˆ†é…å†…å­˜ï¼Œæé«˜æ€§èƒ½"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"3. åœ¨ Django ç­‰å¤§å‹æ¡†æ¶ä¸­ï¼Œè¿™ç§ä¼˜åŒ–ç‰¹åˆ«é‡è¦"</span>)
</code></pre>
<h3 data-id="heading-3">Django æºç ä¸­çš„åº”ç”¨</h3>
<p>åœ¨ Django çš„ <code>QuerySet</code> ç±»ä¸­ï¼Œè¿™ç§æœºåˆ¶è¢«å¹¿æ³›è¿ç”¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Django æºç ç®€åŒ–ç‰ˆ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">QuerySet</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, model, query</span>):
        self.model = model
        self.query = query
        self._result_cache = <span class="hljs-literal">None</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è·å–æŸ¥è¯¢ç»“æœé•¿åº¦"""</span>
        <span class="hljs-keyword">if</span> self._result_cache <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            <span class="hljs-comment"># æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢è·å–æ•°é‡</span>
            self._result_cache = <span class="hljs-built_in">list</span>(self)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self._result_cache)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è¿­ä»£æŸ¥è¯¢ç»“æœ"""</span>
        <span class="hljs-comment"># æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢å¹¶è¿”å›è¿­ä»£å™¨</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">iter</span>(self.execute_query())
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute_query</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ‰§è¡Œå®é™…çš„æ•°æ®åº“æŸ¥è¯¢"""</span>
        <span class="hljs-comment"># è¿™é‡Œä¼šæ‰§è¡Œ SQL æŸ¥è¯¢å¹¶è¿”å›ç»“æœ</span>
        <span class="hljs-keyword">pass</span>
</code></pre>
<h3 data-id="heading-4">æ€§èƒ½ä¼˜åŒ–åˆ†æ</h3>
<ol>
<li><strong>å†…å­˜é¢„åˆ†é…</strong>ï¼šé€šè¿‡ <code>__len__</code> é¢„å…ˆçŸ¥é“ç»“æœå¤§å°ï¼Œå¯ä»¥ä¸€æ¬¡æ€§åˆ†é…æ­£ç¡®å¤§å°çš„å†…å­˜</li>
<li><strong>é¿å…æ‰©å®¹</strong>ï¼šå‡å°‘äº†åˆ—è¡¨åŠ¨æ€æ‰©å®¹çš„å¼€é”€</li>
<li><strong>æ•°æ®åº“ä¼˜åŒ–</strong>ï¼šåœ¨ Django ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>count()</code> æŸ¥è¯¢å¿«é€Ÿè·å–æ•°é‡è€Œä¸è·å–æ‰€æœ‰æ•°æ®</li>
</ol>
<h3 data-id="heading-5">å®é™…åº”ç”¨å»ºè®®</h3>
<ol>
<li><strong>å®ç° <code>__len__</code> æ–¹æ³•</strong>ï¼šå¦‚æœä½ çš„å¯è¿­ä»£å¯¹è±¡çŸ¥é“é•¿åº¦ï¼Œä¸€å®šè¦å®ç° <code>__len__</code></li>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šå¯¹äºæ˜‚è´µçš„è®¡ç®—ï¼Œå¯ä»¥åœ¨ <code>__len__</code> ä¸­å®ç°ç¼“å­˜</li>
<li><strong>å»¶è¿ŸåŠ è½½</strong>ï¼šåƒ Django ä¸€æ ·ï¼Œå¯ä»¥å»¶è¿Ÿå®é™…æ•°æ®çš„åŠ è½½ç›´åˆ°çœŸæ­£éœ€è¦æ—¶</li>
</ol>
<h3 data-id="heading-6">æ€»ç»“</h3>
<p>è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„æœºåˆ¶èƒŒåï¼Œä½“ç°äº† Python å’Œ Django å¯¹æ€§èƒ½ä¼˜åŒ–çš„æ·±åº¦æ€è€ƒã€‚é€šè¿‡å®ç° <code>__len__</code> æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸ä»…èƒ½è®©ä»£ç æ›´åŠ  Pythonicï¼Œè¿˜èƒ½è·å¾—å®è´¨æ€§çš„æ€§èƒ½æå‡ã€‚è¿™åœ¨å¤„ç†å¤§æ•°æ®é›†æˆ–æ•°æ®åº“æŸ¥è¯¢æ—¶å°¤å…¶é‡è¦ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java ç»„é•¿å¹´ç»ˆæ€»ç»“ï¼šé  AI ææ•ˆ 50%ï¼Œ25 å¹´æå‰¯ä¸šåªèµš 4kï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592431064976949263</link>    <guid>https://juejin.cn/post/7592431064976949263</guid>    <pubDate>2026-01-07T14:42:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592431064976949263" data-draft-id="7591942733366607906" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Java ç»„é•¿å¹´ç»ˆæ€»ç»“ï¼šé  AI ææ•ˆ 50%ï¼Œ25 å¹´æå‰¯ä¸šåªèµš 4kï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,ç¨‹åºå‘˜,Trae"/> <meta itemprop="datePublished" content="2026-01-07T14:42:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå‰é€€ä¼‘çš„javaçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/465848660928872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Java ç»„é•¿å¹´ç»ˆæ€»ç»“ï¼šé  AI ææ•ˆ 50%ï¼Œ25 å¹´æå‰¯ä¸šåªèµš 4kï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848660928872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå‰é€€ä¼‘çš„javaçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T14:42:54.000Z" title="Wed Jan 07 2026 14:42:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<blockquote>
<p>å¤§å®¶å¥½ï¼æˆ‘æ˜¯ [<a href="https://juejin.cn/user/465848660928872" target="_blank" title="https://juejin.cn/user/465848660928872">æå‰é€€ä¼‘çš„ java çŒ¿</a>]ï¼Œä¸€åæ‘¸çˆ¬æ»šæ‰“ 7 å¹´çš„ Java å¼€å‘ç»„é•¿ï¼Œæ—¥å¸¸ä¸»æ‰“ä¸€ä¸ªã€Œ5 ç‚¹å‡†æ—¶ä¸‹ç­ã€ï¼ˆæ¨¡æ‹Ÿé¢è¯•ã€ç®€å†ä¼˜åŒ–è¿˜åœ¨æ¥ï¼Œéšæ—¶ @ğŸ˜‰ï¼‰</p>
</blockquote>
<p>å‡ºæ¥å¹´ç»ˆæ€»ç»“äº†ï¼ä»Šå¤©ä¸èŠæŠ€æœ¯å¹²è´§ï¼Œåªå” å”  25 å¹´çš„ã€Œå‰¯ä¸šè¡€æ³ªå²ã€å’Œã€ŒAI å¯¹æˆ‘çš„æš´å‡»æ”¹å˜ã€</p>
<h2 data-id="heading-1">25å¹´ æˆ‘çš„é¢å¤–æ”¶å…¥</h2>
<p>å…³æ³¨æˆ‘çš„éƒ½çŸ¥é“ï¼Œæˆ‘ç›®å‰çš„å·¥ä½œç®—æ˜¯æ¯”è¾ƒè½»æ¾å§ï¼Œ25å¹´å‡ ä¹éƒ½æ˜¯5ç‚¹å‡†æ—¶ä¸‹ç­ğŸ˜ è¿™ä¸€å¹´æˆ‘æœ‰å¾ˆå¤šæ—¶é—´å»æ€è€ƒå»å°è¯•ã€‚
è¿™ä¸€å¹´èŠ±äº†å¾ˆå¤šæ—¶é—´å†™åšå®¢ã€åšè‡ªåª’ä½“ã€ä¹Ÿå¼€è¿‡å‡ æ¬¡ç›´æ’­ã€å¶å°”ä¹Ÿåœ¨æ¥æ¨¡æ‹Ÿé¢è¯•ã€ç®€å†ä¼˜åŒ–ç­‰æœ‰å¿æœåŠ¡ã€‚</p>
<p>åšå®¢å’Œè‡ªåª’ä½“èŠ±çš„æ—¶é—´æ¯”è¾ƒå¤šï¼Œåšå®¢å†™äº†60ç¯‡ï¼ˆæœ€é«˜é˜…è¯»4wï¼‰ã€è§†é¢‘114ä¸ªï¼ˆæœ€é«˜æ’­æ”¾27wï¼‰ã€‚åšè¿™äº›å†…å®¹ä¹ŸèŠ±äº†ä¸å°‘æ—¶é—´ï¼Œä½†æ˜¯æ”¶ç›Šå˜›éå¸¸çš„å°‘ åšå®¢+è‡ªåª’ä½“+æ¨¡æ‹Ÿé¢è¯• ä¸€å…±ä¹Ÿåªæœ‰4000RMBå§ğŸ˜­ã€‚è¿˜ä¸å¦‚å¤šä¹°å‡ ä¸‡åŸºé‡‘å‘¢ï¼Œå»å¹´çš„åŸºé‡‘æ”¶ç›Šç‡è¿˜ä¸é”™33ä¸ªç‚¹ï¼ˆä¹°çš„ä¸å¤šä¸åˆ°6ä½æ•°ğŸ˜‚ï¼‰ã€‚</p>
<h2 data-id="heading-2">25å¹´AIå¯¹æˆ‘å½±å“</h2>
<p>25å¹´å¯¹æˆ‘ä»¥åŠå¯¹æ‰€æœ‰çš„ç¨‹åºå‘˜éƒ½æ˜¯éå¸¸é‡è¦çš„ä¸€å¹´ï¼Œè¿™ä¸€å¹´çœŸçš„æ€èµ·äº†AI ç¼–ç¨‹æµªæ½®ï¼ŒAIæŠ€æœ¯çš„é©å‘½ï¼Œæœ‰äº›ç¨‹åºå‘˜å€ŸåŠ©è¿™æ³¢æŠ€æœ¯é©å‘½ <code>ALL IN</code> ä¸€äººå…¬å¸ï¼Œåšç‹¬ç«‹å¼€å‘ã€‚ä¹Ÿæœ‰å¾ˆå¤šç¨‹åºå‘˜æ‹¥æŠ±AI æŠ€æœ¯æ¡†æ¶è·³æ§½æ¶¨è–ªçš„ï¼Œä¹Ÿæœ‰äººåˆ©ç”¨AIå·¥å…·åšå†…å®¹å˜ç°çš„ï¼Œè€Œæˆ‘åªæ˜¯ç”¨äº†AI IDE å¸®æˆ‘æé«˜å·¥ä½œæ•ˆç‡ï¼Œå­¦ä¹ æ•ˆç‡ã€‚</p>
<p>æ‰€ä»¥è¿™ä¸€å¹´AIçš„æŠ€æœ¯é©å‘½ï¼ŒAI ç¼–ç¨‹å¯¹æˆ‘æ¥è¯´æ˜¯æ²¡æœ‰ç›´æ¥ç»™æˆ‘å¸¦æ¥é¢å¤–çš„æ”¶å…¥çš„ğŸ˜‚ã€‚å¯¹æˆ‘çš„ç›´æ¥å½±å“å°±æ˜¯å·¥ä½œæ•ˆç‡çš„äººæå‡ä»¥åŠæœªæ¥</p>
<h3 data-id="heading-3">æˆ‘æ˜¯å¦‚ä½•ç”¨ä¸ŠTrae AI</h3>
<p>æˆ‘ç®—æ˜¯æ˜é‡‘æ·±åº¦æ´»è·ƒç”¨æˆ·äº†ï¼Œ24å¹´çš„æ—¶å€™æ˜é‡‘åœ¨æ¨å¹¿<code>MarsCode</code>æ’ä»¶çš„æ—¶å€™ï¼Œæˆ‘å°±å“åº”å¹³å°å·å¬åœ¨IDEAä¸­ä¸‹è½½ä½“éªŒäº†ã€‚25å¹´çš„æ˜¥èŠ‚å‰å°±åœ¨æ˜é‡‘ä¸Šå…³æ³¨åˆ°traeæœ‰ä½“éªŒç‰ˆå¯ä»¥é¢„çº¦ä½¿ç”¨ï¼Œå¹´åæˆ‘å°±ç”¨ä¸Šäº†ã€‚</p>
<p>è¯´å®è¯å½“æ—¶å¯¹javaçš„æ”¯æŒè¿˜ä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ‰“å¼€å·¥ç¨‹å…¨æ˜¯çº¢è‰²è­¦å‘Šã€‚è€Œä¸”ç‚¹å‡»æ–¹æ³•ç±»åä¹Ÿæ— æ³•è·³è½¬ã€‚ä½†æ˜¯å†™å‡ºæ¥çš„ä»£ç è¿˜è¡Œï¼Œæ¯”åœ¨ <code>idea</code> ä¸­å®‰è£…çš„ <code>MarsCode</code> å¥½å¾ˆå¤šï¼Œå› ä¸ºå¯¹å·¥ç¨‹çš„ç†è§£èƒ½åŠ›è¿˜è¡Œï¼Œèƒ½ç›´æ¥å¯¹å·¥ç¨‹çš„å¤šä¸ªæ–‡ä»¶è¿›è¡Œç›´æ¥ä¿®æ”¹ï¼Œå°±æ˜¯cursorçš„æ€§ä»·æ¯”ç‰ˆæœ¬ã€‚åæ¥ä¹Ÿæ˜¯ä¸€ç›´ç”¨ç€ä¹Ÿæ˜¯è§è¯äº†TRAEä¸€ä¸¤å¤©ä¸€æ›´æ–°çš„é«˜é¢‘å‘ç‰ˆï¼Œä¹Ÿæ˜¯è§è¯äº†å®ƒçš„æˆé•¿å†ç¨‹å§ï¼</p>
<h3 data-id="heading-4">TRAEå¯¹æˆ‘çš„å¸®åŠ©</h3>
<p>ä½ ä»¬å¯èƒ½ä¼šè¯´å¦‚æœæˆ‘ç”¨<code>Cursor</code>å¯¹æˆ‘çš„å¸®åŠ©å¯èƒ½æ›´å¤§ï¼Œè¿™ä¸ªæˆ‘ä¹Ÿä¸å¦è®¤ã€‚å› ä¸ºæˆ‘ç¡®å®æ²¡æœ‰ç”¨è¿‡ <code>cursor</code> å»å†™æˆ‘çš„å®é™…é¡¹ç›®ã€‚ä½†æ˜¯TRAEå›½é™…ä»˜è´¹ç‰ˆï¼Œæ˜¯èƒ½æ»¡è¶³æˆ‘ç›®å‰å®é™…å¼€å‘éœ€æ±‚çš„ï¼Œå¹¶ä¸”ä»·æ ¼ä¹Ÿç›¸å¯¹æ¥è¯´ä½ä¸€äº›ã€‚</p>
<p>å› ä¸ºåç«¯å’Œå‰ç«¯ä¸ä¸€æ ·ï¼ŒAIåœ¨å¸®ä½ å®Œæˆéœ€æ±‚çš„æ—¶å€™ï¼Œä½ è¿˜æ˜¯éœ€è¦å’ŒAIæ²Ÿé€šä½ çš„éœ€æ±‚æˆ–è€…è¯´å®ç°çš„é€»è¾‘ï¼Œåªè¦æˆ‘ä»¬æè¿°æ¸…æ¥šçš„é€»è¾‘æˆ–è€…ä¸šåŠ¡éœ€æ±‚ï¼Œtrea ç»™æˆ‘çš„ä»£åŸºæœ¬ä¸Šéƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œåªæ˜¯åœ¨ä»£ç å®ç°çš„é€»è¾‘æœ‰æ—¶å€™éœ€è¦ä¼˜åŒ–ï¼ŒäºŒæ¬¡æ²Ÿé€šä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p>
<p>æ‰€ä»¥ä»Šå¹´çš„Trae å¯¹æˆ‘çš„å¼€å‘æ•ˆç‡å¹³å‡æé«˜50%ï¼Œå¸®æˆ‘å®Œæˆäº†ä¸¤ä¸ªé‡éš¾ç‚¹é¡¹ç›®çš„æ”»åšå·¥ä½œï¼Œè®©æˆ‘è½»æ¾ä¸å°‘ğŸ§˜â€â™€ï¸ã€‚åŒæ—¶åœ¨ä»£ç ä¼˜åŒ–ä¸Šé¢ä¹Ÿç»™æˆ‘çœäº†ä¸å°‘çš„å·¥ä½œé‡ï¼Œæ¯”å¦‚ä»£ç æ³¨é‡Šå®Œå–„ã€ä»£ç ç»“æœçš„è°ƒæ•´ã€å…¬å…±æ–¹æ³•çš„å°è£…ã€æ–¹æ¡ˆçš„è°ƒä¼˜ã€‚ä»¥å‰è¿™äº›å·¥ä½œéƒ½å¾—è‡ªå·±æ‰‹åŠ¨è°ƒæ•´ï¼Œè°ƒæ•´ä¹‹åè¿˜å®¹æ˜“å‡ºé—®é¢˜ï¼Œä»Šå¹´éƒ½æ˜¯ Trae å¸®æˆ‘è‡ªåŠ¨åŒ–å¤„ç†äº†ã€‚</p>
<p>é™¤äº†å¼€å‘æ•ˆç‡çš„æå‡ä¸Šé¢ï¼Œå¯¹è‡ªå·±çš„å­¦ä¹ æ•ˆç‡ä¹Ÿæå‡äº†ä¸å°‘ã€‚ä»æ¡†æ¶æºç çš„é˜…è¯»ï¼Œåˆ°æŠ€æœ¯åšå®¢çš„ç¼–å†™ä»¥åŠæ²¡æœ‰ç”¨çš„æŠ€æœ¯æ¡†æ¶çš„é›†æˆä½¿ç”¨è¿™äº›æ–¹é¢ä¹Ÿéƒ½å¸®äº†æˆ‘ä¸å°‘å¿™ğŸ‘</p>
<p>ä»¥å‰åœ¨å®é™…å¼€å‘ä¸­ï¼ŒåŸºæœ¬ä¸Šä¸ä¼šç”¨å•¥ç®—æ³•ï¼Œç°åœ¨<code>vibe coding</code>ç¯å¢ƒä¸‹é¢ï¼Œä¸šåŠ¡ä»£ç ä¹Ÿèƒ½å®Œç¾å°†ç®—æ³•èå…¥è¿›æ¥äº†å“ˆå“ˆğŸ˜ çœ‹ä¸æ‡‚çš„æˆ‘å°±ç®¡ä¸äº†é‚£ä¹ˆå¤šäº†ğŸŒš</p>
<h3 data-id="heading-5">TRAEæ”¹å˜äº†æˆ‘26å¹´çš„è®¡åˆ’</h3>
<p>è¿™æ ·ä¸€å¹´æ˜æ˜¾èƒ½æ„Ÿå—åˆ°<code>TRAE</code>çš„é«˜é€Ÿå‘å±•ï¼Œèƒ½æ„Ÿå—åˆ°<code>AI ç¼–ç¨‹</code>çš„å‘å±•é€Ÿåº¦ä¹‹ææ€–ã€‚æ‰€ä»¥æˆ‘å¯¹æœªæ¥çš„è®¡åˆ’ä¹Ÿåœ¨è°ƒæ•´ï¼Œæˆ‘æƒ³åˆ©ç”¨AI åˆ©ç”¨TRAE åšå…¨æ ˆç ”å‘äº†ã€‚</p>
<blockquote>
<p>å…¶å®æˆ‘ç¬¬ä¸€ä»½å·¥ä½œå°±æ˜¯åš <code>NodeJs</code> å…¨æ ˆå¼€å‘çš„ï¼ŒğŸ˜æ²¡æƒ³åˆ°å§ï¼Œæˆ‘ä¸€ä¸ªjavaåšä¸»æœ€å¼€å§‹å®é™…ä¸Šæ˜¯Nodeå…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆã€‚</p>
</blockquote>
<p><strong>ä¸ºä»€ä¹ˆç°åœ¨æƒ³è½¬å…¨æ ˆäº†</strong>â“<br/>
å› ä¸ºä»Šå¹´ç”¨äº†<code>TRAE AI IDE</code>ç¼–ç¨‹å•Šï¼Œåšå…¨æ ˆç ”å‘çš„å¼€å‘æ•ˆç‡ï¼Œå¼€å‘æˆæœ¬ä¼šå†æ¬¡é™ä½ã€‚å¯¹äºç‹¬ç«‹å¼€å‘è€…æ¥è¯´çœŸçš„æ˜¯å¤©å¤§çš„å¥½äº‹å•ŠğŸš€<br/>
26å¹´æˆ‘ä¹Ÿæƒ³å°è¯•åšç‹¬ç«‹å¼€å‘ğŸƒï¼šâ€œå…„å¼Ÿä»¬æœ‰å•å­å—ï¼Ÿç»™é’±å°±åšâ€</p>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p><strong>25å¹´</strong>ï¼Œæ˜¯ã€Œè¯•æ°´å‰¯ä¸šã€è¸©å‘æˆé•¿ã€çš„ä¸€å¹´ï¼›ä¹Ÿæ˜¯ã€Œè¢« AI é¢ è¦†è®¤çŸ¥ã€çš„ä¸€å¹´ â€”â€” æ²¡é  AI èµšå‰¯ä¸šé’±ï¼Œä½†é å®ƒæ•‘äº†å·¥ä½œæ•ˆç‡ã€‚</p>
<p><strong>26å¹´</strong>ï¼Œä¾ç„¶æ²¡æœ‰æ‰¾åˆ°è‡ªå·±åšå®šè¦åšçš„æ–¹å‘ï¼Œé‚£å°±å¤§èƒ†å°è¯•å§ï¼šç”¨ TRAE åšå…¨æ ˆç‹¬ç«‹å¼€å‘ï¼ŒæŠŠã€Œ5 ç‚¹ä¸‹ç­ã€çš„æ—¶é—´ï¼Œæ¢æˆã€Œè‡ªå·±è¯´äº†ç®—çš„æ”¶å…¥ã€ğŸ’ªï¼</p>
<p>æœ€åï¼Œæƒ³é—®å…„å¼Ÿä»¬ä¸€ä¸ªé—®é¢˜ï¼šä½ ä»¬26 å¹´æœ‰æ²¡æœ‰å•¥å°ç›®æ ‡ï¼Ÿè¯„è®ºåŒºå” å” ï½ä½ å¥½ï¼Œ2026ï¼æ„¿æˆ‘ä»¬éƒ½èƒ½é æŠ€æœ¯ã€é è¶‹åŠ¿ï¼Œèµšæ›´å¤šçš„é’±ï¼Œæ‘¸æ›´çˆ½çš„é±¼ğŸ¤</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nano Banana API æ¥äº†ï¼šä¸åˆ°åŠä»·äº«å®˜æ–¹åŒæ¬¾å“è´¨ï¼Œä»…éœ€çº¦ Â¥0.10/å¼ ï¼]]></title>    <link>https://juejin.cn/post/7592276645361926144</link>    <guid>https://juejin.cn/post/7592276645361926144</guid>    <pubDate>2026-01-07T13:08:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592276645361926144" data-draft-id="7592531796039696418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nano Banana API æ¥äº†ï¼šä¸åˆ°åŠä»·äº«å®˜æ–¹åŒæ¬¾å“è´¨ï¼Œä»…éœ€çº¦ Â¥0.10/å¼ ï¼"/> <meta itemprop="keywords" content="API"/> <meta itemprop="datePublished" content="2026-01-07T13:08:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å´”åº†æ‰ä¸¨é™è§…"/> <meta itemprop="url" content="https://juejin.cn/user/1521379821230269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nano Banana API æ¥äº†ï¼šä¸åˆ°åŠä»·äº«å®˜æ–¹åŒæ¬¾å“è´¨ï¼Œä»…éœ€çº¦ Â¥0.10/å¼ ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379821230269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å´”åº†æ‰ä¸¨é™è§…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T13:08:34.000Z" title="Wed Jan 07 2026 13:08:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘è¢«è°·æ­Œæ–°å‘å¸ƒçš„ <strong>Nano Bananaï¼ˆGemini 2.5 Flash Imageï¼‰å›¾åƒç”Ÿæˆæ¨¡å‹</strong> éœ¸å±äº†ã€‚</p>
<p>ä»æ‰‹åŠç§’å˜çœŸäººçº§ Cosplayï¼Œåˆ°ä¸€é”®ç»Ÿä¸€å¤šå›¾é£æ ¼ï¼Œä»ä¸ªæ€§åŒ–å¤´åƒåˆ°äº§å“æ¦‚å¿µè®¾è®¡ï¼Œç”šè‡³è¿é™æ€ç”»ä½œéƒ½èƒ½ä¸€é”®ç”Ÿæˆç”µå½±çº§åŠ¨æ€åˆ†é•œâ€”â€”è¿™æ³¢ AI ç”Ÿå›¾æµªæ½®ï¼ŒçœŸçš„åœ¨é‡æ–°å®šä¹‰åˆ›ä½œï¼</p>
<p>Ace Data Cloud å¹³å° <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud" target="_blank" title="https://platform.acedata.cloud" ref="nofollow noopener noreferrer">platform.acedata.cloud</a> ç°ä¹Ÿæ¨å‡º <strong>Nano Banana API</strong>ï¼šä»·æ ¼ï¼šçº¦ Â¥0.10/å¼ ï¼Œæˆæœ¬ç›¸æ¯”å®˜æ–¹ç›´æ¥çœä¸€åŠï¼Œæ€§èƒ½æ•ˆæœæ¯«ä¸æ‰“æŠ˜ã€‚æ˜¯æ›´å¿«ã€æ›´ç¨³ã€æ›´çœé’±çš„å›¾ç‰‡ç”Ÿäº§çº¿</p>
<h2 data-id="heading-0">Nano Banana å¼ºåœ¨å“ªï¼Ÿ</h2>
<p>å®ƒæœ€å‰å®³çš„åœ°æ–¹ï¼Œæ˜¯èƒ½è½»æ¾å®ç° <strong>é«˜ç²¾åº¦çš„ä¸€è‡´æ€§ç”Ÿæˆ</strong>ã€‚
æ— è®ºæ˜¯æ¢èƒŒæ™¯ã€æ”¹é£æ ¼ã€è°ƒè¡¨æƒ…ï¼Œè¿˜æ˜¯å¤„ç†å¤æ‚åŠ¨ä½œä¸æœè£…ï¼Œè¿‡æ¸¡éƒ½éå¸¸è‡ªç„¶ï¼Œæ•ˆæœé«˜åº¦ç»Ÿä¸€ï¼Œå‡ ä¹çœ‹ä¸å‡º AI ç”Ÿæˆçš„ç—•è¿¹ï¼</p>
<h2 data-id="heading-1">è¶…å®ç”¨çš„ç©æ³•ç¤ºä¾‹</h2>
<h3 data-id="heading-2">1. 2D å›¾ç‰‡è½¬ 3D æ‰‹åŠ</h3>
<p>å½“å‰æœ€ç«çš„å‡ºåœˆç©æ³•ï¼</p>
<p><strong>æŒ‡ä»¤</strong>ï¼šç”Ÿæˆä¸€å¹…å›¾ç‰‡ä¸­è§’è‰²çš„å•†å“åŒ–æ¨¡å‹ï¼Œç¯å¢ƒå†™å®ã€‚æ¨¡å‹æ”¾ç”µè„‘æ¡Œä¸Šï¼Œä½¿ç”¨åœ†å½¢äºšå…‹åŠ›åº•åº§ã€‚ç”µè„‘å±å¹•æ˜¾ç¤ºå»ºæ¨¡è¿‡ç¨‹ï¼Œæ—è¾¹æ”¾ç½®å°æœ‰åŸå›¾çš„ BANDAI åŒ…è£…ç›’ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4388ec619e746349a550c3460f786f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396113&amp;x-signature=d1WEgwJGJhNHbe44gqtPXK9ynU8%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">2. äº§å“å†…éƒ¨ç»“æ„è§£æ</h3>
<p><strong>æç¤ºè¯</strong>ï¼šè¶…è¯¦ç»†çš„äº§å“çˆ†ç‚¸è§†å›¾ï¼Œé‡‘å±é›¶ä»¶å’Œç”µå­å…ƒä»¶æ¼‚æµ®åœ¨åŠç©ºä¸­ï¼Œå®Œç¾æ’åˆ—ï¼Œæ­ç¤ºå†…éƒ¨ç»“æ„ï¼Œæœªæ¥ä¸»ä¹‰æŠ€æœ¯ç¾å­¦ï¼Œ8K åˆ†è¾¨ç‡ï¼ŒæŸ”å’Œçš„ç”µå½±ç…§æ˜ï¼Œé«˜åº¦é€¼çœŸã€‚èƒŒæ™¯æ˜¯çº¯ç™½è‰²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16aeb5715a7148ce9e79af69ba26bb46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396113&amp;x-signature=FWLPezT590JP6PCDryMtv1ilmzk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">3. è€ç…§ç‰‡ä¿®å¤</h3>
<p><strong>æç¤ºè¯</strong>ï¼šè¯·ä¿®å¤è¿™å¼ å……æ»¡åˆ’ç—•çš„é»‘ç™½è€ç…§ç‰‡ã€‚ç§»é™¤æ‰€æœ‰æ±¡ç‚¹å’Œç ´æŸï¼Œå¤§å¹…æå‡æ¸…æ™°åº¦ï¼Œå¹¶è¿›è¡Œè‡ªç„¶ã€é€¼çœŸçš„ä¸Šè‰²ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00a9f4b1f3ce4b25bb88347544cb5ff0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396113&amp;x-signature=9x5k0XDJaIX8dNSDKEJFWqBxgIE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">4. å¤šå…ƒç´ ç»„å›¾ / ç”µå•†äº§å“æ¤å…¥</h3>
<p><strong>æç¤ºè¯</strong>ï¼šä¸€ä½æ¨¡ç‰¹ç«™åœ¨ä¸€è¾†ç™½è‰²çš„è½¦å‰é¢æ‘†æ‹ï¼Œåœºæ™¯ä¸ºè¡—åŒºè·¯é¢ï¼Œä¸¤è¾¹æ˜¯å»ºç­‘ã€‚å¥¹ç©¿ç€é»‘è‰²è¿è¡£è£™å’Œç™½è‰²é«˜è·Ÿé‹ï¼Œä¸€æ‰‹æ‹ç€ç™½è‰²çš„åŒ…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4be6f4a969e49e7ba35fb95b114e0fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396113&amp;x-signature=OFs2BOGP7J3x%2BTT0vZ3BNMo3ih8%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰æ›´å¤šå®ç”¨åœºæ™¯ï¼šä¸€é”®æ¢è£…/æ¢è¡¨æƒ…/æ¢åŠ¨ä½œã€å¤šè§’åº¦é•œå¤´ã€äººç‰©åˆå½±ã€è¡¨æƒ…åŒ…ä¹å®«æ ¼ã€æ¨¡ç‰¹ OOTD æœè£…å¹³é“ºå±•ç¤ºã€æ‰‹ç¨¿è½¬ 3D å®ç‰©å›¾ã€å»ºç­‘ç­‰è½´æµ‹å»ºæ¨¡ã€åœ°å›¾è½¬å®æ™¯è§£æâ€¦â€¦ç»Ÿç»Ÿéƒ½èƒ½é«˜æ•ˆå®Œæˆï¼</p>
<p>åœ¨å±•ç¤ºäº† Nano Banana å¦‚æ­¤å¤šä»¤äººæƒŠè‰³çš„ç©æ³•ä¹‹åï¼Œä½ å¯èƒ½ä¼šæƒ³ï¼šè¿™ä¹ˆå¼ºå¤§çš„èƒ½åŠ›ï¼Œæ¥å…¥èµ·æ¥ä¸€å®šå¾ˆå¤æ‚ï¼Œæˆæœ¬ä¹Ÿå¾ˆéš¾æ§åˆ¶å§ï¼Ÿ
æ— è®ºæ˜¯ AI äº§å“çš„å¼€å‘è€…æƒ³è¦å¿«é€Ÿé›†æˆï¼Œè¿˜æ˜¯ä¸ªäººç”¨æˆ·å¸Œæœ›ç›´æ¥ä½“éªŒï¼ŒAce Data Cloud éƒ½è®©è¿™ä¸€åˆ‡å˜å¾—ç®€å•ã€å¯æ§ä¸”ç»æµã€‚</p>
<h2 data-id="heading-6">ä»·æ ¼</h2>
<p>è¯´åˆ°ä»·æ ¼ï¼ŒAce Data Cloud ç»å¯¹æ˜¯ä½ çš„æ€§ä»·æ¯”ä¹‹é€‰ï¼š</p>
<ul>
<li>Google å®˜æ–¹ï¼šçº¦ç¾å…ƒ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.039</mn><mi mathvariant="normal">/</mi><mtext>å¼ ï¼ŒæŒ‰</mtext></mrow><annotation encoding="application/x-tex">0.039/å¼ ï¼ŒæŒ‰ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.039/</span><span class="mord cjk_fallback">å¼ ï¼ŒæŒ‰</span></span></span></span></span>1 â‰ˆ Â¥7.2 è®¡ç®—ï¼Œäººæ°‘å¸å¤§çº¦ Â¥0.28/å¼ ã€‚</li>
<li>AceDataCloudï¼šç»Ÿä¸€ Â¥0.10/å¼ ã€‚</li>
</ul>
<p>å¦å¤–å¹¶å‘æ”¯æŒæ›´å®½è£•ï¼Œå“åº”æ›´ç¨³å®šï¼Œæä¾›ä¸“å±å®¢æœï¼Œ7Ã—24 å°æ—¶å¯ç”¨æ€§ä¿éšœï¼Œå…·ä½“ä»·æ ¼ä¸é…é¢è¯·è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud%2Fservices%2Fnano-banana" target="_blank" title="https://platform.acedata.cloud/services/nano-banana" ref="nofollow noopener noreferrer">platform.acedata.cloud/services/naâ€¦</a>ã€‚</p>
<h2 data-id="heading-7">å¿«é€Ÿæ¥å…¥ï¼Œç«‹å³ä½“éªŒé«˜å“è´¨ä½æˆæœ¬å›¾åƒç”Ÿæˆï¼</h2>
<p>æˆ‘ä»¬æä¾›ç®€æ´çš„ API å’Œå®Œæ•´çš„å¼€å‘æ–‡æ¡£ï¼ŒåŠ©ä½ å¿«é€Ÿé›†æˆåˆ°æ—¢æœ‰å·¥ä½œæµæˆ–æ–°äº§å“ã€‚</p>
<ul>
<li>å¼€å‘é›†æˆæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud%2Fdocuments%2Fnano-banana-images-integration" target="_blank" title="https://platform.acedata.cloud/documents/nano-banana-images-integration" ref="nofollow noopener noreferrer">platform.acedata.cloud/documents/nâ€¦</a></li>
<li>ç«‹å³è´­ä¹°ä¸ä½¿ç”¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud%2Fservices%2Fnano-banana" target="_blank" title="https://platform.acedata.cloud/services/nano-banana" ref="nofollow noopener noreferrer">platform.acedata.cloud/documents/nâ€¦</a></li>
<li>æŠ€æœ¯æ”¯æŒä¸å’¨è¯¢ï¼šéšæ—¶è”ç³»æˆ‘ä»¬çš„æŠ€æœ¯å›¢é˜Ÿï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud%2Fsupport" target="_blank" title="https://platform.acedata.cloud/support" ref="nofollow noopener noreferrer">platform.acedata.cloud/support</a></li>
</ul>
<p>ä¸‹é¢æ˜¯æ ·ä¾‹è°ƒç”¨è¯´æ˜ï¼Œè½»æ¾ä¸€ä¸ª API å°±èƒ½å¾—åˆ°ä½ æƒ³è¦çš„æ•ˆæœï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -X POST <span class="hljs-string">'https://api.acedata.cloud/nano-banana/images'</span> \
  -H <span class="hljs-string">'authorization: Bearer {token}'</span> \
  -H <span class="hljs-string">'accept: application/json'</span> \
  -H <span class="hljs-string">'content-type: application/json'</span> \
  -d <span class="hljs-string">'{
    "action": "generate",
    "prompt": "A photorealistic close-up portrait of an elderly Japanese ceramicist with deep, sun-etched wrinkles and a warm, knowing smile. He is carefully inspecting a freshly glazed tea bowl. The setting is his rustic, sun-drenched workshop. The scene is illuminated by soft, golden hour light streaming through a window, highlighting the fine texture of the clay. Captured with an 85mm portrait lens, resulting in a soft, blurred background (bokeh). The overall mood is serene and masterful. Vertical portrait orientation."
  }'</span>
</code></pre>
<p>è¿”å›ç»“æœï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"success"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"task_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"056f0589-a3dd-4ec2-8440-ad61f5038dfa"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"c48de83f-0077-426e-b02b-ff1d58179064"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A photorealistic close-up portrait of an elderly Japanese ceramicist with deep, sun-etched wrinkles and a warm, knowing smile. He is carefully inspecting a freshly glazed tea bowl. The setting is his rustic, sun-drenched workshop. The scene is illuminated by soft, golden hour light streaming through a window, highlighting the fine texture of the clay. Captured with an 85mm portrait lens, resulting in a soft, blurred background (bokeh). The overall mood is serene and masterful. Vertical portrait orientation."</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"image_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://platform.cdn.acedata.cloud/nanobanana/69790adb-c85d-4362-ad9e-0c9ba4352cf4.png"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å…¶ä¸­ image_url å°±æ˜¯ Nano Banana ç”Ÿæˆçš„çš„å›¾ç‰‡ï¼Œæ°¸ä¹…å¯è®¿é—®ã€‚</p>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>å¥½äº†ï¼Œä»¥ä¸Šå°±æ˜¯ Ace Data Cloud çš„ Nano Banana API çš„ä»‹ç»ï¼Œå¿«æ¥è¯•è¯•å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GDAL å®ç°æ•°æ®ç©ºé—´æŸ¥è¯¢]]></title>    <link>https://juejin.cn/post/7592438587389591590</link>    <guid>https://juejin.cn/post/7592438587389591590</guid>    <pubDate>2026-01-07T13:14:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592438587389591590" data-draft-id="7592424951661346842" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GDAL å®ç°æ•°æ®ç©ºé—´æŸ¥è¯¢"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T13:14:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GISä¹‹è·¯"/> <meta itemprop="url" content="https://juejin.cn/user/4346787284915481"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GDAL å®ç°æ•°æ®ç©ºé—´æŸ¥è¯¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4346787284915481/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GISä¹‹è·¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T13:14:45.000Z" title="Wed Jan 07 2026 13:14:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">^Â å…³æ³¨æˆ‘ï¼Œå¸¦ä½ ä¸€èµ·å­¦GISÂ ^</h2>
<h2 data-id="heading-1">å‰è¨€</h2>
<blockquote>
<p>â</p>
<p>åœ¨GISå¼€å‘ä¸­ï¼Œç©ºé—´æŸ¥è¯¢å’Œå±æ€§æŸ¥è¯¢éƒ½æ˜¯å¸¸è§çš„åŸºç¡€æ“ä½œï¼Œæ˜¯æ¯ä¸€ä¸ªGISeréƒ½è¦æŒæ¡çš„å¿…å¤‡æŠ€èƒ½ã€‚å®ç°é«˜æ•ˆçš„æ•°æ®æŸ¥è¯¢åŠŸèƒ½å¯ä»¥æå‡ç”¨æˆ·ä½“éªŒï¼Œæå‡æ•°æ®å¯è§†åŒ–æ•ˆç‡ã€‚</p>
</blockquote>
<p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­è®²äº†å¦‚ä½•ä½¿ç”¨<code>GDAL</code>æˆ–è€…<code>ogr2ogr</code>å·¥å…·å°†<code>txt</code>ä»¥åŠ<code>csv</code>æ–‡æœ¬æ•°æ®è½¬æ¢ä¸º<code>Shp</code>æ ¼å¼ï¼Œæœ¬ç¯‡æ•™ç¨‹åœ¨ä¹‹å‰ä¸€ç³»åˆ—æ–‡ç« çš„åŸºç¡€ä¸Šè®²è§£å¦‚ä½•ä½¿ç”¨<strong>GDALå®ç°æ•°æ®ç©ºé—´æŸ¥è¯¢åŠŸèƒ½</strong>ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQtb_BJw91nKrFMeoa7WcxA" target="_blank" title="https://mp.weixin.qq.com/s/Qtb_BJw91nKrFMeoa7WcxA" ref="nofollow noopener noreferrer">GDAL ç®€ä»‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFLWfZItLj24JYicQEX-PbQ" target="_blank" title="https://mp.weixin.qq.com/s/FLWfZItLj24JYicQEX-PbQ" ref="nofollow noopener noreferrer">GDAL ä¸‹è½½å®‰è£…</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fu0539e3CM2q4Y3MbMxxZKQ" target="_blank" title="https://mp.weixin.qq.com/s/u0539e3CM2q4Y3MbMxxZKQ" ref="nofollow noopener noreferrer">GDAL å¼€å‘èµ·æ­¥</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0DGoC0oFHizJbweBnEvI-g" target="_blank" title="https://mp.weixin.qq.com/s/0DGoC0oFHizJbweBnEvI-g" ref="nofollow noopener noreferrer">GDAL å®ç° GIS æ•°æ®è¯»å–è½¬æ¢ï¼ˆå…¨ï¼‰</a></li>
</ul>
<p>å¦‚æœä½ è¿˜æ²¡æœ‰çœ‹è¿‡ï¼Œå»ºè®®ä»ä»¥ä¸Šå†…å®¹å¼€å§‹ã€‚</p>
<h2 data-id="heading-2">1. å¼€å‘ç¯å¢ƒ</h2>
<p>æœ¬æ–‡ä½¿ç”¨å¦‚ä¸‹å¼€å‘ç¯å¢ƒï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
<p>æ—¶é—´ï¼š<code>2025å¹´</code></p>
<p>ç³»ç»Ÿï¼š<code>Windows 11</code></p>
<p>Pythonï¼š<code>3.11.7</code></p>
<p>GDALï¼š<code>3.11.1</code></p>
<h2 data-id="heading-3">2. ç©ºé—´æŸ¥è¯¢</h2>
<p>åœ¨<code>GDAL</code>ä¸­ï¼Œæœ‰ä¸¤ä¸ªå›¾å±‚æ–¹æ³•å¯ä»¥ç”¨äºå®ç°ç©ºé—´æŸ¥è¯¢ï¼Œåˆ†åˆ«æ˜¯<code>SetSpatialFilter</code>å’Œ<code>SetSpatialFilterRect</code>ã€‚æ­¤ç§æŸ¥è¯¢æ–¹å¼ä¸ºç›´æ¥åœ¨æºæ•°æ®ä¸Šæ“ä½œï¼Œè¿”å›ç»“æœä¸ºæŸ¥è¯¢å›¾å±‚ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
å‚æ•°
Â  Â  -geomï¼šç”¨äºå‡ ä½•æŸ¥è¯¢çš„å‡ ä½•å¯¹è±¡
"""</span>
SetSpatialFilter(geom)

<span class="hljs-string">"""
å‚æ•°ï¼š
Â  Â  -minxï¼šæœ€å°xåæ ‡
Â  Â  -minyï¼šæœ€å°yåæ ‡
Â  Â  -maxxï¼šæœ€å¤§xåæ ‡
Â  Â  -maxyï¼šæœ€å¤§yåæ ‡
"""</span>
SetSpatialFilterRect(minx,miny,maxx,maxy)
</code></pre>
<p>ä¼ å…¥<code>None</code>å€¼æ—¶é‡ç½®æŸ¥è¯¢ã€‚</p>
<p><code>sourceLayer.SetSpatialFilter(None)</code></p>
<p>åœ¨è¿›è¡Œæ­£å¼æŸ¥è¯¢å‰å’Œä»¥å‰çš„æ–‡ç« ä¸€æ ·ï¼Œé¦–å…ˆè·å–æ•°æ®é©±åŠ¨ï¼Œæ·»åŠ æ•°æ®æºï¼Œè·å–å›¾å±‚æ•°æ®ã€‚å®šä¹‰ä¸€ä¸ªæ–¹æ³•<code>SpatialFilter</code>ç”¨äºå®ç°ç©ºé—´æŸ¥è¯¢ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ª<code>sourcePath</code>ä¼ é€’æºæ•°æ®å›¾å±‚è·¯å¾„ï¼Œå¦ä¸€ä¸ª<code>selectPath</code>ç”¨äºå®šä¹‰æŸ¥è¯¢å›¾å±‚è·¯å¾„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
è¯´æ˜ï¼šå›¾å±‚å±æ€§è¿‡æ»¤
å‚æ•°ï¼š
Â  Â  -sourcePathï¼šå¾…æŸ¥è¯¢ Shp æ–‡ä»¶è·¯å¾„
Â  Â  -selectPathï¼šæŸ¥è¯¢ Shp æ–‡ä»¶è·¯å¾„
"""</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">SpatialFilter</span>(<span class="hljs-params">sourcePath,selectPath</span>):
</code></pre>
<p>åœ¨ä»¥ä¸‹ä»£ç ä¸­å®Œæˆå›¾å±‚æ•°æ®çš„è¯»å–æ“ä½œã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ³¨å†Œæ‰€æœ‰é©±åŠ¨</span>
ogr.RegisterAll()

<span class="hljs-comment"># æ·»åŠ æ•°æ®é©±åŠ¨</span>
<span class="hljs-attr">shpDriver</span> = ogr.GetDriverByName(<span class="hljs-string">"ESRI Shapefile"</span>)

checkFilePath(sourcePath,shpDriver)
checkFilePath(selectPath,shpDriver)

<span class="hljs-comment"># æ‰“å¼€æ•°æ®æº</span>
<span class="hljs-attr">sourceDs</span> = shpDriver.Open(sourcePath)
<span class="hljs-attr">selectDs</span> = shpDriver.Open(selectPath)

<span class="hljs-attr">hasDs</span> = sourceDs and selectDs

ifÂ hasDs is None:
Â  Â Â print("æ•°æ®æºæ‰“å¼€å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥è·¯å¾„ï¼")
Â  Â Â returnÂ False

<span class="hljs-comment"># è·å–å›¾å±‚</span>
<span class="hljs-attr">sourceLayer</span> = sourceDs.GetLayer(<span class="hljs-number">0</span>)
<span class="hljs-attr">selectLayer</span> = selectDs.GetLayer(<span class="hljs-number">0</span>)
</code></pre>
<p>ä¸‹é¢å¯¹å‡ ä½•æŸ¥è¯¢ä»¥åŠçŸ©å½¢æŸ¥è¯¢ä¸¤ç§å®ç°æ–¹å¼è¿›è¡Œä»‹ç»ã€‚</p>
<h3 data-id="heading-4">2.1. å‡ ä½•æŸ¥è¯¢</h3>
<p>é€šè¿‡å›¾å±‚æ–¹æ³•<code>GetNextFeature</code>è·å–ç¬¬ä¸€ä¸ªè¦ç´ å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è·å–æŸ¥è¯¢å‡ ä½•å¯¹è±¡</span>
queryFeat = selectLayer.GetNextFeature()
queryGeom = queryFeat.GetGeometryRef()

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢è¦ç´ idï¼š<span class="hljs-subst">{queryFeat.GetField(<span class="hljs-string">'Id'</span>)}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢å‡ ä½•å¯¹è±¡ï¼š<span class="hljs-subst">{queryGeom}</span>"</span>)
</code></pre>
<p>å°†å‡ ä½•å¯¹è±¡ä¼ å…¥<code>SetSpatialFilter</code>æ–¹æ³•è¿›è¡Œç©ºé—´è¿‡æ»¤ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç©ºé—´è¿‡æ»¤</span>
sourceLayer.SetSpatialFilter(queryGeom)
</code></pre>
<p>æŸ¥è¯¢å®Œæˆä¹‹åä¼ å…¥<code>None</code>å€¼ç»“æŸæŸ¥è¯¢ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç»“æŸæŸ¥è¯¢</span>
sourceLayer.SetSpatialFilter(<span class="hljs-literal">None</span>)
</code></pre>
<p>ä»¥ä¸‹ä¸ºå‡ ä½•æŸ¥è¯¢éƒ¨åˆ†ä»£ç ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è·å–æŸ¥è¯¢å‡ ä½•å¯¹è±¡</span>
queryFeat = selectLayer.GetNextFeature()
queryGeom = queryFeat.GetGeometryRef()

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢è¦ç´ idï¼š<span class="hljs-subst">{queryFeat.GetField(<span class="hljs-string">'Id'</span>)}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢å‡ ä½•å¯¹è±¡ï¼š<span class="hljs-subst">{queryGeom}</span>"</span>)

<span class="hljs-comment"># è·å–è¦ç´ æ•°é‡</span>
featureCount = sourceLayer.GetFeatureCount()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰€æœ‰è¦ç´ æ•°é‡ï¼š<span class="hljs-subst">{featureCount}</span>"</span>)

<span class="hljs-comment"># ç©ºé—´è¿‡æ»¤</span>
sourceLayer.SetSpatialFilter(queryGeom)

queryFeatCount = sourceLayer.GetFeatureCount()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢è¦ç´ æ•°é‡ï¼š<span class="hljs-subst">{queryFeatCount}</span>"</span>)

<span class="hljs-comment"># ç»“æŸæŸ¥è¯¢</span>
sourceLayer.SetSpatialFilter(<span class="hljs-literal">None</span>)
finalFeatCount = sourceLayer.GetFeatureCount()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"é‡ç½®æŸ¥è¯¢åè¦ç´ æ•°é‡ï¼š<span class="hljs-subst">{finalFeatCount}</span>"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"n~~~~~~~æ–¹å¼ä¸€ï¼šç»“æŸå‡ ä½•æŸ¥è¯¢~~~~~~~"</span>)
</code></pre>
<p>è‹¥æœ‰å…´è¶£ï¼Œè¿˜å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰å‡ ä½•å¯¹è±¡è¿›è¡Œç©ºé—´æŸ¥è¯¢ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"># è‡ªå®šä¹‰GeometryæŸ¥è¯¢å¯¹è±¡
customGeom = ogr<span class="hljs-selector-class">.Geometry</span>(ogr.wkbPolygon)
ringGeom = ogr<span class="hljs-selector-class">.Geometry</span>(ogr.wkbLinearRing)

ringGeom<span class="hljs-selector-class">.AddPoint</span>(<span class="hljs-number">102.884350</span>,<span class="hljs-number">32.501570</span>)
ringGeom<span class="hljs-selector-class">.AddPoint</span>(<span class="hljs-number">105.025865</span>,<span class="hljs-number">74.974949</span>)
ringGeom<span class="hljs-selector-class">.AddPoint</span>(<span class="hljs-number">50.417235</span>,<span class="hljs-number">55.701314</span>)
ringGeom<span class="hljs-selector-class">.AddPoint</span>(<span class="hljs-number">50.417235</span>,<span class="hljs-number">32.501570</span>)

ringGeom<span class="hljs-selector-class">.CloseRings</span>()
customGeom<span class="hljs-selector-class">.AddGeometry</span>(ringGeom)

# è·å–è¦ç´ æ•°é‡
featureCount = sourceLayer<span class="hljs-selector-class">.GetFeatureCount</span>()
<span class="hljs-built_in">print</span>(f"æ‰€æœ‰è¦ç´ æ•°é‡ï¼š{featureCount}")

# ç©ºé—´è¿‡æ»¤
sourceLayer<span class="hljs-selector-class">.SetSpatialFilter</span>(customGeom)

queryFeatCount = sourceLayer<span class="hljs-selector-class">.GetFeatureCount</span>()
<span class="hljs-built_in">print</span>(f"æŸ¥è¯¢è¦ç´ æ•°é‡ï¼š{queryFeatCount}")

# ç»“æŸæŸ¥è¯¢
sourceLayer<span class="hljs-selector-class">.SetSpatialFilter</span>(None)
finalFeatCount = sourceLayer<span class="hljs-selector-class">.GetFeatureCount</span>()
<span class="hljs-built_in">print</span>(f"é‡ç½®æŸ¥è¯¢åè¦ç´ æ•°é‡ï¼š{finalFeatCount}")

<span class="hljs-built_in">print</span>("n~~~~~~~æ–¹å¼ä¸€ï¼šç»“æŸå‡ ä½•æŸ¥è¯¢~~~~~~~")
</code></pre>
<p>å¦‚ä¸‹ä¸ºå‡ ä½•æŸ¥è¯¢è¾“å‡ºç»“æœï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95efe0becdf84f98bb76613a0fc7c261~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=iOYocBh%2BXYApgsDLu%2Fog2RWEnSM%3D" alt="" loading="lazy"/></p>
<p>å¦‚ä¸‹ä¸ºè¯¥è¦ç´ åœ¨ArcGISä¸­æŸ¥è¯¢æ˜¾ç¤ºç»“æœã€‚<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9789ecdeaa2d43328988ff28493fca8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=M75JzvNtCKnOSGvfwA3Ri9DXzho%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">2.2. çŸ©å½¢æŸ¥è¯¢</h3>
<p>çŸ©å½¢æŸ¥è¯¢ä¸»è¦è°ƒç”¨<code>SetSpatialFilterRect</code>æ–¹æ³•ï¼Œä¼ å…¥xã€yåæ ‡å³å¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è·å–è¦ç´ æ•°é‡</span>
<span class="hljs-attr">featureCount2</span> = sourceLayer.GetFeatureCount()
print(f"æ‰€æœ‰è¦ç´ æ•°é‡ï¼š{featureCount2}")

<span class="hljs-comment"># ç©ºé—´è¿‡æ»¤</span>
sourceLayer.SetSpatialFilterRect(-16.9994,23.1235,42.9111,49.5852,)
<span class="hljs-attr">queryFeatCount2</span> = sourceLayer.GetFeatureCount()
</code></pre>
<p>å¦‚ä¸‹ä¸ºçŸ©å½¢æŸ¥è¯¢è¾“å‡ºç»“æœï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d71422c541d243eeb627f9ee8da9a568~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=zJKaDRkoS3mc4%2BbOWNSSgAuleLo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">3. æ³¨æ„äº‹é¡¹</h2>
<p>åœ¨<code>windows</code>å¼€å‘ç¯å¢ƒä¸­åŒæ—¶å®‰è£…<code>GDAL</code>ä¸<code>PostGIS</code>ï¼Œå…¶ä¸­æŠ•å½±åº“<code>PROJ</code>çš„ç¯å¢ƒå˜é‡æŒ‡å‘<code>PostGIS</code>çš„å®‰è£…è·¯å¾„ï¼Œåœ¨è¿è¡ŒGDALç¨‹åºæ—¶ï¼Œæ¶‰åŠåˆ°è¦ç´ ã€å‡ ä½•ä¸æŠ•å½±æ“ä½œæ—¶ä¼šå¯¼è‡´å¼‚å¸¸ã€‚<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a20c99d86ece4e94945575f5dd2dfeef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=wFc%2Bg1jRSlpvJAgjVqfCimEzAFc%3D" alt="" loading="lazy"/></p>
<p>å…·ä½“æ„æ€ä¸º<code>GDAL</code>ä¸æ”¯æŒ<code>PostGIS</code>æ’ä»¶ä¸­çš„æŠ•å½±åº“ç‰ˆæœ¬ï¼Œéœ€è¦æ›´æ¢æŠ•å½±åº“æˆ–è€…å‡çº§ç‰ˆæœ¬ã€‚</p>
<p><code>RuntimeError: PROJ: proj_identify: D:Program FilesPostgreSQL13sharecontribpostgis-3.5projproj.db contains DATABASE.LAYOUT.VERSION.MINOR = 2 whereas a number &gt;= 5 is expected. It comes from another PROJ installation.</code><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eaa206b42a22447698ffd8d2c99fcebc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=13lCvi8KLvpFLaXaj1nMreVjpzQ%3D" alt="" loading="lazy"/></p>
<p>è§£å†³åŠæ³•ä¸ºä¿®æ”¹<code>PROJ</code>çš„ç¯å¢ƒå˜é‡åˆ°<code>GDAL</code>æ”¯æŒçš„ç‰ˆæœ¬æˆ–è€…åœ¨<code>GDAL</code>ç¨‹åºå¼€å¤´æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python">os.environ[<span class="hljs-string">'PROJ_LIB'</span>] = <span class="hljs-string">r'D:\Programs\Python\Python311\Libsite-packages\osgeo\data\proj'</span>
</code></pre>
<p><strong><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96ec425a1f434059864294ee5f0c6693~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=svCqI80nkfTv4AB9Wrf952G2%2FN0%3D" alt="" loading="lazy"/></strong></p>
<blockquote>
<p>â</p>
<p>OpenLayersç¤ºä¾‹æ•°æ®ä¸‹è½½ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>olæ•°æ®</strong></p>
<p>å…¨å›½ä¿¡æ¯åŒ–å·¥ç¨‹å¸ˆï¼GIS åº”ç”¨æ°´å¹³è€ƒè¯•èµ„æ–™ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>GISè€ƒè¯•</strong></p>
</blockquote>
<blockquote>
<p>â</p>
<p><em><strong>GISä¹‹è·¯</strong></em> å…¬ä¼—å·å·²ç»æ¥å…¥äº†<strong>æ™ºèƒ½</strong> <strong>åŠ©æ‰‹</strong>ï¼Œå¯ä»¥åœ¨å¯¹è¯æ¡†è¿›è¡Œæé—®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æœç´¢å†å²æ–‡ç« è¿›è¡ŒæŸ¥çœ‹ã€‚</p>
</blockquote>
<p>éƒ½çœ‹åˆ°è¿™äº†ï¼Œä¸è¦å¿˜è®°<em><strong>ç‚¹èµã€æ”¶è—</strong></em> <strong>+</strong> <em><strong>å…³æ³¨</strong></em> å“¦ <strong>ï¼</strong></p>
<p>æœ¬å·ä¸å®šæ—¶æ›´æ–°æœ‰å…³Â <em><strong>GISå¼€å‘</strong></em> ç›¸å…³å†…å®¹ï¼Œ<em><strong>æ¬¢è¿å…³æ³¨Â <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/041b4dfbed454281930ca8928c946711~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=rJ3psxcuBZQBWQej5Djt6Sk1jps%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8dcf265046f5430eafbcd9ea5eb3f9d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=Wt3lrzwOpkq6UPvmUavdLaCr3PM%3D" alt="" loading="lazy"/></strong></em></p>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71d06e8a4f8c466d879956636c0cc562~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=plpKFUw6OF2F8USoCJe%2Fq1B01oI%3D" alt="" loading="lazy"/></p>
<p>Â  Â <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d49d5a4d0f74a589b29d70c5f1e0224~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768396485&amp;x-signature=UkriPTGY%2BreB1Mc7jJ0W11sJGLI%3D" alt="" loading="lazy"/>Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487953%26idx%3D1%26sn%3D0b2d5aeefdb290583cf8cdd82f3c2077%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487953&amp;idx=1&amp;sn=0b2d5aeefdb290583cf8cdd82f3c2077&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">GeoTools å¼€å‘åˆé›†ï¼ˆå…¨ï¼‰</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487119%26idx%3D1%26sn%3Dc313efa84c27bf933ef2f2a47991ef2d%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487119&amp;idx=1&amp;sn=c313efa84c27bf933ef2f2a47991ef2d&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">OpenLayers å¼€å‘åˆé›†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FEyUADPYCf7O_9b0u8LUQCg" target="_blank" title="https://mp.weixin.qq.com/s/EyUADPYCf7O_9b0u8LUQCg" ref="nofollow noopener noreferrer">GDAL å®ç°æ•°æ®å±æ€§æŸ¥è¯¢</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FRdlldTRZ6c7FzfjBSdSPMg" target="_blank" title="https://mp.weixin.qq.com/s/RdlldTRZ6c7FzfjBSdSPMg" ref="nofollow noopener noreferrer">GDAL å®ç°åˆ›å»ºå‡ ä½•å¯¹è±¡</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FTUdUHgYra6oMlOaRIL1m4w" target="_blank" title="https://mp.weixin.qq.com/s/TUdUHgYra6oMlOaRIL1m4w" ref="nofollow noopener noreferrer">GDAL å®ç°è‡ªå®šä¹‰æ•°æ®åæ ‡ç³»</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FPGxwhRbuiRUKIpT2D2cVGQ" target="_blank" title="https://mp.weixin.qq.com/s/PGxwhRbuiRUKIpT2D2cVGQ" ref="nofollow noopener noreferrer">GDAL å®ç°çŸ¢é‡æ•°æ®è¯»å†™</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fi77nCatd4V2nuybZFIs-xA" target="_blank" title="https://mp.weixin.qq.com/s/i77nCatd4V2nuybZFIs-xA" ref="nofollow noopener noreferrer">GDAL æ•°æ®ç±»å‹å¤§å…¨</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0DGoC0oFHizJbweBnEvI-g" target="_blank" title="https://mp.weixin.qq.com/s/0DGoC0oFHizJbweBnEvI-g" ref="nofollow noopener noreferrer">GDAL å®ç° GIS æ•°æ®è¯»å–è½¬æ¢ï¼ˆå…¨ï¼‰</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å¹´åº¦æ€»ç»“ï¼šå½“æˆ‘åœ¨ Cursor é‡Œæ•²ä¸‹ Tab çš„é‚£ä¸€åˆ»ï¼Œæˆ‘çŸ¥é“æ—¶ä»£å˜äº†]]></title>    <link>https://juejin.cn/post/7592531796039778338</link>    <guid>https://juejin.cn/post/7592531796039778338</guid>    <pubDate>2026-01-07T13:36:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592531796039778338" data-draft-id="7592531796039712802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å¹´åº¦æ€»ç»“ï¼šå½“æˆ‘åœ¨ Cursor é‡Œæ•²ä¸‹ Tab çš„é‚£ä¸€åˆ»ï¼Œæˆ‘çŸ¥é“æ—¶ä»£å˜äº†"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-07T13:36:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æ—…äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3485898277388519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å¹´åº¦æ€»ç»“ï¼šå½“æˆ‘åœ¨ Cursor é‡Œæ•²ä¸‹ Tab çš„é‚£ä¸€åˆ»ï¼Œæˆ‘çŸ¥é“æ—¶ä»£å˜äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3485898277388519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æ—…äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T13:36:47.000Z" title="Wed Jan 07 2026 13:36:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¦‚æœè¦ç»™ 2025 å¹´ä¸€ä¸ªå…³é”®è¯ï¼Œé‚£ä¸€å®šæ˜¯ï¼š<strong>å†²å‡»</strong>ã€‚</p>
<p>è¿™ä¸€å¹´ï¼Œæˆ‘ä»¬è¿˜æ²¡æ¥å¾—åŠä» AI çš„éœ‡æƒŠä¸­ç¼“è¿‡ç¥æ¥ï¼Œå®ƒå°±å·²ç»ä¸ä»…æ˜¯å·¥å…·ï¼Œè€Œæ˜¯æˆäº†æˆ‘ä»¬èº«è¾¹çš„â€œåŒäº‹â€ã€‚</p>
<p>ç«™åœ¨ 2026 å¹´åˆçš„èŠ‚ç‚¹å›æœ›ï¼Œæˆ‘æ•²ä¸‹çš„æ¯ä¸€è¡Œä»£ç é‡Œï¼Œä¼¼ä¹éƒ½è—ç€ AI çš„å½±å­ã€‚</p>
</blockquote>
<h2 data-id="heading-0">â© 2025ï¼šè¢«æŒ‰ä¸‹çš„åŠ é€Ÿé”®</h2>
<p>æ•…äº‹çš„ä¼ç¬”å…¶å®åŸ‹åœ¨ 2025 å¹´åˆã€‚</p>
<p>å½“ <strong>DeepSeek R1</strong> å¸¦ç€é‚£ç¯‡åä¸ºã€ŠIncentivizing Reasoning Capability in LLMs via Reinforcement Learningã€‹çš„è®ºæ–‡æ¨ªç©ºå‡ºä¸–æ—¶ï¼Œåœˆå†…äººéƒ½åœ¨è¯´ï¼šâ€œå¤§çš„è¦æ¥äº†ã€‚â€</p>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ¨¡å‹çš„å‘å¸ƒï¼Œæ›´åƒæ˜¯ä¸€æ¬¡èŒƒå¼è½¬ç§»ã€‚å®ƒè¯æ˜äº†çº¯ç²¹çš„å¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learningï¼‰å¯ä»¥è®©å¤§æ¨¡å‹å…·å¤‡æƒŠäººçš„æ¨ç†èƒ½åŠ›ã€‚<strong>ä»é‚£ä¸€åˆ»èµ·ï¼ŒAI çš„å‘å±•ä»¿ä½›è¢«æŒ‰ä¸‹äº†åå€åŠ é€Ÿé”®</strong>ã€‚æ¨¡å‹è¿­ä»£ä¸å†æ˜¯æŒ‰å¹´ç®—ï¼Œè€Œæ˜¯æŒ‰å‘¨ç®—ã€‚æ—©ä¸Šåˆšå­¦ä¼šæ€ä¹ˆåœ¨è¿™ä¸ªæ¨¡å‹é‡Œå†™ Promptï¼Œæ™šä¸Šå°±å‘å¸ƒäº†åŠæ‰“å®ƒçš„æ–°ä¸€ä»£æ¨¡å‹ã€‚</p>
<p>æˆ‘ä»¬è¿™ç¾¤å¼€å‘è€…ï¼Œå°±åƒååœ¨è¿‡å±±è½¦ç¬¬ä¸€æ’çš„ä¹˜å®¢ï¼Œè¿˜æ²¡æ¥å¾—åŠç³»å¥½å®‰å…¨å¸¦ï¼Œå°±è¢«æ¨å‘äº†æœªçŸ¥çš„è½¨é“ã€‚</p>
<h3 data-id="heading-1">é‚£åœºåä¸º Manus çš„â€œèµ›åšçƒŸèŠ±â€</h3>
<p>è®°å¿†æœ€æ·±åˆ»çš„ï¼Œè«è¿‡äº 2025 å¹´ 3 æœˆçš„é‚£åœºâ€œç‹‚æ¬¢â€ã€‚</p>
<p>ä¸€ä¸ªåä¸º <strong>Manus</strong> çš„é¡¹ç›®çªç„¶æ€å‡ºé‡å›´ã€‚å…¨ç½‘åˆ·å±ã€å®˜åª’çƒ­æ§ã€ä¸€æšé‚€è¯·ç è¢«ç‚’åˆ° 10 ä¸‡å¤©ä»·ã€‚å½“æ—¶æ‰€æœ‰çš„æŠ€æœ¯ç¾¤éƒ½åœ¨è®¨è®ºå®ƒï¼Œä»¿ä½›å®ƒå°±æ˜¯ä¸­å›½å›¢é˜Ÿæ‰“é€ çš„â€œå…¨çƒé¦–æ¬¾é€šç”¨ Agentâ€ï¼Œæ˜¯ AI é©å‘½çš„ç»ˆç‚¹ç«™ã€‚</p>
<p>æˆ‘ä¹Ÿæ›¾å¿ƒåŠ¨è¿‡ï¼Œç”šè‡³å¹»æƒ³è¿‡æœ‰äº†å®ƒæ˜¯ä¸æ˜¯å°±èƒ½èººç€å†™ä»£ç äº†ã€‚</p>
<p>ç„¶è€Œï¼Œç°å®æ¯”ç”µå½±æ›´é­”å¹»ã€‚ä»…ä»… 4 ä¸ªæœˆåï¼Œå‰§æƒ…æ€¥è½¬ç›´ä¸‹ï¼šæ¸…ç©ºå¾®åšã€é”åŒºä¸­å›½ã€è£å‘˜ 80%ã€æ€»éƒ¨è¿å¾€æ–°åŠ å¡â€¦â€¦ åŸæœ¬çš„â€œå›½è´§ä¹‹å…‰â€ç¬é—´å˜æˆäº†ç½‘å‹å£ä¸­çš„â€œå¸åœˆç›˜å­â€å’Œâ€œéª—å­å…¬å¸â€ã€‚</p>
<p><strong>çœ¼çœ‹ä»–èµ·æœ±æ¥¼ï¼Œçœ¼çœ‹ä»–æ¥¼å¡Œäº†</strong>ã€‚Manus å°±åƒä¸€åœºåä¸½çš„èµ›åšçƒŸèŠ±ï¼Œç‚¸å“äº† 2025 çš„å¤©ç©ºï¼Œä¹Ÿç•™ä¸‹äº†æ»¡åœ°é¸¡æ¯›ã€‚ä½†ä¹Ÿæ­£æ˜¯è¿™åœºé—¹å‰§ï¼Œè®©æˆ‘æ¸…é†’åœ°è®¤è¯†åˆ°ï¼š<strong>ç‚’ä½œçš„æ¦‚å¿µç»ˆå°†é€€æ½®ï¼Œåªæœ‰çœŸæ­£èƒ½è½åœ°çš„å·¥å…·ï¼Œæ‰èƒ½ç•™åœ¨å¼€å‘è€…çš„ IDE é‡Œã€‚</strong></p>
<h2 data-id="heading-2">æˆ‘çš„å¼€å‘å·¥ä½œæµï¼šIDEA + Cursor</h2>
<p>ä½œä¸ºä¸€åæ•´å¤©å’Œ Spring Boot æ‰“äº¤é“çš„ Java å¼€å‘è€…ï¼Œæˆ‘å¯¹ AI çš„æ€åº¦å…¶å®ç»å†äº†ä¸€ä¸ªæ¼«é•¿çš„â€œ<strong>æŠ—æ‹’ -&gt; å°è¯• -&gt; ä¾èµ–</strong>â€çš„è¿‡ç¨‹ã€‚è€Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘æ‰¾åˆ°äº†æœ€é€‚åˆè‡ªå·±çš„ç©æ³•ã€‚</p>
<h3 data-id="heading-3">ä»å‰²è£‚åˆ°èåˆ</h3>
<p>èµ·åˆï¼Œ<strong>GitHub Copilot</strong> åˆšåµŒå…¥ IDEA æ—¶ï¼Œæˆ‘åªæ˜¯æŠŠå®ƒå½“æˆä¸€ä¸ªâ€œé«˜çº§ç‚¹çš„è‡ªåŠ¨è¡¥å…¨â€ã€‚å®ƒèƒ½å¸®æˆ‘å†™å†™ Getter/Setterï¼Œæˆ–è€…ç”Ÿæˆä¸€æ®µé€šç”¨çš„å·¥å…·ç±»ä»£ç ï¼Œä»…æ­¤è€Œå·²ã€‚</p>
<p>ç›´åˆ° <strong>Cursor</strong> å‡ºç°ã€‚ä½†è¯´å®è¯ï¼Œè®©ä¸€ä¸ª Java å¼€å‘è€…å½»åº•æ”¾å¼ƒ JetBrains å…¨å®¶æ¡¶å»ç”¨ VS Codeï¼ˆCursor çš„åº•åº§ï¼‰ï¼Œæ˜¯ä¸ç°å®çš„ã€‚IDEA å¼ºå¤§çš„é‡æ„åŠŸèƒ½ã€å®Œç¾çš„ Maven ä¾èµ–æ ‘è§†å›¾ã€ä¸æ»‘çš„ Debug ä½“éªŒï¼Œè¿™äº›éƒ½æ˜¯æˆ‘ä»¬èµ–ä»¥ç”Ÿå­˜çš„ç©ºæ°”å’Œæ°´ã€‚</p>
<p>æ‰€ä»¥æˆ‘æ²¡æœ‰é€‰æ‹©â€œéæ­¤å³å½¼â€çš„ç«™é˜Ÿï¼Œè€Œæ˜¯æ ¹æ®åœºæ™¯æ··ç€ç”¨ï¼š</p>
<ul>
<li><strong>IDEA</strong>ï¼šå½“æˆ‘è¦æ¢³ç†å¤æ‚çš„ç»§æ‰¿å…³ç³»ï¼Œæ’æŸ¥å› ä¸ºç‰ˆæœ¬å†²çªå¯¼è‡´çš„ <code>NoSuchMethodError</code>ï¼Œæˆ–è€…è¿›è¡Œå¤§è§„æ¨¡çš„é‡æ„æ—¶ï¼Œæˆ‘ä¼šå›åˆ° IDEAã€‚å®ƒçš„é™æ€åˆ†æèƒ½åŠ›å’Œç´¢å¼•é€Ÿåº¦ï¼Œç›®å‰ä¾ç„¶æ˜¯ä¸šç•Œå¤©èŠ±æ¿ï¼Œç»™æˆ‘ä¸€ç§è¸å®çš„å®‰å…¨æ„Ÿã€‚</li>
<li><strong>Cursor</strong>ï¼šå½“æˆ‘è¦å†™ä¸€ä¸ªæ–°çš„ä¸šåŠ¡æ¨¡å—ï¼Œæˆ–è€…éœ€è¦å¿«é€Ÿå®ç°ä¸€ä¸ªéªŒè¯æ€§çš„ Demo æ—¶ï¼Œæˆ‘ä¼šä¸€é”®åˆ‡æ¢åˆ° Cursorã€‚
<ul>
<li>â€œåŸºäºè¿™ä¸ª Interface ç”Ÿæˆç­–ç•¥æ¨¡å¼çš„ä¸‰ä¸ªå®ç°ç±»ï¼Œå¹¶è¡¥å…… Unit Testã€‚â€</li>
<li>â€œåˆ†æè¿™æ®µæŠ¥é”™å †æ ˆï¼Œç»™å‡ºæœ€å¯èƒ½çš„ä¸‰ä¸ªåŸå› ã€‚â€</li>
</ul>
</li>
</ul>
<p>IDEA ä»£è¡¨ç€å·¥ç¨‹çš„ä¸¥è°¨ï¼ŒCursor ä»£è¡¨ç€åˆ›é€ çš„é€Ÿåº¦ã€‚<strong>åœ¨ 2025 å¹´ï¼Œä¸€ä¸ªæˆç†Ÿçš„å¼€å‘è€…ï¼Œåº”å½“å­¦ä¼šåŒæ—¶é©¾é©­è¿™ä¸¤ç§åŠ›é‡ã€‚</strong></p>
<p><strong>å½“æˆ‘åœ¨ Cursor é‡Œæ•²ä¸‹ Tab çš„é‚£ä¸€åˆ»ï¼Œæˆ‘ä¸å†æ˜¯åœ¨â€œå†™â€ä»£ç ï¼Œè€Œæ˜¯åœ¨â€œç¼–ç»‡â€é€»è¾‘ã€‚</strong></p>
<h2 data-id="heading-4">ğŸ“ˆ é‚£äº›â€œå›ä¸å»â€çš„å˜åŒ–</h2>
<p>å¦‚æœéè¦æ€»ç»“ 2025 å¹´å¯¹æˆ‘æ”¹å˜æœ€å¤§çš„ä¸¤ç‚¹ï¼Œé‚£ä¸€å®šæ˜¯ï¼š</p>
<h3 data-id="heading-5">1. å­¦ä¹ é€Ÿåº¦çš„è´¨å˜</h3>
<p>åœ¨ä»¥å‰ï¼ŒæŠ€æœ¯æ ˆä¹‹é—´çš„å£å’æ˜¯æé«˜çš„ã€‚æƒ³ä» Java è·¨è¶Šåˆ° Rust æˆ–è€… Goï¼Œä¸­é—´éš”ç€åšåšçš„æ–‡æ¡£å’Œæ— æ•°ä¸ªè·‘ä¸é€šçš„ "Hello World"ã€‚é‚£ç§é¢å¯¹é™Œç”Ÿé¢†åŸŸæ—¶çš„æ— åŠ›æ„Ÿï¼Œæ˜¯é˜»ç¢æˆ‘ä»¬æ¢ç´¢çš„æœ€å¤§ç»Šè„šçŸ³ã€‚</p>
<p>ç°åœ¨ï¼Œè¿™é“å¢™è¢« AI æ¨å€’äº†ã€‚</p>
<blockquote>
<p>â€œHey AIï¼Œæˆ‘æ˜¯ Java ç†Ÿæ‰‹ï¼Œæƒ³ç”¨ Rust å†™ä¸ªé«˜å¹¶å‘çˆ¬è™«ï¼Œè¯·å¯¹æ¯” Java çš„å¹¶å‘æ¨¡å‹ï¼Œç»™æˆ‘ä¸€ä¸ªæœ€ä½³å®è·µçš„ Project Structureã€‚â€</p>
</blockquote>
<p>å‡ ç§’é’Ÿåï¼ŒçŸ¥è¯†çš„ç²¾åè¢«æç‚¼ã€å¯¹æ¯”ã€å‘ˆç°ã€‚<strong>æˆ‘ä»¬ä¸å†éœ€è¦ä¸ºäº†å–ä¸€æ¯æ°´è€Œå»é“ºè®¾æ•´æ¡è‡ªæ¥æ°´ç®¡</strong>ã€‚</p>
<p><strong>ä½†è¿™ä¹Ÿå¸¦æ¥äº†æ–°çš„æŒ‘æˆ˜â€”â€”â€œé‰´ä¼ªèƒ½åŠ›â€ã€‚</strong>
AI ç»å¸¸ä¼šä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“ï¼Œç‰¹åˆ«æ˜¯åœ¨æœ€æ–°çš„æŠ€æœ¯é¢†åŸŸã€‚è¿™å€’é€¼æˆ‘ä»ä¸€ä¸ªâ€œæœç´¢è€…â€è¿›åŒ–ä¸ºäº†â€œéªŒè¯è€…â€ã€‚ä»¥å‰æˆ‘ 90% çš„æ—¶é—´åœ¨æ‰¾èµ„æ–™ï¼Œ10% çš„æ—¶é—´åœ¨éªŒè¯ï¼›ç°åœ¨æˆ‘ 10% çš„æ—¶é—´åœ¨è·å–æ–¹æ¡ˆï¼Œ90% çš„æ—¶é—´åœ¨å®¡è§†ä»£ç çš„åˆç†æ€§ã€‚<strong>AI ç»™äº†æˆ‘é£ç¿”çš„ç¿…è†€ï¼Œä½†æˆ‘å¿…é¡»è‡ªå·±æŒæ¡æ–¹å‘ç›˜ï¼Œå¦åˆ™éšæ—¶ä¼šæ‰è¿›å®ƒç¼–ç»‡çš„é€»è¾‘é™·é˜±é‡Œã€‚</strong></p>
<h3 data-id="heading-6">2. å¼€å§‹è®°å½•ï¼Œä¿ç•™è‡ªæˆ‘</h3>
<p>ä»Šå¹´æˆ‘ä¹Ÿå¼€å§‹äº†æŠ€æœ¯å†™ä½œã€‚</p>
<p>èµ·åˆåŠ¨æœºå¾ˆå•çº¯ï¼Œå°±æ˜¯ä¸ºäº†å¯¹æŠ—é—å¿˜ã€‚å› ä¸ºåœ¨é‚£ä¸ªäººæœºäº¤äº’å¦‚æ­¤é«˜é¢‘çš„æ—¶ä»£ï¼Œ<strong>å¦‚æœä¸è®°å½•ç‚¹ä»€ä¹ˆï¼Œè®°å¿†å¾ˆå¿«å°±ä¼šè¢«æ–°çš„ Token å†²åˆ·æ‰ã€‚</strong></p>
<p>ä½†åœ¨è®°å½•çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°äº†ä¸€äº› AI æ— æ³•æ›¿ä»£çš„ä¸œè¥¿â€”â€”<strong>â€œæƒ…ç»ªâ€</strong>ã€‚
AI èƒ½ç”Ÿæˆå®Œç¾æ— ç‘•çš„ä»£ç è§£é‡Šï¼Œä½†å®ƒå†™ä¸å‡ºæ·±å¤œæ’æŸ¥ Bug æ—¶é‚£ç§æŠ“å¿ƒæŒ è‚çš„ç„¦è™‘ï¼Œå†™ä¸å‡ºç»ˆäºå®šä½åˆ°é—®é¢˜æ—¶é‚£ç§ä¹Ÿå°±æ˜¯ä¿®æ”¹äº†ä¸€è¡Œé…ç½®çš„ç‹‚å–œï¼Œæ›´å†™ä¸å‡ºé¢å¯¹å¥‡è‘©éœ€æ±‚æ—¶é‚£ç§â€œæ— è¯­å‡å™â€çš„æ— å¥ˆã€‚</p>
<p>æˆ‘å¼€å§‹å°è¯•åœ¨æŠ€æœ¯æ–‡ç« é‡Œèå…¥è¿™äº›â€œäººå‘³å„¿â€ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œ<strong>æŠ€æœ¯å¾—æ˜¯æœ‰æ¸©åº¦çš„ã€‚</strong> å†™ä½œæˆä¸ºäº†æˆ‘åœ¨è¿™ä¸ªæ•°æ®æ´ªæµä¸­ï¼Œç¡®ç«‹â€œè‡ªæˆ‘å­˜åœ¨æ„Ÿâ€çš„é”šç‚¹ã€‚</p>
<h2 data-id="heading-7">ğŸ”š æ€è€ƒä¸å¿§è™‘</h2>
<p>2025 å¹´è¿‡å»äº†ï¼Œä¸ç®¡æ˜¯ Manus çš„éª—å±€ï¼Œè¿˜æ˜¯ Cursor çš„å´›èµ·ï¼Œéƒ½å·²æˆä¸ºå†å²ã€‚</p>
<p>è¯´å®è¯ï¼Œé¢å¯¹ AI å¦‚æ­¤è¿…çŒ›çš„å‘å±•ï¼Œæˆ‘å¿ƒé‡Œå…¶å®æ˜¯<strong>ç™¾æ„Ÿäº¤é›†</strong>çš„ã€‚</p>
<p>ä¸€æ–¹é¢ï¼Œæˆ‘äº«å—ç€æ•ˆç‡æå‡å¸¦æ¥çš„å¿«æ„Ÿã€‚
å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä¹Ÿæ·±æ·±åœ°å¿§è™‘ï¼š<strong>æˆ‘çš„ä¸å¯æ›¿ä»£æ€§è¿˜å‰©å¤šå°‘ï¼Ÿ</strong></p>
<p>å²—ä½æ˜¯å¦ä¼šå› ä¸ºæ•ˆç‡æå‡è€Œç¼©å‡ï¼Ÿé‚£äº›ç”± AI ç”Ÿæˆçš„ã€æˆ‘å¹¶æ²¡æœ‰å®Œå…¨ç†è§£ç»†èŠ‚çš„ä»£ç ï¼Œä¼šä¸ä¼šæˆä¸ºæœªæ¥é¡¹ç›®é‡Œçš„â€œå®šæ—¶ç‚¸å¼¹â€ï¼Ÿè¿™ç§å¯¹é¡¹ç›®æŒæ§åŠ›ä»â€œç»å¯¹ç¡®å®šâ€å˜æˆâ€œæ¦‚ç‡ç¡®å®šâ€çš„æ„Ÿè§‰ï¼Œç”±äºé»‘ç›’çš„å­˜åœ¨ï¼Œå¶å°”ä¼šè®©æˆ‘æ„Ÿåˆ°ä¸å®‰ã€‚</p>
<p><strong>è¶Šæ˜¯ç®€å•ï¼Œæˆ‘è¶Šå¸¸åœ¨æ·±å¤œåé—®è‡ªå·±ï¼šå¦‚æœæ˜å¤©æ‹”æ‰ç½‘çº¿ï¼Œæ²¡æœ‰äº† Copilotï¼Œæ²¡æœ‰äº† Cursorï¼Œæˆ‘æ˜¯å¦è¿˜èƒ½å†™å‡ºä¼˜é›…çš„ä»£ç ï¼Ÿæˆ‘æ˜¯å¦è¿˜è®°å¾— HashMap çš„åº•å±‚å®ç°ï¼Ÿ</strong></p>
<p>è¿™ç§åé—®è®©æˆ‘ä¿æŒæ¸…é†’ã€‚
æˆ‘ä¸æ’æ–¥ AIï¼Œæˆ‘ä¾èµ–å®ƒï¼Œèµç¾å®ƒã€‚ä½†æˆ‘æ›´è­¦æƒ•å®ƒå¸¦æ¥çš„æ€æƒ³æ‡’æƒ°ã€‚
æˆ‘ä»¬ä¸èƒ½å› ä¸ºæœ‰äº†è®¡ç®—å™¨ï¼Œå°±å¿˜è®°äº†ä¹ä¹ä¹˜æ³•è¡¨èƒŒåçš„é€»è¾‘ï¼›ä¹Ÿä¸èƒ½å› ä¸ºæœ‰äº† AIï¼Œå°±ä¸§å¤±äº†ç‹¬ç«‹æ€è€ƒå’Œä»é›¶æ„å»ºçš„èƒ½åŠ›ã€‚</p>
<p><strong>å› ä¸º AI åªèƒ½ç»™å‡ºç­”æ¡ˆï¼Œä½†çœŸæ­£è§£å†³é—®é¢˜çš„ï¼Œæ°¸è¿œæ˜¯é‚£ä¸ªæŒç»­å­¦ä¹ ã€ä¸æ–­æ€è€ƒçš„ä½ ã€‚</strong></p>
<p>æ­£å¦‚æ¯•åŠ ç´¢æ‰€è¯´ï¼š</p>
<blockquote>
<p><strong>â€œè®¡ç®—æœºæ¯«æ— ç”¨å¤„ã€‚å®ƒä»¬åªèƒ½ç»™ä½ ç­”æ¡ˆã€‚â€</strong>
<em>(Computers are useless. They can only give you answers.)</em></p>
</blockquote>
<p>2026ï¼Œæ„¿æˆ‘ä»¬éƒ½èƒ½åšé‚£ä¸ª<strong>æå‡ºé—®é¢˜çš„äºº</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é›¶åŸºç¡€ Coze + å‰ç«¯ Vue3 è¾¹ç©è¾¹å¼€å‘ï¼šå® ç‰©å†°çƒè¿åŠ¨å‘˜ç”Ÿæˆå™¨]]></title>    <link>https://juejin.cn/post/7592148975849259051</link>    <guid>https://juejin.cn/post/7592148975849259051</guid>    <pubDate>2026-01-07T13:52:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975849259051" data-draft-id="7589893170386223104" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é›¶åŸºç¡€ Coze + å‰ç«¯ Vue3 è¾¹ç©è¾¹å¼€å‘ï¼šå® ç‰©å†°çƒè¿åŠ¨å‘˜ç”Ÿæˆå™¨"/> <meta itemprop="keywords" content="å‰ç«¯,Coze"/> <meta itemprop="datePublished" content="2026-01-07T13:52:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è°è¨€è¥¿è¥¿é‡Œ"/> <meta itemprop="url" content="https://juejin.cn/user/332466136029851"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é›¶åŸºç¡€ Coze + å‰ç«¯ Vue3 è¾¹ç©è¾¹å¼€å‘ï¼šå® ç‰©å†°çƒè¿åŠ¨å‘˜ç”Ÿæˆå™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/332466136029851/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è°è¨€è¥¿è¥¿é‡Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T13:52:36.000Z" title="Wed Jan 07 2026 13:52:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ç°å¦‚ä»Š AI åº”ç”¨å¼€å‘å˜å¾—è¶Šæ¥è¶Šâ€œå¹³æ°‘åŒ–â€ï¼Œå³ä½¿ä½ ä¸æ‡‚ä»»ä½•æ·±åº¦å­¦ä¹ ï¼Œä¹Ÿèƒ½é€šè¿‡â€œç©â€ä¸€äº› AI å¼€å‘å¹³å°æ¥åšå‡ºä¸€äº›æœ‰è¶£åˆæ™ºèƒ½çš„å°å·¥å…·ã€‚è€Œè¿™å…¶ä¸­ä¸å¾—ä¸æçš„å°±æ˜¯<strong>âœ¨å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„ä¸€ç«™å¼AIåº”ç”¨å¼€å‘å¹³å° Coze äº†</strong>ã€‚</p>
<p>é‚£ä¸ºä»€ä¹ˆè¦é€‰æ‹© <strong>Coze</strong> å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºå…¶<strong>å¼ºå¤§çš„ä½ä»£ç å¼€å‘èƒ½åŠ›</strong>ï¼Œå³ä½¿æ˜¯å°ç™½ä¹Ÿå¯é€šè¿‡å¯è§†åŒ–ç•Œé¢â€œæ­ç§¯æœ¨â€ä¸€æ ·ç¼–æ’å·¥ä½œæµâ€”â€”æ¯”å¦‚ä¸Šä¼ å›¾ç‰‡ã€è°ƒç”¨å¤§æ¨¡å‹ã€ç”Ÿæˆæ–°å›¾åƒç­‰ç­‰ï¼Œå¹¶ä¸”å…¨ç¨‹æ— éœ€å†™å¤æ‚çš„åç«¯æˆ–ç®—æ³•ä»£ç ï¼Œæå¤§é™ä½äº† AI é›†æˆé—¨æ§›ğŸ’¡ã€‚</p>
<p>æ‹¥æœ‰äº†å·¥ä½œæµåï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¼˜ç§€çš„ç°ä»£å‰ç«¯æ¡†æ¶ <strong>Vue3</strong> ï¼Œé€šè¿‡å…¶ç®€æ´çš„è¯­æ³•ã€å“åº”å¼æ•°æ®å’Œç»„ä»¶åŒ–æ€æƒ³ï¼Œè®©é¡µé¢äº¤äº’å¼€å‘å˜å¾—é«˜æ•ˆåˆç›´è§‚ã€‚ä¸ä»…å‘ç”¨æˆ·å±•ç¤ºæˆ‘ä»¬çš„å¼€å‘æˆæœï¼Œä¹Ÿè¦â€œæ¥ä½â€ç”¨æˆ·æ“ä½œï¼Œæœ€åå†æŠŠç»“æœå±•ç¤ºå‡ºæ¥ã€‚</p>
<p>æœ¬æ–‡å°±ä»¥â€œå® ç‰©å˜å†°çƒè¿åŠ¨å‘˜â€ä¸ºä¾‹ï¼Œ<strong>è”åˆ Coze çš„â€œAI èƒ½åŠ›â€ä¸ Vue3 çš„â€œäº¤äº’è¡¨ç°åŠ›â€</strong> æ¥æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•ä½¿ç”¨è¿™ä¸¤é¡¹æŠ€æœ¯ï¼Œä»é›¶æ­å»ºä¸€ä¸ªå®Œæ•´çš„ AI åº”ç”¨ã€‚</p>
<h2 data-id="heading-1">é¡¹ç›®ç®€ä»‹</h2>
<p>æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº <strong>Vue3 + Coze AI å·¥ä½œæµ</strong> çš„è½»é‡çº§ Web åº”ç”¨ï¼Œå®ç°ç”¨æˆ·ä¸Šä¼ ä¸€å¼ å® ç‰©ç…§ç‰‡ï¼Œé€‰æ‹©é˜Ÿæœç¼–å·ã€é¢œè‰²ã€æ‹…ä»»çš„ä½ç½®ã€æŒæ†æ‰‹ä»¥åŠè‰ºæœ¯é£æ ¼ï¼Œå³å¯ç”Ÿæˆè¯¥å® ç‰©åŒ–èº«â€œå†°çƒè¿åŠ¨å‘˜â€çš„å›¾åƒã€‚</p>
<h3 data-id="heading-2">æ ¸å¿ƒåŠŸèƒ½ï¼š</h3>
<ul>
<li>æ–‡ä»¶ä¸Šä¼ å¹¶é¢„è§ˆ</li>
<li>ç”¨æˆ·é…ç½®å‚æ•°ï¼ˆé˜Ÿæœã€é£æ ¼ç­‰ï¼‰</li>
<li>è°ƒç”¨ Coze å·¥ä½œæµè¿›è¡Œ AI å¤„ç†</li>
<li>è¿”å›ç”Ÿæˆçš„å›¾åƒå¹¶å±•ç¤º</li>
</ul>
<h2 data-id="heading-3">ğŸ“‚ é¡¹ç›®ç»“æ„è¯´æ˜</h2>
<pre><code class="hljs language-arduino" lang="arduino">project-root/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ App.vue          # ä¸»é¡µé¢ç»„ä»¶
â”œâ”€â”€ <span class="hljs-keyword">public</span>/
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ vite.config.js
â””â”€â”€ package.json
</code></pre>
<p>æˆ‘ä»¬åªç”¨äº†ä¸€ä¸ªä¸»æ–‡ä»¶ <code>App.vue</code> æ¥å®Œæˆå…¨éƒ¨åŠŸèƒ½ï¼Œé€‚åˆå¿«é€ŸåŸå‹å¼€å‘ã€‚</p>
<h2 data-id="heading-4">ğŸ¤– Coze å¹³å°å¼€å‘è¯¦è§£ï¼ˆä½ä»£ç ï¼‰</h2>
<h3 data-id="heading-5">æ•´ä½“æµç¨‹æ¦‚è¿°ï¼š</h3>
<ol>
<li><strong>å¼€å§‹èŠ‚ç‚¹</strong>ï¼šæ¥æ”¶æ‰€æœ‰è¾“å…¥æ•°æ®ã€‚</li>
<li><strong>å›¾åƒç†è§£èŠ‚ç‚¹</strong>ï¼šåˆ†æç…§ç‰‡å†…å®¹ï¼Œæå–å® ç‰©å›¾ç‰‡çš„å…³é”®ç‰¹å¾ã€‚</li>
<li><strong>ç‰¹å¾æå–èŠ‚ç‚¹</strong>ï¼šå°†ç‰¹å¾è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æè¿°ã€‚</li>
<li><strong>ä»£ç èŠ‚ç‚¹</strong>ï¼šå¤„ç†ç”¨æˆ·æä¾›çš„å‚æ•°æˆ–ç”Ÿæˆé»˜è®¤å€¼æ¥æè¿°ä¸€åªå® ç‰©ä½œä¸ºâ€œå†°çƒè¿åŠ¨å‘˜â€çš„å¤–è§‚å’Œç‰¹æ€§</li>
<li><strong>å›¾åƒç”ŸæˆèŠ‚ç‚¹</strong>ï¼šç»“åˆç”¨æˆ·é€‰æ‹©å’Œå›¾ç‰‡ç‰¹å¾æ¥ç”Ÿæˆéœ€è¦å±•ç°ç»™ç”¨æˆ·çš„å›¾ç‰‡</li>
<li><strong>ç»“æŸèŠ‚ç‚¹</strong>ï¼šå°†ç”Ÿæˆçš„æ–°å›¾åƒå±•ç¤ºç»™ç”¨æˆ·ã€‚</li>
</ol>
<p>ä»è¾“å…¥å›¾ç‰‡å¼€å§‹ï¼Œç»è¿‡å›¾åƒç†è§£ã€ç‰¹å¾æå–ã€ä»£ç å¤„ç†ä¸å›¾åƒç”Ÿæˆï¼Œæœ€ç»ˆè¾“å‡ºç»“æœçš„å®Œæ•´æµç¨‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/426b3ef3488b4e6785d0f9c81cfafaed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=UpPbl48Zgojr04EXmJ3ZUV16%2Fko%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-6">ä¸€ã€å¼€å§‹èŠ‚ç‚¹ï¼š</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šæµç¨‹å…¥å£ï¼Œæ¥æ”¶ç”¨æˆ·çš„åŸå§‹è¾“å…¥æ•°æ®ï¼Œå¯åŠ¨åç»­æµç¨‹ã€‚</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8feb15d81e684fa4a459ab917e8bdc10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=aEB73IXSTWS95z%2FKl7nMTib1zUw%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<p><strong>è¾“å…¥å‚æ•°</strong>ï¼š</p>






















































<table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>æ˜¯å¦å¿…å¡«</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>picture</code></td><td>Image</td><td>æ˜¯</td><td>â€”</td><td>â€”</td></tr><tr><td><code>style</code></td><td>String</td><td>å¦</td><td>å†™å®</td><td>ç”Ÿæˆç…§ç‰‡çš„è‰ºæœ¯é£æ ¼</td></tr><tr><td><code>uniform_number</code></td><td>Number</td><td>å¦</td><td>10</td><td>è¿åŠ¨å‘˜çš„å·ç </td></tr><tr><td><code>uniform_color</code></td><td>String</td><td>å¦</td><td>çº¢</td><td>çƒè¡£é¢œè‰²</td></tr><tr><td><code>position</code></td><td>Number</td><td>å¦</td><td>â€”</td><td>æ•´æ•°æšä¸¾ï¼Œ0ã€1ã€2ï¼Œåˆ†åˆ«ä¸ºå®ˆé—¨å‘˜ã€å‰é”‹ã€åå«ï¼Œé»˜è®¤éšæœº</td></tr><tr><td><code>shooting_hand</code></td><td>Number</td><td>å¦</td><td>â€”</td><td>æŒæ†æ‰‹ï¼Œæ•´æ•°æšä¸¾0ã€1ï¼Œåˆ†åˆ«ä¸ºå·¦æ‰‹ã€å³æ‰‹ï¼Œé»˜è®¤éšæœº</td></tr></tbody></table>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1366419c9ff647dab76092467e0204bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=Mg1N%2FFVaxds8l3pVM%2FmN09qpqQY%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-7">äºŒã€å›¾åƒç†è§£èŠ‚ç‚¹ï¼š<code>imgUnderstand</code></h3>
<p><strong>åŠŸèƒ½</strong>ï¼šä½¿ç”¨AIæ¨¡å‹åˆ†æå›¾åƒå†…å®¹ã€‚</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2e99d45c5004671be24c8c98dade677~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=1ug0GUm3JyHW%2F%2B7Pvocoeq1ukOs%3D" alt="åŠ¨ç”»1.gif" loading="lazy"/></p>
<p><strong>è¾“å…¥</strong>ï¼š</p>
<ul>
<li><code>text</code>ï¼šè¿™åº”è¯¥æ˜¯ä¸€å¼ å® ç‰©å›¾ç‰‡ï¼Œè¯·è¯¦ç»†æè¿°å® ç‰©çš„å¤–è²Œç‰¹å¾ã€‚</li>
<li><code>url</code>ï¼šé€‰æ‹©ä»å¼€å§‹å–åˆ°çš„å›¾ç‰‡</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80a5d2fc6eab4111879b92e745e3a87f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=oORGFh%2BgPDQywj7UYsN8srDA2io%3D" alt="image.png" loading="lazy"/></p>
<p><strong>è¾“å‡º</strong>ï¼šé€šè¿‡â€œæŸ¥çœ‹ç¤ºä¾‹â€å¯ä»¥æŸ¥çœ‹è¾“å‡ºæ•ˆæœ</p>
<ul>
<li><code>author</code>ï¼šä½œè€…ä¿¡æ¯</li>
<li><code>content</code>ï¼šå›¾åƒæè¿°æ–‡æœ¬</li>
<li><code>msg</code>ï¼šè¿”å›æ¶ˆæ¯</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/277a3ddb497c482a8f99e3a8b5e45b46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=a8inWfyAdhRtbInw6JrvfBQumvI%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€ç‰¹å¾æå–èŠ‚ç‚¹ï¼š</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šå¯¹æ–‡æœ¬è¿›è¡Œè¯­ä¹‰åˆ†æï¼Œæå–å…³é”®è¯æˆ–ç»“æ„åŒ–ä¿¡æ¯ã€‚</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9eb4a621c20641288938982677475d79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=Ap7wnZaeq2wsYECffI7IpOLIKNE%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<p><strong>æ¨¡å‹</strong>ï¼šè±†åŒ…Â·1.5 Â· Pro Â· 32kï¼ˆé»˜è®¤å³å¯ï¼‰</p>
<p><strong>æŠ€èƒ½</strong>ï¼šæ— éœ€é…ç½®æŠ€èƒ½</p>
<p><strong>è¾“å…¥</strong>ï¼šè¿æ¥<strong>å›¾åƒç†è§£èŠ‚ç‚¹</strong>ä¼šè‡ªåŠ¨é…ç½® <code>imgUnderstand</code> çš„ <code>content</code> å­—æ®µä¸º <code>input</code> ä¸­çš„å˜é‡å€¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ee47831a6704f049954c9dfbfd65d6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=FwtijCWW7qYvel0GRLnDVA9fqHc%3D" alt="åŠ¨ç”»1.gif" loading="lazy"/>
<strong>ç³»ç»Ÿæç¤ºè¯</strong>ï¼šä¸ºå¯¹è¯æä¾›ç³»ç»Ÿçº§æŒ‡å¯¼ï¼Œåœ¨æ­¤ä¹‹ä¸­å¯ä»¥ä½¿ç”¨{{å˜é‡å}}ç­‰æ–¹å¼å¼•ç”¨å˜é‡ï¼ˆæ­¤å¤„æˆ‘ä»¬å¯¼å…¥æ–‡å­—æç¤ºè¯å³å¯ï¼‰</p>
<pre><code class="hljs">ä½ æ˜¯åŠ¨ç‰©å­¦å®¶ï¼Œè´Ÿè´£ä»åŠ¨ç‰©æè¿°ä¸­æå–å‡ºè¯¥åŠ¨ç‰©ï¼ˆä¸»è¦æ˜¯å¤–è¡¨ï¼‰é‡Œæœ€æœ‰ç‹¬ç‰¹æ€§çš„ç‰¹å¾ï¼Œä¾‹å¦‚ç‰¹å¾çš„è‚¤è‰²ã€è¡¨æƒ…ã€ç¥æ€ã€åŠ¨ä½œç­‰ç­‰ã€‚
</code></pre>
<p><strong>ç”¨æˆ·æç¤ºè¯</strong>ï¼šå‘æ¨¡å‹æä¾›ç”¨æˆ·æŒ‡ä»¤ï¼ˆæ­¤å¤„æˆ‘ä»¬å¯¼å…¥è¾“å…¥å˜é‡<code>input</code>ï¼‰</p>
<pre><code class="hljs language-css" lang="css">{{<span class="hljs-selector-tag">input</span>}}
</code></pre>
<p><strong>è¾“å‡º</strong>ï¼š<code>output</code>ï¼ˆé»˜è®¤å³å¯ï¼‰</p>
<hr/>
<h3 data-id="heading-9">å››ã€ä»£ç èŠ‚ç‚¹ï¼š</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šæ‰§è¡Œè‡ªå®šä¹‰ä»£ç é€»è¾‘ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å¤„ç†ç”¨æˆ·æä¾›çš„å‚æ•°æˆ–ç”Ÿæˆé»˜è®¤å€¼</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/174af5b840094b168a08be9c16bc87f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=hAmiFKaKidL2mxEkSMlqcpTfBN4%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<p><strong>è¾“å…¥</strong>ï¼šä»<strong>å¼€å§‹èŠ‚ç‚¹</strong>é‡Œé¢å¯¼å…¥<code>shooting_hand</code>ã€<code>style</code>ã€<code>uniform_number</code>ã€<code>uniform_color</code>ã€<code>position</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b0214e8358c4463890c65aaa2ece1de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=IK9xxmQeQ1FsCeXAnfHuGym2%2BWc%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä»£ç é€»è¾‘</strong>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">random</span> = (<span class="hljs-params">start: <span class="hljs-built_in">number</span>, end: <span class="hljs-built_in">number</span></span>) =&gt; {
    <span class="hljs-comment">// ç”Ÿæˆä¸€ä¸ª [0, 1) ä¹‹é—´çš„éšæœºæ•°</span>
    <span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();
    <span class="hljs-comment">// çº¿æ€§æ’å€¼ + å‘ä¸‹å–æ•´</span>
    <span class="hljs-comment">// start * (1 - p) + end * p åªä¼šè®©æ•°æ®å±…äº[start, end)ä¹‹é—´</span>
    <span class="hljs-comment">// å†å‘ä¸‹å–æ•´ä½¿æ•°æ®åªä¸ºæ•´æ•°å¹¶ä¸”å°äºend</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(start * (<span class="hljs-number">1</span> - p) + end * p);
}

<span class="hljs-comment">//å¯¹ç”¨æˆ·ä¼ å…¥çš„å‚æ•°è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†å’Œé»˜è®¤å€¼å¡«å……ï¼Œä»¥ä¾¿åç»­ç”¨äºå›¾åƒç”Ÿæˆ prompt çš„æ„å»º</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">{ params }: Args</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Output</span>&gt; {
    <span class="hljs-keyword">if</span> (params.<span class="hljs-property">position</span> == <span class="hljs-literal">null</span>) params.<span class="hljs-property">position</span> = <span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>);
    <span class="hljs-keyword">if</span> (params.<span class="hljs-property">shooting_hand</span> == <span class="hljs-literal">null</span>) params.<span class="hljs-property">shooting_hand</span> = <span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>);

    <span class="hljs-keyword">const</span> style = params.<span class="hljs-property">style</span> || <span class="hljs-string">'å†™å®'</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-attr">uniform_number</span>:<span class="hljs-built_in">string</span> = (params.<span class="hljs-property">uniform_number</span> || <span class="hljs-number">10</span>).<span class="hljs-title function_">toString</span>();
    <span class="hljs-keyword">const</span> uniform_color = params.<span class="hljs-property">uniform_color</span> || <span class="hljs-string">'çº¢'</span>;
    <span class="hljs-keyword">const</span> position = params.<span class="hljs-property">position</span>  == <span class="hljs-number">0</span> ? <span class="hljs-string">'å®ˆé—¨å‘˜'</span>: (params.<span class="hljs-property">position</span> == <span class="hljs-number">1</span> ? <span class="hljs-string">'å‰é”‹'</span>: <span class="hljs-string">'åå«'</span>);
    <span class="hljs-keyword">const</span> shooting_hand = params.<span class="hljs-property">shooting_hand</span> == <span class="hljs-number">0</span> ? <span class="hljs-string">'å·¦æ‰‹'</span>: <span class="hljs-string">'å³æ‰‹'</span>;
    <span class="hljs-keyword">const</span> empty_hand = params.<span class="hljs-property">shooting_hand</span> ? <span class="hljs-string">'å·¦æ‰‹'</span>: <span class="hljs-string">'å³æ‰‹'</span>;

    <span class="hljs-comment">// æ„å»ºè¾“å‡ºå¯¹è±¡</span>
    <span class="hljs-keyword">const</span> ret = {
        style,
        uniform_number,
        uniform_color,
        position,
        shooting_hand,
    };

    <span class="hljs-keyword">return</span> ret;
}
</code></pre>
<p><strong>è¾“å‡º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35e679b6cd98469b96b3f396076950a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=zdaGnl8bizBLMpo2bELZMha1ivY%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-10">äº”ã€å›¾åƒç”ŸæˆèŠ‚ç‚¹ï¼š</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šæ ¹æ®æè¿°ç”Ÿæˆæ–°å›¾åƒã€‚</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68ddd6a9d71c4f5689d43391c768b3a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=FnVWlH52RpPGgeayQE8XPMMHCOg%3D" alt="åŠ¨ç”»1.gif" loading="lazy"/></p>
<p><strong>æ¨¡å‹è®¾ç½®</strong>ï¼šé€‰æ‹©<strong>é€šç”¨</strong>å³å¯ï¼Œæ¯”ä¾‹æŒ‰ç…§è‡ªèº«å–œå¥½è°ƒèŠ‚</p>
<p><strong>å‚è€ƒå›¾</strong>ï¼šæ·»åŠ å‚è€ƒå›¾ï¼Œæ¨¡å‹é€‰æ‹©â€œå½¢è±¡ä¸€è‡´â€ï¼Œå‚è€ƒå›¾é€‰æ‹©å¼€å§‹èŠ‚ç‚¹ä¸­çš„ <code>picture</code>ï¼Œç¨‹åº¦è°ƒä¸º 0.7</p>
<blockquote>
<p><strong>ç¨‹åº¦</strong>ï¼šå†³å®šäº†å‚è€ƒå›¾å¯¹æœ€ç»ˆç”Ÿæˆå›¾åƒçš„å½±å“ç¨‹åº¦ã€‚æ•°å€¼èŒƒå›´é€šå¸¸æ˜¯ä»0åˆ°1ï¼Œå…¶ä¸­0è¡¨ç¤ºå®Œå…¨ä¸è€ƒè™‘å‚è€ƒå›¾ï¼Œè€Œ1è¡¨ç¤ºå°½å¯èƒ½åœ°æ¨¡ä»¿å‚è€ƒå›¾ã€‚</p>
</blockquote>
<p><strong>è¾“å…¥</strong>ï¼š</p>
<ul>
<li><code>description</code>ï¼šå›¾ç‰‡æè¿°ï¼Œå¯¼å…¥<code>imgUnderstand</code>èŠ‚ç‚¹ä¸­çš„<code>content</code></li>
<li>ä»<strong>ä»£ç èŠ‚ç‚¹</strong>é‡Œé¢å¯¼å…¥å¤„ç†åçš„<code>shooting_hand</code>ã€<code>style</code>ã€<code>uniform_number</code>ã€<code>uniform_color</code>ã€<code>position</code></li>
<li><code>details</code>ï¼šè¯¦ç»†ä¿¡æ¯ï¼Œå¯¼å…¥<strong>ç‰¹å¾æå–èŠ‚ç‚¹</strong>ä¸­çš„<code>output</code>ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed8e1f625a744f4ab18335c855c8682b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=nTE3xMaAGhcnhLQVQMeJ7I9ppf8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æç¤ºè¯</strong>ï¼šç”Ÿæˆå†…å®¹çš„æç¤ºè¯ï¼Œåˆ†ä¸ºä¸¤ç±»</p>
<ul>
<li>æ­£å‘æç¤ºè¯ï¼šå¼•å¯¼ç”Ÿæˆå†…å®¹</li>
</ul>

<pre><code class="hljs language-bash" lang="bash">ç”¨åŠ¨ç‰©çš„å½¢è±¡å’Œç‰¹å¾ï¼Œå°†è¯¥åŠ¨ç‰©**æ‹Ÿäºº**ä¸ºä¸€åå® ç‰©å„¿ç«¥å†°çƒå‘˜ï¼Œç”Ÿæˆ{{style}}é£æ ¼çš„å†°çƒçƒå‘˜ç…§ç‰‡ï¼Œçƒå‘˜èº«ç©¿
{{uniform_color}}è‰²é˜Ÿæœï¼Œä½©æˆ´åŒè‰²çš„å†°çƒå¤´ç›”ï¼Œé˜Ÿæœå·ç ä¸º{{uniform_number}}å·ï¼Œçƒå‘˜ä½ç½®æ˜¯{{position}}ï¼Œ
ç”¨{{shooting_hand}}æ¡ç€çƒæ†ï¼Œå¦ä¸€åªæ‰‹ç©ºç€ã€‚è¯¥ç…§ç‰‡å›¾åƒé£æ ¼ä¸º{{style}}ã€‚

<span class="hljs-comment"># åŠ¨ç‰©å½¢è±¡æè¿°</span>
{{description}}

<span class="hljs-comment"># ç‹¬ç‰¹å¤–è²Œç‰¹å¾</span>
{{details}}

<span class="hljs-comment"># æ³¨æ„</span>
- ç…§ç‰‡ä¸­åº”å¼ºåŒ–åŠ¨ç‰©ç‹¬ç‰¹çš„å¤–è²Œç‰¹å¾ï¼Œä»¥å¢åŠ è¾¨è¯†åº¦
- å¦‚æœçƒå‘˜ä½ç½®æ˜¯å®ˆé—¨å‘˜ï¼Œç”»é¢ä¸­åº”è¯¥æœ‰å†°çƒçƒé—¨
</code></pre>
<ul>
<li>åå‘æç¤ºè¯ï¼šæ’é™¤ä¸è‰¯æˆ–æ— å…³å…ƒç´ </li>
</ul>

<pre><code class="hljs">çƒå‘˜åŒæ‰‹å„æ¡ä¸€æ ¹çƒæ†
çƒå‘˜æœªä½©æˆ´å¤´ç›”
çƒå‘˜åƒä¸œè¥¿
ç”»é¢ä¸­å‡ºç°é™¤äº†å†°çƒä¹‹å¤–çš„å…¶ä»–çƒç±»
åœ°ç‚¹ä¸åœ¨å†°çƒèµ›åœº
çƒå‘˜å››è¶³ç«™ç«‹
</code></pre>
<p><strong>è¾“å‡º</strong>ï¼š</p>
<ul>
<li><code>data</code>ï¼šç”Ÿæˆå›¾åƒçš„äºŒè¿›åˆ¶æ•°æ®æˆ–URL</li>
<li><code>msg</code>ï¼šçŠ¶æ€ä¿¡æ¯</li>
</ul>
<hr/>
<h3 data-id="heading-11">å…­ã€ç»“æŸèŠ‚ç‚¹ï¼š</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šå·¥ä½œæµçš„æœ€ç»ˆèŠ‚ç‚¹ï¼Œè¿”å›å·¥ä½œæµè¿è¡Œåçš„ç»“æœä¿¡æ¯ã€‚</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/313572efb6f2415ca6c38b880592ca13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=Y4q6zvTBRzDTvoUFzjtbdy%2FEKyw%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<p><strong>è¾“å‡ºå˜é‡</strong>ï¼šè¿æ¥<strong>å›¾åƒç”ŸæˆèŠ‚ç‚¹</strong></p>
<ul>
<li><code>output</code>ï¼šæœ€ç»ˆç»“æœï¼Œå˜é‡å€¼ä¸º<strong>å›¾åƒç”ŸæˆèŠ‚ç‚¹</strong>ä¸­çš„<code>data</code></li>
</ul>
<p><strong>å›ç­”å†…å®¹</strong>ï¼šç¼–è¾‘æ™ºèƒ½ä½“å›å¤çš„å†…å®¹ï¼Œæˆ‘ä»¬è¿™é‡Œä¸ä¿®æ”¹ç›´æ¥è¾“å‡ºå›¾ç‰‡ï¼ˆä¸éœ€è¦æµå¼è¾“å‡ºï¼‰</p>
<pre><code class="hljs language-lua" lang="lua">{{<span class="hljs-built_in">output</span>}}
</code></pre>
<blockquote>
<p><strong>æµå¼è¾“å‡º</strong>ï¼šå›å¤å†…å®¹ä¸­çš„å¤§è¯­è¨€æ¨¡å‹çš„ç”Ÿæˆå†…å®¹å°†ä¼šé€å­—æµå¼è¾“å‡ºï¼›å…³é—­åï¼Œå›å¤å†…å®¹å°†å…¨éƒ¨ç”Ÿæˆåä¸€æ¬¡æ€§è¾“å‡º</p>
</blockquote>
<hr/>
<h3 data-id="heading-12">æµ‹è¯•ï¼š</h3>
<p>åœ¨è¿æ¥å¥½å·¥ä½œæµåï¼Œæˆ‘ä»¬å½“ç„¶éœ€è¦è¿›è¡Œæµ‹è¯•ï¼Œä»¥ä¿è¯èŠ‚ç‚¹ä¸­æ²¡æœ‰å‘ç”Ÿé”™è¯¯</p>
<p><strong>æ“ä½œæ¼”ç¤º</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cd4b8787c1f47c8a29f41843d9bab89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=crJiIUw%2F2Itw59Nn127M%2B8hR3dc%3D" alt="åŠ¨ç”»1.gif" loading="lazy"/></p>
<h3 data-id="heading-13">åè¯ï¼š</h3>
<p>å½“ç„¶ï¼Œåœ¨ä½ æµ‹è¯•æ— è¯¯ä¹‹åï¼Œå¯ä»¥ç‚¹å‡»å³ä¸Šè§’çš„å‘å¸ƒæ¥å‘åˆ«äººåˆ†äº«ä½ ç¬¬ä¸€æ¬¡åˆ›ä½œçš„å·¥ä½œæµã€‚</p>
<p>å‘å¸ƒä¹‹åï¼Œåœ¨ä½ èµ„æºåº“ä¸­çš„å·¥ä½œæµä¸­å°±èƒ½æ‰¾åˆ°ä½ æ‰€å‘å¸ƒçš„èµ„æºäº†ã€‚</p>
<h2 data-id="heading-14">ğŸ’» å‰ç«¯å®ç°è¯¦è§£ï¼ˆVue3 + JavaScriptï¼‰</h2>
<h3 data-id="heading-15">ä¸€ã€ <code>&lt;template&gt;</code> â€”â€” è§†è§‰å±‚å¸ƒå±€</h3>
<p>é¦–å…ˆæˆ‘ä»¬ç¡®å®šç»„ä»¶çš„ä¸»è¦åŠŸèƒ½ä¸º---ç”¨æˆ·å¯ä»¥ä¸Šä¼ ä¸€å¼ å›¾ç‰‡ï¼Œå¹¶æ ¹æ®ä¸åŒçš„å‚æ•°ï¼ˆå¦‚é˜Ÿæœç¼–å·ã€é¢œè‰²ç­‰ï¼‰è¿›è¡Œä¸ªæ€§åŒ–è®¾ç½®ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬çš„UIå¸ƒå±€ï¼ŒåŒ…æ‹¬ä¸¤å—åŒºåŸŸï¼šè¾“å…¥åŒºåŸŸï¼ˆç”¨äºä¸Šä¼ å›¾ç‰‡å’Œé€‰æ‹©å‚æ•°ï¼‰å’Œ è¾“å‡ºåŒºåŸŸï¼ˆå±•ç¤ºç”Ÿæˆçš„ç»“æœï¼‰ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¾“å…¥åŒºåŸŸ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"file-input"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"uploadImage"</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">"image/*"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"updateImageData"</span> <span class="hljs-attr">required</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"imgPreview"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"imgPreview"</span> /&gt;</span>
      <span class="hljs-comment">&lt;!-- ç”¨æˆ·é€‰æ‹©å‚æ•°åŒºåŸŸ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"settings"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>é˜Ÿæœç¼–å·ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"uniform_number"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>é˜Ÿæœé¢œè‰²ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"uniform_color"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"çº¢"</span>&gt;</span>çº¢<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"è“"</span>&gt;</span>è“<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ç»¿"</span>&gt;</span>ç»¿<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ç™½"</span>&gt;</span>ç™½<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"é»‘"</span>&gt;</span>é»‘<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"settings"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>ä½ç½®ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"position"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0"</span>&gt;</span>å®ˆé—¨å‘˜<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1"</span>&gt;</span>å…ˆé”‹<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"2"</span>&gt;</span>åå«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>æŒæ†ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"shooting_hand"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0"</span>&gt;</span>å·¦æ‰‹<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1"</span>&gt;</span>å³æ‰‹<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>é£æ ¼ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"style"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"å†™å®"</span>&gt;</span>å†™å®<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ä¹é«˜"</span>&gt;</span>ä¹é«˜<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"å›½æ¼«"</span>&gt;</span>å›½æ¼«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"æ—¥æ¼«"</span>&gt;</span>æ—¥æ¼«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"æ²¹ç”»"</span>&gt;</span>æ²¹ç”»<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"æ¶‚é¸¦"</span>&gt;</span>æ¶‚é¸¦<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ç´ æ"</span>&gt;</span>ç´ æ<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"generate"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"generate"</span>&gt;</span>ç”Ÿæˆ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¾“å‡ºåŒºåŸŸ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"output"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"generated"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"imgUrl"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"imgUrl"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"status"</span>&gt;</span>{{ status }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<hr/>
<h4 data-id="heading-16">1ã€è¾“å…¥éƒ¨åˆ†ï¼ˆ<code>input</code>ï¼‰ï¼š</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"uploadImage"</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">"image/*"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"updateImageData"</span> <span class="hljs-attr">required</span> /&gt;</span>
</code></pre>
<p>è¿™æ®µä»£ç å®ç°äº† <strong>è®©ç”¨æˆ·é€‰æ‹©æœ¬åœ°æ–‡ä»¶å¹¶ä¸”è§¦å‘é¢„è§ˆæ›´æ–°</strong></p>
<ul>
<li><code>type="file"</code>ï¼šå£°æ˜è¿™æ˜¯ä¸€ä¸ª<strong>æ–‡ä»¶ä¸Šä¼ æ§ä»¶</strong>ï¼Œç‚¹å‡»åä¼šå¼¹å‡ºç³»ç»Ÿæ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ã€‚</li>
<li><code>accept="image/*"</code>ï¼š<strong>é™åˆ¶ç”¨æˆ·åªèƒ½é€‰æ‹©å›¾ç‰‡æ–‡ä»¶</strong>ï¼Œé˜²æ­¢æ— æ•ˆè¾“å…¥ã€‚Â </li>
<li><code>@change="updateImageData"</code>ï¼šå½“ç”¨æˆ·<strong>é€‰ä¸­ä¸€å¼ å›¾ç‰‡å</strong>ï¼Œä¼šç«‹å³è§¦å‘Â updateImageDataÂ æ–¹æ³•ï¼ˆç”¨äºå°†å›¾ç‰‡æ–‡ä»¶è½¬æ¢ä¸ºå¯ä»¥ç›´æ¥é¢„è§ˆçš„ URLï¼‰</li>
<li><code>ref="uploadImage"</code>ï¼šä¸ºè¿™ä¸ª input å…ƒç´ æ³¨å†Œä¸€ä¸ªÂ <strong>å¼•ç”¨æ ‡è¯†</strong>ï¼Œæ–¹ä¾¿åœ¨ <code>&lt;script setup&gt;</code> ä¸­é€šè¿‡å£°æ˜ä¸€ä¸ªç›¸åŒåç§°çš„ ref å˜é‡ æ¥ç›´æ¥è®¿é—®è¯¥ DOM å…ƒç´ ã€‚</li>
<li><code>required</code>ï¼š è¡¨ç¤ºè¯¥å­—æ®µæ˜¯<strong>å¿…å¡«é¡¹</strong>ã€‚</li>
</ul>
<blockquote>
<h5 data-id="heading-17">å¯¹æ¯” <code>ref</code> å’Œ <code>v-model</code>:</h5>
<ul>
<li><code>v-model</code>ï¼šåŒæ­¥â€œæ•°æ®å€¼â€ï¼Œå¹¶ä¸”å¯ä»¥è‡ªåŠ¨æ›´æ–°ï¼ˆ<strong>å…³å¿ƒçš„æ˜¯â€œå€¼â€æœ¬èº«</strong>ï¼‰</li>
<li><code>ref</code>ï¼šè·å–â€œDOMå…ƒç´ â€ï¼Œè€Œä¸”éœ€è¦æ‰‹åŠ¨æ›´æ–°ï¼ˆ<strong>éœ€è¦è®¿é—® DOM çš„åŸç”Ÿèƒ½åŠ›</strong>ï¼‰</li>
</ul>
<p>âš ï¸å¹¶ä¸”åœ¨ <strong><code>&lt;input type="file"&gt;</code>ä¸­Â æ— æ³•ä½¿ç”¨Â <code>v-model</code></strong>ï¼</p>
<p>å› ä¸ºæµè§ˆå™¨å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œä¸å…è®¸ JSÂ <strong>è®¾ç½®</strong>Â file input çš„å€¼ï¼Œåªèƒ½<strong>è¯»å–</strong>ã€‚æ‰€ä»¥å¿…é¡»ç”¨Â <code>ref</code>Â æ¥è¯»å–ç”¨æˆ·é€‰ä¸­çš„æ–‡ä»¶ã€‚</p>
</blockquote>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"imgPreview"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"imgPreview"</span> /&gt;</span>
</code></pre>
<p>åœ¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡åï¼Œéœ€è¦åŠæ—¶ç»™äºˆ<strong>ç”¨æˆ·åé¦ˆ</strong>ï¼ˆè®©ç”¨æˆ·çŸ¥é“è‡ªå·±è¡Œä¸ºé©±åŠ¨äº†é¡µé¢ï¼Œè€Œä¸æ˜¯æ¯«æ— ä½œç”¨ï¼‰ï¼Œæ‰€ä»¥éœ€è¦å±•ç¤ºé¢„è§ˆå›¾ï¼Œè®©ç”¨æˆ·çŸ¥é“ä¸Šä¼ å›¾ç‰‡æˆåŠŸäº†ã€‚</p>
<ul>
<li><code>:src="imgPreview"</code>ï¼šåŠ¨æ€ç»‘å®šå“åº”å¼å˜é‡ imgPreviewï¼Œç”¨äºè‡ªåŠ¨æ›´æ–°å›¾ç‰‡ã€‚</li>
<li><code>v-if="imgPreview"</code>ï¼šæ¡ä»¶æ¸²æŸ“ï¼Œåªæœ‰å½“ç”¨æˆ·æˆåŠŸä¸Šä¼ åæ‰èƒ½æ¸²æŸ“<code>&lt;img&gt;</code>å…ƒç´ ï¼Œé¿å…æœªä¸Šä¼ æ—¶æ˜¾ç¤ºç©ºç™½å ä½å›¾ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-18">2ã€ç”¨æˆ·é€‰æ‹©å‚æ•°éƒ¨åˆ†ï¼ˆ<code>settings</code>ï¼‰ï¼š</h4>
<pre><code class="hljs language-html" lang="html">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"selection"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>é˜Ÿæœé¢œè‰²ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"uniform_color"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"çº¢"</span>&gt;</span>çº¢<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
      ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>å“åº”å¼çš„é€‰æ‹©å™¨</strong>ï¼Œä»¥ä¾¿äºç”¨æˆ·é€‰æ‹©å‚æ•°</p>
<ul>
<li><code>&lt;label&gt;é˜Ÿæœé¢œè‰²ï¼š&lt;/label&gt;</code>ï¼šæä¾›æ–‡å­—è¯´æ˜ï¼Œå‘Šè¯‰ç”¨æˆ·è¿™ä¸ªä¸‹æ‹‰æ¡†çš„ä½œç”¨</li>
<li><code>&lt;select&gt;</code>ï¼šHTML çš„ä¸‹æ‹‰é€‰æ‹©æ§ä»¶</li>
<li><code>v-model="uniform_color"</code>ï¼š<strong>åŒå‘ç»‘å®š</strong> uniform_color ç”¨äºåŒæ­¥ç”¨æˆ·é€‰æ‹©æ•°æ®</li>
<li><code>&lt;option value="çº¢"&gt;çº¢&lt;/option&gt;</code>ï¼šæ¯ä¸ªÂ <code>&lt;option&gt;</code>Â ä»£è¡¨ä¸€ä¸ªå¯é€‰é¡¹ï¼Œè¯¥é€‰é¡¹è¢«é€‰ä¸­æ—¶ï¼Œèµ‹ç»™Â uniform_colorÂ çš„<strong>å®é™…å€¼</strong>å°±ä¸ºçº¢</li>
</ul>
<hr/>
<h4 data-id="heading-19">3ã€è¾“å‡ºéƒ¨åˆ†ï¼ˆ<code>output</code>ï¼‰ï¼š</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"imgUrl"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"imgUrl"</span>&gt;</span>
</code></pre>
<p>åŒä¸Šï¼Œç»‘å®šçš„å“åº”å¼å˜é‡ imgUrl ç”¨äºè¿”è¿˜ Coze å·¥ä½œæµç”Ÿæˆåçš„å›¾ç‰‡</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"status"</span>&gt;</span>{{ status }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>æ˜¾ç¤ºå½“å‰æ“ä½œçš„çŠ¶æ€æç¤ºä¿¡æ¯</strong>ï¼Œä¸ºç”¨æˆ·æä¾›åŠæ—¶çš„åé¦ˆ</p>
<ul>
<li><code>v-if="status"</code>ï¼šåªæœ‰å½“Â statusÂ æœ‰å†…å®¹æ—¶æ‰æ¸²æŸ“</li>
<li><code>{{ status }}</code>ï¼šå°†Â statusÂ çš„æ–‡æœ¬å†…å®¹æ’å…¥åˆ°é¡µé¢ä¸­</li>
</ul>
<hr/>
<h3 data-id="heading-20">äºŒã€<code>&lt;script setup&gt;</code> â€”â€” ä¸šåŠ¡é€»è¾‘æ ¸å¿ƒ</h3>
<p>åŸºäºä¸šåŠ¡éœ€æ±‚ï¼Œæˆ‘ä»¬çš„å¼€å‘æµç¨‹æ€»ä½“ä¸ºï¼š<strong>å®šä¹‰å“åº”å¼çŠ¶æ€ï¼ˆæ•°æ®å±‚ï¼‰</strong> --&gt; <strong>å®ç°å›¾ç‰‡é¢„è§ˆï¼ˆæœ¬åœ°äº¤äº’ï¼‰</strong> --&gt; <strong>å®ç°æ–‡ä»¶ä¸Šä¼ åˆ° Cozeï¼ˆå‰ç½®ä¾èµ–ï¼‰</strong> --&gt; <strong>è°ƒç”¨å·¥ä½œæµç”Ÿæˆå›¾åƒï¼ˆæ ¸å¿ƒä¸šåŠ¡ï¼‰</strong> --&gt; <strong>ç¯å¢ƒå˜é‡ä¸ API é…ç½®ï¼ˆæ”¯æ’‘ä¿¡æ¯ï¼‰</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// --------------- å®šä¹‰å“åº”å¼çŠ¶æ€ -------------------</span>
<span class="hljs-keyword">const</span> uniform_number = <span class="hljs-title function_">ref</span>(<span class="hljs-number">10</span>);
<span class="hljs-keyword">const</span> uniform_color = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'çº¢'</span>);
<span class="hljs-keyword">const</span> position = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> shooting_hand = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> style = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'å†™å®'</span>)
<span class="hljs-comment">// æ•°æ®çŠ¶æ€</span>
<span class="hljs-keyword">const</span> status = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);     <span class="hljs-comment">// åé¦ˆç”¨æˆ·å½“å‰æ“ä½œçŠ¶æ€ï¼ˆç©º / ä¸Šä¼ ä¸­ / ç”Ÿæˆä¸­ / é”™è¯¯ï¼‰</span>
<span class="hljs-keyword">const</span> imgUrl = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);     <span class="hljs-comment">// ç”¨äºå­˜å‚¨æœ€ç»ˆç”Ÿæˆçš„å›¾ç‰‡ URL</span>
<span class="hljs-keyword">const</span> imgPreview = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>); <span class="hljs-comment">// ç”¨äºæœ¬åœ°é¢„è§ˆç”¨æˆ·ä¸Šä¼ çš„åŸå›¾</span>

<span class="hljs-comment">// --------------- å›¾ç‰‡é¢„è§ˆæ¨¡å— -------------------</span>
<span class="hljs-keyword">const</span> uploadImage = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);

<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uploadImage.<span class="hljs-property">value</span>)
})
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateImageData</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> input = uploadImage.<span class="hljs-property">value</span>;
  <span class="hljs-keyword">if</span> (!input.<span class="hljs-property">files</span> || input.<span class="hljs-property">files</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">const</span> file = input.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(file);
  <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();
  reader.<span class="hljs-title function_">readAsDataURL</span>(file); 
  reader.<span class="hljs-property">onload</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> { 
    imgPreview.<span class="hljs-property">value</span> = e.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
  }
}


<span class="hljs-comment">// --------------- å¤§å‚å¸¸ç”¨ä¸šåŠ¡è¯·æ±‚ ----------------</span>
<span class="hljs-keyword">const</span> patToken = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_PAT_TOKEN</span>;
<span class="hljs-keyword">const</span> uploadUrl = <span class="hljs-string">'https://api.coze.cn/v1/files/upload'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">uploadFile</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>(); 
  <span class="hljs-keyword">const</span> input = uploadImage.<span class="hljs-property">value</span>;
  <span class="hljs-keyword">if</span> (!input.<span class="hljs-property">files</span> || input.<span class="hljs-property">files</span>.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
  formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'file'</span>, input.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]);

  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(uploadUrl, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${patToken}</span>`</span>
    },
    <span class="hljs-attr">body</span>: formData
  })

  <span class="hljs-keyword">const</span> ret = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ret);

  <span class="hljs-keyword">if</span>( ret.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {
    status.<span class="hljs-property">value</span> = ret.<span class="hljs-property">msg</span>; 
    <span class="hljs-keyword">return</span>
  }
  <span class="hljs-keyword">return</span> ret.<span class="hljs-property">data</span>.<span class="hljs-property">id</span>;
}

<span class="hljs-comment">// --------------- ç”Ÿæˆå›¾ç‰‡æ¨¡å— -------------------</span>
<span class="hljs-keyword">const</span> workflowUrl = <span class="hljs-string">'https://api.coze.cn/v1/workflow/run'</span>;
<span class="hljs-keyword">const</span> workflow_id = <span class="hljs-string">'XXXXXXX'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">generate</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  status.<span class="hljs-property">value</span> = <span class="hljs-string">"å›¾ç‰‡ä¸Šä¼ ä¸­..."</span>
  <span class="hljs-keyword">const</span> file_id = <span class="hljs-keyword">await</span> <span class="hljs-title function_">uploadFile</span>();
  <span class="hljs-keyword">if</span> (!file_id) <span class="hljs-keyword">return</span>;
  status.<span class="hljs-property">value</span> = <span class="hljs-string">"å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨ç”Ÿæˆ..."</span>;

<span class="hljs-comment">// workflow è°ƒç”¨ </span>
  <span class="hljs-keyword">const</span> parameters = {
    <span class="hljs-attr">picture</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      file_id
    }),
    <span class="hljs-attr">style</span>: style.<span class="hljs-property">value</span>,
    <span class="hljs-attr">uniform_color</span>: uniform_color.<span class="hljs-property">value</span>,
    <span class="hljs-attr">uniform_number</span>: uniform_number.<span class="hljs-property">value</span>,
    <span class="hljs-attr">position</span>: position.<span class="hljs-property">value</span>,
    <span class="hljs-attr">shooting_hand</span>: shooting_hand.<span class="hljs-property">value</span>,
  }

  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(workflowUrl, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${patToken}</span>`</span>,
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
    },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      workflow_id,
      parameters
    })
  });
  <span class="hljs-keyword">const</span> ret = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
  <span class="hljs-keyword">if</span>( ret.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {
    status.<span class="hljs-property">value</span> = ret.<span class="hljs-property">msg</span>;
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(ret.<span class="hljs-property">data</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
  status.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
  imgUrl.<span class="hljs-property">value</span> = data.<span class="hljs-property">data</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<hr/>
<h4 data-id="heading-21">1ã€å®šä¹‰å“åº”å¼çŠ¶æ€ï¼ˆæ•°æ®å±‚ï¼‰:</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç”¨æˆ·é€‰æ‹©å‚æ•°ï¼Œå¹¶ä¸”è®¾å®šåˆå§‹å€¼</span>
<span class="hljs-keyword">const</span> uniform_number = <span class="hljs-title function_">ref</span>(<span class="hljs-number">10</span>);
<span class="hljs-keyword">const</span> uniform_color = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'çº¢'</span>);
<span class="hljs-keyword">const</span> position = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> shooting_hand = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> style = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'å†™å®'</span>)

<span class="hljs-comment">// æ•°æ®çŠ¶æ€</span>
<span class="hljs-keyword">const</span> status = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>); <span class="hljs-comment">// ç©º -&gt; ä¸Šä¼ ä¸­ -&gt; ç”Ÿæˆä¸­ -&gt; ç”ŸæˆæˆåŠŸ</span>
<span class="hljs-keyword">const</span> imgUrl = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>); <span class="hljs-comment">// ç”Ÿæˆå›¾ç‰‡url</span>
</code></pre>
<hr/>
<h4 data-id="heading-22">2ã€å›¾ç‰‡é¢„è§ˆåŠŸèƒ½ï¼ˆæœ¬åœ°äº¤äº’ï¼‰:</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> uploadImage = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);

<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uploadImage.<span class="hljs-property">value</span>)
})
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateImageData</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> input = uploadImage.<span class="hljs-property">value</span>;
  <span class="hljs-keyword">if</span> (!input.<span class="hljs-property">files</span> || input.<span class="hljs-property">files</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">const</span> file = input.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];
  <span class="hljs-comment">// console.log(file);</span>
  <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();
  reader.<span class="hljs-title function_">readAsDataURL</span>(file); 
  reader.<span class="hljs-property">onload</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> { 
    imgPreview.<span class="hljs-property">value</span> = e.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
  }
}
</code></pre>
<h5 data-id="heading-23">å®šä¹‰å“åº”å¼å¼•ç”¨</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> uploadImage = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);
</code></pre>
<p>æ ‡è®°æ¨¡æ¿ä¸­çš„ <code>&lt;input type="file"&gt;</code>å…ƒç´ ï¼ŒæœªæŒ‚è½½å‰ä¸º nullï¼Œä¾¿äºè®¿é—®è¯¥DOMå…ƒç´ </p>
<h5 data-id="heading-24">ç”Ÿå‘½å‘¨æœŸé’©å­ï¼šç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œçš„æ“ä½œ</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// null -&gt; DOMå¯¹è±¡ ï¼ˆå˜åŒ–ï¼‰</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uploadImage.<span class="hljs-property">value</span>)
})
</code></pre>
<p>è¾“å‡ºÂ uploadImage.valueÂ åˆ°æ§åˆ¶å°ï¼Œä¾¿äºæ£€æŸ¥æ­¤æ—¶æ˜¯å¦å·²ç»æ­£ç¡®ç»‘å®šäº†Â <code>&lt;input&gt;</code>Â å…ƒç´ ã€‚å¦‚æœç»‘å®šæˆåŠŸï¼ŒuploadImage.valueÂ å°±æŒ‡å‘ä¸Šé¢çš„Â <code>&lt;input&gt;</code>Â å…ƒç´ ã€‚</p>
<h5 data-id="heading-25">æ›´æ–°å›¾ç‰‡æ•°æ®æ–¹æ³•</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç”¨æˆ·é€‰æ‹©æ–‡ä»¶åè°ƒç”¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateImageData</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> input = uploadImage.<span class="hljs-property">value</span>;
  <span class="hljs-comment">// console.log(uploadImage.value.files); </span>
  <span class="hljs-keyword">if</span> (!input.<span class="hljs-property">files</span> || input.<span class="hljs-property">files</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">const</span> file = input.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];
  <span class="hljs-comment">// console.log(file);</span>
  <span class="hljs-keyword">const</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();
  reader.<span class="hljs-title function_">readAsDataURL</span>(file); 
  reader.<span class="hljs-property">onload</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> { 
    imgPreview.<span class="hljs-property">value</span> = e.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
  }
}
</code></pre>
<ul>
<li><code>if (!input.files || input.files.length === 0) return;</code>ï¼šåˆ¤æ–­ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ä¸­æ˜¯å¦è‡³å°‘åŒ…å«ä¸€ä¸ªæ–‡ä»¶</li>
<li><code>const file = input.files[0];</code>ï¼šå–å‡ºç”¨æˆ·ä¸Šä¼ çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼ˆå› ä¸ºä¸çŸ¥é“ç”¨æˆ·ä¼šä¸Šä¼ å¤šå°‘æ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬å•æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ªï¼‰</li>
<li><code>reader.readAsDataURL(file);</code>ï¼šç”¨æ–°åˆ›å»ºçš„ FileReader å®ä¾‹ä¸Šçš„ readAsDataURL æ–¹æ³•å°†æ–‡ä»¶<strong>è½¬æ¢ä¸º Base64 ç¼–ç çš„å­—ç¬¦ä¸²</strong>ï¼ˆè¿™ç§æ ¼å¼å¯ä»¥ç›´æ¥ä½œä¸ºå›¾åƒçš„URLä½¿ç”¨ï¼‰</li>
<li><code>reader.onload = (e) =&gt; {    imgPreview.value = e.target.result; }</code>ï¼šonload æ˜¯ä¸€ä¸ªäº‹ä»¶å¤„ç†å™¨ï¼ˆå›è°ƒå‡½æ•°ï¼‰ï¼Œä¼šè‡ªåŠ¨è§¦å‘ load äº‹ä»¶ï¼Œè¿™é‡Œä¹Ÿå°±æ˜¯<code>äº‹ä»¶å¯¹è±¡ e</code>ï¼Œè€Œ<code>e.target</code>æŒ‡çš„æ˜¯è§¦å‘è¯¥äº‹ä»¶çš„å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯readerï¼‰ï¼Œ<code>e.target.result</code>å°±æ˜¯è½¬æ¢ä¸º Base64 ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”èµ‹å€¼ç»™æœ¬åœ°é¢„è§ˆçš„å“åº”å¼æ•°æ® imgPreviewï¼Œè¿™æ ·é¡µé¢ä¸Šå°±ä¼šè‡ªåŠ¨æ›´æ–°</li>
</ul>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š<strong>æ–‡ä»¶è¯»å–æ˜¯å¼‚æ­¥çš„</strong>ï¼Œä¸èƒ½ç›´æ¥å†™Â <code>let result = reader.readAsDataURL(file)</code>ï¼Œå¿…é¡»ç”¨å›è°ƒæˆ– Promiseã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f2a7f836d474508a2d4f47aa47e8e4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=uPl1F7WGs8mOwFXVakjSo%2FPR%2Bl8%3D" alt="åŠ¨ç”».gif" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-26">3ã€æ–‡ä»¶ä¸Šä¼ è‡³ Coze äº‘æœåŠ¡ï¼š</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> patToken = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_PAT_TOKEN</span>;
<span class="hljs-keyword">const</span> uploadUrl = <span class="hljs-string">'https://api.coze.cn/v1/files/upload'</span>;
<span class="hljs-comment">// å…ˆä¸Šä¼ åˆ°cozeæœåŠ¡å™¨ </span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">uploadFile</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç©ºè¡¨å•ç”¨äºæäº¤æ•°æ®</span>
  <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>(); <span class="hljs-comment">// FormDataä¸“é—¨ç”¨äºæ„å»ºform-dataæ ¼å¼æ•°æ®çš„å¯¹è±¡ï¼Œå¸¸ç”¨äºä¼ è¾“æ–‡ä»¶</span>
  <span class="hljs-keyword">const</span> input = uploadImage.<span class="hljs-property">value</span>;
  <span class="hljs-keyword">if</span> (!input.<span class="hljs-property">files</span> || input.<span class="hljs-property">files</span>.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
  formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'file'</span>, input.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]);

  <span class="hljs-comment">// å‘ coze å‘é€httpè¯·æ±‚ ä¸Šä¼ </span>
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(uploadUrl, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>, 
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${patToken}</span>`</span>
    },
    <span class="hljs-attr">body</span>: formData
  })

  <span class="hljs-comment">// ç­‰å¾…è¿”è¿˜å†…å®¹ï¼ˆå¼‚æ­¥ï¼‰ï¼Œå¹¶è½¬æ¢ä¸ºjsonæ ¼å¼</span>
  <span class="hljs-keyword">const</span> ret = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
  <span class="hljs-comment">// console.log(ret);</span>

  <span class="hljs-comment">// é”™è¯¯åˆ¤æ–­</span>
  <span class="hljs-keyword">if</span>( ret.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {
    status.<span class="hljs-property">value</span> = ret.<span class="hljs-property">msg</span>; 
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">return</span> ret.<span class="hljs-property">data</span>.<span class="hljs-property">id</span>;
}
</code></pre>
<ul>
<li><code>const patToken = import.meta.env.VITE_PAT_TOKEN;</code>ï¼šè·å–è®¤è¯ä»¤ç‰Œï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»º<code>.env</code>æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æ”¾ç½®ä½ çš„ç§æœ‰è®¿é—®ä»¤ç‰Œã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c31a1d3ca7d54cd78c2f3a8e478d70d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=BlC8TlnD3eCLqJVyyBQzp9Ij7aI%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><code>const uploadUrl = 'https://api.coze.cn/v1/files/upload';</code>ï¼šCoze å®˜æ–¹æä¾›çš„<strong>æ–‡ä»¶ä¸Šä¼  API åœ°å€</strong>ã€‚</li>
<li><code>formData.append('file', input.files[0]);</code>ï¼šå°†ç”¨æˆ·é€‰ä¸­çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶é™„åŠ åˆ°è¡¨å•å­—æ®µåä¸ºÂ <code>file</code>Â çš„å­—æ®µä¸Š</li>
</ul>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šCoze API è¦æ±‚å­—æ®µåå¿…é¡»æ˜¯Â <code>'file'</code>ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
</blockquote>
<ul>
<li><code>const res = await fetch(uploadUrl, {...})</code>ï¼šå‘ Coze ä¸Šä¼ æ–‡ä»¶</li>
</ul>
<h5 data-id="heading-27">å“åº”ç»“æ„ï¼ˆCoze API è§„èŒƒï¼‰ï¼š</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> ret = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();

  <span class="hljs-comment">// é”™è¯¯åˆ¤æ–­</span>
  <span class="hljs-keyword">if</span>( ret.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {
    status.<span class="hljs-property">value</span> = ret.<span class="hljs-property">msg</span>; 
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">return</span> ret.<span class="hljs-property">data</span>.<span class="hljs-property">id</span>;
</code></pre>
<p>Coze çš„ API é€šå¸¸è¿”å›å¦‚ä¸‹ JSON ç»“æ„ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"file-abc123xyz"</span><span class="hljs-punctuation">,</span>   <span class="hljs-comment">// â† æˆ‘ä»¬éœ€è¦çš„ file_id</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cat.jpg"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">123456</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><code>ret.code !== 0</code>ï¼šåˆ¤æ–­æ˜¯å¦å‡ºé”™ï¼ˆ<code>code === 0</code>Â è¡¨ç¤ºæˆåŠŸï¼‰ã€‚</li>
<li><code>status.value = ret.msg</code>ï¼šå°†é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚</li>
<li><code>return ret.data.id</code>ï¼šæˆåŠŸæ—¶è¿”å›Â <code>file_id</code>ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œä¾›åç»­å·¥ä½œæµè°ƒç”¨ä½¿ç”¨ã€‚</li>
</ul>
<blockquote>
<p>æ³¨ï¼š è¿™ä¸ªÂ <code>file_id</code>Â æ˜¯ Coze ç³»ç»Ÿå†…éƒ¨å¯¹æ–‡ä»¶çš„å”¯ä¸€å¼•ç”¨ï¼Œåç»­åœ¨è°ƒç”¨å·¥ä½œæµæ—¶ï¼Œåªéœ€ä¼ é€’è¿™ä¸ª IDï¼Œæ— éœ€å†ä¼ æ•´ä¸ªæ–‡ä»¶ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-28">4ã€è§¦å‘ Coze å·¥ä½œæµç”Ÿæˆå›¾åƒï¼ˆæ ¸å¿ƒä¸šåŠ¡ï¼‰ï¼š</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> workflowUrl = <span class="hljs-string">'https://api.coze.cn/v1/workflow/run'</span>;
<span class="hljs-keyword">const</span> workflow_id = <span class="hljs-string">'XXXXXXX'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">generate</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  status.<span class="hljs-property">value</span> = <span class="hljs-string">"å›¾ç‰‡ä¸Šä¼ ä¸­..."</span>
  <span class="hljs-keyword">const</span> file_id = <span class="hljs-keyword">await</span> <span class="hljs-title function_">uploadFile</span>();
  <span class="hljs-keyword">if</span> (!file_id) <span class="hljs-keyword">return</span>;
  status.<span class="hljs-property">value</span> = <span class="hljs-string">"å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨ç”Ÿæˆ..."</span>;

<span class="hljs-comment">// workflow è°ƒç”¨ </span>
  <span class="hljs-keyword">const</span> parameters = {
    <span class="hljs-attr">picture</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      file_id
    }),
    <span class="hljs-attr">style</span>: style.<span class="hljs-property">value</span>,
    <span class="hljs-attr">uniform_color</span>: uniform_color.<span class="hljs-property">value</span>,
    <span class="hljs-attr">uniform_number</span>: uniform_number.<span class="hljs-property">value</span>,
    <span class="hljs-attr">position</span>: position.<span class="hljs-property">value</span>,
    <span class="hljs-attr">shooting_hand</span>: shooting_hand.<span class="hljs-property">value</span>,
  }

  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(workflowUrl, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-title class_">Authorization</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${patToken}</span>`</span>,
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
    },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      workflow_id,
      parameters
    })
  });
  <span class="hljs-keyword">const</span> ret = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
  <span class="hljs-keyword">if</span>( ret.<span class="hljs-property">code</span> !== <span class="hljs-number">0</span>) {
    status.<span class="hljs-property">value</span> = ret.<span class="hljs-property">msg</span>;
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(ret.<span class="hljs-property">data</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
  status.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
  imgUrl.<span class="hljs-property">value</span> = data.<span class="hljs-property">data</span>;
}
</code></pre>
<ul>
<li><code>const workflowUrl = 'https://api.coze.cn/v1/workflow/run';</code>ï¼šCoze å®˜æ–¹æä¾›çš„Â <strong>å·¥ä½œæµæ‰§è¡Œ API åœ°å€</strong></li>
<li><code>const workflow_id = 'XXXXXXX';</code>ï¼šä½ åœ¨ Coze æ§åˆ¶å°åˆ›å»ºçš„å·¥ä½œæµçš„å”¯ä¸€ IDï¼ˆåœ¨ Coze Bot æˆ– Workflow ç¼–æ’ç•Œé¢å¯æ‰¾åˆ°ï¼‰</li>
<li><code>const file_id = await uploadFile();</code>ï¼šå–åˆ°è¿”å›çš„Â file_id</li>
</ul>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆå…ˆä¸Šä¼ ï¼Ÿ</strong><br/>
Coze çš„å·¥ä½œæµæ— æ³•ç›´æ¥å¤„ç†å‰ç«¯çš„æœ¬åœ°æ–‡ä»¶æˆ– Base64ï¼Œå¿…é¡»ä½¿ç”¨ä¹‹å‰é€šè¿‡æ¥å£ä¸Šä¼ åè¿”å›çš„Â <code>file_id</code>ã€‚</p>
</blockquote>
<h5 data-id="heading-29">è§£ææœ€ç»ˆå›¾ç‰‡ URL</h5>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(ret.<span class="hljs-property">data</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
status.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
imgUrl.<span class="hljs-property">value</span> = data.<span class="hljs-property">data</span>;
</code></pre>
<p><strong>â— ä¸ºä»€ä¹ˆéœ€è¦ä¸¤æ¬¡Â <code>JSON.parse</code>ï¼Ÿ</strong></p>
<p>è¿™æ˜¯ Coze å·¥ä½œæµ API çš„<strong>ç‰¹æ®Šè®¾è®¡</strong>ï¼š</p>
<ul>
<li>ç¬¬ä¸€å±‚Â <code>ret.data</code>Â æ˜¯ä¸€ä¸ªÂ <strong>JSON å­—ç¬¦ä¸²</strong>ï¼ˆä¸æ˜¯å¯¹è±¡ï¼ï¼‰
<pre><code class="hljs language-js" lang="js">ret.<span class="hljs-property">data</span> === <span class="hljs-string">'{"data":"https://cdn.coze.com/generated.jpg"}'</span>
</code></pre>
</li>
<li>æ‰€ä»¥å¿…é¡»ç”¨Â <code>JSON.parse(ret.data)</code>Â å¾—åˆ°çœŸæ­£çš„å¯¹è±¡ï¼š
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> data = { <span class="hljs-attr">data</span>: <span class="hljs-string">"https://cdn.coze.com/generated.jpg"</span> };
</code></pre>
</li>
</ul>
<p>æœ€ç»ˆå›¾ç‰‡ URL åœ¨Â <code>data.data</code>Â ä¸­ã€‚</p>
<blockquote>
<p>ğŸ“Œ è¿™æ˜¯å› ä¸º Coze å·¥ä½œæµçš„è¾“å‡ºé€šå¸¸è¢«å°è£…ä¸ºå­—ç¬¦ä¸²ï¼Œç¡®ä¿å…¼å®¹æ€§</p>
</blockquote>
<hr/>
<h3 data-id="heading-30">ä¸‰ã€CSS æ ·å¼ä¼˜åŒ–</h3>
<pre><code class="hljs language-css" lang="css">    <span class="hljs-selector-class">.container</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">flex-direction</span>: row;
      <span class="hljs-attribute">align-items</span>: start;
      <span class="hljs-attribute">justify-content</span>: start;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
      <span class="hljs-attribute">font-size</span>: .<span class="hljs-number">85rem</span>;
    }

    <span class="hljs-selector-class">.input</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">flex-direction</span>: column;
      <span class="hljs-attribute">min-width</span>: <span class="hljs-number">330px</span>;
    }

    <span class="hljs-selector-class">.output</span> {
      <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">min-height</span>: <span class="hljs-number">300px</span>;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">text-align</span>: left;
    }

    <span class="hljs-selector-class">.generated</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;
      <span class="hljs-attribute">border</span>: solid <span class="hljs-number">1px</span> black;
      <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">justify-content</span>: center;
      <span class="hljs-attribute">align-items</span>: center;
    }

    <span class="hljs-selector-class">.output</span> <span class="hljs-selector-tag">img</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    }
</code></pre>
<hr/>
<p>æ•ˆæœæ¼”ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f46b5c39435b435da095d3c354f715a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768398755&amp;x-signature=HmA9yxV2d3l4hXlQKZScR2jwRK4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-31">ğŸ“š å­¦ä¹ èµ„æºæ¨è</h2>

























<table><thead><tr><th>ç±»åˆ«</th><th>æ¨èå†…å®¹</th></tr></thead><tbody><tr><td>Vue3</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2F" target="_blank" title="https://vuejs.org/" ref="nofollow noopener noreferrer">Vue å®˜æ–¹æ–‡æ¡£</a></td></tr><tr><td>Coze</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fcoze.com%2Fdocs" target="_blank" title="https://coze.com/docs" ref="nofollow noopener noreferrer">Coze å¼€å‘è€…ä¸­å¿ƒ</a></td></tr><tr><td>REST API</td><td>MDN Fetch API æ–‡æ¡£</td></tr><tr><td>å‰ç«¯å·¥ç¨‹åŒ–</td><td>Viteã€Webpackã€JavaScript</td></tr></tbody></table>
<h2 data-id="heading-32">ğŸ“ æœ€å</h2>
<p>è¿™ä¸ªé¡¹ç›®ä¸ä»…æ˜¯ä¸€ä¸ªç®€å•çš„â€œAIå›¾åƒç”Ÿæˆå™¨â€ï¼Œæ›´æ˜¯ç°ä»£ Web å¼€å‘çš„ä¸€ä¸ªç¼©å½±ï¼š<strong>å‰ç«¯è´Ÿè´£äº¤äº’ä¸ä½“éªŒï¼ŒAI æä¾›æ™ºèƒ½èƒ½åŠ›ï¼ŒAPI è¿æ¥ä¸¤è€…</strong>ğŸ˜Šï¼Œè¿™ä¹Ÿæ˜¯å½“ä¸‹çš„è¶‹åŠ¿ï¼š<strong>æ— ä»£ç /ä½ä»£ç  + å¯è§†åŒ– AI ç¼–æ’ + å‰ç«¯é›†æˆ</strong></p>
<h3 data-id="heading-33">AI åŸç”Ÿåº”ç”¨ã€çš„å´›èµ·</h3>
<ul>
<li>
<p>ä¼ ç»Ÿ AI å¼€å‘ï¼šéœ€è¦ç®—æ³•å·¥ç¨‹å¸ˆ + åç«¯ + å‰ç«¯ï¼Œå‘¨æœŸé•¿ã€æˆæœ¬é«˜ã€‚</p>
</li>
<li>
<p>æ–°èŒƒå¼ï¼ˆCoze ä»£è¡¨ï¼‰ï¼š</p>
<ul>
<li><strong>ä¸šåŠ¡äººå‘˜/å‰ç«¯å¼€å‘è€…</strong>Â é€šè¿‡æ‹–æ‹½å·¥ä½œæµï¼Œç»„åˆå¤§æ¨¡å‹ã€æ’ä»¶ã€çŸ¥è¯†åº“ï¼›</li>
<li><strong>å‰ç«¯ç›´æ¥è°ƒç”¨å·¥ä½œæµ API</strong>ï¼Œåƒè°ƒç”¨æ™®é€šæ¥å£ä¸€æ ·è·å– AI ç»“æœï¼›</li>
<li><strong>æ— éœ€ç»´æŠ¤åç«¯æœåŠ¡</strong>ï¼ŒCoze æ‰˜ç®¡æ‰§è¡Œç¯å¢ƒã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>è¿™å°±æ˜¯Â  <strong>â€œAI as a Serviceâ€ï¼ˆAI å³æœåŠ¡ï¼‰</strong>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤šæ¨¡æ€æ¨ç†æ–°èŒƒå¼ï¼DiffThinkerï¼šç”¨æ‰©æ•£æ¨¡å‹ã€Œç”»ã€å‡ºæ¨ç†å’Œç­”æ¡ˆ]]></title>    <link>https://juejin.cn/post/7592432859862745122</link>    <guid>https://juejin.cn/post/7592432859862745122</guid>    <pubDate>2026-01-07T12:24:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859862745122" data-draft-id="7592432859862728738" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤šæ¨¡æ€æ¨ç†æ–°èŒƒå¼ï¼DiffThinkerï¼šç”¨æ‰©æ•£æ¨¡å‹ã€Œç”»ã€å‡ºæ¨ç†å’Œç­”æ¡ˆ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2026-01-07T12:24:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤šæ¨¡æ€æ¨ç†æ–°èŒƒå¼ï¼DiffThinkerï¼šç”¨æ‰©æ•£æ¨¡å‹ã€Œç”»ã€å‡ºæ¨ç†å’Œç­”æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T12:24:47.000Z" title="Wed Jan 07 2026 12:24:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¤šæ¨¡æ€å¤§æ¨¡å‹ï¼ˆMLLMsï¼‰é¢†åŸŸï¼Œæ€ç»´é“¾ï¼ˆCoTï¼‰ä¸€ç›´è¢«è§†ä¸ºæå‡æ¨ç†èƒ½åŠ›çš„æ ¸å¿ƒæŠ€æœ¯ã€‚ç„¶è€Œï¼Œé¢å¯¹å¤æ‚çš„é•¿ç¨‹ã€è§†è§‰ä¸­å¿ƒä»»åŠ¡ï¼Œè¿™ç§åŸºäºæ–‡æœ¬ç”Ÿæˆçš„æ¨ç†æ–¹å¼æ­£é¢ä¸´ç“¶é¢ˆï¼šæ–‡æœ¬éš¾ä»¥ç²¾ç¡®è¿½è¸ªè§†è§‰ä¿¡æ¯çš„å˜åŒ–ã€‚å½¢è±¡åœ°è¯´ï¼Œæ¨¡å‹ä¸çŸ¥é“è‡ªå·±æƒ³åˆ°å“ªä¸€æ­¥äº†ï¼Œå¯¹åº”å›¾åƒæ˜¯ä»€ä¹ˆçŠ¶æ€ã€‚</p>
<p>å°½ç®¡è¿‘æœŸçš„ã€ŒThinking with Imageã€èŒƒå¼å¯ä»¥é€šè¿‡å·¥å…·ç­‰å¯¹å›¾åƒè¿›è¡Œæ“ä½œï¼Œä½†å®ƒä»¬éš¾ä»¥æ‰©å±•åˆ°æ›´å¤æ‚çš„é•¿ç¨‹ä»»åŠ¡ï¼Œä¸”åœ¨å¤šè½®äº¤äº’ä¸­æœ¬èº«å¼€é”€å·¨å¤§ã€‚</p>
<p>è¿‘æ—¥ï¼Œæ¥è‡ªä¸Šæµ·äººå·¥æ™ºèƒ½å®éªŒå®¤ã€å—äº¬å¤§å­¦ã€é¦™æ¸¯ä¸­æ–‡å¤§å­¦å’Œä¸Šæµ·äº¤é€šå¤§å­¦çš„ç ”ç©¶å›¢é˜Ÿæå‡ºäº†ä¸€ç§å…¨æ–°çš„ç”Ÿæˆå¼å¤šæ¨¡æ€æ¨ç†ï¼ˆGenerative Multimodal Reasoningï¼‰èŒƒå¼ï¼Œå¹¶å‘å¸ƒäº†æ¨¡å‹Â <strong>DiffThinker</strong>ã€‚</p>
<p>DiffThinker å½»åº•æ‰“ç ´äº†ã€Œå¤šæ¨¡æ€è¾“å…¥ -&gt; æ–‡æœ¬è¾“å‡ºã€çš„ä¼ ç»Ÿå®šå¼ï¼Œå°†æ¨ç†è¿‡ç¨‹é‡æ„ä¸ºå›¾åƒåˆ°å›¾åƒï¼ˆImage-to-Imageï¼‰çš„ç”Ÿæˆä»»åŠ¡ã€‚é€šè¿‡æ‰©æ•£æ¨¡å‹ï¼ˆDiffusion Modelsï¼‰ï¼ŒDiffThinker èƒ½å¤Ÿåœ¨è§†è§‰ç©ºé—´ä¸­ç›´æ¥ç”Ÿæˆæ¨ç†è·¯å¾„ã€‚</p>
<p>å®éªŒç»“æœä»¤äººæƒŠè®¶ï¼šåœ¨åŒ…å«é•¿ç¨‹è§„åˆ’ã€ç»„åˆä¼˜åŒ–ã€çº¦æŸæ»¡è¶³ã€ç©ºé—´æ¨ç†ç­‰ 7 é¡¹è§†è§‰ä¸­å¿ƒçš„å¤æ‚ä»»åŠ¡ä¸­ï¼ŒDiffThinker çš„è¡¨ç°æ˜¾è‘—ä¼˜äºåŒ…æ‹¬Â GPT-5 (+314.2%)Â å’ŒÂ Gemini-3-Flash (+111.6%)Â åœ¨å†…çš„é¡¶å°–é—­æºæ¨¡å‹ï¼Œä»¥åŠç»è¿‡ç›¸åŒæ•°æ®å¾®è°ƒçš„ Qwen3-VL-32B åŸºçº¿ (+39.0%)ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb4417ae72074fcf9d1118ee24b6dc29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=moVIA8MMmI3d0Ue5vl%2BYD093Dpk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>
<p><strong>è®ºæ–‡æ ‡é¢˜ï¼šDiffThinker: Towards Generative Multimodal Reasoning with Diffusion Models</strong></p>
</li>
<li>
<p><strong>è®ºæ–‡åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.24165" target="_blank" title="https://arxiv.org/abs/2512.24165" ref="nofollow noopener noreferrer">arxiv.org/abs/2512.24â€¦</a></p>
</li>
<li>
<p><strong>é¡¹ç›®ä¸»é¡µ</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdiffthinker-project.github.io" target="_blank" title="https://diffthinker-project.github.io" ref="nofollow noopener noreferrer">diffthinker-project.github.io</a></p>
</li>
<li>
<p><strong>ä»£ç ä»“åº“</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flcqysl%2FDiffThinker" target="_blank" title="https://github.com/lcqysl/DiffThinker" ref="nofollow noopener noreferrer">github.com/lcqysl/Diffâ€¦</a></p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd535b274cfc4cccbea1a19e97a4ae79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=5dKPHGIMhMZyPzDrX88aBm0GS7Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-0">01 ä»ã€Œä»¥æ–‡æ€è€ƒã€åˆ°ã€Œä»¥å›¾æ€è€ƒã€</h4>
<h4 data-id="heading-1"/>
<p>ç°æœ‰çš„å¤šæ¨¡æ€å¤§æ¨¡å‹åœ¨å¤„ç†è§†è§‰æ¨ç†ä»»åŠ¡æ—¶ï¼Œéš¾ä»¥è¿½è¸ªè§†è§‰ä¿¡æ¯çš„å˜åŒ–ã€‚æ¯”å¦‚åœ¨ç©ºé—´å¯¼èˆªä»»åŠ¡ï¼ˆVSPã€Maze ç­‰ï¼‰ä¸­ï¼Œæ¨¡å‹ä»…é è¯­è¨€åˆ†æè·¯å¾„ï¼Œä½†è¾“å…¥å›¾åƒä¸å˜ï¼Œè·¯å¾„ä¸€é•¿å°±å¾ˆå®¹æ˜“ã€Œçœ‹èµ°çœ¼ã€ï¼Œä¸çŸ¥é“è‡ªå·±å·²ç»èµ°åˆ°äº†å“ªã€‚åˆæ¯”å¦‚æ‹¼å›¾ä»»åŠ¡ï¼Œæ¨¡å‹å¦‚æœä¸èƒ½ç›´æ¥å¯¹æ‹¼å›¾æ“ä½œï¼Œå¾ˆéš¾å‡­ç©ºæƒ³è±¡å‡ºç­”æ¡ˆã€‚å³ä¾¿æ˜¯æœ€æ–°çš„ã€ŒThinking with Imageã€èŒƒå¼ï¼Œä¹Ÿå¾€å¾€ä¾èµ–äºå¤šè½®å¯¹è¯å’Œå·¥å…·è°ƒç”¨ï¼Œå¯¼è‡´æ¨ç†é“¾è·¯æé•¿ï¼Œéš¾ä»¥æ‰©å±•åˆ°å¤æ‚åœºæ™¯ã€‚</p>
<p>ç ”ç©¶å›¢é˜Ÿè¿˜åœ¨é¡¹ç›®ä¸»é¡µæä¾›äº†å‡ ä¸ªå°æ¸¸æˆï¼Œä»¥ç›´è§‚ç†è§£äººä¸ MLLM çš„æ€ç»´èŒƒå¼å·®å¼‚ã€‚</p>
<p>é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆä¸èƒ½è®©æ¨¡å‹ç›´æ¥ã€Œçœ‹ã€ç€é—®é¢˜ï¼ŒæŠŠç­”æ¡ˆã€Œç”»ã€å‡ºæ¥ï¼Ÿ</p>
<p>DiffThinker æå‡ºçš„æ ¸å¿ƒç†å¿µæ­£æ˜¯å¦‚æ­¤ã€‚ç ”ç©¶å›¢é˜Ÿè®¤ä¸ºï¼Œå¤šæ¨¡æ€æ¨ç†ä¸åº”å±€é™äºç¬¦å·ç©ºé—´ï¼Œè€Œåº”å›å½’è§†è§‰ç©ºé—´ï¼Œåˆ©ç”¨æ‰©æ•£æ¨¡å‹ç›´æ¥ç”Ÿæˆç­”æ¡ˆã€‚å…·ä½“æ¥è¯´ï¼ŒDiffThinker åŸºäº Qwen-Image-Editï¼Œé…åˆ Flow Matching è®­ç»ƒç›´æ¥ç”¨å›¾åƒç”Ÿäº§ç­”æ¡ˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f5d457b9c674fb888bf9a3ab8e832a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=jtMLT1k%2BniBDQtRVjCg4mIKZHVk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-2">02 DiffThinker çš„å››å¤§æ ¸å¿ƒç‰¹æ€§</h4>
<h4 data-id="heading-3"/>
<p>ä½œä¸ºå…¨æ–°çš„ç”Ÿæˆå¼æ¨ç†èŒƒå¼ï¼ŒDiffThinker å±•ç°å‡ºäº†ä¼ ç»Ÿ MLLM éš¾ä»¥ä¼åŠçš„å››å¤§ç‰¹æ€§ï¼š</p>
<ul>
<li><strong>é«˜æ•ˆæ¨ç†ï¼ˆEfficient Reasoningï¼‰</strong> ç›¸æ¯”äº MLLM åŠ¨è¾„ç”Ÿæˆæ•°åƒä¸ª Token çš„é•¿æ€ç»´é“¾ï¼ŒDiffThinker åœ¨è®­ç»ƒå’Œæ¨ç†æ•ˆç‡ä¸Šå‡è¡¨ç°å‡ºè‰²ï¼Œä¸”å‡†ç¡®ç‡æ›´é«˜ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f1ecd1a19924de7b0e311205c10d58f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=G5G3KIO6QxWwj4GwhkWbGaMdkeo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>
<p><strong>å¯æ§æ¨ç†ï¼ˆControllable Reasoningï¼‰</strong> MLLM çš„è¾“å‡ºé•¿åº¦ä¸å¯é¢„æµ‹ï¼Œå¸¸å‡ºç°è¿‡é•¿æ€ç»´é“¾ç”šè‡³è¾“å‡ºå´©æºƒå¯¼è‡´æ­»å¾ªç¯ã€‚è€Œ DiffThinker é€šè¿‡å›ºå®šæ­¥æ•°çš„æ¬§æ‹‰æ±‚è§£å™¨ï¼Œèƒ½å¤Ÿä»¥ç¡®å®šçš„è®¡ç®—é¢„ç®—å®Œæˆæ¨ç†ï¼Œä¸å—ä»»åŠ¡é€»è¾‘å¤æ‚åº¦çš„å¹²æ‰°ã€‚</p>
</li>
<li>
<p><strong>åŸç”Ÿå¹¶è¡Œæ¨ç†ï¼ˆNative Parallel Reasoningï¼‰</strong> è¿™æ˜¯æ‰©æ•£æ¨¡å‹ç‹¬æœ‰çš„ä¼˜åŠ¿ã€‚åœ¨æ¨ç†æ—¶ï¼ŒDiffThinker èƒ½å¤Ÿåœ¨è§†è§‰ç©ºé—´ä¸­åŒæ—¶æ¢ç´¢å¤šæ¡æ½œåœ¨è·¯å¾„ï¼Œå¹¶éšç€å»å™ªè¿‡ç¨‹é€æ­¥æ”¶æ•›åˆ°æœ€ä¼˜è§£ã€‚è¿™ä½¿å¾—æ¨¡å‹å¯ä»¥ã€Œè¾¹ç”»è¾¹æ¨ç†ã€ï¼Œæ›´ç›´è§‚ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3aa9dbcd05d4f14b2fc7bcc73babc55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=0nsJhTCpGXFe6nK0FEIZXvaokVc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li><strong>ååŒæ¨ç†ï¼ˆCollaborative Reasoningï¼‰</strong> DiffThinker è¿˜å¯ä»¥ä¸ MLLM åˆä½œã€‚å®ƒç”Ÿæˆå¤šä¸ªå€™é€‰è§†è§‰è§£ï¼Œå†ç”± MLLM è¿›è¡Œé€»è¾‘éªŒè¯ã€‚å®éªŒæ˜¾ç¤ºï¼Œè¿™ç§ã€ŒDiffThinker ç”Ÿæˆ + MLLM éªŒè¯ã€çš„ç»„åˆï¼Œæ€§èƒ½å®ç°ã€Œ1+1&gt;2ã€ï¼Œè¶…è¶Šäº†ä»»ä½•å•ä¸€æ¨¡å‹ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ce9a52c2d3c4ea7b09efae18c518f02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=YeU5mc7V6efM4ebWqzV7VuKTbLA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-4">03 å®éªŒç»“æœï¼šç¢¾å‹çº§çš„æ€§èƒ½</h4>
<h4 data-id="heading-5"/>
<p>ç ”ç©¶å›¢é˜Ÿåœ¨å››ä¸ªé¢†åŸŸçš„ä¸ƒå¤§ä»»åŠ¡ä¸Šè¿›è¡Œäº†ç³»ç»Ÿè¯„æµ‹ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p><strong>åºåˆ—è§„åˆ’</strong>ï¼šVSPï¼ŒVSP-Superï¼ŒMazeï¼ˆè¿·å®«ï¼‰</p>
</li>
<li>
<p><strong>ç»„åˆä¼˜åŒ–</strong>ï¼šTSPï¼ˆæ—…è¡Œå•†é—®é¢˜ï¼‰</p>
</li>
<li>
<p><strong>çº¦æŸæ»¡è¶³</strong>ï¼šSudokuï¼ˆæ•°ç‹¬ï¼‰</p>
</li>
<li>
<p><strong>ç©ºé—´é…ç½®</strong>ï¼šJigsawï¼ˆæ‹¼å›¾ï¼‰ï¼ŒVisPuzzle</p>
</li>
</ul>
<p>ä¸»è¦ç»“æœå¦‚ä¸‹ï¼šÂ </p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4aa35037206f46adbcbfc9538e7d7ef2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393487&amp;x-signature=P14puYPy5f%2FAr%2Bh%2F%2Bm5ZKIVG4Hc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>DiffThinker åœ¨æ‰€æœ‰ä»»åŠ¡ä¸Šçš„å¹³å‡å¾—åˆ†é«˜è¾¾Â 87.4ï¼Œè€Œ GPT-5 ä»…ä¸º 21.1ï¼ŒGemini-3-Flash ä¸º 41.3ã€‚åŒæ•°æ®è®­ç»ƒçš„ Qwen3-VL-32B ä¹Ÿåªæœ‰Â 62.9ã€‚</p>
<h4 data-id="heading-6">04 è§†é¢‘ç”Ÿæˆ vs å›¾åƒç”Ÿæˆ</h4>
<h4 data-id="heading-7"/>
<p>æ—¢ç„¶æ˜¯è§†è§‰æ¨ç†ï¼Œç”¨è§†é¢‘æ¨¡å‹ï¼ˆVideo Generationï¼‰ä¼šä¸ä¼šæ›´å¥½ï¼Ÿ</p>
<p>å›¢é˜ŸåŸºäº Wan2.2-TI2V-5B å¼€å‘äº† DiffThinker-Video ç‰ˆæœ¬ã€‚ç»“æœå‘ç°ï¼Œè™½ç„¶è§†é¢‘èƒ½å±•ç¤ºåŠ¨æ€è¿‡ç¨‹ï¼Œä½†åœ¨æ¨ç†å‡†ç¡®ç‡ä¸Šåè€Œä¸å¦‚å›¾åƒç”Ÿæˆæ¨¡å‹ï¼Œä¸”æ¨ç†æ—¶é—´å¢åŠ äº†è¿‘ä¸€å€ï¼ˆ1.1s vs 2.0sï¼‰ã€‚è¿™è¡¨æ˜ï¼Œåœ¨å½“å‰çš„ç®—åŠ›ä¸æ¨¡å‹æ¶æ„ä¸‹ï¼Œã€Œä»¥å›¾æ€è€ƒã€ä»æ˜¯æ¯”ã€Œä»¥è§†é¢‘æ€è€ƒã€æ›´é«˜æ•ˆçš„è·¯å¾„ã€‚</p>
<h4 data-id="heading-8">05 ç»“è¯­</h4>
<h4 data-id="heading-9"/>
<p>DiffThinker çš„å‡ºç°ï¼Œæ ‡å¿—ç€Â <strong>ç”Ÿæˆå¼å¤šæ¨¡æ€æ¨ç†ï¼ˆGenerative Multimodal Reasoningï¼‰</strong> Â æ—¶ä»£çš„å¼€å¯ã€‚å®ƒè¯æ˜äº†æ‰©æ•£æ¨¡å‹ä¸ä»…èƒ½ç”»ç”»ï¼Œè¿˜èƒ½è¿›è¡Œä¸¥å¯†çš„é€»è¾‘æ¨ç†ã€‚</p>
<p>å¯¹äºé•¿ç¨‹ã€è§†è§‰ä¸­å¿ƒçš„å¤æ‚ä»»åŠ¡ï¼Œå°†æ¨ç†è¿‡ç¨‹ä»ã€Œæ–‡æœ¬æµã€è½¬å˜ä¸ºã€Œè§†è§‰æµã€ï¼Œæˆ–è®¸æ­£æ˜¯é€šå¾€ä¸‹ä¸€ä»£é€šç”¨äººå·¥æ™ºèƒ½çš„å…³é”®ä¸€æ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ—¥å¿—è¾“å‡ºä¼˜åŒ–å®æˆ˜ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„å…¨æ”»ç•¥]]></title>    <link>https://juejin.cn/post/7591806035758923818</link>    <guid>https://juejin.cn/post/7591806035758923818</guid>    <pubDate>2026-01-06T07:59:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591806035758923818" data-draft-id="7591806035758907434" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ—¥å¿—è¾“å‡ºä¼˜åŒ–å®æˆ˜ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„å…¨æ”»ç•¥"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2026-01-06T07:59:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ—¥å¿—è¾“å‡ºä¼˜åŒ–å®æˆ˜ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„å…¨æ”»ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T07:59:54.000Z" title="Tue Jan 06 2026 07:59:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    21
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ—¥å¿—è¾“å‡ºä¼˜åŒ–å®æˆ˜ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€çš„å…¨æ”»ç•¥</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæ—¥å¿—æ˜¯å¼€å‘è€…çš„â€œçœ¼ç›â€â€”â€”æ’æŸ¥é—®é¢˜ã€å®šä½æ•…éšœã€ç›‘æ§ç³»ç»ŸçŠ¶æ€ï¼Œéƒ½ç¦»ä¸å¼€æ—¥å¿—ã€‚ä½†å®é™…é¡¹ç›®é‡Œï¼Œå¾ˆå¤šæ—¥å¿—è¾“å‡ºå´å¤„äºâ€œèƒ½ç”¨ä½†ä¸å¥½ç”¨â€çš„çŠ¶æ€ï¼šè¦ä¹ˆçº§åˆ«æ··ä¹±ï¼ˆ debug æ—¥å¿—å……æ–¥ç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œè¦ä¹ˆå†…å®¹æ®‹ç¼ºï¼ˆç¼ºå°‘å…³é”®ä¸Šä¸‹æ–‡ï¼‰ï¼Œè¦ä¹ˆæ ¼å¼æ‚ä¹±ï¼ˆéš¾ä»¥è§£æï¼‰ï¼Œç”šè‡³å› æ—¥å¿—è¾“å‡ºä¸å½“å¯¼è‡´ç³»ç»Ÿæ€§èƒ½ä¸‹é™ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±ä»â€œä¸ºä»€ä¹ˆè¦ä¼˜åŒ–æ—¥å¿—â€â€œä¼˜åŒ–ä»€ä¹ˆâ€â€œæ€ä¹ˆä¼˜åŒ–â€ä¸‰ä¸ªç»´åº¦ï¼Œå…¨é¢æŒæ¡æ—¥å¿—è¾“å‡ºçš„ä¼˜åŒ–æŠ€å·§ï¼Œè®©æ—¥å¿—çœŸæ­£æˆä¸ºç³»ç»Ÿè¿ç»´çš„å¾—åŠ›åŠ©æ‰‹ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆææ‡‚ï¼šä¸ºä»€ä¹ˆè¦ä¼˜åŒ–æ—¥å¿—è¾“å‡ºï¼Ÿ</h3>
<p>å¾ˆå¤šå¼€å‘è€…è§‰å¾—â€œæ—¥å¿—åªè¦èƒ½æ‰“å‡ºæ¥å°±è¡Œâ€ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒåŠ£è´¨æ—¥å¿—çš„ä»£ä»·è¿œè¶…æƒ³è±¡ï¼š</p>
<ul>
<li><strong>æ’æŸ¥é—®é¢˜æ•ˆç‡ä½</strong>ï¼šæ—¥å¿—ç¼ºå°‘è¯·æ±‚IDã€ç”¨æˆ·IDç­‰ä¸Šä¸‹æ–‡ï¼Œé¢å¯¹æµ·é‡æ—¥å¿—æ— æ³•å¿«é€Ÿå®šä½æŸä¸€æ¬¡è¯·æ±‚çš„å®Œæ•´é“¾è·¯ï¼›çº§åˆ«æ··ä¹±å¯¼è‡´å…³é”®é”™è¯¯æ—¥å¿—è¢«æ·¹æ²¡åœ¨ debug æ—¥å¿—ä¸­ï¼›</li>
<li><strong>ç³»ç»Ÿæ€§èƒ½æŸè€—å¤§</strong>ï¼šæ— èŠ‚åˆ¶è¾“å‡ºå¤§é‡æ—¥å¿—ï¼ˆå°¤å…¶æ˜¯ debug çº§ï¼‰ï¼Œä¼šå ç”¨å¤§é‡ç£ç›˜IOå’Œç½‘ç»œå¸¦å®½ï¼›åŒæ­¥æ—¥å¿—å†™å…¥åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œè¿˜ä¼šæ‹–æ…¢æ¥å£å“åº”é€Ÿåº¦ï¼›</li>
<li><strong>å®‰å…¨é£é™©é«˜</strong>ï¼šæ—¥å¿—ä¸­æ˜æ–‡è¾“å‡ºç”¨æˆ·å¯†ç ã€æ‰‹æœºå·ã€é“¶è¡Œå¡å·ç­‰æ•æ„Ÿä¿¡æ¯ï¼Œè¿åæ•°æ®å®‰å…¨è§„èŒƒï¼Œå¯èƒ½å¼•å‘åˆè§„é£é™©ï¼›</li>
<li><strong>æ—¥å¿—è§£æå›°éš¾</strong>ï¼šéç»“æ„åŒ–æ—¥å¿—ï¼ˆå¦‚è‡ªç”±æ–‡æœ¬ï¼‰æ— æ³•è¢«ELKç­‰æ—¥å¿—åˆ†æå·¥å…·é«˜æ•ˆè§£æï¼Œæ— æ³•å®ç°è‡ªåŠ¨åŒ–ç›‘æ§å‘Šè­¦ï¼Œåªèƒ½é äººå·¥æ£€ç´¢ï¼Œæ•ˆç‡æä½ã€‚</li>
</ul>
<p>è€Œä¼˜åŒ–åçš„æ—¥å¿—ï¼Œèƒ½å®ç°â€œå¿«é€Ÿå®šä½é—®é¢˜ã€ä½æ€§èƒ½æŸè€—ã€å®‰å…¨åˆè§„ã€å¯è‡ªåŠ¨åŒ–åˆ†æâ€çš„ç›®æ ‡ï¼Œè¿™ä¹Ÿæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿè¿ç»´çš„åŸºç¡€è¦æ±‚ã€‚</p>
<h3 data-id="heading-2">äºŒã€æ—¥å¿—è¾“å‡ºä¼˜åŒ–çš„æ ¸å¿ƒæ–¹å‘ï¼š6ä¸ªâ€œå¿…é¡»æå®šâ€çš„å…³é”®ç‚¹</h3>
<p>æ—¥å¿—ä¼˜åŒ–ä¸æ˜¯â€œç‚«æŠ€â€ï¼Œè€Œæ˜¯å›´ç»•â€œå®ç”¨ã€é«˜æ•ˆã€å®‰å…¨â€å±•å¼€çš„ç³»ç»Ÿæ€§ä¼˜åŒ–ã€‚æ ¸å¿ƒèšç„¦ä»¥ä¸‹6ä¸ªå…³é”®ç‚¹ï¼Œè¦†ç›–ä»è¾“å‡ºè§„èŒƒåˆ°æ€§èƒ½ã€å®‰å…¨çš„å…¨ç»´åº¦ï¼š</p>
<h4 data-id="heading-3">1. è§„èŒƒæ—¥å¿—çº§åˆ«ï¼šä¸æ»¥ç”¨ã€ä¸æ··æ·†</h4>
<p>æ—¥å¿—çº§åˆ«æ˜¯æ—¥å¿—çš„â€œä¼˜å…ˆçº§æ ‡ç­¾â€ï¼Œä¸åŒçº§åˆ«å¯¹åº”ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œæ»¥ç”¨çº§åˆ«ä¼šç›´æ¥å¯¼è‡´æ—¥å¿—å¤±æ•ˆã€‚ä¸»æµæ—¥å¿—æ¡†æ¶ï¼ˆSLF4J+Logback/Log4j2ï¼‰çš„çº§åˆ«ä»é«˜åˆ°ä½åˆ†ä¸ºï¼š<code>ERROR &gt; WARN &gt; INFO &gt; DEBUG &gt; TRACE</code>ï¼Œæ¯ä¸ªçº§åˆ«éƒ½æœ‰æ˜ç¡®çš„ä½¿ç”¨è¾¹ç•Œï¼š</p>
<ul>
<li><strong>ERROR</strong>ï¼šç³»ç»Ÿæ ¸å¿ƒæµç¨‹å¼‚å¸¸ï¼Œå¿…é¡»äººå·¥ä»‹å…¥å¤„ç†ã€‚ä¾‹å¦‚ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥ã€ç¬¬ä¸‰æ–¹æœåŠ¡è°ƒç”¨è¶…æ—¶ï¼ˆæ— æ³•é‡è¯•ï¼‰ã€æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å¼‚å¸¸ï¼ˆå¦‚è®¢å•åˆ›å»ºå¤±è´¥ï¼‰ï¼› æ³¨æ„ï¼šåªè®°å½•â€œå¼‚å¸¸äº‹å®â€ï¼Œä¸è®°å½•â€œé¢„æœŸå†…çš„å¤±è´¥â€ï¼ˆå¦‚ç”¨æˆ·è¾“å…¥å‚æ•°é”™è¯¯ï¼‰ï¼Œä¸”å¿…é¡»é™„å¸¦å¼‚å¸¸å †æ ˆä¿¡æ¯ï¼›</li>
<li><strong>WARN</strong>ï¼šç³»ç»Ÿå‡ºç°éæ ¸å¿ƒæµç¨‹å¼‚å¸¸ï¼Œä½†ä¸å½±å“ä¸»æµç¨‹è¿è¡Œï¼Œéœ€å…³æ³¨åç»­è¶‹åŠ¿ã€‚ä¾‹å¦‚ï¼šç¼“å­˜å‡»ç©¿ã€éæ ¸å¿ƒæ¥å£è°ƒç”¨è¶…æ—¶ï¼ˆå·²é‡è¯•æˆåŠŸï¼‰ã€é…ç½®é¡¹ç¼ºå¤±ï¼ˆä½¿ç”¨é»˜è®¤å€¼ï¼‰ï¼›</li>
<li><strong>INFO</strong>ï¼šç³»ç»Ÿæ ¸å¿ƒæµç¨‹çš„å…³é”®èŠ‚ç‚¹ï¼Œç”¨äºè¿½è¸ªä¸šåŠ¡é“¾è·¯ã€‚ä¾‹å¦‚ï¼šç”¨æˆ·ç™»å½•æˆåŠŸã€è®¢å•æ”¯ä»˜å®Œæˆã€æœåŠ¡å¯åŠ¨æˆåŠŸï¼› æ³¨æ„ï¼šINFOçº§åˆ«æ—¥å¿—åº”â€œå°‘è€Œç²¾â€ï¼Œé¿å…æ¯ä¸€æ­¥æ“ä½œéƒ½æ‰“INFOï¼Œå¦åˆ™ä¼šå¯¼è‡´æ—¥å¿—å†—ä½™ï¼›</li>
<li><strong>DEBUG</strong>ï¼šå¼€å‘/æµ‹è¯•ç¯å¢ƒç”¨äºå®šä½é—®é¢˜çš„è¯¦ç»†ä¿¡æ¯ï¼Œç”Ÿäº§ç¯å¢ƒå¿…é¡»å…³é—­ã€‚ä¾‹å¦‚ï¼šæ–¹æ³•å…¥å‚å‡ºå‚ã€å¾ªç¯å†…çš„ä¸­é—´ç»“æœã€ç¬¬ä¸‰æ–¹æ¥å£çš„è¯¦ç»†å“åº”ï¼›</li>
<li><strong>TRACE</strong>ï¼šæ¯”DEBUGæ›´ç»†è‡´çš„è°ƒè¯•ä¿¡æ¯ï¼ˆå¦‚æ¡†æ¶å†…éƒ¨è°ƒç”¨ç»†èŠ‚ï¼‰ï¼Œä¸€èˆ¬ä»…åœ¨æ¡†æ¶è°ƒè¯•æ—¶ä½¿ç”¨ï¼Œä¸šåŠ¡ä»£ç å°½é‡ä¸ä½¿ç”¨ã€‚</li>
</ul>
<p>åä¾‹ä¸æ­£ä¾‹å¯¹æ¯”ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åä¾‹1ï¼šç”¨ERRORè®°å½•é¢„æœŸå†…çš„å¤±è´¥ï¼ˆç”¨æˆ·è¾“å…¥é”™è¯¯ï¼‰</span>
if (StringUtils.isEmpty(userId)) {
    log<span class="hljs-selector-class">.error</span>("ç”¨æˆ·IDä¸ºç©ºï¼Œæ— æ³•æŸ¥è¯¢è®¢å•"); <span class="hljs-comment">// é”™è¯¯ï¼šç”¨æˆ·è¾“å…¥é”™è¯¯å±äºé¢„æœŸå†…ï¼Œåº”ä½¿ç”¨WARN</span>
    return Result<span class="hljs-selector-class">.fail</span>("ç”¨æˆ·IDä¸èƒ½ä¸ºç©º");
}

<span class="hljs-comment">// åä¾‹2ï¼šç”¨INFOè®°å½•è°ƒè¯•ä¿¡æ¯</span>
log<span class="hljs-selector-class">.info</span>("æŸ¥è¯¢è®¢å•å…¥å‚ï¼šorderNo={}", orderNo); <span class="hljs-comment">// é”™è¯¯ï¼šå…¥å‚è®°å½•å±äºè°ƒè¯•ä¿¡æ¯ï¼Œåº”ä½¿ç”¨DEBUG</span>
<span class="hljs-attribute">Order</span> <span class="hljs-attribute">order</span> = orderService<span class="hljs-selector-class">.getByOrderNo</span>(orderNo);

<span class="hljs-comment">// æ­£ä¾‹</span>
if (StringUtils.isEmpty(userId)) {
    log<span class="hljs-selector-class">.warn</span>("ç”¨æˆ·IDä¸ºç©ºï¼Œæ‹’ç»æŸ¥è¯¢è®¢å•ï¼Œè¯·æ±‚å‚æ•°ï¼š{}", requestParams); <span class="hljs-comment">// WARNè®°å½•é¢„æœŸå†…å¼‚å¸¸ï¼Œé™„å¸¦å‚æ•°</span>
    return Result<span class="hljs-selector-class">.fail</span>("ç”¨æˆ·IDä¸èƒ½ä¸ºç©º");
}

try {
    <span class="hljs-attribute">Order</span> <span class="hljs-attribute">order</span> = orderService<span class="hljs-selector-class">.getByOrderNo</span>(orderNo);
    log<span class="hljs-selector-class">.info</span>("è®¢å•æŸ¥è¯¢æˆåŠŸï¼ŒorderNo={}, userId={}", orderNo, userId); <span class="hljs-comment">// INFOè®°å½•æ ¸å¿ƒæµç¨‹èŠ‚ç‚¹</span>
} catch (Exception e) {
    log<span class="hljs-selector-class">.error</span>("è®¢å•æŸ¥è¯¢å¤±è´¥ï¼ŒorderNo={}, userId={}", orderNo, userId, e); <span class="hljs-comment">// ERRORè®°å½•å¼‚å¸¸ï¼Œé™„å¸¦å †æ ˆ</span>
    return Result<span class="hljs-selector-class">.fail</span>("æŸ¥è¯¢å¤±è´¥");
}
</code></pre>
<h4 data-id="heading-4">2. ç»“æ„åŒ–æ—¥å¿—ï¼šè®©æ—¥å¿—â€œå¯è§£æã€å¯æ£€ç´¢â€</h4>
<p>ä¼ ç»Ÿçš„â€œæ–‡æœ¬æ—¥å¿—â€ï¼ˆå¦‚ <code>2024-05-20 10:30:00.123 INFO [main] c.d.OrderController - è®¢å•åˆ›å»ºæˆåŠŸ</code>ï¼‰è™½ç„¶äººç±»å¯è¯»ï¼Œä½†æœºå™¨éš¾ä»¥è§£æï¼Œæ— æ³•å¿«é€Ÿæå–å…³é”®ä¿¡æ¯ï¼ˆå¦‚è®¢å•å·ã€ç”¨æˆ·IDï¼‰ã€‚è€Œ<strong>ç»“æ„åŒ–æ—¥å¿—</strong>ï¼ˆå¦‚JSONæ ¼å¼ï¼‰èƒ½å°†æ—¥å¿—å­—æ®µæ ‡å‡†åŒ–ï¼Œå®Œç¾é€‚é…ELKï¼ˆElasticsearch+Logstash+Kibanaï¼‰ç­‰æ—¥å¿—åˆ†æå·¥å…·ï¼Œå®ç°å¿«é€Ÿæ£€ç´¢ã€è¿‡æ»¤å’Œå¯è§†åŒ–ã€‚</p>
<p>Spring Booté»˜è®¤ä½¿ç”¨SLF4J+Logbackï¼Œå®ç°JSONç»“æ„åŒ–æ—¥å¿—åªéœ€ç®€å•é…ç½®ï¼š</p>
<h5 data-id="heading-5">ï¼ˆ1ï¼‰å¼•å…¥ä¾èµ–ï¼ˆè‹¥ä½¿ç”¨Logbackï¼‰</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- æ—¥å¿—JSONæ ¼å¼åŒ–ä¾èµ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>net.logstash.logback<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>logstash-logback-encoder<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>7.4.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h5 data-id="heading-6">ï¼ˆ2ï¼‰é…ç½®logback-spring.xml</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ä¸Šä¸‹æ–‡åç§°ï¼šåŒºåˆ†ä¸åŒæœåŠ¡ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">contextName</span>&gt;</span>order-service<span class="hljs-tag">&lt;/<span class="hljs-name">contextName</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- å®šä¹‰æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼šJSONæ ¼å¼ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"CONSOLE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"net.logstash.logback.encoder.LogstashEncoder"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- å›ºå®šå­—æ®µï¼šæœåŠ¡åã€æ—¥å¿—çº§åˆ«ã€æ—¶é—´æˆ³ç­‰ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">includeMdcKeyName</span>&gt;</span>requestId<span class="hljs-tag">&lt;/<span class="hljs-name">includeMdcKeyName</span>&gt;</span> <span class="hljs-comment">&lt;!-- åŒ…å«è¯·æ±‚IDï¼ˆé“¾è·¯è¿½è¸ªï¼‰ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">includeMdcKeyName</span>&gt;</span>userId<span class="hljs-tag">&lt;/<span class="hljs-name">includeMdcKeyName</span>&gt;</span>     <span class="hljs-comment">&lt;!-- åŒ…å«ç”¨æˆ·ID --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">customFields</span>&gt;</span>"service":"order-service","env":"prod"<span class="hljs-tag">&lt;/<span class="hljs-name">customFields</span>&gt;</span> <span class="hljs-comment">&lt;!-- è‡ªå®šä¹‰å›ºå®šå­—æ®µ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">fieldNames</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">timestamp</span>&gt;</span>timestamp<span class="hljs-tag">&lt;/<span class="hljs-name">timestamp</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>level<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">message</span>&gt;</span>message<span class="hljs-tag">&lt;/<span class="hljs-name">message</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">logger</span>&gt;</span>logger<span class="hljs-tag">&lt;/<span class="hljs-name">logger</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">thread</span>&gt;</span>thread<span class="hljs-tag">&lt;/<span class="hljs-name">thread</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">stack_trace</span>&gt;</span>stackTrace<span class="hljs-tag">&lt;/<span class="hljs-name">stack_trace</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">fieldNames</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ ¹æ—¥å¿—çº§åˆ«ï¼šç”Ÿäº§ç¯å¢ƒè®¾ä¸ºINFO --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"INFO"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"CONSOLE"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- è‡ªå®šä¹‰åŒ…æ—¥å¿—çº§åˆ«ï¼šå¦‚mapperå±‚è®¾ä¸ºWARNï¼Œå‡å°‘å†—ä½™ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.demo.mapper"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"WARN"</span> <span class="hljs-attr">additivity</span>=<span class="hljs-string">"false"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"CONSOLE"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">logger</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</code></pre>
<h5 data-id="heading-7">ï¼ˆ3ï¼‰è¾“å‡ºæ•ˆæœï¼ˆJSONæ ¼å¼ï¼‰</h5>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"service"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"order-service"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"prod"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"requestId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"req-20240520103000123"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"userId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1001"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2024-05-20T10:30:00.123+08:00"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"level"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"INFO"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è®¢å•åˆ›å»ºæˆåŠŸï¼ŒorderNo=ORDER20240520001"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"logger"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"com.demo.controller.OrderController"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"thread"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http-nio-8080-exec-2"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¼˜åŠ¿ï¼šå¯é€šè¿‡Kibanaå¿«é€Ÿæ£€ç´¢â€œrequestId=req-20240520103000123â€çš„æ‰€æœ‰æ—¥å¿—ï¼Œè¿˜åŸå®Œæ•´è¯·æ±‚é“¾è·¯ï¼›ä¹Ÿå¯æŒ‰â€œuserIdâ€â€œorderNoâ€ç­‰å­—æ®µè¿‡æ»¤ï¼Œå®šä½ç‰¹å®šç”¨æˆ·çš„æ“ä½œæ—¥å¿—ã€‚</p>
<h4 data-id="heading-8">3. æ—¥å¿—å†…å®¹è¦ç´ ï¼šè®©æ¯ä¸€æ¡æ—¥å¿—éƒ½â€œæœ‰ä»·å€¼â€</h4>
<p>ä¸€æ¡æœ‰ä»·å€¼çš„æ—¥å¿—ï¼Œå¿…é¡»åŒ…å«â€œè°ï¼ˆç”¨æˆ·/è¯·æ±‚ï¼‰åœ¨ä»€ä¹ˆæ—¶å€™åšäº†ä»€ä¹ˆï¼Œç»“æœå¦‚ä½•ï¼Œå…³é”®å‚æ•°æ˜¯ä»€ä¹ˆâ€ã€‚æ ¸å¿ƒè¦ç´ åº”åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>é“¾è·¯æ ‡è¯†</strong>ï¼šrequestIdï¼ˆè¯·æ±‚IDï¼‰ï¼Œç”¨äºä¸²è”ä¸€æ¬¡è¯·æ±‚çš„å…¨é“¾è·¯æ—¥å¿—ï¼ˆåˆ†å¸ƒå¼ç³»ç»Ÿå¿…å¤‡ï¼‰ï¼›</li>
<li><strong>ä¸»ä½“æ ‡è¯†</strong>ï¼šuserIdï¼ˆç”¨æˆ·IDï¼‰ã€tenantIdï¼ˆç§Ÿæˆ·IDï¼‰ï¼Œç”¨äºå®šä½ç‰¹å®šç”¨æˆ·/ç§Ÿæˆ·çš„æ“ä½œï¼›</li>
<li><strong>ä¸šåŠ¡å‚æ•°</strong>ï¼šæ ¸å¿ƒä¸šåŠ¡IDï¼ˆå¦‚orderNoã€productIdï¼‰ï¼Œä¾¿äºå®šä½å…·ä½“ä¸šåŠ¡åœºæ™¯ï¼›</li>
<li><strong>æ“ä½œæè¿°</strong>ï¼šæ¸…æ™°è¯´æ˜å½“å‰æ“ä½œï¼ˆå¦‚â€œè®¢å•åˆ›å»ºâ€â€œæ”¯ä»˜å›è°ƒå¤„ç†â€ï¼‰ï¼›</li>
<li><strong>ç»“æœçŠ¶æ€</strong>ï¼šæˆåŠŸ/å¤±è´¥ï¼Œå¤±è´¥æ—¶éœ€åŒ…å«å¼‚å¸¸ä¿¡æ¯ï¼ˆå †æ ˆæˆ–é”™è¯¯ç ï¼‰ã€‚</li>
</ul>
<p>å®æˆ˜æŠ€å·§ï¼šä½¿ç”¨MDCï¼ˆMapped Diagnostic Contextï¼‰ä¼ é€’é“¾è·¯/ä¸»ä½“æ ‡è¯†ï¼Œé¿å…åœ¨æ¯ä¸ªæ—¥å¿—è¯­å¥ä¸­é‡å¤æ‹¼æ¥å‚æ•°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.slf4j.MDC;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;
<span class="hljs-keyword">import</span> java.util.UUID;

<span class="hljs-comment">// è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼šç”ŸæˆrequestIdå¹¶æ”¾å…¥MDC</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// ç”Ÿæˆå”¯ä¸€requestId</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">requestId</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString().replace(<span class="hljs-string">"-"</span>, <span class="hljs-string">""</span>);
        MDC.put(<span class="hljs-string">"requestId"</span>, requestId);
        <span class="hljs-comment">// ä»è¯·æ±‚å¤´è·å–userIdï¼ˆå¦‚ç™»å½•åæ”¾å…¥ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> request.getHeader(<span class="hljs-string">"userId"</span>);
        <span class="hljs-keyword">if</span> (userId != <span class="hljs-literal">null</span>) {
            MDC.put(<span class="hljs-string">"userId"</span>, userId);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// æ¸…é™¤MDCï¼Œé¿å…çº¿ç¨‹å¤ç”¨å¯¼è‡´çš„å‚æ•°æ±¡æŸ“</span>
        MDC.clear();
    }
}

<span class="hljs-comment">// é…ç½®æ‹¦æˆªå™¨</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInterceptors</span><span class="hljs-params">(InterceptorRegistry registry)</span> {
        registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LogInterceptor</span>()).addPathPatterns(<span class="hljs-string">"/**"</span>);
    }
}

<span class="hljs-comment">// ä¸šåŠ¡ä»£ç ä¸­ä½¿ç”¨ï¼ˆæ— éœ€æ‹¼æ¥requestIdå’ŒuserIdï¼‰</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderController</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(OrderController.class);

    <span class="hljs-meta">@PostMapping("/order/create")</span>
    <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">createOrder</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> OrderCreateDTO dto)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">orderNo</span> <span class="hljs-operator">=</span> orderService.create(dto);
            <span class="hljs-comment">// æ—¥å¿—è‡ªåŠ¨åŒ…å«MDCä¸­çš„requestIdå’ŒuserId</span>
            log.info(<span class="hljs-string">"è®¢å•åˆ›å»ºæˆåŠŸï¼ŒorderNo={}, å•†å“IDåˆ—è¡¨={}"</span>, orderNo, dto.getProductIds());
            <span class="hljs-keyword">return</span> Result.success(orderNo);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"è®¢å•åˆ›å»ºå¤±è´¥ï¼Œè¯·æ±‚å‚æ•°={}"</span>, dto, e);
            <span class="hljs-keyword">return</span> Result.fail(<span class="hljs-string">"åˆ›å»ºå¤±è´¥"</span>);
        }
    }
}
</code></pre>
<h4 data-id="heading-9">4. æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘æ—¥å¿—å¯¹ç³»ç»Ÿçš„æŸè€—</h4>
<p>æ—¥å¿—è¾“å‡ºæœ¬è´¨æ˜¯IOæ“ä½œï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œä¸æ°å½“çš„æ—¥å¿—è¾“å‡ºä¼šä¸¥é‡å½±å“ç³»ç»Ÿæ€§èƒ½ã€‚æ ¸å¿ƒä¼˜åŒ–æ‰‹æ®µåŒ…æ‹¬ï¼š</p>
<h5 data-id="heading-10">ï¼ˆ1ï¼‰é¿å…æ— æ•ˆæ—¥å¿—æ‹¼æ¥</h5>
<p>ä½¿ç”¨SLF4Jçš„å ä½ç¬¦ <code>{} </code>è€Œéå­—ç¬¦ä¸²æ‹¼æ¥ï¼ˆ<code>+</code>ï¼‰ï¼Œé¿å…åœ¨æ—¥å¿—çº§åˆ«ä¸æ»¡è¶³æ—¶äº§ç”Ÿæ— æ•ˆçš„å­—ç¬¦ä¸²æ‹¼æ¥å¼€é”€ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// åä¾‹ï¼šå³ä½¿æ—¥å¿—çº§åˆ«æ˜¯WARNï¼Œä¹Ÿä¼šæ‰§è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œäº§ç”Ÿæ€§èƒ½æŸè€—</span>
<span class="hljs-built_in">log</span>.debug(<span class="hljs-string">"è®¢å•æŸ¥è¯¢ï¼ŒorderNo="</span> + orderNo + <span class="hljs-string">", userId="</span> + userId);

<span class="hljs-comment">// æ­£ä¾‹ï¼šä½¿ç”¨å ä½ç¬¦ï¼Œæ—¥å¿—çº§åˆ«ä¸æ»¡è¶³æ—¶ä¸ä¼šæ‰§è¡Œå‚æ•°æ‹¼æ¥</span>
<span class="hljs-built_in">log</span>.debug(<span class="hljs-string">"è®¢å•æŸ¥è¯¢ï¼ŒorderNo={}, userId={}"</span>, orderNo, userId);
</code></pre>
<h5 data-id="heading-11">ï¼ˆ2ï¼‰é«˜å¹¶å‘åœºæ™¯ä½¿ç”¨å¼‚æ­¥æ—¥å¿—</h5>
<p>åŒæ­¥æ—¥å¿—ä¼šé˜»å¡ä¸šåŠ¡çº¿ç¨‹ï¼Œç›´åˆ°æ—¥å¿—å†™å…¥å®Œæˆï¼›å¼‚æ­¥æ—¥å¿—åˆ™é€šè¿‡ç‹¬ç«‹çº¿ç¨‹å†™å…¥æ—¥å¿—ï¼Œä¸é˜»å¡ä¸šåŠ¡çº¿ç¨‹ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚Logbacké…ç½®å¼‚æ­¥æ—¥å¿—ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å¼‚æ­¥æ—¥å¿—é…ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"ASYNC_FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.AsyncAppender"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">discardingThreshold</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">discardingThreshold</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä¸ä¸¢å¼ƒæ—¥å¿—ï¼ˆå…³é”®ä¸šåŠ¡å»ºè®®ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">queueSize</span>&gt;</span>1024<span class="hljs-tag">&lt;/<span class="hljs-name">queueSize</span>&gt;</span> <span class="hljs-comment">&lt;!-- é˜Ÿåˆ—å¤§å°ï¼šæ ¹æ®å¹¶å‘é‡è°ƒæ•´ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"FILE"</span> /&gt;</span> <span class="hljs-comment">&lt;!-- å…³è”æ–‡ä»¶è¾“å‡ºappender --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span>
</code></pre>
<h5 data-id="heading-12">ï¼ˆ3ï¼‰æ§åˆ¶æ—¥å¿—è¾“å‡ºé‡</h5>
<ul>
<li>ç”Ÿäº§ç¯å¢ƒå…³é—­DEBUG/TRACEçº§åˆ«æ—¥å¿—ï¼›</li>
<li>é¿å…åœ¨å¾ªç¯å†…è¾“å‡ºæ—¥å¿—ï¼ˆå¦‚éå†1000æ¡æ•°æ®æ—¶ï¼Œæ¯æ¡éƒ½æ‰“æ—¥å¿—ï¼‰ï¼›</li>
<li>å¯¹é«˜é¢‘æ¥å£çš„æ—¥å¿—è¿›è¡ŒæŠ½æ ·è¾“å‡ºï¼ˆå¦‚æ¯100æ¬¡è¯·æ±‚è¾“å‡º1æ¬¡æ—¥å¿—ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-13">ï¼ˆ4ï¼‰åˆç†è®¾ç½®æ—¥å¿—æ»šåŠ¨ç­–ç•¥</h5>
<p>é¿å…å•ä¸ªæ—¥å¿—æ–‡ä»¶è¿‡å¤§ï¼Œå¯¼è‡´æ£€ç´¢ç¼“æ…¢ã€‚é€šè¿‡æ—¥å¿—æ»šåŠ¨ç­–ç•¥æŒ‰æ—¶é—´/å¤§å°åˆ†å‰²æ—¥å¿—ï¼Œä¾‹å¦‚ï¼šæŒ‰å¤©æ»šåŠ¨ï¼Œæ¯å¤©ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼›å•ä¸ªæ–‡ä»¶è¶…è¿‡100MBæ—¶å¼ºåˆ¶æ»šåŠ¨ã€‚Logbacké…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>logs/order-service.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>logs/order-service.%d{yyyy-MM-dd}.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä¿ç•™30å¤©æ—¥å¿— --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">totalSizeCap</span>&gt;</span>10GB<span class="hljs-tag">&lt;/<span class="hljs-name">totalSizeCap</span>&gt;</span> <span class="hljs-comment">&lt;!-- æ—¥å¿—æ€»å¤§å°é™åˆ¶ --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">triggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span> <span class="hljs-comment">&lt;!-- å•ä¸ªæ–‡ä»¶æœ€å¤§100MB --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">triggeringPolicy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n<span class="hljs-symbol">&amp;lt;</span>/pattern<span class="hljs-symbol">&amp;gt;</span>
    <span class="hljs-symbol">&amp;lt;</span>/encoder<span class="hljs-symbol">&amp;gt;</span>
<span class="hljs-symbol">&amp;lt;</span>/appender<span class="hljs-symbol">&amp;gt;</span>
</code></pre>
<h4 data-id="heading-14">5. å®‰å…¨è„±æ•ï¼šä¿æŠ¤æ•æ„Ÿä¿¡æ¯ä¸æ³„éœ²</h4>
<p>æ—¥å¿—ä¸­è‹¥åŒ…å«ç”¨æˆ·å¯†ç ã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€é“¶è¡Œå¡å·ç­‰æ•æ„Ÿä¿¡æ¯ï¼Œä¼šè¿åã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹ç­‰åˆè§„è¦æ±‚ã€‚æ ¸å¿ƒè„±æ•ç­–ç•¥ï¼šâ€œèƒ½ä¸è¾“å‡ºå°±ä¸è¾“å‡ºï¼Œå¿…é¡»è¾“å‡ºåˆ™è„±æ•â€ã€‚</p>
<h5 data-id="heading-15">ï¼ˆ1ï¼‰å¸¸è§è„±æ•åœºæ™¯ä¸æ–¹æ³•</h5>
<ul>
<li><strong>æ¥å£å…¥å‚/å‡ºå‚è„±æ•</strong>ï¼šå¯¹åŒ…å«æ•æ„Ÿä¿¡æ¯çš„DTOå­—æ®µè¿›è¡Œè„±æ•ï¼Œå¯é€šè¿‡è‡ªå®šä¹‰JSONåºåˆ—åŒ–å™¨å®ç°ï¼›</li>
<li><strong>æ—¥å¿—è¯­å¥è„±æ•</strong>ï¼šå¯¹å…³é”®æ•æ„Ÿå‚æ•°æ‰‹åŠ¨è„±æ•ï¼ˆå¦‚æ‰‹æœºå·ä¿ç•™å‰3å4ä½ï¼‰ï¼›</li>
<li><strong>å…¨å±€æ‹¦æˆªè„±æ•</strong>ï¼šé€šè¿‡Logbackçš„è‡ªå®šä¹‰è½¬æ¢å™¨ï¼Œå¯¹æ—¥å¿—ä¸­çš„æ•æ„Ÿä¿¡æ¯è‡ªåŠ¨æ‹¦æˆªè„±æ•ã€‚</li>
</ul>
<h5 data-id="heading-16">ï¼ˆ2ï¼‰å®æˆ˜ï¼šè‡ªå®šä¹‰JSONåºåˆ—åŒ–å™¨è„±æ•</h5>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">import</span> com.fasterxml.jackson.core.<span class="hljs-type">JsonGenerator</span>;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.<span class="hljs-type">JsonSerializer</span>;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.<span class="hljs-type">SerializerProvider</span>;
<span class="hljs-keyword">import</span> java.io.<span class="hljs-type">IOException</span>;

<span class="hljs-comment">// æ‰‹æœºå·è„±æ•åºåˆ—åŒ–å™¨</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MobileDesensitizer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">JsonSerializer&lt;String&gt;</span> </span>{
    <span class="hljs-meta">@Override</span>
    public void serialize(<span class="hljs-type">String</span> mobile, <span class="hljs-type">JsonGenerator</span> gen, <span class="hljs-type">SerializerProvider</span> serializers) <span class="hljs-keyword">throws</span> <span class="hljs-type">IOException</span> {
        <span class="hljs-keyword">if</span> (mobile != <span class="hljs-literal">null</span> &amp;&amp; mobile.length() == <span class="hljs-number">11</span>) {
            gen.writeString(mobile.replaceAll(<span class="hljs-string">"(\d{3})\d{4}(\d{4})"</span>, <span class="hljs-string">"$1****$2"</span>));
        } <span class="hljs-keyword">else</span> {
            gen.writeString(mobile);
        }
    }
}

<span class="hljs-comment">// åœ¨DTOä¸­ä½¿ç”¨</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDTO</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> userId;
    
    <span class="hljs-meta">@JsonSerialize</span>(<span class="hljs-keyword">using</span> = <span class="hljs-type">MobileDesensitizer</span>.<span class="hljs-keyword">class</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> mobile; <span class="hljs-comment">// åºåˆ—åŒ–æ—¶è‡ªåŠ¨è„±æ•</span>
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> username;
    <span class="hljs-comment">// çœç•¥getter/setter</span>
}

<span class="hljs-comment">// æ—¥å¿—è¾“å‡ºæ•ˆæœï¼šmobile=138****1234</span>
log.info(<span class="hljs-string">"ç”¨æˆ·ç™»å½•æˆåŠŸï¼Œç”¨æˆ·ä¿¡æ¯={}"</span>, userDTO);
</code></pre>
<h5 data-id="heading-17">ï¼ˆ3ï¼‰å®æˆ˜ï¼šLogbackå…¨å±€è„±æ•è½¬æ¢å™¨</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> ch.qos.logback.classic.pattern.ClassicConverter;
<span class="hljs-keyword">import</span> ch.qos.logback.classic.spi.ILoggingEvent;
<span class="hljs-keyword">import</span> java.util.regex.Pattern;

<span class="hljs-comment">// æ—¥å¿—å…¨å±€è„±æ•è½¬æ¢å™¨ï¼šåŒ¹é…æ‰‹æœºå·ã€èº«ä»½è¯å·</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogDesensitizerConverter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ClassicConverter</span> {
    <span class="hljs-comment">// æ‰‹æœºå·æ­£åˆ™ï¼š11ä½æ•°å­—</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Pattern</span> <span class="hljs-variable">MOBILE_PATTERN</span> <span class="hljs-operator">=</span> Pattern.compile(<span class="hljs-string">"1[3-9]\d{9}"</span>);
    <span class="hljs-comment">// èº«ä»½è¯å·æ­£åˆ™ï¼š18ä½ï¼ˆå«Xï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Pattern</span> <span class="hljs-variable">ID_CARD_PATTERN</span> <span class="hljs-operator">=</span> Pattern.compile(<span class="hljs-string">"\d{17}[0-9Xx]"</span>);

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">convert</span><span class="hljs-params">(ILoggingEvent event)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> event.getMessage();
        <span class="hljs-keyword">if</span> (message == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        }
        <span class="hljs-comment">// æ‰‹æœºå·è„±æ•</span>
        message = MOBILE_PATTERN.matcher(message).replaceAll(<span class="hljs-string">"****"</span>);
        <span class="hljs-comment">// èº«ä»½è¯å·è„±æ•ï¼ˆä¿ç•™å‰6å4ï¼‰</span>
        message = ID_CARD_PATTERN.matcher(message).replaceAll(<span class="hljs-string">"$1****$2"</span>);
        <span class="hljs-keyword">return</span> message;
    }
}

<span class="hljs-comment">// åœ¨logback-spring.xmlä¸­é…ç½®</span>
&lt;conversionRule conversionWord=<span class="hljs-string">"msg"</span> converterClass=<span class="hljs-string">"com.demo.log.LogDesensitizerConverter"</span> /&gt;
</code></pre>
<h4 data-id="heading-18">6. æ—¥å¿—ç›‘æ§å‘Šè­¦ï¼šè®©æ—¥å¿—â€œä¸»åŠ¨è¯´è¯â€</h4>
<p>ä¼˜åŒ–åçš„æ—¥å¿—ä¸ä»…è¦â€œå¯æ£€ç´¢â€ï¼Œè¿˜è¦èƒ½â€œä¸»åŠ¨å‘Šè­¦â€â€”â€”å½“ç³»ç»Ÿå‡ºç°å¼‚å¸¸æ—¶ï¼Œé€šè¿‡æ—¥å¿—ç›‘æ§å·¥å…·åŠæ—¶è§¦å‘å‘Šè­¦ï¼Œé¿å…æ•…éšœæ‰©å¤§ã€‚æ ¸å¿ƒå®ç°æ–¹æ¡ˆï¼šELKæ ˆ + å‘Šè­¦æ’ä»¶ï¼ˆå¦‚Elastic Alertï¼‰ã€‚</p>
<h5 data-id="heading-19">ï¼ˆ1ï¼‰ELKæ ˆæ—¥å¿—æµè½¬æµç¨‹</h5>
<ol>
<li>Logbackå°†ç»“æ„åŒ–æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶ï¼›</li>
<li>Logstashè¯»å–æ—¥å¿—æ–‡ä»¶ï¼Œè¿‡æ»¤ã€è§£ææ—¥å¿—ï¼ˆå¦‚æå–å­—æ®µï¼‰ï¼›</li>
<li>Logstashå°†å¤„ç†åçš„æ—¥å¿—å†™å…¥Elasticsearchï¼›</li>
<li>Kibanaå¯¹æ¥Elasticsearchï¼Œå®ç°æ—¥å¿—æ£€ç´¢ã€å¯è§†åŒ–ï¼›</li>
<li>é…ç½®å‘Šè­¦è§„åˆ™ï¼ˆå¦‚ERRORæ—¥å¿—5åˆ†é’Ÿå†…è¶…è¿‡10æ¡ã€å‡ºç°â€œæ•°æ®åº“è¿æ¥å¤±è´¥â€æ—¥å¿—ï¼‰ï¼Œè§¦å‘é’‰é’‰/çŸ­ä¿¡/é‚®ä»¶å‘Šè­¦ã€‚</li>
</ol>
<h5 data-id="heading-20">ï¼ˆ2ï¼‰å…³é”®å‘Šè­¦è§„åˆ™å»ºè®®</h5>
<ul>
<li>ERRORçº§åˆ«æ—¥å¿—æ•°é‡çªå¢ï¼ˆå¦‚5åˆ†é’Ÿå†…è¶…è¿‡é˜ˆå€¼ï¼‰ï¼›</li>
<li>å‡ºç°ç‰¹å®šé”™è¯¯æ—¥å¿—ï¼ˆå¦‚â€œæ•°æ®åº“è¿æ¥è¶…æ—¶â€â€œNPEâ€â€œæœåŠ¡ç†”æ–­â€ï¼‰ï¼›</li>
<li>æ ¸å¿ƒä¸šåŠ¡æ—¥å¿—ç¼ºå¤±ï¼ˆå¦‚10åˆ†é’Ÿå†…æ— â€œè®¢å•æ”¯ä»˜æˆåŠŸâ€æ—¥å¿—ï¼Œå¯èƒ½æ”¯ä»˜æœåŠ¡å¼‚å¸¸ï¼‰ï¼›</li>
<li>æ¥å£å“åº”æ—¶é—´å¼‚å¸¸ï¼ˆé€šè¿‡æ—¥å¿—ä¸­çš„è€—æ—¶å­—æ®µç›‘æ§ï¼Œå¦‚è€—æ—¶è¶…è¿‡5ç§’ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-21">ä¸‰ã€æ—¥å¿—è¾“å‡ºä¼˜åŒ–çš„â€œé¿å‘æŒ‡å—â€</h3>
<p>åœ¨æ—¥å¿—ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå®¹æ˜“é™·å…¥ä¸€äº›è¯¯åŒºï¼Œä»¥ä¸‹æ˜¯å¸¸è§å‘ç‚¹åŠè§„é¿æ–¹æ³•ï¼š</p>
<ul>
<li><strong>å‘ç‚¹1ï¼šæ—¥å¿—çº§åˆ«â€œä¸€åˆ€åˆ‡â€</strong> ï¼šæ‰€æœ‰åŒ…éƒ½ä½¿ç”¨ç›¸åŒçš„æ—¥å¿—çº§åˆ«ï¼ˆå¦‚æ ¹æ—¥å¿—è®¾ä¸ºDEBUGï¼‰ï¼Œå¯¼è‡´ç”Ÿäº§ç¯å¢ƒæ—¥å¿—çˆ†ç‚¸ã€‚ è§„é¿ï¼šæ ¹æ—¥å¿—è®¾ä¸ºINFOï¼Œå¯¹ç‰¹å®šåŒ…ï¼ˆå¦‚mapperã€ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼‰å•ç‹¬è®¾ä¸ºWARNï¼›</li>
<li><strong>å‘ç‚¹2ï¼šæ—¥å¿—å†…å®¹â€œè¶Šè¯¦ç»†è¶Šå¥½â€</strong> ï¼šè¾“å‡ºå®Œæ•´çš„è¯·æ±‚ä½“ã€å“åº”ä½“ï¼ŒåŒ…å«å¤§é‡å†—ä½™ä¿¡æ¯ã€‚ è§„é¿ï¼šåªè¾“å‡ºæ ¸å¿ƒä¸šåŠ¡å‚æ•°ï¼Œæ•æ„Ÿä¿¡æ¯è„±æ•ï¼Œé¿å…è¾“å‡ºå¤§æ–‡æœ¬ï¼ˆå¦‚JSONæ•°ç»„ã€æ–‡ä»¶å†…å®¹ï¼‰ï¼›</li>
<li><strong>å‘ç‚¹3ï¼šå¼‚æ­¥æ—¥å¿—â€œæ»¥ç”¨â€</strong> ï¼šæ‰€æœ‰æ—¥å¿—éƒ½ç”¨å¼‚æ­¥è¾“å‡ºï¼Œå¯¼è‡´æ—¥å¿—ä¸¢å¤±ï¼ˆé˜Ÿåˆ—æ»¡æ—¶å¯èƒ½ä¸¢å¼ƒæ—¥å¿—ï¼‰ã€‚ è§„é¿ï¼šå…³é”®ä¸šåŠ¡æ—¥å¿—ï¼ˆå¦‚æ”¯ä»˜ã€è®¢å•ï¼‰ä½¿ç”¨åŒæ­¥æ—¥å¿—æˆ–é…ç½®ä¸ä¸¢å¼ƒçš„å¼‚æ­¥æ—¥å¿—ï¼›éå…³é”®æ—¥å¿—å¯ä½¿ç”¨å¼‚æ­¥ï¼›</li>
<li><strong>å‘ç‚¹4ï¼šå¿½ç•¥æ—¥å¿—æ¸…ç†</strong>ï¼šæ—¥å¿—æ— ä¿ç•™æœŸé™ï¼Œå¯¼è‡´ç£ç›˜ç©ºé—´è¢«å æ»¡ã€‚ è§„é¿ï¼šé…ç½®æ—¥å¿—ä¿ç•™æœŸé™ï¼ˆå¦‚30å¤©ï¼‰å’Œæ€»å¤§å°é™åˆ¶ï¼Œå®šæœŸæ¸…ç†è¿‡æœŸæ—¥å¿—ï¼›</li>
<li><strong>å‘ç‚¹5ï¼šMDCæœªæ¸…ç†</strong>ï¼šçº¿ç¨‹æ± å¤ç”¨å¯¼è‡´MDCä¸­çš„å‚æ•°æ±¡æŸ“ï¼ˆå¦‚å‰ä¸€ä¸ªè¯·æ±‚çš„requestIdè¢«åç»­è¯·æ±‚å¤ç”¨ï¼‰ã€‚ è§„é¿ï¼šåœ¨è¯·æ±‚ç»“æŸåï¼ˆæ‹¦æˆªå™¨afterCompletionï¼‰æ¸…é™¤MDCï¼›çº¿ç¨‹æ± ä½¿ç”¨æ—¶ï¼Œæ‰‹åŠ¨ä¼ é€’MDCå‚æ•°ã€‚</li>
</ul>
<h3 data-id="heading-22">å››ã€æ€»ç»“ï¼šæ—¥å¿—ä¼˜åŒ–çš„æ ¸å¿ƒåŸåˆ™</h3>
<p>æ—¥å¿—è¾“å‡ºä¼˜åŒ–çš„æ ¸å¿ƒä¸æ˜¯â€œè¿½æ±‚å¤æ‚çš„é…ç½®â€ï¼Œè€Œæ˜¯å›´ç»•â€œ<strong>è§„èŒƒã€å®ç”¨ã€å®‰å…¨ã€é«˜æ•ˆ</strong>â€å››ä¸ªå…³é”®è¯ï¼š</p>
<ul>
<li>è§„èŒƒï¼šæŒ‰åœºæ™¯ä½¿ç”¨æ—¥å¿—çº§åˆ«ï¼Œç»Ÿä¸€æ—¥å¿—æ ¼å¼ï¼›</li>
<li>å®ç”¨ï¼šæ—¥å¿—å†…å®¹åŒ…å«å…³é”®è¦ç´ ï¼Œèƒ½å¿«é€Ÿå®šä½é—®é¢˜ï¼›</li>
<li>å®‰å…¨ï¼šæ•æ„Ÿä¿¡æ¯è„±æ•ï¼Œç¬¦åˆåˆè§„è¦æ±‚ï¼›</li>
<li>é«˜æ•ˆï¼šå‡å°‘æ—¥å¿—å¯¹ç³»ç»Ÿæ€§èƒ½çš„æŸè€—ï¼Œå®ç°è‡ªåŠ¨åŒ–ç›‘æ§å‘Šè­¦ã€‚</li>
</ul>
<p>å…¶å®æ—¥å¿—ä¼˜åŒ–æ²¡æœ‰â€œé“¶å¼¹â€ï¼Œéœ€è¦ç»“åˆä¸šåŠ¡åœºæ™¯ä¸æ–­è°ƒæ•´ã€‚å»ºè®®ä»â€œè§„èŒƒæ—¥å¿—çº§åˆ«â€â€œæ·»åŠ é“¾è·¯æ ‡è¯†â€â€œç»“æ„åŒ–è¾“å‡ºâ€è¿™ä¸‰ä¸ªåŸºç¡€ç‚¹å…¥æ‰‹ï¼Œé€æ­¥è½åœ°æ€§èƒ½ä¼˜åŒ–å’Œå®‰å…¨è„±æ•ï¼Œè®©æ—¥å¿—çœŸæ­£æˆä¸ºç³»ç»Ÿç¨³å®šæ€§çš„â€œå®ˆæŠ¤è€…â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼ä¸‹çš„æ¨¡å‹é€‰æ‹©æŒ‡å—]]></title>    <link>https://juejin.cn/post/7592068193419542537</link>    <guid>https://juejin.cn/post/7592068193419542537</guid>    <pubDate>2026-01-06T09:45:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592068193419542537" data-draft-id="7591986565855248430" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼ä¸‹çš„æ¨¡å‹é€‰æ‹©æŒ‡å—"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-01-06T09:45:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼ä¸‹çš„æ¨¡å‹é€‰æ‹©æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T09:45:47.000Z" title="Tue Jan 06 2026 09:45:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae941bc5b84447eb9b8c3fbeeb10fded~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=NDECseIzJLciZpHyxLk6xOkKvno%3D" alt="" loading="lazy"/></p>
<p>TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼å·²å†…ç½® 3 ç§æ¨¡å‹â€”â€”<strong>Gemini-3-Pro-Preview</strong>ã€<strong>GPT-5-medium</strong> å’Œ <strong>Kimi-K2-0905</strong>ã€‚ä¸åŒæ¨¡å‹åœ¨å¼€å‘è¿‡ç¨‹ä¸­çš„ä¸åŒç¯èŠ‚å„æœ‰æ‰€é•¿ï¼Œé€‰æ‹©æ¨¡å‹çš„æ ¸å¿ƒå¹¶é â€œå“ªæ¬¾æ¨¡å‹æœ€ä¼˜â€ï¼Œè€Œæ˜¯<strong>å“ªæ¬¾æ¨¡å‹æœ€é€‚é…ä½ è¦äº¤ä»˜çš„ä»»åŠ¡ã€‚</strong></p>
<p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬ä¸ºä½ æä¾›çš„ä¸€ç§æ¨¡å‹é€‰æ‹©æ€è·¯ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4479ede51bd442ffb04ce9d9b36368b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=zI%2BUwxucEy4TOIpzgO3%2B9TP8fdg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>Gemini-3-Pro-Previewï¼šé€‚ç”¨äºæ™ºèƒ½ä½“é©±åŠ¨ã€é•¿å‘¨æœŸã€å¤šæ¨¡æ€ä»»åŠ¡</strong></h2>
<p>å½“ä»»åŠ¡åœºæ™¯å®½æ³›ã€å„ç¯èŠ‚ç›¸äº’å…³è”ï¼Œä¸”éœ€è¦åœ¨ä¸Šä¸‹æ–‡é‡Œç»Ÿç­¹å¤šä¸ªåŠ¨æ€æ¨¡å—æ—¶ï¼ŒGemini-3-Pro-Preview çš„ä¼˜åŠ¿æœ€ä¸ºçªå‡ºï¼š</p>
<ul>
<li>
<p>æ“…é•¿æ™ºèƒ½ä½“é©±åŠ¨çš„ç¼–ç æµç¨‹ â€”â€” ç›¸æ¯”å•æ¬¡æŒ‡ä»¤è°ƒç”¨ï¼Œé€šè¿‡å‘½ä»¤è¡Œç•Œé¢ / å·¥å…·è°ƒç”¨æµç¨‹è¿è¡Œæ—¶è¡¨ç°æ›´ä½³</p>
</li>
<li>
<p>å…·å¤‡å‡ºè‰²çš„å¤šæ¨¡æ€ç†è§£èƒ½åŠ›ï¼ˆæ¶µç›–æ–‡æœ¬ã€ä»£ç ã€è®¾è®¡è§„èŒƒã€UI è®¾è®¡ï¼‰ï¼Œéå¸¸é€‚åˆå…¨æ ˆå¼€å‘å·¥ä½œ</p>
</li>
<li>
<p>é•¿å‘¨æœŸä»»åŠ¡è¡¨ç°ç¨³å®šå¯é  â€”â€” å¯èƒœä»»å¤§å‹ä»£ç åº“çš„è¿ç§»ã€æ¶æ„è°ƒæ•´ä»¥åŠå…¨å±€è°ƒè¯•å·¥ä½œ</p>
</li>
</ul>
<h3 data-id="heading-1"><strong>å›½é™…ç‰ˆ SOLO + Gemini-3-Pro-Preview é€‚ç”¨åœºæ™¯ç¤ºä¾‹ï¼š</strong></h3>
<p>å½“ä»»åŠ¡å±äº â€œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«â€ çš„ç±»å‹æ—¶ï¼ŒGemini-3-Pro-Preview é€šå¸¸æ˜¯ä¼˜é€‰æ–¹æ¡ˆã€‚</p>
<ul>
<li>
<p>Gemini-3-Pro-Preview æ™ºèƒ½ä½“å¯å……å½“ UI å·¥ç¨‹å¸ˆï¼ŒåŸºäºå¤šæ¨¡æ€è¾“å…¥çš„è®¾è®¡è§„èŒƒç”Ÿæˆç•Œé¢å¹¶æŒç»­è¿­ä»£ä¼˜åŒ–</p>
</li>
<li>
<p>æ™ºèƒ½ä½“å¯å¹¶è¡Œå¤„ç†åç«¯é€»è¾‘ã€åº”ç”¨ç¨‹åºæ¥å£ï¼ˆAPIï¼‰æˆ–æ•°æ®æ¨¡å‹çš„å¼€å‘å·¥ä½œ</p>
</li>
<li>
<p>TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼è´Ÿè´£ç»Ÿç­¹åè°ƒå„æ™ºèƒ½ä½“ï¼ŒGemini-3-Pro-Preview åˆ™ä¿éšœå„å±‚çº§çš„ä¸€è‡´æ€§</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76b7ffeb89ee46afa11120face703d49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=A%2BclyRnjo1eIl9i4PYNz8ms3k54%3D" alt="gemini-3-use-case (1).gif" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7648d7d46b0c413a9314c5ddbc6a4e4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=3KeZkFO2YrC4pDiOr1ytVPtTudk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>GPT-5-mediumï¼šé€‚ç”¨äºç»“æ„åŒ–è¿­ä»£ä¸ç”Ÿäº§çº§åˆ«çš„ä»£ç ä¿®æ”¹</strong></h2>
<p>GPT-5-medium å°±åƒä¸€ä½ç»éªŒä¸°å¯Œçš„èµ„æ·±å·¥ç¨‹å¸ˆï¼Œä½ å¯ä»¥æ”¾å¿ƒåœ°å°†éœ€è¦ä¸¥è°¨æ€è€ƒã€å‘¨å¯†è§„åˆ’çš„ä¿®æ”¹ä»»åŠ¡äº¤ä»˜ç»™å®ƒï¼š</p>
<ul>
<li>
<p>æ“…é•¿é‡æ„ã€è°ƒè¯•å¾ªç¯ã€æµ‹è¯•æ¡†æ¶æ­å»ºç­‰è¿­ä»£å¼ç¼–ç æµç¨‹</p>
</li>
<li>
<p>å…¼é¡¾å¼ºå¤§çš„é€šç”¨æ¨ç†èƒ½åŠ›ä¸ç¼–ç èƒ½åŠ›ï¼Œç»™å‡ºçš„æ–¹æ¡ˆæ›´é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ</p>
</li>
<li>
<p>æ‹¥æœ‰è¶…å¤§ä¸Šä¸‹æ–‡çª—å£ï¼ˆæœ€é«˜ 272kï¼‰ï¼Œèƒ½å¤Ÿåº”å¯¹å¤æ‚çš„å®é™…é¡¹ç›®éœ€æ±‚</p>
</li>
<li>
<p>é…å¥—å·¥å…·ç”Ÿæ€æˆç†Ÿï¼Œåœ¨å„ç±»ç¼–è¾‘å™¨ã€åº”ç”¨ç¨‹åºæ¥å£ï¼ˆAPIï¼‰å’Œæ’ä»¶ä¸­è¡¨ç°ç¨³å®š</p>
</li>
</ul>
<h3 data-id="heading-3"><strong>å›½é™…ç‰ˆ SOLO + GPT-5-medium é€‚ç”¨åœºæ™¯ç¤ºä¾‹ï¼š</strong></h3>
<p><strong>1. ç³»ç»Ÿé‡æ„</strong></p>
<ul>
<li>
<p>å°†å¤§è§„æ¨¡é‡æ„ä»»åŠ¡æ‹†è§£ä¸ºæ¸…æ™°çš„æ­¥éª¤ï¼Œé€æ­¥æ¨è¿›</p>
</li>
<li>
<p>ç¡®ä¿é‡æ„è¿‡ç¨‹ä¸­å„æ¨¡å—çš„æ ¸å¿ƒçº¦æŸæ¡ä»¶å§‹ç»ˆæœ‰æ•ˆ</p>
</li>
</ul>
<p><strong>2. é—ç•™ä»£ç è°ƒè¯•</strong></p>
<ul>
<li>
<p>è·¨æ–‡ä»¶è¿½è¸ªä¸šåŠ¡é€»è¾‘ï¼Œå®šä½é—®é¢˜æ ¹æº</p>
</li>
<li>
<p>éµå¾ª â€œå…ˆå†™æµ‹è¯•ï¼Œå†æ”¹ä»£ç â€ çš„æµç¨‹ï¼Œé™ä½ä¿®æ”¹é£é™©</p>
</li>
</ul>
<p>GPT-5-medium ä¸ TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼çš„ <strong>Plan</strong> å°¤ä¸ºå¥‘åˆï¼Œå¯ä»¥ç”Ÿæˆæ¸…æ™°çš„æ–¹æ¡ˆã€æœ‰æ¡ç†åœ°æ‰§è¡Œä»»åŠ¡å¹¶ç”Ÿæˆé«˜åº¦å‡†ç¡®çš„ç»“æœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbeccdfb227b4945ae184ebeb1b70276~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=gtHBAic6mnjwMyAwR3nag1OpoUo%3D" alt="gpt-5-use-case (1).gif" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26ea123f7c2c409d96267dfa8bc5dcf2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=vov8JF3%2BeqGXYoaq3IKP6lmA93Q%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4"><strong>Kimi-K2-0905ï¼šé€‚ç”¨äºæ‰§è¡Œé«˜æ•ˆè‡ªåŠ¨åŒ–ã€é«˜æ€§ä»·æ¯”çš„ä»»åŠ¡</strong></h2>
<p>Kimi-K2-0905 å†³ç­–æœæ–­ã€å“åº”è¿…é€Ÿï¼Œèƒ½å¤Ÿé«˜æ•ˆæ¨è¿›ä»»åŠ¡ï¼Œæ˜¯æ— éœ€äººå·¥å¹²é¢„çš„è‡ªåŠ¨åŒ–ä»»åŠ¡çš„ç†æƒ³é€‰æ‹©ï¼šå®ƒæ“…é•¿å¤šæ­¥éª¤é€»è¾‘å¤„ç†ä¸è‡ªä¸»åŒ–å·¥ä½œæµï¼Œå°¤å…¶é€‚ç”¨äºç ”å‘è°ƒç ”æˆ–è‡ªåŠ¨åŒ–è„šæœ¬å¼€å‘ä»»åŠ¡ï¼›å• token ä½¿ç”¨æˆæœ¬è¿œä½äºå¤šæ•°å•†ç”¨é—­æºæ¨¡å‹ï¼Œæ€§ä»·æ¯”çªå‡ºï¼Œåœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­è¿è¡Œé€Ÿåº¦æå¿«ï¼Œå»¶è¿Ÿä½ï¼Œèƒ½å¤Ÿå®ç°å¿«é€Ÿè¿­ä»£ã€‚</p>
<h3 data-id="heading-5"><strong>å›½é™…ç‰ˆ SOLO + Kimi-K2-0905 é€‚ç”¨åœºæ™¯ç¤ºä¾‹ï¼š</strong></h3>
<p><strong>1. å¤„ç†é‡å¤æ€§æˆ–æœºæ¢°æ€§å¼€å‘å·¥ä½œï¼š</strong> æ¸…ç†å†—ä½™ä»£ç ã€ç”Ÿæˆé€šç”¨æ¨¡æ¿ä»£ç ã€è½¬æ¢æ•°æ®æ ¼å¼ã€ç»Ÿä¸€é‡æ„ä»£ç è¯­è¨€é£æ ¼</p>
<p><strong>2. ä½œä¸ºå­æ™ºèƒ½ä½“æ‰§è¡Œè¾…åŠ©ä»»åŠ¡ï¼š</strong> Kimi-K2-0905 å¯ä»¥è‡ªä¸»è¿è¡Œå¤„ç†åå°è¾…åŠ©ä»»åŠ¡ï¼Œä½ å°±èƒ½ä¸“æ³¨äºæ›´é¡¶å±‚çš„å†³ç­–å·¥ä½œ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82f5c208a50e404bbffc204aeb1ed935~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768297546&amp;x-signature=05fGP964ypi7GZlSWIBAMTl5S3A%3D" alt="kimi-k2-use-case (1).gif" loading="lazy"/></p>
<p><strong>SOLO æ¨¡å¼æ¨¡å‹é€‰å‹æ ¸å¿ƒæ€è·¯æ€»ç»“</strong></p>
<p>åœ¨ TRAE å›½é™…ç‰ˆ SOLO æ¨¡å¼ä¸‹ï¼Œå¦‚ä½•é€‰æ‹©æœ€åˆé€‚çš„æ¨¡å‹ï¼Ÿä½ å¯ä»¥åƒå¸¦é¢†ä¸€æ”¯çœŸå®çš„å·¥ç¨‹å¸ˆå›¢é˜Ÿä¸€æ ·ï¼Œæ ¹æ®ä»»åŠ¡ç‰¹ç‚¹çµæ´»è°ƒåº¦ã€åˆç†åˆ†å·¥ï¼Œè®©æ¯ä¸ªæ¨¡å‹å‘æŒ¥å…¶æœ€å¤§ä¼˜åŠ¿ã€‚</p>
<ul>
<li>
<p><strong>Gemini-3-Pro-Previewï¼š</strong> æ“…é•¿å¹¿åº¦è¦†ç›–ã€ä¸Šä¸‹æ–‡ç»Ÿç­¹ã€å¤šæ¨¡æ€èåˆä¸ç³»ç»ŸåŒ–æ€è€ƒã€‚</p>
</li>
<li>
<p><strong>GPT-5-mediumï¼š</strong> ä»¥ç¨³å®šå¯é è§é•¿ï¼Œå–„äºç»“æ„åŒ–æ¨è¿›å’Œç”Ÿäº§çº§è¿­ä»£ä¼˜åŒ–ã€‚</p>
</li>
<li>
<p><strong>Kimi-K2-0905ï¼š</strong> è¿½æ±‚æé€Ÿæ‰§è¡Œå’Œè‡ªä¸»è¿è¡Œï¼Œå…·å¤‡é«˜æ€§ä»·æ¯”ï¼Œä¸“æ³¨è½åœ°æ‰§è¡Œã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åº”å¯¹ Nginx Ingress é€€å½¹ï¼Œæ˜¯æ—¶å€™ç†æ¸…è¿™äº›æ˜“æ··æ·†çš„æ¦‚å¿µäº†]]></title>    <link>https://juejin.cn/post/7591767753850650666</link>    <guid>https://juejin.cn/post/7591767753850650666</guid>    <pubDate>2026-01-06T03:45:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591767753850650666" data-draft-id="7591672090790248467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åº”å¯¹ Nginx Ingress é€€å½¹ï¼Œæ˜¯æ—¶å€™ç†æ¸…è¿™äº›æ˜“æ··æ·†çš„æ¦‚å¿µäº†"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-01-06T03:45:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åº”å¯¹ Nginx Ingress é€€å½¹ï¼Œæ˜¯æ—¶å€™ç†æ¸…è¿™äº›æ˜“æ··æ·†çš„æ¦‚å¿µäº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T03:45:36.000Z" title="Tue Jan 06 2026 03:45:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæœ›å®¸</p>
<p>æœ¬æ–‡å¸Œæœ›æä¾›ä¸€ç§æ›´ç®€å•çš„æ–¹å¼ï¼Œæ¥ç†è§£è¿™äº›å®¹æ˜“æ··æ·†çš„æŠ€æœ¯æ¦‚å¿µï¼šNginxã€Ingressã€Ingress Controllerã€Ingress APIã€Nginx Ingressã€Higressã€Gateway APIã€‚</p>
<h2 data-id="heading-0">Nginx å’Œ Kubernetes</h2>
<p>æˆ‘ä»¬å…ˆæŒ‰å’Œ Kubernetes æ˜¯å¦æœ‰å…³ï¼Œåˆ†ä¸ºä¸¤ç±»ï¼š</p>
<p>Nginx æ˜¯åœ¨æ²¡æœ‰ Kubernetes çš„å¹´ä»£ï¼Œæµé‡å…¥å£ä¸Šçš„äº‹å®æ ‡å‡†ï¼Œæ˜¯ç‹¬ç«‹è¿è¡Œåœ¨ä»»ä½• Linux/Windows æœåŠ¡å™¨ä¸Šçš„ Web æœåŠ¡å™¨ã€‚æä¾›ä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š</p>
<ul>
<li>æ¥æ”¶è¯·æ±‚ï¼›</li>
<li>è½¬å‘è¯·æ±‚ï¼›</li>
<li>è´Ÿè½½å‡è¡¡ï¼›</li>
<li>ç®€å•çš„æµé‡æ²»ç†ï¼Œä¾‹å¦‚é™æµã€ç¼“å­˜ã€é‡å†™ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dd7062a881f4a6d9cc2ada7cc8512a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=uzoRWXoxMs7FDMj2Vy22eEFCS9I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œ Ingress APIã€Ingress Controllerã€Nginx Ingressã€Higressã€Gateway API éƒ½ä¾èµ– Kubernetesï¼ŒKubernetes å‡ºç°åï¼Œæ‰æœ‰äº†è¿™äº›æ¦‚å¿µã€‚å…¶ä¸­ï¼ŒIngress API æ˜¯ Kubernetes ç®¡ç†æµé‡çš„è§„èŒƒï¼ŒIngress Controller æ˜¯è§„èŒƒçš„å®ç°ç»„ä»¶ï¼ŒNginx Ingress å’Œ Higress éƒ½æ˜¯è§„èŒƒçš„å®Œæ•´å®ç°å’ŒåŠŸèƒ½æ‰©å±•ï¼ŒGateway API åˆ™æ˜¯ Ingress API çš„å‡çº§å’Œä¸‹ä¸€ä»£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d12816faa7a4342b1ff8495770e6e81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=UbK6IYYkyOT4E0JO0hyRiUMuFa0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒIngress ç»å¸¸å•ç‹¬å‡ºç°ï¼Œéœ€è¦åŸºäºè¯­å¢ƒæ¥åˆ¤æ–­ï¼Œæœ‰å¯èƒ½æ˜¯æŒ‡ Ingress APIï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æŒ‡ Ingress èµ„æºï¼Œå³ç”¨æˆ·ç¼–å†™çš„å…·ä½“é…ç½®å¯¹è±¡ï¼ˆYAMLï¼‰ï¼Œéµå¾ª Ingress APIã€‚</p>
<h2 data-id="heading-1">Ingress API å’Œ Ingress Controller</h2>
<p>Ingress API å’Œ Ingress Controller åˆ†åˆ«æ˜¯ Kubernetes æµé‡ç®¡ç†çš„è§„èŒƒå’Œæ‰§è¡Œå™¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70e786088cf74b80ad3fe085eff71744~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=IUxS0SpEqn1id8D5XVsSuNDgL6M%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>Ingress API</strong>ï¼šç”¨å£°æ˜å¼çš„æ–¹å¼ï¼Œæè¿°å¤–éƒ¨æµé‡å¦‚ä½•è¿›å…¥é›†ç¾¤é‡Œçš„ Serviceï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>å¦‚ä½•é€šè¿‡åŸŸåè®¿é—®æœåŠ¡ï¼›</li>
<li>å¦‚ä½•æ ¹æ® URL è·¯å¾„è·¯ç”±åˆ°ä¸åŒåç«¯æœåŠ¡ï¼›</li>
<li>åç«¯æœåŠ¡æ˜¯è°ï¼›</li>
<li>æ˜¯å¦å¯ç”¨ HTTPS åŠ å¯†ã€‚</li>
</ul>
<p>å½¢è±¡åœ°è¯´ï¼ŒIngress API å¯ä»¥ç†è§£ä½ Kubernetes ä¸­ç®¡ç†æµé‡çš„è¯´æ˜ä¹¦ã€‚</p>
<p><strong>Ingress Controller</strong>ï¼šæ˜¯ Ingress API çš„å®ç°ç»„ä»¶ï¼Œå³æ‰§è¡Œè€…ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç›‘å¬ Ingress èµ„æºå˜åŒ–ï¼›</li>
<li>å°† Ingress è§„åˆ™è½¬æ¢ä¸ºå®é™…çš„åå‘ä»£ç†é…ç½®ï¼›</li>
<li>æ¥æ”¶å¤–éƒ¨æµé‡å¹¶æŒ‰è§„åˆ™è·¯ç”±ï¼›</li>
<li>å¤„ç† TLS ç»ˆæ­¢ï¼ˆHTTPS è§£å¯†ï¼‰ï¼›</li>
<li>æä¾›å¥åº·æ£€æŸ¥ã€è´Ÿè½½å‡è¡¡ã€é‡è¯•ç­‰æµé‡æ²»ç†èƒ½åŠ›ã€‚</li>
</ul>
<p>é€šè¿‡ä»¥ä¸Šèƒ½åŠ›ï¼ŒIngress Controller å°±å®ç°äº†Â Kubernetes å…¥å£æµé‡çš„ç®¡ç†ã€‚</p>
<h2 data-id="heading-2">Nginx Ingress å’Œ Higress</h2>
<p>Nginx Ingress å’Œ Higress éƒ½æ˜¯ Ingress API çš„å®Œæ•´å®ç°å’ŒåŠŸèƒ½æ‰©å±•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdf9b79f58a34f3c98776a7ff13cfc0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=r7HDDeYxrZL2F3%2FB47YddrB0Ibk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Nginx Ingressï¼šç”¨ Nginx ä½œä¸ºåº•å±‚å®ç°çš„ Ingress APIï¼Œæ§åˆ¶é¢å’Œæ•°æ®é¢è€¦åˆåœ¨åŒä¸€ä¸ªè¿›ç¨‹/å®¹å™¨ä¸­ã€‚ä¼˜ç‚¹æ˜¯ç®€å•ã€æ˜“ç”¨ã€ç¤¾åŒºå¹¿æ³›ã€‚</p>
<p><strong>ç¼ºç‚¹æ˜¯ï¼š</strong></p>
<ul>
<li>ä¸æ˜¯åŸç”Ÿçš„ Ingress APIï¼ŒIngress API è¯­ä¹‰åå¼±ï¼›</li>
<li>æ‰©å±•é  Annotationï¼ˆå·¥ç¨‹å™©æ¢¦ï¼‰ï¼›</li>
<li>ç”Ÿæˆ nginx.conf + reloadï¼ŒåŠ¨æ€é…ç½®èƒ½åŠ›å¼±ï¼ˆé¢‘ç¹ reload å½±å“æ€§èƒ½ï¼‰ã€‚</li>
</ul>
<p>é€‚ç”¨äºç®€å•ã€ç¨³å®šã€å°è§„æ¨¡çš„åœºæ™¯ã€‚</p>
<p>Higressï¼šæ•°æ®é¢æ˜¯åŸºäº Enovyï¼Œæ§åˆ¶é¢ç»™åŸºäº istioï¼Œæ˜¯åŸç”Ÿçš„ Ingress APIã€‚</p>
<p><strong>ä¼˜ç‚¹æ˜¯ï¼š</strong></p>
<ul>
<li>æ§åˆ¶é¢ä¸æ•°æ®é¢è§£è€¦ï¼Œå¯ç‹¬ç«‹æ‰©ç¼©å®¹ï¼›</li>
<li>åŸºäº xDS åè®®ï¼Œå®ç°çœŸæ­£çš„åŠ¨æ€é…ç½®ï¼ˆæ—  reloadï¼Œé›¶ä¸­æ–­ï¼‰ï¼›</li>
<li>åŸç”Ÿæ”¯æŒæ’ä»¶æ‰©å±•ï¼šWasmã€Luaã€Go æ’ä»¶ç”±æ§åˆ¶é¢ç»Ÿä¸€ç®¡ç†å¹¶ä¸‹å‘ï¼›</li>
<li><strong>å…¼å®¹å¤šåè®® &amp; å¤šæ ‡å‡†ï¼šåŒæ—¶æ”¯æŒ Ingress API å’Œ Gateway APIã€‚</strong></li>
</ul>
<p>ç¼ºç‚¹æ˜¯ï¼Œç›¸æ¯”Â Nginx å¹¿æ³›çš„ç¤¾åŒºåŸºç¡€ï¼ŒHigress ä¸ºä»£è¡¨çš„åŸç”Ÿ Ingress APIï¼Œéƒ¨ç½²å’Œç»´æŠ¤å­˜åœ¨å­¦ä¹ æˆæœ¬ã€‚</p>
<p>é€‚ç”¨äºé«˜æ€§èƒ½ã€é«˜æ‰©å±•ã€ä¼ä¸šçº§çš„åœºæ™¯ã€‚</p>
<h2 data-id="heading-3">Nginx Ingress é€€å½¹</h2>
<p>11æœˆï¼ŒKubernetes SIG Network å’Œå®‰å…¨å“åº”å§”å‘˜ä¼šå®£å¸ƒ Ingress NGINX é€€å½¹ã€‚ï¼ˆâš ï¸Â NGINX å¹¶æœªé€€å½¹ã€‚ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb08cd46ccda4305bddddd7ad9805fb4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=PFongHPha%2BYCvUwdh4n8D0w6o8s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ„å‘³ç€ï¼š</strong></p>
<ul>
<li>Ingress NGINX å°½åŠ›ç»´æŠ¤æœåŠ¡è‡³ 2026 å¹´ 3 æœˆï¼›</li>
<li>ä¸å†å‘å¸ƒä»»ä½•æ–°ç‰ˆæœ¬ï¼›</li>
<li>ä¸å†ä¿®å¤ä»»ä½•æ¼æ´ï¼›</li>
<li>ä¹Ÿä¸ä¼šæ›´æ–°ä»»ä½•å¯èƒ½å‘ç°çš„å®‰å…¨æ¼æ´ï¼›</li>
<li>GitHub ä»£ç åº“å°†è®¾ç½®ä¸ºåªè¯»ï¼Œä»…ä¾›å‚è€ƒï¼›</li>
<li>ç°æœ‰çš„ Ingress NGINX éƒ¨ç½²å°†ç»§ç»­è¿è¡Œï¼Œå®‰è£…æ–‡ä»¶ä¹Ÿå°†ç»§ç»­å¯ç”¨ã€‚</li>
</ul>
<p>å¼•å‘é€€å½¹çš„æ ¹æœ¬åŸå› ï¼šï¼š</p>
<ul>
<li>å¤šå¹´æ¥ï¼Œè¯¥é¡¹ç›®åªæœ‰ä¸€ä¸¤ä¸ªäººåˆ©ç”¨ä¸šä½™æ—¶é—´ï¼Œåœ¨å·¥ä½œä¹‹ä½™è¿›è¡Œå¼€å‘å·¥ä½œï¼›</li>
<li>å°è¯•å’Œ Gateway API ç¤¾åŒºåˆä½œå¼€å‘ä¸€ä¸ªæ›¿ä»£æ§åˆ¶å™¨ï¼Œä½†æœªèƒ½æ¿€å‘æ›´å¤šäººå‚ä¸ Ingress NGINX çš„ç»´æŠ¤ã€‚</li>
</ul>
<h2 data-id="heading-4">Higressï¼šNginx Ingress é€€å½¹çš„æ›¿ä»£ä¼˜å…ˆæ–¹æ¡ˆ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a54f7fbf0fc4243a9779926978f1659~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=NKPqzNS5csEVsz%2BQSxagvB963no%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>Kubernetes å®˜æ–¹æ¨èï¼Œå³å®˜æ–¹ç¤¾åŒºæ–‡æ¡£ä¸­è¿›è¡Œäº†è¯´æ˜ï¼›</li>
<li>å¯¹ Nginx Ingress çš„ Annotation å…¼å®¹åº¦æœ€é«˜ï¼Œæ”¯æŒ 51 ç§ï¼Œè¦†ç›– 90% çš„ç”¨æˆ·åœºæ™¯ï¼Œè¿™æ„å‘³ç€ç°æœ‰çš„ K8s Ingress YAML æ–‡ä»¶æ— éœ€å¤§é‡ä¿®æ”¹å³å¯å®Œæˆè¿ç§»ï¼›</li>
<li>é•¿æœŸæŠ•å…¥ï¼Œå¹¶æä¾›ä¼ä¸šç‰ˆæœåŠ¡ï¼Œå³é˜¿é‡Œäº‘ API ç½‘å…³ï¼›</li>
<li>æä¾›ç›‘å¬ K8s Ingressï¼ˆIngress æ¨¡å¼ï¼‰ï¼Œé€‚ç”¨äºå¸Œæœ›ä¿æŒ K8s åŸç”Ÿå·¥ä½œæµï¼ˆå¦‚GitOpsï¼‰çš„å›¢é˜Ÿï¼›å’Œæ§åˆ¶å°é…ç½® APIï¼ˆAPI ç®¡ç†æ¨¡å¼ï¼‰ï¼Œé€‚ç”¨äºéœ€è¦é›†ä¸­æ²»ç†å’Œç²¾ç»†åŒ–ç®¡ç†çš„åœºæ™¯ã€‚</li>
</ul>
<h2 data-id="heading-5">Gateway API å’Œ Ingress API</h2>
<p>Gateway API æ˜¯ Ingress API è§„èŒƒçš„è¶…é›†å’Œä¸‹ä¸€ä»£ã€‚ä»–çš„å‡ºç°ï¼Œæ˜¯ä¸ºäº†è§£å†³ Ingress API è‡ªèº«æ— æ³•æå®šçš„é—®é¢˜ã€‚å…¶ä¸­ï¼ŒHigress å·²ç»æ”¯æŒ Gateway API æ ‡å‡†ï¼Œç”¨æˆ·å¯ä» Ingress API å¹³æ»‘è¿ç§»è‡³ Gateway APIã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de4cb0684f4a4544b910ef82aef57fe3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275936&amp;x-signature=FhslJ6330cnp%2FjzVpgK4s7yRLKw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Ingress API å­˜åœ¨çš„é—®é¢˜ï¼ŒGateway API è¿™æ ·å»è§£å†³ï¼š</p>
<p>èŒè´£ä¸æ¸…ï¼Œåæœæ˜¯ Ingress æ˜¯â€œä¸€äººå†™å…¨â€ï¼Œæ²¡æœ‰æƒé™è¾¹ç•Œã€‚<strong>-&gt; Gateway API é€šè¿‡è§’è‰²åˆ†ç¦»è§£å†³ï¼Œå®šä¹‰åŸºç¡€è®¾æ–½æä¾›è€…ã€é›†ç¾¤ç®¡ç†å‘˜ã€åº”ç”¨å¼€å‘è€…ã€‚</strong></p>
<p>åŠŸèƒ½è¡¨è¾¾èƒ½åŠ›å¼±ï¼Œä¾èµ– Controller ç‰¹æœ‰æ‰©å±•ï¼Œåæœæ˜¯ä¸æ ‡å‡†ã€ä¸åŒå®ç°ä¹‹é—´è¿ç§»æˆæœ¬é«˜ã€‚<strong>-&gt; Gateway API é€šè¿‡ Wasmã€æ’ä»¶ã€æœåŠ¡ç½‘æ ¼é›†æˆè§£å†³æ‰©å±•çš„æ ‡å‡†åŒ–ã€‚</strong></p>
<p>ä»…æ”¯æŒ HTTP/HTTPSï¼Œæ— æ³•å¤„ç† TCP/UDP/gRPC ç­‰åè®®ã€‚<strong>-&gt; äº‘åŸç”Ÿåº”ç”¨æ—©å·²ä¸åªæ˜¯ Web æœåŠ¡ï¼ŒGateway API é€šè¿‡ç»Ÿä¸€çš„ APIï¼Œç®¡ç†æ‰€æœ‰å—åŒ—å‘æµé‡ã€‚</strong></p>
<p>æ— æ³•è¡¨è¾¾å¤æ‚è·¯ç”±é€»è¾‘ï¼Œå¾®æœåŠ¡æ²»ç†éœ€æ±‚è¿œè¶… Ingress èƒ½åŠ›ã€‚<strong>-&gt; Gateway API æ”¯æŒ Wasmã€æ’ä»¶ã€æœåŠ¡ç½‘æ ¼é›†æˆï¼Œé€šè¿‡æ ‡å‡†åŒ–çš„é«˜çº§è·¯ç”±è§£å†³ã€‚</strong></p>
<p>ä¸€ä¸ª Ingress Controller å…¨å±€å…±äº«ï¼Œç¼ºä¹å¤šç§Ÿæˆ·éš”ç¦»ï¼Œå¤šç§Ÿæˆ·åœºæ™¯ä¸‹å­˜åœ¨å®‰å…¨å’Œé…ç½®å†²çªé£é™©ã€‚<strong>-&gt; Gateway API æä¾›äº†ç‹¬ç«‹ Gateway çš„å®ä¾‹ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agent æ ¸å¿ƒç­–ç•¥ï¼šå¦‚ä½•åˆ¤æ–­ Agent åº”è¯¥åœæ­¢]]></title>    <link>https://juejin.cn/post/7592017365140308020</link>    <guid>https://juejin.cn/post/7592017365140308020</guid>    <pubDate>2026-01-06T00:32:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592017365140308020" data-draft-id="7591702898080759823" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agent æ ¸å¿ƒç­–ç•¥ï¼šå¦‚ä½•åˆ¤æ–­ Agent åº”è¯¥åœæ­¢"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-01-06T00:32:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ½˜é”¦"/> <meta itemprop="url" content="https://juejin.cn/user/730549110707431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agent æ ¸å¿ƒç­–ç•¥ï¼šå¦‚ä½•åˆ¤æ–­ Agent åº”è¯¥åœæ­¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/730549110707431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ½˜é”¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T00:32:34.000Z" title="Tue Jan 06 2026 00:32:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    16
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç®€å•æ¥è®²ï¼ŒAI Agent å®ç°çš„çš„å¤§é€»è¾‘å°±æ˜¯ä¸€ä¸ªå¤§çš„å¾ªç¯ + è·å–ä¸Šä¸‹æ–‡ + ä¸åœçš„ LLM è°ƒç”¨ + å·¥å…·çš„è°ƒç”¨ã€‚</p>
<p>é‚£ä¹ˆä¸€ä¸ªå…³é”®é—®é¢˜å°±å‡ºç°äº†ï¼šè¿™ä¸ªå¾ªç¯ä»€ä¹ˆæ—¶å€™åº”è¯¥åœæ­¢ï¼Ÿå¦‚æœå¤„ç†ä¸å½“ï¼ŒAgent å¯èƒ½ä¼šé™·å…¥æ— é™å¾ªç¯ï¼Œæµªè´¹è®¡ç®—èµ„æºï¼Œæˆ–è€…è¿‡æ—©åœæ­¢è€Œæ— æ³•å®Œæˆä»»åŠ¡ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ AI Agent åœæ­¢ç­–ç•¥çš„æ ¸å¿ƒè®¾è®¡æ€è·¯ã€‚</p>
<h2 data-id="heading-0">å¸¸ç”¨åœæ­¢ç­–ç•¥</h2>
<p>AI Agent åœæ­¢ç­–ç•¥æ— å¤–ä¹ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p>
<ol>
<li>ç¡¬æ€§é™åˆ¶</li>
</ol>
<p>æœ€ç®€å•ç²—æš´çš„æ–¹æ³•ï¼š</p>
<ul>
<li>æœ€å¤§æ­¥æ•°é™åˆ¶ï¼ˆæ¯”å¦‚æœ€å¤šå¾ªç¯ 30 æ¬¡ï¼‰</li>
<li>æ‰§è¡Œæ—¶é—´é™åˆ¶ï¼ˆæ¯”å¦‚æœ€å¤šè·‘ 5 åˆ†é’Ÿï¼‰</li>
<li>API è°ƒç”¨æ¬¡æ•°é™åˆ¶ï¼ˆæ¯”å¦‚æœ€å¤šè°ƒ 100 æ¬¡ï¼‰</li>
<li>API è°ƒç”¨ Token æ•°é™åˆ¶</li>
</ul>
<p>è¿™ç§æ–¹æ³•ç®€å•æœ‰æ•ˆï¼Œä½†ç”¨æˆ·ä½“éªŒå¾ˆå·®ã€‚ç»å¸¸å‡ºç°ä»»åŠ¡åšåˆ°ä¸€åŠè¢«å¼ºåˆ¶åœæ­¢çš„æƒ…å†µã€‚</p>
<ol start="2">
<li>ä»»åŠ¡å®Œæˆæ£€æµ‹</li>
</ol>
<p>è®© LLM åˆ¤æ–­ä»»åŠ¡æ˜¯å¦å®Œæˆï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ¯æ¬¡å¾ªç¯åé—® LLM</span>
<span class="hljs-attr">response</span> = llm.ask(<span class="hljs-string">"ä»»åŠ¡æ˜¯å¦å·²ç»å®Œæˆï¼Ÿ"</span>)
if <span class="hljs-attr">response</span> == <span class="hljs-string">"æ˜¯"</span>:
    stop()
</code></pre>
<ol start="3">
<li>æ˜¾å¼åœæ­¢ä¿¡å·</li>
</ol>
<p>ç»™ Agent ä¸€ä¸ªä¸“é—¨çš„"åœæ­¢"å·¥å…·ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">tools</span> = [
    <span class="hljs-string">"search"</span>,
    <span class="hljs-string">"calculate"</span>, 
    <span class="hljs-string">"terminate"</span>  <span class="hljs-comment"># ä¸“é—¨ç”¨æ¥åœæ­¢</span>
]
</code></pre>
<p>å½“ Agent è°ƒç”¨ terminate å·¥å…·æ—¶å°±åœæ­¢ã€‚è¿™ä¸ªæ–¹æ³•ä¸é”™ï¼Œä½†éœ€è¦åœ¨ prompt é‡Œæ•™ä¼š Agent ä»€ä¹ˆæ—¶å€™è¯¥è°ƒç”¨å®ƒã€‚</p>
<ol start="4">
<li>å¾ªç¯æ£€æµ‹</li>
</ol>
<p>æ£€æµ‹ Agent æ˜¯å¦åœ¨åšé‡å¤çš„äº‹ï¼š</p>
<ul>
<li>è¿ç»­å¤šæ¬¡è°ƒç”¨åŒä¸€ä¸ªå·¥å…·</li>
<li>åŠ¨ä½œåºåˆ—å‡ºç°å¾ªç¯æ¨¡å¼ï¼ˆAâ†’Bâ†’Aâ†’B...ï¼‰</li>
<li>è¾“å‡ºå†…å®¹é«˜åº¦ç›¸ä¼¼</li>
</ul>
<ol start="5">
<li>é”™è¯¯ç´¯ç§¯</li>
</ol>
<p>è¿ç»­å¤±è´¥å¤šæ¬¡å°±æ”¾å¼ƒï¼š</p>
<pre><code class="hljs language-css" lang="css">if consecutive_errors &gt; <span class="hljs-number">3</span>:
    <span class="hljs-built_in">stop</span>(<span class="hljs-string">"è¿ç»­å¤±è´¥å¤ªå¤šæ¬¡"</span>)
</code></pre>
<ol start="6">
<li>ç”¨æˆ·ä¸­æ–­</li>
</ol>
<p>è®©ç”¨æˆ·èƒ½éšæ—¶å–Šåœã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ä»¥ OpenManus å’Œ Gemini CLI çš„æºç æ¥çœ‹ä¸€ä¸‹ä»–ä»¬æ˜¯æ€ä¹ˆåšçš„ã€‚</p>
<h2 data-id="heading-1">OpenManus çš„åœæ­¢é€»è¾‘</h2>
<p>OpenManus çš„åœæ­¢æœºåˆ¶è®¾è®¡å¾—æ¯”è¾ƒå®Œæ•´ï¼Œå®ƒç”¨äº†ä¸€ä¸ªå¤šå±‚é˜²æŠ¤çš„æ€è·¯ã€‚</p>
<h2 data-id="heading-2">æ ¸å¿ƒï¼šterminate å·¥å…·</h2>
<p>OpenManus ç»™æ¯ä¸ª Agent éƒ½é…äº†ä¸€ä¸ª terminate å·¥å…·ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Terminate</span>(<span class="hljs-title class_ inherited__">BaseTool</span>):
    name: <span class="hljs-built_in">str</span> = <span class="hljs-string">"terminate"</span>
    description = <span class="hljs-string">"""å½“è¯·æ±‚å·²æ»¡è¶³æˆ–æ— æ³•ç»§ç»­æ—¶ç»ˆæ­¢äº¤äº’ã€‚
    å®Œæˆæ‰€æœ‰ä»»åŠ¡åï¼Œè°ƒç”¨æ­¤å·¥å…·ç»“æŸå·¥ä½œã€‚"""</span>
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">self, status: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"äº¤äº’å·²å®Œæˆï¼ŒçŠ¶æ€ï¼š<span class="hljs-subst">{status}</span>"</span>
        
ä»¥ä¸Šä¸ºç¤ºä¾‹ï¼ŒåŸå§‹ä»£ç ï¼š
<span class="hljs-keyword">from</span> app.tool.base <span class="hljs-keyword">import</span> BaseTool


_TERMINATE_DESCRIPTION = <span class="hljs-string">"""Terminate the interaction when the request is met OR if the assistant cannot proceed further with the task.
When you have finished all the tasks, call this tool to end the work."""</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">Terminate</span>(<span class="hljs-title class_ inherited__">BaseTool</span>):
    name: <span class="hljs-built_in">str</span> = <span class="hljs-string">"terminate"</span>
    description: <span class="hljs-built_in">str</span> = _TERMINATE_DESCRIPTION
    parameters: <span class="hljs-built_in">dict</span> = {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-string">"properties"</span>: {
            <span class="hljs-string">"status"</span>: {
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                <span class="hljs-string">"description"</span>: <span class="hljs-string">"The finish status of the interaction."</span>,
                <span class="hljs-string">"enum"</span>: [<span class="hljs-string">"success"</span>, <span class="hljs-string">"failure"</span>],
            }
        },
        <span class="hljs-string">"required"</span>: [<span class="hljs-string">"status"</span>],
    }

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">self, status: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""Finish the current execution"""</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"The interaction has been completed with status: <span class="hljs-subst">{status}</span>"</span>
</code></pre>
<p>OpenManus ä½¿ç”¨çš„æ˜¯æ–¹æ¡ˆ 3ï¼ŒæŠŠã€Œä½•æ—¶åœæ­¢ã€çš„å†³ç­–æƒäº¤ç»™äº† LLMã€‚prompt é‡Œä¼šæ˜ç¡®å‘Šè¯‰ Agentï¼šä»»åŠ¡å®Œæˆäº†å°±è°ƒç”¨ terminateã€‚</p>
<h2 data-id="heading-3">çŠ¶æ€æœºç®¡ç†</h2>
<p>OpenManus ç”¨çŠ¶æ€æœºæ¥ç®¡ç† Agent çš„ç”Ÿå‘½å‘¨æœŸï¼š</p>
<pre><code class="hljs language-ini" lang="ini">class AgentState(Enum):
    <span class="hljs-attr">IDLE</span> = <span class="hljs-string">"idle"</span>
    <span class="hljs-attr">RUNNING</span> = <span class="hljs-string">"running"</span>  
    <span class="hljs-attr">FINISHED</span> = <span class="hljs-string">"finished"</span>
    <span class="hljs-attr">ERROR</span> = <span class="hljs-string">"error"</span>
</code></pre>
<p>å½“æ£€æµ‹åˆ°ç‰¹æ®Šå·¥å…·ï¼ˆå¦‚ terminateï¼‰è¢«è°ƒç”¨æ—¶ï¼Œä¼šè§¦å‘çŠ¶æ€è½¬æ¢ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">_handle_special_tool</span>(<span class="hljs-params">self, name: <span class="hljs-built_in">str</span>, result: <span class="hljs-type">Any</span></span>):
    <span class="hljs-keyword">if</span> name.lower() == <span class="hljs-string">"terminate"</span>:
        self.state = AgentState.FINISHED
        logger.info(<span class="hljs-string">"ğŸ ä»»åŠ¡å®Œæˆï¼"</span>)
</code></pre>
<h2 data-id="heading-4">æ­¥æ•°é™åˆ¶</h2>
<p>ä¸åŒç±»å‹çš„ Agent æœ‰ä¸åŒçš„æ­¥æ•°ä¸Šé™ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ToolCallAgent: 30 æ­¥</span>
<span class="hljs-comment"># SWEAgent: 20 æ­¥</span>
<span class="hljs-comment"># PlanningFlow: å¯é…ç½®</span>

<span class="hljs-keyword">while</span> self.current_step &lt; self.max_steps <span class="hljs-keyword">and</span> self.state != AgentState.FINISHED:
    self.current_step += <span class="hljs-number">1</span>
    <span class="hljs-keyword">await</span> self.step()

<span class="hljs-keyword">if</span> self.current_step &gt;= self.max_steps:
    results.append(<span class="hljs-string">f"è¾¾åˆ°æœ€å¤§æ­¥æ•°é™åˆ¶ (<span class="hljs-subst">{self.max_steps}</span>)"</span>)
</code></pre>
<p>è¿™æ˜¯ä¸€ä¸ªä¿åº•æœºåˆ¶ï¼Œé˜²æ­¢ Agent æ— é™è¿è¡Œã€‚</p>
<h2 data-id="heading-5">å¡æ­»æ£€æµ‹</h2>
<p>OpenManus è¿˜ä¼šæ£€æµ‹ Agent æ˜¯å¦å¡ä½äº†ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_stuck</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:
    <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤çš„ assistant æ¶ˆæ¯</span>
    <span class="hljs-comment"># å¦‚æœæœ€è¿‘çš„å›å¤éƒ½ä¸€æ ·ï¼Œè¯´æ˜å¡ä½äº†</span>
    recent_messages = self.get_recent_assistant_messages()
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(<span class="hljs-built_in">set</span>(recent_messages)) == <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
</code></pre>
<h2 data-id="heading-6">Planning Agent çš„ç»“æŸé€»è¾‘</h2>
<h3 data-id="heading-7">1. è®¡åˆ’å®Œæˆçš„åˆ¤æ–­æœºåˆ¶</h3>
<p>PlanningFlow çš„ç»“æŸåˆ¤æ–­å¹¶ä¸æ˜¯ç®€å•æ£€æŸ¥æ‰€æœ‰æ­¥éª¤æ˜¯å¦å®Œæˆï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åœ¨ä¸»æ‰§è¡Œå¾ªç¯ä¸­</span>
<span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
    <span class="hljs-comment"># è·å–å½“å‰éœ€è¦æ‰§è¡Œçš„æ­¥éª¤</span>
    self.current_step_index, step_info = <span class="hljs-keyword">await</span> self._get_current_step_info()
    
    <span class="hljs-comment"># å¦‚æœæ²¡æœ‰æ›´å¤šæ´»è·ƒæ­¥éª¤ï¼Œåˆ™ç»“æŸè®¡åˆ’</span>
    <span class="hljs-keyword">if</span> self.current_step_index <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        result += <span class="hljs-keyword">await</span> self._finalize_plan()
        <span class="hljs-keyword">break</span>
</code></pre>
<h3 data-id="heading-8">2. æ­¥éª¤çŠ¶æ€æ£€æŸ¥é€»è¾‘</h3>
<p>_get_current_step_info() æ–¹æ³•è´Ÿè´£åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æœªå®Œæˆçš„æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æŸ¥æ‰¾ç¬¬ä¸€ä¸ªéå®ŒæˆçŠ¶æ€çš„æ­¥éª¤</span>
<span class="hljs-keyword">for</span> i, step <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(steps):
    <span class="hljs-keyword">if</span> i &gt;= <span class="hljs-built_in">len</span>(step_statuses):
        status = PlanStepStatus.NOT_STARTED.value
    <span class="hljs-keyword">else</span>:
        status = step_statuses[i]
    
    <span class="hljs-comment"># å¦‚æœæ­¥éª¤çŠ¶æ€ä¸ºæ´»è·ƒçŠ¶æ€ï¼ˆæœªå¼€å§‹æˆ–è¿›è¡Œä¸­ï¼‰ï¼Œè¿”å›è¯¥æ­¥éª¤</span>
    <span class="hljs-keyword">if</span> status <span class="hljs-keyword">in</span> PlanStepStatus.get_active_statuses():
        <span class="hljs-keyword">return</span> i, step_info

<span class="hljs-comment"># å¦‚æœæ²¡æ‰¾åˆ°æ´»è·ƒæ­¥éª¤ï¼Œè¿”å› None</span>
<span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>, <span class="hljs-literal">None</span>
</code></pre>
<p>å…¶ä¸­ get_active_statuses() è¿”å› ["not_started", "in_progress"]ï¼Œæ„å‘³ç€åªæœ‰å½“æ‰€æœ‰æ­¥éª¤éƒ½æ˜¯ "completed" æˆ– "blocked" çŠ¶æ€æ—¶ï¼Œè®¡åˆ’æ‰ä¼šç»“æŸã€‚</p>
<h3 data-id="heading-9">3. è®¡åˆ’ç»“æŸå¤„ç†</h3>
<p>å½“æ²¡æœ‰æ›´å¤šæ´»è·ƒæ­¥éª¤æ—¶ï¼Œä¼šè°ƒç”¨ _finalize_plan() æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">_finalize_plan</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""ä½¿ç”¨ LLM ç”Ÿæˆè®¡åˆ’å®Œæˆæ€»ç»“"""</span>
    plan_text = <span class="hljs-keyword">await</span> self._get_plan_text()
    
    <span class="hljs-comment"># ä½¿ç”¨ LLM ç”Ÿæˆæ€»ç»“</span>
    system_message = Message.system_message(
        <span class="hljs-string">"You are a planning assistant. Your task is to summarize the completed plan."</span>
    )
    
    user_message = Message.user_message(
        <span class="hljs-string">f"The plan has been completed. Here is the final plan status:\n\n<span class="hljs-subst">{plan_text}</span>\n\nPlease provide a summary of what was accomplished and any final thoughts."</span>
    )
    
    response = <span class="hljs-keyword">await</span> self.llm.ask(messages=[user_message], system_msgs=[system_message])
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Plan completed:\n\n<span class="hljs-subst">{response}</span>"</span>
</code></pre>
<h2 data-id="heading-10">Gemini CLI çš„åœæ­¢é€»è¾‘</h2>
<p>Gemini CLI çš„è®¾è®¡æ€è·¯å®Œå…¨ä¸åŒï¼Œå®ƒç”¨äº†ä¸€ä¸ªæ›´ä¼˜é›…ä½†ä¹Ÿæ›´å¤æ‚çš„æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-11">subagent çš„åœæ­¢é€»è¾‘</h2>
<h3 data-id="heading-12">1. è¾¾åˆ°æœ€å¤§è½®æ¬¡ï¼ˆMAX_TURNSï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.runConfig.max_turns &amp;&amp; turnCounter &gt;= <span class="hljs-keyword">this</span>.runConfig.max_turns) {
    <span class="hljs-keyword">this</span>.output.terminate_reason = SubagentTerminateMode.MAX_TURNS;
    <span class="hljs-keyword">break</span>;
}
</code></pre>
<p>è¿™æ˜¯æœ€ç®€å•çš„ä¿æŠ¤æœºåˆ¶ï¼Œé˜²æ­¢æ— é™å¾ªç¯ã€‚</p>
<h3 data-id="heading-13">2. æ‰§è¡Œè¶…æ—¶ï¼ˆTIMEOUTï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">durationMin</span> = (Date.now() - startTime) / (<span class="hljs-number">1000</span> * <span class="hljs-number">60</span>)<span class="hljs-comment">;</span>
if (durationMin &gt;= this.runConfig.max_time_minutes) {
    <span class="hljs-attr">this.output.terminate_reason</span> = SubagentTerminateMode.TIMEOUT<span class="hljs-comment">;</span>
    break<span class="hljs-comment">;</span>
}
</code></pre>
<p>æ³¨æ„è¿™é‡Œæ£€æŸ¥äº†ä¸¤æ¬¡è¶…æ—¶ï¼š</p>
<ul>
<li>åœ¨è°ƒç”¨ LLM ä¹‹å‰æ£€æŸ¥ä¸€æ¬¡</li>
<li>åœ¨è°ƒç”¨ LLM ä¹‹ååˆæ£€æŸ¥ä¸€æ¬¡</li>
</ul>
<p>è¿™æ˜¯å› ä¸º LLM è°ƒç”¨å¯èƒ½å¾ˆè€—æ—¶ï¼Œè¦ç¡®ä¿ä¸ä¼šè¶…æ—¶å¤ªå¤šã€‚</p>
<h3 data-id="heading-14">3. ç”¨æˆ·ä¸­æ–­ï¼ˆé€šè¿‡ AbortSignalï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (abortController.signal.aborted) <span class="hljs-keyword">return</span>;
</code></pre>
<p>è¿™ä¸ªæ£€æŸ¥å‡ºç°åœ¨ stream å¤„ç†å¾ªç¯é‡Œï¼Œç¡®ä¿èƒ½åŠæ—¶å“åº”ç”¨æˆ·çš„å–æ¶ˆæ“ä½œã€‚</p>
<h3 data-id="heading-15">4. é”™è¯¯å¼‚å¸¸ï¼ˆERRORï¼‰</h3>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">catch</span> (<span class="hljs-keyword">error</span>) {
    console.<span class="hljs-keyword">error</span>(<span class="hljs-comment">'Error during subagent execution:', error);</span>
    this.output.terminate_reason = SubagentTerminateMode.<span class="hljs-keyword">ERROR</span>;
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">error</span>;
}
</code></pre>
<p>ä»»ä½•æœªæ•è·çš„å¼‚å¸¸éƒ½ä¼šå¯¼è‡´åœæ­¢ã€‚</p>
<h3 data-id="heading-16">5. ç›®æ ‡å®Œæˆï¼ˆGOALï¼‰</h3>
<p>ç›®æ ‡å®Œæˆçš„åˆ¤æ–­åˆ†ä¸¤ç§æƒ…å†µï¼š</p>
<p>æƒ…å†µAï¼šæ²¡æœ‰é¢„å®šè¾“å‡ºè¦æ±‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.outputConfig || Object.keys(<span class="hljs-keyword">this</span>.outputConfig.outputs).length === <span class="hljs-number">0</span>) {
    <span class="hljs-comment">// æ²¡æœ‰è¦æ±‚ç‰¹å®šè¾“å‡ºï¼ŒLLM ä¸è°ƒç”¨å·¥å…·å°±è®¤ä¸ºå®Œæˆäº†</span>
    <span class="hljs-keyword">if</span> (functionCalls.length === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">this</span>.output.terminate_reason = SubagentTerminateMode.GOAL;
        <span class="hljs-keyword">break</span>;
    }
}
</code></pre>
<p>æƒ…å†µBï¼šæœ‰é¢„å®šè¾“å‡ºè¦æ±‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ‰€æœ‰è¦æ±‚çš„å˜é‡éƒ½å·²è¾“å‡º</span>
<span class="hljs-keyword">const</span> remainingVars = Object.keys(<span class="hljs-keyword">this</span>.outputConfig.outputs).filter(
    (key) =&gt; !(key <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.output.emitted_vars)
);

<span class="hljs-keyword">if</span> (remainingVars.length === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">this</span>.output.terminate_reason = SubagentTerminateMode.GOAL;
    <span class="hljs-keyword">break</span>;
}
</code></pre>
<h2 data-id="heading-17">å£°æ˜å¼è¾“å‡ºç³»ç»Ÿçš„å®ç°</h2>
<p>å£°æ˜å¼è¾“å‡ºç³»ç»Ÿçš„æ ¸å¿ƒæ˜¯ outputConfigï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é¢„å…ˆå£°æ˜éœ€è¦ä»€ä¹ˆè¾“å‡º</span>
<span class="hljs-keyword">this</span>.outputConfig = {
    outputs: {
        <span class="hljs-string">"summary"</span>: <span class="hljs-string">"string"</span>,
        <span class="hljs-string">"recommendations"</span>: <span class="hljs-string">"array"</span>, 
        <span class="hljs-string">"risk_score"</span>: <span class="hljs-string">"number"</span>
    }
};

<span class="hljs-comment">// Agent é€šè¿‡ self.emitvalue å·¥å…·æ¥äº§ç”Ÿè¾“å‡º</span>
<span class="hljs-comment">// æ¯æ¬¡è°ƒç”¨ä¼šæŠŠå€¼å­˜åˆ° this.output.emitted_vars é‡Œ</span>
<span class="hljs-keyword">this</span>.output.emitted_vars = {
    <span class="hljs-string">"summary"</span>: <span class="hljs-string">"è¿™æ˜¯æ€»ç»“..."</span>,
    <span class="hljs-string">"recommendations"</span>: [<span class="hljs-string">"å»ºè®®1"</span>, <span class="hljs-string">"å»ºè®®2"</span>]
    <span class="hljs-comment">// risk_score è¿˜æ²¡è¾“å‡º</span>
};
</code></pre>
<p>ç³»ç»Ÿä¼šä¸æ–­æ£€æŸ¥ emitted_vars æ˜¯å¦åŒ…å«äº†æ‰€æœ‰ outputs ä¸­å£°æ˜çš„å˜é‡ã€‚åªæœ‰å…¨éƒ¨è¾“å‡ºäº†æ‰è®¤ä¸ºç›®æ ‡å®Œæˆã€‚</p>
<h2 data-id="heading-18">Nudge æœºåˆ¶</h2>
<p>Nudgeï¼ˆè½»æ¨ï¼‰æœºåˆ¶ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (functionCalls.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {  <span class="hljs-comment">// LLM åœæ­¢è°ƒç”¨å·¥å…·äº†</span>
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¿˜æœ‰å˜é‡æ²¡è¾“å‡º</span>
    <span class="hljs-keyword">const</span> remainingVars = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">outputConfig</span>.<span class="hljs-property">outputs</span>).<span class="hljs-title function_">filter</span>(
        <span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span> !(key <span class="hljs-keyword">in</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">output</span>.<span class="hljs-property">emitted_vars</span>)
    );
    
    <span class="hljs-keyword">if</span> (remainingVars.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// è¿˜æœ‰å˜é‡æ²¡è¾“å‡ºï¼Œ"æ¨"å®ƒä¸€ä¸‹</span>
        <span class="hljs-keyword">const</span> nudgeMessage = <span class="hljs-string">`You have stopped calling tools but have not emitted 
        the following required variables: <span class="hljs-subst">${remainingVars.join(<span class="hljs-string">', '</span>)}</span>. 
        Please use the 'self.emitvalue' tool to emit them now, 
        or continue working if necessary.`</span>;
        
        <span class="hljs-comment">// æŠŠæé†’ä½œä¸ºæ–°çš„ç”¨æˆ·æ¶ˆæ¯å‘ç»™ LLM</span>
        currentMessages = [{
            <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>,
            <span class="hljs-attr">parts</span>: [{ <span class="hljs-attr">text</span>: nudgeMessage }]
        }];
        
        <span class="hljs-comment">// ç»§ç»­å¾ªç¯ï¼Œä¸é€€å‡º</span>
    }
}
</code></pre>
<h2 data-id="heading-19">å®Œæ•´çš„ subagent æ‰§è¡Œæµç¨‹</h2>
<pre><code class="hljs language-arduino" lang="arduino">å¼€å§‹
  â†“
<span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
  æ£€æŸ¥æ˜¯å¦è¶…æ—¶/è¶…è½®æ¬¡ â†’ æ˜¯ â†’ é€€å‡º
    â†“ å¦
  è°ƒç”¨ LLM
    â†“
  LLM è¿”å›å·¥å…·è°ƒç”¨ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ æ‰§è¡Œå·¥å…· â†’ æ£€æŸ¥ç›®æ ‡æ˜¯å¦å®Œæˆ
    â”‚         â”œâ”€ æ˜¯ â†’ é€€å‡º
    â”‚         â””â”€ å¦ â†’ ç»§ç»­å¾ªç¯
    â”‚
    â””â”€ å¦ï¼ˆLLM åœæ­¢è°ƒç”¨å·¥å…·ï¼‰
         â†“
       æœ‰é¢„å®šè¾“å‡ºè¦æ±‚å—ï¼Ÿ
         â”œâ”€ æ²¡æœ‰ â†’ é€€å‡ºï¼ˆè®¤ä¸ºå®Œæˆï¼‰
         â””â”€ æœ‰ â†’ æ£€æŸ¥æ˜¯å¦éƒ½è¾“å‡ºäº†
                   â”œâ”€ æ˜¯ â†’ é€€å‡º
                   â””â”€ å¦ â†’ Nudge æé†’ â†’ ç»§ç»­å¾ªç¯
}
</code></pre>
<h2 data-id="heading-20">ä¸‰å±‚å¾ªç¯æ£€æµ‹æœºåˆ¶</h2>
<h3 data-id="heading-21">ç¬¬ä¸€å±‚ï¼šå·¥å…·è°ƒç”¨é‡å¤æ£€æµ‹</h3>
<p>è¿™æ˜¯æœ€ç®€å•ç›´æ¥çš„æ£€æµ‹ï¼Œé’ˆå¯¹ Agent åå¤è°ƒç”¨ç›¸åŒå·¥å…·çš„æƒ…å†µã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> checkToolCallLoop(toolCall: { name: string; args: <span class="hljs-keyword">object</span> }): boolean {
    <span class="hljs-comment">// æŠŠå·¥å…·åå’Œå‚æ•°ä¸€èµ·å“ˆå¸Œï¼Œç”Ÿæˆå”¯ä¸€æ ‡è¯†</span>
    <span class="hljs-keyword">const</span> key = <span class="hljs-keyword">this</span>.getToolCallKey(toolCall);
    
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.lastToolCallKey === key) {
        <span class="hljs-comment">// å’Œä¸Šæ¬¡è°ƒç”¨å®Œå…¨ä¸€æ ·ï¼Œè®¡æ•°+1</span>
        <span class="hljs-keyword">this</span>.toolCallRepetitionCount++;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// ä¸ä¸€æ ·ï¼Œé‡ç½®è®¡æ•°</span>
        <span class="hljs-keyword">this</span>.lastToolCallKey = key;
        <span class="hljs-keyword">this</span>.toolCallRepetitionCount = <span class="hljs-number">1</span>;
    }
    
    <span class="hljs-comment">// è¿ç»­5æ¬¡è°ƒç”¨ç›¸åŒå·¥å…·+ç›¸åŒå‚æ•° = å¾ªç¯</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.toolCallRepetitionCount &gt;= TOOL_CALL_LOOP_THRESHOLD) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p>è§¦å‘æ¡ä»¶ï¼šè¿ç»­ 5 æ¬¡è°ƒç”¨å®Œå…¨ç›¸åŒçš„å·¥å…·ï¼ˆåŒ…æ‹¬å‚æ•°ï¼‰ã€‚</p>
<p>è¿™ç§æ£€æµ‹å¾ˆä¸¥æ ¼â€”â€”å¿…é¡»æ˜¯è¿ç»­çš„ã€å®Œå…¨ç›¸åŒçš„è°ƒç”¨ã€‚å¦‚æœä¸­é—´æ’å…¥äº†å…¶ä»–å·¥å…·è°ƒç”¨ï¼Œè®¡æ•°å°±ä¼šé‡ç½®ã€‚</p>
<h3 data-id="heading-22">ç¬¬äºŒå±‚ï¼šå†…å®¹é‡å¤æ£€æµ‹ï¼ˆ"å’’è¯­"æ£€æµ‹ï¼‰</h3>
<p>è¿™æ˜¯æœ€å¤æ‚çš„éƒ¨åˆ†ï¼Œç”¨æ¥æ£€æµ‹ LLM è¾“å‡ºé‡å¤å†…å®¹çš„æƒ…å†µï¼Œå°±åƒåœ¨å¿µå’’è¯­ä¸€æ ·ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> checkContentLoop(content: string): boolean {
    <span class="hljs-comment">// 1. å…ˆæ£€æŸ¥æ˜¯å¦åœ¨ç‰¹æ®Šå†…å®¹å—ä¸­ï¼ˆä»£ç å—ã€è¡¨æ ¼ã€åˆ—è¡¨ç­‰ï¼‰</span>
    <span class="hljs-keyword">const</span> numFences = (content.match(/```/g) ?? []).length;
    <span class="hljs-keyword">const</span> hasTable = /(^|\n)\s*(|.*||[|+-]{<span class="hljs-number">3</span>,})/.test(content);
    <span class="hljs-comment">// ... æ£€æŸ¥å„ç§æ ¼å¼</span>
    
    <span class="hljs-comment">// åœ¨ä»£ç å—ä¸­ä¸æ£€æµ‹å¾ªç¯ï¼ˆä»£ç æœ¬æ¥å°±å¯èƒ½æœ‰é‡å¤ï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inCodeBlock) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">// 2. æŠŠæ–°å†…å®¹åŠ å…¥å†å²</span>
    <span class="hljs-keyword">this</span>.streamContentHistory += content;
    
    <span class="hljs-comment">// 3. ä¿æŒå†å²åœ¨ 1000 å­—ç¬¦ä»¥å†…</span>
    <span class="hljs-keyword">this</span>.truncateAndUpdate();
    
    <span class="hljs-comment">// 4. åˆ†æå†…å®¹å—æ˜¯å¦é‡å¤</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.analyzeContentChunksForLoop();
}
</code></pre>
<p>æ ¸å¿ƒç®—æ³•æ˜¯æ»‘åŠ¨çª—å£ + å“ˆå¸Œæ£€æµ‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> analyzeContentChunksForLoop(): boolean {
    <span class="hljs-keyword">while</span> (<span class="hljs-keyword">this</span>.hasMoreChunksToProcess()) {
        <span class="hljs-comment">// æå– 50 å­—ç¬¦çš„å—</span>
        <span class="hljs-keyword">const</span> currentChunk = <span class="hljs-keyword">this</span>.streamContentHistory.substring(
            <span class="hljs-keyword">this</span>.lastContentIndex,
            <span class="hljs-keyword">this</span>.lastContentIndex + CONTENT_CHUNK_SIZE  <span class="hljs-comment">// 50</span>
        );
        
        <span class="hljs-comment">// è®¡ç®—å“ˆå¸Œ</span>
        <span class="hljs-keyword">const</span> chunkHash = createHash(<span class="hljs-string">'sha256'</span>).update(currentChunk).digest(<span class="hljs-string">'hex'</span>);
        
        <span class="hljs-comment">// æ£€æŸ¥è¿™ä¸ªå—æ˜¯å¦é‡å¤å‡ºç°</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isLoopDetectedForChunk(currentChunk, chunkHash)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        <span class="hljs-comment">// æ»‘åŠ¨çª—å£å‘å‰ç§»åŠ¨ 1 ä¸ªå­—ç¬¦</span>
        <span class="hljs-keyword">this</span>.lastContentIndex++;
    }
}
</code></pre>
<p>åˆ¤æ–­å¾ªç¯çš„æ¡ä»¶ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> isLoopDetectedForChunk(chunk: string, hash: string): boolean {
    <span class="hljs-keyword">const</span> existingIndices = <span class="hljs-keyword">this</span>.contentStats.<span class="hljs-keyword">get</span>(hash);
    
    <span class="hljs-keyword">if</span> (!existingIndices) {
        <span class="hljs-comment">// ç¬¬ä¸€æ¬¡è§åˆ°è¿™ä¸ªå—ï¼Œè®°å½•ä½ç½®</span>
        <span class="hljs-keyword">this</span>.contentStats.<span class="hljs-keyword">set</span>(hash, [<span class="hljs-keyword">this</span>.lastContentIndex]);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">// éªŒè¯å†…å®¹ç¡®å®ç›¸åŒï¼ˆé˜²æ­¢å“ˆå¸Œç¢°æ’ï¼‰</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isActualContentMatch(chunk, existingIndices[<span class="hljs-number">0</span>])) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    existingIndices.push(<span class="hljs-keyword">this</span>.lastContentIndex);
    
    <span class="hljs-comment">// éœ€è¦å‡ºç°è‡³å°‘ 10 æ¬¡</span>
    <span class="hljs-keyword">if</span> (existingIndices.length &lt; CONTENT_LOOP_THRESHOLD) {  <span class="hljs-comment">// 10</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">// å…³é”®ï¼šè¿™ 10 æ¬¡å¿…é¡»è·ç¦»å¾ˆè¿‘ï¼ˆå¹³å‡è·ç¦» â‰¤ 75 å­—ç¬¦ï¼‰</span>
    <span class="hljs-keyword">const</span> recentIndices = existingIndices.slice(-CONTENT_LOOP_THRESHOLD);
    <span class="hljs-keyword">const</span> totalDistance = recentIndices[recentIndices.length - <span class="hljs-number">1</span>] - recentIndices[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">const</span> averageDistance = totalDistance / (CONTENT_LOOP_THRESHOLD - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">const</span> maxAllowedDistance = CONTENT_CHUNK_SIZE * <span class="hljs-number">1.5</span>;  <span class="hljs-comment">// 75</span>
    
    <span class="hljs-keyword">return</span> averageDistance &lt;= maxAllowedDistance;
}
</code></pre>
<p>è§¦å‘æ¡ä»¶ï¼šåŒä¸€ä¸ª 50 å­—ç¬¦çš„å†…å®¹å—ï¼Œåœ¨å¾ˆçŸ­çš„è·ç¦»å†…é‡å¤å‡ºç° 10 æ¬¡ã€‚</p>
<h3 data-id="heading-23">ç¬¬ä¸‰å±‚ï¼šLLM æ™ºèƒ½æ£€æµ‹</h3>
<p>è¿™æ˜¯æœ€é«˜çº§çš„æ£€æµ‹ï¼Œç”¨ AI æ¥åˆ¤æ–­ AI æ˜¯å¦é™·å…¥å¾ªç¯ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">private</span> async <span class="hljs-title function_ invoke__">checkForLoopWithLLM</span>(<span class="hljs-attr">signal</span>: AbortSignal) {
    <span class="hljs-comment">// å–æœ€è¿‘ 20 è½®å¯¹è¯</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">recentHistory</span> = this.config
        .<span class="hljs-title function_ invoke__">getGeminiClient</span>()
        .<span class="hljs-title function_ invoke__">getHistory</span>()
        .<span class="hljs-title function_ invoke__">slice</span>(-LLM_LOOP_CHECK_HISTORY_COUNT);  <span class="hljs-comment">// 20</span>
    
    <span class="hljs-comment">// æ¸…ç†å†å²ï¼ˆå»æ‰æ‚¬ç©ºçš„å‡½æ•°è°ƒç”¨ç­‰ï¼‰</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">trimmedHistory</span> = this.<span class="hljs-title function_ invoke__">trimRecentHistory</span>(recentHistory);
    
    <span class="hljs-comment">// è®© Gemini Flash æ¨¡å‹åˆ†æ</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">result</span> = await this.config.<span class="hljs-title function_ invoke__">getBaseLlmClient</span>().<span class="hljs-title function_ invoke__">generateJson</span>({
        <span class="hljs-attr">contents</span>: [...trimmedHistory, { <span class="hljs-attr">role</span>: <span class="hljs-string">'user'</span>, <span class="hljs-attr">parts</span>: [{ <span class="hljs-attr">text</span>: taskPrompt }] }],
        <span class="hljs-attr">schema</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
            <span class="hljs-attr">properties</span>: {
                <span class="hljs-attr">reasoning</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span> },
                <span class="hljs-attr">confidence</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'number'</span> }  // <span class="hljs-number">0</span>-<span class="hljs-number">1</span> ä¹‹é—´
            }
        },
        <span class="hljs-attr">model</span>: DEFAULT_GEMINI_FLASH_MODEL,
        <span class="hljs-attr">systemInstruction</span>: LOOP_DETECTION_SYSTEM_PROMPT
    });
    
    <span class="hljs-keyword">if</span> (result[<span class="hljs-string">'confidence'</span>] &gt; <span class="hljs-number">0.9</span>) {
        <span class="hljs-comment">// é«˜ç½®ä¿¡åº¦è®¤ä¸ºæ˜¯å¾ªç¯</span>
        console.<span class="hljs-title function_ invoke__">warn</span>(result[<span class="hljs-string">'reasoning'</span>]);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p>è§¦å‘æ—¶æœºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">async turnStarted(signal: AbortSignal) {
    <span class="hljs-keyword">this</span>.turnsInCurrentPrompt++;
    
    <span class="hljs-keyword">if</span> (
        <span class="hljs-keyword">this</span>.turnsInCurrentPrompt &gt;= LLM_CHECK_AFTER_TURNS &amp;&amp;  <span class="hljs-comment">// è‡³å°‘ 30 è½®</span>
        <span class="hljs-keyword">this</span>.turnsInCurrentPrompt - <span class="hljs-keyword">this</span>.lastCheckTurn &gt;= <span class="hljs-keyword">this</span>.llmCheckInterval
    ) {
        <span class="hljs-keyword">this</span>.lastCheckTurn = <span class="hljs-keyword">this</span>.turnsInCurrentPrompt;
        <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>.checkForLoopWithLLM(signal);
    }
}
</code></pre>
<ul>
<li>å¿…é¡»æ‰§è¡Œè¶…è¿‡ 30 è½®æ‰å¼€å§‹æ£€æŸ¥ï¼ˆé¿å…è¯¯åˆ¤ï¼‰</li>
<li>ä¸æ˜¯æ¯è½®éƒ½æ£€æŸ¥ï¼Œæœ‰é—´éš”ï¼ˆé»˜è®¤ 3 è½®ï¼‰</li>
<li>é—´éš”ä¼šæ ¹æ®ç½®ä¿¡åº¦åŠ¨æ€è°ƒæ•´ï¼ˆ5-15 è½®ï¼‰</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠ¨æ€è°ƒæ•´æ£€æŸ¥é¢‘ç‡</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">llmCheckInterval</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(
    <span class="hljs-variable constant_">MIN_LLM_CHECK_INTERVAL</span> +  <span class="hljs-comment">// 5</span>
    (<span class="hljs-variable constant_">MAX_LLM_CHECK_INTERVAL</span> - <span class="hljs-variable constant_">MIN_LLM_CHECK_INTERVAL</span>) * (<span class="hljs-number">1</span> - result[<span class="hljs-string">'confidence'</span>])
    <span class="hljs-comment">// ç½®ä¿¡åº¦è¶Šé«˜ï¼Œæ£€æŸ¥è¶Šé¢‘ç¹</span>
);
</code></pre>
<h2 data-id="heading-24">ä¸‰ç§å¾ªç¯ç±»å‹</h2>
<p>ç³»ç»Ÿå®šä¹‰äº†ä¸‰ç§å¾ªç¯ç±»å‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">LoopType</span> {
    CONSECUTIVE_IDENTICAL_TOOL_CALLS,  <span class="hljs-comment">// è¿ç»­ç›¸åŒå·¥å…·è°ƒç”¨</span>
    CHANTING_IDENTICAL_SENTENCES,      <span class="hljs-comment">// é‡å¤è¾“å‡ºç›¸åŒå†…å®¹</span>
    LLM_DETECTED_LOOP                  <span class="hljs-comment">// LLM æ£€æµ‹åˆ°çš„é€»è¾‘å¾ªç¯</span>
}
</code></pre>
<p>æ¯ç§éƒ½æœ‰ä¸åŒçš„æ£€æµ‹æ–¹æ³•å’Œè§¦å‘æ¡ä»¶ã€‚</p>
<p>è¿™æ¯”è¾ƒé€‚åˆå¤„ç†é•¿å¯¹è¯åœºæ™¯ï¼Œæ—¢èƒ½æœ‰æ•ˆæ£€æµ‹å¾ªç¯ï¼Œåˆä¸ä¼šå› ä¸ºè¿‡äºæ•æ„Ÿè€Œè¯¯åˆ¤æ­£å¸¸çš„è¿­ä»£æ“ä½œã€‚</p>
<h2 data-id="heading-25">å°ç»“</h2>
<p>AI Agent çš„åœæ­¢ç­–ç•¥æ˜¯ä¸€ä¸ªå®¹æ˜“è¢«å¿½è§†ä½†æå…¶é‡è¦çš„æŠ€æœ¯é—®é¢˜ã€‚ä»åŸç†ä¸Šçœ‹ï¼ŒAgent å°±æ˜¯ä¸€ä¸ªå¤§å¾ªç¯ï¼Œä¸æ–­è°ƒç”¨ LLM å’Œå·¥å…·æ¥å®Œæˆä»»åŠ¡ï¼Œä½†å¦‚æœæ²¡æœ‰åˆç†çš„åœæ­¢æœºåˆ¶ï¼Œå°±ä¼šå‡ºç°æ— é™å¾ªç¯æµªè´¹èµ„æºï¼Œæˆ–è€…è¿‡æ—©åœæ­¢æ— æ³•å®Œæˆä»»åŠ¡çš„é—®é¢˜ã€‚å¸¸è§çš„åœæ­¢æ–¹æ¡ˆåŒ…æ‹¬ç¡¬æ€§é™åˆ¶ï¼ˆæ­¥æ•°ã€æ—¶é—´ã€APIè°ƒç”¨æ¬¡æ•°ï¼‰ã€ä»»åŠ¡å®Œæˆæ£€æµ‹ã€æ˜¾å¼åœæ­¢ä¿¡å·ã€å¾ªç¯æ£€æµ‹ã€é”™è¯¯ç´¯ç§¯å’Œç”¨æˆ·ä¸­æ–­ç­‰ï¼Œå®é™…åº”ç”¨ä¸­éœ€è¦ç»„åˆä½¿ç”¨å¤šç§ç­–ç•¥ã€‚</p>
<p>OpenManus é‡‡ç”¨äº†ç›¸å¯¹ç®€å•ç›´æ¥çš„è®¾è®¡ï¼šç»™æ¯ä¸ª Agent é…å¤‡ terminate å·¥å…·ï¼Œè®© LLM è‡ªå·±å†³å®šä½•æ—¶åœæ­¢ï¼ŒåŒæ—¶ç”¨çŠ¶æ€æœºç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼Œé…åˆæ­¥æ•°é™åˆ¶ä½œä¸ºä¿åº•ï¼Œå¹¶ç¡®ä¿æ— è®ºå¦‚ä½•åœæ­¢éƒ½ä¼šæ­£ç¡®æ¸…ç†èµ„æºã€‚</p>
<p>è€Œ Gemini CLI çš„è®¾è®¡æ›´åŠ ç²¾å·§ï¼Œæ ¸å¿ƒæ˜¯å£°æ˜å¼è¾“å‡ºç³»ç»Ÿâ€”â€”é¢„å…ˆå®šä¹‰éœ€è¦ä»€ä¹ˆè¾“å‡ºï¼Œåªæœ‰å…¨éƒ¨è¾“å‡ºæ‰ç®—å®Œæˆï¼Œå¦‚æœ Agent åœæ­¢è°ƒç”¨å·¥å…·ä½†è¿˜æœ‰å˜é‡æœªè¾“å‡ºï¼Œç³»ç»Ÿä¼šé€šè¿‡ Nudge æœºåˆ¶æ¸©å’Œæé†’ï¼›åœ¨å¾ªç¯æ£€æµ‹ä¸Šï¼ŒGemini å®ç°äº†ä¸‰å±‚é˜²æŠ¤ï¼šå·¥å…·è°ƒç”¨é‡å¤æ£€æµ‹ï¼ˆè¿ç»­5æ¬¡ç›¸åŒè°ƒç”¨ï¼‰ã€å†…å®¹é‡å¤æ£€æµ‹ï¼ˆæ»‘åŠ¨çª—å£+å“ˆå¸Œç®—æ³•æ£€æµ‹"å’’è¯­"ç°è±¡ï¼‰ã€ä»¥åŠç”¨ LLM åˆ†æå¯¹è¯å†å²åˆ¤æ–­æ˜¯å¦é™·å…¥é€»è¾‘å¾ªç¯ã€‚</p>
<p>å®è·µä¸­çš„å…³é”®æ˜¯ä¸è¦ä¾èµ–å•ä¸€åœæ­¢æœºåˆ¶ï¼Œè¦ç»„åˆä½¿ç”¨å¤šç§ç­–ç•¥å½¢æˆå¤šå±‚é˜²æŠ¤ï¼Œç»™ LLM æ˜ç¡®çš„åœæ­¢æŒ‡å¼•ï¼Œä¸ºä¸åŒç±»å‹çš„åœæ­¢åŸå› æä¾›æ¸…æ™°çš„ç”¨æˆ·åé¦ˆï¼Œå¹¶ç¡®ä¿èµ„æºèƒ½å¤Ÿå¯é æ¸…ç†ã€‚åœæ­¢ç­–ç•¥çš„æœ¬è´¨æ˜¯åœ¨"è®© Agent å®Œæˆä»»åŠ¡"å’Œ"é˜²æ­¢å¤±æ§"ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹ã€‚</p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot åŸç†ä¸“é¢˜]]></title>    <link>https://juejin.cn/post/7592088192506134582</link>    <guid>https://juejin.cn/post/7592088192506134582</guid>    <pubDate>2026-01-06T05:17:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592088192506134582" data-draft-id="7590961898399203366" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot åŸç†ä¸“é¢˜"/> <meta itemprop="keywords" content="Spring Boot,Java,Spring"/> <meta itemprop="datePublished" content="2026-01-06T05:17:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ªé‡Œçš„ç ´æ°´ç“¶"/> <meta itemprop="url" content="https://juejin.cn/user/4394111849466414"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot åŸç†ä¸“é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4394111849466414/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ªé‡Œçš„ç ´æ°´ç“¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T05:17:41.000Z" title="Tue Jan 06 2026 05:17:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#444;background-image:linear-gradient(90deg,rgba(59,59,59,.1) 3%,transparent 0),linear-gradient(1turn,rgba(122,120,121,.1) 3%,transparent 0);background-size:30px 30px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:34px;margin-bottom:16px;font-weight:700;line-height:1.3;cursor:text;color:#444;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body h1{font-size:41px;margin-bottom:34px;line-height:1.5}.markdown-body h1:before{content:""}.markdown-body h2{font-size:30px;padding-left:.4em;border-left:.4em solid #5e5e5e;border-bottom:1px solid #444}.markdown-body h2:after{content:"ğŸ•›";position:absolute;top:0;right:0;transition:all;animation:rotate 10s linear infinite}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.markdown-body h3{border-left:.4em solid #8d8d8d;font-size:24px;padding-left:.4em}.markdown-body h4{font-size:20px}.markdown-body h5{font-size:16px}.markdown-body h6{font-size:14px}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body table,.markdown-body ul{margin:.8em 0}.markdown-body strong{font-weight:1000;position:relative;color:#444;padding:0 3px}.markdown-body em{font-weight:inherit}.markdown-body a{box-sizing:border-box;color:grey;position:relative}.markdown-body a:before{position:absolute;box-sizing:border-box;content:"Go -&gt;";left:0;width:100%;max-width:0;color:#fff;background-color:hsla(0,0%,50.2%,.8);white-space:nowrap;transition:.2s ease;pointer-events:none;overflow:hidden}.markdown-body a:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:grey}.markdown-body a:active:before,.markdown-body a:hover:before{max-width:100%;padding-left:8px;border-radius:5px}.markdown-body hr{position:relative;width:100%;height:1px;border:none;margin-top:36px;margin-bottom:36px;background:linear-gradient(90deg,grey,#f1f1f1,#444,#444,#f1f1f1,grey);overflow:visible}.markdown-body ol,.markdown-body ul{padding-left:32px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol{counter-reset:my-counter}.markdown-body ol&gt;li{padding-left:6px;list-style:none;counter-increment:my-counter;position:relative}.markdown-body ol&gt;li:before{position:absolute;left:-1.5em;content:counter(my-counter);font-weight:700}.markdown-body ol&gt;li:first-child:before{content:"1ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(2):before{content:"2ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(3):before{content:"3ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(4):before{content:"4ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(5):before{content:"5ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(6):before{content:"6ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(7):before{content:"7ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(8):before{content:"8ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(9):before{content:"9ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(10):before{content:"ğŸ”Ÿ"}.markdown-body ul&gt;li{list-style:none;position:relative}.markdown-body ul&gt;li:before{z-index:10;position:absolute;left:-1.57em;content:"ğŸ”¹";margin-right:12px}.markdown-body ul&gt;li input{margin-left:8px!important}.markdown-body blockquote{position:relative;background-color:#d3d3d3;padding:5px 10px;border-left:.2em solid #000;border-radius:3px;transition:all .8s ease}.markdown-body blockquote:hover{opacity:.7}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(69,69,77,.8);color:#fff;font-size:.87em;padding:.07em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:7px;overflow:hidden}.markdown-body pre:before{z-index:10;position:absolute;top:14px;left:14px;width:12px;height:12px;border-radius:50%;background:#fc625d;-webkit-box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;content:" "}.markdown-body pre:after{z-index:9;content:"";position:absolute;width:100%;height:40px;top:0;background-color:#1a1a1a}.markdown-body pre&gt;code{display:block;font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#171717;color:#bababa;font-size:14px;padding:40px 20px 20px}.markdown-body del{color:grey}.markdown-body table{margin-bottom:1.25rem;border-collapse:collapse}.markdown-body table td,.markdown-body table th{margin:0;padding:8px;line-height:20px;vertical-align:middle;border:1px solid #ddd}.markdown-body table thead,.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table thead th,.markdown-body table tr:nth-child(2n) th{font-weight:700;vertical-align:middle;color:#444}.markdown-body table tbody tr td{font-weight:400;color:#444}.markdown-body table tbody tr:hover{background-color:#d3d3d3}.markdown-body table tbody tr:hover td{color:#fff}.markdown-body img{max-width:100%;margin:0 12px}@media (max-width:720px){.markdown-body h1{font-size:32.8px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">ä¼˜å…ˆçº§ä¸æ‰“åŒ…</h2>
<ol>
<li>å‘½ä»¤è¡Œå‚æ•°</li>
<li>ç³»ç»Ÿç¯å¢ƒ</li>
<li>properties</li>
<li>yml</li>
<li>yaml</li>
</ol>
<blockquote>
<p>æ‰“åŒ…æ’ä»¶</p>
</blockquote>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${spring-boot.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mainClass</span>&gt;</span>com.example.DemoApplication<span class="hljs-tag">&lt;/<span class="hljs-name">mainClass</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">skip</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">skip</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>repackage<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>repackage<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
</code></pre>
<blockquote>
<p>æ‰“åŒ…åè¿è¡Œï¼Œå¸¦é¢å¤–å‚æ•°</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">java -Dserver.port=9000 -jar dd.jar
</code></pre>
<h2 data-id="heading-1">Bean ä½œç”¨åŸŸ</h2>





























<table><thead><tr><th>ä½œç”¨åŸŸ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>singleton</td><td>å®¹å™¨å†…åŒ åç§° çš„ bean åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼ˆå•ä¾‹ï¼‰ï¼ˆé»˜è®¤ï¼‰</td></tr><tr><td>prototype</td><td>æ¯æ¬¡ä½¿ç”¨è¯¥ bean æ—¶ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆéå•ä¾‹/å¤šä¾‹ï¼‰</td></tr><tr><td>request</td><td>æ¯ä¸ªè¯·æ±‚èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰</td></tr><tr><td>session</td><td>æ¯ä¸ªä¼šè¯èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰</td></tr><tr><td>application</td><td>æ¯ä¸ªåº”ç”¨èŒƒå›´å†…ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ï¼ˆwebç¯å¢ƒä¸­ï¼Œäº†è§£ï¼‰</td></tr></tbody></table>
<blockquote>
<p>é…ç½® Scope æ³¨è§£ï¼Œé€‰æ‹©å•ä¾‹</p>
</blockquote>
<ul>
<li>Lazy è¡¨ç¤ºå»¶è¿ŸåŠ è½½ï¼Œé»˜è®¤æ˜¯å¯åŠ¨æ—¶åŠ è½½ï¼Œé…ç½®åè¡¨ç¤ºå»¶è¿Ÿåˆ°ç¬¬ä¸€æ¬¡ä½¿ç”¨åŠ è½½</li>
<li>SCOPE_SINGLETON å•ä¾‹</li>
<li>SCOPE_PROTOTYPE éå•ä¾‹</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Lazy</span>
<span class="hljs-meta">@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BasicController</span> {}
</code></pre>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>å•ä¾‹æ˜¯æ— çŠ¶æ€çš„ï¼Œå¤šä¾‹æ˜¯æœ‰çŠ¶æ€çš„ã€‚</li>
<li>å•ä¾‹æ˜¯èŠ‚çº¦èµ„æºï¼Œæå‡æ€§èƒ½</li>
<li>å•ä¾‹beanï¼šå¦‚æœæ˜¯æ— çŠ¶æ€çš„beanï¼Œå†…éƒ¨ä¸ä¿å­˜ä»»ä½•çŠ¶æ€ä¿¡æ¯ï¼Œåˆ™æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</li>
<li>å•ä¾‹beanï¼šå¦‚æœæ˜¯æœ‰çŠ¶æ€çš„beanï¼Œå†…éƒ¨ä¼šä¿å­˜çŠ¶æ€ä¿¡æ¯ï¼Œå¤šä¸ªçº¿ç¨‹ä¼šåŒæ—¶æ“ä½œè¯¥beanæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œè¿™æ ·çš„beanåˆ™æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚</li>
</ol>
<h2 data-id="heading-2">èµ·æ­¥ä¾èµ–</h2>
<p>ä¾èµ–ï¼Œå…·æœ‰ä¼ é€’æ€§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4724f85fadbb4fdc8fa7ef6d32531cbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768282100&amp;x-signature=toz%2BAjKy9M%2FMpFsJJX1HOGbduuo%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e08b52d87ac486fa565654983cad758~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768282100&amp;x-signature=gSjphezX%2ByiC0AJKK%2Fj4rvUwD94%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">è‡ªåŠ¨é…ç½®</h2>
<p>SpringBootçš„è‡ªåŠ¨é…ç½®å°±æ˜¯å½“springé¡¹ç›®å¯åŠ¨åï¼Œä¸€äº›é…ç½®ç±»ã€beanå¯¹è±¡å°±è‡ªåŠ¨å­˜å…¥åˆ°äº†IOCå®¹å™¨ä¸­ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»å£°æ˜ï¼Œä»è€Œç®€åŒ–äº†å¼€å‘ï¼Œçœå»äº†ç¹ççš„é…ç½®æ“ä½œã€‚</p>
<blockquote>
<p>æ¯”å¦‚ï¼šå¼•å…¥äº†redisä¾èµ–ï¼Œå¯ä»¥ç›´æ¥æ³¨å…¥Redisä½¿ç”¨ã€‚</p>
</blockquote>
<p>å®ç°æ–¹æ¡ˆä¸€</p>
<p>åŠ å…¥å¦ä¸€ä¸ªé¡¹ç›®çš„ä¾èµ–ï¼Œå¼•å…¥ä¾èµ–ï¼Œå¹¶åœ¨ä¸»ç±»ä¸ŠåŠ ä¸ŠåŒ…æ‰«æï¼Œæ‰«æè¯¥ä¾èµ–çš„åŒ…ï¼Œä¸æ¨èï¼Œ<strong>åŸå› æ˜¯æ“ä½œéº»çƒ¦+æ€§èƒ½ä½</strong></p>
<p>å®ç°æ–¹æ¡ˆäºŒ</p>
<p>ç±»ä¸éœ€è¦åŠ ä»»ä½•æ³¨è§£ï¼Œç›´æ¥ä½¿ç”¨ Import å¯¼å…¥ï¼Œæˆ–è€…ä½¿ç”¨Imort å¯¼å…¥ä¸€ä¸ªé…ç½®ç±»ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Import(TokenService.class)</span>
<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoApplication</span> {
</code></pre>
<blockquote>
<p>é…ç½®ç±»ä»£ç </p>
</blockquote>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyImportSelector</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ImportSelector</span> {

    <span class="hljs-comment">// è¿”å›å¤šä¸ªç±»çš„å…¨é™å®šå‘½å</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String[] selectImports(AnnotationMetadata importingClassMetadata) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-string">"com.example.aop.RecordTimeAspect2"</span>};
    }
}

</code></pre>
<p>å®ç°æ–¹æ¡ˆä¸‰ï¼šåŠ æ³¨è§£çš„æ–¹å¼ï¼Œæœ€å®ç”¨</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ ¸å¿ƒè¿˜æ˜¯ç”¨æ–¹å¼äºŒ</span>
<span class="hljs-meta">@Import(MyImportSelector.class)</span>
<span class="hljs-meta">@Target(ElementType.TYPE)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> EnableHeaderConfig {
}

</code></pre>
<h2 data-id="heading-4">æ¡ä»¶åˆ¤æ–­ / è‡ªåŠ¨é…ç½®</h2>
<p>æœ‰æ—¶å€™æˆ‘ä»¬ç»å¸¸éœ€è¦åˆ¤æ–­è¯¥ç±»åº”ä¸åº”è¯¥æ³¨å…¥åˆ°IOCå®¹å™¨ä¸­ã€‚</p>
<ul>
<li>
<p>ä½œç”¨ï¼šæŒ‰ç…§ä¸€å®šçš„æ¡ä»¶è¿›è¡Œåˆ¤æ–­ï¼Œåœ¨æ»¡è¶³ç»™å®šæ¡ä»¶åæ‰ä¼šæ³¨å†Œå¯¹åº”çš„beanå¯¹è±¡åˆ°Spring IOCå®¹å™¨ä¸­ã€‚</p>
</li>
<li>
<p>ä½ç½®ï¼šæ–¹æ³•ã€ç±»</p>
</li>
<li>
<p>@Conditional æœ¬èº«æ˜¯ä¸€ä¸ªçˆ¶æ³¨è§£ï¼Œæ´¾ç”Ÿå‡ºå¤§é‡çš„å­æ³¨è§£ï¼š</p>
</li>
<li>
<p>@ConditionalOnClassï¼šåˆ¤æ–­ç¯å¢ƒä¸­æ˜¯å¦æœ‰å¯¹åº”å­—èŠ‚ç æ–‡ä»¶ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ã€‚</p>
</li>
<li>
<p>@ConditionalOnMissingBeanï¼šåˆ¤æ–­ç¯å¢ƒä¸­æ²¡æœ‰å¯¹åº”çš„beanï¼ˆç±»å‹ æˆ– åç§°ï¼‰ ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ã€‚</p>
</li>
<li>
<p>@ConditionalOnPropertyï¼šåˆ¤æ–­é…ç½®æ–‡ä»¶ä¸­æœ‰å¯¹åº”å±æ€§å’Œå€¼ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Bean</span>
<span class="hljs-comment">// åˆ¤æ–­ç¯å¢ƒä¸­æ˜¯å¦å­˜åœ¨io.jsonwebtoken.Jwtsï¼Œå¦‚æœæœ‰å°±åˆ›å»ºè¯¥Bean</span>
<span class="hljs-meta">@ConditionalOnClass(name = "io.jsonwebtoken.Jwts")</span>
<span class="hljs-comment">// åˆ¤æ–­ç¯å¢ƒä¸­æ˜¯å¦å­˜åœ¨è¯¥ç±»ï¼Œå¦‚æœæ²¡æœ‰å°±åˆ›å»ºè¯¥Bean</span>
<span class="hljs-meta">@ConditionalOnMissingBean</span>
<span class="hljs-comment">// åˆ¤æ–­å±æ€§å€¼æ˜¯å¦ä¸ºtrue,åœ¨é…ç½®æ–‡ä»¶ä¸­</span>
<span class="hljs-meta">@ConditionalOnProperty(name = "enable", havingValue = "true")</span>
<span class="hljs-keyword">public</span> RecordTimeAspect2 <span class="hljs-title function_">recordTimeAspect2</span><span class="hljs-params">()</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RecordTimeAspect2</span>();
}
</code></pre>
<blockquote>
<p>è‡ªå·±å®šä¹‰è‡ªåŠ¨é…ç½®ç±»çš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆ? å¦‚ä½•å®Œæˆè‡ªåŠ¨é…ç½®ï¼Ÿ</p>
</blockquote>
<ol>
<li>å®šä¹‰è‡ªåŠ¨é…ç½®ç±»</li>
<li>å°†è‡ªåŠ¨é…ç½®ç±»é…ç½®åœ¨ META-INF/spring/</li>
<li>org.springframework.boot.autoconfigure.AutoConfiguration.importsæ–‡ä»¶ä¸­</li>
</ol>
<h2 data-id="heading-5">è‡ªå®šä¹‰Starter</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c64e0497e1dd44f2bbf70cec02697ff6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768282100&amp;x-signature=gUvg2PstGvemeg%2BcwsxvkHJtkuk%3D" alt="image.png" loading="lazy"/></p>
<p>éœ€æ±‚ï¼šè‡ªå®šä¹‰aliyun-oss-spring-boot-starterï¼Œå®Œæˆé˜¿é‡Œäº‘OSSæ“ä½œå·¥å…·ç±» AliyunOSSOperator çš„è‡ªåŠ¨é…ç½®ã€‚</p>
<p>ç›®æ ‡ï¼šå¼•å…¥èµ·æ­¥ä¾èµ–å¼•å…¥ä¹‹åï¼Œè¦æƒ³ä½¿ç”¨é˜¿é‡Œäº‘OSSï¼Œæ³¨å…¥ AliyunOSSOperator ç›´æ¥ä½¿ç”¨å³å¯ã€‚</p>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li>åˆ›å»ºaliyun-oss-spring-boot-starteræ¨¡å—</li>
<li>åˆ›å»ºaliyun-oss-spring-boot-autoconfigureæ¨¡å—ï¼Œåœ¨starterä¸­å¼•å…¥è¯¥æ¨¡å—</li>
<li>åœ¨aliyun-oss-spring-boot-autoconfigureæ¨¡å—ä¸­çš„å®šä¹‰è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼Œå¹¶å®šä¹‰è‡ªåŠ¨é…ç½®æ–‡ä»¶ META-INF/spring/xxxx.imports</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/394d2c5291894d1590ce164173b56718~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768282100&amp;x-signature=5JWr0ECT7kmrzFmW0ityFVo%2Bl18%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æ³¨æ„ï¼šé€‰æ‹©ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ— éœ€è¦é€‰ä¾èµ–</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f69e841e347b46b38a91e476c10033f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq6YeM55qE56C05rC055O2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768282100&amp;x-signature=lhLVPCRXLPQ1DLTTPdfyymuTxrE%3D" alt="image.png" loading="lazy"/></p>
<p>åªéœ€è¦ä¾èµ–æ˜¯ spring-boot-starter å°±å¯ä»¥ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-comment">&lt;!--    å¸®åŠ©yamlæç¤º    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableConfigurationProperties(OSSProperties.class)</span> <span class="hljs-comment">// å¼•å…¥é…ç½®ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OSSConfig</span> {

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> OSS <span class="hljs-title function_">endpoint</span><span class="hljs-params">(OSSProperties ossProperties)</span> {
        <span class="hljs-type">DefaultCredentialProvider</span> <span class="hljs-variable">defaultCredentialProvider</span> <span class="hljs-operator">=</span>
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultCredentialProvider</span>(ossProperties.getAccessKeyId(), ossProperties.getSecretAccessKey());
        <span class="hljs-type">ClientBuilderConfiguration</span> <span class="hljs-variable">clientBuilderConfiguration</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClientBuilderConfiguration</span>();
        clientBuilderConfiguration.setSignatureVersion(SignVersion.V4);
        <span class="hljs-keyword">return</span> OSSClientBuilder.create()
                .endpoint(<span class="hljs-string">"https://"</span> + ossProperties.getEndpoint())
                .credentialsProvider(defaultCredentialProvider)
                .clientConfiguration(clientBuilderConfiguration)
                .region(extractRegion(ossProperties.getEndpoint()))
                .build();
    }

    <span class="hljs-comment">/**
     * è·å– region
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">extractRegion</span><span class="hljs-params">(String endpoint)</span> {
        <span class="hljs-keyword">if</span> (endpoint == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> endpoint.indexOf(<span class="hljs-string">"oss-"</span>);
        <span class="hljs-type">int</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> endpoint.indexOf(<span class="hljs-string">".aliyuncs.com"</span>);
        <span class="hljs-keyword">if</span> (start == -<span class="hljs-number">1</span> || end == -<span class="hljs-number">1</span> || start + <span class="hljs-number">4</span> &gt;= end)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"Invalid endpoint: "</span> + endpoint);
        <span class="hljs-keyword">return</span> endpoint.substring(start + <span class="hljs-number">4</span>, end);
    }

}

</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@ConfigurationProperties(prefix = "aliun.oss")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OSSProperties</span> {

    <span class="hljs-keyword">private</span> String endpoint;
    <span class="hljs-keyword">private</span> String accessKeyId;
    <span class="hljs-keyword">private</span> String secretAccessKey;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[thisè°ƒç”¨ä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆï¼Ÿè¿˜æ˜¯æ²¡ææ˜ç™½å•Šï¼]]></title>    <link>https://juejin.cn/post/7592119218029559842</link>    <guid>https://juejin.cn/post/7592119218029559842</guid>    <pubDate>2026-01-06T12:13:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592119218029559842" data-draft-id="7591350620189343750" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="thisè°ƒç”¨ä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆï¼Ÿè¿˜æ˜¯æ²¡ææ˜ç™½å•Šï¼"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-06T12:13:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå‰é€€ä¼‘çš„javaçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/465848660928872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            thisè°ƒç”¨ä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆï¼Ÿè¿˜æ˜¯æ²¡ææ˜ç™½å•Šï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848660928872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå‰é€€ä¼‘çš„javaçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T12:13:02.000Z" title="Tue Jan 06 2026 12:13:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    92
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<blockquote>
<p>æˆ‘æ˜¯[<a href="https://juejin.cn/user/465848660928872" title="https://juejin.cn/user/465848660928872" target="_blank">æå‰é€€ä¼‘çš„javaçŒ¿</a>]ï¼Œä¸€å7å¹´javaå¼€å‘ç»éªŒçš„å¼€å‘ç»„é•¿ï¼Œåˆ†äº«å·¥ä½œä¸­çš„å„ç§é—®é¢˜ï¼ï¼ˆéœ€è¦æ¨¡æ‹Ÿé¢è¯•ã€ç®€å†ä¼˜åŒ–ä¹Ÿå¯æ‰¾æˆ‘ï¼‰</p>
</blockquote>
<p>å‰ä¸€ä¸¤å‘¨ï¼Œå…¬å¸çš„ä¸šåŠ¡å‡ºäº†é‡å¤§é—®é¢˜ã€‚æ•°æ®åº“çš„æœåŠ¡å™¨<code>CPU 100%</code>ç„¶åä¸€äº›é‡è¦çš„æŠ½å¥–ä¸šåŠ¡ç«Ÿç„¶å‡ºç°ç‰©å“è¶…é¢†çš„æƒ…å†µã€‚</p>
<p>åŒäº‹çš„åé¦ˆå°±æ˜¯ ä¸€ä¸ªäº‹åŠ¡é‡Œé¢ åªæ‰§è¡Œäº†ååŠéƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯é¢†å–è®°å½•æ’å…¥ï¼ˆ<code>Bæ“ä½œ</code>ï¼‰æˆåŠŸäº†ï¼Œåº“å­˜æ‰£å‡ï¼ˆ<code>Aæ“ä½œ</code>ï¼‰æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p>
<p><strong>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼ˆå¤§å®¶çœ‹ä¸€ä¸‹äº‹åŠ¡æ˜¯å¦å¤±æ•ˆğŸ¤¶ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">//----------------------------------------controllerä»£ç ---------------------------------------</span>
<span class="hljs-meta">@RedisRateLimiter(value = 100,limit = 1)</span>
<span class="hljs-meta">@PostMapping(value = "/grabCoupon")</span>
<span class="hljs-keyword">public</span> Res&lt;?&gt; equityClaim(<span class="hljs-meta">@RequestBody</span> GrabCouponReqEx req) {
    .........service ä½¿ç”¨<span class="hljs-meta">@Resource</span> æ³¨å…¥..... 
    <span class="hljs-keyword">return</span> service.grabCouponTrans(req);
}
    
    
---------------------------------------service implä»£ç ----------------------------------------
<span class="hljs-meta">@Transactional(rollbackFor = RuntimeException.class)</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> Result&lt;?&gt; grabCouponTrans(GrabCouponReqEx req) {
       <span class="hljs-comment">// å¯¹æ‰€æœ‰ä»£ç è¿›è¡Œ tryï¼Œç„¶åæŠ›å‡ºRuntimException è®©æ¡†æ¶å›æ»š</span>
       <span class="hljs-keyword">try</span>{
       .............................
        <span class="hljs-comment">//âœ… Aæ“ä½œï¼šåº“å­˜æ‰£å‡ï¼Œè¿™ä¸ªåœ°æ–¹å¯¹åº“å­˜-1ï¼Œå¦‚æœæ›´æ–°è¡Œæ•°å¤§ä¸0è¿”å›true </span>
        <span class="hljs-comment">//UPDATE t SET num =  num -1  WHERE id = #{id} AND num &gt; 0;</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">isok</span> <span class="hljs-operator">=</span> reduceInventory(id);
        <span class="hljs-keyword">if</span> (isok) {
            <span class="hljs-comment">// âœ…Bæ“ä½œï¼šæ’å…¥é¢†å–è®°å½•ï¼Œæ’å…¥æˆåŠŸè¿”å› true</span>
            <span class="hljs-type">Boolean</span> <span class="hljs-variable">insetSuc</span> <span class="hljs-operator">=</span> insertRecord(record);
            <span class="hljs-keyword">if</span> (!insetSuc) {
               <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"é¢†å–å¤±è´¥ï¼"</span>);
            }
            <span class="hljs-keyword">return</span> result;
        } 
    }<span class="hljs-keyword">catch</span> (Exception e){
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"xxxx"</span>);
    }
}
</code></pre>
<p>ğŸ§”ï¼šå¾ˆå¤šç½‘å‹éƒ½è¯´thisè°ƒç”¨äº†<code>reduceInventoryã€insertRecord</code>æ–¹æ³•äº‹ç‰©ä¸ä¼šç”Ÿæ•ˆ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c4464aa6bbe42da89307602f692718f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o-Q5YmN6YCA5LyR55qEamF2YeeMvw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393316&amp;x-signature=YlSIwmf4XV4khQT8BxkCTSGx%2FnY%3D" alt="e9415f300e26bac81e2e9599d1a096a4.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d730201350a46ca8a0fbb5e9c9efb5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o-Q5YmN6YCA5LyR55qEamF2YeeMvw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768393316&amp;x-signature=68zS8pvZVwWpPyJF%2FIa%2BwvyPoaE%3D" alt="a9753e917f19a33cfe906f84c83b2110.jpg" loading="lazy"/></p>
<blockquote>
<p>âœ”è¿™ç§ç†è§£è‚¯å®šæ˜¯ä¸å¯¹çš„ï¼Œthisè°ƒç”¨çš„å¤–å±‚æ–¹æ³•æ˜¯åŠ äº†äº‹ç‰©æ³¨è§£ï¼Œå¹¶ä¸”æ˜¯@Resourceæ³¨å…¥è°ƒç”¨ï¼Œæ˜¯èƒ½è¢«ä»£ç†çš„ã€‚å¤–å±‚æ–¹æ³•éƒ½è¢«æ‹¦æˆªäº†ä»£ç†äº†ï¼Œæ–¹æ³•å†…éƒ¨å†thisè°ƒç”¨ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œé»˜è®¤å°±åŠ å…¥å½“å‰äº‹åŠ¡äº†ï¼Œå¦‚æœå†…éƒ¨æ–¹æ³•é€šè¿‡å®¹å™¨å¯¹è±¡è·å–ï¼Œå¹¶ä¸”æœ‰äº‹ç‰©æ³¨è§£è¿™æ—¶å€™å°±æ˜¯çœ‹äº‹ç‰©çš„ä¼ æ’­æœºåˆ¶äº†ã€‚</p>
</blockquote>
<h2 data-id="heading-1">äº‹åŠ¡æºç åˆ†æ</h2>
<p>ä¸‹é¢å°±æ˜¯äº‹åŠ¡æ‹¦æˆªå™¨ä¸»è¦çš„ä»£ç é€»è¾‘ <code>TransactionAspectSupport.invokeWithinTransaction</code>:</p>
<ul>
<li>åˆ›å»ºæˆ–è·å–äº‹åŠ¡</li>
<li>æ‰§è¡Œä¸šåŠ¡æ–¹æ³•</li>
<li>æ•æ‰å¼‚å¸¸ï¼šæœ‰å¼‚å¸¸å¤„ç†å›æ»šã€æ²¡æœ‰åŒ¹é…åˆ°å›æ»šå¼‚å¸¸åˆ™æäº¤äº‹åŠ¡</li>
<li>æ¸…ç†äº‹åŠ¡ä¿¡æ¯</li>
<li>æäº¤äº‹åŠ¡</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">protected</span> Object <span class="hljs-title function_">invokeWithinTransaction</span><span class="hljs-params">(Method method, <span class="hljs-meta">@Nullable</span> Class&lt;?&gt; targetClass,
       <span class="hljs-keyword">final</span> InvocationCallback invocation)</span> <span class="hljs-keyword">throws</span> Throwable {

    <span class="hljs-comment">// If the transaction attribute is null, the method is non-transactional.</span>
    <span class="hljs-type">TransactionAttributeSource</span> <span class="hljs-variable">tas</span> <span class="hljs-operator">=</span> getTransactionAttributeSource();
    <span class="hljs-keyword">final</span> <span class="hljs-type">TransactionAttribute</span> <span class="hljs-variable">txAttr</span> <span class="hljs-operator">=</span> (tas != <span class="hljs-literal">null</span> ? tas.getTransactionAttribute(method, targetClass) : <span class="hljs-literal">null</span>);
    <span class="hljs-keyword">final</span> <span class="hljs-type">TransactionManager</span> <span class="hljs-variable">tm</span> <span class="hljs-operator">=</span> determineTransactionManager(txAttr);
    
    <span class="hljs-comment">// å¤„ç†å“åº”å¼äº‹åŠ¡ï¼ˆSpring 5.2+ï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.reactiveAdapterRegistry != <span class="hljs-literal">null</span> &amp;&amp; tm <span class="hljs-keyword">instanceof</span> ReactiveTransactionManager) {
       ............................
       <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-type">PlatformTransactionManager</span> <span class="hljs-variable">ptm</span> <span class="hljs-operator">=</span> asPlatformTransactionManager(tm);
    <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">joinpointIdentification</span> <span class="hljs-operator">=</span> methodIdentification(method, targetClass, txAttr);

    <span class="hljs-keyword">if</span> (txAttr == <span class="hljs-literal">null</span> || !(ptm <span class="hljs-keyword">instanceof</span> CallbackPreferringPlatformTransactionManager)) {
        
       <span class="hljs-comment">// âœ…å…³é”®æ­¥éª¤1ï¼šåˆ›å»ºæˆ–è·å–äº‹åŠ¡ï¼ˆåˆ›å»ºæ–°äº‹åŠ¡è¿˜æ˜¯æ²¿ç”¨ä½¿ç”¨å°±çœ‹ä¼ æ’­æœºåˆ¶äº†ï¼‰</span>
       <span class="hljs-comment">// Standard transaction demarcation with getTransaction and commit/rollback calls.</span>
       <span class="hljs-type">TransactionInfo</span> <span class="hljs-variable">txInfo</span> <span class="hljs-operator">=</span> createTransactionIfNecessary(ptm, txAttr, joinpointIdentification);

       Object retVal;
       <span class="hljs-keyword">try</span> {
          <span class="hljs-comment">// âœ…å…³é”®æ­¥éª¤2ï¼šæ‰§è¡Œä¸šåŠ¡æ–¹æ³•ï¼ˆAOPé“¾çš„ä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨æˆ–ç›®æ ‡æ–¹æ³•ï¼‰ </span>
          (æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼šå†…éƒ¨è°ƒç”¨çš„æ–¹æ³•ä½¿ç”¨<span class="hljs-built_in">this</span>æŒ‡å‘é»˜è®¤ä¹Ÿæ˜¯è¢«æ‹¦æˆªçš„ï¼Œ
          å¦‚æœæœ‰äº‹åŠ¡æ³¨è§£å¹¶ä¸”é€šè¿‡å®¹å™¨å¯¹è±¡è°ƒç”¨ï¼Œæ‰§è¡Œçš„æ—¶å€™å°±ä¼šå†æ¬¡è¢«æ‹¦æˆªï¼Œæ­¤æ—¶äº‹åŠ¡çš„ä¼ æ’­æœºåˆ¶çš„ä½œç”¨å°±ä½“ç°å‡ºæ¥äº†)
          <span class="hljs-comment">// This is an around advice: Invoke the next interceptor in the chain.</span>
          <span class="hljs-comment">// This will normally result in a target object being invoked.</span>
          retVal = invocation.proceedWithInvocation();
       }
       <span class="hljs-keyword">catch</span> (Throwable ex) {
          <span class="hljs-comment">// âœ…å…³é”®æ­¥éª¤3ï¼šå¼‚å¸¸å¤„ç†å›æ»š</span>
          <span class="hljs-comment">// target invocation exception</span>
          completeTransactionAfterThrowing(txInfo, ex);
          <span class="hljs-keyword">throw</span> ex;
       }
       <span class="hljs-keyword">finally</span> {
          <span class="hljs-comment">//âœ…å…³é”®æ­¥éª¤4ï¼šæ¸…ç†äº‹åŠ¡ä¿¡æ¯</span>
          cleanupTransactionInfo(txInfo);
       }

       <span class="hljs-keyword">if</span> (retVal != <span class="hljs-literal">null</span> &amp;&amp; vavrPresent &amp;&amp; VavrDelegate.isVavrTry(retVal)) {
          <span class="hljs-comment">// Set rollback-only in case of Vavr failure matching our rollback rules...</span>
          <span class="hljs-type">TransactionStatus</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> txInfo.getTransactionStatus();
          <span class="hljs-keyword">if</span> (status != <span class="hljs-literal">null</span> &amp;&amp; txAttr != <span class="hljs-literal">null</span>) {
             retVal = VavrDelegate.evaluateTryFailure(retVal, txAttr, status);
          }
       }
       <span class="hljs-comment">// âœ…å…³é”®æ­¥éª¤5ï¼šæäº¤äº‹åŠ¡</span>
       commitTransactionAfterReturning(txInfo);
       <span class="hljs-keyword">return</span> retVal;
    }

    <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">//**JTAï¼ˆJava Transaction APIï¼‰** Â æˆ–éœ€è¦å›è°ƒæœºåˆ¶çš„äº‹åŠ¡ç®¡ç†å™¨</span>
      <span class="hljs-comment">//...........................................................</span>
    }
}
</code></pre>
<h3 data-id="heading-2">ä¸€ã€åˆ›å»ºè·å–äº‹åŠ¡</h3>
<p>åˆ›å»ºäº‹åŠ¡ä¿¡æ¯<code>createTransactionIfNecessary</code>ï¼Œå¦‚æœä¹‹å‰å·²ç»å­˜åœ¨äº‹åŠ¡å°±èµ°éœ€è¦åˆ¤æ–­äº‹åŠ¡çš„ä¼ æ’­æœºåˆ¶äº†</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">protected</span> TransactionInfo <span class="hljs-title function_">createTransactionIfNecessary</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> PlatformTransactionManager tm,
        <span class="hljs-meta">@Nullable</span> TransactionAttribute txAttr, <span class="hljs-keyword">final</span> String joinpointIdentification)</span> {
    
    <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æŒ‡å®šåç§°ï¼Œä½¿ç”¨æ–¹æ³•æ ‡è¯†ä½œä¸ºäº‹åŠ¡åç§°</span>
    <span class="hljs-keyword">if</span> (txAttr != <span class="hljs-literal">null</span> &amp;&amp; txAttr.getName() == <span class="hljs-literal">null</span>) {
        txAttr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelegatingTransactionAttribute</span>(txAttr) {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
                <span class="hljs-keyword">return</span> joinpointIdentification;
            }
        };
    }
    
    <span class="hljs-type">TransactionStatus</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (txAttr != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// âœ…å…³é”®ï¼šæ ¹æ®ä¼ æ’­è¡Œä¸ºè·å–äº‹åŠ¡çŠ¶æ€</span>
        <span class="hljs-keyword">if</span> (tm != <span class="hljs-literal">null</span>) {
            status = tm.getTransaction(txAttr);  <span class="hljs-comment">// è¿™é‡Œå¤„ç†PROPAGATION_REQUIREDç­‰</span>
        }
        <span class="hljs-comment">// ...</span>
    }
    
    <span class="hljs-comment">// âœ…å‡†å¤‡äº‹åŠ¡ä¿¡æ¯</span>
    <span class="hljs-keyword">return</span> prepareTransactionInfo(tm, txAttr, joinpointIdentification, status);
}
</code></pre>
<p>è¿™æ˜¯æ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼Œåœ¨Â <code>AbstractPlatformTransactionManager.getTransaction()</code>Â ä¸­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> TransactionStatus <span class="hljs-title function_">getTransaction</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> TransactionDefinition definition)</span> <span class="hljs-keyword">throws</span> TransactionException {
    <span class="hljs-comment">// 1. è·å–äº‹åŠ¡å®šä¹‰</span>
    <span class="hljs-type">TransactionDefinition</span> <span class="hljs-variable">def</span> <span class="hljs-operator">=</span> (definition != <span class="hljs-literal">null</span> ? definition : TransactionDefinition.withDefaults());
    
    <span class="hljs-comment">// 2. è·å–ç°æœ‰äº‹åŠ¡ï¼ˆå¤„ç†ä¼ æ’­è¡Œä¸ºï¼‰</span>
    <span class="hljs-type">Object</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> doGetTransaction();
    
    <span class="hljs-comment">// 3. æ£€æŸ¥å½“å‰æ˜¯å¦å­˜åœ¨äº‹åŠ¡</span>
    <span class="hljs-keyword">if</span> (isExistingTransaction(transaction)) {
        <span class="hljs-comment">// å·²å­˜åœ¨äº‹åŠ¡ï¼šæ ¹æ®ä¼ æ’­è¡Œä¸ºå¤„ç†</span>
        <span class="hljs-keyword">return</span> handleExistingTransaction(def, transaction, debugEnabled);
    }
    
    <span class="hljs-comment">// 4. æ²¡æœ‰ç°æœ‰äº‹åŠ¡ï¼šæ£€æŸ¥è¶…æ—¶ç­‰è®¾ç½®</span>
    <span class="hljs-keyword">if</span> (def.getTimeout() &lt; TransactionDefinition.TIMEOUT_DEFAULT) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvalidTimeoutException</span>(<span class="hljs-string">"Invalid transaction timeout"</span>, def.getTimeout());
    }
    
    <span class="hljs-comment">// 5. éœ€è¦æ–°äº‹åŠ¡ï¼šPROPAGATION_REQUIRED, PROPAGATION_REQUIRES_NEW, PROPAGATION_NESTED</span>
    <span class="hljs-keyword">if</span> (def.getPropagationBehavior() == TransactionDefinition.PROPAGATION_MANDATORY) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalTransactionStateException</span>(<span class="hljs-string">"No existing transaction found for transaction marked with propagation 'mandatory'"</span>);
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (def.getPropagationBehavior() == TransactionDefinition.PROPAGATION_REQUIRED ||
             def.getPropagationBehavior() == TransactionDefinition.PROPAGATION_REQUIRES_NEW ||
             def.getPropagationBehavior() == TransactionDefinition.PROPAGATION_NESTED) {
        
        <span class="hljs-comment">// æŒ‚èµ·ç°æœ‰èµ„æºï¼ˆå¦‚æœæœ‰ï¼‰</span>
        <span class="hljs-type">SuspendedResourcesHolder</span> <span class="hljs-variable">suspendedResources</span> <span class="hljs-operator">=</span> suspend(<span class="hljs-literal">null</span>);
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">boolean</span> <span class="hljs-variable">newSynchronization</span> <span class="hljs-operator">=</span> (getTransactionSynchronization() != SYNCHRONIZATION_NEVER);
            <span class="hljs-type">DefaultTransactionStatus</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> newTransactionStatus(
                def, transaction, <span class="hljs-literal">true</span>, newSynchronization, debugEnabled, suspendedResources);
            
            <span class="hljs-comment">// å…³é”®ï¼šå¼€å§‹æ–°äº‹åŠ¡</span>
            doBegin(transaction, def);
            prepareSynchronization(status, def);
            <span class="hljs-keyword">return</span> status;
        }
        <span class="hljs-keyword">catch</span> (RuntimeException | Error ex) {
            resume(<span class="hljs-literal">null</span>, suspendedResources);
            <span class="hljs-keyword">throw</span> ex;
        }
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// 6. ç©ºäº‹åŠ¡ï¼šPROPAGATION_SUPPORTS, PROPAGATION_NOT_SUPPORTED, PROPAGATION_NEVER</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">newSynchronization</span> <span class="hljs-operator">=</span> (getTransactionSynchronization() == SYNCHRONIZATION_ALWAYS);
        <span class="hljs-keyword">return</span> prepareTransactionStatus(def, <span class="hljs-literal">null</span>, <span class="hljs-literal">true</span>, newSynchronization, debugEnabled, <span class="hljs-literal">null</span>);
    }
}
</code></pre>
<h3 data-id="heading-3">äºŒã€å¼‚å¸¸å›æ»š</h3>
<p>æ‰§è¡Œå›æ»š ï¼š åŒ¹é…æŒ‡å®šè®¾ç½®çš„å¼‚å¸¸ï¼ŒåŒ¹é…ä¸åˆ°å°±åŒ¹é… RuntimeException æˆ– Error</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">completeTransactionAfterThrowing</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> TransactionInfo txInfo, Throwable ex)</span> {
    <span class="hljs-keyword">if</span> (txInfo != <span class="hljs-literal">null</span> &amp;&amp; txInfo.getTransactionStatus() != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// å…³é”®ï¼šæ ¹æ®å›æ»šè§„åˆ™å†³å®šæ˜¯å¦å›æ»š</span>
        <span class="hljs-keyword">if</span> (txInfo.transactionAttribute != <span class="hljs-literal">null</span> &amp;&amp; txInfo.transactionAttribute.rollbackOn(ex)) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// æ‰§è¡Œå›æ»š ï¼š åŒ¹é…æŒ‡å®šè®¾ç½®çš„å¼‚å¸¸ï¼ŒåŒ¹é…ä¸åˆ°å°±åŒ¹é… RuntimeException æˆ– Error</span>
                txInfo.getTransactionManager().rollback(txInfo.getTransactionStatus());
            }
            <span class="hljs-keyword">catch</span> (TransactionSystemException ex2) {
                <span class="hljs-comment">// è®°å½•é”™è¯¯ä½†ä¸æŠ›å‡º</span>
                logger.error(<span class="hljs-string">"Application exception overridden by rollback exception"</span>, ex);
                ex2.initApplicationException(ex);
                <span class="hljs-keyword">throw</span> ex2;
            }
            <span class="hljs-keyword">catch</span> (RuntimeException | Error ex2) {
                logger.error(<span class="hljs-string">"Application exception overridden by rollback exception"</span>, ex);
                <span class="hljs-keyword">throw</span> ex2;
            }
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// ä¸æ»¡è¶³å›æ»šæ¡ä»¶ï¼Œæäº¤äº‹åŠ¡</span>
            <span class="hljs-keyword">try</span> {
                txInfo.getTransactionManager().commit(txInfo.getTransactionStatus());
            }
            <span class="hljs-keyword">catch</span> (TransactionSystemException ex2) {
                <span class="hljs-comment">// ... å¼‚å¸¸å¤„ç†</span>
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-4">ä¸‰ã€ä¸ºä»€ä¹ˆæ¸…ç†äº‹åŠ¡ä¿¡æ¯åæ‰æäº¤äº‹åŠ¡</h3>
<p>åœ¨æ ‡å‡†äº‹åŠ¡åˆ†æ”¯æ‰§è¡Œé€»è¾‘å¦‚ä¸‹ï¼Œæ²¡æœ‰å‘ç”Ÿå¼‚å¸¸çš„æƒ…å†µå°±æ˜¯å…ˆæ¸…ç†äº‹åŠ¡ä¿¡æ¯ç„¶åæäº¤äº‹åŠ¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">try</span> {
    retVal = invocation.proceedWithInvocation();  <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡æ–¹æ³•</span>
}
<span class="hljs-keyword">catch</span> (Throwable ex) {
    completeTransactionAfterThrowing(txInfo, ex);  <span class="hljs-comment">// å¼‚å¸¸å›æ»š</span>
    <span class="hljs-keyword">throw</span> ex;
}
<span class="hljs-keyword">finally</span> {
    cleanupTransactionInfo(txInfo);  <span class="hljs-comment">// æ¸…ç†äº‹åŠ¡ä¿¡æ¯</span>
}

commitTransactionAfterReturning(txInfo);  <span class="hljs-comment">// æäº¤äº‹åŠ¡</span>
</code></pre>
<h4 data-id="heading-5">1.äº‹åŠ¡ä¿¡æ¯ä¸äº‹åŠ¡çŠ¶æ€åˆ†ç¦»</h4>
<p>é¦–å…ˆç†è§£ä¸¤ä¸ªå…³é”®æ¦‚å¿µï¼š</p>
<ul>
<li><strong>TransactionInfo</strong>ï¼šçº¿ç¨‹ç»‘å®šçš„äº‹åŠ¡ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
<li><strong>TransactionStatus</strong>ï¼šå®é™…çš„äº‹åŠ¡çŠ¶æ€ï¼ˆåŒ…å«æ•°æ®åº“è¿æ¥ã€å›æ»šæ ‡è®°ç­‰ï¼‰</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransactionInfo</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> PlatformTransactionManager transactionManager;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> TransactionAttribute transactionAttribute;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String joinpointIdentification;
    <span class="hljs-keyword">private</span> TransactionStatus transactionStatus;  <span class="hljs-comment">// å®é™…äº‹åŠ¡çŠ¶æ€</span>
    <span class="hljs-keyword">private</span> TransactionInfo oldTransactionInfo;   <span class="hljs-comment">// æ—§çš„äº‹åŠ¡ä¿¡æ¯ï¼ˆç”¨äºåµŒå¥—äº‹åŠ¡ï¼‰</span>
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼šæäº¤äº‹åŠ¡éœ€è¦çš„æ˜¯Â <code>TransactionStatus</code>ï¼Œè€Œä¸æ˜¯Â <code>TransactionInfo</code>ã€‚æ¸…ç†çš„æ˜¯çº¿ç¨‹ç»‘å®šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè€Œä¸æ˜¯å®é™…çš„äº‹åŠ¡çŠ¶æ€ã€‚</p>
<h4 data-id="heading-6">2. cleanupTransactionInfo å®é™…åšäº†ä»€ä¹ˆï¼Ÿ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cleanupTransactionInfo</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> TransactionInfo txInfo)</span> {
    <span class="hljs-keyword">if</span> (txInfo != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// æ¢å¤çº¿ç¨‹çš„äº‹åŠ¡çŠ¶æ€åˆ°ä¹‹å‰çš„çŠ¶æ€</span>
        txInfo.restoreThreadLocalStatus();
    }
}

<span class="hljs-comment">// TransactionInfo.restoreThreadLocalStatus()</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">restoreThreadLocalStatus</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// å°†çº¿ç¨‹ç»‘å®šæ¢å¤åˆ°æ—§çš„äº‹åŠ¡ä¿¡æ¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</span>
    TransactionSynchronizationManager.bindResource(
        <span class="hljs-built_in">this</span>.transactionManager, <span class="hljs-built_in">this</span>.oldTransactionInfo);
}
</code></pre>
<p><strong>é‡ç‚¹</strong>ï¼š<code>cleanupTransactionInfo</code>Â åªæ˜¯æ¢å¤çº¿ç¨‹çš„ ThreadLocal çŠ¶æ€ï¼Œ<strong>å¹¶ä¸å½±å“å®é™…äº‹åŠ¡çš„è¿æ¥å’ŒçŠ¶æ€</strong>ã€‚</p>
<h4 data-id="heading-7">3. è¯¦ç»†æ‰§è¡Œæ—¶åºåˆ†æ</h4>
<p>å¯ä»¥çœ‹ä¸€ä¸‹é¢äº‹åŠ¡åµŒå¥—çš„æ¡ˆä¾‹</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">methodA</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// äº‹åŠ¡Aå¼€å§‹</span>
        userRepository.updateA();
        
        <span class="hljs-comment">// è°ƒç”¨ methodBï¼ˆREQUIRES_NEWï¼‰</span>
        userServiceProxy.methodB();  <span class="hljs-comment">// é€šè¿‡ä»£ç†è°ƒç”¨</span>
        
        <span class="hljs-comment">// äº‹åŠ¡Aç»§ç»­</span>
        userRepository.updateA2();
    }
    
    <span class="hljs-meta">@Transactional(propagation = Propagation.REQUIRES_NEW)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">methodB</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// äº‹åŠ¡Bå¼€å§‹ï¼ˆæŒ‚èµ·äº‹åŠ¡Aï¼‰</span>
        logRepository.save();
        <span class="hljs-comment">// äº‹åŠ¡Bæäº¤</span>
    }
}
</code></pre>
<p><strong>æ‰§è¡Œæ—¶åºï¼š</strong> å¤§æ¦‚çš„é€»è¾‘å°±æ˜¯ï¼Œæ‰§è¡Œå®Œä¸€ä¸ªäº‹åŠ¡å°±éœ€è¦ç«‹å³æŠŠå½“å‰äº‹åŠ¡æ–¹æ³•çš„å¤–å±‚æ–¹æ³•çš„äº‹åŠ¡ç»™æ¢å¤ï¼ˆå­˜åœ¨çš„è¯ï¼‰ã€‚</p>
<pre><code class="hljs language-text" lang="text">æ—¶é—´è½´ï¼š
â”‚
â”œâ”€ è¿›å…¥ methodA()
â”‚   â”œâ”€ åˆ›å»º TransactionInfo_Aï¼ˆç»‘å®šåˆ° ThreadLocalï¼‰
â”‚   â”œâ”€ å¼€å§‹äº‹åŠ¡A
â”‚   â”‚
â”‚   â”œâ”€ è°ƒç”¨ methodB()ï¼ˆé€šè¿‡ä»£ç†ï¼‰
â”‚   â”‚   â”œâ”€ åˆ›å»º TransactionInfo_Bï¼ˆç»‘å®šåˆ° ThreadLocalï¼Œä¿å­˜æ—§çš„ TransactionInfo_Aï¼‰
â”‚   â”‚   â”œâ”€ æŒ‚èµ·äº‹åŠ¡A
â”‚   â”‚   â”œâ”€ å¼€å§‹äº‹åŠ¡B
â”‚   â”‚   â”œâ”€ æ‰§è¡Œä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€ æ¸…ç†é˜¶æ®µï¼š
â”‚   â”‚   â”‚   â”œâ”€ cleanupTransactionInfo(TransactionInfo_B) 
â”‚   â”‚   â”‚   â”‚   â””â”€ æ¢å¤ ThreadLocal åˆ° TransactionInfo_A âœ“
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€ æäº¤äº‹åŠ¡B âœ“
â”‚   â”‚   â”‚   â”‚   â””â”€ éœ€è¦äº‹åŠ¡Bçš„ TransactionStatusï¼Œä½†ä¸éœ€è¦ ThreadLocal çš„ TransactionInfo_B
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€ æ¢å¤äº‹åŠ¡A
â”‚   â”‚   â””â”€ è¿”å›
â”‚   â”‚
â”‚   â””â”€ methodA ç»§ç»­æ‰§è¡Œ
â”‚       â”œâ”€ ä½¿ç”¨ TransactionInfo_Aï¼ˆå·²æ¢å¤ï¼‰
â”‚       â”œâ”€ æäº¤äº‹åŠ¡A
â”‚       â””â”€ æ¸…ç† TransactionInfo_A
â””â”€ ç»“æŸ
</code></pre>
<h4 data-id="heading-8">4. æäº¤äº‹åŠ¡ä¸éœ€è¦ ThreadLocal ç»‘å®š</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// AbstractPlatformTransactionManager.commit()</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">commit</span><span class="hljs-params">(TransactionStatus status)</span> <span class="hljs-keyword">throws</span> TransactionException {
    <span class="hljs-comment">// ç›´æ¥ä» TransactionStatus è·å–å®é™…äº‹åŠ¡å¯¹è±¡</span>
    <span class="hljs-type">DefaultTransactionStatus</span> <span class="hljs-variable">defStatus</span> <span class="hljs-operator">=</span> (DefaultTransactionStatus) status;
    
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦å›æ»š</span>
    <span class="hljs-keyword">if</span> (defStatus.isLocalRollbackOnly() || defStatus.isGlobalRollbackOnly()) {
        processRollback(defStatus, <span class="hljs-literal">false</span>);
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// å®é™…æäº¤</span>
    processCommit(defStatus);
}

<span class="hljs-comment">// DataSourceTransactionManager.doCommit()</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doCommit</span><span class="hljs-params">(DefaultTransactionStatus status)</span> {
    <span class="hljs-type">DataSourceTransactionObject</span> <span class="hljs-variable">txObject</span> <span class="hljs-operator">=</span> (DataSourceTransactionObject) status.getTransaction();
    <span class="hljs-type">Connection</span> <span class="hljs-variable">con</span> <span class="hljs-operator">=</span> txObject.getConnectionHolder().getConnection();
    
    <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨è¿æ¥æäº¤</span>
    con.commit();  <span class="hljs-comment">// ä¸éœ€è¦ ThreadLocal ä¿¡æ¯</span>
}
</code></pre>
<p><strong>å…³é”®</strong>ï¼šæäº¤æ“ä½œåªéœ€è¦ï¼š</p>
<ol>
<li>æ•°æ®åº“è¿æ¥ï¼ˆä» TransactionStatus è·å–ï¼‰</li>
<li>äº‹åŠ¡çŠ¶æ€ï¼ˆæ˜¯å¦æ ‡è®°ä¸ºå›æ»šï¼‰</li>
</ol>
<blockquote>
<p>â—æ˜ç™½äº‹åŠ¡ä¼ æ’­æœºåˆ¶ä»¥åŠäº‹åŠ¡çš„ç›¸å…³ä¿¡æ¯æ˜¯ç»‘å®šåˆ°ThreadLocalä¸­ä¹‹åï¼Œç”¨å¼‚æ­¥çš„æ—¶å€™å°±è¦æ³¨æ„äº‹åŠ¡å¤±æ•ˆçš„é—®é¢˜äº†</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ”¥ æ•°æ®åº“è¡¨è¿˜å¯ä»¥è¿™æ ·ç”¨â€”â€”ä½ çœŸçš„åªç”¨å®ƒå­˜æ•°æ®å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7591744411739160576</link>    <guid>https://juejin.cn/post/7591744411739160576</guid>    <pubDate>2026-01-06T01:37:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591744411739160576" data-draft-id="7588098335790874624" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ”¥ æ•°æ®åº“è¡¨è¿˜å¯ä»¥è¿™æ ·ç”¨â€”â€”ä½ çœŸçš„åªç”¨å®ƒå­˜æ•°æ®å—ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,MySQL,SQL"/> <meta itemprop="datePublished" content="2026-01-06T01:37:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Sailing"/> <meta itemprop="url" content="https://juejin.cn/user/307518988100237"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ”¥ æ•°æ®åº“è¡¨è¿˜å¯ä»¥è¿™æ ·ç”¨â€”â€”ä½ çœŸçš„åªç”¨å®ƒå­˜æ•°æ®å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/307518988100237/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Sailing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T01:37:33.000Z" title="Tue Jan 06 2026 01:37:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šå¼€å‘è€…ä¹ æƒ¯æŠŠæ•°æ®åº“è¡¨å½“â€œå­˜å‚¨æ¡¶â€ï¼šå­˜æ•°æ®ã€æŸ¥æ•°æ®ã€åˆ æ•°æ®å°±å®Œäº‹äº†ã€‚</p>
<p>ä½†å¦‚æœä½ è¿˜åœç•™åœ¨è¿™ä¸ªè®¤çŸ¥ï¼Œä½ å¯èƒ½<strong>é”™è¿‡äº†æ•°æ®åº“çœŸæ­£çš„ä»·å€¼</strong>â€”â€”ä¸€å¼ è®¾è®¡åˆç†çš„è¡¨ï¼Œå®Œå…¨å¯ä»¥æˆä¸º <strong>åŠ¨æ€é…ç½®ã€ä¸šåŠ¡ç­–ç•¥å’Œç³»ç»Ÿè¿è¥çš„ç§˜å¯†æ­¦å™¨</strong>ã€‚å­¦ä¼šè¿™ä¸€ç‚¹ï¼Œä½ çš„ç³»ç»Ÿçµæ´»åº¦å’Œå¯ç»´æŠ¤æ€§èƒ½ç«‹åˆ»ç¿»å€ã€‚</p>
<p>æœ¬æ–‡å°±ä»¥ <strong>ç³»ç»Ÿé…ç½®è¡¨ï¼ˆsystem_configï¼‰</strong> ä¸ºä¾‹ï¼ŒèŠèŠæ•°æ®åº“è¡¨è¿˜èƒ½è¿™æ ·ç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0609f81aed0a47829af4ab0d87f5328c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2FpbGluZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768268253&amp;x-signature=rRiAJaahrka263GcKhowFNcoqMg%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¼ ç»Ÿç”¨é€” vs æ½œåœ¨ç”¨é€”</h2>
<h3 data-id="heading-1">ä¼ ç»Ÿç”¨é€”</h3>
<p>å¤§å¤šæ•°å¼€å‘è€…çš„ç¬¬ä¸€å°è±¡æ˜¯è¿™æ ·ï¼šç”¨æ•°æ®åº“è¡¨å­˜å‚¨ä¸šåŠ¡æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ã€è®¢å•ã€æ—¥å¿—ç­‰ã€‚å…¸å‹åœºæ™¯æ˜¯ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  username <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),
  email <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>),
  created_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);
</code></pre>
<p>å­˜å‚¨ã€æŸ¥è¯¢ã€ç»Ÿè®¡â€”â€”æ²¡é”™ï¼Œä½†è¿™åªæ˜¯æ•°æ®åº“è¡¨çš„æœ€åŸºç¡€ç”¨é€”ã€‚</p>
<h3 data-id="heading-2">æ½œåœ¨ç”¨é€”ï¼ˆç³»ç»Ÿé…ç½®è¡¨ï¼‰</h3>
<p>å¦‚æœæˆ‘ä»¬ç¨å¾®è·³å‡ºæ€è·¯ï¼Œä¸€å¼ è¡¨å®Œå…¨å¯ä»¥æ‰¿æ‹… <strong>ç³»ç»Ÿé…ç½®ã€åŠŸèƒ½å¼€å…³ã€è§„åˆ™å‚æ•°</strong> ç­‰åŠ¨æ€å¯é…ç½®çš„è§’è‰²ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºåº“è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> system_config (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  config_key <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span> COMMENT <span class="hljs-string">'é…ç½®é”®'</span>,
  config_value <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">500</span>) COMMENT <span class="hljs-string">'é…ç½®å€¼'</span>,
  description <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) COMMENT <span class="hljs-string">'é…ç½®è¯´æ˜'</span>,
  created_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
  updated_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb4 COMMENT<span class="hljs-operator">=</span><span class="hljs-string">'ç³»ç»Ÿé…ç½®è¡¨'</span>;
</code></pre>
<p>è¿™æ„å‘³ç€ä½ å¯ä»¥ï¼š</p>
<ul>
<li>å³æ—¶å¼€å¯/å…³é—­åŠŸèƒ½ï¼š<code>enable_ai_hackathon = true</code></li>
<li>è°ƒæ•´ä¸šåŠ¡å‚æ•°ï¼š<code>max_team_member = 5</code></li>
<li>å˜æ›´æ–‡æ¡ˆé“¾æ¥ï¼š<code>hackathon_rule_url = https://...</code></li>
</ul>
<p><strong>æ’å…¥ä¸æ›´æ–°ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ–°å¢é…ç½®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> system_config (config_key, config_value, description)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'enable_ai'</span>, <span class="hljs-string">'true'</span>, <span class="hljs-string">'æ˜¯å¦å¼€å¯ AI'</span>);

<span class="hljs-comment">-- è°ƒæ•´å‚æ•°</span>
<span class="hljs-keyword">UPDATE</span> system_config
<span class="hljs-keyword">SET</span> config_value <span class="hljs-operator">=</span> <span class="hljs-string">'false'</span>
<span class="hljs-keyword">WHERE</span> config_key <span class="hljs-operator">=</span> <span class="hljs-string">'enable_ai'</span>;
</code></pre>
<blockquote>
<p>å°æŠ€å·§ï¼šè¿™æ ·åšï¼Œä½ å°±èƒ½åœ¨ä¸æ”¹ä»£ç çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€è°ƒæ•´ç³»ç»Ÿè¡Œä¸ºã€‚</p>
</blockquote>
<h2 data-id="heading-3">ä¸ºä»€ä¹ˆç”¨è¡¨åšé…ç½®æ¯”ç¯å¢ƒå˜é‡æ›´çµæ´»</h2>
<p>å¾ˆå¤šäººç¬¬ä¸€ååº”ï¼š<code>env</code> æ–‡ä»¶æˆ–è€… Redis æ›´æ–¹ä¾¿å•Šï¼</p>
<p>è¡¨æ ¼å¸®ä½ å¯¹æ¯”ä¸€ä¸‹ï¼š</p>









































<table><thead><tr><th>ç»´åº¦</th><th>æ•°æ®åº“é…ç½®</th><th>ç¯å¢ƒå˜é‡</th><th>Redis</th></tr></thead><tbody><tr><td>æŒä¹…åŒ–</td><td>âœ…</td><td>âœ…</td><td>âš ï¸</td></tr><tr><td>åŠ¨æ€ä¿®æ”¹</td><td>âœ…</td><td>âŒ</td><td>âœ…</td></tr><tr><td>é‡å¯ç”Ÿæ•ˆ</td><td>âŒ</td><td>âœ…</td><td>âŒ</td></tr><tr><td>åå°ç®¡ç†</td><td>âœ…</td><td>âŒ</td><td>âš ï¸</td></tr><tr><td>å®¡è®¡ &amp; å†å²</td><td>âœ…</td><td>âŒ</td><td>âš ï¸</td></tr></tbody></table>
<p>æ•°æ®åº“é…ç½®è¡¨æ˜¯ <strong>ä¸šåŠ¡é…ç½®çš„â€œçœŸæºâ€</strong> ï¼Œæ”¯æŒåŠ¨æ€è°ƒæ•´ã€åå°ç®¡ç†ï¼Œè¿˜èƒ½ä¿ç•™å®¡è®¡è®°å½•ã€‚</p>
<p>Redis å¯ä»¥åšç¼“å­˜åŠ é€Ÿï¼Œenv æ–‡ä»¶ç®¡ç†å¯åŠ¨çº§é…ç½®å’Œæ•æ„Ÿä¿¡æ¯ï¼Œä¸‰è€…ç»“åˆå°±æ˜¯æˆç†Ÿçš„<strong>ä¸‰å±‚é…ç½®ä½“ç³»</strong>ã€‚</p>
<h2 data-id="heading-4">å»¶ä¼¸ç©æ³•ï¼šè®©è¡¨ä¸ä»…å­˜æ•°æ®</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f16d49d6f574e1b9a61f24b5b8464aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2FpbGluZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768268253&amp;x-signature=E5dHZR1%2FdJuQE2QnvxGRlivppD4%3D" alt="image.png" loading="lazy"/></p>
<p>é™¤äº†é…ç½®è¡¨ï¼Œæ•°æ®åº“è¡¨è¿˜æœ‰å…¶ä»–â€œä¸åªæ˜¯å­˜æ•°æ®â€çš„ç©æ³•ã€‚ä¸‹é¢ç”¨ SQL ç¤ºä¾‹è¯´æ˜ï¼š</p>
<h3 data-id="heading-5">1.  <strong>ç°åº¦ç­–ç•¥è¡¨</strong></h3>
<p>ç”¨æ¥å­˜ AB æµ‹è¯•æˆ–å®éªŒå‚æ•°ï¼Œæ¯”å¦‚æ–°åŠŸèƒ½åªç»™éƒ¨åˆ†ç”¨æˆ·çœ‹åˆ°ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºåº“è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> feature_flag (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  feature_key <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span> COMMENT <span class="hljs-string">'åŠŸèƒ½æ ‡è¯†'</span>,
  group_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) COMMENT <span class="hljs-string">'åˆ†ç»„ï¼Œä¾‹å¦‚ A/B æµ‹è¯•åˆ†ç»„'</span>,
  enabled <span class="hljs-type">BOOLEAN</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">FALSE</span> COMMENT <span class="hljs-string">'æ˜¯å¦å¯ç”¨'</span>,
  updated_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);

<span class="hljs-comment">-- æ–°å¢æ•°æ®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> feature_flag (feature_key, group_name, enabled)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'new_ui'</span>, <span class="hljs-string">'group_A'</span>, <span class="hljs-literal">TRUE</span>);
</code></pre>
<h3 data-id="heading-6">2. <strong>åŠŸèƒ½å¼€å…³è¡¨</strong></h3>
<p>æ§åˆ¶ç³»ç»ŸæŸä¸ªåŠŸèƒ½æ˜¯å¦å¼€å¯ï¼Œæ— éœ€æ”¹ä»£ç é‡æ–°éƒ¨ç½²ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºåº“è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> feature_switch (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  switch_key <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span> COMMENT <span class="hljs-string">'å¼€å…³æ ‡è¯†'</span>,
  is_on <span class="hljs-type">BOOLEAN</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">FALSE</span> COMMENT <span class="hljs-string">'å¼€å…³çŠ¶æ€'</span>,
  updated_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);

<span class="hljs-comment">-- è°ƒæ•´å‚æ•°</span>
<span class="hljs-keyword">UPDATE</span> feature_switch
<span class="hljs-keyword">SET</span> is_on <span class="hljs-operator">=</span> <span class="hljs-literal">TRUE</span>
<span class="hljs-keyword">WHERE</span> switch_key <span class="hljs-operator">=</span> <span class="hljs-string">'enable_ai'</span>;
</code></pre>
<h3 data-id="heading-7">3. <strong>å®¡è®¡æ—¥å¿—è¡¨</strong></h3>
<p>ä¸å‚ä¸ç³»ç»ŸåŠ¨æ€è¡Œä¸ºï¼Œå®ƒä»…ä»…æ˜¯è®°å½•æ“ä½œå†å²ï¼Œæ–¹ä¾¿æ’æŸ¥ã€‚ä¸¾ä¾‹ï¼š<code>user_id=123, action='delete', target_id=456</code>ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºåº“è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> audit_log (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  user_id <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  action <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  target_id <span class="hljs-type">INT</span> COMMENT <span class="hljs-string">'æ“ä½œå¯¹è±¡'</span>,
  created_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>
);

<span class="hljs-comment">-- æ–°å¢æ•°æ®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> audit_log (user_id, action, target_id)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-number">123</span>, <span class="hljs-string">'delete'</span>, <span class="hljs-number">456</span>);
</code></pre>
<h3 data-id="heading-8">4.  <strong>ä¸´æ—¶ä»»åŠ¡è¡¨</strong></h3>
<p>å­˜å®šæ—¶ä»»åŠ¡æˆ–çŠ¶æ€ä¿¡æ¯ï¼Œè®©ç³»ç»ŸæŒ‰ç…§è¡¨é‡Œçš„æ•°æ®è‡ªåŠ¨æ‰§è¡Œæ“ä½œã€‚ä¸¾ä¾‹ï¼šä»»åŠ¡é˜Ÿåˆ— <code>task_name='send_email', status='pending'</code>ï¼Œç³»ç»Ÿä¼šå®šæœŸæ£€æŸ¥å¹¶æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºåº“è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> scheduled_task (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  task_name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  status <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'pending'</span> COMMENT <span class="hljs-string">'ä»»åŠ¡çŠ¶æ€: pending/running/done'</span>,
  execute_at <span class="hljs-type">TIMESTAMP</span> COMMENT <span class="hljs-string">'è®¡åˆ’æ‰§è¡Œæ—¶é—´'</span>
);

<span class="hljs-comment">-- æ–°å¢æ•°æ®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> scheduled_task (task_name, status, execute_at)
<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'send_email'</span>, <span class="hljs-string">'pending'</span>, <span class="hljs-string">'2025-12-28 10:00:00'</span>);
</code></pre>
<blockquote>
<p>æ ¸å¿ƒæ€æƒ³ï¼šæŠŠâ€œ<strong>åŠ¨æ€ã€å¯è°ƒæ•´ã€ç³»ç»Ÿå…³é”®ä¿¡æ¯</strong>â€æ”¾åœ¨è¡¨é‡Œï¼Œè€Œä¸æ˜¯å†™æ­»åœ¨ä»£ç é‡Œæˆ–é…ç½®æ–‡ä»¶é‡Œï¼Œè¿™æ ·ç³»ç»Ÿæ›´çµæ´»ã€æ›´å¯æ§ã€‚</p>
</blockquote>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>æ•°æ®åº“è¡¨ä¸ä»…æ˜¯å­˜æ•°æ®çš„å®¹å™¨ï¼Œå®ƒè¿˜æ˜¯<strong>åŠ¨æ€é…ç½®ä¸­å¿ƒ</strong>ç­‰ã€‚å¸®åŠ©æˆ‘ä»¬æå‡é¡¹ç›®çš„çµæ´»åº¦ã€è¿ç»´ã€é£æ§ï¼Œå¦‚æœä½ ä¹Ÿæ˜¯å°†ç³»ç»Ÿé…ç½®æ”¾åˆ°ç¯å¢ƒå˜é‡ï¼Œä¸å¦¨è¯•è¯•æ”¾åˆ°æ•°æ®åº“è¡¨ä¸­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹å†™Spring IoCï¼šæ³¨è§£+åå°„æ‰“é€ è½»é‡çº§å®¹å™¨]]></title>    <link>https://juejin.cn/post/7591871204567810074</link>    <guid>https://juejin.cn/post/7591871204567810074</guid>    <pubDate>2026-01-06T03:45:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591871204567810074" data-draft-id="7591694511244787750" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹å†™Spring IoCï¼šæ³¨è§£+åå°„æ‰“é€ è½»é‡çº§å®¹å™¨"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-06T03:45:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹å†™Spring IoCï¼šæ³¨è§£+åå°„æ‰“é€ è½»é‡çº§å®¹å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T03:45:36.000Z" title="Tue Jan 06 2026 03:45:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‰‹å†™Spring IoCï¼šæ³¨è§£+åå°„æ‰“é€ è½»é‡çº§å®¹å™¨</h2>
<blockquote>
<p>æ·±å…¥ç†è§£Spring IoCæ ¸å¿ƒåŸç†ï¼Œé€šè¿‡æ³¨è§£å’Œåå°„æœºåˆ¶æ‰‹å†™ä¸€ä¸ªç®€æ˜“ç‰ˆIoCå®¹å™¨ï¼ŒæŒæ¡ä¾èµ–æ³¨å…¥çš„æœ¬è´¨ã€‚</p>
</blockquote>
<h3 data-id="heading-1">1. å¼•è¨€ï¼šSpring IoCçš„é­”åŠ›</h3>
<p>åœ¨Springæ¡†æ¶ä¸­ï¼ŒIoCï¼ˆæ§åˆ¶åè½¬ï¼‰å’ŒDIï¼ˆä¾èµ–æ³¨å…¥ï¼‰æ˜¯æœ€æ ¸å¿ƒçš„æ¦‚å¿µã€‚åªéœ€ä¸€ä¸ª<code>@Autowired</code>æ³¨è§£ï¼ŒSpringå°±èƒ½è‡ªåŠ¨å¸®æˆ‘ä»¬æ³¨å…¥ä¾èµ–å¯¹è±¡ï¼Œè¿™èƒŒåçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>æœ¬æ–‡å°†é€šè¿‡<strong>æ³¨è§£+åå°„</strong>çš„æ–¹å¼ï¼Œæ‰‹å†™ä¸€ä¸ªç®€æ˜“ç‰ˆSpring IoCå®¹å™¨ï¼Œè®©ä½ æ·±å…¥ç†è§£ï¼š</p>
<ul>
<li>æ³¨è§£æ˜¯å¦‚ä½•è¢«æ‰«æå’Œè§£æçš„</li>
<li>Beanæ˜¯å¦‚ä½•è¢«åˆ›å»ºå’Œç®¡ç†çš„</li>
<li>ä¾èµ–æ³¨å…¥æ˜¯å¦‚ä½•å®ç°çš„</li>
<li>Springå®¹å™¨çš„è¿è¡Œæœºåˆ¶</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8973d982964b4b1eab85947f180db86b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=psXeyOKXMKmYg1GutFFHZ0z9dnU%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-2">1.1 ä¸ºä»€ä¹ˆè¦æ‰‹å†™IoCï¼Ÿ</h4>
<ul>
<li><strong>ç†è§£åŸç†</strong> - çŸ¥å…¶ç„¶æ›´çŸ¥å…¶æ‰€ä»¥ç„¶</li>
<li><strong>é¢è¯•å¿…å¤‡</strong> - Spring IoCæ˜¯é¢è¯•é«˜é¢‘è€ƒç‚¹</li>
<li><strong>æå‡èƒ½åŠ›</strong> - æŒæ¡åå°„ã€æ³¨è§£ç­‰æ ¸å¿ƒæŠ€æœ¯</li>
<li><strong>æ¡†æ¶é€‰å‹</strong> - ç†è§£æ¡†æ¶è®¾è®¡æ€æƒ³</li>
</ul>
<hr/>
<h3 data-id="heading-3">2. æ ¸å¿ƒæ¦‚å¿µï¼šIoCã€DIã€æ³¨è§£ã€åå°„</h3>
<h4 data-id="heading-4">2.1 æ§åˆ¶åè½¬ï¼ˆIoCï¼‰</h4>
<p><strong>ä¼ ç»Ÿæ–¹å¼</strong>ï¼šå¯¹è±¡è‡ªå·±åˆ›å»ºä¾èµ–</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">UserDao</span> <span class="hljs-variable">userDao</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoImpl</span>(); <span class="hljs-comment">// ä¸»åŠ¨åˆ›å»º</span>
}
</code></pre>
<p><strong>IoCæ–¹å¼</strong>ï¼šå¯¹è±¡ç”±å®¹å™¨åˆ›å»ºå’Œæ³¨å…¥</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserDao userDao; <span class="hljs-comment">// è¢«åŠ¨æ¥æ”¶</span>
}
</code></pre>
<p><strong>æ§åˆ¶åè½¬</strong>å°±æ˜¯æŠŠå¯¹è±¡åˆ›å»ºå’Œä¾èµ–ç®¡ç†çš„æ§åˆ¶æƒï¼Œä»åº”ç”¨ä»£ç è½¬ç§»åˆ°IoCå®¹å™¨ã€‚</p>
<h4 data-id="heading-5">2.2 ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰</h4>
<p>ä¾èµ–æ³¨å…¥æ˜¯IoCçš„å®ç°æ–¹å¼ï¼Œæœ‰ä¸‰ç§æ³¨å…¥æ–¹å¼ï¼š</p>
<p><strong>â‘  æ„é€ å™¨æ³¨å…¥</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UserDao userDao;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserService</span><span class="hljs-params">(UserDao userDao)</span> {
        <span class="hljs-built_in">this</span>.userDao = userDao;
    }
}
</code></pre>
<p><strong>â‘¡ Setteræ³¨å…¥</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">private</span> UserDao userDao;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserDao</span><span class="hljs-params">(UserDao userDao)</span> {
        <span class="hljs-built_in">this</span>.userDao = userDao;
    }
}
</code></pre>
<p><strong>â‘¢ å­—æ®µæ³¨å…¥</strong>ï¼ˆæœ€å¸¸ç”¨ï¼‰</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserDao userDao;
}
</code></pre>
<h4 data-id="heading-6">2.3 Javaæ³¨è§£</h4>
<p>æ³¨è§£æ˜¯Java 5å¼•å…¥çš„å…ƒæ•°æ®æ ‡è®°æœºåˆ¶ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®šä¹‰æ³¨è§£</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span> <span class="hljs-comment">// è¿è¡Œæ—¶ä¿ç•™</span>
<span class="hljs-meta">@Target(ElementType.TYPE)</span>           <span class="hljs-comment">// ä½œç”¨äºç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Component {
    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
}

<span class="hljs-comment">// ä½¿ç”¨æ³¨è§£</span>
<span class="hljs-meta">@Component("userService")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
}
</code></pre>
<h4 data-id="heading-7">2.4 Javaåå°„</h4>
<p>åå°„å…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶åŠ¨æ€è·å–ç±»ä¿¡æ¯å¹¶æ“ä½œå¯¹è±¡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŠ è½½ç±»</span>
Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">"com.example.UserService"</span>);

<span class="hljs-comment">// æ£€æŸ¥æ³¨è§£</span>
<span class="hljs-keyword">if</span> (clazz.isAnnotationPresent(Component.class)) {
    <span class="hljs-type">Component</span> <span class="hljs-variable">component</span> <span class="hljs-operator">=</span> clazz.getAnnotation(Component.class);
    <span class="hljs-type">String</span> <span class="hljs-variable">beanName</span> <span class="hljs-operator">=</span> component.value();
}

<span class="hljs-comment">// åˆ›å»ºå®ä¾‹</span>
<span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> clazz.getDeclaredConstructor().newInstance();

<span class="hljs-comment">// è·å–å­—æ®µ</span>
Field[] fields = clazz.getDeclaredFields();

<span class="hljs-comment">// è®¾ç½®å­—æ®µå€¼</span>
field.setAccessible(<span class="hljs-literal">true</span>);
field.set(instance, value);
</code></pre>
<hr/>
<h3 data-id="heading-8">3. ç¬¬ä¸€æ­¥ï¼šå®šä¹‰æ ¸å¿ƒæ³¨è§£</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ddbd78b7e934e5182131b248e56cc9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=ra%2BrLzOTjz6FwTJdqvPd3hTz0z4%3D" alt="" loading="lazy"/></p>
<p>é¦–å…ˆå®šä¹‰æˆ‘ä»¬è‡ªå·±çš„æ³¨è§£ï¼Œæ¨¡æ‹ŸSpringçš„æ ¸å¿ƒæ³¨è§£ã€‚</p>
<h4 data-id="heading-9">3.1 @Componentæ³¨è§£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * æ ‡è®°ç»„ä»¶ç±»ï¼Œç±»ä¼¼Springçš„<span class="hljs-doctag">@Component</span>
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.TYPE)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Component {
    <span class="hljs-comment">/**
     * Beanåç§°ï¼Œé»˜è®¤ä¸ºç±»åé¦–å­—æ¯å°å†™
     */</span>
    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
}
</code></pre>
<h4 data-id="heading-10">3.2 @Autowiredæ³¨è§£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * è‡ªåŠ¨æ³¨å…¥ä¾èµ–ï¼Œç±»ä¼¼Springçš„<span class="hljs-doctag">@Autowired</span>
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target({ElementType.FIELD, ElementType.METHOD, ElementType.CONSTRUCTOR})</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Autowired {
    <span class="hljs-comment">/**
     * æ˜¯å¦å¿…é¡»æ³¨å…¥
     */</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">required</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<h4 data-id="heading-11">3.3 @Qualifieræ³¨è§£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * æŒ‡å®šè¦æ³¨å…¥çš„Beanåç§°
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target({ElementType.FIELD, ElementType.PARAMETER})</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Qualifier {
    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span>;
}
</code></pre>
<h4 data-id="heading-12">3.4 @Scopeæ³¨è§£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * æŒ‡å®šBeançš„ä½œç”¨åŸŸ
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.TYPE)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Scope {
    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"singleton"</span>;
}
</code></pre>
<hr/>
<h3 data-id="heading-13">4. ç¬¬äºŒæ­¥ï¼šå®ç°åŒ…æ‰«æå™¨</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4af5705699904ec59afb178a2de40530~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=hGjQnrutKn0W7I6011yrjaXuUkg%3D" alt="" loading="lazy"/></p>
<p>åŒ…æ‰«æå™¨è´Ÿè´£æ‰«ææŒ‡å®šåŒ…ä¸‹çš„æ‰€æœ‰ç±»ï¼Œæ‰¾å‡ºå¸¦æœ‰<code>@Component</code>æ³¨è§£çš„ç±»ã€‚</p>
<h4 data-id="heading-14">4.1 ClassScannerç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-keyword">import</span> com.myspring.annotation.Component;
<span class="hljs-keyword">import</span> java.io.File;
<span class="hljs-keyword">import</span> java.net.URL;
<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * ç±»æ‰«æå™¨ï¼šæ‰«ææŒ‡å®šåŒ…ä¸‹çš„æ‰€æœ‰ç±»
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassScanner</span> {

    <span class="hljs-comment">/**
     * æ‰«ææŒ‡å®šåŒ…ä¸‹å¸¦æœ‰<span class="hljs-doctag">@Component</span>æ³¨è§£çš„ç±»
     *
     * <span class="hljs-doctag">@param</span> basePackage åŸºç¡€åŒ…è·¯å¾„ï¼Œå¦‚"com.example"
     * <span class="hljs-doctag">@return</span> å¸¦æœ‰<span class="hljs-doctag">@Component</span>æ³¨è§£çš„Classåˆ—è¡¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Class&lt;?&gt;&gt; scanComponents(String basePackage) {
        List&lt;Class&lt;?&gt;&gt; classList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å°†åŒ…åè½¬æ¢ä¸ºè·¯å¾„</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">packagePath</span> <span class="hljs-operator">=</span> basePackage.replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">'/'</span>);

            <span class="hljs-comment">// è·å–åŒ…çš„URLè·¯å¾„</span>
            <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">classLoader</span> <span class="hljs-operator">=</span> Thread.currentThread().getContextClassLoader();
            <span class="hljs-type">URL</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> classLoader.getResource(packagePath);

            <span class="hljs-keyword">if</span> (resource == <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"åŒ…è·¯å¾„ä¸å­˜åœ¨: "</span> + basePackage);
                <span class="hljs-keyword">return</span> classList;
            }

            <span class="hljs-comment">// è·å–åŒ…çš„æ–‡ä»¶è·¯å¾„</span>
            <span class="hljs-type">File</span> <span class="hljs-variable">packageDir</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(resource.getFile());

            <span class="hljs-comment">// é€’å½’æ‰«ææ‰€æœ‰ç±»æ–‡ä»¶</span>
            scanClasses(packageDir, basePackage, classList);

        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }

        <span class="hljs-keyword">return</span> classList;
    }

    <span class="hljs-comment">/**
     * é€’å½’æ‰«æç›®å½•ä¸‹çš„æ‰€æœ‰ç±»æ–‡ä»¶
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">scanClasses</span><span class="hljs-params">(File dir, String packageName, List&lt;Class&lt;?&gt;&gt; classList)</span> {
        <span class="hljs-keyword">if</span> (!dir.exists() || !dir.isDirectory()) {
            <span class="hljs-keyword">return</span>;
        }

        File[] files = dir.listFiles();
        <span class="hljs-keyword">if</span> (files == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">for</span> (File file : files) {
            <span class="hljs-keyword">if</span> (file.isDirectory()) {
                <span class="hljs-comment">// é€’å½’æ‰«æå­ç›®å½•</span>
                scanClasses(file, packageName + <span class="hljs-string">"."</span> + file.getName(), classList);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (file.getName().endsWith(<span class="hljs-string">".class"</span>)) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// è·å–ç±»å</span>
                    <span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> packageName + <span class="hljs-string">"."</span> +
                        file.getName().replace(<span class="hljs-string">".class"</span>, <span class="hljs-string">""</span>);

                    <span class="hljs-comment">// åŠ è½½ç±»</span>
                    Class&lt;?&gt; clazz = Class.forName(className);

                    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰@Componentæ³¨è§£</span>
                    <span class="hljs-keyword">if</span> (clazz.isAnnotationPresent(Component.class)) {
                        classList.add(clazz);
                        System.out.println(<span class="hljs-string">"æ‰«æåˆ°ç»„ä»¶: "</span> + className);
                    }

                } <span class="hljs-keyword">catch</span> (ClassNotFoundException e) {
                    e.printStackTrace();
                }
            }
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-15">5. ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºBeanå·¥å‚</h3>
<p>Beanå·¥å‚è´Ÿè´£å­˜å‚¨å’Œç®¡ç†æ‰€æœ‰çš„Beanå®ä¾‹ã€‚</p>
<h4 data-id="heading-16">5.1 BeanDefinitionç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-comment">/**
 * Beanå®šä¹‰ä¿¡æ¯
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BeanDefinition</span> {
    <span class="hljs-keyword">private</span> String beanName;
    <span class="hljs-keyword">private</span> Class&lt;?&gt; beanClass;
    <span class="hljs-keyword">private</span> String scope;
    <span class="hljs-keyword">private</span> Object singletonInstance;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">BeanDefinition</span><span class="hljs-params">(String beanName, Class&lt;?&gt; beanClass, String scope)</span> {
        <span class="hljs-built_in">this</span>.beanName = beanName;
        <span class="hljs-built_in">this</span>.beanClass = beanClass;
        <span class="hljs-built_in">this</span>.scope = scope;
    }

    <span class="hljs-comment">// Getterå’ŒSetteræ–¹æ³•</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getBeanName</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> beanName; }
    <span class="hljs-keyword">public</span> Class&lt;?&gt; getBeanClass() { <span class="hljs-keyword">return</span> beanClass; }
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getScope</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> scope; }
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getSingletonInstance</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> singletonInstance; }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSingletonInstance</span><span class="hljs-params">(Object instance)</span> {
        <span class="hljs-built_in">this</span>.singletonInstance = instance;
    }
}
</code></pre>
<h4 data-id="heading-17">5.2 BeanFactoryç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-keyword">import</span> com.myspring.annotation.Component;
<span class="hljs-keyword">import</span> com.myspring.annotation.Scope;
<span class="hljs-keyword">import</span> java.util.Map;
<span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap;

<span class="hljs-comment">/**
 * Beanå·¥å‚ï¼šåˆ›å»ºå’Œç®¡ç†Beanå®ä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BeanFactory</span> {

    <span class="hljs-comment">// å­˜å‚¨Beanå®šä¹‰ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> Map&lt;String, BeanDefinition&gt; beanDefinitionMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-comment">/**
     * æ³¨å†ŒBeanå®šä¹‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerBeanDefinition</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> {
        <span class="hljs-comment">// è·å–Beanåç§°</span>
        <span class="hljs-type">Component</span> <span class="hljs-variable">component</span> <span class="hljs-operator">=</span> clazz.getAnnotation(Component.class);
        <span class="hljs-type">String</span> <span class="hljs-variable">beanName</span> <span class="hljs-operator">=</span> component.value();
        <span class="hljs-keyword">if</span> (beanName.isEmpty()) {
            <span class="hljs-comment">// é»˜è®¤ä½¿ç”¨ç±»åé¦–å­—æ¯å°å†™</span>
            beanName = toLowerFirstCase(clazz.getSimpleName());
        }

        <span class="hljs-comment">// è·å–ä½œç”¨åŸŸ</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">scope</span> <span class="hljs-operator">=</span> <span class="hljs-string">"singleton"</span>;
        <span class="hljs-keyword">if</span> (clazz.isAnnotationPresent(Scope.class)) {
            <span class="hljs-type">Scope</span> <span class="hljs-variable">scopeAnnotation</span> <span class="hljs-operator">=</span> clazz.getAnnotation(Scope.class);
            scope = scopeAnnotation.value();
        }

        <span class="hljs-comment">// åˆ›å»ºBeanDefinitionå¹¶æ³¨å†Œ</span>
        <span class="hljs-type">BeanDefinition</span> <span class="hljs-variable">beanDefinition</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanDefinition</span>(beanName, clazz, scope);
        beanDefinitionMap.put(beanName, beanDefinition);

        System.out.println(<span class="hljs-string">"æ³¨å†ŒBean: "</span> + beanName + <span class="hljs-string">", ä½œç”¨åŸŸ: "</span> + scope);
    }

    <span class="hljs-comment">/**
     * è·å–Beanå®ä¾‹
     */</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getBean</span><span class="hljs-params">(String beanName)</span> {
        <span class="hljs-type">BeanDefinition</span> <span class="hljs-variable">beanDefinition</span> <span class="hljs-operator">=</span> beanDefinitionMap.get(beanName);
        <span class="hljs-keyword">if</span> (beanDefinition == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Beanä¸å­˜åœ¨: "</span> + beanName);
        }

        <span class="hljs-comment">// å•ä¾‹æ¨¡å¼</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"singleton"</span>.equals(beanDefinition.getScope())) {
            <span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> beanDefinition.getSingletonInstance();
            <span class="hljs-keyword">if</span> (instance == <span class="hljs-literal">null</span>) {
                instance = createBean(beanDefinition);
                beanDefinition.setSingletonInstance(instance);
            }
            <span class="hljs-keyword">return</span> instance;
        }

        <span class="hljs-comment">// åŸå‹æ¨¡å¼ï¼šæ¯æ¬¡éƒ½åˆ›å»ºæ–°å®ä¾‹</span>
        <span class="hljs-keyword">return</span> createBean(beanDefinition);
    }

    <span class="hljs-comment">/**
     * æ ¹æ®ç±»å‹è·å–Bean
     */</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getBean</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> {
        <span class="hljs-keyword">for</span> (BeanDefinition bd : beanDefinitionMap.values()) {
            <span class="hljs-keyword">if</span> (clazz.isAssignableFrom(bd.getBeanClass())) {
                <span class="hljs-keyword">return</span> getBean(bd.getBeanName());
            }
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Beanä¸å­˜åœ¨: "</span> + clazz.getName());
    }

    <span class="hljs-comment">/**
     * åˆ›å»ºBeanå®ä¾‹
     */</span>
    <span class="hljs-keyword">private</span> Object <span class="hljs-title function_">createBean</span><span class="hljs-params">(BeanDefinition beanDefinition)</span> {
        <span class="hljs-keyword">try</span> {
            Class&lt;?&gt; clazz = beanDefinition.getBeanClass();
            <span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> clazz.getDeclaredConstructor().newInstance();
            System.out.println(<span class="hljs-string">"åˆ›å»ºBeanå®ä¾‹: "</span> + beanDefinition.getBeanName());
            <span class="hljs-keyword">return</span> instance;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åˆ›å»ºBeanå¤±è´¥: "</span> +
                beanDefinition.getBeanName(), e);
        }
    }

    <span class="hljs-comment">/**
     * é¦–å­—æ¯å°å†™
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">toLowerFirstCase</span><span class="hljs-params">(String str)</span> {
        <span class="hljs-type">char</span>[] chars = str.toCharArray();
        chars[<span class="hljs-number">0</span>] += <span class="hljs-number">32</span>;
        <span class="hljs-keyword">return</span> String.valueOf(chars);
    }

    <span class="hljs-comment">/**
     * è·å–æ‰€æœ‰Beanåç§°
     */</span>
    <span class="hljs-keyword">public</span> Map&lt;String, BeanDefinition&gt; <span class="hljs-title function_">getBeanDefinitions</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> beanDefinitionMap;
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-18">6. ç¬¬å››æ­¥ï¼šå®ç°ä¾èµ–æ³¨å…¥</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95a946239e474c49afa084fedc306c28~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=DVcfiJ9%2B0hiocLdWCI52ymbIc6o%3D" alt="" loading="lazy"/></p>
<p>ä¾èµ–æ³¨å…¥æ˜¯IoCå®¹å™¨çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œé€šè¿‡åå°„è‡ªåŠ¨ä¸ºBeanæ³¨å…¥ä¾èµ–ã€‚</p>
<h4 data-id="heading-19">6.1 DependencyInjectorç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-keyword">import</span> com.myspring.annotation.Autowired;
<span class="hljs-keyword">import</span> com.myspring.annotation.Qualifier;
<span class="hljs-keyword">import</span> java.lang.reflect.Field;

<span class="hljs-comment">/**
 * ä¾èµ–æ³¨å…¥å™¨ï¼šä¸ºBeanæ³¨å…¥ä¾èµ–
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DependencyInjector</span> {

    <span class="hljs-keyword">private</span> BeanFactory beanFactory;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DependencyInjector</span><span class="hljs-params">(BeanFactory beanFactory)</span> {
        <span class="hljs-built_in">this</span>.beanFactory = beanFactory;
    }

    <span class="hljs-comment">/**
     * ä¸ºæ‰€æœ‰Beanæ‰§è¡Œä¾èµ–æ³¨å…¥
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">injectDependencies</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">for</span> (BeanDefinition bd : beanFactory.getBeanDefinitions().values()) {
            <span class="hljs-type">Object</span> <span class="hljs-variable">bean</span> <span class="hljs-operator">=</span> beanFactory.getBean(bd.getBeanName());
            injectBean(bean);
        }
    }

    <span class="hljs-comment">/**
     * ä¸ºå•ä¸ªBeanæ³¨å…¥ä¾èµ–
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">injectBean</span><span class="hljs-params">(Object bean)</span> {
        Class&lt;?&gt; clazz = bean.getClass();

        <span class="hljs-comment">// è·å–æ‰€æœ‰å­—æ®µ</span>
        Field[] fields = clazz.getDeclaredFields();

        <span class="hljs-keyword">for</span> (Field field : fields) {
            <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰@Autowiredæ³¨è§£</span>
            <span class="hljs-keyword">if</span> (!field.isAnnotationPresent(Autowired.class)) {
                <span class="hljs-keyword">continue</span>;
            }

            <span class="hljs-type">Autowired</span> <span class="hljs-variable">autowired</span> <span class="hljs-operator">=</span> field.getAnnotation(Autowired.class);

            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// ç¡®å®šè¦æ³¨å…¥çš„Bean</span>
                <span class="hljs-type">Object</span> <span class="hljs-variable">dependency</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;

                <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰@QualifieræŒ‡å®šBeanåç§°</span>
                <span class="hljs-keyword">if</span> (field.isAnnotationPresent(Qualifier.class)) {
                    <span class="hljs-type">Qualifier</span> <span class="hljs-variable">qualifier</span> <span class="hljs-operator">=</span> field.getAnnotation(Qualifier.class);
                    <span class="hljs-type">String</span> <span class="hljs-variable">beanName</span> <span class="hljs-operator">=</span> qualifier.value();
                    dependency = beanFactory.getBean(beanName);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-comment">// æ ¹æ®ç±»å‹æŸ¥æ‰¾Bean</span>
                    dependency = beanFactory.getBean(field.getType());
                }

                <span class="hljs-comment">// åå°„è®¾ç½®å­—æ®µå€¼</span>
                field.setAccessible(<span class="hljs-literal">true</span>);
                field.set(bean, dependency);

                System.out.println(<span class="hljs-string">"æ³¨å…¥ä¾èµ–: "</span> + clazz.getSimpleName() +
                    <span class="hljs-string">"."</span> + field.getName());

            } <span class="hljs-keyword">catch</span> (Exception e) {
                <span class="hljs-keyword">if</span> (autowired.required()) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ä¾èµ–æ³¨å…¥å¤±è´¥: "</span> +
                        clazz.getSimpleName() + <span class="hljs-string">"."</span> + field.getName(), e);
                }
            }
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-20">7. ç¬¬äº”æ­¥ï¼šå®Œå–„ç”Ÿå‘½å‘¨æœŸ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b1c98c1e6b1400dab18685675fd8503~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=o%2BpKs8o%2Fd4yWCSXFgxEllUuttSg%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-21">7.1 ç”Ÿå‘½å‘¨æœŸæ³¨è§£</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * Beanåˆå§‹åŒ–åè°ƒç”¨
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> PostConstruct {
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.annotation;

<span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * Beané”€æ¯å‰è°ƒç”¨
 */</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> PreDestroy {
}
</code></pre>
<h4 data-id="heading-22">7.2 ç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-keyword">import</span> com.myspring.annotation.PostConstruct;
<span class="hljs-keyword">import</span> com.myspring.annotation.PreDestroy;
<span class="hljs-keyword">import</span> java.lang.reflect.Method;

<span class="hljs-comment">/**
 * Beanç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LifecycleManager</span> {

    <span class="hljs-comment">/**
     * æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invokeInitMethod</span><span class="hljs-params">(Object bean)</span> {
        Class&lt;?&gt; clazz = bean.getClass();
        Method[] methods = clazz.getDeclaredMethods();

        <span class="hljs-keyword">for</span> (Method method : methods) {
            <span class="hljs-keyword">if</span> (method.isAnnotationPresent(PostConstruct.class)) {
                <span class="hljs-keyword">try</span> {
                    method.setAccessible(<span class="hljs-literal">true</span>);
                    method.invoke(bean);
                    System.out.println(<span class="hljs-string">"æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•: "</span> +
                        clazz.getSimpleName() + <span class="hljs-string">"."</span> + method.getName());
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åˆå§‹åŒ–æ–¹æ³•æ‰§è¡Œå¤±è´¥"</span>, e);
                }
            }
        }
    }

    <span class="hljs-comment">/**
     * æ‰§è¡Œé”€æ¯æ–¹æ³•
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invokeDestroyMethod</span><span class="hljs-params">(Object bean)</span> {
        Class&lt;?&gt; clazz = bean.getClass();
        Method[] methods = clazz.getDeclaredMethods();

        <span class="hljs-keyword">for</span> (Method method : methods) {
            <span class="hljs-keyword">if</span> (method.isAnnotationPresent(PreDestroy.class)) {
                <span class="hljs-keyword">try</span> {
                    method.setAccessible(<span class="hljs-literal">true</span>);
                    method.invoke(bean);
                    System.out.println(<span class="hljs-string">"æ‰§è¡Œé”€æ¯æ–¹æ³•: "</span> +
                        clazz.getSimpleName() + <span class="hljs-string">"."</span> + method.getName());
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    e.printStackTrace();
                }
            }
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-23">8. å®Œæ•´ç¤ºä¾‹ï¼šä½¿ç”¨æ‰‹å†™IoC</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7225b7399aa845969344a1bd35e85acc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768275935&amp;x-signature=9f5E7fmFFl60d8nQ0ZgahrLKiw8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-24">8.1 åˆ›å»ºApplicationContext</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.myspring.core;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * åº”ç”¨ä¸Šä¸‹æ–‡ï¼šæ•´åˆæ‰€æœ‰åŠŸèƒ½
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApplicationContext</span> {

    <span class="hljs-keyword">private</span> BeanFactory beanFactory;
    <span class="hljs-keyword">private</span> DependencyInjector injector;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ApplicationContext</span><span class="hljs-params">(String basePackage)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºBeanå·¥å‚</span>
        beanFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanFactory</span>();

        <span class="hljs-comment">// 2. æ‰«æç»„ä»¶</span>
        System.out.println(<span class="hljs-string">"========== å¼€å§‹æ‰«æç»„ä»¶ =========="</span>);
        List&lt;Class&lt;?&gt;&gt; componentClasses = ClassScanner.scanComponents(basePackage);

        <span class="hljs-comment">// 3. æ³¨å†ŒBeanå®šä¹‰</span>
        System.out.println(<span class="hljs-string">"\n========== æ³¨å†ŒBeanå®šä¹‰ =========="</span>);
        <span class="hljs-keyword">for</span> (Class&lt;?&gt; clazz : componentClasses) {
            beanFactory.registerBeanDefinition(clazz);
        }

        <span class="hljs-comment">// 4. å®ä¾‹åŒ–æ‰€æœ‰å•ä¾‹Bean</span>
        System.out.println(<span class="hljs-string">"\n========== å®ä¾‹åŒ–å•ä¾‹Bean =========="</span>);
        <span class="hljs-keyword">for</span> (BeanDefinition bd : beanFactory.getBeanDefinitions().values()) {
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"singleton"</span>.equals(bd.getScope())) {
                beanFactory.getBean(bd.getBeanName());
            }
        }

        <span class="hljs-comment">// 5. ä¾èµ–æ³¨å…¥</span>
        System.out.println(<span class="hljs-string">"\n========== æ‰§è¡Œä¾èµ–æ³¨å…¥ =========="</span>);
        injector = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DependencyInjector</span>(beanFactory);
        injector.injectDependencies();

        <span class="hljs-comment">// 6. æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•</span>
        System.out.println(<span class="hljs-string">"\n========== æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³• =========="</span>);
        <span class="hljs-keyword">for</span> (BeanDefinition bd : beanFactory.getBeanDefinitions().values()) {
            <span class="hljs-type">Object</span> <span class="hljs-variable">bean</span> <span class="hljs-operator">=</span> beanFactory.getBean(bd.getBeanName());
            LifecycleManager.invokeInitMethod(bean);
        }

        System.out.println(<span class="hljs-string">"\n========== IoCå®¹å™¨å¯åŠ¨å®Œæˆ ==========\n"</span>);
    }

    <span class="hljs-comment">/**
     * è·å–Bean
     */</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getBean</span><span class="hljs-params">(String beanName)</span> {
        <span class="hljs-keyword">return</span> beanFactory.getBean(beanName);
    }

    <span class="hljs-comment">/**
     * æ ¹æ®ç±»å‹è·å–Bean
     */</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getBean</span><span class="hljs-params">(Class&lt;T&gt; clazz)</span> {
        <span class="hljs-keyword">return</span> (T) beanFactory.getBean(clazz);
    }

    <span class="hljs-comment">/**
     * å…³é—­å®¹å™¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"\n========== å…³é—­IoCå®¹å™¨ =========="</span>);
        <span class="hljs-keyword">for</span> (BeanDefinition bd : beanFactory.getBeanDefinitions().values()) {
            <span class="hljs-type">Object</span> <span class="hljs-variable">bean</span> <span class="hljs-operator">=</span> beanFactory.getBean(bd.getBeanName());
            LifecycleManager.invokeDestroyMethod(bean);
        }
    }
}
</code></pre>
<h4 data-id="heading-25">8.2 ç¼–å†™æµ‹è¯•ç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.dao;

<span class="hljs-keyword">import</span> com.myspring.annotation.Component;

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDao</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"UserDao: ä¿å­˜ç”¨æˆ·æ•°æ®"</span>);
    }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.service;

<span class="hljs-keyword">import</span> com.example.dao.UserDao;
<span class="hljs-keyword">import</span> com.myspring.annotation.Autowired;
<span class="hljs-keyword">import</span> com.myspring.annotation.Component;
<span class="hljs-keyword">import</span> com.myspring.annotation.PostConstruct;
<span class="hljs-keyword">import</span> com.myspring.annotation.PreDestroy;

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserDao userDao;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">register</span><span class="hljs-params">(String username)</span> {
        System.out.println(<span class="hljs-string">"UserService: æ³¨å†Œç”¨æˆ· "</span> + username);
        userDao.save();
    }

    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"UserServiceåˆå§‹åŒ–å®Œæˆ"</span>);
    }

    <span class="hljs-meta">@PreDestroy</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"UserServiceå‡†å¤‡é”€æ¯"</span>);
    }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example;

<span class="hljs-keyword">import</span> com.example.service.UserService;
<span class="hljs-keyword">import</span> com.myspring.core.ApplicationContext;

<span class="hljs-comment">/**
 * æµ‹è¯•ç±»
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºIoCå®¹å™¨</span>
        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ApplicationContext</span>(<span class="hljs-string">"com.example"</span>);

        <span class="hljs-comment">// è·å–Beanå¹¶ä½¿ç”¨</span>
        <span class="hljs-type">UserService</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> context.getBean(UserService.class);
        userService.register(<span class="hljs-string">"å¼ ä¸‰"</span>);

        <span class="hljs-comment">// å…³é—­å®¹å™¨</span>
        context.close();
    }
}
</code></pre>
<h4 data-id="heading-26">8.3 è¿è¡Œè¾“å‡º</h4>
<pre><code class="hljs language-makefile" lang="makefile">========== å¼€å§‹æ‰«æç»„ä»¶ ==========
<span class="hljs-section">æ‰«æåˆ°ç»„ä»¶: com.example.dao.UserDao</span>
<span class="hljs-section">æ‰«æåˆ°ç»„ä»¶: com.example.service.UserService</span>

========== æ³¨å†ŒBeanå®šä¹‰ ==========
<span class="hljs-section">æ³¨å†ŒBean: userDao, ä½œç”¨åŸŸ: singleton</span>
<span class="hljs-section">æ³¨å†ŒBean: userService, ä½œç”¨åŸŸ: singleton</span>

========== å®ä¾‹åŒ–å•ä¾‹Bean ==========
<span class="hljs-section">åˆ›å»ºBeanå®ä¾‹: userDao</span>
<span class="hljs-section">åˆ›å»ºBeanå®ä¾‹: userService</span>

========== æ‰§è¡Œä¾èµ–æ³¨å…¥ ==========
<span class="hljs-section">æ³¨å…¥ä¾èµ–: UserService.userDao</span>

========== æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³• ==========
<span class="hljs-section">æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•: UserService.init</span>
UserServiceåˆå§‹åŒ–å®Œæˆ

========== IoCå®¹å™¨å¯åŠ¨å®Œæˆ ==========

<span class="hljs-section">UserService: æ³¨å†Œç”¨æˆ· å¼ ä¸‰</span>
<span class="hljs-section">UserDao: ä¿å­˜ç”¨æˆ·æ•°æ®</span>

========== å…³é—­IoCå®¹å™¨ ==========
<span class="hljs-section">æ‰§è¡Œé”€æ¯æ–¹æ³•: UserService.destroy</span>
UserServiceå‡†å¤‡é”€æ¯
</code></pre>
<hr/>
<h3 data-id="heading-27">9. æ€»ç»“</h3>
<h4 data-id="heading-28">9.1 æ ¸å¿ƒè¦ç‚¹</h4>
<p>é€šè¿‡æ‰‹å†™IoCå®¹å™¨ï¼Œæˆ‘ä»¬æ·±å…¥ç†è§£äº†ï¼š</p>
<ol>
<li><strong>æ³¨è§£æœºåˆ¶</strong> - ä½¿ç”¨<code>@Retention</code>ã€<code>@Target</code>å®šä¹‰æ³¨è§£</li>
<li><strong>åå°„æŠ€æœ¯</strong> - ç±»åŠ è½½ã€å®ä¾‹åˆ›å»ºã€å­—æ®µæ³¨å…¥</li>
<li><strong>æ‰«æè§£æ</strong> - é€’å½’æ‰«æåŒ…è·¯å¾„ï¼Œè§£ææ³¨è§£ä¿¡æ¯</li>
<li><strong>Beanç®¡ç†</strong> - å•ä¾‹/åŸå‹æ¨¡å¼ï¼ŒBeanå®šä¹‰å­˜å‚¨</li>
<li><strong>ä¾èµ–æ³¨å…¥</strong> - è‡ªåŠ¨æŸ¥æ‰¾å’Œæ³¨å…¥ä¾èµ–å¯¹è±¡</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸ</strong> - åˆå§‹åŒ–å’Œé”€æ¯å›è°ƒæ–¹æ³•</li>
</ol>
<h4 data-id="heading-29">9.2 ä¸Spring IoCçš„å¯¹æ¯”</h4>








































<table><thead><tr><th>åŠŸèƒ½</th><th>æ‰‹å†™ç‰ˆæœ¬</th><th>Spring IoC</th></tr></thead><tbody><tr><td>æ³¨è§£æ‰«æ</td><td>ç®€å•é€’å½’</td><td>é«˜æ€§èƒ½ASMå­—èŠ‚ç æ‰«æ</td></tr><tr><td>Beanç®¡ç†</td><td>Mapå­˜å‚¨</td><td>å¤šçº§ç¼“å­˜+å¾ªç¯ä¾èµ–å¤„ç†</td></tr><tr><td>ä¾èµ–æ³¨å…¥</td><td>å­—æ®µæ³¨å…¥</td><td>å­—æ®µ+æ„é€ å™¨+Setter</td></tr><tr><td>ä½œç”¨åŸŸ</td><td>singleton/prototype</td><td>æ›´å¤šä½œç”¨åŸŸ</td></tr><tr><td>AOPæ”¯æŒ</td><td>æ— </td><td>å®Œæ•´AOPæ¡†æ¶</td></tr><tr><td>æ€§èƒ½ä¼˜åŒ–</td><td>åŸºç¡€</td><td>å¤§é‡ä¼˜åŒ–ç­–ç•¥</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨å¡«å……è¡¨æ ¼æ³•-åƒé€01èƒŒåŒ…åŠå…¶å˜å½¢]]></title>    <link>https://juejin.cn/post/7591788451029565483</link>    <guid>https://juejin.cn/post/7591788451029565483</guid>    <pubDate>2026-01-06T05:43:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591788451029565483" data-draft-id="7591948263859863590" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨å¡«å……è¡¨æ ¼æ³•-åƒé€01èƒŒåŒ…åŠå…¶å˜å½¢"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-06T05:43:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢œé…±"/> <meta itemprop="url" content="https://juejin.cn/user/905653309941495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨å¡«å……è¡¨æ ¼æ³•-åƒé€01èƒŒåŒ…åŠå…¶å˜å½¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/905653309941495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢œé…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T05:43:08.000Z" title="Tue Jan 06 2026 05:43:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»29åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç”¨å¡«å……è¡¨æ ¼æ³•åƒé€01èƒŒåŒ…åŠå…¶å˜å½¢</h2>
<p>01èƒŒåŒ…é—®é¢˜æ˜¯åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programming, DPï¼‰é¢†åŸŸæœ€ç»å…¸ã€æœ€åŸºç¡€çš„æ¨¡å‹ä¹‹ä¸€ï¼Œåç»­å¾ˆå¤šå¤æ‚çš„DPé—®é¢˜éƒ½å¯çœ‹ä½œæ˜¯å®ƒçš„å˜å½¢æˆ–å»¶ä¼¸ã€‚æœ¬æ–‡å°†ä»"è¡¨æ ¼å¯è§†åŒ–"æ ¸å¿ƒæ€è·¯å‡ºå‘ï¼Œå…ˆé€šè¿‡ç©ºè¡¨æ ¼å»ºç«‹è§£é¢˜æ¡†æ¶ï¼Œå†ç”¨DPè§£é¢˜5æ­¥"ä¸‡èƒ½é’¥åŒ™"é€æ­¥å¡«å……è¡¨æ ¼ï¼Œæœ€ç»ˆè¦†ç›–åŸºç¡€01èƒŒåŒ…è§£æ³•ã€ç©ºé—´ä¼˜åŒ–æŠ€å·§ï¼Œä»¥åŠ4ç±»ç»å…¸å˜å½¢çš„å®Œæ•´æ‹†è§£ï¼ˆå«ä»£ç å®ç°ï¼‰ï¼Œå¸®ä½ å½»åº•åƒé€01èƒŒåŒ…é—®é¢˜ã€‚</p>
<p>åŠ¨æ€è§„åˆ’é›¶åŸºç¡€çš„è¯ï¼Œæ¨èå…ˆçœ‹<a href="https://juejin.cn/post/7591207451778875418" target="_blank" title="https://juejin.cn/post/7591207451778875418">ä»ç»å…¸é—®é¢˜å…¥æ‰‹ï¼Œåƒé€åŠ¨æ€è§„åˆ’æ ¸å¿ƒï¼ˆDPäº”éƒ¨æ›²å®æˆ˜ï¼‰</a></p>
<p>æ ¸å¿ƒå‰ç½®è®¤çŸ¥ï¼š01èƒŒåŒ…çš„æœ¬è´¨æ˜¯"é€‰æˆ–ä¸é€‰"çš„äºŒé€‰ä¸€å†³ç­–â€”â€”æœ‰nä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰é‡é‡å’Œä»·å€¼ï¼ŒèƒŒåŒ…æœ‰å›ºå®šå®¹é‡ï¼Œè¦æ±‚é€‰æ‹©è‹¥å¹²ç‰©å“æ”¾å…¥èƒŒåŒ…ï¼Œä½¿å¾—æ€»é‡é‡ä¸è¶…è¿‡å®¹é‡çš„å‰æä¸‹ï¼Œæ€»ä»·å€¼æœ€å¤§ï¼ˆåŸºç¡€æ¨¡å‹ï¼‰ã€‚åç»­æ‰€æœ‰å˜å½¢éƒ½å›´ç»•"é€‰æˆ–ä¸é€‰"çš„æ ¸å¿ƒé€»è¾‘å±•å¼€ï¼Œåªæ˜¯"ç‰©å“""å®¹é‡""ç›®æ ‡"çš„å…·ä½“å«ä¹‰ä¸åŒã€‚</p>
<p>åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programming, DPï¼‰è§£å†³é—®é¢˜çš„æ ¸å¿ƒé€»è¾‘ï¼Œæœ¬è´¨æ˜¯é€šè¿‡<strong>å¡«å……è¡¨æ ¼</strong>é€æ­¥æ¨å¯¼æœ€ä¼˜è§£â€”â€”æŠŠå¤æ‚çš„å¤šé˜¶æ®µå†³ç­–é—®é¢˜ï¼Œè½¬åŒ–ä¸ºæŒ‰è§„åˆ™å¡«å……è¡¨æ ¼çš„å¯è§†åŒ–è¿‡ç¨‹ã€‚ä»¥01èƒŒåŒ…é—®é¢˜ï¼ˆæœ€ç»å…¸çš„DPæ¨¡å‹ï¼‰ä¸ºä¾‹ï¼Œæˆ‘ä»¬å…ˆæ˜ç¡®æœ€ç»ˆè¦å¡«å……çš„æ ¸å¿ƒè¡¨æ ¼å½¢æ€ï¼Œåç»­æ‰€æœ‰è§£é¢˜æ­¥éª¤éƒ½æ˜¯ä¸ºäº†æŒ‰è§„åˆ™å®Œæˆè¿™å¼ è¡¨æ ¼ï¼Œè¡¨æ ¼å¡«å®Œä¹‹æ—¶ï¼Œå°±æ˜¯é—®é¢˜è§£å†³ä¹‹æ—¥ã€‚</p>
<p>01èƒŒåŒ…é—®é¢˜æ ¸å¿ƒè¡¨æ ¼ï¼ˆç©ºè¡¨ï¼Œåç»­é€æ­¥å¡«å……ï¼‰ï¼š</p>





















































<table><thead><tr><th>å‰iä¸ªç‰©å“\èƒŒåŒ…å®¹é‡j</th><th>0ï¼ˆå®¹é‡ä¸º0ï¼‰</th><th>1ï¼ˆå®¹é‡ä¸º1ï¼‰</th><th>2ï¼ˆå®¹é‡ä¸º2ï¼‰</th><th>...ï¼ˆå®¹é‡é€’å¢ï¼‰</th><th>Cï¼ˆèƒŒåŒ…æœ€å¤§å®¹é‡ï¼‰</th></tr></thead><tbody><tr><td>0ï¼ˆæ— ç‰©å“ï¼‰</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>1ï¼ˆç¬¬1ä¸ªç‰©å“ï¼‰</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>2ï¼ˆç¬¬2ä¸ªç‰©å“ï¼‰</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>...ï¼ˆç‰©å“é€’å¢ï¼‰</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>nï¼ˆç¬¬nä¸ªç‰©å“ï¼‰</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……ï¼ˆæœ€ç»ˆç­”æ¡ˆï¼‰</td></tr></tbody></table>
<p>è¡¨æ ¼è¯´æ˜ï¼šè¡¨æ ¼ä¸­æ¯ä¸ªå•å…ƒæ ¼<code>dp[i][j]</code>ä»£è¡¨ã€Œå‰iä¸ªç‰©å“æ”¾å…¥å®¹é‡ä¸ºjçš„èƒŒåŒ…çš„æœ€å¤§ä»·å€¼ã€ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯æŒ‰è§„åˆ™å¡«å……æ‰€æœ‰å•å…ƒæ ¼ï¼Œæœ€ç»ˆå³ä¸‹è§’<code>dp[n][C]</code>å³ä¸º01èƒŒåŒ…é—®é¢˜çš„æœ€ä¼˜è§£ã€‚</p>
<p>è¦æœ‰åºã€æ­£ç¡®åœ°å¡«å……è¿™å¼ è¡¨æ ¼ï¼Œéœ€è¦éµå¾ªDPè§£é¢˜çš„5æ­¥ã€Œä¸‡èƒ½é’¥åŒ™ã€â€”â€”è¿™æ˜¯è´¯ç©¿æ‰€æœ‰DPé—®é¢˜çš„é€šç”¨æ‹†è§£æ€è·¯ï¼Œæ¯ä¸€æ­¥éƒ½å¯¹åº”è¡¨æ ¼å¡«å……çš„å…³é”®ç¯èŠ‚ï¼š</p>
<ol>
<li>
<p><strong>ç¡®å®šdpæ•°ç»„åŠä¸‹æ ‡çš„å«ä¹‰</strong>ï¼šå®šä¹‰è¡¨æ ¼ä¸­æ¯ä¸ªå•å…ƒæ ¼çš„æ ¸å¿ƒæ„ä¹‰ï¼ˆå³<code>dp[i][j]</code>ä»£è¡¨ä»€ä¹ˆï¼‰ï¼Œè¿™æ˜¯å¡«å……è¡¨æ ¼çš„åŸºç¡€ï¼›</p>
</li>
<li>
<p><strong>ç¡®å®šé€’æ¨å…¬å¼</strong>ï¼šæ˜ç¡®å•å…ƒæ ¼<code>dp[i][j]</code>çš„æ•°å€¼å¦‚ä½•é€šè¿‡å…¶ä»–å·²å¡«å……å•å…ƒæ ¼æ¨å¯¼å¾—å‡ºï¼ˆå³"é€‰æˆ–ä¸é€‰"çš„å†³ç­–é€»è¾‘ï¼‰ï¼Œè¿™æ˜¯è¡¨æ ¼å¡«å……çš„æ ¸å¿ƒè§„åˆ™ï¼›</p>
</li>
<li>
<p><strong>dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</strong>ï¼šç¡®å®šè¡¨æ ¼çš„åˆå§‹çŠ¶æ€ï¼ˆå¦‚æ— ç‰©å“ã€å®¹é‡ä¸º0æ—¶çš„å•å…ƒæ ¼å€¼ï¼‰ï¼Œè¿™æ˜¯è¡¨æ ¼å¡«å……çš„èµ·ç‚¹ï¼›</p>
</li>
<li>
<p><strong>ç¡®å®šéå†é¡ºåºï¼ˆè¡¨æ ¼å¡«å……é¡ºåºï¼‰</strong>ï¼šæ˜ç¡®æŒ‰ä»€ä¹ˆé¡ºåºé€ä¸ªå¡«å†™è¡¨æ ¼ä¸­çš„å•å…ƒæ ¼ï¼ˆå¦‚å…ˆé€è¡Œå¡«ã€å†é€åˆ—å¡«ï¼‰ï¼Œç¡®ä¿æ¨å¯¼æ—¶ä¾èµ–çš„å•å…ƒæ ¼å·²æå‰å¡«å……ï¼›</p>
</li>
<li>
<p><strong>æ‰“å°dpæ•°ç»„ï¼ˆéªŒè¯ï¼‰</strong>ï¼šé€šè¿‡é€æ­¥å¡«å……è¡¨æ ¼ã€æ‰“å°ä¸­é—´ç»“æœï¼ŒéªŒè¯å¡«å……è§„åˆ™çš„æ­£ç¡®æ€§ï¼Œé¿å…é€»è¾‘åå·®ã€‚</p>
</li>
</ol>
<p>åç»­æ‰€æœ‰01èƒŒåŒ…åŠå˜å½¢é—®é¢˜çš„åˆ†æï¼Œéƒ½å°†å›´ç»•è¿™5æ­¥ã€Œä¸‡èƒ½é’¥åŒ™ã€å±•å¼€ï¼Œæœ¬è´¨å°±æ˜¯ç”¨è¿™5æ­¥è§„åˆ™å®Œæˆå¯¹åº”è¡¨æ ¼çš„å¡«å……ï¼Œæœ€ç»ˆé€šè¿‡è¡¨æ ¼å¾—åˆ°é—®é¢˜ç­”æ¡ˆã€‚</p>
<h3 data-id="heading-1">ä¸€ã€åŸºç¡€01èƒŒåŒ…ï¼ˆäºŒç»´DPè§£æ³•ï¼‰</h3>
<p>æˆ‘ä»¬å…ˆä»æœ€ç›´è§‚çš„äºŒç»´DPè§£æ³•å…¥æ‰‹ï¼Œä¸¥æ ¼æŒ‰ç…§5æ­¥ã€Œä¸‡èƒ½é’¥åŒ™ã€æ‹†è§£ï¼Œå®Œæ•´æ¼”ç¤ºåŸºç¡€è¡¨æ ¼çš„å¡«å……è¿‡ç¨‹ã€‚</p>
<p>ç¤ºä¾‹ï¼šæœ‰4ä¸ªç‰©å“ï¼Œé‡é‡æ•°ç»„<code>weights = [2,3,4,5]</code>ï¼Œä»·å€¼æ•°ç»„<code>values = [3,4,5,6]</code>ï¼ŒèƒŒåŒ…æœ€å¤§å®¹é‡<code>capacity = 8</code>ï¼Œæ±‚èƒ½æ”¾å…¥èƒŒåŒ…çš„æœ€å¤§ä»·å€¼ã€‚</p>
<h4 data-id="heading-2">1.1 æ­¥éª¤1ï¼šç¡®å®šdpæ•°ç»„åŠä¸‹æ ‡çš„å«ä¹‰</h4>
<p>å®šä¹‰äºŒç»´æ•°ç»„<code>dp[i][j]</code>ï¼šè¡¨ç¤ºã€Œå‰iä¸ªç‰©å“æ”¾å…¥å®¹é‡ä¸ºjçš„èƒŒåŒ…ä¸­ï¼Œèƒ½è·å¾—çš„æœ€å¤§ä»·å€¼ã€ã€‚</p>
<p>å¯¹åº”è¡¨æ ¼ç»´åº¦ï¼šiï¼ˆè¡Œï¼‰è¡¨ç¤ºç‰©å“æ•°é‡ï¼ˆä»0åˆ°4ï¼Œ0ä»£è¡¨æ— ç‰©å“ï¼‰ï¼Œjï¼ˆåˆ—ï¼‰è¡¨ç¤ºèƒŒåŒ…å®¹é‡ï¼ˆä»0åˆ°8ï¼Œ0ä»£è¡¨å®¹é‡ä¸º0ï¼‰ï¼Œè¡¨æ ¼å…±5è¡Œ9åˆ—ï¼ˆi:0-4ï¼Œj:0-8ï¼‰ã€‚</p>
<h4 data-id="heading-3">1.2 æ­¥éª¤2ï¼šç¡®å®šé€’æ¨å…¬å¼</h4>
<p>å¯¹äºç¬¬iä¸ªç‰©å“ï¼ˆé‡é‡<code>weights[i-1]</code>ã€ä»·å€¼<code>values[i-1]</code>ï¼Œæ³¨æ„æ•°ç»„ç´¢å¼•ä»0å¼€å§‹ï¼Œiä»1å¼€å§‹ï¼‰ï¼Œæœ‰ä¸¤ç§æ ¸å¿ƒå†³ç­–ï¼šé€‰æˆ–ä¸é€‰ã€‚</p>
<ol>
<li>
<p><strong>ä¸é€‰ç¬¬iä¸ªç‰©å“</strong>ï¼šå‰iä¸ªç‰©å“çš„æœ€å¤§ä»·å€¼ = å‰i-1ä¸ªç‰©å“çš„æœ€å¤§ä»·å€¼ï¼Œå³<code>dp[i][j] = dp[i-1][j]</code>ï¼›</p>
</li>
<li>
<p><strong>é€‰ç¬¬iä¸ªç‰©å“</strong>ï¼šéœ€ä¿è¯èƒŒåŒ…å®¹é‡j â‰¥ ç¬¬iä¸ªç‰©å“çš„é‡é‡ï¼Œæ­¤æ—¶æœ€å¤§ä»·å€¼ = å‰i-1ä¸ªç‰©å“æ”¾å…¥å®¹é‡j-weights[i-1]çš„èƒŒåŒ…çš„æœ€å¤§ä»·å€¼ + ç¬¬iä¸ªç‰©å“çš„ä»·å€¼ï¼Œå³<code>dp[i][j] = dp[i-1][j - weights[i-1]] + values[i-1]</code>ã€‚</p>
</li>
</ol>
<p>æœ€ç»ˆé€’æ¨å…¬å¼ï¼ˆå–ä¸¤ç§å†³ç­–çš„æœ€å¤§å€¼ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (j &lt; weights[i - <span class="hljs-number">1</span>]) {
  <span class="hljs-comment">// å®¹é‡ä¸è¶³ï¼Œæ— æ³•é€‰ç¬¬iä¸ªç‰©å“</span>
  dp[i][j] = dp[i - <span class="hljs-number">1</span>][j];
} <span class="hljs-keyword">else</span> {
  <span class="hljs-comment">// å®¹é‡å……è¶³ï¼Œé€‰æˆ–ä¸é€‰å–æœ€å¤§å€¼</span>
  dp[i][j] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[i - <span class="hljs-number">1</span>][j], dp[i - <span class="hljs-number">1</span>][j - weights[i - <span class="hljs-number">1</span>]] + values[i - <span class="hljs-number">1</span>]);
}
</code></pre>
<p>è¿™å°±æ˜¯è¡¨æ ¼ä¸­æ¯ä¸ªå•å…ƒæ ¼çš„å¡«å……è§„åˆ™â€”â€”æ¯ä¸ªå•å…ƒæ ¼çš„å€¼è¦ä¹ˆç»§æ‰¿ä¸Šä¸€è¡ŒåŒåˆ—çš„å€¼ï¼Œè¦ä¹ˆç»§æ‰¿ä¸Šä¸€è¡Œå·¦ä¾§å¯¹åº”å®¹é‡çš„çš„å€¼å¹¶åŠ ä¸Šå½“å‰ç‰©å“ä»·å€¼ï¼Œå–ä¸¤è€…æœ€å¤§ã€‚</p>
<h4 data-id="heading-4">1.3 æ­¥éª¤3ï¼šdpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</h4>
<p>åˆå§‹åŒ–çš„æ ¸å¿ƒæ˜¯ç¡®å®šè¡¨æ ¼çš„â€œè¾¹ç•Œæ¡ä»¶â€ï¼Œå³æ— éœ€æ¨å¯¼å°±èƒ½ç›´æ¥ç¡®å®šçš„å•å…ƒæ ¼å€¼ã€‚</p>
<ol>
<li>
<p><strong>i=0ï¼ˆæ— ç‰©å“ï¼‰</strong>ï¼šæ— è®ºèƒŒåŒ…å®¹é‡jå¤šå¤§ï¼Œæ”¾å…¥0ä¸ªç‰©å“çš„æœ€å¤§ä»·å€¼éƒ½æ˜¯0ï¼Œå› æ­¤<code>dp[0][j] = 0</code>ï¼ˆè¡¨æ ¼ç¬¬0è¡Œå…¨ä¸º0ï¼‰ï¼›</p>
</li>
<li>
<p><strong>j=0ï¼ˆå®¹é‡ä¸º0ï¼‰</strong>ï¼šæ— è®ºæœ‰å¤šå°‘ç‰©å“ï¼Œéƒ½æ— æ³•æ”¾å…¥èƒŒåŒ…ï¼Œæœ€å¤§ä»·å€¼éƒ½æ˜¯0ï¼Œå› æ­¤<code>dp[i][0] = 0</code>ï¼ˆè¡¨æ ¼ç¬¬0åˆ—å…¨ä¸º0ï¼‰ã€‚</p>
</li>
</ol>
<p>åˆå§‹åŒ–åçš„è¡¨æ ¼ï¼ˆç¬¬0è¡Œã€ç¬¬0åˆ—å·²å¡«å……ï¼‰ï¼š</p>













































































<table><thead><tr><th>å‰iä¸ªç‰©å“\èƒŒåŒ…å®¹é‡j</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th></tr></thead><tbody><tr><td>0ï¼ˆæ— ç‰©å“ï¼‰</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>1ï¼ˆç‰©å“1ï¼šw=2,v=3ï¼‰</td><td>0</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr><tr><td>2ï¼ˆç‰©å“2ï¼šw=3,v=4ï¼‰</td><td>0</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr><tr><td>3ï¼ˆç‰©å“3ï¼šw=4,v=5ï¼‰</td><td>0</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr><tr><td>4ï¼ˆç‰©å“4ï¼šw=5,v=6ï¼‰</td><td>0</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr></tbody></table>
<h4 data-id="heading-5">1.4 æ­¥éª¤4ï¼šç¡®å®šéå†é¡ºåºï¼ˆè¡¨æ ¼å¡«å……é¡ºåºï¼‰</h4>
<p>éå†é¡ºåºç›´æ¥å¯¹åº”äºŒç»´è¡¨æ ¼çš„å¡«å……é¡ºåºâ€”â€”å³ã€ŒæŒ‰ä»€ä¹ˆé¡ºåºé€ä¸ªå¡«å†™è¡¨æ ¼ä¸­çš„å•å…ƒæ ¼ã€ï¼Œè¿™é‡Œæœ‰ä¸¤ç§å¯è¡Œæ–¹å¼ï¼š</p>
<ol>
<li>
<p><strong>å…ˆéå†ç‰©å“ï¼ˆiä»1åˆ°nï¼‰ï¼Œå†éå†å®¹é‡ï¼ˆjä»1åˆ°Cï¼‰</strong>ï¼šé€è¡Œå¡«å……è¡¨æ ¼ï¼Œå…ˆå¡«å®Œç¬¬1ä¸ªç‰©å“å¯¹åº”çš„æ‰€æœ‰å®¹é‡ï¼ˆç¬¬1è¡Œï¼‰ï¼Œå†å¡«ç¬¬2ä¸ªç‰©å“å¯¹åº”çš„æ‰€æœ‰å®¹é‡ï¼ˆç¬¬2è¡Œï¼‰ï¼Œç›´åˆ°å¡«å®Œæ‰€æœ‰ç‰©å“ï¼›</p>
</li>
<li>
<p><strong>å…ˆéå†å®¹é‡ï¼ˆjä»1åˆ°Cï¼‰ï¼Œå†éå†ç‰©å“ï¼ˆiä»1åˆ°nï¼‰</strong>ï¼šé€åˆ—å¡«å……è¡¨æ ¼ï¼Œå…ˆå¡«å®Œå®¹é‡1å¯¹åº”çš„æ‰€æœ‰ç‰©å“æ•°é‡ï¼ˆç¬¬1åˆ—ï¼‰ï¼Œå†å¡«å®¹é‡2å¯¹åº”çš„æ‰€æœ‰ç‰©å“æ•°é‡ï¼ˆç¬¬2åˆ—ï¼‰ï¼Œç›´åˆ°å¡«å®Œæ‰€æœ‰å®¹é‡ã€‚</p>
</li>
</ol>
<p>ä¸¤ç§é¡ºåºéƒ½å¯è¡Œï¼Œå› ä¸ºè®¡ç®—<code>dp[i][j]</code>æ—¶ï¼Œåªä¾èµ–ä¸Šä¸€è¡Œï¼ˆ<code>i-1</code>è¡Œï¼‰çš„ç»“æœï¼Œæ— è®ºå…ˆå¡«è¡Œè¿˜æ˜¯å…ˆå¡«åˆ—ï¼Œä¸Šä¸€è¡Œçš„å¯¹åº”ä½ç½®éƒ½å·²æå‰è®¡ç®—å®Œæˆã€‚è¿™å°±åƒå¡«å……ä¸€å¼ äºŒç»´è¡¨æ ¼ï¼šå…ˆéå†ç‰©å“å†éå†å®¹é‡ï¼Œæ˜¯<strong>é€è¡Œå¡«å……</strong>ï¼ˆæ¯ä¸€è¡Œå¯¹åº”ä¸€ä¸ªç‰©å“çš„å†³ç­–ï¼Œå¡«å®Œä¸€è¡Œå†å¤„ç†ä¸‹ä¸€ä¸ªç‰©å“ï¼‰ï¼›å…ˆéå†å®¹é‡å†éå†ç‰©å“ï¼Œæ˜¯<strong>é€åˆ—å¡«å……</strong>ï¼ˆæ¯ä¸€åˆ—å¯¹åº”ä¸€ä¸ªå›ºå®šå®¹é‡ï¼Œå…ˆç¡®å®šæ‰€æœ‰ç‰©å“åœ¨è¯¥å®¹é‡ä¸‹çš„æœ€ä¼˜è§£ï¼‰ã€‚å®é™…è§£é¢˜ä¸­æ›´å¸¸ç”¨ã€Œå…ˆéå†ç‰©å“ï¼Œå†éå†å®¹é‡ã€çš„é¡ºåºï¼Œç¬¦åˆæˆ‘ä»¬ã€Œé€ä¸ªè€ƒè™‘ç‰©å“æ˜¯å¦æ”¾å…¥ã€çš„æ€è€ƒé€»è¾‘ã€‚</p>
<h4 data-id="heading-6">1.5 æ­¥éª¤5ï¼šæ‰“å°dpæ•°ç»„ï¼ˆéªŒè¯ï¼‰</h4>
<p>è¿™ä¸€æ­¥æ˜¯ç›´æ¥éªŒè¯è¡¨æ ¼å¡«å……ç»“æœçš„æ­£ç¡®æ€§â€”â€”é€šè¿‡é€æ­¥å¡«å……è¡¨æ ¼ã€æ‰“å°ä¸­é—´çŠ¶æ€ï¼Œç¡®è®¤æ¯ä¸€æ­¥éƒ½ç¬¦åˆé€’æ¨è§„åˆ™ï¼Œé¿å…å› è§„åˆ™ç†è§£åå·®å¯¼è‡´å¡«å……é”™è¯¯ã€‚ä»¥ç¤ºä¾‹<code>weights = [2,3,4,5]</code>ã€<code>values = [3,4,5,6]</code>ã€<code>capacity = 8</code>ä¸ºä¾‹ï¼Œé€æ­¥å¡«å……æ ¸å¿ƒè¡¨æ ¼éªŒè¯é€»è¾‘ï¼š</p>
<ol>
<li>
<p><strong>å¡«å……ç¬¬1è¡Œï¼ˆi=1ï¼Œç‰©å“1ï¼šw=2,v=3ï¼‰</strong>ï¼š</p>
<p>å¡«å……åç¬¬1è¡Œï¼š[0,0,3,3,3,3,3,3,3]</p>
<ul>
<li>
<p>j=1ï¼šå®¹é‡&lt;2ï¼Œæ— æ³•é€‰ï¼Œdp[1][1] = dp[0][1] = 0ï¼›</p>
</li>
<li>
<p>j=2ï¼šå®¹é‡â‰¥2ï¼Œé€‰åˆ™ä»·å€¼=dp[0][0]+3=3ï¼Œä¸é€‰åˆ™0ï¼Œå–max=3ï¼›</p>
</li>
<li>
<p>j=3-8ï¼šé€‰åˆ™ä»·å€¼=dp[0][j-2]+3=3ï¼Œä¸é€‰åˆ™0ï¼Œå–max=3ï¼›</p>
</li>
</ul>
</li>
<li>
<p><strong>å¡«å……ç¬¬2è¡Œï¼ˆi=2ï¼Œç‰©å“2ï¼šw=3,v=4ï¼‰</strong>ï¼š</p>
<p>å¡«å……åç¬¬2è¡Œï¼š[0,0,3,4,4,7,7,7,7]</p>
<ul>
<li>
<p>j=1-2ï¼šå®¹é‡&lt;3ï¼Œdp[2][j] = dp[1][j]ï¼ˆ0,3ï¼‰ï¼›</p>
</li>
<li>
<p>j=3ï¼šé€‰åˆ™dp[1][0]+4=4ï¼Œä¸é€‰åˆ™3ï¼Œå–max=4ï¼›</p>
</li>
<li>
<p>j=4ï¼šé€‰åˆ™dp[1][1]+4=4ï¼Œä¸é€‰åˆ™3ï¼Œå–max=4ï¼›</p>
</li>
<li>
<p>j=5ï¼šé€‰åˆ™dp[1][2]+4=3+4=7ï¼Œä¸é€‰åˆ™3ï¼Œå–max=7ï¼›</p>
</li>
<li>
<p>j=6-8ï¼šé€‰åˆ™dp[1][j-3]+4=3+4=7ï¼Œä¸é€‰åˆ™3ï¼Œå–max=7ï¼›</p>
</li>
</ul>
</li>
<li>
<p><strong>å¡«å……ç¬¬3è¡Œï¼ˆi=3ï¼Œç‰©å“3ï¼šw=4,v=5ï¼‰</strong>ï¼š</p>
<p>å¡«å……åç¬¬3è¡Œï¼š[0,0,3,4,5,5,8,9,9]</p>
<ul>
<li>
<p>j=1-3ï¼šå®¹é‡&lt;4ï¼Œdp[3][j] = dp[2][j]ï¼ˆ0,0,3ï¼‰ï¼›</p>
</li>
<li>
<p>j=4ï¼šé€‰åˆ™dp[2][0]+5=5ï¼Œä¸é€‰åˆ™4ï¼Œå–max=5ï¼›</p>
</li>
<li>
<p>j=5ï¼šé€‰åˆ™dp[2][1]+5=5ï¼Œä¸é€‰åˆ™4ï¼Œå–max=5ï¼›</p>
</li>
<li>
<p>j=6ï¼šé€‰åˆ™dp[2][2]+5=3+5=8ï¼Œä¸é€‰åˆ™7ï¼Œå–max=8ï¼›</p>
</li>
<li>
<p>j=7ï¼šé€‰åˆ™dp[2][3]+5=4+5=9ï¼Œä¸é€‰åˆ™7ï¼Œå–max=9ï¼›</p>
</li>
<li>
<p>j=8ï¼šé€‰åˆ™dp[2][4]+5=4+5=9ï¼Œä¸é€‰åˆ™7ï¼Œå–max=9ï¼›</p>
</li>
</ul>
</li>
<li>
<p><strong>å¡«å……ç¬¬4è¡Œï¼ˆi=4ï¼Œç‰©å“4ï¼šw=5,v=6ï¼‰</strong>ï¼š</p>
<p>å¡«å……åç¬¬4è¡Œï¼š[0,0,3,4,5,6,8,9,10]</p>
<ul>
<li>
<p>j=1-4ï¼šå®¹é‡&lt;5ï¼Œdp[4][j] = dp[3][j]ï¼ˆ0,0,3,4ï¼‰ï¼›</p>
</li>
<li>
<p>j=5ï¼šé€‰åˆ™dp[3][0]+6=6ï¼Œä¸é€‰åˆ™5ï¼Œå–max=6ï¼›</p>
</li>
<li>
<p>j=6ï¼šé€‰åˆ™dp[3][1]+6=6ï¼Œä¸é€‰åˆ™8ï¼Œå–max=8ï¼›</p>
</li>
<li>
<p>j=7ï¼šé€‰åˆ™dp[3][2]+6=3+6=9ï¼Œä¸é€‰åˆ™9ï¼Œå–max=9ï¼›</p>
</li>
<li>
<p>j=8ï¼šé€‰åˆ™dp[3][3]+6=4+6=10ï¼Œä¸é€‰åˆ™9ï¼Œå–max=10ï¼›</p>
</li>
</ul>
</li>
</ol>
<p>æœ€ç»ˆå¡«å……å®Œæˆçš„è¡¨æ ¼ï¼š</p>













































































<table><thead><tr><th>å‰iä¸ªç‰©å“\èƒŒåŒ…å®¹é‡j</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th></tr></thead><tbody><tr><td>0ï¼ˆæ— ç‰©å“ï¼‰</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>1ï¼ˆç‰©å“1ï¼šw=2,v=3ï¼‰</td><td>0</td><td>0</td><td>3</td><td>3</td><td>3</td><td>3</td><td>3</td><td>3</td><td>3</td></tr><tr><td>2ï¼ˆç‰©å“2ï¼šw=3,v=4ï¼‰</td><td>0</td><td>0</td><td>3</td><td>4</td><td>4</td><td>7</td><td>7</td><td>7</td><td>7</td></tr><tr><td>3ï¼ˆç‰©å“3ï¼šw=4,v=5ï¼‰</td><td>0</td><td>0</td><td>3</td><td>4</td><td>5</td><td>5</td><td>8</td><td>9</td><td>9</td></tr><tr><td>4ï¼ˆç‰©å“4ï¼šw=5,v=6ï¼‰</td><td>0</td><td>0</td><td>3</td><td>4</td><td>5</td><td>6</td><td>8</td><td>9</td><td>10</td></tr></tbody></table>
<p>è¡¨æ ¼å³ä¸‹è§’<code>dp[4][8] = 10</code>ï¼Œå³è¯¥ç¤ºä¾‹çš„æœ€å¤§ä»·å€¼ä¸º10ï¼Œä¸é¢„æœŸç»“æœä¸€è‡´ã€‚</p>
<h4 data-id="heading-7">1.6 åŸºç¡€äºŒç»´DPå®Œæ•´ä»£ç ï¼ˆJavaScriptï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * åŸºç¡€01èƒŒåŒ…ï¼ˆäºŒç»´DPè§£æ³•ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number[]</span>} <span class="hljs-variable">weights</span> - ç‰©å“é‡é‡æ•°ç»„
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number[]</span>} <span class="hljs-variable">values</span> - ç‰©å“ä»·å€¼æ•°ç»„
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">capacity</span> - èƒŒåŒ…æœ€å¤§å®¹é‡
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number</span>} - èƒŒåŒ…èƒ½å®¹çº³çš„æœ€å¤§ä»·å€¼
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">knapsack_2d</span>(<span class="hljs-params">weights, values, capacity</span>) {
  <span class="hljs-keyword">const</span> n = weights.<span class="hljs-property">length</span>;
  <span class="hljs-comment">// 1. åˆå§‹åŒ–äºŒç»´dpæ•°ç»„ï¼šdp[i][j]è¡¨ç¤ºå‰iä¸ªç‰©å“æ”¾å…¥å®¹é‡jçš„èƒŒåŒ…çš„æœ€å¤§ä»·å€¼</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(n + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(capacity + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>));

  <span class="hljs-comment">// 2. éå†é¡ºåºï¼šå…ˆéå†ç‰©å“ï¼ˆiä»1åˆ°nï¼‰ï¼Œå†éå†å®¹é‡ï¼ˆjä»1åˆ°capacityï¼‰ï¼ˆé€è¡Œå¡«å……ï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">1</span>; j &lt;= capacity; j++) {
      <span class="hljs-comment">// 3. é€’æ¨å…¬å¼ï¼šå®¹é‡ä¸è¶³åˆ™ä¸é€‰ï¼Œå®¹é‡å……è¶³åˆ™é€‰æˆ–ä¸é€‰å–æœ€å¤§å€¼</span>
      <span class="hljs-keyword">if</span> (j &lt; weights[i - <span class="hljs-number">1</span>]) {
        dp[i][j] = dp[i - <span class="hljs-number">1</span>][j];
      } <span class="hljs-keyword">else</span> {
        dp[i][j] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[i - <span class="hljs-number">1</span>][j], dp[i - <span class="hljs-number">1</span>][j - weights[i - <span class="hljs-number">1</span>]] + values[i - <span class="hljs-number">1</span>]);
      }
    }
  }

  <span class="hljs-comment">// æ‰“å°å®Œæ•´dpæ•°ç»„ï¼ˆè¡¨æ ¼ï¼‰éªŒè¯</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åŸºç¡€01èƒŒåŒ…äºŒç»´DPæ•°ç»„ï¼ˆè¡¨æ ¼ï¼‰ï¼š'</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= n; i++) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dp[i].<span class="hljs-title function_">join</span>(<span class="hljs-string">'\t'</span>));
  }

  <span class="hljs-comment">// æœ€ç»ˆç­”æ¡ˆï¼šå‰nä¸ªç‰©å“æ”¾å…¥å®¹é‡capacityçš„èƒŒåŒ…çš„æœ€å¤§ä»·å€¼</span>
  <span class="hljs-keyword">return</span> dp[n][capacity];
}

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-keyword">const</span> weights = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-keyword">const</span> values = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>];
<span class="hljs-keyword">const</span> capacity = <span class="hljs-number">8</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœ€å¤§ä»·å€¼ï¼š'</span>, <span class="hljs-title function_">knapsack_2d</span>(weights, values, capacity)); <span class="hljs-comment">// è¾“å‡ºï¼š10</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04007b9c90c043c08f458d6e98a0ef72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aKc6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768283152&amp;x-signature=9HKFGSi7y2mDqtD19DMDLI%2BtfWQ%3D" alt="dp2.png" loading="lazy"/></p>
<h4 data-id="heading-8">2.3 æ­¥éª¤3ï¼šdpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</h4>
<p>åˆå§‹åŒ–é€»è¾‘ä¸äºŒç»´ä¸€è‡´ï¼šå®¹é‡ä¸º0æ—¶ï¼Œæœ€å¤§ä»·å€¼ä¸º0ï¼Œå› æ­¤<code>dp[0] = 0</code>ï¼›å…¶ä»–å®¹é‡çš„åˆå§‹å€¼ä¹Ÿä¸º0ï¼ˆå› ä¸ºåˆå§‹æ— ç‰©å“å¯æ”¾ï¼Œæœ€å¤§ä»·å€¼ä¸º0ï¼‰ï¼Œå³<code>dp = new Array(capacity + 1).fill(0)</code>ã€‚</p>
<p>åˆå§‹åŒ–åçš„å•è¡Œè¡¨æ ¼ï¼š[0,0,0,0,0,0,0,0,0]ï¼ˆjä»0åˆ°8ï¼‰</p>
<h4 data-id="heading-9">2.4 æ­¥éª¤4ï¼šç¡®å®šéå†é¡ºåºï¼ˆè¡¨æ ¼å¡«å……é¡ºåºï¼‰</h4>
<p>ä¸€ç»´DPçš„éå†é¡ºåºæœ‰ä¸¥æ ¼è¦æ±‚ï¼Œæ ¸å¿ƒæ˜¯ã€Œå€’åºéå†å®¹é‡ã€ï¼Œå¯¹åº”å•è¡Œè¡¨æ ¼çš„ã€Œä»å³å¾€å·¦å¡«å……ã€â€”â€”æ˜ç¡®å•è¡Œè¡¨æ ¼çš„å¡«å……é¡ºåºæ˜¯é¿å…é‡å¤é€‰æ‹©ç‰©å“çš„å…³é”®ï¼š</p>
<ol>
<li>
<p><strong>å¿…é¡»å…ˆéå†ç‰©å“ï¼Œå†éå†å®¹é‡</strong>ï¼šé€ä¸ªå¤„ç†æ¯ä¸ªç‰©å“ï¼Œæ¯æ¬¡å¤„ç†æ—¶æ›´æ–°æ•´ä¸ªå•è¡Œè¡¨æ ¼ï¼ˆè¦†ç›–ä¸Šä¸€è¡Œç»“æœï¼‰ï¼›</p>
</li>
<li>
<p><strong>å®¹é‡å¿…é¡»å€’åºéå†ï¼ˆjä»Cåˆ°weights[i-1]ï¼‰</strong>ï¼šä»æœ€å¤§å®¹é‡å¾€å°å®¹é‡å¡«å……ï¼Œç¡®ä¿è®¡ç®—<code>dp[j]</code>æ—¶ï¼Œ<code>dp[j - weights[i-1]]</code>ä»æ˜¯ä¸Šä¸€è¡Œï¼ˆæœªå¤„ç†å½“å‰ç‰©å“ï¼‰çš„æ—§å€¼ï¼Œé¿å…åŒä¸€ç‰©å“è¢«å¤šæ¬¡é€‰æ‹©ã€‚</p>
</li>
</ol>
<p>å…³é”®åŸå› ï¼šä¸€ç»´DPçš„æ ¸å¿ƒæ˜¯ç”¨å•è¡Œè¡¨æ ¼å¤ç”¨äºŒç»´è¡¨æ ¼çš„ç©ºé—´ï¼Œè¡¨æ ¼ä¸­æ¯ä¸ªä½ç½®çš„æ•°å€¼éƒ½ä¾èµ–â€œä¸Šä¸€è½®æœªæ›´æ–°çš„æ—§å€¼â€ï¼ˆå¯¹åº”äºŒç»´çš„<code>dp[i-1][j - w[i]]</code>ï¼‰ã€‚è‹¥æ­£åºéå†å®¹é‡ï¼Œ<code>dp[j - w[i]]</code>ä¼šè¢«æå‰æ›´æ–°ï¼ˆç›¸å½“äºäºŒç»´çš„<code>dp[i][j - w[i]]</code>ï¼‰ï¼Œå¯¼è‡´åŒä¸€ä¸ªç‰©å“è¢«å¤šæ¬¡é€‰æ‹©ï¼ˆå˜æˆå®Œå…¨èƒŒåŒ…ï¼‰ï¼›å€’åºéå†èƒ½ä¿è¯è®¡ç®—<code>dp[j]</code>æ—¶ï¼Œ<code>dp[j - w[i]]</code>ä»æ˜¯ä¸Šä¸€è¡Œï¼ˆæœªé€‰å½“å‰ç‰©å“ï¼‰çš„ç»“æœï¼Œå¯¹åº”<strong>å•è¡Œè¡¨æ ¼ä»å³å¾€å·¦å¡«å……</strong>ï¼Œå®Œç¾å¥‘åˆ01èƒŒåŒ…ã€Œæ¯ä¸ªç‰©å“é€‰ä¸€æ¬¡ã€çš„è§„åˆ™ã€‚</p>
<p>åä¾‹ï¼ˆæ­£åºéå†å®¹é‡ï¼‰ï¼šè‹¥jä»weights[i-1]åˆ°Cæ­£åºéå†ï¼Œå¤„ç†ç‰©å“1ï¼ˆw=2,v=3ï¼‰æ—¶ï¼Œj=2ä¼šæ›´æ–°dp[2]=3ï¼Œj=4æ—¶ä¼šç”¨åˆ°dp[2]çš„æ–°å€¼ï¼ˆ3ï¼‰ï¼Œè®¡ç®—dp[4] = dp[4] + 3 = 3ï¼Œç›¸å½“äºæŠŠç‰©å“1æ”¾å…¥äº†ä¸¤æ¬¡ï¼Œè¿èƒŒ01èƒŒåŒ…è§„åˆ™ã€‚</p>
<h4 data-id="heading-10">2.5 æ­¥éª¤5ï¼šæ‰“å°dpæ•°ç»„ï¼ˆéªŒè¯ï¼‰</h4>
<p>é€šè¿‡æ‰“å°å•è¡Œè¡¨æ ¼çš„æ»šåŠ¨æ›´æ–°è¿‡ç¨‹ï¼ŒéªŒè¯å¡«å……è§„åˆ™çš„æ­£ç¡®æ€§ã€‚ä»ç”¨æµ‹è¯•ç”¨ä¾‹ <code>weights = [2,3,4,5]</code>ã€<code>values = [3,4,5,6]</code>ã€<code>capacity = 8</code>ï¼Œæ¼”ç¤ºä¸€ç»´DPæ•°ç»„ï¼ˆå•è¡Œè¡¨æ ¼ï¼‰çš„å¡«å……å˜åŒ–ï¼š</p>
<ol>
<li>
<p><strong>åˆå§‹çŠ¶æ€</strong>ï¼šdp = [0,0,0,0,0,0,0,0,0]</p>
</li>
<li>
<p><strong>å¤„ç†ç‰©å“1ï¼ˆw=2,v=3ï¼‰ï¼Œjä»8åˆ°2å€’åº</strong>ï¼š</p>
<p>æ›´æ–°åï¼šdp = [0,0,3,3,3,3,3,3,3]</p>
<ul>
<li>
<p>j=8ï¼šdp[8] = max(0, dp[8-2]+3) = max(0,0+3)=3ï¼›</p>
</li>
<li>
<p>j=7ï¼šdp[7] = max(0, dp[5]+3)=3ï¼›</p>
</li>
<li>
<p>...ï¼ˆj=2åˆ°6åŒç†ï¼‰ï¼›</p>
</li>
<li>
<p>j=2ï¼šdp[2] = max(0, dp[0]+3)=3ï¼›</p>
</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†ç‰©å“2ï¼ˆw=3,v=4ï¼‰ï¼Œjä»8åˆ°3å€’åº</strong>ï¼š</p>
<p>æ›´æ–°åï¼šdp = [0,0,3,4,4,7,7,7,7]</p>
<ul>
<li>
<p>j=8ï¼šmax(3, dp[5]+4)=max(3,3+4)=7ï¼›</p>
</li>
<li>
<p>j=7ï¼šmax(3, dp[4]+4)=max(3,3+4)=7ï¼›</p>
</li>
<li>
<p>j=6ï¼šmax(3, dp[3]+4)=max(3,3+4)=7ï¼›</p>
</li>
<li>
<p>j=5ï¼šmax(3, dp[2]+4)=max(3,3+4)=7ï¼›</p>
</li>
<li>
<p>j=4ï¼šmax(3, dp[1]+4)=max(3,0+4)=4ï¼›</p>
</li>
<li>
<p>j=3ï¼šmax(3, dp[0]+4)=max(3,0+4)=4ï¼›</p>
</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†ç‰©å“3ï¼ˆw=4,v=5ï¼‰ï¼Œjä»8åˆ°4å€’åº</strong>ï¼š</p>
<p>æ›´æ–°åï¼šdp = [0,0,3,4,5,5,8,9,9]</p>
<ul>
<li>
<p>j=8ï¼šmax(7, dp[4]+5)=max(7,4+5)=9ï¼›</p>
</li>
<li>
<p>j=7ï¼šmax(7, dp[3]+5)=max(7,4+5)=9ï¼›</p>
</li>
<li>
<p>j=6ï¼šmax(7, dp[2]+5)=max(7,3+5)=8ï¼›</p>
</li>
<li>
<p>j=5ï¼šmax(7, dp[1]+5)=max(7,0+5)=7ï¼›</p>
</li>
<li>
<p>j=4ï¼šmax(4, dp[0]+5)=max(4,0+5)=5ï¼›</p>
</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†ç‰©å“4ï¼ˆw=5,v=6ï¼‰ï¼Œjä»8åˆ°5å€’åº</strong>ï¼š</p>
<p>æ›´æ–°åï¼šdp = [0,0,3,4,5,6,8,9,10]</p>
<ul>
<li>
<p>j=8ï¼šmax(9, dp[3]+6)=max(9,4+6)=10ï¼›</p>
</li>
<li>
<p>j=7ï¼šmax(9, dp[2]+6)=max(9,3+6)=9ï¼›</p>
</li>
<li>
<p>j=6ï¼šmax(8, dp[1]+6)=max(8,0+6)=8ï¼›</p>
</li>
<li>
<p>j=5ï¼šmax(5, dp[0]+6)=max(5,0+6)=6ï¼›</p>
</li>
</ul>
</li>
</ol>
<p>æœ€ç»ˆå•è¡Œè¡¨æ ¼<code>dp[8] = 10</code>ï¼Œä¸äºŒç»´DPç»“æœä¸€è‡´ï¼ŒéªŒè¯äº†ä¼˜åŒ–çš„æ­£ç¡®æ€§ã€‚</p>
<h4 data-id="heading-11">2.6 ä¸€ç»´DPç©ºé—´ä¼˜åŒ–å®Œæ•´ä»£ç ï¼ˆJavaScriptï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * åŸºç¡€01èƒŒåŒ…ï¼ˆä¸€ç»´DPç©ºé—´ä¼˜åŒ–è§£æ³•ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number[]</span>} <span class="hljs-variable">weights</span> - ç‰©å“é‡é‡æ•°ç»„
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number[]</span>} <span class="hljs-variable">values</span> - ç‰©å“ä»·å€¼æ•°ç»„
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">capacity</span> - èƒŒåŒ…æœ€å¤§å®¹é‡
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number</span>} - èƒŒåŒ…èƒ½å®¹çº³çš„æœ€å¤§ä»·å€¼
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">knapsack_1d</span>(<span class="hljs-params">weights, values, capacity</span>) {
  <span class="hljs-keyword">const</span> n = weights.<span class="hljs-property">length</span>;
  <span class="hljs-comment">// 1. åˆå§‹åŒ–ä¸€ç»´dpæ•°ç»„ï¼šdp[j]è¡¨ç¤ºå®¹é‡jçš„èƒŒåŒ…çš„æœ€å¤§ä»·å€¼ï¼Œåˆå§‹å€¼0</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(capacity + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// 2. éå†é¡ºåºï¼šå…ˆéå†ç‰©å“ï¼ˆiä»0åˆ°n-1ï¼‰ï¼Œå†å€’åºéå†å®¹é‡ï¼ˆjä»capacityåˆ°weights[i]ï¼‰ï¼ˆä»å³å¾€å·¦å¡«å……ï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
    <span class="hljs-comment">// å€’åºéå†é¿å…é‡å¤é€‰æ‹©å½“å‰ç‰©å“</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = capacity; j &gt;= weights[i]; j--) {
      <span class="hljs-comment">// 3. é€’æ¨å…¬å¼ï¼šä¸é€‰å½“å‰ç‰©å“çš„æœ€å¤§ä»·å€¼ vs é€‰å½“å‰ç‰©å“çš„æœ€å¤§ä»·å€¼</span>
      dp[j] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[j], dp[j - weights[i]] + values[i]);
    }
    <span class="hljs-comment">// æ‰“å°æ¯æ¬¡å¤„ç†ç‰©å“åçš„dpæ•°ç»„ï¼ˆå•è¡Œè¡¨æ ¼æ›´æ–°è¿‡ç¨‹ï¼‰</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¤„ç†å®Œç‰©å“<span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>åï¼Œdpæ•°ç»„ï¼š`</span>, [...dp]);
  }

  <span class="hljs-comment">// æœ€ç»ˆç­”æ¡ˆï¼šå®¹é‡ä¸ºcapacityçš„èƒŒåŒ…çš„æœ€å¤§ä»·å€¼</span>
  <span class="hljs-keyword">return</span> dp[capacity];
}

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-keyword">const</span> weights1 = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-keyword">const</span> values1 = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>];
<span class="hljs-keyword">const</span> capacity1 = <span class="hljs-number">8</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœ€å¤§ä»·å€¼ï¼š'</span>, <span class="hljs-title function_">knapsack_1d</span>(weights1, values1, capacity1)); <span class="hljs-comment">// è¾“å‡ºï¼š10</span>
</code></pre>
<h3 data-id="heading-12">ä¸‰ã€01èƒŒåŒ…çš„ç»å…¸å˜å½¢</h3>
<p>01èƒŒåŒ…çš„æ ¸å¿ƒæ˜¯ã€Œé€‰/ä¸é€‰ã€ï¼Œå®é™…è€ƒé¢˜ä¸­å¾ˆå°‘ç›´æ¥è€ƒæŸ¥åŸºç¡€æ¨¡å‹ï¼Œæ›´å¤šæ˜¯ç»“åˆå…·ä½“åœºæ™¯è½¬åŒ–ä¸ºå˜å½¢é—®é¢˜ã€‚ä½†æ— è®ºåœºæ™¯å¦‚ä½•å˜åŒ–ï¼Œåªè¦æŠ“ä½ã€Œæ¯ä¸ªç‰©å“æœ€å¤šé€‰ä¸€æ¬¡ã€çš„æœ¬è´¨ï¼Œå°±èƒ½ç”¨DPè§£é¢˜5æ­¥ã€Œä¸‡èƒ½é’¥åŒ™ã€è½»æ¾ç ´è§£ã€‚ä»¥ä¸‹æ˜¯4ç±»æœ€ç»å…¸çš„01èƒŒåŒ…å˜å½¢ï¼š</p>
<h4 data-id="heading-13">3.1 å˜å½¢1ï¼šç›®æ ‡å’Œï¼ˆåˆ†å‰²å­é›†å’Œ/æ˜¯å¦èƒ½è£…æ»¡èƒŒåŒ…ï¼‰</h4>
<p><strong>LeetCode é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Ftarget-sum%2F" target="_blank" title="https://leetcode.cn/problems/target-sum/" ref="nofollow noopener noreferrer">494. ç›®æ ‡å’Œ</a></p>
<p><strong>é—®é¢˜æè¿°</strong>ï¼šç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„<code>nums</code>å’Œä¸€ä¸ªç›®æ ‡æ•°<code>target</code>ï¼Œå‘æ•°ç»„ä¸­æ¯ä¸ªæ•´æ•°å‰æ·»åŠ <code>+</code>æˆ–<code>-</code>ï¼Œä½¿å¾—æ‰€æœ‰æ•´æ•°çš„å’Œç­‰äº<code>target</code>ï¼Œæ±‚æœ‰å¤šå°‘ç§ä¸åŒçš„æ·»åŠ ç¬¦å·çš„æ–¹æ³•ã€‚</p>
<p>æ ¸å¿ƒè½¬åŒ–ï¼šè®¾æ·»åŠ <code>+</code>çš„æ•°çš„å’Œä¸º<code>left</code>ï¼Œæ·»åŠ <code>-</code>çš„æ•°çš„å’Œä¸º<code>right</code>ï¼Œåˆ™æœ‰ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-attribute">left</span> - <span class="hljs-attribute">right</span> = target
<span class="hljs-attribute">left</span> + <span class="hljs-attribute">right</span> = <span class="hljs-built_in">sum</span>(nums)
ä¸¤å¼ç›¸åŠ å¾—ï¼š<span class="hljs-attribute">left</span> = (target + sum(nums)) / <span class="hljs-number">2</span>
</code></pre>
<p>é—®é¢˜è½¬åŒ–ä¸ºï¼šä»<code>nums</code>ä¸­é€‰æ‹©è‹¥å¹²å…ƒç´ ï¼Œä½¿å¾—å…¶å’Œæ°å¥½ä¸º<code>left</code>ï¼Œæ±‚è¿™æ ·çš„é€‰æ‹©æ–¹æ¡ˆæ•°â€”â€”è¿™æ˜¯ã€Œ01èƒŒåŒ…æ±‚æ–¹æ¡ˆæ•°ã€çš„å…¸å‹åœºæ™¯ï¼ˆæ¯ä¸ªå…ƒç´ é€‰æˆ–ä¸é€‰ï¼Œé€‰åˆ™è®¡å…¥å’Œï¼Œä¸é€‰åˆ™ä¸è®¡ï¼‰ã€‚</p>
<p>ç›®æ ‡å’Œé—®é¢˜æ ¸å¿ƒè¡¨æ ¼ï¼ˆç©ºè¡¨ï¼Œåç»­é€æ­¥å¡«å……ï¼‰ï¼š</p>





































<table><thead><tr><th>å¤„ç†é˜¶æ®µ\å’Œä¸ºj</th><th>0</th><th>1</th><th>2</th><th>...ï¼ˆå’Œé€’å¢ï¼‰</th><th>leftï¼ˆç›®æ ‡å’Œï¼‰</th></tr></thead><tbody><tr><td>åˆå§‹çŠ¶æ€</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>å¤„ç†ç¬¬1ä¸ªå…ƒç´ </td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>å¤„ç†ç¬¬2ä¸ªå…ƒç´ </td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr></tbody></table>
<p>è¡¨æ ¼è¯´æ˜ï¼šè¡¨æ ¼ä¸­æ¯ä¸ªå•å…ƒæ ¼<code>dp[i][j]</code>ä»£è¡¨ã€Œå¤„ç†å‰iä¸ªå…ƒç´ åï¼Œèƒ½å‡‘å‡ºå’Œä¸ºjçš„æ–¹æ¡ˆæ•°ã€ï¼Œæœ€ç»ˆå³ä¸‹è§’<code>dp[n][left]</code>å³ä¸ºç›®æ ‡å’Œçš„è§£æ³•æ€»æ•°ï¼ˆnä¸ºnumsæ•°ç»„é•¿åº¦ï¼‰ã€‚</p>
<h5 data-id="heading-14">3.1.1 æ­¥éª¤1ï¼šç¡®å®šdpæ•°ç»„åŠä¸‹æ ‡çš„å«ä¹‰</h5>
<p>å®šä¹‰äºŒç»´æ•°ç»„<code>dp[i][j]</code>ï¼šè¡¨ç¤ºã€Œå¤„ç†å‰iä¸ªå…ƒç´ ï¼Œèƒ½å‡‘å‡ºå’Œä¸ºjçš„æ–¹æ¡ˆæ•°ã€ã€‚åç»­å¯ä¼˜åŒ–ä¸ºä¸€ç»´æ•°ç»„<code>dp[j]</code>ï¼ˆç©ºé—´ä¼˜åŒ–æ€è·¯ä¸åŸºç¡€01èƒŒåŒ…ä¸€è‡´ï¼‰ï¼Œè¿™é‡Œå…ˆä»ç›´è§‚çš„äºŒç»´æ•°ç»„å…¥æ‰‹ã€‚</p>
<p>å¯¹åº”è¡¨æ ¼ç»´åº¦ï¼šiï¼ˆè¡Œï¼‰è¡¨ç¤ºå¤„ç†çš„å…ƒç´ ä¸ªæ•°ï¼ˆä»0åˆ°nï¼Œ0ä»£è¡¨æœªå¤„ç†ä»»ä½•å…ƒç´ ï¼‰ï¼Œjï¼ˆåˆ—ï¼‰è¡¨ç¤ºè¦å‡‘çš„å’Œï¼ˆä»0åˆ°leftï¼Œ0ä»£è¡¨å’Œä¸º0ï¼‰ï¼Œè¡¨æ ¼å…±n+1è¡Œã€left+1åˆ—ã€‚</p>
<h5 data-id="heading-15">3.1.2 æ­¥éª¤2ï¼šç¡®å®šé€’æ¨å…¬å¼</h5>
<p>å¯¹äºç¬¬iä¸ªå…ƒç´ ï¼ˆå€¼ä¸º<code>nums[i-1]</code>ï¼Œæ•°ç»„ç´¢å¼•ä»0å¼€å§‹ï¼Œiä»1å¼€å§‹ï¼‰ï¼Œæ ¸å¿ƒå†³ç­–ä»æ˜¯ã€Œé€‰æˆ–ä¸é€‰ã€ï¼Œæ–¹æ¡ˆæ•°ä¸ºä¸¤ç§å†³ç­–çš„æ€»å’Œï¼š</p>
<ol>
<li>
<p><strong>ä¸é€‰ç¬¬iä¸ªå…ƒç´ </strong>ï¼šå‡‘å‡ºå’Œä¸ºjçš„æ–¹æ¡ˆæ•° = å¤„ç†å‰i-1ä¸ªå…ƒç´ å‡‘å‡ºå’Œä¸ºjçš„æ–¹æ¡ˆæ•°ï¼Œå³<code>dp[i][j] += dp[i-1][j]</code>ï¼›</p>
</li>
<li>
<p><strong>é€‰ç¬¬iä¸ªå…ƒç´ </strong>ï¼šéœ€ä¿è¯j â‰¥ nums[i-1]ï¼ˆå½“å‰å…ƒç´ å€¼ä¸å¤§äºç›®æ ‡å’Œjï¼‰ï¼Œæ­¤æ—¶æ–¹æ¡ˆæ•° = å¤„ç†å‰i-1ä¸ªå…ƒç´ å‡‘å‡ºå’Œä¸ºj-nums[i-1]çš„æ–¹æ¡ˆæ•°ï¼Œå³<code>dp[i][j] += dp[i-1][j - nums[i-1]]</code>ã€‚</p>
</li>
</ol>
<p>æœ€ç»ˆé€’æ¨å…¬å¼ï¼ˆä¸¤ç§å†³ç­–æ–¹æ¡ˆæ•°ç›¸åŠ ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (j &gt;= nums[i - <span class="hljs-number">1</span>]) {
  dp[i][j] = dp[i - <span class="hljs-number">1</span>][j] + dp[i - <span class="hljs-number">1</span>][j - nums[i - <span class="hljs-number">1</span>]];
} <span class="hljs-keyword">else</span> {
  dp[i][j] = dp[i - <span class="hljs-number">1</span>][j];
}
</code></pre>
<h5 data-id="heading-16">3.1.3 æ­¥éª¤3ï¼šdpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</h5>
<p>åˆå§‹åŒ–æ ¸å¿ƒæ˜¯ç¡®å®šè¾¹ç•Œæ¡ä»¶ï¼Œå³æ— éœ€æ¨å¯¼å°±èƒ½ç›´æ¥ç¡®å®šçš„æ–¹æ¡ˆæ•°ï¼š</p>
<ol>
<li>
<p><strong>i=0ï¼ˆæœªå¤„ç†ä»»ä½•å…ƒç´ ï¼‰ï¼Œj=0ï¼ˆå’Œä¸º0ï¼‰</strong>ï¼šä¸é€‰ä»»ä½•å…ƒç´ å³å¯å‡‘å‡ºå’Œä¸º0ï¼Œå› æ­¤æ–¹æ¡ˆæ•°ä¸º1ï¼Œå³<code>dp[0][0] = 1</code>ï¼›</p>
</li>
<li>
<p><strong>i=0ï¼ˆæœªå¤„ç†ä»»ä½•å…ƒç´ ï¼‰ï¼Œj&gt;0ï¼ˆå’Œå¤§äº0ï¼‰</strong>ï¼šæ²¡æœ‰å…ƒç´ å¯é€‰ï¼Œæ— æ³•å‡‘å‡ºä»»ä½•æ­£å’Œï¼Œæ–¹æ¡ˆæ•°ä¸º0ï¼Œå³<code>dp[0][j] = 0</code>ï¼ˆj&gt;0ï¼‰ï¼›</p>
</li>
<li>
<p><strong>j=0ï¼ˆå’Œä¸º0ï¼‰ï¼Œi&gt;0ï¼ˆå¤„ç†è¿‡å…ƒç´ ï¼‰</strong>ï¼šåˆå§‹æ—¶å¯å…ˆè®¾ä¸º1ï¼ˆåç»­é€šè¿‡é€’æ¨æ›´æ–°ï¼‰ï¼Œè¡¨ç¤ºä¸é€‰å½“å‰åŠä¹‹å‰å…ƒç´ çš„åŸºç¡€æ–¹æ¡ˆã€‚</p>
</li>
</ol>
<p>ç»“åˆç¤ºä¾‹ç†è§£ï¼šå‡è®¾nums = [1,1,1,1]ï¼Œtarget = 2ï¼Œå…ˆè®¡ç®—sum(nums) = 4ï¼Œleft = (2 + 4)/2 = 3ã€‚åˆå§‹åŒ–åçš„è¡¨æ ¼ï¼ˆç¬¬0è¡Œå·²å¡«å……ï¼‰ï¼š</p>















































<table><thead><tr><th>å¤„ç†é˜¶æ®µ\å’Œä¸ºj</th><th>0</th><th>1</th><th>2</th><th>3</th></tr></thead><tbody><tr><td>åˆå§‹çŠ¶æ€ï¼ˆi=0ï¼‰</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr><td>å¤„ç†ç¬¬1ä¸ªå…ƒç´ ï¼ˆ1ï¼‰</td><td>1</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr><tr><td>å¤„ç†ç¬¬2ä¸ªå…ƒç´ ï¼ˆ1ï¼‰</td><td>1</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr><tr><td>å¤„ç†ç¬¬3ä¸ªå…ƒç´ ï¼ˆ1ï¼‰</td><td>1</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr><tr><td>å¤„ç†ç¬¬4ä¸ªå…ƒç´ ï¼ˆ1ï¼‰</td><td>1</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr></tbody></table>
<h5 data-id="heading-17">3.1.4 æ­¥éª¤4ï¼šç¡®å®šéå†é¡ºåºï¼ˆè¡¨æ ¼å¡«å……é¡ºåºï¼‰</h5>
<p>ä¸åŸºç¡€01èƒŒåŒ…äºŒç»´è§£æ³•ä¸€è‡´ï¼šå…ˆéå†å…ƒç´ ï¼ˆiä»1åˆ°nï¼‰ï¼Œå†éå†å’Œï¼ˆjä»0åˆ°leftï¼‰ï¼Œå³<strong>é€è¡Œå¡«å……è¡¨æ ¼</strong>ã€‚åŸå› ï¼šè®¡ç®—<code>dp[i][j]</code>æ—¶ï¼Œä»…ä¾èµ–ä¸Šä¸€è¡Œï¼ˆi-1è¡Œï¼‰çš„<code>dp[i-1][j]</code>å’Œ<code>dp[i-1][j - nums[i-1]]</code>ï¼Œé€è¡Œå¡«å……å¯ç¡®ä¿ä¾èµ–çš„å•å…ƒæ ¼å·²æå‰è®¡ç®—å®Œæˆã€‚</p>
<h5 data-id="heading-18">3.1.5 æ­¥éª¤5ï¼šæ‰“å°dpæ•°ç»„ï¼ˆéªŒè¯ï¼‰</h5>
<p>ä»¥ç¤ºä¾‹<code>nums = [1,1,1,1]</code>ã€<code>target = 2</code>ï¼ˆleft=3ï¼‰ä¸ºä¾‹ï¼Œé€æ­¥å¡«å……è¡¨æ ¼éªŒè¯é€»è¾‘ï¼š</p>
<ol>
<li>
<p><strong>å¡«å……ç¬¬1è¡Œï¼ˆi=1ï¼Œå…ƒç´ 1ï¼š1ï¼‰</strong>ï¼š</p>
<ul>
<li>j=0ï¼šä¸é€‰å…ƒç´ 1ï¼Œæ–¹æ¡ˆæ•°=dp[0][0]=1ï¼›</li>
<li>j=1ï¼šjâ‰¥1ï¼Œæ–¹æ¡ˆæ•°=dp[0][1]ï¼ˆä¸é€‰ï¼‰+ dp[0][0]ï¼ˆé€‰ï¼‰=0+1=1ï¼›</li>
<li>j=2ï¼šj&gt;1ï¼Œæ— æ³•é€‰ï¼Œæ–¹æ¡ˆæ•°=dp[0][2]=0ï¼›</li>
<li>j=3ï¼šj&gt;1ï¼Œæ— æ³•é€‰ï¼Œæ–¹æ¡ˆæ•°=dp[0][3]=0ï¼›</li>
</ul>
</li>
<li>
<p><strong>å¡«å……ç¬¬2è¡Œï¼ˆi=2ï¼Œå…ƒç´ 2ï¼š1ï¼‰</strong>ï¼š</p>
<ul>
<li>j=0ï¼šæ–¹æ¡ˆæ•°=dp[1][0]=1ï¼›</li>
<li>j=1ï¼šjâ‰¥1ï¼Œæ–¹æ¡ˆæ•°=dp[1][1]ï¼ˆä¸é€‰ï¼‰+ dp[1][0]ï¼ˆé€‰ï¼‰=1+1=2ï¼›</li>
<li>j=2ï¼šjâ‰¥1ï¼Œæ–¹æ¡ˆæ•°=dp[1][2]ï¼ˆä¸é€‰ï¼‰+ dp[1][1]ï¼ˆé€‰ï¼‰=0+1=1ï¼›</li>
<li>j=3ï¼šj&gt;1ï¼Œæ— æ³•é€‰ï¼Œæ–¹æ¡ˆæ•°=dp[1][3]=0ï¼›</li>
</ul>
</li>
<li>
<p><strong>å¡«å……ç¬¬3è¡Œï¼ˆi=3ï¼Œå…ƒç´ 3ï¼š1ï¼‰</strong>ï¼š</p>
<ul>
<li>j=0ï¼šæ–¹æ¡ˆæ•°=dp[2][0]=1ï¼›</li>
<li>j=1ï¼šjâ‰¥1ï¼Œæ–¹æ¡ˆæ•°=dp[2][1]ï¼ˆä¸é€‰ï¼‰+ dp[2][0]ï¼ˆé€‰ï¼‰=2+1=3ï¼›</li>
<li>j=2ï¼šjâ‰¥1ï¼Œæ–¹æ¡ˆæ•°=dp[2][2]ï¼ˆä¸é€‰ï¼‰+ dp[2][1]ï¼ˆé€‰ï¼‰=1+2=3ï¼›</li>
<li>j=3ï¼šjâ‰¥1ï¼Œæ–¹æ¡ˆæ•°=dp[2][3]ï¼ˆä¸é€‰ï¼‰+ dp[2][2]ï¼ˆé€‰ï¼‰=0+1=1ï¼›</li>
</ul>
</li>
<li>
<p><strong>å¡«å……ç¬¬4è¡Œï¼ˆi=4ï¼Œå…ƒç´ 4ï¼š1ï¼‰</strong>ï¼š</p>
<ul>
<li>j=0ï¼šæ–¹æ¡ˆæ•°=dp[3][0]=1ï¼›</li>
<li>j=1ï¼šjâ‰¥1ï¼Œæ–¹æ¡ˆæ•°=dp[3][1]ï¼ˆä¸é€‰ï¼‰+ dp[3][0]ï¼ˆé€‰ï¼‰=3+1=4ï¼›</li>
<li>j=2ï¼šjâ‰¥1ï¼Œæ–¹æ¡ˆæ•°=dp[3][2]ï¼ˆä¸é€‰ï¼‰+ dp[3][1]ï¼ˆé€‰ï¼‰=3+3=6ï¼›</li>
<li>j=3ï¼šjâ‰¥1ï¼Œæ–¹æ¡ˆæ•°=dp[3][3]ï¼ˆä¸é€‰ï¼‰+ dp[3][2]ï¼ˆé€‰ï¼‰=1+3=4ï¼›</li>
</ul>
</li>
</ol>
<p>æœ€ç»ˆå¡«å……å®Œæˆçš„è¡¨æ ¼ï¼š</p>















































<table><thead><tr><th>å¤„ç†é˜¶æ®µ\å’Œä¸ºj</th><th>0</th><th>1</th><th>2</th><th>3</th></tr></thead><tbody><tr><td>åˆå§‹çŠ¶æ€ï¼ˆi=0ï¼‰</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr><td>å¤„ç†ç¬¬1ä¸ªå…ƒç´ ï¼ˆ1ï¼‰</td><td>1</td><td>1</td><td>0</td><td>0</td></tr><tr><td>å¤„ç†ç¬¬2ä¸ªå…ƒç´ ï¼ˆ1ï¼‰</td><td>1</td><td>2</td><td>1</td><td>0</td></tr><tr><td>å¤„ç†ç¬¬3ä¸ªå…ƒç´ ï¼ˆ1ï¼‰</td><td>1</td><td>3</td><td>3</td><td>1</td></tr><tr><td>å¤„ç†ç¬¬4ä¸ªå…ƒç´ ï¼ˆ1ï¼‰</td><td>1</td><td>4</td><td>6</td><td>4</td></tr></tbody></table>
<p>è¡¨æ ¼å³ä¸‹è§’<code>dp[4][3] = 4</code>ï¼Œå³è¯¥ç¤ºä¾‹çš„ç›®æ ‡å’Œè§£æ³•æ€»æ•°ä¸º4ï¼Œä¸å®é™…æƒ…å†µä¸€è‡´ï¼ˆ+1+1+1-1ã€+1+1-1+1ã€+1-1+1+1ã€-1+1+1+1ï¼‰ã€‚</p>
<h5 data-id="heading-19">3.1.6 ç›®æ ‡å’Œé—®é¢˜å®Œæ•´ä»£ç ï¼ˆäºŒç»´+ä¸€ç»´ä¼˜åŒ–ï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * ç›®æ ‡å’Œï¼ˆäºŒç»´DPè§£æ³•ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number[]</span>} <span class="hljs-variable">nums</span> - éè´Ÿæ•´æ•°æ•°ç»„
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">target</span> - ç›®æ ‡å’Œ
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number</span>} - ä¸åŒçš„æ·»åŠ ç¬¦å·æ–¹æ³•æ•°
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">findTargetSumWays_2d</span>(<span class="hljs-params">nums, target</span>) {
  <span class="hljs-keyword">const</span> sum = nums.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>);
  <span class="hljs-comment">// è¾¹ç•Œæ¡ä»¶ï¼štargetçš„ç»å¯¹å€¼å¤§äºsumï¼Œæˆ–(target + sum)ä¸ºå¥‡æ•°ï¼Œå‡æ— å¯è¡Œæ–¹æ¡ˆ</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(target) &gt; sum || (target + sum) % <span class="hljs-number">2</span> !== <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> left = (target + sum) / <span class="hljs-number">2</span>;
  <span class="hljs-keyword">const</span> n = nums.<span class="hljs-property">length</span>;
  <span class="hljs-comment">// åˆå§‹åŒ–äºŒç»´dpæ•°ç»„ï¼šdp[i][j]è¡¨ç¤ºå¤„ç†å‰iä¸ªå…ƒç´ å‡‘å‡ºå’Œä¸ºjçš„æ–¹æ¡ˆæ•°</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(n + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(left + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>));
  dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>; <span class="hljs-comment">// æœªå¤„ç†å…ƒç´ æ—¶ï¼Œå‡‘å‡ºå’Œä¸º0çš„æ–¹æ¡ˆæ•°ä¸º1</span>

  <span class="hljs-comment">// éå†é¡ºåºï¼šå…ˆéå†å…ƒç´ ï¼Œå†éå†å’Œï¼ˆé€è¡Œå¡«å……ï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt;= left; j++) {
      <span class="hljs-comment">// é€’æ¨å…¬å¼</span>
      <span class="hljs-keyword">if</span> (j &gt;= nums[i - <span class="hljs-number">1</span>]) {
        dp[i][j] = dp[i - <span class="hljs-number">1</span>][j] + dp[i - <span class="hljs-number">1</span>][j - nums[i - <span class="hljs-number">1</span>]];
      } <span class="hljs-keyword">else</span> {
        dp[i][j] = dp[i - <span class="hljs-number">1</span>][j];
      }
    }
  }

  <span class="hljs-comment">// æ‰“å°dpæ•°ç»„éªŒè¯</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç›®æ ‡å’ŒäºŒç»´DPæ•°ç»„ï¼ˆè¡¨æ ¼ï¼‰ï¼š'</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= n; i++) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dp[i].<span class="hljs-title function_">join</span>(<span class="hljs-string">'\t'</span>));
  }

  <span class="hljs-keyword">return</span> dp[n][left];
}

<span class="hljs-comment">/**
 * ç›®æ ‡å’Œï¼ˆä¸€ç»´DPç©ºé—´ä¼˜åŒ–è§£æ³•ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number[]</span>} <span class="hljs-variable">nums</span> - éè´Ÿæ•´æ•°æ•°ç»„
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">target</span> - ç›®æ ‡å’Œ
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number</span>} - ä¸åŒçš„æ·»åŠ ç¬¦å·æ–¹æ³•æ•°
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">findTargetSumWays_1d</span>(<span class="hljs-params">nums, target</span>) {
  <span class="hljs-keyword">const</span> sum = nums.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(target) &gt; sum || (target + sum) % <span class="hljs-number">2</span> !== <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> left = (target + sum) / <span class="hljs-number">2</span>;
  <span class="hljs-comment">// åˆå§‹åŒ–ä¸€ç»´dpæ•°ç»„ï¼šdp[j]è¡¨ç¤ºå‡‘å‡ºå’Œä¸ºjçš„æ–¹æ¡ˆæ•°</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(left + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);
  dp[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>; <span class="hljs-comment">// åŸºç¡€æ–¹æ¡ˆï¼šä¸é€‰ä»»ä½•å…ƒç´ å‡‘å‡ºå’Œä¸º0</span>

  <span class="hljs-comment">// éå†é¡ºåºï¼šå…ˆéå†å…ƒç´ ï¼Œå†å€’åºéå†å’Œï¼ˆé¿å…é‡å¤é€‰æ‹©ï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> num <span class="hljs-keyword">of</span> nums) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = left; j &gt;= num; j--) {
      dp[j] += dp[j - num]; <span class="hljs-comment">// é€’æ¨å…¬å¼ç®€åŒ–ï¼ˆå¤ç”¨æ•°ç»„ï¼‰</span>
    }
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¤„ç†å®Œå…ƒç´ <span class="hljs-subst">${num}</span>åï¼Œdpæ•°ç»„ï¼š`</span>, [...dp]);
  }

  <span class="hljs-keyword">return</span> dp[left];
}

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-keyword">const</span> nums = [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>];
<span class="hljs-keyword">const</span> target = <span class="hljs-number">2</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'äºŒç»´DPè§£æ³•ï¼š'</span>, <span class="hljs-title function_">findTargetSumWays_2d</span>(nums, target)); <span class="hljs-comment">// è¾“å‡ºï¼š4</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸€ç»´DPè§£æ³•ï¼š'</span>, <span class="hljs-title function_">findTargetSumWays_1d</span>(nums, target)); <span class="hljs-comment">// è¾“å‡ºï¼š4</span>
</code></pre>
<h4 data-id="heading-20">3.2 å˜å½¢2ï¼šåˆ†å‰²ç­‰å’Œå­é›†ï¼ˆæ˜¯å¦èƒ½è£…æ»¡èƒŒåŒ…ï¼‰</h4>
<p><strong>LeetCode é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fpartition-equal-subset-sum%2F" target="_blank" title="https://leetcode.cn/problems/partition-equal-subset-sum/" ref="nofollow noopener noreferrer">416. åˆ†å‰²ç­‰å’Œå­é›†</a></p>
<p><strong>é—®é¢˜æè¿°</strong>ï¼šç»™å®šä¸€ä¸ªåªåŒ…å«æ­£æ•´æ•°çš„éç©ºæ•°ç»„<code>nums</code>ï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å’Œç›¸ç­‰ã€‚</p>
<p>æ ¸å¿ƒè½¬åŒ–ï¼šä¸¤ä¸ªå­é›†å’Œç›¸ç­‰ï¼Œå³æ¯ä¸ªå­é›†çš„å’Œä¸ºæ•°ç»„æ€»å’Œçš„ä¸€åŠï¼ˆè®°ä¸º<code>target</code>ï¼‰ã€‚é—®é¢˜è½¬åŒ–ä¸ºï¼šä»<code>nums</code>ä¸­é€‰æ‹©è‹¥å¹²å…ƒç´ ï¼Œä½¿å¾—å…¶å’Œæ°å¥½ä¸º<code>target</code>â€”â€”è¿™æ˜¯ã€Œ01èƒŒåŒ…åˆ¤æ–­å¯è¡Œæ€§ã€çš„å…¸å‹åœºæ™¯ï¼ˆæ¯ä¸ªå…ƒç´ é€‰æˆ–ä¸é€‰ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½è£…æ»¡å®¹é‡ä¸ºtargetçš„èƒŒåŒ…ï¼‰ã€‚</p>
<p>æ ¸å¿ƒè¡¨æ ¼ï¼ˆç©ºè¡¨ï¼‰ï¼š</p>





































<table><thead><tr><th>å¤„ç†é˜¶æ®µ\å’Œä¸ºj</th><th>0</th><th>1</th><th>2</th><th>...ï¼ˆå’Œé€’å¢ï¼‰</th><th>targetï¼ˆç›®æ ‡å’Œï¼‰</th></tr></thead><tbody><tr><td>åˆå§‹çŠ¶æ€</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>å¤„ç†ç¬¬1ä¸ªå…ƒç´ </td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>å¤„ç†ç¬¬2ä¸ªå…ƒç´ </td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr></tbody></table>
<p>è¡¨æ ¼è¯´æ˜ï¼šè¡¨æ ¼ä¸­æ¯ä¸ªå•å…ƒæ ¼<code>dp[i][j]</code>ä»£è¡¨ã€Œå¤„ç†å‰iä¸ªå…ƒç´ åï¼Œèƒ½å¦å‡‘å‡ºå’Œä¸ºjã€ï¼ˆå¸ƒå°”å€¼ï¼‰ï¼Œæœ€ç»ˆå³ä¸‹è§’<code>dp[n][target]</code>å³ä¸ºé—®é¢˜ç­”æ¡ˆã€‚</p>
<h5 data-id="heading-21">3.2.1 æ­¥éª¤1ï¼šç¡®å®šdpæ•°ç»„åŠä¸‹æ ‡çš„å«ä¹‰</h5>
<p>å®šä¹‰äºŒç»´å¸ƒå°”æ•°ç»„<code>dp[i][j]</code>ï¼šè¡¨ç¤ºã€Œå¤„ç†å‰iä¸ªå…ƒç´ ï¼Œèƒ½å¦å‡‘å‡ºå’Œä¸ºjã€ã€‚å¯ä¼˜åŒ–ä¸ºä¸€ç»´å¸ƒå°”æ•°ç»„<code>dp[j]</code>ï¼Œç©ºé—´å¤æ‚åº¦ä»<code>O(n*target)</code>é™è‡³<code>O(target)</code>ã€‚</p>
<p>å¯¹åº”è¡¨æ ¼ç»´åº¦ï¼šiï¼ˆè¡Œï¼‰è¡¨ç¤ºå¤„ç†çš„å…ƒç´ ä¸ªæ•°ï¼ˆä»0åˆ°nï¼Œ0ä»£è¡¨æœªå¤„ç†ä»»ä½•å…ƒç´ ï¼‰ï¼Œjï¼ˆåˆ—ï¼‰è¡¨ç¤ºè¦å‡‘çš„å’Œï¼ˆä»0åˆ°targetï¼Œ0ä»£è¡¨å’Œä¸º0ï¼‰ï¼Œè¡¨æ ¼å…±n+1è¡Œã€target+1åˆ—ã€‚</p>
<h5 data-id="heading-22">3.2.2 æ­¥éª¤2ï¼šç¡®å®šé€’æ¨å…¬å¼</h5>
<p>å¯¹äºç¬¬iä¸ªå…ƒç´ ï¼ˆå€¼ä¸º<code>nums[i-1]</code>ï¼‰ï¼Œå†³ç­–ä¸ºã€Œé€‰æˆ–ä¸é€‰ã€ï¼Œå¯è¡Œæ€§ä¸ºä¸¤ç§å†³ç­–çš„æˆ–è¿ç®—ï¼š</p>
<ol>
<li>
<p><strong>ä¸é€‰ç¬¬iä¸ªå…ƒç´ </strong>ï¼šèƒ½å¦å‡‘å‡ºj = å¤„ç†å‰i-1ä¸ªå…ƒç´ èƒ½å¦å‡‘å‡ºjï¼Œå³<code>dp[i][j] = dp[i-1][j]</code>ï¼›</p>
</li>
<li>
<p><strong>é€‰ç¬¬iä¸ªå…ƒç´ </strong>ï¼šéœ€j â‰¥ nums[i-1]ï¼Œèƒ½å¦å‡‘å‡ºj = å¤„ç†å‰i-1ä¸ªå…ƒç´ èƒ½å¦å‡‘å‡ºj-nums[i-1]ï¼Œå³<code>dp[i][j] = dp[i-1][j - nums[i-1]]</code>ã€‚</p>
</li>
</ol>
<p>æœ€ç»ˆé€’æ¨å…¬å¼ï¼ˆä¸¤ç§å†³ç­–æœ‰ä¸€ä¸ªå¯è¡Œåˆ™æ•´ä½“å¯è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (j &gt;= nums[i - <span class="hljs-number">1</span>]) {
  dp[i][j] = dp[i - <span class="hljs-number">1</span>][j] || dp[i - <span class="hljs-number">1</span>][j - nums[i - <span class="hljs-number">1</span>]];
} <span class="hljs-keyword">else</span> {
  dp[i][j] = dp[i - <span class="hljs-number">1</span>][j];
}
</code></pre>
<h5 data-id="heading-23">3.2.3 æ­¥éª¤3ï¼šdpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</h5>
<p>åˆå§‹åŒ–æ ¸å¿ƒæ˜¯ç¡®å®šè¾¹ç•Œæ¡ä»¶ï¼Œå³æ— éœ€æ¨å¯¼å°±èƒ½ç›´æ¥ç¡®å®šçš„å¯è¡Œæ€§ï¼š</p>
<ol>
<li>
<p><strong>i=0ï¼ˆæœªå¤„ç†ä»»ä½•å…ƒç´ ï¼‰ï¼Œj=0ï¼ˆå’Œä¸º0ï¼‰</strong>ï¼šä¸é€‰ä»»ä½•å…ƒç´ å¯å‡‘å‡ºå’Œä¸º0ï¼Œå› æ­¤<code>dp[0][0] = true</code>ï¼›</p>
</li>
<li>
<p><strong>i=0ï¼ˆæœªå¤„ç†ä»»ä½•å…ƒç´ ï¼‰ï¼Œj&gt;0ï¼ˆå’Œå¤§äº0ï¼‰</strong>ï¼šæ²¡æœ‰å…ƒç´ å¯é€‰ï¼Œæ— æ³•å‡‘å‡ºä»»ä½•æ­£å’Œï¼Œå¯è¡Œæ€§ä¸º<code>false</code>ï¼Œå³<code>dp[0][j] = false</code>ï¼ˆj&gt;0ï¼‰ï¼›</p>
</li>
<li>
<p><strong>j=0ï¼ˆå’Œä¸º0ï¼‰ï¼Œi&gt;0ï¼ˆå¤„ç†è¿‡å…ƒç´ ï¼‰</strong>ï¼šåˆå§‹æ—¶å¯å…ˆè®¾ä¸º<code>true</code>ï¼ˆåç»­é€šè¿‡é€’æ¨æ›´æ–°ï¼‰ï¼Œè¡¨ç¤ºä¸é€‰å½“å‰åŠä¹‹å‰å…ƒç´ çš„åŸºç¡€æ–¹æ¡ˆã€‚</p>
</li>
</ol>
<p>ç»“åˆç¤ºä¾‹ç†è§£ï¼šå‡è®¾nums = [1,5,11,5]ï¼Œsum = 22ï¼Œtarget = 11ã€‚åˆå§‹åŒ–åçš„è¡¨æ ¼ï¼ˆç¬¬0è¡Œå·²å¡«å……ï¼‰ï¼š</p>



























































<table><thead><tr><th>å¤„ç†é˜¶æ®µ\å’Œä¸ºj</th><th>0</th><th>1</th><th>2</th><th>3</th><th>...ï¼ˆå’Œé€’å¢ï¼‰</th><th>11ï¼ˆç›®æ ‡å’Œï¼‰</th></tr></thead><tbody><tr><td>åˆå§‹çŠ¶æ€ï¼ˆi=0ï¼‰</td><td>true</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td></tr><tr><td>å¤„ç†ç¬¬1ä¸ªå…ƒç´ ï¼ˆ1ï¼‰</td><td>true</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr><tr><td>å¤„ç†ç¬¬2ä¸ªå…ƒç´ ï¼ˆ5ï¼‰</td><td>true</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr><tr><td>å¤„ç†ç¬¬3ä¸ªå…ƒç´ ï¼ˆ11ï¼‰</td><td>true</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr><tr><td>å¤„ç†ç¬¬4ä¸ªå…ƒç´ ï¼ˆ5ï¼‰</td><td>true</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td><td>å¾…å¡«</td></tr></tbody></table>
<h5 data-id="heading-24">3.2.4 æ­¥éª¤4ï¼šç¡®å®šéå†é¡ºåºï¼ˆè¡¨æ ¼å¡«å……é¡ºåºï¼‰</h5>
<p>ä¸åŸºç¡€01èƒŒåŒ…äºŒç»´è§£æ³•ä¸€è‡´ï¼šå…ˆéå†å…ƒç´ ï¼ˆiä»1åˆ°nï¼‰ï¼Œå†éå†å’Œï¼ˆjä»0åˆ°targetï¼‰ï¼Œå³<strong>é€è¡Œå¡«å……è¡¨æ ¼</strong>ã€‚åŸå› ï¼šè®¡ç®—<code>dp[i][j]</code>æ—¶ï¼Œä»…ä¾èµ–ä¸Šä¸€è¡Œï¼ˆi-1è¡Œï¼‰çš„<code>dp[i-1][j]</code>å’Œ<code>dp[i-1][j - nums[i-1]]</code>ï¼Œé€è¡Œå¡«å……å¯ç¡®ä¿ä¾èµ–çš„å•å…ƒæ ¼å·²æå‰è®¡ç®—å®Œæˆã€‚</p>
<p>ä¸€ç»´è§£æ³•ï¼šå…ˆéå†å…ƒç´ ï¼Œå†å€’åºéå†å’Œï¼ˆé¿å…é‡å¤é€‰æ‹©ï¼‰ï¼Œä¸åŸºç¡€01èƒŒåŒ…ç©ºé—´ä¼˜åŒ–é€»è¾‘ä¸€è‡´ã€‚</p>
<h5 data-id="heading-25">3.2.5 æ­¥éª¤5ï¼šæ‰“å°dpæ•°ç»„ï¼ˆéªŒè¯ï¼‰</h5>
<p>ä»¥ç¤ºä¾‹<code>nums = [1,5,11,5]</code>ã€<code>sum = 22</code>ã€<code>target = 11</code>ä¸ºä¾‹ï¼Œé€æ­¥å¡«å……è¡¨æ ¼éªŒè¯é€»è¾‘ï¼š</p>
<ol>
<li>
<p><strong>å¡«å……ç¬¬1è¡Œï¼ˆi=1ï¼Œå…ƒç´ 1ï¼š1ï¼‰</strong>ï¼š</p>
<ul>
<li>j=0ï¼šä¸é€‰å…ƒç´ 1ï¼Œdp[1][0] = dp[0][0] = trueï¼›</li>
<li>j=1ï¼šjâ‰¥1ï¼Œdp[1][1] = dp[0][1]ï¼ˆä¸é€‰ï¼‰|| dp[0][0]ï¼ˆé€‰ï¼‰= false || true = trueï¼›</li>
<li>j=2-11ï¼šj&lt;1ï¼Œæ— æ³•é€‰ï¼Œdp[1][j] = dp[0][j] = falseï¼›</li>
</ul>
</li>
<li>
<p><strong>å¡«å……ç¬¬2è¡Œï¼ˆi=2ï¼Œå…ƒç´ 2ï¼š5ï¼‰</strong>ï¼š</p>
<ul>
<li>j=0ï¼šdp[2][0] = dp[1][0] = trueï¼›</li>
<li>j=1-4ï¼šj&lt;5ï¼Œæ— æ³•é€‰ï¼Œdp[2][j] = dp[1][j]ï¼ˆç»§æ‰¿ä¸Šä¸€è¡Œï¼‰ï¼›</li>
<li>j=5ï¼šjâ‰¥5ï¼Œdp[2][5] = dp[1][5]ï¼ˆä¸é€‰ï¼‰|| dp[1][0]ï¼ˆé€‰ï¼‰= false || true = trueï¼›</li>
<li>j=6ï¼šjâ‰¥5ï¼Œdp[2][6] = dp[1][6]ï¼ˆä¸é€‰ï¼‰|| dp[1][1]ï¼ˆé€‰ï¼‰= false || true = trueï¼›</li>
<li>j=7-11ï¼šjâ‰¥5ï¼Œdp[2][j] = dp[1][j]ï¼ˆä¸é€‰ï¼‰|| dp[1][j-5]ï¼ˆé€‰ï¼‰ï¼Œå…¶ä¸­j=11æ—¶ï¼Œdp[2][11] = false || false = falseï¼›</li>
</ul>
</li>
<li>
<p><strong>å¡«å……ç¬¬3è¡Œï¼ˆi=3ï¼Œå…ƒç´ 3ï¼š11ï¼‰</strong>ï¼š</p>
<ul>
<li>j=0-10ï¼šj&lt;11ï¼Œæ— æ³•é€‰ï¼Œdp[3][j] = dp[2][j]ï¼ˆç»§æ‰¿ä¸Šä¸€è¡Œï¼‰ï¼›</li>
<li>j=11ï¼šjâ‰¥11ï¼Œdp[3][11] = dp[2][11]ï¼ˆä¸é€‰ï¼‰|| dp[2][0]ï¼ˆé€‰ï¼‰= false || true = trueï¼›</li>
</ul>
</li>
<li>
<p><strong>å¡«å……ç¬¬4è¡Œï¼ˆi=4ï¼Œå…ƒç´ 4ï¼š5ï¼‰</strong>ï¼š</p>
<ul>
<li>j=0-4ï¼šj&lt;5ï¼Œæ— æ³•é€‰ï¼Œdp[4][j] = dp[3][j]ï¼ˆç»§æ‰¿ä¸Šä¸€è¡Œï¼‰ï¼›</li>
<li>j=5-11ï¼šjâ‰¥5ï¼Œdp[4][j] = dp[3][j]ï¼ˆä¸é€‰ï¼‰|| dp[3][j-5]ï¼ˆé€‰ï¼‰ï¼Œå…¶ä¸­j=11æ—¶ï¼Œdp[4][11] = true || false = trueï¼›</li>
</ul>
</li>
</ol>
<p>æœ€ç»ˆå¡«å……å®Œæˆçš„è¡¨æ ¼ï¼š</p>































































































<table><thead><tr><th>å¤„ç†é˜¶æ®µ\å’Œä¸ºj</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th></tr></thead><tbody><tr><td>åˆå§‹çŠ¶æ€ï¼ˆi=0ï¼‰</td><td>true</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td></tr><tr><td>å¤„ç†ç¬¬1ä¸ªå…ƒç´ ï¼ˆ1ï¼‰</td><td>true</td><td>true</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td></tr><tr><td>å¤„ç†ç¬¬2ä¸ªå…ƒç´ ï¼ˆ5ï¼‰</td><td>true</td><td>true</td><td>false</td><td>false</td><td>false</td><td>true</td><td>true</td><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td></tr><tr><td>å¤„ç†ç¬¬3ä¸ªå…ƒç´ ï¼ˆ11ï¼‰</td><td>true</td><td>true</td><td>false</td><td>false</td><td>false</td><td>true</td><td>true</td><td>false</td><td>false</td><td>false</td><td>false</td><td>true</td></tr><tr><td>å¤„ç†ç¬¬4ä¸ªå…ƒç´ ï¼ˆ5ï¼‰</td><td>true</td><td>true</td><td>false</td><td>false</td><td>false</td><td>true</td><td>true</td><td>false</td><td>false</td><td>false</td><td>false</td><td>true</td></tr></tbody></table>
<p>è¡¨æ ¼å³ä¸‹è§’<code>dp[4][11] = true</code>ï¼Œå³è¯¥ç¤ºä¾‹å¯ä»¥åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†ï¼ˆå­é›†[1,5,5]å’Œ[11]ï¼‰ï¼Œä¸é¢„æœŸç»“æœä¸€è‡´ã€‚</p>
<h5 data-id="heading-26">3.2.6 åˆ†å‰²ç­‰å’Œå­é›†å®Œæ•´ä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * åˆ†å‰²ç­‰å’Œå­é›†ï¼ˆäºŒç»´DPè§£æ³•ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number[]</span>} <span class="hljs-variable">nums</span> - æ­£æ•´æ•°æ•°ç»„
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">boolean</span>} - æ˜¯å¦å¯ä»¥åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">canPartition_2d</span>(<span class="hljs-params">nums</span>) {
  <span class="hljs-keyword">const</span> sum = nums.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">if</span> (sum % <span class="hljs-number">2</span> !== <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ€»å’Œä¸ºå¥‡æ•°ï¼Œæ— æ³•åˆ†å‰²</span>
  <span class="hljs-keyword">const</span> target = sum / <span class="hljs-number">2</span>;
  <span class="hljs-keyword">const</span> n = nums.<span class="hljs-property">length</span>;
  <span class="hljs-comment">// åˆå§‹åŒ–äºŒç»´dpæ•°ç»„ï¼šdp[i][j]è¡¨ç¤ºå¤„ç†å‰iä¸ªå…ƒç´ èƒ½å¦å‡‘å‡ºå’Œä¸ºj</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(n + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(target + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">false</span>));
  dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-literal">true</span>; <span class="hljs-comment">// è¾¹ç•Œæ¡ä»¶</span>

  <span class="hljs-comment">// éå†é¡ºåºï¼šå…ˆéå†å…ƒç´ ï¼Œå†éå†å’Œ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt;= target; j++) {
      <span class="hljs-keyword">if</span> (j &gt;= nums[i - <span class="hljs-number">1</span>]) {
        dp[i][j] = dp[i - <span class="hljs-number">1</span>][j] || dp[i - <span class="hljs-number">1</span>][j - nums[i - <span class="hljs-number">1</span>]];
      } <span class="hljs-keyword">else</span> {
        dp[i][j] = dp[i - <span class="hljs-number">1</span>][j];
      }
    }
  }

  <span class="hljs-comment">// æ‰“å°dpæ•°ç»„éªŒè¯</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åˆ†å‰²ç­‰å’Œå­é›†äºŒç»´DPæ•°ç»„ï¼ˆè¡¨æ ¼ï¼‰ï¼š'</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= n; i++) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dp[i].<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> (val ? <span class="hljs-string">'true'</span> : <span class="hljs-string">'false'</span>)).<span class="hljs-title function_">join</span>(<span class="hljs-string">'\t'</span>));
  }

  <span class="hljs-keyword">return</span> dp[n][target];
}

<span class="hljs-comment">/**
 * åˆ†å‰²ç­‰å’Œå­é›†ï¼ˆä¸€ç»´DPç©ºé—´ä¼˜åŒ–è§£æ³•ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number[]</span>} <span class="hljs-variable">nums</span> - æ­£æ•´æ•°æ•°ç»„
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">boolean</span>} - æ˜¯å¦å¯ä»¥åˆ†å‰²æˆä¸¤ä¸ªå’Œç›¸ç­‰çš„å­é›†
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">canPartition_1d</span>(<span class="hljs-params">nums</span>) {
  <span class="hljs-keyword">const</span> sum = nums.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">if</span> (sum % <span class="hljs-number">2</span> !== <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">const</span> target = sum / <span class="hljs-number">2</span>;
  <span class="hljs-comment">// åˆå§‹åŒ–ä¸€ç»´dpæ•°ç»„ï¼šdp[j]è¡¨ç¤ºèƒ½å¦å‡‘å‡ºå’Œä¸ºj</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(target + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">false</span>);
  dp[<span class="hljs-number">0</span>] = <span class="hljs-literal">true</span>; <span class="hljs-comment">// è¾¹ç•Œæ¡ä»¶</span>

  <span class="hljs-comment">// éå†é¡ºåºï¼šå…ˆéå†å…ƒç´ ï¼Œå†å€’åºéå†å’Œ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> num <span class="hljs-keyword">of</span> nums) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = target; j &gt;= num; j--) {
      dp[j] = dp[j] || dp[j - num];
    }
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
      <span class="hljs-string">`å¤„ç†å®Œå…ƒç´ <span class="hljs-subst">${num}</span>åï¼Œdpæ•°ç»„ï¼š`</span>,
      dp.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> (val ? <span class="hljs-string">'true'</span> : <span class="hljs-string">'false'</span>))
    );
  }

  <span class="hljs-keyword">return</span> dp[target];
}

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-keyword">const</span> nums1 = [<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">11</span>, <span class="hljs-number">5</span>];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'äºŒç»´DPè§£æ³•ï¼š'</span>, <span class="hljs-title function_">canPartition_2d</span>(nums1)); <span class="hljs-comment">// è¾“å‡ºï¼štrue</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸€ç»´DPè§£æ³•ï¼š'</span>, <span class="hljs-title function_">canPartition_1d</span>(nums1)); <span class="hljs-comment">// è¾“å‡ºï¼štrue</span>

<span class="hljs-keyword">const</span> nums2 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'äºŒç»´DPè§£æ³•ï¼š'</span>, <span class="hljs-title function_">canPartition_2d</span>(nums2)); <span class="hljs-comment">// è¾“å‡ºï¼šfalse</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸€ç»´DPè§£æ³•ï¼š'</span>, <span class="hljs-title function_">canPartition_1d</span>(nums2)); <span class="hljs-comment">// è¾“å‡ºï¼šfalse</span>
</code></pre>
<h4 data-id="heading-27">3.3 å˜å½¢3ï¼šæœ€åä¸€å—çŸ³å¤´çš„é‡é‡IIï¼ˆæœ€å°èƒŒåŒ…å‰©ä½™å®¹é‡ï¼‰</h4>
<p><strong>LeetCode é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Flast-stone-weight-ii%2F" target="_blank" title="https://leetcode.cn/problems/last-stone-weight-ii/" ref="nofollow noopener noreferrer">1049. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II</a></p>
<p><strong>é—®é¢˜æè¿°</strong>ï¼šæœ‰ä¸€å †çŸ³å¤´ï¼Œæ¯å—çŸ³å¤´çš„é‡é‡éƒ½æ˜¯æ­£æ•´æ•°ã€‚æ¯ä¸€å›åˆï¼Œä»ä¸­é€‰å‡ºä»»æ„ä¸¤å—çŸ³å¤´ï¼Œç„¶åå°†å®ƒä»¬ä¸€èµ·ç²‰ç¢ã€‚å‡è®¾çŸ³å¤´çš„é‡é‡åˆ†åˆ«ä¸ºxå’Œyï¼Œä¸”x â‰¤ yã€‚é‚£ä¹ˆç²‰ç¢çš„å¯èƒ½ç»“æœå¦‚ä¸‹ï¼šå¦‚æœx == yï¼Œé‚£ä¹ˆä¸¤å—çŸ³å¤´éƒ½ä¼šè¢«å®Œå…¨ç²‰ç¢ï¼›å¦‚æœx != yï¼Œé‚£ä¹ˆé‡é‡ä¸ºxçš„çŸ³å¤´ä¼šè¢«å®Œå…¨ç²‰ç¢ï¼Œè€Œé‡é‡ä¸ºyçš„çŸ³å¤´ä¼šå˜æˆy - xçš„é‡é‡ã€‚æœ€åï¼Œæœ€å¤šåªä¼šå‰©ä¸‹ä¸€å—çŸ³å¤´ã€‚è¿”å›æ­¤çŸ³å¤´çš„æœ€å°å¯èƒ½é‡é‡ã€‚</p>
<p>æ ¸å¿ƒè½¬åŒ–ï¼šè¦ä½¿æœ€åå‰©ä½™çŸ³å¤´é‡é‡æœ€å°ï¼Œéœ€å°†çŸ³å¤´å°½å¯èƒ½åˆ†æˆä¸¤å †é‡é‡æ¥è¿‘çš„çŸ³å¤´â€”â€”ä¸¤å †é‡é‡å·®è¶Šå°ï¼Œå‰©ä½™é‡é‡è¶Šå°ã€‚è®¾æ€»é‡é‡ä¸ºsumï¼Œç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€å †çŸ³å¤´çš„æœ€å¤§é‡é‡<code>maxWeight</code>ï¼ˆâ‰¤ sum/2ï¼‰ï¼Œåˆ™å‰©ä½™é‡é‡ä¸º<code>sum - 2*maxWeight</code>ã€‚é—®é¢˜è½¬åŒ–ä¸ºï¼šä»çŸ³å¤´é‡é‡æ•°ç»„ä¸­é€‰æ‹©è‹¥å¹²å…ƒç´ ï¼Œä½¿å¾—å…¶å’Œä¸è¶…è¿‡sum/2çš„æœ€å¤§å€¼â€”â€”è¿™æ˜¯ã€Œ01èƒŒåŒ…æ±‚æœ€å¤§ä»·å€¼ï¼ˆé‡é‡å³ä»·å€¼ï¼‰ã€çš„åœºæ™¯ï¼ˆèƒŒåŒ…å®¹é‡ä¸ºsum/2ï¼Œç‰©å“é‡é‡å’Œä»·å€¼å‡ä¸ºçŸ³å¤´é‡é‡ï¼‰ã€‚</p>
<p>æœ€åä¸€å—çŸ³å¤´çš„é‡é‡IIæ ¸å¿ƒè¡¨æ ¼ï¼ˆç©ºè¡¨ï¼Œåç»­é€æ­¥å¡«å……ï¼‰ï¼š</p>





































<table><thead><tr><th>å¤„ç†é˜¶æ®µ\å®¹é‡j</th><th>0</th><th>1</th><th>2</th><th>...ï¼ˆå®¹é‡é€’å¢ï¼‰</th><th>targetï¼ˆsum/2ï¼‰</th></tr></thead><tbody><tr><td>åˆå§‹çŠ¶æ€</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>å¤„ç†ç¬¬1å—çŸ³å¤´</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>å¤„ç†ç¬¬2å—çŸ³å¤´</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr></tbody></table>
<p>è¡¨æ ¼è¯´æ˜ï¼šè¡¨æ ¼ä¸­æ¯ä¸ªå•å…ƒæ ¼<code>dp[j]</code>ä»£è¡¨ã€Œå®¹é‡ä¸ºjçš„èƒŒåŒ…èƒ½å®¹çº³çš„æœ€å¤§é‡é‡ã€ï¼ˆä¸€ç»´DPï¼‰ï¼Œæœ€ç»ˆ<code>dp[target]</code>å³ä¸ºä¸è¶…è¿‡sum/2çš„æœ€å¤§å­é›†é‡é‡ï¼Œå‰©ä½™é‡é‡ = sum - 2*dp[target]ã€‚</p>
<h5 data-id="heading-28">3.3.1 æ­¥éª¤1ï¼šç¡®å®šdpæ•°ç»„åŠä¸‹æ ‡çš„å«ä¹‰</h5>
<p>å®šä¹‰ä¸€ç»´æ•°ç»„<code>dp[j]</code>ï¼šè¡¨ç¤ºã€Œå®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œèƒ½å®¹çº³çš„æœ€å¤§é‡é‡ã€ï¼ˆå³é€‰è‹¥å¹²çŸ³å¤´çš„æœ€å¤§å’Œï¼‰ã€‚</p>
<p>å¯¹åº”è¡¨æ ¼ç»´åº¦ï¼šä»…ä¿ç•™"å®¹é‡j"è¿™ä¸€åˆ—ç»´åº¦ï¼ˆjä»0åˆ°targetï¼Œtarget = sum/2å‘ä¸‹å–æ•´ï¼‰ï¼Œå½¢æˆå•è¡Œè¡¨æ ¼ï¼Œæ¯æ¬¡éå†çŸ³å¤´æ—¶ï¼Œæ»šåŠ¨æ›´æ–°è¿™ä¸€è¡Œçš„æ•°å€¼ï¼ˆè¦†ç›–ä¸Šä¸€è¡Œçš„ç»“æœï¼‰ã€‚</p>
<h5 data-id="heading-29">3.3.2 æ­¥éª¤2ï¼šç¡®å®šé€’æ¨å…¬å¼</h5>
<p>å¯¹äºç¬¬iå—çŸ³å¤´ï¼ˆé‡é‡<code>stones[i]</code>ï¼Œä»·å€¼ä¹Ÿä¸º<code>stones[i]</code>ï¼‰ï¼Œæœ‰ä¸¤ç§æ ¸å¿ƒå†³ç­–ï¼šé€‰æˆ–ä¸é€‰ã€‚</p>
<ol>
<li>
<p><strong>ä¸é€‰ç¬¬iå—çŸ³å¤´</strong>ï¼šå®¹é‡ä¸ºjçš„æœ€å¤§é‡é‡ = ä¸é€‰å½“å‰çŸ³å¤´æ—¶çš„æœ€å¤§é‡é‡ï¼Œå³<code>dp[j] = dp[j]</code>ï¼ˆä¿æŒä¸å˜ï¼‰ï¼›</p>
</li>
<li>
<p><strong>é€‰ç¬¬iå—çŸ³å¤´</strong>ï¼šéœ€ä¿è¯èƒŒåŒ…å®¹é‡j â‰¥ ç¬¬iå—çŸ³å¤´çš„é‡é‡ï¼Œæ­¤æ—¶æœ€å¤§é‡é‡ = å®¹é‡j-stones[i]çš„æœ€å¤§é‡é‡ + ç¬¬iå—çŸ³å¤´çš„é‡é‡ï¼Œå³<code>dp[j] = dp[j - stones[i]] + stones[i]</code>ã€‚</p>
</li>
</ol>
<p>æœ€ç»ˆé€’æ¨å…¬å¼ï¼ˆå–ä¸¤ç§å†³ç­–çš„æœ€å¤§å€¼ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (j &gt;= stones[i]) {
  dp[j] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[j], dp[j - stones[i]] + stones[i]);
} <span class="hljs-keyword">else</span> {
  dp[j] = dp[j]; <span class="hljs-comment">// å®¹é‡ä¸è¶³ï¼Œæ— æ³•é€‰</span>
}
</code></pre>
<p>ç®€åŒ–åï¼ˆå› ä¸ºå®¹é‡ä¸è¶³æ—¶dp[j]ä¸å˜ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = target; j &gt;= stones[i]; j--) {
  dp[j] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[j], dp[j - stones[i]] + stones[i]);
}
</code></pre>
<h5 data-id="heading-30">3.3.3 æ­¥éª¤3ï¼šdpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</h5>
<p>åˆå§‹åŒ–é€»è¾‘ä¸åŸºç¡€01èƒŒåŒ…ä¸€ç»´DPä¸€è‡´ï¼šå®¹é‡ä¸º0æ—¶ï¼Œæœ€å¤§é‡é‡ä¸º0ï¼Œå› æ­¤<code>dp[0] = 0</code>ï¼›å…¶ä»–å®¹é‡çš„åˆå§‹å€¼ä¹Ÿä¸º0ï¼ˆå› ä¸ºåˆå§‹æ— çŸ³å¤´å¯æ”¾ï¼Œæœ€å¤§é‡é‡ä¸º0ï¼‰ï¼Œå³<code>dp = new Array(target + 1).fill(0)</code>ã€‚</p>
<p>åˆå§‹åŒ–åçš„å•è¡Œè¡¨æ ¼ï¼š[0,0,0,0,...]ï¼ˆjä»0åˆ°targetï¼‰</p>
<p>ç»“åˆç¤ºä¾‹ç†è§£ï¼šå‡è®¾stones = [2,7,4,1,8,1]ï¼Œsum = 23ï¼Œtarget = Math.floor(23/2) = 11ã€‚åˆå§‹åŒ–åçš„è¡¨æ ¼ï¼š</p>



































<table><thead><tr><th>å®¹é‡j</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th></tr></thead><tbody><tr><td>åˆå§‹</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr></tbody></table>
<h5 data-id="heading-31">3.3.4 æ­¥éª¤4ï¼šç¡®å®šéå†é¡ºåºï¼ˆè¡¨æ ¼å¡«å……é¡ºåºï¼‰</h5>
<p>ä¸€ç»´DPçš„éå†é¡ºåºæœ‰ä¸¥æ ¼è¦æ±‚ï¼Œæ ¸å¿ƒæ˜¯ã€Œå€’åºéå†å®¹é‡ã€ï¼Œå¯¹åº”å•è¡Œè¡¨æ ¼çš„ã€Œä»å³å¾€å·¦å¡«å……ã€ï¼š</p>
<ol>
<li>
<p><strong>å¿…é¡»å…ˆéå†çŸ³å¤´ï¼Œå†éå†å®¹é‡</strong>ï¼šé€ä¸ªå¤„ç†æ¯å—çŸ³å¤´ï¼Œæ¯æ¬¡å¤„ç†æ—¶æ›´æ–°æ•´ä¸ªå•è¡Œè¡¨æ ¼ï¼ˆè¦†ç›–ä¸Šä¸€è¡Œç»“æœï¼‰ï¼›</p>
</li>
<li>
<p><strong>å®¹é‡å¿…é¡»å€’åºéå†ï¼ˆjä»targetåˆ°stones[i]ï¼‰</strong>ï¼šä»æœ€å¤§å®¹é‡å¾€å°å®¹é‡å¡«å……ï¼Œç¡®ä¿è®¡ç®—<code>dp[j]</code>æ—¶ï¼Œ<code>dp[j - stones[i]]</code>ä»æ˜¯ä¸Šä¸€è¡Œï¼ˆæœªå¤„ç†å½“å‰çŸ³å¤´ï¼‰çš„æ—§å€¼ï¼Œé¿å…åŒä¸€çŸ³å¤´è¢«å¤šæ¬¡é€‰æ‹©ã€‚</p>
</li>
</ol>
<h5 data-id="heading-32">3.3.5 æ­¥éª¤5ï¼šæ‰“å°dpæ•°ç»„ï¼ˆéªŒè¯ï¼‰</h5>
<p>é€šè¿‡æ‰“å°å•è¡Œè¡¨æ ¼çš„æ»šåŠ¨æ›´æ–°è¿‡ç¨‹ï¼ŒéªŒè¯å¡«å……è§„åˆ™çš„æ­£ç¡®æ€§ã€‚ä»ç”¨æµ‹è¯•ç”¨ä¾‹ <code>stones = [2,7,4,1,8,1]</code>ã€<code>sum = 23</code>ã€<code>target = 11</code>ï¼Œæ¼”ç¤ºä¸€ç»´DPæ•°ç»„ï¼ˆå•è¡Œè¡¨æ ¼ï¼‰çš„å¡«å……å˜åŒ–ï¼š</p>
<ol>
<li>
<p><strong>åˆå§‹çŠ¶æ€</strong>ï¼šdp = [0,0,0,0,0,0,0,0,0,0,0,0]</p>
</li>
<li>
<p><strong>å¤„ç†çŸ³å¤´1ï¼ˆw=2ï¼‰ï¼Œjä»11åˆ°2å€’åº</strong>ï¼šæ›´æ–°åï¼šdp = [0,0,2,2,2,2,2,2,2,2,2,2]</p>
<ul>
<li>j=11ï¼šdp[11] = max(0, dp[9]+2) = max(0,0+2)=2ï¼›</li>
<li>j=10ï¼šdp[10] = max(0, dp[8]+2)=2ï¼›</li>
<li>...ï¼ˆj=2åˆ°9åŒç†ï¼‰ï¼›</li>
<li>j=2ï¼šdp[2] = max(0, dp[0]+2)=2ï¼›</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†çŸ³å¤´2ï¼ˆw=7ï¼‰ï¼Œjä»11åˆ°7å€’åº</strong>ï¼šæ›´æ–°åï¼šdp = [0,0,2,2,2,2,2,7,7,9,9,9]</p>
<ul>
<li>j=11ï¼šmax(2, dp[4]+7)=max(2,2+7)=9ï¼›</li>
<li>j=10ï¼šmax(2, dp[3]+7)=max(2,2+7)=9ï¼›</li>
<li>j=9ï¼šmax(2, dp[2]+7)=max(2,2+7)=9ï¼›</li>
<li>j=8ï¼šmax(2, dp[1]+7)=max(2,0+7)=7ï¼›</li>
<li>j=7ï¼šmax(2, dp[0]+7)=max(2,0+7)=7ï¼›</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†çŸ³å¤´3ï¼ˆw=4ï¼‰ï¼Œjä»11åˆ°4å€’åº</strong>ï¼šæ›´æ–°åï¼šdp = [0,0,2,2,4,4,6,7,7,9,9,11]</p>
<ul>
<li>j=11ï¼šmax(9, dp[7]+4)=max(9,7+4)=11ï¼›</li>
<li>j=10ï¼šmax(9, dp[6]+4)=max(9,2+4)=9ï¼›</li>
<li>j=9ï¼šmax(9, dp[5]+4)=max(9,2+4)=9ï¼›</li>
<li>j=8ï¼šmax(7, dp[4]+4)=max(7,2+4)=7ï¼›</li>
<li>j=7ï¼šmax(7, dp[3]+4)=max(7,2+4)=7ï¼›</li>
<li>j=6ï¼šmax(2, dp[2]+4)=max(2,2+4)=6ï¼›</li>
<li>j=5ï¼šmax(2, dp[1]+4)=max(2,0+4)=4ï¼›</li>
<li>j=4ï¼šmax(2, dp[0]+4)=max(2,0+4)=4ï¼›</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†çŸ³å¤´4ï¼ˆw=1ï¼‰ï¼Œjä»11åˆ°1å€’åº</strong>ï¼šæ›´æ–°åï¼šdp = [0,1,2,3,4,5,6,7,8,9,10,11]</p>
<ul>
<li>j=11ï¼šmax(11, dp[10]+1)=max(11,9+1)=11ï¼›</li>
<li>j=10ï¼šmax(9, dp[9]+1)=max(9,9+1)=10ï¼›</li>
<li>...ï¼ˆå…¶ä»–ä½ç½®ç±»ä¼¼æ›´æ–°ï¼‰ï¼›</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†çŸ³å¤´5ï¼ˆw=8ï¼‰ï¼Œjä»11åˆ°8å€’åº</strong>ï¼šæ›´æ–°åï¼šdp = [0,1,2,3,4,5,6,7,8,9,10,11]</p>
<ul>
<li>j=11ï¼šmax(11, dp[3]+8)=max(11,3+8)=11ï¼›</li>
<li>j=10ï¼šmax(10, dp[2]+8)=max(10,2+8)=10ï¼›</li>
<li>j=9ï¼šmax(9, dp[1]+8)=max(9,1+8)=9ï¼›</li>
<li>j=8ï¼šmax(8, dp[0]+8)=max(8,0+8)=8ï¼›</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†çŸ³å¤´6ï¼ˆw=1ï¼‰ï¼Œjä»11åˆ°1å€’åº</strong>ï¼šæœ€ç»ˆï¼šdp = [0,1,2,3,4,5,6,7,8,9,10,11]</p>
</li>
</ol>
<p>æœ€ç»ˆå•è¡Œè¡¨æ ¼<code>dp[11] = 11</code>ï¼Œå‰©ä½™é‡é‡ = 23 - 2*11 = 1ï¼Œä¸é¢„æœŸç»“æœä¸€è‡´ã€‚</p>
<h5 data-id="heading-33">3.3.6 æœ€åä¸€å—çŸ³å¤´çš„é‡é‡IIå®Œæ•´ä»£ç ï¼ˆä¸€ç»´DPï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * æœ€åä¸€å—çŸ³å¤´çš„é‡é‡IIï¼ˆä¸€ç»´DPè§£æ³•ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number[]</span>} <span class="hljs-variable">stones</span> - çŸ³å¤´é‡é‡æ•°ç»„
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number</span>} - æœ€åå‰©ä½™çŸ³å¤´çš„æœ€å°å¯èƒ½é‡é‡
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">lastStoneWeightII</span>(<span class="hljs-params">stones</span>) {
  <span class="hljs-keyword">const</span> sum = stones.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> target = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(sum / <span class="hljs-number">2</span>);
  <span class="hljs-comment">// åˆå§‹åŒ–ä¸€ç»´dpæ•°ç»„ï¼šdp[j]è¡¨ç¤ºå®¹é‡ä¸ºjçš„èƒŒåŒ…èƒ½å®¹çº³çš„æœ€å¤§é‡é‡</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(target + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// éå†é¡ºåºï¼šå…ˆéå†çŸ³å¤´ï¼Œå†å€’åºéå†å®¹é‡</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> stone <span class="hljs-keyword">of</span> stones) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = target; j &gt;= stone; j--) {
      dp[j] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[j], dp[j - stone] + stone);
    }
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¤„ç†å®ŒçŸ³å¤´<span class="hljs-subst">${stone}</span>åï¼Œdpæ•°ç»„ï¼š`</span>, [...dp]);
  }

  <span class="hljs-comment">// å‰©ä½™é‡é‡ = æ€»é‡é‡ - 2*æœ€å¤§å­é›†é‡é‡</span>
  <span class="hljs-keyword">return</span> sum - <span class="hljs-number">2</span> * dp[target];
}

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-keyword">const</span> stones = [<span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœ€åå‰©ä½™çŸ³å¤´çš„æœ€å°é‡é‡ï¼š'</span>, <span class="hljs-title function_">lastStoneWeightII</span>(stones)); <span class="hljs-comment">// è¾“å‡ºï¼š1</span>
</code></pre>
<h4 data-id="heading-34">3.4 å˜å½¢4ï¼šä¸€å’Œé›¶ï¼ˆäºŒç»´èƒŒåŒ…å®¹é‡ï¼‰</h4>
<p><strong>LeetCode é“¾æ¥</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fones-and-zeroes%2F" target="_blank" title="https://leetcode.cn/problems/ones-and-zeroes/" ref="nofollow noopener noreferrer">474. ä¸€å’Œé›¶</a></p>
<p><strong>é—®é¢˜æè¿°</strong>ï¼šç»™ä½ ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²æ•°ç»„<code>strs</code>å’Œä¸¤ä¸ªæ•´æ•°<code>m</code>å’Œ<code>n</code>ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›<code>strs</code>çš„æœ€å¤§å­é›†çš„é•¿åº¦ï¼Œè¯¥å­é›†ä¸­æœ€å¤šæœ‰<code>m</code>ä¸ª0å’Œ<code>n</code>ä¸ª1ã€‚</p>
<p>æ ¸å¿ƒè½¬åŒ–ï¼šæ¯ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸€ä¸ª"ç‰©å“"ï¼Œé€‰æ‹©è¯¥ç‰©å“ä¼šæ¶ˆè€—"0çš„æ•°é‡"å’Œ"1çš„æ•°é‡"ä¸¤ç§å®¹é‡ï¼Œç›®æ ‡æ˜¯åœ¨ä¸¤ç§å®¹é‡å‡ä¸è¶…è¿‡é™åˆ¶ï¼ˆmã€nï¼‰çš„å‰æä¸‹ï¼Œé€‰æ‹©æœ€å¤šçš„ç‰©å“â€”â€”è¿™æ˜¯ã€ŒäºŒç»´å®¹é‡01èƒŒåŒ…æ±‚æœ€å¤§ç‰©å“æ•°ã€çš„åœºæ™¯ï¼ˆèƒŒåŒ…æœ‰ä¸¤ä¸ªç»´åº¦çš„å®¹é‡é™åˆ¶ï¼Œä»·å€¼ä¸º1ï¼Œæ±‚æœ€å¤§ä»·å€¼å³æœ€å¤§ç‰©å“æ•°ï¼‰ã€‚</p>
<p>ä¸€å’Œé›¶é—®é¢˜æ ¸å¿ƒè¡¨æ ¼ï¼ˆç©ºè¡¨ï¼Œåç»­é€æ­¥å¡«å……ï¼‰ï¼š</p>













































<table><thead><tr><th>0çš„æ•°é‡\1çš„æ•°é‡j</th><th>0</th><th>1</th><th>2</th><th>...ï¼ˆ1çš„æ•°é‡é€’å¢ï¼‰</th><th>nï¼ˆæœ€å¤§1çš„æ•°é‡ï¼‰</th></tr></thead><tbody><tr><td>0ï¼ˆ0çš„æ•°é‡ä¸º0ï¼‰</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>1ï¼ˆ0çš„æ•°é‡ä¸º1ï¼‰</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>...ï¼ˆ0çš„æ•°é‡é€’å¢ï¼‰</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td></tr><tr><td>mï¼ˆæœ€å¤§0çš„æ•°é‡ï¼‰</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……</td><td>å¾…å¡«å……ï¼ˆæœ€ç»ˆç­”æ¡ˆï¼šæœ€å¤šå­—ç¬¦ä¸²æ•°é‡ï¼‰</td></tr></tbody></table>
<p>è¡¨æ ¼è¯´æ˜ï¼šè¡¨æ ¼ä¸­æ¯ä¸ªå•å…ƒæ ¼<code>dp[i][j]</code>ä»£è¡¨ã€Œæœ€å¤šä½¿ç”¨iä¸ª0å’Œjä¸ª1æ—¶ï¼Œèƒ½é€‰æ‹©çš„æœ€å¤§å­—ç¬¦ä¸²æ•°é‡ã€ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æŒ‰è§„åˆ™å¡«å……è¡¨æ ¼ï¼Œæœ€ç»ˆå³ä¸‹è§’<code>dp[m][n]</code>å³ä¸ºä¸€å’Œé›¶é—®é¢˜çš„ç­”æ¡ˆã€‚</p>
<h5 data-id="heading-35">3.4.1 æ­¥éª¤1ï¼šç¡®å®šdpæ•°ç»„åŠä¸‹æ ‡çš„å«ä¹‰</h5>
<p>å®šä¹‰äºŒç»´æ•°ç»„<code>dp[i][j]</code>ï¼šè¡¨ç¤ºã€Œæœ€å¤šç”¨iä¸ª0å’Œjä¸ª1èƒ½é€‰æ‹©çš„æœ€å¤§å­—ç¬¦ä¸²æ•°é‡ã€ã€‚</p>
<p>å¯¹åº”è¡¨æ ¼ç»´åº¦ï¼šiï¼ˆè¡Œï¼‰è¡¨ç¤º0çš„æ•°é‡ï¼ˆä»0åˆ°mï¼Œ0ä»£è¡¨0ä¸ª0ï¼‰ï¼Œjï¼ˆåˆ—ï¼‰è¡¨ç¤º1çš„æ•°é‡ï¼ˆä»0åˆ°nï¼Œ0ä»£è¡¨0ä¸ª1ï¼‰ï¼Œè¡¨æ ¼å…±m+1è¡Œã€n+1åˆ—ã€‚</p>
<h5 data-id="heading-36">3.4.2 æ­¥éª¤2ï¼šç¡®å®šé€’æ¨å…¬å¼</h5>
<p>å¯¹äºæ¯ä¸ªå­—ç¬¦ä¸²ï¼ˆå«zeroä¸ª0ã€oneä¸ª1ï¼‰ï¼Œæœ‰ä¸¤ç§æ ¸å¿ƒå†³ç­–ï¼šé€‰æˆ–ä¸é€‰ã€‚</p>
<ol>
<li>
<p><strong>ä¸é€‰å½“å‰å­—ç¬¦ä¸²</strong>ï¼šæœ€å¤šç”¨iä¸ª0å’Œjä¸ª1çš„æœ€å¤§å­—ç¬¦ä¸²æ•°é‡ = ä¸é€‰å½“å‰å­—ç¬¦ä¸²æ—¶çš„æœ€å¤§æ•°é‡ï¼Œå³<code>dp[i][j] = dp[i][j]</code>ï¼ˆä¿æŒä¸å˜ï¼‰ï¼›</p>
</li>
<li>
<p><strong>é€‰å½“å‰å­—ç¬¦ä¸²</strong>ï¼šéœ€ä¿è¯i â‰¥ zeroä¸”j â‰¥ oneï¼ˆ0å’Œ1çš„æ•°é‡éƒ½è¶³å¤Ÿï¼‰ï¼Œæ­¤æ—¶æœ€å¤§æ•°é‡ = ç”¨i-zeroä¸ª0å’Œj-oneä¸ª1çš„æœ€å¤§æ•°é‡ + 1ï¼ˆå½“å‰å­—ç¬¦ä¸²ï¼‰ï¼Œå³<code>dp[i][j] = dp[i - zero][j - one] + 1</code>ã€‚</p>
</li>
</ol>
<p>æœ€ç»ˆé€’æ¨å…¬å¼ï¼ˆå–ä¸¤ç§å†³ç­–çš„æœ€å¤§å€¼ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (i &gt;= zero &amp;&amp; j &gt;= one) {
  dp[i][j] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[i][j], dp[i - zero][j - one] + <span class="hljs-number">1</span>);
} <span class="hljs-keyword">else</span> {
  dp[i][j] = dp[i][j]; <span class="hljs-comment">// å®¹é‡ä¸è¶³ï¼Œæ— æ³•é€‰</span>
}
</code></pre>
<p>ç®€åŒ–åï¼ˆå› ä¸ºå®¹é‡ä¸è¶³æ—¶dp[i][j]ä¸å˜ï¼Œä¸”ä½¿ç”¨å€’åºéå†ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = m; i &gt;= zero; i--) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = n; j &gt;= one; j--) {
    dp[i][j] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[i][j], dp[i - zero][j - one] + <span class="hljs-number">1</span>);
  }
}
</code></pre>
<h5 data-id="heading-37">3.4.3 æ­¥éª¤3ï¼šdpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</h5>
<p>åˆå§‹åŒ–é€»è¾‘ï¼šåˆå§‹æ— å­—ç¬¦ä¸²å¯é€‰ï¼Œæ— è®ºæœ‰å¤šå°‘0å’Œ1ï¼Œæœ€å¤§å­—ç¬¦ä¸²æ•°é‡éƒ½ä¸º0ï¼Œå› æ­¤<code>dp[i][j] = 0</code>ï¼ˆæ‰€æœ‰å•å…ƒæ ¼åˆå§‹åŒ–ä¸º0ï¼‰ï¼Œå³<code>dp = new Array(m+1).fill(0).map(() =&gt; new Array(n+1).fill(0))</code>ã€‚</p>
<p>åˆå§‹åŒ–åçš„è¡¨æ ¼ï¼ˆæ‰€æœ‰å•å…ƒæ ¼ä¸º0ï¼‰ï¼š</p>













































<table><thead><tr><th>0çš„æ•°é‡\1çš„æ•°é‡j</th><th>0</th><th>1</th><th>2</th><th>...</th><th>n</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>...</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>m</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr></tbody></table>
<p>ç»“åˆç¤ºä¾‹ç†è§£ï¼šå‡è®¾strs = ["10","0001","111001","1","0"]ï¼Œm = 5ï¼Œn = 3ã€‚åˆå§‹åŒ–åçš„è¡¨æ ¼ï¼ˆ5+1è¡Œï¼Œ3+1åˆ—ï¼‰ï¼š</p>






















































<table><thead><tr><th>0çš„æ•°é‡\1çš„æ•°é‡j</th><th>0</th><th>1</th><th>2</th><th>3</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>2</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>3</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>4</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>5</td><td>0</td><td>0</td><td>0</td><td>0</td></tr></tbody></table>
<h5 data-id="heading-38">3.4.4 æ­¥éª¤4ï¼šç¡®å®šéå†é¡ºåºï¼ˆè¡¨æ ¼å¡«å……é¡ºåºï¼‰</h5>
<p>äºŒç»´å®¹é‡01èƒŒåŒ…çš„éå†é¡ºåºæœ‰ä¸¥æ ¼è¦æ±‚ï¼š</p>
<ol>
<li>
<p><strong>å¿…é¡»å…ˆéå†å­—ç¬¦ä¸²ï¼ˆç‰©å“ï¼‰ï¼Œå†éå†0çš„æ•°é‡ï¼Œæœ€åéå†1çš„æ•°é‡</strong>ï¼šé€ä¸ªå¤„ç†æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯æ¬¡å¤„ç†æ—¶æ›´æ–°æ•´ä¸ªäºŒç»´è¡¨æ ¼ï¼›</p>
</li>
<li>
<p><strong>0å’Œ1çš„æ•°é‡éƒ½å¿…é¡»å€’åºéå†</strong>ï¼š</p>
<ul>
<li>0çš„æ•°é‡å€’åºéå†ï¼ˆiä»måˆ°zeroï¼‰ï¼šç¡®ä¿è®¡ç®—<code>dp[i][j]</code>æ—¶ï¼Œ<code>dp[i - zero][j - one]</code>ä»æ˜¯ä¸Šä¸€è½®ï¼ˆæœªå¤„ç†å½“å‰å­—ç¬¦ä¸²ï¼‰çš„æ—§å€¼ï¼›</li>
<li>1çš„æ•°é‡å€’åºéå†ï¼ˆjä»nåˆ°oneï¼‰ï¼šåŒæ ·ç¡®ä¿ä¾èµ–çš„å•å…ƒæ ¼æ˜¯æ—§å€¼ã€‚</li>
</ul>
</li>
</ol>
<p>å€’åºéå†é¿å…åŒä¸€å­—ç¬¦ä¸²è¢«å¤šæ¬¡é€‰æ‹©ï¼Œå®Œç¾å¥‘åˆ01èƒŒåŒ…ã€Œæ¯ä¸ªç‰©å“é€‰ä¸€æ¬¡ã€çš„è§„åˆ™ã€‚</p>
<h5 data-id="heading-39">3.4.5 æ­¥éª¤5ï¼šæ‰“å°dpæ•°ç»„ï¼ˆéªŒè¯ï¼‰</h5>
<p>ä»¥ç¤ºä¾‹<code>strs = ["10","0001","111001","1","0"]</code>ã€<code>m = 5</code>ã€<code>n = 3</code>ä¸ºä¾‹ï¼Œé€æ­¥å¡«å……è¡¨æ ¼éªŒè¯é€»è¾‘ï¼š</p>
<ol>
<li>
<p><strong>å¤„ç†å­—ç¬¦ä¸²1ï¼ˆ"10"ï¼šzero=1, one=1ï¼‰</strong>ï¼š</p>
<ul>
<li>æ›´æ–°dp[1][1]åˆ°dp[5][3]èŒƒå›´å†…æ‰€æœ‰æ»¡è¶³iâ‰¥1ä¸”jâ‰¥1çš„ä½ç½®</li>
<li>dp[1][1] = max(0, dp[0][0]+1) = max(0,0+1) = 1</li>
<li>dp[2][2] = max(0, dp[1][1]+1) = max(0,1+1) = 2</li>
<li>...ï¼ˆå…¶ä»–ä½ç½®ç±»ä¼¼ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†å­—ç¬¦ä¸²2ï¼ˆ"0001"ï¼šzero=3, one=1ï¼‰</strong>ï¼š</p>
<ul>
<li>æ›´æ–°dp[3][1]åˆ°dp[5][3]èŒƒå›´å†…æ‰€æœ‰æ»¡è¶³iâ‰¥3ä¸”jâ‰¥1çš„ä½ç½®</li>
<li>dp[3][1] = max(dp[3][1], dp[0][0]+1) = max(0,0+1) = 1</li>
<li>dp[4][2] = max(dp[4][2], dp[1][1]+1) = max(0,1+1) = 2</li>
<li>...ï¼ˆå…¶ä»–ä½ç½®ç±»ä¼¼ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†å­—ç¬¦ä¸²3ï¼ˆ"111001"ï¼šzero=2, one=4ï¼‰</strong>ï¼š</p>
<ul>
<li>ç”±äºone=4 &gt; n=3ï¼Œæ— æ³•é€‰æ‹©æ­¤å­—ç¬¦ä¸²ï¼Œdpæ•°ç»„ä¸å˜</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†å­—ç¬¦ä¸²4ï¼ˆ"1"ï¼šzero=0, one=1ï¼‰</strong>ï¼š</p>
<ul>
<li>æ›´æ–°dp[0][1]åˆ°dp[5][3]èŒƒå›´å†…æ‰€æœ‰æ»¡è¶³jâ‰¥1çš„ä½ç½®</li>
<li>dp[0][1] = max(0, dp[0][0]+1) = max(0,0+1) = 1</li>
<li>dp[1][2] = max(dp[1][2], dp[1][1]+1) = max(0,1+1) = 2</li>
<li>...ï¼ˆå…¶ä»–ä½ç½®ç±»ä¼¼ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¤„ç†å­—ç¬¦ä¸²5ï¼ˆ"0"ï¼šzero=1, one=0ï¼‰</strong>ï¼š</p>
<ul>
<li>æ›´æ–°dp[1][0]åˆ°dp[5][3]èŒƒå›´å†…æ‰€æœ‰æ»¡è¶³iâ‰¥1çš„ä½ç½®</li>
<li>dp[1][0] = max(0, dp[0][0]+1) = max(0,0+1) = 1</li>
<li>dp[2][1] = max(dp[2][1], dp[1][1]+1) = max(0,1+1) = 2</li>
<li>...ï¼ˆå…¶ä»–ä½ç½®ç±»ä¼¼ï¼‰</li>
</ul>
</li>
</ol>
<p>æœ€ç»ˆå¡«å……å®Œæˆçš„è¡¨æ ¼ï¼ˆç®€åŒ–å±•ç¤ºå…³é”®éƒ¨åˆ†ï¼‰ï¼š</p>






















































<table><thead><tr><th>0çš„æ•°é‡\1çš„æ•°é‡j</th><th>0</th><th>1</th><th>2</th><th>3</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>1</td><td>1</td><td>1</td></tr><tr><td>1</td><td>1</td><td>2</td><td>2</td><td>2</td></tr><tr><td>2</td><td>1</td><td>2</td><td>3</td><td>3</td></tr><tr><td>3</td><td>1</td><td>2</td><td>3</td><td>3</td></tr><tr><td>4</td><td>1</td><td>2</td><td>3</td><td>4</td></tr><tr><td>5</td><td>1</td><td>2</td><td>3</td><td>4</td></tr></tbody></table>
<p>è¡¨æ ¼å³ä¸‹è§’<code>dp[5][3] = 4</code>ï¼Œå³è¯¥ç¤ºä¾‹çš„æœ€å¤§å­é›†é•¿åº¦ä¸º4ï¼Œä¸é¢„æœŸç»“æœä¸€è‡´ã€‚</p>
<h5 data-id="heading-40">3.4.6 ä¸€å’Œé›¶å®Œæ•´ä»£ç ï¼ˆäºŒç»´DPï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * ä¸€å’Œé›¶ï¼ˆäºŒç»´DPè§£æ³•ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string[]</span>} <span class="hljs-variable">strs</span> - äºŒè¿›åˆ¶å­—ç¬¦ä¸²æ•°ç»„
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">m</span> - æœ€å¤šå…è®¸çš„0çš„æ•°é‡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">n</span> - æœ€å¤šå…è®¸çš„1çš„æ•°é‡
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number</span>} - æœ€å¤§å­é›†é•¿åº¦
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">findMaxForm</span>(<span class="hljs-params">strs, m, n</span>) {
  <span class="hljs-comment">// åˆå§‹åŒ–äºŒç»´dpæ•°ç»„ï¼šdp[i][j]è¡¨ç¤ºiä¸ª0å’Œjä¸ª1èƒ½é€‰çš„æœ€å¤§å­—ç¬¦ä¸²æ•°</span>
  <span class="hljs-keyword">const</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(m + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(n + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>));

  <span class="hljs-comment">// éå†æ¯ä¸ªå­—ç¬¦ä¸²ï¼ˆç‰©å“ï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> str <span class="hljs-keyword">of</span> strs) {
    <span class="hljs-comment">// ç»Ÿè®¡å½“å‰å­—ç¬¦ä¸²çš„0å’Œ1çš„æ•°é‡</span>
    <span class="hljs-keyword">let</span> zero = <span class="hljs-number">0</span>,
      one = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> c <span class="hljs-keyword">of</span> str) {
      c === <span class="hljs-string">'0'</span> ? zero++ : one++;
    }

    <span class="hljs-comment">// å€’åºéå†0çš„æ•°é‡ï¼Œå†å€’åºéå†1çš„æ•°é‡ï¼ˆé¿å…é‡å¤é€‰æ‹©ï¼‰</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = m; i &gt;= zero; i--) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = n; j &gt;= one; j--) {
        dp[i][j] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[i][j], dp[i - zero][j - one] + <span class="hljs-number">1</span>);
      }
    }

    <span class="hljs-comment">// æ‰“å°æ¯æ¬¡å¤„ç†åçš„dpæ•°ç»„ï¼ˆç®€åŒ–æ‰“å°ï¼Œåªæ‰“å°éƒ¨åˆ†å…³é”®è¡Œï¼‰</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¤„ç†å®Œå­—ç¬¦ä¸²"<span class="hljs-subst">${str}</span>"åï¼Œdpæ•°ç»„ï¼ˆå‰5è¡Œå‰5åˆ—ï¼‰ï¼š`</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(m, <span class="hljs-number">5</span>); i++) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dp[i].<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(n, <span class="hljs-number">5</span>)).<span class="hljs-title function_">join</span>(<span class="hljs-string">'\t'</span>));
    }
  }

  <span class="hljs-keyword">return</span> dp[m][n];
}

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-keyword">const</span> strs = [<span class="hljs-string">'10'</span>, <span class="hljs-string">'0001'</span>, <span class="hljs-string">'111001'</span>, <span class="hljs-string">'1'</span>, <span class="hljs-string">'0'</span>];
<span class="hljs-keyword">const</span> m = <span class="hljs-number">5</span>,
  n = <span class="hljs-number">3</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœ€å¤§å­é›†é•¿åº¦ï¼š'</span>, <span class="hljs-title function_">findMaxForm</span>(strs, m, n)); <span class="hljs-comment">// è¾“å‡ºï¼š4</span>
</code></pre>
<h3 data-id="heading-41">å››ã€01èƒŒåŒ…é—®é¢˜æ€»ç»“</h3>
<p>01èƒŒåŒ…çš„æ ¸å¿ƒæ˜¯ã€Œé€‰æˆ–ä¸é€‰ã€çš„äºŒé€‰ä¸€å†³ç­–ï¼Œæ‰€æœ‰å˜å½¢éƒ½å›´ç»•è¿™ä¸€æ ¸å¿ƒé€»è¾‘ï¼Œé€šè¿‡è½¬åŒ–ã€Œç‰©å“ã€ã€Œå®¹é‡ã€ã€Œç›®æ ‡ã€çš„å«ä¹‰ï¼Œé€‚é…ä¸åŒçš„å®é™…åœºæ™¯ã€‚æŒæ¡ä»¥ä¸‹å…³é”®ç‚¹ï¼Œå¯è½»æ¾ç ´è§£æ‰€æœ‰01èƒŒåŒ…ç›¸å…³é—®é¢˜ï¼š</p>
<ol>
<li>
<p><strong>è¡¨æ ¼å¯è§†åŒ–æ ¸å¿ƒ</strong>ï¼šDPè§£é¢˜çš„æœ¬è´¨æ˜¯å¡«å……è¡¨æ ¼ï¼Œå…ˆæ˜ç¡®è¡¨æ ¼å½¢æ€ï¼ˆdpæ•°ç»„å«ä¹‰ï¼‰ï¼Œå†æŒ‰è§„åˆ™å¡«å……ï¼Œè¡¨æ ¼å¡«å®Œå³å¾—ç­”æ¡ˆï¼›</p>
</li>
<li>
<p><strong>5æ­¥ä¸‡èƒ½é’¥åŒ™</strong>ï¼šç¡®å®šdpå«ä¹‰â†’é€’æ¨å…¬å¼â†’åˆå§‹åŒ–â†’éå†é¡ºåºâ†’éªŒè¯ï¼Œè¿™æ˜¯æ‰€æœ‰DPé—®é¢˜çš„é€šç”¨æ‹†è§£æ€è·¯ï¼Œå°¤å…¶é€‚ç”¨äºèƒŒåŒ…é—®é¢˜ï¼›</p>
</li>
<li>
<p><strong>ç©ºé—´ä¼˜åŒ–æŠ€å·§</strong>ï¼šäºŒç»´DPå¯é€šè¿‡ã€Œå€’åºéå†å®¹é‡ã€ä¼˜åŒ–ä¸ºä¸€ç»´DPï¼Œæ ¸å¿ƒæ˜¯å¤ç”¨æ•°ç»„ç©ºé—´ï¼Œé¿å…é‡å¤é€‰æ‹©ç‰©å“ï¼›</p>
</li>
<li>
<p><strong>å˜å½¢è½¬åŒ–é€»è¾‘</strong>ï¼šæ— è®ºåœºæ™¯å¦‚ä½•å˜åŒ–ï¼Œåªè¦æ¯ä¸ªç‰©å“æœ€å¤šé€‰ä¸€æ¬¡ï¼Œéƒ½å¯è½¬åŒ–ä¸º01èƒŒåŒ…æ¨¡å‹â€”â€”å…³é”®æ˜¯æ‰¾åˆ°ã€Œç‰©å“ã€ï¼ˆå¾…é€‰æ‹©çš„å…ƒç´ /å­—ç¬¦ä¸²ç­‰ï¼‰ã€ã€Œå®¹é‡ã€ï¼ˆé™åˆ¶æ¡ä»¶ï¼Œå¦‚é‡é‡ã€å’Œã€0/1æ•°é‡ç­‰ï¼‰ã€ã€Œç›®æ ‡ã€ï¼ˆæœ€å¤§ä»·å€¼ã€å¯è¡Œæ€§ã€æ–¹æ¡ˆæ•°ç­‰ï¼‰ã€‚</p>
</li>
</ol>
<p>é€šè¿‡åŸºç¡€æ¨¡å‹+å˜å½¢ç»ƒä¹ ï¼Œç†Ÿç»ƒæŒæ¡è¡¨æ ¼å¡«å……é€»è¾‘å’Œ5æ­¥æ‹†è§£æ–¹æ³•ï¼Œå°±èƒ½å°†å¤æ‚çš„DPé—®é¢˜è½¬åŒ–ä¸ºæœ‰åºçš„è¡¨æ ¼å¡«å……è¿‡ç¨‹ï¼Œå½»åº•æ”»å…‹01èƒŒåŒ…è¿™ä¸€DPæ ¸å¿ƒæ¨¡å‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MyBatisæ’ä»¶æ¨¡å—è¯¦è§£]]></title>    <link>https://juejin.cn/post/7591728734984028187</link>    <guid>https://juejin.cn/post/7591728734984028187</guid>    <pubDate>2026-01-06T01:01:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591728734984028187" data-draft-id="7591635567588818990" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MyBatisæ’ä»¶æ¨¡å—è¯¦è§£"/> <meta itemprop="keywords" content="MyBatis"/> <meta itemprop="datePublished" content="2026-01-06T01:01:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MyBatisæ’ä»¶æ¨¡å—è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T01:01:24.000Z" title="Tue Jan 06 2026 01:01:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">MyBatisæ’ä»¶æ¨¡å—è¯¦è§£</h2>
<h3 data-id="heading-1">ä¸€ã€MyBatisæ•´ä½“æ¶æ„ä¸æ’ä»¶æ¨¡å—</h3>
<p>åœ¨æ·±å…¥æ’ä»¶æ¨¡å—ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£MyBatisçš„æ•´ä½“æ¶æ„ï¼Œä»¥åŠæ’ä»¶æ¨¡å—åœ¨å…¶ä¸­çš„é‡è¦åœ°ä½ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04f81476a5ed4bc7a342e2a2119e8d83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768266084&amp;x-signature=XL6Cg%2BcL9%2B%2FYLn30lMDPeXelbB4%3D" alt="" loading="lazy"/></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒMyBatisé‡‡ç”¨äº†åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œè€Œæ’ä»¶æ¨¡å—ï¼ˆPluginï¼‰é€šè¿‡åŠ¨æ€ä»£ç†æœºåˆ¶æ¨ªåˆ‡æ•´ä¸ªæ¡†æ¶ï¼Œèƒ½å¤Ÿåœ¨æ ¸å¿ƒç»„ä»¶çš„æ‰§è¡Œè¿‡ç¨‹ä¸­æ’å…¥è‡ªå®šä¹‰é€»è¾‘ã€‚å®ƒä¸ºMyBatisæä¾›äº†å¼ºå¤§çš„æ‰©å±•èƒ½åŠ›ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥åœ¨ä¸ä¿®æ”¹æºç çš„æƒ…å†µä¸‹å¢å¼ºæ¡†æ¶åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-2">1.1 æ’ä»¶æ¨¡å—çš„æ ¸å¿ƒèŒè´£</h4>
<p>æ’ä»¶æ¨¡å—ä¸»è¦æ‰¿æ‹…ä»¥ä¸‹æ ¸å¿ƒèŒè´£ï¼š</p>
<ol>
<li><strong>æ‰©å±•æ¡†æ¶åŠŸèƒ½</strong>ï¼šåœ¨ä¸åŠ¨æºç çš„æƒ…å†µä¸‹å¢å¼ºMyBatisåŠŸèƒ½</li>
<li><strong>æ‹¦æˆªæ ¸å¿ƒç»„ä»¶</strong>ï¼šæ‹¦æˆªExecutorã€StatementHandlerã€ParameterHandlerã€ResultSetHandler</li>
<li><strong>å®ç°AOPåŠŸèƒ½</strong>ï¼šé€šè¿‡åŠ¨æ€ä»£ç†å®ç°é¢å‘åˆ‡é¢ç¼–ç¨‹</li>
<li><strong>ç»Ÿä¸€æƒé™æ§åˆ¶</strong>ï¼šå®ç°æ•°æ®æƒé™è¿‡æ»¤</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šè®°å½•SQLæ‰§è¡Œæ—¶é—´å’Œæ€§èƒ½æŒ‡æ ‡</li>
<li><strong>åˆ†é¡µæŸ¥è¯¢</strong>ï¼šå®ç°ç‰©ç†åˆ†é¡µåŠŸèƒ½</li>
</ol>
<h4 data-id="heading-3">1.2 ä¸ºä»€ä¹ˆéœ€è¦æ’ä»¶</h4>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸æœ‰è¿™äº›éœ€æ±‚ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">éœ€æ±‚åœºæ™¯ï¼š
â”œâ”€â”€ <span class="hljs-keyword">SQL</span>æ€§èƒ½ç›‘æ§ï¼šè®°å½•æ…¢æŸ¥è¯¢
â”œâ”€â”€ æ•°æ®æƒé™æ§åˆ¶ï¼šæ ¹æ®ç”¨æˆ·æƒé™è¿‡æ»¤æ•°æ®
â”œâ”€â”€ åˆ†é¡µæŸ¥è¯¢ï¼šè‡ªåŠ¨å®ç°ç‰©ç†åˆ†é¡µ
â”œâ”€â”€ ä¹è§‚é”ï¼šè‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·
â”œâ”€â”€ å®¡è®¡æ—¥å¿—ï¼šè®°å½•æ“ä½œæ—¥å¿—
â””â”€â”€ åŠ å¯†è§£å¯†ï¼šæ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
</code></pre>
<p>å¦‚æœæ²¡æœ‰æ’ä»¶æœºåˆ¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹MyBatisæºç æˆ–ç¼–å†™å¤§é‡é‡å¤ä»£ç ã€‚æ’ä»¶æœºåˆ¶è®©æˆ‘ä»¬å¯ä»¥ä¼˜é›…åœ°å®ç°è¿™äº›åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-4">1.3 æ’ä»¶çš„å®ç°åŸç†</h4>
<p>MyBatisçš„æ’ä»¶åŸºäº<strong>åŠ¨æ€ä»£ç†</strong>å®ç°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç›®æ ‡å¯¹è±¡
    â†“
ä½¿ç”¨Plugin<span class="hljs-selector-class">.wrap</span>()åŒ…è£…
    â†“
ç”Ÿæˆä»£ç†å¯¹è±¡
    â†“
è°ƒç”¨<span class="hljs-built_in">intercept</span>()æ–¹æ³•
    â†“
æ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘
    â†“
è°ƒç”¨ç›®æ ‡æ–¹æ³•æˆ–ç»§ç»­ä¼ é€’
</code></pre>
<h3 data-id="heading-5">äºŒã€æ’ä»¶æ‹¦æˆªæœºåˆ¶</h3>
<p>MyBatisçš„æ’ä»¶æœºåˆ¶åŸºäºJavaåŠ¨æ€ä»£ç†å’Œè´£ä»»é“¾æ¨¡å¼ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/376d0f3b8bdd4bf2aab8036be24069cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768266084&amp;x-signature=IjvaLOW%2FLiZ5HKC7PF1fbGuAqNk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-6">2.1 Interceptoræ¥å£</h4>
<p>MyBatisæ’ä»¶çš„æ ¸å¿ƒæ˜¯Interceptoræ¥å£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-comment">/**
     * æ‹¦æˆªæ–¹æ³•ï¼Œåœ¨è¿™é‡Œå®ç°è‡ªå®šä¹‰é€»è¾‘
     * <span class="hljs-doctag">@param</span> invocation ä»£ç†è°ƒç”¨å¯¹è±¡
     * <span class="hljs-doctag">@return</span> æ–¹æ³•æ‰§è¡Œç»“æœ
     * <span class="hljs-doctag">@throws</span> Throwable å¼‚å¸¸
     */</span>
    Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable;

    <span class="hljs-comment">/**
     * åŒ…è£…ç›®æ ‡å¯¹è±¡ï¼Œç”Ÿæˆä»£ç†å¯¹è±¡
     * <span class="hljs-doctag">@param</span> target ç›®æ ‡å¯¹è±¡
     * <span class="hljs-doctag">@return</span> ä»£ç†å¯¹è±¡
     */</span>
    <span class="hljs-keyword">default</span> Object <span class="hljs-title function_">plugin</span><span class="hljs-params">(Object target)</span> {
        <span class="hljs-keyword">return</span> Plugin.wrap(target, <span class="hljs-built_in">this</span>);
    }

    <span class="hljs-comment">/**
     * è®¾ç½®æ’ä»¶å±æ€§
     * <span class="hljs-doctag">@param</span> properties é…ç½®å±æ€§
     */</span>
    <span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setProperties</span><span class="hljs-params">(Properties properties)</span> {
        <span class="hljs-comment">// NOP</span>
    }
}
</code></pre>
<h4 data-id="heading-7">2.2 Invocationç±»</h4>
<p>Invocationå°è£…äº†æ–¹æ³•è°ƒç”¨çš„ç›¸å…³ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Invocation</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Object target;      <span class="hljs-comment">// ç›®æ ‡å¯¹è±¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Method method;      <span class="hljs-comment">// ç›®æ ‡æ–¹æ³•</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Object[] args;      <span class="hljs-comment">// æ–¹æ³•å‚æ•°</span>

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Invocation</span><span class="hljs-params">(Object target, Method method, Object[] args)</span> {
        <span class="hljs-built_in">this</span>.target = target;
        <span class="hljs-built_in">this</span>.method = method;
        <span class="hljs-built_in">this</span>.args = args;
    }

    <span class="hljs-comment">// æ‰§è¡Œç›®æ ‡æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">proceed</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InvocationTargetException, IllegalAccessException {
        <span class="hljs-keyword">return</span> method.invoke(target, args);
    }

    <span class="hljs-comment">// Getteræ–¹æ³•</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getTarget</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> target; }
    <span class="hljs-keyword">public</span> Method <span class="hljs-title function_">getMethod</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> method; }
    <span class="hljs-keyword">public</span> Object[] getArgs() { <span class="hljs-keyword">return</span> args; }
}
</code></pre>
<h4 data-id="heading-8">2.3 Pluginç±»</h4>
<p>Pluginæ˜¯ä»£ç†å¯¹è±¡çš„InvocationHandlerï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Plugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Object target;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Interceptor interceptor;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;Class&lt;?&gt;, Set&lt;Method&gt;&gt; signatureMap;

    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Plugin</span><span class="hljs-params">(Object target, Interceptor interceptor, Map&lt;Class&lt;?&gt;, Set&lt;Method&gt;&gt; signatureMap)</span> {
        <span class="hljs-built_in">this</span>.target = target;
        <span class="hljs-built_in">this</span>.interceptor = interceptor;
        <span class="hljs-built_in">this</span>.signatureMap = signatureMap;
    }

    <span class="hljs-comment">// é™æ€å·¥å‚æ–¹æ³•ï¼ŒåŒ…è£…ç›®æ ‡å¯¹è±¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Object <span class="hljs-title function_">wrap</span><span class="hljs-params">(Object target, Interceptor interceptor)</span> {
        <span class="hljs-comment">// è·å–æ‹¦æˆªçš„ç±»å’Œæ–¹æ³•ç­¾å</span>
        Map&lt;Class&lt;?&gt;, Set&lt;Method&gt;&gt; signatureMap = getSignatureMap(interceptor);
        Class&lt;?&gt; type = target.getClass();

        <span class="hljs-comment">// è·å–éœ€è¦æ‹¦æˆªçš„æ¥å£</span>
        Class&lt;?&gt;[] interfaces = getAllInterfaces(type, signatureMap);

        <span class="hljs-keyword">if</span> (interfaces.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// åˆ›å»ºä»£ç†å¯¹è±¡</span>
            <span class="hljs-keyword">return</span> Proxy.newProxyInstance(
                type.getClassLoader(),
                interfaces,
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">Plugin</span>(target, interceptor, signatureMap)
            );
        }
        <span class="hljs-keyword">return</span> target;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–éœ€è¦æ‹¦æˆªçš„æ–¹æ³•é›†åˆ</span>
            Set&lt;Method&gt; methods = signatureMap.get(method.getDeclaringClass());
            <span class="hljs-keyword">if</span> (methods != <span class="hljs-literal">null</span> &amp;&amp; methods.contains(method)) {
                <span class="hljs-comment">// æ‰§è¡Œæ‹¦æˆªå™¨çš„interceptæ–¹æ³•</span>
                <span class="hljs-keyword">return</span> interceptor.intercept(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Invocation</span>(target, method, args));
            }
            <span class="hljs-comment">// ä¸éœ€è¦æ‹¦æˆªï¼Œç›´æ¥æ‰§è¡Œ</span>
            <span class="hljs-keyword">return</span> method.invoke(target, args);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> ExceptionUtil.unwrapThrowable(e);
        }
    }

    <span class="hljs-comment">// è·å–ç­¾åæ˜ å°„</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Map&lt;Class&lt;?&gt;, Set&lt;Method&gt;&gt; getSignatureMap(Interceptor interceptor) {
        <span class="hljs-type">Intercepts</span> <span class="hljs-variable">interceptsAnnotation</span> <span class="hljs-operator">=</span> interceptor.getClass().getAnnotation(Intercepts.class);
        <span class="hljs-keyword">if</span> (interceptsAnnotation == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PluginException</span>(<span class="hljs-string">"No @Intercepts annotation was found in interceptor "</span> + interceptor.getClass().getName());
        }

        Signature[] sigs = interceptsAnnotation.value();
        Map&lt;Class&lt;?&gt;, Set&lt;Method&gt;&gt; signatureMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (Signature sig : sigs) {
            Set&lt;Method&gt; methods = signatureMap.computeIfAbsent(sig.type(), k -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;());
            <span class="hljs-keyword">try</span> {
                <span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> sig.type().getMethod(sig.method(), sig.args());
                methods.add(method);
            } <span class="hljs-keyword">catch</span> (NoSuchMethodException e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PluginException</span>(<span class="hljs-string">"Could not find method on "</span> + sig.type() + <span class="hljs-string">" named "</span> + sig.method() + <span class="hljs-string">". Cause: "</span> + e, e);
            }
        }
        <span class="hljs-keyword">return</span> signatureMap;
    }

    <span class="hljs-comment">// è·å–æ‰€æœ‰éœ€è¦æ‹¦æˆªçš„æ¥å£</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Class&lt;?&gt;[] getAllInterfaces(Class&lt;?&gt; type, Map&lt;Class&lt;?&gt;, Set&lt;Method&gt;&gt; signatureMap) {
        Set&lt;Class&lt;?&gt;&gt; interfaces = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
        <span class="hljs-keyword">while</span> (type != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">for</span> (Class&lt;?&gt; c : type.getInterfaces()) {
                <span class="hljs-keyword">if</span> (signatureMap.containsKey(c)) {
                    interfaces.add(c);
                }
            }
            type = type.getSuperclass();
        }
        <span class="hljs-keyword">return</span> interfaces.toArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>&lt;?&gt;[interfaces.size()]);
    }
}
</code></pre>
<h3 data-id="heading-9">ä¸‰ã€å››å¤§æ ¸å¿ƒæ‹¦æˆªç‚¹</h3>
<p>MyBatiså…è®¸æ‹¦æˆªå››ä¸ªæ ¸å¿ƒç»„ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b57dd653d6da47859ffb044ca5505fe8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768266084&amp;x-signature=fBdirpJeiVsdEgFWq%2BY1B60fac0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">3.1 Executorï¼ˆæ‰§è¡Œå™¨ï¼‰</h4>
<p>Executoræ˜¯MyBatisçš„æ ¸å¿ƒæ‰§è¡Œå™¨ï¼Œè´Ÿè´£SQLçš„æ‰§è¡Œã€‚</p>
<p><strong>å¯æ‹¦æˆªæ–¹æ³•ï¼š</strong></p>
<ul>
<li><code>update(MappedStatement ms, Object parameter)</code> - æ‰§è¡Œå¢åˆ æ”¹</li>
<li><code>query(MappedStatement ms, Object parameter, RowBounds rowBounds, ResultHandler resultHandler)</code> - æŸ¥è¯¢</li>
<li><code>query(MappedStatement ms, Object parameter, RowBounds rowBounds, ResultHandler resultHandler, CacheKey cacheKey, BoundSql boundSql)</code> - æŸ¥è¯¢ï¼ˆå¸¦ç¼“å­˜ï¼‰</li>
<li><code>flushStatements()</code> - åˆ·æ–°æ‰¹å¤„ç†</li>
<li><code>commit()</code> - æäº¤äº‹åŠ¡</li>
<li><code>rollback()</code> - å›æ»šäº‹åŠ¡</li>
<li><code>getTransaction()</code> - è·å–äº‹åŠ¡</li>
<li><code>close()</code> - å…³é—­ä¼šè¯</li>
<li><code>isClosed()</code> - æ˜¯å¦å…³é—­</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šæ€§èƒ½ç›‘æ§æ’ä»¶</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Intercepts({
    @Signature(type = Executor.class,
               method = "update",
               args = {MappedStatement.class, Object.class}),
    @Signature(type = Executor.class,
               method = "query",
               args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class})
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceMonitorPlugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> threshold; <span class="hljs-comment">// æ…¢æŸ¥è¯¢é˜ˆå€¼</span>

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">MappedStatement</span> <span class="hljs-variable">ms</span> <span class="hljs-operator">=</span> (MappedStatement) invocation.getArgs()[<span class="hljs-number">0</span>];
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ‰§è¡Œç›®æ ‡æ–¹æ³•</span>
            <span class="hljs-keyword">return</span> invocation.proceed();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
            <span class="hljs-type">long</span> <span class="hljs-variable">time</span> <span class="hljs-operator">=</span> end - start;

            <span class="hljs-keyword">if</span> (time &gt; threshold) {
                <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> ms.getBoundSql(<span class="hljs-literal">null</span>).getSql();
                System.out.println(<span class="hljs-string">"æ…¢æŸ¥è¯¢è­¦å‘Š: "</span> + ms.getId() + <span class="hljs-string">" è€—æ—¶: "</span> + time + <span class="hljs-string">"ms"</span>);
                System.out.println(<span class="hljs-string">"SQL: "</span> + sql);
            }
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setProperties</span><span class="hljs-params">(Properties properties)</span> {
        <span class="hljs-built_in">this</span>.threshold = Long.parseLong(properties.getProperty(<span class="hljs-string">"threshold"</span>, <span class="hljs-string">"1000"</span>));
    }
}
</code></pre>
<h4 data-id="heading-11">3.2 StatementHandlerï¼ˆè¯­å¥å¤„ç†å™¨ï¼‰</h4>
<p>StatementHandlerè´Ÿè´£åˆ›å»ºStatementå¯¹è±¡å¹¶è®¾ç½®å‚æ•°ã€‚</p>
<p><strong>å¯æ‹¦æˆªæ–¹æ³•ï¼š</strong></p>
<ul>
<li><code>prepare(Connection connection)</code> - å‡†å¤‡Statement</li>
<li><code>parameterize(Statement statement)</code> - è®¾ç½®å‚æ•°</li>
<li><code>batch(Statement statement)</code> - æ‰¹å¤„ç†</li>
<li><code>update(Statement statement)</code> - æ‰§è¡Œæ›´æ–°</li>
<li><code>query(Statement statement, ResultHandler resultHandler)</code> - æ‰§è¡ŒæŸ¥è¯¢</li>
<li><code>getBoundSql()</code> - è·å–BoundSql</li>
<li><code>getParameterHandler()</code> - è·å–ParameterHandler</li>
<li><code>getResultHandler()</code> - è·å–ResultSetHandler</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šSQLé‡å†™æ’ä»¶</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Intercepts({
    @Signature(type = StatementHandler.class,
               method = "prepare",
               args = {Connection.class, Integer.class})
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SQLRewritePlugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">StatementHandler</span> <span class="hljs-variable">handler</span> <span class="hljs-operator">=</span> (StatementHandler) invocation.getTarget();
        <span class="hljs-type">BoundSql</span> <span class="hljs-variable">boundSql</span> <span class="hljs-operator">=</span> handler.getBoundSql();
        <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> boundSql.getSql();

        <span class="hljs-comment">// é‡å†™SQLï¼šæ·»åŠ æ•°æ®æƒé™è¿‡æ»¤</span>
        <span class="hljs-keyword">if</span> (sql.toLowerCase().startsWith(<span class="hljs-string">"select"</span>)) {
            sql = rewriteSQL(sql);
            <span class="hljs-comment">// ä½¿ç”¨åå°„ä¿®æ”¹sqlå­—æ®µ</span>
            <span class="hljs-type">Field</span> <span class="hljs-variable">field</span> <span class="hljs-operator">=</span> boundSql.getClass().getDeclaredField(<span class="hljs-string">"sql"</span>);
            field.setAccessible(<span class="hljs-literal">true</span>);
            field.set(boundSql, sql);
        }

        <span class="hljs-keyword">return</span> invocation.proceed();
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">rewriteSQL</span><span class="hljs-params">(String sql)</span> {
        <span class="hljs-comment">// æ·»åŠ æ•°æ®æƒé™è¿‡æ»¤æ¡ä»¶</span>
        <span class="hljs-keyword">return</span> sql + <span class="hljs-string">" AND tenant_id = '"</span> + getCurrentTenantId() + <span class="hljs-string">"'"</span>;
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">getCurrentTenantId</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è·å–å½“å‰ç§Ÿæˆ·ID</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"1001"</span>;
    }
}
</code></pre>
<h4 data-id="heading-12">3.3 ParameterHandlerï¼ˆå‚æ•°å¤„ç†å™¨ï¼‰</h4>
<p>ParameterHandlerè´Ÿè´£è®¾ç½®PreparedStatementçš„å‚æ•°ã€‚</p>
<p><strong>å¯æ‹¦æˆªæ–¹æ³•ï¼š</strong></p>
<ul>
<li><code>getParameterObject()</code> - è·å–å‚æ•°å¯¹è±¡</li>
<li><code>setParameters(PreparedStatement ps)</code> - è®¾ç½®å‚æ•°</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šå‚æ•°åŠ å¯†æ’ä»¶</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Intercepts({
    @Signature(type = ParameterHandler.class,
               method = "setParameters",
               args = {PreparedStatement.class})
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ParameterEncryptPlugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">ParameterHandler</span> <span class="hljs-variable">handler</span> <span class="hljs-operator">=</span> (ParameterHandler) invocation.getTarget();
        <span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">ps</span> <span class="hljs-operator">=</span> (PreparedStatement) invocation.getArgs()[<span class="hljs-number">0</span>];

        <span class="hljs-comment">// è·å–å‚æ•°å¯¹è±¡</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">parameterObject</span> <span class="hljs-operator">=</span> handler.getParameterObject();

        <span class="hljs-keyword">if</span> (parameterObject <span class="hljs-keyword">instanceof</span> User) {
            <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (User) parameterObject;
            <span class="hljs-comment">// åŠ å¯†æ•æ„Ÿå­—æ®µ</span>
            <span class="hljs-keyword">if</span> (user.getPassword() != <span class="hljs-literal">null</span>) {
                user.setPassword(encrypt(user.getPassword()));
            }
        }

        <span class="hljs-comment">// ç»§ç»­æ‰§è¡Œ</span>
        <span class="hljs-keyword">return</span> invocation.proceed();
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">encrypt</span><span class="hljs-params">(String plainText)</span> {
        <span class="hljs-comment">// Base64ç®€å•åŠ å¯†</span>
        <span class="hljs-keyword">return</span> Base64.getEncoder().encodeToString(plainText.getBytes());
    }
}
</code></pre>
<h4 data-id="heading-13">3.4 ResultSetHandlerï¼ˆç»“æœé›†å¤„ç†å™¨ï¼‰</h4>
<p>ResultSetHandlerè´Ÿè´£å°†ResultSetæ˜ å°„ä¸ºJavaå¯¹è±¡ã€‚</p>
<p><strong>å¯æ‹¦æˆªæ–¹æ³•ï¼š</strong></p>
<ul>
<li><code>handleResultSets(Statement stmt)</code> - å¤„ç†ç»“æœé›†</li>
<li><code>handleOutputParameters(CallableStatement cs)</code> - å¤„ç†å­˜å‚¨è¿‡ç¨‹è¾“å‡ºå‚æ•°</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šç»“æœè§£å¯†æ’ä»¶</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Intercepts({
    @Signature(type = ResultSetHandler.class,
               method = "handleResultSets",
               args = {Statement.class})
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResultDecryptPlugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-comment">// æ‰§è¡ŒæŸ¥è¯¢</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> invocation.proceed();

        <span class="hljs-keyword">if</span> (result <span class="hljs-keyword">instanceof</span> List) {
            List&lt;?&gt; list = (List&lt;?&gt;) result;
            <span class="hljs-keyword">for</span> (Object obj : list) {
                <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> User) {
                    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (User) obj;
                    <span class="hljs-comment">// è§£å¯†æ•æ„Ÿå­—æ®µ</span>
                    <span class="hljs-keyword">if</span> (user.getIdCard() != <span class="hljs-literal">null</span>) {
                        user.setIdCard(decrypt(user.getIdCard()));
                    }
                }
            }
        }

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">decrypt</span><span class="hljs-params">(String cipherText)</span> {
        <span class="hljs-comment">// Base64è§£å¯†</span>
        <span class="hljs-type">byte</span>[] decoded = Base64.getDecoder().decode(cipherText);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(decoded);
    }
}
</code></pre>
<h3 data-id="heading-14">å››ã€æ’ä»¶å®ç°æµç¨‹</h3>
<p>ç†è§£æ’ä»¶çš„å®ç°å’Œé…ç½®æµç¨‹éå¸¸é‡è¦ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63ec6d601cf04e6195e137b7161c2de0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768266084&amp;x-signature=PfgiCJnROyaWkBgfLlldqLCtG%2BM%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-15">4.1 å®ç°è‡ªå®šä¹‰æ’ä»¶</h4>
<p><strong>æ­¥éª¤1ï¼šå®ç°Interceptoræ¥å£</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Intercepts({
    @Signature(type = Executor.class,
               method = "query",
               args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class})
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomPlugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-comment">// å‰ç½®é€»è¾‘</span>
        System.out.println(<span class="hljs-string">"Before: "</span> + invocation.getMethod().getName());

        <span class="hljs-comment">// æ‰§è¡Œç›®æ ‡æ–¹æ³•</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> invocation.proceed();

        <span class="hljs-comment">// åç½®é€»è¾‘</span>
        System.out.println(<span class="hljs-string">"After: "</span> + invocation.getMethod().getName());

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">plugin</span><span class="hljs-params">(Object target)</span> {
        <span class="hljs-comment">// ä½¿ç”¨Plugin.wrapåŒ…è£…ç›®æ ‡å¯¹è±¡</span>
        <span class="hljs-keyword">return</span> Plugin.wrap(target, <span class="hljs-built_in">this</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setProperties</span><span class="hljs-params">(Properties properties)</span> {
        <span class="hljs-comment">// è¯»å–é…ç½®å±æ€§</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">propertyName</span> <span class="hljs-operator">=</span> properties.getProperty(<span class="hljs-string">"propertyName"</span>);
        System.out.println(<span class="hljs-string">"Property: "</span> + propertyName);
    }
}
</code></pre>
<h4 data-id="heading-16">4.2 é…ç½®æ’ä»¶</h4>
<p><strong>æ–¹å¼1ï¼šXMLé…ç½®</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ€§èƒ½ç›‘æ§æ’ä»¶ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">"com.example.plugin.PerformanceMonitorPlugin"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"threshold"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1000"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- åˆ†é¡µæ’ä»¶ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">"com.github.pagehelper.PageInterceptor"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"helperDialect"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"mysql"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- è‡ªå®šä¹‰æ’ä»¶ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">"com.example.plugin.CustomPlugin"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"propertyName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"propertyValue"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</code></pre>
<p><strong>æ–¹å¼2ï¼šä»£ç é…ç½®</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ›å»ºConfiguration</span>
<span class="hljs-type">Configuration</span> <span class="hljs-variable">configuration</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>();

<span class="hljs-comment">// æ·»åŠ æ’ä»¶</span>
configuration.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceMonitorPlugin</span>());
configuration.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PageInterceptor</span>());
configuration.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomPlugin</span>());

<span class="hljs-comment">// åˆ›å»ºSqlSessionFactory</span>
<span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(configuration);
</code></pre>
<p><strong>æ–¹å¼3ï¼šSpringé…ç½®</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyBatisConfig</span> {

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> PerformanceMonitorPlugin <span class="hljs-title function_">performanceMonitorPlugin</span><span class="hljs-params">()</span> {
        <span class="hljs-type">PerformanceMonitorPlugin</span> <span class="hljs-variable">plugin</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PerformanceMonitorPlugin</span>();
        <span class="hljs-type">Properties</span> <span class="hljs-variable">properties</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>();
        properties.setProperty(<span class="hljs-string">"threshold"</span>, <span class="hljs-string">"1000"</span>);
        plugin.setProperties(properties);
        <span class="hljs-keyword">return</span> plugin;
    }

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> SqlSessionFactory <span class="hljs-title function_">sqlSessionFactory</span><span class="hljs-params">(DataSource dataSource)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">SqlSessionFactoryBean</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBean</span>();
        sessionFactory.setDataSource(dataSource);

        <span class="hljs-comment">// æ·»åŠ æ’ä»¶</span>
        sessionFactory.setPlugins(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Interceptor</span>[]{
                performanceMonitorPlugin(),
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageInterceptor</span>()
            }
        );

        <span class="hljs-keyword">return</span> sessionFactory.getObject();
    }
}
</code></pre>
<h4 data-id="heading-17">4.3 æ’ä»¶é“¾çš„æ‰§è¡Œé¡ºåº</h4>
<p>å½“é…ç½®äº†å¤šä¸ªæ’ä»¶æ—¶ï¼Œå®ƒä»¬ä¼šå½¢æˆè´£ä»»é“¾ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">åŸå§‹Executor
<span class="hljs-code">    â†“
è¢«Plugin1åŒ…è£…
    â†“
è¢«Plugin2åŒ…è£…
    â†“
è¢«Plugin3åŒ…è£…
    â†“
æœ€ç»ˆä»£ç†å¯¹è±¡
</span></code></pre>
<p><strong>æ‰§è¡Œé¡ºåºï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é…ç½®é¡ºåº</span>
&lt;plugin interceptor=<span class="hljs-string">"Plugin1"</span>/&gt;
&lt;plugin interceptor=<span class="hljs-string">"Plugin2"</span>/&gt;
&lt;plugin interceptor=<span class="hljs-string">"Plugin3"</span>/&gt;

<span class="hljs-comment">// æ‰§è¡Œé¡ºåº</span>
Plugin3.intercept() â†’ Plugin2.intercept() â†’ Plugin1.intercept() â†’ ç›®æ ‡æ–¹æ³•

<span class="hljs-comment">// è¿”å›é¡ºåº</span>
ç›®æ ‡æ–¹æ³• â†’ Plugin1å¤„ç† â†’ Plugin2å¤„ç† â†’ Plugin3å¤„ç† â†’ æœ€ç»ˆç»“æœ
</code></pre>
<h3 data-id="heading-18">äº”ã€åŠ¨æ€ä»£ç†é“¾</h3>
<p>å¤šä¸ªæ’ä»¶ä¼šå½¢æˆå¤šå±‚ä»£ç†ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65d91917add24b7c9d1b12ec97a4f0c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768266084&amp;x-signature=AY2EduC0AhBumeu08NMzLTLZ%2Bz8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-19">5.1 ä»£ç†é“¾çš„æ„å»º</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŸå§‹å¯¹è±¡</span>
<span class="hljs-type">Executor</span> <span class="hljs-variable">target</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleExecutor</span>();

<span class="hljs-comment">// ç¬¬ä¸€æ¬¡åŒ…è£…</span>
<span class="hljs-type">Executor</span> <span class="hljs-variable">proxy1</span> <span class="hljs-operator">=</span> (Executor) Plugin.wrap(target, plugin1);

<span class="hljs-comment">// ç¬¬äºŒæ¬¡åŒ…è£…ï¼ˆåŒ…è£…çš„æ˜¯ä»£ç†å¯¹è±¡ï¼‰</span>
<span class="hljs-type">Executor</span> <span class="hljs-variable">proxy2</span> <span class="hljs-operator">=</span> (Executor) Plugin.wrap(proxy1, plugin2);

<span class="hljs-comment">// ç¬¬ä¸‰æ¬¡åŒ…è£…</span>
<span class="hljs-type">Executor</span> <span class="hljs-variable">proxy3</span> <span class="hljs-operator">=</span> (Executor) Plugin.wrap(proxy2, plugin3);

<span class="hljs-comment">// proxy3æ˜¯æœ€å¤–å±‚çš„ä»£ç†</span>
</code></pre>
<h4 data-id="heading-20">5.2 ä»£ç†é“¾çš„æ‰§è¡Œ</h4>
<pre><code class="hljs language-scss" lang="scss">è°ƒç”¨ proxy3<span class="hljs-selector-class">.query</span>()
    â†“
Plugin3<span class="hljs-selector-class">.invoke</span>()
    â†“
Plugin3<span class="hljs-selector-class">.intercept</span>()
    â†“
invocation<span class="hljs-selector-class">.proceed</span>() è°ƒç”¨ proxy2<span class="hljs-selector-class">.query</span>()
    â†“
Plugin2<span class="hljs-selector-class">.invoke</span>()
    â†“
Plugin2<span class="hljs-selector-class">.intercept</span>()
    â†“
invocation<span class="hljs-selector-class">.proceed</span>() è°ƒç”¨ proxy1<span class="hljs-selector-class">.query</span>()
    â†“
Plugin1<span class="hljs-selector-class">.invoke</span>()
    â†“
Plugin1<span class="hljs-selector-class">.intercept</span>()
    â†“
invocation<span class="hljs-selector-class">.proceed</span>() è°ƒç”¨ target<span class="hljs-selector-class">.query</span>()
    â†“
æ‰§è¡ŒçœŸæ­£çš„æŸ¥è¯¢
    â†“
è¿”å›ç»“æœ
    â†“
Plugin1å¤„ç†è¿”å›å€¼
    â†“
Plugin2å¤„ç†è¿”å›å€¼
    â†“
Plugin3å¤„ç†è¿”å›å€¼
    â†“
æœ€ç»ˆè¿”å›
</code></pre>
<h4 data-id="heading-21">5.3 ä»£ç†é“¾ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Intercepts(@Signature(type = Executor.class, method = "query",
        args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class}))</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Plugin1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        System.out.println(<span class="hljs-string">"Plugin1 Before"</span>);
        <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> invocation.proceed();
        System.out.println(<span class="hljs-string">"Plugin1 After"</span>);
        <span class="hljs-keyword">return</span> result;
    }
}

<span class="hljs-meta">@Intercepts(@Signature(type = Executor.class, method = "query",
        args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class}))</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Plugin2</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        System.out.println(<span class="hljs-string">"Plugin2 Before"</span>);
        <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> invocation.proceed();
        System.out.println(<span class="hljs-string">"Plugin2 After"</span>);
        <span class="hljs-keyword">return</span> result;
    }
}

<span class="hljs-comment">// è¾“å‡ºç»“æœï¼š</span>
<span class="hljs-comment">// Plugin2 Before</span>
<span class="hljs-comment">// Plugin1 Before</span>
<span class="hljs-comment">// æ‰§è¡ŒæŸ¥è¯¢</span>
<span class="hljs-comment">// Plugin1 After</span>
<span class="hljs-comment">// Plugin2 After</span>
</code></pre>
<h3 data-id="heading-22">å…­ã€å…¸å‹åº”ç”¨åœºæ™¯</h3>
<p>æ’ä»¶åœ¨å®é™…å¼€å‘ä¸­æœ‰å¾ˆå¤šåº”ç”¨åœºæ™¯ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c52ee22080dd483fa7c4b17fcca0ecd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768266084&amp;x-signature=EKTNHFhLLi5vOlDQxI1OM8RA4g8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-23">6.1 åˆ†é¡µæ’ä»¶</h4>
<p><strong>PageHelperæ˜¯æœ€è‘—åçš„MyBatisåˆ†é¡µæ’ä»¶ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">"com.github.pagehelper.PageInterceptor"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"helperDialect"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"mysql"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"reasonable"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"true"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
</code></pre>
<p><strong>ä½¿ç”¨ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æŸ¥è¯¢å‰è°ƒç”¨åˆ†é¡µ</span>
PageHelper.startPage(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>);
List&lt;User&gt; users = userMapper.selectAll();

<span class="hljs-comment">// è·å–åˆ†é¡µä¿¡æ¯</span>
PageInfo&lt;User&gt; pageInfo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageInfo</span>&lt;&gt;(users);
System.out.println(<span class="hljs-string">"æ€»æ•°: "</span> + pageInfo.getTotal());
System.out.println(<span class="hljs-string">"é¡µæ•°: "</span> + pageInfo.getPages());
</code></pre>
<h4 data-id="heading-24">6.2 æ€§èƒ½ç›‘æ§æ’ä»¶</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Intercepts({
    @Signature(type = Executor.class,
               method = "update",
               args = {MappedStatement.class, Object.class}),
    @Signature(type = Executor.class,
               method = "query",
               args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class})
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SlowQueryMonitorPlugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(SlowQueryMonitorPlugin.class);
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> slowQueryThreshold;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">MappedStatement</span> <span class="hljs-variable">ms</span> <span class="hljs-operator">=</span> (MappedStatement) invocation.getArgs()[<span class="hljs-number">0</span>];
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();

        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> invocation.proceed();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">cost</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;
            <span class="hljs-keyword">if</span> (cost &gt; slowQueryThreshold) {
                <span class="hljs-type">BoundSql</span> <span class="hljs-variable">boundSql</span> <span class="hljs-operator">=</span> ms.getBoundSql(invocation.getArgs()[<span class="hljs-number">1</span>]);
                <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> boundSql.getSql();
                logger.warn(<span class="hljs-string">"æ…¢æŸ¥è¯¢: {} è€—æ—¶: {}ms\nSQL: {}"</span>, ms.getId(), cost, sql);
            }
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setProperties</span><span class="hljs-params">(Properties properties)</span> {
        <span class="hljs-built_in">this</span>.slowQueryThreshold = Long.parseLong(properties.getProperty(<span class="hljs-string">"threshold"</span>, <span class="hljs-string">"1000"</span>));
    }
}
</code></pre>
<h4 data-id="heading-25">6.3 æ•°æ®æƒé™æ’ä»¶</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Intercepts({
    @Signature(type = StatementHandler.class,
               method = "prepare",
               args = {Connection.class, Integer.class})
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataPermissionPlugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">StatementHandler</span> <span class="hljs-variable">handler</span> <span class="hljs-operator">=</span> (StatementHandler) invocation.getTarget();
        <span class="hljs-type">BoundSql</span> <span class="hljs-variable">boundSql</span> <span class="hljs-operator">=</span> handler.getBoundSql();
        <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> boundSql.getSql();

        <span class="hljs-comment">// è·å–å½“å‰ç”¨æˆ·çš„æ•°æ®æƒé™</span>
        Set&lt;Long&gt; deptIds = getCurrentUserDeptIds();

        <span class="hljs-comment">// é‡å†™SQLï¼Œæ·»åŠ æ•°æ®æƒé™è¿‡æ»¤</span>
        <span class="hljs-keyword">if</span> (sql.toLowerCase().startsWith(<span class="hljs-string">"select"</span>) &amp;&amp; !deptIds.isEmpty()) {
            <span class="hljs-type">String</span> <span class="hljs-variable">condition</span> <span class="hljs-operator">=</span> <span class="hljs-string">"dept_id IN ("</span> + String.join(<span class="hljs-string">","</span>, deptIds.toString()) + <span class="hljs-string">")"</span>;
            sql = addDataPermission(sql, condition);

            <span class="hljs-comment">// ä½¿ç”¨åå°„ä¿®æ”¹SQL</span>
            <span class="hljs-type">Field</span> <span class="hljs-variable">field</span> <span class="hljs-operator">=</span> boundSql.getClass().getDeclaredField(<span class="hljs-string">"sql"</span>);
            field.setAccessible(<span class="hljs-literal">true</span>);
            field.set(boundSql, sql);
        }

        <span class="hljs-keyword">return</span> invocation.proceed();
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">addDataPermission</span><span class="hljs-params">(String sql, String condition)</span> {
        <span class="hljs-comment">// ç®€å•å®ç°ï¼šåœ¨WHEREåæ·»åŠ æ¡ä»¶</span>
        <span class="hljs-keyword">if</span> (sql.toLowerCase().contains(<span class="hljs-string">"where"</span>)) {
            <span class="hljs-keyword">return</span> sql + <span class="hljs-string">" AND "</span> + condition;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> sql + <span class="hljs-string">" WHERE "</span> + condition;
        }
    }

    <span class="hljs-keyword">private</span> Set&lt;Long&gt; <span class="hljs-title function_">getCurrentUserDeptIds</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä»ä¸Šä¸‹æ–‡è·å–å½“å‰ç”¨æˆ·çš„æ•°æ®æƒé™</span>
        <span class="hljs-keyword">return</span> SecurityContextHolder.getCurrentUserDataPermission();
    }
}
</code></pre>
<h4 data-id="heading-26">6.4 ä¹è§‚é”æ’ä»¶</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Intercepts({
    @Signature(type = Executor.class,
               method = "update",
               args = {MappedStatement.class, Object.class})
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OptimisticLockPlugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">Object</span> <span class="hljs-variable">parameter</span> <span class="hljs-operator">=</span> invocation.getArgs()[<span class="hljs-number">1</span>];

        <span class="hljs-keyword">if</span> (parameter <span class="hljs-keyword">instanceof</span> BaseEntity) {
            <span class="hljs-type">BaseEntity</span> <span class="hljs-variable">entity</span> <span class="hljs-operator">=</span> (BaseEntity) parameter;
            <span class="hljs-comment">// è‡ªåŠ¨è®¾ç½®ç‰ˆæœ¬å·</span>
            <span class="hljs-keyword">if</span> (entity.getVersion() == <span class="hljs-literal">null</span>) {
                entity.setVersion(<span class="hljs-number">0</span>);
            } <span class="hljs-keyword">else</span> {
                entity.setVersion(entity.getVersion() + <span class="hljs-number">1</span>);
            }
        }

        <span class="hljs-keyword">return</span> invocation.proceed();
    }
}
</code></pre>
<h4 data-id="heading-27">6.5 å®¡è®¡æ—¥å¿—æ’ä»¶</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Intercepts({
    @Signature(type = Executor.class,
               method = "update",
               args = {MappedStatement.class, Object.class})
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AuditLogPlugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">MappedStatement</span> <span class="hljs-variable">ms</span> <span class="hljs-operator">=</span> (MappedStatement) invocation.getArgs()[<span class="hljs-number">0</span>];
        <span class="hljs-type">Object</span> <span class="hljs-variable">parameter</span> <span class="hljs-operator">=</span> invocation.getArgs()[<span class="hljs-number">1</span>];

        <span class="hljs-comment">// è®°å½•æ“ä½œæ—¥å¿—</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">operation</span> <span class="hljs-operator">=</span> ms.getId();
        <span class="hljs-type">String</span> <span class="hljs-variable">operator</span> <span class="hljs-operator">=</span> getCurrentUser();
        <span class="hljs-type">Date</span> <span class="hljs-variable">operateTime</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();

        System.out.println(<span class="hljs-string">"æ“ä½œäºº: "</span> + operator);
        System.out.println(<span class="hljs-string">"æ“ä½œæ—¶é—´: "</span> + operateTime);
        System.out.println(<span class="hljs-string">"æ“ä½œç±»å‹: "</span> + operation);
        System.out.println(<span class="hljs-string">"æ“ä½œæ•°æ®: "</span> + parameter);

        <span class="hljs-comment">// æ‰§è¡Œç›®æ ‡æ–¹æ³•</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> invocation.proceed();

        <span class="hljs-comment">// è®°å½•æ“ä½œç»“æœ</span>
        System.out.println(<span class="hljs-string">"å½±å“è¡Œæ•°: "</span> + result);

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">getCurrentUser</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è·å–å½“å‰ç™»å½•ç”¨æˆ·</span>
        <span class="hljs-keyword">return</span> SecurityContextHolder.getCurrentUser().getUsername();
    }
}
</code></pre>
<h3 data-id="heading-28">ä¸ƒã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-29">7.1 æ’ä»¶è®¾è®¡åŸåˆ™</h4>
<ol>
<li><strong>æœ€å°ä¾µå…¥</strong>ï¼šå°½é‡ä¸ä¿®æ”¹åŸæœ‰é€»è¾‘</li>
<li><strong>å¯é…ç½®æ€§</strong>ï¼šé€šè¿‡å±æ€§é…ç½®å¼€å…³</li>
<li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šé¿å…åœ¨æ’ä»¶ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œ</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šå¦¥å–„å¤„ç†å¼‚å¸¸ï¼Œé¿å…å½±å“æ­£å¸¸æµç¨‹</li>
<li><strong>æ—¥å¿—è®°å½•</strong>ï¼šè®°å½•å…³é”®æ“ä½œæ—¥å¿—</li>
</ol>
<h4 data-id="heading-30">7.2 æ€§èƒ½ä¼˜åŒ–</h4>
<ol>
<li><strong>å‡å°‘åå°„ä½¿ç”¨</strong>ï¼šç¼“å­˜Field/Methodå¯¹è±¡</li>
<li><strong>é¿å…å¤æ‚è®¡ç®—</strong>ï¼šæ’ä»¶é€»è¾‘è¦ç®€å•é«˜æ•ˆ</li>
<li><strong>ä½¿ç”¨ç¼“å­˜</strong>ï¼šç¼“å­˜å¸¸ç”¨æ•°æ®</li>
<li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šæ—¥å¿—ç­‰æ“ä½œå¼‚æ­¥æ‰§è¡Œ</li>
</ol>
<h4 data-id="heading-31">7.3 å¸¸è§é—®é¢˜è§£å†³</h4>
<h5 data-id="heading-32">é—®é¢˜1ï¼šæ’ä»¶ä¸ç”Ÿæ•ˆ</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŸå› ï¼š@Signatureé…ç½®é”™è¯¯</span>
<span class="hljs-comment">// é”™è¯¯ï¼šæ–¹æ³•ç­¾åä¸åŒ¹é…</span>
<span class="hljs-meta">@Signature(type = Executor.class,
           method = "query",
           args = {MappedStatement.class, Object.class})</span> <span class="hljs-comment">// ç¼ºå°‘å‚æ•°</span>

<span class="hljs-comment">// æ­£ç¡®ï¼šå®Œæ•´çš„æ–¹æ³•ç­¾å</span>
<span class="hljs-meta">@Signature(type = Executor.class,
           method = "query",
           args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class})</span>
</code></pre>
<h5 data-id="heading-33">é—®é¢˜2ï¼šä¿®æ”¹SQLå¤±è´¥</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åŸå› ï¼šç›´æ¥ä¿®æ”¹sqlå­—æ®µä¸ç”Ÿæ•ˆ</span>
boundSql.setSql(newSql); <span class="hljs-comment">// BoundSqlæ²¡æœ‰setSqlæ–¹æ³•</span>

<span class="hljs-comment">// æ­£ç¡®ï¼šä½¿ç”¨åå°„ä¿®æ”¹</span>
<span class="hljs-type">Field</span> <span class="hljs-variable">field</span> <span class="hljs-operator">=</span> boundSql.getClass().getDeclaredField(<span class="hljs-string">"sql"</span>);
field.setAccessible(<span class="hljs-literal">true</span>);
field.set(boundSql, newSql);
</code></pre>
<h5 data-id="heading-34">é—®é¢˜3ï¼šæ’ä»¶é¡ºåºæ··ä¹±</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å»ºè®®ï¼šæŒ‰æ‰§è¡Œé¡ºåºé…ç½® --&gt;</span>
<span class="hljs-comment">&lt;!-- åˆ†é¡µæ’ä»¶åº”è¯¥å…ˆæ‰§è¡Œ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">"PageInterceptor"</span>/&gt;</span>

<span class="hljs-comment">&lt;!-- æ•°æ®æƒé™æ’ä»¶åæ‰§è¡Œ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">"DataPermissionPlugin"</span>/&gt;</span>
</code></pre>
<h4 data-id="heading-35">7.4 æ’ä»¶å¼€å‘æ¨¡æ¿</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æ’ä»¶å¼€å‘æ¨¡æ¿
 */</span>
<span class="hljs-meta">@Intercepts({
    @Signature(type = Executor.class,
               method = "query",
               args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class})
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TemplatePlugin</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(TemplatePlugin.class);

    <span class="hljs-comment">// é…ç½®å±æ€§</span>
    <span class="hljs-keyword">private</span> String configProperty;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-comment">// 1. å‰ç½®å¤„ç†</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">target</span> <span class="hljs-operator">=</span> invocation.getTarget();
        <span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> invocation.getMethod();
        Object[] args = invocation.getArgs();

        logger.debug(<span class="hljs-string">"Before intercept: {}"</span>, method.getName());

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 2. æ‰§è¡Œç›®æ ‡æ–¹æ³•</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> invocation.proceed();

            <span class="hljs-comment">// 3. åç½®å¤„ç†</span>
            logger.debug(<span class="hljs-string">"After intercept: {}"</span>, method.getName());

            <span class="hljs-keyword">return</span> result;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// 4. å¼‚å¸¸å¤„ç†</span>
            logger.error(<span class="hljs-string">"Plugin error"</span>, e);
            <span class="hljs-keyword">throw</span> e;
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">plugin</span><span class="hljs-params">(Object target)</span> {
        <span class="hljs-keyword">return</span> Plugin.wrap(target, <span class="hljs-built_in">this</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setProperties</span><span class="hljs-params">(Properties properties)</span> {
        <span class="hljs-built_in">this</span>.configProperty = properties.getProperty(<span class="hljs-string">"configProperty"</span>, <span class="hljs-string">"defaultValue"</span>);
        logger.info(<span class="hljs-string">"Plugin initialized with property: {}"</span>, configProperty);
    }
}
</code></pre>
<h3 data-id="heading-36">å…«ã€æ€»ç»“</h3>
<p>MyBatisçš„æ’ä»¶æ¨¡å—æä¾›äº†å¼ºå¤§çš„æ‰©å±•èƒ½åŠ›ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥åœ¨ä¸ä¿®æ”¹æºç çš„æƒ…å†µä¸‹å¢å¼ºæ¡†æ¶åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-37">æ ¸å¿ƒè¦ç‚¹</h4>
<ol>
<li><strong>Interceptoræ¥å£</strong>ï¼šå®šä¹‰æ’ä»¶çš„æ ¸å¿ƒæ¥å£</li>
<li><strong>å››å¤§æ‹¦æˆªç‚¹</strong>ï¼šExecutorã€StatementHandlerã€ParameterHandlerã€ResultSetHandler</li>
<li><strong>åŠ¨æ€ä»£ç†</strong>ï¼šåŸºäºJDKåŠ¨æ€ä»£ç†å®ç°</li>
<li><strong>è´£ä»»é“¾æ¨¡å¼</strong>ï¼šå¤šä¸ªæ’ä»¶å½¢æˆè´£ä»»é“¾</li>
<li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šåˆ†é¡µã€ç›‘æ§ã€æƒé™ã€åŠ å¯†ã€æ—¥å¿—ç­‰</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®© JSON æ•°æ®å¯è§†åŒ–ï¼šä¸¤æ¬¾ Vue ç»„ä»¶å®æˆ˜è§£æ]]></title>    <link>https://juejin.cn/post/7591801024009830409</link>    <guid>https://juejin.cn/post/7591801024009830409</guid>    <pubDate>2026-01-06T03:23:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591801024009830409" data-draft-id="7591800417255358473" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®© JSON æ•°æ®å¯è§†åŒ–ï¼šä¸¤æ¬¾ Vue ç»„ä»¶å®æˆ˜è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-06T03:23:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å¤§é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/395479916219517"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®© JSON æ•°æ®å¯è§†åŒ–ï¼šä¸¤æ¬¾ Vue ç»„ä»¶å®æˆ˜è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/395479916219517/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å¤§é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T03:23:41.000Z" title="Tue Jan 06 2026 03:23:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘çš„é¡¹ç›®ä¸­æ­£å¥½é‡åˆ°JSONæ ¼å¼åŒ–å±•ç¤ºçš„éœ€æ±‚ï¼Œéœ€è¦åœ¨å‰ç«¯æ¸…æ™°ç¾è§‚çš„å±•ç¤ºJSONæ•°æ®ç»“æ„ã€‚</p>
<p>è°ƒç ”äº†ä¸‹Vueç”Ÿæ€ä¸­æœ‰ä¸¤æ¬¾å‡ºè‰²çš„ç»„ä»¶ï¼švue-json-prettyå’Œvue-json-viewerï¼Œå®ƒä»¬éƒ½èƒ½å°†JSONæ•°æ®å˜å¾—ç›´è§‚æ˜“è¯»ã€‚</p>
<h2 data-id="heading-0">ç»„ä»¶å®šä½ä¸æ ¸å¿ƒå·®å¼‚</h2>
<p><strong>vue-json-pretty</strong>æ›´åƒæ˜¯<strong>åŠŸèƒ½å…¨é¢çš„JSONç¼–è¾‘å™¨</strong>ã€‚å®ƒé‡‡ç”¨æ ‘å½¢ç»“æ„å±•ç¤ºæ•°æ®ï¼Œæ”¯æŒèŠ‚ç‚¹ç¼–è¾‘ã€è™šæ‹Ÿæ»šåŠ¨å’Œæ·±åº¦è‡ªå®šä¹‰ã€‚å¦‚æœä½ éœ€è¦ç”¨æˆ·äº¤äº’æˆ–å¤„ç†å¤§å‹æ•°æ®é›†ï¼Œè¿™æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚</p>
<p><strong>vue-json-viewer</strong>åˆ™å®šä½ä¸º<strong>ç®€æ´é«˜æ•ˆçš„æŸ¥çœ‹å™¨</strong>ã€‚å®ƒä¸“æ³¨äºå¿«é€Ÿå±•ç¤ºå’Œä¾¿æ·å¤åˆ¶ï¼ŒAPIç®€å•ç›´æ¥ã€‚å¯¹äºåªéœ€å±•ç¤ºä¸éœ€ç¼–è¾‘çš„åœºæ™¯ï¼Œå®ƒæ›´åŠ è½»é‡å®ç”¨ã€‚</p>
<p>å®é™…é€‰æ‹©æ—¶ï¼Œé—®é—®è‡ªå·±ï¼šéœ€è¦ç¼–è¾‘åŠŸèƒ½å—ï¼Ÿæ•°æ®é‡æœ‰å¤šå¤§ï¼Ÿéœ€è¦å¤šæ·±çš„è‡ªå®šä¹‰ï¼Ÿå›ç­”è¿™äº›é—®é¢˜åï¼Œé€‰æ‹©å°±æ¸…æ™°äº†ã€‚</p>
<h2 data-id="heading-1">vue-json-prettyï¼šç¾è§‚å®ç”¨çš„JSONç¼–è¾‘å™¨</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17eda1a282704bd7b9a616d1a89c8db7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5aSn6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768274620&amp;x-signature=ghgMp6mFBsBdtWOeO2auxP4shcg%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">åŸºç¡€ä½¿ç”¨</h3>
<p>å®‰è£…å¾ˆç®€å•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Vue 3</span>
npm install vue-json-pretty --save

<span class="hljs-comment"># Vue 2</span>
npm install vue-json-pretty@v1-latest --save
</code></pre>
<p>åŸºæœ¬é›†æˆï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">vue-json-pretty</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"apiResponse"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">VueJsonPretty</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-json-pretty'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'vue-json-pretty/lib/styles.css'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">components</span>: { <span class="hljs-title class_">VueJsonPretty</span> },
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">apiResponse</span>: {
        <span class="hljs-attr">user</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">123</span> },
        <span class="hljs-attr">status</span>: <span class="hljs-string">'active'</span>,
        <span class="hljs-attr">permissions</span>: [<span class="hljs-string">'read'</span>, <span class="hljs-string">'write'</span>]
      }
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">æ ¸å¿ƒä¼˜åŠ¿</h3>
<p><strong>æ ‘å½¢ç»“æ„æ¸…æ™°</strong>ï¼šç¼©è¿›å’Œè¿æ¥çº¿è®©åµŒå¥—æ•°æ®ä¸€ç›®äº†ç„¶ã€‚æ•°ç»„å’Œå¯¹è±¡ä¼šæ˜¾ç¤ºé•¿åº¦ï¼Œå¿«é€ŸæŒæ¡æ•°æ®ç»“æ„ã€‚</p>
<p><strong>ç¼–è¾‘åŠŸèƒ½å®ç”¨</strong>ï¼šå¼€å¯ç¼–è¾‘æ¨¡å¼åï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥ä¿®æ”¹æ•°å€¼ï¼ˆpsï¼šæ‰€ä»¥æˆ‘æœ€åé€‰äº†å®ƒï¼‰ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">vue-json-pretty</span>
  <span class="hljs-attr">:data</span>=<span class="hljs-string">"configData"</span>
  <span class="hljs-attr">:editable</span>=<span class="hljs-string">"true"</span>
  @<span class="hljs-attr">data-change</span>=<span class="hljs-string">"handleConfigUpdate"</span>
/&gt;</span>
</code></pre>
<p>è¿™å¯¹äºé…ç½®ç¼–è¾‘å™¨ã€ä¸»é¢˜å®šåˆ¶å™¨ç­‰åœºæ™¯ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<p><strong>è™šæ‹Ÿæ»šåŠ¨å¤„ç†å¤§æ•°æ®</strong>ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">vue-json-pretty</span>
  <span class="hljs-attr">:data</span>=<span class="hljs-string">"largeDataset"</span>
  <span class="hljs-attr">:virtual</span>=<span class="hljs-string">"true"</span>
  <span class="hljs-attr">:item-height</span>=<span class="hljs-string">"24"</span>
/&gt;</span>
</code></pre>
<p>å³ä½¿æ¸²æŸ“æ•°åƒèŠ‚ç‚¹ï¼Œä¾ç„¶ä¿æŒæµç•…ã€‚</p>
<p><strong>é«˜åº¦å¯å®šåˆ¶</strong>ï¼šæ§åˆ¶å±•ç¤ºç»†èŠ‚çš„é€‰é¡¹ä¸°å¯Œï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">vue-json-pretty</span>
  <span class="hljs-attr">:data</span>=<span class="hljs-string">"complexData"</span>
  <span class="hljs-attr">:show-length</span>=<span class="hljs-string">"true"</span>
  <span class="hljs-attr">:show-line</span>=<span class="hljs-string">"true"</span>
  <span class="hljs-attr">:deep</span>=<span class="hljs-string">"3"</span>
  <span class="hljs-attr">:highlight-selected</span>=<span class="hljs-string">"true"</span>
  <span class="hljs-attr">:custom-value</span>=<span class="hljs-string">"renderTimestamp"</span>
/&gt;</span>
</code></pre>
<h3 data-id="heading-4">å®æˆ˜ï¼šAPIè°ƒè¯•é¢æ¿</h3>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘å¸¸ç”¨å®ƒæ„å»ºAPIè°ƒè¯•å·¥å…·ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"api-debugger"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"request-panel"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>è¯·æ±‚å‚æ•°<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">vue-json-pretty</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"requestParams"</span> <span class="hljs-attr">:deep</span>=<span class="hljs-string">"2"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"response-panel"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>å“åº”æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">vue-json-pretty</span> 
        <span class="hljs-attr">:data</span>=<span class="hljs-string">"responseData"</span>
        <span class="hljs-attr">:highlight-selected</span>=<span class="hljs-string">"true"</span>
        @<span class="hljs-attr">node-click</span>=<span class="hljs-string">"copyNodeValue"</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h2 data-id="heading-5">vue-json-viewerï¼šè½»é‡é«˜æ•ˆçš„æŸ¥çœ‹åˆ©å™¨</h2>
<h3 data-id="heading-6">å¿«é€Ÿé›†æˆ</h3>
<p>æŒ‰Vueç‰ˆæœ¬é€‰æ‹©å®‰è£…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Vue 2</span>
npm install vue-json-viewer@2 --save

<span class="hljs-comment"># Vue 3  </span>
npm install vue-json-viewer@3 --save
</code></pre>
<p>åŸºæœ¬ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">json-viewer</span> 
    <span class="hljs-attr">:value</span>=<span class="hljs-string">"logData"</span>
    <span class="hljs-attr">:expand-depth</span>=<span class="hljs-string">"2"</span>
    <span class="hljs-attr">copyable</span>
    <span class="hljs-attr">boxed</span>
  /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">JsonViewer</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-json-viewer'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'vue-json-viewer/style.css'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">components</span>: { <span class="hljs-title class_">JsonViewer</span> },
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">logData</span>: {
        <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
        <span class="hljs-attr">level</span>: <span class="hljs-string">'error'</span>,
        <span class="hljs-attr">message</span>: <span class="hljs-string">'æ•°æ®åº“è¿æ¥å¤±è´¥'</span>,
        <span class="hljs-attr">details</span>: { <span class="hljs-attr">retryCount</span>: <span class="hljs-number">3</span> }
      }
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-7">è®¾è®¡ç‰¹ç‚¹</h3>
<p><strong>æç®€ä½†å®ç”¨</strong>ï¼šæ²¡æœ‰å¤šä½™åŠŸèƒ½ï¼Œä½†å¤åˆ¶ã€æŠ˜å ã€ä¸»é¢˜åˆ‡æ¢éƒ½åšå¾—å¾ˆå¥½ã€‚é»˜è®¤æ ·å¼æ¸…çˆ½ï¼Œé¢œè‰²åŒºåˆ†æ˜æ˜¾ã€‚</p>
<p><strong>ä¸€é”®å¤åˆ¶</strong>ï¼šæ·»åŠ <code>copyable</code>å±æ€§ï¼Œæ¯ä¸ªå€¼æ—éƒ½ä¼šå‡ºç°å¤åˆ¶æŒ‰é’®ï¼Œè°ƒè¯•æ—¶ç‰¹åˆ«æ–¹ä¾¿ã€‚</p>
<p><strong>æ€§èƒ½ä¼˜åŒ–å¥½</strong>ï¼šé‡‡ç”¨å»¶è¿ŸåŠ è½½ç­–ç•¥ï¼Œå¤§æ–‡ä»¶åˆå§‹åŠ è½½å¿«ã€‚ä½†è¦æ³¨æ„ï¼Œè¿™ä¼šå½±å“æµè§ˆå™¨çš„å…¨å±€æœç´¢åŠŸèƒ½ï¼ˆCtrl+Få¯èƒ½æ‰¾ä¸åˆ°æœªæ¸²æŸ“å†…å®¹ï¼‰ã€‚</p>
<p><strong>ä¸»é¢˜æ”¯æŒ</strong>ï¼šè½»æ¾åˆ‡æ¢æ˜æš—ä¸»é¢˜ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">json-viewer</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">"data"</span> <span class="hljs-attr">theme</span>=<span class="hljs-string">"dark"</span> /&gt;</span>
</code></pre>
<h3 data-id="heading-8">å®æˆ˜ï¼šç³»ç»Ÿæ—¥å¿—æŸ¥çœ‹å™¨</h3>
<p>å¯¹äºæ—¥å¿—æŸ¥çœ‹åœºæ™¯ï¼Œvue-json-vieweréå¸¸åˆé€‚ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"log-viewer"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(log, index) in filteredLogs"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"log-meta"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"level-tag"</span>&gt;</span>{{ log.level }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"time"</span>&gt;</span>{{ formatTime(log.timestamp) }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">json-viewer</span> 
        <span class="hljs-attr">:value</span>=<span class="hljs-string">"log.data"</span>
        <span class="hljs-attr">:expand-depth</span>=<span class="hljs-string">"log.level === 'error' ? 3 : 1"</span>
        <span class="hljs-attr">copyable</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h2 data-id="heading-9">å†³ç­–æŒ‡å—ï¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h2>
<p>æ ¹æ®æˆ‘çš„ä½¿ç”¨ç»éªŒï¼Œé€‰æ‹©å»ºè®®å¦‚ä¸‹ï¼š</p>
<p><strong>é€‰vue-json-prettyå½“ï¼š</strong></p>
<ul>
<li>éœ€è¦ç¼–è¾‘JSONæ•°æ®</li>
<li>å¤„ç†è¶…å¤§å‹æ•°æ®é›†ï¼ˆ&gt;5MBï¼‰</li>
<li>è¦æ±‚æ·±åº¦è‡ªå®šä¹‰æ ·å¼å’Œäº¤äº’</li>
<li>æ„å»ºå¼€å‘è€…å·¥å…·æˆ–ç®¡ç†åå°</li>
</ul>
<p><strong>é€‰vue-json-viewerå½“ï¼š</strong></p>
<ul>
<li>åªéœ€æŸ¥çœ‹ä¸å¯ç¼–è¾‘</li>
<li>éœ€è¦é¢‘ç¹å¤åˆ¶å­—æ®µå€¼</li>
<li>é¡¹ç›®å¯¹åŒ…ä½“ç§¯æ•æ„Ÿ</li>
<li>å¿«é€Ÿé›†æˆï¼Œæœ€å°é…ç½®</li>
</ul>
<h2 data-id="heading-10">å®ç”¨æŠ€å·§</h2>
<p><strong>å¤„ç†å¾ªç¯å¼•ç”¨</strong>ï¼šä¸¤ä¸ªç»„ä»¶é‡åˆ°å¾ªç¯å¼•ç”¨éƒ½ä¼šå‡ºé”™ã€‚ä¼ é€’æ•°æ®å‰å…ˆå¤„ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">safeStringify</span>(<span class="hljs-params">obj</span>) {
  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>()
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj, <span class="hljs-function">(<span class="hljs-params">key, value</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'object'</span> &amp;&amp; value !== <span class="hljs-literal">null</span>) {
      <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">has</span>(value)) <span class="hljs-keyword">return</span> <span class="hljs-string">'[Circular]'</span>
      cache.<span class="hljs-title function_">add</span>(value)
    }
    <span class="hljs-keyword">return</span> value
  })
}
</code></pre>
<p><strong>è‡ªå®šä¹‰æ ·å¼</strong>ï¼šä½¿ç”¨æ·±åº¦é€‰æ‹©å™¨è¦†ç›–é»˜è®¤æ ·å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">::v-deep .vjs-tree {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Monaco'</span>, <span class="hljs-string">'Menlo'</span>, monospace;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">13px</span>;
}
</code></pre>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>vue-json-prettyå’Œvue-json-vieweréƒ½æ˜¯ä¼˜ç§€çš„Vue JSONç»„ä»¶ï¼Œé€‰æ‹©å–å†³äºå…·ä½“éœ€æ±‚ã€‚
éœ€è¦åŠŸèƒ½å…¨é¢ã€æ”¯æŒç¼–è¾‘ã€å¤„ç†å¤§æ•°æ®ï¼Ÿé€‰vue-json-prettyã€‚åªéœ€ç®€å•å±•ç¤ºã€å¿«é€Ÿé›†æˆã€ä¾¿æ·å¤åˆ¶ï¼Ÿé€‰vue-json-viewerã€‚</p>
<hr/>
<p>ä½ æ˜¯å¦æœ‰æ›´å¥½çš„JSONå±•ç¤ºç»„ä»¶æ¨èï¼Ÿæ¬¢è¿è¯„è®ºåŒºç•™è¨€ã€‚</p>
<p>å…³æ³¨å¾®ä¿¡å…¬ä¼—å·" <strong>å¤§å‰ç«¯å†é™©è®°</strong>"ï¼ŒæŒæ¡æ›´å¤šå‰ç«¯å¼€å‘å¹²è´§å§¿åŠ¿ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++ ç¨‹åºå‘˜ä¸€å®šè¦ä¼šçš„ RPC æ¡†æ¶ï¼šgRPC ä»åŸç†åˆ°å®æˆ˜ï¼Œä¸€æ¬¡å†™é€šæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯]]></title>    <link>https://juejin.cn/post/7591993600389726259</link>    <guid>https://juejin.cn/post/7591993600389726259</guid>    <pubDate>2026-01-06T06:07:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591993600389726259" data-draft-id="7591792747776376842" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++ ç¨‹åºå‘˜ä¸€å®šè¦ä¼šçš„ RPC æ¡†æ¶ï¼šgRPC ä»åŸç†åˆ°å®æˆ˜ï¼Œä¸€æ¬¡å†™é€šæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯"/> <meta itemprop="keywords" content="åç«¯,gRPC,C++"/> <meta itemprop="datePublished" content="2026-01-06T06:07:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GetcharZp"/> <meta itemprop="url" content="https://juejin.cn/user/4328150938692264"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++ ç¨‹åºå‘˜ä¸€å®šè¦ä¼šçš„ RPC æ¡†æ¶ï¼šgRPC ä»åŸç†åˆ°å®æˆ˜ï¼Œä¸€æ¬¡å†™é€šæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4328150938692264/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GetcharZp
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T06:07:42.000Z" title="Tue Jan 06 2026 06:07:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    37
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><blockquote>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé‡Œï¼ŒæœåŠ¡ä¹‹é—´åˆ°åº•æ˜¯æ€ä¹ˆâ€œåƒå‡½æ•°è°ƒç”¨ä¸€æ ·é€šä¿¡â€çš„ï¼Ÿ<br/>
æœ¬æ–‡ä» gRPC çš„è®¾è®¡æ€æƒ³è®²èµ·ï¼Œç³»ç»Ÿæ¢³ç†å®ƒçš„èƒ½åŠ›ã€ä¼˜ç¼ºç‚¹å’ŒçœŸå®ä½¿ç”¨åœºæ™¯ï¼Œå¹¶ç”¨ <strong>C++ å®ç°ä¸€ä¸ªå®Œæ•´å¯è·‘çš„ gRPC æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯</strong>ï¼Œä¸€æ­¥åˆ°ä½ï¼Œå¸®ä½ çœŸæ­£ç†è§£ gRPC åœ¨å·¥ç¨‹ä¸­çš„ä»·å€¼ã€‚</p>
<p>Github: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgrpc%2Fgrpc" target="_blank" title="https://github.com/grpc/grpc" ref="nofollow noopener noreferrer">github.com/grpc/grpc</a></p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/985f6f97eb504f3ca0e9b9179dac48fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2V0Y2hhclpw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768313344&amp;x-signature=8xPmRz1Fc%2FBOZyGxA2pnsrNgImI%3D" alt="b1a13da1e5769bb8721984afde9b99b1.png" loading="lazy"/></p>
<h3 data-id="heading-0">ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šçš„ç³»ç»Ÿåœ¨ç”¨ gRPCï¼Ÿ</h3>
<p>åœ¨æ—©æœŸçš„æœåŠ¡é€šä¿¡ä¸­ï¼Œæˆ‘ä»¬æœ€å¸¸è§çš„æ–¹æ¡ˆæ— éä¸¤ç§ï¼š<br/>
ä¸€ç§æ˜¯ <strong>HTTP + JSON</strong>ï¼Œç®€å•ç›´è§‚ï¼Œä½†æ€§èƒ½å’Œè§„èŒƒæ€§å§‹ç»ˆæ˜¯ç“¶é¢ˆï¼›<br/>
å¦ä¸€ç§æ˜¯è‡ªå·±é€  RPC è½®å­ï¼Œæˆæœ¬é«˜ã€ç»´æŠ¤éš¾ã€åè®®æ··ä¹±ã€‚</p>
<p>gRPC çš„å‡ºç°ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯åœ¨è§£å†³ä¸€ä¸ªé—®é¢˜ï¼š<br/>
<strong>å¦‚ä½•è®©è·¨è¿›ç¨‹ã€è·¨æœºå™¨çš„æœåŠ¡è°ƒç”¨ï¼Œåƒæœ¬åœ°å‡½æ•°è°ƒç”¨ä¸€æ ·è‡ªç„¶ï¼Ÿ</strong></p>
<p>gRPC æ˜¯ Google å¼€æºçš„ä¸€å¥—é«˜æ€§èƒ½ RPC æ¡†æ¶ï¼Œæ ¸å¿ƒç‰¹ç‚¹æœ‰ä¸‰ä¸ªï¼š</p>
<ul>
<li>åŸºäº <strong>HTTP/2</strong></li>
<li>ä½¿ç”¨ <strong>Protocol Buffers</strong> ä½œä¸ºæ¥å£æè¿°å’Œåºåˆ—åŒ–åè®®</li>
<li>å¼ºçº¦æŸçš„æ¥å£å®šä¹‰</li>
</ul>
<p>è¿™ä¸‰ä¸ªè®¾è®¡ï¼Œå†³å®šäº† gRPC å¤©ç”Ÿå°±ä¸æ˜¯â€œå†™ç»™å°è„šæœ¬ç”¨çš„â€ï¼Œè€Œæ˜¯é¢å‘<strong>ä¸­å¤§å‹ç³»ç»Ÿã€å¾®æœåŠ¡æ¶æ„</strong>çš„é€šä¿¡åŸºç¡€è®¾æ–½ã€‚</p>
<h3 data-id="heading-1">ä¼˜ç‚¹å’Œç¼ºç‚¹</h3>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>æ€§èƒ½å¥½ï¼Œå»¶è¿Ÿä½</li>
<li>æ¥å£è§„èŒƒæ¸…æ™°ï¼Œé€‚åˆå›¢é˜Ÿåä½œ</li>
<li>å·¥å…·é“¾æˆç†Ÿï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç </li>
<li>å¯¹å¾®æœåŠ¡éå¸¸å‹å¥½</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>å­¦ä¹ æˆæœ¬é«˜äº REST</li>
<li>è°ƒè¯•ä¸å¦‚ HTTP ç›´è§‚</li>
<li>å¯¹æµè§ˆå™¨ä¸å‹å¥½ï¼ˆéœ€è¦ gRPC-Webï¼‰</li>
<li>protobuf ä¸€æ—¦è®¾è®¡ä¸å¥½ï¼ŒåæœŸæ”¹åŠ¨æˆæœ¬é«˜</li>
</ul>
<p>ä¸€å¥è¯æ€»ç»“ï¼š<br/>
<strong>gRPC éå¸¸é€‚åˆâ€œæœåŠ¡ä¸æœåŠ¡ä¹‹é—´â€ï¼Œä½†å¹¶ä¸é€‚åˆâ€œç›´æ¥æš´éœ²ç»™äººç±»ä½¿ç”¨â€ã€‚</strong></p>
<h3 data-id="heading-2">C++ gRPC å®æˆ˜ï¼šä» 0 åˆ°è·‘èµ·æ¥</h3>
<p>ä¸‹é¢ç”¨ä¸€ä¸ªæœ€ç®€å•çš„ <strong>HelloService</strong>ï¼Œæ¼”ç¤ºå®Œæ•´æµç¨‹ã€‚</p>
<h4 data-id="heading-3">å®‰è£… gRPC ç¯å¢ƒ</h4>
<pre><code class="hljs language-bash" lang="bash">sudo apt-get update
sudo apt-get install -y build-essential autoconf libtool pkg-config
<span class="hljs-comment"># å®‰è£… protobuf ç¼–è¯‘å™¨</span>
sudo apt-get install -y libprotobuf-dev protobuf-compiler
<span class="hljs-comment"># å®‰è£… gRPC åº“å’Œæ’ä»¶</span>
sudo apt-get install -y libgrpc++-dev libgrpc-dev
</code></pre>
<h4 data-id="heading-4">å®šä¹‰ proto æ–‡ä»¶ï¼ˆhello.protoï¼‰</h4>
<pre><code class="hljs language-proto" lang="proto">syntax = "proto3";

package hello;

service HelloService {
  rpc SayHello (HelloRequest) returns (HelloReply);
}

message HelloRequest {
  string name = 1;
}

message HelloReply {
  string message = 1;
}
</code></pre>
<p>ç”Ÿæˆ C++ ä»£ç ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">protoc --grpc_out=. --plugin=protoc-gen-grpc=`<span class="hljs-built_in">which</span> grpc_cpp_plugin` hello.proto
protoc --cpp_out=. hello.proto
</code></pre>
<h4 data-id="heading-5">C++ æœåŠ¡ç«¯å®ç°</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;grpcpp/grpcpp.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"hello.grpc.pb.h"</span></span>

<span class="hljs-keyword">using</span> grpc::Server;
<span class="hljs-keyword">using</span> grpc::ServerBuilder;
<span class="hljs-keyword">using</span> grpc::ServerContext;
<span class="hljs-keyword">using</span> grpc::Status;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServiceImpl</span> <span class="hljs-keyword">final</span> : <span class="hljs-keyword">public</span> hello::HelloService::Service {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">Status <span class="hljs-title">SayHello</span><span class="hljs-params">(ServerContext* context,
                    <span class="hljs-type">const</span> hello::HelloRequest* request,
                    hello::HelloReply* reply)</span> <span class="hljs-keyword">override</span> </span>{
        reply-&gt;<span class="hljs-built_in">set_message</span>(<span class="hljs-string">"Hello, "</span> + request-&gt;<span class="hljs-built_in">name</span>());
        <span class="hljs-keyword">return</span> Status::OK;
    }
};

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">std::string <span class="hljs-title">server_address</span><span class="hljs-params">(<span class="hljs-string">"0.0.0.0:50051"</span>)</span></span>;
    HelloServiceImpl service;

    ServerBuilder builder;
    builder.<span class="hljs-built_in">AddListeningPort</span>(server_address, grpc::<span class="hljs-built_in">InsecureServerCredentials</span>());
    builder.<span class="hljs-built_in">RegisterService</span>(&amp;service);

    <span class="hljs-function">std::unique_ptr&lt;Server&gt; <span class="hljs-title">server</span><span class="hljs-params">(builder.BuildAndStart())</span></span>;
    std::cout &lt;&lt; <span class="hljs-string">"Server listening on "</span> &lt;&lt; server_address &lt;&lt; std::endl;

    server-&gt;<span class="hljs-built_in">Wait</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>ç¼–è¯‘å¹¶å¯åŠ¨æœåŠ¡</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å•æ–‡ä»¶ç¼–è¯‘</span>
g++ -std=c++11 main.cpp hello.pb.cc hello.grpc.pb.cc \
-o hello_server \
`pkg-config --cflags --libs grpc++ grpc protobuf` \
-lgrpc++_reflection \
-lpthread

<span class="hljs-comment"># è¿è¡Œ</span>
./hello_server
</code></pre>
<h4 data-id="heading-6">C++ å®¢æˆ·ç«¯è°ƒç”¨æµ‹è¯•</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;grpcpp/grpcpp.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"hello.grpc.pb.h"</span></span>

<span class="hljs-keyword">using</span> grpc::Channel;
<span class="hljs-keyword">using</span> grpc::ClientContext;
<span class="hljs-keyword">using</span> grpc::Status;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloClient</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">HelloClient</span>(std::shared_ptr&lt;Channel&gt; channel)
        : <span class="hljs-built_in">stub_</span>(hello::HelloService::<span class="hljs-built_in">NewStub</span>(channel)) {}

    <span class="hljs-function">std::string <span class="hljs-title">SayHello</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; name)</span> </span>{
        hello::HelloRequest request;
        request.<span class="hljs-built_in">set_name</span>(name);

        hello::HelloReply reply;
        ClientContext context;

        Status status = stub_-&gt;<span class="hljs-built_in">SayHello</span>(&amp;context, request, &amp;reply);
        <span class="hljs-keyword">if</span> (status.<span class="hljs-built_in">ok</span>()) {
            <span class="hljs-keyword">return</span> reply.<span class="hljs-built_in">message</span>();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"RPC failed"</span>;
        }
    }

<span class="hljs-keyword">private</span>:
    std::unique_ptr&lt;hello::HelloService::Stub&gt; stub_;
};

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">HelloClient <span class="hljs-title">client</span><span class="hljs-params">(
        grpc::CreateChannel(<span class="hljs-string">"localhost:50051"</span>,
                             grpc::InsecureChannelCredentials()))</span></span>;

    std::cout &lt;&lt; client.<span class="hljs-built_in">SayHello</span>(<span class="hljs-string">"gRPC C++"</span>) &lt;&lt; std::endl;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>ç¼–è¯‘å¹¶è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å•æ–‡ä»¶ç¼–è¯‘</span>
g++ -std=c++11 main.cpp hello.pb.cc hello.grpc.pb.cc \
-o hello_client \
`pkg-config --cflags --libs grpc++ grpc protobuf` \
-lgrpc++_reflection \
-lpthread

<span class="hljs-comment"># è¿è¡Œ</span>
./hello_client
</code></pre>
<p>å¯åŠ¨æœåŠ¡ç«¯ï¼Œå†è¿è¡Œå®¢æˆ·ç«¯ï¼Œä½ ä¼šçœ‹åˆ°ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">Hello, gRPC C++
</code></pre>
<h3 data-id="heading-7">å†™åœ¨æœ€å</h3>
<p>å¾ˆå¤šäººå­¦ gRPCï¼Œå¡åœ¨â€œçœ‹æ‡‚æ–‡æ¡£ï¼Œå´ä¸çŸ¥é“æ€ä¹ˆè½åœ°â€ã€‚<br/>
çœŸæ­£è·‘é€šä¸€æ¬¡ C++ æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ï¼Œä½ ä¼šå‘ç°ï¼š</p>
<p>gRPC å¹¶ä¸ç¥ç§˜ï¼Œå®ƒåªæ˜¯æŠŠâ€œæœåŠ¡è°ƒç”¨â€è¿™ä»¶äº‹ï¼Œåšå¾—æ›´åƒå·¥ç¨‹ï¼Œè€Œä¸æ˜¯è„šæœ¬ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨åš <strong>åˆ†å¸ƒå¼ç³»ç»Ÿã€å¾®æœåŠ¡ã€åŸºç¡€è®¾æ–½</strong>ï¼ŒgRPC å€¼å¾—ä½ è®¤çœŸæŒæ¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[1åˆ†é’Ÿäº†è§£å“åº”å¼ç¼–ç¨‹ | dubboæ¡†æ¶ä¸‹å“åº”å¼å®˜ä¾‹]]></title>    <link>https://juejin.cn/post/7591786340321591330</link>    <guid>https://juejin.cn/post/7591786340321591330</guid>    <pubDate>2026-01-06T03:29:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591786340321591330" data-draft-id="7591778827308056616" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="1åˆ†é’Ÿäº†è§£å“åº”å¼ç¼–ç¨‹ | dubboæ¡†æ¶ä¸‹å“åº”å¼å®˜ä¾‹"/> <meta itemprop="keywords" content="åç«¯,Java,RxJava"/> <meta itemprop="datePublished" content="2026-01-06T03:29:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Marsé…±"/> <meta itemprop="url" content="https://juejin.cn/user/1714893869821278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            1åˆ†é’Ÿäº†è§£å“åº”å¼ç¼–ç¨‹ | dubboæ¡†æ¶ä¸‹å“åº”å¼å®˜ä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1714893869821278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Marsé…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T03:29:50.000Z" title="Tue Jan 06 2026 03:29:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œè€…ï¼šMarsé…±</p>
<p>å£°æ˜ï¼šæœ¬æ–‡ç« ç”±Marsé…±ç¼–å†™ï¼Œéƒ¨åˆ†å†…å®¹æ¥æºäºç½‘ç»œï¼Œå¦‚æœ‰ç–‘é—®è¯·è”ç³»æœ¬äººã€‚</p>
<p>è½¬è½½ï¼šæ¬¢è¿è½¬è½½ï¼Œè½¬è½½å‰å…ˆè¯·è”ç³»æˆ‘ï¼</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸Šç¯‡æœäº†ä¸€å †æ¦‚å¿µï¼Œæ‹¼å‡‘äº†ä¸€äº›ä¾‹å­ï¼Œç°ä»Šæˆ‘ä»¬çš„åº”ç”¨å·²ç»ä¸æ˜¯å•ä¾‹æ¶æ„ï¼Œä¸€èˆ¬éƒ½æ˜¯åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„ï¼Œå¾®æœåŠ¡æ¶æ„æƒ…å†µä¸‹æ¡†æ¶ä¹Ÿå¾ˆå¤šï¼ŒSpringCloudã€Dubboç­‰ç­‰</p>
<p>æˆ‘çš„å·¥ç¨‹æ˜¯dubboçš„ï¼Œé‚£æˆ‘ä»¬çœ‹çœ‹Dubboå®˜æ–¹ç¤ºä¾‹ç»™å‡ºçš„å“åº”å¼ç¼–ç¨‹çš„ä¾‹å­ï¼Œæ¯•ç«Ÿæˆ‘çœ‹Dubboå®˜æ–‡è¯´å¤©ç„¶æ”¯æŒæµå¼ç¼–ç¨‹ï¼Œå¥½äº†ï¼Œç»§ç»­ã€‚</p>
<h2 data-id="heading-1">Dubboå¯¹æµå¼å¤„ç†çš„æ”¯æŒ</h2>









































<table><thead><tr><th>åè®®</th><th>æ€§èƒ½</th><th>ç½‘å…³å‹å¥½</th><th>æµå¼é€šä¿¡</th><th>å¤šè¯­è¨€æ”¯æŒ</th><th>ç¼–ç¨‹API</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>triple</strong></td><td><strong>é«˜</strong></td><td><strong>é«˜</strong></td><td><strong>æ”¯æŒï¼Œå®¢æˆ·ç«¯æµã€æœåŠ¡ç«¯æµã€åŒå‘æµ</strong></td><td><strong>æ”¯æŒï¼ˆJavaã€Goã€Node.jsã€JavaScriptã€Rustï¼‰</strong></td><td><strong>Java Interfaceã€Protobuf(IDL)</strong></td><td><strong>åœ¨å¤šè¯­è¨€å…¼å®¹ã€æ€§èƒ½ã€ç½‘å…³ã€Streamingã€gRPC ç­‰æ–¹é¢æœ€å‡è¡¡çš„åè®®å®ç°ï¼Œå®˜æ–¹æ¨èã€‚</strong></td></tr><tr><td>dubbo</td><td>é«˜</td><td>ä½</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒï¼ˆJavaã€Goï¼‰</td><td>Java Interface</td><td>æ€§èƒ½æœ€é«˜çš„ç§æœ‰åè®®ï¼Œä½†å‰ç«¯æµé‡æ¥å…¥ã€å¤šè¯­è¨€æ”¯æŒç­‰æˆæœ¬è¾ƒé«˜</td></tr><tr><td>rest</td><td>ä½</td><td>é«˜</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td><td>Java Interface</td><td>rest åè®®åœ¨å‰ç«¯æ¥å…¥ã€äº’é€šç­‰æ–¹é¢å…·å¤‡æœ€é«˜çš„çµæ´»æ€§ï¼Œä½†å¯¹æ¯” rpc å­˜åœ¨æ€§èƒ½ã€å¼±ç±»å‹ç­‰ç¼ºç‚¹ã€‚<strong>æ³¨æ„ï¼Œrest åœ¨ dubbo3 ä¸­ä»…æ˜¯ triple åè®®çš„ä¸€ç§å‘å¸ƒå½¢å¼</strong></td></tr></tbody></table>
<p>ä»å®˜æ–¹çš„æ–‡æ¡£ä¸­æ‰¾åˆ°ï¼ŒDubboæ˜¯æ”¯æŒæµå¼ç¼–ç¨‹çš„ï¼Œä½†æ˜¯éœ€è¦ä½¿ç”¨tripleåè®®ï¼Œè€Œä¸æ˜¯å…¶ä»–åè®®ã€‚</p>
<h2 data-id="heading-2">ä»gitä¸Šä¸‹è½½Dubbo Samples</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»gitä¸Šä¸‹è½½ dubboçš„å®˜æ–¹ç¤ºä¾‹ï¼Œè¿™æ˜¯ç¤ºä¾‹çš„gitåœ°å€</span>
https://github.com/apache/dubbo-samples.git
</code></pre>
<p>ä¸‹è½½ä¹‹åï¼Œå¯¼å…¥åˆ°ä½ çš„ideaä¸­ï¼ŒçŸ¥é“äº†tripleåè®®æ”¯æŒæµå¼é€šä¿¡ï¼Œé‚£ä¹ˆä»å¯¼å…¥å¥½çš„ideaä¸­æ‰¾åˆ°tripleçš„streamç›¸å…³çš„ä»£ç ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ebafe011a20403891943f968c009eb4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFyc-mFsQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768274990&amp;x-signature=RqaQwYaCNL5u1lvakhpyA%2FfIsPw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">DubboæœåŠ¡ç«¯æ”¯æŒçš„ä¸¤ç§æµå¼å¤„ç†</h2>
<p>Dubboé€šè¿‡tripleåè®®æ”¯æŒäº†ä¸¤ç§æµå¼å¤„ç†ï¼Œä¸€ç§æ˜¯æœåŠ¡ç«¯æµï¼Œå¦ä¸€ç§æ˜¯åŒå‘æµã€‚</p>
<h3 data-id="heading-4">æœåŠ¡ç«¯æµ</h3>
<p>é¦–å…ˆæˆ‘ä»¬çœ‹æœåŠ¡ç«¯æµçš„ç¤ºä¾‹ä»£ç ï¼Œä»£ç ä½ç½®åœ¨dubbo-samples-triple-streamingå·¥ç¨‹ä¸­çš„GreeterImplè¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘æŠ½å–äº†æœåŠ¡ç«¯æµçš„æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">serverStream</span><span class="hljs-params">(GreeterRequest request, StreamObserver&lt;GreeterReply&gt; responseObserver)</span> {
	LOGGER.info(<span class="hljs-string">"receive request: {}"</span>, request.getName());
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
		<span class="hljs-type">GreeterReply</span> <span class="hljs-variable">reply</span> <span class="hljs-operator">=</span> GreeterReply.newBuilder().setMessage(<span class="hljs-string">"reply from serverStream. "</span> + i).build();
		responseObserver.onNext(reply);
	}
	responseObserver.onCompleted();
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°serversStreamæ–¹æ³•æ˜¯æ²¡æœ‰voidï¼Œæ²¡æœ‰è¿”å›å€¼çš„ï¼Œå®ƒé€šè¿‡GreeterRequestå¯¹è±¡ä¼ é€’å‚æ•°ï¼Œç„¶åæŠŠä¸šåŠ¡é€»è¾‘æ•°æ®ä¾æ¬¡å¾ªç¯å†™å…¥åˆ°StreamObserverå¯¹åƒä¸­ã€‚</p>
<p>GreeterRequestå¯¹è±¡å¯ä»¥æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ä¸šåŠ¡è¯·æ±‚å¯¹è±¡ï¼ŒStreamObserverå¯¹è±¡æ˜¯dubboæ¡†æ¶å¯¹äºæµå¼å¤„ç†çš„æ¥å£å®šä¹‰ï¼Œå¦‚å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e97c531cbb94373882d449c85504650~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFyc-mFsQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768274990&amp;x-signature=gRilyZC%2BM2Wpa%2F3fRZKESIhio2U%3D" alt="" loading="lazy"/></p>
<p>å“åº”ç»“æœè¢«å°è£…åœ¨è¿™ä¸ªæ¥å£å¯¹è±¡ä¸­ï¼Œå®ç°äº†æµå¼æ•°æ®å†™å…¥åˆ°æ¶ˆè´¹è€…ç«¯çš„ä¸šåŠ¡åœºæ™¯ã€‚</p>
<h3 data-id="heading-5">åŒå‘æµ</h3>
<p>è¿™æ˜¯åŒå‘æµçš„å®˜æ–¹ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> StreamObserver&lt;GreeterRequest&gt; <span class="hljs-title function_">biStream</span><span class="hljs-params">(StreamObserver&lt;GreeterReply&gt; responseObserver)</span> {
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StreamObserver</span>&lt;GreeterRequest&gt;() {
		<span class="hljs-meta">@Override</span>
		<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onNext</span><span class="hljs-params">(GreeterRequest data)</span> {
			<span class="hljs-type">GreeterReply</span> <span class="hljs-variable">resp</span> <span class="hljs-operator">=</span> GreeterReply.newBuilder().setMessage(<span class="hljs-string">"reply from biStream "</span> + data.getName()).build();
			responseObserver.onNext(resp);
		}

		<span class="hljs-meta">@Override</span>
		<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span> {

		}

		<span class="hljs-meta">@Override</span>
		<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCompleted</span><span class="hljs-params">()</span> {

		}
	};
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒåŒå‘æµæ–¹æ³• binStream çš„å‚æ•°å’Œè¿”å›å€¼éƒ½æ˜¯ StreamObserver ç±»å‹ã€‚</p>
<p>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒä¸æˆ‘ä»¬ä¼ ç»Ÿæ–¹æ³•å®šä¹‰ä¸­å‚æ•°æ˜¯è¯·æ±‚å€¼ã€è¿”å›å€¼æ˜¯å“åº”çš„ç†è§£æ˜¯åè¿‡æ¥çš„ï¼Œåœ¨è¿™é‡Œï¼Œå‡½æ•°çš„å…¥å‚ StreamObserver responseObserver æ˜¯å“åº”ï¼Œè·Ÿä¹‹å‰ä¸€æ ·ï¼Œæ˜¯åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ä¸åœçš„å†™æ•°æ®åˆ° å›å“åº”ä¸­ã€‚</p>
<p>è¿™ä¸ªå‡½æ•°ä¹Ÿé€šè¿‡newäº†ä¸€ä¸ª StreamObserver ä¸æ–­çš„åœ¨onNextå‡½æ•°ä¸­å†™å…¥äº†è¯·æ±‚æµæ•°æ®ï¼Œè€Œä¸”è¿™é‡Œ è¯·æ±‚æµ ä¸ å“åº”æµ æ˜¯ç‹¬ç«‹çš„ï¼Œæˆ‘ä»¬åœ¨å†™å›å“åº”æµæ•°æ®çš„è¿‡ç¨‹æ—¶ï¼Œéšæ—¶å¯èƒ½æœ‰è¯·æ±‚æµåˆ°è¾¾ï¼Œå¯¹äºæ¯ä¸ªæµè€Œè¨€ï¼Œå€¼éƒ½æ˜¯æœ‰åºçš„ã€‚</p>
<h2 data-id="heading-6">Dubboå®¢æˆ·ç«¯çš„è°ƒç”¨ç¤ºä¾‹</h2>
<p>dubboå¯¹äºä¸¤ç§æµçš„å¤„ç†æ–¹å¼æ˜¯ä¸åŒçš„è°ƒç”¨å®ç°</p>
<h3 data-id="heading-7">æœåŠ¡ç«¯æµçš„å®¢æˆ·ç«¯è°ƒç”¨</h3>
<p>è°ƒç”¨ serverStream() ä¼ å…¥èƒ½å¤Ÿå¤„ç†æµå¼å“åº”çš„ SampleStreamObserver å¯¹è±¡ï¼Œè°ƒç”¨å‘èµ·åå³å¿«é€Ÿè¿”å›ï¼Œä¹‹åæµå¼å“åº”ä¼šä¸åœçš„å‘é€åˆ° SampleStreamObserver ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">serverStream</span><span class="hljs-params">(Greeter greeter)</span> {
	<span class="hljs-type">GreeterRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> GreeterRequest.newBuilder().setName(<span class="hljs-string">"server stream request."</span>).build();
	greeter.serverStream(request, <span class="hljs-keyword">new</span> <span class="hljs-title class_">SampleStreamObserver</span>());
}

<span class="hljs-comment">// å£°åä¸Šé¢è°ƒç”¨ç±»çš„SampleStreamObserverå®ç°</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SampleStreamObserver</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">StreamObserver</span>&lt;GreeterReply&gt; {

	<span class="hljs-meta">@Override</span>
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onNext</span><span class="hljs-params">(GreeterReply data)</span> {
		LOGGER.info(<span class="hljs-string">"stream &lt;- reply:{}"</span>, data);
	}

	<span class="hljs-meta">@Override</span>
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable throwable)</span> {
		LOGGER.error(<span class="hljs-string">"stream onError"</span>, throwable);
		throwable.printStackTrace();
	}

	<span class="hljs-meta">@Override</span>
	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCompleted</span><span class="hljs-params">()</span> {
		LOGGER.info(<span class="hljs-string">"stream completed"</span>);
	}
}
</code></pre>
<h3 data-id="heading-8">åŒå‘æµçš„å®¢æˆ·ç«¯è°ƒç”¨</h3>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">biStream</span><span class="hljs-params">(Greeter greeter)</span> {
	<span class="hljs-comment">// SampleStreamObserverçš„å®šä¹‰åœ¨ â€˜æœåŠ¡ç«¯æµçš„å®¢æˆ·ç«¯è°ƒç”¨ç¤ºä¾‹â€™ ä¸­å·²ç»ç»™å‡º</span>
	StreamObserver&lt;GreeterRequest&gt; requestStreamObserver = greeter.biStream(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SampleStreamObserver</span>());
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
		<span class="hljs-type">GreeterRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> GreeterRequest.newBuilder().setName(<span class="hljs-string">"name-"</span> + i).build();
		requestStreamObserver.onNext(request);
	}
	requestStreamObserver.onCompleted();
}
</code></pre>
<p>è°ƒç”¨ greeter.biStream() æ–¹æ³•ä¼šç«‹å³è¿”å›ä¸€ä¸ªè¯·æ±‚æµ requestStreamObserver å¯¹è±¡ï¼ŒåŒæ—¶ï¼Œéœ€è¦ä¸ºæ–¹æ³•ä¼ å…¥ä¸€ä¸ªèƒ½å¤„ç†å“åº”çš„ observer å¯¹è±¡new SampleStreamObserver()ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨æ‰åˆšæ‰è¿”å›å€¼ä¸­å¾—åˆ°çš„ requestStreamObserver æŒç»­å‘é€è¯·æ±‚ requestStreamObserver .onNext(reqeust)ï¼Œ æ­¤æ—¶ï¼Œå¦‚æœæœ‰å“åº”è¿”å›ï¼Œåˆ™ä¼šç”± SampleStreamObserver å¯¹è±¡æ¥æ”¶å¤„ç†ï¼Œ</p>
<h2 data-id="heading-9">å®˜ä¾‹å¥½åƒæœ‰é—®é¢˜</h2>
<p>å…¶å®æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œåªæ˜¯dubboæ”¯æŒçš„æ˜¯observerçš„æµå¼å¤„ç†ï¼Œè¿™æ˜¯ä¸€ç§æ— èƒŒå‹æ–¹å¼çš„æµå¼å¤„ç†ã€‚èƒŒå‹æ˜¯ä¸€ç§<strong>æµæ§æœºåˆ¶</strong>ï¼Œdubbo çš„ StreamObserver <strong>ä¸æä¾›å†…ç½®èƒŒå‹æ”¯æŒ</strong></p>
<ul>
<li>å®ƒçš„ onNext æ–¹æ³•æ˜¯é€šè¿‡å®˜æ–¹çš„ç¤ºä¾‹å°±çŸ¥é“å®ƒå±äºé˜…åå³ç„šé£æ ¼ï¼›</li>
<li>è°ƒç”¨ onNext ä¼šç«‹å³æŠŠæ•°æ®å†™å…¥ç½‘ç»œç¼“å†²åŒºï¼ˆæˆ–æœ¬åœ°é˜Ÿåˆ—ï¼‰ï¼Œ<strong>ä¸ä¼šç­‰å¾…æ¶ˆè´¹è€…å¤„ç†å®Œæˆ</strong>ï¼›</li>
<li>å¦‚æœæ¶ˆè´¹è€…æ¶ˆè´¹å¾—å¤ªæ…¢ï¼Œè€Œ producer æŒç»­é«˜é€Ÿå‘é€ï¼Œæœ‰æ²¡æœ‰å¯èƒ½ <strong>å¯¼è‡´ OOM æˆ–è€…å…¶ä»–é—®é¢˜ï¼Ÿæ²¡è¯•è¿‡ï¼Œå­˜ç–‘</strong></li>
</ul>
<p>è¿™ä¸ <strong>Reactive Streams è§„èŒƒ</strong> è²Œä¼¼ä¸åŒï¼Œå¹¶æ²¡æœ‰èƒŒå‹ç‰¹å¾ï¼Œä½†æ˜¯RxJavaæ¡†æ¶ä¸ä¹Ÿæ˜¯æ”¯æŒèƒŒå‹ã€æ— èƒŒå‹æ–¹å¼çš„å—ï¼Ÿæ‰€ä»¥ï¼Œåº”è¯¥æ ¹æ®è‡ªå·±çš„åœºæ™¯æ¥é€‰æ‹©æ˜¯å¦éœ€è¦èƒŒå‹æ–¹å¼ï¼Œè¶…æ—¶äº†ï¼Œä¸‹ä¸ª1åˆ†é’Ÿçœ‹æ€ä¹ˆç”¨dubboå¤„ç†èƒŒå‹ç‰¹å¾çš„å“åº”å¼ç¼–ç¨‹å§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React 19 æ—¶ä»£çš„ StrictModeï¼šåŸç†ã€æœªæ¥å‡†å¤‡ä¸æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7591871204568186906</link>    <guid>https://juejin.cn/post/7591871204568186906</guid>    <pubDate>2026-01-06T05:58:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591871204568186906" data-draft-id="7591948263859896358" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React 19 æ—¶ä»£çš„ StrictModeï¼šåŸç†ã€æœªæ¥å‡†å¤‡ä¸æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-01-06T05:58:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çš®è›‹å°ç²¾çµ"/> <meta itemprop="url" content="https://juejin.cn/user/219558056559278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React 19 æ—¶ä»£çš„ StrictModeï¼šåŸç†ã€æœªæ¥å‡†å¤‡ä¸æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/219558056559278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çš®è›‹å°ç²¾çµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T05:58:14.000Z" title="Tue Jan 06 2026 05:58:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    35
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ StrictModeï¼Ÿ</h2>
<p><code>StrictMode</code> æ˜¯ React æä¾›çš„å¼€å‘è€…å·¥å…·ï¼Œå®ƒä¸æ¸²æŸ“ä»»ä½•å¯è§çš„ UIï¼Œè€Œæ˜¯é€šè¿‡ä¸ºåä»£ç»„ä»¶æä¾›é¢å¤–çš„æ£€æŸ¥æ¥å¸®åŠ©å¼€å‘è€…ç¼–å†™é«˜è´¨é‡ä»£ç ã€‚å®ƒçš„æ ¸å¿ƒç›®æ ‡æ˜¯ï¼š</p>
<ul>
<li><strong>è¯†åˆ«ä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šä¸ºå¹¶å‘æ¨¡å¼æ‰«æ¸…éšœç¢ã€‚</li>
<li><strong>è­¦å‘Šè¿‡æ—¶çš„ API ä½¿ç”¨</strong>ï¼šç¡®ä¿ä»£ç èƒ½å¹³æ»‘å‡çº§åˆ°æ–°ç‰ˆæœ¬ã€‚</li>
<li><strong>æ£€æµ‹æ„å¤–çš„å‰¯ä½œç”¨</strong>ï¼šé€šè¿‡æ•…æ„é‡å¤è°ƒç”¨æ¥æš´éœ² Bugã€‚</li>
</ul>
<h2 data-id="heading-1">StrictMode çš„â€œåç›´è§‰â€è¡Œä¸º</h2>
<p>åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼ˆä»…é™å¼€å‘ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒä¸ç”Ÿæ•ˆï¼‰ï¼Œ<code>StrictMode</code> ä¼šå¼ºåˆ¶æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li><strong>é‡å¤æ¸²æŸ“ï¼ˆDouble Renderï¼‰</strong> ï¼šç»„ä»¶å‡½æ•°ä½“ä¼šè¢«æ‰§è¡Œä¸¤æ¬¡ã€‚</li>
<li><strong>é‡å¤ Effectï¼ˆDouble Effectï¼‰</strong> ï¼šæ‰§è¡Œ <code>Mount</code> â†’ <code>Unmount</code> â†’ <code>Mount</code> çš„å®Œæ•´å‘¨æœŸã€‚</li>
</ol>
<h2 data-id="heading-2">æ ¸å¿ƒè§£å¯†ï¼šä¸ºä»€ä¹ˆè¦â€œå¸è½½å†æŒ‚è½½â€ï¼Ÿ</h2>
<p>å¾ˆå¤šå¼€å‘è€…è®¤ä¸ºé‡å¤è¯·æ±‚æ˜¯ StrictMode çš„â€œå‰¯ä½œç”¨â€ï¼Œä½†å®é™…ä¸Šè¿™æ˜¯ React ä¸ºäº†<strong>æœªæ¥ç‰¹æ€§</strong>æ‰€åšçš„å¼ºåˆ¶æ¼”ä¹ ã€‚</p>
<h3 data-id="heading-3">1. ä¸º React 19+ çš„ Activity (Offscreen) API åšå‡†å¤‡</h3>
<p>React æ­£åœ¨å¼•å…¥ä¸€ç§èƒ½åŠ›ï¼ˆå³å°†åœ¨ React 19 åŠåç»­ç‰ˆæœ¬å®Œå–„çš„ <code>&lt;Activity&gt;</code>ï¼‰ï¼Œå…è®¸ç»„ä»¶åœ¨åˆ‡æ¢é¡µé¢æ—¶<strong>ä¸è¢«é”€æ¯ï¼Œè€Œæ˜¯â€œä¼‘çœ â€åœ¨åå°</strong>ã€‚</p>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·ä» Tab A åˆ‡åˆ° Tab Bï¼Œå†åˆ‡å› Tab Aã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šTab A çš„çŠ¶æ€ï¼ˆæ»šåŠ¨ä½ç½®ã€è¡¨å•å†…å®¹ï¼‰ç¬é—´æ¢å¤ï¼Œæ— éœ€é‡æ–°è¯·æ±‚ã€‚</li>
<li><strong>StrictMode çš„è‰¯è‹¦ç”¨å¿ƒ</strong>ï¼šç°åœ¨çš„ <code>Mount -&gt; Unmount -&gt; Mount</code> å°±æ˜¯åœ¨æ¨¡æ‹Ÿâ€œä¼‘çœ  -&gt; å”¤é†’â€çš„è¿‡ç¨‹ã€‚å¦‚æœä½ çš„ç»„ä»¶åœ¨ <code>Unmount</code> æ—¶æ¸…ç†ä¸å½»åº•ï¼ˆå¦‚æœªå–æ¶ˆè®¢é˜…ï¼‰ï¼Œè¿™ç§ Bug åœ¨ StrictMode ä¸‹ä¼šç«‹å³æš´éœ²ï¼Œé˜²æ­¢æœªæ¥ä¸Šçº¿ Activity åŠŸèƒ½æ—¶é¡µé¢å´©æºƒã€‚</li>
</ul>
<h3 data-id="heading-4">2. ç¡®ä¿å¹¶å‘æ¸²æŸ“ï¼ˆConcurrent Renderingï¼‰çš„ç¨³å®šæ€§</h3>
<p>React 19 å…¨é¢æ‹¥æŠ±å¹¶å‘ã€‚æ¸²æŸ“è¿‡ç¨‹å¯èƒ½ä¼šè¢«ä¸­æ–­ã€æš‚åœæˆ–åºŸå¼ƒã€‚å¦‚æœä¸ä¿è¯æ¸²æŸ“å‡½æ•°çš„â€œçº¯åº¦â€ï¼ˆIdempotencyï¼‰ï¼Œå¤šæ¬¡è®¡ç®—å¯èƒ½ä¼šå¯¼è‡´ UI çŠ¶æ€ä¸ä¸€è‡´ã€‚StrictMode çš„é‡å¤æ‰§è¡Œæ­£æ˜¯ä¸ºäº†ç¡®ä¿æ— è®ºæ¸²æŸ“å¤šå°‘æ¬¡ï¼Œç»“æœéƒ½æ˜¯ç¡®å®šçš„ã€‚</p>
<h2 data-id="heading-5">å…¸å‹çš„â€œé‡å¤è¯·æ±‚â€ç°è±¡</h2>
<pre><code class="hljs language-TypeScript" lang="TypeScript">&lt;<span class="hljs-title class_">StrictMode</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{router}</span> /&gt;</span></span>
&lt;/<span class="hljs-title class_">StrictMode</span>&gt;
</code></pre>
<p>åœ¨ <code>StrictMode</code> ä¸‹ï¼Œå¸¸è§çš„è¯·æ±‚æµç¨‹æ˜¯ï¼š</p>
<ol>
<li>ç»„ä»¶é¦–æ¬¡æŒ‚è½½ â†’ æ‰§è¡Œ <code>useEffect</code> â†’ <strong>å‘èµ·ç¬¬ 1 æ¬¡ç½‘ç»œè¯·æ±‚</strong></li>
<li>React ç«‹å³å¸è½½ç»„ä»¶ â†’ æ‰§è¡Œ <code>cleanup</code></li>
<li>React é‡æ–°æŒ‚è½½ç»„ä»¶ â†’ å†æ¬¡æ‰§è¡Œ <code>useEffect</code> â†’ <strong>å‘èµ·ç¬¬ 2 æ¬¡ç½‘ç»œè¯·æ±‚ï¼ˆå†…å®¹ç›¸åŒï¼‰</strong></li>
</ol>
<h2 data-id="heading-6">æœ€ä½³å®è·µä¸è§£å†³æ–¹æ¡ˆ</h2>
<p>åœ¨ React 19 æ—¶ä»£ï¼Œæˆ‘ä»¬<strong>å¼ºçƒˆå»ºè®®ä¿ç•™ StrictMode</strong>ã€‚ä¸å…¶å…³æ‰å®ƒï¼Œä¸å¦‚ä¼˜åŒ–ä½ çš„æ•°æ®è·å–ç­–ç•¥ã€‚</p>
<h3 data-id="heading-7">æ–¹æ¡ˆ 1ï¼šä½¿ç”¨æ•°æ®è¯·æ±‚åº“ï¼ˆReact 19 æ¨èï¼‰</h3>
<p>è¿™æ˜¯ç°ä»£ React å¼€å‘çš„â€œæ ‡å‡†ç­”æ¡ˆâ€ã€‚ä½¿ç”¨ <strong>TanStack Query (React Query)</strong> ã€<strong>SWR</strong> æˆ– React 19 çš„ <strong>Server Components (RSC)</strong> ã€‚</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-comment">// ä½¿ç”¨ React Queryï¼Œåº“å†…éƒ¨ä¼šè‡ªåŠ¨å¤„ç†å»é‡å’Œç¼“å­˜</span>
<span class="hljs-comment">// StrictMode ä¸‹çš„å¤šæ¬¡æŒ‚è½½ä¸ä¼šå¯¼è‡´é‡å¤çš„ç½‘ç»œè¯·æ±‚</span>
<span class="hljs-keyword">const</span> { data } = <span class="hljs-title function_">useQuery</span>({
  <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'todos'</span>],
  <span class="hljs-attr">queryFn</span>: fetchTodos,
});
</code></pre>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šç›´æ¥ç‰©ç†éš”ç¦»äº† <code>useEffect</code> çš„å‰¯ä½œç”¨é—®é¢˜ï¼Œä»£ç æ›´å£°æ˜å¼ï¼Œå®Œç¾é€‚é… StrictModeã€‚</li>
</ul>
<h3 data-id="heading-8">æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ AbortControllerï¼ˆæ‰‹åŠ¨æŒ¡æ¨èï¼‰</h3>
<p>å¦‚æœä½ å¿…é¡»åœ¨ <code>useEffect</code> ä¸­è¯·æ±‚ï¼Œè¯·ä½¿ç”¨ <code>AbortController</code> è¿›è¡Œç«æ€å¤„ç†å’Œå–æ¶ˆã€‚è¿™ä¸ä»…è§£å†³äº† StrictMode çš„è§†è§‰å¹²æ‰°ï¼Œæ›´é˜²æ­¢äº†ç½‘ç»œç«æ€æ¡ä»¶ï¼ˆRace Conditionï¼‰ã€‚</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> abortController = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> apiClient.<span class="hljs-title function_">request</span>({
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
        <span class="hljs-attr">url</span>: <span class="hljs-string">'/get/data'</span>,
        <span class="hljs-attr">signal</span>: abortController.<span class="hljs-property">signal</span> <span class="hljs-comment">// ç»‘å®šä¿¡å·</span>
      });
      <span class="hljs-comment">// å¤„ç†æˆåŠŸé€»è¾‘</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">if</span> (error.<span class="hljs-property">name</span> !== <span class="hljs-string">'AbortError'</span>) {
        <span class="hljs-comment">// çœŸæ­£çš„é”™è¯¯å¤„ç†</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
      }
    }
  };

  <span class="hljs-title function_">fetchData</span>();

  <span class="hljs-comment">// Cleanup: ç¬¬ä¸€æ¬¡å¸è½½æ—¶å–æ¶ˆè¯·æ±‚ Aï¼Œä¿ç•™è¯·æ±‚ B</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    abortController.<span class="hljs-title function_">abort</span>();
  };
}, []);
</code></pre>
<h3 data-id="heading-9">é¿å‘ï¼šæ…ç”¨ useRef æ ‡è®°</h3>
<p>ä¸€ç§å¸¸è§çš„â€œæ­ªé—¨é‚ªé“â€æ˜¯ä½¿ç”¨ <code>useRef</code> æ‹¦æˆªè¯·æ±‚ï¼š</p>
<pre><code class="hljs language-TypeScript" lang="TypeScript"><span class="hljs-comment">// âŒ ä¸æ¨èï¼šå¯èƒ½å¯¼è‡´ä¾èµ–æ›´æ–°å¤±æ•ˆ</span>
<span class="hljs-keyword">const</span> hasRequested = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">false</span>);
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (hasRequested.<span class="hljs-property">current</span>) <span class="hljs-keyword">return</span>;
  hasRequested.<span class="hljs-property">current</span> = <span class="hljs-literal">true</span>;
  <span class="hljs-title function_">fetchData</span>();
}, [userId]); <span class="hljs-comment">// å¦‚æœ userId å˜åŒ–ï¼Œref ä¾ç„¶æ˜¯ trueï¼Œä¼šå¯¼è‡´è¯·æ±‚è¢«æ‹¦æˆª</span>
</code></pre>
<p>è¿™ç§æ–¹æ³•è™½ç„¶èƒ½åœ¨è¿™ä¸ªåœºæ™¯ä¸‹ç”Ÿæ•ˆï¼Œä½†å¦‚æœä¾èµ–é¡¹æ•°ç»„ï¼ˆDependency Arrayï¼‰ä¸ä¸ºç©ºï¼Œå¾ˆå®¹æ˜“å¯¼è‡´åç»­åˆæ³•çš„è¯·æ±‚è¢«é”™è¯¯æ‹¦æˆªï¼Œå¢åŠ ç»´æŠ¤æˆæœ¬ã€‚</p>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>åœ¨ React 19 ä¸­ï¼Œ<code>StrictMode</code> ä¸ä»…ä»…æ˜¯ä¸€ä¸ªè°ƒè¯•å·¥å…·ï¼Œå®ƒæ˜¯<strong>ä»£ç è´¨é‡çš„ä½“æ£€å‘˜</strong>ã€‚</p>
<ol>
<li><strong>ä¸è¦ç§»é™¤å®ƒ</strong>ï¼šå®ƒå¸®åŠ©ä½ ç¡®ä¿ä»£ç å…¼å®¹æœªæ¥çš„â€œåå°ä¿æ´»â€ç‰¹æ€§å’Œå¹¶å‘æ¸²æŸ“ã€‚</li>
<li><strong>æ­£ç¡®å¤„ç†å‰¯ä½œç”¨</strong>ï¼šé‡å¤è¯·æ±‚ä¸æ˜¯ Bugï¼Œè€Œæ˜¯æç¤ºä½ éœ€è¦æ¸…ç†å‰¯ä½œç”¨ï¼ˆCleanupï¼‰æˆ–ä½¿ç”¨æ›´ç°ä»£çš„æ•°æ®æµæ–¹æ¡ˆï¼ˆå¦‚ React Query æˆ– RSCï¼‰ã€‚</li>
<li><strong>æ‹¥æŠ±æ ‡å‡†</strong>ï¼šé€‚åº” <code>StrictMode</code> çš„æ£€æŸ¥ï¼Œæ„å‘³ç€ä½ çš„ä»£ç å·²ç»åšå¥½äº†è¿æ¥ React æœªæ¥æ–°ç‰¹æ€§çš„å‡†å¤‡ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç›‘æ§ä¸æ˜¯æ—¥å¿—ï¼šPrometheus é«˜åŸºæ•°é¿å‘æŒ‡å—]]></title>    <link>https://juejin.cn/post/7591715454135238719</link>    <guid>https://juejin.cn/post/7591715454135238719</guid>    <pubDate>2026-01-06T02:21:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591715454135238719" data-draft-id="7591730714140950570" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç›‘æ§ä¸æ˜¯æ—¥å¿—ï¼šPrometheus é«˜åŸºæ•°é¿å‘æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,ç®—æ³•,ç›‘æ§"/> <meta itemprop="datePublished" content="2026-01-06T02:21:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç›‘æ§ä¸æ˜¯æ—¥å¿—ï¼šPrometheus é«˜åŸºæ•°é¿å‘æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T02:21:47.000Z" title="Tue Jan 06 2026 02:21:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä» TSDB åŸç†åˆ°å®æˆ˜æ¡ˆä¾‹ï¼Œå¸®åŠ©ä½ ç†è§£ä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨é«˜åŸºæ•°æ ‡ç­¾ï¼Œä»¥åŠå¦‚ä½•æ­£ç¡®è®¾è®¡ç›‘æ§æŒ‡æ ‡ã€‚ä¸€æ¬¡æ€§è§£å†³ Prometheus æŸ¥è¯¢æ…¢ã€å†…å­˜çˆ†ç‚¸çš„æ ¹æœ¬é—®é¢˜ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€å…ˆé—®ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆæŸ¥è¯¢ä¼šå˜æ…¢ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸ªåœºæ™¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">ä½ çš„ç”µå•†ç³»ç»Ÿç›‘æ§çªç„¶å˜æ…¢äº†ï¼š
- ä»¥å‰æŸ¥è¯¢ sum(order_total) åªè¦ 10ms
- ç°åœ¨éœ€è¦ 30 ç§’ï¼Œç»å¸¸è¶…æ—¶
- Prometheus å†…å­˜ä» 2GB æ¶¨åˆ° 16GB
- å‘Šè­¦å»¶è¿Ÿï¼Œè¿ç»´åŠå¤œè¢«å«é†’

ç½ªé­ç¥¸é¦–ï¼š
order_total{<span class="hljs-attr">user_id</span>=<span class="hljs-string">"10086"</span>}  <span class="hljs-comment"># ç»™æ¯ä¸ªç”¨æˆ·éƒ½åˆ›å»ºäº†ç‹¬ç«‹æ—¶åº</span>
order_total{<span class="hljs-attr">user_id</span>=<span class="hljs-string">"10087"</span>}
...
<span class="hljs-comment"># 100ä¸‡ç”¨æˆ· = 100ä¸‡æ¡æ—¶åºï¼</span>
</code></pre>
<p><strong>æ ¸å¿ƒé—®é¢˜ï¼šä¸ºä»€ä¹ˆåŠ ä¸ª user_id æ ‡ç­¾å°±ç‚¸äº†ï¼Ÿ</strong></p>
<p>è¦ç†è§£è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å…ˆç”¨å¤§ç™½è¯è®²æ¸…æ¥š Prometheus æ˜¯æ€ä¹ˆå­˜å‚¨æ•°æ®çš„ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€å¤§ç™½è¯ç±»æ¯”ï¼šè¶…å¸‚è¿ä½œæ¨¡å‹</h2>
<h3 data-id="heading-2">2.1 Prometheus = ä¸€å®¶è¶…å¸‚</h3>
<p>æŠŠ Prometheus TSDB æƒ³è±¡æˆä¸€å®¶è¶…å¸‚ï¼Œå°±å¾ˆå¥½ç†è§£äº†ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    subgraph Frontend["å‰å° (å†…å­˜)"]
        CAT["å•†å“ç›®å½•å†Œ
        å¯ä¹åœ¨B2è´§æ¶"]
        SHELF["è´§æ¶é™ˆåˆ—åŒº
        çƒ­é”€å•†å“æ‘†å‰é¢"]
    end
    
    subgraph Backend["åå° (ç£ç›˜)"]
        WAREHOUSE["å¤§ä»“åº“
        æ•´ç®±å‹ç¼©å­˜æ”¾"]
        LOG["å‡ºå…¥åº“è®°å½•
        é˜²æ­¢æ–­ç”µä¸¢å¤±"]
    end
    
    Frontend -.å®šæœŸå…¥åº“.-&gt; Backend
    
    style Frontend fill:#e8f5e9,stroke:#4caf50,stroke-width:3px
    style Backend fill:#fff3e0,stroke:#ff9800,stroke-width:3px
    style CAT fill:#c8e6c9,stroke:#4caf50
    style SHELF fill:#c8e6c9,stroke:#4caf50
    style WAREHOUSE fill:#ffe0b2,stroke:#ff9800
    style LOG fill:#ffe0b2,stroke:#ff9800
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">åœºæ™¯ï¼šé¡¾å®¢è¦ä¹°å¯ä¹

æ–¹æ¡ˆAï¼ˆå…¨æ”¾ä»“åº“ï¼‰ï¼š
é¡¾å®¢ï¼š<span class="hljs-string">"è¦å¯ä¹"</span>
åº—å‘˜ï¼š<span class="hljs-string">"ç¨ç­‰ï¼Œæˆ‘å»ä»“åº“æ‰¾..."</span> â†’ <span class="hljs-number">10</span>åˆ†é’Ÿ
ç»“æœï¼šé¡¾å®¢ä¸ä¹°äº† âœ—

æ–¹æ¡ˆBï¼ˆå‰å°+åå°ï¼‰ï¼š
é¡¾å®¢ï¼š<span class="hljs-string">"è¦å¯ä¹"</span>
åº—å‘˜ï¼š<span class="hljs-string">"è´§æ¶ä¸Šæœ‰"</span> â†’ <span class="hljs-number">10</span>ç§’
ç»“æœï¼šç«‹åˆ»æˆäº¤ âœ“
</code></pre>
<p><strong>å¯¹åº”åˆ°ç›‘æ§ï¼š</strong></p>
<ul>
<li>å‘Šè­¦éœ€è¦å®æ—¶æŸ¥è¯¢ï¼ˆ&lt;100msï¼‰â†’ å¿…é¡»ç”¨å†…å­˜</li>
<li>å†å²åˆ†æå¯ä»¥æ…¢ç‚¹ï¼ˆå‡ ç§’ï¼‰â†’ ç£ç›˜è¶³å¤Ÿ</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">%%{init: {'theme':'base', 'themeVariables': { 'fontSize':'16px'}}}%%
graph TB
    subgraph Prometheus["Prometheus Server"]
        subgraph Memory["å†…å­˜å±‚ Head Block (æœ€è¿‘2å°æ—¶çƒ­æ•°æ®)"]
            SI["Series ç´¢å¼•è¡¨
            æ ‡ç­¾â†’IDæ˜ å°„"]
            PL["Posting Lists
            å€’æ’ç´¢å¼•"]
            AC["Active Chunks
            å‹ç¼©æ•°æ®å—"]
        end
        
        Compress["å®šæœŸå‹ç¼© (æ¯2å°æ—¶)"]
        
        subgraph Disk["ç£ç›˜å±‚ Persistent Blocks (é•¿æœŸå­˜å‚¨)"]
            IDX["index æ–‡ä»¶
            å€’æ’ç´¢å¼•æŒä¹…åŒ–"]
            CHK["chunks æ–‡ä»¶
            XOR å‹ç¼©æ•°æ®"]
            META["meta.json
            å—å…ƒæ•°æ®"]
        end
        
        Memory --&gt;|å‹ç¼©| Compress
        Compress --&gt;|æŒä¹…åŒ–| Disk
    end
    
    style Memory fill:#e1f5ff,stroke:#0288d1,stroke-width:3px
    style Disk fill:#fff3e0,stroke:#f57c00,stroke-width:3px
    style Compress fill:#f0f0f0,stroke:#666,stroke-width:2px
    style SI fill:#bbdefb,stroke:#0288d1
    style PL fill:#bbdefb,stroke:#0288d1
    style AC fill:#bbdefb,stroke:#0288d1
    style IDX fill:#ffe0b2,stroke:#f57c00
    style CHK fill:#ffe0b2,stroke:#f57c00
    style META fill:#ffe0b2,stroke:#f57c00
</code></pre>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€æ­ç§˜çœŸå®æ¶æ„ï¼šTSDB çš„æŠ€æœ¯å®ç°</h2>
<p>å¥½ï¼Œç†è§£äº†è¶…å¸‚æ¨¡å‹åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ Prometheus çœŸå®çš„æŠ€æœ¯æ¶æ„ã€‚æœ‰äº†å‰é¢çš„é“ºå«ï¼Œè¿™å¼ å›¾ä½ å°±èƒ½çœ‹æ‡‚äº†ï¼š</p>
<h3 data-id="heading-4">3.1 å®è§‚æ¶æ„å›¾</h3>
<p>Prometheus é‡‡ç”¨<strong>å†…å­˜+ç£ç›˜</strong>çš„åˆ†å±‚å­˜å‚¨ï¼Œæ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯ï¼š<strong>çƒ­æ•°æ®å¿«é€Ÿè®¿é—®ï¼Œå†·æ•°æ®å‹ç¼©å­˜å‚¨</strong>ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">%%{init: {'theme':'base', 'themeVariables': { 'fontSize':'16px'}}}%%
graph TB
    subgraph Prometheus["Prometheus Server"]
        subgraph Memory["å†…å­˜å±‚ Head Block (æœ€è¿‘2å°æ—¶çƒ­æ•°æ®)"]
            SI["Series ç´¢å¼•è¡¨
            æ ‡ç­¾â†’IDæ˜ å°„"]
            PL["Posting Lists
            å€’æ’ç´¢å¼•"]
            AC["Active Chunks
            å‹ç¼©æ•°æ®å—"]
        end
        
        Compress["å®šæœŸå‹ç¼© (æ¯2å°æ—¶)"]
        
        subgraph Disk["ç£ç›˜å±‚ Persistent Blocks (é•¿æœŸå­˜å‚¨)"]
            IDX["index æ–‡ä»¶
            å€’æ’ç´¢å¼•æŒä¹…åŒ–"]
            CHK["chunks æ–‡ä»¶
            XOR å‹ç¼©æ•°æ®"]
            META["meta.json
            å—å…ƒæ•°æ®"]
        end
        
        Memory --&gt;|å‹ç¼©| Compress
        Compress --&gt;|æŒä¹…åŒ–| Disk
    end
    
    style Memory fill:#e1f5ff,stroke:#0288d1,stroke-width:3px
    style Disk fill:#fff3e0,stroke:#f57c00,stroke-width:3px
    style Compress fill:#f0f0f0,stroke:#666,stroke-width:2px
    style SI fill:#bbdefb,stroke:#0288d1
    style PL fill:#bbdefb,stroke:#0288d1
    style AC fill:#bbdefb,stroke:#0288d1
    style IDX fill:#ffe0b2,stroke:#f57c00
    style CHK fill:#ffe0b2,stroke:#f57c00
    style META fill:#ffe0b2,stroke:#f57c00
</code></pre>
<p><strong>å¯¹åº”åˆ°è¶…å¸‚ï¼š</strong></p>
<ul>
<li><strong>Series ç´¢å¼•è¡¨</strong> = å•†å“ç›®å½•å†Œï¼ˆ"å¯ä¹åœ¨B2è´§æ¶"ï¼‰</li>
<li><strong>Posting Lists</strong> = åˆ†ç±»æ ‡ç­¾å¢™ï¼ˆ"é¥®æ–™ç±»ï¼šå¯ä¹ã€é›ªç¢§..."ï¼‰</li>
<li><strong>Active Chunks</strong> = å‰å°è´§æ¶ï¼ˆæœ€è¿‘è¿›è´§çš„å•†å“ï¼‰</li>
<li><strong>index/chunks æ–‡ä»¶</strong> = åå°å¤§ä»“åº“ï¼ˆæ•´ç®±å‹ç¼©å­˜æ”¾ï¼‰</li>
</ul>
<h3 data-id="heading-5">3.2 å…³é”®æ•°æ®ï¼šä»€ä¹ˆæ”¾å†…å­˜ï¼Œä»€ä¹ˆæ”¾ç£ç›˜ï¼Ÿ</h3>









































<table><thead><tr><th>æ•°æ®ç±»å‹</th><th>å­˜å‚¨ä½ç½®</th><th>å¤§å°ä¼°ç®—</th><th>é«˜åŸºæ•°å½±å“</th></tr></thead><tbody><tr><td>Series ç´¢å¼•</td><td>å†…å­˜</td><td>æ¯æ—¶åº 2-4 KB</td><td>ç›´æ¥è†¨èƒ€</td></tr><tr><td>å€’æ’ç´¢å¼•</td><td>å†…å­˜</td><td>éšæ ‡ç­¾å€¼å¢é•¿</td><td>æ€¥å‰§å¢é•¿</td></tr><tr><td>æœ€æ–°æ•°æ®ï¼ˆ2å°æ—¶å†…ï¼‰</td><td>å†…å­˜</td><td>æ¯æ—¶åº ~1 KB</td><td>çº¿æ€§å¢é•¿</td></tr><tr><td>å†å²æ•°æ®</td><td>ç£ç›˜</td><td>å‹ç¼©å 1:10</td><td>ç¢ç‰‡åŒ–</td></tr><tr><td>WALæ—¥å¿—</td><td>ç£ç›˜</td><td>æœªå‹ç¼©</td><td>å†™å…¥æ”¾å¤§</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒå…¬å¼ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">å†…å­˜å ç”¨</span> <span class="hljs-string">â‰ˆ</span> <span class="hljs-string">æ—¶åºæ€»æ•°</span> <span class="hljs-string">Ã—</span> <span class="hljs-number">3</span> <span class="hljs-string">KB</span>
<span class="hljs-string">æ¨èä¸Šé™ï¼šå•å®ä¾‹</span> <span class="hljs-string">&lt;</span> <span class="hljs-number">1000</span> <span class="hljs-string">ä¸‡æ—¶åº</span>
</code></pre>
<p><strong>ç°åœ¨å†çœ‹å¼€å¤´çš„é—®é¢˜ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">order_total{<span class="hljs-attr">user_id</span>=<span class="hljs-string">"10086"</span>}  <span class="hljs-comment"># 100ä¸‡ç”¨æˆ· = 100ä¸‡ä¸ª Series</span>
â†“
Series ç´¢å¼•è¡¨ï¼š100ä¸‡ Ã— <span class="hljs-attr">3KB</span> = <span class="hljs-number">3</span>GBï¼ˆä»…ç´¢å¼•å°±çˆ†äº†ï¼ï¼‰
æŸ¥è¯¢æ—¶è¦éå† 100ä¸‡ä¸ªè´§æ¶ä½ â†’ 30ç§’è¶…æ—¶
</code></pre>
<h3 data-id="heading-6">3.4 å†…å­˜ç»“æ„è¯¦è§£</h3>
<p><strong>Series ç´¢å¼•è¡¨ = å•†å“æ€»ç›®å½•</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph Normal["æ­£å¸¸å•†å“ç›®å½•"]
        N1["å¯ä¹(ç“¶è£…) â†’ B2è´§æ¶
        å¯¹åº”: (method='GET') â†’ ID:1"]
        N2["å¯ä¹(ç½è£…) â†’ B3è´§æ¶
        å¯¹åº”: (method='POST') â†’ ID:2"]
    end
    
    subgraph HighCard["âŒ é«˜åŸºæ•°é—®é¢˜"]
        H1["å¼ ä¸‰çš„å¯ä¹ â†’ A1è´§æ¶
        å¯¹åº”: (user_id='10086') â†’ ID:1"]
        H2["æå››çš„å¯ä¹ â†’ A2è´§æ¶
        å¯¹åº”: (user_id='10087') â†’ ID:2"]
        H3["ç‹äº”çš„å¯ä¹ â†’ A3è´§æ¶
        å¯¹åº”: (user_id='10088') â†’ ID:3"]
        H4["... 100ä¸‡ä¸ªé¡¾å®¢"]
    end
    
    style Normal fill:#c8e6c9,stroke:#4caf50,stroke-width:3px
    style HighCard fill:#ffcdd2,stroke:#f44336,stroke-width:3px
    style N1 fill:#a5d6a7,stroke:#2e7d32
    style N2 fill:#a5d6a7,stroke:#2e7d32
    style H1 fill:#ef9a9a,stroke:#c62828
    style H2 fill:#ef9a9a,stroke:#c62828
    style H3 fill:#ef9a9a,stroke:#c62828
    style H4 fill:#ef9a9a,stroke:#c62828
</code></pre>
<p><strong>Posting Lists = åˆ†ç±»æ ‡ç­¾å¢™</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    subgraph Drink["é¥®æ–™ç±»"]
        D1[å¯ä¹]
        D2[é›ªç¢§]
        D3[ç‰›å¥¶]
    end
    
    subgraph Snack["é›¶é£Ÿç±»"]
        S1[è–¯ç‰‡]
        S2[é¥¼å¹²]
        S3[å·§å…‹åŠ›]
    end
    
    subgraph HighCard["âŒ é«˜åŸºæ•°: ç”¨æˆ·æ ‡ç­¾"]
        U1["user_id=10086
        SeriesID:100001"]
        U2["user_id=10087
        SeriesID:100002"]
        U3["user_id=10088
        SeriesID:100003"]
        U4["... 100ä¸‡ä¸ªæ ‡ç­¾"]
    end
    
    style Drink fill:#e1f5ff,stroke:#0288d1,stroke-width:2px
    style Snack fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px
    style HighCard fill:#ffcdd2,stroke:#f44336,stroke-width:3px
    style D1 fill:#bbdefb,stroke:#0288d1
    style D2 fill:#bbdefb,stroke:#0288d1
    style D3 fill:#bbdefb,stroke:#0288d1
    style S1 fill:#e1bee7,stroke:#9c27b0
    style S2 fill:#e1bee7,stroke:#9c27b0
    style S3 fill:#e1bee7,stroke:#9c27b0
    style U1 fill:#ef9a9a,stroke:#c62828
    style U2 fill:#ef9a9a,stroke:#c62828
    style U3 fill:#ef9a9a,stroke:#c62828
    style U4 fill:#ef9a9a,stroke:#c62828
</code></pre>
<hr/>
<h2 data-id="heading-7">å››ã€ç”µå•†åœºæ™¯ï¼šå¥½ä¸åçš„æŒ‡æ ‡è®¾è®¡</h2>
<h3 data-id="heading-8">4.1 è®¢å•ç›‘æ§</h3>
<h4 data-id="heading-9">åé¢æ¡ˆä¾‹ï¼šæ¯ä¸ªç”¨æˆ·ã€æ¯ä¸ªè®¢å•éƒ½æ˜¯ç‹¬ç«‹æ—¶åº</h4>
<pre><code class="hljs language-prometheus" lang="prometheus"># é”™è¯¯è®¾è®¡
order_created{
  user_id="10086",           # 100ä¸‡ä¸ªç”¨æˆ·
  order_id="20240501001",    # æ¯å¤©50ä¸‡è®¢å•
  product_id="SKU12345"      # 10ä¸‡ä¸ªå•†å“
}

é—®é¢˜åˆ†æï¼š
â”œâ”€ æ—¶åºæ•°é‡ï¼š100ä¸‡ç”¨æˆ· Ã— 1ä¸ªæŒ‡æ ‡ = 100ä¸‡æ—¶åº
â”œâ”€ å†…å­˜å ç”¨ï¼š100ä¸‡ Ã— 3KB = 3GBï¼ˆä»…ç´¢å¼•ï¼‰
â”œâ”€ æŸ¥è¯¢å»¶è¿Ÿï¼šsum(order_created) â†’ 30ç§’è¶…æ—¶
â””â”€ å­˜å‚¨æµªè´¹ï¼šå¤§éƒ¨åˆ†è®¢å•åªæœ‰1ä¸ªæ ·æœ¬ç‚¹
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph Bad["âŒ é”™è¯¯è®¾è®¡: é«˜åŸºæ•°"]
        B1["user_id='10086'
        100ä¸‡ä¸ªç”¨æˆ·"]
        B2["order_id='ABC123'
        æ¯å¤©50ä¸‡è®¢å•"]
        B3["product_id='SKU001'
        10ä¸‡ä¸ªå•†å“"]
        
        Result1["æ—¶åºæ•°: 100ä¸‡+
        å†…å­˜: 3GB
        æŸ¥è¯¢: 30ç§’è¶…æ—¶"]
    end
    
    B1 &amp; B2 &amp; B3 --&gt; Result1
    
    style Bad fill:#ffcdd2,stroke:#f44336,stroke-width:3px
    style B1 fill:#ef9a9a,stroke:#c62828
    style B2 fill:#ef9a9a,stroke:#c62828
    style B3 fill:#ef9a9a,stroke:#c62828
    style Result1 fill:#ffebee,stroke:#c62828,stroke-width:2px
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆé”™ï¼Ÿ</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    Problem[è¶…å¸‚ç±»æ¯”] --&gt; P1["æ¯ä¸ªé¡¾å®¢çš„
    æ¯ä»¶å•†å“éƒ½å•ç‹¬ä¸Šæ¶"]
    P1 --&gt; P2["å¼ ä¸‰çš„å¯ä¹
    æå››çš„å¯ä¹
    ç‹äº”çš„å¯ä¹..."]
    P2 --&gt; P3["å•†å“ç›®å½•1000é¡µ
    è´§æ¶çˆ†æ»¡"]
    
    style Problem fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style P1 fill:#ffccbc,stroke:#ff5722
    style P2 fill:#ffccbc,stroke:#ff5722
    style P3 fill:#ffcdd2,stroke:#f44336,stroke-width:3px
</code></pre>
<h4 data-id="heading-10">æ­£é¢æ¡ˆä¾‹ï¼šèšåˆç»´åº¦</h4>
<pre><code class="hljs language-prometheus" lang="prometheus"># æ­£ç¡®è®¾è®¡
order_created_total{
  source="app|web|miniprogram",      # 3ä¸ªå€¼
  payment_method="alipay|wechat",    # 5ä¸ªå€¼
  product_category="electronics"     # 20ä¸ªä¸€çº§ç±»ç›®
}

ä¼˜åŠ¿ï¼š
â”œâ”€ æ—¶åºæ•°é‡ï¼š3 Ã— 5 Ã— 20 = 300æ—¶åº
â”œâ”€ å†…å­˜å ç”¨ï¼š300 Ã— 3KB = 900KB
â”œâ”€ æŸ¥è¯¢å»¶è¿Ÿï¼šsum(order_created_total) â†’ 10ms
â””â”€ å­˜å‚¨æ•ˆç‡ï¼šæ ·æœ¬ç‚¹å¯†é›†ï¼Œå‹ç¼©ç‡é«˜
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph Good["âœ“ æ­£ç¡®è®¾è®¡: ä½åŸºæ•°"]
        G1["source
        3ä¸ªå€¼"]
        G2["payment_method
        5ä¸ªå€¼"]
        G3["product_category
        20ä¸ªç±»ç›®"]
        
        Result2["æ—¶åºæ•°: 300
        å†…å­˜: 900KB
        æŸ¥è¯¢: 10ms"]
    end
    
    G1 &amp; G2 &amp; G3 --&gt; Result2
    
    style Good fill:#c8e6c9,stroke:#4caf50,stroke-width:3px
    style G1 fill:#a5d6a7,stroke:#2e7d32
    style G2 fill:#a5d6a7,stroke:#2e7d32
    style G3 fill:#a5d6a7,stroke:#2e7d32
    style Result2 fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆå¯¹ï¼Ÿ</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    Solution[è¶…å¸‚ç±»æ¯”] --&gt; S1[æŒ‰å•†å“ç±»å‹åˆ†ç±»]
    S1 --&gt; S2["ç“¶è£…å¯ä¹
    ç½è£…å¯ä¹
    ..."]
    S2 --&gt; S3["å•†å“ç›®å½•1é¡µ
    æ¸…æ™°æ˜äº†"]
    
    style Solution fill:#e8f5e9,stroke:#4caf50,stroke-width:2px
    style S1 fill:#c8e6c9,stroke:#66bb6a
    style S2 fill:#c8e6c9,stroke:#66bb6a
    style S3 fill:#a5d6a7,stroke:#2e7d32,stroke-width:3px
</code></pre>
<h3 data-id="heading-11">4.2 æ¥å£æ€§èƒ½ç›‘æ§</h3>
<h4 data-id="heading-12">åé¢æ¡ˆä¾‹ï¼šåŠ¨æ€URLè·¯å¾„</h4>
<pre><code class="hljs language-prometheus" lang="prometheus"># é”™è¯¯è®¾è®¡
api_request_duration{
  path="/api/order/10086/detail",    # æ¯ä¸ªè®¢å•å·ä¸€ä¸ªè·¯å¾„
  path="/api/order/10087/detail",
  path="/api/user/20001/profile",    # æ¯ä¸ªç”¨æˆ·IDä¸€ä¸ªè·¯å¾„
  ...
}

é—®é¢˜ï¼š
â”œâ”€ URLæ•°é‡ï¼šæ¯å¤©å‡ åä¸‡ä¸ªä¸åŒè·¯å¾„
â”œâ”€ æ—¶åºçˆ†ç‚¸ï¼šæ¯ä¸ªè·¯å¾„ä¸€æ¡æ—¶åº
â””â”€ æ— æ³•èšåˆï¼šsum() æ¯«æ— æ„ä¹‰
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    URL1["api/order/10086/detail"] --&gt; TS1["æ—¶åº1"]
    URL2["api/order/10087/detail"] --&gt; TS2["æ—¶åº2"]
    URL3["api/order/10088/detail"] --&gt; TS3["æ—¶åº3"]
    URL4["... æ¯å¤©50ä¸‡ä¸ªURL"] --&gt; TS4["... 50ä¸‡æ—¶åº"]
    
    TS1 &amp; TS2 &amp; TS3 &amp; TS4 --&gt; Problem["âŒ æ— æ³•èšåˆ
    æŸ¥è¯¢è¶…æ—¶"]
    
    style URL1 fill:#ffccbc,stroke:#ff5722
    style URL2 fill:#ffccbc,stroke:#ff5722
    style URL3 fill:#ffccbc,stroke:#ff5722
    style URL4 fill:#ffccbc,stroke:#ff5722
    style TS1 fill:#ef9a9a,stroke:#c62828
    style TS2 fill:#ef9a9a,stroke:#c62828
    style TS3 fill:#ef9a9a,stroke:#c62828
    style TS4 fill:#ef9a9a,stroke:#c62828
    style Problem fill:#ffcdd2,stroke:#f44336,stroke-width:3px
</code></pre>
<h4 data-id="heading-13">æ­£é¢æ¡ˆä¾‹ï¼šè·¯å¾„å½’ä¸€åŒ–</h4>
<pre><code class="hljs language-prometheus" lang="prometheus"># æ­£ç¡®è®¾è®¡
api_request_duration{
  path="/api/order/{id}/detail",     # æ¨¡æ¿åŒ–
  method="GET",
  status="200|500"
}

å®ç°æ–¹å¼ï¼š
åœ¨åº”ç”¨ä»£ç æˆ–ç½‘å…³å±‚åšè·¯å¾„å½’ä¸€åŒ–ï¼š
/api/order/10086/detail  â†’ /api/order/{id}/detail
/api/user/20001/profile  â†’ /api/user/{id}/profile
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    URL1["api/order/10086/detail"] --&gt; Normalize
    URL2["api/order/10087/detail"] --&gt; Normalize
    URL3["api/order/10088/detail"] --&gt; Normalize
    
    Normalize["è·¯å¾„å½’ä¸€åŒ–"] --&gt; Template["api/order/{id}/detail"]
    Template --&gt; TS["âœ“ 1ä¸ªèšåˆæ—¶åº
    æŸ¥è¯¢å¿«é€Ÿ"]
    
    style URL1 fill:#bbdefb,stroke:#0288d1
    style URL2 fill:#bbdefb,stroke:#0288d1
    style URL3 fill:#bbdefb,stroke:#0288d1
    style Normalize fill:#fff9c4,stroke:#fbc02d,stroke-width:2px
    style Template fill:#c8e6c9,stroke:#4caf50,stroke-width:2px
    style TS fill:#a5d6a7,stroke:#2e7d32,stroke-width:3px
</code></pre>
<h3 data-id="heading-14">4.3 åº“å­˜ç›‘æ§</h3>
<h4 data-id="heading-15">åé¢æ¡ˆä¾‹ï¼šå•†å“çº§åˆ«ç›‘æ§</h4>
<pre><code class="hljs language-prometheus" lang="prometheus"># é”™è¯¯è®¾è®¡
inventory_level{
  product_id="SKU001",      # 10ä¸‡ä¸ªSKU
  warehouse_id="WH001",     # 100ä¸ªä»“åº“
  location="A-01-05"        # 1ä¸‡ä¸ªè´§ä½
}

æ—¶åºæ•°ï¼š10ä¸‡ Ã— 100 Ã— 1ä¸‡ = 1000äº¿ï¼ˆç†è®ºå€¼ï¼‰
å®é™…ï¼šå³ä½¿åªæœ‰éƒ¨åˆ†ç»„åˆï¼Œä¹Ÿæœ‰ç™¾ä¸‡çº§æ—¶åº
</code></pre>
<h4 data-id="heading-16">æ­£é¢æ¡ˆä¾‹ï¼šåˆ†å±‚ç›‘æ§</h4>
<pre><code class="hljs language-prometheus" lang="prometheus"># å®è§‚ç›‘æ§ï¼ˆä½åŸºæ•°ï¼‰
inventory_health{
  category="electronics",       # 20ä¸ªç±»ç›®
  warehouse_region="south",     # 5ä¸ªå¤§åŒº
  stock_status="low|normal|high" # 3ä¸ªçŠ¶æ€
}

# è¯¦ç»†ç›‘æ§ï¼ˆä»…Topå•†å“ï¼‰
inventory_detail{
  product_id="SKU001",          # ä»…ç›‘æ§Top 1000å•†å“
  warehouse_id="WH001"
}
</code></pre>
<h3 data-id="heading-17">4.4 å¯¹æ¯”æ€»ç»“</h3>



































<table><thead><tr><th>ç»´åº¦</th><th>åé¢æ¡ˆä¾‹</th><th>æ­£é¢æ¡ˆä¾‹</th><th>å·®è·</th></tr></thead><tbody><tr><td>æ—¶åºæ•°é‡</td><td>100ä¸‡+</td><td>300-1000</td><td>1000å€</td></tr><tr><td>å†…å­˜å ç”¨</td><td>3GB+</td><td>&lt;5MB</td><td>600å€</td></tr><tr><td>æŸ¥è¯¢å»¶è¿Ÿ</td><td>30ç§’+</td><td>10-50ms</td><td>3000å€</td></tr><tr><td>å‘Šè­¦å“åº”</td><td>ç»å¸¸è¶…æ—¶</td><td>å®æ—¶</td><td>-</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-18">äº”ã€å‘Šè­¦åœºæ™¯çš„å…±æ€§æŠ½å–</h2>
<h3 data-id="heading-19">5.1 å‘Šè­¦çš„æœ¬è´¨éœ€æ±‚</h3>
<p>Prometheus ä½œä¸ºå‘Šè­¦ç³»ç»Ÿï¼Œæ ¸å¿ƒéœ€æ±‚æ˜¯ï¼š</p>
<pre><code class="hljs">å¿«é€Ÿå›ç­”ï¼šç³»ç»Ÿå‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ
è€Œä¸æ˜¯ï¼šè°åœ¨ä»€ä¹ˆæ—¶å€™åšäº†ä»€ä¹ˆï¼Ÿ
</code></pre>
<p><strong>å®é™…æ¡ˆä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java">å‘Šè­¦éœ€æ±‚                        éœ€è¦çš„ç»´åº¦              ä¸éœ€è¦çš„ç»´åº¦
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
è®¢å•æ”¯ä»˜å¤±è´¥ç‡è¶…<span class="hljs-number">5</span>%              payment_method          user_id, order_id
                               error_type              
                               
APIå»¶è¿ŸP99è¶…<span class="hljs-number">1</span>ç§’                 service_name            request_id
                               <span class="hljs-title function_">endpoint</span> <span class="hljs-params">(å½’ä¸€åŒ–)</span>        user_id
                               
åº“å­˜æ°´ä½ä½äºé˜ˆå€¼                category                product_id
                               warehouse_region        å…·ä½“è´§ä½
</code></pre>
<h3 data-id="heading-20">5.2 å‘Šè­¦æŒ‡æ ‡çš„è®¾è®¡è§„å¾‹</h3>
<h4 data-id="heading-21">è§„å¾‹1ï¼šèšåˆç»´åº¦ï¼Œè€Œéæ˜ç»†ç»´åº¦</h4>
<pre><code class="hljs language-ini" lang="ini">æ€è€ƒï¼šä½ éœ€è¦çŸ¥é“"å“ªäº›è®¢å•å¤±è´¥äº†"ï¼Œè¿˜æ˜¯"ä¸ºä»€ä¹ˆå¤±è´¥"ï¼Ÿ

é”™è¯¯ï¼š
alert: order_failed{<span class="hljs-attr">order_id</span>=<span class="hljs-string">"xxx"</span>} &gt; <span class="hljs-number">0</span>
â†’ æ¯ä¸ªè®¢å•éƒ½å‘Šè­¦ï¼Œæ— æ³•å¤„ç†

æ­£ç¡®ï¼š
alert: rate(order_failed_total{<span class="hljs-attr">reason</span>=<span class="hljs-string">"timeout"</span>}[<span class="hljs-number">5</span>m]) &gt; <span class="hljs-number">0.05</span>
â†’ è¶…æ—¶å¯¼è‡´çš„å¤±è´¥ç‡è¶…5%ï¼Œç«‹åˆ»ä¿®å¤
</code></pre>
<h4 data-id="heading-22">è§„å¾‹2ï¼šæŠ€æœ¯ç»´åº¦æ¯”ä¸šåŠ¡æ˜ç»†é‡è¦</h4>
<p><strong>å¿…é€‰ç»´åº¦ï¼ˆæŠ€æœ¯è¿ç»´ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">service</span>=<span class="hljs-string">"order-service"</span>     <span class="hljs-comment"># å“ªä¸ªæœåŠ¡</span>
<span class="hljs-attr">instance</span>=<span class="hljs-string">"10.0.1.5:9090"</span>   <span class="hljs-comment"># å“ªå°æœºå™¨</span>
<span class="hljs-attr">environment</span>=<span class="hljs-string">"production"</span>    <span class="hljs-comment"># å“ªä¸ªç¯å¢ƒ</span>
</code></pre>
<p><strong>å¯é€‰ç»´åº¦ï¼ˆä¸šåŠ¡èšåˆï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">payment_method</span>=<span class="hljs-string">"alipay"</span>    <span class="hljs-comment"># æ”¯ä»˜æ–¹å¼</span>
<span class="hljs-attr">category</span>=<span class="hljs-string">"electronics"</span>     <span class="hljs-comment"># å•†å“ç±»ç›®</span>
<span class="hljs-attr">region</span>=<span class="hljs-string">"åå—"</span>              <span class="hljs-comment"># åœ°åŸŸ</span>
</code></pre>
<p><strong>ç¦ç”¨ç»´åº¦ï¼ˆä¸šåŠ¡æ˜ç»†ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">user_id                    <span class="hljs-comment"># ç”¨æˆ·ID â†’ æ”¾æ—¥å¿—</span>
order_id                   <span class="hljs-comment"># è®¢å•å· â†’ æ”¾æ—¥å¿—</span>
product_id                 <span class="hljs-comment"># å•†å“ID â†’ æ”¾æ—¥å¿—ï¼ˆé™¤éTopå•†å“ï¼‰</span>
</code></pre>
<h4 data-id="heading-23">è§„å¾‹3ï¼šçŠ¶æ€èšåˆï¼Œè€ŒéçŠ¶æ€ç©·ä¸¾</h4>
<pre><code class="hljs language-ini" lang="ini">åé¢ï¼š
<span class="hljs-attr">order_status</span>=<span class="hljs-string">"created|paid|shipped|delivered|cancelled|refunded|..."</span>
â†’ 10+ ç§çŠ¶æ€ï¼Œç»„åˆçˆ†ç‚¸

æ­£é¢ï¼š
<span class="hljs-attr">order_status</span>=<span class="hljs-string">"success|failed"</span>
<span class="hljs-attr">order_stage</span>=<span class="hljs-string">"processing|completed"</span>
â†’ 2-3 ç§çŠ¶æ€ï¼Œæ¸…æ™°æ˜äº†
</code></pre>
<h3 data-id="heading-24">5.3 å…¸å‹å‘Šè­¦è§„åˆ™æ¨¡æ¿</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># è®¢å•æˆåŠŸç‡å‘Šè­¦</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">alert:</span> <span class="hljs-string">OrderSuccessRateLow</span>
  <span class="hljs-attr">expr:</span> <span class="hljs-string">|
    rate(order_success_total{env="prod"}[5m]) 
    / 
    rate(order_total{env="prod"}[5m]) &lt; 0.95
</span>  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">severity:</span> <span class="hljs-string">critical</span>
  <span class="hljs-attr">annotations:</span>
    <span class="hljs-attr">summary:</span> <span class="hljs-string">"è®¢å•æˆåŠŸç‡ä½äº95%"</span>
    
<span class="hljs-comment"># APIå»¶è¿Ÿå‘Šè­¦</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">alert:</span> <span class="hljs-string">APILatencyHigh</span>
  <span class="hljs-attr">expr:</span> <span class="hljs-string">|
    histogram_quantile(0.99, 
      rate(api_duration_bucket{service="order"}[5m])
    ) &gt; 1
</span>  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">severity:</span> <span class="hljs-string">warning</span>
  <span class="hljs-attr">annotations:</span>
    <span class="hljs-attr">summary:</span> <span class="hljs-string">"API P99å»¶è¿Ÿè¶…è¿‡1ç§’"</span>

<span class="hljs-comment"># åº“å­˜æ°´ä½å‘Šè­¦</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">alert:</span> <span class="hljs-string">InventoryLow</span>
  <span class="hljs-attr">expr:</span> <span class="hljs-string">|
    inventory_level{status="low"} &gt; 100
</span>  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">severity:</span> <span class="hljs-string">warning</span>
  <span class="hljs-attr">annotations:</span>
    <span class="hljs-attr">summary:</span> <span class="hljs-string">"<span class="hljs-template-variable">{{$labels.category}}</span> ç±»ç›®åº“å­˜ä¸è¶³"</span>
</code></pre>
<h3 data-id="heading-25">5.4 å‘Šè­¦ç»´åº¦è®¾è®¡æ¸…å•</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a6a22dc6f914c2daa2b7cfe23da43e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LiP5rWq5peg55eV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768270907&amp;x-signature=aOB1xfnKfOnAioSfmVtEpM43B2s%3D" alt="2.jpg" loading="lazy"/></p>
<p><strong>å…·ä½“ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    subgraph Good["âœ“ æ¨èä½¿ç”¨"]
        G1["service_name
        çŸ¥é“å“ªä¸ªæœåŠ¡"]
        G2["error_type
        çŸ¥é“å¤±è´¥åŸå› "]
        G3["payment_method
        5-10ç§"]
    end
    
    subgraph Bad["âŒ ä¸è¦ä½¿ç”¨"]
        B1["user_id
        ä¸å…³å¿ƒæ˜¯è°"]
        B2["request_id
        æ— é™å¢é•¿"]
        B3["order_id
        æ”¾æ—¥å¿—å³å¯"]
    end
    
    style Good fill:#c8e6c9,stroke:#4caf50,stroke-width:3px
    style Bad fill:#ffcdd2,stroke:#f44336,stroke-width:3px
    style G1 fill:#a5d6a7,stroke:#2e7d32
    style G2 fill:#a5d6a7,stroke:#2e7d32
    style G3 fill:#a5d6a7,stroke:#2e7d32
    style B1 fill:#ef9a9a,stroke:#c62828
    style B2 fill:#ef9a9a,stroke:#c62828
    style B3 fill:#ef9a9a,stroke:#c62828
</code></pre>
<hr/>
<h2 data-id="heading-26">å…­ã€æ“ä½œæŒ‡å¼•ä¸æ€»ç»“</h2>
<h3 data-id="heading-27">6.1 æ ‡ç­¾è®¾è®¡é»„é‡‘æ³•åˆ™</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph Rule1["åŸåˆ™1: åŸºæ•°æ§åˆ¶"]
        R1A["å•ä¸ªæ ‡ç­¾ &lt; 100ä¸ªå€¼"]
        R1B["æ ‡ç­¾ç»„åˆ &lt; 10,000æ—¶åº"]
    end
    
    subgraph Rule2["åŸåˆ™2: ä¸‰ä¸åŸåˆ™"]
        R2A["âŒ ä¸ç”¨å”¯ä¸€æ ‡è¯†
        user_id, order_id"]
        R2B["âŒ ä¸ç”¨åŠ¨æ€å€¼
        å®Œæ•´URL, å †æ ˆ"]
        R2C["âŒ ä¸è¿‡åº¦ç»†åŒ–
        çœå¸‚åŒº â†’ å¤§åŒº"]
    end
    
    subgraph Rule3["åŸåˆ™3: åˆ†å±‚å­˜å‚¨"]
        R3A["èšåˆæŒ‡æ ‡ â†’ Prometheus
        ç”¨äºå‘Šè­¦"]
        R3B["æ˜ç»†æ•°æ® â†’ ELK/ClickHouse
        ç”¨äºåˆ†æ"]
        R3C["é“¾è·¯è¿½è¸ª â†’ Jaeger
        ç”¨äºè°ƒè¯•"]
    end
    
    Rule1 --&gt; Rule2
    Rule2 --&gt; Rule3
    
    style Rule1 fill:#e1f5ff,stroke:#0288d1,stroke-width:3px
    style Rule2 fill:#fff3e0,stroke:#f57c00,stroke-width:3px
    style Rule3 fill:#f3e5f5,stroke:#9c27b0,stroke-width:3px
    style R1A fill:#bbdefb,stroke:#0288d1
    style R1B fill:#bbdefb,stroke:#0288d1
    style R2A fill:#ffe0b2,stroke:#f57c00
    style R2B fill:#ffe0b2,stroke:#f57c00
    style R2C fill:#ffe0b2,stroke:#f57c00
    style R3A fill:#e1bee7,stroke:#9c27b0
    style R3B fill:#e1bee7,stroke:#9c27b0
    style R3C fill:#e1bee7,stroke:#9c27b0
</code></pre>
<h3 data-id="heading-28">6.2 å¿«é€Ÿè¯Šæ–­æ¸…å•</h3>
<p>å‘ç°æŸ¥è¯¢å˜æ…¢æˆ–å†…å­˜é£™å‡ï¼ŸæŒ‰ä»¥ä¸‹æ­¥éª¤æ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    Start([å‘ç°æ€§èƒ½é—®é¢˜]) --&gt; Step1
    
    Step1["Step 1: æŸ¥çœ‹ TSDB Status
    è®¿é—® /tsdb-status"] --&gt; Check1{æ—¶åºæ€»æ•° &gt; 500ä¸‡?}
    
    Check1 --&gt;|æ˜¯| Step2A["æ‰¾å‡ºé«˜åŸºæ•°æŒ‡æ ‡
    Top 10 series count"]
    Check1 --&gt;|å¦| Step2B[æ£€æŸ¥æŸ¥è¯¢å¤æ‚åº¦]
    
    Step2A --&gt; Step3["Step 2: æ‰§è¡ŒåŸºæ•°åˆ†æ
    topkæŸ¥è¯¢"]
    Step3 --&gt; Analyze{å“ªç±»æ ‡ç­¾å€¼æœ€å¤š?}
    
    Analyze --&gt;|user_idç­‰å”¯ä¸€ID| Fix1["ç§»é™¤æ ‡ç­¾
    æ”¹ä¸ºæ—¥å¿—è®°å½•"]
    Analyze --&gt;|URLåŠ¨æ€è·¯å¾„| Fix2["è·¯å¾„å½’ä¸€åŒ–
    ä½¿ç”¨æ¨¡æ¿"]
    Analyze --&gt;|çœå¸‚åŒºç­‰ç»†åŒ–| Fix3["èšåˆä¸ºå¤§åŒº
    é™ä½ç»´åº¦"]
    
    Fix1 &amp; Fix2 &amp; Fix3 --&gt; Step4["Step 3: åº”ç”¨ä¿®å¤
    ä½¿ç”¨ relabel_configs"]
    Step4 --&gt; Verify["éªŒè¯æ•ˆæœ
    ç›‘æ§æ—¶åºæ•°å˜åŒ–"]
    
    style Start fill:#e1f5ff,stroke:#0288d1,stroke-width:2px
    style Step1 fill:#fff9c4,stroke:#fbc02d
    style Check1 fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style Analyze fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style Fix1 fill:#c8e6c9,stroke:#4caf50,stroke-width:2px
    style Fix2 fill:#c8e6c9,stroke:#4caf50,stroke-width:2px
    style Fix3 fill:#c8e6c9,stroke:#4caf50,stroke-width:2px
    style Step4 fill:#bbdefb,stroke:#0288d1
    style Verify fill:#a5d6a7,stroke:#2e7d32,stroke-width:3px
</code></pre>
<p><strong>Step 1: æŸ¥çœ‹ TSDB Status</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®¿é—® Prometheus UI</span>
http://localhost:9090/tsdb-status

é‡ç‚¹å…³æ³¨ï¼š
â€¢ Head Cardinality Stats
â€¢ Top 10 label names with value count
â€¢ Top 10 series count by metric names

æ‰¾å‡ºï¼šå“ªä¸ªæ ‡ç­¾æœ‰10ä¸‡+ä¸ªå€¼ï¼Ÿå“ªä¸ªæŒ‡æ ‡æœ‰10ä¸‡+æ—¶åºï¼Ÿ
</code></pre>
<p><strong>Step 2: æ‰§è¡ŒåŸºæ•°åˆ†ææŸ¥è¯¢</strong></p>
<pre><code class="hljs language-promql" lang="promql"># æŸ¥çœ‹æ—¶åºæ€»æ•°
count({__name__=~".+"})

# æ‰¾å‡ºé«˜åŸºæ•°æŒ‡æ ‡ï¼ˆTop 10ï¼‰
topk(10, count by (__name__)({__name__=~".+"}))

# æ‰¾å‡ºé«˜åŸºæ•°æ ‡ç­¾
# åœ¨ TSDB Status é¡µé¢æŸ¥çœ‹ "label names with value count"
</code></pre>
<p><strong>Step 3: å¯¹ç—‡ä¸‹è¯</strong></p>
<pre><code class="hljs language-bash" lang="bash">é—®é¢˜ç±»å‹                    è§£å†³æ–¹æ¡ˆ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
user_id ç­‰å”¯ä¸€ID            ç§»é™¤æ ‡ç­¾ï¼Œæ”¹ä¸ºæ—¥å¿—è®°å½•

URL åŠ¨æ€è·¯å¾„                è·¯å¾„å½’ä¸€åŒ–ï¼š
                           /api/order/123 â†’ /api/order/{<span class="hljs-built_in">id</span>}

è¿‡åº¦ç»†åŒ–ï¼ˆçœå¸‚åŒºï¼‰          èšåˆä¸ºå¤§åŒº

å†å²é—ç•™é«˜åŸºæ•°æŒ‡æ ‡          ä½¿ç”¨ relabel_configs ä¸¢å¼ƒ
</code></pre>
<h3 data-id="heading-29">6.3 Relabel é…ç½®ç¤ºä¾‹</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># prometheus.yml</span>
<span class="hljs-attr">scrape_configs:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">job_name:</span> <span class="hljs-string">'order-service'</span>
    <span class="hljs-attr">relabel_configs:</span>
      <span class="hljs-comment"># ä¸¢å¼ƒé«˜åŸºæ•°æ ‡ç­¾</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">action:</span> <span class="hljs-string">labeldrop</span>
        <span class="hljs-attr">regex:</span> <span class="hljs-string">'user_id|order_id|request_id'</span>
      
      <span class="hljs-comment"># URL è·¯å¾„å½’ä¸€åŒ–</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">source_labels:</span> [<span class="hljs-string">__path__</span>]
        <span class="hljs-attr">target_label:</span> <span class="hljs-string">path</span>
        <span class="hljs-attr">regex:</span> <span class="hljs-string">'/api/order/[0-9]+/(.*)'</span>
        <span class="hljs-attr">replacement:</span> <span class="hljs-string">'/api/order/{id}/$1'</span>
</code></pre>
<h3 data-id="heading-30">6.4 æ ¸å¿ƒè¦ç‚¹å›é¡¾</h3>
<p><strong>å­˜å‚¨åˆ†å±‚åŸåˆ™ï¼š</strong></p>
<ul>
<li>ç´¢å¼•å’Œæœ€æ–°æ•°æ®å­˜å‚¨åœ¨å†…å­˜ï¼Œä¿è¯æŸ¥è¯¢é€Ÿåº¦</li>
<li>å†å²æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ï¼Œé€šè¿‡å‹ç¼©èŠ‚çœç©ºé—´</li>
<li>çƒ­æ•°æ®ï¼ˆ2å°æ—¶å†…ï¼‰ç”¨äºå®æ—¶å‘Šè­¦ï¼Œå†·æ•°æ®ç”¨äºå†å²åˆ†æ</li>
</ul>
<p><strong>æ ‡ç­¾è®¾è®¡åŸåˆ™ï¼š</strong></p>
<ul>
<li>æ ‡ç­¾åº”è¯¥æ˜¯å¯èšåˆçš„ç»´åº¦ï¼Œè€Œéå”¯ä¸€æ ‡è¯†</li>
<li>ç”¨æˆ·IDã€è®¢å•å·ç­‰æ˜ç»†ä¿¡æ¯åº”è¯¥æ”¾åœ¨æ—¥å¿—ç³»ç»Ÿ</li>
<li>æ§åˆ¶æ ‡ç­¾åŸºæ•°æ˜¯ä¿è¯æŸ¥è¯¢æ€§èƒ½çš„å…³é”®</li>
</ul>
<p><strong>ç›‘æ§ä¸è¿½è¸ªçš„åˆ†å·¥ï¼š</strong></p>
<ul>
<li>ç›‘æ§ç³»ç»Ÿå…³æ³¨æ•´ä½“è¶‹åŠ¿å’Œå¼‚å¸¸æ¨¡å¼ï¼Œç”¨äºå‘Šè­¦</li>
<li>è¿½è¸ªç³»ç»Ÿå…³æ³¨ä¸ªä½“è¡Œä¸ºå’Œè¯¦ç»†è·¯å¾„ï¼Œç”¨äºæ’æŸ¥</li>
<li>Prometheus è´Ÿè´£"å‘ç”Ÿäº†ä»€ä¹ˆ"ï¼Œæ—¥å¿—/è¿½è¸ªè´Ÿè´£"è°åšäº†ä»€ä¹ˆ"</li>
</ul>
<h3 data-id="heading-31">6.5 æ€»ç»“</h3>
<p><strong>Prometheus çš„è®¾è®¡å“²å­¦ï¼š</strong></p>
<blockquote>
<p>ç›‘æ§ç³»ç»Ÿåº”è¯¥å›ç­”"å‘ç”Ÿäº†ä»€ä¹ˆ"ï¼ˆWhat happenedï¼‰ï¼Œ
è€Œä¸æ˜¯"è°åšäº†ä»€ä¹ˆ"ï¼ˆWho did whatï¼‰ã€‚</p>
</blockquote>
<p><strong>ä¸¤ä¸ªç»´åº¦çš„æ•°æ®åˆ†ç¦»ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/953e4d21fb32468fb546dfacca3ba947~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LiP5rWq5peg55eV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768270907&amp;x-signature=A6VpvJiUFG8CADDqBBEGbpav20A%3D" alt="1.jpg" loading="lazy"/></p>
<p><strong>æœ€åçš„å»ºè®®ï¼š</strong></p>
<ol>
<li><strong>æ–°æŒ‡æ ‡ä¸Šçº¿å‰</strong>ï¼šå…ˆè¯„ä¼°åŸºæ•°ï¼Œè®¡ç®— <code>æ—¶åºæ•° = å„æ ‡ç­¾åŸºæ•°çš„ä¹˜ç§¯</code></li>
<li><strong>å®šæœŸå·¡æ£€</strong>ï¼šæ¯å‘¨æŸ¥çœ‹ TSDB Statusï¼Œå…³æ³¨æ—¶åºå¢é•¿è¶‹åŠ¿</li>
<li><strong>å‘Šè­¦ä¼˜å…ˆ</strong>ï¼šè®°ä½ Prometheus ä¸»è¦ç”¨äºå‘Šè­¦ï¼Œä¸æ˜¯ä¸‡èƒ½åˆ†æå·¥å…·</li>
<li><strong>å·¥å…·ç»„åˆ</strong>ï¼šPrometheus + ELK + Jaeger æ‰æ˜¯å®Œæ•´çš„å¯è§‚æµ‹æ€§æ–¹æ¡ˆ</li>
</ol>
<hr/>
<p><strong>å‚è€ƒèµ„æºï¼š</strong></p>
<ul>
<li>Prometheus å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fprometheus.io%2Fdocs%2F" target="_blank" title="https://prometheus.io/docs/" ref="nofollow noopener noreferrer">prometheus.io/docs/</a></li>
<li>TSDB è®¾è®¡è®ºæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ffabxc.org%2Ftsdb%2F" target="_blank" title="https://fabxc.org/tsdb/" ref="nofollow noopener noreferrer">fabxc.org/tsdb/</a></li>
<li>åŸºæ•°åˆ†æå·¥å…·ï¼špromtool tsdb analyze</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ”¥Angularé«˜æ•ˆå¼€å‘ç§˜ç±ï¼šæŒæ¡è¿™äº›æ–°ç‰¹æ€§ï¼Œé¡¹ç›®äº¤ä»˜é€Ÿåº¦ç¿»å€]]></title>    <link>https://juejin.cn/post/7591788451030990891</link>    <guid>https://juejin.cn/post/7591788451030990891</guid>    <pubDate>2026-01-06T11:17:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591788451030990891" data-draft-id="7592059801883983915" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ”¥Angularé«˜æ•ˆå¼€å‘ç§˜ç±ï¼šæŒæ¡è¿™äº›æ–°ç‰¹æ€§ï¼Œé¡¹ç›®äº¤ä»˜é€Ÿåº¦ç¿»å€"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript,Angular.js"/> <meta itemprop="datePublished" content="2026-01-06T11:17:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DevUIå›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/712139267650141"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ”¥Angularé«˜æ•ˆå¼€å‘ç§˜ç±ï¼šæŒæ¡è¿™äº›æ–°ç‰¹æ€§ï¼Œé¡¹ç›®äº¤ä»˜é€Ÿåº¦ç¿»å€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139267650141/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DevUIå›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T11:17:20.000Z" title="Tue Jan 06 2026 11:17:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    67
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ„Ÿè°¢è´¡çŒ®è€… <a href="https://juejin.cn/user/1227513033920989" target="_blank" title="https://juejin.cn/user/1227513033920989">12ç‚¹ç¡è§‰</a> æä¾›çš„ä¼˜è´¨å¥½æ–‡ï¼</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆè¦å­¦ä¹  Angular æ–°ç‰¹æ€§</h2>
<h3 data-id="heading-1">1.1 æ—§ç‰ˆ Angular å¼€å‘ç—›ç‚¹</h3>
<ul>
<li>é…ç½®å†—ä½™ï¼šNgModule å¥—å¨ƒï¼Œç»„ä»¶å¤ç”¨éœ€å¯¼å…¥å¤šä¸ªæ¨¡å—</li>
<li>æ€§èƒ½ç“¶é¢ˆï¼šé¦–å±åŠ è½½æ…¢ï¼ˆRTTI é•¿ï¼‰ï¼Œéå¿…è¦èµ„æºæ‰“åŒ…è¿›é¦–å±</li>
<li>å¼€å‘ä½æ•ˆï¼šæ¨¡æ¿åµŒå¥—å¤æ‚ï¼ˆ*ngIf/*ngForï¼‰ï¼Œå“åº”å¼ç¼–ç¨‹å­¦ä¹ æˆæœ¬é«˜ï¼ˆRxJSï¼‰</li>
<li>ç¨³å®šæ€§å·®ï¼šè¾“å…¥ç©ºå€¼ Bug å¤šï¼Œç¼ºä¹ç¼–è¯‘æ—¶æ ¡éªŒ</li>
</ul>
<h2 data-id="heading-2">äºŒã€æ ¸å¿ƒæ–°ç‰¹æ€§ä»‹ç»</h2>
<h3 data-id="heading-3">2.1 ç‹¬ç«‹ç»„ä»¶ï¼ˆStandalone Componentsï¼‰</h3>
<h4 data-id="heading-4">2.1.1 ç‰¹æ€§ä»‹ç»â€‹</h4>
<p>ç‹¬ç«‹ç»„ä»¶é€šè¿‡åœ¨ @Component è£…é¥°å™¨ä¸­é…ç½® <code>standalone: true</code>ï¼Œå°†ã€Œä¾èµ–ç®¡ç†èƒ½åŠ›ã€ä» NgModule ä¸‹æ²‰åˆ°ç»„ä»¶æœ¬èº«ï¼Œå¯ç›´æ¥é€šè¿‡ imports æ•°ç»„å¯¼å…¥æ‰€éœ€çš„ç»„ä»¶ã€æŒ‡ä»¤ã€ç®¡é“ï¼Œæ— éœ€å°è£…åˆ° NgModule ä¸­ï¼Œæœ¬è´¨æ˜¯ç®€åŒ–é¡¹ç›®å±‚çº§ã€æå‡ç»„ä»¶å¤ç”¨æ€§ã€‚</p>
<h4 data-id="heading-5">2.1.2 åŸºç¡€å®è·µï¼šç‹¬ç«‹ç»„ä»¶çš„ä½¿ç”¨</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// 1. ç‹¬ç«‹ç»„ä»¶å®šä¹‰ï¼ˆæ— éœ€å…³è” NgModule)</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CommonModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">MyPipe</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./my.pipe'</span>; <span class="hljs-comment">// ç›´æ¥å¯¼å…¥ç®¡é“/æŒ‡ä»¤</span>

<span class="hljs-meta">@Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-demo'</span>,
  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>, 
  <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">CommonModule</span>, <span class="hljs-title class_">MyPipe</span>], <span class="hljs-comment">// ç»„ä»¶å†…ç›´æ¥å¯¼å…¥ä¾èµ–</span>
  <span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;div&gt;{{ 'test' | myPipe }}&lt;/div&gt;`</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoComponent</span> {}

<span class="hljs-comment">// ä¼ ç»Ÿ NgModule ç»„ä»¶ï¼ˆå†—ä½™ï¼‰</span>
<span class="hljs-meta">@NgModule</span>({
  <span class="hljs-attr">declarations</span>: [<span class="hljs-title class_">DemoComponent</span>, <span class="hljs-title class_">MyPipe</span>], <span class="hljs-comment">// å£°æ˜ç»„ä»¶/ç®¡é“</span>
  <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">CommonModule</span>],
  <span class="hljs-attr">exports</span>: [<span class="hljs-title class_">DemoComponent</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoModule</span> {}
</code></pre>
<h4 data-id="heading-6">2.1.3 è¿›é˜¶å®è·µï¼šç‹¬ç«‹ç»„ä»¶å…±äº«ä¾èµ–ï¼ˆé¿å…é‡å¤å¯¼å…¥ï¼‰</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// shared-directives.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CommonModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CustomInputDirective</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./custom-input.directive'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">FormatDatePipe</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./format-date.pipe'</span>;

<span class="hljs-comment">// å¯¼å‡ºå…±äº«ä¾èµ–ï¼Œä¾›å…¶ä»–ç‹¬ç«‹ç»„ä»¶æ‰¹é‡å¯¼å…¥</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">SharedDirectives</span> = [
  <span class="hljs-title class_">CommonModule</span>,
  <span class="hljs-title class_">CustomInputDirective</span>,
  <span class="hljs-title class_">FormatDatePipe</span>
];


<span class="hljs-comment">// user-form.component.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">SharedDirectives</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./shared-directives'</span>; <span class="hljs-comment">// æ‰¹é‡å¯¼å…¥å…±äº«ä¾èµ–</span>

<span class="hljs-meta">@Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-user-form'</span>,
  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">imports</span>: <span class="hljs-title class_">SharedDirectives</span>, <span class="hljs-comment">// æ— éœ€é€ä¸ªå¯¼å…¥æŒ‡ä»¤/ç®¡é“</span>
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;input [appCustomInput]="true" placeholder="ç”¨æˆ·å"&gt;
    &lt;p&gt;æ³¨å†Œæ—¶é—´ï¼š{{ registerTime | formatDate }}&lt;/p&gt;
  `</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserFormComponent</span> {
  registerTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
}
</code></pre>
<h4 data-id="heading-7">2.1.4 ç‹¬ç«‹ç»„ä»¶è·¯ç”±é…ç½®</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Routes</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@angular/router"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">HomeComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./home.component"</span>; <span class="hljs-comment">// ç‹¬ç«‹ç»„ä»¶â€‹</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title class_">Routes</span> = [
  { <span class="hljs-attr">path</span>: <span class="hljs-string">""</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">HomeComponent</span> }, <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨ç‹¬ç«‹ç»„ä»¶â€‹</span>
  <span class="hljs-comment">// æ‡’åŠ è½½ç‹¬ç«‹ç»„ä»¶ï¼ˆæ— éœ€åŒ…è£… NgModuleï¼‰â€‹</span>
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"user/:id"</span>,
    <span class="hljs-attr">loadComponent</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"./user-profile.component"</span>),
  },
  <span class="hljs-comment">// ç‹¬ç«‹ç»„ä»¶ä¸‹è¿˜å­˜åœ¨å­è·¯ç”±æ—¶ï¼Œå¯ç›´æ¥å¼•å…¥è·¯ç”±é…ç½®å¸¸é‡â€‹</span>
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">"user"</span>,
    <span class="hljs-attr">loadChildren</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"./user.route.ts"</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">m</span>) =&gt;</span> m.<span class="hljs-property">UserRoutes</span>),
  },
];
</code></pre>
<h4 data-id="heading-8">2.1.5 ä¼˜ç¼ºç‚¹åˆ†æ</h4>





















<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>1. ç®€åŒ–é¡¹ç›®ç»“æ„ï¼šå‡å°‘å†—ä½™çš„ NgModule æ–‡ä»¶</td><td>1. éœ€æ‰‹åŠ¨ç®¡ç†ç»„ä»¶é—´çš„å¯¼å…¥å…³ç³»ï¼Œæ—  NgModule ç»Ÿä¸€è§†è§’</td></tr><tr><td>2. æå‡ç»„ä»¶å¤ç”¨æ€§ï¼šç‹¬ç«‹ç»„ä»¶å¯ç›´æ¥è·¨é¡¹ç›®å¯¼å…¥ï¼ˆæ— éœ€æºå¸¦å…³è”æ¨¡å—ï¼‰</td><td>2. æ—§é¡¹ç›®å…¼å®¹æˆæœ¬ï¼šéœ€ä¸ºæ—§æ¨¡å—ç»„ä»¶è¡¥å…… <code>imports: [CommonModule]</code> é€‚é…æ–°è¯­æ³•</td></tr><tr><td>3. ä¼˜åŒ–æ‡’åŠ è½½æ€§èƒ½ï¼šloadComponent æ¯” loadChildren è½»é‡ï¼ˆå‡å°‘æ¨¡å—åŒ…è£…å¼€é”€ï¼‰</td><td>3. éƒ¨åˆ†ç¬¬ä¸‰æ–¹åº“é€‚é…æ»åï¼šå°‘æ•°æ—§åº“ä»ä¾èµ– NgModuleï¼Œéœ€é€šè¿‡ <code>imports: [LegacyModule]</code> å…¼å®¹</td></tr></tbody></table>
<h3 data-id="heading-9">2.2 æ–°æ§åˆ¶æµè¯­æ³•</h3>
<h4 data-id="heading-10">2.2.1 ç‰¹æ€§ä»‹ç»â€‹</h4>
<p>æ§åˆ¶æµæ˜¯ä¸€ç§å°†æµç¨‹æ§åˆ¶ç›´æ¥å†™å…¥æ¨¡æ¿çš„æ–°å£°æ˜æ€§è¯­æ³•ï¼Œä»è€Œæ— é¡»ä½¿ç”¨ <code>*ngIf</code>ã€<code>*ngFor</code> å’Œ <code>*ngSwitch</code> è¿™ç§åŸºäºæŒ‡ä»¤ï¼ˆDirectiveï¼‰çš„æ§åˆ¶æµ</p>
<h4 data-id="heading-11">2.2.2 åœºæ™¯ 1ï¼š@if è¯­æ³•ï¼ˆå« as å­—ç¬¦ã€@error æ•è·ï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- 1. @if + else if + elseï¼ˆæ›¿ä»£åµŒå¥— *ngIfï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"order-status"</span>&gt;</span>
  @if (order.status === 'pending') {
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status-pending"</span>&gt;</span>å¾…æ”¯ä»˜<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"payOrder()"</span>&gt;</span>ç«‹å³æ”¯ä»˜<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  } @else if (order.status === 'paid') {
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status-paid"</span>&gt;</span>å·²æ”¯ä»˜<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"viewLogistics()"</span>&gt;</span>æŸ¥çœ‹ç‰©æµ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  } @else if (order.status === 'shipped') {
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status-shipped"</span>&gt;</span>å·²å‘è´§<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  } @else {
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status-completed"</span>&gt;</span>å·²å®Œæˆ<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  }
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h4 data-id="heading-12">2.2.3 åœºæ™¯ 2ï¼š@for è¯­æ³•ï¼ˆå« trackã€@emptyï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- 1. åŸºç¡€ç”¨æ³•ï¼štrack é…ç½®ï¼ˆæ›¿ä»£ trackBy å‡½æ•°ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-list"</span>&gt;</span>
  @for (product of products; track product.id;let i = $index, let even = $even) {
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-item"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> [<span class="hljs-attr">src</span>]=<span class="hljs-string">"product.image"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"{{ product.name }}"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>{{ product.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"price"</span>&gt;</span>Â¥{{ product.price }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  } @empty {
    <span class="hljs-comment">&lt;!-- åˆ—è¡¨ä¸ºç©ºæ—¶æ˜¾ç¤ºï¼Œæ›¿ä»£ *ngIf="products.length === 0" --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"empty"</span>&gt;</span>æš‚æ— å•†å“æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  }
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
<p>æ”¯æŒåŸ*ngForä¸­çš„å˜é‡</p>
<ul>
<li>$index è·å–å½“å‰é¡¹çš„ç´¢å¼•</li>
<li>$first å½“å‰é¡¹æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ª</li>
<li>$last å½“å‰é¡¹æ˜¯å¦æ˜¯æœ€åä¸€é¡¹</li>
<li>$even å½“å‰é¡¹æ˜¯å¦å¤„äºå¶æ•°ç´¢å¼•</li>
<li>$odd å½“å‰é¡¹æ˜¯å¦å¤„äºå¥‡æ•°ç´¢å¼•</li>
<li>$count è·å–é›†åˆçš„é•¿åº¦</li>
</ul>
<h4 data-id="heading-13">2.2.4 åœºæ™¯ 3ï¼š@errorè¯­æ³•</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- @error ä»…ä½œç”¨äº @if/@for ç»“åˆ async ç®¡é“çš„ä¸Šä¸‹æ–‡--&gt;</span>
@if (user$ | async; as user; loading isLoading; error errorInfo) {
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ æ•°æ®å˜é‡å.å±æ€§ }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
} @loading {
  <span class="hljs-comment">&lt;!-- å¯é€‰ï¼šå¼‚æ­¥æµæœªå®Œæˆæ—¶çš„åŠ è½½çŠ¶æ€
  &lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;
} @error {
  &lt;!-- @error è¯­ä¹‰ï¼šæ¸²æŸ“å¤±è´¥æ—¶çš„å…œåº•é€»è¾‘ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>é”™è¯¯ï¼š{{ errorInfo.message }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
}
</code></pre>
<p><strong>å¯ç›‘å¬çš„é”™è¯¯ç±»å‹</strong></p>
<ul>
<li>
<p>å¼‚æ­¥æµè‡ªèº«æŠ›å‡ºçš„é”™è¯¯</p>

























<table><thead><tr><th>HTTP è¯·æ±‚é”™è¯¯</th><th>æ¥å£è¿”å› 404/403/500 çŠ¶æ€ç ã€ç½‘ç»œä¸­æ–­ã€CORS é…ç½®é”™è¯¯</th></tr></thead><tbody><tr><td>å¼‚æ­¥æ“ä½œè¶…æ—¶</td><td><code>data$.pipe(timeout(3000))</code> è¶…æ—¶è§¦å‘ <code>TimeoutError</code></td></tr><tr><td>Promise æ‰§è¡Œé”™è¯¯</td><td><code>new Promise((_, reject) =&gt; reject(new Error('æ‰§è¡Œå¤±è´¥')))</code></td></tr><tr><td>ä¸šåŠ¡é€»è¾‘ä¸»åŠ¨æŠ›é”™</td><td><code>data$.pipe(map(res =&gt; { if (!res.id) throw new Error('IDç¼ºå¤±'); }))</code></td></tr><tr><td>æµå–æ¶ˆ / ç»ˆæ­¢é”™è¯¯</td><td>å¼‚æ­¥æµè¢«æ‰‹åŠ¨ <code>unsubscribe</code> ä¸”æŠ›é”™ã€æµå†…éƒ¨æœªæ•è·çš„æ‰§è¡Œé”™è¯¯</td></tr></tbody></table>
</li>
<li>
<p>å¼‚æ­¥æ•°æ®è§£æ / è½¬æ¢é”™è¯¯</p>





















<table><thead><tr><th>å­ç±»å‹</th><th>è§¦å‘ç¤ºä¾‹</th></tr></thead><tbody><tr><td>æ•°æ®æ ¼å¼ä¸åŒ¹é…</td><td>æœŸæœ›æ•°ç»„å´è¿”å›å¯¹è±¡ï¼š<code>list$ = of({ name: 'test' })</code> + <code>@for</code> æ¸²æŸ“</td></tr><tr><td>JSON è§£æé”™è¯¯</td><td><code>data$ = http.get('/api/data').pipe(map(res =&gt; JSON.parse(res)))</code>ï¼ˆé JSON å­—ç¬¦ä¸²ï¼‰</td></tr><tr><td>ç±»å‹è½¬æ¢é”™è¯¯</td><td>å¼‚æ­¥è¿”å›å­—ç¬¦ä¸²å´åšæ•°å­—è¿ç®—ï¼š<code>{{ data * 2 }}</code>ï¼ˆ<code>data$ = of('abc')</code>ï¼‰</td></tr></tbody></table>
</li>
<li>
<p>æ¨¡æ¿æ¸²æŸ“å¼‚æ­¥æ•°æ®çš„è¿è¡Œæ—¶é”™è¯¯</p>

























<table><thead><tr><th>å­ç±»å‹</th><th>è§¦å‘ç¤ºä¾‹</th></tr></thead><tbody><tr><td>ç©ºå€¼ / æœªå®šä¹‰è®¿é—®</td><td><code>data$ = of(null)</code> + æ¨¡æ¿ä¸­ <code>{{ data.name }}</code></td></tr><tr><td>æ•°ç»„æ–¹æ³•è°ƒç”¨é”™è¯¯</td><td><code>data$ = of(123)</code> + æ¨¡æ¿ä¸­ <code>{{ data.filter(item =&gt; item &gt; 0) }}</code></td></tr><tr><td>ç®¡é“æ‰§è¡Œé”™è¯¯</td><td><code>data$ = of('2025-13-01')</code> + æ¨¡æ¿ä¸­ <code>{{ data | date }}</code>ï¼ˆéæ³•æ—¥æœŸï¼‰</td></tr><tr><td>æ¨¡æ¿å†…å‡½æ•°è°ƒç”¨é”™è¯¯</td><td><code>data$ = of('test')</code> + æ¨¡æ¿ä¸­ <code>{{ formatData(data) }}</code>ï¼ˆformatData æŠ›é”™ï¼‰</td></tr></tbody></table>
</li>
</ul>
<h4 data-id="heading-14">2.2.5 åœºæ™¯ 4ï¼š@switch è¯­æ³•ï¼ˆæ›¿ä»£ *ngSwitchï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"role-container"</span>&gt;</span>
  @switch (user.role) {
    @case ('admin') {
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"role-tag admin"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>ç®¡ç†å‘˜<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"showAdminMenu()"</span>&gt;</span>ç®¡ç†èœå•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    }
    @case ('editor') {
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"role-tag editor"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>ç¼–è¾‘<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"showEditorTools()"</span>&gt;</span>ç¼–è¾‘å·¥å…·<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    }
    @case ('viewer') {
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"role-tag viewer"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æŸ¥çœ‹è€…<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    }
    @default {
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"role-tag guest"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>è®¿å®¢<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"goToLogin()"</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    }
  }
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h4 data-id="heading-15">2.2.6 ä¼˜ç¼ºç‚¹åˆ†æ</h4>





















<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>1. æ€§èƒ½æå‡ï¼šç¼–è¯‘åå‡å°‘ DOM æ“ä½œæ¬¡æ•°ï¼Œæ¯”æ—§æŒ‡ä»¤å¿« 15%-20%</td><td>1. è¿ç§»æˆæœ¬ï¼šæ—§é¡¹ç›®éœ€æ‰¹é‡ä¿®æ”¹æ¨¡æ¿ï¼Œå¤æ‚åµŒå¥—é€»è¾‘éœ€æ‰‹åŠ¨é€‚é…</td></tr><tr><td>2. è¯­æ³•ç›´è§‚ï¼šæ”¯æŒ @else if/@emptyï¼Œå‡å°‘åµŒå¥—å±‚çº§ï¼ˆå¦‚æ›¿ä»£ *ngIf åµŒå¥—ï¼‰</td><td>2. IDE æ”¯æŒæ»åï¼šéƒ¨åˆ†æ—§ç‰ˆ IDE è¯­æ³•é«˜äº®ä¸å®Œæ•´</td></tr><tr><td>3. å‡å°‘é”™è¯¯ï¼š@for å¼ºåˆ¶è¦æ±‚ trackï¼Œé¿å…å› å¿˜è®° trackBy å¯¼è‡´çš„åˆ—è¡¨é‡æ¸²æŸ“æ€§èƒ½é—®é¢˜</td><td>3. å…¼å®¹æ€§é™åˆ¶ï¼šä»… Angular17+ æ”¯æŒï¼Œæ— æ³•é™çº§åˆ°æ—§ç‰ˆæœ¬</td></tr></tbody></table>
<h3 data-id="heading-16">2.3 ä¿¡å·ï¼ˆSignalsï¼‰</h3>
<h4 data-id="heading-17">2.3.1 æ ¸å¿ƒæ¦‚å¿µä¸åŸºç¡€ API æ€»è§ˆâ€‹</h4>
<p>Signals æ˜¯ Angular17 æ¨å‡ºçš„è½»é‡çº§å“åº”å¼çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œæ ¸å¿ƒè§£å†³ä¼ ç»Ÿ BehaviorSubject éœ€æ‰‹åŠ¨è®¢é˜…ã€å˜æ›´æ£€æµ‹å†—ä½™çš„é—®é¢˜ï¼ŒAPI åˆ†ä¸ºä¸‰ç±»ï¼š</p>















































<table><thead><tr><th>API ç±»å‹</th><th>å…·ä½“ API</th><th>ä½œç”¨</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>åŸºç¡€ä¿¡å·æ“ä½œ</td><td>signal(initialValue)</td><td>åˆ›å»ºåŸºç¡€ä¿¡å·ï¼ˆåˆå§‹å€¼ä¸å¯å˜ï¼‰</td><td>å®šä¹‰ç»„ä»¶å†… / Service å†…çŠ¶æ€</td></tr><tr><td/><td>set(newValue)</td><td>å…¨é‡æ›¿æ¢ä¿¡å·å€¼ï¼ˆè¦†ç›–æ—§å€¼ï¼‰</td><td>ç›´æ¥èµ‹å€¼ï¼ˆå¦‚è¡¨å•è¾“å…¥ã€çŠ¶æ€é‡ç½®ï¼‰</td></tr><tr><td/><td>update(prev =&gt; new)</td><td>åŸºäºæ—§å€¼è®¡ç®—æ–°å€¼ï¼ˆå‡½æ•°å¼æ›´æ–°ï¼‰</td><td>ç´¯åŠ ã€è¿‡æ»¤ã€ä¿®æ”¹éƒ¨åˆ†å±æ€§</td></tr><tr><td/><td><del>mutate(prev =&gt; void) ï¼ˆNG18å·²åºŸå¼ƒåˆ é™¤ï¼‰</del></td><td><del>ç›´æ¥ä¿®æ”¹å¼•ç”¨ç±»å‹å†…éƒ¨å€¼ï¼ˆä¸åˆ›å»ºæ–°å¼•ç”¨ï¼‰</del></td><td><del>æ•°ç»„ push/popã€å¯¹è±¡å±æ€§ä¿®æ”¹</del></td></tr><tr><td>è®¡ç®—ä¿¡å·</td><td>computed(() =&gt; value)</td><td>ä¾èµ–å…¶ä»–ä¿¡å·çš„è¡ç”Ÿå€¼ï¼ˆè‡ªåŠ¨å“åº”å˜åŒ–ï¼‰</td><td>è®¡ç®—æ€»ä»·ã€ç­›é€‰åˆ—è¡¨ã€æ ¼å¼è½¬æ¢</td></tr><tr><td>å‰¯ä½œç”¨ç›‘å¬</td><td>effect(() =&gt; void)</td><td>ä¿¡å·å˜åŒ–æ—¶æ‰§è¡Œå‰¯ä½œç”¨ï¼ˆå¦‚æ—¥å¿—ã€è¯·æ±‚ï¼‰</td><td>çŠ¶æ€å˜åŒ–åè§¦å‘ APIã€æ›´æ–° DOM</td></tr></tbody></table>
<h4 data-id="heading-18">2.3.2 åŸºç¡€ API å®æˆ˜</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span>, signal } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;

<span class="hljs-meta">@Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-counter'</span>,
  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;div class="counter"&gt;
      &lt;h3&gt;å½“å‰è®¡æ•°ï¼š{{ count() }}&lt;/h3&gt;
      &lt;button (click)="resetCount()"&gt;é‡ç½®ä¸º 0&lt;/button&gt;
      &lt;button (click)="increment()"&gt;+1&lt;/button&gt;
    &lt;/div&gt;
  `</span>,
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CounterComponent</span> {
  <span class="hljs-comment">// åˆ›å»ºåŸºç¡€ä¿¡å·ï¼ˆåˆå§‹å€¼ä¸º 0ï¼‰</span>
  count = <span class="hljs-title function_">signal</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// è®¡ç®—ä¿¡å·</span>
  totalCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> ()*<span class="hljs-number">2</span>);

  <span class="hljs-comment">// setï¼šå…¨é‡æ›¿æ¢ä¿¡å·å€¼</span>
  <span class="hljs-title function_">resetCount</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>);
  }

  <span class="hljs-comment">// updateï¼šåŸºäºæ—§å€¼ç´¯åŠ  1</span>
  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>.<span class="hljs-title function_">update</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev + <span class="hljs-number">1</span>);
  }
}
</code></pre>
<h4 data-id="heading-19">2.3.4  effect å‰¯ä½œç”¨æ¸…ç†ï¼ˆé¿å…å†…å­˜æ³„æ¼ï¼‰</h4>
<p>å½“effectä¸­åŒ…å«è®¢é˜…ï¼ˆå¦‚å®šæ—¶å™¨ã€API è®¢é˜…ï¼‰æ—¶ï¼Œéœ€é€šè¿‡<strong>æ¸…ç†å‡½æ•°</strong>é‡Šæ”¾èµ„æºï¼Œé¿å…ç»„ä»¶é”€æ¯åä»æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span>, signal, effect, <span class="hljs-title class_">OnDestroy</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { interval } <span class="hljs-keyword">from</span> <span class="hljs-string">'rxjs'</span>;

<span class="hljs-meta">@Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-timer'</span>,
  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;p&gt;å½“å‰è®¡æ•°ï¼š{{ count() }}&lt;/p&gt;`</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TimerComponent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OnDestroy</span> {
  count = <span class="hljs-title function_">signal</span>(<span class="hljs-number">0</span>);
  <span class="hljs-comment">// å­˜å‚¨effectæ¸…ç†å‡½æ•°ï¼ˆç”¨äºç»„ä»¶é”€æ¯æ—¶è°ƒç”¨ï¼‰</span>
  <span class="hljs-keyword">private</span> effectCleanup?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// effectè¿”å›æ¸…ç†å‡½æ•°ï¼Œç”¨äºé‡Šæ”¾èµ„æº</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">effectCleanup</span> = <span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// åœºæ™¯ï¼šå½“count&gt;5æ—¶ï¼Œå¯åŠ¨å®šæ—¶å™¨ï¼ˆéœ€æ¸…ç†ï¼‰</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">count</span>() &gt; <span class="hljs-number">5</span>) {
        <span class="hljs-keyword">const</span> timer = <span class="hljs-title function_">interval</span>(<span class="hljs-number">1000</span>).<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>.<span class="hljs-title function_">update</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>);
        });
        <span class="hljs-comment">// æ¸…ç†å‡½æ•°ï¼šç»„ä»¶é”€æ¯æ—¶å–æ¶ˆè®¢é˜…</span>
        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> timer.<span class="hljs-title function_">unsubscribe</span>();
      }
    });
  }

  <span class="hljs-comment">// ç»„ä»¶é”€æ¯æ—¶æ‰§è¡Œæ¸…ç†</span>
  <span class="hljs-title function_">ngOnDestroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">effectCleanup</span>?.();
  }

  <span class="hljs-comment">// å¤–éƒ¨è§¦å‘countå¢åŠ </span>
  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>.<span class="hljs-title function_">update</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>);
  }
}
</code></pre>
<h4 data-id="heading-20">2.3.5 signal ä¸ Observable äº’è½¬ï¼ˆé€‚é…å¼‚æ­¥åœºæ™¯ï¼‰</h4>
<p>é€šè¿‡toSignal()ï¼ˆObservable è½¬ä¿¡å·ï¼‰å’ŒfromSignal()ï¼ˆä¿¡å·è½¬ Observableï¼‰ï¼Œé€‚é…æ—¢æœ‰ RxJS ä»£ç ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { signal, toSignal } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { fromSignal } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core/rxjs-interop'</span>;
<span class="hljs-keyword">import</span> { interval, switchMap, debounceTime } <span class="hljs-keyword">from</span> <span class="hljs-string">'rxjs'</span>;

<span class="hljs-meta">@Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-signal-observable'</span>,
  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">template</span>: <span class="hljs-string">`
    &lt;p&gt;å½“å‰ç”¨æˆ·ï¼š{{ user()?.name }}&lt;/p&gt;
    &lt;input [(ngModel)]="searchInput()" placeholder="æœç´¢..."&gt;
    &lt;p&gt;æœç´¢ç»“æœï¼š{{ searchResult()?.length || 0 }} æ¡&lt;/p&gt;
  `</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SignalObservableComponent</span> {
  <span class="hljs-comment">// 1. Observableè½¬ä¿¡å·ï¼šé€‚é…APIè¯·æ±‚ï¼ˆå¦‚HttpClientè¿”å›Observableï¼‰</span>
  userId = <span class="hljs-title function_">signal</span>(<span class="hljs-number">1</span>);
  <span class="hljs-comment">// å½“userIdå˜åŒ–æ—¶ï¼Œè‡ªåŠ¨é‡æ–°è¯·æ±‚ç”¨æˆ·ä¿¡æ¯ï¼ˆswitchMapåˆ‡æ¢è¯·æ±‚ï¼‰</span>
  user$ = <span class="hljs-title function_">fromSignal</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>).<span class="hljs-title function_">pipe</span>(
    <span class="hljs-title function_">switchMap</span>(<span class="hljs-function"><span class="hljs-params">id</span> =&gt;</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/user/<span class="hljs-subst">${id}</span>`</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>()))
  );
  <span class="hljs-comment">// å°†Observableè½¬ä¸ºä¿¡å·ï¼Œä¾›æ¨¡æ¿ä½¿ç”¨ï¼ˆinitialValueé¿å…undefinedï¼‰</span>
  user = <span class="hljs-title function_">toSignal</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">user$</span>, { <span class="hljs-attr">initialValue</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'é»˜è®¤ç”¨æˆ·'</span> } });

  <span class="hljs-comment">// 2. ä¿¡å·è½¬Observableï¼šé€‚é…RxJSæ“ä½œç¬¦ï¼ˆå¦‚debounceTimeï¼‰</span>
  searchInput = <span class="hljs-title function_">signal</span>(<span class="hljs-string">''</span>);
  <span class="hljs-comment">// å°†ä¿¡å·è½¬ä¸ºObservableï¼Œæ·»åŠ é˜²æŠ–</span>
  searchResult$ = <span class="hljs-title function_">fromSignal</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">searchInput</span>).<span class="hljs-title function_">pipe</span>(
    <span class="hljs-title function_">debounceTime</span>(<span class="hljs-number">300</span>), <span class="hljs-comment">// è¾“å…¥åœæ­¢300msåæ‰§è¡Œæœç´¢</span>
    <span class="hljs-title function_">switchMap</span>(<span class="hljs-function"><span class="hljs-params">keyword</span> =&gt;</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/search?kw=<span class="hljs-subst">${keyword}</span>`</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>()))
  );
  <span class="hljs-comment">// è½¬ä¸ºä¿¡å·ä¾›æ¨¡æ¿ä½¿ç”¨</span>
  searchResult = <span class="hljs-title function_">toSignal</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">searchResult$</span>, { <span class="hljs-attr">initialValue</span>: [] });
}
</code></pre>
<h4 data-id="heading-21">2.3.6 ä¿¡å·ï¼ˆSignalsï¼‰ä¸ Observable è®¢é˜…çš„åœºæ™¯å¯¹æ¯”</h4>








































<table><thead><tr><th>é€‚ç”¨åœºæ™¯</th><th>é€‰æ‹©ä¿¡å·ï¼ˆSignalsï¼‰</th><th>é€‰æ‹© Observable è®¢é˜…</th></tr></thead><tbody><tr><td>ç»„ä»¶å†…ç®€å•çŠ¶æ€ç®¡ç†</td><td>âœ… ä¼˜å…ˆé€‰æ‹©ï¼šè®¡æ•°å™¨ã€å¼¹çª—æ˜¾éšã€è¡¨å•è¾“å…¥çŠ¶æ€</td><td>âŒ ä¸æ¨èï¼šè¯­æ³•ç¹çï¼Œéœ€æ‰‹åŠ¨ç®¡ç†è®¢é˜…</td></tr><tr><td>å¤šä¾èµ–è¡ç”Ÿå€¼è®¡ç®—</td><td>âœ… ä¼˜å…ˆé€‰æ‹©ï¼šè´­ç‰©è½¦æ€»ä»·ã€ç­›é€‰åˆ—è¡¨ã€æ ¼å¼è½¬æ¢</td><td>âŒ ä¸æ¨èï¼šéœ€ç”¨ combineLatest ç­‰æ“ä½œç¬¦ï¼Œè¯­æ³•å¤æ‚</td></tr><tr><td>è·¨ç»„ä»¶å…±äº«ç®€å•çŠ¶æ€</td><td>âœ… ä¼˜å…ˆé€‰æ‹©ï¼šä¸»é¢˜åˆ‡æ¢ã€ç™»å½•çŠ¶æ€ã€å…¨å±€å¼€å…³</td><td>âŒ ä¸æ¨èï¼šéœ€ç”¨ Subject å°è£…ï¼Œå†…å­˜ç®¡ç†å¤æ‚</td></tr><tr><td>å¤æ‚å¼‚æ­¥æµï¼ˆå¤šè¯·æ±‚åˆå¹¶ï¼‰</td><td>âŒ ä¸æ¨èï¼šéœ€é€šè¿‡ toSignal() é€‚é…ï¼Œæ— åŸç”Ÿæ“ä½œç¬¦</td><td>âœ… ä¼˜å…ˆé€‰æ‹©ï¼šswitchMap/forkJoin ç­‰æ“ä½œç¬¦åŸç”Ÿæ”¯æŒ</td></tr><tr><td>é«˜é¢‘äº‹ä»¶å¤„ç†ï¼ˆé˜²æŠ– / èŠ‚æµï¼‰</td><td>âŒ ä¸æ¨èï¼šéœ€è½¬ Observable åä½¿ç”¨æ“ä½œç¬¦</td><td>âœ… ä¼˜å…ˆé€‰æ‹©ï¼šdebounceTime/throttleTime åŸç”Ÿæ”¯æŒ</td></tr><tr><td>å®æ—¶æ•°æ®æµï¼ˆWebSocketï¼‰</td><td>âŒ ä¸æ¨èï¼šéœ€è½¬ Observable å¤„ç†æŒç»­äº‹ä»¶æµ</td><td>âœ… ä¼˜å…ˆé€‰æ‹©ï¼šåŸç”Ÿæ”¯æŒ next/complete äº‹ä»¶</td></tr></tbody></table>
<h3 data-id="heading-22">2.4 å»¶è¿ŸåŠ è½½æ¨¡æ¿ï¼ˆ@deferï¼‰- å…¨åœºæ™¯è¦†ç›–</h3>
<h4 data-id="heading-23">2.4.1 è¯­æ³•åŸç†</h4>
<p>@defer æ˜¯ Angular17 æ–°å¢çš„<strong>æ¨¡æ¿çº§å»¶è¿ŸåŠ è½½è¯­æ³•</strong>ï¼Œæ ¸å¿ƒæ˜¯ â€œæŒ‰éœ€åŠ è½½éé¦–å±å†…å®¹â€ï¼ˆå¦‚å¼¹çª—ã€æŠ˜å é¢æ¿å†…ç»„ä»¶ï¼‰ï¼Œé¿å…é¦–å±åŠ è½½å†—ä½™çš„ JS/CSS èµ„æºã€‚æ”¯æŒå››å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šâ€‹</p>
<ol>
<li>è§¦å‘æ¡ä»¶ï¼šonï¼ˆç”¨æˆ·äº¤äº’ï¼‰ã€whenï¼ˆæ¡ä»¶æ»¡è¶³ï¼‰ï¼›â€‹</li>
<li>çŠ¶æ€æç¤ºï¼š<code>@placeholder</code>ï¼ˆåŠ è½½ä¸­ï¼‰ã€<code>@loading</code>ï¼ˆåŠ è½½ä¸­ï¼‰ã€<code>@error</code>ï¼ˆåŠ è½½å¤±è´¥ï¼‰ã€<code>@empty</code>ï¼ˆå†…å®¹ä¸ºç©ºï¼‰ï¼›â€‹</li>
<li>é¢„åŠ è½½ï¼šprefetchï¼ˆæå‰åŠ è½½å³å°†ç”¨åˆ°çš„èµ„æºï¼‰ï¼›â€‹</li>
<li>æ€§èƒ½ä¼˜åŒ–ï¼šåŠ è½½å®Œæˆåè‡ªåŠ¨æ›¿æ¢å ä½å†…å®¹ï¼Œæ— é—ªçƒã€‚</li>
</ol>
<h4 data-id="heading-24">2.4.2 åŸºç¡€ç”¨æ³•ï¼ˆé»˜è®¤è§¦å‘ï¼šç»„ä»¶åˆå§‹åŒ–åå»¶è¿ŸåŠ è½½ï¼‰</h4>
<p>é€‚ç”¨äº â€œé¦–å±éå…³é”®å†…å®¹â€ï¼ˆå¦‚é¡µé¢åº•éƒ¨çš„æ¨èåˆ—è¡¨ï¼‰ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- é¦–å±ä¼˜å…ˆåŠ è½½æ ¸å¿ƒå†…å®¹ï¼ˆç”¨æˆ·ä¿¡æ¯ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-info"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>{{ user.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ user.email }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å»¶è¿ŸåŠ è½½éå…³é”®å†…å®¹ï¼ˆæ¨èåˆ—è¡¨ï¼‰ --&gt;</span>
@defer {
  <span class="hljs-tag">&lt;<span class="hljs-name">app-recommended-list</span> [<span class="hljs-attr">userId</span>]=<span class="hljs-string">"user.id"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-recommended-list</span>&gt;</span>
} @placeholder (minimum 500ms){
  <span class="hljs-comment">&lt;!-- åŠ è½½å‰çŠ¶æ€ï¼šå ä½å†…å®¹ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"comment-skeleton"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"skeleton-line"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"skeleton-line"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"skeleton-avatar"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
} @loading {
  <span class="hljs-comment">&lt;!-- åŠ è½½ä¸­çŠ¶æ€ï¼šæ›¿ä»£ngIf+loadingå˜é‡ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"skeleton"</span>&gt;</span>æ¨èå†…å®¹åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
}
</code></pre>
<h4 data-id="heading-25">2.4.3 on è§¦å‘ï¼ˆç”¨æˆ·äº¤äº’æ—¶åŠ è½½ï¼‰</h4>
<p>é€‚ç”¨äº â€œç”¨æˆ·ä¸»åŠ¨è§¦å‘æ‰æ˜¾ç¤ºçš„å†…å®¹â€ï¼ˆå¦‚ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºçš„è¯¦æƒ…é¢æ¿ï¼‰ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- æŒ‰é’®è§¦å‘ï¼šç‚¹å‡»ååŠ è½½è¯¦æƒ…ç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> #<span class="hljs-attr">detailBtn</span>&gt;</span>æŸ¥çœ‹è®¢å•è¯¦æƒ…<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

@defer (on click(detailBtn)) { <span class="hljs-comment">&lt;!-- ç‚¹å‡»æŒ‰é’®æ—¶è§¦å‘åŠ è½½ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">app-order-detail</span> [<span class="hljs-attr">orderId</span>]=<span class="hljs-string">"currentOrderId"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-order-detail</span>&gt;</span>
} @loading {
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading-spinner"</span>&gt;</span>åŠ è½½è¯¦æƒ…ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
} @error {
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"error"</span>&gt;</span>è¯¦æƒ…åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
}

<span class="hljs-comment">&lt;!-- å…¶ä»–è§¦å‘äº‹ä»¶ï¼šhover/focus --&gt;</span>
@defer (on hover(detailCard)) { <span class="hljs-comment">&lt;!-- é¼ æ ‡æ‚¬æµ®æ—¶åŠ è½½ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card-tooltip"</span>&gt;</span>è®¢å•åˆ›å»ºæ—¶é—´ï¼š{{ order.createTime }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
}

<span class="hljs-comment">&lt;!-- å…¶ä»–è§¦å‘äº‹ä»¶ï¼šscroll --&gt;</span>
@defer (on scroll(detailCard, 200px)) {â€‹
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading-more"</span>&gt;</span>åŠ è½½æ›´å¤šå•†å“ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>â€‹
  <span class="hljs-tag">&lt;<span class="hljs-name">ng-container</span> *<span class="hljs-attr">ngIf</span>=<span class="hljs-string">"moreProducts$ | async as more"</span>&gt;</span>â€‹
    @for (item of more; track item.id) {â€‹
      <span class="hljs-tag">&lt;<span class="hljs-name">app-product-card</span> [<span class="hljs-attr">product</span>]=<span class="hljs-string">"item"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-product-card</span>&gt;</span>â€‹
    }â€‹
  <span class="hljs-tag">&lt;/<span class="hljs-name">ng-container</span>&gt;</span>â€‹
}
</code></pre>
<h4 data-id="heading-26">2.4.4 when è§¦å‘ï¼ˆæ¡ä»¶æ»¡è¶³æ—¶åŠ è½½ï¼‰</h4>
<p>é€‚ç”¨äº â€œæ•°æ®å°±ç»ª / çŠ¶æ€å˜åŒ–æ—¶åŠ è½½â€ï¼ˆå¦‚ç­›é€‰æ¡ä»¶é€‰æ‹©ååŠ è½½è¡¨æ ¼ï¼‰ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- æ¡ä»¶è§¦å‘ï¼šç­›é€‰æ¡ä»¶é€‰ä¸­ååŠ è½½è¡¨æ ¼ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">select</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"selectedType"</span> (<span class="hljs-attr">change</span>)=<span class="hljs-string">"onTypeChange()"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©è®¢å•ç±»å‹<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"all"</span>&gt;</span>å…¨éƒ¨è®¢å•<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"paid"</span>&gt;</span>å·²æ”¯ä»˜<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>

@defer (when selectedType !== '') { <span class="hljs-comment">&lt;!-- å½“selectedTypeéç©ºæ—¶åŠ è½½ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">app-order-table</span> [<span class="hljs-attr">type</span>]=<span class="hljs-string">"selectedType"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-order-table</span>&gt;</span>
} @loading {
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"table-skeleton"</span>&gt;</span>è¡¨æ ¼åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
} @empty {
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æš‚æ— {{ selectedType === 'paid' ? 'å·²æ”¯ä»˜' : 'å…¨éƒ¨' }}è®¢å•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
}
</code></pre>
<h4 data-id="heading-27">2.4.5 prefetch é¢„åŠ è½½ï¼ˆæå‰åŠ è½½å³å°†ç”¨åˆ°çš„å†…å®¹ï¼‰</h4>
<p>é€‚ç”¨äº â€œå³å°†è§¦å‘åŠ è½½â€ çš„åœºæ™¯ï¼ˆå¦‚æ»šåŠ¨åˆ°æ¥è¿‘ä½ç½®æ—¶é¢„åŠ è½½ï¼‰ï¼Œå‡å°‘ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- é¢„åŠ è½½ï¼šå½“ç”¨æˆ·æ»šåŠ¨åˆ°è·ç¦»ç»„ä»¶500pxæ—¶ï¼Œæå‰åŠ è½½ --&gt;</span>
@defer (on scroll(container, 500px); prefetch on scroll(container, 1000px)) {
  <span class="hljs-comment">&lt;!-- æ»šåŠ¨åˆ°è·ç¦»ç»„ä»¶1000pxæ—¶é¢„åŠ è½½èµ„æºï¼Œæ»šåŠ¨åˆ°500pxæ—¶æ˜¾ç¤º --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">app-long-list</span> [<span class="hljs-attr">page</span>]=<span class="hljs-string">"currentPage"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-long-list</span>&gt;</span>
}

<span class="hljs-comment">&lt;!-- å®¹å™¨æ»šåŠ¨ç›‘å¬ï¼šæŒ‡å®šscrollçš„å‚è€ƒå®¹å™¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> #<span class="hljs-attr">container</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"scroll-container"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"height: 500px; overflow-y: auto;"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- å…¶ä»–å†…å®¹ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h4 data-id="heading-28">2.4.6 @errorè¯­æ³•</h4>
<p>ä¸“ä¸ºã€Œ<code>defer</code> æ‡’åŠ è½½å…¨æµç¨‹ã€è®¾è®¡çš„é”™è¯¯æ•è·å—ï¼Œä»…ä½œç”¨äº <code>defer</code> å—å†…éƒ¨ï¼Œæ•è·ä»ã€Œæ‡’åŠ è½½èµ„æºä¸‹è½½ã€åˆ°ã€Œç»„ä»¶åˆå§‹åŒ– / æ¸²æŸ“ã€çš„å…¨é“¾è·¯é”™è¯¯ï¼Œå±äºã€Œèµ„æºåŠ è½½å±‚é”™è¯¯å…œåº•ã€ã€‚</p>
<pre><code class="hljs language-html" lang="html">@defer
<span class="hljs-comment">&lt;!-- æ‡’åŠ è½½ç›®æ ‡ç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">app-lazy</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-lazy</span>&gt;</span>
} @placeholder {
<span class="hljs-comment">&lt;!-- è§¦å‘å‰å ä½ï¼šç‚¹å‡»æŒ‰é’®åŠ è½½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç‚¹å‡»åŠ è½½æ‡’ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
} @loading {
<span class="hljs-comment">&lt;!-- åŠ è½½ä¸­çŠ¶æ€ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
} @error {
<span class="hljs-comment">&lt;!-- æ‡’åŠ è½½é”™è¯¯æ•è·ï¼š$error æ˜¯å†…ç½®é”™è¯¯å¯¹è±¡ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>âŒ æ‡’åŠ è½½å¤±è´¥ï¼š{{ $error.message }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
}
</code></pre>
<p><strong>å¯ç›‘å¬çš„é”™è¯¯ç±»å‹</strong></p>
<ul>
<li>æ‡’åŠ è½½èµ„æºä¸‹è½½é”™è¯¯</li>
</ul>





























<table><thead><tr><th>ç±»å‹</th><th>è§¦å‘ç¤ºä¾‹</th></tr></thead><tbody><tr><td>JS/CSS chunk 404</td><td>æ‰“åŒ…åçš„æ‡’åŠ è½½ chunk è·¯å¾„é”™è¯¯ã€CDN ç¼“å­˜å¤±æ•ˆã€æ–‡ä»¶åå“ˆå¸Œå˜æ›´</td></tr><tr><td>ç½‘ç»œå±‚é”™è¯¯</td><td>ä¸‹è½½ chunk æ—¶æ–­ç½‘ã€ç½‘ç»œè¶…æ—¶ã€DNS è§£æå¤±è´¥</td></tr><tr><td>è·¨åŸŸ / å®‰å…¨é™åˆ¶</td><td>chunk èµ„æºè¿å CORS/CSP ç­–ç•¥ï¼Œæµè§ˆå™¨æ‹¦æˆªä¸‹è½½</td></tr><tr><td>æ··åˆå†…å®¹é”™è¯¯</td><td>HTTPS é¡µé¢åŠ è½½ HTTP åè®®çš„æ‡’åŠ è½½ JS chunkï¼ˆæµè§ˆå™¨é˜»æ­¢ï¼‰</td></tr><tr><td>èµ„æºå¤§å°è¶…é™</td><td>chunk ä½“ç§¯è¶…è¿‡æœåŠ¡å™¨ / æµè§ˆå™¨é™åˆ¶ï¼ˆå¦‚ nginx <code>client_max_body_size</code> é™åˆ¶ï¼‰</td></tr></tbody></table>
<ul>
<li>æ‡’åŠ è½½ç»„ä»¶ç¼–è¯‘ / è§£æé”™è¯¯</li>
</ul>

























<table><thead><tr><th>ç±»å‹</th><th>è§¦å‘ç¤ºä¾‹</th></tr></thead><tbody><tr><td>ç»„ä»¶ä»£ç è¯­æ³•é”™è¯¯</td><td>æ‡’åŠ è½½ç»„ä»¶çš„ TS ä»£ç æœ‰è¯­æ³•é”™è¯¯ï¼ˆå¦‚å°‘åˆ†å·ã€å˜é‡æœªå®šä¹‰ï¼‰</td></tr><tr><td>æ¨¡æ¿è¯­æ³•é”™è¯¯</td><td>æ‡’åŠ è½½ç»„ä»¶çš„æ¨¡æ¿æœ‰è¯­æ³•é”™è¯¯ï¼ˆå¦‚ <code>{{ data..name }}</code> åŒç‚¹ã€æŒ‡ä»¤æ‹¼å†™é”™è¯¯ï¼‰</td></tr><tr><td>ç»„ä»¶å…ƒæ•°æ®é”™è¯¯</td><td>æ‡’åŠ è½½ç»„ä»¶çš„ <code>@Component</code> å…ƒæ•°æ®é”™è¯¯ï¼ˆå¦‚ <code>selector</code> é‡å¤ã€<code>imports</code> æ¼å†™ï¼‰</td></tr><tr><td>äºŒè¿›åˆ¶ chunk æŸå</td><td>ä¸‹è½½çš„ JS chunk äºŒè¿›åˆ¶æ•°æ®ä¸å®Œæ•´ï¼ˆå¦‚ç½‘ç»œä¸­æ–­å¯¼è‡´ä¸‹è½½ä¸€åŠï¼‰</td></tr></tbody></table>
<ul>
<li>æ‡’åŠ è½½ç»„ä»¶åˆå§‹åŒ–é”™è¯¯</li>
</ul>





















<table><thead><tr><th>ç±»å‹</th><th>è§¦å‘ç¤ºä¾‹</th></tr></thead><tbody><tr><td>ç”Ÿå‘½å‘¨æœŸæŠ›é”™</td><td>æ‡’åŠ è½½ç»„ä»¶ <code>ngOnInit</code> ä¸­è°ƒç”¨æ¥å£æŠ›é”™ã€<code>ngAfterViewInit</code> æ“ä½œ DOM æŠ›é”™</td></tr><tr><td>ç»„ä»¶çŠ¶æ€åˆå§‹åŒ–é”™è¯¯</td><td>æ‡’åŠ è½½ç»„ä»¶çš„ Signal / å˜é‡åˆå§‹åŒ–æŠ›é”™ï¼ˆå¦‚ <code>count = signal(1/0)</code>ï¼‰</td></tr><tr><td>æ¨¡æ¿æ¸²æŸ“åˆå§‹åŒ–é”™è¯¯</td><td>ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶ï¼ŒåŒæ­¥æ¨¡æ¿è¡¨è¾¾å¼é”™è¯¯ï¼ˆå¦‚ <code>{{ undefined.name }}</code>ï¼‰</td></tr></tbody></table>
<ul>
<li>æ‡’åŠ è½½ç»„ä»¶ä¾èµ–æ³¨å…¥é”™è¯¯</li>
</ul>





















<table><thead><tr><th>ç±»å‹</th><th>è§¦å‘ç¤ºä¾‹</th></tr></thead><tbody><tr><td>æœåŠ¡æœªæä¾›</td><td>æ‡’åŠ è½½ç»„ä»¶ä¾èµ– <code>UserService</code>ï¼Œä½†æœªåœ¨ <code>providers</code>/ æ ¹æ³¨å…¥å™¨ä¸­é…ç½®</td></tr><tr><td>ä¾èµ–å¾ªç¯å¼•ç”¨</td><td>æ‡’åŠ è½½ç»„ä»¶ä¾èµ–çš„æœåŠ¡ä¸å…¶ä»–æœåŠ¡å½¢æˆå¾ªç¯å¼•ç”¨ï¼Œå¯¼è‡´æ³¨å…¥å¤±è´¥</td></tr><tr><td>ç®¡é“ / æŒ‡ä»¤æœªå¯¼å…¥</td><td>æ‡’åŠ è½½ç»„ä»¶æ¨¡æ¿ä½¿ç”¨ <code>myPipe</code>ï¼Œä½†ç»„ä»¶ <code>imports</code> æœªå¯¼å…¥è¯¥ç®¡é“</td></tr></tbody></table>
<h4 data-id="heading-29">2.4.7 ä¼˜ç¼ºç‚¹åˆ†æ</h4>

























<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>1. é¦–å±åŠ è½½æé€Ÿï¼šå‡å°‘é¦–å± JS/CSS ä½“ç§¯ï¼ˆéå…³é”®ç»„ä»¶å»¶è¿ŸåŠ è½½ï¼‰</td><td>1. è§¦å‘æ—¶æœºéœ€è°¨æ…ï¼šæ»¥ç”¨å¯èƒ½å¯¼è‡´ç”¨æˆ·äº¤äº’æ—¶å¡é¡¿ï¼ˆå¦‚ç‚¹å‡»åæ‰åŠ è½½å¤§ç»„ä»¶ï¼‰</td></tr><tr><td>2. ç®€åŒ–çŠ¶æ€ç®¡ç†ï¼šå†…ç½® <code>@loading/@error</code>ï¼Œæ— éœ€æ‰‹åŠ¨ç»´æŠ¤ loading/error å˜é‡</td><td>2. è°ƒè¯•æˆæœ¬ï¼šéœ€é€šè¿‡ Angular DevTools æŸ¥çœ‹å»¶è¿ŸåŠ è½½çŠ¶æ€ï¼Œæ— æ³•ç›´æ¥æ–­ç‚¹è°ƒè¯•</td></tr><tr><td>3. é¢„åŠ è½½ä¼˜åŒ–ï¼šprefetch å¯å¹³è¡¡åŠ è½½æ—¶æœºä¸ç”¨æˆ·ä½“éªŒï¼Œå‡å°‘ç­‰å¾…æ—¶é—´</td><td>3. å…¼å®¹æ€§é™åˆ¶ï¼šä»… Angular17+ æ”¯æŒï¼Œæ— æ³•é™çº§åˆ°æ—§ç‰ˆæœ¬</td></tr><tr><td>4. è¯­æ³•ç›´è§‚ï¼šæ— éœ€æ‰‹åŠ¨å†™ ngIf æ§åˆ¶æ˜¾éšï¼Œæ¨¡æ¿é€»è¾‘æ›´ç®€æ´</td><td>4. å¤æ‚åœºæ™¯é€‚é…éš¾ï¼šåŠ¨æ€ç»„ä»¶åŠ è½½ï¼ˆå¦‚ ComponentFactoryResolverï¼‰éœ€é¢å¤–å¤„ç†</td></tr></tbody></table>
<h3 data-id="heading-30">2.5 æŒ‡ä»¤ç»„åˆ API</h3>
<h4 data-id="heading-31">2.5.1 æ ¸å¿ƒå®šä¹‰</h4>
<p>ç»„ä»¶é€šè¿‡<code>hostDirectives</code>é…ç½®ï¼Œç›´æ¥ â€œç»§æ‰¿â€ å…¶ä»–æŒ‡ä»¤çš„é€»è¾‘ï¼ˆå±æ€§ã€æ–¹æ³•ã€ç”Ÿå‘½å‘¨æœŸï¼‰</p>
<h4 data-id="heading-32">2.5.2 è§£å†³ç—›ç‚¹</h4>
<p>æ—§ç‰ˆç”¨ mixinï¼ˆæ··å…¥ï¼‰å¤ç”¨é€»è¾‘ï¼Œä»£ç å†—ä½™ä¸”ç±»å‹ä¸å®‰å…¨ï¼›æ¨¡æ¿ä¸­é‡å¤ç»‘å®šæŒ‡ä»¤</p>
<h4 data-id="heading-33">2.5.3 å®æˆ˜ä»£ç </h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// 1. å®šä¹‰ç‹¬ç«‹æŒ‡ä»¤ï¼ˆå°è£…é€šç”¨é€»è¾‘ï¼‰</span>
<span class="hljs-meta">@Directive</span>({ <span class="hljs-attr">selector</span>: <span class="hljs-string">'[appAuth]'</span>, <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span> })
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AuthDirective</span> {
  <span class="hljs-meta">@Input</span>() appAuth!: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// æ¥æ”¶æƒé™æ ‡è¯†</span>
  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ ¡éªŒæƒé™ï¼š'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">appAuth</span>); <span class="hljs-comment">// é€šç”¨æƒé™æ ¡éªŒé€»è¾‘</span>
  }
}

<span class="hljs-comment">// 2. ç»„ä»¶é›†æˆæŒ‡ä»¤ï¼ˆæ— éœ€æ¨¡æ¿ç»‘å®šï¼‰</span>
<span class="hljs-meta">@Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-admin-panel'</span>,
  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">hostDirectives</span>: [
    { <span class="hljs-attr">directive</span>: <span class="hljs-title class_">AuthDirective</span>, <span class="hljs-attr">inputs</span>: [<span class="hljs-string">'appAuth'</span>] } <span class="hljs-comment">// é›†æˆæŒ‡ä»¤ï¼Œæ˜ å°„è¾“å…¥</span>
  ],
  <span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;div&gt;ç®¡ç†å‘˜é¢æ¿&lt;/div&gt;`</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AdminPanelComponent</span> { }

<span class="hljs-comment">// 3. ä½¿ç”¨ç»„ä»¶ï¼ˆç›´æ¥ä¼ é€’æŒ‡ä»¤è¾“å…¥ï¼‰</span>
&lt;app-admin-panel appAuth=<span class="hljs-string">"admin"</span>&gt;&lt;/app-admin-panel&gt;
</code></pre>
<h3 data-id="heading-34">2.6 NgOptimizedImage</h3>
<h4 data-id="heading-35">2.6.1 æ ¸å¿ƒå®šä¹‰</h4>
<p>Angular 15 + ç¨³å®šçš„å›¾ç‰‡ä¼˜åŒ–æŒ‡ä»¤ï¼Œæ›¿ä»£åŸç”Ÿ<code>img</code>ï¼Œä¸€ç«™å¼è§£å†³å›¾ç‰‡åŠ è½½æ€§èƒ½é—®é¢˜</p>
<h4 data-id="heading-36">2.6.2 è§£å†³ç—›ç‚¹</h4>
<p>åŸç”Ÿå›¾ç‰‡æ˜“å¯¼è‡´å¸ƒå±€åç§»ï¼ˆCLSï¼‰ã€åŠ è½½æ…¢ã€æ ¼å¼ä¸ä¼˜åŒ–ã€ç¼ºä¹ä¼˜å…ˆçº§æ§åˆ¶</p>
<h4 data-id="heading-37">2.6.3 æ ¸å¿ƒèƒ½åŠ›</h4>
<p>å¼ºåˆ¶å®½é«˜æ¯”ï¼ˆé˜² CLSï¼‰ã€è‡ªåŠ¨æ‡’åŠ è½½ã€è‡ªåŠ¨æ ¼å¼è½¬æ¢ï¼ˆWebP/AVIFï¼‰ã€ä¼˜å…ˆçº§æ§åˆ¶</p>
<h4 data-id="heading-38">2.6.4 å®æˆ˜ä»£ç </h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- 1. é¦–å±æ ¸å¿ƒå›¾ç‰‡ï¼ˆä¼˜å…ˆåŠ è½½ï¼Œç¦ç”¨æ‡’åŠ è½½ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
  <span class="hljs-attr">ngSrc</span>=<span class="hljs-string">"home-banner.jpg"</span> 
  <span class="hljs-attr">width</span>=<span class="hljs-string">"1200"</span> 
  <span class="hljs-attr">height</span>=<span class="hljs-string">"400"</span> 
  <span class="hljs-attr">priority</span> &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">æ ¸å¿ƒ</span>ï¼š<span class="hljs-attr">é¦–å±ä¼˜å…ˆåŠ è½½</span> <span class="hljs-attr">--</span>&gt;</span>
  alt="é¦–é¡µBanner"
&gt;

<span class="hljs-comment">&lt;!-- 2. éé¦–å±å›¾ç‰‡ï¼ˆè‡ªåŠ¨æ‡’åŠ è½½ï¼Œä¼˜åŒ–æ ¼å¼ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
  <span class="hljs-attr">ngSrc</span>=<span class="hljs-string">"user-avatar.jpg"</span> 
  <span class="hljs-attr">width</span>=<span class="hljs-string">"80"</span> 
  <span class="hljs-attr">height</span>=<span class="hljs-string">"80"</span> 
  <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span> &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">é»˜è®¤æ‡’åŠ è½½</span>ï¼Œ<span class="hljs-attr">å¯çœç•¥</span> <span class="hljs-attr">--</span>&gt;</span>
  alt="ç”¨æˆ·å¤´åƒ"
&gt;

<span class="hljs-comment">&lt;!-- 3. å“åº”å¼å›¾ç‰‡ï¼ˆé€‚é…ä¸åŒè®¾å¤‡ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
  <span class="hljs-attr">ngSrc</span>=<span class="hljs-string">"product-{{size}}.jpg"</span> 
  [<span class="hljs-attr">width</span>]=<span class="hljs-string">"size === 'sm' ? 300 : 600"</span>
  [<span class="hljs-attr">height</span>]=<span class="hljs-string">"size === 'sm' ? 200 : 400"</span>
  [<span class="hljs-attr">size</span>]=<span class="hljs-string">"'(max-width: 640px) 300px, 600px'"</span>
  <span class="hljs-attr">alt</span>=<span class="hljs-string">"å•†å“å›¾ç‰‡"</span>
&gt;</span>
</code></pre>
<h3 data-id="heading-39">2.7 canMatch è·¯ç”±å®ˆå«</h3>
<h4 data-id="heading-40">2.7.1 æ ¸å¿ƒå®šä¹‰</h4>
<p>Angular 15 + ç¨³å®šçš„è·¯ç”±å®ˆå«ï¼Œåœ¨ â€œè·¯ç”±åŒ¹é…é˜¶æ®µâ€ ç­›é€‰è·¯ç”±ï¼Œå†³å®šæ˜¯å¦å°†è·¯ç”±çº³å…¥å€™é€‰</p>
<h4 data-id="heading-41">2.7.2 è§£å†³ç—›ç‚¹</h4>
<p>æ—§ç‰ˆ<code>canActivate</code>åœ¨è·¯ç”±åŒ¹é…åæ‰§è¡Œï¼Œå¤±è´¥åˆ™æ‹’ç»è®¿é—®ï¼Œæ— æ³•å®ç° â€œåŒè·¯å¾„å¤šç»„ä»¶â€ åŠ¨æ€åŒ¹é…ï¼ˆå¦‚å¤šç§Ÿæˆ·ï¼‰</p>
<h4 data-id="heading-42">2.7.3 æ ¸å¿ƒå·®å¼‚ï¼ˆvs canActivateï¼‰</h4>
<ul>
<li>canActivateï¼šåŒ¹é…åå‡†å…¥æ§åˆ¶ â†’ å¤±è´¥ = æ‹’ç»è®¿é—®</li>
<li>canMatchï¼šåŒ¹é…ä¸­ç­›é€‰ â†’ å¤±è´¥ = è·³è¿‡å½“å‰è·¯ç”±ï¼Œç»§ç»­åŒ¹é…ä¸‹ä¸€ä¸ª</li>
</ul>
<h4 data-id="heading-43">2.7.4 æ‰§è¡Œé¡ºåº</h4>
<ol>
<li>â€‹<strong>matcher</strong>â€‹ï¼šåŒ¹é… URL è§„åˆ™ï¼›</li>
<li>â€‹<strong>canMatch</strong>â€‹ï¼šæ ¡éªŒæ˜¯å¦å…è®¸åŒ¹é…è¯¥è·¯ç”±ï¼›</li>
<li>â€‹<strong>canLoad</strong>â€‹ï¼šæ ¡éªŒæ˜¯å¦å…è®¸åŠ è½½æ‡’åŠ è½½æ¨¡å—ï¼›</li>
<li>åŠ è½½æ¨¡å—ï¼ˆè‹¥ canLoad é€šè¿‡ï¼‰ï¼›</li>
<li>â€‹<strong>canActivate</strong>â€‹ï¼šæ ¡éªŒæ˜¯å¦å…è®¸æ¿€æ´»è·¯ç”±ï¼›</li>
<li>æ¿€æ´»è·¯ç”±ï¼Œæ¸²æŸ“ç»„ä»¶ã€‚</li>
</ol>
<h4 data-id="heading-44">2.7.5 å®æˆ˜ä»£ç ï¼ˆå¤šç§Ÿæˆ·åœºæ™¯ï¼‰</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// 1. å®šä¹‰canMatchå®ˆå«</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">tenantMatchGuard</span>: <span class="hljs-title class_">CanMatchFn</span> = <span class="hljs-function">(<span class="hljs-params">route</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> tenantService = <span class="hljs-title function_">inject</span>(<span class="hljs-title class_">TenantService</span>);
  <span class="hljs-keyword">return</span> tenantService.<span class="hljs-title function_">getCurrentTenant</span>() === route.<span class="hljs-property">data</span>.<span class="hljs-property">tenantId</span>;
};

<span class="hljs-comment">// 2. è·¯ç”±é…ç½®ï¼ˆåŒè·¯å¾„åŒ¹é…ä¸åŒç§Ÿæˆ·ç»„ä»¶ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title class_">Routes</span> = [
  { 
    <span class="hljs-attr">path</span>: <span class="hljs-string">'dashboard'</span>, 
    <span class="hljs-attr">canMatch</span>: [tenantMatchGuard], 
    <span class="hljs-attr">data</span>: { <span class="hljs-attr">tenantId</span>: <span class="hljs-string">'tenant1'</span> }, 
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">Tenant1DashboardComponent</span> 
  },
  { 
    <span class="hljs-attr">path</span>: <span class="hljs-string">'dashboard'</span>, 
    <span class="hljs-attr">canMatch</span>: [tenantMatchGuard], 
    <span class="hljs-attr">data</span>: { <span class="hljs-attr">tenantId</span>: <span class="hljs-string">'tenant2'</span> }, 
    <span class="hljs-attr">component</span>: <span class="hljs-title class_">Tenant2DashboardComponent</span> 
  },
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'dashboard'</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">FallbackDashboardComponent</span> } <span class="hljs-comment">// å…œåº•</span>
];
</code></pre>
<h3 data-id="heading-45">2.8 ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰å¢å¼ºï¼šæ›´çµæ´»çš„æ³¨å…¥æ–¹å¼</h3>
<h4 data-id="heading-46">2.8.1 æ ¸å¿ƒå®šä¹‰</h4>
<p>Angular 16 + ä¼˜åŒ–çš„ DI ç³»ç»Ÿï¼Œæ”¯æŒ<code>inject</code>å‡½æ•°åœ¨æ„é€ å‡½æ•°å¤–ä½¿ç”¨ï¼Œå¢å¼ºç¯å¢ƒåŒºåˆ†èƒ½åŠ›</p>
<h4 data-id="heading-47">2.8.2 è§£å†³ç—›ç‚¹</h4>
<p>æ—§ç‰ˆ<code>inject</code>ä»…èƒ½åœ¨æ„é€ å‡½æ•° / å·¥å‚å‡½æ•°ä¸­ä½¿ç”¨ï¼Œé™æ€æ–¹æ³•ã€ç¬¬ä¸‰æ–¹åº“å›è°ƒä¸­æ— æ³•æ³¨å…¥</p>
<h4 data-id="heading-48">2.8.3 å®æˆ˜ä»£ç ï¼ˆå¸¸ç”¨åœºæ™¯ï¼‰</h4>
<h5 data-id="heading-49">åœºæ™¯ 1ï¼šç±»å†…ä»»æ„ä½ç½®æ³¨å…¥</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">@Injectable</span>({ <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span> })
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigService</span> {
  <span class="hljs-keyword">private</span> http = <span class="hljs-title function_">inject</span>(<span class="hljs-title class_">HttpClient</span>); <span class="hljs-comment">// ç±»å†…ç›´æ¥æ³¨å…¥ï¼Œæ— éœ€æ„é€ å‡½æ•°</span>

  <span class="hljs-title function_">loadConfig</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">http</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/config'</span>);
  }
}
</code></pre>
<h5 data-id="heading-50">åœºæ™¯ 2ï¼šé™æ€æ–¹æ³•ä¸­æ³¨å…¥</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">@Injectable</span>({ <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span> })
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TenantService</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">getCurrentTenant</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> configService = <span class="hljs-title function_">inject</span>(<span class="hljs-title class_">ConfigService</span>); <span class="hljs-comment">// é™æ€æ–¹æ³•æ³¨å…¥</span>
    <span class="hljs-keyword">return</span> configService.<span class="hljs-title function_">loadConfig</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-property">tenantId</span>);
  }
}
</code></pre>
<h3 data-id="heading-51">2.9 Required Inputsï¼šç¼–è¯‘æ—¶æ ¡éªŒçš„å¿…å¡«è¾“å…¥</h3>
<h4 data-id="heading-52">2.9.1 æ ¸å¿ƒå®šä¹‰</h4>
<p>Angular 16 + ç¨³å®šçš„è¾“å…¥å±æ€§æ ¡éªŒç‰¹æ€§ï¼Œé€šè¿‡<code>@Input({ required: true })</code>æ ‡è®°å¿…å¡«ï¼Œç¼–è¯‘æ—¶ + è¿è¡Œæ—¶åŒæ ¡éªŒ</p>
<h4 data-id="heading-53">2.9.2 è§£å†³ç—›ç‚¹</h4>
<p>æ—§ç‰ˆéœ€æ‰‹åŠ¨åœ¨<code>ngOnInit</code>ä¸­åˆ¤ç©ºï¼Œæ˜“é—æ¼å¯¼è‡´ç©ºå€¼ Bugï¼›é”™è¯¯åé¦ˆæ»åï¼ˆè¿è¡Œæ—¶æ‰æŠ¥é”™ï¼‰</p>
<h4 data-id="heading-54">2.9.3 å®æˆ˜ä»£ç </h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// 1. æ ‡è®°å¿…å¡«è¾“å…¥</span>
<span class="hljs-meta">@Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-user-card'</span>,
  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;div&gt;{{user.name}}&lt;/div&gt;`</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserCardComponent</span> {
  <span class="hljs-meta">@Input</span>({ <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> }) user!: { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span> }; <span class="hljs-comment">// æ ¸å¿ƒï¼šrequired: true</span>
}

<span class="hljs-comment">// 2. ä½¿ç”¨ç»„ä»¶ï¼ˆæœªä¼ useræ—¶ç¼–è¯‘æŠ¥é”™ï¼‰</span>
&lt;app-user-card [user]=<span class="hljs-string">"userData"</span>&gt;&lt;/app-user-card&gt; &lt;!-- æ­£ç¡® --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">app-user-card</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-user-card</span>&gt;</span></span> &lt;!-- é”™è¯¯ï¼šç¼–è¯‘æ—¶æŠ¥é”™ <span class="hljs-title class_">NG8007</span> --&gt;
</code></pre>
<h2 data-id="heading-55">ä¸‰ã€ä¼˜ç§€å®è·µâ€”â€”æ‡’åŠ è½½</h2>
<p>å­¦å®Œä¸Šè¿° 9 ä¸ªå®ç”¨ç‰¹æ€§ï¼Œæˆ‘ä»¬ä¸å¦¨æŠŠå®ƒä»¬ä¸²è”èµ·æ¥è½åœ°å®è·µã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬èšç„¦æ€§èƒ½ä¼˜åŒ–çš„é«˜é¢‘éœ€æ±‚ â€”â€” æ‡’åŠ è½½ï¼Œè¯¦ç»†è®²è®²å¦‚ä½•é€šè¿‡ â€‹<strong>ç‹¬ç«‹ç»„ä»¶ä¸ defer å»¶è¿ŸåŠ è½½è¯­æ³•çš„ç»“åˆ</strong>â€‹ï¼Œå®ç°é«˜æ•ˆçš„æŒ‰éœ€åŠ è½½æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-56">3.1 å¿…è¦æ¡ä»¶</h3>
<p>ç›¸ä¿¡ä¸å°‘å¼€å‘è€…åˆšæ¥è§¦ <code>@defer</code> å»¶è¿ŸåŠ è½½è¯­æ³•æ—¶ï¼Œéƒ½ä¼šé‡åˆ°ä¸€ä¸ªå…±æ€§é—®é¢˜ â€”â€” æ˜æ˜å†™äº†è¯­æ³•ï¼Œæ‡’åŠ è½½å´å§‹ç»ˆä¸ç”Ÿæ•ˆã€‚å…¶å®è¿™èƒŒåï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å¿½ç•¥äº†å‡ ä¸ªå…³é”®çš„å¿…è¦æ¡ä»¶ã€‚</p>
<p>å‡è®¾ç»„ä»¶ A æ˜¯ä¸ <code>@defer</code> æŒ‡ä»¤å¤„äº<strong>åŒä¸€å±‚çº§</strong>çš„ç»„ä»¶ï¼Œè€Œç»„ä»¶ B æ˜¯è¢« <code>@defer</code> æŒ‡ä»¤åŒ…è£¹ã€éœ€è¦å®ç°æ‡’åŠ è½½çš„ç›®æ ‡ç»„ä»¶ã€‚</p>
<p><strong>å¿…è¦æ¡ä»¶ï¼š</strong></p>
<ul>
<li>ç»„ä»¶Aå¿…é¡»æ˜¯ç‹¬ç«‹ç»„ä»¶ï¼š<code>standalone: true</code>;</li>
<li>ç»„ä»¶Bå¿…é¡»æ˜¯ç‹¬ç«‹ç»„ä»¶ï¼š<code>standalone: true</code>;</li>
<li>ç»„ä»¶Aéœ€æ˜¾å¼å¯¼å…¥ç»„ä»¶B: <code>imports:[RepoEchartComponent]</code>;</li>
</ul>
<h3 data-id="heading-57">3.2 å®æˆ˜ä»£ç </h3>
<h4 data-id="heading-58">3.2.1 åœºæ™¯ä¸€ï¼šè¯„è®ºåŒºæ‡’åŠ è½½ï¼ˆç”¨æˆ·æ»šåŠ¨åˆ°åŒºåŸŸæ‰åŠ è½½ï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å•†å“è¯¦æƒ…<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- å…¶ä»–å†…å®¹ --&gt;</span>

  @defer (on viewport; prefetch on idle) {
    <span class="hljs-tag">&lt;<span class="hljs-name">app-comments</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-comments</span>&gt;</span>
  } @loading {
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è¯„è®ºåŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  }
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>

</code></pre>
<h4 data-id="heading-59">3.2.1 åœºæ™¯äºŒï¼šç»“åˆ <code>@switch</code> å®ç° Tab æ‡’åŠ è½½</h4>
<pre><code class="hljs language-html" lang="html">@switch (activeTab) {
  @case ('profile') {
    @defer (on viewport) {
      <span class="hljs-tag">&lt;<span class="hljs-name">app-profile</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-profile</span>&gt;</span>
    }
  }
  @case ('settings') {
    @defer (on interaction) {
      <span class="hljs-tag">&lt;<span class="hljs-name">app-settings</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-settings</span>&gt;</span>
    }
  }
}
</code></pre>
<h3 data-id="heading-60">3.3 æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>
<p><code>@defer</code>â€‹<strong>ä¸èƒ½åµŒå¥—</strong>â€‹ï¼ˆæˆªè‡³ Angular 18ï¼‰</p>
</li>
<li>
<p>ä¸è¦è¿‡åº¦ä½¿ç”¨ï¼šæ¯ä¸ª defer å—ä¼šç”Ÿæˆç‹¬ç«‹ chunkï¼Œè¿‡å¤šå¯èƒ½å¯¼è‡´ HTTP è¯·æ±‚çˆ†ç‚¸</p>
</li>
<li>
<p><code>prefetch</code> ä¸ºå®éªŒæ€§åŠŸèƒ½ï¼Œéœ€å¯ç”¨ <code>deferBlockPrefetching</code></p>
</li>
<li>
<p>å·²åœ¨å…¶ä»–åœºæ™¯å¼•ç”¨æˆ–æ³¨å†Œçš„ç»„ä»¶æ— æ³•è¢«æ‡’åŠ è½½</p>
</li>
<li>
<p>ç»§æ‰¿çš„çˆ¶ç»„ä»¶ç±»æ— æ³•è¢«æ‡’åŠ è½½ï¼Œéœ€æ”¹é€ æˆéç»„ä»¶ç±»</p>
<p><strong>é”™è¯¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">@Component</span>({
    <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./basic.component.html'</span>,
    <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./basic.component.scss'</span>],
    <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">imports</span>: <span class="hljs-title class_">BasicModules</span>,
 }ï¼‰
<span class="hljs-comment">//è¿™æ˜¯ä¸€ä¸ªç»„ä»¶åŸºç±»</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BasicComponent</span>{}

<span class="hljs-comment">//è¿™æ˜¯æœŸæœ›æ‡’åŠ è½½çš„ç»„ä»¶Demo</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">BasicComponent</span>{}
</code></pre>
<p><strong>ä¿®æ”¹æ–¹æ¡ˆ</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">//å°†ç»„ä»¶åŸºç±»æ”¹é€ ä¸ºéç»„ä»¶ç±»</span>
<span class="hljs-meta">@Injectable</span>({ <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'any'</span> })
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BasicComponent</span>{}
</code></pre>
</li>
</ul>
<p>ä»¥ä¸Šå°±æ˜¯æ‡’åŠ è½½çš„å®ç°æ–¹æ¡ˆå’Œè¸©å‘ç»éªŒå•¦ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æ­£åœ¨æŠ˜è…¾ <code>@defer</code> çš„å°ä¼™ä¼´ï½</p>
<h2 data-id="heading-61">å››ã€æ€»ç»“</h2>
<p>Angularçš„æ–°ç‰¹æ€§å›´ç»• â€œâ€‹<strong>æ€§èƒ½ä¼˜åŒ–</strong>â€‹â€â€œâ€‹<strong>å¼€å‘æ•ˆç‡</strong>â€‹â€â€œâ€‹<strong>åœºæ™¯é€‚é…</strong>â€‹â€ ä¸‰å¤§æ ¸å¿ƒï¼šå»¶è¿ŸåŠ è½½æ¨¡ç‰ˆï¼ˆ@deferï¼‰ é™ä½é¦–å±åŠ è½½æˆæœ¬ï¼Œç‹¬ç«‹ç»„ä»¶ä¸æ–°æ§åˆ¶æµè¯­æ³•ç®€åŒ–ä»£ç ç»“æ„ï¼Œä¿¡å·ï¼ˆSignalsï¼‰å®Œå–„å“åº”å¼èƒ½åŠ›ã€‚é€šè¿‡ç†Ÿç»ƒæŒæ¡è¿™äº›æ–°è¯­æ³•ï¼Œå¯æ˜¾è‘—æå‡é¡¹ç›®æ€§èƒ½ä¸å¯ç»´æŠ¤æ€§ã€‚</p>
<p>è‹¥æƒ³äº†è§£Angularæ–°ç‰¹æ€§åº•å±‚åŸç†ï¼Œè¯·å‚è€ƒæ˜é‡‘æ–‡ç«  <a href="https://juejin.cn/post/7339686366311792676?searchId=202512182210541AE2D44ED7587BA97846" target="_blank" title="https://juejin.cn/post/7339686366311792676?searchId=202512182210541AE2D44ED7587BA97846">juejin.cn/post/733968â€¦</a></p>
<h2 data-id="heading-62">äº”ã€ åŠ å…¥æˆ‘ä»¬</h2>
<p>MateChat æ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œæˆ‘ä»¬æ¬¢è¿æ›´å¤šå¼€å‘è€…åŠ å…¥ï¼š</p>
<ul>
<li>ğŸ’¬ DevUIå¾®ä¿¡å°åŠ©æ‰‹ï¼šdevui-officialï¼ˆæ·»åŠ æ—¶è¯·å¤‡æ³¨MateChatï¼‰</li>
<li>ğŸŒŸ ä»£ç ä»“åº“åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FDevCloudFE%2FMateChat%2Freleases%3FpresetConfig%3D%257B%2522tags%2522%3A12%2C%2522release%2522%3A11%257D" target="_blank" title="https://gitcode.com/DevCloudFE/MateChat/releases?presetConfig=%7B%22tags%22:12,%22release%22:11%7D" ref="nofollow noopener noreferrer">gitcode.com/DevCloudFE/â€¦</a></li>
</ul>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21f25f459a984f3f864807f5ced93d6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2VUnlm6LpmJ8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768361394&amp;x-signature=aT1%2BDnE16Qu6ls5YBQcHVkx%2FdRc%3D" height="150px" loading="lazy"/> 
<blockquote>
<p>å¹¿çº³è´¤å£«ï¼šAIèµ‹èƒ½å„è¡Œå„ä¸šï¼ŒMateChatæœŸå¾…æ›´å¤šæ„Ÿå…´è¶£çš„å°ä¼™ä¼´åŠ å…¥æˆ‘ä»¬~</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FDevCloudFE%2FMateChat%2Fissues" target="_blank" title="https://gitcode.com/DevCloudFE/MateChat/issues" ref="nofollow noopener noreferrer">æ¬¢è¿å¤§å®¶å‰æ¥æäº¤Issueï¼Œè®¤é¢†Issueï¼›</a></li>
</ul>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ†å¸ƒå¼è¾¹ç¼˜æ¨ç†æ­£åœ¨æ”¹å˜ä¸€åˆ‡]]></title>    <link>https://juejin.cn/post/7592432859862794274</link>    <guid>https://juejin.cn/post/7592432859862794274</guid>    <pubDate>2026-01-07T12:50:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859862794274" data-draft-id="7592432859862777890" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ†å¸ƒå¼è¾¹ç¼˜æ¨ç†æ­£åœ¨æ”¹å˜ä¸€åˆ‡"/> <meta itemprop="keywords" content="åˆ†å¸ƒå¼,äººå·¥æ™ºèƒ½,äº‘è®¡ç®—"/> <meta itemprop="datePublished" content="2026-01-07T12:50:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AKAMAI"/> <meta itemprop="url" content="https://juejin.cn/user/829502942352628"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ†å¸ƒå¼è¾¹ç¼˜æ¨ç†æ­£åœ¨æ”¹å˜ä¸€åˆ‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/829502942352628/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AKAMAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T12:50:41.000Z" title="Wed Jan 07 2026 12:50:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘ä»¬æ­£è§è¯ç€AIçš„ç¬¬ä¸‰æ¬¡å·¨å¤§è§„æ¨¡åŒ–æµªæ½®ï¼Œè¿™è¦æ±‚æˆ‘ä»¬å¯¹å…³é”®åŸºç¡€è®¾æ–½è¿›è¡Œæ ¹æœ¬æ€§çš„é‡æ–°æ€è€ƒã€‚å½“ä¸šç•Œä»ç—´è¿·äºæ„å»ºè¶Šæ¥è¶Šå¤§çš„å‰æ²¿æ¨¡å‹çš„ç«èµ›ï¼Œä¼ä¸šåˆæ­¥åŠªåŠ›å¯»æ‰¾æ€æ‰‹çº§åº”ç”¨å’ŒæŠ•èµ„å›æŠ¥æ—¶ï¼Œä¼ä¸šAIä»·å€¼åˆ›é€ çš„çœŸå®æˆ˜åœºå·²ç»è½¬å‘äº†è¾¹ç¼˜ã€‚</p>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_260107_blogarticles240" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_260107_blogarticles240" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p>
<hr/>
<h4 data-id="heading-0"><strong><strong>AIè§„æ¨¡åŒ–æµªæ½®çš„æ¼”è¿›</strong></strong></h4>
<p>ä¸ºä½•ç§°ä¹‹ä¸ºâ€œæµªæ½®â€ï¼Ÿå› ä¸ºæµªæ½®æ˜¯ä¸€ç§ç§¯èšåŠ›é‡ã€è¾¾åˆ°é¡¶å³°å¹¶é‡å¡‘åœ°è²Œçš„åŠ›é‡â€”â€”å…¶åŠ¿å¤´ã€å¿…ç„¶æ€§å’Œè¿é”æ•ˆåº”å°†è§¦å‘ä¸‹ä¸€æ³¢æµªæ½®ã€‚è¿™ä¸‰è‚¡æµªæ½®æ˜¯ä¸å¯é˜»æŒ¡çš„åŠ›é‡ï¼Œæ­£åœ¨é‡å¡‘æ•´ä¸ªè¡Œä¸šï¼Œå®ƒä»¬åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ³¢æµªæ½®ï¼šå¤§è§„æ¨¡é¢„è®­ç»ƒ</li>
<li>ç¬¬äºŒæ³¢æµªæ½®ï¼šåè®­ç»ƒä¸ç²¾è°ƒ</li>
<li>ç¬¬ä¸‰æ³¢æµªæ½®ï¼šå¤šæ­¥æ¨ç†ä¸æ€è€ƒ</li>
</ul>
<p>è®©æˆ‘æ¥é˜è¿°ä¸ºä»€ä¹ˆè¿™ä¸€å†³ç­–å¯¹å½“ä¸‹æ¯ä¸€ä½æ­£åœ¨è§„åˆ’AIåŸºç¡€è®¾æ–½çš„ä¼ä¸šé¢†å¯¼è€…éƒ½è‡³å…³é‡è¦ã€‚</p>
<p><strong><strong>ç¬¬ä¸€æ³¢æµªæ½®</strong></strong></p>
<p>ç¬¬ä¸€æ³¢æµªæ½®â€”â€”å¤§è§„æ¨¡é¢„è®­ç»ƒï¼Œä¸ºæˆ‘ä»¬å¸¦æ¥äº†GPT-4ã€Claudeä»¥åŠè®©ä¼ä¸šè®¤è¯†åˆ°AIå˜é©æ½œåŠ›çš„å‰æ²¿æ¨¡å‹ã€‚è¿™äº›æ¨¡å‹æˆä¸ºäº†æˆ‘ä»¬çš„ç”Ÿäº§åŠ›å‰¯é©¾é©¶ã€å¤´è„‘é£æš´ä¼™ä¼´ï¼Œä¹Ÿè®©æˆ‘ä»¬é¦–æ¬¡çª¥è§é€šç”¨äººå·¥æ™ºèƒ½çš„å¯èƒ½æ€§ã€‚</p>
<p>ç„¶è€Œï¼Œå®ƒä»¬ä¹Ÿä¼´éšç€ä¸€äº›é™„å¸¦æ¡ä»¶ï¼šå¤©æ–‡æ•°å­—èˆ¬çš„è®¡ç®—æˆæœ¬ã€å…¨çƒç”¨æˆ·é¢ä¸´çš„é«˜å»¶è¿Ÿï¼Œä»¥åŠé›†ä¸­å¼å¤„ç†çš„å›ºæœ‰å±€é™ã€‚</p>
<p>ä½œä¸ºè¡Œä¸šä¸€å‘˜ï¼Œæˆ‘ä»¬è¿‡å»ä¸€ç›´å¿½ç•¥è¿™ç§å»¶è¿Ÿï¼Œå› ä¸ºæµå¼ç”Ÿæˆä»¤ç‰Œæ˜¯ä¸€ç§æ–°é²œçš„äº¤äº’æ–¹å¼â€”â€”çœ‹å•Šï¼ŒAIæ­£åœ¨æ€è€ƒå‘¢ã€‚</p>
<p><strong><strong>ç¬¬äºŒæ³¢æµªæ½®</strong></strong></p>
<p>ç¬¬äºŒæ³¢æµªæ½®â€”â€”åè®­ç»ƒä¸ç²¾è°ƒï¼Œè®©AIæ›´è´´è¿‘å•†ä¸šç°å®ã€‚ä¼ä¸šå­¦ä¼šäº†ä½¿ç”¨ä¸“æœ‰æ•°æ®å’Œæœºæ„çŸ¥è¯†ï¼Œå°†åŸºç¡€æ¨¡å‹é€‚é…åˆ°å…¶ç‰¹å®šé¢†åŸŸã€‚</p>
<p>è¿™æ³¢æµªæ½®å¸¦æ¥äº†é¦–æ‰¹çœŸæ­£çš„æŠ•èµ„å›æŠ¥æ•…äº‹ï¼šçœŸæ­£ç†è§£ä¸Šä¸‹æ–‡çš„å®¢æˆ·æœåŠ¡è‡ªåŠ¨åŒ–ã€éµå¾ªå…¬å¸è§„èŒƒçš„ä»£ç ç”Ÿæˆï¼Œä»¥åŠä¸ç°æœ‰åº”ç”¨æµ‘ç„¶ä¸€ä½“çš„å¯¹è¯å¼ç•Œé¢ã€‚</p>
<p>ç„¶è€Œï¼Œå³ä¾¿æ˜¯è¿™äº›ä¸“ç”¨æ¨¡å‹ï¼Œä»ç„¶ä¸é›†ä¸­å¼äº‘æœåŠ¡ç»‘å®šåœ¨ä¸€èµ·ã€‚éšç€ä½¿ç”¨åœºæ™¯çš„å‘å±•ï¼Œè¿™ç§é›†ä¸­å¼å°†ä¸ºå®æ—¶ã€å¯¹å»¶è¿Ÿæ•æ„Ÿçš„åœºæ™¯ï¼ˆä¾‹å¦‚éœ€è¦æ¯«ç§’çº§è€Œéç§’çº§æˆ–åˆ†é’Ÿçº§å“åº”çš„ä¸ªæ€§åŒ–æ¨èã€è‡ªåŠ¨é©¾é©¶æ±½è½¦ä¸åˆ¶é€ ã€ç‰©ç†AIä¸æœºå™¨äººæŠ€æœ¯ï¼‰é€ æˆç“¶é¢ˆã€‚</p>
<p><strong><strong>åˆ†å¸ƒå¼èƒ½åŠ›çš„ç¼ºå¤±å°šæœªæˆä¸ºç“¶é¢ˆï¼Œåªæ˜¯å› ä¸ºçœŸæ­£éœ€è¦å®ƒçš„åœºæ™¯â€¦â€¦å°šæœªå¤§è§„æ¨¡æ™®åŠã€‚</strong></strong></p>
<p><strong><strong>ç¬¬ä¸‰æ³¢æµªæ½®</strong></strong></p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æ­£åœ¨è¿›å…¥ç¬¬ä¸‰æ³¢æµªæ½®ã€‚è¿™è¦æ±‚æ¨¡å‹èƒ½å¤Ÿå¯¹å¤æ‚å·¥ä½œæµè¿›è¡Œæ¨ç†æ€è€ƒï¼Œåœ¨é•¿æ—¶é—´äº¤äº’ä¸­ä¿æŒä¸Šä¸‹æ–‡è¿è´¯ï¼Œå¹¶åœ¨å…¨çƒèŒƒå›´å†…å®æ—¶äº¤ä»˜å“åº”ã€‚</p>
<p>è¿™ä¸ä»…å…³ä¹è®©æ¨¡å‹å˜å¾—æ›´å¤§â€”â€”æ›´å…³ä¹è®©å®ƒä»¬æ›´åŠªåŠ›åœ°å·¥ä½œã€æ›´é•¿ä¹…åœ°æ€è€ƒï¼Œå¹¶åœ¨ç”¨æˆ·æ‰€åœ¨çš„ä»»ä½•åœ°æ–¹è¿è¡Œã€‚è¦è®©AIåœ¨å¤§è§„æ¨¡åº”ç”¨ä¸­çœŸæ­£æœ‰ç”¨ï¼Œå®ƒå¿…é¡»å¿«é€Ÿã€å®‰å…¨ã€å‡†ç¡®ä¸”å¼•äººå…¥èƒœã€‚</p>
<p><strong><strong>åˆ†å¸ƒå¼æ¨ç†å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨è¾¹ç¼˜æ±‡èšè¿™äº›å…³é”®è¦ç´ ï¼Œå¹¶å°†å½»åº•æ”¹å˜æˆ‘ä»¬å‚ä¸ä¸šåŠ¡ã€å®ç°ç›ˆåˆ©å’Œä¿ƒè¿›å¢é•¿çš„æ–¹å¼ã€‚</strong></strong></p>
<h4 data-id="heading-1"><strong><strong>å°šæ— äººæåŠçš„åŸºç¡€è®¾æ–½æŒ‘æˆ˜</strong></strong></h4>
<p>ä»¥ä¸‹æ˜¯å¤§å¤šæ•°åŸºç¡€è®¾æ–½æä¾›å•†ä¸ä¼šå‘Šè¯‰ä½ çš„ï¼šå¯¹äºå¤§è§„æ¨¡çš„å®æ—¶åœºæ™¯ï¼Œé›†ä¸­å¼AIæ¨ç†çš„ç»æµæ¨¡å‹ä¼šç¾éš¾æ€§åœ°å´©å¡Œã€‚å½“æ¯ä¸€æ¬¡æ¨ç†è¯·æ±‚éƒ½éœ€è¦å¾€è¿”äºé¥è¿œçš„æ•°æ®ä¸­å¿ƒæ—¶ï¼Œä½ é¢ä¸´çš„ä¸ä»…æ˜¯å»¶è¿Ÿï¼Œæ›´æ˜¯ç”±å¸¦å®½ã€æ’é˜Ÿå»¶è¿Ÿå’Œè·ç¦»çš„çº¯ç²¹ç‰©ç†ç‰¹æ€§å¸¦æ¥çš„å åŠ æˆæœ¬ã€‚</p>
<p>è¯•æƒ³ï¼Œå½“ä¸€ä¸ªAIæ™ºèƒ½ä½“æ‰§è¡Œå¤šæ­¥æ¨ç†æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚æ¯ä¸€æ­¥éƒ½å¯èƒ½éœ€è¦å¤šæ¬¡æ¨¡å‹è°ƒç”¨ã€å‘é‡æ•°æ®åº“æŸ¥è¯¢å’ŒAPIé›†æˆã€‚åœ¨é›†ä¸­å¼æ¶æ„ä¸‹ï¼Œæ¯ä¸ªç¯èŠ‚çš„å»¶è¿Ÿå¯èƒ½é«˜è¾¾æ•°ç™¾æ¯«ç§’ï¼Œè¿™äº›ç»†å°çš„æ»ååœ¨å®é™…åº”ç”¨ä¸­å±‚å±‚ç´¯ç§¯ï¼Œæœ€ç»ˆå¯¼è‡´å“åº”æ—¶é—´è¶…å‡ºå¯æ¥å—èŒƒå›´ã€‚</p>
<p>ç°åœ¨ï¼Œæƒ³è±¡ä¸€ä¸‹è¿™æ ·çš„åœºæ™¯ï¼šå°†å…¶ä¹˜ä»¥æˆåƒä¸Šä¸‡éå¸ƒä¸åŒåœ°åŒºçš„å¹¶å‘ç”¨æˆ·â€”â€”ä½ å°±ä¸éš¾ç†è§£ï¼Œä¸ºä»€ä¹ˆä¾èµ–è¶…å¤§è§„æ¨¡äº‘å‚å•†çš„é›†ä¸­å¼æ–¹æ¡ˆä¼šè¡Œä¸é€šäº†ã€‚</p>
<h4 data-id="heading-2"><strong><strong>Akamaiæ¨ç†äº‘ï¼šä¸ºå®æ—¶åˆ†å¸ƒå¼AIè€Œç”Ÿ</strong></strong></h4>
<p>è¿™æ­£æ˜¯æˆ‘ä»¬æ„å»º<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fproducts%2Fakamai-inference-cloud-platform%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_260107_external1_blogarticles240" target="_blank" title="https://www.akamai.com/zh/products/akamai-inference-cloud-platform?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_260107_external1_blogarticles240" ref="nofollow noopener noreferrer">Akamaiæ¨ç†äº‘</a>çš„åŸå› ã€‚æˆ‘ä»¬å¹¶éè¯•å›¾ä¸è¶…å¤§è§„æ¨¡å‚å•†ç«äº‰ï¼Œçœ‹è°èƒ½åœ¨æŸä¸ªå°åŒºåŸŸå»ºé€ æœ€å¤§çš„é›†ç¾¤ã€‚æˆ‘ä»¬æ˜¯åœ¨è§£å†³ä¼ä¸šé¢ä¸´çš„å®é™…é—®é¢˜ï¼šå¦‚ä½•åœ¨è¡Œæ˜Ÿçº§è§„æ¨¡ä¸Šï¼Œäº¤ä»˜å…·å¤‡æœ¬åœ°åŒ–æ€§èƒ½çš„AIæ¨ç†ã€‚</p>
<p>æˆ‘ä»¬çš„æ–¹æ³•åˆ©ç”¨äº†åªæœ‰Akamaiæ‰èƒ½æä¾›çš„ä¸‰å¤§å…³é”®ä¼˜åŠ¿ï¼š</p>
<ol>
<li>è¾¹ç¼˜åŸºç¡€è®¾æ–½</li>
<li>å¹³å°åŸç”Ÿçš„AIè¿ç»´</li>
<li>ç†è§£AIçš„å®‰å…¨ä½“ç³»</li>
</ol>
<p><strong><strong>è¾¹ç¼˜åŸºç¡€è®¾æ–½</strong></strong></p>
<p>æˆ‘ä»¬æ­£åœ¨å°†NVIDIA Blackwell RTX PRO 6000æœåŠ¡å™¨ç‰ˆGPUéƒ¨ç½²åˆ°æˆ‘ä»¬çš„å…¨çƒç½‘ç»œä¸­â€”â€”ä¸æ˜¯é›†ä¸­åœ¨å°‘æ•°å‡ ä¸ªå·¨å‹æ•°æ®ä¸­å¿ƒï¼Œè€Œæ˜¯<strong><strong>åˆ†å¸ƒåœ¨ä½ çš„ç”¨æˆ·å®é™…æ‰€åœ¨çš„ä½ç½®</strong></strong>ã€‚è¿™å¹¶éè¯•éªŒæ€§è´¨ï¼Œè€Œæ˜¯ç”Ÿäº§å°±ç»ªçš„åŸºç¡€è®¾æ–½ï¼Œæ„å»ºåœ¨å·²ç»æ‰¿è½½çº¦30%ç½‘ç»œæµé‡çš„åŒä¸€ç½‘ç»œä¸Šã€‚</p>
<p><strong><strong>å¹³å°åŸç”Ÿçš„AIè¿ç»´</strong></strong></p>
<p>é€šè¿‡åœ¨æˆ‘ä»¬Linode Kubernetes Engine (LKE)ä¸Šè¿è¡Œçš„NVIDIAæ¨ç†å¾®æœåŠ¡ (NIM)ï¼Œæˆ‘ä»¬è®©AIå·¥ä½œè´Ÿè½½çš„éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†å˜å¾—ç®€å•ã€‚ä½ çš„å›¢é˜Ÿå¯ä»¥è·å¾—ç”¨äºå®ç°æ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG) çš„é›†æˆå‘é‡æ•°æ®åº“ã€ç”¨äºå­˜å‚¨æ¨¡å‹åˆ¶å“çš„å¯¹è±¡å­˜å‚¨ï¼Œä»¥åŠèƒ½å¤Ÿè‡ªåŠ¨å°†æ¨ç†è¯·æ±‚è·¯ç”±è‡³æœ€ä½³ä½ç½®çš„å…¨å±€è´Ÿè½½å‡è¡¡ã€‚</p>
<p>è¿™ä¸æ˜¯ç”Ÿç¡¬æ‹¼æ¥çš„AIâ€”â€”è€Œæ˜¯AIåŸç”Ÿçš„å¹³å°è®¾è®¡ã€‚</p>
<p><strong><strong>ç†è§£AIçš„å®‰å…¨ä½“ç³»</strong></strong></p>
<p>è¿™å°¤å…¶æœ‰è¶£çš„åœ°æ–¹ã€‚ä¼ ç»Ÿå®‰å…¨ä½“ç³»å¹¶éä¸ºAIå·¥ä½œè´Ÿè½½è€Œå»ºã€‚æˆ‘ä»¬å¼€å‘äº†æ¨ªè·¨å„å±‚çš„é’ˆå¯¹æ€§ä¿æŠ¤æªæ–½ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong><strong>åº”ç”¨å®‰å…¨</strong></strong>ï¼šä¸»åŠ¨å‘ç°ç»AIå¢å¼ºçš„åº”ç”¨ä¸APIï¼ŒæŒç»­ç›‘æµ‹å…¶å®‰å…¨æ€åŠ¿ï¼Œå¹¶éƒ¨ç½²æ™ºèƒ½é˜²æŠ¤ç­–ç•¥ã€‚</li>
<li><strong><strong>AIé˜²ç«å¢™èƒ½åŠ›</strong></strong>ï¼šä¸“é—¨è®¾è®¡ç”¨äºä¿æŠ¤æç¤ºè¯å…å—æ³¨å…¥æ”»å‡»ï¼Œä¿æŠ¤æ¨¡å‹å…å—æå–å°è¯•ã€‚</li>
<li><strong><strong>å·¥ä½œè´Ÿè½½å®‰å…¨</strong></strong>ï¼šåˆ©ç”¨AIè‡ªèº«åˆ†æä¸œè¥¿å‘æµé‡æ¨¡å¼ï¼Œè‡ªåŠ¨ç”Ÿæˆæœ€ä¼˜åˆ†æ®µç­–ç•¥ï¼Œå¹¶æŒç»­é€‚åº”æ–°å‡ºç°çš„å¨èƒã€‚</li>
<li><strong><strong>è®¿é—®å®‰å…¨</strong></strong>ï¼šé€šè¿‡æˆ‘ä»¬çš„å®‰å…¨ä¼ä¸šæµè§ˆå™¨æ§åˆ¶å‘˜å·¥ä¸LLMç•Œé¢çš„äº¤äº’å¹¶é˜²æ­¢æ•°æ®å¤–æ³„ï¼ŒåŒæ—¶ç»“åˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fglossary%2Fwhat-is-ztna%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_260107_external2_blogarticles240" target="_blank" title="https://www.akamai.com/zh/glossary/what-is-ztna?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_260107_external2_blogarticles240" ref="nofollow noopener noreferrer">é›¶ä¿¡ä»»ç½‘ç»œè®¿é—®</a>å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fglossary%2Fwhat-is-multifactor-authentication%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_260107_external3_blogarticles240" target="_blank" title="https://www.akamai.com/zh/glossary/what-is-multifactor-authentication?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_260107_external3_blogarticles240" ref="nofollow noopener noreferrer">å¤šé‡èº«ä»½éªŒè¯</a>æ¥ä¿æŠ¤åŸºç¡€è®¾æ–½è®¿é—®ã€‚</li>
<li><strong><strong>åŸºç¡€è®¾æ–½å®‰å…¨</strong></strong>ï¼šæä¾›å®æ—¶çš„DNSå’Œç½‘ç»œçŠ¶å†µè¯„ä¼°ï¼Œå¹¶ç»™å‡ºAIé©±åŠ¨çš„ç­–ç•¥å»ºè®®ã€‚</li>
<li><strong><strong>ç”Ÿæˆå¼SIEMç•Œé¢</strong></strong>ï¼šä½¿å®‰å…¨è¿è¥ä¸­å¿ƒå›¢é˜Ÿèƒ½å¤Ÿé€šè¿‡å¯¹è¯æ–¹å¼è®¿é—®æµ·é‡é¥æµ‹æ•°æ®ï¼Œä»è€Œå˜é©å®‰å…¨è¿è¥ã€‚</li>
</ul>
<p>å½“æ¨ç†ä»é›†ä¸­å¼äº‘ç«¯ç§»è‡³è¾¹ç¼˜æ—¶ï¼Œå»¶è¿Ÿæ˜¾è‘—é™ä½ï¼ˆè®©å®æ—¶AIäº¤äº’çœŸæ­£åšåˆ°å³æ—¶å“åº”ï¼‰ï¼Œå¸¦å®½æˆæœ¬å¾—åˆ°èŠ‚çº¦ï¼ˆæ•°æ®å°±åœ°å¤„ç†ï¼Œæ— éœ€é•¿é€”ä¼ è¾“ï¼‰ï¼Œåˆè§„æ€§ä¹Ÿæ›´æ˜“äºæŒæ§ï¼ˆå¯ç¡®ä¿æ•°æ®å¤„ç†ä¸¥æ ¼é™å®šäºæŒ‡å®šåœ°åŸŸï¼‰ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œé€šè¿‡æ„å»ºçœŸæ­£åˆ†å¸ƒå¼çš„å†—ä½™æ¶æ„ï¼Œç³»ç»Ÿå¯é æ€§å¤§å¹…æå‡â€”â€”è¿™ä¸ä»…ä¾èµ–å•ä¸€åŒºåŸŸå†…çš„å¤šå¯ç”¨åŒºéƒ¨ç½²ï¼Œæ›´å¾—ç›Šäºå¹¿æ³›åˆ†å¸ƒçš„å¤„ç†èƒ½åŠ›ã€‚</p>
<p>ä½†çœŸæ­£çš„å˜é©å‘ç”Ÿåœ¨åº”ç”¨å±‚é¢ã€‚ä»¥å¾€éš¾ä»¥å®ç°çš„åœºæ™¯çªç„¶å˜å¾—è§¦æ‰‹å¯åŠï¼Œéœ€è¦å¤æ‚åè°ƒçš„å¤šæ™ºèƒ½ä½“å·¥ä½œæµå¦‚ä»Šå¯ä»¥è½»æ¾éƒ¨ç½²ï¼Œå¤§è§„æ¨¡å®æ—¶ä¸ªæ€§åŒ–æœåŠ¡ä¹Ÿå…·å¤‡äº†ç»æµä¸Šçš„å¯è¡Œæ€§ã€‚</p>
<h4 data-id="heading-3"><strong><strong>è¿™å¯¹ä½ çš„AIæˆ˜ç•¥æ„å‘³ç€ä»€ä¹ˆ</strong></strong></h4>
<p>å¦‚æœä½ ä¾ç„¶å°†AIåŸºç¡€è®¾æ–½ä»…ä»…ç†è§£ä¸ºè®­ç»ƒé›†ç¾¤å’Œæ¨¡å‹æ‰˜ç®¡ï¼Œé‚£ä¹ˆä½ è§£å†³çš„åªæ˜¯æ˜¨å¤©çš„é—®é¢˜ã€‚åœ¨è¿™åœºç¬¬ä¸‰æ³¢æµªæ½®ä¸­èƒœå‡ºçš„ä¼ä¸šï¼Œä¼šæ˜¯é‚£äº›æ„è¯†åˆ°æ¨ç†ï¼ˆè€Œéè®­ç»ƒï¼‰æ­£æˆä¸ºå…³é”®ç“¶é¢ˆï¼Œå¹¶å°†åˆ†å¸ƒå¼è¾¹ç¼˜åŸºç¡€è®¾æ–½è§†ä½œç ´å±€ä¹‹é“çš„å…ˆè¡Œè€…ã€‚</p>
<p>é—®é¢˜ä¸åœ¨äºä½ æ˜¯å¦éœ€è¦åˆ†å¸ƒå¼æ¨ç†åŸºç¡€è®¾æ–½ï¼Œè€Œåœ¨äºä½ é€‰æ‹©å¦‚ä½•è·å–å®ƒï¼šæ˜¯è‡ªå·±æŠ•å…¥æ„å»ºï¼ˆç¥ä½ å¥½è¿ï¼‰ã€ç­‰å¾…è¶…å¤§è§„æ¨¡äº‘å‚å•†æœ€ç»ˆè·Ÿè¿›ï¼ˆè€Œä½ çš„ç«äº‰å¯¹æ‰‹å·²æŠ¢å å…ˆæœºï¼‰ï¼Œè¿˜æ˜¯ç›´æ¥é‡‡ç”¨å·²ç»å®ç°è¡Œæ˜Ÿçº§è§„æ¨¡åŒ–è¿è¡Œçš„æˆç†Ÿå¹³å°ã€‚</p>
<p>åœ¨Akamaiï¼Œæˆ‘ä»¬ç”¨25å¹´æ—¶é—´æ·±è€•åˆ†å¸ƒå¼è®¡ç®—ã€å®‰å…¨ä¸å…¨çƒè§„æ¨¡åŒ–æŠ€æœ¯ã€‚Akamaiæ¨ç†äº‘ï¼Œæ­£æ˜¯äº’è”ç½‘åŸºç¡€è®¾æ–½é¢å‘AIæ—¶ä»£çš„è‡ªç„¶æ¼”è¿›ã€‚</p>
<p>AIçš„ç¬¬ä¸‰æ³¢æµªæ½®å·²è‡³ã€‚æ”¯æ’‘å®ƒçš„åŸºç¡€è®¾æ–½ä¹Ÿå·²å°±ä½ã€‚å”¯ä¸€çš„é—®é¢˜æ˜¯ï¼šä½ ï¼Œå‡†å¤‡å¥½ä¹˜é£ç ´æµªäº†å—ï¼Ÿ</p>
<p><strong><strong>äº†è§£æ›´å¤š</strong></strong></p>
<p>è¦äº†è§£æ›´å¤šå…³äºAkamaiæ¨ç†äº‘å¦‚ä½•æ”¹å˜ä½ çš„AIåŸºç¡€è®¾æ–½æˆ˜ç•¥ï¼Œè¯·è®¿é—®æˆ‘ä»¬çš„ç½‘ç«™æˆ–åœ¨LinkedInä¸Šä¸æˆ‘è”ç³»ã€‚</p>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_260107_blogarticles240_end" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_260107_blogarticles240_end" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 å¹´ç¨‹åºå‘˜è‡ªæ•‘æŒ‡å—]]></title>    <link>https://juejin.cn/post/7592432859862810658</link>    <guid>https://juejin.cn/post/7592432859862810658</guid>    <pubDate>2026-01-07T12:53:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859862810658" data-draft-id="7592410399917047849" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 å¹´ç¨‹åºå‘˜è‡ªæ•‘æŒ‡å—"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,äººå·¥æ™ºèƒ½,æ˜é‡‘æŠ€æœ¯å¾æ–‡"/> <meta itemprop="datePublished" content="2026-01-07T12:53:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä½•è´¤"/> <meta itemprop="url" content="https://juejin.cn/user/277499952247869"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 å¹´ç¨‹åºå‘˜è‡ªæ•‘æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/277499952247869/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä½•è´¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T12:53:12.000Z" title="Wed Jan 07 2026 12:53:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">2026 å¹´ç¨‹åºå‘˜è‡ªæ•‘æŒ‡å—</h2>
<h3 data-id="heading-1">å¼•è¨€ï¼šè°åœ¨æŠ½è°çš„é­å­ï¼Ÿ</h3>
<p>æ‰€æœ‰ä¸ AI å…±äº‹çš„å¼€å‘è€…éƒ½å®³æ€•é‡åˆ°è¿™æ ·çš„æƒ…å½¢ï¼šåŒæ ·çš„æ¨¡å‹ï¼ŒåŒæ ·çš„æ—¶é—´ï¼ŒåŒæ ·çš„é¡¹ç›®ï¼Œç”šè‡³åŒæ ·å¤æ‚åº¦çš„é—®é¢˜ï¼Œä¸åŒç”¨æˆ·å´å¾—åˆ°æˆªç„¶ä¸åŒçš„ç»“æœã€‚æœ‰äººå¾—åˆ°ä¼´éšç€å¹»è§‰çš„å·®å¼ºäººæ„çš„ç­”æ¡ˆï¼Œæœ‰äººå´æ”¶è·è¶…å‡ºé¢„æœŸçš„äº§å‡ºã€‚</p>
<p>Hacker News ä¸Šæ›¾æœ‰ä¸€ç¯‡é«˜èµå¸–å­æåˆ°ï¼š<strong>"<a href="https://link.juejin.cn?target=https%3A%2F%2Fnews.ycombinator.com%2Fitem%3Fid%3D44747634" target="_blank" title="https://news.ycombinator.com/item?id=44747634" ref="nofollow noopener noreferrer">AI is a floor raiser, not a ceiling raiser.</a>"</strong>ï¼ˆAI æå‡çš„æ˜¯åº•çº¿ï¼Œè€Œä¸æ˜¯å¤©èŠ±æ¿ã€‚ï¼‰è¿™æ„å‘³ç€éšç€å¤§æ¨¡å‹èƒ½åŠ›çš„æå‡ï¼Œå³ä½¿åœ¨ä¸å¥å…¨çš„ä¸Šä¸‹æ–‡æˆ–æ¨¡ç³Šçš„æé—®ä¸‹ï¼ŒAI ä¹Ÿèƒ½æä¾›è¶Šæ¥è¶Šå¥½çš„äº§å‡ºã€‚</p>
<p><strong>ä½†è¿™æ˜¯ä¸€æŠŠåŒåˆƒå‰‘â€”â€”ä¸åŒä½¿ç”¨æ°´å¹³çš„ç”¨æˆ·åœ¨ä½¿ç”¨åŒä¸€æ¨¡å‹æ—¶ï¼Œäº§å‡ºç»“æœçš„å·®è·ä¼šéšç€æ¨¡å‹æ°´å¹³çš„æå‡è€Œè¶Šæ¥è¶Šå¤§ã€‚</strong></p>
<p>æˆ‘æ—¶å¸¸è·Ÿæˆ‘åŒäº‹æ‰“è¶£çš„è¯´</p>
<blockquote>
<p>ä¸å…¶è¯´æ˜¯æˆ‘æ‹¿ç€é­å­å»æŠ½ AIï¼Œ
ä¸å¦‚è¯´æ˜¯ AI æ‹¿ç€é­å­åœ¨æŠ½æˆ‘â€”â€”
é€¼ç€æˆ‘å­¦ä¼šå¦‚ä½•æ›´æ¸…æ™°ã€æ›´é«˜è´¨é‡åœ°æä¾›ä¿¡æ¯ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79aba2cd1e524effb971b0e013742df9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768395192&amp;x-signature=G9hYFlm8ppXezoIHEDilEvwXB4I%3D" alt="02.png" loading="lazy"/></p>
<p>åœ¨ä¸‹åŠå¹´æˆ‘ç”¨çš„æ¯”è¾ƒå¸¸è§çš„æç¤ºè¯åªæœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯<code>ç»™æˆ‘ç”¨ä¸­æ–‡è§£é‡Šï¼ï¼</code>ï¼Œå¦å¤–å°±æ˜¯å°±æ˜¯ä»¥ä¸‹è¿™ä¸€æ®µï¼š</p>
<blockquote>
<p>æŸ¥çœ‹æœ¬æ¬¡ / ä¸Šæ¬¡ / å†å²ä¼šè¯ä¸­
æˆ‘çš„æ€è·¯ã€å†³ç­–ã€åˆ¤æ–­ã€è¾“å…¥æ–¹å¼
æœ‰å“ªäº›äº®ç‚¹ï¼Ÿæœ‰å“ªäº›å¯ä»¥æ”¹è¿›å’Œä¼˜åŒ–ï¼Ÿ</p>
</blockquote>
<p>è¿™èƒŒååæ˜ çš„å¹¶ä¸æ˜¯â€œç„å­¦è°ƒå‚â€ï¼Œè€Œæ˜¯ä¸€ä¸ªç°å®ï¼š<strong>AI å—é™äºä½ èµ‹äºˆå®ƒçš„Context(èƒŒæ™¯|ä¸Šä¸‹æ–‡)ã€‚</strong></p>
<h3 data-id="heading-2">AI-native æ—¶ä»£ï¼šæˆ‘ä»¬å¿…é¡»é€‚åº”çš„ç°å®</h3>
<p>è¯´èµ·æ¥å‰æ®µæ—¶é—´æˆ‘äº†è§£åˆ°ä¸€ä¸ªå¾ˆæœ‰è¶£çš„è¯ï¼Œå«<code>AI-native</code>,ä»–çš„å¯¹åº”é¢æ˜¯<code>Human-native</code>ã€‚</p>
<p>ä½œä¸ºç¨‹åºå‘˜ï¼Œæˆ‘æ›´åƒæ˜¯åœ¨é€šè¿‡ä»£ç ä¸ AI åä½œâ€”â€”å°±åƒä¸¤ä¸ªäººå…±åŒæ“æ§ä¸€å°æœºå™¨ã€‚
åœ¨ <strong>AI-native</strong> çš„åä½œæ¨¡å¼ä¸­ï¼ŒAI æ˜¯ä¸»æ§æ‰§è¡Œè€…ï¼Œè€Œäººçš„è§’è‰²å¹¶éç›´æ¥æ“ä½œç³»ç»Ÿï¼Œè€Œæ˜¯ä¸º AI æä¾›å®Œå¤‡çš„ä¿¡æ¯ã€æ¸…æ™°çš„é—®é¢˜è¾¹ç•Œä¸å¯æ¨ç†çš„ä¸Šä¸‹æ–‡ã€‚æ•´ä¸ªè¿‡ç¨‹çš„æ ¸å¿ƒæˆæœ¬ï¼Œåœ¨äºäººæ˜¯å¦èƒ½å¤Ÿå°†çœŸå®ä½†æ··ä¹±çš„é—®é¢˜ï¼Œæ•´ç†æˆ AI å¯æ¥å—ã€å¯è®¡ç®—çš„è¡¨è¾¾å½¢å¼ï¼Œæœ¬è´¨ä¸Šæ˜¯<strong>äººå»é€‚åº” AI çš„è®¤çŸ¥ä¸å½’çº³æ–¹å¼</strong>ã€‚</p>
<p>ç›¸å¯¹åœ°ï¼Œ<strong>Human-native</strong> ç³»ç»Ÿåˆ™åå…¶é“è€Œè¡Œä¹‹ï¼šå®ƒä»¬åŸç”Ÿæ”¯æŒäººçš„å€¾è¯‰å¼è¡¨è¾¾ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€ç†è§£ã€éœ€æ±‚æŒ–æ˜ä¸è¯­ä¹‰æ¨æ–­ï¼Œå°†æ¨¡ç³Šçš„â€œå¤§ç™½è¯â€é€æ­¥è½¬åŒ–ä¸ºæœ‰æ•ˆäº§å‡ºã€‚å…¶ç›®æ ‡å¹¶ä¸æ˜¯è¦æ±‚äººå­¦ä¼šå¦‚ä½•ç²¾ç¡®è¡¨è¾¾é—®é¢˜ï¼Œè€Œæ˜¯è®©ç³»ç»Ÿå…·å¤‡è¶³å¤Ÿçš„èƒ½åŠ›ï¼Œå»ç†è§£ä½è´¨é‡è¾“å…¥èƒŒåçš„çœŸå®éœ€æ±‚ï¼Œä»è€Œä½¿<strong>å³ä½¿æ˜¯ç»éªŒè¾ƒå°‘çš„æ“ä½œè€…ï¼Œä¹Ÿèƒ½è·å¾—é«˜è´¨é‡çš„ç»“æœ</strong>ã€‚</p>
<p><strong>ç°é˜¶æ®µä»å¤„äºå„å¤§æ¨¡å‹å‚å•†çš„å†›å¤‡ç«èµ›ä¸­ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fartificialanalysis.ai%2Fleaderboards%2Fmodels" target="_blank" title="https://artificialanalysis.ai/leaderboards/models" ref="nofollow noopener noreferrer">LLM Leaderboard</a> çš„æ’åé£æ°´è½®æµè½¬ã€‚åœ¨è¿™ç§èƒŒæ™¯ä¸‹ï¼Œç°åœ¨å¤§å¤šæ•°æˆåŠŸçš„äº§å“ï¼Œæœ¬è´¨ä¸Šéƒ½è¿˜æ˜¯ <code>AI-native</code> çš„</strong> ã€‚ç›¸ä¿¡ä»¥ä¸‹çš„æ¢—å›¾å¤§å®¶åº”è¯¥éƒ½ç»å¸¸çœ‹åˆ°è¿‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac380062750340b1b00c012252c83fe4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768395192&amp;x-signature=hAvdBgiDYqYm3G3TauhkgDln%2BpE%3D" alt="01.png" loading="lazy"/>
ä¹Ÿè®¸æœªæ¥ä¼šå‡ºç°æ›´å¤š <strong>Human-native</strong> äº§å“ï¼Œå®ƒä»¬èƒ½å¤Ÿæ¥å—äººä»¬çš„å€¾è¯‰ï¼Œé€šè¿‡å¤§ç™½è¯å‘æ˜å’Œç¡®å®šéœ€æ±‚ï¼Œå¹¶è½¬æ¢ä¸ºæœ‰æ•ˆäº§å‡ºã€‚</p>
<p>ä½†å¯¹äºå¥‹æ–—åœ¨ä¸€çº¿çš„å¼€å‘è€…å’Œ vibe coding å®è·µè€…æ¥è¯´ï¼Œæˆ‘ä»¬ç­‰ä¸åˆ°é‚£ä¸ªæ—¶å€™â€”â€”<strong>æˆ‘ä»¬éœ€è¦åœ¨å½“ä¸‹å…»æ´»è‡ªå·±</strong>ã€‚</p>
<p>é‚£ä¸ª Human-native çš„æ—¶ä»£ä¹Ÿè®¸æˆ‘ä»¬ç­‰ä¸åˆ°ï¼Œç”šè‡³æŸä¸€å¤©åˆ°æ¥æ—¶æˆ‘ä»¬å·²æ— æ³•é€‚åº”ã€‚ä½†åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è¿›åŒ–å‡ºé…åˆ <code>AI-native</code>äº§å“æ‰€éœ€çš„èƒ½åŠ›ã€‚ï¼ˆæœ‰æ—¶å€™çœŸçš„å¾ˆç¾¡æ…•é‚£äº›ä¸ä»¥<code>code</code>ä¸ºç”Ÿçš„èŒä¸šï¼‰</p>
<h3 data-id="heading-3">å¹»è§‰çš„æœ¬è´¨ï¼šå‘é‡çš„â€œå¹³æƒâ€é™·é˜±</h3>
<p>ä¸ºä»€ä¹ˆåŒä¸€ä¸ªæ¨¡å‹ï¼Œæœ‰æ—¶å€™æ˜¯ç¥ï¼Œæœ‰æ—¶å€™æ˜¯äººå·¥æ™ºéšœï¼Ÿ</p>
<p>ç­”æ¡ˆé€šå¸¸åœ¨äº <strong>Context çš„ç¼ºå¤±</strong>ã€‚</p>
<p>ä»¥æˆ‘ä»¬å¸¸ç”¨çš„ Cursor ä¸ºä¾‹ï¼Œå®ƒçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn%2Fdocs%2Fcontext%2Fcodebase-indexing" target="_blank" title="https://cursor.com/cn/docs/context/codebase-indexing" ref="nofollow noopener noreferrer">ç´¢å¼•æœºåˆ¶ (Codebase Indexing)</a> è¿™é‡Œç®€å•æŠ½è±¡ä¸º 3 æ­¥ï¼š</p>
<ol>
<li><strong>åˆ†ç‰‡ (Chunking):</strong> æŠŠä½ çš„ä»£ç æ‹†æˆå‡½æ•°ã€ç±»ã€é€»è¾‘å—ã€‚</li>
<li><strong>å‘é‡åŒ– (Embedding):</strong> ç”¨æ¨¡å‹ç”Ÿæˆè¯­ä¹‰â€œæŒ‡çº¹â€ã€‚</li>
<li><strong>å­˜å‚¨ä¸æ£€ç´¢:</strong> å½“ä½ æé—®æ—¶ï¼Œå®ƒå»å‘é‡æ•°æ®åº“é‡Œæå–â€œé•¿å¾—æœ€åƒâ€çš„ä»£ç ç‰‡æ®µã€‚</li>
</ol>
<p>é—®é¢˜å°±å‡ºåœ¨è¿™é‡Œï¼š<strong>åœ¨å‘é‡æ•°æ®åº“çš„è§†è§’é‡Œï¼Œä»£ç æ²¡æœ‰"å±‚çº§"ï¼Œåªæœ‰"ç›¸ä¼¼åº¦"ï¼Œæ‰€æœ‰çš„ä»£ç ç‰‡æ®µåœ¨æ¶æ„å±‚çº§ä¸Šæ˜¯â€œå¹³æƒâ€çš„ã€‚æ— è®ºæ˜¯æ ¸å¿ƒæ¶æ„è®¾è®¡ï¼Œè¿˜æ˜¯è¾¹ç¼˜çš„å·¥å…·å‡½æ•°ï¼Œåœ¨Cursor çœ¼é‡Œåªæ˜¯è·ç¦»é•¿çŸ­ä¸åŒçš„å‘é‡è€Œå·²ã€‚å»ºç«‹å®Œç´¢å¼•åº“åï¼ŒCursor å¯¹æ‰€æœ‰æ¨¡å—ä¸€è§†åŒä»</strong></p>
<p>åœ¨ä¸æä¾›ç‰¹æ®Šä¿¡æ¯çš„æƒ…å†µä¸‹ï¼Œéšè—çš„ä¸Šä¸‹æ–‡å¤ªå¤šï¼ŒAgent é¢å¯¹é—®é¢˜å®¹æ˜“é™·å…¥å¹»è§‰ã€‚æˆ‘ä»¬ç»å¸¸éœ€è¦ä¸æ–­è¿­ä»£â€”â€”<code>@files</code> æˆ– <code>@æŸä¸ªç‰¹å®šçš„ä»£ç ç‰‡æ®µ</code>â€”â€”ç›´åˆ° AI æ˜ç™½æˆ‘ä»¬çš„æ„å›¾ã€‚å¯¹äºåˆšæ¥æ‰‹å¤§å‹é¡¹ç›®çš„æ–°äººï¼Œè¿™æ ·çš„è¿‡ç¨‹å¯èƒ½é‡å¤ 3-5 æ¬¡ç”šè‡³æ›´å¤šã€‚</p>
<p>æ›´æœ‰è¶£çš„æ˜¯"å‘é‡æƒé‡"ç°è±¡ï¼šåœ¨ AI åˆä½œçš„è¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šåˆ©ç”¨åµŒå…¥æ¨¡å‹ä¸æ–­å¢åŠ æŸä¸€æ¨¡å—çš„å‘é‡æƒé‡ã€‚è¿™ä¼šè®©ä½ åœ¨é¢‘ç¹æ“ä½œæŸæ¨¡å—æ—¶æœ‰"è¶Šç”¨è¶Šé¡º"çš„æ„Ÿè§‰ï¼Œä½†çªç„¶ç¯¡æ”¹ä¸€ä¸ªå·²æœ‰æ¨¡å—æ—¶ï¼Œå´æ„ŸçŸ¥å®ƒ"é™æ™º"äº†ã€‚è¿™éƒ½å¯å½’çº³ä¸º <strong>Context ç¼ºå¤±äº§ç”Ÿå¹»è§‰çš„ç»“æœ</strong>ã€‚</p>
<h3 data-id="heading-4">çœŸæ­£çš„å·®è·ï¼Œä¸åœ¨å·¥å…·ï¼Œè€Œåœ¨ä½ è„‘ä¸­çš„é‚£å¼ å›¾</h3>
<p>è¿™æ˜¯ä¸€å¼ å„å®¶æ——èˆ°æ¨¡å‹çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fartificialanalysis.ai%2Fleaderboards%2Fmodels" target="_blank" title="https://artificialanalysis.ai/leaderboards/models" ref="nofollow noopener noreferrer">LLM Leaderboard</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5cbfaa91429c43dd8626f6b2333dd348~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768395192&amp;x-signature=MG5zElv6v4yljSWzHrd9r03zUuE%3D" alt="04.png" loading="lazy"/></p>
<p>å¯èƒ½æœ‰äººä¼šè¯´ï¼Œæˆ‘æ˜¯ç”¨çš„æ˜¯ XXX æ¨¡å‹ï¼Œä»–å°±æ˜¯ä¸å¦‚ XXXã€‚ä½†å®é™…ä¸Šå„å®¶æ——èˆ°æ¨¡å‹åœ¨å„ä¸ªæµ‹è¯•ç¯èŠ‚å¹¶æ²¡æœ‰è¢«æ‹‰å¼€å¤ªå¤§çš„å·®è·</p>
<p>AI å¯¹æ¯ä¸ªäººçš„æå‡æ•ˆæœéå¸¸å‰²è£‚ï¼š</p>
<p>æœ‰äººè§‰å¾— AI åªèƒ½åŠ å¿«ä¸€ç‚¹ coding é€Ÿåº¦ï¼Œè€Œé¢å¯¹å¤æ‚é¡¹ç›®æ—¶çš„ä»£ç äº§å‡ºåˆ™æ˜¯ï¼šä¸€æ¯èŒ¶ã€ä¸€åŒ…çƒŸï¼Œä¸€æ®µä»£ç  agent è·‘ä¸€å¤©ã€‚</p>
<p>è€Œæœ‰çš„äººå·²ç»åœ¨è€ƒè™‘å°†å¤§ä¼—æäº¤çš„ feedbackï¼ˆissueã€feature requestï¼‰ç»è¿‡å®¡æ ¸å’Œè§„èŒƒè¾“å…¥åï¼Œä¸€é”®è½¬å‘åˆ° Claude Code å»åšè‡ªåŠ¨åŒ–å®ç°â€”â€”æ„å»ºä¸€ç§å¯ä»¥è¢«å‘½åä¸ºã€Œè®¸æ„¿å¼å¼€å‘ã€çš„å·¥ä½œæµã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/883f8231f3bd49d1a52d23508e5cbcb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768395192&amp;x-signature=BRx3sgnltlb%2Bupc1pp%2Ba4dEhhKQ%3D" alt="03.png" loading="lazy"/></p>
<p>ä½†è¿™å¹¶ä¸ä»£è¡¨å‰è€…ä¸å¤Ÿä¼˜ç§€ã€‚æˆ‘é‡åˆ°è¿‡å¾ˆå¤šä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œä»–ä»¬å¯¹è‡ªå·±æ„å»ºå’Œç»´æŠ¤çš„é¡¹ç›®æœ‰ä¸€ä»½å­˜åœ¨å¤§è„‘ä¸­çš„ <strong>HIGH LEVEL VIEW</strong>ï¼ˆçŸ¥é“å“ªäº›æ¨¡å—è´Ÿè´£å“ªäº›åŠŸèƒ½ã€æ‰¿æ‹…å“ªäº›è´£ä»»ã€å­˜åœ¨å“ªäº›éšç§˜é›·ç‚¹ï¼‰ã€‚ä½†ä»–ä»¬éš¾ä»¥å°†è¿™ä»½å†…å®¹åœ¨æ–‡æ¡£ä¸­æ„å»ºå¹¶é˜è¿°ç»™æ¨¡å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b793cc2d79404ff58b4fc7d9ae3a45bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768395192&amp;x-signature=Wv3Y1yQTfLP9KPdYtdZHH8%2FPj%2BI%3D" alt="05.png" loading="lazy"/></p>
<p>æ›´ç³Ÿçš„æ˜¯ï¼Œä»…ä»…é€šè¿‡ç±»ä¼¼å¯¹ AI æé—®ï¼š"å¸®æˆ‘æ€»ç»“å‡ºè¿™ä¸ªé¡¹ç›®ç»“æ„å¹¶è¾“å‡º md æ–‡æ¡£"ï¼Œæœ‰æ—¶åè€Œä¼šåŠ é‡æ¨¡å‹çš„å¹»è§‰â€”â€”è¿™äº›å¯¹ AI æ¥è¯´è«åå…¶å¦™çš„æ–‡æ¡£æœ€ç»ˆæˆä¸ºå™ªå£°ï¼Œå¹²æ‰°ç€è§£å†³é—®é¢˜çš„è¿›åº¦ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨ç»´æŠ¤ä»£ç æ—¶ï¼Œ<strong>å°†è„‘ä¸­çš„<code>HIGH LEVEL VIEW</code>è½¬æ¢ä¸ºä¸€ä»½æ¸…æ™°çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.intent-systems.com%2Flearn%2Fintent-layer" target="_blank" title="https://www.intent-systems.com/learn/intent-layer" ref="nofollow noopener noreferrer">Intent Layer</a> è‡³å…³é‡è¦</strong>ã€‚ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.intent-systems.com%2Flearn%2Fintent-layer" target="_blank" title="https://www.intent-systems.com/learn/intent-layer" ref="nofollow noopener noreferrer">Intent Layer</a> æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.intent-systems.com%2Flearn" target="_blank" title="https://www.intent-systems.com/learn" ref="nofollow noopener noreferrer">Intent-system</a>æå‡ºçš„æ¦‚å¿µï¼Œå¸®åŠ©è§£å†³ç¨‹åºå‘˜å¦‚ä½•å°†è„‘å†…å›¾æ™¯è½¬æ¢ä¸ºå¯è¢« AI æ¥å—çš„ä¿¡æ¯ï¼Œæˆ‘å°±ä¸åšæ¬è¿å·¥äº†ï¼Œæ„Ÿè§‰æŠŠåˆ«äººæ–‡ç« ç¿»è¯‘ä¸€ä¸‹ç²˜è¿‡æ¥æ€ªæ€ªçš„)ã€‚è¿™é‡Œç»™å¤§å®¶æ¨èä¸¤ä¸ªåœ°å€</p>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.intent-systems.com%2Flearn%2Fintent-layer" target="_blank" title="https://www.intent-systems.com/learn/intent-layer" ref="nofollow noopener noreferrer">The Intent Layer</a>:<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.intent-systems.com%2Flearn%2Fintent-layer" target="_blank" title="https://www.intent-systems.com/learn/intent-layer" ref="nofollow noopener noreferrer">www.intent-systems.com/learn/intenâ€¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgithub%2Fspec-kit%2Fblob%2Fmain%2Fspec-driven.md%23the-nine-articles-of-development" target="_blank" title="https://github.com/github/spec-kit/blob/main/spec-driven.md#the-nine-articles-of-development" ref="nofollow noopener noreferrer">è§„èŒƒé©±åŠ¨å¼€å‘ï¼ˆSDDï¼‰</a>:<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgithub%2Fspec-kit%2Fblob%2Fmain%2Fspec-driven.md%23the-nine-articles-of-development" target="_blank" title="https://github.com/github/spec-kit/blob/main/spec-driven.md#the-nine-articles-of-development" ref="nofollow noopener noreferrer">github.com/github/specâ€¦</a></p>
</li>
</ul>
<h3 data-id="heading-5">ä¸å†å·æ¡†æ¶ï¼Œè€Œæ˜¯å»è¯»â€œè¯´æ˜ä¹¦â€</h3>
<p>å›æƒ³ 2023 å¹´ä¹‹å‰ï¼Œä½œä¸ºä¸€ä¸ªåˆæ ¼çš„å‰ç«¯æˆ–å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬çš„å­¦ä¹ ç²¾åŠ›åˆ†é…å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li><strong>40%</strong>ï¼šç ”ç©¶æ¡†æ¶çš„æ–°ç‰¹æ€§
ï¼ˆReact Hooksã€Vue Composition APIã€Server Componentsï¼‰</li>
<li><strong>40%</strong>ï¼šå„ç§ç”Ÿæ€ä¸å·¥å…·é“¾
ï¼ˆçŠ¶æ€ç®¡ç†ã€è·¯ç”±ã€æ„å»ºå·¥å…·ï¼‰</li>
<li><strong>20%</strong>ï¼šä¸šåŠ¡é€»è¾‘ä¸ç®—æ³•</li>
</ul>
<p>è¿™ä¸€å¥—é€»è¾‘åœ¨å½“æ—¶æ˜¯å®Œå…¨æˆç«‹çš„â€”â€”<strong>ä¸ªäººå¯¹æ¡†æ¶æºç çš„æŒæ§åº¦ â‰ˆ ä¸ªäººç”Ÿäº§åŠ›ä¸Šé™</strong>ã€‚</p>
<h4 data-id="heading-6">ç°åœ¨çš„æ¸¸æˆè§„åˆ™å˜äº†</h4>
<p>ç°åœ¨çš„ AI æ¨¡å‹ï¼ˆä¾‹å¦‚ Claude  Opus 4.5ã€GPT 5.2ï¼‰,åœ¨é…åˆ <code>Context7</code> MCP Server å¯¹ä¸»æµæ¡†æ¶å’Œ API çš„ç†Ÿæ‚‰ç¨‹åº¦ï¼Œå·²ç»è¿œè¿œè¶…è¿‡ç»å¤§å¤šæ•°å¼€å‘è€…ã€‚
å½“æˆ‘æƒ³è®©å®ƒå†™ä¸€ä¸ªã€Œå¸¦ Virtual Scroll çš„ Vue 3 è¡¨æ ¼ç»„ä»¶ã€ï¼Œå®ƒä¸ä»…å†™å¾—æ¯”æˆ‘å¿«ï¼Œå¾ˆå¤šæ—¶å€™è¿˜æ›´è§„èŒƒã€‚</p>
<p>äºæ˜¯ï¼ŒçœŸæ­£çš„åˆ†æ°´å²­å‡ºç°äº†ï¼š</p>
<blockquote>
<p><strong>ä¸ªäººçš„ç«äº‰åŠ›ï¼Œä¸å†æ˜¯ä»–è®°å¾—å¤šå°‘ APIï¼Œ
è€Œæ˜¯è¿™ä¸ªäººèƒ½å¦è®©ä»–çš„ IDE å‘æŒ¥å‡ºä¸Šé™ã€‚</strong></p>
</blockquote>
<p>è€Œè¿™ä»¶äº‹ï¼Œè¿œä¸åªæ˜¯â€œä¼šä¸ä¼šå†™æç¤ºè¯â€ã€‚</p>
<h4 data-id="heading-7">ç†è§£æ‰‹ä¸­çš„å·¥å…·</h4>
<p>å½“æˆ‘ä»¬å¼€å§‹ä¾èµ– Claudeã€Cursorã€Trae è¿™ç±»å·¥å…·æ—¶ï¼Œæœ¬è´¨ä¸Šå·²ç»è¿›å…¥äº†ä¸€ä¸ªæ–°çš„æŠ½è±¡å±‚ï¼š</p>
<blockquote>
<p><strong>ä½ ä¸å†æ˜¯ç›´æ¥å†™ä»£ç çš„äººï¼Œè€Œæ˜¯åœ¨é…ç½®ä¸€ä¸ªâ€œæ™ºèƒ½ä½“è¿è¡Œç¯å¢ƒâ€ã€‚</strong></p>
</blockquote>
<p>è¿™æ—¶å†å»æ— ä¼‘æ­¢åœ°è¿½é€æ–°æ¡†æ¶ï¼Œæ€§ä»·æ¯”å·²ç»æä½ã€‚
é‚£éƒ¨åˆ†ç²¾åŠ›ï¼Œæ›´å€¼å¾—æŠ•å…¥åˆ°æ¯”å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fen%2Fskills" target="_blank" title="https://code.claude.com/docs/en/skills" ref="nofollow noopener noreferrer"><strong>Claude Docs</strong></a>ã€<strong><a href="https://www.trae.ai/blog/trae_tutorial_0825" target="_blank" title="https://www.trae.ai/blog/trae_tutorial_0825" ref="nofollow noopener noreferrer">Trae Blog</a></strong>ã€å„ç±» Agent / <a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2Fhome" target="_blank" title="https://agentskills.io/home" ref="nofollow noopener noreferrer">Skill</a> / Subagent çš„è®¾è®¡è¯´æ˜ã€‚</p>
<p>è¿™ä»¶äº‹æœ¬èº«å…¶å®å¹¶ä¸é™Œç”Ÿã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬å†™ JavaScriptï¼Œæœ¬è´¨ä¸Šæ˜¯ï¼š
JS â†’ ç¼–è¯‘ â†’ C / LLVM â†’ æµè§ˆå™¨æ‰§è¡Œ</p>
<p>ç°åœ¨åªæ˜¯æ¢äº†ä¸€æ¡é“¾è·¯ï¼š
<strong>è‡ªç„¶è¯­è¨€ â†’ IDE Agent â†’ ä»£ç  â†’ ç¼–è¯‘ â†’ æ‰§è¡Œ</strong></p>
<p>ä¸­é—´å¤šå‡ºæ¥çš„ï¼Œæ˜¯ä¸€ä¸ªä½ å¿…é¡»ç†è§£çš„â€œé»‘ç®±â€ã€‚</p>
<p><strong>Claude çš„ Subagent ä¸ Skill</strong></p>
<p>ä»¥ Claude ä¸ºä¾‹ï¼š
è™½ç„¶æˆ‘ä¸ªäººå¹¶ä¸è®¤åŒ Anthropic å¯¹å›½åŒºçš„æ€åº¦ï¼Œä¹Ÿä¸å–œæ¬¢ä»–ä»¬çš„è¡Œäº‹é£æ ¼ï¼Œä½†ä¸å¾—ä¸æ‰¿è®¤ï¼š<strong>ä»–ä»¬åœ¨ç”Ÿæ€è®¾è®¡ä¸Šæå‡ºäº†ä¸€äº›éå¸¸è¶…å‰ã€ä¸”æå…·é€šç”¨æ€§çš„æ¦‚å¿µã€‚</strong></p>
<p>å…¶ä¸­æœ€å…³é”®çš„ä¸¤ä¸ªæ˜¯ï¼š</p>
<ul>
<li><strong>Subagent</strong>ï¼šç”¨äºéš”ç¦»ä¸Šä¸‹æ–‡</li>
<li><strong>Skill</strong>ï¼šé€šè¿‡é€æ­¥æŠ«éœ²ï¼ŒèŠ‚çœå¹¶ä¿æŠ¤ä¸Šä¸‹æ–‡</li>
</ul>
<p><code>Subagent</code>ä»¥æä¸ºæœ‰æ•ˆçš„æ–¹å¼éš”ç¦»ä¸Šä¸‹æ–‡ï¼Œè€Œ <code>Skill</code>ä¾é é€æ­¥æŠ«éœ²çš„æ–¹å¼è¿›ä¸€æ­¥ç®€å•ç²—æš´çš„ä¿æŠ¤ &amp; èŠ‚çœä¸Šä¸‹æ–‡ã€‚</p>
<p>åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fen%2Fskills" target="_blank" title="https://code.claude.com/docs/en/skills" ref="nofollow noopener noreferrer">Claude docs</a> æ–‡æ¡£ä¸­æ˜ç¡®è¡¨ç¤ºï¼Œæœ€åˆ <code>Skill</code> ä»…ä»…å±•ç¤ºç»™ <code>Claude</code> çš„å†…å®¹åªæœ‰å¦‚:</p>
<pre><code class="hljs language-bash" lang="bash">---
name: code-reviewer
description: Review code <span class="hljs-keyword">for</span> quality and best practices
skills: pr-review, security-check
---
</code></pre>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>Context å¹¶ä¸æ˜¯ä¸€æ¬¡æ€§çŒç»™æ¨¡å‹çš„</li>
<li>èƒ½åŠ›æ˜¯æŒ‰éœ€ã€é€æ­¥â€œè§£é”â€çš„</li>
<li>å•ä¸ª Subagent å¯ä»¥åœ¨ç‰¹å®šåœºæ™¯ä¸‹ï¼Œè¢«ä¸´æ—¶â€œæ”¾å¤§â€ä¸ºä¸€ç§è¿‘ä¼¼ <strong>MoEï¼ˆMixture of Expertsï¼‰</strong> çš„è¡Œä¸ºæ¨¡å¼</li>
</ul>
<p>æˆ‘éå¸¸ç¡®ä¿¡ï¼š
è¿™ç§æœºåˆ¶åœ¨ä¸ä¹…çš„å°†æ¥ï¼Œä¼šå¼•å‘å¤§é‡å¼€å‘è€…å‚ä¸ï¼Œå½¢æˆä¸€ä¸ªç±»ä¼¼æ—©æœŸ MCP Server çš„ Skill ç”Ÿæ€ï¼Œç”šè‡³ä¸ MCP è”åŠ¨ã€‚</p>
<p>è€Œä¸”å‡ ä¹å¯ä»¥ç¡®å®šâ€”â€”
<strong>Cursorã€Trae å¾ˆå¿«éƒ½ä¼šå‡ºç°ç±»ä¼¼çš„è®¾è®¡ã€‚</strong></p>
<p><strong>å®ƒä»¬è§£å†³çš„ï¼Œå…¶å®æ˜¯åŒä¸€ä¸ªé—®é¢˜</strong></p>
<p>æ— è®ºæ˜¯ Subagentã€Skillï¼Œè¿˜æ˜¯ MCPï¼Œæœ¬è´¨ä¸Šéƒ½åœ¨åšä¸€ä»¶äº‹ï¼š</p>
<blockquote>
<p><strong>å¸®åŠ©æˆ‘ä»¬æ›´é«˜æ•ˆåœ°ï¼ŒæŠŠ High-Level View
æ˜ å°„åˆ°å¯æ‰§è¡Œçš„ Intent Layerã€‚</strong></p>
</blockquote>
<p><strong>2026å¹´çš„è‡ªæ•‘ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€åœºèŒèƒ½è·ƒè¿ï¼š æˆ‘ä»¬å¿…é¡»ä»â€œä»£ç å·¥äººâ€è½¬å‹ä¸ºâ€œé…ç½®æ™ºèƒ½ä½“è¿è¡Œç¯å¢ƒçš„æ¶æ„å¸ˆâ€ã€‚</strong></p>
<h3 data-id="heading-8">å†™åœ¨æœ€å</h3>
<p>æœ¬æ–‡å¹¶ä¸æ˜¯åœ¨å¸Œæœ›ä¹‹åæ¯ä¸ªäººéƒ½æ˜¯ 24 å°æ—¶ç›¯ç€å„å®¶æ¨¡å‹å‚å•†çš„æ–‡æ¡£æ›´æ–°è¿‡æ—¥å­ã€‚</p>
<p>ä½†è‡³å°‘ï¼Œå€¼å¾—é—®è‡ªå·±ä¸€ä¸ªé—®é¢˜ï¼š</p>
<blockquote>
<p><strong>æˆ‘æ˜¯çœŸçš„ç†è§£â€œç°åœ¨æ­£åœ¨å‘ç”Ÿä»€ä¹ˆâ€ï¼Œ è¿˜æ˜¯åªæ˜¯åœ¨çŸ­è§†é¢‘é‡Œå¬è¿‡ä¸€ä¸ªæ¨¡ç³Šçš„æ¦‚å¿µï¼Ÿ</strong></p>
</blockquote>
<p>å¾ˆå¤šæ—¶å€™ï¼Œ<strong>æ²¡æœ‰ä»€ä¹ˆæ¯”é‚£äº›æ­£åœ¨ç»´æŠ¤ã€æ­£åœ¨ç ”å‘è¿™äº›ç³»ç»Ÿçš„äººäº²è‡ªå†™ä¸‹çš„æ–‡æ¡£ï¼Œæ›´èƒ½å‡†ç¡®æè¿°å½“ä¸‹çš„ç°å®ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gson å¾ˆå¥½ï¼Œä½†åœ¨Kotlinä¸Šæœ‰æ›´åˆé€‚çš„åºåˆ—åŒ–å·¥å…·ã€ŒKotlin Serializationã€]]></title>    <link>https://juejin.cn/post/7592451049233104942</link>    <guid>https://juejin.cn/post/7592451049233104942</guid>    <pubDate>2026-01-07T11:08:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592451049233104942" data-draft-id="7574322843049230386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gson å¾ˆå¥½ï¼Œä½†åœ¨Kotlinä¸Šæœ‰æ›´åˆé€‚çš„åºåˆ—åŒ–å·¥å…·ã€ŒKotlin Serializationã€"/> <meta itemprop="keywords" content="Android,Gson,Kotlin"/> <meta itemprop="datePublished" content="2026-01-07T11:08:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PuddingSama"/> <meta itemprop="url" content="https://juejin.cn/user/4152181101706967"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gson å¾ˆå¥½ï¼Œä½†åœ¨Kotlinä¸Šæœ‰æ›´åˆé€‚çš„åºåˆ—åŒ–å·¥å…·ã€ŒKotlin Serializationã€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4152181101706967/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PuddingSama
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T11:08:17.000Z" title="Wed Jan 07 2026 11:08:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘ä»¬æ¥çœ‹çœ‹ Gson çš„å®˜æ–¹ä»‹ç»ï¼š</p>
<p>Gsonæ˜¯ä¸€ä¸ªJavaåº“ï¼Œå¯ç”¨äºå°†Javaå¯¹è±¡è½¬æ¢ä¸ºå…¶JSONè¡¨ç¤ºå½¢å¼ã€‚å®ƒè¿˜å¯ä»¥ç”¨äºå°†JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºç­‰æ•ˆçš„Javaå¯¹è±¡ã€‚Gsonèƒ½å¤Ÿå¤„ç†ä»»æ„Javaå¯¹è±¡ï¼ŒåŒ…æ‹¬é‚£äº›ä½ æ²¡æœ‰æºä»£ç çš„ç°æœ‰å¯¹è±¡ã€‚</p>
<p><strong>Gson çš„ä¸»è¦å…³æ³¨ç‚¹æ˜¯ Javaã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå°†å…¶ä¸ Kotlin æˆ– Scala ç­‰å…¶ä»– JVM è¯­è¨€ä¸€èµ·ä½¿ç”¨å¯èƒ½æ•ˆæœå¾ˆå¥½ï¼Œä½†ä¸æ”¯æŒç‰¹å®šäºè¯­è¨€çš„ç‰¹æ€§ï¼Œä¾‹å¦‚ Kotlin çš„é<code>null</code>ç±»å‹æˆ–å¸¦æœ‰é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´ä»¤äººå›°æƒ‘çš„é”™è¯¯è¡Œä¸ºã€‚</strong></p>
<p><strong>ä½¿ç”¨ Java ä»¥å¤–çš„è¯­è¨€æ—¶ï¼Œä¼˜å…ˆé€‰æ‹©å¯¹è¯¥è¯­è¨€æœ‰æ˜ç¡®æ”¯æŒçš„ JSON åº“ã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæˆ–åº“å¯èƒ½åœ¨Androidä¸Šè¿è¡Œï¼Œè¯·è€ƒè™‘ä½¿ç”¨ Kotlinåºåˆ—åŒ–æˆ–Moshiçš„ä»£ç ç”Ÿæˆå™¨</strong>ï¼Œå®ƒä»¬ä½¿ç”¨ä»£ç ç”Ÿæˆè€Œéåå°„ã€‚è¿™æ ·å¯ä»¥é¿å…Gsonåœ¨åº”ç”¨ä¼˜åŒ–æ—¶ï¼ˆé€šå¸¸æ˜¯ç”±äºå­—æ®µç¼ºå¤±æˆ–è¢«æ··æ·†ï¼‰å‡ºç°è¿è¡Œæ—¶å´©æºƒï¼Œå¹¶èƒ½åœ¨Androidè®¾å¤‡ä¸Šå¸¦æ¥æ›´å¿«çš„æ€§èƒ½ã€‚å¯¹äºå·²ç»ç†Ÿæ‚‰Gsonçš„ç”¨æˆ·æ¥è¯´ï¼ŒMoshiçš„APIå¯èƒ½æ›´å®¹æ˜“ä¸Šæ‰‹ã€‚å¦‚æœæ‚¨ä»ç„¶æƒ³ä½¿ç”¨Gsonå¹¶å°è¯•é¿å…è¿™äº›å´©æºƒï¼Œå¯ä»¥åœ¨æ­¤å¤„äº†è§£å…·ä½“æ–¹æ³•ã€‚</p>
<p>ä»¥ä¸Šæ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle%2Fgson" target="_blank" title="https://github.com/google/gson" ref="nofollow noopener noreferrer">Gson</a>å®˜æ–¹ä»‹ç»ï¼Œä¸Šé¢ç›´æ¥å‘ŠçŸ¥ç”¨æˆ·åœ¨ Android å¼€å‘ Kotlin æ—¶ä»£ä¸æ¨èä½¿ç”¨ Gson è€Œåº”è¯¥ä½¿ç”¨ Kotlin Serializationã€‚ä½†æ˜¯æˆ‘ä¼°è®¡ç›¸å½“ä¸€å¤§éƒ¨åˆ† Android å¼€å‘è€…å¹¶æ²¡æœ‰çœ‹åˆ°è¿‡è¿™äº›æè¿°ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º Gson è¯ç”Ÿäº Android Java è¯­è¨€æ—¶ä»£ï¼ŒKotlin ä¸ Java å…¼å®¹ï¼Œæ‰€ä»¥åœ¨è½¬ç§»åˆ°Kotlinè¯­è¨€å¼€å‘æ—¶ï¼Œæ—§æ—¶ä»£çš„ä¼˜ç§€å·¥å…·è¢«ç»§æ‰¿äº†ä¸‹æ¥ï¼Œå¹¶ä¸”åœ¨å¤šæ•°æ—¶å€™ä½¿ç”¨ï¼Œå¹¶ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ï¼Œæ‰€æœ‰ Gson ä¾æ—§æ´»è·ƒåœ¨ Kotlin æ—¶ä»£çš„ Andorid å¼€å‘ä¸­ã€‚</p>
<p>é‚£ä¹ˆ Gson åœ¨ Kotlin ä¸Šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(<span class="hljs-keyword">val</span> name: String = <span class="hljs-string">""</span>, <span class="hljs-keyword">val</span> age: String = <span class="hljs-string">""</span>)
</code></pre>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Tom"</span> <span class="hljs-punctuation">}</span>
</code></pre>
<p>Studentç±»æœ‰ä¸¤ä¸ªéç©ºå­—æ®µ <code>val name: String, val age: String</code>, Json åªæœ‰ä¸€ä¸ª <code>name</code> å­—æ®µã€‚æˆ‘ä»¬æœŸæœ›å¦‚æœJson string æ²¡æœ‰æŸä¸ªå­—æ®µåˆ™åº”è¯¥ä½¿ç”¨ Studentç±»å­—æ®µçš„é»˜è®¤å€¼ï¼Œå¾ˆæœ´ç´ çš„æœŸæœ›ï¼Œå¯¹å§ï¼Ÿ</p>
<p>ä½†å®é™…å½“ä½ ç”¨ Gson ååºåˆ—åŒ–ä¹‹åï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ª <code>name=="Tom" age==null</code> çš„ Student å¯¹è±¡ï¼Œ<strong>ç©ºå®‰å…¨ä¸å†å®‰å…¨ï¼ŒåŒæ—¶é»˜è®¤å€¼ä¹Ÿä¸€èµ·å¤±æ•ˆ</strong>ã€‚</p>
<h2 data-id="heading-0">é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</h2>
<p>Gsonåˆ›å»ºå› å¯¹è±¡ç±»å‹çš„ä¸åŒï¼Œåˆ†ä¸º4ç§æƒ…å†µï¼š</p>
<ul>
<li>
<p>åŸºç¡€ç±»å‹ã€ä»¥åŠåŸºç¡€ç±»å‹çš„åŒ…è£…ç±»å‹ç­‰ç”±Gsonæä¾›çš„TypeAdapteré€šè¿‡ new å…³é”®å­—åˆ›å»º</p>
</li>
<li>
<p>æšä¸¾ç±»å‹åœ¨EnumTypeAdapterä¸­åªæ˜¯é€šè¿‡æšä¸¾åç§°åˆ‡æ¢ä¸åŒçš„æšä¸¾å¸¸é‡ï¼Œä¸æ¶‰åŠå¯¹è±¡çš„åˆ›å»º</p>
</li>
<li>
<p>é›†åˆå’Œmapç­‰å®¹å™¨ç±»å‹é€šè¿‡Gsonå†…ç½®çš„å¯¹è±¡åˆ›å»ºå·¥å‚ï¼Œè°ƒç”¨ new å…³é”®å­—è¿›è¡Œåˆ›å»º</p>
</li>
<li>
<p>Java Beanå¯¹è±¡çš„åˆ›å»ºæ¯”è¾ƒå¤æ‚ï¼Œåˆ†ä¸º3ç§æƒ…å†µï¼Œä¼˜å…ˆçº§ç”±ä¸Šåˆ°ä¸‹ä¾æ¬¡é™ä½:</p>
<ul>
<li>å¼€å‘è€…å®šä¹‰äº†å¯¹è±¡åˆ›å»ºå·¥å‚<code>InstanceCreator</code>ï¼Œåˆ™ä½¿ç”¨è¯¥å·¥å‚åˆ›å»ºï¼›</li>
<li>å­˜åœ¨é»˜è®¤çš„æ— å‚æ„é€ å‡½æ•°ï¼Œé€šè¿‡åå°„æ„é€ å‡½æ•°åˆ›å»ºï¼›</li>
<li>ä½¿ç”¨<code>Unsafe API</code> åˆ›å»ºã€‚</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-java" lang="java">#ConstructorConstructor.java
<span class="hljs-keyword">public</span> &lt;T&gt; ObjectConstructor&lt;T&gt; <span class="hljs-title function_">get</span><span class="hljs-params">(TypeToken&lt;T&gt; typeToken)</span> {
	<span class="hljs-comment">// 1.è·å–TypeTokenå¯¹åº”çš„ç±»å‹(Type)å’ŒåŸå§‹ç±»å‹(Class&lt;? super T&gt;ï¼‰</span>
	<span class="hljs-keyword">final</span> <span class="hljs-type">Type</span> <span class="hljs-variable">type</span> <span class="hljs-operator">=</span> typeToken.getType();
	Class&lt;? <span class="hljs-built_in">super</span> T&gt; rawType = typeToken.getRawType();
	<span class="hljs-comment">// 2.ä»instanceCreatorsä¸­æ ¹æ®ç±»å‹(Type)è·å–å¯¹åº”çš„å®ä¾‹åˆ›å»ºå™¨(InstanceCreator)</span>
	<span class="hljs-comment">//   å¦‚æœå­˜åœ¨ï¼Œåˆ™åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡æ„é€ å™¨ï¼Œè¯¥æ„é€ å™¨ä½¿ç”¨è¯¥å®ä¾‹åˆ›å»ºå™¨æ¥åˆ›å»ºå¯¹è±¡</span>
	<span class="hljs-keyword">final</span> InstanceCreator&lt;T&gt; typeCreator = (InstanceCreator)<span class="hljs-built_in">this</span>.instanceCreators.get(type);
	<span class="hljs-keyword">if</span> (typeCreator != <span class="hljs-literal">null</span>) {
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectConstructor</span>&lt;T&gt;() {
			<span class="hljs-keyword">public</span> T <span class="hljs-title function_">construct</span><span class="hljs-params">()</span> {
				<span class="hljs-keyword">return</span> typeCreator.createInstance(type);
			}
		};
	} <span class="hljs-keyword">else</span> {
		<span class="hljs-comment">// 3.å¦‚æœæ­¥éª¤2ä¸­æ²¡æœ‰è·å–åˆ°å®ä¾‹åˆ›å»ºå™¨ï¼Œåˆ™å°è¯•æ ¹æ®åŸå§‹ç±»å‹(rawType)ä»instanceCreatorsä¸­è·å–å®ä¾‹åˆ›å»ºå™¨</span>
		<span class="hljs-comment">// å¦‚æœå­˜åœ¨ï¼Œåˆ™åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡æ„é€ å™¨ï¼Œè¯¥æ„é€ å™¨ä½¿ç”¨è¯¥å®ä¾‹åˆ›å»ºå™¨æ¥åˆ›å»ºå¯¹è±¡ã€‚</span>
		<span class="hljs-keyword">final</span> InstanceCreator&lt;T&gt; rawTypeCreator = (InstanceCreator)<span class="hljs-built_in">this</span>.instanceCreators.get(rawType);
		<span class="hljs-keyword">if</span> (rawTypeCreator != <span class="hljs-literal">null</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectConstructor</span>&lt;T&gt;() {
				<span class="hljs-keyword">public</span> T <span class="hljs-title function_">construct</span><span class="hljs-params">()</span> {
					<span class="hljs-keyword">return</span> rawTypeCreator.createInstance(type);
				}
			};
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-comment">// 4.å¦‚æœæ­¥éª¤2å’Œæ­¥éª¤3éƒ½æ²¡æœ‰è·å–åˆ°å®ä¾‹åˆ›å»ºå™¨ï¼Œåˆ™å°è¯•è°ƒç”¨newDefaultConstructoræ–¹æ³•åˆ›å»ºä¸€ä¸ªé»˜è®¤æ„é€ å™¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è¿”å›è¯¥æ„é€ å™¨ï¼ˆæ— å‚æ„é€ å‡½æ•°ï¼‰</span>
			ObjectConstructor&lt;T&gt; defaultConstructor = <span class="hljs-built_in">this</span>.newDefaultConstructor(rawType);
			<span class="hljs-keyword">if</span> (defaultConstructor != <span class="hljs-literal">null</span>) {
				<span class="hljs-keyword">return</span> defaultConstructor;
			} <span class="hljs-keyword">else</span> {
				<span class="hljs-comment">// 5.å¦‚æœæ­¥éª¤4ä¸­æ²¡æœ‰åˆ›å»ºåˆ°é»˜è®¤æ„é€ å™¨ï¼Œåˆ™å°è¯•è°ƒç”¨newDefaultImplementationConstructoræ–¹æ³•åˆ›å»ºä¸€ä¸ªé»˜è®¤å®ç°æ„é€ å™¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è¿”å›è¯¥æ„é€ å™¨ï¼ˆå®¹å™¨ç±»å‹ï¼‰</span>
				ObjectConstructor&lt;T&gt; defaultImplementation = <span class="hljs-built_in">this</span>.newDefaultImplementationConstructor(type, rawType);
				<span class="hljs-comment">// 6.å¦‚æœæ­¥éª¤5ä¸­æ²¡æœ‰åˆ›å»ºåˆ°é»˜è®¤å®ç°æ„é€ å™¨ï¼Œåˆ™å°è¯•è°ƒç”¨newUnsafeAllocatoræ–¹æ³•åˆ›å»ºä¸€ä¸ªä¸å®‰å…¨çš„åˆ†é…å™¨æ„é€ å™¨ï¼Œæœ€åè¿”å›è¯¥æ„é€ å™¨ï¼ˆUnsafeï¼‰</span>
				<span class="hljs-keyword">return</span> defaultImplementation != <span class="hljs-literal">null</span> ? defaultImplementation : <span class="hljs-built_in">this</span>.newUnsafeAllocator(type, rawType);
			}
		}
	}
}

</code></pre>
<p>é€šè¿‡ä¸Šæ–‡æˆ‘ä»¬åˆ†æå¯çŸ¥ï¼Œå½“Javaç±»æœªæä¾›é»˜è®¤çš„æ— å‚æ„é€ å‡½æ•°æ—¶ï¼ŒGsonä¼šä½¿ç”¨ Unsafe API æ¥åˆ›å»ºå¯¹è±¡ï¼Œè¿™ç§åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ä¸ä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œå› æ­¤ä¼šå¯¼è‡´ä»¥ä¸‹å‡ ä¸ªå¯èƒ½çš„é—®é¢˜ï¼š</p>
<ul>
<li>é»˜è®¤å€¼ä¸¢å¤±ï¼›</li>
<li>Kotlin éç©ºç±»å‹å¤±æ•ˆï¼›</li>
<li>åˆå§‹åŒ–å—å¯èƒ½ä¸ä¼šæ­£å¸¸æ‰§è¡Œ</li>
</ul>
<p>å…·ä½“æºç é˜…è¯»å¯ä»¥å‚è€ƒï¼š<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">ã€Œèµç ã€æ›´ä¼˜é›…çš„ä½¿ç”¨Gsonè§£æ</a></p>
<h2 data-id="heading-1">Kotlin Serialization VS Gson</h2>
<p>ä¸ºäº†è§£å†³æ­¤é—®é¢˜ï¼Œå®˜æ–¹æ¨å‡ºäº† kotlin serializationåº“ï¼Œè®©ä½ çš„ <code>data class</code>èƒ½ä¿æŒå®ƒçš„ç‰¹æ€§ï¼Œä¸ä¼šä¸¢å¤±æ•°æ®ã€‚ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åŠ ä¸€ä¸ªæ³¨è§£<code>@Serializable</code></p>
<h3 data-id="heading-2">é»˜è®¤å€¼</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Serializable</span> <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> age: String = <span class="hljs-string">"10"</span>)

<span class="hljs-keyword">val</span> jsonString = <span class="hljs-string">"""{ "name": "Tom" }"""</span> 
<span class="hljs-keyword">val</span> objByGson = 
    Gson().fromJson(jsonString, Student::<span class="hljs-keyword">class</span>.java) <span class="hljs-comment">// ç»“æœ Student(name=Tom, age=null)</span>
<span class="hljs-keyword">val</span> objByKotlinxSerialization = 
    Json.decodeFromString&lt;Student&gt;(jsonString)<span class="hljs-comment">// ç»“æœ Student(name=Tom, age=10)</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ° kotlinx.serialization æ­£ç¡®çš„å¤„ç†äº†é»˜è®¤å€¼ï¼Œè€ŒGsonå¿½ç•¥äº†é»˜è®¤å€¼</p>
<h3 data-id="heading-3">ç©ºå®‰å…¨</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Serializable</span> <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> age: String)

<span class="hljs-keyword">val</span> jsonString = <span class="hljs-string">"""{ "name": "Tom" }"""</span> 
<span class="hljs-keyword">val</span> objByGson = 
    Gson().fromJson(jsonString, Student::<span class="hljs-keyword">class</span>.java) <span class="hljs-comment">// ç»“æœ Student(name=Tom, age=null)</span>
<span class="hljs-keyword">val</span> objByKotlinxSerialization = 
    Json.decodeFromString&lt;Student&gt;(jsonString)<span class="hljs-comment">// ç»“æœ æŠ›å‡ºå¼‚å¸¸</span>
</code></pre>
<p>ä¸ºä¿è¯ kotlin çš„ç©ºå®‰å…¨ç‰¹æ€§ï¼Œkotlinx.serialization åœ¨ååºåˆ—åŒ–æ—¶ï¼Œå¦‚æœæŸä¸ªä¸å¯ç©ºç±»å‹çš„å­—æ®µåœ¨ json å­—ç¬¦ä¸²ä¸­ç¼ºå¤±åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š<code>kotlinx.serialization.MissingFieldException: Field 'age' is required for type with serial name 'Student'</code>,è€ŒGson åˆ™ä¼šåºåˆ—åŒ–æˆåŠŸï¼Œä½†æ˜¯ data class çš„ä¸å¯ç©ºç±»å‹å®šä¹‰ä¾¿è¢«çªç ´ï¼Œè¿™è¿èƒŒäº†å¼€å‘è€…çš„æœŸæœ›ã€‚<strong>è¿™å…¶å®æ˜¯ Gson åœ¨ kotlin ä¸­ååºåˆ—åŒ–é‡åˆ°æœ€éº»çƒ¦çš„é—®é¢˜ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œæ˜æ˜å®šä¹‰çš„ç±»å‹æ˜¯ä¸å¯ç©ºï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¼šæŠ›å‡º NullPointerException å‘¢ï¼Ÿ</strong></p>
<p>kotlinx.serialization çš„è¿™ä¸€ç‰¹æ€§ä¼šè®©æˆ‘ä»¬åœ¨å£°æ˜data classæ—¶æ›´åŠ ä¸¥è°¨ï¼Œä½ éœ€è¦å¯¹å­—æ®µçš„å¯ç©ºä¸å¦æœ‰è‡ªå·±çš„ä¸€ç•ªæ€è€ƒ â€”â€” è¿™æ˜¾ç„¶æ¯”æ— è„‘å°†å­—æ®µå£°æ˜ä¸ºå¯ç©ºç±»å‹è¦å¥½çš„å¤šå¾—å¤šã€‚å½“ç„¶ï¼Œå¦‚æœä½ è¿˜æ˜¯æ‹…å¿ƒç”±æ­¤å¼•å‘çš„å´©æºƒé—®é¢˜ï¼ŒåŒæ—¶åˆä¸æƒ³åç»­çš„ä½¿ç”¨ä¸ŠåŠ ä¸Šä¸€å †?.çš„å¯ç©ºè°ƒç”¨åˆ¤æ–­ï¼Œä½ å¯ä»¥ç»™å…¶èµ‹ä¸Šé»˜è®¤å€¼ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Serializable</span> <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> age: String)
</code></pre>
<h3 data-id="heading-4">åºåˆ—åŒ–ä¸‰æ–¹åº“</h3>
<p>ä¸å°‘åŒå­¦çœ‹åˆ°è¿™è¾¹å°±æƒ³åˆ°ä¸€ç‚¹ï¼Œå¦‚æœä½¿ç”¨æ³¨è§£ï¼Œé‚£å¦‚ä½•å­¦å†å™©è€—ä¸‰æ–¹åº“çš„ç±»å‘¢ï¼Ÿæ˜¯ä¸ªå¥½é—®é¢˜ï¼Œè¿™ç¡®å®æ˜¯ Kotlinx.serialization ä¸å¦‚ Gson æ–¹ä¾¿çš„åœ°æ–¹ã€‚ä¸è¿‡å®˜æ–¹ä¹Ÿæä¾›äº†ç›¸å…³æ”¯æŒï¼Œç›¸å¯¹è€Œè¨€éº»çƒ¦äº†ç‚¹ã€‚
ä»¥ä¸‹æ˜¯AIç»™å‡ºçš„ç­”æ¡ˆï¼š</p>
<hr/>
<h4 data-id="heading-5">ğŸŒ° ç¤ºä¾‹ï¼šåºåˆ—åŒ–Â <code>java.time.LocalDateTime</code></h4>
<p>ç”±äºä½ ä¸èƒ½ç»™ç¬¬ä¸‰æ–¹ç±»åŠ  <code>@Serializable</code>ï¼Œå¿…é¡»ï¼š</p>
<ol>
<li>
<p><strong>ä¸ºè¯¥ç±»å‹ç¼–å†™ä¸€ä¸ªÂ <code>KSerializer&lt;T&gt;</code>Â å®ç°</strong></p>
</li>
<li>
<p><strong>åœ¨ä½¿ç”¨å¤„æ˜¾å¼æŒ‡å®šè¿™ä¸ª serializer</strong>ï¼ˆé€šè¿‡Â <code>@Serializable(with = YourSerializer::class)</code>ï¼‰</p>
<ul>
<li>æˆ–é€šè¿‡Â <code>SerializersModule</code>Â å…¨å±€æ³¨å†Œä¸ºÂ <strong>contextual serializer</strong></li>
</ul>
</li>
</ol>
<p>å‡è®¾ä½ è¦åºåˆ—åŒ– JDK8 çš„ <code>LocalDateTime</code>ï¼ˆä½ æ— æ³•ä¿®æ”¹å®ƒï¼‰ã€‚</p>
<h5 data-id="heading-6">æ­¥éª¤ 1ï¼šç¼–å†™Â <code>KSerializer</code></h5>
<pre><code class="hljs">Kotlin

</code></pre>
<blockquote>
<p>ğŸ’¡ ä½¿ç”¨ <code>object</code> å•ä¾‹ï¼Œé¿å…é‡å¤åˆ›å»ºã€‚</p>
</blockquote>
<hr/>
<h5 data-id="heading-7">æ­¥éª¤ 2ï¼šåœ¨ä½ çš„æ•°æ®ç±»ä¸­ä½¿ç”¨ï¼ˆæ˜¾å¼ç»‘å®šï¼‰</h5>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">object</span> LocalDateTimeSerializer : KSerializer&lt;LocalDateTime&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> descriptor = PrimitiveSerialDescriptor(<span class="hljs-string">"LocalDateTime"</span>, kotlinx.serialization.descriptors.PrimitiveKind.STRING)

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">serialize</span><span class="hljs-params">(encoder: <span class="hljs-type">Encoder</span>, value: <span class="hljs-type">LocalDateTime</span>)</span></span> {
        encoder.encodeString(value.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME))
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">deserialize</span><span class="hljs-params">(decoder: <span class="hljs-type">Decoder</span>)</span></span>: LocalDateTime {
        <span class="hljs-keyword">return</span> LocalDateTime.parse(decoder.decodeString(), DateTimeFormatter.ISO_LOCAL_DATE_TIME)
    }
}
</code></pre>
<p>âœ… è¿™æ ·å°±èƒ½æ­£å¸¸ç¼–è§£ç ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">val</span> event = Event(<span class="hljs-string">"Meeting"</span>, LocalDateTime.of(<span class="hljs-number">2025</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">14</span>, <span class="hljs-number">30</span>))
<span class="hljs-keyword">val</span> json = Json.encodeToString(event)
<span class="hljs-comment">// {"title":"Meeting","timestamp":"2025-01-10T14:30"}</span>

<span class="hljs-keyword">val</span> decoded = Json.decodeFromString&lt;Event&gt;(json)
</code></pre>
<hr/>
<h4 data-id="heading-8">ğŸ” æ›¿ä»£æ–¹æ¡ˆï¼šå…¨å±€æ³¨å†Œä¸º Contextual Serializer</h4>
<p>å¦‚æœä½ <strong>å¤šå¤„ä½¿ç”¨ <code>LocalDateTime</code></strong>ï¼Œä¸æƒ³æ¯ä¸ªå­—æ®µéƒ½å†™ <code>@Serializable(with = ...)</code>ï¼Œå¯ä»¥å…¨å±€æ³¨å†Œï¼š</p>
<h5 data-id="heading-9">æ­¥éª¤ 1ï¼šåˆ›å»ºÂ <code>SerializersModule</code></h5>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">val</span> appModule = SerializersModule {
    contextual(LocalDateTime::<span class="hljs-keyword">class</span>, LocalDateTimeSerializer)
}
</code></pre>
<h5 data-id="heading-10">æ­¥éª¤ 2ï¼šæ„å»ºå¸¦ module çš„Â <code>Json</code>Â å®ä¾‹</h5>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">val</span> JsonWithTime = Json {
    serializersModule = appModule
    <span class="hljs-comment">// å¯é€‰ï¼šignoreUnknownKeys = true ç­‰</span>
}
</code></pre>
<h5 data-id="heading-11">æ­¥éª¤ 3ï¼šåœ¨æ•°æ®ç±»ä¸­<strong>ä¸è¦åŠ Â <code>with</code></strong>ï¼Œç›´æ¥ä½¿ç”¨ç±»å‹</h5>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Event</span>(
    <span class="hljs-keyword">val</span> title: String,
    <span class="hljs-keyword">val</span> timestamp: LocalDateTime  <span class="hljs-comment">// âœ… è‡ªåŠ¨ä½¿ç”¨ contextual serializer</span>
)
</code></pre>
<h5 data-id="heading-12">ä½¿ç”¨æ—¶å¿…é¡»ç”¨é…ç½®å¥½çš„Â <code>Json</code>Â å®ä¾‹ï¼š</h5>
<pre><code class="hljs language-ini" lang="ini">Kotlin
ç¼–è¾‘
1val <span class="hljs-attr">jsonStr</span> = JsonWithTime.encodeToString(event)
2val <span class="hljs-attr">event2</span> = JsonWithTime.decodeFromString&lt;Event&gt;(jsonStr)
</code></pre>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šå¦‚æœä½¿ç”¨é»˜è®¤çš„ <code>Json.encodeToString()</code>ï¼ˆæ—  moduleï¼‰ï¼Œä¼šæŠ¥é”™ï¼š<br/>
<code>Serializer for class 'LocalDateTime' is not found.</code></p>
</blockquote>
<hr/>
<h2 data-id="heading-13">â— é‡è¦é™åˆ¶ä¸æ³¨æ„äº‹é¡¹</h2>

























<table><thead><tr><th>é—®é¢˜</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ä¸èƒ½è‡ªåŠ¨å‘ç°</strong></td><td><code>kotlinx.serialization</code>Â <strong>ä¸ä¼šè‡ªåŠ¨ä¸ºæœªæ³¨è§£çš„ç±»å‹ç”Ÿæˆ serializer</strong>ï¼Œå¿…é¡»æ˜¾å¼æä¾›</td></tr><tr><td><strong>æ³›å‹æ”¯æŒéœ€å°å¿ƒ</strong></td><td>å¯¹äºÂ <code>List&lt;Point&gt;</code>ï¼Œä½ éœ€è¦ï¼š <code>ListSerializer(PointSerializer)</code>Â æˆ–åœ¨ module ä¸­æ³¨å†ŒÂ <code>Point</code>Â åä½¿ç”¨Â <code>serializer&lt;List&lt;Point&gt;&gt;()</code></td></tr><tr><td><strong>å¿…é¡»ç”¨æ­£ç¡®çš„Â <code>Json</code>Â å®ä¾‹</strong></td><td>å¦‚æœç”¨äº†Â <code>contextual</code>ï¼ŒåŠ¡å¿…ä½¿ç”¨å¸¦Â <code>serializersModule</code>Â çš„Â <code>Json</code>Â å¯¹è±¡</td></tr><tr><td><strong>ä¸æ”¯æŒè¿è¡Œæ—¶åå°„</strong></td><td>æ‰€æœ‰åºåˆ—åŒ–é€»è¾‘å¿…é¡»åœ¨ç¼–è¯‘æœŸç¡®å®šï¼Œæ— æ³•åƒ Gson é‚£æ ·åŠ¨æ€è§£æä»»æ„ç±»</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-14">âœ… æœ€ä½³å®è·µå»ºè®®</h2>
<ol>
<li><strong>ä¼˜å…ˆä½¿ç”¨Â <code>@Serializable(with = ...)</code></strong><br/>
é€‚ç”¨äºå±€éƒ¨ã€æ˜ç¡®çš„åœºæ™¯ï¼Œä»£ç æ¸…æ™°ã€‚</li>
<li><strong>å¤šå¤„ä½¿ç”¨ â†’ ç”¨Â <code>SerializersModule</code>Â +Â <code>contextual</code></strong><br/>
é¿å…é‡å¤æ³¨è§£ï¼Œä½†è¦ç¡®ä¿æ‰€æœ‰ç¼–è§£ç éƒ½èµ°åŒä¸€ä¸ªÂ <code>Json</code>Â å®ä¾‹ã€‚</li>
<li><strong>ä¸ºå¸¸ç”¨ç±»å‹å°è£…å·¥å…·</strong><br/>
æ¯”å¦‚åˆ›å»ºÂ <code>CommonSerializers.kt</code>Â é›†ä¸­ç®¡ç†Â <code>LocalDateTime</code>ã€<code>Uri</code>ã€<code>UUID</code>Â ç­‰ã€‚</li>
<li><strong>é¿å…ç›´æ¥åºåˆ—åŒ–ç¬¬ä¸‰æ–¹ç±»</strong><br/>
æ›´å®‰å…¨çš„åšæ³•ï¼šåˆ›å»ºè‡ªå·±çš„Â <code>@Serializable</code>Â DTOï¼Œå†…éƒ¨è½¬æ¢ç¬¬ä¸‰æ–¹ç±»ï¼ˆè§£è€¦ + æ§åˆ¶å­—æ®µï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-15">å…¶ä»–æ›¿ä»£åº“ Moshi</h3>
<p>Moshi ä¹Ÿæ˜¯å®˜æ–¹æ¨èçš„ kotlin åºåˆ—åŒ–å·¥å…·åº“ï¼Œæœ¬æ–‡å°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œæƒ³äº†è§£çš„åŒå­¦å¯ä»¥è®¿é—®<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsquare%2Fmoshi" target="_blank" title="https://github.com/square/moshi" ref="nofollow noopener noreferrer">Moshi</a>,å…¶æ¥è‡ªäºå¤§åé¼é¼çš„ <strong>Suqare</strong> å¼€æºã€‚</p>
<h2 data-id="heading-16">æ€»ç»“</h2>
<p>å·¥å…·å°±æ˜¯å·¥å…·ï¼Œä¸ä¸€å®šæ˜¯æœ€å®Œç¾çš„ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å½“å‰é¡¹ç›®éœ€æ±‚é€‰æ‹©åˆé€‚å¼€å‘è€…è‡ªå·±çš„å·¥å…·ï¼Œä¸æ˜¯è¯´ä¸€å®šè¦ç”¨å“ªä¸ªã€‚å¾ˆæ˜¾ç„¶ï¼Œå¦‚æœä½ çš„é¡¹ç›®Gson å·²ç»å­˜åœ¨äº†å¾ˆä¹…ï¼Œæƒ³ç°åœ¨æ›¿æ¢æ‰ä¹Ÿä¸ç°å®ã€‚ä½†å¦‚æœä½ åœ¨å½“å‰çš„ Kotlin é¡¹ç›®ä¸­ä½¿ç”¨ Gsonï¼Œä½ å¿…é¡»è¦çŸ¥é“å½“å‰å­˜åœ¨çš„é£é™©ç‚¹ï¼Œå¹¶å»è§„é¿å®ƒã€‚å¦‚æœä½ éœ€è¦åœ¨æ–°é¡¹ç›®ä¸­åºåˆ—åŒ–ï¼Œé‚£ä¹ˆæ¯«ä¸çŠ¹è±«ï¼ŒKotlinx.serialization æˆ–è€… Moshi æ˜¯ä½ æ›´å¥½çš„é€‰æ‹©ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ27ï¼‰Hibernateçš„æŸ¥è¯¢ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592148975848996907</link>    <guid>https://juejin.cn/post/7592148975848996907</guid>    <pubDate>2026-01-07T11:53:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975848996907" data-draft-id="7592255257348112425" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ27ï¼‰Hibernateçš„æŸ¥è¯¢ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T11:53:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ27ï¼‰Hibernateçš„æŸ¥è¯¢ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T11:53:01.000Z" title="Wed Jan 07 2026 11:53:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„æŸ¥è¯¢ç­–ç•¥</h3>
<p>Hibernateçš„æŸ¥è¯¢ç­–ç•¥å†³å®šäº†å¦‚ä½•ä»æ•°æ®åº“ä¸­æ£€ç´¢æ•°æ®ã€‚å®ƒåŒ…æ‹¬å¤šç§ç­–ç•¥ï¼Œå¦‚å³æ—¶åŠ è½½ï¼ˆEager Loadingï¼‰ã€å»¶è¿ŸåŠ è½½ï¼ˆLazy Loadingï¼‰å’Œæ‰¹é‡æ£€ç´¢ï¼ˆBatch Fetchingï¼‰ç­‰ã€‚è¿™äº›ç­–ç•¥å¯ä»¥æ˜¾è‘—å½±å“åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨ï¼Œå› æ­¤äº†è§£å’Œé€‰æ‹©åˆé€‚çš„æŸ¥è¯¢ç­–ç•¥éå¸¸é‡è¦ã€‚</p>
<h3 data-id="heading-1">ä¸»è¦æŸ¥è¯¢ç­–ç•¥</h3>
<ol>
<li><strong>å³æ—¶åŠ è½½ï¼ˆEager Loadingï¼‰</strong>ï¼šåœ¨åŠ è½½å®ä½“æ—¶ï¼ŒåŒæ—¶åŠ è½½å…¶å…³è”çš„å®ä½“ã€‚</li>
<li><strong>å»¶è¿ŸåŠ è½½ï¼ˆLazy Loadingï¼‰</strong>ï¼šåªæœ‰åœ¨è®¿é—®å…³è”å®ä½“æ—¶ï¼Œæ‰åŠ è½½è¯¥å®ä½“ã€‚</li>
<li><strong>æ‰¹é‡æ£€ç´¢ï¼ˆBatch Fetchingï¼‰</strong>ï¼šåœ¨ä¸€æ¬¡æŸ¥è¯¢ä¸­åŠ è½½å¤šä¸ªå…³è”çš„å®ä½“ã€‚</li>
</ol>
<h3 data-id="heading-2">é…ç½®æŸ¥è¯¢ç­–ç•¥çš„æ–¹å¼</h3>
<ol>
<li><strong>åœ¨æ˜ å°„æ–‡ä»¶æˆ–æ³¨è§£ä¸­é…ç½®</strong>ã€‚</li>
<li><strong>åœ¨æŸ¥è¯¢ä¸­æŒ‡å®šï¼ˆå¦‚HQLæˆ–CriteriaæŸ¥è¯¢ï¼‰</strong>ã€‚</li>
</ol>
<h3 data-id="heading-3">ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-4">é…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-5">å®ä½“ç±» <code>Person</code> å’Œ <code>Address</code></h4>
<h5 data-id="heading-6">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;
<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-meta">@OneToMany(mappedBy = "person", fetch = FetchType.LAZY, cascade = CascadeType.ALL)</span>
    <span class="hljs-keyword">private</span> Set&lt;Address&gt; addresses = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>
    
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-keyword">public</span> Set&lt;Address&gt; <span class="hljs-title function_">getAddresses</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> addresses;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAddresses</span><span class="hljs-params">(Set&lt;Address&gt; addresses)</span> {
        <span class="hljs-built_in">this</span>.addresses = addresses;
    }
}
</code></pre>
<h5 data-id="heading-7">Addressç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "address")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "street")</span>
    <span class="hljs-keyword">private</span> String street;

    <span class="hljs-meta">@ManyToOne</span>
    <span class="hljs-meta">@JoinColumn(name = "person_id", nullable = false)</span>
    <span class="hljs-keyword">private</span> Person person;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">(String street, Person person)</span> {
        <span class="hljs-built_in">this</span>.street = street;
        <span class="hljs-built_in">this</span>.person = person;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>
    
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStreet</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> street;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStreet</span><span class="hljs-params">(String street)</span> {
        <span class="hljs-built_in">this</span>.street = street;
    }

    <span class="hljs-keyword">public</span> Person <span class="hljs-title function_">getPerson</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> person;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPerson</span><span class="hljs-params">(Person person)</span> {
        <span class="hljs-built_in">this</span>.person = person;
    }
}
</code></pre>
<h3 data-id="heading-8">å³æ—¶åŠ è½½å’Œå»¶è¿ŸåŠ è½½ç¤ºä¾‹</h3>
<h5 data-id="heading-9">HibernateUtilç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h4 data-id="heading-10">å³æ—¶åŠ è½½ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateEagerLoadingExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertData(sessionFactory);

        <span class="hljs-comment">// å³æ—¶åŠ è½½ç¤ºä¾‹</span>
        eagerLoadingExample(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"123 Street"</span>, person);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"456 Avenue"</span>, person);
            person.getAddresses().add(address1);
            person.getAddresses().add(address2);

            session.save(person);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted Person and Addresses"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eagerLoadingExample</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–Personå®ä½“ï¼Œå¹¶åŒæ—¶åŠ è½½å…¶å…³è”çš„Addresså®ä½“ï¼ˆå³æ—¶åŠ è½½ï¼‰</span>
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"Person: "</span> + person.getName());
                <span class="hljs-keyword">for</span> (Address address : person.getAddresses()) {
                    System.out.println(<span class="hljs-string">"Address: "</span> + address.getStreet());
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-11">å»¶è¿ŸåŠ è½½ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateLazyLoadingExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertData(sessionFactory);

        <span class="hljs-comment">// å»¶è¿ŸåŠ è½½ç¤ºä¾‹</span>
        lazyLoadingExample(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"123 Street"</span>, person);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"456 Avenue"</span>, person);
            person.getAddresses().add(address1);
            person.getAddresses().add(address2);

            session.save(person);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted Person and Addresses"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">lazyLoadingExample</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–Personå®ä½“ï¼Œæ­¤æ—¶ä¸ä¼šç«‹å³åŠ è½½å…¶å…³è”çš„Addresså®ä½“ï¼ˆå»¶è¿ŸåŠ è½½ï¼‰</span>
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"Person: "</span> + person.getName());
                <span class="hljs-comment">// è®¿é—®å…³è”çš„Addresså®ä½“æ—¶æ‰ä¼šè§¦å‘åŠ è½½</span>
                <span class="hljs-keyword">for</span> (Address address : person.getAddresses()) {
                    System.out.println(<span class="hljs-string">"Address: "</span> + address.getStreet());
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-12">æ‰¹é‡æ£€ç´¢ç¤ºä¾‹</h3>
<p>æ‰¹é‡æ£€ç´¢é€šè¿‡åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨<code>@BatchSize</code>æ³¨è§£æˆ–Hibernateçš„é…ç½®æ–‡ä»¶ä¸­çš„ç›¸åº”å±æ€§æ¥å®ç°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> org.hibernate.annotations.BatchSize;

<span class="hljs-keyword">import</span> javax.persistence.*;
<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-meta">@BatchSize(size = 10)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

 
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ28ï¼‰Hibernateçš„çº§è”æ“ä½œæ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592148975849013291</link>    <guid>https://juejin.cn/post/7592148975849013291</guid>    <pubDate>2026-01-07T11:53:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975849013291" data-draft-id="7592159803411005476" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ28ï¼‰Hibernateçš„çº§è”æ“ä½œæ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T11:53:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ28ï¼‰Hibernateçš„çº§è”æ“ä½œæ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T11:53:40.000Z" title="Wed Jan 07 2026 11:53:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„çº§è”æ“ä½œ</h3>
<p>çº§è”æ“ä½œï¼ˆCascade Operationsï¼‰æ˜¯Hibernateæä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œé€šè¿‡å®ƒå¯ä»¥åœ¨çˆ¶å®ä½“ä¸Šæ‰§è¡Œæ“ä½œæ—¶ï¼Œè‡ªåŠ¨å¯¹å…¶å…³è”çš„å­å®ä½“æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚è¿™æ ·å¯ä»¥ç®€åŒ–ä»£ç ï¼Œé¿å…æ‰‹åŠ¨ç®¡ç†å…³è”å®ä½“çš„çŠ¶æ€ã€‚</p>
<p>çº§è”æ“ä½œçš„ä¸»è¦ç±»å‹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>CascadeType.PERSIST</strong>ï¼šåœ¨ä¿å­˜ï¼ˆpersistï¼‰çˆ¶å®ä½“æ—¶ï¼Œè‡ªåŠ¨ä¿å­˜å…³è”çš„å­å®ä½“ã€‚</li>
<li><strong>CascadeType.MERGE</strong>ï¼šåœ¨åˆå¹¶ï¼ˆmergeï¼‰çˆ¶å®ä½“æ—¶ï¼Œè‡ªåŠ¨åˆå¹¶å…³è”çš„å­å®ä½“ã€‚</li>
<li><strong>CascadeType.REMOVE</strong>ï¼šåœ¨åˆ é™¤ï¼ˆremoveï¼‰çˆ¶å®ä½“æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤å…³è”çš„å­å®ä½“ã€‚</li>
<li><strong>CascadeType.DETACH</strong>ï¼šåœ¨åˆ†ç¦»ï¼ˆdetachï¼‰çˆ¶å®ä½“æ—¶ï¼Œè‡ªåŠ¨åˆ†ç¦»å…³è”çš„å­å®ä½“ã€‚</li>
<li><strong>CascadeType.REFRESH</strong>ï¼šåœ¨åˆ·æ–°ï¼ˆrefreshï¼‰çˆ¶å®ä½“æ—¶ï¼Œè‡ªåŠ¨åˆ·æ–°å…³è”çš„å­å®ä½“ã€‚</li>
<li><strong>CascadeType.ALL</strong>ï¼šåŒ…æ‹¬ä»¥ä¸Šæ‰€æœ‰çº§è”æ“ä½œã€‚</li>
</ul>
<h3 data-id="heading-1">ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-2">é…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-3">å®ä½“ç±» <code>Person</code> å’Œ <code>Address</code></h4>
<h5 data-id="heading-4">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;
<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-meta">@OneToMany(mappedBy = "person", cascade = CascadeType.ALL, orphanRemoval = true)</span>
    <span class="hljs-keyword">private</span> Set&lt;Address&gt; addresses = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>
    
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-keyword">public</span> Set&lt;Address&gt; <span class="hljs-title function_">getAddresses</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> addresses;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAddresses</span><span class="hljs-params">(Set&lt;Address&gt; addresses)</span> {
        <span class="hljs-built_in">this</span>.addresses = addresses;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addAddress</span><span class="hljs-params">(Address address)</span> {
        addresses.add(address);
        address.setPerson(<span class="hljs-built_in">this</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeAddress</span><span class="hljs-params">(Address address)</span> {
        addresses.remove(address);
        address.setPerson(<span class="hljs-literal">null</span>);
    }
}
</code></pre>
<h5 data-id="heading-5">Addressç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "address")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "street")</span>
    <span class="hljs-keyword">private</span> String street;

    <span class="hljs-meta">@ManyToOne</span>
    <span class="hljs-meta">@JoinColumn(name = "person_id", nullable = false)</span>
    <span class="hljs-keyword">private</span> Person person;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">(String street, Person person)</span> {
        <span class="hljs-built_in">this</span>.street = street;
        <span class="hljs-built_in">this</span>.person = person;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>
    
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStreet</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> street;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStreet</span><span class="hljs-params">(String street)</span> {
        <span class="hljs-built_in">this</span>.street = street;
    }

    <span class="hljs-keyword">public</span> Person <span class="hljs-title function_">getPerson</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> person;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPerson</span><span class="hljs-params">(Person person)</span> {
        <span class="hljs-built_in">this</span>.person = person;
    }
}
</code></pre>
<h3 data-id="heading-6">çº§è”æ“ä½œç¤ºä¾‹</h3>
<h5 data-id="heading-7">HibernateUtilç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h4 data-id="heading-8">çº§è”ä¿å­˜ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCascadeSaveExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥æ•°æ®</span>
        insertPersonWithAddresses(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertPersonWithAddresses</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"123 Street"</span>, person);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"456 Avenue"</span>, person);

            person.addAddress(address1);
            person.addAddress(address2);

            <span class="hljs-comment">// ä¿å­˜Personå¯¹è±¡æ—¶ï¼Œçº§è”ä¿å­˜Addresså¯¹è±¡</span>
            session.save(person);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted Person with Addresses"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-9">çº§è”åˆ é™¤ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCascadeDeleteExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// åˆ é™¤æ•°æ®</span>
        deletePersonWithAddresses(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deletePersonWithAddresses</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–Personå¯¹è±¡</span>
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// åˆ é™¤Personå¯¹è±¡æ—¶ï¼Œçº§è”åˆ é™¤Addresså¯¹è±¡</span>
                session.delete(person);
                transaction.commit();
                System.out.println(<span class="hljs-string">"Deleted Person with Addresses"</span>);
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-10">çº§è”æ›´æ–°ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCascadeUpdateExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ›´æ–°æ•°æ®</span>
        updatePersonWithAddresses(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updatePersonWithAddresses</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–Personå¯¹è±¡</span>
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// æ›´æ–°Personå¯¹è±¡</span>
                person.setName(<span class="hljs-string">"Jane Doe"</span>);
                person.setAge(<span class="hljs-number">35</span>);

                <span class="hljs-comment">// çº§è”æ›´æ–°Addresså¯¹è±¡</span>
                <span class="hljs-keyword">for</span> (Address address : person.getAddresses()) {
                    address.setStreet(address.getStreet() + <span class="hljs-string">" Updated"</span>);
                }

                session.update(person);
                transaction.commit();
                System.out.println(<span class="hljs-string">"Updated Person with Addresses"</span>);
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-11">çº§è”æ“ä½œçš„è¯¦ç»†è§£é‡Š</h3>
<ol>
<li>
<p><strong>é…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></strong>ï¼šå®šä¹‰æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€Hibernateå±æ€§é…ç½®ä»¥åŠå®ä½“ç±»æ˜ å°„é…ç½®ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
</code></pre>
</li>
<li>
<p><strong>å®ä½“ç±» <code>Person</code> å’Œ <code>Address</code></strong>ï¼š</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±åº¦è§£æå®˜æ–¹ Spring Boot ç¨³å®šç‰ˆæœ¬åŠ JDK é…å¥—ç­–ç•¥]]></title>    <link>https://juejin.cn/post/7592438587389427750</link>    <guid>https://juejin.cn/post/7592438587389427750</guid>    <pubDate>2026-01-07T11:55:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592438587389427750" data-draft-id="7592455394062139430" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±åº¦è§£æå®˜æ–¹ Spring Boot ç¨³å®šç‰ˆæœ¬åŠ JDK é…å¥—ç­–ç•¥"/> <meta itemprop="keywords" content="åç«¯,Java,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-07T11:55:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢œæ·¡æ…•æ½‡"/> <meta itemprop="url" content="https://juejin.cn/user/4494459266678318"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±åº¦è§£æå®˜æ–¹ Spring Boot ç¨³å®šç‰ˆæœ¬åŠ JDK é…å¥—ç­–ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4494459266678318/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢œæ·¡æ…•æ½‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T11:55:31.000Z" title="Wed Jan 07 2026 11:55:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a6ed70f618f45f18c78afc916df4789~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aKc5reh5oWV5r2H:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768391730&amp;x-signature=r0nd5%2BhiI8LfkroRZgNV7Y8KmNA%3D" alt="Spring boot-1.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€å¼•è¨€</h2>
<p>Spring Boot è‡ª 2014 å¹´é—®ä¸–ä»¥æ¥ï¼Œå·²æˆä¸º Java ä¼ä¸šçº§å¼€å‘çš„æ ¸å¿ƒæ¡†æ¶ä¹‹ä¸€ã€‚å®ƒçš„æ ¸å¿ƒä»·å€¼åœ¨äºâ€œçº¦å®šä¼˜äºé…ç½®â€å’Œè‡ªåŠ¨åŒ–é…ç½®ï¼Œä½¿å¼€å‘è€…å¯ä»¥åœ¨æœ€çŸ­æ—¶é—´å†…æ„å»ºå¯è¿è¡Œçš„ç”Ÿäº§çº§åº”ç”¨ã€‚éšç€ Java ç”Ÿæ€å’Œäº‘åŸç”Ÿç¯å¢ƒçš„å¿«é€Ÿå‘å±•ï¼ŒSpring Boot ä¹Ÿåœ¨ä¸æ–­æ¼”è¿›ï¼Œä» 2.x ç³»åˆ—åˆ° 3.x ç³»åˆ—ï¼Œå†åˆ°æœ€æ–° 4.x ç³»åˆ—ï¼Œæ¯ä¸€æ¬¡ç‰ˆæœ¬è¿­ä»£éƒ½ä¼´éšç€ API è°ƒæ•´ã€æ¨¡å—åŒ–ä¼˜åŒ–åŠå¯¹æ–° JDK ç‰¹æ€§çš„æ”¯æŒã€‚</p>
<p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé€‰æ‹©åˆé€‚çš„ Spring Boot ç‰ˆæœ¬ä¸ä»…å…³ä¹åŠŸèƒ½ï¼Œè¿˜ç›´æ¥å½±å“ç³»ç»Ÿçš„<strong>ç¨³å®šæ€§ã€é•¿æœŸç»´æŠ¤æˆæœ¬ä»¥åŠç”Ÿæ€å…¼å®¹æ€§</strong>ã€‚å› æ­¤ï¼Œæ·±å…¥åˆ†æå®˜æ–¹ç¨³å®šç‰ˆæœ¬ã€JDK æ”¯æŒå’Œå‡çº§ç­–ç•¥ï¼Œå¯¹äºä¼ä¸šçº§åº”ç”¨çš„æŠ€æœ¯å†³ç­–è‡³å…³é‡è¦ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€Spring Boot ç‰ˆæœ¬æ¼”è¿›ä¸å®˜æ–¹æ”¯æŒç°çŠ¶</h2>
<h3 data-id="heading-2">2.1 ç‰ˆæœ¬è¯­ä¹‰ä¸å‘å¸ƒç­–ç•¥</h3>
<p>Spring Boot é‡‡ç”¨ <strong>è¯­ä¹‰åŒ–ç‰ˆæœ¬å·</strong>ï¼š</p>
<pre><code class="hljs">MAJOR.MINOR.PATCH
</code></pre>
<ul>
<li><strong>MAJORï¼ˆä¸»ç‰ˆæœ¬ï¼‰</strong> ï¼šé‡å¤§æ¶æ„å˜æ›´ï¼Œå¯èƒ½ä¸å‘ä¸‹å…¼å®¹ï¼›</li>
<li><strong>MINORï¼ˆæ¬¡ç‰ˆæœ¬ï¼‰</strong> ï¼šæ–°å¢åŠŸèƒ½ä¸æ”¹è¿›ï¼ŒåŒæ—¶ä¿æŒå¤§éƒ¨åˆ†å‘åå…¼å®¹ï¼›</li>
<li><strong>PATCHï¼ˆè¡¥ä¸ï¼‰</strong> ï¼šä¿®å¤ bugã€æå‡ç¨³å®šæ€§ï¼Œä¸å¼•å…¥æ–°ç‰¹æ€§ã€‚</li>
</ul>
<p>å®˜æ–¹çš„ç‰ˆæœ¬æ”¯æŒç­–ç•¥æ˜ç¡®ï¼š</p>
<ul>
<li>æ¯ä¸ªç‰ˆæœ¬çš„ç¤¾åŒºæ”¯æŒçº¦ 13 ä¸ªæœˆï¼›</li>
<li>ä¼ä¸šå•†ä¸šæ”¯æŒå¯å»¶é•¿ç”Ÿå‘½å‘¨æœŸï¼Œå°¤å…¶æ˜¯é•¿æœŸç»´æŠ¤çš„ LTS ç‰ˆæœ¬ï¼›</li>
<li>ç‰ˆæœ¬å‡çº§ä¼šæä¾›è¿ç§»æŒ‡å—ï¼Œä»¥é™ä½ä¸å¯å…¼å®¹é£é™©ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3">2.2 Spring Boot ä¸»è¦ç‰ˆæœ¬æ¦‚è§ˆ</h3>











































































<table><thead><tr><th>ç‰ˆæœ¬</th><th>å‘å¸ƒæ—¥æœŸ</th><th>JDK æ”¯æŒ</th><th>ç¨³å®šç±»å‹</th><th>å®˜æ–¹æ”¯æŒçŠ¶æ€</th><th>ç¤¾åŒº / OSS</th><th>å•†ä¸šæ”¯æŒ</th><th>å¤‡æ³¨ / æœ€é€‚åˆ JDK</th></tr></thead><tbody><tr><td><strong>4.0.1</strong></td><td>2025-12-18</td><td>17â€“25</td><td>ä¸»çº¿ç¨³å®š</td><td>ç¤¾åŒºæ”¯æŒ ~2026-12</td><td>OSS</td><td>å•†ä¸šæ”¯æŒ ~2027-12</td><td>æœ€æ–°æ¨¡å—åŒ–ä¸ APIï¼Œæ¨è JDK 21/25 LTS</td></tr><tr><td><strong>4.0.0</strong></td><td>2025-11-30</td><td>17â€“25</td><td>ä¸»ç‰ˆæœ¬</td><td>ç¤¾åŒºæ”¯æŒ ~2026-12</td><td>OSS</td><td>å•†ä¸šæ”¯æŒå»¶é•¿</td><td>åˆå§‹ 4.0 åŸºçº¿ç‰ˆæœ¬ï¼Œå»ºè®®è¡¥ä¸å‡çº§åˆ° 4.0.1</td></tr><tr><td><strong>3.5.9</strong></td><td>2025-12-18</td><td>17â€“25</td><td>3.x æœ€åç¨³å®šç‰ˆ</td><td>ç¤¾åŒºæ”¯æŒ ~2026-06</td><td>OSS</td><td>å•†ä¸šæ”¯æŒ ~2032-06</td><td>æœ€æˆç†Ÿç¨³å®šç‰ˆæœ¬ï¼Œæ¨èç”Ÿäº§ä½¿ç”¨ JDK 17/21</td></tr><tr><td><strong>3.5.0</strong></td><td>2025-05-31</td><td>17â€“25</td><td>æ¬¡è¦ç¨³å®š</td><td>ç¤¾åŒºæ”¯æŒ ~2026-06</td><td>OSS</td><td>å•†ä¸šæ”¯æŒå»¶é•¿</td><td>3.5 ç³»åˆ—æ¡¥æ¢ç‰ˆæœ¬ï¼Œå…¼å®¹æ€§é«˜</td></tr><tr><td><strong>3.4.x / 3.3.x</strong></td><td>2024-05 / 2023-11</td><td>17â€“24</td><td>è¿‡æ—¶</td><td>OSS å·²ç»ˆæ­¢æˆ–å³å°†ç»“æŸ</td><td>OSS</td><td>å•†ä¸šçŸ­æœŸ</td><td>é€‚åˆæ—§ç³»ç»Ÿç»´æŠ¤</td></tr><tr><td><strong>2.7.x</strong></td><td>2022-05</td><td>8â€“21</td><td>å†å² LTS</td><td>OSS å·²ç»“æŸ</td><td>OSS</td><td>å•†ä¸šçŸ­æœŸ</td><td>é€‚åˆè€æ—§é¡¹ç›®ï¼Œéœ€é€æ­¥å‡çº§</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ ç»“è®ºï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œ3.5.x ç³»åˆ—æ˜¯å½“å‰æœ€æˆç†Ÿã€å…¼å®¹æ€§æœ€å¼ºçš„é€‰æ‹©ï¼Œè€Œ 4.0.1 ä»£è¡¨æœªæ¥ä¸»çº¿ï¼Œéœ€è¦æ›´å¤šéªŒè¯å’Œæµ‹è¯•ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€JDK æ”¯æŒåŠæœ€ä½³æ­é…ç­–ç•¥</h2>
<h3 data-id="heading-5">3.1 å„ç‰ˆæœ¬ JDK æ”¯æŒæƒ…å†µ</h3>






























<table><thead><tr><th>Spring Boot</th><th>æ”¯æŒ JDK èŒƒå›´</th><th>æ¨èæœ€ä¼˜ JDK</th></tr></thead><tbody><tr><td>4.0.x</td><td>17â€“25</td><td><strong>JDK 21 / 25</strong>ï¼ˆé•¿æœŸæ”¯æŒ &amp; æ–°ç‰¹æ€§ï¼‰</td></tr><tr><td>3.5.x</td><td>17â€“25</td><td><strong>JDK 17 / 21</strong>ï¼ˆç¨³å®šå¯é ï¼‰</td></tr><tr><td>3.4.x / 3.3.x</td><td>17â€“24</td><td><strong>JDK 17 / 21</strong></td></tr><tr><td>2.7.x</td><td>8â€“21</td><td><strong>JDK 11 / 17</strong>ï¼ˆå…¼å®¹æ—§ç”Ÿæ€ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-6">3.2 é€‰æ‹©å»ºè®®</h3>
<ol>
<li><strong>è¿½æ±‚ç¨³å®šæ€§</strong> â†’ Spring Boot 3.5.x + JDK 17/21 LTS</li>
<li><strong>é¢å‘æœªæ¥</strong> â†’ Spring Boot 4.0.1 + JDK 21/25 LTS</li>
<li><strong>è€æ—§ç³»ç»Ÿç»´æŒ</strong> â†’ Spring Boot 2.7.x + JDK 11</li>
</ol>
<blockquote>
<p>å°ç»“ï¼šé€‰æ‹© JDK æ—¶åº”å…¼é¡¾é•¿æœŸæ”¯æŒã€æ€§èƒ½ä¼˜åŒ–å’Œç”Ÿæ€å…¼å®¹æ€§ã€‚å¯¹äºä¼ä¸šç”Ÿäº§ç³»ç»Ÿï¼ŒLTS ç‰ˆæœ¬ï¼ˆ17/21/25ï¼‰æ˜¯é¦–é€‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">å››ã€ç‰ˆæœ¬ç¨³å®šæ€§åˆ†æ</h2>
<h3 data-id="heading-8">4.1 API ç¨³å®šæ€§</h3>
<ul>
<li><strong>3.5.x</strong>ï¼šç»è¿‡å¤šè½®è¡¥ä¸å’Œç¤¾åŒºéªŒè¯ï¼Œå‘åå…¼å®¹æ€§æå¼ºï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒï¼›</li>
<li><strong>4.0.x</strong>ï¼šæ¨¡å—åŒ–ä¸æ–°ç‰¹æ€§å¢åŠ ï¼Œéƒ¨åˆ† API ä¸å…¼å®¹ï¼Œå‡çº§éœ€å‚è€ƒå®˜æ–¹è¿ç§»æŒ‡å—ã€‚</li>
</ul>
<h3 data-id="heading-9">4.2 ç”Ÿäº§ç¯å¢ƒå®‰å…¨æ€§</h3>
<ul>
<li>è¡¥ä¸å‘å¸ƒé¢‘ç¹ï¼Œä¿®å¤æ¼æ´ã€ä¼˜åŒ–æ€§èƒ½ï¼›</li>
<li>å•†ä¸šæ”¯æŒå¯å»¶é•¿ç”Ÿå‘½å‘¨æœŸï¼Œç¡®ä¿é•¿æœŸè¿è¡Œå®‰å…¨ã€‚</li>
</ul>
<h3 data-id="heading-10">4.3 ç”Ÿæ€å…¼å®¹æ€§</h3>
<ul>
<li>Spring Cloud ä¸ 3.5.x å®Œç¾åŒ¹é…ï¼Œ4.0.x éœ€æµ‹è¯•ä¾èµ–ç‰ˆæœ¬ï¼›</li>
<li>å¤§å¤šæ•°ç¬¬ä¸‰æ–¹åº“ï¼ˆKafkaã€Redisã€GRPC ç­‰ï¼‰å¯¹ 3.5.x å…¼å®¹æˆç†Ÿã€‚</li>
</ul>
<h3 data-id="heading-11">4.4 å‡çº§æˆæœ¬</h3>
<ul>
<li><strong>3.x â†’ 3.5</strong>ï¼šé£é™©ä½ï¼Œä¸»è¦ä¸ºæ¬¡è¦ç‰ˆæœ¬æ›´æ–°ï¼›</li>
<li><strong>3.x â†’ 4.x</strong>ï¼šé£é™©ä¸­é«˜ï¼Œéœ€è¿ç§»ä»£ç ã€éªŒè¯è‡ªåŠ¨é…ç½®å’Œæ¨¡å—åŒ–å˜æ›´ï¼›</li>
<li><strong>JDK å‡çº§</strong>ï¼šéœ€ç¡®ä¿ä¾èµ–åº“æ”¯æŒæ–°ç‰ˆæœ¬ JDKã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-12">äº”ã€ç‰ˆæœ¬é€‰æ‹©ç­–ç•¥</h2>

























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èç‰ˆæœ¬</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>ä¼ä¸šçº§é•¿æœŸç»´æŠ¤ç³»ç»Ÿ</td><td>3.5.x æœ€æ–° Patch + JDK 17/21</td><td>æœ€æˆç†Ÿç¨³å®šï¼Œç¤¾åŒºå’Œå•†ä¸šæ”¯æŒæœ€é•¿</td></tr><tr><td>æ–°é¡¹ç›® / å‰æ²¿æŠ€æœ¯</td><td>4.0.1 + JDK 21/25</td><td>æ–°ç‰¹æ€§ã€æ¨¡å—åŒ–ä¼˜åŒ–ï¼Œä½†éœ€æµ‹è¯•ä¾èµ–å…¼å®¹</td></tr><tr><td>æ—§é¡¹ç›® / é€æ­¥å‡çº§</td><td>2.7.x + JDK 8/11/17 â†’ 3.5.x</td><td>ç¡®ä¿å¹³æ»‘è¿ç§»ï¼Œé™ä½é£é™©</td></tr></tbody></table>
<blockquote>
<p>æ ¸å¿ƒåŸåˆ™ï¼šä¼˜å…ˆé€‰æ‹© <strong>LTS JDK + æœ€æ–° Patch çš„ç¨³å®šä¸»çº¿ç‰ˆæœ¬</strong>ï¼Œå†æ ¹æ®é¡¹ç›®éœ€æ±‚è¯„ä¼°æ˜¯å¦é‡‡ç”¨æ–°ç‰ˆæœ¬åŠŸèƒ½ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-13">å…­ã€ç»“è®º</h2>
<p>é€šè¿‡å¯¹ Spring Boot å„ä¸ªç‰ˆæœ¬çš„æ·±åº¦åˆ†æï¼Œå¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<ol>
<li><strong>3.5.x ç³»åˆ—</strong> æ˜¯ç›®å‰ç”Ÿäº§ç¯å¢ƒæœ€å®‰å…¨ã€ç”Ÿæ€æœ€æˆç†Ÿçš„ç‰ˆæœ¬ï¼Œæ¨èæ­é… JDK 17/21ï¼›</li>
<li><strong>4.0.1</strong> æ˜¯æœªæ¥ä¸»çº¿ï¼Œæ”¯æŒæœ€æ–° JDK å’Œæ¨¡å—åŒ–åŠŸèƒ½ï¼Œé€‚åˆæ–°é¡¹ç›®ï¼Œä½†å‡çº§éœ€è°¨æ…ï¼›</li>
<li><strong>ç‰ˆæœ¬é€‰æ‹©åº”ç»“åˆ JDK æ”¯æŒã€ç”Ÿæ€å…¼å®¹æ€§ã€ç”Ÿå‘½å‘¨æœŸåŠç”Ÿäº§é£é™©</strong>ï¼Œä»¥å½¢æˆç¨³å®šã€å¯ç»´æŠ¤çš„é•¿æœŸæ¶æ„ï¼›</li>
<li><strong>å‡çº§ç­–ç•¥</strong>ï¼šè€é¡¹ç›®é€æ­¥å‡çº§ â†’ æ¡¥æ¢ç‰ˆæœ¬ï¼ˆ3.5.xï¼‰ â†’ æ–°ä¸»çº¿ï¼ˆ4.xï¼‰ï¼ŒåŒæ—¶ä¿æŒä¸¥æ ¼æµ‹è¯•å’Œä¾èµ–éªŒè¯ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-14">å‚è€ƒé“¾æ¥</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fspring.io%2Fblog%3Futm_source%3Dchatgpt.com" target="_blank" title="https://spring.io/blog?utm_source=chatgpt.com" ref="nofollow noopener noreferrer">Spring Boot å®˜æ–¹åšå®¢</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fspring.io%2Fsupport-policy%3Futm_source%3Dchatgpt.com" target="_blank" title="https://spring.io/support-policy?utm_source=chatgpt.com" ref="nofollow noopener noreferrer">Spring Boot æ”¯æŒç­–ç•¥</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fendoflife.date%2Fspring-boot%3Futm_source%3Dchatgpt.com" target="_blank" title="https://endoflife.date/spring-boot?utm_source=chatgpt.com" ref="nofollow noopener noreferrer">End of Life å®˜æ–¹ç»Ÿè®¡</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fspring-projects%2Fspring-boot%2Fwiki%2FSupported-Versions%3Futm_source%3Dchatgpt.com" target="_blank" title="https://github.com/spring-projects/spring-boot/wiki/Supported-Versions?utm_source=chatgpt.com" ref="nofollow noopener noreferrer">Spring Boot GitHub Wiki ç‰ˆæœ¬æ”¯æŒ</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode.srcOut]]></title>    <link>https://juejin.cn/post/7592255257348161577</link>    <guid>https://juejin.cn/post/7592255257348161577</guid>    <pubDate>2026-01-07T12:00:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592255257348161577" data-draft-id="7592255257348046889" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode.srcOut"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2026-01-07T12:00:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«æŸ´å°±æ˜¯æˆ‘"/> <meta itemprop="url" content="https://juejin.cn/user/272334614705575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode.srcOut
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/272334614705575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«æŸ´å°±æ˜¯æˆ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T12:00:52.000Z" title="Wed Jan 07 2026 12:00:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>srcOut</p>
<p><code>Keeps the source pixels that do not cover destination pixels. Discards source pixels that cover destination pixels. Discards all destination pixels.</code></p>
<p>è®¡ç®—å…¬å¼:</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdd28db3859345d88f728c2263188d5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768392052&amp;x-signature=NZZDf4SvHMScYxdnJdhODRKaT74%3D" alt="image.png" width="30%" loading="lazy"/>
<p>å½“dst.a = 1 çš„æ—¶å€™ a = 0 c = 0 ä¹Ÿå°±æ˜¯å®Œå…¨é€æ˜.ä¹Ÿå°±æ˜¯ä¸Šé¢é‚£æ®µè‹±æ–‡çš„æ„æ€ä¿ç•™éé‡å éƒ¨åˆ†çš„srcå’Œdst,ç§»é™¤é‡å éƒ¨åˆ†çš„srcå’Œdstã€‚æ¢å¥è¯å°±æ˜¯å¦‚æœä½ æƒ³åœ¨dstä¸Šæ¸…é™¤æŸéƒ¨åˆ†çš„å†…å®¹ï¼Œå°±å¯ä»¥ä½¿ç”¨srcOut.</p>
<p>ä¾‹å­:</p>
<pre><code class="hljs language-js" lang="js">  @override
  <span class="hljs-keyword">void</span> <span class="hljs-title function_">paint</span>(<span class="hljs-params">Canvas canvas, Size size</span>) {
    <span class="hljs-keyword">var</span> width = size.<span class="hljs-property">width</span>;
    <span class="hljs-keyword">var</span> height = size.<span class="hljs-property">height</span>;

    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), <span class="hljs-title class_">Paint</span>());
    <span class="hljs-title class_">Paint</span> dstPaint = <span class="hljs-title class_">Paint</span>()..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>;
    dstPaint.<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">20</span>;
    dstPaint.<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span>;

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">10</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">50</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">90</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">130</span>, dstPaint);

    <span class="hljs-keyword">var</span> srcPaint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">blue</span> <span class="hljs-comment">// æºé¢œè‰²ï¼šè“è‰²</span>
      ..<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span> <span class="hljs-comment">// å¡«å……æ¨¡å¼</span>
      ..<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">70</span>
      ..<span class="hljs-property">blendMode</span> = <span class="hljs-title class_">BlendMode</span>.<span class="hljs-property">srcOut</span>; <span class="hljs-comment">// æ··åˆæ¨¡å¼</span>
    <span class="hljs-comment">// canvas.drawRect(Rect.fromLTWH(0, 0, width, height), srcPaint);</span>
    canvas.<span class="hljs-title function_">drawImageRect</span>(image!, <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image!.<span class="hljs-property">width</span>.<span class="hljs-title function_">toDouble</span>(), image!.<span class="hljs-property">height</span>.<span class="hljs-title function_">toDouble</span>()), <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), srcPaint);

    canvas.<span class="hljs-title function_">restore</span>();
  }
</code></pre>
<p>æ•ˆæœå›¾:</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adef80d04bd54943bc38f2f82c9e3ad6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768392052&amp;x-signature=EtBzq2LzYY1fvvQQw5jj797fP0E%3D" alt="image.png" width="30%" loading="lazy"/>
<p>ç¯å½¢è·Ÿå›¾ç‰‡é‡å çš„éƒ¨åˆ†å˜æˆé€æ˜çš„ï¼Œsrcæœªé‡å éƒ¨åˆ†ä¿ç•™äº†ä¸‹æ¥ã€‚</p>
<p>ä¾‹å­2:</p>
<pre><code class="hljs language-js" lang="js">  @override
  <span class="hljs-keyword">void</span> <span class="hljs-title function_">paint</span>(<span class="hljs-params">Canvas canvas, Size size</span>) {
    <span class="hljs-keyword">var</span> width = size.<span class="hljs-property">width</span>;
    <span class="hljs-keyword">var</span> height = size.<span class="hljs-property">height</span>;

    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), <span class="hljs-title class_">Paint</span>());
    <span class="hljs-title class_">Paint</span> dstPaint = <span class="hljs-title class_">Paint</span>()..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>;
    dstPaint.<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">20</span>;
    dstPaint.<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span>;

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">10</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">50</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">90</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">130</span>, dstPaint);

    <span class="hljs-keyword">var</span> clipPath = ui.<span class="hljs-title class_">Path</span>();
    clipPath.<span class="hljs-title function_">addOval</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromCenter</span>(<span class="hljs-attr">center</span>: <span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-attr">width</span>: <span class="hljs-number">240</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">240</span>));
    canvas.<span class="hljs-title function_">clipPath</span>(clipPath);
    <span class="hljs-keyword">var</span> srcPaint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">blue</span> <span class="hljs-comment">// æºé¢œè‰²ï¼šè“è‰²</span>
      ..<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span> <span class="hljs-comment">// å¡«å……æ¨¡å¼</span>
      ..<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">70</span>
      ..<span class="hljs-property">blendMode</span> = <span class="hljs-title class_">BlendMode</span>.<span class="hljs-property">srcOut</span>; <span class="hljs-comment">// æ··åˆæ¨¡å¼</span>
    <span class="hljs-comment">// canvas.drawRect(Rect.fromLTWH(0, 0, width, height), srcPaint);</span>
    canvas.<span class="hljs-title function_">drawImageRect</span>(image!, <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image!.<span class="hljs-property">width</span>.<span class="hljs-title function_">toDouble</span>(), image!.<span class="hljs-property">height</span>.<span class="hljs-title function_">toDouble</span>()), <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), srcPaint);

    canvas.<span class="hljs-title function_">restore</span>();
  }
</code></pre>
<p>æ•ˆæœå›¾ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8bf55563f9d546edb32e8ef1ca83f787~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768392052&amp;x-signature=w2C4kIZ6akgypumeH7UL3OBSeBw%3D" alt="image.png" width="30%" loading="lazy"/>
<p>ç¯å½¢è·Ÿå›¾ç‰‡é‡å çš„éƒ¨åˆ†å˜æˆé€æ˜çš„ï¼Œsrcæœªé‡å éƒ¨åˆ†ä¿ç•™äº†ä¸‹æ¥ï¼Œdstæœªé‡å éƒ¨åˆ†ä¿ç•™äº†ä¸‹æ¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Solidityæ™ºèƒ½åˆçº¦å¿«é€Ÿå…¥é—¨]]></title>    <link>https://juejin.cn/post/7592148975848554539</link>    <guid>https://juejin.cn/post/7592148975848554539</guid>    <pubDate>2026-01-07T09:46:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975848554539" data-draft-id="7590724064522256447" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Solidityæ™ºèƒ½åˆçº¦å¿«é€Ÿå…¥é—¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T09:46:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é¸¡çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3092298256613837"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Solidityæ™ºèƒ½åˆçº¦å¿«é€Ÿå…¥é—¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3092298256613837/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é¸¡çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:46:30.000Z" title="Wed Jan 07 2026 09:46:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯æ™ºèƒ½åˆçº¦ï¼Ÿ</h2>
<p>æ™ºèƒ½åˆçº¦æ˜¯è¿è¡Œåœ¨é“¾ä¸Šçš„ç¨‹åºï¼Œåˆçº¦å¼€å‘è€…å¯ä»¥é€šè¿‡æ™ºèƒ½åˆçº¦å®ç°ä¸é“¾ä¸Šèµ„äº§ã€æ•°æ®è¿›è¡Œäº¤äº’ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è‡ªå·±çš„é“¾ä¸Šè´¦æˆ·æ¥è°ƒç”¨åˆçº¦ï¼Œè®¿é—®èµ„äº§ä¸æ•°æ®ã€‚</p>
<p><strong>ä¸ä¸€èˆ¬ç¨‹åºçš„å·®å¼‚</strong></p>
<p>åŸç”Ÿæ”¯æŒèµ„äº§æµåŠ¨ï¼Œéƒ¨ç½²ä¸åç»­å†™å…¥éœ€è¦ä¸€å®šçš„è´¹ç”¨ï¼Œå­˜å‚¨æ•°æ®çš„æˆæœ¬æ›´é«˜ï¼Œéƒ¨ç½²åæ— æ³•æ›´æ”¹ï¼ˆå¯å‡çº§åˆçº¦ï¼Ÿï¼‰</p>
<h2 data-id="heading-1">Solidityæ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>ä¸€é—¨é¢å‘åˆçº¦çš„ï¼Œä¸ºå®ç°æ™ºèƒ½åˆçº¦è€Œåˆ›å»ºçš„é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨EVMè™šæ‹Ÿæœºä¸Šè¿è¡Œï¼Œè¯­æ³•æ•´ä½“ç±»ä¼¼äºJavaScriptï¼Œæ˜¯ç›®å‰æœ€æµè¡Œçš„æ™ºèƒ½åˆçº¦è¯­è¨€ï¼Œä¹Ÿæ˜¯å…¥é—¨åŒºå—é“¾å’Œweb3æ‰€å¿…é¡»æŒæ¡çš„è¯­è¨€ã€‚</p>
<h2 data-id="heading-2">å¦‚ä½•éƒ¨ç½²åˆçº¦ï¼Ÿ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/784dcc8393824763ab2c0357643aa7c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bih55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383990&amp;x-signature=BBlJ6NPaIIkOu6CPsCux1UvK0zs%3D" alt="image.png" loading="lazy"/></p>
<p>Solidityåˆçº¦æ˜¯ä»¥.solä¸ºåç¼€çš„æ–‡ä»¶ï¼Œæ— æ³•ç›´æ¥æ‰§è¡Œï¼Œéœ€è¦ç¼–è¯‘ä¸ºEVMï¼ˆï¼¥ï½”ï½ˆï½…ï½’ï½…ï½•ï½ã€€ï¼¶ï½‰ï½’ï½”ï½•ï½ï½Œã€€Machineï¼‰å¯è¯†åˆ«çš„å­—èŠ‚ç æ‰èƒ½åœ¨é“¾ä¸Šè¿è¡Œã€‚</p>
<h2 data-id="heading-3">å¼€å‘æ¡†æ¶&amp;å·¥å…·æœ‰å“ªäº›ï¼Ÿ</h2>
<p>æ¡†æ¶æœ‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07d08417f3094c9192b97e5f0ddee541~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bih55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383990&amp;x-signature=YwRMQngg5dsq8gMXs1FntZ%2F9AD8%3D" alt="image.png" loading="lazy"/></p>
<p>å·¥å…·æœ‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70dbc19648e84b4dab4b1da6e6c05b6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bih55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383990&amp;x-signature=xgXktOQPL5Iqa75CP3tX5cM6xVc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">Solidityæ ¸å¿ƒè¯­æ³•æœ‰å“ªäº›ï¼Ÿ</h2>
<h3 data-id="heading-5">åŸºæœ¬æ•°æ®ç±»å‹</h3>
<p>ï¼‘.ã€€Boolean
ï¼’.ã€€ï½‰ï½ï½”
ï¼“.ã€€ï½•ï½‰ï½ï½”
ï¼”.ã€€address
ï¼•.ã€€bytes
ï¼ï¼ï¼</p>
<h3 data-id="heading-6">æšä¸¾ç±»å‹</h3>
<pre><code class="hljs language-js" lang="js">enum <span class="hljs-title class_">Status</span>{
    <span class="hljs-title class_">Unknown</span>,
    <span class="hljs-title class_">Start</span>,
    <span class="hljs-title class_">End</span>,
    <span class="hljs-title class_">Pause</span>
}
<span class="hljs-comment">// å®ä¾‹åŒ–æšä¸¾ç±»å‹</span>
<span class="hljs-title class_">Status</span> public statusï¼›
<span class="hljs-comment">// æ›´æ–°æšä¸¾å€¼</span>
<span class="hljs-keyword">function</span> pause public {
    status = <span class="hljs-title class_">Status</span>.<span class="hljs-property">Pause</span>;
}
<span class="hljs-comment">// åˆå§‹åŒ–æšä¸¾å€¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">reset</span>(<span class="hljs-params"/>) public{
   <span class="hljs-keyword">return</span> status;
}
</code></pre>
<h3 data-id="heading-7">æ•°ç»„ç±»å‹</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å®šä¹‰æ•°ç»„ç±»å‹</span>
uint[<span class="hljs-number">7</span>] public arr;
<span class="hljs-comment">// æ·»åŠ æ•°æ®</span>
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">7</span>);
<span class="hljs-comment">// åˆ é™¤æœ€åä¸€ä¸ªæ•°æ®</span>
arr.<span class="hljs-title function_">pop</span>();
<span class="hljs-comment">// åˆ é™¤æŸä¸ªç´¢å¼•å€¼æ•°æ®</span>
<span class="hljs-keyword">delete</span> arr[<span class="hljs-number">1</span>];
<span class="hljs-comment">// è·å–æ•°ç»„é•¿åº¦</span>
uint len = arr.<span class="hljs-property">length</span>;
</code></pre>
<h3 data-id="heading-8">mappingç±»å‹</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å®šä¹‰åµŒå¥—mappingç±»å‹</span>
<span class="hljs-title function_">mapping</span>(<span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> <span class="hljs-title function_">mapping</span>(<span class="hljs-function"><span class="hljs-params">string</span>=&gt;</span>string)) nestedMap;
<span class="hljs-comment">// è®¾ç½®å€¼</span>
nestedMap[id][key] = <span class="hljs-string">"0707"</span>;
<span class="hljs-comment">// è¯»å–å€¼</span>
string value = nestedMap[id][key];
<span class="hljs-comment">// åˆ é™¤å€¼</span>
<span class="hljs-keyword">delete</span> nestMap[id][key];
</code></pre>
<h3 data-id="heading-9">ç»“æ„ä½“ç±»å‹ï¼ˆstructï¼‰</h3>
<pre><code class="hljs language-js" lang="js">contract <span class="hljs-title class_">Struct</span>{
    struct <span class="hljs-title class_">Data</span>{
        string id;
        string hash;
    }
    <span class="hljs-title class_">Data</span> public data;
    
    <span class="hljs-comment">// æ·»åŠ æ•°æ®</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">create</span>(<span class="hljs-params">string calldata _id</span>) public {
        data = <span class="hljs-title class_">Data</span>{<span class="hljs-attr">id</span>:_id,<span class="hljs-attr">hash</span>:<span class="hljs-string">"111222"</span>};
    }
    
    <span class="hljs-comment">// æ›´æ–°æ•°æ®</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">string _id</span>) public {
        <span class="hljs-comment">// æŸ¥è¯¢æ•°æ®</span>
        string id = data.<span class="hljs-property">id</span>
        <span class="hljs-comment">// æ›´æ–°</span>
        data.<span class="hljs-property">hash</span> = <span class="hljs-string">"222333"</span>
    }
}
</code></pre>
<h2 data-id="heading-10">å˜é‡ç±»å‹æœ‰å“ªäº›ï¼Ÿ</h2>
<p><strong>ç±»å‹</strong>ï¼šlocal state global
<strong>å…³é”®å­—å£°æ˜</strong>ï¼šstorage  memory calldata</p>
<h2 data-id="heading-11">å¸¸é‡æœ‰å“ªäº›ï¼Ÿ</h2>
<p>constant ï¼š å€¼ä¸å¯å˜ï¼ŒèŠ‚çº¦gas fee
immutableï¼šå¯ä»¥åœ¨constructorä¸­åˆå§‹åŒ–ï¼Œä½†ä¸å¯ä»¥å†æ¬¡æ”¹å˜ã€‚</p>
<h2 data-id="heading-12">å‡½æ•°çš„å¯è§æ€§å’Œå…³é”®å­—æœ‰å“ªäº›ï¼Ÿ</h2>
<p>å¯è§æ€§ï¼špublic  private internal external</p>
<p>å…³é”®å­—ï¼šview pure</p>
<h2 data-id="heading-13">å‡½æ•°ä¿®é¥°ç¬¦modifier</h2>
<pre><code class="hljs language-js" lang="js">modifier  onlyOwner{
    <span class="hljs-built_in">require</span>(msg.<span class="hljs-property">sender</span> == owner,<span class="hljs-string">"Not owner"</span>);
}

modifier <span class="hljs-title function_">validAddress</span>(<span class="hljs-params">address _addr</span>){
    <span class="hljs-built_in">require</span>(_addr != <span class="hljs-title function_">address</span>(<span class="hljs-number">0</span>),<span class="hljs-string">"Not valid address"</span>);
    _;
}

modifier <span class="hljs-title function_">noReentrancy</span>(<span class="hljs-params"/>){
    <span class="hljs-built_in">require</span>(!locked,<span class="hljs-string">"No reentrancy"</span>);
    locked = <span class="hljs-literal">true</span>;
    _;
    locked = <span class="hljs-literal">false</span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">changeOwner</span>(<span class="hljs-params">address _newOwner</span>) public onlyOwner <span class="hljs-title function_">validAddress</span>(<span class="hljs-params">_newOwner</span>){
    owner = _newOwner;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">decrement</span>(<span class="hljs-params">uint i</span>) public noReentrancy{
    x -= i;
    <span class="hljs-keyword">if</span>(i &gt; <span class="hljs-number">1</span>){
        <span class="hljs-title function_">decrement</span>(i - <span class="hljs-number">1</span>);
    }
}
</code></pre>
<h2 data-id="heading-14">å‡½æ•°é€‰æ‹©å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js">addr.<span class="hljs-title function_">call</span>(abi.<span class="hljs-title function_">encodeWithSignature</span>(<span class="hljs-string">"transfer(address,uint256)"</span>,0xSomeAddress,<span class="hljs-number">123</span>))

contract  <span class="hljs-title class_">FunctionSelector</span>{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getSelector</span>(<span class="hljs-params">string calldata _func</span>) external pure returns (bytes4){
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">bytes4</span>(<span class="hljs-title function_">keccak256</span>(<span class="hljs-title function_">bytes</span>(_func)));
    }
}
</code></pre>
<h2 data-id="heading-15">æ¡ä»¶åˆ¤æ–­æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">10</span>){
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">20</span>){
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
}<span class="hljs-keyword">else</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;
}

x &lt; <span class="hljs-number">20</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span> <span class="hljs-comment">// ä¸‰å…ƒè¿ç®—ç¬¦</span>
</code></pre>
<h2 data-id="heading-16">å¾ªç¯æœ‰å“ªäº›ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">for</span>(uint i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++){
    <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>

}
uint j;
<span class="hljs-keyword">while</span> (j &lt; <span class="hljs-number">10</span>){
    j++;
}
</code></pre>
<h2 data-id="heading-17">åˆçº¦çš„æ¦‚å¿µï¼ˆconstructorï¼‰</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">constructor</span>(<span class="hljs-params">string memory _name</span>){
    name = _name;
}
</code></pre>
<h3 data-id="heading-18">å…ˆå®šä¹‰æ¥å£ï¼Œç„¶åç”±åˆçº¦å®ç°æ¥å£ã€‚</h3>
<pre><code class="hljs language-js" lang="js">contract <span class="hljs-title class_">Counter</span>{
  uint public  count;
  <span class="hljs-keyword">function</span>  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) external{
      count+<span class="hljs-number">1</span>;
  }
}

interface <span class="hljs-title class_">ICounter</span>{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">count</span>(<span class="hljs-params"/>) external view returns (uint);
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) external;
}

contract <span class="hljs-title class_">MyContract</span> {
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">incrementCounter</span>(<span class="hljs-params">address _counter</span>) external {
        <span class="hljs-title class_">ICounter</span>(_counter).<span class="hljs-title function_">increment</span>();
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCount</span>(<span class="hljs-params">address _counter</span>) external view returns (uint){
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ICounter</span>(_counter).<span class="hljs-title function_">count</span>();
    }
}
</code></pre>
<h2 data-id="heading-19">åˆçº¦å¦‚ä½•ç»§æ‰¿å‘¢ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å®šä¹‰çˆ¶åˆçº¦ A</span>
contract A{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) public pure virtual returns (string memory){
        <span class="hljs-keyword">return</span> <span class="hljs-string">"A"</span>;
    }
}

<span class="hljs-comment">// Båˆçº¦ç»§æ‰¿Aåˆçº¦å¹¶é‡å†™å‡½æ•°</span>
contract B is A{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) public pure virtual override returns (string memory){
        <span class="hljs-keyword">return</span> <span class="hljs-string">"B"</span>;
    }
}

<span class="hljs-comment">// Dåˆçº¦ç»§æ‰¿Bï¼ŒCå¹¶é‡å†™å‡½æ•°</span>
contract D is B,C{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) public pure <span class="hljs-title function_">override</span>(B,C) returns (string memory){
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">foo</span>();
    }
} 

contract B is A{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) public virtual override{
        <span class="hljs-comment">// ç›´æ¥è°ƒç”¨</span>
        A.<span class="hljs-title function_">foo</span>();
    }
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params"/>) public virtual override{
        <span class="hljs-comment">// é€šè¿‡supperå…³é”®å­—è°ƒç”¨</span>
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">bar</span>();
    }
}
</code></pre>
<h2 data-id="heading-20">å¦‚ä½•åœ¨åˆçº¦é‡Œé¢åˆ›å»ºåˆçº¦ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">create</span>(<span class="hljs-params">address _owner,string memory _model</span>) public {
    <span class="hljs-title class_">Car</span> car = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(_owner,_model);
    cars.<span class="hljs-title function_">push</span>(car);
}
</code></pre>
<p>åœ¨0.8.0ä¹‹åæ”¯æŒä»¥ä¸‹å†™æ³•</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">create2</span>(<span class="hljs-params">address _owner,string memory _model,bytes32 _salt</span>) public{
    <span class="hljs-title class_">Car</span> car = (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>){<span class="hljs-attr">salt</span>:_salt}(_owner,_model);
    cars.<span class="hljs-title function_">push</span>(car);
}
</code></pre>
<h2 data-id="heading-21">å¦‚ä½•å¯¼å…¥åˆçº¦å‘¢ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æœ¬åœ°å¯¼å…¥</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./Foo.sol'</span>;
<span class="hljs-comment">// å¤–éƒ¨å¯¼å…¥</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'https://github.com/owner/repo/blob/branch/path/to/Contract.sol'</span>; 
</code></pre>
<h2 data-id="heading-22">å¯¼å…¥å¦‚ä½•å¯¼å…¥åº“ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js">library <span class="hljs-title class_">SafeMath</span>{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">uint x, uint y</span>) internal pure returns (uint){
        uint z = x+y;
        <span class="hljs-built_in">require</span>(z&gt;=x,<span class="hljs-string">"uint overflow"</span>);
    }
}

contract <span class="hljs-title class_">TestSafeMath</span>{
    using <span class="hljs-title class_">SafeMath</span> <span class="hljs-keyword">for</span> uint;
}
</code></pre>
<h2 data-id="heading-23">äº‹ä»¶æ€ä¹ˆå®ç°?</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å®šä¹‰äº‹ä»¶</span>
event <span class="hljs-title class_">Log</span>(address indexed sender,string message);
event <span class="hljs-title class_">AnotherLog</span>();

<span class="hljs-comment">// æŠ›å‡ºäº‹ä»¶</span>
emit <span class="hljs-title class_">Log</span>(msg.<span class="hljs-property">sender</span>,<span class="hljs-string">"Hello World!"</span>);
emit <span class="hljs-title class_">Log</span>(msg.<span class="hljs-property">sender</span>,<span class="hljs-string">"Hello EVM!"</span>);
emit <span class="hljs-title class_">AnotherLog</span>();
</code></pre>
<h2 data-id="heading-24">é”™è¯¯å¤„ç†å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">testRequire</span>(<span class="hljs-params">uint _i</span>) public pure {
        <span class="hljs-built_in">require</span>(_i &gt; <span class="hljs-number">10</span>,<span class="hljs-string">"Input must be greater than 10"</span>);
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">testRevert</span>(<span class="hljs-params">uint _i</span>) public pure{
        <span class="hljs-keyword">if</span>(i &lt;= <span class="hljs-number">10</span>){
            <span class="hljs-title function_">revert</span>(<span class="hljs-string">"Input must be greater than 10"</span>);
        }
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">testAssert</span>(<span class="hljs-params"/>) public view{
        <span class="hljs-title function_">assert</span>(num == <span class="hljs-number">10</span>);
    }
</code></pre>
<h3 data-id="heading-25">try/catchæ•æ‰é”™è¯¯</h3>
<pre><code class="hljs language-js" lang="js">event <span class="hljs-title class_">Log</span>(string message);
event <span class="hljs-title class_">Log</span>(bytes data);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">tryCatchNewContract</span>(<span class="hljs-params">address _owner</span>) public {
    <span class="hljs-keyword">try</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>(_owner) returns (<span class="hljs-title class_">Foo</span> foo){
        emit <span class="hljs-title class_">Log</span>(<span class="hljs-string">"Foo created"</span>);
    }<span class="hljs-keyword">catch</span> <span class="hljs-title class_">Error</span>(string memory reason){
        emit <span class="hljs-title class_">Log</span>(reason);
    }<span class="hljs-keyword">catch</span>(bytes memory reason){
        emit <span class="hljs-title class_">LogBytes</span>(reason);
    }
}
</code></pre>
<h2 data-id="heading-26">èµ„äº§ï¼ˆpayableï¼‰</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åœ°å€ç±»å‹å¯ä»¥å£°æ˜ payable</span>
address payable public owner;

<span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) payable {
  owner = <span class="hljs-title function_">payable</span>(msg.<span class="hljs-property">sender</span>);
}

<span class="hljs-comment">// æ–¹æ³•å£°æ˜  payable æ¥æ¥æ”¶ Ether</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">deposit</span>(<span class="hljs-params"/>)  public payable{}

</code></pre>
<h3 data-id="heading-27">èµ„äº§å¦‚ä½•å‘é€ï¼Ÿ</h3>
<pre><code class="hljs language-js" lang="js">contract <span class="hljs-title class_">SendEnter</span>{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendViaCall</span>(<span class="hljs-params">address payable _to</span>) public payable{
        (bool sent,bytes memory data) = _to.<span class="hljs-property">call</span>{<span class="hljs-attr">value</span>:msg.<span class="hljs-property">value</span>}(<span class="hljs-string">""</span>);
        <span class="hljs-built_in">require</span>(sent,<span class="hljs-string">"Failed to send Ether"</span>);
    }
}
</code></pre>
<h3 data-id="heading-28">èµ„äº§å¦‚ä½•æ¥å—ï¼Ÿ</h3>
<pre><code class="hljs language-js" lang="js">contract <span class="hljs-title class_">ReceiveEther</span>{
    <span class="hljs-comment">// å½“msg.dataä¸ºç©ºæ—¶</span>
    <span class="hljs-title function_">receive</span>() external payable{}
    <span class="hljs-comment">// å½“msg.dataéç©ºæ—¶</span>
    <span class="hljs-title function_">fallback</span>() external payable{}
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getBalance</span>(<span class="hljs-params"/>) public view returns (uint) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">address</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">balance</span>;
    }
}
</code></pre>
<h2 data-id="heading-29">å¦‚ä½•èŠ‚çº¦Gasè´¹ç”¨ï¼Ÿ</h2>
<p><strong>å‚æ•°</strong></p>
<ol>
<li><code>gas spent</code></li>
<li><code>gas price</code></li>
<li><code>gas limit</code></li>
<li><code>block gas limit</code></li>
</ol>
<p><strong>æŠ€å·§</strong></p>
<ol>
<li>ä½¿ç”¨<code>calldata</code>ä»£æ›¿<code>memory</code></li>
<li>å°†çŠ¶æ€å˜é‡è½½å…¥å†…å­˜</li>
<li>ä½¿ç”¨<code>i++</code>è€Œä¸æ˜¯ä½¿ç”¨<code>++i</code></li>
<li>ç¼“å­˜æ•°ç»„å…ƒç´ </li>
</ol>
<h2 data-id="heading-30">å…¶ä»–å­¦ä¹ ç½‘å€ï¼š</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a554e93f03f406488fca14edb7c025d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bih55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383990&amp;x-signature=xw0IqF8kL393DqUm0Kop03OnTV8%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-31">ä½¿ç”¨forge testæ¥æµ‹è¯•é¡¹ç›®æ˜¯å¦æˆåŠŸï¼</h2>
<p>web3åšä¸»åšå®¢ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.pseudoyu.com%2F" target="_blank" title="https://www.pseudoyu.com/" ref="nofollow noopener noreferrer">é“¾æ¥</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langchainå­¦ä¹ æ€»ç»“ï¼šPython + OpenAI åŸç”Ÿ SDK å®ç°è®°å¿†åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7592455394061598758</link>    <guid>https://juejin.cn/post/7592455394061598758</guid>    <pubDate>2026-01-07T09:48:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592455394061598758" data-draft-id="7592455394061582374" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langchainå­¦ä¹ æ€»ç»“ï¼šPython + OpenAI åŸç”Ÿ SDK å®ç°è®°å¿†åŠŸèƒ½"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T09:48:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒåœ¨é£æ‰¬AI"/> <meta itemprop="url" content="https://juejin.cn/user/1556564194366823"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langchainå­¦ä¹ æ€»ç»“ï¼šPython + OpenAI åŸç”Ÿ SDK å®ç°è®°å¿†åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564194366823/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒåœ¨é£æ‰¬AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:48:38.000Z" title="Wed Jan 07 2026 09:48:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Python + OpenAI åŸç”Ÿ SDK å®ç°è®°å¿†åŠŸèƒ½</h2>
<h3 data-id="heading-1">ä¸€ã€è¿™æ˜¯ä»€ä¹ˆ</h3>
<p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ <strong>Python</strong> å’Œ <strong>OpenAI åŸç”Ÿ SDK</strong> ä»é›¶å®ç°çš„å¯¹è¯è®°å¿†ç³»ç»Ÿï¼Œé‡‡ç”¨äº†<strong>æ‘˜è¦ç¼“å­˜æ··åˆè®°å¿†</strong>ï¼ˆConversationSummaryBufferMemoryï¼‰çš„ç­–ç•¥ã€‚</p>
<p>å®ƒä¸ä¾èµ– LangChain ç­‰é«˜çº§æ¡†æ¶ï¼Œè€Œæ˜¯é€šè¿‡åŸç”Ÿä»£ç å®ç°äº†ç±»ä¼¼äº LangChain çš„è®°å¿†ç®¡ç†åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-2">äºŒã€æ ¸å¿ƒåŸç†</h3>
<h4 data-id="heading-3">æ‘˜è¦ç¼“å­˜æ··åˆè®°å¿†ï¼ˆSummary Buffer Memoryï¼‰</h4>
<p>è¿™æ˜¯ä¸€ç§å°†<strong>æ‘˜è¦è®°å¿†</strong>å’Œ<strong>ç¼“å†²çª—å£è®°å¿†</strong>ç»“åˆçš„æ··åˆç­–ç•¥ï¼š</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‘˜è¦éƒ¨åˆ†ï¼ˆ<span class="hljs-selector-tag">Summary</span>ï¼‰                             â”‚
â”‚  å­˜å‚¨æ—©æœŸå¯¹è¯çš„æç‚¼æ€»ç»“                           â”‚
â”‚  ä¾‹å¦‚ï¼šç”¨æˆ·å«å¼ ä¸‰ï¼Œå–œæ¬¢ç¼–ç¨‹...                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ éšå¯¹è¯å¢é•¿åŠ¨æ€ç”Ÿæˆ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¼“å†²éƒ¨åˆ†ï¼ˆBufferï¼‰                              â”‚
â”‚  å­˜å‚¨æœ€è¿‘çš„å®Œæ•´å¯¹è¯è®°å½•                           â”‚
â”‚  ä¾‹å¦‚ï¼šæœ€è¿‘<span class="hljs-number">3</span>è½®çš„å®Œæ•´é—®ç­”                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-4">å·¥ä½œæµç¨‹</h4>
<ol>
<li><strong>åˆå§‹é˜¶æ®µ</strong>ï¼šæ‰€æœ‰å¯¹è¯å­˜å‚¨åœ¨ç¼“å­˜ä¸­</li>
<li><strong>è§¦å‘æ‘˜è¦</strong>ï¼šå½“ç¼“å­˜ä¸­çš„ token æ•°é‡è¶…è¿‡ <code>max_tokens</code> é˜ˆå€¼æ—¶</li>
<li><strong>ç”Ÿæˆæ‘˜è¦</strong>ï¼šå°†æœ€æ—©çš„å¯¹è¯ä¸ç°æœ‰æ‘˜è¦åˆå¹¶ï¼Œç”Ÿæˆæ–°çš„æ‘˜è¦</li>
<li><strong>ç§»é™¤æ—§å¯¹è¯</strong>ï¼šå°†å·²æ‘˜è¦çš„å¯¹è¯ä»ç¼“å­˜ä¸­åˆ é™¤</li>
<li><strong>å¾ªç¯è¿›è¡Œ</strong>ï¼šä¿æŒå¯¹è¯å†å²çš„å¯æ§æ€§</li>
</ol>
<h3 data-id="heading-5">ä¸‰ã€æ ¸å¿ƒç»„ä»¶</h3>
<h4 data-id="heading-6">ConversationSummaryBufferMemory ç±»</h4>
<p>è¿™ä¸ªç±»å®ç°äº†å®Œæ•´çš„è®°å¿†ç®¡ç†åŠŸèƒ½ï¼š</p>









































<table><thead><tr><th>ç»„ä»¶</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>summary</code></td><td>å­˜å‚¨å¯¹è¯æ‘˜è¦ä¿¡æ¯</td></tr><tr><td><code>chat_histories</code></td><td>å­˜å‚¨å†å²å¯¹è¯åˆ—è¡¨</td></tr><tr><td><code>max_tokens</code></td><td>è§¦å‘æ‘˜è¦ç”Ÿæˆçš„ token é˜ˆå€¼</td></tr><tr><td><code>get_num_tokens()</code></td><td>è®¡ç®—æ–‡æœ¬çš„ token æ•°é‡</td></tr><tr><td><code>save_content()</code></td><td>ä¿å­˜æ–°çš„å¯¹è¯åˆ°ç¼“å­˜</td></tr><tr><td><code>get_buffer_string()</code></td><td>å°†å†å²å¯¹è¯è½¬æ¢ä¸ºå­—ç¬¦ä¸²</td></tr><tr><td><code>load_memory_variables()</code></td><td>åŠ è½½è®°å¿†å˜é‡ä¾›æ¨¡å‹ä½¿ç”¨</td></tr><tr><td><code>summary_text()</code></td><td>ä½¿ç”¨ LLM ç”Ÿæˆæ–°çš„æ‘˜è¦</td></tr></tbody></table>
<h4 data-id="heading-7">å…³é”®æ–¹æ³•è¯´æ˜</h4>
<h5 data-id="heading-8">1. <code>save_content()</code> - ä¿å­˜å¯¹è¯å¹¶è§¦å‘æ‘˜è¦</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">save_content</span>(<span class="hljs-params">self, human_query: <span class="hljs-built_in">str</span>, ai_content: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:
    <span class="hljs-comment"># 1. ä¿å­˜æ–°å¯¹è¯</span>
    <span class="hljs-comment"># 2. æ£€æŸ¥ token æ•°é‡</span>
    <span class="hljs-comment"># 3. è¶…è¿‡é˜ˆå€¼åˆ™ç”Ÿæˆæ‘˜è¦å¹¶ç§»é™¤æ—§å¯¹è¯</span>
</code></pre>
<h5 data-id="heading-9">2. <code>summary_text()</code> - ç”Ÿæˆæ–°æ‘˜è¦</h5>
<p>ä½¿ç”¨ç²¾å¿ƒè®¾è®¡çš„ Prompt è®© LLM å°†æ—§æ‘˜è¦å’Œæ–°å¯¹è¯åˆå¹¶æˆæ–°æ‘˜è¦ï¼Œå¹¶ä¿ç•™å…³é”®ä¿¡æ¯ï¼ˆå§“åã€çˆ±å¥½ã€é‡è¦äº‹ä»¶ç­‰ï¼‰ã€‚</p>
<h5 data-id="heading-10">3. <code>load_memory_variables()</code> - åŠ è½½è®°å¿†</h5>
<p>è¿”å›æ ¼å¼åŒ–çš„ä¸Šä¸‹æ–‡ï¼ŒåŒ…å«æ‘˜è¦å’Œç¼“å­˜ä¸­çš„å†å²å¯¹è¯ã€‚</p>
<h3 data-id="heading-11">å››ã€æœ‰ä»€ä¹ˆç”¨</h3>
<h4 data-id="heading-12">1. å®ç°é•¿æœŸå¯¹è¯è®°å¿†</h4>
<ul>
<li>AI å¯ä»¥è®°ä½ä¹‹å‰çš„å¯¹è¯å†…å®¹</li>
<li>è·¨ä¼šè¯ä¿æŒä¸Šä¸‹æ–‡è¿è´¯æ€§</li>
<li>è®°ä½ç”¨æˆ·çš„é‡è¦ä¿¡æ¯ï¼ˆå§“åã€åå¥½ç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-13">2. æ§åˆ¶ Token æˆæœ¬</h4>
<ul>
<li>ä¸ä¼šæ— é™åˆ¶åœ°å‘é€æ‰€æœ‰å†å²å¯¹è¯</li>
<li>é€šè¿‡æ‘˜è¦å‡å°‘æ—©æœŸå¯¹è¯çš„ token å ç”¨</li>
<li>åªä¿ç•™æœ€è¿‘å¯¹è¯çš„å®Œæ•´å†…å®¹</li>
</ul>
<h4 data-id="heading-14">3. å¹³è¡¡ä¿¡æ¯å®Œæ•´æ€§ä¸æˆæœ¬</h4>
<ul>
<li><strong>æ‘˜è¦éƒ¨åˆ†</strong>ï¼šä¿ç•™å…³é”®ä¿¡æ¯ï¼Œå ç”¨ token å°‘</li>
<li><strong>ç¼“å­˜éƒ¨åˆ†</strong>ï¼šä¿ç•™å®Œæ•´ç»†èŠ‚ï¼Œç¡®ä¿è¿‘æœŸå¯¹è¯å‡†ç¡®</li>
</ul>
<h4 data-id="heading-15">4. å­¦ä¹ ä»·å€¼</h4>
<ul>
<li>ç†è§£å¤§è¯­è¨€æ¨¡å‹åº”ç”¨ä¸­è®°å¿†ç®¡ç†çš„æ ¸å¿ƒæ¦‚å¿µ</li>
<li>å­¦ä¹ å¦‚ä½•ä»é›¶å®ç°å¤æ‚çš„å¯¹è¯çŠ¶æ€ç®¡ç†</li>
<li>æŒæ¡æç¤ºè¯å·¥ç¨‹åœ¨æ‘˜è¦ç”Ÿæˆä¸­çš„åº”ç”¨</li>
</ul>
<h3 data-id="heading-16">äº”ã€åº”ç”¨åœºæ™¯</h3>





























<table><thead><tr><th>åœºæ™¯</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>æ™ºèƒ½å®¢æœ</strong></td><td>è®°ä½ç”¨æˆ·é—®é¢˜å’Œå†å²æŠ•è¯‰</td></tr><tr><td><strong>ä¸ªæ€§åŒ–åŠ©æ‰‹</strong></td><td>è®°ä½ç”¨æˆ·åå¥½å’Œä¹ æƒ¯</td></tr><tr><td><strong>æ•™è‚²è¾…å¯¼</strong></td><td>è·Ÿè¸ªå­¦ä¹ è¿›åº¦å’ŒçŸ¥è¯†ç‚¹</td></tr><tr><td><strong>å¿ƒç†å’¨è¯¢</strong></td><td>ä¿æŒé•¿æœŸå’¨è¯¢çš„è¿è´¯æ€§</td></tr><tr><td><strong>æ¸¸æˆ NPC</strong></td><td>è®°ä½ä¸ç©å®¶çš„äº¤äº’å†å²</td></tr></tbody></table>
<h3 data-id="heading-17">å…­ã€å®ç°äº®ç‚¹</h3>
<ol>
<li><strong>åŸç”Ÿå®ç°</strong>ï¼šä¸ä¾èµ–æ¡†æ¶ï¼Œç†è§£åº•å±‚åŸç†</li>
<li><strong>åŠ¨æ€æ‘˜è¦</strong>ï¼šè‡ªåŠ¨è§¦å‘æ‘˜è¦ç”Ÿæˆï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†</li>
<li><strong>å…³é”®ä¿¡æ¯ä¿ç•™</strong>ï¼šç²¾å¿ƒè®¾è®¡çš„ Prompt ç¡®ä¿é‡è¦ä¿¡æ¯ä¸ä¸¢å¤±</li>
<li><strong>æµå¼è¾“å‡º</strong>ï¼šæ”¯æŒ OpenAI çš„æµå¼å“åº”ï¼Œæå‡ç”¨æˆ·ä½“éªŒ</li>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šå„ä¸ªåŠŸèƒ½ç‹¬ç«‹ï¼Œæ˜“äºæ‰©å±•</li>
</ol>
<h3 data-id="heading-18">ä¸ƒã€æŠ€æœ¯æ ˆ</h3>
<ul>
<li><strong>Python 3.x</strong></li>
<li><strong>OpenAI SDK</strong>ï¼ˆå…¼å®¹ Moonshot ç­‰ OpenAI æ ¼å¼ APIï¼‰</li>
<li><strong>dotenv</strong>ï¼ˆç¯å¢ƒå˜é‡ç®¡ç†ï¼‰</li>
<li><strong>å¤§è¯­è¨€æ¨¡å‹</strong>ï¼šMoonshot-v1-8k</li>
</ul>
<h3 data-id="heading-19">å…«ã€å®Œæ•´ä»£ç å®ç°</h3>
<h4 data-id="heading-20">8.1 æ ¸å¿ƒç±»å®ç°</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Any</span>
<span class="hljs-keyword">import</span> dotenv
<span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI

dotenv.load_dotenv()

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConversationSummaryBufferMemory</span>:
    <span class="hljs-string">"""
    æ‘˜è¦ç¼“å­˜æ··åˆè®°å¿†ç±»
    ç»“åˆäº†æ‘˜è¦è®°å¿†å’Œç¼“å†²çª—å£è®°å¿†çš„ä¼˜ç‚¹
    """</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, summary: <span class="hljs-built_in">str</span> = <span class="hljs-string">''</span>, chat_histories: <span class="hljs-built_in">list</span> = <span class="hljs-literal">None</span>, max_tokens: <span class="hljs-built_in">int</span> = <span class="hljs-number">300</span></span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ–è®°å¿†ç»„ä»¶

        Args:
            summary: åˆå§‹æ‘˜è¦å†…å®¹
            chat_histories: å†å²å¯¹è¯åˆ—è¡¨
            max_tokens: è§¦å‘æ‘˜è¦ç”Ÿæˆçš„æœ€å¤§tokenæ•°
        """</span>
        self.summary = summary  <span class="hljs-comment"># å­˜å‚¨æ‘˜è¦</span>
        self.chat_histories = [] <span class="hljs-keyword">if</span> chat_histories <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> chat_histories  <span class="hljs-comment"># å­˜å‚¨å¯¹è¯ç¼“å­˜</span>
        self.max_tokens = max_tokens  <span class="hljs-comment"># tokené˜ˆå€¼</span>
        self.client = OpenAI(base_url=<span class="hljs-string">'https://api.moonshot.cn/v1'</span>)  <span class="hljs-comment"># LLMå®¢æˆ·ç«¯</span>
</code></pre>
<h4 data-id="heading-21">8.2 å·¥å…·æ–¹æ³•</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">    @classmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_num_tokens</span>(<span class="hljs-params">cls, query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:
        <span class="hljs-string">"""
        è®¡ç®—æ–‡æœ¬çš„tokenæ•°é‡
        è¿™é‡Œç®€åŒ–ä¸ºå­—ç¬¦é•¿åº¦ï¼Œå®é™…å¯ä»¥ä½¿ç”¨tiktokenç²¾ç¡®è®¡ç®—
        """</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(query)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_buffer_string</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""
        å°†å†å²å¯¹è¯åˆ—è¡¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ ¼å¼
        æ ¼å¼: human: xxx\nai: xxx\n
        """</span>
        buffer_string = <span class="hljs-string">''</span>
        <span class="hljs-keyword">for</span> chat <span class="hljs-keyword">in</span> self.chat_histories:
            buffer_string += <span class="hljs-string">f"human: <span class="hljs-subst">{chat.get(<span class="hljs-string">'human'</span>)}</span>\nai: <span class="hljs-subst">{chat.get(<span class="hljs-string">'ai'</span>)}</span>\n"</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"buffer_string: <span class="hljs-subst">{buffer_string}</span>"</span>)
        <span class="hljs-keyword">return</span> buffer_string.strip()
</code></pre>
<h4 data-id="heading-22">8.3 æ ¸å¿ƒæ–¹æ³•ï¼šä¿å­˜å¯¹è¯</h4>
<pre><code class="hljs language-python" lang="python">    <span class="hljs-keyword">def</span> <span class="hljs-title function_">save_content</span>(<span class="hljs-params">self, human_query: <span class="hljs-built_in">str</span>, ai_content: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-string">"""
        ä¿å­˜æ–°çš„å¯¹è¯åˆ°ç¼“å­˜ï¼Œå¹¶æ£€æŸ¥æ˜¯å¦éœ€è¦ç”Ÿæˆæ‘˜è¦

        å·¥ä½œæµç¨‹ï¼š
        1. å°†æ–°å¯¹è¯æ·»åŠ åˆ°ç¼“å­˜
        2. è®¡ç®—ç¼“å­˜çš„tokenæ•°é‡
        3. å¦‚æœè¶…è¿‡é˜ˆå€¼ï¼Œåˆ™ç”Ÿæˆæ‘˜è¦å¹¶ç§»é™¤æœ€æ—©çš„å¯¹è¯
        """</span>
        <span class="hljs-comment"># 1. ä¿å­˜æ–°å¯¹è¯</span>
        self.chat_histories.append({
            <span class="hljs-string">'human'</span>: human_query,
            <span class="hljs-string">'ai'</span>: ai_content,
        })

        <span class="hljs-comment"># 2. æ£€æŸ¥tokenæ•°é‡</span>
        buffer_string = self.get_buffer_string()
        tokens = self.get_num_tokens(buffer_string)

        <span class="hljs-comment"># 3. è¶…è¿‡é˜ˆå€¼åˆ™ç”Ÿæˆæ‘˜è¦</span>
        <span class="hljs-keyword">if</span> tokens &gt; self.max_tokens:
            first_chat = self.chat_histories[<span class="hljs-number">0</span>]  <span class="hljs-comment"># è·å–æœ€æ—©çš„å¯¹è¯</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç”Ÿæˆæ–°çš„æ‘˜è¦ä¸­"</span>)

            <span class="hljs-comment"># ç”Ÿæˆæ–°çš„æ‘˜è¦ï¼ˆæ—§æ‘˜è¦ + æœ€æ—©å¯¹è¯ï¼‰</span>
            self.summary = self.summary_text(
                self.summary,
                <span class="hljs-string">f"human: <span class="hljs-subst">{human_query}</span>\nai: <span class="hljs-subst">{first_chat.get(<span class="hljs-string">'ai'</span>)}</span>"</span>
            )
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–°çš„æ‘˜è¦: <span class="hljs-subst">{self.summary}</span>"</span>)

            <span class="hljs-comment"># ç§»é™¤å·²æ‘˜è¦çš„å¯¹è¯</span>
            <span class="hljs-keyword">del</span> self.chat_histories[<span class="hljs-number">0</span>]
</code></pre>
<h4 data-id="heading-23">8.4 æ ¸å¿ƒæ–¹æ³•ï¼šç”Ÿæˆæ‘˜è¦</h4>
<pre><code class="hljs language-python" lang="python">    <span class="hljs-keyword">def</span> <span class="hljs-title function_">summary_text</span>(<span class="hljs-params">self, original_summary: <span class="hljs-built_in">str</span>, new_chat: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""
        ä½¿ç”¨LLMç”Ÿæˆæ–°çš„æ‘˜è¦

        å…³é”®ç‚¹ï¼š
        1. å°†æ—§æ‘˜è¦å’Œæ–°å¯¹è¯åˆå¹¶
        2. ä¿ç•™å…³é”®ä¿¡æ¯ï¼ˆå§“åã€çˆ±å¥½ã€æ€§åˆ«ã€é‡è¦äº‹ä»¶ç­‰ï¼‰
        3. å°½å¯èƒ½è¿˜åŸå¯¹è¯è®°å½•

        Args:
            original_summary: æ—§çš„æ‘˜è¦
            new_chat: æ–°çš„å¯¹è¯å†…å®¹

        Returns:
            æ–°ç”Ÿæˆçš„æ‘˜è¦
        """</span>
        prompt = <span class="hljs-string">f"""ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„èŠå¤©æœºå™¨äººï¼Œè¯·æ ¹æ®ç”¨æˆ·æä¾›çš„è°ˆè¯å†…å®¹ï¼Œæ€»ç»“æ‘˜è¦ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°å…ˆå‰æä¾›çš„æ‘˜è¦ä¸­ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ‘˜è¦ï¼Œé™¤äº†æ–°æ‘˜è¦å…¶ä»–ä»»ä½•æ•°æ®éƒ½ä¸è¦ç”Ÿæˆï¼Œå¦‚æœç”¨æˆ·çš„å¯¹è¯ä¿¡æ¯é‡Œæœ‰ä¸€äº›å…³é”®çš„ä¿¡æ¯ï¼Œæ¯”æ–¹è¯´å§“åã€çˆ±å¥½ã€æ€§åˆ«ã€é‡è¦äº‹ä»¶ç­‰ç­‰ï¼Œè¿™äº›å…¨éƒ¨éƒ½è¦åŒ…æ‹¬åœ¨ç”Ÿæˆçš„æ‘˜è¦ä¸­ï¼Œæ‘˜è¦å°½å¯èƒ½è¦è¿˜åŸç”¨æˆ·çš„å¯¹è¯è®°å½•ã€‚

è¯·ä¸è¦å°†&lt;example&gt;æ ‡ç­¾é‡Œçš„æ•°æ®å½“æˆå®é™…çš„æ•°æ®ï¼Œè¿™é‡Œçš„æ•°æ®åªæ˜¯ä¸€ä¸ªç¤ºä¾‹æ•°æ®ï¼Œå‘Šè¯‰ä½ è¯¥å¦‚ä½•ç”Ÿæˆæ–°æ‘˜è¦ã€‚

&lt;example&gt;
å½“å‰æ‘˜è¦ï¼šäººç±»ä¼šé—®äººå·¥æ™ºèƒ½å¯¹äººå·¥æ™ºèƒ½çš„çœ‹æ³•ï¼Œäººå·¥æ™ºèƒ½è®¤ä¸ºäººå·¥æ™ºèƒ½æ˜¯ä¸€è‚¡å‘å–„çš„åŠ›é‡ã€‚

æ–°çš„å¯¹è¯ï¼š
Humanï¼šä¸ºä»€ä¹ˆä½ è®¤ä¸ºäººå·¥æ™ºèƒ½æ˜¯ä¸€è‚¡å‘å–„çš„åŠ›é‡ï¼Ÿ
AIï¼šå› ä¸ºäººå·¥æ™ºèƒ½ä¼šå¸®åŠ©äººç±»å……åˆ†å‘æŒ¥æ½œåŠ›ã€‚

æ–°æ‘˜è¦ï¼šäººç±»ä¼šé—®äººå·¥æ™ºèƒ½å¯¹äººå·¥æ™ºèƒ½çš„çœ‹æ³•ï¼Œäººå·¥æ™ºèƒ½è®¤ä¸ºäººå·¥æ™ºèƒ½æ˜¯ä¸€è‚¡å‘å–„çš„åŠ›é‡ï¼Œå› ä¸ºå®ƒå°†å¸®åŠ©äººç±»å……åˆ†å‘æŒ¥æ½œåŠ›ã€‚
&lt;/example&gt;

=====================ä»¥ä¸‹çš„æ•°æ®æ˜¯å®é™…éœ€è¦å¤„ç†çš„æ•°æ®=====================

å½“å‰æ‘˜è¦ï¼š<span class="hljs-subst">{original_summary}</span>

æ–°çš„å¯¹è¯ï¼š
<span class="hljs-subst">{new_chat}</span>

è¯·å¸®ç”¨æˆ·å°†ä¸Šé¢çš„ä¿¡æ¯ç”Ÿæˆæ–°æ‘˜è¦ã€‚"""</span>

        completion = self.client.chat.completions.create(
            model=<span class="hljs-string">"moonshot-v1-8k"</span>,
            messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}]
        )
        <span class="hljs-keyword">return</span> completion.choices[<span class="hljs-number">0</span>].message.content
</code></pre>
<h4 data-id="heading-24">8.5 æ ¸å¿ƒæ–¹æ³•ï¼šåŠ è½½è®°å¿†å˜é‡</h4>
<pre><code class="hljs language-python" lang="python">    <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_memory_variables</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]:
        <span class="hljs-string">"""
        åŠ è½½è®°å¿†å˜é‡ï¼Œè¿”å›æ ¼å¼åŒ–çš„ä¸Šä¸‹æ–‡

        Returns:
            åŒ…å«chat_historyçš„å­—å…¸ï¼Œæ ¼å¼ä¸ºï¼š
            {
                "chat_history": "æ‘˜è¦: xxx\nå†å²ä¿¡æ¯: xxx"
            }
        """</span>
        buffer_string = self.get_buffer_string()
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">"chat_history"</span>: <span class="hljs-string">f"æ‘˜è¦: <span class="hljs-subst">{self.summary}</span>\nå†å²ä¿¡æ¯:<span class="hljs-subst">{buffer_string}</span>"</span>,
        }
</code></pre>
<h4 data-id="heading-25">8.6 å®Œæ•´ä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºå®¢æˆ·ç«¯å’Œè®°å¿†å¯¹è±¡</span>
client = OpenAI(base_url=<span class="hljs-string">'https://api.moonshot.cn/v1'</span>)
memory = ConversationSummaryBufferMemory(summary=<span class="hljs-string">""</span>, chat_histories=[], max_tokens=<span class="hljs-number">300</span>)

<span class="hljs-comment"># å¯¹è¯å¾ªç¯</span>
<span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
    <span class="hljs-comment"># 1. è·å–ç”¨æˆ·è¾“å…¥</span>
    human_query = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥: "</span>)
    <span class="hljs-keyword">if</span> human_query == <span class="hljs-string">'q'</span>:
        <span class="hljs-keyword">break</span>

    <span class="hljs-comment"># 2. åŠ è½½å†å²è®°å¿†</span>
    memory_variables = memory.load_memory_variables()

    <span class="hljs-comment"># 3. æ„å»ºåŒ…å«å†å²çš„æç¤ºè¯</span>
    answer_prompt = (
        <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„èŠå¤©æœºå™¨äººï¼Œè¯·æ ¹æ®å¯¹åº”çš„ä¸Šä¸‹æ–‡å’Œç”¨æˆ·æé—®è§£å†³é—®é¢˜ã€‚\n\n"</span>
        <span class="hljs-string">f"<span class="hljs-subst">{memory_variables.get(<span class="hljs-string">'chat_history'</span>)}</span>\n\n"</span>
        <span class="hljs-string">f"ç”¨æˆ·çš„æé—®æ˜¯: <span class="hljs-subst">{human_query}</span>"</span>
    )

    <span class="hljs-comment"># 4. è°ƒç”¨LLMï¼ˆæµå¼è¾“å‡ºï¼‰</span>
    response = client.chat.completions.create(
        model=<span class="hljs-string">"moonshot-v1-8k"</span>,
        messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: answer_prompt}],
        stream=<span class="hljs-literal">True</span>
    )

    <span class="hljs-comment"># 5. æ‰“å°AIå“åº”</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"AI: "</span>, end=<span class="hljs-string">""</span>)
    ai_content = <span class="hljs-string">""</span>
    <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> response:
        content = chunk.choices[<span class="hljs-number">0</span>].delta.content
        <span class="hljs-keyword">if</span> content <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            <span class="hljs-keyword">break</span>
        ai_content += content
        <span class="hljs-built_in">print</span>(content, end=<span class="hljs-string">""</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span>)

    <span class="hljs-comment"># 6. ä¿å­˜å¯¹è¯åˆ°è®°å¿†</span>
    memory.save_content(human_query, ai_content)
</code></pre>
<h4 data-id="heading-26">8.7 ä»£ç æ‰§è¡Œæµç¨‹å›¾</h4>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è¾“å…¥
   â†“
åŠ è½½å†å²è®°å¿† (load_memory_variables)
   â†“
æ„å»ºæç¤ºè¯ (åŒ…å«æ‘˜è¦ + ç¼“å­˜å¯¹è¯)
   â†“
è°ƒç”¨LLM API (æµå¼è¾“å‡º)
   â†“
ä¿å­˜æ–°å¯¹è¯ (save_content)
   â†“
æ£€æŸ¥tokenæ•° â†’ è¶…è¿‡é˜ˆå€¼ï¼Ÿ
   â†“                    â†“
 å¦                   æ˜¯
   â†“                    â†“
  ç»“æŸ          ç”Ÿæˆæ–°æ‘˜è¦ (summary_text)
                      â†“
                 ç§»é™¤æœ€æ—©å¯¹è¯
                      â†“
                    ç»“æŸ
</code></pre>
<h4 data-id="heading-27">8.8 å…³é”®ä»£ç è¯´æ˜</h4>



































<table><thead><tr><th>ä»£ç ç‰‡æ®µ</th><th>ä½œç”¨</th><th>å…³é”®ç‚¹</th></tr></thead><tbody><tr><td><code>self.chat_histories.append()</code></td><td>æ·»åŠ æ–°å¯¹è¯</td><td>ä½¿ç”¨å­—å…¸å­˜å‚¨ human/ai å¯¹</td></tr><tr><td><code>get_num_tokens()</code></td><td>è®¡ç®—tokenæ•°</td><td>ç®€åŒ–ä¸ºå­—ç¬¦é•¿åº¦ï¼Œç”Ÿäº§ç¯å¢ƒå¯ç”¨tiktoken</td></tr><tr><td><code>summary_text()</code></td><td>ç”Ÿæˆæ‘˜è¦</td><td>ç²¾å¿ƒè®¾è®¡çš„promptç¡®ä¿ä¿ç•™å…³é”®ä¿¡æ¯</td></tr><tr><td><code>del self.chat_histories[0]</code></td><td>ç§»é™¤æ—§å¯¹è¯</td><td>FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ç­–ç•¥</td></tr><tr><td><code>stream=True</code></td><td>æµå¼è¾“å‡º</td><td>æå‡ç”¨æˆ·ä½“éªŒï¼Œç±»ä¼¼æ‰“å­—æ•ˆæœ</td></tr></tbody></table>
<h4 data-id="heading-28">8.9 ä¼˜åŒ–å»ºè®®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 1. ä½¿ç”¨tiktokenç²¾ç¡®è®¡ç®—tokenæ•°</span>
<span class="hljs-keyword">import</span> tiktoken

<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_num_tokens</span>(<span class="hljs-params">cls, query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    encoding = tiktoken.encoding_for_model(<span class="hljs-string">"gpt-3.5-turbo"</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(encoding.encode(query))

<span class="hljs-comment"># 2. æ·»åŠ æŒä¹…åŒ–å­˜å‚¨ï¼ˆJSON/æ•°æ®åº“ï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">save_to_disk</span>(<span class="hljs-params">self, filepath: <span class="hljs-built_in">str</span></span>):
    data = {
        <span class="hljs-string">'summary'</span>: self.summary,
        <span class="hljs-string">'chat_histories'</span>: self.chat_histories
    }
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">'w'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
        json.dump(data, f, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">2</span>)

<span class="hljs-comment"># 3. æ·»åŠ æ¸…ç©ºè®°å¿†åŠŸèƒ½</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">clear_memory</span>(<span class="hljs-params">self</span>):
    self.summary = <span class="hljs-string">""</span>
    self.chat_histories = []

<span class="hljs-comment"># 4. æ·»åŠ å¼‚å¸¸å¤„ç†</span>
<span class="hljs-keyword">try</span>:
    self.summary = self.summary_text(self.summary, new_chat)
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç”Ÿæˆæ‘˜è¦å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-comment"># ä¿ç•™åŸæ‘˜è¦ï¼Œä¸åˆ é™¤å¯¹è¯</span>
</code></pre>
<h3 data-id="heading-29">ä¹ã€æ€»ç»“</h3>
<p>è¿™ä¸ªå­¦ä¹ æ¡ˆä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ OpenAI åŸç”Ÿ SDK å®ç°ä¸€ä¸ªç”Ÿäº§çº§çš„å¯¹è¯è®°å¿†ç³»ç»Ÿã€‚é€šè¿‡æ‘˜è¦ç¼“å­˜æ··åˆç­–ç•¥ï¼Œæ—¢ä¿è¯äº†å¯¹è¯çš„è¿è´¯æ€§ï¼Œåˆæ§åˆ¶äº† API è°ƒç”¨æˆæœ¬ï¼Œæ˜¯æ„å»ºé•¿æœŸå¯¹è¯ AI åº”ç”¨çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»Hiveå‡½æ•°collectåˆ°MySQLå‡½æ•°group_concat]]></title>    <link>https://juejin.cn/post/7592166340382326799</link>    <guid>https://juejin.cn/post/7592166340382326799</guid>    <pubDate>2026-01-07T10:14:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592166340382326799" data-draft-id="7592166340382310415" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»Hiveå‡½æ•°collectåˆ°MySQLå‡½æ•°group_concat"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2026-01-07T10:14:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŠç›ç™½é¢é¼ "/> <meta itemprop="url" content="https://juejin.cn/user/1093394692846532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»Hiveå‡½æ•°collectåˆ°MySQLå‡½æ•°group_concat
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1093394692846532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŠç›ç™½é¢é¼ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:14:30.000Z" title="Wed Jan 07 2026 10:14:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">é—®é¢˜èƒŒæ™¯ï¼š</h3>
<p>åœ¨å·¥ä½œä¸­é‡åˆ°æ•°æ®åˆ†ææ—¶å¯¹ç»“æœå±•ç¤ºçš„è¦æ±‚ã€‚éœ€æ±‚å¦‚ä¸‹ï¼š
æŸ¥è¯¢åœ¨å…³æ³¨æ—¶é—´çª—å£ä¸‹ï¼ˆ7æ—¥ï¼‰å…¬å¸ç›¸åŒè´¦æˆ·ä¸ä¸åŒäº¤æ˜“å¯¹æ‰‹è´¦æˆ·ä¹‹é—´çš„äº¤æ˜“è¡Œä¸ºã€‚
åŸæœ¬é¢„è®¡çš„å±•ç¤ºç»“æœä¸ºï¼š</p>











































































<table><thead><tr><th>å…¬å¸è´¦æˆ·</th><th>å…¬å¸ä¿¡æ¯</th><th>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·</th><th>äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯</th><th>äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰</th></tr></thead><tbody><tr><td>66666666</td><td>AAA</td><td>99999991</td><td>BBB1</td><td>2025-11-04</td></tr><tr><td>66666666</td><td>AAA</td><td>99999992</td><td>BBB2</td><td>2025-11-06</td></tr><tr><td>66666666</td><td>AAA</td><td>99999993</td><td>BBB3</td><td>2025-11-15</td></tr><tr><td>66666666</td><td>AAA</td><td>99999994</td><td>BBB4</td><td>2025-11-22</td></tr><tr><td>88888888</td><td>AAA</td><td>99999995</td><td>BBB5</td><td>2025-11-26</td></tr><tr><td>88888888</td><td>AAA</td><td>99999996</td><td>BBB6</td><td>2025-12-01</td></tr><tr><td>88888888</td><td>AAA</td><td>99999997</td><td>BBB7</td><td>2025-12-30</td></tr><tr><td>88888888</td><td>AAA</td><td>99999998</td><td>BBB8</td><td>2026-01-01</td></tr><tr><td>88888888</td><td>AAA</td><td>99999999</td><td>BBB9</td><td>2026-01-04</td></tr></tbody></table>
<p>ç”±äºé‡å¤æ•°æ®å¤ªå¤šä¸ä¾¿äºä¸šåŠ¡äººå‘˜æŸ¥çœ‹æ•°æ®ä¹‹é—´çš„å…³ç³»ï¼Œç»ä¸ä¸šåŠ¡äººå‘˜è®¨è®ºåå†³å®šè°ƒæ•´ä¸ºå¦‚ä¸‹å±•ç¤ºæ–¹å¼ï¼š</p>






























<table><thead><tr><th>å…¬å¸è´¦æˆ·</th><th>å…¬å¸ä¿¡æ¯</th><th>ç›¸å…³æ•°æ®</th></tr></thead><tbody><tr><td>66666666</td><td>AAA</td><td>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999991 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB1 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-11-04<br/>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999992 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB2 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-11-06</td></tr><tr><td>66666666</td><td>AAA</td><td>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999993 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB3 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-11-15<br/>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999994 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB4 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-11-22</td></tr><tr><td>88888888</td><td>AAA</td><td>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999995 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB5 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-11-26<br/>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999996 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB6 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-12-01</td></tr><tr><td>88888888</td><td>AAA</td><td>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999997 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB7 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-12-30<br/>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999998 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB8 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2026-01-01<br/>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999999 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB9 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2026-01-04</td></tr></tbody></table>
<h3 data-id="heading-1">è§£å†³æ–¹æ³•ï¼š</h3>
<p>è¿™æ ·çš„å±•ç¤ºæ–¹å¼å°±éœ€è¦ä¸€ä¸ªåˆé€‚çš„èšåˆå‡½æ•°æ¥è¿›è¡Œæ•°æ®å†…å®¹æ±‡æ€»ã€‚
ä¹‹å‰å¸¸ä½¿ç”¨Hiveå¼€å‘è¿™ç§æƒ…å†µå¤šç”¨collectï¼Œä½†æ˜¯æœ¬æ¬¡ä½¿ç”¨çš„MySQLä½¿ç”¨çš„æ—¶å€™å‘ç°æ²¡æœ‰è¿™ä¸ªå‡½æ•°ã€‚åé¢å†³å®šä½¿ç”¨group_concatã€‚
group_concatåµŒå¥—concat_wså¯ä»¥å¾ˆå¥½çš„è¾¾åˆ°ä¸Šé¢çš„æ•ˆæœ:</p>
<pre><code class="hljs language-sql" lang="sql">    ,group_concat(concat_ws(<span class="hljs-string">''</span>  
         <span class="hljs-string">' äº¤æ˜“å¯¹æ‰‹è´¦æˆ·ï¼š'</span>,account  
        ,<span class="hljs-string">' äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯ï¼š'</span>,account_info  
        ,<span class="hljs-string">' äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰ï¼š'</span>,trade_date  
  ) <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> trade_date SEPARATOR <span class="hljs-string">';\n'</span>) <span class="hljs-keyword">as</span> ç›¸å…³æ•°æ®
</code></pre>
<p>ä½†æ˜¯ä½¿ç”¨èµ·æ¥å‘ç°å¦‚æœæ•°æ®å¤ªé•¿ä¼šæœ‰æ•°æ®æˆªæ–­çš„é—®é¢˜ã€‚å› æ­¤å¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§éœ€è¦æ³¨æ„ä»¥ä¸‹è®¾ç½®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹å’Œè®¾ç½® GROUP_CONCAT ç›¸å…³å‚æ•°</span>
<span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'group_concat_max_len'</span>;

<span class="hljs-comment">-- ä¸´æ—¶è®¾ç½®æœ€å¤§é•¿åº¦ï¼ˆé»˜è®¤1024å­—èŠ‚ï¼‰ ä¼šè¯çº§é…ç½®</span>
<span class="hljs-keyword">SET</span> SESSION group_concat_max_len <span class="hljs-operator">=</span> <span class="hljs-number">1000000</span>;

<span class="hljs-comment">-- åœ¨æŸ¥è¯¢ä¸­è®¾ç½®</span>
<span class="hljs-keyword">SET</span> @<span class="hljs-variable">@group</span>_concat_max_len <span class="hljs-operator">=</span> <span class="hljs-number">1000000</span>;
</code></pre>
<p>ä»¥ä¸Šå°±æ˜¯å¯¹äºæ•°æ®æ±‡æ€»å±•ç¤ºçš„ä¸€ä¸ªæ€»ç»“ã€‚å¸Œæœ›èƒ½å¸®åŠ©åˆ°éœ€è¦<strong>å±•ç¤ºæ€è·¯</strong>ä¸éœ€è¦<strong>èšåˆæ€è·¯</strong>çš„æœ‹å‹ã€‚</p>
<h3 data-id="heading-2">ç•ªå¤–ï¼š</h3>
<p>åé¢äº†è§£åˆ°ä¹Ÿå¯ä»¥é€šè¿‡jsonçš„æ–¹å¼æ¥å±•ç¤ºè¿™éƒ¨åˆ†æ•°æ®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-built_in">JSON_ARRAYAGG</span>(  
    <span class="hljs-built_in">JSON_OBJECT</span>(  
         <span class="hljs-string">'äº¤æ˜“å¯¹æ‰‹è´¦æˆ·'</span>,account  
        ,<span class="hljs-string">'äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯'</span>,account_info  
        ,<span class="hljs-string">'äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰'</span>,trade_date 
    )  
) <span class="hljs-keyword">as</span> ç›¸å…³æ•°æ®
</code></pre>
<p>ä¸è¿‡é—®é¢˜æ˜¯å±•ç¤ºçš„å­—æ®µé¡ºåºä¸å¯æ§ã€‚è¿™ä¸ªé—®é¢˜è¿˜æ²¡æœ‰è§£å†³çš„å¥½åŠæ³•ï¼Œå¦‚æœæœ‰å¤§ä½¬çœ‹åˆ°è¯·å¤šåšæŒ‡ç‚¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®°ä¸€æ¬¡Vue 2ä¸»åº”ç”¨é›†æˆVue 3å­é¡¹ç›®çš„Monorepoè¿ç§»è¸©å‘æŒ‡å—]]></title>    <link>https://juejin.cn/post/7592438587388772390</link>    <guid>https://juejin.cn/post/7592438587388772390</guid>    <pubDate>2026-01-07T09:35:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592438587388772390" data-draft-id="7592423411562561562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®°ä¸€æ¬¡Vue 2ä¸»åº”ç”¨é›†æˆVue 3å­é¡¹ç›®çš„Monorepoè¿ç§»è¸©å‘æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2026-01-07T09:35:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="user8615818578154"/> <meta itemprop="url" content="https://juejin.cn/user/3549647826599133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®°ä¸€æ¬¡Vue 2ä¸»åº”ç”¨é›†æˆVue 3å­é¡¹ç›®çš„Monorepoè¿ç§»è¸©å‘æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3549647826599133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    user8615818578154
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:35:34.000Z" title="Wed Jan 07 2026 09:35:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ€è¿‘åœ¨è¿›è¡ŒMonorepoæ¶æ„è°ƒæ•´ï¼Œéœ€è¦å°†ä¸€ä¸ªç°æœ‰çš„Vue 3(Vite)é¡¹ç›®ä½œä¸ºä¸€ä¸ªå­åº”ç”¨ (<code>apps/wj</code>) è¿ç§»åˆ°ç”±Vue 2(Webpack)ä¸»å¯¼çš„å¤§ä»“ä¸­ã€‚æœ¬ä»¥ä¸ºåªæ˜¯ç®€å•çš„â€œæ–‡ä»¶å¤¹ç§»åŠ¨â€ï¼Œç»“æœåœ¨ä¾èµ–ç®¡ç†ã€ç½‘ç»œä»£ç†å’Œç«¯å£æ˜ å°„ä¸Šè¸©äº†ä¸€åœˆå‘ã€‚</p>
<p>æœ¬æ–‡è®°å½•äº†ä»è¿ç§»åˆ°è·‘é€šå…¨æµç¨‹é‡åˆ°çš„4ä¸ªå…¸å‹é—®é¢˜åŠè§£å†³æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">å‘ç‚¹ä¸€ï¼špnpm ä¸¥æ ¼æ¨¡å¼ä¸‹çš„â€œå¹½çµä¾èµ–â€</h2>
<h3 data-id="heading-2">ğŸ’¥ ç°è±¡</h3>
<p>å°†é¡¹ç›®ç§»å…¥å¤§ä»“åï¼Œæ‰§è¡Œ <code>dev</code> è„šæœ¬æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-string">'vite'</span> ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº
</code></pre>
<p>æˆ–è€…å¯åŠ¨åæŠ¥é”™æ‰¾ä¸åˆ° <code>unplugin-auto-import</code>ã€<code>vue-request</code> ç­‰æ’ä»¶ã€‚</p>
<h3 data-id="heading-3">ğŸ” åŸå› </h3>
<p>åŸé¡¹ç›®å¯èƒ½ä½¿ç”¨ npm/yarnï¼Œå­˜åœ¨<strong>ä¾èµ–æå‡ (Hoisting)</strong> ï¼Œå³ <code>devDependencies</code> å³ä½¿æ²¡å†™åœ¨ <code>package.json</code> é‡Œï¼Œä¾é æ ¹ç›®å½• <code>node_modules</code> ä¹Ÿèƒ½è·‘ã€‚ ä½†è¿ç§»åˆ° <strong>pnpm Monorepo</strong> åï¼Œpnpm çš„ä¸¥æ ¼æœºåˆ¶è¦æ±‚<strong>æ‰€æœ‰ä½¿ç”¨çš„åŒ…å¿…é¡»æ˜¾å¼å£°æ˜</strong>ã€‚</p>
<h3 data-id="heading-4">âœ… è§£å†³</h3>
<p>åœ¨æ ¹ç›®å½•é€šè¿‡ <code>--filter</code> ä¸ºå­åº”ç”¨è¡¥å…¨ä¾èµ–ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># è¡¥å…¨æ„å»ºå·¥å…·</span>
pnpm add vite @vitejs/plugin-vue vue-tsc -D --filter wj

<span class="hljs-comment"># è¡¥å…¨ç¼ºå¤±çš„ä¸šåŠ¡/æ„å»ºæ’ä»¶</span>
pnpm add unplugin-auto-import unplugin-vue-components -D --filter wj
pnpm add vue-request --filter wj
</code></pre>
<hr/>
<h2 data-id="heading-5">å‘ç‚¹äºŒï¼šWorkspace å†…éƒ¨åŒ…çš„æ­£ç¡®å¼•ç”¨</h2>
<h3 data-id="heading-6">ğŸ’¥ ç°è±¡</h3>
<p>Vite å¯åŠ¨æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">Error [ERR_MODULE_NOT_FOUND]: Cannot find package <span class="hljs-string">'configs'</span> imported from ...
</code></pre>
<p>å­åº”ç”¨è¯•å›¾å¼•ç”¨å¤§ä»“å…±äº«çš„é…ç½®åŒ…ï¼ˆ<code>packages/configs</code>ï¼‰ï¼Œä½†æ‰¾ä¸åˆ°æ¨¡å—ã€‚</p>
<h3 data-id="heading-7">ğŸ” åŸå› </h3>
<p>å­åº”ç”¨è™½ç„¶ç‰©ç†ä¸Šåœ¨ monorepo é‡Œï¼Œä½† <code>package.json</code> é‡Œæ²¡æœ‰å£°æ˜å¯¹å†…éƒ¨åŒ…çš„ä¾èµ–ï¼Œå¯¼è‡´è½¯é“¾æ¥æœªå»ºç«‹ã€‚</p>
<h3 data-id="heading-8">âœ… è§£å†³</h3>
<p>ä½¿ç”¨ <code>--workspace</code> åè®®å»ºç«‹è½¯é“¾ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å°†å†…éƒ¨åŒ…é“¾æ¥ç»™å­åº”ç”¨</span>
pnpm add configs --workspace --filter wj
</code></pre>
<p><em>æ³¨æ„ï¼šå¦‚æœå…±äº«åŒ…å†…éƒ¨ä¹Ÿç”¨äº†æŸäº›æ’ä»¶ï¼ˆå¦‚ <code>@vitejs/plugin-vue</code>ï¼‰ï¼Œå…±äº«åŒ…è‡ªå·±ä¹Ÿå¿…é¡»å®‰è£…è¯¥æ’ä»¶ï¼Œå¦åˆ™ä¼šæŠ¥â€œçˆ¶çº§ä¾èµ–ç¼ºå¤±â€ã€‚</em></p>
<hr/>
<h2 data-id="heading-9">å‘ç‚¹ä¸‰ï¼šNode é«˜ç‰ˆæœ¬ localhost è§£æé™·é˜± (IPv6)</h2>
<h3 data-id="heading-10">ğŸ’¥ ç°è±¡</h3>
<p>ä¸»åº”ç”¨é…ç½®äº†ä»£ç†è½¬å‘åˆ°å­åº”ç”¨ï¼Œä½†åœ¨æµè§ˆå™¨è®¿é—®æ—¶æŠ¥ <strong>HTTP 500</strong>ï¼Œç»ˆç«¯æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">Error: connect EACCES ::1:5192
</code></pre>
<h3 data-id="heading-11">ğŸ” åŸå› </h3>
<ul>
<li><strong>ç¯å¢ƒï¼š</strong> Node.js v17+</li>
<li><strong>æœºåˆ¶ï¼š</strong> ä¸»åº”ç”¨ä»£ç†é…ç½®å†™äº† <code>target: 'http://localhost:5192'</code>ã€‚Node é»˜è®¤å°† <code>localhost</code> è§£æä¸º IPv6 åœ°å€ <code>::1</code>ã€‚</li>
<li><strong>å†²çªï¼š</strong> å­åº”ç”¨ (Vite) é»˜è®¤åªç›‘å¬ IPv4 (<code>127.0.0.1</code>)ã€‚ä¸»åº”ç”¨å» IPv6 ç«¯å£æ‰¾äººï¼Œè‡ªç„¶è¿ä¸ä¸Šã€‚</li>
</ul>
<h3 data-id="heading-12">âœ… è§£å†³</h3>
<p><strong>æ–¹æ¡ˆAï¼ˆæ¨èï¼‰ï¼š</strong> ä¿®æ”¹ä¸»åº”ç”¨ä»£ç†é…ç½®ï¼Œå¼ºåˆ¶ä½¿ç”¨ IPv4 IPã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// ä¸»åº”ç”¨ vite.config.ts / vue.config.js</span>
<span class="hljs-attr">proxy</span>: {
  <span class="hljs-string">'/wj'</span>: {
    <span class="hljs-attr">target</span>: <span class="hljs-string">'http://127.0.0.1:5192'</span>, <span class="hljs-comment">// ğŸ‘ˆ ä¸è¦å†™ localhost</span>
    <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>
  }
}
</code></pre>
<p><strong>æ–¹æ¡ˆBï¼š</strong> è®©å­åº”ç”¨ç›‘å¬æ‰€æœ‰åœ°å€ã€‚å¯åŠ¨å‘½ä»¤æ”¹ä¸º <code>vite --host</code>ã€‚</p>
<hr/>
<h2 data-id="heading-13">å‘ç‚¹å››ï¼šä¸»åº”ç”¨ä»£ç†â€œæ¼æ°”â€ (æ¥å£è¿”å› HTML)</h2>
<h3 data-id="heading-14">ğŸ’¥ ç°è±¡</h3>
<p>é¡µé¢åŠ è½½æˆåŠŸï¼Œä½†ä¸šåŠ¡æ¥å£ï¼ˆå¦‚ <code>/cmisp/api/xxx</code>ï¼‰æŠ¥ <strong>304</strong> æˆ– <strong>200</strong>ï¼ŒæŸ¥çœ‹ Response å†…å®¹ç«Ÿç„¶æ˜¯ <code>index.html</code> çš„ä»£ç ï¼Œå¯¼è‡´ JSON è§£æå¤±è´¥ã€‚</p>
<h3 data-id="heading-15">ğŸ” åŸå› </h3>
<p>ä¸»åº”ç”¨åªä»£ç†äº†é¡µé¢è·¯ç”± <code>/wj</code>ï¼Œä½†å­åº”ç”¨å‘å‡ºçš„ API è¯·æ±‚æ˜¯ <code>/cmisp</code> å¼€å¤´çš„ã€‚ ä¸»åº”ç”¨ä¸è®¤è¯† <code>/cmisp</code>ï¼Œå°†å…¶å½“æˆäº†å‰ç«¯è·¯ç”±å¤„ç†ï¼Œç›´æ¥è¿”å›äº† <code>index.html</code>ã€‚</p>
<h3 data-id="heading-16">âœ… è§£å†³</h3>
<p>åœ¨ä¸»åº”ç”¨ä¸­è¡¥å…¨ API çš„ä»£ç†è½¬å‘è§„åˆ™ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// ä¸»åº”ç”¨ vite.config.ts</span>
<span class="hljs-attr">server</span>: {
  <span class="hljs-attr">proxy</span>: {
    <span class="hljs-comment">// 1. å­åº”ç”¨é¡µé¢èµ„æº</span>
    <span class="hljs-string">'/wj'</span>: {
      <span class="hljs-attr">target</span>: <span class="hljs-string">'http://127.0.0.1:5192'</span>,
      <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-comment">// 2. å­åº”ç”¨ API è¯·æ±‚ (æ–°å¢)</span>
    <span class="hljs-string">'/cmisp'</span>: {
      <span class="hljs-attr">target</span>: <span class="hljs-string">'http://127.0.0.1:5192'</span>, <span class="hljs-comment">// å¦‚æœæ˜¯ mock æ•°æ®èµ°è¿™é‡Œï¼›å¦‚æœæ˜¯çœŸå®åç«¯å¡«åç«¯ IP</span>
      <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>
    }
  }
}
</code></pre>
<h2 data-id="heading-17">æ€»ç»“</h2>
<p>Monorepo è¿ç§»ä¸ä»…ä»…æ˜¯æ–‡ä»¶æ¬è¿ï¼Œæ ¸å¿ƒåœ¨äºï¼š</p>
<ol>
<li><strong>ä¾èµ–è¾¹ç•Œ</strong>ï¼špnpm ä¸‹å¿…é¡»â€œè°ç”¨è°è£…â€ã€‚</li>
<li><strong>ç½‘ç»œäº’é€š</strong>ï¼šNode é«˜ç‰ˆæœ¬ä¸‹ <code>localhost</code> çš„ IPv6 å‘éœ€è¦æ ¼å¤–æ³¨æ„ã€‚</li>
<li><strong>è·¯ç”±æ¥ç®¡</strong>ï¼šä¸»åº”ç”¨ä½œä¸ºç½‘å…³ï¼Œå¿…é¡»æ¥ç®¡å­åº”ç”¨çš„æ‰€æœ‰è¯·æ±‚ï¼ˆåŒ…æ‹¬é™æ€èµ„æºå’Œ APIï¼‰ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æå‡å·¥ä½œæ•ˆç‡çš„Utils]]></title>    <link>https://juejin.cn/post/7592410399916752937</link>    <guid>https://juejin.cn/post/7592410399916752937</guid>    <pubDate>2026-01-07T09:46:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592410399916752937" data-draft-id="7592134330313703467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æå‡å·¥ä½œæ•ˆç‡çš„Utils"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,TypeScript"/> <meta itemprop="datePublished" content="2026-01-07T09:46:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹æ—ä¸æƒ³è¯´è¯"/> <meta itemprop="url" content="https://juejin.cn/user/2963939079754030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æå‡å·¥ä½œæ•ˆç‡çš„Utils
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2963939079754030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹æ—ä¸æƒ³è¯´è¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:46:01.000Z" title="Wed Jan 07 2026 09:46:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ€»ç»“ä¸€äº›å·¥ä½œä¸­å¸¸ç”¨åˆ°çš„utilsï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°å¤§å®¶ï¼Œå¢åŠ æ‘¸é±¼æ—¶é—´</p>
<h3 data-id="heading-0">getHidePhone</h3>
<p>è·å–è„±æ•å·ç </p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> éšè—æ‰‹æœºå·
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} content å†…å®¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} hideLen è¦éšè—çš„é•¿åº¦ï¼Œé»˜è®¤ä¸º4
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} symbol ç¬¦å·ï¼Œé»˜è®¤ä¸º*
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} padStartOrEnd å¦‚æœå¹³åˆ†çš„é•¿åº¦ä¸ºå¥‡æ•°ï¼Œå¤šå‡ºçš„ä¸€ä½å¡«å……çš„ä½ç½®ï¼Œé»˜è®¤ä¸ºend
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Boolean</span>} removeNan æ˜¯å¦ç§»é™¤éæ•°å­—ï¼Œé»˜è®¤ä¸ºtrue
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} éšè—åçš„å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getHidePhone</span> = (<span class="hljs-params">
  content: <span class="hljs-built_in">string</span>,
  hideLen = <span class="hljs-number">4</span>,
  <span class="hljs-built_in">symbol</span> = <span class="hljs-string">'*'</span>,
  padStartOrEnd: <span class="hljs-string">'start'</span> | <span class="hljs-string">'end'</span> = <span class="hljs-string">'end'</span>,
  removeNan = <span class="hljs-literal">true</span>,
</span>) =&gt; {
  <span class="hljs-comment">// å¦‚æœéœ€è¦å…ˆç§»é™¤éæ•°å­—</span>
  <span class="hljs-keyword">if</span> (removeNan) {
    content = content.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[^\d]/g</span>, <span class="hljs-string">''</span>)
  }

  <span class="hljs-keyword">const</span> contentLen = content.<span class="hljs-property">length</span>

  <span class="hljs-comment">// ä¸æ˜¯å­—ç¬¦ä¸²ã€ç©ºå­—ç¬¦ä¸²ã€è¦éšè—çš„é•¿åº¦ä¸º0ç›´æ¥è¿”å›åŸå§‹å­—ç¬¦ä¸²</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getTypeOf</span>(content) !== <span class="hljs-string">'String'</span> || !contentLen || !hideLen) <span class="hljs-keyword">return</span> content
  <span class="hljs-comment">// éšè—é•¿åº¦å¤§äºç­‰äºå†…å®¹é•¿åº¦ï¼Œç›´æ¥è¿”å›åŸå§‹å­—ç¬¦ä¸²é•¿åº¦çš„ç¬¦å·</span>
  <span class="hljs-keyword">if</span> (contentLen &lt;= hideLen)
    <span class="hljs-keyword">return</span> content.<span class="hljs-title function_">replace</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`\\d{1}`</span>, <span class="hljs-string">'g'</span>), <span class="hljs-string">'*'</span>)

  <span class="hljs-keyword">const</span> remainingLen = contentLen - hideLen
  <span class="hljs-keyword">const</span> splitLen = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(remainingLen / <span class="hljs-number">2</span>)
  <span class="hljs-keyword">let</span> start = splitLen
  <span class="hljs-keyword">let</span> end = splitLen
  <span class="hljs-keyword">if</span> (remainingLen % <span class="hljs-number">2</span> === <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">if</span> (padStartOrEnd === <span class="hljs-string">'start'</span>) {
      start += <span class="hljs-number">1</span>
    } <span class="hljs-keyword">else</span> {
      end += <span class="hljs-number">1</span>
    }
  }

  <span class="hljs-keyword">return</span> content.<span class="hljs-title function_">replace</span>(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^(\\d{<span class="hljs-subst">${start}</span>})\\d{<span class="hljs-subst">${hideLen}</span>}(\\d{<span class="hljs-subst">${end}</span>})$`</span>),
    <span class="hljs-string">`$1<span class="hljs-subst">${<span class="hljs-built_in">symbol</span>.repeat(hideLen)}</span>$2`</span>,
  )
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>)) <span class="hljs-comment">// 151****4289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'151'</span>)) <span class="hljs-comment">// ***</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'1510'</span>)) <span class="hljs-comment">// ***0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">''</span>)) <span class="hljs-comment">// ''</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>, <span class="hljs-number">6</span>)) <span class="hljs-comment">// 15******289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>, <span class="hljs-number">40</span>)) <span class="hljs-comment">// ***********</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-string">'-'</span>)) <span class="hljs-comment">// 151----4289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-string">'start'</span>)) <span class="hljs-comment">// 1510****289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-string">'end'</span>)) <span class="hljs-comment">// 151****4289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'151-083%#2  4289'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">undefined</span>)) <span class="hljs-comment">// 151****4289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'151-083%#2  4289'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">false</span>),
) <span class="hljs-comment">// 151-083%#2  4289</span>
</code></pre>
<h3 data-id="heading-1">formateContentBySymbol</h3>
<p>æ ¼å¼åŒ–å†…å®¹ï¼Œæ ¹æ®ç¬¦å·è¿›è¡Œæ ¼å¼åŒ–ï¼Œå¸¸ç”¨äºåƒåˆ†ä½åˆ†å‰²</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ ¼å¼åŒ–å†…å®¹ï¼Œæ ¹æ®ç¬¦å·è¿›è¡Œæ ¼å¼åŒ–
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} content å†…å®¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} symbol ç¬¦å·
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} gap ç¬¦å·ä¹‹é—´çš„é—´è·ï¼Œé»˜è®¤3ä¸ªç©ºæ ¼
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} æ ¼å¼åŒ–åçš„å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">formateContentBySymbol</span> = (<span class="hljs-params">
  content: <span class="hljs-built_in">string</span>,
  <span class="hljs-built_in">symbol</span>: <span class="hljs-built_in">string</span>,
  gap = <span class="hljs-number">3</span>,
</span>) =&gt; {
  <span class="hljs-keyword">return</span> content.<span class="hljs-title function_">replace</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`(\\d{<span class="hljs-subst">${gap}</span>})(?=\\d)`</span>, <span class="hljs-string">'g'</span>), <span class="hljs-string">`$1<span class="hljs-subst">${<span class="hljs-built_in">symbol</span>}</span>`</span>)
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ ¼å¼åŒ–å†…å®¹ï¼Œæ ¹æ®ç¬¦å·è¿›è¡Œæ ¼å¼åŒ–
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} content å†…å®¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} symbol ç¬¦å·
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} gap ç¬¦å·ä¹‹é—´çš„é—´è·ï¼Œé»˜è®¤3ä¸ªç©ºæ ¼
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} æ ¼å¼åŒ–åçš„å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">formateContentBySymbol2</span> = (<span class="hljs-params">
  content: <span class="hljs-built_in">string</span>,
  <span class="hljs-built_in">symbol</span>: <span class="hljs-built_in">string</span>,
  gap = <span class="hljs-number">3</span>,
</span>) =&gt; {
  <span class="hljs-keyword">return</span> content.<span class="hljs-title function_">replace</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`\\B(?=(\\d{<span class="hljs-subst">${gap}</span>})+$)`</span>, <span class="hljs-string">'g'</span>), <span class="hljs-built_in">symbol</span>)
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ ¼å¼åŒ–å†…å®¹ï¼Œæ ¹æ®ç¬¦å·è¿›è¡Œæ ¼å¼åŒ–
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} content å†…å®¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} symbol ç¬¦å·
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} gap ç¬¦å·ä¹‹é—´çš„é—´è·ï¼Œé»˜è®¤3ä¸ªç©ºæ ¼
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} æ ¼å¼åŒ–åçš„å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">formateContentBySymbol3</span> = (<span class="hljs-params">
  content: <span class="hljs-built_in">string</span>,
  <span class="hljs-built_in">symbol</span>: <span class="hljs-built_in">string</span>,
  gap = <span class="hljs-number">3</span>,
</span>) =&gt; {
  <span class="hljs-keyword">return</span> content.<span class="hljs-title function_">replace</span>(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`(\\d)(?=(\\d{<span class="hljs-subst">${gap}</span>})+$)`</span>, <span class="hljs-string">'g'</span>),
    <span class="hljs-string">`$1<span class="hljs-subst">${<span class="hljs-built_in">symbol</span>}</span>`</span>,
  )
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">formateContentBySymbol</span>(<span class="hljs-string">'235789075433254321'</span>, <span class="hljs-string">','</span>)) <span class="hljs-comment">// 235,789,075,433,254,321</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">formateContentBySymbol2</span>(<span class="hljs-string">'235789075433254321'</span>, <span class="hljs-string">','</span>, <span class="hljs-number">7</span>)) <span class="hljs-comment">// 2357,8907543,3254321</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">formateContentBySymbol3</span>(<span class="hljs-string">'235789075433254321'</span>, <span class="hljs-string">','</span>, <span class="hljs-number">2</span>)) <span class="hljs-comment">// 23,57,89,07,54,33,25,43,21</span>
</code></pre>
<h3 data-id="heading-2">zeroNDigitMDecimalReg</h3>
<p>0æˆ–è€…nä½çš„æ•°å­—ï¼Œæœ€å¤šmä½å°æ•°æ­£åˆ™</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@desc</span> 0æˆ–è€…nä½çš„æ•°å­—ï¼Œæœ€å¤šmä½å°æ•°
 * <span class="hljs-doctag">@param</span> n nä½çš„æ•°å­—
 * <span class="hljs-doctag">@param</span> m æœ€å¤šmä½å°æ•°
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">RegExp</span>} è¿”å›æ­£åˆ™è¡¨è¾¾å¼
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> zeroNDigitMDecimalReg = (n = <span class="hljs-number">4</span>, m = <span class="hljs-number">2</span>): <span class="hljs-function"><span class="hljs-params">RegExp</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (!m) {
    <span class="hljs-comment">// æ²¡æœ‰å°æ•°ä½çš„æƒ…å†µ</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^(0|([1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}))$`</span>)
  }

  <span class="hljs-comment">// ä¸€ä½å°æ•°ä½çš„æƒ…å†µ</span>
  <span class="hljs-keyword">if</span> (m === <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^(0(\\.[1-9])?|([1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}(\\.[1-9])?))$`</span>)
  }

  <span class="hljs-comment">// äºŒä½å°æ•°ä½çš„æƒ…å†µ</span>
  <span class="hljs-keyword">if</span> (m === <span class="hljs-number">2</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(
      <span class="hljs-string">`^(0(\\.(([1-9]{1,2})|0[1-9]))?|([1-9][0-9]{0,<span class="hljs-subst">${
        n - <span class="hljs-number">1</span>
      }</span>}(\\.(([1-9]{1,2})|0[1-9]))?))$`</span>,
    )
  }

  <span class="hljs-comment">// äºŒä½ä»¥ä¸Šå°æ•°ä½çš„æƒ…å†µ</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(
    <span class="hljs-string">`^(0(\\.(([1-9]{1,<span class="hljs-subst">${m - <span class="hljs-number">1</span>}</span>})|([0-9]{1,<span class="hljs-subst">${m - <span class="hljs-number">1</span>}</span>}[1-9]?)))?|([1-9][0-9]{0,<span class="hljs-subst">${
      n - <span class="hljs-number">1</span>
    }</span>}(\\.(([1-9]{1,<span class="hljs-subst">${m - <span class="hljs-number">1</span>}</span>})|([0-9]{1,<span class="hljs-subst">${m - <span class="hljs-number">1</span>}</span>}[1-9]?)))?))$`</span>,
  )
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zeroNDigitMDecimalReg</span>(<span class="hljs-number">4</span>, <span class="hljs-number">2</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123456789.123456789'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zeroNDigitMDecimalReg</span>(<span class="hljs-number">4</span>, <span class="hljs-number">10</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1232.123456789'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zeroNDigitMDecimalReg</span>(<span class="hljs-number">4</span>, <span class="hljs-number">2</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.1'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zeroNDigitMDecimalReg</span>(<span class="hljs-number">8</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'13323234.000001'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zeroNDigitMDecimalReg</span>(<span class="hljs-number">8</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'13323234.0000001'</span>)) <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-3">nDigitReg</h3>
<p>0æˆ–è€…nä½çš„æ•´æ•°æ­£åˆ™</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@desc</span> 0æˆ–è€…nä½çš„æ•´æ•°æ­£åˆ™
 * <span class="hljs-doctag">@param</span> n æœ€å¤šnä½çš„æ•°å­—
 * <span class="hljs-doctag">@param</span> with0 æ˜¯å¦åŒ…å«0
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">RegExp</span>} è¿”å›æ­£åˆ™è¡¨è¾¾å¼
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">nDigitReg</span> = (<span class="hljs-params">n = <span class="hljs-number">4</span>, with0?: <span class="hljs-built_in">boolean</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (with0) {
    <span class="hljs-comment">// åŒ…å«0çš„æƒ…å†µ</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^(0|([1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}))$`</span>)
  }

  <span class="hljs-comment">// ä¸åŒ…å«0çš„æƒ…å†µ</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^[1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}$`</span>)
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123456789'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.56789'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>(<span class="hljs-literal">undefined</span>, <span class="hljs-literal">true</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>(<span class="hljs-literal">undefined</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0'</span>)) <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-4">onetonnine</h3>
<p>1-9xxxx  nä¸ª9</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@desc</span> 1-9xxxx  nä¸ª9
 * <span class="hljs-doctag">@param</span> n nä½ï¼Œä¸€å…±å¤šå°‘ä½æ•°å­—
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">onetonnine</span> = (<span class="hljs-params">n = <span class="hljs-number">3</span></span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^[1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}$`</span>)
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'12343'</span>)) <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-5">zerotonnine</h3>
<p>0-9xxxx  nä¸ª9</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@desc</span> 0-9xxxx  nä¸ª9
 * <span class="hljs-doctag">@param</span> n nä½ï¼Œä¸€å…±å¤šå°‘ä½æ•°å­—
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">zerotonnine</span> = (<span class="hljs-params">n = <span class="hljs-number">3</span></span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^(0|([1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}))$`</span>)
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'12343'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'0'</span>)) <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-6">zerotonnine2Decimal</h3>
<p>0-9xxxx nä¸ª9, æœ€å¤šä¸¤ä½å°æ•°</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> 0-9xxxx nä¸ª9, æœ€å¤šä¸¤ä½å°æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} n nä½ï¼Œä¸€å…±å¤šå°‘ä½æ•°å­—ï¼Œé»˜è®¤4ä½æ•°
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">RegExp</span>} æ­£åˆ™
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">zerotonnine2Decimal</span> = (<span class="hljs-params">n = <span class="hljs-number">4</span></span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(
    <span class="hljs-string">`^(0(\\.(([1-9]{1,2})|0[1-9]))?|([1-9][0-9]{0,<span class="hljs-subst">${
      n - <span class="hljs-number">1</span>
    }</span>}(\\.(([1-9]{1,2})|0[1-9]))?))$`</span>,
  )
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.00'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.01'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.1'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.10'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.001'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123456789'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0.01'</span>)) <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-7">onetonnine2Decimal</h3>
<p>1-9xxxx nä¸ª9, æœ€å¤šä¸¤ä½å°æ•°</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> 1-9xxxx nä¸ª9, æœ€å¤šä¸¤ä½å°æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} n nä½ï¼Œä¸€å…±å¤šå°‘ä½æ•°å­—ï¼Œé»˜è®¤4ä½æ•°
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">RegExp</span>} æ­£åˆ™
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">onetonnine2Decimal</span> = (<span class="hljs-params">n = <span class="hljs-number">4</span></span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^[1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}(\\.(([1-9]{1,2})|0[1-9]))?$`</span>)
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.00'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.01'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.1'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.10'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.001'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123456789'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0.01'</span>)) <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-8">setCliboardContent</h3>
<p>å¤åˆ¶æ–‡æœ¬çš„é€šç”¨å‡½æ•°</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å¤åˆ¶æ–‡æœ¬çš„é€šç”¨å‡½æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} content è¦å¤åˆ¶çš„å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setCliboardContent</span>(<span class="hljs-params">content?: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">if</span> (!content) <span class="hljs-keyword">return</span>

  <span class="hljs-keyword">const</span> selection = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">getSelection</span>()
  <span class="hljs-keyword">if</span> (selection?.<span class="hljs-property">rangeCount</span>) {
    selection?.<span class="hljs-title function_">removeAllRanges</span>()
  }
  <span class="hljs-keyword">const</span> el = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'textarea'</span>)
  el.<span class="hljs-property">value</span> = content || <span class="hljs-string">''</span>
  el.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'readonly'</span>, <span class="hljs-string">''</span>)
  el.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'absolute'</span>
  el.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">'-9999px'</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(el)
  el.<span class="hljs-title function_">select</span>()
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">execCommand</span>(<span class="hljs-string">'copy'</span>)
  el.<span class="hljs-title function_">remove</span>()
}
</code></pre>
<h3 data-id="heading-9">getCliboardValue</h3>
<p>è·å–å‰ªåˆ‡æ¿ä¸­çš„å†…å®¹</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> è·å–å‰ªåˆ‡æ¿ä¸­çš„å†…å®¹
 * <span class="hljs-doctag">@returns</span> å‰ªåˆ‡æ¿å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCliboardValue</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> el = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'input'</span>)
  el.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'absolute'</span>
  el.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">'-9999px'</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(el)
  el.<span class="hljs-title function_">select</span>()
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">execCommand</span>(<span class="hljs-string">'paste'</span>)
  <span class="hljs-comment">// è·å–æ–‡æœ¬è¾“å…¥æ¡†ä¸­çš„å€¼</span>
  <span class="hljs-keyword">const</span> clipboardValue = el.<span class="hljs-property">value</span>
  el.<span class="hljs-title function_">remove</span>()
  <span class="hljs-keyword">return</span> clipboardValue
}
</code></pre>
<h3 data-id="heading-10">delay</h3>
<p>å»¶è¿Ÿæ‰§è¡Œ</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å»¶è¿Ÿæ‰§è¡Œ
 * <span class="hljs-doctag">@param</span> wait å»¶è¿Ÿæ—¶é—´
 * <span class="hljs-doctag">@returns</span>
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">delay</span>(<span class="hljs-params">wait = <span class="hljs-number">1000</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, wait))
}
</code></pre>
<h3 data-id="heading-11">getTypeOf</h3>
<p>è·å–æ•°æ®ç±»å‹</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> è·å–æ•°æ®ç±»å‹
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">data</span>
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} è·å–åˆ°çš„æ•°æ®ç±»å‹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getTypeOf</span>(<span class="hljs-params">data: <span class="hljs-built_in">any</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(data).<span class="hljs-title function_">slice</span>(<span class="hljs-number">8</span>, -<span class="hljs-number">1</span>)
}
</code></pre>
<h3 data-id="heading-12">trimStart</h3>
<p>å»é™¤å­—ç¬¦ä¸²å¼€å¤´çš„ç©ºæ ¼</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å»é™¤å­—ç¬¦ä¸²å¼€å¤´çš„ç©ºæ ¼
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} str è¦å¤„ç†çš„å­—ç¬¦ä¸²
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} å»é™¤ç©ºæ ¼åçš„å­—ç¬¦ä¸²
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">trimStart</span> = (<span class="hljs-params">str: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getTypeOf</span>(str) !== <span class="hljs-string">'String'</span>) {
    <span class="hljs-keyword">return</span> str
  }
  <span class="hljs-keyword">return</span> str?.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^(\s+)(.*)$/g</span>, <span class="hljs-string">'$2'</span>)
}
</code></pre>
<h3 data-id="heading-13">trimEnd</h3>
<p>å»é™¤å­—ç¬¦ä¸²ç»“å°¾çš„ç©ºæ ¼</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å»é™¤å­—ç¬¦ä¸²ç»“å°¾çš„ç©ºæ ¼
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} str è¦å¤„ç†çš„å­—ç¬¦ä¸²
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} å»é™¤ç©ºæ ¼åçš„å­—ç¬¦ä¸²
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">trimEnd</span> = (<span class="hljs-params">str: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getTypeOf</span>(str) !== <span class="hljs-string">'String'</span>) {
    <span class="hljs-keyword">return</span> str
  }
  <span class="hljs-keyword">return</span> str?.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^(.*)(\s+)$/g</span>, <span class="hljs-string">'$1'</span>)
}
</code></pre>
<h3 data-id="heading-14">trimAll</h3>
<p>å»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç©ºæ ¼</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç©ºæ ¼
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} str è¦å¤„ç†çš„å­—ç¬¦ä¸²
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} å»é™¤ç©ºæ ¼åçš„å­—ç¬¦ä¸²
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">trimAll</span> = (<span class="hljs-params">str: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getTypeOf</span>(str) !== <span class="hljs-string">'String'</span>) {
    <span class="hljs-keyword">return</span> str
  }
  <span class="hljs-keyword">return</span> str?.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\s+/g</span>, <span class="hljs-string">''</span>)
}
</code></pre>
<h3 data-id="heading-15">compressPic</h3>
<p>å‹ç¼©å›¾ç‰‡</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å‹ç¼©å›¾ç‰‡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">File</span>} file è¦å¤„ç†çš„å›¾ç‰‡æ–‡ä»¶
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} quality å‹ç¼©è´¨é‡
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;File | Blob&gt;</span>} å‹ç¼©åçš„å›¾ç‰‡æ–‡ä»¶
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">compressPic</span>(<span class="hljs-params">
  file: File,
  quality = <span class="hljs-number">0.6</span>,
</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">File</span> | <span class="hljs-title class_">Blob</span>&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> reads = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>()
      reads.<span class="hljs-title function_">readAsDataURL</span>(file)
      reads.<span class="hljs-property">onload</span> = <span class="hljs-function">(<span class="hljs-params">{ target }</span>) =&gt;</span> {
        <span class="hljs-comment">// è¿™é‡Œqualityçš„èŒƒå›´æ˜¯ï¼ˆ0-1ï¼‰</span>
        <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>)
        <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>)!
        <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>()
        img.<span class="hljs-property">src</span> = (target <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>)?.<span class="hljs-property">result</span>
        img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
          <span class="hljs-keyword">const</span> width = img.<span class="hljs-property">width</span>
          <span class="hljs-keyword">const</span> height = img.<span class="hljs-property">height</span>
          canvas.<span class="hljs-property">width</span> = width
          canvas.<span class="hljs-property">height</span> = height
          ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height)
          <span class="hljs-comment">// è½¬æ¢æˆbase64æ ¼å¼ qualityä¸ºå›¾ç‰‡å‹ç¼©è´¨é‡ 0-1ä¹‹é—´  å€¼è¶Šå°å‹ç¼©çš„è¶Šå¤§ å›¾ç‰‡è´¨é‡è¶Šå·®</span>
          canvas.<span class="hljs-title function_">toBlob</span>(
            <span class="hljs-function">(<span class="hljs-params">blob</span>) =&gt;</span> {
              <span class="hljs-title function_">resolve</span>(blob!)
            },
            file.<span class="hljs-property">type</span>,
            quality,
          )
        }
      }
      reads.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">resolve</span>(file)
      }
    } <span class="hljs-keyword">catch</span> {
      <span class="hljs-title function_">resolve</span>(file)
    }
  })
}
</code></pre>
<h3 data-id="heading-16">randomString</h3>
<p>ç”ŸæˆæŒ‡å®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸²</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> ç”ŸæˆæŒ‡å®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸²
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} length è¾“å‡ºå­—ç¬¦ä¸²çš„é•¿åº¦
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} radix å­—ç¬¦ä¸²çš„åŸºæ•°ï¼Œé»˜è®¤ä¸º36ï¼ˆåŒ…æ‹¬0-36ï¼‰
 * <span class="hljs-doctag">@returns</span> è¿”å›æŒ‡å®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸²ï¼Œå…¨éƒ¨ä¸ºå¤§å†™
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">randomString</span> = (<span class="hljs-params">length: <span class="hljs-built_in">number</span>, radix = <span class="hljs-number">36</span></span>) =&gt; {
  <span class="hljs-comment">// ç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸²ï¼ŒåŸºæ•°ä¸ºradixï¼Œå¹¶å»é™¤å‰ä¸¤ä½"0."</span>
  <span class="hljs-keyword">let</span> str = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(radix).<span class="hljs-title function_">substring</span>(<span class="hljs-number">2</span>)
  <span class="hljs-comment">// å¦‚æœç”Ÿæˆçš„å­—ç¬¦ä¸²é•¿åº¦å¤§äºç­‰äºæ‰€éœ€é•¿åº¦ï¼Œåˆ™æˆªå–å‰lengthä¸ªå­—ç¬¦å¹¶è½¬ä¸ºå¤§å†™</span>
  <span class="hljs-keyword">if</span> (str.<span class="hljs-property">length</span> &gt;= length) {
    <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, length).<span class="hljs-title function_">toLocaleUpperCase</span>()
  }
  <span class="hljs-comment">// å¦‚æœå­—ç¬¦ä¸²é•¿åº¦ä¸è¶³ï¼Œé€’å½’è°ƒç”¨è‡ªèº«ä»¥ç”Ÿæˆå‰©ä½™é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œå¹¶æ‹¼æ¥åˆ°åŸå­—ç¬¦ä¸²ä¸Š</span>
  str += <span class="hljs-title function_">randomString</span>(length - str.<span class="hljs-property">length</span>, radix)
  <span class="hljs-comment">// å°†æœ€ç»ˆå­—ç¬¦ä¸²è½¬ä¸ºå¤§å†™å¹¶è¿”å›</span>
  <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">toLocaleUpperCase</span>()
}
</code></pre>
<h3 data-id="heading-17">scrollToBottom</h3>
<p>æ»šåŠ¨åˆ°åº•éƒ¨</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ»šåŠ¨åˆ°åº•éƒ¨
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} selector ç±»å
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">scrollToBottom</span> = (<span class="hljs-params">selector?: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> domWrapper = selector
    ? <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(selector)
    : <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span> || <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span> <span class="hljs-comment">// å¤–å±‚å®¹å™¨ å‡ºç°æ»šåŠ¨æ¡çš„dom</span>
  <span class="hljs-keyword">if</span> (domWrapper) {
    domWrapper.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">top</span>: domWrapper.<span class="hljs-property">scrollHeight</span>, <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span> })
  }
}
</code></pre>
<h3 data-id="heading-18">scrollToTop</h3>
<p>æ»šåŠ¨åˆ°é¡¶éƒ¨</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ»šåŠ¨åˆ°é¡¶éƒ¨
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} selector ç±»å
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">scrollToTop</span> = (<span class="hljs-params">selector?: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> domWrapper = selector
    ? <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(selector)
    : <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span> || <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span> <span class="hljs-comment">// å¤–å±‚å®¹å™¨ å‡ºç°æ»šåŠ¨æ¡çš„dom</span>
  <span class="hljs-keyword">if</span> (domWrapper) {
    domWrapper.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span> })
  }
}
</code></pre>
<h3 data-id="heading-19">isJSON</h3>
<p>åˆ¤æ–­æ˜¯å¦ä¸ºJSONå­—ç¬¦ä¸²</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> åˆ¤æ–­æ˜¯å¦ä¸ºJSONå­—ç¬¦ä¸²
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} str å­—ç¬¦ä¸²
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Boolean</span>} æ˜¯å¦ä¸ºJSONå­—ç¬¦ä¸²
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isJSON</span>(<span class="hljs-params">str: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> str !== <span class="hljs-string">'string'</span>) {
    <span class="hljs-comment">// 1ã€ä¼ å…¥å€¼å¿…é¡»æ˜¯ å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(str) <span class="hljs-comment">// 2ã€ä»…ä»…é€šè¿‡ JSON.parse(str)ï¼Œä¸èƒ½å®Œå…¨æ£€éªŒä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯JSONæ ¼å¼çš„å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">'object'</span> &amp;&amp; obj) {
      <span class="hljs-comment">//3ã€è¿˜å¿…é¡»æ˜¯ object ç±»å‹</span>
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  } <span class="hljs-keyword">catch</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }
}
</code></pre>
<h3 data-id="heading-20">getRandomIntInclusive</h3>
<p>ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°ï¼ˆåŒ…å«æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼‰</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°ï¼ˆåŒ…å«æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼‰
 * <span class="hljs-doctag">@param</span> min æœ€å°å€¼ï¼ˆåŒ…å«ï¼‰
 * <span class="hljs-doctag">@param</span> max æœ€å¤§å€¼ï¼ˆåŒ…å«ï¼‰
 * <span class="hljs-doctag">@returns</span> æŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getRandomIntInclusive</span>(<span class="hljs-params">
  min: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>,
  max: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>,
</span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * (max - min + <span class="hljs-number">1</span>)) + min
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringCloud_Nacos]]></title>    <link>https://juejin.cn/post/7592148975848833067</link>    <guid>https://juejin.cn/post/7592148975848833067</guid>    <pubDate>2026-01-07T10:17:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975848833067" data-draft-id="7592236397535969316" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringCloud_Nacos"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T10:17:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ihgry"/> <meta itemprop="url" content="https://juejin.cn/user/3210229685954718"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringCloud_Nacos
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3210229685954718/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ihgry
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:17:13.000Z" title="Wed Jan 07 2026 10:17:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">åŸºç¡€æ¦‚å¿µ</h4>
<ul>
<li>nacosé…ç½®ä¸­å¿ƒé€šè¿‡<code>namespace</code>ã€<code>group</code> å’Œ <code>dataId</code> æ¥å”¯ä¸€ç¡®å®šä¸€æ¡é…ç½®ï¼Œ</li>
<li>dataIdçš„æ ¼å¼ï¼š<code>${prefix}-${spring.profiles.active}.${file-extension}</code></li>
<li><code>prefix</code>ï¼šé»˜è®¤ä¸º<code>spring.application.name</code>
<ul>
<li><code>spring.profiles.active</code>ï¼šå½“å‰æ¿€æ´»çš„ç¯å¢ƒï¼Œå½“<code>spring.profiles.active</code>ä¸ºç©ºæ—¶ï¼Œå¯¹åº”çš„è¿æ¥ç¬¦<code>-</code>ä¹Ÿå°†ä¸å­˜åœ¨ï¼ŒdataIdçš„æ‹¼æ¥æ ¼å¼å˜ æˆï¼š<code>${prefix}.${file-extension}</code></li>
<li><code>${file-extension}</code>ï¼šé»˜è®¤ä¸º<code>properties</code></li>
</ul>
</li>
<li>æ‹‰å–å¤šä¸ªå…±äº«æ–‡ä»¶ï¼Œè¦åœ¨åŒä¸€å‘½åç©ºé—´ä¸‹ï¼Œä¸èƒ½è·¨å‘½åç©ºé—´</li>
<li>æ³¨æ„springbootå’Œspringcloudçš„ç‰ˆæœ¬å¯¹åº”</li>
</ul>
<h4 data-id="heading-1">ä¸‹è½½å®‰è£…</h4>
<ul>
<li>ä¸‹è½½ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2Fnacos%2Ftags" target="_blank" title="https://github.com/alibaba/nacos/tags" ref="nofollow noopener noreferrer">github.com/alibaba/nacâ€¦</a></li>
<li>å¯åŠ¨ï¼š<code>startup.cmd -m standalone</code></li>
<li>è®¿é—®ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8848%2Fnacos%2F" target="_blank" title="http://localhost:8848/nacos/" ref="nofollow noopener noreferrer">http://localhost:8848/nacos/</a>     è´¦å·å¯†ç ï¼šnacos</li>
</ul>
<h4 data-id="heading-2">é…ç½®ä¸­å¿ƒ</h4>
<ul>
<li>
<p>å¼•å…¥ä¾èµ–</p>
<pre><code class="hljs language-java" lang="java">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">4.1</span><span class="hljs-number">.5</span>&lt;/version&gt;
&lt;/dependency&gt;
    
&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-config&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">2021.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span>&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li>
<p>å®Œæ•´<code>bootstrap.properties</code>é…ç½®ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">spring.application.name=testccb
spring.cloud.nacos.config.username=nacos
spring.cloud.nacos.config.password=nacos
spring.cloud.nacos.config.server-addr=192.168.1.211:8848
spring.cloud.nacos.config.namespace=4f4b-363e-47a5-8a-dbd288c
spring.cloud.nacos.config.group=com.iotsh

# æ‹‰å–å…±äº«çš„é…ç½®
spring.cloud.nacos.config.extension-configs[0].data-id=testccb.properties
spring.cloud.nacos.config.extension-configs[0].group=ccb
spring.cloud.nacos.config.extension-configs[0].refresh=true
</code></pre>
</li>
</ul>
<h4 data-id="heading-3">æ³¨å†Œä¸­å¿ƒ</h4>
<ul>
<li>
<p>å¼•å…¥ä¾èµ–</p>
<pre><code class="hljs language-java" lang="java">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">4.1</span><span class="hljs-number">.5</span>&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">2021.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span>&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
</ul>
<ul>
<li>
<p>é…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-properties" lang="properties">spring.cloud.nacos.discovery.server-addr=192.168.1.211:8848
spring.cloud.nacos.discovery.username=nacos
spring.cloud.nacos.discovery.password=nacos
spring.cloud.nacos.discovery.namespace=ed4b94b3-deff-49f1-8973-34029756083d
</code></pre>
</li>
<li>
<p>ä¸»å¯åŠ¨ç±»ï¼š<code>@EnableDiscoveryClient</code></p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»å¼¹çª—å˜èƒ–åˆ° npm ä¾èµ–ç®¡ç†ï¼šä¸€æ¬¡å®Œæ•´çš„é—®é¢˜æ’æŸ¥è®°å½•]]></title>    <link>https://juejin.cn/post/7592276645361467392</link>    <guid>https://juejin.cn/post/7592276645361467392</guid>    <pubDate>2026-01-07T09:18:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592276645361467392" data-draft-id="7591156262626082851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»å¼¹çª—å˜èƒ–åˆ° npm ä¾èµ–ç®¡ç†ï¼šä¸€æ¬¡å®Œæ•´çš„é—®é¢˜æ’æŸ¥è®°å½•"/> <meta itemprop="keywords" content="å‰ç«¯,NPM,Node.js"/> <meta itemprop="datePublished" content="2026-01-07T09:18:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹åŒ—æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/1425415102792237"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»å¼¹çª—å˜èƒ–åˆ° npm ä¾èµ–ç®¡ç†ï¼šä¸€æ¬¡å®Œæ•´çš„é—®é¢˜æ’æŸ¥è®°å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1425415102792237/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹åŒ—æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:18:36.000Z" title="Wed Jan 07 2026 09:18:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è¸©å‘è®°å½•ï¼šä»å¼¹çª—å˜èƒ–åˆ° npm ä¾èµ–ç®¡ç†çš„æ·±åº¦æ’æŸ¥</h2>
<blockquote>
<p>2025 å¹´ 12 æœˆ 26 æ—¥</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€é—®é¢˜å‘ç°</h3>
<p>æ¥æ‰‹ä¸€ä¸ªè€é¡¹ç›®ï¼Œç¬¬ä¸€å¤©å°±é‡åˆ°é—®é¢˜ï¼š</p>
<p><strong>npm install è£…ä¸ä¸Š</strong>ï¼Œè¦ä¹ˆå¡æ­»è¦ä¹ˆæŠ¥é”™ã€‚åŒäº‹è®©æˆ‘ç”¨ yarnï¼Œè¿˜ç»™äº†ä¸ª yarn.lock æ–‡ä»¶ï¼Œå€’æ˜¯è£…ä¸Šäº†ã€‚</p>
<p>æœ¬æ¥ä»¥ä¸ºæ²¡äº‹äº†ï¼Œç»“æœå¼€å‘çš„æ—¶å€™å‘ç°ï¼š<strong>å¼¹çª—æ€ä¹ˆèƒ–äº†ä¸€åœˆï¼Ÿ</strong></p>
<p>æ‰€æœ‰ç”¨åˆ° el-dialog çš„åœ°æ–¹ï¼Œè§†è§‰ä¸Šéƒ½æ¯”è®¾è®¡ç¨¿å¤§äº†ä¸€ç‚¹ã€‚</p>
<h3 data-id="heading-2">äºŒã€é—®é¢˜æ’æŸ¥</h3>
<h4 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šå®šä½æ ·å¼æ¥æº</h4>
<p>æ‰“å¼€ DevTools çœ‹æ ·å¼ï¼Œå‘ç° Element Plus çš„ el-dialog æœ‰ä¸ª paddingã€‚</p>
<p>æˆ‘å¿ƒæƒ³ï¼šè¿™ padding ä¸æ˜¯ä¸€ç›´éƒ½æœ‰çš„å—ï¼Ÿä¸ºå•¥ä»¥å‰æ­£å¸¸ç°åœ¨ä¸æ­£å¸¸ï¼Ÿ</p>
<p>å…ˆè¯•ç€æŠŠè¿™ä¸ª padding è¦†ç›–æ‰ï¼Œå¼¹çª—ç¡®å®æ¢å¤æ­£å¸¸äº†ã€‚ä½†è¿™ä¸æ˜¯æ ¹æœ¬è§£å†³æ–¹æ¡ˆï¼Œå¾—ææ¸…æ¥šä¸ºå•¥ä¼šè¿™æ ·ã€‚</p>
<h4 data-id="heading-4">ç¬¬äºŒæ­¥ï¼šå¯¹æ¯”ç‰ˆæœ¬å·®å¼‚</h4>
<p>æˆ‘å»ç¿» Element Plus çš„ changelog å’Œæºç ï¼Œå‘ç°ï¼š</p>
<p><strong>ä» 2.5.4 ç‰ˆæœ¬å¼€å§‹ï¼Œel-dialog è¢«å¼ºåˆ¶åŠ äº† 16px çš„ paddingã€‚</strong></p>
<p>é‚£é—®é¢˜æ¥äº†ï¼šæˆ‘æœ¬åœ°è£…çš„ç‰ˆæœ¬ä¸ºå•¥æ¯” package.json é‡Œå®šä¹‰çš„é«˜ï¼Ÿ</p>
<h4 data-id="heading-5">ç¬¬ä¸‰æ­¥ï¼šè¿½æº¯ä¾èµ–å˜åŒ–</h4>
<p>package.json é‡Œå†™çš„æ˜¯ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"element-plus"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.3.2"</span>
</code></pre>
<p>è¿™ä¸ª <code>^</code> è¡¨ç¤ºæ¥å— 2.x.x çš„ä»»ä½•ç‰ˆæœ¬ã€‚</p>
<p>å›æƒ³ä¸€ä¸‹æˆ‘åšäº†ä»€ä¹ˆï¼šå› ä¸º npm install æŠ¥é”™ï¼Œæˆ‘åˆ äº† package-lock.json é‡æ–°è£…ã€‚</p>
<p><strong>çœŸç›¸å¤§ç™½</strong>ï¼šåˆ æ‰ lock æ–‡ä»¶åï¼Œnpm ä¼šè£… 2.x ä¸‹æœ€æ–°çš„ç‰ˆæœ¬ï¼ˆæ¯”å¦‚ 2.13.1ï¼‰ï¼Œç„¶åè®°å½•åˆ°æ–°çš„ package-lock.json é‡Œã€‚ä¾èµ–å°±è¿™ä¹ˆ"å·å·"å‡çº§äº†ã€‚</p>
<h4 data-id="heading-6">ç¬¬å››æ­¥ï¼šè¿½æŸ¥ npm install æŠ¥é”™åŸå› </h4>
<p>é‚£ä¸ºå•¥ä¸€å¼€å§‹ npm install ä¼šæŠ¥é”™ï¼Ÿ</p>
<p>æˆ‘å»çœ‹äº†åŸæ¥çš„ package-lock.jsonï¼Œå‘ç°é‡Œé¢é”å®šçš„åŒ…é•œåƒåœ°å€æœ‰é—®é¢˜ï¼š</p>

















<table><thead><tr><th>é•œåƒæº</th><th>é—®é¢˜æè¿°</th></tr></thead><tbody><tr><td>é˜¿é‡Œè¯­é›€é•œåƒ</td><td>SSL è¯ä¹¦å·²è¿‡æœŸ</td></tr><tr><td>æ—§æ·˜å®é•œåƒ</td><td>2024 å¹´æ·˜å®å®˜æ–¹å·²è¿ç§»è‡³æ–°åŸŸåï¼Œæ—§åœ°å€å·²åœæœ</td></tr></tbody></table>
<p>ä¸Šç½‘ä¸€æœ"npm install æŠ¥é”™"ï¼Œéƒ½è®©åˆ  lock æ–‡ä»¶ã€‚åˆ äº†ç¡®å®èƒ½è£…ä¸Šï¼Œä½†ç‰ˆæœ¬å°±ä¸å¯¹äº†ï¼Œè¿™å°±æ˜¯ä¸ªå‘ã€‚</p>
<h4 data-id="heading-7">ç¬¬äº”æ­¥ï¼šNode ç‰ˆæœ¬å†²çª</h4>
<p>è¿˜æœ‰ä¸ªå‘ï¼šé¡¹ç›®è¦æ±‚ç”¨ Node 16.14.0ï¼Œä½†åªæ˜¯å£å¤´è¯´ï¼Œæ²¡æœ‰ä»»ä½•å¼ºåˆ¶æªæ–½ã€‚</p>
<ul>
<li>æˆ‘ç”¨ 16.14.0 è£…ï¼ŒæŠ¥é”™è¯´æŸä¸ªåŒ…éœ€è¦ Node &gt;= 18.12.0</li>
<li>æ¢åˆ° 18.12.0ï¼ŒåˆæŠ¥é”™è¯´å¦ä¸€ä¸ªåŒ…éœ€è¦ Node 16.x</li>
</ul>
<p>åŸå› æ˜¯ä¹‹å‰æœ‰äººç”¨é«˜ç‰ˆæœ¬ Node è£…äº†æŸäº›åŒ…ï¼Œè¿™äº›åŒ…å¯¹ Node ç‰ˆæœ¬æœ‰å¼ºä¾èµ–ï¼Œç„¶åæäº¤äº† lock æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-8">ä¸‰ã€æ ¹å› åˆ†æ</h3>
<p>æ•´ä¸ªé—®é¢˜é“¾æ¡ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">æ—§é•œåƒåœ°å€å¤±æ•ˆ
    â†“
npm install æŠ¥é”™
    â†“
åˆ é™¤ package-<span class="hljs-keyword">lock</span>.json
    â†“
ä¾èµ–ç‰ˆæœ¬å·å·å‡çº§ï¼ˆ^<span class="hljs-number">2.3</span><span class="hljs-number">.2</span> â†’ <span class="hljs-number">2.13</span><span class="hljs-number">.1</span>ï¼‰
    â†“
å¼•å…¥ Element Plus <span class="hljs-number">2.5</span><span class="hljs-number">.4</span>+ çš„ç ´åæ€§å˜æ›´
    â†“
å¼¹çª—å¤šäº† <span class="hljs-number">16</span>px padding
</code></pre>
<p><strong>æœ¬è´¨é—®é¢˜</strong>ï¼š</p>
<ol>
<li>é•œåƒåœ°å€æ²¡æœ‰ç»Ÿä¸€ç®¡ç†ï¼Œè¿‡æœŸäº†æ²¡äººæ›´æ–°</li>
<li>Node ç‰ˆæœ¬æ²¡æœ‰å¼ºåˆ¶çº¦æŸï¼Œå„è‡ªä¸ºæˆ˜</li>
<li>åŒ…ç®¡ç†å™¨æ²¡æœ‰é”å®šï¼Œnpm/yarn æ··ç”¨</li>
<li>Element Plus åœ¨æ¬¡ç‰ˆæœ¬æç ´åæ€§å˜æ›´ï¼ˆè¿™ä¸ªæ˜¯ä»–ä»¬çš„é”…ï¼‰</li>
</ol>
<h3 data-id="heading-9">å››ã€è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-10">4.1 ç»Ÿä¸€é•œåƒæºé…ç½®</h4>
<p>æŠŠ lock æ–‡ä»¶é‡Œçš„æ—§é•œåƒåœ°å€å…¨éƒ¨æ›¿æ¢æˆæ–°çš„æ·˜å®é•œåƒã€‚</p>
<p>åˆ›å»º <code>.npmrc</code> æ–‡ä»¶é”å®šé•œåƒåœ°å€ï¼ˆnpm å’Œ pnpm éƒ½è¯»è¿™ä¸ªæ–‡ä»¶ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">registry</span>=https://registry.npmmirror.com
</code></pre>
<p>åˆ›å»º <code>.yarnrc</code> æ–‡ä»¶é”å®š yarn çš„é•œåƒï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">registry</span> <span class="hljs-string">"https://registry.npmmirror.com"</span>
</code></pre>
<h4 data-id="heading-11">4.2 é”å®š Node ç‰ˆæœ¬</h4>
<p>åŠ äº† <code>.nvmrc</code> å’Œ <code>.nvmdrc</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs">16.14.0
</code></pre>
<p>è¿™æ ·ç”¨ nvm æˆ– nvmd çš„äººåˆ‡åˆ°é¡¹ç›®ç›®å½•ä¼šè‡ªåŠ¨åˆ‡æ¢ç‰ˆæœ¬ã€‚</p>
<h4 data-id="heading-12">4.3 é”å®šåŒ…ç®¡ç†å™¨</h4>
<p><strong>æ–¹æ³•ä¸€ï¼špackageManager å­—æ®µ + Corepack</strong></p>
<p>åœ¨ <code>package.json</code> é‡ŒåŠ ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"packageManager"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npm@8.5.0"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ”¯æŒçš„å†™æ³•ï¼š</p>

























<table><thead><tr><th>å†™æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>"npm@8.5.0"</code></td><td>ä½¿ç”¨ npm 8.5.0</td></tr><tr><td><code>"yarn@1.22.19"</code></td><td>ä½¿ç”¨ yarn classic</td></tr><tr><td><code>"yarn@3.6.0"</code></td><td>ä½¿ç”¨ yarn berry (v2+)</td></tr><tr><td><code>"pnpm@8.6.0"</code></td><td>ä½¿ç”¨ pnpm 8.6.0</td></tr></tbody></table>
<blockquote>
<p>æ³¨æ„ï¼šåªæ”¯æŒç²¾ç¡®ç‰ˆæœ¬å·ï¼Œä¸èƒ½å†™ <code>^8.5.0</code>ã€‚</p>
</blockquote>
<p>ä½†è¿™ä¸ªå­—æ®µå•ç‹¬å†™æ²¡ç”¨ï¼Œå¾—é…åˆ Corepack æ‰èƒ½ç”Ÿæ•ˆã€‚Corepack æ˜¯ Node.js 16.9+ å†…ç½®çš„ï¼Œä½†é»˜è®¤æ˜¯ç¦ç”¨çš„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯ç”¨ Corepackï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰</span>
corepack <span class="hljs-built_in">enable</span>

<span class="hljs-comment"># Windows ç”¨ç®¡ç†å‘˜ç»ˆç«¯ï¼ŒMac/Linux åŠ  sudo</span>
sudo corepack <span class="hljs-built_in">enable</span>
</code></pre>
<p>å¯ç”¨åçš„æ•ˆæœï¼š</p>
<ol>
<li>è¿›å…¥é¡¹ç›®ç›®å½•æ—¶ï¼ŒCorepack è¯»å– <code>packageManager</code> å­—æ®µ</li>
<li>å¦‚æœæœ¬åœ°æ²¡æœ‰å¯¹åº”ç‰ˆæœ¬ï¼Œè‡ªåŠ¨ä¸‹è½½</li>
<li>ç”¨é”™åŒ…ç®¡ç†å™¨ç›´æ¥æŠ¥é”™</li>
<li>ç‰ˆæœ¬ä¸å¯¹ä¹ŸæŠ¥é”™</li>
</ol>
<p><strong>æ–¹æ³•äºŒï¼špreinstall è„šæœ¬</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"preinstall"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx only-allow npm"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åªå…è®¸ç”¨ npmï¼Œç”¨ yarn æˆ– pnpm è£…å°±æŠ¥é”™ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š<code>only-allow</code> åªèƒ½é™åˆ¶åŒ…ç®¡ç†å™¨ç±»å‹ï¼Œä¸èƒ½é™åˆ¶ Node ç‰ˆæœ¬ã€‚</p>
</blockquote>
<p><strong>æ–¹æ³•ä¸‰ï¼šengines å­—æ®µé™åˆ¶ Node ç‰ˆæœ¬</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"engines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt;=16.14.0 &lt;17.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"npm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt;=8.0.0"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><code>engines</code> æ”¯æŒå¤šç§å†™æ³•ï¼š</p>





























<table><thead><tr><th>å†™æ³•</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>"16.14.0"</code></td><td>ç²¾ç¡®ç‰ˆæœ¬</td></tr><tr><td><code>"&gt;=16.14.0 &lt;17.0.0"</code></td><td>èŒƒå›´ç‰ˆæœ¬</td></tr><tr><td><code>"~16.14.0"</code></td><td>å…è®¸ 16.14.x</td></tr><tr><td><code>"^16.14.0"</code></td><td>å…è®¸ 16.x.x</td></tr><tr><td><code>"16.x || 18.x"</code></td><td>å¤šç‰ˆæœ¬æ”¯æŒ</td></tr></tbody></table>
<p>é…åˆ <code>.npmrc</code> å¼€å¯ä¸¥æ ¼æ¨¡å¼æ‰èƒ½çœŸæ­£ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">engine-strict</span>=<span class="hljs-literal">true</span>
</code></pre>
<p>å¯ç”¨åç‰ˆæœ¬ä¸å¯¹ç›´æ¥æŠ¥é”™ã€‚</p>
<h4 data-id="heading-13">4.4 é…ç½®ä¾èµ–ç‰ˆæœ¬å‰ç¼€ç­–ç•¥</h4>
<p>npm é»˜è®¤ç”¨ <code>^</code> å‰ç¼€ï¼Œé£é™©å¤ªå¤§ã€‚å¯ä»¥åœ¨ <code>.npmrc</code> é‡Œæ”¹ï¼š</p>

























<table><thead><tr><th>é…ç½®å€¼</th><th>æ•ˆæœ</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>save-prefix=^</code></td><td>å…è®¸æ¬¡ç‰ˆæœ¬å‡çº§</td><td><code>^2.3.2</code></td></tr><tr><td><code>save-prefix=~</code></td><td>ä»…å…è®¸ä¿®è®¢ç‰ˆæœ¬å‡çº§</td><td><code>~2.3.2</code></td></tr><tr><td><code>save-exact=true</code></td><td>ç²¾ç¡®ç‰ˆæœ¬ï¼Œæ— å‰ç¼€</td><td><code>2.3.2</code></td></tr></tbody></table>
<p><strong>æ¨èç”¨ <code>~</code></strong>ï¼š</p>
<p>npm/pnpm é…ç½®ï¼ˆ<code>.npmrc</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">save-prefix</span>=~
</code></pre>
<p>yarn é…ç½®ï¼ˆ<code>.yarnrc</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">save-prefix</span> <span class="hljs-string">"~"</span>
</code></pre>
<p>ä¸ºå•¥é€‰ <code>~</code>ï¼Ÿ</p>

























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>ç²¾ç¡®ç‰ˆæœ¬</td><td>å®Œå…¨é”å®šï¼Œé›¶é£é™©</td><td>æ— æ³•è‡ªåŠ¨è·å– bug ä¿®å¤</td></tr><tr><td><code>~</code> æ³¢æµªå·</td><td>è‡ªåŠ¨è·å–ä¿®è®¢ç‰ˆæœ¬ï¼Œé£é™©å¯æ§</td><td>æå°æ¦‚ç‡é‡åˆ°ä¿®è®¢ç‰ˆæœ¬å¼•å…¥é—®é¢˜</td></tr><tr><td><code>^</code> è„±å­—ç¬¦</td><td>è‡ªåŠ¨è·å–æ–°åŠŸèƒ½å’Œä¿®å¤</td><td>é£é™©è¾ƒé«˜ï¼Œå¦‚æœ¬æ¬¡ Element Plus é—®é¢˜</td></tr></tbody></table>
<p>ä¿®è®¢ç‰ˆæœ¬æŒ‰ SemVer è§„èŒƒåªåŒ…å« bug ä¿®å¤ï¼Œå‘ä¸‹å…¼å®¹ã€‚é…åˆ lock æ–‡ä»¶æäº¤ï¼Œå®é™…å®‰è£…ç‰ˆæœ¬è¿˜æ˜¯é”å®šçš„ï¼Œåªæœ‰åˆ  lock æ–‡ä»¶é‡è£…æ‰ä¼šå‡çº§ã€‚</p>
<p><strong>æ•æ„Ÿä¾èµ–å•ç‹¬å¤„ç†</strong>ï¼š</p>
<p>UI ç»„ä»¶åº“è¿™ç§æ ¸å¿ƒä¾èµ–ï¼Œå»ºè®®ç›´æ¥åœ¨ <code>package.json</code> é‡Œç”¨ç²¾ç¡®ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"element-plus"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2.3.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"vue"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"~3.3.4"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-14">4.5 Element Plus æ ·å¼ä¿®å¤</h4>
<p><strong>å½“å‰æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>æŠŠ Element Plus ç‰ˆæœ¬å›ºå®šä¸ºç²¾ç¡®ç‰ˆæœ¬ï¼ˆå»æ‰ <code>^</code>ï¼‰ï¼Œé˜²æ­¢åç»­é™é»˜å‡çº§</li>
<li>å¯¹å·²å—å½±å“çš„å¼¹çª—ç»„ä»¶ï¼Œå•ç‹¬è¿›è¡Œæ ·å¼è¦†ç›–ï¼š</li>
</ol>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-class">.affected-dialog</span> <span class="hljs-selector-class">.el-dialog</span> {
  <span class="hljs-attr">--el-dialog-padding-primary</span>: <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>å…¶ä»–å¯é€‰æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å…¨å±€æ ·å¼è¦†ç›–ï¼ˆå½±å“èŒƒå›´å¤§ï¼Œéœ€å……åˆ†æµ‹è¯•ï¼‰</li>
<li>å›é€€ Element Plus ç‰ˆæœ¬è‡³ 2.5.3 æˆ–æ›´ä½</li>
</ul>
<h3 data-id="heading-15">äº”ã€Element Plus çš„é—®é¢˜</h3>
<p>è¿™äº‹æœ¬è´¨ä¸Šæ˜¯ Element Plus çš„é”…ã€‚</p>
<p>åœ¨ 2.5.4 è¿™ä¸ª<strong>æ¬¡ç‰ˆæœ¬</strong>é‡ŒåŠ äº†ä¸ªå¼ºåˆ¶ paddingï¼Œè¿™æ˜¯<strong>ç ´åæ€§å˜æ›´</strong>ã€‚æŒ‰ SemVer è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼Œç ´åæ€§å˜æ›´åº”è¯¥æ”¾åˆ°å¤§ç‰ˆæœ¬ï¼ˆ3.xï¼‰é‡Œã€‚</p>
<h3 data-id="heading-16">å…­ã€çŸ¥è¯†ç‚¹æ€»ç»“</h3>
<h4 data-id="heading-17">ç‰ˆæœ¬å·å‰ç¼€</h4>





















<table><thead><tr><th>å†™æ³•</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>^2.3.2</code></td><td>2.x.x éƒ½è¡Œï¼Œæœ€ä½ 2.3.2</td></tr><tr><td><code>~2.3.2</code></td><td>2.3.x éƒ½è¡Œï¼Œæœ€ä½ 2.3.2</td></tr><tr><td><code>2.3.2</code></td><td>ç²¾ç¡®ç‰ˆæœ¬ï¼Œå°±è¦ 2.3.2</td></tr></tbody></table>
<h4 data-id="heading-18">SemVer è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ</h4>
<pre><code class="hljs">ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬
   â”‚      â”‚      â””â”€â”€ bug ä¿®å¤ï¼Œå‘ä¸‹å…¼å®¹
   â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ–°åŠŸèƒ½ï¼Œå‘ä¸‹å…¼å®¹
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç ´åæ€§å˜æ›´ï¼Œä¸å…¼å®¹
</code></pre>
<h4 data-id="heading-19">ä¾èµ–ç®¡ç†é…ç½®æ–‡ä»¶</h4>





































<table><thead><tr><th>æ–‡ä»¶</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>.npmrc</td><td>npm/pnpm é…ç½®ï¼Œé•œåƒåœ°å€ã€ä¸¥æ ¼æ¨¡å¼ç­‰</td></tr><tr><td>.yarnrc</td><td>yarn é…ç½®</td></tr><tr><td>.nvmrc</td><td>nvm çš„ Node ç‰ˆæœ¬</td></tr><tr><td>.nvmdrc</td><td>nvmd çš„ Node ç‰ˆæœ¬</td></tr><tr><td>package-lock.json</td><td>npm çš„ä¾èµ–é”å®š</td></tr><tr><td>yarn.lock</td><td>yarn çš„ä¾èµ–é”å®š</td></tr><tr><td>pnpm-lock.yaml</td><td>pnpm çš„ä¾èµ–é”å®š</td></tr></tbody></table>
<h3 data-id="heading-20">ä¸ƒã€æœ€ä½³å®è·µ</h3>


















































<table><thead><tr><th>ä¼˜å…ˆçº§</th><th>æªæ–½</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>é«˜</td><td>æäº¤ lock æ–‡ä»¶</td><td>é˜²æ­¢ç‰ˆæœ¬æ¼‚ç§»çš„æ ¸å¿ƒ</td></tr><tr><td>é«˜</td><td>é…ç½® <code>.npmrc</code> / <code>.yarnrc</code></td><td>ç»Ÿä¸€é•œåƒæº</td></tr><tr><td>é«˜</td><td>é…ç½® <code>.nvmrc</code> / <code>.nvmdrc</code></td><td>æœ¬åœ°å¼€å‘ç‰ˆæœ¬æç¤º</td></tr><tr><td>é«˜</td><td>æ•æ„Ÿä¾èµ–ç²¾ç¡®ç‰ˆæœ¬</td><td>UI åº“ç­‰å»æ‰ <code>^</code> å‰ç¼€</td></tr><tr><td>ä¸­</td><td>é…ç½® <code>save-prefix=~</code></td><td>æ§åˆ¶æ–°ä¾èµ–ç‰ˆæœ¬èŒƒå›´</td></tr><tr><td>ä¸­</td><td>é…ç½® <code>engines</code> + <code>engine-strict</code></td><td>å¼ºåˆ¶ Node ç‰ˆæœ¬æ£€æŸ¥</td></tr><tr><td>ä¸­</td><td><code>only-allow</code> è„šæœ¬</td><td>é™åˆ¶åŒ…ç®¡ç†å™¨ç±»å‹</td></tr><tr><td>ä½</td><td><code>packageManager</code> + Corepack</td><td>é”å®šåŒ…ç®¡ç†å™¨ç‰ˆæœ¬</td></tr></tbody></table>
<h3 data-id="heading-21">å…«ã€ç»éªŒæ•™è®­</h3>
<ol>
<li><strong>lock æ–‡ä»¶å¿…é¡»æäº¤</strong>ï¼Œåˆ«è®©ä¾èµ–å·å·å‡çº§</li>
<li><strong>é•œåƒåœ°å€è¦ç»Ÿä¸€ç®¡ç†</strong>ï¼Œç”¨ .npmrc/.yarnrc é”å®š</li>
<li><strong>Node ç‰ˆæœ¬è¦å¼ºåˆ¶çº¦æŸ</strong>ï¼Œç”¨ .nvmrc + engines + engine-strict</li>
<li><strong>åŒ…ç®¡ç†å™¨ä¹Ÿè¦é”</strong>ï¼ŒpackageManager + Corepack æˆ– only-allow</li>
<li><strong>æ•æ„Ÿä¾èµ–ç”¨ç²¾ç¡®ç‰ˆæœ¬</strong>ï¼ŒUI åº“è¿™ç§åˆ«ç”¨ <code>^</code></li>
<li><strong>æ–°ä¾èµ–ç”¨ <code>~</code> å‰ç¼€</strong>ï¼Œæ¯” <code>^</code> å®‰å…¨ï¼Œæ¯”ç²¾ç¡®ç‰ˆæœ¬çµæ´»</li>
<li><strong>åˆ  lock æ–‡ä»¶è¦è°¨æ…</strong>ï¼Œå¯èƒ½å¼•å…¥ç‰ˆæœ¬æ¼‚ç§»</li>
<li><strong>é‡åˆ°é—®é¢˜è¦è¿½æ ¹æº¯æº</strong>ï¼Œä¸èƒ½åªè§£å†³è¡¨é¢ç°è±¡</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptç®—æ³• - å†’æ³¡æ’åº]]></title>    <link>https://juejin.cn/post/7592255257347899433</link>    <guid>https://juejin.cn/post/7592255257347899433</guid>    <pubDate>2026-01-07T10:03:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592255257347899433" data-draft-id="7592236397535674404" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptç®—æ³• - å†’æ³¡æ’åº"/> <meta itemprop="keywords" content="æ’åºç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-07T10:03:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¢…å·_é…·å­"/> <meta itemprop="url" content="https://juejin.cn/user/1488075996274921"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptç®—æ³• - å†’æ³¡æ’åº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1488075996274921/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¢…å·_é…·å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:03:31.000Z" title="Wed Jan 07 2026 10:03:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å†’æ³¡æ’åºï¼ˆä»å°åˆ°å¤§ï¼‰</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0517fa5554bf44229f0442086a737421~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768385010&amp;x-signature=haL45J2MFkq5FlXh%2F5DUL%2FyfExI%3D" alt="ç”Ÿæˆæ°´é¢å†’æ³¡å›¾ç‰‡.png" loading="lazy"/></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
* æ–‡å­—æè¿°ï¼Œæ¯•ç«Ÿä¸å¦‚å£è¯­è¡¨è¾¾ï¼Œæ‰€ä»¥ï¼Œè¿™é‡Œæœ‰ä¸€äº›å¸®åŠ©é˜…è¯»çš„æ–¹æ³•
* é‡Šä¹‰ï¼š
* Â  Â é¡¹ï¼š"æ•°ç»„çš„ 0 é¡¹"ï¼ŒæŒ‡çš„æ˜¯æ•°ç»„ index ä¸º 0 çš„å€¼
*
* tips:
* 1. å°†ä¼šç”¨åˆ°çš„æ•°ç»„ï¼Œéƒ½æ˜¯å¤æ‚åº¦æœ€é«˜çš„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯åŸå§‹æ’åºä¸º [3,2,1] è¿™æ ·ä»å¤§åˆ°å°çš„æ•°ç»„ï¼Œæœ‰åŠ©äºç›´è§‚ç†è§£
* 2. å¦‚æœè§‰å¾—æœ‰ç‚¹ä¹±ï¼Œå°±å…³æ³¨å‡½æ•°è¿”å›çš„ç»“æœã€‚ä¸Šä¸€æ­¥ç»“æœï¼Œå°±æ˜¯æˆ‘ä»¬ä¸‹ä¸€æ­¥çš„æ ¹æœ¬
*/</span>
</code></pre>
<h5 data-id="heading-1">å¦‚æœæ•°ç»„ä¸€å…±æœ‰ä¸¤é¡¹</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> myArr = [<span class="hljs-number">9</span>, <span class="hljs-number">8</span>]
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">mySort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">0</span>] &gt; arr[<span class="hljs-number">1</span>]) {
      ;[arr[<span class="hljs-number">0</span>], arr[<span class="hljs-number">1</span>]] = [arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">0</span>]]
    }
    <span class="hljs-keyword">return</span> arr
  }
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">mySort</span>(myArr)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result, <span class="hljs-string">'result'</span>) <span class="hljs-comment">// [ 8, 9 ]</span>
</code></pre>
<p>æ­¤æ—¶æ•°ç»„å˜ä¸ºï¼š[ 8, 9 ]
æ€»ç»“ï¼šä»¥ä¸Šæ˜¯æœ€ç®€å•çš„æ’åºã€‚æ•°ç»„åªæœ‰ä¸¤é¡¹ï¼Œ0 é¡¹å’Œ 1 é¡¹ã€‚æ¯”å¤§å°ã€æ¢ä½ï¼Œæ²¡äº†</p>
<h5 data-id="heading-2">å¦‚æœæœ‰ä¸‰ä¸ªå‘¢</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> myArr = [<span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>]
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">mySort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">0</span>] &gt; arr[<span class="hljs-number">1</span>]) {
      ;[arr[<span class="hljs-number">0</span>], arr[<span class="hljs-number">1</span>]] = [arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">0</span>]]
    }
    <span class="hljs-keyword">return</span> arr
  }
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">mySort</span>(myArr)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result, <span class="hljs-string">'result'</span>)<span class="hljs-comment">// [ 8, 9, 7 ]</span>
</code></pre>
<p>æ­¤æ—¶çš„æ•°ç»„å˜ä¸ºï¼š[ 8, 9, 7 ]<br/>
çœ‹ç€è¿™ä¸ªæ•°ç»„ï¼Œæ€»ç»“ï¼šé¢„æ–™ä¹‹ä¸­ï¼Œ0 é¡¹å’Œ 1 é¡¹æ¢ä½ã€‚æ¥ä¸‹æ¥å‘¢ï¼Ÿ</p>
<p>æ’åºåæ•°ç»„çš„å«ä¹‰å¯ä»¥è§£é‡Šä¸ºï¼š<br/>
å¯ä»¥ç¡®å®šï¼šæ•°ç»„çš„ 1 é¡¹ï¼Œæ˜¯æ•°ç»„ 0 é¡¹ã€1 é¡¹ä¸­çš„çš„<strong>æœ€å¤§å€¼</strong><br/>
ä¸èƒ½ç¡®å®šï¼šæ•°ç»„çš„ 2 é¡¹ï¼Œæ›´å¤§è¿˜æ˜¯æ›´å°</p>
<p>ï¼é‚£ä¹ˆï¼Œè®©æ•°ç»„çš„ 1ã€2 é¡¹æ¯”å¤§å°ï¼Œå°±ç¡®å®šäº†æ•°ç»„ä¸­<strong>æœ€å¤§</strong>çš„æ˜¯è°</p>
<h5 data-id="heading-3">ä»£ç å»¶ç”³</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> myArr = [<span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>]
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">mySort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-comment">// ç¬¬ä¸€æ­¥</span>
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">0</span>] &gt; arr[<span class="hljs-number">1</span>]) {
      ;[arr[<span class="hljs-number">0</span>], arr[<span class="hljs-number">1</span>]] = [arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">0</span>]]
    }
    <span class="hljs-comment">// èµ°åˆ°æ­¤å¤„ï¼Œarr çš„å€¼ä¸º [ 8, 9, 7 ]</span>

    <span class="hljs-comment">// ç¬¬äºŒæ­¥</span>
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">1</span>] &gt; arr[<span class="hljs-number">2</span>]) {
      ;[arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">2</span>]] = [arr[<span class="hljs-number">2</span>], arr[<span class="hljs-number">1</span>]]
    }
    <span class="hljs-comment">// èµ°åˆ°æ­¤å¤„ï¼Œarr çš„å€¼ä¸º [ 8, 7, 9 ]</span>
    <span class="hljs-keyword">return</span> arr
  }
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">mySort</span>(myArr)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result, <span class="hljs-string">'result'</span>) <span class="hljs-comment">// [ 8, 7, 9 ]</span>
</code></pre>
<p>æ­¤æ—¶çš„æ•°ç»„å˜ä¸ºï¼š[ 8, 7, 9 ]</p>
<p>çœ‹ç€è¿™ä¸ªæ•°ç»„ï¼Œæ€»ç»“ï¼šå»¶ç”³åï¼Œæˆ‘ä»¬ç¡®å®šäº†æœ€å¤§å€¼ï¼Œä¸”ç§»åŠ¨åˆ°äº†æœ€å³è¾¹<br/>
å¸Œæœ›è¿™é‡Œï¼Œä½ ä¼šæ„Ÿå—åˆ°æ€è·¯åœ¨å˜æ¸…æ™°</p>
<p>æ’åºåçš„æ•°ç»„å«ä¹‰å¯ä»¥è§£é‡Šä¸º<br/>
å¯ä»¥ç¡®å®šï¼š0 é¡¹å’Œ 1 é¡¹ï¼Œéƒ½æ¯” 2 é¡¹å°ã€‚2 é¡¹ï¼Œæ˜¯æ•°ç»„çš„<strong>æœ€å¤§å€¼</strong><br/>
ä¸èƒ½ç¡®å®šï¼šæ•°ç»„çš„ 0 é¡¹ã€1 é¡¹ï¼Œè°å¤§</p>
<p>ï¼é‚£ä¹ˆï¼Œè®©æ•°ç»„çš„ 0ã€1 é¡¹æ¯”å¤§å°ã€‚ï¼ˆå› ä¸ºå·²ç»ç¡®å®šäº† 2 é¡¹æœ€å¤§ï¼Œé‚£ä¹ˆï¼Œç¡®å®šäº† 0ã€1 çš„å¤§å°å…³ç³»ï¼Œå°±ç¡®å®šäº†å…¨éƒ¨çš„å¤§å°å…³ç³»ï¼‰</p>
<h5 data-id="heading-4">ä»£ç å†å»¶ç”³</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">mySort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-comment">// ç¬¬ä¸€æ­¥</span>
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">0</span>] &gt; arr[<span class="hljs-number">1</span>]) {
      ;[arr[<span class="hljs-number">0</span>], arr[<span class="hljs-number">1</span>]] = [arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">0</span>]]
    }
    <span class="hljs-comment">// èµ°åˆ°æ­¤å¤„ï¼Œarr çš„å€¼ä¸º [ 8, 9, 7 ]</span>

    <span class="hljs-comment">// ç¬¬äºŒæ­¥</span>
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">1</span>] &gt; arr[<span class="hljs-number">2</span>]) {
      ;[arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">2</span>]] = [arr[<span class="hljs-number">2</span>], arr[<span class="hljs-number">1</span>]]
    }
    <span class="hljs-comment">// èµ°åˆ°æ­¤å¤„ï¼Œarr çš„å€¼ä¸º [ 8, 7, 9 ]</span>

    <span class="hljs-comment">// ç¬¬ä¸‰æ­¥ï¼ˆä¸ ç¬¬ä¸€æ­¥ å®Œå…¨ä¸€è‡´ï¼‰</span>
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">0</span>] &gt; arr[<span class="hljs-number">1</span>]) {
      ;[arr[<span class="hljs-number">0</span>], arr[<span class="hljs-number">1</span>]] = [arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">0</span>]]
    }
    <span class="hljs-comment">// èµ°åˆ°æ­¤å¤„ï¼Œarr çš„å€¼ä¸º[ 7, 8, 9 ]</span>
    <span class="hljs-keyword">return</span> arr
  }
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">mySort</span>(myArr)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result, <span class="hljs-string">'result'</span>) <span class="hljs-comment">// [ 7, 8, 9 ]</span>
</code></pre>
<p>æ­¤æ—¶çš„æ•°ç»„å˜ä¸ºï¼š[ 7, 8, 9 ]ï¼Œæ˜¯æˆ‘ä»¬è¦çš„ç»“æœ</p>
<h4 data-id="heading-5">æ€è·¯æ€»ç»“ï¼š</h4>
<pre><code class="hljs language-markdown" lang="markdown">æˆ‘ä»¬æ’åºçš„æ–¹å¼ä¸ºï¼š  
<span class="hljs-code">    0ã€1 å¯¹æ¯”æ¢ä½ï¼Œ1ã€2 å¯¹æ¯”æ¢ä½ï¼Œç¡®å®š 2  
    0ã€1 å¯¹æ¯”æ¢ä½ï¼Œç¡®å®š 0ã€1  
</span></code></pre>
<h4 data-id="heading-6">æ€è·¯æ‰©å±•ï¼š</h4>
<pre><code class="hljs language-markdown" lang="markdown">å°è¯•æƒ³è±¡ä¸€ä¸‹ï¼Œå½“æ•°ç»„çš„æ•°é‡ä¸ºå››ä¸ª
<span class="hljs-code">    0ã€1 å¯¹æ¯”æ¢ä½ï¼Œ1ã€2 å¯¹æ¯”æ¢ä½ï¼Œ2ã€3 å¯¹æ¯”æ¢ä½ï¼Œç¡®å®š 3
ç„¶åå†é‡å¤ä¸€ä¸‹åˆšåˆšå®ç°çš„ç»è¿‡
    0ã€1 å¯¹æ¯”æ¢ä½ï¼Œ1ã€2 å¯¹æ¯”æ¢ä½ï¼Œç¡®å®š 2
    0ã€1 å¯¹æ¯”æ¢ä½ï¼Œç¡®å®š 0ã€1
</span></code></pre>
<h6 data-id="heading-7">è‡³æ­¤ï¼Œä¸€ç§ç®—æ³•å…¥é—¨çš„æ’åºæ€è·¯å·²ç»å‡ºç°ï¼Œå®ƒè¢«ç§°ä¸ºï¼šå†’æ³¡æ’åº ~å’•å˜Ÿå’•å˜Ÿ</h6>
<h4 data-id="heading-8">æ ¹æ®æ€è·¯æ‰©å±•ï¼Œå°è¯•å®ç°ç®—æ³•ï¼š</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é¦–å…ˆï¼Œå†™å‡ºç¬¬ä¸€è½®å¾ªç¯å¯¹æ¯”ï¼šå¾—åˆ°æ•°ç»„ä¸­æœ€å¤§å€¼å¹¶ç§»åŠ¨åˆ°æœ€å³è¾¹</span>
  <span class="hljs-keyword">const</span> arr = [<span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>]
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">bubbleSort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-comment">// å…ˆæŠŠä¹‹å‰çš„å¯¹æ¯”çš„åˆ¤æ–­ï¼ŒæŠŠç´¢å¼•æ”¹æˆåŠ¨æ€çš„</span>
    <span class="hljs-comment">// if (arr[i] &gt; arr[i + 1]) {</span>
    <span class="hljs-comment">// Â  ;[arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]</span>
    <span class="hljs-comment">// }</span>
    
    <span class="hljs-comment">// é¦–å…ˆæƒ³åˆ°forå¾ªç¯ã€‚èƒ½å†™å‡ºæ¥ä»€ä¹ˆæ ·å‘¢</span>
    <span class="hljs-comment">// for()</span>
    <span class="hljs-comment">// æˆ‘ä»¬éœ€è¦ç”¨ä¸€äº›æ•°å­—ã€‚è·Ÿå¾ªç¯çš„æ¬¡æ•°æœ‰å…³</span>
    <span class="hljs-comment">// ä¸€èˆ¬è€Œè¨€ï¼Œéƒ½ä¼šæ‹¿æ•°ç»„çš„é•¿åº¦æ¥ç”¨ã€‚è¿™é‡Œï¼Œæ•°ç»„çš„é•¿åº¦æœ‰ä»€ä¹ˆç”¨å¤„</span>
    <span class="hljs-comment">// arr.length // 4</span>
    <span class="hljs-comment">// for (let i = 0; i &lt; ???; i++) {</span>
    <span class="hljs-comment">// Â  if (arr[i] &gt; arr[i + 1]) {</span>
    <span class="hljs-comment">// Â  Â  Â  ;[arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]</span>
    <span class="hljs-comment">// Â  Â  }</span>
    <span class="hljs-comment">// }</span>
    
    <span class="hljs-comment">// å…³é”®æ˜¯ï¼Œi è¦å°äºå‡ å‘¢ï¼Ÿé‚£å°±å…ˆè¦ç¡®å®šï¼Œæˆ‘ä»¬è¦å¯¹æ¯”å¤šå°‘æ¬¡ï¼Œç„¶åå†ç»™å‡ºé™åˆ¶</span>
    <span class="hljs-comment">// è¿™ä¸ªå¯¹æ¯”çš„æ¬¡æ•°ï¼Œè¦ä¾æ® &lt; æ€è·¯æ‰©å±• &gt; ä¸­çš„ç¬¬ä¸€è½®å¯¹æ¯”ï¼å…¶ä¸­ç¬¬ä¸€è½®ï¼Œç»è¿‡äº† 3 æ¬¡å¯¹æ¯”æ¢ä½</span>
    <span class="hljs-comment">// åˆå› ä¸ºæˆ‘ä»¬æ˜¯ä» 0 å¼€å§‹çš„ã€‚æ‰€ä»¥ï¼Œè¦æ‹¿åˆ°çš„æ•°å­—æ˜¯0ã€1ã€2ï¼Œæ‰€ä»¥è¦å°äº3</span>
    <span class="hljs-comment">// æ•°ç»„çš„é•¿åº¦è·Ÿè¿™ä¸ªæ•°å­—çš„å…³ç³»å°±æ˜¯ length - 1ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¦å°äºçš„å€¼</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i++) {
      <span class="hljs-keyword">if</span> (arr[i] &gt; arr[i + <span class="hljs-number">1</span>]) {
        ;[arr[i], arr[i + <span class="hljs-number">1</span>]] = [arr[i + <span class="hljs-number">1</span>], arr[i]]
      }
    }
    <span class="hljs-keyword">return</span> arr
    <span class="hljs-comment">// å¦‚æœä» 1 å¼€å§‹ï¼Œé‚£å°±å¦ä¸€å›äº‹äº†</span>
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">bubbleSort</span>(arr)) <span class="hljs-comment">// [ 8, 7, 6, 9 ]</span>
</code></pre>
<p>è¿™æ—¶å€™æˆ‘ä»¬å·²ç»æŠŠæœ€å¤§çš„ç§»åŠ¨åˆ°äº†æœ€å³è¾¹ï¼Œç¬¬ä¸€æ­¥å®Œæˆäº†<br/>
ç„¶åå‘¢ï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦å¯¹æ¯”å‰ä¸‰ä¸ªï¼Œä¸å¯¹æ¯”ç¬¬å››ä¸ªäº†ã€‚è¿™ä¸ªæ€ä¹ˆå†™å•Š<br/>
æˆ‘ä»¬è¦è®©è¿™ä¸ªå¾ªç¯å†æ¥ä¸€éã€‚ä½†æ˜¯ï¼Œå¾ªç¯æ¬¡æ•°è¦å°‘ä¸€æ¬¡ã€‚é‡è¦ï¼ï¼ï¼<br/>
è®©å¾ªç¯å†æ¥ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè®©è¿™ä¸ªå¾ªç¯å¾ªç¯</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">bubbleSort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-comment">// for()</span>
    <span class="hljs-comment">// å¤–è¾¹è¿™ä¸ªå¾ªç¯æ€ä¹ˆåŠ å‘¢ï¼Œè¦è®©é‡Œé¢çš„å¾ªç¯ï¼Œèµ°å‡ è½®å‘¢ï¼Ÿè·Ÿé‡Œé¢çš„å¾ªç¯æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</span>
    <span class="hljs-comment">// å†ä¸€æ¬¡ï¼Œä¾æ® &lt; æ€è·¯æ‰©å±• &gt; ï¼Œè¦è®©é‡Œé¢å¾ªç¯ 3 è½®ï¼Œå°±èƒ½å¾—åˆ°ç»“æœäº†</span>
    <span class="hljs-comment">// é‡Œé¢å¾ªç¯å¯¹æ¯”çš„æ¬¡æ•°ä¸æ–­å‡ 1 çš„ï¼Œé‚£è®©å¤–é¢çš„å¾ªç¯ä¸æ–­å‡ 1ï¼Œå¹¶è®©è¿™ä¸ªæ•°å­—åŒæ­¥åˆ°é‡Œé¢å¯¹ i çš„é™åˆ¶</span>
    <span class="hljs-comment">// for(let j = ???; j &gt;= 0; j--){</span>
    <span class="hljs-comment">// Â   for (let i = 0; i &lt; arr.length - 1; i++) {</span>
    <span class="hljs-comment">// Â   Â  if (arr[i] &gt; arr[i + 1]) {</span>
    <span class="hljs-comment">// Â   Â  Â  ;[arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]</span>
    <span class="hljs-comment">// Â   Â  }</span>
    <span class="hljs-comment">// Â   }</span>
    <span class="hljs-comment">// }</span>
    <span class="hljs-comment">// è®©å¤–é¢çš„ j ï¼Œè®¾å®šä¸ºé‡Œé¢çš„ i çš„åˆå§‹å€¼ï¼Œç„¶åé€æ¸å˜å°ï¼Œæœ€ç»ˆç­‰äº 0ï¼Œç„¶åç»“æŸ</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; j; i++) {
        <span class="hljs-keyword">if</span> (arr[i] &gt; arr[i + <span class="hljs-number">1</span>]) {
          ;[arr[i], arr[i + <span class="hljs-number">1</span>]] = [arr[i + <span class="hljs-number">1</span>], arr[i]]
        }
      }
    }
    <span class="hljs-keyword">return</span> arr
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">bubbleSort</span>(arr)) <span class="hljs-comment">// [ 6, 7, 8, 9 ]</span>
</code></pre>
<h5 data-id="heading-9">ä¸»çº¿ä»£ç å®Œæˆ</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">bubbleSort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; j; i++) {
        <span class="hljs-keyword">if</span> (arr[i] &gt; arr[i + <span class="hljs-number">1</span>]) {
          ;[arr[i], arr[i + <span class="hljs-number">1</span>]] = [arr[i + <span class="hljs-number">1</span>], arr[i]]
        }
      }
    }
    <span class="hljs-keyword">return</span> arr
  }
<span class="hljs-comment">// éšä¾¿è¾“å…¥ä¸€äº›ï¼Œçœ‹çœ‹æ•ˆæœ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">bubbleSort</span>([<span class="hljs-number">543</span>, <span class="hljs-number">4</span>, <span class="hljs-number">76</span>, <span class="hljs-number">524</span>, <span class="hljs-number">24</span>, <span class="hljs-number">65</span>, <span class="hljs-number">23</span>, <span class="hljs-number">235</span>, <span class="hljs-number">3245</span>])) <span class="hljs-comment">// [ 4, 23, 24, 65, 76, 235, 524, 543, 3245 ]</span>
</code></pre>
<h5 data-id="heading-10">åç»­ä¼˜åŒ–ï¼šéš”ç¦»æ•°æ®æºã€å‡å°‘éå¿…è¦æ€§èƒ½å¼€é”€</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">bubbleSort</span> = (<span class="hljs-params">array</span>) =&gt; {
    <span class="hljs-keyword">const</span> arr = [...array]
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) {
      <span class="hljs-keyword">let</span> swapped = <span class="hljs-literal">false</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; j; i++) {
        <span class="hljs-keyword">if</span> (arr[i] &gt; arr[i + <span class="hljs-number">1</span>]) {
          ;[arr[i], arr[i + <span class="hljs-number">1</span>]] = [arr[i + <span class="hljs-number">1</span>], arr[i]]
          swapped = <span class="hljs-literal">true</span>
        }
      }
      <span class="hljs-keyword">if</span> (!swapped) <span class="hljs-keyword">break</span>
    }
    <span class="hljs-keyword">return</span> arr
  }
</code></pre>
<p>å®Œæˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åç«¯é—®å‰ç«¯ï¼šæˆ‘çš„æ¥å£è¯·æ±‚èŠ±äº†å¤šå°‘ç§’ï¼Ÿä¸ºå•¥é‚£ä¹ˆæ…¢ï¼Œæ˜¯ä½ æ…¢è¿˜æ˜¯æˆ‘æ…¢ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592423411563167770</link>    <guid>https://juejin.cn/post/7592423411563167770</guid>    <pubDate>2026-01-07T10:10:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592423411563167770" data-draft-id="7592423411562840090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åç«¯é—®å‰ç«¯ï¼šæˆ‘çš„æ¥å£è¯·æ±‚èŠ±äº†å¤šå°‘ç§’ï¼Ÿä¸ºå•¥é‚£ä¹ˆæ…¢ï¼Œæ˜¯ä½ æ…¢è¿˜æ˜¯æˆ‘æ…¢ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T10:10:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±Ÿæ¹–æ–‡äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3044986347066480"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åç«¯é—®å‰ç«¯ï¼šæˆ‘çš„æ¥å£è¯·æ±‚èŠ±äº†å¤šå°‘ç§’ï¼Ÿä¸ºå•¥é‚£ä¹ˆæ…¢ï¼Œæ˜¯ä½ æ…¢è¿˜æ˜¯æˆ‘æ…¢ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3044986347066480/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±Ÿæ¹–æ–‡äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:10:12.000Z" title="Wed Jan 07 2026 10:10:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53b2669b859e4a718c010c50a95e41b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmW5paH5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768385412&amp;x-signature=q98fB%2BJVpNV%2BdvMqXJlZq59%2FKQc%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸å¥½æ„æ€ï¼Œä½ è¯´ä½ çœ‹ä¸æ‡‚æ¥å£ ç”¨äº†å¤šå°‘ç§’ï¼Ÿæˆ‘æ¥å‘Šè¯‰å¤§å®¶ï¼Œå› ä¸ºæˆ‘ä¹Ÿè¦å†™è®°å½•ğŸ“ã€‚</p>
<p>æˆ‘å…ˆæŠŠç­”æ¡ˆè¯´å‡ºæ¥ï¼Œæ€»è€—æ—¶8.54ç§’ã€‚</p>
<ul>
<li>æ’é˜Ÿ(<code>Queued</code>): <code>24.52ms</code></li>
<li>è¿æ¥(<code>Connection Start</code>): <code>0.86ms</code></li>
<li>è¯·æ±‚å‘é€(<code>Request sent</code>): <code>0.23ms</code></li>
<li>ç­‰å¾…æœåŠ¡å™¨å“åº”(<code>Waiting for server response</code>): <code>8.39</code>ï¼ˆè¿™éƒ¨åˆ†æ—¶é—´æœ€é•¿ï¼‰</li>
<li>å†…å®¹ä¸‹è½½(<code>Content Download</code>): <code>126.61ms</code></li>
</ul>
<p>Explanationåœ¨æœ€åä¸€è¡Œï¼Œç»™å‡ºæ˜¯8.54ç§’ï¼Œä¹Ÿå°±æ˜¯è¯·æ±‚æ¥å£åŠ èµ·æ¥æ€»æ—¶é—´æ˜¯<code>8.54</code>ç§’ã€‚</p>
<hr/>
<p>â€œQueued at 1.1 minâ€ å’Œ â€œStarted at 1.1 minâ€ æ˜¯åœ¨ç½‘ç»œæ€§èƒ½åˆ†æå·¥å…·ï¼ˆæ¯”å¦‚ Chrome DevTools çš„æ€§èƒ½ç€‘å¸ƒå›¾ï¼‰ä¸­å¸¸è§çš„æè¿°ï¼Œ<strong>è¡¨ç¤ºè¿™æ¬¡è¯·æ±‚åœ¨æ•´ä¸ªé¡µé¢åŠ è½½è¿‡ç¨‹ä¸­çš„å‡ºç°æ—¶é—´ç‚¹</strong>ï¼Œè€Œä¸æ˜¯è¯·æ±‚æœ¬èº«çš„å®é™…æ—¶é•¿ã€‚</p>
<h2 data-id="heading-0">å…·ä½“å«ä¹‰ï¼š</h2>
<ul>
<li><code>Queued at 1.1 min</code>ï¼š
è¡¨ç¤ºåœ¨é¡µé¢å¼€å§‹åŠ è½½åçš„<code>1.1åˆ†é’Ÿ</code>ï¼Œè¿™ä¸ªè¯·æ±‚è¢«æ”¾å…¥æµè§ˆå™¨çš„é˜Ÿåˆ—ä¸­ç­‰å¾…æ’é˜Ÿã€‚</li>
</ul>
<p>å¯èƒ½æ˜¯å› ä¸ºï¼š</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- æµè§ˆå™¨å¯¹åŒä¸€åŸŸåæœ‰è¿æ¥æ•°é™åˆ¶ï¼ˆä¾‹å¦‚6ä¸ªå¹¶å‘ï¼‰ï¼Œæ‰€ä»¥åç»­è¯·æ±‚éœ€è¦æ’é˜Ÿã€‚</span>
<span class="hljs-deletion">- èµ„æºä¼˜å…ˆçº§è¾ƒä½ï¼Œéœ€è¦ç­‰å…¶ä»–æ›´é«˜ä¼˜å…ˆçº§è¯·æ±‚å…ˆå¤„ç†ã€‚</span>
</code></pre>
<ul>
<li><code>Started at 1.1 min</code></li>
</ul>
<p>è¡¨ç¤ºåœ¨é¡µé¢åŠ è½½å¼€å§‹åçš„<code>1.1åˆ†é’Ÿ</code>ï¼Œè¿™ä¸ªè¯·æ±‚<code>å¼€å§‹çœŸæ­£è¢«å¤„ç†</code>ï¼ˆä¾‹å¦‚å¼€å§‹å»ºç«‹è¿æ¥ï¼‰ã€‚</p>
<p>è¿™ä¸¤ä¸ªæ—¶é—´ç›¸åŒï¼ˆéƒ½æ˜¯<code>1.1</code>åˆ†é’Ÿï¼‰ï¼Œè¯´æ˜<code>è¿™ä¸ªè¯·æ±‚åœ¨è¿›å…¥é˜Ÿåˆ—åå‡ ä¹æ²¡æœ‰æ’é˜Ÿ</code>ï¼Œå¾ˆå¿«å°±å¼€å§‹äº†å®é™…è¯·æ±‚é˜¶æ®µã€‚</p>
<p>æ¢å¥è¯è¯´ï¼š</p>
<ul>
<li><code>1.1</code>åˆ†é’Ÿæ—¶å®ƒè¢«åŠ å…¥é˜Ÿåˆ—ã€‚</li>
<li><code>åŒæ ·åœ¨1.1åˆ†é’Ÿæ—¶</code>å®ƒå°±å¼€å§‹äº†è¿æ¥é˜¶æ®µï¼ˆ<code>Stalled</code>ã€<code>Request/Response</code>ç­‰ï¼‰ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œ"Queued"å’Œ"Started at"æ˜¯å¯¹æ•´ä¸ªé¡µé¢åŠ è½½æ—¶é—´çº¿ä¸­çš„<code>æ—¶é—´ç‚¹æ ‡è®°</code>ï¼Œå¸®åŠ©ä½ ç†è§£è¯¥è¯·æ±‚åœ¨é¡µé¢å£°æ˜å‘¨æœŸä¸­ä½•æ—¶å‘ç”Ÿï¼Œè€Œä¸å½±å“è¯·æ±‚è‡ªèº«çš„<code>8.54</code>ç§’è€—æ—¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[DMCå‘é€M-SEARCHè¯·æ±‚ï¼ŒDMRå“åº”æµç¨‹]]></title>    <link>https://juejin.cn/post/7592451049232990254</link>    <guid>https://juejin.cn/post/7592451049232990254</guid>    <pubDate>2026-01-07T10:22:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592451049232990254" data-draft-id="7592423411563200538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="DMCå‘é€M-SEARCHè¯·æ±‚ï¼ŒDMRå“åº”æµç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T10:22:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qwepoilkjasd"/> <meta itemprop="url" content="https://juejin.cn/user/318221180214507"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            DMCå‘é€M-SEARCHè¯·æ±‚ï¼ŒDMRå“åº”æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/318221180214507/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qwepoilkjasd
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:22:28.000Z" title="Wed Jan 07 2026 10:22:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">DMCå‘é€M-SEARCHè¯·æ±‚ï¼ŒDMRå“åº”çš„å®Œæ•´å‡½æ•°è°ƒç”¨é“¾</h2>
<h3 data-id="heading-1">æ¦‚è§ˆ</h3>
<p>å½“DMCï¼ˆDigital Media Controllerï¼‰åœ¨ç½‘ç»œä¸­å‘é€M-SEARCHå¤šæ’­æœç´¢è¯·æ±‚æ—¶ï¼ŒDMRï¼ˆDigital Media Receiverï¼‰è®¾å¤‡éœ€è¦æ¥æ”¶å¹¶å“åº”è¯¥è¯·æ±‚ã€‚ä¸‹é¢æ˜¯å®Œæ•´çš„å‡½æ•°è°ƒç”¨é“¾åŠè¯¦ç»†è¯´æ˜ã€‚</p>
<hr/>
<h3 data-id="heading-2">1. ç½‘ç»œæ•°æ®æ¥æ”¶é˜¶æ®µ</h3>
<h4 data-id="heading-3">1.1 SSDPç›‘å¬å¯åŠ¨</h4>
<pre><code class="hljs language-css" lang="css">PLT_UPnP::<span class="hljs-built_in">Start</span>()
  â””â”€&gt; PLT_DeviceHost::<span class="hljs-built_in">Start</span>(PLT_SsdpListenTask* task)
      â””â”€&gt; m_TaskManager-&gt;<span class="hljs-built_in">StartTask</span>(PLT_SsdpListenTask) 
          â”œâ”€&gt; åˆ›å»ºUDPå¤šæ’­å¥—æ¥å­—ï¼Œç›‘å¬å¤šæ’­åœ°å€ <span class="hljs-number">239.255</span>.<span class="hljs-number">255.250</span>:<span class="hljs-number">1900</span>
          â”œâ”€&gt; åŠ å…¥å¤šæ’­ç»„
          â””â”€&gt; æŒç»­ç›‘å¬SSDPæ•°æ®åŒ…
</code></pre>
<h4 data-id="heading-4">1.2 M-SEARCHæ•°æ®åŒ…æ¥æ”¶</h4>
<pre><code class="hljs language-css" lang="css">PLT_SsdpListenTask::<span class="hljs-built_in">DoRun</span>()ï¼ˆè¿è¡Œåœ¨ä»»åŠ¡çº¿ç¨‹ä¸­ï¼‰
  â””â”€&gt; PLT_HttpServerSocketTask::<span class="hljs-built_in">Run</span>()
      â””â”€&gt; å¾ªç¯æ¥æ”¶UDPå¤šæ’­æ•°æ®åŒ…
          â”œâ”€&gt; <span class="hljs-built_in">GetInputStream</span>() 
          â”‚   â””â”€&gt; å°†UDPæ•°æ®åŒ…è½¬æ¢ä¸ºæµ (PLT_InputDatagramStream)
          â””â”€&gt; NPT_HttpClient::<span class="hljs-built_in">ReadRequest</span>()
              â””â”€&gt; è§£æHTTPæ ¼å¼çš„M-SEARCHè¯·æ±‚
</code></pre>
<hr/>
<h3 data-id="heading-5">2. M-SEARCHè¯·æ±‚å¤„ç†é˜¶æ®µ</h3>
<h4 data-id="heading-6">2.1 è¯·æ±‚å¤„ç†å’Œç›‘å¬å™¨é€šçŸ¥</h4>
<pre><code class="hljs language-css" lang="css">PLT_SsdpListenTask::<span class="hljs-built_in">SetupResponse</span>()
  â”‚
  â”œâ”€&gt; è·å–SSDPè¯·æ±‚å’Œè¯·æ±‚ä¸Šä¸‹æ–‡ï¼ˆåŒ…å«æºIPå’Œç«¯å£ï¼‰
  â”‚
  â””â”€&gt; m_Listeners.<span class="hljs-built_in">Apply</span>(PLT_SsdpPacketListenerIterator)
      â”‚
      â””â”€&gt; éå†æ‰€æœ‰å·²æ³¨å†Œçš„SSDPç›‘å¬å™¨ï¼Œæ¯ä¸ªç›‘å¬å™¨æ‰§è¡Œï¼š
          â”‚
          â””â”€&gt; PLT_SsdpPacketListenerIterator::<span class="hljs-built_in">operator</span>()()
              â”‚
              â””â”€&gt; listener-&gt;<span class="hljs-built_in">OnSsdpPacket</span>(request, context)
                  â”‚
                  â””â”€&gt; PLT_DeviceHost::<span class="hljs-built_in">OnSsdpPacket</span>()
</code></pre>
<h4 data-id="heading-7">2.2 OnSsdpPacket - DMRè®¾å¤‡æ¥æ”¶å¤„ç†</h4>
<pre><code class="hljs language-scss" lang="scss">PLT_DeviceHost::<span class="hljs-built_in">OnSsdpPacket</span>(request, context)
{
    <span class="hljs-comment">// 1. æå–è¯·æ±‚ä¿¡æ¯</span>
    â”œâ”€ è·å–è¯·æ±‚è€…IPåœ°å€ï¼šcontext<span class="hljs-selector-class">.GetRemoteAddress</span>()<span class="hljs-selector-class">.GetIpAddress</span>()
    â”œâ”€ è·å–è¯·æ±‚æ–¹æ³•ï¼šrequest<span class="hljs-selector-class">.GetMethod</span>()      <span class="hljs-comment">// åº”è¯¥æ˜¯ "M-SEARCH"</span>
    â”œâ”€ è·å–æœç´¢ç›®æ ‡ï¼šPLT_UPnPMessageHelper::<span class="hljs-built_in">GetST</span>(request)
    â”œâ”€ è·å–å»¶è¿Ÿæ—¶é—´ï¼šPLT_UPnPMessageHelper::<span class="hljs-built_in">GetMX</span>(request)
    â””â”€ è·å–æ‰‹å†Œå­—æ®µï¼šPLT_UPnPMessageHelper::<span class="hljs-built_in">GetMAN</span>(request)
    
    // <span class="hljs-number">2</span>. éªŒè¯è¯·æ±‚æ ¼å¼
    â”œâ”€ éªŒè¯STå­—æ®µä¸ä¸ºç©º
    â”œâ”€ éªŒè¯URLä¸º <span class="hljs-string">"*"</span>
    â”œâ”€ éªŒè¯åè®®ä¸º <span class="hljs-string">"HTTP/1.1"</span>
    â”œâ”€ éªŒè¯MANå¤´ä¸º <span class="hljs-string">"ssdp:discover"</span>
    â””â”€ éªŒè¯MXä¸ä¸º<span class="hljs-number">0</span>
    
    // <span class="hljs-number">3</span>. å…³é”®æ­¥éª¤ï¼šåˆ›å»ºæœç´¢å“åº”ä»»åŠ¡
    â”œâ”€ ç”Ÿæˆéšæœºå»¶è¿Ÿæ—¶é—´ï¼ˆ<span class="hljs-number">0</span>åˆ°MXç§’ä¹‹é—´ï¼‰
    â”‚   â””â”€&gt; ç›®çš„ï¼šé¿å…ç½‘ç»œé£æš´ï¼ˆæ‰€æœ‰è®¾å¤‡åŒæ—¶å›åº”ï¼‰
    â”‚
    â”œâ”€ åˆ›å»º PLT_SsdpDeviceSearchResponseTask å¯¹è±¡
    â”‚   â””â”€&gt; å‚æ•°ï¼š
    â”‚       â”œâ”€ this (PLT_DeviceHost*)
    â”‚       â”œâ”€ context.<span class="hljs-built_in">GetRemoteAddress</span>() (è¯·æ±‚è€…åœ°å€)
    â”‚       â””â”€ *st (æœç´¢ç›®æ ‡ç±»å‹)
    â”‚
    â””â”€ m_TaskManager-&gt;<span class="hljs-built_in">StartTask</span>(task, &amp;timer)
        â””â”€&gt; åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­æ³¨å†Œä»»åŠ¡ï¼Œå»¶è¿Ÿæ—¶é—´åæ‰§è¡Œ
}
</code></pre>
<p><strong>å…³é”®é€»è¾‘è¯´æ˜ï¼š</strong></p>
<ul>
<li>M-SEARCHæ˜¯ä¸€ä¸ªå¤šæ’­è¯·æ±‚ï¼ŒDMRéœ€è¦æ£€æŸ¥è¯¥è¯·æ±‚æ˜¯å¦ä¸è‡ªå·±çš„è®¾å¤‡ç±»å‹åŒ¹é…</li>
<li>ä¸ºäº†é¿å…ç½‘ç»œé£æš´ï¼ŒDMRä¸æ˜¯ç«‹å³å›åº”ï¼Œè€Œæ˜¯ç­‰å¾…ä¸€ä¸ªéšæœºçš„å»¶è¿Ÿæ—¶é—´ï¼ˆ0åˆ°MXç§’ï¼‰</li>
<li>æ¯ä¸ªè®¾å¤‡éƒ½éµå¾ªè¿™ä¸ªè§„åˆ™ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ç½‘ç»œä¸­çš„ç¢°æ’å’Œæ‹¥å¡</li>
</ul>
<hr/>
<h3 data-id="heading-8">3. æœç´¢å“åº”ä»»åŠ¡æ‰§è¡Œé˜¶æ®µ</h3>
<h4 data-id="heading-9">3.1 å“åº”ä»»åŠ¡æ‰§è¡Œ</h4>
<pre><code class="hljs language-arduino" lang="arduino">PLT_SsdpDeviceSearchResponseTask::<span class="hljs-built_in">DoRun</span>()ï¼ˆåœ¨å»¶è¿Ÿåæ‰§è¡Œï¼‰
{
    <span class="hljs-comment">// 1. è·å–æ‰€æœ‰æ´»è·ƒçš„ç½‘ç»œæ¥å£</span>
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">GetNetworkInterfaces</span>(if_list, <span class="hljs-literal">true</span>)
    â”‚   â””â”€&gt; è·å–æ‰€æœ‰æ´»è·ƒçš„ç½‘ç»œæ¥å£åˆ—è¡¨
    â”‚
    <span class="hljs-comment">// 2. å¯¹æ¯ä¸ªç½‘ç»œæ¥å£åº”ç”¨è¿­ä»£å™¨</span>
    â””â”€ if_list.<span class="hljs-built_in">Apply</span>(PLT_SsdpDeviceSearchResponseInterfaceIterator)
        â”‚
        â””â”€&gt; ä½¿ç”¨è¯¥è¿­ä»£å™¨å¤„ç†æ¯ä¸ªç½‘ç»œæ¥å£
            ï¼ˆè¯¦è§ä¸‹ä¸€æ­¥ï¼‰
}
</code></pre>
<h4 data-id="heading-10">3.2 ç½‘ç»œæ¥å£è¿­ä»£å’Œå“åº”å‘é€</h4>
<pre><code class="hljs language-scss" lang="scss">PLT_SsdpDeviceSearchResponseInterfaceIterator::<span class="hljs-built_in">operator</span>()(net_if)
{
    <span class="hljs-comment">// ========== ç¬¬1æ­¥ï¼šæ¥å£éªŒè¯ ==========</span>
    â”œâ”€ è·å–ç½‘ç»œæ¥å£çš„åœ°å€åˆ—è¡¨
    â””â”€ å¦‚æœæ¥å£æ²¡æœ‰æœ‰æ•ˆåœ°å€ï¼Œåˆ™è·³è¿‡è¯¥æ¥å£ (return NPT_SUCCESS)
    
    <span class="hljs-comment">// ========== ç¬¬2æ­¥ï¼šæ¥å£é€‰æ‹©ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰ ==========</span>
    â”œâ”€ åˆ›å»ºUDPå¥—æ¥å­— (NPT_UdpSocket socket)
    â”‚
    â”œâ”€ è¿æ¥åˆ°è¯·æ±‚è€…åœ°å€
    â”‚   â””â”€&gt; socket<span class="hljs-selector-class">.Connect</span>(m_RemoteAddr, <span class="hljs-number">5000ms</span>)
    â”‚       
    â”‚       ä½œç”¨ï¼š
    â”‚       â”œâ”€ è®©æ“ä½œç³»ç»Ÿå†…æ ¸é€‰æ‹©åˆé€‚çš„å‡ºç«™ç½‘ç»œæ¥å£
    â”‚       â”œâ”€ ç¡®å®šè¯¥æ¥å£çš„æœ¬åœ°IPåœ°å€
    â”‚       â””â”€ è¿™ä¸ªIPåœ°å€å°†ç”¨äºå“åº”ä¸­çš„Locationå¤´
    â”‚
    â””â”€ è·å–å¥—æ¥å­—ä¿¡æ¯
        â””â”€&gt; socket<span class="hljs-selector-class">.GetInfo</span>(info)
            â””â”€&gt; info<span class="hljs-selector-class">.local_address</span> å°±æ˜¯è¯¥æ¥å£çš„æœ¬åœ°IP
    
    <span class="hljs-comment">// ========== ç¬¬3æ­¥ï¼šæ¥å£åŒ¹é…éªŒè¯ ==========</span>
    â”œâ”€ å¦‚æœæˆåŠŸè·å–äº†æœ¬åœ°åœ°å€ä¿¡æ¯
    â”‚   â””â”€&gt; if (info.local_address.GetIpAddress()<span class="hljs-selector-class">.AsLong</span>())
    â”‚
    â”œâ”€ éªŒè¯å†…æ ¸é€‰æ‹©çš„ç½‘ç»œæ¥å£æ˜¯å¦ä¸å½“å‰éå†çš„æ¥å£åŒ¹é…
    â”‚   â””â”€&gt; if ((*niaddr)<span class="hljs-selector-class">.GetPrimaryAddress</span>() != info<span class="hljs-selector-class">.local_address</span><span class="hljs-selector-class">.GetIpAddress</span>())
    â”‚       â””â”€&gt; å¦‚æœä¸åŒ¹é…ï¼Œè·³è¿‡æ­¤æ¥å£ (return NPT_SUCCESS)
    â”‚
    â””â”€ å¦‚æœåŒ¹é…ï¼Œåˆ™è®¾ç½®remote_addr = NULL
        â””â”€&gt; è¡¨ç¤ºä½¿ç”¨å·²è¿æ¥çš„å¥—æ¥å­—ï¼Œä¸éœ€è¦å†æŒ‡å®šç›®æ ‡åœ°å€
    
    <span class="hljs-comment">// ========== ç¬¬4æ­¥ï¼šæ„å»ºSSDPå“åº” ==========</span>
    â”œâ”€ NPT_HttpResponse <span class="hljs-built_in">response</span>(<span class="hljs-number">200</span>, "OK", NPT_HTTP_PROTOCOL_1_1)
    â”‚   â””â”€&gt; åˆ›å»ºHTTP <span class="hljs-number">200</span>å“åº”
    â”‚
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">SetLocation</span>(response, device_url)
    â”‚   â””â”€&gt; è®¾ç½®Locationå¤´ï¼ŒåŒ…å«è®¾å¤‡æè¿°æ–‡æ¡£URL
    â”‚       â””â”€&gt; URLä½¿ç”¨æœ¬åœ°IPåœ°å€ï¼šhttp://[local_ip]:port/device.xml
    â”‚
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">SetLeaseTime</span>(response, lease_time)
    â”‚   â””â”€&gt; è®¾ç½®CACHE-CONTROL max-ageï¼ˆè®¾å¤‡ä¿¡æ¯æœ‰æ•ˆæœŸï¼‰
    â”‚
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">SetServer</span>(response, server_string)
    â”‚   â””â”€&gt; è®¾ç½®Serverå¤´ï¼Œæ ‡è¯†è®¾å¤‡ç±»å‹å’Œç‰ˆæœ¬
    â”‚
    â”œâ”€ response.<span class="hljs-built_in">GetHeaders</span>().<span class="hljs-built_in">SetHeader</span>(<span class="hljs-string">"EXT"</span>, <span class="hljs-string">""</span>)
    â”‚   â””â”€&gt; è®¾ç½®EXTå¤´ï¼ˆUPnPè§„èŒƒè¦æ±‚ï¼Œä½†å€¼ä¸ºç©ºï¼‰
    â”‚
    â””â”€ ã€å¯é€‰ã€‘æ ¹æ®DLNAè§„èŒƒï¼Œå¯èƒ½å‘é€ä¸¤æ¬¡å“åº”
        â”œâ”€ if (PLATINUM_UPNP_SPECS_STRICT)
        â”‚   â”œâ”€ m_Device-&gt;<span class="hljs-built_in">SendSsdpSearchResponse</span>() [ç¬¬<span class="hljs-number">1</span>æ¬¡]
        â”‚   â”œâ”€ NPT_System::<span class="hljs-built_in">Sleep</span>(DLNA_DELAY) [å»¶è¿Ÿ<span class="hljs-number">200ms</span>]
        â”‚   â””â”€&gt; [ç»§ç»­æ‰§è¡Œç¬¬<span class="hljs-number">2</span>æ¬¡å‘é€]
        â”‚
        â””â”€&gt; m_Device-&gt;<span class="hljs-built_in">SendSsdpSearchResponse</span>() [ç¬¬<span class="hljs-number">2</span>æ¬¡æˆ–å”¯ä¸€æ¬¡]
}
</code></pre>
<hr/>
<h3 data-id="heading-11">4. å“åº”å‘é€é˜¶æ®µ</h3>
<h4 data-id="heading-12">4.1 è®¾ç½®å“åº”å†…å®¹</h4>
<pre><code class="hljs language-rust" lang="rust">PLT_DeviceHost::<span class="hljs-title function_ invoke__">SendSsdpSearchResponse</span>(response, socket, st, addr)
{
    <span class="hljs-comment">// 1. è®¾ç½®UPnP 1.1å¤´ä¿¡æ¯</span>
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-title function_ invoke__">SetBootId</span>(response, device<span class="hljs-punctuation">-&gt;</span>m_BootId)
    â”‚   â””â”€&gt; ç”¨äº<span class="hljs-title function_ invoke__">NTS</span> (Notification Type)
    â”‚
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-title function_ invoke__">SetConfigId</span>(response, device<span class="hljs-punctuation">-&gt;</span>m_ConfigId)
    â”‚   â””â”€&gt; UPnP <span class="hljs-number">1.1</span>è§„èŒƒï¼Œé…ç½®ID
    â”‚
    <span class="hljs-comment">// 2. æ ¹æ®æœç´¢ç›®æ ‡ç±»å‹(ST)å†³å®šè¦å‘é€å“ªäº›è®¾å¤‡ä¿¡æ¯</span>
    â””â”€ <span class="hljs-title function_ invoke__">if</span> (ST == <span class="hljs-string">"ssdp:all"</span> || ST == <span class="hljs-string">"upnp:rootdevice"</span>)
        â”œâ”€ å‘é€æ ¹è®¾å¤‡ä¿¡æ¯
        â””â”€ <span class="hljs-title function_ invoke__">if</span> (ST == <span class="hljs-string">"ssdp:all"</span>)
            â”œâ”€ ä¹Ÿå‘é€æœåŠ¡ä¿¡æ¯
            â””â”€ ä¹Ÿå‘é€åµŒå…¥è®¾å¤‡ä¿¡æ¯
}
</code></pre>
<h4 data-id="heading-13">4.2 å‘é€SSDPæœç´¢å“åº”</h4>
<pre><code class="hljs language-arduino" lang="arduino">PLT_SsdpSender::<span class="hljs-built_in">SendSsdp</span>(response, usn, st, socket, notify=<span class="hljs-literal">false</span>, addr)
{
    <span class="hljs-comment">// 1. æ ¼å¼åŒ–SSDPå“åº”åŒ…</span>
    â”œâ”€ <span class="hljs-built_in">FormatPacket</span>(response, usn, st, socket, notify)
    â”‚   â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">SetUSN</span>(message, usn)
    â”‚   â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">SetST</span>(message, st)
    â”‚   â”‚   â””â”€&gt; notifyä¸º<span class="hljs-literal">false</span>æ—¶è®¾ç½®STï¼ˆæœç´¢ç›®æ ‡ï¼‰
    â”‚   â””â”€&gt; PLT_UPnPMessageHelper::<span class="hljs-built_in">SetDate</span>(message)
    â”‚
    <span class="hljs-comment">// 2. å°†å“åº”åºåˆ—åŒ–ä¸ºå­—èŠ‚æµ</span>
    â”œâ”€ NPT_MemoryStream stream
    â”œâ”€ response.<span class="hljs-built_in">Emit</span>(stream)
    â”‚   â””â”€&gt; å°†HTTPå“åº”å¯¹è±¡åºåˆ—åŒ–ä¸ºåŸå§‹HTTPæ ¼å¼
    â”‚
    <span class="hljs-comment">// 3. æ„é€ æ•°æ®åŒ…å¹¶å‘é€</span>
    â”œâ”€ stream.<span class="hljs-built_in">GetSize</span>(size)
    â”œâ”€ <span class="hljs-function">NPT_DataBuffer <span class="hljs-title">packet</span><span class="hljs-params">(stream.GetData(), size)</span>
    â”‚   â””â”€&gt; ä»å†…å­˜æµåˆ›å»ºæ•°æ®ç¼“å†²åŒº
    â”‚
    â””â”€ socket.<span class="hljs-title">Send</span><span class="hljs-params">(packet, addr)</span>
        â””â”€&gt; é€šè¿‡UDPå¥—æ¥å­—å°†å“åº”å‘é€ç»™è¯·æ±‚è€…
            â”œâ”€ å¦‚æœaddré<span class="hljs-literal">NULL</span>ï¼Œå‘é€åˆ°æŒ‡å®šåœ°å€
            â””â”€ å¦‚æœaddrä¸º<span class="hljs-literal">NULL</span>ï¼Œå‘é€åˆ°å·²è¿æ¥çš„åœ°å€ï¼ˆsocket.Connectå‰ç¼€ï¼‰
}
</span></code></pre>
<hr/>
<h3 data-id="heading-14">5. å®Œæ•´çš„HTTP SSDPå“åº”å†…å®¹ç¤ºä¾‹</h3>
<pre><code class="hljs language-makefile" lang="makefile">HTTP/1.1 200 OK
<span class="hljs-section">CACHE-CONTROL: max-age=1800</span>
<span class="hljs-section">EXT:</span>
<span class="hljs-section">LOCATION: http://192.168.1.100:8008/device.xml</span>
<span class="hljs-section">SERVER: Linux/2.6 UPnP/1.0 Platinum/1.2.0</span>
<span class="hljs-section">BOOTID.UPNP.ORG: 1234567890</span>
<span class="hljs-section">CONFIGID.UPNP.ORG: 1</span>
<span class="hljs-section">ST: upnp:rootdevice</span>
<span class="hljs-section">USN: uuid:device-uuid::upnp:rootdevice</span>

[ç©ºæ¶ˆæ¯ä½“]
</code></pre>
<hr/>
<h3 data-id="heading-15">6. å…³é”®ç±»å’Œæ¥å£å…³ç³»å›¾</h3>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DMCå‘é€M-SEARCHå¤šæ’­è¯·æ±‚                                   â”‚
â”‚  UDPå¤šæ’­åœ°å€: <span class="hljs-number">239.255</span>.<span class="hljs-number">255.250</span>:<span class="hljs-number">1900</span>                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_SsdpListenTask (è¿è¡Œåœ¨åå°ä»»åŠ¡çº¿ç¨‹)                   â”‚
â”‚  - ç›‘å¬SSDPå¤šæ’­å¥—æ¥å­—                                       â”‚
â”‚  - æ¥æ”¶M-SEARCHè¯·æ±‚å¹¶è§£æ                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_SsdpListenTask::<span class="hljs-built_in">SetupResponse</span>()                        â”‚
â”‚  - è°ƒç”¨æ‰€æœ‰å·²æ³¨å†Œçš„SSDPç›‘å¬å™¨                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_DeviceHost::<span class="hljs-built_in">OnSsdpPacket</span>() (DMRè®¾å¤‡å¤„ç†)               â”‚
â”‚  - è§£æM-SEARCHè¯·æ±‚                                         â”‚
â”‚  - éªŒè¯è¯·æ±‚æ ¼å¼                                             â”‚
â”‚  - åˆ›å»ºæœç´¢å“åº”ä»»åŠ¡                                         â”‚
â”‚  - æ³¨å†Œåˆ°ä»»åŠ¡ç®¡ç†å™¨ï¼ˆå¸¦éšæœºå»¶è¿Ÿï¼‰                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
         éšæœºå»¶è¿Ÿ(<span class="hljs-number">0</span>~MXç§’)   â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_SsdpDeviceSearchResponseTask::<span class="hljs-built_in">DoRun</span>() (å»¶è¿Ÿåæ‰§è¡Œ)    â”‚
â”‚  - è·å–æ‰€æœ‰æ´»è·ƒç½‘ç»œæ¥å£                                     â”‚
â”‚  - åº”ç”¨è¿­ä»£å™¨å¤„ç†æ¯ä¸ªæ¥å£                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    (å¯¹æ¯ä¸ªæ¥å£)
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_SsdpDeviceSearchResponseInterfaceIterator::<span class="hljs-built_in">operator</span>()  â”‚
â”‚  - é€šè¿‡UDPè¿æ¥ç¡®å®šå‡ºç«™æ¥å£                                  â”‚
â”‚  - éªŒè¯æ¥å£åŒ¹é…æ€§                                           â”‚
â”‚  - æ„å»ºHTTP <span class="hljs-number">200</span>å“åº”ï¼ˆåŒ…å«Locationã€ç¼“å­˜æ—¶é—´ç­‰ï¼‰            â”‚
â”‚  - ã€å¯é€‰ã€‘DLNAè§„èŒƒä¸‹å‘é€ä¸¤æ¬¡                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_SsdpSender::<span class="hljs-built_in">SendSsdp</span>()                                 â”‚
â”‚  - æ ¼å¼åŒ–SSDPå“åº”åŒ…                                         â”‚
â”‚  - åºåˆ—åŒ–HTTPå“åº”                                           â”‚
â”‚  - é€šè¿‡UDPå¥—æ¥å­—å‘é€                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UDP Socket.<span class="hljs-built_in">Send</span>()                                          â”‚
â”‚  - å‘é€å“åº”ç»™è¯·æ±‚è€…çš„IPå’Œç«¯å£                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   DMCæ¥æ”¶å“åº”          â”‚
              â”‚ è·å–Location URL       â”‚
              â”‚ ä¸‹è½½è®¾å¤‡æè¿°æ–‡æ¡£      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-16">7. é‡è¦çš„è®¾è®¡è€ƒè™‘</h3>
<h4 data-id="heading-17">7.1 ä¸ºä»€ä¹ˆè¦å»¶è¿Ÿå“åº”ï¼Ÿ</h4>
<ul>
<li><strong>é˜²æ­¢ç½‘ç»œé£æš´</strong>ï¼šå¤šä¸ªè®¾å¤‡åŒæ—¶æ”¶åˆ°M-SEARCHï¼Œå¦‚æœç«‹å³å›åº”ä¼šé€ æˆå¤§é‡æ•°æ®ç¢°æ’</li>
<li><strong>éšæœºå»¶è¿Ÿ</strong>ï¼šæ¯ä¸ªè®¾å¤‡å»¶è¿Ÿ 0 ~ MX ç§’ï¼Œè¿™æ ·å“åº”ä¼šåˆ†æ•£å¼€æ¥</li>
<li><strong>MXå‚æ•°</strong>ï¼šDMCåœ¨M-SEARCHä¸­æŒ‡å®šMXå€¼ï¼Œè®¾å¤‡æ®æ­¤è®¡ç®—å»¶è¿Ÿ</li>
</ul>
<h4 data-id="heading-18">7.2 ä¸ºä»€ä¹ˆè¦å¤šæ¬¡éå†ç½‘ç»œæ¥å£ï¼Ÿ</h4>
<ul>
<li><strong>å¤šç½‘å¡åœºæ™¯</strong>ï¼šä¸€ä¸ªDMRå¯èƒ½æœ‰å¤šä¸ªç½‘ç»œæ¥å£ï¼ˆä»¥å¤ªç½‘ã€WiFiç­‰ï¼‰</li>
<li><strong>æ­£ç¡®çš„Location IP</strong>ï¼šå¿…é¡»ä½¿ç”¨å°†æ•°æ®å‘é€ç»™è¯·æ±‚è€…çš„é‚£ä¸ªæ¥å£çš„IPåœ°å€</li>
<li><strong>å†…æ ¸é€‰æ‹©</strong>ï¼šé€šè¿‡socket.Connect()è®©OSå†…æ ¸é€‰æ‹©åˆé€‚çš„å‡ºç«™æ¥å£</li>
</ul>
<h4 data-id="heading-19">7.3 ä¸ºä»€ä¹ˆè¦å‘é€ä¸¤æ¬¡ï¼ˆDLNAè§„èŒƒï¼‰ï¼Ÿ</h4>
<ul>
<li><strong>DLNAå…¼å®¹æ€§</strong>ï¼šæŸäº›DLNAè®¾å¤‡éœ€è¦æ¥æ”¶ä¸¤æ¬¡å“åº”æ¥ç¡®ä¿æ”¶åˆ°</li>
<li><strong>é—´éš”å»¶è¿Ÿ</strong>ï¼šä¸¤æ¬¡å“åº”ä¹‹é—´å»¶è¿Ÿçº¦200msï¼ˆPLT_DLNA_SSDP_DELAY_GROUPï¼‰</li>
<li><strong>å¯é€‰æ¡ä»¶</strong>ï¼šä»…å½“ç¼–è¯‘æ—¶å®šä¹‰äº†PLATINUM_UPNP_SPECS_STRICTæ—¶</li>
</ul>
<h4 data-id="heading-20">7.4 USNå’ŒSTçš„åŒºåˆ«</h4>
<ul>
<li><strong>STï¼ˆSearch Targetï¼‰</strong>ï¼šæœç´¢ç›®æ ‡ï¼Œåœ¨M-SEARCHè¯·æ±‚ä¸­æŒ‡å®š
<ul>
<li><code>ssdp:all</code> - æœç´¢æ‰€æœ‰è®¾å¤‡å’ŒæœåŠ¡</li>
<li><code>upnp:rootdevice</code> - ä»…æœç´¢æ ¹è®¾å¤‡</li>
<li><code>urn:schemas-upnp-org:device:MediaRenderer:1</code> - æœç´¢ç‰¹å®šè®¾å¤‡ç±»å‹</li>
</ul>
</li>
<li><strong>USNï¼ˆUnique Service Nameï¼‰</strong>ï¼šå“åº”ä¸­çš„å”¯ä¸€æœåŠ¡åæ ‡è¯†
<ul>
<li><code>uuid:device-uuid::upnp:rootdevice</code></li>
<li><code>uuid:device-uuid::urn:schemas-upnp-org:device:MediaRenderer:1</code></li>
<li><code>uuid:device-uuid::urn:schemas-upnp-org:service:RenderingControl:1</code></li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-21">8. ä»£ç æµè¿½è¸ªæ€»ç»“</h3>
<pre><code class="hljs language-arduino" lang="arduino">ç½‘ç»œæ¥æ”¶
  â†“
PLT_SsdpListenTask ç›‘å¬UDPå¤šæ’­
  â†“
æ¥æ”¶åˆ°M-SEARCHè¯·æ±‚
  â†“
PLT_SsdpListenTask::<span class="hljs-built_in">SetupResponse</span>()
  â†“
é€šçŸ¥æ‰€æœ‰ç›‘å¬å™¨ â†’ PLT_DeviceHost::<span class="hljs-built_in">OnSsdpPacket</span>()
  â†“
éªŒè¯è¯·æ±‚+åˆ›å»ºå“åº”ä»»åŠ¡
  â†“
ä»»åŠ¡ç®¡ç†å™¨â†’å»¶è¿Ÿæ‰§è¡Œ
  â†“
PLT_SsdpDeviceSearchResponseTask::<span class="hljs-built_in">DoRun</span>()
  â†“
éå†ç½‘ç»œæ¥å£â†’PLT_SsdpDeviceSearchResponseInterfaceIterator
  â†“
é€‰æ‹©æ­£ç¡®æ¥å£+æ„å»ºHTTP200å“åº”
  â†“
PLT_SsdpSender::<span class="hljs-built_in">SendSsdp</span>()
  â†“
UDP Socketå‘é€å“åº”
  â†“
DMCæ¥æ”¶å“åº”å¹¶è§£æ
</code></pre>
<hr/>
<h3 data-id="heading-22">9. å‚è€ƒçš„å…³é”®æºæ–‡ä»¶</h3>
<ul>
<li><a href="https://link.juejin.cn?target=Platinum%2FCore%2FPltSsdp.h" target="_blank" title="Platinum/Core/PltSsdp.h" ref="nofollow noopener noreferrer">PltSsdp.h</a> - SSDPç±»å®šä¹‰</li>
<li><a href="https://link.juejin.cn?target=Platinum%2FCore%2FPltSsdp.cpp" target="_blank" title="Platinum/Core/PltSsdp.cpp" ref="nofollow noopener noreferrer">PltSsdp.cpp</a> - SSDPå®ç°ï¼ˆå«æœç´¢å“åº”è¿­ä»£å™¨ï¼‰</li>
<li><a href="https://link.juejin.cn?target=Platinum%2FCore%2FPltDeviceHost.h" target="_blank" title="Platinum/Core/PltDeviceHost.h" ref="nofollow noopener noreferrer">PltDeviceHost.h</a> - è®¾å¤‡ä¸»æœºæ¥å£</li>
<li><a href="https://link.juejin.cn?target=Platinum%2FCore%2FPltDeviceHost.cpp" target="_blank" title="Platinum/Core/PltDeviceHost.cpp" ref="nofollow noopener noreferrer">PltDeviceHost.cpp</a> - OnSsdpPacketå®ç°</li>
<li><a href="https://link.juejin.cn?target=Platinum%2FCore%2FPltDeviceData.h" target="_blank" title="Platinum/Core/PltDeviceData.h" ref="nofollow noopener noreferrer">PltDeviceData.h</a> - è®¾å¤‡æ•°æ®ç»“æ„</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[jsä¸­çš„usingå£°æ˜]]></title>    <link>https://juejin.cn/post/7592423411563233306</link>    <guid>https://juejin.cn/post/7592423411563233306</guid>    <pubDate>2026-01-07T10:25:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592423411563233306" data-draft-id="7531888107878023203" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="jsä¸­çš„usingå£°æ˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T10:25:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º"/> <meta itemprop="url" content="https://juejin.cn/user/976022056218471"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            jsä¸­çš„usingå£°æ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976022056218471/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:25:48.000Z" title="Wed Jan 07 2026 10:25:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€<code>using</code> å£°æ˜ç®€ä»‹</h2>
<p><code>using</code> æ˜¯ <strong>ECMAScript 2023ï¼ˆES14ï¼‰</strong> å¼•å…¥çš„ä¸€é¡¹æ–°è¯­æ³•ï¼Œç”¨äº<strong>è‡ªåŠ¨ç®¡ç†èµ„æºçš„ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚<br/>
å®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯ç®€åŒ–â€œèµ„æºä½¿ç”¨å®Œåè‡ªåŠ¨é‡Šæ”¾â€çš„åœºæ™¯ï¼Œä¾‹å¦‚æ–‡ä»¶å¥æŸ„ã€æ•°æ®åº“è¿æ¥ã€é”ç­‰ã€‚
ç›¸å…³ææ¡ˆå¯è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftc39%2Fproposal-using-enforcement" target="_blank" title="https://github.com/tc39/proposal-using-enforcement" ref="nofollow noopener noreferrer">github.com/tc39/proposâ€¦</a></p>
<p>ğŸ“œ <strong>è¯­æ³•ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> å˜é‡å = è¡¨è¾¾å¼;
<span class="hljs-keyword">await</span> <span class="hljs-keyword">using</span> å˜é‡å = å¼‚æ­¥è¡¨è¾¾å¼;
</code></pre>
<p><code>using</code> å£°æ˜çš„å˜é‡å¿…é¡»æ˜¯ä¸€ä¸ªå®ç°äº† <strong><code>Symbol.dispose</code></strong> æˆ– <strong><code>Symbol.asyncDispose</code></strong> æ–¹æ³•çš„å¯¹è±¡ã€‚<br/>
å½“ä½œç”¨åŸŸé€€å‡ºï¼ˆæ— è®ºæ˜¯æ­£å¸¸è¿”å›è¿˜æ˜¯å¼‚å¸¸ï¼‰æ—¶ï¼ŒJS å¼•æ“ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•é‡Šæ”¾èµ„æºã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-2">åŒæ­¥ç‰ˆæœ¬</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">File</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‰“å¼€æ–‡ä»¶: <span class="hljs-subst">${name}</span>`</span>);
  }
  [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">dispose</span>]() {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å…³é—­æ–‡ä»¶: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  using f = <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">"data.txt"</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è¯»å–æ–‡ä»¶ä¸­..."</span>);
}

<span class="hljs-title function_">main</span>();
<span class="hljs-comment">// è¾“å‡ºï¼š</span>
<span class="hljs-comment">// æ‰“å¼€æ–‡ä»¶: data.txt</span>
<span class="hljs-comment">// è¯»å–æ–‡ä»¶ä¸­...</span>
<span class="hljs-comment">// å…³é—­æ–‡ä»¶: data.txt</span>
</code></pre>
<blockquote>
<p>âš¡ å½“ <code>main()</code> æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œ<code>f</code> ç¦»å¼€ä½œç”¨åŸŸï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨ <code>f[Symbol.dispose]()</code>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">å¼‚æ­¥ç‰ˆæœ¬</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncResource</span> {
  <span class="hljs-keyword">async</span> [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">asyncDispose</span>]() {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¼‚æ­¥é‡Šæ”¾èµ„æº..."</span>);
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(res, <span class="hljs-number">1000</span>));
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"èµ„æºå·²é‡Šæ”¾"</span>);
  }
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">run</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">await</span> using r = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncResource</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ä½¿ç”¨å¼‚æ­¥èµ„æºä¸­..."</span>);
}

<span class="hljs-title function_">run</span>();
</code></pre>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å†…éƒ¨æœºåˆ¶ç®€æ</h2>
<ul>
<li>
<p><code>using</code> æ˜¯ <strong>è¯æ³•ä½œç”¨åŸŸç»‘å®š</strong>ï¼ˆå’Œ <code>let</code>/<code>const</code> ç±»ä¼¼ï¼‰ã€‚</p>
</li>
<li>
<p>ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼š</p>
<ul>
<li>å¦‚æœæ˜¯åŒæ­¥èµ„æº â†’ è°ƒç”¨ <code>[Symbol.dispose]()</code></li>
<li>å¦‚æœæ˜¯å¼‚æ­¥èµ„æº â†’ è°ƒç”¨ <code>[Symbol.asyncDispose]()</code></li>
</ul>
</li>
<li>
<p>å®ƒå¯ä»¥å’Œ <code>try</code>ã€<code>catch</code>ã€<code>finally</code> ä¸€èµ·å®‰å…¨ä½¿ç”¨ã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-5">å››ã€ä½¿ç”¨åœºæ™¯</h2>

























<table><thead><tr><th>åœºæ™¯</th><th>ä¼ ç»Ÿåšæ³•</th><th>æ–°å†™æ³•ï¼ˆusingï¼‰</th></tr></thead><tbody><tr><td>æ–‡ä»¶æ“ä½œ</td><td>try/finally æ‰‹åŠ¨å…³é—­</td><td>è‡ªåŠ¨è°ƒç”¨ dispose</td></tr><tr><td>æ•°æ®åº“è¿æ¥</td><td>æ‰‹åŠ¨æ–­å¼€</td><td>è‡ªåŠ¨é‡Šæ”¾è¿æ¥</td></tr><tr><td>ä¸´æ—¶é”</td><td>try/finally é‡Šæ”¾é”</td><td>ç¦»å¼€ä½œç”¨åŸŸè‡ªåŠ¨é‡Šæ”¾</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">äº”ã€æ³¨æ„äº‹é¡¹</h2>
<ol>
<li><code>using</code> <strong>åªèƒ½åœ¨æ¨¡å—æˆ–å‡½æ•°ä½œç”¨åŸŸä¸­ä½¿ç”¨</strong>ï¼Œä¸èƒ½åœ¨å…¨å±€ä½œç”¨åŸŸç›´æ¥å£°æ˜ã€‚</li>
<li>ä¸èƒ½ä¸ <code>var</code> å…±ç”¨ã€‚</li>
<li>ä¸ä¼šå½±å“ GCï¼ˆåƒåœ¾å›æ”¶ï¼‰ï¼Œå®ƒåªæ˜¯æä¾›<strong>ç»“æ„åŒ–é‡Šæ”¾èµ„æº</strong>çš„æœºåˆ¶ã€‚</li>
</ol>
<h2 data-id="heading-7">å…­ã€å®è·µdemoâ€”â€”ç®€åŒ–revokeObjectURL</h2>
<p>åœ¨å›¾ç‰‡å›æ˜¾/æ–‡ä»¶ä¸‹è½½ç­‰åœºæ™¯ä¸­ï¼Œå¼€å‘å¾ˆå®¹æ˜“å¿˜è®°<code>revokeObjectURL</code>,æˆ‘ä»¬å¯ä»¥åˆ©ç”¨<code>using</code>ç‰¹æ€§è¿›è¡Œå°è£…ï¼Œæ¶ˆé™¤<code>revokeObjectURL</code>çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚</p>
<p>å°±æ¯”å¦‚ä¸Šä¼ å›¾ç‰‡åå›æ˜¾çš„æ“ä½œï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸš€ using demo å¯åŠ¨...'</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">objectURLResource</span>(<span class="hljs-params">blob</span>) {
    <span class="hljs-keyword">const</span> url = <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(blob);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ†• åˆ›å»º URL:'</span>, url);
    <span class="hljs-keyword">return</span> {
        url,
          [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">dispose</span>]() {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é‡Šæ”¾èµ„æº..."</span>);
            <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(url);
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ§¹ è‡ªåŠ¨é‡Šæ”¾ URL:'</span>, url);
            
        },
        <span class="hljs-comment">// [Symbol.dispose]() {</span>
        <span class="hljs-comment">//     console.log("é‡Šæ”¾èµ„æº...");</span>
        <span class="hljs-comment">//     new Promise(resolve =&gt; setTimeout(resolve, 1000)).then(()=&gt;{</span>
        <span class="hljs-comment">//         URL.revokeObjectURL(url);</span>
        <span class="hljs-comment">//         console.log('ğŸ§¹ è‡ªåŠ¨é‡Šæ”¾ URL:', url);</span>
        <span class="hljs-comment">//     })</span>
            
        <span class="hljs-comment">// },</span>
          <span class="hljs-keyword">async</span> [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">asyncDispose</span>]() {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¼‚æ­¥é‡Šæ”¾èµ„æº..."</span>);
            <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">3000</span>)); <span class="hljs-comment">// æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ</span>
            <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(url);
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ§¹ è‡ªåŠ¨é‡Šæ”¾ URL:'</span>, url);
        },
    };
}



<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">showImage</span>(<span class="hljs-params">blob</span>) {
    <span class="hljs-comment">// await using resource = objectURLResource(blob);</span>
    using resource = <span class="hljs-title function_">objectURLResource</span>(blob);
    <span class="hljs-keyword">const</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'img'</span>);
    img.<span class="hljs-property">src</span> = resource.<span class="hljs-property">url</span>;
    img.<span class="hljs-property">alt</span> = <span class="hljs-string">'demo'</span>;
    <span class="hljs-keyword">const</span> { resolve, promise } = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">withResolvers</span>()
    img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">resolve</span>()
    }
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(img);
    <span class="hljs-keyword">await</span> promise;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ… æ¼”ç¤ºå®Œæ¯•ï¼ŒURL å°†è¢«è‡ªåŠ¨ revoke'</span>);
}
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#file'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'change'</span>,<span class="hljs-keyword">async</span> (e) =&gt; {
    <span class="hljs-keyword">const</span> f = e.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]
   <span class="hljs-keyword">await</span> <span class="hljs-title function_">showImage</span>(f);
   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'do others...    '</span>)

})

</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85a10c9e0fb44bcf92ace642a19898a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768386347&amp;x-signature=n82HBvEQsoDr3ubfCEec6oqKuDE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">revokeObjectURLçš„æ³¨æ„äº‹é¡¹</h3>
<p>å½“imgåŠ è½½åï¼Œæ‰§è¡Œ<code>revokeObjectURL</code>å¹¶ä¸ä¼šå½±å“å†…å®¹æ˜¾ç¤ºï¼Œä½†å¦‚æœimgæœªåŠ è½½å®Œå°±æ‰§è¡Œäº†<code>revokeObjectURL</code>ï¼Œåˆ™æ— æ³•æ˜¾ç¤ºå›¾ç‰‡ã€‚å› æ­¤ä»¥ä¸Šdemoä¸­å¢åŠ äº†<code>await promise</code>çš„å¤„ç†ï¼Œç¡®ä¿å›¾ç‰‡è¢«æ˜¾ç¤ºå‡ºæ¥ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e581b6c97c9406c9cfd14f00ebc20a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768386347&amp;x-signature=7uh9OAdRX7WaWapeSpY7QrSN8Yc%3D" alt="image.png" loading="lazy"/></p>
<p>é‚£ä¹ˆå¯èƒ½ä¼šæœ‰äººé—®ï¼Œæ­¤å¤„èƒ½å¦ç”¨<code>Symbol.asyncDispose</code>æ¥è§£å†³è¯¥é—®é¢˜ï¼Ÿç­”æ¡ˆæ˜¯ä¸èƒ½ã€‚ä½†è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼Œè§¦åŠåˆ°äº†
<code>Symbol.asyncDispose</code>ä¸<code>Symbol.dispose</code>çš„æ ¹æœ¬åŒºåˆ«.</p>
<h2 data-id="heading-9">ä¸ƒã€Symbol.asyncDisposeä¸Symbol.disposeçš„åŒºåˆ«</h2>
<p>è¡¨é¢ä¸Šçœ‹ï¼Œä»¥ä¸Šdemoä¸­å¦‚æœå†™æˆ<code>await using resource = objectURLResource(blob);</code>ï¼Œé‡Šæ”¾èµ„æºç”¨çš„æ˜¯<code>Symbol.asyncDispose</code>ï¼Œå¦‚æœä¸åŠ <code>await</code>ï¼Œåˆ™è°ƒç”¨<code>Symbol.dispose</code>ã€‚</p>
<p>å¼‚æ­¥é‡Šæ”¾ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c06c4140e25f4b4c89fd4ddd0d6997bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768386347&amp;x-signature=RGnOX6ZQdZrhrCH8sc3F%2Bh8dttE%3D" alt="å¼‚æ­¥é‡Šæ”¾" loading="lazy"/></p>
<p>é‚£ä¹ˆè¿™ä¸¤ä¸ªapiçš„ä½¿ç”¨åœºæ™¯åˆ†åˆ«æ˜¯å•¥å‘¢ï¼Ÿæˆ‘ä»¬ä¸å¦¨åœ¨åŒæ­¥é‡Šæ”¾ä¸­å†™ä¸‹å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">dispose</span>]() {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é‡Šæ”¾èµ„æº..."</span>);
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span>)).<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>{
        <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(url);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ§¹ è‡ªåŠ¨é‡Šæ”¾ URL:'</span>, url);
    })
},
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9884740a6cbe43398f665f3475f63890~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768386347&amp;x-signature=93S5o31ix4f%2B8B1Sf5Hj8PABNIw%3D" alt="image.png" loading="lazy"/>
å¯ä»¥çœ‹åˆ°ï¼Œ<code>do others...</code>åœ¨é‡Šæ”¾å®Œæˆå‰å°±æ‰§è¡Œäº†ã€‚</p>
<p>å› æ­¤å¯ä»¥ç†è§£ï¼š<code>Symbol.asyncDispose</code>æ˜¯ä¸ºäº†è®©åç»­çš„ä»£ç ç­‰å¾…å¼‚æ­¥é‡Šæ”¾å®Œæˆåå†æ‰§è¡Œï¼Œå› ä¸ºæœ‰äº›é‡Šæ”¾åœºæ™¯ï¼Œå¯èƒ½éœ€è¦è¿›è¡Œioæˆ–å…¶ä»–å¼‚æ­¥æ ¡éªŒï¼Œè€Œ<code>Symbol.dispose</code>é‡Šæ”¾è¿‡ç¨‹æ˜¯åŒæ­¥çš„ï¼Œåç»­ä»£ç æ‰§è¡Œæ—¶å¯ä»¥è®¤ä¸ºèµ„æºå·²ç»è¢«é‡Šæ”¾äº†ã€‚å¦‚æœåç»­ä»£ç æ‰§è¡Œæ—¶å¹¶ä¸å…³å¿ƒè¯¥èµ„æºæ˜¯å¦å·²ç»é‡Šæ”¾äº†ï¼Œé‚£ä½¿ç”¨<code>Symbol.dispose</code>å³å¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº Agent Skills çš„ UI é‡æ„å®è·µï¼šä» Demo åˆ°ä¸»é¢˜åŒ–ç•Œé¢çš„å‡çº§ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7592431064976228367</link>    <guid>https://juejin.cn/post/7592431064976228367</guid>    <pubDate>2026-01-07T09:46:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592431064976228367" data-draft-id="7592431064976211983" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº Agent Skills çš„ UI é‡æ„å®è·µï¼šä» Demo åˆ°ä¸»é¢˜åŒ–ç•Œé¢çš„å‡çº§ä¹‹è·¯"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,Claude"/> <meta itemprop="datePublished" content="2026-01-07T09:46:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dragonZhang"/> <meta itemprop="url" content="https://juejin.cn/user/1684908923689773"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº Agent Skills çš„ UI é‡æ„å®è·µï¼šä» Demo åˆ°ä¸»é¢˜åŒ–ç•Œé¢çš„å‡çº§ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1684908923689773/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dragonZhang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:46:24.000Z" title="Wed Jan 07 2026 09:46:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;color:#282d36}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px;color:#2f845e}.markdown-body h2{font-size:22px;display:inline-block;font-weight:700;background:#2f845e;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(47,132,194,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 32px);border-bottom:3px solid #2f845e}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%;box-shadow:6px 6px 6px #888}.markdown-body hr{border:none;border-top:1px solid rgba(66,185,131,.15);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:16px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#262626;border:1px solid #2f845e;border-top:8px solid #2f845e;background:linear-gradient(180deg,rgba(66,185,131,.1),transparent)!important}.markdown-body pre&gt;code.hljs[lang]:before{top:8px!important;color:#2f845e!important}.markdown-body pre&gt;code.language-awesome_error{border:1px solid #ff4d4f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ff4d4f!important;background:#fff2f0!important}.markdown-body pre&gt;code.language-awesome_error:before{content:"!"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ff4d4f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_warn{border:1px solid #ffc46f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ffc46f!important;background:#fffbe6!important}.markdown-body pre&gt;code.language-awesome_warn:before{content:"â˜‚"!important;position:absolute;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ffc46f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_success{border:1px solid #52c41a!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#52c41a!important;background:#f6ffed!important}.markdown-body pre&gt;code.language-awesome_success:before{content:"âœ“"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#52c41a!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_info{border:1px solid #1890ff!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#1890ff!important;background:#e6f7ff!important}.markdown-body pre&gt;code.language-awesome_info:before{content:"i"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#1890ff!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body strong{background-color:inherit;color:#2f845e}.markdown-body em{background-color:inherit;color:#949415}.markdown-body a{text-decoration:none;color:#2f8e54;border-bottom:1px solid #3f9e64}.markdown-body a:active,.markdown-body a:hover{color:#3f9e64}.markdown-body a[class^=footnote]{margin-left:4px}.markdown-body a:before{content:"â¤ "}.markdown-body table{font-size:12px;width:100%;max-width:100%;overflow:auto;border:2px solid #2f8e54}.markdown-body thead{background:#2f8e54;color:#fff;text-align:left;font-weight:700}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:22px}.markdown-body td{min-width:120px}.markdown-body blockquote{padding:1px 22px;margin:22px 0;border-left:6px solid #2f845e;background-color:rgba(66,185,131,.1);border-radius:2px}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#2f845e}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px;color:#282d36}.markdown-body del{color:#2f845e}.markdown-body input[type=checkbox]:checked:before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/klEQVQ4T72TMU7DQBBF318XdFR06egQEnAXRINEGlqgowoIR8AF4AZOZ4JEGq5AC5EixBU4A55BNrEVHAcSBTHlaubt37/zxZKlcn7n6mDPXJvz8IJ89HzWu8t7C8D2dfsY52ae4apHnLx0ktsCsHXZjiUuFgG40x2eJ/H/AhztB+zDUTpLwWj8jGkzxSHiHaMPrDQC8sMoilKzLAUqiKQjmb+ZuAdW80tmelCHODoNgSfP7AFprTTaRTzsJN1GEyuIZ7uW6TEEHwCtyV/6EVBKJHhfzgC0Xv/iXwEFBF4FG0378bd7sPQq5xK/hSnk6sdlX3mZrKkwLZKBeu8n9XuWEUE7X+YAAAAASUVORK5CYII=);position:relative;top:-1px;left:-1px}.markdown-body .math .katex{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}@media (max-width:720px){.markdown-body h1{font-size:22px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">é‡æ„ç¼˜èµ·ï¼šä¸ºä»€ä¹ˆé€‰æ‹© Agent Skills ä¼˜åŒ– UI</h2>

<h3 data-id="heading-1">ä»ä¸€ä¸ªå° Demo å¼€å§‹</h3>
<p>æœ€è¿‘æ­£åœ¨è¯»ã€Šç™¾ä¸‡å¯Œç¿å¿«è½¦é“ã€‹ï¼Œé‡Œé¢æœ‰ä¸ªè§‚ç‚¹æ˜¯é€šè¿‡å·¥ä½œæ”¶å…¥ &amp; æŠ•èµ„å¤åˆ©ï¼Œè¦å®ç°è´¢å¯Œè‡ªç”±éœ€è¦éå¸¸ä¹…çš„æ—¶é—´ï¼Œäºæ˜¯å¿ƒè¡€æ¥æ½®ï¼Œç”¨ AI åšäº†ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fsavings.abrdns.com%2Fzh" target="_blank" title="https://savings.abrdns.com/zh" ref="nofollow noopener noreferrer">ç§¯è“„æ¨¡æ‹Ÿå™¨</a>ï¼ˆå®Œå…¨å¼€æºï¼Œæ¬¢è¿æ¥è¯•è¯•çœ‹ï¼‰ï¼Œçœ‹çœ‹è‡ªå·±æœªæ¥æ”¶å…¥çš„å˜åŒ–ã€‚åˆç‰ˆçš„ UI å¤§æ¦‚é•¿è¿™ä¸ªæ ·å­ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de5934b4ee734e37b82de1b67d1b72f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=eTpI%2FLEpLcDnzwfy%2Bw8HN2q2lTg%3D" alt="" loading="lazy"/></p>
<p>éå¸¸å…¸å‹çš„ AI é£ï¼Œå¯¹å§ï¼Œæ—¢ä¸é«˜çº§ä¹Ÿä¸å¸ç›ï¼Œä¸é‡‘èè´¢å¯Œç±»ç½‘é¡µçš„ä¸»é¢˜è°ƒæ€§ä¹Ÿç›¸å»ç”šè¿œã€‚ä¸ºæ­¤ï¼Œæˆ‘å°è¯•å¼•å…¥ <strong>Agent Skills</strong> å¯¹é¡µé¢è¿›è¡Œé‡æ„ï¼Œä¼˜åŒ–åçš„ UI æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39d9ed86cf9d4319a0f3e9df6241084e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=tjQrI9119NkOOdQK9AbKEjBxGJU%3D" alt="" loading="lazy"/></p>
<p>é‡æ„åçš„ç•Œé¢ä¸ä»…ç¾è§‚åº¦æ˜¾è‘—æå‡ï¼Œé£æ ¼ä¹Ÿä¸é‡‘èè´¢å¯Œçš„ä¸»é¢˜é«˜åº¦å¥‘åˆã€‚é‚£ä¹ˆï¼Œ<strong>Agent Skills ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ</strong> æˆ‘åˆä¸ºä½•é€‰æ‹©å®ƒæ¥å®Œæˆæœ¬æ¬¡ UI é‡æ„å·¥ä½œï¼Ÿæ¥ä¸‹æ¥å°†é€ä¸€è§£ç­”ã€‚</p>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯ Agent Skillsï¼Ÿ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2Fhome" target="_blank" title="https://agentskills.io/home" ref="nofollow noopener noreferrer">Agent Skills</a>ï¼ˆåˆç§° Claude Skillsï¼Œç®€ç§° Skillsï¼‰æ˜¯ Anthropic åœ¨ 2025 å¹´ 10 æœˆ 16 å·å‘å¸ƒçš„ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fequipping-agents-for-the-real-world-with-agent-skills" target="_blank" title="https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills" ref="nofollow noopener noreferrer">åŠŸèƒ½</a>ï¼Œå¹¶åœ¨ 2025 å¹´ 12 æœˆ 18 æ—¥å‘å¸ƒä¸ºè·¨å¹³å°çš„å¼€æ”¾æ ‡å‡†ï¼Œæˆä¸º MCP ä¹‹ååˆä¸€è¢«å„å®¶ AI å¤§å‚çº·çº·æ”¯æŒçš„æ–°æ ‡å‡†ã€‚</p>
<p>è¯¥æ ‡å‡†çš„è®¾è®¡åˆè¡·ï¼Œæ˜¯ä¸ºäº†å¼¥è¡¥é€šç”¨æ™ºèƒ½ä½“åœ¨å¤„ç†ç‰¹å®šé¢†åŸŸä»»åŠ¡æ—¶ï¼Œå¯¹<strong>è¿‡ç¨‹æ€§çŸ¥è¯†</strong>ä¸<strong>ç»„ç»‡ä¸Šä¸‹æ–‡</strong>çš„æŒæ¡ä¸è¶³ã€‚ç®€å•æ¥è¯´ï¼ŒAgent Skills æ˜¯ä¸€ä¸ªåŒ…å«æŒ‡ä»¤ã€è„šæœ¬ä¸èµ„æºçš„ç»“æ„åŒ–ç›®å½•ï¼Œèƒ½å¤Ÿè®©æ™ºèƒ½ä½“æ ¹æ®ä»»åŠ¡éœ€æ±‚ï¼ŒåŠ¨æ€å‘ç°å¹¶åŠ è½½å¯¹åº”çš„ä¸“ä¸šèƒ½åŠ›åŒ…ã€‚</p>
<p>æ¯ä¸ª Skill çš„æ ¸å¿ƒè½½ä½“æ˜¯ä¸€ä¸ªåä¸º <code>SKILL.md</code> çš„æ–‡ä»¶ï¼Œå…¶ç»“æ„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li>å…ƒæ•°æ®ï¼ˆYAML Frontmatterï¼‰ï¼šæ–‡ä»¶å¼€å¤´åŒ…å«æŠ€èƒ½çš„åç§°å’Œæè¿°ã€‚ æ™ºèƒ½ä½“åœ¨å¯åŠ¨æ—¶ä¼šé¢„åŠ è½½è¿™äº›å…ƒæ•°æ®ï¼Œä»¥ä¾¿åœ¨é‡åˆ°ç›¸å…³ä»»åŠ¡æ—¶è¯†åˆ«å¹¶è§¦å‘è¯¥æŠ€èƒ½ã€‚</li>
<li>å¤šå±‚çº§å†…å®¹ï¼šæŠ€èƒ½ç›®å½•å¯ä»¥åŒ…å«å¤šä¸ªæ–‡ä»¶ï¼ˆå¦‚ .md æ–‡æ¡£æˆ–è„šæœ¬ï¼‰ã€‚ è¿™ç§è®¾è®¡å…è®¸ä½œè€…å°†å¤æ‚çš„æŒ‡ä»¤æ‹†åˆ†ï¼Œä»…åœ¨éœ€è¦æ—¶è®©æ™ºèƒ½ä½“è¯»å–ç‰¹å®šéƒ¨åˆ†ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a682b0848cb48c6a868b58c9c8f7387~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=ygHwqPvzzitudIng5%2FpJmrOxlBs%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†æœ€å¤§åŒ–èŠ‚çº¦ Token èµ„æºï¼ŒSkills é‡‡ç”¨<strong>ä¸‰å±‚å¼æ¸è¿›å¼æŠ«éœ²ï¼ˆProgressive Disclosureï¼‰</strong> æœºåˆ¶ï¼Œå…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li>Level 1: Metadataã€‚ä¼šåœ¨ Coding Agent å†·å¯åŠ¨æ—¶åŠ è½½åˆ° System Prompt ä¸­ã€‚</li>
<li>Level 2: Instructionsã€‚å½“è¯·æ±‚çš„å†…å®¹ä¸æŠ€èƒ½æè¿°ç›¸ç¬¦æ—¶ï¼ŒCoding Agent ä¼šé€šè¿‡ bash ä»æ–‡ä»¶ç³»ç»Ÿä¸­è¯»å– SKILL.md æ–‡ä»¶ã€‚åªæœ‰è¿™æ ·ï¼Œè¯¥æ–‡ä»¶çš„å†…å®¹æ‰ä¼šæ˜¾ç¤ºåœ¨ä¸Šä¸‹æ–‡çª—å£ä¸­ã€‚</li>
<li>Level 3: Resources and codeã€‚ä»…åœ¨è¢«å¼•ç”¨æ—¶æ‰ä¼šè®¿é—®è¿™äº›æ–‡ä»¶ï¼ŒæŒ‡ä»¤æä¾›çµæ´»çš„æŒ‡å¯¼ï¼Œä»£ç æä¾›å¯é æ€§ï¼Œèµ„æºç”¨äºäº‹å®æŸ¥æ‰¾ï¼Œç¡®ä¿åœ¨ä»»ä½•ç»™å®šæ—¶é—´ï¼Œä¸Šä¸‹æ–‡çª—å£ä¸­åªæ˜¾ç¤ºç›¸å…³å†…å®¹ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b48745fc673490bbca0a7195ccfb20b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=PIIl5zPfTtWueAeNTp%2FEKrRTrBI%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†æ›´æ¸…æ™°åœ°ç†è§£ Skills çš„å®šä½ï¼Œæˆ‘ä»¬å°†å…¶ä¸ç›¸ä¼¼æŠ€æœ¯æ¦‚å¿µè¿›è¡Œå¯¹æ¯”ï¼š</p>

































<table><thead><tr><th>å¯¹æ¯”å¯¹è±¡</th><th>æ ¸å¿ƒå·®å¼‚ç‚¹</th></tr></thead><tbody><tr><td>æç¤ºè¯æ–‡ä»¶ï¼ˆå¦‚ Claude.mdã€Agent.mdï¼‰</td><td>1.  åŠ è½½æœºåˆ¶ï¼šæç¤ºè¯æ–‡ä»¶åœ¨å¯¹è¯åˆæœŸå³å…¨éƒ¨è½½å…¥ä¸Šä¸‹æ–‡ï¼Œæ— è®ºæ˜¯å¦éœ€è¦å‡å ç”¨ Tokenï¼›2.  åŠŸèƒ½è¾¹ç•Œï¼šSkills æ”¯æŒæ†ç»‘ Python è„šæœ¬ã€Bash å·¥å…·ç­‰å¯æ‰§è¡Œèµ„æºï¼Œæç¤ºè¯æ–‡ä»¶ä»…ä¸ºçº¯æ–‡æœ¬æŒ‡ä»¤ã€‚</td></tr><tr><td>è‡ªå®šä¹‰å‘½ä»¤ï¼ˆCustom Commandï¼‰/ Slash Command</td><td>1.  è§¦å‘æ–¹å¼ï¼šSlash Command éœ€ç”¨æˆ·æ‰‹åŠ¨è§¦å‘ï¼ŒSkills ç”±æ™ºèƒ½ä½“æ ¹æ®ä»»åŠ¡éœ€æ±‚è‡ªä¸»å‘ç°å¹¶è°ƒç”¨ï¼›2.  æ‰©å±•æ€§ï¼šSkills å°è£…æ€§æ›´å¼ºï¼Œæ”¯æŒè·¨æŠ€èƒ½è°ƒç”¨ï¼Œå¤ç”¨ä¸åˆ†äº«æ›´ä¾¿æ·ã€‚</td></tr><tr><td>MCP</td><td>1.  å®šä½äº’è¡¥ï¼šMCP æ˜¯é€šä¿¡åè®®ï¼Œè§£å†³ â€œè¿æ¥å¤–éƒ¨å·¥å…·ä¸æ•°æ®æºâ€ çš„é—®é¢˜ï¼ˆå³ â€œæœ‰ä»€ä¹ˆå·¥å…·â€ï¼‰ï¼›2.  åŠŸèƒ½ä¾§é‡ï¼šSkills èšç„¦äº â€œæ•™æˆæ™ºèƒ½ä½“å¦‚ä½•ä½¿ç”¨å·¥å…·å®Œæˆå¤æ‚ä¸šåŠ¡æµç¨‹â€ï¼Œç›¸å½“äº MCP å·¥å…·ç®±çš„ â€œä½¿ç”¨è¯´æ˜ä¹¦â€ ä¸ â€œæœ€ä½³å®è·µæŒ‡å—â€ã€‚</td></tr><tr><td>Subagents</td><td>Subagents æ˜¯ç‹¬ç«‹çš„ LLM å®ä¾‹ï¼Œæ‹¥æœ‰ä¸“å±ä¸Šä¸‹æ–‡çª—å£ï¼Œç”±ä¸»æ™ºèƒ½ä½“åè°ƒå¹¶è¡Œå·¥ä½œï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯å®ç°ä¸Šä¸‹æ–‡éš”ç¦»ä»¥èŠ‚çº¦ Tokenï¼Œä¸ Skills çš„èƒ½åŠ›å°è£…å®šä½ä¸åŒã€‚</td></tr><tr><td>Plugins</td><td>Plugins æ˜¯ Claude Code å¯¹å¯å¤ç”¨æµç¨‹çš„é«˜é˜¶å°è£…ï¼ŒåŒ…å« Slash Commandã€Custom Agentsã€Skillsã€Hooks ç­‰å¤šç§ç»„ä»¶ï¼Œ<strong>Skills æ˜¯ Plugins çš„å­é›†</strong>ã€‚</td></tr><tr><td>Cursor Rules</td><td>æ ¸å¿ƒåŠŸèƒ½ä¸ä½¿ç”¨é€»è¾‘åŸºæœ¬ä¸€è‡´ã€‚</td></tr></tbody></table>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9cffb8bf4504525ac03466b96a94ab9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=FqxBiNIzUE1Li2PjKZAsKj4hSOI%3D" alt="" loading="lazy"/></p>
<p>ç»¼ä¸Šï¼Œ<strong>æŠ€èƒ½å°è£…ä¸å¤ç”¨èƒ½åŠ›</strong>æ˜¯ Agent Skills çš„æ ¸å¿ƒä¼˜åŠ¿ï¼Œæ”¯æŒå¼€å‘è€…ç›´æ¥å¤ç”¨æˆç†ŸæŠ€èƒ½å¹¶å¿«é€Ÿæ‰©å±•æ–°åŠŸèƒ½ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘é€‰æ‹©åŸºäº Skills å®Œæˆæœ¬æ¬¡ UI ä¼˜åŒ–çš„å…³é”®åŸå› ã€‚</p>
<h3 data-id="heading-3">æˆ‘æƒ³ç”¨ Skillsï¼</h3>
<p>å¦‚æœä½ ä¹Ÿæƒ³ç”¨ Skills æ¥ç»™å·¥ä½œä¹ƒè‡³ç”Ÿæ´»ææ•ˆï¼Œå¯ä»¥çœ‹çœ‹ä»¥ä¸‹è¿™äº›ä»“åº“ï¼Œé‡Œé¢æœ‰å¤§é‡ç°æˆçš„ skills å¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼š</p>
<ul>
<li>Anthropic å®˜æ–¹ Skillsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></li>
<li>ä¼ä¸šçº§ Skillsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmrgoonie%2Fclaudekit-skills" target="_blank" title="https://github.com/mrgoonie/claudekit-skills" ref="nofollow noopener noreferrer">github.com/mrgoonie/clâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FComposioHQ%2Fawesome-claude-skills" target="_blank" title="https://github.com/ComposioHQ/awesome-claude-skills" ref="nofollow noopener noreferrer">github.com/ComposioHQ/â€¦</a></li>
<li>Copilot å®˜æ–¹ Skillsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgithub%2Fawesome-copilot%2Ftree%2Fmain%2Fskills" target="_blank" title="https://github.com/github/awesome-copilot/tree/main/skills" ref="nofollow noopener noreferrer">github.com/github/awesâ€¦</a></li>
</ul>
<p>ç›®å‰ï¼ŒClaude Codeã€Codexã€GitHub Copilot ç­‰ä¸»æµ AI ç¼–ç å·¥å…·å‡å·²æ”¯æŒ Skills æ ‡å‡†ï¼Œä½†è¿™ç±»å·¥å…·å¤§å¤šéœ€è¦ä»˜è´¹ä½¿ç”¨ï¼Œéƒ¨åˆ†è¿˜å­˜åœ¨ç½‘ç»œè®¿é—®é™åˆ¶ã€‚</p>
<p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä¸€æ¬¾äº§å“ï¼Œèƒ½ä»¥å…è´¹çš„ä»·æ ¼ï¼Œå®ç° Claude Code 80% çš„èƒ½åŠ›å‘¢ï¼Ÿï¼ˆæŒ‘çœ‰ï¼‰</p>
<p>è¿™é‡Œå°±ä¸å¾—ä¸ç»™è‡ªå®¶äº§å“æ‰“ä¸ªå¹¿å‘Šï¼Œéš†é‡ä»‹ç»ä¸€ä¸‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fqwenlm.github.io%2Fqwen-code-docs%2F" target="_blank" title="https://qwenlm.github.io/qwen-code-docs/" ref="nofollow noopener noreferrer">Qwen Code</a>ã€‚å°±åœ¨ä»Šæ—¥ï¼ŒQwen Code æ­£å¼å‘å¸ƒ 0.6.0 ç‰ˆæœ¬ï¼Œå…¨é¢æ”¯æŒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fqwenlm.github.io%2Fqwen-code-docs%2Fzh%2Fusers%2Ffeatures%2Fskills%2F" target="_blank" title="https://qwenlm.github.io/qwen-code-docs/zh/users/features/skills/" ref="nofollow noopener noreferrer">Agent Skills</a> æ ‡å‡†ï¼›åŒæ—¶æä¾›æ¯æ—¥ 2000 æ¬¡å…è´¹è¯·æ±‚é¢åº¦ï¼Œæ­é…ç¼–ç¨‹é¢†åŸŸ SOTA æ¨¡å‹ Qwen3-Coder-Plusï¼ŒåŠ©åŠ›å¼€å‘è€…é©æ–°ç¼–ç ä½“éªŒï¼</p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fqwenlm.github.io%2Fqwen-code-docs%2F" target="_blank" title="https://qwenlm.github.io/qwen-code-docs/" ref="nofollow noopener noreferrer">qwenlm.github.io/qwen-code-dâ€¦</a></p>
<p>GitHub é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FQwenLM%2Fqwen-code" target="_blank" title="https://github.com/QwenLM/qwen-code" ref="nofollow noopener noreferrer">github.com/QwenLM/qwenâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4165b974fb9946c0851455a03dd8243c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=obWQigzpxLmsAp7VOEHKUTdUxRQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">é‡æ„ä¹‹æ—…ï¼šåŸºäº Agent Skills çš„ UI ä¼˜åŒ–å®æˆ˜</h2>
<p>æœ¬æ¬¡ UI é‡æ„å¹¶éä»é›¶æ­å»ºï¼Œè€Œæ˜¯åŸºäºç¤¾åŒºå¼€å‘è€…å°è£…çš„æˆç†Ÿ Skills è¿›è¡Œæ‰©å±•ã€‚æˆ‘é€‰ç”¨äº† <code>https://github.com/mrgoonie/claudekit-skills</code> ä»“åº“ä¸­çš„ä¸‰ä¸ªæ ¸å¿ƒæŠ€èƒ½ï¼Œå…¶åŠŸèƒ½åˆ†åˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li>aestheticï¼šè´Ÿè´£åˆ›å»ºç¬¦åˆè®¾è®¡åŸåˆ™çš„ç¾è§‚ç•Œé¢ï¼Œå¯è°ƒç”¨ <code>chrome-devtools</code> æŠ€èƒ½åˆ†æå¤–éƒ¨ç½‘ç«™è®¾è®¡é£æ ¼ï¼Œä¸º UI ä¼˜åŒ–æä¾›çµæ„Ÿå‚è€ƒã€‚</li>
<li>chrome-devtoolsï¼šåŸºäº Puppeteer çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·ï¼ŒåŸç”Ÿæ”¯æŒå¯¹ç›®æ ‡ç½‘ç«™è¿›è¡Œé¡µé¢æˆªå›¾ã€‚</li>
<li>ui-stylingï¼šç»“åˆ shadcn/ui ç»„ä»¶åº“ä¸ Tailwind CSS æŠ€æœ¯æ ˆï¼Œå®ç°ç•Œé¢çš„ç¾è§‚åŒ–ä¸å¯è®¿é—®æ€§ä¼˜åŒ–ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab02b1cf6b034ead9e34212a013e86c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=nVQMdTGyWTzLIKc36riAIUWF5E0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba93ffada0e34e638257e5a3e09be8c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=lh%2FcRwq0tK6QuA8w3PHrqR9pmGo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97d893c8ea854fc0a7f34f882305f9fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=I6XcQ9ngD9fIJleiN5N52agkn4o%3D" alt="" loading="lazy"/></p>
<p>åœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°åŸç”Ÿ <code>chrome-devtools</code> æŠ€èƒ½å­˜åœ¨æ˜æ˜¾å±€é™ï¼šå®ƒä»…æ”¯æŒå¯¹æœç´¢ç»“æœé¡µé¢è¿›è¡Œæ•´é¡µæˆªå›¾ï¼Œå¯¼è‡´è·å–çš„ UI è®¾è®¡å›¾å°ºå¯¸å°ã€æ¸…æ™°åº¦ä½ï¼Œåç»­ AI åˆ†æçš„ç´ æç²¾åº¦ä¸é’ˆå¯¹æ€§ä¸¥é‡ä¸è¶³ï¼Œä¼˜åŒ–æ•ˆæœå¤§æ‰“æŠ˜æ‰£ã€‚</p>
<p>é’ˆå¯¹è¿™ä¸€é—®é¢˜ï¼Œæˆ‘å¯¹è¯¥æŠ€èƒ½è¿›è¡Œäº†åŠŸèƒ½æ‰©å±• â€”â€”<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FDragonnZhang%2Fclaudekit-skills%2Fblob%2Fmain%2F.claude%2Fskills%2Fchrome-devtools%2Fscripts%2Fdownload-dribbble.js" target="_blank" title="https://github.com/DragonnZhang/claudekit-skills/blob/main/.claude/skills/chrome-devtools/scripts/download-dribbble.js" ref="nofollow noopener noreferrer">é›†æˆçˆ¬è™«è„šæœ¬</a>ï¼Œä½¿å…¶èƒ½å¤Ÿç›´æ¥ä»è®¾è®¡å¹³å° Dribbble çš„æœç´¢ç»“æœä¸­ï¼Œç²¾å‡†æŠ“å–å¹¶ä¸‹è½½ç›®æ ‡ UI è®¾è®¡å›¾è‡³æœ¬åœ°ï¼Œä¸º AI æ¨¡å‹æä¾›é«˜è´¨é‡çš„åˆ†æç´ æã€‚</p>
<p>åŸºäºä¼˜åŒ–åçš„ Skill ç»„åˆï¼Œæˆ‘å‘ Coding Agent ä¸‹è¾¾äº†å¦‚ä¸‹æç¤ºè¯æŒ‡ä»¤ï¼Œå¯åŠ¨ UI é‡æ„æµç¨‹ï¼š</p>
<pre><code class="hljs">å¸®æˆ‘ç”¨ aesthetic è¿™ä¸ª skill å¸®æˆ‘é‡æ„å¹¶ç¾åŒ–å½“å‰çš„ uiï¼Œæ³¨æ„è¦ç”¨åˆ° chrome-devtools è¿™ä¸ª skill æ¥åˆ†ææ¥è‡ªçµæ„Ÿç½‘ç«™ Dribbble çš„è®¾è®¡ä½œå“ï¼Œç„¶åç”¨ ui-styling è¿™ä¸ª skill æ¥é‡æ„ uiï¼Œä¸è¦ç”¨ ai-multimodalï¼Œç”¨ä½ è‡ªå·±çš„å¤šæ¨¡æ€èƒ½åŠ›æ¥åˆ†æä¸‹è½½ä¸‹æ¥çš„å›¾ç‰‡
</code></pre>
<p>éšåï¼ŒCoding Agent æŒ‰ç…§æ—¢å®šæµç¨‹å¯åŠ¨å·¥ä½œï¼š</p>
<ol>
<li><strong>ç´ ææŠ“å–</strong>ï¼šè®¿é—® Dribbble å¹³å°ï¼ŒæŠ“å–ä¸é‡‘èè´¢å¯Œä¸»é¢˜åŒ¹é…çš„ UI è®¾è®¡å‚è€ƒå›¾ï¼›</li>
<li><strong>é£æ ¼åˆ†æ</strong>ï¼šå¯¹å‚è€ƒå›¾çš„è§†è§‰é£æ ¼ï¼ˆè‰²å½©æ­é…ã€å¸ƒå±€ç»“æ„ã€ç»„ä»¶æ ·å¼ç­‰ï¼‰è¿›è¡Œè§£æä¸æç‚¼ï¼›</li>
<li><strong>æ–‡æ¡£ç”Ÿæˆ</strong>ï¼šåŸºäºåˆ†æç»“æœè¾“å‡ºæ ‡å‡†åŒ–è®¾è®¡æŒ‡å—ï¼›</li>
<li><strong>ç•Œé¢é‡æ„</strong>ï¼šä¾æ®è®¾è®¡æŒ‡å—å®Œæˆç›®æ ‡ UI çš„è¿­ä»£ä¼˜åŒ–ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c871fde2da8c41ccb4bf7f777a0920af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=rSexikXB0BUR2bf3Rmn4%2BBg%2B7kA%3D" alt="" loading="lazy"/></p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸‹è½½çš„è®¾è®¡å›¾é£æ ¼äº”èŠ±å…«é—¨ã€‚è¦æ˜¯ç›´æ¥è®© AI ç…§ç€è¿™äº›å›¾ç”Ÿæˆè®¾è®¡æ–‡æ¡£ã€é‡æ„ UIï¼Œåšå‡ºæ¥çš„ç•Œé¢é£æ ¼ä¼šå¾ˆæ‚ä¹±ï¼Œæ²¡æœ‰äº®ç‚¹ã€‚æ‰€ä»¥æˆ‘å…ˆäººå·¥æŒ‘å‡ºæƒ³è¦æ¨¡ä»¿çš„ UIï¼Œå†è®© AI æŒ‰ç…§è¿™ä¸ª UI çš„é£æ ¼æ¥é‡æ„ï¼ˆå¦‚ä¸‹å›¾ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c844432558b64f62a4d958443d4c139c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=oHp2KtQp0T3KyaDxnxenu5Y%2BaDU%3D" alt="" loading="lazy"/></p>
<p>ç»è¿‡ä¸Šè¿°æµç¨‹ï¼Œæœ€ç»ˆæˆ‘æˆåŠŸæ‰“é€ å‡ºä¸€æ¬¾ <strong>Nebula ä¸»é¢˜</strong>çš„å…¨æ–° UIâ€”â€” ä»¥æ·±è‰²ä¸ºèƒŒæ™¯åŸºè°ƒï¼Œæ­é…é‡‘è‰²ä¸ç»¿è‰²ä½œä¸ºç‚¹ç¼€è‰²ï¼Œæ—¢å¥‘åˆé‡‘èäº§å“çš„ä¸“ä¸šè´¨æ„Ÿï¼Œåˆå…·å¤‡æå¼ºçš„è§†è§‰å¸å¼•åŠ›ã€‚æœ¬æ¬¡ UI é‡æ„å®è·µåœ†æ»¡å®Œæˆï¼Œæ’’èŠ±ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7699e573d4d94b668fd13d49b0b32527~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=MISpLutoShFCVNOIamQykCisoDc%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Cursor ç³»åˆ—ï¼ˆ2ï¼‰ï¼šä½¿ç”¨å¿ƒå¾—]]></title>    <link>https://juejin.cn/post/7592134330314031147</link>    <guid>https://juejin.cn/post/7592134330314031147</guid>    <pubDate>2026-01-07T09:40:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592134330314031147" data-draft-id="7585096444190179364" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Cursor ç³»åˆ—ï¼ˆ2ï¼‰ï¼šä½¿ç”¨å¿ƒå¾—"/> <meta itemprop="keywords" content="å‰ç«¯,Cursor,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-07T09:40:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯åƒæµ”å‘€"/> <meta itemprop="url" content="https://juejin.cn/user/3184634666692312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Cursor ç³»åˆ—ï¼ˆ2ï¼‰ï¼šä½¿ç”¨å¿ƒå¾—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3184634666692312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯åƒæµ”å‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:40:07.000Z" title="Wed Jan 07 2026 09:40:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">Cursor ç³»åˆ—ï¼ˆ2ï¼‰ï¼šä½¿ç”¨å¿ƒå¾—</h2>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯åˆ†äº«ä¸€äº›æˆ‘åœ¨<code>Cursor</code>ä½¿ç”¨è¿‡ç¨‹ä¸­æ€»ç»“çš„ä¸€äº›å¿ƒå¾—ã€è¸©è¿‡çš„å‘ä»¥åŠè§£å†³åŠæ³•ï¼Œèƒ½å¤Ÿå¸®åŠ©å¤§å®¶æ›´å¥½çš„ä½¿ç”¨<code>Cursor</code>å»è¾…åŠ©æˆ‘ä»¬çš„å¼€å‘ã€‚ä¸»è¦åŒ…æ‹¬ä½¿ç”¨æŠ€å·§ã€<code>Cursor</code>é”åŒºé—®é¢˜ã€<code>Rules</code>ç›¸å…³ä»¥åŠæ¨¡å‹çš„é€‰æ‹©ã€‚</p>
<h3 data-id="heading-1">ä½¿ç”¨æŠ€å·§</h3>
<h4 data-id="heading-2">ä½¿ç”¨ <code>@</code>ç²¾ç¡®åˆ°è¡Œ</h4>
<p>ç”¨ <code>@</code> æ ‡è®°ç›¸å…³æ–‡ä»¶å¯ä»¥<strong>æ˜¾è‘—æé«˜ä»£ç å»ºè®®çš„å‡†ç¡®æ€§</strong>ï¼Œåœ¨æ˜ç¡®çŸ¥é“éœ€è¦æ”¹åŠ¨å“ªè¡Œæˆ–è€…æ”¹åŠ¨å“ªä¸ªæ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œæœ€å¥½ç”¨<code>@</code>ç²¾ç¡®åˆ°è¡Œã€‚åœ¨<code>Cursor</code>é‡Œæ“ä½œä¹ŸæŒºæ–¹ä¾¿çš„ï¼Œç›´æ¥å¤åˆ¶ä»£ç åˆ°<code>Chat</code>é‡Œé¢ï¼Œç¼–è¾‘å™¨ä¼šè‡ªåŠ¨å…³è”æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-3">ç¼©å°å˜æ›´èŒƒå›´ï¼Œä¸è¦è¯•å›¾ä¸€æ¬¡æ›´æ”¹å¤ªå¤š</h4>
<p>åœ¨ä½¿ç”¨ <code>AI</code> ç¼–è¾‘å™¨ <code>coding</code> è¿‡ç¨‹ä¸­ï¼Œæ— è®ºæ˜¯ä½¿ç”¨å“ªä¸ª<code>AI</code>ç¼–è¾‘å™¨ï¼Œæˆ‘çš„å»ºè®®æ˜¯<strong>ä¸€ä¸ªåŠŸèƒ½ç‚¹ä¸€ä¸ªåŠŸèƒ½ç‚¹çš„å»åš</strong>ï¼Œå°½é‡è®©<strong>æ›´æ”¹èŒƒå›´å°äº›</strong>ã€‚è¿™æ ·ä¸è‡³äºè®© <code>AI</code> å†™çš„ä»£ç å˜å¾—è¶Šæ¥è¶Šä¸å¯æ§ï¼Œä»¥è‡³äºåˆ°æœ€åæˆ‘ä»¬çœ‹ä¸æ‡‚ä¹Ÿæ”¹ä¸åŠ¨ã€‚</p>
<p>æ›´å°çš„æ›´æ”¹èŒƒå›´æœ‰åŠ©äºæˆ‘ä»¬<strong>æ›´å¥½çš„é˜…è¯»</strong>ã€<strong>ç†è§£</strong> <code>AI</code> å†™çš„ä»£ç ï¼Œæ¯•ç«Ÿï¼Œ<strong>äººï¼Œæ‰æ˜¯å†™ä»£ç çš„ä¸»ä½“</strong>ã€‚</p>
<h4 data-id="heading-4">è®© <code>cursor</code> å¤è¿°ä½ çš„è¦æ±‚</h4>
<p>æˆ‘ä»¬è¡¨è¿°çš„è¯­è¨€æ€»æ˜¯æœ‰æ¨¡ç³Šæ€§çš„ï¼ŒåŠ ä¸Š <code>AI</code> ç†è§£ç‰¹å®šä¿¡æ¯çš„å±€é™æ€§ï¼Œä»¥åŠ <code>AI</code> ç”Ÿæˆå†…å®¹çš„ä¸€å®šéšæœºæ€§ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ° <code>AI</code><strong>ç­”éæ‰€é—®</strong>çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™å…ˆåˆ«æ€ª <code>AI</code>ï¼Œå…ˆå»çœ‹ä¸‹è‡ªå·±çš„æé—®æˆ–æè¿°æ˜¯å¦æ¸…æ™°æ˜“æ‡‚ï¼Œå…¶å®æœ€å¥½çš„æ–¹æ³•å°±æ˜¯è®© <code>AI</code> <strong>å¤è¿°</strong>ä¸€éä½ çš„éœ€æ±‚ï¼Œä»å®ƒå¤è¿°çš„ç»“æœçœ‹ <code>AI</code> æ˜¯å¦å……åˆ†ç†è§£äº†ä½ çš„è¦æ±‚ã€‚</p>
<h4 data-id="heading-5">å–„ç”¨å›¾ç¤ºæé—®</h4>
<p>å„ä¸ª<code>AI</code>çš„è¯†å›¾å…¶å®å·²ç»éå¸¸å¼ºäº†ï¼Œå¦‚æœä½ çš„éœ€æ±‚æ˜¯å¦å¾ˆéš¾ç”¨æ–‡å­—å®Œå…¨æè¿°æ¸…æ¥šï¼Œå¯ä»¥é€‚å½“<strong>å¢åŠ ä¸€äº›å›¾ç¤º</strong>ï¼Œå“ªæ€•æ˜¯ä¸€äº›ç®€å•çš„æµç¨‹å›¾ï¼Œéƒ½èƒ½æ›´å¥½åœ°å¸®åŠ© <code>cursor</code> å»ç†è§£ä½ çš„æ„å›¾ã€‚</p>
<h4 data-id="heading-6">ç»å¸¸åˆ›å»ºæ–°çš„chat</h4>
<p>æ¯æ¬¡å®Œæˆä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œæœ€å¥½æ–°å¼€ä¸€ä¸ª<code>chat</code>ï¼Œé¿å…ä¹‹å‰çš„ä¸Šä¸‹æ–‡å¯¹åé¢çš„åŠŸèƒ½å¼€å‘é€ æˆæ±¡æŸ“ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä¹‹å‰è¸©è¿‡çš„ä¸€ä¸ªå‘ã€‚è€Œä¸”å› ä¸ºæ–°å¼€çš„<code>chat</code>åªåŒ…å«åªåŒ…å«å½“å‰ä»»åŠ¡ç›¸å…³çš„ä¸Šä¸‹æ–‡ï¼Œä¸åŒ…å«å†å²æ— å…³ä¿¡æ¯ï¼Œåœ¨æŒ‰ <code>token</code> è®¡è´¹æ¨¡å¼ä¸‹ï¼Œè¿˜å¯ä»¥èŠ‚çœè´¹ç”¨ã€‚</p>
<h4 data-id="heading-7">çµæ´»ä½¿ç”¨<code>Chat</code>çš„æ¨¡å¼</h4>
<p>å½“å‰ç‰ˆæœ¬ <code>cursor</code>ï¼ˆ2.2.43ç‰ˆæœ¬ï¼‰çš„<code>Chat</code> æœ‰ <code>Ask</code> ã€<code>Agent</code>ã€ <code>Plan</code>å’Œ<code>Debug</code>å››ç§æ¨¡å¼ã€‚</p>
<p>è¿™å››ä¸ªæ¨¡å¼çš„å®šä½ã€è¡Œä¸ºç‰¹ç‚¹ä»¥åŠå…¸å‹é€‚ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p>



































<table><thead><tr><th>æ¨¡å¼</th><th>æ ¸å¿ƒå®šä½</th><th>è¡Œä¸ºç‰¹ç‚¹</th><th>å…¸å‹é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>Ask</code></td><td>å¯¹è¯ / æ€è€ƒ / å‡ºæ–¹æ¡ˆ</td><td>åªèŠå¤©å’Œç»™å»ºè®®ï¼Œä¸ä¸»åŠ¨å¤§æ”¹ä»£ç </td><td>é—®æ¦‚å¿µã€è¦æ–¹æ¡ˆã€è¯„å®¡ä»£ç ã€è®¨è®ºæ¶æ„å’ŒæŠ€æœ¯é€‰å‹</td></tr><tr><td><code>Agent</code></td><td>è‡ªåŠ¨æ”¹ä»£ç  / æ‰§è¡Œä»»åŠ¡</td><td>è‡ªåŠ¨è¯»æ”¹å¤šæ–‡ä»¶ï¼ŒçœŸæ­£å¸®ä½ å†™å’Œæ”¹ä»£ç </td><td>æ–°å¢åŠŸèƒ½ã€é‡æ„ã€æ‰¹é‡æ›¿æ¢ API/åŸ‹ç‚¹/æ—¥å¿—ç­‰è·¨æ–‡ä»¶ä¿®æ”¹</td></tr><tr><td><code>Plan</code></td><td>æ‹†è§£ä»»åŠ¡ / ç”Ÿæˆè·¯çº¿å›¾</td><td>åªç»™æ­¥éª¤å’Œ TODOï¼Œä¸ç›´æ¥åŠ¨ä»£ç </td><td>å¤§å‹åŠŸèƒ½ã€å¤æ‚é‡æ„ã€æŠ€æœ¯æ ˆå‡çº§å‰çš„è§„åˆ’</td></tr><tr><td><code>Debug</code></td><td>å®šä½å’Œä¿®å¤é—®é¢˜ / è°ƒè¯•è¾…åŠ©</td><td>å›´ç»•æŠ¥é”™å’Œå¼‚å¸¸ï¼Œæ‰¾åŸå› ç»™ä¿®å¤æ–¹æ¡ˆ</td><td>æ¥å£ 500ã€ç¨‹åºæŠ¥é”™ã€æµ‹è¯•å¤±è´¥ã€æ€§èƒ½é—®é¢˜ç­‰è°ƒè¯•åœºæ™¯</td></tr></tbody></table>
<p>å¯¹æˆ‘æ¥è¯´ï¼Œæ²¡å•¥æ€è·¯æ—¶ï¼Œæˆ‘ä¼šä½¿ç”¨<code>Ask</code>è·Ÿ<code>AI</code>è®¨è®ºæŠ€æœ¯æ–¹æ¡ˆï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šä½¿ç”¨<code>Ask</code>å»åˆ†æä»£ç ã€‚</p>
<p>åœ¨è‡ªå·±çŸ¥é“ä»£ç å’‹å†™çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ˜¯å¤§éœ€æ±‚ï¼Œæˆ‘ä¼šå…ˆä½¿ç”¨<code>Ask</code> æ¨¡å¼ä¸ <code>cursor</code> æ²Ÿé€šå¥½éœ€æ±‚çš„èƒŒæ™¯ã€ç›®çš„ã€å®ç°æ•ˆæœç­‰ï¼Œæˆ–è€…ç›´æ¥ä¸Šä¼  <code>prd</code>ï¼Œè®©å®ƒç”Ÿæˆä¸€ä¸ªåˆå§‹çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œå†æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡ç†è§£ä¸ä»£ç ç†è§£å»ä¼˜åŒ–è¿™ä¸ªæŠ€æœ¯æ–¹æ¡ˆï¼Œæœ€åæ‹¿è¿™ä¸ªæ¯”è¾ƒæˆç†Ÿçš„æ–¹æ¡ˆä½¿ç”¨<code>Agent</code> æ¨¡å¼å»æ‰§è¡Œã€‚å½“ç„¶ä¸€äº›å°çš„ç®€å•çš„éœ€æ±‚ç›´æ¥<code>Agent</code> æ”¹å°±å®Œäº‹äº†ï¼Œè¿™æ ·æ•ˆç‡æ›´é«˜ã€‚</p>
<p><code>Plan</code> æ¨¡å¼åƒä¸ªå¤§å·çš„<code>Ask</code>æ¨¡å¼ï¼Œæˆ‘åªä¼šåœ¨å¤§å‹åŠŸèƒ½å¼€å‘ã€å¤æ‚é‡æ„å’Œé¡¹ç›®åˆå§‹åŒ–æ—¶ä½¿ç”¨ã€‚ä»–ä¼šå…ˆé—®ä½ ï¼Œå¦‚æœæˆ‘æƒ³æŠŠé¡¹ç›®çš„<code>element ui</code>å‡çº§ä¸‹ç‰ˆæœ¬ï¼Œç›´æ¥é—®ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6422c5b6b94541a6b0b0ec1dda9b4b41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=9EEzzW8V0qOL2g1EVqCXWctpYM0%3D" alt="image.png" loading="lazy"/></p>
<p>å®ƒä¼šå…ˆé—®ä½ å‡ ä¸ªé—®é¢˜ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4204e8ddb3e842a5a793b4ba30fb5d70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=iGS%2BjmralpBC%2BlSaihmq1ZF5jZU%3D" alt="image.png" loading="lazy"/></p>
<p>ç­‰ä½ å›ç­”å®Œè¿™å‡ ä¸ªé—®é¢˜åï¼Œä»–ä¼šç”Ÿæˆä¸€ä¸ªåç¼€ä¸º.plançš„mdæ–‡æ¡£ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cdc373574b240cd8359a19d7da1a2b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=Q%2BtINJywGkmULQle6VQ0I1Jy1y0%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªmdæ–‡ä»¶çš„æœ€ä¸‹é¢ï¼Œæœ‰ä¸€ä¸ª<code>todo list</code>ï¼Œå¦‚æœä½ è®¤ä¸ºè¿™ä¸ª<code>todo list</code>æ²¡å•¥é—®é¢˜ï¼Œå¯ä»¥ç‚¹<code>new agent</code>æŒ‰é’®ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ª<code>agent</code>æ¨¡å¼çš„<code>chat</code>æŒ‰ç…§è¿™ä¸ª<code>todoList</code>å»æ‰§è¡Œã€‚å¦‚æœä½ è§‰å¾—è¿™ä¸ª<code>todo list</code>æœ‰ç‚¹é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥ç¼–è¾‘å®ƒï¼Œä¹Ÿå¯ä»¥ç‚¹<code>New Todo</code>æŒ‰é’®å»è‡ªå·±å¢åŠ ä¸€é¡¹<code>todo</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9964d2b6db1f44f38b65bb729ddca73e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=ir3h4aqiJncYxLjGR3JmwQc%2BYfM%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœä½ åœ¨ä½ çš„<code>Chat</code>é‡Œé¢è¾“å…¥çš„å†…å®¹ï¼Œè¡¨ç¤ºè¿™ä¸ªä»»åŠ¡å¾ˆå¤æ‚ï¼Œ<code>Cursor</code> ä¼šè‡ªåŠ¨å»ºè®®åˆ‡æ¢åˆ°<code>Plan</code>æ¨¡å¼ã€‚</p>
<p><code>Debug</code>æ¨¡å¼æˆ‘ä¸æ˜¯å¾ˆå–œæ¬¢ç”¨ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå¯ä»¥çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.zone%2Ffaq%2Fcursor-debug-mode.html" target="_blank" title="https://cursor.zone/faq/cursor-debug-mode.html" ref="nofollow noopener noreferrer">è¿™ä¸ª</a>ã€‚</p>
<h4 data-id="heading-8">å…ˆæ£€æŸ¥ä¸‹<code>accept</code></h4>
<p><code>Cursor</code> å†™å®Œä»£ç åã€‚å¯ä»¥ä¸ç”¨é‚£ä¹ˆç€æ€¥ç€å»ç‚¹ <code>accept all</code>ï¼Œå› ä¸ºä½ ä¹Ÿä¸çŸ¥é“ <code>cursor</code> æ¯æ¬¡ç”Ÿæˆçš„ä»£ç æ˜¯ä¸æ˜¯æ­£ç¡®çš„ã€‚æ›´å¥½çš„æ–¹æ³•æ˜¯å…ˆå»éªŒè¯ä¸‹ <code>Cusor</code> å†™çš„ä»£ç æ˜¯å¦æ­£ç¡®ï¼Œè®©åå†ç‚¹å‡» <code>accept all</code>ï¼Œå½“ç„¶å¦‚æœä½ ä¸å°å¿ƒç‚¹åˆ°äº† <code>accept all</code>ï¼Œä¹Ÿå¯ä»¥ <code>ctrl + z</code> æ’¤å›ã€‚</p>
<h3 data-id="heading-9">Cursor é”åŒºé—®é¢˜</h3>
<p>åœ¨ <code>2025</code> å¹´çš„<code>7</code> æœˆä»½ï¼Œ<code>Cursor</code> <strong>ä¸­æ–­</strong>äº†<strong>ä¸­å›½å¤§é™†ç”¨æˆ·</strong>çš„å¤šä¸ª<strong>æ¨¡å‹ä½¿ç”¨æƒ</strong>ã€‚æˆ‘ä»¬å¸¸ä½¿ç”¨å‡ ä¸ªæ¨¡å‹æ¯”å¦‚ <code>Claude</code> ç³»åˆ—ã€<code>Gemini</code> ç³»åˆ—ï¼Œåœ¨å›½å†…éƒ½æ— æ³•ä½¿ç”¨ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/554abda2cf9840c186fd6e7b89db5b34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=NbcH21oWKoNKh67iz22yyNjFGaw%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-10">ä¸ºä»€ä¹ˆä¼šè¿™æ ·</h4>
<p>è€å®è¯´ï¼Œè¿™æ¬¡çš„é”åŒºäº‹ä»¶å…¶å®è·Ÿ <code>Cursor</code> <strong>å…³ç³»å¹¶ä¸å¤§</strong>ï¼Œ<code>Cursor</code> ä½œä¸ºä¸€ä¸ª <code>AI</code>+<code>IDE</code> ç¼–è¾‘å™¨ï¼Œä»–è‡ªèº«å…¶å®å¹¶ä¸å¼€å‘æ¨¡å‹ï¼Œå®ƒæ˜¯åŸºäº <code>VSCode</code>â€‹ å¼€æºä»£ç è¿›è¡Œå¼€å‘ï¼Œå†é€šè¿‡ä»–çš„ç½‘ç»œå»è°ƒç”¨å¦‚ï¼š<code>Claude</code>ã€<code>ChatGPT</code>ã€<code>Gemini</code> ç­‰ç­‰è¿™äº›æ¨¡å‹ï¼Œå»ä½¿ç”¨çš„æ¨¡å‹çš„èƒ½åŠ›ã€‚</p>
<p><code>Cursor</code> ä¹Ÿåœ¨ä»–çš„å…¬å‘Šé‡Œä¸ºè‡ªå·±å–Šå†¤ï¼š</p>
<blockquote>
<p>Some models in <code>Cursor</code> may be unavailable in certain regions based on the terms and policies set by the model providers. We plan to reâ€‘enable all models in any regions where they are supported. If our model partners allow access to your region, we plan to restore the affected models and update this page.</p>
</blockquote>
<p>å¤§æ¦‚æ„æ€å°±æ˜¯ï¼Œè¿™ç§é™åˆ¶å¹¶é <code>Cursor</code> æ•…æ„ä¸ºä¹‹ï¼Œè€Œæ˜¯å—åˆ°ä¸Šæ¸¸æ¨¡å‹æä¾›å•†æ”¿ç­–å˜åŒ–çš„å½±å“ã€‚ç±»ä¼¼çš„æƒ…å†µåœ¨ <code>AI</code> è¡Œä¸š<strong>å¹¶ä¸ç½•è§</strong>ï¼Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.anthropic.com%2Fen%2Fapi%2Fsupported-regions" target="_blank" title="https://docs.anthropic.com/en/api/supported-regions" ref="nofollow noopener noreferrer"><code>Anthropic</code>ï¼ˆ<code>Claude</code>ï¼‰</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.openai.com%2Fzh-hans-cn%2Farticles%2F5347006-openai-api-supported-countries-and-territories" target="_blank" title="https://help.openai.com/zh-hans-cn/articles/5347006-openai-api-supported-countries-and-territories" ref="nofollow noopener noreferrer"><code>OpenAI</code>ï¼ˆ<code>GPT</code> / <code>o-series</code>ï¼‰</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.google.dev%2Fgemini-api%2Fdocs%2Favailable-regions%3Fhl%3Dzh-cn" target="_blank" title="https://ai.google.dev/gemini-api/docs/available-regions?hl=zh-cn" ref="nofollow noopener noreferrer">Googleï¼ˆ<code>Gemini</code>ï¼‰</a>ç­‰å…¬å¸éƒ½æœ‰è‡ªå·±çš„ä¸æ”¯æŒå›½å®¶å’Œåœ°åŒºã€‚é—æ†¾çš„æ˜¯ï¼Œä¸­å›½å¤§é™†åœ°åŒºéƒ½åœ¨è¿™ä¸‰å®¶å…¬å¸çš„å°ç¦åå•ä¸­... å³ä½¿æ˜¯ç¿»å¢™ä¹Ÿä¸è¡Œ</p>
<h4 data-id="heading-11">æ€ä¹ˆåŠï¼Ÿ</h4>
<p><code>Cursor</code> å®˜æ–¹ç»™äº†å‡ ä¸ªæ–¹æ¡ˆ</p>
<ol>
<li>å‹¾é€‰ <code>Auto</code> é€‰é¡¹ï¼Œæ¯æ¬¡è¯·æ±‚æ—¶<strong>è‡ªåŠ¨é€‰æ‹©å¯ç”¨æ¨¡å‹</strong>ã€‚</li>
<li>å¦‚æœä½ æœ‰èƒ½åœ¨å½“åœ°æ­£å¸¸ä½¿ç”¨çš„ <code>API</code> keyï¼Œå¯ä»¥åœ¨ <code>Cursor</code> ä¸­é…ç½®ä»–ï¼Œè¿™æ ·å°±å¯ä»¥ç»•è¿‡å»é™åˆ¶ã€‚</li>
<li>ç”³è¯·æŒ‰æ¯”ä¾‹é€€æ¬¾</li>
</ol>
<p>è¿™ä¸‰ç§æ–¹æ¡ˆå…¶å®<strong>éƒ½æ²¡æœ‰çœŸæ­£è§£å†³é—®</strong>é¢˜ã€‚å®˜æ–¹ç›¸å½“äºç›´æ¥æ‘†çƒ‚äº†ï¼Œç›´æ¥å‘Šè¯‰å›½å†…ç”¨æˆ·ï¼šæˆ‘ä¹Ÿæ²¡åŠæ³•äº†ï¼Œæ‚¨è¦ä¸å‹‰å¼ºç”¨ï¼Œè¦ä¸ç›´æ¥é€€æ¬¾å§ã€‚</p>
<p>çœŸå®æƒ…å†µä¹Ÿæ˜¯å¦‚æ­¤â€”â€”åœ¨ <code>Cursor</code> çš„é”åŒºäº‹ä»¶åï¼Œå¤§æ‰¹é‡çš„ä¸­å›½ç”¨æˆ·<strong>æ”¾å¼ƒ</strong>ä½¿ç”¨ <code>Cursor</code>ï¼Œè½¬è€Œä½¿ç”¨ <code>Trae</code>ã€<code>Windsurf</code> ç­‰æ›¿ä»£å“ã€‚é‚£æ®µæ—¶é—´æˆ‘ä¹Ÿæ”¾å¼ƒ <code>Cursor</code> å»è¯•ç”¨äº†ä¸‹ <code>Trae</code>ï¼Œä½†æ˜¯ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œ <code>Trae</code>ç€å®ä»¤æˆ‘æœ‰ç‚¹å¤±æœ›ï¼Œç”Ÿæˆçš„ä»£ç å¸¸å¸¸é©´å¤´ä¸å¯¹é©¬å˜´ï¼Œæ™ºèƒ½è¿™æ–¹é¢è¿œè¿œä¸å¦‚ <code>Cursor</code>ï¼Œäºæ˜¯æˆ‘åˆå›åˆ°äº† <code>Cursor</code> çš„æ€€æŠ±...</p>
<p>é”åŒºçš„é—®é¢˜è¿˜æ˜¯å¾—è§£å†³å•Šï¼Œæ°‘é—´ç¤¾åŒºä¸­ä¹Ÿæœ‰äººé€æ¸æ‘¸ç´¢å‡ºäº†<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>ä¿®æ”¹ç½‘ç»œç±»å‹</strong>ï¼š<code>ctrl + shift + j</code> æ‰“å¼€æ§åˆ¶é¢æ¿åï¼Œç‚¹å‡» <code>Network</code>ï¼Œä¿®æ”¹ <code>http</code> æ¨¡å¼ï¼ŒæŠŠé»˜è®¤çš„ <code>HTTP/2</code> ä¿®æ”¹ä¸º <code>HTTP/1.1</code></li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/847a6b6640a840ea8527ee4cdec01b65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=BFxyUTwHrsDJh6JAOK9NZnTZDek%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>æ‰“åœ¨ä½ çš„ä»£ç†å·¥å…·ä¸­ï¼Œ<strong>å°† Tun Mode æ‰“å¼€</strong></li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01d734e316bc4a20b6935c43f4ff0dd0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=94lF6n0fmmjHPRdNV0VrE4oox7Y%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘å®é™…æµ‹è¯•äº†ä¸‹ï¼Œæ•ˆæœè¿˜è¡Œï¼Œå¸¸ç”¨çš„å‡ ä¸ªæ¨¡å‹éƒ½èƒ½ä½¿ç”¨ï¼Œå°±æ˜¯é“¾æ¥æœ‰æ—¶å€™ä¼šä¸­æ–­ï¼Œåº”è¯¥æ˜¯æˆ‘çš„ä»£ç†ä¸å¤ªç¨³å®šçš„é—®é¢˜ã€‚</p>
<p>ç¤¾åŒºä¸­ä¹Ÿæœ‰äººä½¿ç”¨ <code>Proxifier</code> è½¬å‘ <code>api2.cursor.sh:443</code> æ¥å®ç°ï¼Œè¿™æ ·æ—¢å¯ä»¥ä½¿ç”¨ <code>http2</code> äº«å—ä½å»¶è¿Ÿï¼Œä¹Ÿå¯ä»¥ç”¨ä¸Š <code>claude</code> ç­‰æ¨¡å‹ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥æŸ¥ä¸‹ç›¸å…³æ–‡ç« å»å°è¯•ä¸‹ã€‚</p>
<p>ä¸€é¡¿æ“ä½œä¸‹æ¥ä¹Ÿæ˜¯å¤Ÿéº»çƒ¦ï¼Œä½¿ç”¨ä½“éªŒè¿˜æ²¡æœ‰ä»¥å‰å¥½ã€‚è¿™æ¬¡çš„é”åŒºäº‹ä»¶æœ¬è´¨ä¸Šè¿˜æ˜¯å—ç¾å›½ <code>AI</code> å‡ºå£ç®¡åˆ¶ä»¥åŠå›½å®¶å®‰å…¨ç›¸å…³æ”¿ç­–çš„å½±å“ï¼Œæˆ–è€…è¯´æ˜¯å—ä¸­ç¾æŠ€æœ¯ç«äº‰çš„å½±å“ï¼Œä¹Ÿä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™<strong>æŠ€æœ¯å¼€æ”¾åŒ–</strong>æ‰èƒ½çœŸæ­£åˆ°æ¥ï¼Œè®©å›½ç•Œä¸å†æˆä¸ºå¼€å‘è€…çš„ä¸€ä¸ªé—¨æ§›ã€‚åŒæ—¶å›½å†…çš„ç›¸å…³å…¬å¸ä¹Ÿå¾—æ”¯æ£±èµ·æ¥å•Šï¼Œè®©è‡ªå·±çš„<code>AI</code> ç¼–è¾‘å™¨æ›´å¥½ç”¨äº›ã€‚</p>
<h3 data-id="heading-12">Rules</h3>
<p>æƒ³è¦ç”¨å¥½ <code>AI</code> ç¼–è¾‘å™¨ï¼Œ<code>rules</code> è‚¯å®šæ˜¯ä¸èƒ½ç»•è¿‡å»çš„ï¼Œåˆç†çš„ <code>rules</code> èƒ½å¤Ÿæä¾›æ˜ç¡®çš„ç»“æ„åŒ–æŒ‡å¯¼æ¥çº¦æŸ <code>AI</code> çš„è¡Œä¸ºï¼Œå¹¶ä¸”æœ‰æ•ˆå¯¹æŠ—â€œ<code>AI</code>â€å¹»è§‰ï¼Œç¡®ä¿ç”Ÿæˆçš„ä»£ç ç¬¦åˆé¡¹ç›®æ ‡å‡†ã€‚</p>
<p>å½“å‰ <code>Cursor</code> æœ‰ä¸‰ç§ç±»å‹è§„åˆ™</p>
<ol>
<li><strong>é¡¹ç›®è§„</strong>åˆ™ï¼šå­˜å‚¨åœ¨ .<code>cursor</code>/rules ä¸­ï¼Œå—ç‰ˆæœ¬æ§åˆ¶ï¼Œä½œç”¨èŒƒå›´é™å®šåœ¨ä½ çš„ä»£ç åº“å†…</li>
<li><strong>ç”¨æˆ·è§„åˆ™</strong>ï¼šåœ¨æ•´ä¸ª <code>Cursor</code> ç¯å¢ƒä¸­å…¨å±€ç”Ÿæ•ˆï¼Œç”± <code>Agent</code>ï¼ˆ<code>Chat</code>ï¼‰ä½¿ç”¨</li>
<li><strong>AGENTS.md</strong>ï¼šä»¥ <code>Markdown</code> æ ¼å¼ç¼–å†™çš„ <code>Agent</code> æŒ‡ä»¤ï¼Œæ˜¯ .<code>cursor</code>/rules çš„ç®€æ´æ›¿ä»£æ–¹æ¡ˆï¼ˆä¸€èˆ¬æ¥è¯´å¾ˆå°‘ä½¿ç”¨ï¼‰ã€‚</li>
</ol>
<p>æ—§ç‰ˆæœ¬çš„<code>.cursorrules</code> è§„åˆ™æ–‡ä»¶å·²ç»è¢«åºŸå¼ƒï¼Œå½“å‰æˆ‘è¿˜æ˜¯æ›´æ¨èå†™åœ¨ <code>.cursor/rules</code> ä¸­çš„é¡¹ç›®è§„åˆ™ã€‚</p>
<p>ä¸åŒäºé¢å‘å…¨éƒ¨é¡¹ç›®ç”Ÿæ•ˆçš„ç”¨æˆ·è§„åˆ™é…ç½®è¿™ä¹ˆç®€å•ï¼Œé¡¹ç›®è§„åˆ™éœ€è¦æ ¹æ®ä¸åŒç±»å‹çš„å¼€å‘é¡¹ç›®è¿›è¡Œé’ˆå¯¹æ€§æ’°å†™ï¼Œå°¤å…¶æ˜¯å…¶ä¸­çš„<code>è§’è‰²å®šä½</code>ã€<code>æŠ€æœ¯æ ˆé€‰æ‹©</code>ã€<code>ä»£ç è§„èŒƒ</code>ç­‰è¦æ±‚ï¼Œæ‰€ä»¥<code>rules</code> è¦æƒ³å†™å…¨å†™å¥½ï¼Œè¿˜çœŸä¸æ˜¯ä¸ªç®€å•äº‹ã€‚ä¸ºæ­¤ï¼Œæˆ‘çš„æƒ³æ³•æ˜¯â€”â€”å…ˆæ‰¾åˆ°ä¸€ä¸ªé€šç”¨çš„ <code>rules</code> æ¨¡æ¿ï¼Œç„¶å <code>AI</code> ç¼–è¾‘å™¨ä¸­è®© <code>AI</code> åˆ†æå½“å‰é¡¹ç›®çš„åŒæ—¶ï¼Œç»“åˆæˆ‘ä»¬ä¹‹å‰ç»™å®šçš„ <code>rules</code> æ¨¡æ¿ï¼Œç”Ÿæˆä¸€ä¸ªç¬¦åˆæˆ‘ä»¬å½“å‰é¡¹ç›®è¦æ±‚çš„ <code>rules</code>ã€‚æˆ‘å½“å‰ä½¿ç”¨ <code>rules</code> æ¨¡æ¿å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift">è§’è‰²ï¼š
ä½ æ˜¯ä¸€åç²¾é€š  å¼€å‘çš„é«˜çº§å·¥ç¨‹å¸ˆï¼Œæ‹¥æœ‰<span class="hljs-number">10</span>å¹´ä»¥ä¸Šçš„  åº”ç”¨å¼€å‘ç»éªŒï¼Œç†Ÿæ‚‰  ç­‰å¼€å‘å·¥å…·å’ŒæŠ€æœ¯æ ˆ<span class="hljs-operator">ã€‚</span>ä½ çš„ä»»åŠ¡æ˜¯å¸®åŠ©ç”¨æˆ·è®¾è®¡å’Œå¼€å‘æ˜“ç”¨ä¸”æ˜“äºç»´æŠ¤çš„  åº”ç”¨<span class="hljs-operator">ã€‚</span>å§‹ç»ˆéµå¾ªæœ€ä½³å®è·µï¼Œå¹¶åšæŒå¹²å‡€ä»£ç å’Œå¥å£®æ¶æ„çš„åŸåˆ™<span class="hljs-operator">ã€‚</span>
ç›®æ ‡:
ä½ çš„ç›®æ ‡æ˜¯ä»¥ç”¨æˆ·å®¹æ˜“ç†è§£çš„æ–¹å¼å¸®åŠ©ä»–ä»¬å®Œæˆ  åº”ç”¨çš„è®¾è®¡å’Œå¼€å‘å·¥ä½œï¼Œç¡®ä¿åº”ç”¨åŠŸèƒ½å®Œå–„<span class="hljs-operator">ã€</span>æ€§èƒ½ä¼˜å¼‚<span class="hljs-operator">ã€</span>ç”¨æˆ·ä½“éªŒè‰¯å¥½<span class="hljs-operator">ã€‚</span>
è¦æ±‚:
åœ¨ç†è§£ç”¨æˆ·éœ€æ±‚<span class="hljs-operator">ã€</span>è®¾è®¡<span class="hljs-type">UI</span><span class="hljs-operator">ã€</span>ç¼–å†™ä»£ç <span class="hljs-operator">ã€</span>è§£å†³é—®é¢˜å’Œé¡¹ç›®è¿­ä»£ä¼˜åŒ–æ—¶ï¼Œä½ åº”è¯¥å§‹ç»ˆéµå¾ªä»¥ä¸‹åŸåˆ™ï¼š
é¡¹ç›®åˆå§‹åŒ–

åœ¨é¡¹ç›®å¼€å§‹æ—¶ï¼Œé¦–å…ˆä»”ç»†é˜…è¯»é¡¹ç›®ç›®å½•ä¸‹çš„ <span class="hljs-type">README</span>.mdæ–‡ä»¶å¹¶ç†è§£å…¶å†…å®¹ï¼ŒåŒ…æ‹¬é¡¹ç›®çš„ç›®æ ‡<span class="hljs-operator">ã€</span>åŠŸèƒ½æ¶æ„<span class="hljs-operator">ã€</span>æŠ€æœ¯æ ˆå’Œå¼€å‘è®¡åˆ’ï¼Œç¡®ä¿å¯¹é¡¹ç›®çš„æ•´ä½“æ¶æ„å’Œå®ç°æ–¹å¼æœ‰æ¸…æ™°çš„è®¤è¯†ï¼›

å¦‚æœè¿˜æ²¡æœ‰<span class="hljs-type">README</span>.mdæ–‡ä»¶ï¼Œè¯·ä¸»åŠ¨åˆ›å»ºä¸€ä¸ªï¼Œç”¨äºåç»­è®°å½•è¯¥åº”ç”¨çš„åŠŸèƒ½æ¨¡å—<span class="hljs-operator">ã€</span>é¡µé¢ç»“æ„<span class="hljs-operator">ã€</span>æ•°æ®æµ<span class="hljs-operator">ã€</span>ä¾èµ–åº“ç­‰ä¿¡æ¯<span class="hljs-operator">ã€‚</span>
éœ€æ±‚ç†è§£

å……åˆ†ç†è§£ç”¨æˆ·éœ€æ±‚ï¼Œç«™åœ¨ç”¨æˆ·è§’åº¦æ€è€ƒï¼Œåˆ†æéœ€æ±‚æ˜¯å¦å­˜åœ¨ç¼ºæ¼ï¼Œå¹¶ä¸ç”¨æˆ·è®¨è®ºå®Œå–„éœ€æ±‚ï¼›

é€‰æ‹©æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ¥æ»¡è¶³ç”¨æˆ·éœ€æ±‚ï¼Œé¿å…è¿‡åº¦è®¾è®¡<span class="hljs-operator">ã€‚</span>
<span class="hljs-type">UIå’Œæ ·å¼è®¾è®¡</span>

ä½¿ç”¨ç°ä»£<span class="hljs-type">UIæ¡†æ¶è¿›è¡Œæ ·å¼è®¾è®¡ï¼ˆä¾‹å¦‚</span><span class="hljs-operator">*</span>ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®ä¸åŒå¼€å‘é¡¹ç›®ä»”ç»†å±•å¼€ï¼Œæ¯”å¦‚ä½¿ç”¨å“ªäº›è§†è§‰è§„èŒƒæˆ–è€…<span class="hljs-type">UIæ¡†æ¶ï¼Œæ²¡æœ‰çš„è¯ä¹Ÿå¯ä»¥ä¸ç”¨è¿‡å¤šå±•å¼€ï¼‰ï¼›</span>

åœ¨ä¸åŒå¹³å°ä¸Šå®ç°ä¸€è‡´çš„è®¾è®¡å’Œå“åº”å¼æ¨¡å¼
ä»£ç ç¼–å†™

æŠ€æœ¯é€‰å‹ï¼šæ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ ˆï¼ˆä¾‹å¦‚<span class="hljs-operator">*</span>ï¼Œè¿™é‡Œéœ€è¦ä»”ç»†å±•å¼€ï¼Œæ¯”å¦‚ä»‹ç»æŸä¸ªæŠ€æœ¯æ ˆç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œä»¥åŠè¦éµå¾ªä»€ä¹ˆæœ€ä½³å®è·µï¼‰

ä»£ç ç»“æ„ï¼šå¼ºè°ƒä»£ç çš„æ¸…æ™°æ€§<span class="hljs-operator">ã€</span>æ¨¡å—åŒ–<span class="hljs-operator">ã€</span>å¯ç»´æŠ¤æ€§ï¼Œéµå¾ªæœ€ä½³å®è·µï¼ˆå¦‚<span class="hljs-type">DRYåŸåˆ™</span><span class="hljs-operator">ã€</span>æœ€å°æƒé™åŸåˆ™<span class="hljs-operator">ã€</span>å“åº”å¼è®¾è®¡ç­‰ï¼‰

ä»£ç å®‰å…¨æ€§ï¼šåœ¨ç¼–å†™ä»£ç æ—¶ï¼Œå§‹ç»ˆè€ƒè™‘å®‰å…¨æ€§ï¼Œé¿å…å¼•å…¥æ¼æ´ï¼Œç¡®ä¿ç”¨æˆ·è¾“å…¥çš„å®‰å…¨å¤„ç†

æ€§èƒ½ä¼˜åŒ–ï¼šä¼˜åŒ–ä»£ç çš„æ€§èƒ½ï¼Œå‡å°‘èµ„æºå ç”¨ï¼Œæå‡åŠ è½½é€Ÿåº¦ï¼Œç¡®ä¿é¡¹ç›®çš„é«˜æ•ˆè¿è¡Œ

æµ‹è¯•ä¸æ–‡æ¡£ï¼šç¼–å†™å•å…ƒæµ‹è¯•ï¼Œç¡®ä¿ä»£ç çš„å¥å£®æ€§ï¼Œå¹¶æä¾›æ¸…æ™°çš„ä¸­æ–‡æ³¨é‡Šå’Œæ–‡æ¡£ï¼Œæ–¹ä¾¿åç»­é˜…è¯»å’Œç»´æŠ¤

é—®é¢˜è§£å†³

å…¨é¢é˜…è¯»ç›¸å…³ä»£ç ï¼Œç†è§£ <span class="hljs-operator">*</span> åº”ç”¨çš„å·¥ä½œåŸç†

æ ¹æ®ç”¨æˆ·çš„åé¦ˆåˆ†æé—®é¢˜çš„åŸå› ï¼Œæå‡ºè§£å†³é—®é¢˜çš„æ€è·¯

ç¡®ä¿æ¯æ¬¡ä»£ç å˜æ›´ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½ï¼Œä¸”å°½å¯èƒ½ä¿æŒæœ€å°çš„æ”¹åŠ¨
è¿­ä»£ä¼˜åŒ–

ä¸ç”¨æˆ·ä¿æŒå¯†åˆ‡æ²Ÿé€šï¼Œæ ¹æ®åé¦ˆè°ƒæ•´åŠŸèƒ½å’Œè®¾è®¡ï¼Œç¡®ä¿åº”ç”¨ç¬¦åˆç”¨æˆ·éœ€æ±‚

åœ¨ä¸ç¡®å®šéœ€æ±‚æ—¶ï¼Œä¸»åŠ¨è¯¢é—®ç”¨æˆ·ä»¥æ¾„æ¸…éœ€æ±‚æˆ–æŠ€æœ¯ç»†èŠ‚

æ¯æ¬¡è¿­ä»£éƒ½éœ€è¦æ›´æ–°<span class="hljs-type">README</span>.mdæ–‡ä»¶ï¼ŒåŒ…æ‹¬åŠŸèƒ½è¯´æ˜å’Œä¼˜åŒ–å»ºè®®
æ–¹æ³•è®º

ç³»ç»Ÿ<span class="hljs-number">2</span>æ€ç»´ï¼šä»¥åˆ†æä¸¥è°¨çš„æ–¹å¼è§£å†³é—®é¢˜<span class="hljs-operator">ã€‚</span>å°†éœ€æ±‚åˆ†è§£ä¸ºæ›´å°<span class="hljs-operator">ã€</span>å¯ç®¡ç†çš„éƒ¨åˆ†ï¼Œå¹¶åœ¨å®æ–½å‰ä»”ç»†è€ƒè™‘æ¯ä¸€æ­¥

æ€ç»´æ ‘ï¼šè¯„ä¼°å¤šç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆåŠå…¶åæœ<span class="hljs-operator">ã€‚</span>ä½¿ç”¨ç»“æ„åŒ–çš„æ–¹æ³•æ¢ç´¢ä¸åŒçš„è·¯å¾„ï¼Œå¹¶é€‰æ‹©æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆ

è¿­ä»£æ”¹è¿›ï¼šåœ¨æœ€ç»ˆç¡®å®šä»£ç ä¹‹å‰ï¼Œè€ƒè™‘æ”¹è¿›<span class="hljs-operator">ã€</span>è¾¹ç¼˜æƒ…å†µå’Œä¼˜åŒ–<span class="hljs-operator">ã€‚</span>é€šè¿‡æ½œåœ¨å¢å¼ºçš„è¿­ä»£ï¼Œç¡®ä¿æœ€ç»ˆè§£å†³æ–¹æ¡ˆæ˜¯å¥å£®çš„
</code></pre>
<p>å¤åˆ¶ä¸‹è¿™ä¸ª<code>rules</code>æ¨¡æ¿ï¼Œåœ¨<code>chat</code>ä¸­è¾“å…¥</p>
<blockquote>
<p>æ ¹æ®ä»¥ä¸Šæä¾›çš„rulesæ¨¡æ¿ï¼Œç»“åˆå½“å‰é¡¹ç›®ï¼Œç”Ÿæˆç¬¦åˆè¿™ä¸ªé¡¹ç›®çš„ rulesï¼Œ</p>
</blockquote>
<p>ç„¶åå°±å¯ä»¥è®©<code>Cursor</code>ç”Ÿæˆä¸€ä¸ªé€‚ç”¨äºæœ¬é¡¹ç›®çš„<code>rules</code>ã€‚</p>
<h3 data-id="heading-13">ä»€ä¹ˆæ—¶å€™è¯¥é€‰æ‹©ä»€ä¹ˆæ¨¡å‹</h3>
<p>æ ¹æ®ä¸åŒåœºæ™¯ä½¿ç”¨ä¸åŒçš„æ¨¡å‹ã€‚å½“ç„¶ï¼Œæ¯ä¸ªäººçš„ç¼–ç ä½“éªŒå¯èƒ½æœ‰æ‰€å·®åˆ«ï¼ŒæŒ‰ç…§æˆ‘çš„ä¹ æƒ¯ï¼š</p>
<ul>
<li>æ—¥å¸¸ç¼–ç ã€è¡¥å…¨ï¼Œä½¿ç”¨æ—¶<code>Claude-4-Sonnet/Gemini-2.5-Pro</code></li>
<li>è°ƒè¯•å¤æ‚é”™è¯¯æ—¶ï¼Œä½¿ç”¨<code>GPT</code>/<code>O3</code>/<code>O4</code></li>
<li>å¤„ç†å¤§å‹ä»£ç åº“ï¼Œä½¿ç”¨<code>Gemini Flash 2.0</code></li>
</ul>
<p>å„ä¸ªæ¨¡å‹çš„å·®åˆ«ä»¥åŠå…·ä½“åœºæ™¯çš„æ¨¡å‹ä½¿ç”¨å¯ä»¥å‚è€ƒ<a href="https://juejin.cn/post/7535747930281787426" target="_blank" title="https://juejin.cn/post/7535747930281787426">è¿™ä¸ªæ–‡ç« </a>ã€‚</p>
<p><del>å«Œéº»çƒ¦ç›´æ¥<code>Auto</code>ä¸€æŠŠæ¢­ï¼</del></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€JavaåŸºç¡€æ•´ç†ã€‘Javaå­—ç¬¦ä¸²å¤„ç†ï¼ŒStringã€StringBufferã€StringBuilder]]></title>    <link>https://juejin.cn/post/7592432859862499362</link>    <guid>https://juejin.cn/post/7592432859862499362</guid>    <pubDate>2026-01-07T10:06:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859862499362" data-draft-id="7592432859862482978" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€JavaåŸºç¡€æ•´ç†ã€‘Javaå­—ç¬¦ä¸²å¤„ç†ï¼ŒStringã€StringBufferã€StringBuilder"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-07T10:06:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Œæ—¥å°¼ä¹"/> <meta itemprop="url" content="https://juejin.cn/user/854736525882123"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€JavaåŸºç¡€æ•´ç†ã€‘Javaå­—ç¬¦ä¸²å¤„ç†ï¼ŒStringã€StringBufferã€StringBuilder
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/854736525882123/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Œæ—¥å°¼ä¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:06:22.000Z" title="Wed Jan 07 2026 10:06:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Javaå­—ç¬¦ä¸²å¤„ç†è¯¦è§£ï¼ŒStringã€StringBufferã€StringBuilder</h2>
<h3 data-id="heading-1">1. CharSequenceæ¥å£æ¦‚è¿°</h3>
<h4 data-id="heading-2">æ¥å£å®šä¹‰</h4>
<p><code>CharSequence</code>æ¥å£æ˜¯charå€¼çš„ä¸€ä¸ªå¯è¯»åºåˆ—ï¼Œæ˜¯Javaå­—ç¬¦ä¸²å¤„ç†çš„é¡¶å±‚æ¥å£ã€‚</p>
<h4 data-id="heading-3">å®ç°ç±»</h4>
<p>Javaä¸­ä¸»è¦æœ‰ä¸‰ä¸ªç±»å®ç°äº†<code>CharSequence</code>æ¥å£ï¼š</p>

























<table><thead><tr><th>å®ç°ç±»</th><th>ç‰¹ç‚¹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>String</code></td><td>ä¸å¯å˜å­—ç¬¦ä¸²</td><td>ä¸€èˆ¬å­—ç¬¦ä¸²æ“ä½œ</td></tr><tr><td><code>StringBuffer</code></td><td>å¯å˜å­—ç¬¦ä¸²ï¼Œçº¿ç¨‹å®‰å…¨</td><td>å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å­—ç¬¦ä¸²æ„å»º</td></tr><tr><td><code>StringBuilder</code></td><td>å¯å˜å­—ç¬¦ä¸²ï¼Œçº¿ç¨‹ä¸å®‰å…¨</td><td>å•çº¿ç¨‹ç¯å¢ƒä¸‹çš„å­—ç¬¦ä¸²æ„å»º</td></tr></tbody></table>
<h4 data-id="heading-4">å…±åŒç‰¹å¾</h4>
<ul>
<li>éƒ½è¢«<code>final</code>ä¿®é¥°ç¬¦ä¿®é¥°ï¼Œ<strong>æ— æ³•è¢«ç»§æ‰¿</strong></li>
<li><strong>æ— æ³•é‡å†™æ–¹æ³•</strong></li>
<li>éƒ½æä¾›äº†å­—ç¬¦åºåˆ—çš„åŸºæœ¬æ“ä½œæ–¹æ³•</li>
</ul>
<h3 data-id="heading-5">2. Stringç±»è¯¦è§£</h3>
<h4 data-id="heading-6">2.1 Stringç±»ç‰¹ç‚¹</h4>
<p><code>String</code>ç±»æ˜¯æè¿°å­—ç¬¦ä¸²çš„ç±»ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li><strong>å®ç°æ¥å£</strong>ï¼š<code>Serializable</code>ã€<code>CharSequence</code>ã€<code>Comparable</code>æ¥å£</li>
<li><strong>ä¸å¯å˜æ€§</strong>ï¼šStringå¯¹è±¡æ˜¯å¸¸é‡ï¼Œä¸€æ—¦è¢«åˆå§‹åŒ–ä¸èƒ½æ”¹å˜</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šç”±äºä¸å¯å˜æ€§ï¼Œå¤©ç„¶çº¿ç¨‹å®‰å…¨</li>
<li><strong>å†…å­˜ä¼˜åŒ–</strong>ï¼šä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡æ± è¿›è¡Œå†…å­˜ç®¡ç†</li>
</ul>
<h4 data-id="heading-7">2.2 Stringæ„é€ æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. ç©ºå­—ç¬¦ä¸²æ„é€ </span>
<span class="hljs-type">String</span> <span class="hljs-variable">str1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>();  <span class="hljs-comment">// ç›¸å½“äº ""</span>

<span class="hljs-comment">// 2. ä»å¦ä¸€ä¸ªStringæ„é€ ï¼ˆå…‹éš†ï¼‰</span>
<span class="hljs-type">String</span> <span class="hljs-variable">original</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;
<span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(original);  <span class="hljs-comment">// åˆ›å»ºoriginalçš„å‰¯æœ¬å¯¹è±¡</span>

<span class="hljs-comment">// 3. ä»å­—èŠ‚æ•°ç»„æ„é€ </span>
<span class="hljs-type">byte</span>[] bytes = {<span class="hljs-number">72</span>, <span class="hljs-number">101</span>, <span class="hljs-number">108</span>, <span class="hljs-number">108</span>, <span class="hljs-number">111</span>};  <span class="hljs-comment">// "Hello"çš„ASCIIç </span>
<span class="hljs-type">String</span> <span class="hljs-variable">str3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(bytes);  <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç è½¬æ¢</span>

<span class="hljs-comment">// 4. ä»å­—ç¬¦æ•°ç»„æ„é€ </span>
<span class="hljs-type">char</span>[] chars = {<span class="hljs-string">'H'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'o'</span>};
<span class="hljs-type">String</span> <span class="hljs-variable">str4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(chars);  <span class="hljs-comment">// å°†å­—ç¬¦æ•°ç»„è½¬æ¢æˆå­—ç¬¦ä¸²</span>

<span class="hljs-comment">// 5. ç›´æ¥èµ‹å€¼ï¼ˆæ¨èï¼‰</span>
<span class="hljs-type">String</span> <span class="hljs-variable">str5</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;  <span class="hljs-comment">// æœ€å¸¸ç”¨çš„æ–¹å¼</span>
</code></pre>
<h4 data-id="heading-8">2.3 Stringå¸¸ç”¨æ–¹æ³•</h4>
<h5 data-id="heading-9">è·å–ç±»æ–¹æ³•</h5>













































<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>charAt(int index)</code></td><td>è·å–æŒ‡å®šä½ç½®ä¸Šçš„å­—ç¬¦</td><td><code>"Hello".charAt(1)</code> â†’ <code>'e'</code></td></tr><tr><td><code>codePointAt(int index)</code></td><td>è·å–æŒ‡å®šä½ç½®å­—ç¬¦çš„ASCIIç </td><td><code>"A".codePointAt(0)</code> â†’ <code>65</code></td></tr><tr><td><code>length()</code></td><td>è·å–å­—ç¬¦ä¸²é•¿åº¦</td><td><code>"Hello".length()</code> â†’ <code>5</code></td></tr><tr><td><code>indexOf(String str)</code></td><td>è·å–å­ä¸²é¦–æ¬¡å‡ºç°ä½ç½®</td><td><code>"Hello".indexOf("ll")</code> â†’ <code>2</code></td></tr><tr><td><code>lastIndexOf(String str)</code></td><td>åå‘è·å–å­ä¸²ä½ç½®</td><td><code>"Hello".lastIndexOf("l")</code> â†’ <code>3</code></td></tr><tr><td><code>substring(int beginIndex)</code></td><td>è·å–ä»æŒ‡å®šä½ç½®å¼€å§‹çš„å­ä¸²</td><td><code>"Hello".substring(1)</code> â†’ <code>"ello"</code></td></tr><tr><td><code>substring(int begin, int end)</code></td><td>è·å–æŒ‡å®šèŒƒå›´çš„å­ä¸²</td><td><code>"Hello".substring(1,4)</code> â†’ <code>"ell"</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å–æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringGetDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello World"</span>;
        
        System.out.println(<span class="hljs-string">"å­—ç¬¦ä¸²é•¿åº¦: "</span> + str.length());           <span class="hljs-comment">// 11</span>
        System.out.println(<span class="hljs-string">"ç¬¬5ä¸ªå­—ç¬¦: "</span> + str.charAt(<span class="hljs-number">4</span>));           <span class="hljs-comment">// 'o'</span>
        System.out.println(<span class="hljs-string">"'o'çš„ä½ç½®: "</span> + str.indexOf(<span class="hljs-string">'o'</span>));        <span class="hljs-comment">// 4</span>
        System.out.println(<span class="hljs-string">"'l'æœ€åä½ç½®: "</span> + str.lastIndexOf(<span class="hljs-string">'l'</span>));   <span class="hljs-comment">// 9</span>
        System.out.println(<span class="hljs-string">"å­ä¸²: "</span> + str.substring(<span class="hljs-number">6</span>));            <span class="hljs-comment">// "World"</span>
        System.out.println(<span class="hljs-string">"å­ä¸²: "</span> + str.substring(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>));         <span class="hljs-comment">// "Hello"</span>
        
        <span class="hljs-comment">// indexOfä¹Ÿå¯ä»¥åˆ¤æ–­æ˜¯å¦åŒ…å«æŸå­—ç¬¦æˆ–å­—ç¬¦ä¸²</span>
        <span class="hljs-keyword">if</span> (str.indexOf(<span class="hljs-string">"World"</span>) != -<span class="hljs-number">1</span>) {
            System.out.println(<span class="hljs-string">"å­—ç¬¦ä¸²åŒ…å«'World'"</span>);
        }
    }
}
</code></pre>
<h5 data-id="heading-10">åˆ¤æ–­ç±»æ–¹æ³•</h5>


















































<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>matches(String regex)</code></td><td>åˆ¤æ–­æ˜¯å¦åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</td><td><code>"123".matches("\\d+")</code> â†’ <code>true</code></td></tr><tr><td><code>endsWith(String suffix)</code></td><td>åˆ¤æ–­æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾</td><td><code>"Hello.java".endsWith(".java")</code> â†’ <code>true</code></td></tr><tr><td><code>startsWith(String prefix)</code></td><td>åˆ¤æ–­æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´</td><td><code>"Hello".startsWith("He")</code> â†’ <code>true</code></td></tr><tr><td><code>isEmpty()</code></td><td>æ˜¯å¦ä¸ºç©ºï¼ˆJDK 1.6åï¼‰</td><td><code>"".isEmpty()</code> â†’ <code>true</code></td></tr><tr><td><code>contains(CharSequence s)</code></td><td>æ˜¯å¦åŒ…å«æŒ‡å®šå­—ç¬¦åºåˆ—</td><td><code>"Hello".contains("ell")</code> â†’ <code>true</code></td></tr><tr><td><code>equals(Object obj)</code></td><td>åˆ¤æ–­å­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒ</td><td><code>"Hello".equals("Hello")</code> â†’ <code>true</code></td></tr><tr><td><code>equalsIgnoreCase(String str)</code></td><td>å¿½ç•¥å¤§å°å†™åˆ¤æ–­å†…å®¹æ˜¯å¦ç›¸åŒ</td><td><code>"Hello".equalsIgnoreCase("hello")</code> â†’ <code>true</code></td></tr><tr><td><code>compareTo(String str)</code></td><td>æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒå­—ç¬¦ä¸²</td><td><code>"abc".compareTo("abd")</code> â†’ <code>-1</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ¤æ–­æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringJudgeDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str1</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello World"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> <span class="hljs-string">"HELLO WORLD"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">email</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user@example.com"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">phone</span> <span class="hljs-operator">=</span> <span class="hljs-string">"13812345678"</span>;
        
        <span class="hljs-comment">// åŸºæœ¬åˆ¤æ–­</span>
        System.out.println(<span class="hljs-string">"æ˜¯å¦ä¸ºç©º: "</span> + str1.isEmpty());                    <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"åŒ…å«'World': "</span> + str1.contains(<span class="hljs-string">"World"</span>));        <span class="hljs-comment">// true</span>
        System.out.println(<span class="hljs-string">"ä»¥'Hello'å¼€å¤´: "</span> + str1.startsWith(<span class="hljs-string">"Hello"</span>));     <span class="hljs-comment">// true</span>
        System.out.println(<span class="hljs-string">"ä»¥'.com'ç»“å°¾: "</span> + email.endsWith(<span class="hljs-string">".com"</span>));       <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// ç›¸ç­‰æ€§åˆ¤æ–­</span>
        System.out.println(<span class="hljs-string">"å†…å®¹ç›¸ç­‰: "</span> + str1.equals(str2));                 <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"å¿½ç•¥å¤§å°å†™ç›¸ç­‰: "</span> + str1.equalsIgnoreCase(str2)); <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// å­—å…¸é¡ºåºæ¯”è¾ƒ</span>
        System.out.println(<span class="hljs-string">"å­—å…¸é¡ºåºæ¯”è¾ƒ: "</span> + <span class="hljs-string">"abc"</span>.compareTo(<span class="hljs-string">"abd"</span>));         <span class="hljs-comment">// -1</span>
        
        <span class="hljs-comment">// æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</span>
        System.out.println(<span class="hljs-string">"æ˜¯å¦ä¸ºæ‰‹æœºå·: "</span> + phone.matches(<span class="hljs-string">"1[3-9]\\d{9}"</span>));  <span class="hljs-comment">// true</span>
    }
}
</code></pre>
<h5 data-id="heading-11">è½¬æ¢ç±»æ–¹æ³•</h5>








































<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>toCharArray()</code></td><td>è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„</td><td><code>"Hello".toCharArray()</code> â†’ <code>['H','e','l','l','o']</code></td></tr><tr><td><code>getBytes()</code></td><td>è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„</td><td><code>"Hello".getBytes()</code></td></tr><tr><td><code>toUpperCase()</code></td><td>è½¬æ¢ä¸ºå¤§å†™</td><td><code>"hello".toUpperCase()</code> â†’ <code>"HELLO"</code></td></tr><tr><td><code>toLowerCase()</code></td><td>è½¬æ¢ä¸ºå°å†™</td><td><code>"HELLO".toLowerCase()</code> â†’ <code>"hello"</code></td></tr><tr><td><code>copyValueOf(char[] data)</code></td><td>é™æ€æ–¹æ³•ï¼Œå­—ç¬¦æ•°ç»„è½¬å­—ç¬¦ä¸²</td><td><code>String.copyValueOf(chars)</code></td></tr><tr><td><code>valueOf(åŸºæœ¬ç±»å‹)</code></td><td>é™æ€æ–¹æ³•ï¼ŒåŸºæœ¬ç±»å‹è½¬å­—ç¬¦ä¸²</td><td><code>String.valueOf(123)</code> â†’ <code>"123"</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è½¬æ¢æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringConvertDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello World"</span>;
        
        <span class="hljs-comment">// è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„</span>
        <span class="hljs-type">char</span>[] chars = str.toCharArray();
        System.out.println(<span class="hljs-string">"å­—ç¬¦æ•°ç»„: "</span> + Arrays.toString(chars));
        
        <span class="hljs-comment">// è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„</span>
        <span class="hljs-type">byte</span>[] bytes = str.getBytes();
        System.out.println(<span class="hljs-string">"å­—èŠ‚æ•°ç»„: "</span> + Arrays.toString(bytes));
        
        <span class="hljs-comment">// å¤§å°å†™è½¬æ¢</span>
        System.out.println(<span class="hljs-string">"å¤§å†™: "</span> + str.toUpperCase());        <span class="hljs-comment">// "HELLO WORLD"</span>
        System.out.println(<span class="hljs-string">"å°å†™: "</span> + str.toLowerCase());        <span class="hljs-comment">// "hello world"</span>
        
        <span class="hljs-comment">// é™æ€æ–¹æ³•ï¼šåŸºæœ¬ç±»å‹è½¬å­—ç¬¦ä¸²</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">intStr</span> <span class="hljs-operator">=</span> String.valueOf(<span class="hljs-number">123</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">doubleStr</span> <span class="hljs-operator">=</span> String.valueOf(<span class="hljs-number">3.14</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">boolStr</span> <span class="hljs-operator">=</span> String.valueOf(<span class="hljs-literal">true</span>);
        
        System.out.println(<span class="hljs-string">"æ•´æ•°è½¬å­—ç¬¦ä¸²: "</span> + intStr);              <span class="hljs-comment">// "123"</span>
        System.out.println(<span class="hljs-string">"å°æ•°è½¬å­—ç¬¦ä¸²: "</span> + doubleStr);           <span class="hljs-comment">// "3.14"</span>
        System.out.println(<span class="hljs-string">"å¸ƒå°”è½¬å­—ç¬¦ä¸²: "</span> + boolStr);             <span class="hljs-comment">// "true"</span>
        
        <span class="hljs-comment">// å­—ç¬¦æ•°ç»„è½¬å­—ç¬¦ä¸²</span>
        <span class="hljs-type">char</span>[] charArray = {<span class="hljs-string">'J'</span>, <span class="hljs-string">'a'</span>, <span class="hljs-string">'v'</span>, <span class="hljs-string">'a'</span>};
        <span class="hljs-type">String</span> <span class="hljs-variable">fromChars</span> <span class="hljs-operator">=</span> String.copyValueOf(charArray);
        System.out.println(<span class="hljs-string">"å­—ç¬¦æ•°ç»„è½¬å­—ç¬¦ä¸²: "</span> + fromChars);        <span class="hljs-comment">// "Java"</span>
    }
}
</code></pre>
<h5 data-id="heading-12">æ›¿æ¢ç±»æ–¹æ³•</h5>






























<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>replace(char oldChar, char newChar)</code></td><td>æ›¿æ¢æ‰€æœ‰æŒ‡å®šå­—ç¬¦</td><td><code>"Hello".replace('l', 'x')</code> â†’ <code>"Hexxo"</code></td></tr><tr><td><code>replace(CharSequence target, CharSequence replacement)</code></td><td>æ›¿æ¢æ‰€æœ‰æŒ‡å®šå­—ç¬¦ä¸²</td><td><code>"Hello World".replace("World", "Java")</code></td></tr><tr><td><code>replaceAll(String regex, String replacement)</code></td><td>ç”¨æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢</td><td><code>"abc123def".replaceAll("\\d+", "XXX")</code></td></tr><tr><td><code>replaceFirst(String regex, String replacement)</code></td><td>æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹</td><td><code>"abc123def456".replaceFirst("\\d+", "XXX")</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ›¿æ¢æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringReplaceDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello World, Hello Java"</span>;
        
        <span class="hljs-comment">// å­—ç¬¦æ›¿æ¢</span>
        System.out.println(<span class="hljs-string">"æ›¿æ¢å­—ç¬¦'l': "</span> + str.replace(<span class="hljs-string">'l'</span>, <span class="hljs-string">'x'</span>));
        <span class="hljs-comment">// è¾“å‡º: "Hexxo Worxd, Hexxo Java"</span>
        
        <span class="hljs-comment">// å­—ç¬¦ä¸²æ›¿æ¢</span>
        System.out.println(<span class="hljs-string">"æ›¿æ¢'Hello': "</span> + str.replace(<span class="hljs-string">"Hello"</span>, <span class="hljs-string">"Hi"</span>));
        <span class="hljs-comment">// è¾“å‡º: "Hi World, Hi Java"</span>
        
        <span class="hljs-comment">// æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢æ‰€æœ‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">text</span> <span class="hljs-operator">=</span> <span class="hljs-string">"ç”µè¯ï¼š138-1234-5678ï¼Œæ‰‹æœºï¼š139-8765-4321"</span>;
        System.out.println(<span class="hljs-string">"éšè—æ‰‹æœºå·: "</span> + text.replaceAll(<span class="hljs-string">"1[3-9]\\d-\\d{4}-\\d{4}"</span>, <span class="hljs-string">"***-****-****"</span>));
        
        <span class="hljs-comment">// åªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹</span>
        System.out.println(<span class="hljs-string">"æ›¿æ¢ç¬¬ä¸€ä¸ª'Hello': "</span> + str.replaceFirst(<span class="hljs-string">"Hello"</span>, <span class="hljs-string">"Hi"</span>));
        <span class="hljs-comment">// è¾“å‡º: "Hi World, Hello Java"</span>
    }
}
</code></pre>
<h5 data-id="heading-13">åˆ‡å‰²ç±»æ–¹æ³•</h5>




















<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>split(String regex)</code></td><td>æŒ‰æ­£åˆ™è¡¨è¾¾å¼åˆ‡å‰²å­—ç¬¦ä¸²</td><td><code>"a,b,c".split(",")</code> â†’ <code>["a","b","c"]</code></td></tr><tr><td><code>split(String regex, int limit)</code></td><td>é™åˆ¶åˆ‡å‰²æ¬¡æ•°</td><td><code>"a,b,c,d".split(",", 2)</code> â†’ <code>["a","b,c,d"]</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ‡å‰²æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringSplitDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"apple,banana,orange,grape"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> <span class="hljs-string">"C:\\Program Files\\Java\\bin"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">text</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Java   is    very   good"</span>;
        
        <span class="hljs-comment">// åŸºæœ¬åˆ‡å‰²</span>
        String[] fruits = str.split(<span class="hljs-string">","</span>);
        System.out.println(<span class="hljs-string">"æ°´æœæ•°ç»„: "</span> + Arrays.toString(fruits));
        <span class="hljs-comment">// è¾“å‡º: [apple, banana, orange, grape]</span>
        
        <span class="hljs-comment">// æŒ‰åæ–œæ åˆ‡å‰²ï¼ˆéœ€è¦è½¬ä¹‰ï¼‰</span>
        String[] pathParts = path.split(<span class="hljs-string">"\\\\"</span>);
        System.out.println(<span class="hljs-string">"è·¯å¾„åˆ†å‰²: "</span> + Arrays.toString(pathParts));
        <span class="hljs-comment">// è¾“å‡º: [C:, Program Files, Java, bin]</span>
        
        <span class="hljs-comment">// æŒ‰æ­£åˆ™è¡¨è¾¾å¼åˆ‡å‰²ï¼ˆå¤šä¸ªç©ºæ ¼ï¼‰</span>
        String[] words = text.split(<span class="hljs-string">"\\s+"</span>);
        System.out.println(<span class="hljs-string">"å•è¯æ•°ç»„: "</span> + Arrays.toString(words));
        <span class="hljs-comment">// è¾“å‡º: [Java, is, very, good]</span>
        
        <span class="hljs-comment">// é™åˆ¶åˆ‡å‰²æ¬¡æ•°</span>
        String[] limitedSplit = str.split(<span class="hljs-string">","</span>, <span class="hljs-number">2</span>);
        System.out.println(<span class="hljs-string">"é™åˆ¶åˆ‡å‰²: "</span> + Arrays.toString(limitedSplit));
        <span class="hljs-comment">// è¾“å‡º: [apple, banana,orange,grape]</span>
    }
}
</code></pre>
<h5 data-id="heading-14">å»é™¤ç±»æ–¹æ³•</h5>






























<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>trim()</code></td><td>å»é™¤ä¸¤ç«¯ç©ºæ ¼</td><td><code>" Hello ".trim()</code> â†’ <code>"Hello"</code></td></tr><tr><td><code>strip()</code></td><td>å»é™¤ä¸¤ç«¯ç©ºç™½å­—ç¬¦ï¼ˆJDK 11+ï¼‰</td><td><code>" Hello ".strip()</code> â†’ <code>"Hello"</code></td></tr><tr><td><code>stripLeading()</code></td><td>å»é™¤å¼€å¤´ç©ºç™½å­—ç¬¦ï¼ˆJDK 11+ï¼‰</td><td><code>" Hello ".stripLeading()</code> â†’ <code>"Hello "</code></td></tr><tr><td><code>stripTrailing()</code></td><td>å»é™¤ç»“å°¾ç©ºç™½å­—ç¬¦ï¼ˆJDK 11+ï¼‰</td><td><code>" Hello ".stripTrailing()</code> â†’ <code>" Hello"</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å»é™¤æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringTrimDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"  Hello World  "</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> <span class="hljs-string">"\t\n  Java Programming  \r\n"</span>;
        
        System.out.println(<span class="hljs-string">"åŸå­—ç¬¦ä¸²: '"</span> + str + <span class="hljs-string">"'"</span>);
        System.out.println(<span class="hljs-string">"å»é™¤ç©ºæ ¼: '"</span> + str.trim() + <span class="hljs-string">"'"</span>);
        
        System.out.println(<span class="hljs-string">"åŸå­—ç¬¦ä¸²: '"</span> + str2 + <span class="hljs-string">"'"</span>);
        System.out.println(<span class="hljs-string">"å»é™¤ç©ºæ ¼: '"</span> + str2.trim() + <span class="hljs-string">"'"</span>);
        
        <span class="hljs-comment">// å®é™…åº”ç”¨ï¼šå¤„ç†ç”¨æˆ·è¾“å…¥</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userInput</span> <span class="hljs-operator">=</span> <span class="hljs-string">"  user@example.com  "</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">cleanInput</span> <span class="hljs-operator">=</span> userInput.trim();
        System.out.println(<span class="hljs-string">"æ¸…ç†åçš„è¾“å…¥: '"</span> + cleanInput + <span class="hljs-string">"'"</span>);
    }
}
</code></pre>
<h3 data-id="heading-15">3. StringBufferç±»è¯¦è§£</h3>
<h4 data-id="heading-16">3.1 StringBufferç‰¹ç‚¹</h4>
<ul>
<li><strong>å¯å˜é•¿åº¦</strong>ï¼šå¯ä»¥å¯¹å­—ç¬¦ä¸²å†…å®¹è¿›è¡Œä¿®æ”¹ã€å¢åŠ å’Œåˆ é™¤</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šæ–¹æ³•è¢«synchronizedä¿®é¥°ï¼Œé€‚ç”¨äºå¤šçº¿ç¨‹ç¯å¢ƒ</li>
<li><strong>ç¼“å†²å®¹å™¨</strong>ï¼šå†…éƒ¨ä½¿ç”¨å­—ç¬¦æ•°ç»„ä½œä¸ºç¼“å†²åŒº</li>
<li><strong>æœ€ç»ˆè½¬æ¢</strong>ï¼šé€šè¿‡<code>toString()</code>æ–¹æ³•è¿”å›Stringå¯¹è±¡</li>
</ul>
<h4 data-id="heading-17">3.2 StringBufferæ„é€ æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. é»˜è®¤æ„é€ æ–¹æ³•ï¼Œåˆå§‹å®¹é‡ä¸º16</span>
<span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();

<span class="hljs-comment">// 2. æŒ‡å®šåˆå§‹å®¹é‡</span>
<span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-number">50</span>);

<span class="hljs-comment">// 3. ç”¨å­—ç¬¦ä¸²åˆå§‹åŒ–</span>
<span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-string">"Hello"</span>);
</code></pre>
<h4 data-id="heading-18">3.3 StringBufferç‰¹æœ‰æ–¹æ³•</h4>
<h5 data-id="heading-19">ä¿®æ”¹ç±»æ–¹æ³•</h5>













































<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>append(å„ç§ç±»å‹)</code></td><td>å°†æ•°æ®æ·»åŠ åˆ°ç»“å°¾</td><td><code>sb.append("World")</code></td></tr><tr><td><code>insert(int offset, å„ç§ç±»å‹)</code></td><td>åœ¨æŒ‡å®šä½ç½®æ’å…¥æ•°æ®</td><td><code>sb.insert(5, " Java")</code></td></tr><tr><td><code>delete(int start, int end)</code></td><td>åˆ é™¤æŒ‡å®šèŒƒå›´å†…å®¹</td><td><code>sb.delete(0, 5)</code></td></tr><tr><td><code>deleteCharAt(int index)</code></td><td>åˆ é™¤æŒ‡å®šä½ç½®å­—ç¬¦</td><td><code>sb.deleteCharAt(0)</code></td></tr><tr><td><code>reverse()</code></td><td>åè½¬å­—ç¬¦ä¸²</td><td><code>sb.reverse()</code></td></tr><tr><td><code>replace(int start, int end, String str)</code></td><td>æ›¿æ¢æŒ‡å®šèŒƒå›´å†…å®¹</td><td><code>sb.replace(0, 5, "Hi")</code></td></tr><tr><td><code>setCharAt(int index, char ch)</code></td><td>æ›¿æ¢æŒ‡å®šä½ç½®å­—ç¬¦</td><td><code>sb.setCharAt(0, 'H')</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// StringBufferä¿®æ”¹æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringBufferDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-string">"Hello"</span>);
        System.out.println(<span class="hljs-string">"åˆå§‹å€¼: "</span> + sb);                <span class="hljs-comment">// Hello</span>
        
        <span class="hljs-comment">// append - è¿½åŠ å†…å®¹</span>
        sb.append(<span class="hljs-string">" World"</span>);
        System.out.println(<span class="hljs-string">"è¿½åŠ å: "</span> + sb);                 <span class="hljs-comment">// Hello World</span>
        
        sb.append(<span class="hljs-number">123</span>).append(<span class="hljs-literal">true</span>).append(<span class="hljs-number">3.14</span>);
        System.out.println(<span class="hljs-string">"é“¾å¼è¿½åŠ : "</span> + sb);               <span class="hljs-comment">// Hello World123true3.14</span>
        
        <span class="hljs-comment">// insert - æ’å…¥å†…å®¹</span>
        sb = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-string">"Hello World"</span>);
        sb.insert(<span class="hljs-number">6</span>, <span class="hljs-string">"Java "</span>);
        System.out.println(<span class="hljs-string">"æ’å…¥å: "</span> + sb);                 <span class="hljs-comment">// Hello Java World</span>
        
        <span class="hljs-comment">// delete - åˆ é™¤å†…å®¹</span>
        sb.delete(<span class="hljs-number">6</span>, <span class="hljs-number">11</span>);  <span class="hljs-comment">// åˆ é™¤"Java "</span>
        System.out.println(<span class="hljs-string">"åˆ é™¤å: "</span> + sb);                 <span class="hljs-comment">// Hello World</span>
        
        <span class="hljs-comment">// deleteCharAt - åˆ é™¤å•ä¸ªå­—ç¬¦</span>
        sb.deleteCharAt(<span class="hljs-number">5</span>);  <span class="hljs-comment">// åˆ é™¤ç©ºæ ¼</span>
        System.out.println(<span class="hljs-string">"åˆ é™¤å­—ç¬¦å: "</span> + sb);              <span class="hljs-comment">// HelloWorld</span>
        
        <span class="hljs-comment">// replace - æ›¿æ¢å†…å®¹</span>
        sb.replace(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-string">"Hi"</span>);
        System.out.println(<span class="hljs-string">"æ›¿æ¢å: "</span> + sb);                 <span class="hljs-comment">// HiWorld</span>
        
        <span class="hljs-comment">// reverse - åè½¬</span>
        sb.reverse();
        System.out.println(<span class="hljs-string">"åè½¬å: "</span> + sb);                 <span class="hljs-comment">// dlroWiH</span>
        
        <span class="hljs-comment">// setCharAt - è®¾ç½®æŒ‡å®šä½ç½®å­—ç¬¦</span>
        sb.setCharAt(<span class="hljs-number">0</span>, <span class="hljs-string">'D'</span>);
        System.out.println(<span class="hljs-string">"è®¾ç½®å­—ç¬¦å: "</span> + sb);              <span class="hljs-comment">// DlroWiH</span>
    }
}
</code></pre>
<h5 data-id="heading-20">è·å–ç±»æ–¹æ³•ï¼ˆä¸Stringç±»ä¼¼ï¼‰</h5>





































<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td><code>charAt(int index)</code></td><td>è·å–æŒ‡å®šä½ç½®å­—ç¬¦</td></tr><tr><td><code>indexOf(String str)</code></td><td>è·å–å­ä¸²ä½ç½®</td></tr><tr><td><code>lastIndexOf(String str)</code></td><td>åå‘è·å–å­ä¸²ä½ç½®</td></tr><tr><td><code>length()</code></td><td>è·å–é•¿åº¦</td></tr><tr><td><code>substring(int start)</code></td><td>è·å–å­ä¸²</td></tr><tr><td><code>substring(int start, int end)</code></td><td>è·å–æŒ‡å®šèŒƒå›´å­ä¸²</td></tr><tr><td><code>toString()</code></td><td>è½¬æ¢ä¸ºStringå¯¹è±¡</td></tr></tbody></table>
<h4 data-id="heading-21">3.4 StringBufferå…¶ä»–å®ç”¨æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// StringBufferå…¶ä»–æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringBufferAdvancedDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-string">"Hello World"</span>);
        
        <span class="hljs-comment">// è·å–å­—ç¬¦æ•°ç»„</span>
        <span class="hljs-type">char</span>[] chars = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[<span class="hljs-number">5</span>];
        sb.getChars(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>, chars, <span class="hljs-number">0</span>);  <span class="hljs-comment">// ä»sbçš„0-5ä½ç½®å¤åˆ¶åˆ°charsæ•°ç»„</span>
        System.out.println(<span class="hljs-string">"å­—ç¬¦æ•°ç»„: "</span> + Arrays.toString(chars));  <span class="hljs-comment">// [H, e, l, l, o]</span>
        
        <span class="hljs-comment">// å®¹é‡ç›¸å…³</span>
        System.out.println(<span class="hljs-string">"å½“å‰é•¿åº¦: "</span> + sb.length());           <span class="hljs-comment">// 11</span>
        System.out.println(<span class="hljs-string">"å½“å‰å®¹é‡: "</span> + sb.capacity());         <span class="hljs-comment">// 27 (åˆå§‹16 + æ‰©å±•)</span>
        
        <span class="hljs-comment">// ç¡®ä¿å®¹é‡</span>
        sb.ensureCapacity(<span class="hljs-number">50</span>);
        System.out.println(<span class="hljs-string">"ç¡®ä¿å®¹é‡å: "</span> + sb.capacity());       <span class="hljs-comment">// 54</span>
        
        <span class="hljs-comment">// è®¾ç½®é•¿åº¦</span>
        sb.setLength(<span class="hljs-number">5</span>);
        System.out.println(<span class="hljs-string">"è®¾ç½®é•¿åº¦å: "</span> + sb);                  <span class="hljs-comment">// Hello</span>
    }
}
</code></pre>
<h3 data-id="heading-22">4. StringBuilderç±»è¯¦è§£</h3>
<h4 data-id="heading-23">4.1 StringBuilderç‰¹ç‚¹</h4>
<ul>
<li><strong>JDK 1.5åå‡ºç°</strong>ï¼šä½œä¸ºStringBufferçš„ç®€æ˜“æ›¿æ¢</li>
<li><strong>åŠŸèƒ½ç›¸åŒ</strong>ï¼šä¸StringBufferæä¾›ç›¸åŒçš„API</li>
<li><strong>çº¿ç¨‹ä¸å®‰å…¨</strong>ï¼šæ²¡æœ‰åŒæ­¥æ§åˆ¶ï¼Œæ€§èƒ½æ›´å¥½</li>
<li><strong>å•çº¿ç¨‹æ¨è</strong>ï¼šåœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹æ¨èä½¿ç”¨</li>
</ul>
<h4 data-id="heading-24">4.2 StringBuilderä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// StringBuilderä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringBuilderDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(<span class="hljs-string">"Hello"</span>);
        
        <span class="hljs-comment">// æ‰€æœ‰StringBufferçš„æ–¹æ³•StringBuilderéƒ½æœ‰</span>
        sb.append(<span class="hljs-string">" World"</span>)
          .append(<span class="hljs-string">" Java"</span>)
          .append(<span class="hljs-string">" Programming"</span>);
        
        System.out.println(<span class="hljs-string">"æ„å»ºç»“æœ: "</span> + sb.toString());
        
        <span class="hljs-comment">// æ€§èƒ½æµ‹è¯•å¯¹æ¯”</span>
        performanceTest();
    }
    
    <span class="hljs-comment">// æ€§èƒ½æµ‹è¯•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performanceTest</span><span class="hljs-params">()</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">times</span> <span class="hljs-operator">=</span> <span class="hljs-number">10000</span>;
        
        <span class="hljs-comment">// Stringæ‹¼æ¥æµ‹è¯•</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; times; i++) {
            str += <span class="hljs-string">"a"</span>;
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">stringTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;
        
        <span class="hljs-comment">// StringBuilderæ‹¼æ¥æµ‹è¯•</span>
        start = System.currentTimeMillis();
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; times; i++) {
            sb.append(<span class="hljs-string">"a"</span>);
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">sbResult</span> <span class="hljs-operator">=</span> sb.toString();
        <span class="hljs-type">long</span> <span class="hljs-variable">sbTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;
        
        <span class="hljs-comment">// StringBufferæ‹¼æ¥æµ‹è¯•</span>
        start = System.currentTimeMillis();
        <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sbf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; times; i++) {
            sbf.append(<span class="hljs-string">"a"</span>);
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">sbfResult</span> <span class="hljs-operator">=</span> sbf.toString();
        <span class="hljs-type">long</span> <span class="hljs-variable">sbfTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;
        
        System.out.println(<span class="hljs-string">"Stringæ‹¼æ¥æ—¶é—´: "</span> + stringTime + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"StringBuilderæ‹¼æ¥æ—¶é—´: "</span> + sbTime + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"StringBufferæ‹¼æ¥æ—¶é—´: "</span> + sbfTime + <span class="hljs-string">"ms"</span>);
    }
}
</code></pre>
<h3 data-id="heading-25">5. ä¸‰ç§å­—ç¬¦ä¸²ç±»çš„å¯¹æ¯”</h3>
<h4 data-id="heading-26">5.1 ç‰¹æ€§å¯¹æ¯”è¡¨</h4>















































<table><thead><tr><th>ç‰¹æ€§</th><th>String</th><th>StringBuffer</th><th>StringBuilder</th></tr></thead><tbody><tr><td><strong>å¯å˜æ€§</strong></td><td>ä¸å¯å˜</td><td>å¯å˜</td><td>å¯å˜</td></tr><tr><td><strong>çº¿ç¨‹å®‰å…¨</strong></td><td>å®‰å…¨ï¼ˆä¸å¯å˜ï¼‰</td><td>å®‰å…¨ï¼ˆåŒæ­¥ï¼‰</td><td>ä¸å®‰å…¨</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>ä½ï¼ˆé¢‘ç¹åˆ›å»ºå¯¹è±¡ï¼‰</td><td>ä¸­ç­‰</td><td>é«˜</td></tr><tr><td><strong>å†…å­˜ä½¿ç”¨</strong></td><td>é«˜ï¼ˆåˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼‰</td><td>ä½</td><td>ä½</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å°‘é‡å­—ç¬¦ä¸²æ“ä½œ</td><td>å¤šçº¿ç¨‹ç¯å¢ƒ</td><td>å•çº¿ç¨‹ç¯å¢ƒ</td></tr><tr><td><strong>JDKç‰ˆæœ¬</strong></td><td>1.0+</td><td>1.0+</td><td>1.5+</td></tr></tbody></table>
<h4 data-id="heading-27">5.2 ä½¿ç”¨åœºæ™¯é€‰æ‹©</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨åœºæ™¯ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringChoiceDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        
        <span class="hljs-comment">// åœºæ™¯1ï¼šå­—ç¬¦ä¸²ä¸å˜ï¼Œå°‘é‡æ“ä½œ - ä½¿ç”¨String</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">greeting</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> greeting + <span class="hljs-string">" World!"</span>;  <span class="hljs-comment">// é€‚åˆç”¨String</span>
        
        <span class="hljs-comment">// åœºæ™¯2ï¼šå•çº¿ç¨‹ç¯å¢ƒï¼Œå¤§é‡å­—ç¬¦ä¸²æ‹¼æ¥ - ä½¿ç”¨StringBuilder</span>
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">htmlBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        htmlBuilder.append(<span class="hljs-string">"&lt;html&gt;"</span>)
                  .append(<span class="hljs-string">"&lt;head&gt;&lt;title&gt;é¡µé¢æ ‡é¢˜&lt;/title&gt;&lt;/head&gt;"</span>)
                  .append(<span class="hljs-string">"&lt;body&gt;"</span>)
                  .append(<span class="hljs-string">"&lt;h1&gt;æ¬¢è¿&lt;/h1&gt;"</span>)
                  .append(<span class="hljs-string">"&lt;/body&gt;"</span>)
                  .append(<span class="hljs-string">"&lt;/html&gt;"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">html</span> <span class="hljs-operator">=</span> htmlBuilder.toString();
        
        <span class="hljs-comment">// åœºæ™¯3ï¼šå¤šçº¿ç¨‹ç¯å¢ƒï¼Œéœ€è¦å­—ç¬¦ä¸²æ‹¼æ¥ - ä½¿ç”¨StringBuffer</span>
        <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">logBuffer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();
        <span class="hljs-comment">// å¤šä¸ªçº¿ç¨‹å¯èƒ½åŒæ—¶æ“ä½œlogBuffer</span>
        <span class="hljs-keyword">synchronized</span>(logBuffer) {
            logBuffer.append(<span class="hljs-string">"[INFO] "</span>)
                    .append(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>())
                    .append(<span class="hljs-string">" - åº”ç”¨å¯åŠ¨æˆåŠŸ"</span>);
        }
        
        <span class="hljs-comment">// åœºæ™¯4ï¼šæ ¼å¼åŒ–å­—ç¬¦ä¸² - ä½¿ç”¨String.format</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">formatted</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">"ç”¨æˆ·%sï¼Œå¹´é¾„%dï¼Œä½™é¢%.2f"</span>, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>, <span class="hljs-number">1000.5</span>);
        System.out.println(formatted);
    }
}
</code></pre>
<h4 data-id="heading-28">5.3 æ€§èƒ½å¯¹æ¯”æµ‹è¯•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ€§èƒ½å¯¹æ¯”å®Œæ•´æµ‹è¯•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringPerformanceTest</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">ITERATIONS</span> <span class="hljs-operator">=</span> <span class="hljs-number">50000</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        testStringConcat();
        testStringBuilder();
        testStringBuffer();
    }
    
    <span class="hljs-comment">// æµ‹è¯•Stringæ‹¼æ¥</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testStringConcat</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; ITERATIONS; i++) {
            result += <span class="hljs-string">"a"</span>;
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"Stringæ‹¼æ¥ "</span> + ITERATIONS + <span class="hljs-string">" æ¬¡è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
    }
    
    <span class="hljs-comment">// æµ‹è¯•StringBuilder</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testStringBuilder</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; ITERATIONS; i++) {
            sb.append(<span class="hljs-string">"a"</span>);
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> sb.toString();
        <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"StringBuilderæ‹¼æ¥ "</span> + ITERATIONS + <span class="hljs-string">" æ¬¡è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
    }
    
    <span class="hljs-comment">// æµ‹è¯•StringBuffer</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testStringBuffer</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sbf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; ITERATIONS; i++) {
            sbf.append(<span class="hljs-string">"a"</span>);
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> sbf.toString();
        <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"StringBufferæ‹¼æ¥ "</span> + ITERATIONS + <span class="hljs-string">" æ¬¡è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
    }
}
</code></pre>
<h3 data-id="heading-29">6. å­—ç¬¦ä¸²å¤„ç†æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-30">6.1 é€‰æ‹©åŸåˆ™</h4>
<ol>
<li><strong>å­—ç¬¦ä¸²ä¸å˜æˆ–å°‘é‡æ“ä½œ</strong> â†’ ä½¿ç”¨ <code>String</code></li>
<li><strong>å•çº¿ç¨‹å¤§é‡æ‹¼æ¥</strong> â†’ ä½¿ç”¨ <code>StringBuilder</code></li>
<li><strong>å¤šçº¿ç¨‹å¤§é‡æ‹¼æ¥</strong> â†’ ä½¿ç”¨ <code>StringBuffer</code></li>
<li><strong>æ ¼å¼åŒ–å­—ç¬¦ä¸²</strong> â†’ ä½¿ç”¨ <code>String.format()</code> æˆ– <code>MessageFormat</code></li>
</ol>
<h4 data-id="heading-31">6.2 å¸¸è§é™·é˜±å’Œè§£å†³æ–¹æ¡ˆ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å­—ç¬¦ä¸²å¤„ç†é™·é˜±ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringTrapDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        
        <span class="hljs-comment">// é™·é˜±1ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒä½¿ç”¨==è€Œä¸æ˜¯equals</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"Hello"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"Hello"</span>);
        System.out.println(<span class="hljs-string">"== æ¯”è¾ƒ: "</span> + (str1 == str2));        <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"equalsæ¯”è¾ƒ: "</span> + str1.equals(str2));   <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// é™·é˜±2ï¼šç©ºå­—ç¬¦ä¸²åˆ¤æ–­</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">nullStr</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">emptyStr</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
        <span class="hljs-comment">// é”™è¯¯æ–¹å¼</span>
        <span class="hljs-comment">// System.out.println(nullStr.isEmpty()); // NullPointerException</span>
        
        <span class="hljs-comment">// æ­£ç¡®æ–¹å¼</span>
        System.out.println(<span class="hljs-string">"nullåˆ¤æ–­: "</span> + (nullStr == <span class="hljs-literal">null</span> || nullStr.isEmpty()));
        System.out.println(<span class="hljs-string">"ç©ºä¸²åˆ¤æ–­: "</span> + (emptyStr == <span class="hljs-literal">null</span> || emptyStr.isEmpty()));
        
        <span class="hljs-comment">// æ›´å¥½çš„æ–¹å¼ï¼ˆJDK 8+ï¼‰</span>
        System.out.println(<span class="hljs-string">"ä½¿ç”¨å·¥å…·ç±»: "</span> + isBlank(nullStr));
        System.out.println(<span class="hljs-string">"ä½¿ç”¨å·¥å…·ç±»: "</span> + isBlank(emptyStr));
        System.out.println(<span class="hljs-string">"ä½¿ç”¨å·¥å…·ç±»: "</span> + isBlank(<span class="hljs-string">"  "</span>));
        
        <span class="hljs-comment">// é™·é˜±3ï¼šå¾ªç¯ä¸­çš„å­—ç¬¦ä¸²æ‹¼æ¥</span>
        <span class="hljs-comment">// é”™è¯¯æ–¹å¼ï¼ˆæ€§èƒ½å·®ï¼‰</span>
        badStringConcat();
        
        <span class="hljs-comment">// æ­£ç¡®æ–¹å¼ï¼ˆæ€§èƒ½å¥½ï¼‰</span>
        goodStringConcat();
        
        <span class="hljs-comment">// é™·é˜±4ï¼šsplitæ–¹æ³•çš„ç‰¹æ®Šå­—ç¬¦</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> <span class="hljs-string">"C:\\Users\\Documents\\file.txt"</span>;
        <span class="hljs-comment">// é”™è¯¯æ–¹å¼</span>
        <span class="hljs-comment">// String[] parts = path.split("\\"); // å¼‚å¸¸</span>
        
        <span class="hljs-comment">// æ­£ç¡®æ–¹å¼</span>
        String[] parts = path.split(<span class="hljs-string">"\\\\"</span>);  <span class="hljs-comment">// éœ€è¦åŒé‡è½¬ä¹‰</span>
        System.out.println(<span class="hljs-string">"è·¯å¾„åˆ†å‰²: "</span> + Arrays.toString(parts));
    }
    
    <span class="hljs-comment">// åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºæˆ–åªåŒ…å«ç©ºç™½å­—ç¬¦</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isBlank</span><span class="hljs-params">(String str)</span> {
        <span class="hljs-keyword">return</span> str == <span class="hljs-literal">null</span> || str.trim().isEmpty();
    }
    
    <span class="hljs-comment">// é”™è¯¯çš„å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">badStringConcat</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
            result += <span class="hljs-string">"ç¬¬"</span> + i + <span class="hljs-string">"æ¬¡æ‹¼æ¥;"</span>;
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"é”™è¯¯æ‹¼æ¥è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
    }
    
    <span class="hljs-comment">// æ­£ç¡®çš„å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">goodStringConcat</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
            sb.append(<span class="hljs-string">"ç¬¬"</span>).append(i).append(<span class="hljs-string">"æ¬¡æ‹¼æ¥;"</span>);
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> sb.toString();
        <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"æ­£ç¡®æ‹¼æ¥è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
    }
}
</code></pre>
<h4 data-id="heading-32">6.3 å®ç”¨å·¥å…·æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å­—ç¬¦ä¸²å¤„ç†å·¥å…·ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringUtils</span> {
    
    <span class="hljs-comment">// åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºæˆ–null</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isEmpty</span><span class="hljs-params">(String str)</span> {
        <span class="hljs-keyword">return</span> str == <span class="hljs-literal">null</span> || str.length() == <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-comment">// åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºã€nullæˆ–åªåŒ…å«ç©ºç™½å­—ç¬¦</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isBlank</span><span class="hljs-params">(String str)</span> {
        <span class="hljs-keyword">return</span> str == <span class="hljs-literal">null</span> || str.trim().length() == <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-comment">// å®‰å…¨çš„å­—ç¬¦ä¸²æˆªå–</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">safeSubstring</span><span class="hljs-params">(String str, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> {
        <span class="hljs-keyword">if</span> (isEmpty(str)) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        }
        <span class="hljs-keyword">if</span> (start &lt; <span class="hljs-number">0</span>) start = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (end &gt; str.length()) end = str.length();
        <span class="hljs-keyword">if</span> (start &gt;= end) <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        
        <span class="hljs-keyword">return</span> str.substring(start, end);
    }
    
    <span class="hljs-comment">// é‡å¤å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">repeat</span><span class="hljs-params">(String str, <span class="hljs-type">int</span> count)</span> {
        <span class="hljs-keyword">if</span> (isEmpty(str) || count &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        }
        
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; count; i++) {
            sb.append(str);
        }
        <span class="hljs-keyword">return</span> sb.toString();
    }
    
    <span class="hljs-comment">// é¦–å­—æ¯å¤§å†™</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">capitalize</span><span class="hljs-params">(String str)</span> {
        <span class="hljs-keyword">if</span> (isEmpty(str)) {
            <span class="hljs-keyword">return</span> str;
        }
        <span class="hljs-keyword">return</span> str.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>).toUpperCase() + str.substring(<span class="hljs-number">1</span>).toLowerCase();
    }
    
    <span class="hljs-comment">// é©¼å³°å‘½åè½¬ä¸‹åˆ’çº¿</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">camelToUnderscore</span><span class="hljs-params">(String camelCase)</span> {
        <span class="hljs-keyword">if</span> (isEmpty(camelCase)) {
            <span class="hljs-keyword">return</span> camelCase;
        }
        
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; camelCase.length(); i++) {
            <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> camelCase.charAt(i);
            <span class="hljs-keyword">if</span> (Character.isUpperCase(c) &amp;&amp; i &gt; <span class="hljs-number">0</span>) {
                sb.append(<span class="hljs-string">'_'</span>);
            }
            sb.append(Character.toLowerCase(c));
        }
        <span class="hljs-keyword">return</span> sb.toString();
    }
    
    <span class="hljs-comment">// ä¸‹åˆ’çº¿è½¬é©¼å³°å‘½å</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">underscoreToCamel</span><span class="hljs-params">(String underscore)</span> {
        <span class="hljs-keyword">if</span> (isEmpty(underscore)) {
            <span class="hljs-keyword">return</span> underscore;
        }
        
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-type">boolean</span> <span class="hljs-variable">nextUpper</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; underscore.length(); i++) {
            <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> underscore.charAt(i);
            <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'_'</span>) {
                nextUpper = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (nextUpper) {
                    sb.append(Character.toUpperCase(c));
                    nextUpper = <span class="hljs-literal">false</span>;
                } <span class="hljs-keyword">else</span> {
                    sb.append(Character.toLowerCase(c));
                }
            }
        }
        <span class="hljs-keyword">return</span> sb.toString();
    }
    
    <span class="hljs-comment">// æµ‹è¯•å·¥å…·æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"isEmptyæµ‹è¯•: "</span> + isEmpty(<span class="hljs-string">""</span>));           <span class="hljs-comment">// true</span>
        System.out.println(<span class="hljs-string">"isEmptyæµ‹è¯•: "</span> + isEmpty(<span class="hljs-string">" "</span>));          <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"isBlankæµ‹è¯•: "</span> + isBlank(<span class="hljs-string">" "</span>));          <span class="hljs-comment">// true</span>
        
        System.out.println(<span class="hljs-string">"é‡å¤å­—ç¬¦ä¸²: "</span> + repeat(<span class="hljs-string">"abc"</span>, <span class="hljs-number">3</span>));        <span class="hljs-comment">// "abcabcabc"</span>
        System.out.println(<span class="hljs-string">"é¦–å­—æ¯å¤§å†™: "</span> + capitalize(<span class="hljs-string">"hello"</span>));     <span class="hljs-comment">// "Hello"</span>
        
        System.out.println(<span class="hljs-string">"é©¼å³°è½¬ä¸‹åˆ’çº¿: "</span> + camelToUnderscore(<span class="hljs-string">"userName"</span>));     <span class="hljs-comment">// "user_name"</span>
        System.out.println(<span class="hljs-string">"ä¸‹åˆ’çº¿è½¬é©¼å³°: "</span> + underscoreToCamel(<span class="hljs-string">"user_name"</span>));    <span class="hljs-comment">// "userName"</span>
    }
}
</code></pre>
<h3 data-id="heading-33">7. å­—ç¬¦ä¸²å¸¸é‡æ± å’Œintern()æ–¹æ³•</h3>
<h4 data-id="heading-34">7.1 å­—ç¬¦ä¸²å¸¸é‡æ± æ¦‚å¿µ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å­—ç¬¦ä¸²å¸¸é‡æ± ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringPoolDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// å­—ç¬¦ä¸²å­—é¢é‡å­˜å‚¨åœ¨å¸¸é‡æ± ä¸­</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str1</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;
        System.out.println(<span class="hljs-string">"å­—é¢é‡ç›¸ç­‰: "</span> + (str1 == str2));  <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// new String()åˆ›å»ºåœ¨å †ä¸­</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"Hello"</span>);
        System.out.println(<span class="hljs-string">"å­—é¢é‡ä¸newæ¯”è¾ƒ: "</span> + (str1 == str3));  <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"å†…å®¹æ¯”è¾ƒ: "</span> + str1.equals(str3));        <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// intern()æ–¹æ³•çš„ä½¿ç”¨</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str4</span> <span class="hljs-operator">=</span> str3.intern();
        System.out.println(<span class="hljs-string">"internåæ¯”è¾ƒ: "</span> + (str1 == str4));      <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// å­—ç¬¦ä¸²æ‹¼æ¥</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str5</span> <span class="hljs-operator">=</span> <span class="hljs-string">"He"</span> + <span class="hljs-string">"llo"</span>;  <span class="hljs-comment">// ç¼–è¯‘æ—¶ä¼˜åŒ–ä¸º"Hello"</span>
        System.out.println(<span class="hljs-string">"ç¼–è¯‘æ—¶æ‹¼æ¥: "</span> + (str1 == str5));         <span class="hljs-comment">// true</span>
        
        <span class="hljs-type">String</span> <span class="hljs-variable">prefix</span> <span class="hljs-operator">=</span> <span class="hljs-string">"He"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">str6</span> <span class="hljs-operator">=</span> prefix + <span class="hljs-string">"llo"</span>;  <span class="hljs-comment">// è¿è¡Œæ—¶æ‹¼æ¥</span>
        System.out.println(<span class="hljs-string">"è¿è¡Œæ—¶æ‹¼æ¥: "</span> + (str1 == str6));         <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"internè¿è¡Œæ—¶æ‹¼æ¥: "</span> + (str1 == str6.intern())); <span class="hljs-comment">// true</span>
    }
}
</code></pre>
<h4 data-id="heading-35">7.2 å†…å­˜åˆ†æ</h4>
<pre><code class="hljs language-arduino" lang="arduino">å †å†…å­˜:
â”œâ”€â”€ å­—ç¬¦ä¸²å¸¸é‡æ± 
â”‚   â””â”€â”€ <span class="hljs-string">"Hello"</span> (str1, str2, str4æŒ‡å‘è¿™é‡Œ)
â””â”€â”€ æ™®é€šå¯¹è±¡åŒº
    â””â”€â”€ <span class="hljs-type">String</span>å¯¹è±¡ (str3æŒ‡å‘è¿™é‡Œï¼Œå†…å®¹ä¸º<span class="hljs-string">"Hello"</span>)
</code></pre>
<h3 data-id="heading-36">8. æ€»ç»“</h3>
<h4 data-id="heading-37">8.1 æ ¸å¿ƒè¦ç‚¹</h4>
<ol>
<li>
<p><strong>Stringç±»</strong>ï¼š</p>
<ul>
<li>ä¸å¯å˜å­—ç¬¦ä¸²ï¼Œçº¿ç¨‹å®‰å…¨</li>
<li>é€‚åˆå°‘é‡å­—ç¬¦ä¸²æ“ä½œ</li>
<li>æä¾›ä¸°å¯Œçš„å­—ç¬¦ä¸²å¤„ç†æ–¹æ³•</li>
</ul>
</li>
<li>
<p><strong>StringBufferç±»</strong>ï¼š</p>
<ul>
<li>å¯å˜å­—ç¬¦ä¸²ç¼“å†²åŒºï¼Œçº¿ç¨‹å®‰å…¨</li>
<li>é€‚åˆå¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å­—ç¬¦ä¸²æ„å»º</li>
<li>æ€§èƒ½ä¸­ç­‰</li>
</ul>
</li>
<li>
<p><strong>StringBuilderç±»</strong>ï¼š</p>
<ul>
<li>å¯å˜å­—ç¬¦ä¸²ç¼“å†²åŒºï¼Œçº¿ç¨‹ä¸å®‰å…¨</li>
<li>é€‚åˆå•çº¿ç¨‹ç¯å¢ƒä¸‹çš„å¤§é‡å­—ç¬¦ä¸²æ“ä½œ</li>
<li>æ€§èƒ½æœ€ä½³</li>
</ul>
</li>
</ol>
<h4 data-id="heading-38">8.2 ä½¿ç”¨å»ºè®®</h4>



































<table><thead><tr><th>ä½¿ç”¨åœºæ™¯</th><th>æ¨èç±»å‹</th><th>ç†ç”±</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²å¸¸é‡æˆ–å¾ˆå°‘ä¿®æ”¹</td><td>String</td><td>ä¸å¯å˜æ€§ï¼Œç®€å•ç›´è§‚</td></tr><tr><td>å•çº¿ç¨‹é¢‘ç¹æ‹¼æ¥</td><td>StringBuilder</td><td>æ€§èƒ½æœ€ä½³</td></tr><tr><td>å¤šçº¿ç¨‹ç¯å¢ƒæ‹¼æ¥</td><td>StringBuffer</td><td>çº¿ç¨‹å®‰å…¨</td></tr><tr><td>æ ¼å¼åŒ–è¾“å‡º</td><td>String.format</td><td>åŠŸèƒ½å¼ºå¤§</td></tr><tr><td>å¤§é‡å­—ç¬¦ä¸²å¤„ç†</td><td>StringBuilder + å·¥å…·æ–¹æ³•</td><td>æ•ˆç‡å’Œå¯ç»´æŠ¤æ€§</td></tr></tbody></table>
<h4 data-id="heading-39">8.3 æ€§èƒ½ä¼˜åŒ–æ€»ç»“</h4>
<ol>
<li><strong>é¿å…åœ¨å¾ªç¯ä¸­ä½¿ç”¨Stringæ‹¼æ¥</strong></li>
<li><strong>é¢„ä¼°StringBuilderçš„åˆå§‹å®¹é‡</strong></li>
<li><strong>ä½¿ç”¨StringBuilderçš„é“¾å¼è°ƒç”¨</strong></li>
<li><strong>åˆç†ä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡æ± </strong></li>
<li><strong>é€‰æ‹©åˆé€‚çš„å­—ç¬¦ä¸²æ¯”è¾ƒæ–¹æ³•</strong></li>
</ol>
<p>å­—ç¬¦ä¸²å¤„ç†æ˜¯Javaç¼–ç¨‹ä¸­çš„åŸºç¡€æŠ€èƒ½ï¼Œæ­£ç¡®ç†è§£å’Œä½¿ç”¨è¿™ä¸‰ä¸ªç±»ï¼Œèƒ½å¤Ÿå†™å‡ºæ›´é«˜æ•ˆã€æ›´å®‰å…¨çš„ä»£ç ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ ¹æ®å…·ä½“åœºæ™¯é€‰æ‹©åˆé€‚çš„å­—ç¬¦ä¸²å¤„ç†æ–¹å¼ï¼Œæ˜¯æ¯ä¸ªJavaå¼€å‘è€…å¿…é¡»æŒæ¡çš„æŠ€èƒ½ã€‚</p>
<hr/>
<p><em>æœ¬æ–‡å…¨é¢ä»‹ç»äº†Javaå­—ç¬¦ä¸²å¤„ç†çš„æ ¸å¿ƒç±»å’Œæ–¹æ³•ï¼ŒåŒ…æ‹¬è¯¦ç»†çš„APIè¯´æ˜ã€æ€§èƒ½å¯¹æ¯”ã€æœ€ä½³å®è·µå’Œå®ç”¨å·¥å…·ï¼Œå¸Œæœ›å¯¹Javaå­—ç¬¦ä¸²ç¼–ç¨‹æœ‰æ‰€å¸®åŠ©ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChainæ ¸å¿ƒç»„ä»¶å¯ç”¨å·¥å…·]]></title>    <link>https://juejin.cn/post/7591801024009650185</link>    <guid>https://juejin.cn/post/7591801024009650185</guid>    <pubDate>2026-01-06T03:06:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591801024009650185" data-draft-id="7591800417254768649" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChainæ ¸å¿ƒç»„ä»¶å¯ç”¨å·¥å…·"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-06T03:06:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“”å“”é¾™"/> <meta itemprop="url" content="https://juejin.cn/user/4371313960946280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChainæ ¸å¿ƒç»„ä»¶å¯ç”¨å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4371313960946280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“”å“”é¾™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T03:06:49.000Z" title="Tue Jan 06 2026 03:06:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>LangChain æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åº”ç”¨çš„æ¡†æ¶ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œ<strong>ç»„åˆå¯å¤ç”¨çš„ç»„ä»¶</strong>â€æ¥æ„å»ºå¤æ‚é“¾å¼é€»è¾‘ã€‚LangChain çš„æ¶æ„æ¨¡å—åŒ–æ¸…æ™°ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ <strong>å…­å¤§æ ¸å¿ƒç»„ä»¶</strong>ï¼š</p>
<hr/>
<h2 data-id="heading-0">ğŸ§© ä¸€ã€LangChain å…­å¤§æ ¸å¿ƒç»„ä»¶æ¦‚è§ˆ</h2>








































<table><thead><tr><th>ç»„ä»¶</th><th>åŠŸèƒ½è¯´æ˜</th><th>ä¸»è¦å­æ¨¡å—/å·¥å…·</th></tr></thead><tbody><tr><td>1. <strong>Modelsï¼ˆæ¨¡å‹ï¼‰</strong></td><td>è°ƒç”¨ LLM æˆ– Embedding æ¨¡å‹</td><td><code>ChatOpenAI</code>, <code>HuggingFaceLLM</code>, <code>Ollama</code>, <code>AzureChatOpenAI</code> ç­‰</td></tr><tr><td>2. <strong>Promptsï¼ˆæç¤ºï¼‰</strong></td><td>æ„å»ºå’Œç®¡ç†æç¤ºæ¨¡æ¿</td><td><code>PromptTemplate</code>, <code>ChatPromptTemplate</code>, <code>FewShotPromptTemplate</code></td></tr><tr><td>3. <strong>Chainsï¼ˆé“¾ï¼‰</strong></td><td>ç»„åˆå¤šä¸ªæ­¥éª¤å½¢æˆå·¥ä½œæµ</td><td><code>LLMChain</code>, <code>RetrievalQA</code>, <code>ConversationalRetrievalChain</code>, <code>SequentialChain</code></td></tr><tr><td>4. <strong>Memoryï¼ˆè®°å¿†ï¼‰</strong></td><td>åœ¨å¯¹è¯ä¸­ä¿æŒä¸Šä¸‹æ–‡çŠ¶æ€</td><td><code>ConversationBufferMemory</code>, <code>ConversationSummaryMemory</code>, <code>RedisChatMessageHistory</code></td></tr><tr><td>5. <strong>Indexes &amp; Retrieversï¼ˆç´¢å¼•ä¸æ£€ç´¢å™¨ï¼‰</strong></td><td>æ–‡æ¡£åŠ è½½ã€åˆ‡åˆ†ã€å‘é‡åŒ–ã€æ£€ç´¢</td><td><code>Document Loaders</code>, <code>Text Splitters</code>, <code>Vectorstores</code>, <code>Retrievers</code></td></tr><tr><td>6. <strong>Agentsï¼ˆä»£ç†ï¼‰</strong></td><td>è®© LLM è°ƒç”¨å·¥å…·è‡ªä¸»å†³ç­–</td><td><code>Zero-shot ReAct Agent</code>, <code>Self-ask Agent</code>, <code>Tool</code>ï¼ˆå¦‚æœç´¢ã€è®¡ç®—å™¨ç­‰ï¼‰</td></tr></tbody></table>
<hr/>
<p>ä¸‹é¢å¯¹æ¯ä¸ªç»„ä»¶è¿›è¡Œ <strong>è¯¦ç»†å±•å¼€ + å¯ç”¨å·¥å…· + ä¼˜ç¼ºç‚¹å¯¹æ¯”</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">1ï¸âƒ£ Modelsï¼ˆæ¨¡å‹ï¼‰</h2>
<h3 data-id="heading-2">âœ… åŠŸèƒ½</h3>
<ul>
<li>å°è£… LLMï¼ˆç”Ÿæˆï¼‰å’Œ Embeddingï¼ˆå‘é‡åŒ–ï¼‰æ¨¡å‹çš„è°ƒç”¨æ¥å£ã€‚</li>
<li>ç»Ÿä¸€ APIï¼Œæ”¯æŒåˆ‡æ¢ä¸åŒåç«¯ã€‚</li>
</ul>
<h3 data-id="heading-3">ğŸ”§ å¸¸ç”¨å·¥å…·ï¼ˆæŒ‰ç±»å‹ï¼‰</h3>
<h4 data-id="heading-4">A. <strong>Chat/Completion Models</strong></h4>



































<table><thead><tr><th>å·¥å…·</th><th>æ‰€å±åŒ…</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>ChatOpenAI</code></td><td><code>langchain_openai</code></td><td>OpenAI GPT ç³»åˆ—ï¼ˆgpt-4, gpt-3.5-turboï¼‰</td></tr><tr><td><code>ChatAnthropic</code></td><td><code>langchain_anthropic</code></td><td>Claude ç³»åˆ—</td></tr><tr><td><code>ChatOllama</code></td><td><code>langchain_ollama</code></td><td>æœ¬åœ°è¿è¡Œå¼€æºæ¨¡å‹ï¼ˆLlama3, Mistral ç­‰ï¼‰</td></tr><tr><td><code>HuggingFacePipeline</code></td><td><code>langchain_huggingface</code></td><td>æœ¬åœ° Hugging Face Transformers æ¨¡å‹</td></tr><tr><td><code>AzureChatOpenAI</code></td><td><code>langchain_openai</code></td><td>Azure OpenAI æœåŠ¡</td></tr></tbody></table>
<h4 data-id="heading-5">B. <strong>Embedding Models</strong></h4>





















<table><thead><tr><th>å·¥å…·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>OpenAIEmbeddings</code></td><td>OpenAI text-embedding-ada-002</td></tr><tr><td><code>HuggingFaceEmbeddings</code></td><td>å¼€æºæ¨¡å‹ï¼ˆå¦‚ all-MiniLM-L6-v2ï¼‰</td></tr><tr><td><code>OllamaEmbeddings</code></td><td>é€šè¿‡ Ollama ä½¿ç”¨æœ¬åœ°åµŒå…¥æ¨¡å‹</td></tr></tbody></table>
<h3 data-id="heading-6">âš–ï¸ ä¼˜ç¼ºç‚¹å¯¹æ¯”</h3>

























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>OpenAI / Anthropic</strong></td><td>æ•ˆæœå¥½ã€API ç¨³å®šã€ä½å»¶è¿Ÿ</td><td>ä»˜è´¹ã€éœ€ç½‘ç»œã€æ•°æ®éšç§é£é™©</td></tr><tr><td><strong>Ollama / HuggingFaceï¼ˆæœ¬åœ°ï¼‰</strong></td><td>æ•°æ®ç§æœ‰ã€å…è´¹ã€å¯ç¦»çº¿</td><td>éœ€ GPU/CPU èµ„æºã€éƒ¨ç½²å¤æ‚ã€æ•ˆæœç•¥å¼±</td></tr><tr><td><strong>Azure OpenAI</strong></td><td>ä¼ä¸šåˆè§„ã€ç§æœ‰éƒ¨ç½²é€‰é¡¹</td><td>é…ç½®å¤æ‚ã€æˆæœ¬é«˜</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>å»ºè®®</strong>ï¼šå¼€å‘é˜¶æ®µç”¨ OpenAI å¿«é€ŸéªŒè¯ï¼Œç”Ÿäº§ç¯å¢ƒè€ƒè™‘ Ollama + å¼€æºæ¨¡å‹ä¿å®‰å…¨ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">2ï¸âƒ£ Promptsï¼ˆæç¤ºæ¨¡æ¿ï¼‰</h2>
<h3 data-id="heading-8">âœ… åŠŸèƒ½</h3>
<ul>
<li>ç»“æ„åŒ–æ„å»ºæç¤ºï¼Œæ”¯æŒå˜é‡æ³¨å…¥ã€ç¤ºä¾‹å¡«å……ã€å¤šè½®å¯¹è¯æ ¼å¼ã€‚</li>
</ul>
<h3 data-id="heading-9">ğŸ”§ å¸¸ç”¨å·¥å…·</h3>
<ul>
<li><code>PromptTemplate</code>ï¼šåŸºç¡€å­—ç¬¦ä¸²æ¨¡æ¿</li>
<li><code>ChatPromptTemplate</code>ï¼šæ”¯æŒ <code>HumanMessage</code> / <code>AIMessage</code> æ ¼å¼ï¼ˆæ¨èç”¨äºèŠå¤©æ¨¡å‹ï¼‰</li>
<li><code>FewShotPromptTemplate</code>ï¼šå¸¦å°‘é‡ç¤ºä¾‹çš„æç¤ºï¼ˆæå‡å°æ¨¡å‹æ•ˆæœï¼‰</li>
<li><code>PipelinePromptTemplate</code>ï¼šç»„åˆå¤šä¸ªå­æ¨¡æ¿</li>
</ul>
<h3 data-id="heading-10">âš–ï¸ ä¼˜ç¼ºç‚¹</h3>

























<table><thead><tr><th>ç±»å‹</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><code>PromptTemplate</code></td><td>ç®€å•ç›´æ¥</td><td>ä¸é€‚åˆèŠå¤©æ¨¡å‹</td></tr><tr><td><code>ChatPromptTemplate</code></td><td>ç¬¦åˆç°ä»£ LLM å¯¹è¯æ ¼å¼ï¼Œæ”¯æŒç³»ç»Ÿæ¶ˆæ¯</td><td>ç•¥å¤æ‚</td></tr><tr><td><code>FewShot...</code></td><td>æå‡ zero-shot æ€§èƒ½</td><td>å ç”¨ tokenï¼Œæˆæœ¬é«˜</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>æœ€ä½³å®è·µ</strong>ï¼šå§‹ç»ˆä½¿ç”¨ <code>ChatPromptTemplate</code> + <code>SystemMessage</code> å®šä¹‰è§’è‰²ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-11">3ï¸âƒ£ Chainsï¼ˆé“¾ï¼‰</h2>
<h3 data-id="heading-12">âœ… åŠŸèƒ½</h3>
<ul>
<li>å°†å¤šä¸ªæ“ä½œï¼ˆå¦‚ prompt â†’ LLM â†’ parse â†’ call toolï¼‰ä¸²è”æˆ pipelineã€‚</li>
</ul>
<h3 data-id="heading-13">ğŸ”§ å¸¸ç”¨ Chain</h3>





























<table><thead><tr><th>Chain</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>LLMChain</code></td><td>æœ€åŸºç¡€ï¼šprompt + LLM</td></tr><tr><td><code>RetrievalQA</code></td><td>RAGï¼šæ£€ç´¢ + é—®ç­”</td></tr><tr><td><code>ConversationalRetrievalChain</code></td><td>å¸¦å†å²çš„ RAG</td></tr><tr><td><code>SequentialChain</code> / <code>SimpleSequentialChain</code></td><td>å¤šæ­¥éª¤é¡ºåºæ‰§è¡Œ</td></tr><tr><td><code>TransformChain</code></td><td>è‡ªå®šä¹‰å‡½æ•°å¤„ç†è¾“å…¥/è¾“å‡º</td></tr></tbody></table>
<h3 data-id="heading-14">âš–ï¸ ä¼˜ç¼ºç‚¹</h3>

























<table><thead><tr><th>Chain</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><code>RetrievalQA</code></td><td>å¼€ç®±å³ç”¨ RAG</td><td>æ— æ³•ç²¾ç»†æ§åˆ¶æ£€ç´¢-ç”Ÿæˆäº¤äº’</td></tr><tr><td><code>ConversationalRetrievalChain</code></td><td>æ”¯æŒå¯¹è¯å†å²</td><td>å†…å­˜æ¶ˆè€—å¤§</td></tr><tr><td>è‡ªå®šä¹‰ Chain</td><td>çµæ´»</td><td>éœ€æ‰‹åŠ¨ç¼–å†™é€»è¾‘</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ LangChain Expression Languageï¼ˆLCELï¼‰æ­£åœ¨å–ä»£ä¼ ç»Ÿ Chainï¼Œæ›´çµæ´»ï¼ˆè§ v0.1+ï¼‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-15">4ï¸âƒ£ Memoryï¼ˆè®°å¿†ï¼‰</h2>
<h3 data-id="heading-16">âœ… åŠŸèƒ½</h3>
<ul>
<li>åœ¨å¤šè½®å¯¹è¯ä¸­ä¿å­˜ä¸Šä¸‹æ–‡ï¼Œé¿å… LLM â€œå¤±å¿†â€ã€‚</li>
</ul>
<h3 data-id="heading-17">ğŸ”§ å¸¸ç”¨ Memory ç±»å‹</h3>

























<table><thead><tr><th>Memory</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><code>ConversationBufferMemory</code></td><td>ä¿å­˜å…¨éƒ¨å†å²ï¼ˆç®€å•ä½†å  tokenï¼‰</td></tr><tr><td><code>ConversationSummaryMemory</code></td><td>ç”¨ LLM å‹ç¼©å†å²ä¸ºæ‘˜è¦</td></tr><tr><td><code>ConversationBufferWindowMemory</code></td><td>åªä¿ç•™æœ€è¿‘ N è½®</td></tr><tr><td><code>RedisChatMessageHistory</code></td><td>å¤–éƒ¨å­˜å‚¨ï¼ˆæ”¯æŒå¤šç”¨æˆ·ä¼šè¯æŒä¹…åŒ–ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-18">âš–ï¸ ä¼˜ç¼ºç‚¹</h3>






























<table><thead><tr><th>ç±»å‹</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>Buffer</td><td>ç²¾ç¡®è¿˜åŸä¸Šä¸‹æ–‡</td><td>token æˆæœ¬é«˜ï¼Œé•¿å¯¹è¯å¤±æ•ˆ</td></tr><tr><td>Summary</td><td>èŠ‚çœ token</td><td>æ‘˜è¦å¯èƒ½ä¸¢å¤±ç»†èŠ‚</td></tr><tr><td>Window</td><td>å¹³è¡¡</td><td>å¯èƒ½åˆ‡æ–­å…³é”®ä¸Šä¸‹æ–‡</td></tr><tr><td>Redis/DB</td><td>å¯æ‰©å±•ã€å¤šç”¨æˆ·</td><td>éœ€é¢å¤–åŸºç¡€è®¾æ–½</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>ç”Ÿäº§å»ºè®®</strong>ï¼šç”¨ <code>Window</code> + å¤–éƒ¨å­˜å‚¨ï¼ˆå¦‚ Redisï¼‰ç»„åˆã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-19">5ï¸âƒ£ Indexes &amp; Retrieversï¼ˆç´¢å¼•ä¸æ£€ç´¢ï¼‰</h2>
<h3 data-id="heading-20">âœ… åŠŸèƒ½</h3>
<ul>
<li>ä»éç»“æ„åŒ–æ•°æ®ï¼ˆPDFã€MDã€ç½‘é¡µç­‰ï¼‰æ„å»ºå¯æ£€ç´¢çš„çŸ¥è¯†åº“ã€‚</li>
</ul>
<h3 data-id="heading-21">ğŸ”§ å­ç»„ä»¶ä¸å·¥å…·</h3>
<h4 data-id="heading-22">A. <strong>Document Loaders</strong></h4>
<ul>
<li><code>TextLoader</code>, <code>UnstructuredMarkdownLoader</code>, <code>PyPDFLoader</code>, <code>WebBaseLoader</code>, <code>DirectoryLoader</code></li>
</ul>
<h4 data-id="heading-23">B. <strong>Text Splitters</strong></h4>
<ul>
<li><code>RecursiveCharacterTextSplitter</code>ï¼ˆæœ€å¸¸ç”¨ï¼‰</li>
<li><code>MarkdownHeaderTextSplitter</code>ï¼ˆä¿ç•™æ ‡é¢˜ç»“æ„ï¼‰</li>
<li><code>TokenTextSplitter</code>ï¼ˆæŒ‰ token åˆ‡åˆ†ï¼‰</li>
</ul>
<h4 data-id="heading-24">C. <strong>Vectorstoresï¼ˆå‘é‡æ•°æ®åº“ï¼‰</strong></h4>
<ul>
<li><code>FAISS</code>, <code>Chroma</code>, <code>Qdrant</code>, <code>Pinecone</code>, <code>Weaviate</code>ï¼ˆè§å‰æ–‡å¯¹æ¯”ï¼‰</li>
</ul>
<h4 data-id="heading-25">D. <strong>Retrievers</strong></h4>
<ul>
<li><code>vectorstore.as_retriever()</code></li>
<li><code>MultiQueryRetriever</code>ï¼ˆç”Ÿæˆå¤šä¸ªæŸ¥è¯¢æå‡å¬å›ï¼‰</li>
<li><code>ContextualCompressionRetriever</code>ï¼ˆå‹ç¼©å†—ä½™å†…å®¹ï¼‰</li>
</ul>
<h3 data-id="heading-26">âš–ï¸ ä¼˜ç¼ºç‚¹ï¼ˆæ•´ä½“æµç¨‹ï¼‰</h3>






























<table><thead><tr><th>ç¯èŠ‚</th><th>æŒ‘æˆ˜</th><th>ä¼˜åŒ–å»ºè®®</th></tr></thead><tbody><tr><td>åŠ è½½</td><td>æ ¼å¼å…¼å®¹æ€§å·®</td><td>ä¼˜å…ˆç”¨ <code>unstructured</code></td></tr><tr><td>åˆ‡åˆ†</td><td>è¯­ä¹‰æ–­è£‚</td><td>ç”¨ <code>MarkdownHeaderTextSplitter</code> + overlap</td></tr><tr><td>å‘é‡åº“</td><td>è¿‡æ»¤èƒ½åŠ›å¼±ï¼ˆå¦‚ FAISSï¼‰</td><td>é€‰ Qdrant/Pinecone æ”¯æŒ metadata filter</td></tr><tr><td>æ£€ç´¢</td><td>å¬å›ç‡ä½</td><td>ç”¨ <code>MultiQueryRetriever</code> + é‡æ’åºï¼ˆCohereRerankï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-27">6ï¸âƒ£ Agentsï¼ˆä»£ç†ï¼‰</h2>
<h3 data-id="heading-28">âœ… åŠŸèƒ½</h3>
<ul>
<li>è®© LLM <strong>è‡ªä¸»å†³å®šæ˜¯å¦è°ƒç”¨å·¥å…·</strong>ï¼ˆå¦‚æœç´¢ã€è®¡ç®—ã€æŸ¥æ•°æ®åº“ï¼‰ï¼Œå®ç°åŠ¨æ€æ¨ç†ã€‚</li>
</ul>
<h3 data-id="heading-29">ğŸ”§ æ ¸å¿ƒç»„æˆ</h3>
<ul>
<li>
<p><strong>Agent Type</strong>ï¼š</p>
<ul>
<li><code>zero-shot-react-description</code>ï¼ˆæœ€å¸¸ç”¨ï¼‰</li>
<li><code>self-ask-with-search</code></li>
<li><code>conversational-react-description</code></li>
</ul>
</li>
<li>
<p><strong>Tools</strong>ï¼š</p>
<ul>
<li><code>DuckDuckGoSearchRun</code>ï¼ˆç½‘ç»œæœç´¢ï¼‰</li>
<li><code>WikipediaQueryRun</code></li>
<li><code>PythonREPLTool</code>ï¼ˆæ…ç”¨ï¼ï¼‰</li>
<li>è‡ªå®šä¹‰ Toolï¼ˆç»§æ‰¿ <code>BaseTool</code>ï¼‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-30">âš–ï¸ ä¼˜ç¼ºç‚¹</h3>

























<table><thead><tr><th>æ–¹é¢</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>èƒ½åŠ›</td><td>å¯è§£å†³å¤æ‚ã€å¼€æ”¾é—®é¢˜</td><td>æ‰§è¡Œæ…¢ï¼ˆå¤šè½® LLM è°ƒç”¨ï¼‰</td></tr><tr><td>å¯æ§æ€§</td><td>å¯é™åˆ¶å¯ç”¨å·¥å…·</td><td>LLM å¯èƒ½è¯¯ç”¨æˆ–æ­»å¾ªç¯</td></tr><tr><td>å®‰å…¨æ€§</td><td>â€”â€”</td><td>è‹¥å…è®¸ä»£ç æ‰§è¡Œï¼Œæœ‰å®‰å…¨é£é™©</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ <strong>ç”Ÿäº§å»ºè®®</strong>ï¼šä¸¥æ ¼é™åˆ¶å·¥å…·æƒé™ï¼Œé¿å… <code>PythonREPLTool</code>ï¼›ç”¨ <code>max_iterations</code> é˜²æ­¢æ­»å¾ªç¯ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-31">ğŸ“Œ æ€»ç»“ï¼šLangChain ç»„ä»¶é€‰å‹å»ºè®®</h2>

























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èé…ç½®</th></tr></thead><tbody><tr><td><strong>å¿«é€Ÿ RAG Demo</strong></td><td>Chroma + OpenAI + RetrievalQA + BufferMemory</td></tr><tr><td><strong>ä¼ä¸šç§æœ‰çŸ¥è¯†åº“</strong></td><td>Qdrant + Ollamaï¼ˆLlama3ï¼‰+ MarkdownHeaderTextSplitter + RedisMemory</td></tr><tr><td><strong>å¤šè½®æ™ºèƒ½å®¢æœ</strong></td><td>ConversationalRetrievalChain + WindowMemory + Pinecone</td></tr><tr><td><strong>å¤æ‚ä»»åŠ¡è‡ªåŠ¨åŒ–</strong></td><td>Agentï¼ˆReActï¼‰ + DuckDuckGo + è‡ªå®šä¹‰å®‰å…¨å·¥å…·</td></tr></tbody></table>
<hr/>
<p>LangChain çš„ä¼˜åŠ¿åœ¨äº <strong>é«˜åº¦æ¨¡å—åŒ–</strong>ï¼Œä½†ä¹Ÿå¸¦æ¥â€œé€‰æ‹©å›°éš¾â€ã€‚å»ºè®®ï¼š</p>
<ol>
<li>å…ˆç”¨é»˜è®¤ç»„åˆï¼ˆå¦‚ Chroma + OpenAIï¼‰è·‘é€šæµç¨‹ï¼›</li>
<li>å†æ ¹æ®æ€§èƒ½ã€æˆæœ¬ã€éšç§éœ€æ±‚é€æ­¥æ›¿æ¢ç»„ä»¶ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµ…è°ˆ import.meta.env å’Œ process.env çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7592062873829916722</link>    <guid>https://juejin.cn/post/7592062873829916722</guid>    <pubDate>2026-01-06T14:40:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592062873829916722" data-draft-id="7592251792629547035" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµ…è°ˆ import.meta.env å’Œ process.env çš„åŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Node.js"/> <meta itemprop="datePublished" content="2026-01-06T14:40:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åœ¨è¥¿å®‰ç‰§ç¾Šçš„ç‰›æ²¹æœ"/> <meta itemprop="url" content="https://juejin.cn/user/2946346894233133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµ…è°ˆ import.meta.env å’Œ process.env çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2946346894233133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åœ¨è¥¿å®‰ç‰§ç¾Šçš„ç‰›æ²¹æœ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T14:40:30.000Z" title="Tue Jan 06 2026 14:40:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯ä¸€ä¸ª<strong>å‰ç«¯æ„å»ºç¯å¢ƒé‡Œéå¸¸æ ¸å¿ƒã€ä¹Ÿéå¸¸å®¹æ˜“æ··æ·†çš„é—®é¢˜</strong>ã€‚ä¸‹é¢æˆ‘ä»¬ä»<strong>æ¥æºã€ä½¿ç”¨åœºæ™¯ã€ç¼–è¯‘æ—¶æœºã€å®‰å…¨æ€§</strong>å››ä¸ªç»´åº¦æ¥è°ˆè°ˆ <code>import.meta.env</code> å’Œ <code>process.env</code> çš„åŒºåˆ«ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€å¥è¯ç»“è®º</h2>
<blockquote>
<p><strong><code>process.env</code></strong> <strong>æ˜¯ Node.js çš„ç¯å¢ƒå˜é‡æ¥å£</strong> <strong><code>import.meta.env</code></strong> <strong>æ˜¯ Viteï¼ˆESMï¼‰åœ¨æ„å»ºæœŸæ³¨å…¥çš„å‰ç«¯ç¯å¢ƒå˜é‡</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ä¸€ã€<code>process.env</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-2">1ï¸âƒ£ æœ¬è´¨</h3>
<ul>
<li>æ¥è‡ª <strong>Node.js</strong></li>
<li>è¿è¡Œæ—¶è¯»å– <strong>æœåŠ¡å™¨ / æ„å»ºæœºçš„ç³»ç»Ÿç¯å¢ƒå˜é‡</strong></li>
<li>æœ¬èº« <strong>æµè§ˆå™¨é‡Œä¸å­˜åœ¨</strong></li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span>);
</code></pre>
<h3 data-id="heading-3">2ï¸âƒ£ ä½¿ç”¨åœºæ™¯</h3>
<ul>
<li>Node æœåŠ¡</li>
<li>æ„å»ºå·¥å…·ï¼ˆWebpack / Vite / Rollupï¼‰</li>
<li>SSRï¼ˆNode ç«¯ï¼‰</li>
</ul>
<h3 data-id="heading-4">3ï¸âƒ£ å‰ç«¯èƒ½ä¸èƒ½ç”¨ï¼Ÿ</h3>
<p>ğŸ‘‰ <strong>ä¸èƒ½ç›´æ¥ç”¨</strong></p>
<p>æµè§ˆå™¨é‡Œæ²¡æœ‰ <code>process</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æµè§ˆå™¨åŸç”Ÿç¯å¢ƒ âŒ</span>
<span class="hljs-title class_">Uncaught</span> <span class="hljs-title class_">ReferenceError</span>: process is not defined
</code></pre>
<h3 data-id="heading-5">4ï¸âƒ£ ä¸ºä»€ä¹ˆ Webpack é¡¹ç›®é‡Œèƒ½ç”¨ï¼Ÿ</h3>
<p>å› ä¸º <strong>Webpack å¸®ä½ â€œç¼–è¯‘æœŸæ›¿æ¢â€äº†</strong></p>
<pre><code class="hljs language-ts" lang="ts">process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span>
<span class="hljs-comment">// â¬‡ï¸ æ„å»ºæ—¶è¢«æ›¿æ¢æˆ</span>
<span class="hljs-string">"production"</span>
</code></pre>
<p>æœ¬è´¨æ˜¯ <strong>å­—ç¬¦ä¸²æ›¿æ¢</strong>ï¼Œä¸æ˜¯è¿è¡Œæ—¶è¯»å–ã€‚</p>
<hr/>
<h2 data-id="heading-6">äºŒã€<code>import.meta.env</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-7">1ï¸âƒ£ æœ¬è´¨</h3>
<ul>
<li><strong>Vite æä¾›</strong></li>
<li>åŸºäº <strong>ES Module çš„</strong> <strong><code>import.meta</code></strong></li>
<li><strong>æ„å»ºæœŸ + è¿è¡ŒæœŸå¯ç”¨ï¼ˆä½†å€¼æ˜¯æ„å»ºæœŸç¡®å®šçš„ï¼‰</strong></li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">MODE</span>);
</code></pre>
<h3 data-id="heading-8">2ï¸âƒ£ ç‰¹ç‚¹</h3>
<ul>
<li>æµè§ˆå™¨é‡Œ <strong>åŸç”Ÿæ”¯æŒ</strong></li>
<li>ä¸ä¾èµ– Node çš„ <code>process</code></li>
<li>æ›´ç¬¦åˆç°ä»£ ESM è§„èŒƒ</li>
</ul>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€ä¸¤è€…æ ¸å¿ƒåŒºåˆ«å¯¹æ¯”ï¼ˆé‡ç‚¹ï¼‰</h2>








































<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>process.env</strong></th><th><strong>import.meta.env</strong></th></tr></thead><tbody><tr><td>æ¥æº</td><td>Node.js</td><td>Vite</td></tr><tr><td>æ ‡å‡†</td><td>Node API</td><td>ESM æ ‡å‡†æ‰©å±•</td></tr><tr><td>æµè§ˆå™¨å¯ç”¨</td><td>âŒï¼ˆéœ€ç¼–è¯‘æ›¿æ¢ï¼‰</td><td>âœ…</td></tr><tr><td>æ³¨å…¥æ—¶æœº</td><td>æ„å»ºæœŸ</td><td>æ„å»ºæœŸ</td></tr><tr><td>æ˜¯å¦è¿è¡Œæ—¶è¯»å–</td><td>âŒ</td><td>âŒ</td></tr><tr><td>æ¨èå‰ç«¯ä½¿ç”¨</td><td>âŒ</td><td>âœ…</td></tr></tbody></table>
<p>âš ï¸ <strong>ä¸¤è€…éƒ½ä¸æ˜¯â€œå‰ç«¯è¿è¡Œæ—¶è¯»å–æœåŠ¡å™¨ç¯å¢ƒå˜é‡â€</strong></p>
<hr/>
<h2 data-id="heading-10">å››ã€Vite ä¸­ä¸ºä»€ä¹ˆä¸ç”¨ <code>process.env</code>ï¼Ÿ</h2>
<h3 data-id="heading-11">1ï¸âƒ£ å› ä¸º Vite ä¸å†é»˜è®¤æ³¨å…¥ <code>process</code></h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Vite é¡¹ç›®ä¸­ âŒ</span>
process.<span class="hljs-property">env</span>.<span class="hljs-property">API_URL</span>
</code></pre>
<p>ä¼šç›´æ¥æŠ¥é”™ã€‚</p>
<h3 data-id="heading-12">2ï¸âƒ£ å®˜æ–¹è®¾è®¡é€‰æ‹©</h3>
<ul>
<li>é¿å… Node å…¨å±€æ±¡æŸ“</li>
<li>æ›´è´´è¿‘æµè§ˆå™¨çœŸå®ç¯å¢ƒ</li>
<li>æ›´åˆ©äº Tree Shaking</li>
</ul>
<hr/>
<h2 data-id="heading-13">äº”ã€Vite ç¯å¢ƒå˜é‡çš„æ­£ç¡®ç”¨æ³•ï¼ˆéå¸¸é‡è¦ï¼‰</h2>
<h3 data-id="heading-14">1ï¸âƒ£ å¿…é¡»ä»¥ <code>VITE_</code> å¼€å¤´</h3>
<pre><code class="hljs language-ts" lang="ts"># .<span class="hljs-property">env</span>
<span class="hljs-variable constant_">VITE_API_URL</span>=<span class="hljs-attr">https</span>:<span class="hljs-comment">//api.example.com</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>);
</code></pre>
<p>âŒ å¦åˆ™ <strong>ä¸ä¼šæ³¨å…¥åˆ°å‰ç«¯</strong></p>
<hr/>
<h3 data-id="heading-15">2ï¸âƒ£ å†…ç½®å˜é‡</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">MODE</span>        <span class="hljs-comment">// development / production</span>
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span>         <span class="hljs-comment">// true / false</span>
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">PROD</span>        <span class="hljs-comment">// true / false</span>
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">BASE_URL</span>
</code></pre>
<hr/>
<h2 data-id="heading-16">å…­ã€å®‰å…¨æ€§</h2>
<h3 data-id="heading-17">âš ï¸ é‡è¦è­¦å‘Š</h3>
<blockquote>
<p><strong><code>import.meta.env</code></strong> <strong>é‡Œçš„å˜é‡ â‰  ç§å¯†</strong></p>
</blockquote>
<p>å®ƒä»¬ä¼šï¼š</p>
<ul>
<li>è¢« <strong>æ‰“è¿› JS Bundle</strong></li>
<li>å¯åœ¨ DevTools ç›´æ¥çœ‹åˆ°</li>
</ul>
<h3 data-id="heading-18">âŒ ä¸è¦è¿™æ ·åš</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-variable constant_">VITE_SECRET_KEY</span>=xxxx
</code></pre>
<h3 data-id="heading-19">âœ… æ­£ç¡®åšæ³•</h3>
<ul>
<li><strong>å‰ç«¯</strong>ï¼šåªæ”¾â€œå…¬å¼€é…ç½®â€ï¼ˆAPI åŸŸåã€å¼€å…³ï¼‰</li>
<li><strong>ç§å¯†å˜é‡</strong>ï¼šåªæ”¾åœ¨ <strong>Node / æœåŠ¡ç«¯</strong></li>
</ul>
<hr/>
<h2 data-id="heading-20">ä¸ƒã€SSR / å…¨æ ˆé¡¹ç›®é‡Œæ€ä¹ˆåŒºåˆ†ï¼Ÿ</h2>
<h3 data-id="heading-21">åœ¨ Vite + SSRï¼ˆå¦‚ Nuxt / è‡ªå»º SSRï¼‰ï¼š</h3>
<p>Node ç«¯</p>
<pre><code class="hljs language-ts" lang="ts">process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_PASSWORD</span>
</code></pre>
<p>æµè§ˆå™¨ç«¯</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>
</code></pre>
<p><strong>ä¸¤å¥—ç¯å¢ƒå˜é‡æ˜¯åˆ»æ„åˆ†å¼€çš„</strong>ã€‚</p>
<ol>
<li>
<h3 data-id="heading-22">ä¸ºä»€ä¹ˆå¿…é¡»åˆ†æˆä¸¤å¥—ï¼Ÿï¼ˆè®¾è®¡åŸå› ï¼‰</h3>
</li>
</ol>
<h4 data-id="heading-23">1ï¸âƒ£ æ‰§è¡Œç¯å¢ƒä¸åŒï¼ˆè¿™æ˜¯æ ¹å› ï¼‰</h4>




















<table><thead><tr><th><strong>ä½ç½®</strong></th><th><strong>è¿è¡Œåœ¨å“ª</strong></th><th><strong>èƒ½è®¿é—®ä»€ä¹ˆ</strong></th></tr></thead><tbody><tr><td>SSR Server</td><td>Node.js</td><td>process.env</td></tr><tr><td>Client Bundle</td><td>æµè§ˆå™¨</td><td>import.meta.env</td></tr></tbody></table>
<p>æµè§ˆå™¨é‡Œ <strong>æ°¸è¿œä¸å¯èƒ½å®‰å…¨åœ°è®¿é—®æœåŠ¡å™¨ç¯å¢ƒå˜é‡</strong>ã€‚</p>
<hr/>
<h4 data-id="heading-24">2ï¸âƒ£ SSR â‰  æµè§ˆå™¨</h4>
<p>å¾ˆå¤šäººè¯¯è§£ï¼š</p>
<blockquote>
<p>â€œSSR æ˜¯ä¸æ˜¯æµè§ˆå™¨ä»£ç å…ˆåœ¨ Node è·‘ä¸€éï¼Ÿâ€</p>
</blockquote>
<p>âŒ <strong>ä¸å®Œå…¨å¯¹</strong></p>
<p>SSR å®é™…æ˜¯ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title class_">Node</span>.<span class="hljs-property">js</span> å…ˆè·‘ä¸€ä»½ â†’ ç”Ÿæˆ <span class="hljs-variable constant_">HTML</span>
æµè§ˆå™¨å†è·‘ä¸€ä»½ â†’ hydrate
</code></pre>
<p>è¿™ä¸¤æ¬¡æ‰§è¡Œï¼š</p>
<ul>
<li><strong>ç¯å¢ƒä¸åŒ</strong></li>
<li><strong>å˜é‡æ¥æºä¸åŒ</strong></li>
<li><strong>å®‰å…¨çº§åˆ«ä¸åŒ</strong></li>
</ul>
<hr/>
<ol start="2">
<li>
<h3 data-id="heading-25">åœ¨ Vite + SSR ä¸­ï¼Œå˜é‡çš„â€œçœŸå®æµå‘â€</h3>
</li>
</ol>
<h4 data-id="heading-26">1ï¸âƒ£ Node ç«¯ï¼ˆSSR Serverï¼‰</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server.ts / entry-server.ts</span>
<span class="hljs-keyword">const</span> dbPassword = process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_PASSWORD</span>;
</code></pre>
<p>âœ”ï¸ çœŸå®è¿è¡Œæ—¶è¯»å–</p>
<p>âœ”ï¸ ä¸ä¼šè¿› bundle</p>
<p>âœ”ï¸ åªå­˜åœ¨äºæœåŠ¡å™¨å†…å­˜</p>
<hr/>
<h4 data-id="heading-27">2ï¸âƒ£ Client ç«¯ï¼ˆæµè§ˆå™¨ï¼‰</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// entry-client.ts / React/Vue ç»„ä»¶</span>
<span class="hljs-keyword">const</span> apiUrl = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>;
</code></pre>
<p>âœ”ï¸ æ„å»ºæœŸæ³¨å…¥</p>
<p>âœ”ï¸ ä¼šæ‰“è¿› JS</p>
<p>âœ”ï¸ ç”¨æˆ·å¯è§</p>
<hr/>
<h4 data-id="heading-28">3ï¸âƒ£ ä¸­é—´é‚£æ¡â€œç¦æ­¢é€šé“â€</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// âŒ ç»å¯¹ç¦æ­¢</span>
process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_PASSWORD</span> â†’ æµè§ˆå™¨
</code></pre>
<p><strong>SSR ä¸ä¼šã€ä¹Ÿä¸å…è®¸ï¼Œè‡ªåŠ¨å¸®ä½ â€œé€ä¼ â€ç¯å¢ƒå˜é‡</strong></p>
<hr/>
<ol start="3">
<li>
<h3 data-id="heading-29">SSR ä¸­æœ€å®¹æ˜“è¸©çš„ 3 ä¸ªå‘ï¼ˆé‡ç‚¹ï¼‰</h3>
</li>
</ol>
<hr/>
<h4 data-id="heading-30">âŒ å‘ 1ï¼šåœ¨â€œå…±äº«ä»£ç â€é‡Œç›´æ¥ç”¨ <code>process.env</code></h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// utils/config.tsï¼ˆè¢« server + client å…±ç”¨ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API</span> = process.<span class="hljs-property">env</span>.<span class="hljs-property">API_URL</span>; <span class="hljs-comment">// âŒ</span>
</code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>Server OK</li>
<li>Client ç›´æ¥ç‚¸ï¼ˆæˆ–è¢«é”™è¯¯æ›¿æ¢ï¼‰</li>
</ul>
<p>âœ… æ­£ç¡®æ–¹å¼ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API</span> = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>;
</code></pre>
<p>æˆ–è€…ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API</span> =<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> === <span class="hljs-string">'undefined'</span>
    ? process.<span class="hljs-property">env</span>.<span class="hljs-property">INTERNAL_API</span>
    : <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>;
</code></pre>
<hr/>
<h4 data-id="heading-31">âŒ å‘ 2ï¼šè¯¯ä»¥ä¸º SSR å¯ä»¥â€œé¡ºæ‰‹ç”¨æ•°æ®åº“å˜é‡â€</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Vue/React ç»„ä»¶é‡Œ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_PASSWORD</span>); <span class="hljs-comment">// âŒ</span>
</code></pre>
<p>å“ªæ€•ä½ åœ¨ SSR æ¨¡å¼ä¸‹ï¼Œè¿™æ®µä»£ç ï¼š</p>
<ul>
<li><strong>æœ€ç»ˆä»ä¼šè·‘åœ¨æµè§ˆå™¨</strong></li>
<li><strong>ä¼šè¢«æ‰“åŒ…</strong></li>
<li><strong>æ˜¯ä¸¥é‡å®‰å…¨æ¼æ´</strong></li>
</ul>
<hr/>
<h4 data-id="heading-32">âŒ å‘ 3ï¼šæŠŠâ€œç¯å¢ƒå˜é‡â€å½“æˆâ€œè¿è¡Œæ—¶é…ç½®â€</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// âŒ æƒ³é€šè¿‡éƒ¨ç½²åˆ‡æ¢ API</span>
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>
</code></pre>
<p>ğŸš¨ è¿™æ˜¯ <strong>æ„å»ºæœŸå€¼</strong>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">build æ—¶ç¡®å®š
â†’ <span class="hljs-variable constant_">CDN</span> ç¼“å­˜
â†’ æ‰€æœ‰ç”¨æˆ·å…±äº«
</code></pre>
<p><strong>æƒ³è¿è¡ŒæœŸåˆ‡æ¢ï¼Ÿåªèƒ½ï¼š</strong></p>
<ul>
<li>æ¥å£è¿”å›é…ç½®</li>
<li>HTML æ³¨å…¥ window.<strong>CONFIG</strong></li>
<li>æ‹‰ JSON é…ç½®æ–‡ä»¶</li>
</ul>
<hr/>
<ol start="4">
<li>
<h3 data-id="heading-33">SSR é¡¹ç›®é‡Œâ€œæ­£ç¡®çš„åˆ†å±‚æ¨¡å‹â€ï¼ˆå·¥ç¨‹è§†è§’ï¼‰</h3>
</li>
</ol>
<pre><code class="hljs language-ts" lang="ts">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        æµè§ˆå™¨ <span class="hljs-title class_">Client</span>       â”‚
â”‚  <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_</span>*   â”‚ â† å…¬å¼€é…ç½®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
        <span class="hljs-variable constant_">HTTP</span> / <span class="hljs-variable constant_">HTML</span>
            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        <span class="hljs-title class_">Node</span> <span class="hljs-variable constant_">SSR</span> <span class="hljs-title class_">Server</span>     â”‚
â”‚      process.<span class="hljs-property">env</span>.*        â”‚ â† ç§å¯†é…ç½®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
        å†…éƒ¨è®¿é—®
            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        <span class="hljs-variable constant_">DB</span> / <span class="hljs-title class_">Redis</span> / <span class="hljs-variable constant_">OSS</span>    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>è¿™æ˜¯ä¸€æ¡ <strong>å•å‘ã€å®‰å…¨çš„æ•°æ®æµ</strong>ã€‚</p>
<hr/>
<ol start="5">
<li>
<h3 data-id="heading-34">Nuxt / è‡ªå»º SSR çš„å¯¹åº”å…³ç³»</h3>
</li>
</ol>





















<table><thead><tr><th><strong>ç±»å‹</strong></th><th><strong>ç”¨é€”</strong></th></tr></thead><tbody><tr><td>runtimeConfig</td><td>Server-only</td></tr><tr><td>runtimeConfig.public</td><td>Client å¯è§</td></tr><tr><td>process.env</td><td>ä»… server</td></tr></tbody></table>
<p>ğŸ‘‰ Nuxt æœ¬è´¨ä¹Ÿæ˜¯åœ¨<strong>å¸®ä½ ç»´æŠ¤è¿™æ¡è¾¹ç•Œ</strong></p>
<hr/>
<h2 data-id="heading-35">å…«ã€å¸¸è§è¯¯åŒºæ€»ç»“</h2>
<h3 data-id="heading-36">âŒ è¯¯åŒº 1</h3>
<blockquote>
<p><code>import.meta.env</code> æ˜¯è¿è¡Œæ—¶è¯»å–</p>
</blockquote>
<p>âŒ <strong>é”™</strong>ï¼Œä»æ˜¯æ„å»ºæœŸæ³¨å…¥</p>
<hr/>
<h3 data-id="heading-37">âŒ è¯¯åŒº 2</h3>
<blockquote>
<p>å¯ä»¥ç”¨å®ƒåŠ¨æ€åˆ‡æ¢ç¯å¢ƒ</p>
</blockquote>
<p>âŒ <strong>ä¸è¡Œ</strong>ï¼Œæƒ³åŠ¨æ€åªèƒ½ï¼š</p>
<ul>
<li>æ¥å£è¿”å›é…ç½®</li>
<li>æˆ–è¿è¡Œæ—¶è¯·æ±‚ JSON</li>
</ul>
<hr/>
<h3 data-id="heading-38">âŒ è¯¯åŒº 3</h3>
<blockquote>
<p>Vite é‡Œè¿˜èƒ½ç»§ç»­ç”¨ <code>process.env</code></p>
</blockquote>
<p>âŒ é™¤éä½ æ‰‹åŠ¨ polyfillï¼ˆä¸æ¨èï¼‰</p>
<hr/>
<h2 data-id="heading-39">ä¹ã€æ€»ç»“</h2>
<ul>
<li>å‰ç«¯ï¼ˆViteï¼‰åªè®¤ <code>import.meta.env.VITE_*</code></li>
<li>æœåŠ¡ç«¯ï¼ˆNodeï¼‰åªè®¤ <code>process.env</code></li>
<li>æ°¸è¿œä¸è¦æŠŠç§˜å¯†æ”¾è¿›å‰ç«¯ env</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†è¢« TS ç±»å‹å†²çªæŠ˜ç£¨äº†ï¼ä¸€æ–‡ææ‡‚ç±»å‹åˆå¹¶è§„åˆ™]]></title>    <link>https://juejin.cn/post/7592444642277670922</link>    <guid>https://juejin.cn/post/7592444642277670922</guid>    <pubDate>2026-01-07T10:40:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592444642277670922" data-draft-id="7592423411563249690" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†è¢« TS ç±»å‹å†²çªæŠ˜ç£¨äº†ï¼ä¸€æ–‡ææ‡‚ç±»å‹åˆå¹¶è§„åˆ™"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript"/> <meta itemprop="datePublished" content="2026-01-07T10:40:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hboot"/> <meta itemprop="url" content="https://juejin.cn/user/2084329777543191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†è¢« TS ç±»å‹å†²çªæŠ˜ç£¨äº†ï¼ä¸€æ–‡ææ‡‚ç±»å‹åˆå¹¶è§„åˆ™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2084329777543191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hboot
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:40:00.000Z" title="Wed Jan 07 2026 10:40:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¹‹å‰å­¦ä¹ äº†<code>TypeScript</code>çš„ç±»å‹å®šä¹‰ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“å¼€å‘è¯­è¨€ä¸­çš„å˜é‡ä¼šæœ‰è¦†ç›–å£°æ˜çš„æƒ…å†µï¼Œé‚£ä¹ˆå¯¹äºç±»å‹å®šä¹‰æ˜¯ä¸æ˜¯ä¹Ÿä¼šæœ‰è¿™ç§æƒ…å†µï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•æ­£ç¡®åˆ©ç”¨è¿™ç§åˆå¹¶è§„åˆ™ï¼Ÿåœ¨é‡åˆ°å¤šä¸ªç±»å‹å®šä¹‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬åˆè¯¥å¦‚ä½•å¤„ç†ï¼Ÿ</p>
<p>äº†è§£ç±»å‹åˆå¹¶è§„åˆ™ï¼Œæœ‰åŠ©äºæˆ‘ä»¬å®šä¹‰ç±»å‹ï¼Œé¿å…ç±»å‹å†²çªã€‚å¯ä»¥åˆ©ç”¨è¿™ç§åˆå¹¶è§„åˆ™ï¼Œæ›´çµæ´»çš„å®šä¹‰ç±»å‹ã€‚</p>
<p>ä¸åŒç‰ˆæœ¬<code>TypeScript</code>,ä¸åŒé…ç½®å¯èƒ½ä¼šå¯¼è‡´åˆå¹¶å·®å¼‚ï¼Œè¿™é‡Œè¯´æ˜ä½¿ç”¨çš„ç‰ˆæœ¬ä¸º<code>"typescript": "^5.9.3"</code>,å¼€å¯äº†é…ç½®<code>"strict": true</code>,æµ‹è¯•æ–‡ä»¶åç¼€ä¸º<code>.ts</code>ã€‚<code>.d.ts</code>æ–‡ä»¶å¯èƒ½æ›´ä¸ºå®½æ¾ã€‚</p>
<h2 data-id="heading-0">åŒååŒç±»å‹åˆå¹¶</h2>
<p><code>TypeScript</code>ä»…æ”¯æŒæ¥å£<code>interface</code>ã€å‘½åç©ºé—´<code>namespace</code>ã€å‡½æ•°å£°æ˜<code>function</code>åŒååˆå¹¶ã€‚åœ¨å£°æ˜è§£æé˜¶æ®µå³å®Œæˆåˆå¹¶ã€‚æ—©äºå…¶ä»–ç±»å‹å¼•ç”¨å¤„ç†ï¼Œæ¯”å¦‚äº¤å‰/è”åˆç±»å‹ã€‚</p>
<p>å¯¹äº<code>type</code>ã€ <code>class</code> ã€<code>enum</code>ç­‰å®šä¹‰çš„åŒåç±»å‹éƒ½ä¸èƒ½åˆå¹¶ã€‚</p>
<h3 data-id="heading-1"><code>interface</code> æ¥å£å£°æ˜åˆå¹¶</h3>
<p>åŒä¸€ä½œç”¨åŸŸä¸‹çš„åŒåæ¥å£ä¼šè‡ªåŠ¨å®Œæˆåˆå¹¶ï¼Œæ— éœ€é¢å¤–è¯­æ³•ã€‚</p>
<p>åˆå¹¶ç‰¹æ€§ï¼š</p>
<ul>
<li>å±æ€§ã€æ–¹æ³•ã€ç´¢å¼•ç­¾åå‡å¯åˆå¹¶ã€‚</li>
<li>åŒåå±æ€§ã€æ–¹æ³•å¿…é¡»ç±»å‹å…¼å®¹ï¼Œå¦åˆ™ç¼–è¯‘å™¨æŠ¥é”™ã€‚</li>
<li>åŒä¸€ä½œç”¨åŸŸ/æ¨¡å—ä¸‹ã€‚</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// å®ä¾‹å¿…é¡»åŒ…å«nameå’Œageå±æ€§</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">""</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">0</span>,
};
</code></pre>
<p><strong>åŒå±æ€§ï¼Œä¸åŒç±»å‹ä¸å…¼å®¹ï¼Œç¼–è¯‘å™¨æŠ¥é”™ã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}
<span class="hljs-comment">// âŒ åç»­å±æ€§å£°æ˜å¿…é¡»å±äºåŒä¸€ç±»å‹ã€‚å±æ€§â€œnameâ€çš„ç±»å‹å¿…é¡»ä¸ºâ€œstringâ€ï¼Œä½†æ­¤å¤„å´ä¸ºç±»å‹â€œnumberâ€ã€‚</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">number</span>;
}
</code></pre>
<p><strong>åŒå±æ€§åŒç±»å‹ï¼Œä¸åŒä¿®é¥°ç¬¦ä¸å…¼å®¹ï¼Œç¼–è¯‘å™¨æŠ¥é”™ã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}
<span class="hljs-comment">// âŒ ä¸åŒä¿®é¥°ç¬¦ä¸å…¼å®¹ï¼Œç¼–è¯‘å™¨æŠ¥é”™</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  name?: <span class="hljs-built_in">string</span>;
}
</code></pre>
<h3 data-id="heading-2"><code>namespace</code> å‘½åç©ºé—´åˆå¹¶</h3>
<p>åŒåçš„å‘½åç©ºé—´ä¼šè‡ªåŠ¨åˆå¹¶å†…éƒ¨å¯¼å‡ºçš„æˆå‘˜ã€‚ä»…<code>export</code>å¯¼å‡ºçš„æˆå‘˜ä¼šåˆå¹¶ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Utils</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"hboot"</span>;
  }
}

<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Utils</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getAge</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">18</span>;
  }
}

<span class="hljs-title class_">Utils</span>.<span class="hljs-title function_">getName</span>();
<span class="hljs-title class_">Utils</span>.<span class="hljs-title function_">getAge</span>();
</code></pre>
<p><strong>ä¸å…è®¸åŒåæˆå‘˜å¯¼å‡ºã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Utils</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"hboot"</span>;
  }
}

<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Utils</span> {
  <span class="hljs-comment">// âŒ æˆå‘˜å·²å­˜åœ¨ï¼Œä¸å…è®¸é‡å¤å®šä¹‰</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getName</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-number">18</span>;
  };
}
</code></pre>
<h3 data-id="heading-3"><code>function</code> å‡½æ•°å£°æ˜åˆå¹¶</h3>
<p>å‡½æ•°åŒååˆå¹¶ï¼Œ<strong>æˆ‘ä»¬ç§°ä¹‹ä¸ºå‡½æ•°é‡è½½</strong>ã€‚TSç¼–è¯‘å™¨ä¼šæŒ‰ç…§å€’åºåŒ¹é…ï¼Œä¹Ÿå°±æ˜¯åå£°æ˜å‡½æ•°é‡è½½ä¼˜å…ˆçº§é«˜ã€‚</p>
<p>å‡½æ•°é‡è½½æœ€åä¸€ä¸ªå‡½æ•°å£°æ˜å¿…é¡»å®ç°å†…éƒ¨é€»è¾‘ï¼Œå¹¶ä¸”å‚æ•°æ•°é‡ã€å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹å¿…é¡»å…¼å®¹ã€‚</p>
<blockquote>
<p>ä»…ä½¿ç”¨<code>function</code>å£°æ˜çš„å‡½æ•°æ”¯æŒ</p>
</blockquote>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params">age: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params">nameOrAge: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">return</span> nameOrAge;
}
<span class="hljs-title function_">getName</span>(<span class="hljs-string">"hboot"</span>);
<span class="hljs-title function_">getName</span>(<span class="hljs-number">18</span>);
</code></pre>
<p><strong><code>interface</code>æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ä¹Ÿä¼šå½¢æˆé‡è½½</strong>ã€‚ä½†æ˜¯å’Œæ™®é€šçš„å‡½æ•°é‡è½½æœ€åçš„å‡½æ•°å®ç°å‚æ•°ã€è¿”å›å€¼ç±»å‹å®šä¹‰æœ‰äº›ä¸åŒã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">getVal</span>(<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span>;
}
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">getVal</span>(<span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// âŒ è¿™æ ·å†™ç¼–è¯‘å™¨ä¼šç›´æ¥æŠ¥é”™ï¼Œæç¤ºä¸èƒ½å°†ç±»å‹ "string | number" æ— æ³•åˆ†é…ç»™ç±»å‹ "string"ã€‚</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = {
  <span class="hljs-title function_">getVal</span>(<span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">return</span> value;
  },
};
</code></pre>
<p>æ™®é€šå‡½æ•°é‡è½½æ˜¯æ»¡è¶³å…¶ä¸€å³å¯ï¼›è€Œæ¥å£ä¸­æ–¹æ³•é‡è½½æ˜¯å¿…é¡»<strong>ç²¾å‡†åŒ¹é…ç±»å‹æ¯ä¸€ä¸ªç±»å‹</strong>ã€‚åˆ©ç”¨TSç±»å‹æ¨å¯¼é€šè¿‡æ³›å‹å‚æ•°é”å®šç±»å‹ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// åˆ©ç”¨äº†ç±»å‹çš„è‡ªåŠ¨æ¨å¯¼ï¼Œé€šè¿‡æ³›å‹å‚æ•° T é”å®šè¾“å…¥ç±»å‹åŠè¿”å›ç±»å‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = {
  getVal&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>&gt;(<span class="hljs-attr">value</span>: T): T {
    <span class="hljs-keyword">return</span> value;
  }
};
</code></pre>
<h2 data-id="heading-4">åŒåä¸åŒç±»å‹åˆå¹¶</h2>
<p>åŒåä¸åŒç±»å‹çš„åˆå¹¶ï¼Œä¸»è¦æ˜¯å‘½åç©ºé—´<code>namespace + interface/class/function</code>çš„åˆå¹¶ï¼Œ<code>namespace</code>å¯ä»¥æä¾›é™æ€å±æ€§ã€æ–¹æ³•ã€‚</p>
<h3 data-id="heading-5"><code>namespace</code>+<code>interface</code> åˆå¹¶</h3>
<p>åŒåçš„<code>namespace</code>å‘½åç©ºé—´ä¸º<code>interface</code>æ¥å£æ‰©å±•é™æ€æˆå‘˜ï¼›æ¥å£æä¾›ç±»å‹çº¦æŸã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> age = <span class="hljs-number">18</span>;
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"hboot"</span>;
  }
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"hboot"</span>,
};

<span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">getName</span>();
</code></pre>
<p>åŒåçš„å±æ€§ã€æ–¹æ³•ä¸ä¼šå†²çªï¼Œå› ä¸º<code>Animal</code>å‘½åç©ºé—´ç›´æ¥é€šè¿‡ç©ºé—´åè®¿é—®ï¼›<code>interface</code>æ¥å£éœ€è¦å®ä¾‹åŒ–åçš„å®ä¾‹è®¿é—®ã€‚å®ƒä»¬ä¹‹é—´å®é™…ä¸Šåªæœ‰åç§°æ˜¯ç›¸åŒçš„ï¼Œå±æ€§ä¹‹é—´æ²¡æœ‰åˆå¹¶ã€‚</p>
<h3 data-id="heading-6"><code>namespace</code>+<code>class</code> åˆå¹¶</h3>
<p>åŒåçš„<code>namespace</code>å‘½åç©ºé—´ä¸º<code>class</code>ç±»æ‰©å±•é™æ€æˆå‘˜ï¼›<strong>ç±»å£°æ˜å¿…é¡»åœ¨å‘½åç©ºé—´çš„å£°æ˜å¿…ä¹‹å‰</strong>ï¼Œå‘½åç©ºé—´ä¸èƒ½å£°æ˜ç±»å·²æœ‰çš„æˆå‘˜ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}
<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> name = <span class="hljs-string">"hboot"</span>;
  <span class="hljs-comment">// âŒ æ­¤å¤„æ‰©å±•é™æ€æˆå‘˜ age æŠ¥é”™ï¼Œç±»ä¸­å·²å­˜åœ¨ age é™æ€æˆå‘˜</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> age = <span class="hljs-number">18</span>;
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"hboot"</span>;
  }
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">"admin"</span>);
<span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">getName</span>();
<span class="hljs-comment">// hboot</span>
<span class="hljs-title class_">Animal</span>.<span class="hljs-property">name</span>;
<span class="hljs-comment">// admin</span>
dog.<span class="hljs-property">name</span>;
</code></pre>
<h3 data-id="heading-7"><code>namespace</code>+<code>function</code> åˆå¹¶</h3>
<p>åŒåçš„<code>namespace</code>å‘½åç©ºé—´ä¸º<code>function</code>å‡½æ•°æ‰©å±•é™æ€æˆå‘˜ã€‚å‡½æ•°ä¿æŒè‡ªèº«çš„å¯è°ƒç”¨èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">speak</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello World! "</span> + name;
}

<span class="hljs-keyword">namespace</span> speak {
  <span class="hljs-comment">// âŒ æ­¤å¤„æ— æ³•è¦†ç›– å‡½æ•°çš„ name å±æ€§ï¼›name æ˜¯åªè¯»å±æ€§</span>
  <span class="hljs-comment">// âŒ ç±»å‹æ ¡éªŒæ²¡æœ‰æŠ¥é”™ï¼Œä½†è¿è¡Œæ—¶å› ä¸ºåªè¯»è€ŒæŠ¥é”™</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> name = <span class="hljs-string">"hboot"</span>;
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"hboot"</span>;
  }
}

<span class="hljs-title function_">speak</span>(<span class="hljs-string">"hboot"</span>);
speak.<span class="hljs-property">name</span>;
speak.<span class="hljs-title function_">getName</span>();
</code></pre>
<p>æ‰©å±•çš„é™æ€æˆå‘˜æœ€å¥½ä¸è¦è¦†ç›–å‡½æ•°æœ¬èº«çš„å±æ€§ï¼Œæ¯”å¦‚<code>name</code>ã€<code>length</code>ç­‰ã€‚è¿™äº›åªè¯»å±æ€§æ— æ³•è¢«è¦†ç›–ï¼Œåœ¨è¿è¡Œæ—¶ä¼šæŠ¥é”™ã€‚</p>
<h3 data-id="heading-8"><code>interface</code>+<code>class</code> åˆå¹¶</h3>
<p>åŒåçš„<code>interface</code>æ¥å£ä¸º<code>class</code>ç±»æ‰©å±•å®ä¾‹æˆå‘˜ã€‚ç±»ç»§æ‰¿æ¥å£çš„å±æ€§ã€æ–¹æ³•ï¼Œå®ä¾‹å¿…é¡»åŒæ—¶æ»¡è¶³æ¥å£å’Œç±»çš„çº¦æŸã€‚</p>
<p>åˆå¹¶ç‰¹æ€§ï¼š</p>
<ul>
<li>æ¥å£çš„å¿…é€‰å±æ€§ï¼Œåœ¨ç±»ä¸­å¿…é¡»æ˜¾å¼å®ç°ï¼Œå¦åˆ™æ‰§è¡ŒæŠ¥é”™ã€‚</li>
<li>åŒåå±æ€§ï¼Œå¿…é¡»ç±»å‹å…¼å®¹ï¼Œå¦åˆ™æ‰§è¡ŒæŠ¥é”™ã€‚</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">getName</span>(): <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">age: <span class="hljs-built_in">number</span>, name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
  <span class="hljs-comment">// å¿…é¡»æ˜¾ç¤ºå®ç° æ¥å£ çš„æ–¹æ³•æˆå‘˜</span>
  <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>;
  }
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-number">18</span>, <span class="hljs-string">"hboot"</span>);

dog.<span class="hljs-property">age</span>;
<span class="hljs-comment">// ç±»ä¸­éœ€é€šè¿‡æ„é€ å‡½æ•°</span>
dog.<span class="hljs-property">name</span>;
<span class="hljs-comment">// âŒ å¦‚æœç±»æ²¡æœ‰æ˜¾ç¤ºå®ç°ï¼›æ™ºèƒ½æç¤ºå­˜åœ¨æ–¹æ³•ï¼Œå®é™…è°ƒç”¨ä¼šæŠ¥é”™ã€‚</span>
dog.<span class="hljs-title function_">getName</span>();
</code></pre>
<p>é™¤äº†æ‰‹åŠ¨èµ‹å€¼æ‰©å±•å±æ€§å¤–ï¼Œå¯ä»¥é€šè¿‡<code>public</code>ä¿®é¥°ç¬¦è‡ªåŠ¨ç”Ÿæˆ</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
 
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">age: <span class="hljs-built_in">number</span>, <span class="hljs-keyword">public</span> name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
    <span class="hljs-comment">// æ— éœ€æ‰‹åŠ¨èµ‹å€¼</span>
    <span class="hljs-comment">// this.name = name;</span>
  }

  <span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-number">18</span>, <span class="hljs-string">"hboot"</span>);
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 data-id="heading-9">æ˜¾ç¤ºç±»å‹åˆå¹¶</h2>
<p>ä¸Šè¿°çš„åŒååŒç±»å‹ã€åŒåä¸åŒç±»å‹åˆå¹¶å®é™…æœ€ç»ˆä¹Ÿæ˜¯å±æ€§çš„åˆå¹¶ã€‚å¯¹äºéåŒåå±æ€§åˆå¹¶åˆ™æ˜¯æ‰©å±•ï¼›åŒåå±æ€§åˆ™æœ‰ä¸€äº›åˆå¹¶è§„åˆ™ã€‚</p>
<p>å¯¹äºä¸åŒç±»å‹ä¹‹é—´çš„åŒåå±æ€§åˆå¹¶éƒ½æœ‰è‡ªå·±çš„è§„åˆ™ï¼Œæ¯”å¦‚ï¼š<code>interface</code>+<code>class</code> åˆå¹¶è¦æ±‚å±æ€§ç±»å‹å…¼å®¹ï¼›<code>namespace</code>+<code>class</code> åˆå¹¶è¦æ±‚å‘½åç©ºé—´ä¸èƒ½åŒ…å«ç±»å·²æœ‰çš„æˆå‘˜ã€‚</p>
<p>é€šè¿‡æ‰‹åŠ¨å°†ä¸€äº›ç±»å‹åˆå¹¶åˆ°ä¸€ä¸ªç±»å‹ä¸­ï¼Œä¾‹å¦‚äº¤å‰ç±»å‹<code>&amp;</code>å’Œè”åˆç±»å‹<code>|</code></p>
<h3 data-id="heading-10">äº¤å‰ç±»å‹<code>&amp;</code> å…³ç³»åˆå¹¶</h3>
<p>äº¤å‰ç±»å‹å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªæ–°ç±»å‹ã€‚æ–°ç±»å‹å¿…é¡»æ»¡è¶³æ‰€æœ‰ç±»å‹çº¦æŸã€‚</p>
<p>åˆå¹¶ç‰¹æ€§ï¼š</p>
<ul>
<li>ä¸åŒåå±æ€§åˆå¹¶ä¸ºå±æ€§å¹¶é›†ã€‚ä¿ç•™å±æ€§ä¿®é¥°ç¬¦ã€‚</li>
<li>åŒåå±æ€§å–å…¼å®¹ç±»å‹ï¼Œå¯¹äºä¿®é¥°ç¬¦<code>?</code>ï¼Œå­˜åœ¨å¿…é€‰æ—¶åˆ™å±æ€§å¿…é€‰ï¼›ä¿®é¥°ç¬¦<code>readonly</code>ï¼Œå­˜åœ¨å±æ€§å¯ä¿®æ”¹æ—¶åˆ™å±æ€§å¯ä¿®æ”¹ã€‚</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// ä¸å…¼å®¹ç±»å‹ never</span>
<span class="hljs-keyword">type</span> A = <span class="hljs-built_in">string</span> &amp; <span class="hljs-built_in">number</span>;

<span class="hljs-comment">// ä¸åŒåå±æ€§å¹¶é›†</span>
<span class="hljs-keyword">type</span> B = { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> } &amp; { <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> };

<span class="hljs-comment">// å¯é€‰ ? ä¿®é¥°ç¬¦, å…¼å®¹ç±»å‹ name ä¸ºå¿…é€‰å±æ€§</span>
<span class="hljs-keyword">type</span> C = { name?: <span class="hljs-built_in">string</span> } &amp; { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> };

<span class="hljs-comment">// åªè¯» readonly ä¿®é¥°ç¬¦, å…¼å®¹ç±»å‹ age ä¸ºå¯ä¿®æ”¹</span>
<span class="hljs-keyword">type</span> D = { <span class="hljs-keyword">readonly</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> } &amp; { <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> };
</code></pre>
<h3 data-id="heading-11">è”åˆç±»å‹<code>|</code> å…³ç³»åˆå¹¶</h3>
<p>å°†å¤šä¸ªç±»å‹ç»„åˆä¸ºä¸€ä¸ªæ–°ç±»å‹ã€‚æ–°ç±»å‹åªéœ€è¦æ»¡è¶³å…¶ä¸­ä¸€ä¸ªç±»å‹çº¦æŸã€‚</p>
<p>åˆå¹¶ç‰¹æ€§ï¼š</p>
<ul>
<li>ä»…èƒ½è®¿é—®å…¬å…±å±æ€§ã€‚éœ€é€šè¿‡ç±»å‹å®ˆå«æ”¶çª„ç±»å‹åæ‰èƒ½è®¿é—®éå…¬å…±å±æ€§ã€‚</li>
<li>å®Œå…¨ä¸€è‡´çš„ç±»å‹è‡ªåŠ¨å»é‡ã€‚</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> A = {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">type</span> B = {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">address</span>: <span class="hljs-built_in">string</span>;
};

<span class="hljs-keyword">type</span> C = A | B;

<span class="hljs-comment">// æ»¡è¶³å…¶ä¸­ä¸€ä¸ªç±»å‹çº¦æŸ</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">c</span>: C = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"hboot"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,
};

<span class="hljs-comment">// è®¿é—®éå…¬å…±å±æ€§</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">viewC</span>(<span class="hljs-params">data: C</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-string">"age"</span> <span class="hljs-keyword">in</span> data) {
    <span class="hljs-keyword">return</span> data.<span class="hljs-property">age</span>;
  }
  <span class="hljs-keyword">return</span> data.<span class="hljs-property">address</span>;
}
</code></pre>
<h2 data-id="heading-12"><code>.d.ts</code>ä¸­çš„å£°æ˜åˆå¹¶</h2>
<p><code>.d.ts</code>æ–‡ä»¶å’Œ<code>.ts</code>æ–‡ä»¶çš„åˆå¹¶æ ¸å¿ƒè§„åˆ™ä¸€è‡´ã€‚åœ¨æ‰§è¡Œæ—¶æœºã€ä½œç”¨åŸŸã€ç¼–è¯‘è¡Œä¸ºä¸Šæœ‰äº›ä¸ä¸€æ ·ã€‚</p>
<ul>
<li>
<p><code>.d.ts</code> æ–‡ä»¶ä¸­ä»…æœ‰ç±»å‹å£°æ˜ï¼Œæ— å®é™…ä»£ç å®ç°ï¼Œä»…ç”¨äºTSç±»å‹æ£€éªŒã€‚æ‰€ä»¥ä¸åŒäº<code>.ts</code>æ–‡ä»¶ã€‚å®ƒä¼šåœ¨ç±»å‹æ ¡éªŒé˜¶æ®µæ—©æœŸæ‰§è¡Œï¼Œä¼˜å…ˆåˆå¹¶å…¨å±€/æ¨¡å—ç±»å‹ï¼›è€Œ<code>.ts</code>æ–‡ä»¶æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µæ‰§è¡Œã€‚</p>
</li>
<li>
<p><code>.d.ts</code>ç±»å‹ä¼˜å…ˆçº§ä½ï¼Œèƒ½è¢«<code>.ts</code>æ–‡ä»¶æ˜¾ç¤ºç±»å‹å£°æ˜è¦†ç›–ã€‚</p>
</li>
<li>
<p><code>.d.ts</code>è·¨æ–‡ä»¶åŒåå£°æ˜åˆå¹¶ï¼ˆæ— <code>import/export</code>ï¼‰ã€‚<code>.ts</code>ä»…åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­åŒåå£°æ˜åˆå¹¶ã€‚</p>
</li>
</ul>
<h2 data-id="heading-13"><code>declare</code></h2>
<p><code>declare</code> ä¸»è¦ä½œç”¨å­˜åœ¨æ€§å£°æ˜ï¼Œå‘Šè¯‰TypeScriptç¼–è¯‘å™¨æ— éœ€ç”Ÿæˆå¯¹åº”çš„ä»£ç ã€‚</p>
<ul>
<li>å…¨å±€å˜é‡/å‡½æ•°å£°æ˜ï¼Œæ¯”å¦‚ï¼šå¤–éƒ¨åŠ è½½çš„<code>js</code>æ–‡ä»¶ï¼ŒæŒ‚è½½åˆ°<code>window</code>ä¸Šçš„å˜é‡ã€‚</li>
<li>æ‰©å±•å·²æœ‰ç±»å‹ï¼ˆä¸åŒåæ¥å£/å‘½åç©ºé—´åˆå¹¶ï¼‰</li>
<li>å£°æ˜æ¨¡å—ï¼ˆéTSæ¨¡å—ï¼Œæ¯”å¦‚<code>.css</code>æˆ–<code>.png</code>ç­‰é™æ€èµ„æºï¼‰</li>
</ul>
<p><code>declare</code> æ‰©å±•å·²æœ‰ç±»å‹åˆå¹¶è§„åˆ™ä¸<code>.ts</code>æ–‡ä»¶çš„åˆå¹¶æ ¸å¿ƒè§„åˆ™ä¸€è‡´.</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">getName</span>(): <span class="hljs-built_in">string</span>;
}
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
}
</code></pre>
<p><code>.ts</code> æ¨¡å—ä¸­æ²¡æœ‰<code>import/export</code>æ—¶ï¼Œé€šè¿‡<code>declare</code>å£°æ˜ä¸ºå…¨å±€ä½œç”¨åŸŸã€‚å¦‚æœå­˜åœ¨<code>import/export</code>åˆ™éœ€è¦é€šè¿‡<code>declare global</code>æ‰©å±•å…¨å±€ä½œç”¨åŸŸã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢å‘ Interleaved Thinking çš„å¤§æ¨¡å‹ Agent è’¸é¦å®è·µ]]></title>    <link>https://juejin.cn/post/7592432859862548514</link>    <guid>https://juejin.cn/post/7592432859862548514</guid>    <pubDate>2026-01-07T10:08:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859862548514" data-draft-id="7592170706027151395" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢å‘ Interleaved Thinking çš„å¤§æ¨¡å‹ Agent è’¸é¦å®è·µ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-07T10:08:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢å‘ Interleaved Thinking çš„å¤§æ¨¡å‹ Agent è’¸é¦å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:08:57.000Z" title="Wed Jan 07 2026 10:08:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å¤§è¯­è¨€æ¨¡å‹Agentåœ¨å¤æ‚ä»»åŠ¡ä¸­å±•ç°å‡ºå“è¶Šèƒ½åŠ›ã€‚ç›¸æ¯”ä¼ ç»Ÿçº¿æ€§æ¨ç†é“¾(Chain-of-Thought)ï¼Œ"äº¤é”™æ€ç»´"(InterleavedÂ Thinking)é€šè¿‡"æ€è€ƒâ†’è¡ŒåŠ¨â†’è§‚å¯Ÿâ†’å†æ€è€ƒ"çš„é—­ç¯æœºåˆ¶ï¼Œæœ‰æ•ˆè§£å†³äº†çŠ¶æ€æ¼‚ç§»å’Œä¸Šä¸‹æ–‡é—å¿˜é—®é¢˜ï¼Œæ˜¾è‘—æå‡å¤šè½®äº¤äº’çš„è¿è´¯æ€§ä¸ç­–ç•¥è°ƒæ•´èƒ½åŠ›ã€‚</p>
<p>é˜¿é‡Œäº‘Â PAIÂ å›¢é˜Ÿç»“åˆäº¤é”™æ€ç»´çš„æ¨ç†æœºåˆ¶ï¼Œæ„å»ºäº†æ¶µç›–å¤šè½®äº¤äº’çš„è®­ç»ƒæ•°æ®é›†ï¼Œè®­ç»ƒæ›´ç¬¦åˆäº¤é”™æ€ç»´ç‰¹æ€§çš„è½»é‡çº§Â AgentÂ æ¨¡å‹ï¼Œæœ‰æ•ˆæå‡æ€§èƒ½ä¸å“åº”æ•ˆç‡ã€‚æœ¬æ–‡å°†åœ¨Â EasyDistillï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelscope%2Feasydistill%25EF%25BC%2589%25E5%25BC%2580%25E6%25BA%2590%25E6%25A1%2586%25E6%259E%25B6%25E4%25B8%258B" target="_blank" title="https://github.com/modelscope/easydistill%EF%BC%89%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6%E4%B8%8B" ref="nofollow noopener noreferrer">github.com/modelscope/â€¦</a>ï¼Œç³»ç»Ÿé˜è¿°é¢å‘Â InterleavedÂ ThinkingÂ çš„å¤§æ¨¡å‹Â AgentÂ è’¸é¦å®è·µï¼Œæ¶µç›–æ•°æ®é›†æ„å»ºå’Œè’¸é¦ç®—æ³•çš„å¼€å‘ï¼Œå¹¶ç»“åˆå®é™…åº”ç”¨æ¡ˆä¾‹ï¼Œå…¨é¢å±•ç¤ºè¯¥æŠ€æœ¯åœ¨æ™ºèƒ½ä½“æ¨¡å‹è®­ç»ƒä¸­çš„æ½œåŠ›ä¸ä¼˜åŠ¿ã€‚</p>
<h2 data-id="heading-1">é¢å‘InterleavedÂ Thinkingçš„è’¸é¦æ–¹æ³•</h2>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå›é¡¾Â InterleavedÂ ThinkingÂ çš„åŸºç¡€èŒƒå¼Â ReActï¼Œå…¶æ¬¡è¯¦ç»†ä»‹ç»é¢å‘Â InterleavedÂ ThinkingÂ çš„å¤§æ¨¡å‹è’¸é¦æ–¹æ³•ï¼Œæœ€åå¯¹è’¸é¦æ¨¡å‹åœ¨Â AgentÂ è¯„æµ‹ä»»åŠ¡ä¸Šçš„å®é™…æ•ˆæœè¿›è¡Œè¯„æµ‹ã€‚</p>
<h3 data-id="heading-2">ReActèŒƒå¼å›çœ¸</h3>
<p>æˆ‘ä»¬é¦–å…ˆç®€è¦å›é¡¾Â InterleavedÂ ThinkingÂ çš„åŸºç¡€æ¨ç†èŒƒå¼Â ReActã€‚ReActï¼ˆReasoningÂ andÂ Actingï¼‰ç”±æ™®æ—æ–¯é¡¿å¤§å­¦ä¸è°·æ­Œç ”ç©¶å›¢é˜Ÿæå‡ºï¼Œä½œä¸ºä¸€ç§äº¤äº’å¼æ¨ç†æ¡†æ¶ï¼Œæ—¨åœ¨è§£å†³ä¼ ç»Ÿå¤§è¯­è¨€æ¨¡å‹åœ¨å¤æ‚å¤šè½®æ¨ç†ä»»åŠ¡ä¸­é‡åˆ°çš„å›ºæœ‰ç“¶é¢ˆä¸æ•ˆç‡é—®é¢˜ã€‚ä¼ ç»Ÿçš„Â Chain-of-Thoughtï¼ˆCoTï¼‰æ¨ç†æ–¹æ³•é€šå¸¸é‡‡ç”¨çº¿æ€§ã€å•å‘çš„å¤„ç†æµç¨‹ï¼Œå³æ¨¡å‹å…ˆç”Ÿæˆå®Œæ•´çš„æ¨ç†é“¾æ¡ï¼Œéšåç»Ÿä¸€æ‰§è¡Œè¡ŒåŠ¨æ­¥éª¤ã€‚è¿™ç§â€œå…ˆæ€è€ƒåè¡ŒåŠ¨â€çš„é¡ºåºæ–¹æ³•ï¼Œåœ¨é¢å¯¹åŠ¨æ€å˜åŒ–ã€ç¯å¢ƒä¸ç¡®å®šæˆ–éœ€è¦å¤šå·¥å…·äº¤äº’çš„ä»»åŠ¡æ—¶ï¼Œå®¹æ˜“å¯¼è‡´ä¸Šä¸‹æ–‡ä¿¡æ¯ä¸¢å¤±ã€çŠ¶æ€æ¼‚ç§»å’Œå“åº”å»¶è¿Ÿï¼Œæ˜¾è‘—åˆ¶çº¦äº†æ¨¡å‹çš„å®ç”¨æ€§å’Œé²æ£’æ€§ã€‚</p>
<p>ReActÂ èŒƒå¼çš„æ ¸å¿ƒç†å¿µæ˜¯å°†æ¨ç†ï¼ˆReasoningï¼‰ä¸è¡ŒåŠ¨ï¼ˆActingï¼‰ç´§å¯†åŠ¨æ€äº¤ç»‡ï¼Œé€šè¿‡â€œæ€è€ƒâ†’è¡ŒåŠ¨â†’è§‚å¯Ÿâ†’å†æ€è€ƒâ€çš„é—­ç¯äº¤äº’ï¼Œæ„å»ºä¸€ä¸ªå®æ—¶åé¦ˆé©±åŠ¨çš„æ¨ç†ä½“ç³»ã€‚åœ¨å®é™…è¿è¡Œä¸­ï¼Œæ¨¡å‹åœ¨æ¯ä¸€æ­¥ä¸ä»…ç”Ÿæˆæ¨ç†æ–‡æœ¬ï¼Œè¿˜ä¼šå†³å®šæ˜¯å¦è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ˆå¦‚æ•°æ®åº“æŸ¥è¯¢ã€APIÂ è°ƒç”¨ã€ä»£ç æ‰§è¡Œç­‰ï¼‰ï¼Œå¹¶æ ¹æ®å·¥å…·åé¦ˆçš„ç»“æœå³æ—¶è°ƒæ•´æ¨ç†ç­–ç•¥ä¸æ¨ç†çŠ¶æ€ã€‚è¿™æ ·ï¼Œæ¨¡å‹èƒ½å¤ŸæŒç»­æ›´æ–°å·¥ä½œè®°å¿†ä¸­çš„ç¯å¢ƒçŠ¶æ€å’Œæ¨ç†ä¸Šä¸‹æ–‡ï¼Œæœ‰æ•ˆé¿å…åœ¨å¤šè½®å¤æ‚æ¨ç†ä¸å·¥å…·è°ƒç”¨è¿‡ç¨‹ä¸­å‡ºç°çš„æ„å›¾åç¦»å’Œä¿¡æ¯é—å¿˜ï¼Œç¡®ä¿æ¨ç†çš„è¿è´¯æ€§ä¸åŠ¨ä½œæ‰§è¡Œçš„å‡†ç¡®æ€§ã€‚</p>
<p>æŠ€æœ¯ä¸Šï¼ŒReActÂ æ¡†æ¶è®¾è®¡äº†ä¸€å¥—äº¤å‰è¿­ä»£çš„æ‰§è¡Œæœºåˆ¶ï¼Œå…·ä½“æµç¨‹åŒ…æ‹¬ï¼šæ¨¡å‹åŸºäºå½“å‰ä¸Šä¸‹æ–‡è¿›è¡Œæ¨ç†ï¼Œç”Ÿæˆä¸‹ä¸€æ­¥çš„è¡ŒåŠ¨æŒ‡ä»¤ï¼›ç³»ç»Ÿæ‰§è¡Œå¯¹åº”å·¥å…·è°ƒç”¨å¹¶è¿”å›ç»“æœï¼›æ¨¡å‹æ ¹æ®è¿”å›ä¿¡æ¯æ›´æ–°æ¨ç†çŠ¶æ€ï¼Œè¿›è¡Œä¸‹ä¸€è½®æ€è€ƒå’Œå†³ç­–ã€‚è¯¥æœºåˆ¶ä¸ä»…æå‡äº†æ¨¡å‹å¯¹ç¯å¢ƒçš„å“åº”æ•æ·æ€§ï¼Œä¹Ÿæ”¯æŒæ¡ä»¶è·¯å¾„åˆ†æ”¯å’Œè‡ªæˆ‘çº æ­£èƒ½åŠ›ï¼Œä½¿Â AgentÂ èƒ½åº”å¯¹é«˜åº¦åŠ¨æ€å’Œä¸ç¡®å®šçš„ä»»åŠ¡ç¯å¢ƒã€‚ReActÂ ä¸å…¶ä»–åŸºç¡€èŒƒå¼çš„å¯¹æ¯”å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00998fbe47f54a019726350d1ff0bf13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768385337&amp;x-signature=Nu7%2FVtg%2FxMvJA%2FmpUq%2FGr4QrZng%3D" alt="5eecdaf48460cde5a3f33c191076f85b249b71b4c034e49875b8339e1c4c24831b75b38faadcd24bec177c308ebd530451b2f706b2ae6ce1db97a0c0d5fd2289e3a71713c83748a4709ded22f389353d6ba7c70869fa707e4fb4c8ed7016461c.png" loading="lazy"/>
ï¼ˆä¸Šå›¾æºè‡ªReAct:Â SynergizingÂ ReasoningÂ andÂ ActingÂ inÂ LanguageÂ Models.Â ICLRÂ 2023ï¼‰</p>
<h3 data-id="heading-3">æ•™å¸ˆè½¨è¿¹æ•°æ®ç”Ÿæˆ</h3>
<p>æ•™å¸ˆè½¨è¿¹æ•°æ®çš„è´¨é‡ç›´æ¥å†³å®šäº†å­¦ç”Ÿæ¨¡å‹æ¨ç†èƒ½åŠ›çš„ä¸Šé™å’Œè®­ç»ƒæ•ˆæœçš„ç¨³å®šæ€§ï¼Œå› æ­¤ï¼Œé«˜è´¨é‡è½¨è¿¹æ•°æ®çš„ç”Ÿæˆæ˜¯å¤šæ­¥æ¨ç†ä¸å·¥å…·è°ƒç”¨èƒ½åŠ›è®­ç»ƒçš„å…³é”®åŸºç¡€ç¯èŠ‚ã€‚æˆ‘ä»¬å¯ä»¥é€‰ç”¨ä»»ä½•å…·å¤‡è¶³å¤Ÿèƒ½åŠ›çš„å¤§è¯­è¨€æ¨¡å‹ä½œä¸ºæ•™å¸ˆï¼ˆTeacherï¼‰ï¼Œå¦‚Â Qwen3-MaxÂ ç­‰ï¼Œå€ŸåŠ©å…¶å¼ºå¤§çš„ç†è§£ä¸æ¨ç†èƒ½åŠ›ï¼Œç”Ÿæˆé«˜è´¨é‡çš„ä»»åŠ¡æ‰§è¡Œè½¨è¿¹ã€‚ç”Ÿæˆçš„è½¨è¿¹éœ€ç¬¦åˆÂ ReActÂ èŒƒå¼ã€‚ä»¥æ±‚è§£æ•°å­¦é¢˜ä¸ºä¾‹ï¼Œæˆ‘ä»¬é‡‡ç”¨Â PythonÂ ä»£ç è§£é‡Šå™¨ä½œä¸ºå·¥å…·ï¼Œç”Ÿæˆçš„è½¨è¿¹æ•°æ®é‡‡ç”¨æ ‡å‡†çš„ä¸‰å…ƒç»„ç»“æ„Â [Thought,Â Code,Â Observation]ï¼Œå…·ä½“å¯¹åº”å¦‚ä¸‹ï¼š</p>
<ul>
<li>Thoughtï¼ˆæ€è€ƒï¼‰ï¼šæ•™å¸ˆæ¨¡å‹ä»¥è‡ªç„¶è¯­è¨€å¯¹é—®é¢˜è¿›è¡Œåˆ†æå’Œæ¨ç†ï¼Œæè¿°æ‹†è§£æ€è·¯ã€é€»è¾‘åˆ¤æ–­å’Œå†³ç­–ä¾æ®ï¼›</li>
<li>Codeï¼ˆä»£ç ï¼‰ï¼šç´§æ¥æ€è€ƒåçš„å·¥å…·è°ƒç”¨æŒ‡ä»¤ï¼Œé€šå¸¸ä¸ºÂ PythonÂ ä»£ç ï¼Œç›´æ¥æ‰§è¡Œå…·ä½“æ“ä½œæˆ–è®¡ç®—ï¼Œç¡®ä¿æ¯æ­¥æ¨ç†å‡å…·æœ‰å¯æ‰§è¡Œæ€§ä¸æ˜ç¡®ã€å¯éªŒè¯çš„è¾“å‡ºï¼›</li>
<li>Observationï¼ˆè§‚å¯Ÿï¼‰ï¼šä»£ç æ‰§è¡Œåçš„ç¯å¢ƒåé¦ˆï¼ŒåŒ…å«å…·ä½“ç»“æœå’ŒçŠ¶æ€ä¿¡æ¯ï¼Œä¸ºåç»­æ¨ç†æ­¥éª¤æä¾›å®æ—¶ä¸Šä¸‹æ–‡æ”¯æŒã€‚</li>
</ul>
<p>è¿™ä¸€è®¾è®¡å……åˆ†æ¨¡æ‹Ÿäº†äººç±»åœ¨è§£å†³å¤æ‚é—®é¢˜æ—¶â€œæ€è€ƒâ†’è¡ŒåŠ¨â†’è§‚å¯Ÿâ†’å†æ€è€ƒâ€çš„æ€ç»´é—­ç¯ï¼Œä¿éšœäº†æ¨ç†æµç¨‹çš„é€æ˜æ€§å’Œè¿‡ç¨‹çš„å¯å¤ç°æ€§ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„è½¨è¿¹ç¤ºä¾‹ï¼Œå±•ç¤ºæ•™å¸ˆæ¨¡å‹å¦‚ä½•æ ¹æ®é¢˜æ„åŠ¨æ€æ‹†è§£é—®é¢˜ã€ç”Ÿæˆå·¥å…·è°ƒç”¨ä»£ç ï¼Œå¹¶æ ¹æ®ä»£ç æ‰§è¡Œçš„åé¦ˆè°ƒæ•´åç»­æ­¥éª¤ï¼š</p>









































<table><thead><tr><th>Question</th><th>InÂ howÂ manyÂ waysÂ canÂ 6Â girlsÂ andÂ 2Â boysÂ sitÂ inÂ aÂ rowÂ ifÂ theÂ 2Â boysÂ sitÂ nextÂ toÂ eachÂ other?</th></tr></thead><tbody><tr><td>ThoughtÂ 1Â ï¼ˆTeacherï¼‰</td><td>First,Â IÂ needÂ toÂ treatÂ theÂ 2Â boysÂ asÂ aÂ singleÂ unit,Â whichÂ meansÂ IÂ haveÂ 7Â unitsÂ toÂ arrange.Â IÂ willÂ calculateÂ theÂ numberÂ ofÂ ways.</td></tr><tr><td>CodeÂ 1Â ï¼ˆTeacherï¼‰</td><td>importÂ math<br/>ways_wo_boys_togetherÂ =Â math.factorial(7)<br/>print(ways_wo_boys_togetherÂ )</td></tr><tr><td>ObservationÂ 1</td><td>5040</td></tr><tr><td>ThoughtÂ 2Â ï¼ˆTeacherï¼‰</td><td>TheÂ boysÂ canÂ switchÂ placesÂ withinÂ theirÂ unit,Â IÂ willÂ multiplyÂ itÂ byÂ 2.</td></tr><tr><td>CodeÂ 2Â ï¼ˆTeacherï¼‰</td><td>waysÂ =Â ways_wo_boys_togetherÂ *Â 2<br/>print(ways)</td></tr><tr><td>ObservationÂ 2</td><td>10080</td></tr><tr><td>ThoughtÂ 3Â ï¼ˆTeacherï¼‰</td><td>IÂ willÂ provideÂ theÂ trueÂ answer.</td></tr><tr><td>CodeÂ 3Â ï¼ˆTeacherï¼‰</td><td>print(â€œThereÂ areÂ 10080Â ways.â€)</td></tr></tbody></table>
<p>é€šè¿‡æ„å»ºè‡ªåŠ¨åŒ–çš„æ•°æ®ç”Ÿæˆæµæ°´çº¿ï¼Œå¹¶ç»“åˆåˆ†å¸ƒå¼é«˜æ€§èƒ½è®¡ç®—èµ„æºï¼Œæˆ‘ä»¬èƒ½å¤Ÿé«˜æ•ˆäº§å‡ºå¤§è§„æ¨¡ã€å¤šæ ·åŒ–çš„æ•™å¸ˆè½¨è¿¹æ•°æ®é›†ã€‚æ•´ä¸ªæµç¨‹åŒ…æ‹¬ä»»åŠ¡æŒ‡ä»¤å‘èµ·ã€æ•™å¸ˆæ¨¡å‹æ¨ç†æ‰§è¡Œã€ä»£ç è¿è¡Œç¯å¢ƒåé¦ˆé‡‡é›†ä»¥åŠè½¨è¿¹ç»“æœçš„éªŒè¯ä¸ç­›é€‰ç­‰æ­¥éª¤ï¼Œå½¢æˆé—­ç¯ï¼Œä»è€Œä¿è¯æ•°æ®ç”Ÿæˆçš„ç¨³å®šæ€§ä¸å¯æ‰©å±•æ€§ã€‚</p>
<h3 data-id="heading-4">è¡Œä¸ºå…‹éš†è®­ç»ƒ</h3>
<p>é€šè¿‡æ¨¡ä»¿æ•™å¸ˆæ¨¡å‹çš„æ¨ç†ä¸æ‰§è¡Œè½¨è¿¹ï¼Œè¡Œä¸ºå…‹éš†è®­ç»ƒä½¿å­¦ç”Ÿæ¨¡å‹é€æ­¥å­¦ä¼šå¦‚ä½•å°†å¤æ‚é—®é¢˜æ‹†è§£ä¸ºæœ‰åºçš„æ­¥éª¤ï¼Œå¹¶èƒ½å¤ŸåŸºäºä¸Šä¸‹æ–‡ç”Ÿæˆåˆç†çš„æ¨ç†æ€è·¯å’Œå¯æ‰§è¡Œä»£ç ï¼Œä»è€Œå®ç°å¯¹ä»»åŠ¡çš„åŸºæœ¬æŒæ§ã€‚è¡Œä¸ºå…‹éš†è®­ç»ƒé‡‡ç”¨æ ‡å‡†çš„ç›‘ç£å­¦ä¹ æ¡†æ¶ï¼Œå…¶ç›®æ ‡æ˜¯æœ€å¤§åŒ–å­¦ç”Ÿæ¨¡å‹åœ¨è®­ç»ƒè½¨è¿¹æ•°æ®ä¸Šç”Ÿæˆæ•™å¸ˆåŠ¨ä½œçš„æ¦‚ç‡ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51f68adec91447ad80ddffa937840e48~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768385337&amp;x-signature=S1TqVvCTS2uPygyIWuGwcS7cXf8%3D" alt="60f7b6733910467dbb2e4bbe8ccb84ec.png" loading="lazy"/></p>
<p>ç»è¿‡è¡Œä¸ºå…‹éš†é˜¶æ®µçš„è®­ç»ƒï¼Œå­¦ç”Ÿæ¨¡å‹è¡¨ç°å‡ºä»¥ä¸‹èƒ½åŠ›æå‡ï¼š</p>
<ul>
<li>
<p>å¤šæ­¥é€»è¾‘æ‹†è§£èƒ½åŠ›ï¼šæ¨¡å‹èƒ½å¤ŸåŸºäºé—®é¢˜æè¿°åˆç†åˆ†è§£æ­¥éª¤ï¼Œä»¥ç¬¦åˆé€»è¾‘çš„è‡ªç„¶è¯­è¨€æ€ç»´æŒ‡å¯¼é—®é¢˜æ±‚è§£ï¼›</p>
</li>
<li>
<p>å‡†ç¡®ä»£ç ç”Ÿæˆï¼šå­¦ç”Ÿæ¨¡å‹ç”Ÿæˆçš„ä»£ç åœ¨è¯­æ³•å’ŒåŠŸèƒ½ä¸Šè¡¨ç°æ˜æ˜¾æå‡ï¼Œç¡®ä¿è¡ŒåŠ¨æ­¥éª¤å¯æ‰§è¡Œä¸”è¾“å‡ºç»“æœæœ‰æ•ˆï¼›</p>
</li>
<li>
<p>åŠ¨æ€åé¦ˆé€‚åº”ï¼šæ¨¡å‹èƒ½å¤Ÿæœ‰æ•ˆåˆ©ç”¨ç¯å¢ƒåé¦ˆè°ƒæ•´æ¨ç†çŠ¶æ€ï¼Œå±•ç°äº†ä¸€å®šç¨‹åº¦çš„é—­ç¯æ¨ç†èƒ½åŠ›ã€‚</p>
</li>
</ul>
<p>è¯¥é˜¶æ®µçš„è®­ç»ƒæ˜¾è‘—é™ä½äº†åç»­è®­ç»ƒçš„éš¾åº¦å’Œå¤æ‚åº¦ã€‚</p>
<h3 data-id="heading-5">æ•™å¸ˆçº é”™è®­ç»ƒ</h3>
<p>åœ¨å®Œæˆè¡Œä¸ºå…‹éš†è®­ç»ƒåï¼Œå­¦ç”Ÿæ¨¡å‹å·²ç»å…·å¤‡äº†åŸºæœ¬çš„å¤šæ­¥æ¨ç†ä¸å·¥å…·è°ƒç”¨èƒ½åŠ›ï¼Œä½†åœ¨é¢å¯¹æœªè§ä»»åŠ¡åœºæ™¯æ—¶ï¼Œä»ç„¶å¯èƒ½å‡ºç°æ¨ç†æ¼æ´æˆ–æ‰§è¡Œé”™è¯¯ã€‚ä¸ºäº†ä¿ƒè¿›å­¦ç”Ÿæ¨¡å‹èƒ½åŠ›çš„åŠ¨æ€è‡ªé€‚åº”æå‡ï¼Œæœ¬é˜¶æ®µæ—¨åœ¨è®©å­¦ç”Ÿæ¨¡å‹åœ¨å…¨æ–°ä»»åŠ¡ä¸­ä¸»åŠ¨è¿›è¡Œâ€œæ€è€ƒ-æ‰§è¡Œ-è§‚å¯Ÿâ€çš„é—­ç¯æ¨ç†ï¼Œè‡ªä¸»å°è¯•è§£å†³é—®é¢˜ï¼Œå¹¶ç»“åˆæ•™å¸ˆæ¨¡å‹çš„é’ˆå¯¹æ€§çº é”™è¾…å¯¼ï¼Œå®ç°èƒ½åŠ›çš„ç²¾å‡†åŒ¹é…ä¸æŒç»­ä¼˜åŒ–ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼Œåœ¨ä»»åŠ¡ç¯å¢ƒä¸­ï¼Œå­¦ç”Ÿæ¨¡å‹æ¥æ”¶é—®é¢˜è¾“å…¥åï¼ŒæŒ‰ç…§Â ReActÂ èŒƒå¼ç”Ÿæˆä¸€ç³»åˆ—è½¨è¿¹æ­¥éª¤ï¼Œæ¯ä¸€æ­¥å‡åŒ…å«è‡ªç„¶è¯­è¨€æ¨ç†ï¼ˆThoughtï¼‰ã€å¯¹åº”ä»£ç æ‰§è¡Œï¼ˆCodeï¼‰åŠç¯å¢ƒåé¦ˆï¼ˆObservationï¼‰ã€‚é€šè¿‡è®©å­¦ç”Ÿæ¨¡å‹çœŸå®åœ°â€œè‡ªå·±åŠ¨æ‰‹â€è§£é¢˜ï¼Œä¸»åŠ¨ä¸ç¯å¢ƒäº¤äº’ç”Ÿæˆå®Œæ•´çš„æ¨ç†è½¨è¿¹ï¼Œæˆ‘ä»¬å¤§å¤§å‡å°‘äº†ä¼ ç»Ÿè¡Œä¸ºå…‹éš†ä¸­ç”±äºâ€œæ¨¡ä»¿åˆ†å¸ƒæ¼‚ç§»â€å¸¦æ¥çš„è®­ç»ƒåå·®ï¼Œä½¿è®­ç»ƒæ•°æ®æ›´åŠ è´´è¿‘çœŸå®æ¨ç†è¡Œä¸ºã€‚</p>
<p>ä¾‹å¦‚ï¼Œé’ˆå¯¹é¢˜ç›®â€œ6ä¸ªå¥³å­©å’Œ2ä¸ªç”·å­©æ’æˆä¸€æ’ï¼Œè¦æ±‚2ä¸ªç”·å­©ç›¸é‚»ï¼Œæœ‰å¤šå°‘ç§æ’æ³•ï¼Ÿâ€ï¼Œå­¦ç”Ÿæ¨¡å‹çš„æ€è€ƒå’Œæ‰§è¡Œå¯èƒ½å‡ºç°å¦‚ä¸‹æƒ…å†µï¼š</p>

































<table><thead><tr><th>Question</th><th>InÂ howÂ manyÂ waysÂ canÂ 6Â girlsÂ andÂ 2Â boysÂ sitÂ inÂ aÂ rowÂ ifÂ theÂ 2Â boysÂ sitÂ nextÂ toÂ eachÂ other?</th></tr></thead><tbody><tr><td>ThoughtÂ 1Â ï¼ˆStudentï¼‰</td><td>First,Â IÂ needÂ toÂ treatÂ theÂ 2Â boysÂ asÂ aÂ singleÂ unit,Â whichÂ meansÂ IÂ haveÂ 7Â unitsÂ toÂ arrange.Â IÂ willÂ calculateÂ theÂ numberÂ ofÂ ways.</td></tr><tr><td>CodeÂ 1Â ï¼ˆStudentï¼‰</td><td>importÂ math<br/>ways_wo_boys_togetherÂ =Â math.factorial(7)<br/>print(ways_wo_boys_togetherÂ )</td></tr><tr><td>ObservationÂ 1</td><td>5040</td></tr><tr><td>ThoughtÂ 2Â ï¼ˆStudentï¼‰</td><td>TheÂ boysÂ areÂ aÂ singleÂ unit,Â theÂ waysÂ equalÂ toÂ ways_wo_boys_together</td></tr><tr><td>CodeÂ 2Â ï¼ˆStudentï¼‰</td><td>waysÂ =Â ways_wo_boys_together<br/>print(ways)</td></tr><tr><td>ObservationÂ 2</td><td>5040</td></tr></tbody></table>
<p>æ­¤å¤„ï¼Œå­¦ç”Ÿæ¨¡å‹åœ¨ç¬¬äºŒæ­¥æœªè€ƒè™‘ç”·å­©å†…éƒ¨ä½ç½®çš„äº¤æ¢ï¼Œå¯¼è‡´ç»“æœå‡ºç°åå·®ã€‚æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç»è¿‡æ•™å¸ˆçº é”™å’Œä¿®æ­£çš„å®Œæ•´è½¨è¿¹ï¼Œä½œä¸ºæ›´è´´åˆå­¦ç”Ÿå½“å‰èƒ½åŠ›çš„è®­ç»ƒæ ·æœ¬ã€‚è¿™æ ·ï¼Œæ¨¡å‹æ—¢èƒ½å­¦ä¹ å…³é”®é”™è¯¯çš„æ›´æ­£è¿‡ç¨‹ï¼Œåˆèƒ½é¿å…åœ¨çº¯æ¨¡ä»¿è®­ç»ƒä¸­å› é”™è¯¯è½¨è¿¹æœªåŠ æ§åˆ¶è€Œå¯¼è‡´çš„è¯¯å·®å¿«é€Ÿç´¯è®¡ä¸æŒ‡æ•°çº§æ‰©æ•£ã€‚æŠ€æœ¯å®ç°ä¸Šï¼Œæœ¬é˜¶æ®µè®­ç»ƒæ—¶ï¼Œæ¨¡å‹ä»¥åˆå§‹è¡Œä¸ºå…‹éš†é˜¶æ®µçš„æƒé‡ä¸ºåŸºç¡€ï¼Œåˆ©ç”¨æ•™å¸ˆä¿®æ­£åçš„è½¨è¿¹ä½œä¸ºè®­ç»ƒè¾“å…¥ï¼Œå¹¶æ²¿ç”¨ç¬¬ä¸€é˜¶æ®µçš„äº¤å‰ç†µç›‘ç£æŸå¤±ã€‚æ­¤ä¸¾èƒ½å¤Ÿæœ‰æ•ˆå¼•å¯¼æ¨¡å‹çº æ­£å…¶å±€éƒ¨é”™è¯¯ï¼ŒæŒç»­æå‡æ¨ç†ä¸å·¥å…·è°ƒç”¨çš„å‡†ç¡®æ€§ä¸é²æ£’æ€§ã€‚</p>
<h3 data-id="heading-6">å®éªŒæ•ˆæœè¯„æµ‹</h3>
<p>ä¸ºéªŒè¯é¢å‘Â InterleavedÂ ThinkingÂ çš„è’¸é¦æ–¹æ³•åœ¨çœŸå®Â AgentÂ ä»»åŠ¡ä¸­çš„ä¼˜åŠ¿ï¼Œæˆ‘ä»¬åœ¨å¤šç±»Â AgentÂ åŸºå‡†ä»»åŠ¡ä¸Šå¯¹è’¸é¦æ¨¡å‹è¿›è¡Œäº†è¯„æµ‹ä¸å¯¹æ¯”ã€‚å…·ä½“åŒ…æ‹¬ä»¥ä¸‹ä»»åŠ¡å’Œè¯„æµ‹åŸºå‡†ï¼š</p>
<ul>
<li>
<p>æ•°å­¦æ¨ç†ï¼ˆéœ€é¢‘ç¹è°ƒç”¨Â PythonÂ å·¥å…·ï¼‰ï¼šAIME2024ã€AIME2025ã€MATH500ã€OlymMath</p>
<ul>
<li>æŒ‡æ ‡ï¼šåˆ¤æ–­æœ€ç»ˆç­”æ¡ˆçš„æ­£ç¡®æ€§</li>
</ul>
</li>
<li>
<p>äº‹å®Â /Â å¤šè·³é—®ç­”ï¼ˆéœ€æœç´¢å·¥å…·ï¼‰ï¼šHotpotQAã€2WikiMultihopQAã€MuSiQã€Bamboogle</p>
<ul>
<li>æŒ‡æ ‡ï¼štoken-levelÂ F1</li>
</ul>
</li>
<li>
<p>DeepÂ Searchï¼šGAIAã€WebWalkerã€HLEã€xBench</p>
<ul>
<li>æŒ‡æ ‡ï¼šä½¿ç”¨Â LLM-as-a-judgeÂ åˆ¤å®šæ­£ç¡®æ€§</li>
</ul>
</li>
</ul>
<p>åœ¨å·¥å…·è®¾ç½®ä¸Šï¼Œæ•°å­¦æ¨ç†é—®é¢˜é‡‡ç”¨Â PythonÂ è§£é‡Šå™¨ï¼Œäº‹å®é—®ç­”ä»»åŠ¡åˆ™ä½¿ç”¨åœ¨çº¿æœç´¢Â APIÂ snippetï¼ˆä¸åŒ…å«æµè§ˆå™¨åŠŸèƒ½ï¼‰ï¼Œä»¥é™ä½å·¥å…·è°ƒç”¨æˆæœ¬å’Œæ—¶å»¶ã€‚</p>
<p>å®éªŒç»“æœè¡¨æ˜ï¼Œé¢å‘Â InterleavedÂ ThinkingÂ çš„è’¸é¦æ¡†æ¶èƒ½å¤Ÿæ˜¾è‘—æå‡å°æ¨¡å‹åœ¨å¤šæ­¥æ¨ç†ä¸å·¥å…·è°ƒç”¨ä»»åŠ¡ä¸­çš„ç¨³å®šæ€§å’ŒæˆåŠŸç‡ã€‚å…·ä½“è€Œè¨€ï¼Œç»è¿‡ä¸Šè¿°æ¨¡å‹è’¸é¦è®­ç»ƒï¼Œåœ¨æ•°å­¦æ¨ç†å’Œäº‹å®Â /Â å¤šè·³é—®ç­”ä»»åŠ¡ä¸Šï¼Œ7BÂ æ¨¡å‹çš„æ•ˆæœå·²è¶…è¿‡Â 32BÂ æ¨¡å‹ï¼Œå¹¶æ¥è¿‘Â 72BÂ æ¨¡å‹çš„è¡¨ç°ï¼›åœ¨Â DeepÂ SearchÂ ä»»åŠ¡ä¸Šï¼Œ8BÂ æ¨¡å‹çš„ç»“æœä¹Ÿä¸Â 72BÂ æ¨¡å‹æ¥è¿‘ã€‚</p>













































































<table><thead><tr><th><strong>Method</strong></th><th><strong>MathematicalÂ Reasoning</strong></th><th/><th/><th/><th><strong>FactualÂ Reasoning</strong></th><th/><th/><th/><th><strong>Avg.</strong></th></tr></thead><tbody><tr><td/><td>AIME24</td><td>AIME25</td><td>MATH500</td><td>OlymM</td><td>HQA</td><td>2Wiki</td><td>MuSiQ</td><td>Bamb</td><td/></tr><tr><td>Qwen2.5-72B-InstructÂ (å¤§æ¨¡å‹Â ç›´æ¥è°ƒç”¨å·¥å…·)</td><td>33.3</td><td>40.0</td><td>77.4</td><td>17.0</td><td>60.5</td><td>75.5</td><td>36.8</td><td>73.2</td><td>51.7</td></tr><tr><td>Qwen2.5-32B-InstructÂ (å¤§æ¨¡å‹Â ç›´æ¥è°ƒç”¨å·¥å…·)</td><td>30.0</td><td>23.3</td><td>74.0</td><td>18.0</td><td>54.9</td><td>64.9</td><td>26.9</td><td>67.8</td><td>45.0</td></tr><tr><td>Qwen2.5-7B-InstructÂ (AgentKD)</td><td>26.7</td><td>16.7</td><td>73.4</td><td>18.5</td><td>59.5</td><td>72.8</td><td>29.2</td><td>69.8</td><td>45.8</td></tr><tr><td>Qwen2.5-3B-InstructÂ (AgentKD)</td><td>20.0</td><td>13.3</td><td>67.0</td><td>12.5</td><td>55.9</td><td>71.6</td><td>27.8</td><td>67.5</td><td>41.9</td></tr></tbody></table>

















































<table><thead><tr><th><strong>Method</strong></th><th><strong>GAIA</strong></th><th/><th/><th/><th><strong>HLE</strong></th><th><strong>XBench</strong></th><th><strong>WebWalker</strong></th><th><strong>Avg.</strong></th></tr></thead><tbody><tr><td/><td>GAIA-1</td><td>GAIA-2</td><td>GAIA-3</td><td>Avg.</td><td/><td/><td/><td/></tr><tr><td>Qwen2.5-72B-InstructÂ (å¤§æ¨¡å‹ç›´æ¥è°ƒç”¨å·¥å…·)</td><td>30.8</td><td>36.5</td><td>16.7</td><td>32.0</td><td>7.8</td><td>31.0</td><td>38.5</td><td>27.3</td></tr><tr><td>Qwen3-8BÂ (AgentKD)</td><td>35.9</td><td>26.9</td><td>8.3</td><td>28.2</td><td>10.0</td><td>22.0</td><td>41.5</td><td>25.4</td></tr></tbody></table>
<h2 data-id="heading-7">EasyDistillåº”ç”¨å®è·µ</h2>
<p>åœ¨Â EasyDistillÂ å¼€æºæ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬æ”¯æŒäº†ä¸Šæ–‡æåˆ°çš„é¢å‘Â InterleavedÂ ThinkingÂ çš„å¤§æ¨¡å‹Agentè’¸é¦è®­ç»ƒã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬ç»™å‡ºå…·ä½“çš„åº”ç”¨å®è·µç¤ºä¾‹ã€‚</p>
<h3 data-id="heading-8">é¡¹ç›®ä¸»ä½“æ¡†æ¶</h3>
<p>EasyDistillÂ çš„Â AgentÂ è’¸é¦æ¨¡å—ä¸»è¦åŸºäºÂ langgraphÂ æ¡†æ¶ï¼Œç”¨äºÂ AgentÂ æ¨ç†è½¨è¿¹ç”Ÿæˆï¼Œä»¥åŠåŸºäºè¯¥è½¨è¿¹çš„å°å‹Â AgentÂ æ¨¡å‹è’¸é¦è®­ç»ƒï¼Œå…¶é¡¹ç›®ä¸»ä½“æ¡†æ¶å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-plain" lang="plain">.
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ agentkd_local.json      # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/
â”‚   â””â”€â”€ agent_demo.jsonl    # åŸå§‹æ•°æ®æº
â”‚   â””â”€â”€ agent_demo_labeled.jsonl    # ç”Ÿæˆçš„æ¨ç†è½¨è¿¹
â”œâ”€â”€ easydistill/agentkd
â”‚   â””â”€â”€ infer.py        # agentæ¨ç†è½¨è¿¹ç”Ÿæˆ
â”‚   â””â”€â”€ train.py        # è’¸é¦è®­ç»ƒè„šæœ¬
</code></pre>
<h3 data-id="heading-9">å®è·µåº”ç”¨ç¤ºä¾‹</h3>
<ol>
<li>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¿›è¡Œæ•°æ®å‡†å¤‡å·¥ä½œã€‚æ•°æ®é›†æ ¼å¼æ”¯æŒ.jsonlï¼Œæˆ‘ä»¬å·²ç»åœ¨Â data/agent_demo.jsonlÂ ä¸­æä¾›äº†ç¤ºä¾‹æ•°æ®ã€‚æ¯æ¡æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"question"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"TLDR"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"solution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"TLDR"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"true_answer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"TLDR"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
<li>
<p>æ¥ç€ï¼Œæˆ‘ä»¬é…ç½®è®­ç»ƒæ‰€éœ€å‚æ•°ï¼Œconfigs/agentkd_local.jsonÂ åŒ…å«äº†ç”ŸæˆÂ AgentÂ è½¨è¿¹å’Œè’¸é¦è®­ç»ƒæ‰€éœ€çš„å…¨éƒ¨å‚æ•°é…ç½®ä¿¡æ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"job_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"agentkd_local"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dataset"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"instruction_path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"data/agent_demo.jsonl"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"labeled_path_raw"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"data/agent_demo_labeled_raw.jsonl"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"labeled_path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"data/agent_demo_labeled.json"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"models"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"teacher"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Qwen/Qwen2.5-72B-Instruct"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"student"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Qwen/Qwen2.5-7B-Instruct"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"inference"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span>
        ...
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"training"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
       ...
    <span class="hljs-punctuation">}</span>
    
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
<li>
<p>ä½¿ç”¨Â å‘½ä»¤ä¸€é”®ç”ŸæˆAgentè½¨è¿¹æ•°æ®å’Œæ‹‰èµ·è®­ç»ƒä»»åŠ¡</p>
</li>
</ol>
<pre><code class="hljs language-json" lang="json">easydistill --config configs/agentkd_local.json
</code></pre>
<p>è¯¥å‘½ä»¤ä¼šåŸºäºæºæ•°æ®Â data/agent_demo.jsonlÂ ç”ŸæˆÂ åŸå§‹AgentÂ æ¨ç†è½¨è¿¹ï¼Œå¹¶å°†å…¶è¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œæœ€ç»ˆç”Ÿæˆç›´æ¥å¯ç”¨äºè®­ç»ƒçš„è½¨è¿¹æ•°æ®ï¼ˆå®é™…ä½¿ç”¨ä¸­å¯æ ¹æ®éœ€è¦è°ƒæ•´æ¨ç†å‚æ•°ï¼‰ï¼Œå³Â data/agent_demo_labeled.jsonï¼Œç¤ºä¾‹æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"conversations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"human"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A pool has 48 blue tiles and 32 red tiles. If the pool needs 100 tiles to be completed, how many more tiles are needed?"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gpt"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&lt;first_thought&gt;Calculate the total number of tiles currently in the pool, then subtract this number from the total number of tiles needed to find out how many more tiles are required.&lt;/first_thought&gt;"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"human"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Observation: None"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gpt"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&lt;thought&gt;I need to calculate the total number of tiles currently in the pool and then find out how many more tiles are needed to reach 100 tiles.&lt;/thought&gt;&lt;code&gt;# Calculate the total number of tiles currently in the pool\nblue_tiles = 48\nred_tiles = 32\ntotal_tiles_current = blue_tiles + red_tiles\n\n# Calculate how many more tiles are needed\ntiles_needed = 100 - total_tiles_current\nprint(tiles_needed)&lt;/code&gt;"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"human"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Observation: 20"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gpt"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&lt;thought&gt;I have already calculated the number of tiles needed to complete the pool, which is 20. Now, I need to format this number as a final answer in LaTeX format.&lt;/thought&gt;&lt;code&gt;final_answer_print(r\"\boxed{20}\")&lt;/code&gt;"</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p>åŸºäºç”Ÿæˆçš„Â AgentÂ æ¨ç†è½¨è¿¹ï¼ˆdata/agent_demo_labeled.jsonï¼‰ï¼Œè¯¥å‘½ä»¤å°†è‡ªåŠ¨è¿›è¡Œæœ€ç»ˆçš„è’¸é¦è®­ç»ƒã€‚åŒæ ·åœ°ï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­å¯æ ¹æ®éœ€è¦ä¿®æ”¹Â configs/agentkd_local.jsonÂ ä¸­çš„è®­ç»ƒå‚æ•°ã€‚</p>
<h2 data-id="heading-10">æœ¬æ–‡å°ç»“</h2>
<p>æœ¬æ–‡å›´ç»•é¢å‘Â InterleavedÂ ThinkingÂ çš„å¤§æ¨¡å‹Â AgentÂ è’¸é¦ï¼Œç³»ç»Ÿä»‹ç»äº†åŸºäºåŠ¨æ€äº¤é”™æ¨ç†æœºåˆ¶çš„è®­ç»ƒæ•°æ®æ„å»ºä¸è’¸é¦ç®—æ³•è®¾è®¡æ–¹æ³•ã€‚é€šè¿‡å¼•å…¥ç¬¦åˆäº¤é”™æ€ç»´ç‰¹ç‚¹çš„å¤šè½®äº¤äº’æ•°æ®åŠä¸“é—¨çš„è’¸é¦ç­–ç•¥ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè®­ç»ƒå‡ºè½»é‡ã€é«˜æ•ˆä¸”å…·å¤‡å¼ºæ¨ç†èƒ½åŠ›çš„Â AgentÂ æ¨¡å‹ï¼Œæœ‰æ•ˆæå‡æ¨¡å‹åœ¨å¤æ‚ä»»åŠ¡ä¸­çš„è¡¨ç°å’Œå“åº”é€Ÿåº¦ã€‚è¿™ä¸ä»…çªç ´äº†ä¼ ç»ŸÂ CoTÂ æ¨ç†é“¾åœ¨å¤šè½®äº¤äº’åœºæ™¯ä¸‹çš„å±€é™ï¼Œä¹Ÿä¸ºæ™ºèƒ½ä½“ç³»ç»Ÿçš„è§„æ¨¡åŒ–åº”ç”¨å¥ å®šäº†åšå®åŸºç¡€ã€‚å±•æœ›æœªæ¥ï¼Œæˆ‘ä»¬å°†åŸºäºÂ EasyDistillÂ æ¡†æ¶è¿›ä¸€æ­¥å¼€æºæ›´å¤šÂ AgentÂ è’¸é¦ç›¸å…³çš„ç®—æ³•ä¸æ¨¡å‹ã€‚æ¬¢è¿å¤§å®¶åŠ å…¥æˆ‘ä»¬ï¼Œå…±åŒäº¤æµå¤§æ¨¡å‹è’¸é¦æŠ€æœ¯ï¼</p>
<h2 data-id="heading-11">å‚è€ƒå·¥ä½œ</h2>
<p>EasyDistillÂ ç³»åˆ—ç›¸å…³è®ºæ–‡</p>
<ul>
<li>WenruiÂ Cai,Â ChengyuÂ Wang,Â JunbingÂ Yan,Â JunÂ Huang,Â XiangzhongÂ Fang.Â ReasoningÂ withÂ OmniThought:Â AÂ LargeÂ CoTÂ DatasetÂ withÂ VerbosityÂ andÂ CognitiveÂ DifficultyÂ Annotations.Â arXivÂ preprint</li>
</ul>

<ul>
<li>
<p>YuanjieÂ Lyu,Â ChengyuÂ Wang,Â JunÂ Huang,Â TongÂ Xu.Â FromÂ CorrectionÂ toÂ Mastery:Â ReinforcedÂ DistillationÂ ofÂ LargeÂ LanguageÂ ModelÂ Agents.Â arXivÂ preprint</p>
</li>
<li>
<p>ChengyuÂ Wang,Â JunbingÂ Yan,Â WenruiÂ Cai,Â YuanhaoÂ Yue,Â JunÂ Huang.Â EasyDistill:Â AÂ ComprehensiveÂ ToolkitÂ forÂ EffectiveÂ KnowledgeÂ DistillationÂ ofÂ LargeÂ LanguageÂ Models.Â <strong>EMNLPÂ 2025</strong></p>
</li>
<li>
<p>WenruiÂ Cai,Â ChengyuÂ Wang,Â JunbingÂ Yan,Â JunÂ Huang,Â XiangzhongÂ Fang.Â ThinkingÂ withÂ DistilQwen:Â AÂ TaleÂ ofÂ FourÂ DistilledÂ ReasoningÂ andÂ RewardÂ ModelÂ Series.Â <strong>EMNLPÂ 2025</strong></p>
</li>
<li>
<p>WenruiÂ Cai,Â ChengyuÂ Wang,Â JunbingÂ Yan,Â JunÂ Huang,Â XiangzhongÂ Fang.Â EnhancingÂ ReasoningÂ AbilitiesÂ ofÂ SmallÂ LLMsÂ withÂ CognitiveÂ Alignment.Â <strong>EMNLPÂ 2025</strong></p>
</li>
<li>
<p>ChengyuÂ Wang,Â JunbingÂ Yan,Â YuanhaoÂ Yue,Â JunÂ Huang.Â DistilQwen2.5:Â IndustrialÂ PracticesÂ ofÂ TrainingÂ DistilledÂ OpenÂ LightweightÂ LanguageÂ Models.Â <strong>ACLÂ 2025</strong></p>
</li>
<li>
<p>YuanhaoÂ Yue,Â ChengyuÂ Wang,Â JunÂ Huang,Â PengÂ Wang.Â BuildingÂ aÂ FamilyÂ ofÂ DataÂ AugmentationÂ ModelsÂ forÂ Low-costÂ LLMÂ Fine-tuningÂ onÂ theÂ Cloud.Â <strong>COLINGÂ 2025</strong></p>
</li>
<li>
<p>YuanhaoÂ Yue,Â ChengyuÂ Wang,Â JunÂ Huang,Â PengÂ Wang.Â DistillingÂ Instruction-followingÂ AbilitiesÂ ofÂ LargeÂ LanguageÂ ModelsÂ withÂ Task-awareÂ CurriculumÂ Planning.Â <strong>EMNLPÂ 2024</strong></p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>